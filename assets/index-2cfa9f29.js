(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function ute(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var E7={exports:{}},kb={},w7={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_=Symbol.for("react.element"),dte=Symbol.for("react.portal"),hte=Symbol.for("react.fragment"),pte=Symbol.for("react.strict_mode"),fte=Symbol.for("react.profiler"),_te=Symbol.for("react.provider"),mte=Symbol.for("react.context"),vte=Symbol.for("react.forward_ref"),gte=Symbol.for("react.suspense"),bte=Symbol.for("react.memo"),yte=Symbol.for("react.lazy"),tA=Symbol.iterator;function Ete(n){return n===null||typeof n!="object"?null:(n=tA&&n[tA]||n["@@iterator"],typeof n=="function"?n:null)}var x7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k7=Object.assign,S7={};function I0(n,t,e){this.props=n,this.context=t,this.refs=S7,this.updater=e||x7}I0.prototype.isReactComponent={};I0.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};I0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function T7(){}T7.prototype=I0.prototype;function v6(n,t,e){this.props=n,this.context=t,this.refs=S7,this.updater=e||x7}var g6=v6.prototype=new T7;g6.constructor=v6;k7(g6,I0.prototype);g6.isPureReactComponent=!0;var rA=Array.isArray,C7=Object.prototype.hasOwnProperty,b6={current:null},I7={key:!0,ref:!0,__self:!0,__source:!0};function N7(n,t,e){var r,a={},o=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)C7.call(t,r)&&!I7.hasOwnProperty(r)&&(a[r]=t[r]);var h=arguments.length-2;if(h===1)a.children=e;else if(1<h){for(var f=Array(h),m=0;m<h;m++)f[m]=arguments[m+2];a.children=f}if(n&&n.defaultProps)for(r in h=n.defaultProps,h)a[r]===void 0&&(a[r]=h[r]);return{$$typeof:w_,type:n,key:o,ref:u,props:a,_owner:b6.current}}function wte(n,t){return{$$typeof:w_,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function y6(n){return typeof n=="object"&&n!==null&&n.$$typeof===w_}function xte(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var iA=/\/+/g;function qE(n,t){return typeof n=="object"&&n!==null&&n.key!=null?xte(""+n.key):t.toString(36)}function tg(n,t,e,r,a){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var u=!1;if(n===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case w_:case dte:u=!0}}if(u)return u=n,a=a(u),n=r===""?"."+qE(u,0):r,rA(a)?(e="",n!=null&&(e=n.replace(iA,"$&/")+"/"),tg(a,t,e,"",function(m){return m})):a!=null&&(y6(a)&&(a=wte(a,e+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(iA,"$&/")+"/")+n)),t.push(a)),1;if(u=0,r=r===""?".":r+":",rA(n))for(var h=0;h<n.length;h++){o=n[h];var f=r+qE(o,h);u+=tg(o,t,e,f,a)}else if(f=Ete(n),typeof f=="function")for(n=f.call(n),h=0;!(o=n.next()).done;)o=o.value,f=r+qE(o,h++),u+=tg(o,t,e,f,a);else if(o==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function pv(n,t,e){if(n==null)return n;var r=[],a=0;return tg(n,r,"","",function(o){return t.call(e,o,a++)}),r}function kte(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var ja={current:null},rg={transition:null},Ste={ReactCurrentDispatcher:ja,ReactCurrentBatchConfig:rg,ReactCurrentOwner:b6};Jt.Children={map:pv,forEach:function(n,t,e){pv(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return pv(n,function(){t++}),t},toArray:function(n){return pv(n,function(t){return t})||[]},only:function(n){if(!y6(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Jt.Component=I0;Jt.Fragment=hte;Jt.Profiler=fte;Jt.PureComponent=v6;Jt.StrictMode=pte;Jt.Suspense=gte;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ste;Jt.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=k7({},n.props),a=n.key,o=n.ref,u=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=b6.current),t.key!==void 0&&(a=""+t.key),n.type&&n.type.defaultProps)var h=n.type.defaultProps;for(f in t)C7.call(t,f)&&!I7.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&h!==void 0?h[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=e;else if(1<f){h=Array(f);for(var m=0;m<f;m++)h[m]=arguments[m+2];r.children=h}return{$$typeof:w_,type:n.type,key:a,ref:o,props:r,_owner:u}};Jt.createContext=function(n){return n={$$typeof:mte,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:_te,_context:n},n.Consumer=n};Jt.createElement=N7;Jt.createFactory=function(n){var t=N7.bind(null,n);return t.type=n,t};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(n){return{$$typeof:vte,render:n}};Jt.isValidElement=y6;Jt.lazy=function(n){return{$$typeof:yte,_payload:{_status:-1,_result:n},_init:kte}};Jt.memo=function(n,t){return{$$typeof:bte,type:n,compare:t===void 0?null:t}};Jt.startTransition=function(n){var t=rg.transition;rg.transition={};try{n()}finally{rg.transition=t}};Jt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Jt.useCallback=function(n,t){return ja.current.useCallback(n,t)};Jt.useContext=function(n){return ja.current.useContext(n)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(n){return ja.current.useDeferredValue(n)};Jt.useEffect=function(n,t){return ja.current.useEffect(n,t)};Jt.useId=function(){return ja.current.useId()};Jt.useImperativeHandle=function(n,t,e){return ja.current.useImperativeHandle(n,t,e)};Jt.useInsertionEffect=function(n,t){return ja.current.useInsertionEffect(n,t)};Jt.useLayoutEffect=function(n,t){return ja.current.useLayoutEffect(n,t)};Jt.useMemo=function(n,t){return ja.current.useMemo(n,t)};Jt.useReducer=function(n,t,e){return ja.current.useReducer(n,t,e)};Jt.useRef=function(n){return ja.current.useRef(n)};Jt.useState=function(n){return ja.current.useState(n)};Jt.useSyncExternalStore=function(n,t,e){return ja.current.useSyncExternalStore(n,t,e)};Jt.useTransition=function(){return ja.current.useTransition()};Jt.version="18.2.0";w7.exports=Jt;var K=w7.exports;const R=ute(K);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tte=K,Cte=Symbol.for("react.element"),Ite=Symbol.for("react.fragment"),Nte=Object.prototype.hasOwnProperty,Ate=Tte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ote={key:!0,ref:!0,__self:!0,__source:!0};function A7(n,t,e){var r,a={},o=null,u=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)Nte.call(t,r)&&!Ote.hasOwnProperty(r)&&(a[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Cte,type:n,key:o,ref:u,props:a,_owner:Ate.current}}kb.Fragment=Ite;kb.jsx=A7;kb.jsxs=A7;E7.exports=kb;var Fa=E7.exports,fw={},O7={exports:{}},Ms={},R7={exports:{}},M7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(ae,oe){var ve=ae.length;ae.push(oe);e:for(;0<ve;){var Re=ve-1>>>1,ue=ae[Re];if(0<a(ue,oe))ae[Re]=oe,ae[ve]=ue,ve=Re;else break e}}function e(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var oe=ae[0],ve=ae.pop();if(ve!==oe){ae[0]=ve;e:for(var Re=0,ue=ae.length,he=ue>>>1;Re<he;){var V=2*(Re+1)-1,Y=ae[V],$=V+1,te=ae[$];if(0>a(Y,ve))$<ue&&0>a(te,Y)?(ae[Re]=te,ae[$]=ve,Re=$):(ae[Re]=Y,ae[V]=ve,Re=V);else if($<ue&&0>a(te,ve))ae[Re]=te,ae[$]=ve,Re=$;else break e}}return oe}function a(ae,oe){var ve=ae.sortIndex-oe.sortIndex;return ve!==0?ve:ae.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,y=null,w=3,x=!1,C=!1,A=!1,L=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ae){for(var oe=e(m);oe!==null;){if(oe.callback===null)r(m);else if(oe.startTime<=ae)r(m),oe.sortIndex=oe.expirationTime,t(f,oe);else break;oe=e(m)}}function O(ae){if(A=!1,N(ae),!C)if(e(f)!==null)C=!0,j(H);else{var oe=e(m);oe!==null&&me(O,oe.startTime-ae)}}function H(ae,oe){C=!1,A&&(A=!1,S(M),M=-1),x=!0;var ve=w;try{for(N(oe),y=e(f);y!==null&&(!(y.expirationTime>oe)||ae&&!re());){var Re=y.callback;if(typeof Re=="function"){y.callback=null,w=y.priorityLevel;var ue=Re(y.expirationTime<=oe);oe=n.unstable_now(),typeof ue=="function"?y.callback=ue:y===e(f)&&r(f),N(oe)}else r(f);y=e(f)}if(y!==null)var he=!0;else{var V=e(m);V!==null&&me(O,V.startTime-oe),he=!1}return he}finally{y=null,w=ve,x=!1}}var D=!1,T=null,M=-1,q=5,z=-1;function re(){return!(n.unstable_now()-z<q)}function pe(){if(T!==null){var ae=n.unstable_now();z=ae;var oe=!0;try{oe=T(!0,ae)}finally{oe?B():(D=!1,T=null)}}else D=!1}var B;if(typeof k=="function")B=function(){k(pe)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=pe,B=function(){ie.postMessage(null)}}else B=function(){L(pe,0)};function j(ae){T=ae,D||(D=!0,B())}function me(ae,oe){M=L(function(){ae(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){C||x||(C=!0,j(H))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var ve=w;w=oe;try{return ae()}finally{w=ve}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,oe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ve=w;w=ae;try{return oe()}finally{w=ve}},n.unstable_scheduleCallback=function(ae,oe,ve){var Re=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Re+ve:Re):ve=Re,ae){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ve+ue,ae={id:v++,callback:oe,priorityLevel:ae,startTime:ve,expirationTime:ue,sortIndex:-1},ve>Re?(ae.sortIndex=ve,t(m,ae),e(f)===null&&ae===e(m)&&(A?(S(M),M=-1):A=!0,me(O,ve-Re))):(ae.sortIndex=ue,t(f,ae),C||x||(C=!0,j(H))),ae},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(ae){var oe=w;return function(){var ve=w;w=oe;try{return ae.apply(this,arguments)}finally{w=ve}}}})(M7);R7.exports=M7;var Rte=R7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D7=K,Os=Rte;function Dn(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L7=new Set,jf={};function qd(n,t){h0(n,t),h0(n+"Capture",t)}function h0(n,t){for(jf[n]=t,n=0;n<t.length;n++)L7.add(t[n])}var ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_w=Object.prototype.hasOwnProperty,Mte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aA={},sA={};function Dte(n){return _w.call(sA,n)?!0:_w.call(aA,n)?!1:Mte.test(n)?sA[n]=!0:(aA[n]=!0,!1)}function Lte(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Ute(n,t,e,r){if(t===null||typeof t>"u"||Lte(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ka(n,t,e,r,a,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var da={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){da[n]=new Ka(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];da[t]=new Ka(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){da[n]=new Ka(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){da[n]=new Ka(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){da[n]=new Ka(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){da[n]=new Ka(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){da[n]=new Ka(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){da[n]=new Ka(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){da[n]=new Ka(n,5,!1,n.toLowerCase(),null,!1,!1)});var E6=/[\-:]([a-z])/g;function w6(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(E6,w6);da[t]=new Ka(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(E6,w6);da[t]=new Ka(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(E6,w6);da[t]=new Ka(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){da[n]=new Ka(n,1,!1,n.toLowerCase(),null,!1,!1)});da.xlinkHref=new Ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){da[n]=new Ka(n,1,!1,n.toLowerCase(),null,!0,!0)});function x6(n,t,e,r){var a=da.hasOwnProperty(t)?da[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ute(t,e,a,r)&&(e=null),r||a===null?Dte(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):a.mustUseProperty?n[a.propertyName]=e===null?a.type===3?!1:"":e:(t=a.attributeName,r=a.attributeNamespace,e===null?n.removeAttribute(t):(a=a.type,e=a===3||a===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var cc=D7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fv=Symbol.for("react.element"),$h=Symbol.for("react.portal"),zh=Symbol.for("react.fragment"),k6=Symbol.for("react.strict_mode"),mw=Symbol.for("react.profiler"),U7=Symbol.for("react.provider"),P7=Symbol.for("react.context"),S6=Symbol.for("react.forward_ref"),vw=Symbol.for("react.suspense"),gw=Symbol.for("react.suspense_list"),T6=Symbol.for("react.memo"),qc=Symbol.for("react.lazy"),F7=Symbol.for("react.offscreen"),oA=Symbol.iterator;function Up(n){return n===null||typeof n!="object"?null:(n=oA&&n[oA]||n["@@iterator"],typeof n=="function"?n:null)}var ui=Object.assign,jE;function tf(n){if(jE===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);jE=t&&t[1]||""}return`
`+jE+n}var KE=!1;function WE(n,t){if(!n||KE)return"";KE=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(n,[],t)}else{try{t.call()}catch(m){r=m}n.call(t.prototype)}else{try{throw Error()}catch(m){r=m}n()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),o=r.stack.split(`
`),u=a.length-1,h=o.length-1;1<=u&&0<=h&&a[u]!==o[h];)h--;for(;1<=u&&0<=h;u--,h--)if(a[u]!==o[h]){if(u!==1||h!==1)do if(u--,h--,0>h||a[u]!==o[h]){var f=`
`+a[u].replace(" at new "," at ");return n.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",n.displayName)),f}while(1<=u&&0<=h);break}}}finally{KE=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?tf(n):""}function Pte(n){switch(n.tag){case 5:return tf(n.type);case 16:return tf("Lazy");case 13:return tf("Suspense");case 19:return tf("SuspenseList");case 0:case 2:case 15:return n=WE(n.type,!1),n;case 11:return n=WE(n.type.render,!1),n;case 1:return n=WE(n.type,!0),n;default:return""}}function bw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case zh:return"Fragment";case $h:return"Portal";case mw:return"Profiler";case k6:return"StrictMode";case vw:return"Suspense";case gw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P7:return(n.displayName||"Context")+".Consumer";case U7:return(n._context.displayName||"Context")+".Provider";case S6:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case T6:return t=n.displayName||null,t!==null?t:bw(n.type)||"Memo";case qc:t=n._payload,n=n._init;try{return bw(n(t))}catch{}}return null}function Fte(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bw(t);case 8:return t===k6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function H7(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hte(n){var t=H7(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var a=e.get,o=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function _v(n){n._valueTracker||(n._valueTracker=Hte(n))}function B7(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=H7(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function Og(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function yw(n,t){var e=t.checked;return ui({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function lA(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=vu(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $7(n,t){t=t.checked,t!=null&&x6(n,"checked",t,!1)}function Ew(n,t){$7(n,t);var e=vu(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?ww(n,t.type,e):t.hasOwnProperty("defaultValue")&&ww(n,t.type,vu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function cA(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function ww(n,t,e){(t!=="number"||Og(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var rf=Array.isArray;function i0(n,t,e,r){if(n=n.options,t){t={};for(var a=0;a<e.length;a++)t["$"+e[a]]=!0;for(e=0;e<n.length;e++)a=t.hasOwnProperty("$"+n[e].value),n[e].selected!==a&&(n[e].selected=a),a&&r&&(n[e].defaultSelected=!0)}else{for(e=""+vu(e),t=null,a=0;a<n.length;a++){if(n[a].value===e){n[a].selected=!0,r&&(n[a].defaultSelected=!0);return}t!==null||n[a].disabled||(t=n[a])}t!==null&&(t.selected=!0)}}function xw(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Dn(91));return ui({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function uA(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Dn(92));if(rf(e)){if(1<e.length)throw Error(Dn(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:vu(e)}}function z7(n,t){var e=vu(t.value),r=vu(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function dA(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function V7(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kw(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?V7(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var mv,G7=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,a){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,a)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(mv=mv||document.createElement("div"),mv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function Kf(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var _f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bte=["Webkit","ms","Moz","O"];Object.keys(_f).forEach(function(n){Bte.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),_f[t]=_f[n]})});function q7(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||_f.hasOwnProperty(n)&&_f[n]?(""+t).trim():t+"px"}function j7(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,a=q7(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,a):n[e]=a}}var $te=ui({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sw(n,t){if(t){if($te[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Dn(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Dn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Dn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Dn(62))}}function Tw(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cw=null;function C6(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Iw=null,a0=null,s0=null;function hA(n){if(n=S_(n)){if(typeof Iw!="function")throw Error(Dn(280));var t=n.stateNode;t&&(t=Nb(t),Iw(n.stateNode,n.type,t))}}function K7(n){a0?s0?s0.push(n):s0=[n]:a0=n}function W7(){if(a0){var n=a0,t=s0;if(s0=a0=null,hA(n),t)for(n=0;n<t.length;n++)hA(t[n])}}function Q7(n,t){return n(t)}function Y7(){}var QE=!1;function X7(n,t,e){if(QE)return n(t,e);QE=!0;try{return Q7(n,t,e)}finally{QE=!1,(a0!==null||s0!==null)&&(Y7(),W7())}}function Wf(n,t){var e=n.stateNode;if(e===null)return null;var r=Nb(e);if(r===null)return null;e=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(Dn(231,t,typeof e));return e}var Nw=!1;if(ic)try{var Pp={};Object.defineProperty(Pp,"passive",{get:function(){Nw=!0}}),window.addEventListener("test",Pp,Pp),window.removeEventListener("test",Pp,Pp)}catch{Nw=!1}function zte(n,t,e,r,a,o,u,h,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(e,m)}catch(v){this.onError(v)}}var mf=!1,Rg=null,Mg=!1,Aw=null,Vte={onError:function(n){mf=!0,Rg=n}};function Gte(n,t,e,r,a,o,u,h,f){mf=!1,Rg=null,zte.apply(Vte,arguments)}function qte(n,t,e,r,a,o,u,h,f){if(Gte.apply(this,arguments),mf){if(mf){var m=Rg;mf=!1,Rg=null}else throw Error(Dn(198));Mg||(Mg=!0,Aw=m)}}function jd(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function Z7(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function pA(n){if(jd(n)!==n)throw Error(Dn(188))}function jte(n){var t=n.alternate;if(!t){if(t=jd(n),t===null)throw Error(Dn(188));return t!==n?null:n}for(var e=n,r=t;;){var a=e.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){e=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===e)return pA(a),n;if(o===r)return pA(a),t;o=o.sibling}throw Error(Dn(188))}if(e.return!==r.return)e=a,r=o;else{for(var u=!1,h=a.child;h;){if(h===e){u=!0,e=a,r=o;break}if(h===r){u=!0,r=a,e=o;break}h=h.sibling}if(!u){for(h=o.child;h;){if(h===e){u=!0,e=o,r=a;break}if(h===r){u=!0,r=o,e=a;break}h=h.sibling}if(!u)throw Error(Dn(189))}}if(e.alternate!==r)throw Error(Dn(190))}if(e.tag!==3)throw Error(Dn(188));return e.stateNode.current===e?n:t}function J7(n){return n=jte(n),n!==null?eD(n):null}function eD(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=eD(n);if(t!==null)return t;n=n.sibling}return null}var nD=Os.unstable_scheduleCallback,fA=Os.unstable_cancelCallback,Kte=Os.unstable_shouldYield,Wte=Os.unstable_requestPaint,wi=Os.unstable_now,Qte=Os.unstable_getCurrentPriorityLevel,I6=Os.unstable_ImmediatePriority,tD=Os.unstable_UserBlockingPriority,Dg=Os.unstable_NormalPriority,Yte=Os.unstable_LowPriority,rD=Os.unstable_IdlePriority,Sb=null,ul=null;function Xte(n){if(ul&&typeof ul.onCommitFiberRoot=="function")try{ul.onCommitFiberRoot(Sb,n,void 0,(n.current.flags&128)===128)}catch{}}var Co=Math.clz32?Math.clz32:ere,Zte=Math.log,Jte=Math.LN2;function ere(n){return n>>>=0,n===0?32:31-(Zte(n)/Jte|0)|0}var vv=64,gv=4194304;function af(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Lg(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,a=n.suspendedLanes,o=n.pingedLanes,u=e&268435455;if(u!==0){var h=u&~a;h!==0?r=af(h):(o&=u,o!==0&&(r=af(o)))}else u=e&~a,u!==0?r=af(u):o!==0&&(r=af(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-Co(t),a=1<<e,r|=n[e],t&=~a;return r}function nre(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tre(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,a=n.expirationTimes,o=n.pendingLanes;0<o;){var u=31-Co(o),h=1<<u,f=a[u];f===-1?(!(h&e)||h&r)&&(a[u]=nre(h,t)):f<=t&&(n.expiredLanes|=h),o&=~h}}function Ow(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function iD(){var n=vv;return vv<<=1,!(vv&4194240)&&(vv=64),n}function YE(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function x_(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Co(t),n[t]=e}function rre(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var a=31-Co(e),o=1<<a;t[a]=0,r[a]=-1,n[a]=-1,e&=~o}}function N6(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-Co(e),a=1<<r;a&t|n[r]&t&&(n[r]|=t),e&=~a}}var Ar=0;function aD(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var sD,A6,oD,lD,cD,Rw=!1,bv=[],tu=null,ru=null,iu=null,Qf=new Map,Yf=new Map,Kc=[],ire="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _A(n,t){switch(n){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":iu=null;break;case"pointerover":case"pointerout":Qf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(t.pointerId)}}function Fp(n,t,e,r,a,o){return n===null||n.nativeEvent!==o?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=S_(t),t!==null&&A6(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),n)}function are(n,t,e,r,a){switch(t){case"focusin":return tu=Fp(tu,n,t,e,r,a),!0;case"dragenter":return ru=Fp(ru,n,t,e,r,a),!0;case"mouseover":return iu=Fp(iu,n,t,e,r,a),!0;case"pointerover":var o=a.pointerId;return Qf.set(o,Fp(Qf.get(o)||null,n,t,e,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Yf.set(o,Fp(Yf.get(o)||null,n,t,e,r,a)),!0}return!1}function uD(n){var t=gd(n.target);if(t!==null){var e=jd(t);if(e!==null){if(t=e.tag,t===13){if(t=Z7(e),t!==null){n.blockedOn=t,cD(n.priority,function(){oD(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ig(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Mw(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);Cw=r,e.target.dispatchEvent(r),Cw=null}else return t=S_(e),t!==null&&A6(t),n.blockedOn=e,!1;t.shift()}return!0}function mA(n,t,e){ig(n)&&e.delete(t)}function sre(){Rw=!1,tu!==null&&ig(tu)&&(tu=null),ru!==null&&ig(ru)&&(ru=null),iu!==null&&ig(iu)&&(iu=null),Qf.forEach(mA),Yf.forEach(mA)}function Hp(n,t){n.blockedOn===t&&(n.blockedOn=null,Rw||(Rw=!0,Os.unstable_scheduleCallback(Os.unstable_NormalPriority,sre)))}function Xf(n){function t(a){return Hp(a,n)}if(0<bv.length){Hp(bv[0],n);for(var e=1;e<bv.length;e++){var r=bv[e];r.blockedOn===n&&(r.blockedOn=null)}}for(tu!==null&&Hp(tu,n),ru!==null&&Hp(ru,n),iu!==null&&Hp(iu,n),Qf.forEach(t),Yf.forEach(t),e=0;e<Kc.length;e++)r=Kc[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<Kc.length&&(e=Kc[0],e.blockedOn===null);)uD(e),e.blockedOn===null&&Kc.shift()}var o0=cc.ReactCurrentBatchConfig,Ug=!0;function ore(n,t,e,r){var a=Ar,o=o0.transition;o0.transition=null;try{Ar=1,O6(n,t,e,r)}finally{Ar=a,o0.transition=o}}function lre(n,t,e,r){var a=Ar,o=o0.transition;o0.transition=null;try{Ar=4,O6(n,t,e,r)}finally{Ar=a,o0.transition=o}}function O6(n,t,e,r){if(Ug){var a=Mw(n,t,e,r);if(a===null)s3(n,t,r,Pg,e),_A(n,r);else if(are(a,n,t,e,r))r.stopPropagation();else if(_A(n,r),t&4&&-1<ire.indexOf(n)){for(;a!==null;){var o=S_(a);if(o!==null&&sD(o),o=Mw(n,t,e,r),o===null&&s3(n,t,r,Pg,e),o===a)break;a=o}a!==null&&r.stopPropagation()}else s3(n,t,r,null,e)}}var Pg=null;function Mw(n,t,e,r){if(Pg=null,n=C6(r),n=gd(n),n!==null)if(t=jd(n),t===null)n=null;else if(e=t.tag,e===13){if(n=Z7(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Pg=n,null}function dD(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qte()){case I6:return 1;case tD:return 4;case Dg:case Yte:return 16;case rD:return 536870912;default:return 16}default:return 16}}var Yc=null,R6=null,ag=null;function hD(){if(ag)return ag;var n,t=R6,e=t.length,r,a="value"in Yc?Yc.value:Yc.textContent,o=a.length;for(n=0;n<e&&t[n]===a[n];n++);var u=e-n;for(r=1;r<=u&&t[e-r]===a[o-r];r++);return ag=a.slice(n,1<r?1-r:void 0)}function sg(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function yv(){return!0}function vA(){return!1}function Ds(n){function t(e,r,a,o,u){this._reactName=e,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var h in n)n.hasOwnProperty(h)&&(e=n[h],this[h]=e?e(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yv:vA,this.isPropagationStopped=vA,this}return ui(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=yv)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=yv)},persist:function(){},isPersistent:yv}),t}var N0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M6=Ds(N0),k_=ui({},N0,{view:0,detail:0}),cre=Ds(k_),XE,ZE,Bp,Tb=ui({},k_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D6,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bp&&(Bp&&n.type==="mousemove"?(XE=n.screenX-Bp.screenX,ZE=n.screenY-Bp.screenY):ZE=XE=0,Bp=n),XE)},movementY:function(n){return"movementY"in n?n.movementY:ZE}}),gA=Ds(Tb),ure=ui({},Tb,{dataTransfer:0}),dre=Ds(ure),hre=ui({},k_,{relatedTarget:0}),JE=Ds(hre),pre=ui({},N0,{animationName:0,elapsedTime:0,pseudoElement:0}),fre=Ds(pre),_re=ui({},N0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),mre=Ds(_re),vre=ui({},N0,{data:0}),bA=Ds(vre),gre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ere(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=yre[n])?!!t[n]:!1}function D6(){return Ere}var wre=ui({},k_,{key:function(n){if(n.key){var t=gre[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=sg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bre[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D6,charCode:function(n){return n.type==="keypress"?sg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xre=Ds(wre),kre=ui({},Tb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yA=Ds(kre),Sre=ui({},k_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D6}),Tre=Ds(Sre),Cre=ui({},N0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ire=Ds(Cre),Nre=ui({},Tb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Are=Ds(Nre),Ore=[9,13,27,32],L6=ic&&"CompositionEvent"in window,vf=null;ic&&"documentMode"in document&&(vf=document.documentMode);var Rre=ic&&"TextEvent"in window&&!vf,pD=ic&&(!L6||vf&&8<vf&&11>=vf),EA=String.fromCharCode(32),wA=!1;function fD(n,t){switch(n){case"keyup":return Ore.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _D(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vh=!1;function Mre(n,t){switch(n){case"compositionend":return _D(t);case"keypress":return t.which!==32?null:(wA=!0,EA);case"textInput":return n=t.data,n===EA&&wA?null:n;default:return null}}function Dre(n,t){if(Vh)return n==="compositionend"||!L6&&fD(n,t)?(n=hD(),ag=R6=Yc=null,Vh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pD&&t.locale!=="ko"?null:t.data;default:return null}}var Lre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xA(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!Lre[n.type]:t==="textarea"}function mD(n,t,e,r){K7(r),t=Fg(t,"onChange"),0<t.length&&(e=new M6("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var gf=null,Zf=null;function Ure(n){CD(n,0)}function Cb(n){var t=jh(n);if(B7(t))return n}function Pre(n,t){if(n==="change")return t}var vD=!1;if(ic){var e3;if(ic){var n3="oninput"in document;if(!n3){var kA=document.createElement("div");kA.setAttribute("oninput","return;"),n3=typeof kA.oninput=="function"}e3=n3}else e3=!1;vD=e3&&(!document.documentMode||9<document.documentMode)}function SA(){gf&&(gf.detachEvent("onpropertychange",gD),Zf=gf=null)}function gD(n){if(n.propertyName==="value"&&Cb(Zf)){var t=[];mD(t,Zf,n,C6(n)),X7(Ure,t)}}function Fre(n,t,e){n==="focusin"?(SA(),gf=t,Zf=e,gf.attachEvent("onpropertychange",gD)):n==="focusout"&&SA()}function Hre(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cb(Zf)}function Bre(n,t){if(n==="click")return Cb(t)}function $re(n,t){if(n==="input"||n==="change")return Cb(t)}function zre(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var No=typeof Object.is=="function"?Object.is:zre;function Jf(n,t){if(No(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var a=e[r];if(!_w.call(t,a)||!No(n[a],t[a]))return!1}return!0}function TA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function CA(n,t){var e=TA(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=TA(e)}}function bD(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?bD(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function yD(){for(var n=window,t=Og();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=Og(n.document)}return t}function U6(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function Vre(n){var t=yD(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&bD(e.ownerDocument.documentElement,e)){if(r!==null&&U6(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var a=e.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!n.extend&&o>r&&(a=r,r=o,o=a),a=CA(e,o);var u=CA(e,r);a&&u&&(n.rangeCount!==1||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==u.node||n.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),n.removeAllRanges(),o>r?(n.addRange(t),n.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Gre=ic&&"documentMode"in document&&11>=document.documentMode,Gh=null,Dw=null,bf=null,Lw=!1;function IA(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Lw||Gh==null||Gh!==Og(r)||(r=Gh,"selectionStart"in r&&U6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bf&&Jf(bf,r)||(bf=r,r=Fg(Dw,"onSelect"),0<r.length&&(t=new M6("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=Gh)))}function Ev(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var qh={animationend:Ev("Animation","AnimationEnd"),animationiteration:Ev("Animation","AnimationIteration"),animationstart:Ev("Animation","AnimationStart"),transitionend:Ev("Transition","TransitionEnd")},t3={},ED={};ic&&(ED=document.createElement("div").style,"AnimationEvent"in window||(delete qh.animationend.animation,delete qh.animationiteration.animation,delete qh.animationstart.animation),"TransitionEvent"in window||delete qh.transitionend.transition);function Ib(n){if(t3[n])return t3[n];if(!qh[n])return n;var t=qh[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in ED)return t3[n]=t[e];return n}var wD=Ib("animationend"),xD=Ib("animationiteration"),kD=Ib("animationstart"),SD=Ib("transitionend"),TD=new Map,NA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xu(n,t){TD.set(n,t),qd(t,[n])}for(var r3=0;r3<NA.length;r3++){var i3=NA[r3],qre=i3.toLowerCase(),jre=i3[0].toUpperCase()+i3.slice(1);xu(qre,"on"+jre)}xu(wD,"onAnimationEnd");xu(xD,"onAnimationIteration");xu(kD,"onAnimationStart");xu("dblclick","onDoubleClick");xu("focusin","onFocus");xu("focusout","onBlur");xu(SD,"onTransitionEnd");h0("onMouseEnter",["mouseout","mouseover"]);h0("onMouseLeave",["mouseout","mouseover"]);h0("onPointerEnter",["pointerout","pointerover"]);h0("onPointerLeave",["pointerout","pointerover"]);qd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qd("onBeforeInput",["compositionend","keypress","textInput","paste"]);qd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kre=new Set("cancel close invalid load scroll toggle".split(" ").concat(sf));function AA(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,qte(r,t,void 0,n),n.currentTarget=null}function CD(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var h=r[u],f=h.instance,m=h.currentTarget;if(h=h.listener,f!==o&&a.isPropagationStopped())break e;AA(a,h,m),o=f}else for(u=0;u<r.length;u++){if(h=r[u],f=h.instance,m=h.currentTarget,h=h.listener,f!==o&&a.isPropagationStopped())break e;AA(a,h,m),o=f}}}if(Mg)throw n=Aw,Mg=!1,Aw=null,n}function Wr(n,t){var e=t[Bw];e===void 0&&(e=t[Bw]=new Set);var r=n+"__bubble";e.has(r)||(ID(t,n,2,!1),e.add(r))}function a3(n,t,e){var r=0;t&&(r|=4),ID(e,n,r,t)}var wv="_reactListening"+Math.random().toString(36).slice(2);function e_(n){if(!n[wv]){n[wv]=!0,L7.forEach(function(e){e!=="selectionchange"&&(Kre.has(e)||a3(e,!1,n),a3(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[wv]||(t[wv]=!0,a3("selectionchange",!1,t))}}function ID(n,t,e,r){switch(dD(t)){case 1:var a=ore;break;case 4:a=lre;break;default:a=O6}e=a.bind(null,t,e,n),a=void 0,!Nw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?n.addEventListener(t,e,{capture:!0,passive:a}):n.addEventListener(t,e,!0):a!==void 0?n.addEventListener(t,e,{passive:a}):n.addEventListener(t,e,!1)}function s3(n,t,e,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(u===4)for(u=r.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;u=u.return}for(;h!==null;){if(u=gd(h),u===null)return;if(f=u.tag,f===5||f===6){r=o=u;continue e}h=h.parentNode}}r=r.return}X7(function(){var m=o,v=C6(e),y=[];e:{var w=TD.get(n);if(w!==void 0){var x=M6,C=n;switch(n){case"keypress":if(sg(e)===0)break e;case"keydown":case"keyup":x=xre;break;case"focusin":C="focus",x=JE;break;case"focusout":C="blur",x=JE;break;case"beforeblur":case"afterblur":x=JE;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=gA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=dre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Tre;break;case wD:case xD:case kD:x=fre;break;case SD:x=Ire;break;case"scroll":x=cre;break;case"wheel":x=Are;break;case"copy":case"cut":case"paste":x=mre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=yA}var A=(t&4)!==0,L=!A&&n==="scroll",S=A?w!==null?w+"Capture":null:w;A=[];for(var k=m,N;k!==null;){N=k;var O=N.stateNode;if(N.tag===5&&O!==null&&(N=O,S!==null&&(O=Wf(k,S),O!=null&&A.push(n_(k,O,N)))),L)break;k=k.return}0<A.length&&(w=new x(w,C,null,e,v),y.push({event:w,listeners:A}))}}if(!(t&7)){e:{if(w=n==="mouseover"||n==="pointerover",x=n==="mouseout"||n==="pointerout",w&&e!==Cw&&(C=e.relatedTarget||e.fromElement)&&(gd(C)||C[ac]))break e;if((x||w)&&(w=v.window===v?v:(w=v.ownerDocument)?w.defaultView||w.parentWindow:window,x?(C=e.relatedTarget||e.toElement,x=m,C=C?gd(C):null,C!==null&&(L=jd(C),C!==L||C.tag!==5&&C.tag!==6)&&(C=null)):(x=null,C=m),x!==C)){if(A=gA,O="onMouseLeave",S="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(A=yA,O="onPointerLeave",S="onPointerEnter",k="pointer"),L=x==null?w:jh(x),N=C==null?w:jh(C),w=new A(O,k+"leave",x,e,v),w.target=L,w.relatedTarget=N,O=null,gd(v)===m&&(A=new A(S,k+"enter",C,e,v),A.target=N,A.relatedTarget=L,O=A),L=O,x&&C)n:{for(A=x,S=C,k=0,N=A;N;N=Rh(N))k++;for(N=0,O=S;O;O=Rh(O))N++;for(;0<k-N;)A=Rh(A),k--;for(;0<N-k;)S=Rh(S),N--;for(;k--;){if(A===S||S!==null&&A===S.alternate)break n;A=Rh(A),S=Rh(S)}A=null}else A=null;x!==null&&OA(y,w,x,A,!1),C!==null&&L!==null&&OA(y,L,C,A,!0)}}e:{if(w=m?jh(m):window,x=w.nodeName&&w.nodeName.toLowerCase(),x==="select"||x==="input"&&w.type==="file")var H=Pre;else if(xA(w))if(vD)H=$re;else{H=Hre;var D=Fre}else(x=w.nodeName)&&x.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(H=Bre);if(H&&(H=H(n,m))){mD(y,H,e,v);break e}D&&D(n,w,m),n==="focusout"&&(D=w._wrapperState)&&D.controlled&&w.type==="number"&&ww(w,"number",w.value)}switch(D=m?jh(m):window,n){case"focusin":(xA(D)||D.contentEditable==="true")&&(Gh=D,Dw=m,bf=null);break;case"focusout":bf=Dw=Gh=null;break;case"mousedown":Lw=!0;break;case"contextmenu":case"mouseup":case"dragend":Lw=!1,IA(y,e,v);break;case"selectionchange":if(Gre)break;case"keydown":case"keyup":IA(y,e,v)}var T;if(L6)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Vh?fD(n,e)&&(M="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(M="onCompositionStart");M&&(pD&&e.locale!=="ko"&&(Vh||M!=="onCompositionStart"?M==="onCompositionEnd"&&Vh&&(T=hD()):(Yc=v,R6="value"in Yc?Yc.value:Yc.textContent,Vh=!0)),D=Fg(m,M),0<D.length&&(M=new bA(M,n,null,e,v),y.push({event:M,listeners:D}),T?M.data=T:(T=_D(e),T!==null&&(M.data=T)))),(T=Rre?Mre(n,e):Dre(n,e))&&(m=Fg(m,"onBeforeInput"),0<m.length&&(v=new bA("onBeforeInput","beforeinput",null,e,v),y.push({event:v,listeners:m}),v.data=T))}CD(y,t)})}function n_(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Fg(n,t){for(var e=t+"Capture",r=[];n!==null;){var a=n,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Wf(n,e),o!=null&&r.unshift(n_(n,o,a)),o=Wf(n,t),o!=null&&r.push(n_(n,o,a))),n=n.return}return r}function Rh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function OA(n,t,e,r,a){for(var o=t._reactName,u=[];e!==null&&e!==r;){var h=e,f=h.alternate,m=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&m!==null&&(h=m,a?(f=Wf(e,o),f!=null&&u.unshift(n_(e,f,h))):a||(f=Wf(e,o),f!=null&&u.push(n_(e,f,h)))),e=e.return}u.length!==0&&n.push({event:t,listeners:u})}var Wre=/\r\n?/g,Qre=/\u0000|\uFFFD/g;function RA(n){return(typeof n=="string"?n:""+n).replace(Wre,`
`).replace(Qre,"")}function xv(n,t,e){if(t=RA(t),RA(n)!==t&&e)throw Error(Dn(425))}function Hg(){}var Uw=null,Pw=null;function Fw(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hw=typeof setTimeout=="function"?setTimeout:void 0,Yre=typeof clearTimeout=="function"?clearTimeout:void 0,MA=typeof Promise=="function"?Promise:void 0,Xre=typeof queueMicrotask=="function"?queueMicrotask:typeof MA<"u"?function(n){return MA.resolve(null).then(n).catch(Zre)}:Hw;function Zre(n){setTimeout(function(){throw n})}function o3(n,t){var e=t,r=0;do{var a=e.nextSibling;if(n.removeChild(e),a&&a.nodeType===8)if(e=a.data,e==="/$"){if(r===0){n.removeChild(a),Xf(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=a}while(e);Xf(t)}function au(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function DA(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var A0=Math.random().toString(36).slice(2),rl="__reactFiber$"+A0,t_="__reactProps$"+A0,ac="__reactContainer$"+A0,Bw="__reactEvents$"+A0,Jre="__reactListeners$"+A0,eie="__reactHandles$"+A0;function gd(n){var t=n[rl];if(t)return t;for(var e=n.parentNode;e;){if(t=e[ac]||e[rl]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=DA(n);n!==null;){if(e=n[rl])return e;n=DA(n)}return t}n=e,e=n.parentNode}return null}function S_(n){return n=n[rl]||n[ac],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function jh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Dn(33))}function Nb(n){return n[t_]||null}var $w=[],Kh=-1;function ku(n){return{current:n}}function Yr(n){0>Kh||(n.current=$w[Kh],$w[Kh]=null,Kh--)}function Gr(n,t){Kh++,$w[Kh]=n.current,n.current=t}var gu={},Oa=ku(gu),ls=ku(!1),Dd=gu;function p0(n,t){var e=n.type.contextTypes;if(!e)return gu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in e)a[o]=t[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=a),a}function cs(n){return n=n.childContextTypes,n!=null}function Bg(){Yr(ls),Yr(Oa)}function LA(n,t,e){if(Oa.current!==gu)throw Error(Dn(168));Gr(Oa,t),Gr(ls,e)}function ND(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Dn(108,Fte(n)||"Unknown",a));return ui({},e,r)}function $g(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||gu,Dd=Oa.current,Gr(Oa,n),Gr(ls,ls.current),!0}function UA(n,t,e){var r=n.stateNode;if(!r)throw Error(Dn(169));e?(n=ND(n,t,Dd),r.__reactInternalMemoizedMergedChildContext=n,Yr(ls),Yr(Oa),Gr(Oa,n)):Yr(ls),Gr(ls,e)}var Gl=null,Ab=!1,l3=!1;function AD(n){Gl===null?Gl=[n]:Gl.push(n)}function nie(n){Ab=!0,AD(n)}function Su(){if(!l3&&Gl!==null){l3=!0;var n=0,t=Ar;try{var e=Gl;for(Ar=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}Gl=null,Ab=!1}catch(a){throw Gl!==null&&(Gl=Gl.slice(n+1)),nD(I6,Su),a}finally{Ar=t,l3=!1}}return null}var Wh=[],Qh=0,zg=null,Vg=0,Ks=[],Ws=0,Ld=null,Yl=1,Xl="";function ld(n,t){Wh[Qh++]=Vg,Wh[Qh++]=zg,zg=n,Vg=t}function OD(n,t,e){Ks[Ws++]=Yl,Ks[Ws++]=Xl,Ks[Ws++]=Ld,Ld=n;var r=Yl;n=Xl;var a=32-Co(r)-1;r&=~(1<<a),e+=1;var o=32-Co(t)+a;if(30<o){var u=a-a%5;o=(r&(1<<u)-1).toString(32),r>>=u,a-=u,Yl=1<<32-Co(t)+a|e<<a|r,Xl=o+n}else Yl=1<<o|e<<a|r,Xl=n}function P6(n){n.return!==null&&(ld(n,1),OD(n,1,0))}function F6(n){for(;n===zg;)zg=Wh[--Qh],Wh[Qh]=null,Vg=Wh[--Qh],Wh[Qh]=null;for(;n===Ld;)Ld=Ks[--Ws],Ks[Ws]=null,Xl=Ks[--Ws],Ks[Ws]=null,Yl=Ks[--Ws],Ks[Ws]=null}var As=null,Ns=null,ii=!1,So=null;function RD(n,t){var e=Zs(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function PA(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,As=n,Ns=au(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,As=n,Ns=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Ld!==null?{id:Yl,overflow:Xl}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Zs(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,As=n,Ns=null,!0):!1;default:return!1}}function zw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Vw(n){if(ii){var t=Ns;if(t){var e=t;if(!PA(n,t)){if(zw(n))throw Error(Dn(418));t=au(e.nextSibling);var r=As;t&&PA(n,t)?RD(r,e):(n.flags=n.flags&-4097|2,ii=!1,As=n)}}else{if(zw(n))throw Error(Dn(418));n.flags=n.flags&-4097|2,ii=!1,As=n}}}function FA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;As=n}function kv(n){if(n!==As)return!1;if(!ii)return FA(n),ii=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Fw(n.type,n.memoizedProps)),t&&(t=Ns)){if(zw(n))throw MD(),Error(Dn(418));for(;t;)RD(n,t),t=au(t.nextSibling)}if(FA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Dn(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){Ns=au(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}Ns=null}}else Ns=As?au(n.stateNode.nextSibling):null;return!0}function MD(){for(var n=Ns;n;)n=au(n.nextSibling)}function f0(){Ns=As=null,ii=!1}function H6(n){So===null?So=[n]:So.push(n)}var tie=cc.ReactCurrentBatchConfig;function wo(n,t){if(n&&n.defaultProps){t=ui({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}var Gg=ku(null),qg=null,Yh=null,B6=null;function $6(){B6=Yh=qg=null}function z6(n){var t=Gg.current;Yr(Gg),n._currentValue=t}function Gw(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function l0(n,t){qg=n,B6=Yh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(ss=!0),n.firstContext=null)}function ro(n){var t=n._currentValue;if(B6!==n)if(n={context:n,memoizedValue:t,next:null},Yh===null){if(qg===null)throw Error(Dn(308));Yh=n,qg.dependencies={lanes:0,firstContext:n}}else Yh=Yh.next=n;return t}var bd=null;function V6(n){bd===null?bd=[n]:bd.push(n)}function DD(n,t,e,r){var a=t.interleaved;return a===null?(e.next=e,V6(t)):(e.next=a.next,a.next=e),t.interleaved=e,sc(n,r)}function sc(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var jc=!1;function G6(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LD(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ec(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function su(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,sr&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,sc(n,e)}return a=r.interleaved,a===null?(t.next=t,V6(r)):(t.next=a.next,a.next=t),r.interleaved=t,sc(n,e)}function og(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,N6(n,e)}}function HA(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var a=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var u={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?a=o=u:o=o.next=u,e=e.next}while(e!==null);o===null?a=o=t:o=o.next=t}else a=o=t;e={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function jg(n,t,e,r){var a=n.updateQueue;jc=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var f=h,m=f.next;f.next=null,u===null?o=m:u.next=m,u=f;var v=n.alternate;v!==null&&(v=v.updateQueue,h=v.lastBaseUpdate,h!==u&&(h===null?v.firstBaseUpdate=m:h.next=m,v.lastBaseUpdate=f))}if(o!==null){var y=a.baseState;u=0,v=m=f=null,h=o;do{var w=h.lane,x=h.eventTime;if((r&w)===w){v!==null&&(v=v.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var C=n,A=h;switch(w=t,x=e,A.tag){case 1:if(C=A.payload,typeof C=="function"){y=C.call(x,y,w);break e}y=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=A.payload,w=typeof C=="function"?C.call(x,y,w):C,w==null)break e;y=ui({},y,w);break e;case 2:jc=!0}}h.callback!==null&&h.lane!==0&&(n.flags|=64,w=a.effects,w===null?a.effects=[h]:w.push(h))}else x={eventTime:x,lane:w,tag:h.tag,payload:h.payload,callback:h.callback,next:null},v===null?(m=v=x,f=y):v=v.next=x,u|=w;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;w=h,h=w.next,w.next=null,a.lastBaseUpdate=w,a.shared.pending=null}}while(1);if(v===null&&(f=y),a.baseState=f,a.firstBaseUpdate=m,a.lastBaseUpdate=v,t=a.shared.interleaved,t!==null){a=t;do u|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Pd|=u,n.lanes=u,n.memoizedState=y}}function BA(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],a=r.callback;if(a!==null){if(r.callback=null,r=e,typeof a!="function")throw Error(Dn(191,a));a.call(r)}}}var UD=new D7.Component().refs;function qw(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:ui({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var Ob={isMounted:function(n){return(n=n._reactInternals)?jd(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Va(),a=lu(n),o=ec(r,a);o.payload=t,e!=null&&(o.callback=e),t=su(n,o,a),t!==null&&(Io(t,n,a,r),og(t,n,a))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Va(),a=lu(n),o=ec(r,a);o.tag=1,o.payload=t,e!=null&&(o.callback=e),t=su(n,o,a),t!==null&&(Io(t,n,a,r),og(t,n,a))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Va(),r=lu(n),a=ec(e,r);a.tag=2,t!=null&&(a.callback=t),t=su(n,a,r),t!==null&&(Io(t,n,r,e),og(t,n,r))}};function $A(n,t,e,r,a,o,u){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!Jf(e,r)||!Jf(a,o):!0}function PD(n,t,e){var r=!1,a=gu,o=t.contextType;return typeof o=="object"&&o!==null?o=ro(o):(a=cs(t)?Dd:Oa.current,r=t.contextTypes,o=(r=r!=null)?p0(n,a):gu),t=new t(e,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ob,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=o),t}function zA(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&Ob.enqueueReplaceState(t,t.state,null)}function jw(n,t,e,r){var a=n.stateNode;a.props=e,a.state=n.memoizedState,a.refs=UD,G6(n);var o=t.contextType;typeof o=="object"&&o!==null?a.context=ro(o):(o=cs(t)?Dd:Oa.current,a.context=p0(n,o)),a.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qw(n,t,o,e),a.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ob.enqueueReplaceState(a,a.state,null),jg(n,e,a,r),a.state=n.memoizedState),typeof a.componentDidMount=="function"&&(n.flags|=4194308)}function $p(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Dn(309));var r=e.stateNode}if(!r)throw Error(Dn(147,n));var a=r,o=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var h=a.refs;h===UD&&(h=a.refs={}),u===null?delete h[o]:h[o]=u},t._stringRef=o,t)}if(typeof n!="string")throw Error(Dn(284));if(!e._owner)throw Error(Dn(290,n))}return n}function Sv(n,t){throw n=Object.prototype.toString.call(t),Error(Dn(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function VA(n){var t=n._init;return t(n._payload)}function FD(n){function t(S,k){if(n){var N=S.deletions;N===null?(S.deletions=[k],S.flags|=16):N.push(k)}}function e(S,k){if(!n)return null;for(;k!==null;)t(S,k),k=k.sibling;return null}function r(S,k){for(S=new Map;k!==null;)k.key!==null?S.set(k.key,k):S.set(k.index,k),k=k.sibling;return S}function a(S,k){return S=cu(S,k),S.index=0,S.sibling=null,S}function o(S,k,N){return S.index=N,n?(N=S.alternate,N!==null?(N=N.index,N<k?(S.flags|=2,k):N):(S.flags|=2,k)):(S.flags|=1048576,k)}function u(S){return n&&S.alternate===null&&(S.flags|=2),S}function h(S,k,N,O){return k===null||k.tag!==6?(k=_3(N,S.mode,O),k.return=S,k):(k=a(k,N),k.return=S,k)}function f(S,k,N,O){var H=N.type;return H===zh?v(S,k,N.props.children,O,N.key):k!==null&&(k.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===qc&&VA(H)===k.type)?(O=a(k,N.props),O.ref=$p(S,k,N),O.return=S,O):(O=pg(N.type,N.key,N.props,null,S.mode,O),O.ref=$p(S,k,N),O.return=S,O)}function m(S,k,N,O){return k===null||k.tag!==4||k.stateNode.containerInfo!==N.containerInfo||k.stateNode.implementation!==N.implementation?(k=m3(N,S.mode,O),k.return=S,k):(k=a(k,N.children||[]),k.return=S,k)}function v(S,k,N,O,H){return k===null||k.tag!==7?(k=Cd(N,S.mode,O,H),k.return=S,k):(k=a(k,N),k.return=S,k)}function y(S,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return k=_3(""+k,S.mode,N),k.return=S,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fv:return N=pg(k.type,k.key,k.props,null,S.mode,N),N.ref=$p(S,null,k),N.return=S,N;case $h:return k=m3(k,S.mode,N),k.return=S,k;case qc:var O=k._init;return y(S,O(k._payload),N)}if(rf(k)||Up(k))return k=Cd(k,S.mode,N,null),k.return=S,k;Sv(S,k)}return null}function w(S,k,N,O){var H=k!==null?k.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return H!==null?null:h(S,k,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case fv:return N.key===H?f(S,k,N,O):null;case $h:return N.key===H?m(S,k,N,O):null;case qc:return H=N._init,w(S,k,H(N._payload),O)}if(rf(N)||Up(N))return H!==null?null:v(S,k,N,O,null);Sv(S,N)}return null}function x(S,k,N,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(N)||null,h(k,S,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case fv:return S=S.get(O.key===null?N:O.key)||null,f(k,S,O,H);case $h:return S=S.get(O.key===null?N:O.key)||null,m(k,S,O,H);case qc:var D=O._init;return x(S,k,N,D(O._payload),H)}if(rf(O)||Up(O))return S=S.get(N)||null,v(k,S,O,H,null);Sv(k,O)}return null}function C(S,k,N,O){for(var H=null,D=null,T=k,M=k=0,q=null;T!==null&&M<N.length;M++){T.index>M?(q=T,T=null):q=T.sibling;var z=w(S,T,N[M],O);if(z===null){T===null&&(T=q);break}n&&T&&z.alternate===null&&t(S,T),k=o(z,k,M),D===null?H=z:D.sibling=z,D=z,T=q}if(M===N.length)return e(S,T),ii&&ld(S,M),H;if(T===null){for(;M<N.length;M++)T=y(S,N[M],O),T!==null&&(k=o(T,k,M),D===null?H=T:D.sibling=T,D=T);return ii&&ld(S,M),H}for(T=r(S,T);M<N.length;M++)q=x(T,S,M,N[M],O),q!==null&&(n&&q.alternate!==null&&T.delete(q.key===null?M:q.key),k=o(q,k,M),D===null?H=q:D.sibling=q,D=q);return n&&T.forEach(function(re){return t(S,re)}),ii&&ld(S,M),H}function A(S,k,N,O){var H=Up(N);if(typeof H!="function")throw Error(Dn(150));if(N=H.call(N),N==null)throw Error(Dn(151));for(var D=H=null,T=k,M=k=0,q=null,z=N.next();T!==null&&!z.done;M++,z=N.next()){T.index>M?(q=T,T=null):q=T.sibling;var re=w(S,T,z.value,O);if(re===null){T===null&&(T=q);break}n&&T&&re.alternate===null&&t(S,T),k=o(re,k,M),D===null?H=re:D.sibling=re,D=re,T=q}if(z.done)return e(S,T),ii&&ld(S,M),H;if(T===null){for(;!z.done;M++,z=N.next())z=y(S,z.value,O),z!==null&&(k=o(z,k,M),D===null?H=z:D.sibling=z,D=z);return ii&&ld(S,M),H}for(T=r(S,T);!z.done;M++,z=N.next())z=x(T,S,M,z.value,O),z!==null&&(n&&z.alternate!==null&&T.delete(z.key===null?M:z.key),k=o(z,k,M),D===null?H=z:D.sibling=z,D=z);return n&&T.forEach(function(pe){return t(S,pe)}),ii&&ld(S,M),H}function L(S,k,N,O){if(typeof N=="object"&&N!==null&&N.type===zh&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case fv:e:{for(var H=N.key,D=k;D!==null;){if(D.key===H){if(H=N.type,H===zh){if(D.tag===7){e(S,D.sibling),k=a(D,N.props.children),k.return=S,S=k;break e}}else if(D.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===qc&&VA(H)===D.type){e(S,D.sibling),k=a(D,N.props),k.ref=$p(S,D,N),k.return=S,S=k;break e}e(S,D);break}else t(S,D);D=D.sibling}N.type===zh?(k=Cd(N.props.children,S.mode,O,N.key),k.return=S,S=k):(O=pg(N.type,N.key,N.props,null,S.mode,O),O.ref=$p(S,k,N),O.return=S,S=O)}return u(S);case $h:e:{for(D=N.key;k!==null;){if(k.key===D)if(k.tag===4&&k.stateNode.containerInfo===N.containerInfo&&k.stateNode.implementation===N.implementation){e(S,k.sibling),k=a(k,N.children||[]),k.return=S,S=k;break e}else{e(S,k);break}else t(S,k);k=k.sibling}k=m3(N,S.mode,O),k.return=S,S=k}return u(S);case qc:return D=N._init,L(S,k,D(N._payload),O)}if(rf(N))return C(S,k,N,O);if(Up(N))return A(S,k,N,O);Sv(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,k!==null&&k.tag===6?(e(S,k.sibling),k=a(k,N),k.return=S,S=k):(e(S,k),k=_3(N,S.mode,O),k.return=S,S=k),u(S)):e(S,k)}return L}var _0=FD(!0),HD=FD(!1),T_={},dl=ku(T_),r_=ku(T_),i_=ku(T_);function yd(n){if(n===T_)throw Error(Dn(174));return n}function q6(n,t){switch(Gr(i_,t),Gr(r_,n),Gr(dl,T_),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kw(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=kw(t,n)}Yr(dl),Gr(dl,t)}function m0(){Yr(dl),Yr(r_),Yr(i_)}function BD(n){yd(i_.current);var t=yd(dl.current),e=kw(t,n.type);t!==e&&(Gr(r_,n),Gr(dl,e))}function j6(n){r_.current===n&&(Yr(dl),Yr(r_))}var si=ku(0);function Kg(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var c3=[];function K6(){for(var n=0;n<c3.length;n++)c3[n]._workInProgressVersionPrimary=null;c3.length=0}var lg=cc.ReactCurrentDispatcher,u3=cc.ReactCurrentBatchConfig,Ud=0,ci=null,Mi=null,Vi=null,Wg=!1,yf=!1,a_=0,rie=0;function Ea(){throw Error(Dn(321))}function W6(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!No(n[e],t[e]))return!1;return!0}function Q6(n,t,e,r,a,o){if(Ud=o,ci=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lg.current=n===null||n.memoizedState===null?oie:lie,n=e(r,a),yf){o=0;do{if(yf=!1,a_=0,25<=o)throw Error(Dn(301));o+=1,Vi=Mi=null,t.updateQueue=null,lg.current=cie,n=e(r,a)}while(yf)}if(lg.current=Qg,t=Mi!==null&&Mi.next!==null,Ud=0,Vi=Mi=ci=null,Wg=!1,t)throw Error(Dn(300));return n}function Y6(){var n=a_!==0;return a_=0,n}function Zo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vi===null?ci.memoizedState=Vi=n:Vi=Vi.next=n,Vi}function io(){if(Mi===null){var n=ci.alternate;n=n!==null?n.memoizedState:null}else n=Mi.next;var t=Vi===null?ci.memoizedState:Vi.next;if(t!==null)Vi=t,Mi=n;else{if(n===null)throw Error(Dn(310));Mi=n,n={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},Vi===null?ci.memoizedState=Vi=n:Vi=Vi.next=n}return Vi}function s_(n,t){return typeof t=="function"?t(n):t}function d3(n){var t=io(),e=t.queue;if(e===null)throw Error(Dn(311));e.lastRenderedReducer=n;var r=Mi,a=r.baseQueue,o=e.pending;if(o!==null){if(a!==null){var u=a.next;a.next=o.next,o.next=u}r.baseQueue=a=o,e.pending=null}if(a!==null){o=a.next,r=r.baseState;var h=u=null,f=null,m=o;do{var v=m.lane;if((Ud&v)===v)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:n(r,m.action);else{var y={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(h=f=y,u=r):f=f.next=y,ci.lanes|=v,Pd|=v}m=m.next}while(m!==null&&m!==o);f===null?u=r:f.next=h,No(r,t.memoizedState)||(ss=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=f,e.lastRenderedState=r}if(n=e.interleaved,n!==null){a=n;do o=a.lane,ci.lanes|=o,Pd|=o,a=a.next;while(a!==n)}else a===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function h3(n){var t=io(),e=t.queue;if(e===null)throw Error(Dn(311));e.lastRenderedReducer=n;var r=e.dispatch,a=e.pending,o=t.memoizedState;if(a!==null){e.pending=null;var u=a=a.next;do o=n(o,u.action),u=u.next;while(u!==a);No(o,t.memoizedState)||(ss=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,r]}function $D(){}function zD(n,t){var e=ci,r=io(),a=t(),o=!No(r.memoizedState,a);if(o&&(r.memoizedState=a,ss=!0),r=r.queue,X6(qD.bind(null,e,r,n),[n]),r.getSnapshot!==t||o||Vi!==null&&Vi.memoizedState.tag&1){if(e.flags|=2048,o_(9,GD.bind(null,e,r,a,t),void 0,null),Ki===null)throw Error(Dn(349));Ud&30||VD(e,t,a)}return a}function VD(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=ci.updateQueue,t===null?(t={lastEffect:null,stores:null},ci.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function GD(n,t,e,r){t.value=e,t.getSnapshot=r,jD(t)&&KD(n)}function qD(n,t,e){return e(function(){jD(t)&&KD(n)})}function jD(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!No(n,e)}catch{return!0}}function KD(n){var t=sc(n,1);t!==null&&Io(t,n,1,-1)}function GA(n){var t=Zo();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s_,lastRenderedState:n},t.queue=n,n=n.dispatch=sie.bind(null,ci,n),[t.memoizedState,n]}function o_(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=ci.updateQueue,t===null?(t={lastEffect:null,stores:null},ci.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function WD(){return io().memoizedState}function cg(n,t,e,r){var a=Zo();ci.flags|=n,a.memoizedState=o_(1|t,e,void 0,r===void 0?null:r)}function Rb(n,t,e,r){var a=io();r=r===void 0?null:r;var o=void 0;if(Mi!==null){var u=Mi.memoizedState;if(o=u.destroy,r!==null&&W6(r,u.deps)){a.memoizedState=o_(t,e,o,r);return}}ci.flags|=n,a.memoizedState=o_(1|t,e,o,r)}function qA(n,t){return cg(8390656,8,n,t)}function X6(n,t){return Rb(2048,8,n,t)}function QD(n,t){return Rb(4,2,n,t)}function YD(n,t){return Rb(4,4,n,t)}function XD(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function ZD(n,t,e){return e=e!=null?e.concat([n]):null,Rb(4,4,XD.bind(null,t,n),e)}function Z6(){}function JD(n,t){var e=io();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&W6(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function eL(n,t){var e=io();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&W6(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function nL(n,t,e){return Ud&21?(No(e,t)||(e=iD(),ci.lanes|=e,Pd|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,ss=!0),n.memoizedState=e)}function iie(n,t){var e=Ar;Ar=e!==0&&4>e?e:4,n(!0);var r=u3.transition;u3.transition={};try{n(!1),t()}finally{Ar=e,u3.transition=r}}function tL(){return io().memoizedState}function aie(n,t,e){var r=lu(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},rL(n))iL(t,e);else if(e=DD(n,t,e,r),e!==null){var a=Va();Io(e,n,r,a),aL(e,t,r)}}function sie(n,t,e){var r=lu(n),a={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(rL(n))iL(t,a);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,h=o(u,e);if(a.hasEagerState=!0,a.eagerState=h,No(h,u)){var f=t.interleaved;f===null?(a.next=a,V6(t)):(a.next=f.next,f.next=a),t.interleaved=a;return}}catch{}finally{}e=DD(n,t,a,r),e!==null&&(a=Va(),Io(e,n,r,a),aL(e,t,r))}}function rL(n){var t=n.alternate;return n===ci||t!==null&&t===ci}function iL(n,t){yf=Wg=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function aL(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,N6(n,e)}}var Qg={readContext:ro,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},oie={readContext:ro,useCallback:function(n,t){return Zo().memoizedState=[n,t===void 0?null:t],n},useContext:ro,useEffect:qA,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,cg(4194308,4,XD.bind(null,t,n),e)},useLayoutEffect:function(n,t){return cg(4194308,4,n,t)},useInsertionEffect:function(n,t){return cg(4,2,n,t)},useMemo:function(n,t){var e=Zo();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=Zo();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=aie.bind(null,ci,n),[r.memoizedState,n]},useRef:function(n){var t=Zo();return n={current:n},t.memoizedState=n},useState:GA,useDebugValue:Z6,useDeferredValue:function(n){return Zo().memoizedState=n},useTransition:function(){var n=GA(!1),t=n[0];return n=iie.bind(null,n[1]),Zo().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=ci,a=Zo();if(ii){if(e===void 0)throw Error(Dn(407));e=e()}else{if(e=t(),Ki===null)throw Error(Dn(349));Ud&30||VD(r,t,e)}a.memoizedState=e;var o={value:e,getSnapshot:t};return a.queue=o,qA(qD.bind(null,r,o,n),[n]),r.flags|=2048,o_(9,GD.bind(null,r,o,e,t),void 0,null),e},useId:function(){var n=Zo(),t=Ki.identifierPrefix;if(ii){var e=Xl,r=Yl;e=(r&~(1<<32-Co(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=a_++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=rie++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},lie={readContext:ro,useCallback:JD,useContext:ro,useEffect:X6,useImperativeHandle:ZD,useInsertionEffect:QD,useLayoutEffect:YD,useMemo:eL,useReducer:d3,useRef:WD,useState:function(){return d3(s_)},useDebugValue:Z6,useDeferredValue:function(n){var t=io();return nL(t,Mi.memoizedState,n)},useTransition:function(){var n=d3(s_)[0],t=io().memoizedState;return[n,t]},useMutableSource:$D,useSyncExternalStore:zD,useId:tL,unstable_isNewReconciler:!1},cie={readContext:ro,useCallback:JD,useContext:ro,useEffect:X6,useImperativeHandle:ZD,useInsertionEffect:QD,useLayoutEffect:YD,useMemo:eL,useReducer:h3,useRef:WD,useState:function(){return h3(s_)},useDebugValue:Z6,useDeferredValue:function(n){var t=io();return Mi===null?t.memoizedState=n:nL(t,Mi.memoizedState,n)},useTransition:function(){var n=h3(s_)[0],t=io().memoizedState;return[n,t]},useMutableSource:$D,useSyncExternalStore:zD,useId:tL,unstable_isNewReconciler:!1};function v0(n,t){try{var e="",r=t;do e+=Pte(r),r=r.return;while(r);var a=e}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:a,digest:null}}function p3(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function Kw(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var uie=typeof WeakMap=="function"?WeakMap:Map;function sL(n,t,e){e=ec(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){Xg||(Xg=!0,rx=r),Kw(n,t)},e}function oL(n,t,e){e=ec(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;e.payload=function(){return r(a)},e.callback=function(){Kw(n,t)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Kw(n,t),typeof r!="function"&&(ou===null?ou=new Set([this]):ou.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),e}function jA(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new uie;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(e)||(a.add(e),n=kie.bind(null,n,t,e),t.then(n,n))}function KA(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function WA(n,t,e,r,a){return n.mode&1?(n.flags|=65536,n.lanes=a,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=ec(-1,1),t.tag=2,su(e,t,1))),e.lanes|=1),n)}var die=cc.ReactCurrentOwner,ss=!1;function Ha(n,t,e,r){t.child=n===null?HD(t,null,e,r):_0(t,n.child,e,r)}function QA(n,t,e,r,a){e=e.render;var o=t.ref;return l0(t,a),r=Q6(n,t,e,r,o,a),e=Y6(),n!==null&&!ss?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~a,oc(n,t,a)):(ii&&e&&P6(t),t.flags|=1,Ha(n,t,r,a),t.child)}function YA(n,t,e,r,a){if(n===null){var o=e.type;return typeof o=="function"&&!sk(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=o,lL(n,t,o,r,a)):(n=pg(e.type,null,r,t,t.mode,a),n.ref=t.ref,n.return=t,t.child=n)}if(o=n.child,!(n.lanes&a)){var u=o.memoizedProps;if(e=e.compare,e=e!==null?e:Jf,e(u,r)&&n.ref===t.ref)return oc(n,t,a)}return t.flags|=1,n=cu(o,r),n.ref=t.ref,n.return=t,t.child=n}function lL(n,t,e,r,a){if(n!==null){var o=n.memoizedProps;if(Jf(o,r)&&n.ref===t.ref)if(ss=!1,t.pendingProps=r=o,(n.lanes&a)!==0)n.flags&131072&&(ss=!0);else return t.lanes=n.lanes,oc(n,t,a)}return Ww(n,t,e,r,a)}function cL(n,t,e){var r=t.pendingProps,a=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gr(Zh,xs),xs|=e;else{if(!(e&1073741824))return n=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,Gr(Zh,xs),xs|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:e,Gr(Zh,xs),xs|=r}else o!==null?(r=o.baseLanes|e,t.memoizedState=null):r=e,Gr(Zh,xs),xs|=r;return Ha(n,t,a,e),t.child}function uL(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Ww(n,t,e,r,a){var o=cs(e)?Dd:Oa.current;return o=p0(t,o),l0(t,a),e=Q6(n,t,e,r,o,a),r=Y6(),n!==null&&!ss?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~a,oc(n,t,a)):(ii&&r&&P6(t),t.flags|=1,Ha(n,t,e,a),t.child)}function XA(n,t,e,r,a){if(cs(e)){var o=!0;$g(t)}else o=!1;if(l0(t,a),t.stateNode===null)ug(n,t),PD(t,e,r),jw(t,e,r,a),r=!0;else if(n===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var f=u.context,m=e.contextType;typeof m=="object"&&m!==null?m=ro(m):(m=cs(e)?Dd:Oa.current,m=p0(t,m));var v=e.getDerivedStateFromProps,y=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function";y||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||f!==m)&&zA(t,u,r,m),jc=!1;var w=t.memoizedState;u.state=w,jg(t,r,u,a),f=t.memoizedState,h!==r||w!==f||ls.current||jc?(typeof v=="function"&&(qw(t,e,v,r),f=t.memoizedState),(h=jc||$A(t,e,h,r,w,f,m))?(y||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),u.props=r,u.state=f,u.context=m,r=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,LD(n,t),h=t.memoizedProps,m=t.type===t.elementType?h:wo(t.type,h),u.props=m,y=t.pendingProps,w=u.context,f=e.contextType,typeof f=="object"&&f!==null?f=ro(f):(f=cs(e)?Dd:Oa.current,f=p0(t,f));var x=e.getDerivedStateFromProps;(v=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==y||w!==f)&&zA(t,u,r,f),jc=!1,w=t.memoizedState,u.state=w,jg(t,r,u,a);var C=t.memoizedState;h!==y||w!==C||ls.current||jc?(typeof x=="function"&&(qw(t,e,x,r),C=t.memoizedState),(m=jc||$A(t,e,m,r,w,C,f)||!1)?(v||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,C,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,C,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),u.props=r,u.state=C,u.context=f,r=m):(typeof u.componentDidUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=1024),r=!1)}return Qw(n,t,e,r,o,a)}function Qw(n,t,e,r,a,o){uL(n,t);var u=(t.flags&128)!==0;if(!r&&!u)return a&&UA(t,e,!1),oc(n,t,o);r=t.stateNode,die.current=t;var h=u&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&u?(t.child=_0(t,n.child,null,o),t.child=_0(t,null,h,o)):Ha(n,t,h,o),t.memoizedState=r.state,a&&UA(t,e,!0),t.child}function dL(n){var t=n.stateNode;t.pendingContext?LA(n,t.pendingContext,t.pendingContext!==t.context):t.context&&LA(n,t.context,!1),q6(n,t.containerInfo)}function ZA(n,t,e,r,a){return f0(),H6(a),t.flags|=256,Ha(n,t,e,r),t.child}var Yw={dehydrated:null,treeContext:null,retryLane:0};function Xw(n){return{baseLanes:n,cachePool:null,transitions:null}}function hL(n,t,e){var r=t.pendingProps,a=si.current,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=n!==null&&n.memoizedState===null?!1:(a&2)!==0),h?(o=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(a|=1),Gr(si,a&1),n===null)return Vw(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,n=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=Lb(u,r,0,null),n=Cd(n,r,e,null),o.return=t,n.return=t,o.sibling=n,t.child=o,t.child.memoizedState=Xw(e),t.memoizedState=Yw,n):J6(t,u));if(a=n.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return hie(n,t,u,r,h,a,e);if(o){o=r.fallback,u=t.mode,a=n.child,h=a.sibling;var f={mode:"hidden",children:r.children};return!(u&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=cu(a,f),r.subtreeFlags=a.subtreeFlags&14680064),h!==null?o=cu(h,o):(o=Cd(o,u,e,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=n.child.memoizedState,u=u===null?Xw(e):{baseLanes:u.baseLanes|e,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=n.childLanes&~e,t.memoizedState=Yw,r}return o=n.child,n=o.sibling,r=cu(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function J6(n,t){return t=Lb({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Tv(n,t,e,r){return r!==null&&H6(r),_0(t,n.child,null,e),n=J6(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function hie(n,t,e,r,a,o,u){if(e)return t.flags&256?(t.flags&=-257,r=p3(Error(Dn(422))),Tv(n,t,u,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Lb({mode:"visible",children:r.children},a,0,null),o=Cd(o,a,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&_0(t,n.child,null,u),t.child.memoizedState=Xw(u),t.memoizedState=Yw,o);if(!(t.mode&1))return Tv(n,t,u,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var h=r.dgst;return r=h,o=Error(Dn(419)),r=p3(o,r,void 0),Tv(n,t,u,r)}if(h=(u&n.childLanes)!==0,ss||h){if(r=Ki,r!==null){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|u)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,sc(n,a),Io(r,n,a,-1))}return ak(),r=p3(Error(Dn(421))),Tv(n,t,u,r)}return a.data==="$?"?(t.flags|=128,t.child=n.child,t=Sie.bind(null,n),a._reactRetry=t,null):(n=o.treeContext,Ns=au(a.nextSibling),As=t,ii=!0,So=null,n!==null&&(Ks[Ws++]=Yl,Ks[Ws++]=Xl,Ks[Ws++]=Ld,Yl=n.id,Xl=n.overflow,Ld=t),t=J6(t,r.children),t.flags|=4096,t)}function JA(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),Gw(n.return,t,e)}function f3(n,t,e,r,a){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=e,o.tailMode=a)}function pL(n,t,e){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Ha(n,t,r.children,e),r=si.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&JA(n,e,t);else if(n.tag===19)JA(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Gr(si,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(e=t.child,a=null;e!==null;)n=e.alternate,n!==null&&Kg(n)===null&&(a=e),e=e.sibling;e=a,e===null?(a=t.child,t.child=null):(a=e.sibling,e.sibling=null),f3(t,!1,a,e,o);break;case"backwards":for(e=null,a=t.child,t.child=null;a!==null;){if(n=a.alternate,n!==null&&Kg(n)===null){t.child=a;break}n=a.sibling,a.sibling=e,e=a,a=n}f3(t,!0,e,null,o);break;case"together":f3(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ug(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function oc(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Pd|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(Dn(153));if(t.child!==null){for(n=t.child,e=cu(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=cu(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function pie(n,t,e){switch(t.tag){case 3:dL(t),f0();break;case 5:BD(t);break;case 1:cs(t.type)&&$g(t);break;case 4:q6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Gr(Gg,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Gr(si,si.current&1),t.flags|=128,null):e&t.child.childLanes?hL(n,t,e):(Gr(si,si.current&1),n=oc(n,t,e),n!==null?n.sibling:null);Gr(si,si.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return pL(n,t,e);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Gr(si,si.current),r)break;return null;case 22:case 23:return t.lanes=0,cL(n,t,e)}return oc(n,t,e)}var fL,Zw,_L,mL;fL=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Zw=function(){};_L=function(n,t,e,r){var a=n.memoizedProps;if(a!==r){n=t.stateNode,yd(dl.current);var o=null;switch(e){case"input":a=yw(n,a),r=yw(n,r),o=[];break;case"select":a=ui({},a,{value:void 0}),r=ui({},r,{value:void 0}),o=[];break;case"textarea":a=xw(n,a),r=xw(n,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Hg)}Sw(e,r);var u;e=null;for(m in a)if(!r.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var h=a[m];for(u in h)h.hasOwnProperty(u)&&(e||(e={}),e[u]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(jf.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in r){var f=r[m];if(h=a!=null?a[m]:void 0,r.hasOwnProperty(m)&&f!==h&&(f!=null||h!=null))if(m==="style")if(h){for(u in h)!h.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(e||(e={}),e[u]="");for(u in f)f.hasOwnProperty(u)&&h[u]!==f[u]&&(e||(e={}),e[u]=f[u])}else e||(o||(o=[]),o.push(m,e)),e=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(o=o||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(jf.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Wr("scroll",n),o||h===f||(o=[])):(o=o||[]).push(m,f))}e&&(o=o||[]).push("style",e);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};mL=function(n,t,e,r){e!==r&&(t.flags|=4)};function zp(n,t){if(!ii)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function wa(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var a=n.child;a!==null;)e|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=n,a=a.sibling;else for(a=n.child;a!==null;)e|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=n,a=a.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function fie(n,t,e){var r=t.pendingProps;switch(F6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wa(t),null;case 1:return cs(t.type)&&Bg(),wa(t),null;case 3:return r=t.stateNode,m0(),Yr(ls),Yr(Oa),K6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(kv(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,So!==null&&(sx(So),So=null))),Zw(n,t),wa(t),null;case 5:j6(t);var a=yd(i_.current);if(e=t.type,n!==null&&t.stateNode!=null)_L(n,t,e,r,a),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Dn(166));return wa(t),null}if(n=yd(dl.current),kv(t)){r=t.stateNode,e=t.type;var o=t.memoizedProps;switch(r[rl]=t,r[t_]=o,n=(t.mode&1)!==0,e){case"dialog":Wr("cancel",r),Wr("close",r);break;case"iframe":case"object":case"embed":Wr("load",r);break;case"video":case"audio":for(a=0;a<sf.length;a++)Wr(sf[a],r);break;case"source":Wr("error",r);break;case"img":case"image":case"link":Wr("error",r),Wr("load",r);break;case"details":Wr("toggle",r);break;case"input":lA(r,o),Wr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Wr("invalid",r);break;case"textarea":uA(r,o),Wr("invalid",r)}Sw(e,o),a=null;for(var u in o)if(o.hasOwnProperty(u)){var h=o[u];u==="children"?typeof h=="string"?r.textContent!==h&&(o.suppressHydrationWarning!==!0&&xv(r.textContent,h,n),a=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&xv(r.textContent,h,n),a=["children",""+h]):jf.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&Wr("scroll",r)}switch(e){case"input":_v(r),cA(r,o,!0);break;case"textarea":_v(r),dA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hg)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=a.nodeType===9?a:a.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=V7(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=u.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=u.createElement(e,{is:r.is}):(n=u.createElement(e),e==="select"&&(u=n,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):n=u.createElementNS(n,e),n[rl]=t,n[t_]=r,fL(n,t,!1,!1),t.stateNode=n;e:{switch(u=Tw(e,r),e){case"dialog":Wr("cancel",n),Wr("close",n),a=r;break;case"iframe":case"object":case"embed":Wr("load",n),a=r;break;case"video":case"audio":for(a=0;a<sf.length;a++)Wr(sf[a],n);a=r;break;case"source":Wr("error",n),a=r;break;case"img":case"image":case"link":Wr("error",n),Wr("load",n),a=r;break;case"details":Wr("toggle",n),a=r;break;case"input":lA(n,r),a=yw(n,r),Wr("invalid",n);break;case"option":a=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},a=ui({},r,{value:void 0}),Wr("invalid",n);break;case"textarea":uA(n,r),a=xw(n,r),Wr("invalid",n);break;default:a=r}Sw(e,a),h=a;for(o in h)if(h.hasOwnProperty(o)){var f=h[o];o==="style"?j7(n,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&G7(n,f)):o==="children"?typeof f=="string"?(e!=="textarea"||f!=="")&&Kf(n,f):typeof f=="number"&&Kf(n,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(jf.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Wr("scroll",n):f!=null&&x6(n,o,f,u))}switch(e){case"input":_v(n),cA(n,r,!1);break;case"textarea":_v(n),dA(n);break;case"option":r.value!=null&&n.setAttribute("value",""+vu(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?i0(n,!!r.multiple,o,!1):r.defaultValue!=null&&i0(n,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=Hg)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wa(t),null;case 6:if(n&&t.stateNode!=null)mL(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Dn(166));if(e=yd(i_.current),yd(dl.current),kv(t)){if(r=t.stateNode,e=t.memoizedProps,r[rl]=t,(o=r.nodeValue!==e)&&(n=As,n!==null))switch(n.tag){case 3:xv(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xv(r.nodeValue,e,(n.mode&1)!==0)}o&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[rl]=t,t.stateNode=r}return wa(t),null;case 13:if(Yr(si),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ii&&Ns!==null&&t.mode&1&&!(t.flags&128))MD(),f0(),t.flags|=98560,o=!1;else if(o=kv(t),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(Dn(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Dn(317));o[rl]=t}else f0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wa(t),o=!1}else So!==null&&(sx(So),So=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||si.current&1?Li===0&&(Li=3):ak())),t.updateQueue!==null&&(t.flags|=4),wa(t),null);case 4:return m0(),Zw(n,t),n===null&&e_(t.stateNode.containerInfo),wa(t),null;case 10:return z6(t.type._context),wa(t),null;case 17:return cs(t.type)&&Bg(),wa(t),null;case 19:if(Yr(si),o=t.memoizedState,o===null)return wa(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)zp(o,!1);else{if(Li!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(u=Kg(n),u!==null){for(t.flags|=128,zp(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)o=e,n=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,n=u.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return Gr(si,si.current&1|2),t.child}n=n.sibling}o.tail!==null&&wi()>g0&&(t.flags|=128,r=!0,zp(o,!1),t.lanes=4194304)}else{if(!r)if(n=Kg(u),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),zp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!ii)return wa(t),null}else 2*wi()-o.renderingStartTime>g0&&e!==1073741824&&(t.flags|=128,r=!0,zp(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(e=o.last,e!==null?e.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=wi(),t.sibling=null,e=si.current,Gr(si,r?e&1|2:e&1),t):(wa(t),null);case 22:case 23:return ik(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xs&1073741824&&(wa(t),t.subtreeFlags&6&&(t.flags|=8192)):wa(t),null;case 24:return null;case 25:return null}throw Error(Dn(156,t.tag))}function _ie(n,t){switch(F6(t),t.tag){case 1:return cs(t.type)&&Bg(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return m0(),Yr(ls),Yr(Oa),K6(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return j6(t),null;case 13:if(Yr(si),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(Dn(340));f0()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Yr(si),null;case 4:return m0(),null;case 10:return z6(t.type._context),null;case 22:case 23:return ik(),null;case 24:return null;default:return null}}var Cv=!1,Ia=!1,mie=typeof WeakSet=="function"?WeakSet:Set,st=null;function Xh(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){_i(n,t,r)}else e.current=null}function Jw(n,t,e){try{e()}catch(r){_i(n,t,r)}}var eO=!1;function vie(n,t){if(Uw=Ug,n=yD(),U6(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var u=0,h=-1,f=-1,m=0,v=0,y=n,w=null;n:for(;;){for(var x;y!==e||a!==0&&y.nodeType!==3||(h=u+a),y!==o||r!==0&&y.nodeType!==3||(f=u+r),y.nodeType===3&&(u+=y.nodeValue.length),(x=y.firstChild)!==null;)w=y,y=x;for(;;){if(y===n)break n;if(w===e&&++m===a&&(h=u),w===o&&++v===r&&(f=u),(x=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=x}e=h===-1||f===-1?null:{start:h,end:f}}else e=null}e=e||{start:0,end:0}}else e=null;for(Pw={focusedElem:n,selectionRange:e},Ug=!1,st=t;st!==null;)if(t=st,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,st=n;else for(;st!==null;){t=st;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var A=C.memoizedProps,L=C.memoizedState,S=t.stateNode,k=S.getSnapshotBeforeUpdate(t.elementType===t.type?A:wo(t.type,A),L);S.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Dn(163))}}catch(O){_i(t,t.return,O)}if(n=t.sibling,n!==null){n.return=t.return,st=n;break}st=t.return}return C=eO,eO=!1,C}function Ef(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var o=a.destroy;a.destroy=void 0,o!==void 0&&Jw(t,e,o)}a=a.next}while(a!==r)}}function Mb(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function ex(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function vL(n){var t=n.alternate;t!==null&&(n.alternate=null,vL(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[rl],delete t[t_],delete t[Bw],delete t[Jre],delete t[eie])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gL(n){return n.tag===5||n.tag===3||n.tag===4}function nO(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gL(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nx(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Hg));else if(r!==4&&(n=n.child,n!==null))for(nx(n,t,e),n=n.sibling;n!==null;)nx(n,t,e),n=n.sibling}function tx(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(tx(n,t,e),n=n.sibling;n!==null;)tx(n,t,e),n=n.sibling}var sa=null,xo=!1;function Fc(n,t,e){for(e=e.child;e!==null;)bL(n,t,e),e=e.sibling}function bL(n,t,e){if(ul&&typeof ul.onCommitFiberUnmount=="function")try{ul.onCommitFiberUnmount(Sb,e)}catch{}switch(e.tag){case 5:Ia||Xh(e,t);case 6:var r=sa,a=xo;sa=null,Fc(n,t,e),sa=r,xo=a,sa!==null&&(xo?(n=sa,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):sa.removeChild(e.stateNode));break;case 18:sa!==null&&(xo?(n=sa,e=e.stateNode,n.nodeType===8?o3(n.parentNode,e):n.nodeType===1&&o3(n,e),Xf(n)):o3(sa,e.stateNode));break;case 4:r=sa,a=xo,sa=e.stateNode.containerInfo,xo=!0,Fc(n,t,e),sa=r,xo=a;break;case 0:case 11:case 14:case 15:if(!Ia&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&Jw(e,t,u),a=a.next}while(a!==r)}Fc(n,t,e);break;case 1:if(!Ia&&(Xh(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(h){_i(e,t,h)}Fc(n,t,e);break;case 21:Fc(n,t,e);break;case 22:e.mode&1?(Ia=(r=Ia)||e.memoizedState!==null,Fc(n,t,e),Ia=r):Fc(n,t,e);break;default:Fc(n,t,e)}}function tO(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new mie),t.forEach(function(r){var a=Tie.bind(null,n,r);e.has(r)||(e.add(r),r.then(a,a))})}}function fo(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var a=e[r];try{var o=n,u=t,h=u;e:for(;h!==null;){switch(h.tag){case 5:sa=h.stateNode,xo=!1;break e;case 3:sa=h.stateNode.containerInfo,xo=!0;break e;case 4:sa=h.stateNode.containerInfo,xo=!0;break e}h=h.return}if(sa===null)throw Error(Dn(160));bL(o,u,a),sa=null,xo=!1;var f=a.alternate;f!==null&&(f.return=null),a.return=null}catch(m){_i(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yL(t,n),t=t.sibling}function yL(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fo(t,n),Wo(n),r&4){try{Ef(3,n,n.return),Mb(3,n)}catch(A){_i(n,n.return,A)}try{Ef(5,n,n.return)}catch(A){_i(n,n.return,A)}}break;case 1:fo(t,n),Wo(n),r&512&&e!==null&&Xh(e,e.return);break;case 5:if(fo(t,n),Wo(n),r&512&&e!==null&&Xh(e,e.return),n.flags&32){var a=n.stateNode;try{Kf(a,"")}catch(A){_i(n,n.return,A)}}if(r&4&&(a=n.stateNode,a!=null)){var o=n.memoizedProps,u=e!==null?e.memoizedProps:o,h=n.type,f=n.updateQueue;if(n.updateQueue=null,f!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&$7(a,o),Tw(h,u);var m=Tw(h,o);for(u=0;u<f.length;u+=2){var v=f[u],y=f[u+1];v==="style"?j7(a,y):v==="dangerouslySetInnerHTML"?G7(a,y):v==="children"?Kf(a,y):x6(a,v,y,m)}switch(h){case"input":Ew(a,o);break;case"textarea":z7(a,o);break;case"select":var w=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?i0(a,!!o.multiple,x,!1):w!==!!o.multiple&&(o.defaultValue!=null?i0(a,!!o.multiple,o.defaultValue,!0):i0(a,!!o.multiple,o.multiple?[]:"",!1))}a[t_]=o}catch(A){_i(n,n.return,A)}}break;case 6:if(fo(t,n),Wo(n),r&4){if(n.stateNode===null)throw Error(Dn(162));a=n.stateNode,o=n.memoizedProps;try{a.nodeValue=o}catch(A){_i(n,n.return,A)}}break;case 3:if(fo(t,n),Wo(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{Xf(t.containerInfo)}catch(A){_i(n,n.return,A)}break;case 4:fo(t,n),Wo(n);break;case 13:fo(t,n),Wo(n),a=n.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(tk=wi())),r&4&&tO(n);break;case 22:if(v=e!==null&&e.memoizedState!==null,n.mode&1?(Ia=(m=Ia)||v,fo(t,n),Ia=m):fo(t,n),Wo(n),r&8192){if(m=n.memoizedState!==null,(n.stateNode.isHidden=m)&&!v&&n.mode&1)for(st=n,v=n.child;v!==null;){for(y=st=v;st!==null;){switch(w=st,x=w.child,w.tag){case 0:case 11:case 14:case 15:Ef(4,w,w.return);break;case 1:Xh(w,w.return);var C=w.stateNode;if(typeof C.componentWillUnmount=="function"){r=w,e=w.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(A){_i(r,e,A)}}break;case 5:Xh(w,w.return);break;case 22:if(w.memoizedState!==null){iO(y);continue}}x!==null?(x.return=w,st=x):iO(y)}v=v.sibling}e:for(v=null,y=n;;){if(y.tag===5){if(v===null){v=y;try{a=y.stateNode,m?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=y.stateNode,f=y.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=q7("display",u))}catch(A){_i(n,n.return,A)}}}else if(y.tag===6){if(v===null)try{y.stateNode.nodeValue=m?"":y.memoizedProps}catch(A){_i(n,n.return,A)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===n)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;v===y&&(v=null),y=y.return}v===y&&(v=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:fo(t,n),Wo(n),r&4&&tO(n);break;case 21:break;default:fo(t,n),Wo(n)}}function Wo(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if(gL(e)){var r=e;break e}e=e.return}throw Error(Dn(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Kf(a,""),r.flags&=-33);var o=nO(n);tx(n,o,a);break;case 3:case 4:var u=r.stateNode.containerInfo,h=nO(n);nx(n,h,u);break;default:throw Error(Dn(161))}}catch(f){_i(n,n.return,f)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function gie(n,t,e){st=n,EL(n)}function EL(n,t,e){for(var r=(n.mode&1)!==0;st!==null;){var a=st,o=a.child;if(a.tag===22&&r){var u=a.memoizedState!==null||Cv;if(!u){var h=a.alternate,f=h!==null&&h.memoizedState!==null||Ia;h=Cv;var m=Ia;if(Cv=u,(Ia=f)&&!m)for(st=a;st!==null;)u=st,f=u.child,u.tag===22&&u.memoizedState!==null?aO(a):f!==null?(f.return=u,st=f):aO(a);for(;o!==null;)st=o,EL(o),o=o.sibling;st=a,Cv=h,Ia=m}rO(n)}else a.subtreeFlags&8772&&o!==null?(o.return=a,st=o):rO(n)}}function rO(n){for(;st!==null;){var t=st;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ia||Mb(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ia)if(e===null)r.componentDidMount();else{var a=t.elementType===t.type?e.memoizedProps:wo(t.type,e.memoizedProps);r.componentDidUpdate(a,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&BA(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}BA(t,u,e)}break;case 5:var h=t.stateNode;if(e===null&&t.flags&4){e=h;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&e.focus();break;case"img":f.src&&(e.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var y=v.dehydrated;y!==null&&Xf(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Dn(163))}Ia||t.flags&512&&ex(t)}catch(w){_i(t,t.return,w)}}if(t===n){st=null;break}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function iO(n){for(;st!==null;){var t=st;if(t===n){st=null;break}var e=t.sibling;if(e!==null){e.return=t.return,st=e;break}st=t.return}}function aO(n){for(;st!==null;){var t=st;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{Mb(4,t)}catch(f){_i(t,e,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(f){_i(t,a,f)}}var o=t.return;try{ex(t)}catch(f){_i(t,o,f)}break;case 5:var u=t.return;try{ex(t)}catch(f){_i(t,u,f)}}}catch(f){_i(t,t.return,f)}if(t===n){st=null;break}var h=t.sibling;if(h!==null){h.return=t.return,st=h;break}st=t.return}}var bie=Math.ceil,Yg=cc.ReactCurrentDispatcher,ek=cc.ReactCurrentOwner,no=cc.ReactCurrentBatchConfig,sr=0,Ki=null,Ci=null,ua=0,xs=0,Zh=ku(0),Li=0,l_=null,Pd=0,Db=0,nk=0,wf=null,is=null,tk=0,g0=1/0,Hl=null,Xg=!1,rx=null,ou=null,Iv=!1,Xc=null,Zg=0,xf=0,ix=null,dg=-1,hg=0;function Va(){return sr&6?wi():dg!==-1?dg:dg=wi()}function lu(n){return n.mode&1?sr&2&&ua!==0?ua&-ua:tie.transition!==null?(hg===0&&(hg=iD()),hg):(n=Ar,n!==0||(n=window.event,n=n===void 0?16:dD(n.type)),n):1}function Io(n,t,e,r){if(50<xf)throw xf=0,ix=null,Error(Dn(185));x_(n,e,r),(!(sr&2)||n!==Ki)&&(n===Ki&&(!(sr&2)&&(Db|=e),Li===4&&Wc(n,ua)),us(n,r),e===1&&sr===0&&!(t.mode&1)&&(g0=wi()+500,Ab&&Su()))}function us(n,t){var e=n.callbackNode;tre(n,t);var r=Lg(n,n===Ki?ua:0);if(r===0)e!==null&&fA(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&fA(e),t===1)n.tag===0?nie(sO.bind(null,n)):AD(sO.bind(null,n)),Xre(function(){!(sr&6)&&Su()}),e=null;else{switch(aD(r)){case 1:e=I6;break;case 4:e=tD;break;case 16:e=Dg;break;case 536870912:e=rD;break;default:e=Dg}e=NL(e,wL.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function wL(n,t){if(dg=-1,hg=0,sr&6)throw Error(Dn(327));var e=n.callbackNode;if(c0()&&n.callbackNode!==e)return null;var r=Lg(n,n===Ki?ua:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=Jg(n,r);else{t=r;var a=sr;sr|=2;var o=kL();(Ki!==n||ua!==t)&&(Hl=null,g0=wi()+500,Td(n,t));do try{wie();break}catch(h){xL(n,h)}while(1);$6(),Yg.current=o,sr=a,Ci!==null?t=0:(Ki=null,ua=0,t=Li)}if(t!==0){if(t===2&&(a=Ow(n),a!==0&&(r=a,t=ax(n,a))),t===1)throw e=l_,Td(n,0),Wc(n,r),us(n,wi()),e;if(t===6)Wc(n,r);else{if(a=n.current.alternate,!(r&30)&&!yie(a)&&(t=Jg(n,r),t===2&&(o=Ow(n),o!==0&&(r=o,t=ax(n,o))),t===1))throw e=l_,Td(n,0),Wc(n,r),us(n,wi()),e;switch(n.finishedWork=a,n.finishedLanes=r,t){case 0:case 1:throw Error(Dn(345));case 2:cd(n,is,Hl);break;case 3:if(Wc(n,r),(r&130023424)===r&&(t=tk+500-wi(),10<t)){if(Lg(n,0)!==0)break;if(a=n.suspendedLanes,(a&r)!==r){Va(),n.pingedLanes|=n.suspendedLanes&a;break}n.timeoutHandle=Hw(cd.bind(null,n,is,Hl),t);break}cd(n,is,Hl);break;case 4:if(Wc(n,r),(r&4194240)===r)break;for(t=n.eventTimes,a=-1;0<r;){var u=31-Co(r);o=1<<u,u=t[u],u>a&&(a=u),r&=~o}if(r=a,r=wi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bie(r/1960))-r,10<r){n.timeoutHandle=Hw(cd.bind(null,n,is,Hl),r);break}cd(n,is,Hl);break;case 5:cd(n,is,Hl);break;default:throw Error(Dn(329))}}}return us(n,wi()),n.callbackNode===e?wL.bind(null,n):null}function ax(n,t){var e=wf;return n.current.memoizedState.isDehydrated&&(Td(n,t).flags|=256),n=Jg(n,t),n!==2&&(t=is,is=e,t!==null&&sx(t)),n}function sx(n){is===null?is=n:is.push.apply(is,n)}function yie(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var a=e[r],o=a.getSnapshot;a=a.value;try{if(!No(o(),a))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wc(n,t){for(t&=~nk,t&=~Db,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Co(t),r=1<<e;n[e]=-1,t&=~r}}function sO(n){if(sr&6)throw Error(Dn(327));c0();var t=Lg(n,0);if(!(t&1))return us(n,wi()),null;var e=Jg(n,t);if(n.tag!==0&&e===2){var r=Ow(n);r!==0&&(t=r,e=ax(n,r))}if(e===1)throw e=l_,Td(n,0),Wc(n,t),us(n,wi()),e;if(e===6)throw Error(Dn(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,cd(n,is,Hl),us(n,wi()),null}function rk(n,t){var e=sr;sr|=1;try{return n(t)}finally{sr=e,sr===0&&(g0=wi()+500,Ab&&Su())}}function Fd(n){Xc!==null&&Xc.tag===0&&!(sr&6)&&c0();var t=sr;sr|=1;var e=no.transition,r=Ar;try{if(no.transition=null,Ar=1,n)return n()}finally{Ar=r,no.transition=e,sr=t,!(sr&6)&&Su()}}function ik(){xs=Zh.current,Yr(Zh)}function Td(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,Yre(e)),Ci!==null)for(e=Ci.return;e!==null;){var r=e;switch(F6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bg();break;case 3:m0(),Yr(ls),Yr(Oa),K6();break;case 5:j6(r);break;case 4:m0();break;case 13:Yr(si);break;case 19:Yr(si);break;case 10:z6(r.type._context);break;case 22:case 23:ik()}e=e.return}if(Ki=n,Ci=n=cu(n.current,null),ua=xs=t,Li=0,l_=null,nk=Db=Pd=0,is=wf=null,bd!==null){for(t=0;t<bd.length;t++)if(e=bd[t],r=e.interleaved,r!==null){e.interleaved=null;var a=r.next,o=e.pending;if(o!==null){var u=o.next;o.next=a,r.next=u}e.pending=r}bd=null}return n}function xL(n,t){do{var e=Ci;try{if($6(),lg.current=Qg,Wg){for(var r=ci.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Wg=!1}if(Ud=0,Vi=Mi=ci=null,yf=!1,a_=0,ek.current=null,e===null||e.return===null){Li=1,l_=t,Ci=null;break}e:{var o=n,u=e.return,h=e,f=t;if(t=ua,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,v=h,y=v.tag;if(!(v.mode&1)&&(y===0||y===11||y===15)){var w=v.alternate;w?(v.updateQueue=w.updateQueue,v.memoizedState=w.memoizedState,v.lanes=w.lanes):(v.updateQueue=null,v.memoizedState=null)}var x=KA(u);if(x!==null){x.flags&=-257,WA(x,u,h,o,t),x.mode&1&&jA(o,m,t),t=x,f=m;var C=t.updateQueue;if(C===null){var A=new Set;A.add(f),t.updateQueue=A}else C.add(f);break e}else{if(!(t&1)){jA(o,m,t),ak();break e}f=Error(Dn(426))}}else if(ii&&h.mode&1){var L=KA(u);if(L!==null){!(L.flags&65536)&&(L.flags|=256),WA(L,u,h,o,t),H6(v0(f,h));break e}}o=f=v0(f,h),Li!==4&&(Li=2),wf===null?wf=[o]:wf.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var S=sL(o,f,t);HA(o,S);break e;case 1:h=f;var k=o.type,N=o.stateNode;if(!(o.flags&128)&&(typeof k.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ou===null||!ou.has(N)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=oL(o,h,t);HA(o,O);break e}}o=o.return}while(o!==null)}TL(e)}catch(H){t=H,Ci===e&&e!==null&&(Ci=e=e.return);continue}break}while(1)}function kL(){var n=Yg.current;return Yg.current=Qg,n===null?Qg:n}function ak(){(Li===0||Li===3||Li===2)&&(Li=4),Ki===null||!(Pd&268435455)&&!(Db&268435455)||Wc(Ki,ua)}function Jg(n,t){var e=sr;sr|=2;var r=kL();(Ki!==n||ua!==t)&&(Hl=null,Td(n,t));do try{Eie();break}catch(a){xL(n,a)}while(1);if($6(),sr=e,Yg.current=r,Ci!==null)throw Error(Dn(261));return Ki=null,ua=0,Li}function Eie(){for(;Ci!==null;)SL(Ci)}function wie(){for(;Ci!==null&&!Kte();)SL(Ci)}function SL(n){var t=IL(n.alternate,n,xs);n.memoizedProps=n.pendingProps,t===null?TL(n):Ci=t,ek.current=null}function TL(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=_ie(e,t),e!==null){e.flags&=32767,Ci=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Li=6,Ci=null;return}}else if(e=fie(e,t,xs),e!==null){Ci=e;return}if(t=t.sibling,t!==null){Ci=t;return}Ci=t=n}while(t!==null);Li===0&&(Li=5)}function cd(n,t,e){var r=Ar,a=no.transition;try{no.transition=null,Ar=1,xie(n,t,e,r)}finally{no.transition=a,Ar=r}return null}function xie(n,t,e,r){do c0();while(Xc!==null);if(sr&6)throw Error(Dn(327));e=n.finishedWork;var a=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(Dn(177));n.callbackNode=null,n.callbackPriority=0;var o=e.lanes|e.childLanes;if(rre(n,o),n===Ki&&(Ci=Ki=null,ua=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Iv||(Iv=!0,NL(Dg,function(){return c0(),null})),o=(e.flags&15990)!==0,e.subtreeFlags&15990||o){o=no.transition,no.transition=null;var u=Ar;Ar=1;var h=sr;sr|=4,ek.current=null,vie(n,e),yL(e,n),Vre(Pw),Ug=!!Uw,Pw=Uw=null,n.current=e,gie(e),Wte(),sr=h,Ar=u,no.transition=o}else n.current=e;if(Iv&&(Iv=!1,Xc=n,Zg=a),o=n.pendingLanes,o===0&&(ou=null),Xte(e.stateNode),us(n,wi()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)a=t[e],r(a.value,{componentStack:a.stack,digest:a.digest});if(Xg)throw Xg=!1,n=rx,rx=null,n;return Zg&1&&n.tag!==0&&c0(),o=n.pendingLanes,o&1?n===ix?xf++:(xf=0,ix=n):xf=0,Su(),null}function c0(){if(Xc!==null){var n=aD(Zg),t=no.transition,e=Ar;try{if(no.transition=null,Ar=16>n?16:n,Xc===null)var r=!1;else{if(n=Xc,Xc=null,Zg=0,sr&6)throw Error(Dn(331));var a=sr;for(sr|=4,st=n.current;st!==null;){var o=st,u=o.child;if(st.flags&16){var h=o.deletions;if(h!==null){for(var f=0;f<h.length;f++){var m=h[f];for(st=m;st!==null;){var v=st;switch(v.tag){case 0:case 11:case 15:Ef(8,v,o)}var y=v.child;if(y!==null)y.return=v,st=y;else for(;st!==null;){v=st;var w=v.sibling,x=v.return;if(vL(v),v===m){st=null;break}if(w!==null){w.return=x,st=w;break}st=x}}}var C=o.alternate;if(C!==null){var A=C.child;if(A!==null){C.child=null;do{var L=A.sibling;A.sibling=null,A=L}while(A!==null)}}st=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,st=u;else e:for(;st!==null;){if(o=st,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ef(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,st=S;break e}st=o.return}}var k=n.current;for(st=k;st!==null;){u=st;var N=u.child;if(u.subtreeFlags&2064&&N!==null)N.return=u,st=N;else e:for(u=k;st!==null;){if(h=st,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Mb(9,h)}}catch(H){_i(h,h.return,H)}if(h===u){st=null;break e}var O=h.sibling;if(O!==null){O.return=h.return,st=O;break e}st=h.return}}if(sr=a,Su(),ul&&typeof ul.onPostCommitFiberRoot=="function")try{ul.onPostCommitFiberRoot(Sb,n)}catch{}r=!0}return r}finally{Ar=e,no.transition=t}}return!1}function oO(n,t,e){t=v0(e,t),t=sL(n,t,1),n=su(n,t,1),t=Va(),n!==null&&(x_(n,1,t),us(n,t))}function _i(n,t,e){if(n.tag===3)oO(n,n,e);else for(;t!==null;){if(t.tag===3){oO(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ou===null||!ou.has(r))){n=v0(e,n),n=oL(t,n,1),t=su(t,n,1),n=Va(),t!==null&&(x_(t,1,n),us(t,n));break}}t=t.return}}function kie(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=Va(),n.pingedLanes|=n.suspendedLanes&e,Ki===n&&(ua&e)===e&&(Li===4||Li===3&&(ua&130023424)===ua&&500>wi()-tk?Td(n,0):nk|=e),us(n,t)}function CL(n,t){t===0&&(n.mode&1?(t=gv,gv<<=1,!(gv&130023424)&&(gv=4194304)):t=1);var e=Va();n=sc(n,t),n!==null&&(x_(n,t,e),us(n,e))}function Sie(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),CL(n,e)}function Tie(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,a=n.memoizedState;a!==null&&(e=a.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Dn(314))}r!==null&&r.delete(t),CL(n,e)}var IL;IL=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||ls.current)ss=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return ss=!1,pie(n,t,e);ss=!!(n.flags&131072)}else ss=!1,ii&&t.flags&1048576&&OD(t,Vg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ug(n,t),n=t.pendingProps;var a=p0(t,Oa.current);l0(t,e),a=Q6(null,t,r,n,a,e);var o=Y6();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cs(r)?(o=!0,$g(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,G6(t),a.updater=Ob,t.stateNode=a,a._reactInternals=t,jw(t,r,n,e),t=Qw(null,t,r,!0,o,e)):(t.tag=0,ii&&o&&P6(t),Ha(null,t,a,e),t=t.child),t;case 16:r=t.elementType;e:{switch(ug(n,t),n=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Iie(r),n=wo(r,n),a){case 0:t=Ww(null,t,r,n,e);break e;case 1:t=XA(null,t,r,n,e);break e;case 11:t=QA(null,t,r,n,e);break e;case 14:t=YA(null,t,r,wo(r.type,n),e);break e}throw Error(Dn(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:wo(r,a),Ww(n,t,r,a,e);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:wo(r,a),XA(n,t,r,a,e);case 3:e:{if(dL(t),n===null)throw Error(Dn(387));r=t.pendingProps,o=t.memoizedState,a=o.element,LD(n,t),jg(t,r,null,e);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=v0(Error(Dn(423)),t),t=ZA(n,t,r,e,a);break e}else if(r!==a){a=v0(Error(Dn(424)),t),t=ZA(n,t,r,e,a);break e}else for(Ns=au(t.stateNode.containerInfo.firstChild),As=t,ii=!0,So=null,e=HD(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(f0(),r===a){t=oc(n,t,e);break e}Ha(n,t,r,e)}t=t.child}return t;case 5:return BD(t),n===null&&Vw(t),r=t.type,a=t.pendingProps,o=n!==null?n.memoizedProps:null,u=a.children,Fw(r,a)?u=null:o!==null&&Fw(r,o)&&(t.flags|=32),uL(n,t),Ha(n,t,u,e),t.child;case 6:return n===null&&Vw(t),null;case 13:return hL(n,t,e);case 4:return q6(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=_0(t,null,r,e):Ha(n,t,r,e),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:wo(r,a),QA(n,t,r,a,e);case 7:return Ha(n,t,t.pendingProps,e),t.child;case 8:return Ha(n,t,t.pendingProps.children,e),t.child;case 12:return Ha(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,u=a.value,Gr(Gg,r._currentValue),r._currentValue=u,o!==null)if(No(o.value,u)){if(o.children===a.children&&!ls.current){t=oc(n,t,e);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var h=o.dependencies;if(h!==null){u=o.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=ec(-1,e&-e),f.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?f.next=f:(f.next=v.next,v.next=f),m.pending=f}}o.lanes|=e,f=o.alternate,f!==null&&(f.lanes|=e),Gw(o.return,e,t),h.lanes|=e;break}f=f.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(Dn(341));u.lanes|=e,h=u.alternate,h!==null&&(h.lanes|=e),Gw(u,e,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}Ha(n,t,a.children,e),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,l0(t,e),a=ro(a),r=r(a),t.flags|=1,Ha(n,t,r,e),t.child;case 14:return r=t.type,a=wo(r,t.pendingProps),a=wo(r.type,a),YA(n,t,r,a,e);case 15:return lL(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:wo(r,a),ug(n,t),t.tag=1,cs(r)?(n=!0,$g(t)):n=!1,l0(t,e),PD(t,r,a),jw(t,r,a,e),Qw(null,t,r,!0,n,e);case 19:return pL(n,t,e);case 22:return cL(n,t,e)}throw Error(Dn(156,t.tag))};function NL(n,t){return nD(n,t)}function Cie(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(n,t,e,r){return new Cie(n,t,e,r)}function sk(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Iie(n){if(typeof n=="function")return sk(n)?1:0;if(n!=null){if(n=n.$$typeof,n===S6)return 11;if(n===T6)return 14}return 2}function cu(n,t){var e=n.alternate;return e===null?(e=Zs(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function pg(n,t,e,r,a,o){var u=2;if(r=n,typeof n=="function")sk(n)&&(u=1);else if(typeof n=="string")u=5;else e:switch(n){case zh:return Cd(e.children,a,o,t);case k6:u=8,a|=8;break;case mw:return n=Zs(12,e,t,a|2),n.elementType=mw,n.lanes=o,n;case vw:return n=Zs(13,e,t,a),n.elementType=vw,n.lanes=o,n;case gw:return n=Zs(19,e,t,a),n.elementType=gw,n.lanes=o,n;case F7:return Lb(e,a,o,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U7:u=10;break e;case P7:u=9;break e;case S6:u=11;break e;case T6:u=14;break e;case qc:u=16,r=null;break e}throw Error(Dn(130,n==null?n:typeof n,""))}return t=Zs(u,e,t,a),t.elementType=n,t.type=r,t.lanes=o,t}function Cd(n,t,e,r){return n=Zs(7,n,r,t),n.lanes=e,n}function Lb(n,t,e,r){return n=Zs(22,n,r,t),n.elementType=F7,n.lanes=e,n.stateNode={isHidden:!1},n}function _3(n,t,e){return n=Zs(6,n,null,t),n.lanes=e,n}function m3(n,t,e){return t=Zs(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Nie(n,t,e,r,a){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=YE(0),this.expirationTimes=YE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=YE(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ok(n,t,e,r,a,o,u,h,f){return n=new Nie(n,t,e,h,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Zs(3,null,null,t),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},G6(o),n}function Aie(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$h,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function AL(n){if(!n)return gu;n=n._reactInternals;e:{if(jd(n)!==n||n.tag!==1)throw Error(Dn(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Dn(171))}if(n.tag===1){var e=n.type;if(cs(e))return ND(n,e,t)}return t}function OL(n,t,e,r,a,o,u,h,f){return n=ok(e,r,!0,n,a,o,u,h,f),n.context=AL(null),e=n.current,r=Va(),a=lu(e),o=ec(r,a),o.callback=t??null,su(e,o,a),n.current.lanes=a,x_(n,a,r),us(n,r),n}function Ub(n,t,e,r){var a=t.current,o=Va(),u=lu(a);return e=AL(e),t.context===null?t.context=e:t.pendingContext=e,t=ec(o,u),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=su(a,t,u),n!==null&&(Io(n,a,u,o),og(n,a,u)),u}function eb(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function lO(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function lk(n,t){lO(n,t),(n=n.alternate)&&lO(n,t)}function Oie(){return null}var RL=typeof reportError=="function"?reportError:function(n){console.error(n)};function ck(n){this._internalRoot=n}Pb.prototype.render=ck.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(Dn(409));Ub(n,t,null,null)};Pb.prototype.unmount=ck.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Fd(function(){Ub(null,n,null,null)}),t[ac]=null}};function Pb(n){this._internalRoot=n}Pb.prototype.unstable_scheduleHydration=function(n){if(n){var t=lD();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Kc.length&&t!==0&&t<Kc[e].priority;e++);Kc.splice(e,0,n),e===0&&uD(n)}};function uk(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Fb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function cO(){}function Rie(n,t,e,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var m=eb(u);o.call(m)}}var u=OL(t,r,n,0,null,!1,!1,"",cO);return n._reactRootContainer=u,n[ac]=u.current,e_(n.nodeType===8?n.parentNode:n),Fd(),u}for(;a=n.lastChild;)n.removeChild(a);if(typeof r=="function"){var h=r;r=function(){var m=eb(f);h.call(m)}}var f=ok(n,0,!1,null,null,!1,!1,"",cO);return n._reactRootContainer=f,n[ac]=f.current,e_(n.nodeType===8?n.parentNode:n),Fd(function(){Ub(t,f,e,r)}),f}function Hb(n,t,e,r,a){var o=e._reactRootContainer;if(o){var u=o;if(typeof a=="function"){var h=a;a=function(){var f=eb(u);h.call(f)}}Ub(t,u,n,a)}else u=Rie(e,t,n,a,r);return eb(u)}sD=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=af(t.pendingLanes);e!==0&&(N6(t,e|1),us(t,wi()),!(sr&6)&&(g0=wi()+500,Su()))}break;case 13:Fd(function(){var r=sc(n,1);if(r!==null){var a=Va();Io(r,n,1,a)}}),lk(n,1)}};A6=function(n){if(n.tag===13){var t=sc(n,134217728);if(t!==null){var e=Va();Io(t,n,134217728,e)}lk(n,134217728)}};oD=function(n){if(n.tag===13){var t=lu(n),e=sc(n,t);if(e!==null){var r=Va();Io(e,n,t,r)}lk(n,t)}};lD=function(){return Ar};cD=function(n,t){var e=Ar;try{return Ar=n,t()}finally{Ar=e}};Iw=function(n,t,e){switch(t){case"input":if(Ew(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var a=Nb(r);if(!a)throw Error(Dn(90));B7(r),Ew(r,a)}}}break;case"textarea":z7(n,e);break;case"select":t=e.value,t!=null&&i0(n,!!e.multiple,t,!1)}};Q7=rk;Y7=Fd;var Mie={usingClientEntryPoint:!1,Events:[S_,jh,Nb,K7,W7,rk]},Vp={findFiberByHostInstance:gd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Die={bundleType:Vp.bundleType,version:Vp.version,rendererPackageName:Vp.rendererPackageName,rendererConfig:Vp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=J7(n),n===null?null:n.stateNode},findFiberByHostInstance:Vp.findFiberByHostInstance||Oie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nv.isDisabled&&Nv.supportsFiber)try{Sb=Nv.inject(Die),ul=Nv}catch{}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mie;Ms.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uk(t))throw Error(Dn(200));return Aie(n,t,null,e)};Ms.createRoot=function(n,t){if(!uk(n))throw Error(Dn(299));var e=!1,r="",a=RL;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ok(n,1,!1,null,null,e,!1,r,a),n[ac]=t.current,e_(n.nodeType===8?n.parentNode:n),new ck(t)};Ms.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(Dn(188)):(n=Object.keys(n).join(","),Error(Dn(268,n)));return n=J7(t),n=n===null?null:n.stateNode,n};Ms.flushSync=function(n){return Fd(n)};Ms.hydrate=function(n,t,e){if(!Fb(t))throw Error(Dn(200));return Hb(null,n,t,!0,e)};Ms.hydrateRoot=function(n,t,e){if(!uk(n))throw Error(Dn(405));var r=e!=null&&e.hydratedSources||null,a=!1,o="",u=RL;if(e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),t=OL(t,null,n,1,e??null,a,!1,o,u),n[ac]=t.current,e_(n),r)for(n=0;n<r.length;n++)e=r[n],a=e._getVersion,a=a(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,a]:t.mutableSourceEagerHydrationData.push(e,a);return new Pb(t)};Ms.render=function(n,t,e){if(!Fb(t))throw Error(Dn(200));return Hb(null,n,t,!1,e)};Ms.unmountComponentAtNode=function(n){if(!Fb(n))throw Error(Dn(40));return n._reactRootContainer?(Fd(function(){Hb(null,null,n,!1,function(){n._reactRootContainer=null,n[ac]=null})}),!0):!1};Ms.unstable_batchedUpdates=rk;Ms.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!Fb(e))throw Error(Dn(200));if(n==null||n._reactInternals===void 0)throw Error(Dn(38));return Hb(n,t,e,!1,r)};Ms.version="18.2.0-next-9e3b772b8-20220608";function ML(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ML)}catch(n){console.error(n)}}ML(),O7.exports=Ms;var C_=O7.exports,uO=C_;fw.createRoot=uO.createRoot,fw.hydrateRoot=uO.hydrateRoot;function v3(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.addEventListener&&n.addEventListener.apply(n,t)}function g3(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.removeEventListener&&n.removeEventListener.apply(n,t)}var DL=typeof window<"u",dO=function(n){var t=window.history,e=t[n];t[n]=function(r){var a=e.apply(this,arguments),o=new Event(n.toLowerCase());return o.state=r,window.dispatchEvent(o),a}};DL&&(dO("pushState"),dO("replaceState"));var Lie=function(){return{trigger:"load",length:1}},Av=function(n){var t=window.history,e=t.state,r=t.length,a=window.location,o=a.hash,u=a.host,h=a.hostname,f=a.href,m=a.origin,v=a.pathname,y=a.port,w=a.protocol,x=a.search;return{trigger:n,state:e,length:r,hash:o,host:u,hostname:h,href:f,origin:m,pathname:v,port:y,protocol:w,search:x}},Uie=function(){var n=K.useState(Av("load")),t=n[0],e=n[1];return K.useEffect(function(){var r=function(){return e(Av("popstate"))},a=function(){return e(Av("pushstate"))},o=function(){return e(Av("replacestate"))};return v3(window,"popstate",r),v3(window,"pushstate",a),v3(window,"replacestate",o),function(){g3(window,"popstate",r),g3(window,"pushstate",a),g3(window,"replacestate",o)}},[]),t},Pie=typeof Event=="function";const Fie=DL&&Pie?Uie:Lie;function Hie(n,t){return t.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if(r!=="default"&&!(r in n)){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(n)}var uu=function(){return uu=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},uu.apply(this,arguments)};function ha(n,t,e,r){function a(o){return o instanceof e?o:new e(function(u){u(o)})}return new(e||(e=Promise))(function(o,u){function h(v){try{m(r.next(v))}catch(y){u(y)}}function f(v){try{m(r.throw(v))}catch(y){u(y)}}function m(v){v.done?o(v.value):a(v.value).then(h,f)}m((r=r.apply(n,t||[])).next())})}function pa(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(v){return f([m,v])}}function f(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,a&&(o=m[0]&2?a.return:m[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,m[1])).done)return o;switch(a=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,a=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){e=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(m[0]===6&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(n,e)}catch(v){m=[6,v],a=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function os(n,t,e){if(e||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))}var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vr={exports:{}};(function(n,t){(function(e,r){r(t)})(fg,function(e){function r(s,l){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);l&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),i.push.apply(i,c)}return i}function a(s){for(var l=1;l<arguments.length;l++){var i=arguments[l]!=null?arguments[l]:{};l%2?r(Object(i),!0).forEach(function(c){y(s,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(i,c))})}return s}function o(){o=function(){return s};var s={},l=Object.prototype,i=l.hasOwnProperty,c=Object.defineProperty||function(Tn,Sn,zn){Tn[Sn]=zn.value},d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",_=d.asyncIterator||"@@asyncIterator",g=d.toStringTag||"@@toStringTag";function b(Tn,Sn,zn){return Object.defineProperty(Tn,Sn,{value:zn,enumerable:!0,configurable:!0,writable:!0}),Tn[Sn]}try{b({},"")}catch{b=function(Sn,zn,ft){return Sn[zn]=ft}}function E(Tn,Sn,zn,ft){var lt=Sn&&Sn.prototype instanceof X?Sn:X,ar=Object.create(lt.prototype),jt=new Qe(ft||[]);return c(ar,"_invoke",{value:Ie(Tn,zn,jt)}),ar}function I(Tn,Sn,zn){try{return{type:"normal",arg:Tn.call(Sn,zn)}}catch(ft){return{type:"throw",arg:ft}}}s.wrap=E;var U={};function X(){}function W(){}function de(){}var se={};b(se,p,function(){return this});var fe=Object.getPrototypeOf,Ae=fe&&fe(fe(xn([])));Ae&&Ae!==l&&i.call(Ae,p)&&(se=Ae);var we=de.prototype=X.prototype=Object.create(se);function $e(Tn){["next","throw","return"].forEach(function(Sn){b(Tn,Sn,function(zn){return this._invoke(Sn,zn)})})}function ln(Tn,Sn){function zn(lt,ar,jt,Hi){var na=I(Tn[lt],Tn,ar);if(na.type!=="throw"){var Dl=na.arg,Pc=Dl.value;return Pc&&typeof Pc=="object"&&i.call(Pc,"__await")?Sn.resolve(Pc.__await).then(function($s){zn("next",$s,jt,Hi)},function($s){zn("throw",$s,jt,Hi)}):Sn.resolve(Pc).then(function($s){Dl.value=$s,jt(Dl)},function($s){return zn("throw",$s,jt,Hi)})}Hi(na.arg)}var ft;c(this,"_invoke",{value:function(lt,ar){function jt(){return new Sn(function(Hi,na){zn(lt,ar,Hi,na)})}return ft=ft?ft.then(jt,jt):jt()}})}function Ie(Tn,Sn,zn){var ft="suspendedStart";return function(lt,ar){if(ft==="executing")throw new Error("Generator is already running");if(ft==="completed"){if(lt==="throw")throw ar;return ir()}for(zn.method=lt,zn.arg=ar;;){var jt=zn.delegate;if(jt){var Hi=ye(jt,zn);if(Hi){if(Hi===U)continue;return Hi}}if(zn.method==="next")zn.sent=zn._sent=zn.arg;else if(zn.method==="throw"){if(ft==="suspendedStart")throw ft="completed",zn.arg;zn.dispatchException(zn.arg)}else zn.method==="return"&&zn.abrupt("return",zn.arg);ft="executing";var na=I(Tn,Sn,zn);if(na.type==="normal"){if(ft=zn.done?"completed":"suspendedYield",na.arg===U)continue;return{value:na.arg,done:zn.done}}na.type==="throw"&&(ft="completed",zn.method="throw",zn.arg=na.arg)}}}function ye(Tn,Sn){var zn=Sn.method,ft=Tn.iterator[zn];if(ft===void 0)return Sn.delegate=null,zn==="throw"&&Tn.iterator.return&&(Sn.method="return",Sn.arg=void 0,ye(Tn,Sn),Sn.method==="throw")||zn!=="return"&&(Sn.method="throw",Sn.arg=new TypeError("The iterator does not provide a '"+zn+"' method")),U;var lt=I(ft,Tn.iterator,Sn.arg);if(lt.type==="throw")return Sn.method="throw",Sn.arg=lt.arg,Sn.delegate=null,U;var ar=lt.arg;return ar?ar.done?(Sn[Tn.resultName]=ar.value,Sn.next=Tn.nextLoc,Sn.method!=="return"&&(Sn.method="next",Sn.arg=void 0),Sn.delegate=null,U):ar:(Sn.method="throw",Sn.arg=new TypeError("iterator result is not an object"),Sn.delegate=null,U)}function tn(Tn){var Sn={tryLoc:Tn[0]};1 in Tn&&(Sn.catchLoc=Tn[1]),2 in Tn&&(Sn.finallyLoc=Tn[2],Sn.afterLoc=Tn[3]),this.tryEntries.push(Sn)}function Ze(Tn){var Sn=Tn.completion||{};Sn.type="normal",delete Sn.arg,Tn.completion=Sn}function Qe(Tn){this.tryEntries=[{tryLoc:"root"}],Tn.forEach(tn,this),this.reset(!0)}function xn(Tn){if(Tn){var Sn=Tn[p];if(Sn)return Sn.call(Tn);if(typeof Tn.next=="function")return Tn;if(!isNaN(Tn.length)){var zn=-1,ft=function lt(){for(;++zn<Tn.length;)if(i.call(Tn,zn))return lt.value=Tn[zn],lt.done=!1,lt;return lt.value=void 0,lt.done=!0,lt};return ft.next=ft}}return{next:ir}}function ir(){return{value:void 0,done:!0}}return W.prototype=de,c(we,"constructor",{value:de,configurable:!0}),c(de,"constructor",{value:W,configurable:!0}),W.displayName=b(de,g,"GeneratorFunction"),s.isGeneratorFunction=function(Tn){var Sn=typeof Tn=="function"&&Tn.constructor;return!!Sn&&(Sn===W||(Sn.displayName||Sn.name)==="GeneratorFunction")},s.mark=function(Tn){return Object.setPrototypeOf?Object.setPrototypeOf(Tn,de):(Tn.__proto__=de,b(Tn,g,"GeneratorFunction")),Tn.prototype=Object.create(we),Tn},s.awrap=function(Tn){return{__await:Tn}},$e(ln.prototype),b(ln.prototype,_,function(){return this}),s.AsyncIterator=ln,s.async=function(Tn,Sn,zn,ft,lt){lt===void 0&&(lt=Promise);var ar=new ln(E(Tn,Sn,zn,ft),lt);return s.isGeneratorFunction(Sn)?ar:ar.next().then(function(jt){return jt.done?jt.value:ar.next()})},$e(we),b(we,g,"Generator"),b(we,p,function(){return this}),b(we,"toString",function(){return"[object Generator]"}),s.keys=function(Tn){var Sn=Object(Tn),zn=[];for(var ft in Sn)zn.push(ft);return zn.reverse(),function lt(){for(;zn.length;){var ar=zn.pop();if(ar in Sn)return lt.value=ar,lt.done=!1,lt}return lt.done=!0,lt}},s.values=xn,Qe.prototype={constructor:Qe,reset:function(Tn){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ze),!Tn)for(var Sn in this)Sn.charAt(0)==="t"&&i.call(this,Sn)&&!isNaN(+Sn.slice(1))&&(this[Sn]=void 0)},stop:function(){this.done=!0;var Tn=this.tryEntries[0].completion;if(Tn.type==="throw")throw Tn.arg;return this.rval},dispatchException:function(Tn){if(this.done)throw Tn;var Sn=this;function zn(na,Dl){return ar.type="throw",ar.arg=Tn,Sn.next=na,Dl&&(Sn.method="next",Sn.arg=void 0),!!Dl}for(var ft=this.tryEntries.length-1;ft>=0;--ft){var lt=this.tryEntries[ft],ar=lt.completion;if(lt.tryLoc==="root")return zn("end");if(lt.tryLoc<=this.prev){var jt=i.call(lt,"catchLoc"),Hi=i.call(lt,"finallyLoc");if(jt&&Hi){if(this.prev<lt.catchLoc)return zn(lt.catchLoc,!0);if(this.prev<lt.finallyLoc)return zn(lt.finallyLoc)}else if(jt){if(this.prev<lt.catchLoc)return zn(lt.catchLoc,!0)}else{if(!Hi)throw new Error("try statement without catch or finally");if(this.prev<lt.finallyLoc)return zn(lt.finallyLoc)}}}},abrupt:function(Tn,Sn){for(var zn=this.tryEntries.length-1;zn>=0;--zn){var ft=this.tryEntries[zn];if(ft.tryLoc<=this.prev&&i.call(ft,"finallyLoc")&&this.prev<ft.finallyLoc){var lt=ft;break}}lt&&(Tn==="break"||Tn==="continue")&&lt.tryLoc<=Sn&&Sn<=lt.finallyLoc&&(lt=null);var ar=lt?lt.completion:{};return ar.type=Tn,ar.arg=Sn,lt?(this.method="next",this.next=lt.finallyLoc,U):this.complete(ar)},complete:function(Tn,Sn){if(Tn.type==="throw")throw Tn.arg;return Tn.type==="break"||Tn.type==="continue"?this.next=Tn.arg:Tn.type==="return"?(this.rval=this.arg=Tn.arg,this.method="return",this.next="end"):Tn.type==="normal"&&Sn&&(this.next=Sn),U},finish:function(Tn){for(var Sn=this.tryEntries.length-1;Sn>=0;--Sn){var zn=this.tryEntries[Sn];if(zn.finallyLoc===Tn)return this.complete(zn.completion,zn.afterLoc),Ze(zn),U}},catch:function(Tn){for(var Sn=this.tryEntries.length-1;Sn>=0;--Sn){var zn=this.tryEntries[Sn];if(zn.tryLoc===Tn){var ft=zn.completion;if(ft.type==="throw"){var lt=ft.arg;Ze(zn)}return lt}}throw new Error("illegal catch attempt")},delegateYield:function(Tn,Sn,zn){return this.delegate={iterator:xn(Tn),resultName:Sn,nextLoc:zn},this.method==="next"&&(this.arg=void 0),U}},s}function u(s,l,i,c,d,p,_){try{var g=s[p](_),b=g.value}catch(E){return void i(E)}g.done?l(b):Promise.resolve(b).then(c,d)}function h(s){return function(){var l=this,i=arguments;return new Promise(function(c,d){var p=s.apply(l,i);function _(b){u(p,c,d,_,g,"next",b)}function g(b){u(p,c,d,_,g,"throw",b)}_(void 0)})}}function f(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function m(s,l){for(var i=0;i<l.length;i++){var c=l[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,q(c.key),c)}}function v(s,l,i){return l&&m(s.prototype,l),i&&m(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}function y(s,l,i){return(l=q(l))in s?Object.defineProperty(s,l,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[l]=i,s}function w(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),l&&C(s,l)}function x(s){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},x(s)}function C(s,l){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},C(s,l)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(s,l,i){return L=A()?Reflect.construct.bind():function(c,d,p){var _=[null];_.push.apply(_,d);var g=new(Function.bind.apply(c,_));return p&&C(g,p.prototype),g},L.apply(null,arguments)}function S(s){var l=typeof Map=="function"?new Map:void 0;return S=function(i){if(i===null||!function(d){return Function.toString.call(d).indexOf("[native code]")!==-1}(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(l!==void 0){if(l.has(i))return l.get(i);l.set(i,c)}function c(){return L(i,arguments,x(this).constructor)}return c.prototype=Object.create(i.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),C(c,i)},S(s)}function k(s,l){if(s==null)return{};var i,c,d=function(_,g){if(_==null)return{};var b,E,I={},U=Object.keys(_);for(E=0;E<U.length;E++)b=U[E],g.indexOf(b)>=0||(I[b]=_[b]);return I}(s,l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(s);for(c=0;c<p.length;c++)i=p[c],l.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(s,i)&&(d[i]=s[i])}return d}function N(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function O(s){var l=A();return function(){var i,c=x(s);if(l){var d=x(this).constructor;i=Reflect.construct(c,arguments,d)}else i=c.apply(this,arguments);return function(p,_){if(_&&(typeof _=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(p)}(this,i)}}function H(s){return function(l){if(Array.isArray(l))return T(l)}(s)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(s)||D(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(s,l){if(s){if(typeof s=="string")return T(s,l);var i=Object.prototype.toString.call(s).slice(8,-1);return i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set"?Array.from(s):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?T(s,l):void 0}}function T(s,l){(l==null||l>s.length)&&(l=s.length);for(var i=0,c=new Array(l);i<l;i++)c[i]=s[i];return c}function M(s,l){var i=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!i){if(Array.isArray(s)||(i=D(s))||l&&s&&typeof s.length=="number"){i&&(s=i);var c=0,d=function(){};return{s:d,n:function(){return c>=s.length?{done:!0}:{done:!1,value:s[c++]}},e:function(b){throw b},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,_=!0,g=!1;return{s:function(){i=i.call(s)},n:function(){var b=i.next();return _=b.done,b},e:function(b){g=!0,p=b},f:function(){try{_||i.return==null||i.return()}finally{if(g)throw p}}}}function q(s){var l=function(i,c){if(typeof i!="object"||i===null)return i;var d=i[Symbol.toPrimitive];if(d!==void 0){var p=d.call(i,c||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}(s,"string");return typeof l=="symbol"?l:String(l)}var z,re=new Uint8Array(16);function pe(){if(!z&&!(z=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(re)}var B=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Q(s){return typeof s=="string"&&B.test(s)}for(var ie=[],j=0;j<256;++j)ie.push((j+256).toString(16).substr(1));function me(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(ie[s[l+0]]+ie[s[l+1]]+ie[s[l+2]]+ie[s[l+3]]+"-"+ie[s[l+4]]+ie[s[l+5]]+"-"+ie[s[l+6]]+ie[s[l+7]]+"-"+ie[s[l+8]]+ie[s[l+9]]+"-"+ie[s[l+10]]+ie[s[l+11]]+ie[s[l+12]]+ie[s[l+13]]+ie[s[l+14]]+ie[s[l+15]]).toLowerCase();if(!Q(i))throw TypeError("Stringified UUID is invalid");return i}var ae="6ba7b810-9dad-11d1-80b4-00c04fd430c8",oe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function ve(s,l,i){function c(d,p,_,g){if(typeof d=="string"&&(d=function(I){I=unescape(encodeURIComponent(I));for(var U=[],X=0;X<I.length;++X)U.push(I.charCodeAt(X));return U}(d)),typeof p=="string"&&(p=function(I){if(!Q(I))throw TypeError("Invalid UUID");var U,X=new Uint8Array(16);return X[0]=(U=parseInt(I.slice(0,8),16))>>>24,X[1]=U>>>16&255,X[2]=U>>>8&255,X[3]=255&U,X[4]=(U=parseInt(I.slice(9,13),16))>>>8,X[5]=255&U,X[6]=(U=parseInt(I.slice(14,18),16))>>>8,X[7]=255&U,X[8]=(U=parseInt(I.slice(19,23),16))>>>8,X[9]=255&U,X[10]=(U=parseInt(I.slice(24,36),16))/1099511627776&255,X[11]=U/4294967296&255,X[12]=U>>>24&255,X[13]=U>>>16&255,X[14]=U>>>8&255,X[15]=255&U,X}(p)),p.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var b=new Uint8Array(16+d.length);if(b.set(p),b.set(d,p.length),(b=i(b))[6]=15&b[6]|l,b[8]=63&b[8]|128,_){g=g||0;for(var E=0;E<16;++E)_[g+E]=b[E];return _}return me(b)}try{c.name=s}catch{}return c.DNS=ae,c.URL=oe,c}function Re(s){return 14+(s+64>>>9<<4)+1}function ue(s,l){var i=(65535&s)+(65535&l);return(s>>16)+(l>>16)+(i>>16)<<16|65535&i}function he(s,l,i,c,d,p){return ue((_=ue(ue(l,s),ue(c,p)))<<(g=d)|_>>>32-g,i);var _,g}function V(s,l,i,c,d,p,_){return he(l&i|~l&c,s,l,d,p,_)}function Y(s,l,i,c,d,p,_){return he(l&c|i&~c,s,l,d,p,_)}function $(s,l,i,c,d,p,_){return he(l^i^c,s,l,d,p,_)}function te(s,l,i,c,d,p,_){return he(i^(l|~c),s,l,d,p,_)}function Me(s,l,i){var c=(s=s||{}).random||(s.rng||pe)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,l){i=i||0;for(var d=0;d<16;++d)l[i+d]=c[d];return l}return me(c)}function Ke(s,l,i,c){switch(s){case 0:return l&i^~l&c;case 1:case 3:return l^i^c;case 2:return l&i^l&c^i&c}}function Oe(s,l){return s<<l|s>>>32-l}ve("v3",48,function(s){if(typeof s=="string"){var l=unescape(encodeURIComponent(s));s=new Uint8Array(l.length);for(var i=0;i<l.length;++i)s[i]=l.charCodeAt(i)}return function(c){for(var d=[],p=32*c.length,_="0123456789abcdef",g=0;g<p;g+=8){var b=c[g>>5]>>>g%32&255,E=parseInt(_.charAt(b>>>4&15)+_.charAt(15&b),16);d.push(E)}return d}(function(c,d){c[d>>5]|=128<<d%32,c[Re(d)-1]=d;for(var p=1732584193,_=-271733879,g=-1732584194,b=271733878,E=0;E<c.length;E+=16){var I=p,U=_,X=g,W=b;p=V(p,_,g,b,c[E],7,-680876936),b=V(b,p,_,g,c[E+1],12,-389564586),g=V(g,b,p,_,c[E+2],17,606105819),_=V(_,g,b,p,c[E+3],22,-1044525330),p=V(p,_,g,b,c[E+4],7,-176418897),b=V(b,p,_,g,c[E+5],12,1200080426),g=V(g,b,p,_,c[E+6],17,-1473231341),_=V(_,g,b,p,c[E+7],22,-45705983),p=V(p,_,g,b,c[E+8],7,1770035416),b=V(b,p,_,g,c[E+9],12,-1958414417),g=V(g,b,p,_,c[E+10],17,-42063),_=V(_,g,b,p,c[E+11],22,-1990404162),p=V(p,_,g,b,c[E+12],7,1804603682),b=V(b,p,_,g,c[E+13],12,-40341101),g=V(g,b,p,_,c[E+14],17,-1502002290),p=Y(p,_=V(_,g,b,p,c[E+15],22,1236535329),g,b,c[E+1],5,-165796510),b=Y(b,p,_,g,c[E+6],9,-1069501632),g=Y(g,b,p,_,c[E+11],14,643717713),_=Y(_,g,b,p,c[E],20,-373897302),p=Y(p,_,g,b,c[E+5],5,-701558691),b=Y(b,p,_,g,c[E+10],9,38016083),g=Y(g,b,p,_,c[E+15],14,-660478335),_=Y(_,g,b,p,c[E+4],20,-405537848),p=Y(p,_,g,b,c[E+9],5,568446438),b=Y(b,p,_,g,c[E+14],9,-1019803690),g=Y(g,b,p,_,c[E+3],14,-187363961),_=Y(_,g,b,p,c[E+8],20,1163531501),p=Y(p,_,g,b,c[E+13],5,-1444681467),b=Y(b,p,_,g,c[E+2],9,-51403784),g=Y(g,b,p,_,c[E+7],14,1735328473),p=$(p,_=Y(_,g,b,p,c[E+12],20,-1926607734),g,b,c[E+5],4,-378558),b=$(b,p,_,g,c[E+8],11,-2022574463),g=$(g,b,p,_,c[E+11],16,1839030562),_=$(_,g,b,p,c[E+14],23,-35309556),p=$(p,_,g,b,c[E+1],4,-1530992060),b=$(b,p,_,g,c[E+4],11,1272893353),g=$(g,b,p,_,c[E+7],16,-155497632),_=$(_,g,b,p,c[E+10],23,-1094730640),p=$(p,_,g,b,c[E+13],4,681279174),b=$(b,p,_,g,c[E],11,-358537222),g=$(g,b,p,_,c[E+3],16,-722521979),_=$(_,g,b,p,c[E+6],23,76029189),p=$(p,_,g,b,c[E+9],4,-640364487),b=$(b,p,_,g,c[E+12],11,-421815835),g=$(g,b,p,_,c[E+15],16,530742520),p=te(p,_=$(_,g,b,p,c[E+2],23,-995338651),g,b,c[E],6,-198630844),b=te(b,p,_,g,c[E+7],10,1126891415),g=te(g,b,p,_,c[E+14],15,-1416354905),_=te(_,g,b,p,c[E+5],21,-57434055),p=te(p,_,g,b,c[E+12],6,1700485571),b=te(b,p,_,g,c[E+3],10,-1894986606),g=te(g,b,p,_,c[E+10],15,-1051523),_=te(_,g,b,p,c[E+1],21,-2054922799),p=te(p,_,g,b,c[E+8],6,1873313359),b=te(b,p,_,g,c[E+15],10,-30611744),g=te(g,b,p,_,c[E+6],15,-1560198380),_=te(_,g,b,p,c[E+13],21,1309151649),p=te(p,_,g,b,c[E+4],6,-145523070),b=te(b,p,_,g,c[E+11],10,-1120210379),g=te(g,b,p,_,c[E+2],15,718787259),_=te(_,g,b,p,c[E+9],21,-343485551),p=ue(p,I),_=ue(_,U),g=ue(g,X),b=ue(b,W)}return[p,_,g,b]}(function(c){if(c.length===0)return[];for(var d=8*c.length,p=new Uint32Array(Re(d)),_=0;_<d;_+=8)p[_>>5]|=(255&c[_/8])<<_%32;return p}(s),8*s.length))}),ve("v5",80,function(s){var l=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var c=unescape(encodeURIComponent(s));s=[];for(var d=0;d<c.length;++d)s.push(c.charCodeAt(d))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var p=s.length/4+2,_=Math.ceil(p/16),g=new Array(_),b=0;b<_;++b){for(var E=new Uint32Array(16),I=0;I<16;++I)E[I]=s[64*b+4*I]<<24|s[64*b+4*I+1]<<16|s[64*b+4*I+2]<<8|s[64*b+4*I+3];g[b]=E}g[_-1][14]=8*(s.length-1)/Math.pow(2,32),g[_-1][14]=Math.floor(g[_-1][14]),g[_-1][15]=8*(s.length-1)&4294967295;for(var U=0;U<_;++U){for(var X=new Uint32Array(80),W=0;W<16;++W)X[W]=g[U][W];for(var de=16;de<80;++de)X[de]=Oe(X[de-3]^X[de-8]^X[de-14]^X[de-16],1);for(var se=i[0],fe=i[1],Ae=i[2],we=i[3],$e=i[4],ln=0;ln<80;++ln){var Ie=Math.floor(ln/20),ye=Oe(se,5)+Ke(Ie,fe,Ae,we)+$e+l[Ie]+X[ln]>>>0;$e=we,we=Ae,Ae=Oe(fe,30)>>>0,fe=se,se=ye}i[0]=i[0]+se>>>0,i[1]=i[1]+fe>>>0,i[2]=i[2]+Ae>>>0,i[3]=i[3]+we>>>0,i[4]=i[4]+$e>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]});var xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof fg<"u"?fg:typeof self<"u"?self:{},Le=function(s){try{return!!s()}catch{return!0}},Fe=!Le(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")}),Je=Fe,en=Function.prototype,un=en.call,_n=Je&&en.bind.bind(un,un),on=Je?_n:function(s){return function(){return un.apply(s,arguments)}},Hn=on,Vn=Hn({}.toString),G=Hn("".slice),ee=function(s){return G(Vn(s),8,-1)},yn=Le,Cn=ee,Xn=Object,qn=on("".split),$n=yn(function(){return!Xn("z").propertyIsEnumerable(0)})?function(s){return Cn(s)=="String"?qn(s,""):Xn(s)}:Xn,On=function(s){return s==null},pt=On,Yn=TypeError,wn=function(s){if(pt(s))throw Yn("Can't call method on "+s);return s},Tt=$n,mt=wn,jn=function(s){return Tt(mt(s))},Mn=function(s){return s&&s.Math==Math&&s},rn=Mn(typeof globalThis=="object"&&globalThis)||Mn(typeof window=="object"&&window)||Mn(typeof self=="object"&&self)||Mn(typeof xe=="object"&&xe)||function(){return this}()||Function("return this")(),ot={exports:{}},ht=rn,wt=Object.defineProperty,yt=function(s,l){try{wt(ht,s,{value:l,configurable:!0,writable:!0})}catch{ht[s]=l}return l},hr=yt,Zr="__core-js_shared__",Or=rn[Zr]||hr(Zr,{}),Ya=Or;(ot.exports=function(s,l){return Ya[s]||(Ya[s]=l!==void 0?l:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var qr,Qi,Ni=wn,ce=Object,le=function(s){return ce(Ni(s))},ke=le,Ne=on({}.hasOwnProperty),Pe=Object.hasOwn||function(s,l){return Ne(ke(s),l)},ge=on,He=0,Ve=Math.random(),Ue=ge(1 .toString),nn=function(s){return"Symbol("+(s===void 0?"":s)+")_"+Ue(++He+Ve,36)},Ge=typeof navigator<"u"&&String(navigator.userAgent)||"",sn=rn,Nn=Ge,it=sn.process,je=sn.Deno,Se=it&&it.versions||je&&je.version,Ce=Se&&Se.v8;Ce&&(Qi=(qr=Ce.split("."))[0]>0&&qr[0]<4?1:+(qr[0]+qr[1])),!Qi&&Nn&&(!(qr=Nn.match(/Edge\/(\d+)/))||qr[1]>=74)&&(qr=Nn.match(/Chrome\/(\d+)/))&&(Qi=+qr[1]);var Ye=Qi,Kn=Ye,pn=Le,Ln=!!Object.getOwnPropertySymbols&&!pn(function(){var s=Symbol();return!String(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&Kn&&Kn<41}),cn=Ln&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Zn=rn,$t=ot.exports,Rn=Pe,vt=nn,Ct=Ln,lr=cn,jr=Zn.Symbol,br=$t("wks"),pr=lr?jr.for||jr:jr&&jr.withoutSetter||vt,Ft=function(s){return Rn(br,s)||(br[s]=Ct&&Rn(jr,s)?jr[s]:pr("Symbol."+s)),br[s]},mi=typeof document=="object"&&document.all,Mr={all:mi,IS_HTMLDDA:mi===void 0&&mi!==void 0},Ui=Mr.all,qt=Mr.IS_HTMLDDA?function(s){return typeof s=="function"||s===Ui}:function(s){return typeof s=="function"},hi=qt,Ra=Mr.all,Dr=Mr.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:hi(s)||s===Ra}:function(s){return typeof s=="object"?s!==null:hi(s)},yl=Dr,pc=String,El=TypeError,ai=function(s){if(yl(s))return s;throw El(pc(s)+" is not an object")},fr={},vi=!Le(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),fc=vi&&Le(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),xi={},wl=Dr,Do=rn.document,Lo=wl(Do)&&wl(Do.createElement),Uo=function(s){return Lo?Do.createElement(s):{}},Jr=Uo,Po=!vi&&!Le(function(){return Object.defineProperty(Jr("div"),"a",{get:function(){return 7}}).a!=7}),_c=Fe,Ot=Function.prototype.call,Wn=_c?Ot.bind(Ot):function(){return Ot.apply(Ot,arguments)},Xe=rn,qe=qt,Gn=function(s,l){return arguments.length<2?(i=Xe[s],qe(i)?i:void 0):Xe[s]&&Xe[s][l];var i},Jn=on({}.isPrototypeOf),Xt=Gn,It=qt,Ma=Jn,mc=Object,vc=cn?function(s){return typeof s=="symbol"}:function(s){var l=Xt("Symbol");return It(l)&&Ma(l.prototype,mc(s))},XP=String,P0=function(s){try{return XP(s)}catch{return"Object"}},ZP=qt,JP=P0,eF=TypeError,Fo=function(s){if(ZP(s))return s;throw eF(JP(s)+" is not a function")},nF=Fo,tF=On,F0=function(s,l){var i=s[l];return tF(i)?void 0:nF(i)},p1=Wn,f1=qt,_1=Dr,rF=TypeError,iF=Wn,zk=Dr,Vk=vc,aF=F0,sF=function(s,l){var i,c;if(l==="string"&&f1(i=s.toString)&&!_1(c=p1(i,s))||f1(i=s.valueOf)&&!_1(c=p1(i,s))||l!=="string"&&f1(i=s.toString)&&!_1(c=p1(i,s)))return c;throw rF("Can't convert object to primitive value")},oF=TypeError,lF=Ft("toPrimitive"),Gk=function(s,l){if(!zk(s)||Vk(s))return s;var i,c=aF(s,lF);if(c){if(l===void 0&&(l="default"),i=iF(c,s,l),!zk(i)||Vk(i))return i;throw oF("Can't convert object to primitive value")}return l===void 0&&(l="number"),sF(s,l)},cF=Gk,uF=vc,m1=function(s){var l=cF(s,"string");return uF(l)?l:l+""},dF=vi,hF=Po,pF=fc,L_=ai,qk=m1,fF=TypeError,v1=Object.defineProperty,_F=Object.getOwnPropertyDescriptor,g1="enumerable",b1="configurable",y1="writable";xi.f=dF?pF?function(s,l,i){if(L_(s),l=qk(l),L_(i),typeof s=="function"&&l==="prototype"&&"value"in i&&y1 in i&&!i[y1]){var c=_F(s,l);c&&c[y1]&&(s[l]=i.value,i={configurable:b1 in i?i[b1]:c[b1],enumerable:g1 in i?i[g1]:c[g1],writable:!1})}return v1(s,l,i)}:v1:function(s,l,i){if(L_(s),l=qk(l),L_(i),hF)try{return v1(s,l,i)}catch{}if("get"in i||"set"in i)throw fF("Accessors not supported");return"value"in i&&(s[l]=i.value),s};var mF=Math.ceil,vF=Math.floor,gF=Math.trunc||function(s){var l=+s;return(l>0?vF:mF)(l)},bF=gF,nh=function(s){var l=+s;return l!=l||l===0?0:bF(l)},yF=nh,EF=Math.max,wF=Math.min,U_=function(s,l){var i=yF(s);return i<0?EF(i+l,0):wF(i,l)},xF=nh,kF=Math.min,P_=function(s){return s>0?kF(xF(s),9007199254740991):0},SF=P_,gc=function(s){return SF(s.length)},TF=jn,CF=U_,IF=gc,jk=function(s){return function(l,i,c){var d,p=TF(l),_=IF(p),g=CF(c,_);if(s&&i!=i){for(;_>g;)if((d=p[g++])!=d)return!0}else for(;_>g;g++)if((s||g in p)&&p[g]===i)return s||g||0;return!s&&-1}},E1={includes:jk(!0),indexOf:jk(!1)},F_={},w1=Pe,NF=jn,AF=E1.indexOf,OF=F_,Kk=on([].push),Wk=function(s,l){var i,c=NF(s),d=0,p=[];for(i in c)!w1(OF,i)&&w1(c,i)&&Kk(p,i);for(;l.length>d;)w1(c,i=l[d++])&&(~AF(p,i)||Kk(p,i));return p},x1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],RF=Wk,MF=x1,k1=Object.keys||function(s){return RF(s,MF)},DF=vi,LF=fc,UF=xi,PF=ai,FF=jn,HF=k1;fr.f=DF&&!LF?Object.defineProperties:function(s,l){PF(s);for(var i,c=FF(l),d=HF(l),p=d.length,_=0;p>_;)UF.f(s,i=d[_++],c[i]);return s};var H_,Qk=Gn("document","documentElement"),BF=ot.exports,$F=nn,Yk=BF("keys"),S1=function(s){return Yk[s]||(Yk[s]=$F(s))},zF=ai,VF=fr,Xk=x1,GF=F_,qF=Qk,jF=Uo,T1="prototype",C1="script",Zk=S1("IE_PROTO"),I1=function(){},Jk=function(s){return"<"+C1+">"+s+"</"+C1+">"},eS=function(s){s.write(Jk("")),s.close();var l=s.parentWindow.Object;return s=null,l},B_=function(){try{H_=new ActiveXObject("htmlfile")}catch{}var s,l,i;B_=typeof document<"u"?document.domain&&H_?eS(H_):(l=jF("iframe"),i="java"+C1+":",l.style.display="none",qF.appendChild(l),l.src=String(i),(s=l.contentWindow.document).open(),s.write(Jk("document.F=Object")),s.close(),s.F):eS(H_);for(var c=Xk.length;c--;)delete B_[T1][Xk[c]];return B_()};GF[Zk]=!0;var $_=Object.create||function(s,l){var i;return s!==null?(I1[T1]=zF(s),i=new I1,I1[T1]=null,i[Zk]=s):i=B_(),l===void 0?i:VF.f(i,l)},KF=Ft,WF=$_,QF=xi.f,N1=KF("unscopables"),A1=Array.prototype;A1[N1]==null&&QF(A1,N1,{configurable:!0,value:WF(null)});var z_,H0,V_,G_=function(s){A1[N1][s]=!0},B0={},YF=qt,nS=rn.WeakMap,XF=YF(nS)&&/native code/.test(String(nS)),q_=function(s,l){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:l}},ZF=xi,JF=q_,th=vi?function(s,l,i){return ZF.f(s,l,JF(1,i))}:function(s,l,i){return s[l]=i,s},eH=XF,tS=rn,nH=Dr,tH=th,O1=Pe,R1=Or,rH=S1,iH=F_,rS="Object already initialized",M1=tS.TypeError,aH=tS.WeakMap;if(eH||R1.state){var Ho=R1.state||(R1.state=new aH);Ho.get=Ho.get,Ho.has=Ho.has,Ho.set=Ho.set,z_=function(s,l){if(Ho.has(s))throw M1(rS);return l.facade=s,Ho.set(s,l),l},H0=function(s){return Ho.get(s)||{}},V_=function(s){return Ho.has(s)}}else{var rh=rH("state");iH[rh]=!0,z_=function(s,l){if(O1(s,rh))throw M1(rS);return l.facade=s,tH(s,rh,l),l},H0=function(s){return O1(s,rh)?s[rh]:{}},V_=function(s){return O1(s,rh)}}var bc={set:z_,get:H0,has:V_,enforce:function(s){return V_(s)?H0(s):z_(s,{})},getterFor:function(s){return function(l){var i;if(!nH(l)||(i=H0(l)).type!==s)throw M1("Incompatible receiver, "+s+" required");return i}}},$0={},D1={},iS={}.propertyIsEnumerable,aS=Object.getOwnPropertyDescriptor,sH=aS&&!iS.call({1:2},1);D1.f=sH?function(s){var l=aS(this,s);return!!l&&l.enumerable}:iS;var oH=vi,lH=Wn,cH=D1,uH=q_,dH=jn,hH=m1,pH=Pe,fH=Po,sS=Object.getOwnPropertyDescriptor;$0.f=oH?sS:function(s,l){if(s=dH(s),l=hH(l),fH)try{return sS(s,l)}catch{}if(pH(s,l))return uH(!lH(cH.f,s,l),s[l])};var L1={exports:{}},U1=vi,_H=Pe,oS=Function.prototype,mH=U1&&Object.getOwnPropertyDescriptor,P1=_H(oS,"name"),j_={EXISTS:P1,PROPER:P1&&(function(){}).name==="something",CONFIGURABLE:P1&&(!U1||U1&&mH(oS,"name").configurable)},vH=qt,F1=Or,gH=on(Function.toString);vH(F1.inspectSource)||(F1.inspectSource=function(s){return gH(s)});var H1=F1.inspectSource,B1=on,bH=Le,yH=qt,K_=Pe,$1=vi,EH=j_.CONFIGURABLE,wH=H1,xH=bc.enforce,kH=bc.get,lS=String,W_=Object.defineProperty,SH=B1("".slice),TH=B1("".replace),CH=B1([].join),IH=$1&&!bH(function(){return W_(function(){},"length",{value:8}).length!==8}),NH=String(String).split("String"),AH=L1.exports=function(s,l,i){SH(lS(l),0,7)==="Symbol("&&(l="["+TH(lS(l),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(l="get "+l),i&&i.setter&&(l="set "+l),(!K_(s,"name")||EH&&s.name!==l)&&($1?W_(s,"name",{value:l,configurable:!0}):s.name=l),IH&&i&&K_(i,"arity")&&s.length!==i.arity&&W_(s,"length",{value:i.arity});try{i&&K_(i,"constructor")&&i.constructor?$1&&W_(s,"prototype",{writable:!1}):s.prototype&&(s.prototype=void 0)}catch{}var c=xH(s);return K_(c,"source")||(c.source=CH(NH,typeof l=="string"?l:"")),s};Function.prototype.toString=AH(function(){return yH(this)&&kH(this).source||wH(this)},"toString");var OH=qt,RH=xi,MH=L1.exports,DH=yt,Bo=function(s,l,i,c){c||(c={});var d=c.enumerable,p=c.name!==void 0?c.name:l;if(OH(i)&&MH(i,p,c),c.global)d?s[l]=i:DH(l,i);else{try{c.unsafe?s[l]&&(d=!0):delete s[l]}catch{}d?s[l]=i:RH.f(s,l,{value:i,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return s},z0={},LH=Wk,UH=x1.concat("length","prototype");z0.f=Object.getOwnPropertyNames||function(s){return LH(s,UH)};var z1={};z1.f=Object.getOwnPropertySymbols;var Nu,cS,uS,PH=Gn,FH=z0,HH=z1,BH=ai,$H=on([].concat),zH=PH("Reflect","ownKeys")||function(s){var l=FH.f(BH(s)),i=HH.f;return i?$H(l,i(s)):l},dS=Pe,VH=zH,GH=$0,qH=xi,jH=Le,KH=qt,WH=/#|\.prototype\./,V0=function(s,l){var i=YH[QH(s)];return i==ZH||i!=XH&&(KH(l)?jH(l):!!l)},QH=V0.normalize=function(s){return String(s).replace(WH,".").toLowerCase()},YH=V0.data={},XH=V0.NATIVE="N",ZH=V0.POLYFILL="P",Q_=V0,V1=rn,JH=$0.f,eB=th,nB=Bo,tB=yt,rB=function(s,l,i){for(var c=VH(l),d=qH.f,p=GH.f,_=0;_<c.length;_++){var g=c[_];dS(s,g)||i&&dS(i,g)||d(s,g,p(l,g))}},iB=Q_,Lr=function(s,l){var i,c,d,p,_,g=s.target,b=s.global,E=s.stat;if(i=b?V1:E?V1[g]||tB(g,{}):(V1[g]||{}).prototype)for(c in l){if(p=l[c],d=s.dontCallGetSet?(_=JH(i,c))&&_.value:i[c],!iB(b?c:g+(E?".":"#")+c,s.forced)&&d!==void 0){if(typeof p==typeof d)continue;rB(p,d)}(s.sham||d&&d.sham)&&eB(p,"sham",!0),nB(i,c,p,s)}},aB=!Le(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}),sB=Pe,oB=qt,lB=le,cB=aB,hS=S1("IE_PROTO"),G1=Object,uB=G1.prototype,pS=cB?G1.getPrototypeOf:function(s){var l=lB(s);if(sB(l,hS))return l[hS];var i=l.constructor;return oB(i)&&l instanceof i?i.prototype:l instanceof G1?uB:null},dB=Le,hB=qt,pB=Dr,fS=pS,fB=Bo,q1=Ft("iterator"),_S=!1;[].keys&&("next"in(uS=[].keys())?(cS=fS(fS(uS)))!==Object.prototype&&(Nu=cS):_S=!0);var _B=!pB(Nu)||dB(function(){var s={};return Nu[q1].call(s)!==s});_B&&(Nu={}),hB(Nu[q1])||fB(Nu,q1,function(){return this});var j1={IteratorPrototype:Nu,BUGGY_SAFARI_ITERATORS:_S},mB=xi.f,vB=Pe,mS=Ft("toStringTag"),Y_=function(s,l,i){s&&!i&&(s=s.prototype),s&&!vB(s,mS)&&mB(s,mS,{configurable:!0,value:l})},gB=j1.IteratorPrototype,bB=$_,yB=q_,EB=Y_,wB=B0,xB=function(){return this},kB=on,SB=Fo,TB=qt,CB=String,IB=TypeError,NB=function(s,l,i){try{return kB(SB(Object.getOwnPropertyDescriptor(s,l)[i]))}catch{}},AB=ai,OB=function(s){if(typeof s=="object"||TB(s))return s;throw IB("Can't set "+CB(s)+" as a prototype")},K1=Object.setPrototypeOf||("__proto__"in{}?function(){var s,l=!1,i={};try{(s=NB(Object.prototype,"__proto__","set"))(i,[]),l=i instanceof Array}catch{}return function(c,d){return AB(c),OB(d),l?s(c,d):c.__proto__=d,c}}():void 0),RB=Lr,MB=Wn,DB=qt,LB=function(s,l,i,c){var d=l+" Iterator";return s.prototype=bB(gB,{next:yB(+!c,i)}),EB(s,d,!1),wB[d]=xB,s},vS=pS,gS=K1,UB=Y_,PB=th,W1=Bo,FB=B0,HB=j_.PROPER,BB=j_.CONFIGURABLE,bS=j1.IteratorPrototype,X_=j1.BUGGY_SAFARI_ITERATORS,G0=Ft("iterator"),yS="keys",q0="values",ES="entries",$B=function(){return this},Q1=function(s,l,i,c,d,p,_){LB(i,l,c);var g,b,E,I=function(Ae){if(Ae===d&&se)return se;if(!X_&&Ae in W)return W[Ae];switch(Ae){case yS:case q0:case ES:return function(){return new i(this,Ae)}}return function(){return new i(this)}},U=l+" Iterator",X=!1,W=s.prototype,de=W[G0]||W["@@iterator"]||d&&W[d],se=!X_&&de||I(d),fe=l=="Array"&&W.entries||de;if(fe&&(g=vS(fe.call(new s)))!==Object.prototype&&g.next&&(vS(g)!==bS&&(gS?gS(g,bS):DB(g[G0])||W1(g,G0,$B)),UB(g,U,!0)),HB&&d==q0&&de&&de.name!==q0&&(BB?PB(W,"name",q0):(X=!0,se=function(){return MB(de,this)})),d)if(b={values:I(q0),keys:p?se:I(yS),entries:I(ES)},_)for(E in b)(X_||X||!(E in W))&&W1(W,E,b[E]);else RB({target:l,proto:!0,forced:X_||X},b);return W[G0]!==se&&W1(W,G0,se,{name:d}),FB[l]=se,b},Y1=function(s,l){return{value:s,done:l}},zB=jn,X1=G_,wS=B0,xS=bc,VB=xi.f,GB=Q1,kS=Y1,qB=vi,SS="Array Iterator",jB=xS.set,KB=xS.getterFor(SS),WB=GB(Array,"Array",function(s,l){jB(this,{type:SS,target:zB(s),index:0,kind:l})},function(){var s=KB(this),l=s.target,i=s.kind,c=s.index++;return!l||c>=l.length?(s.target=void 0,kS(void 0,!0)):kS(i=="keys"?c:i=="values"?l[c]:[c,l[c]],!1)},"values"),TS=wS.Arguments=wS.Array;if(X1("keys"),X1("values"),X1("entries"),qB&&TS.name!=="values")try{VB(TS,"name",{value:"values"})}catch{}var CS={};CS[Ft("toStringTag")]="z";var Z1=String(CS)==="[object z]",QB=Z1,YB=qt,Z_=ee,XB=Ft("toStringTag"),ZB=Object,JB=Z_(function(){return arguments}())=="Arguments",J_=QB?Z_:function(s){var l,i,c;return s===void 0?"Undefined":s===null?"Null":typeof(i=function(d,p){try{return d[p]}catch{}}(l=ZB(s),XB))=="string"?i:JB?Z_(l):(c=Z_(l))=="Object"&&YB(l.callee)?"Arguments":c},e$=J_,n$=Z1?{}.toString:function(){return"[object "+e$(this)+"]"};Z1||Bo(Object.prototype,"toString",n$,{unsafe:!0});var j0=typeof process<"u"&&ee(process)=="process",IS=L1.exports,t$=xi,NS=function(s,l,i){return i.get&&IS(i.get,l,{getter:!0}),i.set&&IS(i.set,l,{setter:!0}),t$.f(s,l,i)},r$=Gn,i$=NS,a$=vi,AS=Ft("species"),OS=function(s){var l=r$(s);a$&&l&&!l[AS]&&i$(l,AS,{configurable:!0,get:function(){return this}})},s$=Jn,o$=TypeError,J1=function(s,l){if(s$(l,s))return s;throw o$("Incorrect invocation")},l$=on,c$=Le,RS=qt,u$=J_,d$=H1,MS=function(){},h$=[],DS=Gn("Reflect","construct"),ey=/^\s*(?:class|function)\b/,p$=l$(ey.exec),f$=!ey.exec(MS),K0=function(s){if(!RS(s))return!1;try{return DS(MS,h$,s),!0}catch{return!1}},LS=function(s){if(!RS(s))return!1;switch(u$(s)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f$||!!p$(ey,d$(s))}catch{return!0}};LS.sham=!0;var W0,ih,US,ny,ty=!DS||c$(function(){var s;return K0(K0.call)||!K0(Object)||!K0(function(){s=!0})||s})?LS:K0,_$=ty,m$=P0,v$=TypeError,PS=ai,g$=function(s){if(_$(s))return s;throw v$(m$(s)+" is not a constructor")},b$=On,y$=Ft("species"),E$=Fe,FS=Function.prototype,HS=FS.apply,BS=FS.call,$S=typeof Reflect=="object"&&Reflect.apply||(E$?BS.bind(HS):function(){return BS.apply(HS,arguments)}),w$=ee,x$=on,em=function(s){if(w$(s)==="Function")return x$(s)},k$=Fo,S$=Fe,T$=em(em.bind),Q0=function(s,l){return k$(s),l===void 0?s:S$?T$(s,l):function(){return s.apply(l,arguments)}},zS=on([].slice),C$=TypeError,VS=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ge),ps=rn,I$=$S,N$=Q0,GS=qt,A$=Pe,qS=Le,jS=Qk,O$=zS,KS=Uo,R$=function(s,l){if(s<l)throw C$("Not enough arguments");return s},M$=VS,D$=j0,ry=ps.setImmediate,iy=ps.clearImmediate,L$=ps.process,ay=ps.Dispatch,U$=ps.Function,WS=ps.MessageChannel,P$=ps.String,sy=0,Y0={},QS="onreadystatechange";qS(function(){W0=ps.location});var oy=function(s){if(A$(Y0,s)){var l=Y0[s];delete Y0[s],l()}},ly=function(s){return function(){oy(s)}},YS=function(s){oy(s.data)},XS=function(s){ps.postMessage(P$(s),W0.protocol+"//"+W0.host)};ry&&iy||(ry=function(s){R$(arguments.length,1);var l=GS(s)?s:U$(s),i=O$(arguments,1);return Y0[++sy]=function(){I$(l,void 0,i)},ih(sy),sy},iy=function(s){delete Y0[s]},D$?ih=function(s){L$.nextTick(ly(s))}:ay&&ay.now?ih=function(s){ay.now(ly(s))}:WS&&!M$?(ny=(US=new WS).port2,US.port1.onmessage=YS,ih=N$(ny.postMessage,ny)):ps.addEventListener&&GS(ps.postMessage)&&!ps.importScripts&&W0&&W0.protocol!=="file:"&&!qS(XS)?(ih=XS,ps.addEventListener("message",YS,!1)):ih=QS in KS("script")?function(s){jS.appendChild(KS("script"))[QS]=function(){jS.removeChild(this),oy(s)}}:function(s){setTimeout(ly(s),0)});var ZS={set:ry,clear:iy},JS=function(){this.head=null,this.tail=null};JS.prototype={add:function(s){var l={item:s,next:null},i=this.tail;i?i.next=l:this.head=l,this.tail=l},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}};var ah,cy,uy,dy,eT,nT=JS,F$=/ipad|iphone|ipod/i.test(Ge)&&typeof Pebble<"u",H$=/web0s(?!.*chrome)/i.test(Ge),Au=rn,tT=Q0,B$=$0.f,hy=ZS.set,$$=nT,z$=VS,V$=F$,G$=H$,py=j0,rT=Au.MutationObserver||Au.WebKitMutationObserver,iT=Au.document,aT=Au.process,nm=Au.Promise,sT=B$(Au,"queueMicrotask"),fy=sT&&sT.value;if(!fy){var tm=new $$,rm=function(){var s,l;for(py&&(s=aT.domain)&&s.exit();l=tm.get();)try{l()}catch(i){throw tm.head&&ah(),i}s&&s.enter()};z$||py||G$||!rT||!iT?!V$&&nm&&nm.resolve?((dy=nm.resolve(void 0)).constructor=nm,eT=tT(dy.then,dy),ah=function(){eT(rm)}):py?ah=function(){aT.nextTick(rm)}:(hy=tT(hy,Au),ah=function(){hy(rm)}):(cy=!0,uy=iT.createTextNode(""),new rT(rm).observe(uy,{characterData:!0}),ah=function(){uy.data=cy=!cy}),fy=function(s){tm.head||ah(),tm.add(s)}}var q$=fy,im=function(s){try{return{error:!1,value:s()}}catch(l){return{error:!0,value:l}}},am=rn.Promise,oT=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",j$=!oT&&!j0&&typeof window=="object"&&typeof document=="object",K$=rn,X0=am,W$=qt,Q$=Q_,Y$=H1,X$=Ft,Z$=j$,J$=oT,_y=Ye;X0&&X0.prototype;var ez=X$("species"),lT=!1,cT=W$(K$.PromiseRejectionEvent),nz=Q$("Promise",function(){var s=Y$(X0),l=s!==String(X0);if(!l&&_y===66)return!0;if(!_y||_y<51||!/native code/.test(s)){var i=new X0(function(d){d(1)}),c=function(d){d(function(){},function(){})};if((i.constructor={})[ez]=c,!(lT=i.then(function(){})instanceof c))return!0}return!l&&(Z$||J$)&&!cT}),Ou={CONSTRUCTOR:nz,REJECTION_EVENT:cT,SUBCLASSING:lT},Ru={},uT=Fo,tz=TypeError,rz=function(s){var l,i;this.promise=new s(function(c,d){if(l!==void 0||i!==void 0)throw tz("Bad Promise constructor");l=c,i=d}),this.resolve=uT(l),this.reject=uT(i)};Ru.f=function(s){return new rz(s)};var my,dT,hT,iz=Lr,sm=j0,yc=rn,sh=Wn,pT=Bo,fT=K1,az=Y_,sz=OS,oz=Fo,om=qt,lz=Dr,cz=J1,uz=function(s,l){var i,c=PS(s).constructor;return c===void 0||b$(i=PS(c)[y$])?l:g$(i)},_T=ZS.set,vy=q$,dz=function(s,l){try{arguments.length==1?console.error(s):console.error(s,l)}catch{}},hz=im,pz=nT,mT=bc,lm=am,vT=Ru,cm="Promise",gT=Ou.CONSTRUCTOR,fz=Ou.REJECTION_EVENT,_z=Ou.SUBCLASSING,gy=mT.getterFor(cm),mz=mT.set,oh=lm&&lm.prototype,lh=lm,um=oh,bT=yc.TypeError,by=yc.document,yy=yc.process,Ey=vT.f,vz=Ey,gz=!!(by&&by.createEvent&&yc.dispatchEvent),yT="unhandledrejection",ET=function(s){var l;return!(!lz(s)||!om(l=s.then))&&l},wT=function(s,l){var i,c,d,p=l.value,_=l.state==1,g=_?s.ok:s.fail,b=s.resolve,E=s.reject,I=s.domain;try{g?(_||(l.rejection===2&&yz(l),l.rejection=1),g===!0?i=p:(I&&I.enter(),i=g(p),I&&(I.exit(),d=!0)),i===s.promise?E(bT("Promise-chain cycle")):(c=ET(i))?sh(c,i,b,E):b(i)):E(p)}catch(U){I&&!d&&I.exit(),E(U)}},xT=function(s,l){s.notified||(s.notified=!0,vy(function(){for(var i,c=s.reactions;i=c.get();)wT(i,s);s.notified=!1,l&&!s.rejection&&bz(s)}))},kT=function(s,l,i){var c,d;gz?((c=by.createEvent("Event")).promise=l,c.reason=i,c.initEvent(s,!1,!0),yc.dispatchEvent(c)):c={promise:l,reason:i},!fz&&(d=yc["on"+s])?d(c):s===yT&&dz("Unhandled promise rejection",i)},bz=function(s){sh(_T,yc,function(){var l,i=s.facade,c=s.value;if(ST(s)&&(l=hz(function(){sm?yy.emit("unhandledRejection",c,i):kT(yT,i,c)}),s.rejection=sm||ST(s)?2:1,l.error))throw l.value})},ST=function(s){return s.rejection!==1&&!s.parent},yz=function(s){sh(_T,yc,function(){var l=s.facade;sm?yy.emit("rejectionHandled",l):kT("rejectionhandled",l,s.value)})},ch=function(s,l,i){return function(c){s(l,c,i)}},uh=function(s,l,i){s.done||(s.done=!0,i&&(s=i),s.value=l,s.state=2,xT(s,!0))},wy=function(s,l,i){if(!s.done){s.done=!0,i&&(s=i);try{if(s.facade===l)throw bT("Promise can't be resolved itself");var c=ET(l);c?vy(function(){var d={done:!1};try{sh(c,l,ch(wy,d,s),ch(uh,d,s))}catch(p){uh(d,p,s)}}):(s.value=l,s.state=1,xT(s,!1))}catch(d){uh({done:!1},d,s)}}};if(gT&&(um=(lh=function(s){cz(this,um),oz(s),sh(my,this);var l=gy(this);try{s(ch(wy,l),ch(uh,l))}catch(i){uh(l,i)}}).prototype,(my=function(s){mz(this,{type:cm,done:!1,notified:!1,parent:!1,reactions:new pz,rejection:!1,state:0,value:void 0})}).prototype=pT(um,"then",function(s,l){var i=gy(this),c=Ey(uz(this,lh));return i.parent=!0,c.ok=!om(s)||s,c.fail=om(l)&&l,c.domain=sm?yy.domain:void 0,i.state==0?i.reactions.add(c):vy(function(){wT(c,i)}),c.promise}),dT=function(){var s=new my,l=gy(s);this.promise=s,this.resolve=ch(wy,l),this.reject=ch(uh,l)},vT.f=Ey=function(s){return s===lh||s===void 0?new dT(s):vz(s)},om(lm)&&oh!==Object.prototype)){hT=oh.then,_z||pT(oh,"then",function(s,l){var i=this;return new lh(function(c,d){sh(hT,i,c,d)}).then(s,l)},{unsafe:!0});try{delete oh.constructor}catch{}fT&&fT(oh,um)}iz({global:!0,constructor:!0,wrap:!0,forced:gT},{Promise:lh}),az(lh,cm,!1),sz(cm);var Ez=B0,wz=Ft("iterator"),xz=Array.prototype,kz=J_,TT=F0,Sz=On,Tz=B0,Cz=Ft("iterator"),CT=function(s){if(!Sz(s))return TT(s,Cz)||TT(s,"@@iterator")||Tz[kz(s)]},Iz=Wn,Nz=Fo,Az=ai,Oz=P0,Rz=CT,Mz=TypeError,Dz=Wn,IT=ai,Lz=F0,Uz=Q0,Pz=Wn,Fz=ai,Hz=P0,Bz=function(s){return s!==void 0&&(Ez.Array===s||xz[wz]===s)},$z=gc,NT=Jn,zz=function(s,l){var i=arguments.length<2?Rz(s):l;if(Nz(i))return Az(Iz(i,s));throw Mz(Oz(s)+" is not iterable")},Vz=CT,AT=function(s,l,i){var c,d;IT(s);try{if(!(c=Lz(s,"return"))){if(l==="throw")throw i;return i}c=Dz(c,s)}catch(p){d=!0,c=p}if(l==="throw")throw i;if(d)throw c;return IT(c),i},Gz=TypeError,dm=function(s,l){this.stopped=s,this.result=l},OT=dm.prototype,Z0=function(s,l,i){var c,d,p,_,g,b,E,I=i&&i.that,U=!(!i||!i.AS_ENTRIES),X=!(!i||!i.IS_RECORD),W=!(!i||!i.IS_ITERATOR),de=!(!i||!i.INTERRUPTED),se=Uz(l,I),fe=function(we){return c&&AT(c,"normal",we),new dm(!0,we)},Ae=function(we){return U?(Fz(we),de?se(we[0],we[1],fe):se(we[0],we[1])):de?se(we,fe):se(we)};if(X)c=s.iterator;else if(W)c=s;else{if(!(d=Vz(s)))throw Gz(Hz(s)+" is not iterable");if(Bz(d)){for(p=0,_=$z(s);_>p;p++)if((g=Ae(s[p]))&&NT(OT,g))return g;return new dm(!1)}c=zz(s,d)}for(b=X?s.next:c.next;!(E=Pz(b,c)).done;){try{g=Ae(E.value)}catch(we){AT(c,"throw",we)}if(typeof g=="object"&&g&&NT(OT,g))return g}return new dm(!1)},RT=Ft("iterator"),MT=!1;try{var qz=0,DT={next:function(){return{done:!!qz++}},return:function(){MT=!0}};DT[RT]=function(){return this},Array.from(DT,function(){throw 2})}catch{}var LT=function(s,l){if(!l&&!MT)return!1;var i=!1;try{var c={};c[RT]=function(){return{next:function(){return{done:i=!0}}}},s(c)}catch{}return i},jz=am,xy=Ou.CONSTRUCTOR||!LT(function(s){jz.all(s).then(void 0,function(){})}),Kz=Wn,Wz=Fo,Qz=Ru,Yz=im,Xz=Z0;Lr({target:"Promise",stat:!0,forced:xy},{all:function(s){var l=this,i=Qz.f(l),c=i.resolve,d=i.reject,p=Yz(function(){var _=Wz(l.resolve),g=[],b=0,E=1;Xz(s,function(I){var U=b++,X=!1;E++,Kz(_,l,I).then(function(W){X||(X=!0,g[U]=W,--E||c(g))},d)}),--E||c(g)});return p.error&&d(p.value),i.promise}});var Zz=Lr,Jz=Ou.CONSTRUCTOR,ky=am,eV=Gn,nV=qt,tV=Bo,UT=ky&&ky.prototype;if(Zz({target:"Promise",proto:!0,forced:Jz,real:!0},{catch:function(s){return this.then(void 0,s)}}),nV(ky)){var PT=eV("Promise").prototype.catch;UT.catch!==PT&&tV(UT,"catch",PT,{unsafe:!0})}var rV=Wn,iV=Fo,aV=Ru,sV=im,oV=Z0;Lr({target:"Promise",stat:!0,forced:xy},{race:function(s){var l=this,i=aV.f(l),c=i.reject,d=sV(function(){var p=iV(l.resolve);oV(s,function(_){rV(p,l,_).then(i.resolve,c)})});return d.error&&c(d.value),i.promise}});var lV=Wn,cV=Ru;Lr({target:"Promise",stat:!0,forced:Ou.CONSTRUCTOR},{reject:function(s){var l=cV.f(this);return lV(l.reject,void 0,s),l.promise}});var uV=ai,dV=Dr,hV=Ru,pV=Lr,fV=Ou.CONSTRUCTOR,_V=function(s,l){if(uV(s),dV(l)&&l.constructor===s)return l;var i=hV.f(s);return(0,i.resolve)(l),i.promise};Gn("Promise"),pV({target:"Promise",stat:!0,forced:fV},{resolve:function(s){return _V(this,s)}});var mV=J_,vV=String,lo=function(s){if(mV(s)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return vV(s)},Sy=on,gV=nh,bV=lo,yV=wn,EV=Sy("".charAt),FT=Sy("".charCodeAt),wV=Sy("".slice),HT=function(s){return function(l,i){var c,d,p=bV(yV(l)),_=gV(i),g=p.length;return _<0||_>=g?s?"":void 0:(c=FT(p,_))<55296||c>56319||_+1===g||(d=FT(p,_+1))<56320||d>57343?s?EV(p,_):c:s?wV(p,_,_+2):d-56320+(c-55296<<10)+65536}},BT={codeAt:HT(!1),charAt:HT(!0)},xV=BT.charAt,kV=lo,$T=bc,SV=Q1,zT=Y1,VT="String Iterator",TV=$T.set,CV=$T.getterFor(VT);SV(String,"String",function(s){TV(this,{type:VT,string:kV(s),index:0})},function(){var s,l=CV(this),i=l.string,c=l.index;return c>=i.length?zT(void 0,!0):(s=xV(i,c),l.index+=s.length,zT(s,!1))});var GT={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ty=Uo("span").classList,qT=Ty&&Ty.constructor&&Ty.constructor.prototype,jT=qT===Object.prototype?void 0:qT,KT=rn,WT=GT,IV=jT,J0=WB,Cy=th,QT=Ft,Iy=QT("iterator"),YT=QT("toStringTag"),Ny=J0.values,XT=function(s,l){if(s){if(s[Iy]!==Ny)try{Cy(s,Iy,Ny)}catch{s[Iy]=Ny}if(s[YT]||Cy(s,YT,l),WT[l]){for(var i in J0)if(s[i]!==J0[i])try{Cy(s,i,J0[i])}catch{s[i]=J0[i]}}}};for(var Ay in WT)XT(KT[Ay]&&KT[Ay].prototype,Ay);XT(IV,"DOMTokenList");var NV=ee,hm=Array.isArray||function(s){return NV(s)=="Array"},ZT=hm,AV=ty,OV=Dr,RV=Ft("species"),JT=Array,MV=function(s){var l;return ZT(s)&&(l=s.constructor,(AV(l)&&(l===JT||ZT(l.prototype))||OV(l)&&(l=l[RV])===null)&&(l=void 0)),l===void 0?JT:l},Oy=function(s,l){return new(MV(s))(l===0?0:l)},DV=Q0,LV=$n,UV=le,PV=gc,FV=Oy,e5=on([].push),Ec=function(s){var l=s==1,i=s==2,c=s==3,d=s==4,p=s==6,_=s==7,g=s==5||p;return function(b,E,I,U){for(var X,W,de=UV(b),se=LV(de),fe=DV(E,I),Ae=PV(se),we=0,$e=U||FV,ln=l?$e(b,Ae):i||_?$e(b,0):void 0;Ae>we;we++)if((g||we in se)&&(W=fe(X=se[we],we,de),s))if(l)ln[we]=W;else if(W)switch(s){case 3:return!0;case 5:return X;case 6:return we;case 2:e5(ln,X)}else switch(s){case 4:return!1;case 7:e5(ln,X)}return p?-1:c||d?d:ln}},ep={forEach:Ec(0),map:Ec(1),filter:Ec(2),some:Ec(3),every:Ec(4),find:Ec(5),findIndex:Ec(6),filterReject:Ec(7)},HV=Le,BV=Ye,$V=Ft("species"),np=function(s){return BV>=51||!HV(function(){var l=[];return(l.constructor={})[$V]=function(){return{foo:1}},l[s](Boolean).foo!==1})},zV=ep.map;Lr({target:"Array",proto:!0,forced:!np("map")},{map:function(s){return zV(this,s,arguments.length>1?arguments[1]:void 0)}});var pm=v(function s(){f(this,s)}),n5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.call(this)}return v(i,[{key:"getApiOption",value:function(){return{auth:this.getAuth(),path:this.getPath(),method:this.getMethod(),body:this.getData(),headers:this.getHeaders()}}},{key:"getAuth",value:function(){return!0}},{key:"getHeaders",value:function(){return{}}}]),i}(pm),Rr=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.call(this)}return v(i,[{key:"getPath",value:function(){return"/v1".concat(this.getSubPath())}}]),i}(n5),tt=function(s){return s.CREATE="create",s.UPDATE="update",s.GET="get",s.DELETE="delete",s.QUERY="query",s.READY="ready",s.START="start",s.ENTER_HOST="enter_host",s.GET_HOSTS="get_hosts",s.EXIT_HOST="exit_host",s.HOST_ALIVE="host_alive",s.AUDIO="audio",s.VIDEO="video",s.HOST_CREATE_STREAM="host_create_stream",s.HOST_PUT_STREAM="host_put_stream",s.HOST_DELETE_STREAM="host_delete_stream",s.HOST_CONNECTED="host_connected",s.ENTER="enter",s.EXIT="exit",s.ALIVE="alive",s.GET_PARTICIPANTS="get_participants",s.CREATE_STREAM="create_stream",s.PUT_STREAM="put_stream",s.DELETE_STREAM="delete_stream",s.CREATE_RTMP_STREAM="create_rtmp_stream",s.DELETE_RTMP_STREAM="delete_rtmp_stream",s.CONNECTED="connected",s.ATTACH="attach",s.CUSTOM_ITEMS_GET="custom_items_get",s.CUSTOM_ITEMS_UPDATE="custom_items_update",s.CUSTOM_ITEMS_DELETE="custom_items_delete",s.LIVE_EVENT_READY="live_event_ready",s.LIVE_EVENT_STARTED="live_event_started",s.LIVE_EVENT_ENDED="live_event_ended",s.LIVE_EVENT_UPDATED="live_event_updated",s.HOST_ENTERED="host_entered",s.HOST_EXITED="host_exited",s.HOST_DISCONNECTED="host_disconnected",s.HOST_AUDIO_STATUS_CHANGED="host_audio_status_changed",s.HOST_VIDEO_STATUS_CHANGED="host_video_status_changed",s.PARTICIPANT_ENTERED="participant_entered",s.PARTICIPANT_EXITED="participant_exited",s}({}),VV=function(s){return s.SINGLE_HOST="single_host",s.MULTIPLE_HOST="multiple_host",s}({}),Ur=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i)}(function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),(d=l.call(this)).payload=d.parseData(c),d}return v(i)}(pm));function co(s){return{liveEventId:s.live_event_id,createdAt:s.created_at,setReadyAt:s.set_ready_at,startedAt:s.started_at,endedAt:s.ended_at,state:s.state,isHostStreaming:s.is_host_streaming,createdBy:s.created_by,setReadyBy:s.set_ready_by,startedBy:s.started_by,endedBy:s.ended_by,duration:s.duration,host:s.host?uo(s.host):void 0,participantCount:s.participant_count,peakParticipantCount:s.peak_participant_count,cumulativeParticipantCount:s.cumulative_participant_count,userIdsForHost:s.user_ids_for_host,customItems:s.custom_items,title:s.title,coverUrl:s.cover_url}}function uo(s){return{hostId:s.host_id,userId:s.user.user_id,nickname:s.user.nickname,profileURL:s.user.profile_url,enteredAt:s.entered_at,connectedAt:s.connected_at,disconnectedAt:s.disconnected_at,exitedAt:s.exited_at,duration:s.duration,state:s.state,isAudioOn:s.is_audio_on,isVideoOn:s.is_video_on,liveEventId:s.live_event_id,streamType:s.stream_type,rtmpStream:s.rtmp_stream?GV(s.rtmp_stream):void 0}}function GV(s){return{rtmpStreamId:s.rtmp_stream_id,rtmpHostUrl:s.rtmp_host_url,streamKey:s.stream_key,createdAt:s.created_at}}function tp(s){return{id:s.rtcstream_id}}function rp(s){return{participantId:s.participant_id,userId:s.user.user_id,nickname:s.user.nickname,profileURL:s.user.profile_url,enteredAt:s.entered_at,exitedAt:s.exited_at,duration:s.duration,state:s.state,liveEventId:s.live_event_id}}var qV=ep.filter;Lr({target:"Array",proto:!0,forced:!np("filter")},{filter:function(s){return qV(this,s,arguments.length>1?arguments[1]:void 0)}});var jV=le,t5=k1;Lr({target:"Object",stat:!0,forced:Le(function(){t5(1)})},{keys:function(s){return t5(jV(s))}});var KV=TypeError,r5=function(s){if(s>9007199254740991)throw KV("Maximum allowed index exceeded");return s},WV=m1,QV=xi,YV=q_,fm=function(s,l,i){var c=WV(l);c in s?QV.f(s,c,YV(0,i)):s[c]=i},XV=Lr,ZV=Le,JV=hm,eG=Dr,nG=le,tG=gc,i5=r5,a5=fm,rG=Oy,iG=np,aG=Ye,s5=Ft("isConcatSpreadable"),sG=aG>=51||!ZV(function(){var s=[];return s[s5]=!1,s.concat()[0]!==s}),oG=function(s){if(!eG(s))return!1;var l=s[s5];return l!==void 0?!!l:JV(s)};XV({target:"Array",proto:!0,arity:1,forced:!sG||!iG("concat")},{concat:function(s){var l,i,c,d,p,_=nG(this),g=rG(_,0),b=0;for(l=-1,c=arguments.length;l<c;l++)if(oG(p=l===-1?_:arguments[l]))for(d=tG(p),i5(b+d),i=0;i<d;i++,b++)i in p&&a5(g,b,p[i]);else i5(b+1),a5(g,b++,p);return g.length=b,g}});var lG=ai,o5=function(){var s=lG(this),l="";return s.hasIndices&&(l+="d"),s.global&&(l+="g"),s.ignoreCase&&(l+="i"),s.multiline&&(l+="m"),s.dotAll&&(l+="s"),s.unicode&&(l+="u"),s.unicodeSets&&(l+="v"),s.sticky&&(l+="y"),l},cG=Wn,uG=Pe,dG=Jn,hG=o5,l5=RegExp.prototype,pG=j_.PROPER,fG=Bo,_G=ai,c5=lo,mG=Le,vG=function(s){var l=s.flags;return l!==void 0||"flags"in l5||uG(s,"flags")||!dG(l5,s)?l:cG(hG,s)},Ry="toString",u5=RegExp.prototype[Ry],gG=mG(function(){return u5.call({source:"a",flags:"b"})!="/a/b"}),bG=pG&&u5.name!=Ry;function yG(s){return Object.keys(s).filter(function(l){return s[l]!=null}).map(function(l){return"".concat(encodeURIComponent(l),"=").concat(function(i){return Array.isArray(i)?i.map(function(c){return encodeURIComponent(c.toString())}).join(","):encodeURIComponent(i.toString())}(s[l]))}).join("&")}(gG||bG)&&fG(RegExp.prototype,Ry,function(){var s=_G(this);return"/"+c5(s.source)+"/"+c5(vG(s))},{unsafe:!0});var EG=function(s){w(i,s);var l=O(i);function i(c,d,p){var _;return f(this,i),y(N(_=l.call(this)),"type",tt.QUERY),_.params=_._normalizeParams(c),_.prevToken=d,_.nextToken=p,_}return v(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events?".concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_normalizeParams",value:function(c){var d=c.hostType,p=c.liveEventState,_=c.createdAtRange,g=c.participantCountRange,b=c.durationRange,E=c.liveEventIds,I=c.createdByUserIds,U=c.limit;return{hostType:d,liveEventState:p,createdAtRange:_,participantCountRange:g,durationRange:b,liveEventIds:E,createdByUserIds:I,limit:U!=null?Math.min(Math.max(1,U),100):void 0}}},{key:"_createQuery",value:function(){var c,d,p,_,g,b;return yG({host_type:this.params.hostType,state:this.params.liveEventState,created_at_start_date:(c=this.params.createdAtRange)===null||c===void 0?void 0:c[0],created_at_end_date:(d=this.params.createdAtRange)===null||d===void 0?void 0:d[0],participant_count_gte:(p=this.params.participantCountRange)===null||p===void 0?void 0:p[0],participant_count_lte:(_=this.params.participantCountRange)===null||_===void 0?void 0:_[1],duration_range_gte:(g=this.params.durationRange)===null||g===void 0?void 0:g[0],duration_range_lte:(b=this.params.durationRange)===null||b===void 0?void 0:b[1],live_event_ids:this.params.liveEventIds,created_by_user_ids:this.params.createdByUserIds,limit:this.params.limit,prev:this.prevToken,next:this.nextToken})}}]),i}(Rr),wG=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){var d;return{liveEvents:(d=c.live_events)===null||d===void 0?void 0:d.map(co),prev:c.prev,next:c.next}}}]),i}(Ur),xG=Le,My=function(s,l){var i=[][s];return!!i&&xG(function(){i.call(null,l||function(){return 1},1)})},kG=Lr,SG=E1.indexOf,TG=My,Dy=em([].indexOf),d5=!!Dy&&1/Dy([1],1,-0)<0;kG({target:"Array",proto:!0,forced:d5||!TG("indexOf")},{indexOf:function(s){var l=arguments.length>1?arguments[1]:void 0;return d5?Dy(this,s,l)||0:SG(this,s,l)}});var CG=vi,IG=hm,NG=TypeError,AG=Object.getOwnPropertyDescriptor,OG=CG&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}()?function(s,l){if(IG(s)&&!AG(s,"length").writable)throw NG("Cannot set read only .length");return s.length=l}:function(s,l){return s.length=l},h5=P0,RG=TypeError,MG=Lr,DG=le,LG=U_,UG=nh,PG=gc,FG=OG,HG=r5,BG=Oy,$G=fm,Ly=function(s,l){if(!delete s[l])throw RG("Cannot delete property "+h5(l)+" of "+h5(s))},zG=np("splice"),VG=Math.max,GG=Math.min;MG({target:"Array",proto:!0,forced:!zG},{splice:function(s,l){var i,c,d,p,_,g,b=DG(this),E=PG(b),I=LG(s,E),U=arguments.length;for(U===0?i=c=0:U===1?(i=0,c=E-I):(i=U-2,c=GG(VG(UG(l),0),E-I)),HG(E+i-c),d=BG(b,c),p=0;p<c;p++)(_=I+p)in b&&$G(d,p,b[_]);if(d.length=c,i<c){for(p=I;p<E-c;p++)g=p+i,(_=p+c)in b?b[g]=b[_]:Ly(b,g);for(p=E;p>E-c+i;p--)Ly(b,p-1)}else if(i>c)for(p=E-c;p>I;p--)g=p+i-1,(_=p+c-1)in b?b[g]=b[_]:Ly(b,g);for(p=0;p<i;p++)b[p+I]=arguments[p+2];return FG(b,E-c+i),d}});var Da=function(s){return s.VERBOSE="VERBOSE",s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.NONE="NONE",s}({}),qG=function(){function s(){f(this,s),this._listeners=[]}return v(s,[{key:"verbose",value:function(){for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];this._log.apply(this,[Da.VERBOSE].concat(i))}},{key:"debug",value:function(){for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];this._log.apply(this,[Da.DEBUG].concat(i))}},{key:"info",value:function(){for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];this._log.apply(this,[Da.INFO].concat(i))}},{key:"warning",value:function(){for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];this._log.apply(this,[Da.WARNING].concat(i))}},{key:"error",value:function(){for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];this._log.apply(this,[Da.ERROR].concat(i))}},{key:"_log",value:function(l){for(var i=arguments.length,c=new Array(i>1?i-1:0),d=1;d<i;d++)c[d-1]=arguments[d];var p,_=M(this._listeners);try{for(_.s();!(p=_.n()).done;){var g=p.value;g._permit.apply(g,[l].concat(c))}}catch(b){_.e(b)}finally{_.f()}}},{key:"addListener",value:function(l){this._listeners.push(l)}},{key:"removeListener",value:function(l){var i=this._listeners.indexOf(l);i!==-1&&this._listeners.splice(i,1)}},{key:"removeAllListener",value:function(){this._listeners=[]}}]),s}(),rt=new qG,jG=function(){function s(d,p,_){f(this,s),this.isLoading=!1,this.params=d,this.sender=p,this.prevToken=null,this.nextToken=null,this.liveEventManager=_}var l,i,c;return v(s,[{key:"hasPrev",get:function(){return!!this.prevToken}},{key:"hasNext",get:function(){return!this.prevToken&&!this.nextToken||!!this.nextToken}},{key:"next",value:(c=h(o().mark(function d(){return o().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasNext){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(null,this.nextToken));case 5:case"end":return p.stop()}},d,this)})),function(){return c.apply(this,arguments)})},{key:"prev",value:(i=h(o().mark(function d(){return o().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasPrev){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(this.prevToken,null));case 5:case"end":return p.stop()}},d,this)})),function(){return i.apply(this,arguments)})},{key:"_sendQueryCommand",value:(l=h(o().mark(function d(p,_){var g,b,E,I=this;return o().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!p||!_){U.next=2;break}throw new Error("internal error while creating LiveEventListQueryCommand");case 2:return this.isLoading=!0,g=new EG(this.params,p,_),U.next=6,this.sender.send(g);case 6:return b=U.sent,E=b.payload,this.prevToken=E.prev,this.nextToken=E.next,this.isLoading=!1,U.prev=11,U.abrupt("return",Promise.all(E.liveEvents.map(function(X){return I.liveEventManager.deserializeLiveEvent(X)})));case 15:return U.prev=15,U.t0=U.catch(11),rt.error(U.t0),U.abrupt("return",E.liveEvents);case 19:case"end":return U.stop()}},d,this,[[11,15]])})),function(d,p){return l.apply(this,arguments)})}]),s}(),KG=Lr,WG=ep.find,QG=G_,Uy="find",p5=!0;Uy in[]&&Array(1)[Uy](function(){p5=!1}),KG({target:"Array",proto:!0,forced:p5},{find:function(s){return WG(this,s,arguments.length>1?arguments[1]:void 0)}}),QG(Uy);var YG=Lr,XG=ep.findIndex,ZG=G_,Py="findIndex",f5=!0;Py in[]&&Array(1)[Py](function(){f5=!1}),YG({target:"Array",proto:!0,forced:f5},{findIndex:function(s){return XG(this,s,arguments.length>1?arguments[1]:void 0)}}),ZG(Py);var Fy={exports:{}},_5={},m5=U_,JG=gc,eq=fm,nq=Array,tq=Math.max,rq=ee,iq=jn,v5=z0.f,aq=function(s,l,i){for(var c=JG(s),d=m5(l,c),p=m5(i===void 0?c:i,c),_=nq(tq(p-d,0)),g=0;d<p;d++,g++)eq(_,g,s[d]);return _.length=g,_},g5=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];_5.f=function(s){return g5&&rq(s)=="Window"?function(l){try{return v5(l)}catch{return aq(g5)}}(s):v5(iq(s))};var sq=Le(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}}),oq=Le,lq=Dr,cq=ee,b5=sq,_m=Object.isExtensible,uq=oq(function(){_m(1)})||b5?function(s){return!!lq(s)&&(!b5||cq(s)!="ArrayBuffer")&&(!_m||_m(s))}:_m,dq=!Le(function(){return Object.isExtensible(Object.preventExtensions({}))}),hq=Lr,pq=on,fq=F_,_q=Dr,Hy=Pe,mq=xi.f,y5=z0,vq=_5,By=uq,gq=dq,E5=!1,xl=nn("meta"),bq=0,$y=function(s){mq(s,xl,{value:{objectID:"O"+bq++,weakData:{}}})},yq=Fy.exports={enable:function(){yq.enable=function(){},E5=!0;var s=y5.f,l=pq([].splice),i={};i[xl]=1,s(i).length&&(y5.f=function(c){for(var d=s(c),p=0,_=d.length;p<_;p++)if(d[p]===xl){l(d,p,1);break}return d},hq({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:vq.f}))},fastKey:function(s,l){if(!_q(s))return typeof s=="symbol"?s:(typeof s=="string"?"S":"P")+s;if(!Hy(s,xl)){if(!By(s))return"F";if(!l)return"E";$y(s)}return s[xl].objectID},getWeakData:function(s,l){if(!Hy(s,xl)){if(!By(s))return!0;if(!l)return!1;$y(s)}return s[xl].weakData},onFreeze:function(s){return gq&&E5&&By(s)&&!Hy(s,xl)&&$y(s),s}};fq[xl]=!0;var Eq=qt,wq=Dr,w5=K1,x5=function(s,l,i){var c,d;return w5&&Eq(c=l.constructor)&&c!==i&&wq(d=c.prototype)&&d!==i.prototype&&w5(s,d),s},xq=Lr,kq=rn,Sq=on,k5=Q_,Tq=Bo,Cq=Fy.exports,Iq=Z0,Nq=J1,Aq=qt,Oq=On,zy=Dr,Vy=Le,Rq=LT,Mq=Y_,Dq=x5,Lq=Bo,Uq=$_,Pq=NS,S5=function(s,l,i){for(var c in l)Lq(s,c,l[c],i);return s},Fq=Q0,Hq=J1,Bq=On,$q=Z0,zq=Q1,T5=Y1,Vq=OS,ip=vi,C5=Fy.exports.fastKey,I5=bc.set,Gy=bc.getterFor,Gq={getConstructor:function(s,l,i,c){var d=s(function(E,I){Hq(E,p),I5(E,{type:l,index:Uq(null),first:void 0,last:void 0,size:0}),ip||(E.size=0),Bq(I)||$q(I,E[c],{that:E,AS_ENTRIES:i})}),p=d.prototype,_=Gy(l),g=function(E,I,U){var X,W,de=_(E),se=b(E,I);return se?se.value=U:(de.last=se={index:W=C5(I,!0),key:I,value:U,previous:X=de.last,next:void 0,removed:!1},de.first||(de.first=se),X&&(X.next=se),ip?de.size++:E.size++,W!=="F"&&(de.index[W]=se)),E},b=function(E,I){var U,X=_(E),W=C5(I);if(W!=="F")return X.index[W];for(U=X.first;U;U=U.next)if(U.key==I)return U};return S5(p,{clear:function(){for(var E=_(this),I=E.index,U=E.first;U;)U.removed=!0,U.previous&&(U.previous=U.previous.next=void 0),delete I[U.index],U=U.next;E.first=E.last=void 0,ip?E.size=0:this.size=0},delete:function(E){var I=this,U=_(I),X=b(I,E);if(X){var W=X.next,de=X.previous;delete U.index[X.index],X.removed=!0,de&&(de.next=W),W&&(W.previous=de),U.first==X&&(U.first=W),U.last==X&&(U.last=de),ip?U.size--:I.size--}return!!X},forEach:function(E){for(var I,U=_(this),X=Fq(E,arguments.length>1?arguments[1]:void 0);I=I?I.next:U.first;)for(X(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(E){return!!b(this,E)}}),S5(p,i?{get:function(E){var I=b(this,E);return I&&I.value},set:function(E,I){return g(this,E===0?0:E,I)}}:{add:function(E){return g(this,E=E===0?0:E,E)}}),ip&&Pq(p,"size",{configurable:!0,get:function(){return _(this).size}}),d},setStrong:function(s,l,i){var c=l+" Iterator",d=Gy(l),p=Gy(c);zq(s,l,function(_,g){I5(this,{type:c,target:_,state:d(_),kind:g,last:void 0})},function(){for(var _=p(this),g=_.kind,b=_.last;b&&b.removed;)b=b.previous;return _.target&&(_.last=b=b?b.next:_.state.first)?T5(g=="keys"?b.key:g=="values"?b.value:[b.key,b.value],!1):(_.target=void 0,T5(void 0,!0))},i?"entries":"values",!i,!0),Vq(l)}};(function(s,l,i){var c=s.indexOf("Map")!==-1,d=s.indexOf("Weak")!==-1,p=c?"set":"add",_=kq[s],g=_&&_.prototype,b=_,E={},I=function(fe){var Ae=Sq(g[fe]);Tq(g,fe,fe=="add"?function(we){return Ae(this,we===0?0:we),this}:fe=="delete"?function(we){return!(d&&!zy(we))&&Ae(this,we===0?0:we)}:fe=="get"?function(we){return d&&!zy(we)?void 0:Ae(this,we===0?0:we)}:fe=="has"?function(we){return!(d&&!zy(we))&&Ae(this,we===0?0:we)}:function(we,$e){return Ae(this,we===0?0:we,$e),this})};if(k5(s,!Aq(_)||!(d||g.forEach&&!Vy(function(){new _().entries().next()}))))b=i.getConstructor(l,s,c,p),Cq.enable();else if(k5(s,!0)){var U=new b,X=U[p](d?{}:-0,1)!=U,W=Vy(function(){U.has(1)}),de=Rq(function(fe){new _(fe)}),se=!d&&Vy(function(){for(var fe=new _,Ae=5;Ae--;)fe[p](Ae,Ae);return!fe.has(-0)});de||((b=l(function(fe,Ae){Nq(fe,g);var we=Dq(new _,fe,b);return Oq(Ae)||Iq(Ae,we[p],{that:we,AS_ENTRIES:c}),we})).prototype=g,g.constructor=b),(W||se)&&(I("delete"),I("has"),c&&I("get")),(se||X)&&I(p),d&&g.clear&&delete g.clear}E[s]=b,xq({global:!0,constructor:!0,forced:b!=_},E),Mq(b,s),d||i.setStrong(b,s,c)})("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},Gq);var N5=vi,qq=on,jq=Wn,Kq=Le,qy=k1,Wq=z1,Qq=D1,Yq=le,Xq=$n,dh=Object.assign,A5=Object.defineProperty,Zq=qq([].concat),Jq=!dh||Kq(function(){if(N5&&dh({b:1},dh(A5({},"a",{enumerable:!0,get:function(){A5(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var s={},l={},i=Symbol(),c="abcdefghijklmnopqrst";return s[i]=7,c.split("").forEach(function(d){l[d]=d}),dh({},s)[i]!=7||qy(dh({},l)).join("")!=c})?function(s,l){for(var i=Yq(s),c=arguments.length,d=1,p=Wq.f,_=Qq.f;c>d;)for(var g,b=Xq(arguments[d++]),E=p?Zq(qy(b),p(b)):qy(b),I=E.length,U=0;I>U;)g=E[U++],N5&&!jq(_,b,g)||(i[g]=b[g]);return i}:dh,O5=Jq;Lr({target:"Object",stat:!0,arity:2,forced:Object.assign!==O5},{assign:O5});var ej=E1.includes,nj=G_;Lr({target:"Array",proto:!0,forced:Le(function(){return!Array(1).includes()})},{includes:function(s){return ej(this,s,arguments.length>1?arguments[1]:void 0)}}),nj("includes");var tj=Dr,rj=ee,ij=Ft("match"),aj=function(s){var l;return tj(s)&&((l=s[ij])!==void 0?!!l:rj(s)=="RegExp")},sj=TypeError,oj=Ft("match"),lj=Lr,cj=function(s){if(aj(s))throw sj("The method doesn't accept regular expressions");return s},uj=wn,R5=lo,dj=function(s){var l=/./;try{"/./"[s](l)}catch{try{return l[oj]=!1,"/./"[s](l)}catch{}}return!1},hj=on("".indexOf);lj({target:"String",proto:!0,forced:!dj("includes")},{includes:function(s){return!!~hj(R5(uj(this)),R5(cj(s)),arguments.length>1?arguments[1]:void 0)}});var mm=function(s){return s.HOST="host",s.PARTICIPANT="participant",s}({}),M5=function(s){return s.CREATED="created",s.READY="ready",s.ONGOING="ongoing",s.PAUSED="paused",s.ENDED="ended",s}({}),D5=function(s){return s.ENTERED="entered",s.CONNECTED="connected",s.DISCONNECTED="disconnected",s.EXITED="exited",s}({}),pj=function(s){return s.ENTERED="entered",s.EXITED="exited",s}({}),fj=function(s){w(i,s);var l=O(i);function i(c,d,p){var _;return f(this,i),(_=l.call(this)).appId=c,_.userId=d,_.accessToken=p,_}return v(i,[{key:"getAuth",value:function(){return!1}},{key:"getData",value:function(){return{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}},{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/login")}},{key:"getMethod",value:function(){return"POST"}}]),i}(n5),Pr=function(s){return s.POST="POST",s.GET="GET",s.DELETE="DELETE",s.OPTION="OPTION",s.PUT="PUT",s}({}),_j=function(s){w(i,s);var l=O(i);function i(c,d,p,_,g,b){var E;return f(this,i),y(N(E=l.call(this)),"type",tt.CREATE),E.hostType=c,E.hostIds=Array.isArray(d)?d:[d],E.title=p===null?"":p,E.coverUrl=_===null?"":_,E.coverFile=g===null?"":g,E.customItems=b,E}return v(i,[{key:"getData",value:function(){var c=function(p,_,g,b){g!==void 0&&d.set(_,g)},d=new FormData;return c(0,"host_type",this.hostType),c(0,"user_ids_for_host",String(this.hostIds)),c(0,"title",this.title),c(0,"cover_url",this.coverUrl),c(0,"cover_file",this.coverFile),c(0,"customItems",JSON.stringify(this.customItems)),d}},{key:"getSubPath",value:function(){return"/live-events"}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),mj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEvent:co(c.live_event)}}}]),i}(Ur),vj=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this)),"type",tt.GET),d.liveEventId=c,d}return v(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Pr.GET}}]),i}(Rr),gj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEvent:co(c.live_event)}}}]),i}(Ur),bj=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this)),"type",tt.ENTER_HOST),y(N(p),"mediaOption",{turnAudioOn:!0,turnVideoOn:!0}),p.liveEventId=c,p.mediaOption=d,p}return v(i,[{key:"getData",value:function(){return{is_audio_on:this.mediaOption.turnAudioOn,is_video_on:this.mediaOption.turnVideoOn}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),yj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{host:uo(c.host)}}}]),i}(Ur),Ej=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this)),"type",tt.READY),d.liveEventId=c,d}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/ready")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),wj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEvent:co(c.live_event)}}}]),i}(Ur),xj=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this)),"type",tt.START),d.liveEventId=c,d}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/start")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),kj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEvent:co(c.live_event)}}}]),i}(Ur),Sj=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this)),"type",tt.EXIT_HOST),p.liveEventId=c,p.hostId=d,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId)}},{key:"getMethod",value:function(){return Pr.DELETE}}]),i}(Rr),Tj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{host:uo(c.host)}}}]),i}(Ur),Cj=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this)),"type",tt.DELETE),d.liveEventId=c,d}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Pr.DELETE}}]),i}(Rr),Ij=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEvent:co(c.live_event)}}}]),i}(Ur),Nj=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this)),"type",tt.ENTER),d.liveEventId=c,d}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),Aj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{participant:rp(c.participant)}}}]),i}(Ur),Oj=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this)),"type",tt.EXIT),p.liveEventId=c,p.participantId=d,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId)}},{key:"getMethod",value:function(){return Pr.DELETE}}]),i}(Rr),Rj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{participant:rp(c.participant)}}}]),i}(Ur),Mj=function(s){w(i,s);var l=O(i);function i(c,d,p){var _;return f(this,i),y(N(_=l.call(this)),"type",tt.CONNECTED),_.liveEventId=c,_.participantId=d,_.endpointId=p,_}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),Dj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{endpoint:tp(c.rtcstream)}}}]),i}(Ur),Lj=function(s){w(i,s);var l=O(i);function i(c,d,p){var _;return f(this,i),y(N(_=l.call(this)),"type",tt.HOST_CONNECTED),_.liveEventId=c,_.hostId=d,_.endpointId=p,_}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),Uj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{endpoint:tp(c.rtcstream)}}}]),i}(Ur),Pj=function(s){w(i,s);var l=O(i);function i(c,d,p){var _;return f(this,i),y(N(_=l.call(this)),"type",tt.DELETE_STREAM),_.liveEventId=c,_.participantId=d,_.endpointId=p,_}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Pr.DELETE}}]),i}(Rr),Fj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{}}}]),i}(Ur),Hj=function(s){w(i,s);var l=O(i);function i(c,d,p){var _;return f(this,i),y(N(_=l.call(this)),"type",tt.HOST_DELETE_STREAM),_.liveEventId=c,_.hostId=d,_.endpointId=p,_}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Pr.DELETE}}]),i}(Rr),Bj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{}}}]),i}(Ur),$j=function(s){w(i,s);var l=O(i);function i(c,d,p,_){var g;return f(this,i),y(N(g=l.call(this)),"type",tt.ATTACH),g.liveEventId=c,g.participantId=d,g.endpointId=p,g.attachTo=_,g}return v(i,[{key:"getData",value:function(){return{attach_to:this.attachTo}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/attach")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),zj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{endpoint:tp(c.rtcstream)}}}]),i}(Ur),Xa=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),(d=l.call(this)).type=c.type,d.version=c.version,d.messageId=c.message_id,d.payload=d.parseData(c.payload),d}return v(i)}(pm),L5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:co(c.live_event)}}}]),i}(Xa),U5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:co(c.live_event)}}}]),i}(Xa),P5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:co(c.live_event)}}}]),i}(Xa),F5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:uo(c.host)}}}]),i}(Xa),H5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:uo(c.host)}}}]),i}(Xa),B5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:uo(c.host)}}}]),i}(Xa),jy=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:uo(c.host)}}}]),i}(Xa),Ky=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:uo(c.host)}}}]),i}(Xa),$5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,participant:rp(c.participant),participantCount:c.participant_count,peakParticipantCount:c.peak_participant_count,cumulativeParticipantCount:c.cumulative_participant_count}}}]),i}(Xa),z5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,participant:rp(c.participant),participantCount:c.participant_count,peakParticipantCount:c.peak_participant_count,cumulativeParticipantCount:c.cumulative_participant_count}}}]),i}(Xa),Vj=function(s){w(i,s);var l=O(i);function i(c,d,p,_,g){var b;return f(this,i),y(N(b=l.call(this)),"type",tt.CREATE_STREAM),b.liveEventId=c,b.participantId=d,b.sdp=p,b.audioAttr=_,b.videoAttr=g,b}return v(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),Gj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{sdp:c.sdp,endpoint:tp(c.rtcstream)}}}]),i}(Ur),qj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{hosts:c.hosts.map(uo)}}}]),i}(Ur),jj=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this)),"type",tt.HOST_ALIVE),p.liveEventId=c,p.hostId=d,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/alive")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),Kj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{}}}]),i}(Ur),Wj=function(s){w(i,s);var l=O(i);function i(c,d,p,_,g){var b;return f(this,i),y(N(b=l.call(this)),"type",tt.HOST_CREATE_STREAM),b.liveEventId=c,b.hostId=d,b.sdp=p,b.audioAttr=_,b.videoAttr=g,b}return v(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),Qj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{sdp:c.sdp,endpoint:tp(c.rtcstream)}}}]),i}(Ur),Yj=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this)),"type",tt.ALIVE),p.liveEventId=c,p.participantId=d,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/alive")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),Xj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{}}}]),i}(Ur),Zj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{participant:rp(c.participant)}}}]),i}(Ur),Jj=function(s){w(i,s);var l=O(i);function i(c,d,p){var _;return f(this,i),y(N(_=l.call(this)),"type",tt.AUDIO),_.liveEventId=c,_.hostId=d,_.on=p,_}return v(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/audio")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),eK=function(s){w(i,s);var l=O(i);function i(c,d,p){var _;return f(this,i),y(N(_=l.call(this)),"type",tt.VIDEO),_.liveEventId=c,_.hostId=d,_.on=p,_}return v(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/video")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),V5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:uo(c.host)}}}]),i}(Xa),nK=function(s){w(i,s);var l=O(i);function i(c,d,p,_,g){var b;return f(this,i),y(N(b=l.call(this)),"type",tt.UPDATE),b.liveEventId=c,b.hostIds=d===null?"":Array.isArray(d)?d:[d],b.title=p===null?"":p,b.coverUrl=_===null?"":_,b.coverFile=g===null?"":g,b}return v(i,[{key:"getData",value:function(){var c=function(p,_,g,b){g!==void 0&&d.set(_,g)},d=new FormData;return c(0,"user_ids_for_host",String(this.hostIds)),c(0,"title",this.title),c(0,"cover_url",this.coverUrl),c(0,"cover_file",this.coverFile),d}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Pr.PUT}}]),i}(Rr),tK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEvent:co(c.live_event)}}}]),i}(Ur),G5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:co(c.live_event)}}}]),i}(Xa),rK=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this)),"type",tt.CUSTOM_ITEMS_GET),d.liveEventId=c,d}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Pr.GET}}]),i}(Rr),iK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{customItems:c.custom_items}}}]),i}(Ur),aK=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this)),"type",tt.CUSTOM_ITEMS_UPDATE),p.liveEventId=c,p.customItems=d,p}return v(i,[{key:"getData",value:function(){return this.customItems}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Pr.PUT}}]),i}(Rr),sK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{customItems:c.custom_items,updatedKeys:c.updated_keys,updatedAt:c.updated_at}}}]),i}(Ur),oK=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this)),"type",tt.CUSTOM_ITEMS_DELETE),p.liveEventId=c,p.keys=d,p}return v(i,[{key:"getData",value:function(){return this.keys}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Pr.DELETE}}]),i}(Rr),lK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{customItems:c.custom_items,deletedKeys:c.deleted_keys,deletedAt:c.deleted_at}}}]),i}(Ur),q5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,updatedAt:c.updated_at,customItems:c.custom_items,updatedKeys:c.updated_keys}}}]),i}(Xa),j5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,deletedAt:c.deleted_at,customItems:c.custom_items,deletedKeys:c.deleted_keys}}}]),i}(Xa),cK=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this)),"type",tt.CUSTOM_ITEMS_DELETE),d.liveEventId=c,d}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Pr.DELETE}}]),i}(Rr),uK=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this)),"type",tt.CREATE_RTMP_STREAM),d.liveEventId=c,d}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams")}},{key:"getMethod",value:function(){return Pr.POST}}]),i}(Rr),dK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{host:uo(c.host)}}}]),i}(Ur),hK=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this)),"type",tt.DELETE_RTMP_STREAM),p.liveEventId=c,p.rtmpStreamId=d,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams/").concat(this.rtmpStreamId)}},{key:"getMethod",value:function(){return Pr.DELETE}}]),i}(Rr),pK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(c){return{}}}]),i}(Ur),yr=function(){function s(){f(this,s)}return v(s,null,[{key:"createAuth",value:function(l,i,c){return new fj(l,i,c)}},{key:"createLiveEvent",value:function(l,i,c,d,p,_){return new _j(l,i,c,d,p,_)}},{key:"updateLiveEvent",value:function(l,i,c,d,p){return new nK(l,i,c,d,p)}},{key:"createGetLiveEvent",value:function(l){return new vj(l)}},{key:"createEnterHost",value:function(l,i){return new bj(l,i)}},{key:"createReady",value:function(l){return new Ej(l)}},{key:"createStart",value:function(l){return new xj(l)}},{key:"createExitHost",value:function(l,i){return new Sj(l,i)}},{key:"createEndLiveEvent",value:function(l){return new Cj(l)}},{key:"createEnter",value:function(l){return new Nj(l)}},{key:"createExit",value:function(l,i){return new Oj(l,i)}},{key:"createConnected",value:function(l,i,c){return new Mj(l,i,c)}},{key:"createHostConnected",value:function(l,i,c){return new Lj(l,i,c)}},{key:"createStream",value:function(l,i,c,d,p){return new Vj(l,i,c,d,p)}},{key:"createHostCreateStream",value:function(l,i,c,d,p){return new Wj(l,i,c,d,p)}},{key:"createDeleteStream",value:function(l,i,c){return new Pj(l,i,c)}},{key:"createHostDeleteStream",value:function(l,i,c){return new Hj(l,i,c)}},{key:"createRTMPStream",value:function(l){return new uK(l)}},{key:"deleteRTMPStream",value:function(l,i){return new hK(l,i)}},{key:"createAttach",value:function(l,i,c,d){return new $j(l,i,c,d)}},{key:"createAudio",value:function(l,i,c){return new Jj(l,i,c)}},{key:"createVideo",value:function(l,i,c){return new eK(l,i,c)}},{key:"createAlive",value:function(l,i){return new Yj(l,i)}},{key:"createHostAlive",value:function(l,i){return new jj(l,i)}},{key:"createGetCustomItems",value:function(l){return new rK(l)}},{key:"createUpdateCustomItems",value:function(l,i){return new aK(l,i)}},{key:"createDeleteCustomItems",value:function(l,i){return new oK(l,i)}},{key:"createDeleteAllCustomItems",value:function(l){return new cK(l)}},{key:"parseResponse",value:function(l,i){try{switch(l.type){case tt.CREATE:return new mj(i);case tt.GET:return new gj(i);case tt.DELETE:return new Ij(i);case tt.QUERY:return new wG(i);case tt.READY:return new wj(i);case tt.START:return new kj(i);case tt.ENTER_HOST:return new yj(i);case tt.GET_HOSTS:return new qj(i);case tt.EXIT_HOST:return new Tj(i);case tt.HOST_ALIVE:return new Kj(i);case tt.AUDIO:return new jy(i);case tt.VIDEO:return new Ky(i);case tt.HOST_CREATE_STREAM:return new Qj(i);case tt.HOST_DELETE_STREAM:return new Bj(i);case tt.HOST_CONNECTED:return new Uj(i);case tt.ENTER:return new Aj(i);case tt.EXIT:return new Rj(i);case tt.ALIVE:return new Xj(i);case tt.GET_PARTICIPANTS:return new Zj(i);case tt.CREATE_STREAM:return new Gj(i);case tt.DELETE_STREAM:return new Fj(i);case tt.CONNECTED:return new Dj(i);case tt.ATTACH:return new zj(i);case tt.UPDATE:return new tK(i);case tt.CUSTOM_ITEMS_GET:return new iK(i);case tt.CUSTOM_ITEMS_UPDATE:return new sK(i);case tt.CUSTOM_ITEMS_DELETE:return new lK(i);case tt.CREATE_RTMP_STREAM:return new dK(i);case tt.DELETE_RTMP_STREAM:return new pK(i)}}catch{return}}},{key:"parse",value:function(l){if(l.call_type==="live")try{switch(l.type){case tt.LIVE_EVENT_READY:return new L5(l);case tt.LIVE_EVENT_STARTED:return new U5(l);case tt.LIVE_EVENT_ENDED:return new P5(l);case tt.LIVE_EVENT_UPDATED:return new G5(l);case tt.HOST_ENTERED:return new F5(l);case tt.HOST_EXITED:return new H5(l);case tt.HOST_CONNECTED:return new B5(l);case tt.HOST_DISCONNECTED:return new V5(l);case tt.HOST_AUDIO_STATUS_CHANGED:return new jy(l);case tt.HOST_VIDEO_STATUS_CHANGED:return new Ky(l);case tt.PARTICIPANT_ENTERED:return new $5(l);case tt.PARTICIPANT_EXITED:return new z5(l);case tt.CUSTOM_ITEMS_UPDATE:return new q5(l);case tt.CUSTOM_ITEMS_DELETE:return new j5(l)}}catch{return}}}]),s}(),fK=ep.forEach,_K=My("forEach")?[].forEach:function(s){return fK(this,s,arguments.length>1?arguments[1]:void 0)},K5=rn,W5=GT,mK=jT,Wy=_K,vK=th,Q5=function(s){if(s&&s.forEach!==Wy)try{vK(s,"forEach",Wy)}catch{s.forEach=Wy}};for(var Qy in W5)W5[Qy]&&Q5(K5[Qy]&&K5[Qy].prototype);Q5(mK);var gK=Lr,Y5=hm,bK=ty,yK=Dr,X5=U_,EK=gc,wK=jn,xK=fm,kK=Ft,SK=zS,TK=np("slice"),CK=kK("species"),Yy=Array,IK=Math.max;gK({target:"Array",proto:!0,forced:!TK},{slice:function(s,l){var i,c,d,p=wK(this),_=EK(p),g=X5(s,_),b=X5(l===void 0?_:l,_);if(Y5(p)&&(i=p.constructor,(bK(i)&&(i===Yy||Y5(i.prototype))||yK(i)&&(i=i[CK])===null)&&(i=void 0),i===Yy||i===void 0))return SK(p,g,b);for(c=new(i===void 0?Yy:i)(IK(b-g,0)),d=0;g<b;g++,d++)g in p&&xK(c,d,p[g]);return c.length=d,c}});var Z5,Xy,kl=function(){function s(){f(this,s),y(this,"_listeners",{}),y(this,"on",this.addEventListener),y(this,"off",this.removeEventListener)}return v(s,[{key:"addEventListener",value:function(l,i){var c=this;return l in this._listeners||(this._listeners[l]=[]),this._listeners[l].push(i),function(){return c.removeEventListener(l,i)}}},{key:"once",value:function(l,i){var c=this;return this.on(l,function d(){i.apply(void 0,arguments),c.removeEventListener(l,d)})}},{key:"removeEventListener",value:function(l,i){if(l in this._listeners){for(var c=this._listeners[l],d=0,p=c.length;d<p;d++)if(c[d]===i)return void c.splice(d,1)}}},{key:"removeAllEventListeners",value:function(){this._listeners={}}},{key:"_dispatchEvent",value:function(l){if(l in this._listeners){for(var i=this._listeners[l].slice(),c=arguments.length,d=new Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];for(var _=0,g=i.length;_<g;_++){var b;(b=i[_]).call.apply(b,[this].concat(d))}}}}]),s}(),Zy=Le,Jy=rn.RegExp,e2=Zy(function(){var s=Jy("a","y");return s.lastIndex=2,s.exec("abcd")!=null}),NK=e2||Zy(function(){return!Jy("a","y").sticky}),AK=e2||Zy(function(){var s=Jy("^r","gy");return s.lastIndex=2,s.exec("str")!=null}),OK={BROKEN_CARET:AK,MISSED_STICKY:NK,UNSUPPORTED_Y:e2},RK=Le,MK=rn.RegExp,DK=RK(function(){var s=MK(".","s");return!(s.dotAll&&s.exec(`
`)&&s.flags==="s")}),LK=Le,UK=rn.RegExp,PK=LK(function(){var s=UK("(?<a>b)","g");return s.exec("b").groups.a!=="b"||"b".replace(s,"$<a>c")!=="bc"}),hh=Wn,vm=on,FK=lo,HK=o5,BK=OK,$K=ot.exports,zK=$_,VK=bc.get,GK=DK,qK=PK,jK=$K("native-string-replace",String.prototype.replace),gm=RegExp.prototype.exec,n2=gm,KK=vm("".charAt),WK=vm("".indexOf),QK=vm("".replace),t2=vm("".slice),r2=(Xy=/b*/g,hh(gm,Z5=/a/,"a"),hh(gm,Xy,"a"),Z5.lastIndex!==0||Xy.lastIndex!==0),J5=BK.BROKEN_CARET,i2=/()??/.exec("")[1]!==void 0;(r2||i2||J5||GK||qK)&&(n2=function(s){var l,i,c,d,p,_,g,b=this,E=VK(b),I=FK(s),U=E.raw;if(U)return U.lastIndex=b.lastIndex,l=hh(n2,U,I),b.lastIndex=U.lastIndex,l;var X=E.groups,W=J5&&b.sticky,de=hh(HK,b),se=b.source,fe=0,Ae=I;if(W&&(de=QK(de,"y",""),WK(de,"g")===-1&&(de+="g"),Ae=t2(I,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&KK(I,b.lastIndex-1)!==`
`)&&(se="(?: "+se+")",Ae=" "+Ae,fe++),i=new RegExp("^(?:"+se+")",de)),i2&&(i=new RegExp("^"+se+"$(?!\\s)",de)),r2&&(c=b.lastIndex),d=hh(gm,W?i:b,Ae),W?d?(d.input=t2(d.input,fe),d[0]=t2(d[0],fe),d.index=b.lastIndex,b.lastIndex+=d[0].length):b.lastIndex=0:r2&&d&&(b.lastIndex=b.global?d.index+d[0].length:c),i2&&d&&d.length>1&&hh(jK,d[0],i,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(d[p]=void 0)}),d&&X)for(d.groups=_=zK(null),p=0;p<X.length;p++)_[(g=X[p])[0]]=d[g[1]];return d});var bm=n2;Lr({target:"RegExp",proto:!0,forced:/./.exec!==bm},{exec:bm});var eC=em,nC=Bo,YK=bm,tC=Le,rC=Ft,XK=th,ZK=rC("species"),a2=RegExp.prototype,iC=function(s,l,i,c){var d=rC(s),p=!tC(function(){var E={};return E[d]=function(){return 7},""[s](E)!=7}),_=p&&!tC(function(){var E=!1,I=/a/;return s==="split"&&((I={}).constructor={},I.constructor[ZK]=function(){return I},I.flags="",I[d]=/./[d]),I.exec=function(){return E=!0,null},I[d](""),!E});if(!p||!_||i){var g=eC(/./[d]),b=l(d,""[s],function(E,I,U,X,W){var de=eC(E),se=I.exec;return se===YK||se===a2.exec?p&&!W?{done:!0,value:g(I,U,X)}:{done:!0,value:de(U,I,X)}:{done:!1}});nC(String.prototype,s,b[0]),nC(a2,d,b[1])}c&&XK(a2[d],"sham",!0)},JK=BT.charAt,aC=function(s,l,i){return l+(i?JK(s,l).length:1)},s2=on,eW=le,nW=Math.floor,o2=s2("".charAt),tW=s2("".replace),l2=s2("".slice),rW=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,iW=/\$([$&'`]|\d{1,2})/g,sC=Wn,aW=ai,sW=qt,oW=ee,lW=bm,cW=TypeError,oC=function(s,l){var i=s.exec;if(sW(i)){var c=sC(i,s,l);return c!==null&&aW(c),c}if(oW(s)==="RegExp")return sC(lW,s,l);throw cW("RegExp#exec called on incompatible receiver")},uW=$S,lC=Wn,ym=on,dW=iC,hW=Le,pW=ai,fW=qt,_W=On,mW=nh,vW=P_,ph=lo,gW=wn,bW=aC,yW=F0,EW=function(s,l,i,c,d,p){var _=i+s.length,g=c.length,b=iW;return d!==void 0&&(d=eW(d),b=rW),tW(p,b,function(E,I){var U;switch(o2(I,0)){case"$":return"$";case"&":return s;case"`":return l2(l,0,i);case"'":return l2(l,_);case"<":U=d[l2(I,1,-1)];break;default:var X=+I;if(X===0)return E;if(X>g){var W=nW(X/10);return W===0?E:W<=g?c[W-1]===void 0?o2(I,1):c[W-1]+o2(I,1):E}U=c[X-1]}return U===void 0?"":U})},wW=oC,c2=Ft("replace"),xW=Math.max,kW=Math.min,SW=ym([].concat),u2=ym([].push),cC=ym("".indexOf),uC=ym("".slice),TW=function(s){return s===void 0?s:String(s)},CW="a".replace(/./,"$0")==="$0",dC=!!/./[c2]&&/./[c2]("a","$0")==="",IW=!hW(function(){var s=/./;return s.exec=function(){var l=[];return l.groups={a:"7"},l},"".replace(s,"$<a>")!=="7"});dW("replace",function(s,l,i){var c=dC?"$":"$0";return[function(d,p){var _=gW(this),g=_W(d)?void 0:yW(d,c2);return g?lC(g,d,_,p):lC(l,ph(_),d,p)},function(d,p){var _=pW(this),g=ph(d);if(typeof p=="string"&&cC(p,c)===-1&&cC(p,"$<")===-1){var b=i(l,_,g,p);if(b.done)return b.value}var E=fW(p);E||(p=ph(p));var I=_.global;if(I){var U=_.unicode;_.lastIndex=0}for(var X=[];;){var W=wW(_,g);if(W===null||(u2(X,W),!I))break;ph(W[0])===""&&(_.lastIndex=bW(g,vW(_.lastIndex),U))}for(var de="",se=0,fe=0;fe<X.length;fe++){for(var Ae=ph((W=X[fe])[0]),we=xW(kW(mW(W.index),g.length),0),$e=[],ln=1;ln<W.length;ln++)u2($e,TW(W[ln]));var Ie=W.groups;if(E){var ye=SW([Ae],$e,we,g);Ie!==void 0&&u2(ye,Ie);var tn=ph(uW(p,void 0,ye))}else tn=EW(Ae,g,we,$e,Ie,p);we>=se&&(de+=uC(g,se,we)+tn,se=we+Ae.length)}return de+uC(g,se)}]},!IW||!CW||dC);var NW=rn,AW=on(1 .valueOf),hC=`	
\v\f\r \u2028\u2029\uFEFF`,OW=wn,RW=lo,d2=hC,pC=on("".replace),MW=RegExp("^["+d2+"]+"),DW=RegExp("(^|[^"+d2+"])["+d2+"]+$"),h2=function(s){return function(l){var i=RW(OW(l));return 1&s&&(i=pC(i,MW,"")),2&s&&(i=pC(i,DW,"$1")),i}},fC={start:h2(1),end:h2(2),trim:h2(3)},LW=Lr,UW=vi,_C=rn,mC=NW,vC=on,PW=Q_,gC=Pe,FW=x5,HW=Jn,BW=vc,bC=Gk,$W=Le,zW=z0.f,VW=$0.f,GW=xi.f,qW=AW,jW=fC.trim,Em="Number",fh=_C[Em];mC[Em];var p2=fh.prototype,KW=_C.TypeError,WW=vC("".slice),wm=vC("".charCodeAt),QW=function(s){var l,i,c,d,p,_,g,b,E=bC(s,"number");if(BW(E))throw KW("Cannot convert a Symbol value to a number");if(typeof E=="string"&&E.length>2){if(E=jW(E),(l=wm(E,0))===43||l===45){if((i=wm(E,2))===88||i===120)return NaN}else if(l===48){switch(wm(E,1)){case 66:case 98:c=2,d=49;break;case 79:case 111:c=8,d=55;break;default:return+E}for(_=(p=WW(E,2)).length,g=0;g<_;g++)if((b=wm(p,g))<48||b>d)return NaN;return parseInt(p,c)}}return+E},f2=PW(Em,!fh(" 0o1")||!fh("0b1")||fh("+0x1")),xm=function(s){var l,i=arguments.length<1?0:fh(function(c){var d=bC(c,"number");return typeof d=="bigint"?d:QW(d)}(s));return HW(p2,l=this)&&$W(function(){qW(l)})?FW(Object(i),this,xm):i};xm.prototype=p2,f2&&(p2.constructor=xm),LW({global:!0,constructor:!0,wrap:!0,forced:f2},{Number:xm}),f2&&function(s,l){for(var i,c=UW?zW(l):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),d=0;c.length>d;d++)gC(l,i=c[d])&&!gC(s,i)&&GW(s,i,VW(l,i))}(mC[Em],fh);var _2=function(s){Object.keys(s).forEach(function(l){var i;((i=s[l])===void 0||Number.isNaN(i)||i===""||Array.isArray(i)&&i.length===0)&&delete s[l]})},YW=function(){var s=h(o().mark(function l(i){var c,d,p,_,g,b,E,I,U,X,W,de,se;return o().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(i){fe.next=2;break}throw new Error("'getCandidateInfo()' is called without rtcConnection");case 2:return fe.next=4,i.getStats();case 4:c=fe.sent,p=c.entries(),_=0;case 7:if(!(_<c.size)){fe.next=18;break}if(g=p.next(),b=g.value){fe.next=11;break}return fe.abrupt("continue",15);case 11:if((E=b[1]).type!=="candidate-pair"||E.state!=="succeeded"){fe.next=15;break}return d=E.localCandidateId,fe.abrupt("break",18);case 15:_++,fe.next=7;break;case 18:if(!(_<c.size)){fe.next=28;break}if(I=p.next(),U=I.value){fe.next=22;break}return fe.abrupt("continue",25);case 22:if((X=U[1]).type!=="local-candidate"||X.id!==d){fe.next=25;break}return fe.abrupt("return",{connectionType:(W=X.candidateType)!==null&&W!==void 0?W:"",protocol:(de=X.protocol)!==null&&de!==void 0?de:"",relayProtocol:(se=X.relayProtocol)!==null&&se!==void 0?se:""});case 25:_++,fe.next=18;break;case 28:return fe.abrupt("return",null);case 29:case"end":return fe.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),XW=function(){var s=h(o().mark(function l(i){var c,d,p,_,g,b,E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return c={},d={},p={},_={},g=new Map,b=new Map,i.forEach(function(U){U.type==="codec"&&g.set(U.id,U),U.type==="candidate-pair"&&U.state==="succeeded"&&(E=U.localCandidateId,c.webrtc_timestamp=U.time),U.type==="media-source"&&b.set(U.kind,U)}),i.forEach(function(U){if(U.type==="local-candidate"&&U.id===E&&(d.network_type=U.networkType,d.protocol=U.protocol,d.candidate_type=U.candidateType),U.kind==="audio"||U.mediaType==="audio"){var X;if(U.type==="outbound-rtp"&&(p.codec=(X=g.get(U.codecId))===null||X===void 0?void 0:X.mimeType,p.total_packets_sent=U.packetsSent,p.retransmitted_packets_sent=U.retransmittedPacketsSent),U.type==="remote-inbound-rtp"&&(p.rtt=1e3*U.roundTripTime),U.type==="inbound-rtp"){var W=U.packetsLost/(U.packetsLost+U.packetsReceived)*100;p.total_packets_received=U.packetsReceived,p.total_packets_lost_rate=W,p.total_packets_lost=U.packetsLost,p.jitter=1e3*U.jitter}U.type==="track"&&U.remoteSource&&(p.jitter_buffer_delay=U.jitterBufferDelay,p.jitter_buffer_emitted_count=U.jitterBufferDelayEmittedCount)}if(U.kind==="video"||U.mediaType==="video"){var de,se,fe,Ae;if(_.video_source_width=(de=b.get("video"))===null||de===void 0?void 0:de.width,_.video_source_height=(se=b.get("video"))===null||se===void 0?void 0:se.height,_.video_source_frames_per_second=(fe=b.get("video"))===null||fe===void 0?void 0:fe.framesPerSecond,U.type==="outbound-rtp"&&(_.codec=(Ae=g.get(U.codecId))===null||Ae===void 0?void 0:Ae.mimeType,_.fir_count=U.firCount,_.pli_count=U.pliCount,_.nack_count=U.nackCount,_.qp_sum=U.qpSum,_.retransmitted_packets_sent=U.retransmittedBytesSent,_.quality_limitation_reason=U.qualityLimitationReason,_.quality_limitation_resolution_changes=U.qualityLimitationResolutionChanges),U.type==="remote-inbound-rtp"&&(_.rtt=1e3*U.roundTripTime),U.type==="inbound-rtp"){_.header_bytes_received=U.headerBytesReceived,_.key_frames_decoded=U.keyFramesDecoded,_.total_decode_time=U.totalDecodeTime,_.total_inter_frame_delay=U.totalInterFrameDelay,_.total_squared_inter_frame_delay=U.totalSquaredInterFrameDelay;var we=U.packetsLost/(U.packetsLost+U.packetsReceived)*100;_.total_packets_lost=U.packetsLost,_.total_packets_received=U.packetsReceived,_.total_packets_lost_rate=we}U.type==="track"&&(U.remoteSource?(_.jitter_buffer_delay=U.jitterBufferDelay,_.jitter_buffer_emitted_count=U.jitterBufferDelayEmittedCount,_.received_frame_width=U.frameWidth,_.received_frame_height=U.frameHeight,_.frames_received=U.framesReceived,_.frames_decoded=U.framesDecoded,_.frames_dropped=U.framesDropped,_.freeze_count=U.freezeCount,_.pause_count=U.pauseCount,_.total_freezes_duration=U.totalFreezesDuration,_.total_pauses_duration=U.totalPausesDuration,_.total_frames_duration=U.totalFramesDuration,_.sum_of_squared_frames_duration=U.sumOfSquaredFramesDuration):(_.sent_frame_width=U.frameWidth,_.sent_frame_height=U.frameHeight))}}),_2(d),_2(p),_2(_),c.transport_info=d,c.audio=p,c.video=_,I.abrupt("return",c);case 15:case"end":return I.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),ZW=function(){var s=h(o().mark(function l(i){var c;return o().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(i){d.next=2;break}throw new Error("'getStats()' is called without rtcConnection");case 2:return d.next=4,i.getStats();case 4:return c=d.sent,d.abrupt("return",XW(c));case 6:case"end":return d.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),yC=function(){function s(l){f(this,s),this._context=l}return v(s,[{key:"state",get:function(){return this._state}},{key:"_changeState",value:function(l){this._state&&this._state.type===l.type||(this._state&&this._state.destroy(),this._state=l,this._state.context=this._context,this._state.start())}}]),s}(),EC=function(){function s(l){f(this,s),this._stateMutator=l}return v(s,[{key:"context",set:function(l){this._context=l}},{key:"start",value:function(){this._onStart()}},{key:"destroy",value:function(){this._onDestroy()}}]),s}(),wC=function(){function s(l,i){f(this,s),this._context=l,this._stateMutator=i,this._context=l,this._stateMutator=i}return v(s,[{key:"state",get:function(){return this._stateMutator.state}}]),s}(),wc=function(s){w(i,s);var l=O(i);function i(c){return f(this,i),l.call(this,c)}return v(i)}(EC),_r=function(s){return s.IDLE="idle",s.OFFERING="offering",s.ANSWERING="answering",s.CONNECTED="connected",s.RECONNECTING="reconnecting",s.ICE_RESTART_OFFERING="iceRestartOffering",s.ICE_RESTART_ANSWERING="iceRestartAnswering",s.CLOSED="closed",s}({}),JW=function(s){w(c,s);var l,i=O(c);function c(d,p){var _;return f(this,c),y(N(_=i.call(this,d)),"type",_r.ANSWERING),_._offerCommand=p,_}return v(c,[{key:"_onStart",value:function(){this._context.dispatchEvent("answering"),this._context.createRTCConnection(),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(l=h(o().mark(function d(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.prepareSessionDescription(),this._context.sendAnswer().catch(function(g){});case 4:case"end":return _.stop()}},d,this)})),function(d){return l.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(wc),eQ=function(s){w(i,s);var l=O(i);function i(){var c;f(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return y(N(c=l.call.apply(l,[this].concat(p))),"type",_r.CLOSED),c}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(wc),nQ=function(s){w(c,s);var l,i=O(c);function c(d,p){var _;return f(this,c),y(N(_=i.call(this,d)),"type",_r.CONNECTED),_._isReconnected=p,_}return v(c,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(l=h(o().mark(function d(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:this._stateMutator.toReconnecting(p);case 1:case"end":return _.stop()}},d,this)})),function(d){return l.apply(this,arguments)})},{key:"onIceDisconnected",value:function(){this._stateMutator.toReconnecting()}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(wc),tQ=function(s){w(c,s);var l,i=O(c);function c(d,p){var _;return f(this,c),y(N(_=i.call(this,d)),"type",_r.ICE_RESTART_ANSWERING),_._offerCommand=p,_}return v(c,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartAnswering"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(l=h(o().mark(function d(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.sendAnswer().catch(function(g){});case 3:case"end":return _.stop()}},d,this)})),function(d){return l.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(wc),rQ=function(s){w(i,s);var l=O(i);function i(){var c;f(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return y(N(c=l.call.apply(l,[this].concat(p))),"type",_r.ICE_RESTART_OFFERING),c}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartOffering"),this._context.sendOffer(!0)}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(c){this._context.setRemoteDescription("answer",c.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(wc),iQ=function(s){w(c,s);var l,i=O(c);function c(){var d;f(this,c);for(var p=arguments.length,_=new Array(p),g=0;g<p;g++)_[g]=arguments[g];return y(N(d=i.call.apply(i,[this].concat(_))),"type",_r.IDLE),d}return v(c,[{key:"_onStart",value:function(){}},{key:"_onDestroy",value:function(){}},{key:"createOffer",value:function(){this._stateMutator.toOffering()}},{key:"onOfferReceived",value:(l=h(o().mark(function d(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:this._stateMutator.toAnswering(p);case 1:case"end":return _.stop()}},d,this)})),function(d){return l.apply(this,arguments)})},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(wc),aQ=function(s){w(i,s);var l=O(i);function i(){var c;f(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return y(N(c=l.call.apply(l,[this].concat(p))),"type",_r.OFFERING),c}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("offering"),this._context.createRTCConnection(),this._context.prepareSessionDescription()}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(c){this._context.setRemoteDescription("answer",c.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(wc),sQ=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this,c)),"type",_r.RECONNECTING),p._offerCommand=d,p}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("reconnecting"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(c){this._stateMutator.toIceRestartAnswering(c)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(wc),oQ=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toIdle",value:function(){this._changeState(new iQ(this))}},{key:"toOffering",value:function(){this._changeState(new aQ(this))}},{key:"toAnswering",value:function(c){this._changeState(new JW(this,c))}},{key:"toConnected",value:function(c){this._changeState(new nQ(this,c))}},{key:"toReconnecting",value:function(c){this._changeState(new sQ(this,c))}},{key:"toIceRestartOffering",value:function(){this._changeState(new rQ(this))}},{key:"toIceRestartAnswering",value:function(c){this._changeState(new tQ(this,c))}},{key:"toClosed",value:function(){this._changeState(new eQ(this))}}]),i}(yC),lQ=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),(d=l.call(this,c,new oQ(c)))._stateMutator.toIdle(),d}return v(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onOfferReceived",value:function(c){rt.verbose("[".concat(this.state.type,"] onOfferReceived"));var d=this.state;switch(d.type){case _r.IDLE:case _r.ANSWERING:case _r.CONNECTED:case _r.RECONNECTING:case _r.ICE_RESTART_ANSWERING:d.onOfferReceived(c);break;default:rt.error("[".concat(this.state.type,"] onOfferReceived"))}}},{key:"onAnswerReceived",value:function(c){rt.verbose("[".concat(this.state.type,"] onAnswerReceived"));var d=this.state;switch(d.type){case _r.OFFERING:case _r.ICE_RESTART_OFFERING:d.onAnswerReceived(c);break;default:rt.error("[".concat(this.state.type,"] onAnswerReceived"))}}},{key:"onClose",value:function(){rt.verbose("[".concat(this.state.type,"] onClose"));var c=this.state;switch(c.type){case _r.IDLE:case _r.OFFERING:case _r.ANSWERING:case _r.CONNECTED:case _r.RECONNECTING:case _r.ICE_RESTART_OFFERING:case _r.ICE_RESTART_ANSWERING:c.onClose();break;default:rt.error("[".concat(this.state.type,"] onClose"))}}},{key:"createOffer",value:function(){rt.verbose("[".concat(this.state.type,"] createOffer"));var c=this.state;c.type===_r.IDLE?c.createOffer():rt.error("[".concat(this.state.type,"] createOffer"))}},{key:"onIceConnected",value:function(){rt.verbose("[".concat(this.state.type,"] onIceConnected"));var c=this.state;switch(c.type){case _r.OFFERING:case _r.ANSWERING:case _r.RECONNECTING:case _r.ICE_RESTART_OFFERING:case _r.ICE_RESTART_ANSWERING:c.onIceConnected();break;default:rt.error("[".concat(this.state.type,"] onIceConnected"))}}},{key:"onIceDisconnected",value:function(){rt.verbose("[".concat(this.state.type,"] onIceDisconnected"));var c=this.state;c.type===_r.CONNECTED?c.onIceDisconnected():rt.error("[".concat(this.state.type,"] onIceDisconnected"))}},{key:"onIceFailed",value:function(){rt.verbose("[".concat(this.state.type,"] onIceFailed"));var c=this.state;switch(c.type){case _r.CONNECTED:case _r.RECONNECTING:c.onIceFailed();break;default:rt.error("[".concat(this.state.type,"] onIceFailed"))}}}]),i}(wC),cQ=function(s){return s.RELAY="relay",s.ALL="all",s}({}),uQ=function(s){w(_,s);var l,i,c,d,p=O(_);function _(g,b,E,I,U,X,W,de){var se;return f(this,_),(se=p.call(this))._ctx=g,se.id=b,se._signalingClient=E,se._localStream=I,se._isInitiator=U,se._turnCredential=X,se._mediaDirections=W,se._isDisposable=de,se._stateMachine=new lQ({dispatchEvent:se._dispatchEvent.bind(N(se)),isInitiator:se._isInitiator,setRemoteDescription:se._setRemoteDescription.bind(N(se)),sendAnswer:se._sendAnswer.bind(N(se)),sendOffer:se._sendOffer.bind(N(se)),createRTCConnection:se._createRTCConnection.bind(N(se)),prepareSessionDescription:se._prepareSessionDescription.bind(N(se)),isDisposable:se._isDisposable}),I&&I.on("streamChanged",function(fe){return se.onLocalStream(fe)}),se}return v(_,[{key:"_state",get:function(){return this._stateMachine.state}},{key:"rtcConnection",get:function(){return this._rtcConnection}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"signalingClient",get:function(){return this._signalingClient}},{key:"onEvent",value:function(g){switch(g.type){case m2.CANDIDATE:return void this._receiveCandidate(g);case m2.OFFER:this._stateMachine.onOfferReceived(g);break;case m2.ANSWER:this._stateMachine.onAnswerReceived(g);break;default:rt.error(new Error("unhandled call event ".concat(g)))}}},{key:"createOffer",value:function(){this._stateMachine.createOffer()}},{key:"close",value:function(){this._closeRTCConnection(),this._stateMachine.onClose()}},{key:"onLocalStream",value:function(g){if(this._rtcConnection){var b,E=M(g.getTracks());try{for(E.s();!(b=E.n()).done;){var I=b.value;this._replaceTrack(I)}}catch(U){E.e(U)}finally{E.f()}}}},{key:"getCandidateInfo",value:(d=h(o().mark(function g(){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",YW(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return d.apply(this,arguments)})},{key:"getStatsLog",value:(c=h(o().mark(function g(){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",ZW(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return c.apply(this,arguments)})},{key:"_replaceTrack",value:function(g){var b,E=M(this._rtcConnection.getSenders());try{for(E.s();!(b=E.n()).done;){var I=b.value;I.track&&I.track.kind===g.kind&&I.replaceTrack(g)}}catch(U){E.e(U)}finally{E.f()}}},{key:"_createRTCConnection",value:function(){var g,b=this;this._turnCredential&&(g={iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:this._turnCredential.transportPolicy||cQ.ALL});var E=new RTCPeerConnection(g);E.onnegotiationneeded=function(){b._sendOffer(!1)},E.onicecandidate=function(I){var U,X;I.candidate&&((U=(X=b._signalingClient).sendCandidate)===null||U===void 0||U.call(X,I.candidate))},E.onconnectionstatechange=function(){return b._handleConnectionStateChange(E)},E.oniceconnectionstatechange=function(){return b._handleIceConnectionStateChange(E)},E.ontrack=function(I){return b._onRemoteTrack(I)},this._rtcConnection=E}},{key:"_closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null,delete this._remoteStream)}},{key:"_prepareSessionDescription",value:function(){var g=this._mediaDirections,b=g.audio,E=g.video,I={sendrecv:[],sendonly:[],recvonly:[],none:[]};I[b].push("audio"),I[E].push("video"),I.sendrecv.length&&this._addTracks(I.sendrecv),I.sendonly.length&&this._addSendOnlyTransceivers(I.sendonly),I.recvonly.length&&this._addReceiveOnlyTransceivers(I.recvonly)}},{key:"_addTracks",value:function(g){var b=this;rt.debug("_addTracks()");var E=this._localStream.localStream;E.getTracks().forEach(function(I){g.includes(I.kind)&&b._rtcConnection.addTrack(I,E)})}},{key:"_addReceiveOnlyTransceivers",value:function(g){var b=this;g.forEach(function(E){b._rtcConnection.addTransceiver(E,{direction:"recvonly"})})}},{key:"_addSendOnlyTransceivers",value:function(g){var b=this,E=this._localStream.localStream;g.forEach(function(I){E.getTracks().forEach(function(U){U.kind===I&&b._rtcConnection.addTransceiver(U,{direction:"sendonly",streams:[E]})})})}},{key:"_setRemoteDescription",value:function(g,b){var E=b.replace(/a=extmap:0 ulpfec\r\n/,""),I=new RTCSessionDescription({type:g,sdp:E});return this._rtcConnection.setRemoteDescription(I)}},{key:"_sendOffer",value:(i=h(o().mark(function g(b){var E,I;return o().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return E={iceRestart:b||!1},U.next=3,this._rtcConnection.createOffer(E);case 3:return I=U.sent,U.next=6,this._rtcConnection.setLocalDescription(I);case 6:return U.abrupt("return",this._signalingClient.sendOfferSdp(this._rtcConnection.localDescription));case 7:case"end":return U.stop()}},g,this)})),function(g){return i.apply(this,arguments)})},{key:"_sendAnswer",value:(l=h(o().mark(function g(){var b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this._rtcConnection.createAnswer();case 2:return(b=E.sent).sdp=b.sdp.replace("actpass","active"),E.next=6,this._rtcConnection.setLocalDescription(b);case 6:return E.abrupt("return",this._signalingClient.sendAnswerSdp(this._rtcConnection.localDescription));case 7:case"end":return E.stop()}},g,this)})),function(){return l.apply(this,arguments)})},{key:"_handleIceConnectionStateChange",value:function(g){switch(rt.verbose("[".concat(this._state.type,"] iceConnectionState ").concat(g.iceConnectionState)),g.iceConnectionState){case"connected":this._stateMachine.onIceConnected();break;case"disconnected":this._stateMachine.onIceDisconnected();break;case"failed":this._dispatchEvent("iceFailed")}}},{key:"_handleConnectionStateChange",value:function(g){rt.verbose("[".concat(this._state.type,"] connectionState ").concat(g.connectionState)),g.connectionState==="failed"&&this._dispatchEvent("iceFailed")}},{key:"_receiveCandidate",value:function(g){var b=g.payload.candidate;this._rtcConnection.addIceCandidate({sdpMLineIndex:b.sdpMLineIndex,sdpMid:b.sdpMid,candidate:b.sdp}).catch(function(E){rt.error(E)})}},{key:"_onRemoteTrack",value:function(g){this._remoteStream=g.streams[0],this._dispatchEvent("remoteStream",this._remoteStream)}}]),_}(kl),m2=function(s){return s.OFFER="offer",s.ANSWER="answer",s.CANDIDATE="candidate",s}({}),v2=v(function s(){var l=this;f(this,s),this.promise=new Promise(function(i,c){l.resolve=i,l.reject=c})}),g2=function(){var s=h(o().mark(function l(i,c,d){var p,_,g,b,E,I,U,X,W=arguments;return o().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return p=W.length>3&&W[3]!==void 0?W[3]:{count:0,deferred:new v2},_=p.deferred,g=p.count,de.prev=2,de.next=5,c();case 5:E=de.sent,g>0&&((b=d.onRecover)===null||b===void 0||b.call(d)),_.resolve(E),de.next=19;break;case 10:if(de.prev=10,de.t0=de.catch(2),(I=d.onError)===null||I===void 0||I.call(d,de.t0),!((U=i.calcTimeout(g+1))>=0)){de.next=18;break}return(X=d.onRetrial)===null||X===void 0||X.call(d,g+1,de.t0),setTimeout(function(){g2(i,c,d,{count:g+1,deferred:_})},U),de.abrupt("return",_.promise);case 18:_.reject(de.t0);case 19:return de.abrupt("return",_.promise);case 20:case"end":return de.stop()}},l,null,[[2,10]])}));return function(l,i,c){return s.apply(this,arguments)}}(),dQ=function(){function s(){f(this,s)}return v(s,[{key:"calcTimeout",value:function(l){switch(l){case 1:return 1e3;case 2:return 2e3;case 3:return 3e3;default:return-1}}}]),s}(),xC=function(){function s(l,i,c){f(this,s),this.interval=l,this.noise=i,this.maxRetrial=c}return v(s,[{key:"calcTimeout",value:function(l){return l>this.maxRetrial?-1:this.interval+(Math.random()-.5)*this.noise*2}}]),s}(),kC=function(){function s(l){f(this,s),this._requests=new Map,this.timeoutTime=l}return v(s,[{key:"has",value:function(l){return this._requests.has(l)}},{key:"get",value:function(l){return this._requests.get(l)}},{key:"register",value:function(l){if(!l)throw new Error("invalid request id");if(this._requests.has(l))throw new Error("duplicate requests");var i=new v2;return this._requests.set(l,{deferred:i,timer:this._createTimeoutTimer(l)}),i}},{key:"unregister",value:function(l){if(!this._requests.has(l))return null;var i=this._requests.get(l),c=i.timer,d=i.deferred;return clearTimeout(c),this._requests.delete(l),d}},{key:"_createTimeoutTimer",value:function(l){var i=this;return setTimeout(function(){i.unregister(l).reject(new Error("no response due to timeout"))},this._getTimeoutTime())}},{key:"rejectAll",value:function(l){var i,c=M(this._requests.keys());try{for(c.s();!(i=c.n()).done;){var d=i.value,p=this._requests.get(d);clearTimeout(p.timer),p.deferred.reject(l)}}catch(_){c.e(_)}finally{c.f()}this._requests.clear()}},{key:"_getTimeoutTime",value:function(){return this.timeoutTime}}]),s}(),hQ=function(){function s(d,p,_,g){f(this,s),y(this,"_timeoutTime",6e4),this._ctx=d,this._participantId=p,this._mediaDirections=_,this._endpointId=g,this._requestMap=new kC(this._timeoutTime)}var l,i,c;return v(s,[{key:"sendOfferSdp",value:(c=h(o().mark(function d(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(this._endpointId){_.next=5;break}return _.next=3,this._sendOfferAndUnregisterCreateEndpointRequest(p);case 3:_.next=7;break;case 5:return _.next=7,this._sendOfferAndUnregisterPutEndpointRequest(p);case 7:case"end":return _.stop()}},d,this)})),function(d){return c.apply(this,arguments)})},{key:"_sendOfferAndUnregisterCreateEndpointRequest",value:(i=h(o().mark(function d(p){var _,g;return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return _=this._requestMap.unregister("".concat(this._participantId,":create-endpoint-request")),b.prev=1,b.next=4,this._sendCreateEndpoint(p);case 4:return g=b.sent,_&&_.resolve(g),b.abrupt("return",g);case 9:throw b.prev=9,b.t0=b.catch(1),_&&_.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},d,this,[[1,9]])})),function(d){return i.apply(this,arguments)})},{key:"_sendOfferAndUnregisterPutEndpointRequest",value:(l=h(o().mark(function d(p){var _,g;return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return _=this._requestMap.unregister("".concat(this._participantId,":put-endpoint-request")),b.prev=1,b.next=4,this._sendPutEndpoint(p);case 4:return g=b.sent,_&&_.resolve(g),b.abrupt("return",g);case 9:throw b.prev=9,b.t0=b.catch(1),_&&_.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},d,this,[[1,9]])})),function(d){return l.apply(this,arguments)})},{key:"registerCreateEndpointRequest",value:function(){if(this._endpointId)throw new Error("Cannot register create endpoint request on endpoint recycle");return this._requestMap.register("".concat(this._participantId,":create-endpoint-request"))}},{key:"registerPutEndpointRequest",value:function(){if(!this._endpointId)throw new Error("Cannot register put endpoint request without endpoint id");return this._requestMap.register("".concat(this._participantId,":put-endpoint-request"))}},{key:"_sendCreateEndpoint",value:function(d){return this._ctx.sendCreateEndpoint(d)}},{key:"_sendPutEndpoint",value:function(d){return this._ctx.sendPutEndpoint(d)}}]),s}(),xc=function(s){w(i,s);var l=O(i);function i(c){return f(this,i),l.call(this,c)}return v(i)}(EC),rr=function(s){return s.IDLE="idle",s.OFFERING="offering",s.ESTABLISHED="established",s.CONNECTED="connected",s.DISCONNECTED="disconnected",s.RECONNECTING="reconnecting",s.RELEASING="releasing",s.CLOSED="closed",s}({}),pQ=function(s){w(i,s);var l=O(i);function i(){var c;f(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return y(N(c=l.call.apply(l,[this].concat(p))),"type",rr.CLOSED),c}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(xc),fQ=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this,c)),"type",rr.CONNECTED),d}return v(i,[{key:"_onStart",value:function(){var c=this._context.reconnectCount>0;this._context.dispatchEvent("connected",c)}},{key:"_onDestroy",value:function(){}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!0)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(xc),_Q=function(s){w(i,s);var l=O(i);function i(c,d,p){var _;return f(this,i),y(N(_=l.call(this,c)),"type",rr.ESTABLISHED),_._sdp=d,_._hasPendingAttach=p,_}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("established"),this._context.setRemoteDescription(this._sdp),this._hasPendingAttach&&this.onAttach()}},{key:"_onDestroy",value:function(){}},{key:"onPCConnected",value:function(){this._stateMutator.toConnected()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(xc),mQ=function(s){w(i,s);var l=O(i);function i(){var c;f(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return y(N(c=l.call.apply(l,[this].concat(p))),"type",rr.IDLE),c}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("idle"),this._stateMutator.toOffering()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(xc),vQ=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this,c)),"type",rr.OFFERING),d}return v(i,[{key:"_onStart",value:function(){this._request()}},{key:"_onDestroy",value:function(){this._requestTimeout&&clearTimeout(this._requestTimeout),delete this._requestTimeout}},{key:"_request",value:function(){this._context.createSession(),this._context.requestCreateOrPutEndpoint()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onEndpointRequestSucceeded",value:function(c){this._stateMutator.toEstablished(c,this._hasPendingAttach)}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._hasPendingAttach=!0}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(xc),gQ=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this,c)),"type",rr.DISCONNECTED),p.shouldDispatchEvent=d,p}return v(i,[{key:"_onStart",value:function(){this.shouldDispatchEvent&&this._context.dispatchEvent("disconnected"),this._stateMutator.toReconnecting()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(xc),bQ=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this,c)),"type",rr.RECONNECTING),d}return v(i,[{key:"_onStart",value:function(){var c=this;this._context.reconnectCount+=1,setTimeout(function(){c._stateMutator.toOffering()},5e3+1e3*Math.random())}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(xc),yQ=function(s){w(i,s);var l=O(i);function i(){var c;f(this,i);for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return y(N(c=l.call.apply(l,[this].concat(p))),"type",rr.RELEASING),c}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("releasing"),this._context.closePeerConnection(),this._context.endpoint.id&&this._context.requestRelease()}},{key:"_onDestroy",value:function(){}},{key:"onEndpointRequestSucceeded",value:function(){this._context.requestRelease()}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toClosed()}},{key:"onReleased",value:function(){this._stateMutator.toClosed()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(xc),wQ=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"Endpoint"}},{key:"toIdle",value:function(){this._changeState(new mQ(this))}},{key:"toOffering",value:function(){this._changeState(new vQ(this))}},{key:"toEstablished",value:function(c,d){this._changeState(new _Q(this,c,d))}},{key:"toConnected",value:function(){this._changeState(new fQ(this))}},{key:"toDisconnected",value:function(c){this._changeState(new gQ(this,c))}},{key:"toReconnecting",value:function(){this._changeState(new bQ(this))}},{key:"toReleasing",value:function(){this._changeState(new yQ(this))}},{key:"toClosed",value:function(){this._changeState(new pQ(this))}}]),i}(yC),xQ=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),(d=l.call(this,c,new wQ(c)))._stateMutator.toIdle(),d}return v(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onEndpointRequestSucceeded",value:function(c){rt.verbose("[".concat(this.state.type,"] onEndpointRequestSucceeded"));var d=this.state;switch(d.type){case rr.OFFERING:d.onEndpointRequestSucceeded(c);break;case rr.RELEASING:d.onEndpointRequestSucceeded();break;default:rt.error("[".concat(this.state.type,"] onEndpointRequestSucceeded"))}}},{key:"onEndpointRequestFailed",value:function(){rt.verbose("[".concat(this.state.type,"] onEndpointCreateFailed"));var c=this.state;switch(c.type){case rr.OFFERING:case rr.RELEASING:c.onEndpointRequestFailed();break;default:rt.error("[".concat(this.state.type,"] onEndpointCreateFailed"))}}},{key:"onICEFailed",value:function(){rt.verbose("[".concat(this.state.type,"] onICEFailed"));var c=this.state;switch(c.type){case rr.OFFERING:case rr.ESTABLISHED:case rr.CONNECTED:c.onICEFailed();break;default:rt.error("[".concat(this.state.type,"] onICEFailed"))}}},{key:"onPCConnected",value:function(){rt.verbose("[".concat(this.state.type,"] onPCConnected"));var c=this.state;c.type===rr.ESTABLISHED?c.onPCConnected():rt.error("[".concat(this.state.type,"] onPCConnected"))}},{key:"onAttach",value:function(){rt.verbose("[".concat(this.state.type,"] onAttach"));var c=this.state;switch(c.type){case rr.OFFERING:case rr.ESTABLISHED:case rr.CONNECTED:c.onAttach();break;default:rt.error("[".concat(this.state.type,"] onAttach"))}}},{key:"onRelease",value:function(){rt.verbose("[".concat(this.state.type,"] onRelease"));var c=this.state;switch(c.type){case rr.IDLE:case rr.OFFERING:case rr.ESTABLISHED:case rr.CONNECTED:case rr.DISCONNECTED:case rr.RECONNECTING:c.onRelease();break;default:rt.error("[".concat(this.state.type,"] onRelease"))}}},{key:"onReleased",value:function(){rt.verbose("[".concat(this.state.type,"] onReleased"));var c=this.state;c.type===rr.RELEASING?c.onReleased():rt.error("[".concat(this.state.type,"] onReleased"))}},{key:"onExit",value:function(){rt.verbose("[".concat(this.state.type,"] onExit"));var c=this.state;switch(c.type){case rr.RELEASING:case rr.IDLE:case rr.CONNECTED:case rr.ESTABLISHED:case rr.OFFERING:case rr.DISCONNECTED:case rr.RECONNECTING:c.onExit();break;default:rt.error("[".concat(this.state.type,"] onExit"))}}}]),i}(wC),b2=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i)}(function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),(d=l.call(this)).payload=c.payload||{},d}return v(i)}(pm)),y2=function(s){return s.OFFER="offer",s.ANSWER="answer",s.CANDIDATE="candidate",s}({}),kQ=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this,{payload:c})),"type",y2.ANSWER),d}return v(i)}(b2),SQ=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this,{payload:c})),"type",y2.CANDIDATE),d}return v(i)}(b2),TQ=function(s){w(i,s);var l=O(i);function i(c){var d;return f(this,i),y(N(d=l.call(this,{payload:c})),"type",y2.OFFER),d}return v(i)}(b2),CQ=function(){function s(){f(this,s)}return v(s,null,[{key:"createOffer",value:function(l,i){return new TQ({peerConnectionId:l,sdp:i})}},{key:"createAnswer",value:function(l,i){return new kQ({peerConnectionId:l,sdp:i})}},{key:"createCandidate",value:function(l,i){return new SQ({peerConnectionId:l,candidate:i})}}]),s}(),SC=function(s){w(i,s);var l=O(i);function i(c,d,p,_){var g;return f(this,i),y(N(g=l.call(this)),"tmpId",Me()),y(N(g),"_createSession",function(){switch(rt.debug("_createSession()"),g.type){case"master":g._createMasterSession();break;case"viewer":g._createViewerSession();break;default:rt.error("Not supported endpoint type : ",g.type)}}),y(N(g),"_closePeerConnection",function(){var b,E;rt.debug("_closePeerConnection()"),(b=g._pc)===null||b===void 0||b.removeAllEventListeners(),(E=g._pc)===null||E===void 0||E.close(),g._pc=null}),y(N(g),"_requestCreateOrPutEndpoint",function(){rt.debug("_requestCreateOrPutEndpoint()");var b,E=g._pc;b=g.id?E.signalingClient.registerPutEndpointRequest():E.signalingClient.registerCreateEndpointRequest(),E.createOffer(),b.promise.then(function(I){g.id=I.payload.endpoint.id,g._stateMachine.onEndpointRequestSucceeded(I.payload.sdp)}).catch(function(I){rt.error("Endpoint request failed",I),g._stateMachine.onEndpointRequestFailed()})}),y(N(g),"_requestAttach",function(){g2(new xC(5e3,1e3,8),function(){return g._sendAttach(g.attachedTo)},{onError:function(b){rt.error("Fail attach endpoint endpointId = ".concat(g.id,", to = ").concat(g.attachedTo," ErrorCode = ").concat(b.code))}}).then(function(){g._dispatchEvent("attached",g.attachedTo)})}),y(N(g),"_requestRelease",function(){rt.debug("_requestRelease()"),g._sendReleaseEndpoint().then(function(){g._stateMachine.onReleased()}).catch(function(b){rt.error("Release request failed",b),g._stateMachine.onReleased()})}),y(N(g),"_setRemoteDescription",function(b){rt.debug("_setRemoteDescription()");var E=g._pc,I=CQ.createAnswer(void 0,b);E.onEvent(I),E.once("connected",function(){g._stateMachine.onPCConnected(),g._sendConnected()}),E.once("iceFailed",function(){g._stateMachine.onICEFailed()})}),g._ctx=c,g._localStream=d,g._participantId=_,g.type=p,g._stateMachine=new xQ({endpoint:N(g),dispatchEvent:g._dispatchEvent.bind(N(g)),createSession:g._createSession,requestCreateOrPutEndpoint:g._requestCreateOrPutEndpoint,setRemoteDescription:g._setRemoteDescription,closePeerConnection:g._closePeerConnection,requestAttach:g._requestAttach,requestRelease:g._requestRelease,trialCount:0,reconnectCount:0}),g}return v(i,[{key:"remoteStream",get:function(){var c;return(c=this._pc)===null||c===void 0?void 0:c.remoteStream}},{key:"_state",get:function(){return this._stateMachine.state}},{key:"_masterSessionDirection",get:function(){return this._ctx.masterSessionDirection}},{key:"_viewerSessionDirection",get:function(){return this._ctx.viewerSessionDirection}},{key:"attach",value:function(c){rt.debug("attach()"),this.attachedTo=c,this._stateMachine.onAttach()}},{key:"release",value:function(){rt.debug("release()"),this._stateMachine.onRelease()}},{key:"exit",value:function(){rt.debug("exit()"),this._closePeerConnection(),this._stateMachine.onExit()}},{key:"_createMasterSession",value:function(){rt.debug("_createMasterSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._masterSessionDirection,this._localStream)}},{key:"_createViewerSession",value:function(){rt.debug("_createViewerSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._viewerSessionDirection,void 0)}},{key:"_createPeerConnection",value:function(c,d){var p=this;rt.debug("_createPeerConnection()");var _=new hQ(this._ctx,this._participantId,c,this.id);this._pc=new uQ(this._ctx,void 0,_,d,!0,void 0,c,!0),this._pc.on("remoteStream",function(g){p._dispatchEvent("remoteStream",g)}),this._dispatchEvent("pcChanged",this._pc)}},{key:"_sendConnected",value:function(){return this._ctx.sendConnected(this)}},{key:"_sendReleaseEndpoint",value:function(){return this._ctx.sendReleaseEndpoint(this)}},{key:"_sendAttach",value:function(c){return this._ctx.sendAttach(this,c)}}]),i}(kl),IQ=Wn,NQ=Fo,AQ=Ru,OQ=im,RQ=Z0;Lr({target:"Promise",stat:!0,forced:xy},{allSettled:function(s){var l=this,i=AQ.f(l),c=i.resolve,d=i.reject,p=OQ(function(){var _=NQ(l.resolve),g=[],b=0,E=1;RQ(s,function(I){var U=b++,X=!1;E++,IQ(_,l,I).then(function(W){X||(X=!0,g[U]={status:"fulfilled",value:W},--E||c(g))},function(W){X||(X=!0,g[U]={status:"rejected",reason:W},--E||c(g))})}),--E||c(g)});return p.error&&d(p.value),i.promise}});var _h=function(s){return s.TOP_LEFT="top_left",s.TOP_RIGHT="top_right",s.BOTTOM_LEFT="bottom_left",s.BOTTOM_RIGHT="bottom_right",s.HIDDEN="hidden",s}({}),MQ=function(s){w(c,s);var l,i=O(c);function c(){return f(this,c),i.call(this)}return v(c,[{key:"stream",get:function(){return this._stream}},{key:"isSharing",get:function(){return!!this._stream}},{key:"startStream",value:(l=h(o().mark(function d(){var p,_=this;return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 3:p=g.sent,this._stream=p,this._stream.getVideoTracks()[0].onended=function(){_._releaseStream(),_._dispatchEvent("streamStopped")},g.next=19;break;case 8:g.prev=8,g.t0=g.catch(0),g.t1=g.t0.name,g.next=g.t1==="InvalidStateError"?13:g.t1==="NotAllowedError"?14:g.t1==="NotFoundError"?15:g.t1==="NotReadableError"?16:17;break;case 13:case 14:case 15:case 16:return g.abrupt("break",18);case 17:throw new Error("");case 18:throw new Error("failed to start screen share");case 19:case"end":return g.stop()}},d,this,[[0,8]])})),function(){return l.apply(this,arguments)})},{key:"stopStream",value:function(){this._releaseStream(),this._dispatchEvent("streamStopped")}},{key:"_releaseStream",value:function(){if(this._stream){var d,p=M(this._stream.getTracks());try{for(p.s();!(d=p.n()).done;)d.value.stop()}catch(_){p.e(_)}finally{p.f()}delete this._stream}}}]),c}(kl),mh=null;function DQ(s,l){var i=[];mh||(mh=new(window.AudioContext||window.webkitAudioContext));var c=mh.createGain();if(c.gain.value=1,s){var d=new MediaStream;d.addTrack(s),i.push(mh.createMediaStreamSource(d).connect(c))}if(l){var p=new MediaStream;p.addTrack(l),i.push(mh.createMediaStreamSource(p).connect(c))}for(var _=mh.createMediaStreamDestination(),g=0,b=i;g<b.length;g++)b[g].connect(_);return _.stream.getAudioTracks()[0]}var LQ=function(s){w(g,s);var l,i,c,d,p,_=O(g);function g(b){var E,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{audio:!0,video:!0},U=arguments.length>2?arguments[2]:void 0;return f(this,g),y(N(E=_.call(this)),"isCustomStreaming",!1),y(N(E),"_checkScreenSharePrerequisites",function(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("screen share is not supported in this browser")}),E._deviceManager=b,E._mediaConstraints=I,E._screenShareOptions=U,E._screenShare=new MQ,E._screenShare.on("streamStopped",function(){E._releaseMergedStream(),E._dispatchEvent("screenShareStreamStopped")}),E}return v(g,[{key:"mediaConstraints",set:function(b){this._mediaConstraints=b}},{key:"screenShareOptions",set:function(b){var E=this;this._screenShareOptions=b,this._screenShare.isSharing&&b!=null&&b.frameRate&&(this._releaseMergedStream(!1),this._mergeOverlayingScreenShareStream().then(function(){E._dispatchEvent("streamChanged",E.localStream)}))}},{key:"hasPermission",get:function(){var b;return(b=this._mediaAccess)===null||b===void 0?void 0:b.hasPermission}},{key:"localStream",get:function(){return this.isCustomStreaming?this._customStream:this.isScreenSharing?this._mergedStream:this.getLocalMediaStream()}},{key:"mergedStream",get:function(){return this._mergedStream}},{key:"screenStream",get:function(){return this._screenShare.stream}},{key:"customStream",get:function(){return this._customStream}},{key:"isScreenSharing",get:function(){return this._screenShare.isSharing}},{key:"useScreenStream",value:(p=h(o().mark(function b(){return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return this._checkScreenSharePrerequisites(),E.next=3,this._screenShare.startStream();case 3:this._mergeScreenShareStream(),this._dispatchEvent("streamChanged",this.localStream);case 5:case"end":return E.stop()}},b,this)})),function(){return p.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._screenShare.isSharing&&this._screenShare.stopStream()}},{key:"startOverlayingScreenStream",value:(d=h(o().mark(function b(E){return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return E&&(this._screenShareOptions=E),this._checkScreenSharePrerequisites(),I.next=4,this._screenShare.startStream();case 4:return I.next=6,this._mergeOverlayingScreenShareStream();case 6:this._dispatchEvent("streamChanged",this.localStream);case 7:case"end":return I.stop()}},b,this)})),function(b){return d.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(c=h(o().mark(function b(E){return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,this._streamProcessor=E,I.next=4,this._applyStreamProcessor();case 4:this.isCustomStreaming=!0,this._dispatchEvent("streamChanged",this.localStream),I.next=11;break;case 8:I.prev=8,I.t0=I.catch(0),rt.error("failed to use custom stream",I.t0);case 11:case"end":return I.stop()}},b,this,[[0,8]])})),function(b){return c.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this.isCustomStreaming&&(this._releaseCustomStream(!1),this.isCustomStreaming=!1,this._dispatchEvent("streamChanged",this.localStream))}},{key:"getLocalMediaStream",value:function(){return this._mediaAccess||this._grantMediaAccess(this._mediaConstraints),this._mediaAccess.stream}},{key:"revokeMediaAccess",value:function(){this._mediaAccess&&(this._mediaAccess.dispose(),this._mediaAccess=null)}},{key:"release",value:function(){this.stopScreenShare(),this.revokeMediaAccess()}},{key:"_grantMediaAccess",value:function(b){var E=this;this._mediaAccess=this._deviceManager.useMedia(b);var I=[];this._mediaAccess.on("streamChanged",function(){E._screenShare.isSharing&&I.push(E._mergeOverlayingScreenShareStream()),E.isCustomStreaming&&I.push(E._applyStreamProcessor()),I.length>0?Promise.allSettled(I).then(function(){return E._dispatchEvent("streamChanged",E.localStream)}):E._dispatchEvent("streamChanged",E.localStream)}),this._mediaAccess.on("audioOutputChanged",function(){return E._dispatchEvent("audioOutputChanged")})}},{key:"_mergeScreenShareStream",value:function(){if(this._screenShare.isSharing){var b=new MediaStream;this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&b.addTrack(this._mediaAccess.stream.getAudioTracks()[0]),b.addTrack(this.screenStream.getVideoTracks()[0]),this._mergedStream=b}}},{key:"_mergeOverlayingScreenShareStream",value:(i=h(o().mark(function b(){var E,I,U,X,W,de,se,fe,Ae,we,$e,ln,Ie,ye=this;return o().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(this._screenShare.isSharing){tn.next=2;break}return tn.abrupt("return");case 2:return I=!1,U=document.createElement("canvas"),(X=document.createElement("video")).srcObject=this.screenStream,X.muted=!0,tn.next=9,X.play();case 9:return(W=document.createElement("video")).srcObject=this.getLocalMediaStream(),W.muted=!0,tn.next=14,W.play();case 14:de=X.videoWidth,se=X.videoHeight,U.width=de,U.height=se,fe=U.getContext("2d"),Ae=setInterval(function(){var Ze;if(!I){I=!0;var Qe=X.videoWidth,xn=X.videoHeight,ir=W.videoWidth,Tn=W.videoHeight;(se<xn||de<Qe)&&(de=Qe,se=xn,U.width=Qe,U.height=xn,fe.fillRect(0,0,de,se)),X.width=Qe,X.height=xn,fe.drawImage(X,0,0,Qe,xn);var Sn=ye.enumToPosition((Ze=ye._screenShareOptions)===null||Ze===void 0?void 0:Ze.cameraOverlayPosition,ir,Tn,U.width,U.height),zn=Sn.dx,ft=Sn.dy,lt=Sn.dw,ar=Sn.dh;fe.drawImage(W,zn,ft,lt,ar),I=!1}},(E=this._screenShareOptions)!==null&&E!==void 0&&E.frameRate?1e3/this._screenShareOptions.frameRate:1e3/24),we=U.captureStream(),this.mergeInterval=Ae,this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&($e=this._mediaAccess.stream.getAudioTracks()[0]),this.screenStream&&this.screenStream.getAudioTracks().length>0&&(ln=this.screenStream.getAudioTracks()[0]),Ie=DQ($e,ln),we.addTrack(Ie),this._mergedStream=we;case 27:case"end":return tn.stop()}},b,this)})),function(){return i.apply(this,arguments)})},{key:"_applyStreamProcessor",value:(l=h(o().mark(function b(){var E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if((E=this._mediaAccess)===null||E===void 0||!E.stream){I.next=4;break}return I.next=3,this._streamProcessor(this._mediaAccess.stream);case 3:this._customStream=I.sent;case 4:case"end":return I.stop()}},b,this)})),function(){return l.apply(this,arguments)})},{key:"_releaseMergedStream",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._mergedStream&&(this._mergedStream.removeTrack(this._mergedStream.getAudioTracks()[0]),delete this._mergedStream,this.mergeInterval&&(clearInterval(this.mergeInterval),delete this.mergeInterval),b&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"_releaseCustomStream",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._customStream&&(delete this._customStream,delete this._streamProcessor,b&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"enumToPosition",value:function(b,E,I,U,X){var W=E/I,de=.2*X,se=.2*U*(1/W),fe=Math.min(de,se),Ae=fe*W,we=Math.min(.05*U,.05*X),$e=U-Ae-we,ln=X-fe-we;switch(b){case _h.HIDDEN:return{dx:0,dy:0,dw:0,dh:0};case _h.TOP_LEFT:return{dx:we,dy:we,dw:Ae,dh:fe};case _h.TOP_RIGHT:return{dx:$e,dy:we,dw:Ae,dh:fe};case _h.BOTTOM_LEFT:return{dx:we,dy:ln,dw:Ae,dh:fe};case _h.BOTTOM_RIGHT:default:return{dx:$e,dy:ln,dw:Ae,dh:fe}}}}]),g}(kl),E2=function(){function s(_,g,b,E,I){f(this,s),this._liveEvent=_,this._sender=b,this._deviceManager=g,this._mediaOption=E,this._screenShareOptions=I}var l,i,c,d,p;return v(s,[{key:"mediaView",get:function(){return this._mediaView},set:function(_){this._mediaView!==_&&(this._mediaView&&(this._mediaView=null),_?this.isHostStream?this._mediaView=this._updateMediaViewStream(_,this.localStream):this._mediaView=this._updateMediaViewStream(_,this.remoteStream):delete this._mediaView)}},{key:"localStream",get:function(){var _;return(_=this._localStream)===null||_===void 0?void 0:_.localStream}},{key:"remoteStream",get:function(){var _;return(_=this._endpoint)===null||_===void 0?void 0:_.remoteStream}},{key:"isHostStream",get:function(){return this._mediaOption}},{key:"_createLocalStream",value:function(){var _=this;this._localStream=new LQ(this._deviceManager,{audio:!0,video:!0},this._screenShareOptions),this._localStream.on("streamChanged",function(){_._onLocalStream()}),this._mediaOption.streamProcessor&&this._localStream.startUsingExternalVideo(this._mediaOption.streamProcessor)}},{key:"_createEndpoint",value:function(){var _=this;if(this.isHostStream)return this._localStream||this._createLocalStream(),new SC({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},this._localStream,"master",this._liveEvent.host.hostId);var g=new SC({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},void 0,"viewer",this._liveEvent.currentLiveUser.participantId);return g.on("remoteStream",function(b){_._onStream()}),g.on("connected",function(b){b&&_._onEndpointReconnected()}),g}},{key:"openStream",value:function(){this._endpoint&&this._teardown(),this._endpoint=this._createEndpoint()}},{key:"closeStream",value:function(_){_&&(this._endpoint.release(),this._endpoint.removeAllEventListeners()),this._teardown()}},{key:"attach",value:function(_){this._endpoint.attach(_)}},{key:"toggleAudio",value:function(_){var g,b,E;(g=this.localStream.getAudioTracks())===null||g===void 0||g.forEach(function(I){I.enabled=_}),(b=this._localStream.getLocalMediaStream())===null||b===void 0||(E=b.getAudioTracks())===null||E===void 0||E.forEach(function(I){I.enabled=_}),this._mediaOption.turnAudioOn=_}},{key:"toggleVideo",value:function(_){var g,b,E;(g=this.localStream.getVideoTracks())===null||g===void 0||g.forEach(function(I){I.enabled=_}),(b=this._localStream.getLocalMediaStream())===null||b===void 0||(E=b.getVideoTracks())===null||E===void 0||E.forEach(function(I){I.enabled=_}),this._mediaOption.turnVideoOn=_}},{key:"startUsingExternalVideo",value:(p=h(o().mark(function _(g){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._localStream.startUsingExternalVideo(g);case 2:case"end":return b.stop()}},_,this)})),function(_){return p.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this._localStream.stopUsingExternalVideo()}},{key:"startScreenShare",value:(d=h(o().mark(function _(g){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return this._screenShareOptions=g,b.next=3,this._localStream.startOverlayingScreenStream(g);case 3:case"end":return b.stop()}},_,this)})),function(_){return d.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._localStream.stopScreenShare()}},{key:"setScreenShareOptions",value:function(_){this._screenShareOptions=_,this._localStream&&(this._localStream.screenShareOptions=_)}},{key:"chooseMediaDevice",value:function(_,g){this._deviceManager.selectDevice(_,g)}},{key:"_onLocalStream",value:function(){this.toggleAudio(this._mediaOption.turnAudioOn),this.toggleVideo(this._mediaOption.turnVideoOn),this._mediaView&&this._updateMediaViewStream(this._mediaView,this.localStream)}},{key:"_onStream",value:function(){var _=this.remoteStream;this._mediaView&&this._updateMediaViewStream(this._mediaView,_)}},{key:"_onEndpointReconnected",value:function(){var _=this._endpoint;_.type==="viewer"&&_.attachedTo&&this.attach(_.attachedTo)}},{key:"_updateMediaViewStream",value:function(_,g){return g&&(_.srcObject=g),_}},{key:"_sendConnected",value:(c=h(o().mark(function _(g){var b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return b=this.isHostStream?yr.createHostConnected(this._liveEvent.liveEventId,this._liveEvent.host.hostId,g.id):yr.createConnected(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,g.id),E.abrupt("return",this._sender.send(b));case 2:case"end":return E.stop()}},_,this)})),function(_){return c.apply(this,arguments)})},{key:"_sendReleaseEndpoint",value:function(_){var g;return g=this.isHostStream?yr.createHostDeleteStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,_.id):yr.createDeleteStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,_.id),this._sender.sendWithRetry(g)}},{key:"_sendAttach",value:function(_,g){var b=yr.createAttach(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,_.id,g);return this._sender.sendWithRetry(b)}},{key:"_sendCreateEndpoint",value:(i=h(o().mark(function _(g){var b,E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!this.isHostStream){I.next=5;break}return b=yr.createHostCreateStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,g.sdp,"sendonly","sendonly"),I.abrupt("return",this._sender.send(b));case 5:return E=yr.createStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,g.sdp,"recvonly","recvonly"),I.abrupt("return",this._sender.send(E));case 7:case"end":return I.stop()}},_,this)})),function(_){return i.apply(this,arguments)})},{key:"_sendPutEndpoint",value:(l=h(o().mark(function _(g){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,this._sendReleaseEndpoint(this._endpoint);case 3:b.next=8;break;case 5:b.prev=5,b.t0=b.catch(0),rt.error("failed to remove endpoint");case 8:return b.abrupt("return",this._sendCreateEndpoint(g));case 9:case"end":return b.stop()}},_,this,[[0,5]])})),function(_){return l.apply(this,arguments)})},{key:"_teardown",value:function(){var _,g;(_=this._endpoint)===null||_===void 0||_.exit(),(g=this._endpoint)===null||g===void 0||g.removeAllEventListeners(),this._endpoint=null}}]),s}(),va=function(s){return s[s.ERR_REQUEST_FAILED=1800200]="ERR_REQUEST_FAILED",s[s.ERR_WEBSOCKET_CONNECTION_NOT_OPENED=1800201]="ERR_WEBSOCKET_CONNECTION_NOT_OPENED",s[s.ERR_WEBSOCKET_CONNECTION_FAILED=1800202]="ERR_WEBSOCKET_CONNECTION_FAILED",s[s.ERR_NO_RESPONSE_DUE_TO_TIMEOUT=1800203]="ERR_NO_RESPONSE_DUE_TO_TIMEOUT",s[s.ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST=1800204]="ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST",s[s.ERR_WRONG_RESPONSE=1800205]="ERR_WRONG_RESPONSE",s[s.ERR_QUERY_IN_PROGRESS=1800206]="ERR_QUERY_IN_PROGRESS",s[s.INTERNAL_SERVER_ERROR=1800207]="INTERNAL_SERVER_ERROR",s[s.ERR_MALFORMED_DATA=1800208]="ERR_MALFORMED_DATA",s[s.LIVE_EVENT_ID_NOT_FOUND=2800100]="LIVE_EVENT_ID_NOT_FOUND",s[s.ACTION_NOT_ALLOWED_IN_CURRENT_STATE=2800101]="ACTION_NOT_ALLOWED_IN_CURRENT_STATE",s[s.ACTION_NOT_ALLOWED_FOR_PARTICIPANT=2800102]="ACTION_NOT_ALLOWED_FOR_PARTICIPANT",s[s.USER_NOT_ENTERED_LIVE_EVENT=2800103]="USER_NOT_ENTERED_LIVE_EVENT",s[s.STREAM_NOT_STARTED=2800104]="STREAM_NOT_STARTED",s[s.CONNECTION_TO_MEDIA_STREAM_FAILED=2800105]="CONNECTION_TO_MEDIA_STREAM_FAILED",s[s.UNKNOWN_NETWORK_ERROR=2800400]="UNKNOWN_NETWORK_ERROR",s[s.QUERY_IN_PROGRESS=2800900]="QUERY_IN_PROGRESS",s[s.OPEN_CHANNEL_NOT_FETCHED=2800901]="OPEN_CHANNEL_NOT_FETCHED",s}({}),UQ=function(){function s(){f(this,s)}return v(s,null,[{key:"getErrorMessage",value:function(l){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.invalidParameter;var c=i.methodName,d=c===void 0?"":c;switch(l){case va.LIVE_EVENT_ID_NOT_FOUND:return"The live event ID is not found.";case va.ACTION_NOT_ALLOWED_IN_CURRENT_STATE:return"The user is trying to perform actions such as calling the ".concat(d,", ").concat(d,", ").concat(d," methods for a live event that is not in the 'ongoing' or 'ready' state.");case va.ACTION_NOT_ALLOWED_FOR_PARTICIPANT:return"The participant is trying to perform actions that are only allowed for a host.";case va.USER_NOT_ENTERED_LIVE_EVENT:return"The user is trying to perform actions on a live event without entering the event.";case va.STREAM_NOT_STARTED:return"The user is trying to end a stream that doesn't exist.";case va.CONNECTION_TO_MEDIA_STREAM_FAILED:return"The connection to media stream failed to establish.";case va.UNKNOWN_NETWORK_ERROR:return"An unknown network error has occured.";case va.QUERY_IN_PROGRESS:return"The last query is in progress.";case va.OPEN_CHANNEL_NOT_FETCHED:return"The open channel for the live event is not fetched.";default:return""}}}]),s}(),PQ=["message","error"],kc=function(s){w(i,s);var l=O(i);function i(c){var d,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=p.message,g=p.error,b=k(p,PQ);f(this,i);var E=_||UQ.getErrorMessage(c,b);return(d=l.call(this,E)).code=c,d._error=g,d}return v(i)}(S(Error)),w2=function(s){w(ln,s);var l,i,c,d,p,_,g,b,E,I,U,X,W,de,se,fe,Ae,we,$e=O(ln);function ln(Ie){var ye,tn=Ie.deviceManager,Ze=Ie.sender,Qe=Ie.sb,xn=Ie.userId,ir=Ie.info;return f(this,ln),y(N(ye=$e.call(this)),"_customItemsUpdatedAt",0),ye._deviceManager=tn,ye._sender=Ze,ye._sb=Qe,ye._userId=xn,ye._streams=new Map,ye._customItems=null,ir&&Object.assign(N(ye),ir),ye._unsubscriber=ye._sender.on("command",function(Tn){ye._onEvent(Tn)}),ye}return v(ln,[{key:"customItems",get:function(){return a({},this._customItems)},set:function(Ie){this._customItems=Ie}},{key:"myRole",get:function(){return this.userIdsForHost.includes(this._userId)?mm.HOST:mm.PARTICIPANT}},{key:"isHost",get:function(){return this.myRole===mm.HOST}},{key:"isActiveHost",get:function(){return this.isHost&&!(this==null||!this.currentLiveUser.isHost)}},{key:"duration",get:function(){return this._duration>0?this._duration:Date.now()-this.startedAt},set:function(Ie){this._duration=Ie}},{key:"fetchOpenChannel",value:(we=h(o().mark(function Ie(){var ye,tn;return o().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.next=2,this._sb.openChannel.getChannelWithoutCache(this.liveEventId);case 2:return ye=Ze.sent,tn=this._sb.openChannel.buildOpenChannelFromSerializedData(ye),this.openChannel=tn,Ze.abrupt("return",tn);case 6:case"end":return Ze.stop()}},Ie,this)})),function(){return we.apply(this,arguments)})},{key:"_getOpenChannel",value:(Ae=h(o().mark(function Ie(){return o().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(!this.openChannel){ye.next=2;break}return ye.abrupt("return",this.openChannel);case 2:return ye.abrupt("return",this.fetchOpenChannel());case 3:case"end":return ye.stop()}},Ie,this)})),function(){return Ae.apply(this,arguments)})},{key:"enterAsHost",value:(fe=h(o().mark(function Ie(ye){var tn,Ze,Qe;return o().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return xn.next=2,this._getOpenChannel();case 2:return tn=xn.sent,xn.next=5,tn.enter();case 5:return xn.prev=5,xn.next=8,this._sender.send(yr.createEnterHost(this.liveEventId,ye));case 8:Ze=xn.sent,Qe=Ze.payload.host,ye&&this._streams.set(Qe.hostId,new E2(this,this._deviceManager,this._sender,ye,this._screenShareOptions)),this.upsert({host:Qe}),this.upsert({currentLiveUser:Qe}),xn.next=20;break;case 15:return xn.prev=15,xn.t0=xn.catch(5),xn.next=19,tn.exit();case 19:throw xn.t0;case 20:this._startToSendAlive();case 21:case"end":return xn.stop()}},Ie,this,[[5,15]])})),function(Ie){return fe.apply(this,arguments)})},{key:"setEventReady",value:(se=h(o().mark(function Ie(){var ye,tn;return o().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(this.isHost){Ze.next=2;break}throw new Error("host only action");case 2:return Ze.next=4,this._sender.send(yr.createReady(this.liveEventId));case 4:ye=Ze.sent,tn=ye.payload.liveEvent,this.upsert(tn);case 7:case"end":return Ze.stop()}},Ie,this)})),function(){return se.apply(this,arguments)})},{key:"startEvent",value:(de=h(o().mark(function Ie(ye){var tn,Ze;return o().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(this.isHost){Qe.next=2;break}throw new Error("host only action");case 2:return Qe.next=4,this._sender.send(yr.createStart(this.liveEventId));case 4:tn=Qe.sent,Ze=tn.payload.liveEvent,this.upsert(Ze),!this.isHostStreaming&&this.isActiveHost&&this.startStreaming(ye),typeof(ye==null?void 0:ye.turnAudioOn)=="boolean"&&this._toggleAudio(ye.turnAudioOn),typeof(ye==null?void 0:ye.turnVideoOn)=="boolean"&&this._toggleVideo(ye.turnVideoOn);case 10:case"end":return Qe.stop()}},Ie,this)})),function(Ie){return de.apply(this,arguments)})},{key:"startStreaming",value:function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{turnAudioOn:!0,turnVideoOn:!0};if(!this.isActiveHost)throw new Error("current host only action");var ye=this._streams.get(this.host.hostId);ye||(ye=new E2(this,this._deviceManager,this._sender,Ie,this._screenShareOptions),this._streams.set(this.host.hostId,ye)),ye.openStream()}},{key:"endStreaming",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var Ie=this._streams.get(this.host.hostId);Ie&&(this._streams.delete(this.host.hostId),Ie.closeStream(!0))}},{key:"createRTMPStream",value:(W=h(o().mark(function Ie(){var ye,tn;return o().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(this.isHost){Ze.next=2;break}throw new kc(va.ACTION_NOT_ALLOWED_FOR_PARTICIPANT);case 2:return Ze.next=4,this._sender.send(yr.createRTMPStream(this.liveEventId));case 4:return ye=Ze.sent,tn=ye.payload.host,this.upsert({host:tn}),Ze.abrupt("return",tn.rtmpStream);case 8:case"end":return Ze.stop()}},Ie,this)})),function(){return W.apply(this,arguments)})},{key:"deleteRTMPStream",value:(X=h(o().mark(function Ie(){var ye;return o().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(this.isHost){tn.next=2;break}throw new Error("host only action");case 2:if((ye=this.host)!==null&&ye!==void 0&&ye.rtmpStream){tn.next=4;break}throw new Error("no rtmp stream");case 4:return tn.next=6,this._sender.send(yr.deleteRTMPStream(this.liveEventId,this.host.rtmpStream.rtmpStreamId));case 6:tn.sent,this.upsert({host:null});case 8:case"end":return tn.stop()}},Ie,this)})),function(){return X.apply(this,arguments)})},{key:"exitAsHost",value:(U=h(o().mark(function Ie(){var ye,tn,Ze;return o().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(this.isActiveHost){Qe.next=2;break}throw new Error("current host only action");case 2:return ye=this.host.hostId,Qe.next=5,this._sender.send(yr.createExitHost(this.liveEventId,ye));case 5:tn=Qe.sent,Ze=tn.payload.host,this.upsert({host:Ze}),this.teardown();case 9:case"end":return Qe.stop()}},Ie,this)})),function(){return U.apply(this,arguments)})},{key:"endEvent",value:(I=h(o().mark(function Ie(){var ye,tn;return o().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.next=2,this._sender.send(yr.createEndLiveEvent(this.liveEventId));case 2:ye=Ze.sent,tn=ye.payload.liveEvent,this.upsert(tn),this.teardown();case 6:case"end":return Ze.stop()}},Ie,this)})),function(){return I.apply(this,arguments)})},{key:"muteAudioInput",value:function(){this._toggleAudio(!1)}},{key:"unmuteAudioInput",value:function(){this._toggleAudio(!0)}},{key:"_toggleAudio",value:function(Ie){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleAudio(Ie),this._sender.send(yr.createAudio(this.liveEventId,this.host.hostId,Ie))}},{key:"stopVideo",value:function(){this._toggleVideo(!1)}},{key:"startVideo",value:function(){this._toggleVideo(!0)}},{key:"_toggleVideo",value:function(Ie){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleVideo(Ie),this._sender.send(yr.createVideo(this.liveEventId,this.host.hostId,Ie))}},{key:"selectAudioInput",value:function(Ie){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("audioinput",Ie)}},{key:"selectVideoInput",value:function(Ie){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("videoinput",Ie)}},{key:"enter",value:(E=h(o().mark(function Ie(){var ye,tn,Ze;return o().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return Qe.next=2,this._getOpenChannel();case 2:return ye=Qe.sent,Qe.next=5,ye.enter();case 5:return Qe.prev=5,Qe.next=8,this._sender.send(yr.createEnter(this.liveEventId));case 8:tn=Qe.sent,Ze=tn.payload.participant,this.upsert({currentLiveUser:Ze}),this._tryOpen(),Qe.next=19;break;case 14:return Qe.prev=14,Qe.t0=Qe.catch(5),Qe.next=18,ye.exit();case 18:throw Qe.t0;case 19:this._startToSendAlive();case 20:case"end":return Qe.stop()}},Ie,this,[[5,14]])})),function(){return E.apply(this,arguments)})},{key:"exit",value:(b=h(o().mark(function Ie(){return o().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,this._sender.send(yr.createExit(this.liveEventId,this.currentLiveUser.participantId));case 2:ye.sent.payload.participant,this.teardown();case 5:case"end":return ye.stop()}},Ie,this)})),function(){return b.apply(this,arguments)})},{key:"setVideoViewForLiveEvent",value:function(Ie,ye){var tn=this._streams.get(ye);tn&&(tn.mediaView=Ie)}},{key:"updateLiveEventInfo",value:(g=h(o().mark(function Ie(ye){var tn,Ze,Qe;return o().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return tn=yr.updateLiveEvent(this.liveEventId,ye.userIdsForHost,ye.title,ye.coverUrl,ye.coverFile),xn.next=3,this._sender.send(tn);case 3:Ze=xn.sent,Qe=Ze.payload.liveEvent,this.upsert(Qe);case 6:case"end":return xn.stop()}},Ie,this)})),function(Ie){return g.apply(this,arguments)})},{key:"fetchCustomItems",value:(_=h(o().mark(function Ie(){var ye,tn,Ze;return o().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return ye=yr.createGetCustomItems(this.liveEventId),Qe.prev=1,Qe.next=4,this._sender.send(ye);case 4:return tn=Qe.sent,Ze=tn.payload,this._setCustomItems(Ze.customItems),Qe.abrupt("return",Ze);case 10:throw Qe.prev=10,Qe.t0=Qe.catch(1),rt.error("failed to update customItems"),Qe.t0;case 14:case"end":return Qe.stop()}},Ie,this,[[1,10]])})),function(){return _.apply(this,arguments)})},{key:"updateCustomItems",value:(p=h(o().mark(function Ie(ye){var tn,Ze,Qe;return o().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:if(!Object.keys(ye).some(function(ir){return typeof ye[ir]!="string"})){xn.next=2;break}throw new Error("invalid parameter");case 2:return tn=yr.createUpdateCustomItems(this.liveEventId,ye),xn.prev=3,xn.next=6,this._sender.send(tn);case 6:return Ze=xn.sent,Qe=Ze.payload,this._setCustomItems(Qe.customItems,Qe.updatedAt),xn.abrupt("return",Qe);case 12:throw xn.prev=12,xn.t0=xn.catch(3),rt.error("failed to update customItems"),xn.t0;case 16:case"end":return xn.stop()}},Ie,this,[[3,12]])})),function(Ie){return p.apply(this,arguments)})},{key:"deleteCustomItems",value:(d=h(o().mark(function Ie(ye){var tn,Ze,Qe;return o().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:if(!ye.some(function(ir){return typeof ir!="string"})){xn.next=2;break}throw new Error("invalid parameter");case 2:return tn=yr.createDeleteCustomItems(this.liveEventId,ye),xn.prev=3,xn.next=6,this._sender.send(tn);case 6:return Ze=xn.sent,Qe=Ze.payload,this._setCustomItems(Qe.customItems,Qe.deletedAt),xn.abrupt("return",Qe);case 12:throw xn.prev=12,xn.t0=xn.catch(3),rt.error("failed to delete customItems"),xn.t0;case 16:case"end":return xn.stop()}},Ie,this,[[3,12]])})),function(Ie){return d.apply(this,arguments)})},{key:"deleteAllCustomItems",value:(c=h(o().mark(function Ie(){var ye,tn,Ze;return o().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return ye=yr.createDeleteAllCustomItems(this.liveEventId),Qe.prev=1,Qe.next=4,this._sender.send(ye);case 4:return tn=Qe.sent,Ze=tn.payload,this._setCustomItems(Ze.customItems,Ze.deletedAt),Qe.abrupt("return",Ze);case 10:throw Qe.prev=10,Qe.t0=Qe.catch(1),rt.error("failed to delete all customItems"),Qe.t0;case 14:case"end":return Qe.stop()}},Ie,this,[[1,10]])})),function(){return c.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(i=h(o().mark(function Ie(ye){var tn;return o().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(this.isActiveHost){Ze.next=2;break}throw new Error("current host only action");case 2:if(tn=this._streams.get(this.host.hostId)){Ze.next=5;break}throw new Error("no current stream");case 5:return Ze.next=7,tn.startUsingExternalVideo(ye);case 7:case"end":return Ze.stop()}},Ie,this)})),function(Ie){return i.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var Ie=this._streams.get(this.host.hostId);if(!Ie)throw new Error("no current stream");Ie.stopUsingExternalVideo()}},{key:"startScreenShare",value:(l=h(o().mark(function Ie(ye){var tn;return o().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(this.isActiveHost){Ze.next=2;break}throw new Error("current host only action");case 2:if(tn=this._streams.get(this.host.hostId)){Ze.next=5;break}throw new Error("no current stream");case 5:return Ze.next=7,tn.startScreenShare(ye);case 7:case"end":return Ze.stop()}},Ie,this)})),function(Ie){return l.apply(this,arguments)})},{key:"stopScreenShare",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var Ie=this._streams.get(this.host.hostId);if(!Ie)throw new Error("no current stream");Ie.stopScreenShare()}},{key:"setScreenShareOptions",value:function(Ie){this._screenShareOptions=Ie;var ye=this._streams.get(this.host.hostId);ye&&ye.setScreenShareOptions(Ie)}},{key:"upsert",value:function(Ie){Object.assign(this,Ie),Ie.currentLiveUser&&(Ie.currentLiveUser.hostId?(this.currentLiveUser.isHost=!0,this.currentLiveUser.liveUserId=this.currentLiveUser.hostId):(this.currentLiveUser.isHost=!1,this.currentLiveUser.liveUserId=this.currentLiveUser.participantId))}},{key:"teardown",value:function(){var Ie;(Ie=this.openChannel)===null||Ie===void 0||Ie.exit();var ye,tn=M(this._streams.values());try{for(tn.s();!(ye=tn.n()).done;)ye.value.closeStream()}catch(Ze){tn.e(Ze)}finally{tn.f()}this._streams.clear(),this._stopToSendAlive(),this.upsert({currentLiveUser:void 0})}},{key:"_setCustomItems",value:function(Ie,ye){return(ye===void 0||ye>this._customItemsUpdatedAt)&&(this._customItemsUpdatedAt=ye,this._customItems=Ie||{},!0)}},{key:"_onEvent",value:function(Ie){if(this.liveEventId===Ie.payload.liveEventId)if(Ie instanceof L5)this._onReady(Ie);else if(Ie instanceof U5)this._onStarted(Ie);else if(Ie instanceof P5)this._onEnded(Ie);else if(Ie instanceof G5)this._onUpdated(Ie);else if(Ie instanceof F5)this._onHostEntered(Ie);else if(Ie instanceof H5)this._onHostExited(Ie);else if(Ie instanceof B5)this._onHostConnected(Ie);else if(Ie instanceof V5)this._onHostDisconnected(Ie);else if(Ie instanceof jy)this._onHostAudioStatusChanged(Ie);else if(Ie instanceof Ky)this._onHostVideoStatusChanged(Ie);else if(Ie instanceof $5)this._onParticipantEntered(Ie);else if(Ie instanceof z5)this._onParticipantExited(Ie);else if(Ie instanceof q5)this._onUpdateCustomItems(Ie);else{if(!(Ie instanceof j5))throw new Error("unknown event is received");this._onDeleteCustomItems(Ie)}}},{key:"_onReady",value:function(Ie){var ye=Ie.payload.liveEvent;this.upsert(ye),this._dispatchEvent("liveEventReady",this)}},{key:"_onStarted",value:function(Ie){var ye=Ie.payload.liveEvent;this.upsert(ye),this._dispatchEvent("liveEventStarted",this),this._tryOpen()}},{key:"_onEnded",value:function(Ie){var ye=Ie.payload.liveEvent;this.upsert(ye),this._dispatchEvent("liveEventEnded",this),this.teardown()}},{key:"_onUpdated",value:function(Ie){var ye=Ie.payload.liveEvent;this.upsert(ye),this._dispatchEvent("liveEventUpdated",this)}},{key:"_onHostEntered",value:function(Ie){var ye=Ie.payload.host;this.upsert({host:ye}),this._dispatchEvent("hostEntered",this,this.host)}},{key:"_onHostExited",value:function(Ie){var ye=Ie.payload.host;this.upsert({host:void 0}),this._dispatchEvent("hostExited",this,ye)}},{key:"_onHostConnected",value:function(Ie){var ye=Ie.payload.host;this.upsert({host:ye}),this._dispatchEvent("hostConnected",this,this.host),this._tryOpen()}},{key:"_onHostDisconnected",value:function(Ie){var ye=Ie.payload.host;this.upsert({host:ye}),this._dispatchEvent("hostDisconnected",this,this.host)}},{key:"_onHostAudioStatusChanged",value:function(Ie){var ye=Ie.payload.host;this.upsert({host:ye}),ye.isAudioOn&&this._dispatchEvent("hostUnmutedAudio",this,this.host),ye.isAudioOn||this._dispatchEvent("hostMutedAudio",this,this.host)}},{key:"_onHostVideoStatusChanged",value:function(Ie){var ye=Ie.payload.host;this.upsert({host:ye}),ye.isVideoOn&&this._dispatchEvent("hostStartedVideo",this,this.host),ye.isVideoOn||this._dispatchEvent("hostStoppedVideo",this,this.host)}},{key:"_onParticipantEntered",value:function(Ie){var ye=Ie.payload,tn=ye.participant,Ze=ye.participantCount,Qe=ye.peakParticipantCount,xn=ye.cumulativeParticipantCount;this.upsert({participantCount:Ze,peakParticipantCount:Qe,cumulativeParticipantCount:xn}),this._dispatchEvent("participantEntered",this,tn)}},{key:"_onParticipantExited",value:function(Ie){var ye=Ie.payload,tn=ye.participant,Ze=ye.participantCount,Qe=ye.peakParticipantCount,xn=ye.cumulativeParticipantCount;this.upsert({participantCount:Ze,peakParticipantCount:Qe,cumulativeParticipantCount:xn}),this._dispatchEvent("participantExited",this,tn)}},{key:"_onUpdateCustomItems",value:function(Ie){var ye=Ie.payload,tn=ye.customItems,Ze=ye.updatedAt;ye.updatedKeys,this._setCustomItems(tn,Ze)&&this._dispatchEvent("customItemsUpdated",tn,Ze)}},{key:"_onDeleteCustomItems",value:function(Ie){var ye=Ie.payload,tn=ye.customItems,Ze=ye.deletedAt;ye.deletedKeys,this._setCustomItems(tn,Ze)&&this._dispatchEvent("customItemsDeleted",tn,Ze)}},{key:"onDisconnected",value:function(){this._dispatchEvent("disconnected",this,new kc(va.LIVE_EVENT_ID_NOT_FOUND)),this.teardown()}},{key:"_tryOpen",value:function(){if(this.host&&this.currentLiveUser&&this.host.state===D5.CONNECTED&&this.state===M5.ONGOING){var Ie,ye=this.host.hostId;this._streams.has(ye)?Ie=this._streams.get(ye):(Ie=new E2(this,this._deviceManager,this._sender),this._streams.set(ye,Ie)),Ie.openStream(),Ie.attach(ye)}}},{key:"_tryClose",value:function(){}},{key:"_startToSendAlive",value:function(){var Ie=this;this.isActiveHost?this._aliveIntervalId=setInterval(function(){var ye=yr.createHostAlive(Ie.liveEventId,Ie.host.hostId);Ie._sender.send(ye)},3e3):this._aliveIntervalId=setInterval(function(){var ye=yr.createAlive(Ie.liveEventId,Ie.currentLiveUser.participantId);Ie._sender.send(ye)},9e4)}},{key:"_stopToSendAlive",value:function(){this._aliveIntervalId&&(clearInterval(this._aliveIntervalId),delete this._aliveIntervalId)}}]),ln}(kl),x2=function(s,l){return x2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(i[d]=c[d])},x2(s,l)};function _e(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function i(){this.constructor=s}x2(s,l),s.prototype=l===null?Object.create(l):(i.prototype=l.prototype,new i)}var Be=function(){return Be=Object.assign||function(s){for(var l,i=1,c=arguments.length;i<c;i++)for(var d in l=arguments[i])Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d]);return s},Be.apply(this,arguments)};function J(s,l,i,c){return new(i||(i=Promise))(function(d,p){function _(E){try{b(c.next(E))}catch(I){p(I)}}function g(E){try{b(c.throw(E))}catch(I){p(I)}}function b(E){var I;E.done?d(E.value):(I=E.value,I instanceof i?I:new i(function(U){U(I)})).then(_,g)}b((c=c.apply(s,l||[])).next())})}function Z(s,l){var i,c,d,p,_={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(E){return function(I){if(i)throw new TypeError("Generator is already executing.");for(;_;)try{if(i=1,c&&(d=2&I[0]?c.return:I[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,I[1])).done)return d;switch(c=0,d&&(I=[2&I[0],d.value]),I[0]){case 0:case 1:d=I;break;case 4:return _.label++,{value:I[1],done:!1};case 5:_.label++,c=I[1],I=[0];continue;case 7:I=_.ops.pop(),_.trys.pop();continue;default:if(!((d=(d=_.trys).length>0&&d[d.length-1])||I[0]!==6&&I[0]!==2)){_=0;continue}if(I[0]===3&&(!d||I[1]>d[0]&&I[1]<d[3])){_.label=I[1];break}if(I[0]===6&&_.label<d[1]){_.label=d[1],d=I;break}if(d&&_.label<d[2]){_.label=d[2],_.ops.push(I);break}d[2]&&_.ops.pop(),_.trys.pop();continue}I=l.call(s,_)}catch(U){I=[6,U],c=0}finally{i=d=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([b,E])}}}function Et(s){var l=typeof Symbol=="function"&&Symbol.iterator,i=l&&s[l],c=0;if(i)return i.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")}function xr(s,l){var i=typeof Symbol=="function"&&s[Symbol.iterator];if(!i)return s;var c,d,p=i.call(s),_=[];try{for(;(l===void 0||l-- >0)&&!(c=p.next()).done;)_.push(c.value)}catch(g){d={error:g}}finally{try{c&&!c.done&&(i=p.return)&&i.call(p)}finally{if(d)throw d.error}}return _}function Fr(s,l,i){if(i||arguments.length===2)for(var c,d=0,p=l.length;d<p;d++)!c&&d in l||(c||(c=Array.prototype.slice.call(l,0,d)),c[d]=l[d]);return s.concat(c||Array.prototype.slice.call(l))}var Rt,Mu=function(){function s(){}return Object.defineProperty(s,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(s,"SDK_VERSION",{get:function(){return"4.5.0"},enumerable:!1,configurable:!0}),Object.defineProperty(s,"SDK_MAJOR_VERSION",{get:function(){return s.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(s,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),s}();(function(s){s[s.NON_AUTHORIZED=400108]="NON_AUTHORIZED",s[s.INVALID_TOKEN=400111]="INVALID_TOKEN",s[s.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",s[s.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",s[s.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",s[s.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",s[s.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",s[s.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",s[s.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",s[s.LOST_INSTANCE=700100]="LOST_INSTANCE",s[s.CONNECTION_RENEW=700102]="CONNECTION_RENEW",s[s.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",s[s.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",s[s.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",s[s.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",s[s.INVALID_PARAMETER=800110]="INVALID_PARAMETER",s[s.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",s[s.NETWORK_ERROR=800120]="NETWORK_ERROR",s[s.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",s[s.MALFORMED_DATA=800130]="MALFORMED_DATA",s[s.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",s[s.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",s[s.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",s[s.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",s[s.ACK_TIMEOUT=800180]="ACK_TIMEOUT",s[s.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",s[s.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",s[s.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",s[s.REQUEST_FAILED=800220]="REQUEST_FAILED",s[s.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",s[s.REQUEST_CANCELED=800240]="REQUEST_CANCELED",s[s.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",s[s.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",s[s.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",s[s.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",s[s.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED"})(Rt||(Rt={}));var In,Du=function(s){return!(s instanceof We&&!s.shouldThrowOutside)},We=function(s){function l(i){var c=i.code,d=c===void 0?0:c,p=i.message,_=s.call(this,p)||this;return _.shouldThrowOutside=!1,_.name="SendbirdError",_.code=d,Object.setPrototypeOf(_,l.prototype),_}return _e(l,s),Object.defineProperty(l.prototype,"isInvalidTokenError",{get:function(){return this.code===Rt.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Rt.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Rt.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(l,"debugModeRequired",{get:function(){return new l({code:Rt.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"lostInstance",{get:function(){return new l({code:Rt.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"connectionRenew",{get:function(){return new l({code:Rt.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"invalidConnectionStateTransition",{get:function(){return new l({code:Rt.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"connectionRequired",{get:function(){return new l({code:Rt.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"connectionCanceled",{get:function(){return new l({code:Rt.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"invalidParameters",{get:function(){return new l({code:Rt.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"notSupportedError",{get:function(){return new l({code:Rt.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"networkError",{get:function(){return new l({code:Rt.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"markAsReadAllRateLimitExceeded",{get:function(){return new l({code:Rt.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"queryInProgress",{get:function(){return new l({code:Rt.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"noAckTimeout",{get:function(){return new l({code:Rt.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"loginTimeout",{get:function(){return new l({code:Rt.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"connectionClosed",{get:function(){return new l({code:Rt.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"requestFailed",{get:function(){return new l({code:Rt.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"fileUploadCanceled",{get:function(){return new l({code:Rt.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"requestCanceled",{get:function(){return new l({code:Rt.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"sessionTokenRefreshFailed",{get:function(){return new l({code:Rt.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"sessionTokenRequestFailed",{get:function(){return new l({code:Rt.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),l.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},l}(Error),FQ=[Rt.CONNECTION_REQUIRED,Rt.NETWORK_ERROR,Rt.ACK_TIMEOUT,Rt.WEBSOCKET_CONNECTION_CLOSED,Rt.WEBSOCKET_CONNECTION_FAILED,Rt.FILE_UPLOAD_CANCEL_FAILED,Rt.REQUEST_CANCELED,Rt.INTERNAL_SERVER_ERROR,Rt.RATE_LIMIT_EXCEEDED,Rt.UNKNOWN_SERVER_ERROR],HQ=[Rt.WEBSOCKET_CONNECTION_CLOSED,Rt.WEBSOCKET_CONNECTION_FAILED,Rt.CONNECTION_REQUIRED],TC=function(s,l){if(s!==l){var i=Be({},s),c=Be({},l);return!(i.hasOwnProperty("messageId")&&c.hasOwnProperty("messageId")&&i.messageId!==c.messageId||i.hasOwnProperty("reqId")&&c.hasOwnProperty("reqId")&&i.reqId!==c.reqId||(i.hasOwnProperty("messageId")&&delete i.messageId,i.hasOwnProperty("reqId")&&delete i.reqId,c.hasOwnProperty("messageId")&&delete c.messageId,c.hasOwnProperty("reqId")&&delete c.reqId,JSON.stringify(i)!==JSON.stringify(c)))}return!0},ze=function(s,l,i){return i===void 0&&(i=!1),!(!i||l!=null)||(typeof s!="string"?typeof s=="object"?kr(s,l):BQ(s,l):typeof l===s)},kr=function(s,l,i){return i===void 0&&(i=!1),!(!i||l!=null)||Object.values(s).includes(l)},BQ=function(s,l){return l instanceof s},Qt=function(s,l,i){return i===void 0&&(i=!1),!(!i||l!=null)||Array.isArray(l)&&l.every(function(c){return ze(s,c)})},km=function(s){return s>0&&HQ.indexOf(s)>=0},fs=function(s,l){if(l===void 0&&(l=!1),l&&s===null)return!0;var i=ze("object",s)&&s!==null&&s.hasOwnProperty("name")&&typeof s.name=="string"&&s.hasOwnProperty("uri")&&typeof s.uri=="string"&&s.hasOwnProperty("type")&&typeof s.type=="string";if(!i){if(typeof Blob<"u")return s instanceof Blob;if(typeof File<"u")return s instanceof File}return i},CC=function(){function s(l){var i=l===void 0?{}:l,c=i.useMemberInfoInMessage,d=c===void 0||c,p=i.typingIndicatorInvalidateTime,_=p===void 0?1e4:p,g=i.typingIndicatorThrottle,b=g===void 0?1e3:g,E=i.websocketResponseTimeout,I=E===void 0?1e4:E,U=i.websocketPayloadDecompression,X=U===void 0||U,W=i.sessionTokenRefreshTimeout,de=W===void 0?60:W;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=d,this._typingIndicatorInvalidateTime=_,this._typingIndicatorThrottle=b,this._websocketResponseTimeout=I,this._sessionTokenRefreshTimeout=de,this.websocketPayloadDecompression=X}return Object.defineProperty(s.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(l){ze("boolean",l)&&(this._useMemberInfoInMessage=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(l){ze("number",l)&&(this._typingIndicatorInvalidateTime=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(l){ze("number",l)&&l>=1e3&&l<=9e3&&(this._typingIndicatorThrottle=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(l){ze("number",l)&&l>=5e3&&l<=3e4&&(this._websocketResponseTimeout=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(l){ze("number",l)&&(l<60?l=60:l>1800&&(l=1800),this._sessionTokenRefreshTimeout=l)},enumerable:!1,configurable:!0}),s}(),IC={encrypt:function(s){return s},decrypt:function(s){return s}},$Q=function(){function s(l){var i=l.store;this._preference=new Map,this._store=i}return s.prototype._savePreferenceKeys=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,this._store.set({key:this._keysAddress,value:Fr([],xr(this._preference.keys()),!1),generation:1})];case 1:return l.sent(),[2]}})})},s.prototype.init=function(l){var i;return J(this,void 0,void 0,function(){var c,d,p,_,g,b,E,I;return Z(this,function(U){switch(U.label){case 0:return this._keysAddress=l,[4,this._store.get(l)];case 1:c=(i=U.sent())!==null&&i!==void 0?i:[],U.label=2;case 2:U.trys.push([2,7,8,9]),d=Et(c),p=d.next(),U.label=3;case 3:return p.done?[3,6]:(_=p.value,[4,this._store.get(_)]);case 4:(g=U.sent())&&this._preference.set(_,g),U.label=5;case 5:return p=d.next(),[3,3];case 6:return[3,9];case 7:return b=U.sent(),E={error:b},[3,9];case 8:try{p&&!p.done&&(I=d.return)&&I.call(d)}finally{if(E)throw E.error}return[7];case 9:return[2]}})})},s.prototype.get=function(l){var i;return J(this,void 0,void 0,function(){return Z(this,function(c){return[2,(i=this._preference.get(l))!==null&&i!==void 0?i:null]})})},s.prototype.set=function(l,i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=!this._preference.has(l),[4,this._store.set({key:l,value:i,generation:1})];case 1:return d.sent(),this._preference.set(l,i),c?[4,this._savePreferenceKeys()]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})},s.prototype.remove=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this._store.remove(l)];case 1:return i.sent(),this._preference.delete(l),[4,this._savePreferenceKeys()];case 2:return i.sent(),[2]}})})},s.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,this._store.removeMany(Fr([],xr(this._preference.keys()),!1))];case 1:return l.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return l.sent(),[2]}})})},s}(),zQ=function(s){var l=s.encryption,i=l===void 0?null:l,c=s.store,d=c===void 0?null:c,p=s.localCacheEnabled,_=p===void 0||p;this.nestdb=null,this.store=d,this.preference=new $Q({store:d}),this.encryption=i??IC,this.localCacheEnabled=_},VQ=function(){function s(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(s.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),s.prototype.clear=function(){this.authToken=null,this.sessionKey=null},s}(),vh=function(){var s=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var i=(s+16*Math.random())%16|0;return s=Math.floor(s/16),(l==="x"?i:3&i|8).toString(16)})},NC=function(){function s(l){var i=l.container;this._container={},this._container=i,this.key=vh()}return s.prototype._register=function(l,i,c){return l in this._container||(this._container[l]=new Map),this._container[l].set(this.key,{occurence:i,handler:c}),this},s.prototype.on=function(l,i){return this._register(l,-1,i)},s.prototype.once=function(l,i){return this._register(l,1,i)},s.prototype.close=function(){for(var l in this._container)this._container[l].delete(this.key)},s}(),ap=function(){function s(){this._container={}}return s.prototype.on=function(l,i){return new NC({container:this._container}).on(l,i)},s.prototype.once=function(l,i){return new NC({container:this._container}).once(l,i)},s.prototype.dispatch=function(l,i){var c,d,p=this._container[l];if(p){var _=[];try{for(var g=Et(p.keys()),b=g.next();!b.done;b=g.next()){var E=b.value,I=p.get(E);I.handler(i),I.occurence>0&&(I.occurence--,I.occurence===0&&_.push(E))}}catch(U){c={error:U}}finally{try{b&&!b.done&&(d=g.return)&&d.call(g)}finally{if(c)throw c.error}}_.forEach(function(U){return p.delete(U)})}},s}(),GQ=function(){function s(){this._dispatcher=new ap}return s.prototype.on=function(l){return this._dispatcher.on("event",l)},s.prototype.once=function(l){return this._dispatcher.once("event",l)},s.prototype.dispatch=function(l){this._dispatcher.dispatch("event",l)},s}(),ki=function(){},St=function(s){var l={};return s&&Object.keys(s).forEach(function(i){s[i]!==void 0&&s[i]!==NaN&&s[i]!==null&&(l[i]=s[i])}),l};(function(s){s.GET="GET",s.POST="POST",s.PUT="PUT",s.DELETE="DELETE"})(In||(In={}));var Sm,An=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.params={},i.requireAuth=!0,i.headers={},i.requestId=vh(),i}return _e(l,s),l.prototype.stringifyParams=function(i){return typeof i!="object"||Array.isArray(i)?String(i):i?JSON.stringify(i):""},l.prototype.encodeParams=function(i){var c=this;return i==null||i===""?encodeURIComponent(""):Array.isArray(i)?i.map(function(d){return c.encodeParams(d)}).join(","):encodeURIComponent(typeof i=="object"?JSON.stringify(i):String(i))},Object.defineProperty(l.prototype,"query",{get:function(){var i=this,c=St(this.params);return"?".concat(Object.keys(c).map(function(d){return"".concat(encodeURIComponent(d),"=").concat(i.encodeParams(c[d]))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"payload",{get:function(){var i=this,c=St(this.params);if(Object.keys(c).some(function(p){return fs(c[p])})){var d=new FormData;return Object.keys(c).forEach(function(p){var _,g=c[p];if(fs(g)){var b=g;d.append(p,b,(_=b.name)!==null&&_!==void 0?_:"filename")}else d.append(p,i.stringifyParams(g))}),d}return JSON.stringify(c)},enumerable:!1,configurable:!0}),l}(ki),Un=function(s){function l(i,c){var d=s.call(this)||this;return d._iid=i,d._payload=c,d}return _e(l,s),Object.defineProperty(l.prototype,"payload",{get:function(){return Be({},this._payload)},enumerable:!1,configurable:!0}),l.prototype.as=function(i){return new i(this._iid,this.payload)},l}(ki),qQ=function(s){function l(i){var c=s.call(this)||this;return c.requestId=i,c}return _e(l,s),l}(ki),Tm=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return _e(l,s),l}(ki),k2=function(s){function l(i){var c=s.call(this)||this;return c.statLog=i,c}return _e(l,s),l}(ki);(function(s){s.WEBSOCKET_CONNECT="ws:connect",s.API_RESULT="api:result"})(Sm||(Sm={}));var sp=function(){function s(l){var i=l.type,c=l.data,d=l.ts,p=d===void 0?Date.now():d;this.type=i,this.createdAt=p,this.data=c}return s.payloadify=function(l){return St({stat_type:l.type,ts:l.createdAt,data:St(l.data)})},s}(),jQ=function(){function s(l,i){var c=i.auth,d=i.sdkState,p=i.dispatcher,_=i.logger,g=this;this._abortControl=new Map,this._iid=l,this._auth=c,this._sdkState=d,this._dispatcher=p,this._dispatcher.on(function(b){b instanceof qQ&&g.cancel(b.requestId)}),this._logger=_}return Object.defineProperty(s.prototype,"_userAgentWithExtension",{get:function(){var l=this._sdkState.extensions,i=typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"?"reactnative":"JS",c=l.sb_syncmanager?"s".concat(l.sb_syncmanager):"",d=l.sb_uikit?"u".concat(l.sb_uikit):"",p=l["device-os-platform"]?"o".concat(l["device-os-platform"]):"";return"".concat(i,"/c").concat(Mu.SDK_VERSION,"/").concat(c,"/").concat(d,"/").concat(p)},enumerable:!1,configurable:!0}),s.prototype._createHeader=function(l,i){i===void 0&&(i=null);var c=this._sdkState,d=c.appId,p=c.appVersion,_=Be(Be({},l.headers),{SendBird:"JS,".concat(Mu.OS_VERSION,",").concat(Mu.SDK_VERSION,",").concat(d).concat(p?",".concat(p):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return i||(_["Content-Type"]="application/json; charset=utf-8"),l.requireAuth&&this._auth.hasSession&&(_["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(_["App-Id"]=d,_["Access-Token"]=this._auth.authToken),_},s.prototype._statLogApiResult=function(l,i,c){this._dispatcher.dispatch(new k2(new sp({type:Sm.API_RESULT,data:{endpoint:l.path,method:l.method,success:!c,latency:Date.now()-i,error_code:c==null?void 0:c.code,error_description:c==null?void 0:c.message}})))},s.prototype.send=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I,U,X,W,de,se,fe;return Z(this,function(Ae){switch(Ae.label){case 0:i=l.path,c=l.method,d=![In.GET,In.DELETE].includes(c),p=this._sdkState.api,_="".concat(p.host).concat(i).concat(d?"":l.query),g=d?l.payload:null,b=this._createHeader(l,g instanceof FormData?g:null),E=new AbortController,I=E.signal,this._abortControl.set(l.requestId,E),U=Date.now(),Ae.label=1;case 1:return Ae.trys.push([1,4,,5]),[4,fetch(_,{method:c,body:g,headers:b,signal:I})];case 2:return[4,(X=Ae.sent()).json()];case 3:if(W=Ae.sent(),X.ok||X.redirected)return this._logger.debug("receive api response",l.requestId),this._statLogApiResult(l,U,null),[2,new Un(this._iid,W)];throw W?(de=new We(W),!l.requireAuth&&de.isSessionKeyExpiredError&&this._dispatcher.dispatch(new Tm),this._statLogApiResult(l,U,de),de):(de=We.requestFailed,this._statLogApiResult(l,U,de),de);case 4:throw se=Ae.sent(),this._statLogApiResult(l,U,se),se instanceof We?(this._logger.debug("fail api request",se),se):se.name==="AbortError"?We.requestCanceled:(fe=We.networkError,this._logger.debug("fail api request",fe),fe);case 5:return[2]}})})},s.prototype.cancel=function(l){this._abortControl.has(l)&&(this._abortControl.get(l).abort(),this._abortControl.delete(l))},s.prototype.cancelAll=function(){var l,i;try{for(var c=Et(this._abortControl.values()),d=c.next();!d.done;d=c.next())d.value.abort()}catch(p){l={error:p}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(l)throw l.error}}this._abortControl.clear()},s}(),$r=function(s){function l(i,c,d,p){p===void 0&&(p="");var _=s.call(this)||this;return _._iid=i,_.code=c,_.payload=d,_.requestId=d?d.req_id:p,_}return _e(l,s),l.createFromRawMessage=function(i,c){var d=c.substring(0,4),p=null;try{p=JSON.parse(c.substring(4))}catch{d="NOOP"}finally{return new l(i,d,p)}},l.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},l.prototype.as=function(i){return new i(this._iid,this.code,this.payload)},l}(ki),Mt=function(){};function gh(s){let l=s.length;for(;--l>=0;)s[l]=0}const S2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Cm=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),KQ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),AC=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sl=new Array(576);gh(Sl);const op=new Array(60);gh(op);const lp=new Array(512);gh(lp);const cp=new Array(256);gh(cp);const T2=new Array(29);gh(T2);const Im=new Array(30);function C2(s,l,i,c,d){this.static_tree=s,this.extra_bits=l,this.extra_base=i,this.elems=c,this.max_length=d,this.has_stree=s&&s.length}let OC,RC,MC;function I2(s,l){this.dyn_tree=s,this.max_code=0,this.stat_desc=l}gh(Im);const DC=s=>s<256?lp[s]:lp[256+(s>>>7)],up=(s,l)=>{s.pending_buf[s.pending++]=255&l,s.pending_buf[s.pending++]=l>>>8&255},Za=(s,l,i)=>{s.bi_valid>16-i?(s.bi_buf|=l<<s.bi_valid&65535,up(s,s.bi_buf),s.bi_buf=l>>16-s.bi_valid,s.bi_valid+=i-16):(s.bi_buf|=l<<s.bi_valid&65535,s.bi_valid+=i)},$o=(s,l,i)=>{Za(s,i[2*l],i[2*l+1])},LC=(s,l)=>{let i=0;do i|=1&s,s>>>=1,i<<=1;while(--l>0);return i>>>1},UC=(s,l,i)=>{const c=new Array(16);let d,p,_=0;for(d=1;d<=15;d++)_=_+i[d-1]<<1,c[d]=_;for(p=0;p<=l;p++){let g=s[2*p+1];g!==0&&(s[2*p]=LC(c[g]++,g))}},PC=s=>{let l;for(l=0;l<286;l++)s.dyn_ltree[2*l]=0;for(l=0;l<30;l++)s.dyn_dtree[2*l]=0;for(l=0;l<19;l++)s.bl_tree[2*l]=0;s.dyn_ltree[512]=1,s.opt_len=s.static_len=0,s.sym_next=s.matches=0},FC=s=>{s.bi_valid>8?up(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0},HC=(s,l,i,c)=>{const d=2*l,p=2*i;return s[d]<s[p]||s[d]===s[p]&&c[l]<=c[i]},N2=(s,l,i)=>{const c=s.heap[i];let d=i<<1;for(;d<=s.heap_len&&(d<s.heap_len&&HC(l,s.heap[d+1],s.heap[d],s.depth)&&d++,!HC(l,c,s.heap[d],s.depth));)s.heap[i]=s.heap[d],i=d,d<<=1;s.heap[i]=c},BC=(s,l,i)=>{let c,d,p,_,g=0;if(s.sym_next!==0)do c=255&s.pending_buf[s.sym_buf+g++],c+=(255&s.pending_buf[s.sym_buf+g++])<<8,d=s.pending_buf[s.sym_buf+g++],c===0?$o(s,d,l):(p=cp[d],$o(s,p+256+1,l),_=S2[p],_!==0&&(d-=T2[p],Za(s,d,_)),c--,p=DC(c),$o(s,p,i),_=Cm[p],_!==0&&(c-=Im[p],Za(s,c,_)));while(g<s.sym_next);$o(s,256,l)},A2=(s,l)=>{const i=l.dyn_tree,c=l.stat_desc.static_tree,d=l.stat_desc.has_stree,p=l.stat_desc.elems;let _,g,b,E=-1;for(s.heap_len=0,s.heap_max=573,_=0;_<p;_++)i[2*_]!==0?(s.heap[++s.heap_len]=E=_,s.depth[_]=0):i[2*_+1]=0;for(;s.heap_len<2;)b=s.heap[++s.heap_len]=E<2?++E:0,i[2*b]=1,s.depth[b]=0,s.opt_len--,d&&(s.static_len-=c[2*b+1]);for(l.max_code=E,_=s.heap_len>>1;_>=1;_--)N2(s,i,_);b=p;do _=s.heap[1],s.heap[1]=s.heap[s.heap_len--],N2(s,i,1),g=s.heap[1],s.heap[--s.heap_max]=_,s.heap[--s.heap_max]=g,i[2*b]=i[2*_]+i[2*g],s.depth[b]=(s.depth[_]>=s.depth[g]?s.depth[_]:s.depth[g])+1,i[2*_+1]=i[2*g+1]=b,s.heap[1]=b++,N2(s,i,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],((I,U)=>{const X=U.dyn_tree,W=U.max_code,de=U.stat_desc.static_tree,se=U.stat_desc.has_stree,fe=U.stat_desc.extra_bits,Ae=U.stat_desc.extra_base,we=U.stat_desc.max_length;let $e,ln,Ie,ye,tn,Ze,Qe=0;for(ye=0;ye<=15;ye++)I.bl_count[ye]=0;for(X[2*I.heap[I.heap_max]+1]=0,$e=I.heap_max+1;$e<573;$e++)ln=I.heap[$e],ye=X[2*X[2*ln+1]+1]+1,ye>we&&(ye=we,Qe++),X[2*ln+1]=ye,ln>W||(I.bl_count[ye]++,tn=0,ln>=Ae&&(tn=fe[ln-Ae]),Ze=X[2*ln],I.opt_len+=Ze*(ye+tn),se&&(I.static_len+=Ze*(de[2*ln+1]+tn)));if(Qe!==0){do{for(ye=we-1;I.bl_count[ye]===0;)ye--;I.bl_count[ye]--,I.bl_count[ye+1]+=2,I.bl_count[we]--,Qe-=2}while(Qe>0);for(ye=we;ye!==0;ye--)for(ln=I.bl_count[ye];ln!==0;)Ie=I.heap[--$e],Ie>W||(X[2*Ie+1]!==ye&&(I.opt_len+=(ye-X[2*Ie+1])*X[2*Ie],X[2*Ie+1]=ye),ln--)}})(s,l),UC(i,E,s.bl_count)},$C=(s,l,i)=>{let c,d,p=-1,_=l[1],g=0,b=7,E=4;for(_===0&&(b=138,E=3),l[2*(i+1)+1]=65535,c=0;c<=i;c++)d=_,_=l[2*(c+1)+1],++g<b&&d===_||(g<E?s.bl_tree[2*d]+=g:d!==0?(d!==p&&s.bl_tree[2*d]++,s.bl_tree[32]++):g<=10?s.bl_tree[34]++:s.bl_tree[36]++,g=0,p=d,_===0?(b=138,E=3):d===_?(b=6,E=3):(b=7,E=4))},zC=(s,l,i)=>{let c,d,p=-1,_=l[1],g=0,b=7,E=4;for(_===0&&(b=138,E=3),c=0;c<=i;c++)if(d=_,_=l[2*(c+1)+1],!(++g<b&&d===_)){if(g<E)do $o(s,d,s.bl_tree);while(--g!=0);else d!==0?(d!==p&&($o(s,d,s.bl_tree),g--),$o(s,16,s.bl_tree),Za(s,g-3,2)):g<=10?($o(s,17,s.bl_tree),Za(s,g-3,3)):($o(s,18,s.bl_tree),Za(s,g-11,7));g=0,p=d,_===0?(b=138,E=3):d===_?(b=6,E=3):(b=7,E=4)}};let VC=!1;const GC=(s,l,i,c)=>{Za(s,0+(c?1:0),3),FC(s),up(s,i),up(s,~i),i&&s.pending_buf.set(s.window.subarray(l,l+i),s.pending),s.pending+=i};var WQ={_tr_init:s=>{VC||((()=>{let l,i,c,d,p;const _=new Array(16);for(c=0,d=0;d<28;d++)for(T2[d]=c,l=0;l<1<<S2[d];l++)cp[c++]=d;for(cp[c-1]=d,p=0,d=0;d<16;d++)for(Im[d]=p,l=0;l<1<<Cm[d];l++)lp[p++]=d;for(p>>=7;d<30;d++)for(Im[d]=p<<7,l=0;l<1<<Cm[d]-7;l++)lp[256+p++]=d;for(i=0;i<=15;i++)_[i]=0;for(l=0;l<=143;)Sl[2*l+1]=8,l++,_[8]++;for(;l<=255;)Sl[2*l+1]=9,l++,_[9]++;for(;l<=279;)Sl[2*l+1]=7,l++,_[7]++;for(;l<=287;)Sl[2*l+1]=8,l++,_[8]++;for(UC(Sl,287,_),l=0;l<30;l++)op[2*l+1]=5,op[2*l]=LC(l,5);OC=new C2(Sl,S2,257,286,15),RC=new C2(op,Cm,0,30,15),MC=new C2(new Array(0),KQ,0,19,7)})(),VC=!0),s.l_desc=new I2(s.dyn_ltree,OC),s.d_desc=new I2(s.dyn_dtree,RC),s.bl_desc=new I2(s.bl_tree,MC),s.bi_buf=0,s.bi_valid=0,PC(s)},_tr_stored_block:GC,_tr_flush_block:(s,l,i,c)=>{let d,p,_=0;s.level>0?(s.strm.data_type===2&&(s.strm.data_type=(g=>{let b,E=4093624447;for(b=0;b<=31;b++,E>>>=1)if(1&E&&g.dyn_ltree[2*b]!==0)return 0;if(g.dyn_ltree[18]!==0||g.dyn_ltree[20]!==0||g.dyn_ltree[26]!==0)return 1;for(b=32;b<256;b++)if(g.dyn_ltree[2*b]!==0)return 1;return 0})(s)),A2(s,s.l_desc),A2(s,s.d_desc),_=(g=>{let b;for($C(g,g.dyn_ltree,g.l_desc.max_code),$C(g,g.dyn_dtree,g.d_desc.max_code),A2(g,g.bl_desc),b=18;b>=3&&g.bl_tree[2*AC[b]+1]===0;b--);return g.opt_len+=3*(b+1)+5+5+4,b})(s),d=s.opt_len+3+7>>>3,p=s.static_len+3+7>>>3,p<=d&&(d=p)):d=p=i+5,i+4<=d&&l!==-1?GC(s,l,i,c):s.strategy===4||p===d?(Za(s,2+(c?1:0),3),BC(s,Sl,op)):(Za(s,4+(c?1:0),3),((g,b,E,I)=>{let U;for(Za(g,b-257,5),Za(g,E-1,5),Za(g,I-4,4),U=0;U<I;U++)Za(g,g.bl_tree[2*AC[U]+1],3);zC(g,g.dyn_ltree,b-1),zC(g,g.dyn_dtree,E-1)})(s,s.l_desc.max_code+1,s.d_desc.max_code+1,_+1),BC(s,s.dyn_ltree,s.dyn_dtree)),PC(s),c&&FC(s)},_tr_tally:(s,l,i)=>(s.pending_buf[s.sym_buf+s.sym_next++]=l,s.pending_buf[s.sym_buf+s.sym_next++]=l>>8,s.pending_buf[s.sym_buf+s.sym_next++]=i,l===0?s.dyn_ltree[2*i]++:(s.matches++,l--,s.dyn_ltree[2*(cp[i]+256+1)]++,s.dyn_dtree[2*DC(l)]++),s.sym_next===s.sym_end),_tr_align:s=>{Za(s,2,3),$o(s,256,Sl),(l=>{l.bi_valid===16?(up(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0):l.bi_valid>=8&&(l.pending_buf[l.pending++]=255&l.bi_buf,l.bi_buf>>=8,l.bi_valid-=8)})(s)}},dp=(s,l,i,c)=>{let d=65535&s|0,p=s>>>16&65535|0,_=0;for(;i!==0;){_=i>2e3?2e3:i,i-=_;do d=d+l[c++]|0,p=p+d|0;while(--_);d%=65521,p%=65521}return d|p<<16|0};const QQ=new Uint32Array((()=>{let s,l=[];for(var i=0;i<256;i++){s=i;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;l[i]=s}return l})());var Pi=(s,l,i,c)=>{const d=QQ,p=c+i;s^=-1;for(let _=c;_<p;_++)s=s>>>8^d[255&(s^l[_])];return-1^s},Lu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Uu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:YQ,_tr_stored_block:O2,_tr_flush_block:XQ,_tr_tally:Sc,_tr_align:ZQ}=WQ,{Z_NO_FLUSH:Tc,Z_PARTIAL_FLUSH:JQ,Z_FULL_FLUSH:eY,Z_FINISH:Ps,Z_BLOCK:qC,Z_OK:Yi,Z_STREAM_END:jC,Z_STREAM_ERROR:zo,Z_DATA_ERROR:nY,Z_BUF_ERROR:R2,Z_DEFAULT_COMPRESSION:tY,Z_FILTERED:rY,Z_HUFFMAN_ONLY:Nm,Z_RLE:iY,Z_FIXED:aY,Z_DEFAULT_STRATEGY:sY,Z_UNKNOWN:oY,Z_DEFLATED:Am}=Uu,Pu=(s,l)=>(s.msg=Lu[l],l),KC=s=>2*s-(s>4?9:0),Cc=s=>{let l=s.length;for(;--l>=0;)s[l]=0},lY=s=>{let l,i,c,d=s.w_size;l=s.hash_size,c=l;do i=s.head[--c],s.head[c]=i>=d?i-d:0;while(--l);l=d,c=l;do i=s.prev[--c],s.prev[c]=i>=d?i-d:0;while(--l)};let Ic=(s,l,i)=>(l<<s.hash_shift^i)&s.hash_mask;const _s=s=>{const l=s.state;let i=l.pending;i>s.avail_out&&(i=s.avail_out),i!==0&&(s.output.set(l.pending_buf.subarray(l.pending_out,l.pending_out+i),s.next_out),s.next_out+=i,l.pending_out+=i,s.total_out+=i,s.avail_out-=i,l.pending-=i,l.pending===0&&(l.pending_out=0))},ms=(s,l)=>{XQ(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,l),s.block_start=s.strstart,_s(s.strm)},mr=(s,l)=>{s.pending_buf[s.pending++]=l},hp=(s,l)=>{s.pending_buf[s.pending++]=l>>>8&255,s.pending_buf[s.pending++]=255&l},M2=(s,l,i,c)=>{let d=s.avail_in;return d>c&&(d=c),d===0?0:(s.avail_in-=d,l.set(s.input.subarray(s.next_in,s.next_in+d),i),s.state.wrap===1?s.adler=dp(s.adler,l,d,i):s.state.wrap===2&&(s.adler=Pi(s.adler,l,d,i)),s.next_in+=d,s.total_in+=d,d)},WC=(s,l)=>{let i,c,d=s.max_chain_length,p=s.strstart,_=s.prev_length,g=s.nice_match;const b=s.strstart>s.w_size-262?s.strstart-(s.w_size-262):0,E=s.window,I=s.w_mask,U=s.prev,X=s.strstart+258;let W=E[p+_-1],de=E[p+_];s.prev_length>=s.good_match&&(d>>=2),g>s.lookahead&&(g=s.lookahead);do if(i=l,E[i+_]===de&&E[i+_-1]===W&&E[i]===E[p]&&E[++i]===E[p+1]){p+=2,i++;do;while(E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&p<X);if(c=258-(X-p),p=X-258,c>_){if(s.match_start=l,_=c,c>=g)break;W=E[p+_-1],de=E[p+_]}}while((l=U[l&I])>b&&--d!=0);return _<=s.lookahead?_:s.lookahead},bh=s=>{const l=s.w_size;let i,c,d;do{if(c=s.window_size-s.lookahead-s.strstart,s.strstart>=l+(l-262)&&(s.window.set(s.window.subarray(l,l+l-c),0),s.match_start-=l,s.strstart-=l,s.block_start-=l,s.insert>s.strstart&&(s.insert=s.strstart),lY(s),c+=l),s.strm.avail_in===0)break;if(i=M2(s.strm,s.window,s.strstart+s.lookahead,c),s.lookahead+=i,s.lookahead+s.insert>=3)for(d=s.strstart-s.insert,s.ins_h=s.window[d],s.ins_h=Ic(s,s.ins_h,s.window[d+1]);s.insert&&(s.ins_h=Ic(s,s.ins_h,s.window[d+3-1]),s.prev[d&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=d,d++,s.insert--,!(s.lookahead+s.insert<3)););}while(s.lookahead<262&&s.strm.avail_in!==0)},QC=(s,l)=>{let i,c,d,p=s.pending_buf_size-5>s.w_size?s.w_size:s.pending_buf_size-5,_=0,g=s.strm.avail_in;do{if(i=65535,d=s.bi_valid+42>>3,s.strm.avail_out<d||(d=s.strm.avail_out-d,c=s.strstart-s.block_start,i>c+s.strm.avail_in&&(i=c+s.strm.avail_in),i>d&&(i=d),i<p&&(i===0&&l!==Ps||l===Tc||i!==c+s.strm.avail_in)))break;_=l===Ps&&i===c+s.strm.avail_in?1:0,O2(s,0,0,_),s.pending_buf[s.pending-4]=i,s.pending_buf[s.pending-3]=i>>8,s.pending_buf[s.pending-2]=~i,s.pending_buf[s.pending-1]=~i>>8,_s(s.strm),c&&(c>i&&(c=i),s.strm.output.set(s.window.subarray(s.block_start,s.block_start+c),s.strm.next_out),s.strm.next_out+=c,s.strm.avail_out-=c,s.strm.total_out+=c,s.block_start+=c,i-=c),i&&(M2(s.strm,s.strm.output,s.strm.next_out,i),s.strm.next_out+=i,s.strm.avail_out-=i,s.strm.total_out+=i)}while(_===0);return g-=s.strm.avail_in,g&&(g>=s.w_size?(s.matches=2,s.window.set(s.strm.input.subarray(s.strm.next_in-s.w_size,s.strm.next_in),0),s.strstart=s.w_size,s.insert=s.strstart):(s.window_size-s.strstart<=g&&(s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,s.insert>s.strstart&&(s.insert=s.strstart)),s.window.set(s.strm.input.subarray(s.strm.next_in-g,s.strm.next_in),s.strstart),s.strstart+=g,s.insert+=g>s.w_size-s.insert?s.w_size-s.insert:g),s.block_start=s.strstart),s.high_water<s.strstart&&(s.high_water=s.strstart),_?4:l!==Tc&&l!==Ps&&s.strm.avail_in===0&&s.strstart===s.block_start?2:(d=s.window_size-s.strstart,s.strm.avail_in>d&&s.block_start>=s.w_size&&(s.block_start-=s.w_size,s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,d+=s.w_size,s.insert>s.strstart&&(s.insert=s.strstart)),d>s.strm.avail_in&&(d=s.strm.avail_in),d&&(M2(s.strm,s.window,s.strstart,d),s.strstart+=d,s.insert+=d>s.w_size-s.insert?s.w_size-s.insert:d),s.high_water<s.strstart&&(s.high_water=s.strstart),d=s.bi_valid+42>>3,d=s.pending_buf_size-d>65535?65535:s.pending_buf_size-d,p=d>s.w_size?s.w_size:d,c=s.strstart-s.block_start,(c>=p||(c||l===Ps)&&l!==Tc&&s.strm.avail_in===0&&c<=d)&&(i=c>d?d:c,_=l===Ps&&s.strm.avail_in===0&&i===c?1:0,O2(s,s.block_start,i,_),s.block_start+=i,_s(s.strm)),_?3:1)},D2=(s,l)=>{let i,c;for(;;){if(s.lookahead<262){if(bh(s),s.lookahead<262&&l===Tc)return 1;if(s.lookahead===0)break}if(i=0,s.lookahead>=3&&(s.ins_h=Ic(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),i!==0&&s.strstart-i<=s.w_size-262&&(s.match_length=WC(s,i)),s.match_length>=3)if(c=Sc(s,s.strstart-s.match_start,s.match_length-3),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=3){s.match_length--;do s.strstart++,s.ins_h=Ic(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!=0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=Ic(s,s.ins_h,s.window[s.strstart+1]);else c=Sc(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(c&&(ms(s,!1),s.strm.avail_out===0))return 1}return s.insert=s.strstart<2?s.strstart:2,l===Ps?(ms(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(ms(s,!1),s.strm.avail_out===0)?1:2},yh=(s,l)=>{let i,c,d;for(;;){if(s.lookahead<262){if(bh(s),s.lookahead<262&&l===Tc)return 1;if(s.lookahead===0)break}if(i=0,s.lookahead>=3&&(s.ins_h=Ic(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=2,i!==0&&s.prev_length<s.max_lazy_match&&s.strstart-i<=s.w_size-262&&(s.match_length=WC(s,i),s.match_length<=5&&(s.strategy===rY||s.match_length===3&&s.strstart-s.match_start>4096)&&(s.match_length=2)),s.prev_length>=3&&s.match_length<=s.prev_length){d=s.strstart+s.lookahead-3,c=Sc(s,s.strstart-1-s.prev_match,s.prev_length-3),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=d&&(s.ins_h=Ic(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!=0);if(s.match_available=0,s.match_length=2,s.strstart++,c&&(ms(s,!1),s.strm.avail_out===0))return 1}else if(s.match_available){if(c=Sc(s,0,s.window[s.strstart-1]),c&&ms(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return 1}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(c=Sc(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<2?s.strstart:2,l===Ps?(ms(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(ms(s,!1),s.strm.avail_out===0)?1:2};function Vo(s,l,i,c,d){this.good_length=s,this.max_lazy=l,this.nice_length=i,this.max_chain=c,this.func=d}const pp=[new Vo(0,0,0,0,QC),new Vo(4,4,8,4,D2),new Vo(4,5,16,8,D2),new Vo(4,6,32,32,D2),new Vo(4,4,16,16,yh),new Vo(8,16,32,32,yh),new Vo(8,16,128,128,yh),new Vo(8,32,128,256,yh),new Vo(32,128,258,1024,yh),new Vo(32,258,258,4096,yh)];function cY(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Am,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Cc(this.dyn_ltree),Cc(this.dyn_dtree),Cc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Cc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Cc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const fp=s=>{if(!s)return 1;const l=s.state;return!l||l.strm!==s||l.status!==42&&l.status!==57&&l.status!==69&&l.status!==73&&l.status!==91&&l.status!==103&&l.status!==113&&l.status!==666?1:0},YC=s=>{if(fp(s))return Pu(s,zo);s.total_in=s.total_out=0,s.data_type=oY;const l=s.state;return l.pending=0,l.pending_out=0,l.wrap<0&&(l.wrap=-l.wrap),l.status=l.wrap===2?57:l.wrap?42:113,s.adler=l.wrap===2?0:1,l.last_flush=-2,YQ(l),Yi},XC=s=>{const l=YC(s);var i;return l===Yi&&((i=s.state).window_size=2*i.w_size,Cc(i.head),i.max_lazy_match=pp[i.level].max_lazy,i.good_match=pp[i.level].good_length,i.nice_match=pp[i.level].nice_length,i.max_chain_length=pp[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),l},ZC=(s,l,i,c,d,p)=>{if(!s)return zo;let _=1;if(l===tY&&(l=6),c<0?(_=0,c=-c):c>15&&(_=2,c-=16),d<1||d>9||i!==Am||c<8||c>15||l<0||l>9||p<0||p>aY||c===8&&_!==1)return Pu(s,zo);c===8&&(c=9);const g=new cY;return s.state=g,g.strm=s,g.status=42,g.wrap=_,g.gzhead=null,g.w_bits=c,g.w_size=1<<g.w_bits,g.w_mask=g.w_size-1,g.hash_bits=d+7,g.hash_size=1<<g.hash_bits,g.hash_mask=g.hash_size-1,g.hash_shift=~~((g.hash_bits+3-1)/3),g.window=new Uint8Array(2*g.w_size),g.head=new Uint16Array(g.hash_size),g.prev=new Uint16Array(g.w_size),g.lit_bufsize=1<<d+6,g.pending_buf_size=4*g.lit_bufsize,g.pending_buf=new Uint8Array(g.pending_buf_size),g.sym_buf=g.lit_bufsize,g.sym_end=3*(g.lit_bufsize-1),g.level=l,g.strategy=p,g.method=i,XC(s)};var _p={deflateInit:(s,l)=>ZC(s,l,Am,15,8,sY),deflateInit2:ZC,deflateReset:XC,deflateResetKeep:YC,deflateSetHeader:(s,l)=>fp(s)||s.state.wrap!==2?zo:(s.state.gzhead=l,Yi),deflate:(s,l)=>{if(fp(s)||l>qC||l<0)return s?Pu(s,zo):zo;const i=s.state;if(!s.output||s.avail_in!==0&&!s.input||i.status===666&&l!==Ps)return Pu(s,s.avail_out===0?R2:zo);const c=i.last_flush;if(i.last_flush=l,i.pending!==0){if(_s(s),s.avail_out===0)return i.last_flush=-1,Yi}else if(s.avail_in===0&&KC(l)<=KC(c)&&l!==Ps)return Pu(s,R2);if(i.status===666&&s.avail_in!==0)return Pu(s,R2);if(i.status===42&&i.wrap===0&&(i.status=113),i.status===42){let d=Am+(i.w_bits-8<<4)<<8,p=-1;if(p=i.strategy>=Nm||i.level<2?0:i.level<6?1:i.level===6?2:3,d|=p<<6,i.strstart!==0&&(d|=32),d+=31-d%31,hp(i,d),i.strstart!==0&&(hp(i,s.adler>>>16),hp(i,65535&s.adler)),s.adler=1,i.status=113,_s(s),i.pending!==0)return i.last_flush=-1,Yi}if(i.status===57){if(s.adler=0,mr(i,31),mr(i,139),mr(i,8),i.gzhead)mr(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),mr(i,255&i.gzhead.time),mr(i,i.gzhead.time>>8&255),mr(i,i.gzhead.time>>16&255),mr(i,i.gzhead.time>>24&255),mr(i,i.level===9?2:i.strategy>=Nm||i.level<2?4:0),mr(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(mr(i,255&i.gzhead.extra.length),mr(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(s.adler=Pi(s.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(mr(i,0),mr(i,0),mr(i,0),mr(i,0),mr(i,0),mr(i,i.level===9?2:i.strategy>=Nm||i.level<2?4:0),mr(i,3),i.status=113,_s(s),i.pending!==0)return i.last_flush=-1,Yi}if(i.status===69){if(i.gzhead.extra){let d=i.pending,p=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+p>i.pending_buf_size;){let g=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+g),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>d&&(s.adler=Pi(s.adler,i.pending_buf,i.pending-d,d)),i.gzindex+=g,_s(s),i.pending!==0)return i.last_flush=-1,Yi;d=0,p-=g}let _=new Uint8Array(i.gzhead.extra);i.pending_buf.set(_.subarray(i.gzindex,i.gzindex+p),i.pending),i.pending+=p,i.gzhead.hcrc&&i.pending>d&&(s.adler=Pi(s.adler,i.pending_buf,i.pending-d,d)),i.gzindex=0}i.status=73}if(i.status===73){if(i.gzhead.name){let d,p=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>p&&(s.adler=Pi(s.adler,i.pending_buf,i.pending-p,p)),_s(s),i.pending!==0)return i.last_flush=-1,Yi;p=0}d=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,mr(i,d)}while(d!==0);i.gzhead.hcrc&&i.pending>p&&(s.adler=Pi(s.adler,i.pending_buf,i.pending-p,p)),i.gzindex=0}i.status=91}if(i.status===91){if(i.gzhead.comment){let d,p=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>p&&(s.adler=Pi(s.adler,i.pending_buf,i.pending-p,p)),_s(s),i.pending!==0)return i.last_flush=-1,Yi;p=0}d=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,mr(i,d)}while(d!==0);i.gzhead.hcrc&&i.pending>p&&(s.adler=Pi(s.adler,i.pending_buf,i.pending-p,p))}i.status=103}if(i.status===103){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(_s(s),i.pending!==0))return i.last_flush=-1,Yi;mr(i,255&s.adler),mr(i,s.adler>>8&255),s.adler=0}if(i.status=113,_s(s),i.pending!==0)return i.last_flush=-1,Yi}if(s.avail_in!==0||i.lookahead!==0||l!==Tc&&i.status!==666){let d=i.level===0?QC(i,l):i.strategy===Nm?((p,_)=>{let g;for(;;){if(p.lookahead===0&&(bh(p),p.lookahead===0)){if(_===Tc)return 1;break}if(p.match_length=0,g=Sc(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++,g&&(ms(p,!1),p.strm.avail_out===0))return 1}return p.insert=0,_===Ps?(ms(p,!0),p.strm.avail_out===0?3:4):p.sym_next&&(ms(p,!1),p.strm.avail_out===0)?1:2})(i,l):i.strategy===iY?((p,_)=>{let g,b,E,I;const U=p.window;for(;;){if(p.lookahead<=258){if(bh(p),p.lookahead<=258&&_===Tc)return 1;if(p.lookahead===0)break}if(p.match_length=0,p.lookahead>=3&&p.strstart>0&&(E=p.strstart-1,b=U[E],b===U[++E]&&b===U[++E]&&b===U[++E])){I=p.strstart+258;do;while(b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&E<I);p.match_length=258-(I-E),p.match_length>p.lookahead&&(p.match_length=p.lookahead)}if(p.match_length>=3?(g=Sc(p,1,p.match_length-3),p.lookahead-=p.match_length,p.strstart+=p.match_length,p.match_length=0):(g=Sc(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++),g&&(ms(p,!1),p.strm.avail_out===0))return 1}return p.insert=0,_===Ps?(ms(p,!0),p.strm.avail_out===0?3:4):p.sym_next&&(ms(p,!1),p.strm.avail_out===0)?1:2})(i,l):pp[i.level].func(i,l);if(d!==3&&d!==4||(i.status=666),d===1||d===3)return s.avail_out===0&&(i.last_flush=-1),Yi;if(d===2&&(l===JQ?ZQ(i):l!==qC&&(O2(i,0,0,!1),l===eY&&(Cc(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),_s(s),s.avail_out===0))return i.last_flush=-1,Yi}return l!==Ps?Yi:i.wrap<=0?jC:(i.wrap===2?(mr(i,255&s.adler),mr(i,s.adler>>8&255),mr(i,s.adler>>16&255),mr(i,s.adler>>24&255),mr(i,255&s.total_in),mr(i,s.total_in>>8&255),mr(i,s.total_in>>16&255),mr(i,s.total_in>>24&255)):(hp(i,s.adler>>>16),hp(i,65535&s.adler)),_s(s),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Yi:jC)},deflateEnd:s=>{if(fp(s))return zo;const l=s.state.status;return s.state=null,l===113?Pu(s,nY):Yi},deflateSetDictionary:(s,l)=>{let i=l.length;if(fp(s))return zo;const c=s.state,d=c.wrap;if(d===2||d===1&&c.status!==42||c.lookahead)return zo;if(d===1&&(s.adler=dp(s.adler,l,i,0)),c.wrap=0,i>=c.w_size){d===0&&(Cc(c.head),c.strstart=0,c.block_start=0,c.insert=0);let b=new Uint8Array(c.w_size);b.set(l.subarray(i-c.w_size,i),0),l=b,i=c.w_size}const p=s.avail_in,_=s.next_in,g=s.input;for(s.avail_in=i,s.next_in=0,s.input=l,bh(c);c.lookahead>=3;){let b=c.strstart,E=c.lookahead-2;do c.ins_h=Ic(c,c.ins_h,c.window[b+3-1]),c.prev[b&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=b,b++;while(--E);c.strstart=b,c.lookahead=2,bh(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=2,c.match_available=0,s.next_in=_,s.input=g,s.avail_in=p,c.wrap=d,Yi},deflateInfo:"pako deflate (from Nodeca project)"};const uY=(s,l)=>Object.prototype.hasOwnProperty.call(s,l);var JC=function(s){const l=Array.prototype.slice.call(arguments,1);for(;l.length;){const i=l.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const c in i)uY(i,c)&&(s[c]=i[c])}}return s},eI=s=>{let l=0;for(let c=0,d=s.length;c<d;c++)l+=s[c].length;const i=new Uint8Array(l);for(let c=0,d=0,p=s.length;c<p;c++){let _=s[c];i.set(_,d),d+=_.length}return i};let nI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nI=!1}const mp=new Uint8Array(256);for(let s=0;s<256;s++)mp[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;mp[254]=mp[254]=1;var L2=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let l,i,c,d,p,_=s.length,g=0;for(d=0;d<_;d++)i=s.charCodeAt(d),(64512&i)==55296&&d+1<_&&(c=s.charCodeAt(d+1),(64512&c)==56320&&(i=65536+(i-55296<<10)+(c-56320),d++)),g+=i<128?1:i<2048?2:i<65536?3:4;for(l=new Uint8Array(g),p=0,d=0;p<g;d++)i=s.charCodeAt(d),(64512&i)==55296&&d+1<_&&(c=s.charCodeAt(d+1),(64512&c)==56320&&(i=65536+(i-55296<<10)+(c-56320),d++)),i<128?l[p++]=i:i<2048?(l[p++]=192|i>>>6,l[p++]=128|63&i):i<65536?(l[p++]=224|i>>>12,l[p++]=128|i>>>6&63,l[p++]=128|63&i):(l[p++]=240|i>>>18,l[p++]=128|i>>>12&63,l[p++]=128|i>>>6&63,l[p++]=128|63&i);return l},dY=(s,l)=>{const i=l||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,l));let c,d;const p=new Array(2*i);for(d=0,c=0;c<i;){let _=s[c++];if(_<128){p[d++]=_;continue}let g=mp[_];if(g>4)p[d++]=65533,c+=g-1;else{for(_&=g===2?31:g===3?15:7;g>1&&c<i;)_=_<<6|63&s[c++],g--;g>1?p[d++]=65533:_<65536?p[d++]=_:(_-=65536,p[d++]=55296|_>>10&1023,p[d++]=56320|1023&_)}}return((_,g)=>{if(g<65534&&_.subarray&&nI)return String.fromCharCode.apply(null,_.length===g?_:_.subarray(0,g));let b="";for(let E=0;E<g;E++)b+=String.fromCharCode(_[E]);return b})(p,d)},hY=(s,l)=>{(l=l||s.length)>s.length&&(l=s.length);let i=l-1;for(;i>=0&&(192&s[i])==128;)i--;return i<0||i===0?l:i+mp[s[i]]>l?i:l},tI=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const rI=Object.prototype.toString,{Z_NO_FLUSH:pY,Z_SYNC_FLUSH:fY,Z_FULL_FLUSH:_Y,Z_FINISH:mY,Z_OK:Om,Z_STREAM_END:vY,Z_DEFAULT_COMPRESSION:gY,Z_DEFAULT_STRATEGY:bY,Z_DEFLATED:yY}=Uu;function vp(s){this.options=JC({level:gY,method:yY,chunkSize:16384,windowBits:15,memLevel:8,strategy:bY},s||{});let l=this.options;l.raw&&l.windowBits>0?l.windowBits=-l.windowBits:l.gzip&&l.windowBits>0&&l.windowBits<16&&(l.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tI,this.strm.avail_out=0;let i=_p.deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(i!==Om)throw new Error(Lu[i]);if(l.header&&_p.deflateSetHeader(this.strm,l.header),l.dictionary){let c;if(c=typeof l.dictionary=="string"?L2(l.dictionary):rI.call(l.dictionary)==="[object ArrayBuffer]"?new Uint8Array(l.dictionary):l.dictionary,i=_p.deflateSetDictionary(this.strm,c),i!==Om)throw new Error(Lu[i]);this._dict_set=!0}}function U2(s,l){const i=new vp(l);if(i.push(s,!0),i.err)throw i.msg||Lu[i.err];return i.result}vp.prototype.push=function(s,l){const i=this.strm,c=this.options.chunkSize;let d,p;if(this.ended)return!1;for(p=l===~~l?l:l===!0?mY:pY,typeof s=="string"?i.input=L2(s):rI.call(s)==="[object ArrayBuffer]"?i.input=new Uint8Array(s):i.input=s,i.next_in=0,i.avail_in=i.input.length;;)if(i.avail_out===0&&(i.output=new Uint8Array(c),i.next_out=0,i.avail_out=c),(p===fY||p===_Y)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(d=_p.deflate(i,p),d===vY)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),d=_p.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===Om;if(i.avail_out!==0){if(p>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(i.avail_in===0)break}else this.onData(i.output)}return!0},vp.prototype.onData=function(s){this.chunks.push(s)},vp.prototype.onEnd=function(s){s===Om&&(this.result=eI(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};var EY={Deflate:vp,deflate:U2,deflateRaw:function(s,l){return(l=l||{}).raw=!0,U2(s,l)},gzip:function(s,l){return(l=l||{}).gzip=!0,U2(s,l)},constants:Uu},wY=function(s,l){let i,c,d,p,_,g,b,E,I,U,X,W,de,se,fe,Ae,we,$e,ln,Ie,ye,tn,Ze,Qe;const xn=s.state;i=s.next_in,Ze=s.input,c=i+(s.avail_in-5),d=s.next_out,Qe=s.output,p=d-(l-s.avail_out),_=d+(s.avail_out-257),g=xn.dmax,b=xn.wsize,E=xn.whave,I=xn.wnext,U=xn.window,X=xn.hold,W=xn.bits,de=xn.lencode,se=xn.distcode,fe=(1<<xn.lenbits)-1,Ae=(1<<xn.distbits)-1;e:do{W<15&&(X+=Ze[i++]<<W,W+=8,X+=Ze[i++]<<W,W+=8),we=de[X&fe];n:for(;;){if($e=we>>>24,X>>>=$e,W-=$e,$e=we>>>16&255,$e===0)Qe[d++]=65535&we;else{if(!(16&$e)){if(!(64&$e)){we=de[(65535&we)+(X&(1<<$e)-1)];continue n}if(32&$e){xn.mode=16191;break e}s.msg="invalid literal/length code",xn.mode=16209;break e}ln=65535&we,$e&=15,$e&&(W<$e&&(X+=Ze[i++]<<W,W+=8),ln+=X&(1<<$e)-1,X>>>=$e,W-=$e),W<15&&(X+=Ze[i++]<<W,W+=8,X+=Ze[i++]<<W,W+=8),we=se[X&Ae];t:for(;;){if($e=we>>>24,X>>>=$e,W-=$e,$e=we>>>16&255,!(16&$e)){if(!(64&$e)){we=se[(65535&we)+(X&(1<<$e)-1)];continue t}s.msg="invalid distance code",xn.mode=16209;break e}if(Ie=65535&we,$e&=15,W<$e&&(X+=Ze[i++]<<W,W+=8,W<$e&&(X+=Ze[i++]<<W,W+=8)),Ie+=X&(1<<$e)-1,Ie>g){s.msg="invalid distance too far back",xn.mode=16209;break e}if(X>>>=$e,W-=$e,$e=d-p,Ie>$e){if($e=Ie-$e,$e>E&&xn.sane){s.msg="invalid distance too far back",xn.mode=16209;break e}if(ye=0,tn=U,I===0){if(ye+=b-$e,$e<ln){ln-=$e;do Qe[d++]=U[ye++];while(--$e);ye=d-Ie,tn=Qe}}else if(I<$e){if(ye+=b+I-$e,$e-=I,$e<ln){ln-=$e;do Qe[d++]=U[ye++];while(--$e);if(ye=0,I<ln){$e=I,ln-=$e;do Qe[d++]=U[ye++];while(--$e);ye=d-Ie,tn=Qe}}}else if(ye+=I-$e,$e<ln){ln-=$e;do Qe[d++]=U[ye++];while(--$e);ye=d-Ie,tn=Qe}for(;ln>2;)Qe[d++]=tn[ye++],Qe[d++]=tn[ye++],Qe[d++]=tn[ye++],ln-=3;ln&&(Qe[d++]=tn[ye++],ln>1&&(Qe[d++]=tn[ye++]))}else{ye=d-Ie;do Qe[d++]=Qe[ye++],Qe[d++]=Qe[ye++],Qe[d++]=Qe[ye++],ln-=3;while(ln>2);ln&&(Qe[d++]=Qe[ye++],ln>1&&(Qe[d++]=Qe[ye++]))}break}}break}}while(i<c&&d<_);ln=W>>3,i-=ln,W-=ln<<3,X&=(1<<W)-1,s.next_in=i,s.next_out=d,s.avail_in=i<c?c-i+5:5-(i-c),s.avail_out=d<_?_-d+257:257-(d-_),xn.hold=X,xn.bits=W};const xY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),SY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),TY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var gp=(s,l,i,c,d,p,_,g)=>{const b=g.bits;let E,I,U,X,W,de,se=0,fe=0,Ae=0,we=0,$e=0,ln=0,Ie=0,ye=0,tn=0,Ze=0,Qe=null;const xn=new Uint16Array(16),ir=new Uint16Array(16);let Tn,Sn,zn,ft=null;for(se=0;se<=15;se++)xn[se]=0;for(fe=0;fe<c;fe++)xn[l[i+fe]]++;for($e=b,we=15;we>=1&&xn[we]===0;we--);if($e>we&&($e=we),we===0)return d[p++]=20971520,d[p++]=20971520,g.bits=1,0;for(Ae=1;Ae<we&&xn[Ae]===0;Ae++);for($e<Ae&&($e=Ae),ye=1,se=1;se<=15;se++)if(ye<<=1,ye-=xn[se],ye<0)return-1;if(ye>0&&(s===0||we!==1))return-1;for(ir[1]=0,se=1;se<15;se++)ir[se+1]=ir[se]+xn[se];for(fe=0;fe<c;fe++)l[i+fe]!==0&&(_[ir[l[i+fe]]++]=fe);if(s===0?(Qe=ft=_,de=20):s===1?(Qe=xY,ft=kY,de=257):(Qe=SY,ft=TY,de=0),Ze=0,fe=0,se=Ae,W=p,ln=$e,Ie=0,U=-1,tn=1<<$e,X=tn-1,s===1&&tn>852||s===2&&tn>592)return 1;for(;;){Tn=se-Ie,_[fe]+1<de?(Sn=0,zn=_[fe]):_[fe]>=de?(Sn=ft[_[fe]-de],zn=Qe[_[fe]-de]):(Sn=96,zn=0),E=1<<se-Ie,I=1<<ln,Ae=I;do I-=E,d[W+(Ze>>Ie)+I]=Tn<<24|Sn<<16|zn|0;while(I!==0);for(E=1<<se-1;Ze&E;)E>>=1;if(E!==0?(Ze&=E-1,Ze+=E):Ze=0,fe++,--xn[se]==0){if(se===we)break;se=l[i+_[fe]]}if(se>$e&&(Ze&X)!==U){for(Ie===0&&(Ie=$e),W+=Ae,ln=se-Ie,ye=1<<ln;ln+Ie<we&&(ye-=xn[ln+Ie],!(ye<=0));)ln++,ye<<=1;if(tn+=1<<ln,s===1&&tn>852||s===2&&tn>592)return 1;U=Ze&X,d[U]=$e<<24|ln<<16|W-p|0}}return Ze!==0&&(d[W+Ze]=se-Ie<<24|64<<16|0),g.bits=$e,0};const{Z_FINISH:iI,Z_BLOCK:CY,Z_TREES:Rm,Z_OK:Fu,Z_STREAM_END:IY,Z_NEED_DICT:NY,Z_STREAM_ERROR:Fs,Z_DATA_ERROR:aI,Z_MEM_ERROR:sI,Z_BUF_ERROR:AY,Z_DEFLATED:oI}=Uu,ei=16209,lI=s=>(s>>>24&255)+(s>>>8&65280)+((65280&s)<<8)+((255&s)<<24);function OY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hu=s=>{if(!s)return 1;const l=s.state;return!l||l.strm!==s||l.mode<16180||l.mode>16211?1:0},cI=s=>{if(Hu(s))return Fs;const l=s.state;return s.total_in=s.total_out=l.total=0,s.msg="",l.wrap&&(s.adler=1&l.wrap),l.mode=16180,l.last=0,l.havedict=0,l.flags=-1,l.dmax=32768,l.head=null,l.hold=0,l.bits=0,l.lencode=l.lendyn=new Int32Array(852),l.distcode=l.distdyn=new Int32Array(592),l.sane=1,l.back=-1,Fu},uI=s=>{if(Hu(s))return Fs;const l=s.state;return l.wsize=0,l.whave=0,l.wnext=0,cI(s)},dI=(s,l)=>{let i;if(Hu(s))return Fs;const c=s.state;return l<0?(i=0,l=-l):(i=5+(l>>4),l<48&&(l&=15)),l&&(l<8||l>15)?Fs:(c.window!==null&&c.wbits!==l&&(c.window=null),c.wrap=i,c.wbits=l,uI(s))},hI=(s,l)=>{if(!s)return Fs;const i=new OY;s.state=i,i.strm=s,i.window=null,i.mode=16180;const c=dI(s,l);return c!==Fu&&(s.state=null),c};let P2,F2,pI=!0;const RY=s=>{if(pI){P2=new Int32Array(512),F2=new Int32Array(32);let l=0;for(;l<144;)s.lens[l++]=8;for(;l<256;)s.lens[l++]=9;for(;l<280;)s.lens[l++]=7;for(;l<288;)s.lens[l++]=8;for(gp(1,s.lens,0,288,P2,0,s.work,{bits:9}),l=0;l<32;)s.lens[l++]=5;gp(2,s.lens,0,32,F2,0,s.work,{bits:5}),pI=!1}s.lencode=P2,s.lenbits=9,s.distcode=F2,s.distbits=5},fI=(s,l,i,c)=>{let d;const p=s.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new Uint8Array(p.wsize)),c>=p.wsize?(p.window.set(l.subarray(i-p.wsize,i),0),p.wnext=0,p.whave=p.wsize):(d=p.wsize-p.wnext,d>c&&(d=c),p.window.set(l.subarray(i-c,i-c+d),p.wnext),(c-=d)?(p.window.set(l.subarray(i-c,i),0),p.wnext=c,p.whave=p.wsize):(p.wnext+=d,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=d))),0};var Tl={inflateReset:uI,inflateReset2:dI,inflateResetKeep:cI,inflateInit:s=>hI(s,15),inflateInit2:hI,inflate:(s,l)=>{let i,c,d,p,_,g,b,E,I,U,X,W,de,se,fe,Ae,we,$e,ln,Ie,ye,tn,Ze=0;const Qe=new Uint8Array(4);let xn,ir;const Tn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hu(s)||!s.output||!s.input&&s.avail_in!==0)return Fs;i=s.state,i.mode===16191&&(i.mode=16192),_=s.next_out,d=s.output,b=s.avail_out,p=s.next_in,c=s.input,g=s.avail_in,E=i.hold,I=i.bits,U=g,X=b,tn=Fu;e:for(;;)switch(i.mode){case 16180:if(i.wrap===0){i.mode=16192;break}for(;I<16;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if(2&i.wrap&&E===35615){i.wbits===0&&(i.wbits=15),i.check=0,Qe[0]=255&E,Qe[1]=E>>>8&255,i.check=Pi(i.check,Qe,2,0),E=0,I=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&E)<<8)+(E>>8))%31){s.msg="incorrect header check",i.mode=ei;break}if((15&E)!==oI){s.msg="unknown compression method",i.mode=ei;break}if(E>>>=4,I-=4,ye=8+(15&E),i.wbits===0&&(i.wbits=ye),ye>15||ye>i.wbits){s.msg="invalid window size",i.mode=ei;break}i.dmax=1<<i.wbits,i.flags=0,s.adler=i.check=1,i.mode=512&E?16189:16191,E=0,I=0;break;case 16181:for(;I<16;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if(i.flags=E,(255&i.flags)!==oI){s.msg="unknown compression method",i.mode=ei;break}if(57344&i.flags){s.msg="unknown header flags set",i.mode=ei;break}i.head&&(i.head.text=E>>8&1),512&i.flags&&4&i.wrap&&(Qe[0]=255&E,Qe[1]=E>>>8&255,i.check=Pi(i.check,Qe,2,0)),E=0,I=0,i.mode=16182;case 16182:for(;I<32;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}i.head&&(i.head.time=E),512&i.flags&&4&i.wrap&&(Qe[0]=255&E,Qe[1]=E>>>8&255,Qe[2]=E>>>16&255,Qe[3]=E>>>24&255,i.check=Pi(i.check,Qe,4,0)),E=0,I=0,i.mode=16183;case 16183:for(;I<16;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}i.head&&(i.head.xflags=255&E,i.head.os=E>>8),512&i.flags&&4&i.wrap&&(Qe[0]=255&E,Qe[1]=E>>>8&255,i.check=Pi(i.check,Qe,2,0)),E=0,I=0,i.mode=16184;case 16184:if(1024&i.flags){for(;I<16;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}i.length=E,i.head&&(i.head.extra_len=E),512&i.flags&&4&i.wrap&&(Qe[0]=255&E,Qe[1]=E>>>8&255,i.check=Pi(i.check,Qe,2,0)),E=0,I=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(W=i.length,W>g&&(W=g),W&&(i.head&&(ye=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(c.subarray(p,p+W),ye)),512&i.flags&&4&i.wrap&&(i.check=Pi(i.check,c,W,p)),g-=W,p+=W,i.length-=W),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(g===0)break e;W=0;do ye=c[p+W++],i.head&&ye&&i.length<65536&&(i.head.name+=String.fromCharCode(ye));while(ye&&W<g);if(512&i.flags&&4&i.wrap&&(i.check=Pi(i.check,c,W,p)),g-=W,p+=W,ye)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(g===0)break e;W=0;do ye=c[p+W++],i.head&&ye&&i.length<65536&&(i.head.comment+=String.fromCharCode(ye));while(ye&&W<g);if(512&i.flags&&4&i.wrap&&(i.check=Pi(i.check,c,W,p)),g-=W,p+=W,ye)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;I<16;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if(4&i.wrap&&E!==(65535&i.check)){s.msg="header crc mismatch",i.mode=ei;break}E=0,I=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),s.adler=i.check=0,i.mode=16191;break;case 16189:for(;I<32;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}s.adler=i.check=lI(E),E=0,I=0,i.mode=16190;case 16190:if(i.havedict===0)return s.next_out=_,s.avail_out=b,s.next_in=p,s.avail_in=g,i.hold=E,i.bits=I,NY;s.adler=i.check=1,i.mode=16191;case 16191:if(l===CY||l===Rm)break e;case 16192:if(i.last){E>>>=7&I,I-=7&I,i.mode=16206;break}for(;I<3;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}switch(i.last=1&E,E>>>=1,I-=1,3&E){case 0:i.mode=16193;break;case 1:if(RY(i),i.mode=16199,l===Rm){E>>>=2,I-=2;break e}break;case 2:i.mode=16196;break;case 3:s.msg="invalid block type",i.mode=ei}E>>>=2,I-=2;break;case 16193:for(E>>>=7&I,I-=7&I;I<32;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if((65535&E)!=(E>>>16^65535)){s.msg="invalid stored block lengths",i.mode=ei;break}if(i.length=65535&E,E=0,I=0,i.mode=16194,l===Rm)break e;case 16194:i.mode=16195;case 16195:if(W=i.length,W){if(W>g&&(W=g),W>b&&(W=b),W===0)break e;d.set(c.subarray(p,p+W),_),g-=W,p+=W,b-=W,_+=W,i.length-=W;break}i.mode=16191;break;case 16196:for(;I<14;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if(i.nlen=257+(31&E),E>>>=5,I-=5,i.ndist=1+(31&E),E>>>=5,I-=5,i.ncode=4+(15&E),E>>>=4,I-=4,i.nlen>286||i.ndist>30){s.msg="too many length or distance symbols",i.mode=ei;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;I<3;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}i.lens[Tn[i.have++]]=7&E,E>>>=3,I-=3}for(;i.have<19;)i.lens[Tn[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,xn={bits:i.lenbits},tn=gp(0,i.lens,0,19,i.lencode,0,i.work,xn),i.lenbits=xn.bits,tn){s.msg="invalid code lengths set",i.mode=ei;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;Ze=i.lencode[E&(1<<i.lenbits)-1],fe=Ze>>>24,Ae=Ze>>>16&255,we=65535&Ze,!(fe<=I);){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if(we<16)E>>>=fe,I-=fe,i.lens[i.have++]=we;else{if(we===16){for(ir=fe+2;I<ir;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if(E>>>=fe,I-=fe,i.have===0){s.msg="invalid bit length repeat",i.mode=ei;break}ye=i.lens[i.have-1],W=3+(3&E),E>>>=2,I-=2}else if(we===17){for(ir=fe+3;I<ir;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}E>>>=fe,I-=fe,ye=0,W=3+(7&E),E>>>=3,I-=3}else{for(ir=fe+7;I<ir;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}E>>>=fe,I-=fe,ye=0,W=11+(127&E),E>>>=7,I-=7}if(i.have+W>i.nlen+i.ndist){s.msg="invalid bit length repeat",i.mode=ei;break}for(;W--;)i.lens[i.have++]=ye}}if(i.mode===ei)break;if(i.lens[256]===0){s.msg="invalid code -- missing end-of-block",i.mode=ei;break}if(i.lenbits=9,xn={bits:i.lenbits},tn=gp(1,i.lens,0,i.nlen,i.lencode,0,i.work,xn),i.lenbits=xn.bits,tn){s.msg="invalid literal/lengths set",i.mode=ei;break}if(i.distbits=6,i.distcode=i.distdyn,xn={bits:i.distbits},tn=gp(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,xn),i.distbits=xn.bits,tn){s.msg="invalid distances set",i.mode=ei;break}if(i.mode=16199,l===Rm)break e;case 16199:i.mode=16200;case 16200:if(g>=6&&b>=258){s.next_out=_,s.avail_out=b,s.next_in=p,s.avail_in=g,i.hold=E,i.bits=I,wY(s,X),_=s.next_out,d=s.output,b=s.avail_out,p=s.next_in,c=s.input,g=s.avail_in,E=i.hold,I=i.bits,i.mode===16191&&(i.back=-1);break}for(i.back=0;Ze=i.lencode[E&(1<<i.lenbits)-1],fe=Ze>>>24,Ae=Ze>>>16&255,we=65535&Ze,!(fe<=I);){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if(Ae&&!(240&Ae)){for($e=fe,ln=Ae,Ie=we;Ze=i.lencode[Ie+((E&(1<<$e+ln)-1)>>$e)],fe=Ze>>>24,Ae=Ze>>>16&255,we=65535&Ze,!($e+fe<=I);){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}E>>>=$e,I-=$e,i.back+=$e}if(E>>>=fe,I-=fe,i.back+=fe,i.length=we,Ae===0){i.mode=16205;break}if(32&Ae){i.back=-1,i.mode=16191;break}if(64&Ae){s.msg="invalid literal/length code",i.mode=ei;break}i.extra=15&Ae,i.mode=16201;case 16201:if(i.extra){for(ir=i.extra;I<ir;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}i.length+=E&(1<<i.extra)-1,E>>>=i.extra,I-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;Ze=i.distcode[E&(1<<i.distbits)-1],fe=Ze>>>24,Ae=Ze>>>16&255,we=65535&Ze,!(fe<=I);){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if(!(240&Ae)){for($e=fe,ln=Ae,Ie=we;Ze=i.distcode[Ie+((E&(1<<$e+ln)-1)>>$e)],fe=Ze>>>24,Ae=Ze>>>16&255,we=65535&Ze,!($e+fe<=I);){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}E>>>=$e,I-=$e,i.back+=$e}if(E>>>=fe,I-=fe,i.back+=fe,64&Ae){s.msg="invalid distance code",i.mode=ei;break}i.offset=we,i.extra=15&Ae,i.mode=16203;case 16203:if(i.extra){for(ir=i.extra;I<ir;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}i.offset+=E&(1<<i.extra)-1,E>>>=i.extra,I-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){s.msg="invalid distance too far back",i.mode=ei;break}i.mode=16204;case 16204:if(b===0)break e;if(W=X-b,i.offset>W){if(W=i.offset-W,W>i.whave&&i.sane){s.msg="invalid distance too far back",i.mode=ei;break}W>i.wnext?(W-=i.wnext,de=i.wsize-W):de=i.wnext-W,W>i.length&&(W=i.length),se=i.window}else se=d,de=_-i.offset,W=i.length;W>b&&(W=b),b-=W,i.length-=W;do d[_++]=se[de++];while(--W);i.length===0&&(i.mode=16200);break;case 16205:if(b===0)break e;d[_++]=i.length,b--,i.mode=16200;break;case 16206:if(i.wrap){for(;I<32;){if(g===0)break e;g--,E|=c[p++]<<I,I+=8}if(X-=b,s.total_out+=X,i.total+=X,4&i.wrap&&X&&(s.adler=i.check=i.flags?Pi(i.check,d,X,_-X):dp(i.check,d,X,_-X)),X=b,4&i.wrap&&(i.flags?E:lI(E))!==i.check){s.msg="incorrect data check",i.mode=ei;break}E=0,I=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;I<32;){if(g===0)break e;g--,E+=c[p++]<<I,I+=8}if(4&i.wrap&&E!==(4294967295&i.total)){s.msg="incorrect length check",i.mode=ei;break}E=0,I=0}i.mode=16208;case 16208:tn=IY;break e;case ei:tn=aI;break e;case 16210:return sI;default:return Fs}return s.next_out=_,s.avail_out=b,s.next_in=p,s.avail_in=g,i.hold=E,i.bits=I,(i.wsize||X!==s.avail_out&&i.mode<ei&&(i.mode<16206||l!==iI))&&fI(s,s.output,s.next_out,X-s.avail_out),U-=s.avail_in,X-=s.avail_out,s.total_in+=U,s.total_out+=X,i.total+=X,4&i.wrap&&X&&(s.adler=i.check=i.flags?Pi(i.check,d,X,s.next_out-X):dp(i.check,d,X,s.next_out-X)),s.data_type=i.bits+(i.last?64:0)+(i.mode===16191?128:0)+(i.mode===16199||i.mode===16194?256:0),(U===0&&X===0||l===iI)&&tn===Fu&&(tn=AY),tn},inflateEnd:s=>{if(Hu(s))return Fs;let l=s.state;return l.window&&(l.window=null),s.state=null,Fu},inflateGetHeader:(s,l)=>{if(Hu(s))return Fs;const i=s.state;return 2&i.wrap?(i.head=l,l.done=!1,Fu):Fs},inflateSetDictionary:(s,l)=>{const i=l.length;let c,d,p;return Hu(s)?Fs:(c=s.state,c.wrap!==0&&c.mode!==16190?Fs:c.mode===16190&&(d=1,d=dp(d,l,i,0),d!==c.check)?aI:(p=fI(s,l,i,i),p?(c.mode=16210,sI):(c.havedict=1,Fu)))},inflateInfo:"pako inflate (from Nodeca project)"},MY=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const _I=Object.prototype.toString,{Z_NO_FLUSH:DY,Z_FINISH:LY,Z_OK:bp,Z_STREAM_END:H2,Z_NEED_DICT:B2,Z_STREAM_ERROR:UY,Z_DATA_ERROR:mI,Z_MEM_ERROR:PY}=Uu;function yp(s){this.options=JC({chunkSize:65536,windowBits:15,to:""},s||{});const l=this.options;l.raw&&l.windowBits>=0&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),!(l.windowBits>=0&&l.windowBits<16)||s&&s.windowBits||(l.windowBits+=32),l.windowBits>15&&l.windowBits<48&&!(15&l.windowBits)&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tI,this.strm.avail_out=0;let i=Tl.inflateInit2(this.strm,l.windowBits);if(i!==bp)throw new Error(Lu[i]);if(this.header=new MY,Tl.inflateGetHeader(this.strm,this.header),l.dictionary&&(typeof l.dictionary=="string"?l.dictionary=L2(l.dictionary):_I.call(l.dictionary)==="[object ArrayBuffer]"&&(l.dictionary=new Uint8Array(l.dictionary)),l.raw&&(i=Tl.inflateSetDictionary(this.strm,l.dictionary),i!==bp)))throw new Error(Lu[i])}function $2(s,l){const i=new yp(l);if(i.push(s),i.err)throw i.msg||Lu[i.err];return i.result}yp.prototype.push=function(s,l){const i=this.strm,c=this.options.chunkSize,d=this.options.dictionary;let p,_,g;if(this.ended)return!1;for(_=l===~~l?l:l===!0?LY:DY,_I.call(s)==="[object ArrayBuffer]"?i.input=new Uint8Array(s):i.input=s,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(c),i.next_out=0,i.avail_out=c),p=Tl.inflate(i,_),p===B2&&d&&(p=Tl.inflateSetDictionary(i,d),p===bp?p=Tl.inflate(i,_):p===mI&&(p=B2));i.avail_in>0&&p===H2&&i.state.wrap>0&&s[i.next_in]!==0;)Tl.inflateReset(i),p=Tl.inflate(i,_);switch(p){case UY:case mI:case B2:case PY:return this.onEnd(p),this.ended=!0,!1}if(g=i.avail_out,i.next_out&&(i.avail_out===0||p===H2))if(this.options.to==="string"){let b=hY(i.output,i.next_out),E=i.next_out-b,I=dY(i.output,b);i.next_out=E,i.avail_out=c-E,E&&i.output.set(i.output.subarray(b,b+E),0),this.onData(I)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(p!==bp||g!==0){if(p===H2)return p=Tl.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,!0;if(i.avail_in===0)break}}return!0},yp.prototype.onData=function(s){this.chunks.push(s)},yp.prototype.onEnd=function(s){s===bp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=eI(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};var FY={Inflate:yp,inflate:$2,inflateRaw:function(s,l){return(l=l||{}).raw=!0,$2(s,l)},ungzip:$2,constants:Uu};const{Deflate:HY,deflate:BY,deflateRaw:$Y,gzip:zY}=EY,{Inflate:VY,inflate:GY,inflateRaw:qY,ungzip:jY}=FY;var Go,KY={Deflate:HY,deflate:BY,deflateRaw:$Y,gzip:zY,Inflate:VY,inflate:GY,inflateRaw:qY,ungzip:jY,constants:Uu};(function(s){s.CONNECTING="CONNECTING",s.OPEN="OPEN",s.CLOSED="CLOSED"})(Go||(Go={}));var cr,WY=function(s){function l(i,c){var d=c.sdkState,p=c.dispatcher,_=c.logger,g=s.call(this)||this;return g.lastActive=0,g._iid=i,g._sdkState=d,g._dispatcher=p,g._logger=_,g}return _e(l,s),Object.defineProperty(l.prototype,"isOpen",{get:function(){return this.connectionState===Go.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Go.CONNECTING;case 1:return Go.OPEN}return Go.CLOSED},enumerable:!1,configurable:!0}),l.prototype._handleMessage=function(i){var c=this;i.split(`
`).forEach(function(d){if(d){var p=$r.createFromRawMessage(c._iid,d);c._logger.debug("receive websocket event",p),p.code==="LOGI"?c.dispatch("message",p):p.code==="PONG"?c.dispatch("pong"):p.code==="EXPR"?p.payload&&p.payload.expires_in>=0&&c._dispatcher.dispatch(new Tm):p.code==="NOOP"||c.dispatch("message",p)}})},l.prototype.connect=function(i){var c=this;this._ws=new WebSocket(i),this._ws.onopen=function(){c._logger.debug("websocket open"),c.dispatch("open")},this._ws.onmessage=function(d){return J(c,void 0,void 0,function(){var p,_,g=this;return Z(this,function(b){return!((_=this._sdkState.websocket)===null||_===void 0)&&_.compression?d.data instanceof Blob?((p=new FileReader).readAsArrayBuffer(d.data),p.onloadend=function(){return J(g,void 0,void 0,function(){var E;return Z(this,function(I){switch(I.label){case 0:return[4,(U=p.result,J(void 0,void 0,void 0,function(){var X;return Z(this,function(W){return X=KY.ungzip(U),[2,String.fromCharCode.apply(null,X)]})}))];case 1:return E=I.sent(),this._handleMessage(E),[2]}var U})})}):typeof d.data=="string"&&this._handleMessage(d.data):this._handleMessage(d.data),[2]})})},this._ws.onerror=function(){c._logger.debug("websocket error"),c.dispatch("error",We.networkError)},this._ws.onclose=function(){c._logger.debug("websocket close"),c.dispatch("close")},this.lastActive=Date.now()},l.prototype.disconnect=function(){var i=this;return new Promise(function(c){i._logger.debug("websocket disconnect"),i._ws&&i.connectionState!==Go.CLOSED?(i._ws.onopen=Mt,i._ws.onmessage=Mt,i._ws.onerror=Mt,i._ws.onclose=function(){i.dispatch("close"),c()},i._ws.close(),i._ws=null):c()})},l.prototype.send=function(i){if(!this._ws)throw We.connectionClosed;i.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",i),this._ws.send(i.convertToMessage())},l.prototype.error=function(i){this._logger.debug("websocket error",i),this.dispatch("error",i)},l}(ap),ho=function(s){function l(i){var c,d=i.code,p=i.ackRequired,_=i.payload,g=_===void 0?null:_,b=this;return(b=s.call(this)||this).code=d,b.payload=g,b.requestId=(c=b.payload.req_id)!==null&&c!==void 0?c:vh(),b.ackRequired=p,b.payload.req_id=b.requestId,b}return _e(l,s),l.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},l}(ki),vI=function(s){function l(i){var c=i.all,d=i.custom_types,p=i.ts,_=s.call(this)||this;return _.all=c,_.customTypes=d,_.ts=p,_}return _e(l,s),l}(ki),La=function(){var s=this;this.promise=new Promise(function(l,i){s.resolve=l,s.reject=i})},QY=function(){function s(l,i){var c=i.auth,d=i.sdkState,p=i.dispatcher,_=i.logger,g=this;this._ackStateMap=new Map,this._sdkState=d,this._dispatcher=p,this._logger=_,this.apiClient=new jQ(l,{auth:c,sdkState:d,dispatcher:p,logger:_}),this.websocketClient=new WY(l,{sdkState:d,dispatcher:p,logger:_}),this.websocketClient.on("message",function(b){if(b.payload.unread_cnt&&g._dispatcher.dispatch(new vI(b.payload.unread_cnt)),b.requestId){if(g._ackStateMap.has(b.requestId)){var E=g._ackStateMap.get(b.requestId);b.code!=="EROR"?E.resolve(b):E.reject(new We({code:b.payload.code,message:b.payload.message}))}}else g._dispatcher.dispatch(b)}).on("close",function(){g._ackStateMap.forEach(function(b){b.reject(We.connectionClosed)}),g._ackStateMap.clear()})}return s.prototype._sendApiRequest=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this.apiClient.send(l)];case 1:return[2,i.sent()]}})})},s.prototype._sendWebsocketRequest=function(l){return J(this,void 0,void 0,function(){var i,c,d,p=this;return Z(this,function(_){if(i=new La,l.ackRequired){c=null,d=function(g,b){g===void 0&&(g=null),b===void 0&&(b=null),p._ackStateMap.has(l.requestId)&&(p._ackStateMap.delete(l.requestId),c&&(clearTimeout(c),c=null),g?(p._logger.debug("fail websocket request",g),i.reject(g)):(p._logger.debug("receive websocket ack",l.requestId),i.resolve(b)))};try{c=setTimeout(function(){return d(We.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(l.requestId,{resolve:function(g){return d(null,g)},reject:function(g){return d(g)}}),this.websocketClient.send(l)}catch(g){d(g)}}else try{this.websocketClient.send(l),i.resolve(null)}catch(g){i.reject(g)}return[2,i.promise]})})},s.prototype.send=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return l instanceof An?[4,this._sendApiRequest(l)]:[3,2];case 1:case 3:return[2,i.sent()];case 2:return l instanceof ho?[4,this._sendWebsocketRequest(l)]:[3,4];case 4:throw We.invalidParameters}})})},s.prototype.cancel=function(l){this.apiClient.cancel(l)},s.prototype.cancelAll=function(){this.apiClient.cancelAll()},s}();(function(s){s[s.NONE=0]="NONE",s[s.INITIALIZED=1]="INITIALIZED",s[s.CONNECTING=2]="CONNECTING",s[s.CONNECTED=3]="CONNECTED",s[s.RECONNECTING=4]="RECONNECTING",s[s.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",s[s.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",s[s.LOGOUT=7]="LOGOUT"})(cr||(cr={}));var Bu=function(s){function l(i){var c=i.stateType,d=s.call(this)||this;return d.stateType=c,d}return _e(l,s),l}(ki),YY=function(){function s(l,i){var c=i.auth,d=i.sdkState,p=i.dispatcher,_=i.logger,g=this;this._currentConnectionStateType=cr.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new QY(l,{auth:c,sdkState:d,dispatcher:p,logger:_}),this._auth=c,this._logger=_,this._dispatcher=p,this._dispatcher.on(function(b){if(b instanceof Bu){var E=b.stateType;switch(g._currentConnectionStateType=E,E){case cr.CONNECTED:var I=g._lazyCallQueue;g._lazyCallQueue=[],I.forEach(function(U){return J(g,void 0,void 0,function(){var X,W,de,se,fe;return Z(this,function(Ae){switch(Ae.label){case 0:X=U.command,W=U.deferred,de=U.timeout,clearTimeout(de),Ae.label=1;case 1:return Ae.trys.push([1,3,,4]),[4,this.send(X)];case 2:return se=Ae.sent(),W.resolve(se),[3,4];case 3:return fe=Ae.sent(),W.reject(fe),[3,4];case 4:return[2]}})})});break;case cr.INITIALIZED:case cr.INTERNAL_DISCONNECTED:case cr.EXTERNAL_DISCONNECTED:case cr.LOGOUT:I=g._lazyCallQueue,g._lazyCallQueue=[],I.forEach(function(U){return J(g,void 0,void 0,function(){var X,W;return Z(this,function(de){return X=U.deferred,W=U.timeout,clearTimeout(W),this._auth&&this._auth.hasSession?X.reject(We.connectionClosed):X.reject(We.connectionRequired),[2]})})})}}})}return Object.defineProperty(s.prototype,"isReady",{get:function(){return this._currentConnectionStateType===cr.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===cr.CONNECTING||this._currentConnectionStateType===cr.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype.send=function(l){return J(this,void 0,void 0,function(){var i,c,d=this;return Z(this,function(p){switch(p.label){case 0:return l instanceof ho?this.isReady?(this._logger.debug("send websocket request",l),[4,this.commandRouter.send(l)]):[3,2]:[3,4];case 1:case 5:return[2,p.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",l),i=new La,this._lazyCallQueue.push({command:l,deferred:i,timeout:setTimeout(function(){return d.timeout(l.requestId)},1e4)}),[2,i.promise];throw this._logger.debug("fail websocket request"),We.connectionRequired;case 3:return[3,7];case 4:return l instanceof An?this._auth.hasSession?(this._logger.debug("send api request",l),[4,this.commandRouter.send(l)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",l),i=new La,this._lazyCallQueue.push({command:l,deferred:i,timeout:setTimeout(function(){return d.timeout(l.requestId)},1e4)}),[2,i.promise];throw c=We.connectionRequired,this._logger.debug("fail api request",c),c;case 7:return[2]}})})},s.prototype.forceSend=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this._logger.debug("send forced request",l),[4,this.commandRouter.send(l)];case 1:return[2,i.sent()]}})})},s.prototype.timeout=function(l){this._logger.debug("timeout request",l);var i=this._lazyCallQueue.findIndex(function(c){return c.command.requestId===l});i>-1&&(this._lazyCallQueue[i].deferred.reject(We.connectionRequired),this._lazyCallQueue.splice(i,1))},s.prototype.cancel=function(l){this._logger.debug("cancel api request",l),this.commandRouter.cancel(l)},s.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},s}(),z2=function(){function s(l){var i=l.type,c=l.token;this.type=i,this.token=c}return s.payloadify=function(l){return{type:l.type,token:l.token}},s}(),er="/".concat("v3","/users"),XY="/".concat("v3","/storage/file"),gI="/".concat("v3","/group_channels"),$u="/".concat("v3","/open_channels"),ZY="/".concat("v3","/sdk/open_channels"),JY="/".concat("v3","/search"),V2="/".concat("v3","/report"),eX="/".concat("v3","/emojis"),bI="/".concat("v3","/emoji_categories"),po="/".concat("v3","/polls"),nX="/".concat("v3","/sdk/statistics"),tX=function(s){function l(i){var c=i.userId,d=i.authToken,p=i.expiringSession,_=p===void 0||p,g=s.call(this)||this;return g.path="".concat(er,"/").concat(c,"/session_key"),g.method=In.POST,g.params={token:d,expiring_session:!!_},g.requireAuth=!1,g}return _e(l,s),l}(An),rX=function(s){function l(i){var c=i.authToken,d=i.expiringSession,p=d===void 0||d,_=i.requestId,g=_===void 0?null:_;return s.call(this,{code:"LOGI",payload:{token:c,expiring_session:p?1:0,req_id:g},ackRequired:!0})||this}return _e(l,s),l}(ho),iX=function(s){function l(i,c){var d=s.call(this,i,c)||this,p=c.key;return d.key=p,d}return _e(l,s),l}(Un),aX=function(s){function l(i,c,d){var p=s.call(this,i,"LOGI",d)||this;return p.error=null,p.newKey=d.new_key,p.error=d.error?new We(d.error):null,p}return _e(l,s),l}($r),yI=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return _e(l,s),l}(ki),qo=function(s){return J(void 0,void 0,void 0,function(){return Z(this,function(l){return[2,new Promise(function(i){return setTimeout(i,s)})]})})},EI=function(){function s(){}return s.prototype.calcTimeout=function(){return 0},s}(),G2=function(s,l,i){return i===void 0&&(i=new EI),J(void 0,void 0,void 0,function(){var c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:c=0,d=null,p=function(I){return I===void 0&&(I=null),d=I??new Error("Halted")},_=function(){c=0},E.label=1;case 1:if(!(l===-1||c<l))return[3,9];E.label=2;case 2:return E.trys.push([2,4,,8]),[4,s(p,_)];case 3:if(g=E.sent(),d)throw d;return[2,g];case 4:if(b=E.sent(),d)return[3,6];if(++c===l)throw b;return[4,qo(i.calcTimeout(c))];case 5:return E.sent(),[3,7];case 6:throw d;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},Ht=function(s){return J(void 0,void 0,void 0,function(){var l;return Z(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s()];case 1:return i.sent(),[3,3];case 2:if(!((l=i.sent())instanceof We))throw l;return l.throwOutside(),[3,3];case 3:return[2]}})})},Eh=function(s){return J(void 0,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,s()];case 1:case 2:return l.sent(),[3,3];case 3:return[2]}})})},q2=new WeakMap,sX=function(s){function l(i){var c=i.auth,d=i.cacheContext,p=i.sdkState,_=i.dispatcher,g=i.requestQueue,b=i.logger,E=s.call(this)||this;return E._currentConnectionStateType=cr.INITIALIZED,E._deviceTokenCacheEnabled=!1,E._isRefreshingAuthToken=!1,E._isRefreshingSessionKey=!1,E.auth=c,E._cacheContext=d,E._sdkState=p,E._dispatcher=_,E._requestQueue=g,E._logger=b,E._deviceTokens=[],E._dispatcher.on(function(I){if(I instanceof Bu){var U=I.stateType;E._currentConnectionStateType=U}else I instanceof Tm&&E.handler&&(E._logger.debug("session expired"),E.handler.onSessionExpired(),E.refresh())}),E}return _e(l,s),Object.defineProperty(l.prototype,"ekey",{get:function(){return q2.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),l.prototype.indexOfDeviceToken=function(i,c){return this._deviceTokens.findIndex(function(d){return d.type===i&&d.token===c})},l.prototype.hasDeviceToken=function(i,c){return!1},l.prototype.createRefreshWebsocketCommand=function(i,c){return c===void 0&&(c=null),new rX({authToken:i,expiringSession:!0,requestId:c})},l.prototype._refreshSessionKeyByWebSocket=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return c=this.createRefreshWebsocketCommand(i),[4,this._requestQueue.forceSend(c)];case 1:if(d=b.sent(),p=d.as(aX),_=p.newKey,g=p.error)throw g;return this.auth.sessionKey=_??this.auth.sessionKey,[2]}})})},l.prototype._refreshSessionKeyByApi=function(i){return J(this,void 0,void 0,function(){var c,d=this;return Z(this,function(p){switch(p.label){case 0:return c=new tX({userId:this._sdkState.userId,authToken:i,expiringSession:!0}),[4,G2(function(_){return J(d,void 0,void 0,function(){var g,b,E;return Z(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(c)];case 1:return g=I.sent(),b=g.as(iX).key,this.auth.sessionKey=b,[3,3];case 2:if(E=I.sent(),!this._isSessionRelatedError(E))throw E;return _(E),[3,3];case 3:return[2]}})})},3)];case 1:return p.sent(),[2]}})})},l.prototype._refreshSessionKey=function(i,c){return c===void 0&&(c=!0),J(this,void 0,void 0,function(){var d,p,_,g;return Z(this,function(b){switch(b.label){case 0:if(this._currentConnectionStateType!==cr.CONNECTED)return[3,10];b.label=1;case 1:return b.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(i)];case 2:return b.sent(),this.complete(),[2];case 3:return d=b.sent(),this._isSessionRelatedError(d)&&c?(p=this.auth,[4,this._receiveNewAuthToken()]):[3,9];case 4:return p.authToken=b.sent(),this.auth.authToken?[4,this._refreshSessionKey(this.auth.authToken,!1)]:[3,6];case 5:return b.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:b.sent(),this.close(),b.label=8;case 8:return[2];case 9:return[3,10];case 10:return b.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(i)];case 11:return b.sent(),this.complete(),[3,22];case 12:return _=b.sent(),this._isSessionRelatedError(_)?c?(g=this.auth,[4,this._receiveNewAuthToken()]):[3,18]:[3,20];case 13:return g.authToken=b.sent(),this.auth.authToken?[4,this._refreshSessionKeyByApi(this.auth.authToken)]:[3,15];case 14:return b.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:b.sent(),this.close(),b.label=17;case 17:return[3,19];case 18:throw _;case 19:return[3,21];case 20:throw _;case 21:return[3,22];case 22:return[2]}})})},l.prototype._receiveNewAuthToken=function(){var i=this,c=new La;return Ht(function(){return J(i,void 0,void 0,function(){var d,p,_=this;return Z(this,function(g){return this._isRefreshingAuthToken=!0,this.auth.clear(),d=null,p=function(){d&&(clearTimeout(d),d=null)},d=setTimeout(function(){_._isRefreshingAuthToken=!1,c.reject()},1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired(function(b){p(),_._isRefreshingAuthToken&&(_._isRefreshingAuthToken=!1,_.dispatch("refresh-authtoken"),c.resolve(b))},function(b){p(),_._isRefreshingAuthToken=!1,c.reject(b)}),[2]})})}),c.promise},l.prototype._isSessionRelatedError=function(i){return i instanceof We&&(i.isSessionKeyExpiredError||i.isSessionTokenExpiredError)},Object.defineProperty(l.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),l.prototype.login=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return this.auth.sessionKey=i.key,q2.set(this,i.ekey),c=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,c.get("sendbird@devicetokens")]:[3,4];case 1:return!(d=p.sent())||d.lastDeletedAt<i.deviceTokenLastDeletedAt?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=i.deviceTokenLastDeletedAt,[4,this.saveDeviceToken()]):[3,3];case 2:return p.sent(),[3,4];case 3:this._deviceTokens=d.tokens.map(function(_){return new z2(z2.payloadify(_))}),this._deviceTokenLastDeletedAt=d.lastDeletedAt,p.label=4;case 4:return[2]}})})},l.prototype.complete=function(){var i=this;this.dispatch("refresh"),Ht(function(){return J(i,void 0,void 0,function(){return Z(this,function(c){return this._logger.debug("session refreshed"),this.handler.onSessionRefreshed(),[2]})})})},l.prototype.error=function(i){var c=this;Ht(function(){return J(c,void 0,void 0,function(){return Z(this,function(d){return this.handler.onSessionError(i),[2]})})})},l.prototype.close=function(){var i=this;this.dispatch("close"),Ht(function(){return J(i,void 0,void 0,function(){return Z(this,function(c){return this._logger.debug("session closed"),this.handler.onSessionClosed(),[2]})})})},l.prototype.refresh=function(){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];d.label=1;case 1:return d.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(i=d.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=i,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return d.sent(),this.close(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw d.sent(),c=We.sessionTokenRequestFailed,this._dispatcher.dispatch(new yI),this.error(c),this._isRefreshingSessionKey=!1,c;case 7:return d.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return d.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw d.sent(),c=We.sessionTokenRefreshFailed,this._dispatcher.dispatch(new yI),this.error(c),this._isRefreshingSessionKey=!1,c;case 10:return[2]}})})},l.prototype.setDeviceToken=function(i,c){return this.indexOfDeviceToken(i,c)<0&&(this._deviceTokens.push(new z2({type:i,token:c})),!0)},l.prototype.unsetDeviceToken=function(i,c){var d=this.indexOfDeviceToken(i,c);d>=0&&this._deviceTokens.splice(d,1)},l.prototype.unsetDeviceTokens=function(i){this._deviceTokens=this._deviceTokens.filter(function(c){return c.type!==i})},l.prototype.setDeviceTokenDeletedAt=function(i){i>0&&(this._deviceTokenLastDeletedAt=i)},l.prototype.saveDeviceToken=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set("sendbird@devicetokens",{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},l.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this.currentUser=null,this.auth.clear(),q2.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return i.sent(),[2]}})})},l}(ap),zu=function(){function s(){this.type=cr.NONE,this.name="none"}return s.prototype.run=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2]})})},s.prototype.onConnect=function(l,i){return J(this,void 0,void 0,function(){return Z(this,function(c){return[2]})})},s.prototype.onReconnect=function(l,i){return i.resetReconnectCount,J(this,void 0,void 0,function(){return Z(this,function(c){return[2]})})},s.prototype.onDisconnect=function(l,i){return i.error,i.autoReconnect,J(this,void 0,void 0,function(){return Z(this,function(c){return[2]})})},s.prototype.onDisconnectWebSocket=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2]})})},s.prototype.onLogout=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2]})})},s}(),Vu=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=cr.LOGOUT,i.name="logout",i}return _e(l,s),l.prototype.run=function(i){return J(this,void 0,void 0,function(){var c,d,p=this;return Z(this,function(_){switch(_.label){case 0:return c=Date.now(),d=i.sdkState.userId,[4,i.logout()];case 1:return _.sent(),[4,i.changeState(new j2,c)];case 2:return _.sent(),Ht(function(){return J(p,void 0,void 0,function(){return Z(this,function(g){return i.connectionHandlers.forEach(function(b){b.onDisconnected(d)}),[2]})})}),[2]}})})},l}(zu),Mm=function(s){function l(){var i=s.call(this)||this;return i.type=cr.EXTERNAL_DISCONNECTED,i.name="externaldisconnected",i}return _e(l,s),l.prototype.run=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){switch(c.label){case 0:return[4,i.disconnect()];case 1:return c.sent(),[2]}})})},l.prototype.onConnect=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Date.now(),[4,i.disconnect()];case 1:return p.sent(),[4,i.changeState(new Um({authToken:c}),d)];case 2:return p.sent(),[2]}})})},l.prototype.onReconnect=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new Lm,c)];case 1:return d.sent(),[2]}})})},l.prototype.onLogout=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new Vu,c)];case 1:return d.sent(),[2]}})})},l}(zu),Dm=function(s){function l(i){var c=i.autoReconnect,d=s.call(this)||this;return d.type=cr.INTERNAL_DISCONNECTED,d.name="internaldisconnected",d._autoReconnect=!1,d._autoReconnect=c,d}return _e(l,s),l.prototype.run=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.disconnect()];case 1:return d.sent(),this._autoReconnect?[4,i.changeState(new Lm,c)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})},l.prototype.onConnect=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Date.now(),[4,i.disconnect()];case 1:return p.sent(),[4,i.changeState(new Um({authToken:c}),d)];case 2:return p.sent(),[2]}})})},l.prototype.onReconnect=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new Lm,c)];case 1:return d.sent(),[2]}})})},l.prototype.onDisconnectWebSocket=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new Mm,c)];case 1:return d.sent(),[2]}})})},l.prototype.onLogout=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new Vu,c)];case 1:return d.sent(),[2]}})})},l}(zu),Lm=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=cr.RECONNECTING,i.name="reconnecting",i._haltConnect=null,i._resetConnect=null,i._callbacks=[],i}return _e(l,s),l.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=null)},l.prototype._flushCallbacks=function(i){i===void 0&&(i=null),this._haltConnect=null,this._resetConnect=null,this._callbacks.forEach(function(c){return c(i)})},l.prototype.run=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b,E=this;return Z(this,function(I){switch(I.label){case 0:c=Date.now(),d=new La,this._callbacks.push(function(U){return U?d.reject(U):d.resolve()}),Ht(function(){return J(E,void 0,void 0,function(){return Z(this,function(U){return i.connectionHandlers.forEach(function(X){X.onReconnectStarted()}),[2]})})}),I.label=1;case 1:return I.trys.push([1,4,,9]),p=i.sdkState.websocket,_=p.reconnectMaxRetry,g=p.reconnectRetryStrategy,[4,G2(function(U,X){return J(E,void 0,void 0,function(){var W;return Z(this,function(de){switch(de.label){case 0:this._haltConnect=U,this._resetConnect=X,de.label=1;case 1:return de.trys.push([1,3,,4]),[4,i.connect()];case 2:return de.sent(),[3,4];case 3:if(W=de.sent(),i.clearLoginTimer(),W instanceof We&&W.code===Rt.CONNECTION_CANCELED)return U(W),[2];throw W;case 4:return[2]}})})},_,g)];case 2:return I.sent(),[4,i.changeState(new wI,c)];case 3:return I.sent(),Ht(function(){return J(E,void 0,void 0,function(){return Z(this,function(U){return this._flushCallbacks(null),i.connectionHandlers.forEach(function(X){X.onReconnectSucceeded()}),[2]})})}),[3,9];case 4:return b=I.sent(),Du(b)?[3,7]:b instanceof We?b.code===Rt.CONNECTION_CANCELED?[3,6]:[4,i.changeState(new Dm({autoReconnect:!1}),c)]:[3,6];case 5:I.sent(),I.label=6;case 6:return Ht(function(){return J(E,void 0,void 0,function(){return Z(this,function(U){return this._flushCallbacks(b),i.connectionHandlers.forEach(function(X){X.onReconnectFailed()}),[2]})})}),[3,8];case 7:throw b;case 8:return[3,9];case 9:return[2,d.promise]}})})},l.prototype.onConnect=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){return d=new La,this._halt(We.connectionCanceled),i.cancelConnectForRetry(),this._callbacks.push(function(){var _=Date.now();i.changeState(new Um({authToken:c}),_).then(function(){d.resolve()}).catch(function(g){d.reject(g)})}),[2,d.promise]})})},l.prototype.onReconnect=function(i,c){var d=c.resetReconnectCount,p=d!==void 0&&d;return J(this,void 0,void 0,function(){var _;return Z(this,function(g){return _=new La,this._resetConnect&&p&&this._resetConnect(),this._callbacks.push(function(b){return b?_.reject(b):_.resolve()}),[2,_.promise]})})},l.prototype.onDisconnect=function(i,c){c.error;var d=c.autoReconnect,p=d===void 0||d;return J(this,void 0,void 0,function(){var _;return Z(this,function(g){switch(g.label){case 0:return _=Date.now(),this._halt(We.connectionCanceled),[4,i.changeState(new Dm({autoReconnect:p}),_)];case 1:return g.sent(),[2]}})})},l.prototype.onDisconnectWebSocket=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),this._halt(We.connectionCanceled),[4,i.changeState(new Mm,c)];case 1:return d.sent(),[2]}})})},l.prototype.onLogout=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),this._halt(We.connectionCanceled),[4,i.changeState(new Vu,c)];case 1:return d.sent(),[2]}})})},l}(zu),wI=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=cr.CONNECTED,i.name="connected",i}return _e(l,s),l.prototype.onReconnect=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.disconnect()];case 1:return d.sent(),[4,i.changeState(new Lm,c)];case 2:return d.sent(),[2]}})})},l.prototype.onDisconnect=function(i,c){var d=c.autoReconnect;return J(this,void 0,void 0,function(){var p;return Z(this,function(_){switch(_.label){case 0:return p=Date.now(),[4,i.changeState(new Dm({autoReconnect:d}),p)];case 1:return _.sent(),[2]}})})},l.prototype.onDisconnectWebSocket=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new Mm,c)];case 1:return d.sent(),[2]}})})},l.prototype.onLogout=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),[4,i.changeState(new Vu,c)];case 1:return d.sent(),[2]}})})},l}(zu),Um=function(s){function l(i){var c=i.authToken,d=s.call(this)||this;return d.type=cr.CONNECTING,d.name="connecting",d._authToken="",d._haltConnect=null,d._callbacks=[],d._authToken=c,d}return _e(l,s),l.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=null)},l.prototype._flushCallbacks=function(i){i===void 0&&(i=null),this._haltConnect=null,this._callbacks.forEach(function(c){return c(i)})},l.prototype.run=function(i){return J(this,void 0,void 0,function(){var c,d,p,_=this;return Z(this,function(g){switch(g.label){case 0:c=Date.now(),d=new La,this._callbacks.push(function(b){return b?d.reject(b):d.resolve()}),g.label=1;case 1:return g.trys.push([1,4,,10]),[4,G2(function(b){return J(_,void 0,void 0,function(){var E;return Z(this,function(I){switch(I.label){case 0:this._haltConnect=b,I.label=1;case 1:return I.trys.push([1,3,,4]),[4,i.connect(this._authToken)];case 2:return I.sent(),[3,4];case 3:if(E=I.sent(),i.clearLoginTimer(),E instanceof We&&E.code===Rt.CONNECTION_CANCELED)return b(E),[2];throw E;case 4:return[2]}})})},i.sdkState.websocket.connectMaxRetry)];case 2:return g.sent(),[4,i.changeState(new wI,c)];case 3:return g.sent(),Ht(function(){return J(_,void 0,void 0,function(){return Z(this,function(b){return this._flushCallbacks(null),i.connectionHandlers.forEach(function(E){E.onConnected(i.sdkState.userId)}),[2]})})}),[3,10];case 4:return p=g.sent(),Du(p)?[3,8]:[4,i.disconnect()];case 5:return g.sent(),p instanceof We?p.code===Rt.CONNECTION_CANCELED?[3,7]:[4,i.changeState(new j2,c)]:[3,7];case 6:g.sent(),g.label=7;case 7:return Ht(function(){return J(_,void 0,void 0,function(){return Z(this,function(b){return this._flushCallbacks(p),[2]})})}),[3,9];case 8:throw p;case 9:return[3,10];case 10:return[2,d.promise]}})})},l.prototype.onConnect=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){return c=new La,this._callbacks.push(function(p){return p?c.reject(p):c.resolve()}),[2,c.promise]})})},l.prototype.onDisconnect=function(i,c){var d=c.error,p=d===void 0?null:d,_=c.autoReconnect;return J(this,void 0,void 0,function(){var g;return Z(this,function(b){switch(b.label){case 0:return g=Date.now(),this._halt(p??We.connectionCanceled),i.hasSession?[4,i.changeState(new Dm({autoReconnect:_}),g)]:[3,2];case 1:return b.sent(),[3,4];case 2:return[4,i.changeState(new Vu,g)];case 3:b.sent(),b.label=4;case 4:return[2]}})})},l.prototype.onDisconnectWebSocket=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),this._halt(We.connectionCanceled),i.hasSession?[4,i.changeState(new Mm,c)]:[3,2];case 1:return d.sent(),[3,4];case 2:return[4,i.changeState(new Vu,c)];case 3:d.sent(),d.label=4;case 4:return[2]}})})},l.prototype.onLogout=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=Date.now(),this._halt(We.connectionCanceled),[4,i.changeState(new Vu,c)];case 1:return d.sent(),[2]}})})},l}(zu),j2=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=cr.INITIALIZED,i.name="initialized",i}return _e(l,s),l.prototype.onConnect=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Date.now(),[4,i.changeState(new Um({authToken:c}),d)];case 1:return p.sent(),[2]}})})},l}(zu),oX=function(s){function l(){return s.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return _e(l,s),l}(ho),lX=function(){function s(l){var i=l.pingDelegate,c=l.sdkState,d=l.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=i,this.sdkState=c,this._logger=d}return Object.defineProperty(s.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),s.prototype.ping=function(){var l,i=this,c=new oX;try{var d=(l=this.sdkState.websocket.pongTimeout)!==null&&l!==void 0?l:5e3;this._pingTimeoutTimer=setTimeout(function(){i._logger.debug("pinger.ping() timeout"),i.pingDelegate.error(null)},d),this.pingDelegate.send(c),this._logger.debug("pinger.ping()")}catch(p){this._logger.debug("pinger.ping() error",p),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return c},s.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},s.prototype.refreshTimer=function(){var l,i=this;this._logger.debug("pinger.refreshTimer()");var c=(l=this.sdkState.websocket.pingInterval)!==null&&l!==void 0?l:15e3;this.stop(),this._pingTimer=setInterval(function(){i.ping()},c)},s.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},s.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},s}(),xI=function(){function s(l){l===void 0&&(l={}),this.emojiHash=l.emoji_hash||"",this.uploadSizeLimit=l.file_upload_size_limit?1048576*l.file_upload_size_limit:Number.MAX_SAFE_INTEGER,this.useReaction=!!l.use_reaction,this.applicationAttributes=l.application_attributes||[],this.premiumFeatureList=l.premium_feature_list||[],this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history")}return s.payloadify=function(l){return{emoji_hash:l.emojiHash,file_upload_size_limit:l.uploadSizeLimit/1048576,application_attributes:l.applicationAttributes,premium_feature_list:l.premiumFeatureList,use_reaction:l.useReaction}},s}(),jo=function(){function s(l){this._iid="",this._iid=l}return s.payloadify=function(l){return l?{}:null},s}(),cX=function(s){function l(i){var c=i.userId,d=i.metadata,p=s.call(this)||this;return p.method=In.POST,p.path="".concat(er,"/").concat(c,"/metadata"),p.params={metadata:d},p}return _e(l,s),l}(An),uX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.metaData=c,d}return _e(l,s),l}(Un),dX=function(s){function l(i){var c=i.userId,d=i.metadata,p=i.upsert,_=s.call(this)||this;return _.method=In.PUT,_.path="".concat(er,"/").concat(c,"/metadata"),_.params={metadata:d,upsert:p},_}return _e(l,s),l}(An),hX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.metadata=c,d}return _e(l,s),l}(Un),pX=function(s){function l(i){var c=i.userId,d=i.metadataKey,p=s.call(this)||this;return p.method=In.DELETE,p.path="".concat(er,"/").concat(c,"/metadata/").concat(d),p}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var fX=function(s){function l(i){var c=i.userId,d=s.call(this)||this;return d.method=In.DELETE,d.path="".concat(er,"/").concat(c,"/metadata"),d}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var wh,Pm=function(s,l){l===void 0&&(l=null);var i=JSON.parse(JSON.stringify(s));return i._iid&&delete i._iid,l&&l(i),i},Ep=function(s,l){l===void 0&&(l=null);var i=JSON.parse(JSON.stringify(s));return l&&l(i),i},Pn=function(s){return{do:function(l){s||l()},throw:function(l){if(!s)throw l}}};(function(s){s.ONLINE="online",s.OFFLINE="offline",s.NON_AVAILABLE="nonavailable"})(wh||(wh={}));var Gu,Dt=function(s){function l(i,c){var d,p,_,g,b,E,I,U,X,W,de,se,fe=this;return(fe=s.call(this,i)||this).userId=(p=(d=c.guest_id)!==null&&d!==void 0?d:c.user_id)!==null&&p!==void 0?p:"",fe.nickname=(g=(_=c.nickname)!==null&&_!==void 0?_:c.name)!==null&&g!==void 0?g:"",fe.plainProfileUrl=(E=(b=c.profile_url)!==null&&b!==void 0?b:c.image)!==null&&E!==void 0?E:"",fe.requireAuth=(I=c.require_auth_for_profile_image)!==null&&I!==void 0&&I,fe.metaData=(U=c.metadata)!==null&&U!==void 0?U:{},fe.connectionStatus=wh.NON_AVAILABLE,kr(wh,c.is_online)?fe.connectionStatus=c.is_online:ze("boolean",c.is_online)&&(fe.connectionStatus=c.is_online?wh.ONLINE:wh.OFFLINE),fe.isActive=(X=c.is_active)===null||X===void 0||X,fe.lastSeenAt=(W=c.last_seen_at)!==null&&W!==void 0?W:null,fe.preferredLanguages=c.preferred_languages?Fr([],xr(c.preferred_languages),!1):null,fe.friendDiscoveryKey=(de=c.friend_discovery_key)!==null&&de!==void 0?de:null,fe.friendName=(se=c.friend_name)!==null&&se!==void 0?se:null,fe}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),{user_id:i.userId,nickname:i.nickname,profile_url:i.plainProfileUrl,require_auth_for_profile_image:i.requireAuth,metadata:i.metaData,is_online:i.connectionStatus,is_active:i.isActive,last_seen_at:i.lastSeenAt,preferred_languages:i.preferredLanguages,friend_discovery_key:i.friendDiscoveryKey,friend_name:i.friendName})):null},Object.defineProperty(l.prototype,"profileUrl",{get:function(){var i=an.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(i.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),l.prototype.serialize=function(){return Pm(this)},l.prototype._isValidMetaData=function(i){return!Array.isArray(i)&&Object.keys(i).length>0&&Object.keys(i).map(function(c){return i[c]}).every(function(c){return ze("string",c)})},l.prototype._applyMetaData=function(i,c){var d=this;c===void 0&&(c=!1),Object.keys(i).forEach(function(p){c?delete d.metaData[p]:d.metaData[p]=i[p]})},l.prototype.createMetaData=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return Pn(this._isValidMetaData(i)).throw(We.invalidParameters),c=an.of(this._iid),d=c.sdkState,p=c.requestQueue,_=new cX({userId:d.userId,metadata:i}),[4,p.send(_)];case 1:return g=E.sent(),b=g.as(uX).metaData,this._applyMetaData(b),[2,this.metaData]}})})},l.prototype.updateMetaData=function(i,c){return c===void 0&&(c=!1),J(this,void 0,void 0,function(){var d,p,_,g,b,E;return Z(this,function(I){switch(I.label){case 0:return Pn(this._isValidMetaData(i)).throw(We.invalidParameters),d=an.of(this._iid),p=d.sdkState,_=d.requestQueue,g=new dX({userId:p.userId,metadata:i,upsert:c}),[4,_.send(g)];case 1:return b=I.sent(),E=b.as(hX).metadata,this._applyMetaData(E),[2,this.metaData]}})})},l.prototype.deleteMetaData=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return Pn(ze("string",i)).throw(We.invalidParameters),c=an.of(this._iid),d=c.sdkState,p=c.requestQueue,_=new pX({userId:d.userId,metadataKey:i}),[4,p.send(_)];case 1:return b.sent(),this._applyMetaData(((g={})[i]=!0,g),!0),[2,this.metaData]}})})},l.prototype.deleteAllMetaData=function(){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new fX({userId:c.userId}),[4,d.send(p)];case 1:return _.sent(),this.metaData={},[2]}})})},l}(jo),kI=function(s){function l(i){var c=i.userProfile,d=s.call(this)||this;return d.userProfile=c,d}return _e(l,s),l}(ki),K2=function(){function s(l,i){var c,d,p,_,g,b,E,I,U,X,W,de,se,fe;this._iid=l,this.appInfo=new xI(i),this.user=new Dt(l,i),this.connectedAt=(c=i.login_ts)!==null&&c!==void 0?c:0,this.firstConnectedAt=0,this.pingInterval=(d=i.ping_interval)!==null&&d!==void 0?d:15e3,this.pongTimeout=(p=i.pong_timeout)!==null&&p!==void 0?p:5e3,this.reconnectInterval=(g=(_=i.reconnect)===null||_===void 0?void 0:_.interval)!==null&&g!==void 0?g:3e3,this.reconnectMaxInterval=(E=(b=i.reconnect)===null||b===void 0?void 0:b.max_interval)!==null&&E!==void 0?E:6e4,this.reconnectRetryCount=(U=(I=i.reconnect)===null||I===void 0?void 0:I.retry_cnt)!==null&&U!==void 0?U:5,this.reconnectIntervalMultiple=(W=(X=i.reconnect)===null||X===void 0?void 0:X.mul)!==null&&W!==void 0?W:2,this.maxUnreadCountOnSuperGroup=(de=i.max_unread_cnt_on_super_group)!==null&&de!==void 0?de:100,this.profileImageEncryption=!!i.profile_image_encryption,this.concurrentCallLimit=(se=i.concurrent_call_limit)!==null&&se!==void 0?se:5,this.backOffDelay=(fe=i.back_off_delay)!==null&&fe!==void 0?fe:100}return s.payloadify=function(l){return Be(Be(Be({},Dt.payloadify(l.user)),xI.payloadify(l.appInfo)),{login_ts:l.connectedAt,ping_interval:l.pingInterval,pong_timeout:l.pongTimeout,reconnect:{interval:l.reconnectInterval,max_interval:l.reconnectMaxInterval,retry_cnt:l.reconnectRetryCount,mul:l.reconnectIntervalMultiple},max_unread_cnt_on_super_group:l.maxUnreadCountOnSuperGroup,profile_image_encryption:l.profileImageEncryption,concurrent_call_limit:l.concurrentCallLimit,back_off_delay:l.backOffDelay})},s.prototype.apply=function(){var l=this.reconnectInterval,i=this.reconnectMaxInterval,c=this.reconnectIntervalMultiple,d=an.of(this._iid);d.sdkState.websocket.pingInterval=1e3*this.pingInterval,d.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,d.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,d.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(p){return p>0?1e3*Math.min(l*Math.pow(c,p-1),i):10}},d.appInfo=this.appInfo,d.sessionManager.currentUser=this.user,d.connectedAt=this.connectedAt,this.firstConnectedAt||(d.firstConnectedAt=this.connectedAt),d.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,d.concurrentCallLimit=this.concurrentCallLimit,d.backOffDelay=this.backOffDelay,d.dispatcher.dispatch(new kI({userProfile:this}))},s}(),Fm=function(s){function l(i,c,d){var p,_=this;return(_=s.call(this,i,c,d)||this).error=null,_.userProfile=new K2(i,d),_.deviceTokenLastDeletedAt=d.device_token_last_deleted_at,_.key=d.key,_.ekey=(p=d.ekey)!==null&&p!==void 0?p:"",_.error=d.error?new We(d):null,_}return _e(l,s),l.asError=function(i){return new l(null,"LOGI",Be({user_id:null,error:!0},i))},l.prototype.applyTo=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return this.error?[3,4]:(c=an.of(i))?[4,c.sessionManager.login(this)]:[3,2];case 1:return d.sent(),this.userProfile.apply(),[3,3];case 2:throw We.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}})})},l}($r),SI=function(s){function l(i){var c=s.call(this)||this;return c.enabled=i,c}return _e(l,s),l}(ki),_X=function(s){function l(i,c){var d=c.sdkState,p=c.cacheContext,_=c.connectionHandlers,g=c.sessionManager,b=c.websocketClient,E=c.dispatcher,I=c.logger,U=c.entryState,X=U===void 0?new j2:U,W=s.call(this)||this;return W._currentState=null,W._loginTimer=null,W._unresolvedLogi=null,W._stateUpdatedAt=0,W._connectingAt=0,W._connectionRequestQueue=[],W._iid=i,W.sdkState=d,W.cacheContext=p,W.connectionHandlers=_,W._sessionManager=g,W._websocketClient=b,W._dispatcher=E,W._logger=I,W._currentState=X,W.sdkState.websocket.pingerDisabled||(W._pinger=new lX({pingDelegate:{send:function(de){return W._websocketClient.send(de)},error:function(de){return W._websocketClient.error(de)}},sdkState:W.sdkState,logger:I})),W._websocketClient.on("open",function(){W._tryResolveConnectionRequest()}).on("message",function(de){de.code==="LOGI"&&(W.clearLoginTimer(),W._dispatcher.dispatch(de.as(Fm)))}).on("ping-refresh",function(){var de;return(de=W._pinger)===null||de===void 0?void 0:de.refreshTimer()}).on("pong",function(){var de;return(de=W._pinger)===null||de===void 0?void 0:de.pong()}).on("error",function(){var de;return(de=W._pinger)===null||de===void 0?void 0:de.stop()}).on("close",function(){return W._rejectConnectionRequest(We.networkError)}),W._dispatcher.on(function(de){de instanceof Fm&&(W._unresolvedLogi=de,W._tryResolveConnectionRequest())}),W}return _e(l,s),Object.defineProperty(l.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),l.prototype.changeState=function(i,c){return J(this,void 0,void 0,function(){return Z(this,function(d){switch(d.label){case 0:return c>=this._stateUpdatedAt?(this._currentState=i,this._stateUpdatedAt=c,this._dispatcher.dispatch(new Bu({stateType:i.type})),this._logger.debug("connection state changes to ".concat(i.name)),[4,this._currentState.run(this)]):[3,2];case 1:return d.sent(),[2,!0];case 2:return[2,!1]}})})},l.prototype._tryResolveConnectionRequest=function(){var i;return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return c=this._unresolvedLogi,this._websocketClient.isOpen&&c?(this._unresolvedLogi=null,c.error?[3,2]:[4,c.applyTo(this._iid)]):[3,3];case 1:return p.sent(),d=c.userProfile,this._enableStatLog(d.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),this._statLogConnection(null),(i=this._pinger)===null||i===void 0||i.start(),this._connectionRequestQueue.forEach(function(_){return _.resolve()}),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=null,(c.error.isSessionKeyExpiredError||c.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new Tm),this._rejectConnectionRequest(c.error),p.label=3;case 3:return[2]}})})},l.prototype._rejectConnectionRequest=function(i){var c;(c=this._pinger)===null||c===void 0||c.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0&&(this._connectionRequestQueue.forEach(function(d){return d.reject(i)}),this._connectionRequestQueue=[],this._statLogConnection(i))},l.prototype._url=function(i){var c;i===void 0&&(i="");var d=this.sdkState,p=d.appId,_=d.appVersion,g=d.userId,b=d.extensions,E=this.cacheContext.localCacheEnabled,I=this._sessionManager.auth,U=(c=this.sdkState.websocket)===null||c===void 0?void 0:c.compression,X=b.sb_syncmanager?"s".concat(b.sb_syncmanager):"",W=b.sb_uikit?"u".concat(b.sb_uikit):"",de="JS/c".concat(Mu.SDK_VERSION,"/").concat(X,"/").concat(W);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Mu.OS_VERSION),"&sv=").concat(encodeURIComponent(Mu.SDK_VERSION),"&ai=").concat(p).concat(_?"&av=".concat(_):"").concat(I.hasSession?"&key=".concat(encodeURIComponent(I.sessionKey)):"&user_id=".concat(encodeURIComponent(g),"&access_token=").concat(encodeURIComponent(i)),"&pmce=").concat(U?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(de,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(E?1:0,"&include_poll_details=1")},l.prototype._enableStatLog=function(i){this._dispatcher.dispatch(new SI(i))},l.prototype._statLogConnection=function(i){this._dispatcher.dispatch(new k2(new sp({type:Sm.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!i,latency:Date.now()-this._connectingAt,error_code:i==null?void 0:i.code,error_description:i==null?void 0:i.message}})))},l.prototype.connect=function(i){return i===void 0&&(i=""),J(this,void 0,void 0,function(){var c,d,p=this;return Z(this,function(_){return c=this._url(i),d=new La,this._connectionRequestQueue.push(d),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){p._loginTimer=null,p._dispatcher.dispatch(Fm.asError(We.loginTimeout))},this.sdkState.websocket.responseTimeout),this._sessionManager.auth.authToken=i,this._websocketClient.connect(c)),[2,d.promise]})})},l.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(Fm.asError(We.connectionRenew))},l.prototype.disconnect=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return i.sent(),[2]}})})},l.prototype.logout=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this.sdkState.userId=null,this._unresolvedLogi=null,[4,this._sessionManager.clear()];case 1:return i.sent(),[4,this.disconnect()];case 2:return i.sent(),[2]}})})},l.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=null)},l}(ap),mX=function(){function s(l,i){var c=i.sdkState,d=i.cacheContext,p=i.connectionHandlers,_=i.sessionManager,g=i.websocketClient,b=i.dispatcher,E=i.logger,I=i.disableWebSocketCloseEventHandling,U=I!==void 0&&I;this._context=null,this._disableWebSocketCloseEventHandling=!1,this._logger=E,this._disableWebSocketCloseEventHandling=U,this._context=new _X(l,{sdkState:c,cacheContext:d,connectionHandlers:p,sessionManager:_,websocketClient:g,dispatcher:b,logger:E}),this._sdkState=c,this._sessionManager=_,this._websocketClient=g}return s.prototype._registerEventDispatcher=function(){var l=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",function(){l.isConnected||(l._logger.debug("try reconnect by session token refresh"),l.reconnect())}).on("refresh",function(){l.isConnecting||l.isConnected||(l._logger.debug("try reconnect by session key refresh"),l.reconnect())}),this._websocketEventDispatcherContext=this._websocketClient.on("close",function(){l._sdkState.appState==="foreground"&&(l._sessionManager.isRefreshingAuthToken||(l._logger.debug("try reconnect by websocket connection closed"),l.reconnect()))}))},s.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=null),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=null)},Object.defineProperty(s.prototype,"isConnected",{get:function(){return this._context.currentState.type===cr.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isConnecting",{get:function(){var l=this._context.currentState;return l.type===cr.CONNECTING||l.type===cr.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype.connect=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this._context.currentState.onConnect(this._context,l)];case 1:return i.sent(),this._registerEventDispatcher(),[2]}})})},s.prototype.reconnect=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return l.sent(),[2]}})})},s.prototype.resetAndReconnect=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return l.sent(),[2]}})})},s.prototype.background=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return l.sent(),[2]}})})},s.prototype.disconnect=function(l){return l===void 0&&(l=null),J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:l,autoReconnect:!0})];case 1:return i.sent(),[2]}})})},s.prototype.disconnectWebSocket=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,this._context.currentState.onDisconnectWebSocket(this._context)];case 1:return l.sent(),[2]}})})},s.prototype.logout=function(){return J(this,void 0,void 0,function(){var l;return Z(this,function(i){switch(i.label){case 0:return l=this._context.currentState,this._clearEventDispatcher(),[4,l.onLogout(this._context)];case 1:return i.sent(),[2]}})})},s}(),vX=function(s){function l(i){var c=i.deviceId,d=i.statLogs,p=s.call(this)||this;return p.method=In.POST,p.path="".concat(nX),p.params={device_id:c,log_entries:d.map(function(_){return sp.payloadify(_)})},p}return _e(l,s),l}(An);(function(s){s[s.PENDING=0]="PENDING",s[s.ENABLED=1]="ENABLED",s[s.DISABLED=2]="DISABLED"})(Gu||(Gu={}));var Cl,gX=function(){function s(l){var i=l.cacheContext,c=l.requestQueue,d=l.dispatcher,p=l.baseLimit,_=p===void 0?100:p,g=l.maxLimit,b=g===void 0?1e3:g,E=l.minLimit,I=E===void 0?10:E;this.queue=[],this.enabledstate=Gu.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=vh(),this.cacheContext=i,this.requestQueue=c,this.dispatcher=d,this.baseLimit=_,this.limit=_,this.maxLimit=b,this.minLimit=I}return Object.defineProperty(s.prototype,"isEnabled",{get:function(){return this.enabledstate===Gu.ENABLED},enumerable:!1,configurable:!0}),s.prototype._save=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(i){return sp.payloadify(i)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},s.prototype._flush=function(){return J(this,void 0,void 0,function(){var l,i;return Z(this,function(c){switch(c.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,c.label=1;case 1:return c.trys.push([1,5,6,7]),(l=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(i=new vX({deviceId:this.deviceId,statLogs:l}),[4,this.requestQueue.send(i)]):[3,4];case 2:return c.sent(),this.queue=this.queue.slice(l.length),[4,this._save()];case 3:c.sent(),c.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return c.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},s.prototype.init=function(l){return J(this,void 0,void 0,function(){var i,c,d=this;return Z(this,function(p){switch(p.label){case 0:return this.key=l,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(i=p.sent())?(this.deviceId=i.deviceId,this.queue=i.statLogs.map(function(_){return new sp({type:_.stat_type,ts:_.ts,data:_.data})}),this.generation=i.generation,this.lastFlushedAt=i.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(c=Math.min(Math.floor(18e4*Math.random()),100),[4,qo(c)]):[3,4]):[3,4];case 2:return p.sent(),[4,this._flush()];case 3:p.sent(),p.label=4;case 4:return this.dispatcher.on(function(_){if(_ instanceof k2){var g=_.statLog;d.put(g)}else _ instanceof SI&&(d.enabledstate=_.enabled?Gu.ENABLED:Gu.DISABLED,d.isEnabled?d.queue.length>=d.limit&&d._flush():d.clear())}),[2]}})})},s.prototype.put=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this.enabledstate===Gu.DISABLED?[3,3]:(this.queue.push(l),[4,this._save()]);case 1:return i.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},s.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return l.sent(),[2]}})})},s}();(function(s){s[s.NONE=0]="NONE",s[s.VERBOSE=1]="VERBOSE",s[s.DEBUG=2]="DEBUG",s[s.INFO=3]="INFO",s[s.WARN=4]="WARN",s[s.ERROR=5]="ERROR"})(Cl||(Cl={}));var Kr,vs,Hm,ga,gs,Nc,Hr,bX=function(){function s(){this.level=Cl.WARN}return s.prototype.verbose=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Cl.VERBOSE&&console.log.apply(console,Fr(["[verbose]"],xr(l),!1))},s.prototype.debug=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Cl.DEBUG&&console.log.apply(console,Fr(["[debug]"],xr(l),!1))},s.prototype.info=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Cl.INFO&&console.log.apply(console,Fr(["[info]"],xr(l),!1))},s.prototype.warn=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Cl.WARN&&console.warn.apply(console,Fr(["[warn]"],xr(l),!1))},s.prototype.error=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Cl.ERROR&&console.error.apply(console,Fr(["[error]"],xr(l),!1))},s}(),qu={},an=function(){function s(l,i){var c,d,p,_,g,b,E,I,U;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!qu[l]){qu[l]=this;var X=(c=i.options)!==null&&c!==void 0?c:new CC,W=this.sdkState={appId:i.appId,appVersion:(d=i.appVersion)!==null&&d!==void 0?d:"",appState:"foreground",userId:null,extensions:{},api:{host:(p=i.apiHost)!==null&&p!==void 0?p:"https://api-".concat(i.appId,".sendbird.com")},websocket:{host:(_=i.websocketHost)!==null&&_!==void 0?_:"wss://ws-".concat(i.appId,".sendbird.com"),pingerDisabled:!!i.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new EI,responseTimeout:X.websocketResponseTimeout},sessionTokenRefreshTimeout:X.sessionTokenRefreshTimeout};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var de=this.logger=new bX;this.logger.level=(g=i.logLevel)!==null&&g!==void 0?g:Cl.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var se=this.cacheContext=new zQ({encryption:i.encryption,store:i.store,localCacheEnabled:(b=i.localCacheEnabled)!==null&&b!==void 0&&b});this.debugMode=(E=i.debugMode)!==null&&E!==void 0&&E,this.maxSuperGroupChannelUnreadCount=Mu.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=X.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=X.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=X.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var fe=this.dispatcher=new GQ,Ae=new VQ;this.requestQueue=new YY(l,{auth:Ae,sdkState:W,dispatcher:fe,logger:de}),this.sessionManager=new sX({auth:Ae,cacheContext:se,sdkState:W,dispatcher:fe,requestQueue:this.requestQueue,logger:de}),this.connectionManager=new mX(l,{sdkState:W,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:fe,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(I=i.disableWebSocketCloseEventHandling)!==null&&I!==void 0&&I,logger:de}),this.statLogCollector=new gX({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:fe}),this.appStateToggleEnabled=(U=i.appStateToggleEnabled)===null||U===void 0||U}return qu[l]}return s.of=function(l){if(qu[l])return qu[l];throw We.lostInstance},s.clear=function(l){qu[l]&&delete qu[l]},s}(),W2=function(){function s(){}return s.prototype.init=function(l,i){var c=i.sdkState,d=i.dispatcher,p=i.sessionManager,_=i.requestQueue,g=i.logger;i.onlineDetector;var b=i.cacheContext,E=b===void 0?null:b;this._iid=l,this._cacheContext=E,this._sdkState=c,this._dispatcher=d,this._sessionManager=p,this._requestQueue=_,this._logger=g},s}(),yX=function(s){function l(i){var c=s.call(this)||this;if(c.method=In.POST,c.path="".concat(XY),c.params=St({file:i.file,channel_url:i.channelUrl}),i.thumbnailSizes)for(var d=0;d<i.thumbnailSizes.length;d++){var p=i.thumbnailSizes[d],_=p.maxWidth,g=p.maxHeight;c.params["thumbnail".concat(d+1)]="".concat(_,",").concat(g)}return c.requestId=i.requestId,c}return _e(l,s),l}(An),EX=function(s){function l(i,c){var d,p,_,g=this;return(g=s.call(this,i,c)||this).url=c.url,g.fileSize=(d=c.file_size)!==null&&d!==void 0?d:0,g.thumbnailSizes=(p=c.thumbnails)!==null&&p!==void 0?p:[],g.requireAuth=(_=c.require_auth)!==null&&_!==void 0&&_,g}return _e(l,s),l}(Un);(function(s){s.BASE="base",s.USER="user",s.FILE="file",s.ADMIN="admin"})(Kr||(Kr={})),function(s){s.ALL="",s.USER="MESG",s.FILE="FILE",s.ADMIN="ADMM"}(vs||(vs={})),function(s){s.USER="MESG",s.FILE="FILE",s.ADMIN="ADMM"}(Hm||(Hm={})),function(s){s.USERS="users",s.CHANNEL="channel"}(ga||(ga={})),function(s){s.ALL="all",s.NONE="none",s.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(gs||(gs={})),function(s){s.DEFAULT="default",s.SUPPRESS="suppress"}(Nc||(Nc={})),function(s){s.PENDING="pending",s.SCHEDULED="scheduled",s.SUCCEEDED="succeeded",s.FAILED="failed",s.CANCELED="canceled"}(Hr||(Hr={}));var wp,Q2=function(s){function l(i,c){var d,p,_,g=this;return(g=s.call(this,i)||this).replyCount=0,g.mostRepliedUsers=null,g.lastRepliedAt=0,g.updatedAt=0,g.replyCount=(d=c.reply_count)!==null&&d!==void 0?d:0,g.mostRepliedUsers=c.hasOwnProperty("most_replies")&&Qt("object",c.most_replies)?c.most_replies.map(function(b){return new Dt(g._iid,b)}):[],g.lastRepliedAt=(p=c.last_replied_at)!==null&&p!==void 0?p:0,g.updatedAt=(_=c.updated_at)!==null&&_!==void 0?_:0,g}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),{reply_count:i.replyCount,most_replies:Array.isArray(i.mostRepliedUsers)?i.mostRepliedUsers.map(function(c){return Dt.payloadify(c)}):[],last_replied_at:i.lastRepliedAt,updated_at:i.updatedAt})):null},l}(jo);(function(s){s.ADD="add",s.DELETE="delete"})(wp||(wp={}));var Br,Bm,TI,Ac,Y2=function(s){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var l=ze("string",s.msg_id)?parseInt(s.msg_id):s.msg_id,i=s.user_id,c=s.operation?s.operation.toLowerCase():null,d=s.reaction,p=s.updated_at;l&&ze("string",i)&&ze("string",c)&&kr(wp,c)&&ze("string",d)&&d&&ze("number",p)&&(this.messageId=l,this.userId=i,this.key=d,this.operation=c,this.updatedAt=p)},$m=function(){function s(l){var i,c,d,p=l.key,_=(d=Fr([],xr(l.user_ids),!1))!==null&&d!==void 0?d:[],g=l.updated_at;ze("string",p)&&p&&Qt("string",_)&&_.length>0&&ze("number",g)&&(this.key=p,this.userIds=_,this.updatedAt=g);var b={};try{for(var E=Et(this.userIds),I=E.next();!I.done;I=E.next())b[I.value]=this.updatedAt}catch(U){i={error:U}}finally{try{I&&!I.done&&(c=E.return)&&c.call(E)}finally{if(i)throw i.error}}this._version=b}return Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),s.payloadify=function(l){return l?St({key:l.key,user_ids:l.userIds,updated_at:l.updatedAt}):null},s.prototype.applyEvent=function(l){if(l.key===this.key&&this.updatedAt<=l.updatedAt){if(!this._version[l.userId]||this._version[l.userId]<=l.updatedAt){var i=this.userIds.indexOf(l.userId);switch(l.operation){case wp.ADD:i<0&&this.userIds.push(l.userId);break;case wp.DELETE:i>=0&&this.userIds.splice(i,1)}this._version[l.userId]=l.updatedAt}this.updatedAt=Math.max(this.updatedAt,l.updatedAt)}},s}(),bs=function(){function s(l){this.key=l.key,this.value=Qt("string",l.value)?Fr([],xr(l.value),!1):[]}return s.payloadify=function(l){var i;return l?St({key:l.key,value:(i=l.value)!==null&&i!==void 0?i:[]}):null},s}(),CI=function(){function s(l){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=l.url,l.hasOwnProperty("secure_url")&&(this.secureUrl=l.secure_url),l.hasOwnProperty("type")&&(this.type=l.type),l.hasOwnProperty("width")&&(this.width=l.width),l.hasOwnProperty("height")&&(this.height=l.height),l.hasOwnProperty("alt")&&(this.alt=l.alt)}return s.payloadify=function(l){var i,c;return l?St({url:l.url,secure_url:l.secureUrl,type:l.type,width:(i=l.width)!==null&&i!==void 0?i:0,height:(c=l.height)!==null&&c!==void 0?c:0,alt:l.alt}):null},s}(),II=function(){function s(l){this.title=null,this.url=null,this.description=null,this.defaultImage=null,l.hasOwnProperty("og:title")&&(this.title=l["og:title"]),l.hasOwnProperty("og:url")&&(this.url=l["og:url"]),l.hasOwnProperty("og:description")&&(this.description=l["og:description"]),l.hasOwnProperty("og:image")&&(this.defaultImage=new CI(l["og:image"]))}return s.payloadify=function(l){return l?St({"og:title":l.title,"og:url":l.url,"og:description":l.description,"og:image":l.defaultImage?CI.payloadify(l.defaultImage):null}):null},s}(),Oc=function(){function s(l){var i,c;this.name=null,this.volume=0,this.name=(i=l.name)!==null&&i!==void 0?i:"default",this.volume=(c=l.volume)!==null&&c!==void 0?c:1}return s.prototype.serialize=function(){return{name:this.name,volume:this.volume}},s.payloadify=function(l){return l?St({name:l.name,volume:l.volume}):null},s}();(function(s){s.BASE="base",s.GROUP="group",s.OPEN="open"})(Br||(Br={})),function(s){s.OPERATOR="operator",s.NONE="none"}(Bm||(Bm={})),function(s){s.PENDING="pending",s.SENT="sent",s.FAILED="failed",s.CANCELED="canceled"}(TI||(TI={})),function(s){s.PENDING="pending",s.IN_QUEUE="in_queue",s.SENT="sent",s.FAILED="failed",s.CANCELED="canceled",s.REMOVED="removed"}(Ac||(Ac={}));var Rc,wX=function(s){switch(s){case Kr.BASE:return"";case Kr.USER:return"MESG";case Kr.FILE:return"FILE";case Kr.ADMIN:return"ADMM"}},Il=function(s){function l(i,c){var d,p,_,g,b,E,I,U,X,W,de,se,fe,Ae,we=this;(we=s.call(this,i)||this).channelUrl=null,we.channelType=Br.BASE,we.messageId=0,we.parentMessageId=null,we.parentMessage=null,we.silent=!1,we.isOperatorMessage=!1,we.messageType=Kr.BASE,we.data=null,we.customType=null,we.mentionType=null,we.mentionedUsers=[],we.mentionedUserIds=[],we.mentionedMessageTemplate=null,we.threadInfo=null,we.reactions=[],we.metaArrays=[],we.ogMetaData=null,we.appleCriticalAlertOptions=null,we.createdAt=0,we.updatedAt=0,we.scheduledInfo=null,we.extendedMessage={},we._scheduledStatus=null,we.messageId=(p=(d=c.msg_id)!==null&&d!==void 0?d:c.message_id)!==null&&p!==void 0?p:0,we.channelUrl=c.channel_url,we.channelType=kr(Br,c.channel_type)?c.channel_type:Br.GROUP,c.channel&&(c.channel.channel_url&&(we.channelUrl=c.channel.channel_url),c.channel.channel_type&&(we.channelType=c.channel.channel_type)),we.parentMessageId=(_=typeof c.parent_message_id=="string"?parseInt(c.parent_message_id):c.parent_message_id)!==null&&_!==void 0?_:0,we.data=(g=c.data)!==null&&g!==void 0?g:"",we.customType=(b=c.custom_type)!==null&&b!==void 0?b:"",we.mentionType=kr(ga,c.mention_type)?c.mention_type:null;var $e=c.mentioned_users;we.mentionedUsers=$e?$e.map(function(Qe){return new Dt(we._iid,Qe)}):null;var ln=c.mentioned_user_ids;we.mentionedUserIds=ln??null,we.mentionedUsers&&!we.mentionedUserIds&&(we.mentionedUserIds=we.mentionedUsers.map(function(Qe){return Qe.userId})),we.mentionedMessageTemplate=(E=c.mentioned_message_template)!==null&&E!==void 0?E:"",we.threadInfo=c.thread_info?new Q2(we._iid,c.thread_info):null,we.reactions=c.reactions?c.reactions.map(function(Qe){return new $m(Qe)}):[];for(var Ie=(I=c.metaarray)!==null&&I!==void 0?I:{},ye=(U=c.metaarray_key_order)!==null&&U!==void 0?U:Object.keys(Ie).sort(function(Qe,xn){return Qe.localeCompare(xn)}),tn=0;tn<ye.length;tn++){var Ze=ye[tn];we.metaArrays.push(new bs({key:Ze,value:Ie[Ze]||[]}))}return c.sorted_metaarray&&(we.metaArrays=c.sorted_metaarray.map(function(Qe){return new bs(Qe)})),we.ogMetaData=c.og_tag?new II(c.og_tag):null,we.silent=(X=c.silent)!==null&&X!==void 0&&X,we.isOperatorMessage=(W=c.is_op_msg)!==null&&W!==void 0&&W,we.appleCriticalAlertOptions=c.apple_critical_alert_options?new Oc(c.apple_critical_alert_options):null,we.createdAt=(se=(de=c.created_at)!==null&&de!==void 0?de:c.ts)!==null&&se!==void 0?se:0,we.updatedAt=(fe=c.updated_at)!==null&&fe!==void 0?fe:0,typeof c.scheduled_message_id=="number"&&typeof c.scheduled_at=="number"&&c.scheduled_status&&(we.scheduledInfo={scheduledMessageId:c.scheduled_message_id,scheduledAt:c.scheduled_at},we._scheduledStatus=c.scheduled_status),we.extendedMessage=(Ae=c.extended_message)!==null&&Ae!==void 0?Ae:{},we}return _e(l,s),l.payloadify=function(i){var c,d,p,_;return i?St(Be(Be({},s.payloadify.call(this,i)),{channel_url:i.channelUrl,channel_type:i.channelType,message_id:i.messageId,type:wX(i.messageType),parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,mentioned_user_ids:i.mentionedUserIds,mentioned_users:(c=i.mentionedUsers)===null||c===void 0?void 0:c.map(function(g){return Dt.payloadify(g)}),mentioned_message_template:i.mentionedMessageTemplate,thread_info:i.threadInfo?Q2.payloadify(i.threadInfo):null,reactions:i.reactions.map(function(g){return $m.payloadify(g)}),sorted_metaarray:(d=i.metaArrays)===null||d===void 0?void 0:d.map(function(g){return bs.payloadify(g)}),og_tag:II.payloadify(i.ogMetaData),silent:i.silent,is_op_msg:i.isOperatorMessage,apple_critical_alert_options:Oc.payloadify(i.appleCriticalAlertOptions),created_at:i.createdAt,updated_at:i.updatedAt,scheduled_message_id:(p=i.scheduledInfo)===null||p===void 0?void 0:p.scheduledMessageId,scheduled_at:(_=i.scheduledInfo)===null||_===void 0?void 0:_.scheduledAt,scheduled_status:i._scheduledStatus,extended_message:i.extendedMessage})):null},l.prototype.isIdentical=function(i){return this.messageId===i.messageId},l.prototype.isEqual=function(i){return TC(this,i)},l.prototype.isUserMessage=function(){return this.messageType===Kr.USER},l.prototype.isFileMessage=function(){return this.messageType===Kr.FILE},l.prototype.isAdminMessage=function(){return this.messageType===Kr.ADMIN},l.prototype.serialize=function(){return Pm(this)},l.prototype.getMetaArraysByKeys=function(i){return this.metaArrays.filter(function(c){return i.includes(c.key)})},l.prototype.applyThreadInfoUpdateEvent=function(i){return this.messageId===i.targetMessageId&&(this.threadInfo=i.threadInfo),!1},l.prototype.applyReactionEvent=function(i){if(this.messageId===i.messageId){for(var c=!1,d=0;d<this.reactions.length;d++)if(this.reactions[d].key===i.key){this.reactions[d].applyEvent(i),this.reactions[d].isEmpty&&this.reactions.splice(d,1),c=!0;break}c||i.operation!=="add"||this.reactions.push(new $m($m.payloadify({key:i.key,userIds:[i.userId],updatedAt:i.updatedAt})))}},l.prototype.applyParentMessage=function(i){if(this.parentMessageId===i.messageId){var c=this.parentMessage.updatedAt;if(i.updatedAt>=c)return this.parentMessage=i,!0}return!1},l}(jo),xp=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.role=null,d.isBlockedByMe=!1,d.role=kr(Bm,c.role)?c.role:Bm.NONE,c.hasOwnProperty("is_blocked_by_me")&&(d.isBlockedByMe=c.is_blocked_by_me),d}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),{role:i.role,is_blocked_by_me:i.isBlockedByMe})):null},l}(Dt),kp=function(s){function l(i,c){var d,p,_,g,b=this;if((b=s.call(this,i,c)||this).sender=null,b.reqId="",b.replyToChannel=!1,b.sendingStatus=null,b.errorCode=0,b.sender=c.user?new xp(b._iid,c.user):c.sender_id,b.reqId=(p=(d=c.req_id)!==null&&d!==void 0?d:c.request_id)!==null&&p!==void 0?p:"",b.replyToChannel=(_=c.is_reply_to_channel)!==null&&_!==void 0&&_,c.request_state&&kr(Hr,c.request_state)&&(b.sendingStatus=c.request_state),!b.sendingStatus)if(b.messageId>0)b.sendingStatus=Hr.SUCCEEDED;else if(b.scheduledInfo)switch(b._scheduledStatus=c.scheduled_status,c.scheduled_status){case Ac.SENT:case Ac.IN_QUEUE:b.sendingStatus=Hr.SUCCEEDED;break;case Ac.PENDING:b.sendingStatus=Hr.SCHEDULED;break;case Ac.FAILED:case Ac.REMOVED:b.sendingStatus=Hr.FAILED;break;case Ac.CANCELED:b.sendingStatus=Hr.CANCELED}else b.sendingStatus=Hr.PENDING;return b.errorCode=(g=c.error_code)!==null&&g!==void 0?g:0,b}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),{user:xp.payloadify(i.sender),req_id:i.reqId,is_reply_to_channel:i.replyToChannel,request_state:i.sendingStatus,error_code:i.errorCode})):null},Object.defineProperty(l.prototype,"isResendable",{get:function(){return this.sendingStatus===Hr.FAILED&&(i=this.errorCode)>0&&FQ.indexOf(i)>=0;var i},enumerable:!1,configurable:!0}),l.prototype.isIdentical=function(i){return this.messageId>0&&i.messageId>0?this.messageId===i.messageId:this.reqId===i.reqId},l}(Il),X2=function(){function s(l){var i,c;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=l.url,this.width=l.width,this.height=l.height,this.realWidth=(i=l.real_width)!==null&&i!==void 0?i:l.width,this.realHeight=(c=l.real_height)!==null&&c!==void 0?c:l.height}return s.payloadify=function(l){return l?St({url:"",width:l.maxWidth,height:l.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(s.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),s}(),zm={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:vs.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},Z2=function(s){return ze("number",s.prevResultSize)&&ze("number",s.nextResultSize)&&ze("boolean",s.isInclusive)&&ze("boolean",s.reverse)&&ze("string",s.messageTypeFilter)&&kr(vs,s.messageTypeFilter)&&Qt("string",s.customTypesFilter,!0)&&Qt("string",s.senderUserIdsFilter,!0)&&ze("boolean",s.includeMetaArray)&&ze("boolean",s.includeReactions)&&ze("boolean",s.includeParentMessageInfo)},xh=function(s){function l(i,c){var d,p,_,g,b=this;if((b=s.call(this,i,c)||this).message=null,b.translations={},b.message=(d=c.message)!==null&&d!==void 0?d:"",b.messageType=Kr.ADMIN,b.translations=(p=c.translations)!==null&&p!==void 0?p:{},c.parent_message_info){var E=c.parent_message_info,I=Be(Be({},E),{message_id:b.parentMessageId,channel_url:b.channelUrl,channel_type:b.channelType,file:E.file,url:(_=E.file)===null||_===void 0?void 0:_.url,require_auth:(g=E.file)===null||g===void 0?void 0:g.require_auth});b.parentMessage=Mc(i,I)}return b}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),{message:i.message,translations:i.translations,parent_message_info:eE(i.parentMessage)})):null},l.prototype.getThreadedMessagesByTimestamp=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Be(Be({},zm),c),Pn(this.messageId>0&&ze("number",i)&&Z2(d)).throw(We.invalidParameters),[4,Ua.of(this._iid).getThreadedMessagesByTimestamp(this,i,d)];case 1:return[2,p.sent()]}})})},l}(Il),NI=function(){function s(l){var i,c;this.type=null,this.vendor=null,this.detail={},this.type=(i=l.type)!==null&&i!==void 0?i:"",this.vendor=(c=l.vendor)!==null&&c!==void 0?c:"",l.hasOwnProperty("detail")&&ze("object",l.detail)&&!Array.isArray(l.detail)&&(this.detail=l.detail)}return s.payloadify=function(l){return l?St({type:l.type,vendor:l.vendor,detail:l.detail}):null},s}();(function(s){s.OPEN="open",s.CLOSED="closed"})(Rc||(Rc={}));var Xi,J2=function(s){switch(s){case Rc.OPEN:return Rc.OPEN;case Rc.CLOSED:return Rc.CLOSED}},AI=function(s){return!s||s.text&&ze("string",s.text)},Vm=function(s){function l(i,c){var d,p,_,g,b,E,I,U=this;return(U=s.call(this,i)||this).pollId=0,U.id=0,U.text=null,U.voteCount=0,U.createdBy=null,U.createdAt=0,U.updatedAt=0,U._lastVotedAt=0,U.pollId=(d=c.poll_id)!==null&&d!==void 0?d:0,U.id=(p=c.id)!==null&&p!==void 0?p:0,U.text=(_=c.text)!==null&&_!==void 0?_:null,U.voteCount=(g=c.vote_count)!==null&&g!==void 0?g:0,U.createdBy=(b=c.created_by)!==null&&b!==void 0?b:null,U.createdAt=(E=c.created_at)!==null&&E!==void 0?E:0,U.updatedAt=(I=c.updated_at)!==null&&I!==void 0?I:0,U}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),{vote_count:i.voteCount,poll_id:i.pollId,text:i.text,created_at:i.createdAt,id:i.id,created_by:i.createdBy,updated_at:i.updatedAt})):null},l}(jo),Hs=function(s){function l(i,c){var d,p,_,g,b,E,I,U,X,W,de,se,fe,Ae=this;return(Ae=s.call(this,i)||this).id=0,Ae.title=null,Ae.createdAt=0,Ae.updatedAt=0,Ae.closeAt=-1,Ae.status=Rc.CLOSED,Ae.messageId=0,Ae.data=null,Ae.voterCount=-1,Ae.options=[],Ae.createdBy=null,Ae.allowUserSuggestion=!1,Ae.allowMultipleVotes=!1,Ae.votedPollOptionIds=[],Ae.id=(d=c.id)!==null&&d!==void 0?d:0,Ae.title=(p=c.title)!==null&&p!==void 0?p:null,Ae.createdAt=(_=c.created_at)!==null&&_!==void 0?_:0,Ae.updatedAt=(g=c.updated_at)!==null&&g!==void 0?g:0,Ae.closeAt=(b=c.close_at)!==null&&b!==void 0?b:-1,Ae.status=(E=J2(c.status))!==null&&E!==void 0?E:Rc.CLOSED,Ae.messageId=(I=c.message_id)!==null&&I!==void 0?I:0,Ae.data=(U=c.data)!==null&&U!==void 0?U:null,Ae.voterCount=(X=c.voter_count)!==null&&X!==void 0?X:-1,Ae.options=c.options?c.options.map(function(we){return new Vm(Ae._iid,we)}):[],Ae.createdBy=(W=c.created_by)!==null&&W!==void 0?W:null,Ae.allowUserSuggestion=(de=c.allow_user_suggestion)!==null&&de!==void 0&&de,Ae.allowMultipleVotes=(se=c.allow_multiple_votes)!==null&&se!==void 0&&se,Ae.votedPollOptionIds=(fe=c.voted_option_ids)!==null&&fe!==void 0?fe:[],Ae}return _e(l,s),l.prototype._applyPollUpdatePayload=function(i){var c,d,p,_,g,b,E,I,U=this;this.title=(c=i.title)!==null&&c!==void 0?c:this.title,this.updatedAt=(d=i.updated_at)!==null&&d!==void 0?d:this.updatedAt,this.closeAt=(p=i.close_at)!==null&&p!==void 0?p:this.closeAt,this.status=(_=J2(i.status))!==null&&_!==void 0?_:this.status,this.data=(g=i.data)!==null&&g!==void 0?g:this.data,this.voterCount=(b=i.voter_count)!==null&&b!==void 0?b:this.voterCount,i.options&&(this.options=i.options.map(function(X){return new Vm(U._iid,X)}),this.votedPollOptionIds=i.options.filter(function(X){return X.vote_count>0}).map(function(X){return X.id})),this.allowUserSuggestion=(E=i.allow_user_suggestion)!==null&&E!==void 0?E:this.allowUserSuggestion,this.allowMultipleVotes=(I=i.allow_multiple_votes)!==null&&I!==void 0?I:this.allowMultipleVotes},l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),{id:i.id,title:i.title,created_at:i.createdAt,updated_at:i.updatedAt,close_at:i.closeAt,status:i.status,message_id:i.messageId,data:i.data,voter_count:i.voterCount,options:i.options.map(function(c){return Vm.payloadify(c)}),created_by:i.createdBy,allow_user_suggestion:i.allowUserSuggestion,allow_multiple_votes:i.allowMultipleVotes,voted_option_ids:i.votedPollOptionIds})):null},l.prototype.applyPollUpdateEvent=function(i){var c=i._payload.poll;return!(!c||this.id!==c.id||c.updated_at<this.updatedAt||(this._applyPollUpdatePayload(c),0))},l.prototype.applyPollVoteEvent=function(i){if(this.id!==i.pollId)return!1;var c=this.options,d=c.map(function(g){return g.id}),p=i._payload,_=Math.floor(p.ts/1e3);return p.updated_vote_counts.forEach(function(g){var b=d.indexOf(g.option_id);if(b>-1){var E=c[b];_>=E._lastVotedAt&&(E.voteCount=g.vote_count,E._lastVotedAt=_)}}),p.req_id&&p.voted_option_ids&&(this.votedPollOptionIds=p.voted_option_ids),!0},l.prototype.serialize=function(){return Pm(this)},l}(jo),ba=function(s){function l(i,c){var d,p,_,g,b,E,I,U=this;if((U=s.call(this,i,c)||this).message="",U.messageParams=null,U.translations={},U.translationTargetLanguages=[],U.messageSurvivalSeconds=-1,U.plugins=[],U._poll=null,U.message=c.message,U.messageType=Kr.USER,U.translations=(_=c.translations)!==null&&_!==void 0?_:{},U.translationTargetLanguages=(g=c.target_langs)!==null&&g!==void 0?g:[],Object.keys(U.translations).length===0&&U.translationTargetLanguages.length>0)try{for(var X=Et(U.translationTargetLanguages),W=X.next();!W.done;W=X.next()){var de=W.value;U.translations[de]=""}}catch(Ae){d={error:Ae}}finally{try{W&&!W.done&&(p=X.return)&&p.call(X)}finally{if(d)throw d.error}}if(U.messageSurvivalSeconds=(b=c.message_survival_seconds)!==null&&b!==void 0?b:-1,U.plugins=c.plugins?c.plugins.map(function(Ae){return new NI(Ae)}):[],U._poll=c.poll?new Hs(U._iid,c.poll):null,c.parent_message_info){var se=c.parent_message_info,fe=Be(Be({},se),{created_at:se.ts,message_id:U.parentMessageId,channel_url:U.channelUrl,channel_type:U.channelType,file:se.file,url:(E=se.file)===null||E===void 0?void 0:E.url,require_auth:(I=se.file)===null||I===void 0?void 0:I.require_auth});U.parentMessage=Mc(i,St(fe))}return U}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),{message:i.message,translations:i.translations,message_survival_seconds:i.messageSurvivalSeconds,plugins:i.plugins.map(function(c){return NI.payloadify(c)}),poll:Hs.payloadify(i._poll),parent_message_info:eE(i.parentMessage)})):null},l.prototype.getThreadedMessagesByTimestamp=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Be(Be({},zm),c),Pn(this.messageId>0&&ze("number",i)&&Z2(d)).throw(We.invalidParameters),[4,Ua.of(this._iid).getThreadedMessagesByTimestamp(this,i,d)];case 1:return[2,p.sent()]}})})},l.prototype.applyPoll=function(i){return!(this._poll&&this._poll.id===i.id&&this._poll.updatedAt>i.updatedAt||(this._poll=i,0))},Object.defineProperty(l.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),l}(kp),eE=function(s){if(s)switch(s.messageType){case Kr.USER:return ba.payloadify(s);case Kr.FILE:return pi.payloadify(s);case Kr.ADMIN:return xh.payloadify(s)}return null},Mc=function(s,l){switch(l.type){case"MESG":return new ba(s,l);case"FILE":return new pi(s,l);case"ADMM":case"BRDM":return new xh(s,l)}return null},pi=function(s){function l(i,c){var d,p,_,g,b,E,I,U,X,W,de,se,fe,Ae,we,$e=this;($e=s.call(this,i,c)||this).messageParams=null,$e.plainUrl="",$e.requireAuth=!1,$e.name=null,$e.size=0,$e.type=null,$e.thumbnails=[],$e.messageSurvivalSeconds=-1,$e.messageType=Kr.FILE;var ln=(d=c.file)!==null&&d!==void 0?d:null;$e.plainUrl=((_=(p=ln==null?void 0:ln.url)!==null&&p!==void 0?p:c.url)!==null&&_!==void 0?_:"").split("?auth=")[0],$e.name=(b=(g=ln==null?void 0:ln.name)!==null&&g!==void 0?g:c.name)!==null&&b!==void 0?b:"File",$e.size=(I=(E=ln==null?void 0:ln.size)!==null&&E!==void 0?E:c.size)!==null&&I!==void 0?I:0,$e.data=(X=(U=ln==null?void 0:ln.data)!==null&&U!==void 0?U:c.custom)!==null&&X!==void 0?X:"",$e.type=ln?(W=ln.type)!==null&&W!==void 0?W:"":(de=c.type)!==null&&de!==void 0?de:"";var Ie=an.of($e._iid).sessionManager;if($e.requireAuth=(se=c.require_auth)!==null&&se!==void 0&&se,$e.thumbnails=c.thumbnails?c.thumbnails.map(function(Ze){return new X2(Be(Be({},Ze),{url:"".concat(Ze.url.split("?auth=")[0]).concat($e.requireAuth?"?auth=".concat(Ie.ekey):"")}))}):[],$e.messageSurvivalSeconds=(fe=c.message_survival_seconds)!==null&&fe!==void 0?fe:-1,c.parent_message_info){var ye=c.parent_message_info,tn=Be(Be({},ye),{message_id:$e.parentMessageId,channel_url:$e.channelUrl,channel_type:$e.channelType,file:ye.file,url:(Ae=ye.file)===null||Ae===void 0?void 0:Ae.url,require_auth:(we=ye.file)===null||we===void 0?void 0:we.require_auth});$e.parentMessage=Mc(i,tn)}return $e}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),{url:i.plainUrl,require_auth:i.requireAuth,file:{name:i.name,size:i.size,type:i.type,data:i.data},thumbnails:i.thumbnails.map(function(c){return{url:c.url,width:c.width,height:c.height,real_width:c.realWidth,real_height:c.realHeight}}),message_survival_seconds:i.messageSurvivalSeconds,parent_message_info:eE(i.parentMessage)})):null},Object.defineProperty(l.prototype,"url",{get:function(){var i=an.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(i.ekey):this.plainUrl},enumerable:!1,configurable:!0}),l.prototype.getThreadedMessagesByTimestamp=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Be(Be({},zm),c),Pn(this.messageId>0&&ze("number",i)&&Z2(d)).throw(We.invalidParameters),[4,Ua.of(this._iid).getThreadedMessagesByTimestamp(this,i,d)];case 1:return[2,p.sent()]}})})},l}(kp),ur=function(s){switch(s){case Br.GROUP:return gI;case Br.OPEN:return $u;default:return null}},OI=function(s){switch(s){case Br.GROUP:return"".concat(V2,"/group_channels");case Br.OPEN:return"".concat(V2,"/open_channels");default:return null}},kh=function(s,l,i){var c,d;switch(s){case ga.CHANNEL:return!0;case ga.USERS:if(l)try{for(var p=Et(l),_=p.next();!_.done;_=p.next())if(_.value===i)return!0}catch(g){c={error:g}}finally{try{_&&!_.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}}return!1},nE=function(s,l,i){var c=kh(s.mentionType,s.mentionedUserIds,i),d=kh(l.mentionType,l.mentionedUserIds,i);return!c&&d?1:c&&!d?-1:0},xX=function(s){function l(i){var c,d,p,_=[];return i.mentionType===ga.USERS&&(i.mentionedUserIds?_=i.mentionedUserIds:i.mentionedUsers&&(_=i.mentionedUsers.map(function(g){return g.userId}))),s.call(this,{code:"FILE",ackRequired:!0,payload:St({channel_url:i.channelUrl,url:i.url,name:(c=i.fileName)!==null&&c!==void 0?c:"",type:(d=i.mimeType)!==null&&d!==void 0?d:"",size:(p=i.fileSize)!==null&&p!==void 0?p:0,custom:i.data,custom_type:i.customType,thumbnails:i.thumbnailSizes,require_auth:i.requireAuth,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:_,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==Nc.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId>0?i.parentMessageId:null,req_id:i.reqId,pin_message:i.isPinnedMessage})})||this}return _e(l,s),l}(ho),kX=function(s){function l(i){var c,d=this;d=s.call(this)||this;var p=[];return i.mentionType===ga.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(_){return _.userId}))),d.method=In.POST,d.path="".concat(ur(i.channelType),"/").concat(encodeURIComponent(i.channelUrl),"/messages"),d.params=St({message_type:Kr.FILE,user_id:i.userId,url:i.fileUrl,mention_type:i.mentionType,mentioned_user_ids:p,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,data:i.data,custom_type:i.customType,thumbnails:i.thumbnailSizes.map(function(_){return X2.payloadify(_)}),require_auth:i.requireAuth,sorted_metaarray:(c=i.metaArrays)===null||c===void 0?void 0:c.map(function(_){return bs.payloadify(_)}),push_option:i.pushNotificationDeliveryOption,parent_message_id:i.parentMessageId>0?i.parentMessageId:null,apple_critical_alert_options:Oc.payloadify(i.appleCriticalAlertOptions),reply_to_channel:i.isReplyToChannel,req_id:i.reqId,pin_message:i.isPinnedMessage}),d}return _e(l,s),l}(An),RI=function(s){function l(i,c,d){var p,_,g,b=this;(b=s.call(this,i,"FILE",d)||this).message=new pi(i,d);var E=an.of(i).sdkState;return b.isMentioned=kh(b.message.mentionType,(p=b.message.mentionedUserIds)!==null&&p!==void 0?p:(_=b.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(I){return I.userId}),E.userId),b.forceUpdateLastMessage=(g=d.force_update_last_message)!==null&&g!==void 0&&g,b}return _e(l,s),l}($r),SX=function(s){function l(i,c){var d,p,_=this;(_=s.call(this,i,c)||this).message=new pi(i,c);var g=an.of(i).sdkState;return _.isMentioned=kh(_.message.mentionType,(d=_.message.mentionedUserIds)!==null&&d!==void 0?d:_.message.mentionedUsers.map(function(b){return b.userId}),g.userId),_.forceUpdateLastMessage=(p=c.force_update_last_message)!==null&&p!==void 0&&p,_}return _e(l,s),l}(Un);(function(s){s[s.PENDING=0]="PENDING",s[s.UPLOADING=1]="UPLOADING",s[s.UPLOADED=2]="UPLOADED",s[s.SENDING=3]="SENDING",s[s.FAILED=4]="FAILED"})(Xi||(Xi={}));var fi,TX=function(){function s(l,i){var c=i.sdkState,d=i.dispatcher,p=i.requestQueue,_=i.onlineDetector,g=i.cacheContext,b=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=l,this._sdkState=c,this._requestQueue=p,this._cacheContext=g,this._dispatcher=d,this._dispatcher.on(function(E){E instanceof Bu&&(b._connectionState=E.stateType)}),this._onlineDetector=_}return Object.defineProperty(s.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===cr.CONNECTED||this._connectionState===cr.CONNECTING||this._connectionState===cr.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype._sendFileMessage=function(l,i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return this._shouldSendThroughWebSocket?(c=new xX(Be(Be({},i.params),{channelUrl:l.url,channelType:l.channelType,url:i.params.fileUrl,requireAuth:i.requireAuth,reqId:i.requestId})),[4,this._requestQueue.send(c)]):[3,2];case 1:return[2,d.sent().as(RI).message];case 2:return c=new kX(Be(Be({},i.params),{channelUrl:l.url,channelType:l.channelType,url:i.params.fileUrl,userId:this._sdkState.userId,requireAuth:i.requireAuth,reqId:i.requestId})),[4,this._requestQueue.send(c)];case 3:return[2,d.sent().as(SX).message]}})})},s.prototype._resolveMessageQueue=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I,U,X,W;return Z(this,function(de){switch(de.label){case 0:if(!(i=this._queueMap.get(l.url)))return[3,21];if(i.isResolving)return[3,20];i.isResolving=!0,c=[],d=!0,de.label=1;case 1:de.trys.push([1,15,16,17]),p=Et(i.messageQueue),_=p.next(),de.label=2;case 2:if(_.done)return[3,14];switch((g=_.value).state){case Xi.PENDING:case Xi.UPLOADING:return[3,3];case Xi.UPLOADED:return[3,4];case Xi.FAILED:return[3,12]}return[3,13];case 3:return d=!1,c.push(g),[3,13];case 4:if(!d)return[3,10];de.label=5;case 5:return de.trys.push([5,8,,9]),g.state=Xi.SENDING,[4,this._sendFileMessage(l,g)];case 6:return b=de.sent(),g.deferred.resolve(b),[4,qo(100)];case 7:return de.sent(),[3,9];case 8:return E=de.sent(),g.deferred.reject(E),[3,9];case 9:return[3,11];case 10:c.push(g),de.label=11;case 11:return[3,13];case 12:return g.deferred.reject(g.error.code===Rt.REQUEST_CANCELED?We.fileUploadCanceled:g.error),[3,13];case 13:return _=p.next(),[3,2];case 14:return[3,17];case 15:return I=de.sent(),X={error:I},[3,17];case 16:try{_&&!_.done&&(W=p.return)&&W.call(p)}finally{if(X)throw X.error}return[7];case 17:return U=i.isResolveRequestPending,i.messageQueue=c,i.isResolving=!1,i.isResolveRequestPending=!1,U?[4,this._resolveMessageQueue(l)]:[3,19];case 18:de.sent(),de.label=19;case 19:return[3,21];case 20:i.isResolveRequestPending=!0,de.label=21;case 21:return[2]}})})},s.prototype._uploadNextPendingItem=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I,U,X,W,de,se;return Z(this,function(fe){switch(fe.label){case 0:return i=this._queueMap.get(l.url),(c=i.messageQueue.find(function(Ae){return Ae.state===Xi.PENDING}))?fs(c.params.file)?i.uploadQueue.length<6?(c.state=Xi.UPLOADING,i.uploadQueue.push(c),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!fe.sent())return[3,8];fe.label=2;case 2:return fe.trys.push([2,4,5,7]),d=new yX({file:c.params.file,channelUrl:l.url,thumbnailSizes:c.params.thumbnailSizes,requestId:c.requestId}),[4,this._requestQueue.send(d)];case 3:return p=fe.sent(),_=p.as(EX),g=_.url,b=_.fileSize,E=b===void 0?c.params.fileSize:b,I=_.thumbnailSizes,U=I===void 0?c.params.thumbnailSizes:I,X=_.requireAuth,W=X!==void 0&&X,c.params.fileUrl=g,c.params.fileSize=E,c.params.thumbnailSizes=U,c.params.requireAuth=W,c.requireAuth=W,c.state=Xi.UPLOADED,[3,7];case 4:return(de=fe.sent()).code===Rt.REQUEST_FAILED?c.error=new We({code:Rt.NETWORK_ERROR,message:"Failed to upload a file."}):c.error=de,c.state=Xi.FAILED,[3,7];case 5:return(se=i.uploadQueue.findIndex(function(Ae){return Ae.requestId===c.requestId}))>=0&&(i.uploadQueue.splice(se,1),this._uploadNextPendingItem(l)),[4,this._resolveMessageQueue(l)];case 6:return fe.sent(),[7];case 7:return[3,10];case 8:return c.state=Xi.FAILED,c.error=We.connectionRequired,(se=i.uploadQueue.findIndex(function(Ae){return Ae.requestId===c.requestId}))>=0&&(i.uploadQueue.splice(se,1),this._uploadNextPendingItem(l)),[4,this._resolveMessageQueue(l)];case 9:fe.sent(),fe.label=10;case 10:return[3,13];case 11:return c.params.thumbnailSizes=[],c.state=Xi.UPLOADED,[4,this._resolveMessageQueue(l)];case 12:fe.sent(),fe.label=13;case 13:return[2]}})})},s.prototype.request=function(l,i,c){var d,p,_;return J(this,void 0,void 0,function(){var g;return Z(this,function(b){return g=new La,fs(c.file)&&(c.fileName=(d=c.fileName)!==null&&d!==void 0?d:c.file.name,c.mimeType=(p=c.mimeType)!==null&&p!==void 0?p:c.file.type,c.fileSize=(_=c.fileSize)!==null&&_!==void 0?_:c.file.size),this._queueMap.has(l.url)||this._queueMap.set(l.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(l.url).messageQueue.push({requestId:i,params:c,state:Xi.PENDING,deferred:g,requireAuth:c.requireAuth}),this._uploadNextPendingItem(l),[2,g.promise]})})},s.prototype.cancel=function(l,i){var c,d;i===void 0&&(i=null);var p=this._queueMap.get(l.url);if(p){var _=i?[p.messageQueue.find(function(I){return I.requestId===i})]:Fr([],xr(p.messageQueue),!1);try{for(var g=Et(_),b=g.next();!b.done;b=g.next()){var E=b.value;if(E)switch(E.state){case Xi.PENDING:E.state=Xi.FAILED,E.error=We.requestCanceled,this._resolveMessageQueue(l);break;case Xi.UPLOADING:this._requestQueue.cancel(E.requestId)}}}catch(I){c={error:I}}finally{try{b&&!b.done&&(d=g.return)&&d.call(g)}finally{if(c)throw c.error}}}},s}(),Gm={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:vs.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:gs.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},MI=function(s){return ze("number",s.prevResultSize)&&ze("number",s.nextResultSize)&&ze("boolean",s.isInclusive)&&ze("boolean",s.reverse)&&ze("string",s.messageTypeFilter)&&kr(vs,s.messageTypeFilter)&&Qt("string",s.customTypesFilter,!0)&&Qt("string",s.senderUserIdsFilter,!0)&&kr(gs,s.replyType)&&ze("boolean",s.includeMetaArray)&&ze("boolean",s.includeReactions)&&ze("boolean",s.includeParentMessageInfo)&&ze("boolean",s.includeThreadInfo)&&ze("boolean",s.showSubchannelMessagesOnly)},tE={replyType:gs.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},DI=function(s){return kr(gs,s.replyType)&&ze("boolean",s.includeReactions)&&ze("boolean",s.includeMetaArray)&&ze("boolean",s.includeParentMessageInfo)&&ze("boolean",s.includeThreadInfo)};(function(s){s.UNKNOWN="UNKNOWN",s.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",s.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",s.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",s.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",s.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",s.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",s.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",s.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",s.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",s.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",s.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",s.REQUEST_MESSAGE="REQUEST_MESSAGE",s.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",s.EVENT_POLL_VOTED="EVENT_POLL_VOTED",s.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",s.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",s.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",s.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",s.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",s.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",s.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",s.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",s.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",s.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",s.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(fi||(fi={}));var Sp,Ja=function(s){function l(i){var c=i.messages,d=i.source,p=s.call(this)||this;return p.messages=c,p.source=d,p}return _e(l,s),l}(ki),CX=function(s){function l(i){var c=i.messageIds,d=i.source,p=s.call(this)||this;return p.messageIds=c,p.source=d,p}return _e(l,s),l}(ki);(function(s){function l(i){var c=i.reqId,d=i.source,p=s.call(this)||this;return p.reqId=c,p.source=d,p}_e(l,s)})(ki);var IX=function(s){function l(i){var c=i.polls,d=i.source,p=s.call(this)||this;return p.polls=c,p.source=d,p}return _e(l,s),l}(ki),NX=function(s){function l(i){var c=i.event,d=i.source,p=s.call(this)||this;return p.event=c,p.source=d,p}return _e(l,s),l}(ki),LI=function(s){function l(i){var c=i.event,d=i.source,p=s.call(this)||this;return p.event=null,p.source=null,p.event=c,p.source=d,p}return _e(l,s),l}(ki),AX=function(s){function l(i){var c=i.channelType,d=i.channelUrl,p=i.messageId,_=i.includeMetaArray,g=i.includeReactions,b=i.includeThreadInfo,E=i.includeParentMessageInfo,I=s.call(this)||this;return I.method=In.GET,I.path="".concat(ur(c),"/").concat(encodeURIComponent(d),"/messages/").concat(encodeURIComponent(p)),I.params={is_sdk:!0,with_sorted_meta_array:_,include_reactions:g,include_thread_info:b,include_parent_message_info:E,include_poll_details:!0},I}return _e(l,s),l}(An),OX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.message=c?Mc(i,Be({},c)):null,d}return _e(l,s),l}(Un),rE=function(s){function l(i){var c=i.channelType,d=i.channelUrl,p=i.timestamp,_=p===void 0?null:p,g=i.token,b=g===void 0?null:g,E=i.prevResultSize,I=i.nextResultSize,U=i.isInclusive,X=i.reverse,W=i.messageTypeFilter,de=i.customTypesFilter,se=i.senderUserIdsFilter,fe=i.replyType,Ae=i.includeMetaArray,we=i.includeReactions,$e=i.parentMessageId,ln=i.includeThreadInfo,Ie=i.includeParentMessageInfo,ye=i.showSubchannelMessagesOnly,tn=s.call(this)||this;return tn.method=In.GET,tn.path="".concat(ur(c),"/").concat(encodeURIComponent(d),"/messages"),tn.params=St({is_sdk:!0,prev_limit:E,next_limit:I,include:U,reverse:X,message_ts:_,message_id:b,message_type:W??null,custom_types:de,sender_ids:se,include_reply_type:fe,with_sorted_meta_array:Ae,include_reactions:we,parent_message_id:$e,include_thread_info:ln,include_parent_message_info:Ie,show_subchannel_message_only:ye,include_poll_details:!0}),tn}return _e(l,s),l}(An),iE=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.messages=c.messages.map(function(p){return Mc(i,p)}),d}return _e(l,s),l}(Un),RX=function(s){function l(i){var c=i.channelType,d=i.channelUrl,p=i.timestamp,_=i.token,g=i.replyType,b=i.includeMetaArray,E=i.includeReactions,I=i.includeThreadInfo,U=i.includeParentMessageInfo,X=s.call(this)||this;return X.method=In.GET,X.path="".concat(ur(c),"/").concat(encodeURIComponent(d),"/messages/changelogs"),X.params={change_ts:p,token:_,with_sorted_meta_array:b,include_reactions:E,include_thread_info:I,include_reply_type:g,include_parent_message_info:U,include_poll_details:!0},X}return _e(l,s),l}(An),MX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.updatedMessages=c.updated.map(function(p){return Mc(i,p)}),d.deletedMessagesInfo=c.deleted.map(function(p){return{messageId:p.message_id,deletedAt:p.deleted_at}}),d.hasMore=c.has_more,d.nextToken=c.next,d}return _e(l,s),l}(Un),DX=function(s){function l(i){var c=i.channelUrl,d=i.scheduledMessageId,p=s.call(this)||this;return p.method=In.GET,p.path="".concat(gI,"/").concat(encodeURIComponent(c),"/scheduled_messages/").concat(encodeURIComponent(d)),p.params={},p}return _e(l,s),l}(An),LX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.message=c?Mc(i,Be({},c)):null,d}return _e(l,s),l}(Un),UI={},Ua=function(){function s(l,i){var c=i.sdkState,d=i.dispatcher,p=i.requestQueue,_=i.onlineDetector,g=i.cacheContext;this._iid=l,this._sdkState=c,this._requestQueue=p,this._dispatcher=d,this._cacheContext=g,this.fileMessageQueue=new TX(l,{sdkState:c,dispatcher:d,requestQueue:p,onlineDetector:_,cacheContext:g}),UI[l]=this}return s.of=function(l){return UI[l]},s.prototype.buildMessageFromSerializedData=function(l){var i=Ep(l);switch(i.messageType){case Kr.USER:return new ba(this._iid,ba.payloadify(i));case Kr.FILE:return new pi(this._iid,pi.payloadify(i));case Kr.ADMIN:return new xh(this._iid,xh.payloadify(i))}return null},s.prototype.buildUserMessageCreateParamsFromSerializedData=function(l,i){return St({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:l.isReplyToChannel,pushNotificationDeliveryOption:l.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,message:i.message,translationTargetLanguages:Object.keys(i.translations),pollId:l.pollId})},s.prototype.buildFileMessageCreateParamsFromSerializedData=function(l,i){return St({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:l.isReplyToChannel,pushNotificationDeliveryOption:l.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,file:l.file,fileKey:l.fileKey,fileUrl:i.plainUrl,fileName:i.name,fileSize:i.size,mimeType:i.type,thumbnailSizes:i.thumbnails.map(function(c){return{maxWidth:c.width,maxHeight:c.height}}),fileType:l.fileType,requireAuth:i.requireAuth})},s.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(l,i){return Be(Be({},this.buildUserMessageCreateParamsFromSerializedData(l,i)),{scheduledAt:l.scheduledAt})},s.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(l,i){return Be(Be({},this.buildFileMessageCreateParamsFromSerializedData(l,i)),{scheduledAt:l.scheduledAt})},s.prototype.buildSenderFromSerializedData=function(l){var i=Ep(l);return new xp(this._iid,xp.payloadify(i))},s.prototype.getMessage=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return i=new AX(l),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(OX).message]}})})},s.prototype.getScheduledMessage=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return i=new DX(l),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(LX).message]}})})},s.prototype.getMessagesByMessageId=function(l,i,c,d,p){return p===void 0&&(p=fi.REQUEST_MESSAGE),J(this,void 0,void 0,function(){var _,g,b;return Z(this,function(E){switch(E.label){case 0:return _=new rE(Be(Be({channelType:i,channelUrl:l,token:String(c)},Gm),d)),[4,this._requestQueue.send(_)];case 1:return g=E.sent(),b=g.as(iE).messages,this._dispatcher.dispatch(new Ja({messages:b,source:p})),[2,b]}})})},s.prototype.getMessagesByTimestamp=function(l,i,c,d,p){return p===void 0&&(p=fi.REQUEST_MESSAGE),J(this,void 0,void 0,function(){var _,g,b;return Z(this,function(E){switch(E.label){case 0:return _=new rE(Be(Be({channelType:i,channelUrl:l,timestamp:c},Gm),d)),[4,this._requestQueue.send(_)];case 1:return g=E.sent(),b=g.as(iE).messages,this._dispatcher.dispatch(new Ja({messages:b,source:p})),[2,b]}})})},s.prototype.getThreadedMessagesByTimestamp=function(l,i,c,d){return d===void 0&&(d=fi.REQUEST_THREADED_MESSAGE),J(this,void 0,void 0,function(){var p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return p=new rE(Be(Be(Be({channelUrl:l.channelUrl,channelType:l.channelType,timestamp:i},zm),c),{replyType:gs.ALL,parentMessageId:l.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(p)];case 1:return _=E.sent(),g=_.as(iE).messages,(b=g.slice(1)).forEach(function(I){I.parentMessage=l}),this._dispatcher.dispatch(new Ja({messages:b,source:d})),[2,{parentMessage:g[0],threadedMessages:b}]}})})},s.prototype.getMessageChangelogs=function(l,i,c,d,p){return p===void 0&&(p=fi.REQUEST_MESSAGE_CHANGELOGS),J(this,void 0,void 0,function(){var _,g,b,E,I,U,X,W;return Z(this,function(de){switch(de.label){case 0:return _=new RX(St(Be(Be({channelType:i,channelUrl:l,timestamp:typeof c=="number"?c:null,token:typeof c=="string"?c:null},tE),d))),[4,this._requestQueue.send(_)];case 1:return g=de.sent(),b=g.as(MX),E=b.updatedMessages,I=b.deletedMessagesInfo,U=b.hasMore,X=b.nextToken,W=I.map(function(se){return se.messageId}),E.length>0&&this._dispatcher.dispatch(new Ja({messages:E,source:p})),W.length>0&&this._dispatcher.dispatch(new CX({messageIds:W,source:p})),[2,{updatedMessages:E,deletedMessageIds:W,hasMore:U,token:X}]}})})},s}(),aE=function(){function s(){this._onPending=Mt,this._onFailed=Mt,this._onSucceeded=Mt}return s.prototype._trigger=function(l,i){switch(i.sendingStatus){case Hr.PENDING:i.errorCode===0&&this._onPending(i);break;case Hr.FAILED:case Hr.CANCELED:this._onFailed(l,i.scheduledInfo?null:i);break;case Hr.SCHEDULED:case Hr.SUCCEEDED:this._onSucceeded(i)}},s.prototype.onPending=function(l){return this._onPending=l,this},s.prototype.onFailed=function(l){return this._onFailed=l,this},s.prototype.onSucceeded=function(l){return this._onSucceeded=l,this},s}(),UX=function(s){function l(i,c){var d=s.call(this,i)||this;d.threadInfo=null,d.targetMessageId=0,d.channelUrl=null,d.channelType=null;var p=c.thread_info,_=c.parent_message_id,g=c.channel_url,b=c.channel_type;return p&&ze("object",p)&&ze("number",_)&&ze("string",g)&&ze("string",b)&&(d.threadInfo=new Q2(i,p),d.targetMessageId=_,d.channelUrl=g,d.channelType=b),d}return _e(l,s),l}(jo),PX={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},Sh=function(){function s(l,i){var c;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=l,this.limit=(c=i.limit)!==null&&c!==void 0?c:20}return Object.defineProperty(s.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),s.prototype._validate=function(){return ze("number",this.limit)&&this.limit>0},s}(),FX=function(s){function l(i){var c=i.channelCustomType,d=i.keyword,p=i.limit,_=i.reverse,g=i.exactMatch,b=i.channelUrl,E=i.order,I=i.messageTimestampFrom,U=i.messageTimestampTo,X=i.advancedQuery,W=i.targetFields,de=i.nextToken,se=s.call(this)||this;return se.method=In.GET,se.path="".concat(JY,"/messages"),se.params={custom_type:c,query:d,limit:p,reverse:_,exact_match:g,channel_url:b,message_ts_from:I,message_ts_to:U,sort_field:E,advanced_query:X,target_fields:W,after:de},se}return _e(l,s),l}(An),HX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.messages=c.results.map(function(p){return Mc(i,p)}),d.hasNext=c.has_next,d.nextToken=c.end_cursor,d.totalCount=c.total_count,d}return _e(l,s),l}(Un);(function(s){s.SCORE="score",s.TIMESTAMP="ts"})(Sp||(Sp={}));var ya,sE,gi,oE,BX=function(s){function l(i,c){var d,p,_,g,b,E,I,U,X,W=this;return(W=s.call(this,i,c)||this).keyword="",W.reverse=!1,W.exactMatch=!1,W.channelUrl="",W.channelCustomType="",W.messageTimestampFrom=null,W.messageTimestampTo=null,W.order=Sp.SCORE,W.advancedQuery=!1,W.targetFields=null,W._nextToken="",W.totalCount=-1,W.keyword=c.keyword,W.reverse=(d=c.reverse)!==null&&d!==void 0&&d,W.exactMatch=(p=c.exactMatch)!==null&&p!==void 0&&p,W.channelUrl=(_=c.channelUrl)!==null&&_!==void 0?_:"",W.channelCustomType=(g=c.channelCustomType)!==null&&g!==void 0?g:"",W.messageTimestampFrom=(b=c.messageTimestampFrom)!==null&&b!==void 0?b:null,W.messageTimestampTo=(E=c.messageTimestampTo)!==null&&E!==void 0?E:null,W.order=(I=c.order)!==null&&I!==void 0?I:Sp.SCORE,W.advancedQuery=(U=c.advancedQuery)!==null&&U!==void 0&&U,W.targetFields=(X=c.targetFields)!==null&&X!==void 0?X:null,W}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&ze("string",this.keyword)&&this.keyword.length>0&&ze("boolean",this.reverse)&&ze("boolean",this.exactMatch)&&ze("string",this.channelUrl)&&ze("string",this.channelCustomType)&&(ze("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(ze("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&kr(Sp,this.order)&&ze("boolean",this.advancedQuery)&&Qt("string",this.targetFields,!0)},l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E;return Z(this,function(I){switch(I.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid).requestQueue,c=new FX(Be(Be({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=I.sent(),p=d.as(HX),_=p.messages,g=p.hasNext,b=p.nextToken,E=p.totalCount,this._nextToken=b,this._hasNext=g,this._isLoading=!1,this.totalCount=E,[2,_];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(Sh),ju=function(s){function l(i,c,d,p){var _=s.call(this,i,p)||this;return _.channelUrl=c,_.channelType=d,_}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&ze("string",this.channelUrl)&&kr(Br,this.channelType)},l}(Sh),$X=function(s){function l(i,c,d,p){var _,g,b,E,I,U,X,W,de,se,fe=this;return(fe=s.call(this,i,c,d,p)||this).reverse=!1,fe.messageTypeFilter=vs.ALL,fe.customTypesFilter=null,fe.senderUserIdsFilter=null,fe.replyType=gs.NONE,fe.includeMetaArray=!1,fe.includeReactions=!1,fe.includeParentMessageInfo=!1,fe.includeThreadInfo=!1,fe.showSubchannelMessagesOnly=!1,fe._edge=Number.MAX_SAFE_INTEGER,fe.reverse=(_=p.reverse)!==null&&_!==void 0&&_,fe.messageTypeFilter=(g=p.messageTypeFilter)!==null&&g!==void 0?g:vs.ALL,fe.customTypesFilter=(b=p.customTypesFilter)!==null&&b!==void 0?b:null,fe.senderUserIdsFilter=(E=p.senderUserIdsFilter)!==null&&E!==void 0?E:null,fe.replyType=(I=p.replyType)!==null&&I!==void 0?I:gs.NONE,fe.includeMetaArray=(U=p.includeMetaArray)!==null&&U!==void 0&&U,fe.includeReactions=(X=p.includeReactions)!==null&&X!==void 0&&X,fe.includeParentMessageInfo=(W=p.includeParentMessageInfo)!==null&&W!==void 0&&W,fe.includeThreadInfo=(de=p.includeThreadInfo)!==null&&de!==void 0&&de,fe.showSubchannelMessagesOnly=(se=p.showSubchannelMessagesOnly)!==null&&se!==void 0&&se,fe}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&ze("boolean",this.reverse)&&kr(vs,this.messageTypeFilter)&&kr(gs,this.replyType)&&Qt("string",this.customTypesFilter,!0)&&Qt("string",this.senderUserIdsFilter,!0)&&ze("boolean",this.includeMetaArray)&&ze("boolean",this.includeReactions)&&ze("boolean",this.includeParentMessageInfo)&&ze("boolean",this.includeThreadInfo)&&ze("boolean",this.showSubchannelMessagesOnly)},l.prototype.load=function(){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Ua.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return i=c.sent(),this._edge=Math.min.apply(Math,Fr([Number.MAX_SAFE_INTEGER],xr(i.map(function(d){return d.createdAt})),!1)),this._hasNext=i.length>=this.limit,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(ju),zX={channelUrl:null,scheduledMessageId:0},VX=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="message",i}return _e(l,s),l.prototype.init=function(i,c){var d=c.sdkState,p=c.dispatcher,_=c.sessionManager,g=c.requestQueue,b=c.logger,E=c.onlineDetector,I=c.cacheContext;s.prototype.init.call(this,i,{sdkState:d,dispatcher:p,sessionManager:_,requestQueue:g,logger:b,onlineDetector:E,cacheContext:I}),this._manager=new Ua(i,{sdkState:d,dispatcher:p,requestQueue:g,onlineDetector:E,cacheContext:I})},l.prototype.buildMessageFromSerializedData=function(i){return this._manager.buildMessageFromSerializedData(i)},l.prototype.buildSenderFromSerializedData=function(i){return this._manager.buildSenderFromSerializedData(i)},l.prototype.getMessage=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){return c=Be(Be({},PX),i),Pn(function(p){return ze("string",p.channelUrl)&&ze("string",p.channelType)&&kr(Br,p.channelType)&&ze("number",p.messageId)&&ze("boolean",p.includeMetaArray)&&ze("boolean",p.includeParentMessageInfo)&&ze("boolean",p.includeThreadInfo)}(c)).throw(We.invalidParameters),[2,this._manager.getMessage(c)]})})},l.prototype.getScheduledMessage=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){return c=Be(Be({},zX),i),Pn(function(p){return ze("string",p.channelUrl)&&ze("number",p.scheduledMessageId)}(c)).throw(We.invalidParameters),[2,this._manager.getScheduledMessage(c)]})})},l}(W2);(function(s){s.SUCCESS="success",s.PENDING="pending",s.ERROR="error"})(ya||(ya={})),function(s){s.DEFAULT="default",s.ALL="all",s.MENTION_ONLY="mention_only",s.OFF="off"}(sE||(sE={})),function(s){s.FCM="gcm",s.APNS="apns",s.UNKNOWN="unknown"}(gi||(gi={})),function(s){s.ALTERNATIVE="alternative",s.DEFAULT="default"}(oE||(oE={}));var Dc,PI,FI,GX=function(s){function l(i){var c=i.title,d=i.optionTexts,p=i.data,_=i.allowUserSuggestion,g=i.allowMultipleVotes,b=i.closeAt,E=s.call(this)||this;return E.method=In.POST,E.path=po,E.params={title:c,options:d,data:p,allow_user_suggestion:_,allow_multiple_votes:g,close_at:b},E}return _e(l,s),l}(An),qX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.poll=new Hs(i,c),d}return _e(l,s),l}(Un),jX=function(s){function l(i){var c=i.channelUrl,d=i.channelType,p=i.pollId,_=s.call(this)||this;return _.method=In.GET,_.path="".concat(po,"/").concat(encodeURIComponent(p)),_.params={channel_url:c,channel_type:d},_}return _e(l,s),l}(An),KX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.poll=new Hs(i,c),d}return _e(l,s),l}(Un),WX=function(s){function l(i){var c=i.channelUrl,d=i.channelType,p=i.pollId,_=i.pollOptionId,g=s.call(this)||this;return g.method=In.GET,g.path="".concat(po,"/").concat(encodeURIComponent(p),"/options/").concat(encodeURIComponent(_)),g.params={channel_url:c,channel_type:d},g}return _e(l,s),l}(An),QX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.pollOption=new Vm(i,c),d}return _e(l,s),l}(Un),YX=function(s){function l(i){var c=i.channelType,d=i.channelUrl,p=i.timestamp,_=i.token,g=s.call(this)||this;return g.method=In.GET,g.path="".concat(ur(c),"/").concat(encodeURIComponent(d),"/polls/changelogs"),g.params=St({change_ts:p,token:_}),g}return _e(l,s),l}(An),XX=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.updatedPolls=c.updated.map(function(p){return function(_,g){return g?new Hs(_,g):null}(i,p)}),d.deletedPollIds=c.deleted.map(function(p){return p}),d.hasMore=c.has_more,d.nextToken=c.next,d}return _e(l,s),l}(Un),ZX={title:null,optionTexts:null,data:null,allowUserSuggestion:null,allowMultipleVotes:null,closeAt:-1},HI=function(s){return ze("string",s.title)&&function(l){return Qt("string",l)&&l.every(function(i){return i.trim()!==""})}(s.optionTexts)&&AI(s.data)&&ze("boolean",s.allowUserSuggestion,!0)&&ze("boolean",s.allowMultipleVotes,!0)&&ze("number",s.closeAt,!0)},JX={channelUrl:null,channelType:null,pollId:null,pollOptionId:null},BI=function(s){return ze("string",s.channelUrl)&&kr(Br,s.channelType)&&ze("number",s.pollId)&&ze("number",s.pollOptionId)},eZ={channelUrl:null,channelType:null,pollId:null},$I=function(s){return ze("string",s.channelUrl)&&s.channelUrl!==""&&kr(Br,s.channelType)&&ze("number",s.pollId)},zI={},lE=function(){function s(l,i){var c=i.sdkState,d=i.dispatcher,p=i.sessionManager,_=i.requestQueue,g=i.logger;this._iid=l,this._sdkState=c,this._sessionManager=p,this._requestQueue=_,this._dispatcher=d,this._logger=g,zI[l]=this}return s.of=function(l){return zI[l]},s.prototype.buildPollFromSerializedData=function(l){var i=Ep(l);return new Hs(this._iid,Hs.payloadify(i))},s.prototype.get=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return Pn($I(l)).throw(We.invalidParameters),i=new jX(Be({},l)),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(KX).poll]}})})},s.prototype.create=function(l){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:return Pn(HI(l)).throw(We.invalidParameters),i=l.data,c=new GX(Be(Be({},l),{data:i})),[4,this._requestQueue.send(c)];case 1:return[2,d.sent().as(qX).poll]}})})},s.prototype.getOption=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return Pn(BI(l)).throw(We.invalidParameters),i=new WX(Be({},l)),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(QX).pollOption]}})})},s.prototype.getPollChangeLogs=function(l,i,c,d){return d===void 0&&(d=fi.SYNC_POLL_CHANGELOGS),J(this,void 0,void 0,function(){var p,_,g,b,E,I,U;return Z(this,function(X){switch(X.label){case 0:return p=new YX(St({channelType:i,channelUrl:l,timestamp:typeof c=="number"?c:null,token:typeof c=="string"?c:null})),[4,this._requestQueue.send(p)];case 1:return _=X.sent(),g=_.as(XX),b=g.updatedPolls,E=g.deletedPollIds,I=g.hasMore,U=g.nextToken,b.length>0&&this._dispatcher.dispatch(new IX({polls:b,source:d})),[2,{updatedPolls:b,deletedPollIds:E,hasMore:I,token:U}]}})})},s}(),nZ=function(s,l){this.pollId=0,this.messageId=0,this.pollId=l.poll.id,this.messageId=l.poll.message_id,this._iid=s,this._payload=l},tZ=function(s){this.pollId=0,this.messageId=0,this.pollId=s.poll_id,this.messageId=s.message_id,this._payload=s},rZ=function(s){function l(i){var c=i.channelUrl,d=i.channelType,p=i.token,_=i.limit,g=s.call(this)||this;return g.method=In.GET,g.path=po,g.params={channel_url:c,channel_type:d,token:p,limit:_},g}return _e(l,s),l}(An),iZ=function(s){function l(i,c){var d,p=this;return(p=s.call(this,i,c)||this).polls=((d=c.polls)!==null&&d!==void 0?d:[]).map(function(_){return new Hs(i,_)}),p.token=c.next,p}return _e(l,s),l}(Un),VI=function(s){function l(i,c){return s.call(this,i,c.channelUrl,c.channelType,c)||this}return _e(l,s),l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid).requestQueue,c=new rZ(Be(Be({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(iZ),_=p.polls,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(ju),aZ=function(s){function l(i){var c=i.channelUrl,d=i.channelType,p=i.pollId,_=i.pollOptionId,g=i.token,b=i.limit,E=s.call(this)||this;return E.method=In.GET,E.path="".concat(po,"/").concat(encodeURIComponent(p),"/options/").concat(encodeURIComponent(_),"/voters"),E.params={channel_url:c,channel_type:d,token:g,limit:b},E}return _e(l,s),l}(An),sZ=function(s){function l(i,c){var d,p=this;return(p=s.call(this,i,c)||this).voters=((d=c.voters)!==null&&d!==void 0?d:[]).map(function(_){return new Dt(i,_)}),p.token=c.next,p}return _e(l,s),l}(Un),GI=function(s){function l(i,c){var d=s.call(this,i,c.channelUrl,c.channelType,c)||this;return d.pollId=c.pollId,d.pollOptionId=c.pollOptionId,d}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&ze("number",this.pollId)&&ze("number",this.pollOptionId)},l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid).requestQueue,c=new aZ(Be(Be({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(sZ),_=p.voters,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(ju),oZ=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="poll",i}return _e(l,s),l.prototype.init=function(i,c){var d=c.sdkState,p=c.dispatcher,_=c.sessionManager,g=c.requestQueue,b=c.logger,E=c.onlineDetector,I=c.cacheContext;s.prototype.init.call(this,i,{sdkState:d,dispatcher:p,sessionManager:_,requestQueue:g,logger:b,onlineDetector:E,cacheContext:I}),this._manager=new lE(i,{sdkState:d,dispatcher:p,sessionManager:_,requestQueue:g,logger:b,onlineDetector:E,cacheContext:I})},l.prototype.create=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){return c=Be(Be({},ZX),i),Pn(HI(c)).throw(We.invalidParameters),[2,this._manager.create(c)]})})},l.prototype.get=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){return c=Be(Be({},eZ),i),Pn($I(c)).throw(We.invalidParameters),[2,this._manager.get(c)]})})},l.prototype.getOption=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){return c=Be(Be({},JX),i),Pn(BI(c)).throw(We.invalidParameters),[2,this._manager.getOption(c)]})})},l.prototype.buildPollFromSerializedData=function(i){return this._manager.buildPollFromSerializedData(i)},l}(W2),lZ={profileImage:null,profileUrl:null,nickname:null},cZ=function(s){function l(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(d){c.hasOwnProperty(d)&&(c[d]=i[d])}),c}return _e(l,s),l}(function(){this.onSessionExpired=Mt,this.onSessionTokenRequired=function(s){return s(null)},this.onSessionError=Mt,this.onSessionRefreshed=Mt,this.onSessionClosed=Mt}),uZ=function(s){function l(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(d){c.hasOwnProperty(d)&&(c[d]=i[d])}),c}return _e(l,s),l}(function(){this.onConnected=Mt,this.onReconnectStarted=Mt,this.onReconnectSucceeded=Mt,this.onReconnectFailed=Mt,this.onDisconnected=Mt}),dZ=function(s){function l(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(d){c.hasOwnProperty(d)&&(c[d]=i[d])}),c}return _e(l,s),l}(function(){this.onFriendsDiscovered=Mt,this.onTotalUnreadMessageCountUpdated=Mt});(function(s){s.LATEST_LAST_MESSAGE="latest_last_message",s.CHRONOLOGICAL="chronological",s.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",s.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(Dc||(Dc={})),function(s){s.CHRONOLOGICAL="chronological",s.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",s.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(PI||(PI={})),function(s){s.CREATED_AT="created_at",s.SCHEDULED_AT="scheduled_at"}(FI||(FI={}));var Fi,cE=function(s){switch(s){case Dc.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Dc.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Dc.CHANNEL_NAME_ALPHABETICAL:return["name"]}},qm=function(){function s(){this.messageTypeFilter=vs.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=gs.NONE}return s.prototype.clone=function(){var l=new s,i=JSON.parse(JSON.stringify(this));return Object.keys(i).forEach(function(c){l[c]=i[c]}),l},s.prototype.match=function(l){switch(this.messageTypeFilter){case vs.USER:if(l.messageType!==Kr.USER)return!1;break;case vs.FILE:if(l.messageType!==Kr.FILE)return!1;break;case vs.ADMIN:if(l.messageType!==Kr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(l.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(l instanceof kp)||!this.senderUserIdsFilter.includes(l.sender.userId)))return!1;switch(this.replyType){case gs.NONE:if(l.parentMessageId>0)return!1;break;case gs.ONLY_REPLY_TO_CHANNEL:if(l instanceof kp&&l.parentMessageId>0&&!l.replyToChannel)return!1}return!0},s}();(function(s){s.CHANNEL_LATEST="channel_latest",s.NEWEST_CHILD_MESSAGE="newest_child_message"})(Fi||(Fi={}));var Th,Nl=function(s){switch(s){case Fi.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case Fi.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},uE={data:null,customType:null,mentionType:ga.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null,isPinnedMessage:!1},qI=function(s){return ze("string",s.data,!0)&&ze("string",s.customType,!0)&&kr(ga,s.mentionType)&&Qt("string",s.mentionedUserIds,!0)&&Qt(Dt,s.mentionedUsers,!0)&&ze("string",s.mentionedMessageTemplate,!0)&&Qt(bs,s.metaArrays,!0)&&ze("number",s.parentMessageId,!0)&&ze("boolean",s.isReplyToChannel)&&kr(Nc,s.pushNotificationDeliveryOption,!0)&&ze(Oc,s.appleCriticalAlertOptions,!0)&&ze("boolean",s.isPinnedMessage,!0)},jI=function(s){return s?{isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption,pollId:s.pollId}:null},KI=Be(Be({},uE),{message:null,translationTargetLanguages:null,pollId:null});(function(s){s.FILE="file",s.BLOB="blob",s.BLOB_LIKE_OBJECT="blobLikeObject",s.URL="url"})(Th||(Th={}));var dE=function(s){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&s instanceof Blob},WI=function(s){return s===Th.BLOB||s===Th.FILE},QI=function(s){return s?{file:s.file,fileKey:s.fileKey,fileType:s.fileType,isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption}:null},YI=Be(Be({},uE),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),XI=function(s){return qI(s)&&(fs(s.file)||ze("string",s.fileUrl))&&ze("string",s.fileName,!0)&&ze("string",s.mimeType,!0)&&ze("number",s.fileSize,!0)&&(s.thumbnailSizes===null||Array.isArray(s.thumbnailSizes)&&s.thumbnailSizes.every(function(l){return ze("object",l)&&l.maxWidth>0&&l.maxHeight>0}))},Al=typeof document<"u"&&typeof navigator<"u";Al&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var hZ=Al&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");Al&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),Al&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),Al&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var Tp,Zi,pZ=Al&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),ZI=function(){var s=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var i=(s+16*Math.random())%16|0;return s=Math.floor(s/16),(l==="x"?i:3&i|8).toString(16)})};(function(s){s[s.PROCESSING=0]="PROCESSING",s[s.DONE=1]="DONE"})(Tp||(Tp={})),function(s){s.NEWNODE="newnode",s.REMOVENODE="removenode",s.CLAIM_HOST="claimhost",s.SYNC_HOST="synchost",s.REQUEST_LOCK="requestlock",s.ACQUIRE_LOCK="acquirelock",s.RELEASE_LOCK="releaselock"}(Zi||(Zi={}));var hE,pE={},fE=function(){function s(l,i){i===void 0&&(i={});var c=this;return this._state=Tp.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],pE[l]&&!i.forceCreate||(this.nodeId=ZI(),this.key=l,Al&&(i.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&c.claimHost()}),window.addEventListener("message",function(d){var p,_,g=d.data,b=g.nodeId,E=g.requestId,I=g.key,U=g.op,X=g.data;if(b!==c.nodeId&&I===c.key)switch(U){case Zi.NEWNODE:c._sendSync();break;case Zi.CLAIM_HOST:c._sendSync(),c._hostId=b;break;case Zi.SYNC_HOST:if(!c.isInSync){c._activationTimeout&&clearTimeout(c._activationTimeout);var W=X,de=W.currentItemRequestId,se=W.queue,fe=function(ln){c._queue.findIndex(function(Ie){return Ie.requestId===ln.requestId})<0&&c._requestLock({nodeId:ln.nodeId,requestId:ln.requestId,key:c.key,op:Zi.REQUEST_LOCK,ts:ln.ts})};try{for(var Ae=Et(se),we=Ae.next();!we.done;we=Ae.next())fe(we.value)}catch(ln){p={error:ln}}finally{try{we&&!we.done&&(_=Ae.return)&&_.call(Ae)}finally{if(p)throw p.error}}c._currentItem=c._queue.find(function(ln){return ln.requestId===de}),c._completeSync()}break;case Zi.REMOVENODE:c._queue=c._queue.filter(function(ln){return ln.nodeId!==g.nodeId}),c._currentItem&&c._currentItem.nodeId===g.nodeId&&(c._currentItem=null,c._acquire(c._queue[0]));break;case Zi.REQUEST_LOCK:c._requestLock(g);break;case Zi.ACQUIRE_LOCK:var $e=c._queue.find(function(ln){return ln.requestId===E});c._acquire($e);break;case Zi.RELEASE_LOCK:c._release(E)}}),window.addEventListener("beforeunload",function(){c._send(Zi.REMOVENODE)})),pE[l]=this),pE[l]}return Object.defineProperty(s.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isInSync",{get:function(){return this._state==Tp.DONE},enumerable:!1,configurable:!0}),s.prototype._send=function(l,i){var c,d;i===void 0&&(i={});var p={nodeId:this.nodeId,requestId:(c=i==null?void 0:i.requestId)!==null&&c!==void 0?c:ZI(),key:this.key,op:l,data:(d=i.data)!==null&&d!==void 0?d:null,ts:Date.now()};return Al&&window.postMessage(p,"*"),p},s.prototype._acquire=function(l){l===void 0&&(l=null),l?(this._currentItem=l,this._currentItem.onAcquired(l.requestId)):this._currentItem=null},s.prototype._release=function(l){if(this._currentItem&&this._currentItem.requestId===l){var i=this._currentItem;this._currentItem=null,i.nodeId===this.nodeId&&this._send(Zi.RELEASE_LOCK,{requestId:i.requestId});var c=this._queue.findIndex(function(d){return d.requestId===l});c>-1&&this._queue.splice(c,1),i.onReleased(l)}},s.prototype._requestLock=function(l){var i=this;return new Promise(function(c){var d={nodeId:l.nodeId,requestId:l.requestId,ts:l.ts,onAcquired:function(g){i.isHost&&i._send(Zi.ACQUIRE_LOCK,{requestId:g}),c()},onReleased:function(){i._acquire(i._queue[0])}},p=!1;for(var _ in i._queue)if(i._queue[_].ts>d.ts){i._queue.splice(parseInt(_),0,d),p=!0;break}p||i._queue.push(d),i._currentItem||i._acquire(i._queue[0])})},s.prototype._sendSync=function(){var l;this.isHost&&this._send(Zi.SYNC_HOST,{data:{currentItemRequestId:(l=this._currentItem)===null||l===void 0?void 0:l.requestId,queue:this._queue.map(function(i){return{nodeId:i.nodeId,requestId:i.requestId,ts:i.ts}})}})},s.prototype._waitUntilSyncCompleted=function(){return J(this,void 0,void 0,function(){var l=this;return Z(this,function(i){return this.isHost&&!this.isInSync?[2,new Promise(function(c){l._activationQueue.push(c)})]:[2]})})},s.prototype._waitSync=function(){var l=this;this.isInSync||(this._activationTimeout=setTimeout(function(){l._completeSync()},8))},s.prototype._completeSync=function(){this.isInSync||(this._state=Tp.DONE,this._activationQueue.forEach(function(l){return l()}),this._activationQueue=[])},s.prototype.registerNode=function(){this._send(Zi.NEWNODE),this._waitSync()},s.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(Zi.CLAIM_HOST),this._waitSync()},s.prototype.lock=function(){return J(this,void 0,void 0,function(){var l;return Z(this,function(i){switch(i.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return i.sent(),l=this._send(Zi.REQUEST_LOCK),[4,this._requestLock(l)];case 2:return i.sent(),[2]}})})},s.prototype.unlock=function(){var l;this._release((l=this._currentItem)===null||l===void 0?void 0:l.requestId)},s}();Be(Be({},KI),{scheduledAt:null}),Be(Be({},uE),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1});var JI={},eN=function(s){function l(i,c){var d=c.sdkState,p=c.cacheContext,_=s.call(this,i)||this;return _._sdkState=d,_._cacheContext=p,JI[i]=_,_._mutex=new fE("unsendmessagecache.lock"),_}return _e(l,s),l.of=function(i){return JI[i]},Object.defineProperty(l.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb;return i&&i.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),l.prototype._serialize=function(i){if(i.messageId>0)throw We.invalidParameters;var c,d=Be({},i.serialize());return i instanceof ba?(i.messageParams&&(d.messageParams=jI(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(d.scheduledInfo.scheduledMessageParams=(c=i.scheduledInfo.scheduledMessageParams,Be(Be({},jI(c)),{scheduledAt:c.scheduledAt})))):i instanceof pi&&(i.messageParams&&(d.messageParams=QI(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(d.scheduledInfo.scheduledMessageParams=function(p){return Be(Be({},QI(p)),{scheduledAt:p.scheduledAt})}(i.scheduledInfo.scheduledMessageParams))),d},l.prototype._deserialize=function(i){return i?(i=Be(Be({},i),{messageId:parseInt(i.messageId)}),Ua.of(this._iid).buildMessageFromSerializedData(i)):null},l.prototype._deserializeWithMessageCreateParams=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return c=Ua.of(this._iid),d=this._deserialize(i),i.messageParams?d instanceof ba?(p=i.messageParams,d.messageParams=c.buildUserMessageCreateParamsFromSerializedData(p,d),[3,4]):[3,1]:[3,4];case 1:return d instanceof pi?(p=i.messageParams).fileKey&&typeof p.fileKey=="string"&&WI(p.fileType)?(_=p,[4,this.collection.getBlob(p.fileKey)]):[3,3]:[3,4];case 2:_.file=E.sent(),E.label=3;case 3:d.messageParams=c.buildFileMessageCreateParamsFromSerializedData(p,d),E.label=4;case 4:return d.scheduledInfo&&i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams?d instanceof ba?(g=i.scheduledInfo.scheduledMessageParams,d.scheduledInfo.scheduledMessageParams=c.buildScheduledUserMessageCreateParamsFromSerializedData(g,d),[3,8]):[3,5]:[3,8];case 5:return d instanceof pi?(g=i.scheduledInfo.scheduledMessageParams).fileKey&&typeof g.fileKey=="string"&&WI(g.fileType)?(b=g,[4,this.collection.getBlob(g.fileKey)]):[3,7]:[3,8];case 6:b.file=E.sent(),E.label=7;case 7:d.scheduledInfo.scheduledMessageParams=c.buildScheduledFileMessageCreateParamsFromSerializedData(g,d),E.label=8;case 8:return[2,d]}})})},l.prototype.get=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(c=d.sent())return[2,this._deserializeWithMessageCreateParams(c)];d.label=2;case 2:return[2,null]}})})},l.prototype.fetch=function(i){var c=i.channelUrl,d=c===void 0?null:c,p=i.filter,_=p===void 0?new qm:p,g=i.order,b=g===void 0?Fi.CHANNEL_LATEST:g,E=i.sendingStatus,I=E===void 0?null:E,U=i.backward,X=U!==void 0&&U,W=i.parentMessageId,de=W===void 0?null:W;return J(this,void 0,void 0,function(){var se,fe,Ae,we,$e=this;return Z(this,function(ln){switch(ln.label){case 0:return this.localCacheEnabled?(se=Nl(b),fe={"/where":function(Ie){return!!(b!==Fi.NEWEST_CHILD_MESSAGE||de&&Ie.parentMessageId!==0&&Ie.parentMessageId===de)&&_.match($e._deserialize(Ie))}},d&&(fe.channelUrl=d),I&&(fe.sendingStatus=I),Ae={where:fe,index:se,backward:X},[4,this.collection.query(Ae)]):[3,3];case 1:return[4,ln.sent().fetch({})];case 2:return we=ln.sent(),[2,Promise.all(we.map(function(Ie){return J($e,void 0,void 0,function(){return Z(this,function(ye){switch(ye.label){case 0:return[4,this._deserializeWithMessageCreateParams(Ie)];case 1:return[2,ye.sent()]}})})}))];case 3:return[2,[]]}})})},l.prototype.getAllChildMessages=function(i,c){return c===void 0&&(c=new qm),J(this,void 0,void 0,function(){return Z(this,function(d){switch(d.label){case 0:return[4,this.fetch({filter:c,order:Fi.NEWEST_CHILD_MESSAGE,channelUrl:i.channelUrl,backward:!1,parentMessageId:i.messageId})];case 1:return[2,d.sent()]}})})},l.prototype.upsert=function(i){return J(this,void 0,void 0,function(){var c=this;return Z(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return J(c,void 0,void 0,function(){var _;return Z(this,function(g){switch(g.label){case 0:return p instanceof pi?[4,this._mutex.lock()]:[3,4];case 1:return g.sent(),[4,this.saveBlob(p)];case 2:return g.sent(),[4,this._mutex.unlock()];case 3:g.sent(),g.label=4;case 4:return _=this._serialize(p),[4,this.collection.upsertOne(_)];case 5:return g.sent(),[2]}})})}))]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},l.prototype.upsertChildMessages=function(i){return J(this,void 0,void 0,function(){var c=this;return Z(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return J(c,void 0,void 0,function(){var _,g;return Z(this,function(b){switch(b.label){case 0:return _=[],((g=p.threadInfo)===null||g===void 0?void 0:g.replyCount)>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:_=b.sent(),b.label=2;case 2:return _.length>0?(_.forEach(function(E){return E.applyParentMessage(p)}),[4,this.upsert(_)]):[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}})})}))]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},l.prototype.remove=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:if(!this.localCacheEnabled)return[3,8];E.label=1;case 1:E.trys.push([1,6,7,8]),c=Et(i),d=c.next(),E.label=2;case 2:return d.done?[3,5]:(p=d.value,[4,this.collection.remove(p)]);case 3:E.sent(),E.label=4;case 4:return d=c.next(),[3,2];case 5:return[3,8];case 6:return _=E.sent(),g={error:_},[3,8];case 7:try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}return[7];case 8:return[2]}})})},l.prototype.removeMessagesOfChannel=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i}})]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},l.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},l.prototype.saveBlob=function(i){return J(this,void 0,void 0,function(){var c,d,p;return Z(this,function(_){switch(_.label){case 0:return i instanceof pi?i.messageParams&&(c=i.messageParams).file&&dE(c.file)?[4,this.collection.saveBlob(c.file,i.reqId)]:[3,2]:[3,4];case 1:p=_.sent(),c.fileKey=p,c.fileType=Th.BLOB,_.label=2;case 2:return i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(d=i.scheduledInfo.scheduledMessageParams).file&&dE(d.file)?[4,this.collection.saveBlob(d.file,i.reqId)]:[3,4];case 3:p=_.sent(),d.fileKey=p,d.fileType=Th.BLOB,_.label=4;case 4:return[2]}})})},l}(jo),nN={},fZ=function(s){function l(i,c){var d=c.sdkState,p=c.cacheContext,_=c.unsentMessageCache,g=s.call(this,i)||this;return g._sdkState=d,g._cacheContext=p,g._unsentMessageCache=_,nN[i]=g,g}return _e(l,s),l.of=function(i){return nN[i]},Object.defineProperty(l.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb;return i?i.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),l.prototype._serialize=function(i){return Be(Be({},i.serialize()),{messageId:"".concat(i.messageId)})},l.prototype._deserialize=function(i){return i=Be(Be({},i),{messageId:parseInt(i.messageId)}),Ua.of(this._iid).buildMessageFromSerializedData(i)},l.prototype.get=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(c=d.sent())return[2,this._deserialize(c)];d.label=2;case 2:return[2,null]}})})},l.prototype.fetch=function(i){var c=i.channelUrl,d=i.token,p=i.limit,_=p===void 0?100:p,g=i.filter,b=g===void 0?new qm:g,E=i.order,I=E===void 0?Fi.CHANNEL_LATEST:E,U=i.backward,X=U!==void 0&&U,W=i.parentMessageId,de=W===void 0?null:W,se=i.isPollOnly,fe=se!==void 0&&se;return J(this,void 0,void 0,function(){var Ae,we,$e,ln=this;return Z(this,function(Ie){switch(Ie.label){case 0:return this.localCacheEnabled?(Ae=Nl(I),we={where:{channelUrl:c,"/where":function(ye){if(d)switch(I){case Fi.CHANNEL_LATEST:if(!X&&ye.createdAt>d||X&&ye.createdAt<d)return!1;break;case Fi.NEWEST_CHILD_MESSAGE:if(!de||ye.parentMessageId===0||ye.parentMessageId!==de)return!1}return!(fe&&!ye._poll)&&b.match(ln._deserialize(ye))}},index:Ae,backward:X},[4,this.collection.query(we)]):[3,3];case 1:return[4,Ie.sent().fetch({limit:_})];case 2:return $e=Ie.sent(),[2,Promise.all($e.map(function(ye){return J(ln,void 0,void 0,function(){return Z(this,function(tn){return[2,this._deserialize(ye)]})})}))];case 3:return[2,[]]}})})},l.prototype.getAllChildMessages=function(i,c){return c===void 0&&(c=new qm),J(this,void 0,void 0,function(){return Z(this,function(d){switch(d.label){case 0:return[4,this.fetch({channelUrl:i.channelUrl,token:Date.now(),limit:null,backward:!1,filter:c,order:Fi.NEWEST_CHILD_MESSAGE,parentMessageId:i.messageId})];case 1:return[2,d.sent()]}})})},l.prototype.upsert=function(i){return J(this,void 0,void 0,function(){var c,d=this;return Z(this,function(p){switch(p.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(i)]:[3,5];case 1:return p.sent(),c=i.map(function(_){return d._serialize(_)}),[4,this.collection.upsertMany(c)];case 2:return p.sent(),[4,this.upsertChildMessages(i)];case 3:return p.sent(),[4,this._unsentMessageCache.upsertChildMessages(i)];case 4:p.sent(),p.label=5;case 5:return[2]}})})},l.prototype.upsertChildMessages=function(i){return J(this,void 0,void 0,function(){var c=this;return Z(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return J(c,void 0,void 0,function(){var _,g;return Z(this,function(b){switch(b.label){case 0:return _=[],((g=p.threadInfo)===null||g===void 0?void 0:g.replyCount)>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:_=b.sent(),b.label=2;case 2:return _.length>0?(_.forEach(function(E){return E.applyParentMessage(p)}),[4,this.upsert(_)]):[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}})})}))]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},l.prototype.remove=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:if(!this.localCacheEnabled)return[3,8];E.label=1;case 1:E.trys.push([1,6,7,8]),c=Et(i),d=c.next(),E.label=2;case 2:return d.done?[3,5]:(p=d.value,[4,this.collection.remove("".concat(p))]);case 3:E.sent(),E.label=4;case 4:return d=c.next(),[3,2];case 5:return[3,8];case 6:return _=E.sent(),g={error:_},[3,8];case 7:try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}return[7];case 8:return[2]}})})},l.prototype.removeMessagesOfChannel=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i},index:Nl(Fi.CHANNEL_LATEST)})]:[3,6];case 1:return d.sent(),[4,(c=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync"))];case 2:return d.sent(),[4,c.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync.meta"))];case 3:return d.sent(),[4,c.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs"))];case 4:return d.sent(),[4,c.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs.meta"))];case 5:d.sent(),d.label=6;case 6:return[2]}})})},l.prototype.removeUnderOffset=function(i,c){return J(this,void 0,void 0,function(){return Z(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i,createdAt:{"<":c}},index:Nl(Fi.CHANNEL_LATEST)})]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},l.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},l.prototype.countBetween=function(i,c,d){return J(this,void 0,void 0,function(){var p,_=this;return Z(this,function(g){switch(g.label){case 0:return this.localCacheEnabled?(p=Nl(Fi.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:i,"/where":function(b){var E=_._deserialize(b);return d.includes(E.createdAt)&&c.match(E)}},index:p}).count()]):[3,2];case 1:return[2,g.sent()];case 2:return[2,0]}})})},l.prototype.saveBlobs=function(i){return J(this,void 0,void 0,function(){var c=this;return Z(this,function(d){switch(d.label){case 0:return[4,Promise.all(i.map(function(p){return J(c,void 0,void 0,function(){var _,g;return Z(this,function(b){switch(b.label){case 0:return p instanceof pi&&p.messageParams&&(_=p.messageParams).file&&dE(_.file)?[4,this.collection.saveBlob(_.file,p.reqId)]:[3,2];case 1:g=b.sent(),_.fileKey=g,b.label=2;case 2:return[2]}})})}))];case 1:return d.sent(),[2]}})})},l}(jo),_Z=function(s){function l(i){i===void 0&&(i=!0);var c=s.call(this)||this;return c._pauseDelayTimer=null,c._currentState="visible",c._isEnabled=i,c._toggleState=c._toggleState.bind(c),c}return _e(l,s),Object.defineProperty(l.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),l.prototype._toggleState=function(){var i=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){i._pauseDelayTimer=null,i.dispatch("pause")},3e4)),this._currentState=document.visibilityState},l.prototype.start=function(){this._isEnabled&&this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState,{capture:!0})},l.prototype.stop=function(){this._isEnabled&&this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState,{capture:!0})},l}(ap),mZ=function(){function s(l){var i=l.logger,c=l.connectionDelegate,d=c===void 0?null:c,p=this;this._onlineWorker=function(){var _;return(_=p.connectionDelegate)===null||_===void 0?void 0:_.reconnect()},this._offlineWorker=function(){var _;return(_=p.connectionDelegate)===null||_===void 0?void 0:_.disconnect()},this.unsubscribes=[],this._onlineListener=function(_){if(p.isAvailableOnWeb)return window.addEventListener("online",_),function(){return window.removeEventListener("online",_,!1)}},this._offlineListener=function(_){if(p.isAvailableOnWeb)return window.addEventListener("offline",_),function(){return window.removeEventListener("offline",_,!1)}},this.logger=i,d&&(this.connectionDelegate=d)}return Object.defineProperty(s.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),s.prototype.setOnlineListener=function(l){l&&typeof l=="function"&&(this._onlineListener=l)},s.prototype.setOfflineListener=function(l){l&&typeof l=="function"&&(this._offlineListener=l)},s.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},s.prototype.stop=function(){var l=this;this.unsubscribes.forEach(function(i){try{i==null||i()}catch(c){l.logger.warn(c.message)}}),this.unsubscribes=[]},s.prototype.isOnline=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise(function(i){fetch("https://www.google.com",{method:In.GET,mode:"no-cors"}).then(function(){return i(!0)}).catch(function(){return i(!1)})})]})})},s}(),vZ=function(s){function l(i){var c=i.message,d=s.call(this)||this;return d.message=c,d}return _e(l,s),l}(ki),_E={},gZ=function(){function s(l,i){var c=i.localCacheEnabled,d=i.dispatcher,p=i.sdkState,_=i.logger,g=this;_E[l]=this,this._iid=l,_E[l]=this,this._localCacheEnabled=c,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=d,this._logger=_,this._sdkState=p,this._localCacheEnabled&&d.on(function(b){if(b instanceof Bu)switch(b.stateType){case cr.CONNECTED:g._isProcessingAutoResend||g.processAutoResendRegisteredPendingMessages().then(function(){return g._processNextAutoResend()});break;case cr.INTERNAL_DISCONNECTED:case cr.EXTERNAL_DISCONNECTED:g._isProcessingAutoResend=!1}})}return s.of=function(l){return _E[l]},s.prototype.processNonAutoResendRegisteredPendingMessages=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p,_;return Z(this,function(g){switch(g.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:l=g.sent();try{for(i=Et(l),c=i.next();!c.done;c=i.next())(d=c.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",d.reqId),d.sendingStatus=Hr.FAILED,d.errorCode=Rt.ACK_TIMEOUT,this._dispatcher.dispatch(new Ja({messages:[d],source:fi.LOCAL_MESSAGE_FAILED})))}catch(b){p={error:b}}finally{try{c&&!c.done&&(_=i.return)&&_.call(i)}finally{if(p)throw p.error}}return[2]}})})},s.prototype.processAutoResendRegisteredPendingMessages=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:l=E.sent();try{for(i=Et(l),c=i.next();!c.done;c=i.next())(d=c.value).errorCode&&km(d.errorCode)&&(p=new Date().getTime(),_=d.createdAt+2592e5,p<=_?this._autoResendQueue.map(function(I){return I.reqId}).indexOf(d.reqId)<0&&this._autoResendQueue.push(d):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(_).toLocaleString()),d.sendingStatus=Hr.FAILED,this._dispatcher.dispatch(new Ja({messages:[d],source:fi.LOCAL_MESSAGE_FAILED}))))}catch(I){g={error:I}}finally{try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(g)throw g.error}}return[2]}})})},s.prototype.completeCurrentAndProcessNextAutoResend=function(l){if(this._localCacheEnabled&&(l.sendingStatus===Hr.SUCCEEDED||l.sendingStatus===Hr.FAILED&&!km(l.errorCode))){var i=this.indexOf(l);i>=0&&this._autoResendQueue.splice(i,1),i===0&&this._processNextAutoResend()}},s.prototype._fetchAllCachedPendingMessages=function(){return J(this,void 0,void 0,function(){var l,i;return Z(this,function(c){switch(c.label){case 0:return(l=eN.of(this._iid))?[4,l.fetch({sendingStatus:Hr.PENDING,backward:!0})]:[3,2];case 1:return i=c.sent(),[3,3];case 2:i=[],c.label=3;case 3:return[2,i]}})})},s.prototype.indexOf=function(l){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(i){return i.reqId}).indexOf(l.reqId):-1},s.prototype._isNotInQueue=function(l){return this._autoResendQueue.map(function(i){return i.reqId}).indexOf(l.reqId)===-1},s.prototype._processNextAutoResend=function(){return J(this,void 0,void 0,function(){var l;return Z(this,function(i){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),l=this._autoResendQueue[0],this._dispatcher.dispatch(new vZ({message:l})),this._logger.debug("processing auto-resend for message request id: ",l.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(c){this._logger.warn("process auto-resend error: ",c),this._isProcessingAutoResend=!1}return[2]})})},s}();(function(s){s[s.USER_BLOCK=20001]="USER_BLOCK",s[s.USER_UNBLOCK=2e4]="USER_UNBLOCK",s[s.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(hE||(hE={}));var tN=function(){function s(l){this.category=l.cat,this.data=l.data}return s.getDataAsUserBlockEvent=function(l,i){var c=i.data,d=c.blocker,p=c.blockee;return{blocker:new Dt(l,d),blockee:new Dt(l,p)}},s.getDataAsFriendDiscoveredEvent=function(l,i){var c=i.data.friend_discoveries;return{friendDiscoveries:Array.isArray(c)?c.map(function(d){return new Dt(l,d)}):[]}},s}(),bZ=function(s){function l(i,c){var d=c.userId,p=s.call(this)||this;return p._iid=i,p.userId=d,p}return _e(l,s),l}(ki),yZ=function(s){function l(i,c,d){var p=s.call(this,i,"USEV",d)||this;return p.event=new tN(d),p}return _e(l,s),l}($r),rN=function(s){function l(i){var c=i.userId,d=i.nickname,p=d===void 0?null:d,_=i.profileUrl,g=_===void 0?null:_,b=i.profileImage,E=b===void 0?null:b,I=i.preferredLanguages,U=I===void 0?null:I,X=s.call(this)||this;return X.method=In.PUT,X.path="".concat(er,"/").concat(encodeURIComponent(c)),X.params=St({nickname:p,profile_url:g,profile_file:E,preferred_languages:U}),X}return _e(l,s),l}(An),iN=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.user=null,d.user=new Dt(i,Be({},c)),d}return _e(l,s),l}(Un),EZ=function(s){function l(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=In.POST,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/push/apns"),p.params={apns_device_token:d,always_push:!0},p}return _e(l,s),l}(An);(function(s){_e(function(l,i){var c=s.call(this,l,i)||this;return c.token=i.token,c.type=i.type?gi[i.type.toLowerCase()]:gi.UNKNOWN,c.user=new Dt(l,i.user),c},s)})(Un);var wZ=function(s){function l(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=In.POST,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/push/gcm"),p.params={gcm_reg_token:d,always_push:!0},p}return _e(l,s),l}(An);(function(s){_e(function(l,i){var c=s.call(this,l,i)||this;return c.token=i.token,c.type=i.type?gi[i.type.toLowerCase()]:gi.UNKNOWN,c.user=new Dt(l,i.user),c},s)})(Un);var xZ=function(s){function l(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=In.DELETE,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/push/apns/").concat(encodeURIComponent(d)),p}return _e(l,s),l}(An);(function(s){_e(function(l,i){var c=s.call(this,l,i)||this;return c.token=i.token,c.user=new Dt(l,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(Un);var kZ=function(s){function l(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=In.DELETE,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/push/gcm/").concat(encodeURIComponent(d)),p}return _e(l,s),l}(An);(function(s){_e(function(l,i){var c=s.call(this,l,i)||this;return c.token=i.token,c.user=new Dt(l,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(Un);var SZ=function(s){function l(i){var c=i.userId,d=s.call(this)||this;return d.method=In.DELETE,d.path="".concat(er,"/").concat(encodeURIComponent(c),"/push/apns"),d}return _e(l,s),l}(An);(function(s){_e(function(l,i){var c=s.call(this,l,i)||this;return c.type=i.type?gi[i.type.toLowerCase()]:gi.UNKNOWN,c.user=new Dt(l,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(Un);var TZ=function(s){function l(i){var c=i.userId,d=s.call(this)||this;return d.method=In.DELETE,d.path="".concat(er,"/").concat(encodeURIComponent(c),"/push/gcm"),d}return _e(l,s),l}(An);(function(s){_e(function(l,i){var c=s.call(this,l,i)||this;return c.type=i.type?gi[i.type.toLowerCase()]:gi.UNKNOWN,c.user=new Dt(l,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(Un);var CZ=function(s){function l(i){var c=i.userId,d=i.type,p=i.token,_=i.ts,g=s.call(this)||this;return g.method=In.GET,g.path="".concat(er,"/").concat(encodeURIComponent(c),"/push/").concat(encodeURIComponent(d),"/device_tokens"),g.params={created_ts:_,token:p},g}return _e(l,s),l}(An),IZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.pushTokens={type:c.type?gi[c.type.toLowerCase()]:gi.UNKNOWN,deviceTokens:c.device_tokens,hasMore:c.has_more,token:c.token},d}return _e(l,s),l}(Un),NZ=function(s){function l(i){var c=i.userId,d=s.call(this)||this;return d.method=In.GET,d.path="".concat(er,"/").concat(encodeURIComponent(c),"/channel_invitation_preference"),d}return _e(l,s),l}(An),AZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.autoAccept=c.auto_accept,d}return _e(l,s),l}(Un),OZ=function(s){function l(i){var c=i.userId,d=i.willAutoAccept,p=s.call(this)||this;return p.method=In.PUT,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/channel_invitation_preference"),p.params={auto_accept:d},p}return _e(l,s),l}(An),RZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.autoAccept=c.auto_accept,d}return _e(l,s),l}(Un),MZ=function(s){function l(i){var c=i.userId,d=s.call(this)||this;return d.method=In.GET,d.path="".concat(er,"/").concat(encodeURIComponent(c),"/push_preference"),d}return _e(l,s),l}(An),DZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.preference={doNotDisturbOn:c.do_not_disturb,startHour:c.start_hour,startMin:c.start_min,endHour:c.end_hour,endMin:c.end_min,timezone:c.timezone},d}return _e(l,s),l}(Un),LZ=function(s){function l(i){var c=i.userId,d=i.doNotDisturbOn,p=i.startHour,_=i.startMin,g=i.endHour,b=i.endMin,E=i.timezone,I=s.call(this)||this;return I.method=In.PUT,I.path="".concat(er,"/").concat(encodeURIComponent(c),"/push_preference"),I.params={do_not_disturb:d,start_hour:p,start_min:_,end_hour:g,end_min:b,timezone:E},I}return _e(l,s),l}(An),UZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.preference={doNotDisturbOn:c.do_not_disturb,startHour:c.start_hour,startMin:c.start_min,endHour:c.end_hour,endMin:c.end_min,timezone:c.timezone},d}return _e(l,s),l}(Un),PZ=function(s){function l(i){var c=i.userId,d=s.call(this)||this;return d.method=In.GET,d.path="".concat(er,"/").concat(encodeURIComponent(c),"/push_preference"),d}return _e(l,s),l}(An),FZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.snoozePeriod={isSnoozeOn:c.snooze_enabled},typeof c.snooze_start_ts=="number"&&(d.snoozePeriod.startTs=c.snooze_start_ts),typeof c.snooze_end_ts=="number"&&(d.snoozePeriod.endTs=c.snooze_end_ts),d}return _e(l,s),l}(Un),HZ=function(s){function l(i){var c=i.userId,d=i.snoozeOn,p=i.startTs,_=i.endTs,g=s.call(this)||this;return g.method=In.PUT,g.path="".concat(er,"/").concat(encodeURIComponent(c),"/push_preference"),g.params={snooze_enabled:d,snooze_start_ts:p,snooze_end_ts:_},g}return _e(l,s),l}(An),BZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.snoozePeriod={isSnoozeOn:c.snooze_enabled},typeof c.snooze_start_ts=="number"&&(d.snoozePeriod.startTs=c.snooze_start_ts),typeof c.snooze_end_ts=="number"&&(d.snoozePeriod.endTs=c.snooze_end_ts),d}return _e(l,s),l}(Un),$Z=function(s){function l(i){var c=i.userId,d=i.blockedUserId,p=s.call(this)||this;return p.method=In.POST,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/block"),p.params={target_id:d},p}return _e(l,s),l}(An);(function(s){_e(function(l,i){var c=s.call(this,l,i)||this;return c.user=new Dt(l,i),c},s)})(Un);var zZ=function(s){function l(i){var c=i.userId,d=i.unblockedUserId,p=s.call(this)||this;return p.method=In.DELETE,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/block/").concat(encodeURIComponent(d)),p}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var VZ=function(s){function l(i){var c=i.userId,d=s.call(this)||this;return d.method=In.GET,d.path="".concat(er,"/").concat(encodeURIComponent(c),"/push_preference"),d}return _e(l,s),l}(An),GZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.pushTriggerOption=c.push_trigger_option,d}return _e(l,s),l}(Un),qZ=function(s){function l(i){var c=i.userId,d=i.pushTriggerOption,p=s.call(this)||this;return p.method=In.PUT,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/push_preference"),p.params={push_trigger_option:d},p}return _e(l,s),l}(An),jZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.pushTriggerOption=c.push_trigger_option,d}return _e(l,s),l}(Un),KZ=function(s){function l(i){var c=i.userId,d=s.call(this)||this;return d.method=In.GET,d.path="".concat(er,"/").concat(encodeURIComponent(c),"/push/template"),d}return _e(l,s),l}(An),WZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.name=c.name,d}return _e(l,s),l}(Un),QZ=function(s){function l(i){var c=i.userId,d=i.templateName,p=s.call(this)||this;return p.method=In.PUT,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/push/template"),p.params={name:d},p}return _e(l,s),l}(An),YZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.name=c.name,d}return _e(l,s),l}(Un),XZ=function(s){function l(i){var c=i.userId,d=i.token,p=s.call(this)||this;return p.method=In.GET,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/friends/changelogs"),p.params={token:d},p}return _e(l,s),l}(An),ZZ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.changelogs={addedUsers:c.added.map(function(p){return new Dt(i,p)}),updatedUsers:c.updated.map(function(p){return new Dt(i,p)}),deletedUserIds:c.deleted,hasMore:c.has_more,token:c.next},d}return _e(l,s),l}(Un),JZ=function(s){function l(i){var c=i.userId,d=i.discoveries,p=s.call(this)||this;return p.method=In.PUT,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/friend_discoveries"),p.params={friend_discoveries:d.map(function(_){return{friend_discovery_key:_.friendDiscoveryKey,friend_name:_.friendName}})},p}return _e(l,s),l}(An),eJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.friendDiscoveryRequestId=c.friend_discovery_request_id,d}return _e(l,s),l}(Un),nJ=function(s){function l(i){var c=i.userId,d=i.discoveryKeys,p=s.call(this)||this;return p.method=In.DELETE,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/friend_discoveries"),p.params={friend_discovery_keys:d},p}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var tJ=function(s){function l(i){var c=i.userId,d=i.userIds,p=s.call(this)||this;return p.method=In.POST,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/friends"),p.params={user_ids:d},p}return _e(l,s),l}(An),rJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.users=c.users.map(function(p){return new Dt(i,p)}),d}return _e(l,s),l}(Un),iJ=function(s){function l(i){var c=i.userId,d=i.userIds,p=s.call(this)||this;return p.method=In.DELETE,p.path="".concat(er,"/").concat(encodeURIComponent(c),"/friends"),p.params={user_ids:d},p}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var aJ=function(s){function l(i){var c=i.userId,d=s.call(this)||this;return d.method=In.GET,d.path="".concat(er,"/").concat(c,"/allow_friend_discovery"),d.params={},d}return _e(l,s),l}(An),sJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.allowFriendDiscovery=c.allow_friend_discovery,d}return _e(l,s),l}(Un),oJ=function(s){function l(i){var c=i.userId,d=i.allowFriendDiscovery,p=s.call(this)||this;return p.method=In.PUT,p.path="".concat(er,"/").concat(c,"/allow_friend_discovery"),p.params={allow_friend_discovery:d},p}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var Er,aN=function(s){this.key=null,this.url=null,this.key=s.key,this.url=s.url},sN=function(s){var l,i,c;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(l=s.id)!==null&&l!==void 0?l:0,this.name=(i=s.name)!==null&&i!==void 0?i:"",this.url=(c=s.url)!==null&&c!==void 0?c:"",this.emojis=s.emojis?s.emojis.map(function(d){return new aN(d)}):[]},lJ=function(s){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=s.emoji_hash||"",this.emojiCategories=s.emoji_categories?s.emoji_categories.map(function(l){return new sN(l)}):[]},cJ=function(s){function l(){var i=s.call(this)||this;return i.method=In.GET,i.path=bI,i}return _e(l,s),l}(An),uJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.emojiContainer=new lJ(c),d}return _e(l,s),l}(Un),dJ=function(s){function l(i){var c=i.categoryId,d=s.call(this)||this;return d.method=In.GET,d.path="".concat(bI,"/").concat(c),d}return _e(l,s),l}(An),hJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.emojiCategory=new sN(c),d}return _e(l,s),l}(Un),pJ=function(s){function l(i){var c=i.key,d=s.call(this)||this;return d.method=In.GET,d.path="".concat(eX,"/").concat(c),d}return _e(l,s),l}(An),fJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.emoji=new aN(c),d}return _e(l,s),l}(Un),_J=function(s){function l(i){var c=i.limit,d=i.token,p=i.userIdsFilter,_=i.metaDataKeyFilter,g=i.metaDataValuesFilter,b=i.nicknameStartsWithFilter,E=s.call(this)||this;return E.method=In.GET,E.path=er,E.params=St({limit:c,token:d,user_ids:p,metadatakey:_,metadatavalues_in:g,nickname_startswith:b}),E}return _e(l,s),l}(An),mJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.users=c.users.map(function(p){return new Dt(i,p)}),d.next=c.next,d}return _e(l,s),l}(Un),vJ=function(s){function l(i,c){var d,p,_,g=this;return(g=s.call(this,i,c)||this).userIdsFilter=null,g.metaDataKeyFilter=null,g.metaDataValuesFilter=null,g.nicknameStartsWithFilter=null,g.userIdsFilter=(d=c.userIdsFilter)!==null&&d!==void 0?d:null,g.metaDataKeyFilter=(p=c.metaDataKeyFilter)!==null&&p!==void 0?p:null,g.metaDataValuesFilter=(_=c.metaDataValuesFilter)!==null&&_!==void 0?_:null,g.nicknameStartsWithFilter=c.nicknameStartsWithFilter||null,g}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&Qt("string",this.userIdsFilter,!0)&&ze("string",this.metaDataKeyFilter,!0)&&Qt("string",this.metaDataValuesFilter,!0)&&ze("string",this.metaDataKeyFilter,!0)},l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid).requestQueue,c=new _J(Be(Be({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(mJ),_=p.users,g=p.next,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(Sh),gJ=function(s){function l(i){var c=i.userId,d=i.limit,p=i.token,_=i.userIdsFilter,g=s.call(this)||this;return g.method=In.GET,g.path="".concat(er,"/").concat(c,"/block"),g.params=St({limit:d,token:p,user_ids:_}),g}return _e(l,s),l}(An),bJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.users=c.users.map(function(p){return new Dt(i,p)}),d.next=c.next,d}return _e(l,s),l}(Un),yJ=function(s){function l(i,c){var d,p=this;return(p=s.call(this,i,c)||this).userIdsFilter=null,p.userIdsFilter=(d=c.userIdsFilter)!==null&&d!==void 0?d:null,p}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&Qt("string",this.userIdsFilter,!0)},l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E;return Z(this,function(I){switch(I.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new gJ(Be(Be({},this),{userId:c.userId,token:this._token})),[4,d.send(p)]):[3,2]:[3,5];case 1:return _=I.sent(),g=_.as(bJ),b=g.users,E=g.next,this._token=E,this._hasNext=!!E,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(Sh),EJ=function(s){function l(i){var c=i.userId,d=i.limit,p=i.token,_=s.call(this)||this;return _.method=In.GET,_.path="".concat(er,"/").concat(encodeURIComponent(c),"/friends"),_.params={limit:d,token:p},_}return _e(l,s),l}(An),wJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.hasMore=c.has_more,d.users=c.users.map(function(p){return new Dt(i,p)}),d.next=c.next,d}return _e(l,s),l}(Un),xJ=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)},l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I;return Z(this,function(U){switch(U.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new EJ(Be(Be({},this),{userId:c.userId,token:this._token})),[4,d.send(p)]):[3,2]:[3,5];case 1:return _=U.sent(),g=_.as(wJ),b=g.users,E=g.hasMore,I=g.next,this._token=I,this._hasNext=E,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(Sh),jm={},Km=function(){function s(l){var i=l.dbname,c=l.itemSizeLimit,d=c===void 0?1048576:c,p=l.cacheLimit,_=p===void 0?256:p,g=l.blockHashBase,b=g===void 0?2:g,E=l.blockHashMultiplier,I=E===void 0?10:E,U=l.blockHashConstant,X=U===void 0?11:U,W=l.transactionApplyDelay,de=W===void 0?200:W,se=l.disableLogger,fe=se!==void 0&&se;return jm[i]||(this.itemSizeLimit=d,this.cacheLimit=_,this.blockHashBase=b,this.blockHashMultiplier=I,this.blockHashConstant=X,this.transactionApplyDelay=de,this.disableLogger=fe,jm[i]=this),jm[i]}return s.get=function(l){return jm[l]},s}();(function(s){s[s.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",s[s.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",s[s.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",s[s.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",s[s.STORE_IS_FULL=61001003]="STORE_IS_FULL",s[s.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",s[s.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",s[s.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",s[s.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",s[s.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",s[s.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",s[s.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",s[s.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",s[s.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",s[s.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",s[s.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",s[s.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",s[s.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",s[s.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",s[s.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",s[s.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",s[s.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",s[s.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",s[s.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",s[s.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(Er||(Er={}));var Ch,Sr=function(s){function l(i){var c=i.code,d=c===void 0?Er.UNKNOWN_ERROR:c,p=i.message,_=p===void 0?"Unknown error occurred.":p,g=s.call(this,_)||this;return g.code=d,Object.setPrototypeOf(g,l.prototype),g}return _e(l,s),Object.defineProperty(l,"storeNotDefined",{get:function(){return new l({code:Er.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeNotAvailable",{get:function(){return new l({code:Er.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeNotAvailableInPrivateBrowsing",{get:function(){return new l({code:Er.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeIsFull",{get:function(){return new l({code:Er.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeKeyTypeIsInvalid",{get:function(){return new l({code:Er.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeBrokenIntegrity",{get:function(){return new l({code:Er.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeBrokenBlob",{get:function(){return new l({code:Er.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeEncryptionInvalid",{get:function(){return new l({code:Er.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeItemSizeExceeded",{get:function(){return new l({code:Er.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeReadFailed",{get:function(){return new l({code:Er.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeWriteFailed",{get:function(){return new l({code:Er.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"databaseSchemaNotOnUpgrade",{get:function(){return new l({code:Er.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionNotReady",{get:function(){return new l({code:Er.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionKeyNotMatch",{get:function(){return new l({code:Er.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionQueryNotValid",{get:function(){return new l({code:Er.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionInsertDuplicate",{get:function(){return new l({code:Er.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionKeyNotFound",{get:function(){return new l({code:Er.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionKeyNotGiven",{get:function(){return new l({code:Er.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionWriteFailed",{get:function(){return new l({code:Er.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionItemSizeExceeded",{get:function(){return new l({code:Er.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"indexTableIsRequired",{get:function(){return new l({code:Er.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"indexTypesNotMatch",{get:function(){return new l({code:Er.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"compareTypesNotMatch",{get:function(){return new l({code:Er.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"circularReferenceFound",{get:function(){return new l({code:Er.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),l}(Error);(function(s){s.INIT="init",s.READY="ready",s.CLOSED="closed"})(Ch||(Ch={}));var oN,Pa=function(s,l){if(l===void 0&&(l=new WeakMap),typeof s=="object"&&s!==null){if(l.has(s))throw Sr.circularReferenceFound;l.set(s,!0);var i=null;if(Array.isArray(s))i=s.map(function(d){return Pa(d,l)});else if(s instanceof RegExp)i=s;else if(s instanceof Date)i=s;else for(var c in i={},s)i[c]=Pa(s[c],l);return l.delete(s),i}return s},Ol=function(s,l){if(l==null)return 1;if(s==null)return-1;if(typeof s!=typeof l)throw Sr.compareTypesNotMatch;var i=0;switch(typeof s){case"boolean":case"number":i=s-l;break;case"string":i=s.localeCompare(l)}return i},lN=function(s,l){for(var i=0,c=0;c<s.length;c++)i=s.charCodeAt(c)+(i<<6)+(i<<16)-i;return(i>>>0)%l},Wm=function(s){return new Promise(function(l){setTimeout(function(){return l()},s)})},Ku=function(s,l){if(!l)return!1;if(typeof s!="function"){for(var i in s)if(["/and","&&"].includes(i)){if(s[i].some(function(b){return!Ku(b,l)}))return!1}else if(["/or","||"].includes(i)){if(s[i].every(function(b){return!Ku(b,l)}))return!1}else if(i==="/where"){if(!(0,s[i])(l))return!1}else{var c=i;if(typeof s[c]=="object"){var d=s[c];for(var p in d)switch(p){case"/eq":case"=":if((_=l[c])!==(g=d[p]))return!1;break;case"/neq":case"!=":if((_=l[c])===(g=d[p]))return!1;break;case"/gt":case">":var _=l[c],g=d[p];if(!(Ol(_,g)>0))return!1;break;case"/gte":case">=":if(_=l[c],g=d[p],!(Ol(_,g)>=0))return!1;break;case"/lt":case"<":if(_=l[c],g=d[p],!(Ol(_,g)<0))return!1;break;case"/lte":case"<=":if(_=l[c],g=d[p],!(Ol(_,g)<=0))return!1;break;case"/in":if(_=l[c],!(g=d[p]).includes(_))return!1;break;case"/nin":if(_=l[c],(g=d[p]).includes(_))return!1;break;case"/contain":if(_=l[c],g=d[p],!_.includes(g))return!1;break;case"/regex":if(_=l[c],!(g=d[p]).test(_))return!1;break;case"/where":if(_=l[c],!(0,d[p])(_))return!1}}else if(typeof s[c]=="function"){if(!s[c](l[c]))return!1}else if(s[c]!==l[c])return!1}return!0}return s(l)},Qm=function(){},cN=function(){return Promise.resolve()},kJ=function(s){return s},uN=function(s,l){l(null)};(function(s){s[s.FORWARD=0]="FORWARD",s[s.BACKWARD=1]="BACKWARD"})(oN||(oN={}));var Wu,Ji,Ko,SJ=function(){function s(l){var i=l.initialPrevValue,c=i===void 0?null:i,d=l.initialNextValue,p=d===void 0?null:d,_=l.iterator,g=l.map,b=g===void 0?kJ:g,E=l.backward,I=E===void 0?cN:E,U=l.forward,X=U===void 0?cN:U,W=l.complete,de=W===void 0?Qm:W;this._prevValue=c,this._nextValue=p,this._error=null,this._map=b,this._backward=I,this._forward=X,this._iterator=_,this._complete=de}return Object.defineProperty(s.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),s.prototype.prev=function(){return J(this,void 0,void 0,function(){var l,i,c;return Z(this,function(d){switch(d.label){case 0:if(!this.hasPrevious)return[3,6];d.label=1;case 1:return d.trys.push([1,3,,4]),l=this._prevValue,i=this,[4,this._backward()];case 2:return i._prevValue=d.sent()||null,this._nextValue=l,[3,4];case 3:return c=d.sent(),this._error=c,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,d.sent()];case 6:this._complete(),d.label=7;case 7:return[2]}})})},s.prototype.next=function(){return J(this,void 0,void 0,function(){var l,i,c;return Z(this,function(d){switch(d.label){case 0:if(!this.hasNext)return[3,6];d.label=1;case 1:return d.trys.push([1,3,,4]),l=this._nextValue,i=this,[4,this._forward()];case 2:return i._nextValue=d.sent()||null,this._prevValue=l,[3,4];case 3:return c=d.sent(),this._error=c,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,d.sent()];case 6:this._complete(),d.label=7;case 7:return[2]}})})},s.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},s}(),mE=function(){function s(l){var i=l.condition,c=i===void 0?{}:i,d=l.backward,p=d!==void 0&&d,_=l.blockManager,g=l.indexer;this.condition=c,this.backward=p,this._blockManager=_,this._indexer=g}return s.prototype.findOptimizedStartPosition=function(){var l=this,i=["=","/eq",">",">=","/gt","/gte"],c=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var d=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var p in this._indexer.fields){var _=this._indexer.fields[p],g=1;if(_[0]==="-"&&(_=_.slice(1),g=-1),this.condition[_]){if(typeof this.condition[_]=="object"){var b=g>0?c:i;for(var E in this.condition[_])if(b.includes(E)){for(var I=d;I>=0;I--)if(g*Ol(this._indexer.origin[I].columnValues[p],this.condition[_][E])<=0){d=I;break}}}else for(I=d;I>=0;I--)if(g*Ol(this._indexer.origin[I].columnValues[p],this.condition[_])<=0){d=I;break}}}return Math.min(d+1,this._indexer.origin.length-1)}var U=0;if(typeof this.condition!="function"){var X=function(de){var se=W._indexer.fields[de],fe=1;if(se[0]==="-"&&(se=se.slice(1),fe=-1),W.condition[se]){if(typeof W.condition[se]=="object")Object.keys(W.condition[se]).forEach(function(we){if((fe>0?i:c).includes(we)){for(var $e=U;$e<l._indexer.origin.length;$e++)if(fe*Ol(l._indexer.origin[$e].columnValues[de],l.condition[se][we])>=0){U=$e;break}}});else for(var Ae=U;Ae<W._indexer.origin.length;Ae++)if(fe*Ol(W._indexer.origin[Ae].columnValues[de],W.condition[se])>=0){U=Ae;break}}},W=this;for(p=0;p<this._indexer.fields.length;p++)X(p)}return Math.max(U-1,0)},s.prototype.each=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E=this;return Z(this,function(I){switch(I.label){case 0:if(i=this.findOptimizedStartPosition(),c=0,this.backward&&this._indexer.origin[i]&&(c=this._indexer.origin[i].keys.length-1),d=function(){if(E._indexer.origin[i]){if(!E._indexer.origin[i].keys[++c]){if(!E._indexer.origin[++i])return!1;c=0}return!0}return!1},p=function(){if(E._indexer.origin[i]){if(!E._indexer.origin[i].keys[--c]){if(!E._indexer.origin[--i])return!1;c=E._indexer.origin[i].keys.length-1}return!0}return!1},_=null,!this._indexer.origin[i])return[3,4];g=this.backward?p:d,I.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[c])];case 2:if(b=I.sent(),Ku(this.condition,b))return _=b,[3,4];I.label=3;case 3:if(g())return[3,1];I.label=4;case 4:return[4,new Promise(function(U){var X=new SJ({initialNextValue:Pa(_),iterator:l,forward:function(){return J(E,void 0,void 0,function(){var W,de;return Z(this,function(se){switch(se.label){case 0:W=this.backward?p:d,se.label=1;case 1:return W()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[c])]:[3,3];case 2:return de=se.sent(),Ku(this.condition,de)?[2,Pa(de)]:[3,1];case 3:return[2,null]}})})},backward:function(){return J(E,void 0,void 0,function(){var W,de;return Z(this,function(se){switch(se.label){case 0:W=this.backward?d:p,se.label=1;case 1:return W()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[c])]:[3,3];case 2:return de=se.sent(),Ku(this.condition,de)?[2,Pa(de)]:[3,1];case 3:return[2,null]}})})},complete:U});l(X)})];case 5:return[2,I.sent()]}})})},s}(),TJ=function(){function s(l){var i=l.condition,c=i===void 0?{}:i,d=l.backward,p=d!==void 0&&d,_=l.mutex,g=l.blockManager,b=l.indexer;this._mutex=_,this._iterator=new mE({condition:c,backward:p,blockManager:g,indexer:b})}return s.prototype.fetch=function(l){return l===void 0&&(l={}),J(this,void 0,void 0,function(){var i,c,d,p,_=this;return Z(this,function(g){switch(g.label){case 0:if(i=Math.max(l.offset||0,0),(c=typeof l.limit=="number"?l.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(c<0)throw Sr.collectionQueryNotValid;g.label=1;case 1:return g.trys.push([1,4,,5]),d=[],[4,this._mutex.lock()];case 2:return g.sent(),[4,this._iterator.each(function(b){return J(_,void 0,void 0,function(){return Z(this,function(E){return b.error?b.stop():b.hasNext?i===0?(d.push(b.nextValue),0<c&&c<=d.length?b.stop():b.next()):(i--,b.next()):b.stop(),[2]})})})];case 3:return g.sent(),this._mutex.unlock(),[2,d];case 4:throw p=g.sent(),this._mutex.unlock(),p;case 5:return[2]}})})},s.prototype.count=function(){return J(this,void 0,void 0,function(){var l,i,c=this;return Z(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),l=0,[4,this._mutex.lock()];case 1:return d.sent(),[4,this._iterator.each(function(p){return J(c,void 0,void 0,function(){return Z(this,function(_){return p.error?p.stop():p.hasNext?(l++,p.next()):p.stop(),[2]})})})];case 2:return d.sent(),this._mutex.unlock(),[2,l];case 3:throw i=d.sent(),this._mutex.unlock(),i;case 4:return[2]}})})},s}(),vE=function(s){return"".concat("nest","@").concat(s)},Qu=function(s,l){return"".concat(vE(s),"/").concat(l)},gE=function(s,l){return"".concat(Qu(s,l),".metadata")},bE=function(s,l){return"".concat(Qu(s,l),"/block.")},dN=function(s,l){return"".concat(Qu(s,l),"/blob.")},CJ=function(){function s(l){var i=l.dbname,c=l.collectionName,d=l.store;this.dbname=i,this.collectionName=c,this.store=d}return s.prototype.get=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I;return Z(this,function(U){switch(U.label){case 0:return[4,this.store.get(l)];case 1:return(i=U.sent())?(c=i.data,d=i.type,typeof fetch>"u"?[3,4]:[4,fetch(c)]):[3,5];case 2:return[4,U.sent().blob()];case 3:return[2,U.sent()];case 4:for(p=[],_=atob(c.split(",")[1]),g=0;g<_.length;g+=512){for(b=_.slice(g,g+512),E=new Array(b.length),I=0;I<b.length;I++)E[I]=b.charCodeAt(I);p.push(new Uint8Array(E))}return[2,new Blob(p,{type:d})];case 5:return[2,null]}})})},s.prototype.save=function(l,i){return i===void 0&&(i="".concat(Date.now())),J(this,void 0,void 0,function(){var c,d,p,_,g=this;return Z(this,function(b){switch(b.label){case 0:return[4,new Promise(function(E){var I=function(X,W,de,se){return se===void 0&&(se=0),"".concat(dN(X,W)).concat(de,".").concat(se)}(g.dbname,g.collectionName,i),U=new FileReader;U.onload=function(){E({blobId:I,data:U.result,type:l.type})},U.readAsDataURL(l)})];case 1:return c=b.sent(),d=c.blobId,p=c.data,_=c.type,[4,this.store.set({key:d,value:{data:p,type:_},generation:1})];case 2:return b.sent(),[2,d]}})})},s.prototype.remove=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this.store.remove(l)];case 1:return i.sent(),[2]}})})},s.prototype.clear=function(){return J(this,void 0,void 0,function(){var l,i,c=this;return Z(this,function(d){switch(d.label){case 0:return l=dN(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return i=d.sent(),[4,Promise.all(i.filter(function(p){return p.startsWith(l)}).map(function(p){return J(c,void 0,void 0,function(){return Z(this,function(_){switch(_.label){case 0:return[4,this.store.remove(p)];case 1:return[2,_.sent()]}})})}))];case 2:return d.sent(),[2]}})})},s}();(function(s){s[s.COMMIT=0]="COMMIT",s[s.WRITE=1]="WRITE",s[s.ERROR=2]="ERROR"})(Wu||(Wu={})),function(s){s.PENDING="pending",s.PERSISTENT="persistent",s.VOLATILE="volatile"}(Ji||(Ji={})),function(s){s[s.NO_CACHE=0]="NO_CACHE",s[s.DEFAULT=1]="DEFAULT",s[s.PERSISTENT=2]="PERSISTENT"}(Ko||(Ko={}));var hN=[Ji.PENDING,Ji.VOLATILE],Ym={},Bs=function(){function s(l){var i=l.dbname,c=l.limit,d=c===void 0?256:c;return Ym[i]||(this.dbname=i,this._items=[],this._limit=d,Ym[i]=this),Ym[i]}return s.get=function(l){return Ym[l]},Object.defineProperty(s.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),s.prototype.find=function(l,i,c){return c===void 0&&(c=Ko.DEFAULT),J(this,void 0,void 0,function(){var d,p;return Z(this,function(_){switch(_.label){case 0:return(d=this.get(i))?[3,2]:[4,l.get(i)];case 1:return(p=_.sent())&&(d={key:i,value:p,generation:1,state:c===Ko.PERSISTENT?Ji.PERSISTENT:Ji.VOLATILE},this.put(d)),[3,3];case 2:c===Ko.PERSISTENT&&(d.state=Ji.PERSISTENT),_.label=3;case 3:return[2,d]}})})},s.prototype.get=function(l,i){i===void 0&&(i=Ko.DEFAULT);var c=this._items.map(function(p){return p.key}).indexOf(l);if(c>-1){var d=this._items[c];return i===Ko.PERSISTENT&&(d.state=Ji.PERSISTENT),i!==Ko.NO_CACHE&&this.put(d),d}return null},s.prototype.put=function(l){var i,c;if(this._limit>0){var d=this._items.map(function(U){return U.key}).indexOf(l.key);if(d>-1)hN.includes(this._items[d].state)&&hN.includes(l.state)?(this._items.splice(d,1),this._items.push(l)):(this._items[d].state=l.state,this._items[d].generation=l.generation,this._items[d].value=l.value);else{this._items.push(l);var p=this._items.filter(function(U){return U.state===Ji.VOLATILE}),_=p.length-this._limit;if(_>0){var g=[];try{for(var b=Et(this._items),E=b.next();!E.done;E=b.next()){var I=E.value;I.state===Ji.VOLATILE&&_>0?_--:g.push(I)}}catch(U){i={error:U}}finally{try{E&&!E.done&&(c=b.return)&&c.call(b)}finally{if(i)throw i.error}}this._items=g}}}},s.prototype.remove=function(l){var i=this._items.map(function(c){return c.key}).indexOf(l);i>-1&&this._items.splice(i,1)},s.prototype.clearByCondition=function(l){this._items=this._items.filter(function(i){return!l(i)})},s.prototype.clear=function(l){l===void 0&&(l=!1),this._items=l?[]:this._items.filter(function(i){return i.state!==Ji.VOLATILE})},s}(),IJ=function(){function s(l){var i=l.dbname,c=l.collectionName,d=l.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=i,this.collectionName=c,this.metadataKey=function(p,_){return"".concat(Qu(p,_),"/trans.metadata")}(i,c),this.recordsetKey=function(p,_){return"".concat(Qu(p,_),"/trans.recordset")}(i,c),this._store=d}return Object.defineProperty(s.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),s.prototype._getReducedRecordset=function(l){return l===void 0&&(l=[]),J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(i=c.sent()||[]).push.apply(i,Fr([],xr(l),!1)),[2,this._reduceRecordSet(i)]}})})},s.prototype._reduceRecordSet=function(l){for(var i=[],c={},d=l.length-1;d>=0;d--){for(var p=l[d],_=[],g=p.requests.length-1;g>=0;g--){var b=p.requests[g],E=b.data;c[E.key]||(_.unshift(b),c[E.key]=!0)}_.length>0&&(p.requests=_,i.unshift(p))}return i},s.prototype._applyRecord=function(l,i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b,E,I,U;return Z(this,function(X){switch(X.label){case 0:c=Bs.get(this.dbname),d=i.generation,p=i.requests,_=null,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,this._store.setMany(p.map(function(W){return Be(Be({},W.data),{generation:d})}))];case 2:for(g=X.sent(),b=0;b<p.length;b++)g[b]instanceof Error&&(_||(_=g[b]),E=p[b].data,c.put(Be(Be({},E),{generation:d,state:Ji.PERSISTENT})));return[3,4];case 3:return I=X.sent(),_=I,[3,4];case 4:return _?[3,6]:(U=l.filter(function(W){return W.generation!==d}),[4,this._store.set({key:this.recordsetKey,value:U,generation:d})]);case 5:return X.sent(),this._onWrite.forEach(function(W){W(p.map(function(de){return de.data}))}),[3,7];case 6:this._onError.forEach(function(W){return W(_)}),X.label=7;case 7:return[2]}})})},s.prototype.init=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return l=this,[4,this._store.get(this.metadataKey)];case 1:return l._metadata=E.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:i=E.sent(),E.label=3;case 3:E.trys.push([3,8,9,10]),c=Et(i),d=c.next(),E.label=4;case 4:return d.done?[3,7]:(p=d.value,[4,this._applyRecord(i,p)]);case 5:E.sent(),E.label=6;case 6:return d=c.next(),[3,4];case 7:return[3,10];case 8:return _=E.sent(),g={error:_},[3,10];case 9:try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}return[7];case 10:return[2]}})})},s.prototype.on=function(l,i,c){switch(l){case Wu.COMMIT:this._onCommit.set(i,c);break;case Wu.WRITE:this._onWrite.set(i,c);break;case Wu.ERROR:this._onError.set(i,c)}},s.prototype.requestWrite=function(l,i){i===void 0&&(i=null),this._requests.push({data:l,options:i}),Bs.get(this.dbname).put(Be({state:Ji.PENDING,generation:this.generation},l))},s.prototype.requestMultipleWrite=function(l,i){var c,d;i===void 0&&(i=null);var p=Bs.get(this.dbname);try{for(var _=Et(l),g=_.next();!g.done;g=_.next()){var b=g.value;this._requests.push({data:b,options:i}),p.put(Be({state:Ji.PENDING,generation:this.generation},b))}}catch(E){c={error:E}}finally{try{g&&!g.done&&(d=_.return)&&d.call(_)}finally{if(c)throw c.error}}},s.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){return Bs.get(this.dbname).clearByCondition(function(i){return i.state===Ji.PENDING}),this._requests=[],[2]})})},s.prototype.commit=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p,_,g,b,E,I,U,X,W=this;return Z(this,function(de){switch(de.label){case 0:if(!((l=this._requests).length>0))return[3,4];for(i=[],c={},b=l.length-1;b>=0;b--)d=l[b],I=d.data,c[I.key]||(c[I.key]=!0,i.unshift(d));return p={generation:this.generation,requests:i},[4,this._getReducedRecordset([p])];case 1:return _=de.sent(),[4,this._store.set({key:this.recordsetKey,value:_,generation:this.generation})];case 2:return de.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(de.sent(),g=Bs.get(this.dbname),b=0;b<i.length;b++)E=i[b],I=E.data,U=E.options,g.put(Be(Be({},I),{generation:p.generation,state:U&&U.persistent?Ji.PERSISTENT:Ji.VOLATILE}));this._requests=[],this._onCommit.forEach(function(se){se(l.map(function(fe){return fe.data}))}),X=Km.get(this.dbname),setTimeout(function(){try{W._applyRecord(_,p)}catch(se){W._onError.forEach(function(fe){return fe(se)})}},X.transactionApplyDelay),de.label=4;case 4:return[2]}})})},s}(),Xm=function(){function s(l){var i=l.blockId,c=l.keyName,d=l.items,p=d===void 0?[]:d,_=l.limit;this.blockId=i,this.keyName=c,this.limit=_,this._items=Fr([],xr(p),!1)}return s.createFromCacheItem=function(l){return l?new s(l.value):null},Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),s.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},s.prototype.getItemByKey=function(l){var i=this;return this._items.find(function(c){var d=c[i.keyName];return l===d})},s.prototype.has=function(l){var i=this;return this._items.map(function(c){return c[i.keyName]}).includes(l)},s.prototype.add=function(l){var i=this,c=this._items.map(function(d){return d[i.keyName]}).indexOf(l[this.keyName]);return c<0?this._items.length<this.limit&&(this._items.push(l),!0):(this._items[c]=l,!0)},s.prototype.remove=function(l){for(var i in this._items)if(this._items[i][this.keyName]===l)return this._items.splice(parseInt(i),1),!0;return!1},s.prototype.clear=function(){this._items=[]},s}(),NJ=function(){function s(l){var i=l.dbname,c=l.collectionName,d=l.metadata,p=l.hashFunction,_=p===void 0?lN:p,g=l.transaction,b=l.store;this.dbname=i,this.collectionName=c,this.hashFunction=_,this.metadata=d,this._transaction=g,this._store=b}return Object.defineProperty(s.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),s.prototype.createBlockId=function(l,i){return i===void 0&&(i=this.metadata.blockLevel),c=this.dbname,d=this.collectionName,p=i,_="".concat(function(g,b,E){var I=E.base*Math.pow(E.multiplier,b)+E.constant;return(E.hashFunction||lN)(g,I)}(l,i,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(bE(c,d)).concat(p,".").concat(_);var c,d,p,_},s.prototype._findBlock=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_;return Z(this,function(g){switch(g.label){case 0:i=Bs.get(this.dbname),c=this.metadata.blockLevel,g.label=1;case 1:return c>0?(d=this.createBlockId(l,c),[4,i.find(this._store,d)]):[3,4];case 2:if((p=g.sent())&&(_=Xm.createFromCacheItem(p)).getItemByKey(l))return[2,_];g.label=3;case 3:return c--,[3,1];case 4:return[2,null]}})})},s.prototype.getFromBlock=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return[4,this._findBlock(l)];case 1:return[2,(i=c.sent())?i.getItemByKey(l):null]}})})},s.prototype.putToBlock=function(l,i){return J(this,void 0,void 0,function(){var c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return c=Km.get(this.dbname),d=this.createBlockId(l),p=Math.floor(this._store.itemSizeLimit/c.itemSizeLimit),[4,Bs.get(this.dbname).find(this._store,d)];case 1:return _=b.sent(),(g=_?Xm.createFromCacheItem(_):new Xm({blockId:d,keyName:this.keyName,items:[],limit:p})).add(i)?(this._transaction.requestWrite({key:g.blockId,value:g.serialize()}),[2,!0]):[2,!1]}})})},s.prototype.removeFromBlock=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return[4,this._findBlock(l)];case 1:return(i=c.sent())&&i.remove(l)?(this._transaction.requestWrite({key:i.blockId,value:i.serialize()}),[2,!0]):[2,!1]}})})},s.prototype.clearAllBlocks=function(){return J(this,void 0,void 0,function(){var l,i,c;return Z(this,function(d){switch(d.label){case 0:return l=bE(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return i=d.sent(),c=i.filter(function(p){return p.startsWith(l)}),[4,this._store.removeMany(c)];case 2:return d.sent(),[4,this._transaction.clear()];case 3:return d.sent(),Bs.get(this.dbname).clearByCondition(function(p){return p.key.startsWith(l)}),[2]}})})},s}(),Ih={},Lc=function(){function s(l){var i=l.dbname,c=l.collectionName,d=l.keyName,p=l.fields,_=l.transaction,g=l.store,b=this;this._origin=[],this._table=[];var E=function(I,U,X){return"".concat(Qu(I,U),"/index.").concat(X)}(i,c,p.join(">"));return Ih[E]||(this.dbname=i,this.collectionName=c,this.keyName=d,this.fields=p,this.indexerKey=E,this._transaction=_,this._store=g,this._transaction.on(Wu.COMMIT,this.indexerKey,function(){return b.commit()}),this._transaction.on(Wu.ERROR,this.indexerKey,function(){return b.abort()})),Ih[E]}return s.createKey=function(l){return l.join(">")},s.parseKey=function(l){return l.split(">")},s.clearIndexerMap=function(){for(var l in Ih)delete Ih[l]},s.prototype._addItem=function(l){var i=l[this.keyName],c=this.getColumnValues(l),d=xr(this.indexOf(c),2),p=d[0];return d[1]?!this._table[p].keys.includes(i)&&(this._table[p].keys.push(i),!0):(this._table.splice(p,0,{columnValues:c,keys:[i]}),!0)},s.prototype._removeItem=function(l){var i=l[this.keyName],c=this.getColumnValues(l),d=xr(this.indexOf(c),2),p=d[0];if(d[1]){var _=this._table[p].keys.indexOf(i);if(_>-1)return this._table[p].keys.splice(_,1),this._table[p].keys.length===0&&this._table.splice(p,1),!0}return!1},Object.defineProperty(s.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),s.prototype.getColumnValues=function(l){var i,c,d,p,_=[];try{for(var g=Et(this.fields),b=g.next();!b.done;b=g.next()){var E=b.value;if(E[0]==="-"&&(E=E.slice(1)),d=l[E],p=typeof d,d!==null&&p!=="undefined"&&p!=="boolean"&&p!=="number"&&p!=="string")throw Sr.indexTypesNotMatch;_.push(l[E])}}catch(I){i={error:I}}finally{try{b&&!b.done&&(c=g.return)&&c.call(g)}finally{if(i)throw i.error}}return _},s.prototype.diff=function(l,i){for(var c in this.fields){var d=this.fields[c][0]==="-"?-1:1,p=Ol(l[c],i[c]);if(p!==0)return d*p}return 0},s.prototype.indexOf=function(l){if(this._table.length>0){for(var i=0,c=this._table.length-1;i<=c;){var d=Math.floor((i+c)/2),p=this.diff(l,this._table[d].columnValues);if(p>0)i=d+1;else{if(!(p<0))return[d,!0];c=d-1}}return[i,!1]}return[0,!1]},s.prototype.ensure=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p,_,g,b,E,I,U,X,W,de,se,fe,Ae;return Z(this,function(we){switch(we.label){case 0:return[4,(l=Bs.get(this.dbname)).find(this._store,this.indexerKey,Ko.PERSISTENT)];case 1:return(i=we.sent())?[3,11]:(c=bE(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:d=we.sent(),we.label=3;case 3:we.trys.push([3,8,9,10]),p=Et(d),_=p.next(),we.label=4;case 4:return _.done?[3,7]:(g=_.value).startsWith(c)?[4,l.find(this._store,g,Ko.NO_CACHE)]:[3,6];case 5:b=we.sent(),E=Xm.createFromCacheItem(b);try{for(fe=void 0,I=Et(E.items),U=I.next();!U.done;U=I.next())X=U.value,this._addItem(X)}catch($e){fe={error:$e}}finally{try{U&&!U.done&&(Ae=I.return)&&Ae.call(I)}finally{if(fe)throw fe.error}}we.label=6;case 6:return _=p.next(),[3,4];case 7:return[3,10];case 8:return W=we.sent(),de={error:W},[3,10];case 9:try{_&&!_.done&&(se=p.return)&&se.call(p)}finally{if(de)throw de.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=i.value,this._table=Pa(this._origin),we.label=12;case 12:return Ih[this.indexerKey]=this,[2]}})})},s.prototype.drop=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return Bs.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return l.sent(),delete Ih[this.indexerKey],[2]}})})},s.prototype.addItem=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){return this._addItem(l)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.removeItem=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){return this._removeItem(l)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.commit=function(){this._origin=this._table,this._table=Pa(this._origin)},s.prototype.abort=function(){this._table=Pa(this._origin)},s}(),yE=function(){function s(l){var i=l.dbname,c=l.collectionName,d=l.keyName,p=l.keyHash,_=l.indexes,g=l.store,b=this;this._state=Ch.INIT,this._metadata=null,this._indexers=[],this.dbname=i,this.name=c,this.keyName=d,this.indexes=Fr([[d]],xr(_.filter(function(E){return Lc.createKey(E)!==b.keyName})),!1),this._keyHash=p,this._store=g,this._mutex=new fE(function(E,I){return"".concat(Qu(E,I),".lock")}(i,c)),this._blobContainer=new CJ({dbname:i,collectionName:c,store:g}),this._transaction=new IJ({dbname:i,collectionName:c,store:g})}return s.metadataOf=function(l,i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=gE(l,i),[4,c.get(d)];case 1:return[2,p.sent()]}})})},Object.defineProperty(s.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isReady",{get:function(){return this._state===Ch.READY},enumerable:!1,configurable:!0}),s.prototype.init=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p,_,g,b,E,I,U,X,W,de,se=this;return Z(this,function(fe){switch(fe.label){case 0:return[4,this._mutex.lock()];case 1:fe.sent(),fe.label=2;case 2:return fe.trys.push([2,9,,10]),l=Km.get(this.dbname),[4,s.metadataOf(this.dbname,this.name,this._store)];case 3:return i=fe.sent(),this._metadata=i||{keyName:this.keyName,blockLevel:1,blockHashBase:l.blockHashBase,blockHashMultiplier:l.blockHashMultiplier,blockHashConstant:l.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:fe.sent(),this._blockManager=new NJ({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),c=Fr([],xr(this.indexes),!1),d=[],p=c.map(function(Ae){return Lc.createKey(Ae)}),_=i?i.indexes.map(function(Ae){return Lc.createKey(Ae)}):[];try{for(g=Et(_),b=g.next();!b.done;b=g.next())E=b.value,p.includes(E)||d.push(Lc.parseKey(E))}catch(Ae){W={error:Ae}}finally{try{b&&!b.done&&(de=g.return)&&de.call(g)}finally{if(W)throw W.error}}return(I=[]).push.apply(I,Fr([],xr(c.map(function(Ae){var we=new Lc({dbname:se.dbname,collectionName:se.name,keyName:se.keyName,fields:Ae,transaction:se._transaction,store:se._store});return se._indexers.push(we),we.ensure()})),!1)),I.push.apply(I,Fr([],xr(d.map(function(Ae){return new Lc({dbname:se.dbname,collectionName:se.name,keyName:se.keyName,fields:Ae,transaction:se._transaction,store:se._store}).drop()})),!1)),[4,Promise.all(I)];case 5:return fe.sent(),[4,this._transaction.commit()];case 6:return fe.sent(),p.sort().join(",")===_.sort().join(",")?[3,8]:(U=gE(this.dbname,this.name),this._metadata.indexes=c,[4,this._store.set({key:U,value:this._metadata,generation:1})]);case 7:fe.sent(),fe.label=8;case 8:return this._state=Ch.READY,this._mutex.unlock(),[3,10];case 9:throw X=fe.sent(),this._mutex.unlock(),X;case 10:return[2]}})})},s.prototype.close=function(){this._state=Ch.CLOSED},s.prototype._hasPropertyOfKeyName=function(l){var i=l[this.keyName];return typeof i=="string"&&!!i},s.prototype._getIndexerBy=function(l){var i,c;l===void 0&&(l=null),l||(l=[this.keyName]);var d=Lc.createKey(l);try{for(var p=Et(this._indexers),_=p.next();!_.done;_=p.next()){var g=_.value;if(d===Lc.createKey(g.fields))return g}}catch(b){i={error:b}}finally{try{_&&!_.done&&(c=p.return)&&c.call(p)}finally{if(i)throw i.error}}return null},s.prototype._upgradeBlockLevel=function(){return J(this,void 0,void 0,function(){var l;return Z(this,function(i){switch(i.label){case 0:return l=gE(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:l,value:this._metadata,generation:1})];case 1:return i.sent(),[2]}})})},s.prototype._requestInsert=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return i=l[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return b.sent()?[3,13]:[4,this._blockManager.putToBlock(i,l)];case 2:return b.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return b.sent(),[4,this._blockManager.putToBlock(i,l)];case 4:b.sent(),b.label=5;case 5:b.trys.push([5,10,11,12]),c=Et(this._indexers),d=c.next(),b.label=6;case 6:return d.done?[3,9]:[4,d.value.addItem(l)];case 7:b.sent(),b.label=8;case 8:return d=c.next(),[3,6];case 9:return[3,12];case 10:return p=b.sent(),_={error:p},[3,12];case 11:try{d&&!d.done&&(g=c.return)&&g.call(c)}finally{if(_)throw _.error}return[7];case 12:return[3,14];case 13:throw Sr.collectionInsertDuplicate;case 14:return[2]}})})},s.prototype._requestUpsert=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I,U,X,W,de;return Z(this,function(se){switch(se.label){case 0:return i=l[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(c=se.sent())?[3,13]:[4,this._blockManager.putToBlock(i,l)];case 2:return se.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return se.sent(),[4,this._blockManager.putToBlock(i,l)];case 4:se.sent(),se.label=5;case 5:se.trys.push([5,10,11,12]),d=Et(this._indexers),p=d.next(),se.label=6;case 6:return p.done?[3,9]:[4,(E=p.value).addItem(l)];case 7:se.sent(),se.label=8;case 8:return p=d.next(),[3,6];case 9:return[3,12];case 10:return _=se.sent(),U={error:_},[3,12];case 11:try{p&&!p.done&&(X=d.return)&&X.call(d)}finally{if(U)throw U.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(i,l)];case 14:se.sent(),se.label=15;case 15:se.trys.push([15,21,22,23]),g=Et(this._indexers),b=g.next(),se.label=16;case 16:return b.done?[3,20]:(E=b.value).diff(E.getColumnValues(c),E.getColumnValues(l))===0?[3,19]:[4,E.removeItem(c)];case 17:return se.sent(),[4,E.addItem(l)];case 18:se.sent(),se.label=19;case 19:return b=g.next(),[3,16];case 20:return[3,23];case 21:return I=se.sent(),W={error:I},[3,23];case 22:try{b&&!b.done&&(de=g.return)&&de.call(g)}finally{if(W)throw W.error}return[7];case 23:return[2]}})})},s.prototype._requestUpdate=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E;return Z(this,function(I){switch(I.label){case 0:return i=l[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(c=I.sent())?[4,this._blockManager.putToBlock(i,l)]:[3,11];case 2:I.sent(),I.label=3;case 3:I.trys.push([3,9,10,11]),d=Et(this._indexers),p=d.next(),I.label=4;case 4:return p.done?[3,8]:(_=p.value).diff(_.getColumnValues(c),_.getColumnValues(l))===0?[3,7]:[4,_.removeItem(c)];case 5:return I.sent(),[4,_.addItem(l)];case 6:I.sent(),I.label=7;case 7:return p=d.next(),[3,4];case 8:return[3,11];case 9:return g=I.sent(),b={error:g},[3,11];case 10:try{p&&!p.done&&(E=d.return)&&E.call(d)}finally{if(b)throw b.error}return[7];case 11:return[2]}})})},s.prototype._requestRemove=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return[4,this._blockManager.getFromBlock(l)];case 1:return(i=b.sent())?[4,this._blockManager.removeFromBlock(l)]:[3,10];case 2:b.sent(),b.label=3;case 3:b.trys.push([3,8,9,10]),c=Et(this._indexers),d=c.next(),b.label=4;case 4:return d.done?[3,7]:[4,d.value.removeItem(i)];case 5:b.sent(),b.label=6;case 6:return d=c.next(),[3,4];case 7:return[3,10];case 8:return p=b.sent(),_={error:p},[3,10];case 9:try{d&&!d.done&&(g=c.return)&&g.call(c)}finally{if(_)throw _.error}return[7];case 10:return[2]}})})},s.prototype._requestClear=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:_.sent(),_.label=2;case 2:_.trys.push([2,7,8,9]),l=Et(this._indexers),i=l.next(),_.label=3;case 3:return i.done?[3,6]:[4,i.value.clear()];case 4:_.sent(),_.label=5;case 5:return i=l.next(),[3,3];case 6:return[3,9];case 7:return c=_.sent(),d={error:c},[3,9];case 8:try{i&&!i.done&&(p=l.return)&&p.call(l)}finally{if(d)throw d.error}return[7];case 9:return[2]}})})},s.prototype.getByKey=function(l){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:d.sent(),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(l)];case 3:return i=d.sent(),this._mutex.unlock(),[2,Pa(i)];case 4:throw c=d.sent(),this._mutex.unlock(),c;case 5:return[3,7];case 6:throw Sr.collectionNotReady;case 7:return[2]}})})},s.prototype.query=function(l){return l===void 0&&(l={}),this.isReady?new TJ({condition:l.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(l.index),backward:!!l.backward}):null},s.prototype.insertOne=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:if(c.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(l))throw Sr.collectionKeyNotGiven;return[4,this._requestInsert(Pa(l))];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[2,l];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Sr.collectionNotReady;case 9:return[2]}})})},s.prototype.insertMany=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E=this;return Z(this,function(I){switch(I.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:I.sent(),I.label=2;case 2:if(I.trys.push([2,12,,14]),l.some(function(U){return!E._hasPropertyOfKeyName(U)}))throw Sr.collectionKeyNotGiven;I.label=3;case 3:I.trys.push([3,8,9,10]),i=Et(l),c=i.next(),I.label=4;case 4:return c.done?[3,7]:(d=c.value,[4,this._requestInsert(Pa(d))]);case 5:I.sent(),I.label=6;case 6:return c=i.next(),[3,4];case 7:return[3,10];case 8:return p=I.sent(),g={error:p},[3,10];case 9:try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(g)throw g.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return I.sent(),this._mutex.unlock(),[2,l];case 12:return _=I.sent(),[4,this._transaction.clear()];case 13:throw I.sent(),this._mutex.unlock(),_;case 14:return[3,16];case 15:throw Sr.collectionNotReady;case 16:return[2]}})})},s.prototype.upsertOne=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:if(c.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(l))throw Sr.collectionKeyNotGiven;return[4,this._requestUpsert(Pa(l))];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[2,l];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Sr.collectionNotReady;case 9:return[2]}})})},s.prototype.upsertMany=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E=this;return Z(this,function(I){switch(I.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:I.sent(),I.label=2;case 2:if(I.trys.push([2,12,,14]),l.some(function(U){return!E._hasPropertyOfKeyName(U)}))throw Sr.collectionKeyNotGiven;I.label=3;case 3:I.trys.push([3,8,9,10]),i=Et(l),c=i.next(),I.label=4;case 4:return c.done?[3,7]:(d=c.value,[4,this._requestUpsert(Pa(d))]);case 5:I.sent(),I.label=6;case 6:return c=i.next(),[3,4];case 7:return[3,10];case 8:return p=I.sent(),g={error:p},[3,10];case 9:try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(g)throw g.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return I.sent(),this._mutex.unlock(),[2,l];case 12:return _=I.sent(),[4,this._transaction.clear()];case 13:throw I.sent(),this._mutex.unlock(),_;case 14:return[3,16];case 15:throw Sr.collectionNotReady;case 16:return[2]}})})},s.prototype.update=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:if(c.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(l))throw Sr.collectionKeyNotGiven;return[4,this._requestUpdate(Pa(l))];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[2,l];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Sr.collectionNotReady;case 9:return[2]}})})},s.prototype.updateIf=function(l,i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b,E,I,U,X,W,de,se,fe,Ae=this;return Z(this,function(we){switch(we.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:we.sent(),we.label=2;case 2:return we.trys.push([2,13,,15]),c=l.where,d=c===void 0?{}:c,p=l.index,_=p===void 0?null:p,g=l.backward,b=g!==void 0&&g,E=[],[4,new mE({condition:d,blockManager:this._blockManager,backward:b,indexer:this._getIndexerBy(_)}).each(function($e){return J(Ae,void 0,void 0,function(){var ln,Ie;return Z(this,function(ye){if($e.error)throw $e.stop(),$e.error;if($e.hasNext){if(ln=$e.nextValue,Ku(d,ln)&&i.set){if(typeof i.set!="function")for(Ie in i.set)ln[Ie]=i.set[Ie];else i.set(ln);E.push(ln)}$e.next()}else $e.stop();return[2]})})})];case 3:we.sent(),we.label=4;case 4:we.trys.push([4,9,10,11]),I=Et(E),U=I.next(),we.label=5;case 5:return U.done?[3,8]:(X=U.value,[4,this._requestUpdate(Pa(X))]);case 6:we.sent(),we.label=7;case 7:return U=I.next(),[3,5];case 8:return[3,11];case 9:return W=we.sent(),se={error:W},[3,11];case 10:try{U&&!U.done&&(fe=I.return)&&fe.call(I)}finally{if(se)throw se.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return we.sent(),this._mutex.unlock(),[2,E];case 13:return de=we.sent(),[4,this._transaction.clear()];case 14:throw we.sent(),this._mutex.unlock(),de;case 15:return[3,17];case 16:throw this._transaction.clear(),Sr.collectionNotReady;case 17:return[2]}})})},s.prototype.remove=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this._requestRemove(l)];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[3,7];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Sr.collectionNotReady;case 9:return[2]}})})},s.prototype.removeIf=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I,U,X,W,de,se,fe=this;return Z(this,function(Ae){switch(Ae.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:Ae.sent(),Ae.label=2;case 2:return Ae.trys.push([2,13,,14]),i=l.where,c=i===void 0?{}:i,d=l.index,p=d===void 0?null:d,_=l.backward,g=_!==void 0&&_,b=[],[4,new mE({condition:c,blockManager:this._blockManager,backward:g,indexer:this._getIndexerBy(p)}).each(function(we){return J(fe,void 0,void 0,function(){var $e,ln;return Z(this,function(Ie){if(we.error)throw we.stop(),we.error;return we.hasNext?($e=we.nextValue,Ku(c,$e)&&(ln=$e[this.keyName],b.push(ln)),we.next()):we.stop(),[2]})})})];case 3:Ae.sent(),Ae.label=4;case 4:Ae.trys.push([4,9,10,11]),E=Et(b),I=E.next(),Ae.label=5;case 5:return I.done?[3,8]:(U=I.value,[4,this._requestRemove(U)]);case 6:Ae.sent(),Ae.label=7;case 7:return I=E.next(),[3,5];case 8:return[3,11];case 9:return X=Ae.sent(),de={error:X},[3,11];case 10:try{I&&!I.done&&(se=E.return)&&se.call(E)}finally{if(de)throw de.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return Ae.sent(),this._mutex.unlock(),[2,b];case 13:throw W=Ae.sent(),this._mutex.unlock(),W;case 14:return[3,16];case 15:throw this._transaction.clear(),Sr.collectionNotReady;case 16:return[2]}})})},s.prototype.clear=function(){return J(this,void 0,void 0,function(){var l;return Z(this,function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return i.sent(),[4,this._transaction.commit()];case 4:return i.sent(),this._mutex.unlock(),[3,7];case 5:return l=i.sent(),[4,this._transaction.clear()];case 6:throw i.sent(),this._mutex.unlock(),l;case 7:return[3,9];case 8:throw Sr.collectionNotReady;case 9:return[2]}})})},s.prototype.getBlob=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.get(l)];case 1:return[2,i.sent()]}})})},s.prototype.saveBlob=function(l,i){return i===void 0&&(i=null),J(this,void 0,void 0,function(){return Z(this,function(c){switch(c.label){case 0:return[4,this._blobContainer.save(l,i)];case 1:return[2,c.sent()]}})})},s.prototype.removeBlob=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.remove(l)];case 1:return i.sent(),[2]}})})},s.prototype.removeAllBlobs=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,this._blobContainer.clear()];case 1:return l.sent(),[2]}})})},s}(),Zm=function(){function s(l){var i,c,d;this.encryption=(i=l.encryption)!==null&&i!==void 0?i:IC,this.itemSizeLimit=(c=l.itemSizeLimit)!==null&&c!==void 0?c:4194304,this.metadataBuffer=(d=l.metadataBuffer)!==null&&d!==void 0?d:256}return s.prototype._getRawKey=function(l,i){return i===void 0&&(i=""),"".concat(l).concat(i)},s.prototype._generateShardPostfixArray=function(l){return l===void 0&&(l=1),Fr([],xr(Array(l).keys()),!1)},s.prototype._shardify=function(l){var i=this,c=l.key,d=l.value,p=JSON.stringify(this.encryption.encrypt(d)),_=Math.ceil(p.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(_).map(function(g){var b={key:i._getRawKey(c,".".concat(g)),data:p.substring(g*i.adjustedItemSizeLimit,(g+1)*i.adjustedItemSizeLimit)};return g===0&&(b.metadata={shards:_}),b})},Object.defineProperty(s.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),s.prototype.usage=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p,_,g,b,E;return Z(this,function(I){switch(I.label){case 0:return l=0,[4,this._getAllRawKeys()];case 1:i=I.sent(),I.label=2;case 2:I.trys.push([2,7,8,9]),c=Et(i),d=c.next(),I.label=3;case 3:return d.done?[3,6]:(p=d.value,[4,this._getRaw(p)]);case 4:(_=I.sent())&&(l+=JSON.stringify(_).length),I.label=5;case 5:return d=c.next(),[3,3];case 6:return[3,9];case 7:return g=I.sent(),b={error:g},[3,9];case 8:try{d&&!d.done&&(E=c.return)&&E.call(c)}finally{if(b)throw b.error}return[7];case 9:return[2,l]}})})},s.prototype.getAllKeys=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,l.sent().filter(function(i){return i.endsWith(".0")}).map(function(i){return i.replace(/\.0$/,"")})]}})})},s.prototype.get=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b=this;return Z(this,function(E){switch(E.label){case 0:return i=this._getRawKey(l,".0"),[4,this._getRaw(i)];case 1:if(!(c=E.sent()))return[3,7];E.label=2;case 2:return E.trys.push([2,6,,7]),d=c.data,((p=c.metadata)==null?void 0:p.shards)>1?[4,Promise.all(this._generateShardPostfixArray(p==null?void 0:p.shards).map(function(I){return J(b,void 0,void 0,function(){var U,X;return Z(this,function(W){switch(W.label){case 0:return I>0?(U=this._getRawKey(l,".".concat(I)),[4,this._getRaw(U)]):[3,2];case 1:if(!(X=W.sent()))throw Sr.storeBrokenIntegrity;return[2,X.data];case 2:return[2,d]}})})}))]:[3,4];case 3:return g=E.sent(),[3,5];case 4:g=[d],E.label=5;case 5:return _=g,[2,this.encryption.decrypt(JSON.parse(_.join("")))];case 6:return E.sent(),[2,null];case 7:return[2,null]}})})},s.prototype.set=function(l){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return i=this._shardify(l),[4,this._setRaw(i)];case 1:return c.sent(),[2,Be({},l.value)]}})})},s.prototype.setMany=function(l){return J(this,void 0,void 0,function(){var i=this;return Z(this,function(c){switch(c.label){case 0:return[4,this._setRaw([].concat.apply([],Fr([],xr(l.map(function(d){return i._shardify(d)})),!1)))];case 1:return c.sent(),[2,l.map(function(d){return d.value})]}})})},s.prototype.remove=function(l){return J(this,void 0,void 0,function(){var i,c,d,p=this;return Z(this,function(_){switch(_.label){case 0:return i=this._getRawKey(l,".0"),[4,this._getRaw(i)];case 1:return(c=_.sent())?(d=c.metadata,[4,this._removeRaw(this._generateShardPostfixArray(d==null?void 0:d.shards).map(function(g){return p._getRawKey(l,".".concat(g))}))]):[3,3];case 2:return _.sent(),[2,!0];case 3:return[2,!1]}})})},s.prototype.removeMany=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I,U=this;return Z(this,function(X){switch(X.label){case 0:i=[],c=function(W){var de,se,fe;return Z(this,function(Ae){switch(Ae.label){case 0:return de=d._getRawKey(W,".0"),[4,d._getRaw(de)];case 1:return(se=Ae.sent())&&(fe=se.metadata,i.push.apply(i,Fr([],xr(d._generateShardPostfixArray(fe==null?void 0:fe.shards).map(function(we){return U._getRawKey(W,".".concat(we))})),!1))),[2]}})},d=this,X.label=1;case 1:X.trys.push([1,6,7,8]),p=Et(l),_=p.next(),X.label=2;case 2:return _.done?[3,5]:(g=_.value,[5,c(g)]);case 3:X.sent(),X.label=4;case 4:return _=p.next(),[3,2];case 5:return[3,8];case 6:return b=X.sent(),E={error:b},[3,8];case 7:try{_&&!_.done&&(I=p.return)&&I.call(p)}finally{if(E)throw E.error}return[7];case 8:return i.length>0?[4,this._removeRaw(i)]:[3,10];case 9:X.sent(),X.label=10;case 10:return[2,l]}})})},s}(),es={},Jm=function(s){function l(i){i===void 0&&(i={});var c,d=this;d=s.call(this,Be(Be({},i),{itemSizeLimit:(c=i.itemSizeLimit)!==null&&c!==void 0?c:4194304}))||this;var p=i.delay,_=p===void 0?1:p;return d.delay=_,d.observer={},d}return _e(l,s),Object.defineProperty(l.prototype,"rawData",{get:function(){return es[this.dbname]},set:function(i){es[this.dbname]=i},enumerable:!1,configurable:!0}),l.prototype._getAllRawKeys=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){if(es[this.dbname])return[2,Object.keys(es[this.dbname])];throw Sr.storeNotAvailable})})},l.prototype._getRaw=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){switch(c.label){case 0:return es[this.dbname]?[4,Wm(this.delay)]:[3,2];case 1:return c.sent(),[2,es[this.dbname][i]?Be({key:i},es[this.dbname][i]):null];case 2:throw Sr.storeNotAvailable}})})},l.prototype._setRaw=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b,E,I;return Z(this,function(U){switch(U.label){case 0:return es[this.dbname]?[4,Wm(this.delay)]:[3,2];case 1:U.sent();try{for(c=Et(i),d=c.next();!d.done;d=c.next())p=d.value,_=p.key,g=p.data,b=p.metadata,es[this.dbname][_]=Object.freeze({data:g,metadata:b})}catch(X){E={error:X}}finally{try{d&&!d.done&&(I=c.return)&&I.call(c)}finally{if(E)throw E.error}}return[3,3];case 2:throw Sr.storeNotAvailable;case 3:return[2]}})})},l.prototype._removeRaw=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return es[this.dbname]?[4,Wm(this.delay)]:[3,2];case 1:b.sent();try{for(c=Et(i),d=c.next();!d.done;d=c.next())p=d.value,es[this.dbname][p]&&delete es[this.dbname][p]}catch(E){_={error:E}}finally{try{d&&!d.done&&(g=c.return)&&g.call(c)}finally{if(_)throw _.error}}return[3,3];case 2:throw Sr.storeNotAvailable;case 3:return[2]}})})},l.prototype.observe=function(i,c,d){var p=this;this.observer[i]||(this.observer[i]={}),c.forEach(function(_){return p.observer[i][_]=d})},l.prototype.isAvailable=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2,!0]})})},l.prototype.init=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){return this.dbname=i,es[this.dbname]={},[2]})})},l.prototype.set=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){if(this.observer[i.key]&&typeof this.observer[i.key].set=="function"&&(c=this.observer[i.key].set()))throw c;return[2,s.prototype.set.call(this,i)]})})},l.prototype.setMany=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b;return Z(this,function(E){try{for(c=Et(i),d=c.next();!d.done;d=c.next())if(p=d.value,this.observer[p.key]&&typeof this.observer[p.key].set=="function"&&(_=this.observer[p.key].set()))throw _}catch(I){g={error:I}}finally{try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}}return[2,s.prototype.setMany.call(this,i)]})})},l.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,Wm(this.delay)];case 1:return i.sent(),es[this.dbname]={},[2]}})})},l}(Zm),AJ=function(s){function l(i){i===void 0&&(i={});var c,d=this;return(d=s.call(this,Be(Be({},i),{itemSizeLimit:(c=i.itemSizeLimit)!==null&&c!==void 0?c:104857600}))||this)._storeName="NestDBStore",d._window=typeof window<"u"?window:null,d._indexedDb=d._window?d._window.indexedDB||d._window.mozIndexedDB||d._window.webkitIndexedDB||d._window.msIndexedDB:null,d}return _e(l,s),l.prototype._getObjectStore=function(i){return this._database.transaction(this._storeName,i).objectStore(this._storeName)},l.prototype._getAllRawKeys=function(){return J(this,void 0,void 0,function(){var i=this;return Z(this,function(c){switch(c.label){case 0:return[4,new Promise(function(d,p){var _=i._getObjectStore("readonly").getAllKeys();_.addEventListener("success",function(g){d(g.target.result)}),_.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,c.sent()]}})})},l.prototype._getRaw=function(i){return J(this,void 0,void 0,function(){var c=this;return Z(this,function(d){switch(d.label){case 0:return[4,new Promise(function(p,_){var g=c._getObjectStore("readonly").get(i);g.addEventListener("success",function(b){var E;p((E=b==null?void 0:b.target)===null||E===void 0?void 0:E.result)}),g.addEventListener("error",function(b){return _(b.target.error)})})];case 1:return[2,d.sent()]}})})},l.prototype._setRaw=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=this._getObjectStore("readwrite"),[4,Promise.all(i.map(function(p){return new Promise(function(_,g){var b=c.put(p);b.addEventListener("success",function(E){_(E.target.result)}),b.addEventListener("error",function(){g("Failed to write.")})})}))];case 1:return d.sent(),[2]}})})},l.prototype._removeRaw=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return c=this._getObjectStore("readwrite"),[4,Promise.all(i.map(function(p){return new Promise(function(_,g){var b=c.delete(p);b.addEventListener("success",function(){return _(p)}),b.addEventListener("error",function(E){return g(E.target.error)})})}))];case 1:return d.sent(),[2]}})})},l.prototype.isAvailable=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_=this;return Z(this,function(g){switch(g.label){case 0:if(!((i=typeof window<"u"?window:null)!=null&&i.indexedDB||i!=null&&i.mozIndexedDB||i!=null&&i.webkitIndexedDB||i!=null&&i.msIndexedDB))return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),this._indexedDb=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,c=typeof document<"u"&&typeof navigator<"u",d=navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/"),p=navigator.userAgent&&navigator.userAgent.includes("Edge/"),[4,new Promise(function(b,E){if(c)if(d){var I=_._indexedDb.open("_testMozilla");I.onerror=function(){return E("Private browsing mode.")},I.onsuccess=function(){return b()}}else p?(i.PointerEvent||i.MSPointerEvent)&&E("Private browsing mode."):b()})];case 2:return g.sent(),[2,!0];case 3:return g.sent(),[2,!1];case 4:return[2,!1]}})})},l.prototype.init=function(i){return J(this,void 0,void 0,function(){var c,d=this;return Z(this,function(p){switch(p.label){case 0:return this.dbname=i,[4,new Promise(function(_,g){if(d._window&&Al)if(hZ){var b=d._indexedDb.open("_testMozilla");b.onerror=function(){return g(Sr.storeNotAvailableInPrivateBrowsing)},b.onsuccess=function(){return _()}}else pZ?d._window.indexedDB||!d._window.PointerEvent&&!d._window.MSPointerEvent||g(Sr.storeNotAvailableInPrivateBrowsing):_();else g(Sr.storeNotAvailable)})];case 1:return p.sent(),c=this,[4,new Promise(function(_,g){var b=d._indexedDb.open(i);b.addEventListener("upgradeneeded",function(E){E.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),b.addEventListener("success",function(E){return _(E.target.result)}),b.addEventListener("error",function(E){return g(E.target.error)})})];case 2:return c._database=p.sent(),[2]}})})},l.prototype.clear=function(){return J(this,void 0,void 0,function(){var i=this;return Z(this,function(c){switch(c.label){case 0:return[4,new Promise(function(d,p){var _=i._getObjectStore("readwrite").clear();_.addEventListener("success",function(){return d()}),_.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,c.sent()]}})})},l}(Zm),OJ=function(s){function l(i){var c=this,d=i.AsyncStorage,p=i.itemSizeLimit,_=p===void 0?6291456:p,g=function(b,E){var I={};for(var U in b)Object.prototype.hasOwnProperty.call(b,U)&&E.indexOf(U)<0&&(I[U]=b[U]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function"){var X=0;for(U=Object.getOwnPropertySymbols(b);X<U.length;X++)E.indexOf(U[X])<0&&Object.prototype.propertyIsEnumerable.call(b,U[X])&&(I[U[X]]=b[U[X]])}return I}(i,["AsyncStorage","itemSizeLimit"]);return(c=s.call(this,Be(Be({},g),{itemSizeLimit:_}))||this)._asyncStorage=d,c}return _e(l,s),l.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},l.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},l.prototype._getAllRawKeys=function(){return J(this,void 0,void 0,function(){var i=this;return Z(this,function(c){switch(c.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return[2,c.sent().filter(function(d){return i._isBelonging(d)}).map(function(d){return d.substring("".concat(i.dbname,"/").length)})]}})})},l.prototype._getRaw=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(i))];case 1:return[2,(c=d.sent())?JSON.parse(c):null]}})})},l.prototype._setRaw=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b,E;return Z(this,function(I){switch(I.label){case 0:c=[];try{for(d=Et(i),p=d.next();!p.done;p=d.next())_=p.value,g=_.key,_.data.length<=this.adjustedItemSizeLimit&&c.push([this._getActualKey(g),JSON.stringify(_)])}catch(U){b={error:U}}finally{try{p&&!p.done&&(E=d.return)&&E.call(d)}finally{if(b)throw b.error}}return[4,this._asyncStorage.multiSet(c)];case 1:return I.sent(),[2]}})})},l.prototype._removeRaw=function(i){return J(this,void 0,void 0,function(){var c=this;return Z(this,function(d){switch(d.label){case 0:return[4,this._asyncStorage.multiRemove(i.map(function(p){return c._getActualKey(p)}))];case 1:return d.sent(),[2]}})})},l.prototype.isAvailable=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2,!!this._asyncStorage]})})},l.prototype.init=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){return this.dbname=i,[2]})})},l.prototype.clear=function(){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return[4,this.getAllKeys()];case 1:return i=c.sent(),[4,this.removeMany(i)];case 2:return c.sent(),[2]}})})},l}(Zm);(function(s){function l(i){var c,d=this;return(d=s.call(this,Be(Be({},i),{itemSizeLimit:(c=i.itemSizeLimit)!==null&&c!==void 0?c:6291456}))||this)._mmkv=i.MMKV,d}_e(l,s),l.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},l.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},l.prototype._getAllRawKeys=function(){return J(this,void 0,void 0,function(){var i=this;return Z(this,function(c){switch(c.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return[2,c.sent().filter(function(d){return i._isBelonging(d)}).map(function(d){return d.substring("".concat(i.dbname,"/").length)})]}})})},l.prototype._getRaw=function(i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:return[4,this._mmkv.getString(this._getActualKey(i))];case 1:return[2,(c=d.sent())?JSON.parse(c):null]}})})},l.prototype._setRaw=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b;return Z(this,function(E){try{for(c=Et(i),d=c.next();!d.done;d=c.next())p=d.value,_=p.key,p.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(_),JSON.stringify(p))}catch(I){g={error:I}}finally{try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}}return[2]})})},l.prototype._removeRaw=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g;return Z(this,function(b){try{for(c=Et(i),d=c.next();!d.done;d=c.next())p=d.value,this._mmkv.delete(this._getActualKey(p))}catch(E){_={error:E}}finally{try{d&&!d.done&&(g=c.return)&&g.call(c)}finally{if(_)throw _.error}}return[2]})})},l.prototype.isAvailable=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2,!!this._mmkv]})})},l.prototype.init=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){return this.dbname=i,[2]})})},l.prototype.clear=function(){return J(this,void 0,void 0,function(){var i;return Z(this,function(c){switch(c.label){case 0:return[4,this.getAllKeys()];case 1:return i=c.sent(),[4,this.removeMany(i)];case 2:return c.sent(),[2]}})})}})(Zm);var Rl,ev=!0,Yu=function(){function s(){}return s.off=function(){ev=!1},s.log=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];ev&&console.log.apply(console,Fr(["".concat("[NESTDB]","[LOG]")],xr(l),!1))},s.warning=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];ev&&console.warn.apply(console,Fr(["".concat("[NESTDB]","[WARNING]")],xr(l),!1))},s.error=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];ev&&console.error.apply(console,Fr(["".concat("[NESTDB]","[ERROR]")],xr(l),!1))},s}();(function(s){s.INIT="INIT",s.OPENING="OPENING",s.OPENED="OPENED",s.CLOSED="CLOSED"})(Rl||(Rl={}));var EE,RJ=function(){function s(l){var i=l.name,c=l.version,d=l.store,p=l.config;this.name=i,this._version=c,this._state=Rl.INIT,this._config=p||new Km({dbname:i}),this._store=d,this._event={success:Qm,error:Qm,upgrade:uN},this._collections=new Map,this._globalMutex=new fE("".concat(this.name,".lock")),this._config.disableLogger&&Yu.off(),new Bs({dbname:i,limit:this._config.cacheLimit})}return Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),s.prototype.estimateUsage=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,(i=this._store,J(void 0,void 0,void 0,function(){return Z(this,function(c){switch(c.label){case 0:return[4,i.usage()];case 1:return[2,c.sent()]}})}))];case 1:return[2,l.sent()]}var i})})},s.prototype.commitSchema=function(l){return J(this,void 0,void 0,function(){var i=this;return Z(this,function(c){switch(c.label){case 0:return this._state!==Rl.OPENING?[3,2]:[4,Promise.all(l.map(function(d){return J(i,void 0,void 0,function(){var p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return p=d.collectionName,_=d.keyName,g=d.index,b=g===void 0?[]:g,this._collections.has(p)||this._collections.set(p,new yE({dbname:this.name,collectionName:p,keyName:_,indexes:b,store:this._store})),[4,this._collections.get(p).init()];case 1:return E.sent(),[2]}})})}))];case 1:return c.sent(),[3,3];case 2:throw Sr.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},s.prototype.open=function(){var l;return J(this,void 0,void 0,function(){var i,c,d,p,_=this;return Z(this,function(g){switch(g.label){case 0:return[4,this._globalMutex.lock()];case 1:if(g.sent(),this._state===Rl.OPENED)return[3,15];this._state=Rl.OPENING,g.label=2;case 2:return g.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return g.sent(),b=this.name,i="".concat(vE(b),".metadata"),c={version:0,collectionNames:[]},[4,this._store.get(i)];case 4:return d=(l=g.sent())!==null&&l!==void 0?l:c,[2,new Promise(function(E,I){var U=function(W){d.version<_._version?_._event.upgrade(d.version,function(de){return J(_,void 0,void 0,function(){var se;return Z(this,function(fe){switch(fe.label){case 0:if(de)return[3,5];d.version++,d.collectionNames=Array.from(this._collections.keys()),fe.label=1;case 1:return fe.trys.push([1,3,,4]),[4,this._store.set({key:i,value:d,generation:this._version})];case 2:return fe.sent(),W({continued:!0}),[3,4];case 3:return se=fe.sent(),W({continued:!1,err:se}),[3,4];case 4:return[3,6];case 5:W({continued:!1,err:de}),fe.label=6;case 6:return[2]}})})}):W({continued:!1})},X=function(W){var de=W.continued,se=de!==void 0&&de,fe=W.err,Ae=fe===void 0?null:fe;if(se)setTimeout(function(){return U(X)},10);else if(Ae)Yu.error(Ae.message),_._globalMutex.unlock(),_._event.error(Ae),I(Ae);else{var we=[];d.collectionNames.forEach(function($e){_._collections.has($e)||we.push(J(_,void 0,void 0,function(){var ln,Ie;return Z(this,function(ye){switch(ye.label){case 0:return[4,yE.metadataOf(this.name,$e,this._store)];case 1:return(ln=ye.sent())?(Ie=new yE({dbname:this.name,collectionName:$e,keyName:ln.keyName,indexes:ln.indexes,store:this._store}),this._collections.set($e,Ie),[4,Ie.init()]):[3,3];case 2:ye.sent(),ye.label=3;case 3:return[2]}})}))}),Promise.all(we).then(function(){_._state=Rl.OPENED,_._globalMutex.unlock(),_._event.success(),E()}).catch(function($e){Yu.error($e.message),_._globalMutex.unlock(),_._event.error($e),I($e)})}};U(X)})];case 5:switch((p=g.sent()).code){case Er.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Er.STORE_NOT_AVAILABLE:return[3,8];case Er.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return Yu.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new Jm({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 7:return g.sent(),[3,14];case 8:return Yu.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Jm({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 9:return g.sent(),[3,14];case 10:return Yu.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return g.sent(),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 12:return g.sent(),[3,14];case 13:throw Yu.error(p.message),this._globalMutex.unlock(),this._event.error(p),p;case 14:return[3,15];case 15:return[2]}var b})})},s.prototype.close=function(){this._collections.forEach(function(l){return l.close()}),this._state=Rl.CLOSED},s.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(i){return i.clear()}))];case 1:return l.sent(),[2]}})})},s.prototype.reset=function(){return J(this,void 0,void 0,function(){var l,i=this;return Z(this,function(c){switch(c.label){case 0:return this.close(),(l=Bs.get(this.name))&&l.clearByCondition(function(d){return d.key.startsWith(vE(i.name))}),[4,this._store.clear()];case 1:return c.sent(),[2]}})})},s.prototype.on=function(l,i){this._event[l]=i},s.prototype.off=function(l){typeof this._event[l]=="function"&&(this._event[l]=l==="upgrade"?uN:Qm)},s.prototype.collection=function(l){return this._collections.get(l)||null},s}();(function(s){s.MUTED="muted",s.BANNED="banned"})(EE||(EE={}));var Cp,pN=function(){function s(l){var i,c,d;this.restrictionType=null,this.description=null,this.endAt=-1,kr(EE,l.restriction_type)&&(this.restrictionType=l.restriction_type),this.description=(i=l.description)!==null&&i!==void 0?i:null,this.endAt=(d=(c=l.end_at)!==null&&c!==void 0?c:l.muted_end_at)!==null&&d!==void 0?d:-1}return s.payloadify=function(l){return l?St({restriction_type:l.restrictionType,description:l.description,end_at:l.endAt}):null},s}(),Nh=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.restrictionInfo=null,d.restrictionInfo=new pN(c),d}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},s.payloadify.call(this,i)),pN.payloadify(i.restrictionInfo))):null},l}(Dt),fN={data:null,customType:null,mentionType:ga.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},_N=function(s){return ze("string",s.data,!0)&&ze("string",s.customType,!0)&&kr(ga,s.mentionType)&&Qt("string",s.mentionedUserIds,!0)&&Qt(Dt,s.mentionedUsers,!0)&&ze("string",s.mentionedMessageTemplate,!0)&&Qt(bs,s.metaArrays,!0)&&kr(Nc,s.pushNotificationDeliveryOption,!0)&&ze(Oc,s.appleCriticalAlertOptions,!0)},MJ=Be(Be({},fN),{message:null,translationTargetLanguages:null,pollId:null}),DJ=Be({},fN),LJ=function(s){function l(i){var c=i.channelUrl,d=i.channelType,p=i.token,_=i.limit,g=s.call(this)||this;return g.method=In.GET,g.path="".concat(ur(d),"/").concat(encodeURIComponent(c),"/operators"),g.params={token:p,limit:_},g}return _e(l,s),l}(An),UJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.operators=c.operators.map(function(p){return new Dt(i,p)}),d.token=c.next,d}return _e(l,s),l}(Un),PJ=function(s){function l(i,c,d,p){return s.call(this,i,c,d,p)||this}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)},l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return this._validate()?this._isLoading?[3,3]:(i=[],this._hasNext?(this._isLoading=!0,c=an.of(this._iid).requestQueue,d=new LJ(Be(Be({},this),{channelUrl:this.channelUrl,token:this._token})),[4,c.send(d)]):[3,2]):[3,5];case 1:return p=E.sent(),_=p.as(UJ),g=_.operators,b=_.token,this._token=b,this._hasNext=!!b,this._isLoading=!1,[2,g];case 2:return[2,i];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(ju),FJ=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.limit,g=i.token;return(c=s.call(this)||this).method=In.GET,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/mute"),c.params={limit:_,token:g},c}return _e(l,s),l}(An),HJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;d.token=null,d.mutedUsers=[];var p=c.next,_=c.muted_list;return d.token=p,_&&_.length>0&&(d.mutedUsers=_.map(function(g){return new Nh(i,g)})),d}return _e(l,s),l}(Un),BJ=function(s){function l(i,c,d,p){return s.call(this,i,c,d,p)||this}return _e(l,s),l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid).requestQueue,c=new FJ(Be(Be({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(HJ),_=p.mutedUsers,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(ju),$J=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.limit,g=i.token;return(c=s.call(this)||this).method=In.GET,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/ban"),c.params=St({limit:_,token:g}),c}return _e(l,s),l}(An),zJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;d.token=null,d.bannedUsers=[];var p=c.next,_=c.banned_list;return d.token=p,_&&_.length>0&&(d.bannedUsers=_.map(function(g){return new Nh(i,g.user)})),d}return _e(l,s),l}(Un),VJ=function(s){function l(i,c,d,p){return s.call(this,i,c,d,p)||this}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)},l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid).requestQueue,c=new $J(Be(Be({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(zJ),_=p.bannedUsers,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(ju);(function(s){s.SPAM="spam",s.HARASSING="harassing",s.SUSPICIOUS="suspicious",s.INAPPROPRIATE="inappropriate"})(Cp||(Cp={}));var GJ=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.operatorUserIds;return(c=s.call(this)||this).method=In.POST,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/operators"),c.params={operator_ids:_},c}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var qJ=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.operatorUserIds;return(c=s.call(this)||this).method=In.DELETE,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/operators"),c.params={operator_ids:_},c}return _e(l,s),l}(An);(function(s){_e(function(l,i){return s.call(this,l,i)||this},s)})(Un);var jJ=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId;return(c=s.call(this)||this).method=In.GET,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/mute/").concat(_),c}return _e(l,s),l}(An),KJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;d.isMuted=!1,d.startAt=null,d.endAt=null,d.remainingDuration=null,d.description=null;var p=c.is_muted,_=c.start_at,g=c.end_at,b=c.remaining_duration,E=c.description;return d.isMuted=p,d.startAt=_,d.endAt=g,d.remainingDuration=b,d.description=E,d}return _e(l,s),l}(Un),mN=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.keys;return(c=s.call(this)||this).method=In.GET,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metadata"),c.params={keys:_,include_ts:!0},c}return _e(l,s),l}(An),vN=function(s){function l(i,c){var d=s.call(this,i,c)||this;d.ts=null;var p=c.metadata,_=c.ts;return d.metadata=p,d.ts=_??null,d}return _e(l,s),l}(Un),WJ=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.metadata;return(c=s.call(this)||this).method=In.POST,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metadata"),c.params={metadata:_,include_ts:!0},c}return _e(l,s),l}(An),QJ=function(s){function l(i,c){var d,p,_=this;return(_=s.call(this,i,c)||this).metaData=(d=c.metadata)!==null&&d!==void 0?d:{},_.ts=(p=c.ts)!==null&&p!==void 0?p:null,_}return _e(l,s),l}(Un),YJ=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.metadata,g=i.upsert;return(c=s.call(this)||this).method=In.PUT,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metadata"),c.params={metadata:_,include_ts:!0,upsert:g!=null&&g},c}return _e(l,s),l}(An),XJ=function(s){function l(i,c){var d=s.call(this,i,c)||this;d.ts=null;var p=c.metadata,_=c.ts;return d.metadata=p,d.ts=_??null,d}return _e(l,s),l}(Un),ZJ=function(s){function l(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.created=null,p.updated=null,p.deleted=null,d.data&&(p.created=d.data.created,p.updated=d.data.updated,p.deleted=d.data.deleted),p}return _e(l,s),l}($r),JJ=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.key;return(c=s.call(this)||this).method=In.DELETE,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metadata/").concat(_),c.params={include_ts:!0},c}return _e(l,s),l}(An),eee=function(s){function l(i,c){var d=s.call(this,i,c)||this;d.ts=null;var p=c.ts;return d.ts=p??null,d}return _e(l,s),l}(Un),nee=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType;return(c=s.call(this)||this).method=In.DELETE,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metadata"),c.params={include_ts:!0},c}return _e(l,s),l}(An),tee=function(s){function l(i,c){var d=s.call(this,i,c)||this;d.ts=null;var p=c.ts;return d.ts=p??null,d}return _e(l,s),l}(Un),gN=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.keys;return(c=s.call(this)||this).method=In.GET,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metacounter"),c.params={keys:_},c}return _e(l,s),l}(An),bN=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.metaCounter=c,d}return _e(l,s),l}(Un),ree=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.metaCounter;return(c=s.call(this)||this).method=In.POST,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metacounter"),c.params={metacounter:_},c}return _e(l,s),l}(An),iee=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.metaCounter=c,d}return _e(l,s),l}(Un),wE=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.metaCounter,g=i.upsert,b=g!==void 0&&g,E=i.mode,I=E===void 0?"set":E;return(c=s.call(this)||this).method=In.PUT,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metacounter"),c.params={metacounter:_,upsert:b,mode:I},c}return _e(l,s),l}(An),xE=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.metaCounter=c,d}return _e(l,s),l}(Un),aee=function(s){function l(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.created=null,p.updated=null,p.deleted=null,d.data&&(p.created=d.data.created,p.updated=d.data.updated,p.deleted=d.data.deleted),p}return _e(l,s),l}($r),see=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.key;return(c=s.call(this)||this).method=In.DELETE,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metacounter/").concat(_),c.params=null,c}return _e(l,s),l}(An);(function(s){_e(function(l,i){return s.call(this,l,i)||this},s)})(Un);var oee=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType;return(c=s.call(this)||this).method=In.DELETE,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/metacounter"),c.params=null,c}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var lee=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId,g=i.seconds,b=i.description;return(c=s.call(this)||this).method=In.POST,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/mute"),c.params={user_id:_,seconds:g,description:b},c}return _e(l,s),l}(An);(function(s){_e(function(l,i){return s.call(this,l,i)||this},s)})(Un);var cee=function(s){function l(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.user=new Nh(i,d.data),p}return _e(l,s),l}($r),uee=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId;return(c=s.call(this)||this).method=In.DELETE,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/mute/").concat(encodeURIComponent(_)),c}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var dee=function(s){function l(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.user=new Nh(i,d.data),p}return _e(l,s),l}($r),hee=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId,g=i.seconds,b=i.description;return(c=s.call(this)||this).method=In.POST,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/ban"),c.params=St({user_id:_,seconds:g,description:b}),c}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var pee=function(s){function l(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.memberCount=null,p.joinedMemberCount=null,p.user=new Nh(i,d.data),d.data.member_count&&(p.memberCount=d.data.member_count),d.data.joined_member_count&&(p.joinedMemberCount=d.data.joined_member_count),p}return _e(l,s),l}($r),fee=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.userId;return(c=s.call(this)||this).method=In.DELETE,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/ban/").concat(encodeURIComponent(_)),c}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var _ee=function(s){function l(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.user=new Nh(i,d.data),p}return _e(l,s),l}($r),yN=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.freezing;return(c=s.call(this)||this).method=In.PUT,c.path="".concat(ur(p),"/").concat(encodeURIComponent(d),"/freeze"),c.params={freeze:_},c}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var mee=function(s){function l(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.freeze=d.data.freeze,p}return _e(l,s),l}($r),vee=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.category,g=i.userId,b=i.description;return(c=s.call(this)||this).method=In.POST,c.path="".concat(OI(p),"/").concat(encodeURIComponent(d)),c.params={report_category:_,reporting_user_id:g,report_description:b},c}return _e(l,s),l}(An),gee=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.category,g=i.userId,b=i.offendingUserId,E=i.description;return(c=s.call(this)||this).method=In.POST,c.path="".concat(V2,"/users/").concat(b),c.params={channel_url:d,channel_type:p===Br.OPEN?"open_channels":"group_channels",report_category:_,reporting_user_id:g,report_description:E},c}return _e(l,s),l}(An),bee=function(s){function l(i){var c=this,d=i.channelUrl,p=i.channelType,_=i.category,g=i.userId,b=i.offendingUserId,E=i.messageId,I=i.description;return(c=s.call(this)||this).method=In.POST,c.path="".concat(OI(p),"/").concat(encodeURIComponent(d),"/messages/").concat(E),c.params={report_category:_,reporting_user_id:g,report_description:I,offending_user_id:b},c}return _e(l,s),l}(An),yee=function(s){function l(i){var c=[];return i.mentionType===ga.USERS&&(i.mentionedUserIds?c=i.mentionedUserIds:i.mentionedUsers&&(c=i.mentionedUsers.map(function(d){return d.userId}))),s.call(this,{code:"MESG",ackRequired:!0,payload:St({channel_url:i.channelUrl,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:c,mentioned_message_template:i.mentionedMessageTemplate,target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==Nc.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId>0?i.parentMessageId:null,req_id:i.reqId,poll_id:i.pollId,pin_message:i.isPinnedMessage})})||this}return _e(l,s),l}(ho),EN=function(s){function l(i,c,d){var p,_,g,b=this;(b=s.call(this,i,"MESG",d)||this).message=new ba(i,d);var E=an.of(i).sdkState;return b.isMentioned=kh(b.message.mentionType,(p=b.message.mentionedUserIds)!==null&&p!==void 0?p:(_=b.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(I){return I.userId}),E.userId),b.forceUpdateLastMessage=(g=d.force_update_last_message)!==null&&g!==void 0&&g,b}return _e(l,s),l}($r),wN=function(s){function l(i){var c,d=null;return i.mentionType===ga.USERS&&(i.mentionedUserIds?d=i.mentionedUserIds:i.mentionedUsers&&(d=i.mentionedUsers.map(function(p){return p.userId}))),s.call(this,{code:"MEDI",ackRequired:!0,payload:St({channel_url:i.channelUrl,msg_id:i.messageId,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:d,mentioned_message_template:i.mentionedMessageTemplate,apple_critical_alert_options:(c=i.appleCriticalAlertOptions)===null||c===void 0?void 0:c.serialize(),poll_id:i.pollId})})||this}return _e(l,s),l}(ho),kE=function(s){function l(i,c,d){var p,_,g,b,E,I,U=this;(U=s.call(this,i,"MEDI",d)||this).message=new ba(i,d);var X=an.of(i).sdkState;return U.mentionCountChange=nE({mentionType:(_=(p=d.old_values)===null||p===void 0?void 0:p.mention_type)!==null&&_!==void 0?_:null,mentionedUserIds:(b=(g=d.old_values)===null||g===void 0?void 0:g.mentioned_user_ids)!==null&&b!==void 0?b:[]},{mentionType:U.message.mentionType,mentionedUserIds:(E=U.message.mentionedUserIds)!==null&&E!==void 0?E:(I=U.message.mentionedUsers)===null||I===void 0?void 0:I.map(function(W){return W.userId})},X.userId),U}return _e(l,s),l}($r),xN=function(s){function l(i){var c=null;return i.mentionType===ga.USERS&&(i.mentionedUserIds?c=i.mentionedUserIds:i.mentionedUsers&&(c=i.mentionedUsers.map(function(d){return d.userId}))),s.call(this,{code:"FEDI",ackRequired:!0,payload:St({channel_url:i.channelUrl,msg_id:i.messageId,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:c,apple_critical_alert_options:i.appleCriticalAlertOptions})})||this}return _e(l,s),l}(ho),SE=function(s){function l(i,c,d){var p,_,g,b,E,I,U=this;(U=s.call(this,i,"FEDI",d)||this).message=new pi(i,d);var X=an.of(i).sdkState;return U.mentionCountChange=nE({mentionType:(_=(p=d.old_values)===null||p===void 0?void 0:p.mention_type)!==null&&_!==void 0?_:null,mentionedUserIds:(b=(g=d.old_values)===null||g===void 0?void 0:g.mentioned_user_ids)!==null&&b!==void 0?b:[]},{mentionType:U.message.mentionType,mentionedUserIds:(E=U.message.mentionedUserIds)!==null&&E!==void 0?E:(I=U.message.mentionedUsers)===null||I===void 0?void 0:I.map(function(W){return W.userId})},X.userId),U}return _e(l,s),l}($r),Eee=function(s){function l(i){var c=s.call(this)||this;return c.method=In.DELETE,c.path="".concat(ur(i.channelType),"/").concat(i.channelUrl,"/messages/").concat(i.messageId),c}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var wee=function(s){function l(i,c,d){var p=s.call(this,i,"DELM",d)||this;return p.channelUrl=d.channel_url,p.channelType=d.channel_type,p.messageId=Number(d.msg_id),p}return _e(l,s),l}($r),xee=function(s){function l(i){var c=i.channelType,d=i.channelUrl,p=i.messageId,_=i.reactionKey,g=s.call(this)||this;return g.method=In.POST,g.path="".concat(ur(c),"/").concat(encodeURIComponent(d),"/messages/").concat(p,"/reactions"),g.params={reaction:_},g}return _e(l,s),l}(An),kee=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.reactionEvent=new Y2(c),d}return _e(l,s),l}(Un),See=function(s){function l(i){var c=i.channelType,d=i.channelUrl,p=i.messageId,_=i.reactionKey,g=s.call(this)||this;return g.method=In.DELETE,g.path="".concat(ur(c),"/").concat(encodeURIComponent(d),"/messages/").concat(p,"/reactions"),g.params={reaction:_},g}return _e(l,s),l}(An),Tee=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.reactionEvent=new Y2(Be({},c)),d}return _e(l,s),l}(Un),Cee=function(s){function l(i){var c=i.channelType,d=i.channelUrl,p=i.messageId,_=i.translationTargetLanguages,g=s.call(this)||this;return g.method=In.POST,g.path="".concat(ur(c),"/").concat(encodeURIComponent(d),"/messages/").concat(encodeURIComponent(p),"/translation"),g.params={target_langs:_},g}return _e(l,s),l}(An),Iee=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.message=new ba(i,c),d}return _e(l,s),l}(Un),Nee=function(s){function l(i){var c,d=this;d=s.call(this)||this;var p=[];i.mentionType===ga.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(b){return b.userId})));var _=i.channelType,g=i.channelUrl;return d.method=In.POST,d.path="".concat(ur(_),"/").concat(encodeURIComponent(g),"/scheduled_messages"),d.params={req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:Hm.USER,message:i.message,custom_type:i.customType,data:i.data,mention_type:i.mentionType,mentioned_user_ids:p,sorted_metaarray:(c=i.metaArrays)===null||c===void 0?void 0:c.map(function(b){return bs.payloadify(b)}),apple_critical_alert_options:Oc.payloadify(i.appleCriticalAlertOptions),target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption},d}return _e(l,s),l}(An),Aee=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.message=new ba(i,c),d}return _e(l,s),l}(Un),Oee=function(s){function l(i){var c,d=this;d=s.call(this)||this;var p=[];i.mentionType===ga.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(b){return b.userId})));var _=i.channelType,g=i.channelUrl;return d.method=In.POST,d.path="".concat(ur(_),"/").concat(encodeURIComponent(g),"/scheduled_messages"),d.params={req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:Hm.FILE,url:i.fileUrl,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function(b){return X2.payloadify(b)}):[],custom_type:i.customType,data:i.data,require_auth:i.requireAuth,mention_type:i.mentionType,mentioned_user_ids:p,sorted_metaarray:(c=i.metaArrays)===null||c===void 0?void 0:c.map(function(b){return bs.payloadify(b)}),apple_critical_alert_options:Oc.payloadify(i.appleCriticalAlertOptions),push_option:i.pushNotificationDeliveryOption},d}return _e(l,s),l}(An),Ree=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.message=new pi(i,c),d}return _e(l,s),l}(Un),Mee=function(s){function l(i){var c=i.pollId,d=i.title,p=i.data,_=i.allowUserSuggestion,g=i.allowMultipleVotes,b=i.closeAt,E=s.call(this)||this;return E.method=In.PUT,E.path="".concat(po,"/").concat(encodeURIComponent(c)),E.params={title:d,data:p,allow_user_suggestion:_,allow_multiple_votes:g,close_at:b},E}return _e(l,s),l}(An),Dee=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.poll=new Hs(i,c),d}return _e(l,s),l}(Un),Lee=function(s){function l(i){var c=i.pollId,d=s.call(this)||this;return d.method=In.DELETE,d.path="".concat(po,"/").concat(encodeURIComponent(c)),d}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var Uee=function(s){function l(i){var c=i.pollId,d=s.call(this)||this;return d.method=In.PUT,d.path="".concat(po,"/").concat(encodeURIComponent(c),"/close"),d}return _e(l,s),l}(An),Pee=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.poll=new Hs(i,c),d}return _e(l,s),l}(Un),Fee=function(s){function l(i){var c=i.channelUrl,d=i.channelType,p=i.pollId,_=i.optionText,g=s.call(this)||this;return g.method=In.POST,g.path="".concat(po,"/").concat(encodeURIComponent(p),"/options"),g.params={channel_url:c,channel_type:d,text:_},g}return _e(l,s),l}(An),Hee=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.poll=new Hs(i,c),d}return _e(l,s),l}(Un),Bee=function(s){function l(i){var c=i.pollId,d=i.pollOptionId,p=i.optionText,_=s.call(this)||this;return _.method=In.PUT,_.path="".concat(po,"/").concat(encodeURIComponent(c),"/options/").concat(encodeURIComponent(d)),_.params={text:p},_}return _e(l,s),l}(An),$ee=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.poll=new Hs(i,c),d}return _e(l,s),l}(Un),zee=function(s){function l(i){var c=i.pollId,d=i.pollOptionId,p=s.call(this)||this;return p.method=In.DELETE,p.path="".concat(po,"/").concat(encodeURIComponent(c),"/options/").concat(encodeURIComponent(d)),p}return _e(l,s),l}(An);(function(s){_e(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Un);var ea,Vee=function(s){function l(i){var c=i.reqId,d=i.channelType,p=i.channelUrl,_=i.pollId,g=i.pollOptionIds;return s.call(this,{code:"VOTE",ackRequired:!0,payload:St({req_id:c,channel_type:d===Br.OPEN?"open_channels":"group_channels",channel_url:p,poll_id:_,option_ids:g})})||this}return _e(l,s),l}(ho),kN=function(s){function l(i,c,d){var p=s.call(this,i,"VOTE",d)||this;return p.event=null,p.channelUrl=null,p.channelType=null,p.event=new tZ(d),p.channelUrl=d.channel_url,p.channelType=d.channel_type,p}return _e(l,s),l}($r),SN=function(s){function l(i,c){var d,p,_,g,b=this;return(b=s.call(this,i)||this).url="",b.channelType=Br.BASE,b.name="",b.coverUrl="",b.customType="",b.data="",b.isFrozen=!1,b.isEphemeral=!1,b.creator=null,b.createdAt=0,b.url=c.channel_url,b.name=(d=c.name)!==null&&d!==void 0?d:"",b.coverUrl=(p=c.cover_url)!==null&&p!==void 0?p:"",b.customType=(_=c.custom_type)!==null&&_!==void 0?_:"",b.data=(g=c.data)!==null&&g!==void 0?g:"",b.isFrozen=!!ze("boolean",c.freeze)&&c.freeze,b.isEphemeral=!!ze("boolean",c.is_ephemeral)&&c.is_ephemeral,b.creator=c.created_by?new Dt(b._iid,c.created_by):null,b.createdAt=1e3*c.created_at,b._cachedMetaData=new Map,c.metadata&&c.ts&&Object.keys(c.metadata).forEach(function(E){b._cachedMetaData.set(E,{value:c.metadata[E],isRemoved:!1,updatedAt:c.ts})}),b}return _e(l,s),l.payloadify=function(i){return St(Be(Be({},s.payloadify.call(this,i)),{channel_url:i.url,name:i.name,cover_url:i.coverUrl,custom_type:i.customType,data:i.data,freeze:i.isFrozen,is_ephemeral:i.isEphemeral,created_by:Dt.payloadify(i.creator),created_at:i.createdAt/1e3}))},l.prototype.isGroupChannel=function(){return this.channelType===Br.GROUP},l.prototype.isOpenChannel=function(){return this.channelType===Br.OPEN},Object.defineProperty(l.prototype,"cachedMetaData",{get:function(){var i={};return this._cachedMetaData.forEach(function(c,d){c.isRemoved||(i[d]=c.value)}),i},enumerable:!1,configurable:!0}),l.prototype._upsertCachedMetaData=function(i,c){var d=this;Object.keys(i).forEach(function(p){var _=d._cachedMetaData.get(p);(!_||_.updatedAt<=c)&&d._cachedMetaData.set(p,{value:i[p],isRemoved:!1,updatedAt:c})})},l.prototype._removeFromCachedMetaData=function(i,c){var d=this;i.forEach(function(p){var _=d._cachedMetaData.get(p);_&&_.updatedAt<c&&(_.isRemoved=!1,_.updatedAt=c)})},l.prototype._generateRequestId=function(){return"rq-".concat(vh())},l.prototype.isIdentical=function(i){return i&&this.url===i.url},l.prototype.isEqual=function(i){return TC(this,i)},l.prototype.createOperatorListQuery=function(i){return i===void 0&&(i={}),new PJ(this._iid,this.url,this.channelType,i)},l.prototype.createMutedUserListQuery=function(i){return i===void 0&&(i={}),new BJ(this._iid,this.url,this.channelType,i)},l.prototype.createBannedUserListQuery=function(i){return i===void 0&&(i={}),new VJ(this._iid,this.url,this.channelType,i)},l.prototype.createPreviousMessageListQuery=function(i){return i===void 0&&(i={}),new $X(this._iid,this.url,this.channelType,i)},l.prototype.addOperators=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return Pn(Qt("string",i)).throw(We.invalidParameters),c=an.of(this._iid).requestQueue,d=new GJ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},l.prototype.removeOperators=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return Pn(Qt("string",i)).throw(We.invalidParameters),c=an.of(this._iid).requestQueue,d=new qJ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},l.prototype.getMyMutedInfo=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I,U,X;return Z(this,function(W){switch(W.label){case 0:return i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new jJ({channelUrl:this.url,channelType:this.channelType,userId:c.userId}),[4,d.send(p)];case 1:return _=W.sent(),g=_.as(KJ),b=g.isMuted,E=g.startAt,I=g.endAt,U=g.remainingDuration,X=g.description,[2,{isMuted:b,startAt:E,endAt:I,remainingDuration:U,description:X}]}})})},l.prototype.getMetaData=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return Pn(Qt("string",i)).throw(We.invalidParameters),c=an.of(this._iid).requestQueue,d=new mN({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,c.send(d)];case 1:return p=E.sent(),_=p.as(vN),g=_.metadata,b=_.ts,this._upsertCachedMetaData(g,b),[2,g]}})})},l.prototype.getAllMetaData=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return i=an.of(this._iid).requestQueue,c=new mN({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(c)];case 1:return d=b.sent(),p=d.as(vN),_=p.metadata,g=p.ts,this._upsertCachedMetaData(_,g),[2,_]}})})},l.prototype.createMetaData=function(i){return J(this,void 0,void 0,function(){var c,d,p,_;return Z(this,function(g){switch(g.label){case 0:return c=an.of(this._iid).requestQueue,d=new WJ({channelUrl:this.url,channelType:this.channelType,metadata:i}),[4,c.send(d)];case 1:return p=g.sent(),_=p.as(QJ).metaData,this._upsertCachedMetaData(_,0),[2,_]}})})},l.prototype.updateMetaData=function(i,c){return c===void 0&&(c=!1),J(this,void 0,void 0,function(){var d,p,_,g,b,E;return Z(this,function(I){switch(I.label){case 0:return d=an.of(this._iid).requestQueue,p=new YJ({channelUrl:this.url,channelType:this.channelType,metadata:i,upsert:c}),[4,d.send(p)];case 1:return _=I.sent(),g=_.as(XJ),b=g.metadata,E=g.ts,this._upsertCachedMetaData(b,E),[2,b]}})})},l.prototype.deleteMetaData=function(i){return J(this,void 0,void 0,function(){var c,d,p,_;return Z(this,function(g){switch(g.label){case 0:return Pn(ze("string",i)).throw(We.invalidParameters),c=an.of(this._iid).requestQueue,d=new JJ({channelUrl:this.url,channelType:this.channelType,key:i}),[4,c.send(d)];case 1:return p=g.sent(),_=p.as(eee).ts,this._removeFromCachedMetaData([i],_),[2]}})})},l.prototype.deleteAllMetaData=function(){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return i=an.of(this._iid).requestQueue,c=new nee({channelUrl:this.url,channelType:this.channelType}),[4,i.send(c)];case 1:return d=_.sent(),p=d.as(tee).ts,this._removeFromCachedMetaData(Fr([],xr(this._cachedMetaData.keys()),!1),p),[2]}})})},l.prototype.getMetaCounters=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return Pn(Qt("string",i)).throw(We.invalidParameters),c=an.of(this._iid).requestQueue,d=new gN({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,c.send(d)];case 1:return[2,p.sent().as(bN).metaCounter]}})})},l.prototype.getAllMetaCounters=function(){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:return i=an.of(this._iid).requestQueue,c=new gN({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(c)];case 1:return[2,d.sent().as(bN).metaCounter]}})})},l.prototype.createMetaCounters=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return c=an.of(this._iid).requestQueue,d=new ree({channelUrl:this.url,channelType:this.channelType,metaCounter:i}),[4,c.send(d)];case 1:return[2,p.sent().as(iee).metaCounter]}})})},l.prototype.updateMetaCounters=function(i,c){return c===void 0&&(c=!1),J(this,void 0,void 0,function(){var d,p;return Z(this,function(_){switch(_.label){case 0:return d=an.of(this._iid).requestQueue,p=new wE({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:c}),[4,d.send(p)];case 1:return[2,_.sent().as(xE).metaCounter]}})})},l.prototype.increaseMetaCounters=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return c=an.of(this._iid).requestQueue,d=new wE({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"increase"}),[4,c.send(d)];case 1:return[2,p.sent().as(xE).metaCounter]}})})},l.prototype.decreaseMetaCounters=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return c=an.of(this._iid).requestQueue,d=new wE({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"decrease"}),[4,c.send(d)];case 1:return[2,p.sent().as(xE).metaCounter]}})})},l.prototype.deleteMetaCounter=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return Pn(ze("string",i)).throw(We.invalidParameters),c=an.of(this._iid).requestQueue,d=new see({channelUrl:this.url,channelType:this.channelType,key:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},l.prototype.deleteAllMetaCounters=function(){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:return i=an.of(this._iid).requestQueue,c=new oee({channelUrl:this.url,channelType:this.channelType}),[4,i.send(c)];case 1:return d.sent(),[2]}})})},l.prototype.muteUser=function(i,c,d){return J(this,void 0,void 0,function(){return Z(this,function(p){return[2,this.muteUserWithUserId(i.userId,c,d)]})})},l.prototype.muteUserWithUserId=function(i,c,d){return J(this,void 0,void 0,function(){var p,_;return Z(this,function(g){switch(g.label){case 0:return Pn(ze("string",i)&&ze("number",c,!0)&&ze("string",d,!0)).throw(We.invalidParameters),p=an.of(this._iid).requestQueue,_=new lee({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:c,description:d}),[4,p.send(_)];case 1:return g.sent(),[2]}})})},l.prototype.unmuteUser=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){return[2,this.unmuteUserWithUserId(i.userId)]})})},l.prototype.unmuteUserWithUserId=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return Pn(ze("string",i)).throw(We.invalidParameters),c=an.of(this._iid).requestQueue,d=new uee({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},l.prototype.banUser=function(i,c,d){return J(this,void 0,void 0,function(){return Z(this,function(p){return[2,this.banUserWithUserId(i.userId,c,d)]})})},l.prototype.banUserWithUserId=function(i,c,d){return J(this,void 0,void 0,function(){var p,_;return Z(this,function(g){switch(g.label){case 0:return Pn(ze("string",i)&&ze("number",c,!0)&&ze("string",d,!0)).throw(We.invalidParameters),p=an.of(this._iid).requestQueue,_=new hee({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:c,description:d}),[4,p.send(_)];case 1:return g.sent(),[2]}})})},l.prototype.unbanUser=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){return[2,this.unbanUserWithUserId(i.userId)]})})},l.prototype.unbanUserWithUserId=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return Pn(ze("string",i)).throw(We.invalidParameters),c=an.of(this._iid).requestQueue,d=new fee({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,c.send(d)];case 1:return p.sent(),[2]}})})},l.prototype.freeze=function(){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:return i=an.of(this._iid).requestQueue,c=new yN({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,i.send(c)];case 1:return d.sent(),this.isFrozen=!0,[2]}})})},l.prototype.unfreeze=function(){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:return i=an.of(this._iid).requestQueue,c=new yN({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,i.send(c)];case 1:return d.sent(),this.isFrozen=!1,[2]}})})},l.prototype.getMessagesByMessageId=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Be(Be({},Gm),c),Pn(ze("number",i)&&MI(d)).throw(We.invalidParameters),[4,Ua.of(this._iid).getMessagesByMessageId(this.url,this.channelType,i,d)];case 1:return[2,p.sent()]}})})},l.prototype.getMessagesByTimestamp=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Be(Be({},Gm),c),Pn(ze("number",i)&&MI(d)).throw(We.invalidParameters),[4,Ua.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,i,d)];case 1:return[2,p.sent()]}})})},l.prototype.getMessageChangeLogsSinceTimestamp=function(i,c){return c===void 0&&(c={}),J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Be(Be({},tE),c),Pn(ze("number",i)&&DI(d)).throw(We.invalidParameters),[4,Ua.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,d)];case 1:return[2,p.sent()]}})})},l.prototype.getMessageChangeLogsSinceToken=function(i,c){return c===void 0&&(c={}),J(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return d=Be(Be({},tE),c),Pn(ze("string",i)&&DI(d)).throw(We.invalidParameters),[4,Ua.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,d)];case 1:return[2,p.sent()]}})})},l.prototype._createPendingSendableMessagePayload=function(i,c,d){var p=an.of(this._iid).sessionManager;return St({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,sorted_metaarray:i.metaArrays?i.metaArrays.map(function(_){return bs.payloadify(_)}):null,apple_critical_alert_options:i.appleCriticalAlertOptions?Oc.payloadify(i.appleCriticalAlertOptions):null,created_at:d,user:xp.payloadify(p.currentUser),req_id:c,request_state:Hr.PENDING,mentioned_user_ids:i.mentionedUserIds,mentioned_users:i.mentionedUsers})},l.prototype._createPendingUserMessage=function(i,c,d){var p,_,g={};if(i.translationTargetLanguages)try{for(var b=Et(i.translationTargetLanguages),E=b.next();!E.done;E=b.next())g[E.value]=""}catch(X){p={error:X}}finally{try{E&&!E.done&&(_=b.return)&&_.call(b)}finally{if(p)throw p.error}}var I=St(Be(Be({},this._createPendingSendableMessagePayload(i,c,d)),{type:Kr.USER,message:i.message,translations:g})),U=new ba(this._iid,I);return U.messageParams=i,U},l.prototype._createPendingScheduledUserMessage=function(i,c,d){var p=this._createPendingUserMessage(i,c,d);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},p},l.prototype._createPendingFileMessage=function(i,c,d){var p=St(Be(Be({},this._createPendingSendableMessagePayload(i,c,d)),{type:Kr.FILE,url:i.fileUrl,file:{name:i.fileName,size:i.fileSize,type:i.mimeType,data:i.data},thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function(g){return{url:"",width:g.maxWidth,height:g.maxHeight}}):[]})),_=new pi(this._iid,p);return _.messageParams=i,_},l.prototype._createPendingScheduledFileMessage=function(i,c,d){var p=this._createPendingFileMessage(i,c,d);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},p},l.prototype._markMessageAsFailed=function(i,c,d){d===void 0&&(d=!1),i.errorCode=c.code,c.code===Rt.REQUEST_CANCELED?i.sendingStatus=Hr.CANCELED:d||(i.sendingStatus=Hr.FAILED)},l.prototype.sendUserMessage=function(i){var c=Be(Be({},KI),i);return Pn(function(d){return qI(d)&&ze("string",d.message)&&Qt("string",d.translationTargetLanguages,!0)&&ze("number",d.pollId,!0)}(c)).throw(We.invalidParameters),this._sendUserMessage(c)},l.prototype._sendUserMessage=function(i,c){var d=this;c===void 0&&(c=null);var p=an.of(this._iid),_=p.dispatcher,g=p.requestQueue,b=c,E=Date.now(),I=new aE;if(!b){b=this._generateRequestId();var U=an.of(this._iid).dispatcher;qo(2).then(function(){var W=d._createPendingUserMessage(i,b,E);U.dispatch(new Ja({messages:[W],source:fi.EVENT_MESSAGE_SENT_PENDING})),Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(de){return[2,I._trigger(null,W)]})})})})}var X=new yee(Be(Be({},i),{channelUrl:this.url,channelType:this.channelType,reqId:b}));return g.send(X).then(function(W){var de=W.as(EN).message;_.dispatch(new Ja({messages:[de],source:fi.EVENT_MESSAGE_SENT_SUCCESS})),Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(se){return[2,I._trigger(null,de)]})})})}).catch(function(W){if(Du(W))throw W;qo(2).then(function(){var de=d._createPendingUserMessage(i,b,E),se=an.of(d._iid).cacheContext.localCacheEnabled&&km(W.code);d._markMessageAsFailed(de,W,se),_.dispatch(new Ja({messages:[de],source:de.sendingStatus===Hr.PENDING?fi.REQUEST_RESEND_MESSAGE:fi.EVENT_MESSAGE_SENT_FAILED})),Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(fe){return[2,I._trigger(W,de)]})})})})}),I},l.prototype._autoResendUserMessage=function(i){return Pn(i instanceof ba).throw(We.invalidParameters),this._sendUserMessage(i.messageParams,i.reqId)},l.prototype.resendUserMessage=function(i){var c;return J(this,void 0,void 0,function(){var d,p;return Z(this,function(_){return Pn(i instanceof ba&&!i.scheduledInfo).throw(We.invalidParameters),d=new La,p=(c=i.messageParams)!==null&&c!==void 0?c:function(g){var b;return St({data:g.data,customType:g.customType,mentionType:g.mentionType,mentionedUsers:g.mentionedUsers,mentionedUserIds:g.mentionedUserIds,mentionedMessageTemplate:g.mentionedMessageTemplate,metaArrays:g.metaArrays,pollId:(b=g.poll)===null||b===void 0?void 0:b.id,parentMessageId:g.parentMessageId,appleCriticalAlertOptions:g.appleCriticalAlertOptions,message:g.message,translationTargetLanguages:Object.keys(g.translations)})}(i),this._sendUserMessage(p,i.reqId).onFailed(function(g){return d.reject(g)}).onSucceeded(function(g){return d.resolve(g)}),[2,d.promise]})})},l.prototype.updateUserMessage=function(i,c){return J(this,void 0,void 0,function(){var d,p,_;return Z(this,function(g){switch(g.label){case 0:return d=Be(Be({},MJ),c),Pn(ze("number",i)&&function(b){return _N(b)&&ze("string",b.message,!0)&&Qt("string",b.translationTargetLanguages,!0)&&ze("number",b.pollId,!0)}(d)).throw(We.invalidParameters),p=an.of(this._iid).requestQueue,_=new wN(Be({channelType:this.channelType,channelUrl:this.url,messageId:i},d)),[4,p.send(_)];case 1:return[2,g.sent().as(kE).message]}})})},l.prototype.copyUserMessage=function(i,c){var d,p,_;return J(this,void 0,void 0,function(){var g,b;return Z(this,function(E){return Pn(i instanceof l&&c instanceof ba&&c.sendingStatus===Hr.SUCCEEDED&&this.url===c.channelUrl&&!c.scheduledInfo).throw(We.invalidParameters),Pn(!c.poll).throw(We.notSupportedError),g=new La,b=(d=c.messageParams)!==null&&d!==void 0?d:Be(Be({},c),{mentionType:c.mentionType,mentionedUserIds:(p=c.mentionedUserIds)!==null&&p!==void 0?p:(_=c.mentionedUsers)===null||_===void 0?void 0:_.map(function(I){return I.userId}),translationTargetLanguages:Object.keys(c.translations),pushNotificationDeliveryOption:Nc.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}),i._sendUserMessage(b).onSucceeded(function(I){g.resolve(I)}).onFailed(function(I){return g.reject(I)}),[2,g.promise]})})},l.prototype.translateUserMessage=function(i,c){return J(this,void 0,void 0,function(){var d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(i instanceof ba&&i.messageId>0&&Qt("string",c)).throw(We.invalidParameters),d=an.of(this._iid).requestQueue,p=new Cee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,translationTargetLanguages:c}),[4,d.send(p)];case 1:return[2,_.sent().as(Iee).message]}})})},l.prototype._createScheduledUserMessage=function(i,c){var d=this,p=an.of(this._iid).requestQueue,_=Date.now(),g=this._generateRequestId();qo(2).then(function(){var E=d._createPendingScheduledUserMessage(i,g,_);Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(I){return[2,c._trigger(null,E)]})})})});var b=new Nee(Be({reqId:g,channelType:this.channelType,channelUrl:this.url},i));p.send(b).then(function(E){var I=E.as(Aee).message;Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(U){return[2,c._trigger(null,I)]})})})}).catch(function(E){if(Du(E))throw E;qo(2).then(function(){var I=d._createPendingScheduledUserMessage(i,g,_);d._markMessageAsFailed(I,E),Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(U){return[2,c._trigger(E,I)]})})})})})},l.prototype.sendFileMessage=function(i){var c=Be(Be({},YI),i);return Pn(XI(c)).throw(We.invalidParameters),this._sendFileMessage(c)},l.prototype._sendFileMessage=function(i,c){var d=this;c===void 0&&(c=null);var p=an.of(this._iid).dispatcher,_=Ua.of(this._iid).fileMessageQueue,g=c,b=Date.now(),E=new aE;return g||(g=this._generateRequestId(),qo(2).then(function(){var I=d._createPendingFileMessage(i,g,b);p.dispatch(new Ja({messages:[I],source:fi.EVENT_MESSAGE_SENT_PENDING})),Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(U){return[2,E._trigger(null,I)]})})})})),_.request(this,g,i).then(function(I){p.dispatch(new Ja({messages:[I],source:fi.EVENT_MESSAGE_SENT_SUCCESS})),Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(U){return[2,E._trigger(null,I)]})})})}).catch(function(I){if(Du(I))throw I;qo(2).then(function(){var U=d._createPendingFileMessage(i,g,b),X=an.of(d._iid).cacheContext.localCacheEnabled&&km(I.code);d._markMessageAsFailed(U,I,X),p.dispatch(new Ja({messages:[U],source:U.sendingStatus===Hr.PENDING?fi.REQUEST_RESEND_MESSAGE:fi.EVENT_MESSAGE_SENT_FAILED})),Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(W){return[2,E._trigger(I,U)]})})})})}),E},l.prototype._autoResendFileMessage=function(i){Pn(i instanceof pi).throw(We.invalidParameters);var c=an.of(this._iid).logger;return c.debug("autoResendFileMessage pending",i),this._sendFileMessage(i.messageParams,i.reqId).onFailed(function(d){c.debug("autoResendFileMessage failed",d)}).onSucceeded(function(d){c.debug("autoResendFileMessage success",d)})},l.prototype._createScheduledFileMessage=function(i,c,d,p){var _=this,g=an.of(this._iid).requestQueue,b=new Oee(Be(Be({reqId:d,channelType:this.channelType,channelUrl:this.url},i),{fileUrl:i.fileUrl,requireAuth:i.requireAuth}));g.send(b).then(function(E){var I=E.as(Ree).message;Ht(function(){return J(_,void 0,void 0,function(){return Z(this,function(U){return[2,c._trigger(null,I)]})})})}).catch(function(E){if(Du(E))throw E;qo(2).then(function(){var I=_._createPendingScheduledFileMessage(i,d,p);_._markMessageAsFailed(I,E),Ht(function(){return J(_,void 0,void 0,function(){return Z(this,function(U){return[2,c._trigger(E,I)]})})})})})},l.prototype.sendFileMessages=function(i){var c,d;Pn(i.every(function(E){return XI(Be(Be({},YI),E))})).throw(We.invalidParameters);var p=new aE;try{for(var _=Et(i),g=_.next();!g.done;g=_.next()){var b=g.value;this.sendFileMessage(b).onPending(function(E){return p._trigger(null,E)}).onFailed(function(E,I){return p._trigger(E,I)}).onSucceeded(function(E){return p._trigger(null,E)})}}catch(E){c={error:E}}finally{try{g&&!g.done&&(d=_.return)&&d.call(_)}finally{if(c)throw c.error}}return p},l.prototype.resendFileMessage=function(i,c){var d;return J(this,void 0,void 0,function(){var p,_,g;return Z(this,function(b){return p=!!i.url||fs(c)||fs((d=i.messageParams)===null||d===void 0?void 0:d.file),Pn(i instanceof pi&&p&&!i.scheduledInfo).throw(We.invalidParameters),_=new La,g=function(E,I){var U;return I===void 0&&(I=null),E.messageParams?(!E.url&&fs(I)&&(E.messageParams.file=I),E.messageParams):St({data:E.data,customType:E.customType,mentionType:E.mentionType,mentionedUsers:E.mentionedUsers,mentionedUserIds:E.mentionedUserIds,metaArrays:E.metaArrays,parentMessageId:E.parentMessageId,appleCriticalAlertOptions:E.appleCriticalAlertOptions,file:I??((U=E.messageParams)===null||U===void 0?void 0:U.file),fileUrl:E.url,fileName:E.name,fileSize:E.size,mimeType:E.type,thumbnailSizes:E.thumbnails.map(function(X){return{maxWidth:X.width,maxHeight:X.height}})})}(i,c),this._sendFileMessage(g,i.reqId).onFailed(function(E){return _.reject(E)}).onSucceeded(function(E){return _.resolve(E)}),[2,_.promise]})})},l.prototype.updateFileMessage=function(i,c){return J(this,void 0,void 0,function(){var d,p,_;return Z(this,function(g){switch(g.label){case 0:return d=Be(Be({},DJ),c),Pn(ze("number",i)&&function(b){return _N(b)}(d)).throw(We.invalidParameters),p=an.of(this._iid).requestQueue,_=new xN(Be({channelType:this.channelType,channelUrl:this.url,messageId:i},d)),[4,p.send(_)];case 1:return[2,g.sent().as(SE).message]}})})},l.prototype.cancelUploadingFileMessage=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){return Pn(ze("string",i)).throw(We.invalidParameters),Ua.of(this._iid).fileMessageQueue.cancel(this,i),[2,!0]})})},l.prototype.copyFileMessage=function(i,c){var d,p;return J(this,void 0,void 0,function(){var _,g;return Z(this,function(b){return Pn(i instanceof l&&c instanceof pi&&c.sendingStatus===Hr.SUCCEEDED&&this.url===c.channelUrl&&!c.scheduledInfo).throw(We.invalidParameters),_=new La,g=Be(Be({},c),{fileUrl:c.url,fileName:c.name,fileSize:c.size,mimeType:c.type,mentionType:c.mentionType,mentionedUserIds:(d=c.mentionedUserIds)!==null&&d!==void 0?d:(p=c.mentionedUsers)===null||p===void 0?void 0:p.map(function(E){return E.userId}),pushNotificationDeliveryOption:Nc.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:c.thumbnails.map(function(E){return{maxWidth:E.width,maxHeight:E.height}}),requireAuth:c.requireAuth,isPinnedMessage:!1}),i._sendFileMessage(g).onSucceeded(function(E){return _.resolve(E)}).onFailed(function(E){return _.reject(E)}),[2,_.promise]})})},l.prototype.deleteMessage=function(i){return J(this,void 0,void 0,function(){var c,d;return Z(this,function(p){switch(p.label){case 0:return Pn(i instanceof Il).throw(We.invalidParameters),i.messageId>0?(c=an.of(this._iid).requestQueue,d=new Eee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId}),[4,c.send(d)]):[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},l.prototype.addReaction=function(i,c){return J(this,void 0,void 0,function(){var d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(i instanceof Il&&i.messageId>0&&ze("string",c)).throw(We.invalidParameters),d=an.of(this._iid).requestQueue,p=new xee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:c}),[4,d.send(p)];case 1:return[2,_.sent().as(kee).reactionEvent]}})})},l.prototype.deleteReaction=function(i,c){return J(this,void 0,void 0,function(){var d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(i instanceof Il&&i.messageId>0&&ze("string",c)).throw(We.invalidParameters),d=an.of(this._iid).requestQueue,p=new See({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:c}),[4,d.send(p)];case 1:return[2,_.sent().as(Tee).reactionEvent]}})})},l.prototype._updateUserMessageMetaArray=function(i,c,d,p){return J(this,void 0,void 0,function(){var _,g,b,E,I,U;return Z(this,function(X){switch(X.label){case 0:return _=an.of(this._iid),g=_.dispatcher,b=_.requestQueue,E=new wN({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:c,mode:d,upsert:p}}),[4,b.send(E)];case 1:return I=X.sent(),U=I.as(kE).message,g.dispatch(new Ja({messages:[U],source:fi.EVENT_MESSAGE_UPDATED})),[2,U]}})})},l.prototype._updateFileMessageMetaArray=function(i,c,d,p){return J(this,void 0,void 0,function(){var _,g,b,E,I,U;return Z(this,function(X){switch(X.label){case 0:return _=an.of(this._iid),g=_.dispatcher,b=_.requestQueue,E=new xN({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:c,mode:d,upsert:p}}),[4,b.send(E)];case 1:return I=X.sent(),U=I.as(SE).message,g.dispatch(new Ja({messages:[U],source:fi.EVENT_MESSAGE_UPDATED})),[2,U]}})})},l.prototype.createMessageMetaArrayKeys=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){return Pn(i instanceof Il&&i.messageId>0&&Qt("string",c)).throw(We.invalidParameters),d=c.map(function(_){return new bs({key:_})}),i instanceof pi?[2,this._updateFileMessageMetaArray(i.messageId,d,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,d,"add",!0)]})})},l.prototype.deleteMessageMetaArrayKeys=function(i,c){return J(this,void 0,void 0,function(){var d;return Z(this,function(p){return Pn(i instanceof Il&&i.messageId>0&&Qt("string",c)).throw(We.invalidParameters),d=c.map(function(_){return new bs({key:_})}),i instanceof pi?[2,this._updateFileMessageMetaArray(i.messageId,d,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,d,"remove",!0)]})})},l.prototype.addMessageMetaArrayValues=function(i,c){return J(this,void 0,void 0,function(){return Z(this,function(d){return Pn(i instanceof Il&&i.messageId>0&&c.every(function(p){return p instanceof bs})).throw(We.invalidParameters),i instanceof pi?[2,this._updateFileMessageMetaArray(i.messageId,c,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,c,"add",!0)]})})},l.prototype.removeMessageMetaArrayValues=function(i,c){return J(this,void 0,void 0,function(){return Z(this,function(d){return Pn(i instanceof Il&&i.messageId>0&&c.every(function(p){return p instanceof bs})).throw(We.invalidParameters),i instanceof pi?[2,this._updateFileMessageMetaArray(i.messageId,c,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,c,"remove",!0)]})})},l.prototype.report=function(i,c){return J(this,void 0,void 0,function(){var d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return Pn(kr(Cp,i)&&ze("string",c)).throw(We.invalidParameters),d=an.of(this._iid),p=d.sdkState,_=d.requestQueue,g=new vee({channelUrl:this.url,channelType:this.channelType,userId:p.userId,category:i,description:c}),[4,_.send(g)];case 1:return b.sent(),[2]}})})},l.prototype.reportUser=function(i,c,d){return J(this,void 0,void 0,function(){var p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return Pn(i instanceof Dt&&kr(Cp,c)&&ze("string",d)).throw(We.invalidParameters),p=an.of(this._iid),_=p.sdkState,g=p.requestQueue,b=new gee({channelUrl:this.url,channelType:this.channelType,userId:_.userId,offendingUserId:i.userId,category:c,description:d}),[4,g.send(b)];case 1:return E.sent(),[2]}})})},l.prototype.reportMessage=function(i,c,d){return J(this,void 0,void 0,function(){var p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return Pn(i instanceof kp&&kr(Cp,c)&&ze("string",d)).throw(We.invalidParameters),p=an.of(this._iid),_=p.sdkState,g=p.requestQueue,b=new bee({channelUrl:this.url,channelType:this.channelType,userId:_.userId,offendingUserId:i.sender.userId,messageId:i.messageId,category:c,description:d}),[4,g.send(b)];case 1:return E.sent(),[2]}})})},l.prototype.updatePoll=function(i,c){return J(this,void 0,void 0,function(){var d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(ze("number",i)&&function(g){return ze("string",g.title,!0)&&AI(g.data)&&ze("boolean",g.allowUserSuggestion,!0)&&ze("boolean",g.allowMultipleVotes,!0)&&ze("number",g.closeAt,!0)}(c)).throw(We.invalidParameters),d=an.of(this._iid).requestQueue,p=new Mee(Be({pollId:i},c)),[4,d.send(p)];case 1:return[2,_.sent().as(Dee).poll]}})})},l.prototype.deletePoll=function(i){return J(this,void 0,void 0,function(){var c,d,p;return Z(this,function(_){switch(_.label){case 0:return c=ze("number",i),Pn(c).throw(We.invalidParameters),d=an.of(this._iid).requestQueue,p=new Lee({pollId:i}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},l.prototype.closePoll=function(i){return J(this,void 0,void 0,function(){var c,d,p;return Z(this,function(_){switch(_.label){case 0:return c=ze("number",i),Pn(c).throw(We.invalidParameters),d=an.of(this._iid).requestQueue,p=new Uee({pollId:i}),[4,d.send(p)];case 1:return[2,_.sent().as(Pee).poll]}})})},l.prototype.addPollOption=function(i,c){return J(this,void 0,void 0,function(){var d,p,_;return Z(this,function(g){switch(g.label){case 0:return d=ze("number",i)&&ze("string",c)&&c.trim()!=="",Pn(d).throw(We.invalidParameters),p=an.of(this._iid).requestQueue,_=new Fee({channelUrl:this.url,channelType:this.channelType,pollId:i,optionText:c}),[4,p.send(_)];case 1:return[2,g.sent().as(Hee).poll]}})})},l.prototype.updatePollOption=function(i,c,d){return J(this,void 0,void 0,function(){var p,_,g;return Z(this,function(b){switch(b.label){case 0:return p=ze("number",i)&&ze("number",c)&&ze("string",d)&&d.trim()!=="",Pn(p).throw(We.invalidParameters),_=an.of(this._iid).requestQueue,g=new Bee({pollId:i,pollOptionId:c,optionText:d}),[4,_.send(g)];case 1:return[2,b.sent().as($ee).poll]}})})},l.prototype.deletePollOption=function(i,c){return J(this,void 0,void 0,function(){var d,p,_;return Z(this,function(g){switch(g.label){case 0:return d=ze("number",i)&&ze("number",c),Pn(d).throw(We.invalidParameters),p=an.of(this._iid).requestQueue,_=new zee({pollId:i,pollOptionId:c}),[4,p.send(_)];case 1:return g.sent(),[2]}})})},l.prototype.votePoll=function(i,c){return J(this,void 0,void 0,function(){var d,p,_,g,b,E,I;return Z(this,function(U){switch(U.label){case 0:return d=ze("number",i)&&Qt("number",c),Pn(d).throw(We.invalidParameters),p=an.of(this._iid),_=p.requestQueue,g=p.dispatcher,b=new Vee({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionIds:c}),[4,_.send(b)];case 1:return E=U.sent(),I=E.as(kN).event,g.dispatch(new LI({event:I,source:fi.EVENT_POLL_VOTED})),[2,I]}})})},l.prototype.getPollChangeLogsSinceTimestamp=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){switch(c.label){case 0:return Pn(ze("number",i)).throw(We.invalidParameters),[4,lE.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,c.sent()]}})})},l.prototype.getPollChangeLogsSinceToken=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){switch(c.label){case 0:return Pn(ze("string",i,!0)),[4,lE.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,c.sent()]}})})},l.prototype.createPollListQuery=function(i){return i===void 0&&(i=10),new VI(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:i})},l.prototype.createPollVoterListQuery=function(i,c,d){return d===void 0&&(d=20),new GI(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionId:c,limit:d})},l}(jo),Gee=function(s){function l(i,c){var d,p=this;return(p=s.call(this,i,c)||this).isMuted=!1,p.isMuted=(d=c.is_muted)!==null&&d!==void 0&&d,p}return _e(l,s),l}(Dt),Ip=null,qee=function(){function s(l,i,c){var d=this;this._fcmPushToken=null,this._apnsPushToken=null,this._iid=l,this.options=i;var p=an.of(l),_=p.sdkState,g=p.cacheContext,b=p.dispatcher,E=p.sessionManager,I=p.requestQueue,U=p.logger,X=p.userEventHandlers,W=p.appStateToggleEnabled;this._onlineDetector=new mZ({logger:U,connectionDelegate:{reconnect:function(){var se=an.of(l),fe=se.sdkState,Ae=se.connectionManager,we=se.sessionManager;we.auth.hasSession?fe.appState==="foreground"&&Ae.resetAndReconnect():Ae.connect(we.auth.authToken)},disconnect:function(){an.of(l).connectionManager.disconnect()}}});var de=new gZ(l,{localCacheEnabled:g.localCacheEnabled,dispatcher:b,sdkState:_,logger:U});c.forEach(function(se){se.init(l,{sdkState:_,cacheContext:g,dispatcher:b,sessionManager:E,requestQueue:I,logger:U,onlineDetector:d._onlineDetector}),d[se.name]=se}),this._appStateChangeDetector=new _Z(W),this._appStateChangeDetector.on("resume",function(){U.debug("the page resumes from freeze"),d.setForegroundState()}).on("pause",function(){U.debug("the page freezes"),d.setBackgroundState()}),b.on(function(se){if(se instanceof Bu)se.stateType===cr.CONNECTED&&de.processNonAutoResendRegisteredPendingMessages();else if(se instanceof $r){if(se.code==="USEV"){var fe=se.as(yZ).event;if(fe.category===hE.FRIEND_DISCOVERED){var Ae=tN.getDataAsFriendDiscoveredEvent(l,fe).friendDiscoveries;Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(ye){return[2,X.forEach(function(tn){tn.onFriendsDiscovered(Ae)})]})})})}}}else if(se instanceof vI){var we=an.of(d._iid).subscribedUnreadMessageCount,$e=!1,ln=se.ts;if(typeof ln=="number"&&ln>we.ts){if(we.all!==se.all&&($e=!0),we.all=se.all>=0?se.all:0,se.customTypes)for(var Ie in se.customTypes)we.customTypes[Ie]!==se.customTypes[Ie]&&($e=!0),we.customTypes[Ie]=se.customTypes[Ie];$e=$e&&we.ts>0,we.ts=ln}$e&&Ht(function(){return J(d,void 0,void 0,function(){return Z(this,function(ye){return[2,X.forEach(function(tn){tn.onTotalUnreadMessageCountUpdated(we.all,we.customTypes)})]})})})}else se instanceof kI&&g.localCacheEnabled&&g.preference.set(d._getUserProfileCacheKey(_.userId),K2.payloadify(se.userProfile))})}return s.init=function(l){var i=l.appId,c=l.appVersion,d=c===void 0?null:c,p=l.modules,_=p===void 0?[]:p,g=l.options,b=g===void 0?new CC:g,E=l.debugMode,I=E!==void 0&&E,U=l.customApiHost,X=l.customWebSocketHost,W=l.newInstance,de=W!==void 0&&W,se=l.logLevel,fe=l.localCacheEnabled,Ae=fe!==void 0&&fe,we=l.localCacheEncryption,$e=l.useAsyncStorageStore,ln=$e===void 0?null:$e,Ie=l.appStateToggleEnabled,ye=Ie===void 0||Ie;if(!Ip||de){var tn="su-".concat(vh()),Ze=we??{encrypt:function(Tn){return Tn},decrypt:function(Tn){return Tn}},Qe=new Jm({encryption:Ze});I||(Qe=ln?new OJ({AsyncStorage:ln,encryption:Ze}):new AJ({encryption:Ze})),new an(tn,{appId:i,appVersion:d,options:b,apiHost:U??"https://api-".concat(i,".sendbird.com"),websocketHost:X??"wss://ws-".concat(i,".sendbird.com"),store:Qe,encryption:Ze,logLevel:se,localCacheEnabled:Ae,debugMode:I,appStateToggleEnabled:ye});var xn=[new VX,new oZ],ir=new s(tn,b,Fr(Fr([],xr(_),!1),xr(xn),!1));return Ip||(Ip=ir),ir}return Ip},Object.defineProperty(s,"instance",{get:function(){return Ip},enumerable:!1,configurable:!0}),Object.defineProperty(s,"version",{get:function(){return"4.5.0"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appId",{get:function(){return an.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appInfo",{get:function(){return an.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appVersion",{get:function(){var l;return(l=an.of(this._iid).sdkState.appVersion)!==null&&l!==void 0?l:""},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"debugMode",{get:function(){return an.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"logLevel",{get:function(){return an.of(this._iid).logger.level},set:function(l){an.of(this._iid).logger.level=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isCacheEnabled",{get:function(){return an.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ekey",{get:function(){return an.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentUser",{get:function(){var l;return(l=an.of(this._iid).sessionManager.currentUser)!==null&&l!==void 0?l:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connectionState",{get:function(){var l=an.of(this._iid).connectionManager;return l.isConnected?Go.OPEN:l.isConnecting?Go.CONNECTING:Go.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"lastConnectedAt",{get:function(){var l=an.of(this._iid),i=l.connectedAt;return l.connectionManager.isConnected?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),s.prototype._getPreferenceCacheKey=function(l){return"sendbird@".concat(this.appId,"/").concat(l,".pref")},s.prototype._getUserProfileCacheKey=function(l){return"sendbird@".concat(this.appId,"/").concat(l,".profile")},s.prototype.getMemoryStoreForDebugging=function(){var l=an.of(this._iid),i=l.debugMode,c=l.cacheContext;if(i)return c.store instanceof Jm?c.store:null;throw We.debugModeRequired},s.prototype.addExtension=function(l,i){var c=an.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(l)>-1&&(c.extensions[l]=i)},s.prototype.setOnlineListener=function(l){this._onlineDetector.setOnlineListener(l)},s.prototype.setOfflineListener=function(l){this._onlineDetector.setOfflineListener(l)},s.prototype.initializeCache=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E;return Z(this,function(I){switch(I.label){case 0:return i=an.of(this._iid),c=i.sdkState,d=i.cacheContext,p=i.connectionManager,_=i.dispatcher,c.userId&&c.userId===l?[3,9]:[4,p.logout()];case 1:return I.sent(),c.userId=l,g="sendbird@".concat(c.appId,"/").concat(l,".db"),d.localCacheEnabled?d.nestdb&&d.nestdb.state!==Rl.CLOSED&&d.nestdb.name===g?[3,3]:((b=d.nestdb=new RJ({name:"sendbird@".concat(c.appId,"/").concat(l,".db"),version:2,store:d.store})).on("upgrade",function(U,X){return function(W,de){W===1?U.clear().then(function(){X.clear().then(function(){(function(se){return J(void 0,void 0,void 0,function(){return Z(this,function(fe){return[2,se.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[cE(Dc.LATEST_LAST_MESSAGE),cE(Dc.CHRONOLOGICAL),cE(Dc.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:"Message",keyName:"messageId",index:[Nl(Fi.CHANNEL_LATEST),Nl(Fi.NEWEST_CHILD_MESSAGE)]},{collectionName:"UnsentMessage",keyName:"reqId",index:[Nl(Fi.CHANNEL_LATEST),Nl(Fi.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}])]})})})(U).then(function(){return de()}).catch(function(se){return de(se)})}).catch(function(se){return de(se)})}).catch(function(se){return de(se)}):de()}}(b,d.store)),[4,b.open()]):[3,4];case 2:I.sent(),_.dispatch(new bZ(this._iid,{userId:l})),I.label=3;case 3:return[3,6];case 4:return[4,d.store.init(g)];case 5:I.sent(),I.label=6;case 6:return[4,d.preference.init(this._getPreferenceCacheKey(l))];case 7:return I.sent(),[4,d.preference.get(this._getUserProfileCacheKey(l))];case 8:(E=I.sent())&&new K2(this._iid,E).apply(),I.label=9;case 9:return[2]}})})},s.prototype.clearCachedData=function(){return J(this,void 0,void 0,function(){var l;return Z(this,function(i){switch(i.label){case 0:return(l=an.of(this._iid).cacheContext).localCacheEnabled&&l.nestdb?[4,l.nestdb.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,l.preference.clear()];case 3:return i.sent(),[2]}})})},s.prototype.clearCachedMessages=function(l){return J(this,void 0,void 0,function(){var i,c,d=this;return Z(this,function(p){switch(p.label){case 0:return Pn(Qt("string",l)).throw(We.invalidParameters),i=fZ.of(this._iid),c=eN.of(this._iid),i&&c?[4,Promise.all(l.map(function(_){return J(d,void 0,void 0,function(){return Z(this,function(g){switch(g.label){case 0:return[4,i.removeMessagesOfChannel(_)];case 1:return g.sent(),[4,c.removeMessagesOfChannel(_)];case 2:return g.sent(),[2]}})})}))]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},s.prototype.connect=function(l,i){return i===void 0&&(i=null),J(this,void 0,void 0,function(){var c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:Pn(ze("string",l)&&ze("string",i,!0)).throw(We.invalidParameters),c=an.of(this._iid),d=c.sdkState,p=c.cacheContext,_=c.connectionManager,g=c.statLogCollector,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this.initializeCache(l)];case 2:return E.sent(),[3,4];case 3:return E.sent(),b=an.of(this._iid).logger,p.localCacheEnabled=!1,b.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,g.init("sendbird@".concat(d.appId,"/").concat(l,".statlog"))];case 5:return E.sent(),this._onlineDetector.start(),this._appStateChangeDetector.start(),[4,_.connect(i)];case 6:return E.sent(),[2,this.currentUser]}})})},s.prototype.reconnect=function(){var l=an.of(this._iid),i=l.connectionManager,c=l.sdkState,d=l.sessionManager.auth.hasSession;return d&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),i.resetAndReconnect().then(function(){c.appState="foreground"}).catch(function(){})),d},s.prototype.disconnect=function(){return J(this,void 0,void 0,function(){var l,i,c;return Z(this,function(d){switch(d.label){case 0:return l=an.of(this._iid),i=l.connectionManager,c=l.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),c.cancelAll(),[4,i.logout()];case 1:return d.sent(),[4,this.clearCachedData()];case 2:return d.sent(),[2]}})})},s.prototype.disconnectWebSocket=function(){return J(this,void 0,void 0,function(){var l,i,c;return Z(this,function(d){switch(d.label){case 0:return l=an.of(this._iid),i=l.connectionManager,c=l.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),c.cancelAll(),[4,i.disconnectWebSocket()];case 1:return d.sent(),[2]}})})},s.prototype.setBackgroundState=function(){var l=an.of(this._iid),i=l.connectionManager,c=l.sdkState,d=l.logger;c.appState==="foreground"&&(c.appState="background",d.debug("going background state"),i.background())},s.prototype.setForegroundState=function(){var l=an.of(this._iid),i=l.connectionManager,c=l.sdkState,d=l.logger;c.appState==="background"&&(c.appState="foreground",d.debug("going foreground state"),i.resetAndReconnect())},s.prototype.setSessionHandler=function(l){Pn(l instanceof cZ).throw(We.invalidParameters),an.of(this._iid).sessionManager.handler=l},s.prototype.addUserEventHandler=function(l,i){Pn(ze("string",l)&&i instanceof dZ).throw(We.invalidParameters),an.of(this._iid).userEventHandlers.set(l,i)},s.prototype.removeUserEventHandler=function(l){an.of(this._iid).userEventHandlers.delete(l)},s.prototype.removeAllUserEventHandler=function(){an.of(this._iid).userEventHandlers.clear()},s.prototype.addConnectionHandler=function(l,i){Pn(ze("string",l)&&i instanceof uZ).throw(We.invalidParameters),an.of(this._iid).connectionHandlers.set(l,i)},s.prototype.removeConnectionHandler=function(l){an.of(this._iid).connectionHandlers.delete(l)},s.prototype.removeAllConnectionHandler=function(){an.of(this._iid).connectionHandlers.clear()},s.prototype.createApplicationUserListQuery=function(l){return l===void 0&&(l={}),new vJ(this._iid,l)},s.prototype.createBlockedUserListQuery=function(l){return l===void 0&&(l={}),new yJ(this._iid,l)},s.prototype.createFriendListQuery=function(l){return l===void 0&&(l={}),new xJ(this._iid,l)},s.prototype.createMessageSearchQuery=function(l){return new BX(this._iid,l)},s.prototype.createPollListQuery=function(l){return new VI(this._iid,Be({},l))},s.prototype.createPollVoterListQuery=function(l){return new GI(this._iid,Be({},l))},s.prototype.buildUserFromSerializedData=function(l){var i=Ep(l);return new Dt(this._iid,Dt.payloadify(i))},s.prototype.updateCurrentUserInfo=function(l){return l===void 0&&(l={}),J(this,void 0,void 0,function(){var i,c,d,p,_,g,b;return Z(this,function(E){switch(E.label){case 0:return i=Be(Be({},lZ),l),Pn(function(I){return fs(I.profileImage,!0)&&ze("string",I.profileUrl,!0)&&ze("string",I.nickname,!0)}(i)).throw(We.invalidParameters),this.currentUser?(c=an.of(this._iid),d=c.sdkState,p=c.requestQueue,_=new rN(Be({userId:d.userId},i)),[4,p.send(_)]):[3,2];case 1:return g=E.sent(),b=g.as(iN).user,this.currentUser&&(i.nickname&&(this.currentUser.nickname=b.nickname),(i.profileUrl||i.profileImage)&&(this.currentUser.plainProfileUrl=b.profileUrl)),[2,b];case 2:throw We.connectionRequired}})})},s.prototype.updateCurrentUserInfoWithPreferredLanguages=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return Pn(Qt("string",l)).throw(We.invalidParameters),this.currentUser?(i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new rN({userId:c.userId,preferredLanguages:l}),[4,d.send(p)]):[3,2];case 1:return _=b.sent(),g=_.as(iN).user,this.currentUser&&(this.currentUser.preferredLanguages=g.preferredLanguages),[2,g];case 2:throw We.connectionRequired}})})},s.prototype.registerFCMPushTokenForCurrentUser=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g=this;return Z(this,function(b){switch(b.label){case 0:if(Pn(ze("string",l)).throw(We.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=an.of(this._iid),c=i.sessionManager,d=i.sdkState,p=i.requestQueue,c.hasDeviceToken(gi.FCM,l)?[2,ya.SUCCESS]:(_=new wZ({userId:d.userId,token:l}),[4,p.send(_)]);case 2:return b.sent(),[4,Eh(function(){return J(g,void 0,void 0,function(){return Z(this,function(E){switch(E.label){case 0:return c.setDeviceToken(gi.FCM,l),[4,c.saveDeviceToken()];case 1:return E.sent(),[2]}})})})];case 3:return b.sent(),this._fcmPushToken="",[2,ya.SUCCESS];case 4:return b.sent(),[2,ya.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=l,[2,ya.PENDING];case 7:return[2]}})})},s.prototype.unregisterFCMPushTokenForCurrentUser=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b=this;return Z(this,function(E){switch(E.label){case 0:if(Pn(ze("string",l)).throw(We.invalidParameters),!this.currentUser)return[3,6];E.label=1;case 1:return E.trys.push([1,4,,5]),i=an.of(this._iid),c=i.sessionManager,d=i.sdkState,p=i.requestQueue,_=new kZ({userId:d.userId,token:l}),[4,p.send(_)];case 2:return g=E.sent().lastDeletedAt,[4,Eh(function(){return J(b,void 0,void 0,function(){return Z(this,function(I){switch(I.label){case 0:return c.unsetDeviceToken(gi.FCM,l),c.setDeviceTokenDeletedAt(g),[4,c.saveDeviceToken()];case 1:return I.sent(),[2]}})})})];case 3:return E.sent(),this._fcmPushToken="",[2,ya.SUCCESS];case 4:return E.sent(),[2,ya.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=l,[2,ya.PENDING];case 7:return[2]}})})},s.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p,_,g=this;return Z(this,function(b){switch(b.label){case 0:return this.currentUser?(l=an.of(this._iid),i=l.sessionManager,c=l.sdkState,d=l.requestQueue,p=new TZ({userId:c.userId}),[4,d.send(p)]):[3,3];case 1:return _=b.sent().lastDeletedAt,[4,Eh(function(){return J(g,void 0,void 0,function(){return Z(this,function(E){switch(E.label){case 0:return i.unsetDeviceTokens(gi.FCM),i.setDeviceTokenDeletedAt(_),[4,i.saveDeviceToken()];case 1:return E.sent(),[2]}})})})];case 2:b.sent(),b.label=3;case 3:return[2]}})})},s.prototype.registerAPNSPushTokenForCurrentUser=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g=this;return Z(this,function(b){switch(b.label){case 0:if(Pn(ze("string",l)).throw(We.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=an.of(this._iid),c=i.sessionManager,d=i.sdkState,p=i.requestQueue,c.hasDeviceToken(gi.APNS,l)?[2,ya.SUCCESS]:(_=new EZ({userId:d.userId,token:l}),[4,p.send(_)]);case 2:return b.sent(),[4,Eh(function(){return J(g,void 0,void 0,function(){return Z(this,function(E){switch(E.label){case 0:return c.setDeviceToken(gi.APNS,l),[4,c.saveDeviceToken()];case 1:return E.sent(),[2]}})})})];case 3:return b.sent(),this._apnsPushToken="",[2,ya.SUCCESS];case 4:return b.sent(),[2,ya.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=l,[2,ya.PENDING];case 7:return[2]}})})},s.prototype.unregisterAPNSPushTokenForCurrentUser=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b=this;return Z(this,function(E){switch(E.label){case 0:if(Pn(ze("string",l)).throw(We.invalidParameters),!this.currentUser)return[3,6];E.label=1;case 1:return E.trys.push([1,4,,5]),i=an.of(this._iid),c=i.sessionManager,d=i.sdkState,p=i.requestQueue,_=new xZ({userId:d.userId,token:l}),[4,p.send(_)];case 2:return g=E.sent().lastDeletedAt,[4,Eh(function(){return J(b,void 0,void 0,function(){return Z(this,function(I){switch(I.label){case 0:return c.unsetDeviceToken(gi.APNS,l),c.setDeviceTokenDeletedAt(g),[4,c.saveDeviceToken()];case 1:return I.sent(),[2]}})})})];case 3:return E.sent(),this._apnsPushToken="",[2,ya.SUCCESS];case 4:return E.sent(),[2,ya.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=l,[2,ya.PENDING];case 7:return[2]}})})},s.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return J(this,void 0,void 0,function(){var l,i,c,d,p,_,g=this;return Z(this,function(b){switch(b.label){case 0:return this.currentUser?(l=an.of(this._iid),i=l.sessionManager,c=l.sdkState,d=l.requestQueue,p=new SZ({userId:c.userId}),[4,d.send(p)]):[3,3];case 1:return _=b.sent().lastDeletedAt,[4,Eh(function(){return J(g,void 0,void 0,function(){return Z(this,function(E){switch(E.label){case 0:return i.unsetDeviceTokens(gi.APNS),i.setDeviceTokenDeletedAt(_),[4,i.saveDeviceToken()];case 1:return E.sent(),[2]}})})})];case 2:b.sent(),b.label=3;case 3:return[2]}})})},s.prototype.getChannelInvitationPreference=function(){return J(this,void 0,void 0,function(){var l,i,c,d;return Z(this,function(p){switch(p.label){case 0:return l=an.of(this._iid),i=l.sdkState,c=l.requestQueue,d=new NZ({userId:i.userId}),[4,c.send(d)];case 1:return[2,{autoAccept:p.sent().as(AZ).autoAccept}]}})})},s.prototype.setChannelInvitationPreference=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(ze("boolean",l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new OZ({userId:c.userId,willAutoAccept:l}),[4,d.send(p)];case 1:return[2,{autoAccept:_.sent().as(RZ).autoAccept}]}})})},s.prototype.getDoNotDisturb=function(){return J(this,void 0,void 0,function(){var l,i,c,d;return Z(this,function(p){switch(p.label){case 0:return l=an.of(this._iid),i=l.sdkState,c=l.requestQueue,d=new MZ({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(DZ).preference]}})})},s.prototype.setDoNotDisturb=function(l,i,c,d,p,_){return i===void 0&&(i=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),_===void 0&&(_=""),J(this,void 0,void 0,function(){var g,b,E,I;return Z(this,function(U){switch(U.label){case 0:return Pn(ze("boolean",l)&&ze("number",i)&&ze("number",c)&&ze("number",d)&&ze("number",p)&&ze("string",_)).throw(We.invalidParameters),g=an.of(this._iid),b=g.sdkState,E=g.requestQueue,I=new LZ({userId:b.userId,doNotDisturbOn:l,startHour:i,startMin:c,endHour:d,endMin:p,timezone:_}),[4,E.send(I)];case 1:return[2,U.sent().as(UZ).preference]}})})},s.prototype.getSnoozePeriod=function(){return J(this,void 0,void 0,function(){var l,i,c,d;return Z(this,function(p){switch(p.label){case 0:return l=an.of(this._iid),i=l.sdkState,c=l.requestQueue,d=new PZ({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(FZ).snoozePeriod]}})})},s.prototype.setSnoozePeriod=function(l,i,c){return i===void 0&&(i=0),c===void 0&&(c=0),J(this,void 0,void 0,function(){var d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return Pn(ze("boolean",l)&&ze("number",i)&&ze("number",c)).throw(We.invalidParameters),d=an.of(this._iid),p=d.sdkState,_=d.requestQueue,g=new HZ({userId:p.userId,snoozeOn:l,startTs:i,endTs:c}),[4,_.send(g)];case 1:return[2,b.sent().as(BZ).snoozePeriod]}})})},s.prototype.getMyPushTokensByToken=function(l,i){return J(this,void 0,void 0,function(){var c,d,p,_,g,b,E,I,U,X,W,de;return Z(this,function(se){switch(se.label){case 0:return Pn(ze("string",l)&&kr(gi,i)).throw(We.invalidParameters),c=an.of(this._iid),d=c.sdkState,p=c.requestQueue,_=c.sessionManager,g=new CZ({userId:d.userId,type:i,token:l}),[4,p.send(g)];case 1:b=se.sent(),E=b.as(IZ).pushTokens;try{for(I=Et(E.deviceTokens),U=I.next();!U.done;U=I.next())X=U.value,_.setDeviceToken(E.type,X)}catch(fe){W={error:fe}}finally{try{U&&!U.done&&(de=I.return)&&de.call(I)}finally{if(W)throw W.error}}return[4,_.saveDeviceToken()];case 2:return se.sent(),[2,E]}})})},s.prototype.getPushTriggerOption=function(){return J(this,void 0,void 0,function(){var l,i,c,d;return Z(this,function(p){switch(p.label){case 0:return l=an.of(this._iid),i=l.sdkState,c=l.requestQueue,d=new VZ({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(GZ).pushTriggerOption]}})})},s.prototype.setPushTriggerOption=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(kr(sE,l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new qZ({userId:c.userId,pushTriggerOption:l}),[4,d.send(p)];case 1:return[2,_.sent().as(jZ).pushTriggerOption]}})})},s.prototype.getPushTemplate=function(){return J(this,void 0,void 0,function(){var l,i,c,d;return Z(this,function(p){switch(p.label){case 0:return l=an.of(this._iid),i=l.sdkState,c=l.requestQueue,d=new KZ({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(WZ).name]}})})},s.prototype.setPushTemplate=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(kr(oE,l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new QZ({userId:c.userId,templateName:l}),[4,d.send(p)];case 1:return[2,_.sent().as(YZ).name]}})})},s.prototype.blockUser=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(l instanceof Dt||ze("string",l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new $Z({userId:c.userId,blockedUserId:l instanceof Dt?l.userId:l}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.blockUserWithUserId=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2,this.blockUser(l)]})})},s.prototype.unblockUser=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(l instanceof Dt||ze("string",l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new zZ({userId:c.userId,unblockedUserId:l instanceof Dt?l.userId:l}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.unblockUserWithUserId=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2,this.unblockUser(l)]})})},s.prototype.getFriendChangeLogsByToken=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(ze("string",l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new XZ({userId:c.userId,token:l}),[4,d.send(p)];case 1:return[2,_.sent().as(ZZ).changelogs]}})})},s.prototype.getAllowFriendDiscovery=function(){return J(this,void 0,void 0,function(){var l,i,c,d;return Z(this,function(p){switch(p.label){case 0:return l=an.of(this._iid),i=l.sdkState,c=l.requestQueue,d=new aJ({userId:i.userId}),[4,c.send(d)];case 1:return[2,p.sent().as(sJ).allowFriendDiscovery]}})})},s.prototype.setAllowFriendDiscovery=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(ze("boolean",l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new oJ({userId:c.userId,allowFriendDiscovery:l}),[4,d.send(p)];case 1:return _.sent(),[2,l]}})})},s.prototype.uploadFriendDiscoveries=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new JZ({userId:c.userId,discoveries:l}),[4,d.send(p)];case 1:return[2,_.sent().as(eJ).friendDiscoveryRequestId]}})})},s.prototype.deleteFriendDiscovery=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2,this.deleteFriendDiscoveries([l])]})})},s.prototype.deleteFriendDiscoveries=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(Qt("string",l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new nJ({userId:c.userId,discoveryKeys:l}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.addFriends=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(Qt("string",l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new tJ({userId:c.userId,userIds:l}),[4,d.send(p)];case 1:return[2,_.sent().as(rJ).users]}})})},s.prototype.deleteFriend=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){return[2,this.deleteFriends([l])]})})},s.prototype.deleteFriends=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(Qt("string",l)).throw(We.invalidParameters),i=an.of(this._iid),c=i.sdkState,d=i.requestQueue,p=new iJ({userId:c.userId,userIds:l}),[4,d.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.getAllEmoji=function(){return J(this,void 0,void 0,function(){var l,i;return Z(this,function(c){switch(c.label){case 0:return l=an.of(this._iid).requestQueue,i=new cJ,[4,l.send(i)];case 1:return[2,c.sent().as(uJ).emojiContainer]}})})},s.prototype.getEmojiCategory=function(l){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:return i=an.of(this._iid).requestQueue,c=new dJ({categoryId:l}),[4,i.send(c)];case 1:return[2,d.sent().as(hJ).emojiCategory]}})})},s.prototype.getEmoji=function(l){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:return i=an.of(this._iid).requestQueue,c=new pJ({key:l}),[4,i.send(c)];case 1:return[2,d.sent().as(fJ).emoji]}})})},s}();(function(s){s[s.NONE=0]="NONE",s[s.CHANNEL_ENTER=10102]="CHANNEL_ENTER",s[s.CHANNEL_EXIT=10103]="CHANNEL_EXIT",s[s.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",s[s.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",s[s.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",s[s.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",s[s.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",s[s.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",s[s.TYPING_START=10900]="TYPING_START",s[s.TYPING_END=10901]="TYPING_END",s[s.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",s[s.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",s[s.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",s[s.CHANNEL_INVITE=10020]="CHANNEL_INVITE",s[s.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",s[s.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",s[s.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",s[s.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",s[s.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",s[s.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",s[s.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",s[s.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",s[s.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(ea||(ea={}));var jee=function(){function s(l){this.channelUrl=l.channel_url,this.channelType=l.channel_type,this.category=l.cat,this.data=l.data,this.ts=l.ts}return Object.defineProperty(s.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Br.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Br.OPEN},enumerable:!1,configurable:!0}),s}(),nv=function(s){function l(i,c,d){var p=s.call(this,i,"SYEV",d)||this;return p.event=new jee(d),p}return _e(l,s),l}($r),Kee=function(s){function l(i,c,d){var p=s.call(this,i,c,d)||this,_=d.data.operators,g=_===void 0?[]:_;return p.operators=g.map(function(b){return new Dt(p._iid,b)}),p}return _e(l,s),l}(nv),Wee=function(s){function l(i,c,d){var p=s.call(this,i,"MCNT",d)||this;return p.groupChannelMemberCounts=d.group_channels.map(function(_){return{channelUrl:_.channel_url,memberCount:_.member_count,joinedMemberCount:_.joined_member_count,updatedAt:_.ts}}),p.openChannelMemberCounts=d.open_channels.map(function(_){return{channelUrl:_.channel_url,participantCount:_.participant_count,updatedAt:_.ts}}),p}return _e(l,s),l}($r),Qee=function(s){function l(i,c,d){var p,_,g,b=this;(b=s.call(this,i,"ADMM",d)||this).message=new xh(i,d);var E=an.of(i).sdkState;return b.isMentioned=kh(b.message.mentionType,(p=b.message.mentionedUserIds)!==null&&p!==void 0?p:(_=b.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(I){return I.userId}),E.userId),b.forceUpdateLastMessage=(g=d.force_update_last_message)!==null&&g!==void 0&&g,b}return _e(l,s),l}($r),Yee=function(s){function l(i,c,d){var p,_,g,b,E,I,U=this;(U=s.call(this,i,"AEDI",d)||this).message=new xh(i,d);var X=an.of(i).sdkState;return U.mentionCountChange=nE({mentionType:(_=(p=d.old_values)===null||p===void 0?void 0:p.mention_type)!==null&&_!==void 0?_:null,mentionedUserIds:(b=(g=d.old_values)===null||g===void 0?void 0:g.mentioned_user_ids)!==null&&b!==void 0?b:[]},{mentionType:U.message.mentionType,mentionedUserIds:(E=U.message.mentionedUserIds)!==null&&E!==void 0?E:(I=U.message.mentionedUsers)===null||I===void 0?void 0:I.map(function(W){return W.userId})},X.userId),U}return _e(l,s),l}($r),Xee=function(s){function l(i,c,d){var p=s.call(this,i,"MRCT",d)||this;return p.channelUrl=d.channel_url,p.channelType=d.channel_type,p.event=new Y2(d),p}return _e(l,s),l}($r),Zee=function(s){function l(i,c,d){var p=s.call(this,i,"MTHD",d)||this;return p.event=new UX(i,d),p}return _e(l,s),l}($r),Jee=function(s){function l(i,c,d){var p=s.call(this,i,"PEDI",d)||this;return p.event=null,p.status=null,p.channelUrl=null,p.channelType=null,p.event=new nZ(i,d),p.status=J2(d.poll.status)||d.poll.status,p.channelUrl=d.channel_url,p.channelType=d.channel_type,p}return _e(l,s),l}($r),ene=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i._channels=new Map,i._enteredChannelUrls=[],i}return _e(l,s),Object.defineProperty(l.prototype,"enteredChannels",{get:function(){var i=this;return this._enteredChannelUrls.map(function(c){return i._channels.get(c)}).filter(function(c){return c!==null})},enumerable:!1,configurable:!0}),l.prototype.isEnteredChannel=function(i){return this._enteredChannelUrls.includes(i)},l.prototype.enter=function(i){this._enteredChannelUrls.indexOf(i)<0&&this._enteredChannelUrls.push(i)},l.prototype.exit=function(i){var c=this._enteredChannelUrls.indexOf(i);c>=0&&this._enteredChannelUrls.splice(c,1)},l.prototype.exitAll=function(){this._enteredChannelUrls=[]},l.prototype.get=function(i){var c;return J(this,void 0,void 0,function(){return Z(this,function(d){return[2,(c=this._channels.get(i))!==null&&c!==void 0?c:null]})})},l.prototype.upsert=function(i){return J(this,void 0,void 0,function(){var c=this;return Z(this,function(d){return i.forEach(function(p){if(c._channels.has(p.url)){var _=c._channels.get(p.url);Object.assign(_,p)}else c._channels.set(p.url,p)}),[2]})})},l.prototype.remove=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){return this._channels.delete(i),this.exit(i),[2]})})},l.prototype.clear=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},l}(jo),TN={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},nne=function(s){function l(i){var c=i.channelUrl,d=i.isInternalCall,p=s.call(this)||this;return p.method=In.GET,p.path="".concat(d?ZY:$u,"/").concat(encodeURIComponent(c)),p}return _e(l,s),l}(An),CN=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.channel=null,d.channel=new Ah(i,c),d}return _e(l,s),l}(Un),tne=function(s){function l(i){var c=this,d=i.channelUrl,p=i.coverUrlOrImage,_=i.name,g=i.data,b=i.customType,E=i.operatorUserIds;return(c=s.call(this)||this).method=In.POST,c.path=$u,c.params=St({channel_url:d,cover_url:ze("string",p)?p:null,cover_file:fs(p)?p:null,name:_,data:g,custom_type:b,operators:E}),c}return _e(l,s),l}(An);(function(s){_e(function(l,i){var c=s.call(this,l,i)||this;return c.channel=new Ah(l,i),c},s)})(Un);var rne=function(s){function l(i){var c=i.channelUrl;return s.call(this,{code:"ENTR",payload:{channel_url:c},ackRequired:!0})||this}return _e(l,s),l}(ho),IN=function(s){function l(i,c,d){var p,_,g=this;return g=s.call(this,i,"SYEV",d)||this,d.data&&(g.participantCount=(p=d.data.participant_count)!==null&&p!==void 0?p:0,g.user=new Dt(i,d.data),g.ts=(_=d.data.edge_ts)!==null&&_!==void 0?_:0),g}return _e(l,s),l}(nv),ine=function(s){function l(i){var c=i.channelUrl;return s.call(this,{code:"EXIT",payload:{channel_url:c},ackRequired:!0})||this}return _e(l,s),l}(ho),NN=function(s){function l(i,c,d){var p,_,g=this;return g=s.call(this,i,"EXIT",d)||this,d.data&&(g.participantCount=(p=d.data.participant_count)!==null&&p!==void 0?p:0,g.user=new Dt(i,d.data),g.ts=(_=d.data.edge_ts)!==null&&_!==void 0?_:0),g}return _e(l,s),l}(nv),tv={},Xu=function(){function s(l,i){var c=i.sdkState,d=i.dispatcher,p=i.requestQueue,_=this;return tv[l]||(this._iid=l,this._sdkState=c,this._requestQueue=p,this._dispatcher=d,this._openChannelCache=new ene(l),this._openChannelHandlers=new Map,this._dispatcher.on(function(g){var b,E;if(g instanceof $r)_._handleEvent(g);else if(g instanceof Bu&&g.stateType===cr.CONNECTED){var I=_._openChannelCache.enteredChannels;try{for(var U=Et(I),X=U.next();!X.done;X=U.next())X.value.enter()}catch(W){b={error:W}}finally{try{X&&!X.done&&(E=U.return)&&E.call(U)}finally{if(b)throw b.error}}}}),tv[l]=this),tv[l]}return s.of=function(l){return tv[l]},s.prototype.buildOpenChannelFromSerializedData=function(l){var i=Ep(l);return new Ah(this._iid,Ah.payloadify(i))},s.prototype.getChannelFromCache=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this._openChannelCache.get(l)];case 1:return[2,i.sent()]}})})},s.prototype.upsertChannelsToCache=function(l){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,this._openChannelCache.upsert(l)];case 1:return i.sent(),[2]}})})},s.prototype.removeChannelsFromCache=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:b.trys.push([0,5,6,7]),i=Et(l),c=i.next(),b.label=1;case 1:return c.done?[3,4]:(d=c.value,[4,this._openChannelCache.remove(d)]);case 2:b.sent(),b.label=3;case 3:return c=i.next(),[3,1];case 4:return[3,7];case 5:return p=b.sent(),_={error:p},[3,7];case 6:try{c&&!c.done&&(g=i.return)&&g.call(i)}finally{if(_)throw _.error}return[7];case 7:return[2]}})})},s.prototype.setEnteredToCache=function(l){this._openChannelCache.enter(l.url)},s.prototype.setExitedToCache=function(l){this._openChannelCache.exit(l.url)},s.prototype._handleEvent=function(l){return J(this,void 0,void 0,function(){var i,c,d,p,_,g,b,E,I,U,X,W,de,se,fe,Ae,we,$e,ln,Ie,ye,tn,Ze,Qe,xn,ir,Tn,Sn,zn,ft,lt,ar,jt,Hi,na,Dl,Pc,$s,OE,Oh,ZN,JN,lv,RE,ME,DE,LE,UE,PE,FE,Rp,HE,cv,eA,td,uv,Mp,Dp,Lp,dv,hv,BE,$E,zE,VE,GE,nA,Ai=this;return Z(this,function(nr){switch(nr.label){case 0:switch(nr.trys.push([0,55,,56]),l.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,29];case"SYEV":return[3,31]}return[3,54];case 1:return p=null,l.code==="MESG"?p=l.as(EN):l.code==="FILE"?p=l.as(RI):l.code!=="ADMM"&&l.code!="BRDM"||(p=l.as(Qee)),p?(i=p.message,c=p.isMentioned,i.channelType!==Br.OPEN?[3,3]:[4,this.getChannel(i.channelUrl,!0)]):[3,3];case 2:d=nr.sent(),Ht(function(){return J(Ai,void 0,void 0,function(){var dt,Fn,dr,vr,Bi;return Z(this,function(zs){try{for(dt=Et(this._openChannelHandlers.values()),Fn=dt.next();!Fn.done;Fn=dt.next())dr=Fn.value,this._openChannelCache.isEnteredChannel(d.url)&&(dr.onMessageReceived(d,i),c&&dr.onMentionReceived(d,i))}catch(Ll){vr={error:Ll}}finally{try{Fn&&!Fn.done&&(Bi=dt.return)&&Bi.call(dt)}finally{if(vr)throw vr.error}}return[2]})})}),nr.label=3;case 3:return[3,54];case 4:return p=null,l.code==="MEDI"?p=l.as(kE):l.code==="FEDI"?p=l.as(SE):l.code==="AEDI"&&(p=l.as(Yee)),p?(_=p.message,g=p.mentionCountChange,_.channelType!==Br.OPEN?[3,6]:[4,this.getChannel(_.channelUrl,!0)]):[3,6];case 5:b=nr.sent(),Ht(function(){return J(Ai,void 0,void 0,function(){var dt,Fn,dr,vr,Bi;return Z(this,function(zs){try{for(dt=Et(this._openChannelHandlers.values()),Fn=dt.next();!Fn.done;Fn=dt.next())dr=Fn.value,this._openChannelCache.isEnteredChannel(b.url)&&(dr.onMessageUpdated(b,_),g>0&&dr.onMentionReceived(b,_))}catch(Ll){vr={error:Ll}}finally{try{Fn&&!Fn.done&&(Bi=dt.return)&&Bi.call(dt)}finally{if(vr)throw vr.error}}return[2]})})}),nr.label=6;case 6:return[3,54];case 7:return E=l.as(wee),ft=E.channelUrl,lt=E.channelType,I=E.messageId,lt!==Br.OPEN?[3,9]:[4,this.getChannel(ft,!0)];case 8:U=nr.sent(),Ht(function(){return J(Ai,void 0,void 0,function(){var dt,Fn,dr,vr,Bi;return Z(this,function(zs){try{for(dt=Et(this._openChannelHandlers.values()),Fn=dt.next();!Fn.done;Fn=dt.next())dr=Fn.value,this._openChannelCache.isEnteredChannel(U.url)&&dr.onMessageDeleted(U,I)}catch(Ll){vr={error:Ll}}finally{try{Fn&&!Fn.done&&(Bi=dt.return)&&Bi.call(dt)}finally{if(vr)throw vr.error}}return[2]})})}),nr.label=9;case 9:return[3,54];case 10:return X=l.as(Xee),ft=X.channelUrl,lt=X.channelType,W=X.event,lt!==Br.OPEN?[3,12]:[4,this.getChannel(ft,!0)];case 11:de=nr.sent(),Ht(function(){return J(Ai,void 0,void 0,function(){var dt,Fn,dr,vr,Bi;return Z(this,function(zs){try{for(dt=Et(this._openChannelHandlers.values()),Fn=dt.next();!Fn.done;Fn=dt.next())dr=Fn.value,this._openChannelCache.isEnteredChannel(de.url)&&dr.onReactionUpdated(de,W)}catch(Ll){vr={error:Ll}}finally{try{Fn&&!Fn.done&&(Bi=dt.return)&&Bi.call(dt)}finally{if(vr)throw vr.error}}return[2]})})}),nr.label=12;case 12:return[3,54];case 13:return(se=l.as(Zee).event).channelType!==Br.OPEN?[3,15]:[4,this.getChannel(se.channelUrl,!0)];case 14:fe=nr.sent(),Ht(function(){return J(Ai,void 0,void 0,function(){var dt,Fn,dr,vr,Bi;return Z(this,function(zs){try{for(dt=Et(this._openChannelHandlers.values()),Fn=dt.next();!Fn.done;Fn=dt.next())dr=Fn.value,this._openChannelCache.isEnteredChannel(fe.url)&&dr.onThreadInfoUpdated(fe,se)}catch(Ll){vr={error:Ll}}finally{try{Fn&&!Fn.done&&(Bi=dt.return)&&Bi.call(dt)}finally{if(vr)throw vr.error}}return[2]})})}),nr.label=15;case 15:return[3,54];case 16:Ae=l.as(Wee).openChannelMemberCounts,we=[],nr.label=17;case 17:nr.trys.push([17,22,23,24]),$e=Et(Ae),ln=$e.next(),nr.label=18;case 18:return ln.done?[3,21]:(Ie=ln.value,ft=Ie.channelUrl,Oh=Ie.participantCount,ye=Ie.updatedAt,[4,this.getChannelFromCache(ft)]);case 19:(tn=nr.sent())&&tn._updateParticipantCount(Oh,ye)&&we.push(tn),nr.label=20;case 20:return ln=$e.next(),[3,18];case 21:return[3,24];case 22:return Ze=nr.sent(),GE={error:Ze},[3,24];case 23:try{ln&&!ln.done&&(nA=$e.return)&&nA.call($e)}finally{if(GE)throw GE.error}return[7];case 24:return we.length>0?[4,this.upsertChannelsToCache(we)]:[3,26];case 25:nr.sent(),Ht(function(){return J(Ai,void 0,void 0,function(){var dt,Fn,dr,vr;return Z(this,function(Bi){try{for(dt=Et(this._openChannelHandlers.values()),Fn=dt.next();!Fn.done;Fn=dt.next())Fn.value.onChannelMemberCountChanged(we)}catch(zs){dr={error:zs}}finally{try{Fn&&!Fn.done&&(vr=dt.return)&&vr.call(dt)}finally{if(dr)throw dr.error}}return[2]})})}),nr.label=26;case 26:return[3,54];case 27:return Qe=l.as(Jee),xn=Qe.event,ir=Qe.status,ft=Qe.channelUrl,lt=Qe.channelType,ft&&lt?[4,this.getChannel(ft,!0)]:[3,54];case 28:return Tn=nr.sent(),this._dispatcher.dispatch(new NX({event:xn,source:fi.EVENT_POLL_UPDATED})),Ht(ir==="removed"?function(){return J(Ai,void 0,void 0,function(){var dt,Fn,dr,vr;return Z(this,function(Bi){try{for(dt=Et(this._openChannelHandlers.values()),Fn=dt.next();!Fn.done;Fn=dt.next())Fn.value.onPollDeleted(Tn,xn.pollId)}catch(zs){dr={error:zs}}finally{try{Fn&&!Fn.done&&(vr=dt.return)&&vr.call(dt)}finally{if(dr)throw dr.error}}return[2]})})}:function(){return J(Ai,void 0,void 0,function(){var dt,Fn,dr,vr;return Z(this,function(Bi){try{for(dt=Et(this._openChannelHandlers.values()),Fn=dt.next();!Fn.done;Fn=dt.next())Fn.value.onPollUpdated(Tn,xn)}catch(zs){dr={error:zs}}finally{try{Fn&&!Fn.done&&(vr=dt.return)&&vr.call(dt)}finally{if(dr)throw dr.error}}return[2]})})}),[3,54];case 29:return Sn=l.as(kN),zn=Sn.event,ft=Sn.channelUrl,lt=Sn.channelType,ft&&lt?[4,this.getChannel(ft,!0)]:[3,54];case 30:return ar=nr.sent(),this._dispatcher.dispatch(new LI({event:zn,source:fi.EVENT_POLL_VOTED})),Ht(function(){return J(Ai,void 0,void 0,function(){var dt,Fn,dr,vr;return Z(this,function(Bi){try{for(dt=Et(this._openChannelHandlers.values()),Fn=dt.next();!Fn.done;Fn=dt.next())Fn.value.onPollVoted(ar,zn)}catch(zs){dr={error:zs}}finally{try{Fn&&!Fn.done&&(vr=dt.return)&&vr.call(dt)}finally{if(dr)throw dr.error}}return[2]})})}),[3,54];case 31:if(!(jt=l.as(nv).event).isOpenChannelEvent)return[3,53];switch(jt.category){case ea.CHANNEL_ENTER:return[3,32];case ea.CHANNEL_EXIT:return[3,34];case ea.CHANNEL_OPERATOR_UPDATE:return[3,36];case ea.USER_CHANNEL_MUTE:case ea.USER_CHANNEL_UNMUTE:return[3,38];case ea.USER_CHANNEL_BAN:case ea.USER_CHANNEL_UNBAN:return[3,40];case ea.CHANNEL_FREEZE:case ea.CHANNEL_UNFREEZE:return[3,42];case ea.CHANNEL_DELETED:return[3,44];case ea.CHANNEL_PROP_CHANGED:return[3,47];case ea.CHANNEL_META_DATA_CHANGED:return[3,49];case ea.CHANNEL_META_COUNTERS_CHANGED:return[3,51]}return[3,53];case 32:return[4,this.getChannel(jt.channelUrl,!0)];case 33:return Hi=nr.sent(),na=l.as(IN),Oh=na.participantCount,Dl=na.user,Pc=Hi._updateParticipantCount(Oh,jt.ts),Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){Fn.onUserEntered(Hi,Dl),Pc&&Fn.onChannelParticipantCountChanged(Hi)}),[2]})})}),[3,53];case 34:return[4,this.getChannel(jt.channelUrl,!0)];case 35:return $s=nr.sent(),OE=l.as(NN),Oh=OE.participantCount,ZN=OE.user,JN=$s._updateParticipantCount(Oh,jt.ts),Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){Fn.onUserExited($s,ZN),JN&&Fn.onChannelParticipantCountChanged($s)}),[2]})})}),[3,53];case 36:return[4,this.getChannel(jt.channelUrl,!0)];case 37:return lv=nr.sent(),RE=l.as(Kee).operators,lv.operators=RE,this.upsertChannelsToCache([lv]),Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){Fn.onOperatorUpdated(lv,RE)}),[2]})})}),[3,53];case 38:return[4,this.getChannel(jt.channelUrl,!0)];case 39:return ME=nr.sent(),DE=jt.category===ea.USER_CHANNEL_MUTE,LE=l.as(DE?cee:dee).user,Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){DE?Fn.onUserMuted(ME,LE):Fn.onUserUnmuted(ME,LE)}),[2]})})}),[3,53];case 40:return[4,this.getChannel(jt.channelUrl,!0)];case 41:return UE=nr.sent(),PE=jt.category===ea.USER_CHANNEL_BAN,FE=l.as(PE?pee:_ee).user,Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){PE?Fn.onUserBanned(UE,FE):Fn.onUserUnbanned(UE,FE)}),[2]})})}),[3,53];case 42:return[4,this.getChannel(jt.channelUrl,!0)];case 43:return Rp=nr.sent(),HE=l.as(mee).freeze,Rp.isFrozen=HE,this.upsertChannelsToCache([Rp]),Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){HE?Fn.onChannelFrozen(Rp):Fn.onChannelUnfrozen(Rp)}),[2]})})}),[3,53];case 44:return[4,this.getChannel(jt.channelUrl,!0)];case 45:return cv=nr.sent(),[4,this.removeChannelsFromCache([cv.url])];case 46:return nr.sent(),Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){Fn.onChannelDeleted(cv.url,cv.channelType)}),[2]})})}),[3,53];case 47:return[4,this.getChannelWithoutCache(jt.channelUrl,!0)];case 48:return eA=nr.sent(),Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){Fn.onChannelChanged(eA)}),[2]})})}),[3,53];case 49:return[4,this.getChannel(jt.channelUrl,!0)];case 50:return td=nr.sent(),uv=l.as(ZJ),Mp=uv.created,Dp=uv.updated,Lp=uv.deleted,Mp&&td._upsertCachedMetaData(Mp,jt.ts),Dp&&td._upsertCachedMetaData(Dp,jt.ts),Lp&&td._removeFromCachedMetaData(Lp,jt.ts),Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){Mp&&Fn.onMetaDataCreated(td,Mp),Dp&&Fn.onMetaDataUpdated(td,Dp),Lp&&Fn.onMetaDataDeleted(td,Lp)}),[2]})})}),[3,53];case 51:return[4,this.getChannel(jt.channelUrl,!0)];case 52:return dv=nr.sent(),hv=l.as(aee),BE=hv.created,$E=hv.updated,zE=hv.deleted,Ht(function(){return J(Ai,void 0,void 0,function(){return Z(this,function(dt){return this._openChannelHandlers.forEach(function(Fn){BE&&Fn.onMetaCounterCreated(dv,BE),$E&&Fn.onMetaCounterUpdated(dv,$E),zE&&Fn.onMetaCounterDeleted(dv,zE)}),[2]})})}),[3,53];case 53:return[3,54];case 54:return[3,56];case 55:if(VE=nr.sent(),Du(VE))throw VE;return[3,56];case 56:return[2]}})})},s.prototype.addHandler=function(l,i){this._openChannelHandlers.set(l,i)},s.prototype.removeHandler=function(l){this._openChannelHandlers.delete(l)},s.prototype.clearHandler=function(){this._openChannelHandlers.clear()},s.prototype.getChannel=function(l,i){return J(this,void 0,void 0,function(){var c;return Z(this,function(d){switch(d.label){case 0:Pn(ze("string",l)).throw(We.invalidParameters),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.getChannelFromCache(l)];case 2:return(c=d.sent())?[2,c]:[3,4];case 3:return d.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(l)];case 5:return[2,d.sent()]}})})},s.prototype.getChannelWithoutCache=function(l,i){return i===void 0&&(i=!1),J(this,void 0,void 0,function(){var c,d,p;return Z(this,function(_){switch(_.label){case 0:return Pn(ze("string",l)).throw(We.invalidParameters),c=new nne({channelUrl:l,isInternalCall:i}),[4,this._requestQueue.send(c)];case 1:return d=_.sent(),p=d.as(CN).channel,[4,this.upsertChannelsToCache([p])];case 2:return _.sent(),[2,p]}})})},s.prototype.createChannel=function(l){return J(this,void 0,void 0,function(){var i,c,d,p;return Z(this,function(_){switch(_.label){case 0:return i=Be(Be({},TN),l),Pn(function(g){return Qt("string",g.operatorUserIds,!0)&&(ze("string",g.coverUrlOrImage)||fs(g.coverUrlOrImage)||g.coverUrlOrImage===null)&&ze("string",g.name,!0)&&ze("string",g.data,!0)&&ze("string",g.customType,!0)&&(ze("string",g.channelUrl)&&/^\w+$/.test(g.channelUrl)||g.channelUrl===null)}(i)).throw(We.invalidParameters),c=new tne(i),[4,this._requestQueue.send(c)];case 1:return d=_.sent(),p=d.as(CN).channel,this.upsertChannelsToCache([p]),[2,p]}})})},s}(),AN={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},ane=function(s){function l(i){var c=this,d=i.channelUrl,p=i.token,_=i.limit;return(c=s.call(this)||this).method=In.GET,c.path="".concat($u,"/").concat(encodeURIComponent(d),"/participants"),c.params={token:p,limit:_},c}return _e(l,s),l}(An),sne=function(s){function l(i,c){var d=s.call(this,i,c)||this;d.token=null,d.participants=[];var p=c.next,_=c.participants;return d.token=p,d.participants=_.map(function(g){return new Gee(i,g)}),d}return _e(l,s),l}(Un),one=function(s){function l(i,c,d){return s.call(this,i,c,Br.OPEN,d)||this}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)},l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid).requestQueue,c=new ane(Be(Be({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return d=b.sent(),p=d.as(sne),_=p.participants,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw We.queryInProgress;case 4:return[3,6];case 5:throw We.invalidParameters;case 6:return[2]}})})},l}(ju),lne=function(s){function l(i){var c=this,d=i.channelUrl,p=i.coverUrlOrImage,_=i.name,g=i.data,b=i.customType,E=i.operatorUserIds;return(c=s.call(this)||this).method=In.PUT,c.path="".concat($u,"/").concat(encodeURIComponent(d)),c.params=St({cover_url:ze("string",p)?p:null,cover_file:fs(p)?p:null,name:_,data:g,custom_type:b,operators:E}),c}return _e(l,s),l}(An),cne=function(s){function l(i,c){var d=s.call(this,i,c)||this;return d.channel=new Ah(i,c),d}return _e(l,s),l}(Un),une=function(s){function l(i){var c=this,d=i.channelUrl;return(c=s.call(this)||this).method=In.DELETE,c.path="".concat($u,"/").concat(encodeURIComponent(d)),c}return _e(l,s),l}(An);(function(s){_e(function(l,i){return s.call(this,l,i)||this},s)})(Un);var Ah=function(s){function l(i,c){var d,p=this;return(p=s.call(this,i,c)||this)._lastParticipantCountUpdated=0,p.participantCount=0,p.operators=[],p.channelType=Br.OPEN,p.participantCount=(d=c.participant_count)!==null&&d!==void 0?d:0,p.operators=Array.isArray(c.operators)?c.operators.map(function(_){return new Dt(i,_)}):[],p}return _e(l,s),l.payloadify=function(i){return i?St(Be(Be({},SN.payloadify(i)),{participant_count:i.participantCount,operators:i.operators.map(function(c){return Dt.payloadify(c)})})):null},l.prototype.serialize=function(){return Pm(this)},l.prototype.isOperator=function(i){return i instanceof Dt?this.isOperator(i.userId):this.operators.some(function(c){return c.userId===i})},l.prototype._updateParticipantCount=function(i,c){return c>this._lastParticipantCountUpdated&&(this.participantCount=i,this._lastParticipantCountUpdated=c,!0)},l.prototype.createParticipantListQuery=function(i){return new one(this._iid,this.url,i)},l.prototype.refresh=function(){return J(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return[4,Xu.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,i.sent()]}})})},l.prototype.enter=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return i=an.of(this._iid).requestQueue,c=new rne({channelUrl:this.url}),[4,i.send(c)];case 1:return d=b.sent(),p=d.as(IN),_=p.participantCount,g=p.ts,this._updateParticipantCount(_,g),Xu.of(this._iid).setEnteredToCache(this),[2]}})})},l.prototype.exit=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return i=an.of(this._iid).requestQueue,c=new ine({channelUrl:this.url}),[4,i.send(c)];case 1:return d=b.sent(),p=d.as(NN),_=p.participantCount,g=p.ts,this._updateParticipantCount(_,g),Xu.of(this._iid).setExitedToCache(this),Ua.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},l.prototype.updateChannel=function(i){return J(this,void 0,void 0,function(){var c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return c=Be(Be({},AN),i),Pn(function(E){return Qt("string",E.operatorUserIds,!0)&&(ze("string",E.coverUrlOrImage)||fs(E.coverUrlOrImage)||E.coverUrlOrImage===null)&&ze("string",E.name,!0)&&ze("string",E.data,!0)&&ze("string",E.customType,!0)}(c)).throw(We.invalidParameters),d=an.of(this._iid).requestQueue,p=new lne(Be({channelUrl:this.url},c)),[4,d.send(p)];case 1:return _=b.sent(),g=_.as(cne).channel,[4,Xu.of(this._iid).upsertChannelsToCache([g])];case 2:return b.sent(),[2,g]}})})},l.prototype.updateChannelWithOperatorUserIds=function(i,c,d,p,_){return J(this,void 0,void 0,function(){var g;return Z(this,function(b){return g=Be(Be({},AN),{name:i,coverUrlOrImage:c,data:d,operatorUserIds:p,customType:_}),[2,this.updateChannel(g)]})})},l.prototype.delete=function(){return J(this,void 0,void 0,function(){var i,c;return Z(this,function(d){switch(d.label){case 0:return i=an.of(this._iid).requestQueue,c=new une({channelUrl:this.url}),[4,i.send(c)];case 1:return d.sent(),[4,Xu.of(this._iid).removeChannelsFromCache([this.url])];case 2:return d.sent(),[2]}})})},l.prototype.sendUserMessage=function(i){return Pn(!i.isPinnedMessage).throw(We.notSupportedError),s.prototype.sendUserMessage.call(this,i)},l.prototype.sendFileMessage=function(i){return Pn(!i.isPinnedMessage).throw(We.notSupportedError),s.prototype.sendFileMessage.call(this,i)},l}(SN),dne=function(s){function l(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(d){c.hasOwnProperty(d)&&(c[d]=i[d])}),c}return _e(l,s),l}(function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.onUserEntered=Mt,i.onUserExited=Mt,i.onChannelParticipantCountChanged=Mt,i.onPollUpdated=Mt,i.onPollVoted=Mt,i.onPollDeleted=Mt,i}return _e(l,s),l}(function(){this.onUserMuted=Mt,this.onUserUnmuted=Mt,this.onUserBanned=Mt,this.onUserUnbanned=Mt,this.onChannelChanged=Mt,this.onChannelDeleted=Mt,this.onChannelFrozen=Mt,this.onChannelUnfrozen=Mt,this.onOperatorUpdated=Mt,this.onChannelMemberCountChanged=Mt,this.onMetaDataCreated=Mt,this.onMetaDataUpdated=Mt,this.onMetaDataDeleted=Mt,this.onMetaCounterCreated=Mt,this.onMetaCounterUpdated=Mt,this.onMetaCounterDeleted=Mt,this.onMessageReceived=Mt,this.onMessageUpdated=Mt,this.onMessageDeleted=Mt,this.onMentionReceived=Mt,this.onReactionUpdated=Mt,this.onThreadInfoUpdated=Mt})),hne=function(s){function l(i){var c=this,d=i.token,p=i.limit,_=i.nameKeyword,g=i.urlKeyword,b=i.customTypes,E=i.includeFrozen,I=i.includeMetaData;return(c=s.call(this)||this).method=In.GET,c.path=$u,c.params=St({token:d,limit:p,name_contains:_,url_contains:g,custom_types:b,show_frozen:E,show_metadata:I}),c}return _e(l,s),l}(An),pne=function(s){function l(i,c){var d=s.call(this,i,c)||this;d.token=null,d.channels=[],d.ts=null;var p=c.next,_=c.channels,g=c.ts;return d.token=p,_&&_.length>0&&(d.channels=_.map(function(b){return new Ah(i,b)})),d.ts=typeof g=="number"?g:null,d}return _e(l,s),l}(Un),fne=function(s){function l(i,c){var d,p,_,g,b,E=this;return(E=s.call(this,i,c)||this).includeFrozen=!0,E.includeMetaData=!0,E.nameKeyword=null,E.urlKeyword=null,E.customTypes=null,E.includeFrozen=(d=c.includeFrozen)===null||d===void 0||d,E.includeMetaData=(p=c.includeMetaData)===null||p===void 0||p,E.nameKeyword=(_=c.nameKeyword)!==null&&_!==void 0?_:null,E.urlKeyword=(g=c.urlKeyword)!==null&&g!==void 0?g:null,E.customTypes=(b=c.customTypes)!==null&&b!==void 0?b:null,E}return _e(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&ze("boolean",this.includeFrozen)&&ze("boolean",this.includeMetaData)&&ze("string",this.nameKeyword,!0)&&ze("string",this.urlKeyword,!0)&&Qt("string",this.customTypes,!0)},l.prototype.next=function(){return J(this,void 0,void 0,function(){var i,c,d,p,_,g;return Z(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,i=an.of(this._iid).requestQueue,c=new hne(Be(Be({},this),{token:this._token})),[4,i.send(c)]):[3,3]:[3,6];case 1:return d=b.sent(),p=d.as(pne),_=p.channels,g=p.token,this._token=g,this._hasNext=!!g,[4,Xu.of(this._iid).upsertChannelsToCache(_)];case 2:return b.sent(),this._isLoading=!1,[2,_];case 3:return[2,[]];case 4:throw We.queryInProgress;case 5:return[3,7];case 6:throw We.invalidParameters;case 7:return[2]}})})},l}(Sh),_ne=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="openChannel",i}return _e(l,s),l.prototype.init=function(i,c){var d=c.sdkState,p=c.dispatcher,_=c.sessionManager,g=c.requestQueue,b=c.logger,E=c.onlineDetector,I=c.cacheContext;s.prototype.init.call(this,i,{sdkState:d,dispatcher:p,sessionManager:_,requestQueue:g,logger:b,onlineDetector:E,cacheContext:I}),this._manager=new Xu(i,{sdkState:d,dispatcher:p,requestQueue:g})},l.prototype.createOpenChannelListQuery=function(i){return i===void 0&&(i={}),new fne(this._iid,i)},l.prototype.addOpenChannelHandler=function(i,c){this._manager.addHandler(i,c)},l.prototype.removeOpenChannelHandler=function(i){this._manager.removeHandler(i)},l.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},l.prototype.buildOpenChannelFromSerializedData=function(i){return this._manager.buildOpenChannelFromSerializedData(i)},l.prototype.getChannel=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){return[2,this._manager.getChannel(i)]})})},l.prototype.getChannelWithoutCache=function(i){return J(this,void 0,void 0,function(){return Z(this,function(c){return[2,this._manager.getChannelWithoutCache(i)]})})},l.prototype.createChannel=function(i){return i===void 0&&(i={}),J(this,void 0,void 0,function(){return Z(this,function(c){return[2,this._manager.createChannel(i)]})})},l.prototype.createChannelWithOperatorUserIds=function(i,c,d,p,_){return J(this,void 0,void 0,function(){var g;return Z(this,function(b){return(g=Be({},TN)).name=i,g.coverUrlOrImage=c,g.data=d,g.operatorUserIds=p,g.customType=_,[2,this._manager.createChannel(g)]})})},l}(W2),ON="LIVE_EVENT_MANAGER",mne=function(){function s(d){var p=this;f(this,s),this._liveEvents=[],this._ctx=d,this._ctx.sb.openChannel.addOpenChannelHandler(ON,new dne({onUserBanned:function(_,g){if(g.userId===p._ctx.sb.currentUser.userId){var b=p._liveEvents.find(function(E){var I;return((I=E.openChannel)===null||I===void 0?void 0:I.url)===_.url});b&&b.onDisconnected()}}}))}var l,i,c;return v(s,[{key:"createLiveEvent",value:(c=h(o().mark(function d(p){var _,g,b,E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return _=yr.createLiveEvent(VV.SINGLE_HOST,p.userIdsForHost?[].concat(H(p.userIdsForHost),[this.userId]):[this.userId],p.title,p.coverUrl,p.coverFile,p.customItems),I.next=3,this._ctx.commandRouter.send(_);case 3:return g=I.sent,b=g.payload.liveEvent,E=new w2({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:b}),I.prev=6,I.next=9,E.fetchOpenChannel();case 9:I.next=14;break;case 11:I.prev=11,I.t0=I.catch(6),rt.error("failed to fetch initial open channel");case 14:return this._liveEvents.push(E),I.abrupt("return",E);case 16:case"end":return I.stop()}},d,this,[[6,11]])})),function(d){return c.apply(this,arguments)})},{key:"getLiveEvent",value:(i=h(o().mark(function d(p){var _,g,b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return _=yr.createGetLiveEvent(p),E.next=3,this._ctx.commandRouter.send(_);case 3:return g=E.sent,b=g.payload.liveEvent,E.abrupt("return",this.deserializeLiveEvent(b));case 6:case"end":return E.stop()}},d,this)})),function(d){return i.apply(this,arguments)})},{key:"deserializeLiveEvent",value:(l=h(o().mark(function d(p){var _,g,b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(_=this._liveEvents.findIndex(function(I){return I.liveEventId===p.liveEventId}),!(_>-1)){E.next=15;break}return(g=this._liveEvents[_]).upsert(p),E.prev=4,E.next=7,g.fetchOpenChannel();case 7:E.next=12;break;case 9:E.prev=9,E.t0=E.catch(4),rt.error("failed to fetch initial open channel");case 12:return E.abrupt("return",g);case 15:return b=new w2({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:p}),E.prev=16,E.next=19,b.fetchOpenChannel();case 19:E.next=24;break;case 21:E.prev=21,E.t1=E.catch(16),rt.error("failed to fetch initial open channel");case 24:return this._liveEvents.push(b),E.abrupt("return",b);case 26:case"end":return E.stop()}},d,this,[[4,9],[16,21]])})),function(d){return l.apply(this,arguments)})},{key:"clear",value:function(){this._liveEvents=[],this._ctx.sb.openChannel.removeOpenChannelHandler(ON);var d,p=M(this._liveEvents);try{for(p.s();!(d=p.n()).done;)d.value.teardown()}catch(_){p.e(_)}finally{p.f()}}}]),s}(),vne=Fo,gne=le,bne=$n,yne=gc,Ene=TypeError,RN=function(s){return function(l,i,c,d){vne(i);var p=gne(l),_=bne(p),g=yne(p),b=s?g-1:0,E=s?-1:1;if(c<2)for(;;){if(b in _){d=_[b],b+=E;break}if(b+=E,s?b<0:g<=b)throw Ene("Reduce of empty array with no initial value")}for(;s?b>=0:g>b;b+=E)b in _&&(d=i(d,_[b],b,p));return d}},wne={left:RN(!1),right:RN(!0)}.left;Lr({target:"Array",proto:!0,forced:!j0&&Ye>79&&Ye<83||!My("reduce")},{reduce:function(s){var l=arguments.length;return wne(this,s,l,l>1?arguments[1]:void 0)}});var Ml=function(){function s(l,i){f(this,s),this.key=l,this.value=i}return v(s,[{key:"toString",value:function(){return this.key}},{key:"equals",value:function(l){return this.value.width===l.value.width&&this.value.height===l.value.height}}]),s}();y(Ml,"_720P",new Ml("_720P",{width:1280,height:720})),y(Ml,"_540P",new Ml("_540P",{width:960,height:540})),y(Ml,"_480P",new Ml("_480P",{width:848,height:480})),y(Ml,"_360P",new Ml("_360P",{width:640,height:360}));var MN=Ml._720P,xne=function(s){w(i,s);var l=O(i);function i(c,d){var p;return f(this,i),y(N(p=l.call(this)),"hasPermission",!1),p._streamManger=c,p.constraints=d,p}return v(i,[{key:"stream",get:function(){return this._streamManger.stream}},{key:"dispose",value:function(){var c;this.removeAllEventListeners(),(c=this.onDisposed)===null||c===void 0||c.call(this)}},{key:"streamChanged",value:function(c){this._dispatchEvent("streamChanged",c)}},{key:"audioOutputChanged",value:function(){this._dispatchEvent("audioOutputChanged")}}]),i}(kl),kne=Wn,Sne=ai,Tne=On,Cne=P_,TE=lo,Ine=wn,Nne=F0,Ane=aC,DN=oC;iC("match",function(s,l,i){return[function(c){var d=Ine(this),p=Tne(c)?void 0:Nne(c,s);return p?kne(p,c,d):new RegExp(c)[s](TE(d))},function(c){var d=Sne(this),p=TE(c),_=i(l,d,p);if(_.done)return _.value;if(!d.global)return DN(d,p);var g=d.unicode;d.lastIndex=0;for(var b,E=[],I=0;(b=DN(d,p))!==null;){var U=TE(b[0]);E[I]=U,U===""&&(d.lastIndex=Ane(p,Cne(d.lastIndex),g)),I++}return I===0?null:E}]});var CE,Uc,Zu,Np,rv,iv,LN=rn,One=Le,Rne=on,Mne=lo,Dne=fC.trim,UN=hC,Ap=LN.parseInt,PN=LN.Symbol,FN=PN&&PN.iterator,HN=/^[+-]?0x/i,Lne=Rne(HN.exec),BN=Ap(UN+"08")!==8||Ap(UN+"0x16")!==22||FN&&!One(function(){Ap(Object(FN))})?function(s,l){var i=Dne(Mne(s));return Ap(i,l>>>0||(Lne(HN,i)?16:10))}:Ap;Lr({global:!0,forced:parseInt!=BN},{parseInt:BN});var $N=function(s,l){l.audio&&s.getAudioTracks().length===0&&s.addTrack(function(){CE||(CE=new(window.AudioContext||window.webkitAudioContext));var i=CE;Uc=i.createOscillator();var c=i.createMediaStreamDestination(),d=i.createGain();return d.gain.setValueAtTime(0,i.currentTime),Uc.connect(d),d.connect(c),Uc.start(),rv=c.stream.getAudioTracks()[0],c.stream.getAudioTracks()[0]}()),l.video&&s.getVideoTracks().length===0&&s.addTrack(function(i){var c=i.width,d=i.height,p=i.frameRate;Zu||(Zu=document.createElement("canvas")),Zu.width=c,Zu.height=d,Zu.getContext("2d").fillRect(0,0,c,d),Np||(Np=setInterval(function(){Zu.getContext("2d").fillRect(0,0,c,d)},1e3));var _=Zu.captureStream(p);return iv=_.getVideoTracks()[0],_.getVideoTracks()[0]}(a(a({},MN.value),{},{frameRate:24})))};function zN(){rv&&rv.stop(),iv&&iv.stop(),rv=null,iv=null,Np&&(clearInterval(Np),Np=null),Uc&&(Uc.onended=function(){Uc.disconnect(),Uc=null},Uc.stop())}function IE(s){if(s){var l,i=M(s.getTracks());try{for(i.s();!(l=i.n()).done;)l.value.stop()}catch(c){i.e(c)}finally{i.f()}}}var av=function(s,l,i){var c=s.match(l);return c&&c.length>=i&&parseInt(c[i],10)},VN=function(){var s={browser:null,version:null};if(typeof window>"u"||!window.navigator)return s.browser="Not a browser.",s;var l=window.navigator;if(l.mozGetUserMedia)s.browser="firefox",s.version=av(l.userAgent,/Firefox\/(\d+)\./,1);else if(l.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)s.browser="chrome",s.version=av(l.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(l.mediaDevices&&l.userAgent.match(/Edge\/(\d+).(\d+)$/))s.browser="edge",s.version=av(l.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!l.userAgent.match(/AppleWebKit\/(\d+)\./))return s.browser="Not a supported browser.",s;s.browser="safari",s.version=av(l.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return s}().browser==="safari",Une=function(){function s(c){f(this,s),this._deviceManager=c,this._updateQueued=!1}var l,i;return v(s,[{key:"_getUserMedia",value:(i=h(o().mark(function c(d){var p,_,g,b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,navigator.mediaDevices.getUserMedia(d);case 3:return p=E.sent,zN(),E.abrupt("return",p);case 8:return E.prev=8,E.t0=E.catch(0),rt.warning("Failed to first 'getUserMedia()' call Error[".concat(E.t0,"]")),_=new MediaStream,E.prev=12,E.next=15,navigator.mediaDevices.getUserMedia({audio:d.audio});case 15:g=E.sent,_.addTrack(g.getAudioTracks()[0]),E.next=22;break;case 19:E.prev=19,E.t1=E.catch(12),rt.warning("Failed to get local audio stream Error[".concat(E.t1,"]"));case 22:return E.prev=22,E.next=25,navigator.mediaDevices.getUserMedia({video:d.video});case 25:b=E.sent,_.addTrack(b.getVideoTracks()[0]),E.next=32;break;case 29:E.prev=29,E.t2=E.catch(22),rt.warning("Failed to get local video stream Error[".concat(E.t2,"]"));case 32:return E.abrupt("return",_);case 33:case"end":return E.stop()}},c,null,[[0,8],[12,19],[22,29]])})),function(c){return i.apply(this,arguments)})},{key:"updateStream",value:(l=h(o().mark(function c(){var d,p,_,g,b,E,I,U,X,W;return o().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(!this._updateAt){de.next=3;break}return this._updateQueued=!0,de.abrupt("return");case 3:if(d=this._deviceManager.mediaAccesses.some(function(se){return se.constraints.audio}),p=this._deviceManager.mediaAccesses.some(function(se){return se.constraints.video}),d||p){de.next=9;break}return IE(this.stream),zN(),de.abrupt("return");case 9:return this._updateAt=Date.now(),(_=this.stream)||(g=new MediaStream,$N(g,{audio:d,video:p}),this.stream=g),VN&&IE(_),de.next=15,this._deviceManager.getMediaConstraints({usingAudio:d,usingVideo:p});case 15:return b=de.sent,de.next=18,this._getUserMedia(b);case 18:if((E=de.sent).getVideoTracks().length>0){I=M(this._deviceManager.mediaAccesses);try{for(I.s();!(U=I.n()).done;)U.value.hasPermission=!0}catch(se){I.e(se)}finally{I.f()}}$N(E,{audio:d,video:p}),VN||IE(_),this.stream=E,X=M(this._deviceManager.mediaAccesses);try{for(X.s();!(W=X.n()).done;)W.value.streamChanged(this.stream)}catch(se){X.e(se)}finally{X.f()}delete this._updateAt,this._updateQueued?(this._updateQueued=!1,this.updateStream()):this._deviceManager.refreshMediaDevices({audio:d,video:p},!0);case 27:case"end":return de.stop()}},c,this)})),function(){return l.apply(this,arguments)})}]),s}();function GN(s,l){return(s==null?void 0:s.deviceId)===(l==null?void 0:l.deviceId)&&(s==null?void 0:s.label)===(l==null?void 0:l.label)&&(s==null?void 0:s.groupId)===(l==null?void 0:l.groupId)}var Pne=function(){function s(){var p=this;f(this,s),this.mediaAccesses=[],this._availableMediaDevices={audioinput:[],audiooutput:[],videoinput:[]},this._currentMediaDevices={audioinput:void 0,audiooutput:void 0,videoinput:void 0},this._sendbirdCallListeners=new Map,this._streamManager=new Une(this),navigator.mediaDevices.ondevicechange=function(){return p._onDeviceChanged()}}var l,i,c,d;return v(s,[{key:"_onDeviceChanged",value:function(){this.mediaAccesses.length!==0&&this.refreshMediaDevices({audio:this.mediaAccesses.some(function(p){return p.constraints.audio}),video:this.mediaAccesses.some(function(p){return p.constraints.video})})}},{key:"addSendBirdCallListener",value:function(p,_){this._sendbirdCallListeners.set(p,_)}},{key:"removeSendBirdCallListener",value:function(p){this._sendbirdCallListeners.delete(p)}},{key:"removeAllSendBirdCallListener",value:function(){this._sendbirdCallListeners.clear()}},{key:"getCurrentAudioInputDevice",value:function(){return this._currentMediaDevices.audioinput}},{key:"getCurrentAudioOutputDevice",value:function(){return this._currentMediaDevices.audiooutput}},{key:"getCurrentVideoInputDevice",value:function(){return this._currentMediaDevices.videoinput}},{key:"getAvailableAudioInputDevices",value:function(){return this._availableMediaDevices.audioinput}},{key:"getAvailableAudioOutputDevices",value:function(){return this._availableMediaDevices.audiooutput}},{key:"getAvailableVideoInputDevices",value:function(){return this._availableMediaDevices.videoinput}},{key:"updateStream",value:(d=h(o().mark(function p(){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",this._streamManager.updateStream());case 1:case"end":return _.stop()}},p,this)})),function(){return d.apply(this,arguments)})},{key:"_registerMediaAccess",value:function(p){var _=this;this.mediaAccesses.push(p),p.onDisposed=function(){return _.stopMedia(p)}}},{key:"useMedia",value:function(p){if(p.audio||p.video){var _=new xne(this._streamManager,p);return this._registerMediaAccess(_),this.updateStream(),_}rt.error(new Error("you should set true for at least 1 media type."))}},{key:"stopMedia",value:function(p){this.mediaAccesses.splice(this.mediaAccesses.indexOf(p),1),this.updateStream()}},{key:"fetchMediaDevices",value:(c=h(o().mark(function p(){var _;return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,navigator.mediaDevices.enumerateDevices();case 2:return _=g.sent,g.abrupt("return",_.reduce(function(b,E){return b[E.kind].push(E),b},{audioinput:[],audiooutput:[],videoinput:[]}));case 4:case"end":return g.stop()}},p)})),function(){return c.apply(this,arguments)})},{key:"getMediaConstraints",value:(i=h(o().mark(function p(_){var g,b,E,I,U,X,W,de;return o().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return g=_.usingAudio,b=_.usingVideo,E={audio:!1,video:!1},se.next=4,this.fetchMediaDevices();case 4:return I=se.sent,U=I.audioinput,X=I.videoinput,g&&U.length&&(W=this.getCurrentAudioInputDevice(),E.audio={deviceId:W==null?void 0:W.deviceId}),b&&X.length&&(de=this.getCurrentVideoInputDevice(),E.video=a(a({deviceId:de==null?void 0:de.deviceId},MN.value),{},{frameRate:24})),se.abrupt("return",E);case 10:case"end":return se.stop()}},p,this)})),function(p){return i.apply(this,arguments)})},{key:"_updateCurrentMediaDevice",value:function(p,_){var g,b=this._availableMediaDevices[p],E=this._currentMediaDevices[p],I=b.find(function(U){return U.deviceId===(_==null?void 0:_.deviceId)});return I||(rt.warning("Selected device is unavailable. fallback to default device."),I=((g=I)!==null&&g!==void 0?g:b.length>0)?b[0]:null),this._currentMediaDevices[p]=I,!GN(E,I)}},{key:"_onAudioOutputChanged",value:function(){var p,_=M(this.mediaAccesses);try{for(_.s();!(p=_.n()).done;){var g=p.value;g.constraints.audio&&g.audioOutputChanged()}}catch(b){_.e(b)}finally{_.f()}}},{key:"selectDevice",value:function(p,_){_.kind===p?this._updateCurrentMediaDevice(p,_)&&(p!=="audioinput"&&p!=="videoinput"||this.updateStream(),p==="audiooutput"&&this._onAudioOutputChanged()):rt.error(new Error("Tried to select invalid device of type"))}},{key:"_updateAvailableDevices",value:function(p,_){var g,b,E,I=this._currentMediaDevices[p],U=!function(Ae,we){if(Ae.length!==we.length)return!1;for(var $e=0;$e<we.length;$e++)if(!GN(Ae[$e],we[$e]))return!1;return!0}(this._availableMediaDevices[p],_);if(!U)return!1;var X;this._availableMediaDevices[p]=_,X=this._updateCurrentMediaDevice(p,I);var W,de=M(this._sendbirdCallListeners.values());try{for(de.s();!(W=de.n()).done;){var se=W.value,fe=this._currentMediaDevices[p];switch(p){case"audioinput":(g=se.onAudioInputDeviceChanged)===null||g===void 0||g.call(se,fe,_);break;case"audiooutput":(b=se.onAudioOutputDeviceChanged)===null||b===void 0||b.call(se,fe,_);break;case"videoinput":(E=se.onVideoInputDeviceChanged)===null||E===void 0||E.call(se,fe,_)}}}catch(Ae){de.e(Ae)}finally{de.f()}return X}},{key:"refreshMediaDevices",value:(l=h(o().mark(function p(_){var g,b,E,I,U,X,W,de,se,fe=arguments;return o().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(g=_.audio,b=_.video,E=fe.length>1&&fe[1]!==void 0&&fe[1],g||b){Ae.next=4;break}throw new Error("at least one of the audio or video must be true");case 4:return Ae.next=6,this.fetchMediaDevices();case 6:I=Ae.sent,U=I.audioinput,X=I.audiooutput,W=I.videoinput,de=!1,se=!1,g&&(de=this._updateAvailableDevices("audioinput",U),se=this._updateAvailableDevices("audiooutput",X)),b&&(de=this._updateAvailableDevices("videoinput",W)||de),!E&&de&&this.updateStream(),se&&this._onAudioOutputChanged();case 16:case"end":return Ae.stop()}},p,this)})),function(p){return l.apply(this,arguments)})}]),s}(),qN="v1.0.0-beta.8",Fne=function(){function s(l){f(this,s),this._parse=l}return v(s,[{key:"parseToJson",value:function(l){try{return JSON.parse(l)}catch{return{}}}},{key:"validate",value:function(l){var i=l.cmd,c=l.request_id,d=l.call_type;return!!(c||i||d)}},{key:"parseCommand",value:function(l){return l.error?{isValid:!0,error:{requestId:l.request_id,message:l.message,code:l.code}}:{isValid:!0,command:this._parse(l)}}},{key:"parse",value:function(l){var i=this.parseToJson(l);return this.validate(i)?this.parseCommand(i):{isValid:!1}}}]),s}(),Hne=function(s){w(i,s);var l=O(i);function i(c){var d,p;return f(this,i),(p=l.call(this))._ctx=c,p._ws=null,p._retryTimer=null,p._closed=!0,p._sessionKey=null,p._requestMap=new kC(p._getTimeoutTime()),p._messageParser=new Fne(p._ctx.parse),p._hostUrl=(d=p._ctx.websocketHost)!==null&&d!==void 0?d:"wss://ws-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",p._ctx.appId),p}return v(i,[{key:"connect",value:function(){var c=this;return new Promise(function(d,p){var _;c._sessionKey||p(new Error("tried to connect to websocket server without auth")),((_=c._ws)===null||_===void 0?void 0:_.readyState)===0&&p(new Error("websocket is reconnecting already")),c._disconnect(),c._ws=c._createWebSocket(),c._closed=!1,c._ws.onopen=function(){c._onOpen(),d(null)},c._ws.onmessage=function(g){var b=c._messageParser.parse(g.data),E=b.isValid,I=b.error,U=b.command;E&&(I?c._processError(I):c.processCommand(U))},c._ws.onerror=function(g){return c._onError(g)},c._ws.onclose=function(){c._onClose(),p(new Error("websocket connection failed"))}})}},{key:"_processError",value:function(c){var d=c.requestId,p=c.code,_=c.message,g=this._requestMap.unregister(d);g&&(rt.debug(d,c.message),g.reject(new kc(p,{message:_})))}},{key:"processCommand",value:function(c){this._dispatchEvent("command",c)}},{key:"setSessionKey",value:function(c){this._sessionKey=c}},{key:"clearSessionKey",value:function(){this._disconnect(),this._sessionKey=null}},{key:"_disconnect",value:function(){this._ws&&(this._closed=!0,this._removeRetryTimer(),this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close(),this._requestMap.rejectAll(new Error("request failed due to websocket connection lost")),this._ws=null)}},{key:"isConnected",get:function(){return!!this._ws&&this._ws.readyState===1}},{key:"_onOpen",value:function(){}},{key:"_onError",value:function(c){}},{key:"_onClose",value:function(){this.startToReconnect()}},{key:"_createWebSocket",value:function(){var c="/?sbcall_session_token=".concat(encodeURIComponent(this._sessionKey),"&sbcall_client_id=").concat(encodeURIComponent(this._ctx.clientId),"&sendbird=").concat(encodeURIComponent(this._getVersion()));return new WebSocket(this._getHost()+c)}},{key:"_getVersion",value:function(){return"JS,".concat(this._getOsVersion(),",").concat(qN)}},{key:"_getHost",value:function(){return this._hostUrl}},{key:"startToReconnect",value:function(){this._closed||this._retryTimer||(this._retryTimer=setTimeout(this._reconnect.bind(this),this._getRetryTime()))}},{key:"_reconnect",value:function(){var c=this;this._removeRetryTimer(),g2(new xC(5e3,1e3,void 0),function(){return c.connect()},{onError:function(d){rt.error("Fail reconnect WebSocket ErrorCode = ".concat(d.code))}})}},{key:"_removeRetryTimer",value:function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_getRetryTime",value:function(){return 2e3}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),i}(kl),Bne=function(){function s(i){var c;f(this,s),this._ctx=i,this._fetch=function(){var d;return(d=window).fetch.apply(d,arguments)},this._sessionKey=null,this._hostUrl=(c=this._ctx.apiHost)!==null&&c!==void 0?c:"https://api-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",this._ctx.appId)}var l;return v(s,[{key:"setSessionKey",value:function(i){this._sessionKey=i}},{key:"clearSessionKey",value:function(){this._sessionKey=null}},{key:"send",value:(l=h(o().mark(function i(c){var d,p,_,g,b,E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(c.getApiOption){I.next=2;break}throw new Error("invalid api request ".concat(JSON.stringify(c)));case 2:if(!(d=c.getApiOption()).auth||this._sessionKey){I.next=5;break}throw new Error("tried to call private api without auth");case 5:return p=a({},d.headers),d.body instanceof FormData||(p["Content-Type"]="application/json"),p.SendBird="JS,".concat(this._getOsVersion(),",").concat(qN),p["SBCall-Client-Id"]=this._ctx.clientId,this._sessionKey&&(p["SBCall-Session-Token"]=this._sessionKey),I.next=12,this._fetch("".concat(this._getHost()).concat(d.path),{method:d.method,body:d.body instanceof FormData?d.body:JSON.stringify(d.body),headers:p});case 12:return _=I.sent,I.next=15,_.text();case 15:g=I.sent,b=null,I.prev=17,b=JSON.parse(g),I.next=24;break;case 21:throw I.prev=21,I.t0=I.catch(17),new kc(va.ERR_MALFORMED_DATA);case 24:if(_.ok){I.next=34;break}if(!b.error){I.next=29;break}throw new kc(b.code,{message:b.message});case 29:if(_.status!==500){I.next=31;break}throw new kc(va.INTERNAL_SERVER_ERROR);case 31:if(!(_.status>=300&&_.status<400)){I.next=33;break}throw new kc(va.ERR_MALFORMED_DATA);case 33:throw new kc(va.ERR_REQUEST_FAILED);case 34:if(I.prev=34,!(E=this._ctx.parseResponse(c,b))){I.next=38;break}return I.abrupt("return",E);case 38:I.next=43;break;case 40:return I.prev=40,I.t1=I.catch(34),I.abrupt("return",b);case 43:return I.abrupt("return",b);case 44:case"end":return I.stop()}},i,this,[[17,21],[34,40]])})),function(i){return l.apply(this,arguments)})},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),s}(),$ne=function(s){w(p,s);var l,i,c,d=O(p);function p(_){var g;return f(this,p),(g=d.call(this))._ctx=_,g.wsClient=new Hne(a(a({},_),{},{parse:function(b){return yr.parse(b)}})),g.apiClient=new Bne(a(a({},_),{},{parseResponse:function(b,E){return yr.parseResponse(b,E)}})),g._unsubscriber=g.wsClient.on("command",function(b){g._dispatchEvent("command",b)}),g}return v(p,[{key:"connectWs",value:function(){return this.wsClient.connect()}},{key:"reconnectWs",value:function(){return this.wsClient.startToReconnect()}},{key:"sendAPI",value:function(_){return this.apiClient.send(_)}},{key:"send",value:(c=h(o().mark(function _(g){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this.sendAPI(g));case 1:case"end":return b.stop()}},_,this)})),function(_){return c.apply(this,arguments)})},{key:"sendWithRetry",value:(i=h(o().mark(function _(g){var b,E,I,U,X,W,de=this,se=arguments;return o().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return b=se.length>1&&se[1]!==void 0?se[1]:new dQ,E=se.length>2&&se[2]!==void 0?se[2]:{count:0,deferred:new v2},I=E.deferred,U=E.count,fe.prev=3,fe.next=6,this.send(g);case 6:X=fe.sent,I.resolve(X),fe.next=14;break;case 10:fe.prev=10,fe.t0=fe.catch(3),(W=b.calcTimeout(U))>0?setTimeout(function(){de.sendWithRetry(g,b,{count:U+1,deferred:I})},W):I.reject(fe.t0);case 14:return fe.abrupt("return",I.promise);case 15:case"end":return fe.stop()}},_,this,[[3,10]])})),function(_){return i.apply(this,arguments)})},{key:"_setSessionKey",value:function(_){this.apiClient.setSessionKey(_),this.wsClient.setSessionKey(_)}},{key:"authenticate",value:(l=h(o().mark(function _(g){var b,E,I,U;return o().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return b=g.userId,E=g.accessToken,X.prev=1,X.next=4,this._ctx.sb.connect(b,E);case 4:return I=yr.createAuth(this._ctx.appId,b,E),X.next=7,this.send(I);case 7:U=X.sent,this._setSessionKey(U.sbcall_session_token),this._ctx.liveEventManager.userId=U.user.user_id,X.next=16;break;case 12:throw X.prev=12,X.t0=X.catch(1),rt.error("failed to authenticate user ".concat(b)),X.t0;case 16:case"end":return X.stop()}},_,this,[[1,12]])})),function(_){return l.apply(this,arguments)})},{key:"deauthenticate",value:function(){this.apiClient.clearSessionKey(),this.wsClient.clearSessionKey()}}]),p}(kl),zne=nh,Vne=lo,Gne=wn,qne=RangeError,jN=on,jne=P_,KN=lo,Kne=function(s){var l=Vne(Gne(this)),i="",c=zne(s);if(c<0||c==1/0)throw qne("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(l+=l))1&c&&(i+=l);return i},Wne=wn,Qne=jN(Kne),Yne=jN("".slice),Xne=Math.ceil,WN=function(s){return function(l,i,c){var d,p,_=KN(Wne(l)),g=jne(i),b=_.length,E=c===void 0?" ":KN(c);return g<=b||E==""?_:((p=Qne(E,Xne((d=g-b)/E.length))).length>d&&(p=Yne(p,0,d)),s?_+p:p+_)}},Zne={start:WN(!1),end:WN(!0)},Jne=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Ge),ete=Zne.start;Lr({target:"String",proto:!0,forced:Jne},{padStart:function(s){return ete(this,s,arguments.length>1?arguments[1]:void 0)}});var NE={VERBOSE:{level:-1,name:Da.VERBOSE,public:!1},DEBUG:{level:1,name:Da.DEBUG,public:!1},INFO:{level:2,name:Da.INFO,public:!0},WARNING:{level:3,name:Da.WARNING,public:!0},ERROR:{level:4,name:Da.ERROR,public:!0},NONE:{level:100,name:Da.NONE,public:!0}},nte=function(s){w(i,s);var l=O(i);function i(c){return f(this,i),l.call(this,c)}return v(i,[{key:"_getLogType",value:function(c){switch(c){case Da.ERROR:return"error";case Da.WARNING:return"warn";default:return"log"}}},{key:"_getTimeString",value:function(c){var d=c.getFullYear().toString().padStart(2,"0"),p=(c.getMonth()+1).toString().padStart(2,"0"),_=c.getDate().toString().padStart(2,"0"),g=c.getHours().toString().padStart(2,"0"),b=c.getMinutes().toString().padStart(2,"0"),E=c.getSeconds().toString().padStart(2,"0"),I=c.getMilliseconds().toString().padStart(2,"0");return"[".concat(d,".").concat(p,".").concat(_," ").concat(g,":").concat(b,":").concat(E,":").concat(I,"]")}},{key:"_permit",value:function(c){var d=this._getLogType(c),p=new Date;if(this._enabledFor(c)&&console&&console[d]){for(var _,g="".concat(this._getTimeString(p)," [").concat(c,"]"),b=arguments.length,E=new Array(b>1?b-1:0),I=1;I<b;I++)E[I-1]=arguments[I];(_=console)[d].apply(_,[g].concat(E))}}}]),i}(function(){function s(l){f(this,s),this.level=l||Da.NONE}return v(s,[{key:"setLoggerLevel",value:function(l){var i;return(i=NE[l])!==null&&i!==void 0&&i.public&&(this.level=l),this.level}},{key:"_enabledFor",value:function(l){try{return NE[this.level].level<=NE[l].level}catch{return!1}}}]),s}());/*!
 Copyright 2018 Google Inc. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*//*! lifecycle.mjs v0.1.1 */let sv;try{new EventTarget,sv=!0}catch{sv=!1}var tte=sv?EventTarget:class{constructor(){this.e={}}addEventListener(s,l,i=!1){this.t(s).push(l)}removeEventListener(s,l,i=!1){const c=this.t(s),d=c.indexOf(l);d>-1&&c.splice(d,1)}dispatchEvent(s){return s.target=this,Object.freeze(s),this.t(s.type).forEach(l=>l(s)),!0}t(s){return this.e[s]=this.e[s]||[]}},rte=sv?Event:class{constructor(s){this.type=s}};class ite extends rte{constructor(l,i){super(l),this.newState=i.newState,this.oldState=i.oldState,this.originalEvent=i.originalEvent}}const Ju="active",Op="passive",ed="hidden",nd="frozen",AE="terminated",QN=typeof safari=="object"&&safari.pushNotification,ate=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],YN=s=>(s.preventDefault(),s.returnValue="Are you sure?"),ste=[[Ju,Op,ed,AE],[Ju,Op,ed,nd],[ed,Op,Ju],[nd,ed],[nd,Ju],[nd,Op]].map(s=>s.reduce((l,i,c)=>(l[i]=c,l),{})),ov=()=>document.visibilityState===ed?ed:document.hasFocus()?Ju:Op;var XN=new class extends tte{constructor(){super();const s=ov();this.s=s,this.i=[],this.a=this.a.bind(this),ate.forEach(l=>addEventListener(l,this.a,!0)),QN&&addEventListener("beforeunload",l=>{this.n=setTimeout(()=>{l.defaultPrevented||l.returnValue.length>0||this.r(l,ed)},0)})}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(s){!this.i.indexOf(s)>-1&&(this.i.length===0&&addEventListener("beforeunload",YN),this.i.push(s))}removeUnsavedChanges(s){const l=this.i.indexOf(s);l>-1&&(this.i.splice(l,1),this.i.length===0&&removeEventListener("beforeunload",YN))}r(s,l){if(l!==this.s){const i=((c,d)=>{for(let p,_=0;p=ste[_];++_){const g=p[c],b=p[d];if(g>=0&&b>=0&&b>g)return Object.keys(p).slice(g,b+1)}return[]})(this.s,l);for(let c=0;c<i.length-1;++c){const d=i[c],p=i[c+1];this.s=p,this.dispatchEvent(new ite("statechange",{oldState:d,newState:p,originalEvent:s}))}}}a(s){switch(QN&&clearTimeout(this.n),s.type){case"pageshow":case"resume":this.r(s,ov());break;case"focus":this.r(s,Ju);break;case"blur":this.s===Ju&&this.r(s,ov());break;case"pagehide":case"unload":this.r(s,s.persisted?nd:AE);break;case"visibilitychange":this.s!==nd&&this.s!==AE&&this.r(s,ov());break;case"freeze":this.r(s,nd)}}},ote=function(s){w(i,s);var l=O(i);function i(){var c;return f(this,i),(c=l.call(this))._currentState="active",c}return v(i,[{key:"_onStateChanged",value:function(c){c.newState!=="hidden"?this._currentState==="hidden"&&this._dispatchEvent("resume"):this._currentState!=="hidden"&&this._dispatchEvent("pause"),this._currentState=c.newState}},{key:"start",value:function(){var c=this;XN.addEventListener("statechange",function(d){return c._onStateChanged(d)})}},{key:"stop",value:function(){var c=this;XN.removeEventListener("statechange",function(d){return c._onStateChanged(d)})}}]),i}(kl),lte=function(){function s(){f(this,s),y(this,"_ctx",{})}var l,i,c,d;return v(s,[{key:"init",value:function(p){var _=p.appId,g=p.chatInstance;this._ctx.sb=g||qee.init({appId:_,modules:[new _ne]}),this._visibilityDetector=new ote,this._consoleLogListener=new nte(Da.NONE),rt.addListener(this._consoleLogListener),this._ctx.appId=_,this._ctx.clientId=Me(),this._ctx.commandRouter=new $ne(this._ctx),this._ctx.deviceManager=new Pne,this._ctx.liveEventManager=new mne(this._ctx)}},{key:"setLoggerLevel",value:function(p){return this._consoleLogListener.setLoggerLevel(p)}},{key:"authenticate",value:(d=h(o().mark(function p(_,g){var b=this;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this._ctx.commandRouter.authenticate({userId:_,accessToken:g});case 2:return E.next=4,this._ctx.commandRouter.connectWs();case 4:this._visibilityDetector.start(),this._visibilityDetector.on("resume",function(){b._ctx.commandRouter.reconnectWs(),b._ctx.deviceManager.updateStream()});case 6:case"end":return E.stop()}},p,this)})),function(p,_){return d.apply(this,arguments)})},{key:"deauthenticate",value:(c=h(o().mark(function p(){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._ctx.sb.disconnect();case 2:this._ctx.commandRouter.deauthenticate(),this._ctx.liveEventManager.clear(),this._visibilityDetector.stop(),this._visibilityDetector.removeAllEventListeners(),rt.removeAllListener();case 7:case"end":return _.stop()}},p,this)})),function(){return c.apply(this,arguments)})},{key:"createLiveEvent",value:(i=h(o().mark(function p(_){return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._ctx.liveEventManager.createLiveEvent(_));case 1:case"end":return g.stop()}},p,this)})),function(p){return i.apply(this,arguments)})},{key:"getLiveEvent",value:(l=h(o().mark(function p(_){return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._ctx.liveEventManager.getLiveEvent(_));case 1:case"end":return g.stop()}},p,this)})),function(p){return l.apply(this,arguments)})},{key:"createLiveEventListQuery",value:function(p){return new jG(p,this._ctx.commandRouter,this._ctx.liveEventManager)}},{key:"useMedia",value:function(p){return this._ctx.deviceManager.useMedia(p)}},{key:"updateMediaDevices",value:function(p){return this._ctx.deviceManager.refreshMediaDevices(p)}},{key:"getCurrentAudioInputDevice",value:function(){return this._ctx.deviceManager.getCurrentAudioInputDevice()}},{key:"getAvailableAudioInputDevices",value:function(){return this._ctx.deviceManager.getAvailableAudioInputDevices()}},{key:"selectAudioInput",value:function(p){return this._ctx.deviceManager.selectDevice("audioinput",p)}},{key:"setAudioInputDeviceChanged",value:function(p){var _=this;if(this._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED"),p)return this._ctx.deviceManager.addSendBirdCallListener("AUDIO_DEVICE_CHANGED",{onAudioInputDeviceChanged:p}),function(){_._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED")}}},{key:"getCurrentVideoInputDevice",value:function(){return this._ctx.deviceManager.getCurrentVideoInputDevice()}},{key:"getAvailableVideoInputDevices",value:function(){return this._ctx.deviceManager.getAvailableVideoInputDevices()}},{key:"selectVideoInput",value:function(p){return this._ctx.deviceManager.selectDevice("videoinput",p)}},{key:"setVideoInputDeviceChanged",value:function(p){var _=this;if(this._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED"),p)return this._ctx.deviceManager.addSendBirdCallListener("VIDEO_DEVICE_CHANGED",{onVideoInputDeviceChanged:p}),function(){_._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED")}}}],[{key:"CameraOverlayPosition",get:function(){return _h}}]),s}(),cte=new lte;e.ErrorCode=va,e.HostState=D5,e.LiveEvent=w2,e.LiveEventRole=mm,e.LiveEventState=M5,e.ParticipantState=pj,e.SendbirdLive=cte,Object.defineProperty(e,"__esModule",{value:!0})})})(Vr,Vr.exports);var Bie="sendbird-modal-root";function fa(n,t){t===void 0&&(t={});var e=t.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var $ie=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbird-modal__mask {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-modal__mask {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__mask {
  background-color: var(--sendbird-dark-overlay-02);
}

.sendbird-modal__container {
  position: relative;
  z-index: 100001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px 24px 24px 24px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-modal__container {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__container {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}

.sendbird-modal__wrapper {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal--header {
  position: relative;
  margin-bottom: 16px;
}
.sendbird-modal--header .sendbird-modal--close {
  display: inline-block;
  position: absolute;
  right: 0;
  top: 0;
}

.sendbird-modal--footer {
  margin-top: 32px;
  text-align: right;
}
.sendbird-modal--footer .sendbird-button:last-child {
  margin-left: 8px;
}`;fa($ie);var zie=function(n){var t=n.children,e=n.isOpen,r=e===void 0?!1:e;n.close;var a=n.modalRoot,o=a===void 0?Bie:a,u=n.className,h=u===void 0?"":u,f=n.modalClassName,m=f===void 0?"":f;if(!r)return null;var v=document.getElementById(o);return C_.createPortal(R.createElement("div",{className:"sendbird-modal__wrapper ".concat(h)},R.createElement("div",{className:"sendbird-modal__mask"}),R.createElement("div",{className:"sendbird-modal__container ".concat(m)},t)),v)},du=function(n,t){var e=K.useState(!1),r=e[0],a=e[1],o=K.useCallback(function(){return a(!0)},[a]),u=K.useCallback(function(){return a(!1)},[a]),h=function(f){var m=f.children;return R.createElement(zie,{isOpen:r,close:u,className:n,modalClassName:t},m)};return[h,o,u]};function hO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function gn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(e),!0).forEach(function(r){Zc(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hO(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Zc(n,t,e){return t=Gie(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function b0(){return b0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},b0.apply(this,arguments)}function Vie(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Gie(n){var t=Vie(n,"string");return typeof t=="symbol"?t:String(t)}const LL=R.createContext({});/*!
 * css-vars-ponyfill
 * v2.4.8
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function ts(){return ts=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ts.apply(this,arguments)}/*!
 * get-css-data
 * v2.1.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function pO(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={mimeType:t.mimeType||null,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},r=Array.isArray(n)?n:[n],a=Array.apply(null,Array(r.length)).map(function(m){return null});function o(m){var v=typeof m=="string",y=v&&m.trim().charAt(0)==="<";return v&&!y}function u(m,v){e.onError(m,r[v],v)}function h(m,v){var y=e.onSuccess(m,r[v],v);m=y===!1?"":y||m,a[v]=m,a.indexOf(null)===-1&&e.onComplete(a)}var f=document.createElement("a");r.forEach(function(m,v){f.setAttribute("href",m),f.href=String(f.href);var y=!!(document.all&&!window.atob),w=y&&f.host.split(":")[0]!==location.host.split(":")[0];if(w){var x=f.protocol===location.protocol;if(x){var C=new XDomainRequest;C.open("GET",m),C.timeout=0,C.onprogress=Function.prototype,C.ontimeout=Function.prototype,C.onload=function(){var L=C.responseText;o(L)?h(L,v):u(C,v)},C.onerror=function(L){u(C,v)},setTimeout(function(){C.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(m,")")),u(null,v)}else{var A=new XMLHttpRequest;A.open("GET",m),e.mimeType&&A.overrideMimeType&&A.overrideMimeType(e.mimeType),e.onBeforeSend(A,m,v),A.onreadystatechange=function(){if(A.readyState===4){var L=A.responseText;A.status<400&&o(L)||A.status===0&&o(L)?h(L,v):u(A,v)}},A.send()}})}/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function fO(n){var t={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},e={rootElement:n.rootElement||document,include:n.include||'style,link[rel="stylesheet"]',exclude:n.exclude||null,filter:n.filter||null,skipDisabled:n.skipDisabled!==!1,useCSSOM:n.useCSSOM||!1,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.apply(null,e.rootElement.querySelectorAll(e.include)).filter(function(m){return!qie(m,e.exclude)}),a=Array.apply(null,Array(r.length)).map(function(m){return null});function o(){var m=a.indexOf(null)===-1;if(m){a.reduce(function(y,w,x){return w===""&&y.push(x),y},[]).reverse().forEach(function(y){return[r,a].forEach(function(w){return w.splice(y,1)})});var v=a.join("");e.onComplete(v,a,r)}}function u(m,v,y,w){var x=e.onSuccess(m,y,w);m=x!==void 0&&!x?"":x||m,f(m,y,w,function(C,A){a[v]===null&&(A.forEach(function(L){return e.onError(L.xhr,y,L.url)}),!e.filter||e.filter.test(C)?a[v]=C:a[v]="",o())})}function h(m,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],w={};return w.rules=(m.replace(t.cssComments,"").match(t.cssImports)||[]).filter(function(x){return y.indexOf(x)===-1}),w.urls=w.rules.map(function(x){return x.replace(t.cssImports,"$1")}),w.absoluteUrls=w.urls.map(function(x){return b3(x,v)}),w.absoluteRules=w.rules.map(function(x,C){var A=w.urls[C],L=b3(w.absoluteUrls[C],v);return x.replace(A,L)}),w}function f(m,v,y,w){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],A=h(m,y,C);A.rules.length?pO(A.absoluteUrls,{onBeforeSend:function(S,k,N){e.onBeforeSend(S,v,k)},onSuccess:function(S,k,N){var O=e.onSuccess(S,v,k);S=O===!1?"":O||S;var H=h(S,k,C);return H.rules.forEach(function(D,T){S=S.replace(D,H.absoluteRules[T])}),S},onError:function(S,k,N){x.push({xhr:S,url:k}),C.push(A.rules[N]),f(m,v,y,w,x,C)},onComplete:function(S){S.forEach(function(k,N){m=m.replace(A.rules[N],k)}),f(m,v,y,w,x,C)}}):w(m,x)}r.length?r.forEach(function(m,v){var y=m.getAttribute("href"),w=m.getAttribute("rel"),x=m.nodeName.toLowerCase()==="link"&&y&&w&&w.toLowerCase().indexOf("stylesheet")!==-1,C=e.skipDisabled===!1?!1:m.disabled,A=m.nodeName.toLowerCase()==="style";if(x&&!C){var L=y.indexOf("data:text/css")!==-1;if(L){var S=decodeURIComponent(y.substring(y.indexOf(",")+1));e.useCSSOM&&(S=Array.apply(null,m.sheet.cssRules).map(function(N){return N.cssText}).join("")),u(S,v,m,location.href)}else pO(y,{mimeType:"text/css",onBeforeSend:function(O,H,D){e.onBeforeSend(O,m,H)},onSuccess:function(O,H,D){var T=b3(y);u(O,v,m,T)},onError:function(O,H,D){a[v]="",e.onError(O,m,H),o()}})}else if(A&&!C){var k=m.textContent;e.useCSSOM&&(k=Array.apply(null,m.sheet.cssRules).map(function(N){return N.cssText}).join("")),u(k,v,m,location.href)}else a[v]="",o()}):e.onComplete("",[])}function b3(n,t){var e=document.implementation.createHTMLDocument(""),r=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(r),e.body.appendChild(a),r.href=t||document.baseURI||(document.querySelector("base")||{}).href||location.href,a.href=n,a.href}function qie(n,t){var e=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return e.call(n,t)}var UL=PL;function PL(n,t,e){n instanceof RegExp&&(n=_O(n,e)),t instanceof RegExp&&(t=_O(t,e));var r=FL(n,t,e);return r&&{start:r[0],end:r[1],pre:e.slice(0,r[0]),body:e.slice(r[0]+n.length,r[1]),post:e.slice(r[1]+t.length)}}function _O(n,t){var e=t.match(n);return e?e[0]:null}PL.range=FL;function FL(n,t,e){var r,a,o,u,h,f=e.indexOf(n),m=e.indexOf(t,f+1),v=f;if(f>=0&&m>0){if(n===t)return[f,m];for(r=[],o=e.length;v>=0&&!h;)v==f?(r.push(v),f=e.indexOf(n,v+1)):r.length==1?h=[r.pop(),m]:(a=r.pop(),a<o&&(o=a,u=m),m=e.indexOf(t,v+1)),v=f<m&&f>=0?f:m;r.length&&(h=[o,u])}return h}function dk(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={preserveStatic:!0,removeComments:!1},r=ts({},e,t),a=[];function o(B){throw new Error("CSS parse error: ".concat(B))}function u(B){var Q=B.exec(n);if(Q)return n=n.slice(Q[0].length),Q}function h(){return u(/^{\s*/)}function f(){return u(/^}/)}function m(){u(/^\s*/)}function v(){if(m(),!(n[0]!=="/"||n[1]!=="*")){for(var B=2;n[B]&&(n[B]!=="*"||n[B+1]!=="/");)B++;if(!n[B])return o("end of comment is missing");var Q=n.slice(2,B);return n=n.slice(B+2),{type:"comment",comment:Q}}}function y(){for(var B=[],Q;Q=v();)B.push(Q);return r.removeComments?[]:B}function w(){for(m();n[0]==="}";)o("extra closing bracket");var B=u(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(B){var Q=B[0].trim(),ie,j=/\/\*/.test(Q);j&&(Q=Q.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var me=/["']\w*,\w*["']/.test(Q);me&&(Q=Q.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(oe){return oe.replace(/,/g,"")}));var ae=/,/.test(Q);return ae?ie=Q.split(/\s*(?![^(]*\)),\s*/):ie=[Q],me&&(ie=ie.map(function(oe){return oe.replace(/\u200C/g,",")})),ie}}function x(){if(n[0]==="@")return z();u(/^([;\s]*)+/);var B=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Q=u(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(Q){if(Q=Q[0].trim(),!u(/^:\s*/))return o("property missing ':'");var ie=u(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),j={type:"declaration",property:Q.replace(B,""),value:ie?ie[0].replace(B,"").trim():""};return u(/^[;\s]*/),j}}function C(){if(!h())return o("missing '{'");for(var B,Q=y();B=x();)Q.push(B),Q=Q.concat(y());return f()?Q:o("missing '}'")}function A(){m();for(var B=[],Q;Q=u(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)B.push(Q[1]),u(/^,\s*/);if(B.length)return{type:"keyframe",values:B,declarations:C()}}function L(){var B=u(/^@([-\w]+)?keyframes\s*/);if(B){var Q=B[1];if(B=u(/^([-\w]+)\s*/),!B)return o("@keyframes missing name");var ie=B[1];if(!h())return o("@keyframes missing '{'");for(var j,me=y();j=A();)me.push(j),me=me.concat(y());return f()?{type:"keyframes",name:ie,vendor:Q,keyframes:me}:o("@keyframes missing '}'")}}function S(){var B=u(/^@page */);if(B){var Q=w()||[];return{type:"page",selectors:Q,declarations:C()}}}function k(){var B=u(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(B){var Q="".concat(B[1],"-").concat(B[2])+(B[3]?"-".concat(B[3]):"");return{type:"page-margin-box",name:Q,declarations:C()}}}function N(){var B=u(/^@font-face\s*/);if(B)return{type:"font-face",declarations:C()}}function O(){var B=u(/^@supports *([^{]+)/);if(B)return{type:"supports",supports:B[1].trim(),rules:pe()}}function H(){var B=u(/^@host\s*/);if(B)return{type:"host",rules:pe()}}function D(){var B=u(/^@media([^{]+)*/);if(B)return{type:"media",media:(B[1]||"").trim(),rules:pe()}}function T(){var B=u(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(B)return{type:"custom-media",name:B[1].trim(),media:B[2].trim()}}function M(){var B=u(/^@([-\w]+)?document *([^{]+)/);if(B)return{type:"document",document:B[2].trim(),vendor:B[1]?B[1].trim():null,rules:pe()}}function q(){var B=u(/^@(import|charset|namespace)\s*([^;]+);/);if(B)return{type:B[1],name:B[2].trim()}}function z(){if(m(),n[0]==="@"){var B=q()||N()||D()||L()||O()||M()||T()||H()||S()||k();if(B&&!r.preserveStatic){var Q=!1;if(B.declarations)Q=B.declarations.some(function(j){return/var\(/.test(j.value)});else{var ie=B.keyframes||B.rules||[];Q=ie.some(function(j){return(j.declarations||[]).some(function(me){return/var\(/.test(me.value)})})}return Q?B:{}}return B}}function re(){if(!r.preserveStatic){var B=UL("{","}",n);if(B){var Q=/:(?:root|host)(?![.:#(])/.test(B.pre)&&/--\S*\s*:/.test(B.body),ie=/var\(/.test(B.body);if(!Q&&!ie)return n=n.slice(B.end+1),{}}}var j=w()||[],me=r.preserveStatic?C():C().filter(function(ae){var oe=j.some(function(Re){return/:(?:root|host)(?![.:#(])/.test(Re)})&&/^--\S/.test(ae.property),ve=/var\(/.test(ae.value);return oe||ve});return j.length||o("selector missing"),{type:"rule",selectors:j,declarations:me}}function pe(B){if(!B&&!h())return o("missing '{'");for(var Q,ie=y();n.length&&(B||n[0]!=="}")&&(Q=z()||re());)Q.type&&ie.push(Q),ie=ie.concat(y());return!B&&!f()?o("missing '}'"):ie}return{type:"stylesheet",stylesheet:{rules:pe(!0),errors:a}}}function mO(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={parseHost:!1,store:{},onWarning:function(){}},r=ts({},e,t),a=new RegExp(":".concat(r.parseHost?"host":"root","$"));return typeof n=="string"&&(n=dk(n,r)),n.stylesheet.rules.forEach(function(o){o.type!=="rule"||!o.selectors.some(function(u){return a.test(u)})||o.declarations.forEach(function(u,h){var f=u.property,m=u.value;f&&f.indexOf("--")===0&&(r.store[f]=m)})}),r.store}function HL(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e=arguments.length>2?arguments[2]:void 0,r={charset:function(u){return"@charset "+u.name+";"},comment:function(u){return u.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+u.comment+"*/":""},"custom-media":function(u){return"@custom-media "+u.name+" "+u.media+";"},declaration:function(u){return u.property+":"+u.value+";"},document:function(u){return"@"+(u.vendor||"")+"document "+u.document+"{"+a(u.rules)+"}"},"font-face":function(u){return"@font-face{"+a(u.declarations)+"}"},host:function(u){return"@host{"+a(u.rules)+"}"},import:function(u){return"@import "+u.name+";"},keyframe:function(u){return u.values.join(",")+"{"+a(u.declarations)+"}"},keyframes:function(u){return"@"+(u.vendor||"")+"keyframes "+u.name+"{"+a(u.keyframes)+"}"},media:function(u){return"@media "+u.media+"{"+a(u.rules)+"}"},namespace:function(u){return"@namespace "+u.name+";"},page:function(u){return"@page "+(u.selectors.length?u.selectors.join(", "):"")+"{"+a(u.declarations)+"}"},"page-margin-box":function(u){return"@"+u.name+"{"+a(u.declarations)+"}"},rule:function(u){var h=u.declarations;if(h.length)return u.selectors.join(",")+"{"+a(h)+"}"},supports:function(u){return"@supports "+u.supports+"{"+a(u.rules)+"}"}};function a(o){for(var u="",h=0;h<o.length;h++){var f=o[h];e&&e(f);var m=r[f.type](f);m&&(u+=m,m.length&&f.selectors&&(u+=t))}return u}return a(n.stylesheet.rules)}function BL(n,t){n.rules.forEach(function(e){if(e.rules){BL(e,t);return}if(e.keyframes){e.keyframes.forEach(function(r){r.type==="keyframe"&&t(r.declarations,e)});return}e.declarations&&t(e.declarations,n)})}var jie="--",Kie="var";function Wie(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=ts({},e,t);return typeof n=="string"&&(n=dk(n,r)),BL(n.stylesheet,function(a,o){for(var u=0;u<a.length;u++){var h=a[u],f=h.type,m=h.property,v=h.value;if(f==="declaration"){if(!r.preserveVars&&m&&m.indexOf(jie)===0){a.splice(u,1),u--;continue}if(v.indexOf(Kie+"(")!==-1){var y=of(v,r);y!==h.value&&(y=Qie(y),r.preserveVars?(a.splice(u,0,{type:f,property:m,value:y}),u++):h.value=y)}}}}),HL(n)}function Qie(n){var t=/calc\(([^)]+)\)/g;return(n.match(t)||[]).forEach(function(e){var r="calc".concat(e.split("calc").join(""));n=n.replace(e,r)}),n}function of(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;if(n.indexOf("var(")===-1)return n;var r=UL("(",")",n);function a(u){var h=u.split(",")[0].replace(/[\s\n\t]/g,""),f=(u.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],m=Object.prototype.hasOwnProperty.call(t.variables,h)?String(t.variables[h]):void 0,v=m||(f?String(f):void 0),y=e||u;return m||t.onWarning('variable "'.concat(h,'" is undefined')),v&&v!=="undefined"&&v.length>0?of(v,t,y):"var(".concat(y,")")}if(r)if(r.pre.slice(-3)==="var"){var o=r.body.trim().length===0;return o?(t.onWarning("var() must contain a non-whitespace string"),n):r.pre.slice(0,-3)+a(r.body)+of(r.post,t)}else return r.pre+"(".concat(of(r.body,t),")")+of(r.post,t);else return n.indexOf("var(")!==-1&&t.onWarning('missing closing ")" in the value "'.concat(n,'"')),n}var Bb=typeof window<"u",vO=Bb&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),pd={group:0,job:0},Ov={rootElement:Bb?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},el={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},bi={dom:{},job:{},user:{}},_g=!1,Cs=null,lf=0,ox=null,lx=!1;/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */function Wl(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="cssVars(): ",e=ts({},Ov,n);function r(v,y,w,x){!e.silent&&window.console&&console.error("".concat(t).concat(v,`
`),y),e.onError(v,y,w,x)}function a(v){!e.silent&&window.console&&console.warn("".concat(t).concat(v)),e.onWarning(v)}function o(v){e.onFinally(!!v,vO,y3()-e.__benchmark)}if(Bb){if(e.watch){e.watch=Ov.watch,Yie(e),Wl(e);return}else e.watch===!1&&Cs&&(Cs.disconnect(),Cs=null);if(!e.__benchmark){if(_g===e.rootElement){Xie(n);return}var u=[].slice.call(e.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(e.__benchmark=y3(),e.exclude=[Cs?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",e.exclude].filter(function(v){return v}).join(","),e.variables=eae(e.variables),u.forEach(function(v){var y=v.nodeName.toLowerCase()==="style"&&v.__cssVars.text,w=y&&v.textContent!==v.__cssVars.text;y&&w&&(v.sheet&&(v.sheet.disabled=!1),v.setAttribute("data-cssvars",""))}),!Cs){var h=[].slice.call(e.rootElement.querySelectorAll('[data-cssvars="out"]'));h.forEach(function(v){var y=v.getAttribute("data-cssvars-group"),w=y?e.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(y,'"]')):null;w||v.parentNode.removeChild(v)}),lf&&u.length<lf&&(lf=u.length,bi.dom={})}}if(document.readyState!=="loading")if(vO&&e.onlyLegacy){var f=!1;if(e.updateDOM){var m=e.rootElement.host||(e.rootElement===document?document.documentElement:e.rootElement);Object.keys(e.variables).forEach(function(v){var y=e.variables[v];f=f||y!==getComputedStyle(m).getPropertyValue(v),m.style.setProperty(v,y)})}o(f)}else!lx&&(e.shadowDOM||e.rootElement.shadowRoot||e.rootElement.host)?fO({rootElement:Ov.rootElement,include:Ov.include,exclude:e.exclude,skipDisabled:!1,onSuccess:function(y,w,x){var C=(w.sheet||{}).disabled&&!w.__cssVars;return C?!1:(y=y.replace(el.cssComments,"").replace(el.cssMediaQueries,""),y=(y.match(el.cssVarDeclRules)||[]).join(""),y||!1)},onComplete:function(y,w,x){mO(y,{store:bi.dom,onWarning:a}),lx=!0,Wl(e)}}):(_g=e.rootElement,fO({rootElement:e.rootElement,include:e.include,exclude:e.exclude,skipDisabled:!1,onBeforeSend:e.onBeforeSend,onError:function(y,w,x){var C=y.responseURL||$L(x,location.href),A=y.statusText?"(".concat(y.statusText,")"):"Unspecified Error"+(y.status===0?" (possibly CORS related)":""),L="CSS XHR Error: ".concat(C," ").concat(y.status," ").concat(A);r(L,w,y,C)},onSuccess:function(y,w,x){var C=(w.sheet||{}).disabled&&!w.__cssVars;if(C)return!1;var A=w.nodeName.toLowerCase()==="link",L=w.nodeName.toLowerCase()==="style"&&y!==w.textContent,S=e.onSuccess(y,w,x);return y=S!==void 0&&!S?"":S||y,e.updateURLs&&(A||L)&&(y=Jie(y,x)),y},onComplete:function(y,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],C=ts({},bi.dom,bi.user),A=!1;if(bi.job={},x.forEach(function(T,M){var q=w[M];if(T.__cssVars=T.__cssVars||{},T.__cssVars.text=q,el.cssVars.test(q))try{var z=dk(q,{preserveStatic:e.preserveStatic,removeComments:!0});mO(z,{parseHost:!!e.rootElement.host,store:bi.dom,onWarning:a}),T.__cssVars.tree=z}catch(re){r(re.message,T)}}),ts(bi.job,bi.dom),e.updateDOM?(ts(bi.user,e.variables),ts(bi.job,bi.user)):(ts(bi.job,bi.user,e.variables),ts(C,e.variables)),A=pd.job>0&&!!(Object.keys(bi.job).length>Object.keys(C).length||Object.keys(C).length&&Object.keys(bi.job).some(function(T){return bi.job[T]!==C[T]})),A)cx(e.rootElement),Wl(e);else{var L=[],S=[],k=!1;if(e.updateDOM&&pd.job++,x.forEach(function(T,M){var q=!T.__cssVars.tree;if(T.__cssVars.tree)try{Wie(T.__cssVars.tree,ts({},e,{variables:bi.job,onWarning:a}));var z=HL(T.__cssVars.tree);if(e.updateDOM){var re=w[M],pe=el.cssVarFunc.test(re);if(T.getAttribute("data-cssvars")||T.setAttribute("data-cssvars","src"),z.length&&pe){var B=T.getAttribute("data-cssvars-group")||++pd.group,Q=z.replace(/\s/g,""),ie=e.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(B,'"]'))||document.createElement("style");k=k||el.cssKeyframes.test(z),e.preserveStatic&&T.sheet&&(T.sheet.disabled=!0),ie.hasAttribute("data-cssvars")||ie.setAttribute("data-cssvars","out"),Q===T.textContent.replace(/\s/g,"")?(q=!0,ie&&ie.parentNode&&(T.removeAttribute("data-cssvars-group"),ie.parentNode.removeChild(ie))):Q!==ie.textContent.replace(/\s/g,"")&&([T,ie].forEach(function(j){j.setAttribute("data-cssvars-job",pd.job),j.setAttribute("data-cssvars-group",B)}),ie.textContent=z,L.push(z),S.push(ie),ie.parentNode||T.parentNode.insertBefore(ie,T.nextSibling))}}else T.textContent.replace(/\s/g,"")!==z&&L.push(z)}catch(j){r(j.message,T)}q&&T.setAttribute("data-cssvars","skip"),T.hasAttribute("data-cssvars-job")||T.setAttribute("data-cssvars-job",pd.job)}),lf=e.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,e.shadowDOM){for(var N=[].concat(e.rootElement).concat([].slice.call(e.rootElement.querySelectorAll("*"))),O=0,H;H=N[O];++O)if(H.shadowRoot&&H.shadowRoot.querySelector("style")){var D=ts({},e,{rootElement:H.shadowRoot});Wl(D)}}e.updateDOM&&k&&Zie(e.rootElement),_g=!1,e.onComplete(L.join(""),S,JSON.parse(JSON.stringify(bi.job)),y3()-e.__benchmark),o(S.length)}}}));else document.addEventListener("DOMContentLoaded",function v(y){Wl(n),document.removeEventListener("DOMContentLoaded",v)})}}Wl.reset=function(){pd.job=0,pd.group=0,_g=!1,Cs&&(Cs.disconnect(),Cs=null),lf=0,ox=null,lx=!1;for(var n in bi)bi[n]={}};function Yie(n){function t(f){var m=e(f)&&f.hasAttribute("disabled"),v=(f.sheet||{}).disabled;return m||v}function e(f){var m=f.nodeName.toLowerCase()==="link"&&(f.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return m}function r(f){return f.nodeName.toLowerCase()==="style"}function a(f){var m=!1;if(f.type==="attributes"&&e(f.target)&&!t(f.target)){var v=f.attributeName==="disabled",y=f.attributeName==="href",w=f.target.getAttribute("data-cssvars")==="skip",x=f.target.getAttribute("data-cssvars")==="src";v?m=!w&&!x:y&&(w?f.target.setAttribute("data-cssvars",""):x&&cx(n.rootElement,!0),m=!0)}return m}function o(f){var m=!1;if(f.type==="childList"){var v=r(f.target),y=f.target.getAttribute("data-cssvars")==="out";m=v&&!y}return m}function u(f){var m=!1;return f.type==="childList"&&(m=[].slice.call(f.addedNodes).some(function(v){var y=v.nodeType===1,w=y&&v.hasAttribute("data-cssvars"),x=r(v)&&el.cssVars.test(v.textContent),C=!w&&(e(v)||x);return C&&!t(v)})),m}function h(f){var m=!1;return f.type==="childList"&&(m=[].slice.call(f.removedNodes).some(function(v){var y=v.nodeType===1,w=y&&v.getAttribute("data-cssvars")==="out",x=y&&v.getAttribute("data-cssvars")==="src",C=x;if(x||w){var A=v.getAttribute("data-cssvars-group"),L=n.rootElement.querySelector('[data-cssvars-group="'.concat(A,'"]'));x&&cx(n.rootElement,!0),L&&L.parentNode.removeChild(L)}return C})),m}window.MutationObserver&&(Cs&&(Cs.disconnect(),Cs=null),Cs=new MutationObserver(function(f){var m=f.some(function(v){return a(v)||o(v)||u(v)||h(v)});m&&Wl(n)}),Cs.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function Xie(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(ox),ox=setTimeout(function(){n.__benchmark=null,Wl(n)},t)}function Zie(n){var t=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(w){return getComputedStyle(document.body)[w]})[0];if(t){for(var e=[].slice.call(n.querySelectorAll("*")),r=[],a="__CSSVARSPONYFILL-KEYFRAMES__",o=0,u=e.length;o<u;o++){var h=e[o],f=getComputedStyle(h)[t];f!=="none"&&(h.style[t]+=a,r.push(h))}document.body.offsetHeight;for(var m=0,v=r.length;m<v;m++){var y=r[m].style;y[t]=y[t].replace(a,"")}}}function Jie(n,t){var e=n.replace(el.cssComments,"").match(el.cssUrls)||[];return e.forEach(function(r){var a=r.replace(el.cssUrls,"$1"),o=$L(a,t);n=n.replace(r,r.replace(a,o))}),n}function eae(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=/^-{2}/;return Object.keys(n).reduce(function(e,r){var a=t.test(r)?r:"--".concat(r.replace(/^-+/,""));return e[a]=n[r],e},{})}function $L(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,e=document.implementation.createHTMLDocument(""),r=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(r),e.body.appendChild(a),r.href=t,a.href=n,a.href}function y3(){return Bb&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function cx(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=[].slice.call(n.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));e.forEach(function(r){return r.setAttribute("data-cssvars","")}),t&&(bi.dom={})}var nb=Symbol("@ts-pattern/matcher"),gO="@ts-pattern/anonymous-select-key",bO=function(n){return!!(n&&typeof n=="object")},E3=function(n){return n&&!!n[nb]},nae=function n(t,e,r){if(bO(t)){if(E3(t)){var a=t[nb]().match(e),o=a.matched,u=a.selections;return o&&u&&Object.keys(u).forEach(function(f){return r(f,u[f])}),o}if(!bO(e))return!1;if(Array.isArray(t))return!!Array.isArray(e)&&t.length===e.length&&t.every(function(f,m){return n(f,e[m],r)});if(t instanceof Map)return e instanceof Map&&Array.from(t.keys()).every(function(f){return n(t.get(f),e.get(f),r)});if(t instanceof Set){if(!(e instanceof Set))return!1;if(t.size===0)return e.size===0;if(t.size===1){var h=Array.from(t.values())[0];return E3(h)?Array.from(e.values()).every(function(f){return n(h,f,r)}):e.has(h)}return Array.from(t.values()).every(function(f){return e.has(f)})}return Object.keys(t).every(function(f){var m,v=t[f];return(f in e||E3(m=v)&&m[nb]().matcherType==="optional")&&n(v,e[f],r)})}return Object.is(e,t)};function Kd(n){var t;return(t={})[nb]=function(){return{match:function(e){return{matched:!!n(e)}}}},t}Kd(function(n){return!0});Kd(function(n){return typeof n=="string"});Kd(function(n){return typeof n=="number"});Kd(function(n){return typeof n=="boolean"});Kd(function(n){return typeof n=="bigint"});Kd(function(n){return typeof n=="symbol"});Kd(function(n){return n==null});function hk(n){return new tae(n,[])}var tae=function(){function n(e,r){this.value=void 0,this.cases=void 0,this.value=e,this.cases=r}var t=n.prototype;return t.with=function(){var e=[].slice.call(arguments),r=e[e.length-1],a=[e[0]],o=[];return e.length===3&&typeof e[1]=="function"?(a.push(e[0]),o.push(e[1])):e.length>2&&a.push.apply(a,e.slice(1,e.length-1)),new n(this.value,this.cases.concat([{match:function(u){var h={},f=!!(a.some(function(m){return nae(m,u,function(v,y){h[v]=y})})&&o.every(function(m){return m(u)}));return{matched:f,value:f&&Object.keys(h).length?gO in h?h[gO]:h:u}},handler:r}]))},t.when=function(e,r){return new n(this.value,this.cases.concat([{match:function(a){return{matched:!!e(a),value:a}},handler:r}]))},t.otherwise=function(e){return new n(this.value,this.cases.concat([{match:function(r){return{matched:!0,value:r}},handler:e}])).run()},t.exhaustive=function(){return this.run()},t.run=function(){for(var e=this.value,r=void 0,a=0;a<this.cases.length;a++){var o=this.cases[a],u=o.match(this.value);if(u.matched){e=u.value,r=o.handler;break}}if(!r){var h;try{h=JSON.stringify(this.value)}catch{h=this.value}throw new Error("Pattern matching error: no pattern matches value "+h)}return r(e,this.value)},n}();const kf={INIT_USER:"INIT_USER",RESET_USER:"RESET_USER",UPDATE_USER_INFO:"UPDATE_USER_INFO"};var ux=function(n,t){return ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])},ux(n,t)};function ne(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}ux(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Ee=function(){return Ee=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n},Ee.apply(this,arguments)};function rae(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]])}return e}function F(n,t,e,r){return new(e||(e=Promise))(function(a,o){function u(m){try{f(r.next(m))}catch(v){o(v)}}function h(m){try{f(r.throw(m))}catch(v){o(v)}}function f(m){var v;m.done?a(m.value):(v=m.value,v instanceof e?v:new e(function(y){y(v)})).then(u,h)}f((r=r.apply(n,t||[])).next())})}function P(n,t){var e,r,a,o,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function h(f){return function(m){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,v[0]&&(u=0)),u;)try{if(e=1,r&&(a=2&v[0]?r.return:v[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,v[1])).done)return a;switch(r=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,r=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!((a=a.length>0&&a[a.length-1])||v[0]!==6&&v[0]!==2)){u=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){u.label=v[1];break}if(v[0]===6&&u.label<a[1]){u.label=a[1],a=v;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(v);break}a[2]&&u.ops.pop(),u.trys.pop();continue}v=t.call(n,u)}catch(y){v=[6,y],r=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([f,m])}}}function kn(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qn(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r,a,o=e.call(n),u=[];try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(h){a={error:h}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(a)throw a.error}}return u}function nt(n,t,e){if(e||arguments.length===2)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return n.concat(r||Array.prototype.slice.call(t))}var xt,zL="4.8.1",Id=function(){function n(){}return Object.defineProperty(n,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_VERSION",{get:function(){return zL},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_MAJOR_VERSION",{get:function(){return n.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(n,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),n}();(function(n){n[n.STAT_LOG_NOT_ALLOWED=400108]="STAT_LOG_NOT_ALLOWED",n[n.NON_AUTHORIZED=400108]="NON_AUTHORIZED",n[n.INVALID_TOKEN=400111]="INVALID_TOKEN",n[n.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",n[n.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",n[n.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",n[n.STAT_UPLOAD_NOT_ALLOWED=403200]="STAT_UPLOAD_NOT_ALLOWED",n[n.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",n[n.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",n[n.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",n[n.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",n[n.LOST_INSTANCE=700100]="LOST_INSTANCE",n[n.CONNECTION_RENEW=700102]="CONNECTION_RENEW",n[n.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",n[n.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",n[n.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",n[n.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",n[n.INVALID_PARAMETER=800110]="INVALID_PARAMETER",n[n.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",n[n.NETWORK_ERROR=800120]="NETWORK_ERROR",n[n.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",n[n.MALFORMED_DATA=800130]="MALFORMED_DATA",n[n.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",n[n.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",n[n.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",n[n.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",n[n.ACK_TIMEOUT=800180]="ACK_TIMEOUT",n[n.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",n[n.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",n[n.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",n[n.REQUEST_FAILED=800220]="REQUEST_FAILED",n[n.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",n[n.REQUEST_CANCELED=800240]="REQUEST_CANCELED",n[n.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",n[n.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",n[n.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",n[n.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",n[n.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED",n[n.COLLECTION_DISPOSED=800600]="COLLECTION_DISPOSED",n[n.DATABASE_ERROR=800700]="DATABASE_ERROR"})(xt||(xt={}));var Ca,Ed,Ei,dx,Sf,cl=function(n){return!(n instanceof De&&!n.shouldThrowOutside)},De=function(n){function t(e){var r=e.code,a=r===void 0?0:r,o=e.message,u=n.call(this,o)||this;return u.shouldThrowOutside=!1,u.name="SendbirdError",u.code=a,Object.setPrototypeOf(u,t.prototype),u}return ne(t,n),Object.defineProperty(t.prototype,"isInvalidTokenError",{get:function(){return this.code===xt.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===xt.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===xt.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t,"debugModeRequired",{get:function(){return new t({code:xt.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"lostInstance",{get:function(){return new t({code:xt.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRenew",{get:function(){return new t({code:xt.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidConnectionStateTransition",{get:function(){return new t({code:xt.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRequired",{get:function(){return new t({code:xt.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionCanceled",{get:function(){return new t({code:xt.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidParameters",{get:function(){return new t({code:xt.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"notSupportedError",{get:function(){return new t({code:xt.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"networkError",{get:function(){return new t({code:xt.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"markAsReadAllRateLimitExceeded",{get:function(){return new t({code:xt.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"queryInProgress",{get:function(){return new t({code:xt.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noAckTimeout",{get:function(){return new t({code:xt.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"loginTimeout",{get:function(){return new t({code:xt.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionClosed",{get:function(){return new t({code:xt.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestFailed",{get:function(){return new t({code:xt.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fileUploadCanceled",{get:function(){return new t({code:xt.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestCanceled",{get:function(){return new t({code:xt.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRefreshFailed",{get:function(){return new t({code:xt.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRequestFailed",{get:function(){return new t({code:xt.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseError",{get:function(){return new t({code:xt.DATABASE_ERROR,message:"Database error."})},enumerable:!1,configurable:!0}),t.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},t}(Error),iae=[xt.CONNECTION_REQUIRED,xt.NETWORK_ERROR,xt.ACK_TIMEOUT,xt.WEBSOCKET_CONNECTION_CLOSED,xt.WEBSOCKET_CONNECTION_FAILED,xt.FILE_UPLOAD_CANCEL_FAILED,xt.REQUEST_CANCELED,xt.INTERNAL_SERVER_ERROR,xt.RATE_LIMIT_EXCEEDED,xt.UNKNOWN_SERVER_ERROR],aae=[xt.WEBSOCKET_CONNECTION_CLOSED,xt.WEBSOCKET_CONNECTION_FAILED,xt.CONNECTION_REQUIRED],VL=function(n,t){if(n!==t){var e=Ee({},n),r=Ee({},t);return(!e.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||e.messageId===r.messageId)&&(!e.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||e.reqId===r.reqId)&&(e.hasOwnProperty("messageId")&&delete e.messageId,e.hasOwnProperty("reqId")&&delete e.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(e)===JSON.stringify(r))}return!0},be=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||(typeof n!="string"?typeof n=="object"?_t(n,t):sae(n,t):typeof t===n)},_t=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||Object.values(n).includes(t)},sae=function(n,t){return t instanceof n},bt=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||Array.isArray(t)&&t.every(function(r){return be(n,r)})},oae=function(n){return n>0&&iae.indexOf(n)>=0},tb=function(n){return n>0&&aae.indexOf(n)>=0},Ii=function(n,t){if(t===void 0&&(t=!1),t&&n===null)return!0;var e=be("object",n)&&n!==null&&n.hasOwnProperty("name")&&typeof n.name=="string"&&n.hasOwnProperty("uri")&&typeof n.uri=="string"&&n.hasOwnProperty("type")&&typeof n.type=="string";if(!e){if(typeof Blob<"u")return n instanceof Blob;if(typeof File<"u")return n instanceof File}return e},lae=function(n,t){if(n===t)return!0;if(n==null||t==null||n.length!==t.length)return!1;for(var e=nt([],Qn(n),!1).sort(),r=nt([],Qn(t),!1).sort(),a=0;a<e.length;++a)if(e[a]!==r[a])return!1;return!0},GL=function(){function n(t){var e=t===void 0?{}:t,r=e.useMemberInfoInMessage,a=r===void 0||r,o=e.typingIndicatorInvalidateTime,u=o===void 0?1e4:o,h=e.typingIndicatorThrottle,f=h===void 0?1e3:h,m=e.websocketResponseTimeout,v=m===void 0?1e4:m,y=e.websocketPayloadDecompression,w=y===void 0||y,x=e.sessionTokenRefreshTimeout,C=x===void 0?60:x;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=a,this._typingIndicatorInvalidateTime=u,this._typingIndicatorThrottle=f,this._websocketResponseTimeout=v,this._sessionTokenRefreshTimeout=C,this.websocketPayloadDecompression=w}return Object.defineProperty(n.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(t){be("boolean",t)&&(this._useMemberInfoInMessage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(t){be("number",t)&&(this._typingIndicatorInvalidateTime=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(t){be("number",t)&&t>=1e3&&t<=9e3&&(this._typingIndicatorThrottle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(t){be("number",t)&&t>=5e3&&t<=3e4&&(this._websocketResponseTimeout=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(t){be("number",t)&&(t<60?t=60:t>1800&&(t=1800),this._sessionTokenRefreshTimeout=t)},enumerable:!1,configurable:!0}),n}(),qL={encrypt:function(n){return n},decrypt:function(n){return n}},cae=function(){function n(t){var e=t.store;this._preference=new Map,this._store=e}return n.prototype._savePreferenceKeys=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._store.set({key:this._keysAddress,value:nt([],Qn(this._preference.keys()),!1),generation:1})];case 1:return t.sent(),[2]}})})},n.prototype.init=function(t,e){var r;return e===void 0&&(e=1),F(this,void 0,void 0,function(){var a,o,u,h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:return this._version=e,this._keysAddress=t,a="".concat(t,".metadata.version"),[4,this._store.get(a)];case 1:return o=C.sent(),[4,this._store.get(t)];case 2:return u=(r=C.sent())!==null&&r!==void 0?r:[],!o||o.version<this._version?[4,this._resetPreferenceData(u,a)]:[3,4];case 3:return C.sent(),[3,11];case 4:C.trys.push([4,9,10,11]),h=kn(u),f=h.next(),C.label=5;case 5:return f.done?[3,8]:(m=f.value,[4,this._store.get(m)]);case 6:(v=C.sent())&&this._preference.set(m,v),C.label=7;case 7:return f=h.next(),[3,5];case 8:return[3,11];case 9:return y=C.sent(),w={error:y},[3,11];case 10:try{f&&!f.done&&(x=h.return)&&x.call(h)}finally{if(w)throw w.error}return[7];case 11:return[2]}})})},n.prototype._resetPreferenceData=function(t,e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this._preference=new Map,[4,this._store.removeMany(t)];case 1:return r.sent(),[4,this._store.set({key:e,value:{version:this._version},generation:1})];case 2:return r.sent(),[2]}})})},n.prototype.get=function(t){var e;return F(this,void 0,void 0,function(){return P(this,function(r){return[2,(e=this._preference.get(t))!==null&&e!==void 0?e:null]})})},n.prototype.set=function(t,e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=!this._preference.has(t),[4,this._store.set({key:t,value:e,generation:1})];case 1:return a.sent(),this._preference.set(t,e),r?[4,this._savePreferenceKeys()]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.remove=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._store.remove(t)];case 1:return e.sent(),this._preference.delete(t),[4,this._savePreferenceKeys()];case 2:return e.sent(),[2]}})})},n.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._store.removeMany(nt([],Qn(this._preference.keys()),!1))];case 1:return t.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}})})},n}(),uae=function(n){var t=n.encryption,e=t===void 0?null:t,r=n.store,a=r===void 0?null:r,o=n.localCacheEnabled,u=o===void 0||o,h=n.localCacheConfig,f=h===void 0?null:h;this.nestdb=null,this.store=a,this.preference=new cae({store:a}),this.encryption=e??qL,this.localCacheEnabled=u,this.localCacheConfig=f};(function(n){n.SUCCESS="success",n.PENDING="pending",n.ERROR="error"})(Ca||(Ca={})),function(n){n.DEFAULT="default",n.ALL="all",n.MENTION_ONLY="mention_only",n.OFF="off"}(Ed||(Ed={})),function(n){n.FCM="gcm",n.APNS="apns",n.UNKNOWN="unknown"}(Ei||(Ei={})),function(n){n.ALTERNATIVE="alternative",n.DEFAULT="default"}(dx||(dx={})),function(n){n.CUSTOM="custom",n.MESSAGE_COLLECTION_ACCESSED_AT="messagecollection_accessed_at"}(Sf||(Sf={}));var hn,dae=function(){function n(t){var e=t.channel,r=t.cachedMessageCount;this._channel=null,this._cachedMessageCount=0,this._channel=e,this._cachedMessageCount=r}return Object.defineProperty(n.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedMessageCount",{get:function(){return this._cachedMessageCount},enumerable:!1,configurable:!0}),n}(),jL=function(){function n(t){var e=t===void 0?{}:t,r=e.maxSize,a=r===void 0?256:r,o=e.clearOrder,u=o===void 0?Sf.MESSAGE_COLLECTION_ACCESSED_AT:o,h=e.customClearOrderComparator,f=h===void 0?null:h;this._customClearOrderComparator=null,this._clearOrderComparatorUseMessageCollectionAccessedAt=function(m,v){return m.channel.messageCollectionLastAccessedAt===v.channel.messageCollectionLastAccessedAt?m.channel.lastMessage&&!v.channel.lastMessage?1:!m.channel.lastMessage&&v.channel.lastMessage?-1:m.channel.lastMessage.createdAt-v.channel.lastMessage.createdAt:m.channel.messageCollectionLastAccessedAt>v.channel.messageCollectionLastAccessedAt?1:-1},this._maxSize=Math.max(a,64),f?(this._clearOrder=u,this._customClearOrderComparator=f):this._clearOrder=Sf.MESSAGE_COLLECTION_ACCESSED_AT}return Object.defineProperty(n.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clearOrder",{get:function(){return this._clearOrder},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clearOrderComparator",{get:function(){var t;return this._clearOrder===Sf.MESSAGE_COLLECTION_ACCESSED_AT?this._clearOrderComparatorUseMessageCollectionAccessedAt:(t=this._customClearOrderComparator)!==null&&t!==void 0?t:this._clearOrderComparatorUseMessageCollectionAccessedAt},enumerable:!1,configurable:!0}),n}(),hae=function(){function n(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(n.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),n.prototype.clear=function(){this.authToken=null,this.sessionKey=null},n}(),Tu=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(t==="x"?e:3&e|8).toString(16)})},yO=function(){function n(t){var e=t.container;this._container={},this._container=e,this.key=Tu()}return n.prototype._register=function(t,e,r){return t in this._container||(this._container[t]=new Map),this._container[t].set(this.key,{occurence:e,handler:r}),this},n.prototype.on=function(t,e){return this._register(t,-1,e)},n.prototype.once=function(t,e){return this._register(t,1,e)},n.prototype.close=function(){for(var t in this._container)this._container[t].delete(this.key)},n}(),Wd=function(){function n(){this._container={}}return n.prototype.on=function(t,e){return new yO({container:this._container}).on(t,e)},n.prototype.once=function(t,e){return new yO({container:this._container}).once(t,e)},n.prototype.dispatch=function(t,e){var r,a,o=this._container[t];if(o){var u=[];try{for(var h=kn(o.keys()),f=h.next();!f.done;f=h.next()){var m=f.value,v=o.get(m);v.handler(e),v.occurence>0&&(v.occurence--,v.occurence===0&&u.push(m))}}catch(y){r={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}u.forEach(function(y){return o.delete(y)})}},n}(),pae=function(){function n(){this._dispatcher=new Wd}return n.prototype.on=function(t){return this._dispatcher.on("event",t)},n.prototype.once=function(t){return this._dispatcher.once("event",t)},n.prototype.dispatch=function(t){this._dispatcher.dispatch("event",t)},n}(),di=function(){},at=function(n){var t={};return n&&Object.keys(n).forEach(function(e){n[e]===void 0||Number.isNaN(n[e])||n[e]===null||(t[e]=n[e])}),t};(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE"})(hn||(hn={}));var hl,fn=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.params={},e.requireAuth=!0,e.headers={},e.requestId=Tu(),e}return ne(t,n),t.prototype.stringifyParams=function(e){return typeof e!="object"||Array.isArray(e)?String(e):e?JSON.stringify(e):""},t.prototype.encodeParams=function(e){var r=this;return e==null||e===""?encodeURIComponent(""):Array.isArray(e)?e.map(function(a){return r.encodeParams(a)}).join(","):encodeURIComponent(typeof e=="object"?JSON.stringify(e):String(e))},Object.defineProperty(t.prototype,"query",{get:function(){var e=this,r=at(this.params);return"?".concat(Object.keys(r).map(function(a){return"".concat(encodeURIComponent(a),"=").concat(e.encodeParams(r[a]))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payload",{get:function(){var e=this,r=at(this.params);if(Object.keys(r).some(function(o){return Ii(r[o])})){var a=new FormData;return Object.keys(r).forEach(function(o){var u,h=r[o];if(Ii(h)){var f=h;a.append(o,f,(u=f.name)!==null&&u!==void 0?u:"filename")}else a.append(o,e.stringifyParams(h))}),a}return JSON.stringify(r)},enumerable:!1,configurable:!0}),t}(di),vn=function(n){function t(e,r){var a=n.call(this)||this;return a._iid=e,a._payload=r,a}return ne(t,n),Object.defineProperty(t.prototype,"payload",{get:function(){return Ee({},this._payload)},enumerable:!1,configurable:!0}),t.prototype.as=function(e){return new e(this._iid,this.payload)},t}(di),fae=function(n){function t(e){var r=n.call(this)||this;return r.requestId=e,r}return ne(t,n),t}(di),$b=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),t}(di),pk=function(n){function t(e){var r=n.call(this)||this;return r.statLog=e,r}return ne(t,n),t}(di);(function(n){n.FEATURE_LOCALCACHE="feature:local_cache",n.WEBSOCKET_CONNECT="ws:connect",n.API_RESULT="api:result"})(hl||(hl={}));var y0=function(){function n(t){var e=t.type,r=t.data,a=t.ts,o=a===void 0?Date.now():a;this.type=e,this.createdAt=o,this.data=r}return n.payloadify=function(t){return at({stat_type:t.type,ts:t.createdAt,data:at(t.data)})},n}(),KL=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},_ae=function(){function n(t,e){var r=e.auth,a=e.sdkState,o=e.dispatcher,u=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,m=this;this._abortControl=new Map,this._shouldImportFetchCompat=!1,this._iid=t,this._auth=r,this._sdkState=a,this._dispatcher=o,this._dispatcher.on(function(v){v instanceof fae&&m.cancel(v.requestId)}),this._logger=u,this._shouldImportFetchCompat=f}return Object.defineProperty(n.prototype,"_userAgentWithExtension",{get:function(){var t=this._sdkState.extensions,e=KL()?"reactnative":"JS",r=t.sb_syncmanager?"s".concat(t.sb_syncmanager):"",a=t.sb_uikit?"u".concat(t.sb_uikit):"",o=t["device-os-platform"]?"o".concat(t["device-os-platform"]):"";return"".concat(e,"/c").concat(Id.SDK_VERSION,"/").concat(r,"/").concat(a,"/").concat(o)},enumerable:!1,configurable:!0}),n.prototype._createHeader=function(t,e){e===void 0&&(e=null);var r=this._sdkState,a=r.appId,o=r.appVersion,u=Ee(Ee({},t.headers),{SendBird:"JS,".concat(Id.OS_VERSION,",").concat(Id.SDK_VERSION,",").concat(a).concat(o?",".concat(o):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return e||(u["Content-Type"]="application/json; charset=utf-8"),t.requireAuth&&this._auth.hasSession&&(u["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(u["App-Id"]=a,u["Access-Token"]=this._auth.authToken),u},n.prototype._statLogApiResult=function(t,e,r){this._dispatcher.dispatch(new pk(new y0({type:hl.API_RESULT,data:{endpoint:t.path,method:t.method,success:!r,latency:Date.now()-e,error_code:r==null?void 0:r.code,error_description:r==null?void 0:r.message}})))},n.prototype.send=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w,x,C,A,L;return P(this,function(S){switch(S.label){case 0:e=t.path,r=t.method,a=![hn.GET,hn.DELETE].includes(r),o=this._sdkState.api,u="".concat(o.host).concat(e).concat(a?"":t.query),h=a?t.payload:null,f=this._createHeader(t,h instanceof FormData?h:null),m=new AbortController,v=m.signal,this._abortControl.set(t.requestId,m),y=Date.now(),S.label=1;case 1:return S.trys.push([1,8,,9]),this._shouldImportFetchCompat&&(this._shouldImportFetchCompat=!1,(typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{fetch:null}).fetch=void 0),typeof AbortController<"u"?[3,3]:[4,Promise.resolve().then(function(){return Tbe})];case 2:S.sent(),S.label=3;case 3:return typeof fetch=="function"?[3,5]:[4,Promise.resolve().then(function(){return Mbe})];case 4:S.sent(),S.label=5;case 5:return[4,fetch(u,{method:r,body:h,headers:f,signal:v})];case 6:return[4,(w=S.sent()).json()];case 7:if(x=S.sent(),w.ok||w.redirected)return this._logger.debug("receive api response",t.requestId),this._statLogApiResult(t,y,null),[2,new vn(this._iid,x)];throw x?(C=new De(x),!t.requireAuth&&C.isSessionKeyExpiredError&&this._dispatcher.dispatch(new $b),this._statLogApiResult(t,y,C),C):(C=De.requestFailed,this._statLogApiResult(t,y,C),C);case 8:throw A=S.sent(),this._statLogApiResult(t,y,A),A instanceof De?(this._logger.debug("fail api request",A),A):A.name==="AbortError"?De.requestCanceled:(L=De.networkError,this._logger.debug("fail api request",L),L);case 9:return[2]}})})},n.prototype.cancel=function(t){this._abortControl.has(t)&&(this._abortControl.get(t).abort(),this._abortControl.delete(t))},n.prototype.cancelAll=function(){var t,e;try{for(var r=kn(this._abortControl.values()),a=r.next();!a.done;a=r.next())a.value.abort()}catch(o){t={error:o}}finally{try{a&&!a.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this._abortControl.clear()},n}(),or=function(n){function t(e,r,a,o){o===void 0&&(o="");var u=n.call(this)||this;return u._iid=e,u.code=r,u.payload=a,u.requestId=a?a.req_id:o,u}return ne(t,n),t.createFromRawMessage=function(e,r){var a=r.substring(0,4),o=null;try{o=JSON.parse(r.substring(4))}catch{a="NOOP"}finally{return new t(e,a,o)}},t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},t.prototype.as=function(e){return new e(this._iid,this.code,this.payload)},t}(di),gt=function(){};function O0(n){let t=n.length;for(;--t>=0;)n[t]=0}const fk=256,WL=286,Tf=30,Cf=15,hx=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),mg=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),mae=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),EO=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bl=new Array(576);O0(Bl);const If=new Array(60);O0(If);const c_=new Array(512);O0(c_);const Nf=new Array(256);O0(Nf);const _k=new Array(29);O0(_k);const rb=new Array(Tf);function w3(n,t,e,r,a){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=r,this.max_length=a,this.has_stree=n&&n.length}let wO,xO,kO;function x3(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}O0(rb);const QL=n=>n<256?c_[n]:c_[256+(n>>>7)],u_=(n,t)=>{n.pending_buf[n.pending++]=255&t,n.pending_buf[n.pending++]=t>>>8&255},as=(n,t,e)=>{n.bi_valid>16-e?(n.bi_buf|=t<<n.bi_valid&65535,u_(n,n.bi_buf),n.bi_buf=t>>16-n.bi_valid,n.bi_valid+=e-16):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)},il=(n,t,e)=>{as(n,e[2*t],e[2*t+1])},YL=(n,t)=>{let e=0;do e|=1&n,n>>>=1,e<<=1;while(--t>0);return e>>>1},XL=(n,t,e)=>{const r=new Array(16);let a,o,u=0;for(a=1;a<=Cf;a++)u=u+e[a-1]<<1,r[a]=u;for(o=0;o<=t;o++){let h=n[2*o+1];h!==0&&(n[2*o]=YL(r[h]++,h))}},ZL=n=>{let t;for(t=0;t<WL;t++)n.dyn_ltree[2*t]=0;for(t=0;t<Tf;t++)n.dyn_dtree[2*t]=0;for(t=0;t<19;t++)n.bl_tree[2*t]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},JL=n=>{n.bi_valid>8?u_(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},SO=(n,t,e,r)=>{const a=2*t,o=2*e;return n[a]<n[o]||n[a]===n[o]&&r[t]<=r[e]},k3=(n,t,e)=>{const r=n.heap[e];let a=e<<1;for(;a<=n.heap_len&&(a<n.heap_len&&SO(t,n.heap[a+1],n.heap[a],n.depth)&&a++,!SO(t,r,n.heap[a],n.depth));)n.heap[e]=n.heap[a],e=a,a<<=1;n.heap[e]=r},TO=(n,t,e)=>{let r,a,o,u,h=0;if(n.sym_next!==0)do r=255&n.pending_buf[n.sym_buf+h++],r+=(255&n.pending_buf[n.sym_buf+h++])<<8,a=n.pending_buf[n.sym_buf+h++],r===0?il(n,a,t):(o=Nf[a],il(n,o+fk+1,t),u=hx[o],u!==0&&(a-=_k[o],as(n,a,u)),r--,o=QL(r),il(n,o,e),u=mg[o],u!==0&&(r-=rb[o],as(n,r,u)));while(h<n.sym_next);il(n,256,t)},S3=(n,t)=>{const e=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.elems;let u,h,f,m=-1;for(n.heap_len=0,n.heap_max=573,u=0;u<o;u++)e[2*u]!==0?(n.heap[++n.heap_len]=m=u,n.depth[u]=0):e[2*u+1]=0;for(;n.heap_len<2;)f=n.heap[++n.heap_len]=m<2?++m:0,e[2*f]=1,n.depth[f]=0,n.opt_len--,a&&(n.static_len-=r[2*f+1]);for(t.max_code=m,u=n.heap_len>>1;u>=1;u--)k3(n,e,u);f=o;do u=n.heap[1],n.heap[1]=n.heap[n.heap_len--],k3(n,e,1),h=n.heap[1],n.heap[--n.heap_max]=u,n.heap[--n.heap_max]=h,e[2*f]=e[2*u]+e[2*h],n.depth[f]=(n.depth[u]>=n.depth[h]?n.depth[u]:n.depth[h])+1,e[2*u+1]=e[2*h+1]=f,n.heap[1]=f++,k3(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],((v,y)=>{const w=y.dyn_tree,x=y.max_code,C=y.stat_desc.static_tree,A=y.stat_desc.has_stree,L=y.stat_desc.extra_bits,S=y.stat_desc.extra_base,k=y.stat_desc.max_length;let N,O,H,D,T,M,q=0;for(D=0;D<=Cf;D++)v.bl_count[D]=0;for(w[2*v.heap[v.heap_max]+1]=0,N=v.heap_max+1;N<573;N++)O=v.heap[N],D=w[2*w[2*O+1]+1]+1,D>k&&(D=k,q++),w[2*O+1]=D,O>x||(v.bl_count[D]++,T=0,O>=S&&(T=L[O-S]),M=w[2*O],v.opt_len+=M*(D+T),A&&(v.static_len+=M*(C[2*O+1]+T)));if(q!==0){do{for(D=k-1;v.bl_count[D]===0;)D--;v.bl_count[D]--,v.bl_count[D+1]+=2,v.bl_count[k]--,q-=2}while(q>0);for(D=k;D!==0;D--)for(O=v.bl_count[D];O!==0;)H=v.heap[--N],H>x||(w[2*H+1]!==D&&(v.opt_len+=(D-w[2*H+1])*w[2*H],w[2*H+1]=D),O--)}})(n,t),XL(e,m,n.bl_count)},CO=(n,t,e)=>{let r,a,o=-1,u=t[1],h=0,f=7,m=4;for(u===0&&(f=138,m=3),t[2*(e+1)+1]=65535,r=0;r<=e;r++)a=u,u=t[2*(r+1)+1],++h<f&&a===u||(h<m?n.bl_tree[2*a]+=h:a!==0?(a!==o&&n.bl_tree[2*a]++,n.bl_tree[32]++):h<=10?n.bl_tree[34]++:n.bl_tree[36]++,h=0,o=a,u===0?(f=138,m=3):a===u?(f=6,m=3):(f=7,m=4))},IO=(n,t,e)=>{let r,a,o=-1,u=t[1],h=0,f=7,m=4;for(u===0&&(f=138,m=3),r=0;r<=e;r++)if(a=u,u=t[2*(r+1)+1],!(++h<f&&a===u)){if(h<m)do il(n,a,n.bl_tree);while(--h!=0);else a!==0?(a!==o&&(il(n,a,n.bl_tree),h--),il(n,16,n.bl_tree),as(n,h-3,2)):h<=10?(il(n,17,n.bl_tree),as(n,h-3,3)):(il(n,18,n.bl_tree),as(n,h-11,7));h=0,o=a,u===0?(f=138,m=3):a===u?(f=6,m=3):(f=7,m=4)}};let NO=!1;const eU=(n,t,e,r)=>{as(n,0+(r?1:0),3),JL(n),u_(n,e),u_(n,~e),e&&n.pending_buf.set(n.window.subarray(t,t+e),n.pending),n.pending+=e};var vae=(n,t,e,r)=>{let a,o,u=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=(h=>{let f,m=4093624447;for(f=0;f<=31;f++,m>>>=1)if(1&m&&h.dyn_ltree[2*f]!==0)return 0;if(h.dyn_ltree[18]!==0||h.dyn_ltree[20]!==0||h.dyn_ltree[26]!==0)return 1;for(f=32;f<fk;f++)if(h.dyn_ltree[2*f]!==0)return 1;return 0})(n)),S3(n,n.l_desc),S3(n,n.d_desc),u=(h=>{let f;for(CO(h,h.dyn_ltree,h.l_desc.max_code),CO(h,h.dyn_dtree,h.d_desc.max_code),S3(h,h.bl_desc),f=18;f>=3&&h.bl_tree[2*EO[f]+1]===0;f--);return h.opt_len+=3*(f+1)+5+5+4,f})(n),a=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=a&&(a=o)):a=o=e+5,e+4<=a&&t!==-1?eU(n,t,e,r):n.strategy===4||o===a?(as(n,2+(r?1:0),3),TO(n,Bl,If)):(as(n,4+(r?1:0),3),((h,f,m,v)=>{let y;for(as(h,f-257,5),as(h,m-1,5),as(h,v-4,4),y=0;y<v;y++)as(h,h.bl_tree[2*EO[y]+1],3);IO(h,h.dyn_ltree,f-1),IO(h,h.dyn_dtree,m-1)})(n,n.l_desc.max_code+1,n.d_desc.max_code+1,u+1),TO(n,n.dyn_ltree,n.dyn_dtree)),ZL(n),r&&JL(n)},gae={_tr_init:n=>{NO||((()=>{let t,e,r,a,o;const u=new Array(16);for(r=0,a=0;a<28;a++)for(_k[a]=r,t=0;t<1<<hx[a];t++)Nf[r++]=a;for(Nf[r-1]=a,o=0,a=0;a<16;a++)for(rb[a]=o,t=0;t<1<<mg[a];t++)c_[o++]=a;for(o>>=7;a<Tf;a++)for(rb[a]=o<<7,t=0;t<1<<mg[a]-7;t++)c_[256+o++]=a;for(e=0;e<=Cf;e++)u[e]=0;for(t=0;t<=143;)Bl[2*t+1]=8,t++,u[8]++;for(;t<=255;)Bl[2*t+1]=9,t++,u[9]++;for(;t<=279;)Bl[2*t+1]=7,t++,u[7]++;for(;t<=287;)Bl[2*t+1]=8,t++,u[8]++;for(XL(Bl,287,u),t=0;t<Tf;t++)If[2*t+1]=5,If[2*t]=YL(t,5);wO=new w3(Bl,hx,257,WL,Cf),xO=new w3(If,mg,0,Tf,Cf),kO=new w3(new Array(0),mae,0,19,7)})(),NO=!0),n.l_desc=new x3(n.dyn_ltree,wO),n.d_desc=new x3(n.dyn_dtree,xO),n.bl_desc=new x3(n.bl_tree,kO),n.bi_buf=0,n.bi_valid=0,ZL(n)},_tr_stored_block:eU,_tr_flush_block:vae,_tr_tally:(n,t,e)=>(n.pending_buf[n.sym_buf+n.sym_next++]=t,n.pending_buf[n.sym_buf+n.sym_next++]=t>>8,n.pending_buf[n.sym_buf+n.sym_next++]=e,t===0?n.dyn_ltree[2*e]++:(n.matches++,t--,n.dyn_ltree[2*(Nf[e]+fk+1)]++,n.dyn_dtree[2*QL(t)]++),n.sym_next===n.sym_end),_tr_align:n=>{as(n,2,3),il(n,256,Bl),(t=>{t.bi_valid===16?(u_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(n)}},Af=(n,t,e,r)=>{let a=65535&n|0,o=n>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do a=a+t[r++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};const bae=new Uint32Array((()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t})());var zi=(n,t,e,r)=>{const a=bae,o=r+e;n^=-1;for(let u=r;u<o;u++)n=n>>>8^a[255&(n^t[u])];return-1^n},Hd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Qd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:yae,_tr_stored_block:px,_tr_flush_block:Eae,_tr_tally:hu,_tr_align:wae}=gae,{Z_NO_FLUSH:pu,Z_PARTIAL_FLUSH:xae,Z_FULL_FLUSH:kae,Z_FINISH:Ys,Z_BLOCK:AO,Z_OK:ra,Z_STREAM_END:OO,Z_STREAM_ERROR:Jo,Z_DATA_ERROR:Sae,Z_BUF_ERROR:T3,Z_DEFAULT_COMPRESSION:Tae,Z_FILTERED:Cae,Z_HUFFMAN_ONLY:Rv,Z_RLE:Iae,Z_FIXED:Nae,Z_DEFAULT_STRATEGY:Aae,Z_UNKNOWN:Oae,Z_DEFLATED:ib}=Qd,wd=258,pl=262,u0=42,fd=113,cf=666,_d=(n,t)=>(n.msg=Hd[t],t),RO=n=>2*n-(n>4?9:0),Qc=n=>{let t=n.length;for(;--t>=0;)n[t]=0},Rae=n=>{let t,e,r,a=n.w_size;t=n.hash_size,r=t;do e=n.head[--r],n.head[r]=e>=a?e-a:0;while(--t);t=a,r=t;do e=n.prev[--r],n.prev[r]=e>=a?e-a:0;while(--t)};let fu=(n,t,e)=>(t<<n.hash_shift^e)&n.hash_mask;const ws=n=>{const t=n.state;let e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(n.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Ss=(n,t)=>{Eae(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,ws(n.strm)},gr=(n,t)=>{n.pending_buf[n.pending++]=t},Gp=(n,t)=>{n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=255&t},fx=(n,t,e,r)=>{let a=n.avail_in;return a>r&&(a=r),a===0?0:(n.avail_in-=a,t.set(n.input.subarray(n.next_in,n.next_in+a),e),n.state.wrap===1?n.adler=Af(n.adler,t,a,e):n.state.wrap===2&&(n.adler=zi(n.adler,t,a,e)),n.next_in+=a,n.total_in+=a,a)},nU=(n,t)=>{let e,r,a=n.max_chain_length,o=n.strstart,u=n.prev_length,h=n.nice_match;const f=n.strstart>n.w_size-pl?n.strstart-(n.w_size-pl):0,m=n.window,v=n.w_mask,y=n.prev,w=n.strstart+wd;let x=m[o+u-1],C=m[o+u];n.prev_length>=n.good_match&&(a>>=2),h>n.lookahead&&(h=n.lookahead);do if(e=t,m[e+u]===C&&m[e+u-1]===x&&m[e]===m[o]&&m[++e]===m[o+1]){o+=2,e++;do;while(m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&o<w);if(r=wd-(w-o),o=w-wd,r>u){if(n.match_start=t,u=r,r>=h)break;x=m[o+u-1],C=m[o+u]}}while((t=y[t&v])>f&&--a!=0);return u<=n.lookahead?u:n.lookahead},Jh=n=>{const t=n.w_size;let e,r,a;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-pl)&&(n.window.set(n.window.subarray(t,t+t-r),0),n.match_start-=t,n.strstart-=t,n.block_start-=t,n.insert>n.strstart&&(n.insert=n.strstart),Rae(n),r+=t),n.strm.avail_in===0)break;if(e=fx(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=e,n.lookahead+n.insert>=3)for(a=n.strstart-n.insert,n.ins_h=n.window[a],n.ins_h=fu(n,n.ins_h,n.window[a+1]);n.insert&&(n.ins_h=fu(n,n.ins_h,n.window[a+3-1]),n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<pl&&n.strm.avail_in!==0)},tU=(n,t)=>{let e,r,a,o=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,u=0,h=n.strm.avail_in;do{if(e=65535,a=n.bi_valid+42>>3,n.strm.avail_out<a||(a=n.strm.avail_out-a,r=n.strstart-n.block_start,e>r+n.strm.avail_in&&(e=r+n.strm.avail_in),e>a&&(e=a),e<o&&(e===0&&t!==Ys||t===pu||e!==r+n.strm.avail_in)))break;u=t===Ys&&e===r+n.strm.avail_in?1:0,px(n,0,0,u),n.pending_buf[n.pending-4]=e,n.pending_buf[n.pending-3]=e>>8,n.pending_buf[n.pending-2]=~e,n.pending_buf[n.pending-1]=~e>>8,ws(n.strm),r&&(r>e&&(r=e),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+r),n.strm.next_out),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r,n.block_start+=r,e-=r),e&&(fx(n.strm,n.strm.output,n.strm.next_out,e),n.strm.next_out+=e,n.strm.avail_out-=e,n.strm.total_out+=e)}while(u===0);return h-=n.strm.avail_in,h&&(h>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=h&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-h,n.strm.next_in),n.strstart),n.strstart+=h,n.insert+=h>n.w_size-n.insert?n.w_size-n.insert:h),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),u?4:t!==pu&&t!==Ys&&n.strm.avail_in===0&&n.strstart===n.block_start?2:(a=n.window_size-n.strstart,n.strm.avail_in>a&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,a+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),a>n.strm.avail_in&&(a=n.strm.avail_in),a&&(fx(n.strm,n.window,n.strstart,a),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.high_water<n.strstart&&(n.high_water=n.strstart),a=n.bi_valid+42>>3,a=n.pending_buf_size-a>65535?65535:n.pending_buf_size-a,o=a>n.w_size?n.w_size:a,r=n.strstart-n.block_start,(r>=o||(r||t===Ys)&&t!==pu&&n.strm.avail_in===0&&r<=a)&&(e=r>a?a:r,u=t===Ys&&n.strm.avail_in===0&&e===r?1:0,px(n,n.block_start,e,u),n.block_start+=e,ws(n.strm)),u?3:1)},C3=(n,t)=>{let e,r;for(;;){if(n.lookahead<pl){if(Jh(n),n.lookahead<pl&&t===pu)return 1;if(n.lookahead===0)break}if(e=0,n.lookahead>=3&&(n.ins_h=fu(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-pl&&(n.match_length=nU(n,e)),n.match_length>=3)if(r=hu(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){n.match_length--;do n.strstart++,n.ins_h=fu(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!=0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=fu(n,n.ins_h,n.window[n.strstart+1]);else r=hu(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Ss(n,!1),n.strm.avail_out===0))return 1}return n.insert=n.strstart<2?n.strstart:2,t===Ys?(Ss(n,!0),n.strm.avail_out===0?3:4):n.sym_next&&(Ss(n,!1),n.strm.avail_out===0)?1:2},Mh=(n,t)=>{let e,r,a;for(;;){if(n.lookahead<pl){if(Jh(n),n.lookahead<pl&&t===pu)return 1;if(n.lookahead===0)break}if(e=0,n.lookahead>=3&&(n.ins_h=fu(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-pl&&(n.match_length=nU(n,e),n.match_length<=5&&(n.strategy===Cae||n.match_length===3&&n.strstart-n.match_start>4096)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){a=n.strstart+n.lookahead-3,r=hu(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=a&&(n.ins_h=fu(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!=0);if(n.match_available=0,n.match_length=2,n.strstart++,r&&(Ss(n,!1),n.strm.avail_out===0))return 1}else if(n.match_available){if(r=hu(n,0,n.window[n.strstart-1]),r&&Ss(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=hu(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,t===Ys?(Ss(n,!0),n.strm.avail_out===0?3:4):n.sym_next&&(Ss(n,!1),n.strm.avail_out===0)?1:2};function Qo(n,t,e,r,a){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=r,this.func=a}const uf=[new Qo(0,0,0,0,tU),new Qo(4,4,8,4,C3),new Qo(4,5,16,8,C3),new Qo(4,6,32,32,C3),new Qo(4,4,16,16,Mh),new Qo(8,16,32,32,Mh),new Qo(8,16,128,128,Mh),new Qo(8,32,128,256,Mh),new Qo(32,128,258,1024,Mh),new Qo(32,258,258,4096,Mh)];function Mae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ib,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Qc(this.dyn_ltree),Qc(this.dyn_dtree),Qc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Qc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Qc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const df=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.status!==u0&&t.status!==57&&t.status!==69&&t.status!==73&&t.status!==91&&t.status!==103&&t.status!==fd&&t.status!==cf?1:0},rU=n=>{if(df(n))return _d(n,Jo);n.total_in=n.total_out=0,n.data_type=Oae;const t=n.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?57:t.wrap?u0:fd,n.adler=t.wrap===2?0:1,t.last_flush=-2,yae(t),ra},iU=n=>{const t=rU(n);var e;return t===ra&&((e=n.state).window_size=2*e.w_size,Qc(e.head),e.max_lazy_match=uf[e.level].max_lazy,e.good_match=uf[e.level].good_length,e.nice_match=uf[e.level].nice_length,e.max_chain_length=uf[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},MO=(n,t,e,r,a,o)=>{if(!n)return Jo;let u=1;if(t===Tae&&(t=6),r<0?(u=0,r=-r):r>15&&(u=2,r-=16),a<1||a>9||e!==ib||r<8||r>15||t<0||t>9||o<0||o>Nae||r===8&&u!==1)return _d(n,Jo);r===8&&(r=9);const h=new Mae;return n.state=h,h.strm=n,h.status=u0,h.wrap=u,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=3*(h.lit_bufsize-1),h.level=t,h.strategy=o,h.method=e,iU(n)};var Of={deflateInit:(n,t)=>MO(n,t,ib,15,8,Aae),deflateInit2:MO,deflateReset:iU,deflateResetKeep:rU,deflateSetHeader:(n,t)=>df(n)||n.state.wrap!==2?Jo:(n.state.gzhead=t,ra),deflate:(n,t)=>{if(df(n)||t>AO||t<0)return n?_d(n,Jo):Jo;const e=n.state;if(!n.output||n.avail_in!==0&&!n.input||e.status===cf&&t!==Ys)return _d(n,n.avail_out===0?T3:Jo);const r=e.last_flush;if(e.last_flush=t,e.pending!==0){if(ws(n),n.avail_out===0)return e.last_flush=-1,ra}else if(n.avail_in===0&&RO(t)<=RO(r)&&t!==Ys)return _d(n,T3);if(e.status===cf&&n.avail_in!==0)return _d(n,T3);if(e.status===u0&&e.wrap===0&&(e.status=fd),e.status===u0){let a=ib+(e.w_bits-8<<4)<<8,o=-1;if(o=e.strategy>=Rv||e.level<2?0:e.level<6?1:e.level===6?2:3,a|=o<<6,e.strstart!==0&&(a|=32),a+=31-a%31,Gp(e,a),e.strstart!==0&&(Gp(e,n.adler>>>16),Gp(e,65535&n.adler)),n.adler=1,e.status=fd,ws(n),e.pending!==0)return e.last_flush=-1,ra}if(e.status===57){if(n.adler=0,gr(e,31),gr(e,139),gr(e,8),e.gzhead)gr(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),gr(e,255&e.gzhead.time),gr(e,e.gzhead.time>>8&255),gr(e,e.gzhead.time>>16&255),gr(e,e.gzhead.time>>24&255),gr(e,e.level===9?2:e.strategy>=Rv||e.level<2?4:0),gr(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(gr(e,255&e.gzhead.extra.length),gr(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(n.adler=zi(n.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(gr(e,0),gr(e,0),gr(e,0),gr(e,0),gr(e,0),gr(e,e.level===9?2:e.strategy>=Rv||e.level<2?4:0),gr(e,3),e.status=fd,ws(n),e.pending!==0)return e.last_flush=-1,ra}if(e.status===69){if(e.gzhead.extra){let a=e.pending,o=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let h=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+h),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>a&&(n.adler=zi(n.adler,e.pending_buf,e.pending-a,a)),e.gzindex+=h,ws(n),e.pending!==0)return e.last_flush=-1,ra;a=0,o-=h}let u=new Uint8Array(e.gzhead.extra);e.pending_buf.set(u.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>a&&(n.adler=zi(n.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=73}if(e.status===73){if(e.gzhead.name){let a,o=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>o&&(n.adler=zi(n.adler,e.pending_buf,e.pending-o,o)),ws(n),e.pending!==0)return e.last_flush=-1,ra;o=0}a=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,gr(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>o&&(n.adler=zi(n.adler,e.pending_buf,e.pending-o,o)),e.gzindex=0}e.status=91}if(e.status===91){if(e.gzhead.comment){let a,o=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>o&&(n.adler=zi(n.adler,e.pending_buf,e.pending-o,o)),ws(n),e.pending!==0)return e.last_flush=-1,ra;o=0}a=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,gr(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>o&&(n.adler=zi(n.adler,e.pending_buf,e.pending-o,o))}e.status=103}if(e.status===103){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(ws(n),e.pending!==0))return e.last_flush=-1,ra;gr(e,255&n.adler),gr(e,n.adler>>8&255),n.adler=0}if(e.status=fd,ws(n),e.pending!==0)return e.last_flush=-1,ra}if(n.avail_in!==0||e.lookahead!==0||t!==pu&&e.status!==cf){let a=e.level===0?tU(e,t):e.strategy===Rv?((o,u)=>{let h;for(;;){if(o.lookahead===0&&(Jh(o),o.lookahead===0)){if(u===pu)return 1;break}if(o.match_length=0,h=hu(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,h&&(Ss(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,u===Ys?(Ss(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(Ss(o,!1),o.strm.avail_out===0)?1:2})(e,t):e.strategy===Iae?((o,u)=>{let h,f,m,v;const y=o.window;for(;;){if(o.lookahead<=wd){if(Jh(o),o.lookahead<=wd&&u===pu)return 1;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=3&&o.strstart>0&&(m=o.strstart-1,f=y[m],f===y[++m]&&f===y[++m]&&f===y[++m])){v=o.strstart+wd;do;while(f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&m<v);o.match_length=wd-(v-m),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=3?(h=hu(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(h=hu(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),h&&(Ss(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,u===Ys?(Ss(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(Ss(o,!1),o.strm.avail_out===0)?1:2})(e,t):uf[e.level].func(e,t);if(a!==3&&a!==4||(e.status=cf),a===1||a===3)return n.avail_out===0&&(e.last_flush=-1),ra;if(a===2&&(t===xae?wae(e):t!==AO&&(px(e,0,0,!1),t===kae&&(Qc(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),ws(n),n.avail_out===0))return e.last_flush=-1,ra}return t!==Ys?ra:e.wrap<=0?OO:(e.wrap===2?(gr(e,255&n.adler),gr(e,n.adler>>8&255),gr(e,n.adler>>16&255),gr(e,n.adler>>24&255),gr(e,255&n.total_in),gr(e,n.total_in>>8&255),gr(e,n.total_in>>16&255),gr(e,n.total_in>>24&255)):(Gp(e,n.adler>>>16),Gp(e,65535&n.adler)),ws(n),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?ra:OO)},deflateEnd:n=>{if(df(n))return Jo;const t=n.state.status;return n.state=null,t===fd?_d(n,Sae):ra},deflateSetDictionary:(n,t)=>{let e=t.length;if(df(n))return Jo;const r=n.state,a=r.wrap;if(a===2||a===1&&r.status!==u0||r.lookahead)return Jo;if(a===1&&(n.adler=Af(n.adler,t,e,0)),r.wrap=0,e>=r.w_size){a===0&&(Qc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let f=new Uint8Array(r.w_size);f.set(t.subarray(e-r.w_size,e),0),t=f,e=r.w_size}const o=n.avail_in,u=n.next_in,h=n.input;for(n.avail_in=e,n.next_in=0,n.input=t,Jh(r);r.lookahead>=3;){let f=r.strstart,m=r.lookahead-2;do r.ins_h=fu(r,r.ins_h,r.window[f+3-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++;while(--m);r.strstart=f,r.lookahead=2,Jh(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,n.next_in=u,n.input=h,n.avail_in=o,r.wrap=a,ra},deflateInfo:"pako deflate (from Nodeca project)"};const Dae=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var zb={assign:function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)Dae(e,r)&&(n[r]=e[r])}}return n},flattenChunks:n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,o=n.length;r<o;r++){let u=n[r];e.set(u,a),a+=u.length}return e}};let aU=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{aU=!1}const d_=new Uint8Array(256);for(let n=0;n<256;n++)d_[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;d_[254]=d_[254]=1;var h_={string2buf:n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,o,u=n.length,h=0;for(a=0;a<u;a++)e=n.charCodeAt(a),(64512&e)==55296&&a+1<u&&(r=n.charCodeAt(a+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,a=0;o<h;a++)e=n.charCodeAt(a),(64512&e)==55296&&a+1<u&&(r=n.charCodeAt(a+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|63&e):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|63&e):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|63&e);return t},buf2string:(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const o=new Array(2*e);for(a=0,r=0;r<e;){let u=n[r++];if(u<128){o[a++]=u;continue}let h=d_[u];if(h>4)o[a++]=65533,r+=h-1;else{for(u&=h===2?31:h===3?15:7;h>1&&r<e;)u=u<<6|63&n[r++],h--;h>1?o[a++]=65533:u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|1023&u)}}return((u,h)=>{if(h<65534&&u.subarray&&aU)return String.fromCharCode.apply(null,u.length===h?u:u.subarray(0,h));let f="";for(let m=0;m<h;m++)f+=String.fromCharCode(u[m]);return f})(o,a)},utf8border:(n,t)=>{(t=t||n.length)>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(192&n[e])==128;)e--;return e<0||e===0?t:e+d_[n[e]]>t?e:t}},sU=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const oU=Object.prototype.toString,{Z_NO_FLUSH:Lae,Z_SYNC_FLUSH:Uae,Z_FULL_FLUSH:Pae,Z_FINISH:Fae,Z_OK:ab,Z_STREAM_END:Hae,Z_DEFAULT_COMPRESSION:Bae,Z_DEFAULT_STRATEGY:$ae,Z_DEFLATED:zae}=Qd;function Rf(n){this.options=zb.assign({level:Bae,method:zae,chunkSize:16384,windowBits:15,memLevel:8,strategy:$ae},n||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sU,this.strm.avail_out=0;let e=Of.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==ab)throw new Error(Hd[e]);if(t.header&&Of.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(r=typeof t.dictionary=="string"?h_.string2buf(t.dictionary):oU.call(t.dictionary)==="[object ArrayBuffer]"?new Uint8Array(t.dictionary):t.dictionary,e=Of.deflateSetDictionary(this.strm,r),e!==ab)throw new Error(Hd[e]);this._dict_set=!0}}function I3(n,t){const e=new Rf(t);if(e.push(n,!0),e.err)throw e.msg||Hd[e.err];return e.result}Rf.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize;let a,o;if(this.ended)return!1;for(o=t===~~t?t:t===!0?Fae:Lae,typeof n=="string"?e.input=h_.string2buf(n):oU.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;)if(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),(o===Uae||o===Pae)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(a=Of.deflate(e,o),a===Hae)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),a=Of.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===ab;if(e.avail_out!==0){if(o>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(e.avail_in===0)break}else this.onData(e.output)}return!0},Rf.prototype.onData=function(n){this.chunks.push(n)},Rf.prototype.onEnd=function(n){n===ab&&(this.result=zb.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var Vae={Deflate:Rf,deflate:I3,deflateRaw:function(n,t){return(t=t||{}).raw=!0,I3(n,t)},gzip:function(n,t){return(t=t||{}).gzip=!0,I3(n,t)},constants:Qd};const Mv=16209;var Gae=function(n,t){let e,r,a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M,q;const z=n.state;e=n.next_in,M=n.input,r=e+(n.avail_in-5),a=n.next_out,q=n.output,o=a-(t-n.avail_out),u=a+(n.avail_out-257),h=z.dmax,f=z.wsize,m=z.whave,v=z.wnext,y=z.window,w=z.hold,x=z.bits,C=z.lencode,A=z.distcode,L=(1<<z.lenbits)-1,S=(1<<z.distbits)-1;e:do{x<15&&(w+=M[e++]<<x,x+=8,w+=M[e++]<<x,x+=8),k=C[w&L];n:for(;;){if(N=k>>>24,w>>>=N,x-=N,N=k>>>16&255,N===0)q[a++]=65535&k;else{if(!(16&N)){if(!(64&N)){k=C[(65535&k)+(w&(1<<N)-1)];continue n}if(32&N){z.mode=16191;break e}n.msg="invalid literal/length code",z.mode=Mv;break e}O=65535&k,N&=15,N&&(x<N&&(w+=M[e++]<<x,x+=8),O+=w&(1<<N)-1,w>>>=N,x-=N),x<15&&(w+=M[e++]<<x,x+=8,w+=M[e++]<<x,x+=8),k=A[w&S];t:for(;;){if(N=k>>>24,w>>>=N,x-=N,N=k>>>16&255,!(16&N)){if(!(64&N)){k=A[(65535&k)+(w&(1<<N)-1)];continue t}n.msg="invalid distance code",z.mode=Mv;break e}if(H=65535&k,N&=15,x<N&&(w+=M[e++]<<x,x+=8,x<N&&(w+=M[e++]<<x,x+=8)),H+=w&(1<<N)-1,H>h){n.msg="invalid distance too far back",z.mode=Mv;break e}if(w>>>=N,x-=N,N=a-o,H>N){if(N=H-N,N>m&&z.sane){n.msg="invalid distance too far back",z.mode=Mv;break e}if(D=0,T=y,v===0){if(D+=f-N,N<O){O-=N;do q[a++]=y[D++];while(--N);D=a-H,T=q}}else if(v<N){if(D+=f+v-N,N-=v,N<O){O-=N;do q[a++]=y[D++];while(--N);if(D=0,v<O){N=v,O-=N;do q[a++]=y[D++];while(--N);D=a-H,T=q}}}else if(D+=v-N,N<O){O-=N;do q[a++]=y[D++];while(--N);D=a-H,T=q}for(;O>2;)q[a++]=T[D++],q[a++]=T[D++],q[a++]=T[D++],O-=3;O&&(q[a++]=T[D++],O>1&&(q[a++]=T[D++]))}else{D=a-H;do q[a++]=q[D++],q[a++]=q[D++],q[a++]=q[D++],O-=3;while(O>2);O&&(q[a++]=q[D++],O>1&&(q[a++]=q[D++]))}break}}break}}while(e<r&&a<u);O=x>>3,e-=O,x-=O<<3,w&=(1<<x)-1,n.next_in=e,n.next_out=a,n.avail_in=e<r?r-e+5:5-(e-r),n.avail_out=a<u?u-a+257:257-(a-u),z.hold=w,z.bits=x};const Dv=15,qae=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jae=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kae=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Wae=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Mf=(n,t,e,r,a,o,u,h)=>{const f=h.bits;let m,v,y,w,x,C,A=0,L=0,S=0,k=0,N=0,O=0,H=0,D=0,T=0,M=0,q=null;const z=new Uint16Array(16),re=new Uint16Array(16);let pe,B,Q,ie=null;for(A=0;A<=Dv;A++)z[A]=0;for(L=0;L<r;L++)z[t[e+L]]++;for(N=f,k=Dv;k>=1&&z[k]===0;k--);if(N>k&&(N=k),k===0)return a[o++]=20971520,a[o++]=20971520,h.bits=1,0;for(S=1;S<k&&z[S]===0;S++);for(N<S&&(N=S),D=1,A=1;A<=Dv;A++)if(D<<=1,D-=z[A],D<0)return-1;if(D>0&&(n===0||k!==1))return-1;for(re[1]=0,A=1;A<Dv;A++)re[A+1]=re[A]+z[A];for(L=0;L<r;L++)t[e+L]!==0&&(u[re[t[e+L]]++]=L);if(n===0?(q=ie=u,C=20):n===1?(q=qae,ie=jae,C=257):(q=Kae,ie=Wae,C=0),M=0,L=0,A=S,x=o,O=N,H=0,y=-1,T=1<<N,w=T-1,n===1&&T>852||n===2&&T>592)return 1;for(;;){pe=A-H,u[L]+1<C?(B=0,Q=u[L]):u[L]>=C?(B=ie[u[L]-C],Q=q[u[L]-C]):(B=96,Q=0),m=1<<A-H,v=1<<O,S=v;do v-=m,a[x+(M>>H)+v]=pe<<24|B<<16|Q|0;while(v!==0);for(m=1<<A-1;M&m;)m>>=1;if(m!==0?(M&=m-1,M+=m):M=0,L++,--z[A]==0){if(A===k)break;A=t[e+u[L]]}if(A>N&&(M&w)!==y){for(H===0&&(H=N),x+=S,O=A-H,D=1<<O;O+H<k&&(D-=z[O+H],!(D<=0));)O++,D<<=1;if(T+=1<<O,n===1&&T>852||n===2&&T>592)return 1;y=M&w,a[y]=N<<24|O<<16|x-o|0}}return M!==0&&(a[x+M]=A-H<<24|64<<16|0),h.bits=N,0};const{Z_FINISH:DO,Z_BLOCK:Qae,Z_TREES:Lv,Z_OK:md,Z_STREAM_END:Yae,Z_NEED_DICT:Xae,Z_STREAM_ERROR:js,Z_DATA_ERROR:LO,Z_MEM_ERROR:UO,Z_BUF_ERROR:Zae,Z_DEFLATED:PO}=Qd,Vb=16180,Uv=16190,Ul=16191,N3=16192,A3=16194,Pv=16199,Fv=16200,O3=16206,ni=16209,FO=n=>(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24);function Jae(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const xd=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<Vb||t.mode>16211?1:0},lU=n=>{if(xd(n))return js;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=1&t.wrap),t.mode=Vb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,md},cU=n=>{if(xd(n))return js;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,lU(n)},uU=(n,t)=>{let e;if(xd(n))return js;const r=n.state;return t<0?(e=0,t=-t):(e=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?js:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,cU(n))},HO=(n,t)=>{if(!n)return js;const e=new Jae;n.state=e,e.strm=n,e.window=null,e.mode=Vb;const r=uU(n,t);return r!==md&&(n.state=null),r};let R3,M3,BO=!0;const ese=n=>{if(BO){R3=new Int32Array(512),M3=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Mf(1,n.lens,0,288,R3,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Mf(2,n.lens,0,32,M3,0,n.work,{bits:5}),BO=!1}n.lencode=R3,n.lenbits=9,n.distcode=M3,n.distbits=5},$O=(n,t,e,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(t.subarray(e-r,e-r+a),o.wnext),(r-=a)?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0};var ql={inflateReset:cU,inflateReset2:uU,inflateResetKeep:lU,inflateInit:n=>HO(n,15),inflateInit2:HO,inflate:(n,t)=>{let e,r,a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M=0;const q=new Uint8Array(4);let z,re;const pe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(xd(n)||!n.output||!n.input&&n.avail_in!==0)return js;e=n.state,e.mode===Ul&&(e.mode=N3),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,v=e.bits,y=h,w=f,T=md;e:for(;;)switch(e.mode){case Vb:if(e.wrap===0){e.mode=N3;break}for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(2&e.wrap&&m===35615){e.wbits===0&&(e.wbits=15),e.check=0,q[0]=255&m,q[1]=m>>>8&255,e.check=zi(e.check,q,2,0),m=0,v=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&m)<<8)+(m>>8))%31){n.msg="incorrect header check",e.mode=ni;break}if((15&m)!==PO){n.msg="unknown compression method",e.mode=ni;break}if(m>>>=4,v-=4,D=8+(15&m),e.wbits===0&&(e.wbits=D),D>15||D>e.wbits){n.msg="invalid window size",e.mode=ni;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=512&m?16189:Ul,m=0,v=0;break;case 16181:for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(e.flags=m,(255&e.flags)!==PO){n.msg="unknown compression method",e.mode=ni;break}if(57344&e.flags){n.msg="unknown header flags set",e.mode=ni;break}e.head&&(e.head.text=m>>8&1),512&e.flags&&4&e.wrap&&(q[0]=255&m,q[1]=m>>>8&255,e.check=zi(e.check,q,2,0)),m=0,v=0,e.mode=16182;case 16182:for(;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.head&&(e.head.time=m),512&e.flags&&4&e.wrap&&(q[0]=255&m,q[1]=m>>>8&255,q[2]=m>>>16&255,q[3]=m>>>24&255,e.check=zi(e.check,q,4,0)),m=0,v=0,e.mode=16183;case 16183:for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.head&&(e.head.xflags=255&m,e.head.os=m>>8),512&e.flags&&4&e.wrap&&(q[0]=255&m,q[1]=m>>>8&255,e.check=zi(e.check,q,2,0)),m=0,v=0,e.mode=16184;case 16184:if(1024&e.flags){for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.length=m,e.head&&(e.head.extra_len=m),512&e.flags&&4&e.wrap&&(q[0]=255&m,q[1]=m>>>8&255,e.check=zi(e.check,q,2,0)),m=0,v=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(x=e.length,x>h&&(x=h),x&&(e.head&&(D=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+x),D)),512&e.flags&&4&e.wrap&&(e.check=zi(e.check,r,x,o)),h-=x,o+=x,e.length-=x),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(h===0)break e;x=0;do D=r[o+x++],e.head&&D&&e.length<65536&&(e.head.name+=String.fromCharCode(D));while(D&&x<h);if(512&e.flags&&4&e.wrap&&(e.check=zi(e.check,r,x,o)),h-=x,o+=x,D)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(h===0)break e;x=0;do D=r[o+x++],e.head&&D&&e.length<65536&&(e.head.comment+=String.fromCharCode(D));while(D&&x<h);if(512&e.flags&&4&e.wrap&&(e.check=zi(e.check,r,x,o)),h-=x,o+=x,D)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(4&e.wrap&&m!==(65535&e.check)){n.msg="header crc mismatch",e.mode=ni;break}m=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Ul;break;case 16189:for(;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}n.adler=e.check=FO(m),m=0,v=0,e.mode=Uv;case Uv:if(e.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=v,Xae;n.adler=e.check=1,e.mode=Ul;case Ul:if(t===Qae||t===Lv)break e;case N3:if(e.last){m>>>=7&v,v-=7&v,e.mode=O3;break}for(;v<3;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}switch(e.last=1&m,m>>>=1,v-=1,3&m){case 0:e.mode=16193;break;case 1:if(ese(e),e.mode=Pv,t===Lv){m>>>=2,v-=2;break e}break;case 2:e.mode=16196;break;case 3:n.msg="invalid block type",e.mode=ni}m>>>=2,v-=2;break;case 16193:for(m>>>=7&v,v-=7&v;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){n.msg="invalid stored block lengths",e.mode=ni;break}if(e.length=65535&m,m=0,v=0,e.mode=A3,t===Lv)break e;case A3:e.mode=16195;case 16195:if(x=e.length,x){if(x>h&&(x=h),x>f&&(x=f),x===0)break e;a.set(r.subarray(o,o+x),u),h-=x,o+=x,f-=x,u+=x,e.length-=x;break}e.mode=Ul;break;case 16196:for(;v<14;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(e.nlen=257+(31&m),m>>>=5,v-=5,e.ndist=1+(31&m),m>>>=5,v-=5,e.ncode=4+(15&m),m>>>=4,v-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=ni;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;v<3;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.lens[pe[e.have++]]=7&m,m>>>=3,v-=3}for(;e.have<19;)e.lens[pe[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,z={bits:e.lenbits},T=Mf(0,e.lens,0,19,e.lencode,0,e.work,z),e.lenbits=z.bits,T){n.msg="invalid code lengths set",e.mode=ni;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;M=e.lencode[m&(1<<e.lenbits)-1],L=M>>>24,S=M>>>16&255,k=65535&M,!(L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(k<16)m>>>=L,v-=L,e.lens[e.have++]=k;else{if(k===16){for(re=L+2;v<re;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(m>>>=L,v-=L,e.have===0){n.msg="invalid bit length repeat",e.mode=ni;break}D=e.lens[e.have-1],x=3+(3&m),m>>>=2,v-=2}else if(k===17){for(re=L+3;v<re;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=L,v-=L,D=0,x=3+(7&m),m>>>=3,v-=3}else{for(re=L+7;v<re;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=L,v-=L,D=0,x=11+(127&m),m>>>=7,v-=7}if(e.have+x>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=ni;break}for(;x--;)e.lens[e.have++]=D}}if(e.mode===ni)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=ni;break}if(e.lenbits=9,z={bits:e.lenbits},T=Mf(1,e.lens,0,e.nlen,e.lencode,0,e.work,z),e.lenbits=z.bits,T){n.msg="invalid literal/lengths set",e.mode=ni;break}if(e.distbits=6,e.distcode=e.distdyn,z={bits:e.distbits},T=Mf(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,z),e.distbits=z.bits,T){n.msg="invalid distances set",e.mode=ni;break}if(e.mode=Pv,t===Lv)break e;case Pv:e.mode=Fv;case Fv:if(h>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=v,Gae(n,w),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,v=e.bits,e.mode===Ul&&(e.back=-1);break}for(e.back=0;M=e.lencode[m&(1<<e.lenbits)-1],L=M>>>24,S=M>>>16&255,k=65535&M,!(L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(S&&!(240&S)){for(N=L,O=S,H=k;M=e.lencode[H+((m&(1<<N+O)-1)>>N)],L=M>>>24,S=M>>>16&255,k=65535&M,!(N+L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=N,v-=N,e.back+=N}if(m>>>=L,v-=L,e.back+=L,e.length=k,S===0){e.mode=16205;break}if(32&S){e.back=-1,e.mode=Ul;break}if(64&S){n.msg="invalid literal/length code",e.mode=ni;break}e.extra=15&S,e.mode=16201;case 16201:if(e.extra){for(re=e.extra;v<re;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.length+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;M=e.distcode[m&(1<<e.distbits)-1],L=M>>>24,S=M>>>16&255,k=65535&M,!(L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(!(240&S)){for(N=L,O=S,H=k;M=e.distcode[H+((m&(1<<N+O)-1)>>N)],L=M>>>24,S=M>>>16&255,k=65535&M,!(N+L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=N,v-=N,e.back+=N}if(m>>>=L,v-=L,e.back+=L,64&S){n.msg="invalid distance code",e.mode=ni;break}e.offset=k,e.extra=15&S,e.mode=16203;case 16203:if(e.extra){for(re=e.extra;v<re;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.offset+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=ni;break}e.mode=16204;case 16204:if(f===0)break e;if(x=w-f,e.offset>x){if(x=e.offset-x,x>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=ni;break}x>e.wnext?(x-=e.wnext,C=e.wsize-x):C=e.wnext-x,x>e.length&&(x=e.length),A=e.window}else A=a,C=u-e.offset,x=e.length;x>f&&(x=f),f-=x,e.length-=x;do a[u++]=A[C++];while(--x);e.length===0&&(e.mode=Fv);break;case 16205:if(f===0)break e;a[u++]=e.length,f--,e.mode=Fv;break;case O3:if(e.wrap){for(;v<32;){if(h===0)break e;h--,m|=r[o++]<<v,v+=8}if(w-=f,n.total_out+=w,e.total+=w,4&e.wrap&&w&&(n.adler=e.check=e.flags?zi(e.check,a,w,u-w):Af(e.check,a,w,u-w)),w=f,4&e.wrap&&(e.flags?m:FO(m))!==e.check){n.msg="incorrect data check",e.mode=ni;break}m=0,v=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(4&e.wrap&&m!==(4294967295&e.total)){n.msg="incorrect length check",e.mode=ni;break}m=0,v=0}e.mode=16208;case 16208:T=Yae;break e;case ni:T=LO;break e;case 16210:return UO;default:return js}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=v,(e.wsize||w!==n.avail_out&&e.mode<ni&&(e.mode<O3||t!==DO))&&$O(n,n.output,n.next_out,w-n.avail_out),y-=n.avail_in,w-=n.avail_out,n.total_in+=y,n.total_out+=w,e.total+=w,4&e.wrap&&w&&(n.adler=e.check=e.flags?zi(e.check,a,w,n.next_out-w):Af(e.check,a,w,n.next_out-w)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Ul?128:0)+(e.mode===Pv||e.mode===A3?256:0),(y===0&&w===0||t===DO)&&T===md&&(T=Zae),T},inflateEnd:n=>{if(xd(n))return js;let t=n.state;return t.window&&(t.window=null),n.state=null,md},inflateGetHeader:(n,t)=>{if(xd(n))return js;const e=n.state;return 2&e.wrap?(e.head=t,t.done=!1,md):js},inflateSetDictionary:(n,t)=>{const e=t.length;let r,a,o;return xd(n)?js:(r=n.state,r.wrap!==0&&r.mode!==Uv?js:r.mode===Uv&&(a=1,a=Af(a,t,e,0),a!==r.check)?LO:(o=$O(n,t,e,e),o?(r.mode=16210,UO):(r.havedict=1,md)))},inflateInfo:"pako inflate (from Nodeca project)"},nse=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const dU=Object.prototype.toString,{Z_NO_FLUSH:tse,Z_FINISH:rse,Z_OK:Df,Z_STREAM_END:D3,Z_NEED_DICT:L3,Z_STREAM_ERROR:ise,Z_DATA_ERROR:zO,Z_MEM_ERROR:ase}=Qd;function Lf(n){this.options=zb.assign({chunkSize:65536,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||n&&n.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sU,this.strm.avail_out=0;let e=ql.inflateInit2(this.strm,t.windowBits);if(e!==Df)throw new Error(Hd[e]);if(this.header=new nse,ql.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=h_.string2buf(t.dictionary):dU.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ql.inflateSetDictionary(this.strm,t.dictionary),e!==Df)))throw new Error(Hd[e])}function U3(n,t){const e=new Lf(t);if(e.push(n),e.err)throw e.msg||Hd[e.err];return e.result}Lf.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,u,h;if(this.ended)return!1;for(u=t===~~t?t:t===!0?rse:tse,dU.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=ql.inflate(e,u),o===L3&&a&&(o=ql.inflateSetDictionary(e,a),o===Df?o=ql.inflate(e,u):o===zO&&(o=L3));e.avail_in>0&&o===D3&&e.state.wrap>0&&n[e.next_in]!==0;)ql.inflateReset(e),o=ql.inflate(e,u);switch(o){case ise:case zO:case L3:case ase:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===D3))if(this.options.to==="string"){let f=h_.utf8border(e.output,e.next_out),m=e.next_out-f,v=h_.buf2string(e.output,f);e.next_out=m,e.avail_out=r-m,m&&e.output.set(e.output.subarray(f,f+m),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(o!==Df||h!==0){if(o===D3)return o=ql.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},Lf.prototype.onData=function(n){this.chunks.push(n)},Lf.prototype.onEnd=function(n){n===Df&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zb.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var sse={Inflate:Lf,inflate:U3,inflateRaw:function(n,t){return(t=t||{}).raw=!0,U3(n,t)},ungzip:U3,constants:Qd};const{Deflate:ose,deflate:lse,deflateRaw:cse,gzip:use}=Vae,{Inflate:dse,inflate:hse,inflateRaw:pse,ungzip:fse}=sse;var al,_se={Deflate:ose,deflate:lse,deflateRaw:cse,gzip:use,Inflate:dse,inflate:hse,inflateRaw:pse,ungzip:fse,constants:Qd};(function(n){n.CONNECTING="CONNECTING",n.OPEN="OPEN",n.CLOSED="CLOSED"})(al||(al={}));var Vt,mse=function(n){function t(e,r){var a=r.sdkState,o=r.dispatcher,u=r.logger,h=n.call(this)||this;return h.lastActive=0,h._iid=e,h._sdkState=a,h._dispatcher=o,h._logger=u,h}return ne(t,n),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.connectionState===al.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return al.CONNECTING;case 1:return al.OPEN}return al.CLOSED},enumerable:!1,configurable:!0}),t.prototype._handleMessage=function(e){var r=this;e.split(`
`).forEach(function(a){if(a){var o=or.createFromRawMessage(r._iid,a);r._logger.debug("receive websocket event",o),o.code==="LOGI"?r.dispatch("message",o):o.code==="PONG"?r.dispatch("pong"):o.code==="EXPR"?o.payload&&o.payload.expires_in>=0&&r._dispatcher.dispatch(new $b):o.code==="NOOP"||r.dispatch("message",o)}})},t.prototype.connect=function(e){var r=this;this._ws=new WebSocket(e),this._ws.onopen=function(){r._logger.debug("websocket open"),r.dispatch("open")},this._ws.onmessage=function(a){return F(r,void 0,void 0,function(){var o,u,h=this;return P(this,function(f){return!((u=this._sdkState.websocket)===null||u===void 0)&&u.compression?a.data instanceof Blob?((o=new FileReader).readAsArrayBuffer(a.data),o.onloadend=function(){return F(h,void 0,void 0,function(){var m;return P(this,function(v){switch(v.label){case 0:return[4,(y=o.result,F(void 0,void 0,void 0,function(){var w;return P(this,function(x){return w=_se.ungzip(y),[2,String.fromCharCode.apply(null,w)]})}))];case 1:return m=v.sent(),this._handleMessage(m),[2]}var y})})}):typeof a.data=="string"&&this._handleMessage(a.data):this._handleMessage(a.data),[2]})})},this._ws.onerror=function(){r._logger.debug("websocket error"),r.dispatch("error",De.networkError)},this._ws.onclose=function(){r._logger.debug("websocket close"),r.dispatch("close")},this.lastActive=Date.now()},t.prototype.disconnect=function(){var e=this;return new Promise(function(r){e._logger.debug("websocket disconnect"),e._ws&&e.connectionState!==al.CLOSED?(e._ws.onopen=gt,e._ws.onmessage=gt,e._ws.onerror=gt,e._ws.onclose=function(){e.dispatch("close"),r()},e._ws.close(),e._ws=null):r()})},t.prototype.send=function(e){if(!this._ws)throw De.connectionClosed;e.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",e),this._ws.send(e.convertToMessage())},t.prototype.error=function(e){this._logger.debug("websocket error",e),this.dispatch("error",e)},t}(Wd),Wa=function(n){function t(e){var r,a=e.code,o=e.ackRequired,u=e.payload,h=u===void 0?null:u,f=this;return(f=n.call(this)||this).code=a,f.payload=h,f.requestId=(r=f.payload.req_id)!==null&&r!==void 0?r:Tu(),f.ackRequired=o,f.payload.req_id=f.requestId,f}return ne(t,n),t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},t}(di),hU=function(n){function t(e){var r=e.all,a=e.custom_types,o=e.ts,u=n.call(this)||this;return u.all=r,u.customTypes=a,u.ts=o,u}return ne(t,n),t}(di),za=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})},vse=function(){function n(t,e){var r=e.auth,a=e.sdkState,o=e.dispatcher,u=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,m=this;this._ackStateMap=new Map,this._sdkState=a,this._dispatcher=o,this._logger=u,this.apiClient=new _ae(t,{auth:r,sdkState:a,dispatcher:o,logger:u,useFetchCompat:f}),this.websocketClient=new mse(t,{sdkState:a,dispatcher:o,logger:u}),this.websocketClient.on("message",function(v){if(v.payload.unread_cnt&&m._dispatcher.dispatch(new hU(v.payload.unread_cnt)),v.requestId){if(m._ackStateMap.has(v.requestId)){var y=m._ackStateMap.get(v.requestId);v.code!=="EROR"?y.resolve(v):y.reject(new De({code:v.payload.code,message:v.payload.message}))}}else m._dispatcher.dispatch(v)}).on("close",function(){m._ackStateMap.forEach(function(v){v.reject(De.connectionClosed)}),m._ackStateMap.clear()})}return n.prototype._sendApiRequest=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this.apiClient.send(t)];case 1:return[2,e.sent()]}})})},n.prototype._sendWebsocketRequest=function(t){return F(this,void 0,void 0,function(){var e,r,a,o=this;return P(this,function(u){if(e=new za,t.ackRequired){r=null,a=function(h,f){h===void 0&&(h=null),f===void 0&&(f=null),o._ackStateMap.has(t.requestId)&&(o._ackStateMap.delete(t.requestId),r&&(clearTimeout(r),r=null),h?(o._logger.debug("fail websocket request",h),e.reject(h)):(o._logger.debug("receive websocket ack",t.requestId),e.resolve(f)))};try{r=setTimeout(function(){return a(De.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(t.requestId,{resolve:function(h){return a(null,h)},reject:function(h){return a(h)}}),this.websocketClient.send(t)}catch(h){a(h)}}else try{this.websocketClient.send(t),e.resolve(null)}catch(h){e.reject(h)}return[2,e.promise]})})},n.prototype.send=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return t instanceof fn?[4,this._sendApiRequest(t)]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return t instanceof Wa?[4,this._sendWebsocketRequest(t)]:[3,4];case 4:throw De.invalidParameters}})})},n.prototype.cancel=function(t){this.apiClient.cancel(t)},n.prototype.cancelAll=function(){this.apiClient.cancelAll()},n}();(function(n){n[n.NONE=0]="NONE",n[n.INITIALIZED=1]="INITIALIZED",n[n.CONNECTING=2]="CONNECTING",n[n.CONNECTED=3]="CONNECTED",n[n.RECONNECTING=4]="RECONNECTING",n[n.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",n[n.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",n[n.LOGOUT=7]="LOGOUT"})(Vt||(Vt={}));var hs=function(n){function t(e){var r=e.stateType,a=n.call(this)||this;return a.stateType=r,a}return ne(t,n),t}(di),gse=function(){function n(t,e){var r=e.auth,a=e.sdkState,o=e.dispatcher,u=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,m=this;this._currentConnectionStateType=Vt.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new vse(t,{auth:r,sdkState:a,dispatcher:o,logger:u,useFetchCompat:f}),this._auth=r,this._logger=u,this._dispatcher=o,this._dispatcher.on(function(v){if(v instanceof hs){var y=v.stateType;switch(m._currentConnectionStateType=y,y){case Vt.CONNECTED:var w=m._lazyCallQueue;m._lazyCallQueue=[],w.forEach(function(x){return F(m,void 0,void 0,function(){var C,A,L,S,k;return P(this,function(N){switch(N.label){case 0:C=x.command,A=x.deferred,L=x.timeout,clearTimeout(L),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,this.send(C)];case 2:return S=N.sent(),A.resolve(S),[3,4];case 3:return k=N.sent(),A.reject(k),[3,4];case 4:return[2]}})})});break;case Vt.INITIALIZED:case Vt.INTERNAL_DISCONNECTED:case Vt.EXTERNAL_DISCONNECTED:case Vt.LOGOUT:w=m._lazyCallQueue,m._lazyCallQueue=[],w.forEach(function(x){return F(m,void 0,void 0,function(){var C,A;return P(this,function(L){return C=x.deferred,A=x.timeout,clearTimeout(A),this._auth&&this._auth.hasSession?C.reject(De.connectionClosed):C.reject(De.connectionRequired),[2]})})})}}})}return Object.defineProperty(n.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Vt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Vt.CONNECTING||this._currentConnectionStateType===Vt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype.send=function(t){return F(this,void 0,void 0,function(){var e,r,a=this;return P(this,function(o){switch(o.label){case 0:return t instanceof Wa?this.isReady?(this._logger.debug("send websocket request",t),[4,this.commandRouter.send(t)]):[3,2]:[3,4];case 1:case 5:return[2,o.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",t),e=new za,this._lazyCallQueue.push({command:t,deferred:e,timeout:setTimeout(function(){return a.timeout(t.requestId)},1e4)}),[2,e.promise];throw this._logger.debug("fail websocket request"),De.connectionRequired;case 3:return[3,7];case 4:return t instanceof fn?this._auth.hasSession?(this._logger.debug("send api request",t),[4,this.commandRouter.send(t)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",t),e=new za,this._lazyCallQueue.push({command:t,deferred:e,timeout:setTimeout(function(){return a.timeout(t.requestId)},1e4)}),[2,e.promise];throw r=De.connectionRequired,this._logger.debug("fail api request",r),r;case 7:return[2]}})})},n.prototype.forceSend=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this._logger.debug("send forced request",t),[4,this.commandRouter.send(t)];case 1:return[2,e.sent()]}})})},n.prototype.timeout=function(t){this._logger.debug("timeout request",t);var e=this._lazyCallQueue.findIndex(function(r){return r.command.requestId===t});e>-1&&(this._lazyCallQueue[e].deferred.reject(De.connectionRequired),this._lazyCallQueue.splice(e,1))},n.prototype.cancel=function(t){this._logger.debug("cancel api request",t),this.commandRouter.cancel(t)},n.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},n}(),P3="sendbird@devicetokens",F3=function(){function n(t){var e=t.type,r=t.token;this.type=e,this.token=r}return n.payloadify=function(t){return{type:t.type,token:t.token}},n}(),Ls="v3",Lt="/".concat(Ls,"/users"),bse="/".concat(Ls,"/storage/file"),_a="/".concat(Ls,"/group_channels"),yse="/".concat(Ls,"/sdk/group_channels"),Yd="/".concat(Ls,"/open_channels"),Ese="/".concat(Ls,"/sdk/open_channels"),wse="/".concat(Ls,"/search"),_x="/".concat(Ls,"/report"),xse="/".concat(Ls,"/emojis"),pU="/".concat(Ls,"/emoji_categories"),Oo="/".concat(Ls,"/polls"),fU="/".concat(Ls,"/scheduled_messages"),kse="/".concat(Ls,"/sdk/statistics"),Sse=function(n){function t(e){var r=e.userId,a=e.authToken,o=e.expiringSession,u=o===void 0||o,h=n.call(this)||this;return h.path="".concat(Lt,"/").concat(r,"/session_key"),h.method=hn.POST,h.params={token:a,expiring_session:!!u},h.requireAuth=!1,h}return ne(t,n),t}(fn),Tse=function(n){function t(e){var r=e.authToken,a=e.expiringSession,o=a===void 0||a,u=e.requestId,h=u===void 0?null:u;return n.call(this,{code:"LOGI",payload:{token:r,expiring_session:o?1:0,req_id:h},ackRequired:!0})||this}return ne(t,n),t}(Wa),Cse=function(n){function t(e,r){var a=n.call(this,e,r)||this,o=r.key;return a.key=o,a}return ne(t,n),t}(vn),Ise=function(n){function t(e,r,a){var o=n.call(this,e,"LOGI",a)||this;return o.error=null,o.newKey=a.new_key,o.error=a.error?new De(a.error):null,o}return ne(t,n),t}(or),VO=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),t}(di),ko=function(n){return F(void 0,void 0,void 0,function(){return P(this,function(t){return[2,new Promise(function(e){return setTimeout(e,n)})]})})},_U=function(){function n(){}return n.prototype.calcTimeout=function(){return 0},n}(),Gb=function(n,t,e){return e===void 0&&(e=new _U),F(void 0,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:r=0,a=null,o=function(v){return v===void 0&&(v=null),a=v??new Error("Halted")},u=function(){r=0},m.label=1;case 1:if(!(t===-1||r<t))return[3,9];m.label=2;case 2:return m.trys.push([2,4,,8]),[4,n(o,u)];case 3:if(h=m.sent(),a)throw a;return[2,h];case 4:if(f=m.sent(),a)return[3,6];if(++r===t)throw f;return[4,ko(e.calcTimeout(r))];case 5:return m.sent(),[3,7];case 6:throw a;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},Bn=function(n){return F(void 0,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n()];case 1:return e.sent(),[3,3];case 2:if(!((t=e.sent())instanceof De))throw t;return t.throwOutside(),[3,3];case 3:return[2]}})})},oi=function(n){return F(void 0,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,n()];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}})})},H3=new WeakMap,Nse=function(n){function t(e){var r=e.auth,a=e.cacheContext,o=e.sdkState,u=e.dispatcher,h=e.requestQueue,f=e.logger,m=n.call(this)||this;return m._currentConnectionStateType=Vt.INITIALIZED,m._isRefreshingAuthToken=!1,m._isRefreshingSessionKey=!1,m.auth=r,m._cacheContext=a,m._sdkState=o,m._dispatcher=u,m._requestQueue=h,m._logger=f,m._deviceTokens=[],m._dispatcher.on(function(v){if(v instanceof hs){var y=v.stateType;m._currentConnectionStateType=y}else v instanceof $b&&m.handler&&(m._logger.debug("session expired"),m.handler.onSessionExpired(),m.refresh())}),m}return ne(t,n),Object.defineProperty(t.prototype,"ekey",{get:function(){return H3.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),t.prototype.indexOfDeviceToken=function(e,r){return this._deviceTokens.findIndex(function(a){return a.type===e&&a.token===r})},t.prototype.hasDeviceToken=function(e,r){return this.indexOfDeviceToken(e,r)>=0},t.prototype.createRefreshWebsocketCommand=function(e,r){return r===void 0&&(r=null),new Tse({authToken:e,expiringSession:!0,requestId:r})},t.prototype._refreshSessionKeyByWebSocket=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return r=this.createRefreshWebsocketCommand(e),[4,this._requestQueue.forceSend(r)];case 1:if(a=f.sent(),o=a.as(Ise),u=o.newKey,h=o.error)throw h;return this.auth.sessionKey=u??this.auth.sessionKey,[2]}})})},t.prototype._refreshSessionKeyByApi=function(e){return F(this,void 0,void 0,function(){var r,a=this;return P(this,function(o){switch(o.label){case 0:return r=new Sse({userId:this._sdkState.userId,authToken:e,expiringSession:!0}),[4,Gb(function(u){return F(a,void 0,void 0,function(){var h,f,m;return P(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(r)];case 1:return h=v.sent(),f=h.as(Cse).key,this.auth.sessionKey=f,[3,3];case 2:if(m=v.sent(),!this._isSessionRelatedError(m))throw m;return u(m),[3,3];case 3:return[2]}})})},3)];case 1:return o.sent(),[2]}})})},t.prototype._refreshSessionKey=function(e,r){return r===void 0&&(r=!0),F(this,void 0,void 0,function(){var a,o,u,h;return P(this,function(f){switch(f.label){case 0:if(this._currentConnectionStateType!==Vt.CONNECTED)return[3,10];f.label=1;case 1:return f.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(e)];case 2:return f.sent(),this.complete(),[2];case 3:return a=f.sent(),this._isSessionRelatedError(a)?r?(o=this.auth,[4,this._receiveNewAuthToken()]):[3,9]:[3,9];case 4:return o.authToken=f.sent(),this.auth.authToken?[4,this._refreshSessionKey(this.auth.authToken,!1)]:[3,6];case 5:return f.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:f.sent(),this.close(),f.label=8;case 8:return[2];case 9:return[3,10];case 10:return f.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(e)];case 11:return f.sent(),this.complete(),[3,22];case 12:return u=f.sent(),this._isSessionRelatedError(u)?r?(h=this.auth,[4,this._receiveNewAuthToken()]):[3,18]:[3,20];case 13:return h.authToken=f.sent(),this.auth.authToken?[4,this._refreshSessionKeyByApi(this.auth.authToken)]:[3,15];case 14:return f.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:f.sent(),this.close(),f.label=17;case 17:return[3,19];case 18:throw u;case 19:return[3,21];case 20:throw u;case 21:return[3,22];case 22:return[2]}})})},t.prototype._receiveNewAuthToken=function(){var e=this,r=new za;return Bn(function(){return F(e,void 0,void 0,function(){var a,o,u=this;return P(this,function(h){return this._isRefreshingAuthToken=!0,this.auth.clear(),a=null,o=function(){a&&(clearTimeout(a),a=null)},a=setTimeout(function(){u._isRefreshingAuthToken=!1,r.reject()},1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired(function(f){o(),u._isRefreshingAuthToken&&(u._isRefreshingAuthToken=!1,u.dispatch("refresh-authtoken"),r.resolve(f))},function(f){o(),u._isRefreshingAuthToken=!1,r.reject(f)}),[2]})})}),r.promise},t.prototype._isSessionRelatedError=function(e){return e instanceof De&&(e.isSessionKeyExpiredError||e.isSessionTokenExpiredError)},Object.defineProperty(t.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),t.prototype.login=function(e){var r;return F(this,void 0,void 0,function(){var a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return a=e.key,o=e.ekey,u=e.userProfile,h=e.deviceTokenLastDeletedAt,f=h===void 0?0:h,this.auth.sessionKey=a,H3.set(this,o),this._deviceTokenCacheEnabled=(r=u==null?void 0:u.appInfo)===null||r===void 0?void 0:r.deviceTokenCache,m=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,m.get(P3)]:[3,5];case 1:return!(v=y.sent())||v.lastDeletedAt<f?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=f,[4,this.saveDeviceToken()]):[3,3];case 2:return y.sent(),[3,4];case 3:this._deviceTokens=v.tokens.map(function(w){return new F3(F3.payloadify(w))}),this._deviceTokenLastDeletedAt=v.lastDeletedAt,y.label=4;case 4:return[3,7];case 5:return[4,m.remove(P3)];case 6:y.sent(),y.label=7;case 7:return[2]}})})},t.prototype.complete=function(){var e=this;this.dispatch("refresh"),Bn(function(){return F(e,void 0,void 0,function(){return P(this,function(r){return this._logger.debug("session refreshed"),this.handler.onSessionRefreshed(),[2]})})})},t.prototype.error=function(e){var r=this;Bn(function(){return F(r,void 0,void 0,function(){return P(this,function(a){return this.handler.onSessionError(e),[2]})})})},t.prototype.close=function(){var e=this;this.dispatch("close"),Bn(function(){return F(e,void 0,void 0,function(){return P(this,function(r){return this._logger.debug("session closed"),this.handler.onSessionClosed(),[2]})})})},t.prototype.refresh=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(e=a.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=e,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return a.sent(),this.close(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw a.sent(),r=De.sessionTokenRequestFailed,this._dispatcher.dispatch(new VO),this.error(r),this._isRefreshingSessionKey=!1,r;case 7:return a.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return a.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw a.sent(),r=De.sessionTokenRefreshFailed,this._dispatcher.dispatch(new VO),this.error(r),this._isRefreshingSessionKey=!1,r;case 10:return[2]}})})},t.prototype.setDeviceToken=function(e,r){return this._deviceTokenCacheEnabled&&this.indexOfDeviceToken(e,r)<0?(this._deviceTokens.push(new F3({type:e,token:r})),!0):!1},t.prototype.unsetDeviceToken=function(e,r){if(this._deviceTokenCacheEnabled){var a=this.indexOfDeviceToken(e,r);a>=0&&this._deviceTokens.splice(a,1)}},t.prototype.unsetDeviceTokens=function(e){this._deviceTokenCacheEnabled&&(this._deviceTokens=e?this._deviceTokens.filter(function(r){return r.type!==e}):[])},t.prototype.setDeviceTokenDeletedAt=function(e){e>0&&(this._deviceTokenLastDeletedAt=e)},t.prototype.saveDeviceToken=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set(P3,{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.currentUser=null,this.auth.clear(),H3.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return e.sent(),[2]}})})},t}(Wd),Xd=function(){function n(){this.type=Vt.NONE,this.name="none"}return n.prototype.run=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2]})})},n.prototype.onConnect=function(t,e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2]})})},n.prototype.onReconnect=function(t,e){return e.resetReconnectCount,F(this,void 0,void 0,function(){return P(this,function(r){return[2]})})},n.prototype.onDisconnect=function(t,e){return e.error,e.autoReconnect,F(this,void 0,void 0,function(){return P(this,function(r){return[2]})})},n.prototype.onDisconnectWebSocket=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2]})})},n.prototype.onLogout=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2]})})},n}(),Nd=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Vt.LOGOUT,e.name="logout",e}return ne(t,n),t.prototype.run=function(e){return F(this,void 0,void 0,function(){var r,a,o=this;return P(this,function(u){switch(u.label){case 0:return r=Date.now(),a=e.sdkState.userId,[4,e.logout()];case 1:return u.sent(),[4,e.changeState(new mk,r)];case 2:return u.sent(),Bn(function(){return F(o,void 0,void 0,function(){return P(this,function(h){return e.connectionHandlers.forEach(function(f){f.onDisconnected(a)}),[2]})})}),[2]}})})},t}(Xd),qb=function(n){function t(){var e=n.call(this)||this;return e.type=Vt.EXTERNAL_DISCONNECTED,e.name="externaldisconnected",e}return ne(t,n),t.prototype.run=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,e.disconnect()];case 1:return r.sent(),[2]}})})},t.prototype.onConnect=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Date.now(),[4,e.disconnect()];case 1:return o.sent(),[4,e.changeState(new jb({authToken:r}),a)];case 2:return o.sent(),[2]}})})},t.prototype.onReconnect=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new ob,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Nd,r)];case 1:return a.sent(),[2]}})})},t}(Xd),sb=function(n){function t(e){var r=e.autoReconnect,a=n.call(this)||this;return a.type=Vt.INTERNAL_DISCONNECTED,a.name="internaldisconnected",a._autoReconnect=!1,a._autoReconnect=r,a}return ne(t,n),t.prototype.run=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return a.sent(),this._autoReconnect?[4,e.changeState(new ob,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.onConnect=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Date.now(),[4,e.disconnect()];case 1:return o.sent(),[4,e.changeState(new jb({authToken:r}),a)];case 2:return o.sent(),[2]}})})},t.prototype.onReconnect=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new ob,r)];case 1:return a.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new qb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Nd,r)];case 1:return a.sent(),[2]}})})},t}(Xd),ob=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Vt.RECONNECTING,e.name="reconnecting",e._haltConnect=null,e._resetConnect=null,e._callbacks=[],e}return ne(t,n),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=null)},t.prototype._flushCallbacks=function(e){e===void 0&&(e=null),this._haltConnect=null,this._resetConnect=null,this._callbacks.forEach(function(r){return r(e)})},t.prototype.run=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m=this;return P(this,function(v){switch(v.label){case 0:r=Date.now(),a=new za,this._callbacks.push(function(y){return y?a.reject(y):a.resolve()}),Bn(function(){return F(m,void 0,void 0,function(){return P(this,function(y){return e.connectionHandlers.forEach(function(w){w.onReconnectStarted()}),[2]})})}),v.label=1;case 1:return v.trys.push([1,4,,9]),o=e.sdkState.websocket,u=o.reconnectMaxRetry,h=o.reconnectRetryStrategy,[4,Gb(function(y,w){return F(m,void 0,void 0,function(){var x;return P(this,function(C){switch(C.label){case 0:this._haltConnect=y,this._resetConnect=w,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,e.connect()];case 2:return C.sent(),[3,4];case 3:if(x=C.sent(),e.clearLoginTimer(),x instanceof De&&x.code===xt.CONNECTION_CANCELED)return y(x),[2];throw x;case 4:return[2]}})})},u,h)];case 2:return v.sent(),[4,e.changeState(new mU,r)];case 3:return v.sent(),Bn(function(){return F(m,void 0,void 0,function(){return P(this,function(y){return this._flushCallbacks(null),e.connectionHandlers.forEach(function(w){w.onReconnectSucceeded()}),[2]})})}),[3,9];case 4:return f=v.sent(),cl(f)?[3,7]:f instanceof De?f.code===xt.CONNECTION_CANCELED?[3,6]:[4,e.changeState(new sb({autoReconnect:!1}),r)]:[3,6];case 5:v.sent(),v.label=6;case 6:return Bn(function(){return F(m,void 0,void 0,function(){return P(this,function(y){return this._flushCallbacks(f),e.connectionHandlers.forEach(function(w){w.onReconnectFailed()}),[2]})})}),[3,8];case 7:throw f;case 8:return[3,9];case 9:return[2,a.promise]}})})},t.prototype.onConnect=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){return a=new za,this._halt(De.connectionCanceled),e.cancelConnectForRetry(),this._callbacks.push(function(){var u=Date.now();e.changeState(new jb({authToken:r}),u).then(function(){a.resolve()}).catch(function(h){a.reject(h)})}),[2,a.promise]})})},t.prototype.onReconnect=function(e,r){var a=r.resetReconnectCount,o=a!==void 0&&a;return F(this,void 0,void 0,function(){var u;return P(this,function(h){return u=new za,this._resetConnect&&o&&this._resetConnect(),this._callbacks.push(function(f){return f?u.reject(f):u.resolve()}),[2,u.promise]})})},t.prototype.onDisconnect=function(e,r){r.error;var a=r.autoReconnect,o=a===void 0||a;return F(this,void 0,void 0,function(){var u;return P(this,function(h){switch(h.label){case 0:return u=Date.now(),this._halt(De.connectionCanceled),[4,e.changeState(new sb({autoReconnect:o}),u)];case 1:return h.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(De.connectionCanceled),[4,e.changeState(new qb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(De.connectionCanceled),[4,e.changeState(new Nd,r)];case 1:return a.sent(),[2]}})})},t}(Xd),mU=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Vt.CONNECTED,e.name="connected",e}return ne(t,n),t.prototype.onReconnect=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return a.sent(),[4,e.changeState(new ob,r)];case 2:return a.sent(),[2]}})})},t.prototype.onDisconnect=function(e,r){var a=r.autoReconnect;return F(this,void 0,void 0,function(){var o;return P(this,function(u){switch(u.label){case 0:return o=Date.now(),[4,e.changeState(new sb({autoReconnect:a}),o)];case 1:return u.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new qb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Nd,r)];case 1:return a.sent(),[2]}})})},t}(Xd),jb=function(n){function t(e){var r=e.authToken,a=n.call(this)||this;return a.type=Vt.CONNECTING,a.name="connecting",a._authToken="",a._haltConnect=null,a._callbacks=[],a._authToken=r,a}return ne(t,n),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=null)},t.prototype._flushCallbacks=function(e){e===void 0&&(e=null),this._haltConnect=null,this._callbacks.forEach(function(r){return r(e)})},t.prototype.run=function(e){return F(this,void 0,void 0,function(){var r,a,o,u=this;return P(this,function(h){switch(h.label){case 0:r=Date.now(),a=new za,this._callbacks.push(function(f){return f?a.reject(f):a.resolve()}),h.label=1;case 1:return h.trys.push([1,4,,10]),[4,Gb(function(f){return F(u,void 0,void 0,function(){var m;return P(this,function(v){switch(v.label){case 0:this._haltConnect=f,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,e.connect(this._authToken)];case 2:return v.sent(),[3,4];case 3:if(m=v.sent(),e.clearLoginTimer(),m instanceof De&&m.code===xt.CONNECTION_CANCELED)return f(m),[2];throw m;case 4:return[2]}})})},e.sdkState.websocket.connectMaxRetry)];case 2:return h.sent(),[4,e.changeState(new mU,r)];case 3:return h.sent(),Bn(function(){return F(u,void 0,void 0,function(){return P(this,function(f){return this._flushCallbacks(null),e.connectionHandlers.forEach(function(m){m.onConnected(e.sdkState.userId)}),[2]})})}),[3,10];case 4:return o=h.sent(),cl(o)?[3,8]:[4,e.disconnect()];case 5:return h.sent(),o instanceof De?o.code===xt.CONNECTION_CANCELED?[3,7]:[4,e.changeState(new mk,r)]:[3,7];case 6:h.sent(),h.label=7;case 7:return Bn(function(){return F(u,void 0,void 0,function(){return P(this,function(f){return this._flushCallbacks(o),[2]})})}),[3,9];case 8:throw o;case 9:return[3,10];case 10:return[2,a.promise]}})})},t.prototype.onConnect=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=new za,this._callbacks.push(function(o){return o?r.reject(o):r.resolve()}),[2,r.promise]})})},t.prototype.onDisconnect=function(e,r){var a=r.error,o=a===void 0?null:a,u=r.autoReconnect;return F(this,void 0,void 0,function(){var h;return P(this,function(f){switch(f.label){case 0:return h=Date.now(),this._halt(o??De.connectionCanceled),e.hasSession?[4,e.changeState(new sb({autoReconnect:u}),h)]:[3,2];case 1:return f.sent(),[3,4];case 2:return[4,e.changeState(new Nd,h)];case 3:f.sent(),f.label=4;case 4:return[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(De.connectionCanceled),e.hasSession?[4,e.changeState(new qb,r)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,e.changeState(new Nd,r)];case 3:a.sent(),a.label=4;case 4:return[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(De.connectionCanceled),[4,e.changeState(new Nd,r)];case 1:return a.sent(),[2]}})})},t}(Xd),mk=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Vt.INITIALIZED,e.name="initialized",e}return ne(t,n),t.prototype.onConnect=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Date.now(),[4,e.changeState(new jb({authToken:r}),a)];case 1:return o.sent(),[2]}})})},t}(Xd),Ase=function(n){function t(){return n.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return ne(t,n),t}(Wa),Ose=function(){function n(t){var e=t.pingDelegate,r=t.sdkState,a=t.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=e,this.sdkState=r,this._logger=a}return Object.defineProperty(n.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),n.prototype.ping=function(){var t,e=this,r=new Ase;try{var a=(t=this.sdkState.websocket.pongTimeout)!==null&&t!==void 0?t:5e3;this._pingTimeoutTimer=setTimeout(function(){e._logger.debug("pinger.ping() timeout"),e.pingDelegate.error(null)},a),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(o){this._logger.debug("pinger.ping() error",o),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return r},n.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},n.prototype.refreshTimer=function(){var t,e=this;this._logger.debug("pinger.refreshTimer()");var r=(t=this.sdkState.websocket.pingInterval)!==null&&t!==void 0?t:15e3;this.stop(),this._pingTimer=setInterval(function(){e.ping()},r)},n.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},n.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},n}(),GO=1048576,qO=function(){function n(t){var e,r,a;t===void 0&&(t={}),this.emojiHash=t.emoji_hash||"",this.uploadSizeLimit=t.file_upload_size_limit?t.file_upload_size_limit*GO:Number.MAX_SAFE_INTEGER,this.useReaction=!!t.use_reaction,this.applicationAttributes=(e=t.application_attributes)!==null&&e!==void 0?e:[],this.premiumFeatureList=(r=t.premium_feature_list)!==null&&r!==void 0?r:[],this.deviceTokenCache=this.applicationAttributes.includes("sdk_device_token_cache"),this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history"),this.allowSdkStatsUpload=(a=t.allow_sdk_log_ingestion)===null||a===void 0||a}return n.payloadify=function(t){return{emoji_hash:t.emojiHash,file_upload_size_limit:t.uploadSizeLimit/GO,application_attributes:t.applicationAttributes,premium_feature_list:t.premiumFeatureList,use_reaction:t.useReaction,allow_sdk_log_ingestion:t.allowSdkStatsUpload}},n}(),Us=function(){function n(t){this._iid="",this._iid=t}return n.payloadify=function(t){return t?{}:null},n}(),Rse=function(n){function t(e){var r=e.userId,a=e.metadata,o=n.call(this)||this;return o.method=hn.POST,o.path="".concat(Lt,"/").concat(r,"/metadata"),o.params={metadata:a},o}return ne(t,n),t}(fn),Mse=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaData=r,a}return ne(t,n),t}(vn),Dse=function(n){function t(e){var r=e.userId,a=e.metadata,o=e.upsert,u=n.call(this)||this;return u.method=hn.PUT,u.path="".concat(Lt,"/").concat(r,"/metadata"),u.params={metadata:a,upsert:o},u}return ne(t,n),t}(fn),Lse=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metadata=r,a}return ne(t,n),t}(vn),Use=function(n){function t(e){var r=e.userId,a=e.metadataKey,o=n.call(this)||this;return o.method=hn.DELETE,o.path="".concat(Lt,"/").concat(r,"/metadata/").concat(a),o}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var Pse=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.DELETE,a.path="".concat(Lt,"/").concat(r,"/metadata"),a}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var e0,R0=function(n,t){t===void 0&&(t=null);var e=JSON.parse(JSON.stringify(n));return e._iid&&delete e._iid,t&&t(e),e},_u=function(n,t){t===void 0&&(t=null);var e=JSON.parse(JSON.stringify(n));return t&&t(e),e},mn=function(n){return{do:function(t){n||t()},throw:function(t){if(!n)throw t}}};(function(n){n.ONLINE="online",n.OFFLINE="offline",n.NON_AVAILABLE="nonavailable"})(e0||(e0={}));var yo,kt=function(n){function t(e,r){var a,o,u,h,f,m,v,y,w,x,C,A,L=this;return(L=n.call(this,e)||this).userId=(o=(a=r.guest_id)!==null&&a!==void 0?a:r.user_id)!==null&&o!==void 0?o:"",L.nickname=(h=(u=r.nickname)!==null&&u!==void 0?u:r.name)!==null&&h!==void 0?h:"",L.plainProfileUrl=(m=(f=r.profile_url)!==null&&f!==void 0?f:r.image)!==null&&m!==void 0?m:"",L.requireAuth=(v=r.require_auth_for_profile_image)!==null&&v!==void 0&&v,L.metaData=(y=r.metadata)!==null&&y!==void 0?y:{},L.connectionStatus=e0.NON_AVAILABLE,_t(e0,r.is_online)?L.connectionStatus=r.is_online:be("boolean",r.is_online)&&(L.connectionStatus=r.is_online?e0.ONLINE:e0.OFFLINE),L.isActive=(w=r.is_active)===null||w===void 0||w,L.lastSeenAt=(x=r.last_seen_at)!==null&&x!==void 0?x:null,L.preferredLanguages=r.preferred_languages?nt([],Qn(r.preferred_languages),!1):null,L.friendDiscoveryKey=(C=r.friend_discovery_key)!==null&&C!==void 0?C:null,L.friendName=(A=r.friend_name)!==null&&A!==void 0?A:null,L}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{user_id:e.userId,nickname:e.nickname,profile_url:e.plainProfileUrl,require_auth_for_profile_image:e.requireAuth,metadata:e.metaData,is_online:e.connectionStatus,is_active:e.isActive,last_seen_at:e.lastSeenAt,preferred_languages:e.preferredLanguages,friend_discovery_key:e.friendDiscoveryKey,friend_name:e.friendName})):null},Object.defineProperty(t.prototype,"profileUrl",{get:function(){var e=Te.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(e.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return R0(this)},t.prototype._isValidMetaData=function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(r){return e[r]}).every(function(r){return be("string",r)})},t.prototype._applyMetaData=function(e,r){var a=this;r===void 0&&(r=!1),Object.keys(e).forEach(function(o){r?delete a.metaData[o]:a.metaData[o]=e[o]})},t.prototype.createMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return mn(this._isValidMetaData(e)).throw(De.invalidParameters),r=Te.of(this._iid),a=r.sdkState,o=r.requestQueue,u=new Rse({userId:a.userId,metadata:e}),[4,o.send(u)];case 1:return h=m.sent(),f=h.as(Mse).metaData,this._applyMetaData(f),[2,this.metaData]}})})},t.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),F(this,void 0,void 0,function(){var a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return mn(this._isValidMetaData(e)).throw(De.invalidParameters),a=Te.of(this._iid),o=a.sdkState,u=a.requestQueue,h=new Dse({userId:o.userId,metadata:e,upsert:r}),[4,u.send(h)];case 1:return f=v.sent(),m=f.as(Lse).metadata,this._applyMetaData(m),[2,this.metaData]}})})},t.prototype.deleteMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return mn(be("string",e)).throw(De.invalidParameters),r=Te.of(this._iid),a=r.sdkState,o=r.requestQueue,u=new Use({userId:a.userId,metadataKey:e}),[4,o.send(u)];case 1:return f.sent(),this._applyMetaData(((h={})[e]=!0,h),!0),[2,this.metaData]}})})},t.prototype.deleteAllMetaData=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Pse({userId:r.userId}),[4,a.send(o)];case 1:return u.sent(),this.metaData={},[2]}})})},t}(Us),vU=function(n){function t(e){var r=e.userProfile,a=n.call(this)||this;return a.userProfile=r,a}return ne(t,n),t}(di),mx=function(){function n(t,e){var r,a,o,u,h,f,m,v,y,w,x,C,A,L;this._iid=t,this.appInfo=new qO(e),this.user=new kt(t,e),this.connectedAt=(r=e.login_ts)!==null&&r!==void 0?r:0,this.firstConnectedAt=0,this.pingInterval=(a=e.ping_interval)!==null&&a!==void 0?a:15e3,this.pongTimeout=(o=e.pong_timeout)!==null&&o!==void 0?o:5e3,this.reconnectInterval=(h=(u=e.reconnect)===null||u===void 0?void 0:u.interval)!==null&&h!==void 0?h:3e3,this.reconnectMaxInterval=(m=(f=e.reconnect)===null||f===void 0?void 0:f.max_interval)!==null&&m!==void 0?m:6e4,this.reconnectRetryCount=(y=(v=e.reconnect)===null||v===void 0?void 0:v.retry_cnt)!==null&&y!==void 0?y:5,this.reconnectIntervalMultiple=(x=(w=e.reconnect)===null||w===void 0?void 0:w.mul)!==null&&x!==void 0?x:2,this.maxUnreadCountOnSuperGroup=(C=e.max_unread_cnt_on_super_group)!==null&&C!==void 0?C:100,this.profileImageEncryption=!!e.profile_image_encryption,this.concurrentCallLimit=(A=e.concurrent_call_limit)!==null&&A!==void 0?A:5,this.backOffDelay=(L=e.back_off_delay)!==null&&L!==void 0?L:100}return n.payloadify=function(t){return Ee(Ee(Ee({},kt.payloadify(t.user)),qO.payloadify(t.appInfo)),{login_ts:t.connectedAt,ping_interval:t.pingInterval,pong_timeout:t.pongTimeout,reconnect:{interval:t.reconnectInterval,max_interval:t.reconnectMaxInterval,retry_cnt:t.reconnectRetryCount,mul:t.reconnectIntervalMultiple},max_unread_cnt_on_super_group:t.maxUnreadCountOnSuperGroup,profile_image_encryption:t.profileImageEncryption,concurrent_call_limit:t.concurrentCallLimit,back_off_delay:t.backOffDelay})},n.prototype.apply=function(){var t=this.reconnectInterval,e=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,a=Te.of(this._iid);a.sdkState.websocket.pingInterval=1e3*this.pingInterval,a.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,a.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,a.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(o){return o>0?1e3*Math.min(t*Math.pow(r,o-1),e):10}},a.appInfo=this.appInfo,a.sessionManager.currentUser=this.user,a.connectedAt=this.connectedAt,this.firstConnectedAt||(a.firstConnectedAt=this.connectedAt),a.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,a.concurrentCallLimit=this.concurrentCallLimit,a.backOffDelay=this.backOffDelay,a.dispatcher.dispatch(new vU({userProfile:this}))},n}(),Hv=function(n){function t(e,r,a){var o,u=this;return(u=n.call(this,e,r,a)||this).error=null,u.userProfile=new mx(e,a),u.deviceTokenLastDeletedAt=a.device_token_last_deleted_at,u.key=a.key,u.ekey=(o=a.ekey)!==null&&o!==void 0?o:"",u.error=a.error?new De(a):null,u}return ne(t,n),t.asError=function(e){return new t(null,"LOGI",Ee({user_id:null,error:!0},e))},t.prototype.applyTo=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return this.error?[3,4]:(r=Te.of(e))?[4,r.sessionManager.login(this)]:[3,2];case 1:return a.sent(),this.userProfile.apply(),[3,3];case 2:throw De.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}})})},t}(or),gU=function(n){function t(e){var r=e.request,a=r===void 0||r,o=e.features,u=o===void 0?{}:o,h=e.options,f=h===void 0?{}:h,m=n.call(this)||this;return m.request=a,m.features=Ee({localCache:!0},u),m.options=Ee({ingestion:!0},f),m}return ne(t,n),t}(di),Fse=function(n){function t(e,r){var a=r.sdkState,o=r.cacheContext,u=r.connectionHandlers,h=r.sessionManager,f=r.websocketClient,m=r.dispatcher,v=r.logger,y=r.entryState,w=y===void 0?new mk:y,x=n.call(this)||this;return x._currentState=null,x._loginTimer=null,x._unresolvedLogi=null,x._stateUpdatedAt=0,x._connectingAt=0,x._connectionRequestQueue=[],x._iid=e,x.sdkState=a,x.cacheContext=o,x.connectionHandlers=u,x._sessionManager=h,x._websocketClient=f,x._dispatcher=m,x._logger=v,x._currentState=w,x.sdkState.websocket.pingerDisabled||(x._pinger=new Ose({pingDelegate:{send:function(C){return x._websocketClient.send(C)},error:function(C){return x._websocketClient.error(C)}},sdkState:x.sdkState,logger:v})),x._websocketClient.on("open",function(){x._tryResolveConnectionRequest()}).on("message",function(C){C.code==="LOGI"&&(x.clearLoginTimer(),x._dispatcher.dispatch(C.as(Hv)))}).on("ping-refresh",function(){var C;return(C=x._pinger)===null||C===void 0?void 0:C.refreshTimer()}).on("pong",function(){var C;return(C=x._pinger)===null||C===void 0?void 0:C.pong()}).on("error",function(){var C;return(C=x._pinger)===null||C===void 0?void 0:C.stop()}).on("close",function(){return x._rejectConnectionRequest(De.networkError)}),x._dispatcher.on(function(C){C instanceof Hv&&(x._unresolvedLogi=C,x._tryResolveConnectionRequest())}),x}return ne(t,n),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),t.prototype.changeState=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return r>=this._stateUpdatedAt?(this._currentState=e,this._stateUpdatedAt=r,this._dispatcher.dispatch(new hs({stateType:e.type})),this._logger.debug("connection state changes to ".concat(e.name)),[4,this._currentState.run(this)]):[3,2];case 1:return a.sent(),[2,!0];case 2:return[2,!1]}})})},t.prototype._tryResolveConnectionRequest=function(){var e;return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return r=this._unresolvedLogi,this._websocketClient.isOpen&&r?(this._unresolvedLogi=null,r.error?[3,2]:[4,r.applyTo(this._iid)]):[3,3];case 1:return o.sent(),a=r.userProfile,this._enableStatLog({request:a.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish"),features:{localCache:a.appInfo.applicationAttributes.includes("allow_sdk_feature_local_cache_log_publish")},options:{ingestion:a.appInfo.allowSdkStatsUpload}}),this._statLogConnection(null),(e=this._pinger)===null||e===void 0||e.start(),this._connectionRequestQueue.forEach(function(u){return u.resolve()}),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=null,(r.error.isSessionKeyExpiredError||r.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new $b),this._rejectConnectionRequest(r.error),o.label=3;case 3:return[2]}})})},t.prototype._rejectConnectionRequest=function(e){var r;if((r=this._pinger)===null||r===void 0||r.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0){var a=this._connectionRequestQueue;this._connectionRequestQueue=[],a.forEach(function(o){return o.reject(e)}),this._statLogConnection(e)}},t.prototype._url=function(e){var r;e===void 0&&(e="");var a=this.sdkState,o=a.appId,u=a.appVersion,h=a.userId,f=a.extensions,m=this.cacheContext.localCacheEnabled,v=this._sessionManager.auth,y=(r=this.sdkState.websocket)===null||r===void 0?void 0:r.compression,w=f.sb_syncmanager?"s".concat(f.sb_syncmanager):"",x=f.sb_uikit?"u".concat(f.sb_uikit):"",C="JS/c".concat(Id.SDK_VERSION,"/").concat(w,"/").concat(x);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Id.OS_VERSION),"&sv=").concat(encodeURIComponent(Id.SDK_VERSION),"&ai=").concat(o).concat(u?"&av=".concat(u):"").concat(v.hasSession?"&key=".concat(encodeURIComponent(v.sessionKey)):"&user_id=".concat(encodeURIComponent(h),"&access_token=").concat(encodeURIComponent(e)),"&pmce=").concat(y?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(C,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(m?1:0,"&include_poll_details=1")},t.prototype._enableStatLog=function(e){var r=e.request,a=e.features,o=e.options,u=o===void 0?{}:o;this._dispatcher.dispatch(new gU({request:r,features:a,options:u}))},t.prototype._statLogConnection=function(e){this._dispatcher.dispatch(new pk(new y0({type:hl.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!e,latency:Date.now()-this._connectingAt,error_code:e==null?void 0:e.code,error_description:e==null?void 0:e.message}})))},t.prototype.connect=function(e){return e===void 0&&(e=""),F(this,void 0,void 0,function(){var r,a,o=this;return P(this,function(u){return r=this._url(e),a=new za,this._connectionRequestQueue.push(a),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){o._loginTimer=null,o._dispatcher.dispatch(Hv.asError(De.loginTimeout))},this.sdkState.websocket.responseTimeout),e&&(this._sessionManager.auth.authToken=e),this._websocketClient.connect(r)),[2,a.promise]})})},t.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(Hv.asError(De.connectionRenew))},t.prototype.disconnect=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return e.sent(),[2]}})})},t.prototype.logout=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.sdkState.userId=null,this._unresolvedLogi=null,[4,this._sessionManager.clear()];case 1:return e.sent(),[4,this.disconnect()];case 2:return e.sent(),[2]}})})},t.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=null)},t}(Wd),Hse=function(){function n(t,e){var r=e.sdkState,a=e.cacheContext,o=e.connectionHandlers,u=e.sessionManager,h=e.websocketClient,f=e.dispatcher,m=e.logger,v=e.disableWebSocketCloseEventHandling,y=v!==void 0&&v;this._context=null,this._disableWebSocketCloseEventHandling=!1,this._externalCalledWebSocketClose=!1,this._logger=m,this._disableWebSocketCloseEventHandling=y,this._context=new Fse(t,{sdkState:r,cacheContext:a,connectionHandlers:o,sessionManager:u,websocketClient:h,dispatcher:f,logger:m}),this._sdkState=r,this._sessionManager=u,this._websocketClient=h}return n.prototype._registerEventDispatcher=function(){var t=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",function(){t.isConnected||(t._logger.debug("try reconnect by session token refresh"),t.reconnect())}).on("refresh",function(){t.isConnecting||t.isConnected||(t._logger.debug("try reconnect by session key refresh"),t.reconnect())}),this._websocketEventDispatcherContext=this._websocketClient.on("close",function(){t._sdkState.appState!=="foreground"||t._externalCalledWebSocketClose||t._sessionManager.isRefreshingAuthToken||(t._logger.debug("try reconnect by websocket connection closed"),t.reconnect())}))},n.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=null),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=null)},Object.defineProperty(n.prototype,"isConnected",{get:function(){return this._context.currentState.type===Vt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isConnecting",{get:function(){var t=this._context.currentState;return t.type===Vt.CONNECTING||t.type===Vt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype.connect=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return e=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,e.onConnect(this._context,t)];case 1:return r.sent(),this._registerEventDispatcher(),[2]}})})},n.prototype.reconnect=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,t.onReconnect(this._context,{})];case 1:return e.sent(),[2]}})})},n.prototype.resetAndReconnect=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,t.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return e.sent(),[2]}})})},n.prototype.background=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,t.onDisconnect(this._context,{autoReconnect:!1})];case 1:return e.sent(),[2]}})})},n.prototype.disconnect=function(t){return t===void 0&&(t=null),F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:t,autoReconnect:!0})];case 1:return e.sent(),[2]}})})},n.prototype.disconnectWebSocket=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,t.onDisconnectWebSocket(this._context)];case 1:return e.sent(),[2]}})})},n.prototype.logout=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._clearEventDispatcher(),[4,t.onLogout(this._context)];case 1:return e.sent(),[2]}})})},n}(),kd=function(n){function t(e){var r,a,o,u,h=e.type,f=e.data,m=e.ts,v=m===void 0?Date.now():m,y=n.call(this,{type:h,data:f,ts:v})||this;return y.date=new Date(v),y.key="".concat((r=y.date,a=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0"),u=String(r.getDate()).padStart(2,"0"),"".concat(a).concat(o).concat(u)),"_").concat(h),y}return ne(t,n),t}(y0),Bse=function(n){function t(e){var r=e.deviceId,a=e.statLogs,o=n.call(this)||this;return o.method=hn.POST,o.path="".concat(kse),o.params={device_id:r,log_entries:a.map(function(u){return y0.payloadify(u)})},o}return ne(t,n),t}(fn),bU=function(n,t){var e,r;if(n!==null&&t!==null){var a=Object.keys(n),o=Object.keys(t),u=nt([],Qn(new Set(nt(nt([],Qn(a),!1),Qn(o),!1))),!1),h={};try{for(var f=kn(u),m=f.next();!m.done;m=f.next()){var v=m.value,y=typeof n[v],w=typeof t[v];y==="undefined"?h[v]=t[v]:w==="undefined"?h[v]=n[v]:y!==w?h[v]=t[v]:y==="object"&&n[v]&&t[v]?h[v]=bU(n[v],t[v]):h[v]=t[v]}}catch(x){e={error:x}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return h}return t};(function(n){n[n.PENDING=0]="PENDING",n[n.COLLECT_ONLY=1]="COLLECT_ONLY",n[n.ENABLED=2]="ENABLED",n[n.DISABLED=3]="DISABLED"})(yo||(yo={}));var jl,$se=function(n){function t(e){var r=e.cacheContext,a=e.requestQueue,o=e.dispatcher,u=e.baseLimit,h=u===void 0?100:u,f=e.maxLimit,m=f===void 0?1e3:f,v=e.minLimit,y=v===void 0?10:v,w=n.call(this)||this;return w.queue=[],w.enabledState=yo.PENDING,w.isFlushing=!1,w.generation=1,w.lastFlushedAt=0,w.commandEventContext=null,w._collectRequestStat=!0,w._collectFeatureLocalCacheStat=!0,w.deviceId=Tu(),w.cacheContext=r,w.requestQueue=a,w.dispatcher=o,w.baseLimit=h,w.limit=h,w.maxLimit=m,w.minLimit=y,w}return ne(t,n),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.enabledState===yo.ENABLED},enumerable:!1,configurable:!0}),t.prototype._arrangeStat=function(){var e=[];this._collectRequestStat&&e.push.apply(e,nt([],Qn(this.queue.filter(function(r){return r.type===hl.API_RESULT||r.type===hl.WEBSOCKET_CONNECT})),!1)),this._collectFeatureLocalCacheStat&&e.push.apply(e,nt([],Qn(this.queue.filter(function(r){return r.type===hl.FEATURE_LOCALCACHE})),!1)),this.queue=e},t.prototype._save=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.enabledState!==yo.ENABLED?[3,2]:[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(r){return y0.payloadify(r)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})];case 1:e.sent(),this.dispatch("save",nt([],Qn(this.queue),!1)),e.label=2;case 2:return[2]}})})},t.prototype._flush=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u;return P(this,function(h){switch(h.label){case 0:if(!this.isEnabled)return[3,10];if(this.isFlushing)return[3,10];this.isFlushing=!0,h.label=1;case 1:return h.trys.push([1,5,9,10]),this._arrangeStat(),e=this.queue.filter(function(f){if(f instanceof kd){var m=new Date,v=Qn([f.date.getFullYear(),m.getFullYear()],2),y=v[0],w=v[1];if(y<w)return!0;if(y===w){var x=Qn([f.date.getMonth(),m.getMonth()],2),C=x[0],A=x[1];if(C<A)return!0;if(C===A){var L=Qn([f.date.getDate(),m.getDate()],2);return L[0]<L[1]}}}return!1}),r=this.queue.filter(function(f){return!(f instanceof kd)}),(a=nt(nt([],Qn(e),!1),Qn(r),!1).slice(0,Math.min(this.limit,this.maxLimit))).length>0?(o=new Bse({deviceId:this.deviceId,statLogs:a}),[4,this.requestQueue.send(o)]):[3,4];case 2:return h.sent(),this.dispatch("flush",a),this.queue=nt(nt([],Qn(e),!1),Qn(r),!1).slice(a.length),[4,this._save()];case 3:h.sent(),h.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,10];case 5:return(u=h.sent())instanceof De?u.code!==xt.STAT_LOG_NOT_ALLOWED?[3,7]:[4,this.clear()]:[3,8];case 6:return h.sent(),this.enabledState=yo.DISABLED,[3,8];case 7:u.code===xt.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=yo.COLLECT_ONLY),h.label=8;case 8:return this.limit=this.limit+20,[3,10];case 9:return this.isFlushing=!1,[7];case 10:return[2]}})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){var r,a,o=this;return P(this,function(u){switch(u.label){case 0:return this.key=e,[4,this.cacheContext.preference.get(this.key)];case 1:return(r=u.sent())?(this.deviceId=r.deviceId,this.queue=r.statLogs.map(function(h){return new y0({type:h.stat_type,ts:h.ts,data:h.data})}),this.generation=r.generation,this.lastFlushedAt=r.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(a=Math.min(Math.floor(18e4*Math.random()),100),[4,ko(a)]):[3,4]):[3,4];case 2:return u.sent(),[4,this._flush()];case 3:u.sent(),u.label=4;case 4:return this.commandEventContext||(this.commandEventContext=this.dispatcher.on(function(h){if(h instanceof pk){var f=h.statLog;o.put(f)}else if(h instanceof gU){var m=h.request,v=h.features,y=h.options;o._collectRequestStat=m,o._collectFeatureLocalCacheStat=v==null?void 0:v.localCache,o._arrangeStat(),o._collectRequestStat||o._collectFeatureLocalCacheStat?o.enabledState=y.ingestion?yo.ENABLED:yo.COLLECT_ONLY:o.enabledState=yo.DISABLED,o.isEnabled?o.queue.length>=o.limit&&o._flush():o.clear()}})),[2]}})})},t.prototype.put=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return this.enabledState===yo.DISABLED?[3,3]:(e instanceof kd?this._collectFeatureLocalCacheStat&&(r=Qn(this.queue.filter(function(u){return u instanceof kd&&u.key===e.key}),1),(a=r[0])?a.data=bU(a.data,e.data):this.queue.push(e)):this._collectRequestStat&&this.queue.push(e),[4,this._save()]);case 1:return o.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return e.sent(),[2]}})})},t.prototype.close=function(){this.commandEventContext&&(this.commandEventContext.close(),this.commandEventContext=null)},t}(Wd);(function(n){n[n.NONE=0]="NONE",n[n.VERBOSE=1]="VERBOSE",n[n.DEBUG=2]="DEBUG",n[n.INFO=3]="INFO",n[n.WARN=4]="WARN",n[n.ERROR=5]="ERROR"})(jl||(jl={}));var Xr,ji,E0,Wi,Aa,bu,Nr,Zt,Js,Jc,zse=function(){function n(){this.level=jl.WARN}return n.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=jl.VERBOSE&&console.log.apply(console,nt(["[verbose]"],Qn(t),!1))},n.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=jl.DEBUG&&console.log.apply(console,nt(["[debug]"],Qn(t),!1))},n.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=jl.INFO&&console.log.apply(console,nt(["[info]"],Qn(t),!1))},n.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=jl.WARN&&console.warn.apply(console,nt(["[warn]"],Qn(t),!1))},n.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=jl.ERROR&&console.error.apply(console,nt(["[error]"],Qn(t),!1))},n}(),rd={},Te=function(){function n(t,e){var r,a,o,u,h,f,m,v,y,w;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!rd[t]){rd[t]=this;var x=(r=e.options)!==null&&r!==void 0?r:new GL,C=this.sdkState={appId:e.appId,appVersion:(a=e.appVersion)!==null&&a!==void 0?a:"",appState:"foreground",userId:null,extensions:{},api:{host:(o=e.apiHost)!==null&&o!==void 0?o:"https://api-".concat(e.appId,".sendbird.com")},websocket:{host:(u=e.websocketHost)!==null&&u!==void 0?u:"wss://ws-".concat(e.appId,".sendbird.com"),pingerDisabled:!!e.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new _U,responseTimeout:x.websocketResponseTimeout},sessionTokenRefreshTimeout:x.sessionTokenRefreshTimeout};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var A=this.logger=new zse;this.logger.level=(h=e.logLevel)!==null&&h!==void 0?h:jl.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var L=this.cacheContext=new uae({encryption:e.encryption,store:e.store,localCacheEnabled:(f=e.localCacheEnabled)!==null&&f!==void 0&&f,localCacheConfig:(m=e.localCacheConfig)!==null&&m!==void 0?m:new jL});this.debugMode=(v=e.debugMode)!==null&&v!==void 0&&v,this.maxSuperGroupChannelUnreadCount=Id.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=x.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=x.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=x.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var S=this.dispatcher=new pae,k=new hae;this.requestQueue=new gse(t,{auth:k,sdkState:C,dispatcher:S,logger:A,useFetchCompat:e.useFetchCompat}),this.sessionManager=new Nse({auth:k,cacheContext:L,sdkState:C,dispatcher:S,requestQueue:this.requestQueue,logger:A}),this.connectionManager=new Hse(t,{sdkState:C,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:S,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(y=e.disableWebSocketCloseEventHandling)!==null&&y!==void 0&&y,logger:A}),this.statLogCollector=new $se({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:S}),this.appStateToggleEnabled=(w=e.appStateToggleEnabled)===null||w===void 0||w}return rd[t]}return n.of=function(t){if(rd[t])return rd[t];throw De.lostInstance},n.clear=function(t){rd[t]&&delete rd[t]},n}(),Kb=function(){function n(){}return n.prototype.init=function(t,e){var r=e.sdkState,a=e.dispatcher,o=e.sessionManager,u=e.requestQueue,h=e.logger;e.onlineDetector;var f=e.cacheContext,m=f===void 0?null:f;this._iid=t,this._cacheContext=m,this._sdkState=r,this._dispatcher=a,this._sessionManager=o,this._requestQueue=u,this._logger=h},n}();(function(n){n.BASE="base",n.USER="user",n.FILE="file",n.ADMIN="admin"})(Xr||(Xr={})),function(n){n.ALL="",n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(ji||(ji={})),function(n){n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(E0||(E0={})),function(n){n.USERS="users",n.CHANNEL="channel"}(Wi||(Wi={})),function(n){n.ALL="all",n.NONE="none",n.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(Aa||(Aa={})),function(n){n.DEFAULT="default",n.SUPPRESS="suppress"}(bu||(bu={})),function(n){n.PENDING="pending",n.SCHEDULED="scheduled",n.SUCCEEDED="succeeded",n.FAILED="failed",n.CANCELED="canceled"}(Nr||(Nr={})),function(n){n.BASE="base",n.GROUP="group",n.OPEN="open"}(Zt||(Zt={})),function(n){n.OPERATOR="operator",n.NONE="none"}(Js||(Js={})),function(n){n.OPEN="open",n.CLOSED="closed"}(Jc||(Jc={}));var ut,yU="removed",vx=function(n){switch(n){case Jc.OPEN:return Jc.OPEN;case Jc.CLOSED:return Jc.CLOSED}},EU=function(n){return!n||n.text&&be("string",n.text)},Vse=function(n){return bt("string",n)&&n.every(function(t){return t.trim()!==""})},vg=function(n){function t(e,r){var a,o,u,h,f,m,v,y=this;return(y=n.call(this,e)||this).pollId=0,y.id=0,y.text=null,y.voteCount=0,y.createdBy=null,y.createdAt=0,y.updatedAt=0,y._lastVotedAt=0,y.pollId=(a=r.poll_id)!==null&&a!==void 0?a:0,y.id=(o=r.id)!==null&&o!==void 0?o:0,y.text=(u=r.text)!==null&&u!==void 0?u:null,y.voteCount=(h=r.vote_count)!==null&&h!==void 0?h:0,y.createdBy=(f=r.created_by)!==null&&f!==void 0?f:null,y.createdAt=(m=r.created_at)!==null&&m!==void 0?m:0,y.updatedAt=(v=r.updated_at)!==null&&v!==void 0?v:0,y}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{vote_count:e.voteCount,poll_id:e.pollId,text:e.text,created_at:e.createdAt,id:e.id,created_by:e.createdBy,updated_at:e.updatedAt})):null},t}(Us),ao=function(n){function t(e,r){var a,o,u,h,f,m,v,y,w,x,C,A,L,S=this;return(S=n.call(this,e)||this).id=0,S.title=null,S.createdAt=0,S.updatedAt=0,S.closeAt=-1,S.status=Jc.CLOSED,S.messageId=0,S.data=null,S.voterCount=-1,S.options=[],S.createdBy=null,S.allowUserSuggestion=!1,S.allowMultipleVotes=!1,S.votedPollOptionIds=[],S.id=(a=r.id)!==null&&a!==void 0?a:0,S.title=(o=r.title)!==null&&o!==void 0?o:null,S.createdAt=(u=r.created_at)!==null&&u!==void 0?u:0,S.updatedAt=(h=r.updated_at)!==null&&h!==void 0?h:0,S.closeAt=(f=r.close_at)!==null&&f!==void 0?f:-1,S.status=(m=vx(r.status))!==null&&m!==void 0?m:Jc.CLOSED,S.messageId=(v=r.message_id)!==null&&v!==void 0?v:0,S.data=(y=r.data)!==null&&y!==void 0?y:null,S.voterCount=(w=r.voter_count)!==null&&w!==void 0?w:-1,S.options=r.options?r.options.map(function(k){return new vg(S._iid,k)}):[],S.createdBy=(x=r.created_by)!==null&&x!==void 0?x:null,S.allowUserSuggestion=(C=r.allow_user_suggestion)!==null&&C!==void 0&&C,S.allowMultipleVotes=(A=r.allow_multiple_votes)!==null&&A!==void 0&&A,S.votedPollOptionIds=(L=r.voted_option_ids)!==null&&L!==void 0?L:[],S}return ne(t,n),t.prototype._applyPollUpdatePayload=function(e){var r,a,o,u,h,f,m,v,y=this;this.title=(r=e.title)!==null&&r!==void 0?r:this.title,this.updatedAt=(a=e.updated_at)!==null&&a!==void 0?a:this.updatedAt,this.closeAt=(o=e.close_at)!==null&&o!==void 0?o:this.closeAt,this.status=(u=vx(e.status))!==null&&u!==void 0?u:this.status,this.data=(h=e.data)!==null&&h!==void 0?h:this.data,this.voterCount=(f=e.voter_count)!==null&&f!==void 0?f:this.voterCount,e.options&&(this.options=e.options.map(function(w){return new vg(y._iid,w)}),this.votedPollOptionIds=e.options.filter(function(w){return w.vote_count>0}).map(function(w){return w.id})),this.allowUserSuggestion=(m=e.allow_user_suggestion)!==null&&m!==void 0?m:this.allowUserSuggestion,this.allowMultipleVotes=(v=e.allow_multiple_votes)!==null&&v!==void 0?v:this.allowMultipleVotes},t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{id:e.id,title:e.title,created_at:e.createdAt,updated_at:e.updatedAt,close_at:e.closeAt,status:e.status,message_id:e.messageId,data:e.data,voter_count:e.voterCount,options:e.options.map(function(r){return vg.payloadify(r)}),created_by:e.createdBy,allow_user_suggestion:e.allowUserSuggestion,allow_multiple_votes:e.allowMultipleVotes,voted_option_ids:e.votedPollOptionIds})):null},t.prototype.applyPollUpdateEvent=function(e){var r=e._payload.poll;return!(!r||this.id!==r.id||r.updated_at<this.updatedAt)&&(this._applyPollUpdatePayload(r),!0)},t.prototype.applyPollVoteEvent=function(e){if(this.id!==e.pollId)return!1;var r=this.options,a=r.map(function(h){return h.id}),o=e._payload,u=Math.floor(o.ts/1e3);return o.updated_vote_counts.forEach(function(h){var f=a.indexOf(h.option_id);if(f>-1){var m=r[f];u>=m._lastVotedAt&&(m.voteCount=h.vote_count,m._lastVotedAt=u)}}),o.req_id&&o.voted_option_ids&&(this.votedPollOptionIds=o.voted_option_ids),!0},t.prototype.serialize=function(){return R0(this)},t}(Us),Gt=function(n){switch(n){case Zt.GROUP:return _a;case Zt.OPEN:return Yd;default:return null}},wU=function(n){switch(n){case Zt.GROUP:return"".concat(_x,"/group_channels");case Zt.OPEN:return"".concat(_x,"/open_channels");default:return null}},w0=function(n,t,e){var r,a;switch(n){case Wi.CHANNEL:return!0;case Wi.USERS:if(t)try{for(var o=kn(t),u=o.next();!u.done;u=o.next())if(u.value===e)return!0}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}}return!1},vk=function(n,t,e){var r=w0(n.mentionType,n.mentionedUserIds,e),a=w0(t.mentionType,t.mentionedUserIds,e);return!r&&a?1:r&&!a?-1:0};(function(n){n.UNKNOWN="UNKNOWN",n.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",n.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",n.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",n.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",n.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",n.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",n.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",n.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",n.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",n.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",n.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",n.REQUEST_MESSAGE="REQUEST_MESSAGE",n.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",n.EVENT_POLL_VOTED="EVENT_POLL_VOTED",n.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",n.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",n.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",n.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",n.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",n.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",n.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",n.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",n.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",n.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",n.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(ut||(ut={}));var id=function(n){return n.startsWith("EVENT_")||n===ut.SYNC_MESSAGE_FILL||n===ut.SYNC_MESSAGE_CHANGELOGS||n===ut.SYNC_POLL_CHANGELOGS},ti=function(n){function t(e){var r=e.messages,a=e.source,o=n.call(this)||this;return o.messages=r,o.source=a,o}return ne(t,n),t}(di),gk=function(n){function t(e){var r=e.messageIds,a=e.source,o=n.call(this)||this;return o.messageIds=r,o.source=a,o}return ne(t,n),t}(di),xU=function(n){function t(e){var r=e.reqId,a=e.source,o=n.call(this)||this;return o.reqId=r,o.source=a,o}return ne(t,n),t}(di),kU=function(n){function t(e){var r=e.polls,a=e.source,o=n.call(this)||this;return o.polls=r,o.source=a,o}return ne(t,n),t}(di),bk=function(n){function t(e){var r=e.event,a=e.source,o=n.call(this)||this;return o.event=r,o.source=a,o}return ne(t,n),t}(di),Wb=function(n){function t(e){var r=e.event,a=e.source,o=n.call(this)||this;return o.event=null,o.source=null,o.event=r,o.source=a,o}return ne(t,n),t}(di),uc=function(){function n(t,e){var r;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=t,this.limit=(r=e.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),n.prototype._validate=function(){return be("number",this.limit)&&this.limit>0},n}(),dc=function(n){function t(e,r,a,o){var u=n.call(this,e,o)||this;return u.channelUrl=r,u.channelType=a,u}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&be("string",this.channelUrl)&&_t(Zt,this.channelType)},t}(uc),p_,SU=function(n){function t(e){var r=n.call(this)||this;if(r.method=hn.POST,r.path="".concat(bse),r.params=at({file:e.file,channel_url:e.channelUrl}),e.thumbnailSizes)for(var a=0;a<e.thumbnailSizes.length;a++){var o=e.thumbnailSizes[a],u=o.maxWidth,h=o.maxHeight;r.params["thumbnail".concat(a+1)]="".concat(u,",").concat(h)}return r.requestId=e.requestId,r}return ne(t,n),t}(fn),TU=function(n){function t(e,r){var a,o,u,h=this;return(h=n.call(this,e,r)||this).url=r.url,h.fileSize=(a=r.file_size)!==null&&a!==void 0?a:0,h.thumbnailSizes=(o=r.thumbnails)!==null&&o!==void 0?o:[],h.requireAuth=(u=r.require_auth)!==null&&u!==void 0&&u,h}return ne(t,n),t}(vn),gx=function(n){function t(e,r){var a,o,u,h=this;return(h=n.call(this,e)||this).replyCount=0,h.mostRepliedUsers=null,h.lastRepliedAt=0,h.updatedAt=0,h.replyCount=(a=r.reply_count)!==null&&a!==void 0?a:0,h.mostRepliedUsers=r.hasOwnProperty("most_replies")&&bt("object",r.most_replies)?r.most_replies.map(function(f){return new kt(h._iid,f)}):[],h.lastRepliedAt=(o=r.last_replied_at)!==null&&o!==void 0?o:0,h.updatedAt=(u=r.updated_at)!==null&&u!==void 0?u:0,h}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{reply_count:e.replyCount,most_replies:Array.isArray(e.mostRepliedUsers)?e.mostRepliedUsers.map(function(r){return kt.payloadify(r)}):[],last_replied_at:e.lastRepliedAt,updated_at:e.updatedAt})):null},t}(Us);(function(n){n.ADD="add",n.DELETE="delete"})(p_||(p_={}));var eu,Ts,yk=function(n){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var t=be("string",n.msg_id)?parseInt(n.msg_id):n.msg_id,e=n.user_id,r=n.operation?n.operation.toLowerCase():null,a=n.reaction,o=n.updated_at;t&&be("string",e)&&be("string",r)&&_t(p_,r)&&be("string",a)&&a&&be("number",o)&&(this.messageId=t,this.userId=e,this.key=a,this.operation=r,this.updatedAt=o)},Bv=function(){function n(t){var e,r,a,o=t.key,u=(a=nt([],Qn(t.user_ids),!1))!==null&&a!==void 0?a:[],h=t.updated_at;be("string",o)&&o&&bt("string",u)&&u.length>0&&be("number",h)&&(this.key=o,this.userIds=u,this.updatedAt=h);var f={};try{for(var m=kn(this.userIds),v=m.next();!v.done;v=m.next())f[v.value]=this.updatedAt}catch(y){e={error:y}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(e)throw e.error}}this._version=f}return Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),n.payloadify=function(t){return t?at({key:t.key,user_ids:t.userIds,updated_at:t.updatedAt}):null},n.prototype.applyEvent=function(t){if(t.key===this.key&&this.updatedAt<=t.updatedAt){if(!this._version[t.userId]||this._version[t.userId]<=t.updatedAt){var e=this.userIds.indexOf(t.userId);switch(t.operation){case p_.ADD:e<0&&this.userIds.push(t.userId);break;case p_.DELETE:e>=0&&this.userIds.splice(e,1)}this._version[t.userId]=t.updatedAt}this.updatedAt=Math.max(this.updatedAt,t.updatedAt)}},n}(),$a=function(){function n(t){this.key=t.key,this.value=bt("string",t.value)?nt([],Qn(t.value),!1):[]}return n.payloadify=function(t){var e;return t?at({key:t.key,value:(e=t.value)!==null&&e!==void 0?e:[]}):null},n}(),jO=function(){function n(t){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=t.url,t.hasOwnProperty("secure_url")&&(this.secureUrl=t.secure_url),t.hasOwnProperty("type")&&(this.type=t.type),t.hasOwnProperty("width")&&(this.width=t.width),t.hasOwnProperty("height")&&(this.height=t.height),t.hasOwnProperty("alt")&&(this.alt=t.alt)}return n.payloadify=function(t){var e,r;return t?at({url:t.url,secure_url:t.secureUrl,type:t.type,width:(e=t.width)!==null&&e!==void 0?e:0,height:(r=t.height)!==null&&r!==void 0?r:0,alt:t.alt}):null},n}(),KO=function(){function n(t){this.title=null,this.url=null,this.description=null,this.defaultImage=null,t.hasOwnProperty("og:title")&&(this.title=t["og:title"]),t.hasOwnProperty("og:url")&&(this.url=t["og:url"]),t.hasOwnProperty("og:description")&&(this.description=t["og:description"]),t.hasOwnProperty("og:image")&&(this.defaultImage=new jO(t["og:image"]))}return n.payloadify=function(t){return t?at({"og:title":t.title,"og:url":t.url,"og:description":t.description,"og:image":t.defaultImage?jO.payloadify(t.defaultImage):null}):null},n}(),fl=function(){function n(t){var e,r;this.name=null,this.volume=0,this.name=(e=t.name)!==null&&e!==void 0?e:"default",this.volume=(r=t.volume)!==null&&r!==void 0?r:1}return n.prototype.serialize=function(){return{name:this.name,volume:this.volume}},n.payloadify=function(t){return t?at({name:t.name,volume:t.volume}):null},n}();(function(n){n.PENDING="pending",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled"})(eu||(eu={})),function(n){n.PENDING="pending",n.IN_QUEUE="in_queue",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled",n.REMOVED="removed"}(Ts||(Ts={}));var ia,Gse=function(n){switch(n){case Xr.BASE:return"";case Xr.USER:return"MESG";case Xr.FILE:return"FILE";case Xr.ADMIN:return"ADMM"}},$l=function(n){function t(e,r){var a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N=this;(N=n.call(this,e)||this).channelUrl=null,N.channelType=Zt.BASE,N.messageId=0,N.parentMessageId=null,N.parentMessage=null,N.silent=!1,N.isOperatorMessage=!1,N.messageType=Xr.BASE,N.data=null,N.customType=null,N.mentionType=null,N.mentionedUsers=[],N.mentionedUserIds=[],N.mentionedMessageTemplate=null,N.threadInfo=null,N.reactions=[],N.metaArrays=[],N.ogMetaData=null,N.appleCriticalAlertOptions=null,N.createdAt=0,N.updatedAt=0,N.scheduledInfo=null,N.extendedMessage={},N._isContinuousMessages=!1,N._scheduledStatus=null,N.messageId=(o=(a=r.msg_id)!==null&&a!==void 0?a:r.message_id)!==null&&o!==void 0?o:0,N.channelUrl=r.channel_url,N.channelType=_t(Zt,r.channel_type)?r.channel_type:Zt.GROUP,r.channel&&(r.channel.channel_url&&(N.channelUrl=r.channel.channel_url),r.channel.channel_type&&(N.channelType=r.channel.channel_type)),N.parentMessageId=(u=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&u!==void 0?u:0,N.data=(h=r.data)!==null&&h!==void 0?h:"",N.customType=(f=r.custom_type)!==null&&f!==void 0?f:"",N.mentionType=_t(Wi,r.mention_type)?r.mention_type:null;var O=r.mentioned_users;N.mentionedUsers=O?O.map(function(z){return new kt(N._iid,z)}):null;var H=r.mentioned_user_ids;N.mentionedUserIds=H??null,N.mentionedUsers&&!N.mentionedUserIds&&(N.mentionedUserIds=N.mentionedUsers.map(function(z){return z.userId})),N.mentionedMessageTemplate=(m=r.mentioned_message_template)!==null&&m!==void 0?m:"",N.threadInfo=r.thread_info?new gx(N._iid,r.thread_info):null,N.reactions=r.reactions?r.reactions.map(function(z){return new Bv(z)}):[];for(var D=(v=r.metaarray)!==null&&v!==void 0?v:{},T=(y=r.metaarray_key_order)!==null&&y!==void 0?y:Object.keys(D).sort(function(z,re){return z.localeCompare(re)}),M=0;M<T.length;M++){var q=T[M];N.metaArrays.push(new $a({key:q,value:D[q]||[]}))}return r.sorted_metaarray&&(N.metaArrays=r.sorted_metaarray.map(function(z){return new $a(z)})),N.ogMetaData=r.og_tag?new KO(r.og_tag):null,N.silent=(w=r.silent)!==null&&w!==void 0&&w,N.isOperatorMessage=(x=r.is_op_msg)!==null&&x!==void 0&&x,N.appleCriticalAlertOptions=r.apple_critical_alert_options?new fl(r.apple_critical_alert_options):null,N.createdAt=(A=(C=r.created_at)!==null&&C!==void 0?C:r.ts)!==null&&A!==void 0?A:0,N.updatedAt=(L=r.updated_at)!==null&&L!==void 0?L:0,typeof r.scheduled_message_id=="number"&&typeof r.scheduled_at=="number"&&r.scheduled_status&&(N.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},N._scheduledStatus=r.scheduled_status),N.extendedMessage=(S=r.extended_message)!==null&&S!==void 0?S:{},N._isContinuousMessages=(k=r.is_continuous_messages)!==null&&k!==void 0&&k,N}return ne(t,n),t.payloadify=function(e){var r,a,o,u;return e?at(Ee(Ee({},n.payloadify.call(this,e)),{channel_url:e.channelUrl,channel_type:e.channelType,message_id:e.messageId,type:Gse(e.messageType),parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,mentioned_user_ids:e.mentionedUserIds,mentioned_users:(r=e.mentionedUsers)===null||r===void 0?void 0:r.map(function(h){return kt.payloadify(h)}),mentioned_message_template:e.mentionedMessageTemplate,thread_info:e.threadInfo?gx.payloadify(e.threadInfo):null,reactions:e.reactions.map(function(h){return Bv.payloadify(h)}),sorted_metaarray:(a=e.metaArrays)===null||a===void 0?void 0:a.map(function(h){return $a.payloadify(h)}),og_tag:KO.payloadify(e.ogMetaData),silent:e.silent,is_op_msg:e.isOperatorMessage,apple_critical_alert_options:fl.payloadify(e.appleCriticalAlertOptions),created_at:e.createdAt,updated_at:e.updatedAt,scheduled_message_id:(o=e.scheduledInfo)===null||o===void 0?void 0:o.scheduledMessageId,scheduled_at:(u=e.scheduledInfo)===null||u===void 0?void 0:u.scheduledAt,scheduled_status:e._scheduledStatus,extended_message:e.extendedMessage})):null},t.prototype.isIdentical=function(e){return this.messageId===e.messageId},t.prototype.isEqual=function(e){return VL(this,e)},t.prototype.isUserMessage=function(){return this.messageType===Xr.USER},t.prototype.isFileMessage=function(){return this.messageType===Xr.FILE},t.prototype.isAdminMessage=function(){return this.messageType===Xr.ADMIN},t.prototype.serialize=function(){return R0(this)},t.prototype.getMetaArraysByKeys=function(e){return this.metaArrays.filter(function(r){return e.includes(r.key)})},t.prototype.applyThreadInfoUpdateEvent=function(e){return this.messageId===e.targetMessageId&&(this.threadInfo=e.threadInfo),!1},t.prototype.applyReactionEvent=function(e){if(this.messageId===e.messageId){for(var r=!1,a=0;a<this.reactions.length;a++)if(this.reactions[a].key===e.key){this.reactions[a].applyEvent(e),this.reactions[a].isEmpty&&this.reactions.splice(a,1),r=!0;break}r||e.operation!=="add"||this.reactions.push(new Bv(Bv.payloadify({key:e.key,userIds:[e.userId],updatedAt:e.updatedAt})))}},t.prototype.applyParentMessage=function(e){if(this.parentMessageId===e.messageId){var r=this.parentMessage.updatedAt;if(e.updatedAt>=r)return this.parentMessage=e,!0}return!1},t}(Us),f_=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.role=null,a.isBlockedByMe=!1,a.role=_t(Js,r.role)?r.role:Js.NONE,r.hasOwnProperty("is_blocked_by_me")&&(a.isBlockedByMe=r.is_blocked_by_me),a}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{role:e.role,is_blocked_by_me:e.isBlockedByMe})):null},t}(kt),Ti=function(n){function t(e,r){var a,o,u,h,f=this;if((f=n.call(this,e,r)||this).sender=null,f.reqId="",f.replyToChannel=!1,f.sendingStatus=null,f.errorCode=0,f.sender=r.user?new f_(f._iid,r.user):r.sender_id,f.reqId=(o=(a=r.req_id)!==null&&a!==void 0?a:r.request_id)!==null&&o!==void 0?o:"",f.replyToChannel=(u=r.is_reply_to_channel)!==null&&u!==void 0&&u,r.request_state&&_t(Nr,r.request_state)&&(f.sendingStatus=r.request_state),!f.sendingStatus)if(f.messageId>0)f.sendingStatus=Nr.SUCCEEDED;else if(f.scheduledInfo)switch(f._scheduledStatus=r.scheduled_status,r.scheduled_status){case Ts.SENT:case Ts.IN_QUEUE:f.sendingStatus=Nr.SUCCEEDED;break;case Ts.PENDING:f.sendingStatus=Nr.SCHEDULED;break;case Ts.FAILED:case Ts.REMOVED:f.sendingStatus=Nr.FAILED;break;case Ts.CANCELED:f.sendingStatus=Nr.CANCELED}else f.sendingStatus=Nr.PENDING;return f.errorCode=(h=r.error_code)!==null&&h!==void 0?h:0,f}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{user:f_.payloadify(e.sender),req_id:e.reqId,is_reply_to_channel:e.replyToChannel,request_state:e.sendingStatus,error_code:e.errorCode})):null},Object.defineProperty(t.prototype,"isResendable",{get:function(){return this.sendingStatus===Nr.FAILED&&oae(this.errorCode)},enumerable:!1,configurable:!0}),t.prototype.isIdentical=function(e){return this.messageId>0&&e.messageId>0?this.messageId===e.messageId:this.reqId===e.reqId},t}($l),Qb=function(){function n(t){var e,r;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=t.url,this.width=t.width,this.height=t.height,this.realWidth=(e=t.real_width)!==null&&e!==void 0?e:t.width,this.realHeight=(r=t.real_height)!==null&&r!==void 0?r:t.height}return n.payloadify=function(t){return t?at({url:"",width:t.maxWidth,height:t.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(n.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),n}(),Yb={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ji.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},Ek=function(n){return be("number",n.prevResultSize)&&be("number",n.nextResultSize)&&be("boolean",n.isInclusive)&&be("boolean",n.reverse)&&be("string",n.messageTypeFilter)&&_t(ji,n.messageTypeFilter)&&bt("string",n.customTypesFilter,!0)&&bt("string",n.senderUserIdsFilter,!0)&&be("boolean",n.includeMetaArray)&&be("boolean",n.includeReactions)&&be("boolean",n.includeParentMessageInfo)},x0=function(n){function t(e,r){var a,o,u,h,f=this;if((f=n.call(this,e,r)||this).message=null,f.translations={},f.message=(a=r.message)!==null&&a!==void 0?a:"",f.messageType=Xr.ADMIN,f.translations=(o=r.translations)!==null&&o!==void 0?o:{},r.parent_message_info){var m=r.parent_message_info,v=Ee(Ee({},m),{message_id:f.parentMessageId,channel_url:f.channelUrl,channel_type:f.channelType,file:m.file,url:(u=m.file)===null||u===void 0?void 0:u.url,require_auth:(h=m.file)===null||h===void 0?void 0:h.require_auth});f.parentMessage=Ga(e,v)}return f}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{message:e.message,translations:e.translations,parent_message_info:__(e.parentMessage)})):null},t.prototype.getThreadedMessagesByTimestamp=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Ee(Ee({},Yb),r),mn(this.messageId>0&&be("number",e)&&Ek(a)).throw(De.invalidParameters),[4,Di.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,o.sent()]}})})},t}($l),WO=function(){function n(t){var e,r;this.type=null,this.vendor=null,this.detail={},this.type=(e=t.type)!==null&&e!==void 0?e:"",this.vendor=(r=t.vendor)!==null&&r!==void 0?r:"",t.hasOwnProperty("detail")&&be("object",t.detail)&&!Array.isArray(t.detail)&&(this.detail=t.detail)}return n.payloadify=function(t){return t?at({type:t.type,vendor:t.vendor,detail:t.detail}):null},n}(),qi=function(n){function t(e,r){var a,o,u,h,f,m,v,y=this;if((y=n.call(this,e,r)||this).message="",y.messageParams=null,y.translations={},y.translationTargetLanguages=[],y.messageSurvivalSeconds=-1,y.plugins=[],y._poll=null,y.message=r.message,y.messageType=Xr.USER,y.translations=(u=r.translations)!==null&&u!==void 0?u:{},y.translationTargetLanguages=(h=r.target_langs)!==null&&h!==void 0?h:[],Object.keys(y.translations).length===0&&y.translationTargetLanguages.length>0)try{for(var w=kn(y.translationTargetLanguages),x=w.next();!x.done;x=w.next()){var C=x.value;y.translations[C]=""}}catch(S){a={error:S}}finally{try{x&&!x.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(y.messageSurvivalSeconds=(f=r.message_survival_seconds)!==null&&f!==void 0?f:-1,y.plugins=r.plugins?r.plugins.map(function(S){return new WO(S)}):[],y._poll=r.poll?new ao(y._iid,r.poll):null,r.parent_message_info){var A=r.parent_message_info,L=Ee(Ee({},A),{created_at:A.ts,message_id:y.parentMessageId,channel_url:y.channelUrl,channel_type:y.channelType,file:A.file,url:(m=A.file)===null||m===void 0?void 0:m.url,require_auth:(v=A.file)===null||v===void 0?void 0:v.require_auth});y.parentMessage=Ga(e,at(L))}return y}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{message:e.message,translations:e.translations,message_survival_seconds:e.messageSurvivalSeconds,plugins:e.plugins.map(function(r){return WO.payloadify(r)}),poll:ao.payloadify(e._poll),parent_message_info:__(e.parentMessage)})):null},t.prototype.getThreadedMessagesByTimestamp=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Ee(Ee({},Yb),r),mn(this.messageId>0&&be("number",e)&&Ek(a)).throw(De.invalidParameters),[4,Di.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,o.sent()]}})})},t.prototype.applyPoll=function(e){return!(this._poll&&this._poll.id===e.id&&this._poll.updatedAt>e.updatedAt)&&(this._poll=e,!0)},Object.defineProperty(t.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),t}(Ti),__=function(n){if(n)switch(n.messageType){case Xr.USER:return qi.payloadify(n);case Xr.FILE:return ri.payloadify(n);case Xr.ADMIN:return x0.payloadify(n)}return null},Ga=function(n,t){switch(t.type){case"MESG":return new qi(n,t);case"FILE":return new ri(n,t);case"ADMM":case"BRDM":return new x0(n,t)}return null},ri=function(n){function t(e,r){var a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N=this;(N=n.call(this,e,r)||this).messageParams=null,N.plainUrl="",N.requireAuth=!1,N.name=null,N.size=0,N.type=null,N.thumbnails=[],N.messageSurvivalSeconds=-1,N.messageType=Xr.FILE;var O=(a=r.file)!==null&&a!==void 0?a:null;N.plainUrl=((u=(o=O==null?void 0:O.url)!==null&&o!==void 0?o:r.url)!==null&&u!==void 0?u:"").split("?auth=")[0],N.name=(f=(h=O==null?void 0:O.name)!==null&&h!==void 0?h:r.name)!==null&&f!==void 0?f:"File",N.size=(v=(m=O==null?void 0:O.size)!==null&&m!==void 0?m:r.size)!==null&&v!==void 0?v:0,N.data=(w=(y=O==null?void 0:O.data)!==null&&y!==void 0?y:r.custom)!==null&&w!==void 0?w:"",N.type=O?(x=O.type)!==null&&x!==void 0?x:"":(C=r.type)!==null&&C!==void 0?C:"";var H=Te.of(N._iid).sessionManager;if(N.requireAuth=(A=r.require_auth)!==null&&A!==void 0&&A,N.thumbnails=r.thumbnails?r.thumbnails.map(function(M){return new Qb(Ee(Ee({},M),{url:"".concat(M.url.split("?auth=")[0]).concat(N.requireAuth?"?auth=".concat(H.ekey):"")}))}):[],N.messageSurvivalSeconds=(L=r.message_survival_seconds)!==null&&L!==void 0?L:-1,r.parent_message_info){var D=r.parent_message_info,T=Ee(Ee({},D),{message_id:N.parentMessageId,channel_url:N.channelUrl,channel_type:N.channelType,file:D.file,url:(S=D.file)===null||S===void 0?void 0:S.url,require_auth:(k=D.file)===null||k===void 0?void 0:k.require_auth});N.parentMessage=Ga(e,T)}return N}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{url:e.plainUrl,require_auth:e.requireAuth,file:{name:e.name,size:e.size,type:e.type,data:e.data},thumbnails:e.thumbnails.map(function(r){return{url:r.url,width:r.width,height:r.height,real_width:r.realWidth,real_height:r.realHeight}}),message_survival_seconds:e.messageSurvivalSeconds,parent_message_info:__(e.parentMessage)})):null},Object.defineProperty(t.prototype,"url",{get:function(){var e=Te.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),t.prototype.getThreadedMessagesByTimestamp=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Ee(Ee({},Yb),r),mn(this.messageId>0&&be("number",e)&&Ek(a)).throw(De.invalidParameters),[4,Di.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,o.sent()]}})})},t}(Ti),qse=function(n){function t(e){var r,a,o,u=[];return e.mentionType===Wi.USERS&&(e.mentionedUserIds?u=e.mentionedUserIds:e.mentionedUsers&&(u=e.mentionedUsers.map(function(h){return h.userId}))),n.call(this,{code:"FILE",ackRequired:!0,payload:at({channel_url:e.channelUrl,url:e.url,name:(r=e.fileName)!==null&&r!==void 0?r:"",type:(a=e.mimeType)!==null&&a!==void 0?a:"",size:(o=e.fileSize)!==null&&o!==void 0?o:0,custom:e.data,custom_type:e.customType,thumbnails:e.thumbnailSizes,require_auth:e.requireAuth,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:u,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==bu.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId>0?e.parentMessageId:null,req_id:e.reqId,pin_message:e.isPinnedMessage})})||this}return ne(t,n),t}(Wa),jse=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=[];return e.mentionType===Wi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(u){return u.userId}))),a.method=hn.POST,a.path="".concat(Gt(e.channelType),"/").concat(encodeURIComponent(e.channelUrl),"/messages"),a.params=at({message_type:Xr.FILE,user_id:e.userId,url:e.fileUrl,mention_type:e.mentionType,mentioned_user_ids:o,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,data:e.data,custom_type:e.customType,thumbnails:e.thumbnailSizes.map(function(u){return Qb.payloadify(u)}),require_auth:e.requireAuth,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(u){return $a.payloadify(u)}),push_option:e.pushNotificationDeliveryOption,parent_message_id:e.parentMessageId>0?e.parentMessageId:null,apple_critical_alert_options:fl.payloadify(e.appleCriticalAlertOptions),reply_to_channel:e.isReplyToChannel,req_id:e.reqId,pin_message:e.isPinnedMessage}),a}return ne(t,n),t}(fn),wk=function(n){function t(e,r,a){var o,u,h,f=this;(f=n.call(this,e,"FILE",a)||this).message=new ri(e,a);var m=Te.of(e).sdkState;return f.isMentioned=w0(f.message.mentionType,(o=f.message.mentionedUserIds)!==null&&o!==void 0?o:(u=f.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),m.userId),f.forceUpdateLastMessage=(h=a.force_update_last_message)!==null&&h!==void 0&&h,f}return ne(t,n),t}(or),Kse=function(n){function t(e,r){var a,o,u=this;(u=n.call(this,e,r)||this).message=new ri(e,r);var h=Te.of(e).sdkState;return u.isMentioned=w0(u.message.mentionType,(a=u.message.mentionedUserIds)!==null&&a!==void 0?a:u.message.mentionedUsers.map(function(f){return f.userId}),h.userId),u.forceUpdateLastMessage=(o=r.force_update_last_message)!==null&&o!==void 0&&o,u}return ne(t,n),t}(vn);(function(n){n[n.PENDING=0]="PENDING",n[n.UPLOADING=1]="UPLOADING",n[n.UPLOADED=2]="UPLOADED",n[n.SENDING=3]="SENDING",n[n.FAILED=4]="FAILED"})(ia||(ia={}));var Uf,Wse=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,o=e.requestQueue,u=e.onlineDetector,h=e.cacheContext,f=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=t,this._sdkState=r,this._requestQueue=o,this._cacheContext=h,this._dispatcher=a,this._dispatcher.on(function(m){m instanceof hs&&(f._connectionState=m.stateType)}),this._onlineDetector=u}return Object.defineProperty(n.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Vt.CONNECTED||this._connectionState===Vt.CONNECTING||this._connectionState===Vt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype._sendFileMessage=function(t,e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return this._shouldSendThroughWebSocket?(r=new qse(Ee(Ee({},e.params),{channelUrl:t.url,channelType:t.channelType,url:e.params.fileUrl,requireAuth:e.requireAuth,reqId:e.requestId})),[4,this._requestQueue.send(r)]):[3,2];case 1:return a=o.sent(),[2,a.as(wk).message];case 2:return r=new jse(Ee(Ee({},e.params),{channelUrl:t.url,channelType:t.channelType,url:e.params.fileUrl,userId:this._sdkState.userId,requireAuth:e.requireAuth,reqId:e.requestId})),[4,this._requestQueue.send(r)];case 3:return a=o.sent(),[2,a.as(Kse).message]}})})},n.prototype._resolveMessageQueue=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:if(!(e=this._queueMap.get(t.url)))return[3,21];if(e.isResolving)return[3,20];e.isResolving=!0,r=[],a=!0,C.label=1;case 1:C.trys.push([1,15,16,17]),o=kn(e.messageQueue),u=o.next(),C.label=2;case 2:if(u.done)return[3,14];switch(h=u.value,h.state){case ia.PENDING:case ia.UPLOADING:return[3,3];case ia.UPLOADED:return[3,4];case ia.FAILED:return[3,12]}return[3,13];case 3:return a=!1,r.push(h),[3,13];case 4:if(!a)return[3,10];C.label=5;case 5:return C.trys.push([5,8,,9]),h.state=ia.SENDING,[4,this._sendFileMessage(t,h)];case 6:return f=C.sent(),h.deferred.resolve(f),[4,ko(100)];case 7:return C.sent(),[3,9];case 8:return m=C.sent(),h.deferred.reject(m),[3,9];case 9:return[3,11];case 10:r.push(h),C.label=11;case 11:return[3,13];case 12:return h.deferred.reject(h.error.code===xt.REQUEST_CANCELED?De.fileUploadCanceled:h.error),[3,13];case 13:return u=o.next(),[3,2];case 14:return[3,17];case 15:return v=C.sent(),w={error:v},[3,17];case 16:try{u&&!u.done&&(x=o.return)&&x.call(o)}finally{if(w)throw w.error}return[7];case 17:return y=e.isResolveRequestPending,e.messageQueue=r,e.isResolving=!1,e.isResolveRequestPending=!1,y?[4,this._resolveMessageQueue(t)]:[3,19];case 18:C.sent(),C.label=19;case 19:return[3,21];case 20:e.isResolveRequestPending=!0,C.label=21;case 21:return[2]}})})},n.prototype._uploadNextPendingItem=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w,x,C,A;return P(this,function(L){switch(L.label){case 0:return e=this._queueMap.get(t.url),(r=e.messageQueue.find(function(S){return S.state===ia.PENDING}))?Ii(r.params.file)?e.uploadQueue.length<6?(r.state=ia.UPLOADING,e.uploadQueue.push(r),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!L.sent())return[3,8];L.label=2;case 2:return L.trys.push([2,4,5,7]),a=new SU({file:r.params.file,channelUrl:t.url,thumbnailSizes:r.params.thumbnailSizes,requestId:r.requestId}),[4,this._requestQueue.send(a)];case 3:return o=L.sent(),u=o.as(TU),h=u.url,f=u.fileSize,m=f===void 0?r.params.fileSize:f,v=u.thumbnailSizes,y=v===void 0?r.params.thumbnailSizes:v,w=u.requireAuth,x=w!==void 0&&w,r.params.fileUrl=h,r.params.fileSize=m,r.params.thumbnailSizes=y,r.params.requireAuth=x,r.requireAuth=x,r.state=ia.UPLOADED,[3,7];case 4:return(C=L.sent()).code===xt.REQUEST_FAILED?r.error=new De({code:xt.NETWORK_ERROR,message:"Failed to upload a file."}):r.error=C,r.state=ia.FAILED,[3,7];case 5:return(A=e.uploadQueue.findIndex(function(S){return S.requestId===r.requestId}))>=0&&(e.uploadQueue.splice(A,1),this._uploadNextPendingItem(t)),[4,this._resolveMessageQueue(t)];case 6:return L.sent(),[7];case 7:return[3,10];case 8:return r.state=ia.FAILED,r.error=De.connectionRequired,(A=e.uploadQueue.findIndex(function(S){return S.requestId===r.requestId}))>=0&&(e.uploadQueue.splice(A,1),this._uploadNextPendingItem(t)),[4,this._resolveMessageQueue(t)];case 9:L.sent(),L.label=10;case 10:return[3,13];case 11:return r.params.thumbnailSizes=[],r.state=ia.UPLOADED,[4,this._resolveMessageQueue(t)];case 12:L.sent(),L.label=13;case 13:return[2]}})})},n.prototype.request=function(t,e,r){var a,o,u;return F(this,void 0,void 0,function(){var h;return P(this,function(f){return h=new za,Ii(r.file)&&(r.fileName=(a=r.fileName)!==null&&a!==void 0?a:r.file.name,r.mimeType=(o=r.mimeType)!==null&&o!==void 0?o:r.file.type,r.fileSize=(u=r.fileSize)!==null&&u!==void 0?u:r.file.size),this._queueMap.has(t.url)||this._queueMap.set(t.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(t.url).messageQueue.push({requestId:e,params:r,state:ia.PENDING,deferred:h,requireAuth:r.requireAuth}),this._uploadNextPendingItem(t),[2,h.promise]})})},n.prototype.cancel=function(t,e){var r,a;e===void 0&&(e=null);var o=this._queueMap.get(t.url);if(o){var u=e?[o.messageQueue.find(function(v){return v.requestId===e})]:nt([],Qn(o.messageQueue),!1);try{for(var h=kn(u),f=h.next();!f.done;f=h.next()){var m=f.value;if(m)switch(m.state){case ia.PENDING:m.state=ia.FAILED,m.error=De.requestCanceled,this._resolveMessageQueue(t);break;case ia.UPLOADING:this._requestQueue.cancel(m.requestId)}}}catch(v){r={error:v}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}},n}(),Pf={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ji.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:Aa.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},QO=function(n){return be("number",n.prevResultSize)&&be("number",n.nextResultSize)&&be("boolean",n.isInclusive)&&be("boolean",n.reverse)&&be("string",n.messageTypeFilter)&&_t(ji,n.messageTypeFilter)&&bt("string",n.customTypesFilter,!0)&&bt("string",n.senderUserIdsFilter,!0)&&_t(Aa,n.replyType)&&be("boolean",n.includeMetaArray)&&be("boolean",n.includeReactions)&&be("boolean",n.includeParentMessageInfo)&&be("boolean",n.includeThreadInfo)&&be("boolean",n.showSubchannelMessagesOnly)},bx={replyType:Aa.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},YO=function(n){return _t(Aa,n.replyType)&&be("boolean",n.includeReactions)&&be("boolean",n.includeMetaArray)&&be("boolean",n.includeParentMessageInfo)&&be("boolean",n.includeThreadInfo)},Qse=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,u=e.includeMetaArray,h=e.includeReactions,f=e.includeThreadInfo,m=e.includeParentMessageInfo,v=n.call(this)||this;return v.method=hn.GET,v.path="".concat(Gt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(encodeURIComponent(o)),v.params={is_sdk:!0,with_sorted_meta_array:u,include_reactions:h,include_thread_info:f,include_parent_message_info:m,include_poll_details:!0},v}return ne(t,n),t}(fn),Yse=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=r?Ga(e,Ee({},r)):null,a}return ne(t,n),t}(vn),$v=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.timestamp,u=o===void 0?null:o,h=e.token,f=h===void 0?null:h,m=e.prevResultSize,v=e.nextResultSize,y=e.isInclusive,w=e.reverse,x=e.messageTypeFilter,C=e.customTypesFilter,A=e.senderUserIdsFilter,L=e.replyType,S=e.includeMetaArray,k=e.includeReactions,N=e.parentMessageId,O=e.includeThreadInfo,H=e.includeParentMessageInfo,D=e.showSubchannelMessagesOnly,T=e.checkingContinuousMessages,M=n.call(this)||this;return M.method=hn.GET,M.path="".concat(Gt(r),"/").concat(encodeURIComponent(a),"/messages"),M.params=at({is_sdk:!0,prev_limit:m,next_limit:v,include:y,reverse:w,message_ts:u,message_id:f,message_type:x??null,custom_types:C,sender_ids:A,include_reply_type:L,with_sorted_meta_array:S,include_reactions:k,parent_message_id:N,include_thread_info:O,include_parent_message_info:H,show_subchannel_message_only:D,include_poll_details:!0,checking_continuous_messages:T}),M}return ne(t,n),t}(fn),zv=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.messages=r.messages.map(function(o){return Ga(e,o)}),a}return ne(t,n),t}(vn),Xse=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.timestamp,u=e.token,h=e.replyType,f=e.includeMetaArray,m=e.includeReactions,v=e.includeThreadInfo,y=e.includeParentMessageInfo,w=n.call(this)||this;return w.method=hn.GET,w.path="".concat(Gt(r),"/").concat(encodeURIComponent(a),"/messages/changelogs"),w.params={change_ts:o,token:u,with_sorted_meta_array:f,include_reactions:m,include_thread_info:v,include_reply_type:h,include_parent_message_info:y,include_poll_details:!0},w}return ne(t,n),t}(fn),Zse=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedMessages=r.updated.map(function(o){return Ga(e,o)}),a.deletedMessagesInfo=r.deleted.map(function(o){return{messageId:o.message_id,deletedAt:o.deleted_at}}),a.hasMore=r.has_more,a.nextToken=r.next,a}return ne(t,n),t}(vn),Jse=function(n){function t(e){var r=e.channelUrl,a=e.scheduledMessageId,o=n.call(this)||this;return o.method=hn.GET,o.path="".concat(_a,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(a)),o.params={},o}return ne(t,n),t}(fn),eoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=r?Ga(e,Ee({},r)):null,a}return ne(t,n),t}(vn),XO={},Di=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,o=e.requestQueue,u=e.onlineDetector,h=e.cacheContext;this._iid=t,this._sdkState=r,this._requestQueue=o,this._dispatcher=a,this._cacheContext=h,this.fileMessageQueue=new Wse(t,{sdkState:r,dispatcher:a,requestQueue:o,onlineDetector:u,cacheContext:h}),XO[t]=this}return n.of=function(t){return XO[t]},n.prototype.buildMessageFromSerializedData=function(t){var e=_u(t);switch(e.messageType){case Xr.USER:return new qi(this._iid,qi.payloadify(e));case Xr.FILE:return new ri(this._iid,ri.payloadify(e));case Xr.ADMIN:return new x0(this._iid,x0.payloadify(e))}return null},n.prototype.buildUserMessageCreateParamsFromSerializedData=function(t,e){return at({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,message:e.message,translationTargetLanguages:Object.keys(e.translations),pollId:t.pollId})},n.prototype.buildFileMessageCreateParamsFromSerializedData=function(t,e){return at({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,file:t.file,fileKey:t.fileKey,fileUrl:e.plainUrl,fileName:e.name,fileSize:e.size,mimeType:e.type,thumbnailSizes:e.thumbnails.map(function(r){return{maxWidth:r.width,maxHeight:r.height}}),fileType:t.fileType,requireAuth:e.requireAuth})},n.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(t,e){return Ee(Ee({},this.buildUserMessageCreateParamsFromSerializedData(t,e)),{scheduledAt:t.scheduledAt})},n.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(t,e){return Ee(Ee({},this.buildFileMessageCreateParamsFromSerializedData(t,e)),{scheduledAt:t.scheduledAt})},n.prototype.buildSenderFromSerializedData=function(t){var e=_u(t);return new f_(this._iid,f_.payloadify(e))},n.prototype.getMessage=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=new Qse(t),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(Yse).message]}})})},n.prototype.getScheduledMessage=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=new Jse(t),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(eoe).message]}})})},n.prototype.getMessagesByMessageId=function(t,e,r,a,o){return o===void 0&&(o=ut.REQUEST_MESSAGE),F(this,void 0,void 0,function(){var u,h,f;return P(this,function(m){switch(m.label){case 0:return u=new $v(Ee(Ee({channelType:e,channelUrl:t,token:String(r)},Pf),a)),[4,this._requestQueue.send(u)];case 1:return h=m.sent(),f=h.as(zv).messages,this._dispatcher.dispatch(new ti({messages:f,source:o})),[2,f]}})})},n.prototype.getMessagesByTimestamp=function(t,e,r,a,o){return o===void 0&&(o=ut.REQUEST_MESSAGE),F(this,void 0,void 0,function(){var u,h,f;return P(this,function(m){switch(m.label){case 0:return u=new $v(Ee(Ee({channelType:e,channelUrl:t,timestamp:r},Pf),a)),[4,this._requestQueue.send(u)];case 1:return h=m.sent(),f=h.as(zv).messages,this._dispatcher.dispatch(new ti({messages:f,source:o})),[2,f]}})})},n.prototype._getMessagesByTimestampForCollection=function(t,e,r,a,o,u){return o===void 0&&(o=ut.REQUEST_MESSAGE),F(this,void 0,void 0,function(){var h,f,m,v;return P(this,function(y){switch(y.label){case 0:return h=new $v(Ee(Ee(Ee({channelType:e,channelUrl:t,timestamp:r},Pf),a),{checkingContinuousMessages:u})),[4,this._requestQueue.send(h)];case 1:return f=y.sent(),m=f.payload,v=f.as(zv).messages,this._dispatcher.dispatch(new ti({messages:v,source:o})),[2,{messages:v,isContinuousMessages:m}]}})})},n.prototype.getThreadedMessagesByTimestamp=function(t,e,r,a){return a===void 0&&(a=ut.REQUEST_THREADED_MESSAGE),F(this,void 0,void 0,function(){var o,u,h,f;return P(this,function(m){switch(m.label){case 0:return o=new $v(Ee(Ee(Ee({channelUrl:t.channelUrl,channelType:t.channelType,timestamp:e},Yb),r),{replyType:Aa.ALL,parentMessageId:t.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(o)];case 1:return u=m.sent(),h=u.as(zv).messages,(f=h.slice(1)).forEach(function(v){v.parentMessage=t}),this._dispatcher.dispatch(new ti({messages:f,source:a})),[2,{parentMessage:h[0],threadedMessages:f}]}})})},n.prototype.getMessageChangelogs=function(t,e,r,a,o){return o===void 0&&(o=ut.REQUEST_MESSAGE_CHANGELOGS),F(this,void 0,void 0,function(){var u,h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:return u=new Xse(at(Ee(Ee({channelType:e,channelUrl:t,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},bx),a))),[4,this._requestQueue.send(u)];case 1:return h=C.sent(),f=h.as(Zse),m=f.updatedMessages,v=f.deletedMessagesInfo,y=f.hasMore,w=f.nextToken,x=v.map(function(A){return A.messageId}),m.length>0&&this._dispatcher.dispatch(new ti({messages:m,source:o})),x.length>0&&this._dispatcher.dispatch(new gk({messageIds:x,source:o})),[2,{updatedMessages:m,deletedMessageIds:x,hasMore:y,token:w}]}})})},n}(),Kl=function(){function n(){this._onPending=gt,this._onFailed=gt,this._onSucceeded=gt}return n.prototype._trigger=function(t,e){switch(e.sendingStatus){case Nr.PENDING:e.errorCode===0&&this._onPending(e);break;case Nr.FAILED:case Nr.CANCELED:this._onFailed(t,e.scheduledInfo?null:e);break;case Nr.SCHEDULED:case Nr.SUCCEEDED:this._onSucceeded(e)}},n.prototype.onPending=function(t){return this._onPending=t,this},n.prototype.onFailed=function(t){return this._onFailed=t,this},n.prototype.onSucceeded=function(t){return this._onSucceeded=t,this},n}(),noe=function(n){function t(e,r){var a=n.call(this,e)||this;a.threadInfo=null,a.targetMessageId=0,a.channelUrl=null,a.channelType=null;var o=r.thread_info,u=r.parent_message_id,h=r.channel_url,f=r.channel_type;return o&&be("object",o)&&be("number",u)&&be("string",h)&&be("string",f)&&(a.threadInfo=new gx(e,o),a.targetMessageId=u,a.channelUrl=h,a.channelType=f),a}return ne(t,n),t}(Us),toe={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},roe=function(n){function t(e){var r=e.channelCustomType,a=e.keyword,o=e.limit,u=e.reverse,h=e.exactMatch,f=e.channelUrl,m=e.order,v=e.messageTimestampFrom,y=e.messageTimestampTo,w=e.advancedQuery,x=e.targetFields,C=e.nextToken,A=n.call(this)||this;return A.method=hn.GET,A.path="".concat(wse,"/messages"),A.params={custom_type:r,query:a,limit:o,reverse:u,exact_match:h,channel_url:f,message_ts_from:v,message_ts_to:y,sort_field:m,advanced_query:w,target_fields:x,after:C},A}return ne(t,n),t}(fn),ioe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.messages=r.results.map(function(o){return Ga(e,o)}),a.hasNext=r.has_next,a.nextToken=r.end_cursor,a.totalCount=r.total_count,a}return ne(t,n),t}(vn);(function(n){n.SCORE="score",n.TIMESTAMP="ts"})(Uf||(Uf={}));var aoe=function(n){function t(e,r){var a,o,u,h,f,m,v,y,w,x=this;return(x=n.call(this,e,r)||this).keyword="",x.reverse=!1,x.exactMatch=!1,x.channelUrl="",x.channelCustomType="",x.messageTimestampFrom=null,x.messageTimestampTo=null,x.order=Uf.SCORE,x.advancedQuery=!1,x.targetFields=null,x._nextToken="",x.totalCount=-1,x.keyword=r.keyword,x.reverse=(a=r.reverse)!==null&&a!==void 0&&a,x.exactMatch=(o=r.exactMatch)!==null&&o!==void 0&&o,x.channelUrl=(u=r.channelUrl)!==null&&u!==void 0?u:"",x.channelCustomType=(h=r.channelCustomType)!==null&&h!==void 0?h:"",x.messageTimestampFrom=(f=r.messageTimestampFrom)!==null&&f!==void 0?f:null,x.messageTimestampTo=(m=r.messageTimestampTo)!==null&&m!==void 0?m:null,x.order=(v=r.order)!==null&&v!==void 0?v:Uf.SCORE,x.advancedQuery=(y=r.advancedQuery)!==null&&y!==void 0&&y,x.targetFields=(w=r.targetFields)!==null&&w!==void 0?w:null,x}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&be("string",this.keyword)&&this.keyword.length>0&&be("boolean",this.reverse)&&be("boolean",this.exactMatch)&&be("string",this.channelUrl)&&be("string",this.channelCustomType)&&(be("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(be("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&_t(Uf,this.order)&&be("boolean",this.advancedQuery)&&bt("string",this.targetFields,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new roe(Ee(Ee({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=v.sent(),o=a.as(ioe),u=o.messages,h=o.hasNext,f=o.nextToken,m=o.totalCount,this._nextToken=f,this._hasNext=h,this._isLoading=!1,this.totalCount=m,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(uc),soe=function(n){function t(e,r,a,o){var u,h,f,m,v,y,w,x,C,A,L=this;return(L=n.call(this,e,r,a,o)||this).reverse=!1,L.messageTypeFilter=ji.ALL,L.customTypesFilter=null,L.senderUserIdsFilter=null,L.replyType=Aa.NONE,L.includeMetaArray=!1,L.includeReactions=!1,L.includeParentMessageInfo=!1,L.includeThreadInfo=!1,L.showSubchannelMessagesOnly=!1,L._edge=Number.MAX_SAFE_INTEGER,L.reverse=(u=o.reverse)!==null&&u!==void 0&&u,L.messageTypeFilter=(h=o.messageTypeFilter)!==null&&h!==void 0?h:ji.ALL,L.customTypesFilter=(f=o.customTypesFilter)!==null&&f!==void 0?f:null,L.senderUserIdsFilter=(m=o.senderUserIdsFilter)!==null&&m!==void 0?m:null,L.replyType=(v=o.replyType)!==null&&v!==void 0?v:Aa.NONE,L.includeMetaArray=(y=o.includeMetaArray)!==null&&y!==void 0&&y,L.includeReactions=(w=o.includeReactions)!==null&&w!==void 0&&w,L.includeParentMessageInfo=(x=o.includeParentMessageInfo)!==null&&x!==void 0&&x,L.includeThreadInfo=(C=o.includeThreadInfo)!==null&&C!==void 0&&C,L.showSubchannelMessagesOnly=(A=o.showSubchannelMessagesOnly)!==null&&A!==void 0&&A,L}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&be("boolean",this.reverse)&&_t(ji,this.messageTypeFilter)&&_t(Aa,this.replyType)&&bt("string",this.customTypesFilter,!0)&&bt("string",this.senderUserIdsFilter,!0)&&be("boolean",this.includeMetaArray)&&be("boolean",this.includeReactions)&&be("boolean",this.includeParentMessageInfo)&&be("boolean",this.includeThreadInfo)&&be("boolean",this.showSubchannelMessagesOnly)},t.prototype.load=function(){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Di.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return e=r.sent(),this._edge=Math.min.apply(Math,nt([Number.MAX_SAFE_INTEGER],Qn(e.map(function(a){return a.createdAt})),!1)),this._hasNext=e.length>=this.limit,this._isLoading=!1,[2,e];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(dc),ooe={channelUrl:null,scheduledMessageId:0},loe=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="message",e}return ne(t,n),t.prototype.init=function(e,r){var a=r.sdkState,o=r.dispatcher,u=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:o,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v}),this._manager=new Di(e,{sdkState:a,dispatcher:o,requestQueue:h,onlineDetector:m,cacheContext:v})},t.prototype.buildMessageFromSerializedData=function(e){return this._manager.buildMessageFromSerializedData(e)},t.prototype.buildSenderFromSerializedData=function(e){return this._manager.buildSenderFromSerializedData(e)},t.prototype.getMessage=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=Ee(Ee({},toe),e),mn(function(o){return be("string",o.channelUrl)&&be("string",o.channelType)&&_t(Zt,o.channelType)&&be("number",o.messageId)&&be("boolean",o.includeMetaArray)&&be("boolean",o.includeParentMessageInfo)&&be("boolean",o.includeThreadInfo)}(r)).throw(De.invalidParameters),[2,this._manager.getMessage(r)]})})},t.prototype.getScheduledMessage=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=Ee(Ee({},ooe),e),mn(function(o){return be("string",o.channelUrl)&&be("number",o.scheduledMessageId)}(r)).throw(De.invalidParameters),[2,this._manager.getScheduledMessage(r)]})})},t}(Kb),coe=function(n){function t(e){var r=e.title,a=e.optionTexts,o=e.data,u=e.allowUserSuggestion,h=e.allowMultipleVotes,f=e.closeAt,m=n.call(this)||this;return m.method=hn.POST,m.path=Oo,m.params={title:r,options:a,data:o,allow_user_suggestion:u,allow_multiple_votes:h,close_at:f},m}return ne(t,n),t}(fn),uoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new ao(e,r),a}return ne(t,n),t}(vn),doe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.pollId,u=n.call(this)||this;return u.method=hn.GET,u.path="".concat(Oo,"/").concat(encodeURIComponent(o)),u.params={channel_url:r,channel_type:a},u}return ne(t,n),t}(fn),hoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new ao(e,r),a}return ne(t,n),t}(vn),poe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.pollId,u=e.pollOptionId,h=n.call(this)||this;return h.method=hn.GET,h.path="".concat(Oo,"/").concat(encodeURIComponent(o),"/options/").concat(encodeURIComponent(u)),h.params={channel_url:r,channel_type:a},h}return ne(t,n),t}(fn),foe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pollOption=new vg(e,r),a}return ne(t,n),t}(vn),_oe=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.timestamp,u=e.token,h=n.call(this)||this;return h.method=hn.GET,h.path="".concat(Gt(r),"/").concat(encodeURIComponent(a),"/polls/changelogs"),h.params=at({change_ts:o,token:u}),h}return ne(t,n),t}(fn),moe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedPolls=r.updated.map(function(o){return function(u,h){return h?new ao(u,h):null}(e,o)}),a.deletedPollIds=r.deleted.map(function(o){return o}),a.hasMore=r.has_more,a.nextToken=r.next,a}return ne(t,n),t}(vn),voe={title:null,optionTexts:null,data:null,allowUserSuggestion:null,allowMultipleVotes:null,closeAt:-1},CU=function(n){return be("string",n.title)&&Vse(n.optionTexts)&&EU(n.data)&&be("boolean",n.allowUserSuggestion,!0)&&be("boolean",n.allowMultipleVotes,!0)&&be("number",n.closeAt,!0)},goe={channelUrl:null,channelType:null,pollId:null,pollOptionId:null},IU=function(n){return be("string",n.channelUrl)&&_t(Zt,n.channelType)&&be("number",n.pollId)&&be("number",n.pollOptionId)},boe={channelUrl:null,channelType:null,pollId:null},NU=function(n){return be("string",n.channelUrl)&&n.channelUrl!==""&&_t(Zt,n.channelType)&&be("number",n.pollId)},ZO={},lb=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,o=e.sessionManager,u=e.requestQueue,h=e.logger;this._iid=t,this._sdkState=r,this._sessionManager=o,this._requestQueue=u,this._dispatcher=a,this._logger=h,ZO[t]=this}return n.of=function(t){return ZO[t]},n.prototype.buildPollFromSerializedData=function(t){var e=_u(t);return new ao(this._iid,ao.payloadify(e))},n.prototype.get=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return mn(NU(t)).throw(De.invalidParameters),e=new doe(Ee({},t)),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(hoe).poll]}})})},n.prototype.create=function(t){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return mn(CU(t)).throw(De.invalidParameters),e=t.data,r=new coe(Ee(Ee({},t),{data:e})),[4,this._requestQueue.send(r)];case 1:return a=o.sent(),[2,a.as(uoe).poll]}})})},n.prototype.getOption=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return mn(IU(t)).throw(De.invalidParameters),e=new poe(Ee({},t)),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(foe).pollOption]}})})},n.prototype.getPollChangeLogs=function(t,e,r,a){return a===void 0&&(a=ut.SYNC_POLL_CHANGELOGS),F(this,void 0,void 0,function(){var o,u,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return o=new _oe(at({channelType:e,channelUrl:t,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null})),[4,this._requestQueue.send(o)];case 1:return u=w.sent(),h=u.as(moe),f=h.updatedPolls,m=h.deletedPollIds,v=h.hasMore,y=h.nextToken,f.length>0&&this._dispatcher.dispatch(new kU({polls:f,source:a})),[2,{updatedPolls:f,deletedPollIds:m,hasMore:v,token:y}]}})})},n}(),yoe=function(n,t){this.pollId=0,this.messageId=0,this.pollId=t.poll.id,this.messageId=t.poll.message_id,this._iid=n,this._payload=t},Eoe=function(n){this.pollId=0,this.messageId=0,this.pollId=n.poll_id,this.messageId=n.message_id,this._payload=n},woe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.token,u=e.limit,h=n.call(this)||this;return h.method=hn.GET,h.path=Oo,h.params={channel_url:r,channel_type:a,token:o,limit:u},h}return ne(t,n),t}(fn),xoe=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this).polls=((a=r.polls)!==null&&a!==void 0?a:[]).map(function(u){return new ao(e,u)}),o.token=r.next,o}return ne(t,n),t}(vn),AU=function(n){function t(e,r){return n.call(this,e,r.channelUrl,r.channelType,r)||this}return ne(t,n),t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new woe(Ee(Ee({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(xoe),u=o.polls,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(dc),koe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.pollId,u=e.pollOptionId,h=e.token,f=e.limit,m=n.call(this)||this;return m.method=hn.GET,m.path="".concat(Oo,"/").concat(encodeURIComponent(o),"/options/").concat(encodeURIComponent(u),"/voters"),m.params={channel_url:r,channel_type:a,token:h,limit:f},m}return ne(t,n),t}(fn),Soe=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this).voters=((a=r.voters)!==null&&a!==void 0?a:[]).map(function(u){return new kt(e,u)}),o.token=r.next,o}return ne(t,n),t}(vn),OU=function(n){function t(e,r){var a=n.call(this,e,r.channelUrl,r.channelType,r)||this;return a.pollId=r.pollId,a.pollOptionId=r.pollOptionId,a}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&be("number",this.pollId)&&be("number",this.pollOptionId)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new koe(Ee(Ee({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(Soe),u=o.voters,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(dc),Toe=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="poll",e}return ne(t,n),t.prototype.init=function(e,r){var a=r.sdkState,o=r.dispatcher,u=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:o,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v}),this._manager=new lb(e,{sdkState:a,dispatcher:o,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v})},t.prototype.create=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=Ee(Ee({},voe),e),mn(CU(r)).throw(De.invalidParameters),[2,this._manager.create(r)]})})},t.prototype.get=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=Ee(Ee({},boe),e),mn(NU(r)).throw(De.invalidParameters),[2,this._manager.get(r)]})})},t.prototype.getOption=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=Ee(Ee({},goe),e),mn(IU(r)).throw(De.invalidParameters),[2,this._manager.getOption(r)]})})},t.prototype.buildPollFromSerializedData=function(e){return this._manager.buildPollFromSerializedData(e)},t}(Kb),k0,RU=100,MU="GroupChannel",Coe="url",cb=100,DU="Message",Ioe="messageId",Noe="Poll",Aoe="pollId",xk={data:null,customType:null,mentionType:Wi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null,isPinnedMessage:!1},kk=function(n){return be("string",n.data,!0)&&be("string",n.customType,!0)&&_t(Wi,n.mentionType)&&bt("string",n.mentionedUserIds,!0)&&bt(kt,n.mentionedUsers,!0)&&be("string",n.mentionedMessageTemplate,!0)&&bt($a,n.metaArrays,!0)&&be("number",n.parentMessageId,!0)&&be("boolean",n.isReplyToChannel)&&_t(bu,n.pushNotificationDeliveryOption,!0)&&be(fl,n.appleCriticalAlertOptions,!0)&&be("boolean",n.isPinnedMessage,!0)},JO=function(n){return n?{isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,pollId:n.pollId}:null},LU=Ee(Ee({},xk),{message:null,translationTargetLanguages:null,pollId:null}),UU=function(n){return kk(n)&&be("string",n.message)&&bt("string",n.translationTargetLanguages,!0)&&be("number",n.pollId,!0)};(function(n){n.FILE="file",n.BLOB="blob",n.BLOB_LIKE_OBJECT="blobLikeObject",n.URL="url"})(k0||(k0={}));var yx,Ex=function(n){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&n instanceof Blob},e8=function(n){return n===k0.BLOB||n===k0.FILE},n8=function(n){return n?{file:n.file,fileKey:n.fileKey,fileType:n.fileType,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption}:null},t8=Ee(Ee({},xk),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),r8=function(n){return kk(n)&&(Ii(n.file)||be("string",n.fileUrl))&&be("string",n.fileName,!0)&&be("string",n.mimeType,!0)&&be("number",n.fileSize,!0)&&(n.thumbnailSizes===null||Array.isArray(n.thumbnailSizes)&&n.thumbnailSizes.every(function(t){return be("object",t)&&t.maxWidth>0&&t.maxHeight>0}))};(function(n){n.MUTED="muted",n.BANNED="banned"})(yx||(yx={}));var Ff,i8=function(){function n(t){var e,r,a,o;this.restrictionType=null,this.description=null,this.endAt=-1,this.remainingDuration=-1,_t(yx,t.restriction_type)&&(this.restrictionType=t.restriction_type),this.description=(e=t.description)!==null&&e!==void 0?e:null,this.endAt=(a=(r=t.end_at)!==null&&r!==void 0?r:t.muted_end_at)!==null&&a!==void 0?a:-1,this.remainingDuration=(o=t.remaining_duration)!==null&&o!==void 0?o:-1}return n.payloadify=function(t){return t?at({restriction_type:t.restrictionType,description:t.description,end_at:t.endAt,remaining_duration:t.remainingDuration}):null},n}(),Zd=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.restrictionInfo=null,a.restrictionInfo=new i8(r),a}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),i8.payloadify(e.restrictionInfo))):null},t}(kt),Sk={data:null,customType:null,mentionType:Wi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},Tk=function(n){return be("string",n.data,!0)&&be("string",n.customType,!0)&&_t(Wi,n.mentionType)&&bt("string",n.mentionedUserIds,!0)&&bt(kt,n.mentionedUsers,!0)&&be("string",n.mentionedMessageTemplate,!0)&&bt($a,n.metaArrays,!0)&&_t(bu,n.pushNotificationDeliveryOption,!0)&&be(fl,n.appleCriticalAlertOptions,!0)},PU=Ee(Ee({},Sk),{message:null,translationTargetLanguages:null,pollId:null}),FU=function(n){return Tk(n)&&be("string",n.message,!0)&&bt("string",n.translationTargetLanguages,!0)&&be("number",n.pollId,!0)},Ooe=Ee({},Sk),Roe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.token,u=e.limit,h=n.call(this)||this;return h.method=hn.GET,h.path="".concat(Gt(a),"/").concat(encodeURIComponent(r),"/operators"),h.params={token:o,limit:u},h}return ne(t,n),t}(fn),Moe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.operators=r.operators.map(function(o){return new kt(e,o)}),a.token=r.next,a}return ne(t,n),t}(vn),Doe=function(n){function t(e,r,a,o){return n.call(this,e,r,a,o)||this}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=Te.of(this._iid).requestQueue,a=new Roe(Ee(Ee({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(a)]):[3,2]):[3,5];case 1:return o=m.sent(),u=o.as(Moe),h=u.operators,f=u.token,this._token=f,this._hasNext=!!f,this._isLoading=!1,[2,h];case 2:return[2,e];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(dc),Loe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.limit,h=e.token;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/mute"),r.params={limit:u,token:h},r}return ne(t,n),t}(fn),Uoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.mutedUsers=[];var o=r.next,u=r.muted_list;return a.token=o,u&&u.length>0&&(a.mutedUsers=u.map(function(h){return new Zd(e,h)})),a}return ne(t,n),t}(vn),Poe=function(n){function t(e,r,a,o){return n.call(this,e,r,a,o)||this}return ne(t,n),t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new Loe(Ee(Ee({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(Uoe),u=o.mutedUsers,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(dc),Foe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.limit,h=e.token;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/ban"),r.params=at({limit:u,token:h}),r}return ne(t,n),t}(fn),Hoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.bannedUsers=[];var o=r.next,u=r.banned_list;return a.token=o,u&&u.length>0&&(a.bannedUsers=u.map(function(h){return new Zd(e,h.user)})),a}return ne(t,n),t}(vn),Boe=function(n){function t(e,r,a,o){return n.call(this,e,r,a,o)||this}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new Foe(Ee(Ee({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(Hoe),u=o.bannedUsers,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(dc);(function(n){n.SPAM="spam",n.HARASSING="harassing",n.SUSPICIOUS="suspicious",n.INAPPROPRIATE="inappropriate"})(Ff||(Ff={}));var $oe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.operatorUserIds;return(r=n.call(this)||this).method=hn.POST,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/operators"),r.params={operator_ids:u},r}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var zoe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.operatorUserIds;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/operators"),r.params={operator_ids:u},r}return ne(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}ne(t,n)})(vn);var Voe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.userId;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/mute/").concat(u),r}return ne(t,n),t}(fn),Goe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.isMuted=!1,a.startAt=null,a.endAt=null,a.remainingDuration=null,a.description=null;var o=r.is_muted,u=r.start_at,h=r.end_at,f=r.remaining_duration,m=r.description;return a.isMuted=o,a.startAt=u,a.endAt=h,a.remainingDuration=f,a.description=m,a}return ne(t,n),t}(vn),a8=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.keys;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metadata"),r.params={keys:u,include_ts:!0},r}return ne(t,n),t}(fn),s8=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var o=r.metadata,u=r.ts;return a.metadata=o,a.ts=u??null,a}return ne(t,n),t}(vn),qoe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.metadata;return(r=n.call(this)||this).method=hn.POST,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metadata"),r.params={metadata:u,include_ts:!0},r}return ne(t,n),t}(fn),joe=function(n){function t(e,r){var a,o,u=this;return(u=n.call(this,e,r)||this).metaData=(a=r.metadata)!==null&&a!==void 0?a:{},u.ts=(o=r.ts)!==null&&o!==void 0?o:null,u}return ne(t,n),t}(vn),Koe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.metadata,h=e.upsert;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metadata"),r.params={metadata:u,include_ts:!0,upsert:h!=null&&h},r}return ne(t,n),t}(fn),Woe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var o=r.metadata,u=r.ts;return a.metadata=o,a.ts=u??null,a}return ne(t,n),t}(vn),HU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.created=null,o.updated=null,o.deleted=null,a.data&&(o.created=a.data.created,o.updated=a.data.updated,o.deleted=a.data.deleted),o}return ne(t,n),t}(or),Qoe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.key;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metadata/").concat(u),r.params={include_ts:!0},r}return ne(t,n),t}(fn),Yoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var o=r.ts;return a.ts=o??null,a}return ne(t,n),t}(vn),Xoe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metadata"),r.params={include_ts:!0},r}return ne(t,n),t}(fn),Zoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var o=r.ts;return a.ts=o??null,a}return ne(t,n),t}(vn),o8=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.keys;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={keys:u},r}return ne(t,n),t}(fn),l8=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return ne(t,n),t}(vn),Joe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.metaCounter;return(r=n.call(this)||this).method=hn.POST,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={metacounter:u},r}return ne(t,n),t}(fn),ele=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return ne(t,n),t}(vn),B3=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.metaCounter,h=e.upsert,f=h!==void 0&&h,m=e.mode,v=m===void 0?"set":m;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={metacounter:u,upsert:f,mode:v},r}return ne(t,n),t}(fn),$3=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return ne(t,n),t}(vn),BU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.created=null,o.updated=null,o.deleted=null,a.data&&(o.created=a.data.created,o.updated=a.data.updated,o.deleted=a.data.deleted),o}return ne(t,n),t}(or),nle=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.key;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metacounter/").concat(u),r.params=null,r}return ne(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}ne(t,n)})(vn);var tle=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/metacounter"),r.params=null,r}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var rle=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.userId,h=e.seconds,f=e.description;return(r=n.call(this)||this).method=hn.POST,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/mute"),r.params={user_id:u,seconds:h,description:f},r}return ne(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}ne(t,n)})(vn);var $U=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new Zd(e,a.data),o}return ne(t,n),t}(or),ile=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.userId;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/mute/").concat(encodeURIComponent(u)),r}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var zU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new Zd(e,a.data),o}return ne(t,n),t}(or),ale=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.userId,h=e.seconds,f=e.description;return(r=n.call(this)||this).method=hn.POST,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/ban"),r.params=at({user_id:u,seconds:h,description:f}),r}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var VU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.memberCount=null,o.joinedMemberCount=null,o.user=new Zd(e,a.data),a.data.member_count&&(o.memberCount=a.data.member_count),a.data.joined_member_count&&(o.joinedMemberCount=a.data.joined_member_count),o}return ne(t,n),t}(or),sle=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.userId;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/ban/").concat(encodeURIComponent(u)),r}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var GU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new Zd(e,a.data),o}return ne(t,n),t}(or),c8=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.freezing;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(Gt(o),"/").concat(encodeURIComponent(a),"/freeze"),r.params={freeze:u},r}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var qU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.freeze=a.data.freeze,o}return ne(t,n),t}(or),ole=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.category,h=e.userId,f=e.description;return(r=n.call(this)||this).method=hn.POST,r.path="".concat(wU(o),"/").concat(encodeURIComponent(a)),r.params={report_category:u,reporting_user_id:h,report_description:f},r}return ne(t,n),t}(fn),lle=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.category,h=e.userId,f=e.offendingUserId,m=e.description;return(r=n.call(this)||this).method=hn.POST,r.path="".concat(_x,"/users/").concat(f),r.params={channel_url:a,channel_type:o===Zt.OPEN?"open_channels":"group_channels",report_category:u,reporting_user_id:h,report_description:m},r}return ne(t,n),t}(fn),cle=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,u=e.category,h=e.userId,f=e.offendingUserId,m=e.messageId,v=e.description;return(r=n.call(this)||this).method=hn.POST,r.path="".concat(wU(o),"/").concat(encodeURIComponent(a),"/messages/").concat(m),r.params={report_category:u,reporting_user_id:h,report_description:v,offending_user_id:f},r}return ne(t,n),t}(fn),ule=function(n){function t(e){var r=[];return e.mentionType===Wi.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map(function(a){return a.userId}))),n.call(this,{code:"MESG",ackRequired:!0,payload:at({channel_url:e.channelUrl,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:r,mentioned_message_template:e.mentionedMessageTemplate,target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==bu.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId>0?e.parentMessageId:null,req_id:e.reqId,poll_id:e.pollId,pin_message:e.isPinnedMessage})})||this}return ne(t,n),t}(Wa),Ck=function(n){function t(e,r,a){var o,u,h,f=this;(f=n.call(this,e,"MESG",a)||this).message=new qi(e,a);var m=Te.of(e).sdkState;return f.isMentioned=w0(f.message.mentionType,(o=f.message.mentionedUserIds)!==null&&o!==void 0?o:(u=f.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),m.userId),f.forceUpdateLastMessage=(h=a.force_update_last_message)!==null&&h!==void 0&&h,f}return ne(t,n),t}(or),u8=function(n){function t(e){var r,a=null;return e.mentionType===Wi.USERS&&(e.mentionedUserIds?a=e.mentionedUserIds:e.mentionedUsers&&(a=e.mentionedUsers.map(function(o){return o.userId}))),n.call(this,{code:"MEDI",ackRequired:!0,payload:at({channel_url:e.channelUrl,msg_id:e.messageId,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:a,mentioned_message_template:e.mentionedMessageTemplate,apple_critical_alert_options:(r=e.appleCriticalAlertOptions)===null||r===void 0?void 0:r.serialize(),poll_id:e.pollId})})||this}return ne(t,n),t}(Wa),ub=function(n){function t(e,r,a){var o,u,h,f,m,v,y=this;(y=n.call(this,e,"MEDI",a)||this).message=new qi(e,a);var w=Te.of(e).sdkState;return y.mentionCountChange=vk({mentionType:(u=(o=a.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(f=(h=a.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:y.message.mentionType,mentionedUserIds:(m=y.message.mentionedUserIds)!==null&&m!==void 0?m:(v=y.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId})},w.userId),y}return ne(t,n),t}(or),d8=function(n){function t(e){var r=null;return e.mentionType===Wi.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map(function(a){return a.userId}))),n.call(this,{code:"FEDI",ackRequired:!0,payload:at({channel_url:e.channelUrl,msg_id:e.messageId,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:r,apple_critical_alert_options:e.appleCriticalAlertOptions})})||this}return ne(t,n),t}(Wa),db=function(n){function t(e,r,a){var o,u,h,f,m,v,y=this;(y=n.call(this,e,"FEDI",a)||this).message=new ri(e,a);var w=Te.of(e).sdkState;return y.mentionCountChange=vk({mentionType:(u=(o=a.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(f=(h=a.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:y.message.mentionType,mentionedUserIds:(m=y.message.mentionedUserIds)!==null&&m!==void 0?m:(v=y.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId})},w.userId),y}return ne(t,n),t}(or),dle=function(n){function t(e){var r=n.call(this)||this;return r.method=hn.DELETE,r.path="".concat(Gt(e.channelType),"/").concat(e.channelUrl,"/messages/").concat(e.messageId),r}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var jU=function(n){function t(e,r,a){var o=n.call(this,e,"DELM",a)||this;return o.channelUrl=a.channel_url,o.channelType=a.channel_type,o.messageId=Number(a.msg_id),o}return ne(t,n),t}(or),hle=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,u=e.reactionKey,h=n.call(this)||this;return h.method=hn.POST,h.path="".concat(Gt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(o,"/reactions"),h.params={reaction:u},h}return ne(t,n),t}(fn),ple=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.reactionEvent=new yk(r),a}return ne(t,n),t}(vn),fle=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,u=e.reactionKey,h=n.call(this)||this;return h.method=hn.DELETE,h.path="".concat(Gt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(o,"/reactions"),h.params={reaction:u},h}return ne(t,n),t}(fn),_le=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.reactionEvent=new yk(Ee({},r)),a}return ne(t,n),t}(vn),mle=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,u=e.translationTargetLanguages,h=n.call(this)||this;return h.method=hn.POST,h.path="".concat(Gt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(encodeURIComponent(o),"/translation"),h.params={target_langs:u},h}return ne(t,n),t}(fn),vle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new qi(e,r),a}return ne(t,n),t}(vn),gle=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=[];e.mentionType===Wi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(f){return f.userId})));var u=e.channelType,h=e.channelUrl;return a.method=hn.POST,a.path="".concat(Gt(u),"/").concat(encodeURIComponent(h),"/scheduled_messages"),a.params={req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:E0.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(f){return $a.payloadify(f)}),apple_critical_alert_options:fl.payloadify(e.appleCriticalAlertOptions),target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption},a}return ne(t,n),t}(fn),KU=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new qi(e,r),a}return ne(t,n),t}(vn),ble=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=[];e.mentionType===Wi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(f){return f.userId})));var u=e.channelType,h=e.channelUrl;return a.method=hn.POST,a.path="".concat(Gt(u),"/").concat(encodeURIComponent(h),"/scheduled_messages"),a.params={req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:E0.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(f){return Qb.payloadify(f)}):[],custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(f){return $a.payloadify(f)}),apple_critical_alert_options:fl.payloadify(e.appleCriticalAlertOptions),push_option:e.pushNotificationDeliveryOption},a}return ne(t,n),t}(fn),yle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new ri(e,r),a}return ne(t,n),t}(vn),Ele=function(n){function t(e){var r=e.pollId,a=e.title,o=e.data,u=e.allowUserSuggestion,h=e.allowMultipleVotes,f=e.closeAt,m=n.call(this)||this;return m.method=hn.PUT,m.path="".concat(Oo,"/").concat(encodeURIComponent(r)),m.params={title:a,data:o,allow_user_suggestion:u,allow_multiple_votes:h,close_at:f},m}return ne(t,n),t}(fn),wle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new ao(e,r),a}return ne(t,n),t}(vn),xle=function(n){function t(e){var r=e.pollId,a=n.call(this)||this;return a.method=hn.DELETE,a.path="".concat(Oo,"/").concat(encodeURIComponent(r)),a}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var kle=function(n){function t(e){var r=e.pollId,a=n.call(this)||this;return a.method=hn.PUT,a.path="".concat(Oo,"/").concat(encodeURIComponent(r),"/close"),a}return ne(t,n),t}(fn),Sle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new ao(e,r),a}return ne(t,n),t}(vn),Tle=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.pollId,u=e.optionText,h=n.call(this)||this;return h.method=hn.POST,h.path="".concat(Oo,"/").concat(encodeURIComponent(o),"/options"),h.params={channel_url:r,channel_type:a,text:u},h}return ne(t,n),t}(fn),Cle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new ao(e,r),a}return ne(t,n),t}(vn),Ile=function(n){function t(e){var r=e.pollId,a=e.pollOptionId,o=e.optionText,u=n.call(this)||this;return u.method=hn.PUT,u.path="".concat(Oo,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(a)),u.params={text:o},u}return ne(t,n),t}(fn),Nle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new ao(e,r),a}return ne(t,n),t}(vn),Ale=function(n){function t(e){var r=e.pollId,a=e.pollOptionId,o=n.call(this)||this;return o.method=hn.DELETE,o.path="".concat(Oo,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(a)),o}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var Ole=function(n){function t(e){var r=e.reqId,a=e.channelType,o=e.channelUrl,u=e.pollId,h=e.pollOptionIds;return n.call(this,{code:"VOTE",ackRequired:!0,payload:at({req_id:r,channel_type:a===Zt.OPEN?"open_channels":"group_channels",channel_url:o,poll_id:u,option_ids:h})})||this}return ne(t,n),t}(Wa),Ik=function(n){function t(e,r,a){var o=n.call(this,e,"VOTE",a)||this;return o.event=null,o.channelUrl=null,o.channelType=null,o.event=new Eoe(a),o.channelUrl=a.channel_url,o.channelType=a.channel_type,o}return ne(t,n),t}(or),Rle=2,wx=function(n){function t(e,r){var a,o,u,h,f=this;return(f=n.call(this,e)||this).url="",f.channelType=Zt.BASE,f.name="",f.coverUrl="",f.customType="",f.data="",f.isFrozen=!1,f.isEphemeral=!1,f.creator=null,f.createdAt=0,f._messageCollectionLastAccessedAt=0,f.url=r.channel_url,f.name=(a=r.name)!==null&&a!==void 0?a:"",f.coverUrl=(o=r.cover_url)!==null&&o!==void 0?o:"",f.customType=(u=r.custom_type)!==null&&u!==void 0?u:"",f.data=(h=r.data)!==null&&h!==void 0?h:"",f.isFrozen=!!be("boolean",r.freeze)&&r.freeze,f.isEphemeral=!!be("boolean",r.is_ephemeral)&&r.is_ephemeral,f.creator=r.created_by?new kt(f._iid,r.created_by):null,f.createdAt=1e3*r.created_at,f._cachedMetaData=new Map,r.metadata&&r.ts&&Object.keys(r.metadata).forEach(function(m){f._cachedMetaData.set(m,{value:r.metadata[m],isRemoved:!1,updatedAt:r.ts})}),f}return ne(t,n),t.payloadify=function(e){return at(Ee(Ee({},n.payloadify.call(this,e)),{channel_url:e.url,name:e.name,cover_url:e.coverUrl,custom_type:e.customType,data:e.data,freeze:e.isFrozen,is_ephemeral:e.isEphemeral,created_by:kt.payloadify(e.creator),created_at:e.createdAt/1e3}))},t.prototype.isGroupChannel=function(){return this.channelType===Zt.GROUP},t.prototype.isOpenChannel=function(){return this.channelType===Zt.OPEN},Object.defineProperty(t.prototype,"cachedMetaData",{get:function(){var e={};return this._cachedMetaData.forEach(function(r,a){r.isRemoved||(e[a]=r.value)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageCollectionLastAccessedAt",{get:function(){return this._messageCollectionLastAccessedAt},enumerable:!1,configurable:!0}),t.prototype._updateMessageCollectionLastAccessedAt=function(){this._messageCollectionLastAccessedAt=Date.now()},t.prototype._upsertCachedMetaData=function(e,r){var a=this;Object.keys(e).forEach(function(o){var u=a._cachedMetaData.get(o);(!u||u.updatedAt<=r)&&a._cachedMetaData.set(o,{value:e[o],isRemoved:!1,updatedAt:r})})},t.prototype._removeFromCachedMetaData=function(e,r){var a=this;e.forEach(function(o){var u=a._cachedMetaData.get(o);u&&u.updatedAt<r&&(u.isRemoved=!1,u.updatedAt=r)})},t.prototype._generateRequestId=function(){return"rq-".concat(Tu())},t.prototype.isIdentical=function(e){return e&&this.url===e.url},t.prototype.isEqual=function(e){return VL(this,e)},t.prototype.createOperatorListQuery=function(e){return e===void 0&&(e={}),new Doe(this._iid,this.url,this.channelType,e)},t.prototype.createMutedUserListQuery=function(e){return e===void 0&&(e={}),new Poe(this._iid,this.url,this.channelType,e)},t.prototype.createBannedUserListQuery=function(e){return e===void 0&&(e={}),new Boe(this._iid,this.url,this.channelType,e)},t.prototype.createPreviousMessageListQuery=function(e){return e===void 0&&(e={}),new soe(this._iid,this.url,this.channelType,e)},t.prototype.addOperators=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return mn(bt("string",e)).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new $oe({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.removeOperators=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return mn(bt("string",e)).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new zoe({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.getMyMutedInfo=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w;return P(this,function(x){switch(x.label){case 0:return e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Voe({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,a.send(o)];case 1:return u=x.sent(),h=u.as(Goe),f=h.isMuted,m=h.startAt,v=h.endAt,y=h.remainingDuration,w=h.description,[2,{isMuted:f,startAt:m,endAt:v,remainingDuration:y,description:w}]}})})},t.prototype.getMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return mn(bt("string",e)).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new a8({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(a)];case 1:return o=m.sent(),u=o.as(s8),h=u.metadata,f=u.ts,this._upsertCachedMetaData(h,f),[2,h]}})})},t.prototype.getAllMetaData=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return e=Te.of(this._iid).requestQueue,r=new a8({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return a=f.sent(),o=a.as(s8),u=o.metadata,h=o.ts,this._upsertCachedMetaData(u,h),[2,u]}})})},t.prototype.createMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,u;return P(this,function(h){switch(h.label){case 0:return r=Te.of(this._iid).requestQueue,a=new qoe({channelUrl:this.url,channelType:this.channelType,metadata:e}),[4,r.send(a)];case 1:return o=h.sent(),u=o.as(joe).metaData,this._upsertCachedMetaData(u,0),[2,u]}})})},t.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),F(this,void 0,void 0,function(){var a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return a=Te.of(this._iid).requestQueue,o=new Koe({channelUrl:this.url,channelType:this.channelType,metadata:e,upsert:r}),[4,a.send(o)];case 1:return u=v.sent(),h=u.as(Woe),f=h.metadata,m=h.ts,this._upsertCachedMetaData(f,m),[2,f]}})})},t.prototype.deleteMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,u;return P(this,function(h){switch(h.label){case 0:return mn(be("string",e)).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new Qoe({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(a)];case 1:return o=h.sent(),u=o.as(Yoe).ts,this._removeFromCachedMetaData([e],u),[2]}})})},t.prototype.deleteAllMetaData=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return e=Te.of(this._iid).requestQueue,r=new Xoe({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return a=u.sent(),o=a.as(Zoe).ts,this._removeFromCachedMetaData(nt([],Qn(this._cachedMetaData.keys()),!1),o),[2]}})})},t.prototype.getMetaCounters=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(u){switch(u.label){case 0:return mn(bt("string",e)).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new o8({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(a)];case 1:return o=u.sent(),[2,o.as(l8).metaCounter]}})})},t.prototype.getAllMetaCounters=function(){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return e=Te.of(this._iid).requestQueue,r=new o8({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return a=o.sent(),[2,a.as(l8).metaCounter]}})})},t.prototype.createMetaCounters=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(u){switch(u.label){case 0:return r=Te.of(this._iid).requestQueue,a=new Joe({channelUrl:this.url,channelType:this.channelType,metaCounter:e}),[4,r.send(a)];case 1:return o=u.sent(),[2,o.as(ele).metaCounter]}})})},t.prototype.updateMetaCounters=function(e,r){return r===void 0&&(r=!1),F(this,void 0,void 0,function(){var a,o,u;return P(this,function(h){switch(h.label){case 0:return a=Te.of(this._iid).requestQueue,o=new B3({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:r}),[4,a.send(o)];case 1:return u=h.sent(),[2,u.as($3).metaCounter]}})})},t.prototype.increaseMetaCounters=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(u){switch(u.label){case 0:return r=Te.of(this._iid).requestQueue,a=new B3({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"increase"}),[4,r.send(a)];case 1:return o=u.sent(),[2,o.as($3).metaCounter]}})})},t.prototype.decreaseMetaCounters=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(u){switch(u.label){case 0:return r=Te.of(this._iid).requestQueue,a=new B3({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"decrease"}),[4,r.send(a)];case 1:return o=u.sent(),[2,o.as($3).metaCounter]}})})},t.prototype.deleteMetaCounter=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return mn(be("string",e)).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new nle({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.deleteAllMetaCounters=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Te.of(this._iid).requestQueue,r=new tle({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.muteUser=function(e,r,a){return F(this,void 0,void 0,function(){return P(this,function(o){return[2,this.muteUserWithUserId(e.userId,r,a)]})})},t.prototype.muteUserWithUserId=function(e,r,a){return F(this,void 0,void 0,function(){var o,u;return P(this,function(h){switch(h.label){case 0:return mn(be("string",e)&&be("number",r,!0)&&be("string",a,!0)).throw(De.invalidParameters),o=Te.of(this._iid).requestQueue,u=new rle({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:a}),[4,o.send(u)];case 1:return h.sent(),[2]}})})},t.prototype.unmuteUser=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2,this.unmuteUserWithUserId(e.userId)]})})},t.prototype.unmuteUserWithUserId=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return mn(be("string",e)).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new ile({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.banUser=function(e,r,a){return F(this,void 0,void 0,function(){return P(this,function(o){return[2,this.banUserWithUserId(e.userId,r,a)]})})},t.prototype.banUserWithUserId=function(e,r,a){return F(this,void 0,void 0,function(){var o,u;return P(this,function(h){switch(h.label){case 0:return mn(be("string",e)&&be("number",r,!0)&&be("string",a,!0)).throw(De.invalidParameters),o=Te.of(this._iid).requestQueue,u=new ale({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:a}),[4,o.send(u)];case 1:return h.sent(),[2]}})})},t.prototype.unbanUser=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2,this.unbanUserWithUserId(e.userId)]})})},t.prototype.unbanUserWithUserId=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return mn(be("string",e)).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new sle({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.freeze=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Te.of(this._iid).requestQueue,r=new c8({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,e.send(r)];case 1:return a.sent(),this.isFrozen=!0,[2]}})})},t.prototype.unfreeze=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Te.of(this._iid).requestQueue,r=new c8({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,e.send(r)];case 1:return a.sent(),this.isFrozen=!1,[2]}})})},t.prototype.getMessagesByMessageId=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Ee(Ee({},Pf),r),mn(be("number",e)&&QO(a)).throw(De.invalidParameters),[4,Di.of(this._iid).getMessagesByMessageId(this.url,this.channelType,e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getMessagesByTimestamp=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Ee(Ee({},Pf),r),mn(be("number",e)&&QO(a)).throw(De.invalidParameters),[4,Di.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getMessageChangeLogsSinceTimestamp=function(e,r){return r===void 0&&(r={}),F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Ee(Ee({},bx),r),mn(be("number",e)&&YO(a)).throw(De.invalidParameters),[4,Di.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getMessageChangeLogsSinceToken=function(e,r){return r===void 0&&(r={}),F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Ee(Ee({},bx),r),mn(be("string",e)&&YO(a)).throw(De.invalidParameters),[4,Di.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,a)];case 1:return[2,o.sent()]}})})},t.prototype._createPendingSendableMessagePayload=function(e,r,a){var o=Te.of(this._iid).sessionManager;return at({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,sorted_metaarray:e.metaArrays?e.metaArrays.map(function(u){return $a.payloadify(u)}):null,apple_critical_alert_options:e.appleCriticalAlertOptions?fl.payloadify(e.appleCriticalAlertOptions):null,created_at:a,user:f_.payloadify(o.currentUser),req_id:r,request_state:Nr.PENDING,mentioned_user_ids:e.mentionedUserIds,mentioned_users:e.mentionedUsers})},t.prototype._createPendingUserMessage=function(e,r,a){var o,u,h={};if(e.translationTargetLanguages)try{for(var f=kn(e.translationTargetLanguages),m=f.next();!m.done;m=f.next())h[m.value]=""}catch(w){o={error:w}}finally{try{m&&!m.done&&(u=f.return)&&u.call(f)}finally{if(o)throw o.error}}var v=at(Ee(Ee({},this._createPendingSendableMessagePayload(e,r,a)),{type:Xr.USER,message:e.message,translations:h})),y=new qi(this._iid,v);return y.messageParams=e,y},t.prototype._createPendingScheduledUserMessage=function(e,r,a){var o=this._createPendingUserMessage(e,r,a);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},o},t.prototype._createPendingFileMessage=function(e,r,a){var o=at(Ee(Ee({},this._createPendingSendableMessagePayload(e,r,a)),{type:Xr.FILE,url:e.fileUrl,file:{name:e.fileName,size:e.fileSize,type:e.mimeType,data:e.data},thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(h){return{url:"",width:h.maxWidth,height:h.maxHeight}}):[]})),u=new ri(this._iid,o);return u.messageParams=e,u},t.prototype._createPendingScheduledFileMessage=function(e,r,a){var o=this._createPendingFileMessage(e,r,a);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},o},t.prototype._markMessageAsFailed=function(e,r,a){a===void 0&&(a=!1),e.errorCode=r.code,r.code===xt.REQUEST_CANCELED?e.sendingStatus=Nr.CANCELED:a||(e.sendingStatus=Nr.FAILED)},t.prototype.sendUserMessage=function(e){var r=Ee(Ee({},LU),e);return mn(UU(r)).throw(De.invalidParameters),this._sendUserMessage(r)},t.prototype._sendUserMessage=function(e,r){var a=this;r===void 0&&(r=null);var o=Te.of(this._iid),u=o.dispatcher,h=o.requestQueue,f=r,m=Date.now(),v=new Kl;f||(f=this._generateRequestId(),ko(2).then(function(){var w=a._createPendingUserMessage(e,f,m);u.dispatch(new ti({messages:[w],source:ut.EVENT_MESSAGE_SENT_PENDING})),Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(x){return[2,v._trigger(null,w)]})})})}));var y=new ule(Ee(Ee({},e),{channelUrl:this.url,channelType:this.channelType,reqId:f}));return h.send(y).then(function(w){var x=w.as(Ck).message;u.dispatch(new ti({messages:[x],source:ut.EVENT_MESSAGE_SENT_SUCCESS})),Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(C){return[2,v._trigger(null,x)]})})})}).catch(function(w){if(cl(w))throw w;ko(2).then(function(){var x=a._createPendingUserMessage(e,f,m),C=Te.of(a._iid).cacheContext.localCacheEnabled&&tb(w.code);a._markMessageAsFailed(x,w,C),u.dispatch(new ti({messages:[x],source:x.sendingStatus===Nr.PENDING?ut.REQUEST_RESEND_MESSAGE:ut.EVENT_MESSAGE_SENT_FAILED})),Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(A){return[2,v._trigger(w,x)]})})})})}),v},t.prototype._autoResendUserMessage=function(e){return mn(e instanceof qi).throw(De.invalidParameters),this._sendUserMessage(e.messageParams,e.reqId)},t.prototype.resendUserMessage=function(e){var r;return F(this,void 0,void 0,function(){var a,o;return P(this,function(u){return mn(e instanceof qi&&!e.scheduledInfo).throw(De.invalidParameters),a=new za,o=(r=e.messageParams)!==null&&r!==void 0?r:function(h){var f;return at({data:h.data,customType:h.customType,mentionType:h.mentionType,mentionedUsers:h.mentionedUsers,mentionedUserIds:h.mentionedUserIds,mentionedMessageTemplate:h.mentionedMessageTemplate,metaArrays:h.metaArrays,pollId:(f=h.poll)===null||f===void 0?void 0:f.id,parentMessageId:h.parentMessageId,appleCriticalAlertOptions:h.appleCriticalAlertOptions,message:h.message,translationTargetLanguages:Object.keys(h.translations)})}(e),this._sendUserMessage(o,e.reqId).onFailed(function(h){return a.reject(h)}).onSucceeded(function(h){return a.resolve(h)}),[2,a.promise]})})},t.prototype.updateUserMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,u,h;return P(this,function(f){switch(f.label){case 0:return a=Ee(Ee({},PU),r),mn(be("number",e)&&FU(a)).throw(De.invalidParameters),o=Te.of(this._iid).requestQueue,u=new u8(Ee({channelType:this.channelType,channelUrl:this.url,messageId:e},a)),[4,o.send(u)];case 1:return h=f.sent(),[2,h.as(ub).message]}})})},t.prototype.copyUserMessage=function(e,r){var a,o,u;return F(this,void 0,void 0,function(){var h,f;return P(this,function(m){return mn(e instanceof t&&r instanceof qi&&r.sendingStatus===Nr.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(De.invalidParameters),mn(!r.poll).throw(De.notSupportedError),h=new za,f=(a=r.messageParams)!==null&&a!==void 0?a:Ee(Ee({},r),{mentionType:r.mentionType,mentionedUserIds:(o=r.mentionedUserIds)!==null&&o!==void 0?o:(u=r.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:bu.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}),e._sendUserMessage(f).onSucceeded(function(v){h.resolve(v)}).onFailed(function(v){return h.reject(v)}),[2,h.promise]})})},t.prototype.translateUserMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,u;return P(this,function(h){switch(h.label){case 0:return mn(e instanceof qi&&e.messageId>0&&bt("string",r)).throw(De.invalidParameters),a=Te.of(this._iid).requestQueue,o=new mle({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,translationTargetLanguages:r}),[4,a.send(o)];case 1:return u=h.sent(),[2,u.as(vle).message]}})})},t.prototype._createScheduledUserMessage=function(e,r){var a=this,o=Te.of(this._iid).requestQueue,u=Date.now(),h=this._generateRequestId();ko(2).then(function(){var m=a._createPendingScheduledUserMessage(e,h,u);Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(v){return[2,r._trigger(null,m)]})})})});var f=new gle(Ee({reqId:h,channelType:this.channelType,channelUrl:this.url},e));o.send(f).then(function(m){var v=m.as(KU).message;Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(y){return[2,r._trigger(null,v)]})})})}).catch(function(m){if(cl(m))throw m;ko(2).then(function(){var v=a._createPendingScheduledUserMessage(e,h,u);a._markMessageAsFailed(v,m),Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(y){return[2,r._trigger(m,v)]})})})})})},t.prototype.sendFileMessage=function(e){var r=Ee(Ee({},t8),e);return mn(r8(r)).throw(De.invalidParameters),this._sendFileMessage(r)},t.prototype._sendFileMessage=function(e,r){var a=this;r===void 0&&(r=null);var o=Te.of(this._iid).dispatcher,u=Di.of(this._iid).fileMessageQueue,h=r,f=Date.now(),m=new Kl;return h||(h=this._generateRequestId(),ko(2).then(function(){var v=a._createPendingFileMessage(e,h,f);o.dispatch(new ti({messages:[v],source:ut.EVENT_MESSAGE_SENT_PENDING})),Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(y){return[2,m._trigger(null,v)]})})})})),u.request(this,h,e).then(function(v){o.dispatch(new ti({messages:[v],source:ut.EVENT_MESSAGE_SENT_SUCCESS})),Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(y){return[2,m._trigger(null,v)]})})})}).catch(function(v){if(cl(v))throw v;ko(2).then(function(){var y=a._createPendingFileMessage(e,h,f),w=Te.of(a._iid).cacheContext.localCacheEnabled&&tb(v.code);a._markMessageAsFailed(y,v,w),o.dispatch(new ti({messages:[y],source:y.sendingStatus===Nr.PENDING?ut.REQUEST_RESEND_MESSAGE:ut.EVENT_MESSAGE_SENT_FAILED})),Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(x){return[2,m._trigger(v,y)]})})})})}),m},t.prototype._autoResendFileMessage=function(e){mn(e instanceof ri).throw(De.invalidParameters);var r=Te.of(this._iid).logger;return r.debug("autoResendFileMessage pending",e),this._sendFileMessage(e.messageParams,e.reqId).onFailed(function(a){r.debug("autoResendFileMessage failed",a)}).onSucceeded(function(a){r.debug("autoResendFileMessage success",a)})},t.prototype._createScheduledFileMessage=function(e,r,a,o){var u=this,h=Te.of(this._iid).requestQueue,f=new ble(Ee(Ee({reqId:a,channelType:this.channelType,channelUrl:this.url},e),{fileUrl:e.fileUrl,requireAuth:e.requireAuth}));h.send(f).then(function(m){var v=m.as(yle).message;Bn(function(){return F(u,void 0,void 0,function(){return P(this,function(y){return[2,r._trigger(null,v)]})})})}).catch(function(m){if(cl(m))throw m;ko(2).then(function(){var v=u._createPendingScheduledFileMessage(e,a,o);u._markMessageAsFailed(v,m),Bn(function(){return F(u,void 0,void 0,function(){return P(this,function(y){return[2,r._trigger(m,v)]})})})})})},t.prototype.sendFileMessages=function(e){var r,a;mn(e.every(function(m){return r8(Ee(Ee({},t8),m))})).throw(De.invalidParameters);var o=new Kl;try{for(var u=kn(e),h=u.next();!h.done;h=u.next()){var f=h.value;this.sendFileMessage(f).onPending(function(m){return o._trigger(null,m)}).onFailed(function(m,v){return o._trigger(m,v)}).onSucceeded(function(m){return o._trigger(null,m)})}}catch(m){r={error:m}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return o},t.prototype.resendFileMessage=function(e,r){var a;return F(this,void 0,void 0,function(){var o,u,h;return P(this,function(f){return o=!!e.url||Ii(r)||Ii((a=e.messageParams)===null||a===void 0?void 0:a.file),mn(e instanceof ri&&o&&!e.scheduledInfo).throw(De.invalidParameters),u=new za,h=function(m,v){var y;return v===void 0&&(v=null),m.messageParams?(!m.url&&Ii(v)&&(m.messageParams.file=v),m.messageParams):at({data:m.data,customType:m.customType,mentionType:m.mentionType,mentionedUsers:m.mentionedUsers,mentionedUserIds:m.mentionedUserIds,metaArrays:m.metaArrays,parentMessageId:m.parentMessageId,appleCriticalAlertOptions:m.appleCriticalAlertOptions,file:v??((y=m.messageParams)===null||y===void 0?void 0:y.file),fileUrl:m.url,fileName:m.name,fileSize:m.size,mimeType:m.type,thumbnailSizes:m.thumbnails.map(function(w){return{maxWidth:w.width,maxHeight:w.height}})})}(e,r),this._sendFileMessage(h,e.reqId).onFailed(function(m){return u.reject(m)}).onSucceeded(function(m){return u.resolve(m)}),[2,u.promise]})})},t.prototype.updateFileMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,u,h;return P(this,function(f){switch(f.label){case 0:return a=Ee(Ee({},Ooe),r),mn(be("number",e)&&function(m){return Tk(m)}(a)).throw(De.invalidParameters),o=Te.of(this._iid).requestQueue,u=new d8(Ee({channelType:this.channelType,channelUrl:this.url,messageId:e},a)),[4,o.send(u)];case 1:return h=f.sent(),[2,h.as(db).message]}})})},t.prototype.cancelUploadingFileMessage=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return mn(be("string",e)).throw(De.invalidParameters),Di.of(this._iid).fileMessageQueue.cancel(this,e),[2,!0]})})},t.prototype.copyFileMessage=function(e,r){var a,o;return F(this,void 0,void 0,function(){var u,h;return P(this,function(f){return mn(e instanceof t&&r instanceof ri&&r.sendingStatus===Nr.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(De.invalidParameters),u=new za,h=Ee(Ee({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(a=r.mentionedUserIds)!==null&&a!==void 0?a:(o=r.mentionedUsers)===null||o===void 0?void 0:o.map(function(m){return m.userId}),pushNotificationDeliveryOption:bu.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:r.thumbnails.map(function(m){return{maxWidth:m.width,maxHeight:m.height}}),requireAuth:r.requireAuth,isPinnedMessage:!1}),e._sendFileMessage(h).onSucceeded(function(m){return u.resolve(m)}).onFailed(function(m){return u.reject(m)}),[2,u.promise]})})},t.prototype.deleteMessage=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return mn(e instanceof $l).throw(De.invalidParameters),e.messageId>0?(r=Te.of(this._iid).requestQueue,a=new dle({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId}),[4,r.send(a)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.addReaction=function(e,r){return F(this,void 0,void 0,function(){var a,o,u;return P(this,function(h){switch(h.label){case 0:return mn(e instanceof $l&&e.messageId>0&&be("string",r)).throw(De.invalidParameters),a=Te.of(this._iid).requestQueue,o=new hle({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,a.send(o)];case 1:return u=h.sent(),[2,u.as(ple).reactionEvent]}})})},t.prototype.deleteReaction=function(e,r){return F(this,void 0,void 0,function(){var a,o,u;return P(this,function(h){switch(h.label){case 0:return mn(e instanceof $l&&e.messageId>0&&be("string",r)).throw(De.invalidParameters),a=Te.of(this._iid).requestQueue,o=new fle({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,a.send(o)];case 1:return u=h.sent(),[2,u.as(_le).reactionEvent]}})})},t.prototype._updateUserMessageMetaArray=function(e,r,a,o){return F(this,void 0,void 0,function(){var u,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return u=Te.of(this._iid),h=u.dispatcher,f=u.requestQueue,m=new u8({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:a,upsert:o}}),[4,f.send(m)];case 1:return v=w.sent(),y=v.as(ub).message,h.dispatch(new ti({messages:[y],source:ut.EVENT_MESSAGE_UPDATED})),[2,y]}})})},t.prototype._updateFileMessageMetaArray=function(e,r,a,o){return F(this,void 0,void 0,function(){var u,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return u=Te.of(this._iid),h=u.dispatcher,f=u.requestQueue,m=new d8({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:a,upsert:o}}),[4,f.send(m)];case 1:return v=w.sent(),y=v.as(db).message,h.dispatch(new ti({messages:[y],source:ut.EVENT_MESSAGE_UPDATED})),[2,y]}})})},t.prototype.createMessageMetaArrayKeys=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){return mn(e instanceof $l&&e.messageId>0&&bt("string",r)).throw(De.invalidParameters),a=r.map(function(u){return new $a({key:u})}),e instanceof ri?[2,this._updateFileMessageMetaArray(e.messageId,a,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,a,"add",!0)]})})},t.prototype.deleteMessageMetaArrayKeys=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){return mn(e instanceof $l&&e.messageId>0&&bt("string",r)).throw(De.invalidParameters),a=r.map(function(u){return new $a({key:u})}),e instanceof ri?[2,this._updateFileMessageMetaArray(e.messageId,a,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,a,"remove",!0)]})})},t.prototype.addMessageMetaArrayValues=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){return mn(e instanceof $l&&e.messageId>0&&r.every(function(o){return o instanceof $a})).throw(De.invalidParameters),e instanceof ri?[2,this._updateFileMessageMetaArray(e.messageId,r,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"add",!0)]})})},t.prototype.removeMessageMetaArrayValues=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){return mn(e instanceof $l&&e.messageId>0&&r.every(function(o){return o instanceof $a})).throw(De.invalidParameters),e instanceof ri?[2,this._updateFileMessageMetaArray(e.messageId,r,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"remove",!0)]})})},t.prototype.report=function(e,r){return F(this,void 0,void 0,function(){var a,o,u,h;return P(this,function(f){switch(f.label){case 0:return mn(_t(Ff,e)&&be("string",r)).throw(De.invalidParameters),a=Te.of(this._iid),o=a.sdkState,u=a.requestQueue,h=new ole({channelUrl:this.url,channelType:this.channelType,userId:o.userId,category:e,description:r}),[4,u.send(h)];case 1:return f.sent(),[2]}})})},t.prototype.reportUser=function(e,r,a){return F(this,void 0,void 0,function(){var o,u,h,f;return P(this,function(m){switch(m.label){case 0:return mn(e instanceof kt&&_t(Ff,r)&&be("string",a)).throw(De.invalidParameters),o=Te.of(this._iid),u=o.sdkState,h=o.requestQueue,f=new lle({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:e.userId,category:r,description:a}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},t.prototype.reportMessage=function(e,r,a){return F(this,void 0,void 0,function(){var o,u,h,f;return P(this,function(m){switch(m.label){case 0:return mn(e instanceof Ti&&_t(Ff,r)&&be("string",a)).throw(De.invalidParameters),o=Te.of(this._iid),u=o.sdkState,h=o.requestQueue,f=new cle({channelUrl:this.url,channelType:this.channelType,userId:u.userId,offendingUserId:e.sender.userId,messageId:e.messageId,category:r,description:a}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},t.prototype.updatePoll=function(e,r){return F(this,void 0,void 0,function(){var a,o,u;return P(this,function(h){switch(h.label){case 0:return mn(be("number",e)&&function(f){return be("string",f.title,!0)&&EU(f.data)&&be("boolean",f.allowUserSuggestion,!0)&&be("boolean",f.allowMultipleVotes,!0)&&be("number",f.closeAt,!0)}(r)).throw(De.invalidParameters),a=Te.of(this._iid).requestQueue,o=new Ele(Ee({pollId:e},r)),[4,a.send(o)];case 1:return u=h.sent(),[2,u.as(wle).poll]}})})},t.prototype.deletePoll=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(u){switch(u.label){case 0:return r=be("number",e),mn(r).throw(De.invalidParameters),a=Te.of(this._iid).requestQueue,o=new xle({pollId:e}),[4,a.send(o)];case 1:return u.sent(),[2]}})})},t.prototype.closePoll=function(e){return F(this,void 0,void 0,function(){var r,a,o,u;return P(this,function(h){switch(h.label){case 0:return r=be("number",e),mn(r).throw(De.invalidParameters),a=Te.of(this._iid).requestQueue,o=new kle({pollId:e}),[4,a.send(o)];case 1:return u=h.sent(),[2,u.as(Sle).poll]}})})},t.prototype.addPollOption=function(e,r){return F(this,void 0,void 0,function(){var a,o,u,h;return P(this,function(f){switch(f.label){case 0:return a=be("number",e)&&be("string",r)&&r.trim()!=="",mn(a).throw(De.invalidParameters),o=Te.of(this._iid).requestQueue,u=new Tle({channelUrl:this.url,channelType:this.channelType,pollId:e,optionText:r}),[4,o.send(u)];case 1:return h=f.sent(),[2,h.as(Cle).poll]}})})},t.prototype.updatePollOption=function(e,r,a){return F(this,void 0,void 0,function(){var o,u,h,f;return P(this,function(m){switch(m.label){case 0:return o=be("number",e)&&be("number",r)&&be("string",a)&&a.trim()!=="",mn(o).throw(De.invalidParameters),u=Te.of(this._iid).requestQueue,h=new Ile({pollId:e,pollOptionId:r,optionText:a}),[4,u.send(h)];case 1:return f=m.sent(),[2,f.as(Nle).poll]}})})},t.prototype.deletePollOption=function(e,r){return F(this,void 0,void 0,function(){var a,o,u;return P(this,function(h){switch(h.label){case 0:return a=be("number",e)&&be("number",r),mn(a).throw(De.invalidParameters),o=Te.of(this._iid).requestQueue,u=new Ale({pollId:e,pollOptionId:r}),[4,o.send(u)];case 1:return h.sent(),[2]}})})},t.prototype.votePoll=function(e,r){return F(this,void 0,void 0,function(){var a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return a=be("number",e)&&bt("number",r),mn(a).throw(De.invalidParameters),o=Te.of(this._iid),u=o.requestQueue,h=o.dispatcher,f=new Ole({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionIds:r}),[4,u.send(f)];case 1:return m=y.sent(),v=m.as(Ik).event,h.dispatch(new Wb({event:v,source:ut.EVENT_POLL_VOTED})),[2,v]}})})},t.prototype.getPollChangeLogsSinceTimestamp=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return mn(be("number",e)).throw(De.invalidParameters),[4,lb.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}})})},t.prototype.getPollChangeLogsSinceToken=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return mn(be("string",e,!0)),[4,lb.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}})})},t.prototype.createPollListQuery=function(e){return e===void 0&&(e=10),new AU(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:e})},t.prototype.createPollVoterListQuery=function(e,r,a){return a===void 0&&(a=20),new OU(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionId:r,limit:a})},t}(Us),li,Hf,xx;(function(n){n.LATEST_LAST_MESSAGE="latest_last_message",n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(li||(li={})),function(n){n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(Hf||(Hf={})),function(n){n.CREATED_AT="created_at",n.SCHEDULED_AT="scheduled_at"}(xx||(xx={}));var Gi,gg=function(n){switch(n){case li.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case li.CHRONOLOGICAL:return["-createdAt","syncIndex"];case li.CHANNEL_NAME_ALPHABETICAL:return["name"]}},S0=function(){function n(){this.messageTypeFilter=ji.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=Aa.NONE}return n.prototype.clone=function(){var t=new n,e=JSON.parse(JSON.stringify(this));return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},n.prototype.match=function(t){switch(this.messageTypeFilter){case ji.USER:if(t.messageType!==Xr.USER)return!1;break;case ji.FILE:if(t.messageType!==Xr.FILE)return!1;break;case ji.ADMIN:if(t.messageType!==Xr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(t.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(t instanceof Ti)||!this.senderUserIdsFilter.includes(t.sender.userId)))return!1;switch(this.replyType){case Aa.NONE:if(t.parentMessageId>0)return!1;break;case Aa.ONLY_REPLY_TO_CHANNEL:if(t instanceof Ti&&t.parentMessageId>0&&!t.replyToChannel)return!1}return!0},n}();(function(n){n.CHANNEL_LATEST="channel_latest",n.NEWEST_CHILD_MESSAGE="newest_child_message"})(Gi||(Gi={}));var Zl=function(n){switch(n){case Gi.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case Gi.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},nc=typeof document<"u"&&typeof navigator<"u";nc&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var Mle=nc&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");nc&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),nc&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),nc&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var Bf,aa,Dle=nc&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),h8=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(t==="x"?e:3&e|8).toString(16)})};(function(n){n[n.PROCESSING=0]="PROCESSING",n[n.DONE=1]="DONE"})(Bf||(Bf={})),function(n){n.NEWNODE="newnode",n.REMOVENODE="removenode",n.CLAIM_HOST="claimhost",n.SYNC_HOST="synchost",n.REQUEST_LOCK="requestlock",n.ACQUIRE_LOCK="acquirelock",n.RELEASE_LOCK="releaselock"}(aa||(aa={}));var m_,z3={},Nk=function(){function n(t,e){e===void 0&&(e={});var r=this;return this._state=Bf.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],z3[t]&&!e.forceCreate||(this.nodeId=h8(),this.key=t,nc&&(e.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&r.claimHost()}),window.addEventListener("message",function(a){var o,u,h=a.data,f=h.nodeId,m=h.requestId,v=h.key,y=h.op,w=h.data;if(f!==r.nodeId&&v===r.key)switch(y){case aa.NEWNODE:r._sendSync();break;case aa.CLAIM_HOST:r._sendSync(),r._hostId=f;break;case aa.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var x=w,C=x.currentItemRequestId,A=x.queue,L=function(O){var H=r._queue.findIndex(function(D){return D.requestId===O.requestId});H<0&&r._requestLock({nodeId:O.nodeId,requestId:O.requestId,key:r.key,op:aa.REQUEST_LOCK,ts:O.ts})};try{for(var S=kn(A),k=S.next();!k.done;k=S.next())L(k.value)}catch(O){o={error:O}}finally{try{k&&!k.done&&(u=S.return)&&u.call(S)}finally{if(o)throw o.error}}r._currentItem=r._queue.find(function(O){return O.requestId===C}),r._completeSync()}break;case aa.REMOVENODE:r._queue=r._queue.filter(function(O){return O.nodeId!==h.nodeId}),r._currentItem&&r._currentItem.nodeId===h.nodeId&&(r._currentItem=null,r._acquire(r._queue[0]));break;case aa.REQUEST_LOCK:r._requestLock(h);break;case aa.ACQUIRE_LOCK:var N=r._queue.find(function(O){return O.requestId===m});r._acquire(N);break;case aa.RELEASE_LOCK:r._release(m)}}),window.addEventListener("beforeunload",function(){r._send(aa.REMOVENODE)})),z3[t]=this),z3[t]}return Object.defineProperty(n.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isInSync",{get:function(){return this._state==Bf.DONE},enumerable:!1,configurable:!0}),n.prototype._send=function(t,e){var r,a;e===void 0&&(e={});var o={nodeId:this.nodeId,requestId:(r=e==null?void 0:e.requestId)!==null&&r!==void 0?r:h8(),key:this.key,op:t,data:(a=e.data)!==null&&a!==void 0?a:null,ts:Date.now()};return nc&&window.postMessage(o,"*"),o},n.prototype._acquire=function(t){t===void 0&&(t=null),t?(this._currentItem=t,this._currentItem.onAcquired(t.requestId)):this._currentItem=null},n.prototype._release=function(t){if(this._currentItem&&this._currentItem.requestId===t){var e=this._currentItem;this._currentItem=null,e.nodeId===this.nodeId&&this._send(aa.RELEASE_LOCK,{requestId:e.requestId});var r=this._queue.findIndex(function(a){return a.requestId===t});r>-1&&this._queue.splice(r,1),e.onReleased(t)}},n.prototype._requestLock=function(t){var e=this;return new Promise(function(r){var a={nodeId:t.nodeId,requestId:t.requestId,ts:t.ts,onAcquired:function(h){e.isHost&&e._send(aa.ACQUIRE_LOCK,{requestId:h}),r()},onReleased:function(){e._acquire(e._queue[0])}},o=!1;for(var u in e._queue)if(e._queue[u].ts>a.ts){e._queue.splice(parseInt(u),0,a),o=!0;break}o||e._queue.push(a),e._currentItem||e._acquire(e._queue[0])})},n.prototype._sendSync=function(){var t;this.isHost&&this._send(aa.SYNC_HOST,{data:{currentItemRequestId:(t=this._currentItem)===null||t===void 0?void 0:t.requestId,queue:this._queue.map(function(e){return{nodeId:e.nodeId,requestId:e.requestId,ts:e.ts}})}})},n.prototype._waitUntilSyncCompleted=function(){return F(this,void 0,void 0,function(){var t=this;return P(this,function(e){return this.isHost&&!this.isInSync?[2,new Promise(function(r){t._activationQueue.push(r)})]:[2]})})},n.prototype._waitSync=function(){var t=this;this.isInSync||(this._activationTimeout=setTimeout(function(){t._completeSync()},8))},n.prototype._completeSync=function(){this.isInSync||(this._state=Bf.DONE,this._activationQueue.forEach(function(t){return t()}),this._activationQueue=[])},n.prototype.registerNode=function(){this._send(aa.NEWNODE),this._waitSync()},n.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(aa.CLAIM_HOST),this._waitSync()},n.prototype.lock=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return e.sent(),t=this._send(aa.REQUEST_LOCK),[4,this._requestLock(t)];case 2:return e.sent(),[2]}})})},n.prototype.unlock=function(){var t;this._release((t=this._currentItem)===null||t===void 0?void 0:t.requestId)},n}(),Lle=Ee(Ee({},LU),{scheduledAt:null}),Ule=function(n){return UU(n)&&be("number",n.scheduledAt,!0)},Ple=Ee(Ee({},xk),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Fle=function(n){return kk(n)&&be("number",n.scheduledAt)&&(Ii(n.file)||be("string",n.fileUrl))&&be("string",n.fileName,!0)&&be("string",n.mimeType,!0)&&be("number",n.fileSize,!0)&&(n.thumbnailSizes===null||n.thumbnailSizes.every(function(t){return be("object",t)&&t.maxWidth>0&&t.maxHeight>0}))},WU="UnsentMessage",Hle="reqId",p8={},Ak=function(n){function t(e,r){var a=r.sdkState,o=r.cacheContext,u=n.call(this,e)||this;return u._sdkState=a,u._cacheContext=o,p8[e]=u,u._mutex=new Nk("unsendmessagecache.lock"),u}return ne(t,n),t.of=function(e){return p8[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e&&e.collection(WU)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){if(e.messageId>0)throw De.invalidParameters;var r,a=Ee({},e.serialize());return e instanceof qi?(e.messageParams&&(a.messageParams=JO(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a.scheduledInfo.scheduledMessageParams=(r=e.scheduledInfo.scheduledMessageParams,Ee(Ee({},JO(r)),{scheduledAt:r.scheduledAt})))):e instanceof ri&&(e.messageParams&&(a.messageParams=n8(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a.scheduledInfo.scheduledMessageParams=function(o){return Ee(Ee({},n8(o)),{scheduledAt:o.scheduledAt})}(e.scheduledInfo.scheduledMessageParams))),a},t.prototype._deserialize=function(e){return e?(e=Ee(Ee({},e),{messageId:parseInt(e.messageId)}),Di.of(this._iid).buildMessageFromSerializedData(e)):null},t.prototype._deserializeWithMessageCreateParams=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return r=Di.of(this._iid),a=this._deserialize(e),e.messageParams?a instanceof qi?(o=e.messageParams,a.messageParams=r.buildUserMessageCreateParamsFromSerializedData(o,a),[3,4]):[3,1]:[3,4];case 1:return a instanceof ri?(o=e.messageParams).fileKey&&typeof o.fileKey=="string"&&e8(o.fileType)?(u=o,[4,this.collection.getBlob(o.fileKey)]):[3,3]:[3,4];case 2:u.file=m.sent(),m.label=3;case 3:a.messageParams=r.buildFileMessageCreateParamsFromSerializedData(o,a),m.label=4;case 4:return a.scheduledInfo&&e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams?a instanceof qi?(h=e.scheduledInfo.scheduledMessageParams,a.scheduledInfo.scheduledMessageParams=r.buildScheduledUserMessageCreateParamsFromSerializedData(h,a),[3,8]):[3,5]:[3,8];case 5:return a instanceof ri?(h=e.scheduledInfo.scheduledMessageParams).fileKey&&typeof h.fileKey=="string"&&e8(h.fileType)?(f=h,[4,this.collection.getBlob(h.fileKey)]):[3,7]:[3,8];case 6:f.file=m.sent(),m.label=7;case 7:a.scheduledInfo.scheduledMessageParams=r.buildScheduledFileMessageCreateParamsFromSerializedData(h,a),m.label=8;case 8:return[2,a]}})})},t.prototype.get=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=a.sent())return[2,this._deserializeWithMessageCreateParams(r)];a.label=2;case 2:return[2,null]}})})},t.prototype.fetch=function(e){var r=e.channelUrl,a=r===void 0?null:r,o=e.filter,u=o===void 0?new S0:o,h=e.order,f=h===void 0?Gi.CHANNEL_LATEST:h,m=e.sendingStatus,v=m===void 0?null:m,y=e.backward,w=y!==void 0&&y,x=e.parentMessageId,C=x===void 0?null:x;return F(this,void 0,void 0,function(){var A,L,S,k,N=this;return P(this,function(O){switch(O.label){case 0:return this.localCacheEnabled?(A=Zl(f),L={"/where":function(H){return!!(f!==Gi.NEWEST_CHILD_MESSAGE||C&&H.parentMessageId!==0&&H.parentMessageId===C)&&u.match(N._deserialize(H))}},a&&(L.channelUrl=a),v&&(L.sendingStatus=v),S={where:L,index:A,backward:w},[4,this.collection.query(S)]):[3,3];case 1:return[4,O.sent().fetch({})];case 2:return k=O.sent(),[2,Promise.all(k.map(function(H){return F(N,void 0,void 0,function(){return P(this,function(D){switch(D.label){case 0:return[4,this._deserializeWithMessageCreateParams(H)];case 1:return[2,D.sent()]}})})}))];case 3:return[2,[]]}})})},t.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new S0),F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return[4,this.fetch({filter:r,order:Gi.NEWEST_CHILD_MESSAGE,channelUrl:e.channelUrl,backward:!1,parentMessageId:e.messageId})];case 1:return[2,a.sent()]}})})},t.prototype.upsert=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(o){return F(r,void 0,void 0,function(){var u;return P(this,function(h){switch(h.label){case 0:return o instanceof ri?[4,this._mutex.lock()]:[3,4];case 1:return h.sent(),[4,this.saveBlob(o)];case 2:return h.sent(),[4,this._mutex.unlock()];case 3:h.sent(),h.label=4;case 4:return u=this._serialize(o),[4,this.collection.upsertOne(u)];case 5:return h.sent(),[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.upsertChildMessages=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(o){return F(r,void 0,void 0,function(){var u,h;return P(this,function(f){switch(f.label){case 0:return u=[],((h=o.threadInfo)===null||h===void 0?void 0:h.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:u=f.sent(),f.label=2;case 2:return u.length>0?(u.forEach(function(m){return m.applyParentMessage(o)}),[4,this.upsert(u)]):[3,4];case 3:f.sent(),f.label=4;case 4:return[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:if(!this.localCacheEnabled)return[3,8];m.label=1;case 1:m.trys.push([1,6,7,8]),r=kn(e),a=r.next(),m.label=2;case 2:return a.done?[3,5]:(o=a.value,[4,this.collection.remove(o)]);case 3:m.sent(),m.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return u=m.sent(),h={error:u},[3,8];case 7:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},t.prototype.removeMessagesOfChannel=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.saveBlob=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(u){switch(u.label){case 0:return e instanceof ri?e.messageParams&&(r=e.messageParams).file&&Ex(r.file)?[4,this.collection.saveBlob(r.file,e.reqId)]:[3,2]:[3,4];case 1:o=u.sent(),r.fileKey=o,r.fileType=k0.BLOB,u.label=2;case 2:return e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a=e.scheduledInfo.scheduledMessageParams).file&&Ex(a.file)?[4,this.collection.saveBlob(a.file,e.reqId)]:[3,4];case 3:o=u.sent(),a.fileKey=o,a.fileType=k0.BLOB,u.label=4;case 4:return[2]}})})},t}(Us),f8={},QU=function(n){function t(e,r){var a=r.sdkState,o=r.cacheContext,u=r.unsentMessageCache,h=n.call(this,e)||this;return h._sdkState=a,h._cacheContext=o,h._unsentMessageCache=u,f8[e]=h,h}return ne(t,n),t.of=function(e){return f8[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e?e.collection(DU):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){return Ee(Ee({},e.serialize()),{messageId:"".concat(e.messageId)})},t.prototype._deserialize=function(e){return e=Ee(Ee({},e),{messageId:parseInt(e.messageId)}),Di.of(this._iid).buildMessageFromSerializedData(e)},t.prototype.get=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=a.sent())return[2,this._deserialize(r)];a.label=2;case 2:return[2,null]}})})},t.prototype.fetch=function(e){var r=e.channelUrl,a=e.token,o=e.limit,u=o===void 0?cb:o,h=e.filter,f=h===void 0?new S0:h,m=e.order,v=m===void 0?Gi.CHANNEL_LATEST:m,y=e.backward,w=y!==void 0&&y,x=e.parentMessageId,C=x===void 0?null:x,A=e.isPollOnly,L=A!==void 0&&A;return F(this,void 0,void 0,function(){var S,k,N,O=this;return P(this,function(H){switch(H.label){case 0:return this.localCacheEnabled?(S=Zl(v),k={where:{channelUrl:r,"/where":function(D){if(a)switch(v){case Gi.CHANNEL_LATEST:if(!w&&D.createdAt>a||w&&D.createdAt<a)return!1;break;case Gi.NEWEST_CHILD_MESSAGE:if(!C||D.parentMessageId===0||D.parentMessageId!==C)return!1}return!(L&&!D._poll)&&f.match(O._deserialize(D))}},index:S,backward:w},[4,this.collection.query(k)]):[3,3];case 1:return[4,H.sent().fetch({limit:u})];case 2:return N=H.sent(),[2,Promise.all(N.map(function(D){return F(O,void 0,void 0,function(){return P(this,function(T){return[2,this._deserialize(D)]})})}))];case 3:return[2,[]]}})})},t.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new S0),F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return[4,this.fetch({channelUrl:e.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:Gi.NEWEST_CHILD_MESSAGE,parentMessageId:e.messageId})];case 1:return[2,a.sent()]}})})},t.prototype.upsert=function(e){return F(this,void 0,void 0,function(){var r,a=this;return P(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(e)]:[3,5];case 1:return o.sent(),r=e.map(function(u){return a._serialize(u)}),[4,this.collection.upsertMany(r)];case 2:return o.sent(),[4,this.upsertChildMessages(e)];case 3:return o.sent(),[4,this._unsentMessageCache.upsertChildMessages(e)];case 4:o.sent(),o.label=5;case 5:return[2]}})})},t.prototype.upsertChildMessages=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(o){return F(r,void 0,void 0,function(){var u,h;return P(this,function(f){switch(f.label){case 0:return u=[],((h=o.threadInfo)===null||h===void 0?void 0:h.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:u=f.sent(),f.label=2;case 2:return u.length>0?(u.forEach(function(m){return m.applyParentMessage(o)}),[4,this.upsert(u)]):[3,4];case 3:f.sent(),f.label=4;case 4:return[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:if(!this.localCacheEnabled)return[3,8];m.label=1;case 1:m.trys.push([1,6,7,8]),r=kn(e),a=r.next(),m.label=2;case 2:return a.done?[3,5]:(o=a.value,[4,this.collection.remove("".concat(o))]);case 3:m.sent(),m.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return u=m.sent(),h={error:u},[3,8];case 7:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},t.prototype.removeMessagesOfChannel=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e},index:Zl(Gi.CHANNEL_LATEST)})]:[3,6];case 1:return a.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 2:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 3:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 4:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 5:a.sent(),a.label=6;case 6:return[2]}})})},t.prototype.removeUnderOffset=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e,createdAt:{"<":r}},index:Zl(Gi.CHANNEL_LATEST)})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.countBetween=function(e,r,a){return F(this,void 0,void 0,function(){var o,u=this;return P(this,function(h){switch(h.label){case 0:return this.localCacheEnabled?(o=Zl(Gi.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:e,"/where":function(f){var m=u._deserialize(f);return a.includes(m.createdAt)&&r.match(m)}},index:o}).count()]):[3,2];case 1:return[2,h.sent()];case 2:return[2,0]}})})},t.prototype.saveBlobs=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return[4,Promise.all(e.map(function(o){return F(r,void 0,void 0,function(){var u,h;return P(this,function(f){switch(f.label){case 0:return o instanceof ri&&o.messageParams&&(u=o.messageParams).file&&Ex(u.file)?[4,this.collection.saveBlob(u.file,o.reqId)]:[3,2];case 1:h=f.sent(),u.fileKey=h,f.label=2;case 2:return[2]}})})}))];case 1:return a.sent(),[2]}})})},t.prototype._getGroupChannelPreferenceSize=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return r=0,[4,(a=this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 1:return o=m.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 2:return u=m.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 3:return h=m.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 4:return f=m.sent(),o&&(r+=JSON.stringify(o).length),u&&(r+=JSON.stringify(u).length),h&&(r+=JSON.stringify(h).length),f&&(r+=JSON.stringify(f).length),[2,r]}})})},t}(Us),YU=function(n){function t(e){var r=e.message,a=n.call(this)||this;return a.message=r,a}return ne(t,n),t}(di),_8={},hf=function(){function n(t,e){var r=e.localCacheEnabled,a=e.dispatcher,o=e.sdkState,u=e.logger,h=this;this._iid=t,_8[t]=this,this._localCacheEnabled=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=a,this._logger=u,this._sdkState=o,this._localCacheEnabled&&a.on(function(f){if(f instanceof hs)switch(f.stateType){case Vt.CONNECTED:h._isProcessingAutoResend||h.processAutoResendRegisteredPendingMessages().then(function(){return h._processNextAutoResend()});break;case Vt.INTERNAL_DISCONNECTED:case Vt.EXTERNAL_DISCONNECTED:h._isProcessingAutoResend=!1}})}return n.of=function(t){return _8[t]},n.prototype.processNonAutoResendRegisteredPendingMessages=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u;return P(this,function(h){switch(h.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:t=h.sent();try{for(e=kn(t),r=e.next();!r.done;r=e.next())(a=r.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",a.reqId),a.sendingStatus=Nr.FAILED,a.errorCode=xt.ACK_TIMEOUT,this._dispatcher.dispatch(new ti({messages:[a],source:ut.LOCAL_MESSAGE_FAILED})))}catch(f){o={error:f}}finally{try{r&&!r.done&&(u=e.return)&&u.call(e)}finally{if(o)throw o.error}}return[2]}})})},n.prototype.processAutoResendRegisteredPendingMessages=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:t=m.sent();try{for(e=kn(t),r=e.next();!r.done;r=e.next())(a=r.value).errorCode&&tb(a.errorCode)&&(o=new Date().getTime(),u=a.createdAt+2592e5,o<=u?this._autoResendQueue.map(function(v){return v.reqId}).indexOf(a.reqId)<0&&this._autoResendQueue.push(a):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(u).toLocaleString()),a.sendingStatus=Nr.FAILED,this._dispatcher.dispatch(new ti({messages:[a],source:ut.LOCAL_MESSAGE_FAILED}))))}catch(v){h={error:v}}finally{try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}}return[2]}})})},n.prototype.completeCurrentAndProcessNextAutoResend=function(t){if(this._localCacheEnabled&&(t.sendingStatus===Nr.SUCCEEDED||t.sendingStatus===Nr.FAILED&&!tb(t.errorCode))){var e=this.indexOf(t);e>=0&&this._autoResendQueue.splice(e,1),e===0&&this._processNextAutoResend()}},n.prototype._fetchAllCachedPendingMessages=function(){return F(this,void 0,void 0,function(){var t,e;return P(this,function(r){switch(r.label){case 0:return(t=Ak.of(this._iid))?[4,t.fetch({sendingStatus:Nr.PENDING,backward:!0})]:[3,2];case 1:return e=r.sent(),[3,3];case 2:e=[],r.label=3;case 3:return[2,e]}})})},n.prototype.indexOf=function(t){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(e){return e.reqId}).indexOf(t.reqId):-1},n.prototype._isNotInQueue=function(t){return this._autoResendQueue.map(function(e){return e.reqId}).indexOf(t.reqId)===-1},n.prototype._processNextAutoResend=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),t=this._autoResendQueue[0],this._dispatcher.dispatch(new YU({message:t})),this._logger.debug("processing auto-resend for message request id: ",t.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]})})},n}();(function(n){n[n.USER_BLOCK=20001]="USER_BLOCK",n[n.USER_UNBLOCK=2e4]="USER_UNBLOCK",n[n.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(m_||(m_={}));var et,hb=function(){function n(t){this.category=t.cat,this.data=t.data}return n.getDataAsUserBlockEvent=function(t,e){var r=e.data,a=r.blocker,o=r.blockee;return{blocker:new kt(t,a),blockee:new kt(t,o)}},n.getDataAsFriendDiscoveredEvent=function(t,e){var r=e.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map(function(a){return new kt(t,a)}):[]}},n}(),XU=function(n){function t(e,r){var a=r.userId,o=n.call(this)||this;return o._iid=e,o.userId=a,o}return ne(t,n),t}(di);(function(n){n.UNKNOWN="UNKNOWN",n.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",n.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",n.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",n.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",n.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",n.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",n.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",n.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",n.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",n.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",n.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",n.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",n.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",n.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",n.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",n.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",n.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",n.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",n.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",n.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",n.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",n.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",n.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",n.EVENT_PINNED_MESSAGE_UPDATED="EVENT_PINNED_MESSAGE_UPDATED",n.REQUEST_CHANNEL="REQUEST_CHANNEL",n.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",n.REFRESH_CHANNEL="REFRESH_CHANNEL",n.CHANNEL_LASTACCESSEDAT_UPDATED="CHANNEL_LASTACCESSEDAT_UPDATED",n.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",n.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS"})(et||(et={}));var wr,bg=function(n){return n.startsWith("EVENT_")||n===et.SYNC_CHANNEL_CHANGELOGS||n===et.REFRESH_CHANNEL},Nt=function(n){function t(e){var r=e.channels,a=e.source,o=e.data,u=o===void 0?null:o,h=n.call(this)||this;return h.channels=r,h.source=a,h.data=u,h}return ne(t,n),t}(di),ud=function(n){function t(e){var r=e.channelUrls,a=e.source,o=n.call(this)||this;return o.channelUrls=r,o.source=a,o}return ne(t,n),t}(di),ZU=function(n){function t(){return n.call(this)||this}return ne(t,n),t}(di),JU=function(n){function t(e,r,a){var o=n.call(this,e,"USEV",a)||this;return o.event=new hb(a),o}return ne(t,n),t}(or),Vv={},Xb=function(){function n(t){var e=t.dbname,r=t.itemSizeLimit,a=r===void 0?1048576:r,o=t.cacheLimit,u=o===void 0?256:o,h=t.blockHashBase,f=h===void 0?2:h,m=t.blockHashMultiplier,v=m===void 0?10:m,y=t.blockHashConstant,w=y===void 0?11:y,x=t.transactionApplyDelay,C=x===void 0?200:x,A=t.disableLogger,L=A!==void 0&&A;return Vv[e]||(this.itemSizeLimit=a,this.cacheLimit=u,this.blockHashBase=f,this.blockHashMultiplier=v,this.blockHashConstant=w,this.transactionApplyDelay=C,this.disableLogger=L,Vv[e]=this),Vv[e]}return n.get=function(t){return Vv[t]},n}();(function(n){n[n.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",n[n.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",n[n.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",n[n.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",n[n.STORE_IS_FULL=61001003]="STORE_IS_FULL",n[n.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",n[n.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",n[n.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",n[n.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",n[n.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",n[n.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",n[n.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",n[n.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",n[n.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",n[n.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",n[n.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",n[n.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",n[n.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",n[n.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",n[n.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",n[n.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",n[n.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",n[n.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",n[n.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",n[n.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(wr||(wr={}));var n0,Ir=function(n){function t(e){var r=e.code,a=r===void 0?wr.UNKNOWN_ERROR:r,o=e.message,u=o===void 0?"Unknown error occurred.":o,h=n.call(this,u)||this;return h.code=a,Object.setPrototypeOf(h,t.prototype),h}return ne(t,n),Object.defineProperty(t,"storeNotDefined",{get:function(){return new t({code:wr.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailable",{get:function(){return new t({code:wr.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailableInPrivateBrowsing",{get:function(){return new t({code:wr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeIsFull",{get:function(){return new t({code:wr.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeKeyTypeIsInvalid",{get:function(){return new t({code:wr.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenIntegrity",{get:function(){return new t({code:wr.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenBlob",{get:function(){return new t({code:wr.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeEncryptionInvalid",{get:function(){return new t({code:wr.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeItemSizeExceeded",{get:function(){return new t({code:wr.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeReadFailed",{get:function(){return new t({code:wr.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeWriteFailed",{get:function(){return new t({code:wr.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseSchemaNotOnUpgrade",{get:function(){return new t({code:wr.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionNotReady",{get:function(){return new t({code:wr.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotMatch",{get:function(){return new t({code:wr.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionQueryNotValid",{get:function(){return new t({code:wr.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionInsertDuplicate",{get:function(){return new t({code:wr.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotFound",{get:function(){return new t({code:wr.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotGiven",{get:function(){return new t({code:wr.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionWriteFailed",{get:function(){return new t({code:wr.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionItemSizeExceeded",{get:function(){return new t({code:wr.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTableIsRequired",{get:function(){return new t({code:wr.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTypesNotMatch",{get:function(){return new t({code:wr.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"compareTypesNotMatch",{get:function(){return new t({code:wr.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularReferenceFound",{get:function(){return new t({code:wr.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),t}(Error);(function(n){n.INIT="init",n.READY="ready",n.CLOSED="closed"})(n0||(n0={}));var m8,Ba=function(n,t){if(t===void 0&&(t=new WeakMap),typeof n=="object"&&n!==null){if(t.has(n))throw Ir.circularReferenceFound;t.set(n,!0);var e=null;if(Array.isArray(n))e=n.map(function(a){return Ba(a,t)});else if(n instanceof RegExp)e=n;else if(n instanceof Date)e=n;else for(var r in e={},n)e[r]=Ba(n[r],t);return t.delete(n),e}return n},Jl=function(n,t){if(t==null)return 1;if(n==null)return-1;if(typeof n!=typeof t)throw Ir.compareTypesNotMatch;var e=0;switch(typeof n){case"boolean":case"number":e=n-t;break;case"string":e=n.localeCompare(t)}return e},v8=function(n,t){for(var e=0,r=0;r<n.length;r++)e=n.charCodeAt(r)+(e<<6)+(e<<16)-e;return(e>>>0)%t},Gv=function(n){return new Promise(function(t){setTimeout(function(){return t()},n)})},Ad=function(n,t){if(!t)return!1;if(typeof n!="function"){for(var e in n)if(["/and","&&"].includes(e)){if(n[e].some(function(f){return!Ad(f,t)}))return!1}else if(["/or","||"].includes(e)){if(n[e].every(function(f){return!Ad(f,t)}))return!1}else if(e==="/where"){if(!(0,n[e])(t))return!1}else{var r=e;if(typeof n[r]=="object"){var a=n[r];for(var o in a)switch(o){case"/eq":case"=":if((u=t[r])!==(h=a[o]))return!1;break;case"/neq":case"!=":if((u=t[r])===(h=a[o]))return!1;break;case"/gt":case">":var u=t[r],h=a[o];if(!(Jl(u,h)>0))return!1;break;case"/gte":case">=":if(u=t[r],h=a[o],!(Jl(u,h)>=0))return!1;break;case"/lt":case"<":if(u=t[r],h=a[o],!(Jl(u,h)<0))return!1;break;case"/lte":case"<=":if(u=t[r],h=a[o],!(Jl(u,h)<=0))return!1;break;case"/in":if(u=t[r],!(h=a[o]).includes(u))return!1;break;case"/nin":if(u=t[r],(h=a[o]).includes(u))return!1;break;case"/contain":if(u=t[r],h=a[o],!u.includes(h))return!1;break;case"/regex":if(u=t[r],!(h=a[o]).test(u))return!1;break;case"/where":if(u=t[r],!(0,a[o])(u))return!1}}else if(typeof n[r]=="function"){if(!n[r](t[r]))return!1}else if(n[r]!==t[r])return!1}return!0}return n(t)},yg=function(){},g8=function(){return Promise.resolve()},Ble=function(n){return n},b8=function(n,t){t(null)};(function(n){n[n.FORWARD=0]="FORWARD",n[n.BACKWARD=1]="BACKWARD"})(m8||(m8={}));var Od,la,nl,$le=function(){function n(t){var e=t.initialPrevValue,r=e===void 0?null:e,a=t.initialNextValue,o=a===void 0?null:a,u=t.iterator,h=t.map,f=h===void 0?Ble:h,m=t.backward,v=m===void 0?g8:m,y=t.forward,w=y===void 0?g8:y,x=t.complete,C=x===void 0?yg:x;this._prevValue=r,this._nextValue=o,this._error=null,this._map=f,this._backward=v,this._forward=w,this._iterator=u,this._complete=C}return Object.defineProperty(n.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),n.prototype.prev=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:if(!this.hasPrevious)return[3,6];a.label=1;case 1:return a.trys.push([1,3,,4]),t=this._prevValue,e=this,[4,this._backward()];case 2:return e._prevValue=a.sent()||null,this._nextValue=t,[3,4];case 3:return r=a.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,a.sent()];case 6:this._complete(),a.label=7;case 7:return[2]}})})},n.prototype.next=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:if(!this.hasNext)return[3,6];a.label=1;case 1:return a.trys.push([1,3,,4]),t=this._nextValue,e=this,[4,this._forward()];case 2:return e._nextValue=a.sent()||null,this._prevValue=t,[3,4];case 3:return r=a.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,a.sent()];case 6:this._complete(),a.label=7;case 7:return[2]}})})},n.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},n}(),kx=function(){function n(t){var e=t.condition,r=e===void 0?{}:e,a=t.backward,o=a!==void 0&&a,u=t.blockManager,h=t.indexer;this.condition=r,this.backward=o,this._blockManager=u,this._indexer=h}return n.prototype.findOptimizedStartPosition=function(){var t=this,e=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var a=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var o in this._indexer.fields){var u=this._indexer.fields[o],h=1;if(u[0]==="-"&&(u=u.slice(1),h=-1),this.condition[u]){if(typeof this.condition[u]=="object"){var f=h>0?r:e;for(var m in this.condition[u])if(f.includes(m)){for(var v=a;v>=0;v--)if(h*Jl(this._indexer.origin[v].columnValues[o],this.condition[u][m])<=0){a=v;break}}}else for(v=a;v>=0;v--)if(h*Jl(this._indexer.origin[v].columnValues[o],this.condition[u])<=0){a=v;break}}}return Math.min(a+1,this._indexer.origin.length-1)}var y=0;if(typeof this.condition!="function")for(var w=function(A){var L=x._indexer.fields[A],S=1;if(L[0]==="-"&&(L=L.slice(1),S=-1),x.condition[L]){if(typeof x.condition[L]=="object")Object.keys(x.condition[L]).forEach(function(N){if((S>0?e:r).includes(N)){for(var O=y;O<t._indexer.origin.length;O++)if(S*Jl(t._indexer.origin[O].columnValues[A],t.condition[L][N])>=0){y=O;break}}});else for(var k=y;k<x._indexer.origin.length;k++)if(S*Jl(x._indexer.origin[k].columnValues[A],x.condition[L])>=0){y=k;break}}},x=this,o=0;o<this._indexer.fields.length;o++)w(o);return Math.max(y-1,0)},n.prototype.each=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m=this;return P(this,function(v){switch(v.label){case 0:if(e=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[e]&&(r=this._indexer.origin[e].keys.length-1),a=function(){if(m._indexer.origin[e]){if(!m._indexer.origin[e].keys[++r]){if(!m._indexer.origin[++e])return!1;r=0}return!0}return!1},o=function(){if(m._indexer.origin[e]){if(!m._indexer.origin[e].keys[--r]){if(!m._indexer.origin[--e])return!1;r=m._indexer.origin[e].keys.length-1}return!0}return!1},u=null,!this._indexer.origin[e])return[3,4];h=this.backward?o:a,v.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])];case 2:if(f=v.sent(),Ad(this.condition,f))return u=f,[3,4];v.label=3;case 3:if(h())return[3,1];v.label=4;case 4:return[4,new Promise(function(y){var w=new $le({initialNextValue:Ba(u),iterator:t,forward:function(){return F(m,void 0,void 0,function(){var x,C;return P(this,function(A){switch(A.label){case 0:x=this.backward?o:a,A.label=1;case 1:return x()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return C=A.sent(),Ad(this.condition,C)?[2,Ba(C)]:[3,1];case 3:return[2,null]}})})},backward:function(){return F(m,void 0,void 0,function(){var x,C;return P(this,function(A){switch(A.label){case 0:x=this.backward?a:o,A.label=1;case 1:return x()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return C=A.sent(),Ad(this.condition,C)?[2,Ba(C)]:[3,1];case 3:return[2,null]}})})},complete:y});t(w)})];case 5:return[2,v.sent()]}})})},n}(),zle=function(){function n(t){var e=t.condition,r=e===void 0?{}:e,a=t.backward,o=a!==void 0&&a,u=t.mutex,h=t.blockManager,f=t.indexer;this._mutex=u,this._iterator=new kx({condition:r,backward:o,blockManager:h,indexer:f})}return n.prototype.fetch=function(t){return t===void 0&&(t={}),F(this,void 0,void 0,function(){var e,r,a,o,u=this;return P(this,function(h){switch(h.label){case 0:if(e=Math.max(t.offset||0,0),(r=typeof t.limit=="number"?t.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw Ir.collectionQueryNotValid;h.label=1;case 1:return h.trys.push([1,4,,5]),a=[],[4,this._mutex.lock()];case 2:return h.sent(),[4,this._iterator.each(function(f){return F(u,void 0,void 0,function(){return P(this,function(m){return f.error?f.stop():f.hasNext?e===0?(a.push(f.nextValue),0<r&&r<=a.length?f.stop():f.next()):(e--,f.next()):f.stop(),[2]})})})];case 3:return h.sent(),this._mutex.unlock(),[2,a];case 4:throw o=h.sent(),this._mutex.unlock(),o;case 5:return[2]}})})},n.prototype.count=function(){return F(this,void 0,void 0,function(){var t,e,r=this;return P(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),t=0,[4,this._mutex.lock()];case 1:return a.sent(),[4,this._iterator.each(function(o){return F(r,void 0,void 0,function(){return P(this,function(u){return o.error?o.stop():o.hasNext?(t++,o.next()):o.stop(),[2]})})})];case 2:return a.sent(),this._mutex.unlock(),[2,t];case 3:throw e=a.sent(),this._mutex.unlock(),e;case 4:return[2]}})})},n}(),Sx=function(n){return"".concat("nest","@").concat(n)},Bd=function(n,t){return"".concat(Sx(n),"/").concat(t)},V3=function(n,t){return"".concat(Bd(n,t),".metadata")},Tx=function(n,t){return"".concat(Bd(n,t),"/block.")},y8=function(n,t){return"".concat(Bd(n,t),"/blob.")},Vle=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.store;this.dbname=e,this.collectionName=r,this.store=a}return n.prototype.get=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return[4,this.store.get(t)];case 1:return(e=y.sent())?(r=e.data,a=e.type,typeof fetch>"u"?[3,4]:[4,fetch(r)]):[3,5];case 2:return[4,y.sent().blob()];case 3:return[2,y.sent()];case 4:for(o=[],u=atob(r.split(",")[1]),h=0;h<u.length;h+=512){for(f=u.slice(h,h+512),m=new Array(f.length),v=0;v<f.length;v++)m[v]=f.charCodeAt(v);o.push(new Uint8Array(m))}return[2,new Blob(o,{type:a})];case 5:return[2,null]}})})},n.prototype.save=function(t,e){return e===void 0&&(e="".concat(Date.now())),F(this,void 0,void 0,function(){var r,a,o,u,h=this;return P(this,function(f){switch(f.label){case 0:return[4,new Promise(function(m){var v=function(w,x,C,A){return A===void 0&&(A=0),"".concat(y8(w,x)).concat(C,".").concat(A)}(h.dbname,h.collectionName,e),y=new FileReader;y.onload=function(){m({blobId:v,data:y.result,type:t.type})},y.readAsDataURL(t)})];case 1:return r=f.sent(),a=r.blobId,o=r.data,u=r.type,[4,this.store.set({key:a,value:{data:o,type:u},generation:1})];case 2:return f.sent(),[2,a]}})})},n.prototype.remove=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this.store.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.clear=function(){return F(this,void 0,void 0,function(){var t,e,r=this;return P(this,function(a){switch(a.label){case 0:return t=y8(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return e=a.sent(),[4,Promise.all(e.filter(function(o){return o.startsWith(t)}).map(function(o){return F(r,void 0,void 0,function(){return P(this,function(u){switch(u.label){case 0:return[4,this.store.remove(o)];case 1:return[2,u.sent()]}})})}))];case 2:return a.sent(),[2]}})})},n}();(function(n){n[n.COMMIT=0]="COMMIT",n[n.WRITE=1]="WRITE",n[n.ERROR=2]="ERROR"})(Od||(Od={})),function(n){n.PENDING="pending",n.PERSISTENT="persistent",n.VOLATILE="volatile"}(la||(la={})),function(n){n[n.NO_CACHE=0]="NO_CACHE",n[n.DEFAULT=1]="DEFAULT",n[n.PERSISTENT=2]="PERSISTENT"}(nl||(nl={}));var E8=[la.PENDING,la.VOLATILE],qv={},Xs=function(){function n(t){var e=t.dbname,r=t.limit,a=r===void 0?256:r;return qv[e]||(this.dbname=e,this._items=[],this._limit=a,qv[e]=this),qv[e]}return n.get=function(t){return qv[t]},Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.find=function(t,e,r){return r===void 0&&(r=nl.DEFAULT),F(this,void 0,void 0,function(){var a,o;return P(this,function(u){switch(u.label){case 0:return(a=this.get(e))?[3,2]:[4,t.get(e)];case 1:return(o=u.sent())&&(a={key:e,value:o,generation:1,state:r===nl.PERSISTENT?la.PERSISTENT:la.VOLATILE},this.put(a)),[3,3];case 2:r===nl.PERSISTENT&&(a.state=la.PERSISTENT),u.label=3;case 3:return[2,a]}})})},n.prototype.get=function(t,e){e===void 0&&(e=nl.DEFAULT);var r=this._items.map(function(o){return o.key}).indexOf(t);if(r>-1){var a=this._items[r];return e===nl.PERSISTENT&&(a.state=la.PERSISTENT),e!==nl.NO_CACHE&&this.put(a),a}return null},n.prototype.put=function(t){var e,r;if(this._limit>0){var a=this._items.map(function(y){return y.key}).indexOf(t.key);if(a>-1)E8.includes(this._items[a].state)&&E8.includes(t.state)?(this._items.splice(a,1),this._items.push(t)):(this._items[a].state=t.state,this._items[a].generation=t.generation,this._items[a].value=t.value);else{this._items.push(t);var o=this._items.filter(function(y){return y.state===la.VOLATILE}),u=o.length-this._limit;if(u>0){var h=[];try{for(var f=kn(this._items),m=f.next();!m.done;m=f.next()){var v=m.value;v.state===la.VOLATILE&&u>0?u--:h.push(v)}}catch(y){e={error:y}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}this._items=h}}}},n.prototype.remove=function(t){var e=this._items.map(function(r){return r.key}).indexOf(t);e>-1&&this._items.splice(e,1)},n.prototype.clearByCondition=function(t){this._items=this._items.filter(function(e){return!t(e)})},n.prototype.clear=function(t){t===void 0&&(t=!1),this._items=t?[]:this._items.filter(function(e){return e.state!==la.VOLATILE})},n}(),Gle=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=e,this.collectionName=r,this.metadataKey=function(o,u){return"".concat(Bd(o,u),"/trans.metadata")}(e,r),this.recordsetKey=function(o,u){return"".concat(Bd(o,u),"/trans.recordset")}(e,r),this._store=a}return Object.defineProperty(n.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),n.prototype._getReducedRecordset=function(t){return t===void 0&&(t=[]),F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(e=r.sent()||[]).push.apply(e,nt([],Qn(t),!1)),[2,this._reduceRecordSet(e)]}})})},n.prototype._reduceRecordSet=function(t){for(var e=[],r={},a=t.length-1;a>=0;a--){for(var o=t[a],u=[],h=o.requests.length-1;h>=0;h--){var f=o.requests[h],m=f.data;r[m.key]||(u.unshift(f),r[m.key]=!0)}u.length>0&&(o.requests=u,e.unshift(o))}return e},n.prototype._applyRecord=function(t,e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:r=Xs.get(this.dbname),a=e.generation,o=e.requests,u=null,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,this._store.setMany(o.map(function(x){return Ee(Ee({},x.data),{generation:a})}))];case 2:for(h=w.sent(),f=0;f<o.length;f++)h[f]instanceof Error&&(u||(u=h[f]),m=o[f].data,r.put(Ee(Ee({},m),{generation:a,state:la.PERSISTENT})));return[3,4];case 3:return v=w.sent(),u=v,[3,4];case 4:return u?[3,6]:(y=t.filter(function(x){return x.generation!==a}),[4,this._store.set({key:this.recordsetKey,value:y,generation:a})]);case 5:return w.sent(),this._onWrite.forEach(function(x){x(o.map(function(C){return C.data}))}),[3,7];case 6:this._onError.forEach(function(x){return x(u)}),w.label=7;case 7:return[2]}})})},n.prototype.init=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return t=this,[4,this._store.get(this.metadataKey)];case 1:return t._metadata=m.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:e=m.sent(),m.label=3;case 3:m.trys.push([3,8,9,10]),r=kn(e),a=r.next(),m.label=4;case 4:return a.done?[3,7]:(o=a.value,[4,this._applyRecord(e,o)]);case 5:m.sent(),m.label=6;case 6:return a=r.next(),[3,4];case 7:return[3,10];case 8:return u=m.sent(),h={error:u},[3,10];case 9:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 10:return[2]}})})},n.prototype.on=function(t,e,r){switch(t){case Od.COMMIT:this._onCommit.set(e,r);break;case Od.WRITE:this._onWrite.set(e,r);break;case Od.ERROR:this._onError.set(e,r)}},n.prototype.requestWrite=function(t,e){e===void 0&&(e=null),this._requests.push({data:t,options:e}),Xs.get(this.dbname).put(Ee({state:la.PENDING,generation:this.generation},t))},n.prototype.requestMultipleWrite=function(t,e){var r,a;e===void 0&&(e=null);var o=Xs.get(this.dbname);try{for(var u=kn(t),h=u.next();!h.done;h=u.next()){var f=h.value;this._requests.push({data:f,options:e}),o.put(Ee({state:la.PENDING,generation:this.generation},f))}}catch(m){r={error:m}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}},n.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(t){return Xs.get(this.dbname).clearByCondition(function(e){return e.state===la.PENDING}),this._requests=[],[2]})})},n.prototype.commit=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h,f,m,v,y,w,x=this;return P(this,function(C){switch(C.label){case 0:if(!((t=this._requests).length>0))return[3,4];for(e=[],r={},f=t.length-1;f>=0;f--)a=t[f],v=a.data,r[v.key]||(r[v.key]=!0,e.unshift(a));return o={generation:this.generation,requests:e},[4,this._getReducedRecordset([o])];case 1:return u=C.sent(),[4,this._store.set({key:this.recordsetKey,value:u,generation:this.generation})];case 2:return C.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(C.sent(),h=Xs.get(this.dbname),f=0;f<e.length;f++)m=e[f],v=m.data,y=m.options,h.put(Ee(Ee({},v),{generation:o.generation,state:y&&y.persistent?la.PERSISTENT:la.VOLATILE}));this._requests=[],this._onCommit.forEach(function(A){A(t.map(function(L){return L.data}))}),w=Xb.get(this.dbname),setTimeout(function(){try{x._applyRecord(u,o)}catch(A){x._onError.forEach(function(L){return L(A)})}},w.transactionApplyDelay),C.label=4;case 4:return[2]}})})},n}(),Eg=function(){function n(t){var e=t.blockId,r=t.keyName,a=t.items,o=a===void 0?[]:a,u=t.limit;this.blockId=e,this.keyName=r,this.limit=u,this._items=nt([],Qn(o),!1)}return n.createFromCacheItem=function(t){return t?new n(t.value):null},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},n.prototype.getItemByKey=function(t){var e=this;return this._items.find(function(r){var a=r[e.keyName];return t===a})},n.prototype.has=function(t){var e=this;return this._items.map(function(r){return r[e.keyName]}).includes(t)},n.prototype.add=function(t){var e=this,r=this._items.map(function(a){return a[e.keyName]}).indexOf(t[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(t),!0):(this._items[r]=t,!0)},n.prototype.remove=function(t){for(var e in this._items)if(this._items[e][this.keyName]===t)return this._items.splice(parseInt(e),1),!0;return!1},n.prototype.clear=function(){this._items=[]},n}(),qle=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.metadata,o=t.hashFunction,u=o===void 0?v8:o,h=t.transaction,f=t.store;this.dbname=e,this.collectionName=r,this.hashFunction=u,this.metadata=a,this._transaction=h,this._store=f}return Object.defineProperty(n.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),n.prototype.createBlockId=function(t,e){return e===void 0&&(e=this.metadata.blockLevel),r=this.dbname,a=this.collectionName,o=e,u="".concat(function(h,f,m){var v=m.base*Math.pow(m.multiplier,f)+m.constant;return(m.hashFunction||v8)(h,v)}(t,e,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(Tx(r,a)).concat(o,".").concat(u);var r,a,o,u},n.prototype._findBlock=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u;return P(this,function(h){switch(h.label){case 0:e=Xs.get(this.dbname),r=this.metadata.blockLevel,h.label=1;case 1:return r>0?(a=this.createBlockId(t,r),[4,e.find(this._store,a)]):[3,4];case 2:if((o=h.sent())&&(u=Eg.createFromCacheItem(o),u.getItemByKey(t)))return[2,u];h.label=3;case 3:return r--,[3,1];case 4:return[2,null]}})})},n.prototype.getFromBlock=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this._findBlock(t)];case 1:return[2,(e=r.sent())?e.getItemByKey(t):null]}})})},n.prototype.putToBlock=function(t,e){return F(this,void 0,void 0,function(){var r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return r=Xb.get(this.dbname),a=this.createBlockId(t),o=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,Xs.get(this.dbname).find(this._store,a)];case 1:return u=f.sent(),(h=u?Eg.createFromCacheItem(u):new Eg({blockId:a,keyName:this.keyName,items:[],limit:o})).add(e)?(this._transaction.requestWrite({key:h.blockId,value:h.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.removeFromBlock=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this._findBlock(t)];case 1:return(e=r.sent())&&e.remove(t)?(this._transaction.requestWrite({key:e.blockId,value:e.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.clearAllBlocks=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return t=Tx(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return e=a.sent(),r=e.filter(function(o){return o.startsWith(t)}),[4,this._store.removeMany(r)];case 2:return a.sent(),[4,this._transaction.clear()];case 3:return a.sent(),Xs.get(this.dbname).clearByCondition(function(o){return o.key.startsWith(t)}),[2]}})})},n}(),Dh={},Hc=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.keyName,o=t.fields,u=t.transaction,h=t.store,f=this;this._origin=[],this._table=[];var m=function(v,y,w){return"".concat(Bd(v,y),"/index.").concat(w)}(e,r,o.join(">"));return Dh[m]||(this.dbname=e,this.collectionName=r,this.keyName=a,this.fields=o,this.indexerKey=m,this._transaction=u,this._store=h,this._transaction.on(Od.COMMIT,this.indexerKey,function(){return f.commit()}),this._transaction.on(Od.ERROR,this.indexerKey,function(){return f.abort()})),Dh[m]}return n.createKey=function(t){return t.join(">")},n.parseKey=function(t){return t.split(">")},n.clearIndexerMap=function(){for(var t in Dh)delete Dh[t]},n.prototype._addItem=function(t){var e=t[this.keyName],r=this.getColumnValues(t),a=Qn(this.indexOf(r),2),o=a[0];return a[1]?!this._table[o].keys.includes(e)&&(this._table[o].keys.push(e),!0):(this._table.splice(o,0,{columnValues:r,keys:[e]}),!0)},n.prototype._removeItem=function(t){var e=t[this.keyName],r=this.getColumnValues(t),a=Qn(this.indexOf(r),2),o=a[0];if(a[1]){var u=this._table[o].keys.indexOf(e);if(u>-1)return this._table[o].keys.splice(u,1),this._table[o].keys.length===0&&this._table.splice(o,1),!0}return!1},Object.defineProperty(n.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),n.prototype.getColumnValues=function(t){var e,r,a,o,u=[];try{for(var h=kn(this.fields),f=h.next();!f.done;f=h.next()){var m=f.value;if(m[0]==="-"&&(m=m.slice(1)),a=t[m],o=void 0,o=typeof a,a!==null&&o!=="undefined"&&o!=="boolean"&&o!=="number"&&o!=="string")throw Ir.indexTypesNotMatch;u.push(t[m])}}catch(v){e={error:v}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}return u},n.prototype.diff=function(t,e){for(var r in this.fields){var a=this.fields[r][0]==="-"?-1:1,o=Jl(t[r],e[r]);if(o!==0)return a*o}return 0},n.prototype.indexOf=function(t){if(this._table.length>0){for(var e=0,r=this._table.length-1;e<=r;){var a=Math.floor((e+r)/2),o=this.diff(t,this._table[a].columnValues);if(o>0)e=a+1;else{if(!(o<0))return[a,!0];r=a-1}}return[e,!1]}return[0,!1]},n.prototype.ensure=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h,f,m,v,y,w,x,C,A,L,S;return P(this,function(k){switch(k.label){case 0:return[4,(t=Xs.get(this.dbname)).find(this._store,this.indexerKey,nl.PERSISTENT)];case 1:return(e=k.sent())?[3,11]:(r=Tx(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:a=k.sent(),k.label=3;case 3:k.trys.push([3,8,9,10]),o=kn(a),u=o.next(),k.label=4;case 4:return u.done?[3,7]:(h=u.value).startsWith(r)?[4,t.find(this._store,h,nl.NO_CACHE)]:[3,6];case 5:f=k.sent(),m=Eg.createFromCacheItem(f);try{for(L=void 0,v=kn(m.items),y=v.next();!y.done;y=v.next())w=y.value,this._addItem(w)}catch(N){L={error:N}}finally{try{y&&!y.done&&(S=v.return)&&S.call(v)}finally{if(L)throw L.error}}k.label=6;case 6:return u=o.next(),[3,4];case 7:return[3,10];case 8:return x=k.sent(),C={error:x},[3,10];case 9:try{u&&!u.done&&(A=o.return)&&A.call(o)}finally{if(C)throw C.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=e.value,this._table=Ba(this._origin),k.label=12;case 12:return Dh[this.indexerKey]=this,[2]}})})},n.prototype.drop=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return Xs.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return t.sent(),delete Dh[this.indexerKey],[2]}})})},n.prototype.addItem=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return this._addItem(t)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.removeItem=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return this._removeItem(t)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(t){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.commit=function(){this._origin=this._table,this._table=Ba(this._origin)},n.prototype.abort=function(){this._table=Ba(this._origin)},n}(),G3=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.keyName,o=t.keyHash,u=t.indexes,h=t.store,f=this;this._state=n0.INIT,this._metadata=null,this._indexers=[],this.dbname=e,this.name=r,this.keyName=a,this.indexes=nt([[a]],Qn(u.filter(function(m){return Hc.createKey(m)!==f.keyName})),!1),this._keyHash=o,this._store=h,this._mutex=new Nk(function(m,v){return"".concat(Bd(m,v),".lock")}(e,r)),this._blobContainer=new Vle({dbname:e,collectionName:r,store:h}),this._transaction=new Gle({dbname:e,collectionName:r,store:h})}return n.metadataOf=function(t,e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=V3(t,e),[4,r.get(a)];case 1:return[2,o.sent()]}})})},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isReady",{get:function(){return this._state===n0.READY},enumerable:!1,configurable:!0}),n.prototype.init=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h,f,m,v,y,w,x,C,A=this;return P(this,function(L){switch(L.label){case 0:return[4,this._mutex.lock()];case 1:L.sent(),L.label=2;case 2:return L.trys.push([2,9,,10]),t=Xb.get(this.dbname),[4,n.metadataOf(this.dbname,this.name,this._store)];case 3:return e=L.sent(),this._metadata=e||{keyName:this.keyName,blockLevel:1,blockHashBase:t.blockHashBase,blockHashMultiplier:t.blockHashMultiplier,blockHashConstant:t.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:L.sent(),this._blockManager=new qle({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=nt([],Qn(this.indexes),!1),a=[],o=r.map(function(S){return Hc.createKey(S)}),u=e?e.indexes.map(function(S){return Hc.createKey(S)}):[];try{for(h=kn(u),f=h.next();!f.done;f=h.next())m=f.value,o.includes(m)||a.push(Hc.parseKey(m))}catch(S){x={error:S}}finally{try{f&&!f.done&&(C=h.return)&&C.call(h)}finally{if(x)throw x.error}}return(v=[]).push.apply(v,nt([],Qn(r.map(function(S){var k=new Hc({dbname:A.dbname,collectionName:A.name,keyName:A.keyName,fields:S,transaction:A._transaction,store:A._store});return A._indexers.push(k),k.ensure()})),!1)),v.push.apply(v,nt([],Qn(a.map(function(S){return new Hc({dbname:A.dbname,collectionName:A.name,keyName:A.keyName,fields:S,transaction:A._transaction,store:A._store}).drop()})),!1)),[4,Promise.all(v)];case 5:return L.sent(),[4,this._transaction.commit()];case 6:return L.sent(),o.sort().join(",")===u.sort().join(",")?[3,8]:(y=V3(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:y,value:this._metadata,generation:1})]);case 7:L.sent(),L.label=8;case 8:return this._state=n0.READY,this._mutex.unlock(),[3,10];case 9:throw w=L.sent(),this._mutex.unlock(),w;case 10:return[2]}})})},n.prototype.close=function(){this._state=n0.CLOSED},n.prototype._hasPropertyOfKeyName=function(t){var e=t[this.keyName];return typeof e=="string"&&!!e},n.prototype._getIndexerBy=function(t){var e,r;t===void 0&&(t=null),t||(t=[this.keyName]);var a=Hc.createKey(t);try{for(var o=kn(this._indexers),u=o.next();!u.done;u=o.next()){var h=u.value;if(a===Hc.createKey(h.fields))return h}}catch(f){e={error:f}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return null},n.prototype._upgradeBlockLevel=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=V3(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:t,value:this._metadata,generation:1})];case 1:return e.sent(),[2]}})})},n.prototype._requestInsert=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return f.sent()?[3,13]:[4,this._blockManager.putToBlock(e,t)];case 2:return f.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return f.sent(),[4,this._blockManager.putToBlock(e,t)];case 4:f.sent(),f.label=5;case 5:f.trys.push([5,10,11,12]),r=kn(this._indexers),a=r.next(),f.label=6;case 6:return a.done?[3,9]:[4,a.value.addItem(t)];case 7:f.sent(),f.label=8;case 8:return a=r.next(),[3,6];case 9:return[3,12];case 10:return o=f.sent(),u={error:o},[3,12];case 11:try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}return[7];case 12:return[3,14];case 13:throw Ir.collectionInsertDuplicate;case 14:return[2]}})})},n.prototype._requestUpsert=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w,x,C;return P(this,function(A){switch(A.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=A.sent())?[3,13]:[4,this._blockManager.putToBlock(e,t)];case 2:return A.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return A.sent(),[4,this._blockManager.putToBlock(e,t)];case 4:A.sent(),A.label=5;case 5:A.trys.push([5,10,11,12]),a=kn(this._indexers),o=a.next(),A.label=6;case 6:return o.done?[3,9]:[4,(m=o.value).addItem(t)];case 7:A.sent(),A.label=8;case 8:return o=a.next(),[3,6];case 9:return[3,12];case 10:return u=A.sent(),y={error:u},[3,12];case 11:try{o&&!o.done&&(w=a.return)&&w.call(a)}finally{if(y)throw y.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(e,t)];case 14:A.sent(),A.label=15;case 15:A.trys.push([15,21,22,23]),h=kn(this._indexers),f=h.next(),A.label=16;case 16:return f.done?[3,20]:(m=f.value).diff(m.getColumnValues(r),m.getColumnValues(t))===0?[3,19]:[4,m.removeItem(r)];case 17:return A.sent(),[4,m.addItem(t)];case 18:A.sent(),A.label=19;case 19:return f=h.next(),[3,16];case 20:return[3,23];case 21:return v=A.sent(),x={error:v},[3,23];case 22:try{f&&!f.done&&(C=h.return)&&C.call(h)}finally{if(x)throw x.error}return[7];case 23:return[2]}})})},n.prototype._requestUpdate=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=v.sent())?[4,this._blockManager.putToBlock(e,t)]:[3,11];case 2:v.sent(),v.label=3;case 3:v.trys.push([3,9,10,11]),a=kn(this._indexers),o=a.next(),v.label=4;case 4:return o.done?[3,8]:(u=o.value).diff(u.getColumnValues(r),u.getColumnValues(t))===0?[3,7]:[4,u.removeItem(r)];case 5:return v.sent(),[4,u.addItem(t)];case 6:v.sent(),v.label=7;case 7:return o=a.next(),[3,4];case 8:return[3,11];case 9:return h=v.sent(),f={error:h},[3,11];case 10:try{o&&!o.done&&(m=a.return)&&m.call(a)}finally{if(f)throw f.error}return[7];case 11:return[2]}})})},n.prototype._requestRemove=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return[4,this._blockManager.getFromBlock(t)];case 1:return(e=f.sent())?[4,this._blockManager.removeFromBlock(t)]:[3,10];case 2:f.sent(),f.label=3;case 3:f.trys.push([3,8,9,10]),r=kn(this._indexers),a=r.next(),f.label=4;case 4:return a.done?[3,7]:[4,a.value.removeItem(e)];case 5:f.sent(),f.label=6;case 6:return a=r.next(),[3,4];case 7:return[3,10];case 8:return o=f.sent(),u={error:o},[3,10];case 9:try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}return[7];case 10:return[2]}})})},n.prototype._requestClear=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(u){switch(u.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:u.sent(),u.label=2;case 2:u.trys.push([2,7,8,9]),t=kn(this._indexers),e=t.next(),u.label=3;case 3:return e.done?[3,6]:[4,e.value.clear()];case 4:u.sent(),u.label=5;case 5:return e=t.next(),[3,3];case 6:return[3,9];case 7:return r=u.sent(),a={error:r},[3,9];case 8:try{e&&!e.done&&(o=t.return)&&o.call(t)}finally{if(a)throw a.error}return[7];case 9:return[2]}})})},n.prototype.getByKey=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(t)];case 3:return e=a.sent(),this._mutex.unlock(),[2,Ba(e)];case 4:throw r=a.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw Ir.collectionNotReady;case 7:return[2]}})})},n.prototype.query=function(t){return t===void 0&&(t={}),this.isReady?new zle({condition:t.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(t.index),backward:!!t.backward}):null},n.prototype.insertOne=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw Ir.collectionKeyNotGiven;return[4,this._requestInsert(Ba(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Ir.collectionNotReady;case 9:return[2]}})})},n.prototype.insertMany=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m=this;return P(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),t.some(function(y){return!m._hasPropertyOfKeyName(y)}))throw Ir.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),e=kn(t),r=e.next(),v.label=4;case 4:return r.done?[3,7]:(a=r.value,[4,this._requestInsert(Ba(a))]);case 5:v.sent(),v.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),h={error:o},[3,10];case 9:try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,t];case 12:return u=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw Ir.collectionNotReady;case 16:return[2]}})})},n.prototype.upsertOne=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw Ir.collectionKeyNotGiven;return[4,this._requestUpsert(Ba(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Ir.collectionNotReady;case 9:return[2]}})})},n.prototype.upsertMany=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m=this;return P(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),t.some(function(y){return!m._hasPropertyOfKeyName(y)}))throw Ir.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),e=kn(t),r=e.next(),v.label=4;case 4:return r.done?[3,7]:(a=r.value,[4,this._requestUpsert(Ba(a))]);case 5:v.sent(),v.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),h={error:o},[3,10];case 9:try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,t];case 12:return u=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),u;case 14:return[3,16];case 15:throw Ir.collectionNotReady;case 16:return[2]}})})},n.prototype.update=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw Ir.collectionKeyNotGiven;return[4,this._requestUpdate(Ba(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Ir.collectionNotReady;case 9:return[2]}})})},n.prototype.updateIf=function(t,e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m,v,y,w,x,C,A,L,S=this;return P(this,function(k){switch(k.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:k.sent(),k.label=2;case 2:return k.trys.push([2,13,,15]),r=t.where,a=r===void 0?{}:r,o=t.index,u=o===void 0?null:o,h=t.backward,f=h!==void 0&&h,m=[],[4,new kx({condition:a,blockManager:this._blockManager,backward:f,indexer:this._getIndexerBy(u)}).each(function(N){return F(S,void 0,void 0,function(){var O,H;return P(this,function(D){if(N.error)throw N.stop(),N.error;if(N.hasNext){if(O=N.nextValue,Ad(a,O)&&e.set){if(typeof e.set!="function")for(H in e.set)O[H]=e.set[H];else e.set(O);m.push(O)}N.next()}else N.stop();return[2]})})})];case 3:k.sent(),k.label=4;case 4:k.trys.push([4,9,10,11]),v=kn(m),y=v.next(),k.label=5;case 5:return y.done?[3,8]:(w=y.value,[4,this._requestUpdate(Ba(w))]);case 6:k.sent(),k.label=7;case 7:return y=v.next(),[3,5];case 8:return[3,11];case 9:return x=k.sent(),A={error:x},[3,11];case 10:try{y&&!y.done&&(L=v.return)&&L.call(v)}finally{if(A)throw A.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return k.sent(),this._mutex.unlock(),[2,m];case 13:return C=k.sent(),[4,this._transaction.clear()];case 14:throw k.sent(),this._mutex.unlock(),C;case 15:return[3,17];case 16:throw this._transaction.clear(),Ir.collectionNotReady;case 17:return[2]}})})},n.prototype.remove=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(t)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Ir.collectionNotReady;case 9:return[2]}})})},n.prototype.removeIf=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w,x,C,A,L=this;return P(this,function(S){switch(S.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:S.sent(),S.label=2;case 2:return S.trys.push([2,13,,14]),e=t.where,r=e===void 0?{}:e,a=t.index,o=a===void 0?null:a,u=t.backward,h=u!==void 0&&u,f=[],[4,new kx({condition:r,blockManager:this._blockManager,backward:h,indexer:this._getIndexerBy(o)}).each(function(k){return F(L,void 0,void 0,function(){var N,O;return P(this,function(H){if(k.error)throw k.stop(),k.error;return k.hasNext?(N=k.nextValue,Ad(r,N)&&(O=N[this.keyName],f.push(O)),k.next()):k.stop(),[2]})})})];case 3:S.sent(),S.label=4;case 4:S.trys.push([4,9,10,11]),m=kn(f),v=m.next(),S.label=5;case 5:return v.done?[3,8]:(y=v.value,[4,this._requestRemove(y)]);case 6:S.sent(),S.label=7;case 7:return v=m.next(),[3,5];case 8:return[3,11];case 9:return w=S.sent(),C={error:w},[3,11];case 10:try{v&&!v.done&&(A=m.return)&&A.call(m)}finally{if(C)throw C.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return S.sent(),this._mutex.unlock(),[2,f];case 13:throw x=S.sent(),this._mutex.unlock(),x;case 14:return[3,16];case 15:throw this._transaction.clear(),Ir.collectionNotReady;case 16:return[2]}})})},n.prototype.clear=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return e.sent(),[4,this._transaction.commit()];case 4:return e.sent(),this._mutex.unlock(),[3,7];case 5:return t=e.sent(),[4,this._transaction.clear()];case 6:throw e.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Ir.collectionNotReady;case 9:return[2]}})})},n.prototype.getBlob=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.saveBlob=function(t,e){return e===void 0&&(e=null),F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._blobContainer.save(t,e)];case 1:return[2,r.sent()]}})})},n.prototype.removeBlob=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeAllBlobs=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.clear()];case 1:return t.sent(),[2]}})})},n}(),Zb=function(){function n(t){var e,r,a;this.encryption=(e=t.encryption)!==null&&e!==void 0?e:qL,this.itemSizeLimit=(r=t.itemSizeLimit)!==null&&r!==void 0?r:4194304,this.metadataBuffer=(a=t.metadataBuffer)!==null&&a!==void 0?a:256}return n.prototype._getRawKey=function(t,e){return e===void 0&&(e=""),"".concat(t).concat(e)},n.prototype._generateShardPostfixArray=function(t){return t===void 0&&(t=1),nt([],Qn(Array(t).keys()),!1)},n.prototype._shardify=function(t){var e=this,r=t.key,a=t.value,o=JSON.stringify(this.encryption.encrypt(a)),u=Math.ceil(o.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(u).map(function(h){var f={key:e._getRawKey(r,".".concat(h)),data:o.substring(h*e.adjustedItemSizeLimit,(h+1)*e.adjustedItemSizeLimit)};return h===0&&(f.metadata={shards:u}),f})},Object.defineProperty(n.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),n.prototype.usage=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return t=0,[4,this._getAllRawKeys()];case 1:e=v.sent(),v.label=2;case 2:v.trys.push([2,7,8,9]),r=kn(e),a=r.next(),v.label=3;case 3:return a.done?[3,6]:(o=a.value,[4,this._getRaw(o)]);case 4:(u=v.sent())&&(t+=JSON.stringify(u).length),v.label=5;case 5:return a=r.next(),[3,3];case 6:return[3,9];case 7:return h=v.sent(),f={error:h},[3,9];case 8:try{a&&!a.done&&(m=r.return)&&m.call(r)}finally{if(f)throw f.error}return[7];case 9:return[2,t]}})})},n.prototype.getAllKeys=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,t.sent().filter(function(e){return e.endsWith(".0")}).map(function(e){return e.replace(/\.0$/,"")})]}})})},n.prototype.get=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f=this;return P(this,function(m){switch(m.label){case 0:return e=this._getRawKey(t,".0"),[4,this._getRaw(e)];case 1:if(!(r=m.sent()))return[3,7];m.label=2;case 2:return m.trys.push([2,6,,7]),a=r.data,((o=r.metadata)==null?void 0:o.shards)>1?[4,Promise.all(this._generateShardPostfixArray(o==null?void 0:o.shards).map(function(v){return F(f,void 0,void 0,function(){var y,w;return P(this,function(x){switch(x.label){case 0:return v>0?(y=this._getRawKey(t,".".concat(v)),[4,this._getRaw(y)]):[3,2];case 1:if(!(w=x.sent()))throw Ir.storeBrokenIntegrity;return[2,w.data];case 2:return[2,a]}})})}))]:[3,4];case 3:return h=m.sent(),[3,5];case 4:h=[a],m.label=5;case 5:return u=h,[2,this.encryption.decrypt(JSON.parse(u.join("")))];case 6:return m.sent(),[2,null];case 7:return[2,null]}})})},n.prototype.set=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return e=this._shardify(t),[4,this._setRaw(e)];case 1:return r.sent(),[2,Ee({},t.value)]}})})},n.prototype.setMany=function(t){return F(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,this._setRaw([].concat.apply([],nt([],Qn(t.map(function(a){return e._shardify(a)})),!1)))];case 1:return r.sent(),[2,t.map(function(a){return a.value})]}})})},n.prototype.remove=function(t){return F(this,void 0,void 0,function(){var e,r,a,o=this;return P(this,function(u){switch(u.label){case 0:return e=this._getRawKey(t,".0"),[4,this._getRaw(e)];case 1:return(r=u.sent())?(a=r.metadata,[4,this._removeRaw(this._generateShardPostfixArray(a==null?void 0:a.shards).map(function(h){return o._getRawKey(t,".".concat(h))}))]):[3,3];case 2:return u.sent(),[2,!0];case 3:return[2,!1]}})})},n.prototype.removeMany=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y=this;return P(this,function(w){switch(w.label){case 0:e=[],r=function(x){var C,A,L;return P(this,function(S){switch(S.label){case 0:return C=a._getRawKey(x,".0"),[4,a._getRaw(C)];case 1:return(A=S.sent())&&(L=A.metadata,e.push.apply(e,nt([],Qn(a._generateShardPostfixArray(L==null?void 0:L.shards).map(function(k){return y._getRawKey(x,".".concat(k))})),!1))),[2]}})},a=this,w.label=1;case 1:w.trys.push([1,6,7,8]),o=kn(t),u=o.next(),w.label=2;case 2:return u.done?[3,5]:(h=u.value,[5,r(h)]);case 3:w.sent(),w.label=4;case 4:return u=o.next(),[3,2];case 5:return[3,8];case 6:return f=w.sent(),m={error:f},[3,8];case 7:try{u&&!u.done&&(v=o.return)&&v.call(o)}finally{if(m)throw m.error}return[7];case 8:return e.length>0?[4,this._removeRaw(e)]:[3,10];case 9:w.sent(),w.label=10;case 10:return[2,t]}})})},n}(),ns={},t0=function(n){function t(e){e===void 0&&(e={});var r,a=this;a=n.call(this,Ee(Ee({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:4194304}))||this;var o=e.delay,u=o===void 0?1:o;return a.delay=u,a.observer={},a}return ne(t,n),Object.defineProperty(t.prototype,"rawData",{get:function(){return ns[this.dbname]},set:function(e){ns[this.dbname]=e},enumerable:!1,configurable:!0}),t.prototype._getAllRawKeys=function(){return F(this,void 0,void 0,function(){return P(this,function(e){if(ns[this.dbname])return[2,Object.keys(ns[this.dbname])];throw Ir.storeNotAvailable})})},t.prototype._getRaw=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return ns[this.dbname]?[4,Gv(this.delay)]:[3,2];case 1:return r.sent(),[2,ns[this.dbname][e]?Ee({key:e},ns[this.dbname][e]):null];case 2:throw Ir.storeNotAvailable}})})},t.prototype._setRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return ns[this.dbname]?[4,Gv(this.delay)]:[3,2];case 1:y.sent();try{for(r=kn(e),a=r.next();!a.done;a=r.next())o=a.value,u=o.key,h=o.data,f=o.metadata,ns[this.dbname][u]=Object.freeze({data:h,metadata:f})}catch(w){m={error:w}}finally{try{a&&!a.done&&(v=r.return)&&v.call(r)}finally{if(m)throw m.error}}return[3,3];case 2:throw Ir.storeNotAvailable;case 3:return[2]}})})},t.prototype._removeRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return ns[this.dbname]?[4,Gv(this.delay)]:[3,2];case 1:f.sent();try{for(r=kn(e),a=r.next();!a.done;a=r.next())o=a.value,ns[this.dbname][o]&&delete ns[this.dbname][o]}catch(m){u={error:m}}finally{try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}}return[3,3];case 2:throw Ir.storeNotAvailable;case 3:return[2]}})})},t.prototype.observe=function(e,r,a){var o=this;this.observer[e]||(this.observer[e]={}),r.forEach(function(u){return o.observer[e][u]=a})},t.prototype.isAvailable=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,!0]})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return this.dbname=e,ns[this.dbname]={},[2]})})},t.prototype.set=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){if(this.observer[e.key]&&typeof this.observer[e.key].set=="function"&&(r=this.observer[e.key].set()))throw r;return[2,n.prototype.set.call(this,e)]})})},t.prototype.setMany=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){try{for(r=kn(e),a=r.next();!a.done;a=r.next())if(o=a.value,this.observer[o.key]&&typeof this.observer[o.key].set=="function"&&(u=this.observer[o.key].set()))throw u}catch(v){h={error:v}}finally{try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}}return[2,n.prototype.setMany.call(this,e)]})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,Gv(this.delay)];case 1:return e.sent(),ns[this.dbname]={},[2]}})})},t}(Zb),w8="NestDBStore",jle=function(n){function t(e){e===void 0&&(e={});var r,a=this;return(a=n.call(this,Ee(Ee({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:104857600}))||this)._storeName=w8,a._window=typeof window<"u"?window:null,a._indexedDb=a._window?a._window.indexedDB||a._window.mozIndexedDB||a._window.webkitIndexedDB||a._window.msIndexedDB:null,a}return ne(t,n),t.prototype._getObjectStore=function(e){return this._database.transaction(this._storeName,e).objectStore(this._storeName)},t.prototype._getAllRawKeys=function(){return F(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,new Promise(function(a,o){var u=e._getObjectStore("readonly").getAllKeys();u.addEventListener("success",function(h){a(h.target.result)}),u.addEventListener("error",function(h){return o(h.target.error)})})];case 1:return[2,r.sent()]}})})},t.prototype._getRaw=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return[4,new Promise(function(o,u){var h=r._getObjectStore("readonly").get(e);h.addEventListener("success",function(f){var m;o((m=f==null?void 0:f.target)===null||m===void 0?void 0:m.result)}),h.addEventListener("error",function(f){return u(f.target.error)})})];case 1:return[2,a.sent()]}})})},t.prototype._setRaw=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=this._getObjectStore("readwrite"),[4,Promise.all(e.map(function(o){return new Promise(function(u,h){var f=r.put(o);f.addEventListener("success",function(m){u(m.target.result)}),f.addEventListener("error",function(){h("Failed to write.")})})}))];case 1:return a.sent(),[2]}})})},t.prototype._removeRaw=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=this._getObjectStore("readwrite"),[4,Promise.all(e.map(function(o){return new Promise(function(u,h){var f=r.delete(o);f.addEventListener("success",function(){return u(o)}),f.addEventListener("error",function(m){return h(m.target.error)})})}))];case 1:return a.sent(),[2]}})})},t.prototype.isAvailable=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u=this;return P(this,function(h){switch(h.label){case 0:if(!((e=typeof window<"u"?window:null)!=null&&e.indexedDB||e!=null&&e.mozIndexedDB||e!=null&&e.webkitIndexedDB||e!=null&&e.msIndexedDB))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),this._indexedDb=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,r=typeof document<"u"&&typeof navigator<"u",a=navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/"),o=navigator.userAgent&&navigator.userAgent.includes("Edge/"),[4,new Promise(function(f,m){if(r)if(a){var v=u._indexedDb.open("_testMozilla");v.onerror=function(){return m("Private browsing mode.")},v.onsuccess=function(){return f()}}else o?(e.PointerEvent||e.MSPointerEvent)&&m("Private browsing mode."):f()})];case 2:return h.sent(),[2,!0];case 3:return h.sent(),[2,!1];case 4:return[2,!1]}})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){var r,a=this;return P(this,function(o){switch(o.label){case 0:return this.dbname=e,[4,new Promise(function(u,h){if(a._window&&nc)if(Mle){var f=a._indexedDb.open("_testMozilla");f.onerror=function(){return h(Ir.storeNotAvailableInPrivateBrowsing)},f.onsuccess=function(){return u()}}else Dle?a._window.indexedDB||!a._window.PointerEvent&&!a._window.MSPointerEvent||h(Ir.storeNotAvailableInPrivateBrowsing):u();else h(Ir.storeNotAvailable)})];case 1:return o.sent(),r=this,[4,new Promise(function(u,h){var f=a._indexedDb.open(e);f.addEventListener("upgradeneeded",function(m){m.target.result.createObjectStore(w8,{keyPath:"key"})}),f.addEventListener("success",function(m){return u(m.target.result)}),f.addEventListener("error",function(m){return h(m.target.error)})})];case 2:return r._database=o.sent(),[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,new Promise(function(a,o){var u=e._getObjectStore("readwrite").clear();u.addEventListener("success",function(){return a()}),u.addEventListener("error",function(h){return o(h.target.error)})})];case 1:return[2,r.sent()]}})})},t}(Zb),Kle=function(n){function t(e){var r=this,a=e.AsyncStorage,o=e.itemSizeLimit,u=o===void 0?6291456:o,h=rae(e,["AsyncStorage","itemSizeLimit"]);return(r=n.call(this,Ee(Ee({},h),{itemSizeLimit:u}))||this)._asyncStorage=a,r}return ne(t,n),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return F(this,void 0,void 0,function(){var e,r=this;return P(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return e=a.sent(),[2,e.filter(function(o){return r._isBelonging(o)}).map(function(o){return o.substring("".concat(r.dbname,"/").length)})]}})})},t.prototype._getRaw=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,(r=a.sent())?JSON.parse(r):null]}})})},t.prototype._setRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:r=[];try{for(a=kn(e),o=a.next();!o.done;o=a.next())u=o.value,h=u.key,u.data.length<=this.adjustedItemSizeLimit&&r.push([this._getActualKey(h),JSON.stringify(u)])}catch(y){f={error:y}}finally{try{o&&!o.done&&(m=a.return)&&m.call(a)}finally{if(f)throw f.error}}return[4,this._asyncStorage.multiSet(r)];case 1:return v.sent(),[2]}})})},t.prototype._removeRaw=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.multiRemove(e.map(function(o){return r._getActualKey(o)}))];case 1:return a.sent(),[2]}})})},t.prototype.isAvailable=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,!!this._asyncStorage]})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return this.dbname=e,[2]})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this.getAllKeys()];case 1:return e=r.sent(),[4,this.removeMany(e)];case 2:return r.sent(),[2]}})})},t}(Zb);(function(n){function t(e){var r,a=this;return(a=n.call(this,Ee(Ee({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:6291456}))||this)._mmkv=e.MMKV,a}ne(t,n),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return F(this,void 0,void 0,function(){var e,r=this;return P(this,function(a){switch(a.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return e=a.sent(),[2,e.filter(function(o){return r._isBelonging(o)}).map(function(o){return o.substring("".concat(r.dbname,"/").length)})]}})})},t.prototype._getRaw=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return[4,this._mmkv.getString(this._getActualKey(e))];case 1:return[2,(r=a.sent())?JSON.parse(r):null]}})})},t.prototype._setRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){try{for(r=kn(e),a=r.next();!a.done;a=r.next())o=a.value,u=o.key,o.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(u),JSON.stringify(o))}catch(v){h={error:v}}finally{try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}}return[2]})})},t.prototype._removeRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h;return P(this,function(f){try{for(r=kn(e),a=r.next();!a.done;a=r.next())o=a.value,this._mmkv.delete(this._getActualKey(o))}catch(m){u={error:m}}finally{try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}}return[2]})})},t.prototype.isAvailable=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,!!this._mmkv]})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return this.dbname=e,[2]})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this.getAllKeys()];case 1:return e=r.sent(),[4,this.removeMany(e)];case 2:return r.sent(),[2]}})})}})(Zb);var tl,q3="[NESTDB]",jv=!0,ad=function(){function n(){}return n.off=function(){jv=!1},n.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];jv&&console.log.apply(console,nt(["".concat(q3,"[LOG]")],Qn(t),!1))},n.warning=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];jv&&console.warn.apply(console,nt(["".concat(q3,"[WARNING]")],Qn(t),!1))},n.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];jv&&console.error.apply(console,nt(["".concat(q3,"[ERROR]")],Qn(t),!1))},n}();(function(n){n.INIT="INIT",n.OPENING="OPENING",n.OPENED="OPENED",n.CLOSED="CLOSED"})(tl||(tl={}));var Wle=function(){function n(t){var e=t.name,r=t.version,a=t.store,o=t.config;this.name=e,this._version=r,this._state=tl.INIT,this._config=o||new Xb({dbname:e}),this._store=a,this._event={success:yg,error:yg,upgrade:b8},this._collections=new Map,this._globalMutex=new Nk("".concat(this.name,".lock")),this._config.disableLogger&&ad.off(),new Xs({dbname:e,limit:this._config.cacheLimit})}return Object.defineProperty(n.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),n.prototype.estimateUsage=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,(e=this._store,F(void 0,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,e.usage()];case 1:return[2,r.sent()]}})}))];case 1:return[2,t.sent()]}var e})})},n.prototype.commitSchema=function(t){return F(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return this._state!==tl.OPENING?[3,2]:[4,Promise.all(t.map(function(a){return F(e,void 0,void 0,function(){var o,u,h,f;return P(this,function(m){switch(m.label){case 0:return o=a.collectionName,u=a.keyName,h=a.index,f=h===void 0?[]:h,this._collections.has(o)||this._collections.set(o,new G3({dbname:this.name,collectionName:o,keyName:u,indexes:f,store:this._store})),[4,this._collections.get(o).init()];case 1:return m.sent(),[2]}})})}))];case 1:return r.sent(),[3,3];case 2:throw Ir.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},n.prototype.open=function(){var t;return F(this,void 0,void 0,function(){var e,r,a,o,u=this;return P(this,function(h){switch(h.label){case 0:return[4,this._globalMutex.lock()];case 1:if(h.sent(),this._state===tl.OPENED)return[3,15];this._state=tl.OPENING,h.label=2;case 2:return h.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return h.sent(),f=this.name,e="".concat(Sx(f),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(e)];case 4:return a=(t=h.sent())!==null&&t!==void 0?t:r,[2,new Promise(function(m,v){var y=function(x){a.version<u._version?u._event.upgrade(a.version,function(C){return F(u,void 0,void 0,function(){var A;return P(this,function(L){switch(L.label){case 0:if(C)return[3,5];a.version++,a.collectionNames=Array.from(this._collections.keys()),L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this._store.set({key:e,value:a,generation:this._version})];case 2:return L.sent(),x({continued:!0}),[3,4];case 3:return A=L.sent(),x({continued:!1,err:A}),[3,4];case 4:return[3,6];case 5:x({continued:!1,err:C}),L.label=6;case 6:return[2]}})})}):x({continued:!1})},w=function(x){var C=x.continued,A=C!==void 0&&C,L=x.err,S=L===void 0?null:L;if(A)setTimeout(function(){return y(w)},10);else if(S)ad.error(S.message),u._globalMutex.unlock(),u._event.error(S),v(S);else{var k=[];a.collectionNames.forEach(function(N){u._collections.has(N)||k.push(F(u,void 0,void 0,function(){var O,H;return P(this,function(D){switch(D.label){case 0:return[4,G3.metadataOf(this.name,N,this._store)];case 1:return(O=D.sent())?(H=new G3({dbname:this.name,collectionName:N,keyName:O.keyName,indexes:O.indexes,store:this._store}),this._collections.set(N,H),[4,H.init()]):[3,3];case 2:D.sent(),D.label=3;case 3:return[2]}})}))}),Promise.all(k).then(function(){u._state=tl.OPENED,u._globalMutex.unlock(),u._event.success(),m()}).catch(function(N){ad.error(N.message),u._globalMutex.unlock(),u._event.error(N),v(N)})}};y(w)})];case 5:switch(o=h.sent(),o.code){case wr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case wr.STORE_NOT_AVAILABLE:return[3,8];case wr.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return ad.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new t0({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 7:return h.sent(),[3,14];case 8:return ad.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new t0({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 9:return h.sent(),[3,14];case 10:return ad.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return h.sent(),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 12:return h.sent(),[3,14];case 13:throw ad.error(o.message),this._globalMutex.unlock(),this._event.error(o),o;case 14:return[3,15];case 15:return[2]}var f})})},n.prototype.close=function(){this._collections.forEach(function(t){return t.close()}),this._state=tl.CLOSED},n.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(e){return e.clear()}))];case 1:return t.sent(),[2]}})})},n.prototype.reset=function(){return F(this,void 0,void 0,function(){var t,e=this;return P(this,function(r){switch(r.label){case 0:return this.close(),(t=Xs.get(this.name))&&t.clearByCondition(function(a){return a.key.startsWith(Sx(e.name))}),[4,this._store.clear()];case 1:return r.sent(),[2]}})})},n.prototype.on=function(t,e){this._event[t]=e},n.prototype.off=function(t){typeof this._event[t]=="function"&&(t==="upgrade"?this._event[t]=b8:this._event[t]=yg)},n.prototype.collection=function(t){return this._collections.get(t)||null},n}(),Qle=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this).isMuted=!1,o.isMuted=(a=r.is_muted)!==null&&a!==void 0&&a,o}return ne(t,n),t}(kt),Yle={profileImage:null,profileUrl:null,nickname:null},Xle=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ne(t,n),t}(function(){this.onSessionExpired=gt,this.onSessionTokenRequired=function(n){return n(null)},this.onSessionError=gt,this.onSessionRefreshed=gt,this.onSessionClosed=gt}),e9=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ne(t,n),t}(function(){this.onConnected=gt,this.onReconnectStarted=gt,this.onReconnectSucceeded=gt,this.onReconnectFailed=gt,this.onDisconnected=gt}),Zle=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ne(t,n),t}(function(){this.onFriendsDiscovered=gt,this.onTotalUnreadMessageCountUpdated=gt}),Jle=function(n,t){return function(e,r){e===1?n.clear().then(function(){t.clear().then(function(){(function(a){return F(void 0,void 0,void 0,function(){return P(this,function(o){return[2,a.commitSchema([{collectionName:MU,keyName:Coe,index:[gg(li.LATEST_LAST_MESSAGE),gg(li.CHRONOLOGICAL),gg(li.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:DU,keyName:Ioe,index:[Zl(Gi.CHANNEL_LATEST),Zl(Gi.NEWEST_CHILD_MESSAGE)]},{collectionName:WU,keyName:Hle,index:[Zl(Gi.CHANNEL_LATEST),Zl(Gi.NEWEST_CHILD_MESSAGE)]},{collectionName:Noe,keyName:Aoe}])]})})})(n).then(function(){return r()}).catch(function(a){return r(a)})}).catch(function(a){return r(a)})}).catch(function(a){return r(a)}):r()}},ece=function(){return typeof document<"u"?document.visibilityState:"visible"},nce=function(n){function t(e){var r=e.getVisibilityState,a=r===void 0?ece:r,o=e.initialState,u=o===void 0?"visible":o,h=e.isEnabled,f=h===void 0||h,m=e.pauseCheckDelay,v=m===void 0?3e4:m,y=n.call(this)||this;return y._pauseCheckDelay=3e4,y._pauseDelayTimer=null,y._currentState="visible",y._getVisibilityState=a,y._pauseCheckDelay=v,y._currentState=u,y._isEnabled=f,y._boundToggleState=y._toggleState.bind(y),y}return ne(t,n),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),t.prototype._toggleState=function(){var e=this,r=this._getVisibilityState();r!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){e._pauseDelayTimer=null,e.dispatch("pause")},this._pauseCheckDelay)),this._currentState=r},t.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},t.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},t}(Wd),tce=function(){function n(t){var e=t.logger,r=t.connectionDelegate,a=r===void 0?null:r,o=this;this._onlineWorker=function(){var u;return(u=o.connectionDelegate)===null||u===void 0?void 0:u.reconnect()},this._offlineWorker=function(){var u;return(u=o.connectionDelegate)===null||u===void 0?void 0:u.disconnect()},this.unsubscribes=[],this._onlineListener=function(u){if(o.isAvailableOnWeb)return window.addEventListener("online",u),function(){return window.removeEventListener("online",u,!1)}},this._offlineListener=function(u){if(o.isAvailableOnWeb)return window.addEventListener("offline",u),function(){return window.removeEventListener("offline",u,!1)}},this.logger=e,a&&(this.connectionDelegate=a)}return Object.defineProperty(n.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),n.prototype.setOnlineListener=function(t){t&&typeof t=="function"&&(this._onlineListener=t)},n.prototype.setOfflineListener=function(t){t&&typeof t=="function"&&(this._offlineListener=t)},n.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},n.prototype.stop=function(){var t=this;this.unsubscribes.forEach(function(e){try{e==null||e()}catch(r){t.logger.warn(r.message)}}),this.unsubscribes=[]},n.prototype.isOnline=function(){return F(this,void 0,void 0,function(){return P(this,function(t){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise(function(e){fetch("https://www.google.com",{method:hn.GET,mode:"no-cors"}).then(function(){return e(!0)}).catch(function(){return e(!1)})})]})})},n}(),x8=function(n){function t(e){var r=e.userId,a=e.nickname,o=a===void 0?null:a,u=e.profileUrl,h=u===void 0?null:u,f=e.profileImage,m=f===void 0?null:f,v=e.preferredLanguages,y=v===void 0?null:v,w=n.call(this)||this;return w.method=hn.PUT,w.path="".concat(Lt,"/").concat(encodeURIComponent(r)),w.params=at({nickname:o,profile_url:h,profile_file:m,preferred_languages:y}),w}return ne(t,n),t}(fn),k8=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.user=null,a.user=new kt(e,Ee({},r)),a}return ne(t,n),t}(vn),rce=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=hn.POST,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push/apns"),o.params={apns_device_token:a,always_push:!0},o}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.type=r.type?Ei[r.type.toLowerCase()]:Ei.UNKNOWN,a.user=new kt(e,r.user),a}ne(t,n)})(vn);var ice=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=hn.POST,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push/gcm"),o.params={gcm_reg_token:a,always_push:!0},o}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.type=r.type?Ei[r.type.toLowerCase()]:Ei.UNKNOWN,a.user=new kt(e,r.user),a}ne(t,n)})(vn);var ace=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=hn.DELETE,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(a)),o}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.user=new kt(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}ne(t,n)})(vn);var sce=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=hn.DELETE,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(a)),o}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.user=new kt(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}ne(t,n)})(vn);var oce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.DELETE,a.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push/apns"),a}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.type=r.type?Ei[r.type.toLowerCase()]:Ei.UNKNOWN,a.user=new kt(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}ne(t,n)})(vn);var lce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.DELETE,a.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push/gcm"),a}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.type=r.type?Ei[r.type.toLowerCase()]:Ei.UNKNOWN,a.user=new kt(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}ne(t,n)})(vn);var cce=function(n){function t(e){var r=e.userId,a=e.type,o=e.token,u=e.ts,h=n.call(this)||this;return h.method=hn.GET,h.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(a),"/device_tokens"),h.params={created_ts:u,token:o},h}return ne(t,n),t}(fn),uce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTokens={type:r.type?Ei[r.type.toLowerCase()]:Ei.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},a}return ne(t,n),t}(vn),dce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.GET,a.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),a}return ne(t,n),t}(fn),hce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.autoAccept=r.auto_accept,a}return ne(t,n),t}(vn),pce=function(n){function t(e){var r=e.userId,a=e.willAutoAccept,o=n.call(this)||this;return o.method=hn.PUT,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),o.params={auto_accept:a},o}return ne(t,n),t}(fn),fce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.autoAccept=r.auto_accept,a}return ne(t,n),t}(vn),_ce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.GET,a.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push_preference"),a}return ne(t,n),t}(fn),mce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},a}return ne(t,n),t}(vn),vce=function(n){function t(e){var r=e.userId,a=e.doNotDisturbOn,o=e.startHour,u=e.startMin,h=e.endHour,f=e.endMin,m=e.timezone,v=n.call(this)||this;return v.method=hn.PUT,v.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push_preference"),v.params={do_not_disturb:a,start_hour:o,start_min:u,end_hour:h,end_min:f,timezone:m},v}return ne(t,n),t}(fn),gce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},a}return ne(t,n),t}(vn),bce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.GET,a.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push_preference"),a}return ne(t,n),t}(fn),yce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=r.snooze_end_ts),a}return ne(t,n),t}(vn),Ece=function(n){function t(e){var r=e.userId,a=e.snoozeOn,o=e.startTs,u=e.endTs,h=n.call(this)||this;return h.method=hn.PUT,h.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push_preference"),h.params={snooze_enabled:a,snooze_start_ts:o,snooze_end_ts:u},h}return ne(t,n),t}(fn),wce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=r.snooze_end_ts),a}return ne(t,n),t}(vn),xce=function(n){function t(e){var r=e.userId,a=e.blockedUserId,o=n.call(this)||this;return o.method=hn.POST,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/block"),o.params={target_id:a},o}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.user=new kt(e,r),a}ne(t,n)})(vn);var kce=function(n){function t(e){var r=e.userId,a=e.unblockedUserId,o=n.call(this)||this;return o.method=hn.DELETE,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(a)),o}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var Sce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.GET,a.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push_preference"),a}return ne(t,n),t}(fn),Tce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a}return ne(t,n),t}(vn),Cce=function(n){function t(e){var r=e.userId,a=e.pushTriggerOption,o=n.call(this)||this;return o.method=hn.PUT,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push_preference"),o.params={push_trigger_option:a},o}return ne(t,n),t}(fn),Ice=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a}return ne(t,n),t}(vn),Nce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.GET,a.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push/template"),a}return ne(t,n),t}(fn),Ace=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.name=r.name,a}return ne(t,n),t}(vn),Oce=function(n){function t(e){var r=e.userId,a=e.templateName,o=n.call(this)||this;return o.method=hn.PUT,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push/template"),o.params={name:a},o}return ne(t,n),t}(fn),Rce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.name=r.name,a}return ne(t,n),t}(vn),Mce=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=hn.GET,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/friends/changelogs"),o.params={token:a},o}return ne(t,n),t}(fn),Dce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.changelogs={addedUsers:r.added.map(function(o){return new kt(e,o)}),updatedUsers:r.updated.map(function(o){return new kt(e,o)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},a}return ne(t,n),t}(vn),Lce=function(n){function t(e){var r=e.userId,a=e.discoveries,o=n.call(this)||this;return o.method=hn.PUT,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discoveries:a.map(function(u){return{friend_discovery_key:u.friendDiscoveryKey,friend_name:u.friendName}})},o}return ne(t,n),t}(fn),Uce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.friendDiscoveryRequestId=r.friend_discovery_request_id,a}return ne(t,n),t}(vn),Pce=function(n){function t(e){var r=e.userId,a=e.discoveryKeys,o=n.call(this)||this;return o.method=hn.DELETE,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discovery_keys:a},o}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var Fce=function(n){function t(e){var r=e.userId,a=e.userIds,o=n.call(this)||this;return o.method=hn.POST,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:a},o}return ne(t,n),t}(fn),Hce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(o){return new kt(e,o)}),a}return ne(t,n),t}(vn),Bce=function(n){function t(e){var r=e.userId,a=e.userIds,o=n.call(this)||this;return o.method=hn.DELETE,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:a},o}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var $ce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.GET,a.path="".concat(Lt,"/").concat(r,"/allow_friend_discovery"),a.params={},a}return ne(t,n),t}(fn),zce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.allowFriendDiscovery=r.allow_friend_discovery,a}return ne(t,n),t}(vn),Vce=function(n){function t(e){var r=e.userId,a=e.allowFriendDiscovery,o=n.call(this)||this;return o.method=hn.PUT,o.path="".concat(Lt,"/").concat(r,"/allow_friend_discovery"),o.params={allow_friend_discovery:a},o}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var n9=function(n){this.key=null,this.url=null,this.key=n.key,this.url=n.url},t9=function(n){var t,e,r;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(t=n.id)!==null&&t!==void 0?t:0,this.name=(e=n.name)!==null&&e!==void 0?e:"",this.url=(r=n.url)!==null&&r!==void 0?r:"",this.emojis=n.emojis?n.emojis.map(function(a){return new n9(a)}):[]},Gce=function(n){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=n.emoji_hash||"",this.emojiCategories=n.emoji_categories?n.emoji_categories.map(function(t){return new t9(t)}):[]},qce=function(n){function t(){var e=n.call(this)||this;return e.method=hn.GET,e.path=pU,e}return ne(t,n),t}(fn),jce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emojiContainer=new Gce(r),a}return ne(t,n),t}(vn),Kce=function(n){function t(e){var r=e.categoryId,a=n.call(this)||this;return a.method=hn.GET,a.path="".concat(pU,"/").concat(r),a}return ne(t,n),t}(fn),Wce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emojiCategory=new t9(r),a}return ne(t,n),t}(vn),Qce=function(n){function t(e){var r=e.key,a=n.call(this)||this;return a.method=hn.GET,a.path="".concat(xse,"/").concat(r),a}return ne(t,n),t}(fn),Yce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emoji=new n9(r),a}return ne(t,n),t}(vn),Xce=function(n){function t(e){var r=e.limit,a=e.token,o=e.userIdsFilter,u=e.metaDataKeyFilter,h=e.metaDataValuesFilter,f=e.nicknameStartsWithFilter,m=n.call(this)||this;return m.method=hn.GET,m.path=Lt,m.params=at({limit:r,token:a,user_ids:o,metadatakey:u,metadatavalues_in:h,nickname_startswith:f}),m}return ne(t,n),t}(fn),Zce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(o){return new kt(e,o)}),a.next=r.next,a}return ne(t,n),t}(vn),Jce=function(n){function t(e,r){var a,o,u,h=this;return(h=n.call(this,e,r)||this).userIdsFilter=null,h.metaDataKeyFilter=null,h.metaDataValuesFilter=null,h.nicknameStartsWithFilter=null,h.userIdsFilter=(a=r.userIdsFilter)!==null&&a!==void 0?a:null,h.metaDataKeyFilter=(o=r.metaDataKeyFilter)!==null&&o!==void 0?o:null,h.metaDataValuesFilter=(u=r.metaDataValuesFilter)!==null&&u!==void 0?u:null,h.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,h}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&bt("string",this.userIdsFilter,!0)&&be("string",this.metaDataKeyFilter,!0)&&bt("string",this.metaDataValuesFilter,!0)&&be("string",this.metaDataKeyFilter,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new Xce(Ee(Ee({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(Zce),u=o.users,h=o.next,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(uc),eue=function(n){function t(e){var r=e.userId,a=e.limit,o=e.token,u=e.userIdsFilter,h=n.call(this)||this;return h.method=hn.GET,h.path="".concat(Lt,"/").concat(r,"/block"),h.params=at({limit:a,token:o,user_ids:u}),h}return ne(t,n),t}(fn),nue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(o){return new kt(e,o)}),a.next=r.next,a}return ne(t,n),t}(vn),tue=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this).userIdsFilter=null,o.userIdsFilter=(a=r.userIdsFilter)!==null&&a!==void 0?a:null,o}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&bt("string",this.userIdsFilter,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new eue(Ee(Ee({},this),{userId:r.userId,token:this._token})),[4,a.send(o)]):[3,2]:[3,5];case 1:return u=v.sent(),h=u.as(nue),f=h.users,m=h.next,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(uc),rue=function(n){function t(e){var r=e.userId,a=e.limit,o=e.token,u=n.call(this)||this;return u.method=hn.GET,u.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/friends"),u.params={limit:a,token:o},u}return ne(t,n),t}(fn),iue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.hasMore=r.has_more,a.users=r.users.map(function(o){return new kt(e,o)}),a.next=r.next,a}return ne(t,n),t}(vn),aue=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new rue(Ee(Ee({},this),{userId:r.userId,token:this._token})),[4,a.send(o)]):[3,2]:[3,5];case 1:return u=y.sent(),h=u.as(iue),f=h.users,m=h.hasMore,v=h.next,this._token=v,this._hasNext=m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(uc),qp=null,sue=function(){function n(t,e,r){var a=this;this._storeInitialized=!1,this._fcmPushToken=null,this._apnsPushToken=null,this._iid=t,this.options=e;var o=Te.of(t),u=o.sdkState,h=o.cacheContext,f=o.dispatcher,m=o.sessionManager,v=o.requestQueue,y=o.logger,w=o.userEventHandlers,x=o.appStateToggleEnabled;this._onlineDetector=new tce({logger:y,connectionDelegate:{reconnect:function(){var A=Te.of(t),L=A.sdkState,S=A.connectionManager,k=A.sessionManager;k.auth.hasSession?L.appState==="foreground"&&S.resetAndReconnect():S.connect(k.auth.authToken)},disconnect:function(){Te.of(t).connectionManager.disconnect()}}});var C=new hf(t,{localCacheEnabled:h.localCacheEnabled,dispatcher:f,sdkState:u,logger:y});r.forEach(function(A){A.init(t,{sdkState:u,cacheContext:h,dispatcher:f,sessionManager:m,requestQueue:v,logger:y,onlineDetector:a._onlineDetector}),a[A.name]=A}),this._appStateChangeDetector=new nce({isEnabled:x}),this._appStateChangeDetector.on("resume",function(){y.debug("the page resumes from freeze"),a.setForegroundState()}).on("pause",function(){y.debug("the page freezes"),a.setBackgroundState()}),f.on(function(A){if(A instanceof hs)A.stateType===Vt.CONNECTED&&C.processNonAutoResendRegisteredPendingMessages();else if(A instanceof or){if(A.code==="USEV"){var L=A.as(JU).event;if(L.category===m_.FRIEND_DISCOVERED){var S=hb.getDataAsFriendDiscoveredEvent(t,L).friendDiscoveries;Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(D){return[2,w.forEach(function(T){T.onFriendsDiscovered(S)})]})})})}}}else if(A instanceof hU){var k=Te.of(a._iid).subscribedUnreadMessageCount,N=!1,O=A.ts;if(typeof O=="number"&&O>k.ts){if(k.all!==A.all&&(N=!0),k.all=A.all>=0?A.all:0,A.customTypes)for(var H in A.customTypes)k.customTypes[H]!==A.customTypes[H]&&(N=!0),k.customTypes[H]=A.customTypes[H];N=N&&k.ts>0,k.ts=O}N&&Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(D){return[2,w.forEach(function(T){T.onTotalUnreadMessageCountUpdated(k.all,k.customTypes)})]})})})}else A instanceof vU&&h.preference.set(a._getUserProfileCacheKey(u.userId),mx.payloadify(A.userProfile))})}return n.init=function(t){var e=t.appId,r=t.appVersion,a=r===void 0?null:r,o=t.modules,u=o===void 0?[]:o,h=t.options,f=h===void 0?new GL:h,m=t.debugMode,v=m!==void 0&&m,y=t.customApiHost,w=t.customWebSocketHost,x=t.newInstance,C=x!==void 0&&x,A=t.logLevel,L=t.localCacheEnabled,S=L!==void 0&&L,k=t.localCacheConfig,N=k===void 0?new jL:k,O=t.localCacheEncryption,H=t.useAsyncStorageStore,D=H===void 0?null:H,T=t.appStateToggleEnabled,M=T===void 0||T;if(!qp||C){var q="su-".concat(Tu()),z=O??{encrypt:function(Q){return Q},decrypt:function(Q){return Q}},re=new t0({encryption:z});v||(re=KL()?D?new Kle({AsyncStorage:D,encryption:z}):new t0({encryption:z}):new jle({encryption:z})),new Te(q,{appId:e,appVersion:a,options:f,apiHost:y??"https://api-".concat(e,".sendbird.com"),websocketHost:w??"wss://ws-".concat(e,".sendbird.com"),store:re,encryption:z,logLevel:A,localCacheEnabled:S,localCacheConfig:N,debugMode:v,appStateToggleEnabled:M});var pe=[new loe,new Toe],B=new n(q,f,nt(nt([],Qn(u),!1),Qn(pe),!1));return qp||(qp=B),B}return qp},Object.defineProperty(n,"instance",{get:function(){return qp},enumerable:!1,configurable:!0}),Object.defineProperty(n,"version",{get:function(){return zL},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appId",{get:function(){return Te.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appInfo",{get:function(){return Te.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appVersion",{get:function(){var t;return(t=Te.of(this._iid).sdkState.appVersion)!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"debugMode",{get:function(){return Te.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"logLevel",{get:function(){return Te.of(this._iid).logger.level},set:function(t){Te.of(this._iid).logger.level=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isCacheEnabled",{get:function(){return Te.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheConfig",{get:function(){var t=Te.of(this._iid).cacheContext;return t.localCacheEnabled?t.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ekey",{get:function(){return Te.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentUser",{get:function(){var t;return(t=Te.of(this._iid).sessionManager.currentUser)!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"connectionState",{get:function(){var t=Te.of(this._iid).connectionManager;return t.isConnected?al.OPEN:t.isConnecting?al.CONNECTING:al.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastConnectedAt",{get:function(){var t=Te.of(this._iid),e=t.connectedAt;return t.connectionManager.isConnected?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),n.prototype._getCurrentPreferenceVersion=function(){return 1},n.prototype._getPreferenceCacheKey=function(t){return"sendbird@".concat(this.appId,"/").concat(t,".pref")},n.prototype._getUserProfileCacheKey=function(t){return"sendbird@".concat(this.appId,"/").concat(t,".profile")},n.prototype.getMemoryStoreForDebugging=function(){var t=Te.of(this._iid),e=t.debugMode,r=t.cacheContext;if(e)return r.store instanceof t0?r.store:null;throw De.debugModeRequired},n.prototype.addExtension=function(t,e){var r=Te.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(t)>-1&&(r.extensions[t]=e)},n.prototype.setOnlineListener=function(t){this._onlineDetector.setOnlineListener(t)},n.prototype.setOfflineListener=function(t){this._onlineDetector.setOfflineListener(t)},n.prototype._safeInitializeStore=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:e=Te.of(this._iid).cacheContext,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,e.store.init(t)];case 2:return r.sent(),this._storeInitialized=!0,[3,5];case 3:return r.sent(),e.store=new t0,[4,this._safeInitializeStore(t)];case 4:return r.sent(),[3,5];case 5:return[2]}})})},n.prototype.initializeCache=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return e=Te.of(this._iid),r=e.sdkState,a=e.cacheContext,o=e.connectionManager,u=e.dispatcher,h=e.logger,r.userId&&r.userId===t?[3,10]:[4,o.logout()];case 1:if(y.sent(),f="sendbird@".concat(r.appId,"/").concat(t,".db"),!a.localCacheEnabled)return[3,8];y.label=2;case 2:return y.trys.push([2,5,,7]),a.nestdb&&a.nestdb.state!==tl.CLOSED&&a.nestdb.name===f?[3,4]:((m=a.nestdb=new Wle({name:"sendbird@".concat(r.appId,"/").concat(t,".db"),version:2,store:a.store})).on("upgrade",Jle(m,a.store)),[4,m.open()]);case 3:y.sent(),this._storeInitialized=!0,u.dispatch(new XU(this._iid,{userId:t})),y.label=4;case 4:return r.userId=t,[3,7];case 5:return v=y.sent(),h.warn("Nest DB Open Failed. ",v),[4,this._safeInitializeStore(f)];case 6:throw y.sent(),r.userId=t,De.databaseError;case 7:return[3,10];case 8:return[4,this._safeInitializeStore(f)];case 9:y.sent(),r.userId=t,y.label=10;case 10:return[2]}})})},n.prototype.getCacheDataSize=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return(t=Te.of(this._iid).cacheContext).localCacheEnabled&&t.nestdb?[4,t.nestdb.estimateUsage()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,0]}})})},n.prototype.clearCachedData=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return(t=Te.of(this._iid).cacheContext).localCacheEnabled&&t.nestdb?[4,t.nestdb.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._storeInitialized?[4,t.preference.clear()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}})})},n.prototype.clearCachedMessages=function(t){return F(this,void 0,void 0,function(){var e,r,a=this;return P(this,function(o){switch(o.label){case 0:return mn(bt("string",t)).throw(De.invalidParameters),e=QU.of(this._iid),r=Ak.of(this._iid),e&&r?[4,Promise.all(t.map(function(u){return F(a,void 0,void 0,function(){return P(this,function(h){switch(h.label){case 0:return[4,e.removeMessagesOfChannel(u)];case 1:return h.sent(),[4,r.removeMessagesOfChannel(u)];case 2:return h.sent(),[2]}})})}))]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.connect=function(t,e){return e===void 0&&(e=null),F(this,void 0,void 0,function(){var r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:mn(be("string",t)&&be("string",e,!0)).throw(De.invalidParameters),r=Te.of(this._iid),a=r.sdkState,o=r.cacheContext,u=r.connectionManager,h=r.statLogCollector,this._onlineDetector.start(),this._appStateChangeDetector.start(),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.initializeCache(t)];case 2:return v.sent(),Te.of(this._iid).dispatcher.dispatch(new ZU),[3,4];case 3:return v.sent(),f=Te.of(this._iid).logger,o.localCacheEnabled=!1,f.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,o.preference.init(this._getPreferenceCacheKey(t),this._getCurrentPreferenceVersion())];case 5:return v.sent(),[4,o.preference.get(this._getUserProfileCacheKey(t))];case 6:return(m=v.sent())&&new mx(this._iid,m).apply(),[4,h.init("sendbird@".concat(a.appId,"/").concat(t,".statlog"))];case 7:return v.sent(),[4,u.connect(e)];case 8:return v.sent(),[2,this.currentUser]}})})},n.prototype.reconnect=function(){var t=Te.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.sessionManager.auth.hasSession;return a&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),e.resetAndReconnect().then(function(){r.appState="foreground"}).catch(function(){})),a},n.prototype.disconnect=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return t=Te.of(this._iid),e=t.connectionManager,r=t.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),r.cancelAll(),[4,e.logout()];case 1:return a.sent(),[4,this.clearCachedData()];case 2:return a.sent(),[2]}})})},n.prototype.disconnectWebSocket=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return t=Te.of(this._iid),e=t.connectionManager,r=t.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),r.cancelAll(),[4,e.disconnectWebSocket()];case 1:return a.sent(),[2]}})})},n.prototype.setBackgroundState=function(){var t=Te.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.logger;r.appState==="foreground"&&(r.appState="background",a.debug("going background state"),e.background())},n.prototype.setForegroundState=function(){var t=Te.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.logger;r.appState==="background"&&(r.appState="foreground",a.debug("going foreground state"),e.resetAndReconnect())},n.prototype.setSessionHandler=function(t){mn(t instanceof Xle).throw(De.invalidParameters),Te.of(this._iid).sessionManager.handler=t},n.prototype.addUserEventHandler=function(t,e){mn(be("string",t)&&e instanceof Zle).throw(De.invalidParameters),Te.of(this._iid).userEventHandlers.set(t,e)},n.prototype.removeUserEventHandler=function(t){Te.of(this._iid).userEventHandlers.delete(t)},n.prototype.removeAllUserEventHandler=function(){Te.of(this._iid).userEventHandlers.clear()},n.prototype.addConnectionHandler=function(t,e){mn(be("string",t)&&e instanceof e9).throw(De.invalidParameters),Te.of(this._iid).connectionHandlers.set(t,e)},n.prototype.removeConnectionHandler=function(t){Te.of(this._iid).connectionHandlers.delete(t)},n.prototype.removeAllConnectionHandler=function(){Te.of(this._iid).connectionHandlers.clear()},n.prototype.createApplicationUserListQuery=function(t){return t===void 0&&(t={}),new Jce(this._iid,t)},n.prototype.createBlockedUserListQuery=function(t){return t===void 0&&(t={}),new tue(this._iid,t)},n.prototype.createFriendListQuery=function(t){return t===void 0&&(t={}),new aue(this._iid,t)},n.prototype.createMessageSearchQuery=function(t){return new aoe(this._iid,t)},n.prototype.createPollListQuery=function(t){return new AU(this._iid,Ee({},t))},n.prototype.createPollVoterListQuery=function(t){return new OU(this._iid,Ee({},t))},n.prototype.buildUserFromSerializedData=function(t){var e=_u(t);return new kt(this._iid,kt.payloadify(e))},n.prototype.updateCurrentUserInfo=function(t){return t===void 0&&(t={}),F(this,void 0,void 0,function(){var e,r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return e=Ee(Ee({},Yle),t),mn(function(v){return Ii(v.profileImage,!0)&&be("string",v.profileUrl,!0)&&be("string",v.nickname,!0)}(e)).throw(De.invalidParameters),this.currentUser?(r=Te.of(this._iid),a=r.sdkState,o=r.requestQueue,u=new x8(Ee({userId:a.userId},e)),[4,o.send(u)]):[3,2];case 1:return h=m.sent(),f=h.as(k8).user,this.currentUser&&(e.nickname&&(this.currentUser.nickname=f.nickname),(e.profileUrl||e.profileImage)&&(this.currentUser.plainProfileUrl=f.profileUrl)),[2,f];case 2:throw De.connectionRequired}})})},n.prototype.updateCurrentUserInfoWithPreferredLanguages=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return mn(bt("string",t)).throw(De.invalidParameters),this.currentUser?(e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new x8({userId:r.userId,preferredLanguages:t}),[4,a.send(o)]):[3,2];case 1:return u=f.sent(),h=u.as(k8).user,this.currentUser&&(this.currentUser.preferredLanguages=h.preferredLanguages),[2,h];case 2:throw De.connectionRequired}})})},n.prototype.registerFCMPushTokenForCurrentUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h=this;return P(this,function(f){switch(f.label){case 0:if(mn(be("string",t)).throw(De.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=Te.of(this._iid),r=e.sessionManager,a=e.sdkState,o=e.requestQueue,r.hasDeviceToken(Ei.FCM,t)?[2,Ca.SUCCESS]:(u=new ice({userId:a.userId,token:t}),[4,o.send(u)]);case 2:return f.sent(),[4,oi(function(){return F(h,void 0,void 0,function(){return P(this,function(m){switch(m.label){case 0:return r.setDeviceToken(Ei.FCM,t),[4,r.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 3:return f.sent(),this._fcmPushToken="",[2,Ca.SUCCESS];case 4:return f.sent(),[2,Ca.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=t,[2,Ca.PENDING];case 7:return[2]}})})},n.prototype.unregisterFCMPushTokenForCurrentUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f=this;return P(this,function(m){switch(m.label){case 0:if(mn(be("string",t)).throw(De.invalidParameters),!this.currentUser)return[3,6];m.label=1;case 1:return m.trys.push([1,4,,5]),e=Te.of(this._iid),r=e.sessionManager,a=e.sdkState,o=e.requestQueue,u=new sce({userId:a.userId,token:t}),[4,o.send(u)];case 2:return h=m.sent().lastDeletedAt,[4,oi(function(){return F(f,void 0,void 0,function(){return P(this,function(v){switch(v.label){case 0:return r.unsetDeviceToken(Ei.FCM,t),r.setDeviceTokenDeletedAt(h),[4,r.saveDeviceToken()];case 1:return v.sent(),[2]}})})})];case 3:return m.sent(),this._fcmPushToken="",[2,Ca.SUCCESS];case 4:return m.sent(),[2,Ca.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=t,[2,Ca.PENDING];case 7:return[2]}})})},n.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h=this;return P(this,function(f){switch(f.label){case 0:return this.currentUser?(t=Te.of(this._iid),e=t.sessionManager,r=t.sdkState,a=t.requestQueue,o=new lce({userId:r.userId}),[4,a.send(o)]):[3,3];case 1:return u=f.sent().lastDeletedAt,[4,oi(function(){return F(h,void 0,void 0,function(){return P(this,function(m){switch(m.label){case 0:return e.unsetDeviceTokens(Ei.FCM),e.setDeviceTokenDeletedAt(u),[4,e.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 2:f.sent(),f.label=3;case 3:return[2]}})})},n.prototype.registerAPNSPushTokenForCurrentUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h=this;return P(this,function(f){switch(f.label){case 0:if(mn(be("string",t)).throw(De.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=Te.of(this._iid),r=e.sessionManager,a=e.sdkState,o=e.requestQueue,r.hasDeviceToken(Ei.APNS,t)?[2,Ca.SUCCESS]:(u=new rce({userId:a.userId,token:t}),[4,o.send(u)]);case 2:return f.sent(),[4,oi(function(){return F(h,void 0,void 0,function(){return P(this,function(m){switch(m.label){case 0:return r.setDeviceToken(Ei.APNS,t),[4,r.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 3:return f.sent(),this._apnsPushToken="",[2,Ca.SUCCESS];case 4:return f.sent(),[2,Ca.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=t,[2,Ca.PENDING];case 7:return[2]}})})},n.prototype.unregisterAPNSPushTokenForCurrentUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f=this;return P(this,function(m){switch(m.label){case 0:if(mn(be("string",t)).throw(De.invalidParameters),!this.currentUser)return[3,6];m.label=1;case 1:return m.trys.push([1,4,,5]),e=Te.of(this._iid),r=e.sessionManager,a=e.sdkState,o=e.requestQueue,u=new ace({userId:a.userId,token:t}),[4,o.send(u)];case 2:return h=m.sent().lastDeletedAt,[4,oi(function(){return F(f,void 0,void 0,function(){return P(this,function(v){switch(v.label){case 0:return r.unsetDeviceToken(Ei.APNS,t),r.setDeviceTokenDeletedAt(h),[4,r.saveDeviceToken()];case 1:return v.sent(),[2]}})})})];case 3:return m.sent(),this._apnsPushToken="",[2,Ca.SUCCESS];case 4:return m.sent(),[2,Ca.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=t,[2,Ca.PENDING];case 7:return[2]}})})},n.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h=this;return P(this,function(f){switch(f.label){case 0:return this.currentUser?(t=Te.of(this._iid),e=t.sessionManager,r=t.sdkState,a=t.requestQueue,o=new oce({userId:r.userId}),[4,a.send(o)]):[3,3];case 1:return u=f.sent().lastDeletedAt,[4,oi(function(){return F(h,void 0,void 0,function(){return P(this,function(m){switch(m.label){case 0:return e.unsetDeviceTokens(Ei.APNS),e.setDeviceTokenDeletedAt(u),[4,e.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 2:f.sent(),f.label=3;case 3:return[2]}})})},n.prototype.getChannelInvitationPreference=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(u){switch(u.label){case 0:return t=Te.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new dce({userId:e.userId}),[4,r.send(a)];case 1:return o=u.sent(),[2,{autoAccept:o.as(hce).autoAccept}]}})})},n.prototype.setChannelInvitationPreference=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u;return P(this,function(h){switch(h.label){case 0:return mn(be("boolean",t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new pce({userId:r.userId,willAutoAccept:t}),[4,a.send(o)];case 1:return u=h.sent(),[2,{autoAccept:u.as(fce).autoAccept}]}})})},n.prototype.getDoNotDisturb=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(u){switch(u.label){case 0:return t=Te.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new _ce({userId:e.userId}),[4,r.send(a)];case 1:return o=u.sent(),[2,o.as(mce).preference]}})})},n.prototype.setDoNotDisturb=function(t,e,r,a,o,u){return e===void 0&&(e=0),r===void 0&&(r=0),a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=""),F(this,void 0,void 0,function(){var h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return mn(be("boolean",t)&&be("number",e)&&be("number",r)&&be("number",a)&&be("number",o)&&be("string",u)).throw(De.invalidParameters),h=Te.of(this._iid),f=h.sdkState,m=h.requestQueue,v=new vce({userId:f.userId,doNotDisturbOn:t,startHour:e,startMin:r,endHour:a,endMin:o,timezone:u}),[4,m.send(v)];case 1:return y=w.sent(),[2,y.as(gce).preference]}})})},n.prototype.getSnoozePeriod=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(u){switch(u.label){case 0:return t=Te.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new bce({userId:e.userId}),[4,r.send(a)];case 1:return o=u.sent(),[2,o.as(yce).snoozePeriod]}})})},n.prototype.setSnoozePeriod=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=0),F(this,void 0,void 0,function(){var a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return mn(be("boolean",t)&&be("number",e)&&be("number",r)).throw(De.invalidParameters),a=Te.of(this._iid),o=a.sdkState,u=a.requestQueue,h=new Ece({userId:o.userId,snoozeOn:t,startTs:e,endTs:r}),[4,u.send(h)];case 1:return f=m.sent(),[2,f.as(wce).snoozePeriod]}})})},n.prototype.getMyPushTokensByToken=function(t,e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m,v,y,w,x,C;return P(this,function(A){switch(A.label){case 0:return mn(be("string",t)&&_t(Ei,e)).throw(De.invalidParameters),r=Te.of(this._iid),a=r.sdkState,o=r.requestQueue,u=r.sessionManager,h=new cce({userId:a.userId,type:e,token:t}),[4,o.send(h)];case 1:f=A.sent(),m=f.as(uce).pushTokens;try{for(v=kn(m.deviceTokens),y=v.next();!y.done;y=v.next())w=y.value,u.setDeviceToken(m.type,w)}catch(L){x={error:L}}finally{try{y&&!y.done&&(C=v.return)&&C.call(v)}finally{if(x)throw x.error}}return[4,u.saveDeviceToken()];case 2:return A.sent(),[2,m]}})})},n.prototype.getPushTriggerOption=function(){return F(this,void 0,void 0,function(){var t,e,r,a;return P(this,function(o){switch(o.label){case 0:return t=Te.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Sce({userId:e.userId}),[4,r.send(a)];case 1:return[2,o.sent().as(Tce).pushTriggerOption]}})})},n.prototype.setPushTriggerOption=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return mn(_t(Ed,t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Cce({userId:r.userId,pushTriggerOption:t}),[4,a.send(o)];case 1:return[2,u.sent().as(Ice).pushTriggerOption]}})})},n.prototype.getPushTemplate=function(){return F(this,void 0,void 0,function(){var t,e,r,a;return P(this,function(o){switch(o.label){case 0:return t=Te.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Nce({userId:e.userId}),[4,r.send(a)];case 1:return[2,o.sent().as(Ace).name]}})})},n.prototype.setPushTemplate=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return mn(_t(dx,t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Oce({userId:r.userId,templateName:t}),[4,a.send(o)];case 1:return[2,u.sent().as(Rce).name]}})})},n.prototype.blockUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return mn(t instanceof kt||be("string",t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new xce({userId:r.userId,blockedUserId:t instanceof kt?t.userId:t}),[4,a.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.blockUserWithUserId=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,this.blockUser(t)]})})},n.prototype.unblockUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return mn(t instanceof kt||be("string",t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new kce({userId:r.userId,unblockedUserId:t instanceof kt?t.userId:t}),[4,a.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.unblockUserWithUserId=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,this.unblockUser(t)]})})},n.prototype.getFriendChangeLogsByToken=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u;return P(this,function(h){switch(h.label){case 0:return mn(be("string",t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Mce({userId:r.userId,token:t}),[4,a.send(o)];case 1:return u=h.sent(),[2,u.as(Dce).changelogs]}})})},n.prototype.getAllowFriendDiscovery=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(u){switch(u.label){case 0:return t=Te.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new $ce({userId:e.userId}),[4,r.send(a)];case 1:return o=u.sent(),[2,o.as(zce).allowFriendDiscovery]}})})},n.prototype.setAllowFriendDiscovery=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return mn(be("boolean",t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Vce({userId:r.userId,allowFriendDiscovery:t}),[4,a.send(o)];case 1:return u.sent(),[2,t]}})})},n.prototype.uploadFriendDiscoveries=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u;return P(this,function(h){switch(h.label){case 0:return e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Lce({userId:r.userId,discoveries:t}),[4,a.send(o)];case 1:return u=h.sent(),[2,u.as(Uce).friendDiscoveryRequestId]}})})},n.prototype.deleteFriendDiscovery=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,this.deleteFriendDiscoveries([t])]})})},n.prototype.deleteFriendDiscoveries=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return mn(bt("string",t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Pce({userId:r.userId,discoveryKeys:t}),[4,a.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.addFriends=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u;return P(this,function(h){switch(h.label){case 0:return mn(bt("string",t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Fce({userId:r.userId,userIds:t}),[4,a.send(o)];case 1:return u=h.sent(),[2,u.as(Hce).users]}})})},n.prototype.deleteFriend=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,this.deleteFriends([t])]})})},n.prototype.deleteFriends=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return mn(bt("string",t)).throw(De.invalidParameters),e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Bce({userId:r.userId,userIds:t}),[4,a.send(o)];case 1:return u.sent(),[2]}})})},n.prototype.getAllEmoji=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return t=Te.of(this._iid).requestQueue,e=new qce,[4,t.send(e)];case 1:return r=a.sent(),[2,r.as(jce).emojiContainer]}})})},n.prototype.getEmojiCategory=function(t){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return e=Te.of(this._iid).requestQueue,r=new Kce({categoryId:t}),[4,e.send(r)];case 1:return a=o.sent(),[2,a.as(Wce).emojiCategory]}})})},n.prototype.getEmoji=function(t){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return e=Te.of(this._iid).requestQueue,r=new Qce({key:t}),[4,e.send(r)];case 1:return a=o.sent(),[2,a.as(Yce).emoji]}})})},n}();const I_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const t=Math.random()*16|0;return(n==="x"?t:t&3|8).toString(16)});var Kt;(function(n){n[n.NONE=0]="NONE",n[n.CHANNEL_ENTER=10102]="CHANNEL_ENTER",n[n.CHANNEL_EXIT=10103]="CHANNEL_EXIT",n[n.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",n[n.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",n[n.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",n[n.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",n[n.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",n[n.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",n[n.TYPING_START=10900]="TYPING_START",n[n.TYPING_END=10901]="TYPING_END",n[n.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",n[n.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",n[n.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",n[n.CHANNEL_INVITE=10020]="CHANNEL_INVITE",n[n.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",n[n.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",n[n.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",n[n.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",n[n.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",n[n.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",n[n.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",n[n.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",n[n.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(Kt||(Kt={}));var oue=function(){function n(t){this.channelUrl=t.channel_url,this.channelType=t.channel_type,this.category=t.cat,this.data=t.data,this.ts=t.ts}return Object.defineProperty(n.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Zt.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Zt.OPEN},enumerable:!1,configurable:!0}),n}(),hc=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.event=new oue(a),o}return ne(t,n),t}(or),r9=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,u=a.data.operators,h=u===void 0?[]:u;return o.operators=h.map(function(f){return new kt(o._iid,f)}),o}return ne(t,n),t}(hc),i9=function(n){function t(e,r,a){var o=n.call(this,e,"MCNT",a)||this;return o.groupChannelMemberCounts=a.group_channels.map(function(u){return{channelUrl:u.channel_url,memberCount:u.member_count,joinedMemberCount:u.joined_member_count,updatedAt:u.ts}}),o.openChannelMemberCounts=a.open_channels.map(function(u){return{channelUrl:u.channel_url,participantCount:u.participant_count,updatedAt:u.ts}}),o}return ne(t,n),t}(or),a9=function(n){function t(e,r,a){var o,u,h,f=this;(f=n.call(this,e,"ADMM",a)||this).message=new x0(e,a);var m=Te.of(e).sdkState;return f.isMentioned=w0(f.message.mentionType,(o=f.message.mentionedUserIds)!==null&&o!==void 0?o:(u=f.message.mentionedUsers)===null||u===void 0?void 0:u.map(function(v){return v.userId}),m.userId),f.forceUpdateLastMessage=(h=a.force_update_last_message)!==null&&h!==void 0&&h,f}return ne(t,n),t}(or),s9=function(n){function t(e,r,a){var o,u,h,f,m,v,y=this;(y=n.call(this,e,"AEDI",a)||this).message=new x0(e,a);var w=Te.of(e).sdkState;return y.mentionCountChange=vk({mentionType:(u=(o=a.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&u!==void 0?u:null,mentionedUserIds:(f=(h=a.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:y.message.mentionType,mentionedUserIds:(m=y.message.mentionedUserIds)!==null&&m!==void 0?m:(v=y.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId})},w.userId),y}return ne(t,n),t}(or),o9=function(n){function t(e,r,a){var o=n.call(this,e,"MRCT",a)||this;return o.channelUrl=a.channel_url,o.channelType=a.channel_type,o.event=new yk(a),o}return ne(t,n),t}(or),l9=function(n){function t(e,r,a){var o=n.call(this,e,"MTHD",a)||this;return o.event=new noe(e,a),o}return ne(t,n),t}(or),c9=function(n){function t(e,r,a){var o=n.call(this,e,"PEDI",a)||this;return o.event=null,o.status=null,o.channelUrl=null,o.channelType=null,o.event=new yoe(e,a),o.status=vx(a.poll.status)||a.poll.status,o.channelUrl=a.channel_url,o.channelType=a.channel_type,o}return ne(t,n),t}(or),u9=function(){this.onUserMuted=gt,this.onUserUnmuted=gt,this.onUserBanned=gt,this.onUserUnbanned=gt,this.onChannelChanged=gt,this.onChannelDeleted=gt,this.onChannelFrozen=gt,this.onChannelUnfrozen=gt,this.onOperatorUpdated=gt,this.onChannelMemberCountChanged=gt,this.onMetaDataCreated=gt,this.onMetaDataUpdated=gt,this.onMetaDataDeleted=gt,this.onMetaCounterCreated=gt,this.onMetaCounterUpdated=gt,this.onMetaCounterDeleted=gt,this.onMessageReceived=gt,this.onMessageUpdated=gt,this.onMessageDeleted=gt,this.onMentionReceived=gt,this.onReactionUpdated=gt,this.onThreadInfoUpdated=gt},lue=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._channels=new Map,e._enteredChannelUrls=[],e}return ne(t,n),Object.defineProperty(t.prototype,"enteredChannels",{get:function(){var e=this;return this._enteredChannelUrls.map(function(r){return e._channels.get(r)}).filter(function(r){return r!==null})},enumerable:!1,configurable:!0}),t.prototype.isEnteredChannel=function(e){return this._enteredChannelUrls.includes(e)},t.prototype.enter=function(e){this._enteredChannelUrls.indexOf(e)<0&&this._enteredChannelUrls.push(e)},t.prototype.exit=function(e){var r=this._enteredChannelUrls.indexOf(e);r>=0&&this._enteredChannelUrls.splice(r,1)},t.prototype.exitAll=function(){this._enteredChannelUrls=[]},t.prototype.get=function(e){var r;return F(this,void 0,void 0,function(){return P(this,function(a){return[2,(r=this._channels.get(e))!==null&&r!==void 0?r:null]})})},t.prototype.upsert=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){return e.forEach(function(o){if(r._channels.has(o.url)){var u=r._channels.get(o.url);Object.assign(u,o)}else r._channels.set(o.url,o)}),[2]})})},t.prototype.remove=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return this._channels.delete(e),this.exit(e),[2]})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},t}(Us),d9={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null,isEphemeral:null},cue=function(n){function t(e){var r=e.channelUrl,a=e.isInternalCall,o=n.call(this)||this;return o.method=hn.GET,o.path="".concat(a?Ese:Yd,"/").concat(encodeURIComponent(r)),o}return ne(t,n),t}(fn),S8=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=null,a.channel=new T0(e,r),a}return ne(t,n),t}(vn),uue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.coverUrlOrImage,u=e.name,h=e.data,f=e.customType,m=e.operatorUserIds,v=e.isEphemeral;return(r=n.call(this)||this).method=hn.POST,r.path=Yd,r.params=at({channel_url:a,cover_url:be("string",o)?o:null,cover_file:Ii(o)?o:null,name:u,data:h,custom_type:f,operators:m,is_ephemeral:v}),r}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new T0(e,r),a}ne(t,n)})(vn);var due=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return ne(t,n),t}(Wa),h9=function(n){function t(e,r,a){var o,u,h=this;return h=n.call(this,e,"SYEV",a)||this,a.data&&(h.participantCount=(o=a.data.participant_count)!==null&&o!==void 0?o:0,h.user=new kt(e,a.data),h.ts=(u=a.data.edge_ts)!==null&&u!==void 0?u:0),h}return ne(t,n),t}(hc),hue=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return ne(t,n),t}(Wa),p9=function(n){function t(e,r,a){var o,u,h=this;return h=n.call(this,e,"EXIT",a)||this,a.data&&(h.participantCount=(o=a.data.participant_count)!==null&&o!==void 0?o:0,h.user=new kt(e,a.data),h.ts=(u=a.data.edge_ts)!==null&&u!==void 0?u:0),h}return ne(t,n),t}(hc),Kv={},vd=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,o=e.requestQueue,u=this;return Kv[t]||(this._iid=t,this._sdkState=r,this._requestQueue=o,this._dispatcher=a,this._openChannelCache=new lue(t),this._openChannelHandlers=new Map,this._dispatcher.on(function(h){var f,m;if(h instanceof or)u._handleEvent(h);else if(h instanceof hs&&h.stateType===Vt.CONNECTED){var v=u._openChannelCache.enteredChannels;try{for(var y=kn(v),w=y.next();!w.done;w=y.next())w.value.enter()}catch(x){f={error:x}}finally{try{w&&!w.done&&(m=y.return)&&m.call(y)}finally{if(f)throw f.error}}}}),Kv[t]=this),Kv[t]}return n.of=function(t){return Kv[t]},n.prototype.buildOpenChannelFromSerializedData=function(t){var e=_u(t);return new T0(this._iid,T0.payloadify(e))},n.prototype.getChannelFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._openChannelCache.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.upsertChannelsToCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._openChannelCache.upsert(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeChannelsFromCache=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),e=kn(t),r=e.next(),f.label=1;case 1:return r.done?[3,4]:(a=r.value,[4,this._openChannelCache.remove(a)]);case 2:f.sent(),f.label=3;case 3:return r=e.next(),[3,1];case 4:return[3,7];case 5:return o=f.sent(),u={error:o},[3,7];case 6:try{r&&!r.done&&(h=e.return)&&h.call(e)}finally{if(u)throw u.error}return[7];case 7:return[2]}})})},n.prototype.setEnteredToCache=function(t){this._openChannelCache.enter(t.url)},n.prototype.setExitedToCache=function(t){this._openChannelCache.exit(t.url)},n.prototype._handleEvent=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M,q,z,re,pe,B,Q,ie,j,me,ae,oe,ve,Re,ue,he,V,Y,$,te,Me,Ke,Oe,xe,Le,Fe,Je,en,un,_n,on,Hn,Vn,G,ee,yn,Cn,Xn,qn,$n,On,pt,Yn,wn,Tt,mt=this;return P(this,function(jn){switch(jn.label){case 0:switch(jn.trys.push([0,55,,56]),t.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,29];case"SYEV":return[3,31]}return[3,54];case 1:return o=null,t.code==="MESG"?o=t.as(Ck):t.code==="FILE"?o=t.as(wk):t.code!=="ADMM"&&t.code!="BRDM"||(o=t.as(a9)),o?(e=o.message,r=o.isMentioned,e.channelType!==Zt.OPEN?[3,3]:[4,this.getChannel(e.channelUrl,!0)]):[3,3];case 2:a=jn.sent(),Bn(function(){return F(mt,void 0,void 0,function(){var Mn,rn,ot,ht,wt;return P(this,function(yt){try{for(Mn=kn(this._openChannelHandlers.values()),rn=Mn.next();!rn.done;rn=Mn.next())ot=rn.value,this._openChannelCache.isEnteredChannel(a.url)&&(ot.onMessageReceived(a,e),r&&ot.onMentionReceived(a,e))}catch(hr){ht={error:hr}}finally{try{rn&&!rn.done&&(wt=Mn.return)&&wt.call(Mn)}finally{if(ht)throw ht.error}}return[2]})})}),jn.label=3;case 3:return[3,54];case 4:return o=null,t.code==="MEDI"?o=t.as(ub):t.code==="FEDI"?o=t.as(db):t.code==="AEDI"&&(o=t.as(s9)),o?(u=o.message,h=o.mentionCountChange,u.channelType!==Zt.OPEN?[3,6]:[4,this.getChannel(u.channelUrl,!0)]):[3,6];case 5:f=jn.sent(),Bn(function(){return F(mt,void 0,void 0,function(){var Mn,rn,ot,ht,wt;return P(this,function(yt){try{for(Mn=kn(this._openChannelHandlers.values()),rn=Mn.next();!rn.done;rn=Mn.next())ot=rn.value,this._openChannelCache.isEnteredChannel(f.url)&&(ot.onMessageUpdated(f,u),h>0&&ot.onMentionReceived(f,u))}catch(hr){ht={error:hr}}finally{try{rn&&!rn.done&&(wt=Mn.return)&&wt.call(Mn)}finally{if(ht)throw ht.error}}return[2]})})}),jn.label=6;case 6:return[3,54];case 7:return m=t.as(jU),ie=m.channelUrl,j=m.channelType,v=m.messageId,j!==Zt.OPEN?[3,9]:[4,this.getChannel(ie,!0)];case 8:y=jn.sent(),Bn(function(){return F(mt,void 0,void 0,function(){var Mn,rn,ot,ht,wt;return P(this,function(yt){try{for(Mn=kn(this._openChannelHandlers.values()),rn=Mn.next();!rn.done;rn=Mn.next())ot=rn.value,this._openChannelCache.isEnteredChannel(y.url)&&ot.onMessageDeleted(y,v)}catch(hr){ht={error:hr}}finally{try{rn&&!rn.done&&(wt=Mn.return)&&wt.call(Mn)}finally{if(ht)throw ht.error}}return[2]})})}),jn.label=9;case 9:return[3,54];case 10:return w=t.as(o9),ie=w.channelUrl,j=w.channelType,x=w.event,j!==Zt.OPEN?[3,12]:[4,this.getChannel(ie,!0)];case 11:C=jn.sent(),Bn(function(){return F(mt,void 0,void 0,function(){var Mn,rn,ot,ht,wt;return P(this,function(yt){try{for(Mn=kn(this._openChannelHandlers.values()),rn=Mn.next();!rn.done;rn=Mn.next())ot=rn.value,this._openChannelCache.isEnteredChannel(C.url)&&ot.onReactionUpdated(C,x)}catch(hr){ht={error:hr}}finally{try{rn&&!rn.done&&(wt=Mn.return)&&wt.call(Mn)}finally{if(ht)throw ht.error}}return[2]})})}),jn.label=12;case 12:return[3,54];case 13:return(A=t.as(l9).event).channelType!==Zt.OPEN?[3,15]:[4,this.getChannel(A.channelUrl,!0)];case 14:L=jn.sent(),Bn(function(){return F(mt,void 0,void 0,function(){var Mn,rn,ot,ht,wt;return P(this,function(yt){try{for(Mn=kn(this._openChannelHandlers.values()),rn=Mn.next();!rn.done;rn=Mn.next())ot=rn.value,this._openChannelCache.isEnteredChannel(L.url)&&ot.onThreadInfoUpdated(L,A)}catch(hr){ht={error:hr}}finally{try{rn&&!rn.done&&(wt=Mn.return)&&wt.call(Mn)}finally{if(ht)throw ht.error}}return[2]})})}),jn.label=15;case 15:return[3,54];case 16:S=t.as(i9).openChannelMemberCounts,k=[],jn.label=17;case 17:jn.trys.push([17,22,23,24]),N=kn(S),O=N.next(),jn.label=18;case 18:return O.done?[3,21]:(H=O.value,ie=H.channelUrl,Y=H.participantCount,D=H.updatedAt,[4,this.getChannelFromCache(ie)]);case 19:(T=jn.sent())&&T._updateParticipantCount(Y,D)&&k.push(T),jn.label=20;case 20:return O=N.next(),[3,18];case 21:return[3,24];case 22:return M=jn.sent(),wn={error:M},[3,24];case 23:try{O&&!O.done&&(Tt=N.return)&&Tt.call(N)}finally{if(wn)throw wn.error}return[7];case 24:return k.length>0?[4,this.upsertChannelsToCache(k)]:[3,26];case 25:jn.sent(),Bn(function(){return F(mt,void 0,void 0,function(){var Mn,rn,ot,ht;return P(this,function(wt){try{for(Mn=kn(this._openChannelHandlers.values()),rn=Mn.next();!rn.done;rn=Mn.next())rn.value.onChannelMemberCountChanged(k)}catch(yt){ot={error:yt}}finally{try{rn&&!rn.done&&(ht=Mn.return)&&ht.call(Mn)}finally{if(ot)throw ot.error}}return[2]})})}),jn.label=26;case 26:return[3,54];case 27:return q=t.as(c9),z=q.event,re=q.status,ie=q.channelUrl,j=q.channelType,ie&&j?[4,this.getChannel(ie,!0)]:[3,54];case 28:return pe=jn.sent(),this._dispatcher.dispatch(new bk({event:z,source:ut.EVENT_POLL_UPDATED})),Bn(re===yU?function(){return F(mt,void 0,void 0,function(){var Mn,rn,ot,ht;return P(this,function(wt){try{for(Mn=kn(this._openChannelHandlers.values()),rn=Mn.next();!rn.done;rn=Mn.next())rn.value.onPollDeleted(pe,z.pollId)}catch(yt){ot={error:yt}}finally{try{rn&&!rn.done&&(ht=Mn.return)&&ht.call(Mn)}finally{if(ot)throw ot.error}}return[2]})})}:function(){return F(mt,void 0,void 0,function(){var Mn,rn,ot,ht;return P(this,function(wt){try{for(Mn=kn(this._openChannelHandlers.values()),rn=Mn.next();!rn.done;rn=Mn.next())rn.value.onPollUpdated(pe,z)}catch(yt){ot={error:yt}}finally{try{rn&&!rn.done&&(ht=Mn.return)&&ht.call(Mn)}finally{if(ot)throw ot.error}}return[2]})})}),[3,54];case 29:return B=t.as(Ik),Q=B.event,ie=B.channelUrl,j=B.channelType,ie&&j?[4,this.getChannel(ie,!0)]:[3,54];case 30:return me=jn.sent(),this._dispatcher.dispatch(new Wb({event:Q,source:ut.EVENT_POLL_VOTED})),Bn(function(){return F(mt,void 0,void 0,function(){var Mn,rn,ot,ht;return P(this,function(wt){try{for(Mn=kn(this._openChannelHandlers.values()),rn=Mn.next();!rn.done;rn=Mn.next())rn.value.onPollVoted(me,Q)}catch(yt){ot={error:yt}}finally{try{rn&&!rn.done&&(ht=Mn.return)&&ht.call(Mn)}finally{if(ot)throw ot.error}}return[2]})})}),[3,54];case 31:if(!(ae=t.as(hc).event).isOpenChannelEvent)return[3,53];switch(ae.category){case Kt.CHANNEL_ENTER:return[3,32];case Kt.CHANNEL_EXIT:return[3,34];case Kt.CHANNEL_OPERATOR_UPDATE:return[3,36];case Kt.USER_CHANNEL_MUTE:case Kt.USER_CHANNEL_UNMUTE:return[3,38];case Kt.USER_CHANNEL_BAN:case Kt.USER_CHANNEL_UNBAN:return[3,40];case Kt.CHANNEL_FREEZE:case Kt.CHANNEL_UNFREEZE:return[3,42];case Kt.CHANNEL_DELETED:return[3,44];case Kt.CHANNEL_PROP_CHANGED:return[3,47];case Kt.CHANNEL_META_DATA_CHANGED:return[3,49];case Kt.CHANNEL_META_COUNTERS_CHANGED:return[3,51]}return[3,53];case 32:return[4,this.getChannel(ae.channelUrl,!0)];case 33:return oe=jn.sent(),ve=t.as(h9),Y=ve.participantCount,Re=ve.user,ue=oe._updateParticipantCount(Y,ae.ts),Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){rn.onUserEntered(oe,Re),ue&&rn.onChannelParticipantCountChanged(oe)}),[2]})})}),[3,53];case 34:return[4,this.getChannel(ae.channelUrl,!0)];case 35:return he=jn.sent(),V=t.as(p9),Y=V.participantCount,$=V.user,te=he._updateParticipantCount(Y,ae.ts),Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){rn.onUserExited(he,$),te&&rn.onChannelParticipantCountChanged(he)}),[2]})})}),[3,53];case 36:return[4,this.getChannel(ae.channelUrl,!0)];case 37:return Me=jn.sent(),Ke=t.as(r9).operators,Me.operators=Ke,this.upsertChannelsToCache([Me]),Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){rn.onOperatorUpdated(Me,Ke)}),[2]})})}),[3,53];case 38:return[4,this.getChannel(ae.channelUrl,!0)];case 39:return Oe=jn.sent(),xe=ae.category===Kt.USER_CHANNEL_MUTE,Le=t.as(xe?$U:zU).user,Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){xe?rn.onUserMuted(Oe,Le):rn.onUserUnmuted(Oe,Le)}),[2]})})}),[3,53];case 40:return[4,this.getChannel(ae.channelUrl,!0)];case 41:return Fe=jn.sent(),Je=ae.category===Kt.USER_CHANNEL_BAN,en=t.as(Je?VU:GU).user,Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){Je?rn.onUserBanned(Fe,en):rn.onUserUnbanned(Fe,en)}),[2]})})}),[3,53];case 42:return[4,this.getChannel(ae.channelUrl,!0)];case 43:return un=jn.sent(),_n=t.as(qU).freeze,un.isFrozen=_n,this.upsertChannelsToCache([un]),Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){_n?rn.onChannelFrozen(un):rn.onChannelUnfrozen(un)}),[2]})})}),[3,53];case 44:return[4,this.getChannel(ae.channelUrl,!0)];case 45:return on=jn.sent(),[4,this.removeChannelsFromCache([on.url])];case 46:return jn.sent(),Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){rn.onChannelDeleted(on.url,on.channelType)}),[2]})})}),[3,53];case 47:return[4,this.getChannelWithoutCache(ae.channelUrl,!0)];case 48:return Hn=jn.sent(),Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){rn.onChannelChanged(Hn)}),[2]})})}),[3,53];case 49:return[4,this.getChannel(ae.channelUrl,!0)];case 50:return Vn=jn.sent(),G=t.as(HU),ee=G.created,yn=G.updated,Cn=G.deleted,ee&&Vn._upsertCachedMetaData(ee,ae.ts),yn&&Vn._upsertCachedMetaData(yn,ae.ts),Cn&&Vn._removeFromCachedMetaData(Cn,ae.ts),Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){ee&&rn.onMetaDataCreated(Vn,ee),yn&&rn.onMetaDataUpdated(Vn,yn),Cn&&rn.onMetaDataDeleted(Vn,Cn)}),[2]})})}),[3,53];case 51:return[4,this.getChannel(ae.channelUrl,!0)];case 52:return Xn=jn.sent(),qn=t.as(BU),$n=qn.created,On=qn.updated,pt=qn.deleted,Bn(function(){return F(mt,void 0,void 0,function(){return P(this,function(Mn){return this._openChannelHandlers.forEach(function(rn){$n&&rn.onMetaCounterCreated(Xn,$n),On&&rn.onMetaCounterUpdated(Xn,On),pt&&rn.onMetaCounterDeleted(Xn,pt)}),[2]})})}),[3,53];case 53:return[3,54];case 54:return[3,56];case 55:if(Yn=jn.sent(),cl(Yn))throw Yn;return[3,56];case 56:return[2]}})})},n.prototype.addHandler=function(t,e){this._openChannelHandlers.set(t,e)},n.prototype.removeHandler=function(t){this._openChannelHandlers.delete(t)},n.prototype.clearHandler=function(){this._openChannelHandlers.clear()},n.prototype.getChannel=function(t,e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:mn(be("string",t)).throw(De.invalidParameters),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.getChannelFromCache(t)];case 2:return(r=a.sent())?[2,r]:[3,4];case 3:return a.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(t)];case 5:return[2,a.sent()]}})})},n.prototype.getChannelWithoutCache=function(t,e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var r,a,o;return P(this,function(u){switch(u.label){case 0:return mn(be("string",t)).throw(De.invalidParameters),r=new cue({channelUrl:t,isInternalCall:e}),[4,this._requestQueue.send(r)];case 1:return a=u.sent(),o=a.as(S8).channel,[4,this.upsertChannelsToCache([o])];case 2:return u.sent(),[2,o]}})})},n.prototype.createChannel=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return e=Ee(Ee({},d9),t),mn(function(h){return bt("string",h.operatorUserIds,!0)&&(be("string",h.coverUrlOrImage)||Ii(h.coverUrlOrImage)||h.coverUrlOrImage===null)&&be("string",h.name,!0)&&be("string",h.data,!0)&&be("string",h.customType,!0)&&(be("string",h.channelUrl)&&/^\w+$/.test(h.channelUrl)||h.channelUrl===null)&&be("boolean",h.isEphemeral,!0)}(e)).throw(De.invalidParameters),r=new uue(e),[4,this._requestQueue.send(r)];case 1:return a=u.sent(),o=a.as(S8).channel,this.upsertChannelsToCache([o]),[2,o]}})})},n}(),T8={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},pue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.token,u=e.limit;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(Yd,"/").concat(encodeURIComponent(a),"/participants"),r.params={token:o,limit:u},r}return ne(t,n),t}(fn),fue=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.participants=[];var o=r.next,u=r.participants;return a.token=o,a.participants=u.map(function(h){return new Qle(e,h)}),a}return ne(t,n),t}(vn),_ue=function(n){function t(e,r,a){return n.call(this,e,r,Zt.OPEN,a)||this}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new pue(Ee(Ee({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(fue),u=o.participants,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(dc),mue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.coverUrlOrImage,u=e.name,h=e.data,f=e.customType,m=e.operatorUserIds;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(Yd,"/").concat(encodeURIComponent(a)),r.params=at({cover_url:be("string",o)?o:null,cover_file:Ii(o)?o:null,name:u,data:h,custom_type:f,operators:m}),r}return ne(t,n),t}(fn),vue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new T0(e,r),a}return ne(t,n),t}(vn),gue=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(Yd,"/").concat(encodeURIComponent(a)),r}return ne(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}ne(t,n)})(vn);var T0=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this)._lastParticipantCountUpdated=0,o.participantCount=0,o.operators=[],o.channelType=Zt.OPEN,o.participantCount=(a=r.participant_count)!==null&&a!==void 0?a:0,o.operators=Array.isArray(r.operators)?r.operators.map(function(u){return new kt(e,u)}):[],o}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},wx.payloadify(e)),{participant_count:e.participantCount,operators:e.operators.map(function(r){return kt.payloadify(r)})})):null},t.prototype.serialize=function(){return R0(this)},t.prototype.isOperator=function(e){return e instanceof kt?this.isOperator(e.userId):this.operators.some(function(r){return r.userId===e})},t.prototype._updateParticipantCount=function(e,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=e,this._lastParticipantCountUpdated=r,!0)},t.prototype.createParticipantListQuery=function(e){return new _ue(this._iid,this.url,e)},t.prototype.refresh=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,vd.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,e.sent()]}})})},t.prototype.enter=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return e=Te.of(this._iid).requestQueue,r=new due({channelUrl:this.url}),[4,e.send(r)];case 1:return a=f.sent(),o=a.as(h9),u=o.participantCount,h=o.ts,this._updateParticipantCount(u,h),vd.of(this._iid).setEnteredToCache(this),[2]}})})},t.prototype.exit=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return e=Te.of(this._iid).requestQueue,r=new hue({channelUrl:this.url}),[4,e.send(r)];case 1:return a=f.sent(),o=a.as(p9),u=o.participantCount,h=o.ts,this._updateParticipantCount(u,h),vd.of(this._iid).setExitedToCache(this),Di.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},t.prototype.updateChannel=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return r=Ee(Ee({},T8),e),mn(function(m){return bt("string",m.operatorUserIds,!0)&&(be("string",m.coverUrlOrImage)||Ii(m.coverUrlOrImage)||m.coverUrlOrImage===null)&&be("string",m.name,!0)&&be("string",m.data,!0)&&be("string",m.customType,!0)}(r)).throw(De.invalidParameters),a=Te.of(this._iid).requestQueue,o=new mue(Ee({channelUrl:this.url},r)),[4,a.send(o)];case 1:return u=f.sent(),h=u.as(vue).channel,[4,vd.of(this._iid).upsertChannelsToCache([h])];case 2:return f.sent(),[2,h]}})})},t.prototype.updateChannelWithOperatorUserIds=function(e,r,a,o,u){return F(this,void 0,void 0,function(){var h;return P(this,function(f){return h=Ee(Ee({},T8),{name:e,coverUrlOrImage:r,data:a,operatorUserIds:o,customType:u}),[2,this.updateChannel(h)]})})},t.prototype.delete=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Te.of(this._iid).requestQueue,r=new gue({channelUrl:this.url}),[4,e.send(r)];case 1:return a.sent(),[4,vd.of(this._iid).removeChannelsFromCache([this.url])];case 2:return a.sent(),[2]}})})},t.prototype.sendUserMessage=function(e){return mn(!e.isPinnedMessage).throw(De.notSupportedError),n.prototype.sendUserMessage.call(this,e)},t.prototype.sendFileMessage=function(e){return mn(!e.isPinnedMessage).throw(De.notSupportedError),n.prototype.sendFileMessage.call(this,e)},t}(wx),bue=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ne(t,n),t}(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onUserEntered=gt,e.onUserExited=gt,e.onChannelParticipantCountChanged=gt,e.onPollUpdated=gt,e.onPollVoted=gt,e.onPollDeleted=gt,e}return ne(t,n),t}(u9)),yue=function(n){function t(e){var r=this,a=e.token,o=e.limit,u=e.nameKeyword,h=e.urlKeyword,f=e.customTypes,m=e.includeFrozen,v=e.includeMetaData;return(r=n.call(this)||this).method=hn.GET,r.path=Yd,r.params=at({token:a,limit:o,name_contains:u,url_contains:h,custom_types:f,show_frozen:m,show_metadata:v}),r}return ne(t,n),t}(fn),Eue=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.channels=[],a.ts=null;var o=r.next,u=r.channels,h=r.ts;return a.token=o,u&&u.length>0&&(a.channels=u.map(function(f){return new T0(e,f)})),a.ts=typeof h=="number"?h:null,a}return ne(t,n),t}(vn),wue=function(n){function t(e,r){var a,o,u,h,f,m=this;return(m=n.call(this,e,r)||this).includeFrozen=!0,m.includeMetaData=!0,m.nameKeyword=null,m.urlKeyword=null,m.customTypes=null,m.includeFrozen=(a=r.includeFrozen)===null||a===void 0||a,m.includeMetaData=(o=r.includeMetaData)===null||o===void 0||o,m.nameKeyword=(u=r.nameKeyword)!==null&&u!==void 0?u:null,m.urlKeyword=(h=r.urlKeyword)!==null&&h!==void 0?h:null,m.customTypes=(f=r.customTypes)!==null&&f!==void 0?f:null,m}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&be("boolean",this.includeFrozen)&&be("boolean",this.includeMetaData)&&be("string",this.nameKeyword,!0)&&be("string",this.urlKeyword,!0)&&bt("string",this.customTypes,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new yue(Ee(Ee({},this),{token:this._token})),[4,e.send(r)]):[3,3]:[3,6];case 1:return a=f.sent(),o=a.as(Eue),u=o.channels,h=o.token,this._token=h,this._hasNext=!!h,[4,vd.of(this._iid).upsertChannelsToCache(u)];case 2:return f.sent(),this._isLoading=!1,[2,u];case 3:return[2,[]];case 4:throw De.queryInProgress;case 5:return[3,7];case 6:throw De.invalidParameters;case 7:return[2]}})})},t}(uc),xue=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="openChannel",e}return ne(t,n),t.prototype.init=function(e,r){var a=r.sdkState,o=r.dispatcher,u=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:o,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v}),this._manager=new vd(e,{sdkState:a,dispatcher:o,requestQueue:h})},t.prototype.createOpenChannelListQuery=function(e){return e===void 0&&(e={}),new wue(this._iid,e)},t.prototype.addOpenChannelHandler=function(e,r){this._manager.addHandler(e,r)},t.prototype.removeOpenChannelHandler=function(e){this._manager.removeHandler(e)},t.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildOpenChannelFromSerializedData=function(e){return this._manager.buildOpenChannelFromSerializedData(e)},t.prototype.getChannel=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2,this._manager.getChannel(e)]})})},t.prototype.getChannelWithoutCache=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2,this._manager.getChannelWithoutCache(e)]})})},t.prototype.createChannel=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){return P(this,function(r){return[2,this._manager.createChannel(e)]})})},t.prototype.createChannelWithOperatorUserIds=function(e,r,a,o,u){return F(this,void 0,void 0,function(){var h;return P(this,function(f){return(h=Ee({},d9)).name=e,h.coverUrlOrImage=r,h.data=a,h.operatorUserIds=o,h.customType=u,[2,this._manager.createChannel(h)]})})},t}(Kb),Qr;(function(n){n.NONE="none",n.JOINED="joined",n.INVITED="invited",n.LEFT="left"})(Qr||(Qr={}));var tc,Is,ds,Rd,sl,pb,mu,v_,eo=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.state=null,a.role=null,a.isMuted=!1,a.isBlockedByMe=!1,a.isBlockingMe=!1,a.state=_t(Qr,r.state)?r.state:null,a.role=_t(Js,r.role)?r.role:null,r.hasOwnProperty("is_muted")&&(a.isMuted=r.is_muted),r.hasOwnProperty("is_blocked_by_me")&&(a.isBlockedByMe=r.is_blocked_by_me),r.hasOwnProperty("is_blocking_me")&&(a.isBlockingMe=r.is_blocking_me),a}return ne(t,n),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{state:e.state,role:e.role,is_muted:e.isMuted,is_blocked_by_me:e.isBlockedByMe,is_blocking_me:e.isBlockingMe})):null},t}(Zd),f9=function(n){function t(e,r){var a,o,u=this;return(u=n.call(this,e)||this).channelUrl=(a=r.channel_url)!==null&&a!==void 0?a:"",u.channelType=(o=r.channel_type)!==null&&o!==void 0?o:Zt.GROUP,u.reader=new kt(u._iid,r.user),u.readAt=r.ts,u}return ne(t,n),t}(Us);(function(n){n.ALL="all",n.PUBLIC="public",n.PRIVATE="private"})(tc||(tc={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(Is||(Is={})),function(n){n.ALL="all",n.SUPER="super",n.NON_SUPER="nonsuper",n.BROADCAST_ONLY="broadcast_only",n.EXCLUSIVE_ONLY="exclusive_only"}(ds||(ds={})),function(n){n.ALL="all",n.UNREAD_MESSAGE="unread_message"}(Rd||(Rd={})),function(n){n.ALL="all",n.UNHIDDEN="unhidden_only",n.HIDDEN="hidden_only",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(sl||(sl={})),function(n){n.ALL="all",n.OPERATOR="operator",n.NONOPERATOR="nonoperator"}(pb||(pb={})),function(n){n.AND="AND",n.OR="OR"}(mu||(mu={})),function(n){n.MEMBER_NICKNAME="member_nickname",n.CHANNEL_NAME="channel_name"}(v_||(v_={}));var yi,_9=function(){function n(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter=null,this.nicknameStartsWithFilter=null,this.nicknameExactMatchFilter=null,this.channelNameContainsFilter="",this.myMemberStateFilter=Is.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=ds.ALL,this.publicChannelFilter=tc.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Rd.ALL,this.hiddenChannelFilter=sl.UNHIDDEN,this.includeFrozen=!0}return n.prototype._isFriend=function(t){return!!t.friendDiscoveryKey||!!t.friendName},Object.defineProperty(n.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),n.prototype.setSearchFilter=function(t,e){Array.isArray(t)&&t.length!==0&&typeof e=="string"&&e&&(this._searchFilter={query:e,fields:t})},Object.defineProperty(n.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),n.prototype.setUserIdsFilter=function(t,e,r){r===void 0&&(r=mu.AND),this._userIdsFilter={userIds:t,includeMode:e,queryType:r}},n.prototype.clone=function(){var t=new n;this.searchFilter&&t.setSearchFilter(this.searchFilter.fields,this.searchFilter.query),this.userIdsFilter&&t.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var e=JSON.parse(JSON.stringify(this));return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},n.prototype.match=function(t,e){if(this._searchFilter){var r=this._searchFilter,a=r.query,o=r.fields;if(a&&o&&o.length>0&&!o.some(function(C){switch(C){case v_.CHANNEL_NAME:return t.name.toLowerCase().includes(a.toLowerCase());case v_.MEMBER_NICKNAME:return t.members.some(function(A){return A.nickname.toLowerCase().includes(a.toLowerCase())});default:return!0}}))return!1}if(this._userIdsFilter){var u=this._userIdsFilter,h=u.userIds,f=u.includeMode,m=u.queryType,v=t.members.map(function(C){return C.userId});if(f){if(h.length>0)switch(m){case mu.AND:if(h.some(function(C){return!v.includes(C)}))return!1;break;case mu.OR:if(h.every(function(C){return!v.includes(C)}))return!1}}else if(h.includes(e)||h.push(e),t.members.length>h.length||!lae(h,v))return!1}if(!this.includeEmpty&&!t.lastMessage||!this.includeFrozen&&t.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(t.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(t.customType)||this.channelNameContainsFilter&&!t.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var y=this.nicknameContainsFilter.toLowerCase();if(!t.members.some(function(C){return C.userId!==e&&C.nickname.toLowerCase().includes(y)}))return!1}if(this.nicknameStartsWithFilter){var w=this.nicknameStartsWithFilter.toLowerCase();if(!t.members.some(function(C){return C.userId!==e&&C.nickname.toLowerCase().startsWith(w)}))return!1}if(this.nicknameExactMatchFilter){var x=this.nicknameExactMatchFilter.toLowerCase();if(!t.members.some(function(C){return C.userId!==e&&C.nickname.toLowerCase()!=x}))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(t.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case Is.JOINED:if(t.myMemberState!=="joined")return!1;break;case Is.INVITED:if(t.myMemberState!=="invited")return!1;break;case Is.INVITED_BY_FRIEND:if(t.myMemberState!=="invited"||!this._isFriend(t.inviter))return!1;break;case Is.INVITED_BY_NON_FRIEND:if(t.myMemberState!=="invited"||this._isFriend(t.inviter))return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case sl.UNHIDDEN:if(t.isHidden||t.hiddenState!=="unhidden")return!1;break;case sl.HIDDEN:if(!t.isHidden)return!1;break;case sl.HIDDEN_ALLOW_AUTO_UNHIDE:if(!t.isHidden||t.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case sl.HIDDEN_PREVENT_AUTO_UNHIDE:if(!t.isHidden||t.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===Rd.UNREAD_MESSAGE&&t.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case tc.PUBLIC:if(!t.isPublic)return!1;break;case tc.PRIVATE:if(t.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case ds.SUPER:if(!t.isSuper)return!1;break;case ds.NON_SUPER:if(t.isSuper)return!1}return!0},n}(),kue=function(n){function t(e,r){var a=r.sdkState,o=r.cacheContext,u=n.call(this,e)||this;return u._channels=new Map,u._sdkState=a,u._cacheContext=o,u}return ne(t,n),Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e?e.collection(MU):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e,r){return r===void 0&&(r=0),Ee(Ee({},e.serialize()),{lastMessageUpdatedAt:e.lastMessage?e.lastMessage.createdAt:0,syncIndex:r})},t.prototype._deserialize=function(e){return zr.of(this._iid).buildGroupChannelFromSerializedData(e)},Object.defineProperty(t.prototype,"channels",{get:function(){return nt([],Qn(this._channels.values()),!1)},enumerable:!1,configurable:!0}),t.prototype.isCachedInMemory=function(e){return this._channels.has(e)},t.prototype.filterOffsetChanged=function(e){var r=this;return e.filter(function(a){if(r._channels.has(a.url))return r._channels.get(a.url).messageOffsetTimestamp<a.messageOffsetTimestamp})},t.prototype.get=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return this._channels.has(e)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(r=o.sent())return a=this._deserialize(r),this._channels.set(e,a),[2,a];o.label=2;case 2:return[2,null];case 3:return[2,this._channels.get(e)]}})})},t.prototype.fetch=function(e){var r=e.token,a=e.limit,o=a===void 0?RU:a,u=e.backward,h=u!==void 0&&u,f=e.filter,m=f===void 0?new _9:f,v=e.order,y=v===void 0?li.LATEST_LAST_MESSAGE:v,w=e.borderlineChannelUrl,x=w===void 0?null:w;return F(this,void 0,void 0,function(){var C,A,L,S,k=this;return P(this,function(N){switch(N.label){case 0:return this.localCacheEnabled?(C=gg(y),A={where:function(O){if(r)switch(y){case li.CHANNEL_NAME_ALPHABETICAL:if(!h&&O.name.localeCompare(r)<0||h&&O.name.localeCompare(r)>0||x&&x===O.url)return!1;break;case li.CHRONOLOGICAL:if(!h&&O.createdAt>r||h&&O.createdAt<r||x&&x===O.url)return!1;break;case li.LATEST_LAST_MESSAGE:if(!h&&O.lastMessageUpdatedAt>r||h&&O.lastMessageUpdatedAt<r||x&&x===O.url)return!1}return m.match(k._deserialize(O),k._sdkState.userId)},index:C,backward:h},[4,this.collection.query(A)]):[3,3];case 1:return[4,N.sent().fetch({limit:o})];case 2:return L=N.sent(),(S=L.map(function(O){return k._deserialize(O)})).forEach(function(O){k._channels.has(O.url)||k._channels.set(O.url,O)}),[2,S];case 3:return[2,[]]}})})},t.prototype.upsert=function(e){return F(this,void 0,void 0,function(){var r,a,o=this;return P(this,function(u){switch(u.label){case 0:if(e.forEach(function(h){if(o._channels.has(h.url)){var f=o._channels.get(h.url);h._pinnedMessagesUpdatedAt<f._pinnedMessagesUpdatedAt&&(h._pinnedMessagesUpdatedAt=f._pinnedMessagesUpdatedAt),Object.assign(f,h,{_iid:o._iid})}else o._channels.set(h.url,h)}),!this.localCacheEnabled)return[3,2];for(a in r=[],e)r.push(this._serialize(e[a],parseInt(a)));return[4,this.collection.upsertMany(r)];case 1:u.sent(),u.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:m.trys.push([0,5,6,7]),r=kn(e),a=r.next(),m.label=1;case 1:return a.done?[3,4]:(o=a.value,this._channels.delete(o),this.localCacheEnabled?[4,this.collection.remove(o)]:[3,3]);case 2:m.sent(),m.label=3;case 3:return a=r.next(),[3,1];case 4:return[3,7];case 5:return u=m.sent(),h={error:u},[3,7];case 6:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 7:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.clearMemoryCache=function(){this._channels.clear()},t.prototype._setBlockStateOfAllChannels=function(e,r,a){return F(this,void 0,void 0,function(){var o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T;return P(this,function(M){switch(M.label){case 0:if(o=[],e===this._sdkState.userId)try{for(u=kn(this._channels.values()),h=u.next();!h.done;h=u.next()){w=h.value;try{for(k=void 0,f=kn(w.members),m=f.next();!m.done;m=f.next())if((A=m.value).userId===r){A.isBlockedByMe=a,o.push(w);break}}catch(q){k={error:q}}finally{try{m&&!m.done&&(N=f.return)&&N.call(f)}finally{if(k)throw k.error}}}}catch(q){L={error:q}}finally{try{h&&!h.done&&(S=u.return)&&S.call(u)}finally{if(L)throw L.error}}else if(r===this._sdkState.userId)try{for(v=kn(this._channels.values()),y=v.next();!y.done;y=v.next()){w=y.value;try{for(D=void 0,x=kn(w.members),C=x.next();!C.done;C=x.next())if((A=C.value).userId===e){A.isBlockingMe=a,o.push(w);break}}catch(q){D={error:q}}finally{try{C&&!C.done&&(T=x.return)&&T.call(x)}finally{if(D)throw D.error}}}}catch(q){O={error:q}}finally{try{y&&!y.done&&(H=v.return)&&H.call(v)}finally{if(O)throw O.error}}return o.length>0?[4,this.upsert(o)]:[3,2];case 1:M.sent(),M.label=2;case 2:return[2]}})})},t.prototype.block=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!0)];case 1:return a.sent(),[2]}})})},t.prototype.unblock=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!1)];case 1:return a.sent(),[2]}})})},t.prototype.markAsRead=function(e,r){return r===void 0&&(r=nt([],Qn(this._channels.keys()),!1)),F(this,void 0,void 0,function(){var a,o,u,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:a=[],w.label=1;case 1:w.trys.push([1,6,7,8]),o=kn(r),u=o.next(),w.label=2;case 2:return u.done?[3,5]:(h=u.value,[4,this.get(h)]);case 3:(f=w.sent())._updateUnreadMemberState(this._sdkState.userId,e)&&(f._updateUnreadCount(0,0),a.push(f)),w.label=4;case 4:return u=o.next(),[3,2];case 5:return[3,8];case 6:return m=w.sent(),v={error:m},[3,8];case 7:try{u&&!u.done&&(y=o.return)&&y.call(o)}finally{if(v)throw v.error}return[7];case 8:return a.length>0?[4,this.upsert(a)]:[3,10];case 9:w.sent(),w.label=10;case 10:return[2]}})})},t}(Us),wg={invitedUserIds:null,channelUrl:null,coverUrl:null,coverImage:null,isDistinct:null,isSuper:null,isBroadcast:null,isExclusive:null,isPublic:null,isDiscoverable:null,isStrict:null,isEphemeral:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},Cx=function(n){return bt("string",n.invitedUserIds,!0)&&be("string",n.channelUrl,!0)&&be("string",n.coverUrl,!0)&&(Ii(n.coverImage)||be("string",n.coverImage)||n.coverImage===null)&&be("boolean",n.isDistinct,!0)&&be("boolean",n.isSuper,!0)&&be("boolean",n.isBroadcast,!0)&&be("boolean",n.isExclusive,!0)&&be("boolean",n.isPublic,!0)&&be("boolean",n.isStrict,!0)&&be("boolean",n.isDiscoverable,!0)&&be("boolean",n.isEphemeral,!0)&&be("string",n.accessCode,!0)&&be("string",n.name,!0)&&be("string",n.data,!0)&&be("string",n.customType,!0)&&bt("string",n.operatorUserIds,!0)&&be("number",n.messageSurvivalSeconds,!0)},fb={customTypes:null,includeEmpty:!1,includeFrozen:!0},Ix=function(n){return bt("string",n.customTypes,!0)&&be("boolean",n.includeEmpty)&&be("boolean",n.includeFrozen)},m9={myMemberStateFilter:Is.ALL},v9=function(n){return _t(Is,n.myMemberStateFilter)};(function(n){n.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",n.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",n.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",n.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",n.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",n.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",n.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",n.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",n.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(yi||(yi={}));var Sue={keys:[]},Tue={channelCustomTypesFilter:null,superChannelFilter:ds.ALL},Cue={channelUrl:null,scheduledStatus:null,messageTypeFilter:ji.ALL},Iue=function(){function n(t){var e=t.groupChannelCache,r=t.messageCache,a=t.unsentMessageCache,o=t.dispatcher,u=this;this._observers=new Map,o.on(function(h){return F(u,void 0,void 0,function(){var f,m,v,y,w,x,C,A,L,S,k,N,O=this;return P(this,function(H){switch(H.label){case 0:if(!(h instanceof Nt))return[3,10];f=h.channels,S=h.source,m=h.data,v=f.filter(function(D){return D instanceof Rs}),y=e.filterOffsetChanged(v),H.label=1;case 1:H.trys.push([1,6,7,8]),w=kn(y),x=w.next(),H.label=2;case 2:return x.done?[3,5]:(C=x.value,[4,r.removeUnderOffset(C.url,C.messageOffsetTimestamp)]);case 3:H.sent(),H.label=4;case 4:return x=w.next(),[3,2];case 5:return[3,8];case 6:return A=H.sent(),k={error:A},[3,8];case 7:try{x&&!x.done&&(N=w.return)&&N.call(w)}finally{if(k)throw k.error}return[7];case 8:return[4,e.upsert(v)];case 9:return H.sent(),this._broadcastUpdateEvent(v,S,m),[3,15];case 10:return h instanceof ud?(L=h.channelUrls,S=h.source,[4,e.remove(L)]):[3,13];case 11:return H.sent(),[4,oi(function(){return F(O,void 0,void 0,function(){var D,T,M,q,z,re;return P(this,function(pe){switch(pe.label){case 0:pe.trys.push([0,6,7,8]),D=kn(L),T=D.next(),pe.label=1;case 1:return T.done?[3,5]:(M=T.value,[4,r.removeMessagesOfChannel(M)]);case 2:return pe.sent(),[4,a.removeMessagesOfChannel(M)];case 3:pe.sent(),pe.label=4;case 4:return T=D.next(),[3,1];case 5:return[3,8];case 6:return q=pe.sent(),z={error:q},[3,8];case 7:try{T&&!T.done&&(re=D.return)&&re.call(D)}finally{if(z)throw z.error}return[7];case 8:return[2]}})})})];case 12:return H.sent(),this._broadcastRemoveEvent(L,S),[3,15];case 13:return h instanceof XU?[4,e.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,15];case 14:H.sent(),H.label=15;case 15:return[2]}})})})}return n.prototype._broadcastUpdateEvent=function(t,e,r){var a,o;try{for(var u=kn(this._observers.values()),h=u.next();!h.done;h=u.next())h.value.onUpdate(t,e,r)}catch(f){a={error:f}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}},n.prototype._broadcastRemoveEvent=function(t,e){var r,a;try{for(var o=kn(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemove(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype.subscribe=function(t,e){this._observers.set(t,e)},n.prototype.unsubscribe=function(t){this._observers.delete(t)},n.prototype.unsubscribeAll=function(){this._observers.clear()},n}(),Nue=function(){function n(t){var e=t.cacheContext,r=t.messageCache,a=t.unsentMessageCache,o=t.dispatcher,u=t.logger,h=this;this._cacheContext=null,this._observers=new Map,this._logger=null,this._cacheContext=e,this._logger=u,o.on(function(f){return F(h,void 0,void 0,function(){var m,v,y,w,x,C,A,L,S,k,N,O,H,D=this;return P(this,function(T){switch(T.label){case 0:return f instanceof ti?(m=f.messages,O=f.source,v=m.filter(function(M){return M.messageId>0}),y=m.filter(function(M){return M.messageId===0}),v.length>0?[4,oi(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.upsert(v)];case 1:return M.sent(),[4,a.remove(v.map(function(q){return q instanceof Ti?q.reqId:null}).filter(function(q){return q!==null}))];case 2:return M.sent(),[2]}})})})]:[3,2]):[3,5];case 1:T.sent(),this._broadcastUpdateEvent(v,O),T.label=2;case 2:return y.length>0?[4,oi(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,a.upsert(y)];case 1:return M.sent(),[2]}})})})]:[3,4];case 3:T.sent(),this._broadcastUpdateEvent(y,O),T.label=4;case 4:return[3,21];case 5:return f instanceof gk?(w=f.messageIds,O=f.source,[4,oi(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.remove(w)];case 1:return M.sent(),[2]}})})})]):[3,7];case 6:return T.sent(),this._broadcastRemoveEvent(w,O),[3,21];case 7:return f instanceof xU?(x=f.reqId,O=f.source,[4,oi(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,a.remove([x])];case 1:return M.sent(),[2]}})})})]):[3,9];case 8:return T.sent(),this._broadcastRemoveUnsentEvent(x,O),[3,21];case 9:return f instanceof kU?(C=f.polls,O=f.source,this._cacheContext.localCacheEnabled?(A=C.map(function(M){return M.messageId}),[4,Promise.all(A.map(function(M){return r.get(M)}))]):[3,12]):[3,13];case 10:return(L=T.sent().filter(function(M){return M})).length>0&&C.forEach(function(M){var q=L.find(function(z){return z.messageId===M.messageId});q&&q.applyPoll(M)}),[4,oi(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.upsert(L)];case 1:return[2,M.sent()]}})})})];case 11:T.sent(),T.label=12;case 12:return this._broadcastPollChangeLogEvent(C,O),[3,21];case 13:return f instanceof bk?(S=f.event,O=f.source,[4,r.get(S.messageId)]):[3,17];case 14:return(k=T.sent())&&k.isUserMessage()&&k.poll&&k.poll.applyPollUpdateEvent(S)?[4,oi(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.upsert([k])];case 1:return[2,M.sent()]}})})})]:[3,16];case 15:T.sent(),T.label=16;case 16:return this._broadcastPollUpdateEvent(S,O),[3,21];case 17:return f instanceof Wb?(N=f.event,O=f.source,[4,r.get(N.messageId)]):[3,21];case 18:return(H=T.sent())&&H.isUserMessage()&&H.poll&&H.poll.applyPollVoteEvent(N)?[4,oi(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.upsert([H])];case 1:return[2,M.sent()]}})})})]:[3,20];case 19:T.sent(),T.label=20;case 20:this._broadcastPollVoteEvent(N,O),T.label=21;case 21:return[2]}})})})}return n.prototype._broadcastUpdateEvent=function(t,e){var r,a;try{for(var o=kn(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onUpdate(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastPollChangeLogEvent=function(t,e){var r,a;try{for(var o=kn(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onPollChangeLogUpdate(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastPollUpdateEvent=function(t,e){var r,a;try{for(var o=kn(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onPollUpdate(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastPollVoteEvent=function(t,e){var r,a;try{for(var o=kn(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onPollVote(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastRemoveEvent=function(t,e){var r,a;try{for(var o=kn(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemove(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastRemoveUnsentEvent=function(t,e){var r,a;try{for(var o=kn(this._observers.values()),u=o.next();!u.done;u=o.next())u.value.onRemoveUnsent(t,e)}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype.subscribe=function(t,e){this._observers.set(t,e)},n.prototype.unsubscribe=function(t){this._observers.delete(t)},n.prototype.unsubscribeAll=function(){this._observers.clear()},n}(),Aue=function(n){function t(e){var r=e.userId,a=e.ts,o=e.token,u=e.filter,h=n.call(this)||this,f=Ee(Ee({},fb),u),m=f.customTypes,v=f.includeEmpty,y=f.includeFrozen;return h.method=hn.GET,h.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),h.params=at({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:a>0?a:null,token:o,custom_types:m,show_empty:v,show_frozen:y}),h}return ne(t,n),t}(fn),Oue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedChannels=r.updated.map(function(o){return new Rs(e,o)}),a.deletedChannelUrls=r.deleted,a.hasMore=r.has_more,a.token=r.next,a}return ne(t,n),t}(vn),Nx=function(n){function t(e){var r=e.channelUrl,a=e.isInternalCall,o=n.call(this)||this;return o.method=hn.GET,o.path="".concat(a?yse:_a,"/").concat(encodeURIComponent(r)),o.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},o}return ne(t,n),t}(fn),Ax=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=null,a.channel=new Rs(e,r),a}return ne(t,n),t}(vn),Rue=function(n){function t(e){var r=this,a=e.userId,o=e.token,u=e.limit,h=e.order,f=e.includeEmpty,m=e.myMemberStateFilter,v=e.superChannelFilter,y=e.publicChannelFilter,w=e.unreadChannelFilter,x=e.nicknameContainsFilter,C=e.nicknameStartsWithFilter,A=e.nicknameExactMatchFilter,L=e.channelNameContainsFilter,S=e.channelUrlsFilter,k=e.customTypesFilter,N=e.customTypeStartsWithFilter,O=e.hiddenChannelFilter,H=e.metadataOrderKeyFilter,D=e.metadataKey,T=e.metadataValues,M=e.metadataValueStartsWith,q=e.includeFrozen,z=e.includeMetaData,re=e.searchFilter,pe=e.userIdsFilter;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(Lt,"/").concat(encodeURIComponent(a),"/my_group_channels"),r.params=at({token:o,limit:u,order:h,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:f,member_state_filter:m,super_mode:v,public_mode:y,unread_filter:w,members_nickname_contains:x,members_nickname_startswith:C,members_nickname:A,name_contains:L,channel_urls:S,custom_types:k,custom_type_startswith:N,hidden_mode:O,metadata_order_key:H,metadata_key:D,metadata_values:T,metadata_value_startswith:M,show_frozen:q,show_metadata:z}),re&&re.query&&re.fields&&(r.params.search_query=re.query,r.params.search_fields=re.fields),pe&&pe.userIds&&pe.userIds.length>0&&(pe.includeMode?(r.params.members_include_in=pe.userIds,r.params.query_type=pe.queryType.toUpperCase()):r.params.members_exactly_in=pe.userIds),r}return ne(t,n),t}(fn),Mue=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.channels=[],a.ts=null;var o=r.next,u=r.channels,h=r.ts;return a.token=o,u&&u.length>0&&(a.channels=u.map(function(f){return f.ts=h,new Rs(e,f)})),a.ts=h??null,a}return ne(t,n),t}(vn),Due=function(n){function t(e){var r=e.userId,a=e.filter,o=n.call(this)||this,u=a.myMemberStateFilter;return o.method=hn.GET,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/group_channel_count"),o.params={state:u??Is.ALL},o}return ne(t,n),t}(fn),Lue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.groupChannelCount=r.group_channel_count,a}return ne(t,n),t}(vn),Uue=function(n){function t(e){var r=e.userId,a=e.filter,o=n.call(this)||this,u=a.keys;return o.method=hn.GET,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/unread_item_count"),o.params={item_keys:u},o}return ne(t,n),t}(fn),Pue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return typeof r[yi.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(a.groupChannelUnreadMentionCount=r[yi.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[yi.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(a.groupChannelUnreadMessageCount=r[yi.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[yi.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(a.groupChannelInvitationCount=r[yi.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[yi.SUPER_UNREAD_MENTION_COUNT]=="number"&&(a.superGroupChannelUnreadMentionCount=r[yi.SUPER_UNREAD_MENTION_COUNT]),typeof r[yi.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(a.superGroupChannelUnreadMessageCount=r[yi.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[yi.SUPER_INVITATION_COUNT]=="number"&&(a.superGroupChannelInvitationCount=r[yi.SUPER_INVITATION_COUNT]),typeof r[yi.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(a.nonSuperGroupChannelUnreadMentionCount=r[yi.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[yi.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(a.nonSuperGroupChannelUnreadMessageCount=r[yi.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[yi.NONSUPER_INVITATION_COUNT]=="number"&&(a.nonSuperGroupChannelInvitationCount=r[yi.NONSUPER_INVITATION_COUNT]),a}return ne(t,n),t}(vn),Fue=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=hn.GET,a.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/unread_channel_count"),a}return ne(t,n),t}(fn),Hue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.unreadCount=r.unread_count,a}return ne(t,n),t}(vn),Bue=function(n){function t(e){var r=e.userId,a=e.filter,o=n.call(this)||this,u=a.channelCustomTypesFilter,h=a.superChannelFilter;return o.method=hn.GET,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/unread_message_count"),o.params={super_mode:h??ds.ALL,custom_types:u},o}return ne(t,n),t}(fn),$ue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.unreadCount=r.unread_count,a}return ne(t,n),t}(vn),zue=function(n){function t(e){var r=e.channelUrl,a=e.scheduledStatus,o=e.messageTypeFilter,u=n.call(this)||this;return u.method=hn.GET,u.path="".concat(fU,"/count"),u.params={channel_url:r,status:Gue(a)},o&&(u.params.message_type=o),u}return ne(t,n),t}(fn),Vue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.count=r.count,a}return ne(t,n),t}(vn),Gue=function(n){if(n){var t=[];return n.forEach(function(e){switch(e){case eu.PENDING:t.push(Ts.PENDING);break;case eu.SENT:t.push(Ts.IN_QUEUE),t.push(Ts.SENT);break;case eu.CANCELED:t.push(Ts.CANCELED);break;case eu.FAILED:t.push(Ts.FAILED)}}),t}},que=function(n){function t(e){var r=this,a=e.userId,o=e.channelUrl,u=e.coverUrl,h=e.coverImage,f=e.isDistinct,m=e.isSuper,v=e.isBroadcast,y=e.isPublic,w=e.isExclusive,x=e.isDiscoverable,C=e.isStrict,A=e.isEphemeral,L=e.accessCode,S=e.name,k=e.data,N=e.customType,O=e.messageSurvivalSeconds,H=e.invitedUserIds,D=e.operatorUserIds;return(r=n.call(this)||this).method=hn.POST,r.path=_a,r.params=at({user_ids:nt([a],Qn(H??[]),!1).filter(function(T,M,q){return M===q.indexOf(T)}),channel_url:o,cover_url:u,cover_file:h,is_distinct:f,is_super:m,is_broadcast:v,is_exclusive:w,is_public:y,is_discoverable:x,strict:C,is_ephemeral:A,access_code:L,name:S,data:k,custom_type:N,operator_ids:D,message_survival_seconds:O}),r}return ne(t,n),t}(fn),jue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Rs(e,r),a.isCreated=r.is_created,a}return ne(t,n),t}(vn),C8=function(n){function t(e){var r=e.userId,a=e.channelUrls,o=n.call(this)||this;return o.method=hn.PUT,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),o.params={channel_urls:a},o}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var Kue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId,u=e.accessCode;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(_a,"/").concat(encodeURIComponent(a),"/join"),r.params={user_id:o,access_code:u},r}return ne(t,n),t}(fn),Wue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Rs(e,r),a}return ne(t,n),t}(vn),Que=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,u=a.data,h=u.member_count,f=h===void 0?null:h,m=u.joined_member_count,v=m===void 0?null:m,y=u.users,w=y===void 0?null:y;return o.memberCount=f,o.joinedMemberCount=v,o.members=Array.isArray(w)?w.map(function(x){return new eo(e,x)}):[new eo(e,a.data)],o}return ne(t,n),t}(hc),Yue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId,u=e.shouldRemoveOperatorStatus;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(_a,"/").concat(encodeURIComponent(a),"/leave"),r.params={user_id:o,should_remove_operator_status:u},r}return ne(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}ne(t,n)})(vn);var Xue=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,u=a.data,h=u.member_count,f=h===void 0?null:h,m=u.joined_member_count,v=m===void 0?null:m;return o.memberCount=f,o.joinedMemberCount=v,o.member=new eo(o._iid,a.data),o}return ne(t,n),t}(hc),Zue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userIds;return(r=n.call(this)||this).method=hn.POST,r.path="".concat(_a,"/").concat(encodeURIComponent(a),"/invite"),r.params={user_ids:o},r}return ne(t,n),t}(fn),Jue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Rs(e,r),a}return ne(t,n),t}(vn),ede=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,u=a.data,h=u.member_count,f=h===void 0?null:h,m=u.joined_member_count,v=m===void 0?null:m,y=u.inviter,w=y===void 0?null:y,x=u.invitees,C=x===void 0?[]:x;return o.memberCount=f,o.joinedMemberCount=v,o.inviter=w?new kt(e,w):null,o.invitees=C.map(function(A){return new eo(e,A)}),o}return ne(t,n),t}(hc),nde=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(_a,"/").concat(encodeURIComponent(a),"/decline"),r.params={user_id:o},r}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Rs(e,r),a.channel.myMemberState=Qr.NONE,a}ne(t,n)})(vn);var tde=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,u=a.data,h=u.member_count,f=h===void 0?null:h,m=u.joined_member_count,v=m===void 0?null:m,y=u.inviter,w=y===void 0?null:y,x=u.invitee,C=x===void 0?null:x;return o.memberCount=f,o.joinedMemberCount=v,o.inviter=w?new kt(e,w):null,o.invitee=C?new eo(e,C):null,o}return ne(t,n),t}(hc),rde=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return ne(t,n),t}(Wa),g9=function(n){function t(e,r,a){var o=n.call(this,e,"READ",a)||this;return o.readStatus=new f9(e,a),o}return ne(t,n),t}(or),ide=function(n){function t(e){var r=e.channelUrl,a=e.userId,o=n.call(this)||this;return(o=n.call(this)||this).method=hn.PUT,o.path="".concat(_a,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),o.params=at({userId:a}),o}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var zl,ade=function(n){function t(e,r,a){var o=n.call(this,e,"DLVR",a)||this;return o.channelUrl=a.channel_url,o.deliveredStateUpdate=a.updated,o}return ne(t,n),t}(or),sde=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId,u=e.hidePreviousMessages,h=e.allowAutoUnhide;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(_a,"/").concat(encodeURIComponent(a),"/hide"),r.params={user_id:o,hide_previous_messages:u,allow_auto_unhide:h},r}return ne(t,n),t}(fn),ode=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.messageOffsetTimestamp=null;var o=r.ts_message_offset;return a.messageOffsetTimestamp=o??null,a}return ne(t,n),t}(vn),lde=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.allowAutoUnhide=null,o.hidePreviousMessages=null,o.messageOffsetTimestamp=null,a.data&&(o.allowAutoUnhide=a.data.allow_auto_unhide,o.hidePreviousMessages=a.data.hide_previous_messages),o.messageOffsetTimestamp=a.ts_message_offset,o}return ne(t,n),t}(or),cde=function(n){function t(e){var r=e.channelUrl,a=e.time;return n.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:a}})||this}return ne(t,n),t}(Wa),ude=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new kt(e,a.data),o}return ne(t,n),t}(or),dde=function(n){function t(e){var r=e.channelUrl,a=e.time;return n.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:a}})||this}return ne(t,n),t}(Wa),hde=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new kt(e,a.data),o}return ne(t,n),t}(or),pde=function(n){function t(e){var r=e.channelUrl,a=e.messageId;return n.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:a}})||this}return ne(t,n),t}(Wa),b9=function(n){function t(e,r){var a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M,q,z=this;return(z=n.call(this,e,r)||this).includeEmpty=!1,z.includeFrozen=!0,z.includeMetaData=!0,z.channelUrlsFilter=null,z.customTypesFilter=null,z.customTypeStartsWithFilter=null,z.nicknameContainsFilter=null,z.nicknameStartsWithFilter=null,z.nicknameExactMatchFilter=null,z.channelNameContainsFilter="",z.myMemberStateFilter=Is.ALL,z.unreadChannelFilter=Rd.ALL,z.superChannelFilter=ds.ALL,z.publicChannelFilter=tc.ALL,z.hiddenChannelFilter=sl.UNHIDDEN,z.searchFilter={fields:[],query:null},z.userIdsFilter={userIds:[],includeMode:!0,queryType:mu.AND},z.metadataKey=null,z.metadataValues=null,z.metadataOrderKeyFilter=null,z.metadataValueStartsWith=null,z.order=li.LATEST_LAST_MESSAGE,z.includeEmpty=(a=r.includeEmpty)!==null&&a!==void 0&&a,z.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,z.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,z.channelUrlsFilter=(h=r.channelUrlsFilter)!==null&&h!==void 0?h:null,z.customTypesFilter=(f=r.customTypesFilter)!==null&&f!==void 0?f:null,z.customTypeStartsWithFilter=(m=r.customTypeStartsWithFilter)!==null&&m!==void 0?m:"",z.nicknameContainsFilter=(v=r.nicknameContainsFilter)!==null&&v!==void 0?v:null,z.nicknameStartsWithFilter=(y=r.nicknameStartsWithFilter)!==null&&y!==void 0?y:null,z.nicknameExactMatchFilter=(w=r.nicknameExactMatchFilter)!==null&&w!==void 0?w:null,z.channelNameContainsFilter=(x=r.channelNameContainsFilter)!==null&&x!==void 0?x:"",z.myMemberStateFilter=(C=r.myMemberStateFilter)!==null&&C!==void 0?C:Is.ALL,z.unreadChannelFilter=(A=r.unreadChannelFilter)!==null&&A!==void 0?A:Rd.ALL,z.superChannelFilter=(L=r.superChannelFilter)!==null&&L!==void 0?L:ds.ALL,z.publicChannelFilter=(S=r.publicChannelFilter)!==null&&S!==void 0?S:tc.ALL,z.hiddenChannelFilter=(k=r.hiddenChannelFilter)!==null&&k!==void 0?k:sl.UNHIDDEN,z.searchFilter=(N=r.searchFilter)!==null&&N!==void 0?N:{fields:[],query:null},z.userIdsFilter=(O=r.userIdsFilter)!==null&&O!==void 0?O:{userIds:[],includeMode:!0,queryType:mu.AND},z.metadataKey=(H=r.metadataKey)!==null&&H!==void 0?H:null,z.metadataValues=(D=r.metadataValues)!==null&&D!==void 0?D:null,z.metadataOrderKeyFilter=(T=r.metadataOrderKeyFilter)!==null&&T!==void 0?T:null,z.metadataValueStartsWith=(M=r.metadataValueStartsWith)!==null&&M!==void 0?M:null,z.order=(q=r.order)!==null&&q!==void 0?q:li.LATEST_LAST_MESSAGE,z}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&be("boolean",this.includeEmpty)&&be("boolean",this.includeFrozen)&&be("boolean",this.includeMetaData)&&be("string",this.channelNameContainsFilter)&&bt("string",this.channelUrlsFilter,!0)&&bt("string",this.customTypesFilter,!0)&&be("string",this.customTypeStartsWithFilter)&&be("string",this.nicknameContainsFilter,!0)&&be("string",this.nicknameStartsWithFilter,!0)&&be("string",this.nicknameExactMatchFilter,!0)&&_t(Is,this.myMemberStateFilter)&&_t(ds,this.superChannelFilter)&&_t(tc,this.publicChannelFilter)&&_t(Rd,this.unreadChannelFilter)&&_t(sl,this.hiddenChannelFilter)&&bt(v_,this.searchFilter.fields)&&be("string",this.searchFilter.query,!0)&&bt("string",this.userIdsFilter.userIds)&&be("boolean",this.userIdsFilter.includeMode)&&_t(mu,this.userIdsFilter.queryType)&&_t(li,this.order)&&be("string",this.metadataOrderKeyFilter,!0)&&be("string",this.metadataKey,!0)&&bt("string",this.metadataValues,!0)&&be("string",this.metadataValueStartsWith,!0)},t.prototype.serialize=function(){return R0(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,zr.of(this._iid).getMyGroupChannels(this._token,this,this.limit)]):[3,2]:[3,5];case 1:return e=o.sent(),r=e.channels,a=e.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(uc),Ql=function(){function n(t){var e=t.top,r=e===void 0?Number.MAX_SAFE_INTEGER:e,a=t.bottom,o=a===void 0?0:a;this.top=r,this.bottom=o}return n.prototype.includes=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.every(function(a){return t.top<=a&&a<=t.bottom})},n.prototype.overlap=function(t){return this.includes(t.top)||this.includes(t.bottom)},n.prototype.intersect=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.some(function(a){return t.top<=a&&a<=t.bottom})},n.prototype.extends=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.top=Math.min.apply(Math,nt([this.top],Qn(t),!1)),this.bottom=Math.max.apply(Math,nt([this.bottom],Qn(t),!1))},n}(),fde=function(n){function t(e,r,a){var o,u=this;return(u=n.call(this,e,"SYEV",a)||this).pinnedMessageIds=[],u.latestPinnedMessage=null,u.ts=0,a.data&&(u.pinnedMessageIds=(o=a.data.pinned_message_ids)!==null&&o!==void 0?o:[],u.latestPinnedMessage=a.data.latest_pinned_message?Ga(e,Ee({},a.data.latest_pinned_message)):null),u.ts=a.ts,u}return ne(t,n),t}(or),Lh={},zr=function(){function n(t,e){var r=e.sdkState,a=e.cacheContext,o=e.dispatcher,u=e.sessionManager,h=e.requestQueue,f=e.logger,m=e.disableMack,v=m!==void 0&&m,y=this;return this._leftChannels=new Map,this._disableMack=!1,this._markAsReadAllLastSentAt=0,Lh[t]||(this._iid=t,this._sdkState=r,this._sessionManager=u,this._requestQueue=h,this._dispatcher=o,this._logger=f,this._disableMack=v,this._groupChannelHandlers=new Map,this._groupChannelCache=new kue(this._iid,{sdkState:r,cacheContext:a}),this._unsentMessageCache=new Ak(this._iid,{sdkState:r,cacheContext:a}),this._messageCache=new QU(this._iid,{sdkState:r,cacheContext:a,unsentMessageCache:this._unsentMessageCache}),this._groupChannelBroadcast=new Iue({groupChannelCache:this._groupChannelCache,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o}),this._messageBroadcast=new Nue({cacheContext:a,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o,logger:f}),setInterval(function(){var w,x,C=function(S){S.invalidateTypingStatus()&&(y._dispatcher.dispatch(new Nt({channels:[S],source:et.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),y._groupChannelHandlers.forEach(function(k){k.onTypingStatusUpdated(S)}))};try{for(var A=kn(y._groupChannelCache.channels),L=A.next();!L.done;L=A.next())C(L.value)}catch(S){w={error:S}}finally{try{L&&!L.done&&(x=A.return)&&x.call(A)}finally{if(w)throw w.error}}},1e3),this._dispatcher.on(function(w){w instanceof or?y._handleEvent(w):w instanceof YU?F(y,void 0,void 0,function(){var x,C;return P(this,function(A){switch(A.label){case 0:return x=w.message,[4,this.getChannel(x.channelUrl,!0)];case 1:return C=A.sent(),x instanceof qi?C._autoResendUserMessage(x):x instanceof ri&&C._autoResendFileMessage(x),[2]}})}):w instanceof ZU&&y.reduceDBSize()}),Lh[t]=this),Lh[t]}return n.of=function(t){return Lh[t]},n.clear=function(t){Lh[t]&&delete Lh[t]},Object.defineProperty(n.prototype,"handlers",{get:function(){return nt([],Qn(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.buildGroupChannelFromSerializedData=function(t){var e=_u(t);return new Rs(this._iid,Rs.payloadify(e))},n.prototype.buildGroupChannelListQueryFromSerializedData=function(t){var e=_u(t);return new b9(this._iid,e)},n.prototype.buildMemberFromSerializedData=function(t){var e=_u(t);return new eo(this._iid,eo.payloadify(e))},n.prototype.getChannelFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.getChannelsFromCache=function(t,e,r,a,o){return F(this,void 0,void 0,function(){return P(this,function(u){switch(u.label){case 0:return[4,this._groupChannelCache.fetch({token:t,filter:e,order:r,limit:a,borderlineChannelUrl:o})];case 1:return[2,u.sent()]}})})},n.prototype.upsertChannelsToCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.upsert(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeChannelsFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.clearChannelsFromCache=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._groupChannelCache.clear()];case 1:return t.sent(),[2]}})})},n.prototype.reduceDBSize=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h,f,m,v,y,w,x,C;return P(this,function(A){switch(A.label){case 0:return t=Te.of(this._iid).cacheContext,e=t.localCacheConfig,r=t.nestdb,t.localCacheEnabled&&r&&r.state==tl.OPENED?(a=1024*e.maxSize*1024,[4,r.estimateUsage()]):[2];case 1:if((o=A.sent())<a)return[2];u=[],h=this._groupChannelCache.channels,f={},w=0,A.label=2;case 2:return w<h.length?[4,this.getMessagesFromCache(h[w].url,0,"prev",new S0)]:[3,5];case 3:m=A.sent(),f[h[w].url]=JSON.stringify(m).length,v=new dae({channel:h[w],cachedMessageCount:m.length}),u.push(v),A.label=4;case 4:return w++,[3,2];case 5:y=u.sort(e.clearOrderComparator),w=0,A.label=6;case 6:return w<y.length?[4,this._messageCache.removeMessagesOfChannel(y[w].channel.url)]:[3,10];case 7:return A.sent(),[4,this._messageCache._getGroupChannelPreferenceSize(y[w].channel.url)];case 8:if(x=A.sent(),C=f[y[w].channel.url]+x,(o-=C)<a)return[3,10];A.label=9;case 9:return w++,[3,6];case 10:return[2]}})})},n.prototype._handleEvent=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M,q,z,re,pe,B,Q,ie,j,me,ae,oe,ve,Re,ue,he,V,Y,$,te,Me,Ke,Oe,xe,Le,Fe,Je,en,un,_n,on,Hn,Vn,G,ee,yn,Cn,Xn,qn,$n,On,pt,Yn,wn,Tt,mt,jn,Mn,rn,ot,ht,wt,yt,hr,Zr,Or,Ya,qr,Qi,Ni,ce,le,ke,Ne,Pe,ge,He,Ve,Ue,nn,Ge,sn,Nn,it,je,Se,Ce,Ye,Kn,pn,Ln,cn,Zn,$t,Rn,vt,Ct,lr,jr,br,pr,Ft,mi,Mr,Ui,qt,hi,Ra,Dr,yl,pc,El,ai,fr,vi,fc,xi,wl,Do,Lo,Uo,Jr,Po,_c,Ot=this;return P(this,function(Wn){switch(Wn.label){case 0:switch(Wn.trys.push([0,78,,79]),t.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"PEDI":return[3,32];case"VOTE":return[3,34];case"SYEV":return[3,36];case"USEV":return[3,76]}return[3,77];case 1:return m=null,t.code==="MESG"?m=t.as(Ck):t.code==="FILE"?m=t.as(wk):t.code!=="ADMM"&&t.code!="BRDM"||(m=t.as(a9)),m?(e=m.message,r=m.isMentioned,a=m.forceUpdateLastMessage,e.channelType!==Zt.GROUP?[3,3]:(this._disableMack||oi(function(){return F(Ot,void 0,void 0,function(){var Xe;return P(this,function(qe){return Xe=new pde(e),this._requestQueue.send(Xe),[2]})})}),q=this._groupChannelCache.isCachedInMemory(e.channelUrl),x=e instanceof Ti&&e.sender.userId===this._sdkState.userId,[4,this.getChannel(e.channelUrl,!0)])):[3,3];case 2:if((o=Wn.sent()).hiddenState===oa.HIDDEN_ALLOW_AUTO_UNHIDE&&(o.hiddenState=oa.UNHIDDEN),e instanceof Ti){u=Te.of(this._iid).useMemberInfoInMessage;try{for(h=kn(o.members),f=h.next();!f.done;f=h.next())if((He=f.value).userId===e.sender.userId){u||(e.sender.nickname=He.nickname,e.sender.plainProfileUrl=He.plainProfileUrl,e.sender.metaData=He.metaData,e.sender.isBlockedByMe=He.isBlockedByMe);break}}catch(Xe){vi={error:Xe}}finally{try{f&&!f.done&&(fc=h.return)&&fc.call(h)}finally{if(vi)throw vi.error}}!u&&r&&e.mentionedUsers.forEach(function(Xe){var qe,Gn;try{for(var Jn=kn(o.members),Xt=Jn.next();!Xt.done;Xt=Jn.next()){var It=Xt.value;if(Xe.userId===It.userId){Xe.nickname=It.nickname,Xe.plainProfileUrl=It.plainProfileUrl,Xe.metaData=It.metaData;break}}}catch(Ma){qe={error:Ma}}finally{try{Xt&&!Xt.done&&(Gn=Jn.return)&&Gn.call(Jn)}finally{if(qe)throw qe.error}}}),x&&(A=this._sessionManager.currentUser)&&(A.nickname=e.sender.nickname,A.plainProfileUrl=e.sender.plainProfileUrl,A.metaData=e.sender.metaData)}e.silent&&!x||(o.isEphemeral||q)&&((!o.lastMessage||o.lastMessage.createdAt<e.createdAt)&&(o.lastMessage=e),x||o._updateUnreadCount(o.unreadMessageCount+1,o.unreadMentionCount+(r?1:0))),a&&(!o.lastMessage||o.lastMessage.createdAt<e.createdAt)&&(o.lastMessage=e),this._dispatcher.dispatch(new Nt({channels:[o],source:et.EVENT_MESSAGE_RECEIVED})),e.silent&&!x||Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onChannelChanged(o)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})}),this._dispatcher.dispatch(new ti({messages:[e],source:ut.EVENT_MESSAGE_RECEIVED})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn,Xt;return P(this,function(It){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())(Gn=qe.value).onMessageReceived(o,e),r&&Gn.onMentionReceived(o,e)}catch(Ma){Jn={error:Ma}}finally{try{qe&&!qe.done&&(Xt=Xe.return)&&Xt.call(Xe)}finally{if(Jn)throw Jn.error}}return[2]})})}),Wn.label=3;case 3:return[3,77];case 4:return m=null,t.code==="MEDI"?m=t.as(ub):t.code==="FEDI"?m=t.as(db):t.code==="AEDI"&&(m=t.as(s9)),m?(v=m.message,y=m.mentionCountChange,v.channelType!==Zt.GROUP?[3,6]:(q=this._groupChannelCache.isCachedInMemory(v.channelUrl),[4,this.getChannel(v.channelUrl,!0)])):[3,6];case 5:w=Wn.sent(),x=v instanceof Ti&&v.sender.userId===this._sdkState.userId,C=!1,x?(A=this._sessionManager.currentUser)&&(A.nickname=v.sender.nickname,A.plainProfileUrl=v.sender.plainProfileUrl,A.metaData=v.sender.metaData):w.isReadMessage(v)||y!==0&&!v.silent&&q&&(w._updateUnreadCount(w.unreadMessageCount,w.unreadMentionCount+y),C=!0),!w.lastMessage||w.lastMessage.createdAt<v.createdAt?(w.lastMessage=v,C=!0):w.lastMessage.isIdentical(v)&&(q?w.lastMessage.updatedAt<v.updatedAt&&(w.lastMessage=v,C=!0):C=!0),L=!1,w.lastPinnedMessage&&w.lastPinnedMessage.messageId===v.messageId&&(w.lastPinnedMessage=v,C=!0,L=!0),C&&(this._dispatcher.dispatch(new Nt({channels:[w],source:L?et.EVENT_PINNED_MESSAGE_UPDATED:et.EVENT_MESSAGE_UPDATED})),v.silent&&!x||Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onChannelChanged(w)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})}),L&&Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onPinnedMessageUpdated(w)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})})),this._dispatcher.dispatch(new ti({messages:[v],source:ut.EVENT_MESSAGE_UPDATED})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn,Xt;return P(this,function(It){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())(Gn=qe.value).onMessageUpdated(w,v),y!==0&&Gn.onMentionReceived(w,v)}catch(Ma){Jn={error:Ma}}finally{try{qe&&!qe.done&&(Xt=Xe.return)&&Xt.call(Xe)}finally{if(Jn)throw Jn.error}}return[2]})})}),Wn.label=6;case 6:return[3,77];case 7:return S=t.as(jU),Le=S.channelUrl,Fe=S.channelType,k=S.messageId,Fe!==Zt.GROUP?[3,9]:[4,this.getChannel(Le,!0)];case 8:N=Wn.sent(),this._dispatcher.dispatch(new gk({messageIds:[k],source:ut.EVENT_MESSAGE_DELETED})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onMessageDeleted(N,k)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})}),Wn.label=9;case 9:return[3,77];case 10:return(O=t.as(g9).readStatus).channelType!==Zt.GROUP?[3,12]:(q=this._groupChannelCache.isCachedInMemory(O.channelUrl),[4,this.getChannel(O.channelUrl,!0)]);case 11:H=Wn.sent(),q&&H._updateUnreadMemberState(O.reader.userId,O.readAt),O.reader.userId===this._sdkState.userId?q?(H.unreadMessageCount>0||H.unreadMentionCount>0)&&(H._updateUnreadCount(0,0),this._dispatcher.dispatch(new Nt({channels:[H],source:et.EVENT_CHANNEL_READ})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onChannelChanged(H)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})})):H.unreadMessageCount!==0&&H.unreadMentionCount!==0||(this._dispatcher.dispatch(new Nt({channels:[H],source:et.EVENT_CHANNEL_READ})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onChannelChanged(H)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})})):(this._dispatcher.dispatch(new Nt({channels:[H],source:et.EVENT_CHANNEL_READ})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onUnreadMemberStatusUpdated(H)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})})),Wn.label=12;case 12:return[3,77];case 13:return D=t.as(ade),Le=D.channelUrl,T=D.deliveredStateUpdate,M=T===void 0?{}:T,q=this._groupChannelCache.isCachedInMemory(Le),[4,this.getChannel(Le,!0)];case 14:if(z=Wn.sent(),q)for(re in M)z._updateUndeliveredMemberState(re,M[re]);return Object.keys(M).some(function(Xe){return Xe!==Ot._sdkState.userId})&&(this._dispatcher.dispatch(new Nt({channels:[z],source:et.EVENT_CHANNEL_DELIVERED})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onUndeliveredMemberStatusUpdated(z)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})})),[3,77];case 15:return pe=t.as(o9),Le=pe.channelUrl,Fe=pe.channelType,B=pe.event,Fe!==Zt.GROUP?[3,18]:[4,this.getChannel(Le,!0)];case 16:return Q=Wn.sent(),[4,this.getMessageFromCache(B.messageId)];case 17:(me=Wn.sent())&&(me.applyReactionEvent(B),this._dispatcher.dispatch(new ti({messages:[me],source:ut.EVENT_MESSAGE_REACTION_UPDATED}))),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onReactionUpdated(Q,B)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})}),Wn.label=18;case 18:return[3,77];case 19:return(ie=t.as(l9).event).channelType!==Zt.GROUP?[3,22]:[4,this.getChannel(ie.channelUrl,!0)];case 20:return j=Wn.sent(),[4,this.getMessageFromCache(ie.targetMessageId)];case 21:(me=Wn.sent())&&(me.applyThreadInfoUpdateEvent(ie),this._dispatcher.dispatch(new ti({messages:[me],source:ut.EVENT_MESSAGE_THREADINFO_UPDATED}))),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onThreadInfoUpdated(j,ie)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})}),Wn.label=22;case 22:return[3,77];case 23:ae=t.as(i9).groupChannelMemberCounts,oe=[],Wn.label=24;case 24:Wn.trys.push([24,29,30,31]),ve=kn(ae),Re=ve.next(),Wn.label=25;case 25:return Re.done?[3,28]:(ue=Re.value,Le=ue.channelUrl,Zr=ue.memberCount,Or=ue.joinedMemberCount,he=ue.updatedAt,[4,this.getChannelFromCache(Le)]);case 26:(V=Wn.sent())&&V._setLatestMemberCount(Zr,Or,he)&&oe.push(V),Wn.label=27;case 27:return Re=ve.next(),[3,25];case 28:return[3,31];case 29:return Y=Wn.sent(),xi={error:Y},[3,31];case 30:try{Re&&!Re.done&&(wl=ve.return)&&wl.call(ve)}finally{if(xi)throw xi.error}return[7];case 31:return oe.length>0&&(this._dispatcher.dispatch(new Nt({channels:oe,source:et.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onChannelMemberCountChanged(oe)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})})),[3,77];case 32:return $=t.as(c9),te=$.event,Me=$.status,Le=$.channelUrl,Fe=$.channelType,Le&&Fe?[4,this.getChannel(Le,!0)]:[3,77];case 33:return Ke=Wn.sent(),this._dispatcher.dispatch(new bk({event:te,source:ut.EVENT_POLL_UPDATED})),Bn(Me===yU?function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onPollDeleted(Ke,te.pollId)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})}:function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onPollUpdated(Ke,te)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})}),[3,77];case 34:return Oe=t.as(Ik),xe=Oe.event,Le=Oe.channelUrl,Fe=Oe.channelType,Le&&Fe?[4,this.getChannel(Le,!0)]:[3,77];case 35:return Je=Wn.sent(),this._dispatcher.dispatch(new Wb({event:xe,source:ut.EVENT_POLL_VOTED})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onPollVoted(Je,xe)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})}),[3,77];case 36:if(!(en=t.as(hc).event).isGroupChannelEvent)return[3,75];switch(en.category){case Kt.CHANNEL_JOIN:return[3,37];case Kt.CHANNEL_LEAVE:return[3,39];case Kt.CHANNEL_OPERATOR_UPDATE:return[3,43];case Kt.CHANNEL_INVITE:return[3,45];case Kt.CHANNEL_DECLINE_INVITE:return[3,47];case Kt.TYPING_START:case Kt.TYPING_END:return[3,49];case Kt.USER_CHANNEL_MUTE:case Kt.USER_CHANNEL_UNMUTE:return[3,51];case Kt.USER_CHANNEL_BAN:return[3,53];case Kt.USER_CHANNEL_UNBAN:return[3,57];case Kt.CHANNEL_FREEZE:case Kt.CHANNEL_UNFREEZE:return[3,59];case Kt.CHANNEL_HIDE:return[3,61];case Kt.CHANNEL_UNHIDE:return[3,63];case Kt.CHANNEL_DELETED:return[3,65];case Kt.CHANNEL_PROP_CHANGED:return[3,67];case Kt.CHANNEL_META_DATA_CHANGED:return[3,69];case Kt.CHANNEL_META_COUNTERS_CHANGED:return[3,71];case Kt.PINNED_MESSAGE_CHANGED:return[3,73]}return[3,75];case 37:return[4,this.getChannel(en.channelUrl,!0)];case 38:return un=Wn.sent(),_n=t.as(Que),on=_n.memberCount,Hn=_n.joinedMemberCount,Vn=_n.members,G=!1,Vn.forEach(function(Xe){un.isExclusive||un.isSuper||un.isBroadcast?G=G||un._setLatestMemberCount(on,Hn,en.ts):(Xe.state=Qr.JOINED,un.addMember(Xe,en.ts),Ot._updateJoinedMemberCount(un)),Xe.userId===Ot._sdkState.userId&&(un.myMemberState=Qr.JOINED)}),this._dispatcher.dispatch(new Nt({channels:[un],source:et.EVENT_CHANNEL_JOINED})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){var Gn,Jn;try{for(var Xt=kn(Vn),It=Xt.next();!It.done;It=Xt.next()){var Ma=It.value;qe.onUserJoined(un,Ma)}}catch(mc){Gn={error:mc}}finally{try{It&&!It.done&&(Jn=Xt.return)&&Jn.call(Xt)}finally{if(Gn)throw Gn.error}}un.isBroadcast&&G&&qe.onChannelMemberCountChanged([un])}),[2]})})}),[3,75];case 39:return(Ve=this._leftChannels.get(en.channelUrl))?(yn=Ve.channel,[3,42]):[3,40];case 40:return[4,this.getChannel(en.channelUrl,!0)];case 41:yn=Wn.sent(),Wn.label=42;case 42:return ee=yn,Cn=t.as(Xue),Zr=Cn.memberCount,Or=Cn.joinedMemberCount,Xn=Cn.member,qn=!1,$n=Te.of(this._iid).appInfo,ee.isExclusive||ee.isSuper||ee.isBroadcast?qn=ee._setLatestMemberCount(Zr,Or,en.ts):($n.enabledChannelMemberShipHistory?(ee.members.find(function(Xe){return Xe.userId===Xn.userId}).state=Qr.LEFT,ee.memberCount=Zr):ee.removeMember(Xn),this._updateJoinedMemberCount(ee)),Xn.userId===this._sdkState.userId?(ee.myMemberState=Qr.NONE,ee.invitedAt=0,ee.joinedAt=0,ee._updateUnreadCount(0,0),ee.isPublic?this._dispatcher.dispatch(new Nt({channels:[ee],source:et.EVENT_CHANNEL_LEFT})):(this._markAsLeave(ee),this._dispatcher.dispatch(new ud({channelUrls:[ee.url],source:et.EVENT_CHANNEL_LEFT})))):this._dispatcher.dispatch(new Nt({channels:[ee],source:et.EVENT_CHANNEL_LEFT})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onUserLeft(ee,Xn),ee.isBroadcast&&qn&&qe.onChannelMemberCountChanged([ee])}),[2]})})}),[3,75];case 43:return[4,this.getChannel(en.channelUrl,!0)];case 44:On=Wn.sent(),pt=t.as(r9).operators,Yn=pt.map(function(Xe){return Xe.userId});try{for(wn=kn(On.members),Tt=wn.next();!Tt.done;Tt=wn.next())(He=Tt.value).role=Yn.includes(He.userId)?Js.OPERATOR:Js.NONE}catch(Xe){Do={error:Xe}}finally{try{Tt&&!Tt.done&&(Lo=wn.return)&&Lo.call(wn)}finally{if(Do)throw Do.error}}return On.myRole=Yn.includes(this._sdkState.userId)?Js.OPERATOR:Js.NONE,this._dispatcher.dispatch(new Nt({channels:[On],source:et.EVENT_CHANNEL_OPERATOR_UPDATED})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onOperatorUpdated(On,pt)}),[2]})})}),[3,75];case 45:return[4,this.getChannel(en.channelUrl,!0)];case 46:mt=Wn.sent(),jn=t.as(ede),Zr=jn.memberCount,Or=jn.joinedMemberCount,Mn=jn.inviter,(rn=jn.invitees).forEach(function(Xe){return Xe.state=Qr.INVITED});try{for(ot=kn(rn),ht=ot.next();!ht.done;ht=ot.next())wt=ht.value,mt.isExclusive||mt.isSuper||mt.isBroadcast?mt._setLatestMemberCount(Zr,Or,en.ts):mt.addMember(wt,en.ts),this._sdkState.userId===wt.userId&&(mt.hiddenState=oa.UNHIDDEN,mt.myMemberState!==Qr.JOINED&&(mt.myMemberState=Qr.INVITED),mt.invitedAt=en.ts)}catch(Xe){Uo={error:Xe}}finally{try{ht&&!ht.done&&(Jr=ot.return)&&Jr.call(ot)}finally{if(Uo)throw Uo.error}}return this._dispatcher.dispatch(new Nt({channels:[mt],source:et.EVENT_CHANNEL_INVITED})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onUserReceivedInvitation(mt,Mn,rn)}),[2]})})}),[3,75];case 47:return[4,this.getChannel(en.channelUrl,!0)];case 48:return yt=Wn.sent(),hr=t.as(tde),Zr=hr.memberCount,Or=hr.joinedMemberCount,Ya=hr.inviter,qr=hr.invitee,yt.isExclusive||yt.isSuper||yt.isBroadcast?yt._setLatestMemberCount(Zr,Or,en.ts):yt.removeMember(qr),this._sdkState.userId===qr.userId?(yt.invitedAt=0,yt.myMemberState=Qr.NONE,yt.isPublic?this._dispatcher.dispatch(new Nt({channels:[yt],source:et.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new ud({channelUrls:[yt.url],source:et.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new Nt({channels:[yt],source:et.EVENT_CHANNEL_DECLINED_INVITE})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onUserDeclinedInvitation(yt,Ya,qr)}),[2]})})}),[3,75];case 49:return[4,this.getChannel(en.channelUrl,!0)];case 50:return Qi=Wn.sent(),Ni=en.category===Kt.TYPING_START,ce=t.as(Ni?ude:hde).user,Qi._updateTypingStatus(ce,Ni?en.ts:0),this._dispatcher.dispatch(new Nt({channels:[Qi],source:et.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onTypingStatusUpdated(Qi)}),[2]})})}),[3,75];case 51:return[4,this.getChannel(en.channelUrl,!0)];case 52:le=Wn.sent(),ke=en.category===Kt.USER_CHANNEL_MUTE,(Ne=t.as(ke?$U:zU).user).userId===this._sdkState.userId&&(le.myMutedState=ke?ol.MUTED:ol.UNMUTED,le._myMutedRemainingTime=Ne.restrictionInfo.remainingDuration);try{for(Pe=kn(le.members),ge=Pe.next();!ge.done;ge=Pe.next())if((He=ge.value).userId===Ne.userId){He.isMuted=ke;break}}catch(Xe){Po={error:Xe}}finally{try{ge&&!ge.done&&(_c=Pe.return)&&_c.call(Pe)}finally{if(Po)throw Po.error}}return this._dispatcher.dispatch(new Nt({channels:[le],source:ke?et.EVENT_CHANNEL_MUTED:et.EVENT_CHANNEL_UNMUTED,data:Ne.userId})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){ke?qe.onUserMuted(le,Ne):qe.onUserUnmuted(le,Ne)}),[2]})})}),[3,75];case 53:return(Ve=this._leftChannels.get(en.channelUrl))?(nn=Ve.channel,[3,56]):[3,54];case 54:return[4,this.getChannel(en.channelUrl,!0)];case 55:nn=Wn.sent(),Wn.label=56;case 56:return Ue=nn,this._markAsLeave(Ue),Ge=t.as(VU).user,Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onUserBanned(Ue,Ge)}),[2]})})}),[3,75];case 57:return[4,this.getChannel(en.channelUrl,!0)];case 58:return sn=Wn.sent(),Nn=t.as(GU).user,Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onUserUnbanned(sn,Nn)}),[2]})})}),[3,75];case 59:return[4,this.getChannel(en.channelUrl,!0)];case 60:return it=Wn.sent(),je=t.as(qU).freeze,it.isFrozen=je,this._dispatcher.dispatch(new Nt({channels:[it],source:je?et.EVENT_CHANNEL_FROZEN:et.EVENT_CHANNEL_UNFROZEN})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){je?qe.onChannelFrozen(it):qe.onChannelUnfrozen(it)}),[2]})})}),[3,75];case 61:return[4,this.getChannel(en.channelUrl,!0)];case 62:return Se=Wn.sent(),Ce=t.as(lde),Ye=Ce.allowAutoUnhide,Kn=Ce.hidePreviousMessages,pn=Ce.messageOffsetTimestamp,Ye!==null&&(Se.hiddenState=Ye?oa.HIDDEN_ALLOW_AUTO_UNHIDE:oa.HIDDEN_PREVENT_AUTO_UNHIDE),Kn!==null&&Kn&&Se._updateUnreadCount(0,0),pn!==null&&(Se.messageOffsetTimestamp=pn),this._dispatcher.dispatch(new Nt({channels:[Se],source:et.EVENT_CHANNEL_HIDDEN})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onChannelHidden(Se)}),[2]})})}),[3,75];case 63:return[4,this.getChannel(en.channelUrl,!0)];case 64:return(Ln=Wn.sent()).hiddenState=oa.UNHIDDEN,this._dispatcher.dispatch(new Nt({channels:[Ln],source:et.EVENT_CHANNEL_UNHIDDEN})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onChannelChanged(Ln)}),[2]})})}),[3,75];case 65:return[4,this.getChannel(en.channelUrl,!0)];case 66:return cn=Wn.sent(),this._dispatcher.dispatch(new ud({channelUrls:[en.channelUrl],source:et.EVENT_CHANNEL_DELETED})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onChannelDeleted(cn.url,cn.channelType)}),[2]})})}),[3,75];case 67:return[4,this.getChannelWithoutCache(en.channelUrl,!0)];case 68:return Zn=Wn.sent(),this._dispatcher.dispatch(new Nt({channels:[Zn],source:et.EVENT_CHANNEL_UPDATED})),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onChannelChanged(Zn)}),[2]})})}),[3,75];case 69:return[4,this.getChannel(en.channelUrl,!0)];case 70:return $t=Wn.sent(),Rn=t.as(HU),vt=Rn.created,Ct=Rn.updated,lr=Rn.deleted,vt&&$t._upsertCachedMetaData(vt,en.ts),Ct&&$t._upsertCachedMetaData(Ct,en.ts),lr&&$t._removeFromCachedMetaData(lr,en.ts),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){vt&&qe.onMetaDataCreated($t,vt),Ct&&qe.onMetaDataUpdated($t,Ct),lr&&qe.onMetaDataDeleted($t,lr)}),[2]})})}),[3,75];case 71:return[4,this.getChannel(en.channelUrl,!0)];case 72:return jr=Wn.sent(),br=t.as(BU),pr=br.created,Ft=br.updated,mi=br.deleted,Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){pr&&qe.onMetaCounterCreated(jr,pr),Ft&&qe.onMetaCounterUpdated(jr,Ft),mi&&qe.onMetaCounterDeleted(jr,mi)}),[2]})})}),[3,75];case 73:return[4,this.getChannel(en.channelUrl,!0)];case 74:return Mr=Wn.sent(),Ui=t.as(fde),qt=Ui.pinnedMessageIds,hi=Ui.latestPinnedMessage,(Ra=Ui.ts)>Mr._pinnedMessagesUpdatedAt&&(Mr.pinnedMessageIds=qt,Mr.lastPinnedMessage=hi,Mr._pinnedMessagesUpdatedAt=Ra,this._dispatcher.dispatch(new Nt({channels:[Mr],source:et.EVENT_PINNED_MESSAGE_UPDATED})),Bn(function(){return F(Ot,void 0,void 0,function(){var Xe,qe,Gn,Jn;return P(this,function(Xt){try{for(Xe=kn(this._groupChannelHandlers.values()),qe=Xe.next();!qe.done;qe=Xe.next())qe.value.onChannelChanged(Mr)}catch(It){Gn={error:It}}finally{try{qe&&!qe.done&&(Jn=Xe.return)&&Jn.call(Xe)}finally{if(Gn)throw Gn.error}}return[2]})})}),Bn(function(){return F(Ot,void 0,void 0,function(){return P(this,function(Xe){return this._groupChannelHandlers.forEach(function(qe){qe.onPinnedMessageUpdated(Mr)}),[2]})})})),[3,75];case 75:return[3,77];case 76:switch((Dr=t.as(JU).event).category){case m_.USER_BLOCK:yl=hb.getDataAsUserBlockEvent(this._iid,Dr),El=yl.blocker,ai=yl.blockee,this._groupChannelCache.block(El.userId,ai.userId);break;case m_.USER_UNBLOCK:pc=hb.getDataAsUserBlockEvent(this._iid,Dr),El=pc.blocker,ai=pc.blockee,this._groupChannelCache.unblock(El.userId,ai.userId)}return[3,77];case 77:return[3,79];case 78:if(fr=Wn.sent(),cl(fr))throw fr;return[3,79];case 79:return[2]}})})},n.prototype._markAsLeave=function(t){var e,r=this,a=(e=this._leftChannels.get(t.url))!==null&&e!==void 0?e:{channel:t,ref:0};a.ref++,this._leftChannels.set(t.url,a),setTimeout(function(){a.ref--,a.ref===0&&r._leftChannels.delete(t.url)},1e4)},n.prototype.addHandler=function(t,e){this._groupChannelHandlers.set(t,e)},n.prototype.removeHandler=function(t){this._groupChannelHandlers.delete(t)},n.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},n.prototype.subscribeGroupChannelEvent=function(t,e){this._groupChannelBroadcast.subscribe(t,e)},n.prototype.unsubscribeGroupChannelEvent=function(t){this._groupChannelBroadcast.unsubscribe(t)},n.prototype.subscribeMessageEvent=function(t,e){this._messageBroadcast.subscribe(t,e)},n.prototype.unsubscribeMessageEvent=function(t){this._messageBroadcast.unsubscribe(t)},n.prototype._updateJoinedMemberCount=function(t){t.joinedMemberCount=t.members.filter(function(e){return e.state===Qr.JOINED}).length},n.prototype.getChannel=function(t,e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:mn(be("string",t)).throw(De.invalidParameters),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.getChannelFromCache(t)];case 2:return(r=a.sent())?[2,r]:[3,4];case 3:return a.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(t,e)];case 5:return[2,a.sent()]}})})},n.prototype.getChannelWithoutCache=function(t,e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return mn(be("string",t)).throw(De.invalidParameters),r=new Nx({channelUrl:t,isInternalCall:e}),[4,this._requestQueue.send(r)];case 1:switch(a=f.sent(),o=a.as(Ax).channel,u=o.unreadMessageCount,h=o.unreadMentionCount,o.myCountPreference){case ks.UNREAD_MESSAGE_COUNT_ONLY:h=0;break;case ks.UNREAD_MENTION_COUNT_ONLY:u=0;break;case ks.OFF:u=0,h=0}return o._updateUnreadCount(u,h),[4,this.upsertChannelsToCache([o])];case 2:return f.sent(),[2,o]}})})},n.prototype.refreshChannel=function(t,e,r){return e===void 0&&(e=!0),r===void 0&&(r=et.REFRESH_CHANNEL),F(this,void 0,void 0,function(){var a,o,u,h;return P(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),a=new Nx({channelUrl:t,isInternalCall:e}),[4,this._requestQueue.send(a)];case 1:return o=f.sent(),(u=o.as(Ax).channel).myMemberState===Qr.NONE?this._dispatcher.dispatch(new ud({channelUrls:[u.url],source:r})):this._dispatcher.dispatch(new Nt({channels:[u],source:r})),[3,3];case 2:return(h=f.sent()).code!==xt.NON_AUTHORIZED&&h.code!==xt.NOT_FOUND_IN_DATABASE||this._dispatcher.dispatch(new ud({channelUrls:[t],source:r})),[3,3];case 3:return[2]}})})},n.prototype.getMyGroupChannels=function(t,e,r,a){return a===void 0&&(a=et.REQUEST_CHANNEL),F(this,void 0,void 0,function(){var o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return o=new Rue(Ee(Ee({},e),{userId:this._sdkState.userId,token:t,limit:r})),[4,this._requestQueue.send(o)];case 1:return u=v.sent(),h=u.as(Mue),f=h.channels,m=h.token,this._dispatcher.dispatch(new Nt({channels:f,source:a})),[2,{channels:f,token:m}]}})})},n.prototype.getMessageFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._messageCache.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.getMessagesFromCache=function(t,e,r,a,o){return o===void 0&&(o=cb),F(this,void 0,void 0,function(){return P(this,function(u){switch(u.label){case 0:return[4,this._messageCache.fetch({channelUrl:t,token:e,limit:o,filter:a,backward:r==="next"})];case 1:return[2,u.sent()]}})})},n.prototype.getPollMessagesFromCache=function(t,e,r,a){return a===void 0&&(a=cb),F(this,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,this._messageCache.fetch({channelUrl:t,token:e,limit:a,filter:r,backward:!1,isPollOnly:!0})];case 1:return[2,o.sent()]}})})},n.prototype.getUnsentMessagesFromCache=function(t,e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:t,filter:e})];case 1:return[2,r.sent()]}})})},n.prototype.removeFailedMessageFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._unsentMessageCache.remove([t])];case 1:return e.sent(),[2]}})})},n.prototype.getCachedMessageCountBetween=function(t,e,r,a){return F(this,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,this._messageCache.countBetween(t,e,new Ql({top:r,bottom:a}))];case 1:return[2,o.sent()]}})})},n.prototype.getMyGroupChannelChangeLogs=function(t,e,r){return r===void 0&&(r=et.REQUEST_CHANNEL_CHANGELOGS),F(this,void 0,void 0,function(){var a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return a=Ee(Ee({},fb),e),mn((be("string",t)||be("number",t))&&Ix(a)).throw(De.invalidParameters),o=new Aue(at({userId:this._sdkState.userId,ts:typeof t=="number"?t:null,token:typeof t=="string"?t:null,filter:a})),[4,this._requestQueue.send(o)];case 1:return u=y.sent(),h=u.as(Oue),f=h.updatedChannels,m=h.deletedChannelUrls,v=h.hasMore,f.length>0&&this._dispatcher.dispatch(new Nt({channels:f,source:r})),m.length>0&&this._dispatcher.dispatch(new ud({channelUrls:m,source:r})),[2,{updatedChannels:f,deletedChannelUrls:m,hasMore:v,token:h.token}]}})})},n.prototype.getGroupChannelCount=function(t){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return e=Ee(Ee({},m9),t),mn(v9(e)).throw(De.invalidParameters),r=new Due({userId:this._sdkState.userId,filter:e}),[4,this._requestQueue.send(r)];case 1:return a=o.sent(),[2,a.as(Lue).groupChannelCount]}})})},n.prototype.getUnreadItemCount=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w,x,C,A,L,S;return P(this,function(k){switch(k.label){case 0:return e=Ee(Ee({},Sue),t),mn(function(N){return bt(yi,N.keys)}(e)).throw(De.invalidParameters),r=Te.of(this._iid),a=r.sdkState,o=r.requestQueue,u=new Uue({userId:a.userId,filter:e}),[4,o.send(u)];case 1:return h=k.sent(),f=h.as(Pue),m=f.groupChannelUnreadMentionCount,v=f.groupChannelUnreadMessageCount,y=f.groupChannelInvitationCount,w=f.superGroupChannelUnreadMentionCount,x=f.superGroupChannelUnreadMessageCount,C=f.superGroupChannelInvitationCount,A=f.nonSuperGroupChannelUnreadMentionCount,L=f.nonSuperGroupChannelUnreadMessageCount,S=f.nonSuperGroupChannelInvitationCount,[2,at({groupChannelUnreadMentionCount:m,groupChannelUnreadMessageCount:v,groupChannelInvitationCount:y,superGroupChannelUnreadMentionCount:w,superGroupChannelUnreadMessageCount:x,superGroupChannelInvitationCount:C,nonSuperGroupChannelUnreadMentionCount:A,nonSuperGroupChannelUnreadMessageCount:L,nonSuperGroupChannelInvitationCount:S})]}})})},n.prototype.getTotalUnreadChannelCount=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(u){switch(u.label){case 0:return t=Te.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Fue({userId:e.userId}),[4,r.send(a)];case 1:return o=u.sent(),[2,o.as(Hue).unreadCount]}})})},n.prototype.getTotalUnreadMessageCount=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return e=Ee(Ee({},Tue),t),mn(function(m){return bt("string",m.channelCustomTypesFilter,!0)&&_t(ds,m.superChannelFilter)}(e)).throw(De.invalidParameters),r=Te.of(this._iid),a=r.sdkState,o=r.requestQueue,u=new Bue({userId:a.userId,filter:e}),[4,o.send(u)];case 1:return h=f.sent(),[2,h.as($ue).unreadCount]}})})},n.prototype.getTotalScheduledMessageCount=function(t){return t===void 0&&(t={}),F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return e=Ee(Ee({},Cue),t),mn(function(h){return be("string",h.channelUrl,!0)&&bt(eu,h.scheduledStatus,!0)&&_t(ji,h.messageTypeFilter)}(e)).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new zue(e),[4,r.send(a)];case 1:return o=u.sent(),[2,o.as(Vue).count]}})})},n.prototype.getSubscribedTotalUnreadMessageCount=function(){var t=Te.of(this._iid).subscribedUnreadMessageCount;return t.all>=0?t.all:0},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var t=0,e=Te.of(this._iid).subscribedUnreadMessageCount;for(var r in e.customTypes)t+=e.customTypes[r];return t},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(t){var e;return(e=Te.of(this._iid).subscribedUnreadMessageCount.customTypes[t])!==null&&e!==void 0?e:0},n.prototype.createChannel=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return e=Ee(Ee({},wg),t),mn(Cx(e)).throw(De.invalidParameters),e.isPublic||(e.accessCode=null),r=new que(Ee({userId:this._sdkState.userId},e)),[4,this._requestQueue.send(r)];case 1:return a=u.sent(),o=a.as(jue).channel,[4,this.upsertChannelsToCache([o])];case 2:return u.sent(),[2,o]}})})},n.prototype.markAsReadAll=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return t=Date.now(),mn(t-this._markAsReadAllLastSentAt>=1e3).throw(De.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,e=new C8({userId:this._sdkState.userId}),[4,this._requestQueue.send(e)];case 1:m.sent(),r=this._groupChannelCache.channels;try{for(a=kn(r),o=a.next();!o.done;o=a.next())(u=o.value)._updateUnreadMemberState(this._sdkState.userId,t),u._updateUnreadCount(0,0)}catch(v){h={error:v}}finally{try{o&&!o.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error}}return r.length>0?[4,this.upsertChannelsToCache(r)]:[3,3];case 2:m.sent(),m.label=3;case 3:return[2]}})})},n.prototype.markAsReadWithChannelUrls=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return e=Date.now(),mn(bt("string",t)&&e-this._markAsReadAllLastSentAt>=1e3).throw(De.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=e,r=new C8({userId:this._sdkState.userId,channelUrls:t}),[4,this._requestQueue.send(r)];case 1:y.sent(),a=this._groupChannelCache.channels,o=[];try{for(u=kn(a),h=u.next();!h.done;h=u.next())f=h.value,t.includes(f.url)&&(f._updateUnreadMemberState(this._sdkState.userId,e),f._updateUnreadCount(0,0),o.push(f))}catch(w){m={error:w}}finally{try{h&&!h.done&&(v=u.return)&&v.call(u)}finally{if(m)throw m.error}}return o.length>0?[4,this.upsertChannelsToCache(o)]:[3,3];case 2:y.sent(),y.label=3;case 3:return[2]}})})},n.prototype.markAsDelivered=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this.getChannel(t)];case 1:return[4,e.sent().markAsDelivered()];case 2:return e.sent(),[2]}})})},n}();(function(n){n[n.IDLE=0]="IDLE",n[n.RUNNING=1]="RUNNING",n[n.END=2]="END"})(zl||(zl={}));var Ox,yu=function(n){function t(e,r,a,o){var u=n.call(this)||this;return u._worker=null,u._state=zl.IDLE,u._semaphore=null,u._retryCount=0,u._retryLimit=3,u.priority=0,u._worker=r,u}return ne(t,n),Object.defineProperty(t.prototype,"isIdle",{get:function(){return this._state===zl.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._state===zl.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDone",{get:function(){return this._state===zl.END},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),t.prototype._run=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:if(!this.isRunning)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._worker(e)];case 2:return r=o.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return a=o.sent(),this.dispatch("error",a),this._retryCount<this._retryLimit?(this._retryCount++,this._run(e)):this.stop(),[3,4];case 4:return[2]}})})},t.prototype.start=function(e){this.isIdle&&(this._state=zl.RUNNING,this._run(e))},t.prototype.stop=function(){this._state=zl.IDLE,this.dispatch("stop")},t.prototype.end=function(){this._state=zl.END,this.dispatch("end")},t}(Wd),$f=function(n){this.source=n},Uh=function(n){this.source=n},_o={},_de=function(){function n(t){var e=t._iid,r=t.channel,a=t.limit,o=a===void 0?100:a,u=this;this._prevSync=null,this._nextSync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=e,this._channel=r,this._limit=o,this._prevSyncLoopCount=0,this._nextSyncLoopCount=0;var h,f,m=Te.of(this._iid),v=m.sdkState,y=m.dispatcher,w=m.logger;this._metadataKey=(h=v.userId,f=r.url,"sendbird:".concat(h,"@groupchannel/").concat(f,"/message/sync.meta"));var x=function(C,A){return"sendbird:".concat(C,"@groupchannel/").concat(A,"/message/sync")}(v.userId,r.url);this._prevSync=new yu(x,function(C){return F(u,void 0,void 0,function(){var A,L,S,k,N,O,H;return P(this,function(D){switch(D.label){case 0:return A={hasNext:!0,nextToken:0},this._prevSyncLoopCount++,[4,this.loadMetadata(C)];case 1:if(D.sent(),w.debug("message background prev sync from",(O=this._metadata)===null||O===void 0?void 0:O.range.top),this._metadata.previousComplete)return[3,9];D.label=2;case 2:return D.trys.push([2,5,,8]),[4,Di.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,!((H=this._metadata.range)===null||H===void 0)&&H.top?this._metadata.range.top:C,{prevResultSize:this._limit,nextResultSize:0,replyType:Aa.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},ut.SYNC_MESSAGE_BACKGROUND)];case 3:return(L=D.sent()).length>0&&(S=L.map(function(T){return T.createdAt}),(N=this._metadata.range).intersect.apply(N,nt([],Qn(S),!1))?this.extendRange(L):this._metadata={range:new Ql({top:Math.min.apply(Math,nt([],Qn(S),!1)),bottom:Math.max.apply(Math,nt([],Qn(S),!1))}),previousComplete:!1}),A.hasNext=L.length>=this._limit&&this._prevSyncLoopCount<1,A.nextToken=this._metadata.range.top,this._metadata.previousComplete=L.length<this._limit,w.debug("message background prev sync progress",A),[4,this.saveMetadata()];case 4:return D.sent(),[3,8];case 5:return k=D.sent(),w.debug("message background prev sync error",k),k instanceof De&&k.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:D.sent(),D.label=7;case 7:throw k;case 8:return[3,10];case 9:A.hasNext=!1,D.label=10;case 10:return[2,A]}})})}),this._nextSync=new yu(x,function(C){return F(u,void 0,void 0,function(){var A,L,S,k,N,O,H;return P(this,function(D){switch(D.label){case 0:return A={hasNext:!0,nextToken:0},this._nextSyncLoopCount++,[4,this.loadMetadata(C)];case 1:D.sent(),w.debug("message background next sync from",(O=this._metadata)===null||O===void 0?void 0:O.range.bottom),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Di.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,!((H=this._metadata.range)===null||H===void 0)&&H.bottom?this._metadata.range.bottom:C,{prevResultSize:0,nextResultSize:this._limit,replyType:Aa.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},ut.SYNC_MESSAGE_BACKGROUND)];case 3:return(L=D.sent()).length>0&&(S=L.map(function(T){return T.createdAt}),(N=this._metadata.range).intersect.apply(N,nt([],Qn(S),!1))?this.extendRange(L):this._metadata={range:new Ql({top:Math.min.apply(Math,nt([],Qn(S),!1)),bottom:Math.max.apply(Math,nt([],Qn(S),!1))}),previousComplete:!1}),A.hasNext=L.length>=this._limit&&this._nextSyncLoopCount<1,A.nextToken=this._metadata.range.bottom,w.debug("message background next sync progress",A),[4,this.saveMetadata()];case 4:return D.sent(),[3,6];case 5:throw k=D.sent(),w.debug("message background next sync error",k),k;case 6:return[2,A]}})})}),this._connectionEventContext=y.on(function(C){C instanceof hs&&(C.stateType===Vt.CONNECTED?u.resume():u.pause())})}return n.of=function(t,e){return _o[t]||(_o[t]={}),_o[t][e.url]||(_o[t][e.url]=new n({_iid:t,channel:e})),_o[t][e.url].ref++,_o[t][e.url]},n.clear=function(t,e){_o[t]&&_o[t][e]&&(_o[t][e].close(),delete _o[t])},Object.defineProperty(n.prototype,"range",{get:function(){var t;return(t=this._metadata)===null||t===void 0?void 0:t.range},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousComplete",{get:function(){var t;return!!(!((t=this._metadata)===null||t===void 0)&&t.previousComplete)},enumerable:!1,configurable:!0}),n.prototype.isWrappingMessages=function(t){var e;return(e=this.range)===null||e===void 0?void 0:e.includes.apply(e,nt([],Qn(t.map(function(r){return r.createdAt})),!1))},n.prototype.extendRange=function(t){var e;this._metadata&&(e=this._metadata.range).extends.apply(e,nt([],Qn(t.map(function(r){return r.createdAt})),!1))},n.prototype.loadMetadata=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this._metadata?[3,2]:[4,Te.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:(e=r.sent())?e.range.bottom<t?this._metadata={range:new Ql({}),previousComplete:!1}:this._metadata={range:new Ql(e.range),previousComplete:e.previousComplete}:this._metadata={range:new Ql({}),previousComplete:!1},r.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Te.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Te.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(t){var e,r,a,o;t===void 0&&(t=Date.now());var u=Te.of(this._iid),h=u.logger;u.connectionManager.isConnected&&(h.debug("message background sync resume()"),this._prevSyncLoopCount=this._nextSyncLoopCount=0,this._metadata&&this._metadata.previousComplete||this._prevSync.start((r=(e=this._metadata)===null||e===void 0?void 0:e.range.top)!==null&&r!==void 0?r:t),this._nextSync.start((o=(a=this._metadata)===null||a===void 0?void 0:a.range.bottom)!==null&&o!==void 0?o:t))},n.prototype.pause=function(){Te.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete _o[this._iid][this._channel.url])},n}(),mo={},mde=function(){function n(t){var e=t._iid,r=t.channel,a=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=e,this._channel=r;var o,u,h=Te.of(this._iid),f=h.logger,m=h.sdkState,v=h.dispatcher;this._metadataKey=(o=m.userId,u=r.url,"sendbird:".concat(o,"@groupchannel/").concat(u,"/message/changelogs.meta"));var y=function(w,x){return"sendbird:".concat(w,"@groupchannel/").concat(x,"/message/changelogs")}(m.userId,this._channel.url);this._sync=new yu(y,function(){return F(a,void 0,void 0,function(){var w,x,C,A,L,S,k,N;return P(this,function(O){switch(O.label){case 0:return w={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:O.sent(),f.debug("message changelog sync from",(N=this._metadata)===null||N===void 0?void 0:N.token),O.label=2;case 2:return O.trys.push([2,5,,8]),[4,Di.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:Aa.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0},ut.SYNC_MESSAGE_CHANGELOGS)];case 3:return x=O.sent(),C=x.updatedMessages,A=x.deletedMessageIds,L=x.hasMore,S=x.token,w.hasNext=L,w.nextToken=S,(C.length>0||A.length>0)&&(this._metadata.token=S),f.debug("message changelog sync progress",w),[4,this.saveMetadata()];case 4:return O.sent(),[3,8];case 5:return k=O.sent(),f.debug("message changelog sync error",k),k instanceof De&&k.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:O.sent(),O.label=7;case 7:throw k;case 8:return[2,w]}})})}),this._connectionEventContext=v.on(function(w){w instanceof hs&&(w.stateType===Vt.CONNECTED?a.resume():a.pause())})}return n.of=function(t,e){return mo[t]||(mo[t]={}),mo[t][e.url]||(mo[t][e.url]=new n({_iid:t,channel:e})),mo[t][e.url].ref++,mo[t][e.url]},n.clear=function(t,e){mo[t]&&mo[t][e]&&(mo[t][e].close(),delete mo[t])},n.prototype.loadMetadata=function(){return F(this,void 0,void 0,function(){var t,e,r,a;return P(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(t=Te.of(this._iid),e=t.cacheContext,r=t.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:a=o.sent(),this._metadata={token:a?a.token:r},o.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Te.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Te.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){var t=Te.of(this._iid),e=t.logger;t.connectionManager.isConnected&&(e.debug("message changelog sync resume()"),this._sync.start(0))},n.prototype.pause=function(){var t=Te.of(this._iid),e=t.logger;t.connectionManager.isConnected&&(e.debug("message changelog sync pause()"),this._sync.stop())},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete mo[this._iid][this._channel.url])},n}(),sd={},vde=function(){function n(t){var e=t._iid,r=t.channel,a=t.hasPollMessage,o=this;this._sync=null,this.ref=0,this._metadata=null,this._iid=e,this._channel=r;var u,h,f=Te.of(this._iid),m=f.logger,v=f.sdkState,y=f.dispatcher;this._metadataKey=(u=v.userId,h=r.url,"sendbird:".concat(u,"@groupchannel/").concat(h,"/poll/changelogs.meta"));var w=function(x,C){return"sendbird:".concat(x,"@groupchannel/").concat(C,"/poll/changelogs")}(v.userId,this._channel.url);this._sync=new yu(w,function(){return F(o,void 0,void 0,function(){var x,C,A,L,S,k,N,O;return P(this,function(H){switch(H.label){case 0:return x={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return H.sent(),m.debug("poll changelog sync from",(O=this._metadata)===null||O===void 0?void 0:O.token),(C=!this._metadata||!this._metadata.token)?[4,a()]:[3,3];case 2:C=!H.sent(),H.label=3;case 3:if(C)return[2,{hasNext:!1,nextToken:0}];this._metadata||(A=Te.of(this._iid).firstConnectedAt,this._metadata={token:A}),H.label=4;case 4:return H.trys.push([4,7,,10]),[4,lb.of(this._iid).getPollChangeLogs(this._channel.url,this._channel.channelType,this._metadata.token)];case 5:return L=H.sent(),S=L.hasMore,k=L.token,x.hasNext=S,x.nextToken=k,this._metadata.token=k,m.debug("poll changelog sync progress",x),[4,this.saveMetadata()];case 6:return H.sent(),[3,10];case 7:return N=H.sent(),m.debug("poll changelog sync error",N),N instanceof De&&N.isInvalidTokenError?[4,this.clearMetadata()]:[3,9];case 8:H.sent(),H.label=9;case 9:throw N;case 10:return[2,x]}})})}),this._connectionEventContext=y.on(function(x){x instanceof hs&&(x.stateType===Vt.CONNECTED?o.resume():o.pause())})}return n.of=function(t,e,r){return sd[t]||(sd[t]={}),sd[t][e.url]||(sd[t][e.url]=new n({_iid:t,channel:e,hasPollMessage:r})),sd[t][e.url].ref++,sd[t][e.url]},n.prototype.loadMetadata=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,Te.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:t=e.sent(),this._metadata=t?{token:t.token}:null,e.label=2;case 2:return[2]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Te.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.clearMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Te.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){Te.of(this._iid).logger.debug("poll changelog sync resume()"),this._sync.start(0)},n.prototype.pause=function(){Te.of(this._iid).logger.debug("poll changelog sync pause()"),this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete sd[this._iid][this._channel.url])},n}(),gde=function(n){function t(e){var r,a,o,u,h,f,m=this;return(m=n.call(this)||this).method=hn.GET,m.path="".concat(Gt(e.channelType),"/").concat(e.channelUrl,"/messages_gap"),m.params=at({prev_start_ts:e.prevStart,prev_end_ts:e.prevEnd,prev_cache_count:e.prevCount,next_start_ts:e.nextStart,next_end_ts:e.nextEnd,next_cache_count:e.nextCount,huge_gap_threshold:(r=e.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(a=e.customTypes)!==null&&a!==void 0?a:["*"],message_type:(o=e.messageType)!==null&&o!==void 0?o:null,include_reactions:(u=e.includeReactions)===null||u===void 0||u,with_sorted_meta_array:(h=e.includeMetaArray)===null||h===void 0||h,show_subchannel_messages_only:(f=e.showSubchannelMessagesOnly)!==null&&f!==void 0&&f,include_poll_details:!0,checking_continuous_messages:e.checkingContinuousMessages}),m}return ne(t,n),t}(fn),bde=function(n){function t(e,r){var a,o,u,h,f,m,v=this;return(v=n.call(this,e,r)||this).isHugeGap=r.is_huge_gap,v.prevMessages=((a=r.prev_messages)!==null&&a!==void 0?a:[]).map(function(y){return Ga(e,y)}),v.prevHasMore=(o=r.prev_hasmore)!==null&&o!==void 0&&o,v.isContinuousPrevMessages=(u=r.is_continuous_prev_messages)!==null&&u!==void 0&&u,v.nextMessages=((h=r.next_messages)!==null&&h!==void 0?h:[]).map(function(y){return Ga(e,y)}),v.nextHasmore=(f=r.next_hasmore)!==null&&f!==void 0&&f,v.isContinuousNextMessages=(m=r.is_continuous_next_messages)!==null&&m!==void 0&&m,v}return ne(t,n),t}(vn),Ok=function(n,t){return n.findIndex(function(e){return e.isIdentical(t)})},yde=function(n,t,e){if(n.length>0){for(var r=Ok(n,t),a=0,o=n.length-1,u=Math.floor((a+o)/2);a<o;){var h=I8(n[u],t,e);if(h>0)o=u,u=Math.floor((a+o)/2);else{if(!(h<0))return{place:u,oldPosition:r};a=u+1,u=Math.floor((a+o)/2)}}return{place:I8(n[u],t,e)>=0?u:u+1,oldPosition:r}}return{place:n.length,oldPosition:-1}},I8=function(n,t,e){switch(e){case li.LATEST_LAST_MESSAGE:return n.lastMessage&&t.lastMessage?t.lastMessage.createdAt-n.lastMessage.createdAt:n.lastMessage?-1:t.lastMessage?1:t.createdAt-n.createdAt;case li.CHRONOLOGICAL:return t.createdAt-n.createdAt;case li.CHANNEL_NAME_ALPHABETICAL:var r=n.name.localeCompare(t.name);return r===0?n.createdAt-t.createdAt:r}},vo=function(n,t){return t instanceof Ti?n.findIndex(function(e){return e instanceof Ti&&t.isIdentical(e)}):n.findIndex(function(e){return e.isIdentical(t)})},j3=function(n,t){return n.findIndex(function(e){return e.messageId===t})},K3=function(n,t){if(n.length>0){for(var e=0,r=n.length-1,a=Math.floor((e+r)/2);e<r;){var o=n[a].createdAt-t.createdAt;if(o>0)r=a,a=Math.floor((e+r)/2);else{if(!(o<0))return a;e=a+1,a=Math.floor((e+r)/2)}}return n[a].createdAt>t.createdAt?a:a+1}return n.length},N8=6e5;(function(n){n.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(Ox||(Ox={}));var zf,Vf,Gf,Ede=function(){function n(){}return n.prototype._invokeResponse=function(t,e,r){var a=this;Bn(function(){return F(a,void 0,void 0,function(){return P(this,function(o){switch(t){case"local":this._onCacheResult(e,r);break;case"remote":this._onApiResult(e,r)}return[2]})})})},n.prototype.onCacheResult=function(t){return this._onCacheResult=t,this},n.prototype.onApiResult=function(t){return this._onApiResult=t,this},n}(),wde=function(){function n(t,e){var r=e.channel,a=e.filter,o=e.startingPoint,u=e.limit,h=this;this._channel=null,this._messages=[],this._unsentMessages=[],this._backgroundSync=null,this._changelogSync=null,this._pollChangelogSync=null,this._checkMyMutedStateTimer=null,this._iid=t,this._key="mc-".concat(Tu()),this.filter=a??new S0,this._channel=r,this._syncRange=new Ql({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=typeof o=="number"?o:Date.now()+N8,this._limit=u||cb;var f=zr.of(this._iid);f.subscribeGroupChannelEvent(this._key,{onUpdate:function(x,C,A){var L=Ok(x,h._channel);if(L>=0)switch(Bn(function(){return F(h,void 0,void 0,function(){var T,M;return P(this,function(q){return T=new $f(C),this._channel=x[L],bg(C)&&(!((M=this._handler)===null||M===void 0)&&M.onChannelUpdated)&&this._handler.onChannelUpdated(T,this.channel),[2]})})}),C){case et.EVENT_CHANNEL_UPDATED:var S=!1;for(var k in h._messages)if(h._messages[k].createdAt>=h._channel.messageOffsetTimestamp){S=!0;var N=parseInt(k);if(N>0){var O=h._messages.splice(0,N);h._removeMessagesFromView(O.map(function(T){return T.messageId}),ut.EVENT_MESSAGE_OFFSET_UPDATED)}break}!S&&h._messages.length>0&&h._removeMessagesFromView(h._messages.map(function(T){return T.messageId}),ut.EVENT_MESSAGE_OFFSET_UPDATED);break;case et.EVENT_CHANNEL_UNMUTED:var H=A;Te.of(h._iid).sdkState.userId===H&&h._clearCheckMyMutedTimer();break;case et.EVENT_CHANNEL_MUTED:var D=A;Te.of(h._iid).sdkState.userId===D&&h.channel._myMutedRemainingTime!==-1&&h._startCheckMyMutedTimer(h.channel._myMutedRemainingTime);break;case et.EVENT_CHANNEL_LEFT:h.channel.isPublic&&h._clearCheckMyMutedTimer()}},onRemove:function(x,C){x.indexOf(h.channel.url)>=0&&(h._clearCheckMyMutedTimer(),Bn(function(){return F(h,void 0,void 0,function(){var A,L;return P(this,function(S){return A=new $f(C),!((L=this._handler)===null||L===void 0)&&L.onChannelDeleted&&this._handler.onChannelDeleted(A,this.channel.url),[2]})})}))}}),f.subscribeMessageEvent(this._key,{onUpdate:function(x,C){var A,L,S=[],k=[];try{for(var N=kn(x),O=N.next();!O.done;O=N.next()){var H=O.value;H.channelUrl===h._channel.url&&(h.filter.match(H)?S.push(H):k.push(H.messageId))}}catch(D){A={error:D}}finally{try{O&&!O.done&&(L=N.return)&&L.call(N)}finally{if(A)throw A.error}}if(id(C)){if(S.length>0)switch(C){case ut.EVENT_MESSAGE_SENT_FAILED:case ut.EVENT_MESSAGE_SENT_SUCCESS:case ut.EVENT_MESSAGE_UPDATED:case ut.EVENT_MESSAGE_THREADINFO_UPDATED:case ut.EVENT_MESSAGE_REACTION_UPDATED:case ut.SYNC_MESSAGE_CHANGELOGS:h._updateMessagesToView(S,C);break;case ut.EVENT_MESSAGE_SENT_PENDING:h._addMessagesToView(S,C);break;case ut.EVENT_MESSAGE_RECEIVED:h.hasNext||h._addMessagesToView(S,C);break;case ut.SYNC_MESSAGE_FILL:h._addMessagesToView(S,C)}k.length>0&&h._removeMessagesFromView(k,C)}},onRemove:function(x,C){h._removeMessagesFromView(x,C)},onRemoveUnsent:function(x,C){h._removeUnsentMessageFromView(x,C)},onPollChangeLogUpdate:function(x,C){h._updatePollsToView(x,C)},onPollUpdate:function(x,C){h._applyPollUpdateEventToView(x,C)},onPollVote:function(x,C){h._applyPollVoteEventToView(x,C)}});var m=Te.of(this._iid),v=m.cacheContext,y=m.dispatcher,w=m.logger;this._channel._updateMessageCollectionLastAccessedAt(),y.dispatch(new Nt({channels:[this._channel],source:et.CHANNEL_LASTACCESSEDAT_UPDATED})),!this._channel.isSuper&&v.localCacheEnabled&&(this._backgroundSync=_de.of(this._iid,this._channel),this._backgroundSync.resume(this._startingPoint)),this._changelogSync=mde.of(this._iid,this._channel),this._changelogSync.resume(),this._pollChangelogSync=vde.of(this._iid,this._channel,this._hasPollMessage.bind(this)),this._pollChangelogSync.resume(),this._prevFill=new yu(this._key,function(x){return F(h,void 0,void 0,function(){var C,A,L,S,k;return P(this,function(N){switch(N.label){case 0:return[4,this._getRemoteMessages(x,{prevLimit:this._limit,source:ut.SYNC_MESSAGE_FILL,checkingContinuousMessages:v.localCacheEnabled})];case 1:return C=N.sent(),A=C.messages,L=C.isContinuousMessages,A.length>0?(S=Math.min.apply(Math,nt([],Qn(A.map(function(O){return O.createdAt})),!1)),this._syncRange.extends(S),L&&((k=this._backgroundSync)===null||k===void 0||k.range.extends(S)),[2,{hasNext:A.length>=this._limit&&this.viewTop<S,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._nextFill=new yu(this._key,function(x){return F(h,void 0,void 0,function(){var C,A,L,S,k;return P(this,function(N){switch(N.label){case 0:return[4,this._getRemoteMessages(x,{nextLimit:this._limit,source:ut.SYNC_MESSAGE_FILL,checkingContinuousMessages:v.localCacheEnabled})];case 1:return C=N.sent(),A=C.messages,L=C.isContinuousMessages,A.length>0?(S=Math.max.apply(Math,nt([],Qn(A.map(function(O){return O.createdAt})),!1)),this._syncRange.extends(S),L&&((k=this._backgroundSync)===null||k===void 0||k.range.extends(S)),[2,{hasNext:!(A.length>=this._limit&&this._hasNext)||this.viewBottom>S,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._connectionEventContext=y.on(function(x){if(x instanceof hs)switch(x.stateType){case Vt.CONNECTED:h._refreshChannel(et.SYNC_CHANNEL_CHANGELOGS),oi(function(){return F(h,void 0,void 0,function(){var C;return P(this,function(A){switch(A.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(C=A.sent()).isMuted&&C.remainingDuration!==-1&&this._startCheckMyMutedTimer(C.remainingDuration),[2]}})})}),w.debug("check huge gap"),h._checkHugeGap();break;case Vt.LOGOUT:h.dispose();break;default:h._clearCheckMyMutedTimer(),h._prevFill.stop(),h._nextFill.stop()}}),Te.of(this._iid).statLogCollector.put(new kd({type:hl.FEATURE_LOCALCACHE,data:{use_local_cache:v.localCacheEnabled,collection_interface:{message:!0}}}))}return Object.defineProperty(n.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"succeededMessages",{get:function(){return nt([],Qn(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter(function(t){return t.sendingStatus===Nr.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter(function(t){return t.sendingStatus===Nr.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewTop",{get:function(){return Math.min.apply(Math,nt(nt([],Qn(this._messages.map(function(t){return t.createdAt})),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,nt(nt([],Qn(this._messages.map(function(t){return t.createdAt})),!1),[0],!1))},enumerable:!1,configurable:!0}),n.prototype.setMessageCollectionHandler=function(t){this._handler=t},n.prototype._filterUnderOffsetMessage=function(t){return t},n.prototype._addMessagesToView=function(t,e){var r,a,o=this,u=this._filterUnderOffsetMessage(t),h=[],f=[];try{for(var m=kn(u),v=m.next();!v.done;v=m.next()){var y=v.value;if(e===ut.SYNC_MESSAGE_FILL)if(y.messageId>0){if((A=vo(this._messages,y))<0){vo(this._unsentMessages,y)<0&&h.push(y);var w=K3(this._messages,y);this._messages.splice(w,0,y)}}else y instanceof Ti&&(A=vo(this._unsentMessages,y))<0&&vo(this._messages,y)<0&&(this._unsentMessages.push(y),h.push(y));else if(y.messageId>0){if((A=vo(this._messages,y))<0){var x=vo(this._unsentMessages,y);x<0?h.push(y):(this._unsentMessages.splice(x,1),f.push(y)),w=K3(this._messages,y),this._messages.splice(w,0,y)}else f.push(y),this._messages[A]=y;if(y.updatedAt>0){var C=this._updateChildMessagesInView(y);f.push.apply(f,nt([],Qn(C),!1))}}else if(y instanceof Ti){var A;(A=vo(this._unsentMessages,y))<0?vo(this._messages,y)<0&&(this._unsentMessages.push(y),h.push(y)):(f.push(y),this._unsentMessages[A]=y)}}}catch(L){r={error:L}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}id(e)&&Bn(function(){return F(o,void 0,void 0,function(){var L,S,k;return P(this,function(N){return L=new Uh(e),h.length>0&&((S=this._handler)===null||S===void 0||S.onMessagesAdded(L,this.channel,h)),f.length>0&&((k=this._handler)===null||k===void 0||k.onMessagesUpdated(L,this.channel,f)),[2]})})})},n.prototype._updateChildMessagesInView=function(t){var e=[];return this._messages.forEach(function(r){r.applyParentMessage(t)&&e.push(r)}),e},n.prototype._updatePollsToView=function(t,e){var r,a,o=this,u=[];try{for(var h=kn(t),f=h.next();!f.done;f=h.next()){var m=f.value,v=j3(this._messages,m.messageId);if(v>=0){var y=this._messages[v];y&&y.applyPoll(m),u.push(y)}}}catch(w){r={error:w}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return u.length>0&&id(e)&&Bn(function(){return F(o,void 0,void 0,function(){var w,x;return P(this,function(C){return w=new Uh(e),u.length>0&&((x=this._handler)===null||x===void 0||x.onMessagesUpdated(w,this.channel,u)),[2]})})}),u},n.prototype._applyPollUpdateEventToView=function(t,e){var r=this,a=j3(this._messages,t.messageId);if(a>=0){var o=this._messages[a];o&&o.isUserMessage()&&o.poll&&o.poll.applyPollUpdateEvent(t)&&id(e)&&Bn(function(){return F(r,void 0,void 0,function(){var u,h;return P(this,function(f){return u=new Uh(e),(h=this._handler)===null||h===void 0||h.onMessagesUpdated(u,this.channel,[o]),[2]})})})}},n.prototype._applyPollVoteEventToView=function(t,e){var r=this,a=j3(this._messages,t.messageId);if(a>=0){var o=this._messages[a];o&&o.isUserMessage()&&o.poll&&o.poll.applyPollVoteEvent(t)&&id(e)&&Bn(function(){return F(r,void 0,void 0,function(){var u,h;return P(this,function(f){return u=new Uh(e),(h=this._handler)===null||h===void 0||h.onMessagesUpdated(u,this.channel,[o]),[2]})})})}},n.prototype._updateMessagesToView=function(t,e){var r,a,o=this,u=[],h=[];try{for(var f=kn(t),m=f.next();!m.done;m=f.next()){var v,y=m.value;if(y.messageId>0)if((v=vo(this._messages,y))>=0)u.push(y),this._messages[v]=y;else{var w=vo(this._unsentMessages,y);if(w>=0){var x=this._unsentMessages.splice(w,1);if(this.hasNext&&x.length>0)h.push(x[0]);else{u.push(y);var C=K3(this._messages,y);this._messages.splice(C,0,y)}}}else y instanceof Ti&&(v=vo(this._unsentMessages,y))>=0&&(u.push(y),this._unsentMessages[v]=y)}}catch(A){r={error:A}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return id(e)&&Bn(function(){return F(o,void 0,void 0,function(){var A,L,S;return P(this,function(k){return A=new Uh(e),u.length>0?(L=this._handler)===null||L===void 0||L.onMessagesUpdated(A,this.channel,u):h.length>0&&((S=this._handler)===null||S===void 0||S.onMessagesDeleted(A,this.channel,[],h)),[2]})})}),u},n.prototype._removeMessagesFromView=function(t,e){var r,a,o=this,u=[],h=[],f=function(w){var x=m._messages.findIndex(function(A){return A.messageId===w});if(x>=0){var C=m._messages[x];u.push(C.messageId),h.push(C),m._messages.splice(x,1)}},m=this;try{for(var v=kn(t),y=v.next();!y.done;y=v.next())f(y.value)}catch(w){r={error:w}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(r)throw r.error}}return id(e)&&h.length>0&&Bn(function(){return F(o,void 0,void 0,function(){var w,x;return P(this,function(C){return w=new Uh(e),(x=this._handler)===null||x===void 0||x.onMessagesDeleted(w,this.channel,u,h),[2]})})}),u},n.prototype._removeUnsentMessageFromView=function(t,e){var r=this._unsentMessages.findIndex(function(a){return a.reqId===t});r>=0&&this._unsentMessages.splice(r,1)},n.prototype._getLocalMessages=function(t,e){var r=e.prevLimit,a=r===void 0?0:r,o=e.nextLimit,u=o===void 0?0:o;return F(this,void 0,void 0,function(){var h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:return h=zr.of(this._iid),a>0?[4,h.getMessagesFromCache(this._channel.url,t,"prev",this.filter,a)]:[3,2];case 1:return m=C.sent(),[3,3];case 2:m=[],C.label=3;case 3:return f=m,u>0?[4,h.getMessagesFromCache(this._channel.url,t,"next",this.filter,u)]:[3,5];case 4:return y=C.sent(),[3,6];case 5:y=[],C.label=6;case 6:if(v=y,f.length>0&&v.length>0){for(x in w=f.map(function(A){return A.messageId}),v)if(w.includes(v[x].messageId)){v.splice(parseInt(x),1);break}}return[2,nt(nt([],Qn(f),!1),Qn(v),!1).sort(function(A,L){return L.createdAt-A.createdAt})]}})})},n.prototype._getRemoteMessages=function(t,e){var r=e.prevLimit,a=r===void 0?0:r,o=e.nextLimit,u=o===void 0?0:o,h=e.source,f=h===void 0?ut.REQUEST_MESSAGE:h,m=e.reverse,v=m!==void 0&&m,y=e.checkingContinuousMessages,w=y!==void 0&&y;return F(this,void 0,void 0,function(){var x,C;return P(this,function(A){switch(A.label){case 0:return x=Di.of(this._iid),a>0||u>0?[4,x._getMessagesByTimestampForCollection(this._channel.url,this._channel.channelType,t,Ee(Ee({},this.filter),{isInclusive:!0,reverse:v,prevResultSize:a,nextResultSize:u,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0,includeParentMessageInfo:!0}),f,w)]:[3,2];case 1:return C=A.sent(),[3,3];case 2:C={messages:[],isContinuousMessages:!1},A.label=3;case 3:return[2,C]}})})},n.prototype._checkHugeGap=function(){var t;return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D=this;return P(this,function(T){switch(T.label){case 0:return this._messages.length>0?(e=this._syncRange.top,r=this.viewTop,a=this._syncRange.bottom,o=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,(u=zr.of(this._iid)).getCachedMessageCountBetween(this._channel.url,this.filter,r,e)]):[3,4];case 1:return h=T.sent(),[4,u.getCachedMessageCountBetween(this._channel.url,this.filter,a,o)];case 2:return f=T.sent(),[4,Gb(function(){return F(D,void 0,void 0,function(){var M,q,z,re,pe,B,Q,ie,j,me,ae,oe,ve,Re,ue,he,V,Y,$,te,Me,Ke=this;return P(this,function(Oe){switch(Oe.label){case 0:return M=Te.of(this._iid),q=M.dispatcher,z=M.requestQueue,re=M.cacheContext,pe=new gde(Ee({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:r,prevEnd:e,prevCount:h,nextStart:a,nextEnd:o,nextCount:f,checkingContinuousMessages:re.localCacheEnabled},this.filter)),[4,z.send(pe)];case 1:return B=Oe.sent(),Q=B.as(bde),ie=Q.isHugeGap,j=Q.prevMessages,me=j===void 0?[]:j,ae=Q.prevHasMore,oe=Q.isContinuousPrevMessages,ve=Q.nextMessages,Re=ve===void 0?[]:ve,ue=Q.nextHasmore,he=Q.isContinuousNextMessages,ie?Bn(function(){return F(Ke,void 0,void 0,function(){var xe;return P(this,function(Le){return(xe=this._handler)===null||xe===void 0||xe.onHugeGapDetected(),[2]})})}):(this._hasPrevious=ae,this._hasNext=ue,V=this.viewTop,Y=this.viewBottom,$=Math.min.apply(Math,nt([Number.MAX_SAFE_INTEGER,V],Qn(me.map(function(xe){return xe.createdAt})),!1)),te=Math.max.apply(Math,nt([0,Y],Qn(Re.map(function(xe){return xe.createdAt})),!1)),q.dispatch(new ti({messages:me,source:ut.SYNC_MESSAGE_FILL})),q.dispatch(new ti({messages:Re,source:ut.SYNC_MESSAGE_FILL})),this._syncRange.extends($,te),(oe||he)&&((Me=this._backgroundSync)===null||Me===void 0||Me.range.extends($,te)),V<$&&this._prevFill.start($),Y>te&&this._nextFill.start(te)),[2]}})})},1)];case 3:return T.sent(),[3,8];case 4:m=Te.of(this._iid).cacheContext,v=Math.floor(this._limit/2),y=Date.now(),T.label=5;case 5:return T.trys.push([5,7,,8]),[4,this._getRemoteMessages(y,{prevLimit:v,nextLimit:v,source:ut.SYNC_MESSAGE_FILL,checkingContinuousMessages:m.localCacheEnabled})];case 6:if(w=T.sent(),x=w.messages,C=w.isContinuousMessages,x.length>0){for(A=x.map(function(M){return M.createdAt}),L=0,S=0,k=0;k<A.length;k++)(N=A[k])<=y?L++:N>=y&&S++;this._hasPrevious=L>=v,this._hasNext=S>=v,(H=this._syncRange).extends.apply(H,nt([],Qn(A),!1)),C&&((t=this._backgroundSync)===null||t===void 0||t.range.extends(this._syncRange.top,this._syncRange.bottom)),this._addMessagesToView(x,ut.SYNC_MESSAGE_FILL)}else this._hasPrevious=!1,this._hasNext=!1;return[3,8];case 7:return(O=T.sent())instanceof De&&O.code===xt.NOT_FOUND_IN_DATABASE&&(this._hasPrevious=!1,this._hasNext=!1),[3,8];case 8:return[2]}})})},n.prototype._loadUnsentMessages=function(){return F(this,void 0,void 0,function(){var t,e;return P(this,function(r){switch(r.label){case 0:return t=zr.of(this._iid),e=this,[4,t.getUnsentMessagesFromCache(this._channel.url,this.filter)];case 1:return e._unsentMessages=r.sent(),[2]}})})},n.prototype._hasPollMessage=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,zr.of(this._iid).getPollMessagesFromCache(this._channel.url,Date.now()+N8,this.filter,1)];case 1:return t.sent().length>0?[2,!0]:[2,!1]}})})},n.prototype._refreshChannel=function(t){zr.of(this._iid).refreshChannel(this.channel.url,!0,t)},n.prototype._startCheckMyMutedTimer=function(t){var e=this;this._clearCheckMyMutedTimer(),this._checkMyMutedStateTimer=setTimeout(function(){return F(e,void 0,void 0,function(){var r,a,o,u;return P(this,function(h){switch(h.label){case 0:this._checkMyMutedStateTimer=null,r=!0,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this._channel.getMyMutedInfo()];case 2:return a=h.sent(),r=!a.isMuted,[3,5];case 3:return h.sent(),r=!0,[3,5];case 4:return r&&(this.channel.myMutedState=ol.UNMUTED,o=new $f(et.EVENT_CHANNEL_UNMUTED),(u=this._handler)===null||u===void 0||u.onChannelUpdated(o,this.channel)),[7];case 5:return[2]}})})},t+1e3)},n.prototype._clearCheckMyMutedTimer=function(){this._checkMyMutedStateTimer&&(clearTimeout(this._checkMyMutedStateTimer),this._checkMyMutedStateTimer=null)},n.prototype.initialize=function(t){var e=this,r=new Ede;this._messages=[],this._unsentMessages=[],this._syncRange=new Ql({}),this._hasNext=!0,this._hasPrevious=!0,this._refreshChannel(et.REFRESH_CHANNEL),oi(function(){return F(e,void 0,void 0,function(){var h;return P(this,function(f){switch(f.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(h=f.sent()).isMuted&&h.remainingDuration!==-1&&this._startCheckMyMutedTimer(h.remainingDuration),[2]}})})});var a=Math.floor(this._limit/2);t===Ox.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:a,nextLimit:a}).then(function(h){return F(e,void 0,void 0,function(){var f;return P(this,function(m){switch(m.label){case 0:return f=this._filterUnderOffsetMessage(h),this._addMessagesToView(f,ut.REQUEST_MESSAGE),[4,this._loadUnsentMessages()];case 1:return m.sent(),r._invokeResponse("local",null,f),[2]}})})}).catch(function(h){if(cl(h))throw h;r._invokeResponse("local",h,null)}).finally(function(){var h=Te.of(e._iid).cacheContext;e._getRemoteMessages(e._startingPoint,{prevLimit:a,nextLimit:a,reverse:!0,checkingContinuousMessages:h.localCacheEnabled}).then(function(f){var m,v,y=f.messages,w=f.isContinuousMessages;e._messages=[];var x=e._filterUnderOffsetMessage(y);if(x.length>0){for(var C=x.map(function(N){return N.createdAt}),A=0,L=0,S=0;S<C.length;S++){var k=C[S];k<=e._startingPoint?A++:k>=e._startingPoint&&L++}e._hasPrevious=A>=a,e._hasNext=L>=a,(m=e._syncRange).extends.apply(m,nt([],Qn(x.map(function(N){return N.createdAt})),!1)),w&&((v=e._backgroundSync)===null||v===void 0||v.range.extends(e._syncRange.top,e._syncRange.bottom)),e._addMessagesToView(x,ut.REQUEST_MESSAGE)}else e._hasPrevious=!1,e._hasNext=!1;r._invokeResponse("remote",null,x)}).catch(function(f){if(cl(f))throw f;r._invokeResponse("remote",f,null)})});var o=Te.of(this._iid),u=o.cacheContext;return o.statLogCollector.put(new kd({type:hl.FEATURE_LOCALCACHE,data:{use_local_cache:u.localCacheEnabled,collection_interface:{message_init_policy:t}}})),r},n.prototype.loadPrevious=function(){return F(this,void 0,void 0,function(){var t,e,r,a=this;return P(this,function(o){switch(o.label){case 0:return this._hasPrevious?(t=this.viewTop,e=[],[4,oi(function(){return F(a,void 0,void 0,function(){var u;return P(this,function(h){switch(h.label){case 0:return u=this._filterUnderOffsetMessage,[4,this._getLocalMessages(t,{prevLimit:this._limit})];case 1:return e=u.apply(this,[h.sent()]),[2]}})})})]):[3,5];case 1:return o.sent(),e.length!==0&&this._backgroundSync&&this._backgroundSync.isWrappingMessages(e)?[3,3]:[4,oi(function(){return F(a,void 0,void 0,function(){var u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return u=Te.of(this._iid).cacheContext,[4,this._getRemoteMessages(t,{prevLimit:this._limit,checkingContinuousMessages:u.localCacheEnabled})];case 1:return h=y.sent(),e=this._filterUnderOffsetMessage(h.messages),this._hasPrevious=e.length>=this._limit,e.length>0&&((f=this._syncRange).extends.apply(f,nt([],Qn(e.map(function(w){return w.createdAt})),!1)),!((m=this._backgroundSync)===null||m===void 0)&&m.range.overlap(this._syncRange)&&h.isContinuousMessages&&((v=this._backgroundSync)===null||v===void 0||v.range.extends(this._syncRange.top))),[2]}})})})];case 2:return o.sent(),this._addMessagesToView(e,ut.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=e.length>=this._limit,e.length>0&&((r=this._syncRange).extends.apply(r,nt([],Qn(e.map(function(u){return u.createdAt})),!1)),this._addMessagesToView(e,ut.REQUEST_MESSAGE)),o.label=4;case 4:return[2,e];case 5:return[2,[]]}})})},n.prototype.loadNext=function(){var t;return F(this,void 0,void 0,function(){var e,r,a,o=this;return P(this,function(u){switch(u.label){case 0:return this._hasNext?(e=this.viewBottom,r=[],[4,oi(function(){return F(o,void 0,void 0,function(){var h;return P(this,function(f){switch(f.label){case 0:return h=this._filterUnderOffsetMessage,[4,this._getLocalMessages(e,{nextLimit:this._limit})];case 1:return r=h.apply(this,[f.sent()]),[2]}})})})]):[2,[]];case 1:return u.sent(),r.length!==0&&(!((t=this._backgroundSync)===null||t===void 0)&&t.isWrappingMessages(r))?[3,3]:[4,oi(function(){return F(o,void 0,void 0,function(){var h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return h=Te.of(this._iid).cacheContext,[4,this._getRemoteMessages(e,{nextLimit:this._limit,checkingContinuousMessages:h.localCacheEnabled})];case 1:return f=w.sent(),r=this._filterUnderOffsetMessage(f.messages),this._hasNext=r.length>=this._limit,r.length>0&&((m=this._syncRange).extends.apply(m,nt([],Qn(r.map(function(x){return x.createdAt})),!1)),!((v=this._backgroundSync)===null||v===void 0)&&v.range.overlap(this._syncRange)&&f.isContinuousMessages&&((y=this._backgroundSync)===null||y===void 0||y.range.extends(this._syncRange.bottom))),[2]}})})})];case 2:return u.sent(),this._addMessagesToView(r,ut.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=r.length>=this._limit,r.length>0&&((a=this._syncRange).extends.apply(a,nt([],Qn(r.map(function(h){return h.createdAt})),!1)),this._addMessagesToView(r,ut.REQUEST_MESSAGE)),u.label=4;case 4:return[2,r]}})})},n.prototype.removeFailedMessage=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,zr.of(this._iid).removeFailedMessageFromCache(t)];case 1:return r.sent(),(e=this._unsentMessages.findIndex(function(a){return a.reqId===t}))>-1&&this._unsentMessages.splice(e,1),[2]}})})},n.prototype.dispose=function(){var t,e,r,a=Te.of(this._iid),o=a.cacheContext,u=a.dispatcher;this._clearCheckMyMutedTimer(),this._channel._updateMessageCollectionLastAccessedAt(),u.dispatch(new Nt({channels:[this._channel],source:et.CHANNEL_LASTACCESSEDAT_UPDATED})),o.localCacheEnabled&&(this._prevFill.stop(),this._nextFill.stop()),(t=this._backgroundSync)===null||t===void 0||t.close(),(e=this._changelogSync)===null||e===void 0||e.close(),(r=this._pollChangelogSync)===null||r===void 0||r.close();var h=zr.of(this._iid);h.unsubscribeGroupChannelEvent(this._key),h.unsubscribeMessageEvent(this._key),this._connectionEventContext&&this._connectionEventContext.close()},n}(),xde={coverUrl:null,coverImage:null,isDistinct:null,isPublic:null,isDiscoverable:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},kde={hidePreviousMessages:!1,allowAutoUnhide:!0},Sde=function(n){function t(e){var r=this,a=e.channelUrl,o=e.token,u=e.limit,h=e.order,f=e.mutedMemberFilter,m=e.memberStateFilter,v=e.nicknameStartsWithFilter,y=e.operatorFilter;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(_a,"/").concat(encodeURIComponent(a),"/members"),r.params={token:o,limit:u,order:h,muted_member_filter:f,member_state_filter:m,nickname_startswith:v,operator_filter:y,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return ne(t,n),t}(fn),Tde=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.members=[];var o=r.next,u=r.members;return a.token=o,u&&u.length>0&&(a.members=u.map(function(h){return new eo(e,h)})),a}return ne(t,n),t}(vn);(function(n){n.ALL="all",n.MUTED="muted",n.UNMUTED="unmuted"})(zf||(zf={})),function(n){n.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",n.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(Vf||(Vf={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(Gf||(Gf={}));var Cde=function(n){function t(e,r,a){var o,u,h,f,m=this;return(m=n.call(this,e,r,Zt.GROUP,a)||this).mutedMemberFilter=zf.ALL,m.memberStateFilter=Gf.ALL,m.nicknameStartsWithFilter=null,m.operatorFilter=pb.ALL,m.order=Vf.MEMBER_NICKNAME_ALPHABETICAL,m.mutedMemberFilter=(o=a.mutedMemberFilter)!==null&&o!==void 0?o:zf.ALL,m.memberStateFilter=(u=a.memberStateFilter)!==null&&u!==void 0?u:Gf.ALL,m.nicknameStartsWithFilter=(h=a.nicknameStartsWithFilter)!==null&&h!==void 0?h:null,m.order=(f=a.order)!==null&&f!==void 0?f:Vf.MEMBER_NICKNAME_ALPHABETICAL,m}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&_t(zf,this.mutedMemberFilter)&&_t(Gf,this.memberStateFilter)&&(be("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&_t(pb,this.operatorFilter)&&_t(Vf,this.order)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new Sde(Ee(Ee({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(Tde),u=o.members,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(dc),Ide=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId,u=e.accessCode;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(_a,"/").concat(encodeURIComponent(a),"/accept"),r.params={user_id:o,access_code:u},r}return ne(t,n),t}(fn),Nde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Rs(e,r),a.channel.myMemberState=Qr.JOINED,a}return ne(t,n),t}(vn),Ade=function(n){function t(e){var r=this,a=e.channelUrl,o=e.isDistinct,u=e.isPublic,h=e.isDiscoverable,f=e.coverUrl,m=e.coverImage,v=e.accessCode,y=e.name,w=e.data,x=e.customType,C=e.operatorUserIds,A=e.messageSurvivalSeconds;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(_a,"/").concat(encodeURIComponent(a)),r.params=at({is_distinct:o,is_public:u,is_discoverable:h,name:y,data:w,custom_type:x,cover_url:f,cover_file:m,access_code:v,operator_ids:C,message_survival_seconds:A}),r}return ne(t,n),t}(fn),Ode=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Rs(e,r),a}return ne(t,n),t}(vn),Rde=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(_a,"/").concat(encodeURIComponent(a)),r}return ne(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}ne(t,n)})(vn);var Mde=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=hn.DELETE,r.path="".concat(_a,"/").concat(encodeURIComponent(a),"/hide"),r}return ne(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ne(t,n)})(vn);var Dde=function(n){function t(e){var r=e.userId,a=e.channelUrl,o=e.countPreference,u=n.call(this)||this;return u.method=hn.PUT,u.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(a)),u.params={count_preference:o},u}return ne(t,n),t}(fn),Lde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.countPreference=r.count_preference,a}return ne(t,n),t}(vn),Ude=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=hn.PUT,r.path="".concat(_a,"/").concat(encodeURIComponent(a),"/reset_user_history"),r}return ne(t,n),t}(fn),Pde=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.messageOffsetTimestamp=null;var o=r.ts_message_offset;return a.messageOffsetTimestamp=o??null,a}return ne(t,n),t}(vn),Fde=Ee(Ee({},Sk),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Hde=Ee(Ee({},PU),{scheduledAt:null}),Bde=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=null;e.mentionType===Wi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(m){return m.userId})));var u=e.channelType,h=e.channelUrl,f=e.scheduledMessageId;return a.method=hn.PUT,a.path="".concat(Gt(u),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),a.params=at({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:E0.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(m){return Qb.payloadify(m)}):[],custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(m){return $a.payloadify(m)}),apple_critical_alert_options:fl.payloadify(e.appleCriticalAlertOptions),push_option:e.pushNotificationDeliveryOption}),a}return ne(t,n),t}(fn),$de=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new ri(e,r),a}return ne(t,n),t}(vn),zde=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=null;e.mentionType===Wi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(m){return m.userId})));var u=e.channelType,h=e.channelUrl,f=e.scheduledMessageId;return a.method=hn.PUT,a.path="".concat(Gt(u),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),a.params=at({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:E0.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(m){return $a.payloadify(m)}),apple_critical_alert_options:fl.payloadify(e.appleCriticalAlertOptions),target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption}),a}return ne(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new qi(e,r),a}ne(t,n)})(vn);var Vde=function(n){function t(e){var r=n.call(this)||this,a=e.channelType,o=e.channelUrl,u=e.scheduledMessageId;return r.method=hn.DELETE,r.path="".concat(Gt(a),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(u)),r}return ne(t,n),t}(fn),Gde=function(n){function t(e){var r=n.call(this)||this,a=e.channelType,o=e.channelUrl,u=e.scheduledMessageId;return r.method=hn.POST,r.path="".concat(Gt(a),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(u),"/send_now"),r}return ne(t,n),t}(fn),qde=function(n){function t(e){var r=e.userId,a=e.channelUrl,o=e.pushTriggerOption,u=n.call(this)||this;return u.method=hn.PUT,u.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(a)),u.params={push_trigger_option:o},u}return ne(t,n),t}(fn),jde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a.enabled=r.enable,a}return ne(t,n),t}(vn),Kde=function(n){function t(e){var r=e.userId,a=e.channelUrl,o=n.call(this)||this;return o.method=hn.GET,o.path="".concat(Lt,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(a)),o}return ne(t,n),t}(fn),Wde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a.enabled=r.enable,a}return ne(t,n),t}(vn),Qde=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,u=n.call(this)||this;return u.method=hn.POST,u.path="".concat(Gt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(o,"/pin"),u}return ne(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}ne(t,n)})(vn);var Yde=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,u=n.call(this)||this;return u.method=hn.DELETE,u.path="".concat(Gt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(o,"/pin"),u}return ne(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}ne(t,n)})(vn);var ks,ol,oa,Xde=function(n){function t(e,r){var a=n.call(this,e)||this;return a.message=Ga(e,r.message),a}return ne(t,n),t}(Us),Zde=function(n){function t(e){var r=this,a=e.channelType,o=e.channelUrl,u=e.limit,h=e.token,f=e.includeReactions,m=e.includeMetaArray,v=e.includeParentMessageInfo,y=e.includeThreadInfo,w=e.includePollDetails;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(Gt(a),"/").concat(encodeURIComponent(o),"/pinned_messages"),r.params=at({limit:u,token:h,include_reactions:f,with_sorted_meta_array:m,include_thread_info:y,include_parent_message_info:v,include_poll_details:w}),r}return ne(t,n),t}(fn),Jde=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.hasMore=null,a.token=null;var o=r.pinned_messages,u=r.has_more,h=r.next;return a.pinnedMessages=o.map(function(f){return new Xde(e,f)}),a.hasMore=u,a.token=h,a}return ne(t,n),t}(vn),ehe=function(n){function t(e,r,a,o){var u=n.call(this,e,r,a,o)||this;return u.includeMetaArray=o.includeMetaArray,u.includeReactions=o.includeReactions,u.includeParentMessageInfo=o.includeParentMessageInfo,u.includeThreadInfo=o.includeThreadInfo,u.includePollDetails=o.includePollDetails,u}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&be("boolean",this.includeMetaArray,!0)&&be("boolean",this.includeReactions,!0)&&be("boolean",this.includeParentMessageInfo,!0)&&be("boolean",this.includeThreadInfo,!0)&&be("boolean",this.includePollDetails,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new Zde(Ee(Ee({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=m.sent(),o=a.as(Jde),u=o.pinnedMessages,h=o.hasMore,f=o.token,this._token=f,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(dc);(function(n){n.ALL="all",n.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",n.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",n.OFF="off"})(ks||(ks={})),function(n){n.MUTED="muted",n.UNMUTED="unmuted"}(ol||(ol={})),function(n){n.UNHIDDEN="unhidden",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(oa||(oa={}));var qf,Rs=function(n){function t(e,r){var a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T=this;return(T=n.call(this,e,r)||this)._unreadMemberStateMap=new Map,T._undeliveredMemberStateMap=new Map,T._typingStatus=new Map,T._lastMemberCountUpdated=0,T._typingStarted=0,T._typingEnded=0,T.isDistinct=!1,T.isSuper=!1,T.isBroadcast=!1,T.isExclusive=!1,T.isPublic=!1,T.isDiscoverable=!0,T.isAccessCodeRequired=!1,T.isPushEnabled=!1,T.unreadMessageCount=0,T.unreadMentionCount=0,T.members=[],T.memberCount=0,T.joinedMemberCount=0,T.hiddenState=oa.UNHIDDEN,T.lastMessage=null,T.messageOffsetTimestamp=0,T.messageSurvivalSeconds=-1,T.myMemberState=Qr.NONE,T.myRole=Js.NONE,T.myMutedState=ol.UNMUTED,T.myLastRead=0,T.myCountPreference=ks.ALL,T.myPushTriggerOption=Ed.DEFAULT,T.inviter=null,T.invitedAt=0,T.joinedAt=0,T.pinnedMessageIds=[],T.lastPinnedMessage=null,T._pinnedMessagesUpdatedAt=0,T._myMutedRemainingTime=-1,T.channelType=Zt.GROUP,T.isDistinct=(o=r.is_distinct)!==null&&o!==void 0&&o,T.isSuper=(u=r.is_super)!==null&&u!==void 0&&u,T.isBroadcast=(h=r.is_broadcast)!==null&&h!==void 0&&h,T.isExclusive=(f=r.is_exclusive)!==null&&f!==void 0&&f,T.isPublic=(m=r.is_public)!==null&&m!==void 0&&m,T.isDiscoverable=(v=r.is_discoverable)!==null&&v!==void 0?v:T.isPublic,T.isAccessCodeRequired=(y=r.is_access_code_required)!==null&&y!==void 0&&y,T.isPushEnabled=(w=r.is_push_enabled)!==null&&w!==void 0&&w,Array.isArray(r.members)&&(a=T.members).push.apply(a,nt([],Qn(r.members.map(function(M){return new eo(T._iid,M)})),!1)),T.memberCount=(x=r.member_count)!==null&&x!==void 0?x:0,T.joinedMemberCount=(C=r.joined_member_count)!==null&&C!==void 0?C:0,T.hiddenState=_t(oa,r.hidden_state)?r.hidden_state:oa.UNHIDDEN,T.messageOffsetTimestamp=(A=r.ts_message_offset)!==null&&A!==void 0?A:0,T.messageSurvivalSeconds=(L=r.message_survival_seconds)!==null&&L!==void 0?L:-1,T.lastMessage=r.last_message?Ga(T._iid,Ee({channel_type:T.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach(function(M){be("number",r.read_receipt[M])&&T._updateUnreadMemberState(M,r.read_receipt[M])}),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach(function(M){be("number",r.delivery_receipt[M])&&T._updateUndeliveredMemberState(M,r.delivery_receipt[M])}),T.myMemberState=_t(Qr,r.member_state)?r.member_state:Qr.NONE,T.myRole=_t(Js,r.my_role)?r.my_role:Js.NONE,_t(ol,r.is_muted)?T.myMutedState=r.is_muted:be("boolean",r.is_muted)?T.myMutedState=r.is_muted?ol.MUTED:ol.UNMUTED:T.myMutedState=ol.UNMUTED,T.myCountPreference=_t(ks,r.count_preference)?r.count_preference:ks.ALL,T.myPushTriggerOption=_t(Ed,r.push_trigger_option)?r.push_trigger_option:Ed.ALL,T.myLastRead=(S=r.user_last_read)!==null&&S!==void 0?S:0,T.inviter=r.inviter?new kt(T._iid,r.inviter):null,T.invitedAt=(k=r.invited_at)!==null&&k!==void 0?k:0,T.joinedAt=(N=r.joined_ts)!==null&&N!==void 0?N:0,T._updateUnreadCount((O=r.unread_message_count)!==null&&O!==void 0?O:0,(H=r.unread_mention_count)!==null&&H!==void 0?H:0),T.pinnedMessageIds=(D=r.pinned_message_ids)!==null&&D!==void 0?D:[],T.lastPinnedMessage=r.latest_pinned_message?Ga(T._iid,Ee({channel_type:T.channelType},r.latest_pinned_message)):null,T}return ne(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.hiddenState!==oa.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTyping",{get:function(){return this._typingStatus.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUnreadMemberState",{get:function(){var e,r,a={};try{for(var o=kn(this._unreadMemberStateMap),u=o.next();!u.done;u=o.next()){var h=Qn(u.value,2),f=h[0],m=h[1];a[f]=m}}catch(v){e={error:v}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return a},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUndeliveredMemberState",{get:function(){var e,r,a={};try{for(var o=kn(this._undeliveredMemberStateMap),u=o.next();!u.done;u=o.next()){var h=Qn(u.value,2),f=h[0],m=h[1];a[f]=m}}catch(v){e={error:v}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return a},enumerable:!1,configurable:!0}),t.payloadify=function(e){return e?at(Ee(Ee({},n.payloadify.call(this,e)),{is_access_code_required:e.isAccessCodeRequired,is_distinct:e.isDistinct,is_super:e.isSuper,is_broadcast:e.isBroadcast,is_exclusive:e.isExclusive,is_public:e.isPublic,is_discoverable:e.isDiscoverable,is_muted:e.myMutedState,is_push_enabled:e.isPushEnabled,unread_message_count:e.unreadMessageCount,unread_mention_count:e.unreadMentionCount,push_trigger_option:e.myPushTriggerOption,count_preference:e.myCountPreference,hidden_state:e.hiddenState,member_count:e.memberCount,joined_member_count:e.joinedMemberCount,member_state:e.myMemberState,my_role:e.myRole,user_last_read:e.myLastRead,ts_message_offset:e.messageOffsetTimestamp,message_survival_seconds:e.messageSurvivalSeconds,read_receipt:e.cachedUnreadMemberState,delivery_receipt:e.cachedUndeliveredMemberState,members:e.members.map(function(r){return eo.payloadify(r)}),last_message:__(e.lastMessage),inviter:e.inviter?kt.payloadify(e.inviter):null,invited_at:e.invitedAt,joined_ts:e.joinedAt,pinned_message_ids:e.pinnedMessageIds,latest_pinned_message:__(e.lastPinnedMessage)})):null},t.prototype._shouldUpdateLastMessageWith=function(e){return!(e instanceof Ti&&e.parentMessageId>0&&!e.replyToChannel)&&(!this.lastMessage||this.lastMessage.createdAt<e.createdAt||this.lastMessage.createdAt===e.createdAt&&this.lastMessage.messageId===e.messageId&&this.lastMessage.updatedAt<e.updatedAt)},t.prototype._updateUnreadCount=function(e,r){if(typeof e=="number"&&e>=0)if(this.myCountPreference===ks.ALL||this.myCountPreference===ks.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var a=Te.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=a&&e>=a?a:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===ks.ALL||this.myCountPreference===ks.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},t.prototype._updateUnreadMemberState=function(e,r){var a=this._unreadMemberStateMap.get(e);return(!a||a<r)&&(this._unreadMemberStateMap.set(e,r),Te.of(this._iid).sdkState.userId===e&&(this.myLastRead=r),!0)},t.prototype._updateUndeliveredMemberState=function(e,r){var a=this._undeliveredMemberStateMap.get(e);return(!a||a<r)&&(this._undeliveredMemberStateMap.set(e,r),!0)},t.prototype._updateTypingStatus=function(e,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus.set(e.userId,{user:e,ts:r}):this._typingStatus.delete(e.userId)},t.prototype._clearTypingStatus=function(){this._typingStatus.clear(),this._typingStarted=0,this._typingEnded=0},t.prototype._setLatestMemberCount=function(e,r,a){var o=!1;return a>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=a,o=e!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=e,this.joinedMemberCount=r),o},t.prototype.isReadMessage=function(e){var r=Te.of(this._iid).sdkState,a=this._unreadMemberStateMap.get(r.userId);return a&&a>=e.createdAt},t.prototype.serialize=function(){var e=this;return R0(this,function(r){r.cachedUnreadMemberState=e.cachedUnreadMemberState,r.cachedUndeliveredMemberState=e.cachedUndeliveredMemberState})},t.prototype.createMessageCollection=function(e){return e===void 0&&(e={}),new wde(this._iid,Ee({channel:this},e))},t.prototype.createMemberListQuery=function(e){return e===void 0&&(e={}),new Cde(this._iid,this.url,e)},t.prototype.createPinnedMessageListQuery=function(e){return e===void 0&&(e={}),new ehe(this._iid,this.url,this.channelType,e)},t.prototype.addMember=function(e,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var a=this.members.findIndex(function(u){return u.userId===e.userId});if(a>-1){var o=this.members[a];o.state===Qr.JOINED&&(e.state=o.state),this.members.splice(a,1),this.memberCount--}this.members.push(e),this.memberCount++,this._updateUnreadMemberState(e.userId,r),this._updateUndeliveredMemberState(e.userId,r)}},t.prototype.removeMember=function(e){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=e instanceof eo?e.userId:e,a=this.members.findIndex(function(o){return o.userId===r});if(a>-1)return this.members.splice(a,1),this.memberCount--,!0}return!1},t.prototype.getUnreadMemberCount=function(e){var r,a;if(e instanceof Ti&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=Te.of(this._iid).sdkState,u=e.createdAt,h=0;try{for(var f=kn(this.members),m=f.next();!m.done;m=f.next()){var v=m.value;o.userId!==v.userId&&v.state===Qr.JOINED&&e.sender.userId!==v.userId&&(this.cachedUnreadMemberState[v.userId]||0)<u&&h++}}catch(y){r={error:y}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return h}return 0},t.prototype.getUndeliveredMemberCount=function(e){var r,a;if(e instanceof Ti&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=Te.of(this._iid).sdkState,u=e.createdAt,h=0;try{for(var f=kn(this.members),m=f.next();!m.done;m=f.next()){var v=m.value;o.userId!==v.userId&&v.state===Qr.JOINED&&e.sender.userId!==v.userId&&(this.cachedUndeliveredMemberState[v.userId]||0)<u&&h++}}catch(y){r={error:y}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return h}return 0},t.prototype.getReadMembers=function(e,r){var a=this;r===void 0&&(r=!1);var o=Te.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=e instanceof Ti?e.sender:null,h=[];return this.members.forEach(function(f){(r||f.userId!==o.userId&&f.userId!==(u==null?void 0:u.userId))&&a._unreadMemberStateMap.get(f.userId)>=e.createdAt&&h.push(f)}),h},t.prototype.getUnreadMembers=function(e,r){var a=this;r===void 0&&(r=!1);var o=Te.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var u=e instanceof Ti?e.sender:null,h=[];return this.members.forEach(function(f){(r||f.userId!==o.userId&&f.userId!==(u==null?void 0:u.userId))&&a._unreadMemberStateMap.get(f.userId)<e.createdAt&&h.push(f)}),h},t.prototype.getReadStatus=function(e){var r=this;e===void 0&&(e=!1);var a=Te.of(this._iid).sdkState;if(!a.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var o={};return this.members.forEach(function(u){if(e||u.userId!==a.userId){var h=r._unreadMemberStateMap.get(u.userId);o[u.userId]=new f9(r._iid,{channel_url:r.url,channel_type:r.channelType,user:eo.payloadify(u),ts:h})}}),o},t.prototype.getTypingUsers=function(){var e=[];return this._typingStatus.forEach(function(r){var a=r.user;e.push(a)}),e},t.prototype.invalidateTypingStatus=function(){var e=this,r=Te.of(this._iid).typingIndicatorInvalidateTime,a=Date.now(),o=!1;return this._typingStatus.forEach(function(u,h){var f=u.ts;a-f>=r&&(e._typingStatus.delete(h),o=!0)}),o},t.prototype.refresh=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return e=Te.of(this._iid),r=e.requestQueue,a=e.dispatcher,o=new Nx({channelUrl:this.url}),[4,r.send(o)];case 1:return u=f.sent(),h=u.as(Ax).channel,a.dispatch(new Nt({channels:[h],source:et.REQUEST_CHANNEL})),[2,h]}})})},t.prototype.freeze=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,n.prototype.freeze.call(this)];case 1:return e.sent(),Te.of(this._iid).dispatcher.dispatch(new Nt({channels:[this],source:et.EVENT_CHANNEL_HIDDEN})),[2]}})})},t.prototype.unfreeze=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,n.prototype.unfreeze.call(this)];case 1:return e.sent(),Te.of(this._iid).dispatcher.dispatch(new Nt({channels:[this],source:et.EVENT_CHANNEL_UNHIDDEN})),[2]}})})},t.prototype.updateChannel=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return r=Ee(Ee({},xde),e),mn(function(y){return be("string",y.coverUrl,!0)&&(Ii(y.coverImage)||be("string",y.coverImage)||y.coverImage===null)&&be("boolean",y.isDistinct,!0)&&be("boolean",y.isPublic,!0)&&be("boolean",y.isDiscoverable,!0)&&be("string",y.accessCode,!0)&&be("string",y.name,!0)&&be("string",y.data,!0)&&be("string",y.customType,!0)&&bt("string",y.operatorUserIds,!0)&&be("number",y.messageSurvivalSeconds,!0)}(r)).throw(De.invalidParameters),a=Te.of(this._iid),o=a.dispatcher,u=a.requestQueue,h=new Ade(Ee({channelUrl:this.url},r)),[4,u.send(h)];case 1:return f=v.sent(),m=f.as(Ode).channel,o.dispatch(new Nt({channels:[m],source:et.EVENT_CHANNEL_UPDATED})),[2,m]}})})},t.prototype.invite=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return mn(e.every(function(a){return a instanceof kt})).throw(De.invalidParameters),[2,this.inviteWithUserIds(e.map(function(a){return a.userId}))]})})},t.prototype.inviteWithUserIds=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f;return P(this,function(m){switch(m.label){case 0:return mn(bt("string",e)).throw(De.invalidParameters),r=Te.of(this._iid),a=r.dispatcher,o=r.requestQueue,u=new Zue({channelUrl:this.url,userIds:e}),[4,o.send(u)];case 1:return h=m.sent(),f=h.as(Jue).channel,a.dispatch(new Nt({channels:[f],source:et.EVENT_CHANNEL_INVITED})),[2,f]}})})},t.prototype.join=function(e){return e===void 0&&(e=null),F(this,void 0,void 0,function(){var r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return mn(be("string",e)||e===null).throw(De.invalidParameters),r=Te.of(this._iid),a=r.dispatcher,o=r.sdkState,u=r.requestQueue,h=new Kue({channelUrl:this.url,userId:o.userId,accessCode:e}),[4,u.send(h)];case 1:return f=v.sent(),(m=f.as(Wue).channel).myMemberState=this.myMemberState=Qr.JOINED,a.dispatch(new Nt({channels:[m],source:et.EVENT_CHANNEL_JOINED})),[2,this]}})})},t.prototype.leave=function(e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var r,a,o,u;return P(this,function(h){switch(h.label){case 0:return r=Te.of(this._iid),a=r.sdkState,o=r.requestQueue,u=new Yue({channelUrl:this.url,userId:a.userId,shouldRemoveOperatorStatus:e}),[4,o.send(u)];case 1:return h.sent(),this.myMemberState=Qr.NONE,[2]}})})},t.prototype.acceptInvitation=function(e){return e===void 0&&(e=null),F(this,void 0,void 0,function(){var r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return mn(be("string",e)||e===null).throw(De.invalidParameters),r=Te.of(this._iid),a=r.dispatcher,o=r.sdkState,u=r.requestQueue,h=new Ide({channelUrl:this.url,userId:o.userId,accessCode:e}),[4,u.send(h)];case 1:return f=v.sent(),(m=f.as(Nde).channel).myMemberState=this.myMemberState=Qr.JOINED,a.dispatch(new Nt({channels:[m],source:et.EVENT_CHANNEL_ACCEPTED_INVITE})),[2,this]}})})},t.prototype.declineInvitation=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new nde({channelUrl:this.url,userId:r.userId}),[4,a.send(o)];case 1:return u.sent(),this.myMemberState=Qr.NONE,[2,this]}})})},t.prototype.sendUserMessage=function(e){var r=this,a=new Kl,o=Te.of(this._iid).dispatcher,u=hf.of(this._iid);return n.prototype.sendUserMessage.call(this,e).onPending(function(h){u.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){f&&u.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){r.hiddenState===oa.HIDDEN_ALLOW_AUTO_UNHIDE&&(r.hiddenState=oa.UNHIDDEN),u.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),zr.of(r._iid).handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new Nt({channels:[r],source:et.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.updateUserMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,u,h,f=this;return P(this,function(m){switch(m.label){case 0:return a=Te.of(this._iid).dispatcher,[4,n.prototype.updateUserMessage.call(this,e,r)];case 1:return o=m.sent(),u=!1,!o.silent&&this._shouldUpdateLastMessageWith(o)&&(this.lastMessage=o,u=!0),h=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===o.messageId&&(this.lastPinnedMessage=o,u=!0,h=!0),u&&(zr.of(this._iid).handlers.map(function(v){return v.onChannelChanged(f)}),a.dispatch(new Nt({channels:[this],source:h?et.EVENT_PINNED_MESSAGE_UPDATED:et.EVENT_MESSAGE_UPDATED}))),h&&zr.of(this._iid).handlers.map(function(v){return v.onPinnedMessageUpdated(f)}),a.dispatch(new ti({messages:[o],source:ut.EVENT_MESSAGE_UPDATED})),[2,o]}})})},t.prototype._autoResendUserMessage=function(e){var r=this,a=new Kl,o=Te.of(this._iid).dispatcher,u=hf.of(this._iid);return n.prototype._autoResendUserMessage.call(this,e).onPending(function(h){u.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){u.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){var f=zr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new Nt({channels:[r],source:et.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.sendFileMessage=function(e){var r=this,a=new Kl,o=Te.of(this._iid).dispatcher,u=hf.of(this._iid);return n.prototype.sendFileMessage.call(this,e).onPending(function(h){u.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){f&&u.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){var f=zr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new Nt({channels:[r],source:et.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.updateFileMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,u,h,f=this;return P(this,function(m){switch(m.label){case 0:return a=Te.of(this._iid).dispatcher,[4,n.prototype.updateFileMessage.call(this,e,r)];case 1:return o=m.sent(),u=!1,!o.silent&&this._shouldUpdateLastMessageWith(o)&&(this.lastMessage=o,u=!0),h=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===o.messageId&&(this.lastPinnedMessage=o,u=!0,h=!0),u&&(zr.of(this._iid).handlers.map(function(v){return v.onChannelChanged(f)}),a.dispatch(new Nt({channels:[this],source:h?et.EVENT_PINNED_MESSAGE_UPDATED:et.EVENT_MESSAGE_UPDATED}))),h&&zr.of(this._iid).handlers.map(function(v){return v.onPinnedMessageUpdated(f)}),a.dispatch(new ti({messages:[o],source:ut.EVENT_MESSAGE_UPDATED})),[2,o]}})})},t.prototype._autoResendFileMessage=function(e){var r=this,a=new Kl,o=Te.of(this._iid).dispatcher,u=hf.of(this._iid);return n.prototype._autoResendFileMessage.call(this,e).onPending(function(h){u.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){u.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){var f=zr.of(r._iid);u.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new Nt({channels:[r],source:et.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.deleteMessage=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,n.prototype.deleteMessage.call(this,e)];case 1:return r.sent(),e.messageId===0&&e instanceof Ti&&Te.of(this._iid).dispatcher.dispatch(new xU({reqId:e.reqId,source:ut.EVENT_MESSAGE_DELETED})),[2]}})})},t.prototype.hide=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return r=Ee(Ee({},kde),e),mn(function(w){return be("boolean",w.hidePreviousMessages)&&be("boolean",w.allowAutoUnhide)}(r)).throw(De.invalidParameters),a=Te.of(this._iid),o=a.dispatcher,u=a.sdkState,h=a.requestQueue,f=new sde(Ee({channelUrl:this.url,userId:u.userId},r)),[4,h.send(f)];case 1:return m=y.sent(),v=m.as(ode).messageOffsetTimestamp,this.hiddenState=r.allowAutoUnhide?oa.HIDDEN_ALLOW_AUTO_UNHIDE:oa.HIDDEN_PREVENT_AUTO_UNHIDE,r.hidePreviousMessages&&this._updateUnreadCount(0,0),v&&(this.messageOffsetTimestamp=v),o.dispatch(new Nt({channels:[this],source:et.EVENT_CHANNEL_HIDDEN})),[2,this]}})})},t.prototype.unhide=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return e=Te.of(this._iid),r=e.dispatcher,a=e.requestQueue,o=new Mde({channelUrl:this.url}),[4,a.send(o)];case 1:return u.sent(),this.hiddenState=oa.UNHIDDEN,r.dispatch(new Nt({channels:[this],source:et.EVENT_CHANNEL_UNHIDDEN})),[2,this]}})})},t.prototype.delete=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Te.of(this._iid).requestQueue,r=new Rde({channelUrl:this.url}),[4,e.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.markAsRead=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m=this;return P(this,function(v){switch(v.label){case 0:return e=Te.of(this._iid),r=e.sdkState,a=e.dispatcher,o=e.requestQueue,u=new rde({channelUrl:this.url}),[4,o.send(u)];case 1:return h=v.sent(),f=h.as(g9).readStatus,this._updateUnreadMemberState(r.userId,f.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),zr.of(this._iid).handlers.map(function(y){return y.onChannelChanged(m)})),a.dispatch(new Nt({channels:[this],source:et.EVENT_CHANNEL_READ})),[2]}})})},t.prototype.markAsDelivered=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(u){switch(u.label){case 0:return e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new ide({channelUrl:this.url,userId:r.userId}),[4,a.send(o)];case 1:return u.sent(),[2]}})})},t.prototype.startTyping=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u;return P(this,function(h){return e=Te.of(this._iid),r=e.requestQueue,a=e.typingIndicatorThrottle,(o=new Date().getTime())-this._typingStarted>=a&&(this._typingStarted=o,this._typingEnded=0,u=new cde({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},t.prototype.endTyping=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u;return P(this,function(h){return e=Te.of(this._iid),r=e.requestQueue,a=e.typingIndicatorThrottle,(o=new Date().getTime())-this._typingEnded>=a&&(this._typingStarted=0,this._typingEnded=o,u=new dde({channelUrl:this.url,time:this._typingStarted}),r.send(u)),[2]})})},t.prototype.createScheduledUserMessage=function(e){e=Ee(Ee({},Lle),e),mn(Ule(e)).throw(De.invalidParameters);var r=new Kl;return this._createScheduledUserMessage(e,r),r},t.prototype.updateScheduledUserMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,u,h;return P(this,function(f){switch(f.label){case 0:return a=Ee(Ee({},Hde),r),mn(function(m){return FU(m)&&be("number",m.scheduledAt,!0)}(a)).throw(De.invalidParameters),o=Te.of(this._iid).requestQueue,u=new zde(Ee({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},a)),[4,o.send(u)];case 1:return h=f.sent(),[2,h.as(KU).message]}})})},t.prototype.createScheduledFileMessage=function(e){var r=this;e=Ee(Ee({},Ple),e),mn(Fle(e)).throw(De.invalidParameters);var a=Date.now(),o=this._generateRequestId(),u=new Kl;return ko(Rle).then(function(){var h=r._createPendingScheduledFileMessage(e,o,a);Bn(function(){return F(r,void 0,void 0,function(){return P(this,function(f){return[2,u._trigger(null,h)]})})})}),Ii(e.file)?this._uploadFileAndUpdateParams(e).then(function(){return r._createScheduledFileMessage(e,u,o,a)}):this._createScheduledFileMessage(e,u,o,a),u},t.prototype.updateScheduledFileMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,u;return P(this,function(h){switch(h.label){case 0:return a=Ee(Ee({},Fde),r),mn(function(f){return Tk(f)&&be("number",f.scheduledAt,!0)&&(Ii(f.file)||be("string",f.fileUrl))&&be("string",f.fileName,!0)&&be("string",f.mimeType,!0)&&be("number",f.fileSize,!0)&&(f.thumbnailSizes===null||f.thumbnailSizes.every(function(m){return be("object",m)&&m.maxWidth>0&&m.maxHeight>0}))}(a)).throw(De.invalidParameters),Ii(a.file)?[4,this._uploadFileAndUpdateParams(a)]:[3,2];case 1:h.sent(),h.label=2;case 2:return o=new Bde(Ee({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},a)),[4,Te.of(this._iid).requestQueue.send(o)];case 3:return u=h.sent(),[2,u.as($de).message]}})})},t.prototype.cancelScheduledMessage=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=new Vde({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,Te.of(this._iid).requestQueue.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.sendScheduledMessageNow=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=new Gde({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,Te.of(this._iid).requestQueue.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.getMyPushTriggerOption=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return e=Te.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Kde({userId:r.userId,channelUrl:this.url}),[4,a.send(o)];case 1:return u=f.sent(),h=u.as(Wde).pushTriggerOption,this.myPushTriggerOption=h,[2,h]}})})},t.prototype.setMyPushTriggerOption=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return mn(_t(Ed,e)).throw(De.invalidParameters),r=Te.of(this._iid),a=r.dispatcher,o=r.sdkState,u=r.requestQueue,h=new qde({userId:o.userId,channelUrl:this.url,pushTriggerOption:e}),[4,u.send(h)];case 1:return f=v.sent(),m=f.as(jde).pushTriggerOption,this.myPushTriggerOption=m,a.dispatch(new Nt({channels:[this],source:et.EVENT_CHANNEL_UPDATED})),[2,m]}})})},t.prototype.setMyCountPreference=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m;return P(this,function(v){switch(v.label){case 0:return mn(_t(ks,e)).throw(De.invalidParameters),r=Te.of(this._iid),a=r.dispatcher,o=r.sdkState,u=r.requestQueue,h=new Dde({channelUrl:this.url,userId:o.userId,countPreference:e}),[4,u.send(h)];case 1:return f=v.sent(),m=f.as(Lde).countPreference,this.myCountPreference=m,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),a.dispatch(new Nt({channels:[this],source:et.EVENT_CHANNEL_UPDATED})),[2,m]}})})},t.prototype.resetMyHistory=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return e=Te.of(this._iid),r=e.dispatcher,a=e.requestQueue,o=new Ude({channelUrl:this.url}),[4,a.send(o)];case 1:return u=f.sent(),h=u.as(Pde).messageOffsetTimestamp,this.messageOffsetTimestamp=h,r.dispatch(new Nt({channels:[this],source:et.EVENT_CHANNEL_RESET_HISTORY})),[2,this]}})})},t.prototype.pinMessage=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return mn(be("number",e)&&e>0).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new Qde({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.unpinMessage=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return mn(be("number",e)&&e>0).throw(De.invalidParameters),r=Te.of(this._iid).requestQueue,a=new Yde({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype._uploadFileAndUpdateParams=function(e){return F(this,void 0,void 0,function(){var r,a,o,u,h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:return Ii(e.file)?(r=Te.of(this._iid).requestQueue,a=new SU({file:e.file,channelUrl:this.url,thumbnailSizes:e.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(a)]):[3,2];case 1:o=C.sent(),u=o.as(TU),h=u.url,f=u.fileSize,m=f===void 0?e.fileSize:f,v=u.thumbnailSizes,y=v===void 0?e.thumbnailSizes:v,w=u.requireAuth,x=w!==void 0&&w,e.fileUrl=h,e.fileSize=m,e.thumbnailSizes=y,e.requireAuth=x,C.label=2;case 2:return[2]}})})},t}(wx),Bc={},nhe=function(){function n(t){var e=t._iid,r=t.limit,a=r===void 0?100:r,o=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=e,this._limit=a;var u,h=Te.of(this._iid),f=h.sdkState,m=h.dispatcher,v=h.logger;this._metadataKey=(u=f.userId,"sendbird:".concat(u,"@groupchannel/sync.meta"));var y=function(w){return"sendbird:".concat(w,"@groupchannel/sync")}(f.userId);this._sync=new yu(y,function(){return F(o,void 0,void 0,function(){var w,x,C,A,L,S;return P(this,function(k){switch(k.label){case 0:return w={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(k.sent(),v.debug("channel background sync from",this._metadata.token),this._metadata.completed)return[3,9];k.label=2;case 2:return k.trys.push([2,5,,8]),[4,zr.of(this._iid).getMyGroupChannels(this._metadata.token,{includeEmpty:!0,order:li.CHRONOLOGICAL},this._limit,et.SYNC_CHANNEL_BACKGROUND)];case 3:return x=k.sent(),C=x.channels,A=x.token,w.hasNext=C.length>=this._limit&&!!A,w.nextToken=A,this._metadata.token=A,(S=this._metadata.range).extends.apply(S,nt([],Qn(C.map(function(N){return N.createdAt})),!1)),this._metadata.completed=!w.hasNext,v.debug("channel background sync progress",w),[4,this.saveMetadata()];case 4:return k.sent(),[3,8];case 5:return L=k.sent(),v.debug("channel background sync error",L),L instanceof De&&L.isInvalidTokenError?[4,this.clearMetaData()]:[3,7];case 6:k.sent(),k.label=7;case 7:throw L;case 8:return[3,10];case 9:w.hasNext=!1,w.nextToken="",k.label=10;case 10:return[2,w]}})})}),this._connectionEventContext=m.on(function(w){w instanceof hs&&(w.stateType===Vt.CONNECTED?o.resume():o.pause())})}return n.of=function(t){return Bc[t]||(Bc[t]=new n({_iid:t})),Bc[t].ref++,Bc[t]},n.clear=function(t){Bc[t]&&(Bc[t].close(),delete Bc[t])},Object.defineProperty(n.prototype,"range",{get:function(){var t;return(t=this._metadata)===null||t===void 0?void 0:t.range},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"completed",{get:function(){var t;return!!(!((t=this._metadata)===null||t===void 0)&&t.completed)},enumerable:!1,configurable:!0}),n.prototype.loadMetadata=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,Te.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:t=e.sent(),this._metadata={token:t?t.token:"",range:new Ql(t?t.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!t&&t.completed},e.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Te.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetaData=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Te.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){var t,e,r=Te.of(this._iid),a=r.logger;r.connectionManager.isConnected&&(a.debug("channel background sync resume()"),this._sync.start((e=(t=this._metadata)===null||t===void 0?void 0:t.token)!==null&&e!==void 0?e:""))},n.prototype.pause=function(){Te.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Bc[this._iid])},n}(),$c={},the=function(){function n(t){var e=t._iid,r=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadataKey=null,this._metadata=null,this._iid=e;var a,o=Te.of(this._iid),u=o.logger,h=o.sdkState,f=o.dispatcher;this._metadataKey=(a=h.userId,"sendbird:".concat(a,"@groupchannel/changelogs.meta"));var m=function(v){return"sendbird:".concat(v,"@groupchannel/changelogs")}(h.userId);this._sync=new yu(m,function(){return F(r,void 0,void 0,function(){var v,y,w,x,C;return P(this,function(A){switch(A.label){case 0:return v={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:A.sent(),u.debug("channel changelog sync from",this._metadata.token),A.label=2;case 2:return A.trys.push([2,5,,8]),[4,zr.of(this._iid).getMyGroupChannelChangeLogs(this._metadata.token,{includeEmpty:!0},et.SYNC_CHANNEL_CHANGELOGS)];case 3:return y=A.sent(),w=y.hasMore,x=y.token,v.hasNext=w,v.nextToken=x,this._metadata.token=x,u.debug("channel changelog sync progress",v),[4,this.saveMetadata()];case 4:return A.sent(),[3,8];case 5:return C=A.sent(),u.debug("channel changelog sync error",C),C instanceof De&&C.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:A.sent(),A.label=7;case 7:throw C;case 8:return[2,v]}})})}),this._connectionEventContext=f.on(function(v){v instanceof hs&&(v.stateType===Vt.CONNECTED?r.resume():r.pause())})}return n.of=function(t){return $c[t]||($c[t]=new n({_iid:t})),$c[t].ref++,$c[t]},n.clear=function(t){$c[t]&&($c[t].close(),delete $c[t])},n.prototype.loadMetadata=function(){return F(this,void 0,void 0,function(){var t,e,r,a;return P(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(t=Te.of(this._iid),e=t.cacheContext,r=t.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:a=o.sent(),this._metadata={token:a?a.token:r},o.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Te.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Te.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){Te.of(this._iid).connectionManager.isConnected&&this._sync.start(0)},n.prototype.pause=function(){this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete $c[this._iid])},n}(),rhe=function(){function n(t,e){var r=e.filter,a=e.order,o=e.limit,u=this;this.channels=[],this._backgroundSync=null,this._changelogSync=null,this._iid=t,this._key="gcc-".concat(Tu()),this._isDisposed=!1,this.filter=r??new _9,this.order=a??li.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=o??RU;var h=Te.of(this._iid),f=h.sdkState,m=h.cacheContext,v=h.dispatcher;m.localCacheEnabled&&(this._backgroundSync=nhe.of(t),this._backgroundSync.resume()),this._changelogSync=the.of(t),this._changelogSync.resume(),zr.of(this._iid).subscribeGroupChannelEvent(this._key,{onUpdate:function(y,w){if(bg(w)){var x=y.filter(function(A){return u.filter.match(A,f.userId)}),C=y.filter(function(A){return!u.filter.match(A,f.userId)}).map(function(A){return A.url});x.length>0&&u._addChannelsToView(x,w),C.length>0&&u._removeChannelsFromView(C,w)}},onRemove:function(y,w){u._removeChannelsFromView(y,w)}}),Te.of(this._iid).statLogCollector.put(new kd({type:hl.FEATURE_LOCALCACHE,data:{use_local_cache:m.localCacheEnabled,collection_interface:{group_channel:!0}}})),v.on(function(y){y instanceof hs&&y.stateType===Vt.LOGOUT&&u.dispose()})}return Object.defineProperty(n.prototype,"hasMore",{get:function(){return!this._isDisposed&&this._hasMore},enumerable:!1,configurable:!0}),n.prototype.setGroupChannelCollectionHandler=function(t){this._handler=t},n.prototype._addChannelsToView=function(t,e,r){var a,o,u,h,f=this;r===void 0&&(r=!1);var m=[],v=[],y=[];try{for(var w=kn(t),x=w.next();!x.done;x=w.next()){var C=x.value,A=yde(this.channels,C,this.order),L=A.place,S=A.oldPosition;if(S===-1)L===this.channels.length?!r&&this._hasMore||(m.push(C),this.channels.push(C)):(m.push(C),this.channels.splice(L,0,C));else switch(e){case et.EVENT_CHANNEL_UPDATED:case et.EVENT_MESSAGE_RECEIVED:case et.SYNC_CHANNEL_CHANGELOGS:case et.EVENT_MESSAGE_SENT:L!==S?this._hasMore&&L===this.channels.length?y.push(C):(this.channels.splice(S,1),this.channels.splice(S<L?L-1:L,0,C),v.push(C)):(v.push(C),this.channels[S]=C);break;default:v.push(C),this.channels[L]=C}}}catch(H){a={error:H}}finally{try{x&&!x.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(y.length>0)try{for(var k=kn(y),N=k.next();!N.done;N=k.next()){C=N.value;var O=Ok(this.channels,C);O!==-1&&this.channels.splice(O,1)}}catch(H){u={error:H}}finally{try{N&&!N.done&&(h=k.return)&&h.call(k)}finally{if(u)throw u.error}}bg(e)&&Bn(function(){return F(f,void 0,void 0,function(){var H,D,T,M;return P(this,function(q){return H=new $f(e),m.length>0&&(!((D=this._handler)===null||D===void 0)&&D.onChannelsAdded)&&this._handler.onChannelsAdded(H,m),v.length>0&&(!((T=this._handler)===null||T===void 0)&&T.onChannelsUpdated)&&this._handler.onChannelsUpdated(H,v),y.length>0&&(!((M=this._handler)===null||M===void 0)&&M.onChannelsDeleted)&&this._handler.onChannelsDeleted(H,y.map(function(z){return z.url})),[2]})})})},n.prototype._removeChannelsFromView=function(t,e){var r,a,o=this,u=[],h=function(y){var w=f.channels.findIndex(function(x){return x.url===y});w>=0&&(u.push(f.channels[w].url),f.channels.splice(w,1))},f=this;try{for(var m=kn(t),v=m.next();!v.done;v=m.next())h(v.value)}catch(y){r={error:y}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}return bg(e)&&u.length>0&&Bn(function(){return F(o,void 0,void 0,function(){var y,w;return P(this,function(x){return y=new $f(e),!((w=this._handler)===null||w===void 0)&&w.onChannelsDeleted&&this._handler.onChannelsDeleted(y,u),[2]})})}),u},n.prototype._getLocalChannels=function(){return F(this,void 0,void 0,function(){var t,e;return P(this,function(r){switch(r.label){case 0:return t=zr.of(this._iid),e=this.channels.length>0?function(a,o){var u,h;switch(o){case li.LATEST_LAST_MESSAGE:return(h=(u=a.lastMessage)===null||u===void 0?void 0:u.createdAt)!==null&&h!==void 0?h:a.createdAt;case li.CHRONOLOGICAL:return a.createdAt;case li.CHANNEL_NAME_ALPHABETICAL:return a.name}return null}(this.channels[this.channels.length-1],this.order):null,[4,t.getChannelsFromCache(e,this.filter,this.order,this._limit,e?this.channels[this.channels.length-1].url:null)];case 1:return[2,r.sent()]}})})},n.prototype._getRemoteChannels=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return[4,zr.of(this._iid).getMyGroupChannels(this._token,Ee(Ee({},this.filter),{order:this.order}),this._limit)];case 1:return t=a.sent(),e=t.channels,r=t.token,this._token=r,this._hasMore=!!r,[2,e]}})})},n.prototype.loadMore=function(){return F(this,void 0,void 0,function(){var t,e,r=this;return P(this,function(a){switch(a.label){case 0:if(this._isDisposed)throw new De({code:xt.COLLECTION_DISPOSED,message:"Collection has been disposed."});return this._hasMore?(t=Te.of(this._iid).cacheContext,e=[],t.localCacheEnabled&&this._backgroundSync.completed?[3,2]:[4,oi(function(){return F(r,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,this._getRemoteChannels()];case 1:return e=o.sent(),[2]}})})})]):[3,5];case 1:a.sent(),a.label=2;case 2:return t.localCacheEnabled&&e.length===0?[4,oi(function(){return F(r,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,this._getLocalChannels()];case 1:return e=o.sent(),[2]}})})})]:[3,4];case 3:a.sent(),this._backgroundSync.completed&&(this._hasMore=e.length>=this._limit),a.label=4;case 4:return this._addChannelsToView(e,et.REQUEST_CHANNEL,!0),[2,e];case 5:return[2,[]]}})})},n.prototype.dispose=function(){var t,e;this._isDisposed||(this._isDisposed=!0,this.channels.length>0&&this.channels.splice(0,this.channels.length),(t=this._backgroundSync)===null||t===void 0||t.close(),(e=this._changelogSync)===null||e===void 0||e.close(),zr.of(this._iid).unsubscribeGroupChannelEvent(this._key))},n}(),ihe=function(n){function t(e){var r=this,a=e.token,o=e.limit,u=e.order,h=e.includeEmpty,f=e.membershipFilter,m=e.channelNameContainsFilter,v=e.channelUrlsFilter,y=e.customTypesFilter,w=e.customTypeStartsWithFilter,x=e.superChannelFilter,C=e.metadataOrderKeyFilter,A=e.metadataKey,L=e.metadataValues,S=e.metadataValueStartsWith,k=e.includeFrozen,N=e.includeMetaData;return(r=n.call(this)||this).method=hn.GET,r.path=_a,r.params=at({token:a,limit:o,order:u,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:h,public_mode:tc.PUBLIC,public_membership_mode:f,name_contains:m,channel_urls:v,custom_types:y,custom_type_startswith:w,super_mode:x,metadata_order_key:C,metadata_key:A,metadata_values:L,metadata_value_startswith:S,show_frozen:k,show_metadata:N}),r}return ne(t,n),t}(fn),ahe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.channels=[],a.ts=null;var o=r.next,u=r.channels,h=r.ts;return a.token=o,u&&u.length>0&&(a.channels=u.map(function(f){return f.ts=h,new Rs(e,f)})),a.ts=typeof h=="number"?h:null,a}return ne(t,n),t}(vn);(function(n){n.ALL="all",n.JOINED="joined"})(qf||(qf={}));var she=function(n){function t(e,r){var a,o,u,h,f,m,v,y,w,x,C,A,L,S,k=this;return(k=n.call(this,e,r)||this).includeEmpty=!1,k.includeFrozen=!0,k.includeMetaData=!0,k.channelUrlsFilter=null,k.customTypesFilter=null,k.customTypeStartsWithFilter=null,k.channelNameContainsFilter=null,k.membershipFilter=qf.ALL,k.superChannelFilter=ds.ALL,k.metadataKey=null,k.metadataValues=null,k.metadataOrderKeyFilter=null,k.metadataValueStartsWith=null,k.order=Hf.CHRONOLOGICAL,k.includeEmpty=(a=r.includeEmpty)!==null&&a!==void 0&&a,k.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,k.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,k.channelUrlsFilter=(h=r.channelUrlsFilter)!==null&&h!==void 0?h:null,k.customTypesFilter=(f=r.customTypesFilter)!==null&&f!==void 0?f:null,k.customTypeStartsWithFilter=(m=r.customTypeStartsWithFilter)!==null&&m!==void 0?m:null,k.channelNameContainsFilter=(v=r.channelNameContainsFilter)!==null&&v!==void 0?v:null,k.membershipFilter=(y=r.membershipFilter)!==null&&y!==void 0?y:qf.ALL,k.superChannelFilter=(w=r.superChannelFilter)!==null&&w!==void 0?w:ds.ALL,k.metadataKey=(x=r.metadataKey)!==null&&x!==void 0?x:null,k.metadataValues=(C=r.metadataValues)!==null&&C!==void 0?C:null,k.metadataOrderKeyFilter=(A=r.metadataOrderKeyFilter)!==null&&A!==void 0?A:null,k.metadataValueStartsWith=(L=r.metadataValueStartsWith)!==null&&L!==void 0?L:null,k.order=(S=r.order)!==null&&S!==void 0?S:Hf.CHRONOLOGICAL,k}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&be("boolean",this.includeEmpty)&&be("boolean",this.includeFrozen)&&be("boolean",this.includeMetaData)&&be("string",this.channelNameContainsFilter,!0)&&bt("string",this.channelUrlsFilter,!0)&&bt("string",this.customTypesFilter,!0)&&be("string",this.customTypeStartsWithFilter,!0)&&_t(qf,this.membershipFilter)&&_t(ds,this.superChannelFilter)&&_t(Hf,this.order)&&be("string",this.metadataOrderKeyFilter,!0)&&be("string",this.metadataKey,!0)&&bt("string",this.metadataValues,!0)&&be("string",this.metadataValueStartsWith,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=Te.of(this._iid),a=r.requestQueue,o=r.dispatcher,u=new ihe(Ee(Ee({},this),{token:this._token})),[4,a.send(u)]):[3,2]):[3,5];case 1:return h=y.sent(),f=h.as(ahe),m=f.channels,v=f.token,this._token=v,this._hasNext=!!v,o.dispatch(new Nt({channels:m,source:et.REQUEST_CHANNEL})),this._isLoading=!1,[2,m];case 2:return[2,e];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(uc),ohe=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ne(t,n),t}(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onUserJoined=gt,e.onUserLeft=gt,e.onUserReceivedInvitation=gt,e.onUserDeclinedInvitation=gt,e.onChannelHidden=gt,e.onUnreadMemberStatusUpdated=gt,e.onUndeliveredMemberStatusUpdated=gt,e.onTypingStatusUpdated=gt,e.onPollUpdated=gt,e.onPollVoted=gt,e.onPollDeleted=gt,e.onPinnedMessageUpdated=gt,e}return ne(t,n),t}(u9)),lhe=function(n){function t(e){var r=this,a=e.token,o=e.limit,u=e.order,h=e.reverse,f=e.channelUrl,m=e.messageTypeFilter,v=e.scheduledStatus;return(r=n.call(this)||this).method=hn.GET,r.path="".concat(fU),r.params=at({limit:o,reverse:h,channel_url:f,order:u,status:v}),a&&(r.params.token=a),m&&(r.params.message_type=m),r}return ne(t,n),t}(fn),che=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.scheduledMessages=[];var o=r.next,u=r.scheduled_messages;return a.token=o,a.scheduledMessages=u.map(function(h){return Ga(e,h)}),a}return ne(t,n),t}(vn),uhe=function(n){function t(e,r){var a,o,u,h,f,m=this;return(m=n.call(this,e,r)||this).channelUrl=null,m.order=null,m.reverse=!1,m.scheduledStatus=null,m.messageTypeFilter=ji.ALL,m.channelUrl=(a=r.channelUrl)!==null&&a!==void 0?a:null,m.order=(o=r.order)!==null&&o!==void 0?o:null,m.reverse=(u=r.reverse)!==null&&u!==void 0&&u,m.scheduledStatus=(h=r.scheduledStatus)!==null&&h!==void 0?h:null,m.messageTypeFilter=(f=r.messageTypeFilter)!==null&&f!==void 0?f:ji.ALL,m}return ne(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&be("string",this.channelUrl,!0)&&(_t(xx,this.order)||this.order===null)&&be("boolean",this.reverse)&&(bt(eu,this.scheduledStatus)||this.scheduledStatus===null)&&_t(ji,this.messageTypeFilter)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,u,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Te.of(this._iid).requestQueue,r=new lhe(Ee(Ee({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(che),u=o.scheduledMessages,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,u];case 2:return[2,[]];case 3:throw De.queryInProgress;case 4:return[3,6];case 5:throw De.invalidParameters;case 6:return[2]}})})},t}(uc),dhe=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="groupChannel",e}return ne(t,n),t.prototype.init=function(e,r){var a=r.sdkState,o=r.dispatcher,u=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:o,sessionManager:u,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v}),this._manager=new zr(e,{sdkState:a,cacheContext:v,dispatcher:o,sessionManager:u,requestQueue:h,logger:f})},t.prototype.createGroupChannelCollection=function(e){return e===void 0&&(e={}),new rhe(this._iid,e)},t.prototype.createMyGroupChannelListQuery=function(e){return e===void 0&&(e={}),new b9(this._iid,e)},t.prototype.createPublicGroupChannelListQuery=function(e){return e===void 0&&(e={}),new she(this._iid,e)},t.prototype.createScheduledMessageListQuery=function(e){return e===void 0&&(e={}),new uhe(this._iid,e)},t.prototype.addGroupChannelHandler=function(e,r){mn(be("string",e)&&r instanceof ohe).throw(De.invalidParameters),this._manager.addHandler(e,r)},t.prototype.removeGroupChannelHandler=function(e){mn(be("string",e)).throw(De.invalidParameters),this._manager.removeHandler(e)},t.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildGroupChannelFromSerializedData=function(e){return this._manager.buildGroupChannelFromSerializedData(e)},t.prototype.buildGroupChannelListQueryFromSerializedData=function(e){return this._manager.buildGroupChannelListQueryFromSerializedData(e)},t.prototype.buildMemberFromSerializedData=function(e){return this._manager.buildMemberFromSerializedData(e)},t.prototype.getChannel=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return mn(be("string",e)).throw(De.invalidParameters),[2,this._manager.getChannel(e)]})})},t.prototype.getChannelWithoutCache=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return mn(be("string",e)).throw(De.invalidParameters),[2,this._manager.getChannelWithoutCache(e)]})})},t.prototype.getMyGroupChannelChangeLogsByToken=function(e,r){return r===void 0&&(r={}),F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Ee(Ee({},fb),r),mn(be("string",e)&&Ix(a)).throw(De.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getMyGroupChannelChangeLogsByTimestamp=function(e,r){return r===void 0&&(r={}),F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Ee(Ee({},fb),r),mn(be("number",e)&&Ix(a)).throw(De.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getGroupChannelCount=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=Ee(Ee({},m9),e),mn(v9(r)).throw(De.invalidParameters),[2,this._manager.getGroupChannelCount(r)]})})},t.prototype.getUnreadItemCount=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getTotalUnreadChannelCount=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,e.sent()]}})})},t.prototype.getTotalUnreadMessageCount=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getTotalScheduledMessageCount=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){return this._manager.getSubscribedCustomTypeUnreadMessageCount(e)},t.prototype.createChannel=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=Ee(Ee({},wg),e),mn(Cx(r)).throw(De.invalidParameters),[2,this._manager.createChannel(r)]})})},t.prototype.createDistinctChannelIfNotExist=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=Ee(Ee({},wg),e),mn(Cx(r)).throw(De.invalidParameters),r&&(r.isDistinct=!0),[2,this.createChannel(r)]})})},t.prototype.createChannelWithUserIds=function(e,r,a,o,u,h){return r===void 0&&(r=!1),a===void 0&&(a=null),o===void 0&&(o=null),u===void 0&&(u=""),h===void 0&&(h=""),F(this,void 0,void 0,function(){var f;return P(this,function(m){return f=Ee(Ee({},wg),{invitedUserIds:e,isDistinct:r,name:a,data:u,customType:h}),typeof o=="string"?f.coverUrl=o:f.coverImage=o,[2,this.createChannel(f)]})})},t.prototype.markAsReadAll=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return this._manager.markAsReadAll(),[2]})})},t.prototype.markAsReadWithChannelUrls=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return mn(bt("string",e)).throw(De.invalidParameters),this._manager.markAsReadWithChannelUrls(e),[2]})})},t.prototype.markAsDelivered=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return mn(be("string",e)).throw(De.invalidParameters),[4,this.getChannel(e)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},t}(Kb);const y9={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"]},hhe={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},A8=n=>n===""||n===null,E9=n=>y9.IMAGE.indexOf(n)>=0,w9=n=>y9.VIDEO.indexOf(n)>=0,O8=n=>E9(n)||w9(n),phe=n=>{var t;return n&&((n==null||(t=n.isUserMessage)===null||t===void 0?void 0:t.call(n))||(n==null?void 0:n.messageType)==="user")},fhe=n=>phe(n)&&(n==null?void 0:n.updatedAt)>0,x9=()=>gn({},hhe),_he=(n,t)=>Array.isArray(t)?[...n,...t]:(n.push(t),n),Rx=n=>Array.isArray(n)?n.reduce(_he,[]).join(" "):n,mhe=/^((http|https):\/\/)?([a-z\d]+\.)+[a-z]{2,6}(\:[0-9]{1,5})?(\/[-a-zA-Z\d%_.~+&=]*)*(\?[;&a-zA-Z\d%_.~+=-]*)?(\#[-a-zA-Z\d_]*)?$/,vhe=n=>mhe.test(n),ghe=(n,t)=>{if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return!1},bhe=10,yhe=1e3,Ehe=6e5,whe="audio/webm",xhe=128e3,W3="sendbird-voice-player-provider-root",R8="sendbird-global-audio-player-id",Mx="Voice_message.mp3",xg="audio/mp3;sbu_type=voice";function oo(){return K.useContext(LL)}const k9="INITIALIZE_AUDIO_UNIT",S9="SET_CURRENT_PLAYER",T9="ON_VOICE_PLAYER_PLAY",C9="ON_VOICE_PLAYER_PAUSE",I9="ON_CURRENT_TIME_UPDATE",kg={IDLE:"IDLE",PREPARING:"PREPARING",PLAYING:"PLAYING",PAUSED:"PAUSED",COMPLETED:"COMPLETED"},pf=()=>({audioFile:null,playbackTime:0,duration:1e3,playingStatus:kg.IDLE}),khe={currentPlayer:null,currentGroupKey:"",audioStorage:{}};function She(n,t){switch(t.type){case k9:{var e;const{groupKey:u}=t.payload,h=(e=n.audioStorage)!==null&&e!==void 0&&e[u]?n.audioStorage[u]:pf();return h.playingStatus=kg.PREPARING,gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[u]:h})})}case S9:{const{audioPlayer:u,groupKey:h}=t.payload;return gn(gn({},n),{},{currentPlayer:u,currentGroupKey:h})}case T9:{var r;const{groupKey:u,audioFile:h}=t.payload,f=(r=n.audioStorage)!==null&&r!==void 0&&r[u]?n.audioStorage[u]:pf();return f.audioFile=h,f.playingStatus=kg.PLAYING,gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[u]:f})})}case C9:{var a;const{groupKey:u}=t.payload,h=(a=n.audioStorage)!==null&&a!==void 0&&a[u]?n.audioStorage[u]:pf();h.playingStatus=kg.PAUSED;const{currentTime:f,duration:m}=n.currentPlayer;return h.playbackTime===h.duration?h.playbackTime=0:f>0&&m>0&&(h.playbackTime=f,h.duration=m),gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[u]:h})})}case I9:{var o;const{groupKey:u}=t.payload,{currentTime:h,duration:f}=n.currentPlayer,m=(o=n.audioStorage)!==null&&o!==void 0&&o[u]?n.audioStorage[u]:pf();return h>0&&f>0&&(m.playbackTime=h,m.duration=f),gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[u]:m})})}default:return n}}const Q3=()=>{},The={currentGroupKey:"",currentPlayer:null,audioStorage:{}},Che=K.createContext({play:Q3,pause:Q3,stop:Q3,voicePlayerStore:The}),M8=n=>{let{children:t}=n;const[e,r]=K.useReducer(She,khe),{currentGroupKey:a,currentPlayer:o,audioStorage:u}=e,{config:h}=oo(),{logger:f}=h,m=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";a.includes(w)&&(f.info("VoicePlayer: Pause playing(by text)."),v(a))},v=w=>{a===w&&o!==null&&(f.info("VoicePlayer: Pause playing(by group key)."),o==null||o.pause())},y=w=>{let{groupKey:x,audioFile:C=null,audioFileUrl:A=""}=w;x!==a&&v(a);const L=document.getElementById(W3),S=document.getElementById(R8);S&&L.removeChild(S),f.info("VoicePlayer: Start getting audio file."),new Promise(k=>{var N;C&&(k(C),f.info("VoicePlayer: Use the audioFile instance.")),u!=null&&(N=u[x])!==null&&N!==void 0&&N.audioFile&&(k(u[x].audioFile),f.info("VoicePlayer: Get from the audioStorage.")),r({type:k9,payload:{groupKey:x}}),fetch(A).then(O=>O.blob()).then(O=>{const H=new File([O],Mx,{lastModified:new Date().getTime(),type:xg});k(H),f.info("VoicePlayer: Get the audioFile from URL.")})}).then(k=>{var N,O;f.info("VoicePlayer: Succeeded getting audio file.",k);const H=u[x]||pf(),D=new Audio((N=URL)===null||N===void 0||(O=N.createObjectURL)===null||O===void 0?void 0:O.call(N,k));D.id=R8,D.currentTime=H.playbackTime,D.volume=1,D.loop=!1,D.onplaying=()=>{f.info("VoicePlayer: OnPlaying event is called from audioPlayer",{groupKey:x,audioPlayer:D}),r({type:T9,payload:{groupKey:x,audioFile:k}})},D.onpause=()=>{f.info("VoicePlayer: OnPause event is called from audioPlayer",{groupKey:x,audioPlayer:D}),r({type:C9,payload:{groupKey:x}})},D.ontimeupdate=()=>{r({type:I9,payload:{groupKey:x}})},D==null||D.play(),document.getElementById(W3).appendChild(D),r({type:S9,payload:{groupKey:x,audioPlayer:D}}),f.info("VoicePlayer: Succeeded playing audio player.",{groupKey:x,audioPlayer:D})})};return R.createElement(Che.Provider,{value:{play:y,pause:v,stop:m,voicePlayerStore:e}},R.createElement("div",{id:W3,style:{display:"none"}}),t)},D8=()=>{},Ihe=K.createContext({start:D8,stop:D8,isRecordable:!1}),Nhe=n=>{const{children:t}=n,{config:e}=oo(),{logger:r,isVoiceMessageEnabled:a}=e,[o,u]=K.useState(null),[h,f]=K.useState(!1),[m,v]=K.useState(null);K.useEffect(()=>{a&&!m&&Promise.resolve().then(function(){return a1e}).then(x=>{v(x)})},[]);const y=K.useCallback(x=>{var C,A,L;if(a&&!m){r.error("VoiceRecorder: Recording audio processor is being loaded.");return}r.info("VoiceRecorder: Start recording."),o&&(w(),r.info("VoiceRecorder: Previous mediaRecorder is stopped.")),(C=navigator)===null||C===void 0||(A=C.mediaDevices)===null||A===void 0||(L=A.getUserMedia)===null||L===void 0||L.call(A,{audio:!0}).then(S=>{r.info("VoiceRecorder: Succeeded getting media stream.",S),f(!0);const k=new MediaRecorder(S,{mimeType:whe,audioBitsPerSecond:xhe});k.ondataavailable=N=>{var O,H,D;r.info("VoiceRecorder: Succeeded getting an available data.",N.data);const T=new File([N.data],Mx,{lastModified:new Date().getTime(),type:xg});m==null||m.downsampleToWav(T,M=>{const q=m==null?void 0:m.encodeMp3(M),z=new Blob(q,{type:xg}),re=new File([z],Mx,{lastModified:new Date().getTime(),type:xg});x==null||x.onRecordingEnded(re),r.info("VoiceRecorder: Succeeded converting audio file.",re)}),S==null||(O=S.getAudioTracks)===null||O===void 0||(H=(D=O.call(S)).forEach)===null||H===void 0||H.call(D,M=>M==null?void 0:M.stop()),f(!1)},k==null||k.start(),u(k),x==null||x.onRecordingStarted()}).catch(S=>{r.error("VoiceRecorder: Failed getting media stream.",S),u(null)})},[o,m]),w=K.useCallback(()=>{o==null||o.stop(),u(null),f(!1),r.info("VoiceRecorder: Stop recording.")},[o]);return R.createElement(Ihe.Provider,{value:{start:y,stop:w,isRecordable:h}},t)},Dx=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en";return{en:{MESSAGE_STATUS__YESTERDAY:"Yesterday",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_PREVIEW_MOBILE_LEAVE:"Leave channel",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__SELECT_TITLE:"Select members",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__OPERATORS__ADD_BUTTON:"Add",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL:"All muted members",CHANNEL_SETTING__NO_UNMUTED:"No muted members yet",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",CHANNEL_SETTING__MODERATION__EMPTY_BAN:"No banned members yet",CHANNEL_SETTING__MODERATION__ALL_BAN:"All banned members",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",OPEN_CHANNEL_CONVERSATION__SELECT_PARTICIPANTS:"Select participants",OPEN_CHANNEL_LIST__TITLE:"Channels",CREATE_OPEN_CHANNEL_LIST__TITLE:"New channel profile",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION:"Channel image",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD:"Upload",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION:"Channel name",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER:"Enter channel name",CREATE_OPEN_CHANNEL_LIST__SUBMIT:"Create",OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",TRYING_TO_CONNECT:"Trying to connect",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTED:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",MODAL__LEAVE_CHANNEL__TITLE:"Leave this channel?",MODAL__LEAVE_CHANNEL__FOOTER:"Leave",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_MUTED:"You're muted by the operator.",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_FROZEN:"Channel is frozen.",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you're muted",MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT:"You're muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BUTTON__OK:"OK",BADGE__OVER:"+",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__THREAD:"Reply in thread",MESSAGE_MENU__OPEN_IN_CHANNEL:"Open in channel",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",MESSAGE_MENU__SAVE:"Save",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",CONTEXT_MENU_DROPDOWN__SAVE:"Save",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",QUOTED_MESSAGE__UNAVAILABLE:"Message unavailable",THREAD__HEADER_TITLE:"Thread",CHANNEL__THREAD_REPLY:"reply",CHANNEL__THREAD_REPLIES:"replies",CHANNEL__THREAD_OVER_MAX:"99+",THREAD__THREAD_REPLY:"reply",THREAD__THREAD_REPLIES:"replies",THREAD__INPUT__REPLY_TO_THREAD:"Reply to thread",THREAD__INPUT__REPLY_IN_THREAD:"Reply in thread",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times at a time.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message",VOICE_MESSAGE:"Voice Message"}}[n]};var Ahe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ohe=function(t,e,r){var a,o=Ahe[t];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Y3(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}var Rhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dhe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lhe={date:Y3({formats:Rhe,defaultWidth:"full"}),time:Y3({formats:Mhe,defaultWidth:"full"}),dateTime:Y3({formats:Dhe,defaultWidth:"full"})},Uhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Phe=function(t,e,r,a){return Uhe[t]};function jp(n){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",a;if(r==="formatting"&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,u=e!=null&&e.width?String(e.width):o;a=n.formattingValues[u]||n.formattingValues[o]}else{var h=n.defaultWidth,f=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[h]}var m=n.argumentCallback?n.argumentCallback(t):t;return a[m]}}var Fhe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hhe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$he={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ghe=function(t,e){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},qhe={ordinalNumber:Ghe,era:jp({values:Fhe,defaultWidth:"wide"}),quarter:jp({values:Hhe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:jp({values:Bhe,defaultWidth:"wide"}),day:jp({values:$he,defaultWidth:"wide"}),dayPeriod:jp({values:zhe,defaultWidth:"wide",formattingValues:Vhe,defaultFormattingWidth:"wide"})};function Kp(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=t.match(a);if(!o)return null;var u=o[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Khe(h,function(y){return y.test(u)}):jhe(h,function(y){return y.test(u)}),m;m=n.valueCallback?n.valueCallback(f):f,m=e.valueCallback?e.valueCallback(m):m;var v=t.slice(u.length);return{value:m,rest:v}}}function jhe(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function Khe(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function Whe(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var a=r[0],o=t.match(n.parsePattern);if(!o)return null;var u=n.valueCallback?n.valueCallback(o[0]):o[0];u=e.valueCallback?e.valueCallback(u):u;var h=t.slice(a.length);return{value:u,rest:h}}}var Qhe=/^(\d+)(th|st|nd|rd)?/i,Yhe=/\d+/i,Xhe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zhe={any:[/^b/i,/^(a|c)/i]},Jhe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},e0e={any:[/1/i,/2/i,/3/i,/4/i]},n0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},r0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},i0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},a0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o0e={ordinalNumber:Whe({matchPattern:Qhe,parsePattern:Yhe,valueCallback:function(t){return parseInt(t,10)}}),era:Kp({matchPatterns:Xhe,defaultMatchWidth:"wide",parsePatterns:Zhe,defaultParseWidth:"any"}),quarter:Kp({matchPatterns:Jhe,defaultMatchWidth:"wide",parsePatterns:e0e,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Kp({matchPatterns:n0e,defaultMatchWidth:"wide",parsePatterns:t0e,defaultParseWidth:"any"}),day:Kp({matchPatterns:r0e,defaultMatchWidth:"wide",parsePatterns:i0e,defaultParseWidth:"any"}),dayPeriod:Kp({matchPatterns:a0e,defaultMatchWidth:"any",parsePatterns:s0e,defaultParseWidth:"any"})},l0e={code:"en-US",formatDistance:Ohe,formatLong:Lhe,formatRelative:Phe,localize:qhe,match:o0e,options:{weekStartsOn:0,firstWeekContainsDate:1}},N9=l0e;const Ro=R.createContext({stringSet:Dx("en"),dateLocale:N9}),c0e=n=>{const{children:t}=n;return R.createElement(Ro.Provider,{value:n},t)},M0=()=>R.useContext(Ro),A9="0px",O9="sendbird--mobile-mode",R9=R.createContext({mediaQueryBreakPoint:A9,isMobile:!1}),L8=()=>{try{document.querySelector("body").classList.add(O9)}catch{}},U8=()=>{try{document.querySelector("body").classList.remove(O9)}catch{}},u0e=n=>{const{children:t,logger:e}=n,r=(n==null?void 0:n.mediaQueryBreakPoint)||A9,[a,o]=K.useState(!1);return K.useEffect(()=>{var u;const h=()=>{if(typeof r=="boolean")if(o(r),r){var f;e==null||(f=e.info)===null||f===void 0||f.call(e,"MediaQueryProvider: isMobile: true"),L8()}else{var m;e==null||(m=e.info)===null||m===void 0||m.call(e,"MediaQueryProvider: isMobile: false"),U8()}else{var v;const x=window.matchMedia(`(max-width: ${r})`);if(e==null||(v=e.info)===null||v===void 0||v.call(e,`MediaQueryProvider: Screensize updated to ${r}`),x.matches){var y;o(!0),L8(),e==null||(y=e.info)===null||y===void 0||y.call(e,"MediaQueryProvider: isMobile: true")}else{var w;o(!1),U8(),e==null||(w=e.info)===null||w===void 0||w.call(e,"MediaQueryProvider: isMobile: false")}}};return h(),window.addEventListener("resize",h),e==null||(u=e.info)===null||u===void 0||u.call(e,"MediaQueryProvider: addEventListener",h),()=>{var f;window.removeEventListener("resize",h),e==null||(f=e.info)===null||f===void 0||f.call(e,"MediaQueryProvider: removeEventListener",h)}},[r]),R.createElement(R9.Provider,{value:{mediaQueryBreakPoint:r,isMobile:a}},t)},Jd=()=>R.useContext(R9),d0e=n=>{if(n==null)return!0;for(const t in n)if(n.hasOwnProperty(t))return!1;return JSON.stringify(n)===JSON.stringify({})},h0e=n=>{K.useLayoutEffect(()=>{d0e(n)||Wl({variables:gn(gn({},{"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}),n)})},[n])},Sd={INIT_SDK:"INIT_SDK",SET_SDK_LOADING:"SET_SDK_LOADING",RESET_SDK:"RESET_SDK",SDK_ERROR:"SDK_ERROR"},M9={initialized:!1,loading:!1,sdk:{},error:!1};function p0e(n,t){return hk(t).with({type:Sd.SET_SDK_LOADING},e=>{let{payload:r}=e;return gn(gn({},n),{},{initialized:!1,loading:r})}).with({type:Sd.SDK_ERROR},()=>gn(gn({},n),{},{initialized:!1,loading:!1,error:!0})).with({type:Sd.INIT_SDK},e=>{let{payload:r}=e;return{sdk:r,initialized:!0,loading:!1,error:!1}}).with({type:Sd.RESET_SDK},()=>M9).otherwise(()=>n)}const D9={initialized:!1,loading:!1,user:{}};function f0e(n,t){return hk(t).with({type:kf.INIT_USER},e=>{let{payload:r}=e;return{initialized:!0,loading:!1,user:r}}).with({type:kf.RESET_USER},()=>D9).with({type:kf.UPDATE_USER_INFO},e=>{let{payload:r}=e;return gn(gn({},n),{},{user:r})}).otherwise(()=>n)}function _0e(n,t){const[e,r]=K.useState(!0);return K.useEffect(()=>{const a=I_();try{t.warning("sdk changed",a);const o=new e9;o.onDisconnected=()=>{t.warning("onDisconnected",{isOnline:e})},o.onReconnectStarted=()=>{r(!1),t.warning("onReconnectStarted",{isOnline:e})},o.onReconnectSucceeded=()=>{r(!0),t.warning("onReconnectSucceeded",{isOnline:e})},o.onReconnectFailed=()=>{n.reconnect(),t.warning("onReconnectFailed")},t.info("Added ConnectionHandler",a),n!=null&&n.addConnectionHandler&&n.addConnectionHandler(a,o)}catch{}return()=>{try{n.removeConnectionHandler(a),t.info("Removed ConnectionHandler",a)}catch{}}},[n]),K.useEffect(()=>{const a=()=>{try{t.warning("Try reconnecting SDK"),n.connectionState!=="OPEN"&&n.reconnect()}catch{}};return window.addEventListener("online",a),()=>{window.removeEventListener("online",a)}},[n]),K.useEffect(()=>{const a=document.querySelector("body");if(e)try{a.classList.remove("sendbird__offline"),t.info("Removed class sendbird__offline from body")}catch{}else try{a.classList.add("sendbird__offline"),t.info("Added class sendbird__offline to body")}catch{}},[e]),e}async function m0e(n){let{sdkDispatcher:t,userDispatcher:e,sdk:r}=n;return new Promise(a=>{t({type:Sd.SET_SDK_LOADING,payload:!0}),r!=null&&r.disconnect?r.disconnect().then(()=>{t({type:Sd.RESET_SDK}),e({type:kf.RESET_USER})}).finally(()=>{a(!0)}):a(!0)})}const{INIT_SDK:v0e,SET_SDK_LOADING:g0e,RESET_SDK:b0e,SDK_ERROR:P8}=Sd,{INIT_USER:y0e,UPDATE_USER_INFO:E0e,RESET_USER:w0e}=kf,F8="3.4.7";function x0e(n){let{userId:t,appId:e}=n;return`SendbirdProvider | useConnect/setupConnection/Connection failed UserId: ${t} or appId: ${e} missing`}function k0e(n){return`SendbirdProvider | useConnect/setupConnection/Connection failed. ${(n==null?void 0:n.code)||""} ${(n==null?void 0:n.message)||""}`}function S0e(n){let{appId:t,customApiHost:e,customWebSocketHost:r}=n;const a={appId:t,modules:[new dhe,new xue]};return e&&(a.customApiHost=e),r&&(a.customWebSocketHost=r),sue.init(a)}async function T0e(n){let{logger:t,sdkDispatcher:e,userDispatcher:r,userId:a,appId:o,customApiHost:u,customWebSocketHost:h,configureSession:f,nickname:m,profileUrl:v,accessToken:y}=n;return new Promise((w,x)=>{var C;if(t==null||(C=t.info)===null||C===void 0||C.call(t,"SendbirdProvider | useConnect/setupConnection/init",{userId:a,appId:o}),e({type:g0e,payload:!0}),a&&o){const O=S0e({appId:o,customApiHost:u,customWebSocketHost:h});if(f&&typeof f=="function"){var A;const T=f(O);t==null||(A=t.info)===null||A===void 0||A.call(t,"SendbirdProvider | useConnect/setupConnection/configureSession",T),O.setSessionHandler(T)}{var L;t==null||(L=t.info)===null||L===void 0||L.call(t,"SendbirdProvider | useConnect/setupConnection/setVersion",F8),O.addExtension("sb_uikit",F8)}const H=T=>{var M;if(t==null||(M=t.info)===null||M===void 0||M.call(t,"SendbirdProvider | useConnect/setupConnection/connectCbSucess",T),e({type:v0e,payload:O}),r({type:y0e,payload:T}),(m!==T.nickname||v!==T.profileUrl)&&!(A8(m)&&A8(v))){var q;t==null||(q=t.info)===null||q===void 0||q.call(t,"SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo",{nickname:m,profileUrl:v}),O.updateCurrentUserInfo({nickname:m||T.nickname,profileUrl:v||T.profileUrl}).then(z=>{var re;t==null||(re=t.info)===null||re===void 0||re.call(t,"SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo success",{nickname:m,profileUrl:v}),r({type:E0e,payload:z})}).finally(()=>{w()})}else w()},D=T=>{var M;const q=k0e(T);t==null||(M=t.error)===null||M===void 0||M.call(t,q,{e:T,appId:o,userId:a}),e({type:b0e}),r({type:w0e}),e({type:P8}),x(q)};if(y){var S;t==null||(S=t.info)===null||S===void 0||S.call(t,"SendbirdProvider | useConnect/setupConnection/connect connecting using accessToken"),O.connect(a,y).then(T=>H(T)).catch(T=>D(T))}else{var k;t==null||(k=t.info)===null||k===void 0||k.call(t,"SendbirdProvider | useConnect/setupConnection/connect connecting using userId"),O.connect(a).then(T=>H(T)).catch(T=>D(T))}}else{var N;const O=x0e({userId:a,appId:o});e({type:P8}),t==null||(N=t.error)===null||N===void 0||N.call(t,O),x(O)}})}async function H8(n){let{logger:t,sdkDispatcher:e,userDispatcher:r,userId:a,appId:o,customApiHost:u,customWebSocketHost:h,configureSession:f,nickname:m,profileUrl:v,accessToken:y,sdk:w}=n;await m0e({logger:t,sdkDispatcher:e,userDispatcher:r,sdk:w}),await T0e({logger:t,sdkDispatcher:e,userDispatcher:r,userId:a,appId:o,customApiHost:u,customWebSocketHost:h,configureSession:f,nickname:m,profileUrl:v,accessToken:y})}function C0e(n,t){var e;const{userId:r,appId:a,accessToken:o}=n,{logger:u,nickname:h,profileUrl:f,configureSession:m,customApiHost:v,customWebSocketHost:y,sdk:w,sdkDispatcher:x,userDispatcher:C}=t;return u==null||(e=u.info)===null||e===void 0||e.call(u,"SendbirdProvider | useConnect",gn(gn({},n),t)),K.useEffect(()=>{var L;u==null||(L=u.info)===null||L===void 0||L.call(u,"SendbirdProvider | useConnect/useEffect",{userId:r,appId:a,accessToken:o});try{H8({userId:r,appId:a,accessToken:o,logger:u,nickname:h,profileUrl:f,configureSession:m,customApiHost:v,customWebSocketHost:y,sdk:w,sdkDispatcher:x,userDispatcher:C})}catch(k){var S;u==null||(S=u.error)===null||S===void 0||S.call(u,"SendbirdProvider | useConnect/useEffect",k)}},[r,a,o]),K.useCallback(()=>{var L;u==null||(L=u.info)===null||L===void 0||L.call(u,"SendbirdProvider | useConnect/reconnect/useCallback",{sdk:w});try{H8({userId:r,appId:a,accessToken:o,logger:u,nickname:h,profileUrl:f,configureSession:m,customApiHost:v,customWebSocketHost:y,sdk:w,sdkDispatcher:x,userDispatcher:C})}catch(k){var S;u==null||(S=u.error)===null||S===void 0||S.call(u,"SendbirdProvider | useConnect/reconnect/useCallback",k)}},[w])}const Es={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},I0e=n=>{switch(n){case Es.WARNING:return"color: Orange";case Es.ERROR:return"color: Red";default:return"color: Gray"}},N0e=n=>{let{level:t,title:e,description:r=""}=n;console.log(`%c SendbirdUIKit | ${t} | ${new Date().toISOString()} | ${e} ${r&&"|"}`,I0e(t),r)},X3=()=>{},A0e=()=>({info:X3,error:X3,warning:X3}),B8=(n,t)=>{const e=t||N0e,r=Array.isArray(n)?n:[n],a=u=>(h,f)=>e({level:u,title:h,description:f});return r.reduce((u,h)=>h===Es.DEBUG||h===Es.ALL?gn(gn({},u),{},{info:a(Es.INFO),error:a(Es.ERROR),warning:a(Es.WARNING)}):h===Es.INFO?gn(gn({},u),{},{info:a(Es.INFO)}):h===Es.ERROR?gn(gn({},u),{},{error:a(Es.ERROR)}):h===Es.WARNING?gn(gn({},u),{},{warning:a(Es.WARNING)}):gn({},u),A0e())},O0e=()=>{const n={},t=n.hasOwnProperty;return{__getTopics:()=>n,subscribe:(e,r)=>{t.call(n,e)||(n[e]=[]);const a=n[e].push(r)-1;return{remove:()=>{delete n[e][a]}}},publish:(e,r)=>{t.call(n,e)&&n[e].forEach(a=>{a(r!==void 0?r:{})})}}};function R0e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;K.useEffect(()=>{const e=document.querySelector(t);return n.forEach(r=>{const a=document.createElement("div");a.setAttribute("id",r),e.appendChild(a)}),()=>{n.forEach(r=>{const a=document.getElementById(r);a&&e.removeChild(a)})}},[])}const M0e=n=>{let{children:t,isVoiceMessageEnabled:e=!0}=n;return e?R.createElement(Nhe,null,R.createElement(M8,null,t)):R.createElement(M8,null,t)},D0e=5e3,L0e=(n,t)=>{let e=[],r=null;return{push:u=>{e.find(f=>f.url===u.url)?n.info("Channel: Mark as read already in queue",u):e.push(u),!r&&(r=setInterval(()=>{if(e.length===0){clearInterval(r),r=null;return}const f=e.shift();if(f)try{f.markAsRead()}catch(m){n.error("Channel: Mark as read failed",m)}},t||D0e))},clear:()=>{e=[],r&&(clearInterval(r),r=null)},getQueue:()=>e}};function U0e(n,t){let{isConnected:e}=n,{logger:r}=t;const a=K.useMemo(()=>L0e(r),[]);return K.useEffect(()=>{if(!e){a.clear();return}},[e]),a}const P0e=n=>{let{appId:t,userId:e,children:r,accessToken:a="",customApiHost:o="",customWebSocketHost:u="",configureSession:h=null,theme:f="light",config:m={},nickname:v="",colorSet:y=null,stringSet:w=null,replyType:x="NONE",dateLocale:C=null,profileUrl:A="",voiceRecord:L={maxRecordingTime:Ehe,minRecordingTime:yhe},userListQuery:S=null,imageCompression:k={},allowProfileEdit:N=!1,isMentionEnabled:O=!1,isReactionEnabled:H=!0,disableUserProfile:D=!1,isVoiceMessageEnabled:T=!0,disableMarkAsDelivered:M=!1,isTypingIndicatorEnabledOnChannelList:q=!1,isMessageReceiptStatusEnabledOnChannelList:z=!1,renderUserProfile:re=null,onUserProfileMessage:pe=null}=n;const B=!1,{logLevel:Q="",userMention:ie={},isREMUnitEnabled:j=!1}=m,[me,ae]=K.useState(B8(Q)),[oe]=K.useState(O0e()),[ve,Re]=K.useReducer(p0e,M9),[ue,he]=K.useReducer(f0e,D9);h0e(y);const V=C0e({appId:t,userId:e,accessToken:a},{logger:me,nickname:v,profileUrl:A,configureSession:h,customApiHost:o,customWebSocketHost:u,sdk:ve==null?void 0:ve.sdk,sdkDispatcher:Re,userDispatcher:he});K.useEffect(()=>{ae(B8(Q))},[Q]),R0e(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");const[Y,$]=K.useState(f);K.useEffect(()=>{$(f)},[f]),K.useEffect(()=>{const Oe=document.querySelector("body");Oe.classList.remove("sendbird-experimental__rem__units"),j&&Oe.classList.add("sendbird-experimental__rem__units")},[j]),K.useEffect(()=>{me.info("Setup theme",`Theme: ${Y}`);try{const Oe=document.querySelector("body");Oe.classList.remove("sendbird-theme--light"),Oe.classList.remove("sendbird-theme--dark"),Oe.classList.add(`sendbird-theme--${Y||"light"}`),me.info("Finish setup theme")}catch(Oe){me.warning("Setup theme failed",`${Oe}`)}return()=>{try{const Oe=document.querySelector("body");Oe.classList.remove("sendbird-theme--light"),Oe.classList.remove("sendbird-theme--dark")}catch{}}},[Y]);const te=_0e(ve.sdk,me),Me=U0e({isConnected:te},{logger:me}),Ke=R.useMemo(()=>w?gn(gn({},Dx("en")),w):Dx("en"),[w]);return R.createElement(LL.Provider,{value:{stores:{sdkStore:ve,userStore:ue},dispatchers:{sdkDispatcher:Re,userDispatcher:he,reconnect:V},config:{disableUserProfile:D,disableMarkAsDelivered:M,renderUserProfile:re,onUserProfileMessage:pe,allowProfileEdit:N,isOnline:te,userId:e,appId:t,accessToken:a,theme:Y,setCurrenttheme:$,userListQuery:S,logger:me,pubSub:oe,imageCompression:gn({compressionRate:.7},k),isReactionEnabled:H,isMentionEnabled:O||!1,isVoiceMessageEnabled:T,voiceRecord:L,userMention:{maxMentionCount:(ie==null?void 0:ie.maxMentionCount)||10,maxSuggestionCount:(ie==null?void 0:ie.maxSuggestionCount)||15},isTypingIndicatorEnabledOnChannelList:q,isMessageReceiptStatusEnabledOnChannelList:z,replyType:x,markAsReadScheduler:Me}}},R.createElement(u0e,{logger:me,mediaQueryBreakPoint:B},R.createElement(c0e,{stringSet:Ke,dateLocale:C},R.createElement(M0e,{isVoiceMessageEnabled:T},r))))};var F0e=`.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  max-width: calc(100% - 120px);
}
.sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  position: absolute;
  left: 20px;
  top: 16px;
}
.sendbird-openchannel-conversation-header__left__title {
  position: absolute;
  left: 60px;
  top: 12px;
}
.sendbird-openchannel-conversation-header__left__sub-title {
  position: absolute;
  left: 60px;
  top: 36px;
}
.sendbird-openchannel-conversation-header__right {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 64px;
  height: 64px;
}
.sendbird-openchannel-conversation-header__right__trigger {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-word {
  display: inline;
  height: -moz-fit-content;
  height: fit-content;
}
.sendbird-word .sendbird-word__url,
.sendbird-word .sendbird-word__normal {
  margin: 0 4px;
  display: inline-block;
  color: inherit;
}
.sendbird-open-channel-preview {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 264px;
  height: 58px;
  min-width: 264px;
  min-height: 58px;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-open-channel-preview {
  width: 100%;
}
.sendbird-theme--light .sendbird-open-channel-preview {
  background-color: var(--sendbird-light-background-50);
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-preview {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-open-channel-preview:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-open-channel-preview:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-open-channel-preview.selected {
  background-color: var(--sendbird-light-primary-100);
  border-left: solid 4px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-open-channel-preview.selected {
  background-color: var(--sendbird-dark-primary-300);
  border-left: solid 4px var(--sendbird-dark-primary-200);
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image {
  position: relative;
  margin-top: 8px;
  margin-left: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image .sendbird-open-channel-preview__cover-image__avatar,
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image .sendbird-open-channel-preview__cover-image__avatar--default {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context {
  position: relative;
  margin-top: 8px;
  margin-left: 16px;
  display: inline-flex;
  flex-direction: column;
  max-width: 178px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 16px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__channel-name {
  position: relative;
  display: inline-block;
  max-width: 100%;
  height: 100%;
  box-sizing: border-box;
  overflow-x: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__channel-name.frozen {
  max-width: calc(100% - 20px);
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__frozen {
  position: relative;
  margin-left: 4px;
  display: inline-flex;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants {
  position: relative;
  margin-top: 8px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 14px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants .sendbird-open-channel-preview__context__participants__icon {
  position: relative;
  display: inline-flex;
  width: 14px;
  height: 14px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants .sendbird-open-channel-preview__context__participants__count {
  position: relative;
  margin-left: 4px;
  display: inline-flex;
  width: 160px;
  max-width: 160px;
  height: 12px;
  box-sizing: border-box;
  overflow-x: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-open-channel-list,
.sendbird-open-channel-list-ui {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 256px;
  min-width: 256px;
  height: 100%;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-open-channel-list,
.sendbird--mobile-mode .sendbird-open-channel-list-ui {
  width: 100%;
}
.sendbird-theme--light .sendbird-open-channel-list,
.sendbird-theme--light .sendbird-open-channel-list-ui {
  border-right: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-list,
.sendbird-theme--dark .sendbird-open-channel-list-ui {
  border-right: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-theme--light .sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-theme--dark .sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__title,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__title {
  position: relative;
  margin-left: 24px;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-refresh,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-refresh {
  position: absolute;
  top: 16px;
  right: 56px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-create-channel,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-create-channel {
  position: absolute;
  top: 16px;
  right: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__channel-list,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__channel-list {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 100%;
  height: calc(100% - 64px);
  box-sizing: border-box;
  overflow-y: scroll;
}

.sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  position: relative;
  min-height: 62px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-create-open-channel-ui {
  position: relative;
  display: inline-flex;
}

.sendbird-create-open-channel-ui__profile-input {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  justify-content: flex-start;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section {
  position: relative;
  margin-top: 16px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__button {
  position: relative;
  margin-left: 18px;
  display: inline-flex;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__name-section {
  position: relative;
  margin-top: 8px;
  display: inline-flex;
  flex-direction: row;
}
@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap");
:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-iconbutton-color: #825eeb;
  --sendbird-message-input-border-active: #7B53EF;
  --sendbird-selected-reaction-button-border-hover: #9E8CF5;
  --sendbird-add-reaction-button-border-hover: #9E8CF5;
  --sendbird-tooltip-background: #000000;
  --sendbird-tooltip-text-color: rgba(255, 255, 255, 0.88);
  --sendbird-button-border-focus: #FFFFFF;
  --sendbird-file-message-icon-background: #FFFFFF;
  --sendbird-font-family-default: "Roboto", sans-serif;
  --sendbird-message-balloon-width: 404px;
}
.sendbird-experimental__rem__units .sendbird-label--h-1 {
  font-size: 1.25rem;
}
.sendbird-experimental__rem__units .sendbird-label--h-2 {
  font-size: 1.125rem;
}
.sendbird-experimental__rem__units .sendbird-label--subtitle-1 {
  font-size: 1rem;
}
.sendbird-experimental__rem__units .sendbird-label--subtitle-2 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--body-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--body-2 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-label--button-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--button-2 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-2 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-3 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-checkbox {
  font-size: 1.375rem;
}
.sendbird-experimental__rem__units .sendbird-mention-user-label {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-mention-user-label.purple {
  font-size: 1.125rem;
}
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--textarea,
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--placeholder {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__input,
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__placeholder {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-tooltip__text {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message__file-message {
  font-size: 0.75rem;
}
.sendbird-channel-list {
  width: 320px;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-list {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-list {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-channel-list {
  width: 100%;
}

.sendbird-channel-list__header {
  height: 64px;
  min-height: 64px;
}

.sendbird-channel-list__body {
  flex: 1 1 0;
  -ms-flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}
[class*=sendbird-label] {
  font-family: var(--sendbird-font-family-default);
}

.sendbird-label--h-1 {
  font-size: 20px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.4;
  letter-spacing: -0.2px;
}

.sendbird-label--h-2 {
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: -0.2px;
}

.sendbird-label--subtitle-1 {
  font-size: 16px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.38;
  letter-spacing: -0.2px;
}

.sendbird-label--subtitle-2 {
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.14;
  letter-spacing: -0.2px;
}

.sendbird-label--body-1 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--body-2 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal;
}

.sendbird-label--button-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--button-2 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--caption-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--caption-2 {
  font-size: 12px;
  font-weight: bold;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
}

.sendbird-label--caption-3 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
}

.sendbird-theme--light .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02);
}
.sendbird-theme--dark .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02);
}

.sendbird-theme--light .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-label--color-error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200);
}

.sendbird-theme--light .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200);
}
.sendbird-channel-header {
  position: relative;
  height: 64px;
  min-height: 64px;
  width: 320px;
  padding: 8px 64px 8px 8px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-channel-header {
  width: 100%;
}
.sendbird-channel-header.sendbird-channel-header--allow-edit .sendbird-channel-header__title {
  cursor: pointer;
}
.sendbird-channel-header .sendbird-channel-header__title {
  display: flex;
  flex-direction: row;
  width: 260px;
  height: 48px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:hover {
  background: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:hover {
  background: var(--sendbird-dark-background-500);
}
.sendbird-channel-header .sendbird-channel-header__title:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:focus {
  background: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:focus {
  background: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:active {
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:active {
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__left {
  width: 48px;
  padding: 8px;
  box-sizing: border-box;
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right {
  margin-left: 4px;
  padding-top: 8px;
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__name,
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__user-id {
  display: block;
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-header .sendbird-channel-header__right-icon {
  position: absolute;
  right: 16px;
  top: 16px;
}
.sendbird-image-renderer {
  overflow: hidden;
  position: relative;
}

.sendbird-image-renderer__hidden-image-loader {
  display: none;
}

.sendbird-image-renderer,
.sendbird-image-renderer__image {
  width: 320px;
  height: 180px;
}
.sendbird-icon {
  display: inline-block;
}
.sendbird-icon:focus {
  outline: none;
}

.sendbird-theme--light .sendbird-icon-color--primary [class*=fill] {
  fill: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-icon-color--primary [class*=fill] {
  fill: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-icon-color--primary-2 [class*=fill] {
  fill: var(--sendbird-light-primary-200);
}
.sendbird-theme--dark .sendbird-icon-color--primary-2 [class*=fill] {
  fill: var(--sendbird-dark-primary-400);
}

.sendbird-theme--light .sendbird-icon-color--primary [class*=stroke] {
  stroke: var(--sendbird-light-primary-300);
  stroke-width: 2px;
  stroke-linejoin: round;
}
.sendbird-theme--dark .sendbird-icon-color--primary [class*=stroke] {
  stroke: var(--sendbird-dark-primary-200);
  stroke-width: 2px;
  stroke-linejoin: round;
}

.sendbird-theme--light .sendbird-icon-color--secondary [class*=fill] {
  fill: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-icon-color--secondary [class*=fill] {
  fill: var(--sendbird-dark-secondary-200);
}

.sendbird-theme--light .sendbird-icon-color--content [class*=fill] {
  fill: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-icon-color--content [class*=fill] {
  fill: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-icon-color--content-inverse [class*=fill] {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-icon-color--content-inverse [class*=fill] {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-icon-color--white [class*=fill] {
  fill: #ffffff;
}

.sendbird-icon-color--gray [class*=fill] {
  fill: var(--sendbird-light-onlight-04);
}

.sendbird-theme--light .sendbird-icon-color--sent [class*=fill] {
  fill: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-icon-color--sent [class*=fill] {
  fill: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-icon-color--read [class*=fill] {
  fill: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-icon-color--read [class*=fill] {
  fill: var(--sendbird-dark-secondary-200);
}

.sendbird-theme--light .sendbird-icon-color--on-background-1 [class*=fill] {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-1 [class*=fill] {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-icon-color--on-background-2 [class*=fill] {
  fill: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-2 [class*=fill] {
  fill: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-icon-color--on-background-3 [class*=fill] {
  fill: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-3 [class*=fill] {
  fill: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-icon-color--on-background-4 [class*=fill] {
  fill: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-4 [class*=fill] {
  fill: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-icon-color--background-3 [class*=fill] {
  fill: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-icon-color--background-3 [class*=fill] {
  fill: var(--sendbird-dark-background-400);
}

.sendbird-theme--light .sendbird-icon-color--error [class*=fill] {
  fill: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-icon-color--error [class*=fill] {
  fill: var(--sendbird-dark-error-200);
}
.sendbird-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  position: relative;
}
.sendbird-avatar:focus {
  outline: none;
}
.sendbird-avatar .sendbird-avatar-img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-avatar .sendbird-avatar-img {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:first-child {
  transform: translate(2%, -50%);
}
.sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:last-child {
  transform: translate(-102%, -50%);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--upper .sendbird-avatar-img:first-child {
  transform: translate(-50%, -102%);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:first-child {
  transform: translate(-77%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:last-child {
  transform: translate(-23%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:first-child {
  transform: translate(-77%, -77%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(2) {
  transform: translate(-23%, -77%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(3) {
  transform: translate(-77%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:last-child {
  transform: translate(-23%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar-img--default {
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-avatar .sendbird-avatar-img--default {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img--default {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-iconbutton {
  color: var(--sendbird-iconbutton-color);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 3px;
  background-color: transparent;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  border: 1px solid transparent;
  border-radius: 4px;
  outline: 0px;
}
.sendbird-iconbutton .sendbird-iconbutton__inner {
  height: 100%;
}
.sendbird-theme--light .sendbird-iconbutton .sendbird-iconbutton__inner svg {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-iconbutton .sendbird-iconbutton__inner svg {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-iconbutton:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-iconbutton:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-iconbutton:active {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-iconbutton:active {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-iconbutton:disabled {
  cursor: not-allowed !important;
}
.sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
  fill: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
  fill: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird--mobile-mode .sendbird-add-channel__modal .sendbird-modal__content {
  margin: 0 40px;
}

.sendbird-add-channel__rectangle-wrap {
  margin-top: 26px;
}

.sendbird-add-channel__rectangle-footer {
  text-align: right;
  margin-top: 32px;
}

.sendbird-add-channel__rectangle {
  width: 432px;
  height: 72px;
  border-radius: 4px;
  margin-bottom: 8px;
  padding: 25px 72px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird--mobile-mode .sendbird-add-channel__rectangle {
  min-width: 288px;
  width: 100%;
  padding-right: 0;
}
.sendbird-theme--light .sendbird-add-channel__rectangle {
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-add-channel__rectangle {
  border: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-add-channel__rectangle .sendbird-icon {
  position: absolute;
  left: 22px;
  top: 24px;
}
.sendbird-create-channel--content {
  width: 480px;
  max-height: 552px;
}

.sendbird-create-channel--scroll {
  height: 360px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-create-channel--scroll {
  height: calc(100vh - 200px);
  height: calc(var(--sendbird-vh, 1vh) * 100 - 200px);
}
.sendbird-modal--full-mobile .sendbird-modal__content {
  width: 100vw;
  max-width: 100%;
  height: 100%;
}
.sendbird--mobile-mode .sendbird-modal--full-mobile .sendbird-modal__content {
  height: -webkit-fill-available;
  height: -moz-available;
  height: stretch;
}

.sendbird-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal__backdrop--clickoutside {
  cursor: pointer;
}

.sendbird-modal__content {
  width: 480px;
  border-radius: 4px;
  z-index: 10001;
  padding: 18px 24px 24px 24px;
  position: relative;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-modal__content {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__content {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}
.sendbird-modal__content .sendbird-modal__close {
  position: absolute;
  top: 16px;
  right: 16px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-modal__content .sendbird-modal__close path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-modal__content .sendbird-modal__close path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-modal__content .sendbird-modal__header {
  margin-bottom: 16px;
}
.sendbird-modal__content .sendbird-modal__body {
  height: calc(100% - 116px);
}
.sendbird-modal__content .sendbird-modal__footer {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  margin-top: 32px;
  text-align: right;
}
.sendbird--mobile-mode .sendbird-modal__content .sendbird-modal__footer {
  position: sticky;
  bottom: 24px;
}
.sendbird-modal__content .sendbird-modal__footer .sendbird-button:last-child {
  margin-left: 8px;
  min-width: 80px;
  height: 40px;
}

.sendbird-modal__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-modal__backdrop {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__backdrop {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-button {
  display: inline-block;
  box-shadow: none;
  border-radius: 4px;
  padding: 0px;
  font-family: var(--sendbird-font-family-default);
  cursor: pointer;
}
.sendbird-button:hover {
  box-shadow: none;
}
.sendbird-button:focus {
  outline: none;
}
.sendbird-button:active {
  box-shadow: none;
}
.sendbird-button.sendbird-button__disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-button.sendbird-button__disabled {
  border: none;
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button.sendbird-button__disabled {
  border: none;
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button.sendbird-button__disabled:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button.sendbird-button__disabled:hover {
  background-color: var(--sendbird-dark-background-400);
}

.sendbird-button--big {
  height: 40px;
}
.sendbird-button--big .sendbird-button__text {
  margin: 10px 16px;
}

.sendbird-button--small {
  height: 32px;
}
.sendbird-button--small .sendbird-button__text {
  margin: 6px 16px;
}

.sendbird-theme--light .sendbird-button--primary {
  border: 1px solid var(--sendbird-light-primary-300);
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--primary {
  border: 1px solid var(--sendbird-dark-primary-200);
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-button--primary:hover {
  background-color: var(--sendbird-light-primary-400);
  border-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-button--primary:hover {
  background-color: var(--sendbird-dark-primary-300);
  border-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-button-border-focus);
}
.sendbird-theme--dark .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-button-border-focus);
}
.sendbird-theme--light .sendbird-button--primary:active {
  background-color: var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-button--primary:active {
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-400);
}

.sendbird-button--secondary {
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary {
  border: 1px solid var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-button--secondary {
  border: 1px solid var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-button--secondary .sendbird-button__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-button--secondary .sendbird-button__text {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-button--secondary:hover {
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary:hover {
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover {
  border: 1px solid var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-button--secondary.sendbird-button__disabled {
  cursor: not-allowed;
  border: none;
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-button--secondary.sendbird-button__disabled:hover {
  border: none;
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-button--secondary:focus {
  border: 1px solid transparent;
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary:focus {
  box-shadow: var(--sendbird-light-primary-300) 0px 0px 0px 2px;
}
.sendbird-theme--dark .sendbird-button--secondary:focus {
  box-shadow: var(--sendbird-dark-primary-200) 0px 0px 0px 2px;
}
.sendbird-theme--light .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-button--secondary:active {
  box-shadow: none;
}
.sendbird-theme--light .sendbird-button--secondary:active {
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:active {
  border: 1px solid var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--secondary:active .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:active .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-button--danger {
  border: 1px solid var(--sendbird-light-error-300);
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-button--danger {
  border: 1px solid var(--sendbird-dark-error-200);
  background-color: var(--sendbird-dark-error-200);
}
.sendbird-theme--light .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-button--danger:hover {
  background-color: var(--sendbird-light-error-400);
  border-color: var(--sendbird-light-error-400);
}
.sendbird-theme--dark .sendbird-button--danger:hover {
  background-color: var(--sendbird-dark-error-400);
  border-color: var(--sendbird-dark-error-400);
}
.sendbird-theme--light .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-300);
  border-color: var(--sendbird-button-border-focus);
}
.sendbird-theme--dark .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-300);
  border-color: var(--sendbird-button-border-focus);
}
.sendbird-button--danger:active {
  box-shadow: none;
}
.sendbird-theme--light .sendbird-button--danger:active {
  background-color: var(--sendbird-light-error-500);
}
.sendbird-theme--dark .sendbird-button--danger:active {
  background-color: var(--sendbird-dark-error-500);
}
.sendbird-theme--light .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-400);
}
.sendbird-theme--dark .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-400);
}
.sendbird-theme--light .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-500);
}
.sendbird-theme--dark .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-500);
}

.sendbird-button--disabled {
  border: 1px solid transparent;
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-button--disabled {
  background-color: var(--sendbird-light-background-200);
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--disabled {
  background-color: var(--sendbird-dark-background-400);
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-user-list-item {
  display: block;
  position: relative;
  box-sizing: border-box;
  width: 432px;
  height: 56px;
}
.sendbird--mobile-mode .sendbird-user-list-item {
  width: 100%;
}
.sendbird-theme--light .sendbird-user-list-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-user-list-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-user-list-item .sendbird-user-list-item__avatar {
  position: absolute;
  top: 8px;
  left: 0px;
  cursor: pointer;
}
.sendbird-user-list-item .sendbird-muted-avatar {
  position: absolute;
  top: 8px;
  left: 0px;
  pointer-events: none;
}
.sendbird-user-list-item .sendbird-user-list-item__title {
  position: absolute;
  top: 17px;
  left: 56px;
  max-width: 250px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item .sendbird-user-list-item__title {
  max-width: 62%;
}
.sendbird-user-list-item .sendbird-user-list-item__subtitle {
  position: absolute;
  top: 23px;
  left: 140px;
  max-width: 237px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item .sendbird-user-list-item__subtitle {
  max-width: 40%;
}
.sendbird-user-list-item .sendbird-user-list-item__checkbox {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-user-list-item .sendbird-user-list-item__action {
  position: absolute;
  right: 0;
  top: 10px;
}
.sendbird-user-list-item .sendbird-user-list-item__operator {
  position: absolute;
  right: 40px;
  top: 22px;
}
.sendbird-user-list-item .sendbird-user-list-item__operator.checkbox {
  right: 66px;
}
.sendbird-muted-avatar {
  border-radius: 50%;
  display: inline-block;
}
.sendbird-muted-avatar .sendbird-muted-avatar__icon {
  position: relative;
}
.sendbird-muted-avatar .sendbird-muted-avatar__icon .sendbird-icon {
  position: absolute;
  top: 4px;
  left: 4px;
}
.sendbird-muted-avatar .sendbird-muted-avatar__bg {
  opacity: 0.5;
  position: absolute;
  border-radius: 50%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-muted-avatar .sendbird-muted-avatar__bg {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-muted-avatar .sendbird-muted-avatar__bg {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-checkbox {
  display: inline-block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.sendbird-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.sendbird-checkbox--checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  border-radius: 2px;
  background-color: inherit;
}
.sendbird-theme--light .sendbird-checkbox--checkmark {
  border: solid 2px var(--sendbird-light-background-400);
}
.sendbird-theme--dark .sendbird-checkbox--checkmark {
  border: solid 2px var(--sendbird-dark-background-300);
}
.sendbird-theme--light .sendbird-checkbox--checkmark.disabled {
  border: solid 2px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-checkbox--checkmark.disabled {
  border: solid 2px var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-light-primary-300);
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-dark-primary-200);
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  cursor: default;
}
.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-light-onlight-04);
  border: solid 2px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-dark-ondark-04);
  border: solid 2px var(--sendbird-dark-ondark-04);
}

.sendbird-checkbox--checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark:after {
  display: block;
}

.sendbird-theme--light .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-light-background-50);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
.sendbird-theme--dark .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-dark-background-600);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
.sendbird__user-profile {
  width: 320px;
  border-radius: 4px;
  padding: 24px;
  box-sizing: border-box;
  text-align: center;
}
.sendbird-theme--light .sendbird__user-profile {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird__user-profile {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird__user-profile .sendbird__user-profile-avatar {
  margin: 8px 0px;
}
.sendbird__user-profile .sendbird__user-profile-name {
  max-width: 100%;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
}
.sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-name {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-name {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird__user-profile .sendbird__user-profile-message {
  margin-top: 20px;
}
.sendbird__user-profile .sendbird__user-profile-message button {
  width: 272px;
}
.sendbird__user-profile .sendbird__user-profile-separator {
  margin: 24px 0px;
  height: 1px;
}
.sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-separator {
  background-color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-separator {
  background-color: var(--sendbird-dark-ondark-04);
}
.sendbird__user-profile .sendbird__user-profile-userId--label,
.sendbird__user-profile .sendbird__user-profile-userId--value {
  width: 100%;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  display: block;
  text-align: left;
}
.sendbird__user-profile .sendbird__user-profile-userId--label {
  margin-bottom: 8px;
}
.sendbird-context-menu {
  display: "inline";
}

.sendbird__offline .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: not-allowed;
}

.sendbird-dropdown__menu {
  z-index: 99999;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 140px;
  margin: 0px;
  padding: 8px 0px;
  border-radius: 4px;
  list-style: none;
}
.sendbird-theme--light .sendbird-dropdown__menu {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__menu {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: pointer;
  white-space: nowrap;
  padding: 8px 16px;
}
.sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
  background-color: var(--sendbird-dark-background-400);
}

.sendbird-dropdown__reaction-bar {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 44px;
  max-width: 352px;
  max-height: 208px;
  overflow-y: scroll;
  margin: 0px;
  padding: 8px;
  border-radius: 8px;
  list-style: none;
}
.sendbird-theme--light .sendbird-dropdown__reaction-bar {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__reaction-bar {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button, .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button--selected {
  margin: 4px;
}

.sendbird-dropdown__menu-backdrop {
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.sendbird-sort-by-row {
  display: flex;
  justify-content: flex-start;
  align-items: center;
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__content {
  max-width: calc(100% - 80px);
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__close {
  display: none;
}
.sendbird-channel-preview__leave--mobile .sendbird-channel-preview__leave-label--mobile {
  text-decoration: none;
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__header span {
  display: inline-block;
  width: calc(100% - 120px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed;
}

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px;
}
.sendbird-theme--light .sendbird-channel-preview {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-preview {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird--mobile-mode .sendbird-channel-preview {
  width: 100%;
}
.sendbird-channel-preview:focus {
  outline: none;
}
.sendbird-channel-preview .sendbird-channel-preview__avatar {
  width: 56px;
  height: 56px;
}
.sendbird-channel-preview .sendbird-channel-preview__content {
  width: 100%;
  height: 100%;
  margin-left: 16px;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content {
  position: relative;
  max-width: calc(100% - 72px);
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
  display: flex;
  justify-content: space-between;
  width: 216px;
  height: 16px;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
  width: auto;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
  display: flex;
  justify-content: flex-start;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
  padding-right: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 128px;
  word-break: break-all;
  white-space: nowrap;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
  margin-top: 2px;
  margin-left: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
  padding-left: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
  margin-left: 4px;
  margin-bottom: 4px;
  white-space: nowrap;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at.sendbird-message-status {
  max-width: 74px;
  justify-content: flex-end;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
  margin-top: 8px;
  width: 216px;
  height: 32px;
  display: flex;
  justify-content: space-between;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
  width: 100%;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
  display: flex;
  align-items: center;
  margin-left: 8px;
  margin-bottom: 12px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count .sendbird-channel-preview__content__lower__unread-message-count__mention {
  display: inline-flex;
  align-items: center;
  margin-right: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__action {
  position: absolute;
  top: 12px;
  right: 12px;
  display: inline-block;
}
.sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
  display: none;
}
.sendbird-theme--light .sendbird-channel-preview:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-channel-preview:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
  display: inline-block;
}
.sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
  display: none;
}
.sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
  display: none;
}

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px;
}
.sendbird-theme--light .sendbird-channel-preview--active {
  border-left: solid 4px var(--sendbird-light-primary-300);
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-channel-preview--active {
  border-left: solid 4px var(--sendbird-dark-primary-200);
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
  color: var(--sendbird-dark-primary-200);
}

.sendbird--mobile-mode .sendbird-channel-preview__content__lower__unread-message-count {
  position: absolute;
  right: 0;
}
.sendbird-chat-header--default-avatar {
  width: 56px;
  height: 56px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-chat-header--default-avatar {
  background-color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-chat-header--default-avatar {
  background-color: var(--sendbird-dark-secondary-200);
}
.sendbird-badge {
  height: 20px;
  min-width: 20px;
  border-radius: 10px;
  display: inline-block;
}
.sendbird-theme--light .sendbird-badge {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-badge {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-badge .sendbird-badge__text {
  margin: 0px 6px;
}
.sendbird-mention-user-label {
  display: inline-block;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
  white-space: pre-line;
  width: -moz-fit-content;
  width: fit-content;
  max-width: 100%;
  height: 16px;
}
.sendbird-mention-user-label:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-mention-user-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-mention-user-label {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-mention-user-label.reverse {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-mention-user-label.reverse {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-mention-user-label.purple {
  font-family: Roboto;
  font-size: 18px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
.sendbird-theme--light .sendbird-mention-user-label.purple {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-mention-user-label.purple {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-textbutton {
  text-decoration: underline;
  cursor: pointer;
  display: inline-block;
}

.sendbird-textbutton--not-underline {
  text-decoration: none;
  cursor: pointer;
}

.sendbird-textbutton--disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-textbutton--disabled {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-textbutton--disabled {
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-color--onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-color--onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-color--onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-color--onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-theme--light .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-color--onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-color--onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-color--onbackground-4 {
  color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-color--onbackground-4 {
  color: var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-color--oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-color--oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-color--primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-color--primary {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-color--primary--background-color {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-color--primary--background-color {
  background-color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-color--error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-color--error {
  color: var(--sendbird-dark-error-200);
}
.sendbird-theme--light .sendbird-color--error--background-color {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-color--error--background-color {
  background-color: var(--sendbird-dark-error-300);
}
.sendbird-reaction-button {
  border-radius: 8px;
  display: inline-block;
  border: solid 1px transparent;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-button:hover {
  border: solid 1px var(--sendbird-light-background-100);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-button:hover {
  border: solid 1px var(--sendbird-dark-background-400);
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-reaction-button__inner {
  margin: 3px;
}

.sendbird-reaction-button--selected {
  cursor: pointer;
  border-radius: 8px;
  display: inline-block;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-reaction-button--selected {
  border: solid 1px var(--sendbird-light-primary-100);
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-reaction-button--selected {
  border: solid 1px var(--sendbird-dark-primary-400);
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-reaction-button--selected:hover {
  border: solid 1px var(--sendbird-selected-reaction-button-border-hover);
}
.sendbird-reaction-button--selected__inner {
  margin: 3px;
}
.sendbird-reaction-button--selected.sendbird-reactions--pressed {
  display: block !important;
}
.sendbird-message-status {
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  width: 100%;
  height: 100%;
}
.sendbird-message-status .sendbird-message-status__icon {
  position: relative;
  display: inline-block;
  top: -2px;
}
.sendbird-message-status .sendbird-message-status__icon.hide-icon {
  display: none;
}
.sendbird-message-status .sendbird-message-status__text {
  position: relative;
  display: inline-block;
  margin-left: 4px;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again {
  text-decoration: underline;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again:hover {
  cursor: pointer;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete {
  text-decoration: underline;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete:hover {
  cursor: pointer;
}
.sendbird-loader {
  display: inline-block;
  animation: 1s infinite linear;
  animation-name: rotate;
}

@keyframes rotate {
  from {
    transform: rotate(0);
  }
  to {
    transform: rotate(360deg);
  }
}
.sendbird-edit-user-profile section {
  margin-top: 16px;
}
.sendbird-edit-user-profile section .sendbird-input-label {
  display: block;
  margin-bottom: 12px;
}
.sendbird-edit-user-profile .sendbird-edit-user-profile__img .sendbird-input-label {
  margin-bottom: 12px;
}

.sendbird-edit-user-profile__img {
  position: relative;
}

.sendbird-edit-user-profile__img__avatar-button {
  position: absolute;
  top: 50px;
  left: 96px;
}

.sendbird-edit-user-profile__theme__theme-icon .sendbird-icon {
  cursor: pointer;
}
.sendbird-input {
  display: inline-block;
  width: 100%;
  height: 40px;
  position: relative;
}
.sendbird-input .sendbird-input__input {
  width: 100%;
  height: 100%;
  border-radius: 4px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
  padding: 10px 16px;
  box-sizing: border-box;
  background-color: inherit;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input {
  color: var(--sendbird-light-onlight-01);
  caret-color: var(--sendbird-light-primary-300);
  border: solid 1px var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input {
  color: var(--sendbird-dark-ondark-01);
  caret-color: var(--sendbird-dark-primary-200);
  border: solid 1px var(--sendbird-dark-ondark-03);
}
.sendbird-input .sendbird-input__input:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:focus {
  box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-light-onlight-01);
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:focus {
  box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-dark-ondark-01);
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:active {
  box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-light-onlight-01);
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:active {
  box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-dark-ondark-01);
  border: solid 1px var(--sendbird-dark-primary-200);
}
.sendbird-input .sendbird-input__input:disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:disabled {
  background-color: var(--sendbird-light-background-100);
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:disabled {
  background-color: var(--sendbird-dark-background-500);
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-input .sendbird-input__placeholder {
  position: absolute;
  pointer-events: none;
  top: 10px;
  left: 16px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  line-height: 1.43;
}
.sendbird-theme--light .sendbird-input .sendbird-input__placeholder {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__placeholder {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-input-label {
  margin: 4px 0;
}
.sendbird-place-holder {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}
.sendbird-place-holder .sendbird-place-holder__body {
  display: flex;
  flex-direction: column;
  height: 104px;
  align-items: center;
}
.sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__icon {
  margin-bottom: 10px;
}
.sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__text {
  margin-top: 10px;
}
.sendbird-place-holder .sendbird-place-holder__body__reconnect {
  margin-top: 18px;
  display: flex;
  flex-direction: row;
  cursor: pointer;
}
.sendbird-place-holder .sendbird-place-holder__body__reconnect .sendbird-place-holder__body__reconnect__icon {
  margin-right: 4px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top {
  position: absolute;
  top: 24px;
  display: flex;
  width: 100%;
  flex-direction: column;
  justify-content: center;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text {
  display: flex;
  flex-direction: row;
  justify-content: center;
  padding-left: 16px;
  padding-right: 16px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__search-in {
  display: flex;
  min-width: 60px;
  margin-right: 2px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__channel-name {
  display: block;
  max-width: calc(100% - 62px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__searching,
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__no-result {
  display: flex;
  justify-content: center;
}
.sendbird-conversation {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-conversation {
  background-color: var(--sendbird-light-background-50);
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-conversation {
  background-color: var(--sendbird-dark-background-600);
  border: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-conversation__messages {
  overflow: hidden;
  flex: 1 1 0;
  order: 2;
}

.sendbird-conversation__messages-list {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-end;
}

.sendbird-conversation__footer {
  width: 100%;
  order: 3;
  padding: 0px 0px 24px 0px;
}

@keyframes sbHighlight {
  0% {
    background-color: #FFF2B6;
  }
  99% {
    background-color: #FFF2B6;
  }
}
@keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01);
  }
  99% {
    color: var(--sendbird-dark-onlight-01);
  }
}
@keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6;
  }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6;
  }
}
.sendbird-msg-hoc__animated .sendbird-message-content {
  animation: bounce 1s ease;
}
@keyframes bounce {
  50% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(0);
  }
  90% {
    transform: translateY(-10px);
  }
  100% {
    transform: translateY(0);
  }
}

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body {
  animation-name: sbHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body__message,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body__file-name__text {
  animation-name: sbTextHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-voice-message-item-body {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-message-content-reactions {
  animation-name: sbHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}

.sendbird-conversation__scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column;
}
.sendbird-conversation__scroll-container .sendbird-conversation__padding {
  flex: 1 1 0;
}

.sendbird-conversation__footer {
  position: relative;
  box-sizing: border-box;
  margin-top: 6px;
}
.sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator {
  position: absolute;
  display: inline-flex;
  bottom: 8px;
}
.sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator .sendbird-conversation__footer__typing-indicator__text {
  margin-left: 24px;
  margin-right: 10px;
}
.sendbird-connection-status {
  display: flex;
  align-items: center;
  padding-top: 5px;
}
.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-chat-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-chat-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-chat-header__left {
  margin-right: 24px;
}
.sendbird-chat-header__left, .sendbird-chat-header__right {
  overflow: hidden;
  display: flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-chat-header .sendbird-chat-header__left__title {
  margin-left: 8px;
  margin-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 780px;
}
.sendbird--mobile-mode .sendbird-chat-header .sendbird-chat-header__left__title {
  max-width: calc(100vw - 240px);
}
.sendbird-chat-header .sendbird-chat-header__left__subtitle {
  max-width: 240px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-chat-header .sendbird-chat-header__right__mute {
  margin-right: 18px;
}
.sendbird-chat-header .sendbird-iconbutton--pressed {
  background-color: inherit;
}
.sendbird-chat-header .sendbird-chat-header__right__info {
  margin-left: 16px;
}

.sendbird-chat-header__icon_back {
  margin-right: 8px;
}
.sendbird-conversation__messages {
  position: relative;
}
.sendbird-conversation__messages .sendbird-conversation__messages-padding {
  position: relative;
  padding-left: 24px;
  padding-right: 24px;
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird-conversation__messages .sendbird-separator,
.sendbird-conversation__messages .sendbird-admin-message {
  padding-top: 8px;
  padding-bottom: 8px;
}

.sendbird-conversation__messages__notification {
  position: fixed;
  top: 0px;
  width: calc(100% - 50px);
  margin-left: 25px;
}

.sendbird-conversation__scroll-bottom-button {
  position: sticky;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 30px;
  left: calc(100% - 65px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-05);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button {
  background-color: var(--sendbird-dark-background-400);
  box-shadow: var(--sendbird-dark-shadow-05);
}
.sendbird-conversation__scroll-bottom-button:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button:active {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:active {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-conversation__scroll-bottom-button:focus {
  outline: none;
}
.sendbird-mention-suggest-list {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 56px);
  max-height: 260px;
  overflow: scroll;
  margin-left: 28px;
  margin-right: 28px;
}
.sendbird-theme--light .sendbird-mention-suggest-list {
  border: 1px solid var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-mention-suggest-list {
  border: 1px solid var(--sendbird-dark-background-500);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: 16px 8px;
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__avatar {
  position: relative;
  display: inline-block;
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  position: relative;
  display: inline-block;
  margin-left: 16px;
  max-width: calc(100% - 250px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: calc(100% - 150px);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  position: absolute;
  display: inline-block;
  right: 16px;
  max-width: 180px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 100px;
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: 16px 8px;
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item .sendbird-mention-suggest-list__notice-item__icon {
  margin-right: 4px;
}
.sendbird-separator {
  width: 100%;
  display: flex;
  align-items: center;
}
.sendbird-separator .sendbird-separator__left {
  border: none;
  height: 1px;
  display: inline-block;
  width: 100%;
}
.sendbird-separator .sendbird-separator__right {
  border: none;
  height: 1px;
  display: inline-block;
  width: 100%;
}
.sendbird-separator .sendbird-separator__text {
  margin: 0px 16px;
  display: flex;
  white-space: nowrap;
}
.sendbird-message-input {
  display: inline-block;
  width: 100%;
  position: relative;
}
.sendbird-message-input .sendbird-message-input--textarea {
  position: relative;
  width: 100%;
  border-radius: 4px;
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  height: 56px;
  overflow-y: scroll;
  letter-spacing: normal;
  padding: 18px 64px 18px 16px;
  box-sizing: border-box;
  resize: none;
  font-family: var(--sendbird-font-family-default);
  background-color: inherit;
  white-space: pre-wrap;
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea {
  color: var(--sendbird-light-onlight-01);
  caret-color: var(--sendbird-light-primary-300);
  border: solid 1px var(--sendbird-light-onlight-03);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea {
  color: var(--sendbird-dark-ondark-01);
  caret-color: var(--sendbird-dark-primary-200);
  border: solid 1px var(--sendbird-dark-ondark-03);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-input .sendbird-message-input--textarea:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:focus {
  color: var(--sendbird-light-onlight-01);
  border: solid 1px var(--sendbird-light-primary-300);
  box-shadow: var(--sendbird-light-shadow-message-input);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:focus {
  color: var(--sendbird-dark-ondark-01);
  border: solid 1px var(--sendbird-dark-primary-200);
  box-shadow: var(--sendbird-dark-shadow-message-input);
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:active {
  border: solid 1px var(--sendbird-message-input-border-active);
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:active {
  border: solid 1px var(--sendbird-message-input-border-active);
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-message-input .sendbird-message-input--placeholder {
  position: absolute;
  pointer-events: none;
  top: 18px;
  left: 16px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  line-height: 1.43;
}
.sendbird-message-input .sendbird-message-input--attach {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--attach.is-voice-message-enabled {
  right: 48px;
}
.sendbird-message-input .sendbird-message-input--voice-message {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--send {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--attach-input {
  display: none;
}

.sendbird-message-input__edit {
  padding: 16px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-input__edit {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-input__edit {
  background-color: var(--sendbird-dark-background-700);
}

.sendbird-message-input--edit-action {
  text-align: right;
  margin-top: 4px;
}
.sendbird-message-input--edit-action button:last-child {
  margin-left: 8px;
}
.sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  width: 80px;
}
.sendbird-theme--light .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  border: solid 1px var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  border: solid 1px var(--sendbird-dark-ondark-03);
}
.sendbird-message-input--edit-action .sendbird-message-input--edit-action__save {
  width: 80px;
}

.sendbird-message-input-form__disabled {
  cursor: not-allowed;
}

.sendbird-message-input__disabled {
  pointer-events: none;
  cursor: disabled;
}
.sendbird-theme--light .sendbird-message-input__disabled .sendbird-message-input--textarea {
  color: var(--sendbird-light-onlight-04);
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input__disabled .sendbird-message-input--textarea {
  color: var(--sendbird-dark-ondark-04);
  border: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-message-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
.sendbird-message-content.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content .sendbird-message-content__middle {
  max-width: 400px;
}
.sendbird--mobile-mode .sendbird-message-content .sendbird-message-content__middle {
  max-width: calc(100vw - 140px);
}
.sendbird-message-content .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.use-quote {
  margin-top: -8px;
  bottom: -8px;
}

.sendbird-message-content.incoming .sendbird-message-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px;
}
.sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar {
  position: absolute;
  left: 0px;
  bottom: 2px;
}
.sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar.use-thread-replies {
  bottom: 35px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  position: absolute;
  bottom: 6px;
  right: -84px;
  white-space: nowrap;
  display: flex;
  flex-direction: row;
  min-width: 80px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__sender-name {
  position: relative;
  margin-left: 12px;
  margin-bottom: 4px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message:hover {
  cursor: pointer;
}
.sendbird-message-content.incoming .sendbird-message-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.use-reactions {
  width: 70px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.chain-top {
  padding-top: 2px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.chain-top.use-quote {
  padding-top: 18px;
}
.sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu {
  position: relative;
  flex-direction: row;
  height: 32px;
  display: none;
}
.sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-message-content.incoming:hover .sendbird-message-content__right .sendbird-message-content-menu {
  display: inline-flex;
}
.sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none;
}

.sendbird-message-content.outgoing .sendbird-message-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left.use-reactions {
  width: 70px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left.use-quote .sendbird-message-content-menu {
  top: 18px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu {
  position: absolute;
  top: 2px;
  right: 4px;
  flex-direction: row;
  display: none;
}
.sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container {
  position: relative;
  width: 100%;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  position: absolute;
  bottom: 2px;
  left: -84px;
  white-space: nowrap;
  display: flex;
  justify-content: flex-end;
  box-sizing: content-box;
  min-width: 80px;
  min-height: 16px;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at .sendbird-message-content__middle__body-container__created-at__component-container {
  position: relative;
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__right {
  display: none;
}
.sendbird-message-content.outgoing:hover .sendbird-message-content__left .sendbird-message-content-menu {
  display: inline-flex;
}
.sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none;
}

.sendbird-message-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column;
}
.sendbird-message-content__middle__body-container .sendbird-message-content__middle__message-item-body {
  width: 100%;
  box-sizing: border-box;
}

.sendbird-message-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-message-content-reactions {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-content-reactions {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-message-content-reactions.primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-content-reactions.primary {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-message-content-reactions:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-message-content-reactions:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-message-content-reactions:hover.primary {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-message-content-reactions:hover.primary {
  background-color: var(--sendbird-dark-primary-300);
}

.sendbird-message-content__middle__thread-replies {
  margin-top: 4px;
}

.sendbird-voice-message-item-body.sendbird-message-content__middle__message-item-body {
  min-width: 136px;
  height: 50px;
}
.sendbird-message-item-menu__list__menu-item:focus-visible {
  outline: none;
}
.sendbird-text {
  color: var(--primary-1);
}
.sendbird-emoji-reactions {
  display: inline-block;
  border-radius: 16px;
  box-sizing: border-box;
  width: 100%;
  max-width: var(--sendbird-message-balloon-width);
  min-height: 24px;
  padding: 7px 5px 3px 5px;
}
.sendbird-theme--light .sendbird-emoji-reactions {
  background-color: var(--sendbird-light-background-50);
  border: 1px solid var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-emoji-reactions {
  background-color: var(--sendbird-dark-background-600);
  border: 1px solid var(--sendbird-dark-background-500);
}
.sendbird-emoji-reactions .sendbird-emoji-reactions__reaction-badge {
  margin-left: 2px;
  margin-right: 1px;
  margin-bottom: 4px;
}
.sendbird-emoji-reactions:focus {
  outline: none;
}

.sendbird-emoji-reactions .sendbird-context-menu {
  height: 26px;
}

.sendbird-emoji-reactions__add-reaction-badge {
  position: relative;
  top: -4px;
  display: inline-flex;
  width: 36px;
  height: 24px;
}

.sendbird-emoji-reactions .sendbird-context-menu {
  margin-left: 2px;
}
.sendbird-tooltip {
  position: relative;
  display: inline-flex;
  justify-content: center;
  max-width: 200px;
  border-radius: 8px;
  padding: 8px 16px;
}
.sendbird-theme--light .sendbird-tooltip {
  background-color: var(--sendbird-light-background-700);
}
.sendbird-theme--dark .sendbird-tooltip {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-tooltip::after {
  content: "";
  position: absolute;
  bottom: -4px;
  width: 8px;
  height: 8px;
  transform: rotate(45deg);
}
.sendbird-theme--light .sendbird-tooltip::after {
  background-color: var(--sendbird-light-background-700);
}
.sendbird-theme--dark .sendbird-tooltip::after {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-tooltip__text {
  font-family: var(--sendbird-font-family-default);
  font-size: 12px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal;
  word-break: keep-all;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-tooltip-wrapper {
  position: relative;
  display: inline-flex;
}
.sendbird-tooltip-wrapper__hover-tooltip {
  position: absolute;
  display: inline-flex;
  width: 200px;
}
.sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container {
  position: relative;
  display: inline-flex;
}
.sendbird-reaction-badge {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-badge {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-background-500);
}
.sendbird-reaction-badge:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}

.sendbird-reaction-badge--is-add {
  display: inline-block;
  border-radius: 15px;
  width: 36px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge--is-add {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-badge--is-add {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-background-500);
}
.sendbird-reaction-badge--is-add:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge--is-add:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge--is-add:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}
.sendbird-reaction-badge--is-add .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
  left: 8px;
}

.sendbird-reaction-badge--selected {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge--selected {
  background-color: var(--sendbird-light-primary-100);
  border: solid 1px var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-reaction-badge--selected {
  background-color: var(--sendbird-dark-primary-400);
  border: solid 1px var(--sendbird-dark-primary-400);
}
.sendbird-reaction-badge--selected:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge--selected:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge--selected:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}

.sendbird-reaction-badge__inner {
  position: relative;
  display: flex;
  height: 24px;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-left: 20px;
  padding-right: 4px;
}
.sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
  position: absolute;
  top: 2px;
  left: 4px;
}
.sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__count {
  margin-left: 4px;
}
.sendbird-admin-message {
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-admin-message .sendbird-admin-message__text {
  display: flex;
}
.sendbird-text-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: content-box;
  padding: 8px 12px;
  border-radius: 16px;
  white-space: pre-line;
  word-break: break-word;
}
.sendbird-text-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-text-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-text-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-text-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-text-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-text-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-text-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-text-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-text-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-text-message-item-body .sendbird-text-message-item-body__text-bubble__message {
  display: inline;
  margin: 0px 2px;
}

div.sendbird-text-message-item-body {
  margin: 0px;
}
.sendbird-word {
  white-space: break-spaces;
}
.sendbird-word .sendbird-word__mention {
  display: inline-block;
}
.sendbird-word .sendbird-word__mention:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
  background-color: var(--sendbird-highlight-100);
}
.sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
  background-color: var(--sendbird-highlight-100);
}
.sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-link-label {
  text-decoration: unset;
}
.sendbird-link-label:hover {
  cursor: pointer;
  text-decoration: underline;
}
.sendbird-link-label:focus {
  outline: none;
}
.sendbird-link-label__label {
  display: inline;
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200);
}
.sendbird-file-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  align-items: center;
  border-radius: 16px;
}
.sendbird-file-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-file-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-file-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-file-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-file-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-file-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-file-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-file-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-file-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  width: 28px;
  height: 28px;
  min-width: 28px;
  min-height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  margin-right: 8px;
}
.sendbird-theme--light .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-file-message-item-body .sendbird-file-message-item-body__file-name {
  position: relative;
  top: -6px;
}
.sendbird-thumbnail-message-item-body {
  position: relative;
  display: block;
  box-sizing: border-box;
  overflow: hidden;
  width: 100%;
  min-width: 360px;
  max-width: 400px;
  height: 270px;
  border-radius: 16px;
}
.sendbird--mobile-mode .sendbird-thumbnail-message-item-body {
  width: 66vw;
  min-width: 160px;
}
.sendbird-thumbnail-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-thumbnail-message-item-body {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-thumbnail-message-item-body {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--light .sendbird-thumbnail-message-item-body:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--dark .sendbird-thumbnail-message-item-body:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__thumbnail {
  position: absolute;
  border-radius: 16px;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder {
  position: absolute;
  width: 100%;
  height: 270px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder .sendbird-thumbnail-message-item-body__placeholder__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
  position: absolute;
  top: 0px;
  display: none;
  width: 100%;
  height: 270px;
  border-radius: 16px;
  background-color: var(--sendbird-light-overlay-01);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__video {
  position: absolute;
  width: 100%;
  height: 270px;
  border-radius: 16px;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper {
  position: absolute;
  width: 100%;
  height: 270px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper .sendbird-thumbnail-message-item-body__icon-wrapper__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-thumbnail-message-item-body:hover {
  cursor: pointer;
}
.sendbird-thumbnail-message-item-body:hover .sendbird-thumbnail-message-item-body__image-cover {
  display: inline-flex;
}
.sendbird-og-message-item-body {
  position: relative;
  display: inline-block;
  width: 100%;
  min-width: 320px;
  max-width: 400px;
}
.sendbird--mobile-mode .sendbird-og-message-item-body {
  width: 66vw;
  min-width: 160px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble {
  position: relative;
  padding: 8px 12px;
  box-sizing: border-box;
  border-radius: 16px 16px 0px 0px;
  word-break: break-word;
  white-space: pre-line;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble .sendbird-og-message-item-body__text-bubble__message {
  display: inline;
  margin: 0px 2px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail {
  position: relative;
  overflow: hidden;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail .sendbird-og-message-item-body__og-thumbnail__image {
  width: 100%;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-og-message-item-body.reactions .sendbird-og-message-item-body__description {
  border-radius: 0px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  padding: 8px 12px;
  display: flex;
  flex-direction: column;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__title,
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__description {
  margin-bottom: 4px;
  width: 100%;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: inline-block;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__url {
  width: 100%;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: inline-block;
  margin: 4px 0px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail:hover,
.sendbird-og-message-item-body .sendbird-og-message-item-body__description:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-primary-300);
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-primary-200);
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-background-100);
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-background-500);
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--light .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--dark .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
  display: none;
  position: absolute;
  top: 0%;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 16px 16px 0px 0px;
}

div.sendbird-og-message-item-body__text-bubble {
  margin: 0px;
}
.sendbird-unknown-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  border-radius: 16px;
}
.sendbird-unknown-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-unknown-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__header {
  display: block;
}
.sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__description {
  display: block;
}
.sendbird-quote-message {
  position: relative;
  display: inline-flex;
  box-sizing: border-box;
  flex-direction: column;
  max-width: 400px;
}
.sendbird-quote-message.incoming {
  align-items: flex-start;
}
.sendbird-quote-message.outgoing {
  align-items: flex-end;
}
.sendbird-quote-message .sendbird-quote-message__replied-to {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  height: 16px;
  padding: 0px 12px;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__icon {
  position: relative;
  margin-bottom: 4px;
  margin-right: 4px;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  position: relative;
  max-width: 360px;
  overflow: hidden;
  overflow-x: hidden;
  white-space: nowrap;
  word-break: keep-all;
  text-overflow: ellipsis;
  font-size: 12px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text .sendbird-quote-message__replied-to__text__nickname {
  display: inline-block;
  max-width: 148px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text .sendbird-quote-message__replied-to__text__text {
  margin: 0px 4px;
}
.sendbird-quote-message .sendbird-quote-message__replied-message {
  position: relative;
  display: inline-flex;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  position: relative;
  white-space: pre-wrap;
  word-break: break-all;
  font-size: 12px;
  padding: 8px 12px 16px 12px;
  border-radius: 16px;
  opacity: 0.5;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message .sendbird-quote-message__replied-message__text-message__word {
  position: relative;
  display: inline-flex;
  max-height: 30px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  position: relative;
  width: 144px;
  height: 108px;
  border-radius: 6.4px;
  overflow: hidden;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__video,
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__image {
  position: absolute;
  top: 0px;
  display: inline-flex;
  width: 100%;
  height: 100%;
  opacity: 0.5;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder {
  position: absolute;
  display: inline-flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder .sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  position: absolute;
  display: inline-flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
  top: 0px;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  background-color: rgba(255, 255, 255, 0.4);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  background-color: rgba(255, 255, 255, 0.4);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  background-color: rgb(255, 255, 255);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  background-color: rgb(255, 255, 255);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  font-size: 12px;
  padding: 8px 12px 16px 12px;
  border-radius: 16px;
  opacity: 0.5;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message .sendbird-quote-message__replied-message__file-message__type-icon {
  margin-right: 2px;
}
.sendbird-quote-message:hover {
  cursor: pointer;
}

.sendbird-quote-message.unavailable:hover {
  cursor: default;
}
.sendbird-message__mobile-context-menu {
  border-radius: 8px;
  width: 180px;
}

.sendbird-message__contextmenu--hyperlink {
  display: flex;
  justify-content: space-between;
}

.sendbird-message__bottomsheet--hyperlink {
  display: block;
}

.sendbird-message__bottomsheet--hyperlink,
.sendbird-message__contextmenu--hyperlink {
  width: 100%;
  text-decoration: none;
  color: inherit;
  font-size: inherit;
  font-weight: inherit;
  font-stretch: normal;
  font-style: normal;
  line-height: inherit;
  letter-spacing: inherit;
  font-family: inherit;
}

.sendbird-message__mobile-context-menu-item .sendbird-dropdown__menu-item__text {
  display: flex;
  justify-content: space-between;
}
.sendbird-theme--light .sendbird-message__mobile-context-menu-item:not(:last-child) {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message__mobile-context-menu-item:not(:last-child) {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-message__bottomsheet {
  width: 100vw;
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  padding-top: 16px;
}
.sendbird-theme--light .sendbird-message__bottomsheet {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message__bottomsheet {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-message__bottomsheet-reaction-bar {
  padding-left: 0;
  display: flex;
  justify-content: center;
  margin-bottom: 0px;
  margin-top: 0;
}

.sendbird-message__bottomsheet-reaction-bar__row {
  display: inline-block;
}
.sendbird-message__bottomsheet-reaction-bar__row.sendbird-message__bottomsheet-reaction-bar__all {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}

.sendbird-message__bottomsheet--action {
  cursor: pointer;
  height: 48px;
  display: flex;
  align-items: center;
  padding-left: 16px;
}
.sendbird-message__bottomsheet--action .sendbird-icon {
  margin-right: 24px;
}

.sendbird-message__bottomsheet--action-disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-message__bottomsheet--action-disabled {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message__bottomsheet--action-disabled {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-bottomsheet {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.sendbird-bottomsheet__content {
  z-index: 10001;
  position: fixed;
  bottom: 0;
  left: 0;
}

.sendbird-bottomsheet__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-bottomsheet__backdrop {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-bottomsheet__backdrop {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-ui-thread-replies {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: 20px;
  min-height: 20px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  padding: 4px 10px;
  gap: 4px;
  border-radius: 16px;
  flex: none;
  order: 0;
  flex-grow: 0;
}
.sendbird-theme--light .sendbird-ui-thread-replies {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-ui-thread-replies {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-ui-thread-replies:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-ui-thread-replies:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-ui-thread-replies:hover {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-ui-thread-replies__user-profiles {
  position: relative;
  width: 100%;
  height: 100%;
  gap: 4px;
  display: inline-flex;
  flex-direction: row;
}

.sendbird-ui-thread-replies__user-profiles__avatar {
  position: relative;
  width: 20px;
  height: 20px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

.sendbird-ui-thread-replies__user-profiles__avatar__image {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
}

.sendbird-ui-thread-replies__user-profiles__avatar__cover {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background-color: var(--sendbird-light-overlay-01);
}

.sendbird-ui-thread-replies__user-profiles__avatar__plus {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

.sendbird-ui-thread-replies__reply-counts {
  position: relative;
  min-width: -moz-fit-content;
  min-width: fit-content;
  height: 12px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  white-space: nowrap;
}

.sendbird-ui-thread-replies__icon {
  position: relative;
  display: inline-flex;
}
.sendbird-voice-message-item-body {
  position: relative;
  display: inline-flex;
  width: 100%;
  border-radius: 16px;
  overflow: hidden;
}

.sendbird-voice-message-item-body.is-reactions-contained {
  border-radius: 16px 16px 0px 0px;
}

.sendbird-voice-message-item-body__progress-bar {
  position: absolute;
  width: 100%;
  height: 50px;
}

.sendbird-voice-message-item-body__status-button {
  position: relative;
  top: 8px;
  left: 12px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
}

.sendbird-voice-message-item-body__status-button__button {
  width: 100%;
  height: 100%;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-item-body__status-button__button {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-voice-message-item-body__status-button__button {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-voice-message-item-body__playback-time {
  position: absolute;
  top: 15px;
  right: 12px;
}

.sendbird-voice-message-item-body__status-button__button__pause {
  position: relative;
  display: inline-flex;
  justify-content: space-between;
  align-items: center;
  width: 13.75px;
  height: 13.75px;
}

.sendbird-voice-message-item-body__status-button__button__pause__inner {
  position: relative;
  display: inline-flex;
  width: 4.38px;
  height: 13.75px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-voice-message-item-body__status-button__button__pause__inner {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-voice-message-item-body__status-button__button__pause__inner {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-progress-bar, .sendbird-progress-bar__fill {
  display: inline-flex;
  width: 100%;
  height: 100%;
}

.sendbird-progress-bar {
  justify-content: flex-start;
}

.sendbird-theme--light .sendbird-progress-bar__fill {
  background-color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-progress-bar__fill {
  background-color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .progress-bar-color--primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .progress-bar-color--primary {
  background-color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-progress-bar.progress-bar--disabled, .sendbird-theme--light .progress-bar-color--gray {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-progress-bar.progress-bar--disabled, .sendbird-theme--dark .progress-bar-color--gray {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-progress-bar.progress-bar--disabled .sendbird-progress-bar__fill {
  background-color: transparent;
}
.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-fileviewer__header__right__actions__download .disabled,
.sendbird-fileviewer__header__right__actions__delete .disabled,
.sendbird-fileviewer__header__right__actions__close .disabled {
  cursor: not-allowed;
}

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-fileviewer {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-fileviewer {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-fileviewer .sendbird-fileviewer__header {
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header {
  position: relative;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  align-items: center;
  height: 64px;
  padding: 16px 20px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
  margin-right: 8px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  max-width: 500px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  position: absolute;
  left: 64px;
  top: 10px;
  display: block;
  max-width: calc(100vw - 240px);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-flex;
  margin-left: 8px;
  padding-top: 5px;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  position: absolute;
  left: 56px;
  top: 24px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
  display: flex;
  width: 160px;
  justify-content: flex-end;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
  right: 0;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__content {
  height: calc(100% - 72px);
  margin-top: 8px;
  overflow-y: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
  max-width: 100%;
  max-height: 100%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
  max-width: 90%;
  max-height: 90%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
  max-width: 100%;
  max-height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-notification--hide,
.sendbird-notification {
  position: absolute;
}

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-notification {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-notification {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-notification:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-notification:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-notification:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-notification .sendbird-notification__text {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
}

.sendbird-notification--hide {
  display: none;
}
.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-notification {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-notification {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-notification:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-notification:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-notification:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-notification .sendbird-notification__text {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
}
.sendbird-message-input-wrapper--voice-message,
.sendbird-message-input-wrapper {
  position: relative;
  width: 100%;
}
.sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  position: relative;
  width: 100%;
}
.sendbird-theme--light .sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-theme--light .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  border-top: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-theme--dark .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  border-top: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__message-input,
.sendbird-message-input-wrapper .sendbird-message-input-wrapper__message-input {
  position: relative;
  width: 100%;
  box-sizing: border-box;
  padding-left: 24px;
  padding-right: 24px;
}

.sendbird-theme--light .sendbird-message-input-wrapper--voice-message {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input-wrapper--voice-message {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-quote_message_input {
  position: relative;
  padding: 16px 80px 16px 40px;
  width: 100%;
  height: 76px;
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}
.sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  width: 44px;
  min-width: 44px;
  height: 44px;
  min-height: 44px;
  position: relative;
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote_message_input .sendbird-quote_message_input__body {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  overflow: hidden;
}
.sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__sender-name {
  position: relative;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  box-sizing: border-box;
  margin-bottom: 8px;
}
.sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__message-content {
  position: relative;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  box-sizing: border-box;
}
.sendbird-quote_message_input .sendbird-quote_message_input__close-button {
  position: absolute;
  top: 26px;
  right: 40px;
}
.sendbird-quote_message_input .sendbird-quote_message_input__close-button:hover {
  cursor: pointer;
}
.sendbird-voice-message-input-wrapper .sendbird-voice-message-input__indicator {
  height: 40px;
}

.sendbird-voice-message-input-wrapper-alert__body {
  position: relative;
  display: flex;
  justify-content: flex-end;
  align-items: flex-end;
  width: 100%;
  height: 74px;
}

.sendbird-voice-message-input-wrapper-alert__body__ok-button {
  width: 74px;
}
.sendbird-voice-message-input {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 100%;
  height: 110px;
  padding-top: 22px;
  padding-left: 24px;
  padding-right: 24px;
  box-sizing: border-box;
}

.sendbird-voice-message-input__indicator {
  position: relative;
  display: inline-flex;
  width: 100%;
}

.sendbird-voice-message-input__indicator__progress-bar {
  position: relative;
  display: inline-flex;
  width: 100%;
  border-radius: 28px;
  overflow: hidden;
}

.sendbird-voice-message-input__indicator__on-rec {
  position: absolute;
  top: 14px;
  right: 53px;
}

.sendbird-voice-message-input__indicator__playback-time {
  position: absolute;
  top: 10px;
  right: 16px;
}

.sendbird-voice-message-input__controler {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  margin-top: 14px;
  height: 34px;
  min-height: 34px;
}

.sendbird-voice-message-input__controler__main {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-input__controler__main {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__main {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-voice-message-input__controler__main:hover {
  cursor: pointer;
}

.sendbird-voice-message-input__controler__submit {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-input__controler__submit {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__submit {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-voice-message-input__controler__submit:hover {
  cursor: pointer;
}

.sendbird-theme--light .sendbird-voice-message-input__controler__submit.voice-message--disabled {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__submit.voice-message--disabled {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-voice-message-input__controler__submit.voice-message--disabled:hover {
  cursor: default;
}

@keyframes flickerAnimation {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
.sendbird-voice-message-input__indicator__on-rec {
  width: 12px;
  height: 12px;
  min-width: 12px;
  min-height: 12px;
  border-radius: 50%;
  animation: flickerAnimation 1s infinite;
}
.sendbird-theme--light .sendbird-voice-message-input__indicator__on-rec {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-voice-message-input__indicator__on-rec {
  background-color: var(--sendbird-dark-error-300);
}

.sendbird-voice-message-input__indicator__progress-bar__bar {
  height: 40px;
}

.sendbird-controler-icon {
  position: relative;
  display: inline-block;
}

.sendbird-controler-icon.record-icon {
  width: 20px;
  height: 20px;
  min-width: 20px;
  min-height: 20px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-controler-icon.record-icon {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-controler-icon.record-icon {
  background-color: var(--sendbird-dark-error-300);
}

.sendbird-controler-icon.stop-icon {
  width: 14px;
  height: 14px;
  min-width: 14px;
  min-height: 14px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-controler-icon.stop-icon {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-controler-icon.stop-icon {
  background-color: var(--sendbird-dark-ondark-01);
}

.sendbird-controler-icon.pause-icon {
  display: inline-flex;
  width: 100%;
  gap: 3.75px;
  width: 13.75px;
  height: 13.75px;
  min-width: 13.75px;
  min-height: 13.75px;
}

.sendbird-controler-icon.pause-icon-inner {
  display: inline-flex;
  min-width: 4.38px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-controler-icon.pause-icon-inner {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-controler-icon.pause-icon-inner {
  background-color: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-channel-settings {
  width: 100%;
}
.sendbird-theme--light .sendbird-channel-settings {
  background-color: var(--sendbird-light-background-50);
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings {
  background-color: var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-channel-settings .sendbird-channel-settings__header-icon {
  cursor: pointer;
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-settings .sendbird-channel-settings__members .sendbird-badge__text {
  margin-top: -2px;
}
.sendbird-channel-settings .sendbird-channel-settings__header {
  height: 64px;
  min-height: 64px;
  position: relative;
  padding: 20px 24px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-channel-settings .sendbird-channel-settings__scroll-area {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
  height: calc(100% - 64px);
  overflow-y: auto;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-item {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-item {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item:focus {
  outline: none;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
  cursor: not-allowed;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-left,
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
  position: absolute;
  top: 10px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-left {
  left: 16px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
  right: 16px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon--open {
  transform: rotate(90deg);
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px;
}
.sendbird-theme--light .sendbird-channel-profile {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-profile {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-channel-profile .sendbird-channel-profile--inner {
  height: 92px;
}
.sendbird-channel-profile .sendbird-channel-profile__avatar {
  margin-bottom: 16px;
  display: flex;
  justify-content: center;
}
.sendbird-channel-profile .sendbird-channel-profile__title {
  display: block;
  max-width: 240px;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  height: 18px;
}
.sendbird--mobile-mode .sendbird-channel-profile .sendbird-channel-profile__title {
  max-width: 100%;
}
.sendbird-channel-profile .sendbird-channel-profile__edit {
  position: absolute;
  top: 10px;
  right: 16px;
}

.channel-profile-form .channel-profile-form__img-section {
  position: relative;
}
.channel-profile-form .channel-profile-form__avatar-button {
  position: absolute;
  top: 54px;
  left: 96px;
}
.channel-profile-form .channel-profile-form__avatar {
  margin-top: 16px;
}
.channel-profile-form .channel-profile-form__name-section {
  margin-top: 12px;
}
.channel-profile-form .channel-profile-form__name-section .sendbird-input {
  height: 40px;
}
.sendbird-channel-settings__operator .sendbird-channel-settings__accordion-icon {
  position: absolute;
  left: 14px;
}
.sendbird-channel-settings__operator .sendbird-accordion__panel-heder {
  position: relative;
}

.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-more-members__popup-scroll {
  max-height: 100%;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
  right: 72px;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
  max-width: 240px;
}

.sendbird-channel-settings__empty-list {
  text-align: center;
  margin-top: 12px;
  margin-bottom: 4px;
  display: block;
}

.sendbird-channel-settings-accordion__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px;
}
.sendbird-channel-settings-accordion__footer .sendbird-button:nth-child(2) {
  margin-left: 8px;
}

.sendbird-channel-settings__freeze {
  max-width: 320px;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird--mobile-mode .sendbird-channel-settings__freeze {
  max-width: 100%;
}
.sendbird-theme--light .sendbird-channel-settings__freeze {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings__freeze {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-channel-settings__frozen-icon {
  position: absolute;
  right: 20px;
  top: 12px;
}
.sendbird-channel-settings__frozen-icon .sendbird-icon {
  cursor: pointer;
}

.sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-channel-settings__members .sendbird-badge {
  position: absolute;
  right: 44px;
  top: 12px;
}
.sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-theme--light .sendbird-channel-settings__members .sendbird-badge {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-theme--dark .sendbird-channel-settings__members .sendbird-badge {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label,
.sendbird-theme--light .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label,
.sendbird-theme--dark .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-accordion {
  padding: 8px 0px 16px 0px;
  position: relative;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-accordion {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-accordion {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-accordion .sendbird-accordion__member {
  position: relative;
  padding: 12px 0px 12px 44px;
  height: 40px;
  box-sizing: border-box;
}
.sendbird-accordion .sendbird-accordion__footer {
  display: flex;
  justify-content: flex-start;
  margin-top: 8px;
}

.sendbird-accordion__panel-header {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-accordion__panel-header {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-accordion__panel-header {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-accordion__panel-header:focus {
  outline: none;
}
.sendbird-accordion__panel-header.sendbird-accordion__panel-item__disabled {
  cursor: not-allowed;
}

.sendbird-accordion__panel-icon-left,
.sendbird-accordion__panel-icon-right {
  position: absolute;
  top: 10px;
}

.sendbird-accordion__panel-icon-left {
  left: 16px;
}

.sendbird-accordion__panel-icon-right {
  right: 16px;
}

.sendbird-accordion__panel-icon--open {
  transform: rotate(90deg);
}

.sendbird-theme--light .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-dark-error-300);
}
.sendbird-input-toggle-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
  cursor: pointer;
}

.sendbird-theme--light .sendbird-input-toggle-button--checked {
  background-color: var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input-toggle-button--checked {
  background-color: var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-input-toggle-button--unchecked {
  background-color: var(--sendbird-light-background-300);
  border: 1px solid var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-input-toggle-button--unchecked {
  background-color: var(--sendbird-dark-background-400);
  border: 1px solid var(--sendbird-dark-background-400);
}

.sendbird-input-toggle-button--disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-input-toggle-button--disabled {
  background-color: var(--sendbird-light-background-200);
  border: 1px solid var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-input-toggle-button--disabled {
  background-color: var(--sendbird-dark-background-400);
  border: 1px solid var(--sendbird-dark-background-400);
}

.sendbird-input-toggle-button input {
  position: absolute;
  display: none;
}

.sendbird-input-toggle-button__inner-dot {
  position: absolute;
  border-radius: 50%;
  animation-iteration-count: 1;
}
.sendbird-theme--light .sendbird-input-toggle-button__inner-dot {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-input-toggle-button__inner-dot {
  background-color: var(--sendbird-dark-background-600);
}

/* Manage animation and position by status */
@keyframes sendbirdMoveToRight {
  0% {
    right: 60%;
  }
  100% {
    right: 10%;
  }
}
@keyframes sendbirdMoveToLeft {
  0% {
    right: 10%;
  }
  100% {
    right: 60%;
  }
}
.sendbird-input-toggle-button--turned-on .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToRight;
}

.sendbird-input-toggle-button--turned-off .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToLeft;
}

.sendbird-input-toggle-button--unchecked .sendbird-input-toggle-button__inner-dot {
  right: 60%;
}

.sendbird-input-toggle-button--checked .sendbird-input-toggle-button__inner-dot {
  right: 10%;
}

.sendbird-input-toggle-button--reversed .sendbird-input-toggle-button--turned-on .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToLeft;
}
.sendbird-input-toggle-button--reversed .sendbird-input-toggle-button--turned-off .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToRight;
}
.sendbird-input-toggle-button--reversed.sendbird-input-toggle-button--unchecked .sendbird-input-toggle-button__inner-dot {
  right: 10%;
}
.sendbird-input-toggle-button--reversed.sendbird-input-toggle-button--checked .sendbird-input-toggle-button__inner-dot {
  right: 60%;
}
.sendbird-user-list-item--small {
  display: block;
  position: relative;
  box-sizing: border-box;
  height: 40px;
}
.sendbird-user-list-item--small__avatar {
  cursor: pointer;
  position: absolute;
  top: 10px;
  left: 12px;
}
.sendbird-user-list-item--small .sendbird-muted-avatar {
  position: absolute;
  top: 10px;
  left: 12px;
  pointer-events: none;
}
.sendbird-user-list-item--small__title {
  position: absolute;
  top: 10px;
  left: 54px;
  width: 160px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-user-list-item--small__subtitle {
  position: absolute;
  top: 23px;
  left: 140px;
  max-width: 237px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item--small__subtitle {
  max-width: 40%;
}
.sendbird-user-list-item--small__checkbox {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-user-list-item--small__action {
  display: none;
  position: absolute;
  right: 10px;
  top: 4px;
}
.sendbird-user-list-item--small__operator {
  position: absolute;
  right: 24px;
  top: 10px;
}
.sendbird-theme--light .sendbird-user-list-item--small:hover, .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-user-list-item--small:hover, .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-user-list-item--small:hover .sendbird-user-list-item--small__action, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__action {
  display: block;
}
.sendbird-user-list-item--small:hover .sendbird-user-list-item--small__operator, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__operator {
  display: none;
}
.sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-channel-settings__leave-label--mobile {
  text-decoration: none;
}

.sendbird-channel-settings__leave--mobile .sendbird-modal__content {
  max-width: calc(100% - 80px);
}
.sendbird-channel-settings__leave--mobile .sendbird-modal__close {
  display: none;
}
.sendbird-channel-settings__leave--mobile .sendbird-channel-preview__leave-label--mobile {
  text-decoration: none;
}
.sendbird-channel-settings__leave--mobile .sendbird-modal__header span {
  display: inline-block;
  width: calc(100% - 120px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-more-members__popup-scroll {
  max-height: 100%;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
  right: 72px;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
  max-width: 240px;
}

.sendbird-channel-settings__badge {
  position: absolute;
  right: 48px;
}
.sendbird-theme--light .sendbird-channel-settings__badge {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-settings__badge {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-settings__badge .sendbird-label {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-channel-settings__badge .sendbird-label {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-channel-settings__user-panel .sendbird-channel-settings-accordion__footer {
  padding-left: 14px;
  padding-top: 14px;
}
.sendbird-message-search-pannel {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-search-pannel {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-pannel {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-message-search-pannel {
  width: 100%;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  position: absolute;
  top: 14px;
  left: 48px;
  margin: 0px;
  padding: 0px;
  border: 0px;
  outline: none;
  font-size: 14px;
  width: calc(100% - 90px);
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  color: var(--sendbird-light-onlight-01);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  color: var(--sendbird-dark-ondark-01);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  position: relative;
  display: flex;
  width: 100%;
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__title {
  position: absolute;
  top: 20px;
  left: 24px;
  width: calc(100% - 74px);
  overflow-x: hidden;
  word-break: keep-all;
  text-overflow: ellipsis;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__close-button {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input {
  display: flex;
  position: relative;
  padding: 16px;
  box-sizing: border-box;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  position: relative;
  border-radius: 4px;
  width: 100%;
  height: 44px;
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  border: 1px solid var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  border: 1px solid var(--sendbird-dark-ondark-03);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__search-icon {
  position: absolute;
  top: 10px;
  left: 16px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__spinner {
  position: absolute;
  top: 12px;
  right: 12px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button {
  position: absolute;
  top: 12px;
  right: 12px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button:hover {
  cursor: pointer;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__message-search {
  position: relative;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  overflow-y: hidden;
}
.sendbird-message-search {
  position: relative;
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird-theme--light .sendbird-message-search {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-message-search-item {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  position: relative;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-message-search-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-message-search-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-item:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-item .sendbird-message-search-item__left {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 90px;
  height: 80px;
}
.sendbird-message-search-item .sendbird-message-search-item__right {
  display: flex;
  flex-direction: column;
  width: calc(100% - 106px);
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__sender-name {
  position: absolute;
  top: 12px;
  display: inline;
  max-width: 150px;
  height: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-text {
  box-sizing: border-box;
  display: flex;
  width: inherit;
  height: 32px;
  overflow: hidden;
  text-overflow: ellipsis;
  position: absolute;
  top: 36px;
  word-break: break-word;
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-created-at {
  position: absolute;
  top: 12px;
  right: 18px;
}
.sendbird-message-search-item .sendbird-message-search-item__right-footer {
  width: 16px;
}

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200);
}
.sendbird-message-search-file-item {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-message-search-file-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-file-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-message-search-file-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__left {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 90px;
  height: 80px;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 106px);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__sender-name {
  position: absolute;
  top: 12px;
  display: inline-block;
  max-width: 146px;
  height: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content {
  position: absolute;
  top: 36px;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  display: flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  position: relative;
  margin-right: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 26px;
  min-width: 26px;
  height: 26px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__url {
  height: 16px;
  position: relative;
  display: inline;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
  white-space: nowrap;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__message-created-at {
  position: absolute;
  top: 12px;
  right: 18px;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right-footer {
  width: 16px;
}

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200);
}
.sendbird-thread-ui {
  position: relative;
  max-width: 320px;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
}
.sendbird-theme--light .sendbird-thread-ui {
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-thread-ui {
  border-right: 1px solid var(--sendbird-dark-ondark-04);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-thread-ui__header {
  width: 100%;
}
.sendbird-theme--light .sendbird-thread-ui__header {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__header {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-thread-ui--scroll {
  overflow-y: scroll;
  overflow-x: hidden;
  height: 100%;
  display: inline-flex;
  flex-direction: column;
  justify-content: flex-start;
}

.sendbird-theme--light .sendbird-thread-ui__parent-message-info {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__parent-message-info {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-thread-ui__parent-message-info .sendbird-word__mention .sendbird-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-thread-ui__parent-message-info .sendbird-word__mention .sendbird-label {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-thread-ui__reply-counts {
  position: relative;
  box-sizing: border-box;
  width: 100%;
  height: 42px;
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  padding: 16px 11px;
}
.sendbird-theme--light .sendbird-thread-ui__reply-counts {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__reply-counts {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-thread-ui__thread-list {
  padding: 16px;
}

.sendbird-thread-ui__message-input {
  padding: 0px 16px;
  margin-bottom: 24px;
}

.sendbird-thread-ui__thread-list.sendbird-place-holder {
  box-sizing: border-box;
}
.sendbird-parent-message-info {
  position: relative;
  width: 100%;
  height: -moz-fit-content;
  height: fit-content;
  padding: 12px 12px 12px 16px;
  display: inline-flex;
  flex-direction: row;
  align-items: flex-start;
  box-sizing: border-box;
}

.sendbird-parent-message-info__sender {
  position: relative;
  min-width: 40px;
  min-height: 40px;
}

.sendbird-parent-message-info__content {
  position: relative;
  margin-left: 12px;
  display: inline-flex;
  flex-direction: column;
}

.sendbird-parent-message-info__content__info {
  position: relative;
  max-width: 188px;
  height: 16px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
}

.sendbird-parent-message-info__content__info__sender-name,
.sendbird-parent-message-info__content__info__sender-name--use-reaction {
  position: relative;
  margin-right: 6px;
  word-break: keep-all;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-parent-message-info__content__info__sender-name {
  max-width: 142px;
}

.sendbird-parent-message-info__content__info__sender-name--use-reaction {
  max-width: 110px;
}

.sendbird-parent-message-info__content__info__sent-at {
  position: relative;
  max-width: 52px;
  height: 12px;
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  white-space: nowrap;
  word-break: keep-all;
}

.sendbird-parent-message-info__content__body {
  position: relative;
  max-width: 210px;
  overflow: hidden;
}

.sendbird-parent-message-info__content__body.sendbird-thumbnail-message-item-body.incoming {
  min-width: 200px;
  height: 148px;
}

.sendbird-parent-message-info__content__reactions {
  position: relative;
  max-width: 240px;
  width: 100%;
  height: 100%;
}

.sendbird-parent-message-info__context-menu {
  position: absolute;
  top: 6px;
  right: 12px;
  display: none;
}

.sendbird-parent-message-info__context-menu.use-reaction {
  right: 44px;
}

.sendbird-parent-message-info__reaction-menu {
  position: absolute;
  top: 6px;
  right: 12px;
  display: none;
}

.sendbird-parent-message-info .sendbird-text-message-item-body.reactions {
  border-radius: 16px;
}

.sendbird-theme--light .sendbird-parent-message-info .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-parent-message-info .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-dark-background-600);
}

.sendbird-parent-message-info:hover .sendbird-parent-message-info__context-menu,
.sendbird-parent-message-info:hover .sendbird-parent-message-info__reaction-menu,
.sendbird-parent-message-info__context-menu.sendbird-mouse-hover,
.sendbird-parent-message-info__reaction-menu.sendbird-mouse-hover {
  display: inline-flex;
}

.sendbird-theme--light .sendbird-parent-message-info .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-parent-message-info .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-theme--light .sendbird-parent-message-info:hover,
.sendbird-theme--light .sendbird-parent-message-info:hover .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-parent-message-info:hover,
.sendbird-theme--dark .sendbird-parent-message-info:hover .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-theme--light .sendbird-parent-message-info:hover .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-light-background-100);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-parent-message-info:hover .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-dark-background-500);
  background-color: var(--sendbird-dark-background-500);
}

.parent-message-info--suggested-mention-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
  min-height: 200px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 166px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 68px;
}
.sendbird-parent-message-info-item {
  position: relative;
  margin-top: 8px;
}

.sendbird-parent-message-info-item__text-message,
.sendbird-parent-message-info-item__og-field {
  padding-right: 4px;
  display: inline-block;
  white-space: pre-line;
  word-break: break-all;
}

.sendbird-parent-message-info-item__og-field {
  display: inline-flex;
  flex-direction: column;
  margin-top: 4px;
}

.sendbird-parent-message-info-item__og-field__content {
  display: inline-flex;
  flex-direction: column;
  padding: 8px 12px;
  gap: 4px;
}

.sendbird-parent-message-info-item__file-message {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
}

.sendbird-parent-message-info-item__file-message__file-name {
  display: inline-block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 200px;
}

.sendbird-parent-message-info-item__thumbnail-message {
  position: relative;
  display: block;
  width: 200px;
  height: 148px;
}

.sendbird-parent-message-info-item__thumbnail-message__thumbnail {
  position: absolute;
  border-radius: 16px;
}

.sendbird-parent-message-info-item__thumbnail-message__placeholder {
  position: absolute;
  width: 100%;
  height: 148px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.sendbird-parent-message-info-item__thumbnail-message__placeholder__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-parent-message-info-item__thumbnail-message__image-cover {
  position: absolute;
  top: 0px;
  display: none;
  width: 100%;
  height: 148px;
  border-radius: 16px;
  background-color: var(--sendbird-light-overlay-01);
}

.sendbird-parent-message-info-item__thumbnail-message__video {
  position: absolute;
  width: 100%;
  height: 148px;
  border-radius: 16px;
}

.sendbird-parent-message-info-item__thumbnail-message__icon-wrapper {
  position: absolute;
  width: 100%;
  height: 148px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-parent-message-info-item__thumbnail-message__icon-wrapper__icon {
  width: 56px;
  height: 56px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-parent-message-info-item__thumbnail-message:hover {
  cursor: pointer;
}
.sendbird-parent-message-info-item__thumbnail-message:hover .sendbird-parent-message-info-item__thumbnail-message__image-cover {
  display: inline-flex;
}

.sendbird-parent-message-info-item__voice-message__item {
  min-width: 136px;
  height: 50px;
}
.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-fileviewer__header__right__actions__download .disabled,
.sendbird-fileviewer__header__right__actions__delete .disabled,
.sendbird-fileviewer__header__right__actions__close .disabled {
  cursor: not-allowed;
}

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-fileviewer {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-fileviewer {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-fileviewer .sendbird-fileviewer__header {
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  align-items: center;
  height: 64px;
  padding: 16px 20px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
  margin-right: 8px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  max-width: 500px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-flex;
  margin-left: 8px;
  padding-top: 5px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
  display: flex;
  width: 160px;
  justify-content: flex-end;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
  right: 0;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__content {
  height: calc(100% - 72px);
  margin-top: 8px;
  overflow-y: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
  max-width: 100%;
  max-height: 100%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
  max-width: 90%;
  max-height: 90%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
  max-width: 100%;
  max-height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-thread-header {
  position: relative;
  min-width: 320px;
  width: 320px;
  min-height: 64px;
  height: 64px;
  display: inline;
  padding: 13px 24px;
  box-sizing: border-box;
}

.sendbird-thread-header__title {
  position: relative;
  max-width: 254px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-header__channel-name {
  position: relative;
  max-width: 254px;
  height: 12px;
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-header__action {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 56px;
  height: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.sendbird-thread-list-item .sendbird-separator {
  margin: 4px 0px;
}

.sendbird-thread-list .sendbird-message-content__middle__sender-name {
  white-space: nowrap;
  max-width: 210px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-list .sendbird-message-content.incoming .sendbird-message-content__middle {
  max-width: 200px;
}

.sendbird-thread-list .sendbird-thumbnail-message-item-body.outgoing {
  min-width: 200px;
  min-height: 148px;
  height: 148px;
}

.sendbird-thread-list .sendbird-message-content .sendbird-message-content__middle {
  max-width: 230px;
}

.sendbird-thread-list .sendbird-message-status__icon.sendbird-message-status--sent {
  display: none;
}

.sendbird-thread-list .sendbird-mention-suggest-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 134px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 46px;
}
.sendbird-thread-list-item-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
.sendbird-thread-list-item-content.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle {
  max-width: 200px;
}
.sendbird--mobile-mode .sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle {
  max-width: calc(100vw - 100px);
}
.sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.use-quote {
  margin-top: -8px;
  bottom: -8px;
}

.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content__left__avatar {
  position: absolute;
  left: 0px;
  bottom: 2px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  max-width: 198px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  position: absolute;
  bottom: 6px;
  right: -84px;
  white-space: nowrap;
  display: flex;
  flex-direction: row;
  min-width: 80px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__sender-name {
  position: relative;
  margin-left: 12px;
  margin-bottom: 4px;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message:hover {
  cursor: pointer;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.use-reactions {
  width: 70px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.chain-top {
  padding-top: 2px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.chain-top.use-quote {
  padding-top: 18px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu {
  position: relative;
  flex-direction: row;
  height: 32px;
  display: none;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming:hover .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu {
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming:hover .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  display: none;
}

.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left.use-reactions {
  width: 70px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left.use-quote .sendbird-thread-list-item-content-menu {
  top: 18px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu {
  position: absolute;
  top: 2px;
  right: 4px;
  flex-direction: row;
  display: none;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  max-width: 200px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  position: absolute;
  bottom: 2px;
  left: -84px;
  white-space: nowrap;
  display: flex;
  justify-content: flex-end;
  box-sizing: content-box;
  min-width: 80px;
  min-height: 16px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at .sendbird-thread-list-item-content__middle__body-container__created-at__component-container {
  position: relative;
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__right {
  display: none;
}
.sendbird-thread-list-item-content.outgoing:hover .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu {
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing:hover .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  display: none;
}

.sendbird-thread-list-item-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column;
}
.sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  width: 100%;
  box-sizing: border-box;
}

.sendbird-thread-list-item-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.primary {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-thread-list-item-content-reactions:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-thread-list-item-content-reactions:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-thread-list-item-content-reactions:hover.primary {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-thread-list-item-content-reactions:hover.primary {
  background-color: var(--sendbird-dark-primary-300);
}

.sendbird-thread-list-item-content__middle__thread-replies {
  margin-top: 4px;
}

.sendbird-thread-list-item-content__middle__message-item-body.sendbird-og-message-item-body,
.sendbird-thread-list-item-content__middle__message-item-body.sendbird-thumbnail-message-item-body {
  min-width: 200px;
  max-width: 200px;
}

.sendbird-thread-list-item-content__middle__message-item-body.sendbird-thumbnail-message-item-body {
  height: 148px;
}

.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__placeholder,
.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper,
.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__video {
  height: 148px;
}

.sendbird-voice-message-item-body.sendbird-thread-list-item-content__middle__message-item-body {
  min-width: 136px;
  height: 50px;
}
.sendbird-thread-message-input .sendbird-mention-suggest-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 134px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 46px;
}

.sendbird-theme--light .sendbird-thread-message-input--voice-message {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-message-input--voice-message {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sb_mobile__panelwrap {
  height: 100vh;
}

.sb-show-main {
  padding: 0 !important;
}
.sendbird-app__wrap {
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box;
}
.sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  width: 320px;
  min-width: 320px;
  overflow-x: hidden;
  overflow-y: scroll;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-right: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-app__wrap .sendbird-app__conversation-wrap {
  flex: 1;
  position: relative;
  width: calc(100% - 320px);
}
.sendbird-app__wrap .sendbird-app__channellist-wrap {
  max-width: 320px;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__channellist-wrap {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-left: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__channellist-wrap {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-app__wrap .sendbird-chat-header__search {
  margin-right: 16px;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-app__wrap .sendbird-channel-settings {
  border-left: none;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-channel-settings {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-channel-settings {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-right: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-app__wrap .sendbird-channel-settings .sendbird-channel-settings__header {
  height: 64px;
}
.sendbird-openchannel-conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-conversation {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-conversation {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll {
  overflow-y: auto;
  flex: 1 1 0;
  order: 2;
  width: 100%;
}
.sendbird-openchannel-conversation .sendbird-openchannel-footer {
  order: 3;
  padding: 12px 24px 24px 24px;
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column;
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container .sendbird-openchannel-conversation-scroll-padding {
  flex: 1 1 0;
}
.sendbird-frozen-channel-notification {
  position: relative;
  margin-top: 8px;
  margin-right: 24px;
  margin-left: 24px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-frozen-channel-notification {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-frozen-channel-notification {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-oepnchannel-header__icon_back {
  position: absolute;
  left: 12px;
  top: 18px;
}

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  max-width: calc(100% - 120px);
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  max-width: calc(100% - 160px);
}
.sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  position: absolute;
  left: 20px;
  top: 16px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  left: 50px;
}
.sendbird-openchannel-conversation-header__left__title {
  position: absolute;
  left: 60px;
  top: 12px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left__title {
  left: 90px;
}
.sendbird-openchannel-conversation-header__left__sub-title {
  position: absolute;
  left: 60px;
  top: 36px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left__sub-title {
  left: 90px;
}
.sendbird-openchannel-conversation-header__right {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 64px;
  height: 64px;
}
.sendbird-openchannel-conversation-header__right__trigger {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-openchannel-conversation-scroll {
  position: relative;
  width: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container {
  position: sticky;
  width: 100%;
  bottom: 0px;
  height: 100%;
  overflow: hidden;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__padding {
  height: 8px;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container {
  width: 100%;
  height: 100%;
  overflow: scroll;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages {
  width: 100%;
  height: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages .sendbird-openchannel-conversation-scroll__container__place-holder {
  width: 100%;
  height: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 8px;
  left: calc(50% - 20px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
  z-index: 1;
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  background-color: var(--sendbird-light-primary-300);
  box-shadow: var(--sendbird-light-shadow-05);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  background-color: var(--sendbird-dark-primary-200);
  box-shadow: var(--sendbird-dark-shadow-05);
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
  background-color: var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-openchannel-user-message {
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-user-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-user-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-user-message:hover .sendbird-openchannel-user-message__context-menu {
  display: block;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__left .sendbird-openchannel-user-message__left__avatar {
  position: relative;
  display: flex;
  margin-top: 8px;
  margin-left: 24px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
  margin: 8px 24px 8px 12px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top {
  position: relative;
  display: flex;
  margin-bottom: 2px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom {
  position: relative;
  display: flex;
  width: 100%;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom .sendbird-openchannel-user-message__right__bottom__message {
  position: relative;
  word-break: break-all;
  white-space: pre-line;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__tail {
  position: relative;
  top: 2px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu {
  position: absolute;
  right: 16px;
  display: none;
}
.sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel__mobile-menu-hyperlink {
  display: block;
  width: 100%;
  text-decoration: none;
  color: inherit;
  font-size: inherit;
  font-weight: inherit;
  font-stretch: normal;
  font-style: normal;
  line-height: inherit;
  letter-spacing: inherit;
  font-family: inherit;
}
.sendbird-openchannel-admin-message {
  position: relative;
  margin: 16px 24px;
  padding: 12px 16px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-openchannel-admin-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-admin-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-admin-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-admin-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-admin-message .sendbird-openchannel-admin-message__text {
  word-wrap: break-word;
}
.sendbird-openchannel-og-message {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-og-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-og-message:hover .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
  display: block;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top {
  box-sizing: border-box;
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left .sendbird-openchannel-og-message__top__left__avatar {
  position: absolute;
  display: flex;
  top: 8px;
  left: 24px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right {
  position: relative;
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  margin: 8px 24px 8px 12px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title {
  position: relative;
  display: flex;
  margin-bottom: 2px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message {
  position: relative;
  display: inline;
  white-space: pre-wrap;
  word-break: break-all;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message .sendbird-word .sendbird-word__url {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message .sendbird-word .sendbird-word__url {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
  position: absolute;
  right: 16px;
  display: none;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom {
  position: relative;
  display: inline;
  margin-bottom: 8px;
  width: 100%;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  width: calc(100% - 64px);
  max-width: 360px;
  left: 64px;
  padding: 12px 12px 4px 12px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  border: solid 1px var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  border: solid 1px var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__url {
  position: relative;
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 8px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title {
  position: relative;
  display: inline-block;
  white-space: pre-wrap;
  overflow-wrap: normal;
  margin-bottom: 8px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__description {
  position: relative;
  display: block;
  white-space: pre-wrap;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-all;
  max-height: 32px;
  margin-bottom: 8px;
  width: 100%;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail {
  box-sizing: border-box;
  position: relative;
  display: block;
  margin-top: 4px;
  margin-bottom: 8px;
  width: 100%;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail:hover {
  cursor: pointer;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image {
  border-radius: 8px;
  width: 100%;
  min-width: 200px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder {
  border-radius: 8px;
  width: 100%;
  min-width: 200px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top__right__tail {
  position: relative;
  left: 64px;
  top: 2px;
}

.sendbird-openchannel-og-message--word {
  display: inline;
  margin: 0px 2px;
  word-break: break-all;
}
.sendbird-openchannel-thumbnail-message {
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu {
  display: block;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left .sendbird-openchannel-thumbnail-message__left__avatar {
  position: absolute;
  display: inline;
  margin-top: 8px;
  margin-left: 28px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  margin-top: 8px;
  margin-bottom: 8px;
  margin-left: 12px;
  width: calc(100% - 64px);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title {
  position: relative;
  display: inline;
  margin-bottom: 4px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sender-name {
  position: relative;
  display: inline;
  margin-right: 4px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sent-at {
  position: relative;
  display: inline;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body {
  position: relative;
  display: flex;
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body:hover .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  opacity: 1;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap {
  position: relative;
  box-sizing: content-box;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  max-width: 360px;
  top: 0px;
  left: 0px;
  border-radius: 8px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video {
  max-width: 360px;
  max-height: 360px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video:hover {
  cursor: pointer;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__video {
  max-width: 360px;
  max-height: 360px;
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon {
  position: absolute;
  top: calc(50% - 28px);
  left: calc(50% - 28px);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image {
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__tail {
  position: relative;
  top: 2px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__context-menu {
  position: absolute;
  display: none;
  top: 8px;
  right: 16px;
}
.sendbird-openchannel-file-message {
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-openchannel-file-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-file-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-file-message:hover .sendbird-openchannel-file-message__context-menu {
  display: block;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__left .sendbird-openchannel-file-message__left__avatar {
  position: absolute;
  display: block;
  margin-top: 8px;
  margin-left: 24px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  margin-left: 12px;
  margin-bottom: 4px;
  width: calc(100% - 64px);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title {
  position: relative;
  display: flex;
  margin-top: 8px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  position: relative;
  display: flex;
  margin-top: 4px;
  margin-bottom: 4px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  position: relative;
  display: inline-block;
  margin: 8px;
  border-radius: 8.6px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__file-name {
  position: relative;
  display: flex;
  margin-top: 22px;
  margin-right: 16px;
  margin-left: 4px;
  overflow: hidden;
  height: 20px;
  max-height: 20px;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu {
  position: absolute;
  display: none;
  top: 8px;
  right: 16px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  overflow-y: scroll;
  position: relative;
}
.sendbird--mobile-mode .sendbird-openchannel-settings {
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-settings {
  background-color: var(--sendbird-light-background-50);
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings {
  background-color: var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-participants-accordion__footer {
  text-align: left;
  padding-top: 16px;
  padding-left: 16px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__operator-accordion-icon {
  position: absolute;
  left: 14px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__accordion-icon,
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-icon__delete {
  position: absolute;
  left: 16px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant {
  height: 100%;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__participant-list {
  padding-top: 64px;
  height: calc(100% - 64px);
  overflow-y: scroll;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  display: block;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-settings .sendbird-participants-accordion,
.sendbird-openchannel-settings .sendbird-openchannel-settings__delete-channel {
  text-align: left;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__members .sendbird-badge__text {
  margin-top: -2px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  height: 64px;
  min-height: 64px;
  position: relative;
  padding: 20px 24px;
  box-sizing: border-box;
  text-align: left;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon {
  cursor: pointer;
  position: absolute;
  top: 20px;
  right: 16px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__placeholder {
  margin-top: 40%;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  padding: 16px;
  box-sizing: border-box;
  position: relative;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url:hover .sendbird-openchannel-settings__copy-icon {
  display: inline-block;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__copy-icon {
  cursor: pointer;
  position: absolute;
  display: none;
  top: 10px;
  right: 18px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  margin-top: 8px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value,
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-label {
  text-align: left;
  display: block;
  word-wrap: break-word;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  display: block;
  cursor: pointer;
  box-sizing: border-box;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item:focus {
  outline: none;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
  cursor: not-allowed;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member {
  position: relative;
  padding: 12px 0px 12px 56px;
  width: 100%;
  height: 40px;
  box-sizing: border-box;
  text-align: left;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-label {
  max-width: 190px;
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.self-operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.user-id {
  position: absolute;
  right: 16px;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__action {
  display: none;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.user-id {
  display: none;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__action {
  display: inline-block;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member-avatar {
  position: absolute;
  left: 16px;
  top: 10px;
  cursor: pointer;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member__action {
  position: absolute;
  display: none;
  top: 4px;
  right: 8px;
  cursor: pointer;
}
.sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer,
.sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer,
.sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer,
.sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px;
}
.sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer .sendbird-button:nth-child(2) {
  margin-left: 8px;
}

.sendbird-participants-accordion__member-avatar__avatar {
  position: absolute;
}

.sendbird-more-users__popup-scroll {
  max-height: 420px;
  overflow: scroll;
}
.sendbird-openchannel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px;
}
.sendbird-theme--light .sendbird-openchannel-profile {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-profile {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-profile .sendbird-openchannel-profile--inner {
  height: 116px;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__avatar {
  margin-bottom: 16px;
  text-align: center;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__title {
  display: inline-block;
  max-width: 240px;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  height: 18px;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__edit {
  position: absolute;
  top: 10px;
  right: 16px;
}`;fa(F0e);var H0e=function(n){var t=n.userId,e=n.appId,r=n.accessToken,a=n.chatInstance;return ha(void 0,void 0,void 0,function(){var o;return pa(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),Vr.exports.SendbirdLive.init({appId:e,chatInstance:a}),[4,Vr.exports.SendbirdLive.authenticate(t,r)];case 1:return u.sent(),[3,3];case 2:return o=u.sent(),console.error(o),[3,3];case 3:return[2]}})})},B0e=function(){function n(){this._topics={},this._topics={}}return n.prototype.subscribe=function(t,e){var r=this;this._topics[t]||(this._topics[t]=[]);var a=this._topics[t].push(e)-1;return{remove:function(){delete r._topics[t][a]}}},n.prototype.publish=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this._topics[t]&&this._topics[t].forEach(function(a){a.apply(void 0,e)})},n}(),vl=R.createContext({});function $0e(n){var t=this,e,r,a,o,u=n.userId,h=n.appId,f=n.accessToken,m=n.customApiHost,v=n.customWebSocketHost,y=n.children,w=n.theme,x=n.colorSet,C=n.stringSet,A=n.imageSet,L=n.fontSet,S=K.useState(!1),k=S[0],N=S[1],O=K.useState(),H=O[0],D=O[1],T=oo(),M=(r=(e=T==null?void 0:T.stores)===null||e===void 0?void 0:e.sdkStore)===null||r===void 0?void 0:r.sdk,q=(o=(a=T==null?void 0:T.stores)===null||a===void 0?void 0:a.sdkStore)===null||o===void 0?void 0:o.initialized;return K.useEffect(function(){var z=function(){return ha(t,void 0,void 0,function(){return pa(this,function(re){switch(re.label){case 0:return q?[4,H0e({userId:u,appId:h,accessToken:f,chatInstance:M})]:[2];case 1:return re.sent(),D(new B0e),N(!0),[2]}})})};z()},[u,h,f,q]),R.createElement(vl.Provider,{value:{userId:u,appId:h,accessToken:f,customApiHost:m,customWebSocketHost:v,children:y,theme:w,colorSet:x,stringSet:C,imageSet:A,fontSet:L,pubSub:H}},k?y:R.createElement("div",null))}var $8=function(){return{LIST_HEADER_TITLE:"Live events",LIST_HEADER_BUTTON:"Create",LIST_EMPTY_DESCRIPTION:"No live events",NO_LIVE_EVENT_TITLE:"No live events selected",NO_LIVE_EVENT_DESCRIPTION:"Select a live event from the list or create a live event",EVENT_STATUS_CREATED:"UPCOMING",EVENT_STATUS_READY:"OPEN",EVENT_STATUS_ONGOING:"LIVE",EVENT_STATUS_ENDED:"ENDED",PARTICIPANT_COUNT:function(n){return"".concat(n,"K")},LIST_HOST_NICKNAME_PLACEHOLDER:"",LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE:"Choose your role",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST:"Host",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT:"Participant",LIVE_EVENT_ENTER_ALERT_TITLE:"Can't enter yet",LIVE_EVENT_ENTER_ALERT_DESCRIPTION:"This live event will open soon.",LIVE_EVENT_CREATE_HEADER_TITLE:"New live event",LIVE_EVENT_CREATE_EVENT_TITLE:"Title",LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER:"Add a title",CREATE_EVENT_DEFAULT_TITLE:"Live event",LIVE_EVENT_CREATE_EVENT_USERS_FOR_HOST:"Users who can be host",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE:"Cover image",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON:"Upload photo",LIVE_EVENT_CREATE_HEADER_BUTTON:"Create",LIST_USERS_FOR_HOST_HEADER_TITLE:"Users who can be host",ADD_USERS_FOR_HOST_HEADER_TITLE:"Users",ADD_USERS_FOR_HOST_HEADER_BUTTON:"Add ${}",USER_FOR_HOST_NICKNAME:function(n){return"".concat(n," (You)")},USER_ID_PLACEHOLDER:"Enter user ID",ADD_USERS_FOR_HOST_DIALOG_TITLE:"Add user",NICKNAME:"Nickname",USER_ID:"User ID",USER_SEARCH_USER_COUNT_LIMIT:function(n){return" / 10 users"},USER_SEARCH_USER_COUNT_DESCRIPTION:"You can add up to 10 users to be host.",USER_SEARCH_EXACT_MATCH_DESCRIPTION:"Only an exact match can be found.",USER_SEARCH_NO_MATCH_DESCRIPTION:function(n){return'No matches found with "{keyword}"'},USER_SEARCH_NO_USERS_DESCRIPTION:"There are no users.",USER_SEARCH_ERROR_DESCRIPTION:"Something went wrong. Try again.",USER_SEARCH_COUNT_EXCEED_DESCRIPTION:"Can't add more than 10 users",START_LIVE_EVENT_HEADER_BUTTON:"Start live event",LIVE_EVENT_PARTICIPANT_COUNT:function(n){return"".concat(n)},LIVE_EVENT_MESSAGE_INPUT_PLACEHOLDER:"Enter message",LIVE_EVENT_INFORMATION_TITLE:"Live event information",HOST:"Host",PARTICIPANTS:"Participants",FREEZE_CHAT:"Freeze chat",FREEZE_CHAT_DESCRIPTION:"Only operators can send a message. This doesn't stop the live event.",LIVE_EVENT_ID:"Live event ID",CREATED_AT:"Created on",CREATED_BY:"Created by",STARTED_AT:"Started on",STARTED_BY:"Started by",EDIT_EVENT:"Edit this event?",CHANGE_TITLE:"Change title",CHANGE_COVER_IMAGE:"Change cover image",CHANGE_EVENT_TITLE:"Change event title",CHANGE_EVENT_TITLE_PLACEHOLDER:"Enter title",CHANGE_EVENT_INFO_TITLE:"Edit live event information",TITLE:"Title",COVER_IMAGE:"Cover image",UPLOAD_IMAGE:"Upload photo",EDIT_LIVE_EVENT_USERS_FOR_HOST:"Users who can be host",REMOVE_IMAGE:"Remove photo",CHOOSE_IMAGE:"Choose photo",HOSTS:"Host",HOST_LABEL:"Host",USERS_FOR_HOST:"Users who can be host",USERS_FOR_HOST_DESCRIPTION:"Any one of the users in the list below can act as a host for the live event. If the current host leaves the event, another user can act as the host.",PARTICIPANT_LIST_HEADER_TITLE:"Participants",LIVE_EVENT_END_DIALOG_TITLE:"End live event?",LIVE_EVENT_END_DIALOG_DESCRIPTION:"Do you want to end this live event?",LIVE_EVENT_END_DIALOG_OPTION_END:"End live event",LIVE_EVENT_END_DIALOG_OPTION_EXIT:"Exit without ending",TOTAL_PARTICIPANTS_COUNT:"Total participants",LIVE_EVENT_SUMMARY_DIALOG_TITLE:"Live event ended",PEAK_CONCURRENT_PARTICIPANTS_COUNT:"Peak concurrent participants",DURATION:"Duration",LIVE_EVENT_DISCONNECTED_ALERT_TITLE:"Disconnected temporarily",LIVE_EVENT_DISCONNECTED_ALERT_DESCRIPTION:"Try entering the live event again.",LIVE_EVENT_LIVE_PARTICIPANT_COUNT_DURATION:"1,282 watching now  Started 30 mins ago",LIVE_EVENT_READY_BANNER_DESCRIPTION:"Live event will begin soon.",LIVE_EVENT_LIVE_BANNER_HOST_MUTED_DESCRIPTION:"Host is muted.",LIVE_EVENT_LIVE_BANNER_HOST_UNAVAILABLE_DESCRIPTION:"Host is temporarily unavailable.",LIVE_EVENT_ENDED_DESCRIPTION:"Live event has ended.",LIVE_EVENT_ENDED_DIALOG_DESCRIPTION:"Host has ended this live event.",LIVE_EVENT_ENDED_ENTER_DIALOG_DESCRIPTION:"Can't enter an ended live event.",UNKNOWN_ERROR_ALERT_TITLE:"Oops!",UNKNOWN_ERROR_ALERT_DESCRIPTION:"Something went wrong."}};function z0e(n){var t=n.userId,e=n.appId,r=n.nickname,a=n.accessToken;n.customApiHost,n.customWebSocketHost,n.children,n.theme;var o=n.colorSet,u=n.stringSet,h=K.useMemo(function(){return u?uu(uu({},$8()),u):$8()},[u]);return R.createElement(P0e,{userId:t,appId:e,nickname:r,accessToken:a,colorSet:o},R.createElement($0e,uu({},n,{stringSet:h})))}var z8,V8,G8;function Lx(){return Lx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Lx.apply(this,arguments)}var V0e=function(t){return K.createElement("svg",Lx({width:112,height:64,xmlns:"http://www.w3.org/2000/svg"},t),z8||(z8=K.createElement("defs",null,K.createElement("clipPath",{id:"img-thumbnail-default-1_svg__a"},K.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),K.createElement("clipPath",{id:"img-thumbnail-default-1_svg__b"},K.createElement("path",{d:"M112 0v64H0V0h112z"})),K.createElement("clipPath",{id:"img-thumbnail-default-1_svg__c"},K.createElement("path",{d:"M13.333 10.667A2.667 2.667 0 0 1 15 15.415v11.149c-.544.067-1.099.102-1.661.103h-.01c-.564 0-1.118-.036-1.662-.103V15.415a2.667 2.667 0 0 1 1.667-4.748zm0-10.667c7.364 0 13.334 5.97 13.334 13.333 0 6.092-4.086 11.23-9.667 12.823V22.64a10.004 10.004 0 0 0 6.333-9.307c0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.229 2.625 7.844 6.334 9.307v3.516C4.086 24.563 0 19.426 0 13.333 0 5.97 5.97 0 13.333 0zm0 5.333A8 8 0 0 1 17 20.445V16.22a4.667 4.667 0 1 0-7.333 0v4.225a8 8 0 0 1 3.667-15.112z"})))),V8||(V8=K.createElement("path",{fill:"#FFF",d:"M-64-876h1368V724H-64z"})),G8||(G8=K.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__a)",transform:"translate(-64 -876)"},K.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__b)",transform:"translate(64 876)"},K.createElement("path",{fill:"#5858D3",d:"M0 0h112v64H0V0z"}),K.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__c)",transform:"translate(42.667 18.667)"},K.createElement("path",{fill:"#FFF",d:"M0 0h26.667v26.667H0V0z"}))))))},G0e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.live-event-list-view {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100vh;
  border: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.live-event-list-view .header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  box-sizing: border-box;
  height: 80px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .header .title {
  width: 92px;
  height: 21px;
  margin: 0 13px 0 24px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.live-event-list-view .header .refresh {
  cursor: pointer;
  width: 22px;
  height: 22px;
  object-fit: contain;
}
.live-event-list-view .header .create-button {
  cursor: pointer;
  height: 24px;
  margin: 0 16px 0 auto;
  padding: 2px 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  color: #742ddd;
}
.live-event-list-view .list {
  overflow-y: scroll;
}
.live-event-list-view .list .live-event-elem {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  height: 80px;
  padding: 8px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .list .cover-image__wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  width: 112px;
  height: 64px;
  margin: 7px 12px 7px 8px;
}
.live-event-list-view .list .cover-image__wrapper .cover-image {
  max-width: 100%;
  max-height: 100%;
}
.live-event-list-view .list .detail {
  width: 100%;
}
.live-event-list-view .list .detail .title__wrapper {
  margin: 7px 12px 2px 12px;
  display: flex;
  height: 16px;
}
.live-event-list-view .list .detail .title__wrapper .title {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  background-color: #de360b;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey {
  background-color: #bdbdbd;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-count {
  width: 32px;
  height: 100%;
}
.live-event-list-view .list .detail .created-by {
  height: 16px;
  margin: 2px 4px 10px 12px;
  font-size: 12px;
  line-height: 1.33;
  color: rgba(0, 0, 0, 0.5);
}
.live-event-list-view .list .detail .event-state, .live-event-list-view .list .detail .event-state--ended, .live-event-list-view .list .detail .event-state--ongoing, .live-event-list-view .list .detail .event-state--ready, .live-event-list-view .list .detail .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin: 10px 0 0 12px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.live-event-list-view .list .detail .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.live-event-list-view .list .detail .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.live-event-list-view .list .detail .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.live-event-list-view .list .detail .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}`;fa(G0e);function q0e(n){var t,e,r=n.liveEvent,a=n.onClick,o=n.showHostNickname,u=o===void 0?!0:o,h=n.showStatusLabel,f=h===void 0?!0:h,m=K.useContext(vl).stringSet,v=function(y){switch(y){case"created":return m.EVENT_STATUS_CREATED;case"ready":return m.EVENT_STATUS_READY;case"ongoing":return m.EVENT_STATUS_ONGOING;case"ended":return m.EVENT_STATUS_ENDED}};return R.createElement("div",{className:"live-event-elem",onClick:function(){return a(r)}},R.createElement("div",{className:"cover-image__wrapper"},r.coverUrl?R.createElement("img",{src:r.coverUrl,alt:"cover_image",className:"cover-image"}):R.createElement(V0e,{viewBox:"0 0 112 64",width:112,height:64})),R.createElement("div",{className:"detail"},R.createElement("div",{className:"title__wrapper"},R.createElement("div",{className:"title"},r.title?r.title:m.CREATE_EVENT_DEFAULT_TITLE),R.createElement("div",{className:"participant-count__wrapper"},r.state===Vr.exports.LiveEventState.ONGOING?R.createElement("div",{className:"participant-icon--red"}):R.createElement("div",{className:"participant-icon--grey"}),R.createElement("div",{className:"participant-count"},(t=r.participantCount)!==null&&t!==void 0?t:0))),u&&R.createElement("div",{className:"created-by"},r.host?(e=r.host.nickname)!==null&&e!==void 0?e:"HOST":m.LIST_HOST_NICKNAME_PLACEHOLDER),f&&R.createElement("div",{className:"event-state--".concat(r.state)},v(r.state))))}var q8;function Ux(){return Ux=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Ux.apply(this,arguments)}var j0e=function(t){return K.createElement("svg",Ux({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),q8||(q8=K.createElement("path",{d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.667 2.667 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.667 2.667 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 1 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fillRule:"evenodd"})))};function K0e(n){var t=this,e=n.onClickCreate,r=n.onClickElem,a=n.queryParams,o=n.renderTitle,u=n.renderCreateButton,h=n.renderLiveEventElem,f=n.showStatusLabel,m=f===void 0?!0:f,v=n.showHostNickname,y=v===void 0?!0:v,w=K.useContext(vl).stringSet,x=a||{limit:20},C=K.useState(Vr.exports.SendbirdLive.createLiveEventListQuery(x)),A=C[0],L=C[1],S=K.useRef(null),k=K.useState([]),N=k[0],O=k[1],H=function(){return ha(t,void 0,void 0,function(){return pa(this,function(M){switch(M.label){case 0:return L(Vr.exports.SendbirdLive.createLiveEventListQuery(x)),S.current&&(S.current.scrollTop=0),[4,D(!0)];case 1:return M.sent(),[2]}})})},D=function(M){return ha(t,void 0,void 0,function(){var q;return pa(this,function(z){switch(z.label){case 0:if(!A.hasNext)return[2];z.label=1;case 1:return z.trys.push([1,3,,4]),[4,A.next()];case 2:return q=z.sent(),M?O(q):(L(A),O(os(os([],N,!0),q,!0))),[3,4];case 3:return z.sent(),[3,4];case 4:return[2]}})})},T=function(){if(S.current){var M=S.current,q=M.scrollTop,z=M.scrollHeight,re=M.clientHeight;q+re===z&&D(!1)}};return K.useEffect(function(){H()},[a]),R.createElement("div",{className:"live-event-list-view"},R.createElement("div",{className:"header"},(o==null?void 0:o())||R.createElement("div",{className:"title"},w.LIST_HEADER_TITLE),R.createElement("div",{className:"refresh",onClick:H},R.createElement(j0e,{viewBox:"0 0 64 64",width:22,height:22})),(u==null?void 0:u())||R.createElement("div",{className:"create-button",onClick:e},w.LIST_HEADER_BUTTON)),R.createElement("div",{className:"list",ref:S,onScroll:T},N.map(function(M){return(h==null?void 0:h({liveEvent:M,onClick:r}))||R.createElement(q0e,{key:M.liveEventId,liveEvent:M,showStatusLabel:m,showHostNickname:y,onClick:r})})))}var dn={exports:{}},Z3,j8;function W0e(){if(j8)return Z3;j8=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Z3=n,Z3}var J3,K8;function Q0e(){if(K8)return J3;K8=1;var n=W0e();function t(){}function e(){}return e.resetWarningCache=t,J3=function(){function r(u,h,f,m,v,y){if(y!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},J3}dn.exports=Q0e()();const Ri={USER_UPDATED:"USER_UPDATED",SEND_MESSAGE_START:"SEND_MESSAGE_START",SEND_USER_MESSAGE:"SEND_USER_MESSAGE",SEND_FILE_MESSAGE:"SEND_FILE_MESSAGE",UPDATE_USER_MESSAGE:"UPDATE_USER_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",LEAVE_CHANNEL:"LEAVE_CHANNEL",CREATE_CHANNEL:"CREATE_CHANNEL",UPDATE_OPEN_CHANNEL:"UPDATE_OPEN_CHANNEL"},Sg=()=>{},D0=R.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null,onUserProfileMessage:null}),Rk=n=>{const{children:t}=n;return R.createElement(D0.Provider,{value:n},t)};Rk.propTypes={children:dn.exports.oneOfType([dn.exports.element,dn.exports.arrayOf(dn.exports.element),dn.exports.any]).isRequired,isOpenChannel:dn.exports.bool,disableUserProfile:dn.exports.bool,renderUserProfile:dn.exports.func,onUserProfileMessage:dn.exports.func};Rk.defaultProps={isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null,onUserProfileMessage:null};const Gs={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},Xo={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function Y0e(n){switch(n){case Gs.H_1:return"sendbird-label--h-1";case Gs.H_2:return"sendbird-label--h-2";case Gs.SUBTITLE_1:return"sendbird-label--subtitle-1";case Gs.SUBTITLE_2:return"sendbird-label--subtitle-2";case Gs.BODY_1:return"sendbird-label--body-1";case Gs.BODY_2:return"sendbird-label--body-2";case Gs.BUTTON_1:return"sendbird-label--button-1";case Gs.BUTTON_2:return"sendbird-label--button-2";case Gs.CAPTION_1:return"sendbird-label--caption-1";case Gs.CAPTION_2:return"sendbird-label--caption-2";case Gs.CAPTION_3:return"sendbird-label--caption-3";default:return""}}function L9(n){switch(n){case Xo.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case Xo.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case Xo.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case Xo.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case Xo.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case Xo.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case Xo.PRIMARY:return"sendbird-label--color-primary";case Xo.ERROR:return"sendbird-label--color-error";case Xo.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return""}}function Ut(n){let{className:t,type:e,color:r,children:a}=n;return R.createElement("span",{className:[...Array.isArray(t)?t:[t],"sendbird-label",e?Y0e(e):"",r?L9(r):""].join(" ")},a)}Ut.propTypes={className:dn.exports.oneOfType([dn.exports.string,dn.exports.arrayOf(dn.exports.string)]),type:dn.exports.string,color:dn.exports.string,children:dn.exports.oneOfType([dn.exports.string,dn.exports.number,dn.exports.element,dn.exports.any])};Ut.defaultProps={className:[],type:"",color:"",children:null};const Pt=Gs,At=Xo,qs=n=>{let{className:t="",url:e,alt:r="",width:a=null,height:o=null,circle:u=!1,fixedSize:h=!1,placeHolder:f=null,defaultComponent:m=null,onLoad:v=()=>{},onError:y=()=>{}}=n;const[w,x]=K.useState(!1),[C,A]=K.useState(!0),L=K.useMemo(()=>typeof m=="function"?m():m,[m]),S=K.useMemo(()=>f&&typeof f=="function"?f({style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:o,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):null,[f]),k=K.useMemo(()=>(x(!1),R.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:e,alt:r,onLoad:()=>{A(!1),v()},onError:()=>{x(!0),y()}})),[e]);return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-image-renderer"].join(" "),style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:o}},C&&S,w?L:R.createElement("div",{className:"sendbird-image-renderer__image",style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:o,position:"absolute",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:`url(${e})`,borderRadius:u?"50%":null}}),k)},En={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",AUDIO_ON_LINED:"AUDIO_ON_LINED",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"},$i={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",PRIMARY_2:"PRIMARY_2",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",GRAY:"GRAY",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",ON_BACKGROUND_4:"ON_BACKGROUND_4",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function X0e(n){switch(n){case $i.PRIMARY:return"sendbird-icon-color--primary";case $i.PRIMARY_2:return"sendbird-icon-color--primary-2";case $i.SECONDARY:return"sendbird-icon-color--secondary";case $i.CONTENT:return"sendbird-icon-color--content";case $i.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case $i.WHITE:return"sendbird-icon-color--white";case $i.GRAY:return"sendbird-icon-color--gray";case $i.SENT:return"sendbird-icon-color--sent";case $i.READ:return"sendbird-icon-color--read";case $i.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case $i.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case $i.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case $i.ON_BACKGROUND_4:return"sendbird-icon-color--on-background-4";case $i.BACKGROUND_3:return"sendbird-icon-color--background-3";case $i.ERROR:return"sendbird-icon-color--error";default:return""}}function Z0e(n){switch(n){case En.ADD:return"sendbird-icon-add";case En.ARROW_LEFT:return"sendbird-icon-arrow-left";case En.ATTACH:return"sendbird-icon-attach";case En.AUDIO_ON_LINED:return"sendbird-icon-audio-on-lined";case En.BAN:return"sendbird-icon-ban";case En.BROADCAST:return"sendbird-icon-broadcast";case En.CAMERA:return"sendbird-icon-camera";case En.CHANNELS:return"sendbird-icon-channels";case En.CHAT:return"sendbird-icon-chat";case En.CHAT_FILLED:return"sendbird-icon-chat-filled";case En.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case En.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case En.CLOSE:return"sendbird-icon-close";case En.COLLAPSE:return"sendbird-icon-collapse";case En.COPY:return"sendbird-icon-copy";case En.CREATE:return"sendbird-icon-create";case En.DELETE:return"sendbird-icon-delete";case En.DISCONNECTED:return"sendbird-icon-disconnected";case En.DOCUMENT:return"sendbird-icon-document";case En.DONE:return"sendbird-icon-done";case En.DONE_ALL:return"sendbird-icon-done-all";case En.DOWNLOAD:return"sendbird-icon-down-load";case En.EDIT:return"sendbird-icon-edit";case En.EMOJI_MORE:return"sendbird-icon-emoji-more";case En.ERROR:return"sendbird-icon-error";case En.EXPAND:return"sendbird-icon-expand";case En.FILE_AUDIO:return"sendbird-icon-file-audio";case En.FILE_DOCUMENT:return"sendbird-icon-file-document";case En.FREEZE:return"sendbird-icon-freeze";case En.GIF:return"sendbird-icon-gif";case En.INFO:return"sendbird-icon-info";case En.LEAVE:return"sendbird-icon-leave";case En.MEMBERS:return"sendbird-icon-members";case En.MESSAGE:return"sendbird-icon-message";case En.MODERATIONS:return"sendbird-icon-moderations";case En.MORE:return"sendbird-icon-more";case En.MUTE:return"sendbird-icon-mute";case En.NOTIFICATIONS:return"sendbird-icon-notifications";case En.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case En.OPERATOR:return"sendbird-icon-operator";case En.PHOTO:return"sendbird-icon-photo";case En.PLAY:return"sendbird-icon-play";case En.PLUS:return"sendbird-iconn-plus";case En.QUESTION:return"sendbird-icon-question";case En.REFRESH:return"sendbird-icon-refresh";case En.REMOVE:return"sendbird-icon-remove";case En.REPLY:return"sendbird-icon-reply";case En.SEARCH:return"sendbird-icon-search";case En.SEND:return"sendbird-icon-send";case En.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case En.SPINNER:return"sendbird-icon-spinner";case En.SUPERGROUP:return"sendbird-icon-supergroup";case En.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case En.TOGGLE_OFF:return"sendbird-icon-toggle-off";case En.TOGGLE_ON:return"sendbird-icon-toggle-on";case En.USER:return"sendbird-icon-user";default:return"sendbird-icon-unknown"}}var W8;function Px(){return Px=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Px.apply(this,arguments)}function J0e(n){return K.createElement("svg",Px({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),W8||(W8=K.createElement("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"})))}var Q8;function Fx(){return Fx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Fx.apply(this,arguments)}function epe(n){return K.createElement("svg",Fx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),Q8||(Q8=K.createElement("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"})))}var Y8;function Hx(){return Hx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Hx.apply(this,arguments)}function npe(n){return K.createElement("svg",Hx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),Y8||(Y8=K.createElement("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"})))}var X8,Z8;function Bx(){return Bx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Bx.apply(this,arguments)}function tpe(n){return K.createElement("svg",Bx({viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),X8||(X8=K.createElement("g",{clipPath:"url(#icon-audio-on-lined_svg__clip0_1_7)"},K.createElement("path",{className:"icon-audio-on-lined_svg__fill",clipRule:"evenodd",d:"M32 0C26.11 0 21.333 4.776 21.333 10.667V32c0 5.891 4.776 10.667 10.667 10.667S42.667 37.89 42.667 32V10.667C42.667 4.776 37.89 0 32 0zm-5.333 10.667a5.333 5.333 0 0110.666 0V32a5.333 5.333 0 01-10.666 0V10.667z"}),K.createElement("path",{className:"icon-audio-on-lined_svg__fill",d:"M16 26.667a2.667 2.667 0 10-5.333 0V32c0 10.879 8.143 19.856 18.666 21.168v5.499h-8a2.667 2.667 0 000 5.333h21.334a2.667 2.667 0 100-5.333h-8v-5.499C45.19 51.856 53.333 42.88 53.333 32v-5.333a2.667 2.667 0 10-5.333 0V32c0 8.837-7.163 16-16 16s-16-7.163-16-16v-5.333z"}))),Z8||(Z8=K.createElement("defs",null,K.createElement("clipPath",{id:"icon-audio-on-lined_svg__clip0_1_7"},K.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))))}var J8;function $x(){return $x=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$x.apply(this,arguments)}function rpe(n){return K.createElement("svg",$x({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),J8||(J8=K.createElement("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"})))}var eR;function zx(){return zx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},zx.apply(this,arguments)}function ipe(n){return K.createElement("svg",zx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),eR||(eR=K.createElement("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"})))}var nR;function Vx(){return Vx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Vx.apply(this,arguments)}function ape(n){return K.createElement("svg",Vx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),nR||(nR=K.createElement("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var tR;function Gx(){return Gx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Gx.apply(this,arguments)}function spe(n){return K.createElement("svg",Gx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),tR||(tR=K.createElement("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"})))}var rR;function qx(){return qx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},qx.apply(this,arguments)}function ope(n){return K.createElement("svg",qx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),rR||(rR=K.createElement("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"})))}var iR;function jx(){return jx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},jx.apply(this,arguments)}function lpe(n){return K.createElement("svg",jx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),iR||(iR=K.createElement("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"})))}var aR;function Kx(){return Kx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Kx.apply(this,arguments)}function cpe(n){return K.createElement("svg",Kx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),aR||(aR=K.createElement("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"})))}var sR;function Wx(){return Wx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Wx.apply(this,arguments)}function upe(n){return K.createElement("svg",Wx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),sR||(sR=K.createElement("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"})))}var oR;function Qx(){return Qx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Qx.apply(this,arguments)}function dpe(n){return K.createElement("svg",Qx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),oR||(oR=K.createElement("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var lR;function Yx(){return Yx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Yx.apply(this,arguments)}function hpe(n){return K.createElement("svg",Yx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),lR||(lR=K.createElement("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"})))}var cR;function Xx(){return Xx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Xx.apply(this,arguments)}function ppe(n){return K.createElement("svg",Xx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),cR||(cR=K.createElement("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"})))}var uR;function Zx(){return Zx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Zx.apply(this,arguments)}function fpe(n){return K.createElement("svg",Zx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),uR||(uR=K.createElement("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"})))}var dR;function Jx(){return Jx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Jx.apply(this,arguments)}function _pe(n){return K.createElement("svg",Jx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),dR||(dR=K.createElement("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"})))}var hR;function e4(){return e4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},e4.apply(this,arguments)}function mpe(n){return K.createElement("svg",e4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),hR||(hR=K.createElement("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"})))}var pR;function n4(){return n4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},n4.apply(this,arguments)}function vpe(n){return K.createElement("svg",n4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),pR||(pR=K.createElement("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"})))}var fR;function t4(){return t4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},t4.apply(this,arguments)}function gpe(n){return K.createElement("svg",t4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),fR||(fR=K.createElement("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"})))}var _R;function r4(){return r4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},r4.apply(this,arguments)}function bpe(n){return K.createElement("svg",r4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),_R||(_R=K.createElement("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var mR;function i4(){return i4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},i4.apply(this,arguments)}function ype(n){return K.createElement("svg",i4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),mR||(mR=K.createElement("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"})))}var vR;function a4(){return a4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},a4.apply(this,arguments)}function Epe(n){return K.createElement("svg",a4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},n),vR||(vR=K.createElement("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"})))}var gR;function s4(){return s4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s4.apply(this,arguments)}function wpe(n){return K.createElement("svg",s4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),gR||(gR=K.createElement("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"})))}var bR;function o4(){return o4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},o4.apply(this,arguments)}function xpe(n){return K.createElement("svg",o4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),bR||(bR=K.createElement("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"})))}var yR;function l4(){return l4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},l4.apply(this,arguments)}function kpe(n){return K.createElement("svg",l4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),yR||(yR=K.createElement("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"})))}var ER;function c4(){return c4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},c4.apply(this,arguments)}function Spe(n){return K.createElement("svg",c4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),ER||(ER=K.createElement("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"})))}var wR;function u4(){return u4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},u4.apply(this,arguments)}function Tpe(n){return K.createElement("svg",u4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),wR||(wR=K.createElement("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"})))}var xR;function d4(){return d4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},d4.apply(this,arguments)}function Cpe(n){return K.createElement("svg",d4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),xR||(xR=K.createElement("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var kR;function h4(){return h4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},h4.apply(this,arguments)}function Ipe(n){return K.createElement("svg",h4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),kR||(kR=K.createElement("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"})))}var SR;function p4(){return p4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},p4.apply(this,arguments)}function Npe(n){return K.createElement("svg",p4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),SR||(SR=K.createElement("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var TR;function f4(){return f4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},f4.apply(this,arguments)}function Ape(n){return K.createElement("svg",f4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),TR||(TR=K.createElement("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var CR;function _4(){return _4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},_4.apply(this,arguments)}function Ope(n){return K.createElement("svg",_4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),CR||(CR=K.createElement("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var IR;function m4(){return m4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},m4.apply(this,arguments)}function Rpe(n){return K.createElement("svg",m4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),IR||(IR=K.createElement("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var NR;function v4(){return v4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},v4.apply(this,arguments)}function Mpe(n){return K.createElement("svg",v4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),NR||(NR=K.createElement("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"})))}var AR;function g4(){return g4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},g4.apply(this,arguments)}function Dpe(n){return K.createElement("svg",g4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),AR||(AR=K.createElement("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"})))}var OR;function b4(){return b4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},b4.apply(this,arguments)}function Lpe(n){return K.createElement("svg",b4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),OR||(OR=K.createElement("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"})))}var RR;function y4(){return y4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},y4.apply(this,arguments)}function Upe(n){return K.createElement("svg",y4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),RR||(RR=K.createElement("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"})))}var MR;function E4(){return E4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},E4.apply(this,arguments)}function Ppe(n){return K.createElement("svg",E4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),MR||(MR=K.createElement("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"})))}var DR;function w4(){return w4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},w4.apply(this,arguments)}function Fpe(n){return K.createElement("svg",w4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),DR||(DR=K.createElement("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"})))}var LR;function x4(){return x4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},x4.apply(this,arguments)}function Hpe(n){return K.createElement("svg",x4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),LR||(LR=K.createElement("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"})))}var UR;function k4(){return k4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},k4.apply(this,arguments)}function Bpe(n){return K.createElement("svg",k4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),UR||(UR=K.createElement("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"})))}var PR;function S4(){return S4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},S4.apply(this,arguments)}function $pe(n){return K.createElement("svg",S4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),PR||(PR=K.createElement("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"})))}var FR;function T4(){return T4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},T4.apply(this,arguments)}function zpe(n){return K.createElement("svg",T4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),FR||(FR=K.createElement("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"})))}var HR;function C4(){return C4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},C4.apply(this,arguments)}function Vpe(n){return K.createElement("svg",C4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),HR||(HR=K.createElement("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"})))}var BR;function I4(){return I4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},I4.apply(this,arguments)}function Gpe(n){return K.createElement("svg",I4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),BR||(BR=K.createElement("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"})))}var $R;function N4(){return N4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},N4.apply(this,arguments)}function qpe(n){return K.createElement("svg",N4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},n),$R||($R=K.createElement("path",{className:"icon-reply-filled_svg__fill",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",fill:"#000",fillRule:"evenodd"})))}var zR;function A4(){return A4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},A4.apply(this,arguments)}function jpe(n){return K.createElement("svg",A4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),zR||(zR=K.createElement("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"})))}var VR;function O4(){return O4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},O4.apply(this,arguments)}function Kpe(n){return K.createElement("svg",O4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),VR||(VR=K.createElement("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"})))}var GR;function R4(){return R4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},R4.apply(this,arguments)}function Wpe(n){return K.createElement("svg",R4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),GR||(GR=K.createElement("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var qR;function M4(){return M4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},M4.apply(this,arguments)}function Qpe(n){return K.createElement("svg",M4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),qR||(qR=K.createElement("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"})))}var jR;function D4(){return D4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},D4.apply(this,arguments)}function Ype(n){return K.createElement("svg",D4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),jR||(jR=K.createElement("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"})))}var KR;function L4(){return L4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},L4.apply(this,arguments)}function Xpe(n){return K.createElement("svg",L4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),KR||(KR=K.createElement("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"})))}var WR;function U4(){return U4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},U4.apply(this,arguments)}function Zpe(n){return K.createElement("svg",U4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),WR||(WR=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),K.createElement("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),K.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),K.createElement("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var QR;function P4(){return P4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},P4.apply(this,arguments)}function Jpe(n){return K.createElement("svg",P4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),QR||(QR=K.createElement("g",{fill:"none",fillRule:"evenodd"},K.createElement("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),K.createElement("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),K.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),K.createElement("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var YR;function F4(){return F4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},F4.apply(this,arguments)}function efe(n){return K.createElement("svg",F4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),YR||(YR=K.createElement("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}function nfe(n){switch(n){case En.ADD:return R.createElement(J0e,null);case En.ARROW_LEFT:return R.createElement(epe,null);case En.ATTACH:return R.createElement(npe,null);case En.AUDIO_ON_LINED:return R.createElement(tpe,null);case En.BAN:return R.createElement(rpe,null);case En.BROADCAST:return R.createElement(ipe,null);case En.CAMERA:return R.createElement(ape,null);case En.CHANNELS:return R.createElement(spe,null);case En.CHAT:return R.createElement(ope,null);case En.CHAT_FILLED:return R.createElement(lpe,null);case En.CHEVRON_DOWN:return R.createElement(cpe,null);case En.CHEVRON_RIGHT:return R.createElement(upe,null);case En.CLOSE:return R.createElement(dpe,null);case En.COLLAPSE:return R.createElement(hpe,null);case En.COPY:return R.createElement(ppe,null);case En.CREATE:return R.createElement(fpe,null);case En.DELETE:return R.createElement(_pe,null);case En.DISCONNECTED:return R.createElement(mpe,null);case En.DOCUMENT:return R.createElement(vpe,null);case En.DONE:return R.createElement(gpe,null);case En.DONE_ALL:return R.createElement(bpe,null);case En.DOWNLOAD:return R.createElement(ype,null);case En.EDIT:return R.createElement(Epe,null);case En.EMOJI_MORE:return R.createElement(wpe,null);case En.ERROR:return R.createElement(xpe,null);case En.EXPAND:return R.createElement(kpe,null);case En.FILE_AUDIO:return R.createElement(Spe,null);case En.FILE_DOCUMENT:return R.createElement(Tpe,null);case En.FREEZE:return R.createElement(Cpe,null);case En.GIF:return R.createElement(Ipe,null);case En.INFO:return R.createElement(Npe,null);case En.LEAVE:return R.createElement(Ape,null);case En.MEMBERS:return R.createElement(Ope,null);case En.MESSAGE:return R.createElement(Rpe,null);case En.MODERATIONS:return R.createElement(Mpe,null);case En.MORE:return R.createElement(Dpe,null);case En.MUTE:return R.createElement(Lpe,null);case En.NOTIFICATIONS:return R.createElement(Upe,null);case En.NOTIFICATIONS_OFF_FILLED:return R.createElement(Ppe,null);case En.OPERATOR:return R.createElement(Fpe,null);case En.PHOTO:return R.createElement(Hpe,null);case En.PLAY:return R.createElement(Bpe,null);case En.PLUS:return R.createElement($pe,null);case En.QUESTION:return R.createElement(zpe,null);case En.REFRESH:return R.createElement(Vpe,null);case En.REMOVE:return R.createElement(Gpe,null);case En.REPLY:return R.createElement(qpe,null);case En.SEARCH:return R.createElement(jpe,null);case En.SEND:return R.createElement(Kpe,null);case En.SETTINGS_FILLED:return R.createElement(Wpe,null);case En.SPINNER:return R.createElement(Qpe,null);case En.SUPERGROUP:return R.createElement(Ype,null);case En.THUMBNAIL_NONE:return R.createElement(Xpe,null);case En.TOGGLE_OFF:return R.createElement(Zpe,null);case En.TOGGLE_ON:return R.createElement(Jpe,null);case En.USER:return R.createElement(efe,null);default:return"icon"}}function Wt(n){let{className:t,type:e,fillColor:r,width:a,height:o,onClick:u,children:h}=n;const f={width:typeof a=="string"?a:`${a}px`,minWidth:typeof a=="string"?a:`${a}px`,height:typeof o=="string"?o:`${o}px`,minHeight:typeof o=="string"?o:`${o}px`};return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-icon",Z0e(e),X0e(r)].join(" "),role:"button",onClick:u,onKeyDown:u,tabIndex:"0",style:f},h||nfe(e))}Wt.propTypes={className:dn.exports.oneOfType([dn.exports.string,dn.exports.arrayOf(dn.exports.string)]),type:dn.exports.oneOfType([dn.exports.oneOf(Object.keys(En)),dn.exports.string]).isRequired,fillColor:dn.exports.oneOf(Object.keys($i)),width:dn.exports.oneOfType([dn.exports.string,dn.exports.number]),height:dn.exports.oneOfType([dn.exports.string,dn.exports.number]),onClick:dn.exports.func,children:dn.exports.element};Wt.defaultProps={className:"",fillColor:$i.DEFAULT,width:26,height:26,onClick:()=>{},children:null};const Bt=En,Yt=$i;var XR=n=>{if(typeof n=="number")return n;if(typeof n=="string"){const t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null};const Pl="sendbird-avatar-img",tfe=n=>{let{width:t,height:e}=n,r=XR(t),a=XR(e);return typeof r=="number"&&(r*=.575),typeof a=="number"&&(a*=.575),R.createElement("div",{className:"sendbird-avatar-img--default",style:{width:t,height:e}},R.createElement(Wt,{type:Bt.USER,fillColor:Yt.CONTENT,width:r,height:a}))},rfe=n=>{let{width:t,height:e}=n;return R.createElement(tfe,{width:t,height:e})},ife=n=>{let{src:t="",alt:e="",height:r,width:a,customDefaultComponent:o}=n;const u=()=>o?o({width:a,height:r}):rfe({width:a,height:r});return typeof t=="string"?R.createElement(qs,{className:Pl,url:t,height:r,width:a,alt:e,defaultComponent:u}):t&&t.length?t.length===1?R.createElement(qs,{className:Pl,url:t[0],height:r,width:a,alt:e,defaultComponent:u}):t.length===2?R.createElement("div",{className:"sendbird-avatar--inner__two-child"},R.createElement(qs,{className:Pl,url:t[0],height:r,width:a,alt:e,defaultComponent:u}),R.createElement(qs,{className:Pl,url:t[1],height:r,width:a,alt:e,defaultComponent:u})):t.length===3?R.createElement(R.Fragment,null,R.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},R.createElement(qs,{className:Pl,url:t[0],height:r,width:a,alt:e,defaultComponent:u})),R.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},R.createElement(qs,{className:Pl,url:t[1],height:r,width:a,alt:e,defaultComponent:u}),R.createElement(qs,{className:Pl,url:t[2],height:r,width:a,alt:e,defaultComponent:u}))):R.createElement("div",{className:"sendbird-avatar--inner__four-child"},t.slice(0,4).map(h=>R.createElement(qs,{className:Pl,url:h,height:r,width:a,alt:e,key:I_(),defaultComponent:u}))):R.createElement(qs,{className:Pl,url:"",height:r,width:a,alt:e,defaultComponent:u})};function afe(n,t){let{className:e="",src:r="",alt:a="",width:o="56px",height:u="56px",onClick:h,customDefaultComponent:f}=n;return R.createElement("div",{className:[...Array.isArray(e)?e:[e],"sendbird-avatar"].join(" "),role:"button",ref:t,style:{height:u,width:o},onClick:h,onKeyDown:h,tabIndex:0},R.createElement(ife,{src:r,width:o,height:u,alt:a,customDefaultComponent:f}))}var eh=R.forwardRef(afe);const rc=R.forwardRef((n,t)=>{const{className:e="",children:r,disabled:a=!1,width:o="56px",height:u="56px",type:h="button",style:f={},onBlur:m=()=>{},onClick:v=()=>{}}=n,[y,w]=K.useState(!1);return R.createElement("button",{className:[...Array.isArray(e)?e:[e],"sendbird-iconbutton",y?"sendbird-iconbutton--pressed":""].join(" "),disabled:a,ref:t,type:h,style:gn(gn({},f),{},{height:u,width:o}),onClick:x=>{a||(w(!0),v==null||v(x))},onBlur:x=>{w(!1),m==null||m(x)}},R.createElement("span",{className:"sendbird-iconbutton__inner"},r))}),Cu=n=>{const{stores:t={}}=n,{sdkStore:e={}}=t,{sdk:r}=e;return r},Iu=n=>{const{config:t={}}=n,{pubSub:e}=t;return e},sfe=n=>(t,e)=>new Promise((r,a)=>{const o=Cu(n);o||a(new Error("Sdk not found")),o!=null&&o.connect&&typeof o.connect=="function"||a(new Error('Not found the function "connect')),e?o.connect(t,e).then(u=>r(u)).catch(u=>a(u)):o.connect(t).then(u=>r(u)).catch(u=>a(u))}),ofe=n=>()=>new Promise((t,e)=>{const r=Cu(n);r||e(new Error("Sdk not found")),r.disconnect&&typeof r.disconnect=="function"||e(new Error('Not found the function "disconnect')),r.disconnect().then(a=>t(a)).catch(a=>e(a))}),lfe=n=>(t,e)=>new Promise((r,a)=>{const o=Cu(n);o||a(new Error("Sdk not found")),o.updateCurrentUserInfo&&typeof o.updateCurrentUserInfo=="function"||a(new Error('Not found the function "updateCurrentUserInfo"'));const u={nickname:t};e&&(u.profileUrl=e),o.updateCurrentUserInfo(u).then(h=>r(h)).catch(h=>a(h))}),U9=n=>t=>new Promise((e,r)=>{const a=Cu(n),o=Iu(n);a||r(new Error("Sdk not found")),a.groupChannel||r(new Error("Not found GroupChannelModule")),a.groupChannel.createChannel&&typeof a.groupChannel.createChannel=="function"||r(new Error('Not found the function "createChannel"')),a.groupChannel.createChannel(t).then(u=>{e(u),o.publish(Ri.CREATE_CHANNEL,{channel:u})}).catch(r)}),cfe=n=>t=>new Promise((e,r)=>{const a=Cu(n);a||r(new Error("Sdk not found")),a.openChannel||r(new Error("Not found OpenChannelModule")),a.openChannel.createChannel&&typeof a.openChannel.createChannel=="function"||r(new Error('Not found the function "createChannel"')),a.openChannel.createChannel(t).then(o=>{e(o)}).catch(r)}),P9=n=>t=>new Promise((e,r)=>{const a=Cu(n);a||r(new Error("Sdk not found")),a.groupChannel||r(new Error("Not found GroupChannelModule")),a.groupChannel.getChannel&&typeof a.groupChannel.getChannel=="function"||r(new Error('Not found the function "getChannel"')),a.groupChannel.getChannel(t).then(o=>{e(o)}).catch(r)}),Mk=n=>t=>new Promise((e,r)=>{const a=Cu(n);a||r(new Error("Sdk not found")),a.openChannel||r(new Error("Not found OpenChannelModule")),a.openChannel.getChannel&&typeof a.openChannel.getChannel=="function"||r(new Error('Not found the function "getChannel"')),a.openChannel.getChannel(t).then(o=>{e(o)}).catch(r)}),ufe=n=>t=>new Promise((e,r)=>{var a;(a=P9(n))===null||a===void 0||a(t).then(o=>{o.leave().then(()=>{e()}).catch(r)}).catch(r)}),dfe=n=>t=>new Promise((e,r)=>{var a;(a=Mk(n))===null||a===void 0||a(t).then(o=>{o.enter().then(()=>{e(o)}).catch(r)}).catch(r)}),hfe=n=>t=>new Promise((e,r)=>{var a;(a=Mk(n))===null||a===void 0||a(t).then(o=>{o.exit().then(()=>{e(o)}).catch(r)}).catch(r)}),pfe=()=>n=>new Promise((t,e)=>{n.freeze&&typeof(n==null?void 0:n.freeze)=="function"||e(new Error('Not found the function "freeze"')),n.freeze().then(()=>{t()}).catch(e)}),ffe=()=>n=>new Promise((t,e)=>{n.unfreeze&&typeof(n==null?void 0:n.unfreeze)=="function"||e(new Error('Not found the function "unfreeze"')),n.unfreeze().then(()=>{t()}).catch(e)});class F9{constructor(){Zc(this,"_onPending",Sg),Zc(this,"_onFailed",Sg),Zc(this,"_onSucceeded",Sg)}triggerPending(t){this._onPending(t)}triggerFailed(t,e){this._onFailed(t,e.isResendable?e:null)}triggerSucceeded(t){this._onSucceeded(t)}onPending(t){return typeof t=="function"&&(this._onPending=t),this}onFailed(t){return typeof t=="function"&&(this._onFailed=t),this}onSucceeded(t){return typeof t=="function"&&(this._onSucceeded=t),this}}const _fe=n=>(t,e)=>{const r=new F9,a=Iu(n);return t.sendUserMessage(e).onFailed((o,u)=>r.triggerFailed(o,u)).onPending(o=>{a.publish(Ri.SEND_MESSAGE_START,{message:o,channel:t}),r.triggerPending(o)}).onSucceeded(o=>{a.publish(Ri.SEND_USER_MESSAGE,{message:o,channel:t}),r.triggerSucceeded(o)}),r},mfe=n=>(t,e)=>{const r=new F9,a=Iu(n);return t.sendFileMessage(e).onFailed((o,u)=>r.triggerFailed(o,u)).onPending(o=>{a.publish(Ri.SEND_MESSAGE_START,{message:o,channel:t}),r.triggerPending(o)}).onSucceeded(o=>{a.publish(Ri.SEND_FILE_MESSAGE,{message:o,channel:t}),r.triggerSucceeded(o)}),r},vfe=n=>(t,e,r)=>new Promise((a,o)=>{const u=Iu(n);t.updateUserMessage(e,r).then(h=>{u.publish(Ri.UPDATE_USER_MESSAGE,{message:h,channel:t,fromSelector:!0}),a(h)}).catch(o)}),gfe=n=>(t,e)=>new Promise((r,a)=>{const o=Iu(n),{messageId:u}=e;t.deleteMessage(e).then(()=>{o.publish(Ri.DELETE_MESSAGE,{messageId:u,channel:t}),r(e)}).catch(a)}),bfe=n=>(t,e)=>new Promise((r,a)=>{const o=Iu(n);t.resendUserMessage(e).then(u=>{o.publish(Ri.SEND_USER_MESSAGE,{message:u,channel:t}),r(u)}).catch(a)}),yfe=n=>(t,e,r)=>new Promise((a,o)=>{const u=Iu(n);t.resendFileMessage(e,r).then(h=>{u.publish(Ri.SEND_FILE_MESSAGE,{message:h,channel:t}),a(h)}).catch(o)}),Dk={getSdk:Cu,getPubSub:Iu,getConnect:sfe,getDisconnect:ofe,getUpdateUserInfo:lfe,getCreateGroupChannel:U9,getCreateOpenChannel:cfe,getGetGroupChannel:P9,getGetOpenChannel:Mk,getLeaveGroupChannel:ufe,getEnterOpenChannel:dfe,getExitOpenChannel:hfe,getFreezeChannel:pfe,getUnfreezeChannel:ffe,getSendUserMessage:_fe,getSendFileMessage:mfe,getUpdateUserMessage:vfe,getDeleteMessage:gfe,getResendUserMessage:bfe,getResendFileMessage:yfe},H9="sendbird-modal-root";let ff=function(n){return n.PRIMARY="PRIMARY",n.SECONDARY="SECONDARY",n.DANGER="DANGER",n.DISABLED="DISABLED",n}({}),H4=function(n){return n.BIG="BIG",n.SMALL="SMALL",n}({});function Efe(n){switch(n){case ff.PRIMARY:return"sendbird-button--primary";case ff.SECONDARY:return"sendbird-button--secondary";case ff.DANGER:return"sendbird-button--danger";case ff.DISABLED:return"sendbird-button--disabled";default:return null}}function wfe(n){switch(n){case H4.BIG:return"sendbird-button--big";case H4.SMALL:return"sendbird-button--small";default:return null}}const $d=ff,B4=H4;function g_(n){let{className:t,type:e=$d.PRIMARY,size:r=B4.BIG,children:a="Button",disabled:o=!1,onClick:u=()=>{}}=n;const h=[...Array.isArray(t)?t:[t],"sendbird-button",o?"sendbird-button__disabled":"",Efe(e),wfe(r)].join(" ");return R.createElement("button",{className:h,type:"button",onClick:u,disabled:o},R.createElement(Ut,{className:"sendbird-button__text",type:Pt.BUTTON_1,color:At.ONCONTENT_1},a))}const xfe=n=>{let{titleText:t}=n;return R.createElement("div",{className:"sendbird-modal__header"},R.createElement(Ut,{type:Pt.H_1,color:At.ONBACKGROUND_1},t))},kfe=n=>{let{children:t}=n;return R.createElement("div",{className:"sendbird-modal__body"},R.createElement(Ut,{type:Pt.SUBTITLE_1,color:At.ONBACKGROUND_2},t))},Sfe=n=>{let{submitText:t,disabled:e=!1,type:r=$d.DANGER,onSubmit:a,onCancel:o}=n;const{stringSet:u}=K.useContext(Ro);return R.createElement("div",{className:"sendbird-modal__footer"},R.createElement(g_,{type:$d.SECONDARY,onClick:o},R.createElement(Ut,{type:Pt.BUTTON_1,color:At.ONBACKGROUND_1},u.BUTTON__CANCEL)),R.createElement(g_,{type:r,disabled:e,onClick:a},t))};function Tfe(n){const{children:t=null,className:e="",isCloseOnClickOutside:r=!1,isFullScreenOnMobile:a=!1,titleText:o,submitText:u,disabled:h=!1,hideFooter:f=!1,type:m=$d.DANGER,onCancel:v=()=>{},onSubmit:y=()=>{},renderHeader:w}=n,{isMobile:x}=Jd();return C_.createPortal(R.createElement("div",{className:`
      sendbird-modal ${e}
      ${a&&x?"sendbird-modal--full-mobile":""}
    `},R.createElement("div",{className:"sendbird-modal__content"},(w==null?void 0:w())||R.createElement(xfe,{titleText:o}),R.createElement(kfe,null,t),!f&&R.createElement(Sfe,{disabled:h,onCancel:v,onSubmit:y,submitText:u,type:m}),R.createElement("div",{className:"sendbird-modal__close"},R.createElement(rc,{width:"32px",height:"32px",onClick:v},R.createElement(Wt,{type:Bt.CLOSE,fillColor:Yt.DEFAULT,width:"24px",height:"24px"})))),R.createElement("div",{className:`
          sendbird-modal__backdrop
          ${r&&"sendbird-modal__backdrop--clickoutside"}
        `,onClick:C=>{C==null||C.stopPropagation(),r&&v()}})),document.getElementById(H9))}function N_(n){var t,e;let{user:r,currentUserId:a,disableMessaging:o=!1,onSuccess:u}=n;const h=oo(),f=U9(h),m=h==null||(t=h.config)===null||t===void 0?void 0:t.logger,{stringSet:v}=K.useContext(Ro),y=a||(h==null||(e=h.config)===null||e===void 0?void 0:e.userId),{onUserProfileMessage:w}=K.useContext(D0);return R.createElement("div",{className:"sendbird__user-profile"},R.createElement("section",{className:"sendbird__user-profile-avatar"},R.createElement(eh,{height:"80px",width:"80px",src:r==null?void 0:r.profileUrl})),R.createElement("section",{className:"sendbird__user-profile-name"},R.createElement(Ut,{type:Pt.H_2,color:At.ONBACKGROUND_1},(r==null?void 0:r.nickname)||v.NO_NAME)),(r==null?void 0:r.userId)!==y&&!o&&R.createElement("section",{className:"sendbird__user-profile-message"},R.createElement(g_,{type:$d.SECONDARY,onClick:()=>{const x={isDistinct:!1,invitedUserIds:[r==null?void 0:r.userId],operatorUserIds:[y]};u(),f(x).then(C=>{m.info("UserProfile, channel create",C),typeof w=="function"&&(w==null||w(C))})}},v.USER_PROFILE__MESSAGE)),R.createElement("div",{className:"sendbird__user-profile-separator"}),R.createElement("section",{className:"sendbird__user-profile-userId"},R.createElement(Ut,{className:"sendbird__user-profile-userId--label",type:Pt.CAPTION_2,color:At.ONBACKGROUND_2},v.USER_PROFILE__USER_ID),R.createElement(Ut,{className:"sendbird__user-profile-userId--value",type:Pt.BODY_1,color:At.ONBACKGROUND_1},r==null?void 0:r.userId)))}const Cfe=60;class Ife extends R.Component{constructor(t){super(t),Zc(this,"menuRef",R.createRef()),Zc(this,"setupEvents",()=>{const{closeDropdown:e}=this.props,{menuRef:r}=this,a=o=>{var u,h;r!=null&&r.current&&!(r!=null&&(u=r.current)!==null&&u!==void 0&&(h=u.contains)!==null&&h!==void 0&&h.call(u,o.target))&&(e==null||e())};this.setState({handleClickOutside:a}),document.addEventListener("mousedown",a)}),Zc(this,"cleanUpEvents",()=>{const{handleClickOutside:e}=this.state;document.removeEventListener("mousedown",e)}),Zc(this,"getMenuPosition",()=>{var e,r;const{parentRef:a,openLeft:o}=this.props,u=a==null||(e=a.current)===null||e===void 0||(r=e.getBoundingClientRect)===null||r===void 0?void 0:r.call(e),h=(u==null?void 0:u.x)||(u==null?void 0:u.left)||0,f=(u==null?void 0:u.y)||(u==null?void 0:u.top)||0,m={top:f,left:h};if(!this.menuRef.current)return m;const{innerWidth:v,innerHeight:y}=window,w=this.menuRef.current.getBoundingClientRect();if(f+w.height+Cfe>y&&(m.top-=w.height),h+w.width>v&&!o&&(m.left-=w.width),m.top<0&&(m.top=w.height<y?(y-w.height)/2:0),m.top+=32,o){const x=Number.isNaN(w.width-30)?108:w.width-30;m.left-=x}return m.left<0&&(m.left=w.width<v?(v-w.width)/2:0),this.setState({menuStyle:m}),m}),this.state={menuStyle:{},handleClickOutside:()=>{}}}componentDidMount(){this.setupEvents(),this.getMenuPosition()}componentWillUnmount(){this.cleanUpEvents()}render(){var t;const{menuStyle:e}=this.state,{children:r,style:a,className:o=""}=this.props;return C_.createPortal(R.createElement("div",{className:(t=this.props)===null||t===void 0?void 0:t.className},R.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),R.createElement("ul",{className:`${o} sendbird-dropdown__menu`,ref:this.menuRef,style:gn({display:"inline-block",position:"fixed",left:`${Math.round(e.left)}px`,top:`${Math.round(e.top)}px`},a)},r)),document.getElementById("sendbird-dropdown-portal"))}}const Nfe=13,_l=Ife,ca=n=>{let{className:t="",children:e,onClick:r,disable:a=!1}=n;const o=u=>{!a&&r&&(r==null||r(u))};return R.createElement("li",{className:Rx([t,"sendbird-dropdown__menu-item",a?"disable":""]),role:"menuitem","aria-disabled":!!a,onClick:o,onKeyPress:u=>{u.keyCode===Nfe&&o(u)},tabIndex:0},R.createElement(Ut,{className:"sendbird-dropdown__menu-item__text",type:Pt.SUBTITLE_2,color:a?At.ONBACKGROUND_4:At.ONBACKGROUND_1},e))};function ml(n){let{menuTrigger:t,menuItems:e,isOpen:r}=n;const[a,o]=K.useState(!1);return R.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},t==null?void 0:t(()=>o(!a)),(a||r)&&e(()=>o(!1)))}function _b(n){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(n)}function ma(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Mo(n){ma(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||_b(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Afe(n){return ma(1,arguments),n instanceof Date||_b(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Ofe(n){if(ma(1,arguments),!Afe(n)&&typeof n!="number")return!1;var t=Mo(n);return!isNaN(Number(t))}function zd(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Rfe(n,t){ma(2,arguments);var e=Mo(n).getTime(),r=zd(t);return new Date(e+r)}function Mfe(n,t){ma(2,arguments);var e=zd(t);return Rfe(n,-e)}var Dfe=864e5;function Lfe(n){ma(1,arguments);var t=Mo(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=e-r;return Math.floor(a/Dfe)+1}function mb(n){ma(1,arguments);var t=1,e=Mo(n),r=e.getUTCDay(),a=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function B9(n){ma(1,arguments);var t=Mo(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var a=mb(r),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var u=mb(o);return t.getTime()>=a.getTime()?e+1:t.getTime()>=u.getTime()?e:e-1}function Ufe(n){ma(1,arguments);var t=B9(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=mb(e);return r}var Pfe=6048e5;function Ffe(n){ma(1,arguments);var t=Mo(n),e=mb(t).getTime()-Ufe(t).getTime();return Math.round(e/Pfe)+1}var Hfe={};function Jb(){return Hfe}function vb(n,t){var e,r,a,o,u,h,f,m;ma(1,arguments);var v=Jb(),y=zd((e=(r=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:v.weekStartsOn)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&e!==void 0?e:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Mo(n),x=w.getUTCDay(),C=(x<y?7:0)+x-y;return w.setUTCDate(w.getUTCDate()-C),w.setUTCHours(0,0,0,0),w}function $9(n,t){var e,r,a,o,u,h,f,m;ma(1,arguments);var v=Mo(n),y=v.getUTCFullYear(),w=Jb(),x=zd((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:w.firstWeekContainsDate)!==null&&r!==void 0?r:(f=w.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(y+1,0,x),C.setUTCHours(0,0,0,0);var A=vb(C,t),L=new Date(0);L.setUTCFullYear(y,0,x),L.setUTCHours(0,0,0,0);var S=vb(L,t);return v.getTime()>=A.getTime()?y+1:v.getTime()>=S.getTime()?y:y-1}function Bfe(n,t){var e,r,a,o,u,h,f,m;ma(1,arguments);var v=Jb(),y=zd((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1),w=$9(n,t),x=new Date(0);x.setUTCFullYear(w,0,y),x.setUTCHours(0,0,0,0);var C=vb(x,t);return C}var $fe=6048e5;function zfe(n,t){ma(1,arguments);var e=Mo(n),r=vb(e,t).getTime()-Bfe(e,t).getTime();return Math.round(r/$fe)+1}function Tr(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var zc={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Tr(e==="yy"?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):Tr(r+1,2)},d:function(t,e){return Tr(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return Tr(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Tr(t.getUTCHours(),e.length)},m:function(t,e){return Tr(t.getUTCMinutes(),e.length)},s:function(t,e){return Tr(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,r-3));return Tr(o,e.length)}},Ph={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vfe={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return zc.y(t,e)},Y:function(t,e,r,a){var o=$9(t,a),u=o>0?o:1-o;if(e==="YY"){var h=u%100;return Tr(h,2)}return e==="Yo"?r.ordinalNumber(u,{unit:"year"}):Tr(u,e.length)},R:function(t,e){var r=B9(t);return Tr(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return Tr(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Tr(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Tr(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return zc.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return Tr(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var o=zfe(t,a);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):Tr(o,e.length)},I:function(t,e,r){var a=Ffe(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Tr(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):zc.d(t,e)},D:function(t,e,r){var a=Lfe(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Tr(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var o=t.getUTCDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Tr(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var o=t.getUTCDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Tr(u,e.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return Tr(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a=t.getUTCHours(),o;switch(a===12?o=Ph.noon:a===0?o=Ph.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a=t.getUTCHours(),o;switch(a>=17?o=Ph.evening:a>=12?o=Ph.afternoon:a>=4?o=Ph.morning:o=Ph.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return zc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):zc.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Tr(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Tr(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):zc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):zc.s(t,e)},S:function(t,e){return zc.S(t,e)},X:function(t,e,r,a){var o=a._originalDate||t,u=o.getTimezoneOffset();if(u===0)return"Z";switch(e){case"X":return JR(u);case"XXXX":case"XX":return dd(u);case"XXXXX":case"XXX":default:return dd(u,":")}},x:function(t,e,r,a){var o=a._originalDate||t,u=o.getTimezoneOffset();switch(e){case"x":return JR(u);case"xxxx":case"xx":return dd(u);case"xxxxx":case"xxx":default:return dd(u,":")}},O:function(t,e,r,a){var o=a._originalDate||t,u=o.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ZR(u,":");case"OOOO":default:return"GMT"+dd(u,":")}},z:function(t,e,r,a){var o=a._originalDate||t,u=o.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ZR(u,":");case"zzzz":default:return"GMT"+dd(u,":")}},t:function(t,e,r,a){var o=a._originalDate||t,u=Math.floor(o.getTime()/1e3);return Tr(u,e.length)},T:function(t,e,r,a){var o=a._originalDate||t,u=o.getTime();return Tr(u,e.length)}};function ZR(n,t){var e=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),o=r%60;if(o===0)return e+String(a);var u=t||"";return e+String(a)+u+Tr(o,2)}function JR(n,t){if(n%60===0){var e=n>0?"-":"+";return e+Tr(Math.abs(n)/60,2)}return dd(n,t)}function dd(n,t){var e=t||"",r=n>0?"-":"+",a=Math.abs(n),o=Tr(Math.floor(a/60),2),u=Tr(a%60,2);return r+o+e+u}var Gfe=Vfe,eM=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},z9=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qfe=function(t,e){var r=t.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return eM(t,e);var u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",eM(a,e)).replace("{{time}}",z9(o,e))},jfe={p:z9,P:qfe},Kfe=jfe;function Wfe(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var Qfe=["D","DD"],Yfe=["YY","YYYY"];function Xfe(n){return Qfe.indexOf(n)!==-1}function Zfe(n){return Yfe.indexOf(n)!==-1}function nM(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Jfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,e_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,n_e=/^'([^]*?)'?$/,t_e=/''/g,r_e=/[a-zA-Z]/;function L0(n,t,e){var r,a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O;ma(2,arguments);var H=String(t),D=Jb(),T=(r=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:D.locale)!==null&&r!==void 0?r:N9,M=zd((o=(u=(h=(f=e==null?void 0:e.firstWeekContainsDate)!==null&&f!==void 0?f:e==null||(m=e.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&h!==void 0?h:D.firstWeekContainsDate)!==null&&u!==void 0?u:(y=D.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=zd((x=(C=(A=(L=e==null?void 0:e.weekStartsOn)!==null&&L!==void 0?L:e==null||(S=e.locale)===null||S===void 0||(k=S.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&A!==void 0?A:D.weekStartsOn)!==null&&C!==void 0?C:(N=D.locale)===null||N===void 0||(O=N.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&x!==void 0?x:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var z=Mo(n);if(!Ofe(z))throw new RangeError("Invalid time value");var re=Wfe(z),pe=Mfe(z,re),B={firstWeekContainsDate:M,weekStartsOn:q,locale:T,_originalDate:z},Q=H.match(e_e).map(function(ie){var j=ie[0];if(j==="p"||j==="P"){var me=Kfe[j];return me(ie,T.formatLong)}return ie}).join("").match(Jfe).map(function(ie){if(ie==="''")return"'";var j=ie[0];if(j==="'")return i_e(ie);var me=Gfe[j];if(me)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Zfe(ie)&&nM(ie,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Xfe(ie)&&nM(ie,t,String(n)),me(pe,ie,T.localize,B);if(j.match(r_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return ie}).join("");return Q}function i_e(n){var t=n.match(n_e);return t?t[1].replace(t_e,"'"):n}function A_(n){let{className:t="",width:e="26px",height:r="26px",children:a}=n;return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-loader"].join(" "),style:{width:typeof e=="string"?e:`${e}px`,height:typeof r=="string"?r:`${r}px`}},a||R.createElement(Wt,{type:Bt.SPINNER,width:"26px",height:"26px"}))}function tM(n){ma(1,arguments);var t=Mo(n);return t.setHours(0,0,0,0),t}function a_e(n,t){ma(2,arguments);var e=tM(n),r=tM(t);return e.getTime()===r.getTime()}const s_e="sendbird-mention-user-label";let Vl=function(n){return n.ONBACKGROUND_1="ONBACKGROUND_1",n.ONBACKGROUND_2="ONBACKGROUND_2",n.ONBACKGROUND_3="ONBACKGROUND_3",n.ONBACKGROUND_4="ONBACKGROUND_4",n.ONCONTENT_1="ONCONTENT_1",n.ONCONTENT_2="ONCONTENT_2",n.PRIMARY="PRIMARY",n.ERROR="ERROR",n}({});const $4=n=>{switch(n){case Vl.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case Vl.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case Vl.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case Vl.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case Vl.ONCONTENT_1:return"sendbird-color--oncontent-1";case Vl.PRIMARY:return"sendbird-color--primary";case Vl.ERROR:return"sendbird-color--error";default:return null}},o_e=n=>{let{className:t="",color:e=Vl.ONBACKGROUND_1,disabled:r=!1,disableUnderline:a=!1,onClick:o=()=>{},children:u}=n;return R.createElement("div",{className:[...Array.isArray(t)?t:[t],$4(e),a?"sendbird-textbutton--not-underline":"sendbird-textbutton",r?"sendbird-textbutton--disabled":""].join(" "),role:"button",tabIndex:0,onClick:h=>o(h),onKeyPress:h=>o(h)},u)},rM=n=>n==null;function Fl(n,t){if(rM(n)||rM(t))return!1;const e=n.toString(),r=t.toString();return e===r}const Wp="@";x9();x9();const l_e=300;function iM(n){c_e(n)&&n.touches.length<2&&n.preventDefault&&n.preventDefault()}function c_e(n){return n&&"touches"in n}function e1(n){let{onLongPress:t,onClick:e}=n,{delay:r=l_e,shouldPreventDefault:a=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{isMobile:o}=Jd(),[u,h]=K.useState(!1),[f,m]=K.useState(!1),v=K.useRef(),y=K.useRef(),w=K.useCallback(C=>{C.persist();const A=gn({},C);m(!1),a&&C.target&&(C.target.addEventListener("touchend",iM,{passive:!1}),y.current=C.target),v.current=setTimeout(()=>{t(A),h(!0)},r)},[t,r,a,o]),x=K.useCallback(function(C){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;m(!!L),v!=null&&v.current&&clearTimeout(v.current),A&&!u&&!f&&(e==null||e(C)),h(!1),a&&y.current&&y.current.removeEventListener("touchend",iM)},[a,e,u,f]);return{onMouseDown:C=>w(C),onMouseUp:C=>x(C),onMouseLeave:C=>x(C,!1),onTouchStart:C=>w(C),onTouchMove:C=>x(C,!1,!0),onTouchEnd:C=>x(C)}}dn.exports.bool,dn.exports.func.isRequired,dn.exports.shape({});function u_e(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}var d_e=u_e();const Si=d_e;function Tg(n){let{className:t="",type:e,iconSize:r,searchInString:a="",retryToConnect:o=null}=n;const{stringSet:u}=K.useContext(Ro);return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-place-holder"].join(" ")},e===Si.LOADING&&R.createElement(A_,{width:r||"48px",height:r||"48px"},R.createElement(Wt,{type:Bt.SPINNER,fillColor:Yt.PRIMARY,width:r||"48px",height:r||"48px"})),(e===Si.NO_CHANNELS||e===Si.NO_MESSAGES||e===Si.WRONG)&&R.createElement("div",{className:"sendbird-place-holder__body"},e===Si.NO_CHANNELS&&R.createElement(Wt,{className:"sendbird-place-holder__body__icon",type:Bt.CHAT,fillColor:Yt.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),e===Si.WRONG&&R.createElement(Wt,{className:"sendbird-place-holder__body__icon",type:Bt.ERROR,fillColor:Yt.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),e===Si.NO_MESSAGES&&R.createElement(Wt,{className:"sendbird-place-holder__body__icon",type:Bt.MESSAGE,fillColor:Yt.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),R.createElement(Ut,{className:"sendbird-place-holder__body__text",type:Pt.BODY_1,color:At.ONBACKGROUND_2},e===Si.NO_CHANNELS&&u.PLACE_HOLDER__NO_CHANNEL,e===Si.WRONG&&u.PLACE_HOLDER__WRONG,e===Si.NO_MESSAGES&&u.PLACE_HOLDER__NO_MESSAGES),o&&R.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:o,onKeyPress:o,tabIndex:0},R.createElement(Wt,{className:"sendbird-place-holder__body__reconnect__icon",type:Bt.REFRESH,fillColor:Yt.PRIMARY,width:"20px",height:"20px"}),R.createElement(Ut,{className:"sendbird-place-holder__body__reconnect__text",type:Pt.BUTTON_1,color:At.PRIMARY},u.PLACE_HOLDER__RETRY_TO_CONNECT))),(e===Si.NO_RESULTS||e===Si.SEARCH_IN||e===Si.SEARCHING)&&R.createElement("div",{className:"sendbird-place-holder__body--align-top"},e===Si.SEARCH_IN&&R.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},R.createElement(Ut,{className:"sendbird-place-holder__body--align-top__text__search-in",type:Pt.BUTTON_2,color:At.ONBACKGROUND_2},u.SEARCH_IN),R.createElement(Ut,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:Pt.BUTTON_2,color:At.PRIMARY},`'${a}`),R.createElement(Ut,{className:"sendbird-place-holder__body--align-top__text__quote",type:Pt.BUTTON_2,color:At.PRIMARY},"'")),e===Si.SEARCHING&&R.createElement(Ut,{className:"sendbird-place-hlder__body--align-top__searching",type:Pt.BODY_1,color:At.ONBACKGROUND_2},u.SEARCHING),e===Si.NO_RESULTS&&R.createElement(Ut,{className:"sendbird-place-hlder__body--align-top__no-result",type:Pt.BODY_1,color:At.ONBACKGROUND_2},u.NO_SEARCHED_MESSAGE)))}const aM={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},od={ElementNode:1,TextNode:3},Qp={Span:"SPAN",Br:"BR",Div:"DIV"};let h_e=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({}),p_e=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({}),f_e=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({});h_e.NIL,p_e.NIL,f_e.NIL;const __e=n=>{let{children:t=null,className:e="",separatorColor:r=Vl.ONBACKGROUND_4}=n;return R.createElement("div",{className:[...Array.isArray(e)?e:[e],"sendbird-separator"].join(" ")},R.createElement("div",{className:["sendbird-separator__left",`${$4(r)}--background-color`].join(" ")}),R.createElement("div",{className:"sendbird-separator__text"},t||R.createElement(Ut,{type:Pt.CAPTION_2,color:At.ONBACKGROUND_2},"Date Separator")),R.createElement("div",{className:["sendbird-separator__right",`${$4(r)}--background-color`].join(" ")}))};/*! @license DOMPurify 3.0.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.3/LICENSE */const{entries:V9,setPrototypeOf:sM,isFrozen:m_e,getPrototypeOf:v_e,getOwnPropertyDescriptor:g_e}=Object;let{freeze:qa,seal:Ao,create:b_e}=Object,{apply:z4,construct:V4}=typeof Reflect<"u"&&Reflect;z4||(z4=function(t,e,r){return t.apply(e,r)});qa||(qa=function(t){return t});Ao||(Ao=function(t){return t});V4||(V4=function(t,e){return new t(...e)});const y_e=so(Array.prototype.forEach),oM=so(Array.prototype.pop),Yp=so(Array.prototype.push),Cg=so(String.prototype.toLowerCase),ew=so(String.prototype.toString),E_e=so(String.prototype.match),go=so(String.prototype.replace),w_e=so(String.prototype.indexOf),x_e=so(String.prototype.trim),ys=so(RegExp.prototype.test),Xp=k_e(TypeError);function so(n){return function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return z4(n,t,r)}}function k_e(n){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return V4(n,e)}}function zt(n,t,e){var r;e=(r=e)!==null&&r!==void 0?r:Cg,sM&&sM(n,null);let a=t.length;for(;a--;){let o=t[a];if(typeof o=="string"){const u=e(o);u!==o&&(m_e(t)||(t[a]=u),o=u)}n[o]=!0}return n}function Fh(n){const t=b_e(null);for(const[e,r]of V9(n))t[e]=r;return t}function Wv(n,t){for(;n!==null;){const r=g_e(n,t);if(r){if(r.get)return so(r.get);if(typeof r.value=="function")return so(r.value)}n=v_e(n)}function e(r){return console.warn("fallback value for",r),null}return e}const lM=qa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),nw=qa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tw=qa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),S_e=qa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rw=qa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),T_e=qa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),cM=qa(["#text"]),uM=qa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),iw=qa(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),dM=qa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qv=qa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),C_e=Ao(/\{\{[\w\W]*|[\w\W]*\}\}/gm),I_e=Ao(/<%[\w\W]*|[\w\W]*%>/gm),N_e=Ao(/\${[\w\W]*}/gm),A_e=Ao(/^data-[\-\w.\u00B7-\uFFFF]/),O_e=Ao(/^aria-[\-\w]+$/),G9=Ao(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),R_e=Ao(/^(?:\w+script|data):/i),M_e=Ao(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q9=Ao(/^html$/i);var hM=Object.freeze({__proto__:null,MUSTACHE_EXPR:C_e,ERB_EXPR:I_e,TMPLIT_EXPR:N_e,DATA_ATTR:A_e,ARIA_ATTR:O_e,IS_ALLOWED_URI:G9,IS_SCRIPT_OR_DATA:R_e,ATTR_WHITESPACE:M_e,DOCTYPE_NAME:q9});const D_e=()=>typeof window>"u"?null:window,L_e=function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";e&&e.hasAttribute(a)&&(r=e.getAttribute(a));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function j9(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D_e();const t=je=>j9(je);if(t.version="3.0.3",t.removed=[],!n||!n.document||n.document.nodeType!==9)return t.isSupported=!1,t;const e=n.document,r=e.currentScript;let{document:a}=n;const{DocumentFragment:o,HTMLTemplateElement:u,Node:h,Element:f,NodeFilter:m,NamedNodeMap:v=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:y,DOMParser:w,trustedTypes:x}=n,C=f.prototype,A=Wv(C,"cloneNode"),L=Wv(C,"nextSibling"),S=Wv(C,"childNodes"),k=Wv(C,"parentNode");if(typeof u=="function"){const je=a.createElement("template");je.content&&je.content.ownerDocument&&(a=je.content.ownerDocument)}let N,O="";const{implementation:H,createNodeIterator:D,createDocumentFragment:T,getElementsByTagName:M}=a,{importNode:q}=e;let z={};t.isSupported=typeof V9=="function"&&typeof k=="function"&&H&&H.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:re,ERB_EXPR:pe,TMPLIT_EXPR:B,DATA_ATTR:Q,ARIA_ATTR:ie,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:me}=hM;let{IS_ALLOWED_URI:ae}=hM,oe=null;const ve=zt({},[...lM,...nw,...tw,...rw,...cM]);let Re=null;const ue=zt({},[...uM,...iw,...dM,...Qv]);let he=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,Y=null,$=!0,te=!0,Me=!1,Ke=!0,Oe=!1,xe=!1,Le=!1,Fe=!1,Je=!1,en=!1,un=!1,_n=!0,on=!1;const Hn="user-content-";let Vn=!0,G=!1,ee={},yn=null;const Cn=zt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xn=null;const qn=zt({},["audio","video","img","source","image","track"]);let $n=null;const On=zt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pt="http://www.w3.org/1998/Math/MathML",Yn="http://www.w3.org/2000/svg",wn="http://www.w3.org/1999/xhtml";let Tt=wn,mt=!1,jn=null;const Mn=zt({},[pt,Yn,wn],ew);let rn;const ot=["application/xhtml+xml","text/html"],ht="text/html";let wt,yt=null;const hr=a.createElement("form"),Zr=function(Se){return Se instanceof RegExp||Se instanceof Function},Or=function(Se){if(!(yt&&yt===Se)){if((!Se||typeof Se!="object")&&(Se={}),Se=Fh(Se),rn=ot.indexOf(Se.PARSER_MEDIA_TYPE)===-1?rn=ht:rn=Se.PARSER_MEDIA_TYPE,wt=rn==="application/xhtml+xml"?ew:Cg,oe="ALLOWED_TAGS"in Se?zt({},Se.ALLOWED_TAGS,wt):ve,Re="ALLOWED_ATTR"in Se?zt({},Se.ALLOWED_ATTR,wt):ue,jn="ALLOWED_NAMESPACES"in Se?zt({},Se.ALLOWED_NAMESPACES,ew):Mn,$n="ADD_URI_SAFE_ATTR"in Se?zt(Fh(On),Se.ADD_URI_SAFE_ATTR,wt):On,Xn="ADD_DATA_URI_TAGS"in Se?zt(Fh(qn),Se.ADD_DATA_URI_TAGS,wt):qn,yn="FORBID_CONTENTS"in Se?zt({},Se.FORBID_CONTENTS,wt):Cn,V="FORBID_TAGS"in Se?zt({},Se.FORBID_TAGS,wt):{},Y="FORBID_ATTR"in Se?zt({},Se.FORBID_ATTR,wt):{},ee="USE_PROFILES"in Se?Se.USE_PROFILES:!1,$=Se.ALLOW_ARIA_ATTR!==!1,te=Se.ALLOW_DATA_ATTR!==!1,Me=Se.ALLOW_UNKNOWN_PROTOCOLS||!1,Ke=Se.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Oe=Se.SAFE_FOR_TEMPLATES||!1,xe=Se.WHOLE_DOCUMENT||!1,Je=Se.RETURN_DOM||!1,en=Se.RETURN_DOM_FRAGMENT||!1,un=Se.RETURN_TRUSTED_TYPE||!1,Fe=Se.FORCE_BODY||!1,_n=Se.SANITIZE_DOM!==!1,on=Se.SANITIZE_NAMED_PROPS||!1,Vn=Se.KEEP_CONTENT!==!1,G=Se.IN_PLACE||!1,ae=Se.ALLOWED_URI_REGEXP||G9,Tt=Se.NAMESPACE||wn,he=Se.CUSTOM_ELEMENT_HANDLING||{},Se.CUSTOM_ELEMENT_HANDLING&&Zr(Se.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(he.tagNameCheck=Se.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Se.CUSTOM_ELEMENT_HANDLING&&Zr(Se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(he.attributeNameCheck=Se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Se.CUSTOM_ELEMENT_HANDLING&&typeof Se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(he.allowCustomizedBuiltInElements=Se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Oe&&(te=!1),en&&(Je=!0),ee&&(oe=zt({},[...cM]),Re=[],ee.html===!0&&(zt(oe,lM),zt(Re,uM)),ee.svg===!0&&(zt(oe,nw),zt(Re,iw),zt(Re,Qv)),ee.svgFilters===!0&&(zt(oe,tw),zt(Re,iw),zt(Re,Qv)),ee.mathMl===!0&&(zt(oe,rw),zt(Re,dM),zt(Re,Qv))),Se.ADD_TAGS&&(oe===ve&&(oe=Fh(oe)),zt(oe,Se.ADD_TAGS,wt)),Se.ADD_ATTR&&(Re===ue&&(Re=Fh(Re)),zt(Re,Se.ADD_ATTR,wt)),Se.ADD_URI_SAFE_ATTR&&zt($n,Se.ADD_URI_SAFE_ATTR,wt),Se.FORBID_CONTENTS&&(yn===Cn&&(yn=Fh(yn)),zt(yn,Se.FORBID_CONTENTS,wt)),Vn&&(oe["#text"]=!0),xe&&zt(oe,["html","head","body"]),oe.table&&(zt(oe,["tbody"]),delete V.tbody),Se.TRUSTED_TYPES_POLICY){if(typeof Se.TRUSTED_TYPES_POLICY.createHTML!="function")throw Xp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Se.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Xp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=Se.TRUSTED_TYPES_POLICY,O=N.createHTML("")}else N===void 0&&(N=L_e(x,r)),N!==null&&typeof O=="string"&&(O=N.createHTML(""));qa&&qa(Se),yt=Se}},Ya=zt({},["mi","mo","mn","ms","mtext"]),qr=zt({},["foreignobject","desc","title","annotation-xml"]),Qi=zt({},["title","style","font","a","script"]),Ni=zt({},nw);zt(Ni,tw),zt(Ni,S_e);const ce=zt({},rw);zt(ce,T_e);const le=function(Se){let Ce=k(Se);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:Tt,tagName:"template"});const Ye=Cg(Se.tagName),Kn=Cg(Ce.tagName);return jn[Se.namespaceURI]?Se.namespaceURI===Yn?Ce.namespaceURI===wn?Ye==="svg":Ce.namespaceURI===pt?Ye==="svg"&&(Kn==="annotation-xml"||Ya[Kn]):!!Ni[Ye]:Se.namespaceURI===pt?Ce.namespaceURI===wn?Ye==="math":Ce.namespaceURI===Yn?Ye==="math"&&qr[Kn]:!!ce[Ye]:Se.namespaceURI===wn?Ce.namespaceURI===Yn&&!qr[Kn]||Ce.namespaceURI===pt&&!Ya[Kn]?!1:!ce[Ye]&&(Qi[Ye]||!Ni[Ye]):!!(rn==="application/xhtml+xml"&&jn[Se.namespaceURI]):!1},ke=function(Se){Yp(t.removed,{element:Se});try{Se.parentNode.removeChild(Se)}catch{Se.remove()}},Ne=function(Se,Ce){try{Yp(t.removed,{attribute:Ce.getAttributeNode(Se),from:Ce})}catch{Yp(t.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(Se),Se==="is"&&!Re[Se])if(Je||en)try{ke(Ce)}catch{}else try{Ce.setAttribute(Se,"")}catch{}},Pe=function(Se){let Ce,Ye;if(Fe)Se="<remove></remove>"+Se;else{const Ln=E_e(Se,/^[\r\n\t ]+/);Ye=Ln&&Ln[0]}rn==="application/xhtml+xml"&&Tt===wn&&(Se='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Se+"</body></html>");const Kn=N?N.createHTML(Se):Se;if(Tt===wn)try{Ce=new w().parseFromString(Kn,rn)}catch{}if(!Ce||!Ce.documentElement){Ce=H.createDocument(Tt,"template",null);try{Ce.documentElement.innerHTML=mt?O:Kn}catch{}}const pn=Ce.body||Ce.documentElement;return Se&&Ye&&pn.insertBefore(a.createTextNode(Ye),pn.childNodes[0]||null),Tt===wn?M.call(Ce,xe?"html":"body")[0]:xe?Ce.documentElement:pn},ge=function(Se){return D.call(Se.ownerDocument||Se,Se,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT,null,!1)},He=function(Se){return Se instanceof y&&(typeof Se.nodeName!="string"||typeof Se.textContent!="string"||typeof Se.removeChild!="function"||!(Se.attributes instanceof v)||typeof Se.removeAttribute!="function"||typeof Se.setAttribute!="function"||typeof Se.namespaceURI!="string"||typeof Se.insertBefore!="function"||typeof Se.hasChildNodes!="function")},Ve=function(Se){return typeof h=="object"?Se instanceof h:Se&&typeof Se=="object"&&typeof Se.nodeType=="number"&&typeof Se.nodeName=="string"},Ue=function(Se,Ce,Ye){z[Se]&&y_e(z[Se],Kn=>{Kn.call(t,Ce,Ye,yt)})},nn=function(Se){let Ce;if(Ue("beforeSanitizeElements",Se,null),He(Se))return ke(Se),!0;const Ye=wt(Se.nodeName);if(Ue("uponSanitizeElement",Se,{tagName:Ye,allowedTags:oe}),Se.hasChildNodes()&&!Ve(Se.firstElementChild)&&(!Ve(Se.content)||!Ve(Se.content.firstElementChild))&&ys(/<[/\w]/g,Se.innerHTML)&&ys(/<[/\w]/g,Se.textContent))return ke(Se),!0;if(!oe[Ye]||V[Ye]){if(!V[Ye]&&sn(Ye)&&(he.tagNameCheck instanceof RegExp&&ys(he.tagNameCheck,Ye)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Ye)))return!1;if(Vn&&!yn[Ye]){const Kn=k(Se)||Se.parentNode,pn=S(Se)||Se.childNodes;if(pn&&Kn){const Ln=pn.length;for(let cn=Ln-1;cn>=0;--cn)Kn.insertBefore(A(pn[cn],!0),L(Se))}}return ke(Se),!0}return Se instanceof f&&!le(Se)||(Ye==="noscript"||Ye==="noembed")&&ys(/<\/no(script|embed)/i,Se.innerHTML)?(ke(Se),!0):(Oe&&Se.nodeType===3&&(Ce=Se.textContent,Ce=go(Ce,re," "),Ce=go(Ce,pe," "),Ce=go(Ce,B," "),Se.textContent!==Ce&&(Yp(t.removed,{element:Se.cloneNode()}),Se.textContent=Ce)),Ue("afterSanitizeElements",Se,null),!1)},Ge=function(Se,Ce,Ye){if(_n&&(Ce==="id"||Ce==="name")&&(Ye in a||Ye in hr))return!1;if(!(te&&!Y[Ce]&&ys(Q,Ce))){if(!($&&ys(ie,Ce))){if(!Re[Ce]||Y[Ce]){if(!(sn(Se)&&(he.tagNameCheck instanceof RegExp&&ys(he.tagNameCheck,Se)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Se))&&(he.attributeNameCheck instanceof RegExp&&ys(he.attributeNameCheck,Ce)||he.attributeNameCheck instanceof Function&&he.attributeNameCheck(Ce))||Ce==="is"&&he.allowCustomizedBuiltInElements&&(he.tagNameCheck instanceof RegExp&&ys(he.tagNameCheck,Ye)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Ye))))return!1}else if(!$n[Ce]){if(!ys(ae,go(Ye,me,""))){if(!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&Se!=="script"&&w_e(Ye,"data:")===0&&Xn[Se])){if(!(Me&&!ys(j,go(Ye,me,"")))){if(Ye)return!1}}}}}}return!0},sn=function(Se){return Se.indexOf("-")>0},Nn=function(Se){let Ce,Ye,Kn,pn;Ue("beforeSanitizeAttributes",Se,null);const{attributes:Ln}=Se;if(!Ln)return;const cn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Re};for(pn=Ln.length;pn--;){Ce=Ln[pn];const{name:Zn,namespaceURI:$t}=Ce;if(Ye=Zn==="value"?Ce.value:x_e(Ce.value),Kn=wt(Zn),cn.attrName=Kn,cn.attrValue=Ye,cn.keepAttr=!0,cn.forceKeepAttr=void 0,Ue("uponSanitizeAttribute",Se,cn),Ye=cn.attrValue,cn.forceKeepAttr||(Ne(Zn,Se),!cn.keepAttr))continue;if(!Ke&&ys(/\/>/i,Ye)){Ne(Zn,Se);continue}Oe&&(Ye=go(Ye,re," "),Ye=go(Ye,pe," "),Ye=go(Ye,B," "));const Rn=wt(Se.nodeName);if(Ge(Rn,Kn,Ye)){if(on&&(Kn==="id"||Kn==="name")&&(Ne(Zn,Se),Ye=Hn+Ye),N&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!$t)switch(x.getAttributeType(Rn,Kn)){case"TrustedHTML":{Ye=N.createHTML(Ye);break}case"TrustedScriptURL":{Ye=N.createScriptURL(Ye);break}}try{$t?Se.setAttributeNS($t,Zn,Ye):Se.setAttribute(Zn,Ye),oM(t.removed)}catch{}}}Ue("afterSanitizeAttributes",Se,null)},it=function je(Se){let Ce;const Ye=ge(Se);for(Ue("beforeSanitizeShadowDOM",Se,null);Ce=Ye.nextNode();)Ue("uponSanitizeShadowNode",Ce,null),!nn(Ce)&&(Ce.content instanceof o&&je(Ce.content),Nn(Ce));Ue("afterSanitizeShadowDOM",Se,null)};return t.sanitize=function(je){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce,Ye,Kn,pn;if(mt=!je,mt&&(je="<!-->"),typeof je!="string"&&!Ve(je))if(typeof je.toString=="function"){if(je=je.toString(),typeof je!="string")throw Xp("dirty is not a string, aborting")}else throw Xp("toString is not a function");if(!t.isSupported)return je;if(Le||Or(Se),t.removed=[],typeof je=="string"&&(G=!1),G){if(je.nodeName){const Zn=wt(je.nodeName);if(!oe[Zn]||V[Zn])throw Xp("root node is forbidden and cannot be sanitized in-place")}}else if(je instanceof h)Ce=Pe("<!---->"),Ye=Ce.ownerDocument.importNode(je,!0),Ye.nodeType===1&&Ye.nodeName==="BODY"||Ye.nodeName==="HTML"?Ce=Ye:Ce.appendChild(Ye);else{if(!Je&&!Oe&&!xe&&je.indexOf("<")===-1)return N&&un?N.createHTML(je):je;if(Ce=Pe(je),!Ce)return Je?null:un?O:""}Ce&&Fe&&ke(Ce.firstChild);const Ln=ge(G?je:Ce);for(;Kn=Ln.nextNode();)nn(Kn)||(Kn.content instanceof o&&it(Kn.content),Nn(Kn));if(G)return je;if(Je){if(en)for(pn=T.call(Ce.ownerDocument);Ce.firstChild;)pn.appendChild(Ce.firstChild);else pn=Ce;return(Re.shadowroot||Re.shadowrootmod)&&(pn=q.call(e,pn,!0)),pn}let cn=xe?Ce.outerHTML:Ce.innerHTML;return xe&&oe["!doctype"]&&Ce.ownerDocument&&Ce.ownerDocument.doctype&&Ce.ownerDocument.doctype.name&&ys(q9,Ce.ownerDocument.doctype.name)&&(cn="<!DOCTYPE "+Ce.ownerDocument.doctype.name+`>
`+cn),Oe&&(cn=go(cn,re," "),cn=go(cn,pe," "),cn=go(cn,B," ")),N&&un?N.createHTML(cn):cn},t.setConfig=function(je){Or(je),Le=!0},t.clearConfig=function(){yt=null,Le=!1},t.isValidAttribute=function(je,Se,Ce){yt||Or({});const Ye=wt(je),Kn=wt(Se);return Ge(Ye,Kn,Ce)},t.addHook=function(je,Se){typeof Se=="function"&&(z[je]=z[je]||[],Yp(z[je],Se))},t.removeHook=function(je){if(z[je])return oM(z[je])},t.removeHooks=function(je){z[je]&&(z[je]=[])},t.removeAllHooks=function(){z={}},t}var U_e=j9(),K9=U_e;const P_e="sendbird-text-message-item-body",F_e="sendbird-og-message-item-body__text-bubble",O_="@",to={string:"string",mention:"mention",url:"url",undetermined:"undetermined"};function H_e(n,t){const e=t||O_;return RegExp(`(${n.map(r=>`${e}{${r.userId}}`).join("|")})`,"g")}function B_e(n){let{tokens:t,mentionedUsers:e=[],templatePrefix:r=O_}=n;if(!(e!=null&&e.length))return t;const a=H_e(e,r);return t.map(u=>{if(u.type!==to.undetermined)return u;const{value:h}=u;return h.split(a).map(v=>{if(v.match(a)){const y=e.find(x=>`@{${x==null?void 0:x.userId}}`===v);return{value:(y==null?void 0:y.nickname)||"(No name)",type:to.mention,userId:y==null?void 0:y.userId}}else return{value:v,type:to.undetermined}})}).flat()}function $_e(n){return n.map(e=>{if(e.type!==to.undetermined)return e;const{value:r=""}=e;return r.split(" ").map(u=>vhe(u)?{value:u,type:to.url}:{value:u,type:to.string})}).flat()}function z_e(n){return n.reduce((e,r)=>{const a=e[e.length-1];return(a==null?void 0:a.type)===to.string&&r.type===to.string?(a.value=`${a.value} ${r.value}`,e):[...e,r]},[])}function W9(n){let{messageText:t,mentionedUsers:e=[],templatePrefix:r=O_}=n;const a=[{type:to.undetermined,value:t}],o=B_e({tokens:a,mentionedUsers:e,templatePrefix:r}),u=$_e(o);return z_e(u)}function V_e(n){return n.replace(/([ \t]+)/g,(t,e)=>"".repeat(e.length))}function G4(n){let{userId:t,nickname:e}=n;const r=`<span data-userid="${t}" data-sb-mention="true" class="${s_e}">${e}</span>`,u=K9(window).sanitize(r).split(" "),[h,...f]=u;return[h,'contenteditable="false"',...f].join(" ")}const b_=n=>n==null?void 0:n.replace(/[\u00A0-\u9999<>]/gim,t=>"".concat("&#",t.charCodeAt(0),";"));function G_e(n){const t=n.map(e=>{const{text:r,userId:a}=e;return a?G4({userId:a,nickname:r}):b_(r)}).join(" ").concat(" ");document.execCommand("insertHTML",!1,t)}const pM="sendbird-uikit__paste-node",q_e="sendbird-word",Q9="sendbird-word__mention",Y9="sendbird-mention-user-label",X9=`.${Q9}, .${Y9}`;function fM(n,t){return[n,...Array.from(n.querySelectorAll(t))].find(r=>r.matches(t))}function j_e(n){const t=fM(n,`.${F_e}`);if(t)return Array.from(t.childNodes);const e=fM(n,`.${P_e}`);return e?Array.from(e.childNodes):Array.from(n.childNodes)}function K_e(){const n=document.body.querySelector(`#${pM}`);n&&(n==null||n.remove());const t=document.createElement("div");return t.id=pM,t.style.display="none",t}function W_e(n){return!!(n!=null&&n.querySelector(X9))}const Z9=n=>{let t="";return n.forEach(e=>{const r=e.querySelectorAll(`.${q_e}`);r.length>0&&(t+=Z9(Array.from(r))+" "),t+=e.innerText+" "}),t};function Q_e(n){return n==null?void 0:n.reduce((e,r)=>{let a,o=r==null?void 0:r.innerText;if(r instanceof Text&&(a=!1,o=r.textContent),r instanceof HTMLElement&&(a=r.classList.contains(Q9)||r.classList.contains(Y9)?r:r.querySelector(X9)),a){var u;const h=r==null?void 0:r.innerText,f=(u=a.dataset)===null||u===void 0?void 0:u.userid;return[...e,{text:h,userId:f}]}return[...e,{text:o}]},[])}function Y_e(n,t){const e={},r=t.members;return n.forEach(a=>{if(a.userId){const o=r.find(u=>u.userId===a.userId);o&&(e[a.userId]=o)}}),Object.values(e)}function X_e(n){let{ref:t,setIsInput:e,setHeight:r,channel:a,setMentionedUsers:o}=n;return K.useCallback(u=>{u.preventDefault();const h=u==null?void 0:u.clipboardData.getData("text/html");if(!h){const C=u==null?void 0:u.clipboardData.getData("text");document.execCommand("insertHTML",!1,b_(C)),e(!0),r();return}const m=K9(window).sanitize(h),v=K_e();if(v.innerHTML=m,!W_e(v)){const C=Z9(Array.from(v.children));document.execCommand("insertHTML",!1,b_(C)),v.remove(),e(!0),r();return}const y=j_e(v),w=Q_e(y),x=Y_e(w,a);o(x),G_e(w),v.remove(),e(!0),r()},[t,e,r,a,o])}const Z_e="sendbird-message-input-text-field",J_e=76,bo=()=>{},eme=n=>t=>{t.target.files&&t.target.files[0]&&n(t.target.files[0]),t.target.value=""},nme=(n,t)=>{const e=document.createRange(),r=window.getSelection();e.setStart(n.childNodes[0],t),e.collapse(!0),r.removeAllRanges(),r.addRange(e),n.focus()},aw=n=>{try{n.current.innerHTML=""}catch{}},_M={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},n1=R.forwardRef((n,t)=>{var e,r;const{className:a,messageFieldId:o,isEdit:u,isMentionEnabled:h,isVoiceMessageEnabled:f,disabled:m,message:v,placeholder:y,maxLength:w,onFileUpload:x,onSendMessage:C,onUpdateMessage:A,onCancelEdit:L,onStartTyping:S,channelUrl:k,channel:N,mentionSelectedUser:O,onUserMentioned:H,onMentionStringChange:D,onMentionedUserIdsUpdated:T,onVoiceMessageIconClick:M,onKeyUp:q,onKeyDown:z,renderFileUploadIcon:re,renderVoiceMessageIcon:pe,renderSendMessageIcon:B,setMentionedUsers:Q}=n,ie=t==null?void 0:t.current,j=o||Z_e,{stringSet:me}=K.useContext(Ro),ae=K.useRef(null),[oe,ve]=K.useState(!1),[Re,ue]=K.useState([]),[he,V]=K.useState(gn({},_M)),Y=K.useMemo(()=>()=>{try{const Fe=t==null?void 0:t.current,Je=window.document.body.offsetHeight*.6;Fe&&Fe.scrollHeight>=J_e?Je<Fe.scrollHeight?(Fe.style.height="auto",Fe.style.height=`${Je}px`):(Fe.style.height="auto",Fe.style.height=`${Fe.scrollHeight}px`):Fe.style.height=""}catch{}},[]),$=n==null?void 0:n.value;K.useEffect(()=>{var Fe;const Je=t==null?void 0:t.current;try{Je.innerHTML=$,nme(Je,$==null?void 0:$.length)}catch{}ue([]),ve((Je==null||(Fe=Je.innerText)===null||Fe===void 0?void 0:Fe.trim().length)>0),Y()},[$]),K.useEffect(()=>{u||(ve(!1),aw(t))},[k]),K.useEffect(()=>{if(u&&v!==null&&v!==void 0&&v.messageId){var Fe,Je,en;const un=t==null?void 0:t.current;if(h&&(v==null||(Fe=v.mentionedUsers)===null||Fe===void 0?void 0:Fe.length)>0&&(v==null||(Je=v.mentionedMessageTemplate)===null||Je===void 0?void 0:Je.length)>0){const{mentionedUsers:_n=[]}=v,on=W9({messageText:v==null?void 0:v.mentionedMessageTemplate,mentionedUsers:_n});un.innerHTML=on.map(Hn=>{if(Hn.type===to.mention){const Vn=_n.find(ee=>ee.userId===Hn.userId),G=`${O_}${(Vn==null?void 0:Vn.nickname)||Hn.value||me.MENTION_NAME__NO_NAME}`;return G4({userId:Hn.userId,nickname:G})}return b_(Hn.value)}).join(" ")}else{try{un.innerHTML=b_(v==null?void 0:v.message)}catch{}ue([])}ve((un==null||(en=un.innerText)===null||en===void 0?void 0:en.trim().length)>0),Y()}},[u,v]);const te=K.useCallback(()=>{const Fe=t==null?void 0:t.current;if(h){const Je=[...Fe.getElementsByClassName("sendbird-mention-user-label")].map(en=>{var un;return en==null||(un=en.dataset)===null||un===void 0?void 0:un.userid});(!ghe(Re,Je)||Je.length===0)&&(T(Je),ue(Je))}ve(Fe.innerText.trim().length>0)},[he,h]);K.useEffect(()=>{if(h&&O){const{targetString:_n,startNodeIndex:on,startOffsetIndex:Hn,endNodeIndex:Vn,endOffsetIndex:G}=he;if(_n&&on!==null&&Hn!==null){var Fe,Je,en,un;const ee=t==null?void 0:t.current,yn=[...ee==null?void 0:ee.childNodes],Cn=(Fe=document)===null||Fe===void 0?void 0:Fe.createTextNode((Je=yn[on])===null||Je===void 0?void 0:Je.textContent.slice(0,Hn)),Xn=(en=document)===null||en===void 0?void 0:en.createTextNode(`${(un=yn[Vn])===null||un===void 0?void 0:un.textContent.slice(G)}`),qn=G4({userId:O==null?void 0:O.userId,nickname:`${Wp}${(O==null?void 0:O.nickname)||me.MENTION_NAME__NO_NAME}`}),$n=document.createElement("div");$n.innerHTML=qn;const On=[...yn.slice(0,on),Cn,$n.childNodes[0],Xn,...yn.slice(Vn+1)];if(ee.innerHTML="",On.forEach(pt=>{ee.appendChild(pt)}),H(O),window.getSelection||document.getSelection){const pt=window.getSelection()||document.getSelection();pt.removeAllRanges();const Yn=new Range;Yn.selectNodeContents(ee),Yn.setStart(ee.childNodes[on+2],1),Yn.setEnd(ee.childNodes[on+2],1),Yn.collapse(!1),pt.addRange(Yn),ee.focus()}V(gn({},_M)),Y(),te()}}},[O,h]);const Me=K.useCallback(()=>{var Fe,Je,en,un;const _n=((Fe=window)===null||Fe===void 0||(Je=Fe.getSelection)===null||Je===void 0?void 0:Je.call(Fe))||((en=document)===null||en===void 0||(un=en.getSelection)===null||un===void 0?void 0:un.call(en)),on=t==null?void 0:t.current;if(_n.anchorNode===on&&D(""),h&&_n&&_n.anchorNode===_n.focusNode&&_n.anchorOffset===_n.focusOffset){let Hn="",Vn=null,G=null;for(let ee=0;ee<on.childNodes.length;ee+=1){const yn=on.childNodes[ee];if(yn.nodeType===od.TextNode){const Cn=yn===_n.anchorNode?(yn==null?void 0:yn.textContent.slice(0,_n.anchorOffset))||"":(yn==null?void 0:yn.textContent)||"";if(Hn.length>0)Hn+=Cn;else{let Xn=Cn.lastIndexOf(Wp);for(let qn=Xn-1;qn>-1&&Cn[qn]===Wp;qn-=1)Xn=qn;Xn>-1&&(Hn=Cn,Vn=ee,G=Xn)}}else Hn="",Vn=null,G=null;if(yn===_n.anchorNode){const Cn=Hn?Hn.slice(G):"";V({targetString:Cn,startNodeIndex:Vn,startOffsetIndex:G,endNodeIndex:ee,endOffsetIndex:_n.anchorOffset}),D(Cn);return}}}},[h]),Ke=()=>{const Fe=t==null?void 0:t.current;if(!u&&Fe!==null&&Fe!==void 0&&Fe.innerText){let Je="",en="";Fe.childNodes.forEach(_n=>{if(_n.nodeType===od.ElementNode&&_n.nodeName===Qp.Span){const{innerText:on,dataset:Hn={}}=_n,{userid:Vn=""}=Hn;Je+=on,en+=`${Wp}{${Vn}}`}else if(_n.nodeType===od.ElementNode&&_n.nodeName===Qp.Br)Je+=`
`,en+=`
`;else if((_n==null?void 0:_n.nodeType)===od.ElementNode&&(_n==null?void 0:_n.nodeName)===Qp.Div){const{textContent:on=""}=_n;Je+=`
${on}`,en+=`
${on}`}else{const{textContent:on=""}=_n;Je+=on,en+=on}}),C({message:Je,mentionTemplate:en}),aw(t),ve(!1),Y()}},Oe=!(ie!=null&&(e=ie.innerText)!==null&&e!==void 0&&e.trim()),xe=()=>{const Fe=t==null?void 0:t.current,Je=v==null?void 0:v.messageId;if(u&&Je){let en="",un="";Fe.childNodes.forEach(on=>{if(on.nodeType===od.ElementNode&&on.nodeName===Qp.Span){const{innerText:Hn,dataset:Vn={}}=on,{userid:G=""}=Vn;en+=Hn,un+=`${Wp}{${G}}`}else if(on.nodeType===od.ElementNode&&on.nodeName===Qp.Span)en+=`
`,un+=`
`;else{const{textContent:Hn=""}=on;en+=Hn,un+=Hn}}),A({messageId:Je,message:en,mentionTemplate:un}),aw(t)}},Le=X_e({ref:t,setMentionedUserIds:ue,setMentionedUsers:Q,channel:N,setIsInput:ve,setHeight:Y});return R.createElement("form",{className:Rx([a,u?"sendbird-message-input__edit":"",m?"sendbird-message-input-form__disabled":""])},R.createElement("div",{className:Rx(["sendbird-message-input",m?"sendbird-message-input__disabled":""])},R.createElement("div",{id:`${j}${u?v==null?void 0:v.messageId:""}`,className:`sendbird-message-input--textarea ${j}`,contentEditable:!m,role:"textbox","aria-label":"Text Input",disabled:m,ref:t,maxLength:w,onKeyDown:Fe=>{if(z(Fe))Fe.preventDefault();else{var en,un,_n,on,Hn,Vn,G,ee;!Fe.shiftKey&&Fe.key===aM.Enter&&(Fe==null||(en=Fe.nativeEvent)===null||en===void 0?void 0:en.isComposing)!==!0&&(Fe.preventDefault(),Ke()),Fe.key===aM.Backspace&&(t==null||(un=t.current)===null||un===void 0||(_n=un.childNodes)===null||_n===void 0?void 0:_n.length)===2&&!(t!=null&&(on=t.current)!==null&&on!==void 0&&(Hn=on.childNodes)!==null&&Hn!==void 0&&(Vn=Hn[0])!==null&&Vn!==void 0&&Vn.textContent)&&(t==null||(G=t.current.childNodes)===null||G===void 0||(ee=G[1])===null||ee===void 0?void 0:ee.nodeType)===od.ElementNode&&(t==null||t.current.removeChild(t==null?void 0:t.current.childNodes[1]))}},onKeyUp:Fe=>{q(Fe)?Fe.preventDefault():Me()},onClick:()=>{Me()},onInput:()=>{var Fe;Y(),S(),ve(((Fe=ie.innerText)===null||Fe===void 0?void 0:Fe.trim().length)>0),te()},onPaste:Le}),(ie==null||(r=ie.innerText)===null||r===void 0?void 0:r.length)===0&&R.createElement(Ut,{className:"sendbird-message-input--placeholder",type:Pt.BODY_1,color:m?At.ONBACKGROUND_4:At.ONBACKGROUND_3},y||me.MESSAGE_INPUT__PLACE_HOLDER),!u&&oe&&R.createElement(rc,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:()=>Ke()},(B==null?void 0:B())||R.createElement(Wt,{type:Bt.SEND,fillColor:m?Yt.ON_BACKGROUND_4:Yt.PRIMARY,width:"20px",height:"20px"})),!u&&!oe&&((re==null?void 0:re())||R.createElement(rc,{className:`sendbird-message-input--attach ${f?"is-voice-message-enabled":""}`,height:"32px",width:"32px",onClick:()=>{var Fe,Je;ae==null||(Fe=ae.current)===null||Fe===void 0||(Je=Fe.click)===null||Je===void 0||Je.call(Fe)}},R.createElement(Wt,{type:Bt.ATTACH,fillColor:m?Yt.ON_BACKGROUND_4:Yt.CONTENT_INVERSE,width:"20px",height:"20px"}),R.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:ae,onChange:eme(x)}))),f&&!u&&!oe&&R.createElement(rc,{className:"sendbird-message-input--voice-message",width:"32px",height:"32px",onClick:M},(pe==null?void 0:pe())||R.createElement(Wt,{type:Bt.AUDIO_ON_LINED,fillColor:m?Yt.ON_BACKGROUND_4:Yt.CONTENT_INVERSE,width:"20px",height:"20px"}))),u&&R.createElement("div",{className:"sendbird-message-input--edit-action"},R.createElement(g_,{className:"sendbird-message-input--edit-action__cancel",type:$d.SECONDARY,size:B4.SMALL,onClick:L},me.BUTTON__CANCEL),R.createElement(g_,{className:"sendbird-message-input--edit-action__save",type:$d.PRIMARY,size:B4.SMALL,disabled:Oe,onClick:()=>xe()},me.BUTTON__SAVE)))});n1.propTypes={className:dn.exports.oneOfType([dn.exports.string,dn.exports.arrayOf(dn.exports.string)]),messageFieldId:dn.exports.string,placeholder:dn.exports.oneOfType([dn.exports.string,dn.exports.bool]),value:dn.exports.string,isEdit:dn.exports.bool,isMentionEnabled:dn.exports.bool,isVoiceMessageEnabled:dn.exports.bool,onVoiceMessageIconClick:dn.exports.func,message:dn.exports.shape({messageId:dn.exports.oneOfType([dn.exports.string,dn.exports.number]),message:dn.exports.string,mentionedMessageTemplate:dn.exports.string,mentionedUsers:dn.exports.arrayOf(dn.exports.shape({}))}),disabled:dn.exports.bool,maxLength:dn.exports.number,onFileUpload:dn.exports.func,onSendMessage:dn.exports.func,onUpdateMessage:dn.exports.func,onStartTyping:dn.exports.func,onCancelEdit:dn.exports.func,channelUrl:dn.exports.string,mentionSelectedUser:dn.exports.shape({userId:dn.exports.string,nickname:dn.exports.string}),setMentionedUsers:dn.exports.func,onUserMentioned:dn.exports.func,onMentionStringChange:dn.exports.func,onMentionedUserIdsUpdated:dn.exports.func,onKeyUp:dn.exports.func,onKeyDown:dn.exports.func};n1.defaultProps={className:"",messageFieldId:"",channelUrl:"",onSendMessage:bo,onUpdateMessage:bo,value:null,message:null,isEdit:!1,isMentionEnabled:!1,isVoiceMessageEnabled:!0,onVoiceMessageIconClick:bo,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:bo,onCancelEdit:bo,onStartTyping:bo,mentionSelectedUser:null,onUserMentioned:bo,onMentionStringChange:bo,onMentionedUserIdsUpdated:bo,onKeyUp:bo,onKeyDown:bo};const J9=R.createContext(void 0),tme=n=>{const{children:t,message:e,isByMe:r=!1}=n;return R.createElement(J9.Provider,{value:{message:e,isByMe:r}},t)},rme=()=>{const n=R.useContext(J9);if(n===void 0)throw new Error("useMessageContext must be used within a MessageProvider");return n};function ime(n){var t,e,r;const{mentionTemplate:a,mentionedUserId:o,mentionedUserNickname:u,isByMe:h}=n,f=K.useRef(),m=oo(),v=m==null||(t=m.config)===null||t===void 0?void 0:t.userId,y=m==null||(e=m.stores)===null||e===void 0||(r=e.sdkStore)===null||r===void 0?void 0:r.sdk,w=v===o,[x,C]=K.useState(),A=K.useCallback(L=>{if(x||!(y!=null&&y.createApplicationUserListQuery)){L();return}(y==null?void 0:y.createApplicationUserListQuery({userIdsFilter:[o]})).next().then(k=>{(k==null?void 0:k.length)>0&&C(k[0]),L()})},[y,o]);return R.createElement(ml,{menuTrigger:L=>R.createElement("a",{className:`
            sendbird-word__mention
            ${w?"sendbird-word__mention--me":""}
          `,onClick:()=>A(L),ref:f,"data-userid":o,"data-nickname":u,"data-sb-mention":!0},R.createElement(Ut,{type:Pt.CAPTION_1,color:h?At.ONCONTENT_1:At.ONBACKGROUND_1},`${a}${u}`)),menuItems:L=>R.createElement(_l,{parentRef:f,parentContainRef:f,closeDropdown:L,style:{paddingTop:"0px",paddingBottom:"0px"}},R.createElement(N_,{user:x,onSuccess:L,currentUserId:v}))})}const ame=/https?:\/\//;function t1(n){let{className:t,src:e,type:r,color:a,children:o}=n;const u=ame.test(e)?e:`http://${e}`;return R.createElement("a",{className:[...Array.isArray(t)?t:[t],"sendbird-link-label",a?L9(a):""].join(" "),href:u,target:"_blank",rel:"noopener noreferrer",onTouchEnd:h=>{h.preventDefault(),h.nativeEvent.stopImmediatePropagation(),window.open(u,"_blank","noopener,noreferrer")}},R.createElement(Ut,{className:"sendbird-link-label__label",type:r,color:a},o))}t1.propTypes={className:dn.exports.oneOfType([dn.exports.string,dn.exports.arrayOf(dn.exports.string)]),src:dn.exports.string.isRequired,type:dn.exports.string,color:dn.exports.string,children:dn.exports.oneOfType([dn.exports.string,dn.exports.element,dn.exports.arrayOf(dn.exports.string),dn.exports.arrayOf(dn.exports.element)]).isRequired};t1.defaultProps={className:"",type:"",color:""};function sme(n,t,e){return`sb-msg_${n}_${t}_${e}`}function ome(n){let{tokens:t}=n;const e=rme(),r=e==null?void 0:e.message,a=e==null?void 0:e.isByMe,{updatedAt:o,createdAt:u}=r;return R.createElement(R.Fragment,null,t==null?void 0:t.map((h,f)=>{const m=sme(u,o,f);return hk(h.type).with(to.mention,()=>R.createElement("span",{className:"sendbird-word",key:m},R.createElement(ime,{mentionTemplate:O_,mentionedUserId:h.userId,mentionedUserNickname:h.value,isByMe:a}))).with(to.url,()=>R.createElement("span",{className:"sendbird-word",key:m},R.createElement(t1,{className:"sendbird-word__url",src:h.value,type:Pt.BODY_1},h.value))).otherwise(()=>R.createElement(R.Fragment,{key:m},V_e(h.value)))}))}function lme(n,t){return n-t}function cme(n){let{hasMore:t,onScroll:e,scrollRef:r,setShowScrollDownButton:a}=n;return K.useCallback(()=>{const o=r==null?void 0:r.current;if(o==null)return;const{scrollTop:u,scrollHeight:h,clientHeight:f}=o,m=lme(h,u);typeof a=="function"&&a(h>u+f+1),t&&u<bhe&&e(()=>{o.scrollTop=o.scrollHeight-m})},[a,t,e,r])}const eP=R.createContext({opened:"",setOpened:Sg});eP.Consumer;eP.Provider;const ume=n=>{let{profileUrl:t,nickname:e,name:r,type:a,url:o,isByMe:u=!0,disableDelete:h=!1,onClose:f,onDelete:m}=n;const{stringSet:v}=K.useContext(Ro);return R.createElement("div",{className:"sendbird-fileviewer"},R.createElement("div",{className:"sendbird-fileviewer__header"},R.createElement("div",{className:"sendbird-fileviewer__header__left"},R.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},R.createElement(eh,{height:"32px",width:"32px",src:t})),R.createElement(Ut,{className:"sendbird-fileviewer__header__left__filename",type:Pt.H_2,color:At.ONBACKGROUND_1},r),R.createElement(Ut,{className:"sendbird-fileviewer__header__left__sender-name",type:Pt.BODY_1,color:At.ONBACKGROUND_2},e)),R.createElement("div",{className:"sendbird-fileviewer__header__right"},O8(a)&&R.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},R.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:o,target:"_blank"},R.createElement(Wt,{type:Bt.DOWNLOAD,fillColor:Yt.ON_BACKGROUND_1,height:"24px",width:"24px"})),m&&u&&R.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete"},R.createElement(Wt,{className:h?"disabled":"",type:Bt.DELETE,fillColor:h?Yt.GRAY:Yt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:y=>{h||m==null||m(y)}}))),R.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},R.createElement(Wt,{type:Bt.CLOSE,fillColor:Yt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:y=>f==null?void 0:f(y)})))),R.createElement("div",{className:"sendbird-fileviewer__content"},w9(a)&&R.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},R.createElement("source",{src:o,type:a})),E9(a)&&R.createElement("img",{src:o,alt:r,className:"sendbird-fileviewer__content__img"}),!O8(a)&&R.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},R.createElement(Ut,{type:Pt.H_1,color:At.ONBACKGROUND_1},(v==null?void 0:v.UI__FILE_VIEWER__UNSUPPORT)||"Unsupported message"))))};function dme(n){var t,e,r;let{message:a,isByMe:o=!1,onClose:u,onDelete:h}=n;return C_.createPortal(R.createElement(ume,{profileUrl:a==null||(t=a.sender)===null||t===void 0?void 0:t.profileUrl,nickname:a==null||(e=a.sender)===null||e===void 0?void 0:e.nickname,name:a==null?void 0:a.name,type:a==null?void 0:a.type,url:a==null?void 0:a.url,isByMe:o,disableDelete:(a==null||(r=a.threadInfo)===null||r===void 0?void 0:r.replyCount)>0,onClose:u,onDelete:h}),document.getElementById(H9))}function Vd(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Qa(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Ig(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ig=function(e){return typeof e}:Ig=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(n)}function gl(n){Qa(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||Ig(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function hme(n,t){Qa(2,arguments);var e=gl(n).getTime(),r=Vd(t);return new Date(e+r)}var pme={};function r1(){return pme}function fme(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function Ng(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ng=function(e){return typeof e}:Ng=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(n)}function _me(n){return Qa(1,arguments),n instanceof Date||Ng(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function mme(n){if(Qa(1,arguments),!_me(n)&&typeof n!="number")return!1;var t=gl(n);return!isNaN(Number(t))}function vme(n,t){Qa(2,arguments);var e=Vd(t);return hme(n,-e)}var gme=864e5;function bme(n){Qa(1,arguments);var t=gl(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=e-r;return Math.floor(a/gme)+1}function gb(n){Qa(1,arguments);var t=1,e=gl(n),r=e.getUTCDay(),a=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function nP(n){Qa(1,arguments);var t=gl(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var a=gb(r),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var u=gb(o);return t.getTime()>=a.getTime()?e+1:t.getTime()>=u.getTime()?e:e-1}function yme(n){Qa(1,arguments);var t=nP(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=gb(e);return r}var Eme=6048e5;function wme(n){Qa(1,arguments);var t=gl(n),e=gb(t).getTime()-yme(t).getTime();return Math.round(e/Eme)+1}function bb(n,t){var e,r,a,o,u,h,f,m;Qa(1,arguments);var v=r1(),y=Vd((e=(r=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:v.weekStartsOn)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&e!==void 0?e:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=gl(n),x=w.getUTCDay(),C=(x<y?7:0)+x-y;return w.setUTCDate(w.getUTCDate()-C),w.setUTCHours(0,0,0,0),w}function tP(n,t){var e,r,a,o,u,h,f,m;Qa(1,arguments);var v=gl(n),y=v.getUTCFullYear(),w=r1(),x=Vd((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:w.firstWeekContainsDate)!==null&&r!==void 0?r:(f=w.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(y+1,0,x),C.setUTCHours(0,0,0,0);var A=bb(C,t),L=new Date(0);L.setUTCFullYear(y,0,x),L.setUTCHours(0,0,0,0);var S=bb(L,t);return v.getTime()>=A.getTime()?y+1:v.getTime()>=S.getTime()?y:y-1}function xme(n,t){var e,r,a,o,u,h,f,m;Qa(1,arguments);var v=r1(),y=Vd((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1),w=tP(n,t),x=new Date(0);x.setUTCFullYear(w,0,y),x.setUTCHours(0,0,0,0);var C=bb(x,t);return C}var kme=6048e5;function Sme(n,t){Qa(1,arguments);var e=gl(n),r=bb(e,t).getTime()-xme(e,t).getTime();return Math.round(r/kme)+1}function Cr(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var Vc={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Cr(e==="yy"?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):Cr(r+1,2)},d:function(t,e){return Cr(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return Cr(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Cr(t.getUTCHours(),e.length)},m:function(t,e){return Cr(t.getUTCMinutes(),e.length)},s:function(t,e){return Cr(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,r-3));return Cr(o,e.length)}},Hh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tme={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return Vc.y(t,e)},Y:function(t,e,r,a){var o=tP(t,a),u=o>0?o:1-o;if(e==="YY"){var h=u%100;return Cr(h,2)}return e==="Yo"?r.ordinalNumber(u,{unit:"year"}):Cr(u,e.length)},R:function(t,e){var r=nP(t);return Cr(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return Cr(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Cr(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Cr(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return Vc.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return Cr(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var o=Sme(t,a);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):Cr(o,e.length)},I:function(t,e,r){var a=wme(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Cr(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Vc.d(t,e)},D:function(t,e,r){var a=bme(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Cr(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var o=t.getUTCDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Cr(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var o=t.getUTCDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Cr(u,e.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return Cr(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a=t.getUTCHours(),o;switch(a===12?o=Hh.noon:a===0?o=Hh.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a=t.getUTCHours(),o;switch(a>=17?o=Hh.evening:a>=12?o=Hh.afternoon:a>=4?o=Hh.morning:o=Hh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Vc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Vc.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Cr(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Cr(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Vc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Vc.s(t,e)},S:function(t,e){return Vc.S(t,e)},X:function(t,e,r,a){var o=a._originalDate||t,u=o.getTimezoneOffset();if(u===0)return"Z";switch(e){case"X":return vM(u);case"XXXX":case"XX":return hd(u);case"XXXXX":case"XXX":default:return hd(u,":")}},x:function(t,e,r,a){var o=a._originalDate||t,u=o.getTimezoneOffset();switch(e){case"x":return vM(u);case"xxxx":case"xx":return hd(u);case"xxxxx":case"xxx":default:return hd(u,":")}},O:function(t,e,r,a){var o=a._originalDate||t,u=o.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+mM(u,":");case"OOOO":default:return"GMT"+hd(u,":")}},z:function(t,e,r,a){var o=a._originalDate||t,u=o.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+mM(u,":");case"zzzz":default:return"GMT"+hd(u,":")}},t:function(t,e,r,a){var o=a._originalDate||t,u=Math.floor(o.getTime()/1e3);return Cr(u,e.length)},T:function(t,e,r,a){var o=a._originalDate||t,u=o.getTime();return Cr(u,e.length)}};function mM(n,t){var e=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),o=r%60;if(o===0)return e+String(a);var u=t||"";return e+String(a)+u+Cr(o,2)}function vM(n,t){if(n%60===0){var e=n>0?"-":"+";return e+Cr(Math.abs(n)/60,2)}return hd(n,t)}function hd(n,t){var e=t||"",r=n>0?"-":"+",a=Math.abs(n),o=Cr(Math.floor(a/60),2),u=Cr(a%60,2);return r+o+e+u}var Cme=Tme,gM=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},rP=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ime=function(t,e){var r=t.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return gM(t,e);var u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",gM(a,e)).replace("{{time}}",rP(o,e))},Nme={p:rP,P:Ime},Ame=Nme,Ome=["D","DD"],Rme=["YY","YYYY"];function Mme(n){return Ome.indexOf(n)!==-1}function Dme(n){return Rme.indexOf(n)!==-1}function bM(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Lme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ume=function(t,e,r){var a,o=Lme[t];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function sw(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}var Pme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bme={date:sw({formats:Pme,defaultWidth:"full"}),time:sw({formats:Fme,defaultWidth:"full"}),dateTime:sw({formats:Hme,defaultWidth:"full"})},$me={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zme=function(t,e,r,a){return $me[t]};function Zp(n){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",a;if(r==="formatting"&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,u=e!=null&&e.width?String(e.width):o;a=n.formattingValues[u]||n.formattingValues[o]}else{var h=n.defaultWidth,f=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[h]}var m=n.argumentCallback?n.argumentCallback(t):t;return a[m]}}var Vme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qme=function(t,e){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Yme={ordinalNumber:Qme,era:Zp({values:Vme,defaultWidth:"wide"}),quarter:Zp({values:Gme,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Zp({values:qme,defaultWidth:"wide"}),day:Zp({values:jme,defaultWidth:"wide"}),dayPeriod:Zp({values:Kme,defaultWidth:"wide",formattingValues:Wme,defaultFormattingWidth:"wide"})};function Jp(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=t.match(a);if(!o)return null;var u=o[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Zme(h,function(y){return y.test(u)}):Xme(h,function(y){return y.test(u)}),m;m=n.valueCallback?n.valueCallback(f):f,m=e.valueCallback?e.valueCallback(m):m;var v=t.slice(u.length);return{value:m,rest:v}}}function Xme(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function Zme(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function Jme(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var a=r[0],o=t.match(n.parsePattern);if(!o)return null;var u=n.valueCallback?n.valueCallback(o[0]):o[0];u=e.valueCallback?e.valueCallback(u):u;var h=t.slice(a.length);return{value:u,rest:h}}}var eve=/^(\d+)(th|st|nd|rd)?/i,nve=/\d+/i,tve={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rve={any:[/^b/i,/^(a|c)/i]},ive={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ave={any:[/1/i,/2/i,/3/i,/4/i]},sve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ove={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hve={ordinalNumber:Jme({matchPattern:eve,parsePattern:nve,valueCallback:function(t){return parseInt(t,10)}}),era:Jp({matchPatterns:tve,defaultMatchWidth:"wide",parsePatterns:rve,defaultParseWidth:"any"}),quarter:Jp({matchPatterns:ive,defaultMatchWidth:"wide",parsePatterns:ave,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Jp({matchPatterns:sve,defaultMatchWidth:"wide",parsePatterns:ove,defaultParseWidth:"any"}),day:Jp({matchPatterns:lve,defaultMatchWidth:"wide",parsePatterns:cve,defaultParseWidth:"any"}),dayPeriod:Jp({matchPatterns:uve,defaultMatchWidth:"any",parsePatterns:dve,defaultParseWidth:"any"})},pve={code:"en-US",formatDistance:Ume,formatLong:Bme,formatRelative:zme,localize:Yme,match:hve,options:{weekStartsOn:0,firstWeekContainsDate:1}},fve=pve,_ve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vve=/^'([^]*?)'?$/,gve=/''/g,bve=/[a-zA-Z]/;function yM(n,t,e){var r,a,o,u,h,f,m,v,y,w,x,C,A,L,S,k,N,O;Qa(2,arguments);var H=String(t),D=r1(),T=(r=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:D.locale)!==null&&r!==void 0?r:fve,M=Vd((o=(u=(h=(f=e==null?void 0:e.firstWeekContainsDate)!==null&&f!==void 0?f:e==null||(m=e.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&h!==void 0?h:D.firstWeekContainsDate)!==null&&u!==void 0?u:(y=D.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=Vd((x=(C=(A=(L=e==null?void 0:e.weekStartsOn)!==null&&L!==void 0?L:e==null||(S=e.locale)===null||S===void 0||(k=S.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&A!==void 0?A:D.weekStartsOn)!==null&&C!==void 0?C:(N=D.locale)===null||N===void 0||(O=N.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&x!==void 0?x:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var z=gl(n);if(!mme(z))throw new RangeError("Invalid time value");var re=fme(z),pe=vme(z,re),B={firstWeekContainsDate:M,weekStartsOn:q,locale:T,_originalDate:z},Q=H.match(mve).map(function(ie){var j=ie[0];if(j==="p"||j==="P"){var me=Ame[j];return me(ie,T.formatLong)}return ie}).join("").match(_ve).map(function(ie){if(ie==="''")return"'";var j=ie[0];if(j==="'")return yve(ie);var me=Cme[j];if(me)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Dme(ie)&&bM(ie,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Mme(ie)&&bM(ie,t,String(n)),me(pe,ie,T.localize,B);if(j.match(bve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return ie}).join("");return Q}function yve(n){var t=n.match(vve);return t?t[1].replace(gve,"'"):n}dn.exports.string.isRequired,dn.exports.string.isRequired,dn.exports.string,dn.exports.string,dn.exports.string,dn.exports.string,dn.exports.func,dn.exports.string,dn.exports.string,dn.exports.string,dn.exports.bool,dn.exports.bool,dn.exports.bool,dn.exports.func,dn.exports.func,dn.exports.shape({}),dn.exports.shape({logLevel:dn.exports.oneOfType([dn.exports.string,dn.exports.arrayOf(dn.exports.string)]),isREMUnitEnabled:dn.exports.bool}),dn.exports.bool,dn.exports.oneOf(["NONE","QUOTE_REPLY","THREAD"]),dn.exports.bool,dn.exports.bool,dn.exports.objectOf(dn.exports.string),dn.exports.objectOf(dn.exports.string),dn.exports.shape({compressionRate:dn.exports.number,resizingWidth:dn.exports.oneOfType([dn.exports.number,dn.exports.string]),resizingHeight:dn.exports.oneOfType([dn.exports.number,dn.exports.string])}),dn.exports.bool,dn.exports.bool,dn.exports.bool,dn.exports.shape({maxRecordingTime:dn.exports.number,minRecordingTime:dn.exports.number}),dn.exports.bool,dn.exports.bool;const EM=n=>L0(n.createdAt,"p"),Eve=(n,t)=>typeof t!="number"||typeof t=="number"&&t>n,Eu=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const e=10,r=n;if(!(r>e))try{const a=(t==null?void 0:t.current)||document.querySelector(".sendbird-openchannel-conversation-scroll__container__item-container");a.scrollTop=a.scrollHeight}catch{setTimeout(()=>{Eu(r+1,t)},500*r)}},wM=(n,t)=>{var e,r,a,o;if(!(n&&t&&n!==null&&n!==void 0&&n.messageType&&n.messageType!=="admin"&&t!==null&&t!==void 0&&t.messageType&&t.messageType!=="admin"&&n!==null&&n!==void 0&&n.sender&&t!==null&&t!==void 0&&t.sender&&n!==null&&n!==void 0&&n.createdAt&&t!==null&&t!==void 0&&t.createdAt&&n!==null&&n!==void 0&&(e=n.sender)!==null&&e!==void 0&&e.userId&&t!==null&&t!==void 0&&(r=t.sender)!==null&&r!==void 0&&r.userId))return!1;const u=n,h=t;return(u==null?void 0:u.sendingStatus)===(h==null?void 0:h.sendingStatus)&&(u==null||(a=u.sender)===null||a===void 0?void 0:a.userId)===(h==null||(o=h.sender)===null||o===void 0?void 0:o.userId)&&EM(n)===EM(t)},wve=(n,t,e)=>[wM(n,t),wM(t,e)],xve=n=>Math.abs(n)>999999?`${(Math.abs(n)/1e6).toFixed(1)}M`:Math.abs(n)>999?`${(Math.abs(n)/1e3).toFixed(1)}K`:`${n}`,kve=(n,t)=>!((n==null?void 0:n.operators).map(r=>r.userId).indexOf(t)<0),Sve=(n,t)=>(n==null?void 0:n.isFrozen)&&!kve(n,t),Tve=(n,t)=>n.indexOf(t)>-1,ow=(n,t,e)=>{const r=a=>{const{hasNext:o}=a;o?a.next().then(u=>{e(u),r(a)}).catch(u=>{t.warning("OpenChannel | FetchUserList failed",u)}):t.info("OpenChannel | FetchUserList finished")};t.info("OpenChannel | FetchUserList start",n),r(n)},Yv=n=>{if(typeof n=="number")return n;if(typeof n=="string"){const t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null},iP="SET_CURRENT_CHANNEL",q4="SET_CHANNEL_INVALID",aP="RESET_MESSAGES",sP="EXIT_CURRENT_CHANNEL",oP="GET_PREV_MESSAGES_START",Lk="GET_PREV_MESSAGES_SUCESS",yb="GET_PREV_MESSAGES_FAIL",C0="SENDING_MESSAGE_FAILED",wu="SENDING_MESSAGE_SUCCEEDED",y_="SENDING_MESSAGE_START",lP="RESENDING_MESSAGE_START",cP="FETCH_PARTICIPANT_LIST",uP="FETCH_BANNED_USER_LIST",j4="FETCH_MUTED_USER_LIST",dP="TRIM_MESSAGE_LIST",hP="ON_MESSAGE_RECEIVED",i1="ON_MESSAGE_UPDATED",a1="ON_MESSAGE_DELETED",pP="ON_MESSAGE_DELETED_BY_REQ_ID",fP="ON_OPERATOR_UPDATED",_P="ON_USER_ENTERED",mP="ON_USER_EXITED",Uk="ON_USER_MUTED",vP="ON_USER_UNMUTED",gP="ON_USER_BANNED",bP="ON_USER_UNBANNED",yP="ON_CHANNEL_FROZEN",EP="ON_CHANNEL_UNFROZEN",wP="ON_CHANNEL_CHANGED",xP="ON_CHANNEL_DELETED",kP="ON_META_DATA_CREATED",SP="ON_META_DATA_UPDATED",TP="ON_META_DATA_DELETED",CP="ON_META_COUNTERS_CREATED",IP="ON_META_COUNTERS_UPDATED",NP="ON_META_COUNTERS_DELETED",AP="ON_MENTION_RECEIVED";function Cve(n,t){switch(t.type){case aP:return gn(gn({},n),{},{allMessages:[]});case sP:{var e,r;return((e=t.payload)===null||e===void 0?void 0:e.url)===((r=n.currentOpenChannel)===null||r===void 0?void 0:r.url)?gn(gn({},n),{},{currentOpenChannel:null}):n}case iP:{const o=t.payload,u=o.operators;return!n.isInvalid&&n.currentOpenChannel&&n.currentOpenChannel.url&&n.currentOpenChannel.url===o.url?n:gn(gn({},n),{},{currentOpenChannel:o,isInvalid:!1,operators:u,participants:u,bannedParticipantIds:[],mutedParticipantIds:[]})}case q4:return gn(gn({},n),{},{isInvalid:!0});case oP:return gn(gn({},n),{},{loading:!0});case Lk:case yb:{const o=t.type===yb,{currentOpenChannel:u={},messages:h=[],hasMore:f,lastMessageTimestamp:m}=t.payload,v=u.url,y=o?[]:h,w=o?!1:f,x=o?0:m,A=n.currentOpenChannel.url;if(v!==A)return n;const L=n.allMessages.filter(S=>!y.find(k=>{let{messageId:N}=k;return Fl(N,S.messageId)}));return gn(gn({},n),{},{loading:!1,initialized:!0,hasMore:w,lastMessageTimestamp:x,allMessages:[...y,...L]})}case y_:{const{message:o,channel:u}=t.payload;return(u==null?void 0:u.url)!==n.currentOpenChannel.url||n.allMessages.some(h=>h.reqId===o.reqId)?n:gn(gn({},n),{},{allMessages:[...n.allMessages,o]})}case wu:{const o=t.payload,u=n.allMessages.map(h=>Fl(h.reqId,o.reqId)?o:h);return gn(gn({},n),{},{allMessages:u})}case C0:{const o=t.payload;return o.sendingStatus="failed",n.allMessages.some(u=>(u==null?void 0:u.reqId)===(o==null?void 0:o.reqId))?gn(gn({},n),{},{allMessages:n.allMessages.map(u=>Fl(u.reqId,o.reqId)?o:u)}):gn(gn({},n),{},{allMessages:[...n.allMessages.filter(u=>!Fl(u.reqId,o)),o]})}case dP:{var a;const{allMessages:o}=n,u=(a=t.payload)===null||a===void 0?void 0:a.messageLimit;if(u&&u>0&&(o==null?void 0:o.length)>u){const h=o.length-u;return gn(gn({},n),{},{allMessages:o.slice(h)})}return n}case lP:{const o=t.payload.channel,u=t.payload.message;return o.url!==n.currentOpenChannel.url?n:gn(gn({},n),{},{allMessages:n.allMessages.map(h=>Fl(h.reqId,u.reqId)?u:h)})}case cP:{const o=t.payload.channel,u=t.payload.users;return o.url!==n.currentOpenChannel.url?n:gn(gn({},n),{},{participants:[...n.participants,...u]})}case uP:{const o=t.payload.channel,u=t.payload.users;return o.url!==n.currentOpenChannel.url||!u.every(h=>typeof h.userId=="string")?n:gn(gn({},n),{},{bannedParticipantIds:[...n.bannedParticipantIds,...u.map(h=>h.userId)]})}case j4:{const o=t.payload.channel,u=t.payload.users;return o.url!==n.currentOpenChannel.url||!u.every(h=>typeof h.userId=="string")?n:gn(gn({},n),{},{mutedParticipantIds:[...n.mutedParticipantIds,...u.map(h=>h.userId)]})}case hP:{const o=t.payload.channel,u=t.payload.message,{currentOpenChannel:h}=n;return!Fl(o.url,h.url)||!(n.allMessages.map(f=>f.messageId).indexOf(u.messageId)<0)?n:gn(gn({},n),{},{allMessages:[...n.allMessages,u]})}case i1:{const o=t.payload.channel,u=t.payload.message,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:gn(gn({},n),{},{allMessages:n.allMessages.map(f=>f.isIdentical(u)?u:f)})}case a1:{const o=t.payload.channel,u=t.payload.messageId,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:gn(gn({},n),{},{allMessages:n.allMessages.filter(f=>!Fl(f.messageId,u))})}case pP:return gn(gn({},n),{},{allMessages:n.allMessages.filter(o=>!Fl(o.reqId,t.payload))});case fP:{const o=t.payload.channel,u=t.payload.operators,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:gn(gn({},n),{},{currentOpenChannel:o,operators:u})}case _P:{const o=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:gn(gn({},n),{},{participants:[...n.participants,u]})}case mP:{const o=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:gn(gn({},n),{},{participants:n.participants.filter(f=>!Fl(f.userId,u.userId))})}case Uk:{const o=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url||n.mutedParticipantIds.indexOf(u.userId)>=0?n:gn(gn({},n),{},{mutedParticipantIds:[...n.mutedParticipantIds,u.userId]})}case vP:{const o=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url||n.mutedParticipantIds.indexOf(u.userId)<0?n:gn(gn({},n),{},{mutedParticipantIds:n.mutedParticipantIds.filter(f=>f!==u.userId)})}case gP:{const o=t.payload.channel,u=t.payload.user,h=t.payload.currentUser,f=n.currentOpenChannel;return(f==null?void 0:f.url)===(o==null?void 0:o.url)&&(u==null?void 0:u.userId)===(h==null?void 0:h.userId)?gn(gn({},n),{},{currentOpenChannel:null}):(f==null?void 0:f.url)===(o==null?void 0:o.url)?gn(gn({},n),{},{bannedParticipantIds:[...n.bannedParticipantIds,u.userId]}):n}case bP:{const o=t.payload.channel,u=t.payload.user,h=n.currentOpenChannel;return(h==null?void 0:h.url)===(o==null?void 0:o.url)?gn(gn({},n),{},{bannedParticipantIds:n.bannedParticipantIds.filter(f=>f!==u.userId)}):n}case yP:{const o=t.payload,u=n.currentOpenChannel;return!u||u.url&&u.url!==o.url?n:gn(gn({},n),{},{frozen:!0})}case EP:{const o=t.payload,u=n.currentOpenChannel;return!u||u.url&&u.url!==o.url?n:gn(gn({},n),{},{frozen:!1})}case wP:{const o=t.payload,u=n.currentOpenChannel;return!u||u.url&&u.url!==o.url?n:gn(gn({},n),{},{currentOpenChannel:o})}case xP:{const o=t.payload,u=n==null?void 0:n.currentOpenChannel;return(u==null?void 0:u.url)===o?gn(gn({},n),{},{currentOpenChannel:null}):n}case kP:return n;case SP:return n;case TP:return n;case CP:return n;case IP:return n;case NP:return n;case AP:return n;default:return n}}const Ive={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function Nve(n,t){let{channelUrl:e,sdkInit:r,fetchingParticipants:a,userId:o,currentOpenChannel:u}=n,{sdk:h,logger:f,messagesDispatcher:m}=t;K.useEffect(()=>{if(e&&r&&h!==null&&h!==void 0&&h.openChannel){if(u&&u!==null&&u!==void 0&&u.exit){var v;(v=u.exit)===null||v===void 0||v.call(u).then(()=>{f.info("OpenChannel | useSetChannel: Exit from the previous open channel",u==null?void 0:u.url),m({type:sP,payload:u})})}f.info("OpenChannel | useSetChannel: Fetching channel",e),h.openChannel.getChannel(e).then(y=>{f.info("OpenChannel | useSetChannel: Succeeded to fetch channel",y),m({type:iP,payload:y}),y.enter().then(()=>{if(y.isOperator(o)){const w=y.createBannedUserListQuery(),x=y.createMutedUserListQuery();ow(w,f,C=>{m({type:uP,payload:{channel:y,users:C}})}),ow(x,f,C=>{m({type:j4,payload:{channel:y,users:C}})})}else y.getMyMutedInfo().then(w=>{w!=null&&w.isMuted&&m({type:j4,payload:{channel:y,users:[h==null?void 0:h.currentUser]}})});if(a){const w=y.createParticipantListQuery({limit:y.participantCount});ow(w,f,x=>{m({type:cP,payload:{channel:y,users:x}})})}}).catch(w=>{f.warning("OpenChannel | useSetChannel: Failed to enter channel",{channelUrl:e,error:w}),m({type:q4,payload:null})})}).catch(y=>{f.warning("OpenChannel | useSetChannel: Failed to fetch channel",{channelUrl:e,error:y}),m({type:q4,payload:null})})}},[e,r,a])}function Ave(n,t){let{currentOpenChannel:e,checkScrollBottom:r}=n,{sdk:a,logger:o,messagesDispatcher:u,scrollRef:h}=t;K.useEffect(()=>{var f;const m=I_();if(e&&e.url&&a!==null&&a!==void 0&&(f=a.openChannel)!==null&&f!==void 0&&f.addOpenChannelHandler){var v;o.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",m);const y={onMessageReceived:(x,C)=>{const A=r(),L=x==null?void 0:x.url;if(o.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:L,message:C}),u({type:hP,payload:{channel:x,message:C}}),A)try{setTimeout(()=>{Eu(0,h)})}catch{o.warning("OpenChannel | onMessageReceived | scroll to end failed")}},onMessageUpdated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:A,message:C}),u({type:i1,payload:{channel:x,message:C}})},onMessageDeleted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:A,messageId:C}),u({type:a1,payload:{channel:x,messageId:C}})},onOperatorUpdated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:A,operators:C}),u({type:fP,payload:{channel:x,operators:C}})},onUserEntered:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:A,user:C}),u({type:_P,payload:{channel:x,user:C}})},onUserExited:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:A,user:C}),u({type:mP,payload:{channel:x,user:C}})},onUserMuted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:A,user:C}),u({type:Uk,payload:{channel:x,user:C}})},onUserUnmuted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:A,user:C}),u({type:vP,payload:{channel:x,user:C}})},onUserBanned:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:A,user:C}),u({type:gP,payload:{channel:x,user:C,currentUser:a==null?void 0:a.currentUser}})},onUserUnbanned:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:A,user:C}),u({type:bP,payload:{channel:x,user:C}})},onChannelFrozen:x=>{o.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",x),u({type:yP,payload:x})},onChannelUnfrozen:x=>{o.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",x),u({type:EP,payload:x})},onChannelChanged:x=>{o.info("OpenChannel | useHandleChannelEvents: onChannelChanged",x),u({type:wP,payload:x})},onMetaDataCreated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:A,metaData:C}),u({type:kP,payload:{channel:x,metaData:C}})},onMetaDataUpdated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:A,metaData:C}),u({type:SP,payload:{channel:x,metaData:C}})},onMetaDataDeleted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:A,metaDataKeys:C}),u({type:TP,payload:{channel:x,metaDataKeys:C}})},onMetaCounterCreated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:A,metaCounter:C}),u({type:CP,payload:{channel:x,metaCounter:C}})},onMetaCounterUpdated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:A,metaCounter:C}),u({type:IP,payload:{channel:x,metaCounter:C}})},onMetaCounterDeleted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:A,metaCounterKeys:C}),u({type:NP,payload:{channel:x,metaCounterKeys:C}})},onMentionReceived:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:A,message:C}),u({type:AP,payload:{channel:x,message:C}})},onChannelDeleted:(x,C)=>{C===Zt.OPEN&&(e==null?void 0:e.url)===x&&u({type:xP,payload:x})}},w=new bue(y);a==null||(v=a.openChannel)===null||v===void 0||v.addOpenChannelHandler(m,w)}return()=>{var y;a!=null&&(y=a.openChannel)!==null&&y!==void 0&&y.removeOpenChannelHandler&&(o.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",m),a.openChannel.removeOpenChannelHandler(m))}},[e])}function Ove(n,t){let{currentOpenChannel:e,userFilledMessageListParams:r}=n,{logger:a,messagesDispatcher:o,scrollRef:u}=t;K.useEffect(()=>{if(a.info("OpenChannel | useInitialMessagesFetch: Setup started",e),o({type:aP,payload:null}),e&&e.getMessagesByTimestamp){const h={nextResultSize:0,prevResultSize:30,isInclusive:!0,includeReactions:!1};r&&(Object.keys(r).forEach(f=>{h[f]=r[f]}),a.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),a.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:e,messageListParams:h}),o({type:oP,payload:null}),e.getMessagesByTimestamp(new Date().getTime(),h).then(f=>{a.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",f);const m=f&&f.length>0,v=m?f[0].createdAt:null;o({type:Lk,payload:{currentOpenChannel:e,messages:f,hasMore:m,lastMessageTimestamp:v}}),setTimeout(()=>{Eu(0,u)})}).catch(f=>{a.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",f),o({type:yb,payload:{currentOpenChannel:e,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[e,r])}function Rve(n,t){let{currentOpenChannel:e,lastMessageTimestamp:r,fetchMore:a}=n,{sdk:o,logger:u,messagesDispatcher:h,hasMore:f,userFilledMessageListParams:m}=t;return K.useCallback(v=>{if(a&&f){u.info("OpenChannel | useScrollCallback: start");const y={prevResultSize:30,includeReactions:!1,nextResultSize:0};m&&(Object.keys(m).forEach(w=>{y[w]=m[w]}),u.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",m)),u.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:e,messageListParams:y}),e.getMessagesByTimestamp(r||new Date().getTime(),y).then(w=>{u.info("OpenChannel | useScrollCallback: Fetching messages succeeded",w);const x=w&&w.length>0,C=x?w[0].createdAt:null;h({type:Lk,payload:{currentOpenChannel:e,messages:w,hasMore:x,lastMessageTimestamp:C}}),setTimeout(()=>{v()})}).catch(w=>{u.error("OpenChannel | useScrollCallback: Fetching messages failed",w),h({type:yb,payload:{currentOpenChannel:e,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[e,r,a,o])}function Mve(n,t){let{conversationScrollRef:e}=n,{logger:r}=t;return K.useCallback(()=>{let a=!0;if(e&&e!==null&&e!==void 0&&e.current)try{const o=e.current;a=o.scrollHeight<=o.scrollTop+o.clientHeight}catch(o){r.error("OpenChannel | useCheckScrollBottom",o)}return a},[e])}function Dve(n,t){let{currentOpenChannel:e,onBeforeSendUserMessage:r,checkScrollBottom:a,messageInputRef:o}=n,{sdk:u,logger:h,messagesDispatcher:f,scrollRef:m}=t;return K.useCallback(()=>{if(u){const v=o.current.innerText,y=L=>({message:L});r&&typeof r=="function"&&h.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",r);const x=r?r(v):y(v);h.info("OpenChannel | useSendMessageCallback: Sending message has started",x);const C=a();let A=null;e.sendUserMessage(x).onPending(L=>{f({type:y_,payload:{message:L,channel:e}}),A=L}).onSucceeded(L=>{h.info("OpenChannel | useSendMessageCallback: Sending message succeeded",L),f({type:wu,payload:L}),C&&setTimeout(()=>{Eu(0,m)})}).onFailed(L=>{h.warning("OpenChannel | useSendMessageCallback: Sending message failed",L),f({type:C0,payload:A}),(L==null?void 0:L.code)===900041&&f({type:Uk,payload:{channel:e,user:u.currentUser}})})}},[e,r,a,o])}function Lve(n,t){let{currentOpenChannel:e,checkScrollBottom:r,imageCompression:a={},onBeforeSendFileMessage:o}=n,{sdk:u,logger:h,messagesDispatcher:f,scrollRef:m}=t;return K.useCallback(v=>{if(u){const{compressionRate:y,resizingWidth:w,resizingHeight:x}=a,C=o&&typeof o=="function",A=v.type==="image/jpg"||v.type==="image/png"||v.type==="image/jpeg",L=y>0&&y<1,S=Yv(w)||Yv(x),k=A&&(L||S),N=O=>{const H={};return H.file=O,H};if(k)try{const O=document.createElement("img");O.src=URL.createObjectURL(v),O.onload=()=>{URL.revokeObjectURL(O.src);const H=document.createElement("canvas"),D=O.naturalWidth||O.width,T=O.naturalHeight||O.height;let M=Yv(w)||D,q=Yv(x)||T;v.type==="image/png"&&!S&&(M*=y,q*=y),H.width=M,H.height=q;const z=H.getContext("2d");z.drawImage(O,0,0,M,q),z.canvas.toBlob(re=>{const pe=new File([re],v.name,{type:v.type});C&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",o);const B=o?o(pe):N(pe);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",B);const Q=r();e.sendFileMessage(B).onPending(ie=>{f({type:y_,payload:{message:gn(gn({},ie),{},{url:URL.createObjectURL(v),requestState:"pending"}),channel:e}})}).onSucceeded(ie=>{h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",ie),f({type:wu,payload:ie}),Q&&setTimeout(()=>{Eu(0,m)})}).onFailed((ie,j)=>{h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:j,error:ie}),j.localUrl=URL.createObjectURL(v),j.file=v,f({type:C0,payload:j})})},v.type,y)}}catch(O){h.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",O)}else{C&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",o);const O=o?o(v):N(v);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",O);const H=r();e.sendFileMessage(O).onPending(D=>{f({type:y_,payload:{message:gn(gn({},D),{},{url:URL.createObjectURL(v),requestState:"pending"}),channel:e}})}).onSucceeded(D=>{h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",D),f({type:wu,payload:D}),H&&setTimeout(()=>{Eu(0,m)})}).onFailed((D,T)=>{h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:T,error:D}),T.localUrl=URL.createObjectURL(v),T.file=v,f({type:C0,payload:T})})}}},[e,o,r,a])}function Uve(n,t){let{currentOpenChannel:e,onBeforeSendUserMessage:r}=n,{logger:a,messagesDispatcher:o}=t;return K.useCallback((u,h,f)=>{const m=y=>({message:y});r&&typeof r=="function"&&a.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");const v=r?r(h):m(h);e.updateUserMessage(u,v).then(y=>{f&&f(),a.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:y,params:v}),o({type:i1,payload:{channel:e,message:y}})})},[e,r])}function Pve(n,t){let{currentOpenChannel:e}=n,{logger:r,messagesDispatcher:a}=t;return K.useCallback((o,u)=>{r.info("OpenChannel | useDeleteMessageCallback: Deleting message",o);const{sendingStatus:h}=o;if(r.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",h),h==="failed"||h==="pending")r.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",o),a({type:pP,payload:o.reqId}),u&&u();else{if(!(o.messageType==="file"||o.messageType==="user"))return;const f=o;e.deleteMessage(f).then(()=>{r.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",h),u&&u(),r.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",o),a({type:a1,payload:{channel:e,messageId:o.messageId}})}).catch(m=>{r.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",m)})}},[e])}function Fve(n,t){let{currentOpenChannel:e}=n,{logger:r,messagesDispatcher:a}=t;return K.useCallback(o=>{r.info("OpenChannel | useResendMessageCallback: Resending message has started",o);const{messageType:u,file:h}=o;o&&typeof o.isResendable=="function"&&o.isResendable?(o.requestState="pending",a({type:lP,payload:{channel:e,message:o}}),u==="user"&&o.messageType==="user"&&e.resendUserMessage(o).then(f=>{r.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",f),a({type:wu,payload:f})}).catch(f=>{r.warning("OpenChannel | useResendMessageCallback: Resending message failed",f),o.requestState="failed",a({type:C0,payload:o})}),u==="file"&&o.messageType==="file"&&e.resendFileMessage(o,h).then(f=>{r.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",f),a({type:wu,payload:f})}).catch(f=>{r.warning("OpenChannel | useResendMessageCallback: Resending file message failed",f),o.requestState="failed",a({type:C0,payload:o})})):(console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),r.warning("OpenChannel | useResendMessageCallback: Message is not resendable",o))},[e])}const Hve=5e3;function Bve(n,t){let{messagesLength:e,messageLimit:r}=n,{messagesDispatcher:a,logger:o}=t;const[u,h]=K.useState(!1);K.useEffect(()=>{u||(typeof e=="number"&&e>r&&(o.info("Trimming MessageList"),a({type:dP,payload:{messageLimit:r}})),h(!0),setTimeout(()=>{h(!1)},Hve))},[e,r])}const OP=R.createContext(void 0),$ve=n=>{var t,e,r,a,o,u;const{channelUrl:h,children:f,isMessageGroupingEnabled:m=!0,queries:v,onBeforeSendUserMessage:y,messageLimit:w,onBeforeSendFileMessage:x,onChatHeaderActionClick:C,onBackClick:A}=n,L=!1,S=oo(),k=S==null||(t=S.stores)===null||t===void 0||(e=t.sdkStore)===null||e===void 0?void 0:e.sdk,N=S==null||(r=S.stores)===null||r===void 0||(a=r.sdkStore)===null||a===void 0?void 0:a.initialized,O=S==null||(o=S.stores)===null||o===void 0||(u=o.userStore)===null||u===void 0?void 0:u.user,H=S==null?void 0:S.config,{userId:D,isOnline:T,logger:M,pubSub:q,imageCompression:z}=H,[re,pe]=K.useReducer(Cve,Ive),{allMessages:B,loading:Q,initialized:ie,currentOpenChannel:j,isInvalid:me,hasMore:ae,lastMessageTimestamp:oe,operators:ve,bannedParticipantIds:Re,mutedParticipantIds:ue}=re,he=K.useRef(null),V=K.useRef(null),Y=v==null?void 0:v.messageListParams,$=!ie||!T||Sve(j,D)||Tve(ue,D),te=K.useMemo(()=>Re.indexOf(O.userId)>=0,[h,Re,O]),Me=K.useMemo(()=>ue.indexOf(O.userId)>=0,[h,ue,O]),Ke=K.useMemo(()=>ve.map(on=>on.userId).indexOf(O.userId)>=0,[h,ve,O]);Nve({channelUrl:h,sdkInit:N,fetchingParticipants:L,userId:D,currentOpenChannel:j},{sdk:k,logger:M,messagesDispatcher:pe});const Oe=Mve({conversationScrollRef:V},{logger:M});Ave({currentOpenChannel:j,checkScrollBottom:Oe},{sdk:k,logger:M,messagesDispatcher:pe,scrollRef:V}),Ove({currentOpenChannel:j,userFilledMessageListParams:Y},{logger:M,messagesDispatcher:pe,scrollRef:V});const xe=Eve(B==null?void 0:B.length,w),Le=Rve({currentOpenChannel:j,lastMessageTimestamp:oe,fetchMore:xe},{sdk:k,logger:M,messagesDispatcher:pe,hasMore:ae,userFilledMessageListParams:Y}),Fe=Dve({currentOpenChannel:j,onBeforeSendUserMessage:y,checkScrollBottom:Oe,messageInputRef:he},{sdk:k,logger:M,messagesDispatcher:pe,scrollRef:V}),Je=Lve({currentOpenChannel:j,onBeforeSendFileMessage:x,checkScrollBottom:Oe,imageCompression:z},{sdk:k,logger:M,messagesDispatcher:pe,scrollRef:V}),en=Uve({currentOpenChannel:j,onBeforeSendUserMessage:y},{logger:M,messagesDispatcher:pe}),un=Pve({currentOpenChannel:j},{logger:M,messagesDispatcher:pe}),_n=Fve({currentOpenChannel:j},{logger:M,messagesDispatcher:pe});return Bve({messagesLength:B==null?void 0:B.length,messageLimit:w},{messagesDispatcher:pe,logger:M}),K.useEffect(()=>{const on=new Map;if(!(!q||!q.subscribe))return on.set(Ri.SEND_USER_MESSAGE,q.subscribe(Ri.SEND_USER_MESSAGE,Hn=>{const{channel:Vn,message:G}=Hn;Eu(0,V),Vn&&h===(Vn==null?void 0:Vn.url)&&pe({type:wu,payload:G})})),on.set(Ri.SEND_MESSAGE_START,q.subscribe(Ri.SEND_MESSAGE_START,Hn=>{const{channel:Vn,message:G}=Hn;Vn&&h===(Vn==null?void 0:Vn.url)&&pe({type:y_,payload:{message:G,channel:Vn}})})),on.set(Ri.SEND_FILE_MESSAGE,q.subscribe(Ri.SEND_FILE_MESSAGE,Hn=>{const{channel:Vn,message:G}=Hn;Eu(0,V),Vn&&h===(Vn==null?void 0:Vn.url)&&pe({type:wu,payload:{message:G,channel:Vn}})})),on.set(Ri.UPDATE_USER_MESSAGE,q.subscribe(Ri.UPDATE_USER_MESSAGE,Hn=>{const{channel:Vn,message:G,fromSelector:ee}=Hn;ee&&Vn&&h===(Vn==null?void 0:Vn.url)&&pe({type:i1,payload:{channel:Vn,message:G}})})),on.set(Ri.DELETE_MESSAGE,q.subscribe(Ri.DELETE_MESSAGE,Hn=>{const{channel:Vn,messageId:G}=Hn;Vn&&h===(Vn==null?void 0:Vn.url)&&pe({type:a1,payload:G})})),()=>{on&&on.forEach(Hn=>{try{Hn.remove()}catch{}})}},[h,N]),R.createElement(OP.Provider,{value:{channelUrl:h,children:f,isMessageGroupingEnabled:m,queries:v,onBeforeSendUserMessage:y,messageLimit:w,onBeforeSendFileMessage:x,onChatHeaderActionClick:C,onBackClick:A,allMessages:B,loading:Q,initialized:ie,currentOpenChannel:j,isInvalid:me,hasMore:ae,lastMessageTimestamp:oe,operators:ve,bannedParticipantIds:Re,mutedParticipantIds:ue,messageInputRef:he,conversationScrollRef:V,disabled:$,amIBanned:te,amIMuted:Me,amIOperator:Ke,checkScrollBottom:Oe,fetchMore:xe,onScroll:Le,handleSendMessage:Fe,handleFileUpload:Je,updateMessage:en,deleteMessage:un,resendMessage:_n}},R.createElement(Rk,{isOpenChannel:!0,renderUserProfile:n==null?void 0:n.renderUserProfile,disableUserProfile:n==null?void 0:n.disableUserProfile},f))},R_=()=>R.useContext(OP),zve=(n,t)=>{const{currentOpenChannel:e,disabled:r,handleSendMessage:a,handleFileUpload:o}=R_();if(!e)return;const{stringSet:h}=K.useContext(Ro),{value:f}=n;return R.createElement("div",{className:"sendbird-openchannel-footer"},R.createElement(n1,{ref:t,value:f,disabled:r,isVoiceMessageEnabled:!1,onSendMessage:a,onFileUpload:o,placeholder:r&&h.MESSAGE_INPUT__PLACE_HOLDER__DISABLED}))};var Vve=R.forwardRef(zve);const Gve=()=>{const{stringSet:n}=K.useContext(Ro);return R.createElement("div",{className:"sendbird-frozen-channel-notification"},R.createElement(Ut,{className:"sendbird-frozen-channel-notification__text",type:Pt.CAPTION_2},n.CHANNEL_FROZEN))};function qve(){const{stringSet:n}=K.useContext(Ro),{currentOpenChannel:t,onChatHeaderActionClick:e,amIOperator:r,onBackClick:a}=R_(),o=t==null?void 0:t.name,u=`${xve(t==null?void 0:t.participantCount)} ${n.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS}`,h=t==null?void 0:t.coverUrl,{isMobile:f}=Jd();return R.createElement("div",{className:"sendbird-openchannel-conversation-header"},R.createElement("div",{className:"sendbird-openchannel-conversation-header__left"},f&&R.createElement(Wt,{className:"sendbird-oepnchannel-header__icon_back",onClick:a,fillColor:Yt.PRIMARY,width:"24px",height:"24px",type:Bt.ARROW_LEFT}),h?R.createElement(eh,{className:"sendbird-openchannel-conversation-header__left__cover-image",src:h,alt:"channel cover image",width:"32px",height:"32px"}):R.createElement("div",{className:"sendbird-openchannel-conversation-header__left__cover-image--icon",style:{width:32,height:32}},R.createElement(Wt,{type:Bt.CHANNELS,fillColor:Yt.CONTENT,width:"18px",height:"18px"})),R.createElement(Ut,{className:"sendbird-openchannel-conversation-header__left__title",type:Pt.H_2,color:At.ONBACKGROUND_1},o||n.NO_TITLE),R.createElement(Ut,{className:"sendbird-openchannel-conversation-header__left__sub-title",type:Pt.BODY_2,color:At.ONBACKGROUND_2},u||n.NO_TITLE)),R.createElement("div",{className:"sendbird-openchannel-conversation-header__right"},R.createElement(rc,{className:"sendbird-openchannel-conversation-header__right__trigger",width:"32px",height:"32px",onClick:e},R.createElement(Wt,{type:r?Bt.INFO:Bt.MEMBERS,fillColor:Yt.PRIMARY,width:"24px",height:"24px"}))))}const Eb=n=>{if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",n);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){const t=document.createElement("textarea");t.textContent=n,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1},Pk={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},M_=n=>n.sender||n._sender,Fk=n=>n===Pk.SUCCEEDED,s1=n=>n===Pk.PENDING,D_=n=>n===Pk.FAILED,Hk=(n,t)=>M_(n).userId===t,o1=n=>{var t;let{message:e}=n;return(e==null?void 0:e.messageType)==="user"&&(e==null||(t=e.message)===null||t===void 0?void 0:t.length)>0},lc=n=>{let{message:t,status:e,userId:r}=n;return Hk(t,r)&&D_(e)&&(t==null?void 0:t.isResendable())},l1=n=>{var t;let{message:e,status:r,userId:a}=n;return Hk(e,a)&&Fk(r)&&(e==null||(t=e.isUserMessage)===null||t===void 0?void 0:t.call(e))},Gd=n=>{let{message:t,userId:e}=n;return Hk(t,e)},jve=n=>{var t;let{message:e,status:r}=n;return!!(e!=null&&(t=e.isFileMessage)!==null&&t!==void 0&&t.call(e)&&Fk(r))},c1=n=>{const{message:t,status:e,userId:r}=n;return t.messageType==="user"?Gd({message:t,status:e,userId:r})||l1({message:t,status:e,userId:r})||o1({message:t,status:e,userId:r})||lc({message:t,status:e,userId:r}):Gd({message:t,status:e,userId:r})||lc({message:t,status:e,userId:r})},u1=n=>{var t,e;const{message:r,parentRef:a,resendMessage:o,showEdit:u,showRemove:h,copyToClipboard:f,hideMenu:m,isEphemeral:v=!1}=n,y=r,w=r==null?void 0:r.sendingStatus,{stringSet:x}=M0(),C=(t=oo())===null||t===void 0||(e=t.config)===null||e===void 0?void 0:e.userId,A=r;return R.createElement(ml,{isOpen:!0,menuItems:()=>R.createElement(_l,{className:"sendbird-openchannel__mobile-menu",parentRef:a,parentContainRef:a,closeDropdown:m},o1({message:y,userId:C,status:w})&&R.createElement(ca,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:()=>{f()}},R.createElement(R.Fragment,null,x.CONTEXT_MENU_DROPDOWN__COPY)),!v&&l1({message:r,userId:C,status:w})&&R.createElement(ca,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:()=>{u()}},R.createElement(R.Fragment,null,x.CONTEXT_MENU_DROPDOWN__EDIT)),lc({message:r,userId:C,status:w})&&R.createElement(ca,{onClick:()=>{o()}},R.createElement(R.Fragment,null,x.CONTEXT_MENU_DROPDOWN__RESEND)),!v&&Gd({message:r,userId:C,status:w})&&R.createElement(ca,{onClick:()=>{h()}},R.createElement(R.Fragment,null,x.CONTEXT_MENU_DROPDOWN__DELETE)),jve({message:r,status:w})&&R.createElement(ca,{onClick:()=>{m()}},R.createElement("a",{className:"sendbird-openchannel__mobile-menu-hyperlink",rel:"noopener noreferrer",href:A==null?void 0:A.url,target:"_blank"},x.CONTEXT_MENU_DROPDOWN__SAVE)))})};function Kve(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,userId:o,resendMessage:u,disabled:h,showEdit:f,showRemove:m,chainTop:v}=n;if(!e||e.messageType!=="user")return null;const{stringSet:y,dateLocale:w}=M0(),{disableUserProfile:x,renderUserProfile:C}=K.useContext(D0),A=K.useRef(null),L=K.useRef(null),S=K.useRef(null),k=K.useRef(null),[N,O]=K.useState({}),[H,D]=K.useState(!1),T=e==null?void 0:e.sendingStatus,M=s1(T),q=D_(T),z=M_(e);K.useEffect(()=>{var B;(A==null||(B=A.current)===null||B===void 0?void 0:B.clientHeight)>36?O({top:"8px "}):O({top:"2px"})},[window.innerWidth]);const re=e1({onLongPress:()=>{D(!0)}}),{isMobile:pe}=Jd();return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-user-message"].join(" "),ref:A},R.createElement("div",{className:"sendbird-openchannel-user-message__left"},!v&&R.createElement(ml,{menuTrigger:B=>R.createElement(eh,{className:"sendbird-openchannel-user-message__left__avatar",src:z.profileUrl||"",ref:L,width:"28px",height:"28px",onClick:()=>{x||B()}}),menuItems:B=>R.createElement(_l,{parentRef:L,parentContainRef:L,closeDropdown:B,style:{paddingTop:"0px",paddingBottom:"0px"}},C?C({user:z,close:B}):R.createElement(N_,{user:z,onSuccess:B,disableMessaging:!0}))})),R.createElement("div",{className:"sendbird-openchannel-user-message__right"},!v&&R.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},R.createElement(Ut,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:Pt.CAPTION_2,color:r?At.SECONDARY_3:At.ONBACKGROUND_2},z&&(z.friendName||z.nickname||z.userId)),R.createElement(Ut,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:Pt.CAPTION_3,color:At.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&L0(e==null?void 0:e.createdAt,"p",{locale:w}))),R.createElement("div",b0({},pe?gn({},re):{},{className:"sendbird-openchannel-user-message__right__bottom",ref:k}),R.createElement(Ut,{className:"sendbird-openchannel-user-message__right__bottom__message",type:Pt.BODY_1,color:At.ONBACKGROUND_1},e==null?void 0:e.message,fhe(e)&&R.createElement(Ut,{key:I_(),type:Pt.BODY_1,color:At.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"},` ${y.MESSAGE_EDITED} `))),(M||q)&&R.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},M&&R.createElement(A_,{width:"16px",height:"16px"},R.createElement(Wt,{className:"sendbird-openchannel-user-message__right__tail__pending",type:Bt.SPINNER,fillColor:Yt.PRIMARY,width:"16px",height:"16px"})),q&&R.createElement(Wt,{className:"sendbird-openchannel-user-message__right__tail__failed",type:Bt.ERROR,fillColor:Yt.ERROR,width:"16px",height:"16px"}))),!pe&&R.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:S,style:N},R.createElement(ml,{menuTrigger:B=>c1({message:e,userId:o,status:T})&&R.createElement(rc,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:()=>{B()}},R.createElement(Wt,{type:Bt.MORE,fillColor:Yt.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:B=>R.createElement(_l,{parentRef:S,parentContainRef:S,closeDropdown:B,openLeft:!0},o1({message:e,userId:o,status:T})&&R.createElement(ca,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:()=>{Eb(e.message),B()}},y.CONTEXT_MENU_DROPDOWN__COPY),!a&&l1({message:e,userId:o,status:T})&&R.createElement(ca,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:()=>{h||(f(!0),B())}},y.CONTEXT_MENU_DROPDOWN__EDIT),lc({message:e,userId:o,status:T})&&R.createElement(ca,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:()=>{u(e),B()}},y.CONTEXT_MENU_DROPDOWN__RESEND),!a&&Gd({message:e,userId:o,status:T})&&R.createElement(ca,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:()=>{h||(m(!0),B())}},y.CONTEXT_MENU_DROPDOWN__DELETE))})),H&&R.createElement(u1,{message:e,parentRef:k,hideMenu:()=>{D(!1)},showRemove:()=>{D(!1),m(!0)},showEdit:()=>{D(!1),f(!0)},copyToClipboard:()=>{D(!1),Eb(e==null?void 0:e.message)},resendMessage:()=>{D(!1),u(e)}}))}function Wve(n){let{className:t,message:e}=n;return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-admin-message"].join(" ")},R.createElement(Ut,{className:"sendbird-openchannel-admin-message__text",type:Pt.CAPTION_2,color:At.ONBACKGROUND_2},e.message||""))}const Qve=n=>{const{ogMetaData:t}=n;if(!t)return!1;const{url:e}=t;return!!e};function Yve(n){let{message:t,isOperator:e,isEphemeral:r=!1,className:a,disabled:o,showEdit:u,showRemove:h,resendMessage:f,chainTop:m,userId:v}=n;if(!t||t.messageType!=="user")return null;const y=()=>{if(Qve(t)){const{url:me}=x;window.open(me)}},w=t==null?void 0:t.sendingStatus,{ogMetaData:x}=t,{defaultImage:C}=x,{stringSet:A,dateLocale:L}=M0(),{disableUserProfile:S,renderUserProfile:k}=K.useContext(D0),[N,O]=K.useState({}),[H,D]=K.useState(!1),T=e1({onLongPress:()=>D(!0),onClick:y},{delay:300}),M=K.useRef(null),q=K.useRef(null),z=K.useRef(null),re=K.useRef(null),pe=s1(w),B=D_(w),Q=M_(t),{isMobile:ie}=Jd(),j=K.useMemo(()=>W9({messageText:t.message}),[t==null?void 0:t.updatedAt]);return K.useEffect(()=>{var me;(M==null||(me=M.current)===null||me===void 0?void 0:me.clientHeight)>36?O({top:"8px "}):O({top:"2px"})},[window.innerWidth]),R.createElement("div",{className:[...Array.isArray(a)?a:[a],"sendbird-openchannel-og-message"].join(" "),ref:M},R.createElement("div",{className:"sendbird-openchannel-og-message__top"},R.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!m&&R.createElement(ml,{menuTrigger:me=>R.createElement(eh,{className:"sendbird-openchannel-og-message__top__left__avatar",src:Q.profileUrl||"",ref:re,width:"28px",height:"28px",onClick:()=>{S||me()}}),menuItems:me=>R.createElement(_l,{parentRef:re,parentContainRef:re,closeDropdown:me,style:{paddingTop:"0px",paddingBottom:"0px"}},k?k({user:Q,close:me}):R.createElement(N_,{user:Q,onSuccess:me,disableMessaging:!0}))})),R.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!m&&R.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},R.createElement(Ut,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:Pt.CAPTION_2,color:e?At.SECONDARY_3:At.ONBACKGROUND_2},Q&&(Q.friendName||Q.nickname||Q.userId)),R.createElement(Ut,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:Pt.CAPTION_3,color:At.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&L0(t==null?void 0:t.createdAt,"p",{locale:L}))),R.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},R.createElement(Ut,{className:"sendbird-openchannel-og-message__top__right__description__message",type:Pt.BODY_1,color:At.ONBACKGROUND_1},R.createElement(ome,{tokens:j}),(t==null?void 0:t.updatedAt)>0&&R.createElement(Ut,{key:I_(),className:"sendbird-openchannel-og-message--word",type:Pt.BODY_1,color:At.ONBACKGROUND_2},A.MESSAGE_EDITED)))),!ie&&R.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:q,style:N},R.createElement(ml,{menuTrigger:me=>c1({message:t,userId:v,status:w})&&R.createElement(rc,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:()=>{me()}},R.createElement(Wt,{type:Bt.MORE,fillColor:Yt.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:me=>R.createElement(_l,{parentRef:q,parentContainRef:q,closeDropdown:me,openLeft:!0},o1({message:t,userId:v,status:w})&&R.createElement(ca,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:()=>{Eb(t.message),me()}},A.CONTEXT_MENU_DROPDOWN__COPY),!r&&l1({message:t,userId:v,status:w})&&R.createElement(ca,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:()=>{o||(u(!0),me())}},A.CONTEXT_MENU_DROPDOWN__EDIT),lc({message:t,userId:v,status:w})&&R.createElement(ca,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:()=>{f(t),me()}},A.CONTEXT_MENU_DROPDOWN__RESEND),!r&&Gd({message:t,userId:v,status:w})&&R.createElement(ca,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:()=>{o||(h(!0),me())}},A.CONTEXT_MENU_DROPDOWN__DELETE))}))),R.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},R.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag",ref:z},x.url&&R.createElement(Ut,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:Pt.CAPTION_3,color:At.ONBACKGROUND_2},x.url),x.title&&R.createElement(t1,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:x.url,type:Pt.SUBTITLE_2,color:At.PRIMARY},x.title),x.description&&R.createElement(Ut,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:Pt.BODY_2,color:At.ONBACKGROUND_1},x.description),x.url&&R.createElement("div",b0({className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:y,onKeyDown:y,tabIndex:0},ie?gn({},T):{}),C&&R.createElement(qs,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:C.url||"",alt:C.alt||"",height:"189px",defaultComponent:R.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},R.createElement(Wt,{type:Bt.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(pe||B)&&R.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},pe&&R.createElement(A_,{width:"16px",height:"16px"},R.createElement(Wt,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:Bt.SPINNER,fillColor:Yt.PRIMARY,width:"16px",height:"16px"})),B&&R.createElement(Wt,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:Bt.ERROR,fillColor:Yt.ERROR,width:"16px",height:"16px"}))),H&&R.createElement(u1,{message:t,parentRef:z,hideMenu:()=>{D(!1)},showRemove:()=>{D(!1),h(!0)},showEdit:()=>{D(!1),u(!0)},copyToClipboard:()=>{D(!1),Eb(t==null?void 0:t.message)},resendMessage:()=>{D(!1),f(t)}}))}const d0={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},xM={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Xve=n=>xM.IMAGE.indexOf(n)>=0?d0.IMAGE:xM.VIDEO.indexOf(n)>=0?d0.VIDEO:d0.UNSUPPORTED;function Zve(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,disabled:o,userId:u,chainTop:h,onClick:f,showRemove:m,resendMessage:v}=n;const{type:y,url:w,thumbnails:x,localUrl:C}=e,A=e==null?void 0:e.sendingStatus,L=x&&x.length>0&&x[0].url||null,{stringSet:S,dateLocale:k}=M0(),{disableUserProfile:N,renderUserProfile:O}=K.useContext(D0),[H,D]=K.useState(360),[T,M]=K.useState(!1),q=K.useRef(null),z=K.useRef(null),re=K.useRef(null),pe=K.useRef(null),B=e1({onLongPress:()=>{M(!0)},onClick:()=>{f(!0)}}),{isMobile:Q}=Jd(),ie=K.useMemo(()=>ve=>Re=>{let{style:ue}=Re;return R.createElement("div",{style:ue},R.createElement(Wt,{type:ve,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"}))},[]),j=Fk(A),me=s1(A),ae=D_(A),oe=M_(e);return K.useEffect(()=>{var ve;const Re=(q==null||(ve=q.current)===null||ve===void 0?void 0:ve.clientWidth)-80;D(Re>360?360:Re)},[]),R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-thumbnail-message"].join(" "),ref:q},R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!h&&R.createElement(ml,{menuTrigger:ve=>R.createElement(eh,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:oe.profileUrl||"",ref:pe,width:"28px",height:"28px",onClick:()=>{N||ve()}}),menuItems:ve=>R.createElement(_l,{parentRef:pe,parentContainRef:pe,closeDropdown:ve,style:{paddingTop:"0px",paddingBottom:"0px"}},O?O({user:oe,close:ve}):R.createElement(N_,{user:oe,onSuccess:ve,disableMessaging:!0}))})),R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!h&&R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},R.createElement(Ut,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:Pt.CAPTION_2,color:r?At.SECONDARY_3:At.ONBACKGROUND_2},oe&&(oe.friendName||oe.nickname||oe.userId)),R.createElement(Ut,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:Pt.CAPTION_3,color:At.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&L0(e.createdAt,"p",{locale:k}))),R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body",ref:z},R.createElement("div",b0({className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:()=>{j&&f(!0)},onKeyDown:()=>{j&&f(!0)},tabIndex:0},Q?gn({},B):{}),R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),{[d0.VIDEO]:w||C?R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},L?R.createElement(qs,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:L,width:H,height:"270px",alt:"image",placeHolder:ie(Bt.PLAY)}):R.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},R.createElement("source",{src:w||C,type:y})),R.createElement(Wt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:Bt.PLAY,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"})):R.createElement(Wt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:Bt.PHOTO,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"}),[d0.IMAGE]:w||C?R.createElement(qs,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:L||w||C,alt:"image",width:H,height:"270px",placeHolder:ie(Bt.PHOTO)}):R.createElement(Wt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:Bt.PHOTO,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"}),[d0.UNSUPPORTED]:R.createElement(Wt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:Bt.PHOTO,fillColor:Yt.ON_BACKGROUND_2,width:"56px",height:"56px"})}[Xve(y)])),(me||ae)&&R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},me&&R.createElement(A_,{width:"16px",height:"16px"},R.createElement(Wt,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:Bt.SPINNER,fillColor:Yt.PRIMARY,width:"16px",height:"16px"})),ae&&R.createElement(Wt,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:Bt.ERROR,fillColor:Yt.ERROR,width:"16px",height:"16px"}))),!Q&&R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:re},(lc({message:e,userId:u,status:A})||!a)&&R.createElement(ml,{menuTrigger:ve=>c1({message:e,userId:u,status:A})&&R.createElement(rc,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:ve},R.createElement(Wt,{type:Bt.MORE,fillColor:Yt.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:ve=>R.createElement(_l,{parentRef:re,parentContainRef:re,closeDropdown:ve,openLeft:!0},lc({message:e,userId:u,status:A})&&R.createElement(ca,{onClick:()=>{v(e),ve()}},S.CONTEXT_MENU_DROPDOWN__RESEND),!a&&Gd({message:e,userId:u,status:A})&&R.createElement(ca,{onClick:()=>{o||(m(!0),ve())}},S.CONTEXT_MENU_DROPDOWN__DELETE))})),T&&R.createElement(u1,{message:e,parentRef:z,hideMenu:()=>{M(!1)},showRemove:()=>{M(!1),m(!0)},resendMessage:()=>{M(!1),v(e)}}))}const kM=n=>{const t=/(\.mp3)$/i,e=/(\.gif)$/i;return t.test(n)?Bt.FILE_AUDIO:e.test(n)?Bt.GIF:Bt.FILE_DOCUMENT},Jve=(n,t)=>{if(n==null)return"";if(n.length<=t)return n;const e="...",r=e.length,a=t-r,o=Math.ceil(a/2),u=Math.floor(a/2);return n.substr(0,o)+e+n.substr(n.length-u)};function ege(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,userId:o,disabled:u,chainTop:h,showRemove:f,resendMessage:m}=n;const v=e==null?void 0:e.sendingStatus,{dateLocale:y,stringSet:w}=M0(),x=K.useRef(null),C=K.useRef(null),A=K.useRef(null),{disableUserProfile:L,renderUserProfile:S}=K.useContext(D0),{isMobile:k}=Jd(),N=()=>{window.open(e.url)},O=s1(v),H=D_(v),D=M_(e),[T,M]=K.useState(!1),q=e1({onLongPress:()=>{k&&M(!0)},onClick:N},{delay:300});return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-file-message"].join(" "),ref:C},R.createElement("div",{className:"sendbird-openchannel-file-message__left"},!h&&R.createElement(ml,{menuTrigger:z=>R.createElement(eh,{className:"sendbird-openchannel-file-message__left__avatar",src:D.profileUrl||"",ref:A,width:"28px",height:"28px",onClick:()=>{L||z()}}),menuItems:z=>R.createElement(_l,{parentRef:A,parentContainRef:A,closeDropdown:z,style:{paddingTop:"0px",paddingBottom:"0px"}},S?S({user:D,close:z}):R.createElement(N_,{user:D,onSuccess:z,disableMessaging:!0}))})),R.createElement("div",{className:"sendbird-openchannel-file-message__right"},!h&&R.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},R.createElement(Ut,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:Pt.CAPTION_2,color:r?At.SECONDARY_3:At.ONBACKGROUND_2},D&&(D.friendName||D.nickname||D.userId)),R.createElement(Ut,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:Pt.CAPTION_3,color:At.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&L0(e.createdAt,"p",{locale:y}))),R.createElement("div",b0({className:"sendbird-openchannel-file-message__right__body"},k?gn({},q):{}),kM(e.url)&&R.createElement(Wt,{className:"sendbird-openchannel-file-message__right__body__icon",type:kM(e.url),fillColor:Yt.PRIMARY,width:"48px",height:"48px"}),R.createElement(o_e,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:N},R.createElement(Ut,{type:Pt.BODY_1,color:At.ONBACKGROUND_1},Jve(e.name||e.url,40)))),(O||H)&&R.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},O&&R.createElement(A_,{width:"16px",height:"16px"},R.createElement(Wt,{className:"sendbird-openchannel-file-message__right__tail__pending",type:Bt.SPINNER,fillColor:Yt.PRIMARY,width:"16px",height:"16px"})),H&&R.createElement(Wt,{className:"sendbird-openchannel-file-message__right__tail__failed",type:Bt.ERROR,fillColor:Yt.ERROR,width:"16px",height:"16px"}))),!k&&R.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:x},(lc({message:e,userId:o,status:v})||!a)&&R.createElement(ml,{menuTrigger:z=>c1({message:e,userId:o,status:v})&&R.createElement(rc,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:z},R.createElement(Wt,{type:Bt.MORE,width:"24px",height:"24px"})),menuItems:z=>R.createElement(_l,{parentRef:x,parentContainRef:x,closeDropdown:z,openLeft:!0},lc({message:e,userId:o,status:v})&&R.createElement(ca,{onClick:()=>{u||(m(e),z())}},w.CONTEXT_MENU_DROPDOWN__RESEND),!a&&Gd({message:e,userId:o,status:v})&&R.createElement(ca,{onClick:()=>{u||(f(!0),z())}},w.CONTEXT_MENU_DROPDOWN__DELETE))})),T&&R.createElement(u1,{message:e,hideMenu:()=>{M(!1)},parentRef:C,showRemove:()=>{M(!1),f(!0)}}))}function nge(n){let{onCloseModal:t,onDeleteMessage:e}=n;const{stringSet:r}=K.useContext(Ro);return R.createElement(Tfe,{onCancel:t,onSubmit:e,submitText:r.MESSAGE_MENU__DELETE,titleText:r.MODAL__DELETE_MESSAGE__TITLE})}const Bk={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},tge=n=>Bk.IMAGE.indexOf(n)>=0,rge=n=>Bk.VIDEO.indexOf(n)>=0;gn({},Bk);const Qs={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},SM={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},ige=n=>{var t,e;return n!=null&&(t=n.isUserMessage)!==null&&t!==void 0&&t.call(n)||(n==null?void 0:n.messageType)==="user"?n!=null&&n.ogMetaData?Qs.OG:Qs.USER:n!=null&&(e=n.isAdminMessage)!==null&&e!==void 0&&e.call(n)?Qs.ADMIN:(n==null?void 0:n.messageType)==="file"?tge(n.type)||rge(n.type)?Qs.THUMBNAIL:Qs.FILE:Qs.UNKNOWN};function age(n){var t;const{message:e,chainTop:r,chainBottom:a,hasSeparator:o,renderMessage:u}=n,{currentOpenChannel:h,deleteMessage:f,updateMessage:m,resendMessage:v}=R_(),{dateLocale:y}=M0(),w=h==null?void 0:h.isFrozen,x=oo(),C=x==null||(t=x.config)===null||t===void 0?void 0:t.userId;let A=null;(e==null?void 0:e.messageType)!=="admin"&&(A=e==null?void 0:e.sender);const L=K.useMemo(()=>q=>R.createElement(R.Fragment,null,u?u(q):null),[e,u]),[S,k]=K.useState(!1),[N,O]=K.useState(!1),[H,D]=K.useState(!1),T=K.useRef(null);let M=!1;return A&&(e==null?void 0:e.messageType)!=="admin"&&(M=C===A.userId||(e==null?void 0:e.sendingStatus)===SM.PENDING||(e==null?void 0:e.sendingStatus)===SM.FAILED),u&&L?R.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},R.createElement(L,{message:e,chainTop:r,chainBottom:a})):(e==null?void 0:e.messageType)==="user"&&S?R.createElement(n1,{isEdit:!0,disabled:w,ref:T,message:e,name:e==null?void 0:e.messageId,onUpdateMessage:q=>{let{messageId:z,message:re}=q;m(z,re),k(!1)},onCancelEdit:()=>{k(!1)}}):R.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},o&&(e==null?void 0:e.createdAt)&&R.createElement(__e,null,R.createElement(Ut,{type:Pt.CAPTION_2,color:At.ONBACKGROUND_2},L0(e==null?void 0:e.createdAt,"MMMM dd, yyyy",{locale:y}))),{[Qs.ADMIN]:(()=>{if((e==null?void 0:e.messageType)==="admin")return R.createElement(Wve,{message:e})})(),[Qs.FILE]:(()=>{if((e==null?void 0:e.messageType)==="file"){var q;return R.createElement(ege,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(q=e.sender)===null||q===void 0?void 0:q.userId),isEphemeral:h==null?void 0:h.isEphemeral,disabled:w,userId:C,showRemove:O,resendMessage:v,chainTop:r,chainBottom:a})}})(),[Qs.OG]:(()=>{if((e==null?void 0:e.messageType)==="user"){var q;return R.createElement(Yve,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(q=e.sender)===null||q===void 0?void 0:q.userId),isEphemeral:h==null?void 0:h.isEphemeral,userId:C,showEdit:k,disabled:w,showRemove:O,resendMessage:v,chainTop:r,chainBottom:a})}})(),[Qs.THUMBNAIL]:(()=>{if((e==null?void 0:e.messageType)==="file"){var q;return R.createElement(Zve,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(q=e.sender)===null||q===void 0?void 0:q.userId),isEphemeral:h==null?void 0:h.isEphemeral,disabled:w,userId:C,showRemove:O,resendMessage:v,onClick:D,chainTop:r,chainBottom:a})}})(),[Qs.USER]:(()=>{if((e==null?void 0:e.messageType)==="user"){var q;return R.createElement(Kve,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(q=e.sender)===null||q===void 0?void 0:q.userId),isEphemeral:h==null?void 0:h.isEphemeral,userId:C,disabled:w,showEdit:k,showRemove:O,resendMessage:v,chainTop:r,chainBottom:a})}})(),[Qs.UNKNOWN]:(()=>{})()}[ige(e)],N&&R.createElement(nge,{onCloseModal:()=>O(!1),onDeleteMessage:()=>{(e==null?void 0:e.messageType)!=="admin"&&f(e)}}),H&&(e==null?void 0:e.messageType)==="file"&&R.createElement(dme,{onClose:()=>D(!1),message:e,onDelete:()=>f(e),isByMe:M}))}function sge(n,t){const{isMessageGroupingEnabled:e=!0,allMessages:r,hasMore:a,onScroll:o}=R_(),h=oo().config.userId,f=t||K.useRef(null),[m,v]=K.useState(!1),y=()=>{f&&f.current&&(f.current.scrollTo(0,f.current.scrollHeight),v(!1))},w=cme({setShowScrollDownButton:v,hasMore:a,onScroll:o,scrollRef:f}),x=K.useMemo(()=>{var C;return r.length>0?r.map((A,L)=>{var S;const k=r[L-1],N=r[L-1],O=k&&k.createdAt,H=A==null?void 0:A.createdAt,D=!(O&&a_e(H,O)),[T,M]=e?wve(k,A,N):[!1,!1],q=(A==null||(S=A.sender)===null||S===void 0?void 0:S.userId)===h,z=(A==null?void 0:A.messageId)||(A==null?void 0:A.reqId);return R.createElement(tme,{message:A,isByMe:q,key:z},R.createElement(age,{message:A,chainTop:T,chainBottom:M,hasSeparator:D,renderMessage:n==null?void 0:n.renderMessage}))}):(n==null||(C=n.renderPlaceHolderEmptyList)===null||C===void 0?void 0:C.call(n))||R.createElement(Tg,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:Si.NO_MESSAGES})},[r]);return R.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},R.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},R.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),R.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",r.length>0?"":"no-messages"].join(" "),onScroll:w,ref:f},x)),m&&R.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:y,onKeyDown:y,tabIndex:0,role:"button"},R.createElement(Wt,{width:"24px",height:"24px",type:Bt.CHEVRON_DOWN,fillColor:Yt.CONTENT})))}var oge=R.forwardRef(sge);const Xv="sendbird-openchannel-conversation",lge=n=>{let{renderMessage:t,renderHeader:e,renderInput:r,renderPlaceHolderEmptyList:a,renderPlaceHolderError:o,renderPlaceHolderLoading:u}=n;const{currentOpenChannel:h,amIBanned:f,loading:m,isInvalid:v,messageInputRef:y,conversationScrollRef:w}=R_();return!h||!(h!=null&&h.url)||f?(o==null?void 0:o())||R.createElement("div",{className:Xv},R.createElement(Tg,{type:Si.NO_CHANNELS})):m?(u==null?void 0:u())||R.createElement("div",{className:Xv},R.createElement(Tg,{type:Si.LOADING})):v?(o==null?void 0:o())||R.createElement("div",{className:Xv},R.createElement(Tg,{type:Si.WRONG})):R.createElement("div",{className:Xv},(e==null?void 0:e())||R.createElement(qve,null),(h==null?void 0:h.isFrozen)&&R.createElement(Gve,null),R.createElement(oge,{ref:w,renderMessage:t,renderPlaceHolderEmptyList:a}),(r==null?void 0:r())||R.createElement(Vve,{ref:y}))},cge=n=>R.createElement($ve,{channelUrl:n==null?void 0:n.channelUrl,isMessageGroupingEnabled:n==null?void 0:n.isMessageGroupingEnabled,queries:n==null?void 0:n.queries,messageLimit:n==null?void 0:n.messageLimit,onBeforeSendUserMessage:n==null?void 0:n.onBeforeSendUserMessage,onBeforeSendFileMessage:n==null?void 0:n.onBeforeSendFileMessage,onChatHeaderActionClick:n==null?void 0:n.onChatHeaderActionClick,disableUserProfile:n==null?void 0:n.disableUserProfile,renderUserProfile:n==null?void 0:n.renderUserProfile,onBackClick:n==null?void 0:n.onBackClick},R.createElement(lge,{renderMessage:n==null?void 0:n.renderMessage,renderHeader:n==null?void 0:n.renderHeader,renderInput:n==null?void 0:n.renderInput,renderPlaceHolderEmptyList:n==null?void 0:n.renderPlaceHolderEmptyList,renderPlaceHolderError:n==null?void 0:n.renderPlaceHolderError,renderPlaceHolderLoading:n==null?void 0:n.renderPlaceHolderLoading}));let Zv;const uge=new Uint8Array(16);function dge(){if(!Zv&&(Zv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zv(uge)}var hge=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function pge(n){return typeof n=="string"&&hge.test(n)}const ta=[];for(let n=0;n<256;++n)ta.push((n+256).toString(16).slice(1));function RP(n,t=0){return(ta[n[t+0]]+ta[n[t+1]]+ta[n[t+2]]+ta[n[t+3]]+"-"+ta[n[t+4]]+ta[n[t+5]]+"-"+ta[n[t+6]]+ta[n[t+7]]+"-"+ta[n[t+8]]+ta[n[t+9]]+"-"+ta[n[t+10]]+ta[n[t+11]]+ta[n[t+12]]+ta[n[t+13]]+ta[n[t+14]]+ta[n[t+15]]).toLowerCase()}function fge(n){if(!pge(n))throw TypeError("Invalid UUID");let t;const e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function _ge(n){n=unescape(encodeURIComponent(n));const t=[];for(let e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}const mge="6ba7b810-9dad-11d1-80b4-00c04fd430c8",vge="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function MP(n,t,e){function r(a,o,u,h){var f;if(typeof a=="string"&&(a=_ge(a)),typeof o=="string"&&(o=fge(o)),((f=o)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+a.length);if(m.set(o),m.set(a,o.length),m=e(m),m[6]=m[6]&15|t,m[8]=m[8]&63|128,u){h=h||0;for(let v=0;v<16;++v)u[h+v]=m[v];return u}return RP(m)}try{r.name=n}catch{}return r.DNS=mge,r.URL=vge,r}function gge(n){if(typeof n=="string"){const t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return bge(yge(Ege(n),n.length*8))}function bge(n){const t=[],e=n.length*32,r="0123456789abcdef";for(let a=0;a<e;a+=8){const o=n[a>>5]>>>a%32&255,u=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);t.push(u)}return t}function DP(n){return(n+64>>>9<<4)+14+1}function yge(n,t){n[t>>5]|=128<<t%32,n[DP(t)-1]=t;let e=1732584193,r=-271733879,a=-1732584194,o=271733878;for(let u=0;u<n.length;u+=16){const h=e,f=r,m=a,v=o;e=xa(e,r,a,o,n[u],7,-680876936),o=xa(o,e,r,a,n[u+1],12,-389564586),a=xa(a,o,e,r,n[u+2],17,606105819),r=xa(r,a,o,e,n[u+3],22,-1044525330),e=xa(e,r,a,o,n[u+4],7,-176418897),o=xa(o,e,r,a,n[u+5],12,1200080426),a=xa(a,o,e,r,n[u+6],17,-1473231341),r=xa(r,a,o,e,n[u+7],22,-45705983),e=xa(e,r,a,o,n[u+8],7,1770035416),o=xa(o,e,r,a,n[u+9],12,-1958414417),a=xa(a,o,e,r,n[u+10],17,-42063),r=xa(r,a,o,e,n[u+11],22,-1990404162),e=xa(e,r,a,o,n[u+12],7,1804603682),o=xa(o,e,r,a,n[u+13],12,-40341101),a=xa(a,o,e,r,n[u+14],17,-1502002290),r=xa(r,a,o,e,n[u+15],22,1236535329),e=ka(e,r,a,o,n[u+1],5,-165796510),o=ka(o,e,r,a,n[u+6],9,-1069501632),a=ka(a,o,e,r,n[u+11],14,643717713),r=ka(r,a,o,e,n[u],20,-373897302),e=ka(e,r,a,o,n[u+5],5,-701558691),o=ka(o,e,r,a,n[u+10],9,38016083),a=ka(a,o,e,r,n[u+15],14,-660478335),r=ka(r,a,o,e,n[u+4],20,-405537848),e=ka(e,r,a,o,n[u+9],5,568446438),o=ka(o,e,r,a,n[u+14],9,-1019803690),a=ka(a,o,e,r,n[u+3],14,-187363961),r=ka(r,a,o,e,n[u+8],20,1163531501),e=ka(e,r,a,o,n[u+13],5,-1444681467),o=ka(o,e,r,a,n[u+2],9,-51403784),a=ka(a,o,e,r,n[u+7],14,1735328473),r=ka(r,a,o,e,n[u+12],20,-1926607734),e=Sa(e,r,a,o,n[u+5],4,-378558),o=Sa(o,e,r,a,n[u+8],11,-2022574463),a=Sa(a,o,e,r,n[u+11],16,1839030562),r=Sa(r,a,o,e,n[u+14],23,-35309556),e=Sa(e,r,a,o,n[u+1],4,-1530992060),o=Sa(o,e,r,a,n[u+4],11,1272893353),a=Sa(a,o,e,r,n[u+7],16,-155497632),r=Sa(r,a,o,e,n[u+10],23,-1094730640),e=Sa(e,r,a,o,n[u+13],4,681279174),o=Sa(o,e,r,a,n[u],11,-358537222),a=Sa(a,o,e,r,n[u+3],16,-722521979),r=Sa(r,a,o,e,n[u+6],23,76029189),e=Sa(e,r,a,o,n[u+9],4,-640364487),o=Sa(o,e,r,a,n[u+12],11,-421815835),a=Sa(a,o,e,r,n[u+15],16,530742520),r=Sa(r,a,o,e,n[u+2],23,-995338651),e=Ta(e,r,a,o,n[u],6,-198630844),o=Ta(o,e,r,a,n[u+7],10,1126891415),a=Ta(a,o,e,r,n[u+14],15,-1416354905),r=Ta(r,a,o,e,n[u+5],21,-57434055),e=Ta(e,r,a,o,n[u+12],6,1700485571),o=Ta(o,e,r,a,n[u+3],10,-1894986606),a=Ta(a,o,e,r,n[u+10],15,-1051523),r=Ta(r,a,o,e,n[u+1],21,-2054922799),e=Ta(e,r,a,o,n[u+8],6,1873313359),o=Ta(o,e,r,a,n[u+15],10,-30611744),a=Ta(a,o,e,r,n[u+6],15,-1560198380),r=Ta(r,a,o,e,n[u+13],21,1309151649),e=Ta(e,r,a,o,n[u+4],6,-145523070),o=Ta(o,e,r,a,n[u+11],10,-1120210379),a=Ta(a,o,e,r,n[u+2],15,718787259),r=Ta(r,a,o,e,n[u+9],21,-343485551),e=nu(e,h),r=nu(r,f),a=nu(a,m),o=nu(o,v)}return[e,r,a,o]}function Ege(n){if(n.length===0)return[];const t=n.length*8,e=new Uint32Array(DP(t));for(let r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function nu(n,t){const e=(n&65535)+(t&65535);return(n>>16)+(t>>16)+(e>>16)<<16|e&65535}function wge(n,t){return n<<t|n>>>32-t}function d1(n,t,e,r,a,o){return nu(wge(nu(nu(t,n),nu(r,o)),a),e)}function xa(n,t,e,r,a,o,u){return d1(t&e|~t&r,n,t,a,o,u)}function ka(n,t,e,r,a,o,u){return d1(t&r|e&~r,n,t,a,o,u)}function Sa(n,t,e,r,a,o,u){return d1(t^e^r,n,t,a,o,u)}function Ta(n,t,e,r,a,o,u){return d1(e^(t|~r),n,t,a,o,u)}MP("v3",48,gge);const xge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var TM={randomUUID:xge};function kge(n,t,e){if(TM.randomUUID&&!t&&!n)return TM.randomUUID();n=n||{};const r=n.random||(n.rng||dge)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(let a=0;a<16;++a)t[e+a]=r[a];return t}return RP(r)}function Sge(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function lw(n,t){return n<<t|n>>>32-t}function Tge(n){const t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){const u=unescape(encodeURIComponent(n));n=[];for(let h=0;h<u.length;++h)n.push(u.charCodeAt(h))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);const r=n.length/4+2,a=Math.ceil(r/16),o=new Array(a);for(let u=0;u<a;++u){const h=new Uint32Array(16);for(let f=0;f<16;++f)h[f]=n[u*64+f*4]<<24|n[u*64+f*4+1]<<16|n[u*64+f*4+2]<<8|n[u*64+f*4+3];o[u]=h}o[a-1][14]=(n.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(n.length-1)*8&4294967295;for(let u=0;u<a;++u){const h=new Uint32Array(80);for(let x=0;x<16;++x)h[x]=o[u][x];for(let x=16;x<80;++x)h[x]=lw(h[x-3]^h[x-8]^h[x-14]^h[x-16],1);let f=e[0],m=e[1],v=e[2],y=e[3],w=e[4];for(let x=0;x<80;++x){const C=Math.floor(x/20),A=lw(f,5)+Sge(C,m,v,y)+w+t[C]+h[x]>>>0;w=y,y=v,v=lw(m,30)>>>0,m=f,f=A}e[0]=e[0]+f>>>0,e[1]=e[1]+m>>>0,e[2]=e[2]+v>>>0,e[3]=e[3]+y>>>0,e[4]=e[4]+w>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}MP("v5",80,Tge);var Cge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.create-event-view {
  position: relative;
  width: 480px;
  padding: 20px;
}
.create-event-view .title {
  font-size: 20px;
  font-weight: 700;
}
.create-event-view .section-title {
  font-size: 12px;
  margin: 20px 0 10px 0;
}
.create-event-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
}
.create-event-view .close:hover {
  cursor: pointer;
}
.create-event-view .title-form {
  width: 100%;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 10px 16px;
  box-sizing: border-box;
}
.create-event-view .cover-image-box {
  display: flex;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image-container {
  display: flex;
  width: 136px;
  height: 80px;
  background: #bbb;
  margin-right: 16px;
  justify-content: center;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image {
  width: 136px;
  height: 80px;
}
.create-event-view .cover-image-box .cover-image-file {
  width: 0;
  height: 0;
}
.create-event-view .cover-image-box .cover-image-upload {
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-dark-primary-300);
}
.create-event-view .cover-image-box .cover-image-upload:hover {
  cursor: pointer;
}
.create-event-view .cover-image-box .cover-image-remove {
  margin-left: 16px;
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-dark-error-300);
}
.create-event-view .cover-image-box .cover-image-remove:hover {
  cursor: pointer;
}
.create-event-view .button-box {
  display: flex;
  justify-content: right;
}
.create-event-view .button-box .minor-button, .create-event-view .button-box .major-button {
  padding: 10px 12px;
  margin: 5px;
  border-radius: 4px;
}
.create-event-view .button-box .minor-button:hover, .create-event-view .button-box .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.create-event-view .button-box .major-button {
  color: #fff;
}
.sendbird-theme--light .create-event-view .button-box .major-button {
  background-color: var(--sendbird-light-primary-400);
  border: 1px var(--sendbird-light-primary-400) solid;
}
.sendbird-theme--dark .create-event-view .button-box .major-button {
  background-color: var(--sendbird-dark-primary-300);
  border: 1px var(--sendbird-dark-primary-300) solid;
}
.create-event-view .button-box .major-button:disabled,
.create-event-view .button-box .major-button[disabled] {
  border: 1px #eee solid;
  background: #eee;
  color: rgba(0, 0, 0, 0.12);
}
.create-event-view .button-box .minor-button {
  color: #333;
  border: 1px #333 solid;
  background-color: #fff;
}

.event-host-form .input {
  display: flex;
  max-height: 154px;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 6px 12px;
  box-sizing: border-box;
  align-content: flex-start;
  overflow-y: auto;
}
.event-host-form .input .search-type-panel .search-type {
  margin: 4px 4px 0 0;
  padding: 4px 6px;
  border: 0;
}
.event-host-form .input .form {
  flex: 1;
}
.event-host-form .input .form .host-form {
  min-width: 240px;
  margin: 4px;
  border: 0;
}
.event-host-form .input .form .host-form:focus {
  outline: none;
}
.event-host-form .search-result {
  position: relative;
  top: -45px;
}
.event-host-form .search-result .users, .event-host-form .search-result .status {
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.event-host-form .search-result .status {
  display: flex;
  position: absolute;
  height: 104px;
  top: 0;
  left: 0;
  right: 0;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
}
.event-host-form .search-result .status .no-result {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.5);
}
.event-host-form .search-result .status .error {
  font-size: 14px;
  color: #de360b;
}
.event-host-form .search-result .users {
  position: absolute;
  max-height: 104px;
  top: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.event-host-status {
  display: flex;
  padding: 6px 4px;
  margin-bottom: 10px;
}
.event-host-status .message {
  flex: 1;
  font-size: 12px;
  color: #666;
}
.event-host-status .error {
  color: #de360b;
}
.event-host-status .count {
  font-size: 12px;
  color: #666;
  margin: 0 0 0 8px;
}

.event-host {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  background: #eee;
  border-radius: 16px;
  overflow: hidden;
  margin: 4px;
  vertical-align: middle;
}
.event-host .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  margin-right: -4px;
  background: #fff;
}
.event-host .nickname {
  font-size: 12px;
  padding: 6px 10px;
}
.event-host .remove-button {
  width: 18px;
  height: 18px;
  border-radius: 12px;
}
.event-host .remove-button:hover {
  cursor: pointer;
}

.searched-user {
  display: flex;
  flex-direction: row;
  background: #fff;
  padding: 8px;
}
.searched-user:hover {
  cursor: pointer;
  background: #eee;
}
.searched-user .profile-image {
  width: 32px;
  height: 32px;
  border-radius: 20px;
  margin-right: 12px;
  background-color: #bdbdbd;
}
.searched-user .info {
  flex: 1;
  align-items: center;
}
.searched-user .info .nickname {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.88);
}
.searched-user .info .user-id {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.5);
}`;fa(Cge);var CM,IM;function K4(){return K4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},K4.apply(this,arguments)}var U0=function(t){return K.createElement("svg",K4({width:24,height:24,viewBox:"-4 -4 20 20",xmlns:"http://www.w3.org/2000/svg"},t),CM||(CM=K.createElement("defs",null,K.createElement("clipPath",{id:"icons-user_svg__a"},K.createElement("path",{d:"M1368 0v4600H0V0h1368z"})),K.createElement("clipPath",{id:"icons-user_svg__b"},K.createElement("path",{d:"M6.19 5.714c1.28 0 2.325 1.01 2.38 2.278l.001.103v.953a.476.476 0 0 1-.949.055l-.003-.055v-.953a1.43 1.43 0 0 0-1.345-1.426l-.084-.002H2.381c-.76 0-1.383.594-1.426 1.344l-.003.084v.953a.476.476 0 0 1-.949.055L0 9.048v-.953c0-1.28 1.01-2.324 2.278-2.379l.103-.002h3.81zM4.286 0a2.381 2.381 0 1 1 0 4.762 2.381 2.381 0 0 1 0-4.762zm0 .952a1.429 1.429 0 1 0 0 2.858 1.429 1.429 0 0 0 0-2.858z"})))),IM||(IM=K.createElement("g",{clipPath:"url(#icons-user_svg__a)",transform:"translate(-531 -1699)"},K.createElement("g",{clipPath:"url(#icons-user_svg__b)",transform:"translate(532.714 1700.238)"},K.createElement("path",{fill:"rgba(210, 210, 210, 0.88)",d:"M0 0h8.571v9.524H0V0z"})))))},NM;function W4(){return W4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},W4.apply(this,arguments)}var bl=function(t){return K.createElement("svg",W4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),NM||(NM=K.createElement("path",{d:"M52.552 11.448a2.667 2.667 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 35.771 15.219 52.552a2.667 2.667 0 0 1-3.993-3.52l.222-.251L28.228 32l-16.78-16.781a2.667 2.667 0 0 1 3.52-3.993l.251.222 16.78 16.78 16.782-16.78a2.667 2.667 0 0 1 3.771 0z",fillRule:"evenodd"})))};function $k(n){var t=n.key,e=n.userId,r=n.disabled,a=r===void 0?!1:r,o=n.nickname,u=o===void 0?"":o,h=n.profileUrl,f=h===void 0?"":h,m=n.hideProfile,v=m===void 0?!1:m,y=n.onRemove,w=y===void 0?function(){}:y,x=f?R.createElement("img",{src:f,className:"profile-image"}):R.createElement(U0,{fill:"#ccc",className:"profile-image"});return R.createElement("div",{className:"event-host",key:t},v?null:x,R.createElement("div",{className:"nickname"},u),R.createElement("div",{className:"remove-button",onClick:function(){a||w(e)}},R.createElement(bl,{viewBox:"0 -17 100 100",fill:"#888",width:18,height:18})))}var AM;function Q4(){return Q4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Q4.apply(this,arguments)}var Ige=function(t){return K.createElement("svg",Q4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),AM||(AM=K.createElement("path",{d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1h3.334zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fillRule:"evenodd"})))};function LP(n){var t=n.message,e=n.count,r=n.maxLength,a=n.error,o=a===void 0?!1:a;return R.createElement("div",{className:"event-host-status"},R.createElement("div",{className:"message ".concat(o?"error":"")},t),R.createElement("div",{className:"count"},R.createElement("span",{className:"value ".concat(o?"error":"")},e)," / ",r," users"),R.createElement(Ige,{width:24,height:24,viewBox:"-32 0 100 100",fill:"#666"}))}var OM;function Y4(){return Y4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Y4.apply(this,arguments)}var Nge=function(t){return K.createElement("svg",Y4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),OM||(OM=K.createElement("path",{d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.839 2.839 0 1 0 5.677 0C8.344 18.935 18.935 8.344 32 8.344S55.656 18.935 55.656 32 45.065 55.656 32 55.656a2.839 2.839 0 1 0 0 5.677z",fillRule:"evenodd"})))};function Age(n){var t=n.userId,e=n.nickname,r=e===void 0?"":e,a=n.profileUrl,o=a===void 0?"":a,u=n.onClick,h=u===void 0?function(){}:u,f=o?R.createElement("img",{src:o,className:"profile-image"}):R.createElement(U0,{fill:"#fff",className:"profile-image"});return R.createElement("div",{className:"searched-user",onClick:function(){return h()}},f,R.createElement("div",{className:"info"},R.createElement("div",{className:"nickname"},r),R.createElement("div",{className:"user-id"},t)))}function Oge(n){var t=n.initialHostUsers,e=t===void 0?[]:t,r=n.maxHostLength,a=r===void 0?UP:r,o=n.renderCustomEventHostView,u=o===void 0?$k:o,h=n.onUpdateHost,f=h===void 0?function(){}:h,m=K.useState([]),v=m[0],y=m[1],w=K.useState(0),x=w[0],C=w[1],A=K.useState(!1),L=A[0],S=A[1],k=K.useState(!1),N=k[0],O=k[1],H=K.useState(e),D=H[0],T=H[1],M=K.useState("nickname"),q=M[0],z=M[1],re=K.useState(""),pe=re[0],B=re[1],Q=K.useState(""),ie=Q[0],j=Q[1],me=K.useState(!1),ae=me[0],oe=me[1],ve=oo();K.useEffect(function(){T(e)},[e]),K.useEffect(function(){D.length>a?(oe(!0),j("The number of users allowed has exceeded.")):(oe(!1),j(""))},[D]);var Re=function(ue,he){var V=Dk.getSdk(ve);if(V&&he){var Y=null;switch(ue){case"nickname":{Y=V.createApplicationUserListQuery({nicknameStartsWithFilter:he});break}case"user ID":{Y=V.createApplicationUserListQuery({userIdsFilter:[he]});break}}if(Y){var $=x+1;C($),S(!0),O(!1),Y.next().then(function(te){$>=x&&(y(te),S(!1),O(!1),C($))}).catch(function(te){$>=x&&(S(!1),O(!0),C($))})}}};return R.createElement("div",{className:"event-host-form"},R.createElement("div",{className:"input"},R.createElement("div",{className:"search-type-panel"},R.createElement("select",{className:"search-type",value:q,onChange:function(ue){var he=ue.target.value;switch(z(he),he){case"user ID":j("Only an exact match can be found.");break;default:j("")}oe(!1),Re(he,pe)}},R.createElement("option",{value:"nickname"},"Nickname"),R.createElement("option",{value:"user ID"},"User ID"))),R.createElement("div",{className:"form"},D.map(function(ue){return u({key:ue.userId,userId:ue.userId,disabled:e.map(function(he){return he.userId}).includes(ue.userId),nickname:ue.nickname,profileUrl:ue.profileUrl,onRemove:function(he){var V=D.filter(function(Y){return Y.userId!==he});T(V),f(V.map(function(Y){return Y.userId}))}})}),R.createElement("input",{type:"text",placeholder:"Enter ".concat(q),className:"host-form",value:pe,onChange:function(ue){var he=ue.target.value;B(he),Re(q,he)}}))),R.createElement(LP,{message:ie,error:ae,count:D.length,maxLength:a}),pe?R.createElement("div",{className:"search-result"},v.length>0?R.createElement("div",{className:"users"},v.map(function(ue){return R.createElement(Age,{key:ue.userId,userId:ue.userId,nickname:ue.nickname,profileUrl:ue.profileUrl,onClick:function(){if(!D.map(function(V){return V.userId}).includes(ue.userId)){var he=os(os([],D,!0),[ue],!1);T(he),f(he.map(function(V){return V.userId}))}B(""),y([]),O(!1),S(!1)}})})):R.createElement("div",{className:"status"},L?R.createElement(Nge,{width:24,height:24,viewBox:"-18 -18 100 100",fill:"#333",className:"spin"}):null,!L&&!N&&v.length===0?R.createElement("div",{className:"no-result"},"No matches found with ",pe):null,N?R.createElement("div",{className:"error"},"Search request failed."):null)):null)}function Rge(n){var t=n.initialHostUsers,e=t===void 0?[]:t,r=n.maxHostLength,a=r===void 0?UP:r,o=n.renderCustomEventHostView,u=o===void 0?$k:o,h=n.onUpdateHost,f=h===void 0?function(){}:h,m=K.useState([]),v=m[0],y=m[1],w=K.useState(""),x=w[0],C=w[1],A=K.useState(""),L=A[0],S=A[1],k=K.useState(!1),N=k[0],O=k[1];return K.useEffect(function(){y(e.map(function(H){return H.userId}))},[e]),K.useEffect(function(){v.length>a?(O(!0),S("The number of users allowed has exceeded.")):(O(!1),S("If the ACL attributes are turned on, you can access user list information from the SDK."))},[v]),R.createElement("div",{className:"event-host-form"},R.createElement("div",{className:"input"},R.createElement("div",{className:"form"},v.map(function(H){return u({key:H,userId:H,disabled:e.map(function(D){return D.userId}).includes(H),nickname:H,hideProfile:!0,onRemove:function(D){var T=v.filter(function(M){return M!==D});y(T),f(T)}})}),R.createElement("input",{type:"text",placeholder:"Separate each user ID with a comma.",className:"host-form",value:x,onChange:function(H){var D,T=H.target.value,M=T.split(",");C((D=M.pop())!==null&&D!==void 0?D:"");var q=M.filter(function(re,pe){return re.length>0&&!v.includes(re)&&M.indexOf(re)===pe});if(q.length>0){var z=os(os([],v,!0),q,!0);y(z),f(z)}}}))),R.createElement(LP,{message:L,error:N,count:v.length,maxLength:a}))}var RM,MM;function X4(){return X4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},X4.apply(this,arguments)}var Mge=function(t){return K.createElement("svg",X4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),RM||(RM=K.createElement("defs",null,K.createElement("clipPath",{id:"icons-live_svg__a"},K.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),K.createElement("clipPath",{id:"icons-live_svg__b"},K.createElement("path",{d:"M26.667 21.333A5.333 5.333 0 0 1 30 30.83v22.297a26.923 26.923 0 0 1-3.323.206h-.02a26.81 26.81 0 0 1-3.324-.206V30.83a5.333 5.333 0 0 1 3.333-9.497zm0-21.333c14.727 0 26.666 11.94 26.666 26.667 0 12.184-8.171 22.46-19.333 25.645V45.28c7.418-2.924 12.667-10.155 12.667-18.612 0-11.046-8.955-20-20-20-11.046 0-20 8.954-20 20 0 8.457 5.249 15.688 12.666 18.612v7.033C8.172 49.127 0 38.851 0 26.667 0 11.939 11.94 0 26.667 0zm0 10.667c8.836 0 16 7.163 16 16 0 6.193-3.52 11.565-8.667 14.224v-8.45a9.294 9.294 0 0 0 2-5.774 9.333 9.333 0 1 0-18.667 0c0 2.18.748 4.185 2 5.774v8.45c-5.147-2.66-8.666-8.03-8.666-14.224 0-8.837 7.163-16 16-16z"})))),MM||(MM=K.createElement("g",{clipPath:"url(#icons-live_svg__a)",transform:"translate(-1216 -336)"},K.createElement("g",{clipPath:"url(#icons-live_svg__b)",transform:"translate(1221.333 341.333)"},K.createElement("path",{fill:"rgba(255, 255, 255, 1)",d:"M0 0h53.333v53.333H0V0z"})))))},UP=10;function Dge(n){var t=this,e,r,a=n.showUserIdsForHostSelectionView,o=a===void 0?!0:a,u=n.disableAcl,h=u===void 0?!1:u,f=n.renderCustomEventHostView,m=f===void 0?$k:f,v=n.onClose,y=v===void 0?function(){}:v,w=K.useState(""),x=w[0],C=w[1],A=K.useState(""),L=A[0],S=A[1],k=K.useRef(null),N=K.useRef(null),O=K.useContext(vl).stringSet,H=oo(),D=Dk.getSdk(H),T=K.useState([]),M=T[0],q=T[1];K.useEffect(function(){o&&D!=null&&D.currentUser&&q([D.currentUser])},[D==null?void 0:D.currentUser]);var z=K.useState(M.map(function(B){return B.userId})),re=z[0],pe=z[1];return R.createElement("div",{className:"create-event-view"},R.createElement("div",{className:"close",onClick:function(){return y()}},R.createElement(bl,{width:22,height:22,viewBox:"0 0 60 60"})),R.createElement("div",{className:"title"},O.LIVE_EVENT_CREATE_HEADER_TITLE),R.createElement("div",{className:"section-title"},O.LIVE_EVENT_CREATE_EVENT_TITLE),R.createElement("div",null,R.createElement("input",{type:"text",placeholder:O.LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER,className:"title-form",value:x,onChange:function(B){C(B.target.value)}})),R.createElement("div",{className:"section-title"},O.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE),R.createElement("div",{className:"cover-image-box"},R.createElement("div",{className:"cover-image-container",ref:k},L?R.createElement("img",{src:L,alt:"Cover image",className:"cover-image"}):R.createElement(Mge,{viewBox:"0 0 64 64",width:32,height:32,fill:"#fff"})),R.createElement("input",{type:"file",className:"cover-image-file",ref:N,accept:"image/*",onChange:function(){var B,Q=N.current,ie=(B=Q==null?void 0:Q.files)!==null&&B!==void 0?B:[];if(ie.length===1){var j=new FileReader;j.onload=function(){k.current&&S(j.result)},j.readAsDataURL(ie[0])}}}),R.createElement("div",{className:"cover-image-upload",onClick:function(){N.current.click()}},O.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON),R.createElement("div",{className:"cover-image-remove",onClick:function(){N.current&&(N.current.value=""),S("")}},!((r=(e=N.current)===null||e===void 0?void 0:e.files)===null||r===void 0)&&r.length?O.REMOVE_IMAGE:"")),R.createElement("div",{className:"section-title"},O.LIST_USERS_FOR_HOST_HEADER_TITLE),h?R.createElement(Rge,{initialHostUsers:M,renderCustomEventHostView:m,onUpdateHost:function(B){return pe(B)}}):R.createElement(Oge,{initialHostUsers:M,renderCustomEventHostView:m,onUpdateHost:function(B){return pe(B)}}),R.createElement("div",{className:"button-box"},R.createElement("input",{type:"button",className:"minor-button",value:"Cancel",onClick:function(){return y()}}),R.createElement("input",{type:"button",className:"major-button",value:O.LIVE_EVENT_CREATE_HEADER_BUTTON,onClick:function(){return ha(t,void 0,void 0,function(){var B,Q,ie,j,me,ae;return pa(this,function(oe){switch(oe.label){case 0:return B=(ae=(me=N==null?void 0:N.current)===null||me===void 0?void 0:me.files)===null||ae===void 0?void 0:ae[0],Q=null,B&&(ie=B.slice(0,B.size,B.type),Q=new File([ie],"".concat(kge(),".").concat(B.type.split("/").pop()),{type:B.type})),[4,Vr.exports.SendbirdLive.createLiveEvent({userIdsForHost:os([],re,!0),title:x,coverFile:Q??void 0})];case 1:return j=oe.sent(),[4,j.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return oe.sent(),y(j),[2]}})})}})))}var Lge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background {
  background: var(--sendbird-dark-background-500) !important;
}

.host-view {
  display: flex;
  flex-grow: 1;
}
.host-view .host-view__main {
  width: 100%;
  height: 100%;
  background-color: var(--sendbird-dark-background-700);
}
.host-view .host-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.host-view .host-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.host-view .host-view__main .video-wrapper .host-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.host-view .host-view__main .host-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-dark-background-600);
}
.host-view .host-view__main .host-view__info .host-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.host-view .host-view__main .host-view__info .host-view__profile .host-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper {
  display: flex;
  align-items: center;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper .host-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.5);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__host-name {
  margin-top: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}`;fa(Lge);var DM;function Z4(){return Z4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Z4.apply(this,arguments)}var Uge=function(t){return K.createElement("svg",Z4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),DM||(DM=K.createElement("path",{d:"M32 2.667A5.333 5.333 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.333 5.333 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56a5.333 5.333 0 1 1 0 10.666h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.333 5.333 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.333 5.333 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.333 5.333 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.333 5.333 0 0 1 32 2.667zM32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},LM,UM;function J4(){return J4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},J4.apply(this,arguments)}var Pge=function(t){return K.createElement("svg",J4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),LM||(LM=K.createElement("defs",null,K.createElement("clipPath",{id:"icons-camera-filled_svg__a"},K.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),K.createElement("clipPath",{id:"icons-camera-filled_svg__b"},K.createElement("path",{d:"M37.333 0a5.333 5.333 0 0 1 5.334 5.333v8L56.594 4.05a1.333 1.333 0 0 1 2.073 1.109v32.35a1.333 1.333 0 0 1-2.073 1.11l-13.927-9.285v8a5.333 5.333 0 0 1-5.334 5.334h-32A5.333 5.333 0 0 1 0 37.333v-32A5.333 5.333 0 0 1 5.333 0h32z"})))),UM||(UM=K.createElement("g",{clipPath:"url(#icons-camera-filled_svg__a)",transform:"translate(-208 -336)"},K.createElement("g",{clipPath:"url(#icons-camera-filled_svg__b)",transform:"translate(210.667 346.667)"},K.createElement("path",{d:"M0 0h58.667v42.667H0V0z"})))))},PM,FM;function e6(){return e6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},e6.apply(this,arguments)}var Fge=function(t){return K.createElement("svg",e6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),PM||(PM=K.createElement("defs",null,K.createElement("clipPath",{id:"icons-camera-off-filled_svg__a"},K.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),K.createElement("clipPath",{id:"icons-camera-off-filled_svg__b"},K.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.007-11.008a5.335 5.335 0 0 1-5.238 4.325h-32A5.333 5.333 0 0 1 0 45.333v-32c0-2.6 1.862-4.767 4.325-5.238L.781 4.552A2.667 2.667 0 0 1 4.301.56zM37.333 8a5.333 5.333 0 0 1 5.334 5.333v8l13.927-9.284a1.333 1.333 0 0 1 2.073 1.109v32.35c0 .195-.042.379-.116.545L20.497 8h16.836z"})))),FM||(FM=K.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__a)",transform:"translate(-352 -336)"},K.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__b)",transform:"translate(354.667 338.667)"},K.createElement("path",{d:"M0 0h58.667v58.13H0V0z"})))))},HM,BM;function n6(){return n6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},n6.apply(this,arguments)}var Hge=function(t){return K.createElement("svg",n6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),HM||(HM=K.createElement("defs",null,K.createElement("clipPath",{id:"icons-mic-filled_svg__a"},K.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),K.createElement("clipPath",{id:"icons-mic-filled_svg__b"},K.createElement("path",{d:"M34.667 24a2.667 2.667 0 0 1 2.648 2.356l.018.31V32c0 9.408-6.96 17.19-16.01 18.48l.01.187v2.666h5.334a2.667 2.667 0 0 1 .31 5.316l-.31.018h-16a2.667 2.667 0 0 1-.311-5.316l.31-.018H16v-2.666c0-.064.002-.127.007-.19C7.164 49.218.319 41.759.01 32.643L0 32v-5.333a2.667 2.667 0 0 1 5.315-.311l.018.31V32c0 7.364 5.97 13.333 13.334 13.333 7.17 0 13.018-5.66 13.32-12.755L32 32v-5.333A2.667 2.667 0 0 1 34.667 24zm-16-24a8 8 0 0 1 8 8v24a8 8 0 1 1-16 0V8a8 8 0 0 1 8-8z"})))),BM||(BM=K.createElement("g",{clipPath:"url(#icons-mic-filled_svg__a)",transform:"translate(-496 -336)"},K.createElement("g",{clipPath:"url(#icons-mic-filled_svg__b)",transform:"translate(509.79 339.124)"},K.createElement("path",{d:"M0 0h37.333v58.667H0V0z"})))))},$M,zM;function t6(){return t6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},t6.apply(this,arguments)}var Bge=function(t){return K.createElement("svg",t6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),$M||($M=K.createElement("defs",null,K.createElement("clipPath",{id:"icons-mic-off-filled_svg__a"},K.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),K.createElement("clipPath",{id:"icons-mic-off-filled_svg__b"},K.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.152-11.152a18.602 18.602 0 0 1-9.98 4.739l.012.187v2.667h5.333a2.667 2.667 0 0 1 .31 5.315l-.31.018h-16a2.667 2.667 0 0 1-.311-5.315l.31-.018h5.334v-2.667c0-.063.002-.126.007-.189-8.843-1.26-15.688-8.72-15.996-17.836l-.01-.641v-5.334a2.667 2.667 0 0 1 5.315-.31l.018.31v5.334c0 7.363 5.97 13.333 13.333 13.333 3.4 0 6.504-1.273 8.86-3.37l-3.783-3.781a8 8 0 0 1-13.078-6.182V25.56L.781 4.552A2.667 2.667 0 0 1 4.301.56zm41.49 23.898a2.667 2.667 0 0 1 2.649 2.355l.018.311v5.334c0 1.099-.095 2.176-.278 3.223l-5.056-5.055v-3.502a2.667 2.667 0 0 1 2.667-2.666zm-16-24a8 8 0 0 1 8 8v16.834l-16-16v-.834a8 8 0 0 1 8-8z"})))),zM||(zM=K.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__a)",transform:"translate(-640 -336)"},K.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__b)",transform:"translate(642.667 338.667)"},K.createElement("path",{d:"M0 0h58.13v59.124H0V0z"})))))},VM,GM;function r6(){return r6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},r6.apply(this,arguments)}var $ge=function(t){return K.createElement("svg",r6({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),VM||(VM=K.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.917 4.583a2.75 2.75 0 0 1 2.75-2.75h14.666a2.75 2.75 0 0 1 2.75 2.75v9.167a2.75 2.75 0 0 1-2.75 2.75H3.667a2.75 2.75 0 0 1-2.75-2.75V4.584Zm10.632.901a.916.916 0 0 0-.54-.175l-.059.002a.917.917 0 0 0-.276.06.87.87 0 0 0-.321.203L7.603 8.33a.92.92 0 1 0 1.301 1.3l1.182-1.184-.003 3.96a.92.92 0 0 0 .92.922l.059-.002a.92.92 0 0 0 .862-.917l.003-3.957 1.176 1.178a.918.918 0 1 0 1.302-1.3l-2.74-2.745a1.048 1.048 0 0 0-.074-.067l-.023-.018-.02-.015Z",fill:"#fff",fillOpacity:.88})),GM||(GM=K.createElement("path",{d:"M.917 18.334a.917.917 0 0 0 0 1.833h20.166a.917.917 0 1 0 0-1.834H.917Z",fill:"#fff",fillOpacity:.88})))},qM;function i6(){return i6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},i6.apply(this,arguments)}var zge=function(t){return K.createElement("svg",i6({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),qM||(qM=K.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.917 3.667a3 3 0 0 0-3 3v8.666a3 3 0 0 0 3 3h14.166a3 3 0 0 0 3-3V6.667a3 3 0 0 0-3-3H3.917Zm9 7.333a1 1 0 0 0-1 1v3.5a1 1 0 0 0 1 1h5.333a1 1 0 0 0 1-1V12a1 1 0 0 0-1-1h-5.334Z",fill:"#fff",fillOpacity:.88})))},Vge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background__screen-share {
  background: var(--sendbird-dark-background-500) !important;
}

.control-bar {
  display: flex;
  align-items: center;
  background-color: var(--sendbird-dark-background-600);
}
.control-bar .control-bar__left-buttons {
  display: flex;
  margin-left: 16px;
}
.control-bar .control-bar__left-buttons .control-bar__settings {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__video {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper {
  display: flex;
  margin: 12px 27px 0 0;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper .control-bar__audio {
  margin-right: 27px;
  width: 22px;
  height: 22px;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share {
  display: flex;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share svg {
  margin-right: 27px;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share .control-bar__screen-share__stop {
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  align-items: center;
  padding: 6px 16px;
  width: 160px;
  height: 32px;
  border: 1px solid rgba(255, 255, 255, 0.38);
  border-radius: 4px;
  font-weight: 500;
  font-size: 14px;
  line-height: 20px;
  color: #FFFFFF;
}
.control-bar .control-bar__right-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 16px;
}
.control-bar .control-bar__right-buttons .participant-icon, .control-bar .control-bar__right-buttons .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.control-bar .control-bar__right-buttons .participant-icon--red {
  background-color: var(--sendbird-dark-error-300);
}
.control-bar .control-bar__right-buttons .control-bar__duration {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}
.control-bar .control-bar__right-buttons .control-bar__start-live, .control-bar .control-bar__right-buttons .control-bar__end-live {
  padding: 6px 16px;
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  cursor: pointer;
}
.control-bar .control-bar__right-buttons .control-bar__end-live {
  background-color: var(--sendbird-dark-primary-200);
}
.control-bar .control-bar__right-buttons .control-bar__start-live {
  background-color: var(--sendbird-dark-error-200);
}`;fa(Vge);var jM,KM;function a6(){return a6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},a6.apply(this,arguments)}var Gge=function(t){return K.createElement("svg",a6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),jM||(jM=K.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),KM||(KM=K.createElement("rect",{x:20,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},WM,QM;function s6(){return s6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s6.apply(this,arguments)}var qge=function(t){return K.createElement("svg",s6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),WM||(WM=K.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),QM||(QM=K.createElement("rect",{x:4,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},YM,XM;function o6(){return o6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},o6.apply(this,arguments)}var jge=function(t){return K.createElement("svg",o6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),YM||(YM=K.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),XM||(XM=K.createElement("rect",{x:20,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},ZM,JM;function l6(){return l6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},l6.apply(this,arguments)}var Kge=function(t){return K.createElement("svg",l6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),ZM||(ZM=K.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),JM||(JM=K.createElement("rect",{x:4,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},e7;function c6(){return c6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},c6.apply(this,arguments)}var Wge=function(t){return K.createElement("svg",c6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e7||(e7=K.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})))},Qge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.screen-share {
  width: 480px;
  padding: 18px 24px;
  background-color: var(--sendbird-dark-background-500);
  color: #fff;
}
.screen-share .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 20px;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
  margin-bottom: 8px;
  font-style: normal;
  font-weight: 400;
}
.screen-share .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
}
.screen-share .screen-share__preview__container {
  overflow: auto;
  max-width: 100%;
  box-sizing: border-box;
  margin-bottom: 24px;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen {
  position: relative;
  background: var(--sendbird-dark-background-600);
  width: 100%;
  aspect-ratio: 16/9;
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  line-height: 300px;
  color: rgba(255, 255, 255, 0.5);
  text-align: center;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen p {
  line-height: normal;
  display: inline-block;
  vertical-align: middle;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 20%;
  aspect-ratio: 16/9;
  background-color: var(--sendbird-dark-background-700);
  line-height: 1;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  top: 75%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left {
  top: 75%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right {
  top: 5%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left {
  top: 5%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--hidden {
  display: none;
}
.screen-share .screen-share__layout-container {
  display: flex;
}
.screen-share .screen-share__layout-container svg {
  margin-right: 8px;
  padding: 3px;
  background: var(--sendbird-dark-background-500);
  border: 1px solid #161616;
  border-radius: 4px;
}
.screen-share .screen-share__layout-container svg:hover {
  cursor: pointer;
  background: var(--sendbird-dark-background-700);
}
.screen-share .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 30px;
}
.screen-share .buttons .major-button, .screen-share .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.screen-share .buttons .major-button:hover, .screen-share .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.screen-share .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.screen-share .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .screen-share .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .screen-share .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;fa(Qge);function Yge(n){var t=this,e=n.liveEvent,r=n.onClose,a={TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",HIDDEN:"hidden"},o=K.useState(a.BOTTOM_RIGHT),u=o[0],h=o[1];return R.createElement("div",{className:"screen-share"},R.createElement("div",{className:"close",onClick:function(){return r()}},R.createElement(bl,{width:22,height:22,viewBox:"0 0 60 60"})),R.createElement("div",{className:"title"},"Share screen"),R.createElement("div",{className:"screen-share__label"},"Preview"),R.createElement("div",{className:"screen-share__preview__container"},R.createElement("div",{className:"screen-share__preview__screen"},R.createElement("div",{className:"screen-share__preview__camera--".concat(u)},"Camera"),R.createElement("p",null,"The screen you chose to share will be shown here."))),R.createElement("div",{className:"screen-share__label"},"Layout"),R.createElement("div",{className:"screen-share__layout-container"},R.createElement(Gge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.BOTTOM_RIGHT)}}),R.createElement(qge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.BOTTOM_LEFT)}}),R.createElement(jge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.TOP_RIGHT)}}),R.createElement(Kge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.TOP_LEFT)}}),R.createElement(Wge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.HIDDEN)}})),R.createElement("div",{className:"buttons"},R.createElement("div",{className:"minor-button",onClick:function(){return r()}},"Cancel"),R.createElement("div",{className:"major-button",onClick:function(){return ha(t,void 0,void 0,function(){return pa(this,function(f){switch(f.label){case 0:return[4,e.setScreenShareOptions({cameraOverlayPosition:u})];case 1:return f.sent(),r(),[2]}})})}},"Save")))}function Xge(n){var t=n.liveEvent,e=K.useState(0),r=e[0],a=e[1];K.useEffect(function(){var h=setInterval(function(){a(t.duration)},1e3);return function(){return clearInterval(h)}},[]);function o(h){return h.toString().padStart(2,"0")}function u(h){var f=Math.floor(h/1e3),m=Math.floor(f/60),v=Math.floor(m/60);return f=f%60,m=m%60,"".concat(o(v),":").concat(o(m),":").concat(o(f))}return R.createElement("div",{className:"control-bar__duration"},u(r))}function Zge(n){var t=this,e=n.liveEvent,r=n.onStart,a=n.onEnd,o=n.onSettings,u=K.useState(e.state===Vr.exports.LiveEventState.ONGOING),h=u[0],f=u[1],m=K.useState(!0),v=m[0],y=m[1],w=K.useState(!0),x=w[0],C=w[1],A=K.useState(!1),L=A[0],S=A[1];du("");var k=du("","dark-background__screen-share"),N=k[0],O=k[1],H=k[2],D=K.useContext(vl).stringSet,T=function(){return ha(t,void 0,void 0,function(){return pa(this,function(pe){switch(pe.label){case 0:return[4,e.startEvent({turnAudioOn:!0,turnVideoOn:!0})];case 1:return pe.sent(),f(!0),r(e),[2]}})})},M=function(pe){pe?e.startVideo():e.stopVideo(),C(pe)},q=function(pe){pe?e.unmuteAudioInput():e.muteAudioInput(),y(pe)},z=function(){return ha(t,void 0,void 0,function(){return pa(this,function(pe){switch(pe.label){case 0:return[4,e.startScreenShare()];case 1:return pe.sent(),S(!0),[2]}})})},re=function(){e.stopScreenShare(),S(!1)};return R.createElement("div",{className:"control-bar"},R.createElement("div",{className:"control-bar__left-buttons"},R.createElement("div",{className:"control-bar__settings"},R.createElement(Uge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return o(e)}})),R.createElement("div",{className:"control-bar__video"},x?R.createElement(Pge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return M(!1)}}):R.createElement(Fge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return M(!0)}})),R.createElement("div",{className:"control-bar__audio__wrapper"},R.createElement("div",{className:"control-bar__audio"},v?R.createElement(Hge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return q(!1)}}):R.createElement(Bge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return q(!0)}})),R.createElement("div",{className:"control-bar__volume"})),R.createElement("div",{className:"control-bar__screen-share"},R.createElement($ge,{width:22,height:22,fill:"#ccc",onClick:function(){return z()}}),R.createElement(zge,{width:22,height:22,fill:"#ccc",onClick:function(){return O()}}),L&&R.createElement("div",{className:"control-bar__screen-share__stop",onClick:function(){return re()}},"Stop ScreenShare"))),R.createElement("div",{className:"control-bar__right-buttons"},h&&R.createElement("div",{className:"participant-icon--red"}),h&&R.createElement(Xge,{liveEvent:e}),h?R.createElement("div",{className:"control-bar__end-live",onClick:function(){a(e)}},D.LIVE_EVENT_END_DIALOG_OPTION_END):R.createElement("div",{className:"control-bar__start-live",onClick:T},D.START_LIVE_EVENT_HEADER_BUTTON)),R.createElement(N,null,R.createElement(Yge,{liveEvent:e,onClose:function(){H()}})))}var Jge=`.confirm-end-dialog {
  width: 480px;
  padding: 18px 24px;
  background: #333;
  color: #fff;
}
.confirm-end-dialog .header {
  display: flex;
  align-items: center;
}
.confirm-end-dialog .header .title {
  flex: 1;
  font-size: 18px;
}
.confirm-end-dialog .header .close:hover {
  cursor: pointer;
}
.confirm-end-dialog .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.confirm-end-dialog .buttons .major-button, .confirm-end-dialog .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.confirm-end-dialog .buttons .major-button:hover, .confirm-end-dialog .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.confirm-end-dialog .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.confirm-end-dialog .buttons .major-button {
  background-color: #f66161;
}`;fa(Jge);function ebe(n){var t=n.onExit,e=t===void 0?function(){}:t,r=n.onClose,a=r===void 0?function(){}:r,o=K.useContext(vl).stringSet;return R.createElement("div",{className:"confirm-end-dialog"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},o.LIVE_EVENT_END_DIALOG_DESCRIPTION),R.createElement("div",{className:"close",onClick:function(){return a()}},R.createElement(bl,{width:22,height:22,viewBox:"0 0 60 60",fill:"#fff"}))),R.createElement("div",{className:"buttons"},R.createElement("div",{className:"minor-button",onClick:function(){return a()}},"Cancel"),R.createElement("div",{className:"minor-button",onClick:function(){return e(!1)}},o.LIVE_EVENT_END_DIALOG_OPTION_EXIT),R.createElement("div",{className:"major-button",onClick:function(){return e(!0)}},o.LIVE_EVENT_END_DIALOG_OPTION_END)))}var n7;function u6(){return u6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},u6.apply(this,arguments)}var t7=function(t){return K.createElement("svg",u6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),n7||(n7=K.createElement("path",{d:"M22.114 46.114a2.667 2.667 0 0 0 3.772 3.772l16-16a2.667 2.667 0 0 0 0-3.772l-16-16a2.667 2.667 0 0 0-3.772 3.772L36.23 32 22.114 46.114z",fillRule:"evenodd"})))},r7;function d6(){return d6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},d6.apply(this,arguments)}var nbe=function(t){return K.createElement("svg",d6({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},t),r7||(r7=K.createElement("g",{fillRule:"evenodd"},K.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),K.createElement("circle",{fill:"#FFF",cx:64,cy:24,r:12}),K.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),K.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},i7;function h6(){return h6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},h6.apply(this,arguments)}var tbe=function(t){return K.createElement("svg",h6({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},t),i7||(i7=K.createElement("g",{fillRule:"evenodd"},K.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),K.createElement("circle",{fill:"#FFF",cx:24,cy:24,r:12}),K.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),K.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},a7;function p6(){return p6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},p6.apply(this,arguments)}var PP=function(t){return K.createElement("svg",p6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),a7||(a7=K.createElement("path",{d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.667 2.667 0 0 1 50.667 56H13.333a2.667 2.667 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 1 1 0 10.667A5.333 5.333 0 0 1 32 32z",fillRule:"evenodd"})))},s7;function f6(){return f6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},f6.apply(this,arguments)}var FP=function(t){return K.createElement("svg",f6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),s7||(s7=K.createElement("path",{d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333a8 8 0 0 0-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.315.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.334 13.334 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 0 1 54 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 0 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167zM24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},o7;function _6(){return _6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},_6.apply(this,arguments)}var rbe=function(t){return K.createElement("svg",_6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),o7||(o7=K.createElement("path",{d:"m41.636 3.226.251.222a2.667 2.667 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.667 2.667 0 0 1 1.952 2.938l-.067.328a2.667 2.667 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 0 1 2.937 1.952l.067.328a2.667 2.667 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.667 2.667 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.667 2.667 0 0 1-3.52.222l-.251-.222a2.667 2.667 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.667 2.667 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.667 2.667 0 0 1-1.953-2.937l.067-.328a2.667 2.667 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.667 2.667 0 0 1-2.937-1.952l-.067-.328a2.667 2.667 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.667 2.667 0 0 1 3.52-3.993l.251.222 6.114 6.112 6.115-6.112a2.667 2.667 0 0 1 3.52-.222z",fillRule:"evenodd"})))},ibe=`.event-detail-view {
  position: relative;
  max-width: 400px;
  background: #fff;
}
.event-detail-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .header .title {
  flex: 1;
  font-size: 18px;
}
.event-detail-view .header .close:hover {
  cursor: pointer;
}
.event-detail-view .event-summary {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-summary .profile {
  width: 80px;
  height: 80px;
  background: #eee;
  border-radius: 60px;
  margin-bottom: 8px;
}
.event-detail-view .event-summary .title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}
.event-detail-view .event-menu {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-menu .icon {
  margin-right: 16px;
}
.event-detail-view .event-menu .label {
  flex: 1;
}
.event-detail-view .event-menu .count {
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.event-detail-view .event-menu .guide {
  flex-basis: 100%;
  color: #999;
  line-height: 1.43;
  padding: 8px 4px 10px 4px;
}
.event-detail-view .event-info {
  padding: 16px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-info .label {
  font-size: 12px;
  font-weight: bold;
  color: #999;
  margin-bottom: 8px;
}
.event-detail-view .event-info .value {
  font-size: 14px;
  color: #333;
  line-height: 1.43;
}
.event-detail-view .button:hover {
  cursor: pointer;
  background: #eee;
}`;fa(ibe);function abe(n){var t=n.liveEvent,e=n.onHostsClick,r=e===void 0?function(){}:e,a=n.onParticipantsClick,o=a===void 0?function(){}:a,u=n.onClose,h=u===void 0?function(){}:u,f=t.openChannel,m=K.useState(""),v=m[0],y=m[1],w=K.useState(f.isFrozen),x=w[0],C=w[1],A=K.useState(t.userIdsForHost.length),L=A[0],S=A[1],k=K.useState("".concat(f.participantCount)),N=k[0],O=k[1];return K.useEffect(function(){y(f.name||"Untitled")},[f.name]),K.useEffect(function(){S(f.operators.length)},[t.userIdsForHost.length]),K.useEffect(function(){f.participantCount>1e3?O("".concat(Math.floor(f.participantCount/1e3),"k")):O("".concat(f.participantCount))},[f.participantCount]),K.useEffect(function(){C(t.openChannel.isFrozen)},[f.isFrozen]),R.createElement("div",{className:"event-detail-view"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},"Live event information"),R.createElement("div",{className:"close",onClick:function(){return h()}},R.createElement(bl,{width:22,height:22,viewBox:"0 0 60 60"}))),R.createElement("div",{className:"event-summary"},R.createElement("div",{className:"profile"},t.host?R.createElement("img",{src:t.host.profileURL}):R.createElement(U0,{width:80,height:80,viewBox:"-4 -4 20 20",fill:"#fff"})),R.createElement("div",{className:"title"},v)),R.createElement("div",{className:"event-menu button",onClick:function(){return r()}},R.createElement(PP,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),R.createElement("div",{className:"label"},"Hosts"),R.createElement("div",{className:"count"},L),R.createElement(t7,{width:24,height:24,viewBox:"-10 -10 80 80"})),R.createElement("div",{className:"event-menu button",onClick:function(){return o()}},R.createElement(FP,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),R.createElement("div",{className:"label"},"Participants"),R.createElement("div",{className:"count"},N),R.createElement(t7,{width:24,height:24,viewBox:"-10 -10 80 80"})),R.createElement("div",{className:"event-menu"},R.createElement(rbe,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),R.createElement("div",{className:"label"},"Freeze channel"),R.createElement("div",{className:"toggle"},x?R.createElement(nbe,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#C2A9FA"}):R.createElement(tbe,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#777"})),R.createElement("div",{className:"guide"},"Freezing a channel lets only operators to communicate in the channel.")),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Live event ID"),R.createElement("div",{className:"value"},t.liveEventId)),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Created on"),R.createElement("div",{className:"value"},yM(t.createdAt,"PPp"))),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Created by"),R.createElement("div",{className:"value"},t.createdBy)),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Started on"),R.createElement("div",{className:"value"},t.startedAt?yM(t.startedAt,"PPp"):"")),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Started by"),R.createElement("div",{className:"value"},t.startedBy?t.startedBy:"")))}var sbe=`.user-list-view {
  position: relative;
  display: flex;
  flex-direction: column;
  max-width: 400px;
  max-height: 100vh;
  background: #fff;
  overflow: hidden;
}
.user-list-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.user-list-view .header .title {
  flex: 1;
  font-size: 18px;
}
.user-list-view .header .title .count {
  display: inline-block;
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.user-list-view .header .close:hover {
  cursor: pointer;
}
.user-list-view .list {
  flex: 1;
  padding: 8px 0;
  overflow-y: auto;
}

.user-view {
  display: flex;
  flex-direction: row;
  align-items: center;
  background: #fff;
  padding: 8px 16px;
}
.user-view .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  background: #eee;
  margin-right: 16px;
}
.user-view .nickname {
  font-size: 14px;
  color: #333;
}`;fa(sbe);function obe(n){var t=n.nickname,e=t===void 0?"":t,r=n.profileUrl,a=r===void 0?"":r,o=a?R.createElement("img",{src:a,className:"profile-image"}):R.createElement(U0,{fill:"#fff",className:"profile-image"});return R.createElement("div",{className:"user-view"},o,R.createElement("div",{className:"nickname"},e))}function l7(n){var t=n.title,e=n.count,r=n.query,a=n.onClose,o=a===void 0?function(){}:a,u=K.useRef(null),h=K.useState([]),f=h[0],m=h[1],v=K.useState(!0),y=v[0],w=v[1];K.useEffect(function(){r().then(function(C){var A=C.result,L=C.hasNext;m(os([],A,!0)),w(L)})},[]);var x=function(){if(u.current){var C=u.current,A=C.scrollTop,L=C.scrollHeight,S=C.clientHeight;A+S===L&&y&&r().then(function(k){var N=k.result,O=k.hasNext;m(os(os([],f,!0),N,!0)),w(O)})}};return R.createElement("div",{className:"user-list-view"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},t," ",R.createElement("span",{className:"count"},e)),R.createElement("div",{className:"close",onClick:function(){return o()}},R.createElement(bl,{width:22,height:22,viewBox:"0 0 60 60"}))),R.createElement("div",{className:"list",ref:u,onScroll:x},f.map(function(C){return R.createElement(obe,{key:C.userId,userId:C.userId,nickname:C.nickname,profileUrl:C.profileUrl})})))}var lbe=`.sendbirdlive-right__wrapper {
  width: 400px;
  height: 100vh;
}`;fa(lbe);var Eo;(function(n){n[n.CHAT=0]="CHAT",n[n.EVENT_INFO=1]="EVENT_INFO",n[n.HOST_LIST=2]="HOST_LIST",n[n.PARTICIPANT_LIST=3]="PARTICIPANT_LIST"})(Eo||(Eo={}));function HP(n){var t=this,e=n.liveEvent,r=n.initialViewStack,a=r===void 0?[Eo.CHAT]:r,o=e.openChannel,u=oo(),h=Dk.getSdk(u),f=K.useState(os([],a,!0)),m=f[0],v=f[1],y=K.useState(a[a.length-1]),w=y[0],x=y[1],C=function(L){v(os(os([],m,!0),[L],!1))},A=function(){m.length>1&&v(m.slice(0,-1))};return K.useEffect(function(){e.openChannel,v(os([],a,!0))},[e]),K.useEffect(function(){x(m[m.length-1])},[m]),R.createElement("div",{className:"sendbirdlive-right__wrapper"},w===Eo.CHAT?R.createElement(cge,{channelUrl:e.liveEventId,useMessageGrouping:!0,onChatHeaderActionClick:function(){var L;((L=e.host)===null||L===void 0?void 0:L.userId)===(h==null?void 0:h.currentUser.userId)?C(Eo.EVENT_INFO):C(Eo.PARTICIPANT_LIST)}}):null,w===Eo.EVENT_INFO?R.createElement(abe,{liveEvent:e,onHostsClick:function(){return C(Eo.HOST_LIST)},onParticipantsClick:function(){return C(Eo.PARTICIPANT_LIST)},onClose:function(){return A()}}):null,w===Eo.HOST_LIST?R.createElement(l7,{title:"Hosts",count:o.operators.length,query:function(){return ha(t,void 0,void 0,function(){return pa(this,function(L){return[2,{result:o.operators,hasNext:!1}]})})},onClose:function(){return A()}}):null,w===Eo.PARTICIPANT_LIST?R.createElement(l7,{title:"Participants",count:o.participantCount,query:function(){return ha(t,void 0,void 0,function(){var L,S,k,N;return pa(this,function(O){switch(O.label){case 0:return L=o.createParticipantListQuery({}),L?[4,L.next()]:[3,2];case 1:return k=O.sent(),[3,3];case 2:k=[],O.label=3;case 3:return S=k,N=L==null?void 0:L.hasNext,[2,{result:S,hasNext:N}]}})})},onClose:function(){return A()}}):null)}var cbe=`.settings {
  width: 480px;
}
.settings .title {
  font-size: 20px;
  font-weight: 700;
}
.settings .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.settings .settings__select-container {
  margin-top: 20px;
}
.settings .settings__select-container .settings__select-label {
  font-size: 12px;
  line-height: 1;
}
.settings .settings__select-container .settings__select-button {
  width: 100%;
  height: 40px;
  margin-top: 8px;
  padding: 10px 12px 10px 16px;
  border-radius: 4px;
  border: solid 1px rgba(255, 255, 255, 0.38);
}`;fa(cbe);function ube(n){var t=n.liveEvent,e=n.onClose,r=K.useState([]),a=r[0],o=r[1],u=K.useState([]),h=u[0],f=u[1];return K.useEffect(function(){var m=Vr.exports.SendbirdLive.useMedia({audio:!0,video:!0});return o(Vr.exports.SendbirdLive.getAvailableAudioInputDevices()),f(Vr.exports.SendbirdLive.getAvailableVideoInputDevices()),Vr.exports.SendbirdLive.setAudioInputDeviceChanged(function(v,y){console.log("audio input updated",y),o(y)}),Vr.exports.SendbirdLive.setVideoInputDeviceChanged(function(v,y){console.log("video input updated",y),f(y)}),Vr.exports.SendbirdLive.updateMediaDevices({audio:!0,video:!0}),function(){m&&m.dispose()}}),R.createElement("div",{className:"settings"},R.createElement("div",{className:"close",onClick:function(){return e()}},R.createElement(bl,{width:22,height:22,viewBox:"0 0 60 60"})),R.createElement("div",{className:"title"},"Settings"),R.createElement("div",{className:"settings__select-container"},R.createElement("div",{className:"settings__select-label"},"Camera"),R.createElement("select",{id:"camera-select",className:"settings__select-button",onChange:function(m){var v=m.target.value,y=h.find(function(w){return w.deviceId===v});y&&t.selectVideoInput(y)}},h.map(function(m){return R.createElement("option",{key:m.deviceId,value:m.deviceId},m.label)}))),R.createElement("div",{className:"settings__select-container"},R.createElement("div",{className:"settings__select-label"},"Microphone"),R.createElement("select",{id:"microphone-select",className:"settings__select-button",onChange:function(m){var v=m.target.value,y=a.find(function(w){return w.deviceId===v});y&&t.selectAudioInput(y)}},a.map(function(m){return R.createElement("option",{key:m.deviceId,value:m.deviceId},m.label)}))))}var dbe=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function hbe(n){var t=this,e=n.liveEvent;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount,n.eventEndViewDisplayTime,n.allowExitWithoutEnding,n.showEventSummaryView;var r=n.onClose,a=K.useContext(vl).stringSet,o=K.useRef(null),u=K.useState(e.title),h=u[0],f=u[1],m=K.useState(e.coverUrl),v=m[0],y=m[1],w=K.useState(e.state),x=w[0],C=w[1],A=K.useState(e.participantCount||0),L=A[0],S=A[1],k=du("","dark-background"),N=k[0],O=k[1],H=k[2],D=du(""),T=D[0],M=D[1],q=D[2],z=function(pe){switch(pe){case"created":return a.EVENT_STATUS_CREATED;case"ready":return a.EVENT_STATUS_READY;case"ongoing":return a.EVENT_STATUS_ONGOING;case"ended":return a.EVENT_STATUS_ENDED}};K.useEffect(function(){var pe=function(){return ha(t,void 0,void 0,function(){return pa(this,function(B){switch(B.label){case 0:return e.state!==Vr.exports.LiveEventState.CREATED?[3,2]:[4,e.setEventReady()];case 1:B.sent(),B.label=2;case 2:return e.state===Vr.exports.LiveEventState.ONGOING&&!e.isHostStreaming?[4,e.startStreaming({turnVideoOn:!0,turnAudioOn:!0})]:[3,4];case 3:B.sent(),e.setVideoViewForLiveEvent(o.current,e.host.hostId),B.label=4;case 4:return[2]}})})};pe()},[e]),K.useEffect(function(){var pe=[e.on("participantEntered",function(B,Q){S(e.participantCount)}),e.on("participantExited",function(){S(e.participantCount)}),e.on("liveEventUpdated",function(){f(e.title),y(e.coverUrl)}),e.on("disconnected",function(){r(e)})];return function(){pe.map(function(B){return B()})}},[e]);function re(pe){var B=Math.floor(pe/1e3),Q=Math.floor(B/60);return Q=Q%60,"".concat(Q<0?0:Q)}return R.createElement("div",{className:"host-view"},R.createElement("div",{className:"host-view__main"},R.createElement("div",{className:"video-wrapper"},R.createElement("video",{className:"host-view__video",ref:o,playsInline:!0,autoPlay:!0,muted:!0,controls:dbe()})),R.createElement("div",{className:"host-view__info"},R.createElement("div",{className:"host-view__profile"},e.coverUrl?R.createElement("img",{src:v,alt:"cover image",className:"host-view__profile__cover-image"}):R.createElement(U0,{viewBox:"-4 -4 20 20",width:56,height:56})),R.createElement("div",{className:"host-view__info__wrapper"},R.createElement("div",{className:"host-view__title__wrapper"},R.createElement("div",{className:"event-state--".concat(x)},z(x)),R.createElement("div",{className:"host-view__title"},h||a.CREATE_EVENT_DEFAULT_TITLE)),R.createElement("div",{className:"host-view__detail"},L??0," watching now ",x===Vr.exports.LiveEventState.ONGOING?" Started ".concat(re(e.duration)," mins ago"):""),R.createElement("div",{className:"host-view__host-name"},e.host?e.host.nickname:"No Host"))),R.createElement(Zge,{liveEvent:e,onStart:function(pe){pe.setVideoViewForLiveEvent(o.current,pe.host.hostId),C(x)},onEnd:function(){O()},onSettings:function(){M()}}),R.createElement(N,null,R.createElement(ebe,{onExit:function(pe){return ha(t,void 0,void 0,function(){return pa(this,function(B){switch(B.label){case 0:return pe?[4,e.endEvent()]:[3,2];case 1:return B.sent(),[3,4];case 2:return[4,e.exitAsHost()];case 3:B.sent(),B.label=4;case 4:return H(),r(e),[2]}})})},onClose:function(){H()}})),R.createElement(T,null,R.createElement(ube,{liveEvent:e,onClose:function(){q()}}))),R.createElement(HP,{liveEvent:e}))}var pbe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbirdlive-app__wrapper {
  display: flex;
}

.sendbirdlive-app__no-event {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  width: 100%;
}
.sendbird-theme--light .sendbirdlive-app__no-event {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbirdlive-app__no-event {
  background-color: var(--sendbird-dark-background-500);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__title {
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__description {
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  padding: 6px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  cursor: pointer;
}
.sendbird-theme--light .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-dark-primary-200);
}`;fa(pbe);var fbe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.participant-view {
  display: flex;
  flex-grow: 1;
}
.participant-view .participant-view__main {
  width: 100%;
  background-color: var(--sendbird-light-background-100);
}
.participant-view .participant-view__main .toast-container {
  position: absolute;
  top: 10px;
  z-index: 5000;
}
.participant-view .participant-view__main .toast-container .toast {
  width: 500px;
  margin: auto;
  padding: 10px 0 10px 0;
  background-color: var(--sendbird-dark-information-100);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  text-align: center;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.participant-view .participant-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.participant-view .participant-view__main .video-wrapper .participant-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.participant-view .participant-view__main .participant-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-light-background-50);
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile .participant-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper {
  display: flex;
  align-items: center;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper .participant-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__host-name {
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.88);
}`;fa(fbe);var _be=function(n){var t=n.message;return R.createElement("div",{className:"toast-container"},t&&R.createElement("div",{className:"toast"},t))},mbe=function(){var n=K.useState(void 0),t=n[0],e=n[1],r=K.useState(void 0),a=r[0],o=r[1],u=function(m,v){v===void 0&&(v=1e6),e(m);var y=setTimeout(function(){h()},v);o(y)},h=function(){clearTimeout(a),o(void 0),e(void 0)},f=function(){return R.createElement(_be,{message:t})};return[f,u,h]},vbe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.ended-modal {
  width: 480px;
  padding: 18px 24px;
}
.ended-modal .header {
  display: flex;
  align-items: center;
}
.ended-modal .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.ended-modal .header .close:hover {
  cursor: pointer;
}
.ended-modal .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.ended-modal .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.ended-modal .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.ended-modal .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .ended-modal .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .ended-modal .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;fa(vbe);function gbe(n){var t=n.onClose;return R.createElement("div",{className:"ended-modal"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},"Host has ended this live event."),R.createElement("div",{className:"close",onClick:t},R.createElement(bl,{width:22,height:22,viewBox:"0 0 60 60",fill:"#000"}))),R.createElement("div",{className:"buttons"},R.createElement("div",{className:"major-button",onClick:t},"End live")))}var bbe=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function ybe(n){var t=this,e=n.liveEvent,r=n.onClose;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount;var a=n.eventEndViewDisplayTime,o=K.useRef(null),u=mbe(),h=u[0],f=u[1],m=K.useState(e.host),v=m[0],y=m[1],w=K.useState(e.title),x=w[0],C=w[1],A=K.useState(e.coverUrl),L=A[0],S=A[1],k=K.useState(e.state),N=k[0],O=k[1],H=K.useState(e.participantCount||0),D=H[0],T=H[1],M=du("",""),q=M[0],z=M[1],re=M[2],pe=K.useState(),B=pe[0],Q=pe[1],ie=K.useContext(vl).stringSet,j=function(Re){switch(Re){case"created":return ie.EVENT_STATUS_CREATED;case"ready":return ie.EVENT_STATUS_READY;case"ongoing":return ie.EVENT_STATUS_ONGOING;case"ended":return ie.EVENT_STATUS_ENDED}},me=function(){return ha(t,void 0,void 0,function(){return pa(this,function(Re){return v&&e.setVideoViewForLiveEvent(o.current,v.hostId),[2]})})},ae=function(){z();var Re=setTimeout(function(){oe()},a??3e3);Q(Re)},oe=function(){return ha(t,void 0,void 0,function(){return pa(this,function(Re){return clearTimeout(B),Q(void 0),re(),r(e),[2]})})};K.useEffect(function(){me()},[v,N]),K.useEffect(function(){e.state===Vr.exports.LiveEventState.CREATED&&f("Live event will begin soon.");var Re=[e.on("liveEventStarted",function(){O(e.state)}),e.on("liveEventEnded",function(){O(e.state),ae()}),e.on("hostEntered",function(){f("Host Entered"),y(e.host)}),e.on("hostConnected",function(ue,he){f("Host Connected"),y(ue.host)}),e.on("hostDisconnected",function(){f("Host Disconnected"),y(e.host)}),e.on("hostExited",function(){f("Host Exited"),y(e.host)}),e.on("hostMutedAudio",function(){f("Host is muted"),y(e.host)}),e.on("hostUnmutedAudio",function(){f("Host is unmuted"),y(e.host)}),e.on("participantEntered",function(){T(e.participantCount)}),e.on("participantExited",function(){T(e.participantCount)}),e.on("liveEventUpdated",function(){C(e.title),S(e.coverUrl)}),e.on("disconnected",function(){r(e)})];return function(){Re.map(function(ue){return ue()})}},[e]);function ve(Re){var ue=Math.floor(Re/1e3),he=Math.floor(ue/60);return he=he%60,"".concat(he<0?0:he)}return R.createElement("div",{className:"participant-view"},R.createElement("div",{className:"participant-view__main"},R.createElement(h,null),R.createElement("div",{className:"video-wrapper"},R.createElement("video",{className:"participant-view__video",ref:o,playsInline:!0,autoPlay:!0,controls:bbe()})),R.createElement("div",{className:"participant-view__info"},R.createElement("div",{className:"participant-view__profile"},L?R.createElement("img",{src:L,alt:"cover image",className:"participant-view__profile__cover-image"}):R.createElement(U0,{viewBox:"-4 -4 20 20",width:56,height:56})),R.createElement("div",{className:"participant-view__info__wrapper"},R.createElement("div",{className:"participant-view__title__wrapper"},R.createElement("div",{className:"event-state--".concat(N)},j(N)),R.createElement("div",{className:"participant-view__title"},x||ie.CREATE_EVENT_DEFAULT_TITLE)),R.createElement("div",{className:"participant-view__detail"},D??0," watching now ",N===Vr.exports.LiveEventState.ONGOING?" Started ".concat(ve(e.duration)," mins ago"):""),R.createElement("div",{className:"participant-view__host-name"},v?v.nickname||" ":"No Host")))),R.createElement(HP,{liveEvent:e}),R.createElement(q,null,R.createElement(gbe,{onClose:oe})))}var Ebe=`.enter-view {
  width: 480px;
}
.enter-view .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 26px;
}
.enter-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.enter-view .enter-view__item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  border-radius: 4px;
  border: solid 1px rgba(0, 0, 0, 0.12);
  padding: 22px 24px 22px 22px;
  cursor: pointer;
}
.enter-view .enter-view__item .enter-view__item__icon {
  width: 28px;
  height: 28px;
  margin-right: 22px;
}
.enter-view .enter-view__item .enter-view__item__text {
  font-size: 16px;
  line-height: 1.38;
  color: rgba(0, 0, 0, 0.88);
}`;fa(Ebe);function wbe(n){var t=this,e=n.liveEventId,r=n.onClose,a=K.useContext(vl).stringSet,o=function(){return ha(t,void 0,void 0,function(){var h;return pa(this,function(f){switch(f.label){case 0:return[4,Vr.exports.SendbirdLive.getLiveEvent(e)];case 1:return h=f.sent(),[4,h.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return f.sent(),r(h,!0),[2]}})})},u=function(){return ha(t,void 0,void 0,function(){var h;return pa(this,function(f){switch(f.label){case 0:return[4,Vr.exports.SendbirdLive.getLiveEvent(e)];case 1:return h=f.sent(),[4,h.enter()];case 2:return f.sent(),r(h,!1),[2]}})})};return R.createElement("div",{className:"enter-view"},R.createElement("div",{className:"close",onClick:function(){return r()}},R.createElement(bl,{width:22,height:22,viewBox:"0 0 60 60"})),R.createElement("div",{className:"title"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE),R.createElement("div",{className:"enter-view__item",onClick:o},R.createElement("div",{className:"enter-view__item__icon"},R.createElement(PP,{viewBox:"0 0 64 64",width:28,height:28})),R.createElement("div",{className:"enter-view__item__text"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST)),R.createElement("div",{className:"enter-view__item",onClick:u},R.createElement("div",{className:"enter-view__item__icon"},R.createElement(FP,{viewBox:"0 0 64 64",width:28,height:28})),R.createElement("div",{className:"enter-view__item__text"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT)))}var xbe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.enter-error-view {
  width: 480px;
}
.enter-error-view .header {
  display: flex;
  align-items: center;
}
.enter-error-view .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: bold;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.enter-error-view .header .close:hover {
  cursor: pointer;
}
.enter-error-view .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.enter-error-view .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.enter-error-view .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.enter-error-view .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
  background-color: #742ddd;
}`;fa(xbe);function kbe(n){var t=n.liveEvent,e=n.onClose,r=K.useContext(vl).stringSet,a=K.useMemo(function(){return t&&t.state===Vr.exports.LiveEventState.CREATED?r.LIVE_EVENT_ENTER_ALERT_DESCRIPTION:(console.log(t),r.UNKNOWN_ERROR_ALERT_DESCRIPTION)},[t]);return R.createElement("div",{className:"enter-error-view"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},a),R.createElement("div",{className:"close",onClick:function(){return e()}},R.createElement(bl,{width:22,height:22,viewBox:"0 0 60 60"}))),R.createElement("div",{className:"buttons"},R.createElement("div",{className:"major-button",onClick:function(){return e()}},"OK")))}function Sbe(n){var t=this,e=n.userId,r=n.appId,a=n.nickname,o=n.accessToken,u=n.customApiHost,h=n.customWebSocketHost,f=n.theme,m=n.colorSet,v=n.stringSet,y=n.customize,w=K.useState(!1),x=w[0],C=w[1],A=K.useState(""),L=A[0],S=A[1],k=K.useState(),N=k[0],O=k[1],H=du(""),D=H[0],T=H[1],M=H[2],q=du(""),z=q[0],re=q[1],pe=q[2],B=du(""),Q=B[0],ie=B[1],j=B[2],me=uu(uu({},y==null?void 0:y.liveEventList),{onClickCreate:function(){T()},onClickElem:function(oe){return ha(t,void 0,void 0,function(){var ve;return pa(this,function(Re){switch(Re.label){case 0:return Re.trys.push([0,8,,9]),[4,Vr.exports.SendbirdLive.getLiveEvent(oe.liveEventId)];case 1:return ve=Re.sent(),ve.state===Vr.exports.LiveEventState.ENDED?(ie(),[2]):ve.isHost&&!ve.host?ve.state!==Vr.exports.LiveEventState.CREATED?[3,3]:[4,ve.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})]:[3,5];case 2:return Re.sent(),C(!0),O(ve),[3,4];case 3:S(oe.liveEventId),re(),Re.label=4;case 4:return[3,7];case 5:return[4,ve.enter()];case 6:Re.sent(),O(ve),Re.label=7;case 7:return[3,9];case 8:return Re.sent(),ie(),[3,9];case 9:return[2]}})})}}),ae=function(oe){var ve=oe.onClose;return N?x?R.createElement(hbe,{liveEvent:N,onClose:ve}):R.createElement(ybe,{liveEvent:N,onClose:ve}):R.createElement("div",{className:"sendbirdlive-app__no-event"},R.createElement("div",{className:"sendbirdlive-app__no-event__title"},"No live events selected"),R.createElement("div",{className:"sendbirdlive-app__no-event__description"},"Select a live event from the list or create a live event."),R.createElement("div",{className:"sendbirdlive-app__no-event__button",onClick:T},"Create"))};return R.createElement(z0e,{userId:e,appId:r,nickname:a,accessToken:o,customApiHost:u,customWebSocketHost:h,theme:f,colorSet:m,stringSet:v},R.createElement("div",{className:"sendbirdlive-app__wrapper"},R.createElement("div",{className:"sendbirdlive-app__liveeventlist__wrapper"},!x&&R.createElement(K0e,uu({},me))),R.createElement(Q,null,R.createElement(kbe,{liveEvent:N,onClose:j})),R.createElement(z,null,R.createElement(wbe,{liveEventId:L,onClose:function(oe,ve){O(oe),oe&&ve&&C(!0),pe()}})),R.createElement(D,null,R.createElement(Dge,{onClose:function(oe){O(oe),oe!=null&&oe.isHost&&C(!0),M()}})),R.createElement(ae,{onClose:function(){C(!1),O(void 0)}})))}var c7={},u7;u7=function(){function n(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function t(w,x){for(var C=0;C<x.length;C++){var A=x[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}function e(w,x,C){return x&&t(w.prototype,x),C&&t(w,C),Object.defineProperty(w,"prototype",{writable:!1}),w}function r(w){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},r(w)}function a(w,x){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,A){return C.__proto__=A,C},a(w,x)}function o(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function u(w){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,A=r(w);if(x){var L=r(this).constructor;C=Reflect.construct(A,arguments,L)}else C=A.apply(this,arguments);return function(S,k){if(k&&(typeof k=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(S)}(this,C)}}function h(){return h=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(w,x,C){var A=function(S,k){for(;!Object.prototype.hasOwnProperty.call(S,k)&&(S=r(S))!==null;);return S}(w,x);if(A){var L=Object.getOwnPropertyDescriptor(A,x);return L.get?L.get.call(arguments.length<3?w:C):L.value}},h.apply(this,arguments)}var f=function(){function w(){n(this,w),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(w,[{key:"addEventListener",value:function(x,C,A){x in this.listeners||(this.listeners[x]=[]),this.listeners[x].push({callback:C,options:A})}},{key:"removeEventListener",value:function(x,C){if(x in this.listeners){for(var A=this.listeners[x],L=0,S=A.length;L<S;L++)if(A[L].callback===C)return void A.splice(L,1)}}},{key:"dispatchEvent",value:function(x){if(x.type in this.listeners){for(var C=this.listeners[x.type].slice(),A=0,L=C.length;A<L;A++){var S=C[A];try{S.callback.call(this,x)}catch(k){Promise.resolve().then(function(){throw k})}S.options&&S.options.once&&this.removeEventListener(x.type,S.callback)}return!x.defaultPrevented}}}]),w}(),m=function(w){(function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(L&&L.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),L&&a(A,L)})(C,w);var x=u(C);function C(){var A;return n(this,C),(A=x.call(this)).listeners||f.call(o(A)),Object.defineProperty(o(A),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(A),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(o(A),"reason",{value:void 0,writable:!0,configurable:!0}),A}return e(C,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(A){A.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,A)),h(r(C.prototype),"dispatchEvent",this).call(this,A)}}]),C}(f),v=function(){function w(){n(this,w),Object.defineProperty(this,"signal",{value:new m,writable:!0,configurable:!0})}return e(w,[{key:"abort",value:function(x){var C;try{C=new Event("abort")}catch{typeof document<"u"?document.createEvent?(C=document.createEvent("Event")).initEvent("abort",!1,!1):(C=document.createEventObject()).type="abort":C={type:"abort",bubbles:!1,cancelable:!1}}var A=x;if(A===void 0)if(typeof document>"u")(A=new Error("This operation was aborted")).name="AbortError";else try{A=new DOMException("signal is aborted without reason")}catch{(A=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=A,this.signal.dispatchEvent(C)}},{key:"toString",value:function(){return"[object AbortController]"}}]),w}();function y(w){return w.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof w.Request=="function"&&!w.Request.prototype.hasOwnProperty("signal")||!w.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(v.prototype[Symbol.toStringTag]="AbortController",m.prototype[Symbol.toStringTag]="AbortSignal"),function(w){if(y(w))if(w.fetch){var x=function(L){typeof L=="function"&&(L={fetch:L});var S=L,k=S.fetch,N=S.Request,O=N===void 0?k.Request:N,H=S.AbortController,D=S.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,T=D!==void 0&&D;if(!y({fetch:k,Request:O,AbortController:H,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:T}))return{fetch:k,Request:M};var M=O;(M&&!M.prototype.hasOwnProperty("signal")||T)&&((M=function(z,re){var pe;re&&re.signal&&(pe=re.signal,delete re.signal);var B=new O(z,re);return pe&&Object.defineProperty(B,"signal",{writable:!1,enumerable:!1,configurable:!0,value:pe}),B}).prototype=O.prototype);var q=k;return{fetch:function(z,re){var pe=M&&M.prototype.isPrototypeOf(z)?z.signal:re?re.signal:void 0;if(pe){var B;try{B=new DOMException("Aborted","AbortError")}catch{(B=new Error("Aborted")).name="AbortError"}if(pe.aborted)return Promise.reject(B);var Q=new Promise(function(ie,j){pe.addEventListener("abort",function(){return j(B)},{once:!0})});return re&&re.signal&&delete re.signal,Promise.race([Q,q(z,re)])}return q(z,re)},Request:M}}(w),C=x.fetch,A=x.Request;w.fetch=C,w.Request=A,Object.defineProperty(w,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:v}),Object.defineProperty(w,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:m})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}(typeof self<"u"?self:fg)},u7();var Tbe=Hie({__proto__:null,default:c7},[c7]),Na=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||Na!==void 0&&Na,rs={searchParams:"URLSearchParams"in Na,iterable:"Symbol"in Na&&"iterator"in Symbol,blob:"FileReader"in Na&&"Blob"in Na&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Na,arrayBuffer:"ArrayBuffer"in Na};if(rs.arrayBuffer)var Cbe=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ibe=ArrayBuffer.isView||function(n){return n&&Cbe.indexOf(Object.prototype.toString.call(n))>-1};function ef(n){if(typeof n!="string"&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(n)||n==="")throw new TypeError('Invalid character in header field name: "'+n+'"');return n.toLowerCase()}function m6(n){return typeof n!="string"&&(n=String(n)),n}function cw(n){var t={next:function(){var e=n.shift();return{done:e===void 0,value:e}}};return rs.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Oi(n){this.map={},n instanceof Oi?n.forEach(function(t,e){this.append(e,t)},this):Array.isArray(n)?n.forEach(function(t){this.append(t[0],t[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(t){this.append(t,n[t])},this)}function uw(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function BP(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function Nbe(n){var t=new FileReader,e=BP(t);return t.readAsArrayBuffer(n),e}function d7(n){if(n.slice)return n.slice(0);var t=new Uint8Array(n.byteLength);return t.set(new Uint8Array(n)),t.buffer}function h7(){return this.bodyUsed=!1,this._initBody=function(n){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=n,n?typeof n=="string"?this._bodyText=n:rs.blob&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:rs.formData&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:rs.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():rs.arrayBuffer&&rs.blob&&(t=n)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=d7(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):rs.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||Ibe(n))?this._bodyArrayBuffer=d7(n):this._bodyText=n=Object.prototype.toString.call(n):this._bodyText="",this.headers.get("content-type")||(typeof n=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):rs.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},rs.blob&&(this.blob=function(){var n=uw(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var n=uw(this);return n||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(Nbe)}),this.text=function(){var n,t,e,r=uw(this);if(r)return r;if(this._bodyBlob)return n=this._bodyBlob,t=new FileReader,e=BP(t),t.readAsText(n),e;if(this._bodyArrayBuffer)return Promise.resolve(function(a){for(var o=new Uint8Array(a),u=new Array(o.length),h=0;h<o.length;h++)u[h]=String.fromCharCode(o[h]);return u.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},rs.formData&&(this.formData=function(){return this.text().then(Obe)}),this.json=function(){return this.text().then(JSON.parse)},this}Oi.prototype.append=function(n,t){n=ef(n),t=m6(t);var e=this.map[n];this.map[n]=e?e+", "+t:t},Oi.prototype.delete=function(n){delete this.map[ef(n)]},Oi.prototype.get=function(n){return n=ef(n),this.has(n)?this.map[n]:null},Oi.prototype.has=function(n){return this.map.hasOwnProperty(ef(n))},Oi.prototype.set=function(n,t){this.map[ef(n)]=m6(t)},Oi.prototype.forEach=function(n,t){for(var e in this.map)this.map.hasOwnProperty(e)&&n.call(t,this.map[e],e,this)},Oi.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),cw(n)},Oi.prototype.values=function(){var n=[];return this.forEach(function(t){n.push(t)}),cw(n)},Oi.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),cw(n)},rs.iterable&&(Oi.prototype[Symbol.iterator]=Oi.prototype.entries);var Abe=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Md(n,t){if(!(this instanceof Md))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var e,r,a=(t=t||{}).body;if(n instanceof Md){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,t.headers||(this.headers=new Oi(n.headers)),this.method=n.method,this.mode=n.mode,this.signal=n.signal,a||n._bodyInit==null||(a=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Oi(t.headers)),this.method=(e=t.method||this.method||"GET",r=e.toUpperCase(),Abe.indexOf(r)>-1?r:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&a)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),!(this.method!=="GET"&&this.method!=="HEAD"||t.cache!=="no-store"&&t.cache!=="no-cache")){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function Obe(n){var t=new FormData;return n.trim().split("&").forEach(function(e){if(e){var r=e.split("="),a=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(o))}}),t}function ll(n,t){if(!(this instanceof ll))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Oi(t.headers),this.url=t.url||"",this._initBody(n)}Md.prototype.clone=function(){return new Md(this,{body:this._bodyInit})},h7.call(Md.prototype),h7.call(ll.prototype),ll.prototype.clone=function(){return new ll(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Oi(this.headers),url:this.url})},ll.error=function(){var n=new ll(null,{status:0,statusText:""});return n.type="error",n};var Rbe=[301,302,303,307,308];ll.redirect=function(n,t){if(Rbe.indexOf(t)===-1)throw new RangeError("Invalid status code");return new ll(null,{status:t,headers:{location:n}})};var r0=Na.DOMException;try{new r0}catch{(r0=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),r0.prototype.constructor=r0}function p7(n,t){return new Promise(function(e,r){var a=new Md(n,t);if(a.signal&&a.signal.aborted)return r(new r0("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}o.onload=function(){var h,f,m={status:o.status,statusText:o.statusText,headers:(h=o.getAllResponseHeaders()||"",f=new Oi,h.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(y){return y.indexOf(`
`)===0?y.substr(1,y.length):y}).forEach(function(y){var w=y.split(":"),x=w.shift().trim();if(x){var C=w.join(":").trim();f.append(x,C)}}),f)};m.url="responseURL"in o?o.responseURL:m.headers.get("X-Request-URL");var v="response"in o?o.response:o.responseText;setTimeout(function(){e(new ll(v,m))},0)},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){r(new r0("Aborted","AbortError"))},0)},o.open(a.method,function(h){try{return h===""&&Na.location.href?Na.location.href:h}catch{return h}}(a.url),!0),a.credentials==="include"?o.withCredentials=!0:a.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(rs.blob?o.responseType="blob":rs.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(o.responseType="arraybuffer")),!t||typeof t.headers!="object"||t.headers instanceof Oi?a.headers.forEach(function(h,f){o.setRequestHeader(f,h)}):Object.getOwnPropertyNames(t.headers).forEach(function(h){o.setRequestHeader(h,m6(t.headers[h]))}),a.signal&&(a.signal.addEventListener("abort",u),o.onreadystatechange=function(){o.readyState===4&&a.signal.removeEventListener("abort",u)}),o.send(a._bodyInit===void 0?null:a._bodyInit)})}p7.polyfill=!0,Na.fetch||(Na.fetch=p7,Na.Headers=Oi,Na.Request=Md,Na.Response=ll);var Mbe=Object.freeze({__proto__:null});function $P(n,t,e,r){Object.defineProperty(n,t,{get:e,set:r,enumerable:!0,configurable:!0})}var zP=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},dw={},Jv={},bn=zP.parcelRequire3f09;bn==null&&(bn=function(n){if(n in dw)return dw[n].exports;if(n in Jv){var t=Jv[n];delete Jv[n];var e={id:n,exports:{}};return dw[n]=e,t.call(e.exports,e,e.exports),e.exports}var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r},bn.register=function(t,e){Jv[t]=e},zP.parcelRequire3f09=bn);bn.register("kk1yk",function(n,t){var e=bn("3YDN3"),r=e.System,a=e.VbrMode;e.Float;var o=e.ShortBlock;e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var u=e.new_float;e.new_float_n,e.new_int;var h=e.new_int_n,f=e.new_short_n,m=e.assert,v=bn("d2VP0"),y=bn("5HJeD"),w=bn("4SDnr"),x=bn("cU3Yf"),C=bn("2qGTD"),A=bn("e32wu"),L=bn("ctaQC"),S=bn("dQDcS"),k=bn("cPNKB");function N(){var O=bn("jL6I1"),H=this,D=131072;N.V9=410,N.V8=420,N.V7=430,N.V6=440,N.V5=450,N.V4=460,N.V3=470,N.V2=480,N.V1=490,N.V0=500,N.R3MIX=1e3,N.STANDARD=1001,N.EXTREME=1002,N.INSANE=1003,N.STANDARD_FAST=1004,N.EXTREME_FAST=1005,N.MEDIUM=1006,N.MEDIUM_FAST=1007;var T=16384+D;N.LAME_MAXMP3BUFFER=T;var M,q,z,re,pe,B=new v,Q,ie,j;this.enc=new k,this.setModules=function(G,ee,yn,Cn,Xn,qn,$n,On,pt){M=G,q=ee,z=yn,re=Cn,pe=Xn,Q=qn,ie=On,j=pt,this.enc.setModules(q,B,re,Q)};function me(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=u(k.SBMAX_l),this.bo_s_weight=u(k.SBMAX_s)}function ae(){this.lowerlimit=0}function oe(G,ee){this.lowpass=ee}var ve=4294479419;function Re(G){var ee;return G.class_id=ve,ee=G.internal_flags=new w,G.mode=O.NOT_SET,G.original=1,G.in_samplerate=44100,G.num_channels=2,G.num_samples=-1,G.bWriteVbrTag=!0,G.quality=-1,G.short_blocks=null,ee.subblock_gain=-1,G.lowpassfreq=0,G.highpassfreq=0,G.lowpasswidth=-1,G.highpasswidth=-1,G.VBR=a.vbr_off,G.VBR_q=4,G.ATHcurve=-1,G.VBR_mean_bitrate_kbps=128,G.VBR_min_bitrate_kbps=0,G.VBR_max_bitrate_kbps=0,G.VBR_hard_min=0,ee.VBR_min_bitrate=1,ee.VBR_max_bitrate=13,G.quant_comp=-1,G.quant_comp_short=-1,G.msfix=-1,ee.resample_ratio=1,ee.OldValue[0]=180,ee.OldValue[1]=180,ee.CurrentStep[0]=4,ee.CurrentStep[1]=4,ee.masking_lower=1,ee.nsPsy.attackthre=-1,ee.nsPsy.attackthre_s=-1,G.scale=-1,G.athaa_type=-1,G.ATHtype=-1,G.athaa_loudapprox=-1,G.athaa_sensitivity=0,G.useTemporal=null,G.interChRatio=-1,ee.mf_samples_to_encode=k.ENCDELAY+k.POSTDELAY,G.encoder_padding=0,ee.mf_size=k.ENCDELAY-k.MDCTDELAY,G.findReplayGain=!1,G.decode_on_the_fly=!1,ee.decode_on_the_fly=!1,ee.findReplayGain=!1,ee.findPeakSample=!1,ee.RadioGain=0,ee.AudiophileGain=0,ee.noclipGainChange=0,ee.noclipScale=-1,G.preset=0,G.write_id3tag_automatic=!0,0}this.lame_init=function(){var G=new y;return Re(G),G.lame_allocated_gfp=1,G};function ue(G){return G>1?0:G<=0?1:Math.cos(Math.PI/2*G)}this.nearestBitrateFullIndex=function(G){var ee=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],yn=0,Cn=0,Xn=0,qn=0;qn=ee[16],Xn=16,Cn=ee[16],yn=16;for(var $n=0;$n<16;$n++)if(Math.max(G,ee[$n+1])!=G){qn=ee[$n+1],Xn=$n+1,Cn=ee[$n],yn=$n;break}return qn-G>G-Cn?yn:Xn};function he(G,ee){var yn=44100;return ee>=48e3?yn=48e3:ee>=44100?yn=44100:ee>=32e3?yn=32e3:ee>=24e3?yn=24e3:ee>=22050?yn=22050:ee>=16e3?yn=16e3:ee>=12e3?yn=12e3:ee>=11025?yn=11025:ee>=8e3&&(yn=8e3),G==-1?yn:(G<=15960&&(yn=44100),G<=15250&&(yn=32e3),G<=11220&&(yn=24e3),G<=9970&&(yn=22050),G<=7230&&(yn=16e3),G<=5420&&(yn=12e3),G<=4510&&(yn=11025),G<=3970&&(yn=8e3),ee<yn?ee>44100?48e3:ee>32e3?44100:ee>24e3?32e3:ee>22050?24e3:ee>16e3?22050:ee>12e3?16e3:ee>11025?12e3:ee>8e3?11025:8e3:yn)}function V(G,ee){switch(G){case 44100:return ee.version=1,0;case 48e3:return ee.version=1,1;case 32e3:return ee.version=1,2;case 22050:return ee.version=0,0;case 24e3:return ee.version=0,1;case 16e3:return ee.version=0,2;case 11025:return ee.version=0,0;case 12e3:return ee.version=0,1;case 8e3:return ee.version=0,2;default:return ee.version=0,-1}}function Y(G,ee,yn){yn<16e3&&(ee=2);for(var Cn=S.bitrate_table[ee][1],Xn=2;Xn<=14;Xn++)S.bitrate_table[ee][Xn]>0&&Math.abs(S.bitrate_table[ee][Xn]-G)<Math.abs(Cn-G)&&(Cn=S.bitrate_table[ee][Xn]);return Cn}function $(G,ee,yn){yn<16e3&&(ee=2);for(var Cn=0;Cn<=14;Cn++)if(S.bitrate_table[ee][Cn]>0&&S.bitrate_table[ee][Cn]==G)return Cn;return-1}function te(G,ee){var yn=[new oe(8,2e3),new oe(16,3700),new oe(24,3900),new oe(32,5500),new oe(40,7e3),new oe(48,7500),new oe(56,1e4),new oe(64,11e3),new oe(80,13500),new oe(96,15100),new oe(112,15600),new oe(128,17e3),new oe(160,17500),new oe(192,18600),new oe(224,19400),new oe(256,19700),new oe(320,20500)],Cn=H.nearestBitrateFullIndex(ee);G.lowerlimit=yn[Cn].lowpass}function Me(G){var ee=G.internal_flags,yn=32,Cn=-1;if(ee.lowpass1>0){for(var Xn=999,qn=0;qn<=31;qn++){var $n=qn/31;$n>=ee.lowpass2&&(yn=Math.min(yn,qn)),ee.lowpass1<$n&&$n<ee.lowpass2&&(Xn=Math.min(Xn,qn))}Xn==999?ee.lowpass1=(yn-.75)/31:ee.lowpass1=(Xn-.75)/31,ee.lowpass2=yn/31}if(ee.highpass2>0&&ee.highpass2<.9*(.75/31)&&(ee.highpass1=0,ee.highpass2=0,r.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),ee.highpass2>0){for(var On=-1,qn=0;qn<=31;qn++){var $n=qn/31;$n<=ee.highpass1&&(Cn=Math.max(Cn,qn)),ee.highpass1<$n&&$n<ee.highpass2&&(On=Math.max(On,qn))}ee.highpass1=Cn/31,On==-1?ee.highpass2=(Cn+.75)/31:ee.highpass2=(On+.75)/31}for(var qn=0;qn<32;qn++){var pt,Yn,$n=qn/31;ee.highpass2>ee.highpass1?pt=ue((ee.highpass2-$n)/(ee.highpass2-ee.highpass1+1e-20)):pt=1,ee.lowpass2>ee.lowpass1?Yn=ue(($n-ee.lowpass1)/(ee.lowpass2-ee.lowpass1+1e-20)):Yn=1,ee.amp_filter[qn]=pt*Yn}}function Ke(G){var ee=G.internal_flags;switch(G.quality){default:case 9:ee.psymodel=0,ee.noise_shaping=0,ee.noise_shaping_amp=0,ee.noise_shaping_stop=0,ee.use_best_huffman=0,ee.full_outer_loop=0;break;case 8:G.quality=7;case 7:ee.psymodel=1,ee.noise_shaping=0,ee.noise_shaping_amp=0,ee.noise_shaping_stop=0,ee.use_best_huffman=0,ee.full_outer_loop=0;break;case 6:ee.psymodel=1,ee.noise_shaping==0&&(ee.noise_shaping=1),ee.noise_shaping_amp=0,ee.noise_shaping_stop=0,ee.subblock_gain==-1&&(ee.subblock_gain=1),ee.use_best_huffman=0,ee.full_outer_loop=0;break;case 5:ee.psymodel=1,ee.noise_shaping==0&&(ee.noise_shaping=1),ee.noise_shaping_amp=0,ee.noise_shaping_stop=0,ee.subblock_gain==-1&&(ee.subblock_gain=1),ee.use_best_huffman=0,ee.full_outer_loop=0;break;case 4:ee.psymodel=1,ee.noise_shaping==0&&(ee.noise_shaping=1),ee.noise_shaping_amp=0,ee.noise_shaping_stop=0,ee.subblock_gain==-1&&(ee.subblock_gain=1),ee.use_best_huffman=1,ee.full_outer_loop=0;break;case 3:ee.psymodel=1,ee.noise_shaping==0&&(ee.noise_shaping=1),ee.noise_shaping_amp=1,ee.noise_shaping_stop=1,ee.subblock_gain==-1&&(ee.subblock_gain=1),ee.use_best_huffman=1,ee.full_outer_loop=0;break;case 2:ee.psymodel=1,ee.noise_shaping==0&&(ee.noise_shaping=1),ee.substep_shaping==0&&(ee.substep_shaping=2),ee.noise_shaping_amp=1,ee.noise_shaping_stop=1,ee.subblock_gain==-1&&(ee.subblock_gain=1),ee.use_best_huffman=1,ee.full_outer_loop=0;break;case 1:ee.psymodel=1,ee.noise_shaping==0&&(ee.noise_shaping=1),ee.substep_shaping==0&&(ee.substep_shaping=2),ee.noise_shaping_amp=2,ee.noise_shaping_stop=1,ee.subblock_gain==-1&&(ee.subblock_gain=1),ee.use_best_huffman=1,ee.full_outer_loop=0;break;case 0:ee.psymodel=1,ee.noise_shaping==0&&(ee.noise_shaping=1),ee.substep_shaping==0&&(ee.substep_shaping=2),ee.noise_shaping_amp=2,ee.noise_shaping_stop=1,ee.subblock_gain==-1&&(ee.subblock_gain=1),ee.use_best_huffman=1,ee.full_outer_loop=0;break}}function Oe(G){var ee=G.internal_flags;G.frameNum=0,G.write_id3tag_automatic&&ie.id3tag_write_v2(G),ee.bitrate_stereoMode_Hist=h([16,5]),ee.bitrate_blockType_Hist=h([16,6]),ee.PeakSample=0,G.bWriteVbrTag&&Q.InitVbrTag(G)}this.lame_init_params=function(G){var ee=G.internal_flags;if(ee.Class_ID=0,ee.ATH==null&&(ee.ATH=new x),ee.PSY==null&&(ee.PSY=new me),ee.rgdata==null&&(ee.rgdata=new C),ee.channels_in=G.num_channels,ee.channels_in==1&&(G.mode=O.MONO),ee.channels_out=G.mode==O.MONO?1:2,ee.mode_ext=k.MPG_MD_MS_LR,G.mode==O.MONO&&(G.force_ms=!1),G.VBR==a.vbr_off&&G.VBR_mean_bitrate_kbps!=128&&G.brate==0&&(G.brate=G.VBR_mean_bitrate_kbps),G.VBR==a.vbr_off||G.VBR==a.vbr_mtrh||G.VBR==a.vbr_mt||(G.free_format=!1),G.VBR==a.vbr_off&&G.brate==0&&L.EQ(G.compression_ratio,0)&&(G.compression_ratio=11.025),G.VBR==a.vbr_off&&G.compression_ratio>0&&(G.out_samplerate==0&&(G.out_samplerate=map2MP3Frequency(int(.97*G.in_samplerate))),G.brate=0|G.out_samplerate*16*ee.channels_out/(1e3*G.compression_ratio),ee.samplerate_index=V(G.out_samplerate,G),G.free_format||(G.brate=Y(G.brate,G.version,G.out_samplerate))),G.out_samplerate!=0&&(G.out_samplerate<16e3?(G.VBR_mean_bitrate_kbps=Math.max(G.VBR_mean_bitrate_kbps,8),G.VBR_mean_bitrate_kbps=Math.min(G.VBR_mean_bitrate_kbps,64)):G.out_samplerate<32e3?(G.VBR_mean_bitrate_kbps=Math.max(G.VBR_mean_bitrate_kbps,8),G.VBR_mean_bitrate_kbps=Math.min(G.VBR_mean_bitrate_kbps,160)):(G.VBR_mean_bitrate_kbps=Math.max(G.VBR_mean_bitrate_kbps,32),G.VBR_mean_bitrate_kbps=Math.min(G.VBR_mean_bitrate_kbps,320))),G.lowpassfreq==0){var yn=16e3;switch(G.VBR){case a.vbr_off:var Cn=new ae;te(Cn,G.brate),yn=Cn.lowerlimit;break;case a.vbr_abr:var Cn=new ae;te(Cn,G.VBR_mean_bitrate_kbps),yn=Cn.lowerlimit;break;case a.vbr_rh:var On=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=G.VBR_q&&G.VBR_q<=9){var Xn=On[G.VBR_q],qn=On[G.VBR_q+1],$n=G.VBR_q_frac;yn=linear_int(Xn,qn,$n)}else yn=19500;break;default:var On=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=G.VBR_q&&G.VBR_q<=9){var Xn=On[G.VBR_q],qn=On[G.VBR_q+1],$n=G.VBR_q_frac;yn=linear_int(Xn,qn,$n)}else yn=19500}G.mode==O.MONO&&(G.VBR==a.vbr_off||G.VBR==a.vbr_abr)&&(yn*=1.5),G.lowpassfreq=yn|0}if(G.out_samplerate==0&&(2*G.lowpassfreq>G.in_samplerate&&(G.lowpassfreq=G.in_samplerate/2),G.out_samplerate=he(G.lowpassfreq|0,G.in_samplerate)),G.lowpassfreq=Math.min(20500,G.lowpassfreq),G.lowpassfreq=Math.min(G.out_samplerate/2,G.lowpassfreq),G.VBR==a.vbr_off&&(G.compression_ratio=G.out_samplerate*16*ee.channels_out/(1e3*G.brate)),G.VBR==a.vbr_abr&&(G.compression_ratio=G.out_samplerate*16*ee.channels_out/(1e3*G.VBR_mean_bitrate_kbps)),G.bWriteVbrTag||(G.findReplayGain=!1,G.decode_on_the_fly=!1,ee.findPeakSample=!1),ee.findReplayGain=G.findReplayGain,ee.decode_on_the_fly=G.decode_on_the_fly,ee.decode_on_the_fly&&(ee.findPeakSample=!0),ee.findReplayGain&&M.InitGainAnalysis(ee.rgdata,G.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return G.internal_flags=null,-6;switch(ee.decode_on_the_fly&&!G.decode_only&&(ee.hip!=null&&j.hip_decode_exit(ee.hip),ee.hip=j.hip_decode_init()),ee.mode_gr=G.out_samplerate<=24e3?1:2,G.framesize=576*ee.mode_gr,G.encoder_delay=k.ENCDELAY,ee.resample_ratio=G.in_samplerate/G.out_samplerate,G.VBR){case a.vbr_mt:case a.vbr_rh:case a.vbr_mtrh:var pt=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];G.compression_ratio=pt[G.VBR_q];break;case a.vbr_abr:G.compression_ratio=G.out_samplerate*16*ee.channels_out/(1e3*G.VBR_mean_bitrate_kbps);break;default:G.compression_ratio=G.out_samplerate*16*ee.channels_out/(1e3*G.brate);break}if(G.mode==O.NOT_SET&&(G.mode=O.JOINT_STEREO),G.highpassfreq>0?(ee.highpass1=2*G.highpassfreq,G.highpasswidth>=0?ee.highpass2=2*(G.highpassfreq+G.highpasswidth):ee.highpass2=2*G.highpassfreq,ee.highpass1/=G.out_samplerate,ee.highpass2/=G.out_samplerate):(ee.highpass1=0,ee.highpass2=0),G.lowpassfreq>0?(ee.lowpass2=2*G.lowpassfreq,G.lowpasswidth>=0?(ee.lowpass1=2*(G.lowpassfreq-G.lowpasswidth),ee.lowpass1<0&&(ee.lowpass1=0)):ee.lowpass1=2*G.lowpassfreq,ee.lowpass1/=G.out_samplerate,ee.lowpass2/=G.out_samplerate):(ee.lowpass1=0,ee.lowpass2=0),Me(G),ee.samplerate_index=V(G.out_samplerate,G),ee.samplerate_index<0)return G.internal_flags=null,-1;if(G.VBR==a.vbr_off){if(G.free_format)ee.bitrate_index=0;else if(G.brate=Y(G.brate,G.version,G.out_samplerate),ee.bitrate_index=$(G.brate,G.version,G.out_samplerate),ee.bitrate_index<=0)return G.internal_flags=null,-1}else ee.bitrate_index=1;G.analysis&&(G.bWriteVbrTag=!1),ee.pinfo!=null&&(G.bWriteVbrTag=!1),q.init_bit_stream_w(ee);for(var Yn=ee.samplerate_index+3*G.version+6*(G.out_samplerate<16e3?1:0),wn=0;wn<k.SBMAX_l+1;wn++)ee.scalefac_band.l[wn]=re.sfBandIndex[Yn].l[wn];for(var wn=0;wn<k.PSFB21+1;wn++){var Tt=(ee.scalefac_band.l[22]-ee.scalefac_band.l[21])/k.PSFB21,mt=ee.scalefac_band.l[21]+wn*Tt;ee.scalefac_band.psfb21[wn]=mt}ee.scalefac_band.psfb21[k.PSFB21]=576;for(var wn=0;wn<k.SBMAX_s+1;wn++)ee.scalefac_band.s[wn]=re.sfBandIndex[Yn].s[wn];for(var wn=0;wn<k.PSFB12+1;wn++){var Tt=(ee.scalefac_band.s[13]-ee.scalefac_band.s[12])/k.PSFB12,mt=ee.scalefac_band.s[12]+wn*Tt;ee.scalefac_band.psfb12[wn]=mt}ee.scalefac_band.psfb12[k.PSFB12]=192,G.version==1?ee.sideinfo_len=ee.channels_out==1?21:36:ee.sideinfo_len=ee.channels_out==1?13:21,G.error_protection&&(ee.sideinfo_len+=2),Oe(G),ee.Class_ID=ve;var jn;for(jn=0;jn<19;jn++)ee.nsPsy.pefirbuf[jn]=700*ee.mode_gr*ee.channels_out;switch(G.ATHtype==-1&&(G.ATHtype=4),m(G.VBR_q<=9),m(G.VBR_q>=0),G.VBR){case a.vbr_mt:G.VBR=a.vbr_mtrh;case a.vbr_mtrh:G.useTemporal==null&&(G.useTemporal=!1),z.apply_preset(G,500-G.VBR_q*10,0),G.quality<0&&(G.quality=LAME_DEFAULT_QUALITY),G.quality<5&&(G.quality=0),G.quality>5&&(G.quality=5),ee.PSY.mask_adjust=G.maskingadjust,ee.PSY.mask_adjust_short=G.maskingadjust_short,G.experimentalY?ee.sfb21_extra=!1:ee.sfb21_extra=G.out_samplerate>44e3,ee.iteration_loop=new VBRNewIterationLoop(pe);break;case a.vbr_rh:z.apply_preset(G,500-G.VBR_q*10,0),ee.PSY.mask_adjust=G.maskingadjust,ee.PSY.mask_adjust_short=G.maskingadjust_short,G.experimentalY?ee.sfb21_extra=!1:ee.sfb21_extra=G.out_samplerate>44e3,G.quality>6&&(G.quality=6),G.quality<0&&(G.quality=LAME_DEFAULT_QUALITY),ee.iteration_loop=new VBROldIterationLoop(pe);break;default:var Mn;ee.sfb21_extra=!1,G.quality<0&&(G.quality=LAME_DEFAULT_QUALITY),Mn=G.VBR,Mn==a.vbr_off&&(G.VBR_mean_bitrate_kbps=G.brate),z.apply_preset(G,G.VBR_mean_bitrate_kbps,0),G.VBR=Mn,ee.PSY.mask_adjust=G.maskingadjust,ee.PSY.mask_adjust_short=G.maskingadjust_short,Mn==a.vbr_off?ee.iteration_loop=new A(pe):ee.iteration_loop=new ABRIterationLoop(pe);break}if(m(G.scale>=0),G.VBR!=a.vbr_off){if(ee.VBR_min_bitrate=1,ee.VBR_max_bitrate=14,G.out_samplerate<16e3&&(ee.VBR_max_bitrate=8),G.VBR_min_bitrate_kbps!=0&&(G.VBR_min_bitrate_kbps=Y(G.VBR_min_bitrate_kbps,G.version,G.out_samplerate),ee.VBR_min_bitrate=$(G.VBR_min_bitrate_kbps,G.version,G.out_samplerate),ee.VBR_min_bitrate<0)||G.VBR_max_bitrate_kbps!=0&&(G.VBR_max_bitrate_kbps=Y(G.VBR_max_bitrate_kbps,G.version,G.out_samplerate),ee.VBR_max_bitrate=$(G.VBR_max_bitrate_kbps,G.version,G.out_samplerate),ee.VBR_max_bitrate<0))return-1;G.VBR_min_bitrate_kbps=S.bitrate_table[G.version][ee.VBR_min_bitrate],G.VBR_max_bitrate_kbps=S.bitrate_table[G.version][ee.VBR_max_bitrate],G.VBR_mean_bitrate_kbps=Math.min(S.bitrate_table[G.version][ee.VBR_max_bitrate],G.VBR_mean_bitrate_kbps),G.VBR_mean_bitrate_kbps=Math.max(S.bitrate_table[G.version][ee.VBR_min_bitrate],G.VBR_mean_bitrate_kbps)}return G.tune&&(ee.PSY.mask_adjust+=G.tune_value_a,ee.PSY.mask_adjust_short+=G.tune_value_a),Ke(G),m(G.scale>=0),G.athaa_type<0?ee.ATH.useAdjust=3:ee.ATH.useAdjust=G.athaa_type,ee.ATH.aaSensitivityP=Math.pow(10,G.athaa_sensitivity/-10),G.short_blocks==null&&(G.short_blocks=o.short_block_allowed),G.short_blocks==o.short_block_allowed&&(G.mode==O.JOINT_STEREO||G.mode==O.STEREO)&&(G.short_blocks=o.short_block_coupled),G.quant_comp<0&&(G.quant_comp=1),G.quant_comp_short<0&&(G.quant_comp_short=0),G.msfix<0&&(G.msfix=0),G.exp_nspsytune=G.exp_nspsytune|1,G.internal_flags.nsPsy.attackthre<0&&(G.internal_flags.nsPsy.attackthre=v.NSATTACKTHRE),G.internal_flags.nsPsy.attackthre_s<0&&(G.internal_flags.nsPsy.attackthre_s=v.NSATTACKTHRE_S),m(G.scale>=0),G.scale<0&&(G.scale=1),G.ATHtype<0&&(G.ATHtype=4),G.ATHcurve<0&&(G.ATHcurve=4),G.athaa_loudapprox<0&&(G.athaa_loudapprox=2),G.interChRatio<0&&(G.interChRatio=0),G.useTemporal==null&&(G.useTemporal=!0),ee.slot_lag=ee.frac_SpF=0,G.VBR==a.vbr_off&&(ee.slot_lag=ee.frac_SpF=(G.version+1)*72e3*G.brate%G.out_samplerate|0),re.iteration_init(G),B.psymodel_init(G),m(G.scale>=0),0};function xe(G,ee){(G.in_buffer_0==null||G.in_buffer_nsamples<ee)&&(G.in_buffer_0=u(ee),G.in_buffer_1=u(ee),G.in_buffer_nsamples=ee)}this.lame_encode_flush=function(G,ee,yn,Cn){var Xn=G.internal_flags,qn=f([2,1152]),$n=0,On,pt,Yn,wn,Tt=Xn.mf_samples_to_encode-k.POSTDELAY,mt=Le(G);if(Xn.mf_samples_to_encode<1)return 0;for(On=0,G.in_samplerate!=G.out_samplerate&&(Tt+=16*G.out_samplerate/G.in_samplerate),Yn=G.framesize-Tt%G.framesize,Yn<576&&(Yn+=G.framesize),G.encoder_padding=Yn,wn=(Tt+Yn)/G.framesize;wn>0&&$n>=0;){var jn=mt-Xn.mf_size,Mn=G.frameNum;jn*=G.in_samplerate,jn/=G.out_samplerate,jn>1152&&(jn=1152),jn<1&&(jn=1),pt=Cn-On,Cn==0&&(pt=0),$n=this.lame_encode_buffer(G,qn[0],qn[1],jn,ee,yn,pt),yn+=$n,On+=$n,wn-=Mn!=G.frameNum?1:0}if(Xn.mf_samples_to_encode=0,$n<0||(pt=Cn-On,Cn==0&&(pt=0),q.flush_bitstream(G),$n=q.copy_buffer(Xn,ee,yn,pt,1),$n<0))return $n;if(yn+=$n,On+=$n,pt=Cn-On,Cn==0&&(pt=0),G.write_id3tag_automatic){if(ie.id3tag_write_v1(G),$n=q.copy_buffer(Xn,ee,yn,pt,0),$n<0)return $n;On+=$n}return On},this.lame_encode_buffer=function(G,ee,yn,Cn,Xn,qn,$n){var On=G.internal_flags,pt=[null,null];if(On.Class_ID!=ve)return-3;if(Cn==0)return 0;xe(On,Cn),pt[0]=On.in_buffer_0,pt[1]=On.in_buffer_1;for(var Yn=0;Yn<Cn;Yn++)pt[0][Yn]=ee[Yn],On.channels_in>1&&(pt[1][Yn]=yn[Yn]);return Fe(G,pt[0],pt[1],Cn,Xn,qn,$n)};function Le(G){var ee=k.BLKSIZE+G.framesize-k.FFTOFFSET;return ee=Math.max(ee,512+G.framesize-32),m(w.MFSIZE>=ee),ee}function Fe(G,ee,yn,Cn,Xn,qn,$n){var On=G.internal_flags,pt=0,Yn,wn,Tt,mt,jn,Mn=[null,null],rn=[null,null];if(On.Class_ID!=ve)return-3;if(Cn==0)return 0;if(jn=q.copy_buffer(On,Xn,qn,$n,0),jn<0)return jn;if(qn+=jn,pt+=jn,rn[0]=ee,rn[1]=yn,L.NEQ(G.scale,0)&&L.NEQ(G.scale,1))for(wn=0;wn<Cn;++wn)rn[0][wn]*=G.scale,On.channels_out==2&&(rn[1][wn]*=G.scale);if(L.NEQ(G.scale_left,0)&&L.NEQ(G.scale_left,1))for(wn=0;wn<Cn;++wn)rn[0][wn]*=G.scale_left;if(L.NEQ(G.scale_right,0)&&L.NEQ(G.scale_right,1))for(wn=0;wn<Cn;++wn)rn[1][wn]*=G.scale_right;if(G.num_channels==2&&On.channels_out==1)for(wn=0;wn<Cn;++wn)rn[0][wn]=.5*(rn[0][wn]+rn[1][wn]),rn[1][wn]=0;mt=Le(G),Mn[0]=On.mfbuf[0],Mn[1]=On.mfbuf[1];for(var ot=0;Cn>0;){var ht=[null,null],wt=0,yt=0;ht[0]=rn[0],ht[1]=rn[1];var hr=new en;if(Vn(G,Mn,ht,ot,Cn,hr),wt=hr.n_in,yt=hr.n_out,On.findReplayGain&&!On.decode_on_the_fly&&M.AnalyzeSamples(On.rgdata,Mn[0],On.mf_size,Mn[1],On.mf_size,yt,On.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(Cn-=wt,ot+=wt,On.channels_out,On.mf_size+=yt,m(On.mf_size<=w.MFSIZE),On.mf_samples_to_encode<1&&(On.mf_samples_to_encode=k.ENCDELAY+k.POSTDELAY),On.mf_samples_to_encode+=yt,On.mf_size>=mt){var Zr=$n-pt;if($n==0&&(Zr=0),Yn=Je(G,Mn[0],Mn[1],Xn,qn,Zr),Yn<0)return Yn;for(qn+=Yn,pt+=Yn,On.mf_size-=G.framesize,On.mf_samples_to_encode-=G.framesize,Tt=0;Tt<On.channels_out;Tt++)for(wn=0;wn<On.mf_size;wn++)Mn[Tt][wn]=Mn[Tt][wn+G.framesize]}}return m(Cn==0),pt}function Je(G,ee,yn,Cn,Xn,qn){var $n=H.enc.lame_encode_mp3_frame(G,ee,yn,Cn,Xn,qn);return G.frameNum++,$n}function en(){this.n_in=0,this.n_out=0}function un(){this.num_used=0}function _n(G,ee){return ee!=0?_n(ee,G%ee):G}function on(G,ee,yn){var Cn=Math.PI*ee;G/=yn,G<0&&(G=0),G>1&&(G=1);var Xn=G-.5,qn=.42-.5*Math.cos(2*G*Math.PI)+.08*Math.cos(4*G*Math.PI);return Math.abs(Xn)<1e-9?Cn/Math.PI:qn*Math.sin(yn*Cn*Xn)/(Math.PI*yn*Xn)}function Hn(G,ee,yn,Cn,Xn,qn,$n,On,pt){var Yn=G.internal_flags,wn,Tt=0,mt,jn=G.out_samplerate/_n(G.out_samplerate,G.in_samplerate);jn>w.BPC&&(jn=w.BPC);var Mn=Math.abs(Yn.resample_ratio-Math.floor(.5+Yn.resample_ratio))<1e-4?1:0,rn=1/Yn.resample_ratio;rn>1&&(rn=1);var ot=31;ot%2==0&&--ot,ot+=Mn;var ht=ot+1;if(Yn.fill_buffer_resample_init==0){for(Yn.inbuf_old[0]=u(ht),Yn.inbuf_old[1]=u(ht),wn=0;wn<=2*jn;++wn)Yn.blackfilt[wn]=u(ht);for(Yn.itime[0]=0,Yn.itime[1]=0,Tt=0;Tt<=2*jn;Tt++){var wt=0,yt=(Tt-jn)/(2*jn);for(wn=0;wn<=ot;wn++)wt+=Yn.blackfilt[Tt][wn]=on(wn-yt,rn,ot);for(wn=0;wn<=ot;wn++)Yn.blackfilt[Tt][wn]/=wt}Yn.fill_buffer_resample_init=1}var hr=Yn.inbuf_old[pt];for(mt=0;mt<Cn;mt++){var Zr,Or;if(Zr=mt*Yn.resample_ratio,Tt=0|Math.floor(Zr-Yn.itime[pt]),ot+Tt-ot/2>=$n)break;var yt=Zr-Yn.itime[pt]-(Tt+.5*(ot%2));m(Math.abs(yt)<=.501),Or=0|Math.floor(yt*2*jn+jn+.5);var Ya=0;for(wn=0;wn<=ot;++wn){var qr=0|wn+Tt-ot/2,Qi;m(qr<$n),m(qr+ht>=0),Qi=qr<0?hr[ht+qr]:Xn[qn+qr],Ya+=Qi*Yn.blackfilt[Or][wn]}ee[yn+mt]=Ya}if(On.num_used=Math.min($n,ot+Tt-ot/2),Yn.itime[pt]+=On.num_used-mt*Yn.resample_ratio,On.num_used>=ht)for(wn=0;wn<ht;wn++)hr[wn]=Xn[qn+On.num_used+wn-ht];else{var Ni=ht-On.num_used;for(wn=0;wn<Ni;++wn)hr[wn]=hr[wn+On.num_used];for(Tt=0;wn<ht;++wn,++Tt)hr[wn]=Xn[qn+Tt];m(Tt==On.num_used)}return mt}function Vn(G,ee,yn,Cn,Xn,qn){var $n=G.internal_flags;if($n.resample_ratio<.9999||$n.resample_ratio>1.0001)for(var On=0;On<$n.channels_out;On++){var pt=new un;qn.n_out=Hn(G,ee[On],$n.mf_size,G.framesize,yn[On],Cn,Xn,pt,On),qn.n_in=pt.num_used}else{qn.n_out=Math.min(G.framesize,Xn),qn.n_in=qn.n_out;for(var Yn=0;Yn<qn.n_out;++Yn)ee[0][$n.mf_size+Yn]=yn[0][Cn+Yn],$n.channels_out==2&&(ee[1][$n.mf_size+Yn]=yn[1][Cn+Yn])}}}n.exports=N});bn.register("3YDN3",function(n,t){function e(k){return new Int8Array(k)}function r(k){return new Int16Array(k)}function a(k){return new Int32Array(k)}function o(k){return new Float32Array(k)}function u(k){return new Float64Array(k)}function h(k){if(k.length==1)return o(k[0]);var N=k[0];k=k.slice(1);for(var O=[],H=0;H<N;H++)O.push(h(k));return O}function f(k){if(k.length==1)return a(k[0]);var N=k[0];k=k.slice(1);for(var O=[],H=0;H<N;H++)O.push(f(k));return O}function m(k){if(k.length==1)return r(k[0]);var N=k[0];k=k.slice(1);for(var O=[],H=0;H<N;H++)O.push(m(k));return O}function v(k){if(k.length==1)return new Array(k[0]);var N=k[0];k=k.slice(1);for(var O=[],H=0;H<N;H++)O.push(v(k));return O}var y={};y.fill=function(k,N,O,H){if(arguments.length==2)for(var D=0;D<k.length;D++)k[D]=arguments[1];else for(var D=N;D<O;D++)k[D]=H};var w={};w.arraycopy=function(k,N,O,H,D){for(var T=N+D;N<T;)O[H++]=k[N++]},w.out={},w.out.println=function(k){console.log(k)},w.out.printf=function(){console.log.apply(console,arguments)};var x={};x.SQRT2=1.4142135623730951,x.FAST_LOG10=function(k){return Math.log10(k)},x.FAST_LOG10_X=function(k,N){return Math.log10(k)*N};function C(k){this.ordinal=k}C.short_block_allowed=new C(0),C.short_block_coupled=new C(1),C.short_block_dispensed=new C(2),C.short_block_forced=new C(3);var A={};A.MAX_VALUE=34028235e31;function L(k){this.ordinal=k}L.vbr_off=new L(0),L.vbr_mt=new L(1),L.vbr_rh=new L(2),L.vbr_abr=new L(3),L.vbr_mtrh=new L(4),L.vbr_default=L.vbr_mtrh;var S=function(k){};n.exports={System:w,VbrMode:L,Float:A,ShortBlock:C,Util:x,Arrays:y,new_array_n:v,new_byte:e,new_double:u,new_float:o,new_float_n:h,new_int:a,new_int_n:f,new_short:r,new_short_n:m,assert:S}});bn.register("d2VP0",function(n,t){var e=bn("3YDN3");e.System;var r=e.VbrMode,a=e.Float,o=e.ShortBlock,u=e.Util,h=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var f=e.new_float,m=e.new_float_n,v=e.new_int;e.new_int_n;var y=e.assert,w=bn("2g11P"),x=bn("cPNKB");function C(){var A=bn("jL6I1"),L=new w,S=2.302585092994046,k=2,N=16,O=2,H=16,D=.34,T=1/217621504/(x.BLKSIZE/2),M=.01,q=.8,z=.6,re=.3,pe=3.5,B=21,Q=.2302585093;function ie(ce){return ce}function j(ce,le){for(var ke=0,Ne=0;Ne<x.BLKSIZE/2;++Ne)ke+=ce[Ne]*le.ATH.eql_w[Ne];return ke*=T,ke}function me(ce,le,ke,Ne,Pe,ge,He,Ve,Ue,nn,Ge){var sn=ce.internal_flags;if(Ue<2)L.fft_long(sn,Ne[Pe],Ue,nn,Ge),L.fft_short(sn,ge[He],Ue,nn,Ge);else if(Ue==2){for(var Nn=x.BLKSIZE-1;Nn>=0;--Nn){var it=Ne[Pe+0][Nn],je=Ne[Pe+1][Nn];Ne[Pe+0][Nn]=(it+je)*u.SQRT2*.5,Ne[Pe+1][Nn]=(it-je)*u.SQRT2*.5}for(var Se=2;Se>=0;--Se)for(var Nn=x.BLKSIZE_s-1;Nn>=0;--Nn){var it=ge[He+0][Se][Nn],je=ge[He+1][Se][Nn];ge[He+0][Se][Nn]=(it+je)*u.SQRT2*.5,ge[He+1][Se][Nn]=(it-je)*u.SQRT2*.5}}le[0]=Ne[Pe+0][0],le[0]*=le[0];for(var Nn=x.BLKSIZE/2-1;Nn>=0;--Nn){var Ce=Ne[Pe+0][x.BLKSIZE/2-Nn],Ye=Ne[Pe+0][x.BLKSIZE/2+Nn];le[x.BLKSIZE/2-Nn]=(Ce*Ce+Ye*Ye)*.5}for(var Se=2;Se>=0;--Se){ke[Se][0]=ge[He+0][Se][0],ke[Se][0]*=ke[Se][0];for(var Nn=x.BLKSIZE_s/2-1;Nn>=0;--Nn){var Ce=ge[He+0][Se][x.BLKSIZE_s/2-Nn],Ye=ge[He+0][Se][x.BLKSIZE_s/2+Nn];ke[Se][x.BLKSIZE_s/2-Nn]=(Ce*Ce+Ye*Ye)*.5}}for(var Kn=0,Nn=11;Nn<x.HBLKSIZE;Nn++)Kn+=le[Nn];if(sn.tot_ener[Ue]=Kn,ce.analysis){for(var Nn=0;Nn<x.HBLKSIZE;Nn++)sn.pinfo.energy[Ve][Ue][Nn]=sn.pinfo.energy_save[Ue][Nn],sn.pinfo.energy_save[Ue][Nn]=le[Nn];sn.pinfo.pe[Ve][Ue]=sn.pe[Ue]}ce.athaa_loudapprox==2&&Ue<2&&(sn.loudness_sq[Ve][Ue]=sn.loudness_sq_save[Ue],sn.loudness_sq_save[Ue]=j(le,sn))}var ae=8,oe=23,ve=15,Re,ue,he,V=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function Y(){Re=Math.pow(10,(ae+1)/16),ue=Math.pow(10,(oe+1)/16),he=Math.pow(10,ve/10)}var $=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],te=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],Me=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function Ke(ce,le,ke,Ne,Pe,ge){var He;if(le>ce)if(le<ce*ue)He=le/ce;else return ce+le;else{if(ce>=le*ue)return ce+le;He=ce/le}if(y(ce>=0),y(le>=0),ce+=le,Ne+3<=6){if(He>=Re)return ce;var Ve=0|u.FAST_LOG10_X(He,16);return ce*te[Ve]}var Ve=0|u.FAST_LOG10_X(He,16);if(ge!=0?le=Pe.ATH.cb_s[ke]*Pe.ATH.adjust:le=Pe.ATH.cb_l[ke]*Pe.ATH.adjust,y(le>=0),ce<he*le){if(ce>le){var Ue,nn;return Ue=1,Ve<=13&&(Ue=Me[Ve]),nn=u.FAST_LOG10_X(ce/le,10/15),ce*(($[Ve]-Ue)*nn+Ue)}return Ve>13?ce:ce*Me[Ve]}return ce*$[Ve]}var Oe=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function xe(ce,le,ke){var Ne;if(ce<0&&(ce=0),le<0&&(le=0),ce<=0)return le;if(le<=0)return ce;if(le>ce?Ne=le/ce:Ne=ce/le,-2<=ke&&ke<=2){if(Ne>=Re)return ce+le;var Pe=0|u.FAST_LOG10_X(Ne,16);return(ce+le)*Oe[Pe]}return Ne<ue?ce+le:(ce<le&&(ce=le),ce)}function Le(ce,le){var ke=ce.internal_flags;if(ke.channels_out>1){for(var Ne=0;Ne<x.SBMAX_l;Ne++){var Pe=ke.thm[0].l[Ne],ge=ke.thm[1].l[Ne];ke.thm[0].l[Ne]+=ge*le,ke.thm[1].l[Ne]+=Pe*le}for(var Ne=0;Ne<x.SBMAX_s;Ne++)for(var He=0;He<3;He++){var Pe=ke.thm[0].s[Ne][He],ge=ke.thm[1].s[Ne][He];ke.thm[0].s[Ne][He]+=ge*le,ke.thm[1].s[Ne][He]+=Pe*le}}}function Fe(ce){for(var le=0;le<x.SBMAX_l;le++)if(!(ce.thm[0].l[le]>1.58*ce.thm[1].l[le]||ce.thm[1].l[le]>1.58*ce.thm[0].l[le])){var ke=ce.mld_l[le]*ce.en[3].l[le],Ne=Math.max(ce.thm[2].l[le],Math.min(ce.thm[3].l[le],ke));ke=ce.mld_l[le]*ce.en[2].l[le];var Pe=Math.max(ce.thm[3].l[le],Math.min(ce.thm[2].l[le],ke));ce.thm[2].l[le]=Ne,ce.thm[3].l[le]=Pe}for(var le=0;le<x.SBMAX_s;le++)for(var ge=0;ge<3;ge++)if(!(ce.thm[0].s[le][ge]>1.58*ce.thm[1].s[le][ge]||ce.thm[1].s[le][ge]>1.58*ce.thm[0].s[le][ge])){var ke=ce.mld_s[le]*ce.en[3].s[le][ge],Ne=Math.max(ce.thm[2].s[le][ge],Math.min(ce.thm[3].s[le][ge],ke));ke=ce.mld_s[le]*ce.en[2].s[le][ge];var Pe=Math.max(ce.thm[3].s[le][ge],Math.min(ce.thm[2].s[le][ge],ke));ce.thm[2].s[le][ge]=Ne,ce.thm[3].s[le][ge]=Pe}}function Je(ce,le,ke){var Ne=le,Pe=Math.pow(10,ke);le*=2,Ne*=2;for(var ge=0;ge<x.SBMAX_l;ge++){var He,Ve,Ue,nn;if(nn=ce.ATH.cb_l[ce.bm_l[ge]]*Pe,He=Math.min(Math.max(ce.thm[0].l[ge],nn),Math.max(ce.thm[1].l[ge],nn)),Ve=Math.max(ce.thm[2].l[ge],nn),Ue=Math.max(ce.thm[3].l[ge],nn),He*le<Ve+Ue){var Ge=He*Ne/(Ve+Ue);Ve*=Ge,Ue*=Ge,y(Ve+Ue>0)}ce.thm[2].l[ge]=Math.min(Ve,ce.thm[2].l[ge]),ce.thm[3].l[ge]=Math.min(Ue,ce.thm[3].l[ge])}Pe*=x.BLKSIZE_s/x.BLKSIZE;for(var ge=0;ge<x.SBMAX_s;ge++)for(var sn=0;sn<3;sn++){var He,Ve,Ue,nn;if(nn=ce.ATH.cb_s[ce.bm_s[ge]]*Pe,He=Math.min(Math.max(ce.thm[0].s[ge][sn],nn),Math.max(ce.thm[1].s[ge][sn],nn)),Ve=Math.max(ce.thm[2].s[ge][sn],nn),Ue=Math.max(ce.thm[3].s[ge][sn],nn),He*le<Ve+Ue){var Ge=He*le/(Ve+Ue);Ve*=Ge,Ue*=Ge,y(Ve+Ue>0)}ce.thm[2].s[ge][sn]=Math.min(ce.thm[2].s[ge][sn],Ve),ce.thm[3].s[ge][sn]=Math.min(ce.thm[3].s[ge][sn],Ue)}}function en(ce,le,ke,Ne,Pe){var ge,He,Ve=0,Ue=0;for(ge=He=0;ge<x.SBMAX_s;++He,++ge){for(var nn=ce.bo_s[ge],Ge=ce.npart_s,sn=nn<Ge?nn:Ge;He<sn;)y(le[He]>=0),y(ke[He]>=0),Ve+=le[He],Ue+=ke[He],He++;if(ce.en[Ne].s[ge][Pe]=Ve,ce.thm[Ne].s[ge][Pe]=Ue,He>=Ge){++ge;break}y(le[He]>=0),y(ke[He]>=0);var Nn=ce.PSY.bo_s_weight[ge],it=1-Nn;Ve=Nn*le[He],Ue=Nn*ke[He],ce.en[Ne].s[ge][Pe]+=Ve,ce.thm[Ne].s[ge][Pe]+=Ue,Ve=it*le[He],Ue=it*ke[He]}for(;ge<x.SBMAX_s;++ge)ce.en[Ne].s[ge][Pe]=0,ce.thm[Ne].s[ge][Pe]=0}function un(ce,le,ke,Ne){var Pe,ge,He=0,Ve=0;for(Pe=ge=0;Pe<x.SBMAX_l;++ge,++Pe){for(var Ue=ce.bo_l[Pe],nn=ce.npart_l,Ge=Ue<nn?Ue:nn;ge<Ge;)y(le[ge]>=0),y(ke[ge]>=0),He+=le[ge],Ve+=ke[ge],ge++;if(ce.en[Ne].l[Pe]=He,ce.thm[Ne].l[Pe]=Ve,ge>=nn){++Pe;break}y(le[ge]>=0),y(ke[ge]>=0);var sn=ce.PSY.bo_l_weight[Pe],Nn=1-sn;He=sn*le[ge],Ve=sn*ke[ge],ce.en[Ne].l[Pe]+=He,ce.thm[Ne].l[Pe]+=Ve,He=Nn*le[ge],Ve=Nn*ke[ge]}for(;Pe<x.SBMAX_l;++Pe)ce.en[Ne].l[Pe]=0,ce.thm[Ne].l[Pe]=0}function _n(ce,le,ke,Ne,Pe,ge){var He=ce.internal_flags,Ve,Ue;for(Ue=Ve=0;Ue<He.npart_s;++Ue){for(var nn=0,Ge=He.numlines_s[Ue],sn=0;sn<Ge;++sn,++Ve){var Nn=le[ge][Ve];nn+=Nn}ke[Ue]=nn}for(y(Ue==He.npart_s),y(Ve==129),Ve=Ue=0;Ue<He.npart_s;Ue++){var it=He.s3ind_s[Ue][0],je=He.s3_ss[Ve++]*ke[it];for(++it;it<=He.s3ind_s[Ue][1];)je+=He.s3_ss[Ve]*ke[it],++Ve,++it;var Se=O*He.nb_s1[Pe][Ue];if(Ne[Ue]=Math.min(je,Se),He.blocktype_old[Pe&1]==x.SHORT_TYPE){var Se=H*He.nb_s2[Pe][Ue],Ce=Ne[Ue];Ne[Ue]=Math.min(Se,Ce)}He.nb_s2[Pe][Ue]=He.nb_s1[Pe][Ue],He.nb_s1[Pe][Ue]=je,y(Ne[Ue]>=0)}for(;Ue<=x.CBANDS;++Ue)ke[Ue]=0,Ne[Ue]=0}function on(ce,le,ke,Ne){var Pe=ce.internal_flags;ce.short_blocks==o.short_block_coupled&&!(le[0]!=0&&le[1]!=0)&&(le[0]=le[1]=0);for(var ge=0;ge<Pe.channels_out;ge++)Ne[ge]=x.NORM_TYPE,ce.short_blocks==o.short_block_dispensed&&(le[ge]=1),ce.short_blocks==o.short_block_forced&&(le[ge]=0),le[ge]!=0?(y(Pe.blocktype_old[ge]!=x.START_TYPE),Pe.blocktype_old[ge]==x.SHORT_TYPE&&(Ne[ge]=x.STOP_TYPE)):(Ne[ge]=x.SHORT_TYPE,Pe.blocktype_old[ge]==x.NORM_TYPE&&(Pe.blocktype_old[ge]=x.START_TYPE),Pe.blocktype_old[ge]==x.STOP_TYPE&&(Pe.blocktype_old[ge]=x.SHORT_TYPE)),ke[ge]=Pe.blocktype_old[ge],Pe.blocktype_old[ge]=Ne[ge]}function Hn(ce,le,ke){return ke>=1?ce:ke<=0?le:le>0?Math.pow(ce/le,ke)*le:0}var Vn=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function G(ce,le){for(var ke=309.07,Ne=0;Ne<x.SBMAX_s-1;Ne++)for(var Pe=0;Pe<3;Pe++){var ge=ce.thm.s[Ne][Pe];if(y(Ne<Vn.length),ge>0){var He=ge*le,Ve=ce.en.s[Ne][Pe];Ve>He&&(Ve>He*1e10?ke+=Vn[Ne]*(10*S):(y(He>0),ke+=Vn[Ne]*u.FAST_LOG10(Ve/He)))}}return ke}var ee=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function yn(ce,le){for(var ke=281.0575,Ne=0;Ne<x.SBMAX_l-1;Ne++){var Pe=ce.thm.l[Ne];if(y(Ne<ee.length),Pe>0){var ge=Pe*le,He=ce.en.l[Ne];He>ge&&(He>ge*1e10?ke+=ee[Ne]*(10*S):(y(ge>0),ke+=ee[Ne]*u.FAST_LOG10(He/ge)))}}return ke}function Cn(ce,le,ke,Ne,Pe){var ge,He;for(ge=He=0;ge<ce.npart_l;++ge){var Ve=0,Ue=0,nn;for(nn=0;nn<ce.numlines_l[ge];++nn,++He){var Ge=le[He];y(Ge>=0),Ve+=Ge,Ue<Ge&&(Ue=Ge)}ke[ge]=Ve,Ne[ge]=Ue,Pe[ge]=Ve*ce.rnumlines_l[ge],y(ce.rnumlines_l[ge]>=0),y(Ve>=0),y(ke[ge]>=0),y(Ne[ge]>=0),y(Pe[ge]>=0)}}function Xn(ce,le,ke,Ne){var Pe=V.length-1,ge=0,He=ke[ge]+ke[ge+1];if(y(He>=0),He>0){var Ve=le[ge];Ve<le[ge+1]&&(Ve=le[ge+1]),y(ce.numlines_l[ge]+ce.numlines_l[ge+1]-1>0),He=20*(Ve*2-He)/(He*(ce.numlines_l[ge]+ce.numlines_l[ge+1]-1));var Ue=0|He;Ue>Pe&&(Ue=Pe),Ne[ge]=Ue}else Ne[ge]=0;for(ge=1;ge<ce.npart_l-1;ge++)if(He=ke[ge-1]+ke[ge]+ke[ge+1],y(He>=0),He>0){var Ve=le[ge-1];Ve<le[ge]&&(Ve=le[ge]),Ve<le[ge+1]&&(Ve=le[ge+1]),y(ce.numlines_l[ge-1]+ce.numlines_l[ge]+ce.numlines_l[ge+1]-1>0),He=20*(Ve*3-He)/(He*(ce.numlines_l[ge-1]+ce.numlines_l[ge]+ce.numlines_l[ge+1]-1));var Ue=0|He;Ue>Pe&&(Ue=Pe),Ne[ge]=Ue}else Ne[ge]=0;if(y(ge>0),y(ge==ce.npart_l-1),He=ke[ge-1]+ke[ge],y(He>=0),He>0){var Ve=le[ge-1];Ve<le[ge]&&(Ve=le[ge]),y(ce.numlines_l[ge-1]+ce.numlines_l[ge]-1>0),He=20*(Ve*2-He)/(He*(ce.numlines_l[ge-1]+ce.numlines_l[ge]-1));var Ue=0|He;Ue>Pe&&(Ue=Pe),Ne[ge]=Ue}else Ne[ge]=0;y(ge==ce.npart_l-1)}var qn=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];this.L3psycho_anal_ns=function(ce,le,ke,Ne,Pe,ge,He,Ve,Ue,nn){var Ge=ce.internal_flags,sn=m([2,x.BLKSIZE]),Nn=m([2,3,x.BLKSIZE_s]),it=f(x.CBANDS+1),je=f(x.CBANDS+1),Se=f(x.CBANDS+2),Ce=v(2),Ye=v(2),Kn,pn,Ln,cn,Zn,$t,Rn,vt,Ct=m([2,576]),lr,jr=v(x.CBANDS+2),br=v(x.CBANDS+2);for(h.fill(br,0),Kn=Ge.channels_out,ce.mode==A.JOINT_STEREO&&(Kn=4),ce.VBR==r.vbr_off?lr=Ge.ResvMax==0?0:Ge.ResvSize/Ge.ResvMax*.5:ce.VBR==r.vbr_rh||ce.VBR==r.vbr_mtrh||ce.VBR==r.vbr_mt?lr=.6:lr=1,pn=0;pn<Ge.channels_out;pn++){var pr=le[pn],Ft=ke+576-350-B+192;for(y(qn.length==(B-1)/2),cn=0;cn<576;cn++){var mi,Mr;for(mi=pr[Ft+cn+10],Mr=0,Zn=0;Zn<(B-1)/2-1;Zn+=2)mi+=qn[Zn]*(pr[Ft+cn+Zn]+pr[Ft+cn+B-Zn]),Mr+=qn[Zn+1]*(pr[Ft+cn+Zn+1]+pr[Ft+cn+B-Zn-1]);Ct[pn][cn]=mi+Mr}Pe[Ne][pn].en.assign(Ge.en[pn]),Pe[Ne][pn].thm.assign(Ge.thm[pn]),Kn>2&&(ge[Ne][pn].en.assign(Ge.en[pn+2]),ge[Ne][pn].thm.assign(Ge.thm[pn+2]))}for(pn=0;pn<Kn;pn++){var Ui,qt,hi=f(12),Ra=[0,0,0,0],Dr=f(12),yl=1,pc,El=f(x.CBANDS),ai=f(x.CBANDS),fr=[0,0,0,0],vi=f(x.HBLKSIZE),fc=m([3,x.HBLKSIZE_s]);for(y(Ge.npart_s<=x.CBANDS),y(Ge.npart_l<=x.CBANDS),cn=0;cn<3;cn++)hi[cn]=Ge.nsPsy.last_en_subshort[pn][cn+6],y(Ge.nsPsy.last_en_subshort[pn][cn+4]>0),Dr[cn]=hi[cn]/Ge.nsPsy.last_en_subshort[pn][cn+4],Ra[0]+=hi[cn];if(pn==2)for(cn=0;cn<576;cn++){var xi,wl;xi=Ct[0][cn],wl=Ct[1][cn],Ct[0][cn]=xi+wl,Ct[1][cn]=xi-wl}var Do=Ct[pn&1],Lo=0;for(cn=0;cn<9;cn++){for(var Uo=Lo+64,Jr=1;Lo<Uo;Lo++)Jr<Math.abs(Do[Lo])&&(Jr=Math.abs(Do[Lo]));Ge.nsPsy.last_en_subshort[pn][cn]=hi[cn+3]=Jr,Ra[1+cn/3]+=Jr,Jr>hi[cn+3-2]?(y(hi[cn+3-2]>0),Jr=Jr/hi[cn+3-2]):hi[cn+3-2]>Jr*10?(y(Jr>0),Jr=hi[cn+3-2]/(Jr*10)):Jr=0,Dr[cn+3]=Jr}if(ce.analysis){var Po=Dr[0];for(cn=1;cn<12;cn++)Po<Dr[cn]&&(Po=Dr[cn]);Ge.pinfo.ers[Ne][pn]=Ge.pinfo.ers_save[pn],Ge.pinfo.ers_save[pn]=Po}for(pc=pn==3?Ge.nsPsy.attackthre_s:Ge.nsPsy.attackthre,cn=0;cn<12;cn++)fr[cn/3]==0&&Dr[cn]>pc&&(fr[cn/3]=cn%3+1);for(cn=1;cn<4;cn++){var _c;Ra[cn-1]>Ra[cn]?(y(Ra[cn]>0),_c=Ra[cn-1]/Ra[cn]):(y(Ra[cn-1]>0),_c=Ra[cn]/Ra[cn-1]),_c<1.7&&(fr[cn]=0,cn==1&&(fr[0]=0))}for(fr[0]!=0&&Ge.nsPsy.lastAttacks[pn]!=0&&(fr[0]=0),(Ge.nsPsy.lastAttacks[pn]==3||fr[0]+fr[1]+fr[2]+fr[3]!=0)&&(yl=0,fr[1]!=0&&fr[0]!=0&&(fr[1]=0),fr[2]!=0&&fr[1]!=0&&(fr[2]=0),fr[3]!=0&&fr[2]!=0&&(fr[3]=0)),pn<2?Ye[pn]=yl:yl==0&&(Ye[0]=Ye[1]=0),Ue[pn]=Ge.tot_ener[pn],qt=Nn,Ui=sn,me(ce,vi,fc,Ui,pn&1,qt,pn&1,Ne,pn,le,ke),Cn(Ge,vi,it,El,ai),Xn(Ge,El,ai,jr),vt=0;vt<3;vt++){var Ot,Wn;for(_n(ce,fc,je,Se,pn,vt),en(Ge,je,Se,pn,vt),Rn=0;Rn<x.SBMAX_s;Rn++){if(Wn=Ge.thm[pn].s[Rn][vt],Wn*=q,fr[vt]>=2||fr[vt+1]==1){var Xe=vt!=0?vt-1:2,Jr=Hn(Ge.thm[pn].s[Rn][Xe],Wn,z*lr);Wn=Math.min(Wn,Jr)}if(fr[vt]==1){var Xe=vt!=0?vt-1:2,Jr=Hn(Ge.thm[pn].s[Rn][Xe],Wn,re*lr);Wn=Math.min(Wn,Jr)}else if(vt!=0&&fr[vt-1]==3||vt==0&&Ge.nsPsy.lastAttacks[pn]==3){var Xe=vt!=2?vt+1:0,Jr=Hn(Ge.thm[pn].s[Rn][Xe],Wn,re*lr);Wn=Math.min(Wn,Jr)}Ot=hi[vt*3+3]+hi[vt*3+4]+hi[vt*3+5],hi[vt*3+5]*6<Ot&&(Wn*=.5,hi[vt*3+4]*6<Ot&&(Wn*=.5)),Ge.thm[pn].s[Rn][vt]=Wn}}for(Ge.nsPsy.lastAttacks[pn]=fr[2],$t=0,Ln=0;Ln<Ge.npart_l;Ln++){for(var qe=Ge.s3ind[Ln][0],Gn=it[qe]*V[jr[qe]],Jn=Ge.s3_ll[$t++]*Gn;++qe<=Ge.s3ind[Ln][1];)Gn=it[qe]*V[jr[qe]],Jn=Ke(Jn,Ge.s3_ll[$t++]*Gn,qe,qe-Ln,Ge,0);Jn*=.158489319246111,Ge.blocktype_old[pn&1]==x.SHORT_TYPE?Se[Ln]=Jn:Se[Ln]=Hn(Math.min(Jn,Math.min(k*Ge.nb_1[pn][Ln],N*Ge.nb_2[pn][Ln])),Jn,lr),Ge.nb_2[pn][Ln]=Ge.nb_1[pn][Ln],Ge.nb_1[pn][Ln]=Jn}for(;Ln<=x.CBANDS;++Ln)it[Ln]=0,Se[Ln]=0;un(Ge,it,Se,pn)}if((ce.mode==A.STEREO||ce.mode==A.JOINT_STEREO)&&ce.interChRatio>0&&Le(ce,ce.interChRatio),ce.mode==A.JOINT_STEREO){var Xt;Fe(Ge),Xt=ce.msfix,Math.abs(Xt)>0&&Je(Ge,Xt,ce.ATHlower*Ge.ATH.adjust)}for(on(ce,Ye,nn,Ce),pn=0;pn<Kn;pn++){var It,Ma=0,mc,vc;pn>1?(It=Ve,Ma=-2,mc=x.NORM_TYPE,(nn[0]==x.SHORT_TYPE||nn[1]==x.SHORT_TYPE)&&(mc=x.SHORT_TYPE),vc=ge[Ne][pn-2]):(It=He,Ma=0,mc=nn[pn],vc=Pe[Ne][pn]),mc==x.SHORT_TYPE?It[Ma+pn]=G(vc,Ge.masking_lower):It[Ma+pn]=yn(vc,Ge.masking_lower),ce.analysis&&(Ge.pinfo.pe[Ne][pn]=It[Ma+pn])}return 0};function $n(ce,le,ke,Ne,Pe,ge,He,Ve){var Ue=ce.internal_flags;if(Ne<2)L.fft_long(Ue,He[Ve],Ne,le,ke);else if(Ne==2)for(var nn=x.BLKSIZE-1;nn>=0;--nn){var Ge=He[Ve+0][nn],sn=He[Ve+1][nn];He[Ve+0][nn]=(Ge+sn)*u.SQRT2*.5,He[Ve+1][nn]=(Ge-sn)*u.SQRT2*.5}ge[0]=He[Ve+0][0],ge[0]*=ge[0];for(var nn=x.BLKSIZE/2-1;nn>=0;--nn){var Nn=He[Ve+0][x.BLKSIZE/2-nn],it=He[Ve+0][x.BLKSIZE/2+nn];ge[x.BLKSIZE/2-nn]=(Nn*Nn+it*it)*.5}for(var je=0,nn=11;nn<x.HBLKSIZE;nn++)je+=ge[nn];if(Ue.tot_ener[Ne]=je,ce.analysis){for(var nn=0;nn<x.HBLKSIZE;nn++)Ue.pinfo.energy[Pe][Ne][nn]=Ue.pinfo.energy_save[Ne][nn],Ue.pinfo.energy_save[Ne][nn]=ge[nn];Ue.pinfo.pe[Pe][Ne]=Ue.pe[Ne]}}function On(ce,le,ke,Ne,Pe,ge,He,Ve){var Ue=ce.internal_flags;if(Pe==0&&Ne<2&&L.fft_short(Ue,He[Ve],Ne,le,ke),Ne==2)for(var nn=x.BLKSIZE_s-1;nn>=0;--nn){var Ge=He[Ve+0][Pe][nn],sn=He[Ve+1][Pe][nn];He[Ve+0][Pe][nn]=(Ge+sn)*u.SQRT2*.5,He[Ve+1][Pe][nn]=(Ge-sn)*u.SQRT2*.5}ge[Pe][0]=He[Ve+0][Pe][0],ge[Pe][0]*=ge[Pe][0];for(var nn=x.BLKSIZE_s/2-1;nn>=0;--nn){var Nn=He[Ve+0][Pe][x.BLKSIZE_s/2-nn],it=He[Ve+0][Pe][x.BLKSIZE_s/2+nn];ge[Pe][x.BLKSIZE_s/2-nn]=(Nn*Nn+it*it)*.5}}function pt(ce,le,ke,Ne){var Pe=ce.internal_flags;ce.athaa_loudapprox==2&&ke<2&&(Pe.loudness_sq[le][ke]=Pe.loudness_sq_save[ke],Pe.loudness_sq_save[ke]=j(Ne,Pe))}var Yn=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];function wn(ce,le,ke,Ne,Pe,ge,He,Ve,Ue,nn){for(var Ge=m([2,576]),sn=ce.internal_flags,Nn=sn.channels_out,it=ce.mode==A.JOINT_STEREO?4:Nn,je=0;je<Nn;je++){firbuf=le[je];var Se=ke+576-350-B+192;y(Yn.length==(B-1)/2);for(var Ce=0;Ce<576;Ce++){var Ye,Kn;Ye=firbuf[Se+Ce+10],Kn=0;for(var pn=0;pn<(B-1)/2-1;pn+=2)Ye+=Yn[pn]*(firbuf[Se+Ce+pn]+firbuf[Se+Ce+B-pn]),Kn+=Yn[pn+1]*(firbuf[Se+Ce+pn+1]+firbuf[Se+Ce+B-pn-1]);Ge[je][Ce]=Ye+Kn}Pe[Ne][je].en.assign(sn.en[je]),Pe[Ne][je].thm.assign(sn.thm[je]),it>2&&(ge[Ne][je].en.assign(sn.en[je+2]),ge[Ne][je].thm.assign(sn.thm[je+2]))}for(var je=0;je<it;je++){var Ln=f(12),cn=f(12),Zn=[0,0,0,0],$t=Ge[je&1],Rn=0,vt=je==3?sn.nsPsy.attackthre_s:sn.nsPsy.attackthre,Ct=1;if(je==2)for(var Ce=0,pn=576;pn>0;++Ce,--pn){var lr=Ge[0][Ce],jr=Ge[1][Ce];Ge[0][Ce]=lr+jr,Ge[1][Ce]=lr-jr}for(var Ce=0;Ce<3;Ce++)cn[Ce]=sn.nsPsy.last_en_subshort[je][Ce+6],y(sn.nsPsy.last_en_subshort[je][Ce+4]>0),Ln[Ce]=cn[Ce]/sn.nsPsy.last_en_subshort[je][Ce+4],Zn[0]+=cn[Ce];for(var Ce=0;Ce<9;Ce++){for(var br=Rn+64,pr=1;Rn<br;Rn++)pr<Math.abs($t[Rn])&&(pr=Math.abs($t[Rn]));sn.nsPsy.last_en_subshort[je][Ce]=cn[Ce+3]=pr,Zn[1+Ce/3]+=pr,pr>cn[Ce+3-2]?(y(cn[Ce+3-2]>0),pr=pr/cn[Ce+3-2]):cn[Ce+3-2]>pr*10?(y(pr>0),pr=cn[Ce+3-2]/(pr*10)):pr=0,Ln[Ce+3]=pr}for(var Ce=0;Ce<3;++Ce){var Ft=cn[Ce*3+3]+cn[Ce*3+4]+cn[Ce*3+5],mi=1;cn[Ce*3+5]*6<Ft&&(mi*=.5,cn[Ce*3+4]*6<Ft&&(mi*=.5)),Ve[je][Ce]=mi}if(ce.analysis){for(var Mr=Ln[0],Ce=1;Ce<12;Ce++)Mr<Ln[Ce]&&(Mr=Ln[Ce]);sn.pinfo.ers[Ne][je]=sn.pinfo.ers_save[je],sn.pinfo.ers_save[je]=Mr}for(var Ce=0;Ce<12;Ce++)Ue[je][Ce/3]==0&&Ln[Ce]>vt&&(Ue[je][Ce/3]=Ce%3+1);for(var Ce=1;Ce<4;Ce++){var Ui=Zn[Ce-1],qt=Zn[Ce],hi=Math.max(Ui,qt);hi<4e4&&Ui<1.7*qt&&qt<1.7*Ui&&(Ce==1&&Ue[je][0]<=Ue[je][Ce]&&(Ue[je][0]=0),Ue[je][Ce]=0)}Ue[je][0]<=sn.nsPsy.lastAttacks[je]&&(Ue[je][0]=0),(sn.nsPsy.lastAttacks[je]==3||Ue[je][0]+Ue[je][1]+Ue[je][2]+Ue[je][3]!=0)&&(Ct=0,Ue[je][1]!=0&&Ue[je][0]!=0&&(Ue[je][1]=0),Ue[je][2]!=0&&Ue[je][1]!=0&&(Ue[je][2]=0),Ue[je][3]!=0&&Ue[je][2]!=0&&(Ue[je][3]=0)),je<2?nn[je]=Ct:Ct==0&&(nn[0]=nn[1]=0),He[je]=sn.tot_ener[je]}}function Tt(ce,le,ke){if(ke==0)for(var Ne=0;Ne<ce.npart_s;Ne++)ce.nb_s2[le][Ne]=ce.nb_s1[le][Ne],ce.nb_s1[le][Ne]=0}function mt(ce,le){for(var ke=0;ke<ce.npart_l;ke++)ce.nb_2[le][ke]=ce.nb_1[le][ke],ce.nb_1[le][ke]=0}function jn(ce,le,ke,Ne){var Pe=V.length-1,ge=0,He=ke[ge]+ke[ge+1];if(y(He>=0),He>0){var Ve=le[ge];Ve<le[ge+1]&&(Ve=le[ge+1]),y(ce.numlines_s[ge]+ce.numlines_s[ge+1]-1>0),He=20*(Ve*2-He)/(He*(ce.numlines_s[ge]+ce.numlines_s[ge+1]-1));var Ue=0|He;Ue>Pe&&(Ue=Pe),Ne[ge]=Ue}else Ne[ge]=0;for(ge=1;ge<ce.npart_s-1;ge++)if(He=ke[ge-1]+ke[ge]+ke[ge+1],y(ge+1<ce.npart_s),y(He>=0),He>0){var Ve=le[ge-1];Ve<le[ge]&&(Ve=le[ge]),Ve<le[ge+1]&&(Ve=le[ge+1]),y(ce.numlines_s[ge-1]+ce.numlines_s[ge]+ce.numlines_s[ge+1]-1>0),He=20*(Ve*3-He)/(He*(ce.numlines_s[ge-1]+ce.numlines_s[ge]+ce.numlines_s[ge+1]-1));var Ue=0|He;Ue>Pe&&(Ue=Pe),Ne[ge]=Ue}else Ne[ge]=0;if(y(ge>0),y(ge==ce.npart_s-1),He=ke[ge-1]+ke[ge],y(He>=0),He>0){var Ve=le[ge-1];Ve<le[ge]&&(Ve=le[ge]),y(ce.numlines_s[ge-1]+ce.numlines_s[ge]-1>0),He=20*(Ve*2-He)/(He*(ce.numlines_s[ge-1]+ce.numlines_s[ge]-1));var Ue=0|He;Ue>Pe&&(Ue=Pe),Ne[ge]=Ue}else Ne[ge]=0;y(ge==ce.npart_s-1)}function Mn(ce,le,ke,Ne,Pe,ge){var He=ce.internal_flags,Ve=new float[x.CBANDS],Ue=f(x.CBANDS),nn,Ge,sn,Nn=new int[x.CBANDS];for(sn=Ge=0;sn<He.npart_s;++sn){var it=0,je=0,Se=He.numlines_s[sn];for(nn=0;nn<Se;++nn,++Ge){var Ce=le[ge][Ge];it+=Ce,je<Ce&&(je=Ce)}ke[sn]=it,y(it>=0),Ve[sn]=je,y(Se>0),Ue[sn]=it/Se,y(Ue[sn]>=0)}for(y(sn==He.npart_s),y(Ge==129);sn<x.CBANDS;++sn)Ve[sn]=0,Ue[sn]=0;for(jn(He,Ve,Ue,Nn),Ge=sn=0;sn<He.npart_s;sn++){var Ye=He.s3ind_s[sn][0],Kn=He.s3ind_s[sn][1],pn,Ln,cn,Zn,$t;for(pn=Nn[Ye],Ln=1,Zn=He.s3_ss[Ge]*ke[Ye]*V[Nn[Ye]],++Ge,++Ye;Ye<=Kn;)pn+=Nn[Ye],Ln+=1,cn=He.s3_ss[Ge]*ke[Ye]*V[Nn[Ye]],Zn=xe(Zn,cn,Ye-sn),++Ge,++Ye;pn=(1+2*pn)/(2*Ln),$t=V[pn]*.5,Zn*=$t,Ne[sn]=Zn,He.nb_s2[Pe][sn]=He.nb_s1[Pe][sn],He.nb_s1[Pe][sn]=Zn,cn=Ve[sn],cn*=He.minval_s[sn],cn*=$t,Ne[sn]>cn&&(Ne[sn]=cn),He.masking_lower>1&&(Ne[sn]*=He.masking_lower),Ne[sn]>ke[sn]&&(Ne[sn]=ke[sn]),He.masking_lower<1&&(Ne[sn]*=He.masking_lower),y(Ne[sn]>=0)}for(;sn<x.CBANDS;++sn)ke[sn]=0,Ne[sn]=0}function rn(ce,le,ke,Ne,Pe){var ge=f(x.CBANDS),He=f(x.CBANDS),Ve=v(x.CBANDS+2),Ue;Cn(ce,le,ke,ge,He),Xn(ce,ge,He,Ve);var nn=0;for(Ue=0;Ue<ce.npart_l;Ue++){var Ge,sn,Nn,it,je=ce.s3ind[Ue][0],Se=ce.s3ind[Ue][1],Ce=0,Ye=0;for(Ce=Ve[je],Ye+=1,sn=ce.s3_ll[nn]*ke[je]*V[Ve[je]],++nn,++je;je<=Se;)Ce+=Ve[je],Ye+=1,Ge=ce.s3_ll[nn]*ke[je]*V[Ve[je]],it=xe(sn,Ge,je-Ue),sn=it,++nn,++je;if(Ce=(1+2*Ce)/(2*Ye),Nn=V[Ce]*.5,sn*=Nn,ce.blocktype_old[Pe&1]==x.SHORT_TYPE){var Kn=k*ce.nb_1[Pe][Ue];Kn>0?Ne[Ue]=Math.min(sn,Kn):Ne[Ue]=Math.min(sn,ke[Ue]*re)}else{var pn=N*ce.nb_2[Pe][Ue],Ln=k*ce.nb_1[Pe][Ue],Kn;pn<=0&&(pn=sn),Ln<=0&&(Ln=sn),ce.blocktype_old[Pe&1]==x.NORM_TYPE?Kn=Math.min(Ln,pn):Kn=Ln,Ne[Ue]=Math.min(sn,Kn)}ce.nb_2[Pe][Ue]=ce.nb_1[Pe][Ue],ce.nb_1[Pe][Ue]=sn,Ge=ge[Ue],Ge*=ce.minval_l[Ue],Ge*=Nn,Ne[Ue]>Ge&&(Ne[Ue]=Ge),ce.masking_lower>1&&(Ne[Ue]*=ce.masking_lower),Ne[Ue]>ke[Ue]&&(Ne[Ue]=ke[Ue]),ce.masking_lower<1&&(Ne[Ue]*=ce.masking_lower),y(Ne[Ue]>=0)}for(;Ue<x.CBANDS;++Ue)ke[Ue]=0,Ne[Ue]=0}function ot(ce,le){var ke=ce.internal_flags;ce.short_blocks==o.short_block_coupled&&!(le[0]!=0&&le[1]!=0)&&(le[0]=le[1]=0);for(var Ne=0;Ne<ke.channels_out;Ne++)ce.short_blocks==o.short_block_dispensed&&(le[Ne]=1),ce.short_blocks==o.short_block_forced&&(le[Ne]=0)}function ht(ce,le,ke){for(var Ne=ce.internal_flags,Pe=0;Pe<Ne.channels_out;Pe++){var ge=x.NORM_TYPE;le[Pe]!=0?(y(Ne.blocktype_old[Pe]!=x.START_TYPE),Ne.blocktype_old[Pe]==x.SHORT_TYPE&&(ge=x.STOP_TYPE)):(ge=x.SHORT_TYPE,Ne.blocktype_old[Pe]==x.NORM_TYPE&&(Ne.blocktype_old[Pe]=x.START_TYPE),Ne.blocktype_old[Pe]==x.STOP_TYPE&&(Ne.blocktype_old[Pe]=x.SHORT_TYPE)),ke[Pe]=Ne.blocktype_old[Pe],Ne.blocktype_old[Pe]=ge}}function wt(ce,le,ke,Ne,Pe,ge,He){for(var Ve=ge*2,Ue=ge>0?Math.pow(10,Pe):1,nn,Ge,sn=0;sn<He;++sn){var Nn=ce[2][sn],it=ce[3][sn],je=le[0][sn],Se=le[1][sn],Ce=le[2][sn],Ye=le[3][sn];if(je<=1.58*Se&&Se<=1.58*je){var Kn=ke[sn]*it,pn=ke[sn]*Nn;Ge=Math.max(Ce,Math.min(Ye,Kn)),nn=Math.max(Ye,Math.min(Ce,pn))}else Ge=Ce,nn=Ye;if(ge>0){var Ln,cn,Zn=Ne[sn]*Ue;if(Ln=Math.min(Math.max(je,Zn),Math.max(Se,Zn)),Ce=Math.max(Ge,Zn),Ye=Math.max(nn,Zn),cn=Ce+Ye,cn>0&&Ln*Ve<cn){var $t=Ln*Ve/cn;Ce*=$t,Ye*=$t,y(cn>0)}Ge=Math.min(Ce,Ge),nn=Math.min(Ye,nn)}Ge>Nn&&(Ge=Nn),nn>it&&(nn=it),le[2][sn]=Ge,le[3][sn]=nn}}this.L3psycho_anal_vbr=function(ce,le,ke,Ne,Pe,ge,He,Ve,Ue,nn){var Ge=ce.internal_flags,sn,Nn,it=f(x.HBLKSIZE),je=m([3,x.HBLKSIZE_s]),Se=m([2,x.BLKSIZE]),Ce=m([2,3,x.BLKSIZE_s]),Ye=m([4,x.CBANDS]),Kn=m([4,x.CBANDS]),pn=m([4,3]),Ln=.6,cn=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Zn=v(2),$t=ce.mode==A.JOINT_STEREO?4:Ge.channels_out;wn(ce,le,ke,Ne,Pe,ge,Ue,pn,cn,Zn),ot(ce,Zn);for(var Rn=0;Rn<$t;Rn++){var vt=Rn&1;sn=Se,$n(ce,le,ke,Rn,Ne,it,sn,vt),pt(ce,Ne,Rn,it),Zn[vt]!=0?rn(Ge,it,Ye[Rn],Kn[Rn],Rn):mt(Ge,Rn)}Zn[0]+Zn[1]==2&&ce.mode==A.JOINT_STEREO&&wt(Ye,Kn,Ge.mld_cb_l,Ge.ATH.cb_l,ce.ATHlower*Ge.ATH.adjust,ce.msfix,Ge.npart_l);for(var Rn=0;Rn<$t;Rn++){var vt=Rn&1;Zn[vt]!=0&&un(Ge,Ye[Rn],Kn[Rn],Rn)}for(var Ct=0;Ct<3;Ct++){for(var Rn=0;Rn<$t;++Rn){var vt=Rn&1;Zn[vt]!=0?Tt(Ge,Rn,Ct):(Nn=Ce,On(ce,le,ke,Rn,Ct,je,Nn,vt),Mn(ce,je,Ye[Rn],Kn[Rn],Rn,Ct))}Zn[0]+Zn[1]==0&&ce.mode==A.JOINT_STEREO&&wt(Ye,Kn,Ge.mld_cb_s,Ge.ATH.cb_s,ce.ATHlower*Ge.ATH.adjust,ce.msfix,Ge.npart_s);for(var Rn=0;Rn<$t;++Rn){var vt=Rn&1;Zn[vt]==0&&en(Ge,Ye[Rn],Kn[Rn],Rn,Ct)}}for(var Rn=0;Rn<$t;Rn++){var vt=Rn&1;if(Zn[vt]==0)for(var lr=0;lr<x.SBMAX_s;lr++){for(var jr=f(3),Ct=0;Ct<3;Ct++){var br=Ge.thm[Rn].s[lr][Ct];if(br*=q,cn[Rn][Ct]>=2||cn[Rn][Ct+1]==1){var pr=Ct!=0?Ct-1:2,Ft=Hn(Ge.thm[Rn].s[lr][pr],br,z*Ln);br=Math.min(br,Ft)}else if(cn[Rn][Ct]==1){var pr=Ct!=0?Ct-1:2,Ft=Hn(Ge.thm[Rn].s[lr][pr],br,re*Ln);br=Math.min(br,Ft)}else if(Ct!=0&&cn[Rn][Ct-1]==3||Ct==0&&Ge.nsPsy.lastAttacks[Rn]==3){var pr=Ct!=2?Ct+1:0,Ft=Hn(Ge.thm[Rn].s[lr][pr],br,re*Ln);br=Math.min(br,Ft)}br*=pn[Rn][Ct],jr[Ct]=br}for(var Ct=0;Ct<3;Ct++)Ge.thm[Rn].s[lr][Ct]=jr[Ct]}}for(var Rn=0;Rn<$t;Rn++)Ge.nsPsy.lastAttacks[Rn]=cn[Rn][2];ht(ce,Zn,nn);for(var Rn=0;Rn<$t;Rn++){var mi,Mr,Ui,qt;Rn>1?(mi=Ve,Mr=-2,Ui=x.NORM_TYPE,(nn[0]==x.SHORT_TYPE||nn[1]==x.SHORT_TYPE)&&(Ui=x.SHORT_TYPE),qt=ge[Ne][Rn-2]):(mi=He,Mr=0,Ui=nn[Rn],qt=Pe[Ne][Rn]),Ui==x.SHORT_TYPE?mi[Mr+Rn]=G(qt,Ge.masking_lower):mi[Mr+Rn]=yn(qt,Ge.masking_lower),ce.analysis&&(Ge.pinfo.pe[Ne][Rn]=mi[Mr+Rn])}return 0};function yt(ce,le){var ke=ce,Ne;return ke>=0?Ne=-ke*27:Ne=ke*le,Ne<=-72?0:Math.exp(Ne*Q)}function hr(ce){var le=0,ke=0,Ne=0,Pe,ge;for(Ne=0;yt(Ne,ce)>1e-20;Ne-=1);for(Pe=Ne,ge=0;Math.abs(ge-Pe)>1e-12;)Ne=(ge+Pe)/2,yt(Ne,ce)>0?ge=Ne:Pe=Ne;le=Pe;var Ne=0,Pe,ge;for(Ne=0;yt(Ne,ce)>1e-20;Ne+=1);for(Pe=0,ge=Ne;Math.abs(ge-Pe)>1e-12;)Ne=(ge+Pe)/2,yt(Ne,ce)>0?Pe=Ne:ge=Ne;ke=ge;var He=0,Ve=1e3,Ue;for(Ue=0;Ue<=Ve;++Ue){var Ne=le+Ue*(ke-le)/Ve,nn=yt(Ne,ce);He+=nn}var Ge=(Ve+1)/(He*(ke-le));return Ge}function Zr(ce){var le,ke,Ne,Pe;return le=ce,le>=0?le*=3:le*=1.5,le>=.5&&le<=2.5?(Pe=le-.5,ke=8*(Pe*Pe-2*Pe)):ke=0,le+=.474,Ne=15.811389+7.5*le-17.5*Math.sqrt(1+le*le),Ne<=-60?0:(le=Math.exp((ke+Ne)*Q),le/=.6609193,le)}function Or(ce){return ce<0&&(ce=0),ce=ce*.001,13*Math.atan(.76*ce)+3.5*Math.atan(ce*ce/56.25)}function Ya(ce,le,ke,Ne,Pe,ge,He,Ve,Ue,nn,Ge,sn){var Nn=f(x.CBANDS+1),it=Ve/(sn>15?1152:384),je=v(x.HBLKSIZE),Se;Ve/=Ue;var Ce=0,Ye=0;for(Se=0;Se<x.CBANDS;Se++){var Kn,pn;for(Kn=Or(Ve*Ce),Nn[Se]=Ve*Ce,pn=Ce;Or(Ve*pn)-Kn<D&&pn<=Ue/2;pn++);for(ce[Se]=pn-Ce,Ye=Se+1;Ce<pn;)y(Ce<x.HBLKSIZE),je[Ce++]=Se;if(Ce>Ue/2){Ce=Ue/2,++Se;break}}y(Se<x.CBANDS),Nn[Se]=Ve*Ce;for(var Ln=0;Ln<sn;Ln++){var cn,Zn,$t,Rn,vt;$t=nn[Ln],Rn=nn[Ln+1],cn=0|Math.floor(.5+Ge*($t-.5)),cn<0&&(cn=0),Zn=0|Math.floor(.5+Ge*(Rn-.5)),Zn>Ue/2&&(Zn=Ue/2),ke[Ln]=(je[cn]+je[Zn])/2,le[Ln]=je[Zn];var Ct=it*Rn;He[Ln]=(Ct-Nn[le[Ln]])/(Nn[le[Ln]+1]-Nn[le[Ln]]),He[Ln]<0?He[Ln]=0:He[Ln]>1&&(He[Ln]=1),vt=Or(Ve*nn[Ln]*Ge),vt=Math.min(vt,15.5)/15.5,ge[Ln]=Math.pow(10,1.25*(1-Math.cos(Math.PI*vt))-2.5)}Ce=0;for(var lr=0;lr<Ye;lr++){var jr=ce[lr],Kn,br;Kn=Or(Ve*Ce),br=Or(Ve*(Ce+jr-1)),Ne[lr]=.5*(Kn+br),Kn=Or(Ve*(Ce-.5)),br=Or(Ve*(Ce+jr-.5)),Pe[lr]=br-Kn,Ce+=jr}return Ye}function qr(ce,le,ke,Ne,Pe,ge){var He=m([x.CBANDS,x.CBANDS]),Ve,Ue=0;if(ge)for(var nn=0;nn<le;nn++)for(Ve=0;Ve<le;Ve++){var Ge=Zr(ke[nn]-ke[Ve])*Ne[Ve];He[nn][Ve]=Ge*Pe[nn]}else for(Ve=0;Ve<le;Ve++)for(var sn=15+Math.min(21/ke[Ve],12),Nn=hr(sn),nn=0;nn<le;nn++){var Ge=Nn*yt(ke[nn]-ke[Ve],sn)*Ne[Ve];He[nn][Ve]=Ge*Pe[nn]}for(var nn=0;nn<le;nn++){for(Ve=0;Ve<le&&!(He[nn][Ve]>0);Ve++);for(ce[nn][0]=Ve,Ve=le-1;Ve>0&&!(He[nn][Ve]>0);Ve--);ce[nn][1]=Ve,Ue+=ce[nn][1]-ce[nn][0]+1}for(var it=f(Ue),je=0,nn=0;nn<le;nn++)for(Ve=ce[nn][0];Ve<=ce[nn][1];Ve++)it[je++]=He[nn][Ve];return it}function Qi(ce){var le=Or(ce);return le=Math.min(le,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*le))-2.5)}this.psymodel_init=function(ce){var le=ce.internal_flags,ke,Ne=!0,Pe=13,ge=24,He=0,Ve=0,Ue=-8.25,nn=-4.5,Ge=f(x.CBANDS),sn=f(x.CBANDS),Nn=f(x.CBANDS),it=ce.out_samplerate;switch(ce.experimentalZ){default:case 0:Ne=!0;break;case 1:Ne=!(ce.VBR==r.vbr_mtrh||ce.VBR==r.vbr_mt);break;case 2:Ne=!1;break;case 3:Pe=8,He=-1.75,Ve=-.0125,Ue=-8.25,nn=-2.25;break}for(le.ms_ener_ratio_old=.25,le.blocktype_old[0]=le.blocktype_old[1]=x.NORM_TYPE,ke=0;ke<4;++ke){for(var Ce=0;Ce<x.CBANDS;++Ce)le.nb_1[ke][Ce]=1e20,le.nb_2[ke][Ce]=1e20,le.nb_s1[ke][Ce]=le.nb_s2[ke][Ce]=1;for(var je=0;je<x.SBMAX_l;je++)le.en[ke].l[je]=1e20,le.thm[ke].l[je]=1e20;for(var Ce=0;Ce<3;++Ce){for(var je=0;je<x.SBMAX_s;je++)le.en[ke].s[je][Ce]=1e20,le.thm[ke].s[je][Ce]=1e20;le.nsPsy.lastAttacks[ke]=0}for(var Ce=0;Ce<9;Ce++)le.nsPsy.last_en_subshort[ke][Ce]=10}for(le.loudness_sq_save[0]=le.loudness_sq_save[1]=0,le.npart_l=Ya(le.numlines_l,le.bo_l,le.bm_l,Ge,sn,le.mld_l,le.PSY.bo_l_weight,it,x.BLKSIZE,le.scalefac_band.l,x.BLKSIZE/1152,x.SBMAX_l),y(le.npart_l<x.CBANDS),ke=0;ke<le.npart_l;ke++){var Se=He;Ge[ke]>=Pe&&(Se=Ve*(Ge[ke]-Pe)/(ge-Pe)+He*(ge-Ge[ke])/(ge-Pe)),Nn[ke]=Math.pow(10,Se/10),le.numlines_l[ke]>0?le.rnumlines_l[ke]=1/le.numlines_l[ke]:le.rnumlines_l[ke]=0}le.s3_ll=qr(le.s3ind,le.npart_l,Ge,sn,Nn,Ne);var Ce=0;for(ke=0;ke<le.npart_l;ke++){var Ye;Ye=a.MAX_VALUE;for(var Kn=0;Kn<le.numlines_l[ke];Kn++,Ce++){var pn=it*Ce/(1e3*x.BLKSIZE),Ln;Ln=this.ATHformula(pn*1e3,ce)-20,Ln=Math.pow(10,.1*Ln),Ln*=le.numlines_l[ke],Ye>Ln&&(Ye=Ln)}le.ATH.cb_l[ke]=Ye,Ye=-20+Ge[ke]*20/10,Ye>6&&(Ye=100),Ye<-15&&(Ye=-15),Ye-=8,le.minval_l[ke]=Math.pow(10,Ye/10)*le.numlines_l[ke]}for(le.npart_s=Ya(le.numlines_s,le.bo_s,le.bm_s,Ge,sn,le.mld_s,le.PSY.bo_s_weight,it,x.BLKSIZE_s,le.scalefac_band.s,x.BLKSIZE_s/384,x.SBMAX_s),y(le.npart_s<x.CBANDS),Ce=0,ke=0;ke<le.npart_s;ke++){var Ye,Se=Ue;Ge[ke]>=Pe&&(Se=nn*(Ge[ke]-Pe)/(ge-Pe)+Ue*(ge-Ge[ke])/(ge-Pe)),Nn[ke]=Math.pow(10,Se/10),Ye=a.MAX_VALUE;for(var Kn=0;Kn<le.numlines_s[ke];Kn++,Ce++){var pn=it*Ce/(1e3*x.BLKSIZE_s),Ln;Ln=this.ATHformula(pn*1e3,ce)-20,Ln=Math.pow(10,.1*Ln),Ln*=le.numlines_s[ke],Ye>Ln&&(Ye=Ln)}le.ATH.cb_s[ke]=Ye,Ye=-7+Ge[ke]*7/12,Ge[ke]>12&&(Ye*=1+Math.log(1+Ye)*3.1),Ge[ke]<12&&(Ye*=1+Math.log(1-Ye)*2.3),Ye<-15&&(Ye=-15),Ye-=8,le.minval_s[ke]=Math.pow(10,Ye/10)*le.numlines_s[ke]}le.s3_ss=qr(le.s3ind_s,le.npart_s,Ge,sn,Nn,Ne),Y(),L.init_fft(le),le.decay=Math.exp(-1*S/(M*it/192));var cn;cn=pe,ce.exp_nspsytune&2&&(cn=1),Math.abs(ce.msfix)>0&&(cn=ce.msfix),ce.msfix=cn;for(var Zn=0;Zn<le.npart_l;Zn++)le.s3ind[Zn][1]>le.npart_l-1&&(le.s3ind[Zn][1]=le.npart_l-1);var $t=576*le.mode_gr/it;if(le.ATH.decay=Math.pow(10,-1.2*$t),le.ATH.adjust=.01,le.ATH.adjustLimit=1,y(le.bo_l[x.SBMAX_l-1]<=le.npart_l),y(le.bo_s[x.SBMAX_s-1]<=le.npart_s),ce.ATHtype!=-1){var pn,Rn=ce.out_samplerate/x.BLKSIZE,vt=0;for(pn=0,ke=0;ke<x.BLKSIZE/2;++ke)pn+=Rn,le.ATH.eql_w[ke]=1/Math.pow(10,this.ATHformula(pn,ce)/10),vt+=le.ATH.eql_w[ke];for(vt=1/vt,ke=x.BLKSIZE/2;--ke>=0;)le.ATH.eql_w[ke]*=vt}for(var Zn=Ce=0;Zn<le.npart_s;++Zn)for(ke=0;ke<le.numlines_s[Zn];++ke)++Ce;y(Ce==129);for(var Zn=Ce=0;Zn<le.npart_l;++Zn)for(ke=0;ke<le.numlines_l[Zn];++ke)++Ce;for(y(Ce==513),Ce=0,ke=0;ke<le.npart_l;ke++){var pn=it*(Ce+le.numlines_l[ke]/2)/(1*x.BLKSIZE);le.mld_cb_l[ke]=Qi(pn),Ce+=le.numlines_l[ke]}for(;ke<x.CBANDS;++ke)le.mld_cb_l[ke]=1;for(Ce=0,ke=0;ke<le.npart_s;ke++){var pn=it*(Ce+le.numlines_s[ke]/2)/(1*x.BLKSIZE_s);le.mld_cb_s[ke]=Qi(pn),Ce+=le.numlines_s[ke]}for(;ke<x.CBANDS;++ke)le.mld_cb_s[ke]=1;return 0};function Ni(ce,le){ce<-.3&&(ce=3410),ce/=1e3,ce=Math.max(.1,ce);var ke=3.64*Math.pow(ce,-.8)-6.8*Math.exp(-.6*Math.pow(ce-3.4,2))+6*Math.exp(-.15*Math.pow(ce-8.7,2))+(.6+.04*le)*.001*Math.pow(ce,4);return ke}this.ATHformula=function(ce,le){var ke;switch(le.ATHtype){case 0:ke=Ni(ce,9);break;case 1:ke=Ni(ce,-1);break;case 2:ke=Ni(ce,0);break;case 3:ke=Ni(ce,1)+6;break;case 4:ke=Ni(ce,le.ATHcurve);break;default:ke=Ni(ce,0);break}return ke}}n.exports=C});bn.register("2g11P",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock;var r=e.Util;e.Arrays,e.new_array_n,e.new_byte,e.new_double;var a=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var o=bn("cPNKB");function u(){var h=a(o.BLKSIZE),f=a(o.BLKSIZE_s/2),m=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function v(w,x,C){var A=0,L,S,k;C<<=1;var N=x+C;L=4;do{var O,H,D,T,M,q,z;z=L>>1,T=L,M=L<<1,q=M+T,L=M<<1,S=x,k=S+z;do{var re,pe,B,Q;pe=w[S+0]-w[S+T],re=w[S+0]+w[S+T],Q=w[S+M]-w[S+q],B=w[S+M]+w[S+q],w[S+M]=re-B,w[S+0]=re+B,w[S+q]=pe-Q,w[S+T]=pe+Q,pe=w[k+0]-w[k+T],re=w[k+0]+w[k+T],Q=r.SQRT2*w[k+q],B=r.SQRT2*w[k+M],w[k+M]=re-B,w[k+0]=re+B,w[k+q]=pe-Q,w[k+T]=pe+Q,k+=L,S+=L}while(S<N);for(H=m[A+0],O=m[A+1],D=1;D<z;D++){var ie,j;ie=1-2*O*O,j=2*O*H,S=x+D,k=x+T-D;do{var me,ae,oe,re,pe,ve,B,Re,Q,ue;ae=j*w[S+T]-ie*w[k+T],me=ie*w[S+T]+j*w[k+T],pe=w[S+0]-me,re=w[S+0]+me,ve=w[k+0]-ae,oe=w[k+0]+ae,ae=j*w[S+q]-ie*w[k+q],me=ie*w[S+q]+j*w[k+q],Q=w[S+M]-me,B=w[S+M]+me,ue=w[k+M]-ae,Re=w[k+M]+ae,ae=O*B-H*ue,me=H*B+O*ue,w[S+M]=re-me,w[S+0]=re+me,w[k+q]=ve-ae,w[k+T]=ve+ae,ae=H*Re-O*Q,me=O*Re+H*Q,w[k+M]=oe-me,w[k+0]=oe+me,w[S+q]=pe-ae,w[S+T]=pe+ae,k+=L,S+=L}while(S<N);ie=H,H=ie*m[A+0]-O*m[A+1],O=ie*m[A+1]+O*m[A+0]}A+=2}while(L<C)}var y=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(w,x,C,A,L){for(var S=0;S<3;S++){var k=o.BLKSIZE_s/2,N=65535&192*(S+1),O=o.BLKSIZE_s/8-1;do{var H,D,T,M,q,z=y[O<<2]&255;H=f[z]*A[C][L+z+N],q=f[127-z]*A[C][L+z+N+128],D=H-q,H=H+q,T=f[z+64]*A[C][L+z+N+64],q=f[63-z]*A[C][L+z+N+192],M=T-q,T=T+q,k-=4,x[S][k+0]=H+T,x[S][k+2]=H-T,x[S][k+1]=D+M,x[S][k+3]=D-M,H=f[z+1]*A[C][L+z+N+1],q=f[126-z]*A[C][L+z+N+129],D=H-q,H=H+q,T=f[z+65]*A[C][L+z+N+65],q=f[62-z]*A[C][L+z+N+193],M=T-q,T=T+q,x[S][k+o.BLKSIZE_s/2+0]=H+T,x[S][k+o.BLKSIZE_s/2+2]=H-T,x[S][k+o.BLKSIZE_s/2+1]=D+M,x[S][k+o.BLKSIZE_s/2+3]=D-M}while(--O>=0);v(x[S],k,o.BLKSIZE_s/2)}},this.fft_long=function(w,x,C,A,L){var S=o.BLKSIZE/8-1,k=o.BLKSIZE/2;do{var N,O,H,D,T,M=y[S]&255;N=h[M]*A[C][L+M],T=h[M+512]*A[C][L+M+512],O=N-T,N=N+T,H=h[M+256]*A[C][L+M+256],T=h[M+768]*A[C][L+M+768],D=H-T,H=H+T,k-=4,x[k+0]=N+H,x[k+2]=N-H,x[k+1]=O+D,x[k+3]=O-D,N=h[M+1]*A[C][L+M+1],T=h[M+513]*A[C][L+M+513],O=N-T,N=N+T,H=h[M+257]*A[C][L+M+257],T=h[M+769]*A[C][L+M+769],D=H-T,H=H+T,x[k+o.BLKSIZE/2+0]=N+H,x[k+o.BLKSIZE/2+2]=N-H,x[k+o.BLKSIZE/2+1]=O+D,x[k+o.BLKSIZE/2+3]=O-D}while(--S>=0);v(x,k,o.BLKSIZE/2)},this.init_fft=function(w){for(var x=0;x<o.BLKSIZE;x++)h[x]=.42-.5*Math.cos(2*Math.PI*(x+.5)/o.BLKSIZE)+.08*Math.cos(4*Math.PI*(x+.5)/o.BLKSIZE);for(var x=0;x<o.BLKSIZE_s/2;x++)f[x]=.5*(1-Math.cos(2*Math.PI*(x+.5)/o.BLKSIZE_s))}}n.exports=u});bn.register("cPNKB",function(n,t){var e=bn("3YDN3"),r=e.System,a=e.VbrMode;e.Float,e.ShortBlock,e.Util,e.Arrays;var o=e.new_array_n;e.new_byte,e.new_double;var u=e.new_float,h=e.new_float_n,f=e.new_int;e.new_int_n;var m=e.assert;v.ENCDELAY=576,v.POSTDELAY=1152,v.MDCTDELAY=48,v.FFTOFFSET=224+v.MDCTDELAY,v.DECDELAY=528,v.SBLIMIT=32,v.CBANDS=64,v.SBPSY_l=21,v.SBPSY_s=12,v.SBMAX_l=22,v.SBMAX_s=13,v.PSFB21=6,v.PSFB12=6,v.BLKSIZE=1024,v.HBLKSIZE=v.BLKSIZE/2+1,v.BLKSIZE_s=256,v.HBLKSIZE_s=v.BLKSIZE_s/2+1,v.NORM_TYPE=0,v.START_TYPE=1,v.SHORT_TYPE=2,v.STOP_TYPE=3,v.MPG_MD_LR_LR=0,v.MPG_MD_LR_I=1,v.MPG_MD_MS_LR=2,v.MPG_MD_MS_I=3,v.fircoef=[-.1039435,-.1892065,-.0432472*5,-.155915,779609e-23*5,.0467745*5,.50455,.756825,.187098*5];function v(){var y=bn("drj3v"),w=bn("hvy40"),x=bn("jL6I1"),C=v.FFTOFFSET,A=v.MPG_MD_MS_LR,L=null;this.psy=null;var S=null,k=null,N=null;this.setModules=function(M,q,z,re){L=M,this.psy=q,S=q,k=re,N=z};var O=new y;function H(M){var q,z;if(M.ATH.useAdjust==0){M.ATH.adjust=1;return}if(z=M.loudness_sq[0][0],q=M.loudness_sq[1][0],M.channels_out==2?(z+=M.loudness_sq[0][1],q+=M.loudness_sq[1][1]):(z+=z,q+=q),M.mode_gr==2&&(z=Math.max(z,q)),z*=.5,z*=M.ATH.aaSensitivityP,z>.03125)M.ATH.adjust>=1?M.ATH.adjust=1:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=1;else{var re=31.98*z+625e-6;M.ATH.adjust>=re?(M.ATH.adjust*=re*.075+.925,M.ATH.adjust<re&&(M.ATH.adjust=re)):M.ATH.adjustLimit>=re?M.ATH.adjust=re:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=re}}function D(M){var q,z;for(m(0<=M.bitrate_index&&M.bitrate_index<16),m(0<=M.mode_ext&&M.mode_ext<4),M.bitrate_stereoMode_Hist[M.bitrate_index][4]++,M.bitrate_stereoMode_Hist[15][4]++,M.channels_out==2&&(M.bitrate_stereoMode_Hist[M.bitrate_index][M.mode_ext]++,M.bitrate_stereoMode_Hist[15][M.mode_ext]++),q=0;q<M.mode_gr;++q)for(z=0;z<M.channels_out;++z){var re=M.l3_side.tt[q][z].block_type|0;M.l3_side.tt[q][z].mixed_block_flag!=0&&(re=4),M.bitrate_blockType_Hist[M.bitrate_index][re]++,M.bitrate_blockType_Hist[M.bitrate_index][5]++,M.bitrate_blockType_Hist[15][re]++,M.bitrate_blockType_Hist[15][5]++}}function T(M,q){var z=M.internal_flags,re,pe;if(z.lame_encode_frame_init==0){var B,Q,ie=u(2014),j=u(2014);for(z.lame_encode_frame_init=1,B=0,Q=0;B<286+576*(1+z.mode_gr);++B)B<576*z.mode_gr?(ie[B]=0,z.channels_out==2&&(j[B]=0)):(ie[B]=q[0][Q],z.channels_out==2&&(j[B]=q[1][Q]),++Q);for(pe=0;pe<z.mode_gr;pe++)for(re=0;re<z.channels_out;re++)z.l3_side.tt[pe][re].block_type=v.SHORT_TYPE;O.mdct_sub48(z,ie,j),m(576>=v.FFTOFFSET),m(z.mf_size>=v.BLKSIZE+M.framesize-v.FFTOFFSET),m(z.mf_size>=512+M.framesize-32)}}this.lame_encode_mp3_frame=function(M,q,z,re,pe,B){var Q,ie=o([2,2]);ie[0][0]=new w,ie[0][1]=new w,ie[1][0]=new w,ie[1][1]=new w;var j=o([2,2]);j[0][0]=new w,j[0][1]=new w,j[1][0]=new w,j[1][1]=new w;var me,ae=[null,null],oe=M.internal_flags,ve=h([2,4]),Re=[.5,.5],ue=[[0,0],[0,0]],he=[[0,0],[0,0]],V,Y,$;if(ae[0]=q,ae[1]=z,oe.lame_encode_frame_init==0&&T(M,ae),oe.padding=0,(oe.slot_lag-=oe.frac_SpF)<0&&(oe.slot_lag+=M.out_samplerate,oe.padding=1),oe.psymodel!=0){var te,Me=[null,null],Ke=0,Oe=f(2);for($=0;$<oe.mode_gr;$++){for(Y=0;Y<oe.channels_out;Y++)Me[Y]=ae[Y],Ke=576+$*576-v.FFTOFFSET;if(M.VBR==a.vbr_mtrh||M.VBR==a.vbr_mt?te=S.L3psycho_anal_vbr(M,Me,Ke,$,ie,j,ue[$],he[$],ve[$],Oe):te=S.L3psycho_anal_ns(M,Me,Ke,$,ie,j,ue[$],he[$],ve[$],Oe),te!=0)return-4;for(M.mode==x.JOINT_STEREO&&(Re[$]=ve[$][2]+ve[$][3],Re[$]>0&&(Re[$]=ve[$][3]/Re[$])),Y=0;Y<oe.channels_out;Y++){var xe=oe.l3_side.tt[$][Y];xe.block_type=Oe[Y],xe.mixed_block_flag=0}}}else for($=0;$<oe.mode_gr;$++)for(Y=0;Y<oe.channels_out;Y++)oe.l3_side.tt[$][Y].block_type=v.NORM_TYPE,oe.l3_side.tt[$][Y].mixed_block_flag=0,he[$][Y]=ue[$][Y]=700;if(H(oe),O.mdct_sub48(oe,ae[0],ae[1]),oe.mode_ext=v.MPG_MD_LR_LR,M.force_ms)oe.mode_ext=v.MPG_MD_MS_LR;else if(M.mode==x.JOINT_STEREO){var Le=0,Fe=0;for($=0;$<oe.mode_gr;$++)for(Y=0;Y<oe.channels_out;Y++)Le+=he[$][Y],Fe+=ue[$][Y];if(Le<=1*Fe){var Je=oe.l3_side.tt[0],en=oe.l3_side.tt[oe.mode_gr-1];Je[0].block_type==Je[1].block_type&&en[0].block_type==en[1].block_type&&(oe.mode_ext=v.MPG_MD_MS_LR)}}if(oe.mode_ext==A?(me=j,V=he):(me=ie,V=ue),M.analysis&&oe.pinfo!=null)for($=0;$<oe.mode_gr;$++)for(Y=0;Y<oe.channels_out;Y++)oe.pinfo.ms_ratio[$]=oe.ms_ratio[$],oe.pinfo.ms_ener_ratio[$]=Re[$],oe.pinfo.blocktype[$][Y]=oe.l3_side.tt[$][Y].block_type,oe.pinfo.pe[$][Y]=V[$][Y],r.arraycopy(oe.l3_side.tt[$][Y].xr,0,oe.pinfo.xr[$][Y],0,576),oe.mode_ext==A&&(oe.pinfo.ers[$][Y]=oe.pinfo.ers[$][Y+2],r.arraycopy(oe.pinfo.energy[$][Y+2],0,oe.pinfo.energy[$][Y],0,oe.pinfo.energy[$][Y].length));if(M.VBR==a.vbr_off||M.VBR==a.vbr_abr){var un,_n;for(un=0;un<18;un++)oe.nsPsy.pefirbuf[un]=oe.nsPsy.pefirbuf[un+1];for(_n=0,$=0;$<oe.mode_gr;$++)for(Y=0;Y<oe.channels_out;Y++)_n+=V[$][Y];for(oe.nsPsy.pefirbuf[18]=_n,_n=oe.nsPsy.pefirbuf[9],un=0;un<9;un++)_n+=(oe.nsPsy.pefirbuf[un]+oe.nsPsy.pefirbuf[18-un])*v.fircoef[un];for(_n=3350*oe.mode_gr*oe.channels_out/_n,$=0;$<oe.mode_gr;$++)for(Y=0;Y<oe.channels_out;Y++)V[$][Y]*=_n}if(oe.iteration_loop.iteration_loop(M,V,Re,me),L.format_bitstream(M),Q=L.copy_buffer(oe,re,pe,B,1),M.bWriteVbrTag&&k.addVbrFrame(M),M.analysis&&oe.pinfo!=null){for(Y=0;Y<oe.channels_out;Y++){var on;for(on=0;on<C;on++)oe.pinfo.pcmdata[Y][on]=oe.pinfo.pcmdata[Y][on+M.framesize];for(on=C;on<1600;on++)oe.pinfo.pcmdata[Y][on]=ae[Y][on-C]}N.set_frame_pinfo(M,me)}return D(oe),Q}}n.exports=v});bn.register("drj3v",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock;var a=e.Util,o=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var u=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var h=bn("cPNKB");function f(){var m=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*a.SQRT2*.5/2384e-9,.017876148*a.SQRT2*.5/2384e-9,.003134727*a.SQRT2*.5/2384e-9,.002457142*a.SQRT2*.5/2384e-9,971317e-9*a.SQRT2*.5/2384e-9,218868e-9*a.SQRT2*.5/2384e-9,101566e-9*a.SQRT2*.5/2384e-9,13828e-9*a.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],v=12,y=36,w=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],x=w[h.SHORT_TYPE],C=w[h.SHORT_TYPE],A=w[h.SHORT_TYPE],L=w[h.SHORT_TYPE],S=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function k(H,D,T){for(var M=10,q=D+238-14-286,z=-15;z<0;z++){var re,pe,B;re=m[M+-10],pe=H[q+-224]*re,B=H[D+224]*re,re=m[M+-9],pe+=H[q+-160]*re,B+=H[D+160]*re,re=m[M+-8],pe+=H[q+-96]*re,B+=H[D+96]*re,re=m[M+-7],pe+=H[q+-32]*re,B+=H[D+32]*re,re=m[M+-6],pe+=H[q+32]*re,B+=H[D+-32]*re,re=m[M+-5],pe+=H[q+96]*re,B+=H[D+-96]*re,re=m[M+-4],pe+=H[q+160]*re,B+=H[D+-160]*re,re=m[M+-3],pe+=H[q+224]*re,B+=H[D+-224]*re,re=m[M+-2],pe+=H[D+-256]*re,B-=H[q+256]*re,re=m[M+-1],pe+=H[D+-192]*re,B-=H[q+192]*re,re=m[M+0],pe+=H[D+-128]*re,B-=H[q+128]*re,re=m[M+1],pe+=H[D+-64]*re,B-=H[q+64]*re,re=m[M+2],pe+=H[D+0]*re,B-=H[q+0]*re,re=m[M+3],pe+=H[D+64]*re,B-=H[q+-64]*re,re=m[M+4],pe+=H[D+128]*re,B-=H[q+-128]*re,re=m[M+5],pe+=H[D+192]*re,B-=H[q+-192]*re,pe*=m[M+6],re=B-pe,T[30+z*2]=B+pe,T[31+z*2]=m[M+7]*re,M+=18,D--,q++}var pe,B,Q,ie;B=H[D+-16]*m[M+-10],pe=H[D+-32]*m[M+-2],B+=(H[D+-48]-H[D+16])*m[M+-9],pe+=H[D+-96]*m[M+-1],B+=(H[D+-80]+H[D+48])*m[M+-8],pe+=H[D+-160]*m[M+0],B+=(H[D+-112]-H[D+80])*m[M+-7],pe+=H[D+-224]*m[M+1],B+=(H[D+-144]+H[D+112])*m[M+-6],pe-=H[D+32]*m[M+2],B+=(H[D+-176]-H[D+144])*m[M+-5],pe-=H[D+96]*m[M+3],B+=(H[D+-208]+H[D+176])*m[M+-4],pe-=H[D+160]*m[M+4],B+=(H[D+-240]-H[D+208])*m[M+-3],pe-=H[D+224],Q=pe-B,ie=pe+B,B=T[14],pe=T[15]-B,T[31]=ie+B,T[30]=Q+pe,T[15]=Q-pe,T[14]=ie-B;var j;j=T[28]-T[0],T[0]+=T[28],T[28]=j*m[M+-36+7],j=T[29]-T[1],T[1]+=T[29],T[29]=j*m[M+-36+7],j=T[26]-T[2],T[2]+=T[26],T[26]=j*m[M+-72+7],j=T[27]-T[3],T[3]+=T[27],T[27]=j*m[M+-72+7],j=T[24]-T[4],T[4]+=T[24],T[24]=j*m[M+-108+7],j=T[25]-T[5],T[5]+=T[25],T[25]=j*m[M+-108+7],j=T[22]-T[6],T[6]+=T[22],T[22]=j*a.SQRT2,j=T[23]-T[7],T[7]+=T[23],T[23]=j*a.SQRT2-T[7],T[7]-=T[6],T[22]-=T[7],T[23]-=T[22],j=T[6],T[6]=T[31]-j,T[31]=T[31]+j,j=T[7],T[7]=T[30]-j,T[30]=T[30]+j,j=T[22],T[22]=T[15]-j,T[15]=T[15]+j,j=T[23],T[23]=T[14]-j,T[14]=T[14]+j,j=T[20]-T[8],T[8]+=T[20],T[20]=j*m[M+-180+7],j=T[21]-T[9],T[9]+=T[21],T[21]=j*m[M+-180+7],j=T[18]-T[10],T[10]+=T[18],T[18]=j*m[M+-216+7],j=T[19]-T[11],T[11]+=T[19],T[19]=j*m[M+-216+7],j=T[16]-T[12],T[12]+=T[16],T[16]=j*m[M+-252+7],j=T[17]-T[13],T[13]+=T[17],T[17]=j*m[M+-252+7],j=-T[20]+T[24],T[20]+=T[24],T[24]=j*m[M+-216+7],j=-T[21]+T[25],T[21]+=T[25],T[25]=j*m[M+-216+7],j=T[4]-T[8],T[4]+=T[8],T[8]=j*m[M+-216+7],j=T[5]-T[9],T[5]+=T[9],T[9]=j*m[M+-216+7],j=T[0]-T[12],T[0]+=T[12],T[12]=j*m[M+-72+7],j=T[1]-T[13],T[1]+=T[13],T[13]=j*m[M+-72+7],j=T[16]-T[28],T[16]+=T[28],T[28]=j*m[M+-72+7],j=-T[17]+T[29],T[17]+=T[29],T[29]=j*m[M+-72+7],j=a.SQRT2*(T[2]-T[10]),T[2]+=T[10],T[10]=j,j=a.SQRT2*(T[3]-T[11]),T[3]+=T[11],T[11]=j,j=a.SQRT2*(-T[18]+T[26]),T[18]+=T[26],T[26]=j-T[18],j=a.SQRT2*(-T[19]+T[27]),T[19]+=T[27],T[27]=j-T[19],j=T[2],T[19]-=T[3],T[3]-=j,T[2]=T[31]-j,T[31]+=j,j=T[3],T[11]-=T[19],T[18]-=j,T[3]=T[30]-j,T[30]+=j,j=T[18],T[27]-=T[11],T[19]-=j,T[18]=T[15]-j,T[15]+=j,j=T[19],T[10]-=j,T[19]=T[14]-j,T[14]+=j,j=T[10],T[11]-=j,T[10]=T[23]-j,T[23]+=j,j=T[11],T[26]-=j,T[11]=T[22]-j,T[22]+=j,j=T[26],T[27]-=j,T[26]=T[7]-j,T[7]+=j,j=T[27],T[27]=T[6]-j,T[6]+=j,j=a.SQRT2*(T[0]-T[4]),T[0]+=T[4],T[4]=j,j=a.SQRT2*(T[1]-T[5]),T[1]+=T[5],T[5]=j,j=a.SQRT2*(T[16]-T[20]),T[16]+=T[20],T[20]=j,j=a.SQRT2*(T[17]-T[21]),T[17]+=T[21],T[21]=j,j=-a.SQRT2*(T[8]-T[12]),T[8]+=T[12],T[12]=j-T[8],j=-a.SQRT2*(T[9]-T[13]),T[9]+=T[13],T[13]=j-T[9],j=-a.SQRT2*(T[25]-T[29]),T[25]+=T[29],T[29]=j-T[25],j=-a.SQRT2*(T[24]+T[28]),T[24]-=T[28],T[28]=j-T[24],j=T[24]-T[16],T[24]=j,j=T[20]-j,T[20]=j,j=T[28]-j,T[28]=j,j=T[25]-T[17],T[25]=j,j=T[21]-j,T[21]=j,j=T[29]-j,T[29]=j,j=T[17]-T[1],T[17]=j,j=T[9]-j,T[9]=j,j=T[25]-j,T[25]=j,j=T[5]-j,T[5]=j,j=T[21]-j,T[21]=j,j=T[13]-j,T[13]=j,j=T[29]-j,T[29]=j,j=T[1]-T[0],T[1]=j,j=T[16]-j,T[16]=j,j=T[17]-j,T[17]=j,j=T[8]-j,T[8]=j,j=T[9]-j,T[9]=j,j=T[24]-j,T[24]=j,j=T[25]-j,T[25]=j,j=T[4]-j,T[4]=j,j=T[5]-j,T[5]=j,j=T[20]-j,T[20]=j,j=T[21]-j,T[21]=j,j=T[12]-j,T[12]=j,j=T[13]-j,T[13]=j,j=T[28]-j,T[28]=j,j=T[29]-j,T[29]=j,j=T[0],T[0]+=T[31],T[31]-=j,j=T[1],T[1]+=T[30],T[30]-=j,j=T[16],T[16]+=T[15],T[15]-=j,j=T[17],T[17]+=T[14],T[14]-=j,j=T[8],T[8]+=T[23],T[23]-=j,j=T[9],T[9]+=T[22],T[22]-=j,j=T[24],T[24]+=T[7],T[7]-=j,j=T[25],T[25]+=T[6],T[6]-=j,j=T[4],T[4]+=T[27],T[27]-=j,j=T[5],T[5]+=T[26],T[26]-=j,j=T[20],T[20]+=T[11],T[11]-=j,j=T[21],T[21]+=T[10],T[10]-=j,j=T[12],T[12]+=T[19],T[19]-=j,j=T[13],T[13]+=T[18],T[18]-=j,j=T[28],T[28]+=T[3],T[3]-=j,j=T[29],T[29]+=T[2],T[2]-=j}function N(H,D){for(var T=0;T<3;T++){var M,q,z,re,pe,B;re=H[D+6]*w[h.SHORT_TYPE][0]-H[D+15],M=H[D+0]*w[h.SHORT_TYPE][2]-H[D+9],q=re+M,z=re-M,re=H[D+15]*w[h.SHORT_TYPE][0]+H[D+6],M=H[D+9]*w[h.SHORT_TYPE][2]+H[D+0],pe=re+M,B=-re+M,M=(H[D+3]*w[h.SHORT_TYPE][1]-H[D+12])*2069978111953089e-26,re=(H[D+12]*w[h.SHORT_TYPE][1]+H[D+3])*2069978111953089e-26,H[D+0]=q*190752519173728e-25+M,H[D+15]=-pe*190752519173728e-25+re,z=z*16519652744032674e-27,pe=pe*.5*1907525191737281e-26+re,H[D+3]=z-pe,H[D+6]=z+pe,q=q*.5*1907525191737281e-26-M,B=B*16519652744032674e-27,H[D+9]=q+B,H[D+12]=q-B,D++}}function O(H,D,T){var M,q,z,re,pe,B,Q,ie,j,me;z=T[17]-T[9],pe=T[15]-T[11],B=T[14]-T[12],Q=T[0]+T[8],ie=T[1]+T[7],j=T[2]+T[6],me=T[3]+T[5],H[D+17]=Q+j-me-(ie-T[4]),q=(Q+j-me)*C[19]+(ie-T[4]),M=(z-pe-B)*C[18],H[D+5]=M+q,H[D+6]=M-q,re=(T[16]-T[10])*C[18],ie=ie*C[19]+T[4],M=z*C[12]+re+pe*C[13]+B*C[14],q=-Q*C[16]+ie-j*C[17]+me*C[15],H[D+1]=M+q,H[D+2]=M-q,M=z*C[13]-re-pe*C[14]+B*C[12],q=-Q*C[17]+ie-j*C[15]+me*C[16],H[D+9]=M+q,H[D+10]=M-q,M=z*C[14]-re+pe*C[12]-B*C[13],q=Q*C[15]-ie+j*C[16]-me*C[17],H[D+13]=M+q,H[D+14]=M-q;var ae,oe,ve,Re,ue,he,V,Y;ae=T[8]-T[0],ve=T[6]-T[2],Re=T[5]-T[3],ue=T[17]+T[9],he=T[16]+T[10],V=T[15]+T[11],Y=T[14]+T[12],H[D+0]=ue+V+Y+(he+T[13]),M=(ue+V+Y)*C[19]-(he+T[13]),q=(ae-ve+Re)*C[18],H[D+11]=M+q,H[D+12]=M-q,oe=(T[7]-T[1])*C[18],he=T[13]-he*C[19],M=ue*C[15]-he+V*C[16]+Y*C[17],q=ae*C[14]+oe+ve*C[12]+Re*C[13],H[D+3]=M+q,H[D+4]=M-q,M=-ue*C[17]+he-V*C[15]-Y*C[16],q=ae*C[13]+oe-ve*C[14]-Re*C[12],H[D+7]=M+q,H[D+8]=M-q,M=-ue*C[16]+he-V*C[17]-Y*C[15],q=ae*C[12]-oe+ve*C[13]-Re*C[14],H[D+15]=M+q,H[D+16]=M-q}this.mdct_sub48=function(H,D,T){for(var M=D,q=286,z=0;z<H.channels_out;z++){for(var re=0;re<H.mode_gr;re++){for(var pe,B=H.l3_side.tt[re][z],Q=B.xr,ie=0,j=H.sb_sample[z][1-re],me=0,ae=0;ae<9;ae++)for(k(M,q,j[me]),k(M,q+32,j[me+1]),me+=2,q+=64,pe=1;pe<32;pe+=2)j[me-1][pe]*=-1;for(pe=0;pe<32;pe++,ie+=18){var oe=B.block_type,ve=H.sb_sample[z][re],Re=H.sb_sample[z][1-re];if(B.mixed_block_flag!=0&&pe<2&&(oe=0),H.amp_filter[pe]<1e-12)o.fill(Q,ie+0,ie+18,0);else{if(H.amp_filter[pe]<1)for(var ae=0;ae<18;ae++)Re[ae][S[pe]]*=H.amp_filter[pe];if(oe==h.SHORT_TYPE){for(var ae=-v/4;ae<0;ae++){var ue=w[h.SHORT_TYPE][ae+3];Q[ie+ae*3+9]=ve[9+ae][S[pe]]*ue-ve[8-ae][S[pe]],Q[ie+ae*3+18]=ve[14-ae][S[pe]]*ue+ve[15+ae][S[pe]],Q[ie+ae*3+10]=ve[15+ae][S[pe]]*ue-ve[14-ae][S[pe]],Q[ie+ae*3+19]=Re[2-ae][S[pe]]*ue+Re[3+ae][S[pe]],Q[ie+ae*3+11]=Re[3+ae][S[pe]]*ue-Re[2-ae][S[pe]],Q[ie+ae*3+20]=Re[8-ae][S[pe]]*ue+Re[9+ae][S[pe]]}N(Q,ie)}else{for(var he=u(18),ae=-y/4;ae<0;ae++){var V,Y;V=w[oe][ae+27]*Re[ae+9][S[pe]]+w[oe][ae+36]*Re[8-ae][S[pe]],Y=w[oe][ae+9]*ve[ae+9][S[pe]]-w[oe][ae+18]*ve[8-ae][S[pe]],he[ae+9]=V-Y*x[3+ae+9],he[ae+18]=V*x[3+ae+9]+Y}O(Q,ie,he)}}if(oe!=h.SHORT_TYPE&&pe!=0)for(var ae=7;ae>=0;--ae){var $,te;$=Q[ie+ae]*A[20+ae]+Q[ie+-1-ae]*L[28+ae],te=Q[ie+ae]*L[28+ae]-Q[ie+-1-ae]*A[20+ae],Q[ie+-1-ae]=$,Q[ie+ae]=te}}}if(M=T,q=286,H.mode_gr==1)for(var Me=0;Me<18;Me++)r.arraycopy(H.sb_sample[z][1][Me],0,H.sb_sample[z][0][Me],0,32)}}}n.exports=f});bn.register("hvy40",function(n,t){var e=bn("51XxS");function r(){this.thm=new e,this.en=new e}n.exports=r});bn.register("51XxS",function(n,t){var e=bn("cPNKB"),r=bn("3YDN3"),a=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var o=r.new_float,u=r.new_float_n;r.new_int,r.new_int_n,r.assert;function h(){this.l=o(e.SBMAX_l),this.s=u([e.SBMAX_s,3]);var f=this;this.assign=function(m){a.arraycopy(m.l,0,f.l,0,e.SBMAX_l);for(var v=0;v<e.SBMAX_s;v++)for(var y=0;y<3;y++)f.s[v][y]=m.s[v][y]}}n.exports=h});bn.register("jL6I1",function(n,t){function e(r){var a=r;this.ordinal=function(){return a}}e.STEREO=new e(0),e.JOINT_STEREO=new e(1),e.DUAL_CHANNEL=new e(2),e.MONO=new e(3),e.NOT_SET=new e(4),n.exports=e});bn.register("5HJeD",function(n,t){var e=bn("jL6I1");function r(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=e.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}n.exports=r});bn.register("4SDnr",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n;var r=e.new_byte,a=e.new_double,o=e.new_float,u=e.new_float_n,h=e.new_int,f=e.new_int_n;e.assert;var m=bn("eWXBy"),v=bn("7imnH"),y=bn("7yzUB"),w=bn("jTmCQ"),x=bn("51XxS"),C=bn("cPNKB"),A=bn("arIi9");L.MFSIZE=3456+C.ENCDELAY-C.MDCTDELAY,L.MAX_HEADER_BUF=256,L.MAX_BITS_PER_CHANNEL=4095,L.MAX_BITS_PER_GRANULE=7680,L.BPC=320;function L(){var S=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=u([2,L.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new m,this.ms_ratio=o(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=h(2),this.CurrentStep=h(2),this.masking_lower=0,this.bv_scf=h(576),this.pseudohalf=h(A.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*L.BPC+1),this.itime=a(2),this.sideinfo_len=0,this.sb_sample=u([2,2,18,C.SBLIMIT]),this.amp_filter=o(32);function k(){this.write_timing=0,this.ptr=0,this.buf=r(S)}this.header=new Array(L.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new v,this.minval_l=o(C.CBANDS),this.minval_s=o(C.CBANDS),this.nb_1=u([4,C.CBANDS]),this.nb_2=u([4,C.CBANDS]),this.nb_s1=u([4,C.CBANDS]),this.nb_s2=u([4,C.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=o(4),this.loudness_sq=u([2,2]),this.loudness_sq_save=o(2),this.mld_l=o(C.SBMAX_l),this.mld_s=o(C.SBMAX_s),this.bm_l=h(C.SBMAX_l),this.bo_l=h(C.SBMAX_l),this.bm_s=h(C.SBMAX_s),this.bo_s=h(C.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=f([C.CBANDS,2]),this.s3ind_s=f([C.CBANDS,2]),this.numlines_s=h(C.CBANDS),this.numlines_l=h(C.CBANDS),this.rnumlines_l=o(C.CBANDS),this.mld_cb_l=o(C.CBANDS),this.mld_cb_s=o(C.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=o(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=h(2),this.nsPsy=new y,this.VBR_seek_table=new w,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=f([16,5]),this.bitrate_blockType_Hist=f([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var N=0;N<this.en.length;N++)this.en[N]=new x;for(var N=0;N<this.thm.length;N++)this.thm[N]=new x;for(var N=0;N<this.header.length;N++)this.header[N]=new k}n.exports=L});bn.register("eWXBy",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var r=e.new_int;e.new_int_n,e.assert;var a=bn("7weBo");function o(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[r(4),r(4)];for(var u=0;u<2;u++)for(var h=0;h<2;h++)this.tt[u][h]=new a}n.exports=o});bn.register("7weBo",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var o=bn("arIi9");function u(){this.xr=r(576),this.l3_enc=a(576),this.scalefac=a(o.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=a(3),this.subblock_gain=a(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=a(o.SFBMAX),this.window=a(o.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=a(4),this.max_nonzero_coeff=0;var h=this;function f(v){return new Int32Array(v)}function m(v){return new Float32Array(v)}this.assign=function(v){h.xr=m(v.xr),h.l3_enc=f(v.l3_enc),h.scalefac=f(v.scalefac),h.xrpow_max=v.xrpow_max,h.part2_3_length=v.part2_3_length,h.big_values=v.big_values,h.count1=v.count1,h.global_gain=v.global_gain,h.scalefac_compress=v.scalefac_compress,h.block_type=v.block_type,h.mixed_block_flag=v.mixed_block_flag,h.table_select=f(v.table_select),h.subblock_gain=f(v.subblock_gain),h.region0_count=v.region0_count,h.region1_count=v.region1_count,h.preflag=v.preflag,h.scalefac_scale=v.scalefac_scale,h.count1table_select=v.count1table_select,h.part2_length=v.part2_length,h.sfb_lmax=v.sfb_lmax,h.sfb_smin=v.sfb_smin,h.psy_lmax=v.psy_lmax,h.sfbmax=v.sfbmax,h.psymax=v.psymax,h.sfbdivide=v.sfbdivide,h.width=f(v.width),h.window=f(v.window),h.count1bits=v.count1bits,h.sfb_partition_table=v.sfb_partition_table.slice(0),h.slen=f(v.slen),h.max_nonzero_coeff=v.max_nonzero_coeff}}n.exports=u});bn.register("arIi9",function(n,t){var e=bn("cPNKB"),r={};r.SFBMAX=e.SBMAX_s*3,n.exports=r});bn.register("7imnH",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var o=bn("cPNKB");function u(h,f,m,v){this.l=a(1+o.SBMAX_l),this.s=a(1+o.SBMAX_s),this.psfb21=a(1+o.PSFB21),this.psfb12=a(1+o.PSFB12);var y=this.l,w=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],r.arraycopy(this.arrL,0,y,0,Math.min(this.arrL.length,this.l.length)),r.arraycopy(this.arrS,0,w,0,Math.min(this.arrS.length,this.s.length)),r.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),r.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}n.exports=u});bn.register("7yzUB",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float,a=e.new_float_n,o=e.new_int;e.new_int_n,e.assert;var u=bn("cPNKB");function h(){this.last_en_subshort=a([4,9]),this.lastAttacks=o(4),this.pefirbuf=r(19),this.longfact=r(u.SBMAX_l),this.shortfact=r(u.SBMAX_s),this.attackthre=0,this.attackthre_s=0}n.exports=h});bn.register("jTmCQ",function(n,t){function e(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}n.exports=e});bn.register("cU3Yf",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var a=bn("cPNKB");function o(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=r(a.SBMAX_l),this.s=r(a.SBMAX_s),this.psfb21=r(a.PSFB21),this.psfb12=r(a.PSFB12),this.cb_l=r(a.CBANDS),this.cb_s=r(a.CBANDS),this.eql_w=r(a.BLKSIZE/2)}n.exports=o});bn.register("2qGTD",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var o=bn("b8dhq");function u(){this.linprebuf=r(o.MAX_ORDER*2),this.linpre=0,this.lstepbuf=r(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lstep=0,this.loutbuf=r(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lout=0,this.rinprebuf=r(o.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=r(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rstep=0,this.routbuf=r(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=a(0|o.STEPS_per_dB*o.MAX_dB),this.B=a(0|o.STEPS_per_dB*o.MAX_dB)}n.exports=u});bn.register("b8dhq",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n,e.new_int,e.new_int_n,e.assert,o.STEPS_per_dB=100,o.MAX_dB=120,o.GAIN_NOT_ENOUGH_SAMPLES=-24601,o.GAIN_ANALYSIS_ERROR=0,o.GAIN_ANALYSIS_OK=1,o.INIT_GAIN_ANALYSIS_ERROR=0,o.INIT_GAIN_ANALYSIS_OK=1,o.YULE_ORDER=10,o.MAX_ORDER=o.YULE_ORDER,o.MAX_SAMP_FREQ=48e3,o.RMS_WINDOW_TIME_NUMERATOR=1,o.RMS_WINDOW_TIME_DENOMINATOR=20,o.MAX_SAMPLES_PER_WINDOW=o.MAX_SAMP_FREQ*o.RMS_WINDOW_TIME_NUMERATOR/o.RMS_WINDOW_TIME_DENOMINATOR+1;function o(){var u=64.82;o.YULE_ORDER;var h=.95;o.MAX_SAMP_FREQ;var f=o.RMS_WINDOW_TIME_NUMERATOR,m=o.RMS_WINDOW_TIME_DENOMINATOR;o.MAX_SAMPLES_PER_WINDOW;var v=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],y=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function w(S,k,N,O,H,D){for(;H--!=0;)N[O]=1e-10+S[k+0]*D[0]-N[O-1]*D[1]+S[k-1]*D[2]-N[O-2]*D[3]+S[k-2]*D[4]-N[O-3]*D[5]+S[k-3]*D[6]-N[O-4]*D[7]+S[k-4]*D[8]-N[O-5]*D[9]+S[k-5]*D[10]-N[O-6]*D[11]+S[k-6]*D[12]-N[O-7]*D[13]+S[k-7]*D[14]-N[O-8]*D[15]+S[k-8]*D[16]-N[O-9]*D[17]+S[k-9]*D[18]-N[O-10]*D[19]+S[k-10]*D[20],++O,++k}function x(S,k,N,O,H,D){for(;H--!=0;)N[O]=S[k+0]*D[0]-N[O-1]*D[1]+S[k-1]*D[2]-N[O-2]*D[3]+S[k-2]*D[4],++O,++k}function C(S,k){for(var N=0;N<MAX_ORDER;N++)S.linprebuf[N]=S.lstepbuf[N]=S.loutbuf[N]=S.rinprebuf[N]=S.rstepbuf[N]=S.routbuf[N]=0;switch(0|k){case 48e3:S.reqindex=0;break;case 44100:S.reqindex=1;break;case 32e3:S.reqindex=2;break;case 24e3:S.reqindex=3;break;case 22050:S.reqindex=4;break;case 16e3:S.reqindex=5;break;case 12e3:S.reqindex=6;break;case 11025:S.reqindex=7;break;case 8e3:S.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return S.sampleWindow=0|(k*f+m-1)/m,S.lsum=0,S.rsum=0,S.totsamp=0,a.ill(S.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(S,k){return C(S,k)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(S.linpre=MAX_ORDER,S.rinpre=MAX_ORDER,S.lstep=MAX_ORDER,S.rstep=MAX_ORDER,S.lout=MAX_ORDER,S.rout=MAX_ORDER,a.fill(S.B,0),INIT_GAIN_ANALYSIS_OK)};function A(S){return S*S}this.AnalyzeSamples=function(S,k,N,O,H,D,T){var M,q,z,re,pe,B,Q;if(D==0)return GAIN_ANALYSIS_OK;switch(Q=0,pe=D,T){case 1:O=k,H=N;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(D<MAX_ORDER?(r.arraycopy(k,N,S.linprebuf,MAX_ORDER,D),r.arraycopy(O,H,S.rinprebuf,MAX_ORDER,D)):(r.arraycopy(k,N,S.linprebuf,MAX_ORDER,MAX_ORDER),r.arraycopy(O,H,S.rinprebuf,MAX_ORDER,MAX_ORDER));pe>0;){B=pe>S.sampleWindow-S.totsamp?S.sampleWindow-S.totsamp:pe,Q<MAX_ORDER?(M=S.linpre+Q,q=S.linprebuf,z=S.rinpre+Q,re=S.rinprebuf,B>MAX_ORDER-Q&&(B=MAX_ORDER-Q)):(M=N+Q,q=k,z=H+Q,re=O),w(q,M,S.lstepbuf,S.lstep+S.totsamp,B,v[S.reqindex]),w(re,z,S.rstepbuf,S.rstep+S.totsamp,B,v[S.reqindex]),x(S.lstepbuf,S.lstep+S.totsamp,S.loutbuf,S.lout+S.totsamp,B,y[S.reqindex]),x(S.rstepbuf,S.rstep+S.totsamp,S.routbuf,S.rout+S.totsamp,B,y[S.reqindex]),M=S.lout+S.totsamp,q=S.loutbuf,z=S.rout+S.totsamp,re=S.routbuf;for(var ie=B%8;ie--!=0;)S.lsum+=A(q[M++]),S.rsum+=A(re[z++]);for(ie=B/8;ie--!=0;)S.lsum+=A(q[M+0])+A(q[M+1])+A(q[M+2])+A(q[M+3])+A(q[M+4])+A(q[M+5])+A(q[M+6])+A(q[M+7]),M+=8,S.rsum+=A(re[z+0])+A(re[z+1])+A(re[z+2])+A(re[z+3])+A(re[z+4])+A(re[z+5])+A(re[z+6])+A(re[z+7]),z+=8;if(pe-=B,Q+=B,S.totsamp+=B,S.totsamp==S.sampleWindow){var j=o.STEPS_per_dB*10*Math.log10((S.lsum+S.rsum)/S.totsamp*.5+1e-37),me=j<=0?0:0|j;me>=S.A.length&&(me=S.A.length-1),S.A[me]++,S.lsum=S.rsum=0,r.arraycopy(S.loutbuf,S.totsamp,S.loutbuf,0,MAX_ORDER),r.arraycopy(S.routbuf,S.totsamp,S.routbuf,0,MAX_ORDER),r.arraycopy(S.lstepbuf,S.totsamp,S.lstepbuf,0,MAX_ORDER),r.arraycopy(S.rstepbuf,S.totsamp,S.rstepbuf,0,MAX_ORDER),S.totsamp=0}if(S.totsamp>S.sampleWindow)return GAIN_ANALYSIS_ERROR}return D<MAX_ORDER?(r.arraycopy(S.linprebuf,D,S.linprebuf,0,MAX_ORDER-D),r.arraycopy(S.rinprebuf,D,S.rinprebuf,0,MAX_ORDER-D),r.arraycopy(k,N,S.linprebuf,MAX_ORDER-D,D),r.arraycopy(O,H,S.rinprebuf,MAX_ORDER-D,D)):(r.arraycopy(k,N+D-MAX_ORDER,S.linprebuf,0,MAX_ORDER),r.arraycopy(O,H+D-MAX_ORDER,S.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function L(S,k){var N,O=0;for(N=0;N<k;N++)O+=S[N];if(O==0)return GAIN_NOT_ENOUGH_SAMPLES;var H=0|Math.ceil(O*(1-h));for(N=k;N-- >0&&!((H-=S[N])<=0););return u-N/o.STEPS_per_dB}this.GetTitleGain=function(S){for(var k=L(S.A,S.A.length),N=0;N<S.A.length;N++)S.B[N]+=S.A[N],S.A[N]=0;for(var N=0;N<MAX_ORDER;N++)S.linprebuf[N]=S.lstepbuf[N]=S.loutbuf[N]=S.rinprebuf[N]=S.rstepbuf[N]=S.routbuf[N]=0;return S.totsamp=0,S.lsum=S.rsum=0,k}}n.exports=o});bn.register("e32wu",function(n,t){var e=bn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n;var o=e.assert,u=bn("lL4Le"),h=bn("cPNKB"),f=bn("arIi9"),m=bn("4SDnr");function v(y){var w=y;this.quantize=w,this.iteration_loop=function(x,C,A,L){var S=x.internal_flags,k=r(f.SFBMAX),N=r(576),O=a(2),H=0,D,T=S.l3_side,M=new u(H);this.quantize.rv.ResvFrameBegin(x,M),H=M.bits;for(var q=0;q<S.mode_gr;q++){D=this.quantize.qupvt.on_pe(x,C,O,H,q,q),S.mode_ext==h.MPG_MD_MS_LR&&(this.quantize.ms_convert(S.l3_side,q),this.quantize.qupvt.reduce_side(O,A[q],H,D));for(var z=0;z<S.channels_out;z++){var re,pe,B=T.tt[q][z];B.block_type!=h.SHORT_TYPE?(re=0,pe=S.PSY.mask_adjust-re):(re=0,pe=S.PSY.mask_adjust_short-re),S.masking_lower=Math.pow(10,pe*.1),this.quantize.init_outer_loop(S,B),this.quantize.init_xrpow(S,B,N)&&(this.quantize.qupvt.calc_xmin(x,L[q][z],B,k),this.quantize.outer_loop(x,B,k,N,z,O[z])),this.quantize.iteration_finish_one(S,q,z),o(B.part2_3_length<=m.MAX_BITS_PER_CHANNEL),o(B.part2_3_length<=O[z])}}this.quantize.rv.ResvFrameEnd(S,H)}}n.exports=v});bn.register("lL4Le",function(n,t){function e(r){this.bits=r}n.exports=e});bn.register("ctaQC",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n;var o=e.new_byte;e.new_double,e.new_float;var u=e.new_float_n,h=e.new_int;e.new_int_n;var f=e.assert,m=bn("65Sx2"),v=bn("dQDcS"),y=bn("cPNKB"),w=bn("4SDnr");x.EQ=function(C,A){return Math.abs(C)>Math.abs(A)?Math.abs(C-A)<=Math.abs(C)*1e-6:Math.abs(C-A)<=Math.abs(A)*1e-6},x.NEQ=function(C,A){return!x.EQ(C,A)};function x(){var C=bn("kk1yk"),A=this,L=32773,S=32,k=null,N=null,O=null,H=null;this.setModules=function(V,Y,$,te){k=V,N=Y,O=$,H=te};var D=null,T=0,M=0,q=0;this.getframebits=function(V){var Y=V.internal_flags,$;Y.bitrate_index!=0?$=v.bitrate_table[V.version][Y.bitrate_index]:$=V.brate,f(8<=$&&$<=640);var te=0|(V.version+1)*72e3*$/V.out_samplerate+Y.padding;return 8*te};function z(V){r.arraycopy(V.header[V.w_ptr].buf,0,D,M,V.sideinfo_len),M+=V.sideinfo_len,T+=V.sideinfo_len*8,V.w_ptr=V.w_ptr+1&w.MAX_HEADER_BUF-1}function re(V,Y,$){for(f($<S-2);$>0;){var te;q==0&&(q=8,M++,f(M<C.LAME_MAXMP3BUFFER),f(V.header[V.w_ptr].write_timing>=T),V.header[V.w_ptr].write_timing==T&&z(V),D[M]=0),te=Math.min($,q),$-=te,q-=te,f($<S),f(q<S),D[M]|=Y>>$<<q,T+=te}}function pe(V,Y,$){for(f($<S-2);$>0;){var te;q==0&&(q=8,M++,f(M<C.LAME_MAXMP3BUFFER),D[M]=0),te=Math.min($,q),$-=te,q-=te,f($<S),f(q<S),D[M]|=Y>>$<<q,T+=te}}function B(V,Y){var $=V.internal_flags,te;if(f(Y>=0),Y>=8&&(re($,76,8),Y-=8),Y>=8&&(re($,65,8),Y-=8),Y>=8&&(re($,77,8),Y-=8),Y>=8&&(re($,69,8),Y-=8),Y>=32){var Me=O.getLameShortVersion();if(Y>=32)for(te=0;te<Me.length&&Y>=8;++te)Y-=8,re($,Me.charAt(te),8)}for(;Y>=1;Y-=1)re($,$.ancillary_flag,1),$.ancillary_flag^=V.disable_reservoir?0:1;f(Y==0)}function Q(V,Y,$){for(var te=V.header[V.h_ptr].ptr;$>0;){var Me=Math.min($,8-(te&7));$-=Me,f($<S),V.header[V.h_ptr].buf[te>>3]|=Y>>$<<8-(te&7)-Me,te+=Me}V.header[V.h_ptr].ptr=te}function ie(V,Y){V<<=8;for(var $=0;$<8;$++)V<<=1,Y<<=1,(Y^V)&65536&&(Y^=L);return Y}this.CRC_writeheader=function(V,Y){var $=65535;$=ie(Y[2]&255,$),$=ie(Y[3]&255,$);for(var te=6;te<V.sideinfo_len;te++)$=ie(Y[te]&255,$);Y[4]=byte($>>8),Y[5]=byte($&255)};function j(V,Y){var $=V.internal_flags,te,Me,Ke;if(te=$.l3_side,$.header[$.h_ptr].ptr=0,a.fill($.header[$.h_ptr].buf,0,$.sideinfo_len,0),V.out_samplerate<16e3?Q($,4094,12):Q($,4095,12),Q($,V.version,1),Q($,1,2),Q($,V.error_protection?0:1,1),Q($,$.bitrate_index,4),Q($,$.samplerate_index,2),Q($,$.padding,1),Q($,V.extension,1),Q($,V.mode.ordinal(),2),Q($,$.mode_ext,2),Q($,V.copyright,1),Q($,V.original,1),Q($,V.emphasis,2),V.error_protection&&Q($,0,16),V.version==1){for(f(te.main_data_begin>=0),Q($,te.main_data_begin,9),$.channels_out==2?Q($,te.private_bits,3):Q($,te.private_bits,5),Ke=0;Ke<$.channels_out;Ke++){var Oe;for(Oe=0;Oe<4;Oe++)Q($,te.scfsi[Ke][Oe],1)}for(Me=0;Me<2;Me++)for(Ke=0;Ke<$.channels_out;Ke++){var xe=te.tt[Me][Ke];Q($,xe.part2_3_length+xe.part2_length,12),Q($,xe.big_values/2,9),Q($,xe.global_gain,8),Q($,xe.scalefac_compress,4),xe.block_type!=y.NORM_TYPE?(Q($,1,1),Q($,xe.block_type,2),Q($,xe.mixed_block_flag,1),xe.table_select[0]==14&&(xe.table_select[0]=16),Q($,xe.table_select[0],5),xe.table_select[1]==14&&(xe.table_select[1]=16),Q($,xe.table_select[1],5),Q($,xe.subblock_gain[0],3),Q($,xe.subblock_gain[1],3),Q($,xe.subblock_gain[2],3)):(Q($,0,1),xe.table_select[0]==14&&(xe.table_select[0]=16),Q($,xe.table_select[0],5),xe.table_select[1]==14&&(xe.table_select[1]=16),Q($,xe.table_select[1],5),xe.table_select[2]==14&&(xe.table_select[2]=16),Q($,xe.table_select[2],5),f(0<=xe.region0_count&&xe.region0_count<16),f(0<=xe.region1_count&&xe.region1_count<8),Q($,xe.region0_count,4),Q($,xe.region1_count,3)),Q($,xe.preflag,1),Q($,xe.scalefac_scale,1),Q($,xe.count1table_select,1)}}else for(f(te.main_data_begin>=0),Q($,te.main_data_begin,8),Q($,te.private_bits,$.channels_out),Me=0,Ke=0;Ke<$.channels_out;Ke++){var xe=te.tt[Me][Ke];Q($,xe.part2_3_length+xe.part2_length,12),Q($,xe.big_values/2,9),Q($,xe.global_gain,8),Q($,xe.scalefac_compress,9),xe.block_type!=y.NORM_TYPE?(Q($,1,1),Q($,xe.block_type,2),Q($,xe.mixed_block_flag,1),xe.table_select[0]==14&&(xe.table_select[0]=16),Q($,xe.table_select[0],5),xe.table_select[1]==14&&(xe.table_select[1]=16),Q($,xe.table_select[1],5),Q($,xe.subblock_gain[0],3),Q($,xe.subblock_gain[1],3),Q($,xe.subblock_gain[2],3)):(Q($,0,1),xe.table_select[0]==14&&(xe.table_select[0]=16),Q($,xe.table_select[0],5),xe.table_select[1]==14&&(xe.table_select[1]=16),Q($,xe.table_select[1],5),xe.table_select[2]==14&&(xe.table_select[2]=16),Q($,xe.table_select[2],5),f(0<=xe.region0_count&&xe.region0_count<16),f(0<=xe.region1_count&&xe.region1_count<8),Q($,xe.region0_count,4),Q($,xe.region1_count,3)),Q($,xe.scalefac_scale,1),Q($,xe.count1table_select,1)}V.error_protection&&CRC_writeheader($,$.header[$.h_ptr].buf);var Le=$.h_ptr;f($.header[Le].ptr==$.sideinfo_len*8),$.h_ptr=Le+1&w.MAX_HEADER_BUF-1,$.header[$.h_ptr].write_timing=$.header[Le].write_timing+Y,$.h_ptr==$.w_ptr&&r.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}function me(V,Y){var $=v.ht[Y.count1table_select+32],te,Me=0,Ke=Y.big_values,Oe=Y.big_values;for(f(Y.count1table_select<2),te=(Y.count1-Y.big_values)/4;te>0;--te){var xe=0,Le=0,Fe;Fe=Y.l3_enc[Ke+0],Fe!=0&&(Le+=8,Y.xr[Oe+0]<0&&xe++,f(Fe<=1)),Fe=Y.l3_enc[Ke+1],Fe!=0&&(Le+=4,xe*=2,Y.xr[Oe+1]<0&&xe++,f(Fe<=1)),Fe=Y.l3_enc[Ke+2],Fe!=0&&(Le+=2,xe*=2,Y.xr[Oe+2]<0&&xe++,f(Fe<=1)),Fe=Y.l3_enc[Ke+3],Fe!=0&&(Le++,xe*=2,Y.xr[Oe+3]<0&&xe++,f(Fe<=1)),Ke+=4,Oe+=4,re(V,xe+$.table[Le],$.hlen[Le]),Me+=$.hlen[Le]}return Me}function ae(V,Y,$,te,Me){var Ke=v.ht[Y],Oe=0;if(f(Y<32),Y==0)return Oe;for(var xe=$;xe<te;xe+=2){var Le=0,Fe=0,Je=Ke.xlen,en=Ke.xlen,un=0,_n=Me.l3_enc[xe],on=Me.l3_enc[xe+1];if(_n!=0&&(Me.xr[xe]<0&&un++,Le--),Y>15){if(_n>14){var Hn=_n-15;f(Hn<=Ke.linmax),un|=Hn<<1,Fe=Je,_n=15}if(on>14){var Vn=on-15;f(Vn<=Ke.linmax),un<<=Je,un|=Vn,Fe+=Je,on=15}en=16}on!=0&&(un<<=1,Me.xr[xe+1]<0&&un++,Le--),f((_n|on)<16),_n=_n*en+on,Fe-=Le,Le+=Ke.hlen[_n],f(Le<=S),f(Fe<=S),re(V,Ke.table[_n],Le),re(V,un,Fe),Oe+=Le+Fe}return Oe}function oe(V,Y){var $=3*V.scalefac_band.s[3];$>Y.big_values&&($=Y.big_values);var te=ae(V,Y.table_select[0],0,$,Y);return te+=ae(V,Y.table_select[1],$,Y.big_values,Y),te}function ve(V,Y){var $,te,Me,Ke;$=Y.big_values,f(0<=$&&$<=576);var Oe=Y.region0_count+1;return f(0<=Oe),f(Oe<V.scalefac_band.l.length),Me=V.scalefac_band.l[Oe],Oe+=Y.region1_count+1,f(0<=Oe),f(Oe<V.scalefac_band.l.length),Ke=V.scalefac_band.l[Oe],Me>$&&(Me=$),Ke>$&&(Ke=$),te=ae(V,Y.table_select[0],0,Me,Y),te+=ae(V,Y.table_select[1],Me,Ke,Y),te+=ae(V,Y.table_select[2],Ke,$,Y),te}function Re(V){var Y,$,te,Me,Ke=0,Oe=V.internal_flags,xe=Oe.l3_side;if(V.version==1)for(Y=0;Y<2;Y++)for($=0;$<Oe.channels_out;$++){var Le=xe.tt[Y][$],Fe=m.slen1_tab[Le.scalefac_compress],Je=m.slen2_tab[Le.scalefac_compress];for(Me=0,te=0;te<Le.sfbdivide;te++)Le.scalefac[te]!=-1&&(re(Oe,Le.scalefac[te],Fe),Me+=Fe);for(;te<Le.sfbmax;te++)Le.scalefac[te]!=-1&&(re(Oe,Le.scalefac[te],Je),Me+=Je);f(Me==Le.part2_length),Le.block_type==y.SHORT_TYPE?Me+=oe(Oe,Le):Me+=ve(Oe,Le),Me+=me(Oe,Le),f(Me==Le.part2_3_length+Le.part2_length),Ke+=Me}else for(Y=0,$=0;$<Oe.channels_out;$++){var Le=xe.tt[Y][$],en,un,_n=0;if(f(Le.sfb_partition_table!=null),Me=0,te=0,un=0,Le.block_type==y.SHORT_TYPE){for(;un<4;un++){var on=Le.sfb_partition_table[un]/3,Hn=Le.slen[un];for(en=0;en<on;en++,te++)re(Oe,Math.max(Le.scalefac[te*3+0],0),Hn),re(Oe,Math.max(Le.scalefac[te*3+1],0),Hn),re(Oe,Math.max(Le.scalefac[te*3+2],0),Hn),_n+=3*Hn}Me+=oe(Oe,Le)}else{for(;un<4;un++){var on=Le.sfb_partition_table[un],Hn=Le.slen[un];for(en=0;en<on;en++,te++)re(Oe,Math.max(Le.scalefac[te],0),Hn),_n+=Hn}Me+=ve(Oe,Le)}Me+=me(Oe,Le),f(Me==Le.part2_3_length),f(_n==Le.part2_length),Ke+=_n+Me}return Ke}function ue(){this.total=0}function he(V,Y){var $=V.internal_flags,te,Me,Ke,Oe,xe;return xe=$.w_ptr,Oe=$.h_ptr-1,Oe==-1&&(Oe=w.MAX_HEADER_BUF-1),te=$.header[Oe].write_timing-T,Y.total=te,te>=0&&(Me=1+Oe-xe,Oe<xe&&(Me=1+Oe-xe+w.MAX_HEADER_BUF),te-=Me*8*$.sideinfo_len),Ke=A.getframebits(V),te+=Ke,Y.total+=Ke,Y.total%8!=0?Y.total=1+Y.total/8:Y.total=Y.total/8,Y.total+=M+1,te<0&&r.err.println(`strange error flushing buffer ... 
`),te}this.flush_bitstream=function(V){var Y=V.internal_flags,$,te,Me=Y.h_ptr-1;if(Me==-1&&(Me=w.MAX_HEADER_BUF-1),$=Y.l3_side,!((te=he(V,new ue))<0)){if(B(V,te),f(Y.header[Me].write_timing+this.getframebits(V)==T),Y.ResvSize=0,$.main_data_begin=0,Y.findReplayGain){var Ke=k.GetTitleGain(Y.rgdata);f(NEQ(Ke,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),Y.RadioGain=Math.floor(Ke*10+.5)|0}Y.findPeakSample&&(Y.noclipGainChange=Math.ceil(Math.log10(Y.PeakSample/32767)*200)|0,Y.noclipGainChange>0&&(EQ(V.scale,1)||EQ(V.scale,0))?Y.noclipScale=Math.floor(32767/Y.PeakSample*100)/100:Y.noclipScale=-1)}},this.add_dummy_byte=function(V,Y,$){for(var te=V.internal_flags,Me;$-- >0;)for(pe(te,Y,8),Me=0;Me<w.MAX_HEADER_BUF;++Me)te.header[Me].write_timing+=8},this.format_bitstream=function(V){var Y=V.internal_flags,$;$=Y.l3_side;var te=this.getframebits(V);B(V,$.resvDrain_pre),j(V,te);var Me=8*Y.sideinfo_len;if(Me+=Re(V),B(V,$.resvDrain_post),Me+=$.resvDrain_post,$.main_data_begin+=(te-Me)/8,he(V,new ue)!=Y.ResvSize&&r.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),$.main_data_begin*8!=Y.ResvSize&&(r.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*$.main_data_begin,Y.ResvSize,$.resvDrain_post,$.resvDrain_pre,8*Y.sideinfo_len,Me-$.resvDrain_post-8*Y.sideinfo_len,Me,Me%8,te),r.err.println("This is a fatal error.  It has several possible causes:"),r.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),r.err.println(" 9%%  Your system is overclocked"),r.err.println(" 1%%  bug in LAME encoding library"),Y.ResvSize=$.main_data_begin*8),f(T%8==0),T>1e9){var Ke;for(Ke=0;Ke<w.MAX_HEADER_BUF;++Ke)Y.header[Ke].write_timing-=T;T=0}return 0},this.copy_buffer=function(V,Y,$,te,Me){var Ke=M+1;if(Ke<=0)return 0;if(te!=0&&Ke>te)return-1;if(r.arraycopy(D,0,Y,$,Ke),M=-1,q=0,Me!=0){var Oe=h(1);if(Oe[0]=V.nMusicCRC,H.updateMusicCRC(Oe,Y,$,Ke),V.nMusicCRC=Oe[0],Ke>0&&(V.VBR_seek_table.nBytesWritten+=Ke),V.decode_on_the_fly){for(var xe=u([2,1152]),Le=Ke,Fe=-1,Je;Fe!=0;)if(Fe=N.hip_decode1_unclipped(V.hip,Y,$,Le,xe[0],xe[1]),Le=0,Fe==-1&&(Fe=0),Fe>0){if(f(Fe<=1152),V.findPeakSample){for(Je=0;Je<Fe;Je++)xe[0][Je]>V.PeakSample?V.PeakSample=xe[0][Je]:-xe[0][Je]>V.PeakSample&&(V.PeakSample=-xe[0][Je]);if(V.channels_out>1)for(Je=0;Je<Fe;Je++)xe[1][Je]>V.PeakSample?V.PeakSample=xe[1][Je]:-xe[1][Je]>V.PeakSample&&(V.PeakSample=-xe[1][Je])}if(V.findReplayGain&&k.AnalyzeSamples(V.rgdata,xe[0],0,xe[1],0,Fe,V.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return Ke},this.init_bit_stream_w=function(V){D=o(C.LAME_MAXMP3BUFFER),V.h_ptr=V.w_ptr=0,V.header[V.h_ptr].write_timing=0,M=-1,q=0,T=0}}n.exports=x});bn.register("65Sx2",function(n,t){var e=bn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var o=e.new_int;e.new_int_n;var u=e.assert,h=bn("cPNKB"),f=bn("dQDcS"),m=bn("7weBo"),v=bn("84mea");function y(){var w=null;this.qupvt=null,this.setModules=function(ue){this.qupvt=ue,w=ue};function x(ue){this.bits=0|ue}var C=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function A(ue,he,V,Y,$,te){var Me=.5946/he;for(u(ue>0),ue=ue>>1;ue--!=0;)$[te++]=Me>V[Y++]?0:1,$[te++]=Me>V[Y++]?0:1}function L(ue,he,V,Y,$,te){u(ue>0),ue=ue>>1;var Me=ue%2;for(ue=ue>>1;ue--!=0;){var Ke,Oe,xe,Le,Fe,Je,en,un;Ke=V[Y++]*he,Oe=V[Y++]*he,Fe=0|Ke,xe=V[Y++]*he,Je=0|Oe,Le=V[Y++]*he,en=0|xe,Ke+=w.adj43[Fe],un=0|Le,Oe+=w.adj43[Je],$[te++]=0|Ke,xe+=w.adj43[en],$[te++]=0|Oe,Le+=w.adj43[un],$[te++]=0|xe,$[te++]=0|Le}if(Me!=0){var Ke,Oe,Fe,Je;Ke=V[Y++]*he,Oe=V[Y++]*he,Fe=0|Ke,Je=0|Oe,Ke+=w.adj43[Fe],Oe+=w.adj43[Je],$[te++]=0|Ke,$[te++]=0|Oe}}function S(ue,he,V,Y,$){var te,Me,Ke=0,Oe,xe=0,Le=0,Fe=0,Je=he,en=0,un=Je,_n=0,on=ue,Hn=0;for(Oe=$!=null&&Y.global_gain==$.global_gain,Y.block_type==h.SHORT_TYPE?Me=38:Me=21,te=0;te<=Me;te++){var Vn=-1;if((Oe||Y.block_type==h.NORM_TYPE)&&(Vn=Y.global_gain-(Y.scalefac[te]+(Y.preflag!=0?w.pretab[te]:0)<<Y.scalefac_scale+1)-Y.subblock_gain[Y.window[te]]*8),u(Y.width[te]>=0),Oe&&$.step[te]==Vn)xe!=0&&(L(xe,V,on,Hn,un,_n),xe=0),Le!=0&&(A(Le,V,on,Hn,un,_n),Le=0);else{var G=Y.width[te];if(Ke+Y.width[te]>Y.max_nonzero_coeff){var ee;ee=Y.max_nonzero_coeff-Ke+1,a.fill(he,Y.max_nonzero_coeff,576,0),G=ee,G<0&&(G=0),te=Me+1}if(xe==0&&Le==0&&(un=Je,_n=en,on=ue,Hn=Fe),$!=null&&$.sfb_count1>0&&te>=$.sfb_count1&&$.step[te]>0&&Vn>=$.step[te]?(xe!=0&&(L(xe,V,on,Hn,un,_n),xe=0,un=Je,_n=en,on=ue,Hn=Fe),Le+=G):(Le!=0&&(A(Le,V,on,Hn,un,_n),Le=0,un=Je,_n=en,on=ue,Hn=Fe),xe+=G),G<=0){Le!=0&&(A(Le,V,on,Hn,un,_n),Le=0),xe!=0&&(L(xe,V,on,Hn,un,_n),xe=0);break}}te<=Me&&(en+=Y.width[te],Fe+=Y.width[te],Ke+=Y.width[te])}xe!=0&&(L(xe,V,on,Hn,un,_n),xe=0),Le!=0&&(A(Le,V,on,Hn,un,_n),Le=0)}function k(ue,he,V){var Y=0,$=0;do{var te=ue[he++],Me=ue[he++];Y<te&&(Y=te),$<Me&&($=Me)}while(he<V);return Y<$&&(Y=$),Y}function N(ue,he,V,Y,$,te){var Me=f.ht[Y].xlen*65536+f.ht[$].xlen,Ke=0,Oe;do{var xe=ue[he++],Le=ue[he++];xe!=0&&(xe>14&&(xe=15,Ke+=Me),xe*=16),Le!=0&&(Le>14&&(Le=15,Ke+=Me),xe+=Le),Ke+=f.largetbl[xe]}while(he<V);return Oe=Ke&65535,Ke>>=16,Ke>Oe&&(Ke=Oe,Y=$),te.bits+=Ke,Y}function O(ue,he,V,Y){var $=0,te=f.ht[1].hlen;do{var Me=ue[he+0]*2+ue[he+1];he+=2,$+=te[Me]}while(he<V);return Y.bits+=$,1}function H(ue,he,V,Y,$){var te=0,Me,Ke=f.ht[Y].xlen,Oe;Y==2?Oe=f.table23:Oe=f.table56;do{var xe=ue[he+0]*Ke+ue[he+1];he+=2,te+=Oe[xe]}while(he<V);return Me=te&65535,te>>=16,te>Me&&(te=Me,Y++),$.bits+=te,Y}function D(ue,he,V,Y,$){var te=0,Me=0,Ke=0,Oe=f.ht[Y].xlen,xe=f.ht[Y].hlen,Le=f.ht[Y+1].hlen,Fe=f.ht[Y+2].hlen;do{var Je=ue[he+0]*Oe+ue[he+1];he+=2,te+=xe[Je],Me+=Le[Je],Ke+=Fe[Je]}while(he<V);var en=Y;return te>Me&&(te=Me,en++),te>Ke&&(te=Ke,en=Y+2),$.bits+=te,en}var T=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function M(ue,he,V,Y){var $=k(ue,he,V);switch($){case 0:return $;case 1:return O(ue,he,V,Y);case 2:case 3:return H(ue,he,V,T[$-1],Y);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return D(ue,he,V,T[$-1],Y);default:if($>v.IXMAX_VAL)return Y.bits=v.LARGE_BITS,-1;$-=15;var te;for(te=24;te<32&&!(f.ht[te].linmax>=$);te++);var Me;for(Me=te-8;Me<24&&!(f.ht[Me].linmax>=$);Me++);return N(ue,he,V,Me,te,Y)}}this.noquant_count_bits=function(ue,he,V){var Y=he.l3_enc,$=Math.min(576,he.max_nonzero_coeff+2>>1<<1);for(V!=null&&(V.sfb_count1=0);$>1&&!(Y[$-1]|Y[$-2]);$-=2);he.count1=$;for(var te=0,Me=0;$>3;$-=4){var Ke;if(((Y[$-1]|Y[$-2]|Y[$-3]|Y[$-4])&2147483647)>1)break;Ke=((Y[$-4]*2+Y[$-3])*2+Y[$-2])*2+Y[$-1],te+=f.t32l[Ke],Me+=f.t33l[Ke]}var Oe=te;if(he.count1table_select=0,te>Me&&(Oe=Me,he.count1table_select=1),he.count1bits=Oe,he.big_values=$,$==0)return Oe;if(he.block_type==h.SHORT_TYPE)te=3*ue.scalefac_band.s[3],te>he.big_values&&(te=he.big_values),Me=he.big_values;else if(he.block_type==h.NORM_TYPE){if(u($<=576),te=he.region0_count=ue.bv_scf[$-2],Me=he.region1_count=ue.bv_scf[$-1],u(te+Me+2<h.SBPSY_l),Me=ue.scalefac_band.l[te+Me+2],te=ue.scalefac_band.l[te+1],Me<$){var xe=new x(Oe);he.table_select[2]=M(Y,Me,$,xe),Oe=xe.bits}}else he.region0_count=7,he.region1_count=h.SBMAX_l-1-7-1,te=ue.scalefac_band.l[8],Me=$,te>Me&&(te=Me);if(te=Math.min(te,$),Me=Math.min(Me,$),u(te>=0),u(Me>=0),0<te){var xe=new x(Oe);he.table_select[0]=M(Y,0,te,xe),Oe=xe.bits}if(te<Me){var xe=new x(Oe);he.table_select[1]=M(Y,te,Me,xe),Oe=xe.bits}if(ue.use_best_huffman==2&&(he.part2_3_length=Oe,best_huffman_divide(ue,he),Oe=he.part2_3_length),V!=null&&he.block_type==h.NORM_TYPE){for(var Le=0;ue.scalefac_band.l[Le]<he.big_values;)Le++;V.sfb_count1=Le}return Oe},this.count_bits=function(ue,he,V,Y){var $=V.l3_enc,te=v.IXMAX_VAL/w.IPOW20(V.global_gain);if(V.xrpow_max>te)return v.LARGE_BITS;if(S(he,$,w.IPOW20(V.global_gain),V,Y),ue.substep_shaping&2)for(var Me=0,Ke=V.global_gain+V.scalefac_scale,Oe=.634521682242439/w.IPOW20(Ke),xe=0;xe<V.sfbmax;xe++){var Le=V.width[xe];if(u(Le>=0),ue.pseudohalf[xe]==0)Me+=Le;else{var Fe;for(Fe=Me,Me+=Le;Fe<Me;++Fe)$[Fe]=he[Fe]>=Oe?$[Fe]:0}}return this.noquant_count_bits(ue,V,Y)};function q(ue,he,V,Y,$,te,Me){for(var Ke=he.big_values,Oe=0;Oe<=22;Oe++)Y[Oe]=v.LARGE_BITS;for(var Oe=0;Oe<16;Oe++){var xe=ue.scalefac_band.l[Oe+1];if(xe>=Ke)break;var Le=0,Fe=new x(Le),Je=M(V,0,xe,Fe);Le=Fe.bits;for(var en=0;en<8;en++){var un=ue.scalefac_band.l[Oe+en+2];if(un>=Ke)break;var _n=Le;Fe=new x(_n);var on=M(V,xe,un,Fe);_n=Fe.bits,Y[Oe+en]>_n&&(Y[Oe+en]=_n,$[Oe+en]=Oe,te[Oe+en]=Je,Me[Oe+en]=on)}}}function z(ue,he,V,Y,$,te,Me,Ke){for(var Oe=he.big_values,xe=2;xe<h.SBMAX_l+1;xe++){var Le=ue.scalefac_band.l[xe];if(Le>=Oe)break;var Fe=$[xe-2]+he.count1bits;if(V.part2_3_length<=Fe)break;var Je=new x(Fe),en=M(Y,Le,Oe,Je);Fe=Je.bits,!(V.part2_3_length<=Fe)&&(V.assign(he),V.part2_3_length=Fe,V.region0_count=te[xe-2],V.region1_count=xe-2-te[xe-2],V.table_select[0]=Me[xe-2],V.table_select[1]=Ke[xe-2],V.table_select[2]=en)}}this.best_huffman_divide=function(ue,he){var V=new m,Y=he.l3_enc,$=o(23),te=o(23),Me=o(23),Ke=o(23);if(!(he.block_type==h.SHORT_TYPE&&ue.mode_gr==1)){V.assign(he),he.block_type==h.NORM_TYPE&&(q(ue,he,Y,$,te,Me,Ke),z(ue,V,he,Y,$,te,Me,Ke));var Oe=V.big_values;if(!(Oe==0||(Y[Oe-2]|Y[Oe-1])>1)&&(Oe=he.count1+2,!(Oe>576))){V.assign(he),V.count1=Oe;var xe=0,Le=0;for(u(Oe<=576);Oe>V.big_values;Oe-=4){var Fe=((Y[Oe-4]*2+Y[Oe-3])*2+Y[Oe-2])*2+Y[Oe-1];xe+=f.t32l[Fe],Le+=f.t33l[Fe]}if(V.big_values=Oe,V.count1table_select=0,xe>Le&&(xe=Le,V.count1table_select=1),V.count1bits=xe,V.block_type==h.NORM_TYPE)z(ue,V,he,Y,$,te,Me,Ke);else{if(V.part2_3_length=xe,xe=ue.scalefac_band.l[8],xe>Oe&&(xe=Oe),xe>0){var Je=new x(V.part2_3_length);V.table_select[0]=M(Y,0,xe,Je),V.part2_3_length=Je.bits}if(Oe>xe){var Je=new x(V.part2_3_length);V.table_select[1]=M(Y,xe,Oe,Je),V.part2_3_length=Je.bits}he.part2_3_length>V.part2_3_length&&he.assign(V)}}}};var re=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],pe=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],B=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],Q=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];y.slen1_tab=B,y.slen2_tab=Q;function ie(ue,he){for(var V,Y=he.tt[1][ue],$=he.tt[0][ue],te=0;te<f.scfsi_band.length-1;te++){for(V=f.scfsi_band[te];V<f.scfsi_band[te+1]&&!($.scalefac[V]!=Y.scalefac[V]&&Y.scalefac[V]>=0);V++);if(V==f.scfsi_band[te+1]){for(V=f.scfsi_band[te];V<f.scfsi_band[te+1];V++)Y.scalefac[V]=-1;he.scfsi[ue][te]=1}}var Me=0,Ke=0;for(V=0;V<11;V++)Y.scalefac[V]!=-1&&(Ke++,Me<Y.scalefac[V]&&(Me=Y.scalefac[V]));for(var Oe=0,xe=0;V<h.SBPSY_l;V++)Y.scalefac[V]!=-1&&(xe++,Oe<Y.scalefac[V]&&(Oe=Y.scalefac[V]));for(var te=0;te<16;te++)if(Me<re[te]&&Oe<pe[te]){var Le=B[te]*Ke+Q[te]*xe;Y.part2_length>Le&&(Y.part2_length=Le,Y.scalefac_compress=te)}}this.best_scalefac_store=function(ue,he,V,Y){var $=Y.tt[he][V],te,Me,Ke,Oe,xe=0;for(Ke=0,te=0;te<$.sfbmax;te++){var Le=$.width[te];for(u(Le>=0),Ke+=Le,Oe=-Le;Oe<0&&$.l3_enc[Oe+Ke]==0;Oe++);Oe==0&&($.scalefac[te]=xe=-2)}if($.scalefac_scale==0&&$.preflag==0){var Fe=0;for(te=0;te<$.sfbmax;te++)$.scalefac[te]>0&&(Fe|=$.scalefac[te]);if(!(Fe&1)&&Fe!=0){for(te=0;te<$.sfbmax;te++)$.scalefac[te]>0&&($.scalefac[te]>>=1);$.scalefac_scale=xe=1}}if($.preflag==0&&$.block_type!=h.SHORT_TYPE&&ue.mode_gr==2){for(te=11;te<h.SBPSY_l&&!($.scalefac[te]<w.pretab[te]&&$.scalefac[te]!=-2);te++);if(te==h.SBPSY_l){for(te=11;te<h.SBPSY_l;te++)$.scalefac[te]>0&&($.scalefac[te]-=w.pretab[te]);$.preflag=xe=1}}for(Me=0;Me<4;Me++)Y.scfsi[V][Me]=0;for(ue.mode_gr==2&&he==1&&Y.tt[0][V].block_type!=h.SHORT_TYPE&&Y.tt[1][V].block_type!=h.SHORT_TYPE&&(ie(V,Y),xe=0),te=0;te<$.sfbmax;te++)$.scalefac[te]==-2&&($.scalefac[te]=0);xe!=0&&(ue.mode_gr==2?this.scale_bitcount($):this.scale_bitcount_lsf(ue,$))};function j(ue,he){for(var V=0;V<he;++V)if(ue[V]<0)return!1;return!0}var me=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],ae=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],oe=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(ue){var he,V,Y=0,$=0,te,Me=ue.scalefac;if(u(j(Me,ue.sfbmax)),ue.block_type==h.SHORT_TYPE)te=me,ue.mixed_block_flag!=0&&(te=ae);else if(te=oe,ue.preflag==0){for(V=11;V<h.SBPSY_l&&!(Me[V]<w.pretab[V]);V++);if(V==h.SBPSY_l)for(ue.preflag=1,V=11;V<h.SBPSY_l;V++)Me[V]-=w.pretab[V]}for(V=0;V<ue.sfbdivide;V++)Y<Me[V]&&(Y=Me[V]);for(;V<ue.sfbmax;V++)$<Me[V]&&($=Me[V]);for(ue.part2_length=v.LARGE_BITS,he=0;he<16;he++)Y<re[he]&&$<pe[he]&&ue.part2_length>te[he]&&(ue.part2_length=te[he],ue.scalefac_compress=he);return ue.part2_length==v.LARGE_BITS};var ve=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(ue,he){var V,Y,$,te,Me,Ke,Oe,xe,Le=o(4),Fe=he.scalefac;for(he.preflag!=0?V=2:V=0,Oe=0;Oe<4;Oe++)Le[Oe]=0;if(he.block_type==h.SHORT_TYPE){Y=1;var Je=w.nr_of_sfb_block[V][Y];for(xe=0,$=0;$<4;$++)for(te=Je[$]/3,Oe=0;Oe<te;Oe++,xe++)for(Me=0;Me<3;Me++)Fe[xe*3+Me]>Le[$]&&(Le[$]=Fe[xe*3+Me])}else{Y=0;var Je=w.nr_of_sfb_block[V][Y];for(xe=0,$=0;$<4;$++)for(te=Je[$],Oe=0;Oe<te;Oe++,xe++)Fe[xe]>Le[$]&&(Le[$]=Fe[xe])}for(Ke=!1,$=0;$<4;$++)Le[$]>ve[V][$]&&(Ke=!0);if(!Ke){var en,un,_n,on;for(he.sfb_partition_table=w.nr_of_sfb_block[V][Y],$=0;$<4;$++)he.slen[$]=Re[Le[$]];switch(en=he.slen[0],un=he.slen[1],_n=he.slen[2],on=he.slen[3],V){case 0:he.scalefac_compress=(en*5+un<<4)+(_n<<2)+on;break;case 1:he.scalefac_compress=400+(en*5+un<<2)+_n;break;case 2:he.scalefac_compress=500+en*3+un;break;default:r.err.printf(`intensity stereo not implemented yet
`);break}}if(!Ke)for(u(he.sfb_partition_table!=null),he.part2_length=0,$=0;$<4;$++)he.part2_length+=he.slen[$]*he.sfb_partition_table[$];return Ke};var Re=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(ue){for(var he=2;he<=576;he+=2){for(var V=0,Y;ue.scalefac_band.l[++V]<he;);for(Y=C[V][0];ue.scalefac_band.l[Y+1]>he;)Y--;for(Y<0&&(Y=C[V][0]),ue.bv_scf[he-2]=Y,Y=C[V][1];ue.scalefac_band.l[Y+ue.bv_scf[he-2]+2]>he;)Y--;Y<0&&(Y=C[V][1]),ue.bv_scf[he-1]=Y}}}n.exports=y});bn.register("dQDcS",function(n,t){function e(a,o,u,h){this.xlen=a,this.linmax=o,this.table=u,this.hlen=h}var r={};r.t1HB=[1,1,1,0],r.t2HB=[1,2,1,3,1,1,3,2,0],r.t3HB=[3,2,1,1,1,1,3,2,0],r.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],r.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],r.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],r.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],r.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],r.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],r.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],r.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],r.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],r.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],r.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],r.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],r.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],r.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],r.t1l=[1,4,3,5],r.t2l=[1,4,7,4,5,7,6,7,8],r.t3l=[2,3,7,4,4,7,6,7,8],r.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],r.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],r.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],r.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],r.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],r.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],r.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],r.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],r.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],r.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],r.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],r.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],r.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],r.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],r.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],r.ht=[new e(0,0,null,null),new e(2,0,r.t1HB,r.t1l),new e(3,0,r.t2HB,r.t2l),new e(3,0,r.t3HB,r.t3l),new e(0,0,null,null),new e(4,0,r.t5HB,r.t5l),new e(4,0,r.t6HB,r.t6l),new e(6,0,r.t7HB,r.t7l),new e(6,0,r.t8HB,r.t8l),new e(6,0,r.t9HB,r.t9l),new e(8,0,r.t10HB,r.t10l),new e(8,0,r.t11HB,r.t11l),new e(8,0,r.t12HB,r.t12l),new e(16,0,r.t13HB,r.t13l),new e(0,0,null,r.t16_5l),new e(16,0,r.t15HB,r.t15l),new e(1,1,r.t16HB,r.t16l),new e(2,3,r.t16HB,r.t16l),new e(3,7,r.t16HB,r.t16l),new e(4,15,r.t16HB,r.t16l),new e(6,63,r.t16HB,r.t16l),new e(8,255,r.t16HB,r.t16l),new e(10,1023,r.t16HB,r.t16l),new e(13,8191,r.t16HB,r.t16l),new e(4,15,r.t24HB,r.t24l),new e(5,31,r.t24HB,r.t24l),new e(6,63,r.t24HB,r.t24l),new e(7,127,r.t24HB,r.t24l),new e(8,255,r.t24HB,r.t24l),new e(9,511,r.t24HB,r.t24l),new e(11,2047,r.t24HB,r.t24l),new e(13,8191,r.t24HB,r.t24l),new e(0,0,r.t32HB,r.t32l),new e(0,0,r.t33HB,r.t33l)],r.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],r.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],r.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],r.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],r.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],r.scfsi_band=[0,6,11,16,21],n.exports=r});bn.register("84mea",function(n,t){var e=bn("7imnH"),r=bn("3YDN3");r.System;var a=r.VbrMode,o=r.Float;r.ShortBlock;var u=r.Util;r.Arrays,r.new_array_n,r.new_byte,r.new_double;var h=r.new_float;r.new_float_n;var f=r.new_int;r.new_int_n;var m=r.assert,v=bn("cPNKB"),y=bn("lL4Le"),w=bn("4SDnr");x.Q_MAX=257,x.Q_MAX2=116,x.LARGE_BITS=1e5,x.IXMAX_VAL=8206;function x(){var C=bn("ctaQC"),A=null,L=null,S=null;this.setModules=function(me,ae,oe){A=me,L=ae,S=oe};function k(me){return m(0<=me+x.Q_MAX2&&me<x.Q_MAX),z[me+x.Q_MAX2]}this.IPOW20=function(me){return m(0<=me&&me<x.Q_MAX),re[me]};var N=2220446049250313e-31,O=x.IXMAX_VAL,H=O+2,D=x.Q_MAX,T=x.Q_MAX2;x.LARGE_BITS;var M=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var q=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=q,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var z=h(D+T+1),re=h(D),pe=h(H),B=h(H);this.adj43=B;function Q(me,ae){var oe=S.ATHformula(ae,me);return oe-=M,oe=Math.pow(10,oe/10+me.ATHlower),oe}function ie(me){for(var ae=me.internal_flags.ATH.l,oe=me.internal_flags.ATH.psfb21,ve=me.internal_flags.ATH.s,Re=me.internal_flags.ATH.psfb12,ue=me.internal_flags,he=me.out_samplerate,V=0;V<v.SBMAX_l;V++){var Y=ue.scalefac_band.l[V],$=ue.scalefac_band.l[V+1];ae[V]=o.MAX_VALUE;for(var te=Y;te<$;te++){var Me=te*he/1152,Ke=Q(me,Me);ae[V]=Math.min(ae[V],Ke)}}for(var V=0;V<v.PSFB21;V++){var Y=ue.scalefac_band.psfb21[V],$=ue.scalefac_band.psfb21[V+1];oe[V]=o.MAX_VALUE;for(var te=Y;te<$;te++){var Me=te*he/1152,Ke=Q(me,Me);oe[V]=Math.min(oe[V],Ke)}}for(var V=0;V<v.SBMAX_s;V++){var Y=ue.scalefac_band.s[V],$=ue.scalefac_band.s[V+1];ve[V]=o.MAX_VALUE;for(var te=Y;te<$;te++){var Me=te*he/384,Ke=Q(me,Me);ve[V]=Math.min(ve[V],Ke)}ve[V]*=ue.scalefac_band.s[V+1]-ue.scalefac_band.s[V]}for(var V=0;V<v.PSFB12;V++){var Y=ue.scalefac_band.psfb12[V],$=ue.scalefac_band.psfb12[V+1];Re[V]=o.MAX_VALUE;for(var te=Y;te<$;te++){var Me=te*he/384,Ke=Q(me,Me);Re[V]=Math.min(Re[V],Ke)}Re[V]*=ue.scalefac_band.s[13]-ue.scalefac_band.s[12]}if(me.noATH){for(var V=0;V<v.SBMAX_l;V++)ae[V]=1e-20;for(var V=0;V<v.PSFB21;V++)oe[V]=1e-20;for(var V=0;V<v.SBMAX_s;V++)ve[V]=1e-20;for(var V=0;V<v.PSFB12;V++)Re[V]=1e-20}ue.ATH.floor=10*Math.log10(Q(me,-1))}this.iteration_init=function(me){var ae=me.internal_flags,oe=ae.l3_side,ve;if(ae.iteration_init_init==0){for(ae.iteration_init_init=1,oe.main_data_begin=0,ie(me),pe[0]=0,ve=1;ve<H;ve++)pe[ve]=Math.pow(ve,4/3);for(ve=0;ve<H-1;ve++)B[ve]=ve+1-Math.pow(.5*(pe[ve]+pe[ve+1]),.75);for(B[ve]=.5,ve=0;ve<D;ve++)re[ve]=Math.pow(2,(ve-210)*-.1875);for(ve=0;ve<=D+T;ve++)z[ve]=Math.pow(2,(ve-210-T)*.25);A.huffman_init(ae);var Re,ue,he,V;for(ve=me.exp_nspsytune>>2&63,ve>=32&&(ve-=64),Re=Math.pow(10,ve/4/10),ve=me.exp_nspsytune>>8&63,ve>=32&&(ve-=64),ue=Math.pow(10,ve/4/10),ve=me.exp_nspsytune>>14&63,ve>=32&&(ve-=64),he=Math.pow(10,ve/4/10),ve=me.exp_nspsytune>>20&63,ve>=32&&(ve-=64),V=he*Math.pow(10,ve/4/10),ve=0;ve<v.SBMAX_l;ve++){var Y;ve<=6?Y=Re:ve<=13?Y=ue:ve<=20?Y=he:Y=V,ae.nsPsy.longfact[ve]=Y}for(ve=0;ve<v.SBMAX_s;ve++){var Y;ve<=5?Y=Re:ve<=10?Y=ue:ve<=11?Y=he:Y=V,ae.nsPsy.shortfact[ve]=Y}}},this.on_pe=function(me,ae,oe,ve,Re,ue){var he=me.internal_flags,V=0,Y,$=f(2),te,Me=new y(V),Ke=L.ResvMaxBits(me,ve,Me,ue);V=Me.bits;var Oe=V+Ke;for(Oe>w.MAX_BITS_PER_GRANULE&&(Oe=w.MAX_BITS_PER_GRANULE),Y=0,te=0;te<he.channels_out;++te)oe[te]=Math.min(w.MAX_BITS_PER_CHANNEL,V/he.channels_out),$[te]=0|oe[te]*ae[Re][te]/700-oe[te],$[te]>ve*3/4&&($[te]=ve*3/4),$[te]<0&&($[te]=0),$[te]+oe[te]>w.MAX_BITS_PER_CHANNEL&&($[te]=Math.max(0,w.MAX_BITS_PER_CHANNEL-oe[te])),Y+=$[te];if(Y>Ke)for(te=0;te<he.channels_out;++te)$[te]=Ke*$[te]/Y;for(te=0;te<he.channels_out;++te)oe[te]+=$[te],Ke-=$[te];for(Y=0,te=0;te<he.channels_out;++te)Y+=oe[te];if(Y>w.MAX_BITS_PER_GRANULE){var xe=0;for(te=0;te<he.channels_out;++te)oe[te]*=w.MAX_BITS_PER_GRANULE,oe[te]/=Y,xe+=oe[te];m(xe<=w.MAX_BITS_PER_GRANULE)}return Oe},this.reduce_side=function(me,ae,oe,ve){m(ve<=w.MAX_BITS_PER_GRANULE),m(me[0]+me[1]<=w.MAX_BITS_PER_GRANULE);var Re=.33*(.5-ae)/.5;Re<0&&(Re=0),Re>.5&&(Re=.5);var ue=0|Re*.5*(me[0]+me[1]);ue>w.MAX_BITS_PER_CHANNEL-me[0]&&(ue=w.MAX_BITS_PER_CHANNEL-me[0]),ue<0&&(ue=0),me[1]>=125&&(me[1]-ue>125?(me[0]<oe&&(me[0]+=ue),me[1]-=ue):(me[0]+=me[1]-125,me[1]=125)),ue=me[0]+me[1],ue>ve&&(me[0]=ve*me[0]/ue,me[1]=ve*me[1]/ue),m(me[0]<=w.MAX_BITS_PER_CHANNEL),m(me[1]<=w.MAX_BITS_PER_CHANNEL),m(me[0]+me[1]<=w.MAX_BITS_PER_GRANULE)},this.athAdjust=function(me,ae,oe){var ve=90.30873362,Re=94.82444863,ue=u.FAST_LOG10_X(ae,10),he=me*me,V=0;return ue-=oe,he>1e-20&&(V=1+u.FAST_LOG10_X(he,10/ve)),V<0&&(V=0),ue*=V,ue+=oe+ve-Re,Math.pow(10,.1*ue)},this.calc_xmin=function(me,ae,oe,ve){var Re=0,ue=me.internal_flags,he,V=0,Y=0,$=ue.ATH,te=oe.xr,Me=me.VBR==a.vbr_mtrh?1:0,Ke=ue.masking_lower;for((me.VBR==a.vbr_mtrh||me.VBR==a.vbr_mt)&&(Ke=1),he=0;he<oe.psy_lmax;he++){var Oe,xe,Le,Fe,Je,en;me.VBR==a.vbr_rh||me.VBR==a.vbr_mtrh?xe=athAdjust($.adjust,$.l[he],$.floor):xe=$.adjust*$.l[he],Je=oe.width[he],Le=xe/Je,Fe=N,en=Je>>1,Oe=0;do{var un,_n;un=te[V]*te[V],Oe+=un,Fe+=un<Le?un:Le,V++,_n=te[V]*te[V],Oe+=_n,Fe+=_n<Le?_n:Le,V++}while(--en>0);if(Oe>xe&&Y++,he==v.SBPSY_l){var on=xe*ue.nsPsy.longfact[he];Fe<on&&(Fe=on)}if(Me!=0&&(xe=Fe),!me.ATHonly){var Hn=ae.en.l[he];if(Hn>0){var on;on=Oe*ae.thm.l[he]*Ke/Hn,Me!=0&&(on*=ue.nsPsy.longfact[he]),xe<on&&(xe=on)}}Me!=0?ve[Re++]=xe:ve[Re++]=xe*ue.nsPsy.longfact[he]}var Vn=575;if(oe.block_type!=v.SHORT_TYPE)for(var G=576;G--!=0&&C.EQ(te[G],0);)Vn=G;oe.max_nonzero_coeff=Vn;for(var ee=oe.sfb_smin;he<oe.psymax;ee++,he+=3){var Je,yn,Cn;for(me.VBR==a.vbr_rh||me.VBR==a.vbr_mtrh?Cn=athAdjust($.adjust,$.s[ee],$.floor):Cn=$.adjust*$.s[ee],Je=oe.width[he],yn=0;yn<3;yn++){var Oe=0,xe,Le,Fe,en=Je>>1;Le=Cn/Je,Fe=N;do{var un,_n;un=te[V]*te[V],Oe+=un,Fe+=un<Le?un:Le,V++,_n=te[V]*te[V],Oe+=_n,Fe+=_n<Le?_n:Le,V++}while(--en>0);if(Oe>Cn&&Y++,ee==v.SBPSY_s){var on=Cn*ue.nsPsy.shortfact[ee];Fe<on&&(Fe=on)}if(Me!=0?xe=Fe:xe=Cn,!me.ATHonly&&!me.ATHshort){var Hn=ae.en.s[ee][yn];if(Hn>0){var on;on=Oe*ae.thm.s[ee][yn]*Ke/Hn,Me!=0&&(on*=ue.nsPsy.shortfact[ee]),xe<on&&(xe=on)}}Me!=0?ve[Re++]=xe:ve[Re++]=xe*ue.nsPsy.shortfact[ee]}me.useTemporal&&(ve[Re-3]>ve[Re-3+1]&&(ve[Re-3+1]+=(ve[Re-3]-ve[Re-3+1])*ue.decay),ve[Re-3+1]>ve[Re-3+2]&&(ve[Re-3+2]+=(ve[Re-3+1]-ve[Re-3+2])*ue.decay))}return Y};function j(me){this.s=me}this.calc_noise_core=function(me,ae,oe,ve){var Re=0,ue=ae.s,he=me.l3_enc;if(ue>me.count1)for(;oe--!=0;){var V;V=me.xr[ue],ue++,Re+=V*V,V=me.xr[ue],ue++,Re+=V*V}else if(ue>me.big_values){var Y=h(2);for(Y[0]=0,Y[1]=ve;oe--!=0;){var V;V=Math.abs(me.xr[ue])-Y[he[ue]],ue++,Re+=V*V,V=Math.abs(me.xr[ue])-Y[he[ue]],ue++,Re+=V*V}}else for(;oe--!=0;){var V;V=Math.abs(me.xr[ue])-pe[he[ue]]*ve,ue++,Re+=V*V,V=Math.abs(me.xr[ue])-pe[he[ue]]*ve,ue++,Re+=V*V}return ae.s=ue,Re},this.calc_noise=function(me,ae,oe,ve,Re){var ue=0,he=0,V,Y,$=0,te=0,Me=0,Ke=-20,Oe=0,xe=me.scalefac,Le=0;for(ve.over_SSD=0,V=0;V<me.psymax;V++){var Fe=me.global_gain-(xe[Le++]+(me.preflag!=0?q[V]:0)<<me.scalefac_scale+1)-me.subblock_gain[me.window[V]]*8,Je=0;if(Re!=null&&Re.step[V]==Fe)Je=Re.noise[V],Oe+=me.width[V],oe[ue++]=Je/ae[he++],Je=Re.noise_log[V];else{var en=k(Fe);if(Y=me.width[V]>>1,Oe+me.width[V]>me.max_nonzero_coeff){var un;un=me.max_nonzero_coeff-Oe+1,un>0?Y=un>>1:Y=0}var _n=new j(Oe);Je=this.calc_noise_core(me,_n,Y,en),Oe=_n.s,Re!=null&&(Re.step[V]=Fe,Re.noise[V]=Je),Je=oe[ue++]=Je/ae[he++],Je=u.FAST_LOG10(Math.max(Je,1e-20)),Re!=null&&(Re.noise_log[V]=Je)}if(Re!=null&&(Re.global_gain=me.global_gain),Me+=Je,Je>0){var on;on=Math.max(0|Je*10+.5,1),ve.over_SSD+=on*on,$++,te+=Je}Ke=Math.max(Ke,Je)}return ve.over_count=$,ve.tot_noise=Me,ve.over_noise=te,ve.max_noise=Ke,$},this.set_pinfo=function(me,ae,oe,ve,Re){var ue=me.internal_flags,he,V,Y,$,te,Me=ae.scalefac_scale==0?.5:1,Ke=ae.scalefac,Oe=h(L3Side.SFBMAX),xe=h(L3Side.SFBMAX),Le=new CalcNoiseResult;calc_xmin(me,oe,ae,Oe),calc_noise(ae,Oe,xe,Le,null);var Fe=0;for(V=ae.sfb_lmax,ae.block_type!=v.SHORT_TYPE&&ae.mixed_block_flag==0&&(V=22),he=0;he<V;he++){var Je=ue.scalefac_band.l[he],en=ue.scalefac_band.l[he+1],un=en-Je;for($=0;Fe<en;Fe++)$+=ae.xr[Fe]*ae.xr[Fe];$/=un,te=1e15,ue.pinfo.en[ve][Re][he]=te*$,ue.pinfo.xfsf[ve][Re][he]=te*Oe[he]*xe[he]/un,oe.en.l[he]>0&&!me.ATHonly?$=$/oe.en.l[he]:$=0,ue.pinfo.thr[ve][Re][he]=te*Math.max($*oe.thm.l[he],ue.ATH.l[he]),ue.pinfo.LAMEsfb[ve][Re][he]=0,ae.preflag!=0&&he>=11&&(ue.pinfo.LAMEsfb[ve][Re][he]=-Me*q[he]),he<v.SBPSY_l&&(m(Ke[he]>=0),ue.pinfo.LAMEsfb[ve][Re][he]-=Me*Ke[he])}if(ae.block_type==v.SHORT_TYPE)for(V=he,he=ae.sfb_smin;he<v.SBMAX_s;he++)for(var Je=ue.scalefac_band.s[he],en=ue.scalefac_band.s[he+1],un=en-Je,_n=0;_n<3;_n++){for($=0,Y=Je;Y<en;Y++)$+=ae.xr[Fe]*ae.xr[Fe],Fe++;$=Math.max($/un,1e-20),te=1e15,ue.pinfo.en_s[ve][Re][3*he+_n]=te*$,ue.pinfo.xfsf_s[ve][Re][3*he+_n]=te*Oe[V]*xe[V]/un,oe.en.s[he][_n]>0?$=$/oe.en.s[he][_n]:$=0,(me.ATHonly||me.ATHshort)&&($=0),ue.pinfo.thr_s[ve][Re][3*he+_n]=te*Math.max($*oe.thm.s[he][_n],ue.ATH.s[he]),ue.pinfo.LAMEsfb_s[ve][Re][3*he+_n]=-2*ae.subblock_gain[_n],he<v.SBPSY_s&&(ue.pinfo.LAMEsfb_s[ve][Re][3*he+_n]-=Me*Ke[V]),V++}ue.pinfo.LAMEqss[ve][Re]=ae.global_gain,ue.pinfo.LAMEmainbits[ve][Re]=ae.part2_3_length+ae.part2_length,ue.pinfo.LAMEsfbits[ve][Re]=ae.part2_length,ue.pinfo.over[ve][Re]=Le.over_count,ue.pinfo.max_noise[ve][Re]=Le.max_noise*10,ue.pinfo.over_noise[ve][Re]=Le.over_noise*10,ue.pinfo.tot_noise[ve][Re]=Le.tot_noise*10,ue.pinfo.over_SSD[ve][Re]=Le.over_SSD}}n.exports=x});var VP={};$P(VP,"Mp3Encoder",()=>wb,n=>wb=n);$P(VP,"WavHeader",()=>xb,n=>xb=n);var wb,xb,ct=bn("3YDN3");ct.System;ct.VbrMode;ct.Float;ct.ShortBlock;ct.Util;ct.Arrays;ct.new_array_n;var f7=ct.new_byte;ct.new_double;ct.new_float;ct.new_float_n;ct.new_int;ct.new_int_n;var _7=ct.assert,Dbe=bn("kk1yk"),GP={},ct=bn("3YDN3");ct.System;var Yo=ct.VbrMode;ct.Float;ct.ShortBlock;ct.Util;ct.Arrays;ct.new_array_n;ct.new_byte;ct.new_double;ct.new_float;ct.new_float_n;ct.new_int;ct.new_int_n;ct.assert;function Lbe(){var n=bn("kk1yk");function t(v,y,w,x,C,A,L,S,k,N,O,H,D,T,M){this.vbr_q=v,this.quant_comp=y,this.quant_comp_s=w,this.expY=x,this.st_lrm=C,this.st_s=A,this.masking_adj=L,this.masking_adj_short=S,this.ath_lower=k,this.ath_curve=N,this.ath_sensitivity=O,this.interch=H,this.safejoint=D,this.sfb21mod=T,this.msfix=M}function e(v,y,w,x,C,A,L,S,k,N,O,H,D,T){this.quant_comp=y,this.quant_comp_s=w,this.safejoint=x,this.nsmsfix=C,this.st_lrm=A,this.st_s=L,this.nsbass=S,this.scale=k,this.masking_adj=N,this.ath_lower=O,this.ath_curve=H,this.interch=D,this.sfscale=T}var r;this.setModules=function(v){r=v};var a=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],o=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function u(v,y,w){var x=v.VBR==Yo.vbr_rh?a:o,C=v.VBR_q_frac,A=x[y],L=x[y+1],S=A;A.st_lrm=A.st_lrm+C*(L.st_lrm-A.st_lrm),A.st_s=A.st_s+C*(L.st_s-A.st_s),A.masking_adj=A.masking_adj+C*(L.masking_adj-A.masking_adj),A.masking_adj_short=A.masking_adj_short+C*(L.masking_adj_short-A.masking_adj_short),A.ath_lower=A.ath_lower+C*(L.ath_lower-A.ath_lower),A.ath_curve=A.ath_curve+C*(L.ath_curve-A.ath_curve),A.ath_sensitivity=A.ath_sensitivity+C*(L.ath_sensitivity-A.ath_sensitivity),A.interch=A.interch+C*(L.interch-A.interch),A.msfix=A.msfix+C*(L.msfix-A.msfix),m(v,S.vbr_q),w!=0?v.quant_comp=S.quant_comp:Math.abs(v.quant_comp- -1)>0||(v.quant_comp=S.quant_comp),w!=0?v.quant_comp_short=S.quant_comp_s:Math.abs(v.quant_comp_short- -1)>0||(v.quant_comp_short=S.quant_comp_s),S.expY!=0&&(v.experimentalY=S.expY!=0),w!=0?v.internal_flags.nsPsy.attackthre=S.st_lrm:Math.abs(v.internal_flags.nsPsy.attackthre- -1)>0||(v.internal_flags.nsPsy.attackthre=S.st_lrm),w!=0?v.internal_flags.nsPsy.attackthre_s=S.st_s:Math.abs(v.internal_flags.nsPsy.attackthre_s- -1)>0||(v.internal_flags.nsPsy.attackthre_s=S.st_s),w!=0?v.maskingadjust=S.masking_adj:Math.abs(v.maskingadjust-0)>0||(v.maskingadjust=S.masking_adj),w!=0?v.maskingadjust_short=S.masking_adj_short:Math.abs(v.maskingadjust_short-0)>0||(v.maskingadjust_short=S.masking_adj_short),w!=0?v.ATHlower=-S.ath_lower/10:Math.abs(-v.ATHlower*10-0)>0||(v.ATHlower=-S.ath_lower/10),w!=0?v.ATHcurve=S.ath_curve:Math.abs(v.ATHcurve- -1)>0||(v.ATHcurve=S.ath_curve),w!=0?v.athaa_sensitivity=S.ath_sensitivity:Math.abs(v.athaa_sensitivity- -1)>0||(v.athaa_sensitivity=S.ath_sensitivity),S.interch>0&&(w!=0?v.interChRatio=S.interch:Math.abs(v.interChRatio- -1)>0||(v.interChRatio=S.interch)),S.safejoint>0&&(v.exp_nspsytune=v.exp_nspsytune|S.safejoint),S.sfb21mod>0&&(v.exp_nspsytune=v.exp_nspsytune|S.sfb21mod<<20),w!=0?v.msfix=S.msfix:Math.abs(v.msfix- -1)>0||(v.msfix=S.msfix),w==0&&(v.VBR_q=y,v.VBR_q_frac=C)}var h=[new e(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new e(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new e(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new e(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new e(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new e(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new e(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new e(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new e(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new e(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new e(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new e(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new e(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new e(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new e(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function f(v,y,w){var x=y,C=r.nearestBitrateFullIndex(y);if(v.VBR=Yo.vbr_abr,v.VBR_mean_bitrate_kbps=x,v.VBR_mean_bitrate_kbps=Math.min(v.VBR_mean_bitrate_kbps,320),v.VBR_mean_bitrate_kbps=Math.max(v.VBR_mean_bitrate_kbps,8),v.brate=v.VBR_mean_bitrate_kbps,v.VBR_mean_bitrate_kbps>320&&(v.disable_reservoir=!0),h[C].safejoint>0&&(v.exp_nspsytune=v.exp_nspsytune|2),h[C].sfscale>0&&(v.internal_flags.noise_shaping=2),Math.abs(h[C].nsbass)>0){var A=int(h[C].nsbass*4);A<0&&(A+=64),v.exp_nspsytune=v.exp_nspsytune|A<<2}return w!=0?v.quant_comp=h[C].quant_comp:Math.abs(v.quant_comp- -1)>0||(v.quant_comp=h[C].quant_comp),w!=0?v.quant_comp_short=h[C].quant_comp_s:Math.abs(v.quant_comp_short- -1)>0||(v.quant_comp_short=h[C].quant_comp_s),w!=0?v.msfix=h[C].nsmsfix:Math.abs(v.msfix- -1)>0||(v.msfix=h[C].nsmsfix),w!=0?v.internal_flags.nsPsy.attackthre=h[C].st_lrm:Math.abs(v.internal_flags.nsPsy.attackthre- -1)>0||(v.internal_flags.nsPsy.attackthre=h[C].st_lrm),w!=0?v.internal_flags.nsPsy.attackthre_s=h[C].st_s:Math.abs(v.internal_flags.nsPsy.attackthre_s- -1)>0||(v.internal_flags.nsPsy.attackthre_s=h[C].st_s),w!=0?v.scale=h[C].scale:Math.abs(v.scale- -1)>0||(v.scale=h[C].scale),w!=0?v.maskingadjust=h[C].masking_adj:Math.abs(v.maskingadjust-0)>0||(v.maskingadjust=h[C].masking_adj),h[C].masking_adj>0?w!=0?v.maskingadjust_short=h[C].masking_adj*.9:Math.abs(v.maskingadjust_short-0)>0||(v.maskingadjust_short=h[C].masking_adj*.9):w!=0?v.maskingadjust_short=h[C].masking_adj*1.1:Math.abs(v.maskingadjust_short-0)>0||(v.maskingadjust_short=h[C].masking_adj*1.1),w!=0?v.ATHlower=-h[C].ath_lower/10:Math.abs(-v.ATHlower*10-0)>0||(v.ATHlower=-h[C].ath_lower/10),w!=0?v.ATHcurve=h[C].ath_curve:Math.abs(v.ATHcurve- -1)>0||(v.ATHcurve=h[C].ath_curve),w!=0?v.interChRatio=h[C].interch:Math.abs(v.interChRatio- -1)>0||(v.interChRatio=h[C].interch),y}this.apply_preset=function(v,y,w){switch(y){case n.R3MIX:y=n.V3,v.VBR=Yo.vbr_mtrh;break;case n.MEDIUM:y=n.V4,v.VBR=Yo.vbr_rh;break;case n.MEDIUM_FAST:y=n.V4,v.VBR=Yo.vbr_mtrh;break;case n.STANDARD:y=n.V2,v.VBR=Yo.vbr_rh;break;case n.STANDARD_FAST:y=n.V2,v.VBR=Yo.vbr_mtrh;break;case n.EXTREME:y=n.V0,v.VBR=Yo.vbr_rh;break;case n.EXTREME_FAST:y=n.V0,v.VBR=Yo.vbr_mtrh;break;case n.INSANE:return y=320,v.preset=y,f(v,y,w),v.VBR=Yo.vbr_off,y}switch(v.preset=y,y){case n.V9:return u(v,9,w),y;case n.V8:return u(v,8,w),y;case n.V7:return u(v,7,w),y;case n.V6:return u(v,6,w),y;case n.V5:return u(v,5,w),y;case n.V4:return u(v,4,w),y;case n.V3:return u(v,3,w),y;case n.V2:return u(v,2,w),y;case n.V1:return u(v,1,w),y;case n.V0:return u(v,0,w),y}return 8<=y&&y<=320?f(v,y,w):(v.preset=0,y)};function m(v,y){var w=0;return 0>y&&(w=-1,y=0),9<y&&(w=-1,y=9),v.VBR_q=y,v.VBR_q_frac=0,w}}GP=Lbe;var Ube=bn("b8dhq"),Pbe=bn("84mea"),qP={},ct=bn("3YDN3"),Gc=ct.System,m7=ct.VbrMode;ct.Float;ct.ShortBlock;var hw=ct.Util,Bh=ct.Arrays;ct.new_array_n;ct.new_byte;ct.new_double;var nf=ct.new_float;ct.new_float_n;ct.new_int;ct.new_int_n;var Vs=ct.assert,jP={};function Fbe(){this.setModules=function(n,t){}}jP=Fbe;var Ag={};function Hbe(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}Ag=Hbe;var KP={},ct=bn("3YDN3"),v7=ct.new_float,Bbe=ct.new_int;ct.assert;function $be(){this.global_gain=0,this.sfb_count1=0,this.step=Bbe(39),this.noise=v7(39),this.noise_log=v7(39)}KP=$be;var tr=bn("cPNKB"),g7=bn("7weBo"),b7=bn("arIi9");function zbe(){var n;this.rv=null;var t;this.qupvt=null;var e,r=new jP,a;this.setModules=function(S,k,N,O){n=S,t=k,this.rv=k,e=N,this.qupvt=N,a=O,r.setModules(e,a)},this.ms_convert=function(S,k){for(var N=0;N<576;++N){var O=S.tt[k][0].xr[N],H=S.tt[k][1].xr[N];S.tt[k][0].xr[N]=(O+H)*(hw.SQRT2*.5),S.tt[k][1].xr[N]=(O-H)*(hw.SQRT2*.5)}};function o(S,k,N,O){O=0;for(var H=0;H<=N;++H){var D=Math.abs(S.xr[H]);O+=D,k[H]=Math.sqrt(D*Math.sqrt(D)),k[H]>S.xrpow_max&&(S.xrpow_max=k[H])}return O}this.init_xrpow=function(S,k,N){var O=0,H=0|k.max_nonzero_coeff;if(Vs(N!=null),k.xrpow_max=0,Vs(0<=H&&H<=575),Bh.fill(N,H,576,0),O=o(k,N,H,O),O>1e-20){var D=0;S.substep_shaping&2&&(D=1);for(var T=0;T<k.psymax;T++)S.pseudohalf[T]=D;return!0}return Bh.fill(k.l3_enc,0,576,0),!1};function u(S,k){var N=S.ATH,O=k.xr;if(k.block_type!=tr.SHORT_TYPE)for(var H=!1,D=tr.PSFB21-1;D>=0&&!H;D--){var T=S.scalefac_band.psfb21[D],M=S.scalefac_band.psfb21[D+1],q=e.athAdjust(N.adjust,N.psfb21[D],N.floor);S.nsPsy.longfact[21]>1e-12&&(q*=S.nsPsy.longfact[21]);for(var z=M-1;z>=T;z--)if(Math.abs(O[z])<q)O[z]=0;else{H=!0;break}}else for(var re=0;re<3;re++)for(var H=!1,D=tr.PSFB12-1;D>=0&&!H;D--){var T=S.scalefac_band.s[12]*3+(S.scalefac_band.s[13]-S.scalefac_band.s[12])*re+(S.scalefac_band.psfb12[D]-S.scalefac_band.psfb12[0]),M=T+(S.scalefac_band.psfb12[D+1]-S.scalefac_band.psfb12[D]),pe=e.athAdjust(N.adjust,N.psfb12[D],N.floor);S.nsPsy.shortfact[12]>1e-12&&(pe*=S.nsPsy.shortfact[12]);for(var z=M-1;z>=T;z--)if(Math.abs(O[z])<pe)O[z]=0;else{H=!0;break}}}this.init_outer_loop=function(S,k){k.part2_3_length=0,k.big_values=0,k.count1=0,k.global_gain=210,k.scalefac_compress=0,k.table_select[0]=0,k.table_select[1]=0,k.table_select[2]=0,k.subblock_gain[0]=0,k.subblock_gain[1]=0,k.subblock_gain[2]=0,k.subblock_gain[3]=0,k.region0_count=0,k.region1_count=0,k.preflag=0,k.scalefac_scale=0,k.count1table_select=0,k.part2_length=0,k.sfb_lmax=tr.SBPSY_l,k.sfb_smin=tr.SBPSY_s,k.psy_lmax=S.sfb21_extra?tr.SBMAX_l:tr.SBPSY_l,k.psymax=k.psy_lmax,k.sfbmax=k.sfb_lmax,k.sfbdivide=11;for(var N=0;N<tr.SBMAX_l;N++)k.width[N]=S.scalefac_band.l[N+1]-S.scalefac_band.l[N],k.window[N]=3;if(k.block_type==tr.SHORT_TYPE){var O=nf(576);k.sfb_smin=0,k.sfb_lmax=0,k.mixed_block_flag!=0&&(k.sfb_smin=3,k.sfb_lmax=S.mode_gr*2+4),k.psymax=k.sfb_lmax+3*((S.sfb21_extra?tr.SBMAX_s:tr.SBPSY_s)-k.sfb_smin),k.sfbmax=k.sfb_lmax+3*(tr.SBPSY_s-k.sfb_smin),k.sfbdivide=k.sfbmax-18,k.psy_lmax=k.sfb_lmax;var H=S.scalefac_band.l[k.sfb_lmax];Gc.arraycopy(k.xr,0,O,0,576);for(var N=k.sfb_smin;N<tr.SBMAX_s;N++)for(var D=S.scalefac_band.s[N],T=S.scalefac_band.s[N+1],M=0;M<3;M++)for(var q=D;q<T;q++)k.xr[H++]=O[3*q+M];for(var z=k.sfb_lmax,N=k.sfb_smin;N<tr.SBMAX_s;N++)k.width[z]=k.width[z+1]=k.width[z+2]=S.scalefac_band.s[N+1]-S.scalefac_band.s[N],k.window[z]=0,k.window[z+1]=1,k.window[z+2]=2,z+=3}k.count1bits=0,k.sfb_partition_table=e.nr_of_sfb_block[0][0],k.slen[0]=0,k.slen[1]=0,k.slen[2]=0,k.slen[3]=0,k.max_nonzero_coeff=575,Bh.fill(k.scalefac,0),u(S,k)};function h(S){this.ordinal=S}h.BINSEARCH_NONE=new h(0),h.BINSEARCH_UP=new h(1),h.BINSEARCH_DOWN=new h(2);function f(S,k,N,O,H){var D,T=S.CurrentStep[O],M=!1,q=S.OldValue[O],z=h.BINSEARCH_NONE;for(k.global_gain=q,N-=k.part2_length,Vs(T!=0);;){var re;if(D=a.count_bits(S,H,k,null),T==1||D==N)break;D>N?(z==h.BINSEARCH_DOWN&&(M=!0),M&&(T/=2),z=h.BINSEARCH_UP,re=T):(z==h.BINSEARCH_UP&&(M=!0),M&&(T/=2),z=h.BINSEARCH_DOWN,re=-T),k.global_gain+=re,k.global_gain<0&&(k.global_gain=0,M=!0),k.global_gain>255&&(k.global_gain=255,M=!0)}for(Vs(k.global_gain>=0),Vs(k.global_gain<256);D>N&&k.global_gain<255;)k.global_gain++,D=a.count_bits(S,H,k,null);return S.CurrentStep[O]=q-k.global_gain>=4?4:2,S.OldValue[O]=k.global_gain,k.part2_3_length=D,D}this.trancate_smallspectrums=function(S,k,N,O){var H=nf(b7.SFBMAX);if(!(!(S.substep_shaping&4)&&k.block_type==tr.SHORT_TYPE||S.substep_shaping&128)){e.calc_noise(k,N,H,new Ag,null);for(var T=0;T<576;T++){var D=0;k.l3_enc[T]!=0&&(D=Math.abs(k.xr[T])),O[T]=D}var T=0,M=8;k.block_type==tr.SHORT_TYPE&&(M=6);do{var q,z,re,pe,B=k.width[M];if(T+=B,!(H[M]>=1)&&(Bh.sort(O,T-B,B),!BitStream.EQ(O[T-1],0))){q=(1-H[M])*N[M],z=0,pe=0;do{var Q;for(re=1;pe+re<B&&!BitStream.NEQ(O[pe+T-B],O[pe+T+re-B]);re++);if(Q=O[pe+T-B]*O[pe+T-B]*re,q<Q){pe!=0&&(z=O[pe+T-B-1]);break}q-=Q,pe+=re}while(pe<B);if(!BitStream.EQ(z,0))do Math.abs(k.xr[T-B])<=z&&(k.l3_enc[T-B]=0);while(--B>0)}}while(++M<k.psymax);k.part2_3_length=a.noquant_count_bits(S,k,null)}};function m(S){for(var k=0;k<S.sfbmax;k++)if(S.scalefac[k]+S.subblock_gain[S.window[k]]==0)return!1;return!0}function v(S){return hw.FAST_LOG10(.368+.632*S*S*S)}function y(S,k){for(var N=1e-37,O=0;O<k.psymax;O++)N+=v(S[O]);return Math.max(1e-20,N)}function w(S,k,N,O,H){var D;switch(S){default:case 9:k.over_count>0?(D=N.over_SSD<=k.over_SSD,N.over_SSD==k.over_SSD&&(D=N.bits<k.bits)):D=N.max_noise<0&&N.max_noise*10+N.bits<=k.max_noise*10+k.bits;break;case 0:D=N.over_count<k.over_count||N.over_count==k.over_count&&N.over_noise<k.over_noise||N.over_count==k.over_count&&BitStream.EQ(N.over_noise,k.over_noise)&&N.tot_noise<k.tot_noise;break;case 8:N.max_noise=y(H,O);case 1:D=N.max_noise<k.max_noise;break;case 2:D=N.tot_noise<k.tot_noise;break;case 3:D=N.tot_noise<k.tot_noise&&N.max_noise<k.max_noise;break;case 4:D=N.max_noise<=0&&k.max_noise>.2||N.max_noise<=0&&k.max_noise<0&&k.max_noise>N.max_noise-.2&&N.tot_noise<k.tot_noise||N.max_noise<=0&&k.max_noise>0&&k.max_noise>N.max_noise-.2&&N.tot_noise<k.tot_noise+k.over_noise||N.max_noise>0&&k.max_noise>-.05&&k.max_noise>N.max_noise-.1&&N.tot_noise+N.over_noise<k.tot_noise+k.over_noise||N.max_noise>0&&k.max_noise>-.1&&k.max_noise>N.max_noise-.15&&N.tot_noise+N.over_noise+N.over_noise<k.tot_noise+k.over_noise+k.over_noise;break;case 5:D=N.over_noise<k.over_noise||BitStream.EQ(N.over_noise,k.over_noise)&&N.tot_noise<k.tot_noise;break;case 6:D=N.over_noise<k.over_noise||BitStream.EQ(N.over_noise,k.over_noise)&&(N.max_noise<k.max_noise||BitStream.EQ(N.max_noise,k.max_noise)&&N.tot_noise<=k.tot_noise);break;case 7:D=N.over_count<k.over_count||N.over_noise<k.over_noise;break}return k.over_count==0&&(D=D&&N.bits<k.bits),D}function x(S,k,N,O,H){var D=S.internal_flags,T;k.scalefac_scale==0?T=1.2968395546510096:T=1.6817928305074292;for(var M=0,q=0;q<k.sfbmax;q++)M<N[q]&&(M=N[q]);var z=D.noise_shaping_amp;switch(z==3&&(H?z=2:z=1),z){case 2:break;case 1:M>1?M=Math.pow(M,.5):M*=.95;break;case 0:default:M>1?M=1:M*=.95;break}for(var re=0,q=0;q<k.sfbmax;q++){var pe=k.width[q],B;if(re+=pe,!(N[q]<M)){if(D.substep_shaping&2&&(D.pseudohalf[q]=D.pseudohalf[q]==0?1:0,D.pseudohalf[q]==0&&D.noise_shaping_amp==2))return;for(k.scalefac[q]++,B=-pe;B<0;B++)O[re+B]*=T,O[re+B]>k.xrpow_max&&(k.xrpow_max=O[re+B]);if(D.noise_shaping_amp==2)return}}}function C(S,k){for(var N=1.2968395546510096,O=0,H=0;H<S.sfbmax;H++){var D=S.width[H],T=S.scalefac[H];if(S.preflag!=0&&(T+=e.pretab[H]),O+=D,T&1){T++;for(var M=-D;M<0;M++)k[O+M]*=N,k[O+M]>S.xrpow_max&&(S.xrpow_max=k[O+M])}S.scalefac[H]=T>>1}S.preflag=0,S.scalefac_scale=1}function A(S,k,N){var O,H=k.scalefac;for(O=0;O<k.sfb_lmax;O++)if(H[O]>=16)return!0;for(var D=0;D<3;D++){var T=0,M=0;for(O=k.sfb_lmax+D;O<k.sfbdivide;O+=3)T<H[O]&&(T=H[O]);for(;O<k.sfbmax;O+=3)M<H[O]&&(M=H[O]);if(!(T<16&&M<8)){if(k.subblock_gain[D]>=7)return!0;k.subblock_gain[D]++;var q=S.scalefac_band.l[k.sfb_lmax];for(O=k.sfb_lmax+D;O<k.sfbmax;O+=3){var Q,z=k.width[O],re=H[O];if(Vs(re>=0),re=re-(4>>k.scalefac_scale),re>=0){H[O]=re,q+=z*3;continue}H[O]=0;var pe=210+(re<<k.scalefac_scale+1);Q=e.IPOW20(pe),q+=z*(D+1);for(var B=-z;B<0;B++)N[q+B]*=Q,N[q+B]>k.xrpow_max&&(k.xrpow_max=N[q+B]);q+=z*(3-D-1)}var Q=e.IPOW20(202);q+=k.width[O]*(D+1);for(var B=-k.width[O];B<0;B++)N[q+B]*=Q,N[q+B]>k.xrpow_max&&(k.xrpow_max=N[q+B])}}return!1}function L(S,k,N,O,H){var D=S.internal_flags;x(S,k,N,O,H);var T=m(k);return T?!1:(D.mode_gr==2?T=a.scale_bitcount(k):T=a.scale_bitcount_lsf(D,k),T?(D.noise_shaping>1&&(Bh.fill(D.pseudohalf,0),k.scalefac_scale==0?(C(k,O),T=!1):k.block_type==tr.SHORT_TYPE&&D.subblock_gain>0&&(T=A(D,k,O)||m(k))),T||(D.mode_gr==2?T=a.scale_bitcount(k):T=a.scale_bitcount_lsf(D,k)),!T):!0)}this.outer_loop=function(S,k,N,O,H,D){var T=S.internal_flags,M=new g7,q=nf(576),z=nf(b7.SFBMAX),re=new Ag,pe,B=new KP,Q=9999999,ie=!1,j=!1,me=0;if(f(T,k,D,H,O),T.noise_shaping==0)return 100;e.calc_noise(k,N,z,re,B),re.bits=k.part2_3_length,M.assign(k);var ae=0;for(Gc.arraycopy(O,0,q,0,576);!ie;){do{var oe=new Ag,ve,Re=255;if(T.substep_shaping&2?ve=20:ve=3,T.sfb21_extra&&(z[M.sfbmax]>1||M.block_type==tr.SHORT_TYPE&&(z[M.sfbmax+1]>1||z[M.sfbmax+2]>1))||!L(S,M,z,O,j))break;M.scalefac_scale!=0&&(Re=254);var ue=D-M.part2_length;if(ue<=0)break;for(;(M.part2_3_length=a.count_bits(T,O,M,B))>ue&&M.global_gain<=Re;)M.global_gain++;if(M.global_gain>Re)break;if(re.over_count==0){for(;(M.part2_3_length=a.count_bits(T,O,M,B))>Q&&M.global_gain<=Re;)M.global_gain++;if(M.global_gain>Re)break}if(e.calc_noise(M,N,z,oe,B),oe.bits=M.part2_3_length,k.block_type!=tr.SHORT_TYPE?pe=S.quant_comp:pe=S.quant_comp_short,pe=w(pe,re,oe,M,z)?1:0,pe!=0)Q=k.part2_3_length,re=oe,k.assign(M),ae=0,Gc.arraycopy(O,0,q,0,576);else if(T.full_outer_loop==0&&(++ae>ve&&re.over_count==0||T.noise_shaping_amp==3&&j&&ae>30||T.noise_shaping_amp==3&&j&&M.global_gain-me>15))break}while(M.global_gain+M.scalefac_scale<255);T.noise_shaping_amp==3?j?ie=!0:(M.assign(k),Gc.arraycopy(q,0,O,0,576),ae=0,me=M.global_gain,j=!0):ie=!0}return Vs(k.global_gain+k.scalefac_scale<=255),S.VBR==m7.vbr_rh||S.VBR==m7.vbr_mtrh?Gc.arraycopy(q,0,O,0,576):T.substep_shaping&1&&trancate_smallspectrums(T,k,N,O),re.over_count},this.iteration_finish_one=function(S,k,N){var O=S.l3_side,H=O.tt[k][N];a.best_scalefac_store(S,k,N,O),S.use_best_huffman==1&&a.best_huffman_divide(S,H),t.ResvAdjust(S,H)},this.VBR_encode_granule=function(S,k,N,O,H,D,T){var M=S.internal_flags,q=new g7,z=nf(576),re=T,pe=T+1,B=(T+D)/2,Q,ie,j=0,me=M.sfb21_extra;Vs(re<=LameInternalFlags.MAX_BITS_PER_CHANNEL),Bh.fill(q.l3_enc,0);do Vs(B>=D),Vs(B<=T),Vs(D<=T),B>re-42?M.sfb21_extra=!1:M.sfb21_extra=me,ie=outer_loop(S,k,N,O,H,B),ie<=0?(j=1,pe=k.part2_3_length,q.assign(k),Gc.arraycopy(O,0,z,0,576),T=pe-32,Q=T-D,B=(T+D)/2):(D=B+32,Q=T-D,B=(T+D)/2,j!=0&&(j=2,k.assign(q),Gc.arraycopy(z,0,O,0,576)));while(Q>12);M.sfb21_extra=me,j==2&&Gc.arraycopy(q.l3_enc,0,k.l3_enc,0,576),Vs(k.part2_3_length<=re)},this.get_framebits=function(S,k){var N=S.internal_flags;N.bitrate_index=N.VBR_min_bitrate;var O=n.getframebits(S);N.bitrate_index=1,O=n.getframebits(S);for(var H=1;H<=N.VBR_max_bitrate;H++){N.bitrate_index=H;var D=new MeanBits(O);k[H]=t.ResvFrameBegin(S,D),O=D.bits}},this.VBR_old_prepare=function(S,k,N,O,H,D,T,M,q){var z=S.internal_flags,re,pe=0,B=1,Q=0;z.bitrate_index=z.VBR_max_bitrate;var ie=t.ResvFrameBegin(S,new MeanBits(0))/z.mode_gr;get_framebits(S,D);for(var j=0;j<z.mode_gr;j++){var me=e.on_pe(S,k,M[j],ie,j,0);z.mode_ext==tr.MPG_MD_MS_LR&&(ms_convert(z.l3_side,j),e.reduce_side(M[j],N[j],ie,me));for(var ae=0;ae<z.channels_out;++ae){var oe=z.l3_side.tt[j][ae];oe.block_type!=tr.SHORT_TYPE?(pe=1.28/(1+Math.exp(3.5-k[j][ae]/300))-.05,re=z.PSY.mask_adjust-pe):(pe=2.56/(1+Math.exp(3.5-k[j][ae]/300))-.14,re=z.PSY.mask_adjust_short-pe),z.masking_lower=Math.pow(10,re*.1),init_outer_loop(z,oe),q[j][ae]=e.calc_xmin(S,O[j][ae],oe,H[j][ae]),q[j][ae]!=0&&(B=0),T[j][ae]=126,Q+=M[j][ae]}}for(var j=0;j<z.mode_gr;j++)for(var ae=0;ae<z.channels_out;ae++)Q>D[z.VBR_max_bitrate]&&(M[j][ae]*=D[z.VBR_max_bitrate],M[j][ae]/=Q),T[j][ae]>M[j][ae]&&(T[j][ae]=M[j][ae]);return B},this.bitpressure_strategy=function(S,k,N,O){for(var H=0;H<S.mode_gr;H++)for(var D=0;D<S.channels_out;D++){for(var T=S.l3_side.tt[H][D],M=k[H][D],q=0,z=0;z<T.psy_lmax;z++)M[q++]*=1+.029*z*z/tr.SBMAX_l/tr.SBMAX_l;if(T.block_type==tr.SHORT_TYPE)for(var z=T.sfb_smin;z<tr.SBMAX_s;z++)M[q++]*=1+.029*z*z/tr.SBMAX_s/tr.SBMAX_s,M[q++]*=1+.029*z*z/tr.SBMAX_s/tr.SBMAX_s,M[q++]*=1+.029*z*z/tr.SBMAX_s/tr.SBMAX_s;O[H][D]=0|Math.max(N[H][D],.9*O[H][D])}},this.VBR_new_prepare=function(S,k,N,O,H,D){var T=S.internal_flags,M=1,q=0,z=0,re;if(S.free_format){T.bitrate_index=0;var pe=new MeanBits(q);re=t.ResvFrameBegin(S,pe),q=pe.bits,H[0]=re}else{T.bitrate_index=T.VBR_max_bitrate;var pe=new MeanBits(q);t.ResvFrameBegin(S,pe),q=pe.bits,get_framebits(S,H),re=H[T.VBR_max_bitrate]}for(var B=0;B<T.mode_gr;B++){e.on_pe(S,k,D[B],q,B,0),T.mode_ext==tr.MPG_MD_MS_LR&&ms_convert(T.l3_side,B);for(var Q=0;Q<T.channels_out;++Q){var ie=T.l3_side.tt[B][Q];T.masking_lower=Math.pow(10,T.PSY.mask_adjust*.1),init_outer_loop(T,ie),e.calc_xmin(S,N[B][Q],ie,O[B][Q])!=0&&(M=0),z+=D[B][Q]}}for(var B=0;B<T.mode_gr;B++)for(var Q=0;Q<T.channels_out;Q++)z>re&&(D[B][Q]*=re,D[B][Q]/=z);return M},this.calc_target_bits=function(S,k,N,O,H,D){var T=S.internal_flags,M=T.l3_side,q,z,re,pe,B=0;T.bitrate_index=T.VBR_max_bitrate;var Q=new MeanBits(B);for(D[0]=t.ResvFrameBegin(S,Q),B=Q.bits,T.bitrate_index=1,B=n.getframebits(S)-T.sideinfo_len*8,H[0]=B/(T.mode_gr*T.channels_out),B=S.VBR_mean_bitrate_kbps*S.framesize*1e3,T.substep_shaping&1&&(B*=1.09),B/=S.out_samplerate,B-=T.sideinfo_len*8,B/=T.mode_gr*T.channels_out,q=.93+.07*(11-S.compression_ratio)/5.5,q<.9&&(q=.9),q>1&&(q=1),z=0;z<T.mode_gr;z++){var ie=0;for(re=0;re<T.channels_out;re++){if(O[z][re]=int(q*B),k[z][re]>700){var j=int((k[z][re]-700)/1.4),me=M.tt[z][re];O[z][re]=int(q*B),me.block_type==tr.SHORT_TYPE&&j<B/2&&(j=B/2),j>B*3/2?j=B*3/2:j<0&&(j=0),O[z][re]+=j}O[z][re]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(O[z][re]=LameInternalFlags.MAX_BITS_PER_CHANNEL),ie+=O[z][re]}if(ie>LameInternalFlags.MAX_BITS_PER_GRANULE)for(re=0;re<T.channels_out;++re)O[z][re]*=LameInternalFlags.MAX_BITS_PER_GRANULE,O[z][re]/=ie}if(T.mode_ext==tr.MPG_MD_MS_LR)for(z=0;z<T.mode_gr;z++)e.reduce_side(O[z],N[z],B*T.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(pe=0,z=0;z<T.mode_gr;z++)for(re=0;re<T.channels_out;re++)O[z][re]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(O[z][re]=LameInternalFlags.MAX_BITS_PER_CHANNEL),pe+=O[z][re];if(pe>D[0])for(z=0;z<T.mode_gr;z++)for(re=0;re<T.channels_out;re++)O[z][re]*=D[0],O[z][re]/=pe}}qP=zbe;var Vbe=bn("65Sx2"),WP={},ct=bn("3YDN3"),eg=ct.assert;function Gbe(){var n;this.setModules=function(t){n=t},this.ResvFrameBegin=function(t,e){var r=t.internal_flags,a,o=r.l3_side,u=n.getframebits(t);e.bits=(u-r.sideinfo_len*8)/r.mode_gr;var h=2048*r.mode_gr-8;t.brate>320?a=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(a=11520,t.strict_ISO&&(a=8*int(32e4/(t.out_samplerate/1152)/8+.5))),r.ResvMax=a-u,r.ResvMax>h&&(r.ResvMax=h),(r.ResvMax<0||t.disable_reservoir)&&(r.ResvMax=0);var f=e.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return f>a&&(f=a),eg(r.ResvMax%8==0),eg(r.ResvMax>=0),o.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=e.bits/2,r.pinfo.resvsize=r.ResvSize),f},this.ResvMaxBits=function(t,e,r,a){var o=t.internal_flags,u,h=o.ResvSize,f=o.ResvMax;a!=0&&(h+=e),o.substep_shaping&1&&(f*=.9),r.bits=e,h*10>f*9?(u=h-f*9/10,r.bits+=u,o.substep_shaping|=128):(u=0,o.substep_shaping&=127,!t.disable_reservoir&&!(o.substep_shaping&1)&&(r.bits-=.1*e));var m=h<o.ResvMax*6/10?h:o.ResvMax*6/10;return m-=u,m<0&&(m=0),m},this.ResvAdjust=function(t,e){t.ResvSize-=e.part2_3_length+e.part2_length},this.ResvFrameEnd=function(t,e){var r,a=t.l3_side;t.ResvSize+=e*t.mode_gr;var o=0;a.resvDrain_post=0,a.resvDrain_pre=0,(r=t.ResvSize%8)!=0&&(o+=r),r=t.ResvSize-o-t.ResvMax,r>0&&(eg(r%8==0),eg(r>=0),o+=r);var u=Math.min(a.main_data_begin*8,o)/8;a.resvDrain_pre+=8*u,o-=8*u,t.ResvSize-=8*u,a.main_data_begin-=u,a.resvDrain_post+=o,t.ResvSize-=o}}WP=Gbe;var qbe=bn("jL6I1"),jbe=bn("ctaQC");bn("cPNKB");var QP={};function Kbe(){var n="http://www.mp3dev.org/",t=3,e=98,r=4,a=0,o=93;this.getLameVersion=function(){return t+"."+e+"."+r},this.getLameShortVersion=function(){return t+"."+e+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+e+"r"},this.getPsyVersion=function(){return a+"."+o},this.getLameUrl=function(){return n},this.getLameOsBitness=function(){return"32bits"}}QP=Kbe;var YP={},ct=bn("3YDN3"),Wbe=ct.System,pw=ct.VbrMode;ct.Float;var y7=ct.ShortBlock;ct.Util;var Qbe=ct.Arrays;ct.new_array_n;var ng=ct.new_byte;ct.new_double;ct.new_float;ct.new_float_n;ct.new_int;ct.new_int_n;var Ybe=ct.assert;E_.NUMTOCENTRIES=100;E_.MAXFRAMESIZE=2880;function E_(){var n,t,e;this.setModules=function(B,Q,ie){n=B,t=Q,e=ie};var r=1,a=2,o=4,u=8,h=E_.NUMTOCENTRIES,f=E_.MAXFRAMESIZE,m=h+4+4+4+4+4,v=m+9+1+1+8+1+1+3+1+1+2+4+2+2,y=128,w=64,x=32,C=null,A="Xing",L="Info",S=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function k(B,Q){if(B.nVbrNumFrames++,B.sum+=Q,B.seen++,!(B.seen<B.want)&&(B.pos<B.size&&(B.bag[B.pos]=B.sum,B.pos++,B.seen=0),B.pos==B.size)){for(var ie=1;ie<B.size;ie+=2)B.bag[ie/2]=B.bag[ie];B.want*=2,B.pos/=2}}function N(B,Q){if(!(B.pos<=0))for(var ie=1;ie<h;++ie){var j=ie/h,me,ae,oe=0|Math.floor(j*B.pos);oe>B.pos-1&&(oe=B.pos-1),me=B.bag[oe],ae=B.sum;var ve=0|256*me/ae;ve>255&&(ve=255),Q[ie]=255&ve}}this.addVbrFrame=function(B){var Q=B.internal_flags,ie=Tables.bitrate_table[B.version][Q.bitrate_index];Ybe(Q.VBR_seek_table.bag!=null),k(Q.VBR_seek_table,ie)};function O(B,Q){var ie=B[Q+0]&255;return ie<<=8,ie|=B[Q+1]&255,ie<<=8,ie|=B[Q+2]&255,ie<<=8,ie|=B[Q+3]&255,ie}function H(B,Q,ie){B[Q+0]=255&(ie>>24&255),B[Q+1]=255&(ie>>16&255),B[Q+2]=255&(ie>>8&255),B[Q+3]=255&(ie&255)}function D(B,Q,ie){B[Q+0]=255&(ie>>8&255),B[Q+1]=255&(ie&255)}function T(B,Q){return new String(B,Q,A.length(),C).equals(A)||new String(B,Q,L.length(),C).equals(L)}function M(B,Q,ie){return 255&(B<<Q|ie&~(-1<<Q))}function q(B,Q){var ie=B.internal_flags;Q[0]=M(Q[0],8,255),Q[1]=M(Q[1],3,7),Q[1]=M(Q[1],1,B.out_samplerate<16e3?0:1),Q[1]=M(Q[1],1,B.version),Q[1]=M(Q[1],2,1),Q[1]=M(Q[1],1,B.error_protection?0:1),Q[2]=M(Q[2],4,ie.bitrate_index),Q[2]=M(Q[2],2,ie.samplerate_index),Q[2]=M(Q[2],1,0),Q[2]=M(Q[2],1,B.extension),Q[3]=M(Q[3],2,B.mode.ordinal()),Q[3]=M(Q[3],2,ie.mode_ext),Q[3]=M(Q[3],1,B.copyright),Q[3]=M(Q[3],1,B.original),Q[3]=M(Q[3],2,B.emphasis),Q[0]=255;var j=255&(Q[1]&241),me;B.version==1?me=y:B.out_samplerate<16e3?me=x:me=w,B.VBR==pw.vbr_off&&(me=B.brate);var ae;B.free_format?ae=0:ae=255&16*n.BitrateIndex(me,B.version,B.out_samplerate),B.version==1?(Q[1]=255&(j|10),j=255&(Q[2]&13),Q[2]=255&(ae|j)):(Q[1]=255&(j|2),j=255&(Q[2]&13),Q[2]=255&(ae|j))}this.getVbrTag=function(B){var Q=new VBRTagData,ie=0;Q.flags=0;var j=B[ie+1]>>3&1,me=B[ie+2]>>2&3,ae=B[ie+3]>>6&3,oe=B[ie+2]>>4&15;if(oe=Tables.bitrate_table[j][oe],B[ie+1]>>4==14?Q.samprate=Tables.samplerate_table[2][me]:Q.samprate=Tables.samplerate_table[j][me],j!=0?ae!=3?ie+=36:ie+=21:ae!=3?ie+=21:ie+=13,!T(B,ie))return null;ie+=4,Q.hId=j;var ve=Q.flags=O(B,ie);if(ie+=4,ve&r&&(Q.frames=O(B,ie),ie+=4),ve&a&&(Q.bytes=O(B,ie),ie+=4),ve&o){if(Q.toc!=null)for(var Re=0;Re<h;Re++)Q.toc[Re]=B[ie+Re];ie+=h}Q.vbrScale=-1,ve&u&&(Q.vbrScale=O(B,ie),ie+=4),Q.headersize=(j+1)*72e3*oe/Q.samprate,ie+=21;var ue=B[ie+0]<<4;ue+=B[ie+1]>>4;var he=(B[ie+1]&15)<<8;return he+=B[ie+2]&255,(ue<0||ue>3e3)&&(ue=-1),(he<0||he>3e3)&&(he=-1),Q.encDelay=ue,Q.encPadding=he,Q},this.InitVbrTag=function(B){var Q=B.internal_flags,ie;B.version==1?ie=y:B.out_samplerate<16e3?ie=x:ie=w,B.VBR==pw.vbr_off&&(ie=B.brate);var j=(B.version+1)*72e3*ie/B.out_samplerate,me=Q.sideinfo_len+v;if(Q.VBR_seek_table.TotalFrameSize=j,j<me||j>f){B.bWriteVbrTag=!1;return}Q.VBR_seek_table.nVbrNumFrames=0,Q.VBR_seek_table.nBytesWritten=0,Q.VBR_seek_table.sum=0,Q.VBR_seek_table.seen=0,Q.VBR_seek_table.want=1,Q.VBR_seek_table.pos=0,Q.VBR_seek_table.bag==null&&(Q.VBR_seek_table.bag=new int[400],Q.VBR_seek_table.size=400);var ae=ng(f);q(B,ae);for(var oe=Q.VBR_seek_table.TotalFrameSize,ve=0;ve<oe;++ve)t.add_dummy_byte(B,ae[ve]&255,1)};function z(B,Q){var ie=Q^B;return Q=Q>>8^S[ie&255],Q}this.updateMusicCRC=function(B,Q,ie,j){for(var me=0;me<j;++me)B[0]=z(Q[ie+me],B[0])};function re(B,Q,ie,j,me){var ae=B.internal_flags,oe=0,ve=B.encoder_delay,Re=B.encoder_padding,ue=100-10*B.VBR_q-B.quality,he=e.getLameVeryShortVersion(),V,Y=0,$,te=[1,5,3,2,4,0,3],Me=0|(B.lowpassfreq/100+.5>255?255:B.lowpassfreq/100+.5),Ke=0,Oe=0,xe=0,Le=B.internal_flags.noise_shaping,Fe=0,Je=0,en=0,un=0,_n=0,on=(B.exp_nspsytune&1)!=0,Hn=(B.exp_nspsytune&2)!=0,Vn=!1,G=!1,ee=B.internal_flags.nogap_total,yn=B.internal_flags.nogap_current,Cn=B.ATHtype,Xn=0,qn;switch(B.VBR){case vbr_abr:qn=B.VBR_mean_bitrate_kbps;break;case vbr_off:qn=B.brate;break;default:qn=B.VBR_min_bitrate_kbps}switch(B.VBR.ordinal()<te.length?V=te[B.VBR.ordinal()]:V=0,$=16*Y+V,ae.findReplayGain&&(ae.RadioGain>510&&(ae.RadioGain=510),ae.RadioGain<-510&&(ae.RadioGain=-510),Oe=8192,Oe|=3072,ae.RadioGain>=0?Oe|=ae.RadioGain:(Oe|=512,Oe|=-ae.RadioGain)),ae.findPeakSample&&(Ke=Math.abs(0|ae.PeakSample/32767*Math.pow(2,23)+.5)),ee!=-1&&(yn>0&&(G=!0),yn<ee-1&&(Vn=!0)),Xn=Cn+((on?1:0)<<4)+((Hn?1:0)<<5)+((Vn?1:0)<<6)+((G?1:0)<<7),ue<0&&(ue=0),B.mode){case MONO:Fe=0;break;case STEREO:Fe=1;break;case DUAL_CHANNEL:Fe=2;break;case JOINT_STEREO:B.force_ms?Fe=4:Fe=3;break;case NOT_SET:default:Fe=7;break}B.in_samplerate<=32e3?en=0:B.in_samplerate==48e3?en=2:B.in_samplerate>48e3?en=3:en=1,(B.short_blocks==y7.short_block_forced||B.short_blocks==y7.short_block_dispensed||B.lowpassfreq==-1&&B.highpassfreq==-1||B.scale_left<B.scale_right||B.scale_left>B.scale_right||B.disable_reservoir&&B.brate<320||B.noATH||B.ATHonly||Cn==0||B.in_samplerate<=32e3)&&(Je=1),un=Le+(Fe<<2)+(Je<<5)+(en<<6),_n=ae.nMusicCRC,H(ie,j+oe,ue),oe+=4;for(var $n=0;$n<9;$n++)ie[j+oe+$n]=255&he.charAt($n);oe+=9,ie[j+oe]=255&$,oe++,ie[j+oe]=255&Me,oe++,H(ie,j+oe,Ke),oe+=4,D(ie,j+oe,Oe),oe+=2,D(ie,j+oe,xe),oe+=2,ie[j+oe]=255&Xn,oe++,qn>=255?ie[j+oe]=255:ie[j+oe]=255&qn,oe++,ie[j+oe]=255&ve>>4,ie[j+oe+1]=255&(ve<<4)+(Re>>8),ie[j+oe+2]=255&Re,oe+=3,ie[j+oe]=255&un,oe++,ie[j+oe++]=0,D(ie,j+oe,B.preset),oe+=2,H(ie,j+oe,Q),oe+=4,D(ie,j+oe,_n),oe+=2;for(var On=0;On<oe;On++)me=z(ie[j+On],me);return D(ie,j+oe,me),oe+=2,oe}function pe(B){B.seek(0);var Q=ng(10);B.readFully(Q);var ie;return new String(Q,"ISO-8859-1").startsWith("ID3")?ie=0:ie=((Q[6]&127)<<21|(Q[7]&127)<<14|(Q[8]&127)<<7|Q[9]&127)+Q.length,ie}this.getLameTagFrame=function(B,Q){var ie=B.internal_flags;if(!B.bWriteVbrTag||ie.Class_ID!=Lame.LAME_ID||ie.VBR_seek_table.pos<=0)return 0;if(Q.length<ie.VBR_seek_table.TotalFrameSize)return ie.VBR_seek_table.TotalFrameSize;Qbe.fill(Q,0,ie.VBR_seek_table.TotalFrameSize,0),q(B,Q);var j=ng(h);if(B.free_format)for(var me=1;me<h;++me)j[me]=255&255*me/100;else N(ie.VBR_seek_table,j);var ae=ie.sideinfo_len;B.error_protection&&(ae-=2),B.VBR==pw.vbr_off?(Q[ae++]=255&L.charAt(0),Q[ae++]=255&L.charAt(1),Q[ae++]=255&L.charAt(2),Q[ae++]=255&L.charAt(3)):(Q[ae++]=255&A.charAt(0),Q[ae++]=255&A.charAt(1),Q[ae++]=255&A.charAt(2),Q[ae++]=255&A.charAt(3)),H(Q,ae,r+a+o+u),ae+=4,H(Q,ae,ie.VBR_seek_table.nVbrNumFrames),ae+=4;var oe=ie.VBR_seek_table.nBytesWritten+ie.VBR_seek_table.TotalFrameSize;H(Q,ae,0|oe),ae+=4,Wbe.arraycopy(j,0,Q,ae,j.length),ae+=j.length,B.error_protection&&t.CRC_writeheader(ie,Q);for(var ve=0,me=0;me<ae;me++)ve=z(Q[me],ve);return ae+=re(B,oe,Q,ae,ve),ie.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(B,Q){var ie=B.internal_flags;if(ie.VBR_seek_table.pos<=0||(Q.seek(Q.length()),Q.length()==0))return-1;var j=pe(Q);Q.seek(j);var me=ng(f),ae=getLameTagFrame(B,me);return ae>me.length?-1:(ae<1||Q.write(me,0,ae),0)}}YP=E_;function Xbe(){this.setModules=function(n,t){}}function Zbe(){this.setModules=function(n,t,e){}}function Jbe(){}function e1e(){this.setModules=function(n,t){}}function n1e(n,t,e){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),n=1,t=44100,e=128);var r=new Dbe,a=new Xbe,o=new Ube,u=new jbe,h=new GP,f=new Pbe,m=new qP,v=new YP,y=new QP,w=new e1e,x=new WP,C=new Vbe,A=new Zbe,L=new Jbe;r.setModules(o,u,h,f,m,v,y,w,L),u.setModules(o,L,y,v),w.setModules(u,y),h.setModules(r),m.setModules(u,x,f,C),f.setModules(C,x,r.enc.psy),x.setModules(u),C.setModules(f),v.setModules(r,u,y),a.setModules(A,L),A.setModules(y,w,h);var S=r.lame_init();S.num_channels=n,S.in_samplerate=t,S.brate=e,S.mode=qbe.STEREO,S.quality=3,S.bWriteVbrTag=!1,S.disable_reservoir=!0,S.write_id3tag_automatic=!1;var k=r.lame_init_params(S);_7(k==0);var N=1152,O=0|1.25*N+7200,H=f7(O);this.encodeBuffer=function(D,T){n==1&&(T=D),_7(D.length==T.length),D.length>N&&(N=D.length,O=0|1.25*N+7200,H=f7(O));var M=r.lame_encode_buffer(S,D,T,D.length,H,0,O);return new Int8Array(H.subarray(0,M))},this.flush=function(){var D=r.lame_encode_flush(S,H,0,O);return new Int8Array(H.subarray(0,D))}}function To(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function h1(n){return n.charCodeAt(0)<<24|n.charCodeAt(1)<<16|n.charCodeAt(2)<<8|n.charCodeAt(3)}To.RIFF=h1("RIFF");To.WAVE=h1("WAVE");To.fmt_=h1("fmt ");To.data=h1("data");To.readHeader=function(n){var t=new To,e=n.getUint32(0,!1);if(To.RIFF==e&&(n.getUint32(4,!0),To.WAVE==n.getUint32(8,!1)&&To.fmt_==n.getUint32(12,!1))){var r=n.getUint32(16,!0),a=20;switch(r){case 16:case 18:t.channels=n.getUint16(a+2,!0),t.sampleRate=n.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=r;for(var o=To.data,u=0;o!=e&&(e=n.getUint32(a,!1),u=n.getUint32(a+4,!0),o!=e);)a+=u+8;return t.dataLen=u,t.dataOffset=a+8,t}};wb=n1e;xb=To;function t1e(n){const t=xb.readHeader(new DataView(n)),e=new Int16Array(n,t.dataOffset,t.dataLen/2),r=new wb(t.channels,t.sampleRate,128),a=1152,o=t.channels===1?e:new Int16Array(t.dataLen/(2*t.channels)),u=t.channels===2?new Int16Array(t.dataLen/(2*t.channels)):void 0;if(t.channels>1)for(let v=0;v<o.length;v++)o[v]=e[v*2],u[v]=e[v*2+1];const h=[];let f=o.length;for(let v=0;f>=a;v+=a){const y=o.subarray(v,v+a);let w;u&&(w=u.subarray(v,v+a));const x=r.encodeBuffer(y,w);h.push(new Int8Array(x)),f-=a}const m=r.flush();return h.push(new Int8Array(m)),h}function r1e(n,t){const e=new AudioContext,r=new FileReader;r.onload=function(a){e.decodeAudioData(a.target.result,o=>{const u=!window.OfflineAudioContext,h=new OfflineAudioContext(1,16e3*o.duration,16e3),f=h.createBufferSource();f.buffer=o,f.connect(h.destination);const m=new FileReader;m.onload=function(){const v=y=>{const w=u?y.renderedBuffer:y,x=i1e(w,w.length);t&&t(x)};u?(h.oncomplete=v,h.startRendering()):h.startRendering().then(v).catch(y=>console.warn(y))},m.readAsArrayBuffer(n),f.start(0)})},r.readAsArrayBuffer(n)}function i1e(n,t){const e=n.numberOfChannels,r=t*e*2+44,a=new ArrayBuffer(r),o=new DataView(a),u=[];let h=0,f,m=0,v=0;for(w(1179011410),w(r-8),w(1163280727),w(544501094),w(16),y(1),y(e),w(n.sampleRate),w(n.sampleRate*2*e),y(e*2),y(16),w(1635017060),w(r-v-4),h=0;h<n.numberOfChannels;h++)u.push(n.getChannelData(h));for(;v<r;){for(h=0;h<e;h++)f=Math.max(-1,Math.min(1,u[h][m])),f=(.5+f<0?f*32768:f*32767)|0,o.setInt16(v,f,!0),v+=2;m++}return a;function y(x){o.setUint16(v,x,!0),v+=2}function w(x){o.setUint32(v,x,!0),v+=4}}var a1e=Object.freeze({__proto__:null,downsampleToWav:r1e,encodeMp3:t1e});function s1e(){const[n,t]=K.useState(""),[e,r]=K.useState(""),[a,o]=K.useState(""),[u,h]=K.useState(!1),f=new URLSearchParams(Fie().search);return K.useEffect(()=>{let m={};const v=f.get("q");if(v)try{m=JSON.parse(decodeURIComponent(atob(v))),m.app_id&&t(m.app_id),m.user_id&&r(m.user_id),m.access_token&&o(m.access_token),h(!0)}catch{console.error("incorrect auth query")}},[]),Fa.jsx("div",{className:"App",children:u?Fa.jsx(Sbe,{appId:n,userId:e,nickname:e,accessToken:a||null}):Fa.jsxs("div",{className:"login-panel",children:[Fa.jsx("img",{src:"./logo.png",className:"logo"}),Fa.jsxs("div",{className:"login-form",children:[Fa.jsx("div",{className:"section",children:"Application ID"}),Fa.jsx("input",{type:"text",className:"input",placeholder:"Application ID",value:n,onChange:m=>t(m.target.value)}),Fa.jsx("div",{className:"section",children:"User ID"}),Fa.jsx("input",{type:"text",className:"input",placeholder:"User ID",value:e,onChange:m=>r(m.target.value)}),Fa.jsx("div",{className:"section",children:"Access token (optional)"}),Fa.jsx("input",{type:"password",className:"input",placeholder:"Access token (optional)",value:a,onChange:m=>o(m.target.value)}),Fa.jsx("input",{type:"button",className:"submit",value:"Sign in",onClick:()=>h(!0)})]}),Fa.jsx("img",{src:"./logo-b.png",className:"logo-horizontal"})]})})}fw.createRoot(document.getElementById("root")).render(Fa.jsx(R.StrictMode,{children:Fa.jsx(s1e,{})}));
