(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Bie(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var LL={exports:{}},N1={},UL={exports:{}},dr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=Symbol.for("react.element"),Vie=Symbol.for("react.portal"),zie=Symbol.for("react.fragment"),Gie=Symbol.for("react.strict_mode"),qie=Symbol.for("react.profiler"),jie=Symbol.for("react.provider"),$ie=Symbol.for("react.context"),Wie=Symbol.for("react.forward_ref"),Kie=Symbol.for("react.suspense"),Qie=Symbol.for("react.memo"),Yie=Symbol.for("react.lazy"),iR=Symbol.iterator;function Xie(n){return n===null||typeof n!="object"?null:(n=iR&&n[iR]||n["@@iterator"],typeof n=="function"?n:null)}var PL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FL=Object.assign,HL={};function op(n,t,e){this.props=n,this.context=t,this.refs=HL,this.updater=e||PL}op.prototype.isReactComponent={};op.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};op.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function BL(){}BL.prototype=op.prototype;function W6(n,t,e){this.props=n,this.context=t,this.refs=HL,this.updater=e||PL}var K6=W6.prototype=new BL;K6.constructor=W6;FL(K6,op.prototype);K6.isPureReactComponent=!0;var aR=Array.isArray,VL=Object.prototype.hasOwnProperty,Q6={current:null},zL={key:!0,ref:!0,__self:!0,__source:!0};function GL(n,t,e){var r,a={},l=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)VL.call(t,r)&&!zL.hasOwnProperty(r)&&(a[r]=t[r]);var h=arguments.length-2;if(h===1)a.children=e;else if(1<h){for(var f=Array(h),_=0;_<h;_++)f[_]=arguments[_+2];a.children=f}if(n&&n.defaultProps)for(r in h=n.defaultProps,h)a[r]===void 0&&(a[r]=h[r]);return{$$typeof:sm,type:n,key:l,ref:d,props:a,_owner:Q6.current}}function Zie(n,t){return{$$typeof:sm,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function Y6(n){return typeof n=="object"&&n!==null&&n.$$typeof===sm}function Jie(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var sR=/\/+/g;function ow(n,t){return typeof n=="object"&&n!==null&&n.key!=null?Jie(""+n.key):t.toString(36)}function tb(n,t,e,r,a){var l=typeof n;(l==="undefined"||l==="boolean")&&(n=null);var d=!1;if(n===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(n.$$typeof){case sm:case Vie:d=!0}}if(d)return d=n,a=a(d),n=r===""?"."+ow(d,0):r,aR(a)?(e="",n!=null&&(e=n.replace(sR,"$&/")+"/"),tb(a,t,e,"",function(_){return _})):a!=null&&(Y6(a)&&(a=Zie(a,e+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(sR,"$&/")+"/")+n)),t.push(a)),1;if(d=0,r=r===""?".":r+":",aR(n))for(var h=0;h<n.length;h++){l=n[h];var f=r+ow(l,h);d+=tb(l,t,e,f,a)}else if(f=Xie(n),typeof f=="function")for(n=f.call(n),h=0;!(l=n.next()).done;)l=l.value,f=r+ow(l,h++),d+=tb(l,t,e,f,a);else if(l==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function dg(n,t,e){if(n==null)return n;var r=[],a=0;return tb(n,r,"","",function(l){return t.call(e,l,a++)}),r}function eae(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var os={current:null},rb={transition:null},nae={ReactCurrentDispatcher:os,ReactCurrentBatchConfig:rb,ReactCurrentOwner:Q6};dr.Children={map:dg,forEach:function(n,t,e){dg(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return dg(n,function(){t++}),t},toArray:function(n){return dg(n,function(t){return t})||[]},only:function(n){if(!Y6(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};dr.Component=op;dr.Fragment=zie;dr.Profiler=qie;dr.PureComponent=W6;dr.StrictMode=Gie;dr.Suspense=Kie;dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nae;dr.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=FL({},n.props),a=n.key,l=n.ref,d=n._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=Q6.current),t.key!==void 0&&(a=""+t.key),n.type&&n.type.defaultProps)var h=n.type.defaultProps;for(f in t)VL.call(t,f)&&!zL.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&h!==void 0?h[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=e;else if(1<f){h=Array(f);for(var _=0;_<f;_++)h[_]=arguments[_+2];r.children=h}return{$$typeof:sm,type:n.type,key:a,ref:l,props:r,_owner:d}};dr.createContext=function(n){return n={$$typeof:$ie,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:jie,_context:n},n.Consumer=n};dr.createElement=GL;dr.createFactory=function(n){var t=GL.bind(null,n);return t.type=n,t};dr.createRef=function(){return{current:null}};dr.forwardRef=function(n){return{$$typeof:Wie,render:n}};dr.isValidElement=Y6;dr.lazy=function(n){return{$$typeof:Yie,_payload:{_status:-1,_result:n},_init:eae}};dr.memo=function(n,t){return{$$typeof:Qie,type:n,compare:t===void 0?null:t}};dr.startTransition=function(n){var t=rb.transition;rb.transition={};try{n()}finally{rb.transition=t}};dr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dr.useCallback=function(n,t){return os.current.useCallback(n,t)};dr.useContext=function(n){return os.current.useContext(n)};dr.useDebugValue=function(){};dr.useDeferredValue=function(n){return os.current.useDeferredValue(n)};dr.useEffect=function(n,t){return os.current.useEffect(n,t)};dr.useId=function(){return os.current.useId()};dr.useImperativeHandle=function(n,t,e){return os.current.useImperativeHandle(n,t,e)};dr.useInsertionEffect=function(n,t){return os.current.useInsertionEffect(n,t)};dr.useLayoutEffect=function(n,t){return os.current.useLayoutEffect(n,t)};dr.useMemo=function(n,t){return os.current.useMemo(n,t)};dr.useReducer=function(n,t,e){return os.current.useReducer(n,t,e)};dr.useRef=function(n){return os.current.useRef(n)};dr.useState=function(n){return os.current.useState(n)};dr.useSyncExternalStore=function(n,t,e){return os.current.useSyncExternalStore(n,t,e)};dr.useTransition=function(){return os.current.useTransition()};dr.version="18.2.0";UL.exports=dr;var W=UL.exports;const L=Bie(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tae=W,rae=Symbol.for("react.element"),iae=Symbol.for("react.fragment"),aae=Object.prototype.hasOwnProperty,sae=tae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oae={key:!0,ref:!0,__self:!0,__source:!0};function qL(n,t,e){var r,a={},l=null,d=null;e!==void 0&&(l=""+e),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)aae.call(t,r)&&!oae.hasOwnProperty(r)&&(a[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:rae,type:n,key:l,ref:d,props:a,_owner:sae.current}}N1.Fragment=iae;N1.jsx=qL;N1.jsxs=qL;LL.exports=N1;var Ja=LL.exports,Dx={},jL={exports:{}},Qs={},$L={exports:{}},WL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(le,se){var me=le.length;le.push(se);e:for(;0<me;){var Me=me-1>>>1,de=le[Me];if(0<a(de,se))le[Me]=se,le[me]=de,me=Me;else break e}}function e(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var se=le[0],me=le.pop();if(me!==se){le[0]=me;e:for(var Me=0,de=le.length,he=de>>>1;Me<he;){var K=2*(Me+1)-1,ee=le[K],j=K+1,ae=le[j];if(0>a(ee,me))j<de&&0>a(ae,ee)?(le[Me]=ae,le[j]=me,Me=j):(le[Me]=ee,le[K]=me,Me=K);else if(j<de&&0>a(ae,me))le[Me]=ae,le[j]=me,Me=j;else break e}}return se}function a(le,se){var me=le.sortIndex-se.sortIndex;return me!==0?me:le.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var f=[],_=[],g=1,E=null,w=3,x=!1,T=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(le){for(var se=e(_);se!==null;){if(se.callback===null)r(_);else if(se.startTime<=le)r(_),se.sortIndex=se.expirationTime,t(f,se);else break;se=e(_)}}function U(le){if(N=!1,A(le),!T)if(e(f)!==null)T=!0,Q(M);else{var se=e(_);se!==null&&_e(U,se.startTime-le)}}function M(le,se){T=!1,N&&(N=!1,k(D),D=-1),x=!0;var me=w;try{for(A(se),E=e(f);E!==null&&(!(E.expirationTime>se)||le&&!ne());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,w=E.priorityLevel;var de=Me(E.expirationTime<=se);se=n.unstable_now(),typeof de=="function"?E.callback=de:E===e(f)&&r(f),A(se)}else r(f);E=e(f)}if(E!==null)var he=!0;else{var K=e(_);K!==null&&_e(U,K.startTime-se),he=!1}return he}finally{E=null,w=me,x=!1}}var R=!1,I=null,D=-1,q=5,z=-1;function ne(){return!(n.unstable_now()-z<q)}function fe(){if(I!==null){var le=n.unstable_now();z=le;var se=!0;try{se=I(!0,le)}finally{se?B():(R=!1,I=null)}}else R=!1}var B;if(typeof C=="function")B=function(){C(fe)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ue=Y.port2;Y.port1.onmessage=fe,B=function(){ue.postMessage(null)}}else B=function(){P(fe,0)};function Q(le){I=le,R||(R=!0,B())}function _e(le,se){D=P(function(){le(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){T||x||(T=!0,Q(M))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(le){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var me=w;w=se;try{return le()}finally{w=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,se){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var me=w;w=le;try{return se()}finally{w=me}},n.unstable_scheduleCallback=function(le,se,me){var Me=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,le){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=me+de,le={id:g++,callback:se,priorityLevel:le,startTime:me,expirationTime:de,sortIndex:-1},me>Me?(le.sortIndex=me,t(_,le),e(f)===null&&le===e(_)&&(N?(k(D),D=-1):N=!0,_e(U,me-Me))):(le.sortIndex=de,t(f,le),T||x||(T=!0,Q(M))),le},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(le){var se=w;return function(){var me=w;w=se;try{return le.apply(this,arguments)}finally{w=me}}}})(WL);$L.exports=WL;var lae=$L.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KL=W,Ws=lae;function Gn(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QL=new Set,R_={};function fh(n,t){G0(n,t),G0(n+"Capture",t)}function G0(n,t){for(R_[n]=t,n=0;n<t.length;n++)QL.add(t[n])}var wc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lx=Object.prototype.hasOwnProperty,cae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oR={},lR={};function dae(n){return Lx.call(lR,n)?!0:Lx.call(oR,n)?!1:cae.test(n)?lR[n]=!0:(oR[n]=!0,!1)}function uae(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function hae(n,t,e,r){if(t===null||typeof t>"u"||uae(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ls(n,t,e,r,a,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var Sa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Sa[n]=new ls(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Sa[t]=new ls(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Sa[n]=new ls(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Sa[n]=new ls(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Sa[n]=new ls(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Sa[n]=new ls(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Sa[n]=new ls(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Sa[n]=new ls(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Sa[n]=new ls(n,5,!1,n.toLowerCase(),null,!1,!1)});var X6=/[\-:]([a-z])/g;function Z6(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(X6,Z6);Sa[t]=new ls(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(X6,Z6);Sa[t]=new ls(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(X6,Z6);Sa[t]=new ls(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Sa[n]=new ls(n,1,!1,n.toLowerCase(),null,!1,!1)});Sa.xlinkHref=new ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Sa[n]=new ls(n,1,!1,n.toLowerCase(),null,!0,!0)});function J6(n,t,e,r){var a=Sa.hasOwnProperty(t)?Sa[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hae(t,e,a,r)&&(e=null),r||a===null?dae(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):a.mustUseProperty?n[a.propertyName]=e===null?a.type===3?!1:"":e:(t=a.attributeName,r=a.attributeNamespace,e===null?n.removeAttribute(t):(a=a.type,e=a===3||a===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var kc=KL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ug=Symbol.for("react.element"),b0=Symbol.for("react.portal"),y0=Symbol.for("react.fragment"),eT=Symbol.for("react.strict_mode"),Ux=Symbol.for("react.profiler"),YL=Symbol.for("react.provider"),XL=Symbol.for("react.context"),nT=Symbol.for("react.forward_ref"),Px=Symbol.for("react.suspense"),Fx=Symbol.for("react.suspense_list"),tT=Symbol.for("react.memo"),ad=Symbol.for("react.lazy"),ZL=Symbol.for("react.offscreen"),cR=Symbol.iterator;function wf(n){return n===null||typeof n!="object"?null:(n=cR&&n[cR]||n["@@iterator"],typeof n=="function"?n:null)}var vi=Object.assign,lw;function Vf(n){if(lw===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);lw=t&&t[1]||""}return`
`+lw+n}var cw=!1;function dw(n,t){if(!n||cw)return"";cw=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var r=_}Reflect.construct(n,[],t)}else{try{t.call()}catch(_){r=_}n.call(t.prototype)}else{try{throw Error()}catch(_){r=_}n()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),l=r.stack.split(`
`),d=a.length-1,h=l.length-1;1<=d&&0<=h&&a[d]!==l[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==l[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==l[h]){var f=`
`+a[d].replace(" at new "," at ");return n.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",n.displayName)),f}while(1<=d&&0<=h);break}}}finally{cw=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Vf(n):""}function pae(n){switch(n.tag){case 5:return Vf(n.type);case 16:return Vf("Lazy");case 13:return Vf("Suspense");case 19:return Vf("SuspenseList");case 0:case 2:case 15:return n=dw(n.type,!1),n;case 11:return n=dw(n.type.render,!1),n;case 1:return n=dw(n.type,!0),n;default:return""}}function Hx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case y0:return"Fragment";case b0:return"Portal";case Ux:return"Profiler";case eT:return"StrictMode";case Px:return"Suspense";case Fx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case XL:return(n.displayName||"Context")+".Consumer";case YL:return(n._context.displayName||"Context")+".Provider";case nT:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tT:return t=n.displayName||null,t!==null?t:Hx(n.type)||"Memo";case ad:t=n._payload,n=n._init;try{return Hx(n(t))}catch{}}return null}function fae(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hx(t);case 8:return t===eT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Md(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function JL(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _ae(n){var t=JL(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var a=e.get,l=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){r=""+d,l.call(this,d)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function hg(n){n._valueTracker||(n._valueTracker=_ae(n))}function eU(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=JL(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function Mb(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Bx(n,t){var e=t.checked;return vi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function dR(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=Md(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nU(n,t){t=t.checked,t!=null&&J6(n,"checked",t,!1)}function Vx(n,t){nU(n,t);var e=Md(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?zx(n,t.type,e):t.hasOwnProperty("defaultValue")&&zx(n,t.type,Md(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function uR(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function zx(n,t,e){(t!=="number"||Mb(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var zf=Array.isArray;function L0(n,t,e,r){if(n=n.options,t){t={};for(var a=0;a<e.length;a++)t["$"+e[a]]=!0;for(e=0;e<n.length;e++)a=t.hasOwnProperty("$"+n[e].value),n[e].selected!==a&&(n[e].selected=a),a&&r&&(n[e].defaultSelected=!0)}else{for(e=""+Md(e),t=null,a=0;a<n.length;a++){if(n[a].value===e){n[a].selected=!0,r&&(n[a].defaultSelected=!0);return}t!==null||n[a].disabled||(t=n[a])}t!==null&&(t.selected=!0)}}function Gx(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Gn(91));return vi({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function hR(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Gn(92));if(zf(e)){if(1<e.length)throw Error(Gn(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Md(e)}}function tU(n,t){var e=Md(t.value),r=Md(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function pR(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function rU(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qx(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?rU(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var pg,iU=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,a){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,a)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(pg=pg||document.createElement("div"),pg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function M_(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var n_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mae=["Webkit","ms","Moz","O"];Object.keys(n_).forEach(function(n){mae.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),n_[t]=n_[n]})});function aU(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||n_.hasOwnProperty(n)&&n_[n]?(""+t).trim():t+"px"}function sU(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,a=aU(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,a):n[e]=a}}var vae=vi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jx(n,t){if(t){if(vae[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Gn(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Gn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Gn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Gn(62))}}function $x(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wx=null;function rT(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Kx=null,U0=null,P0=null;function fR(n){if(n=cm(n)){if(typeof Kx!="function")throw Error(Gn(280));var t=n.stateNode;t&&(t=D1(t),Kx(n.stateNode,n.type,t))}}function oU(n){U0?P0?P0.push(n):P0=[n]:U0=n}function lU(){if(U0){var n=U0,t=P0;if(P0=U0=null,fR(n),t)for(n=0;n<t.length;n++)fR(t[n])}}function cU(n,t){return n(t)}function dU(){}var uw=!1;function uU(n,t,e){if(uw)return n(t,e);uw=!0;try{return cU(n,t,e)}finally{uw=!1,(U0!==null||P0!==null)&&(dU(),lU())}}function D_(n,t){var e=n.stateNode;if(e===null)return null;var r=D1(e);if(r===null)return null;e=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(Gn(231,t,typeof e));return e}var Qx=!1;if(wc)try{var xf={};Object.defineProperty(xf,"passive",{get:function(){Qx=!0}}),window.addEventListener("test",xf,xf),window.removeEventListener("test",xf,xf)}catch{Qx=!1}function gae(n,t,e,r,a,l,d,h,f){var _=Array.prototype.slice.call(arguments,3);try{t.apply(e,_)}catch(g){this.onError(g)}}var t_=!1,Db=null,Lb=!1,Yx=null,bae={onError:function(n){t_=!0,Db=n}};function yae(n,t,e,r,a,l,d,h,f){t_=!1,Db=null,gae.apply(bae,arguments)}function Eae(n,t,e,r,a,l,d,h,f){if(yae.apply(this,arguments),t_){if(t_){var _=Db;t_=!1,Db=null}else throw Error(Gn(198));Lb||(Lb=!0,Yx=_)}}function _h(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function hU(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function _R(n){if(_h(n)!==n)throw Error(Gn(188))}function wae(n){var t=n.alternate;if(!t){if(t=_h(n),t===null)throw Error(Gn(188));return t!==n?null:n}for(var e=n,r=t;;){var a=e.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){e=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===e)return _R(a),n;if(l===r)return _R(a),t;l=l.sibling}throw Error(Gn(188))}if(e.return!==r.return)e=a,r=l;else{for(var d=!1,h=a.child;h;){if(h===e){d=!0,e=a,r=l;break}if(h===r){d=!0,r=a,e=l;break}h=h.sibling}if(!d){for(h=l.child;h;){if(h===e){d=!0,e=l,r=a;break}if(h===r){d=!0,r=l,e=a;break}h=h.sibling}if(!d)throw Error(Gn(189))}}if(e.alternate!==r)throw Error(Gn(190))}if(e.tag!==3)throw Error(Gn(188));return e.stateNode.current===e?n:t}function pU(n){return n=wae(n),n!==null?fU(n):null}function fU(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=fU(n);if(t!==null)return t;n=n.sibling}return null}var _U=Ws.unstable_scheduleCallback,mR=Ws.unstable_cancelCallback,xae=Ws.unstable_shouldYield,Sae=Ws.unstable_requestPaint,Mi=Ws.unstable_now,Tae=Ws.unstable_getCurrentPriorityLevel,iT=Ws.unstable_ImmediatePriority,mU=Ws.unstable_UserBlockingPriority,Ub=Ws.unstable_NormalPriority,Cae=Ws.unstable_LowPriority,vU=Ws.unstable_IdlePriority,A1=null,Rl=null;function kae(n){if(Rl&&typeof Rl.onCommitFiberRoot=="function")try{Rl.onCommitFiberRoot(A1,n,void 0,(n.current.flags&128)===128)}catch{}}var Yo=Math.clz32?Math.clz32:Aae,Iae=Math.log,Nae=Math.LN2;function Aae(n){return n>>>=0,n===0?32:31-(Iae(n)/Nae|0)|0}var fg=64,_g=4194304;function Gf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pb(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,a=n.suspendedLanes,l=n.pingedLanes,d=e&268435455;if(d!==0){var h=d&~a;h!==0?r=Gf(h):(l&=d,l!==0&&(r=Gf(l)))}else d=e&~a,d!==0?r=Gf(d):l!==0&&(r=Gf(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-Yo(t),a=1<<e,r|=n[e],t&=~a;return r}function Oae(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rae(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,a=n.expirationTimes,l=n.pendingLanes;0<l;){var d=31-Yo(l),h=1<<d,f=a[d];f===-1?(!(h&e)||h&r)&&(a[d]=Oae(h,t)):f<=t&&(n.expiredLanes|=h),l&=~h}}function Xx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gU(){var n=fg;return fg<<=1,!(fg&4194240)&&(fg=64),n}function hw(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function om(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Yo(t),n[t]=e}function Mae(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var a=31-Yo(e),l=1<<a;t[a]=0,r[a]=-1,n[a]=-1,e&=~l}}function aT(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-Yo(e),a=1<<r;a&t|n[r]&t&&(n[r]|=t),e&=~a}}var Hr=0;function bU(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var yU,sT,EU,wU,xU,Zx=!1,mg=[],vd=null,gd=null,bd=null,L_=new Map,U_=new Map,ld=[],Dae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vR(n,t){switch(n){case"focusin":case"focusout":vd=null;break;case"dragenter":case"dragleave":gd=null;break;case"mouseover":case"mouseout":bd=null;break;case"pointerover":case"pointerout":L_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":U_.delete(t.pointerId)}}function Sf(n,t,e,r,a,l){return n===null||n.nativeEvent!==l?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=cm(t),t!==null&&sT(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),n)}function Lae(n,t,e,r,a){switch(t){case"focusin":return vd=Sf(vd,n,t,e,r,a),!0;case"dragenter":return gd=Sf(gd,n,t,e,r,a),!0;case"mouseover":return bd=Sf(bd,n,t,e,r,a),!0;case"pointerover":var l=a.pointerId;return L_.set(l,Sf(L_.get(l)||null,n,t,e,r,a)),!0;case"gotpointercapture":return l=a.pointerId,U_.set(l,Sf(U_.get(l)||null,n,t,e,r,a)),!0}return!1}function SU(n){var t=Bu(n.target);if(t!==null){var e=_h(t);if(e!==null){if(t=e.tag,t===13){if(t=hU(e),t!==null){n.blockedOn=t,xU(n.priority,function(){EU(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ib(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Jx(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);Wx=r,e.target.dispatchEvent(r),Wx=null}else return t=cm(e),t!==null&&sT(t),n.blockedOn=e,!1;t.shift()}return!0}function gR(n,t,e){ib(n)&&e.delete(t)}function Uae(){Zx=!1,vd!==null&&ib(vd)&&(vd=null),gd!==null&&ib(gd)&&(gd=null),bd!==null&&ib(bd)&&(bd=null),L_.forEach(gR),U_.forEach(gR)}function Tf(n,t){n.blockedOn===t&&(n.blockedOn=null,Zx||(Zx=!0,Ws.unstable_scheduleCallback(Ws.unstable_NormalPriority,Uae)))}function P_(n){function t(a){return Tf(a,n)}if(0<mg.length){Tf(mg[0],n);for(var e=1;e<mg.length;e++){var r=mg[e];r.blockedOn===n&&(r.blockedOn=null)}}for(vd!==null&&Tf(vd,n),gd!==null&&Tf(gd,n),bd!==null&&Tf(bd,n),L_.forEach(t),U_.forEach(t),e=0;e<ld.length;e++)r=ld[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<ld.length&&(e=ld[0],e.blockedOn===null);)SU(e),e.blockedOn===null&&ld.shift()}var F0=kc.ReactCurrentBatchConfig,Fb=!0;function Pae(n,t,e,r){var a=Hr,l=F0.transition;F0.transition=null;try{Hr=1,oT(n,t,e,r)}finally{Hr=a,F0.transition=l}}function Fae(n,t,e,r){var a=Hr,l=F0.transition;F0.transition=null;try{Hr=4,oT(n,t,e,r)}finally{Hr=a,F0.transition=l}}function oT(n,t,e,r){if(Fb){var a=Jx(n,t,e,r);if(a===null)ww(n,t,r,Hb,e),vR(n,r);else if(Lae(a,n,t,e,r))r.stopPropagation();else if(vR(n,r),t&4&&-1<Dae.indexOf(n)){for(;a!==null;){var l=cm(a);if(l!==null&&yU(l),l=Jx(n,t,e,r),l===null&&ww(n,t,r,Hb,e),l===a)break;a=l}a!==null&&r.stopPropagation()}else ww(n,t,r,null,e)}}var Hb=null;function Jx(n,t,e,r){if(Hb=null,n=rT(r),n=Bu(n),n!==null)if(t=_h(n),t===null)n=null;else if(e=t.tag,e===13){if(n=hU(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Hb=n,null}function TU(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tae()){case iT:return 1;case mU:return 4;case Ub:case Cae:return 16;case vU:return 536870912;default:return 16}default:return 16}}var hd=null,lT=null,ab=null;function CU(){if(ab)return ab;var n,t=lT,e=t.length,r,a="value"in hd?hd.value:hd.textContent,l=a.length;for(n=0;n<e&&t[n]===a[n];n++);var d=e-n;for(r=1;r<=d&&t[e-r]===a[l-r];r++);return ab=a.slice(n,1<r?1-r:void 0)}function sb(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function vg(){return!0}function bR(){return!1}function Ys(n){function t(e,r,a,l,d){this._reactName=e,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var h in n)n.hasOwnProperty(h)&&(e=n[h],this[h]=e?e(l):l[h]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?vg:bR,this.isPropagationStopped=bR,this}return vi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=vg)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=vg)},persist:function(){},isPersistent:vg}),t}var lp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cT=Ys(lp),lm=vi({},lp,{view:0,detail:0}),Hae=Ys(lm),pw,fw,Cf,O1=vi({},lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Cf&&(Cf&&n.type==="mousemove"?(pw=n.screenX-Cf.screenX,fw=n.screenY-Cf.screenY):fw=pw=0,Cf=n),pw)},movementY:function(n){return"movementY"in n?n.movementY:fw}}),yR=Ys(O1),Bae=vi({},O1,{dataTransfer:0}),Vae=Ys(Bae),zae=vi({},lm,{relatedTarget:0}),_w=Ys(zae),Gae=vi({},lp,{animationName:0,elapsedTime:0,pseudoElement:0}),qae=Ys(Gae),jae=vi({},lp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$ae=Ys(jae),Wae=vi({},lp,{data:0}),ER=Ys(Wae),Kae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xae(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=Yae[n])?!!t[n]:!1}function dT(){return Xae}var Zae=vi({},lm,{key:function(n){if(n.key){var t=Kae[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=sb(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qae[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dT,charCode:function(n){return n.type==="keypress"?sb(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sb(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Jae=Ys(Zae),ese=vi({},O1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wR=Ys(ese),nse=vi({},lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dT}),tse=Ys(nse),rse=vi({},lp,{propertyName:0,elapsedTime:0,pseudoElement:0}),ise=Ys(rse),ase=vi({},O1,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sse=Ys(ase),ose=[9,13,27,32],uT=wc&&"CompositionEvent"in window,r_=null;wc&&"documentMode"in document&&(r_=document.documentMode);var lse=wc&&"TextEvent"in window&&!r_,kU=wc&&(!uT||r_&&8<r_&&11>=r_),xR=String.fromCharCode(32),SR=!1;function IU(n,t){switch(n){case"keyup":return ose.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NU(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var E0=!1;function cse(n,t){switch(n){case"compositionend":return NU(t);case"keypress":return t.which!==32?null:(SR=!0,xR);case"textInput":return n=t.data,n===xR&&SR?null:n;default:return null}}function dse(n,t){if(E0)return n==="compositionend"||!uT&&IU(n,t)?(n=CU(),ab=lT=hd=null,E0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kU&&t.locale!=="ko"?null:t.data;default:return null}}var use={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TR(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!use[n.type]:t==="textarea"}function AU(n,t,e,r){oU(r),t=Bb(t,"onChange"),0<t.length&&(e=new cT("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var i_=null,F_=null;function hse(n){VU(n,0)}function R1(n){var t=S0(n);if(eU(t))return n}function pse(n,t){if(n==="change")return t}var OU=!1;if(wc){var mw;if(wc){var vw="oninput"in document;if(!vw){var CR=document.createElement("div");CR.setAttribute("oninput","return;"),vw=typeof CR.oninput=="function"}mw=vw}else mw=!1;OU=mw&&(!document.documentMode||9<document.documentMode)}function kR(){i_&&(i_.detachEvent("onpropertychange",RU),F_=i_=null)}function RU(n){if(n.propertyName==="value"&&R1(F_)){var t=[];AU(t,F_,n,rT(n)),uU(hse,t)}}function fse(n,t,e){n==="focusin"?(kR(),i_=t,F_=e,i_.attachEvent("onpropertychange",RU)):n==="focusout"&&kR()}function _se(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return R1(F_)}function mse(n,t){if(n==="click")return R1(t)}function vse(n,t){if(n==="input"||n==="change")return R1(t)}function gse(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Zo=typeof Object.is=="function"?Object.is:gse;function H_(n,t){if(Zo(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var a=e[r];if(!Lx.call(t,a)||!Zo(n[a],t[a]))return!1}return!0}function IR(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function NR(n,t){var e=IR(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=IR(e)}}function MU(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?MU(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function DU(){for(var n=window,t=Mb();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=Mb(n.document)}return t}function hT(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function bse(n){var t=DU(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&MU(e.ownerDocument.documentElement,e)){if(r!==null&&hT(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var a=e.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!n.extend&&l>r&&(a=r,r=l,l=a),a=NR(e,l);var d=NR(e,r);a&&d&&(n.rangeCount!==1||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==d.node||n.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),n.removeAllRanges(),l>r?(n.addRange(t),n.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var yse=wc&&"documentMode"in document&&11>=document.documentMode,w0=null,e4=null,a_=null,n4=!1;function AR(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;n4||w0==null||w0!==Mb(r)||(r=w0,"selectionStart"in r&&hT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),a_&&H_(a_,r)||(a_=r,r=Bb(e4,"onSelect"),0<r.length&&(t=new cT("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=w0)))}function gg(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var x0={animationend:gg("Animation","AnimationEnd"),animationiteration:gg("Animation","AnimationIteration"),animationstart:gg("Animation","AnimationStart"),transitionend:gg("Transition","TransitionEnd")},gw={},LU={};wc&&(LU=document.createElement("div").style,"AnimationEvent"in window||(delete x0.animationend.animation,delete x0.animationiteration.animation,delete x0.animationstart.animation),"TransitionEvent"in window||delete x0.transitionend.transition);function M1(n){if(gw[n])return gw[n];if(!x0[n])return n;var t=x0[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in LU)return gw[n]=t[e];return n}var UU=M1("animationend"),PU=M1("animationiteration"),FU=M1("animationstart"),HU=M1("transitionend"),BU=new Map,OR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hd(n,t){BU.set(n,t),fh(t,[n])}for(var bw=0;bw<OR.length;bw++){var yw=OR[bw],Ese=yw.toLowerCase(),wse=yw[0].toUpperCase()+yw.slice(1);Hd(Ese,"on"+wse)}Hd(UU,"onAnimationEnd");Hd(PU,"onAnimationIteration");Hd(FU,"onAnimationStart");Hd("dblclick","onDoubleClick");Hd("focusin","onFocus");Hd("focusout","onBlur");Hd(HU,"onTransitionEnd");G0("onMouseEnter",["mouseout","mouseover"]);G0("onMouseLeave",["mouseout","mouseover"]);G0("onPointerEnter",["pointerout","pointerover"]);G0("onPointerLeave",["pointerout","pointerover"]);fh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fh("onBeforeInput",["compositionend","keypress","textInput","paste"]);fh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xse=new Set("cancel close invalid load scroll toggle".split(" ").concat(qf));function RR(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,Eae(r,t,void 0,n),n.currentTarget=null}function VU(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var d=r.length-1;0<=d;d--){var h=r[d],f=h.instance,_=h.currentTarget;if(h=h.listener,f!==l&&a.isPropagationStopped())break e;RR(a,h,_),l=f}else for(d=0;d<r.length;d++){if(h=r[d],f=h.instance,_=h.currentTarget,h=h.listener,f!==l&&a.isPropagationStopped())break e;RR(a,h,_),l=f}}}if(Lb)throw n=Yx,Lb=!1,Yx=null,n}function ei(n,t){var e=t[s4];e===void 0&&(e=t[s4]=new Set);var r=n+"__bubble";e.has(r)||(zU(t,n,2,!1),e.add(r))}function Ew(n,t,e){var r=0;t&&(r|=4),zU(e,n,r,t)}var bg="_reactListening"+Math.random().toString(36).slice(2);function B_(n){if(!n[bg]){n[bg]=!0,QL.forEach(function(e){e!=="selectionchange"&&(xse.has(e)||Ew(e,!1,n),Ew(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[bg]||(t[bg]=!0,Ew("selectionchange",!1,t))}}function zU(n,t,e,r){switch(TU(t)){case 1:var a=Pae;break;case 4:a=Fae;break;default:a=oT}e=a.bind(null,t,e,n),a=void 0,!Qx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?n.addEventListener(t,e,{capture:!0,passive:a}):n.addEventListener(t,e,!0):a!==void 0?n.addEventListener(t,e,{passive:a}):n.addEventListener(t,e,!1)}function ww(n,t,e,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var h=r.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=r.return;d!==null;){var f=d.tag;if((f===3||f===4)&&(f=d.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Bu(h),d===null)return;if(f=d.tag,f===5||f===6){r=l=d;continue e}h=h.parentNode}}r=r.return}uU(function(){var _=l,g=rT(e),E=[];e:{var w=BU.get(n);if(w!==void 0){var x=cT,T=n;switch(n){case"keypress":if(sb(e)===0)break e;case"keydown":case"keyup":x=Jae;break;case"focusin":T="focus",x=_w;break;case"focusout":T="blur",x=_w;break;case"beforeblur":case"afterblur":x=_w;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=yR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Vae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=tse;break;case UU:case PU:case FU:x=qae;break;case HU:x=ise;break;case"scroll":x=Hae;break;case"wheel":x=sse;break;case"copy":case"cut":case"paste":x=$ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=wR}var N=(t&4)!==0,P=!N&&n==="scroll",k=N?w!==null?w+"Capture":null:w;N=[];for(var C=_,A;C!==null;){A=C;var U=A.stateNode;if(A.tag===5&&U!==null&&(A=U,k!==null&&(U=D_(C,k),U!=null&&N.push(V_(C,U,A)))),P)break;C=C.return}0<N.length&&(w=new x(w,T,null,e,g),E.push({event:w,listeners:N}))}}if(!(t&7)){e:{if(w=n==="mouseover"||n==="pointerover",x=n==="mouseout"||n==="pointerout",w&&e!==Wx&&(T=e.relatedTarget||e.fromElement)&&(Bu(T)||T[xc]))break e;if((x||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,x?(T=e.relatedTarget||e.toElement,x=_,T=T?Bu(T):null,T!==null&&(P=_h(T),T!==P||T.tag!==5&&T.tag!==6)&&(T=null)):(x=null,T=_),x!==T)){if(N=yR,U="onMouseLeave",k="onMouseEnter",C="mouse",(n==="pointerout"||n==="pointerover")&&(N=wR,U="onPointerLeave",k="onPointerEnter",C="pointer"),P=x==null?w:S0(x),A=T==null?w:S0(T),w=new N(U,C+"leave",x,e,g),w.target=P,w.relatedTarget=A,U=null,Bu(g)===_&&(N=new N(k,C+"enter",T,e,g),N.target=A,N.relatedTarget=P,U=N),P=U,x&&T)n:{for(N=x,k=T,C=0,A=N;A;A=c0(A))C++;for(A=0,U=k;U;U=c0(U))A++;for(;0<C-A;)N=c0(N),C--;for(;0<A-C;)k=c0(k),A--;for(;C--;){if(N===k||k!==null&&N===k.alternate)break n;N=c0(N),k=c0(k)}N=null}else N=null;x!==null&&MR(E,w,x,N,!1),T!==null&&P!==null&&MR(E,P,T,N,!0)}}e:{if(w=_?S0(_):window,x=w.nodeName&&w.nodeName.toLowerCase(),x==="select"||x==="input"&&w.type==="file")var M=pse;else if(TR(w))if(OU)M=vse;else{M=_se;var R=fse}else(x=w.nodeName)&&x.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(M=mse);if(M&&(M=M(n,_))){AU(E,M,e,g);break e}R&&R(n,w,_),n==="focusout"&&(R=w._wrapperState)&&R.controlled&&w.type==="number"&&zx(w,"number",w.value)}switch(R=_?S0(_):window,n){case"focusin":(TR(R)||R.contentEditable==="true")&&(w0=R,e4=_,a_=null);break;case"focusout":a_=e4=w0=null;break;case"mousedown":n4=!0;break;case"contextmenu":case"mouseup":case"dragend":n4=!1,AR(E,e,g);break;case"selectionchange":if(yse)break;case"keydown":case"keyup":AR(E,e,g)}var I;if(uT)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else E0?IU(n,e)&&(D="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(D="onCompositionStart");D&&(kU&&e.locale!=="ko"&&(E0||D!=="onCompositionStart"?D==="onCompositionEnd"&&E0&&(I=CU()):(hd=g,lT="value"in hd?hd.value:hd.textContent,E0=!0)),R=Bb(_,D),0<R.length&&(D=new ER(D,n,null,e,g),E.push({event:D,listeners:R}),I?D.data=I:(I=NU(e),I!==null&&(D.data=I)))),(I=lse?cse(n,e):dse(n,e))&&(_=Bb(_,"onBeforeInput"),0<_.length&&(g=new ER("onBeforeInput","beforeinput",null,e,g),E.push({event:g,listeners:_}),g.data=I))}VU(E,t)})}function V_(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Bb(n,t){for(var e=t+"Capture",r=[];n!==null;){var a=n,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=D_(n,e),l!=null&&r.unshift(V_(n,l,a)),l=D_(n,t),l!=null&&r.push(V_(n,l,a))),n=n.return}return r}function c0(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function MR(n,t,e,r,a){for(var l=t._reactName,d=[];e!==null&&e!==r;){var h=e,f=h.alternate,_=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&_!==null&&(h=_,a?(f=D_(e,l),f!=null&&d.unshift(V_(e,f,h))):a||(f=D_(e,l),f!=null&&d.push(V_(e,f,h)))),e=e.return}d.length!==0&&n.push({event:t,listeners:d})}var Sse=/\r\n?/g,Tse=/\u0000|\uFFFD/g;function DR(n){return(typeof n=="string"?n:""+n).replace(Sse,`
`).replace(Tse,"")}function yg(n,t,e){if(t=DR(t),DR(n)!==t&&e)throw Error(Gn(425))}function Vb(){}var t4=null,r4=null;function i4(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a4=typeof setTimeout=="function"?setTimeout:void 0,Cse=typeof clearTimeout=="function"?clearTimeout:void 0,LR=typeof Promise=="function"?Promise:void 0,kse=typeof queueMicrotask=="function"?queueMicrotask:typeof LR<"u"?function(n){return LR.resolve(null).then(n).catch(Ise)}:a4;function Ise(n){setTimeout(function(){throw n})}function xw(n,t){var e=t,r=0;do{var a=e.nextSibling;if(n.removeChild(e),a&&a.nodeType===8)if(e=a.data,e==="/$"){if(r===0){n.removeChild(a),P_(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=a}while(e);P_(t)}function yd(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function UR(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var cp=Math.random().toString(36).slice(2),kl="__reactFiber$"+cp,z_="__reactProps$"+cp,xc="__reactContainer$"+cp,s4="__reactEvents$"+cp,Nse="__reactListeners$"+cp,Ase="__reactHandles$"+cp;function Bu(n){var t=n[kl];if(t)return t;for(var e=n.parentNode;e;){if(t=e[xc]||e[kl]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=UR(n);n!==null;){if(e=n[kl])return e;n=UR(n)}return t}n=e,e=n.parentNode}return null}function cm(n){return n=n[kl]||n[xc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function S0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Gn(33))}function D1(n){return n[z_]||null}var o4=[],T0=-1;function Bd(n){return{current:n}}function ti(n){0>T0||(n.current=o4[T0],o4[T0]=null,T0--)}function Xr(n,t){T0++,o4[T0]=n.current,n.current=t}var Dd={},Va=Bd(Dd),ys=Bd(!1),rh=Dd;function q0(n,t){var e=n.type.contextTypes;if(!e)return Dd;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in e)a[l]=t[l];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=a),a}function Es(n){return n=n.childContextTypes,n!=null}function zb(){ti(ys),ti(Va)}function PR(n,t,e){if(Va.current!==Dd)throw Error(Gn(168));Xr(Va,t),Xr(ys,e)}function GU(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Gn(108,fae(n)||"Unknown",a));return vi({},e,r)}function Gb(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Dd,rh=Va.current,Xr(Va,n),Xr(ys,ys.current),!0}function FR(n,t,e){var r=n.stateNode;if(!r)throw Error(Gn(169));e?(n=GU(n,t,rh),r.__reactInternalMemoizedMergedChildContext=n,ti(ys),ti(Va),Xr(Va,n)):ti(ys),Xr(ys,e)}var uc=null,L1=!1,Sw=!1;function qU(n){uc===null?uc=[n]:uc.push(n)}function Ose(n){L1=!0,qU(n)}function Vd(){if(!Sw&&uc!==null){Sw=!0;var n=0,t=Hr;try{var e=uc;for(Hr=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}uc=null,L1=!1}catch(a){throw uc!==null&&(uc=uc.slice(n+1)),_U(iT,Vd),a}finally{Hr=t,Sw=!1}}return null}var C0=[],k0=0,qb=null,jb=0,ho=[],po=0,ih=null,_c=1,mc="";function Au(n,t){C0[k0++]=jb,C0[k0++]=qb,qb=n,jb=t}function jU(n,t,e){ho[po++]=_c,ho[po++]=mc,ho[po++]=ih,ih=n;var r=_c;n=mc;var a=32-Yo(r)-1;r&=~(1<<a),e+=1;var l=32-Yo(t)+a;if(30<l){var d=a-a%5;l=(r&(1<<d)-1).toString(32),r>>=d,a-=d,_c=1<<32-Yo(t)+a|e<<a|r,mc=l+n}else _c=1<<l|e<<a|r,mc=n}function pT(n){n.return!==null&&(Au(n,1),jU(n,1,0))}function fT(n){for(;n===qb;)qb=C0[--k0],C0[k0]=null,jb=C0[--k0],C0[k0]=null;for(;n===ih;)ih=ho[--po],ho[po]=null,mc=ho[--po],ho[po]=null,_c=ho[--po],ho[po]=null}var $s=null,qs=null,ui=!1,jo=null;function $U(n,t){var e=vo(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function HR(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,$s=n,qs=yd(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,$s=n,qs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=ih!==null?{id:_c,overflow:mc}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=vo(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,$s=n,qs=null,!0):!1;default:return!1}}function l4(n){return(n.mode&1)!==0&&(n.flags&128)===0}function c4(n){if(ui){var t=qs;if(t){var e=t;if(!HR(n,t)){if(l4(n))throw Error(Gn(418));t=yd(e.nextSibling);var r=$s;t&&HR(n,t)?$U(r,e):(n.flags=n.flags&-4097|2,ui=!1,$s=n)}}else{if(l4(n))throw Error(Gn(418));n.flags=n.flags&-4097|2,ui=!1,$s=n}}}function BR(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;$s=n}function Eg(n){if(n!==$s)return!1;if(!ui)return BR(n),ui=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!i4(n.type,n.memoizedProps)),t&&(t=qs)){if(l4(n))throw WU(),Error(Gn(418));for(;t;)$U(n,t),t=yd(t.nextSibling)}if(BR(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Gn(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){qs=yd(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}qs=null}}else qs=$s?yd(n.stateNode.nextSibling):null;return!0}function WU(){for(var n=qs;n;)n=yd(n.nextSibling)}function j0(){qs=$s=null,ui=!1}function _T(n){jo===null?jo=[n]:jo.push(n)}var Rse=kc.ReactCurrentBatchConfig;function Go(n,t){if(n&&n.defaultProps){t=vi({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}var $b=Bd(null),Wb=null,I0=null,mT=null;function vT(){mT=I0=Wb=null}function gT(n){var t=$b.current;ti($b),n._currentValue=t}function d4(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function H0(n,t){Wb=n,mT=I0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(gs=!0),n.firstContext=null)}function wo(n){var t=n._currentValue;if(mT!==n)if(n={context:n,memoizedValue:t,next:null},I0===null){if(Wb===null)throw Error(Gn(308));I0=n,Wb.dependencies={lanes:0,firstContext:n}}else I0=I0.next=n;return t}var Vu=null;function bT(n){Vu===null?Vu=[n]:Vu.push(n)}function KU(n,t,e,r){var a=t.interleaved;return a===null?(e.next=e,bT(t)):(e.next=a.next,a.next=e),t.interleaved=e,Sc(n,r)}function Sc(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var sd=!1;function yT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QU(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function bc(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Ed(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,gr&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Sc(n,e)}return a=r.interleaved,a===null?(t.next=t,bT(r)):(t.next=a.next,a.next=t),r.interleaved=t,Sc(n,e)}function ob(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,aT(n,e)}}function VR(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var a=null,l=null;if(e=e.firstBaseUpdate,e!==null){do{var d={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};l===null?a=l=d:l=l.next=d,e=e.next}while(e!==null);l===null?a=l=t:l=l.next=t}else a=l=t;e={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function Kb(n,t,e,r){var a=n.updateQueue;sd=!1;var l=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var f=h,_=f.next;f.next=null,d===null?l=_:d.next=_,d=f;var g=n.alternate;g!==null&&(g=g.updateQueue,h=g.lastBaseUpdate,h!==d&&(h===null?g.firstBaseUpdate=_:h.next=_,g.lastBaseUpdate=f))}if(l!==null){var E=a.baseState;d=0,g=_=f=null,h=l;do{var w=h.lane,x=h.eventTime;if((r&w)===w){g!==null&&(g=g.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var T=n,N=h;switch(w=t,x=e,N.tag){case 1:if(T=N.payload,typeof T=="function"){E=T.call(x,E,w);break e}E=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=N.payload,w=typeof T=="function"?T.call(x,E,w):T,w==null)break e;E=vi({},E,w);break e;case 2:sd=!0}}h.callback!==null&&h.lane!==0&&(n.flags|=64,w=a.effects,w===null?a.effects=[h]:w.push(h))}else x={eventTime:x,lane:w,tag:h.tag,payload:h.payload,callback:h.callback,next:null},g===null?(_=g=x,f=E):g=g.next=x,d|=w;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;w=h,h=w.next,w.next=null,a.lastBaseUpdate=w,a.shared.pending=null}}while(1);if(g===null&&(f=E),a.baseState=f,a.firstBaseUpdate=_,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);sh|=d,n.lanes=d,n.memoizedState=E}}function zR(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],a=r.callback;if(a!==null){if(r.callback=null,r=e,typeof a!="function")throw Error(Gn(191,a));a.call(r)}}}var YU=new KL.Component().refs;function u4(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:vi({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var U1={isMounted:function(n){return(n=n._reactInternals)?_h(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=is(),a=xd(n),l=bc(r,a);l.payload=t,e!=null&&(l.callback=e),t=Ed(n,l,a),t!==null&&(Xo(t,n,a,r),ob(t,n,a))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=is(),a=xd(n),l=bc(r,a);l.tag=1,l.payload=t,e!=null&&(l.callback=e),t=Ed(n,l,a),t!==null&&(Xo(t,n,a,r),ob(t,n,a))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=is(),r=xd(n),a=bc(e,r);a.tag=2,t!=null&&(a.callback=t),t=Ed(n,a,r),t!==null&&(Xo(t,n,r,e),ob(t,n,r))}};function GR(n,t,e,r,a,l,d){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,l,d):t.prototype&&t.prototype.isPureReactComponent?!H_(e,r)||!H_(a,l):!0}function XU(n,t,e){var r=!1,a=Dd,l=t.contextType;return typeof l=="object"&&l!==null?l=wo(l):(a=Es(t)?rh:Va.current,r=t.contextTypes,l=(r=r!=null)?q0(n,a):Dd),t=new t(e,l),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=U1,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=l),t}function qR(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&U1.enqueueReplaceState(t,t.state,null)}function h4(n,t,e,r){var a=n.stateNode;a.props=e,a.state=n.memoizedState,a.refs=YU,yT(n);var l=t.contextType;typeof l=="object"&&l!==null?a.context=wo(l):(l=Es(t)?rh:Va.current,a.context=q0(n,l)),a.state=n.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(u4(n,t,l,e),a.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&U1.enqueueReplaceState(a,a.state,null),Kb(n,e,a,r),a.state=n.memoizedState),typeof a.componentDidMount=="function"&&(n.flags|=4194308)}function kf(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Gn(309));var r=e.stateNode}if(!r)throw Error(Gn(147,n));var a=r,l=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var h=a.refs;h===YU&&(h=a.refs={}),d===null?delete h[l]:h[l]=d},t._stringRef=l,t)}if(typeof n!="string")throw Error(Gn(284));if(!e._owner)throw Error(Gn(290,n))}return n}function wg(n,t){throw n=Object.prototype.toString.call(t),Error(Gn(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function jR(n){var t=n._init;return t(n._payload)}function ZU(n){function t(k,C){if(n){var A=k.deletions;A===null?(k.deletions=[C],k.flags|=16):A.push(C)}}function e(k,C){if(!n)return null;for(;C!==null;)t(k,C),C=C.sibling;return null}function r(k,C){for(k=new Map;C!==null;)C.key!==null?k.set(C.key,C):k.set(C.index,C),C=C.sibling;return k}function a(k,C){return k=Sd(k,C),k.index=0,k.sibling=null,k}function l(k,C,A){return k.index=A,n?(A=k.alternate,A!==null?(A=A.index,A<C?(k.flags|=2,C):A):(k.flags|=2,C)):(k.flags|=1048576,C)}function d(k){return n&&k.alternate===null&&(k.flags|=2),k}function h(k,C,A,U){return C===null||C.tag!==6?(C=Ow(A,k.mode,U),C.return=k,C):(C=a(C,A),C.return=k,C)}function f(k,C,A,U){var M=A.type;return M===y0?g(k,C,A.props.children,U,A.key):C!==null&&(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ad&&jR(M)===C.type)?(U=a(C,A.props),U.ref=kf(k,C,A),U.return=k,U):(U=pb(A.type,A.key,A.props,null,k.mode,U),U.ref=kf(k,C,A),U.return=k,U)}function _(k,C,A,U){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=Rw(A,k.mode,U),C.return=k,C):(C=a(C,A.children||[]),C.return=k,C)}function g(k,C,A,U,M){return C===null||C.tag!==7?(C=Yu(A,k.mode,U,M),C.return=k,C):(C=a(C,A),C.return=k,C)}function E(k,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Ow(""+C,k.mode,A),C.return=k,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ug:return A=pb(C.type,C.key,C.props,null,k.mode,A),A.ref=kf(k,null,C),A.return=k,A;case b0:return C=Rw(C,k.mode,A),C.return=k,C;case ad:var U=C._init;return E(k,U(C._payload),A)}if(zf(C)||wf(C))return C=Yu(C,k.mode,A,null),C.return=k,C;wg(k,C)}return null}function w(k,C,A,U){var M=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return M!==null?null:h(k,C,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ug:return A.key===M?f(k,C,A,U):null;case b0:return A.key===M?_(k,C,A,U):null;case ad:return M=A._init,w(k,C,M(A._payload),U)}if(zf(A)||wf(A))return M!==null?null:g(k,C,A,U,null);wg(k,A)}return null}function x(k,C,A,U,M){if(typeof U=="string"&&U!==""||typeof U=="number")return k=k.get(A)||null,h(C,k,""+U,M);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ug:return k=k.get(U.key===null?A:U.key)||null,f(C,k,U,M);case b0:return k=k.get(U.key===null?A:U.key)||null,_(C,k,U,M);case ad:var R=U._init;return x(k,C,A,R(U._payload),M)}if(zf(U)||wf(U))return k=k.get(A)||null,g(C,k,U,M,null);wg(C,U)}return null}function T(k,C,A,U){for(var M=null,R=null,I=C,D=C=0,q=null;I!==null&&D<A.length;D++){I.index>D?(q=I,I=null):q=I.sibling;var z=w(k,I,A[D],U);if(z===null){I===null&&(I=q);break}n&&I&&z.alternate===null&&t(k,I),C=l(z,C,D),R===null?M=z:R.sibling=z,R=z,I=q}if(D===A.length)return e(k,I),ui&&Au(k,D),M;if(I===null){for(;D<A.length;D++)I=E(k,A[D],U),I!==null&&(C=l(I,C,D),R===null?M=I:R.sibling=I,R=I);return ui&&Au(k,D),M}for(I=r(k,I);D<A.length;D++)q=x(I,k,D,A[D],U),q!==null&&(n&&q.alternate!==null&&I.delete(q.key===null?D:q.key),C=l(q,C,D),R===null?M=q:R.sibling=q,R=q);return n&&I.forEach(function(ne){return t(k,ne)}),ui&&Au(k,D),M}function N(k,C,A,U){var M=wf(A);if(typeof M!="function")throw Error(Gn(150));if(A=M.call(A),A==null)throw Error(Gn(151));for(var R=M=null,I=C,D=C=0,q=null,z=A.next();I!==null&&!z.done;D++,z=A.next()){I.index>D?(q=I,I=null):q=I.sibling;var ne=w(k,I,z.value,U);if(ne===null){I===null&&(I=q);break}n&&I&&ne.alternate===null&&t(k,I),C=l(ne,C,D),R===null?M=ne:R.sibling=ne,R=ne,I=q}if(z.done)return e(k,I),ui&&Au(k,D),M;if(I===null){for(;!z.done;D++,z=A.next())z=E(k,z.value,U),z!==null&&(C=l(z,C,D),R===null?M=z:R.sibling=z,R=z);return ui&&Au(k,D),M}for(I=r(k,I);!z.done;D++,z=A.next())z=x(I,k,D,z.value,U),z!==null&&(n&&z.alternate!==null&&I.delete(z.key===null?D:z.key),C=l(z,C,D),R===null?M=z:R.sibling=z,R=z);return n&&I.forEach(function(fe){return t(k,fe)}),ui&&Au(k,D),M}function P(k,C,A,U){if(typeof A=="object"&&A!==null&&A.type===y0&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ug:e:{for(var M=A.key,R=C;R!==null;){if(R.key===M){if(M=A.type,M===y0){if(R.tag===7){e(k,R.sibling),C=a(R,A.props.children),C.return=k,k=C;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ad&&jR(M)===R.type){e(k,R.sibling),C=a(R,A.props),C.ref=kf(k,R,A),C.return=k,k=C;break e}e(k,R);break}else t(k,R);R=R.sibling}A.type===y0?(C=Yu(A.props.children,k.mode,U,A.key),C.return=k,k=C):(U=pb(A.type,A.key,A.props,null,k.mode,U),U.ref=kf(k,C,A),U.return=k,k=U)}return d(k);case b0:e:{for(R=A.key;C!==null;){if(C.key===R)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){e(k,C.sibling),C=a(C,A.children||[]),C.return=k,k=C;break e}else{e(k,C);break}else t(k,C);C=C.sibling}C=Rw(A,k.mode,U),C.return=k,k=C}return d(k);case ad:return R=A._init,P(k,C,R(A._payload),U)}if(zf(A))return T(k,C,A,U);if(wf(A))return N(k,C,A,U);wg(k,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,C!==null&&C.tag===6?(e(k,C.sibling),C=a(C,A),C.return=k,k=C):(e(k,C),C=Ow(A,k.mode,U),C.return=k,k=C),d(k)):e(k,C)}return P}var $0=ZU(!0),JU=ZU(!1),dm={},Ml=Bd(dm),G_=Bd(dm),q_=Bd(dm);function zu(n){if(n===dm)throw Error(Gn(174));return n}function ET(n,t){switch(Xr(q_,t),Xr(G_,n),Xr(Ml,dm),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qx(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=qx(t,n)}ti(Ml),Xr(Ml,t)}function W0(){ti(Ml),ti(G_),ti(q_)}function eP(n){zu(q_.current);var t=zu(Ml.current),e=qx(t,n.type);t!==e&&(Xr(G_,n),Xr(Ml,e))}function wT(n){G_.current===n&&(ti(Ml),ti(G_))}var _i=Bd(0);function Qb(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tw=[];function xT(){for(var n=0;n<Tw.length;n++)Tw[n]._workInProgressVersionPrimary=null;Tw.length=0}var lb=kc.ReactCurrentDispatcher,Cw=kc.ReactCurrentBatchConfig,ah=0,mi=null,Qi=null,na=null,Yb=!1,s_=!1,j_=0,Mse=0;function Ma(){throw Error(Gn(321))}function ST(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Zo(n[e],t[e]))return!1;return!0}function TT(n,t,e,r,a,l){if(ah=l,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lb.current=n===null||n.memoizedState===null?Pse:Fse,n=e(r,a),s_){l=0;do{if(s_=!1,j_=0,25<=l)throw Error(Gn(301));l+=1,na=Qi=null,t.updateQueue=null,lb.current=Hse,n=e(r,a)}while(s_)}if(lb.current=Xb,t=Qi!==null&&Qi.next!==null,ah=0,na=Qi=mi=null,Yb=!1,t)throw Error(Gn(300));return n}function CT(){var n=j_!==0;return j_=0,n}function El(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return na===null?mi.memoizedState=na=n:na=na.next=n,na}function xo(){if(Qi===null){var n=mi.alternate;n=n!==null?n.memoizedState:null}else n=Qi.next;var t=na===null?mi.memoizedState:na.next;if(t!==null)na=t,Qi=n;else{if(n===null)throw Error(Gn(310));Qi=n,n={memoizedState:Qi.memoizedState,baseState:Qi.baseState,baseQueue:Qi.baseQueue,queue:Qi.queue,next:null},na===null?mi.memoizedState=na=n:na=na.next=n}return na}function $_(n,t){return typeof t=="function"?t(n):t}function kw(n){var t=xo(),e=t.queue;if(e===null)throw Error(Gn(311));e.lastRenderedReducer=n;var r=Qi,a=r.baseQueue,l=e.pending;if(l!==null){if(a!==null){var d=a.next;a.next=l.next,l.next=d}r.baseQueue=a=l,e.pending=null}if(a!==null){l=a.next,r=r.baseState;var h=d=null,f=null,_=l;do{var g=_.lane;if((ah&g)===g)f!==null&&(f=f.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:n(r,_.action);else{var E={lane:g,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};f===null?(h=f=E,d=r):f=f.next=E,mi.lanes|=g,sh|=g}_=_.next}while(_!==null&&_!==l);f===null?d=r:f.next=h,Zo(r,t.memoizedState)||(gs=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=f,e.lastRenderedState=r}if(n=e.interleaved,n!==null){a=n;do l=a.lane,mi.lanes|=l,sh|=l,a=a.next;while(a!==n)}else a===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Iw(n){var t=xo(),e=t.queue;if(e===null)throw Error(Gn(311));e.lastRenderedReducer=n;var r=e.dispatch,a=e.pending,l=t.memoizedState;if(a!==null){e.pending=null;var d=a=a.next;do l=n(l,d.action),d=d.next;while(d!==a);Zo(l,t.memoizedState)||(gs=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),e.lastRenderedState=l}return[l,r]}function nP(){}function tP(n,t){var e=mi,r=xo(),a=t(),l=!Zo(r.memoizedState,a);if(l&&(r.memoizedState=a,gs=!0),r=r.queue,kT(aP.bind(null,e,r,n),[n]),r.getSnapshot!==t||l||na!==null&&na.memoizedState.tag&1){if(e.flags|=2048,W_(9,iP.bind(null,e,r,a,t),void 0,null),aa===null)throw Error(Gn(349));ah&30||rP(e,t,a)}return a}function rP(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=mi.updateQueue,t===null?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function iP(n,t,e,r){t.value=e,t.getSnapshot=r,sP(t)&&oP(n)}function aP(n,t,e){return e(function(){sP(t)&&oP(n)})}function sP(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Zo(n,e)}catch{return!0}}function oP(n){var t=Sc(n,1);t!==null&&Xo(t,n,1,-1)}function $R(n){var t=El();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:n},t.queue=n,n=n.dispatch=Use.bind(null,mi,n),[t.memoizedState,n]}function W_(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=mi.updateQueue,t===null?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function lP(){return xo().memoizedState}function cb(n,t,e,r){var a=El();mi.flags|=n,a.memoizedState=W_(1|t,e,void 0,r===void 0?null:r)}function P1(n,t,e,r){var a=xo();r=r===void 0?null:r;var l=void 0;if(Qi!==null){var d=Qi.memoizedState;if(l=d.destroy,r!==null&&ST(r,d.deps)){a.memoizedState=W_(t,e,l,r);return}}mi.flags|=n,a.memoizedState=W_(1|t,e,l,r)}function WR(n,t){return cb(8390656,8,n,t)}function kT(n,t){return P1(2048,8,n,t)}function cP(n,t){return P1(4,2,n,t)}function dP(n,t){return P1(4,4,n,t)}function uP(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function hP(n,t,e){return e=e!=null?e.concat([n]):null,P1(4,4,uP.bind(null,t,n),e)}function IT(){}function pP(n,t){var e=xo();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&ST(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function fP(n,t){var e=xo();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&ST(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function _P(n,t,e){return ah&21?(Zo(e,t)||(e=gU(),mi.lanes|=e,sh|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,gs=!0),n.memoizedState=e)}function Dse(n,t){var e=Hr;Hr=e!==0&&4>e?e:4,n(!0);var r=Cw.transition;Cw.transition={};try{n(!1),t()}finally{Hr=e,Cw.transition=r}}function mP(){return xo().memoizedState}function Lse(n,t,e){var r=xd(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},vP(n))gP(t,e);else if(e=KU(n,t,e,r),e!==null){var a=is();Xo(e,n,r,a),bP(e,t,r)}}function Use(n,t,e){var r=xd(n),a={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(vP(n))gP(t,a);else{var l=n.alternate;if(n.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,h=l(d,e);if(a.hasEagerState=!0,a.eagerState=h,Zo(h,d)){var f=t.interleaved;f===null?(a.next=a,bT(t)):(a.next=f.next,f.next=a),t.interleaved=a;return}}catch{}finally{}e=KU(n,t,a,r),e!==null&&(a=is(),Xo(e,n,r,a),bP(e,t,r))}}function vP(n){var t=n.alternate;return n===mi||t!==null&&t===mi}function gP(n,t){s_=Yb=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function bP(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,aT(n,e)}}var Xb={readContext:wo,useCallback:Ma,useContext:Ma,useEffect:Ma,useImperativeHandle:Ma,useInsertionEffect:Ma,useLayoutEffect:Ma,useMemo:Ma,useReducer:Ma,useRef:Ma,useState:Ma,useDebugValue:Ma,useDeferredValue:Ma,useTransition:Ma,useMutableSource:Ma,useSyncExternalStore:Ma,useId:Ma,unstable_isNewReconciler:!1},Pse={readContext:wo,useCallback:function(n,t){return El().memoizedState=[n,t===void 0?null:t],n},useContext:wo,useEffect:WR,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,cb(4194308,4,uP.bind(null,t,n),e)},useLayoutEffect:function(n,t){return cb(4194308,4,n,t)},useInsertionEffect:function(n,t){return cb(4,2,n,t)},useMemo:function(n,t){var e=El();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=El();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=Lse.bind(null,mi,n),[r.memoizedState,n]},useRef:function(n){var t=El();return n={current:n},t.memoizedState=n},useState:$R,useDebugValue:IT,useDeferredValue:function(n){return El().memoizedState=n},useTransition:function(){var n=$R(!1),t=n[0];return n=Dse.bind(null,n[1]),El().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=mi,a=El();if(ui){if(e===void 0)throw Error(Gn(407));e=e()}else{if(e=t(),aa===null)throw Error(Gn(349));ah&30||rP(r,t,e)}a.memoizedState=e;var l={value:e,getSnapshot:t};return a.queue=l,WR(aP.bind(null,r,l,n),[n]),r.flags|=2048,W_(9,iP.bind(null,r,l,e,t),void 0,null),e},useId:function(){var n=El(),t=aa.identifierPrefix;if(ui){var e=mc,r=_c;e=(r&~(1<<32-Yo(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=j_++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=Mse++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},Fse={readContext:wo,useCallback:pP,useContext:wo,useEffect:kT,useImperativeHandle:hP,useInsertionEffect:cP,useLayoutEffect:dP,useMemo:fP,useReducer:kw,useRef:lP,useState:function(){return kw($_)},useDebugValue:IT,useDeferredValue:function(n){var t=xo();return _P(t,Qi.memoizedState,n)},useTransition:function(){var n=kw($_)[0],t=xo().memoizedState;return[n,t]},useMutableSource:nP,useSyncExternalStore:tP,useId:mP,unstable_isNewReconciler:!1},Hse={readContext:wo,useCallback:pP,useContext:wo,useEffect:kT,useImperativeHandle:hP,useInsertionEffect:cP,useLayoutEffect:dP,useMemo:fP,useReducer:Iw,useRef:lP,useState:function(){return Iw($_)},useDebugValue:IT,useDeferredValue:function(n){var t=xo();return Qi===null?t.memoizedState=n:_P(t,Qi.memoizedState,n)},useTransition:function(){var n=Iw($_)[0],t=xo().memoizedState;return[n,t]},useMutableSource:nP,useSyncExternalStore:tP,useId:mP,unstable_isNewReconciler:!1};function K0(n,t){try{var e="",r=t;do e+=pae(r),r=r.return;while(r);var a=e}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:n,source:t,stack:a,digest:null}}function Nw(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function p4(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var Bse=typeof WeakMap=="function"?WeakMap:Map;function yP(n,t,e){e=bc(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){Jb||(Jb=!0,x4=r),p4(n,t)},e}function EP(n,t,e){e=bc(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;e.payload=function(){return r(a)},e.callback=function(){p4(n,t)}}var l=n.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){p4(n,t),typeof r!="function"&&(wd===null?wd=new Set([this]):wd.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),e}function KR(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new Bse;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(e)||(a.add(e),n=eoe.bind(null,n,t,e),t.then(n,n))}function QR(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function YR(n,t,e,r,a){return n.mode&1?(n.flags|=65536,n.lanes=a,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=bc(-1,1),t.tag=2,Ed(e,t,1))),e.lanes|=1),n)}var Vse=kc.ReactCurrentOwner,gs=!1;function es(n,t,e,r){t.child=n===null?JU(t,null,e,r):$0(t,n.child,e,r)}function XR(n,t,e,r,a){e=e.render;var l=t.ref;return H0(t,a),r=TT(n,t,e,r,l,a),e=CT(),n!==null&&!gs?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~a,Tc(n,t,a)):(ui&&e&&pT(t),t.flags|=1,es(n,t,r,a),t.child)}function ZR(n,t,e,r,a){if(n===null){var l=e.type;return typeof l=="function"&&!UT(l)&&l.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=l,wP(n,t,l,r,a)):(n=pb(e.type,null,r,t,t.mode,a),n.ref=t.ref,n.return=t,t.child=n)}if(l=n.child,!(n.lanes&a)){var d=l.memoizedProps;if(e=e.compare,e=e!==null?e:H_,e(d,r)&&n.ref===t.ref)return Tc(n,t,a)}return t.flags|=1,n=Sd(l,r),n.ref=t.ref,n.return=t,t.child=n}function wP(n,t,e,r,a){if(n!==null){var l=n.memoizedProps;if(H_(l,r)&&n.ref===t.ref)if(gs=!1,t.pendingProps=r=l,(n.lanes&a)!==0)n.flags&131072&&(gs=!0);else return t.lanes=n.lanes,Tc(n,t,a)}return f4(n,t,e,r,a)}function xP(n,t,e){var r=t.pendingProps,a=r.children,l=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xr(A0,Hs),Hs|=e;else{if(!(e&1073741824))return n=l!==null?l.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,Xr(A0,Hs),Hs|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:e,Xr(A0,Hs),Hs|=r}else l!==null?(r=l.baseLanes|e,t.memoizedState=null):r=e,Xr(A0,Hs),Hs|=r;return es(n,t,a,e),t.child}function SP(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function f4(n,t,e,r,a){var l=Es(e)?rh:Va.current;return l=q0(t,l),H0(t,a),e=TT(n,t,e,r,l,a),r=CT(),n!==null&&!gs?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~a,Tc(n,t,a)):(ui&&r&&pT(t),t.flags|=1,es(n,t,e,a),t.child)}function JR(n,t,e,r,a){if(Es(e)){var l=!0;Gb(t)}else l=!1;if(H0(t,a),t.stateNode===null)db(n,t),XU(t,e,r),h4(t,e,r,a),r=!0;else if(n===null){var d=t.stateNode,h=t.memoizedProps;d.props=h;var f=d.context,_=e.contextType;typeof _=="object"&&_!==null?_=wo(_):(_=Es(e)?rh:Va.current,_=q0(t,_));var g=e.getDerivedStateFromProps,E=typeof g=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==r||f!==_)&&qR(t,d,r,_),sd=!1;var w=t.memoizedState;d.state=w,Kb(t,r,d,a),f=t.memoizedState,h!==r||w!==f||ys.current||sd?(typeof g=="function"&&(u4(t,e,g,r),f=t.memoizedState),(h=sd||GR(t,e,h,r,w,f,_))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),d.props=r,d.state=f,d.context=_,r=h):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,QU(n,t),h=t.memoizedProps,_=t.type===t.elementType?h:Go(t.type,h),d.props=_,E=t.pendingProps,w=d.context,f=e.contextType,typeof f=="object"&&f!==null?f=wo(f):(f=Es(e)?rh:Va.current,f=q0(t,f));var x=e.getDerivedStateFromProps;(g=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==E||w!==f)&&qR(t,d,r,f),sd=!1,w=t.memoizedState,d.state=w,Kb(t,r,d,a);var T=t.memoizedState;h!==E||w!==T||ys.current||sd?(typeof x=="function"&&(u4(t,e,x,r),T=t.memoizedState),(_=sd||GR(t,e,_,r,w,T,f)||!1)?(g||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,T,f),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,T,f)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),d.props=r,d.state=T,d.context=f,r=_):(typeof d.componentDidUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=1024),r=!1)}return _4(n,t,e,r,l,a)}function _4(n,t,e,r,a,l){SP(n,t);var d=(t.flags&128)!==0;if(!r&&!d)return a&&FR(t,e,!1),Tc(n,t,l);r=t.stateNode,Vse.current=t;var h=d&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&d?(t.child=$0(t,n.child,null,l),t.child=$0(t,null,h,l)):es(n,t,h,l),t.memoizedState=r.state,a&&FR(t,e,!0),t.child}function TP(n){var t=n.stateNode;t.pendingContext?PR(n,t.pendingContext,t.pendingContext!==t.context):t.context&&PR(n,t.context,!1),ET(n,t.containerInfo)}function eM(n,t,e,r,a){return j0(),_T(a),t.flags|=256,es(n,t,e,r),t.child}var m4={dehydrated:null,treeContext:null,retryLane:0};function v4(n){return{baseLanes:n,cachePool:null,transitions:null}}function CP(n,t,e){var r=t.pendingProps,a=_i.current,l=!1,d=(t.flags&128)!==0,h;if((h=d)||(h=n!==null&&n.memoizedState===null?!1:(a&2)!==0),h?(l=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(a|=1),Xr(_i,a&1),n===null)return c4(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,n=r.fallback,l?(r=t.mode,l=t.child,d={mode:"hidden",children:d},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=B1(d,r,0,null),n=Yu(n,r,e,null),l.return=t,n.return=t,l.sibling=n,t.child=l,t.child.memoizedState=v4(e),t.memoizedState=m4,n):NT(t,d));if(a=n.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return zse(n,t,d,r,h,a,e);if(l){l=r.fallback,d=t.mode,a=n.child,h=a.sibling;var f={mode:"hidden",children:r.children};return!(d&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=Sd(a,f),r.subtreeFlags=a.subtreeFlags&14680064),h!==null?l=Sd(h,l):(l=Yu(l,d,e,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,d=n.child.memoizedState,d=d===null?v4(e):{baseLanes:d.baseLanes|e,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=n.childLanes&~e,t.memoizedState=m4,r}return l=n.child,n=l.sibling,r=Sd(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function NT(n,t){return t=B1({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function xg(n,t,e,r){return r!==null&&_T(r),$0(t,n.child,null,e),n=NT(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function zse(n,t,e,r,a,l,d){if(e)return t.flags&256?(t.flags&=-257,r=Nw(Error(Gn(422))),xg(n,t,d,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=B1({mode:"visible",children:r.children},a,0,null),l=Yu(l,a,d,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&$0(t,n.child,null,d),t.child.memoizedState=v4(d),t.memoizedState=m4,l);if(!(t.mode&1))return xg(n,t,d,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var h=r.dgst;return r=h,l=Error(Gn(419)),r=Nw(l,r,void 0),xg(n,t,d,r)}if(h=(d&n.childLanes)!==0,gs||h){if(r=aa,r!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|d)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Sc(n,a),Xo(r,n,a,-1))}return LT(),r=Nw(Error(Gn(421))),xg(n,t,d,r)}return a.data==="$?"?(t.flags|=128,t.child=n.child,t=noe.bind(null,n),a._reactRetry=t,null):(n=l.treeContext,qs=yd(a.nextSibling),$s=t,ui=!0,jo=null,n!==null&&(ho[po++]=_c,ho[po++]=mc,ho[po++]=ih,_c=n.id,mc=n.overflow,ih=t),t=NT(t,r.children),t.flags|=4096,t)}function nM(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),d4(n.return,t,e)}function Aw(n,t,e,r,a){var l=n.memoizedState;l===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=e,l.tailMode=a)}function kP(n,t,e){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(es(n,t,r.children,e),r=_i.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nM(n,e,t);else if(n.tag===19)nM(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Xr(_i,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(e=t.child,a=null;e!==null;)n=e.alternate,n!==null&&Qb(n)===null&&(a=e),e=e.sibling;e=a,e===null?(a=t.child,t.child=null):(a=e.sibling,e.sibling=null),Aw(t,!1,a,e,l);break;case"backwards":for(e=null,a=t.child,t.child=null;a!==null;){if(n=a.alternate,n!==null&&Qb(n)===null){t.child=a;break}n=a.sibling,a.sibling=e,e=a,a=n}Aw(t,!0,e,null,l);break;case"together":Aw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function db(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Tc(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),sh|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(Gn(153));if(t.child!==null){for(n=t.child,e=Sd(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Sd(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function Gse(n,t,e){switch(t.tag){case 3:TP(t),j0();break;case 5:eP(t);break;case 1:Es(t.type)&&Gb(t);break;case 4:ET(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Xr($b,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xr(_i,_i.current&1),t.flags|=128,null):e&t.child.childLanes?CP(n,t,e):(Xr(_i,_i.current&1),n=Tc(n,t,e),n!==null?n.sibling:null);Xr(_i,_i.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return kP(n,t,e);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Xr(_i,_i.current),r)break;return null;case 22:case 23:return t.lanes=0,xP(n,t,e)}return Tc(n,t,e)}var IP,g4,NP,AP;IP=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};g4=function(){};NP=function(n,t,e,r){var a=n.memoizedProps;if(a!==r){n=t.stateNode,zu(Ml.current);var l=null;switch(e){case"input":a=Bx(n,a),r=Bx(n,r),l=[];break;case"select":a=vi({},a,{value:void 0}),r=vi({},r,{value:void 0}),l=[];break;case"textarea":a=Gx(n,a),r=Gx(n,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Vb)}jx(e,r);var d;e=null;for(_ in a)if(!r.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var h=a[_];for(d in h)h.hasOwnProperty(d)&&(e||(e={}),e[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(R_.hasOwnProperty(_)?l||(l=[]):(l=l||[]).push(_,null));for(_ in r){var f=r[_];if(h=a!=null?a[_]:void 0,r.hasOwnProperty(_)&&f!==h&&(f!=null||h!=null))if(_==="style")if(h){for(d in h)!h.hasOwnProperty(d)||f&&f.hasOwnProperty(d)||(e||(e={}),e[d]="");for(d in f)f.hasOwnProperty(d)&&h[d]!==f[d]&&(e||(e={}),e[d]=f[d])}else e||(l||(l=[]),l.push(_,e)),e=f;else _==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(l=l||[]).push(_,f)):_==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(_,""+f):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(R_.hasOwnProperty(_)?(f!=null&&_==="onScroll"&&ei("scroll",n),l||h===f||(l=[])):(l=l||[]).push(_,f))}e&&(l=l||[]).push("style",e);var _=l;(t.updateQueue=_)&&(t.flags|=4)}};AP=function(n,t,e,r){e!==r&&(t.flags|=4)};function If(n,t){if(!ui)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Da(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var a=n.child;a!==null;)e|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=n,a=a.sibling;else for(a=n.child;a!==null;)e|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=n,a=a.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function qse(n,t,e){var r=t.pendingProps;switch(fT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Da(t),null;case 1:return Es(t.type)&&zb(),Da(t),null;case 3:return r=t.stateNode,W0(),ti(ys),ti(Va),xT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Eg(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jo!==null&&(C4(jo),jo=null))),g4(n,t),Da(t),null;case 5:wT(t);var a=zu(q_.current);if(e=t.type,n!==null&&t.stateNode!=null)NP(n,t,e,r,a),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Gn(166));return Da(t),null}if(n=zu(Ml.current),Eg(t)){r=t.stateNode,e=t.type;var l=t.memoizedProps;switch(r[kl]=t,r[z_]=l,n=(t.mode&1)!==0,e){case"dialog":ei("cancel",r),ei("close",r);break;case"iframe":case"object":case"embed":ei("load",r);break;case"video":case"audio":for(a=0;a<qf.length;a++)ei(qf[a],r);break;case"source":ei("error",r);break;case"img":case"image":case"link":ei("error",r),ei("load",r);break;case"details":ei("toggle",r);break;case"input":dR(r,l),ei("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ei("invalid",r);break;case"textarea":hR(r,l),ei("invalid",r)}jx(e,l),a=null;for(var d in l)if(l.hasOwnProperty(d)){var h=l[d];d==="children"?typeof h=="string"?r.textContent!==h&&(l.suppressHydrationWarning!==!0&&yg(r.textContent,h,n),a=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(l.suppressHydrationWarning!==!0&&yg(r.textContent,h,n),a=["children",""+h]):R_.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&ei("scroll",r)}switch(e){case"input":hg(r),uR(r,l,!0);break;case"textarea":hg(r),pR(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Vb)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=rU(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=d.createElement(e,{is:r.is}):(n=d.createElement(e),e==="select"&&(d=n,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):n=d.createElementNS(n,e),n[kl]=t,n[z_]=r,IP(n,t,!1,!1),t.stateNode=n;e:{switch(d=$x(e,r),e){case"dialog":ei("cancel",n),ei("close",n),a=r;break;case"iframe":case"object":case"embed":ei("load",n),a=r;break;case"video":case"audio":for(a=0;a<qf.length;a++)ei(qf[a],n);a=r;break;case"source":ei("error",n),a=r;break;case"img":case"image":case"link":ei("error",n),ei("load",n),a=r;break;case"details":ei("toggle",n),a=r;break;case"input":dR(n,r),a=Bx(n,r),ei("invalid",n);break;case"option":a=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},a=vi({},r,{value:void 0}),ei("invalid",n);break;case"textarea":hR(n,r),a=Gx(n,r),ei("invalid",n);break;default:a=r}jx(e,a),h=a;for(l in h)if(h.hasOwnProperty(l)){var f=h[l];l==="style"?sU(n,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&iU(n,f)):l==="children"?typeof f=="string"?(e!=="textarea"||f!=="")&&M_(n,f):typeof f=="number"&&M_(n,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(R_.hasOwnProperty(l)?f!=null&&l==="onScroll"&&ei("scroll",n):f!=null&&J6(n,l,f,d))}switch(e){case"input":hg(n),uR(n,r,!1);break;case"textarea":hg(n),pR(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Md(r.value));break;case"select":n.multiple=!!r.multiple,l=r.value,l!=null?L0(n,!!r.multiple,l,!1):r.defaultValue!=null&&L0(n,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=Vb)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Da(t),null;case 6:if(n&&t.stateNode!=null)AP(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Gn(166));if(e=zu(q_.current),zu(Ml.current),Eg(t)){if(r=t.stateNode,e=t.memoizedProps,r[kl]=t,(l=r.nodeValue!==e)&&(n=$s,n!==null))switch(n.tag){case 3:yg(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&yg(r.nodeValue,e,(n.mode&1)!==0)}l&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[kl]=t,t.stateNode=r}return Da(t),null;case 13:if(ti(_i),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ui&&qs!==null&&t.mode&1&&!(t.flags&128))WU(),j0(),t.flags|=98560,l=!1;else if(l=Eg(t),r!==null&&r.dehydrated!==null){if(n===null){if(!l)throw Error(Gn(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Gn(317));l[kl]=t}else j0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Da(t),l=!1}else jo!==null&&(C4(jo),jo=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||_i.current&1?Yi===0&&(Yi=3):LT())),t.updateQueue!==null&&(t.flags|=4),Da(t),null);case 4:return W0(),g4(n,t),n===null&&B_(t.stateNode.containerInfo),Da(t),null;case 10:return gT(t.type._context),Da(t),null;case 17:return Es(t.type)&&zb(),Da(t),null;case 19:if(ti(_i),l=t.memoizedState,l===null)return Da(t),null;if(r=(t.flags&128)!==0,d=l.rendering,d===null)if(r)If(l,!1);else{if(Yi!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(d=Qb(n),d!==null){for(t.flags|=128,If(l,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)l=e,n=r,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=n,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,n=d.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return Xr(_i,_i.current&1|2),t.child}n=n.sibling}l.tail!==null&&Mi()>Q0&&(t.flags|=128,r=!0,If(l,!1),t.lanes=4194304)}else{if(!r)if(n=Qb(d),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),If(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ui)return Da(t),null}else 2*Mi()-l.renderingStartTime>Q0&&e!==1073741824&&(t.flags|=128,r=!0,If(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Mi(),t.sibling=null,e=_i.current,Xr(_i,r?e&1|2:e&1),t):(Da(t),null);case 22:case 23:return DT(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Hs&1073741824&&(Da(t),t.subtreeFlags&6&&(t.flags|=8192)):Da(t),null;case 24:return null;case 25:return null}throw Error(Gn(156,t.tag))}function jse(n,t){switch(fT(t),t.tag){case 1:return Es(t.type)&&zb(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return W0(),ti(ys),ti(Va),xT(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return wT(t),null;case 13:if(ti(_i),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(Gn(340));j0()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return ti(_i),null;case 4:return W0(),null;case 10:return gT(t.type._context),null;case 22:case 23:return DT(),null;case 24:return null;default:return null}}var Sg=!1,Ba=!1,$se=typeof WeakSet=="function"?WeakSet:Set,ut=null;function N0(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){yi(n,t,r)}else e.current=null}function b4(n,t,e){try{e()}catch(r){yi(n,t,r)}}var tM=!1;function Wse(n,t){if(t4=Fb,n=DU(),hT(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{e.nodeType,l.nodeType}catch{e=null;break e}var d=0,h=-1,f=-1,_=0,g=0,E=n,w=null;n:for(;;){for(var x;E!==e||a!==0&&E.nodeType!==3||(h=d+a),E!==l||r!==0&&E.nodeType!==3||(f=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(x=E.firstChild)!==null;)w=E,E=x;for(;;){if(E===n)break n;if(w===e&&++_===a&&(h=d),w===l&&++g===r&&(f=d),(x=E.nextSibling)!==null)break;E=w,w=E.parentNode}E=x}e=h===-1||f===-1?null:{start:h,end:f}}else e=null}e=e||{start:0,end:0}}else e=null;for(r4={focusedElem:n,selectionRange:e},Fb=!1,ut=t;ut!==null;)if(t=ut,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,ut=n;else for(;ut!==null;){t=ut;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var N=T.memoizedProps,P=T.memoizedState,k=t.stateNode,C=k.getSnapshotBeforeUpdate(t.elementType===t.type?N:Go(t.type,N),P);k.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Gn(163))}}catch(U){yi(t,t.return,U)}if(n=t.sibling,n!==null){n.return=t.return,ut=n;break}ut=t.return}return T=tM,tM=!1,T}function o_(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var l=a.destroy;a.destroy=void 0,l!==void 0&&b4(t,e,l)}a=a.next}while(a!==r)}}function F1(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function y4(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function OP(n){var t=n.alternate;t!==null&&(n.alternate=null,OP(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[kl],delete t[z_],delete t[s4],delete t[Nse],delete t[Ase])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function RP(n){return n.tag===5||n.tag===3||n.tag===4}function rM(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||RP(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function E4(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Vb));else if(r!==4&&(n=n.child,n!==null))for(E4(n,t,e),n=n.sibling;n!==null;)E4(n,t,e),n=n.sibling}function w4(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(w4(n,t,e),n=n.sibling;n!==null;)w4(n,t,e),n=n.sibling}var va=null,qo=!1;function Zc(n,t,e){for(e=e.child;e!==null;)MP(n,t,e),e=e.sibling}function MP(n,t,e){if(Rl&&typeof Rl.onCommitFiberUnmount=="function")try{Rl.onCommitFiberUnmount(A1,e)}catch{}switch(e.tag){case 5:Ba||N0(e,t);case 6:var r=va,a=qo;va=null,Zc(n,t,e),va=r,qo=a,va!==null&&(qo?(n=va,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):va.removeChild(e.stateNode));break;case 18:va!==null&&(qo?(n=va,e=e.stateNode,n.nodeType===8?xw(n.parentNode,e):n.nodeType===1&&xw(n,e),P_(n)):xw(va,e.stateNode));break;case 4:r=va,a=qo,va=e.stateNode.containerInfo,qo=!0,Zc(n,t,e),va=r,qo=a;break;case 0:case 11:case 14:case 15:if(!Ba&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&b4(e,t,d),a=a.next}while(a!==r)}Zc(n,t,e);break;case 1:if(!Ba&&(N0(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(h){yi(e,t,h)}Zc(n,t,e);break;case 21:Zc(n,t,e);break;case 22:e.mode&1?(Ba=(r=Ba)||e.memoizedState!==null,Zc(n,t,e),Ba=r):Zc(n,t,e);break;default:Zc(n,t,e)}}function iM(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new $se),t.forEach(function(r){var a=toe.bind(null,n,r);e.has(r)||(e.add(r),r.then(a,a))})}}function Uo(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var a=e[r];try{var l=n,d=t,h=d;e:for(;h!==null;){switch(h.tag){case 5:va=h.stateNode,qo=!1;break e;case 3:va=h.stateNode.containerInfo,qo=!0;break e;case 4:va=h.stateNode.containerInfo,qo=!0;break e}h=h.return}if(va===null)throw Error(Gn(160));MP(l,d,a),va=null,qo=!1;var f=a.alternate;f!==null&&(f.return=null),a.return=null}catch(_){yi(a,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DP(t,n),t=t.sibling}function DP(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Uo(t,n),vl(n),r&4){try{o_(3,n,n.return),F1(3,n)}catch(N){yi(n,n.return,N)}try{o_(5,n,n.return)}catch(N){yi(n,n.return,N)}}break;case 1:Uo(t,n),vl(n),r&512&&e!==null&&N0(e,e.return);break;case 5:if(Uo(t,n),vl(n),r&512&&e!==null&&N0(e,e.return),n.flags&32){var a=n.stateNode;try{M_(a,"")}catch(N){yi(n,n.return,N)}}if(r&4&&(a=n.stateNode,a!=null)){var l=n.memoizedProps,d=e!==null?e.memoizedProps:l,h=n.type,f=n.updateQueue;if(n.updateQueue=null,f!==null)try{h==="input"&&l.type==="radio"&&l.name!=null&&nU(a,l),$x(h,d);var _=$x(h,l);for(d=0;d<f.length;d+=2){var g=f[d],E=f[d+1];g==="style"?sU(a,E):g==="dangerouslySetInnerHTML"?iU(a,E):g==="children"?M_(a,E):J6(a,g,E,_)}switch(h){case"input":Vx(a,l);break;case"textarea":tU(a,l);break;case"select":var w=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?L0(a,!!l.multiple,x,!1):w!==!!l.multiple&&(l.defaultValue!=null?L0(a,!!l.multiple,l.defaultValue,!0):L0(a,!!l.multiple,l.multiple?[]:"",!1))}a[z_]=l}catch(N){yi(n,n.return,N)}}break;case 6:if(Uo(t,n),vl(n),r&4){if(n.stateNode===null)throw Error(Gn(162));a=n.stateNode,l=n.memoizedProps;try{a.nodeValue=l}catch(N){yi(n,n.return,N)}}break;case 3:if(Uo(t,n),vl(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{P_(t.containerInfo)}catch(N){yi(n,n.return,N)}break;case 4:Uo(t,n),vl(n);break;case 13:Uo(t,n),vl(n),a=n.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(RT=Mi())),r&4&&iM(n);break;case 22:if(g=e!==null&&e.memoizedState!==null,n.mode&1?(Ba=(_=Ba)||g,Uo(t,n),Ba=_):Uo(t,n),vl(n),r&8192){if(_=n.memoizedState!==null,(n.stateNode.isHidden=_)&&!g&&n.mode&1)for(ut=n,g=n.child;g!==null;){for(E=ut=g;ut!==null;){switch(w=ut,x=w.child,w.tag){case 0:case 11:case 14:case 15:o_(4,w,w.return);break;case 1:N0(w,w.return);var T=w.stateNode;if(typeof T.componentWillUnmount=="function"){r=w,e=w.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(N){yi(r,e,N)}}break;case 5:N0(w,w.return);break;case 22:if(w.memoizedState!==null){sM(E);continue}}x!==null?(x.return=w,ut=x):sM(E)}g=g.sibling}e:for(g=null,E=n;;){if(E.tag===5){if(g===null){g=E;try{a=E.stateNode,_?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(h=E.stateNode,f=E.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=aU("display",d))}catch(N){yi(n,n.return,N)}}}else if(E.tag===6){if(g===null)try{E.stateNode.nodeValue=_?"":E.memoizedProps}catch(N){yi(n,n.return,N)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===n)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break e;for(;E.sibling===null;){if(E.return===null||E.return===n)break e;g===E&&(g=null),E=E.return}g===E&&(g=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:Uo(t,n),vl(n),r&4&&iM(n);break;case 21:break;default:Uo(t,n),vl(n)}}function vl(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if(RP(e)){var r=e;break e}e=e.return}throw Error(Gn(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(M_(a,""),r.flags&=-33);var l=rM(n);w4(n,l,a);break;case 3:case 4:var d=r.stateNode.containerInfo,h=rM(n);E4(n,h,d);break;default:throw Error(Gn(161))}}catch(f){yi(n,n.return,f)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function Kse(n,t,e){ut=n,LP(n)}function LP(n,t,e){for(var r=(n.mode&1)!==0;ut!==null;){var a=ut,l=a.child;if(a.tag===22&&r){var d=a.memoizedState!==null||Sg;if(!d){var h=a.alternate,f=h!==null&&h.memoizedState!==null||Ba;h=Sg;var _=Ba;if(Sg=d,(Ba=f)&&!_)for(ut=a;ut!==null;)d=ut,f=d.child,d.tag===22&&d.memoizedState!==null?oM(a):f!==null?(f.return=d,ut=f):oM(a);for(;l!==null;)ut=l,LP(l),l=l.sibling;ut=a,Sg=h,Ba=_}aM(n)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ut=l):aM(n)}}function aM(n){for(;ut!==null;){var t=ut;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ba||F1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ba)if(e===null)r.componentDidMount();else{var a=t.elementType===t.type?e.memoizedProps:Go(t.type,e.memoizedProps);r.componentDidUpdate(a,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&zR(t,l,r);break;case 3:var d=t.updateQueue;if(d!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}zR(t,d,e)}break;case 5:var h=t.stateNode;if(e===null&&t.flags&4){e=h;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&e.focus();break;case"img":f.src&&(e.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var g=_.memoizedState;if(g!==null){var E=g.dehydrated;E!==null&&P_(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Gn(163))}Ba||t.flags&512&&y4(t)}catch(w){yi(t,t.return,w)}}if(t===n){ut=null;break}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function sM(n){for(;ut!==null;){var t=ut;if(t===n){ut=null;break}var e=t.sibling;if(e!==null){e.return=t.return,ut=e;break}ut=t.return}}function oM(n){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{F1(4,t)}catch(f){yi(t,e,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(f){yi(t,a,f)}}var l=t.return;try{y4(t)}catch(f){yi(t,l,f)}break;case 5:var d=t.return;try{y4(t)}catch(f){yi(t,d,f)}}}catch(f){yi(t,t.return,f)}if(t===n){ut=null;break}var h=t.sibling;if(h!==null){h.return=t.return,ut=h;break}ut=t.return}}var Qse=Math.ceil,Zb=kc.ReactCurrentDispatcher,AT=kc.ReactCurrentOwner,yo=kc.ReactCurrentBatchConfig,gr=0,aa=null,Vi=null,wa=0,Hs=0,A0=Bd(0),Yi=0,K_=null,sh=0,H1=0,OT=0,l_=null,_s=null,RT=0,Q0=1/0,sc=null,Jb=!1,x4=null,wd=null,Tg=!1,pd=null,e1=0,c_=0,S4=null,ub=-1,hb=0;function is(){return gr&6?Mi():ub!==-1?ub:ub=Mi()}function xd(n){return n.mode&1?gr&2&&wa!==0?wa&-wa:Rse.transition!==null?(hb===0&&(hb=gU()),hb):(n=Hr,n!==0||(n=window.event,n=n===void 0?16:TU(n.type)),n):1}function Xo(n,t,e,r){if(50<c_)throw c_=0,S4=null,Error(Gn(185));om(n,e,r),(!(gr&2)||n!==aa)&&(n===aa&&(!(gr&2)&&(H1|=e),Yi===4&&cd(n,wa)),ws(n,r),e===1&&gr===0&&!(t.mode&1)&&(Q0=Mi()+500,L1&&Vd()))}function ws(n,t){var e=n.callbackNode;Rae(n,t);var r=Pb(n,n===aa?wa:0);if(r===0)e!==null&&mR(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&mR(e),t===1)n.tag===0?Ose(lM.bind(null,n)):qU(lM.bind(null,n)),kse(function(){!(gr&6)&&Vd()}),e=null;else{switch(bU(r)){case 1:e=iT;break;case 4:e=mU;break;case 16:e=Ub;break;case 536870912:e=vU;break;default:e=Ub}e=GP(e,UP.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function UP(n,t){if(ub=-1,hb=0,gr&6)throw Error(Gn(327));var e=n.callbackNode;if(B0()&&n.callbackNode!==e)return null;var r=Pb(n,n===aa?wa:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=n1(n,r);else{t=r;var a=gr;gr|=2;var l=FP();(aa!==n||wa!==t)&&(sc=null,Q0=Mi()+500,Qu(n,t));do try{Zse();break}catch(h){PP(n,h)}while(1);vT(),Zb.current=l,gr=a,Vi!==null?t=0:(aa=null,wa=0,t=Yi)}if(t!==0){if(t===2&&(a=Xx(n),a!==0&&(r=a,t=T4(n,a))),t===1)throw e=K_,Qu(n,0),cd(n,r),ws(n,Mi()),e;if(t===6)cd(n,r);else{if(a=n.current.alternate,!(r&30)&&!Yse(a)&&(t=n1(n,r),t===2&&(l=Xx(n),l!==0&&(r=l,t=T4(n,l))),t===1))throw e=K_,Qu(n,0),cd(n,r),ws(n,Mi()),e;switch(n.finishedWork=a,n.finishedLanes=r,t){case 0:case 1:throw Error(Gn(345));case 2:Ou(n,_s,sc);break;case 3:if(cd(n,r),(r&130023424)===r&&(t=RT+500-Mi(),10<t)){if(Pb(n,0)!==0)break;if(a=n.suspendedLanes,(a&r)!==r){is(),n.pingedLanes|=n.suspendedLanes&a;break}n.timeoutHandle=a4(Ou.bind(null,n,_s,sc),t);break}Ou(n,_s,sc);break;case 4:if(cd(n,r),(r&4194240)===r)break;for(t=n.eventTimes,a=-1;0<r;){var d=31-Yo(r);l=1<<d,d=t[d],d>a&&(a=d),r&=~l}if(r=a,r=Mi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qse(r/1960))-r,10<r){n.timeoutHandle=a4(Ou.bind(null,n,_s,sc),r);break}Ou(n,_s,sc);break;case 5:Ou(n,_s,sc);break;default:throw Error(Gn(329))}}}return ws(n,Mi()),n.callbackNode===e?UP.bind(null,n):null}function T4(n,t){var e=l_;return n.current.memoizedState.isDehydrated&&(Qu(n,t).flags|=256),n=n1(n,t),n!==2&&(t=_s,_s=e,t!==null&&C4(t)),n}function C4(n){_s===null?_s=n:_s.push.apply(_s,n)}function Yse(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var a=e[r],l=a.getSnapshot;a=a.value;try{if(!Zo(l(),a))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cd(n,t){for(t&=~OT,t&=~H1,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Yo(t),r=1<<e;n[e]=-1,t&=~r}}function lM(n){if(gr&6)throw Error(Gn(327));B0();var t=Pb(n,0);if(!(t&1))return ws(n,Mi()),null;var e=n1(n,t);if(n.tag!==0&&e===2){var r=Xx(n);r!==0&&(t=r,e=T4(n,r))}if(e===1)throw e=K_,Qu(n,0),cd(n,t),ws(n,Mi()),e;if(e===6)throw Error(Gn(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Ou(n,_s,sc),ws(n,Mi()),null}function MT(n,t){var e=gr;gr|=1;try{return n(t)}finally{gr=e,gr===0&&(Q0=Mi()+500,L1&&Vd())}}function oh(n){pd!==null&&pd.tag===0&&!(gr&6)&&B0();var t=gr;gr|=1;var e=yo.transition,r=Hr;try{if(yo.transition=null,Hr=1,n)return n()}finally{Hr=r,yo.transition=e,gr=t,!(gr&6)&&Vd()}}function DT(){Hs=A0.current,ti(A0)}function Qu(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,Cse(e)),Vi!==null)for(e=Vi.return;e!==null;){var r=e;switch(fT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zb();break;case 3:W0(),ti(ys),ti(Va),xT();break;case 5:wT(r);break;case 4:W0();break;case 13:ti(_i);break;case 19:ti(_i);break;case 10:gT(r.type._context);break;case 22:case 23:DT()}e=e.return}if(aa=n,Vi=n=Sd(n.current,null),wa=Hs=t,Yi=0,K_=null,OT=H1=sh=0,_s=l_=null,Vu!==null){for(t=0;t<Vu.length;t++)if(e=Vu[t],r=e.interleaved,r!==null){e.interleaved=null;var a=r.next,l=e.pending;if(l!==null){var d=l.next;l.next=a,r.next=d}e.pending=r}Vu=null}return n}function PP(n,t){do{var e=Vi;try{if(vT(),lb.current=Xb,Yb){for(var r=mi.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Yb=!1}if(ah=0,na=Qi=mi=null,s_=!1,j_=0,AT.current=null,e===null||e.return===null){Yi=1,K_=t,Vi=null;break}e:{var l=n,d=e.return,h=e,f=t;if(t=wa,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var _=f,g=h,E=g.tag;if(!(g.mode&1)&&(E===0||E===11||E===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var x=QR(d);if(x!==null){x.flags&=-257,YR(x,d,h,l,t),x.mode&1&&KR(l,_,t),t=x,f=_;var T=t.updateQueue;if(T===null){var N=new Set;N.add(f),t.updateQueue=N}else T.add(f);break e}else{if(!(t&1)){KR(l,_,t),LT();break e}f=Error(Gn(426))}}else if(ui&&h.mode&1){var P=QR(d);if(P!==null){!(P.flags&65536)&&(P.flags|=256),YR(P,d,h,l,t),_T(K0(f,h));break e}}l=f=K0(f,h),Yi!==4&&(Yi=2),l_===null?l_=[l]:l_.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var k=yP(l,f,t);VR(l,k);break e;case 1:h=f;var C=l.type,A=l.stateNode;if(!(l.flags&128)&&(typeof C.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(wd===null||!wd.has(A)))){l.flags|=65536,t&=-t,l.lanes|=t;var U=EP(l,h,t);VR(l,U);break e}}l=l.return}while(l!==null)}BP(e)}catch(M){t=M,Vi===e&&e!==null&&(Vi=e=e.return);continue}break}while(1)}function FP(){var n=Zb.current;return Zb.current=Xb,n===null?Xb:n}function LT(){(Yi===0||Yi===3||Yi===2)&&(Yi=4),aa===null||!(sh&268435455)&&!(H1&268435455)||cd(aa,wa)}function n1(n,t){var e=gr;gr|=2;var r=FP();(aa!==n||wa!==t)&&(sc=null,Qu(n,t));do try{Xse();break}catch(a){PP(n,a)}while(1);if(vT(),gr=e,Zb.current=r,Vi!==null)throw Error(Gn(261));return aa=null,wa=0,Yi}function Xse(){for(;Vi!==null;)HP(Vi)}function Zse(){for(;Vi!==null&&!xae();)HP(Vi)}function HP(n){var t=zP(n.alternate,n,Hs);n.memoizedProps=n.pendingProps,t===null?BP(n):Vi=t,AT.current=null}function BP(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=jse(e,t),e!==null){e.flags&=32767,Vi=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yi=6,Vi=null;return}}else if(e=qse(e,t,Hs),e!==null){Vi=e;return}if(t=t.sibling,t!==null){Vi=t;return}Vi=t=n}while(t!==null);Yi===0&&(Yi=5)}function Ou(n,t,e){var r=Hr,a=yo.transition;try{yo.transition=null,Hr=1,Jse(n,t,e,r)}finally{yo.transition=a,Hr=r}return null}function Jse(n,t,e,r){do B0();while(pd!==null);if(gr&6)throw Error(Gn(327));e=n.finishedWork;var a=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(Gn(177));n.callbackNode=null,n.callbackPriority=0;var l=e.lanes|e.childLanes;if(Mae(n,l),n===aa&&(Vi=aa=null,wa=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Tg||(Tg=!0,GP(Ub,function(){return B0(),null})),l=(e.flags&15990)!==0,e.subtreeFlags&15990||l){l=yo.transition,yo.transition=null;var d=Hr;Hr=1;var h=gr;gr|=4,AT.current=null,Wse(n,e),DP(e,n),bse(r4),Fb=!!t4,r4=t4=null,n.current=e,Kse(e),Sae(),gr=h,Hr=d,yo.transition=l}else n.current=e;if(Tg&&(Tg=!1,pd=n,e1=a),l=n.pendingLanes,l===0&&(wd=null),kae(e.stateNode),ws(n,Mi()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)a=t[e],r(a.value,{componentStack:a.stack,digest:a.digest});if(Jb)throw Jb=!1,n=x4,x4=null,n;return e1&1&&n.tag!==0&&B0(),l=n.pendingLanes,l&1?n===S4?c_++:(c_=0,S4=n):c_=0,Vd(),null}function B0(){if(pd!==null){var n=bU(e1),t=yo.transition,e=Hr;try{if(yo.transition=null,Hr=16>n?16:n,pd===null)var r=!1;else{if(n=pd,pd=null,e1=0,gr&6)throw Error(Gn(331));var a=gr;for(gr|=4,ut=n.current;ut!==null;){var l=ut,d=l.child;if(ut.flags&16){var h=l.deletions;if(h!==null){for(var f=0;f<h.length;f++){var _=h[f];for(ut=_;ut!==null;){var g=ut;switch(g.tag){case 0:case 11:case 15:o_(8,g,l)}var E=g.child;if(E!==null)E.return=g,ut=E;else for(;ut!==null;){g=ut;var w=g.sibling,x=g.return;if(OP(g),g===_){ut=null;break}if(w!==null){w.return=x,ut=w;break}ut=x}}}var T=l.alternate;if(T!==null){var N=T.child;if(N!==null){T.child=null;do{var P=N.sibling;N.sibling=null,N=P}while(N!==null)}}ut=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,ut=d;else e:for(;ut!==null;){if(l=ut,l.flags&2048)switch(l.tag){case 0:case 11:case 15:o_(9,l,l.return)}var k=l.sibling;if(k!==null){k.return=l.return,ut=k;break e}ut=l.return}}var C=n.current;for(ut=C;ut!==null;){d=ut;var A=d.child;if(d.subtreeFlags&2064&&A!==null)A.return=d,ut=A;else e:for(d=C;ut!==null;){if(h=ut,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:F1(9,h)}}catch(M){yi(h,h.return,M)}if(h===d){ut=null;break e}var U=h.sibling;if(U!==null){U.return=h.return,ut=U;break e}ut=h.return}}if(gr=a,Vd(),Rl&&typeof Rl.onPostCommitFiberRoot=="function")try{Rl.onPostCommitFiberRoot(A1,n)}catch{}r=!0}return r}finally{Hr=e,yo.transition=t}}return!1}function cM(n,t,e){t=K0(e,t),t=yP(n,t,1),n=Ed(n,t,1),t=is(),n!==null&&(om(n,1,t),ws(n,t))}function yi(n,t,e){if(n.tag===3)cM(n,n,e);else for(;t!==null;){if(t.tag===3){cM(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wd===null||!wd.has(r))){n=K0(e,n),n=EP(t,n,1),t=Ed(t,n,1),n=is(),t!==null&&(om(t,1,n),ws(t,n));break}}t=t.return}}function eoe(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=is(),n.pingedLanes|=n.suspendedLanes&e,aa===n&&(wa&e)===e&&(Yi===4||Yi===3&&(wa&130023424)===wa&&500>Mi()-RT?Qu(n,0):OT|=e),ws(n,t)}function VP(n,t){t===0&&(n.mode&1?(t=_g,_g<<=1,!(_g&130023424)&&(_g=4194304)):t=1);var e=is();n=Sc(n,t),n!==null&&(om(n,t,e),ws(n,e))}function noe(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),VP(n,e)}function toe(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,a=n.memoizedState;a!==null&&(e=a.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Gn(314))}r!==null&&r.delete(t),VP(n,e)}var zP;zP=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||ys.current)gs=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return gs=!1,Gse(n,t,e);gs=!!(n.flags&131072)}else gs=!1,ui&&t.flags&1048576&&jU(t,jb,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;db(n,t),n=t.pendingProps;var a=q0(t,Va.current);H0(t,e),a=TT(null,t,r,n,a,e);var l=CT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Es(r)?(l=!0,Gb(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,yT(t),a.updater=U1,t.stateNode=a,a._reactInternals=t,h4(t,r,n,e),t=_4(null,t,r,!0,l,e)):(t.tag=0,ui&&l&&pT(t),es(null,t,a,e),t=t.child),t;case 16:r=t.elementType;e:{switch(db(n,t),n=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=ioe(r),n=Go(r,n),a){case 0:t=f4(null,t,r,n,e);break e;case 1:t=JR(null,t,r,n,e);break e;case 11:t=XR(null,t,r,n,e);break e;case 14:t=ZR(null,t,r,Go(r.type,n),e);break e}throw Error(Gn(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Go(r,a),f4(n,t,r,a,e);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Go(r,a),JR(n,t,r,a,e);case 3:e:{if(TP(t),n===null)throw Error(Gn(387));r=t.pendingProps,l=t.memoizedState,a=l.element,QU(n,t),Kb(t,r,null,e);var d=t.memoizedState;if(r=d.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=K0(Error(Gn(423)),t),t=eM(n,t,r,e,a);break e}else if(r!==a){a=K0(Error(Gn(424)),t),t=eM(n,t,r,e,a);break e}else for(qs=yd(t.stateNode.containerInfo.firstChild),$s=t,ui=!0,jo=null,e=JU(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(j0(),r===a){t=Tc(n,t,e);break e}es(n,t,r,e)}t=t.child}return t;case 5:return eP(t),n===null&&c4(t),r=t.type,a=t.pendingProps,l=n!==null?n.memoizedProps:null,d=a.children,i4(r,a)?d=null:l!==null&&i4(r,l)&&(t.flags|=32),SP(n,t),es(n,t,d,e),t.child;case 6:return n===null&&c4(t),null;case 13:return CP(n,t,e);case 4:return ET(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=$0(t,null,r,e):es(n,t,r,e),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Go(r,a),XR(n,t,r,a,e);case 7:return es(n,t,t.pendingProps,e),t.child;case 8:return es(n,t,t.pendingProps.children,e),t.child;case 12:return es(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,d=a.value,Xr($b,r._currentValue),r._currentValue=d,l!==null)if(Zo(l.value,d)){if(l.children===a.children&&!ys.current){t=Tc(n,t,e);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var h=l.dependencies;if(h!==null){d=l.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(l.tag===1){f=bc(-1,e&-e),f.tag=2;var _=l.updateQueue;if(_!==null){_=_.shared;var g=_.pending;g===null?f.next=f:(f.next=g.next,g.next=f),_.pending=f}}l.lanes|=e,f=l.alternate,f!==null&&(f.lanes|=e),d4(l.return,e,t),h.lanes|=e;break}f=f.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(Gn(341));d.lanes|=e,h=d.alternate,h!==null&&(h.lanes|=e),d4(d,e,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}es(n,t,a.children,e),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,H0(t,e),a=wo(a),r=r(a),t.flags|=1,es(n,t,r,e),t.child;case 14:return r=t.type,a=Go(r,t.pendingProps),a=Go(r.type,a),ZR(n,t,r,a,e);case 15:return wP(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Go(r,a),db(n,t),t.tag=1,Es(r)?(n=!0,Gb(t)):n=!1,H0(t,e),XU(t,r,a),h4(t,r,a,e),_4(null,t,r,!0,n,e);case 19:return kP(n,t,e);case 22:return xP(n,t,e)}throw Error(Gn(156,t.tag))};function GP(n,t){return _U(n,t)}function roe(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vo(n,t,e,r){return new roe(n,t,e,r)}function UT(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ioe(n){if(typeof n=="function")return UT(n)?1:0;if(n!=null){if(n=n.$$typeof,n===nT)return 11;if(n===tT)return 14}return 2}function Sd(n,t){var e=n.alternate;return e===null?(e=vo(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function pb(n,t,e,r,a,l){var d=2;if(r=n,typeof n=="function")UT(n)&&(d=1);else if(typeof n=="string")d=5;else e:switch(n){case y0:return Yu(e.children,a,l,t);case eT:d=8,a|=8;break;case Ux:return n=vo(12,e,t,a|2),n.elementType=Ux,n.lanes=l,n;case Px:return n=vo(13,e,t,a),n.elementType=Px,n.lanes=l,n;case Fx:return n=vo(19,e,t,a),n.elementType=Fx,n.lanes=l,n;case ZL:return B1(e,a,l,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case YL:d=10;break e;case XL:d=9;break e;case nT:d=11;break e;case tT:d=14;break e;case ad:d=16,r=null;break e}throw Error(Gn(130,n==null?n:typeof n,""))}return t=vo(d,e,t,a),t.elementType=n,t.type=r,t.lanes=l,t}function Yu(n,t,e,r){return n=vo(7,n,r,t),n.lanes=e,n}function B1(n,t,e,r){return n=vo(22,n,r,t),n.elementType=ZL,n.lanes=e,n.stateNode={isHidden:!1},n}function Ow(n,t,e){return n=vo(6,n,null,t),n.lanes=e,n}function Rw(n,t,e){return t=vo(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function aoe(n,t,e,r,a){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hw(0),this.expirationTimes=hw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hw(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function PT(n,t,e,r,a,l,d,h,f){return n=new aoe(n,t,e,h,f),t===1?(t=1,l===!0&&(t|=8)):t=0,l=vo(3,null,null,t),n.current=l,l.stateNode=n,l.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},yT(l),n}function soe(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b0,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function qP(n){if(!n)return Dd;n=n._reactInternals;e:{if(_h(n)!==n||n.tag!==1)throw Error(Gn(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Es(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Gn(171))}if(n.tag===1){var e=n.type;if(Es(e))return GU(n,e,t)}return t}function jP(n,t,e,r,a,l,d,h,f){return n=PT(e,r,!0,n,a,l,d,h,f),n.context=qP(null),e=n.current,r=is(),a=xd(e),l=bc(r,a),l.callback=t??null,Ed(e,l,a),n.current.lanes=a,om(n,a,r),ws(n,r),n}function V1(n,t,e,r){var a=t.current,l=is(),d=xd(a);return e=qP(e),t.context===null?t.context=e:t.pendingContext=e,t=bc(l,d),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=Ed(a,t,d),n!==null&&(Xo(n,a,d,l),ob(n,a,d)),d}function t1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function dM(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function FT(n,t){dM(n,t),(n=n.alternate)&&dM(n,t)}function ooe(){return null}var $P=typeof reportError=="function"?reportError:function(n){console.error(n)};function HT(n){this._internalRoot=n}z1.prototype.render=HT.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(Gn(409));V1(n,t,null,null)};z1.prototype.unmount=HT.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;oh(function(){V1(null,n,null,null)}),t[xc]=null}};function z1(n){this._internalRoot=n}z1.prototype.unstable_scheduleHydration=function(n){if(n){var t=wU();n={blockedOn:null,target:n,priority:t};for(var e=0;e<ld.length&&t!==0&&t<ld[e].priority;e++);ld.splice(e,0,n),e===0&&SU(n)}};function BT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function G1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function uM(){}function loe(n,t,e,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var _=t1(d);l.call(_)}}var d=jP(t,r,n,0,null,!1,!1,"",uM);return n._reactRootContainer=d,n[xc]=d.current,B_(n.nodeType===8?n.parentNode:n),oh(),d}for(;a=n.lastChild;)n.removeChild(a);if(typeof r=="function"){var h=r;r=function(){var _=t1(f);h.call(_)}}var f=PT(n,0,!1,null,null,!1,!1,"",uM);return n._reactRootContainer=f,n[xc]=f.current,B_(n.nodeType===8?n.parentNode:n),oh(function(){V1(t,f,e,r)}),f}function q1(n,t,e,r,a){var l=e._reactRootContainer;if(l){var d=l;if(typeof a=="function"){var h=a;a=function(){var f=t1(d);h.call(f)}}V1(t,d,n,a)}else d=loe(e,t,n,a,r);return t1(d)}yU=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Gf(t.pendingLanes);e!==0&&(aT(t,e|1),ws(t,Mi()),!(gr&6)&&(Q0=Mi()+500,Vd()))}break;case 13:oh(function(){var r=Sc(n,1);if(r!==null){var a=is();Xo(r,n,1,a)}}),FT(n,1)}};sT=function(n){if(n.tag===13){var t=Sc(n,134217728);if(t!==null){var e=is();Xo(t,n,134217728,e)}FT(n,134217728)}};EU=function(n){if(n.tag===13){var t=xd(n),e=Sc(n,t);if(e!==null){var r=is();Xo(e,n,t,r)}FT(n,t)}};wU=function(){return Hr};xU=function(n,t){var e=Hr;try{return Hr=n,t()}finally{Hr=e}};Kx=function(n,t,e){switch(t){case"input":if(Vx(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var a=D1(r);if(!a)throw Error(Gn(90));eU(r),Vx(r,a)}}}break;case"textarea":tU(n,e);break;case"select":t=e.value,t!=null&&L0(n,!!e.multiple,t,!1)}};cU=MT;dU=oh;var coe={usingClientEntryPoint:!1,Events:[cm,S0,D1,oU,lU,MT]},Nf={findFiberByHostInstance:Bu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},doe={bundleType:Nf.bundleType,version:Nf.version,rendererPackageName:Nf.rendererPackageName,rendererConfig:Nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=pU(n),n===null?null:n.stateNode},findFiberByHostInstance:Nf.findFiberByHostInstance||ooe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{A1=Cg.inject(doe),Rl=Cg}catch{}}Qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=coe;Qs.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BT(t))throw Error(Gn(200));return soe(n,t,null,e)};Qs.createRoot=function(n,t){if(!BT(n))throw Error(Gn(299));var e=!1,r="",a=$P;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=PT(n,1,!1,null,null,e,!1,r,a),n[xc]=t.current,B_(n.nodeType===8?n.parentNode:n),new HT(t)};Qs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(Gn(188)):(n=Object.keys(n).join(","),Error(Gn(268,n)));return n=pU(t),n=n===null?null:n.stateNode,n};Qs.flushSync=function(n){return oh(n)};Qs.hydrate=function(n,t,e){if(!G1(t))throw Error(Gn(200));return q1(null,n,t,!0,e)};Qs.hydrateRoot=function(n,t,e){if(!BT(n))throw Error(Gn(405));var r=e!=null&&e.hydratedSources||null,a=!1,l="",d=$P;if(e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onRecoverableError!==void 0&&(d=e.onRecoverableError)),t=jP(t,null,n,1,e??null,a,!1,l,d),n[xc]=t.current,B_(n),r)for(n=0;n<r.length;n++)e=r[n],a=e._getVersion,a=a(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,a]:t.mutableSourceEagerHydrationData.push(e,a);return new z1(t)};Qs.render=function(n,t,e){if(!G1(t))throw Error(Gn(200));return q1(null,n,t,!1,e)};Qs.unmountComponentAtNode=function(n){if(!G1(n))throw Error(Gn(40));return n._reactRootContainer?(oh(function(){q1(null,null,n,!1,function(){n._reactRootContainer=null,n[xc]=null})}),!0):!1};Qs.unstable_batchedUpdates=MT;Qs.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!G1(e))throw Error(Gn(200));if(n==null||n._reactInternals===void 0)throw Error(Gn(38));return q1(n,t,e,!1,r)};Qs.version="18.2.0-next-9e3b772b8-20220608";function WP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WP)}catch(n){console.error(n)}}WP(),jL.exports=Qs;var um=jL.exports,hM=um;Dx.createRoot=hM.createRoot,Dx.hydrateRoot=hM.hydrateRoot;function Mw(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.addEventListener&&n.addEventListener.apply(n,t)}function Dw(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.removeEventListener&&n.removeEventListener.apply(n,t)}var KP=typeof window<"u",pM=function(n){var t=window.history,e=t[n];t[n]=function(r){var a=e.apply(this,arguments),l=new Event(n.toLowerCase());return l.state=r,window.dispatchEvent(l),a}};KP&&(pM("pushState"),pM("replaceState"));var uoe=function(){return{trigger:"load",length:1}},kg=function(n){var t=window.history,e=t.state,r=t.length,a=window.location,l=a.hash,d=a.host,h=a.hostname,f=a.href,_=a.origin,g=a.pathname,E=a.port,w=a.protocol,x=a.search;return{trigger:n,state:e,length:r,hash:l,host:d,hostname:h,href:f,origin:_,pathname:g,port:E,protocol:w,search:x}},hoe=function(){var n=W.useState(kg("load")),t=n[0],e=n[1];return W.useEffect(function(){var r=function(){return e(kg("popstate"))},a=function(){return e(kg("pushstate"))},l=function(){return e(kg("replacestate"))};return Mw(window,"popstate",r),Mw(window,"pushstate",a),Mw(window,"replacestate",l),function(){Dw(window,"popstate",r),Dw(window,"pushstate",a),Dw(window,"replacestate",l)}},[]),t},poe=typeof Event=="function";const foe=KP&&poe?hoe:uoe;function QP(n,t){return t.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if(r!=="default"&&!(r in n)){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(n)}var Td=function(){return Td=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},Td.apply(this,arguments)};function Ta(n,t,e,r){function a(l){return l instanceof e?l:new e(function(d){d(l)})}return new(e||(e=Promise))(function(l,d){function h(g){try{_(r.next(g))}catch(E){d(E)}}function f(g){try{_(r.throw(g))}catch(E){d(E)}}function _(g){g.done?l(g.value):a(g.value).then(h,f)}_((r=r.apply(n,t||[])).next())})}function Ca(n,t){var e={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(_){return function(g){return f([_,g])}}function f(_){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,a&&(l=_[0]&2?a.return:_[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,_[1])).done)return l;switch(a=0,l&&(_=[_[0]&2,l.value]),_[0]){case 0:case 1:l=_;break;case 4:return e.label++,{value:_[1],done:!1};case 5:e.label++,a=_[1],_=[0];continue;case 7:_=e.ops.pop(),e.trys.pop();continue;default:if(l=e.trys,!(l=l.length>0&&l[l.length-1])&&(_[0]===6||_[0]===2)){e=0;continue}if(_[0]===3&&(!l||_[1]>l[0]&&_[1]<l[3])){e.label=_[1];break}if(_[0]===6&&e.label<l[1]){e.label=l[1],l=_;break}if(l&&e.label<l[2]){e.label=l[2],e.ops.push(_);break}l[2]&&e.ops.pop(),e.trys.pop();continue}_=t.call(n,e)}catch(g){_=[6,g],a=0}finally{r=l=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}function bs(n,t,e){if(e||arguments.length===2)for(var r=0,a=t.length,l;r<a;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return n.concat(l||Array.prototype.slice.call(t))}var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zr={exports:{}};(function(n,t){(function(e,r){r(t)})(dd,function(e){function r(s,o){return o.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(c){if(c!=="default"&&!(c in s)){var u=Object.getOwnPropertyDescriptor(i,c);Object.defineProperty(s,c,u.get?u:{enumerable:!0,get:function(){return i[c]}})}})}),Object.freeze(s)}function a(s,o){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);o&&(c=c.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,c)}return i}function l(s){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?a(Object(i),!0).forEach(function(c){x(s,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(i,c))})}return s}function d(){d=function(){return s};var s={},o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(xn,wn,$n){xn[wn]=$n.value},u=typeof Symbol=="function"?Symbol:{},p=u.iterator||"@@iterator",m=u.asyncIterator||"@@asyncIterator",v=u.toStringTag||"@@toStringTag";function b(xn,wn,$n){return Object.defineProperty(xn,wn,{value:$n,enumerable:!0,configurable:!0,writable:!0}),xn[wn]}try{b({},"")}catch{b=function(wn,$n,xt){return wn[$n]=xt}}function y(xn,wn,$n,xt){var mt=wn&&wn.prototype instanceof V?wn:V,Gt=Object.create(mt.prototype),Vr=new We(xt||[]);return c(Gt,"_invoke",{value:Ee(xn,$n,Vr)}),Gt}function S(xn,wn,$n){try{return{type:"normal",arg:xn.call(wn,$n)}}catch(xt){return{type:"throw",arg:xt}}}s.wrap=y;var O={};function V(){}function $(){}function te(){}var J={};b(J,p,function(){return this});var oe=Object.getPrototypeOf,xe=oe&&oe(oe(In([])));xe&&xe!==o&&i.call(xe,p)&&(J=xe);var Ie=te.prototype=V.prototype=Object.create(J);function Ue(xn){["next","throw","return"].forEach(function(wn){b(xn,wn,function($n){return this._invoke(wn,$n)})})}function He(xn,wn){function $n(mt,Gt,Vr,Ra){var vr=S(xn[mt],xn,Gt);if(vr.type!=="throw"){var Lo=vr.arg,nc=Lo.value;return nc&&typeof nc=="object"&&i.call(nc,"__await")?wn.resolve(nc.__await).then(function(ml){$n("next",ml,Vr,Ra)},function(ml){$n("throw",ml,Vr,Ra)}):wn.resolve(nc).then(function(ml){Lo.value=ml,Vr(Lo)},function(ml){return $n("throw",ml,Vr,Ra)})}Ra(vr.arg)}var xt;c(this,"_invoke",{value:function(mt,Gt){function Vr(){return new wn(function(Ra,vr){$n(mt,Gt,Ra,vr)})}return xt=xt?xt.then(Vr,Vr):Vr()}})}function Ee(xn,wn,$n){var xt="suspendedStart";return function(mt,Gt){if(xt==="executing")throw new Error("Generator is already running");if(xt==="completed"){if(mt==="throw")throw Gt;return yt()}for($n.method=mt,$n.arg=Gt;;){var Vr=$n.delegate;if(Vr){var Ra=we(Vr,$n);if(Ra){if(Ra===O)continue;return Ra}}if($n.method==="next")$n.sent=$n._sent=$n.arg;else if($n.method==="throw"){if(xt==="suspendedStart")throw xt="completed",$n.arg;$n.dispatchException($n.arg)}else $n.method==="return"&&$n.abrupt("return",$n.arg);xt="executing";var vr=S(xn,wn,$n);if(vr.type==="normal"){if(xt=$n.done?"completed":"suspendedYield",vr.arg===O)continue;return{value:vr.arg,done:$n.done}}vr.type==="throw"&&(xt="completed",$n.method="throw",$n.arg=vr.arg)}}}function we(xn,wn){var $n=wn.method,xt=xn.iterator[$n];if(xt===void 0)return wn.delegate=null,$n==="throw"&&xn.iterator.return&&(wn.method="return",wn.arg=void 0,we(xn,wn),wn.method==="throw")||$n!=="return"&&(wn.method="throw",wn.arg=new TypeError("The iterator does not provide a '"+$n+"' method")),O;var mt=S(xt,xn.iterator,wn.arg);if(mt.type==="throw")return wn.method="throw",wn.arg=mt.arg,wn.delegate=null,O;var Gt=mt.arg;return Gt?Gt.done?(wn[xn.resultName]=Gt.value,wn.next=xn.nextLoc,wn.method!=="return"&&(wn.method="next",wn.arg=void 0),wn.delegate=null,O):Gt:(wn.method="throw",wn.arg=new TypeError("iterator result is not an object"),wn.delegate=null,O)}function nn(xn){var wn={tryLoc:xn[0]};1 in xn&&(wn.catchLoc=xn[1]),2 in xn&&(wn.finallyLoc=xn[2],wn.afterLoc=xn[3]),this.tryEntries.push(wn)}function Xe(xn){var wn=xn.completion||{};wn.type="normal",delete wn.arg,xn.completion=wn}function We(xn){this.tryEntries=[{tryLoc:"root"}],xn.forEach(nn,this),this.reset(!0)}function In(xn){if(xn){var wn=xn[p];if(wn)return wn.call(xn);if(typeof xn.next=="function")return xn;if(!isNaN(xn.length)){var $n=-1,xt=function mt(){for(;++$n<xn.length;)if(i.call(xn,$n))return mt.value=xn[$n],mt.done=!1,mt;return mt.value=void 0,mt.done=!0,mt};return xt.next=xt}}return{next:yt}}function yt(){return{value:void 0,done:!0}}return $.prototype=te,c(Ie,"constructor",{value:te,configurable:!0}),c(te,"constructor",{value:$,configurable:!0}),$.displayName=b(te,v,"GeneratorFunction"),s.isGeneratorFunction=function(xn){var wn=typeof xn=="function"&&xn.constructor;return!!wn&&(wn===$||(wn.displayName||wn.name)==="GeneratorFunction")},s.mark=function(xn){return Object.setPrototypeOf?Object.setPrototypeOf(xn,te):(xn.__proto__=te,b(xn,v,"GeneratorFunction")),xn.prototype=Object.create(Ie),xn},s.awrap=function(xn){return{__await:xn}},Ue(He.prototype),b(He.prototype,m,function(){return this}),s.AsyncIterator=He,s.async=function(xn,wn,$n,xt,mt){mt===void 0&&(mt=Promise);var Gt=new He(y(xn,wn,$n,xt),mt);return s.isGeneratorFunction(wn)?Gt:Gt.next().then(function(Vr){return Vr.done?Vr.value:Gt.next()})},Ue(Ie),b(Ie,v,"Generator"),b(Ie,p,function(){return this}),b(Ie,"toString",function(){return"[object Generator]"}),s.keys=function(xn){var wn=Object(xn),$n=[];for(var xt in wn)$n.push(xt);return $n.reverse(),function mt(){for(;$n.length;){var Gt=$n.pop();if(Gt in wn)return mt.value=Gt,mt.done=!1,mt}return mt.done=!0,mt}},s.values=In,We.prototype={constructor:We,reset:function(xn){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Xe),!xn)for(var wn in this)wn.charAt(0)==="t"&&i.call(this,wn)&&!isNaN(+wn.slice(1))&&(this[wn]=void 0)},stop:function(){this.done=!0;var xn=this.tryEntries[0].completion;if(xn.type==="throw")throw xn.arg;return this.rval},dispatchException:function(xn){if(this.done)throw xn;var wn=this;function $n(vr,Lo){return Gt.type="throw",Gt.arg=xn,wn.next=vr,Lo&&(wn.method="next",wn.arg=void 0),!!Lo}for(var xt=this.tryEntries.length-1;xt>=0;--xt){var mt=this.tryEntries[xt],Gt=mt.completion;if(mt.tryLoc==="root")return $n("end");if(mt.tryLoc<=this.prev){var Vr=i.call(mt,"catchLoc"),Ra=i.call(mt,"finallyLoc");if(Vr&&Ra){if(this.prev<mt.catchLoc)return $n(mt.catchLoc,!0);if(this.prev<mt.finallyLoc)return $n(mt.finallyLoc)}else if(Vr){if(this.prev<mt.catchLoc)return $n(mt.catchLoc,!0)}else{if(!Ra)throw new Error("try statement without catch or finally");if(this.prev<mt.finallyLoc)return $n(mt.finallyLoc)}}}},abrupt:function(xn,wn){for(var $n=this.tryEntries.length-1;$n>=0;--$n){var xt=this.tryEntries[$n];if(xt.tryLoc<=this.prev&&i.call(xt,"finallyLoc")&&this.prev<xt.finallyLoc){var mt=xt;break}}mt&&(xn==="break"||xn==="continue")&&mt.tryLoc<=wn&&wn<=mt.finallyLoc&&(mt=null);var Gt=mt?mt.completion:{};return Gt.type=xn,Gt.arg=wn,mt?(this.method="next",this.next=mt.finallyLoc,O):this.complete(Gt)},complete:function(xn,wn){if(xn.type==="throw")throw xn.arg;return xn.type==="break"||xn.type==="continue"?this.next=xn.arg:xn.type==="return"?(this.rval=this.arg=xn.arg,this.method="return",this.next="end"):xn.type==="normal"&&wn&&(this.next=wn),O},finish:function(xn){for(var wn=this.tryEntries.length-1;wn>=0;--wn){var $n=this.tryEntries[wn];if($n.finallyLoc===xn)return this.complete($n.completion,$n.afterLoc),Xe($n),O}},catch:function(xn){for(var wn=this.tryEntries.length-1;wn>=0;--wn){var $n=this.tryEntries[wn];if($n.tryLoc===xn){var xt=$n.completion;if(xt.type==="throw"){var mt=xt.arg;Xe($n)}return mt}}throw new Error("illegal catch attempt")},delegateYield:function(xn,wn,$n){return this.delegate={iterator:In(xn),resultName:wn,nextLoc:$n},this.method==="next"&&(this.arg=void 0),O}},s}function h(s){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},h(s)}function f(s,o,i,c,u,p,m){try{var v=s[p](m),b=v.value}catch(y){return void i(y)}v.done?o(b):Promise.resolve(b).then(c,u)}function _(s){return function(){var o=this,i=arguments;return new Promise(function(c,u){var p=s.apply(o,i);function m(b){f(p,c,u,m,v,"next",b)}function v(b){f(p,c,u,m,v,"throw",b)}m(void 0)})}}function g(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function E(s,o){for(var i=0;i<o.length;i++){var c=o[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,ne(c.key),c)}}function w(s,o,i){return o&&E(s.prototype,o),i&&E(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}function x(s,o,i){return(o=ne(o))in s?Object.defineProperty(s,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[o]=i,s}function T(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&P(s,o)}function N(s){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},N(s)}function P(s,o){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},P(s,o)}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(s,o,i){return C=k()?Reflect.construct.bind():function(c,u,p){var m=[null];m.push.apply(m,u);var v=new(Function.bind.apply(c,m));return p&&P(v,p.prototype),v},C.apply(null,arguments)}function A(s){var o=typeof Map=="function"?new Map:void 0;return A=function(i){if(i===null||!function(u){return Function.toString.call(u).indexOf("[native code]")!==-1}(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(i))return o.get(i);o.set(i,c)}function c(){return C(i,arguments,N(this).constructor)}return c.prototype=Object.create(i.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),P(c,i)},A(s)}function U(s,o){if(s==null)return{};var i,c,u=function(m,v){if(m==null)return{};var b,y,S={},O=Object.keys(m);for(y=0;y<O.length;y++)b=O[y],v.indexOf(b)>=0||(S[b]=m[b]);return S}(s,o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(s);for(c=0;c<p.length;c++)i=p[c],o.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(s,i)&&(u[i]=s[i])}return u}function M(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function R(s){var o=k();return function(){var i,c=N(s);if(o){var u=N(this).constructor;i=Reflect.construct(c,arguments,u)}else i=c.apply(this,arguments);return function(p,m){if(m&&(typeof m=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(p)}(this,i)}}function I(s){return function(o){if(Array.isArray(o))return q(o)}(s)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(s)||D(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(s,o){if(s){if(typeof s=="string")return q(s,o);var i=Object.prototype.toString.call(s).slice(8,-1);return i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set"?Array.from(s):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?q(s,o):void 0}}function q(s,o){(o==null||o>s.length)&&(o=s.length);for(var i=0,c=new Array(o);i<o;i++)c[i]=s[i];return c}function z(s,o){var i=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!i){if(Array.isArray(s)||(i=D(s))||o&&s&&typeof s.length=="number"){i&&(s=i);var c=0,u=function(){};return{s:u,n:function(){return c>=s.length?{done:!0}:{done:!1,value:s[c++]}},e:function(b){throw b},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,m=!0,v=!1;return{s:function(){i=i.call(s)},n:function(){var b=i.next();return m=b.done,b},e:function(b){v=!0,p=b},f:function(){try{m||i.return==null||i.return()}finally{if(v)throw p}}}}function ne(s){var o=function(i,c){if(typeof i!="object"||i===null)return i;var u=i[Symbol.toPrimitive];if(u!==void 0){var p=u.call(i,c||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}(s,"string");return typeof o=="symbol"?o:String(o)}var fe,B=new Uint8Array(16);function Y(){if(!fe&&!(fe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fe(B)}var ue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Q(s){return typeof s=="string"&&ue.test(s)}for(var _e=[],le=0;le<256;++le)_e.push((le+256).toString(16).substr(1));function se(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(_e[s[o+0]]+_e[s[o+1]]+_e[s[o+2]]+_e[s[o+3]]+"-"+_e[s[o+4]]+_e[s[o+5]]+"-"+_e[s[o+6]]+_e[s[o+7]]+"-"+_e[s[o+8]]+_e[s[o+9]]+"-"+_e[s[o+10]]+_e[s[o+11]]+_e[s[o+12]]+_e[s[o+13]]+_e[s[o+14]]+_e[s[o+15]]).toLowerCase();if(!Q(i))throw TypeError("Stringified UUID is invalid");return i}var me="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Me="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function de(s,o,i){function c(u,p,m,v){if(typeof u=="string"&&(u=function(S){S=unescape(encodeURIComponent(S));for(var O=[],V=0;V<S.length;++V)O.push(S.charCodeAt(V));return O}(u)),typeof p=="string"&&(p=function(S){if(!Q(S))throw TypeError("Invalid UUID");var O,V=new Uint8Array(16);return V[0]=(O=parseInt(S.slice(0,8),16))>>>24,V[1]=O>>>16&255,V[2]=O>>>8&255,V[3]=255&O,V[4]=(O=parseInt(S.slice(9,13),16))>>>8,V[5]=255&O,V[6]=(O=parseInt(S.slice(14,18),16))>>>8,V[7]=255&O,V[8]=(O=parseInt(S.slice(19,23),16))>>>8,V[9]=255&O,V[10]=(O=parseInt(S.slice(24,36),16))/1099511627776&255,V[11]=O/4294967296&255,V[12]=O>>>24&255,V[13]=O>>>16&255,V[14]=O>>>8&255,V[15]=255&O,V}(p)),p.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var b=new Uint8Array(16+u.length);if(b.set(p),b.set(u,p.length),(b=i(b))[6]=15&b[6]|o,b[8]=63&b[8]|128,m){v=v||0;for(var y=0;y<16;++y)m[v+y]=b[y];return m}return se(b)}try{c.name=s}catch{}return c.DNS=me,c.URL=Me,c}function he(s){return 14+(s+64>>>9<<4)+1}function K(s,o){var i=(65535&s)+(65535&o);return(s>>16)+(o>>16)+(i>>16)<<16|65535&i}function ee(s,o,i,c,u,p){return K((m=K(K(o,s),K(c,p)))<<(v=u)|m>>>32-v,i);var m,v}function j(s,o,i,c,u,p,m){return ee(o&i|~o&c,s,o,u,p,m)}function ae(s,o,i,c,u,p,m){return ee(o&c|i&~c,s,o,u,p,m)}function Re(s,o,i,c,u,p,m){return ee(o^i^c,s,o,u,p,m)}function ze(s,o,i,c,u,p,m){return ee(i^(o|~c),s,o,u,p,m)}function De(s,o,i){var c=(s=s||{}).random||(s.rng||Y)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,o){i=i||0;for(var u=0;u<16;++u)o[i+u]=c[u];return o}return se(c)}function Te(s,o,i,c){switch(s){case 0:return o&i^~o&c;case 1:case 3:return o^i^c;case 2:return o&i^o&c^i&c}}function Qe(s,o){return s<<o|s>>>32-o}de("v3",48,function(s){if(typeof s=="string"){var o=unescape(encodeURIComponent(s));s=new Uint8Array(o.length);for(var i=0;i<o.length;++i)s[i]=o.charCodeAt(i)}return function(c){for(var u=[],p=32*c.length,m="0123456789abcdef",v=0;v<p;v+=8){var b=c[v>>5]>>>v%32&255,y=parseInt(m.charAt(b>>>4&15)+m.charAt(15&b),16);u.push(y)}return u}(function(c,u){c[u>>5]|=128<<u%32,c[he(u)-1]=u;for(var p=1732584193,m=-271733879,v=-1732584194,b=271733878,y=0;y<c.length;y+=16){var S=p,O=m,V=v,$=b;p=j(p,m,v,b,c[y],7,-680876936),b=j(b,p,m,v,c[y+1],12,-389564586),v=j(v,b,p,m,c[y+2],17,606105819),m=j(m,v,b,p,c[y+3],22,-1044525330),p=j(p,m,v,b,c[y+4],7,-176418897),b=j(b,p,m,v,c[y+5],12,1200080426),v=j(v,b,p,m,c[y+6],17,-1473231341),m=j(m,v,b,p,c[y+7],22,-45705983),p=j(p,m,v,b,c[y+8],7,1770035416),b=j(b,p,m,v,c[y+9],12,-1958414417),v=j(v,b,p,m,c[y+10],17,-42063),m=j(m,v,b,p,c[y+11],22,-1990404162),p=j(p,m,v,b,c[y+12],7,1804603682),b=j(b,p,m,v,c[y+13],12,-40341101),v=j(v,b,p,m,c[y+14],17,-1502002290),p=ae(p,m=j(m,v,b,p,c[y+15],22,1236535329),v,b,c[y+1],5,-165796510),b=ae(b,p,m,v,c[y+6],9,-1069501632),v=ae(v,b,p,m,c[y+11],14,643717713),m=ae(m,v,b,p,c[y],20,-373897302),p=ae(p,m,v,b,c[y+5],5,-701558691),b=ae(b,p,m,v,c[y+10],9,38016083),v=ae(v,b,p,m,c[y+15],14,-660478335),m=ae(m,v,b,p,c[y+4],20,-405537848),p=ae(p,m,v,b,c[y+9],5,568446438),b=ae(b,p,m,v,c[y+14],9,-1019803690),v=ae(v,b,p,m,c[y+3],14,-187363961),m=ae(m,v,b,p,c[y+8],20,1163531501),p=ae(p,m,v,b,c[y+13],5,-1444681467),b=ae(b,p,m,v,c[y+2],9,-51403784),v=ae(v,b,p,m,c[y+7],14,1735328473),p=Re(p,m=ae(m,v,b,p,c[y+12],20,-1926607734),v,b,c[y+5],4,-378558),b=Re(b,p,m,v,c[y+8],11,-2022574463),v=Re(v,b,p,m,c[y+11],16,1839030562),m=Re(m,v,b,p,c[y+14],23,-35309556),p=Re(p,m,v,b,c[y+1],4,-1530992060),b=Re(b,p,m,v,c[y+4],11,1272893353),v=Re(v,b,p,m,c[y+7],16,-155497632),m=Re(m,v,b,p,c[y+10],23,-1094730640),p=Re(p,m,v,b,c[y+13],4,681279174),b=Re(b,p,m,v,c[y],11,-358537222),v=Re(v,b,p,m,c[y+3],16,-722521979),m=Re(m,v,b,p,c[y+6],23,76029189),p=Re(p,m,v,b,c[y+9],4,-640364487),b=Re(b,p,m,v,c[y+12],11,-421815835),v=Re(v,b,p,m,c[y+15],16,530742520),p=ze(p,m=Re(m,v,b,p,c[y+2],23,-995338651),v,b,c[y],6,-198630844),b=ze(b,p,m,v,c[y+7],10,1126891415),v=ze(v,b,p,m,c[y+14],15,-1416354905),m=ze(m,v,b,p,c[y+5],21,-57434055),p=ze(p,m,v,b,c[y+12],6,1700485571),b=ze(b,p,m,v,c[y+3],10,-1894986606),v=ze(v,b,p,m,c[y+10],15,-1051523),m=ze(m,v,b,p,c[y+1],21,-2054922799),p=ze(p,m,v,b,c[y+8],6,1873313359),b=ze(b,p,m,v,c[y+15],10,-30611744),v=ze(v,b,p,m,c[y+6],15,-1560198380),m=ze(m,v,b,p,c[y+13],21,1309151649),p=ze(p,m,v,b,c[y+4],6,-145523070),b=ze(b,p,m,v,c[y+11],10,-1120210379),v=ze(v,b,p,m,c[y+2],15,718787259),m=ze(m,v,b,p,c[y+9],21,-343485551),p=K(p,S),m=K(m,O),v=K(v,V),b=K(b,$)}return[p,m,v,b]}(function(c){if(c.length===0)return[];for(var u=8*c.length,p=new Uint32Array(he(u)),m=0;m<u;m+=8)p[m>>5]|=(255&c[m/8])<<m%32;return p}(s),8*s.length))}),de("v5",80,function(s){var o=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var c=unescape(encodeURIComponent(s));s=[];for(var u=0;u<c.length;++u)s.push(c.charCodeAt(u))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var p=s.length/4+2,m=Math.ceil(p/16),v=new Array(m),b=0;b<m;++b){for(var y=new Uint32Array(16),S=0;S<16;++S)y[S]=s[64*b+4*S]<<24|s[64*b+4*S+1]<<16|s[64*b+4*S+2]<<8|s[64*b+4*S+3];v[b]=y}v[m-1][14]=8*(s.length-1)/Math.pow(2,32),v[m-1][14]=Math.floor(v[m-1][14]),v[m-1][15]=8*(s.length-1)&4294967295;for(var O=0;O<m;++O){for(var V=new Uint32Array(80),$=0;$<16;++$)V[$]=v[O][$];for(var te=16;te<80;++te)V[te]=Qe(V[te-3]^V[te-8]^V[te-14]^V[te-16],1);for(var J=i[0],oe=i[1],xe=i[2],Ie=i[3],Ue=i[4],He=0;He<80;++He){var Ee=Math.floor(He/20),we=Qe(J,5)+Te(Ee,oe,xe,Ie)+Ue+o[Ee]+V[He]>>>0;Ue=Ie,Ie=xe,xe=Qe(oe,30)>>>0,oe=J,J=we}i[0]=i[0]+J>>>0,i[1]=i[1]+oe>>>0,i[2]=i[2]+xe>>>0,i[3]=i[3]+Ie>>>0,i[4]=i[4]+Ue>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]});var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dd<"u"?dd:typeof self<"u"?self:{},un=function(s){try{return!!s()}catch{return!0}},Nn=!un(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")}),Ye=Nn,mn=Function.prototype,sn=mn.call,Ln=Ye&&mn.bind.bind(sn,sn),Tn=Ye?Ln:function(s){return function(){return sn.apply(s,arguments)}},G=Tn,ie=G({}.toString),bn=G("".slice),Sn=function(s){return bn(ie(s),8,-1)},An=un,Fn=Sn,Hn=Object,Bn=Tn("".split),pt=An(function(){return!Hn("z").propertyIsEnumerable(0)})?function(s){return Fn(s)=="String"?Bn(s,""):Hn(s)}:Hn,Yn=function(s){return s==null},On=Yn,Tt=TypeError,Ut=function(s){if(On(s))throw Tt("Can't call method on "+s);return s},jt=pt,Nt=Ut,Zn=function(s){return jt(Nt(s))},Rn=function(s){return s&&s.Math==Math&&s},Je=Rn(typeof globalThis=="object"&&globalThis)||Rn(typeof window=="object"&&window)||Rn(typeof self=="object"&&self)||Rn(typeof an=="object"&&an)||function(){return this}()||Function("return this")(),tt={exports:{}},dt=Je,Rt=Object.defineProperty,wr=function(s,o){try{Rt(dt,s,{value:o,configurable:!0,writable:!0})}catch{dt[s]=o}return o},Jt=wr,Zr="__core-js_shared__",wi=Je[Zr]||Jt(Zr,{}),Ui=wi;(tt.exports=function(s,o){return Ui[s]||(Ui[s]=o!==void 0?o:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var xr,ce,pe=Ut,Ce=Object,Ae=function(s){return Ce(pe(s))},Ge=Ae,be=Tn({}.hasOwnProperty),Pe=Object.hasOwn||function(s,o){return be(Ge(s),o)},qe=Tn,Fe=0,ln=Math.random(),je=qe(1 .toString),cn=function(s){return"Symbol("+(s===void 0?"":s)+")_"+je(++Fe+ln,36)},Mn=typeof navigator<"u"&&String(navigator.userAgent)||"",ot=Je,Ke=Mn,ke=ot.process,Ne=ot.Deno,tn=ke&&ke.versions||Ne&&Ne.version,Xn=tn&&tn.v8;Xn&&(ce=(xr=Xn.split("."))[0]>0&&xr[0]<4?1:+(xr[0]+xr[1])),!ce&&Ke&&(!(xr=Ke.match(/Edge\/(\d+)/))||xr[1]>=74)&&(xr=Ke.match(/Chrome\/(\d+)/))&&(ce=+xr[1]);var dn=ce,Vn=dn,hn=un,et=!!Object.getOwnPropertySymbols&&!hn(function(){var s=Symbol();return!String(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&Vn&&Vn<41}),or=et&&!Symbol.sham&&typeof Symbol.iterator=="symbol",zn=Je,Ct=tt.exports,At=Pe,lr=cn,Pi=et,Rr=or,ir=zn.Symbol,ai=Ct("wks"),hi=Rr?ir.for||ir:ir&&ir.withoutSetter||lr,$t=function(s){return At(ai,s)||(ai[s]=Pi&&At(ir,s)?ir[s]:hi("Symbol."+s)),ai[s]},Fi=typeof document=="object"&&document.all,xi={all:Fi,IS_HTMLDDA:Fi===void 0&&Fi!==void 0},pi=xi.all,Bt=xi.IS_HTMLDDA?function(s){return typeof s=="function"||s===pi}:function(s){return typeof s=="function"},ds=Bt,Oc=xi.all,gi=xi.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:ds(s)||s===Oc}:function(s){return typeof s=="object"?s!==null:ds(s)},Wd=gi,Rc=String,Ir=TypeError,bi=function(s){if(Wd(s))return s;throw Ir(Rc(s)+" is not an object")},tl={},fi=!un(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),rl=fi&&un(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),zi={},ko=gi,Gl=Je.document,si=ko(Gl)&&ko(Gl.createElement),Zs=function(s){return si?Gl.createElement(s):{}},Mc=Zs,il=!fi&&!un(function(){return Object.defineProperty(Mc("div"),"a",{get:function(){return 7}}).a!=7}),Gi=Nn,us=Function.prototype.call,Mr=Gi?us.bind(us):function(){return us.apply(us,arguments)},Pt=Je,wt=Bt,en=function(s,o){return arguments.length<2?(i=Pt[s],wt(i)?i:void 0):Pt[s]&&Pt[s][o];var i},Be=Tn({}.isPrototypeOf),st=en,Qn=Bt,lt=Be,Dr=Object,Wt=or?function(s){return typeof s=="symbol"}:function(s){var o=st("Symbol");return Qn(o)&&lt(o.prototype,Dr(s))},by=String,mp=function(s){try{return by(s)}catch{return"Object"}},yB=Bt,EB=mp,wB=TypeError,al=function(s){if(yB(s))return s;throw wB(EB(s)+" is not a function")},xB=al,SB=Yn,vp=function(s,o){var i=s[o];return SB(i)?void 0:xB(i)},yy=Mr,Ey=Bt,wy=gi,TB=TypeError,CB=Mr,_C=gi,mC=Wt,kB=vp,IB=function(s,o){var i,c;if(o==="string"&&Ey(i=s.toString)&&!wy(c=yy(i,s))||Ey(i=s.valueOf)&&!wy(c=yy(i,s))||o!=="string"&&Ey(i=s.toString)&&!wy(c=yy(i,s)))return c;throw TB("Can't convert object to primitive value")},NB=TypeError,AB=$t("toPrimitive"),vC=function(s,o){if(!_C(s)||mC(s))return s;var i,c=kB(s,AB);if(c){if(o===void 0&&(o="default"),i=CB(c,s,o),!_C(i)||mC(i))return i;throw NB("Can't convert object to primitive value")}return o===void 0&&(o="number"),IB(s,o)},OB=vC,RB=Wt,xy=function(s){var o=OB(s,"string");return RB(o)?o:o+""},MB=fi,DB=il,LB=rl,Em=bi,gC=xy,UB=TypeError,Sy=Object.defineProperty,PB=Object.getOwnPropertyDescriptor,Ty="enumerable",Cy="configurable",ky="writable";zi.f=MB?LB?function(s,o,i){if(Em(s),o=gC(o),Em(i),typeof s=="function"&&o==="prototype"&&"value"in i&&ky in i&&!i[ky]){var c=PB(s,o);c&&c[ky]&&(s[o]=i.value,i={configurable:Cy in i?i[Cy]:c[Cy],enumerable:Ty in i?i[Ty]:c[Ty],writable:!1})}return Sy(s,o,i)}:Sy:function(s,o,i){if(Em(s),o=gC(o),Em(i),DB)try{return Sy(s,o,i)}catch{}if("get"in i||"set"in i)throw UB("Accessors not supported");return"value"in i&&(s[o]=i.value),s};var FB=Math.ceil,HB=Math.floor,BB=Math.trunc||function(s){var o=+s;return(o>0?HB:FB)(o)},VB=BB,Sh=function(s){var o=+s;return o!=o||o===0?0:VB(o)},zB=Sh,GB=Math.max,qB=Math.min,wm=function(s,o){var i=zB(s);return i<0?GB(i+o,0):qB(i,o)},jB=Sh,$B=Math.min,xm=function(s){return s>0?$B(jB(s),9007199254740991):0},WB=xm,Dc=function(s){return WB(s.length)},KB=Zn,QB=wm,YB=Dc,bC=function(s){return function(o,i,c){var u,p=KB(o),m=YB(p),v=QB(c,m);if(s&&i!=i){for(;m>v;)if((u=p[v++])!=u)return!0}else for(;m>v;v++)if((s||v in p)&&p[v]===i)return s||v||0;return!s&&-1}},Iy={includes:bC(!0),indexOf:bC(!1)},Sm={},Ny=Pe,XB=Zn,ZB=Iy.indexOf,JB=Sm,yC=Tn([].push),EC=function(s,o){var i,c=XB(s),u=0,p=[];for(i in c)!Ny(JB,i)&&Ny(c,i)&&yC(p,i);for(;o.length>u;)Ny(c,i=o[u++])&&(~ZB(p,i)||yC(p,i));return p},Ay=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],eV=EC,nV=Ay,Oy=Object.keys||function(s){return eV(s,nV)},tV=fi,rV=rl,iV=zi,aV=bi,sV=Zn,oV=Oy;tl.f=tV&&!rV?Object.defineProperties:function(s,o){aV(s);for(var i,c=sV(o),u=oV(o),p=u.length,m=0;p>m;)iV.f(s,i=u[m++],c[i]);return s};var Tm,wC=en("document","documentElement"),lV=tt.exports,cV=cn,xC=lV("keys"),Ry=function(s){return xC[s]||(xC[s]=cV(s))},dV=bi,uV=tl,SC=Ay,hV=Sm,pV=wC,fV=Zs,My="prototype",Dy="script",TC=Ry("IE_PROTO"),Ly=function(){},CC=function(s){return"<"+Dy+">"+s+"</"+Dy+">"},kC=function(s){s.write(CC("")),s.close();var o=s.parentWindow.Object;return s=null,o},Cm=function(){try{Tm=new ActiveXObject("htmlfile")}catch{}var s,o,i;Cm=typeof document<"u"?document.domain&&Tm?kC(Tm):(o=fV("iframe"),i="java"+Dy+":",o.style.display="none",pV.appendChild(o),o.src=String(i),(s=o.contentWindow.document).open(),s.write(CC("document.F=Object")),s.close(),s.F):kC(Tm);for(var c=SC.length;c--;)delete Cm[My][SC[c]];return Cm()};hV[TC]=!0;var km=Object.create||function(s,o){var i;return s!==null?(Ly[My]=dV(s),i=new Ly,Ly[My]=null,i[TC]=s):i=Cm(),o===void 0?i:uV.f(i,o)},_V=$t,mV=km,vV=zi.f,Uy=_V("unscopables"),Py=Array.prototype;Py[Uy]==null&&vV(Py,Uy,{configurable:!0,value:mV(null)});var Im,gp,Nm,Am=function(s){Py[Uy][s]=!0},bp={},gV=Bt,IC=Je.WeakMap,bV=gV(IC)&&/native code/.test(String(IC)),Om=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}},yV=zi,EV=Om,Th=fi?function(s,o,i){return yV.f(s,o,EV(1,i))}:function(s,o,i){return s[o]=i,s},wV=bV,NC=Je,xV=gi,SV=Th,Fy=Pe,Hy=wi,TV=Ry,CV=Sm,AC="Object already initialized",By=NC.TypeError,kV=NC.WeakMap;if(wV||Hy.state){var sl=Hy.state||(Hy.state=new kV);sl.get=sl.get,sl.has=sl.has,sl.set=sl.set,Im=function(s,o){if(sl.has(s))throw By(AC);return o.facade=s,sl.set(s,o),o},gp=function(s){return sl.get(s)||{}},Nm=function(s){return sl.has(s)}}else{var Ch=TV("state");CV[Ch]=!0,Im=function(s,o){if(Fy(s,Ch))throw By(AC);return o.facade=s,SV(s,Ch,o),o},gp=function(s){return Fy(s,Ch)?s[Ch]:{}},Nm=function(s){return Fy(s,Ch)}}var Lc={set:Im,get:gp,has:Nm,enforce:function(s){return Nm(s)?gp(s):Im(s,{})},getterFor:function(s){return function(o){var i;if(!xV(o)||(i=gp(o)).type!==s)throw By("Incompatible receiver, "+s+" required");return i}}},yp={},Vy={},OC={}.propertyIsEnumerable,RC=Object.getOwnPropertyDescriptor,IV=RC&&!OC.call({1:2},1);Vy.f=IV?function(s){var o=RC(this,s);return!!o&&o.enumerable}:OC;var NV=fi,AV=Mr,OV=Vy,RV=Om,MV=Zn,DV=xy,LV=Pe,UV=il,MC=Object.getOwnPropertyDescriptor;yp.f=NV?MC:function(s,o){if(s=MV(s),o=DV(o),UV)try{return MC(s,o)}catch{}if(LV(s,o))return RV(!AV(OV.f,s,o),s[o])};var zy={exports:{}},Gy=fi,PV=Pe,DC=Function.prototype,FV=Gy&&Object.getOwnPropertyDescriptor,qy=PV(DC,"name"),Rm={EXISTS:qy,PROPER:qy&&(function(){}).name==="something",CONFIGURABLE:qy&&(!Gy||Gy&&FV(DC,"name").configurable)},HV=Bt,jy=wi,BV=Tn(Function.toString);HV(jy.inspectSource)||(jy.inspectSource=function(s){return BV(s)});var $y=jy.inspectSource,Wy=Tn,VV=un,zV=Bt,Mm=Pe,Ky=fi,GV=Rm.CONFIGURABLE,qV=$y,jV=Lc.enforce,$V=Lc.get,LC=String,Dm=Object.defineProperty,WV=Wy("".slice),KV=Wy("".replace),QV=Wy([].join),YV=Ky&&!VV(function(){return Dm(function(){},"length",{value:8}).length!==8}),XV=String(String).split("String"),ZV=zy.exports=function(s,o,i){WV(LC(o),0,7)==="Symbol("&&(o="["+KV(LC(o),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(o="get "+o),i&&i.setter&&(o="set "+o),(!Mm(s,"name")||GV&&s.name!==o)&&(Ky?Dm(s,"name",{value:o,configurable:!0}):s.name=o),YV&&i&&Mm(i,"arity")&&s.length!==i.arity&&Dm(s,"length",{value:i.arity});try{i&&Mm(i,"constructor")&&i.constructor?Ky&&Dm(s,"prototype",{writable:!1}):s.prototype&&(s.prototype=void 0)}catch{}var c=jV(s);return Mm(c,"source")||(c.source=QV(XV,typeof o=="string"?o:"")),s};Function.prototype.toString=ZV(function(){return zV(this)&&$V(this).source||qV(this)},"toString");var JV=Bt,ez=zi,nz=zy.exports,tz=wr,ol=function(s,o,i,c){c||(c={});var u=c.enumerable,p=c.name!==void 0?c.name:o;if(JV(i)&&nz(i,p,c),c.global)u?s[o]=i:tz(o,i);else{try{c.unsafe?s[o]&&(u=!0):delete s[o]}catch{}u?s[o]=i:ez.f(s,o,{value:i,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return s},Ep={},rz=EC,iz=Ay.concat("length","prototype");Ep.f=Object.getOwnPropertyNames||function(s){return rz(s,iz)};var Qy={};Qy.f=Object.getOwnPropertySymbols;var Kd,UC,PC,az=en,sz=Ep,oz=Qy,lz=bi,cz=Tn([].concat),dz=az("Reflect","ownKeys")||function(s){var o=sz.f(lz(s)),i=oz.f;return i?cz(o,i(s)):o},FC=Pe,uz=dz,hz=yp,pz=zi,fz=un,_z=Bt,mz=/#|\.prototype\./,wp=function(s,o){var i=gz[vz(s)];return i==yz||i!=bz&&(_z(o)?fz(o):!!o)},vz=wp.normalize=function(s){return String(s).replace(mz,".").toLowerCase()},gz=wp.data={},bz=wp.NATIVE="N",yz=wp.POLYFILL="P",Lm=wp,Yy=Je,Ez=yp.f,wz=Th,xz=ol,Sz=wr,Tz=function(s,o,i){for(var c=uz(o),u=pz.f,p=hz.f,m=0;m<c.length;m++){var v=c[m];FC(s,v)||i&&FC(i,v)||u(s,v,p(o,v))}},Cz=Lm,qr=function(s,o){var i,c,u,p,m,v=s.target,b=s.global,y=s.stat;if(i=b?Yy:y?Yy[v]||Sz(v,{}):(Yy[v]||{}).prototype)for(c in o){if(p=o[c],u=s.dontCallGetSet?(m=Ez(i,c))&&m.value:i[c],!Cz(b?c:v+(y?".":"#")+c,s.forced)&&u!==void 0){if(typeof p==typeof u)continue;Tz(p,u)}(s.sham||u&&u.sham)&&wz(p,"sham",!0),xz(i,c,p,s)}},kz=!un(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}),Iz=Pe,Nz=Bt,Az=Ae,Oz=kz,HC=Ry("IE_PROTO"),Xy=Object,Rz=Xy.prototype,BC=Oz?Xy.getPrototypeOf:function(s){var o=Az(s);if(Iz(o,HC))return o[HC];var i=o.constructor;return Nz(i)&&o instanceof i?i.prototype:o instanceof Xy?Rz:null},Mz=un,Dz=Bt,Lz=gi,VC=BC,Uz=ol,Zy=$t("iterator"),zC=!1;[].keys&&("next"in(PC=[].keys())?(UC=VC(VC(PC)))!==Object.prototype&&(Kd=UC):zC=!0);var Pz=!Lz(Kd)||Mz(function(){var s={};return Kd[Zy].call(s)!==s});Pz&&(Kd={}),Dz(Kd[Zy])||Uz(Kd,Zy,function(){return this});var Jy={IteratorPrototype:Kd,BUGGY_SAFARI_ITERATORS:zC},Fz=zi.f,Hz=Pe,GC=$t("toStringTag"),Um=function(s,o,i){s&&!i&&(s=s.prototype),s&&!Hz(s,GC)&&Fz(s,GC,{configurable:!0,value:o})},Bz=Jy.IteratorPrototype,Vz=km,zz=Om,Gz=Um,qz=bp,jz=function(){return this},$z=Tn,Wz=al,Kz=Bt,Qz=String,Yz=TypeError,Xz=function(s,o,i){try{return $z(Wz(Object.getOwnPropertyDescriptor(s,o)[i]))}catch{}},Zz=bi,Jz=function(s){if(typeof s=="object"||Kz(s))return s;throw Yz("Can't set "+Qz(s)+" as a prototype")},e2=Object.setPrototypeOf||("__proto__"in{}?function(){var s,o=!1,i={};try{(s=Xz(Object.prototype,"__proto__","set"))(i,[]),o=i instanceof Array}catch{}return function(c,u){return Zz(c),Jz(u),o?s(c,u):c.__proto__=u,c}}():void 0),eG=qr,nG=Mr,tG=Bt,rG=function(s,o,i,c){var u=o+" Iterator";return s.prototype=Vz(Bz,{next:zz(+!c,i)}),Gz(s,u,!1),qz[u]=jz,s},qC=BC,jC=e2,iG=Um,aG=Th,n2=ol,sG=bp,oG=Rm.PROPER,lG=Rm.CONFIGURABLE,$C=Jy.IteratorPrototype,Pm=Jy.BUGGY_SAFARI_ITERATORS,xp=$t("iterator"),WC="keys",Sp="values",KC="entries",cG=function(){return this},t2=function(s,o,i,c,u,p,m){rG(i,o,c);var v,b,y,S=function(xe){if(xe===u&&J)return J;if(!Pm&&xe in $)return $[xe];switch(xe){case WC:case Sp:case KC:return function(){return new i(this,xe)}}return function(){return new i(this)}},O=o+" Iterator",V=!1,$=s.prototype,te=$[xp]||$["@@iterator"]||u&&$[u],J=!Pm&&te||S(u),oe=o=="Array"&&$.entries||te;if(oe&&(v=qC(oe.call(new s)))!==Object.prototype&&v.next&&(qC(v)!==$C&&(jC?jC(v,$C):tG(v[xp])||n2(v,xp,cG)),iG(v,O,!0)),oG&&u==Sp&&te&&te.name!==Sp&&(lG?aG($,"name",Sp):(V=!0,J=function(){return nG(te,this)})),u)if(b={values:S(Sp),keys:p?J:S(WC),entries:S(KC)},m)for(y in b)(Pm||V||!(y in $))&&n2($,y,b[y]);else eG({target:o,proto:!0,forced:Pm||V},b);return $[xp]!==J&&n2($,xp,J,{name:u}),sG[o]=J,b},r2=function(s,o){return{value:s,done:o}},dG=Zn,i2=Am,QC=bp,YC=Lc,uG=zi.f,hG=t2,XC=r2,pG=fi,ZC="Array Iterator",fG=YC.set,_G=YC.getterFor(ZC),mG=hG(Array,"Array",function(s,o){fG(this,{type:ZC,target:dG(s),index:0,kind:o})},function(){var s=_G(this),o=s.target,i=s.kind,c=s.index++;return!o||c>=o.length?(s.target=void 0,XC(void 0,!0)):XC(i=="keys"?c:i=="values"?o[c]:[c,o[c]],!1)},"values"),JC=QC.Arguments=QC.Array;if(i2("keys"),i2("values"),i2("entries"),pG&&JC.name!=="values")try{uG(JC,"name",{value:"values"})}catch{}var ek={};ek[$t("toStringTag")]="z";var a2=String(ek)==="[object z]",vG=a2,gG=Bt,Fm=Sn,bG=$t("toStringTag"),yG=Object,EG=Fm(function(){return arguments}())=="Arguments",Hm=vG?Fm:function(s){var o,i,c;return s===void 0?"Undefined":s===null?"Null":typeof(i=function(u,p){try{return u[p]}catch{}}(o=yG(s),bG))=="string"?i:EG?Fm(o):(c=Fm(o))=="Object"&&gG(o.callee)?"Arguments":c},wG=Hm,xG=a2?{}.toString:function(){return"[object "+wG(this)+"]"};a2||ol(Object.prototype,"toString",xG,{unsafe:!0});var Tp=typeof process<"u"&&Sn(process)=="process",nk=zy.exports,SG=zi,tk=function(s,o,i){return i.get&&nk(i.get,o,{getter:!0}),i.set&&nk(i.set,o,{setter:!0}),SG.f(s,o,i)},TG=en,CG=tk,kG=fi,rk=$t("species"),ik=function(s){var o=TG(s);kG&&o&&!o[rk]&&CG(o,rk,{configurable:!0,get:function(){return this}})},IG=Be,NG=TypeError,s2=function(s,o){if(IG(o,s))return s;throw NG("Incorrect invocation")},AG=Tn,OG=un,ak=Bt,RG=Hm,MG=$y,sk=function(){},DG=[],ok=en("Reflect","construct"),o2=/^\s*(?:class|function)\b/,LG=AG(o2.exec),UG=!o2.exec(sk),Cp=function(s){if(!ak(s))return!1;try{return ok(sk,DG,s),!0}catch{return!1}},lk=function(s){if(!ak(s))return!1;switch(RG(s)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return UG||!!LG(o2,MG(s))}catch{return!0}};lk.sham=!0;var kp,kh,ck,l2,c2=!ok||OG(function(){var s;return Cp(Cp.call)||!Cp(Object)||!Cp(function(){s=!0})||s})?lk:Cp,PG=c2,FG=mp,HG=TypeError,dk=bi,BG=function(s){if(PG(s))return s;throw HG(FG(s)+" is not a constructor")},VG=Yn,zG=$t("species"),GG=Nn,uk=Function.prototype,hk=uk.apply,pk=uk.call,fk=typeof Reflect=="object"&&Reflect.apply||(GG?pk.bind(hk):function(){return pk.apply(hk,arguments)}),qG=Sn,jG=Tn,Bm=function(s){if(qG(s)==="Function")return jG(s)},$G=al,WG=Nn,KG=Bm(Bm.bind),Ip=function(s,o){return $G(s),o===void 0?s:WG?KG(s,o):function(){return s.apply(o,arguments)}},_k=Tn([].slice),QG=TypeError,mk=/(?:ipad|iphone|ipod).*applewebkit/i.test(Mn),Ts=Je,YG=fk,XG=Ip,vk=Bt,ZG=Pe,gk=un,bk=wC,JG=_k,yk=Zs,eq=function(s,o){if(s<o)throw QG("Not enough arguments");return s},nq=mk,tq=Tp,d2=Ts.setImmediate,u2=Ts.clearImmediate,rq=Ts.process,h2=Ts.Dispatch,iq=Ts.Function,Ek=Ts.MessageChannel,aq=Ts.String,p2=0,Np={},wk="onreadystatechange";gk(function(){kp=Ts.location});var f2=function(s){if(ZG(Np,s)){var o=Np[s];delete Np[s],o()}},_2=function(s){return function(){f2(s)}},xk=function(s){f2(s.data)},Sk=function(s){Ts.postMessage(aq(s),kp.protocol+"//"+kp.host)};d2&&u2||(d2=function(s){eq(arguments.length,1);var o=vk(s)?s:iq(s),i=JG(arguments,1);return Np[++p2]=function(){YG(o,void 0,i)},kh(p2),p2},u2=function(s){delete Np[s]},tq?kh=function(s){rq.nextTick(_2(s))}:h2&&h2.now?kh=function(s){h2.now(_2(s))}:Ek&&!nq?(l2=(ck=new Ek).port2,ck.port1.onmessage=xk,kh=XG(l2.postMessage,l2)):Ts.addEventListener&&vk(Ts.postMessage)&&!Ts.importScripts&&kp&&kp.protocol!=="file:"&&!gk(Sk)?(kh=Sk,Ts.addEventListener("message",xk,!1)):kh=wk in yk("script")?function(s){bk.appendChild(yk("script"))[wk]=function(){bk.removeChild(this),f2(s)}}:function(s){setTimeout(_2(s),0)});var Tk={set:d2,clear:u2},Ck=function(){this.head=null,this.tail=null};Ck.prototype={add:function(s){var o={item:s,next:null},i=this.tail;i?i.next=o:this.head=o,this.tail=o},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}};var Ih,m2,v2,g2,kk,Ik=Ck,sq=/ipad|iphone|ipod/i.test(Mn)&&typeof Pebble<"u",oq=/web0s(?!.*chrome)/i.test(Mn),Qd=Je,Nk=Ip,lq=yp.f,b2=Tk.set,cq=Ik,dq=mk,uq=sq,hq=oq,y2=Tp,Ak=Qd.MutationObserver||Qd.WebKitMutationObserver,Ok=Qd.document,Rk=Qd.process,Vm=Qd.Promise,Mk=lq(Qd,"queueMicrotask"),E2=Mk&&Mk.value;if(!E2){var zm=new cq,Gm=function(){var s,o;for(y2&&(s=Rk.domain)&&s.exit();o=zm.get();)try{o()}catch(i){throw zm.head&&Ih(),i}s&&s.enter()};dq||y2||hq||!Ak||!Ok?!uq&&Vm&&Vm.resolve?((g2=Vm.resolve(void 0)).constructor=Vm,kk=Nk(g2.then,g2),Ih=function(){kk(Gm)}):y2?Ih=function(){Rk.nextTick(Gm)}:(b2=Nk(b2,Qd),Ih=function(){b2(Gm)}):(m2=!0,v2=Ok.createTextNode(""),new Ak(Gm).observe(v2,{characterData:!0}),Ih=function(){v2.data=m2=!m2}),E2=function(s){zm.head||Ih(),zm.add(s)}}var pq=E2,qm=function(s){try{return{error:!1,value:s()}}catch(o){return{error:!0,value:o}}},jm=Je.Promise,Dk=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",fq=!Dk&&!Tp&&typeof window=="object"&&typeof document=="object",_q=Je,Ap=jm,mq=Bt,vq=Lm,gq=$y,bq=$t,yq=fq,Eq=Dk,w2=dn;Ap&&Ap.prototype;var wq=bq("species"),Lk=!1,Uk=mq(_q.PromiseRejectionEvent),xq=vq("Promise",function(){var s=gq(Ap),o=s!==String(Ap);if(!o&&w2===66)return!0;if(!w2||w2<51||!/native code/.test(s)){var i=new Ap(function(u){u(1)}),c=function(u){u(function(){},function(){})};if((i.constructor={})[wq]=c,!(Lk=i.then(function(){})instanceof c))return!0}return!o&&(yq||Eq)&&!Uk}),Yd={CONSTRUCTOR:xq,REJECTION_EVENT:Uk,SUBCLASSING:Lk},Xd={},Pk=al,Sq=TypeError,Tq=function(s){var o,i;this.promise=new s(function(c,u){if(o!==void 0||i!==void 0)throw Sq("Bad Promise constructor");o=c,i=u}),this.resolve=Pk(o),this.reject=Pk(i)};Xd.f=function(s){return new Tq(s)};var x2,Fk,Hk,Cq=qr,$m=Tp,Uc=Je,Nh=Mr,Bk=ol,Vk=e2,kq=Um,Iq=ik,Nq=al,Wm=Bt,Aq=gi,Oq=s2,Rq=function(s,o){var i,c=dk(s).constructor;return c===void 0||VG(i=dk(c)[zG])?o:BG(i)},zk=Tk.set,S2=pq,Mq=function(s,o){try{arguments.length==1?console.error(s):console.error(s,o)}catch{}},Dq=qm,Lq=Ik,Gk=Lc,Km=jm,qk=Xd,Qm="Promise",jk=Yd.CONSTRUCTOR,Uq=Yd.REJECTION_EVENT,Pq=Yd.SUBCLASSING,T2=Gk.getterFor(Qm),Fq=Gk.set,Ah=Km&&Km.prototype,Oh=Km,Ym=Ah,$k=Uc.TypeError,C2=Uc.document,k2=Uc.process,I2=qk.f,Hq=I2,Bq=!!(C2&&C2.createEvent&&Uc.dispatchEvent),Wk="unhandledrejection",Kk=function(s){var o;return!(!Aq(s)||!Wm(o=s.then))&&o},Qk=function(s,o){var i,c,u,p=o.value,m=o.state==1,v=m?s.ok:s.fail,b=s.resolve,y=s.reject,S=s.domain;try{v?(m||(o.rejection===2&&zq(o),o.rejection=1),v===!0?i=p:(S&&S.enter(),i=v(p),S&&(S.exit(),u=!0)),i===s.promise?y($k("Promise-chain cycle")):(c=Kk(i))?Nh(c,i,b,y):b(i)):y(p)}catch(O){S&&!u&&S.exit(),y(O)}},Yk=function(s,o){s.notified||(s.notified=!0,S2(function(){for(var i,c=s.reactions;i=c.get();)Qk(i,s);s.notified=!1,o&&!s.rejection&&Vq(s)}))},Xk=function(s,o,i){var c,u;Bq?((c=C2.createEvent("Event")).promise=o,c.reason=i,c.initEvent(s,!1,!0),Uc.dispatchEvent(c)):c={promise:o,reason:i},!Uq&&(u=Uc["on"+s])?u(c):s===Wk&&Mq("Unhandled promise rejection",i)},Vq=function(s){Nh(zk,Uc,function(){var o,i=s.facade,c=s.value;if(Zk(s)&&(o=Dq(function(){$m?k2.emit("unhandledRejection",c,i):Xk(Wk,i,c)}),s.rejection=$m||Zk(s)?2:1,o.error))throw o.value})},Zk=function(s){return s.rejection!==1&&!s.parent},zq=function(s){Nh(zk,Uc,function(){var o=s.facade;$m?k2.emit("rejectionHandled",o):Xk("rejectionhandled",o,s.value)})},Rh=function(s,o,i){return function(c){s(o,c,i)}},Mh=function(s,o,i){s.done||(s.done=!0,i&&(s=i),s.value=o,s.state=2,Yk(s,!0))},N2=function(s,o,i){if(!s.done){s.done=!0,i&&(s=i);try{if(s.facade===o)throw $k("Promise can't be resolved itself");var c=Kk(o);c?S2(function(){var u={done:!1};try{Nh(c,o,Rh(N2,u,s),Rh(Mh,u,s))}catch(p){Mh(u,p,s)}}):(s.value=o,s.state=1,Yk(s,!1))}catch(u){Mh({done:!1},u,s)}}};if(jk&&(Ym=(Oh=function(s){Oq(this,Ym),Nq(s),Nh(x2,this);var o=T2(this);try{s(Rh(N2,o),Rh(Mh,o))}catch(i){Mh(o,i)}}).prototype,(x2=function(s){Fq(this,{type:Qm,done:!1,notified:!1,parent:!1,reactions:new Lq,rejection:!1,state:0,value:void 0})}).prototype=Bk(Ym,"then",function(s,o){var i=T2(this),c=I2(Rq(this,Oh));return i.parent=!0,c.ok=!Wm(s)||s,c.fail=Wm(o)&&o,c.domain=$m?k2.domain:void 0,i.state==0?i.reactions.add(c):S2(function(){Qk(c,i)}),c.promise}),Fk=function(){var s=new x2,o=T2(s);this.promise=s,this.resolve=Rh(N2,o),this.reject=Rh(Mh,o)},qk.f=I2=function(s){return s===Oh||s===void 0?new Fk(s):Hq(s)},Wm(Km)&&Ah!==Object.prototype)){Hk=Ah.then,Pq||Bk(Ah,"then",function(s,o){var i=this;return new Oh(function(c,u){Nh(Hk,i,c,u)}).then(s,o)},{unsafe:!0});try{delete Ah.constructor}catch{}Vk&&Vk(Ah,Ym)}Cq({global:!0,constructor:!0,wrap:!0,forced:jk},{Promise:Oh}),kq(Oh,Qm,!1),Iq(Qm);var Gq=bp,qq=$t("iterator"),jq=Array.prototype,$q=Hm,Jk=vp,Wq=Yn,Kq=bp,Qq=$t("iterator"),eI=function(s){if(!Wq(s))return Jk(s,Qq)||Jk(s,"@@iterator")||Kq[$q(s)]},Yq=Mr,Xq=al,Zq=bi,Jq=mp,ej=eI,nj=TypeError,tj=Mr,nI=bi,rj=vp,ij=Ip,aj=Mr,sj=bi,oj=mp,lj=function(s){return s!==void 0&&(Gq.Array===s||jq[qq]===s)},cj=Dc,tI=Be,dj=function(s,o){var i=arguments.length<2?ej(s):o;if(Xq(i))return Zq(Yq(i,s));throw nj(Jq(s)+" is not iterable")},uj=eI,rI=function(s,o,i){var c,u;nI(s);try{if(!(c=rj(s,"return"))){if(o==="throw")throw i;return i}c=tj(c,s)}catch(p){u=!0,c=p}if(o==="throw")throw i;if(u)throw c;return nI(c),i},hj=TypeError,Xm=function(s,o){this.stopped=s,this.result=o},iI=Xm.prototype,Op=function(s,o,i){var c,u,p,m,v,b,y,S=i&&i.that,O=!(!i||!i.AS_ENTRIES),V=!(!i||!i.IS_RECORD),$=!(!i||!i.IS_ITERATOR),te=!(!i||!i.INTERRUPTED),J=ij(o,S),oe=function(Ie){return c&&rI(c,"normal",Ie),new Xm(!0,Ie)},xe=function(Ie){return O?(sj(Ie),te?J(Ie[0],Ie[1],oe):J(Ie[0],Ie[1])):te?J(Ie,oe):J(Ie)};if(V)c=s.iterator;else if($)c=s;else{if(!(u=uj(s)))throw hj(oj(s)+" is not iterable");if(lj(u)){for(p=0,m=cj(s);m>p;p++)if((v=xe(s[p]))&&tI(iI,v))return v;return new Xm(!1)}c=dj(s,u)}for(b=V?s.next:c.next;!(y=aj(b,c)).done;){try{v=xe(y.value)}catch(Ie){rI(c,"throw",Ie)}if(typeof v=="object"&&v&&tI(iI,v))return v}return new Xm(!1)},aI=$t("iterator"),sI=!1;try{var pj=0,oI={next:function(){return{done:!!pj++}},return:function(){sI=!0}};oI[aI]=function(){return this},Array.from(oI,function(){throw 2})}catch{}var lI=function(s,o){if(!o&&!sI)return!1;var i=!1;try{var c={};c[aI]=function(){return{next:function(){return{done:i=!0}}}},s(c)}catch{}return i},fj=jm,A2=Yd.CONSTRUCTOR||!lI(function(s){fj.all(s).then(void 0,function(){})}),_j=Mr,mj=al,vj=Xd,gj=qm,bj=Op;qr({target:"Promise",stat:!0,forced:A2},{all:function(s){var o=this,i=vj.f(o),c=i.resolve,u=i.reject,p=gj(function(){var m=mj(o.resolve),v=[],b=0,y=1;bj(s,function(S){var O=b++,V=!1;y++,_j(m,o,S).then(function($){V||(V=!0,v[O]=$,--y||c(v))},u)}),--y||c(v)});return p.error&&u(p.value),i.promise}});var yj=qr,Ej=Yd.CONSTRUCTOR,O2=jm,wj=en,xj=Bt,Sj=ol,cI=O2&&O2.prototype;if(yj({target:"Promise",proto:!0,forced:Ej,real:!0},{catch:function(s){return this.then(void 0,s)}}),xj(O2)){var dI=wj("Promise").prototype.catch;cI.catch!==dI&&Sj(cI,"catch",dI,{unsafe:!0})}var Tj=Mr,Cj=al,kj=Xd,Ij=qm,Nj=Op;qr({target:"Promise",stat:!0,forced:A2},{race:function(s){var o=this,i=kj.f(o),c=i.reject,u=Ij(function(){var p=Cj(o.resolve);Nj(s,function(m){Tj(p,o,m).then(i.resolve,c)})});return u.error&&c(u.value),i.promise}});var Aj=Mr,Oj=Xd;qr({target:"Promise",stat:!0,forced:Yd.CONSTRUCTOR},{reject:function(s){var o=Oj.f(this);return Aj(o.reject,void 0,s),o.promise}});var Rj=bi,Mj=gi,Dj=Xd,Lj=qr,Uj=Yd.CONSTRUCTOR,Pj=function(s,o){if(Rj(s),Mj(o)&&o.constructor===s)return o;var i=Dj.f(s);return(0,i.resolve)(o),i.promise};en("Promise"),Lj({target:"Promise",stat:!0,forced:Uj},{resolve:function(s){return Pj(this,s)}});var Fj=Hm,Hj=String,Io=function(s){if(Fj(s)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Hj(s)},R2=Tn,Bj=Sh,Vj=Io,zj=Ut,Gj=R2("".charAt),uI=R2("".charCodeAt),qj=R2("".slice),hI=function(s){return function(o,i){var c,u,p=Vj(zj(o)),m=Bj(i),v=p.length;return m<0||m>=v?s?"":void 0:(c=uI(p,m))<55296||c>56319||m+1===v||(u=uI(p,m+1))<56320||u>57343?s?Gj(p,m):c:s?qj(p,m,m+2):u-56320+(c-55296<<10)+65536}},pI={codeAt:hI(!1),charAt:hI(!0)},jj=pI.charAt,$j=Io,fI=Lc,Wj=t2,_I=r2,mI="String Iterator",Kj=fI.set,Qj=fI.getterFor(mI);Wj(String,"String",function(s){Kj(this,{type:mI,string:$j(s),index:0})},function(){var s,o=Qj(this),i=o.string,c=o.index;return c>=i.length?_I(void 0,!0):(s=jj(i,c),o.index+=s.length,_I(s,!1))});var vI={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},M2=Zs("span").classList,gI=M2&&M2.constructor&&M2.constructor.prototype,bI=gI===Object.prototype?void 0:gI,yI=Je,EI=vI,Yj=bI,Rp=mG,D2=Th,wI=$t,L2=wI("iterator"),xI=wI("toStringTag"),U2=Rp.values,SI=function(s,o){if(s){if(s[L2]!==U2)try{D2(s,L2,U2)}catch{s[L2]=U2}if(s[xI]||D2(s,xI,o),EI[o]){for(var i in Rp)if(s[i]!==Rp[i])try{D2(s,i,Rp[i])}catch{s[i]=Rp[i]}}}};for(var P2 in EI)SI(yI[P2]&&yI[P2].prototype,P2);SI(Yj,"DOMTokenList");var Xj=Sn,Zm=Array.isArray||function(s){return Xj(s)=="Array"},TI=Zm,Zj=c2,Jj=gi,e$=$t("species"),CI=Array,n$=function(s){var o;return TI(s)&&(o=s.constructor,(Zj(o)&&(o===CI||TI(o.prototype))||Jj(o)&&(o=o[e$])===null)&&(o=void 0)),o===void 0?CI:o},F2=function(s,o){return new(n$(s))(o===0?0:o)},t$=Ip,r$=pt,i$=Ae,a$=Dc,s$=F2,kI=Tn([].push),Pc=function(s){var o=s==1,i=s==2,c=s==3,u=s==4,p=s==6,m=s==7,v=s==5||p;return function(b,y,S,O){for(var V,$,te=i$(b),J=r$(te),oe=t$(y,S),xe=a$(J),Ie=0,Ue=O||s$,He=o?Ue(b,xe):i||m?Ue(b,0):void 0;xe>Ie;Ie++)if((v||Ie in J)&&($=oe(V=J[Ie],Ie,te),s))if(o)He[Ie]=$;else if($)switch(s){case 3:return!0;case 5:return V;case 6:return Ie;case 2:kI(He,V)}else switch(s){case 4:return!1;case 7:kI(He,V)}return p?-1:c||u?u:He}},Mp={forEach:Pc(0),map:Pc(1),filter:Pc(2),some:Pc(3),every:Pc(4),find:Pc(5),findIndex:Pc(6),filterReject:Pc(7)},o$=un,l$=dn,c$=$t("species"),Dp=function(s){return l$>=51||!o$(function(){var o=[];return(o.constructor={})[c$]=function(){return{foo:1}},o[s](Boolean).foo!==1})},d$=Mp.map;qr({target:"Array",proto:!0,forced:!Dp("map")},{map:function(s){return d$(this,s,arguments.length>1?arguments[1]:void 0)}});var Jm=w(function s(){g(this,s)}),H2=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.call(this)}return w(i,[{key:"getApiOption",value:function(){return{auth:this.getAuth(),path:this.getPath(),method:this.getMethod(),body:this.getData(),headers:this.getHeaders()}}},{key:"getAuth",value:function(){return!0}},{key:"getHeaders",value:function(){return{}}}]),i}(Jm),Br=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.call(this)}return w(i,[{key:"getPath",value:function(){return"/v1".concat(this.getSubPath())}}]),i}(H2),at=function(s){return s.CREATE="create",s.UPDATE="update",s.GET="get",s.DELETE="delete",s.QUERY="query",s.READY="ready",s.START="start",s.ENTER_HOST="enter_host",s.GET_HOSTS="get_hosts",s.EXIT_HOST="exit_host",s.HOST_ALIVE="host_alive",s.AUDIO="audio",s.VIDEO="video",s.HOST_CREATE_STREAM="host_create_stream",s.HOST_PUT_STREAM="host_put_stream",s.HOST_DELETE_STREAM="host_delete_stream",s.HOST_CONNECTED="host_connected",s.ENTER="enter",s.EXIT="exit",s.ALIVE="alive",s.GET_PARTICIPANTS="get_participants",s.CREATE_STREAM="create_stream",s.PUT_STREAM="put_stream",s.DELETE_STREAM="delete_stream",s.CREATE_RTMP_STREAM="create_rtmp_stream",s.DELETE_RTMP_STREAM="delete_rtmp_stream",s.CONNECTED="connected",s.ATTACH="attach",s.CUSTOM_ITEMS_GET="custom_items_get",s.CUSTOM_ITEMS_UPDATE="custom_items_update",s.CUSTOM_ITEMS_DELETE="custom_items_delete",s.LIVE_EVENT_READY="live_event_ready",s.LIVE_EVENT_STARTED="live_event_started",s.LIVE_EVENT_ENDED="live_event_ended",s.LIVE_EVENT_UPDATED="live_event_updated",s.HOST_ENTERED="host_entered",s.HOST_EXITED="host_exited",s.HOST_DISCONNECTED="host_disconnected",s.HOST_AUDIO_STATUS_CHANGED="host_audio_status_changed",s.HOST_VIDEO_STATUS_CHANGED="host_video_status_changed",s.PARTICIPANT_COUNT_CHANGED="participant_count_changed",s.CUSTOM_ITEMS_UPDATED="custom_items_updated",s.CUSTOM_ITEMS_DELETED="custom_items_deleted",s}({}),Dh=function(s){return s.SINGLE_HOST="single_host",s.MULTIPLE_HOST="multiple_host",s.SINGLE_HOST_AUDIO_ONLY="single_host_audio_only",s}({}),jr=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i)}(function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),(u=o.call(this)).payload=u.parseData(c),u}return w(i)}(Jm));function No(s){return{liveEventId:s.live_event_id,hostType:s.host_type,createdAt:s.created_at,setReadyAt:s.set_ready_at,startedAt:s.started_at,endedAt:s.ended_at,state:s.state,isHostStreaming:s.is_host_streaming,createdBy:s.created_by,setReadyBy:s.set_ready_by,startedBy:s.started_by,endedBy:s.ended_by,duration:s.duration,host:s.host?Ao(s.host):void 0,participantCount:s.participant_count,peakParticipantCount:s.peak_participant_count,cumulativeParticipantCount:s.cumulative_participant_count,userIdsForHost:s.user_ids_for_host,customItems:s.custom_items,title:s.title,coverUrl:s.cover_url}}function Ao(s){return{hostId:s.host_id,userId:s.user.user_id,nickname:s.user.nickname,profileURL:s.user.profile_url,enteredAt:s.entered_at,connectedAt:s.connected_at,disconnectedAt:s.disconnected_at,exitedAt:s.exited_at,duration:s.duration,state:s.state,isAudioOn:s.is_audio_on,isVideoOn:s.is_video_on,liveEventId:s.live_event_id,streamType:s.stream_type,rtmpStream:s.rtmp_stream?u$(s.rtmp_stream):void 0}}function u$(s){return{rtmpStreamId:s.rtmp_stream_id,rtmpHostUrl:s.rtmp_host_url,streamKey:s.stream_key,createdAt:s.created_at}}function Lp(s){return{id:s.rtcstream_id}}function B2(s){return{participantId:s.participant_id,userId:s.user.user_id,nickname:s.user.nickname,profileURL:s.user.profile_url,enteredAt:s.entered_at,exitedAt:s.exited_at,duration:s.duration,state:s.state,liveEventId:s.live_event_id}}var h$=Mp.filter;qr({target:"Array",proto:!0,forced:!Dp("filter")},{filter:function(s){return h$(this,s,arguments.length>1?arguments[1]:void 0)}});var p$=Ae,II=Oy;qr({target:"Object",stat:!0,forced:un(function(){II(1)})},{keys:function(s){return II(p$(s))}});var f$=TypeError,NI=function(s){if(s>9007199254740991)throw f$("Maximum allowed index exceeded");return s},_$=xy,m$=zi,v$=Om,ev=function(s,o,i){var c=_$(o);c in s?m$.f(s,c,v$(0,i)):s[c]=i},g$=qr,b$=un,y$=Zm,E$=gi,w$=Ae,x$=Dc,AI=NI,OI=ev,S$=F2,T$=Dp,C$=dn,RI=$t("isConcatSpreadable"),k$=C$>=51||!b$(function(){var s=[];return s[RI]=!1,s.concat()[0]!==s}),I$=function(s){if(!E$(s))return!1;var o=s[RI];return o!==void 0?!!o:y$(s)};g$({target:"Array",proto:!0,arity:1,forced:!k$||!T$("concat")},{concat:function(s){var o,i,c,u,p,m=w$(this),v=S$(m,0),b=0;for(o=-1,c=arguments.length;o<c;o++)if(I$(p=o===-1?m:arguments[o]))for(u=x$(p),AI(b+u),i=0;i<u;i++,b++)i in p&&OI(v,b,p[i]);else AI(b+1),OI(v,b++,p);return v.length=b,v}});var N$=bi,MI=function(){var s=N$(this),o="";return s.hasIndices&&(o+="d"),s.global&&(o+="g"),s.ignoreCase&&(o+="i"),s.multiline&&(o+="m"),s.dotAll&&(o+="s"),s.unicode&&(o+="u"),s.unicodeSets&&(o+="v"),s.sticky&&(o+="y"),o},A$=Mr,O$=Pe,R$=Be,M$=MI,DI=RegExp.prototype,D$=Rm.PROPER,L$=ol,U$=bi,LI=Io,P$=un,F$=function(s){var o=s.flags;return o!==void 0||"flags"in DI||O$(s,"flags")||!R$(DI,s)?o:A$(M$,s)},V2="toString",UI=RegExp.prototype[V2],H$=P$(function(){return UI.call({source:"a",flags:"b"})!="/a/b"}),B$=D$&&UI.name!=V2;function V$(s){return Object.keys(s).filter(function(o){return s[o]!=null}).map(function(o){return"".concat(encodeURIComponent(o),"=").concat(function(i){return Array.isArray(i)?i.map(function(c){return encodeURIComponent(c.toString())}).join(","):encodeURIComponent(i.toString())}(s[o]))}).join("&")}(H$||B$)&&L$(RegExp.prototype,V2,function(){var s=U$(this);return"/"+LI(s.source)+"/"+LI(F$(s))},{unsafe:!0});var z$=function(s){T(i,s);var o=R(i);function i(c,u,p){var m;return g(this,i),x(M(m=o.call(this)),"type",at.QUERY),m.params=m._normalizeParams(c),m.prevToken=u,m.nextToken=p,m}return w(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events?".concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_normalizeParams",value:function(c){var u=c.hostTypes,p=c.liveEventState,m=c.createdAtRange,v=c.participantCountRange,b=c.durationRange,y=c.liveEventIds,S=c.createdByUserIds,O=c.limit;return{hostTypes:u??[],liveEventState:p,createdAtRange:m,participantCountRange:v,durationRange:b,liveEventIds:y,createdByUserIds:S,limit:O!=null?Math.min(Math.max(1,O),100):void 0}}},{key:"_createQuery",value:function(){var c,u,p,m,v,b;return V$({host_types:Array.isArray(this.params.hostTypes)?this.params.hostTypes:[this.params.hostTypes],state:this.params.liveEventState,created_at_start_date:(c=this.params.createdAtRange)===null||c===void 0?void 0:c[0],created_at_end_date:(u=this.params.createdAtRange)===null||u===void 0?void 0:u[0],participant_count_gte:(p=this.params.participantCountRange)===null||p===void 0?void 0:p[0],participant_count_lte:(m=this.params.participantCountRange)===null||m===void 0?void 0:m[1],duration_range_gte:(v=this.params.durationRange)===null||v===void 0?void 0:v[0],duration_range_lte:(b=this.params.durationRange)===null||b===void 0?void 0:b[1],live_event_ids:this.params.liveEventIds,created_by_user_ids:this.params.createdByUserIds,limit:this.params.limit,prev:this.prevToken,next:this.nextToken})}}]),i}(Br),G$=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){var u;return{liveEvents:(u=c.live_events)===null||u===void 0?void 0:u.map(No),prev:c.prev,next:c.next}}}]),i}(jr),q$=un,z2=function(s,o){var i=[][s];return!!i&&q$(function(){i.call(null,o||function(){return 1},1)})},j$=qr,$$=Iy.indexOf,W$=z2,G2=Bm([].indexOf),PI=!!G2&&1/G2([1],1,-0)<0;j$({target:"Array",proto:!0,forced:PI||!W$("indexOf")},{indexOf:function(s){var o=arguments.length>1?arguments[1]:void 0;return PI?G2(this,s,o)||0:$$(this,s,o)}});var K$=fi,Q$=Zm,Y$=TypeError,X$=Object.getOwnPropertyDescriptor,Z$=K$&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}()?function(s,o){if(Q$(s)&&!X$(s,"length").writable)throw Y$("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},FI=mp,J$=TypeError,eW=qr,nW=Ae,tW=wm,rW=Sh,iW=Dc,aW=Z$,sW=NI,oW=F2,lW=ev,q2=function(s,o){if(!delete s[o])throw J$("Cannot delete property "+FI(o)+" of "+FI(s))},cW=Dp("splice"),dW=Math.max,uW=Math.min;eW({target:"Array",proto:!0,forced:!cW},{splice:function(s,o){var i,c,u,p,m,v,b=nW(this),y=iW(b),S=tW(s,y),O=arguments.length;for(O===0?i=c=0:O===1?(i=0,c=y-S):(i=O-2,c=uW(dW(rW(o),0),y-S)),sW(y+i-c),u=oW(b,c),p=0;p<c;p++)(m=S+p)in b&&lW(u,p,b[m]);if(u.length=c,i<c){for(p=S;p<y-c;p++)v=p+i,(m=p+c)in b?b[v]=b[m]:q2(b,v);for(p=y;p>y-c+i;p--)q2(b,p-1)}else if(i>c)for(p=y-c;p>S;p--)v=p+i-1,(m=p+c-1)in b?b[v]=b[m]:q2(b,v);for(p=0;p<i;p++)b[p+S]=arguments[p+2];return aW(b,y-c+i),u}});var ja=function(s){return s.VERBOSE="VERBOSE",s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.NONE="NONE",s}({}),hW=function(){function s(){g(this,s),this._listeners=[]}return w(s,[{key:"verbose",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[ja.VERBOSE].concat(i))}},{key:"debug",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[ja.DEBUG].concat(i))}},{key:"info",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[ja.INFO].concat(i))}},{key:"warning",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[ja.WARNING].concat(i))}},{key:"error",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];this._log.apply(this,[ja.ERROR].concat(i))}},{key:"_log",value:function(o){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];var p,m=z(this._listeners);try{for(m.s();!(p=m.n()).done;){var v=p.value;v._permit.apply(v,[o].concat(c))}}catch(b){m.e(b)}finally{m.f()}}},{key:"addListener",value:function(o){this._listeners.push(o)}},{key:"removeListener",value:function(o){var i=this._listeners.indexOf(o);i!==-1&&this._listeners.splice(i,1)}},{key:"removeAllListener",value:function(){this._listeners=[]}}]),s}(),it=new hW,pW=function(){function s(u,p,m){g(this,s),this.isLoading=!1,this.params=u,this.sender=p,this.prevToken=null,this.nextToken=null,this.liveEventManager=m}var o,i,c;return w(s,[{key:"hasPrev",get:function(){return!!this.prevToken}},{key:"hasNext",get:function(){return!this.prevToken&&!this.nextToken||!!this.nextToken}},{key:"next",value:(c=_(d().mark(function u(){return d().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasNext){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(null,this.nextToken));case 5:case"end":return p.stop()}},u,this)})),function(){return c.apply(this,arguments)})},{key:"prev",value:(i=_(d().mark(function u(){return d().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasPrev){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(this.prevToken,null));case 5:case"end":return p.stop()}},u,this)})),function(){return i.apply(this,arguments)})},{key:"_sendQueryCommand",value:(o=_(d().mark(function u(p,m){var v,b,y,S=this;return d().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!p||!m){O.next=2;break}throw new Error("internal error while creating LiveEventListQueryCommand");case 2:return this.isLoading=!0,v=new z$(this.params,p,m),O.next=6,this.sender.send(v);case 6:return b=O.sent,y=b.payload,this.prevToken=y.prev,this.nextToken=y.next,this.isLoading=!1,O.prev=11,O.abrupt("return",Promise.all(y.liveEvents.map(function(V){return S.liveEventManager.deserializeLiveEvent(V)})));case 15:return O.prev=15,O.t0=O.catch(11),it.error(O.t0),O.abrupt("return",y.liveEvents);case 19:case"end":return O.stop()}},u,this,[[11,15]])})),function(u,p){return o.apply(this,arguments)})}]),s}(),fW=qr,_W=Mp.find,mW=Am,j2="find",HI=!0;j2 in[]&&Array(1)[j2](function(){HI=!1}),fW({target:"Array",proto:!0,forced:HI},{find:function(s){return _W(this,s,arguments.length>1?arguments[1]:void 0)}}),mW(j2);var vW=qr,gW=Mp.findIndex,bW=Am,$2="findIndex",BI=!0;$2 in[]&&Array(1)[$2](function(){BI=!1}),vW({target:"Array",proto:!0,forced:BI},{findIndex:function(s){return gW(this,s,arguments.length>1?arguments[1]:void 0)}}),bW($2);var W2={exports:{}},VI={},zI=wm,yW=Dc,EW=ev,wW=Array,xW=Math.max,SW=Sn,TW=Zn,GI=Ep.f,CW=function(s,o,i){for(var c=yW(s),u=zI(o,c),p=zI(i===void 0?c:i,c),m=wW(xW(p-u,0)),v=0;u<p;u++,v++)EW(m,v,s[u]);return m.length=v,m},qI=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];VI.f=function(s){return qI&&SW(s)=="Window"?function(o){try{return GI(o)}catch{return CW(qI)}}(s):GI(TW(s))};var kW=un(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}}),IW=un,NW=gi,AW=Sn,jI=kW,nv=Object.isExtensible,OW=IW(function(){nv(1)})||jI?function(s){return!!NW(s)&&(!jI||AW(s)!="ArrayBuffer")&&(!nv||nv(s))}:nv,RW=!un(function(){return Object.isExtensible(Object.preventExtensions({}))}),MW=qr,DW=Tn,LW=Sm,UW=gi,K2=Pe,PW=zi.f,$I=Ep,FW=VI,Q2=OW,HW=RW,WI=!1,ql=cn("meta"),BW=0,Y2=function(s){PW(s,ql,{value:{objectID:"O"+BW++,weakData:{}}})},VW=W2.exports={enable:function(){VW.enable=function(){},WI=!0;var s=$I.f,o=DW([].splice),i={};i[ql]=1,s(i).length&&($I.f=function(c){for(var u=s(c),p=0,m=u.length;p<m;p++)if(u[p]===ql){o(u,p,1);break}return u},MW({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:FW.f}))},fastKey:function(s,o){if(!UW(s))return typeof s=="symbol"?s:(typeof s=="string"?"S":"P")+s;if(!K2(s,ql)){if(!Q2(s))return"F";if(!o)return"E";Y2(s)}return s[ql].objectID},getWeakData:function(s,o){if(!K2(s,ql)){if(!Q2(s))return!0;if(!o)return!1;Y2(s)}return s[ql].weakData},onFreeze:function(s){return HW&&WI&&Q2(s)&&!K2(s,ql)&&Y2(s),s}};LW[ql]=!0;var zW=Bt,GW=gi,KI=e2,QI=function(s,o,i){var c,u;return KI&&zW(c=o.constructor)&&c!==i&&GW(u=c.prototype)&&u!==i.prototype&&KI(s,u),s},qW=qr,jW=Je,$W=Tn,YI=Lm,WW=ol,KW=W2.exports,QW=Op,YW=s2,XW=Bt,ZW=Yn,X2=gi,Z2=un,JW=lI,eK=Um,nK=QI,tK=ol,rK=km,iK=tk,XI=function(s,o,i){for(var c in o)tK(s,c,o[c],i);return s},aK=Ip,sK=s2,oK=Yn,lK=Op,cK=t2,ZI=r2,dK=ik,Up=fi,JI=W2.exports.fastKey,eN=Lc.set,J2=Lc.getterFor,uK={getConstructor:function(s,o,i,c){var u=s(function(y,S){sK(y,p),eN(y,{type:o,index:rK(null),first:void 0,last:void 0,size:0}),Up||(y.size=0),oK(S)||lK(S,y[c],{that:y,AS_ENTRIES:i})}),p=u.prototype,m=J2(o),v=function(y,S,O){var V,$,te=m(y),J=b(y,S);return J?J.value=O:(te.last=J={index:$=JI(S,!0),key:S,value:O,previous:V=te.last,next:void 0,removed:!1},te.first||(te.first=J),V&&(V.next=J),Up?te.size++:y.size++,$!=="F"&&(te.index[$]=J)),y},b=function(y,S){var O,V=m(y),$=JI(S);if($!=="F")return V.index[$];for(O=V.first;O;O=O.next)if(O.key==S)return O};return XI(p,{clear:function(){for(var y=m(this),S=y.index,O=y.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete S[O.index],O=O.next;y.first=y.last=void 0,Up?y.size=0:this.size=0},delete:function(y){var S=this,O=m(S),V=b(S,y);if(V){var $=V.next,te=V.previous;delete O.index[V.index],V.removed=!0,te&&(te.next=$),$&&($.previous=te),O.first==V&&(O.first=$),O.last==V&&(O.last=te),Up?O.size--:S.size--}return!!V},forEach:function(y){for(var S,O=m(this),V=aK(y,arguments.length>1?arguments[1]:void 0);S=S?S.next:O.first;)for(V(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(y){return!!b(this,y)}}),XI(p,i?{get:function(y){var S=b(this,y);return S&&S.value},set:function(y,S){return v(this,y===0?0:y,S)}}:{add:function(y){return v(this,y=y===0?0:y,y)}}),Up&&iK(p,"size",{configurable:!0,get:function(){return m(this).size}}),u},setStrong:function(s,o,i){var c=o+" Iterator",u=J2(o),p=J2(c);cK(s,o,function(m,v){eN(this,{type:c,target:m,state:u(m),kind:v,last:void 0})},function(){for(var m=p(this),v=m.kind,b=m.last;b&&b.removed;)b=b.previous;return m.target&&(m.last=b=b?b.next:m.state.first)?ZI(v=="keys"?b.key:v=="values"?b.value:[b.key,b.value],!1):(m.target=void 0,ZI(void 0,!0))},i?"entries":"values",!i,!0),dK(o)}};(function(s,o,i){var c=s.indexOf("Map")!==-1,u=s.indexOf("Weak")!==-1,p=c?"set":"add",m=jW[s],v=m&&m.prototype,b=m,y={},S=function(oe){var xe=$W(v[oe]);WW(v,oe,oe=="add"?function(Ie){return xe(this,Ie===0?0:Ie),this}:oe=="delete"?function(Ie){return!(u&&!X2(Ie))&&xe(this,Ie===0?0:Ie)}:oe=="get"?function(Ie){return u&&!X2(Ie)?void 0:xe(this,Ie===0?0:Ie)}:oe=="has"?function(Ie){return!(u&&!X2(Ie))&&xe(this,Ie===0?0:Ie)}:function(Ie,Ue){return xe(this,Ie===0?0:Ie,Ue),this})};if(YI(s,!XW(m)||!(u||v.forEach&&!Z2(function(){new m().entries().next()}))))b=i.getConstructor(o,s,c,p),KW.enable();else if(YI(s,!0)){var O=new b,V=O[p](u?{}:-0,1)!=O,$=Z2(function(){O.has(1)}),te=JW(function(oe){new m(oe)}),J=!u&&Z2(function(){for(var oe=new m,xe=5;xe--;)oe[p](xe,xe);return!oe.has(-0)});te||((b=o(function(oe,xe){YW(oe,v);var Ie=nK(new m,oe,b);return ZW(xe)||QW(xe,Ie[p],{that:Ie,AS_ENTRIES:c}),Ie})).prototype=v,v.constructor=b),($||J)&&(S("delete"),S("has"),c&&S("get")),(J||V)&&S(p),u&&v.clear&&delete v.clear}y[s]=b,qW({global:!0,constructor:!0,forced:b!=m},y),eK(b,s),u||i.setStrong(b,s,c)})("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},uK);var nN=fi,hK=Tn,pK=Mr,fK=un,eE=Oy,_K=Qy,mK=Vy,vK=Ae,gK=pt,Lh=Object.assign,tN=Object.defineProperty,bK=hK([].concat),yK=!Lh||fK(function(){if(nN&&Lh({b:1},Lh(tN({},"a",{enumerable:!0,get:function(){tN(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var s={},o={},i=Symbol(),c="abcdefghijklmnopqrst";return s[i]=7,c.split("").forEach(function(u){o[u]=u}),Lh({},s)[i]!=7||eE(Lh({},o)).join("")!=c})?function(s,o){for(var i=vK(s),c=arguments.length,u=1,p=_K.f,m=mK.f;c>u;)for(var v,b=gK(arguments[u++]),y=p?bK(eE(b),p(b)):eE(b),S=y.length,O=0;S>O;)v=y[O++],nN&&!pK(m,b,v)||(i[v]=b[v]);return i}:Lh,rN=yK;qr({target:"Object",stat:!0,arity:2,forced:Object.assign!==rN},{assign:rN});var EK=Iy.includes,wK=Am;qr({target:"Array",proto:!0,forced:un(function(){return!Array(1).includes()})},{includes:function(s){return EK(this,s,arguments.length>1?arguments[1]:void 0)}}),wK("includes");var xK=gi,SK=Sn,TK=$t("match"),CK=function(s){var o;return xK(s)&&((o=s[TK])!==void 0?!!o:SK(s)=="RegExp")},kK=TypeError,IK=$t("match"),NK=qr,AK=function(s){if(CK(s))throw kK("The method doesn't accept regular expressions");return s},OK=Ut,iN=Io,RK=function(s){var o=/./;try{"/./"[s](o)}catch{try{return o[IK]=!1,"/./"[s](o)}catch{}}return!1},MK=Tn("".indexOf);NK({target:"String",proto:!0,forced:!RK("includes")},{includes:function(s){return!!~MK(iN(OK(this)),iN(AK(s)),arguments.length>1?arguments[1]:void 0)}});var Uh=function(s){return s.HOST="host",s.PARTICIPANT="participant",s}({}),aN=function(s){return s.CREATED="created",s.READY="ready",s.ONGOING="ongoing",s.PAUSED="paused",s.ENDED="ended",s}({}),sN=function(s){return s.ENTERED="entered",s.CONNECTED="connected",s.DISCONNECTED="disconnected",s.EXITED="exited",s}({}),DK=function(s){return s.ENTERED="entered",s.EXITED="exited",s}({}),LK=function(s){T(i,s);var o=R(i);function i(c,u,p){var m;return g(this,i),(m=o.call(this)).appId=c,m.userId=u,m.accessToken=p,m}return w(i,[{key:"getAuth",value:function(){return!1}},{key:"getData",value:function(){return{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}},{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/login")}},{key:"getMethod",value:function(){return"POST"}}]),i}(H2),$r=function(s){return s.POST="POST",s.GET="GET",s.DELETE="DELETE",s.OPTION="OPTION",s.PUT="PUT",s}({}),UK=function(s){T(i,s);var o=R(i);function i(c,u,p,m,v,b){var y;return g(this,i),x(M(y=o.call(this)),"type",at.CREATE),y.hostType=c,y.hostIds=Array.isArray(u)?u:[u],y.title=p===null?"":p,y.coverUrl=m===null?"":m,y.coverFile=v===null?"":v,y.customItems=b,y}return w(i,[{key:"getData",value:function(){var c=function(p,m,v,b){v!==void 0&&u.set(m,v)},u=new FormData;return c(0,"host_type",this.hostType),c(0,"user_ids_for_host",String(this.hostIds.map(function(p){return encodeURIComponent(p)}))),c(0,"title",this.title),c(0,"cover_url",this.coverUrl),c(0,"cover_file",this.coverFile),c(0,"customItems",JSON.stringify(this.customItems)),u}},{key:"getSubPath",value:function(){return"/live-events"}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),PK=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEvent:No(c.live_event)}}}]),i}(jr),FK=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this)),"type",at.GET),u.liveEventId=c,u}return w(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return $r.GET}}]),i}(Br),HK=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEvent:No(c.live_event)}}}]),i}(jr),BK=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this)),"type",at.ENTER_HOST),x(M(p),"mediaOption",{turnAudioOn:!0,turnVideoOn:!0}),p.liveEventId=c,p.mediaOption=u,p}return w(i,[{key:"getData",value:function(){return{is_audio_on:this.mediaOption.turnAudioOn,is_video_on:this.mediaOption.turnVideoOn}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),VK=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{host:Ao(c.host)}}}]),i}(jr),zK=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this)),"type",at.READY),u.liveEventId=c,u}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/ready")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),GK=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEvent:No(c.live_event)}}}]),i}(jr),qK=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this)),"type",at.START),u.liveEventId=c,u}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/start")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),jK=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEvent:No(c.live_event)}}}]),i}(jr),$K=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this)),"type",at.EXIT_HOST),p.liveEventId=c,p.hostId=u,p}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId)}},{key:"getMethod",value:function(){return $r.DELETE}}]),i}(Br),WK=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{host:Ao(c.host)}}}]),i}(jr),KK=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this)),"type",at.DELETE),u.liveEventId=c,u}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return $r.DELETE}}]),i}(Br),QK=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEvent:No(c.live_event)}}}]),i}(jr),YK=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this)),"type",at.ENTER),u.liveEventId=c,u}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),XK=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{participant:B2(c.participant)}}}]),i}(jr),ZK=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this)),"type",at.EXIT),p.liveEventId=c,p.participantId=u,p}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId)}},{key:"getMethod",value:function(){return $r.DELETE}}]),i}(Br),JK=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{participant:B2(c.participant)}}}]),i}(jr),eQ=function(s){T(i,s);var o=R(i);function i(c,u,p){var m;return g(this,i),x(M(m=o.call(this)),"type",at.CONNECTED),m.liveEventId=c,m.participantId=u,m.endpointId=p,m}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),nQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{endpoint:Lp(c.rtcstream)}}}]),i}(jr),tQ=function(s){T(i,s);var o=R(i);function i(c,u,p){var m;return g(this,i),x(M(m=o.call(this)),"type",at.HOST_CONNECTED),m.liveEventId=c,m.hostId=u,m.endpointId=p,m}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),rQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{endpoint:Lp(c.rtcstream)}}}]),i}(jr),iQ=function(s){T(i,s);var o=R(i);function i(c,u,p){var m;return g(this,i),x(M(m=o.call(this)),"type",at.DELETE_STREAM),m.liveEventId=c,m.participantId=u,m.endpointId=p,m}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return $r.DELETE}}]),i}(Br),aQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{}}}]),i}(jr),sQ=function(s){T(i,s);var o=R(i);function i(c,u,p){var m;return g(this,i),x(M(m=o.call(this)),"type",at.HOST_DELETE_STREAM),m.liveEventId=c,m.hostId=u,m.endpointId=p,m}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return $r.DELETE}}]),i}(Br),oQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{}}}]),i}(jr),lQ=function(s){T(i,s);var o=R(i);function i(c,u,p,m){var v;return g(this,i),x(M(v=o.call(this)),"type",at.ATTACH),v.liveEventId=c,v.participantId=u,v.endpointId=p,v.attachTo=m,v}return w(i,[{key:"getData",value:function(){return{attach_to:this.attachTo}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/attach")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),cQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{endpoint:Lp(c.rtcstream)}}}]),i}(jr),Cs=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),(u=o.call(this)).type=c.type,u.version=c.version,u.messageId=c.message_id,u.payload=u.parseData(c.payload),u}return w(i)}(Jm),oN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:No(c.live_event)}}}]),i}(Cs),lN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:No(c.live_event)}}}]),i}(Cs),cN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:No(c.live_event)}}}]),i}(Cs),dN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:Ao(c.host)}}}]),i}(Cs),uN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:Ao(c.host)}}}]),i}(Cs),hN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:Ao(c.host)}}}]),i}(Cs),nE=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:Ao(c.host)}}}]),i}(Cs),tE=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:Ao(c.host)}}}]),i}(Cs),dQ=function(s){T(i,s);var o=R(i);function i(c,u,p,m,v){var b;return g(this,i),x(M(b=o.call(this)),"type",at.CREATE_STREAM),b.liveEventId=c,b.participantId=u,b.sdp=p,b.audioAttr=m,b.videoAttr=v,b}return w(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),uQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{sdp:c.sdp,endpoint:Lp(c.rtcstream)}}}]),i}(jr),hQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{hosts:c.hosts.map(Ao)}}}]),i}(jr),pQ=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this)),"type",at.HOST_ALIVE),p.liveEventId=c,p.hostId=u,p}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/alive")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),fQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{}}}]),i}(jr),_Q=function(s){T(i,s);var o=R(i);function i(c,u,p,m,v){var b;return g(this,i),x(M(b=o.call(this)),"type",at.HOST_CREATE_STREAM),b.liveEventId=c,b.hostId=u,b.sdp=p,b.audioAttr=m,b.videoAttr=v,b}return w(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),mQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{sdp:c.sdp,endpoint:Lp(c.rtcstream)}}}]),i}(jr),vQ=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this)),"type",at.ALIVE),p.liveEventId=c,p.participantId=u,p}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/alive")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),gQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{}}}]),i}(jr),bQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{participant:B2(c.participant)}}}]),i}(jr),yQ=function(s){T(i,s);var o=R(i);function i(c,u,p){var m;return g(this,i),x(M(m=o.call(this)),"type",at.AUDIO),m.liveEventId=c,m.hostId=u,m.on=p,m}return w(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/audio")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),wQ=function(s){T(i,s);var o=R(i);function i(c,u,p){var m;return g(this,i),x(M(m=o.call(this)),"type",at.VIDEO),m.liveEventId=c,m.hostId=u,m.on=p,m}return w(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/video")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),pN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,host:Ao(c.host)}}}]),i}(Cs),xQ=function(s){T(i,s);var o=R(i);function i(c,u,p,m,v){var b;return g(this,i),x(M(b=o.call(this)),"type",at.UPDATE),b.liveEventId=c,b.hostIds=u===null?"":Array.isArray(u)?u:[u],b.title=p===null?"":p,b.coverUrl=m===null?"":m,b.coverFile=v===null?"":v,b}return w(i,[{key:"getData",value:function(){var c=function(p,m,v,b){v!==void 0&&u.set(m,v)},u=new FormData;return c(0,"user_ids_for_host",String(this.hostIds)),c(0,"title",this.title),c(0,"cover_url",this.coverUrl),c(0,"cover_file",this.coverFile),u}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return $r.PUT}}]),i}(Br),SQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEvent:No(c.live_event)}}}]),i}(jr),fN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,liveEvent:No(c.live_event)}}}]),i}(Cs),TQ=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this)),"type",at.CUSTOM_ITEMS_GET),u.liveEventId=c,u}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return $r.GET}}]),i}(Br),CQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{customItems:c.custom_items}}}]),i}(jr),kQ=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this)),"type",at.CUSTOM_ITEMS_UPDATE),p.liveEventId=c,p.customItems=u,p}return w(i,[{key:"getData",value:function(){return{custom_items:this.customItems,mode:"upsert"}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return $r.PUT}}]),i}(Br),IQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{customItems:c.custom_items,updatedKeys:c.updated_keys,updatedAt:c.updated_at}}}]),i}(jr),NQ=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this)),"type",at.CUSTOM_ITEMS_DELETE),p.liveEventId=c,p.keys=u,p}return w(i,[{key:"getData",value:function(){return this.keys}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return $r.DELETE}}]),i}(Br),AQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{customItems:c.custom_items,deletedKeys:c.deleted_keys,deletedAt:c.deleted_at}}}]),i}(jr),_N=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,updatedAt:c.updated_at,customItems:c.custom_items,updatedKeys:c.updated_keys}}}]),i}(Cs),mN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,deletedAt:c.deleted_at,customItems:c.custom_items,deletedKeys:c.deleted_keys}}}]),i}(Cs),OQ=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this)),"type",at.CUSTOM_ITEMS_DELETE),u.liveEventId=c,u}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return $r.DELETE}}]),i}(Br),RQ=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this)),"type",at.CREATE_RTMP_STREAM),u.liveEventId=c,u}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams")}},{key:"getMethod",value:function(){return $r.POST}}]),i}(Br),MQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{host:Ao(c.host)}}}]),i}(jr),DQ=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this)),"type",at.DELETE_RTMP_STREAM),p.liveEventId=c,p.rtmpStreamId=u,p}return w(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams/").concat(this.rtmpStreamId)}},{key:"getMethod",value:function(){return $r.DELETE}}]),i}(Br),LQ=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{}}}]),i}(jr),UQ=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),(u=o.call(this)).statsLog=c,u}return w(i,[{key:"getData",value:function(){return{log_group:"sdk_webrtc_statistics_v1.1",log_data:this.statsLog}}},{key:"getPath",value:function(){return"/v1/sdk/logs"}},{key:"getMethod",value:function(){return"POST"}}]),i}(H2),vN=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"parseData",value:function(c){return{liveEventId:c.live_event_id,participantCount:c.participant_count,peakParticipantCount:c.peak_participant_count,cumulativeParticipantCount:c.cumulative_participant_count}}}]),i}(Cs),Sr=function(){function s(){g(this,s)}return w(s,null,[{key:"createAuth",value:function(o,i,c){return new LK(o,i,c)}},{key:"createLiveEvent",value:function(o,i,c,u,p,m){return new UK(o,i,c,u,p,m)}},{key:"updateLiveEvent",value:function(o,i,c,u,p){return new xQ(o,i,c,u,p)}},{key:"createGetLiveEvent",value:function(o){return new FK(o)}},{key:"createEnterHost",value:function(o,i){return new BK(o,i)}},{key:"createReady",value:function(o){return new zK(o)}},{key:"createStart",value:function(o){return new qK(o)}},{key:"createExitHost",value:function(o,i){return new $K(o,i)}},{key:"createEndLiveEvent",value:function(o){return new KK(o)}},{key:"createEnter",value:function(o){return new YK(o)}},{key:"createExit",value:function(o,i){return new ZK(o,i)}},{key:"createConnected",value:function(o,i,c){return new eQ(o,i,c)}},{key:"createHostConnected",value:function(o,i,c){return new tQ(o,i,c)}},{key:"createStream",value:function(o,i,c,u,p){return new dQ(o,i,c,u,p)}},{key:"createHostCreateStream",value:function(o,i,c,u,p){return new _Q(o,i,c,u,p)}},{key:"createDeleteStream",value:function(o,i,c){return new iQ(o,i,c)}},{key:"createHostDeleteStream",value:function(o,i,c){return new sQ(o,i,c)}},{key:"createRTMPStream",value:function(o){return new RQ(o)}},{key:"deleteRTMPStream",value:function(o,i){return new DQ(o,i)}},{key:"createAttach",value:function(o,i,c,u){return new lQ(o,i,c,u)}},{key:"createAudio",value:function(o,i,c){return new yQ(o,i,c)}},{key:"createVideo",value:function(o,i,c){return new wQ(o,i,c)}},{key:"createAlive",value:function(o,i){return new vQ(o,i)}},{key:"createHostAlive",value:function(o,i){return new pQ(o,i)}},{key:"createGetCustomItems",value:function(o){return new TQ(o)}},{key:"createUpdateCustomItems",value:function(o,i){return new kQ(o,i)}},{key:"createDeleteCustomItems",value:function(o,i){return new NQ(o,i)}},{key:"createDeleteAllCustomItems",value:function(o){return new OQ(o)}},{key:"createStatsLogCommand",value:function(o){return new UQ(o)}},{key:"parseResponse",value:function(o,i){try{switch(o.type){case at.CREATE:return new PK(i);case at.GET:return new HK(i);case at.DELETE:return new QK(i);case at.QUERY:return new G$(i);case at.READY:return new GK(i);case at.START:return new jK(i);case at.ENTER_HOST:return new VK(i);case at.GET_HOSTS:return new hQ(i);case at.EXIT_HOST:return new WK(i);case at.HOST_ALIVE:return new fQ(i);case at.AUDIO:return new nE(i);case at.VIDEO:return new tE(i);case at.HOST_CREATE_STREAM:return new mQ(i);case at.HOST_DELETE_STREAM:return new oQ(i);case at.HOST_CONNECTED:return new rQ(i);case at.ENTER:return new XK(i);case at.EXIT:return new JK(i);case at.ALIVE:return new gQ(i);case at.GET_PARTICIPANTS:return new bQ(i);case at.CREATE_STREAM:return new uQ(i);case at.DELETE_STREAM:return new aQ(i);case at.CONNECTED:return new nQ(i);case at.ATTACH:return new cQ(i);case at.UPDATE:return new SQ(i);case at.CUSTOM_ITEMS_GET:return new CQ(i);case at.CUSTOM_ITEMS_UPDATE:return new IQ(i);case at.CUSTOM_ITEMS_DELETE:return new AQ(i);case at.CREATE_RTMP_STREAM:return new MQ(i);case at.DELETE_RTMP_STREAM:return new LQ(i)}}catch{return}}},{key:"parse",value:function(o){if(o.call_type==="live")try{switch(o.type){case at.LIVE_EVENT_READY:return new oN(o);case at.LIVE_EVENT_STARTED:return new lN(o);case at.LIVE_EVENT_ENDED:return new cN(o);case at.LIVE_EVENT_UPDATED:return new fN(o);case at.HOST_ENTERED:return new dN(o);case at.HOST_EXITED:return new uN(o);case at.HOST_CONNECTED:return new hN(o);case at.HOST_DISCONNECTED:return new pN(o);case at.HOST_AUDIO_STATUS_CHANGED:return new nE(o);case at.HOST_VIDEO_STATUS_CHANGED:return new tE(o);case at.PARTICIPANT_COUNT_CHANGED:return new vN(o);case at.CUSTOM_ITEMS_UPDATED:return new _N(o);case at.CUSTOM_ITEMS_DELETED:return new mN(o)}}catch{return}}}]),s}(),PQ=Mp.forEach,FQ=z2("forEach")?[].forEach:function(s){return PQ(this,s,arguments.length>1?arguments[1]:void 0)},gN=Je,bN=vI,HQ=bI,rE=FQ,BQ=Th,yN=function(s){if(s&&s.forEach!==rE)try{BQ(s,"forEach",rE)}catch{s.forEach=rE}};for(var iE in bN)bN[iE]&&yN(gN[iE]&&gN[iE].prototype);yN(HQ);var VQ=qr,EN=Zm,zQ=c2,GQ=gi,wN=wm,qQ=Dc,jQ=Zn,$Q=ev,WQ=$t,KQ=_k,QQ=Dp("slice"),YQ=WQ("species"),aE=Array,XQ=Math.max;VQ({target:"Array",proto:!0,forced:!QQ},{slice:function(s,o){var i,c,u,p=jQ(this),m=qQ(p),v=wN(s,m),b=wN(o===void 0?m:o,m);if(EN(p)&&(i=p.constructor,(zQ(i)&&(i===aE||EN(i.prototype))||GQ(i)&&(i=i[YQ])===null)&&(i=void 0),i===aE||i===void 0))return KQ(p,v,b);for(c=new(i===void 0?aE:i)(XQ(b-v,0)),u=0;v<b;v++,u++)v in p&&$Q(c,u,p[v]);return c.length=u,c}});var xN,sE,Oo=function(){function s(){g(this,s),x(this,"_listeners",{}),x(this,"on",this.addEventListener),x(this,"off",this.removeEventListener)}return w(s,[{key:"addEventListener",value:function(o,i){var c=this;return o in this._listeners||(this._listeners[o]=[]),this._listeners[o].push(i),function(){return c.removeEventListener(o,i)}}},{key:"once",value:function(o,i){var c=this;return this.on(o,function u(){i.apply(void 0,arguments),c.removeEventListener(o,u)})}},{key:"removeEventListener",value:function(o,i){if(o in this._listeners){for(var c=this._listeners[o],u=0,p=c.length;u<p;u++)if(c[u]===i)return void c.splice(u,1)}}},{key:"removeAllEventListeners",value:function(){this._listeners={}}},{key:"_dispatchEvent",value:function(o){if(o in this._listeners){for(var i=this._listeners[o].slice(),c=arguments.length,u=new Array(c>1?c-1:0),p=1;p<c;p++)u[p-1]=arguments[p];for(var m=0,v=i.length;m<v;m++){var b;(b=i[m]).call.apply(b,[this].concat(u))}}}}]),s}(),oE=un,lE=Je.RegExp,cE=oE(function(){var s=lE("a","y");return s.lastIndex=2,s.exec("abcd")!=null}),ZQ=cE||oE(function(){return!lE("a","y").sticky}),JQ=cE||oE(function(){var s=lE("^r","gy");return s.lastIndex=2,s.exec("str")!=null}),eY={BROKEN_CARET:JQ,MISSED_STICKY:ZQ,UNSUPPORTED_Y:cE},nY=un,tY=Je.RegExp,rY=nY(function(){var s=tY(".","s");return!(s.dotAll&&s.exec(`
`)&&s.flags==="s")}),iY=un,aY=Je.RegExp,sY=iY(function(){var s=aY("(?<a>b)","g");return s.exec("b").groups.a!=="b"||"b".replace(s,"$<a>c")!=="bc"}),Ph=Mr,tv=Tn,oY=Io,lY=MI,cY=eY,dY=tt.exports,uY=km,hY=Lc.get,pY=rY,fY=sY,_Y=dY("native-string-replace",String.prototype.replace),rv=RegExp.prototype.exec,dE=rv,mY=tv("".charAt),vY=tv("".indexOf),gY=tv("".replace),uE=tv("".slice),hE=(sE=/b*/g,Ph(rv,xN=/a/,"a"),Ph(rv,sE,"a"),xN.lastIndex!==0||sE.lastIndex!==0),SN=cY.BROKEN_CARET,pE=/()??/.exec("")[1]!==void 0;(hE||pE||SN||pY||fY)&&(dE=function(s){var o,i,c,u,p,m,v,b=this,y=hY(b),S=oY(s),O=y.raw;if(O)return O.lastIndex=b.lastIndex,o=Ph(dE,O,S),b.lastIndex=O.lastIndex,o;var V=y.groups,$=SN&&b.sticky,te=Ph(lY,b),J=b.source,oe=0,xe=S;if($&&(te=gY(te,"y",""),vY(te,"g")===-1&&(te+="g"),xe=uE(S,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&mY(S,b.lastIndex-1)!==`
`)&&(J="(?: "+J+")",xe=" "+xe,oe++),i=new RegExp("^(?:"+J+")",te)),pE&&(i=new RegExp("^"+J+"$(?!\\s)",te)),hE&&(c=b.lastIndex),u=Ph(rv,$?i:b,xe),$?u?(u.input=uE(u.input,oe),u[0]=uE(u[0],oe),u.index=b.lastIndex,b.lastIndex+=u[0].length):b.lastIndex=0:hE&&u&&(b.lastIndex=b.global?u.index+u[0].length:c),pE&&u&&u.length>1&&Ph(_Y,u[0],i,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(u[p]=void 0)}),u&&V)for(u.groups=m=uY(null),p=0;p<V.length;p++)m[(v=V[p])[0]]=u[v[1]];return u});var iv=dE;qr({target:"RegExp",proto:!0,forced:/./.exec!==iv},{exec:iv});var TN=Bm,CN=ol,bY=iv,kN=un,IN=$t,yY=Th,EY=IN("species"),fE=RegExp.prototype,NN=function(s,o,i,c){var u=IN(s),p=!kN(function(){var y={};return y[u]=function(){return 7},""[s](y)!=7}),m=p&&!kN(function(){var y=!1,S=/a/;return s==="split"&&((S={}).constructor={},S.constructor[EY]=function(){return S},S.flags="",S[u]=/./[u]),S.exec=function(){return y=!0,null},S[u](""),!y});if(!p||!m||i){var v=TN(/./[u]),b=o(u,""[s],function(y,S,O,V,$){var te=TN(y),J=S.exec;return J===bY||J===fE.exec?p&&!$?{done:!0,value:v(S,O,V)}:{done:!0,value:te(O,S,V)}:{done:!1}});CN(String.prototype,s,b[0]),CN(fE,u,b[1])}c&&yY(fE[u],"sham",!0)},wY=pI.charAt,AN=function(s,o,i){return o+(i?wY(s,o).length:1)},_E=Tn,xY=Ae,SY=Math.floor,mE=_E("".charAt),TY=_E("".replace),vE=_E("".slice),CY=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,kY=/\$([$&'`]|\d{1,2})/g,ON=Mr,IY=bi,NY=Bt,AY=Sn,OY=iv,RY=TypeError,RN=function(s,o){var i=s.exec;if(NY(i)){var c=ON(i,s,o);return c!==null&&IY(c),c}if(AY(s)==="RegExp")return ON(OY,s,o);throw RY("RegExp#exec called on incompatible receiver")},MY=fk,MN=Mr,av=Tn,DY=NN,LY=un,UY=bi,PY=Bt,FY=Yn,HY=Sh,BY=xm,Fh=Io,VY=Ut,zY=AN,GY=vp,qY=function(s,o,i,c,u,p){var m=i+s.length,v=c.length,b=kY;return u!==void 0&&(u=xY(u),b=CY),TY(p,b,function(y,S){var O;switch(mE(S,0)){case"$":return"$";case"&":return s;case"`":return vE(o,0,i);case"'":return vE(o,m);case"<":O=u[vE(S,1,-1)];break;default:var V=+S;if(V===0)return y;if(V>v){var $=SY(V/10);return $===0?y:$<=v?c[$-1]===void 0?mE(S,1):c[$-1]+mE(S,1):y}O=c[V-1]}return O===void 0?"":O})},jY=RN,gE=$t("replace"),$Y=Math.max,WY=Math.min,KY=av([].concat),bE=av([].push),DN=av("".indexOf),LN=av("".slice),QY=function(s){return s===void 0?s:String(s)},YY="a".replace(/./,"$0")==="$0",UN=!!/./[gE]&&/./[gE]("a","$0")==="",XY=!LY(function(){var s=/./;return s.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(s,"$<a>")!=="7"});DY("replace",function(s,o,i){var c=UN?"$":"$0";return[function(u,p){var m=VY(this),v=FY(u)?void 0:GY(u,gE);return v?MN(v,u,m,p):MN(o,Fh(m),u,p)},function(u,p){var m=UY(this),v=Fh(u);if(typeof p=="string"&&DN(p,c)===-1&&DN(p,"$<")===-1){var b=i(o,m,v,p);if(b.done)return b.value}var y=PY(p);y||(p=Fh(p));var S=m.global;if(S){var O=m.unicode;m.lastIndex=0}for(var V=[];;){var $=jY(m,v);if($===null||(bE(V,$),!S))break;Fh($[0])===""&&(m.lastIndex=zY(v,BY(m.lastIndex),O))}for(var te="",J=0,oe=0;oe<V.length;oe++){for(var xe=Fh(($=V[oe])[0]),Ie=$Y(WY(HY($.index),v.length),0),Ue=[],He=1;He<$.length;He++)bE(Ue,QY($[He]));var Ee=$.groups;if(y){var we=KY([xe],Ue,Ie,v);Ee!==void 0&&bE(we,Ee);var nn=Fh(MY(p,void 0,we))}else nn=qY(xe,v,Ie,Ue,Ee,p);Ie>=J&&(te+=LN(v,J,Ie)+nn,J=Ie+xe.length)}return te+LN(v,J)}]},!XY||!YY||UN);var ZY=Je,JY=Tn(1 .valueOf),PN=`	
\v\f\r \u2028\u2029\uFEFF`,eX=Ut,nX=Io,yE=PN,FN=Tn("".replace),tX=RegExp("^["+yE+"]+"),rX=RegExp("(^|[^"+yE+"])["+yE+"]+$"),EE=function(s){return function(o){var i=nX(eX(o));return 1&s&&(i=FN(i,tX,"")),2&s&&(i=FN(i,rX,"$1")),i}},HN={start:EE(1),end:EE(2),trim:EE(3)},iX=qr,aX=fi,BN=Je,VN=ZY,zN=Tn,sX=Lm,GN=Pe,oX=QI,lX=Be,cX=Wt,qN=vC,dX=un,uX=Ep.f,hX=yp.f,pX=zi.f,fX=JY,_X=HN.trim,sv="Number",Hh=BN[sv];VN[sv];var wE=Hh.prototype,mX=BN.TypeError,vX=zN("".slice),ov=zN("".charCodeAt),gX=function(s){var o,i,c,u,p,m,v,b,y=qN(s,"number");if(cX(y))throw mX("Cannot convert a Symbol value to a number");if(typeof y=="string"&&y.length>2){if(y=_X(y),(o=ov(y,0))===43||o===45){if((i=ov(y,2))===88||i===120)return NaN}else if(o===48){switch(ov(y,1)){case 66:case 98:c=2,u=49;break;case 79:case 111:c=8,u=55;break;default:return+y}for(m=(p=vX(y,2)).length,v=0;v<m;v++)if((b=ov(p,v))<48||b>u)return NaN;return parseInt(p,c)}}return+y},xE=sX(sv,!Hh(" 0o1")||!Hh("0b1")||Hh("+0x1")),lv=function(s){var o,i=arguments.length<1?0:Hh(function(c){var u=qN(c,"number");return typeof u=="bigint"?u:gX(u)}(s));return lX(wE,o=this)&&dX(function(){fX(o)})?oX(Object(i),this,lv):i};lv.prototype=wE,xE&&(wE.constructor=lv),iX({global:!0,constructor:!0,wrap:!0,forced:xE},{Number:lv}),xE&&function(s,o){for(var i,c=aX?uX(o):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),u=0;c.length>u;u++)GN(o,i=c[u])&&!GN(s,i)&&pX(s,i,hX(o,i))}(VN[sv],Hh);var SE=function(s){Object.keys(s).forEach(function(o){var i;((i=s[o])===void 0||Number.isNaN(i)||i===""||Array.isArray(i)&&i.length===0)&&delete s[o]})},bX=function(){var s=_(d().mark(function o(i){var c,u,p,m,v,b,y,S,O,V,$,te,J;return d().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(i){oe.next=2;break}throw new Error("'getCandidateInfo()' is called without rtcConnection");case 2:return oe.next=4,i.getStats();case 4:c=oe.sent,p=c.entries(),m=0;case 7:if(!(m<c.size)){oe.next=18;break}if(v=p.next(),b=v.value){oe.next=11;break}return oe.abrupt("continue",15);case 11:if((y=b[1]).type!=="candidate-pair"||y.state!=="succeeded"){oe.next=15;break}return u=y.localCandidateId,oe.abrupt("break",18);case 15:m++,oe.next=7;break;case 18:if(!(m<c.size)){oe.next=28;break}if(S=p.next(),O=S.value){oe.next=22;break}return oe.abrupt("continue",25);case 22:if((V=O[1]).type!=="local-candidate"||V.id!==u){oe.next=25;break}return oe.abrupt("return",{connectionType:($=V.candidateType)!==null&&$!==void 0?$:"",protocol:(te=V.protocol)!==null&&te!==void 0?te:"",relayProtocol:(J=V.relayProtocol)!==null&&J!==void 0?J:""});case 25:m++,oe.next=18;break;case 28:return oe.abrupt("return",null);case 29:case"end":return oe.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),yX=function(){var s=_(d().mark(function o(i){var c,u,p,m,v,b,y;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return c={},u={},p={},m={},v=new Map,b=new Map,i.forEach(function(O){O.type==="codec"&&v.set(O.id,O),O.type==="candidate-pair"&&O.state==="succeeded"&&(y=O.localCandidateId,c.webrtc_timestamp=O.time),O.type==="media-source"&&b.set(O.kind,O)}),i.forEach(function(O){if(O.type==="local-candidate"&&O.id===y&&(u.network_type=O.networkType,u.protocol=O.protocol,u.candidate_type=O.candidateType),O.kind==="audio"||O.mediaType==="audio"){var V;if(O.type==="outbound-rtp"&&(p.codec=(V=v.get(O.codecId))===null||V===void 0?void 0:V.mimeType,p.total_packets_sent=O.packetsSent,p.retransmitted_packets_sent=O.retransmittedPacketsSent),O.type==="remote-inbound-rtp"&&(p.rtt=1e3*O.roundTripTime,p.total_remote_packets_lost=O.packetsLost,p.total_remote_packets_lost_rate=p.total_remote_packets_lost/p.total_packets_sent*100),O.type==="inbound-rtp"){var $=O.packetsLost/(O.packetsLost+O.packetsReceived)*100;p.total_packets_received=O.packetsReceived,p.total_packets_lost_rate=$,p.total_packets_lost=O.packetsLost,p.jitter=1e3*O.jitter}O.type==="track"&&O.remoteSource&&(p.jitter_buffer_delay=O.jitterBufferDelay,p.jitter_buffer_emitted_count=O.jitterBufferDelayEmittedCount)}if(O.kind==="video"||O.mediaType==="video"){var te,J,oe,xe;if(m.video_source_width=(te=b.get("video"))===null||te===void 0?void 0:te.width,m.video_source_height=(J=b.get("video"))===null||J===void 0?void 0:J.height,m.video_source_frames_per_second=(oe=b.get("video"))===null||oe===void 0?void 0:oe.framesPerSecond,O.type==="outbound-rtp"&&(m.codec=(xe=v.get(O.codecId))===null||xe===void 0?void 0:xe.mimeType,m.fir_count=O.firCount,m.pli_count=O.pliCount,m.nack_count=O.nackCount,m.qp_sum=O.qpSum,m.total_packets_sent=O.packetsSent,m.retransmitted_packets_sent=O.retransmittedBytesSent,m.quality_limitation_reason=O.qualityLimitationReason,m.quality_limitation_resolution_changes=O.qualityLimitationResolutionChanges),O.type==="remote-inbound-rtp"&&(m.rtt=1e3*O.roundTripTime,m.total_remote_packets_lost=O.packetsLost,m.total_remote_packets_lost_rate=m.total_remote_packets_lost/m.total_packets_sent*100),O.type==="inbound-rtp"){m.header_bytes_received=O.headerBytesReceived,m.key_frames_decoded=O.keyFramesDecoded,m.total_decode_time=O.totalDecodeTime,m.total_inter_frame_delay=O.totalInterFrameDelay,m.total_squared_inter_frame_delay=O.totalSquaredInterFrameDelay;var Ie=O.packetsLost/(O.packetsLost+O.packetsReceived)*100;m.total_packets_lost=O.packetsLost,m.total_packets_received=O.packetsReceived,m.total_packets_lost_rate=Ie}O.type==="track"&&(O.remoteSource?(m.jitter_buffer_delay=O.jitterBufferDelay,m.jitter_buffer_emitted_count=O.jitterBufferDelayEmittedCount,m.received_frame_width=O.frameWidth,m.received_frame_height=O.frameHeight,m.frames_received=O.framesReceived,m.frames_decoded=O.framesDecoded,m.frames_dropped=O.framesDropped,m.freeze_count=O.freezeCount,m.pause_count=O.pauseCount,m.total_freezes_duration=O.totalFreezesDuration,m.total_pauses_duration=O.totalPausesDuration,m.total_frames_duration=O.totalFramesDuration,m.sum_of_squared_frames_duration=O.sumOfSquaredFramesDuration):(m.sent_frame_width=O.frameWidth,m.sent_frame_height=O.frameHeight))}}),SE(u),SE(p),SE(m),c.transport_info=u,c.audio=p,c.video=m,S.abrupt("return",c);case 15:case"end":return S.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),EX=function(){var s=_(d().mark(function o(i){var c;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i){u.next=2;break}throw new Error("'getStats()' is called without rtcConnection");case 2:return u.next=4,i.getStats();case 4:return c=u.sent,u.abrupt("return",yX(c));case 6:case"end":return u.stop()}},o)}));return function(o){return s.apply(this,arguments)}}(),jN=function(s){var o=l(l({},s),{},{transport_info:l({},s.transport_info),audio:l({},s.audio)});return s.video&&(o.video=l({},s.video)),o},$N=function(s,o){var i=jN(s),c=i.audio,u=i.video;return c.packets_lost=c.total_packets_lost,c.packets_received=c.total_packets_received,c.packets_sent=c.total_packets_sent,c.remote_packets_lost=c.total_remote_packets_lost,o&&(c.packets_lost-=o.audio.total_packets_lost,c.packets_received-=o.audio.total_packets_received,c.packets_sent-=o.audio.total_packets_sent,c.remote_packets_lost-=o.audio.total_remote_packets_lost),c.packets_lost_rate=c.packets_lost/(c.packets_lost+c.packets_received)*100,u.packets_lost=u.total_packets_lost,u.packets_received=u.total_packets_received,u.packets_sent=u.total_packets_sent,u.remote_packets_lost=u.total_remote_packets_lost,o&&(u.packets_lost-=o.video.total_packets_lost,u.packets_received-=o.video.total_packets_received,u.packets_sent-=o.video.total_packets_sent,u.remote_packets_lost-=o.video.total_remote_packets_lost),u.packets_lost_rate=u.packets_lost/(u.packets_lost+u.packets_received)*100,u.remote_packets_lost_rate=u.remote_packets_lost/u.packets_sent*100,i},WN=function(s,o){return(s??0)+(o??0)},KN=function(s,o,i){return(s??0)*i+(o??0)*(1-i)},TE=function(s){return s.OFFER="offer",s.ANSWER="answer",s.CANDIDATE="candidate",s}({}),QN=function(){function s(o){g(this,s),this._context=o}return w(s,[{key:"state",get:function(){return this._state}},{key:"_changeState",value:function(o){this._state&&this._state.type===o.type||(this._state&&this._state.destroy(),this._state=o,this._state.context=this._context,this._state.start())}}]),s}(),YN=function(){function s(o){g(this,s),this._stateMutator=o}return w(s,[{key:"context",set:function(o){this._context=o}},{key:"start",value:function(){this._onStart()}},{key:"destroy",value:function(){this._onDestroy()}}]),s}(),XN=function(){function s(o,i){g(this,s),this._context=o,this._stateMutator=i,this._context=o,this._stateMutator=i}return w(s,[{key:"state",get:function(){return this._stateMutator.state}}]),s}(),Fc=function(s){T(i,s);var o=R(i);function i(c){return g(this,i),o.call(this,c)}return w(i)}(YN),Tr=function(s){return s.IDLE="idle",s.OFFERING="offering",s.ANSWERING="answering",s.CONNECTED="connected",s.RECONNECTING="reconnecting",s.ICE_RESTART_OFFERING="iceRestartOffering",s.ICE_RESTART_ANSWERING="iceRestartAnswering",s.CLOSED="closed",s}({}),wX=function(s){T(c,s);var o,i=R(c);function c(u,p){var m;return g(this,c),x(M(m=i.call(this,u)),"type",Tr.ANSWERING),m._offerCommand=p,m}return w(c,[{key:"_onStart",value:function(){this._context.dispatchEvent("answering"),this._context.createRTCConnection(),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(o=_(d().mark(function u(p){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.prepareSessionDescription(),this._context.sendAnswer().catch(function(v){});case 4:case"end":return m.stop()}},u,this)})),function(u){return o.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(Fc),xX=function(s){T(i,s);var o=R(i);function i(){var c;g(this,i);for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];return x(M(c=o.call.apply(o,[this].concat(p))),"type",Tr.CLOSED),c}return w(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(Fc),SX=function(s){T(c,s);var o,i=R(c);function c(u,p){var m;return g(this,c),x(M(m=i.call(this,u)),"type",Tr.CONNECTED),m._isReconnected=p,m}return w(c,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(o=_(d().mark(function u(p){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:this._stateMutator.toReconnecting(p);case 1:case"end":return m.stop()}},u,this)})),function(u){return o.apply(this,arguments)})},{key:"onIceDisconnected",value:function(){this._stateMutator.toReconnecting()}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(Fc),TX=function(s){T(c,s);var o,i=R(c);function c(u,p){var m;return g(this,c),x(M(m=i.call(this,u)),"type",Tr.ICE_RESTART_ANSWERING),m._offerCommand=p,m}return w(c,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartAnswering"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(o=_(d().mark(function u(p){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.sendAnswer().catch(function(v){});case 3:case"end":return m.stop()}},u,this)})),function(u){return o.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(Fc),CX=function(s){T(i,s);var o=R(i);function i(){var c;g(this,i);for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];return x(M(c=o.call.apply(o,[this].concat(p))),"type",Tr.ICE_RESTART_OFFERING),c}return w(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartOffering"),this._context.sendOffer(!0)}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(c){this._context.setRemoteDescription("answer",c.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(Fc),kX=function(s){T(c,s);var o,i=R(c);function c(){var u;g(this,c);for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return x(M(u=i.call.apply(i,[this].concat(m))),"type",Tr.IDLE),u}return w(c,[{key:"_onStart",value:function(){}},{key:"_onDestroy",value:function(){}},{key:"createOffer",value:function(){this._stateMutator.toOffering()}},{key:"onOfferReceived",value:(o=_(d().mark(function u(p){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:this._stateMutator.toAnswering(p);case 1:case"end":return m.stop()}},u,this)})),function(u){return o.apply(this,arguments)})},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),c}(Fc),IX=function(s){T(i,s);var o=R(i);function i(){var c;g(this,i);for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];return x(M(c=o.call.apply(o,[this].concat(p))),"type",Tr.OFFERING),c}return w(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("offering"),this._context.createRTCConnection(),this._context.prepareSessionDescription()}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(c){this._context.setRemoteDescription("answer",c.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(Fc),NX=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this,c)),"type",Tr.RECONNECTING),p._offerCommand=u,p}return w(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("reconnecting"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(c){this._stateMutator.toIceRestartAnswering(c)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(Fc),AX=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toIdle",value:function(){this._changeState(new kX(this))}},{key:"toOffering",value:function(){this._changeState(new IX(this))}},{key:"toAnswering",value:function(c){this._changeState(new wX(this,c))}},{key:"toConnected",value:function(c){this._changeState(new SX(this,c))}},{key:"toReconnecting",value:function(c){this._changeState(new NX(this,c))}},{key:"toIceRestartOffering",value:function(){this._changeState(new CX(this))}},{key:"toIceRestartAnswering",value:function(c){this._changeState(new TX(this,c))}},{key:"toClosed",value:function(){this._changeState(new xX(this))}}]),i}(QN),OX=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),(u=o.call(this,c,new AX(c)))._stateMutator.toIdle(),u}return w(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onOfferReceived",value:function(c){it.verbose("[".concat(this.state.type,"] onOfferReceived"));var u=this.state;switch(u.type){case Tr.IDLE:case Tr.ANSWERING:case Tr.CONNECTED:case Tr.RECONNECTING:case Tr.ICE_RESTART_ANSWERING:u.onOfferReceived(c);break;default:it.error("[".concat(this.state.type,"] onOfferReceived"))}}},{key:"onAnswerReceived",value:function(c){it.verbose("[".concat(this.state.type,"] onAnswerReceived"));var u=this.state;switch(u.type){case Tr.OFFERING:case Tr.ICE_RESTART_OFFERING:u.onAnswerReceived(c);break;default:it.error("[".concat(this.state.type,"] onAnswerReceived"))}}},{key:"onClose",value:function(){it.verbose("[".concat(this.state.type,"] onClose"));var c=this.state;switch(c.type){case Tr.IDLE:case Tr.OFFERING:case Tr.ANSWERING:case Tr.CONNECTED:case Tr.RECONNECTING:case Tr.ICE_RESTART_OFFERING:case Tr.ICE_RESTART_ANSWERING:c.onClose();break;default:it.error("[".concat(this.state.type,"] onClose"))}}},{key:"createOffer",value:function(){it.verbose("[".concat(this.state.type,"] createOffer"));var c=this.state;c.type===Tr.IDLE?c.createOffer():it.error("[".concat(this.state.type,"] createOffer"))}},{key:"onIceConnected",value:function(){it.verbose("[".concat(this.state.type,"] onIceConnected"));var c=this.state;switch(c.type){case Tr.OFFERING:case Tr.ANSWERING:case Tr.RECONNECTING:case Tr.ICE_RESTART_OFFERING:case Tr.ICE_RESTART_ANSWERING:c.onIceConnected();break;default:it.error("[".concat(this.state.type,"] onIceConnected"))}}},{key:"onIceDisconnected",value:function(){it.verbose("[".concat(this.state.type,"] onIceDisconnected"));var c=this.state;c.type===Tr.CONNECTED?c.onIceDisconnected():it.error("[".concat(this.state.type,"] onIceDisconnected"))}},{key:"onIceFailed",value:function(){it.verbose("[".concat(this.state.type,"] onIceFailed"));var c=this.state;switch(c.type){case Tr.CONNECTED:case Tr.RECONNECTING:c.onIceFailed();break;default:it.error("[".concat(this.state.type,"] onIceFailed"))}}}]),i}(XN),RX=function(s){return s.RELAY="relay",s.ALL="all",s}({}),MX=function(s){T(m,s);var o,i,c,u,p=R(m);function m(v,b,y,S,O,V,$,te){var J;return g(this,m),(J=p.call(this))._ctx=v,J.id=b,J._signalingClient=y,J._localStream=S,J._isInitiator=O,J._turnCredential=V,J._mediaDirections=$,J._isDisposable=te,J._stateMachine=new OX({dispatchEvent:J._dispatchEvent.bind(M(J)),isInitiator:J._isInitiator,setRemoteDescription:J._setRemoteDescription.bind(M(J)),sendAnswer:J._sendAnswer.bind(M(J)),sendOffer:J._sendOffer.bind(M(J)),createRTCConnection:J._createRTCConnection.bind(M(J)),prepareSessionDescription:J._prepareSessionDescription.bind(M(J)),isDisposable:J._isDisposable}),S&&S.on("streamChanged",function(oe){return J.onLocalStream(oe)}),J}return w(m,[{key:"_state",get:function(){return this._stateMachine.state}},{key:"rtcConnection",get:function(){return this._rtcConnection}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"signalingClient",get:function(){return this._signalingClient}},{key:"onEvent",value:function(v){switch(v.type){case TE.CANDIDATE:return void this._receiveCandidate(v);case TE.OFFER:this._stateMachine.onOfferReceived(v);break;case TE.ANSWER:this._stateMachine.onAnswerReceived(v);break;default:it.error(new Error("unhandled call event ".concat(v)))}}},{key:"createOffer",value:function(){this._stateMachine.createOffer()}},{key:"close",value:function(){this._closeRTCConnection(),this._stateMachine.onClose()}},{key:"onLocalStream",value:function(v){if(this._rtcConnection){var b,y=z(v.getTracks());try{for(y.s();!(b=y.n()).done;){var S=b.value;this._replaceTrack(S)}}catch(O){y.e(O)}finally{y.f()}}}},{key:"getCandidateInfo",value:(u=_(d().mark(function v(){return d().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",bX(this.rtcConnection));case 1:case"end":return b.stop()}},v,this)})),function(){return u.apply(this,arguments)})},{key:"getStatsLog",value:(c=_(d().mark(function v(){return d().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",EX(this.rtcConnection));case 1:case"end":return b.stop()}},v,this)})),function(){return c.apply(this,arguments)})},{key:"_replaceTrack",value:function(v){var b,y=z(this._rtcConnection.getSenders());try{for(y.s();!(b=y.n()).done;){var S=b.value;S.track&&S.track.kind===v.kind&&S.replaceTrack(v)}}catch(O){y.e(O)}finally{y.f()}}},{key:"_createRTCConnection",value:function(){var v,b=this;this._turnCredential&&(v={iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:this._turnCredential.transportPolicy||RX.ALL});var y=new RTCPeerConnection(v);y.onnegotiationneeded=function(){b._sendOffer(!1)},y.onicecandidate=function(S){var O,V;S.candidate&&((O=(V=b._signalingClient).sendCandidate)===null||O===void 0||O.call(V,S.candidate))},y.onconnectionstatechange=function(){return b._handleConnectionStateChange(y)},y.oniceconnectionstatechange=function(){return b._handleIceConnectionStateChange(y)},y.ontrack=function(S){return b._onRemoteTrack(S)},this._rtcConnection=y}},{key:"_closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null,delete this._remoteStream)}},{key:"_prepareSessionDescription",value:function(){var v=this._mediaDirections,b=v.audio,y=v.video,S={sendrecv:[],sendonly:[],recvonly:[],none:[]};S[b].push("audio"),S[y].push("video"),S.sendrecv.length&&this._addTracks(S.sendrecv),S.sendonly.length&&this._addSendOnlyTransceivers(S.sendonly),S.recvonly.length&&this._addReceiveOnlyTransceivers(S.recvonly)}},{key:"_addTracks",value:function(v){var b=this;it.debug("_addTracks()");var y=this._localStream.localStream;y.getTracks().forEach(function(S){v.includes(S.kind)&&b._rtcConnection.addTrack(S,y)})}},{key:"_addReceiveOnlyTransceivers",value:function(v){var b=this;v.forEach(function(y){b._rtcConnection.addTransceiver(y,{direction:"recvonly"})})}},{key:"_addSendOnlyTransceivers",value:function(v){var b=this,y=this._localStream.localStream;v.forEach(function(S){y.getTracks().forEach(function(O){O.kind===S&&b._rtcConnection.addTransceiver(O,{direction:"sendonly",streams:[y]})})})}},{key:"_setRemoteDescription",value:function(v,b){var y=b.replace(/a=extmap:0 ulpfec\r\n/,""),S=new RTCSessionDescription({type:v,sdp:y});return this._rtcConnection.setRemoteDescription(S)}},{key:"_sendOffer",value:(i=_(d().mark(function v(b){var y,S;return d().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return y={iceRestart:b||!1},O.next=3,this._rtcConnection.createOffer(y);case 3:return S=O.sent,O.next=6,this._rtcConnection.setLocalDescription(S);case 6:return O.abrupt("return",this._signalingClient.sendOfferSdp(this._rtcConnection.localDescription));case 7:case"end":return O.stop()}},v,this)})),function(v){return i.apply(this,arguments)})},{key:"_sendAnswer",value:(o=_(d().mark(function v(){var b;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,this._rtcConnection.createAnswer();case 2:return(b=y.sent).sdp=b.sdp.replace("actpass","active"),y.next=6,this._rtcConnection.setLocalDescription(b);case 6:return y.abrupt("return",this._signalingClient.sendAnswerSdp(this._rtcConnection.localDescription));case 7:case"end":return y.stop()}},v,this)})),function(){return o.apply(this,arguments)})},{key:"_handleIceConnectionStateChange",value:function(v){switch(it.verbose("[".concat(this._state.type,"] iceConnectionState ").concat(v.iceConnectionState)),v.iceConnectionState){case"connected":this._stateMachine.onIceConnected();break;case"disconnected":this._stateMachine.onIceDisconnected();break;case"failed":this._dispatchEvent("iceFailed")}}},{key:"_handleConnectionStateChange",value:function(v){it.verbose("[".concat(this._state.type,"] connectionState ").concat(v.connectionState)),v.connectionState==="failed"&&this._dispatchEvent("iceFailed")}},{key:"_receiveCandidate",value:function(v){var b=v.payload.candidate;this._rtcConnection.addIceCandidate({sdpMLineIndex:b.sdpMLineIndex,sdpMid:b.sdpMid,candidate:b.sdp}).catch(function(y){it.error(y)})}},{key:"_onRemoteTrack",value:function(v){this._remoteStream=v.streams[0],this._dispatchEvent("remoteStream",this._remoteStream)}}]),m}(Oo),CE=w(function s(){var o=this;g(this,s),this.promise=new Promise(function(i,c){o.resolve=i,o.reject=c})}),kE=function(){var s=_(d().mark(function o(i,c,u){var p,m,v,b,y,S,O,V,$=arguments;return d().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return p=$.length>3&&$[3]!==void 0?$[3]:{count:0,deferred:new CE},m=p.deferred,v=p.count,te.prev=2,te.next=5,c();case 5:y=te.sent,v>0&&((b=u.onRecover)===null||b===void 0||b.call(u)),m.resolve(y),te.next=19;break;case 10:if(te.prev=10,te.t0=te.catch(2),(S=u.onError)===null||S===void 0||S.call(u,te.t0),!((O=i.calcTimeout(v+1))>=0)){te.next=18;break}return(V=u.onRetrial)===null||V===void 0||V.call(u,v+1,te.t0),setTimeout(function(){kE(i,c,u,{count:v+1,deferred:m})},O),te.abrupt("return",m.promise);case 18:m.reject(te.t0);case 19:return te.abrupt("return",m.promise);case 20:case"end":return te.stop()}},o,null,[[2,10]])}));return function(o,i,c){return s.apply(this,arguments)}}(),DX=function(){function s(){g(this,s)}return w(s,[{key:"calcTimeout",value:function(o){switch(o){case 1:return 1e3;case 2:return 2e3;case 3:return 3e3;default:return-1}}}]),s}(),ZN=function(){function s(o,i,c){g(this,s),this.interval=o,this.noise=i,this.maxRetrial=c}return w(s,[{key:"calcTimeout",value:function(o){return o>this.maxRetrial?-1:this.interval+(Math.random()-.5)*this.noise*2}}]),s}(),JN=function(){function s(o){g(this,s),this._requests=new Map,this.timeoutTime=o}return w(s,[{key:"has",value:function(o){return this._requests.has(o)}},{key:"get",value:function(o){return this._requests.get(o)}},{key:"register",value:function(o){if(!o)throw new Error("invalid request id");if(this._requests.has(o))throw new Error("duplicate requests");var i=new CE;return this._requests.set(o,{deferred:i,timer:this._createTimeoutTimer(o)}),i}},{key:"unregister",value:function(o){if(!this._requests.has(o))return null;var i=this._requests.get(o),c=i.timer,u=i.deferred;return clearTimeout(c),this._requests.delete(o),u}},{key:"_createTimeoutTimer",value:function(o){var i=this;return setTimeout(function(){i.unregister(o).reject(new Error("no response due to timeout"))},this._getTimeoutTime())}},{key:"rejectAll",value:function(o){var i,c=z(this._requests.keys());try{for(c.s();!(i=c.n()).done;){var u=i.value,p=this._requests.get(u);clearTimeout(p.timer),p.deferred.reject(o)}}catch(m){c.e(m)}finally{c.f()}this._requests.clear()}},{key:"_getTimeoutTime",value:function(){return this.timeoutTime}}]),s}(),LX=function(){function s(u,p,m,v){g(this,s),x(this,"_timeoutTime",6e4),this._ctx=u,this._participantId=p,this._mediaDirections=m,this._endpointId=v,this._requestMap=new JN(this._timeoutTime)}var o,i,c;return w(s,[{key:"sendOfferSdp",value:(c=_(d().mark(function u(p){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this._endpointId){m.next=5;break}return m.next=3,this._sendOfferAndUnregisterCreateEndpointRequest(p);case 3:m.next=7;break;case 5:return m.next=7,this._sendOfferAndUnregisterPutEndpointRequest(p);case 7:case"end":return m.stop()}},u,this)})),function(u){return c.apply(this,arguments)})},{key:"_sendOfferAndUnregisterCreateEndpointRequest",value:(i=_(d().mark(function u(p){var m,v;return d().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return m=this._requestMap.unregister("".concat(this._participantId,":create-endpoint-request")),b.prev=1,b.next=4,this._sendCreateEndpoint(p);case 4:return v=b.sent,m&&m.resolve(v),b.abrupt("return",v);case 9:throw b.prev=9,b.t0=b.catch(1),m&&m.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},u,this,[[1,9]])})),function(u){return i.apply(this,arguments)})},{key:"_sendOfferAndUnregisterPutEndpointRequest",value:(o=_(d().mark(function u(p){var m,v;return d().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return m=this._requestMap.unregister("".concat(this._participantId,":put-endpoint-request")),b.prev=1,b.next=4,this._sendPutEndpoint(p);case 4:return v=b.sent,m&&m.resolve(v),b.abrupt("return",v);case 9:throw b.prev=9,b.t0=b.catch(1),m&&m.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},u,this,[[1,9]])})),function(u){return o.apply(this,arguments)})},{key:"registerCreateEndpointRequest",value:function(){if(this._endpointId)throw new Error("Cannot register create endpoint request on endpoint recycle");return this._requestMap.register("".concat(this._participantId,":create-endpoint-request"))}},{key:"registerPutEndpointRequest",value:function(){if(!this._endpointId)throw new Error("Cannot register put endpoint request without endpoint id");return this._requestMap.register("".concat(this._participantId,":put-endpoint-request"))}},{key:"_sendCreateEndpoint",value:function(u){return this._ctx.sendCreateEndpoint(u)}},{key:"_sendPutEndpoint",value:function(u){return this._ctx.sendPutEndpoint(u)}}]),s}(),Hc=function(s){T(i,s);var o=R(i);function i(c){return g(this,i),o.call(this,c)}return w(i)}(YN),mr=function(s){return s.IDLE="idle",s.OFFERING="offering",s.ESTABLISHED="established",s.CONNECTED="connected",s.DISCONNECTED="disconnected",s.RECONNECTING="reconnecting",s.RELEASING="releasing",s.CLOSED="closed",s}({}),UX=function(s){T(i,s);var o=R(i);function i(){var c;g(this,i);for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];return x(M(c=o.call.apply(o,[this].concat(p))),"type",mr.CLOSED),c}return w(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(Hc),PX=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this,c)),"type",mr.CONNECTED),u}return w(i,[{key:"_onStart",value:function(){var c=this._context.reconnectCount>0;this._context.dispatchEvent("connected",c)}},{key:"_onDestroy",value:function(){}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!0)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Hc),FX=function(s){T(i,s);var o=R(i);function i(c,u,p){var m;return g(this,i),x(M(m=o.call(this,c)),"type",mr.ESTABLISHED),m._sdp=u,m._hasPendingAttach=p,m}return w(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("established"),this._context.setRemoteDescription(this._sdp),this._hasPendingAttach&&this.onAttach()}},{key:"_onDestroy",value:function(){}},{key:"onPCConnected",value:function(){this._stateMutator.toConnected()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Hc),HX=function(s){T(i,s);var o=R(i);function i(){var c;g(this,i);for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];return x(M(c=o.call.apply(o,[this].concat(p))),"type",mr.IDLE),c}return w(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("idle"),this._stateMutator.toOffering()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Hc),BX=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this,c)),"type",mr.OFFERING),u}return w(i,[{key:"_onStart",value:function(){this._request()}},{key:"_onDestroy",value:function(){this._requestTimeout&&clearTimeout(this._requestTimeout),delete this._requestTimeout}},{key:"_request",value:function(){this._context.createSession(),this._context.requestCreateOrPutEndpoint()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onEndpointRequestSucceeded",value:function(c){this._stateMutator.toEstablished(c,this._hasPendingAttach)}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._hasPendingAttach=!0}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Hc),VX=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this,c)),"type",mr.DISCONNECTED),p.shouldDispatchEvent=u,p}return w(i,[{key:"_onStart",value:function(){this.shouldDispatchEvent&&this._context.dispatchEvent("disconnected"),this._stateMutator.toReconnecting()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Hc),zX=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this,c)),"type",mr.RECONNECTING),u}return w(i,[{key:"_onStart",value:function(){var c=this;this._context.reconnectCount+=1,setTimeout(function(){c._stateMutator.toOffering()},5e3+1e3*Math.random()),this._context.endpoint.onReconnecting()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Hc),GX=function(s){T(i,s);var o=R(i);function i(){var c;g(this,i);for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];return x(M(c=o.call.apply(o,[this].concat(p))),"type",mr.RELEASING),c}return w(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("releasing"),this._context.closePeerConnection(),this._context.endpoint.id&&this._context.requestRelease()}},{key:"_onDestroy",value:function(){}},{key:"onEndpointRequestSucceeded",value:function(){this._context.requestRelease()}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toClosed()}},{key:"onReleased",value:function(){this._stateMutator.toClosed()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(Hc),qX=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"Endpoint"}},{key:"toIdle",value:function(){this._changeState(new HX(this))}},{key:"toOffering",value:function(){this._changeState(new BX(this))}},{key:"toEstablished",value:function(c,u){this._changeState(new FX(this,c,u))}},{key:"toConnected",value:function(){this._changeState(new PX(this))}},{key:"toDisconnected",value:function(c){this._changeState(new VX(this,c))}},{key:"toReconnecting",value:function(){this._changeState(new zX(this))}},{key:"toReleasing",value:function(){this._changeState(new GX(this))}},{key:"toClosed",value:function(){this._changeState(new UX(this))}}]),i}(QN),jX=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),(u=o.call(this,c,new qX(c)))._stateMutator.toIdle(),u}return w(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onEndpointRequestSucceeded",value:function(c){it.verbose("[".concat(this.state.type,"] onEndpointRequestSucceeded"));var u=this.state;switch(u.type){case mr.OFFERING:u.onEndpointRequestSucceeded(c);break;case mr.RELEASING:u.onEndpointRequestSucceeded();break;default:it.error("[".concat(this.state.type,"] onEndpointRequestSucceeded"))}}},{key:"onEndpointRequestFailed",value:function(){it.verbose("[".concat(this.state.type,"] onEndpointCreateFailed"));var c=this.state;switch(c.type){case mr.OFFERING:case mr.RELEASING:c.onEndpointRequestFailed();break;default:it.error("[".concat(this.state.type,"] onEndpointCreateFailed"))}}},{key:"onICEFailed",value:function(){it.verbose("[".concat(this.state.type,"] onICEFailed"));var c=this.state;switch(c.type){case mr.OFFERING:case mr.ESTABLISHED:case mr.CONNECTED:c.onICEFailed();break;default:it.error("[".concat(this.state.type,"] onICEFailed"))}}},{key:"onPCConnected",value:function(){it.verbose("[".concat(this.state.type,"] onPCConnected"));var c=this.state;c.type===mr.ESTABLISHED?c.onPCConnected():it.error("[".concat(this.state.type,"] onPCConnected"))}},{key:"onAttach",value:function(){it.verbose("[".concat(this.state.type,"] onAttach"));var c=this.state;switch(c.type){case mr.OFFERING:case mr.ESTABLISHED:case mr.CONNECTED:c.onAttach();break;default:it.error("[".concat(this.state.type,"] onAttach"))}}},{key:"onRelease",value:function(){it.verbose("[".concat(this.state.type,"] onRelease"));var c=this.state;switch(c.type){case mr.IDLE:case mr.OFFERING:case mr.ESTABLISHED:case mr.CONNECTED:case mr.DISCONNECTED:case mr.RECONNECTING:c.onRelease();break;default:it.error("[".concat(this.state.type,"] onRelease"))}}},{key:"onReleased",value:function(){it.verbose("[".concat(this.state.type,"] onReleased"));var c=this.state;c.type===mr.RELEASING?c.onReleased():it.error("[".concat(this.state.type,"] onReleased"))}},{key:"onExit",value:function(){it.verbose("[".concat(this.state.type,"] onExit"));var c=this.state;switch(c.type){case mr.RELEASING:case mr.IDLE:case mr.CONNECTED:case mr.ESTABLISHED:case mr.OFFERING:case mr.DISCONNECTED:case mr.RECONNECTING:c.onExit();break;default:it.error("[".concat(this.state.type,"] onExit"))}}}]),i}(XN),IE=function(s){T(i,s);var o=R(i);function i(){return g(this,i),o.apply(this,arguments)}return w(i)}(function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),(u=o.call(this)).payload=c.payload||{},u}return w(i)}(Jm)),NE=function(s){return s.OFFER="offer",s.ANSWER="answer",s.CANDIDATE="candidate",s}({}),$X=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this,{payload:c})),"type",NE.ANSWER),u}return w(i)}(IE),WX=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this,{payload:c})),"type",NE.CANDIDATE),u}return w(i)}(IE),KX=function(s){T(i,s);var o=R(i);function i(c){var u;return g(this,i),x(M(u=o.call(this,{payload:c})),"type",NE.OFFER),u}return w(i)}(IE),QX=function(){function s(){g(this,s)}return w(s,null,[{key:"createOffer",value:function(o,i){return new KX({peerConnectionId:o,sdp:i})}},{key:"createAnswer",value:function(o,i){return new $X({peerConnectionId:o,sdp:i})}},{key:"createCandidate",value:function(o,i){return new WX({peerConnectionId:o,candidate:i})}}]),s}(),YX=Mr,XX=bi,ZX=Yn,JX=xm,AE=Io,eZ=Ut,nZ=vp,tZ=AN,e5=RN;NN("match",function(s,o,i){return[function(c){var u=eZ(this),p=ZX(c)?void 0:nZ(c,s);return p?YX(p,c,u):new RegExp(c)[s](AE(u))},function(c){var u=XX(this),p=AE(c),m=i(o,u,p);if(m.done)return m.value;if(!u.global)return e5(u,p);var v=u.unicode;u.lastIndex=0;for(var b,y=[],S=0;(b=e5(u,p))!==null;){var O=AE(b[0]);y[S]=O,O===""&&(u.lastIndex=tZ(p,JX(u.lastIndex),v)),S++}return S===0?null:y}]});var n5=Je,rZ=un,iZ=Tn,aZ=Io,sZ=HN.trim,t5=PN,Pp=n5.parseInt,r5=n5.Symbol,i5=r5&&r5.iterator,a5=/^[+-]?0x/i,oZ=iZ(a5.exec),s5=Pp(t5+"08")!==8||Pp(t5+"0x16")!==22||i5&&!rZ(function(){Pp(Object(i5))})?function(s,o){var i=sZ(aZ(s));return Pp(i,o>>>0||(oZ(a5,i)?16:10))}:Pp;qr({global:!0,forced:parseInt!=s5},{parseInt:s5});var cv=function(s,o,i){var c=s.match(o);return c&&c.length>=i&&parseInt(c[i],10)},lZ=function(){var s={browser:null,version:null};if(typeof window>"u"||!window.navigator)return s.browser="Not a browser.",s;var o=window.navigator;if(o.mozGetUserMedia)s.browser="firefox",s.version=cv(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)s.browser="chrome",s.version=cv(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(o.mediaDevices&&o.userAgent.match(/Edge\/(\d+).(\d+)$/))s.browser="edge",s.version=cv(o.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!o.userAgent.match(/AppleWebKit\/(\d+)\./))return s.browser="Not a supported browser.",s;s.browser="safari",s.version=cv(o.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return s},cZ=function(){function s(o,i,c){g(this,s),x(this,"_count",0),this._ctx=o,this._endpoint=i,this._sendStatsLogCommand=c}return w(s,[{key:"_interval",get:function(){return this._endpoint.type==="master"?3e3:15e3}},{key:"_insertInfo",value:function(){var o=this._endpoint;Object.assign(this._accumulated,{app_id:this._ctx.appId,browser_type:lZ(),endpoint_id:o.id,live_event_id:this._ctx.liveEventId,device_timestamp:new Date().getTime(),user_id:this._ctx.userId,live_event_user_id:this._ctx.currentLiveUserId,attached_to:o.attachedTo,role:o.type==="master"?Uh.HOST:Uh.PARTICIPANT})}},{key:"insertStatsLog",value:function(o){var i=this._accumulated;this._count+=1;var c,u=$N(o,i);this._accumulated=function(p,m,v){var b=jN(p);if(v<=1||!m)return b;var y=1/v,S=1/(v-1);function O(te){return te==="audio"?function(J){b.audio[J]=WN(b.audio[J],m.audio[J])}:function(J){b.video[J]=WN(b.video[J],m.video[J])}}function V(te){return te==="audio"?function(J){b.audio[J]=KN(b.audio[J],m.audio[J],["rtt","mos"].includes(J)?S:y)}:function(J){b.video[J]=KN(b.video[J],m.video[J],["rtt","mos"].includes(J)?S:y)}}function $(te){return te==="audio"?function(J){b.audio[J]=m.audio[J]}:function(J){b.video[J]=m.video[J]}}return $("audio")("codec"),V("audio")("rtt"),V("audio")("jitter"),O("audio")("packets_lost"),V("audio")("packets_lost_rate"),O("audio")("remote_packets_lost"),V("audio")("remote_packets_lost_rate"),$("video")("codec"),V("video")("rtt"),O("video")("packets_lost"),V("video")("packets_lost_rate"),O("video")("remote_packets_lost"),V("video")("remote_packets_lost_rate"),V("video")("video_source_width"),V("video")("video_source_height"),V("video")("video_source_frames_per_second"),V("video")("received_frame_width"),V("video")("received_frame_height"),V("video")("sent_frame_width"),V("video")("sent_frame_height"),b}(u,this._accumulated,this._count),this._count%(this._interval/1e3)==0&&(this._insertInfo(),(c=this._sendStatsLogCommand)===null||c===void 0||c.call(this,this._accumulated),delete this._accumulated,this._count=0)}},{key:"getAccumulatedStats",value:function(){return this._accumulated}}]),s}(),OE=w(function s(o){g(this,s),Object.assign(this,o)}),dZ=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),(p=o.call(this))._type=c,p._hasVideoTrack=u,p._prevStats=null,p._prevMetrics=null,p._startDispatchInterval(),p}return w(i,[{key:"insertStatsLog",value:function(c){var u,p,m=this._prevStats;c?(u=$N(c,m),p=this._createMetricsFromStats(u)):p=new OE({packetsLostRate:void 0,rtt:void 0,jitter:void 0}),this._prevStats=u,this._prevMetrics=p}},{key:"_createMetricsFromStats",value:function(c){switch(this._type){case"master":return new OE({packetsLostRate:this._hasVideoTrack?c.video.remote_packets_lost_rate:c.audio.remote_packets_lost_rate,rtt:this._hasVideoTrack?c.video.rtt:c.audio.rtt});case"viewer":return new OE({packetsLostRate:c.audio.packets_lost_rate,jitter:c.audio.jitter});default:throw new Error("inappropriate endpoint type is injected.")}}},{key:"onReconnecting",value:function(){this.insertStatsLog(void 0)}},{key:"onEnded",value:function(){this._stopDispatchInterval()}},{key:"_startDispatchInterval",value:function(){var c=this;this._dispatchIntervalId=setInterval(function(){c._dispatchIfExist()},3e3)}},{key:"_stopDispatchInterval",value:function(){this._dispatchIntervalId&&(clearInterval(this._dispatchIntervalId),delete this._dispatchIntervalId)}},{key:"_dispatchIfExist",value:function(){var c=this._prevMetrics;c&&this._dispatchEvent("updated",c)}}]),i}(Oo),uZ=function(){function s(o,i){var c=this;g(this,s),this._ctx=o,this._endpoint=i,this._collector=new cZ(o,i,function(u){var p=Sr.createStatsLogCommand(u);return c._ctx.sender.send(p)}),this._connectionQuality=new dZ(this._endpoint.type,this.hasVideoTrack)}return w(s,[{key:"hasVideoTrack",get:function(){return this._ctx.masterSessionDirection.video!=="none"}},{key:"startGetWebRtcStats",value:function(o){var i=this;this._statsIntervalId||(this._statsIntervalId=setInterval(function(){o.getStatsLog().then(function(c){i._collector.insertStatsLog(c),i._connectionQuality.insertStatsLog(c)})},1e3))}},{key:"stopGetWebRtcStats",value:function(){this._statsIntervalId&&(clearInterval(this._statsIntervalId),delete this._statsIntervalId)}},{key:"getAccumulatedStats",value:function(){return this._collector.getAccumulatedStats()}},{key:"setConnectionQualityListener",value:function(o){this.removeConnectionQualityListener(),this._connectionQuality.on("updated",function(i){o(i)})}},{key:"removeConnectionQualityListener",value:function(){this._connectionQuality.removeAllEventListeners()}},{key:"onReconnecting",value:function(){this._connectionQuality.onReconnecting()}},{key:"onEnded",value:function(){this._connectionQuality.onEnded()}}]),s}(),o5=function(s){T(i,s);var o=R(i);function i(c,u,p,m){var v;return g(this,i),x(M(v=o.call(this)),"tmpId",De()),x(M(v),"_createSession",function(){switch(it.debug("_createSession()"),v.type){case"master":v._createMasterSession();break;case"viewer":v._createViewerSession();break;default:it.error("Not supported endpoint type : ",v.type)}}),x(M(v),"_closePeerConnection",function(){var b,y;it.debug("_closePeerConnection()"),v._stopGetWebRtcStats(),(b=v._pc)===null||b===void 0||b.removeAllEventListeners(),(y=v._pc)===null||y===void 0||y.close(),v._pc=null}),x(M(v),"_requestCreateOrPutEndpoint",function(){it.debug("_requestCreateOrPutEndpoint()");var b,y=v._pc;b=v.id?y.signalingClient.registerPutEndpointRequest():y.signalingClient.registerCreateEndpointRequest(),y.createOffer(),b.promise.then(function(S){v.id=S.payload.endpoint.id,v._stateMachine.onEndpointRequestSucceeded(S.payload.sdp)}).catch(function(S){it.error("Endpoint request failed",S),v._stateMachine.onEndpointRequestFailed()})}),x(M(v),"_requestAttach",function(){kE(new ZN(5e3,1e3,8),function(){return v._sendAttach(v.attachedTo)},{onError:function(b){it.error("Fail attach endpoint endpointId = ".concat(v.id,", to = ").concat(v.attachedTo," ErrorCode = ").concat(b.code))}}).then(function(){v._dispatchEvent("attached",v.attachedTo)})}),x(M(v),"_requestRelease",function(){it.debug("_requestRelease()"),v._sendReleaseEndpoint().then(function(){v._stateMachine.onReleased()}).catch(function(b){it.error("Release request failed",b),v._stateMachine.onReleased()})}),x(M(v),"_setRemoteDescription",function(b){it.debug("_setRemoteDescription()");var y=v._pc,S=QX.createAnswer(void 0,b);y.onEvent(S),y.once("connected",function(){v._stateMachine.onPCConnected(),v._sendConnected(),v._startGetWebRtcStats()}),y.once("iceFailed",function(){v._stateMachine.onICEFailed()})}),v._ctx=c,v._localStream=u,v._participantId=m,v.type=p,v._stateMachine=new jX({endpoint:M(v),dispatchEvent:v._dispatchEvent.bind(M(v)),createSession:v._createSession,requestCreateOrPutEndpoint:v._requestCreateOrPutEndpoint,setRemoteDescription:v._setRemoteDescription,closePeerConnection:v._closePeerConnection,requestAttach:v._requestAttach,requestRelease:v._requestRelease,trialCount:0,reconnectCount:0}),v._logManager=new uZ(v._ctx,M(v)),v}return w(i,[{key:"remoteStream",get:function(){var c;return(c=this._pc)===null||c===void 0?void 0:c.remoteStream}},{key:"_state",get:function(){return this._stateMachine.state}},{key:"_masterSessionDirection",get:function(){return this._ctx.masterSessionDirection}},{key:"_viewerSessionDirection",get:function(){return this._ctx.viewerSessionDirection}},{key:"getAccumulatedStats",value:function(){return this._logManager.getAccumulatedStats()}},{key:"setConnectionQualityListener",value:function(c){this._logManager.setConnectionQualityListener(c)}},{key:"removeConnectionQualityListener",value:function(){this._logManager.removeConnectionQualityListener()}},{key:"attach",value:function(c){it.debug("attach()"),this.attachedTo=c,this._stateMachine.onAttach()}},{key:"release",value:function(){it.debug("release()"),this._stateMachine.onRelease()}},{key:"exit",value:function(){it.debug("exit()"),this._closePeerConnection(),this._stateMachine.onExit()}},{key:"_createMasterSession",value:function(){it.debug("_createMasterSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._masterSessionDirection,this._localStream)}},{key:"_createViewerSession",value:function(){it.debug("_createViewerSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._viewerSessionDirection,void 0)}},{key:"_createPeerConnection",value:function(c,u){var p=this;it.debug("_createPeerConnection()");var m=new LX(this._ctx,this._participantId,c,this.id);this._pc=new MX(this._ctx,void 0,m,u,!0,void 0,c,!0),this._pc.on("remoteStream",function(v){p._dispatchEvent("remoteStream",v)}),this._dispatchEvent("pcChanged",this._pc)}},{key:"_startGetWebRtcStats",value:function(){this._logManager.startGetWebRtcStats(this._pc)}},{key:"_stopGetWebRtcStats",value:function(){this._logManager.stopGetWebRtcStats(),this._logManager.onEnded()}},{key:"_sendConnected",value:function(){return this._ctx.sendConnected(this)}},{key:"_sendReleaseEndpoint",value:function(){return this._ctx.sendReleaseEndpoint(this)}},{key:"_sendAttach",value:function(c){return this._ctx.sendAttach(this,c)}},{key:"onReconnecting",value:function(){this._logManager.onReconnecting()}}]),i}(Oo),hZ=Mr,pZ=al,fZ=Xd,_Z=qm,mZ=Op;qr({target:"Promise",stat:!0,forced:A2},{allSettled:function(s){var o=this,i=fZ.f(o),c=i.resolve,u=i.reject,p=_Z(function(){var m=pZ(o.resolve),v=[],b=0,y=1;mZ(s,function(S){var O=b++,V=!1;y++,hZ(m,o,S).then(function($){V||(V=!0,v[O]={status:"fulfilled",value:$},--y||c(v))},function($){V||(V=!0,v[O]={status:"rejected",reason:$},--y||c(v))})}),--y||c(v)});return p.error&&u(p.value),i.promise}});var Bh=function(s){return s.TOP_LEFT="top_left",s.TOP_RIGHT="top_right",s.BOTTOM_LEFT="bottom_left",s.BOTTOM_RIGHT="bottom_right",s.HIDDEN="hidden",s}({}),vZ=function(s){T(c,s);var o,i=R(c);function c(){return g(this,c),i.call(this)}return w(c,[{key:"stream",get:function(){return this._stream}},{key:"isSharing",get:function(){return!!this._stream}},{key:"startStream",value:(o=_(d().mark(function u(){var p,m=this;return d().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 3:p=v.sent,this._stream=p,this._stream.getVideoTracks()[0].onended=function(){m._releaseStream(),m._dispatchEvent("streamStopped")},v.next=19;break;case 8:v.prev=8,v.t0=v.catch(0),v.t1=v.t0.name,v.next=v.t1==="InvalidStateError"?13:v.t1==="NotAllowedError"?14:v.t1==="NotFoundError"?15:v.t1==="NotReadableError"?16:17;break;case 13:case 14:case 15:case 16:return v.abrupt("break",18);case 17:throw new Error("");case 18:throw new Error("failed to start screen share");case 19:case"end":return v.stop()}},u,this,[[0,8]])})),function(){return o.apply(this,arguments)})},{key:"stopStream",value:function(){this._releaseStream(),this._dispatchEvent("streamStopped")}},{key:"_releaseStream",value:function(){if(this._stream){var u,p=z(this._stream.getTracks());try{for(p.s();!(u=p.n()).done;)u.value.stop()}catch(m){p.e(m)}finally{p.f()}delete this._stream}}}]),c}(Oo),Vh=null;function gZ(s,o){var i=[];Vh||(Vh=new(window.AudioContext||window.webkitAudioContext));var c=Vh.createGain();if(c.gain.value=1,s){var u=new MediaStream;u.addTrack(s),i.push(Vh.createMediaStreamSource(u).connect(c))}if(o){var p=new MediaStream;p.addTrack(o),i.push(Vh.createMediaStreamSource(p).connect(c))}for(var m=Vh.createMediaStreamDestination(),v=0,b=i;v<b.length;v++)b[v].connect(m);return m.stream.getAudioTracks()[0]}var bZ=function(s){T(v,s);var o,i,c,u,p,m=R(v);function v(b){var y,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{audio:!0,video:!0},O=arguments.length>2?arguments[2]:void 0;return g(this,v),x(M(y=m.call(this)),"isCustomStreaming",!1),x(M(y),"_checkScreenSharePrerequisites",function(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("screen share is not supported in this browser")}),y._deviceManager=b,y._mediaConstraints=S,y._screenShareOptions=O,y._screenShare=new vZ,y._screenShare.on("streamStopped",function(){y._releaseMergedStream(),y._dispatchEvent("screenShareStreamStopped")}),y}return w(v,[{key:"mediaConstraints",set:function(b){this._mediaConstraints=b}},{key:"screenShareOptions",set:function(b){var y=this;this._screenShareOptions=b,this._screenShare.isSharing&&b!=null&&b.frameRate&&(this._releaseMergedStream(!1),this._mergeOverlayingScreenShareStream().then(function(){y._dispatchEvent("streamChanged",y.localStream)}))}},{key:"hasPermission",get:function(){var b;return(b=this._mediaAccess)===null||b===void 0?void 0:b.hasPermission}},{key:"localStream",get:function(){return this.isCustomStreaming?this._customStream:this.isScreenSharing?this._mergedStream:this.getLocalMediaStream()}},{key:"mergedStream",get:function(){return this._mergedStream}},{key:"screenStream",get:function(){return this._screenShare.stream}},{key:"customStream",get:function(){return this._customStream}},{key:"isScreenSharing",get:function(){return this._screenShare.isSharing}},{key:"useScreenStream",value:(p=_(d().mark(function b(){return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return this._checkScreenSharePrerequisites(),y.next=3,this._screenShare.startStream();case 3:this._mergeScreenShareStream(),this._dispatchEvent("streamChanged",this.localStream);case 5:case"end":return y.stop()}},b,this)})),function(){return p.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._screenShare.isSharing&&this._screenShare.stopStream()}},{key:"startOverlayingScreenStream",value:(u=_(d().mark(function b(y){return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return y&&(this._screenShareOptions=y),this._checkScreenSharePrerequisites(),S.next=4,this._screenShare.startStream();case 4:return S.next=6,this._mergeOverlayingScreenShareStream();case 6:this._dispatchEvent("streamChanged",this.localStream);case 7:case"end":return S.stop()}},b,this)})),function(b){return u.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(c=_(d().mark(function b(y){return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,this._streamProcessor=y,S.next=4,this._applyStreamProcessor();case 4:this.isCustomStreaming=!0,this._dispatchEvent("streamChanged",this.localStream),S.next=11;break;case 8:S.prev=8,S.t0=S.catch(0),it.error("failed to use custom stream",S.t0);case 11:case"end":return S.stop()}},b,this,[[0,8]])})),function(b){return c.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this.isCustomStreaming&&(this._releaseCustomStream(!1),this.isCustomStreaming=!1,this._dispatchEvent("streamChanged",this.localStream))}},{key:"getLocalMediaStream",value:function(){return this._mediaAccess||this._grantMediaAccess(this._mediaConstraints),this._mediaAccess.stream}},{key:"revokeMediaAccess",value:function(){this._mediaAccess&&(this._mediaAccess.dispose(),this._mediaAccess=null)}},{key:"release",value:function(){this.stopScreenShare(),this.revokeMediaAccess()}},{key:"_grantMediaAccess",value:function(b){var y=this;this._mediaAccess=this._deviceManager.useMedia(b);var S=[];this._mediaAccess.on("streamChanged",function(){y._screenShare.isSharing&&S.push(y._mergeOverlayingScreenShareStream()),y.isCustomStreaming&&S.push(y._applyStreamProcessor()),S.length>0?Promise.allSettled(S).then(function(){return y._dispatchEvent("streamChanged",y.localStream)}):y._dispatchEvent("streamChanged",y.localStream)}),this._mediaAccess.on("audioOutputChanged",function(){return y._dispatchEvent("audioOutputChanged")})}},{key:"_mergeScreenShareStream",value:function(){if(this._screenShare.isSharing){var b=new MediaStream;this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&b.addTrack(this._mediaAccess.stream.getAudioTracks()[0]),b.addTrack(this.screenStream.getVideoTracks()[0]),this._mergedStream=b}}},{key:"_mergeOverlayingScreenShareStream",value:(i=_(d().mark(function b(){var y,S,O,V,$,te,J,oe,xe,Ie,Ue,He,Ee,we=this;return d().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:if(this._screenShare.isSharing){nn.next=2;break}return nn.abrupt("return");case 2:return S=!1,O=document.createElement("canvas"),(V=document.createElement("video")).srcObject=this.screenStream,V.muted=!0,nn.next=9,V.play();case 9:return($=document.createElement("video")).srcObject=this.getLocalMediaStream(),$.muted=!0,nn.next=14,$.play();case 14:te=V.videoWidth,J=V.videoHeight,O.width=te,O.height=J,oe=O.getContext("2d"),xe=setInterval(function(){var Xe;if(!S){S=!0;var We=V.videoWidth,In=V.videoHeight,yt=$.videoWidth,xn=$.videoHeight;(J<In||te<We)&&(te=We,J=In,O.width=We,O.height=In,oe.fillRect(0,0,te,J)),V.width=We,V.height=In,oe.drawImage(V,0,0,We,In);var wn=we.enumToPosition((Xe=we._screenShareOptions)===null||Xe===void 0?void 0:Xe.cameraOverlayPosition,yt,xn,O.width,O.height),$n=wn.dx,xt=wn.dy,mt=wn.dw,Gt=wn.dh;oe.drawImage($,$n,xt,mt,Gt),S=!1}},(y=this._screenShareOptions)!==null&&y!==void 0&&y.frameRate?1e3/this._screenShareOptions.frameRate:1e3/24),Ie=O.captureStream(),this.mergeInterval=xe,this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&(Ue=this._mediaAccess.stream.getAudioTracks()[0]),this.screenStream&&this.screenStream.getAudioTracks().length>0&&(He=this.screenStream.getAudioTracks()[0]),Ee=gZ(Ue,He),Ie.addTrack(Ee),this._mergedStream=Ie;case 27:case"end":return nn.stop()}},b,this)})),function(){return i.apply(this,arguments)})},{key:"_applyStreamProcessor",value:(o=_(d().mark(function b(){var y;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if((y=this._mediaAccess)===null||y===void 0||!y.stream){S.next=4;break}return S.next=3,this._streamProcessor(this._mediaAccess.stream);case 3:this._customStream=S.sent;case 4:case"end":return S.stop()}},b,this)})),function(){return o.apply(this,arguments)})},{key:"_releaseMergedStream",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._mergedStream&&(this._mergedStream.removeTrack(this._mergedStream.getAudioTracks()[0]),delete this._mergedStream,this.mergeInterval&&(clearInterval(this.mergeInterval),delete this.mergeInterval),b&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"_releaseCustomStream",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._customStream&&(delete this._customStream,delete this._streamProcessor,b&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"enumToPosition",value:function(b,y,S,O,V){var $=y/S,te=.2*V,J=.2*O*(1/$),oe=Math.min(te,J),xe=oe*$,Ie=Math.min(.05*O,.05*V),Ue=O-xe-Ie,He=V-oe-Ie;switch(b){case Bh.HIDDEN:return{dx:0,dy:0,dw:0,dh:0};case Bh.TOP_LEFT:return{dx:Ie,dy:Ie,dw:xe,dh:oe};case Bh.TOP_RIGHT:return{dx:Ue,dy:Ie,dw:xe,dh:oe};case Bh.BOTTOM_LEFT:return{dx:Ie,dy:He,dw:xe,dh:oe};case Bh.BOTTOM_RIGHT:default:return{dx:Ue,dy:He,dw:xe,dh:oe}}}}]),v}(Oo),RE=function(){function s(m,v,b,y,S){g(this,s),this._liveEvent=m,this._sender=b,this._deviceManager=v,this._mediaOption=y,this._screenShareOptions=S}var o,i,c,u,p;return w(s,[{key:"mediaView",get:function(){return this._mediaView},set:function(m){this._mediaView!==m&&(this._mediaView&&(this._mediaView=null),m?this.isHostStream?this._mediaView=this._updateMediaViewStream(m,this.localStream):this._mediaView=this._updateMediaViewStream(m,this.remoteStream):delete this._mediaView)}},{key:"localStream",get:function(){var m;return(m=this._localStream)===null||m===void 0?void 0:m.localStream}},{key:"remoteStream",get:function(){var m;return(m=this._endpoint)===null||m===void 0?void 0:m.remoteStream}},{key:"isHostStream",get:function(){return this._mediaOption}},{key:"_masterSessionDirection",get:function(){return this._liveEvent.hostType===Dh.SINGLE_HOST_AUDIO_ONLY?{audio:"sendonly",video:"none"}:{audio:"sendonly",video:"sendonly"}}},{key:"_viewerSessionDirection",get:function(){return this._liveEvent.hostType===Dh.SINGLE_HOST_AUDIO_ONLY?{audio:"recvonly",video:"none"}:{audio:"recvonly",video:"recvonly"}}},{key:"_createLocalStream",value:function(){var m=this;this._localStream=new bZ(this._deviceManager,{audio:!0,video:this._liveEvent.hostType!==Dh.SINGLE_HOST_AUDIO_ONLY},this._screenShareOptions),this._localStream.on("streamChanged",function(){m._onLocalStream()}),this._mediaOption.streamProcessor&&this._localStream.startUsingExternalVideo(this._mediaOption.streamProcessor)}},{key:"_createEndpoint",value:function(){var m=this;if(this.isHostStream)return this._localStream||this._createLocalStream(),new o5({appId:this._liveEvent.appId,liveEventId:this._liveEvent.liveEventId,userId:this._liveEvent.userId,currentLiveUserId:this._liveEvent.currentLiveUser.liveUserId,masterSessionDirection:this._masterSessionDirection,viewerSessionDirection:this._viewerSessionDirection,sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},this._localStream,"master",this._liveEvent.host.hostId);var v=new o5({appId:this._liveEvent.appId,liveEventId:this._liveEvent.liveEventId,userId:this._liveEvent.userId,currentLiveUserId:this._liveEvent.currentLiveUser.liveUserId,masterSessionDirection:this._masterSessionDirection,viewerSessionDirection:this._viewerSessionDirection,sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},void 0,"viewer",this._liveEvent.currentLiveUser.participantId);return v.on("remoteStream",function(b){m._onStream()}),v.on("connected",function(b){b&&m._onEndpointReconnected()}),v}},{key:"openStream",value:function(){this._endpoint&&this._teardown(),this._endpoint=this._createEndpoint()}},{key:"closeStream",value:function(m){m&&(this._endpoint.release(),this._endpoint.removeAllEventListeners()),this._teardown()}},{key:"attach",value:function(m){this._endpoint.attach(m)}},{key:"toggleAudio",value:function(m){var v,b,y;(v=this.localStream.getAudioTracks())===null||v===void 0||v.forEach(function(S){S.enabled=m}),(b=this._localStream.getLocalMediaStream())===null||b===void 0||(y=b.getAudioTracks())===null||y===void 0||y.forEach(function(S){S.enabled=m}),this._mediaOption.turnAudioOn=m}},{key:"toggleVideo",value:function(m){var v,b,y;(v=this.localStream.getVideoTracks())===null||v===void 0||v.forEach(function(S){S.enabled=m}),(b=this._localStream.getLocalMediaStream())===null||b===void 0||(y=b.getVideoTracks())===null||y===void 0||y.forEach(function(S){S.enabled=m}),this._mediaOption.turnVideoOn=m}},{key:"startUsingExternalVideo",value:(p=_(d().mark(function m(v){return d().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._localStream.startUsingExternalVideo(v);case 2:case"end":return b.stop()}},m,this)})),function(m){return p.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this._localStream.stopUsingExternalVideo()}},{key:"startScreenShare",value:(u=_(d().mark(function m(v){return d().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return this._screenShareOptions=v,b.next=3,this._localStream.startOverlayingScreenStream(v);case 3:case"end":return b.stop()}},m,this)})),function(m){return u.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._localStream.stopScreenShare()}},{key:"setScreenShareOptions",value:function(m){this._screenShareOptions=m,this._localStream&&(this._localStream.screenShareOptions=m)}},{key:"chooseMediaDevice",value:function(m,v){this._deviceManager.selectDevice(m,v)}},{key:"setConnectionQualityListener",value:function(m){var v=this;this._endpoint.setConnectionQualityListener(function(b){return m(v._liveEvent.host.hostId,b)})}},{key:"removeConnectionQualityListener",value:function(){this._endpoint.removeConnectionQualityListener()}},{key:"_onLocalStream",value:function(){this.toggleAudio(this._mediaOption.turnAudioOn),this.toggleVideo(this._mediaOption.turnVideoOn),this._mediaView&&this._updateMediaViewStream(this._mediaView,this.localStream)}},{key:"_onStream",value:function(){var m=this.remoteStream;this._mediaView&&this._updateMediaViewStream(this._mediaView,m)}},{key:"_onEndpointReconnected",value:function(){var m=this._endpoint;m.type==="viewer"&&m.attachedTo&&this.attach(m.attachedTo)}},{key:"_updateMediaViewStream",value:function(m,v){return v&&(m.srcObject=v),m}},{key:"_sendConnected",value:(c=_(d().mark(function m(v){var b;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return b=this.isHostStream?Sr.createHostConnected(this._liveEvent.liveEventId,this._liveEvent.host.hostId,v.id):Sr.createConnected(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,v.id),y.abrupt("return",this._sender.send(b));case 2:case"end":return y.stop()}},m,this)})),function(m){return c.apply(this,arguments)})},{key:"_sendReleaseEndpoint",value:function(m){var v;return v=this.isHostStream?Sr.createHostDeleteStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,m.id):Sr.createDeleteStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.id),this._sender.sendWithRetry(v)}},{key:"_sendAttach",value:function(m,v){var b=Sr.createAttach(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.id,v);return this._sender.sendWithRetry(b)}},{key:"_sendCreateEndpoint",value:(i=_(d().mark(function m(v){var b,y;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!this.isHostStream){S.next=5;break}return b=Sr.createHostCreateStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,v.sdp,this._masterSessionDirection.audio,this._masterSessionDirection.video),S.abrupt("return",this._sender.send(b));case 5:return y=Sr.createStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,v.sdp,this._viewerSessionDirection.audio,this._viewerSessionDirection.video),S.abrupt("return",this._sender.send(y));case 7:case"end":return S.stop()}},m,this)})),function(m){return i.apply(this,arguments)})},{key:"_sendPutEndpoint",value:(o=_(d().mark(function m(v){return d().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,this._sendReleaseEndpoint(this._endpoint);case 3:b.next=8;break;case 5:b.prev=5,b.t0=b.catch(0),it.error("failed to remove endpoint");case 8:return b.abrupt("return",this._sendCreateEndpoint(v));case 9:case"end":return b.stop()}},m,this,[[0,5]])})),function(m){return o.apply(this,arguments)})},{key:"_teardown",value:function(){var m,v;(m=this._endpoint)===null||m===void 0||m.exit(),(v=this._endpoint)===null||v===void 0||v.removeAllEventListeners(),this._endpoint=null}}]),s}(),oi=function(s){return s[s.ERR_REQUEST_FAILED=1800200]="ERR_REQUEST_FAILED",s[s.ERR_WEBSOCKET_CONNECTION_NOT_OPENED=1800201]="ERR_WEBSOCKET_CONNECTION_NOT_OPENED",s[s.ERR_WEBSOCKET_CONNECTION_FAILED=1800202]="ERR_WEBSOCKET_CONNECTION_FAILED",s[s.ERR_NO_RESPONSE_DUE_TO_TIMEOUT=1800203]="ERR_NO_RESPONSE_DUE_TO_TIMEOUT",s[s.ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST=1800204]="ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST",s[s.ERR_WRONG_RESPONSE=1800205]="ERR_WRONG_RESPONSE",s[s.ERR_QUERY_IN_PROGRESS=1800206]="ERR_QUERY_IN_PROGRESS",s[s.INTERNAL_SERVER_ERROR=1800207]="INTERNAL_SERVER_ERROR",s[s.ERR_MALFORMED_DATA=1800208]="ERR_MALFORMED_DATA",s[s.LIVE_EVENT_ID_NOT_FOUND=2800100]="LIVE_EVENT_ID_NOT_FOUND",s[s.ACTION_NOT_ALLOWED_IN_CURRENT_STATE=2800101]="ACTION_NOT_ALLOWED_IN_CURRENT_STATE",s[s.ACTION_NOT_ALLOWED_FOR_PARTICIPANT=2800102]="ACTION_NOT_ALLOWED_FOR_PARTICIPANT",s[s.USER_NOT_ENTERED_LIVE_EVENT=2800103]="USER_NOT_ENTERED_LIVE_EVENT",s[s.STREAM_NOT_STARTED=2800104]="STREAM_NOT_STARTED",s[s.CONNECTION_TO_MEDIA_STREAM_FAILED=2800105]="CONNECTION_TO_MEDIA_STREAM_FAILED",s[s.ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE=2800107]="ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE",s[s.UNKNOWN_NETWORK_ERROR=2800400]="UNKNOWN_NETWORK_ERROR",s[s.QUERY_IN_PROGRESS=2800900]="QUERY_IN_PROGRESS",s[s.OPEN_CHANNEL_NOT_FETCHED=2800901]="OPEN_CHANNEL_NOT_FETCHED",s}({}),yZ=function(){function s(){g(this,s)}return w(s,null,[{key:"getErrorMessage",value:function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.invalidParameter;var c=i.methodName,u=c===void 0?"":c;switch(o){case oi.LIVE_EVENT_ID_NOT_FOUND:return"The live event ID is not found.";case oi.ACTION_NOT_ALLOWED_IN_CURRENT_STATE:return"The user is trying to perform actions such as calling the ".concat(u,", ").concat(u,", ").concat(u," methods for a live event that is not in the 'ongoing' or 'ready' state.");case oi.ACTION_NOT_ALLOWED_FOR_PARTICIPANT:return"The participant is trying to perform actions that are only allowed for a host.";case oi.USER_NOT_ENTERED_LIVE_EVENT:return"The user is trying to perform actions on a live event without entering the event.";case oi.STREAM_NOT_STARTED:return"The user is trying to end a stream that doesn't exist.";case oi.CONNECTION_TO_MEDIA_STREAM_FAILED:return"The connection to media stream failed to establish.";case oi.ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE:return"The user is trying to perform actions such as calling the ".concat(u," methods for a live event that is not in the 'AUDIO_ONLY' host type.");case oi.UNKNOWN_NETWORK_ERROR:return"An unknown network error has occured.";case oi.QUERY_IN_PROGRESS:return"The last query is in progress.";case oi.OPEN_CHANNEL_NOT_FETCHED:return"The open channel for the live event is not fetched.";default:return""}}}]),s}(),EZ=["message","error"],$a=function(s){T(i,s);var o=R(i);function i(c){var u,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=p.message,v=p.error,b=U(p,EZ);g(this,i);var y=m||yZ.getErrorMessage(c,b);return(u=o.call(this,y)).code=c,u._error=v,u}return w(i)}(A(Error)),ME=function(s){T(He,s);var o,i,c,u,p,m,v,b,y,S,O,V,$,te,J,oe,xe,Ie,Ue=R(He);function He(Ee){var we,nn=Ee.appId,Xe=Ee.deviceManager,We=Ee.sender,In=Ee.sb,yt=Ee.userId,xn=Ee.info;return g(this,He),x(M(we=Ue.call(this)),"_customItemsUpdatedAt",0),x(M(we),"_connectionQualityListener",function(wn,$n){var xt,mt;(xt=(mt=we)._internalConnectionQualityListener)===null||xt===void 0||xt.call(mt,wn,$n)}),we._appId=nn,we._deviceManager=Xe,we._sender=We,we._sb=In,we._userId=yt,we._streams=new Map,we._customItems=null,xn&&Object.assign(M(we),xn),we._unsubscriber=we._sender.on("command",function(wn){we._onEvent(wn)}),we}return w(He,[{key:"appId",get:function(){return this._appId}},{key:"userId",get:function(){return this._userId}},{key:"customItems",get:function(){return l({},this._customItems)},set:function(Ee){this._customItems=Ee}},{key:"myRole",get:function(){return this.userIdsForHost.includes(this._userId)?Uh.HOST:Uh.PARTICIPANT}},{key:"isHost",get:function(){return this.myRole===Uh.HOST}},{key:"isActiveHost",get:function(){return this.isHost&&!(this==null||!this.currentLiveUser.isHost)}},{key:"isAudioOnly",get:function(){return this.hostType===Dh.SINGLE_HOST_AUDIO_ONLY}},{key:"duration",get:function(){return this._duration>0?this._duration:Date.now()-this.startedAt},set:function(Ee){this._duration=Ee}},{key:"fetchOpenChannel",value:(Ie=_(d().mark(function Ee(){var we,nn;return d().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return Xe.next=2,this._sb.openChannel.getChannelWithoutCache(this.liveEventId);case 2:return we=Xe.sent,nn=this._sb.openChannel.buildOpenChannelFromSerializedData(we),this.openChannel=nn,Xe.abrupt("return",nn);case 6:case"end":return Xe.stop()}},Ee,this)})),function(){return Ie.apply(this,arguments)})},{key:"_getOpenChannel",value:(xe=_(d().mark(function Ee(){return d().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(!this.openChannel){we.next=2;break}return we.abrupt("return",this.openChannel);case 2:return we.abrupt("return",this.fetchOpenChannel());case 3:case"end":return we.stop()}},Ee,this)})),function(){return xe.apply(this,arguments)})},{key:"enterAsHost",value:(oe=_(d().mark(function Ee(we){var nn,Xe,We,In;return d().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:return yt.next=2,this._getOpenChannel();case 2:return nn=yt.sent,yt.next=5,nn.enter();case 5:return yt.prev=5,yt.next=8,this._sender.send(Sr.createEnterHost(this.liveEventId,we));case 8:Xe=yt.sent,We=Xe.payload.host,we&&(In=new RE(this,this._deviceManager,this._sender,we,this._screenShareOptions),this._streams.set(We.hostId,In)),this.upsert({host:We}),this.upsert({currentLiveUser:We}),yt.next=20;break;case 15:return yt.prev=15,yt.t0=yt.catch(5),yt.next=19,nn.exit();case 19:throw yt.t0;case 20:this._startToSendAlive();case 21:case"end":return yt.stop()}},Ee,this,[[5,15]])})),function(Ee){return oe.apply(this,arguments)})},{key:"setEventReady",value:(J=_(d().mark(function Ee(){var we,nn;return d().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(this.isHost){Xe.next=2;break}throw new Error("host only action");case 2:return Xe.next=4,this._sender.send(Sr.createReady(this.liveEventId));case 4:we=Xe.sent,nn=we.payload.liveEvent,this.upsert(nn);case 7:case"end":return Xe.stop()}},Ee,this)})),function(){return J.apply(this,arguments)})},{key:"startEvent",value:(te=_(d().mark(function Ee(we){var nn,Xe;return d().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(this.isHost){We.next=2;break}throw new Error("host only action");case 2:return We.next=4,this._sender.send(Sr.createStart(this.liveEventId));case 4:nn=We.sent,Xe=nn.payload.liveEvent,this.upsert(Xe),!this.isHostStreaming&&this.isActiveHost&&this.startStreaming(we),typeof(we==null?void 0:we.turnAudioOn)=="boolean"&&this._toggleAudio(we.turnAudioOn),typeof(we==null?void 0:we.turnVideoOn)=="boolean"&&this._toggleVideo(we.turnVideoOn);case 10:case"end":return We.stop()}},Ee,this)})),function(Ee){return te.apply(this,arguments)})},{key:"startStreaming",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{turnAudioOn:!0,turnVideoOn:!0};if(!this.isActiveHost)throw new Error("current host only action");var we=this._streams.get(this.host.hostId);we||(we=new RE(this,this._deviceManager,this._sender,Ee,this._screenShareOptions),this._streams.set(this.host.hostId,we)),we.openStream(),we.setConnectionQualityListener(this._connectionQualityListener)}},{key:"endStreaming",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var Ee=this._streams.get(this.host.hostId);Ee&&(this._streams.delete(this.host.hostId),Ee.closeStream(!0))}},{key:"createRTMPStream",value:($=_(d().mark(function Ee(){var we,nn;return d().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(this.isHost){Xe.next=2;break}throw new $a(oi.ACTION_NOT_ALLOWED_FOR_PARTICIPANT);case 2:return Xe.next=4,this._sender.send(Sr.createRTMPStream(this.liveEventId));case 4:return we=Xe.sent,nn=we.payload.host,this.upsert({host:nn}),Xe.abrupt("return",nn.rtmpStream);case 8:case"end":return Xe.stop()}},Ee,this)})),function(){return $.apply(this,arguments)})},{key:"deleteRTMPStream",value:(V=_(d().mark(function Ee(){var we;return d().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:if(this.isHost){nn.next=2;break}throw new Error("host only action");case 2:if((we=this.host)!==null&&we!==void 0&&we.rtmpStream){nn.next=4;break}throw new Error("no rtmp stream");case 4:return nn.next=6,this._sender.send(Sr.deleteRTMPStream(this.liveEventId,this.host.rtmpStream.rtmpStreamId));case 6:nn.sent,this.upsert({host:null});case 8:case"end":return nn.stop()}},Ee,this)})),function(){return V.apply(this,arguments)})},{key:"exitAsHost",value:(O=_(d().mark(function Ee(){var we,nn,Xe;return d().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(this.isActiveHost){We.next=2;break}throw new Error("current host only action");case 2:return we=this.host.hostId,We.next=5,this._sender.send(Sr.createExitHost(this.liveEventId,we));case 5:nn=We.sent,Xe=nn.payload.host,this.upsert({host:Xe}),this.teardown();case 9:case"end":return We.stop()}},Ee,this)})),function(){return O.apply(this,arguments)})},{key:"endEvent",value:(S=_(d().mark(function Ee(){var we,nn;return d().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return Xe.next=2,this._sender.send(Sr.createEndLiveEvent(this.liveEventId));case 2:we=Xe.sent,nn=we.payload.liveEvent,this.upsert(nn),this.teardown();case 6:case"end":return Xe.stop()}},Ee,this)})),function(){return S.apply(this,arguments)})},{key:"muteAudioInput",value:function(){this._toggleAudio(!1)}},{key:"unmuteAudioInput",value:function(){this._toggleAudio(!0)}},{key:"_toggleAudio",value:function(Ee){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleAudio(Ee),this._sender.send(Sr.createAudio(this.liveEventId,this.host.hostId,Ee))}},{key:"stopVideo",value:function(){if(this.isAudioOnly)throw new $a(oi.ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE,{methodName:"stopVideo"});this._toggleVideo(!1)}},{key:"startVideo",value:function(){if(this.isAudioOnly)throw new $a(oi.ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE,{methodName:"startVideo"});this._toggleVideo(!0)}},{key:"_toggleVideo",value:function(Ee){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleVideo(Ee),this._sender.send(Sr.createVideo(this.liveEventId,this.host.hostId,Ee))}},{key:"selectAudioInput",value:function(Ee){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("audioinput",Ee)}},{key:"selectVideoInput",value:function(Ee){if(!this.isActiveHost)throw new Error("current host only action");if(this.isAudioOnly)throw new $a(oi.ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE,{methodName:"selectVideoInput"});return this._deviceManager.selectDevice("videoinput",Ee)}},{key:"enter",value:(y=_(d().mark(function Ee(){var we,nn,Xe;return d().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return We.next=2,this._getOpenChannel();case 2:return we=We.sent,We.next=5,we.enter();case 5:return We.prev=5,We.next=8,this._sender.send(Sr.createEnter(this.liveEventId));case 8:nn=We.sent,Xe=nn.payload.participant,this.upsert({currentLiveUser:Xe}),this._tryOpen(),We.next=19;break;case 14:return We.prev=14,We.t0=We.catch(5),We.next=18,we.exit();case 18:throw We.t0;case 19:this._startToSendAlive();case 20:case"end":return We.stop()}},Ee,this,[[5,14]])})),function(){return y.apply(this,arguments)})},{key:"exit",value:(b=_(d().mark(function Ee(){return d().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,this._sender.send(Sr.createExit(this.liveEventId,this.currentLiveUser.participantId));case 2:we.sent.payload.participant,this.teardown();case 5:case"end":return we.stop()}},Ee,this)})),function(){return b.apply(this,arguments)})},{key:"setVideoViewForLiveEvent",value:function(Ee,we){var nn=this._streams.get(we);nn&&(nn.mediaView=Ee)}},{key:"setMediaViewForLiveEvent",value:function(Ee,we){var nn=this._streams.get(we);nn&&(nn.mediaView=Ee)}},{key:"updateLiveEventInfo",value:(v=_(d().mark(function Ee(we){var nn,Xe,We;return d().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:return nn=Sr.updateLiveEvent(this.liveEventId,we.userIdsForHost,we.title,we.coverUrl,we.coverFile),In.next=3,this._sender.send(nn);case 3:Xe=In.sent,We=Xe.payload.liveEvent,this.upsert(We);case 6:case"end":return In.stop()}},Ee,this)})),function(Ee){return v.apply(this,arguments)})},{key:"fetchCustomItems",value:(m=_(d().mark(function Ee(){var we,nn,Xe;return d().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return we=Sr.createGetCustomItems(this.liveEventId),We.prev=1,We.next=4,this._sender.send(we);case 4:return nn=We.sent,Xe=nn.payload,this._setCustomItems(Xe.customItems),We.abrupt("return",Xe);case 10:throw We.prev=10,We.t0=We.catch(1),it.error("failed to update customItems"),We.t0;case 14:case"end":return We.stop()}},Ee,this,[[1,10]])})),function(){return m.apply(this,arguments)})},{key:"updateCustomItems",value:(p=_(d().mark(function Ee(we){var nn,Xe,We;return d().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:if(!Object.keys(we).some(function(yt){return typeof we[yt]!="string"})){In.next=2;break}throw new Error("invalid parameter");case 2:return nn=Sr.createUpdateCustomItems(this.liveEventId,we),In.prev=3,In.next=6,this._sender.send(nn);case 6:return Xe=In.sent,We=Xe.payload,this._setCustomItems(We.customItems,We.updatedAt),In.abrupt("return",We);case 12:throw In.prev=12,In.t0=In.catch(3),it.error("failed to update customItems"),In.t0;case 16:case"end":return In.stop()}},Ee,this,[[3,12]])})),function(Ee){return p.apply(this,arguments)})},{key:"deleteCustomItems",value:(u=_(d().mark(function Ee(we){var nn,Xe,We;return d().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:if(!we.some(function(yt){return typeof yt!="string"})){In.next=2;break}throw new Error("invalid parameter");case 2:return nn=Sr.createDeleteCustomItems(this.liveEventId,we),In.prev=3,In.next=6,this._sender.send(nn);case 6:return Xe=In.sent,We=Xe.payload,this._setCustomItems(We.customItems,We.deletedAt),In.abrupt("return",We);case 12:throw In.prev=12,In.t0=In.catch(3),it.error("failed to delete customItems"),In.t0;case 16:case"end":return In.stop()}},Ee,this,[[3,12]])})),function(Ee){return u.apply(this,arguments)})},{key:"deleteAllCustomItems",value:(c=_(d().mark(function Ee(){var we,nn,Xe;return d().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return we=Sr.createDeleteAllCustomItems(this.liveEventId),We.prev=1,We.next=4,this._sender.send(we);case 4:return nn=We.sent,Xe=nn.payload,this._setCustomItems(Xe.customItems,Xe.deletedAt),We.abrupt("return",Xe);case 10:throw We.prev=10,We.t0=We.catch(1),it.error("failed to delete all customItems"),We.t0;case 14:case"end":return We.stop()}},Ee,this,[[1,10]])})),function(){return c.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(i=_(d().mark(function Ee(we){var nn;return d().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(this.isActiveHost){Xe.next=2;break}throw new Error("current host only action");case 2:if(!this.isAudioOnly){Xe.next=4;break}throw new $a(oi.ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE,{methodName:"startUsingExternalVideo"});case 4:if(nn=this._streams.get(this.host.hostId)){Xe.next=7;break}throw new Error("no current stream");case 7:return Xe.next=9,nn.startUsingExternalVideo(we);case 9:case"end":return Xe.stop()}},Ee,this)})),function(Ee){return i.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){if(!this.isActiveHost)throw new Error("current host only action");if(this.isAudioOnly)throw new $a(oi.ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE,{methodName:"stopUsingExternalVideo"});var Ee=this._streams.get(this.host.hostId);if(!Ee)throw new Error("no current stream");Ee.stopUsingExternalVideo()}},{key:"startScreenShare",value:(o=_(d().mark(function Ee(we){var nn;return d().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(this.isActiveHost){Xe.next=2;break}throw new Error("current host only action");case 2:if(!this.isAudioOnly){Xe.next=4;break}throw new $a(oi.ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE,{methodName:"startScreenShare"});case 4:if(nn=this._streams.get(this.host.hostId)){Xe.next=7;break}throw new Error("no current stream");case 7:return Xe.next=9,nn.startScreenShare(we);case 9:case"end":return Xe.stop()}},Ee,this)})),function(Ee){return o.apply(this,arguments)})},{key:"stopScreenShare",value:function(){if(!this.isActiveHost)throw new Error("current host only action");if(this.isAudioOnly)throw new $a(oi.ACTION_NOT_ALLOWED_IN_CURRENT_HOST_TYPE,{methodName:"stopScreenShare"});var Ee=this._streams.get(this.host.hostId);if(!Ee)throw new Error("no current stream");Ee.stopScreenShare()}},{key:"setScreenShareOptions",value:function(Ee){this._screenShareOptions=Ee;var we=this._streams.get(this.host.hostId);we&&we.setScreenShareOptions(Ee)}},{key:"setConnectionQualityListener",value:function(Ee){this._internalConnectionQualityListener=Ee}},{key:"removeConnectionQualityListener",value:function(){this._internalConnectionQualityListener=void 0}},{key:"upsert",value:function(Ee){Object.assign(this,Ee),Ee.currentLiveUser&&(Ee.currentLiveUser.hostId?(this.currentLiveUser.isHost=!0,this.currentLiveUser.liveUserId=this.currentLiveUser.hostId):(this.currentLiveUser.isHost=!1,this.currentLiveUser.liveUserId=this.currentLiveUser.participantId))}},{key:"teardown",value:function(){var Ee;(Ee=this.openChannel)===null||Ee===void 0||Ee.exit();var we,nn=z(this._streams.values());try{for(nn.s();!(we=nn.n()).done;)we.value.closeStream()}catch(Xe){nn.e(Xe)}finally{nn.f()}this._streams.clear(),this._stopToSendAlive(),this.upsert({currentLiveUser:void 0})}},{key:"_setCustomItems",value:function(Ee,we){return(we===void 0||we>this._customItemsUpdatedAt)&&(this._customItemsUpdatedAt=we,this._customItems=Ee||{},!0)}},{key:"_onEvent",value:function(Ee){if(this.liveEventId===Ee.payload.liveEventId)if(Ee instanceof oN)this._onReady(Ee);else if(Ee instanceof lN)this._onStarted(Ee);else if(Ee instanceof cN)this._onEnded(Ee);else if(Ee instanceof fN)this._onUpdated(Ee);else if(Ee instanceof dN)this._onHostEntered(Ee);else if(Ee instanceof uN)this._onHostExited(Ee);else if(Ee instanceof hN)this._onHostConnected(Ee);else if(Ee instanceof pN)this._onHostDisconnected(Ee);else if(Ee instanceof nE)this._onHostAudioStatusChanged(Ee);else if(Ee instanceof tE)this._onHostVideoStatusChanged(Ee);else if(Ee instanceof vN)this._onParticipantCountChanged(Ee);else if(Ee instanceof _N)this._onUpdateCustomItems(Ee);else{if(!(Ee instanceof mN))throw new Error("unknown event is received");this._onDeleteCustomItems(Ee)}}},{key:"_onReady",value:function(Ee){var we=Ee.payload.liveEvent;this.upsert(we),this._dispatchEvent("liveEventReady",this)}},{key:"_onStarted",value:function(Ee){var we=Ee.payload.liveEvent;this.upsert(we),this._dispatchEvent("liveEventStarted",this),this._tryOpen()}},{key:"_onEnded",value:function(Ee){var we=Ee.payload.liveEvent;this.upsert(we),this._dispatchEvent("liveEventEnded",this),this.teardown()}},{key:"_onUpdated",value:function(Ee){var we=Ee.payload.liveEvent;this.upsert(we),this._dispatchEvent("liveEventUpdated",this)}},{key:"_onHostEntered",value:function(Ee){var we=Ee.payload.host;this.upsert({host:we}),this._dispatchEvent("hostEntered",this,this.host)}},{key:"_onHostExited",value:function(Ee){var we=Ee.payload.host;this.upsert({host:void 0}),this._dispatchEvent("hostExited",this,we)}},{key:"_onHostConnected",value:function(Ee){var we=Ee.payload.host;this.upsert({host:we}),this._dispatchEvent("hostConnected",this,this.host),this._tryOpen()}},{key:"_onHostDisconnected",value:function(Ee){var we=Ee.payload.host;this.upsert({host:we}),this._dispatchEvent("hostDisconnected",this,this.host)}},{key:"_onHostAudioStatusChanged",value:function(Ee){var we=Ee.payload.host;this.upsert({host:we}),we.isAudioOn&&this._dispatchEvent("hostUnmutedAudio",this,this.host),we.isAudioOn||this._dispatchEvent("hostMutedAudio",this,this.host)}},{key:"_onHostVideoStatusChanged",value:function(Ee){var we=Ee.payload.host;this.upsert({host:we}),we.isVideoOn&&this._dispatchEvent("hostStartedVideo",this,this.host),we.isVideoOn||this._dispatchEvent("hostStoppedVideo",this,this.host)}},{key:"_onParticipantCountChanged",value:function(Ee){var we=Ee.payload,nn=we.participantCount,Xe=we.peakParticipantCount,We=we.cumulativeParticipantCount;this.upsert({participantCount:nn,peakParticipantCount:Xe,cumulativeParticipantCount:We}),this._dispatchEvent("participantCountChanged",this,{participantCount:nn,peakParticipantCount:Xe,cumulativeParticipantCount:We})}},{key:"_onUpdateCustomItems",value:function(Ee){var we=Ee.payload,nn=we.customItems,Xe=we.updatedAt;we.updatedKeys,this._setCustomItems(nn,Xe)&&this._dispatchEvent("customItemsUpdated",nn,Xe)}},{key:"_onDeleteCustomItems",value:function(Ee){var we=Ee.payload,nn=we.customItems,Xe=we.deletedAt;we.deletedKeys,this._setCustomItems(nn,Xe)&&this._dispatchEvent("customItemsDeleted",nn,Xe)}},{key:"onDisconnected",value:function(){this._dispatchEvent("disconnected",this,new $a(oi.LIVE_EVENT_ID_NOT_FOUND)),this.teardown()}},{key:"_tryOpen",value:function(){if(this.host&&this.currentLiveUser&&this.host.state===sN.CONNECTED&&this.state===aN.ONGOING){var Ee,we=this.host.hostId;this._streams.has(we)?Ee=this._streams.get(we):(Ee=new RE(this,this._deviceManager,this._sender),this._streams.set(we,Ee)),Ee.openStream(),Ee.setConnectionQualityListener(this._connectionQualityListener),Ee.attach(we)}}},{key:"_tryClose",value:function(){}},{key:"_startToSendAlive",value:function(){var Ee=this;this.isActiveHost?this._aliveIntervalId=setInterval(function(){var we=Sr.createHostAlive(Ee.liveEventId,Ee.host.hostId);Ee._sender.send(we)},3e3):this._aliveIntervalId=setInterval(function(){var we=Sr.createAlive(Ee.liveEventId,Ee.currentLiveUser.participantId);Ee._sender.send(we)},9e4)}},{key:"_stopToSendAlive",value:function(){this._aliveIntervalId&&(clearInterval(this._aliveIntervalId),delete this._aliveIntervalId)}}]),He}(Oo),DE=function(s,o){return DE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(i[u]=c[u])},DE(s,o)};function ve(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=s}DE(s,o),s.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var Le=function(){return Le=Object.assign||function(s){for(var o,i=1,c=arguments.length;i<c;i++)for(var u in o=arguments[i])Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u]);return s},Le.apply(this,arguments)};function Z(s,o,i,c){return new(i||(i=Promise))(function(u,p){function m(y){try{b(c.next(y))}catch(S){p(S)}}function v(y){try{b(c.throw(y))}catch(S){p(S)}}function b(y){var S;y.done?u(y.value):(S=y.value,S instanceof i?S:new i(function(O){O(S)})).then(m,v)}b((c=c.apply(s,o||[])).next())})}function X(s,o){var i,c,u,p,m={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(b){return function(y){return function(S){if(i)throw new TypeError("Generator is already executing.");for(;p&&(p=0,S[0]&&(m=0)),m;)try{if(i=1,c&&(u=2&S[0]?c.return:S[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,S[1])).done)return u;switch(c=0,u&&(S=[2&S[0],u.value]),S[0]){case 0:case 1:u=S;break;case 4:return m.label++,{value:S[1],done:!1};case 5:m.label++,c=S[1],S=[0];continue;case 7:S=m.ops.pop(),m.trys.pop();continue;default:if(!((u=(u=m.trys).length>0&&u[u.length-1])||S[0]!==6&&S[0]!==2)){m=0;continue}if(S[0]===3&&(!u||S[1]>u[0]&&S[1]<u[3])){m.label=S[1];break}if(S[0]===6&&m.label<u[1]){m.label=u[1],u=S;break}if(u&&m.label<u[2]){m.label=u[2],m.ops.push(S);break}u[2]&&m.ops.pop(),m.trys.pop();continue}S=o.call(s,m)}catch(O){S=[6,O],c=0}finally{i=u=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([b,y])}}}function gt(s){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&s[o],c=0;if(i)return i.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mt(s,o){var i=typeof Symbol=="function"&&s[Symbol.iterator];if(!i)return s;var c,u,p=i.call(s),m=[];try{for(;(o===void 0||o-- >0)&&!(c=p.next()).done;)m.push(c.value)}catch(v){u={error:v}}finally{try{c&&!c.done&&(i=p.return)&&i.call(p)}finally{if(u)throw u.error}}return m}function Yt(s,o,i){if(i||arguments.length===2)for(var c,u=0,p=o.length;u<p;u++)!c&&u in o||(c||(c=Array.prototype.slice.call(o,0,u)),c[u]=o[u]);return s.concat(c||Array.prototype.slice.call(o))}typeof SuppressedError=="function"&&SuppressedError;var ft,l5="4.9.7",Bc=function(){function s(){}return Object.defineProperty(s,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(s,"SDK_VERSION",{get:function(){return l5},enumerable:!1,configurable:!0}),Object.defineProperty(s,"SDK_MAJOR_VERSION",{get:function(){return s.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(s,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),s}();(function(s){s[s.STAT_LOG_NOT_ALLOWED=400108]="STAT_LOG_NOT_ALLOWED",s[s.NON_AUTHORIZED=400108]="NON_AUTHORIZED",s[s.INVALID_TOKEN=400111]="INVALID_TOKEN",s[s.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",s[s.USER_AUTH_DEACTIVATED=400300]="USER_AUTH_DEACTIVATED",s[s.USER_AUTH_DELETED_OR_NOT_FOUND=400301]="USER_AUTH_DELETED_OR_NOT_FOUND",s[s.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",s[s.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",s[s.SESSION_REVOKED=400310]="SESSION_REVOKED",s[s.STAT_UPLOAD_NOT_ALLOWED=403200]="STAT_UPLOAD_NOT_ALLOWED",s[s.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",s[s.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",s[s.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",s[s.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",s[s.LOST_INSTANCE=700100]="LOST_INSTANCE",s[s.CONNECTION_RENEW=700102]="CONNECTION_RENEW",s[s.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",s[s.INVALID_COMMAND=700700]="INVALID_COMMAND",s[s.UNKNOWN_ERROR=77e4]="UNKNOWN_ERROR",s[s.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",s[s.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",s[s.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",s[s.INVALID_PARAMETER=800110]="INVALID_PARAMETER",s[s.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",s[s.NETWORK_ERROR=800120]="NETWORK_ERROR",s[s.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",s[s.MALFORMED_DATA=800130]="MALFORMED_DATA",s[s.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",s[s.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",s[s.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",s[s.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",s[s.ACK_TIMEOUT=800180]="ACK_TIMEOUT",s[s.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",s[s.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",s[s.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",s[s.REQUEST_FAILED=800220]="REQUEST_FAILED",s[s.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",s[s.REQUEST_CANCELED=800240]="REQUEST_CANCELED",s[s.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",s[s.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",s[s.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",s[s.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",s[s.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED",s[s.COLLECTION_DISPOSED=800600]="COLLECTION_DISPOSED",s[s.DATABASE_ERROR=800700]="DATABASE_ERROR"})(ft||(ft={}));var Aa,LE,Si,UE,Fp,Vc=function(s){return!(s instanceof $e&&!s.shouldThrowOutside)},$e=function(s){function o(i){var c=i.code,u=c===void 0?0:c,p=i.message,m=p===void 0?"":p,v=s.call(this,m)||this;return v.shouldThrowOutside=!1,v.name="SendbirdError",v.code=u,Object.setPrototypeOf(v,o.prototype),v}return ve(o,s),Object.defineProperty(o.prototype,"isInvalidTokenError",{get:function(){return this.code===ft.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===ft.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===ft.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSessionRevokedError",{get:function(){return this.code===ft.SESSION_REVOKED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isUserAuthDeactivedError",{get:function(){return this.code===ft.USER_AUTH_DEACTIVATED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isUserAuthDeletedOrNotFoundError",{get:function(){return this.code===ft.USER_AUTH_DELETED_OR_NOT_FOUND},enumerable:!1,configurable:!0}),Object.defineProperty(o,"debugModeRequired",{get:function(){return new o({code:ft.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"lostInstance",{get:function(){return new o({code:ft.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"invalidCommand",{get:function(){return new o({code:ft.INVALID_COMMAND,message:"Cannot send invalid command."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"unknown",{get:function(){return new o({code:ft.UNKNOWN_ERROR,message:"Unknown error occurred."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionRenew",{get:function(){return new o({code:ft.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"invalidConnectionStateTransition",{get:function(){return new o({code:ft.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionRequired",{get:function(){return new o({code:ft.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionCanceled",{get:function(){return new o({code:ft.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"invalidParameters",{get:function(){return new o({code:ft.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"notSupportedError",{get:function(){return new o({code:ft.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"networkError",{get:function(){return new o({code:ft.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"markAsReadAllRateLimitExceeded",{get:function(){return new o({code:ft.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"queryInProgress",{get:function(){return new o({code:ft.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"noAckTimeout",{get:function(){return new o({code:ft.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"loginTimeout",{get:function(){return new o({code:ft.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionClosed",{get:function(){return new o({code:ft.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"requestFailed",{get:function(){return new o({code:ft.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"fileUploadCanceled",{get:function(){return new o({code:ft.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"requestCanceled",{get:function(){return new o({code:ft.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sessionTokenRefreshFailed",{get:function(){return new o({code:ft.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sessionTokenRequestFailed",{get:function(){return new o({code:ft.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"databaseError",{get:function(){return new o({code:ft.DATABASE_ERROR,message:"Database error."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"fileSizeLimitExceededError",{get:function(){return new o({code:ft.FILE_SIZE_LIMIT_EXCEEDED,message:"File size exceeds the file size limit."})},enumerable:!1,configurable:!0}),o.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},o}(Error),wZ=[ft.CONNECTION_REQUIRED,ft.NETWORK_ERROR,ft.ACK_TIMEOUT,ft.WEBSOCKET_CONNECTION_CLOSED,ft.WEBSOCKET_CONNECTION_FAILED,ft.FILE_UPLOAD_CANCEL_FAILED,ft.REQUEST_CANCELED,ft.INTERNAL_SERVER_ERROR,ft.RATE_LIMIT_EXCEEDED,ft.UNKNOWN_SERVER_ERROR],xZ=[ft.WEBSOCKET_CONNECTION_CLOSED,ft.WEBSOCKET_CONNECTION_FAILED,ft.CONNECTION_REQUIRED],c5=function(s,o){if(s!==o){var i=Le({},s),c=Le({},o);return!(i.hasOwnProperty("messageId")&&c.hasOwnProperty("messageId")&&i.messageId!==c.messageId||i.hasOwnProperty("reqId")&&c.hasOwnProperty("reqId")&&i.reqId!==c.reqId||(i.hasOwnProperty("messageId")&&delete i.messageId,i.hasOwnProperty("reqId")&&delete i.reqId,c.hasOwnProperty("messageId")&&delete c.messageId,c.hasOwnProperty("reqId")&&delete c.reqId,JSON.stringify(i)!==JSON.stringify(c)))}return!0},Ve=function(s,o,i){return i===void 0&&(i=!1),!(!i||o!=null)||(typeof s!="string"?typeof s=="object"?Lr(s,o):SZ(s,o):typeof o===s)},Lr=function(s,o,i){return i===void 0&&(i=!1),!(!i||o!=null)||Object.values(s).includes(o)},SZ=function(s,o){return o instanceof s},ar=function(s,o,i){return i===void 0&&(i=!1),!(!i||o!=null)||Array.isArray(o)&&o.every(function(c){return Ve(s,c)})},dv=function(s){return s>0&&xZ.indexOf(s)>=0},hs=function(s,o){if(o===void 0&&(o=!1),o&&s==null)return!0;var i=typeof s=="object"&&s!==null&&s.hasOwnProperty("name")&&typeof s.name=="string"&&s.hasOwnProperty("uri")&&typeof s.uri=="string"&&s.hasOwnProperty("type")&&typeof s.type=="string";if(!i){if(typeof Blob<"u")return s instanceof Blob;if(typeof File<"u")return s instanceof File}return i},d5=function(){function s(o){var i=o===void 0?{}:o,c=i.useMemberInfoInMessage,u=c===void 0||c,p=i.typingIndicatorInvalidateTime,m=p===void 0?1e4:p,v=i.typingIndicatorThrottle,b=v===void 0?1e3:v,y=i.websocketResponseTimeout,S=y===void 0?1e4:y,O=i.websocketPayloadDecompression,V=O===void 0||O,$=i.sessionTokenRefreshTimeout,te=$===void 0?60:$;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=u,this._typingIndicatorInvalidateTime=m,this._typingIndicatorThrottle=b,this._websocketResponseTimeout=S,this._sessionTokenRefreshTimeout=te,this.websocketPayloadDecompression=V}return Object.defineProperty(s.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(o){Ve("boolean",o)&&(this._useMemberInfoInMessage=o)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(o){Ve("number",o)&&(this._typingIndicatorInvalidateTime=o)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(o){Ve("number",o)&&o>=1e3&&o<=9e3&&(this._typingIndicatorThrottle=o)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(o){Ve("number",o)&&o>=5e3&&o<=3e4&&(this._websocketResponseTimeout=o)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(o){Ve("number",o)&&(o<60?o=60:o>1800&&(o=1800),this._sessionTokenRefreshTimeout=o)},enumerable:!1,configurable:!0}),s}(),u5={encrypt:function(s){return s},decrypt:function(s){return s}},h5=function(){function s(o){var i=o.store;this._preference=new Map,this._store=i}return s.prototype._savePreferenceKeys=function(){return Z(this,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return[4,this._store.set({key:this._keysAddress,value:Yt([],Mt(this._preference.keys()),!1)})];case 1:return o.sent(),[2]}})})},s.prototype.init=function(o,i){var c;return i===void 0&&(i=1),Z(this,void 0,void 0,function(){var u,p,m,v,b,y,S,O,V,$;return X(this,function(te){switch(te.label){case 0:return this._version=i,this._keysAddress=o,u="".concat(o,".metadata.version"),[4,this._store.get(u)];case 1:return p=te.sent(),[4,this._store.get(o)];case 2:return m=(c=te.sent())!==null&&c!==void 0?c:[],!p||p.version<this._version?[4,this._resetPreferenceData(m,u)]:[3,4];case 3:return te.sent(),[3,11];case 4:te.trys.push([4,9,10,11]),v=gt(m),b=v.next(),te.label=5;case 5:return b.done?[3,8]:(y=b.value,[4,this._store.get(y)]);case 6:(S=te.sent())&&this._preference.set(y,S),te.label=7;case 7:return b=v.next(),[3,5];case 8:return[3,11];case 9:return O=te.sent(),V={error:O},[3,11];case 10:try{b&&!b.done&&($=v.return)&&$.call(v)}finally{if(V)throw V.error}return[7];case 11:return[2]}})})},s.prototype._resetPreferenceData=function(o,i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return this._preference=new Map,[4,this._store.removeMany(o)];case 1:return c.sent(),[4,this._store.set({key:i,value:{version:this._version}})];case 2:return c.sent(),[2]}})})},s.prototype.get=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,this._preference.get(o)]})})},s.prototype.set=function(o,i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=!this._preference.has(o),[4,this._store.set({key:o,value:i})];case 1:return u.sent(),this._preference.set(o,i),c?[4,this._savePreferenceKeys()]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2]}})})},s.prototype.remove=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._store.remove(o)];case 1:return i.sent(),this._preference.delete(o),[4,this._savePreferenceKeys()];case 2:return i.sent(),[2]}})})},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return[4,this._store.removeMany(Yt([],Mt(this._preference.keys()),!1))];case 1:return o.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return o.sent(),[2]}})})},s}(),TZ=function(){function s(o){var i=o.encryption,c=o.store,u=o.localCacheEnabled,p=o.localCacheConfig;this.store=c,this.preference=new h5({store:c}),this.encryption=i??u5,this.localCacheEnabled=u,this.localCacheConfig=p}return s.prototype.replaceStore=function(o){this.store=o,this.preference=new h5({store:o})},s}();(function(s){s.SUCCESS="success",s.PENDING="pending",s.ERROR="error"})(Aa||(Aa={})),function(s){s.DEFAULT="default",s.ALL="all",s.MENTION_ONLY="mention_only",s.OFF="off"}(LE||(LE={})),function(s){s.FCM="gcm",s.APNS="apns",s.UNKNOWN="unknown"}(Si||(Si={})),function(s){s.ALTERNATIVE="alternative",s.DEFAULT="default"}(UE||(UE={})),function(s){s.CUSTOM="custom",s.MESSAGE_COLLECTION_ACCESSED_AT="messagecollection_accessed_at"}(Fp||(Fp={}));var ur,uv,p5,Jr,ks,hv,Oa,Is,zc,Wr,f5=function(){function s(o){var i=o===void 0?{}:o,c=i.maxSize,u=c===void 0?256:c,p=i.clearOrder,m=p===void 0?Fp.MESSAGE_COLLECTION_ACCESSED_AT:p,v=i.customClearOrderComparator;this._clearOrderComparatorUseMessageCollectionAccessedAt=function(b,y){return b.channel.messageCollectionLastAccessedAt===y.channel.messageCollectionLastAccessedAt?b.channel.lastMessage&&!y.channel.lastMessage?1:!b.channel.lastMessage&&y.channel.lastMessage?-1:b.channel.lastMessage||y.channel.lastMessage?b.channel.lastMessage.createdAt-y.channel.lastMessage.createdAt:0:b.channel.messageCollectionLastAccessedAt>y.channel.messageCollectionLastAccessedAt?1:-1},this._maxSize=Math.max(u,64),v?(this._clearOrder=m,this._customClearOrderComparator=v):this._clearOrder=Fp.MESSAGE_COLLECTION_ACCESSED_AT}return Object.defineProperty(s.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"clearOrder",{get:function(){return this._clearOrder},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"clearOrderComparator",{get:function(){var o;return this._clearOrder===Fp.MESSAGE_COLLECTION_ACCESSED_AT?this._clearOrderComparatorUseMessageCollectionAccessedAt:(o=this._customClearOrderComparator)!==null&&o!==void 0?o:this._clearOrderComparatorUseMessageCollectionAccessedAt},enumerable:!1,configurable:!0}),s}(),CZ=function(){function s(){}return Object.defineProperty(s.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),s.prototype.clear=function(){this.authToken=void 0,this.sessionKey=void 0},s}(),zh=function(){var s=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var i=(s+16*Math.random())%16|0;return s=Math.floor(s/16),(o==="x"?i:3&i|8).toString(16)})},_5=function(){function s(o){var i=o.container;this._container={},this._container=i,this.key=zh()}return s.prototype._register=function(o,i,c){var u;return o in this._container||(this._container[o]=new Map),(u=this._container[o])===null||u===void 0||u.set(this.key,{occurence:i,handler:c}),this},s.prototype.on=function(o,i){return this._register(o,-1,i)},s.prototype.once=function(o,i){return this._register(o,1,i)},s.prototype.close=function(){var o;for(var i in this._container)(o=this._container[i])===null||o===void 0||o.delete(this.key)},s}(),Gh=function(){function s(){this._container={}}return s.prototype.on=function(o,i){return new _5({container:this._container}).on(o,i)},s.prototype.once=function(o,i){return new _5({container:this._container}).once(o,i)},s.prototype.dispatch=function(o,i){var c,u,p=this._container[o];if(p){var m=[];try{for(var v=gt(p.keys()),b=v.next();!b.done;b=v.next()){var y=b.value,S=p.get(y);S.handler(i),S.occurence>0&&(S.occurence--,S.occurence===0&&m.push(y))}}catch(O){c={error:O}}finally{try{b&&!b.done&&(u=v.return)&&u.call(v)}finally{if(c)throw c.error}}m.forEach(function(O){return p.delete(O)})}},s}(),kZ=function(){function s(){this._dispatcher=new Gh}return s.prototype.on=function(o){return this._dispatcher.on("event",o)},s.prototype.once=function(o){return this._dispatcher.once("event",o)},s.prototype.dispatch=function(o){this._dispatcher.dispatch("event",o)},s}(),Ti=function(){},ct=function(s){var o={};return s&&Object.keys(s).forEach(function(i){s[i]===void 0||Number.isNaN(s[i])||s[i]===null||(o[i]=s[i])}),o},_t=function(s){if(s!=null){if(typeof s=="object"){if(Array.isArray(s)){var o=Yt([],Mt(s),!1);for(var i in o)o[i]=_t(o[i]);return o}for(var c in s)s[c]===null&&delete s[c];return s}return s}};(function(s){s.BASE="base",s.GROUP="group",s.OPEN="open",s.FEED="feed"})(ur||(ur={})),function(s){s.OPERATOR="operator",s.NONE="none"}(uv||(uv={})),function(s){s.MUTED="muted",s.UNMUTED="unmuted"}(p5||(p5={})),function(s){s.BASE="base",s.USER="user",s.FILE="file",s.ADMIN="admin"}(Jr||(Jr={})),function(s){s.ALL="",s.USER="MESG",s.FILE="FILE",s.ADMIN="ADMM"}(ks||(ks={})),function(s){s.USER="MESG",s.FILE="FILE",s.ADMIN="ADMM"}(hv||(hv={})),function(s){s.USERS="users",s.CHANNEL="channel"}(Oa||(Oa={})),function(s){s.ALL="all",s.NONE="none",s.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(Is||(Is={})),function(s){s.DEFAULT="default",s.SUPPRESS="suppress"}(zc||(zc={})),function(s){s.PENDING="pending",s.SCHEDULED="scheduled",s.SUCCEEDED="succeeded",s.FAILED="failed",s.CANCELED="canceled"}(Wr||(Wr={}));var Dn,Js="v3",hr="/".concat(Js,"/users"),IZ="/".concat(Js,"/storage/file"),m5="/".concat(Js,"/group_channels"),Zd="/".concat(Js,"/open_channels"),NZ="/".concat(Js,"/sdk/open_channels"),AZ="/".concat(Js,"/search"),PE="/".concat(Js,"/report"),OZ="/".concat(Js,"/emojis"),v5="/".concat(Js,"/emoji_categories"),Ro="/".concat(Js,"/polls"),RZ="/".concat(Js,"/sdk/ui_kit/configuration"),MZ="/".concat(Js,"/sdk/statistics"),yr=function(s){switch(s){case ur.FEED:case ur.GROUP:return m5;case ur.OPEN:return Zd;default:return null}},g5=function(s){switch(s){case ur.GROUP:return"".concat(PE,"/group_channels");case ur.OPEN:return"".concat(PE,"/open_channels");default:return null}},qh=function(s,o,i){var c,u;switch(s){case Oa.CHANNEL:return!0;case Oa.USERS:if(o)try{for(var p=gt(o),m=p.next();!m.done;m=p.next())if(m.value===i)return!0}catch(v){c={error:v}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(c)throw c.error}}}return!1},FE=function(s,o,i){var c,u,p,m,v=qh((c=s.mentionType)!==null&&c!==void 0?c:null,(u=s.mentionedUserIds)!==null&&u!==void 0?u:[],i),b=qh((p=o.mentionType)!==null&&p!==void 0?p:null,(m=o.mentionedUserIds)!==null&&m!==void 0?m:[],i);return!v&&b?1:v&&!b?-1:0},b5=function(s,o,i){var c,u=o||new FormData;for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)){var m=s[p],v=i?"".concat(i,"[").concat(p,"]"):p;hs(m)?u.append(v,m,(c=m.name)!==null&&c!==void 0?c:"filename"):typeof m!="object"||m===null||Array.isArray(m)||m instanceof Blob?u.append(v,String(m)):u=b5(m,u,v)}return u};(function(s){s.GET="GET",s.POST="POST",s.PUT="PUT",s.DELETE="DELETE"})(Dn||(Dn={}));var Jd,Un=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.params={},i.requireAuth=!0,i.headers={},i.requestId=zh(),i}return ve(o,s),o.prototype.encodeParams=function(i){var c=this;return i==null||i===""?encodeURIComponent(""):Array.isArray(i)?i.map(function(u){return c.encodeParams(u)}).join(","):encodeURIComponent(typeof i=="object"?JSON.stringify(i):String(i))},Object.defineProperty(o.prototype,"query",{get:function(){var i=this,c=ct(this.params);return"?".concat(Object.keys(c).map(function(u){return"".concat(encodeURIComponent(u),"=").concat(i.encodeParams(c[u]))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"payload",{get:function(){var i=ct(this.params);return Object.keys(i).some(function(c){return hs(i[c])})?b5(i):JSON.stringify(i)},enumerable:!1,configurable:!0}),o}(Ti),qn=function(s){function o(i,c){var u=s.call(this)||this;return u._iid=i,u._payload=c,u}return ve(o,s),Object.defineProperty(o.prototype,"payload",{get:function(){return Le({},this._payload)},enumerable:!1,configurable:!0}),o.prototype.as=function(i){return new i(this._iid,this.payload)},o}(Ti),DZ=function(s){function o(i){var c=s.call(this)||this;return c.requestId=i,c}return ve(o,s),o}(Ti),Hp=function(s){function o(i){var c=i.expires_in,u=i.reason,p=u===void 0?ft.SESSION_KEY_EXPIRED:u,m=s.call(this)||this;switch(m.expiresIn=c??0,p){case ft.SESSION_KEY_EXPIRED:case ft.SESSION_TOKEN_EXPIRED:case ft.SESSION_REVOKED:case ft.USER_AUTH_DEACTIVATED:case ft.USER_AUTH_DELETED_OR_NOT_FOUND:m.error=new $e({code:p})}return m}return ve(o,s),Object.defineProperty(o.prototype,"invalidateSessionToken",{get:function(){var i;return!!(!((i=this.error)===null||i===void 0)&&i.isSessionTokenExpiredError)},enumerable:!1,configurable:!0}),o}(Ti),HE=function(s){function o(i){var c=s.call(this)||this;return c.statLog=i,c}return ve(o,s),o}(Ti);(function(s){s.FEATURE_LOCALCACHE="feature:local_cache",s.WEBSOCKET_CONNECT="ws:connect",s.API_RESULT="api:result"})(Jd||(Jd={}));var BE,Bp,VE,jh=function(){function s(o){var i=o.type,c=o.data,u=o.ts,p=u===void 0?Date.now():u;this.type=i,this.createdAt=p,this.data=c}return s.payloadify=function(o){return ct({stat_type:o.type,ts:o.createdAt,data:ct(o.data)})},s}(),zE=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},y5=function(){return!(typeof navigator>"u"||!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone/i.test(navigator.userAgent))};(function(s){s.CHAT="chat",s.CALLS="calls",s.DESK="desk",s.LIVE="live",s.UIKIT_CHAT="uikit-chat",s.UIKIT_LIVE="uikit-live"})(BE||(BE={})),function(s){s.ANDROID="android",s.IOS="ios",s.JS="js",s.UNREAL="unreal",s.UNITY="unity",s.REACT_NATIVE="react-native",s.FLUTTER="flutter"}(Bp||(Bp={})),function(s){s.ANDROID="android",s.IOS="ios",s.WEB="web",s.MOBILE_WEB="mobile_web",s.WINDOWS="windows"}(VE||(VE={}));var pv=function(){function s(){}return s.sendbirdSdkUserAgentWithExtension=function(o){var i=zE()?Bp.REACT_NATIVE:Bp.JS,c={main_sdk_info:"chat/".concat(i,"/").concat(Bc.SDK_VERSION),device_os_platform:y5()?"mobile-web":"web",os_version:Bc.OS_VERSION};if(o){var u=o.sendbirdExtensions,p=o.deviceOS,m=o.customData,v=m===void 0?{}:m;p.version&&(c.os_version=p.version),p.platform&&(c.device_os_platform=p.platform),u.length>0&&(c.extension_sdk_info=u.map(function(b){var y=b.product,S=b.platform,O=b.version;return"".concat(y,"/").concat(S,"/").concat(O)}).join(",")),Object.keys(c).forEach(function(b){return delete v[b]}),Object.keys(v).length>0&&(c=Le(Le({},c),v))}return Object.entries(c).map(function(b){var y=Mt(b,2),S=y[0],O=y[1];return"".concat(S,"=").concat(O)}).join("&")},s.userAgentWithExtension=function(o){var i=zE()?"reactnative":"JS",c=o.sb_syncmanager?"s".concat(o.sb_syncmanager):"",u=o.sb_uikit?"u".concat(o.sb_uikit):"",p=o["device-os-platform"]?"o".concat(o["device-os-platform"]):y5()?"omobile-web":"oweb";return"".concat(i,"/c").concat(Bc.SDK_VERSION,"/").concat(c,"/").concat(u,"/").concat(p)},s}(),LZ=function(){function s(o,i){var c=i.auth,u=i.sdkState,p=i.dispatcher,m=i.logger,v=i.useFetchCompat,b=v!==void 0&&v,y=this;this._abortControl=new Map,this._shouldImportFetchCompat=!1,this._iid=o,this._auth=c,this._sdkState=u,this._dispatcher=p,this._dispatcher.on(function(S){S instanceof DZ&&y.cancel(S.requestId)}),this._logger=m,this._shouldImportFetchCompat=b}return s.prototype._createHeader=function(o,i){var c=this._sdkState,u=c.appId,p=c.appVersion,m=c.sendbirdRuntimeEnvironment,v=Le(Le({},o.headers),{SendBird:"JS,".concat(Bc.OS_VERSION,",").concat(Bc.SDK_VERSION,",").concat(u).concat(p?",".concat(p):""),"SB-User-Agent":pv.userAgentWithExtension(this._sdkState.extensions),"Request-Sent-Timestamp":Date.now().toString(),"SB-SDK-User-Agent":pv.sendbirdSdkUserAgentWithExtension(m)});return i||(v["Content-Type"]="application/json; charset=utf-8"),o.requireAuth&&this._auth.hasSession&&(v["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(v["App-Id"]=u,v["Access-Token"]=this._auth.authToken),v},s.prototype._statLogApiResult=function(o,i,c){this._dispatcher.dispatch(new HE(new jh({type:Jd.API_RESULT,data:{endpoint:o.path,method:o.method,success:!c,latency:Date.now()-i,error_code:c==null?void 0:c.code,error_description:c==null?void 0:c.message}})))},s.prototype.send=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y,S,O,V,$,te,J,oe;return X(this,function(xe){switch(xe.label){case 0:i=o.path,c=o.method,u=![Dn.GET,Dn.DELETE].includes(c),p=this._sdkState.api,m="".concat(p.host).concat(i).concat(u?"":o.query),v=u?o.payload:null,b=this._createHeader(o,v instanceof FormData?v:void 0),y=new AbortController,S=y.signal,this._abortControl.set(o.requestId,y),O=Date.now(),xe.label=1;case 1:return xe.trys.push([1,8,,9]),this._shouldImportFetchCompat&&(this._shouldImportFetchCompat=!1,(typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof dd<"u"&&dd||{fetch:null}).fetch=null),typeof AbortController<"u"?[3,3]:[4,Promise.resolve().then(function(){return Rie})];case 2:xe.sent(),xe.label=3;case 3:return typeof fetch=="function"?[3,5]:[4,Promise.resolve().then(function(){return Hie})];case 4:xe.sent(),xe.label=5;case 5:return[4,fetch(m,{method:c,body:v,headers:b,signal:S})];case 6:return[4,(V=xe.sent()).json()];case 7:if($=xe.sent(),V.ok||V.redirected)return this._logger.debug("receive api response",o.requestId),this._statLogApiResult(o,O),[2,new qn(this._iid,$)];throw $?(((te=new $e($)).isSessionKeyExpiredError||te.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new Hp({reason:te.code})),this._statLogApiResult(o,O,te),te):(te=$e.requestFailed,this._statLogApiResult(o,O,te),te);case 8:throw J=xe.sent(),this._statLogApiResult(o,O,J),J instanceof $e?(this._logger.debug("fail api request",J),J):J.name==="AbortError"?$e.requestCanceled:(oe=$e.networkError,this._logger.debug("fail api request",oe),oe);case 9:return[2]}})})},s.prototype.cancel=function(o){this._abortControl.has(o)&&(this._abortControl.get(o).abort(),this._abortControl.delete(o))},s.prototype.cancelAll=function(){var o,i;try{for(var c=gt(this._abortControl.values()),u=c.next();!u.done;u=c.next())u.value.abort()}catch(p){o={error:p}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}this._abortControl.clear()},s}(),Qr=function(s){function o(i,c,u,p){p===void 0&&(p="");var m,v=this;return(v=s.call(this)||this)._iid=i,v.code=c,v.payload=u,v.requestId=(m=u.req_id)!==null&&m!==void 0?m:p,v}return ve(o,s),o.createFromRawMessage=function(i,c){var u=c.substring(0,4),p={};try{p=JSON.parse(c.substring(4))}catch{u="NOOP"}finally{return new o(i,u,p)}},o.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},o.prototype.as=function(i){return new i(this._iid,this.code,this.payload)},o}(Ti),Ot=function(){};function $h(s){let o=s.length;for(;--o>=0;)s[o]=0}const GE=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),fv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),UZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),E5=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jl=new Array(576);$h(jl);const Vp=new Array(60);$h(Vp);const zp=new Array(512);$h(zp);const Gp=new Array(256);$h(Gp);const qE=new Array(29);$h(qE);const _v=new Array(30);function jE(s,o,i,c,u){this.static_tree=s,this.extra_bits=o,this.extra_base=i,this.elems=c,this.max_length=u,this.has_stree=s&&s.length}let w5,x5,S5;function $E(s,o){this.dyn_tree=s,this.max_code=0,this.stat_desc=o}$h(_v);const T5=s=>s<256?zp[s]:zp[256+(s>>>7)],qp=(s,o)=>{s.pending_buf[s.pending++]=255&o,s.pending_buf[s.pending++]=o>>>8&255},ps=(s,o,i)=>{s.bi_valid>16-i?(s.bi_buf|=o<<s.bi_valid&65535,qp(s,s.bi_buf),s.bi_buf=o>>16-s.bi_valid,s.bi_valid+=i-16):(s.bi_buf|=o<<s.bi_valid&65535,s.bi_valid+=i)},ll=(s,o,i)=>{ps(s,i[2*o],i[2*o+1])},C5=(s,o)=>{let i=0;do i|=1&s,s>>>=1,i<<=1;while(--o>0);return i>>>1},k5=(s,o,i)=>{const c=new Array(16);let u,p,m=0;for(u=1;u<=15;u++)m=m+i[u-1]<<1,c[u]=m;for(p=0;p<=o;p++){let v=s[2*p+1];v!==0&&(s[2*p]=C5(c[v]++,v))}},I5=s=>{let o;for(o=0;o<286;o++)s.dyn_ltree[2*o]=0;for(o=0;o<30;o++)s.dyn_dtree[2*o]=0;for(o=0;o<19;o++)s.bl_tree[2*o]=0;s.dyn_ltree[512]=1,s.opt_len=s.static_len=0,s.sym_next=s.matches=0},N5=s=>{s.bi_valid>8?qp(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0},A5=(s,o,i,c)=>{const u=2*o,p=2*i;return s[u]<s[p]||s[u]===s[p]&&c[o]<=c[i]},WE=(s,o,i)=>{const c=s.heap[i];let u=i<<1;for(;u<=s.heap_len&&(u<s.heap_len&&A5(o,s.heap[u+1],s.heap[u],s.depth)&&u++,!A5(o,c,s.heap[u],s.depth));)s.heap[i]=s.heap[u],i=u,u<<=1;s.heap[i]=c},O5=(s,o,i)=>{let c,u,p,m,v=0;if(s.sym_next!==0)do c=255&s.pending_buf[s.sym_buf+v++],c+=(255&s.pending_buf[s.sym_buf+v++])<<8,u=s.pending_buf[s.sym_buf+v++],c===0?ll(s,u,o):(p=Gp[u],ll(s,p+256+1,o),m=GE[p],m!==0&&(u-=qE[p],ps(s,u,m)),c--,p=T5(c),ll(s,p,i),m=fv[p],m!==0&&(c-=_v[p],ps(s,c,m)));while(v<s.sym_next);ll(s,256,o)},KE=(s,o)=>{const i=o.dyn_tree,c=o.stat_desc.static_tree,u=o.stat_desc.has_stree,p=o.stat_desc.elems;let m,v,b,y=-1;for(s.heap_len=0,s.heap_max=573,m=0;m<p;m++)i[2*m]!==0?(s.heap[++s.heap_len]=y=m,s.depth[m]=0):i[2*m+1]=0;for(;s.heap_len<2;)b=s.heap[++s.heap_len]=y<2?++y:0,i[2*b]=1,s.depth[b]=0,s.opt_len--,u&&(s.static_len-=c[2*b+1]);for(o.max_code=y,m=s.heap_len>>1;m>=1;m--)WE(s,i,m);b=p;do m=s.heap[1],s.heap[1]=s.heap[s.heap_len--],WE(s,i,1),v=s.heap[1],s.heap[--s.heap_max]=m,s.heap[--s.heap_max]=v,i[2*b]=i[2*m]+i[2*v],s.depth[b]=(s.depth[m]>=s.depth[v]?s.depth[m]:s.depth[v])+1,i[2*m+1]=i[2*v+1]=b,s.heap[1]=b++,WE(s,i,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],((S,O)=>{const V=O.dyn_tree,$=O.max_code,te=O.stat_desc.static_tree,J=O.stat_desc.has_stree,oe=O.stat_desc.extra_bits,xe=O.stat_desc.extra_base,Ie=O.stat_desc.max_length;let Ue,He,Ee,we,nn,Xe,We=0;for(we=0;we<=15;we++)S.bl_count[we]=0;for(V[2*S.heap[S.heap_max]+1]=0,Ue=S.heap_max+1;Ue<573;Ue++)He=S.heap[Ue],we=V[2*V[2*He+1]+1]+1,we>Ie&&(we=Ie,We++),V[2*He+1]=we,He>$||(S.bl_count[we]++,nn=0,He>=xe&&(nn=oe[He-xe]),Xe=V[2*He],S.opt_len+=Xe*(we+nn),J&&(S.static_len+=Xe*(te[2*He+1]+nn)));if(We!==0){do{for(we=Ie-1;S.bl_count[we]===0;)we--;S.bl_count[we]--,S.bl_count[we+1]+=2,S.bl_count[Ie]--,We-=2}while(We>0);for(we=Ie;we!==0;we--)for(He=S.bl_count[we];He!==0;)Ee=S.heap[--Ue],Ee>$||(V[2*Ee+1]!==we&&(S.opt_len+=(we-V[2*Ee+1])*V[2*Ee],V[2*Ee+1]=we),He--)}})(s,o),k5(i,y,s.bl_count)},R5=(s,o,i)=>{let c,u,p=-1,m=o[1],v=0,b=7,y=4;for(m===0&&(b=138,y=3),o[2*(i+1)+1]=65535,c=0;c<=i;c++)u=m,m=o[2*(c+1)+1],++v<b&&u===m||(v<y?s.bl_tree[2*u]+=v:u!==0?(u!==p&&s.bl_tree[2*u]++,s.bl_tree[32]++):v<=10?s.bl_tree[34]++:s.bl_tree[36]++,v=0,p=u,m===0?(b=138,y=3):u===m?(b=6,y=3):(b=7,y=4))},M5=(s,o,i)=>{let c,u,p=-1,m=o[1],v=0,b=7,y=4;for(m===0&&(b=138,y=3),c=0;c<=i;c++)if(u=m,m=o[2*(c+1)+1],!(++v<b&&u===m)){if(v<y)do ll(s,u,s.bl_tree);while(--v!=0);else u!==0?(u!==p&&(ll(s,u,s.bl_tree),v--),ll(s,16,s.bl_tree),ps(s,v-3,2)):v<=10?(ll(s,17,s.bl_tree),ps(s,v-3,3)):(ll(s,18,s.bl_tree),ps(s,v-11,7));v=0,p=u,m===0?(b=138,y=3):u===m?(b=6,y=3):(b=7,y=4)}};let D5=!1;const L5=(s,o,i,c)=>{ps(s,0+(c?1:0),3),N5(s),qp(s,i),qp(s,~i),i&&s.pending_buf.set(s.window.subarray(o,o+i),s.pending),s.pending+=i};var PZ={_tr_init:s=>{D5||((()=>{let o,i,c,u,p;const m=new Array(16);for(c=0,u=0;u<28;u++)for(qE[u]=c,o=0;o<1<<GE[u];o++)Gp[c++]=u;for(Gp[c-1]=u,p=0,u=0;u<16;u++)for(_v[u]=p,o=0;o<1<<fv[u];o++)zp[p++]=u;for(p>>=7;u<30;u++)for(_v[u]=p<<7,o=0;o<1<<fv[u]-7;o++)zp[256+p++]=u;for(i=0;i<=15;i++)m[i]=0;for(o=0;o<=143;)jl[2*o+1]=8,o++,m[8]++;for(;o<=255;)jl[2*o+1]=9,o++,m[9]++;for(;o<=279;)jl[2*o+1]=7,o++,m[7]++;for(;o<=287;)jl[2*o+1]=8,o++,m[8]++;for(k5(jl,287,m),o=0;o<30;o++)Vp[2*o+1]=5,Vp[2*o]=C5(o,5);w5=new jE(jl,GE,257,286,15),x5=new jE(Vp,fv,0,30,15),S5=new jE(new Array(0),UZ,0,19,7)})(),D5=!0),s.l_desc=new $E(s.dyn_ltree,w5),s.d_desc=new $E(s.dyn_dtree,x5),s.bl_desc=new $E(s.bl_tree,S5),s.bi_buf=0,s.bi_valid=0,I5(s)},_tr_stored_block:L5,_tr_flush_block:(s,o,i,c)=>{let u,p,m=0;s.level>0?(s.strm.data_type===2&&(s.strm.data_type=(v=>{let b,y=4093624447;for(b=0;b<=31;b++,y>>>=1)if(1&y&&v.dyn_ltree[2*b]!==0)return 0;if(v.dyn_ltree[18]!==0||v.dyn_ltree[20]!==0||v.dyn_ltree[26]!==0)return 1;for(b=32;b<256;b++)if(v.dyn_ltree[2*b]!==0)return 1;return 0})(s)),KE(s,s.l_desc),KE(s,s.d_desc),m=(v=>{let b;for(R5(v,v.dyn_ltree,v.l_desc.max_code),R5(v,v.dyn_dtree,v.d_desc.max_code),KE(v,v.bl_desc),b=18;b>=3&&v.bl_tree[2*E5[b]+1]===0;b--);return v.opt_len+=3*(b+1)+5+5+4,b})(s),u=s.opt_len+3+7>>>3,p=s.static_len+3+7>>>3,p<=u&&(u=p)):u=p=i+5,i+4<=u&&o!==-1?L5(s,o,i,c):s.strategy===4||p===u?(ps(s,2+(c?1:0),3),O5(s,jl,Vp)):(ps(s,4+(c?1:0),3),((v,b,y,S)=>{let O;for(ps(v,b-257,5),ps(v,y-1,5),ps(v,S-4,4),O=0;O<S;O++)ps(v,v.bl_tree[2*E5[O]+1],3);M5(v,v.dyn_ltree,b-1),M5(v,v.dyn_dtree,y-1)})(s,s.l_desc.max_code+1,s.d_desc.max_code+1,m+1),O5(s,s.dyn_ltree,s.dyn_dtree)),I5(s),c&&N5(s)},_tr_tally:(s,o,i)=>(s.pending_buf[s.sym_buf+s.sym_next++]=o,s.pending_buf[s.sym_buf+s.sym_next++]=o>>8,s.pending_buf[s.sym_buf+s.sym_next++]=i,o===0?s.dyn_ltree[2*i]++:(s.matches++,o--,s.dyn_ltree[2*(Gp[i]+256+1)]++,s.dyn_dtree[2*T5(o)]++),s.sym_next===s.sym_end),_tr_align:s=>{ps(s,2,3),ll(s,256,jl),(o=>{o.bi_valid===16?(qp(o,o.bi_buf),o.bi_buf=0,o.bi_valid=0):o.bi_valid>=8&&(o.pending_buf[o.pending++]=255&o.bi_buf,o.bi_buf>>=8,o.bi_valid-=8)})(s)}},jp=(s,o,i,c)=>{let u=65535&s|0,p=s>>>16&65535|0,m=0;for(;i!==0;){m=i>2e3?2e3:i,i-=m;do u=u+o[c++]|0,p=p+u|0;while(--m);u%=65521,p%=65521}return u|p<<16|0};const FZ=new Uint32Array((()=>{let s,o=[];for(var i=0;i<256;i++){s=i;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;o[i]=s}return o})());var Xi=(s,o,i,c)=>{const u=FZ,p=c+i;s^=-1;for(let m=c;m<p;m++)s=s>>>8^u[255&(s^o[m])];return-1^s},eu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:HZ,_tr_stored_block:QE,_tr_flush_block:BZ,_tr_tally:Gc,_tr_align:VZ}=PZ,{Z_NO_FLUSH:qc,Z_PARTIAL_FLUSH:zZ,Z_FULL_FLUSH:GZ,Z_FINISH:eo,Z_BLOCK:U5,Z_OK:oa,Z_STREAM_END:P5,Z_STREAM_ERROR:cl,Z_DATA_ERROR:qZ,Z_BUF_ERROR:YE,Z_DEFAULT_COMPRESSION:jZ,Z_FILTERED:$Z,Z_HUFFMAN_ONLY:mv,Z_RLE:WZ,Z_FIXED:KZ,Z_DEFAULT_STRATEGY:QZ,Z_UNKNOWN:YZ,Z_DEFLATED:vv}=nu,tu=258,dl=262,Wh=42,ru=113,$p=666,iu=(s,o)=>(s.msg=eu[o],o),F5=s=>2*s-(s>4?9:0),jc=s=>{let o=s.length;for(;--o>=0;)s[o]=0},XZ=s=>{let o,i,c,u=s.w_size;o=s.hash_size,c=o;do i=s.head[--c],s.head[c]=i>=u?i-u:0;while(--o);o=u,c=o;do i=s.prev[--c],s.prev[c]=i>=u?i-u:0;while(--o)};let $c=(s,o,i)=>(o<<s.hash_shift^i)&s.hash_mask;const Ns=s=>{const o=s.state;let i=o.pending;i>s.avail_out&&(i=s.avail_out),i!==0&&(s.output.set(o.pending_buf.subarray(o.pending_out,o.pending_out+i),s.next_out),s.next_out+=i,o.pending_out+=i,s.total_out+=i,s.avail_out-=i,o.pending-=i,o.pending===0&&(o.pending_out=0))},As=(s,o)=>{BZ(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,o),s.block_start=s.strstart,Ns(s.strm)},Cr=(s,o)=>{s.pending_buf[s.pending++]=o},Wp=(s,o)=>{s.pending_buf[s.pending++]=o>>>8&255,s.pending_buf[s.pending++]=255&o},XE=(s,o,i,c)=>{let u=s.avail_in;return u>c&&(u=c),u===0?0:(s.avail_in-=u,o.set(s.input.subarray(s.next_in,s.next_in+u),i),s.state.wrap===1?s.adler=jp(s.adler,o,u,i):s.state.wrap===2&&(s.adler=Xi(s.adler,o,u,i)),s.next_in+=u,s.total_in+=u,u)},H5=(s,o)=>{let i,c,u=s.max_chain_length,p=s.strstart,m=s.prev_length,v=s.nice_match;const b=s.strstart>s.w_size-dl?s.strstart-(s.w_size-dl):0,y=s.window,S=s.w_mask,O=s.prev,V=s.strstart+tu;let $=y[p+m-1],te=y[p+m];s.prev_length>=s.good_match&&(u>>=2),v>s.lookahead&&(v=s.lookahead);do if(i=o,y[i+m]===te&&y[i+m-1]===$&&y[i]===y[p]&&y[++i]===y[p+1]){p+=2,i++;do;while(y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&y[++p]===y[++i]&&p<V);if(c=tu-(V-p),p=V-tu,c>m){if(s.match_start=o,m=c,c>=v)break;$=y[p+m-1],te=y[p+m]}}while((o=O[o&S])>b&&--u!=0);return m<=s.lookahead?m:s.lookahead},Kh=s=>{const o=s.w_size;let i,c,u;do{if(c=s.window_size-s.lookahead-s.strstart,s.strstart>=o+(o-dl)&&(s.window.set(s.window.subarray(o,o+o-c),0),s.match_start-=o,s.strstart-=o,s.block_start-=o,s.insert>s.strstart&&(s.insert=s.strstart),XZ(s),c+=o),s.strm.avail_in===0)break;if(i=XE(s.strm,s.window,s.strstart+s.lookahead,c),s.lookahead+=i,s.lookahead+s.insert>=3)for(u=s.strstart-s.insert,s.ins_h=s.window[u],s.ins_h=$c(s,s.ins_h,s.window[u+1]);s.insert&&(s.ins_h=$c(s,s.ins_h,s.window[u+3-1]),s.prev[u&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=u,u++,s.insert--,!(s.lookahead+s.insert<3)););}while(s.lookahead<dl&&s.strm.avail_in!==0)},B5=(s,o)=>{let i,c,u,p=s.pending_buf_size-5>s.w_size?s.w_size:s.pending_buf_size-5,m=0,v=s.strm.avail_in;do{if(i=65535,u=s.bi_valid+42>>3,s.strm.avail_out<u||(u=s.strm.avail_out-u,c=s.strstart-s.block_start,i>c+s.strm.avail_in&&(i=c+s.strm.avail_in),i>u&&(i=u),i<p&&(i===0&&o!==eo||o===qc||i!==c+s.strm.avail_in)))break;m=o===eo&&i===c+s.strm.avail_in?1:0,QE(s,0,0,m),s.pending_buf[s.pending-4]=i,s.pending_buf[s.pending-3]=i>>8,s.pending_buf[s.pending-2]=~i,s.pending_buf[s.pending-1]=~i>>8,Ns(s.strm),c&&(c>i&&(c=i),s.strm.output.set(s.window.subarray(s.block_start,s.block_start+c),s.strm.next_out),s.strm.next_out+=c,s.strm.avail_out-=c,s.strm.total_out+=c,s.block_start+=c,i-=c),i&&(XE(s.strm,s.strm.output,s.strm.next_out,i),s.strm.next_out+=i,s.strm.avail_out-=i,s.strm.total_out+=i)}while(m===0);return v-=s.strm.avail_in,v&&(v>=s.w_size?(s.matches=2,s.window.set(s.strm.input.subarray(s.strm.next_in-s.w_size,s.strm.next_in),0),s.strstart=s.w_size,s.insert=s.strstart):(s.window_size-s.strstart<=v&&(s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,s.insert>s.strstart&&(s.insert=s.strstart)),s.window.set(s.strm.input.subarray(s.strm.next_in-v,s.strm.next_in),s.strstart),s.strstart+=v,s.insert+=v>s.w_size-s.insert?s.w_size-s.insert:v),s.block_start=s.strstart),s.high_water<s.strstart&&(s.high_water=s.strstart),m?4:o!==qc&&o!==eo&&s.strm.avail_in===0&&s.strstart===s.block_start?2:(u=s.window_size-s.strstart,s.strm.avail_in>u&&s.block_start>=s.w_size&&(s.block_start-=s.w_size,s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,u+=s.w_size,s.insert>s.strstart&&(s.insert=s.strstart)),u>s.strm.avail_in&&(u=s.strm.avail_in),u&&(XE(s.strm,s.window,s.strstart,u),s.strstart+=u,s.insert+=u>s.w_size-s.insert?s.w_size-s.insert:u),s.high_water<s.strstart&&(s.high_water=s.strstart),u=s.bi_valid+42>>3,u=s.pending_buf_size-u>65535?65535:s.pending_buf_size-u,p=u>s.w_size?s.w_size:u,c=s.strstart-s.block_start,(c>=p||(c||o===eo)&&o!==qc&&s.strm.avail_in===0&&c<=u)&&(i=c>u?u:c,m=o===eo&&s.strm.avail_in===0&&i===c?1:0,QE(s,s.block_start,i,m),s.block_start+=i,Ns(s.strm)),m?3:1)},ZE=(s,o)=>{let i,c;for(;;){if(s.lookahead<dl){if(Kh(s),s.lookahead<dl&&o===qc)return 1;if(s.lookahead===0)break}if(i=0,s.lookahead>=3&&(s.ins_h=$c(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),i!==0&&s.strstart-i<=s.w_size-dl&&(s.match_length=H5(s,i)),s.match_length>=3)if(c=Gc(s,s.strstart-s.match_start,s.match_length-3),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=3){s.match_length--;do s.strstart++,s.ins_h=$c(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!=0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=$c(s,s.ins_h,s.window[s.strstart+1]);else c=Gc(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(c&&(As(s,!1),s.strm.avail_out===0))return 1}return s.insert=s.strstart<2?s.strstart:2,o===eo?(As(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(As(s,!1),s.strm.avail_out===0)?1:2},Qh=(s,o)=>{let i,c,u;for(;;){if(s.lookahead<dl){if(Kh(s),s.lookahead<dl&&o===qc)return 1;if(s.lookahead===0)break}if(i=0,s.lookahead>=3&&(s.ins_h=$c(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=2,i!==0&&s.prev_length<s.max_lazy_match&&s.strstart-i<=s.w_size-dl&&(s.match_length=H5(s,i),s.match_length<=5&&(s.strategy===$Z||s.match_length===3&&s.strstart-s.match_start>4096)&&(s.match_length=2)),s.prev_length>=3&&s.match_length<=s.prev_length){u=s.strstart+s.lookahead-3,c=Gc(s,s.strstart-1-s.prev_match,s.prev_length-3),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=u&&(s.ins_h=$c(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!=0);if(s.match_available=0,s.match_length=2,s.strstart++,c&&(As(s,!1),s.strm.avail_out===0))return 1}else if(s.match_available){if(c=Gc(s,0,s.window[s.strstart-1]),c&&As(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return 1}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(c=Gc(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<2?s.strstart:2,o===eo?(As(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(As(s,!1),s.strm.avail_out===0)?1:2};function ul(s,o,i,c,u){this.good_length=s,this.max_lazy=o,this.nice_length=i,this.max_chain=c,this.func=u}const Kp=[new ul(0,0,0,0,B5),new ul(4,4,8,4,ZE),new ul(4,5,16,8,ZE),new ul(4,6,32,32,ZE),new ul(4,4,16,16,Qh),new ul(8,16,32,32,Qh),new ul(8,16,128,128,Qh),new ul(8,32,128,256,Qh),new ul(32,128,258,1024,Qh),new ul(32,258,258,4096,Qh)];function ZZ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),jc(this.dyn_ltree),jc(this.dyn_dtree),jc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),jc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),jc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Qp=s=>{if(!s)return 1;const o=s.state;return!o||o.strm!==s||o.status!==Wh&&o.status!==57&&o.status!==69&&o.status!==73&&o.status!==91&&o.status!==103&&o.status!==ru&&o.status!==$p?1:0},V5=s=>{if(Qp(s))return iu(s,cl);s.total_in=s.total_out=0,s.data_type=YZ;const o=s.state;return o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap===2?57:o.wrap?Wh:ru,s.adler=o.wrap===2?0:1,o.last_flush=-2,HZ(o),oa},z5=s=>{const o=V5(s);var i;return o===oa&&((i=s.state).window_size=2*i.w_size,jc(i.head),i.max_lazy_match=Kp[i.level].max_lazy,i.good_match=Kp[i.level].good_length,i.nice_match=Kp[i.level].nice_length,i.max_chain_length=Kp[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),o},G5=(s,o,i,c,u,p)=>{if(!s)return cl;let m=1;if(o===jZ&&(o=6),c<0?(m=0,c=-c):c>15&&(m=2,c-=16),u<1||u>9||i!==vv||c<8||c>15||o<0||o>9||p<0||p>KZ||c===8&&m!==1)return iu(s,cl);c===8&&(c=9);const v=new ZZ;return s.state=v,v.strm=s,v.status=Wh,v.wrap=m,v.gzhead=null,v.w_bits=c,v.w_size=1<<v.w_bits,v.w_mask=v.w_size-1,v.hash_bits=u+7,v.hash_size=1<<v.hash_bits,v.hash_mask=v.hash_size-1,v.hash_shift=~~((v.hash_bits+3-1)/3),v.window=new Uint8Array(2*v.w_size),v.head=new Uint16Array(v.hash_size),v.prev=new Uint16Array(v.w_size),v.lit_bufsize=1<<u+6,v.pending_buf_size=4*v.lit_bufsize,v.pending_buf=new Uint8Array(v.pending_buf_size),v.sym_buf=v.lit_bufsize,v.sym_end=3*(v.lit_bufsize-1),v.level=o,v.strategy=p,v.method=i,z5(s)};var Yp={deflateInit:(s,o)=>G5(s,o,vv,15,8,QZ),deflateInit2:G5,deflateReset:z5,deflateResetKeep:V5,deflateSetHeader:(s,o)=>Qp(s)||s.state.wrap!==2?cl:(s.state.gzhead=o,oa),deflate:(s,o)=>{if(Qp(s)||o>U5||o<0)return s?iu(s,cl):cl;const i=s.state;if(!s.output||s.avail_in!==0&&!s.input||i.status===$p&&o!==eo)return iu(s,s.avail_out===0?YE:cl);const c=i.last_flush;if(i.last_flush=o,i.pending!==0){if(Ns(s),s.avail_out===0)return i.last_flush=-1,oa}else if(s.avail_in===0&&F5(o)<=F5(c)&&o!==eo)return iu(s,YE);if(i.status===$p&&s.avail_in!==0)return iu(s,YE);if(i.status===Wh&&i.wrap===0&&(i.status=ru),i.status===Wh){let u=vv+(i.w_bits-8<<4)<<8,p=-1;if(p=i.strategy>=mv||i.level<2?0:i.level<6?1:i.level===6?2:3,u|=p<<6,i.strstart!==0&&(u|=32),u+=31-u%31,Wp(i,u),i.strstart!==0&&(Wp(i,s.adler>>>16),Wp(i,65535&s.adler)),s.adler=1,i.status=ru,Ns(s),i.pending!==0)return i.last_flush=-1,oa}if(i.status===57){if(s.adler=0,Cr(i,31),Cr(i,139),Cr(i,8),i.gzhead)Cr(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Cr(i,255&i.gzhead.time),Cr(i,i.gzhead.time>>8&255),Cr(i,i.gzhead.time>>16&255),Cr(i,i.gzhead.time>>24&255),Cr(i,i.level===9?2:i.strategy>=mv||i.level<2?4:0),Cr(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Cr(i,255&i.gzhead.extra.length),Cr(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(s.adler=Xi(s.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(Cr(i,0),Cr(i,0),Cr(i,0),Cr(i,0),Cr(i,0),Cr(i,i.level===9?2:i.strategy>=mv||i.level<2?4:0),Cr(i,3),i.status=ru,Ns(s),i.pending!==0)return i.last_flush=-1,oa}if(i.status===69){if(i.gzhead.extra){let u=i.pending,p=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+p>i.pending_buf_size;){let v=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+v),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>u&&(s.adler=Xi(s.adler,i.pending_buf,i.pending-u,u)),i.gzindex+=v,Ns(s),i.pending!==0)return i.last_flush=-1,oa;u=0,p-=v}let m=new Uint8Array(i.gzhead.extra);i.pending_buf.set(m.subarray(i.gzindex,i.gzindex+p),i.pending),i.pending+=p,i.gzhead.hcrc&&i.pending>u&&(s.adler=Xi(s.adler,i.pending_buf,i.pending-u,u)),i.gzindex=0}i.status=73}if(i.status===73){if(i.gzhead.name){let u,p=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>p&&(s.adler=Xi(s.adler,i.pending_buf,i.pending-p,p)),Ns(s),i.pending!==0)return i.last_flush=-1,oa;p=0}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Cr(i,u)}while(u!==0);i.gzhead.hcrc&&i.pending>p&&(s.adler=Xi(s.adler,i.pending_buf,i.pending-p,p)),i.gzindex=0}i.status=91}if(i.status===91){if(i.gzhead.comment){let u,p=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>p&&(s.adler=Xi(s.adler,i.pending_buf,i.pending-p,p)),Ns(s),i.pending!==0)return i.last_flush=-1,oa;p=0}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Cr(i,u)}while(u!==0);i.gzhead.hcrc&&i.pending>p&&(s.adler=Xi(s.adler,i.pending_buf,i.pending-p,p))}i.status=103}if(i.status===103){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Ns(s),i.pending!==0))return i.last_flush=-1,oa;Cr(i,255&s.adler),Cr(i,s.adler>>8&255),s.adler=0}if(i.status=ru,Ns(s),i.pending!==0)return i.last_flush=-1,oa}if(s.avail_in!==0||i.lookahead!==0||o!==qc&&i.status!==$p){let u=i.level===0?B5(i,o):i.strategy===mv?((p,m)=>{let v;for(;;){if(p.lookahead===0&&(Kh(p),p.lookahead===0)){if(m===qc)return 1;break}if(p.match_length=0,v=Gc(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++,v&&(As(p,!1),p.strm.avail_out===0))return 1}return p.insert=0,m===eo?(As(p,!0),p.strm.avail_out===0?3:4):p.sym_next&&(As(p,!1),p.strm.avail_out===0)?1:2})(i,o):i.strategy===WZ?((p,m)=>{let v,b,y,S;const O=p.window;for(;;){if(p.lookahead<=tu){if(Kh(p),p.lookahead<=tu&&m===qc)return 1;if(p.lookahead===0)break}if(p.match_length=0,p.lookahead>=3&&p.strstart>0&&(y=p.strstart-1,b=O[y],b===O[++y]&&b===O[++y]&&b===O[++y])){S=p.strstart+tu;do;while(b===O[++y]&&b===O[++y]&&b===O[++y]&&b===O[++y]&&b===O[++y]&&b===O[++y]&&b===O[++y]&&b===O[++y]&&y<S);p.match_length=tu-(S-y),p.match_length>p.lookahead&&(p.match_length=p.lookahead)}if(p.match_length>=3?(v=Gc(p,1,p.match_length-3),p.lookahead-=p.match_length,p.strstart+=p.match_length,p.match_length=0):(v=Gc(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++),v&&(As(p,!1),p.strm.avail_out===0))return 1}return p.insert=0,m===eo?(As(p,!0),p.strm.avail_out===0?3:4):p.sym_next&&(As(p,!1),p.strm.avail_out===0)?1:2})(i,o):Kp[i.level].func(i,o);if(u!==3&&u!==4||(i.status=$p),u===1||u===3)return s.avail_out===0&&(i.last_flush=-1),oa;if(u===2&&(o===zZ?VZ(i):o!==U5&&(QE(i,0,0,!1),o===GZ&&(jc(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Ns(s),s.avail_out===0))return i.last_flush=-1,oa}return o!==eo?oa:i.wrap<=0?P5:(i.wrap===2?(Cr(i,255&s.adler),Cr(i,s.adler>>8&255),Cr(i,s.adler>>16&255),Cr(i,s.adler>>24&255),Cr(i,255&s.total_in),Cr(i,s.total_in>>8&255),Cr(i,s.total_in>>16&255),Cr(i,s.total_in>>24&255)):(Wp(i,s.adler>>>16),Wp(i,65535&s.adler)),Ns(s),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?oa:P5)},deflateEnd:s=>{if(Qp(s))return cl;const o=s.state.status;return s.state=null,o===ru?iu(s,qZ):oa},deflateSetDictionary:(s,o)=>{let i=o.length;if(Qp(s))return cl;const c=s.state,u=c.wrap;if(u===2||u===1&&c.status!==Wh||c.lookahead)return cl;if(u===1&&(s.adler=jp(s.adler,o,i,0)),c.wrap=0,i>=c.w_size){u===0&&(jc(c.head),c.strstart=0,c.block_start=0,c.insert=0);let b=new Uint8Array(c.w_size);b.set(o.subarray(i-c.w_size,i),0),o=b,i=c.w_size}const p=s.avail_in,m=s.next_in,v=s.input;for(s.avail_in=i,s.next_in=0,s.input=o,Kh(c);c.lookahead>=3;){let b=c.strstart,y=c.lookahead-2;do c.ins_h=$c(c,c.ins_h,c.window[b+3-1]),c.prev[b&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=b,b++;while(--y);c.strstart=b,c.lookahead=2,Kh(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=2,c.match_available=0,s.next_in=m,s.input=v,s.avail_in=p,c.wrap=u,oa},deflateInfo:"pako deflate (from Nodeca project)"};const JZ=(s,o)=>Object.prototype.hasOwnProperty.call(s,o);var gv={assign:function(s){const o=Array.prototype.slice.call(arguments,1);for(;o.length;){const i=o.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const c in i)JZ(i,c)&&(s[c]=i[c])}}return s},flattenChunks:s=>{let o=0;for(let c=0,u=s.length;c<u;c++)o+=s[c].length;const i=new Uint8Array(o);for(let c=0,u=0,p=s.length;c<p;c++){let m=s[c];i.set(m,u),u+=m.length}return i}};let q5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{q5=!1}const Xp=new Uint8Array(256);for(let s=0;s<256;s++)Xp[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;Xp[254]=Xp[254]=1;var Zp={string2buf:s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let o,i,c,u,p,m=s.length,v=0;for(u=0;u<m;u++)i=s.charCodeAt(u),(64512&i)==55296&&u+1<m&&(c=s.charCodeAt(u+1),(64512&c)==56320&&(i=65536+(i-55296<<10)+(c-56320),u++)),v+=i<128?1:i<2048?2:i<65536?3:4;for(o=new Uint8Array(v),p=0,u=0;p<v;u++)i=s.charCodeAt(u),(64512&i)==55296&&u+1<m&&(c=s.charCodeAt(u+1),(64512&c)==56320&&(i=65536+(i-55296<<10)+(c-56320),u++)),i<128?o[p++]=i:i<2048?(o[p++]=192|i>>>6,o[p++]=128|63&i):i<65536?(o[p++]=224|i>>>12,o[p++]=128|i>>>6&63,o[p++]=128|63&i):(o[p++]=240|i>>>18,o[p++]=128|i>>>12&63,o[p++]=128|i>>>6&63,o[p++]=128|63&i);return o},buf2string:(s,o)=>{const i=o||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,o));let c,u;const p=new Array(2*i);for(u=0,c=0;c<i;){let m=s[c++];if(m<128){p[u++]=m;continue}let v=Xp[m];if(v>4)p[u++]=65533,c+=v-1;else{for(m&=v===2?31:v===3?15:7;v>1&&c<i;)m=m<<6|63&s[c++],v--;v>1?p[u++]=65533:m<65536?p[u++]=m:(m-=65536,p[u++]=55296|m>>10&1023,p[u++]=56320|1023&m)}}return((m,v)=>{if(v<65534&&m.subarray&&q5)return String.fromCharCode.apply(null,m.length===v?m:m.subarray(0,v));let b="";for(let y=0;y<v;y++)b+=String.fromCharCode(m[y]);return b})(p,u)},utf8border:(s,o)=>{(o=o||s.length)>s.length&&(o=s.length);let i=o-1;for(;i>=0&&(192&s[i])==128;)i--;return i<0||i===0?o:i+Xp[s[i]]>o?i:o}},j5=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const $5=Object.prototype.toString,{Z_NO_FLUSH:eJ,Z_SYNC_FLUSH:nJ,Z_FULL_FLUSH:tJ,Z_FINISH:rJ,Z_OK:bv,Z_STREAM_END:iJ,Z_DEFAULT_COMPRESSION:aJ,Z_DEFAULT_STRATEGY:sJ,Z_DEFLATED:oJ}=nu;function Jp(s){this.options=gv.assign({level:aJ,method:oJ,chunkSize:16384,windowBits:15,memLevel:8,strategy:sJ},s||{});let o=this.options;o.raw&&o.windowBits>0?o.windowBits=-o.windowBits:o.gzip&&o.windowBits>0&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j5,this.strm.avail_out=0;let i=Yp.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(i!==bv)throw new Error(eu[i]);if(o.header&&Yp.deflateSetHeader(this.strm,o.header),o.dictionary){let c;if(c=typeof o.dictionary=="string"?Zp.string2buf(o.dictionary):$5.call(o.dictionary)==="[object ArrayBuffer]"?new Uint8Array(o.dictionary):o.dictionary,i=Yp.deflateSetDictionary(this.strm,c),i!==bv)throw new Error(eu[i]);this._dict_set=!0}}function JE(s,o){const i=new Jp(o);if(i.push(s,!0),i.err)throw i.msg||eu[i.err];return i.result}Jp.prototype.push=function(s,o){const i=this.strm,c=this.options.chunkSize;let u,p;if(this.ended)return!1;for(p=o===~~o?o:o===!0?rJ:eJ,typeof s=="string"?i.input=Zp.string2buf(s):$5.call(s)==="[object ArrayBuffer]"?i.input=new Uint8Array(s):i.input=s,i.next_in=0,i.avail_in=i.input.length;;)if(i.avail_out===0&&(i.output=new Uint8Array(c),i.next_out=0,i.avail_out=c),(p===nJ||p===tJ)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(u=Yp.deflate(i,p),u===iJ)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),u=Yp.deflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===bv;if(i.avail_out!==0){if(p>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(i.avail_in===0)break}else this.onData(i.output)}return!0},Jp.prototype.onData=function(s){this.chunks.push(s)},Jp.prototype.onEnd=function(s){s===bv&&(this.result=gv.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};var lJ={Deflate:Jp,deflate:JE,deflateRaw:function(s,o){return(o=o||{}).raw=!0,JE(s,o)},gzip:function(s,o){return(o=o||{}).gzip=!0,JE(s,o)},constants:nu};const yv=16209;var cJ=function(s,o){let i,c,u,p,m,v,b,y,S,O,V,$,te,J,oe,xe,Ie,Ue,He,Ee,we,nn,Xe,We;const In=s.state;i=s.next_in,Xe=s.input,c=i+(s.avail_in-5),u=s.next_out,We=s.output,p=u-(o-s.avail_out),m=u+(s.avail_out-257),v=In.dmax,b=In.wsize,y=In.whave,S=In.wnext,O=In.window,V=In.hold,$=In.bits,te=In.lencode,J=In.distcode,oe=(1<<In.lenbits)-1,xe=(1<<In.distbits)-1;e:do{$<15&&(V+=Xe[i++]<<$,$+=8,V+=Xe[i++]<<$,$+=8),Ie=te[V&oe];n:for(;;){if(Ue=Ie>>>24,V>>>=Ue,$-=Ue,Ue=Ie>>>16&255,Ue===0)We[u++]=65535&Ie;else{if(!(16&Ue)){if(!(64&Ue)){Ie=te[(65535&Ie)+(V&(1<<Ue)-1)];continue n}if(32&Ue){In.mode=16191;break e}s.msg="invalid literal/length code",In.mode=yv;break e}He=65535&Ie,Ue&=15,Ue&&($<Ue&&(V+=Xe[i++]<<$,$+=8),He+=V&(1<<Ue)-1,V>>>=Ue,$-=Ue),$<15&&(V+=Xe[i++]<<$,$+=8,V+=Xe[i++]<<$,$+=8),Ie=J[V&xe];t:for(;;){if(Ue=Ie>>>24,V>>>=Ue,$-=Ue,Ue=Ie>>>16&255,!(16&Ue)){if(!(64&Ue)){Ie=J[(65535&Ie)+(V&(1<<Ue)-1)];continue t}s.msg="invalid distance code",In.mode=yv;break e}if(Ee=65535&Ie,Ue&=15,$<Ue&&(V+=Xe[i++]<<$,$+=8,$<Ue&&(V+=Xe[i++]<<$,$+=8)),Ee+=V&(1<<Ue)-1,Ee>v){s.msg="invalid distance too far back",In.mode=yv;break e}if(V>>>=Ue,$-=Ue,Ue=u-p,Ee>Ue){if(Ue=Ee-Ue,Ue>y&&In.sane){s.msg="invalid distance too far back",In.mode=yv;break e}if(we=0,nn=O,S===0){if(we+=b-Ue,Ue<He){He-=Ue;do We[u++]=O[we++];while(--Ue);we=u-Ee,nn=We}}else if(S<Ue){if(we+=b+S-Ue,Ue-=S,Ue<He){He-=Ue;do We[u++]=O[we++];while(--Ue);if(we=0,S<He){Ue=S,He-=Ue;do We[u++]=O[we++];while(--Ue);we=u-Ee,nn=We}}}else if(we+=S-Ue,Ue<He){He-=Ue;do We[u++]=O[we++];while(--Ue);we=u-Ee,nn=We}for(;He>2;)We[u++]=nn[we++],We[u++]=nn[we++],We[u++]=nn[we++],He-=3;He&&(We[u++]=nn[we++],He>1&&(We[u++]=nn[we++]))}else{we=u-Ee;do We[u++]=We[we++],We[u++]=We[we++],We[u++]=We[we++],He-=3;while(He>2);He&&(We[u++]=We[we++],He>1&&(We[u++]=We[we++]))}break}}break}}while(i<c&&u<m);He=$>>3,i-=He,$-=He<<3,V&=(1<<$)-1,s.next_in=i,s.next_out=u,s.avail_in=i<c?c-i+5:5-(i-c),s.avail_out=u<m?m-u+257:257-(u-m),In.hold=V,In.bits=$};const dJ=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uJ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pJ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ef=(s,o,i,c,u,p,m,v)=>{const b=v.bits;let y,S,O,V,$,te,J=0,oe=0,xe=0,Ie=0,Ue=0,He=0,Ee=0,we=0,nn=0,Xe=0,We=null;const In=new Uint16Array(16),yt=new Uint16Array(16);let xn,wn,$n,xt=null;for(J=0;J<=15;J++)In[J]=0;for(oe=0;oe<c;oe++)In[o[i+oe]]++;for(Ue=b,Ie=15;Ie>=1&&In[Ie]===0;Ie--);if(Ue>Ie&&(Ue=Ie),Ie===0)return u[p++]=20971520,u[p++]=20971520,v.bits=1,0;for(xe=1;xe<Ie&&In[xe]===0;xe++);for(Ue<xe&&(Ue=xe),we=1,J=1;J<=15;J++)if(we<<=1,we-=In[J],we<0)return-1;if(we>0&&(s===0||Ie!==1))return-1;for(yt[1]=0,J=1;J<15;J++)yt[J+1]=yt[J]+In[J];for(oe=0;oe<c;oe++)o[i+oe]!==0&&(m[yt[o[i+oe]]++]=oe);if(s===0?(We=xt=m,te=20):s===1?(We=dJ,xt=uJ,te=257):(We=hJ,xt=pJ,te=0),Xe=0,oe=0,J=xe,$=p,He=Ue,Ee=0,O=-1,nn=1<<Ue,V=nn-1,s===1&&nn>852||s===2&&nn>592)return 1;for(;;){xn=J-Ee,m[oe]+1<te?(wn=0,$n=m[oe]):m[oe]>=te?(wn=xt[m[oe]-te],$n=We[m[oe]-te]):(wn=96,$n=0),y=1<<J-Ee,S=1<<He,xe=S;do S-=y,u[$+(Xe>>Ee)+S]=xn<<24|wn<<16|$n|0;while(S!==0);for(y=1<<J-1;Xe&y;)y>>=1;if(y!==0?(Xe&=y-1,Xe+=y):Xe=0,oe++,--In[J]==0){if(J===Ie)break;J=o[i+m[oe]]}if(J>Ue&&(Xe&V)!==O){for(Ee===0&&(Ee=Ue),$+=xe,He=J-Ee,we=1<<He;He+Ee<Ie&&(we-=In[He+Ee],!(we<=0));)He++,we<<=1;if(nn+=1<<He,s===1&&nn>852||s===2&&nn>592)return 1;O=Xe&V,u[O]=Ue<<24|He<<16|$-p|0}}return Xe!==0&&(u[$+Xe]=J-Ee<<24|64<<16|0),v.bits=Ue,0};const{Z_FINISH:W5,Z_BLOCK:fJ,Z_TREES:Ev,Z_OK:au,Z_STREAM_END:_J,Z_NEED_DICT:mJ,Z_STREAM_ERROR:no,Z_DATA_ERROR:K5,Z_MEM_ERROR:Q5,Z_BUF_ERROR:vJ,Z_DEFLATED:Y5}=nu,wv=16180,xv=16190,$l=16191,e3=16192,n3=16194,Sv=16199,Tv=16200,t3=16206,li=16209,X5=s=>(s>>>24&255)+(s>>>8&65280)+((65280&s)<<8)+((255&s)<<24);function gJ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const su=s=>{if(!s)return 1;const o=s.state;return!o||o.strm!==s||o.mode<wv||o.mode>16211?1:0},Z5=s=>{if(su(s))return no;const o=s.state;return s.total_in=s.total_out=o.total=0,s.msg="",o.wrap&&(s.adler=1&o.wrap),o.mode=wv,o.last=0,o.havedict=0,o.flags=-1,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new Int32Array(852),o.distcode=o.distdyn=new Int32Array(592),o.sane=1,o.back=-1,au},J5=s=>{if(su(s))return no;const o=s.state;return o.wsize=0,o.whave=0,o.wnext=0,Z5(s)},eA=(s,o)=>{let i;if(su(s))return no;const c=s.state;return o<0?(i=0,o=-o):(i=5+(o>>4),o<48&&(o&=15)),o&&(o<8||o>15)?no:(c.window!==null&&c.wbits!==o&&(c.window=null),c.wrap=i,c.wbits=o,J5(s))},nA=(s,o)=>{if(!s)return no;const i=new gJ;s.state=i,i.strm=s,i.window=null,i.mode=wv;const c=eA(s,o);return c!==au&&(s.state=null),c};let r3,i3,tA=!0;const bJ=s=>{if(tA){r3=new Int32Array(512),i3=new Int32Array(32);let o=0;for(;o<144;)s.lens[o++]=8;for(;o<256;)s.lens[o++]=9;for(;o<280;)s.lens[o++]=7;for(;o<288;)s.lens[o++]=8;for(ef(1,s.lens,0,288,r3,0,s.work,{bits:9}),o=0;o<32;)s.lens[o++]=5;ef(2,s.lens,0,32,i3,0,s.work,{bits:5}),tA=!1}s.lencode=r3,s.lenbits=9,s.distcode=i3,s.distbits=5},rA=(s,o,i,c)=>{let u;const p=s.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new Uint8Array(p.wsize)),c>=p.wsize?(p.window.set(o.subarray(i-p.wsize,i),0),p.wnext=0,p.whave=p.wsize):(u=p.wsize-p.wnext,u>c&&(u=c),p.window.set(o.subarray(i-c,i-c+u),p.wnext),(c-=u)?(p.window.set(o.subarray(i-c,i),0),p.wnext=c,p.whave=p.wsize):(p.wnext+=u,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=u))),0};var Wl={inflateReset:J5,inflateReset2:eA,inflateResetKeep:Z5,inflateInit:s=>nA(s,15),inflateInit2:nA,inflate:(s,o)=>{let i,c,u,p,m,v,b,y,S,O,V,$,te,J,oe,xe,Ie,Ue,He,Ee,we,nn,Xe=0;const We=new Uint8Array(4);let In,yt;const xn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(su(s)||!s.output||!s.input&&s.avail_in!==0)return no;i=s.state,i.mode===$l&&(i.mode=e3),m=s.next_out,u=s.output,b=s.avail_out,p=s.next_in,c=s.input,v=s.avail_in,y=i.hold,S=i.bits,O=v,V=b,nn=au;e:for(;;)switch(i.mode){case wv:if(i.wrap===0){i.mode=e3;break}for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(2&i.wrap&&y===35615){i.wbits===0&&(i.wbits=15),i.check=0,We[0]=255&y,We[1]=y>>>8&255,i.check=Xi(i.check,We,2,0),y=0,S=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&y)<<8)+(y>>8))%31){s.msg="incorrect header check",i.mode=li;break}if((15&y)!==Y5){s.msg="unknown compression method",i.mode=li;break}if(y>>>=4,S-=4,we=8+(15&y),i.wbits===0&&(i.wbits=we),we>15||we>i.wbits){s.msg="invalid window size",i.mode=li;break}i.dmax=1<<i.wbits,i.flags=0,s.adler=i.check=1,i.mode=512&y?16189:$l,y=0,S=0;break;case 16181:for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(i.flags=y,(255&i.flags)!==Y5){s.msg="unknown compression method",i.mode=li;break}if(57344&i.flags){s.msg="unknown header flags set",i.mode=li;break}i.head&&(i.head.text=y>>8&1),512&i.flags&&4&i.wrap&&(We[0]=255&y,We[1]=y>>>8&255,i.check=Xi(i.check,We,2,0)),y=0,S=0,i.mode=16182;case 16182:for(;S<32;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.head&&(i.head.time=y),512&i.flags&&4&i.wrap&&(We[0]=255&y,We[1]=y>>>8&255,We[2]=y>>>16&255,We[3]=y>>>24&255,i.check=Xi(i.check,We,4,0)),y=0,S=0,i.mode=16183;case 16183:for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.head&&(i.head.xflags=255&y,i.head.os=y>>8),512&i.flags&&4&i.wrap&&(We[0]=255&y,We[1]=y>>>8&255,i.check=Xi(i.check,We,2,0)),y=0,S=0,i.mode=16184;case 16184:if(1024&i.flags){for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.length=y,i.head&&(i.head.extra_len=y),512&i.flags&&4&i.wrap&&(We[0]=255&y,We[1]=y>>>8&255,i.check=Xi(i.check,We,2,0)),y=0,S=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&($=i.length,$>v&&($=v),$&&(i.head&&(we=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(c.subarray(p,p+$),we)),512&i.flags&&4&i.wrap&&(i.check=Xi(i.check,c,$,p)),v-=$,p+=$,i.length-=$),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(v===0)break e;$=0;do we=c[p+$++],i.head&&we&&i.length<65536&&(i.head.name+=String.fromCharCode(we));while(we&&$<v);if(512&i.flags&&4&i.wrap&&(i.check=Xi(i.check,c,$,p)),v-=$,p+=$,we)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(v===0)break e;$=0;do we=c[p+$++],i.head&&we&&i.length<65536&&(i.head.comment+=String.fromCharCode(we));while(we&&$<v);if(512&i.flags&&4&i.wrap&&(i.check=Xi(i.check,c,$,p)),v-=$,p+=$,we)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;S<16;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(4&i.wrap&&y!==(65535&i.check)){s.msg="header crc mismatch",i.mode=li;break}y=0,S=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),s.adler=i.check=0,i.mode=$l;break;case 16189:for(;S<32;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}s.adler=i.check=X5(y),y=0,S=0,i.mode=xv;case xv:if(i.havedict===0)return s.next_out=m,s.avail_out=b,s.next_in=p,s.avail_in=v,i.hold=y,i.bits=S,mJ;s.adler=i.check=1,i.mode=$l;case $l:if(o===fJ||o===Ev)break e;case e3:if(i.last){y>>>=7&S,S-=7&S,i.mode=t3;break}for(;S<3;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}switch(i.last=1&y,y>>>=1,S-=1,3&y){case 0:i.mode=16193;break;case 1:if(bJ(i),i.mode=Sv,o===Ev){y>>>=2,S-=2;break e}break;case 2:i.mode=16196;break;case 3:s.msg="invalid block type",i.mode=li}y>>>=2,S-=2;break;case 16193:for(y>>>=7&S,S-=7&S;S<32;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if((65535&y)!=(y>>>16^65535)){s.msg="invalid stored block lengths",i.mode=li;break}if(i.length=65535&y,y=0,S=0,i.mode=n3,o===Ev)break e;case n3:i.mode=16195;case 16195:if($=i.length,$){if($>v&&($=v),$>b&&($=b),$===0)break e;u.set(c.subarray(p,p+$),m),v-=$,p+=$,b-=$,m+=$,i.length-=$;break}i.mode=$l;break;case 16196:for(;S<14;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(i.nlen=257+(31&y),y>>>=5,S-=5,i.ndist=1+(31&y),y>>>=5,S-=5,i.ncode=4+(15&y),y>>>=4,S-=4,i.nlen>286||i.ndist>30){s.msg="too many length or distance symbols",i.mode=li;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;S<3;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.lens[xn[i.have++]]=7&y,y>>>=3,S-=3}for(;i.have<19;)i.lens[xn[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,In={bits:i.lenbits},nn=ef(0,i.lens,0,19,i.lencode,0,i.work,In),i.lenbits=In.bits,nn){s.msg="invalid code lengths set",i.mode=li;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;Xe=i.lencode[y&(1<<i.lenbits)-1],oe=Xe>>>24,xe=Xe>>>16&255,Ie=65535&Xe,!(oe<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(Ie<16)y>>>=oe,S-=oe,i.lens[i.have++]=Ie;else{if(Ie===16){for(yt=oe+2;S<yt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(y>>>=oe,S-=oe,i.have===0){s.msg="invalid bit length repeat",i.mode=li;break}we=i.lens[i.have-1],$=3+(3&y),y>>>=2,S-=2}else if(Ie===17){for(yt=oe+3;S<yt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}y>>>=oe,S-=oe,we=0,$=3+(7&y),y>>>=3,S-=3}else{for(yt=oe+7;S<yt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}y>>>=oe,S-=oe,we=0,$=11+(127&y),y>>>=7,S-=7}if(i.have+$>i.nlen+i.ndist){s.msg="invalid bit length repeat",i.mode=li;break}for(;$--;)i.lens[i.have++]=we}}if(i.mode===li)break;if(i.lens[256]===0){s.msg="invalid code -- missing end-of-block",i.mode=li;break}if(i.lenbits=9,In={bits:i.lenbits},nn=ef(1,i.lens,0,i.nlen,i.lencode,0,i.work,In),i.lenbits=In.bits,nn){s.msg="invalid literal/lengths set",i.mode=li;break}if(i.distbits=6,i.distcode=i.distdyn,In={bits:i.distbits},nn=ef(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,In),i.distbits=In.bits,nn){s.msg="invalid distances set",i.mode=li;break}if(i.mode=Sv,o===Ev)break e;case Sv:i.mode=Tv;case Tv:if(v>=6&&b>=258){s.next_out=m,s.avail_out=b,s.next_in=p,s.avail_in=v,i.hold=y,i.bits=S,cJ(s,V),m=s.next_out,u=s.output,b=s.avail_out,p=s.next_in,c=s.input,v=s.avail_in,y=i.hold,S=i.bits,i.mode===$l&&(i.back=-1);break}for(i.back=0;Xe=i.lencode[y&(1<<i.lenbits)-1],oe=Xe>>>24,xe=Xe>>>16&255,Ie=65535&Xe,!(oe<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(xe&&!(240&xe)){for(Ue=oe,He=xe,Ee=Ie;Xe=i.lencode[Ee+((y&(1<<Ue+He)-1)>>Ue)],oe=Xe>>>24,xe=Xe>>>16&255,Ie=65535&Xe,!(Ue+oe<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}y>>>=Ue,S-=Ue,i.back+=Ue}if(y>>>=oe,S-=oe,i.back+=oe,i.length=Ie,xe===0){i.mode=16205;break}if(32&xe){i.back=-1,i.mode=$l;break}if(64&xe){s.msg="invalid literal/length code",i.mode=li;break}i.extra=15&xe,i.mode=16201;case 16201:if(i.extra){for(yt=i.extra;S<yt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.length+=y&(1<<i.extra)-1,y>>>=i.extra,S-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;Xe=i.distcode[y&(1<<i.distbits)-1],oe=Xe>>>24,xe=Xe>>>16&255,Ie=65535&Xe,!(oe<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(!(240&xe)){for(Ue=oe,He=xe,Ee=Ie;Xe=i.distcode[Ee+((y&(1<<Ue+He)-1)>>Ue)],oe=Xe>>>24,xe=Xe>>>16&255,Ie=65535&Xe,!(Ue+oe<=S);){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}y>>>=Ue,S-=Ue,i.back+=Ue}if(y>>>=oe,S-=oe,i.back+=oe,64&xe){s.msg="invalid distance code",i.mode=li;break}i.offset=Ie,i.extra=15&xe,i.mode=16203;case 16203:if(i.extra){for(yt=i.extra;S<yt;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}i.offset+=y&(1<<i.extra)-1,y>>>=i.extra,S-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){s.msg="invalid distance too far back",i.mode=li;break}i.mode=16204;case 16204:if(b===0)break e;if($=V-b,i.offset>$){if($=i.offset-$,$>i.whave&&i.sane){s.msg="invalid distance too far back",i.mode=li;break}$>i.wnext?($-=i.wnext,te=i.wsize-$):te=i.wnext-$,$>i.length&&($=i.length),J=i.window}else J=u,te=m-i.offset,$=i.length;$>b&&($=b),b-=$,i.length-=$;do u[m++]=J[te++];while(--$);i.length===0&&(i.mode=Tv);break;case 16205:if(b===0)break e;u[m++]=i.length,b--,i.mode=Tv;break;case t3:if(i.wrap){for(;S<32;){if(v===0)break e;v--,y|=c[p++]<<S,S+=8}if(V-=b,s.total_out+=V,i.total+=V,4&i.wrap&&V&&(s.adler=i.check=i.flags?Xi(i.check,u,V,m-V):jp(i.check,u,V,m-V)),V=b,4&i.wrap&&(i.flags?y:X5(y))!==i.check){s.msg="incorrect data check",i.mode=li;break}y=0,S=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;S<32;){if(v===0)break e;v--,y+=c[p++]<<S,S+=8}if(4&i.wrap&&y!==(4294967295&i.total)){s.msg="incorrect length check",i.mode=li;break}y=0,S=0}i.mode=16208;case 16208:nn=_J;break e;case li:nn=K5;break e;case 16210:return Q5;default:return no}return s.next_out=m,s.avail_out=b,s.next_in=p,s.avail_in=v,i.hold=y,i.bits=S,(i.wsize||V!==s.avail_out&&i.mode<li&&(i.mode<t3||o!==W5))&&rA(s,s.output,s.next_out,V-s.avail_out),O-=s.avail_in,V-=s.avail_out,s.total_in+=O,s.total_out+=V,i.total+=V,4&i.wrap&&V&&(s.adler=i.check=i.flags?Xi(i.check,u,V,s.next_out-V):jp(i.check,u,V,s.next_out-V)),s.data_type=i.bits+(i.last?64:0)+(i.mode===$l?128:0)+(i.mode===Sv||i.mode===n3?256:0),(O===0&&V===0||o===W5)&&nn===au&&(nn=vJ),nn},inflateEnd:s=>{if(su(s))return no;let o=s.state;return o.window&&(o.window=null),s.state=null,au},inflateGetHeader:(s,o)=>{if(su(s))return no;const i=s.state;return 2&i.wrap?(i.head=o,o.done=!1,au):no},inflateSetDictionary:(s,o)=>{const i=o.length;let c,u,p;return su(s)?no:(c=s.state,c.wrap!==0&&c.mode!==xv?no:c.mode===xv&&(u=1,u=jp(u,o,i,0),u!==c.check)?K5:(p=rA(s,o,i,i),p?(c.mode=16210,Q5):(c.havedict=1,au)))},inflateInfo:"pako inflate (from Nodeca project)"},yJ=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const iA=Object.prototype.toString,{Z_NO_FLUSH:EJ,Z_FINISH:wJ,Z_OK:nf,Z_STREAM_END:a3,Z_NEED_DICT:s3,Z_STREAM_ERROR:xJ,Z_DATA_ERROR:aA,Z_MEM_ERROR:SJ}=nu;function tf(s){this.options=gv.assign({chunkSize:65536,windowBits:15,to:""},s||{});const o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),!(o.windowBits>=0&&o.windowBits<16)||s&&s.windowBits||(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&!(15&o.windowBits)&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j5,this.strm.avail_out=0;let i=Wl.inflateInit2(this.strm,o.windowBits);if(i!==nf)throw new Error(eu[i]);if(this.header=new yJ,Wl.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=Zp.string2buf(o.dictionary):iA.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(i=Wl.inflateSetDictionary(this.strm,o.dictionary),i!==nf)))throw new Error(eu[i])}function o3(s,o){const i=new tf(o);if(i.push(s),i.err)throw i.msg||eu[i.err];return i.result}tf.prototype.push=function(s,o){const i=this.strm,c=this.options.chunkSize,u=this.options.dictionary;let p,m,v;if(this.ended)return!1;for(m=o===~~o?o:o===!0?wJ:EJ,iA.call(s)==="[object ArrayBuffer]"?i.input=new Uint8Array(s):i.input=s,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(c),i.next_out=0,i.avail_out=c),p=Wl.inflate(i,m),p===s3&&u&&(p=Wl.inflateSetDictionary(i,u),p===nf?p=Wl.inflate(i,m):p===aA&&(p=s3));i.avail_in>0&&p===a3&&i.state.wrap>0&&s[i.next_in]!==0;)Wl.inflateReset(i),p=Wl.inflate(i,m);switch(p){case xJ:case aA:case s3:case SJ:return this.onEnd(p),this.ended=!0,!1}if(v=i.avail_out,i.next_out&&(i.avail_out===0||p===a3))if(this.options.to==="string"){let b=Zp.utf8border(i.output,i.next_out),y=i.next_out-b,S=Zp.buf2string(i.output,b);i.next_out=y,i.avail_out=c-y,y&&i.output.set(i.output.subarray(b,b+y),0),this.onData(S)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(p!==nf||v!==0){if(p===a3)return p=Wl.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,!0;if(i.avail_in===0)break}}return!0},tf.prototype.onData=function(s){this.chunks.push(s)},tf.prototype.onEnd=function(s){s===nf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gv.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};var TJ={Inflate:tf,inflate:o3,inflateRaw:function(s,o){return(o=o||{}).raw=!0,o3(s,o)},ungzip:o3,constants:nu};const{Deflate:CJ,deflate:kJ,deflateRaw:IJ,gzip:NJ}=lJ,{Inflate:AJ,inflate:OJ,inflateRaw:RJ,ungzip:MJ}=TJ;var hl,DJ={Deflate:CJ,deflate:kJ,deflateRaw:IJ,gzip:NJ,Inflate:AJ,inflate:OJ,inflateRaw:RJ,ungzip:MJ,constants:nu};(function(s){s.CONNECTING="CONNECTING",s.OPEN="OPEN",s.CLOSED="CLOSED"})(hl||(hl={}));var Er,LJ=function(s){function o(i,c){var u=c.sdkState,p=c.dispatcher,m=c.logger,v=s.call(this)||this;return v.lastActive=0,v._iid=i,v._sdkState=u,v._dispatcher=p,v._logger=m,v}return ve(o,s),Object.defineProperty(o.prototype,"isOpen",{get:function(){return this.connectionState===hl.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return hl.CONNECTING;case 1:return hl.OPEN}return hl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ws",{get:function(){var i;return(i=this._ws)!==null&&i!==void 0?i:null},enumerable:!1,configurable:!0}),o.prototype._handleMessage=function(i){var c=this;i.split(`
`).forEach(function(u){if(u){var p=Qr.createFromRawMessage(c._iid,u);if(c._logger.debug("receive websocket event",p),p.code==="LOGI")c.dispatch("message",p);else if(p.code==="PONG")c.dispatch("pong");else if(p.code==="EXPR"){if(p.payload){var m=new Hp(p.payload);m.expiresIn>=0&&c._dispatcher.dispatch(m)}}else p.code==="NOOP"||c.dispatch("message",p)}})},o.prototype.connect=function(i){var c=this;this._ws=new WebSocket(i),this._ws.onopen=function(){c._logger.debug("websocket open"),c.dispatch("open")},this._ws.onmessage=function(u){return Z(c,void 0,void 0,function(){var p,m,v=this;return X(this,function(b){return!((m=this._sdkState.websocket)===null||m===void 0)&&m.compression?u.data instanceof Blob?((p=new FileReader).readAsArrayBuffer(u.data),p.onloadend=function(){return Z(v,void 0,void 0,function(){var y;return X(this,function(S){switch(S.label){case 0:return[4,(O=p.result,Z(void 0,void 0,void 0,function(){var V;return X(this,function($){return V=DJ.ungzip(O),[2,String.fromCharCode.apply(null,V)]})}))];case 1:return y=S.sent(),this._handleMessage(y),[2]}var O})})}):typeof u.data=="string"&&this._handleMessage(u.data):this._handleMessage(u.data),[2]})})},this._ws.onerror=function(){c._logger.debug("websocket error"),c.dispatch("error",$e.networkError)},this._ws.onclose=function(){c._logger.debug("websocket close"),c.dispatch("close")},this.lastActive=Date.now()},o.prototype.disconnect=function(){var i=this;return new Promise(function(c){i._logger.debug("websocket disconnect"),i._ws&&i.connectionState!==hl.CLOSED?(i._ws.onopen=Ot,i._ws.onmessage=Ot,i._ws.onerror=Ot,i._ws.onclose=function(){i.dispatch("close"),c()},i._ws.close(),i._ws=void 0):c()})},o.prototype.send=function(i){if(!this._ws)throw $e.connectionClosed;i.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",i),this._ws.send(i.convertToMessage())},o.prototype.error=function(i){this._logger.debug("websocket error",i),this.dispatch("error",i)},o}(Gh),to=function(s){function o(i){var c,u=i.code,p=i.ackRequired,m=i.payload,v=m===void 0?{}:m,b=this;return(b=s.call(this)||this).code=u,b.payload=v,b.requestId=(c=b.payload.req_id)!==null&&c!==void 0?c:zh(),b.ackRequired=p,b.payload.req_id=b.requestId,b}return ve(o,s),o.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},o}(Ti),sA=function(s){function o(i){var c=i.all,u=i.feed,p=i.custom_types,m=i.ts,v=s.call(this)||this;return v.all=c,v.feed=u,v.customTypes=p,v.ts=m,v}return ve(o,s),o}(Ti),Wa=function(){var s=this;this.promise=new Promise(function(o,i){s.resolve=o,s.reject=i})},UJ=function(){function s(o,i){var c=i.auth,u=i.sdkState,p=i.dispatcher,m=i.logger,v=i.useFetchCompat,b=v!==void 0&&v,y=this;this._ackStateMap=new Map,this._sdkState=u,this._dispatcher=p,this._logger=m,this.apiClient=new LZ(o,{auth:c,sdkState:u,dispatcher:p,logger:m,useFetchCompat:b}),this.websocketClient=new LJ(o,{sdkState:u,dispatcher:p,logger:m}),this.websocketClient.on("message",function(S){if(S.payload.unread_cnt&&y._dispatcher.dispatch(new sA(S.payload.unread_cnt)),S.requestId){if(y._ackStateMap.has(S.requestId)){var O=y._ackStateMap.get(S.requestId);S.code!=="EROR"?O.resolve(S):O.reject(new $e({code:S.payload.code,message:S.payload.message}))}}else y._dispatcher.dispatch(S)}).on("close",function(){y._ackStateMap.forEach(function(S){S.reject($e.connectionClosed)}),y._ackStateMap.clear()})}return s.prototype._sendApiRequest=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this.apiClient.send(o)];case 1:return[2,i.sent()]}})})},s.prototype._sendWebsocketRequest=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p=this;return X(this,function(m){if(!this._sdkState.websocket)throw $e.connectionRequired;if(i=new Wa,o.ackRequired){u=function(v,b){p._ackStateMap.has(o.requestId)&&(p._ackStateMap.delete(o.requestId),c&&(clearTimeout(c),c=null),v?(p._logger.debug("fail websocket request",v),i.reject(v)):(p._logger.debug("receive websocket ack",o.requestId),i.resolve(b)))};try{c=setTimeout(function(){return u($e.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(o.requestId,{resolve:function(v){return u(void 0,v)},reject:function(v){return u(v)}}),this.websocketClient.send(o)}catch(v){u(v)}}else try{this.websocketClient.send(o),i.resolve()}catch(v){i.reject(v)}return[2,i.promise]})})},s.prototype.send=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return o instanceof Un?[4,this._sendApiRequest(o)]:[3,2];case 1:case 3:return[2,i.sent()];case 2:return o instanceof to?[4,this._sendWebsocketRequest(o)]:[3,4];case 4:throw $e.invalidParameters}})})},s.prototype.cancel=function(o){this.apiClient.cancel(o)},s.prototype.cancelAll=function(){this.apiClient.cancelAll()},s}();(function(s){s[s.NONE=0]="NONE",s[s.INITIALIZED=1]="INITIALIZED",s[s.CONNECTING=2]="CONNECTING",s[s.CONNECTED=3]="CONNECTED",s[s.RECONNECTING=4]="RECONNECTING",s[s.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",s[s.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",s[s.LOGOUT=7]="LOGOUT"})(Er||(Er={}));var ou=function(s){function o(i){var c=i.stateType,u=s.call(this)||this;return u.stateType=c,u}return ve(o,s),o}(Ti),PJ=function(){function s(o,i){var c=i.auth,u=i.sdkState,p=i.dispatcher,m=i.logger,v=i.useFetchCompat,b=v!==void 0&&v,y=this;this._currentConnectionStateType=Er.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new UJ(o,{auth:c,sdkState:u,dispatcher:p,logger:m,useFetchCompat:b}),this._auth=c,this._logger=m,this._dispatcher=p,this._dispatcher.on(function(S){if(S instanceof ou){var O=S.stateType;switch(y._currentConnectionStateType=O,O){case Er.CONNECTED:var V=y._lazyCallQueue;y._lazyCallQueue=[],V.forEach(function($){return Z(y,void 0,void 0,function(){var te,J,oe,xe,Ie;return X(this,function(Ue){switch(Ue.label){case 0:te=$.command,J=$.deferred,oe=$.timeout,clearTimeout(oe),Ue.label=1;case 1:return Ue.trys.push([1,3,,4]),[4,this.send(te)];case 2:return xe=Ue.sent(),J.resolve(xe),[3,4];case 3:return Ie=Ue.sent(),J.reject(Ie),[3,4];case 4:return[2]}})})});break;case Er.INITIALIZED:case Er.INTERNAL_DISCONNECTED:case Er.EXTERNAL_DISCONNECTED:case Er.LOGOUT:V=y._lazyCallQueue,y._lazyCallQueue=[],V.forEach(function($){return Z(y,void 0,void 0,function(){var te,J;return X(this,function(oe){return te=$.deferred,J=$.timeout,clearTimeout(J),this._auth&&this._auth.hasSession?te.reject($e.connectionClosed):te.reject($e.connectionRequired),[2]})})})}}})}return Object.defineProperty(s.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Er.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Er.CONNECTING||this._currentConnectionStateType===Er.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype.send=function(o){return Z(this,void 0,void 0,function(){var i,c,u=this;return X(this,function(p){switch(p.label){case 0:return o instanceof to?this.isReady?(this._logger.debug("send websocket request",o),[4,this.commandRouter.send(o)]):[3,2]:[3,4];case 1:case 5:return[2,p.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",o),i=new Wa,this._lazyCallQueue.push({command:o,deferred:i,timeout:setTimeout(function(){return u.timeout(o.requestId)},1e4)}),[2,i.promise];throw this._logger.debug("fail websocket request"),$e.connectionRequired;case 3:case 7:return[3,9];case 4:return o instanceof Un?this._auth.hasSession?(this._logger.debug("send api request",o),[4,this.commandRouter.send(o)]):[3,6]:[3,8];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",o),i=new Wa,this._lazyCallQueue.push({command:o,deferred:i,timeout:setTimeout(function(){return u.timeout(o.requestId)},1e4)}),[2,i.promise];throw c=$e.connectionRequired,this._logger.debug("fail api request",c),c;case 8:throw $e.invalidCommand;case 9:return[2]}})})},s.prototype.forceSend=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this._logger.debug("send forced request",o),o instanceof to||o instanceof Un?[4,this.commandRouter.send(o)]:[3,2];case 1:return[2,i.sent()];case 2:throw $e.invalidCommand}})})},s.prototype.timeout=function(o){this._logger.debug("timeout request",o);var i=this._lazyCallQueue.findIndex(function(c){return c.command.requestId===o});i>-1&&(this._lazyCallQueue[i].deferred.reject($e.connectionRequired),this._lazyCallQueue.splice(i,1))},s.prototype.cancel=function(o){this._logger.debug("cancel api request",o),this.commandRouter.cancel(o)},s.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},s}(),l3="sendbird@devicetokens",c3=function(){function s(o){var i=o.type,c=o.token;this.type=i,this.token=c}return s.payloadify=function(o){return ct(_t({type:o.type,token:o.token}))},s}(),FJ=function(s){function o(i){var c=i.userId,u=i.authToken,p=i.expiringSession,m=p===void 0||p,v=s.call(this)||this;return v.path="".concat(hr,"/").concat(c,"/session_key"),v.method=Dn.POST,v.params={token:u,expiring_session:!!m},v.requireAuth=!1,v}return ve(o,s),o}(Un),HJ=function(s){function o(i){var c=i.authToken,u=i.expiringSession,p=u===void 0||u,m=i.requestId,v=m===void 0?"":m;return s.call(this,{code:"LOGI",payload:{token:c,expiring_session:p?1:0,req_id:v},ackRequired:!0})||this}return ve(o,s),o}(to),BJ=function(s){function o(i,c){var u=s.call(this,i,c)||this,p=c.key;return u.key=p,u}return ve(o,s),o}(qn),VJ=function(s){function o(i,c,u){var p,m=this;return(m=s.call(this,i,"LOGI",u)||this).error=null,m.newKey=null,m.newKey=(p=u.new_key)!==null&&p!==void 0?p:null,m.error=u.error?new $e(u.error):null,m}return ve(o,s),o}(Qr),oA=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return ve(o,s),o}(Ti),ro=function(s){return Z(void 0,void 0,void 0,function(){return X(this,function(o){return[2,new Promise(function(i){return setTimeout(i,s)})]})})},lA=function(){function s(){}return s.prototype.calcTimeout=function(){return 0},s}(),d3=function(s,o,i){return i===void 0&&(i=new lA),Z(void 0,void 0,void 0,function(){var c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:c=0,u=null,p=function(S){return u=S??new Error("Halted")},m=function(){c=0},y.label=1;case 1:if(!(o===-1||c<o))return[3,9];y.label=2;case 2:return y.trys.push([2,4,,8]),[4,s(p,m)];case 3:if(v=y.sent(),u)throw u;return[2,v];case 4:if(b=y.sent(),u)return[3,6];if(++c===o)throw b;return[4,ro(i.calcTimeout(c))];case 5:return y.sent(),[3,7];case 6:throw u;case 7:return[3,8];case 8:return[3,1];case 9:throw"It should not happen."}})})},Vt=function(s){return Z(void 0,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s()];case 1:return i.sent(),[3,3];case 2:if(!((o=i.sent())instanceof $e))throw o;return o.throwOutside(),[3,3];case 3:return[2]}})})},Os=function(s){return Z(void 0,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,s()];case 1:case 2:return o.sent(),[3,3];case 3:return[2]}})})},u3=new WeakMap,zJ=function(s){function o(i){var c=i.auth,u=i.cacheContext,p=i.sdkState,m=i.dispatcher,v=i.requestQueue,b=i.logger,y=s.call(this)||this;return y._currentConnectionStateType=Er.INITIALIZED,y._isRefreshingAuthToken=!1,y._isRefreshingSessionKey=!1,y.currentUser=null,y.auth=c,y._cacheContext=u,y._sdkState=p,y._dispatcher=m,y._requestQueue=v,y._logger=b,y._deviceTokens=[],y._dispatcher.on(function(S){var O;if(S instanceof ou){var V=S.stateType;y._currentConnectionStateType=V}else S instanceof Hp&&y.handler&&(S.invalidateSessionToken&&(y.auth.authToken=void 0),S.error&&(S.error.isSessionKeyExpiredError||S.error.isSessionTokenExpiredError)&&(y._logger.debug("session expired"),!((O=y.handler)===null||O===void 0)&&O.onSessionExpired&&y.handler.onSessionExpired(),y.refresh()))}),y}return ve(o,s),Object.defineProperty(o.prototype,"ekey",{get:function(){return u3.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),o.prototype.indexOfDeviceToken=function(i,c){return this._deviceTokens.findIndex(function(u){return u.type===i&&u.token===c})},o.prototype.hasDeviceToken=function(i,c){return this.indexOfDeviceToken(i,c)>=0},o.prototype.createRefreshWebsocketCommand=function(i,c){return new HJ({authToken:i,expiringSession:!0,requestId:c})},o.prototype._refreshSessionKeyByWebSocket=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return c=this.createRefreshWebsocketCommand(i),[4,this._requestQueue.forceSend(c)];case 1:if(u=b.sent(),p=u.as(VJ),m=p.newKey,v=p.error)throw v;return this.auth.sessionKey=m??this.auth.sessionKey,[2]}})})},o.prototype._refreshSessionKeyByApi=function(i){return Z(this,void 0,void 0,function(){var c,u=this;return X(this,function(p){switch(p.label){case 0:return c=new FJ({userId:this._sdkState.userId,authToken:i,expiringSession:!0}),[4,d3(function(m){return Z(u,void 0,void 0,function(){var v,b,y;return X(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(c)];case 1:return v=S.sent(),b=v.as(BJ).key,this.auth.sessionKey=b,[3,3];case 2:if(y=S.sent(),!this._isSessionRelatedError(y))throw y;return m(y),[3,3];case 3:return[2]}})})},3)];case 1:return p.sent(),[2]}})})},o.prototype._refreshSessionKey=function(i,c){return c===void 0&&(c=!0),Z(this,void 0,void 0,function(){var u,p,m;return X(this,function(v){switch(v.label){case 0:if(this._currentConnectionStateType!==Er.CONNECTED)return[3,10];v.label=1;case 1:return v.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(i)];case 2:return v.sent(),this.complete(),[2];case 3:return u=v.sent(),this._isSessionRelatedError(u)&&c?[4,this._receiveNewAuthToken()]:[3,9];case 4:return(m=v.sent())?(this.auth.authToken=m,[4,this._refreshSessionKey(this.auth.authToken,!1)]):[3,6];case 5:return v.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:v.sent(),this.close(),v.label=8;case 8:return[2];case 9:return[3,10];case 10:return v.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(i)];case 11:return v.sent(),this.complete(),[3,22];case 12:return p=v.sent(),this._isSessionRelatedError(p)?c?[4,this._receiveNewAuthToken()]:[3,18]:[3,20];case 13:return(m=v.sent())?(this.auth.authToken=m,[4,this._refreshSessionKeyByApi(this.auth.authToken)]):[3,15];case 14:return v.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:v.sent(),this.close(),v.label=17;case 17:return[3,19];case 18:throw p;case 19:return[3,21];case 20:throw p;case 21:return[3,22];case 22:return[2]}})})},o.prototype._receiveNewAuthToken=function(){var i=this,c=new Wa;return Vt(function(){return Z(i,void 0,void 0,function(){var u,p,m,v,b=this;return X(this,function(y){return this._isRefreshingAuthToken=!0,this.auth.clear(),this.handler.onSessionTokenRequired?(u=null,p=function(){u&&(clearTimeout(u),u=null)},m=function(S){p(),b._isRefreshingAuthToken&&(b._isRefreshingAuthToken=!1,b.dispatch("refresh-authtoken"),c.resolve(S))},v=function(S){p(),b._isRefreshingAuthToken&&(b._isRefreshingAuthToken=!1,c.reject(S))},u=setTimeout(function(){return v()},1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired(m,v)):c.resolve(null),[2]})})}),c.promise},o.prototype._isSessionRelatedError=function(i){return i instanceof $e&&(i.isSessionKeyExpiredError||i.isSessionTokenExpiredError||i.isSessionRevokedError)},Object.defineProperty(o.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),o.prototype.login=function(i){var c;return Z(this,void 0,void 0,function(){var u,p,m,v,b,y,S;return X(this,function(O){switch(O.label){case 0:return u=i.key,p=i.ekey,m=i.userProfile,v=i.deviceTokenLastDeletedAt,b=v===void 0?0:v,this.auth.sessionKey=u,u3.set(this,p),this._deviceTokenCacheEnabled=(c=m==null?void 0:m.appInfo)===null||c===void 0?void 0:c.deviceTokenCache,y=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,y.get(l3)]:[3,5];case 1:return!(S=O.sent())||S.lastDeletedAt<b?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=b,[4,this.saveDeviceToken()]):[3,3];case 2:return O.sent(),[3,4];case 3:this._deviceTokens=S.tokens.map(function(V){return new c3(c3.payloadify(V))}),this._deviceTokenLastDeletedAt=S.lastDeletedAt,O.label=4;case 4:return[3,7];case 5:return[4,y.remove(l3)];case 6:O.sent(),O.label=7;case 7:return[2]}})})},o.prototype.complete=function(){var i=this;this.dispatch("refresh"),Vt(function(){return Z(i,void 0,void 0,function(){var c;return X(this,function(u){return this._logger.debug("session refreshed"),!((c=this.handler)===null||c===void 0)&&c.onSessionRefreshed&&this.handler.onSessionRefreshed(),[2]})})})},o.prototype.error=function(i){var c=this;Vt(function(){return Z(c,void 0,void 0,function(){var u;return X(this,function(p){return!((u=this.handler)===null||u===void 0)&&u.onSessionError&&this.handler.onSessionError(i),[2]})})})},o.prototype.close=function(){var i=this;this.dispatch("close"),Vt(function(){return Z(i,void 0,void 0,function(){var c;return X(this,function(u){return this._logger.debug("session closed"),!((c=this.handler)===null||c===void 0)&&c.onSessionClosed&&this.handler.onSessionClosed(),[2]})})})},o.prototype.refresh=function(){return Z(this,void 0,void 0,function(){var i,c;return X(this,function(u){switch(u.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];u.label=1;case 1:return u.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(i=u.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=i,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return u.sent(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw u.sent(),c=$e.sessionTokenRequestFailed,this._dispatcher.dispatch(new oA),this.error(c),this._isRefreshingSessionKey=!1,c;case 7:return u.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return u.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw u.sent(),c=$e.sessionTokenRefreshFailed,this._dispatcher.dispatch(new oA),this.error(c),this._isRefreshingSessionKey=!1,c;case 10:return[2]}})})},o.prototype.setDeviceToken=function(i,c){return!!(this._deviceTokenCacheEnabled&&this.indexOfDeviceToken(i,c)<0)&&(this._deviceTokens.push(new c3({type:i,token:c})),!0)},o.prototype.unsetDeviceToken=function(i,c){if(this._deviceTokenCacheEnabled){var u=this.indexOfDeviceToken(i,c);u>=0&&this._deviceTokens.splice(u,1)}},o.prototype.unsetDeviceTokens=function(i){this._deviceTokenCacheEnabled&&(this._deviceTokens=i?this._deviceTokens.filter(function(c){return c.type!==i}):[])},o.prototype.setDeviceTokenDeletedAt=function(i){i>0&&(this._deviceTokenLastDeletedAt=i)},o.prototype.saveDeviceToken=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set(l3,{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},o.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.currentUser=null,this.auth.clear(),this.close(),u3.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return i.sent(),[2]}})})},o}(Gh),lu=function(){function s(){this.type=Er.NONE,this.name="none"}return s.prototype.run=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2]})})},s.prototype.onConnect=function(o,i){return Z(this,void 0,void 0,function(){return X(this,function(c){return[2]})})},s.prototype.onReconnect=function(o,i){return i.resetReconnectCount,Z(this,void 0,void 0,function(){return X(this,function(c){return[2]})})},s.prototype.onDisconnect=function(o,i){return i.error,i.autoReconnect,Z(this,void 0,void 0,function(){return X(this,function(c){return[2]})})},s.prototype.onDisconnectWebSocket=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2]})})},s.prototype.onLogout=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2]})})},s}(),cu=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=Er.LOGOUT,i.name="logout",i}return ve(o,s),o.prototype.run=function(i){return Z(this,void 0,void 0,function(){var c,u,p=this;return X(this,function(m){switch(m.label){case 0:return c=Date.now(),u=i.sdkState.userId,[4,i.logout()];case 1:return m.sent(),[4,i.changeState(new h3,c)];case 2:return m.sent(),Vt(function(){return Z(p,void 0,void 0,function(){return X(this,function(v){return i.connectionHandlers.forEach(function(b){b.onDisconnected&&b.onDisconnected(u)}),[2]})})}),[2]}})})},o}(lu),Cv=function(s){function o(){var i=s.call(this)||this;return i.type=Er.EXTERNAL_DISCONNECTED,i.name="externaldisconnected",i}return ve(o,s),o.prototype.run=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return[4,i.disconnect()];case 1:return c.sent(),[2]}})})},o.prototype.onConnect=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Date.now(),[4,i.disconnect()];case 1:return p.sent(),[4,i.changeState(new Nv({authToken:c}),u)];case 2:return p.sent(),[2]}})})},o.prototype.onReconnect=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),[4,i.changeState(new Iv,c)];case 1:return u.sent(),[2]}})})},o.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),[4,i.changeState(new cu,c)];case 1:return u.sent(),[2]}})})},o}(lu),kv=function(s){function o(i){var c=i.autoReconnect,u=s.call(this)||this;return u.type=Er.INTERNAL_DISCONNECTED,u.name="internaldisconnected",u._autoReconnect=!1,u._autoReconnect=c,u}return ve(o,s),o.prototype.run=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),[4,i.disconnect()];case 1:return u.sent(),this._autoReconnect?[4,i.changeState(new Iv,c)]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2]}})})},o.prototype.onConnect=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Date.now(),[4,i.disconnect()];case 1:return p.sent(),[4,i.changeState(new Nv({authToken:c}),u)];case 2:return p.sent(),[2]}})})},o.prototype.onReconnect=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),[4,i.changeState(new Iv,c)];case 1:return u.sent(),[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),[4,i.changeState(new Cv,c)];case 1:return u.sent(),[2]}})})},o.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),[4,i.changeState(new cu,c)];case 1:return u.sent(),[2]}})})},o}(lu),Iv=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=Er.RECONNECTING,i.name="reconnecting",i._callbacks=[],i}return ve(o,s),o.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=void 0)},o.prototype._flushCallbacks=function(i){this._haltConnect=void 0,this._resetConnect=void 0,this._callbacks.forEach(function(c){return c(i)})},o.prototype.run=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y=this;return X(this,function(S){switch(S.label){case 0:c=Date.now(),u=new Wa,this._callbacks.push(function(O){return O?u.reject(O):u.resolve()}),Vt(function(){return Z(y,void 0,void 0,function(){return X(this,function(O){return i.connectionHandlers.forEach(function(V){V.onReconnectStarted&&V.onReconnectStarted()}),[2]})})}),S.label=1;case 1:return S.trys.push([1,4,,9]),p=i.sdkState.websocket,m=p.reconnectMaxRetry,v=p.reconnectRetryStrategy,[4,d3(function(O,V){return Z(y,void 0,void 0,function(){var $;return X(this,function(te){switch(te.label){case 0:this._haltConnect=O,this._resetConnect=V,te.label=1;case 1:return te.trys.push([1,3,,4]),[4,i.connect()];case 2:return te.sent(),[3,4];case 3:if($=te.sent(),i.clearLoginTimer(),$ instanceof $e&&$.code===ft.CONNECTION_CANCELED)return O($),[2];throw $;case 4:return[2]}})})},m,v)];case 2:return S.sent(),[4,i.changeState(new cA,c)];case 3:return S.sent(),Vt(function(){return Z(y,void 0,void 0,function(){return X(this,function(O){return this._flushCallbacks(),i.connectionHandlers.forEach(function(V){V.onReconnectSucceeded&&V.onReconnectSucceeded()}),[2]})})}),[3,9];case 4:return b=S.sent(),Vc(b)?[3,7]:b instanceof $e?b.code===ft.CONNECTION_CANCELED?[3,6]:[4,i.changeState(new kv({autoReconnect:!1}),c)]:[3,6];case 5:S.sent(),S.label=6;case 6:return Vt(function(){return Z(y,void 0,void 0,function(){return X(this,function(O){return this._flushCallbacks(b),i.connectionHandlers.forEach(function(V){V.onReconnectFailed&&V.onReconnectFailed()}),[2]})})}),[3,8];case 7:throw b;case 8:return[3,9];case 9:return[2,u.promise]}})})},o.prototype.onConnect=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){return u=new Wa,this._halt($e.connectionCanceled),i.cancelConnectForRetry(),this._callbacks.push(function(){var m=Date.now();i.changeState(new Nv({authToken:c}),m).then(function(){u.resolve()}).catch(function(v){u.reject(v)})}),[2,u.promise]})})},o.prototype.onReconnect=function(i,c){var u=c.resetReconnectCount,p=u!==void 0&&u;return Z(this,void 0,void 0,function(){var m;return X(this,function(v){return m=new Wa,this._resetConnect&&p&&this._resetConnect(),this._callbacks.push(function(b){return b?m.reject(b):m.resolve()}),[2,m.promise]})})},o.prototype.onDisconnect=function(i,c){c.error;var u=c.autoReconnect,p=u===void 0||u;return Z(this,void 0,void 0,function(){var m;return X(this,function(v){switch(v.label){case 0:return m=Date.now(),this._halt($e.connectionCanceled),[4,i.changeState(new kv({autoReconnect:p}),m)];case 1:return v.sent(),[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),this._halt($e.connectionCanceled),[4,i.changeState(new Cv,c)];case 1:return u.sent(),[2]}})})},o.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),this._halt($e.connectionCanceled),[4,i.changeState(new cu,c)];case 1:return u.sent(),[2]}})})},o}(lu),cA=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=Er.CONNECTED,i.name="connected",i}return ve(o,s),o.prototype.onReconnect=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),[4,i.disconnect()];case 1:return u.sent(),[4,i.changeState(new Iv,c)];case 2:return u.sent(),[2]}})})},o.prototype.onDisconnect=function(i,c){var u=c.autoReconnect;return Z(this,void 0,void 0,function(){var p;return X(this,function(m){switch(m.label){case 0:return p=Date.now(),[4,i.changeState(new kv({autoReconnect:u}),p)];case 1:return m.sent(),[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),[4,i.changeState(new Cv,c)];case 1:return u.sent(),[2]}})})},o.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),[4,i.changeState(new cu,c)];case 1:return u.sent(),[2]}})})},o}(lu),Nv=function(s){function o(i){var c=i.authToken,u=s.call(this)||this;return u.type=Er.CONNECTING,u.name="connecting",u._authToken="",u._callbacks=[],u._authToken=c,u}return ve(o,s),o.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=void 0)},o.prototype._flushCallbacks=function(i){this._haltConnect=void 0,this._callbacks.forEach(function(c){return c(i)})},o.prototype.run=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m=this;return X(this,function(v){switch(v.label){case 0:c=Date.now(),u=new Wa,this._callbacks.push(function(b){return b?u.reject(b):u.resolve()}),v.label=1;case 1:return v.trys.push([1,4,,10]),[4,d3(function(b){return Z(m,void 0,void 0,function(){var y;return X(this,function(S){switch(S.label){case 0:this._haltConnect=b,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,i.connect(this._authToken)];case 2:return S.sent(),[3,4];case 3:if(y=S.sent(),i.clearLoginTimer(),y instanceof $e&&y.code===ft.CONNECTION_CANCELED)return b(y),[2];throw y;case 4:return[2]}})})},i.sdkState.websocket.connectMaxRetry)];case 2:return v.sent(),[4,i.changeState(new cA,c)];case 3:return v.sent(),Vt(function(){return Z(m,void 0,void 0,function(){return X(this,function(b){return this._flushCallbacks(),i.connectionHandlers.forEach(function(y){y.onConnected&&y.onConnected(i.sdkState.userId)}),[2]})})}),[3,10];case 4:return p=v.sent(),Vc(p)?[3,8]:[4,i.disconnect()];case 5:return v.sent(),p instanceof $e?p.code===ft.CONNECTION_CANCELED?[3,7]:[4,i.changeState(new h3,c)]:[3,7];case 6:v.sent(),v.label=7;case 7:return Vt(function(){return Z(m,void 0,void 0,function(){return X(this,function(b){return this._flushCallbacks(p),[2]})})}),[3,9];case 8:throw p;case 9:return[3,10];case 10:return[2,u.promise]}})})},o.prototype.onConnect=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){return c=new Wa,this._callbacks.push(function(p){return p?c.reject(p):c.resolve()}),[2,c.promise]})})},o.prototype.onDisconnect=function(i,c){var u=c.error,p=u===void 0?null:u,m=c.autoReconnect,v=m!==void 0&&m;return Z(this,void 0,void 0,function(){var b;return X(this,function(y){switch(y.label){case 0:return b=Date.now(),this._halt(p??$e.connectionCanceled),i.hasSession?[4,i.changeState(new kv({autoReconnect:v}),b)]:[3,2];case 1:return y.sent(),[3,4];case 2:return[4,i.changeState(new cu,b)];case 3:y.sent(),y.label=4;case 4:return[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),this._halt($e.connectionCanceled),i.hasSession?[4,i.changeState(new Cv,c)]:[3,2];case 1:return u.sent(),[3,4];case 2:return[4,i.changeState(new cu,c)];case 3:u.sent(),u.label=4;case 4:return[2]}})})},o.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return c=Date.now(),this._halt($e.connectionCanceled),[4,i.changeState(new cu,c)];case 1:return u.sent(),[2]}})})},o}(lu),h3=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=Er.INITIALIZED,i.name="initialized",i}return ve(o,s),o.prototype.onConnect=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Date.now(),[4,i.changeState(new Nv({authToken:c}),u)];case 1:return p.sent(),[2]}})})},o}(lu),GJ=function(s){function o(){return s.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return ve(o,s),o}(to),qJ=function(){function s(o){var i=o.pingDelegate,c=o.sdkState,u=o.logger;this.pingDelegate=i,this.sdkState=c,this._logger=u}return Object.defineProperty(s.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),s.prototype.ping=function(){var o,i=this;if(!this.sdkState.websocket)throw $e.connectionRequired;var c=new GJ;try{var u=(o=this.sdkState.websocket.pongTimeout)!==null&&o!==void 0?o:5e3;this._pingTimeoutTimer=setTimeout(function(){i._logger.debug("pinger.ping() timeout"),i.pingDelegate.error()},u),this.pingDelegate.send(c),this._logger.debug("pinger.ping()")}catch(p){this._logger.debug("pinger.ping() error",p),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0),this.pingDelegate.error()}return c},s.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},s.prototype.refreshTimer=function(){var o,i=this;if(!this.sdkState.websocket)throw $e.connectionRequired;this._logger.debug("pinger.refreshTimer()");var c=(o=this.sdkState.websocket.pingInterval)!==null&&o!==void 0?o:15e3;this.stop(),this._pingTimer=setInterval(function(){i.ping()},c)},s.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},s.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=void 0),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},s}(),dA=function(){function s(o){var i,c,u,p;this.isEnabled=(i=o.enabled)!==null&&i!==void 0&&i,this.feedChannels=(c=o.feed_channels)!==null&&c!==void 0?c:{},this.templateListToken=(u=o.template_list_token)!==null&&u!==void 0?u:null,this.settingsUpdatedAt=(p=o.settings_updated_at)!==null&&p!==void 0?p:0}return s.payloadify=function(o){return ct(_t({enabled:o.isEnabled,feed_channels:o.feedChannels,template_list_token:o.templateListToken,settings_updated_at:o.settingsUpdatedAt}))},s}(),uA=function(){function s(o){var i;this.lastUpdatedAt=(i=o.last_updated_at)!==null&&i!==void 0?i:0}return s.payloadify=function(o){return ct(_t({last_updated_at:o.lastUpdatedAt}))},s}(),hA=1048576,pA=function(){function s(o){var i,c,u,p,m;o===void 0&&(o={}),this.emojiHash=o.emoji_hash||"",this.uploadSizeLimit=o.file_upload_size_limit?o.file_upload_size_limit*hA:Number.MAX_SAFE_INTEGER,this.useReaction=!!o.use_reaction,this.applicationAttributes=(i=o.application_attributes)!==null&&i!==void 0?i:[],this.premiumFeatureList=(c=o.premium_feature_list)!==null&&c!==void 0?c:[],this.deviceTokenCache=this.applicationAttributes.includes("sdk_device_token_cache"),this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history"),this.multipleFilesMessageFileCountLimit=(u=o.multiple_file_send_max_size)!==null&&u!==void 0?u:5,this.allowSdkStatsUpload=(p=o.allow_sdk_log_ingestion)===null||p===void 0||p,this.uikitConfigInfo=new uA((m=o.uikit_config)!==null&&m!==void 0?m:{}),this.notificationInfo=o.notifications?new dA(o.notifications):null}return s.payloadify=function(o){return ct(_t({emoji_hash:o.emojiHash,file_upload_size_limit:o.uploadSizeLimit/hA,application_attributes:o.applicationAttributes,premium_feature_list:o.premiumFeatureList,use_reaction:o.useReaction,allow_sdk_log_ingestion:o.allowSdkStatsUpload,uikit_config:o.uikitConfigInfo?uA.payloadify(o.uikitConfigInfo):null,notifications:o.notificationInfo?dA.payloadify(o.notificationInfo):null}))},s}(),Rs=function(){function s(o){this._iid="",this._iid=o}return s.payloadify=function(o){return{}},s}(),jJ=function(s){function o(i){var c=i.userId,u=i.metadata,p=s.call(this)||this;return p.method=Dn.POST,p.path="".concat(hr,"/").concat(c,"/metadata"),p.params={metadata:u},p}return ve(o,s),o}(Un),$J=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.metaData=c,u}return ve(o,s),o}(qn),WJ=function(s){function o(i){var c=i.userId,u=i.metadata,p=i.upsert,m=s.call(this)||this;return m.method=Dn.PUT,m.path="".concat(hr,"/").concat(c,"/metadata"),m.params={metadata:u,upsert:p},m}return ve(o,s),o}(Un),KJ=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.metadata=c,u}return ve(o,s),o}(qn),QJ=function(s){function o(i){var c=i.userId,u=i.metadataKey,p=s.call(this)||this;return p.method=Dn.DELETE,p.path="".concat(hr,"/").concat(c,"/metadata/").concat(u),p}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var YJ=function(s){function o(i){var c=i.userId,u=s.call(this)||this;return u.method=Dn.DELETE,u.path="".concat(hr,"/").concat(c,"/metadata"),u}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var Yh,Av=function(s,o){var i=JSON.parse(JSON.stringify(s));return i._iid&&delete i._iid,o&&o(i),i},rf=function(s,o){var i=JSON.parse(JSON.stringify(s));return o&&o(i),i},Pn=function(s){return{do:function(o){s||o()},throw:function(o){if(!s)throw o}}};(function(s){s.ONLINE="online",s.OFFLINE="offline",s.NON_AVAILABLE="nonavailable"})(Yh||(Yh={}));var Mo,Ft=function(s){function o(i,c){var u,p,m,v,b,y,S,O,V,$,te,J,oe=this;return(oe=s.call(this,i)||this).userId=(p=(u=c.guest_id)!==null&&u!==void 0?u:c.user_id)!==null&&p!==void 0?p:"",oe.nickname=(v=(m=c.nickname)!==null&&m!==void 0?m:c.name)!==null&&v!==void 0?v:"",oe.plainProfileUrl=(y=(b=c.profile_url)!==null&&b!==void 0?b:c.image)!==null&&y!==void 0?y:"",oe.requireAuth=(S=c.require_auth_for_profile_image)!==null&&S!==void 0&&S,oe.metaData=(O=c.metadata)!==null&&O!==void 0?O:{},oe.connectionStatus=Yh.NON_AVAILABLE,Lr(Yh,c.is_online)?oe.connectionStatus=c.is_online:Ve("boolean",c.is_online)&&(oe.connectionStatus=c.is_online?Yh.ONLINE:Yh.OFFLINE),oe.isActive=(V=c.is_active)===null||V===void 0||V,oe.lastSeenAt=($=c.last_seen_at)!==null&&$!==void 0?$:null,oe.preferredLanguages=c.preferred_languages?Yt([],Mt(c.preferred_languages),!1):null,oe.friendDiscoveryKey=(te=c.friend_discovery_key)!==null&&te!==void 0?te:null,oe.friendName=(J=c.friend_name)!==null&&J!==void 0?J:null,oe}return ve(o,s),o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{user_id:i.userId,nickname:i.nickname,profile_url:i.plainProfileUrl,require_auth_for_profile_image:i.requireAuth,metadata:i.metaData,is_online:i.connectionStatus,is_active:i.isActive,last_seen_at:i.lastSeenAt,preferred_languages:i.preferredLanguages,friend_discovery_key:i.friendDiscoveryKey,friend_name:i.friendName})))},Object.defineProperty(o.prototype,"profileUrl",{get:function(){var i=Ze.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(i.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),o.prototype.serialize=function(){return Av(this)},o.prototype._isValidMetaData=function(i){return!Array.isArray(i)&&Object.keys(i).length>0&&Object.keys(i).map(function(c){return i[c]}).every(function(c){return Ve("string",c)})},o.prototype._applyMetaData=function(i,c){var u=this;c===void 0&&(c=!1),Object.keys(i).forEach(function(p){c?delete u.metaData[p]:u.metaData[p]=i[p]})},o.prototype.createMetaData=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:return Pn(this._isValidMetaData(i)).throw($e.invalidParameters),c=Ze.of(this._iid),u=c.sdkState,p=c.requestQueue,m=new jJ({userId:u.userId,metadata:i}),[4,p.send(m)];case 1:return v=y.sent(),b=v.as($J).metaData,this._applyMetaData(b),[2,this.metaData]}})})},o.prototype.updateMetaData=function(i,c){return c===void 0&&(c=!1),Z(this,void 0,void 0,function(){var u,p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:return Pn(this._isValidMetaData(i)).throw($e.invalidParameters),u=Ze.of(this._iid),p=u.sdkState,m=u.requestQueue,v=new WJ({userId:p.userId,metadata:i,upsert:c}),[4,m.send(v)];case 1:return b=S.sent(),y=b.as(KJ).metadata,this._applyMetaData(y),[2,this.metaData]}})})},o.prototype.deleteMetaData=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return Pn(Ve("string",i)).throw($e.invalidParameters),c=Ze.of(this._iid),u=c.sdkState,p=c.requestQueue,m=new QJ({userId:u.userId,metadataKey:i}),[4,p.send(m)];case 1:return b.sent(),this._applyMetaData(((v={})[i]=!0,v),!0),[2,this.metaData]}})})},o.prototype.deleteAllMetaData=function(){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new YJ({userId:c.userId}),[4,u.send(p)];case 1:return m.sent(),this.metaData={},[2]}})})},o}(Rs),fA=function(s){function o(i){var c=i.userProfile,u=s.call(this)||this;return u.userProfile=c,u}return ve(o,s),o}(Ti),p3=function(){function s(o,i){var c,u,p,m,v,b,y,S,O,V,$,te,J,oe;this._iid=o,this.appInfo=new pA(i),this.user=new Ft(o,i),this.connectedAt=(c=i.login_ts)!==null&&c!==void 0?c:0,this.firstConnectedAt=0,this.pingInterval=(u=i.ping_interval)!==null&&u!==void 0?u:15e3,this.pongTimeout=(p=i.pong_timeout)!==null&&p!==void 0?p:5e3,this.reconnectInterval=(v=(m=i.reconnect)===null||m===void 0?void 0:m.interval)!==null&&v!==void 0?v:3e3,this.reconnectMaxInterval=(y=(b=i.reconnect)===null||b===void 0?void 0:b.max_interval)!==null&&y!==void 0?y:6e4,this.reconnectRetryCount=(O=(S=i.reconnect)===null||S===void 0?void 0:S.retry_cnt)!==null&&O!==void 0?O:5,this.reconnectIntervalMultiple=($=(V=i.reconnect)===null||V===void 0?void 0:V.mul)!==null&&$!==void 0?$:2,this.maxUnreadCountOnSuperGroup=(te=i.max_unread_cnt_on_super_group)!==null&&te!==void 0?te:100,this.profileImageEncryption=!!i.profile_image_encryption,this.concurrentCallLimit=(J=i.concurrent_call_limit)!==null&&J!==void 0?J:5,this.backOffDelay=(oe=i.back_off_delay)!==null&&oe!==void 0?oe:100}return s.payloadify=function(o){return ct(_t(Le(Le(Le({},Ft.payloadify(o.user)),pA.payloadify(o.appInfo)),{login_ts:o.connectedAt,ping_interval:o.pingInterval,pong_timeout:o.pongTimeout,reconnect:{interval:o.reconnectInterval,max_interval:o.reconnectMaxInterval,retry_cnt:o.reconnectRetryCount,mul:o.reconnectIntervalMultiple},max_unread_cnt_on_super_group:o.maxUnreadCountOnSuperGroup,profile_image_encryption:o.profileImageEncryption,concurrent_call_limit:o.concurrentCallLimit,back_off_delay:o.backOffDelay})))},s.prototype.apply=function(){var o=this.reconnectInterval,i=this.reconnectMaxInterval,c=this.reconnectIntervalMultiple,u=Ze.of(this._iid);u.sdkState.websocket&&(u.sdkState.websocket.pingInterval=1e3*this.pingInterval,u.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,u.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,u.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(p){return p>0?1e3*Math.min(o*Math.pow(c,p-1),i):10}}),u.appInfo=this.appInfo,u.sessionManager.currentUser=this.user,u.connectedAt=this.connectedAt,this.firstConnectedAt||(u.firstConnectedAt=this.connectedAt),u.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,u.concurrentCallLimit=this.concurrentCallLimit,u.backOffDelay=this.backOffDelay,u.dispatcher.dispatch(new fA({userProfile:this}))},s}(),f3=function(s){function o(i,c,u){var p,m,v,b=this;return(b=s.call(this,i,c,u)||this).error=null,b.userProfile=new p3(i,u),b.deviceTokenLastDeletedAt=(p=u.device_token_last_deleted_at)!==null&&p!==void 0?p:0,b.key=(m=u.key)!==null&&m!==void 0?m:"",b.ekey=(v=u.ekey)!==null&&v!==void 0?v:"",b.error=u.error?new $e(u):null,b}return ve(o,s),o.asError=function(i){return new o("","LOGI",Le({user_id:"",error:!0},i))},o.prototype.applyTo=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return this.error?[3,4]:(c=Ze.of(i))?[4,c.sessionManager.login(this)]:[3,2];case 1:return u.sent(),this.userProfile.apply(),[3,3];case 2:throw $e.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}})})},o}(Qr),_A=function(s){function o(i){var c=i.request,u=c===void 0||c,p=i.features,m=p===void 0?{}:p,v=i.options,b=v===void 0?{}:v,y=s.call(this)||this;return y.request=u,y.features=Le({localCache:!0},m),y.options=Le({ingestion:!0},b),y}return ve(o,s),o}(Ti),XJ=function(s){function o(i,c){var u,p=c.sdkState,m=c.cacheContext,v=c.connectionHandlers,b=c.sessionManager,y=c.websocketClient,S=c.dispatcher,O=c.logger,V=c.entryState,$=V===void 0?new h3:V,te=this;return(te=s.call(this)||this)._stateUpdatedAt=0,te._connectingAt=0,te._connectionRequestQueue=[],te._iid=i,te.sdkState=p,te.cacheContext=m,te.connectionHandlers=v,te._sessionManager=b,te._websocketClient=y,te._dispatcher=S,te._logger=O,te._currentState=$,!((u=te.sdkState.websocket)===null||u===void 0)&&u.pingerDisabled||(te._pinger=new qJ({pingDelegate:{send:function(J){return te._websocketClient.send(J)},error:function(J){return te._websocketClient.error(J)}},sdkState:te.sdkState,logger:O})),te._websocketClient.on("open",function(){te._tryResolveConnectionRequest()}).on("message",function(J){J.code==="LOGI"&&(te.clearLoginTimer(),te._dispatcher.dispatch(J.as(f3)))}).on("ping-refresh",function(){var J;return(J=te._pinger)===null||J===void 0?void 0:J.refreshTimer()}).on("pong",function(){var J;return(J=te._pinger)===null||J===void 0?void 0:J.pong()}).on("error",function(){var J;return(J=te._pinger)===null||J===void 0?void 0:J.stop()}).on("close",function(){te._logiProcessingTimer=setTimeout(function(){te._logiProcessingTimer=void 0,te._unresolvedLogi||te._rejectConnectionRequest($e.networkError)},500)}),te._dispatcher.on(function(J){J instanceof f3&&(te._unresolvedLogi=J,te._tryResolveConnectionRequest())}),te}return ve(o,s),Object.defineProperty(o.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),o.prototype.changeState=function(i,c){return Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return c>=this._stateUpdatedAt?(this._currentState=i,this._stateUpdatedAt=c,this._dispatcher.dispatch(new ou({stateType:i.type})),this._logger.debug("connection state changes to ".concat(i.name)),[4,this._currentState.run(this)]):[3,2];case 1:return u.sent(),[2,!0];case 2:return[2,!1]}})})},o.prototype._tryResolveConnectionRequest=function(){var i;return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return c=this._unresolvedLogi,this._websocketClient.isOpen&&c?(this._unresolvedLogi=void 0,c.error?[3,2]:[4,c.applyTo(this._iid)]):[3,3];case 1:return p.sent(),u=c.userProfile,this._enableStatLog({request:u.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish"),features:{localCache:u.appInfo.applicationAttributes.includes("allow_sdk_feature_local_cache_log_publish")},options:{ingestion:u.appInfo.allowSdkStatsUpload}}),this._statLogConnection(),(i=this._pinger)===null||i===void 0||i.start(),this._connectionRequestQueue.forEach(function(m){return m.resolve()}),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=void 0,(c.error.isSessionKeyExpiredError||c.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new Hp({reason:c.error.code})),this._rejectConnectionRequest(c.error),p.label=3;case 3:return[2]}})})},o.prototype._rejectConnectionRequest=function(i){var c;if((c=this._pinger)===null||c===void 0||c.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0){var u=this._connectionRequestQueue;this._connectionRequestQueue=[],u.forEach(function(p){return p.reject(i)}),this._statLogConnection(i)}},o.prototype._url=function(i){var c,u;i===void 0&&(i="");var p=this.sdkState,m=p.appId,v=p.appVersion,b=p.userId,y=p.extensions,S=p.sendbirdRuntimeEnvironment,O=this.cacheContext.localCacheEnabled,V=this._sessionManager.auth,$=(c=this.sdkState.websocket)===null||c===void 0?void 0:c.compression,te=!!((u=this.sdkState.extensions)!==null&&u!==void 0?u:{}).sb_uikit,J=pv.userAgentWithExtension(y);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Bc.OS_VERSION),"&sv=").concat(encodeURIComponent(Bc.SDK_VERSION),"&ai=").concat(m).concat(v?"&av=".concat(v):"").concat(V.hasSession?"&key=".concat(encodeURIComponent(V.sessionKey)):"&user_id=".concat(encodeURIComponent(b),"&access_token=").concat(encodeURIComponent(i)),"&pmce=").concat($?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(J,"&SB-SDK-User-Agent=").concat(encodeURIComponent(pv.sendbirdSdkUserAgentWithExtension(S)),"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash","multiple_file_send_max_size","notifications"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(O?1:0,"&include_poll_details=1").concat(te?"&uikit_config=1":"")},o.prototype._enableStatLog=function(i){var c=i.request,u=i.features,p=i.options,m=p===void 0?{}:p;this._dispatcher.dispatch(new _A({request:c,features:u,options:m}))},o.prototype._statLogConnection=function(i){var c;this._dispatcher.dispatch(new HE(new jh({type:Jd.WEBSOCKET_CONNECT,data:{host_url:(c=this.sdkState.websocket)===null||c===void 0?void 0:c.host,success:!i,latency:Date.now()-this._connectingAt,error_code:i==null?void 0:i.code,error_description:i==null?void 0:i.message}})))},o.prototype.connect=function(i){var c;return i===void 0&&(i=""),Z(this,void 0,void 0,function(){var u,p,m=this;return X(this,function(v){return this._logiProcessingTimer&&(clearTimeout(this._logiProcessingTimer),this._logiProcessingTimer=void 0,this._rejectConnectionRequest($e.connectionCanceled)),u=this._url(i),p=new Wa,this._connectionRequestQueue.push(p),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){m._loginTimer=void 0,m._rejectConnectionRequest($e.loginTimeout)},(c=this.sdkState.websocket)===null||c===void 0?void 0:c.responseTimeout),i&&(this._sessionManager.auth.authToken=i),this._websocketClient.connect(u)),[2,p.promise]})})},o.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(f3.asError($e.connectionRenew))},o.prototype.disconnect=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return i.sent(),[2]}})})},o.prototype.logout=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.sdkState.userId=void 0,this._unresolvedLogi=void 0,[4,this._sessionManager.clear()];case 1:return i.sent(),[4,this.disconnect()];case 2:return i.sent(),[2]}})})},o.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=void 0)},o}(Gh),ZJ=function(){function s(o,i){var c=i.sdkState,u=i.cacheContext,p=i.connectionHandlers,m=i.sessionManager,v=i.websocketClient,b=i.dispatcher,y=i.logger,S=i.disableWebSocketCloseEventHandling,O=S!==void 0&&S;this._disableWebSocketCloseEventHandling=!1,this._externalCalledWebSocketClose=!1,this._logger=y,this._disableWebSocketCloseEventHandling=O,this._context=new XJ(o,{sdkState:c,cacheContext:u,connectionHandlers:p,sessionManager:m,websocketClient:v,dispatcher:b,logger:y}),this._sdkState=c,this._sessionManager=m,this._websocketClient=v}return s.prototype._registerEventDispatcher=function(){var o=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",function(){o.isConnected||(o._logger.debug("try reconnect by session token refresh"),o.reconnect())}).on("refresh",function(){o.isConnecting||o.isConnected||(o._logger.debug("try reconnect by session key refresh"),o.reconnect())}),this._websocketEventDispatcherContext=this._websocketClient.on("close",function(){o._sdkState.appState!=="foreground"||o._externalCalledWebSocketClose||o._sessionManager.isRefreshingAuthToken||(o._logger.debug("try reconnect by websocket connection closed"),o.reconnect())}))},s.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=void 0),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=void 0)},Object.defineProperty(s.prototype,"isConnected",{get:function(){return this._context.currentState.type===Er.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isConnecting",{get:function(){var o=this._context.currentState;return o.type===Er.CONNECTING||o.type===Er.RECONNECTING},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"websocketClient",{get:function(){return this._websocketClient},enumerable:!1,configurable:!0}),s.prototype.connect=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return i=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,i.onConnect(this._context,o)];case 1:return c.sent(),this._registerEventDispatcher(),[2]}})})},s.prototype.reconnect=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,o.onReconnect(this._context,{})];case 1:return i.sent(),[2]}})})},s.prototype.resetAndReconnect=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,o.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return i.sent(),[2]}})})},s.prototype.background=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,o.onDisconnect(this._context,{autoReconnect:!1})];case 1:return i.sent(),[2]}})})},s.prototype.disconnect=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:o,autoReconnect:!0})];case 1:return i.sent(),[2]}})})},s.prototype.disconnectWebSocket=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,o.onDisconnectWebSocket(this._context)];case 1:return i.sent(),[2]}})})},s.prototype.logout=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._clearEventDispatcher(),[4,o.onLogout(this._context)];case 1:return i.sent(),[2]}})})},s}(),Ov=function(s){function o(i){var c,u,p,m,v=i.type,b=i.data,y=i.ts,S=y===void 0?Date.now():y,O=s.call(this,{type:v,data:b,ts:S})||this;return O.date=new Date(S),O.key="".concat((c=O.date,u=c.getFullYear(),p=String(c.getMonth()+1).padStart(2,"0"),m=String(c.getDate()).padStart(2,"0"),"".concat(u).concat(p).concat(m)),"_").concat(v),O}return ve(o,s),o}(jh),JJ=function(s){function o(i){var c=i.deviceId,u=i.statLogs,p=s.call(this)||this;return p.method=Dn.POST,p.path="".concat(MZ),p.params={device_id:c,log_entries:u.map(function(m){return jh.payloadify(m)})},p}return ve(o,s),o}(Un),mA=function(s,o){var i,c;if(s!==null&&o!==null){var u=Object.keys(s),p=Object.keys(o),m=Yt([],Mt(new Set(Yt(Yt([],Mt(u),!1),Mt(p),!1))),!1),v={};try{for(var b=gt(m),y=b.next();!y.done;y=b.next()){var S=y.value,O=typeof s[S],V=typeof o[S];O==="undefined"?v[S]=o[S]:V==="undefined"?v[S]=s[S]:O!==V?v[S]=o[S]:O==="object"&&s[S]&&o[S]?v[S]=mA(s[S],o[S]):v[S]=o[S]}}catch($){i={error:$}}finally{try{y&&!y.done&&(c=b.return)&&c.call(b)}finally{if(i)throw i.error}}return v}return o};(function(s){s[s.PENDING=0]="PENDING",s[s.COLLECT_ONLY=1]="COLLECT_ONLY",s[s.ENABLED=2]="ENABLED",s[s.DISABLED=3]="DISABLED"})(Mo||(Mo={}));var Kl,eee=function(s){function o(i){var c=i.cacheContext,u=i.requestQueue,p=i.dispatcher,m=i.baseLimit,v=m===void 0?100:m,b=i.maxLimit,y=b===void 0?1e3:b,S=i.minLimit,O=S===void 0?10:S,V=s.call(this)||this;return V.queue=[],V.enabledState=Mo.PENDING,V.isFlushing=!1,V.generation=1,V.lastFlushedAt=0,V._collectRequestStat=!0,V._collectFeatureLocalCacheStat=!0,V.deviceId=zh(),V.cacheContext=c,V.requestQueue=u,V.dispatcher=p,V.baseLimit=v,V.limit=v,V.maxLimit=y,V.minLimit=O,V}return ve(o,s),Object.defineProperty(o.prototype,"isEnabled",{get:function(){return this.enabledState===Mo.ENABLED},enumerable:!1,configurable:!0}),o.prototype._arrangeStat=function(){var i=[];this._collectRequestStat&&i.push.apply(i,Yt([],Mt(this.queue.filter(function(c){return c.type===Jd.API_RESULT||c.type===Jd.WEBSOCKET_CONNECT})),!1)),this._collectFeatureLocalCacheStat&&i.push.apply(i,Yt([],Mt(this.queue.filter(function(c){return c.type===Jd.FEATURE_LOCALCACHE})),!1)),this.queue=i},o.prototype._save=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.enabledState!==Mo.ENABLED?[3,2]:[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(c){return jh.payloadify(c)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})];case 1:i.sent(),this.dispatch("save",Yt([],Mt(this.queue),!1)),i.label=2;case 2:return[2]}})})},o.prototype._flush=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m;return X(this,function(v){switch(v.label){case 0:if(!this.isEnabled)return[3,10];if(this.isFlushing)return[3,10];this.isFlushing=!0,v.label=1;case 1:return v.trys.push([1,5,9,10]),this._arrangeStat(),i=this.queue.filter(function(b){if(b instanceof Ov){var y=new Date,S=Mt([b.date.getFullYear(),y.getFullYear()],2),O=S[0],V=S[1];if(O<V)return!0;if(O===V){var $=Mt([b.date.getMonth(),y.getMonth()],2),te=$[0],J=$[1];if(te<J)return!0;if(te===J){var oe=Mt([b.date.getDate(),y.getDate()],2);return oe[0]<oe[1]}}}return!1}),c=this.queue.filter(function(b){return!(b instanceof Ov)}),(u=Yt(Yt([],Mt(i),!1),Mt(c),!1).slice(0,Math.min(this.limit,this.maxLimit))).length>0?(p=new JJ({deviceId:this.deviceId,statLogs:u}),[4,this.requestQueue.send(p)]):[3,4];case 2:return v.sent(),this.dispatch("flush",u),this.queue=Yt(Yt([],Mt(i),!1),Mt(c),!1).slice(u.length),[4,this._save()];case 3:v.sent(),v.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,10];case 5:return(m=v.sent())instanceof $e?m.code!==ft.STAT_LOG_NOT_ALLOWED?[3,7]:[4,this.clear()]:[3,8];case 6:return v.sent(),this.enabledState=Mo.DISABLED,[3,8];case 7:m.code===ft.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=Mo.COLLECT_ONLY),v.label=8;case 8:return this.limit=this.limit+20,[3,10];case 9:return this.isFlushing=!1,[7];case 10:return[2]}})})},o.prototype.init=function(i){return Z(this,void 0,void 0,function(){var c,u,p=this;return X(this,function(m){switch(m.label){case 0:return this.key=i,[4,this.cacheContext.preference.get(this.key)];case 1:return(c=m.sent())?(this.deviceId=c.deviceId,this.queue=c.statLogs.map(function(v){return new jh({type:v.stat_type,ts:v.ts,data:v.data})}),this.generation=c.generation,this.lastFlushedAt=c.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(u=Math.min(Math.floor(18e4*Math.random()),100),[4,ro(u)]):[3,4]):[3,4];case 2:return m.sent(),[4,this._flush()];case 3:m.sent(),m.label=4;case 4:return this.commandEventContext||(this.commandEventContext=this.dispatcher.on(function(v){if(v instanceof HE){var b=v.statLog;p.put(b)}else if(v instanceof _A){var y=v.request,S=v.features,O=v.options;p._collectRequestStat=y,p._collectFeatureLocalCacheStat=S==null?void 0:S.localCache,p._arrangeStat(),p._collectRequestStat||p._collectFeatureLocalCacheStat?p.enabledState=O.ingestion?Mo.ENABLED:Mo.COLLECT_ONLY:p.enabledState=Mo.DISABLED,p.isEnabled?p.queue.length>=p.limit&&p._flush():p.clear()}})),[2]}})})},o.prototype.put=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return this.enabledState===Mo.DISABLED?[3,3]:(i instanceof Ov?this._collectFeatureLocalCacheStat&&(c=Mt(this.queue.filter(function(m){return m instanceof Ov&&m.key===i.key}),1),(u=c[0])?u.data=mA(u.data,i.data):this.queue.push(i)):this._collectRequestStat&&this.queue.push(i),[4,this._save()]);case 1:return p.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:p.sent(),p.label=3;case 3:return[2]}})})},o.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return i.sent(),[2]}})})},o.prototype.close=function(){this.commandEventContext&&(this.commandEventContext.close(),this.commandEventContext=void 0)},o}(Gh);(function(s){s[s.NONE=0]="NONE",s[s.VERBOSE=1]="VERBOSE",s[s.DEBUG=2]="DEBUG",s[s.INFO=3]="INFO",s[s.WARN=4]="WARN",s[s.ERROR=5]="ERROR"})(Kl||(Kl={}));var Xh,nee=function(){function s(){this.level=Kl.WARN}return s.prototype.verbose=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Kl.VERBOSE&&console.log.apply(console,Yt(["[verbose]"],Mt(o),!1))},s.prototype.debug=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Kl.DEBUG&&console.log.apply(console,Yt(["[debug]"],Mt(o),!1))},s.prototype.info=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Kl.INFO&&console.log.apply(console,Yt(["[info]"],Mt(o),!1))},s.prototype.warn=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Kl.WARN&&console.warn.apply(console,Yt(["[warn]"],Mt(o),!1))},s.prototype.error=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=Kl.ERROR&&console.error.apply(console,Yt(["[error]"],Mt(o),!1))},s}(),du={},Ze=function(){function s(o,i){var c,u,p,m,v,b,y,S,O,V;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!du[o]){du[o]=this;var $=(c=i.options)!==null&&c!==void 0?c:new d5,te=this.sdkState={appId:i.appId,appVersion:(u=i.appVersion)!==null&&u!==void 0?u:"",appState:"foreground",userId:void 0,extensions:{},api:{host:(p=i.apiHost)!==null&&p!==void 0?p:"https://api-".concat(i.appId,".sendbird.com")},websocket:{host:(m=i.websocketHost)!==null&&m!==void 0?m:"wss://ws-".concat(i.appId,".sendbird.com"),pingerDisabled:!!i.noPingpong,pingInterval:void 0,pongTimeout:void 0,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new lA,responseTimeout:$.websocketResponseTimeout},sessionTokenRefreshTimeout:$.sessionTokenRefreshTimeout};this.appInfo=void 0,this.subscribedUnreadMessageCount={all:0,feed:0,customTypes:{},ts:0};var J=this.logger=new nee;this.logger.level=(v=i.logLevel)!==null&&v!==void 0?v:Kl.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var oe=this.cacheContext=new TZ({encryption:i.encryption,store:i.store,localCacheEnabled:(b=i.localCacheEnabled)!==null&&b!==void 0&&b,localCacheConfig:(y=i.localCacheConfig)!==null&&y!==void 0?y:new f5});this.debugMode=(S=i.debugMode)!==null&&S!==void 0&&S,this.maxSuperGroupChannelUnreadCount=Bc.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=$.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=$.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=$.typingIndicatorThrottle,this.concurrentCallLimit=void 0,this.backOffDelay=void 0;var xe=this.dispatcher=new kZ,Ie=new CZ;this.requestQueue=new PJ(o,{auth:Ie,sdkState:te,dispatcher:xe,logger:J,useFetchCompat:i.useFetchCompat}),this.sessionManager=new zJ({auth:Ie,cacheContext:oe,sdkState:te,dispatcher:xe,requestQueue:this.requestQueue,logger:J}),this.connectionManager=new ZJ(o,{sdkState:te,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:xe,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(O=i.disableWebSocketCloseEventHandling)!==null&&O!==void 0&&O,logger:J}),this.statLogCollector=new eee({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:xe}),this.appStateToggleEnabled=(V=i.appStateToggleEnabled)===null||V===void 0||V}return du[o]}return s.of=function(o){if(du[o])return du[o];throw $e.lostInstance},s.clear=function(o){du[o]&&delete du[o]},s.prototype.hasExtension=function(o){return this.sdkState.extensions&&this.sdkState.extensions[o]},s}(),_3=function(){function s(){}return s.prototype.init=function(o,i){var c=i.sdkState,u=i.dispatcher,p=i.sessionManager,m=i.requestQueue,v=i.logger;i.onlineDetector;var b=i.cacheContext;this._iid=o,this._cacheContext=b,this._sdkState=c,this._dispatcher=u,this._sessionManager=p,this._requestQueue=m,this._logger=v},s}();(function(s){s.OPEN="open",s.CLOSED="closed"})(Xh||(Xh={}));var Nr,m3=function(s){switch(s){case"open":return Xh.OPEN;case"closed":return Xh.CLOSED;default:return null}},vA=function(s){return!s||!!s.text&&Ve("string",s.text)},Rv=function(s){function o(i,c){var u,p,m,v,b,y,S,O=this;return(O=s.call(this,i)||this).pollId=0,O.id=0,O.text=null,O.voteCount=0,O.createdBy=null,O.createdAt=0,O.updatedAt=0,O._lastVotedAt=0,O.pollId=(u=c.poll_id)!==null&&u!==void 0?u:0,O.id=(p=c.id)!==null&&p!==void 0?p:0,O.text=(m=c.text)!==null&&m!==void 0?m:null,O.voteCount=(v=c.vote_count)!==null&&v!==void 0?v:0,O.createdBy=(b=c.created_by)!==null&&b!==void 0?b:null,O.createdAt=(y=c.created_at)!==null&&y!==void 0?y:0,O.updatedAt=(S=c.updated_at)!==null&&S!==void 0?S:0,O}return ve(o,s),o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{vote_count:i.voteCount,poll_id:i.pollId,text:i.text,created_at:i.createdAt,id:i.id,created_by:i.createdBy,updated_at:i.updatedAt})))},o}(Rs),io=function(s){function o(i,c){var u,p,m,v,b,y,S,O,V,$,te,J,oe,xe=this;return(xe=s.call(this,i)||this).id=0,xe.title=null,xe.createdAt=0,xe.updatedAt=0,xe.closeAt=-1,xe.status=Xh.CLOSED,xe.messageId=0,xe.data=null,xe.voterCount=-1,xe.options=[],xe.createdBy=null,xe.allowUserSuggestion=!1,xe.allowMultipleVotes=!1,xe.votedPollOptionIds=[],xe.id=(u=c.id)!==null&&u!==void 0?u:0,xe.title=(p=c.title)!==null&&p!==void 0?p:null,xe.createdAt=(m=c.created_at)!==null&&m!==void 0?m:0,xe.updatedAt=(v=c.updated_at)!==null&&v!==void 0?v:0,xe.closeAt=(b=c.close_at)!==null&&b!==void 0?b:-1,xe.status=(y=m3(c.status))!==null&&y!==void 0?y:Xh.CLOSED,xe.messageId=(S=c.message_id)!==null&&S!==void 0?S:0,xe.data=(O=c.data)!==null&&O!==void 0?O:null,xe.voterCount=(V=c.voter_count)!==null&&V!==void 0?V:-1,xe.options=c.options?c.options.map(function(Ie){return new Rv(xe._iid,Ie)}):[],xe.createdBy=($=c.created_by)!==null&&$!==void 0?$:null,xe.allowUserSuggestion=(te=c.allow_user_suggestion)!==null&&te!==void 0&&te,xe.allowMultipleVotes=(J=c.allow_multiple_votes)!==null&&J!==void 0&&J,xe.votedPollOptionIds=(oe=c.voted_option_ids)!==null&&oe!==void 0?oe:[],xe}return ve(o,s),o.prototype._applyPollUpdatePayload=function(i){var c,u,p,m,v,b,y,S,O=this;this.title=(c=i.title)!==null&&c!==void 0?c:this.title,this.updatedAt=(u=i.updated_at)!==null&&u!==void 0?u:this.updatedAt,this.closeAt=(p=i.close_at)!==null&&p!==void 0?p:this.closeAt,this.status=(m=m3(i.status))!==null&&m!==void 0?m:this.status,this.data=(v=i.data)!==null&&v!==void 0?v:this.data,this.voterCount=(b=i.voter_count)!==null&&b!==void 0?b:this.voterCount,i.options&&(this.options=i.options.map(function(V){return new Rv(O._iid,V)}),this.votedPollOptionIds=i.options.filter(function(V){return V.vote_count>0}).map(function(V){return V.id})),this.allowUserSuggestion=(y=i.allow_user_suggestion)!==null&&y!==void 0?y:this.allowUserSuggestion,this.allowMultipleVotes=(S=i.allow_multiple_votes)!==null&&S!==void 0?S:this.allowMultipleVotes},o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{id:i.id,title:i.title,created_at:i.createdAt,updated_at:i.updatedAt,close_at:i.closeAt,status:i.status,message_id:i.messageId,data:i.data,voter_count:i.voterCount,options:i.options.map(function(c){return Rv.payloadify(c)}),created_by:i.createdBy,allow_user_suggestion:i.allowUserSuggestion,allow_multiple_votes:i.allowMultipleVotes,voted_option_ids:i.votedPollOptionIds})))},o.prototype.applyPollUpdateEvent=function(i){var c=i._payload.poll;return!(!c||this.id!==c.id||c.updated_at<this.updatedAt||(this._applyPollUpdatePayload(c),0))},o.prototype.applyPollVoteEvent=function(i){if(this.id!==i.pollId)return!1;var c=this.options,u=c.map(function(v){return v.id}),p=i._payload,m=Math.floor(p.ts/1e3);return p.updated_vote_counts.forEach(function(v){var b=u.indexOf(v.option_id);if(b>-1){var y=c[b];m>=y._lastVotedAt&&(y.voteCount=v.vote_count,y._lastVotedAt=m)}}),p.req_id&&p.voted_option_ids&&(this.votedPollOptionIds=p.voted_option_ids),typeof p.voter_count=="number"&&(this.voterCount=p.voter_count),!0},o.prototype.serialize=function(){return Av(this)},o}(Rs);(function(s){s.UNKNOWN="UNKNOWN",s.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",s.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",s.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",s.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",s.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",s.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",s.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",s.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",s.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",s.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",s.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",s.EVENT_CHANNEL_BANNED="EVENT_CHANNEL_BANNED",s.EVENT_CHANNEL_UNBANNED="EVENT_CHANNEL_UNBANNED",s.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",s.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",s.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",s.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",s.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",s.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",s.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",s.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",s.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",s.EVENT_CHANNEL_METADATA_CREATED="EVENT_CHANNEL_METADATA_CREATED",s.EVENT_CHANNEL_METADATA_UPDATED="EVENT_CHANNEL_METADATA_UPDATED",s.EVENT_CHANNEL_METADATA_DELETED="EVENT_CHANNEL_METADATA_DELETED",s.EVENT_CHANNEL_METACOUNTER_CREATED="EVENT_CHANNEL_METACOUNTER_CREATED",s.EVENT_CHANNEL_METACOUNTER_UPDATED="EVENT_CHANNEL_METACOUNTER_UPDATED",s.EVENT_CHANNEL_METACOUNTER_DELETED="EVENT_CHANNEL_METACOUNTER_DELETED",s.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",s.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",s.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",s.EVENT_PINNED_MESSAGE_UPDATED="EVENT_PINNED_MESSAGE_UPDATED",s.REQUEST_CHANNEL="REQUEST_CHANNEL",s.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",s.REFRESH_CHANNEL="REFRESH_CHANNEL",s.CHANNEL_LASTACCESSEDAT_UPDATED="CHANNEL_LASTACCESSEDAT_UPDATED",s.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",s.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS",s.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",s.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",s.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",s.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",s.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",s.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",s.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",s.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",s.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",s.REQUEST_MESSAGE="REQUEST_MESSAGE",s.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",s.EVENT_POLL_VOTED="EVENT_POLL_VOTED",s.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",s.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",s.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",s.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",s.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",s.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",s.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",s.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",s.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",s.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",s.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(Nr||(Nr={})),Le({},Nr);var af,qi=function(s){function o(i){var c=i.messages,u=i.source,p=i.isWebSocketEventComing,m=p!==void 0&&p,v=s.call(this)||this;return v.messages=c,v.source=u,v.isWebSocketEventComing=m,v}return ve(o,s),o}(Ti),gA=function(s){function o(i){var c=i.messageIds,u=i.source,p=i.isWebSocketEventComing,m=p!==void 0&&p,v=s.call(this)||this;return v.messageIds=c,v.source=u,v.isWebSocketEventComing=m,v}return ve(o,s),o}(Ti),tee=function(s){function o(i){var c=i.reqId,u=i.source,p=s.call(this)||this;return p.reqId=c,p.source=u,p}return ve(o,s),o}(Ti),bA=function(s){function o(i){var c=i.polls,u=i.source,p=s.call(this)||this;return p.polls=c,p.source=u,p}return ve(o,s),o}(Ti),yA=function(s){function o(i){var c=i.event,u=i.source,p=s.call(this)||this;return p.event=c,p.source=u,p}return ve(o,s),o}(Ti),v3=function(s){function o(i){var c=i.event,u=i.source,p=s.call(this)||this;return p.event=c,p.source=u,p}return ve(o,s),o}(Ti),Zh=function(){function s(o,i){var c;this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=o,this.limit=(c=i.limit)!==null&&c!==void 0?c:20}return Object.defineProperty(s.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),s.prototype._validate=function(){return Ve("number",this.limit)&&this.limit>0},s}(),uu=function(s){function o(i,c,u,p){var m=s.call(this,i,p)||this;return m.channelUrl=c,m.channelType=u,m}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("string",this.channelUrl)&&Lr(ur,this.channelType)},o}(Zh),ree=function(s){this.pollId=0,this.messageId=0,this.pollId=s.poll_id,this.messageId=s.message_id,this._payload=s},iee=function(s){function o(i){var c=i.title,u=i.optionTexts,p=i.data,m=i.allowUserSuggestion,v=i.allowMultipleVotes,b=i.closeAt,y=s.call(this)||this;return y.method=Dn.POST,y.path=Ro,y.params={title:c,options:u,data:p,allow_user_suggestion:m,allow_multiple_votes:v,close_at:b},y}return ve(o,s),o}(Un),aee=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.poll=new io(i,c),u}return ve(o,s),o}(qn),see=function(s){function o(i){var c=i.channelUrl,u=i.channelType,p=i.pollId,m=s.call(this)||this;return m.method=Dn.GET,m.path="".concat(Ro,"/").concat(encodeURIComponent(p)),m.params={channel_url:c,channel_type:u},m}return ve(o,s),o}(Un),oee=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.poll=new io(i,c),u}return ve(o,s),o}(qn),lee=function(s){function o(i){var c=i.channelUrl,u=i.channelType,p=i.pollId,m=i.pollOptionId,v=s.call(this)||this;return v.method=Dn.GET,v.path="".concat(Ro,"/").concat(encodeURIComponent(p),"/options/").concat(encodeURIComponent(m)),v.params={channel_url:c,channel_type:u},v}return ve(o,s),o}(Un),cee=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.pollOption=new Rv(i,c),u}return ve(o,s),o}(qn),dee=function(s){function o(i){var c=i.channelType,u=i.channelUrl,p=i.timestamp,m=i.token,v=s.call(this)||this;return v.method=Dn.GET,v.path="".concat(yr(c),"/").concat(encodeURIComponent(u),"/polls/changelogs"),v.params=ct({change_ts:p,token:m}),v}return ve(o,s),o}(Un),uee=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.updatedPolls=c.updated.map(function(p){return function(m,v){return new io(m,v)}(i,p)}),u.deletedPollIds=c.deleted.map(function(p){return p}),u.hasMore=c.has_more,u.nextToken=c.next,u}return ve(o,s),o}(qn),hee={title:"",optionTexts:[],data:void 0,allowUserSuggestion:void 0,allowMultipleVotes:void 0,closeAt:-1},EA=function(s){return Ve("string",s.title)&&(o=s.optionTexts,ar("string",o)&&o.every(function(i){return i.trim()!==""}))&&vA(s.data)&&Ve("boolean",s.allowUserSuggestion,!0)&&Ve("boolean",s.allowMultipleVotes,!0)&&Ve("number",s.closeAt,!0);var o},pee={channelUrl:"",channelType:ur.BASE,pollId:0,pollOptionId:0},wA=function(s){return Ve("string",s.channelUrl)&&s.channelUrl!==""&&Lr(ur,s.channelType)&&Ve("number",s.pollId)&&s.pollId>0&&Ve("number",s.pollOptionId)&&s.pollOptionId>0},fee={channelUrl:"",channelType:ur.BASE,pollId:0},xA=function(s){return Ve("string",s.channelUrl)&&s.channelUrl!==""&&Lr(ur,s.channelType)&&Ve("number",s.pollId)},SA={},g3=function(){function s(o,i){var c=i.sdkState,u=i.dispatcher,p=i.sessionManager,m=i.requestQueue,v=i.logger;this._iid=o,this._sdkState=c,this._sessionManager=p,this._requestQueue=m,this._dispatcher=u,this._logger=v,SA[o]=this}return s.of=function(o){return SA[o]},s.prototype.buildPollFromSerializedData=function(o){var i=rf(o);return new io(this._iid,io.payloadify(i))},s.prototype.get=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return Pn(xA(o)).throw($e.invalidParameters),i=new see(Le({},o)),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(oee).poll]}})})},s.prototype.create=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return Pn(EA(o)).throw($e.invalidParameters),i=new iee(Le({},o)),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(aee).poll]}})})},s.prototype.getOption=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return Pn(wA(o)).throw($e.invalidParameters),i=new lee(Le({},o)),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(cee).pollOption]}})})},s.prototype.getPollChangeLogs=function(o,i,c,u){return u===void 0&&(u=Nr.SYNC_POLL_CHANGELOGS),Z(this,void 0,void 0,function(){var p,m,v,b,y,S,O;return X(this,function(V){switch(V.label){case 0:return p=new dee(_t({channelType:i,channelUrl:o,timestamp:typeof c=="number"?c:null,token:typeof c=="string"?c:null})),[4,this._requestQueue.send(p)];case 1:return m=V.sent(),v=m.as(uee),b=v.updatedPolls,y=v.deletedPollIds,S=v.hasMore,O=v.nextToken,b.length>0&&this._dispatcher.dispatch(new bA({polls:b,source:u})),[2,{updatedPolls:b,deletedPollIds:y,hasMore:S,token:O}]}})})},s}(),_ee=function(s){function o(i){var c=i.channelUrl,u=i.channelType,p=i.token,m=i.limit,v=s.call(this)||this;return v.method=Dn.GET,v.path=Ro,v.params={channel_url:c,channel_type:u,token:p,limit:m},v}return ve(o,s),o}(Un),mee=function(s){function o(i,c){var u,p=this;return(p=s.call(this,i,c)||this).polls=((u=c.polls)!==null&&u!==void 0?u:[]).map(function(m){return new io(i,m)}),p.token=c.next,p}return ve(o,s),o}(qn),TA=function(s){function o(i,c){return s.call(this,i,c.channelUrl,c.channelType,c)||this}return ve(o,s),o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid).requestQueue,c=new _ee(Le(Le({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(mee),m=p.polls,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,m];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(uu),vee=function(s){function o(i){var c=i.channelUrl,u=i.channelType,p=i.pollId,m=i.pollOptionId,v=i.token,b=i.limit,y=s.call(this)||this;return y.method=Dn.GET,y.path="".concat(Ro,"/").concat(encodeURIComponent(p),"/options/").concat(encodeURIComponent(m),"/voters"),y.params={channel_url:c,channel_type:u,token:v,limit:b},y}return ve(o,s),o}(Un),gee=function(s){function o(i,c){var u,p=this;return(p=s.call(this,i,c)||this).voters=((u=c.voters)!==null&&u!==void 0?u:[]).map(function(m){return new Ft(i,m)}),p.token=c.next,p}return ve(o,s),o}(qn),CA=function(s){function o(i,c){var u=s.call(this,i,c.channelUrl,c.channelType,c)||this;return u.pollId=c.pollId,u.pollOptionId=c.pollOptionId,u}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("number",this.pollId)&&Ve("number",this.pollOptionId)},o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid).requestQueue,c=new vee(Le(Le({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(gee),m=p.voters,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,m];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(uu),kA=function(s){function o(i){var c=s.call(this)||this;if(c.method=Dn.POST,c.path="".concat(IZ),c.params=ct({file:i.file,channel_url:i.channelUrl}),i.thumbnailSizes)for(var u=0;u<i.thumbnailSizes.length;u++){var p=i.thumbnailSizes[u],m=p.maxWidth,v=p.maxHeight;c.params["thumbnail".concat(u+1)]="".concat(m,",").concat(v)}return c.requestId=i.requestId,c}return ve(o,s),o}(Un),IA=function(s){function o(i,c){var u,p,m,v=this;return(v=s.call(this,i,c)||this).url=c.url,v.fileSize=(u=c.file_size)!==null&&u!==void 0?u:0,v.thumbnailSizes=(p=c.thumbnails)!==null&&p!==void 0?p:[],v.requireAuth=(m=c.require_auth)!==null&&m!==void 0&&m,v}return ve(o,s),o}(qn),b3=function(s){function o(i,c){var u,p,m,v=this;return(v=s.call(this,i)||this).replyCount=0,v.lastRepliedAt=0,v.updatedAt=0,v.replyCount=(u=c.reply_count)!==null&&u!==void 0?u:0,v.mostRepliedUsers=c.most_replies&&ar("object",c.most_replies)?c.most_replies.map(function(b){return new Ft(v._iid,b)}):[],v.lastRepliedAt=(p=c.last_replied_at)!==null&&p!==void 0?p:0,v.updatedAt=(m=c.updated_at)!==null&&m!==void 0?m:0,v}return ve(o,s),o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{reply_count:i.replyCount,most_replies:Array.isArray(i.mostRepliedUsers)?i.mostRepliedUsers.map(function(c){return Ft.payloadify(c)}):[],last_replied_at:i.lastRepliedAt,updated_at:i.updatedAt})))},o}(Rs);(function(s){s.ADD="add",s.DELETE="delete"})(af||(af={}));var NA,Wc,y3=function(s){this.messageId=0,this.operation=null,this.updatedAt=0;var o=Ve("string",s.msg_id)?parseInt(s.msg_id):s.msg_id,i=s.user_id,c=s.operation?s.operation.toLowerCase():null,u=s.reaction,p=s.updated_at;o&&Ve("string",i)&&Ve("string",c)&&Lr(af,c)&&Ve("string",u)&&u&&Ve("number",p)&&(this.messageId=o,this.userId=i,this.key=u,this.operation=c,this.updatedAt=p)},Mv=function(){function s(o){var i,c,u,p=o.key,m=(u=Yt([],Mt(o.user_ids),!1))!==null&&u!==void 0?u:[],v=o.updated_at;Ve("string",p)&&p&&ar("string",m)&&m.length>0&&Ve("number",v)&&(this.key=p,this.userIds=m,this.updatedAt=v);var b={};try{for(var y=gt(this.userIds),S=y.next();!S.done;S=y.next())b[S.value]=this.updatedAt}catch(O){i={error:O}}finally{try{S&&!S.done&&(c=y.return)&&c.call(y)}finally{if(i)throw i.error}}this._version=b}return Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),s.payloadify=function(o){return ct(_t({key:o.key,user_ids:o.userIds,updated_at:o.updatedAt}))},s.prototype.applyEvent=function(o){if(o.key===this.key&&this.updatedAt<=o.updatedAt){if(!this._version[o.userId]||this._version[o.userId]<=o.updatedAt){var i=this.userIds.indexOf(o.userId);switch(o.operation){case af.ADD:i<0&&this.userIds.push(o.userId);break;case af.DELETE:i>=0&&this.userIds.splice(i,1)}this._version[o.userId]=o.updatedAt}this.updatedAt=Math.max(this.updatedAt,o.updatedAt)}},s}(),Ms=function(){function s(o){this.key=o.key,this.value=ar("string",o.value)?Yt([],Mt(o.value),!1):[]}return s.payloadify=function(o){var i;return ct(_t({key:o.key,value:(i=o.value)!==null&&i!==void 0?i:[]}))},s}(),AA=function(){function s(o){this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=o.url,o.secure_url&&(this.secureUrl=o.secure_url),o.type&&(this.type=o.type),o.width&&(this.width=o.width),o.height&&(this.height=o.height),o.alt&&(this.alt=o.alt)}return s.payloadify=function(o){var i,c;return ct(_t({url:o.url,secure_url:o.secureUrl,type:o.type,width:(i=o.width)!==null&&i!==void 0?i:0,height:(c=o.height)!==null&&c!==void 0?c:0,alt:o.alt}))},s}(),OA=function(){function s(o){this.title=null,this.url=null,this.description=null,this.defaultImage=null,o["og:title"]&&(this.title=o["og:title"]),o["og:url"]&&(this.url=o["og:url"]),o["og:description"]&&(this.description=o["og:description"]),o["og:image"]&&(this.defaultImage=new AA(o["og:image"]))}return s.payloadify=function(o){return ct(_t({"og:title":o.title,"og:url":o.url,"og:description":o.description,"og:image":o.defaultImage?AA.payloadify(o.defaultImage):null}))},s}(),pl=function(){function s(o){var i,c;this.volume=0,this.name=(i=o.name)!==null&&i!==void 0?i:"default",this.volume=(c=o.volume)!==null&&c!==void 0?c:1}return s.prototype.serialize=function(){return{name:this.name,volume:this.volume}},s.payloadify=function(o){return ct(_t({name:o.name,volume:o.volume}))},s}(),Jh=function(s){function o(i,c){var u,p=this;return(p=s.call(this,i,c)||this).isBlockedByMe=!1,p.role=Lr(uv,c.role)?c.role:uv.NONE,p.isBlockedByMe=(u=c.is_blocked_by_me)!==null&&u!==void 0&&u,p}return ve(o,s),o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{role:i.role,is_blocked_by_me:i.isBlockedByMe})))},o}(Ft);(function(s){s.PENDING="pending",s.SENT="sent",s.FAILED="failed",s.CANCELED="canceled"})(NA||(NA={})),function(s){s.PENDING="pending",s.IN_QUEUE="in_queue",s.SENT="sent",s.FAILED="failed",s.CANCELED="canceled",s.REMOVED="removed"}(Wc||(Wc={}));var Ci,RA=function(s){switch(s){case Jr.BASE:return"";case Jr.USER:return"MESG";case Jr.FILE:return"FILE";case Jr.ADMIN:return"ADMM"}},Ql=function(s){function o(i,c){var u,p,m,v,b,y,S,O,V,$,te,J,oe,xe,Ie,Ue,He=this;(He=s.call(this,i)||this).channelType=ur.BASE,He.parentMessage=null,He.silent=!1,He.isOperatorMessage=!1,He.messageType=Jr.BASE,He.mentionType=null,He.threadInfo=null,He.reactions=[],He.metaArrays=[],He.appleCriticalAlertOptions=null,He.createdAt=0,He.updatedAt=0,He.scheduledInfo=null,He.extendedMessage={},He._isContinuousMessages=!1,He._scheduledStatus=null,He.messageId=(p=(u=c.msg_id)!==null&&u!==void 0?u:c.message_id)!==null&&p!==void 0?p:0,He.channelUrl=c.channel_url,He.channelType=Lr(ur,c.channel_type)?c.channel_type:ur.GROUP,c.channel&&(c.channel.channel_url&&(He.channelUrl=c.channel.channel_url),c.channel.channel_type&&(He.channelType=c.channel.channel_type)),He.parentMessageId=(m=typeof c.parent_message_id=="string"?parseInt(c.parent_message_id):c.parent_message_id)!==null&&m!==void 0?m:0,He.data=(v=c.data)!==null&&v!==void 0?v:"",He.customType=(b=c.custom_type)!==null&&b!==void 0?b:"",He.mentionType=Lr(Oa,c.mention_type)?c.mention_type:null,He.mentionedUsers=c.mentioned_users?c.mentioned_users.map(function(We){return new Ft(He._iid,We)}):null,He.mentionedUserIds=(y=c.mentioned_user_ids)!==null&&y!==void 0?y:null,He.mentionedUsers&&!He.mentionedUserIds&&(He.mentionedUserIds=He.mentionedUsers.map(function(We){return We.userId})),He.mentionedMessageTemplate=(S=c.mentioned_message_template)!==null&&S!==void 0?S:"",He.threadInfo=c.thread_info?new b3(He._iid,c.thread_info):null,He.reactions=c.reactions?c.reactions.map(function(We){return new Mv(We)}):[];var Ee=(O=c.metaarray)!==null&&O!==void 0?O:{},we=(V=c.metaarray_key_order)!==null&&V!==void 0?V:Object.keys(Ee).sort(function(We,In){return We.localeCompare(In)});He.metaArrays=[];for(var nn=0;nn<we.length;nn++){var Xe=we[nn];He.metaArrays.push(new Ms({key:Xe,value:Ee[Xe]||[]}))}return c.sorted_metaarray&&(He.metaArrays=c.sorted_metaarray.map(function(We){return new Ms(We)})),He.ogMetaData=c.og_tag?new OA(c.og_tag):null,He.silent=($=c.silent)!==null&&$!==void 0&&$,He.isOperatorMessage=(te=c.is_op_msg)!==null&&te!==void 0&&te,He.appleCriticalAlertOptions=c.apple_critical_alert_options?new pl(c.apple_critical_alert_options):null,He.createdAt=(oe=(J=c.created_at)!==null&&J!==void 0?J:c.ts)!==null&&oe!==void 0?oe:0,He.updatedAt=(xe=c.updated_at)!==null&&xe!==void 0?xe:0,typeof c.scheduled_message_id=="number"&&typeof c.scheduled_at=="number"&&c.scheduled_status&&(He.scheduledInfo={scheduledMessageId:c.scheduled_message_id,scheduledAt:c.scheduled_at},He._scheduledStatus=c.scheduled_status),He.extendedMessage=(Ie=c.extended_message)!==null&&Ie!==void 0?Ie:{},He._isContinuousMessages=(Ue=c.is_continuous_messages)!==null&&Ue!==void 0&&Ue,He}return ve(o,s),o.payloadify=function(i){var c,u,p,m;return ct(_t(Le(Le({},s.payloadify.call(this,i)),{channel_url:i.channelUrl,channel_type:i.channelType,message_id:i.messageId,type:RA(i.messageType),parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,mentioned_user_ids:i.mentionedUserIds,mentioned_users:(c=i.mentionedUsers)===null||c===void 0?void 0:c.map(function(v){return Ft.payloadify(v)}),mentioned_message_template:i.mentionedMessageTemplate,thread_info:i.threadInfo?b3.payloadify(i.threadInfo):null,reactions:i.reactions.map(function(v){return Mv.payloadify(v)}),sorted_metaarray:(u=i.metaArrays)===null||u===void 0?void 0:u.map(function(v){return Ms.payloadify(v)}),og_tag:i.ogMetaData?OA.payloadify(i.ogMetaData):null,silent:i.silent,is_op_msg:i.isOperatorMessage,apple_critical_alert_options:i.appleCriticalAlertOptions?pl.payloadify(i.appleCriticalAlertOptions):null,created_at:i.createdAt,updated_at:i.updatedAt,scheduled_message_id:(p=i.scheduledInfo)===null||p===void 0?void 0:p.scheduledMessageId,scheduled_at:(m=i.scheduledInfo)===null||m===void 0?void 0:m.scheduledAt,scheduled_status:i._scheduledStatus,extended_message:i.extendedMessage})))},o._getParentMessageInfoPayload=function(i){return ct(_t({type:RA(i.messageType),ts:i.createdAt,user:i.sender?Jh.payloadify(i.sender):null,message:i.message,file:{url:i.plainUrl,name:i.name,type:i.type,require_auth:i.requireAuth}}))},o.prototype.isIdentical=function(i){return this.messageId===i.messageId},o.prototype.isEqual=function(i){return c5(this,i)},o.prototype.isUserMessage=function(){return this.messageType===Jr.USER},o.prototype.isFileMessage=function(){return this.messageType===Jr.FILE&&!Object.prototype.hasOwnProperty.call(this,"fileInfoList")},o.prototype.isMultipleFilesMessage=function(){return this.messageType===Jr.FILE&&Object.prototype.hasOwnProperty.call(this,"fileInfoList")},o.prototype.isAdminMessage=function(){return this.messageType===Jr.ADMIN},o.prototype.serialize=function(){return Av(this)},o.prototype.getMetaArraysByKeys=function(i){return this.metaArrays.filter(function(c){return i.includes(c.key)})},o.prototype.applyThreadInfoUpdateEvent=function(i){return this.messageId===i.targetMessageId&&(this.threadInfo=i.threadInfo),!1},o.prototype.applyReactionEvent=function(i){if(this.messageId===i.messageId){for(var c=!1,u=0;u<this.reactions.length;u++)if(this.reactions[u].key===i.key){this.reactions[u].applyEvent(i),this.reactions[u].isEmpty&&this.reactions.splice(u,1),c=!0;break}c||i.operation!=="add"||this.reactions.push(new Mv(Mv.payloadify({key:i.key,userIds:[i.userId],updatedAt:i.updatedAt})))}},o.prototype.applyParentMessage=function(i){if(!this.parentMessage)return this.parentMessage=i,!0;if(this.parentMessageId===i.messageId){var c=this.parentMessage.updatedAt;if(i.updatedAt>=c)return this.parentMessage=i,!0}return!1},o}(Rs),hu=function(s){function o(i,c){var u,p,m,v,b=this;if((b=s.call(this,i,c)||this).reqId="",b.replyToChannel=!1,b.errorCode=0,b.sender=c.user?new Jh(b._iid,c.user):c.sender_id,b.reqId=(p=(u=c.req_id)!==null&&u!==void 0?u:c.request_id)!==null&&p!==void 0?p:"",b.replyToChannel=(m=c.is_reply_to_channel)!==null&&m!==void 0&&m,c.request_state&&Lr(Wr,c.request_state)&&(b.sendingStatus=c.request_state),!b.sendingStatus)if(b.messageId>0)b.sendingStatus=Wr.SUCCEEDED;else if(b.scheduledInfo)switch(c.scheduled_status&&(b._scheduledStatus=c.scheduled_status),c.scheduled_status){case Wc.SENT:case Wc.IN_QUEUE:b.sendingStatus=Wr.SUCCEEDED;break;case Wc.PENDING:b.sendingStatus=Wr.SCHEDULED;break;case Wc.FAILED:case Wc.REMOVED:b.sendingStatus=Wr.FAILED;break;case Wc.CANCELED:b.sendingStatus=Wr.CANCELED}else b.sendingStatus=Wr.PENDING;return b.errorCode=(v=c.error_code)!==null&&v!==void 0?v:0,b}return ve(o,s),o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{user:Jh.payloadify(i.sender),req_id:i.reqId,is_reply_to_channel:i.replyToChannel,request_state:i.sendingStatus,error_code:i.errorCode})))},Object.defineProperty(o.prototype,"isResendable",{get:function(){return this.sendingStatus===Wr.FAILED&&function(i){return i>0&&wZ.indexOf(i)>=0}(this.errorCode)},enumerable:!1,configurable:!0}),o.prototype.isIdentical=function(i){return this.messageId>0&&i.messageId>0?this.messageId===i.messageId:this.reqId===i.reqId},o}(Ql),sf=function(){function s(o){var i,c;this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=o.url,this.width=o.width,this.height=o.height,this.realWidth=(i=o.real_width)!==null&&i!==void 0?i:o.width,this.realHeight=(c=o.real_height)!==null&&c!==void 0?c:o.height}return s.payloadify=function(o){return ct(_t({url:"",width:o.maxWidth,height:o.maxHeight,real_width:0,real_height:0}))},Object.defineProperty(s.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),s}(),of={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ks.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},Dv=function(s){return Ve("number",s.prevResultSize)&&Ve("number",s.nextResultSize)&&Ve("boolean",s.isInclusive)&&Ve("boolean",s.reverse)&&Ve("string",s.messageTypeFilter)&&Lr(ks,s.messageTypeFilter)&&ar("string",s.customTypesFilter,!0)&&ar("string",s.senderUserIdsFilter,!0)&&Ve("boolean",s.includeMetaArray)&&Ve("boolean",s.includeReactions)&&Ve("boolean",s.includeParentMessageInfo)},lf=function(s){function o(i,c){var u,p,m,v,b=this;if((b=s.call(this,i,c)||this).translations={},b.message=(u=c.message)!==null&&u!==void 0?u:"",b.messageType=Jr.ADMIN,b.translations=(p=c.translations)!==null&&p!==void 0?p:{},c.parent_message_info){var y=c.parent_message_info;b.parentMessage=Yl(i,ct(_t(Le(Le({},y),{message_id:b.parentMessageId,channel_url:b.channelUrl,channel_type:b.channelType,file:y.file,url:(m=y.file)===null||m===void 0?void 0:m.url,require_auth:(v=y.file)===null||v===void 0?void 0:v.require_auth}))))}return b}return ve(o,s),o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{message:i.message,translations:i.translations,parent_message_info:i.parentMessage?s._getParentMessageInfoPayload.call(this,i.parentMessage):null})))},o.prototype.getThreadedMessagesByTimestamp=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Le(Le({},of),c),Pn(this.messageId>0&&Ve("number",i)&&Dv(u)).throw($e.invalidParameters),[4,da.of(this._iid).getThreadedMessagesByTimestamp(this,i,u)];case 1:return[2,p.sent()]}})})},o}(Ql),MA=function(){function s(o){var i,c;this.detail={},this.type=(i=o.type)!==null&&i!==void 0?i:"",this.vendor=(c=o.vendor)!==null&&c!==void 0?c:"",o.detail&&Ve("object",o.detail)&&!Array.isArray(o.detail)&&(this.detail=o.detail)}return s.payloadify=function(o){return ct(_t({type:o.type,vendor:o.vendor,detail:o.detail}))},s}(),Ka=function(s){function o(i,c){var u,p,m,v,b,y,S,O=this;if((O=s.call(this,i,c)||this).message="",O.messageParams=null,O.translations={},O.translationTargetLanguages=[],O.messageSurvivalSeconds=-1,O.plugins=[],O._poll=null,O.message=c.message,O.messageType=Jr.USER,O.translations=(m=c.translations)!==null&&m!==void 0?m:{},O.translationTargetLanguages=(v=c.target_langs)!==null&&v!==void 0?v:[],Object.keys(O.translations).length===0&&O.translationTargetLanguages.length>0)try{for(var V=gt(O.translationTargetLanguages),$=V.next();!$.done;$=V.next()){var te=$.value;O.translations[te]=""}}catch(oe){u={error:oe}}finally{try{$&&!$.done&&(p=V.return)&&p.call(V)}finally{if(u)throw u.error}}if(O.messageSurvivalSeconds=(b=c.message_survival_seconds)!==null&&b!==void 0?b:-1,O.plugins=c.plugins?c.plugins.map(function(oe){return new MA(oe)}):[],O._poll=c.poll?new io(O._iid,c.poll):null,c.parent_message_info){var J=c.parent_message_info;O.parentMessage=Yl(i,ct(_t(Le(Le({},J),{created_at:J.ts,message_id:O.parentMessageId,channel_url:O.channelUrl,channel_type:O.channelType,file:J.file,url:(y=J.file)===null||y===void 0?void 0:y.url,require_auth:(S=J.file)===null||S===void 0?void 0:S.require_auth}))))}return O}return ve(o,s),o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{message:i.message,translations:i.translations,message_survival_seconds:i.messageSurvivalSeconds,plugins:i.plugins.map(function(c){return MA.payloadify(c)}),poll:i._poll?io.payloadify(i._poll):null,parent_message_info:i.parentMessage?s._getParentMessageInfoPayload.call(this,i.parentMessage):null})))},o.prototype.getThreadedMessagesByTimestamp=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Le(Le({},of),c),Pn(this.messageId>0&&Ve("number",i)&&Dv(u)).throw($e.invalidParameters),[4,da.of(this._iid).getThreadedMessagesByTimestamp(this,i,u)];case 1:return[2,p.sent()]}})})},o.prototype.applyPoll=function(i){return!(this._poll&&this._poll.id===i.id&&this._poll.updatedAt>i.updatedAt||(this._poll=i,0))},Object.defineProperty(o.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),o}(hu),DA=function(s){function o(i,c){var u,p,m,v,b,y=this;(y=s.call(this,i)||this).plainUrl="",y.fileName=null,y.mimeType=null,y.fileSize=0,y.thumbnails=[],y._requireAuth=!1,y.plainUrl=(u=c.url)!==null&&u!==void 0?u:"",y.fileName=(p=c.file_name)!==null&&p!==void 0?p:null,y.mimeType=(m=c.file_type)!==null&&m!==void 0?m:null,y.fileSize=(v=c.file_size)!==null&&v!==void 0?v:0,y._requireAuth=(b=c.require_auth)!==null&&b!==void 0&&b;var S=Ze.of(y._iid).sessionManager;return y.thumbnails=c.thumbnails?c.thumbnails.map(function(O){return new sf(Le(Le({},O),{url:"".concat(O.url.split("?auth=")[0]).concat(y._requireAuth?"?auth=".concat(S.ekey):"")}))}):[],y}return ve(o,s),o.payloadify=function(i){var c;return ct(_t({url:i.plainUrl,file_name:i.fileName,file_type:i.mimeType,file_size:i.fileSize,thumbnails:(c=i.thumbnails)===null||c===void 0?void 0:c.map(function(u){return{url:u.url,width:u.width,height:u.height,real_width:u.realWidth,real_height:u.realHeight}}),require_auth:i._requireAuth}))},Object.defineProperty(o.prototype,"url",{get:function(){var i=Ze.of(this._iid).sessionManager;return this._requireAuth?"".concat(this.plainUrl,"?auth=").concat(i.ekey):this.plainUrl},enumerable:!1,configurable:!0}),o}(Rs),ao=function(s){function o(i,c){var u,p,m,v,b,y=this;if((y=s.call(this,i,c)||this).messageParams=null,y.fileInfoList=[],y.messageSurvivalSeconds=-1,y.messageType=Jr.FILE,y.fileInfoList=(p=(u=c.files)===null||u===void 0?void 0:u.map(function(O){return new DA(i,O)}))!==null&&p!==void 0?p:[],y.messageSurvivalSeconds=(m=c.message_survival_seconds)!==null&&m!==void 0?m:-1,c.parent_message_info){var S=c.parent_message_info;y.parentMessage=Yl(i,ct(_t(Le(Le({},S),{created_at:S.ts,message_id:y.parentMessageId,channel_url:y.channelUrl,channel_type:y.channelType,file:S.file,url:(v=S.file)===null||v===void 0?void 0:v.url,require_auth:(b=S.file)===null||b===void 0?void 0:b.require_auth}))))}return y}return ve(o,s),o.prototype.getThreadedMessagesByTimestamp=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Le(Le({},of),c),Pn(this.messageId>0&&Ve("number",i)&&Dv(u)).throw($e.invalidParameters),[4,da.of(this._iid).getThreadedMessagesByTimestamp(this,i,u)];case 1:return[2,p.sent()]}})})},o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{files:i.fileInfoList&&i.fileInfoList&&Array.isArray(i.fileInfoList)?i.fileInfoList.map(function(c){return DA.payloadify(c)}):null,message_survival_seconds:i.messageSurvivalSeconds,parent_message_info:i.parentMessage?s._getParentMessageInfoPayload.call(this,i.parentMessage):null})))},o._isMultipleFilesMessagePayload=function(i){var c=i.files;return Array.isArray(c)&&c.length>=2},o._isMultipleFilesMessageSerializedData=function(i){var c=i.fileInfoList;return Array.isArray(c)},o}(hu),Yl=function(s,o){switch(o.type){case"MESG":return new Ka(s,o);case"FILE":return ao._isMultipleFilesMessagePayload(o)?new ao(s,o):new ki(s,o);case"ADMM":case"BRDM":return new lf(s,o)}throw $e.unknown},ki=function(s){function o(i,c){var u,p,m,v,b,y,S,O,V,$,te,J,oe,xe,Ie=this;(Ie=s.call(this,i,c)||this).messageParams=null,Ie.plainUrl="",Ie.requireAuth=!1,Ie.thumbnails=[],Ie.messageSurvivalSeconds=-1,Ie.messageType=Jr.FILE;var Ue=c.file;Ie.plainUrl=((p=(u=Ue==null?void 0:Ue.url)!==null&&u!==void 0?u:c.url)!==null&&p!==void 0?p:"").split("?auth=")[0],Ie.name=(v=(m=Ue==null?void 0:Ue.name)!==null&&m!==void 0?m:c.name)!==null&&v!==void 0?v:"File",Ie.size=(y=(b=Ue==null?void 0:Ue.size)!==null&&b!==void 0?b:c.size)!==null&&y!==void 0?y:0,Ie.data=(O=(S=Ue==null?void 0:Ue.data)!==null&&S!==void 0?S:c.custom)!==null&&O!==void 0?O:"",Ie.type=Ue?(V=Ue.type)!==null&&V!==void 0?V:"":($=c.type)!==null&&$!==void 0?$:"";var He=Ze.of(Ie._iid).sessionManager;if(Ie.requireAuth=(te=c.require_auth)!==null&&te!==void 0&&te,Ie.thumbnails=c.thumbnails?c.thumbnails.map(function(we){return new sf(Le(Le({},we),{url:"".concat(we.url.split("?auth=")[0]).concat(Ie.requireAuth?"?auth=".concat(He.ekey):"")}))}):[],Ie.messageSurvivalSeconds=(J=c.message_survival_seconds)!==null&&J!==void 0?J:-1,c.parent_message_info){var Ee=c.parent_message_info;Ie.parentMessage=Yl(i,ct(_t(Le(Le({},Ee),{created_at:Ee.ts,message_id:Ie.parentMessageId,channel_url:Ie.channelUrl,channel_type:Ie.channelType,file:Ee.file,url:(oe=Ee.file)===null||oe===void 0?void 0:oe.url,require_auth:(xe=Ee.file)===null||xe===void 0?void 0:xe.require_auth}))))}return Ie}return ve(o,s),o.payloadify=function(i){var c;return ct(_t(Le(Le({},s.payloadify.call(this,i)),{url:i.plainUrl,require_auth:i.requireAuth,file:{name:i.name,size:i.size,type:i.type,data:i.data},thumbnails:(c=i.thumbnails)===null||c===void 0?void 0:c.map(function(u){return{url:u.url,width:u.width,height:u.height,real_width:u.realWidth,real_height:u.realHeight}}),message_survival_seconds:i.messageSurvivalSeconds,parent_message_info:i.parentMessage?s._getParentMessageInfoPayload.call(this,i.parentMessage):null})))},Object.defineProperty(o.prototype,"url",{get:function(){var i=Ze.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(i.ekey):this.plainUrl},enumerable:!1,configurable:!0}),o.prototype.getThreadedMessagesByTimestamp=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Le(Le({},of),c),Pn(this.messageId>0&&Ve("number",i)&&Dv(u)).throw($e.invalidParameters),[4,da.of(this._iid).getThreadedMessagesByTimestamp(this,i,u)];case 1:return[2,p.sent()]}})})},o}(hu),bee=function(s){function o(i){var c,u,p,m=[];return i.mentionType===Oa.USERS&&(i.mentionedUserIds?m=i.mentionedUserIds:i.mentionedUsers&&(m=i.mentionedUsers.map(function(v){return v.userId}))),s.call(this,{code:"FILE",ackRequired:!0,payload:ct(_t({channel_url:i.channelUrl,files:i.files?UA(i.files):null,url:i.url,name:(c=i.fileName)!==null&&c!==void 0?c:"",type:(u=i.mimeType)!==null&&u!==void 0?u:"",size:(p=i.fileSize)!==null&&p!==void 0?p:0,custom:i.data,custom_type:i.customType,thumbnails:i.thumbnailSizes,require_auth:i.requireAuth,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:m,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==zc.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions?pl.payloadify(i.appleCriticalAlertOptions):null,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId?i.parentMessageId:null,req_id:i.reqId,pin_message:i.isPinnedMessage}))})||this}return ve(o,s),o}(to),yee=function(s){function o(i){var c,u,p=this;p=s.call(this)||this;var m=[];return i.mentionType===Oa.USERS&&(i.mentionedUserIds?m=i.mentionedUserIds:i.mentionedUsers&&(m=i.mentionedUsers.map(function(v){return v.userId}))),p.method=Dn.POST,p.path="".concat(yr(i.channelType),"/").concat(encodeURIComponent(i.channelUrl),"/messages"),p.params=ct(_t({message_type:Jr.FILE,user_id:i.userId,files:i.files?UA(i.files):null,url:i.fileUrl,mention_type:i.mentionType,mentioned_user_ids:m,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,data:i.data,custom_type:i.customType,thumbnails:(c=i.thumbnailSizes)===null||c===void 0?void 0:c.map(function(v){return sf.payloadify(v)}),require_auth:i.requireAuth,sorted_metaarray:(u=i.metaArrays)===null||u===void 0?void 0:u.map(function(v){return Ms.payloadify(v)}),push_option:i.pushNotificationDeliveryOption,parent_message_id:i.parentMessageId?i.parentMessageId:null,apple_critical_alert_options:i.appleCriticalAlertOptions?pl.payloadify(i.appleCriticalAlertOptions):null,reply_to_channel:i.isReplyToChannel,req_id:i.reqId,pin_message:i.isPinnedMessage})),p}return ve(o,s),o}(Un),LA=function(s){function o(i,c,u){var p,m,v,b,y=this;(y=s.call(this,i,"FILE",u)||this).message=u.files&&u.files.length>=2?new ao(i,u):new ki(i,u);var S=Ze.of(i).sdkState;return y.isMentioned=qh(y.message.mentionType,(v=(p=y.message.mentionedUserIds)!==null&&p!==void 0?p:(m=y.message.mentionedUsers)===null||m===void 0?void 0:m.map(function(O){return O.userId}))!==null&&v!==void 0?v:[],S.userId),y.forceUpdateLastMessage=(b=u.force_update_last_message)!==null&&b!==void 0&&b,y}return ve(o,s),o}(Qr),Eee=function(s){function o(i,c){var u,p,m,v,b=this;(b=s.call(this,i,c)||this).message=c.files&&c.files.length>=2?new ao(i,c):new ki(i,c);var y=Ze.of(i).sdkState;return b.isMentioned=qh(b.message.mentionType,(m=(u=b.message.mentionedUserIds)!==null&&u!==void 0?u:(p=b.message.mentionedUsers)===null||p===void 0?void 0:p.map(function(S){return S.userId}))!==null&&m!==void 0?m:[],y.userId),b.forceUpdateLastMessage=(v=c.force_update_last_message)!==null&&v!==void 0&&v,b}return ve(o,s),o}(qn);function UA(s){return s.map(function(o){var i,c;return ct(_t({url:o.fileUrl,file_name:o.fileName,file_type:o.mimeType,file_size:o.fileSize,thumbnails:(i=o.thumbnailSizes)===null||i===void 0?void 0:i.map(function(u){return sf.payloadify(u)}),require_auth:(c=o._uploadedMetaData)===null||c===void 0?void 0:c.requireAuth}))})}(function(s){s[s.PENDING=0]="PENDING",s[s.UPLOADING=1]="UPLOADING",s[s.UPLOADED=2]="UPLOADED",s[s.SENDING=3]="SENDING",s[s.FAILED=4]="FAILED"})(Ci||(Ci={}));var E3,wee=function(){function s(o,i){var c=i.sdkState,u=i.dispatcher,p=i.requestQueue,m=i.onlineDetector,v=i.cacheContext,b=this;this._queueMap=new Map,this._iid=o,this._sdkState=c,this._requestQueue=p,this._cacheContext=v,this._dispatcher=u,this._dispatcher.on(function(y){y instanceof ou&&(b._connectionState=y.stateType)}),this._onlineDetector=m}return Object.defineProperty(s.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Er.CONNECTED||this._connectionState===Er.CONNECTING||this._connectionState===Er.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype._sendFileMessage=function(o,i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return c=this._createSendFileMessageRequestParams(o,i),this._shouldSendThroughWebSocket?(u=new bee(c),[4,this._requestQueue.send(u)]):[3,2];case 1:return[2,p.sent().as(LA).message];case 2:return u=new yee(Le(Le({},c),{userId:this._sdkState.userId})),[4,this._requestQueue.send(u)];case 3:return[2,p.sent().as(Eee).message]}})})},s.prototype._createSendFileMessageRequestParams=function(o,i){var c=Le(Le({},i.params),{channelUrl:o.url,channelType:o.channelType,reqId:i.requestId,url:""});if(i.multipleFileUploadInfo){var u=i.params;c.files=u.fileInfoList}else u=i.params,c.url=u.fileUrl,c.requireAuth=u.requireAuth;return c},s.prototype._resolveMessageQueue=function(o){var i;return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y,S,O,V,$,te,J;return X(this,function(oe){switch(oe.label){case 0:if(!(c=this._queueMap.get(o.url)))return[3,21];if(c.isResolving)return[3,20];c.isResolving=!0,u=[],p=!0,oe.label=1;case 1:oe.trys.push([1,15,16,17]),m=gt(c.messageQueue),v=m.next(),oe.label=2;case 2:if(v.done)return[3,14];switch((b=v.value).state){case Ci.PENDING:case Ci.UPLOADING:return[3,3];case Ci.UPLOADED:return[3,4];case Ci.FAILED:return[3,12]}return[3,13];case 3:return p=!1,u.push(b),[3,13];case 4:if(!p)return[3,10];oe.label=5;case 5:return oe.trys.push([5,8,,9]),b.state=Ci.SENDING,[4,this._sendFileMessage(o,b)];case 6:return y=oe.sent(),b.deferred.resolve(y),[4,ro(100)];case 7:return oe.sent(),[3,9];case 8:return S=oe.sent(),b.deferred.reject(S),[3,9];case 9:return[3,11];case 10:u.push(b),oe.label=11;case 11:return[3,13];case 12:return O=(i=b.error)!==null&&i!==void 0?i:$e.unknown,b.deferred.reject(O.code===ft.REQUEST_CANCELED?$e.fileUploadCanceled:O),[3,13];case 13:return v=m.next(),[3,2];case 14:return[3,17];case 15:return V=oe.sent(),te={error:V},[3,17];case 16:try{v&&!v.done&&(J=m.return)&&J.call(m)}finally{if(te)throw te.error}return[7];case 17:return $=c.isResolveRequestPending,c.messageQueue=u,c.isResolving=!1,c.isResolveRequestPending=!1,$?[4,this._resolveMessageQueue(o)]:[3,19];case 18:oe.sent(),oe.label=19;case 19:return[3,21];case 20:c.isResolveRequestPending=!0,oe.label=21;case 21:return[2]}})})},s.prototype._uploadNextPendingItem=function(o){var i;return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y,S,O;return X(this,function(V){switch(V.label){case 0:return(c=this._queueMap.get(o.url))&&(u=c.messageQueue.find(function($){return $.state===Ci.PENDING}))?u.multipleFileUploadInfo?(p=u.multipleFileUploadInfo,m=p.uploadIndex,v=p.uploadCount,b=p.requestHandler,O=u.params,y=O.fileInfoList[m],!hs(y.file)||!((i=y._uploadedMetaData)===null||i===void 0)&&i.isUploaded?[3,2]:[4,this._tryUploadNextItemAndUpdateItemState(o,c,u)]):[3,4]:[3,9];case 1:return V.sent(),[3,3];case 2:u.state=m<v-1?Ci.PENDING:Ci.UPLOADED,V.label=3;case 3:return S=m,b==null||b._triggerOnFileUploaded(u.requestId,S,y,u.error),u.multipleFileUploadInfo.uploadIndex++,[3,7];case 4:return O=u.params,hs(O.file)?[4,this._tryUploadNextItemAndUpdateItemState(o,c,u)]:[3,6];case 5:return V.sent(),[3,7];case 6:O.thumbnailSizes=[],u.state=Ci.UPLOADED,V.label=7;case 7:return this._uploadNextPendingItem(o),[4,this._resolveMessageQueue(o)];case 8:V.sent(),V.label=9;case 9:return[2]}})})},s.prototype._tryUploadNextItemAndUpdateItemState=function(o,i,c){return Z(this,void 0,void 0,function(){var u,p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:return[4,this._onlineDetector.isOnline()];case 1:if(u=S.sent(),!Ze.of(this._iid).sessionManager.currentUser||!u)return c.error=$e.connectionRequired,c.state=Ci.FAILED,[2];if(!(i.uploadQueue.length<6))return[3,9];c.state=Ci.UPLOADING,i.uploadQueue.push(c),S.label=2;case 2:return S.trys.push([2,7,,8]),c.multipleFileUploadInfo?(p=c.multipleFileUploadInfo,m=p.uploadIndex,v=p.uploadCount,b=c.params,[4,this._uploadNextFileForMultipleFilesItemAndUpdateParams(o,c,b)]):[3,4];case 3:return S.sent(),c.state=m<v-1?Ci.PENDING:Ci.UPLOADED,[3,6];case 4:return b=c.params,[4,this._uploadNextFileForSingleFileItemAndUpdateParams(o,c,b)];case 5:S.sent(),c.state=Ci.UPLOADED,S.label=6;case 6:return[3,8];case 7:return y=S.sent(),c.error=y.code===ft.REQUEST_FAILED?new $e({code:ft.NETWORK_ERROR,message:"Failed to upload a file."}):y,c.state=Ci.FAILED,[3,8];case 8:this._dequeueUploadItem(i,c),S.label=9;case 9:return[2]}})})},s.prototype._dequeueUploadItem=function(o,i){var c=o.uploadQueue.findIndex(function(u){return u.requestId===i.requestId});c>=0&&o.uploadQueue.splice(c,1)},s.prototype._uploadNextFileForSingleFileItemAndUpdateParams=function(o,i,c){var u,p,m;return Z(this,void 0,void 0,function(){var v,b,y,S,O,V,$,te,J,oe;return X(this,function(xe){switch(xe.label){case 0:return v=new kA({file:c.file,channelUrl:o.url,thumbnailSizes:c.thumbnailSizes,requestId:i.requestId}),[4,this._requestQueue.send(v)];case 1:return b=xe.sent(),y=b.as(IA),S=y.url,O=y.fileSize,V=O===void 0?c.fileSize:O,$=y.thumbnailSizes,te=$===void 0?c.thumbnailSizes:$,J=y.requireAuth,oe=J!==void 0&&J,c.fileName=(u=c.fileName)!==null&&u!==void 0?u:c.file.name,c.mimeType=(p=c.mimeType)!==null&&p!==void 0?p:c.file.type,c.fileSize=(m=c.fileSize)!==null&&m!==void 0?m:c.file.size,c.fileUrl=S,c.fileSize=V,c.thumbnailSizes=te,c.requireAuth=oe,[2]}})})},s.prototype._uploadNextFileForMultipleFilesItemAndUpdateParams=function(o,i,c){var u,p,m;return Z(this,void 0,void 0,function(){var v,b,y,S,O,V,$,te,J,oe,xe,Ie;return X(this,function(Ue){switch(Ue.label){case 0:return v=i.multipleFileUploadInfo.uploadIndex,b=c.fileInfoList[v],y=new kA({file:b.file,channelUrl:o.url,thumbnailSizes:b.thumbnailSizes,requestId:i.requestId}),[4,this._requestQueue.send(y)];case 1:return S=Ue.sent(),O=S.as(IA),V=O.url,$=O.fileSize,te=$===void 0?b.fileSize:$,J=O.thumbnailSizes,oe=J===void 0?b.thumbnailSizes:J,xe=O.requireAuth,Ie=xe!==void 0&&xe,b.fileName=(u=b.fileName)!==null&&u!==void 0?u:b.file.name,b.mimeType=(p=b.mimeType)!==null&&p!==void 0?p:b.file.type,b.fileSize=(m=b.fileSize)!==null&&m!==void 0?m:b.file.size,b.file=void 0,b.fileUrl=V,b.fileSize=te,b.thumbnailSizes=oe,b._uploadedMetaData=Le(Le({},b._uploadedMetaData),{requireAuth:Ie,isUploaded:!0}),[2]}})})},s.prototype.request=function(o,i,c,u){return Z(this,void 0,void 0,function(){var p,m,v,b,y;return X(this,function(S){return this._queueMap.has(o.url)||(p={messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1},this._queueMap.set(o.url,p)),m=this._queueMap.get(o.url),v=new Wa,b={requestId:i,params:c,state:Ci.PENDING,deferred:v},function(O){return"fileInfoList"in O}(c)&&(y={uploadIndex:0,uploadCount:c.fileInfoList.length,requestHandler:u},b.multipleFileUploadInfo=y),m.messageQueue.push(b),this._uploadNextPendingItem(o),[2,v.promise]})})},s.prototype.cancel=function(o,i){var c,u,p=this._queueMap.get(o.url);if(p){var m=i?[p.messageQueue.find(function(S){return S.requestId===i})]:Yt([],Mt(p.messageQueue),!1);try{for(var v=gt(m),b=v.next();!b.done;b=v.next()){var y=b.value;if(y)switch(y.state){case Ci.PENDING:y.state=Ci.FAILED,y.error=$e.requestCanceled,this._resolveMessageQueue(o);break;case Ci.UPLOADING:this._requestQueue.cancel(y.requestId)}}}catch(S){c={error:S}}finally{try{b&&!b.done&&(u=v.return)&&u.call(v)}finally{if(c)throw c.error}}}},s}(),cf={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ks.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,replyType:Is.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},PA=function(s){return Ve("number",s.prevResultSize)&&Ve("number",s.nextResultSize)&&Ve("boolean",s.isInclusive)&&Ve("boolean",s.reverse)&&Ve("string",s.messageTypeFilter)&&Lr(ks,s.messageTypeFilter)&&ar("string",s.customTypesFilter,!0)&&ar("string",s.senderUserIdsFilter,!0)&&Lr(Is,s.replyType)&&Ve("boolean",s.includeMetaArray)&&Ve("boolean",s.includeReactions)&&Ve("boolean",s.includeParentMessageInfo)&&Ve("boolean",s.includeThreadInfo)&&Ve("boolean",s.showSubchannelMessagesOnly)},w3={replyType:Is.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},FA=function(s){return Lr(Is,s.replyType)&&Ve("boolean",s.includeReactions)&&Ve("boolean",s.includeMetaArray)&&Ve("boolean",s.includeParentMessageInfo)&&Ve("boolean",s.includeThreadInfo)},xee=function(s){function o(i){var c=i.channelType,u=i.channelUrl,p=i.messageId,m=i.includeMetaArray,v=i.includeReactions,b=i.includeThreadInfo,y=i.includeParentMessageInfo,S=s.call(this)||this;return S.method=Dn.GET,S.path="".concat(yr(c),"/").concat(encodeURIComponent(u),"/messages/").concat(encodeURIComponent(p)),S.params={is_sdk:!0,with_sorted_meta_array:m,include_reactions:v,include_thread_info:b,include_parent_message_info:y,include_poll_details:!0},S}return ve(o,s),o}(Un),See=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.message=c?Yl(i,Le({},c)):null,u}return ve(o,s),o}(qn),Lv=function(s){function o(i){var c=i.channelType,u=i.channelUrl,p=i.timestamp,m=i.token,v=i.prevResultSize,b=i.nextResultSize,y=i.isInclusive,S=i.reverse,O=i.messageTypeFilter,V=i.customTypesFilter,$=i.senderUserIdsFilter,te=i.replyType,J=i.includeMetaArray,oe=i.includeReactions,xe=i.parentMessageId,Ie=i.includeThreadInfo,Ue=i.includeParentMessageInfo,He=i.showSubchannelMessagesOnly,Ee=i.checkingContinuousMessages,we=s.call(this)||this;return we.method=Dn.GET,we.path="".concat(yr(c),"/").concat(encodeURIComponent(u),"/messages"),we.params=ct(_t({is_sdk:!0,prev_limit:v,next_limit:b,include:y,reverse:S,message_ts:p,message_id:m,message_type:O??null,custom_types:V,sender_ids:$,include_reply_type:te,with_sorted_meta_array:J,include_reactions:oe,parent_message_id:xe,include_thread_info:Ie,include_parent_message_info:Ue,show_subchannel_message_only:He,include_poll_details:!0,checking_continuous_messages:Ee})),we}return ve(o,s),o}(Un),Uv=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.messages=c.messages.map(function(p){return Yl(i,p)}),u}return ve(o,s),o}(qn),Tee=function(s){function o(i){var c=i.channelType,u=i.channelUrl,p=i.timestamp,m=i.token,v=i.replyType,b=i.includeMetaArray,y=i.includeReactions,S=i.includeThreadInfo,O=i.includeParentMessageInfo,V=s.call(this)||this;return V.method=Dn.GET,V.path="".concat(yr(c),"/").concat(encodeURIComponent(u),"/messages/changelogs"),V.params={change_ts:p,token:m,with_sorted_meta_array:b,include_reactions:y,include_thread_info:S,include_reply_type:v,include_parent_message_info:O,include_poll_details:!0},V}return ve(o,s),o}(Un),Cee=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.updatedMessages=c.updated.map(function(p){return Yl(i,p)}),u.deletedMessagesInfo=c.deleted.map(function(p){return{messageId:p.message_id,deletedAt:p.deleted_at}}),u.hasMore=c.has_more,u.nextToken=c.next,u}return ve(o,s),o}(qn),kee=function(s){function o(i){var c=i.channelUrl,u=i.scheduledMessageId,p=s.call(this)||this;return p.method=Dn.GET,p.path="".concat(m5,"/").concat(encodeURIComponent(c),"/scheduled_messages/").concat(encodeURIComponent(u)),p.params={},p}return ve(o,s),o}(Un),Iee=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.message=c?Yl(i,Le({},c)):null,u}return ve(o,s),o}(qn);(function(s){s.MUTED="muted",s.BANNED="banned"})(E3||(E3={}));var pu,HA=function(){function s(o){var i,c,u,p;this.restrictionType=null,Lr(E3,o.restriction_type)&&(this.restrictionType=o.restriction_type),this.description=(i=o.description)!==null&&i!==void 0?i:null,this.endAt=(u=(c=o.end_at)!==null&&c!==void 0?c:o.muted_end_at)!==null&&u!==void 0?u:-1,this.remainingDuration=(p=o.remaining_duration)!==null&&p!==void 0?p:-1}return s.payloadify=function(o){return ct(_t({restriction_type:o.restrictionType,description:o.description,end_at:o.endAt,remaining_duration:o.remainingDuration}))},s}(),e0=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.restrictionInfo=new HA(c),u}return ve(o,s),o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),HA.payloadify(i.restrictionInfo))))},o}(Ft),Nee=function(s){function o(i,c){var u,p=this;return(p=s.call(this,i,c)||this).isMuted=!1,p.isMuted=(u=c.is_muted)!==null&&u!==void 0&&u,p}return ve(o,s),o}(Ft),Pv=function(){function s(){this._onPending=Ot,this._onFailed=Ot,this._onSucceeded=Ot}return s.prototype._trigger=function(o){switch(o==null?void 0:o.sendingStatus){case Wr.PENDING:o.errorCode===0&&this._onPending(o);break;case Wr.SCHEDULED:case Wr.SUCCEEDED:this._onSucceeded(o)}},s.prototype._triggerFailed=function(o,i){switch(i==null?void 0:i.sendingStatus){case Wr.FAILED:case Wr.CANCELED:this._onFailed(o,i.scheduledInfo?null:i)}},s.prototype.onPending=function(o){return this._onPending=o,this},s.prototype.onFailed=function(o){return this._onFailed=o,this},s.prototype.onSucceeded=function(o){return this._onSucceeded=o,this},s}(),Fv={data:void 0,customType:void 0,mentionType:Oa.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,parentMessageId:void 0,isReplyToChannel:!1,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0,isPinnedMessage:!1},x3=function(s){return Ve("string",s.data,!0)&&Ve("string",s.customType,!0)&&Lr(Oa,s.mentionType)&&ar("string",s.mentionedUserIds,!0)&&ar(Ft,s.mentionedUsers,!0)&&Ve("string",s.mentionedMessageTemplate,!0)&&ar(Ms,s.metaArrays,!0)&&Ve("number",s.parentMessageId,!0)&&Ve("boolean",s.isReplyToChannel)&&Lr(zc,s.pushNotificationDeliveryOption,!0)&&Ve(pl,s.appleCriticalAlertOptions,!0)&&Ve("boolean",s.isPinnedMessage,!0)},BA=function(s){return{isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption,pollId:s.pollId}},VA=Le(Le({},Fv),{message:"",translationTargetLanguages:void 0,pollId:void 0});(function(s){s.FILE="file",s.BLOB="blob",s.BLOB_LIKE_OBJECT="blobLikeObject",s.URL="url"})(pu||(pu={}));var df,Hv=function(s){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&s instanceof Blob},S3=function(s){return s===pu.BLOB||s===pu.FILE},zA=function(s){return{file:s.file,fileKey:s.fileKey,fileType:s.fileType,isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption}},GA=Le(Le({},Fv),{file:void 0,fileKey:void 0,fileUrl:void 0,fileName:void 0,fileType:void 0,fileSize:void 0,mimeType:void 0,thumbnailSizes:void 0,requireAuth:!1}),qA=function(s){return x3(s)&&(hs(s.file)||Ve("string",s.fileUrl))&&Ve("string",s.fileName,!0)&&Ve("string",s.mimeType,!0)&&Ve("number",s.fileSize,!0)&&(s.thumbnailSizes===null||s.thumbnailSizes===void 0||Array.isArray(s.thumbnailSizes)&&s.thumbnailSizes.every(function(o){return Ve("object",o)&&o.maxWidth>0&&o.maxHeight>0}))},jA={data:void 0,customType:void 0,mentionType:Oa.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0},$A=function(s){return Ve("string",s.data,!0)&&Ve("string",s.customType,!0)&&Lr(Oa,s.mentionType)&&ar("string",s.mentionedUserIds,!0)&&ar(Ft,s.mentionedUsers,!0)&&Ve("string",s.mentionedMessageTemplate,!0)&&ar(Ms,s.metaArrays,!0)&&Lr(zc,s.pushNotificationDeliveryOption,!0)&&Ve(pl,s.appleCriticalAlertOptions,!0)},Aee=Le(Le({},jA),{message:void 0,translationTargetLanguages:void 0,pollId:void 0}),Oee=Le({},jA),Ree=function(s){function o(i){var c=i.channelUrl,u=i.channelType,p=i.token,m=i.limit,v=s.call(this)||this;return v.method=Dn.GET,v.path="".concat(yr(u),"/").concat(encodeURIComponent(c),"/operators"),v.params={token:p,limit:m},v}return ve(o,s),o}(Un),Mee=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.operators=c.operators.map(function(p){return new Ft(i,p)}),u.token=c.next,u}return ve(o,s),o}(qn),Dee=function(s){function o(i,c,u,p){return s.call(this,i,c,u,p)||this}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)},o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:return this._validate()?this._isLoading?[3,3]:(i=[],this._hasNext?(this._isLoading=!0,c=Ze.of(this._iid).requestQueue,u=new Ree(Le(Le({},this),{channelUrl:this.channelUrl,token:this._token})),[4,c.send(u)]):[3,2]):[3,5];case 1:return p=y.sent(),m=p.as(Mee),v=m.operators,b=m.token,this._token=b,this._hasNext=!!b,this._isLoading=!1,[2,v];case 2:return[2,i];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(uu),Lee=function(s){function o(i,c,u,p){var m,v,b,y,S,O,V,$,te,J,oe=this;return(oe=s.call(this,i,c,u,p)||this).reverse=!1,oe.messageTypeFilter=ks.ALL,oe.customTypesFilter=null,oe.senderUserIdsFilter=null,oe.replyType=Is.NONE,oe.includeMetaArray=!1,oe.includeReactions=!1,oe.includeParentMessageInfo=!1,oe.includeThreadInfo=!1,oe.showSubchannelMessagesOnly=!1,oe._edge=Number.MAX_SAFE_INTEGER,oe.reverse=(m=p.reverse)!==null&&m!==void 0&&m,oe.messageTypeFilter=(v=p.messageTypeFilter)!==null&&v!==void 0?v:ks.ALL,oe.customTypesFilter=(b=p.customTypesFilter)!==null&&b!==void 0?b:null,oe.senderUserIdsFilter=(y=p.senderUserIdsFilter)!==null&&y!==void 0?y:null,oe.replyType=(S=p.replyType)!==null&&S!==void 0?S:Is.NONE,oe.includeMetaArray=(O=p.includeMetaArray)!==null&&O!==void 0&&O,oe.includeReactions=(V=p.includeReactions)!==null&&V!==void 0&&V,oe.includeParentMessageInfo=($=p.includeParentMessageInfo)!==null&&$!==void 0&&$,oe.includeThreadInfo=(te=p.includeThreadInfo)!==null&&te!==void 0&&te,oe.showSubchannelMessagesOnly=(J=p.showSubchannelMessagesOnly)!==null&&J!==void 0&&J,oe}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("boolean",this.reverse)&&Lr(ks,this.messageTypeFilter)&&Lr(Is,this.replyType)&&ar("string",this.customTypesFilter,!0)&&ar("string",this.senderUserIdsFilter,!0)&&Ve("boolean",this.includeMetaArray)&&Ve("boolean",this.includeReactions)&&Ve("boolean",this.includeParentMessageInfo)&&Ve("boolean",this.includeThreadInfo)&&Ve("boolean",this.showSubchannelMessagesOnly)},o.prototype.load=function(){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,da.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,_t({prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly}))]):[3,2]:[3,5];case 1:return i=c.sent(),this._edge=Math.min.apply(Math,Yt([Number.MAX_SAFE_INTEGER],Mt(i.map(function(u){return u.createdAt})),!1)),this._hasNext=i.length>=this.limit,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(uu),Uee=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.limit,v=i.token;return(c=s.call(this)||this).method=Dn.GET,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/mute"),c.params={limit:m,token:v},c}return ve(o,s),o}(Un),Pee=function(s){function o(i,c){var u=s.call(this,i,c)||this;u.mutedUsers=[];var p=c.next,m=c.muted_list;return u.token=p,m&&m.length>0&&(u.mutedUsers=m.map(function(v){return new e0(i,v)})),u}return ve(o,s),o}(qn),Fee=function(s){function o(i,c,u,p){return s.call(this,i,c,u,p)||this}return ve(o,s),o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid).requestQueue,c=new Uee(Le(Le({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(Pee),m=p.mutedUsers,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,m];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(uu),Hee=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.limit,v=i.token;return(c=s.call(this)||this).method=Dn.GET,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/ban"),c.params=ct({limit:m,token:v}),c}return ve(o,s),o}(Un),Bee=function(s){function o(i,c){var u=s.call(this,i,c)||this;u.bannedUsers=[];var p=c.next,m=c.banned_list;return u.token=p,m&&m.length>0&&(u.bannedUsers=m.map(function(v){return new e0(i,v.user)})),u}return ve(o,s),o}(qn),Vee=function(s){function o(i,c,u,p){return s.call(this,i,c,u,p)||this}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)},o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid).requestQueue,c=new Hee(Le(Le({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(Bee),m=p.bannedUsers,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,m];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(uu);(function(s){s.SPAM="spam",s.HARASSING="harassing",s.SUSPICIOUS="suspicious",s.INAPPROPRIATE="inappropriate"})(df||(df={}));var zee=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.operatorUserIds;return(c=s.call(this)||this).method=Dn.POST,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/operators"),c.params={operator_ids:m},c}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var Gee=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.operatorUserIds;return(c=s.call(this)||this).method=Dn.DELETE,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/operators"),c.params={operator_ids:m},c}return ve(o,s),o}(Un);(function(s){ve(function(o,i){return s.call(this,o,i)||this},s)})(qn);var qee=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.userId;return(c=s.call(this)||this).method=Dn.GET,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/mute/").concat(m),c}return ve(o,s),o}(Un),jee=function(s){function o(i,c){var u=s.call(this,i,c)||this;u.isMuted=!1,u.startAt=0,u.endAt=0;var p=c.is_muted,m=c.start_at,v=c.end_at,b=c.remaining_duration,y=c.description;return u.isMuted=p,u.startAt=m,u.endAt=v,u.remainingDuration=b,u.description=y,u}return ve(o,s),o}(qn),WA=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.keys;return(c=s.call(this)||this).method=Dn.GET,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metadata"),c.params={keys:m,include_ts:!0},c}return ve(o,s),o}(Un),KA=function(s){function o(i,c){var u=s.call(this,i,c)||this,p=c.metadata,m=c.ts;return u.metadata=p,u.ts=m,u}return ve(o,s),o}(qn),$ee=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.metadata;return(c=s.call(this)||this).method=Dn.POST,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metadata"),c.params={metadata:m,include_ts:!0},c}return ve(o,s),o}(Un),Wee=function(s){function o(i,c){var u,p,m=this;return(m=s.call(this,i,c)||this).metaData=(u=c.metadata)!==null&&u!==void 0?u:{},m.ts=(p=c.ts)!==null&&p!==void 0?p:null,m}return ve(o,s),o}(qn),Kee=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.metadata,v=i.upsert;return(c=s.call(this)||this).method=Dn.PUT,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metadata"),c.params={metadata:m,include_ts:!0,upsert:v!=null&&v},c}return ve(o,s),o}(Un),Qee=function(s){function o(i,c){var u=s.call(this,i,c)||this,p=c.metadata,m=c.ts;return u.metadata=p,u.ts=m,u}return ve(o,s),o}(qn),Yee=function(s){function o(i,c,u){var p=s.call(this,i,"SYEV",u)||this;return u.data&&(p.created=u.data.created,p.updated=u.data.updated,p.deleted=u.data.deleted),p}return ve(o,s),o}(Qr),Xee=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.key;return(c=s.call(this)||this).method=Dn.DELETE,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metadata/").concat(m),c.params={include_ts:!0},c}return ve(o,s),o}(Un),Zee=function(s){function o(i,c){var u=s.call(this,i,c)||this,p=c.ts;return u.ts=p,u}return ve(o,s),o}(qn),Jee=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType;return(c=s.call(this)||this).method=Dn.DELETE,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metadata"),c.params={include_ts:!0},c}return ve(o,s),o}(Un),ene=function(s){function o(i,c){var u=s.call(this,i,c)||this,p=c.ts;return u.ts=p,u}return ve(o,s),o}(qn),QA=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.keys;return(c=s.call(this)||this).method=Dn.GET,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metacounter"),c.params={keys:m},c}return ve(o,s),o}(Un),YA=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.metaCounter=c,u}return ve(o,s),o}(qn),nne=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.metaCounter;return(c=s.call(this)||this).method=Dn.POST,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metacounter"),c.params={metacounter:m},c}return ve(o,s),o}(Un),tne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.metaCounter=c,u}return ve(o,s),o}(qn),T3=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.metaCounter,v=i.upsert,b=v!==void 0&&v,y=i.mode,S=y===void 0?"set":y;return(c=s.call(this)||this).method=Dn.PUT,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metacounter"),c.params={metacounter:m,upsert:b,mode:S},c}return ve(o,s),o}(Un),C3=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.metaCounter=c,u}return ve(o,s),o}(qn),rne=function(s){function o(i,c,u){var p=s.call(this,i,"SYEV",u)||this;return u.data&&(p.created=u.data.created,p.updated=u.data.updated,p.deleted=u.data.deleted),p}return ve(o,s),o}(Qr),ine=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.key;return(c=s.call(this)||this).method=Dn.DELETE,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metacounter/").concat(m),c.params={},c}return ve(o,s),o}(Un);(function(s){ve(function(o,i){return s.call(this,o,i)||this},s)})(qn);var ane=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType;return(c=s.call(this)||this).method=Dn.DELETE,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/metacounter"),c.params={},c}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var sne=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.userId,v=i.seconds,b=i.description;return(c=s.call(this)||this).method=Dn.POST,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/mute"),c.params={user_id:m,seconds:v,description:b},c}return ve(o,s),o}(Un);(function(s){ve(function(o,i){return s.call(this,o,i)||this},s)})(qn);var one=function(s){function o(i,c,u){var p=s.call(this,i,"SYEV",u)||this;return p.user=new e0(i,u.data),p}return ve(o,s),o}(Qr),lne=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.userId;return(c=s.call(this)||this).method=Dn.DELETE,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/mute/").concat(encodeURIComponent(m)),c}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var cne=function(s){function o(i,c,u){var p=s.call(this,i,"SYEV",u)||this;return p.user=new e0(i,u.data),p}return ve(o,s),o}(Qr),dne=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.userId,v=i.seconds,b=i.description;return(c=s.call(this)||this).method=Dn.POST,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/ban"),c.params=ct({user_id:m,seconds:v,description:b}),c}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var une=function(s){function o(i,c,u){var p=s.call(this,i,"SYEV",u)||this;return p.user=new e0(i,u.data),u.data.member_count&&(p.memberCount=u.data.member_count),u.data.joined_member_count&&(p.joinedMemberCount=u.data.joined_member_count),p}return ve(o,s),o}(Qr),hne=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.userId;return(c=s.call(this)||this).method=Dn.DELETE,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/ban/").concat(encodeURIComponent(m)),c}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var pne=function(s){function o(i,c,u){var p=s.call(this,i,"SYEV",u)||this;return p.user=new e0(i,u.data),p}return ve(o,s),o}(Qr),XA=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.freezing;return(c=s.call(this)||this).method=Dn.PUT,c.path="".concat(yr(p),"/").concat(encodeURIComponent(u),"/freeze"),c.params={freeze:m},c}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var fne=function(s){function o(i,c,u){var p=s.call(this,i,"SYEV",u)||this;return p.freeze=u.data.freeze,p}return ve(o,s),o}(Qr),_ne=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.category,v=i.userId,b=i.description;return(c=s.call(this)||this).method=Dn.POST,c.path="".concat(g5(p),"/").concat(encodeURIComponent(u)),c.params={report_category:m,reporting_user_id:v,report_description:b},c}return ve(o,s),o}(Un),mne=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.category,v=i.userId,b=i.offendingUserId,y=i.description;return(c=s.call(this)||this).method=Dn.POST,c.path="".concat(PE,"/users/").concat(b),c.params={channel_url:u,channel_type:p===ur.OPEN?"open_channels":"group_channels",report_category:m,reporting_user_id:v,report_description:y},c}return ve(o,s),o}(Un),vne=function(s){function o(i){var c=this,u=i.channelUrl,p=i.channelType,m=i.category,v=i.userId,b=i.offendingUserId,y=i.messageId,S=i.description;return(c=s.call(this)||this).method=Dn.POST,c.path="".concat(g5(p),"/").concat(encodeURIComponent(u),"/messages/").concat(y),c.params={report_category:m,reporting_user_id:v,report_description:S,offending_user_id:b},c}return ve(o,s),o}(Un),gne=function(s){function o(i){var c=[];return i.mentionType===Oa.USERS&&(i.mentionedUserIds?c=i.mentionedUserIds:i.mentionedUsers&&(c=i.mentionedUsers.map(function(u){return u.userId}))),s.call(this,{code:"MESG",ackRequired:!0,payload:ct(_t({channel_url:i.channelUrl,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:c,mentioned_message_template:i.mentionedMessageTemplate,target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==zc.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId?i.parentMessageId:null,req_id:i.reqId,poll_id:i.pollId,pin_message:i.isPinnedMessage}))})||this}return ve(o,s),o}(to),ZA=function(s){function o(i,c,u){var p,m,v,b,y=this;(y=s.call(this,i,"MESG",u)||this).message=new Ka(i,u);var S=Ze.of(i).sdkState;return y.isMentioned=qh(y.message.mentionType,(v=(p=y.message.mentionedUserIds)!==null&&p!==void 0?p:(m=y.message.mentionedUsers)===null||m===void 0?void 0:m.map(function(O){return O.userId}))!==null&&v!==void 0?v:[],S.userId),y.forceUpdateLastMessage=(b=u.force_update_last_message)!==null&&b!==void 0&&b,y}return ve(o,s),o}(Qr),JA=function(s){function o(i){var c=null;return i.mentionType===Oa.USERS&&(i.mentionedUserIds?c=i.mentionedUserIds:i.mentionedUsers&&(c=i.mentionedUsers.map(function(u){return u.userId}))),s.call(this,{code:"MEDI",ackRequired:!0,payload:ct(_t({channel_url:i.channelUrl,msg_id:i.messageId,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:c,mentioned_message_template:i.mentionedMessageTemplate,apple_critical_alert_options:i.appleCriticalAlertOptions?pl.payloadify(i.appleCriticalAlertOptions):null,poll_id:i.pollId}))})||this}return ve(o,s),o}(to),k3=function(s){function o(i,c,u){var p,m,v,b,y,S=this;(S=s.call(this,i,"MEDI",u)||this).message=new Ka(i,u);var O=Ze.of(i).sdkState;return S.mentionCountChange=FE({mentionType:(p=u.old_values)===null||p===void 0?void 0:p.mention_type,mentionedUserIds:(v=(m=u.old_values)===null||m===void 0?void 0:m.mentioned_user_ids)!==null&&v!==void 0?v:[]},_t({mentionType:S.message.mentionType,mentionedUserIds:(b=S.message.mentionedUserIds)!==null&&b!==void 0?b:(y=S.message.mentionedUsers)===null||y===void 0?void 0:y.map(function(V){return V.userId})}),O.userId),S}return ve(o,s),o}(Qr),eO=function(s){function o(i){var c=null;return i.mentionType===Oa.USERS&&(i.mentionedUserIds?c=i.mentionedUserIds:i.mentionedUsers&&(c=i.mentionedUsers.map(function(u){return u.userId}))),s.call(this,{code:"FEDI",ackRequired:!0,payload:ct(_t({channel_url:i.channelUrl,msg_id:i.messageId,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:c,apple_critical_alert_options:i.appleCriticalAlertOptions}))})||this}return ve(o,s),o}(to),I3=function(s){function o(i,c,u){var p,m,v,b,y,S=this;(S=s.call(this,i,"FEDI",u)||this).message=new ki(i,u);var O=Ze.of(i).sdkState;return S.mentionCountChange=FE({mentionType:(p=u.old_values)===null||p===void 0?void 0:p.mention_type,mentionedUserIds:(v=(m=u.old_values)===null||m===void 0?void 0:m.mentioned_user_ids)!==null&&v!==void 0?v:[]},_t({mentionType:S.message.mentionType,mentionedUserIds:(b=S.message.mentionedUserIds)!==null&&b!==void 0?b:(y=S.message.mentionedUsers)===null||y===void 0?void 0:y.map(function(V){return V.userId})}),O.userId),S}return ve(o,s),o}(Qr),bne=function(s){function o(i){var c=s.call(this)||this;return c.method=Dn.DELETE,c.path="".concat(yr(i.channelType),"/").concat(i.channelUrl,"/messages/").concat(i.messageId),c}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var yne=function(s){function o(i,c,u){var p=s.call(this,i,"DELM",u)||this;return p.channelUrl=u.channel_url,p.channelType=u.channel_type,p.messageId=Number(u.msg_id),p}return ve(o,s),o}(Qr),Ene=function(s){function o(i){var c=i.channelType,u=i.channelUrl,p=i.messageId,m=i.reactionKey,v=s.call(this)||this;return v.method=Dn.POST,v.path="".concat(yr(c),"/").concat(encodeURIComponent(u),"/messages/").concat(p,"/reactions"),v.params={reaction:m},v}return ve(o,s),o}(Un),wne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.reactionEvent=new y3(c),u}return ve(o,s),o}(qn),xne=function(s){function o(i){var c=i.channelType,u=i.channelUrl,p=i.messageId,m=i.reactionKey,v=s.call(this)||this;return v.method=Dn.DELETE,v.path="".concat(yr(c),"/").concat(encodeURIComponent(u),"/messages/").concat(p,"/reactions"),v.params={reaction:m},v}return ve(o,s),o}(Un),Sne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.reactionEvent=new y3(Le({},c)),u}return ve(o,s),o}(qn),Tne=function(s){function o(i){var c=i.channelType,u=i.channelUrl,p=i.messageId,m=i.translationTargetLanguages,v=s.call(this)||this;return v.method=Dn.POST,v.path="".concat(yr(c),"/").concat(encodeURIComponent(u),"/messages/").concat(encodeURIComponent(p),"/translation"),v.params={target_langs:m},v}return ve(o,s),o}(Un),Cne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.message=new Ka(i,c),u}return ve(o,s),o}(qn),kne=function(s){function o(i){var c,u=this;u=s.call(this)||this;var p=[];i.mentionType===Oa.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(b){return b.userId})));var m=i.channelType,v=i.channelUrl;return u.method=Dn.POST,u.path="".concat(yr(m),"/").concat(encodeURIComponent(v),"/scheduled_messages"),u.params=ct(_t({req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:hv.USER,message:i.message,custom_type:i.customType,data:i.data,mention_type:i.mentionType,mentioned_user_ids:p,sorted_metaarray:(c=i.metaArrays)===null||c===void 0?void 0:c.map(function(b){return Ms.payloadify(b)}),apple_critical_alert_options:i.appleCriticalAlertOptions?pl.payloadify(i.appleCriticalAlertOptions):null,target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption})),u}return ve(o,s),o}(Un),Ine=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.message=new Ka(i,c),u}return ve(o,s),o}(qn),Nne=function(s){function o(i){var c,u=this;u=s.call(this)||this;var p=[];i.mentionType===Oa.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(b){return b.userId})));var m=i.channelType,v=i.channelUrl;return u.method=Dn.POST,u.path="".concat(yr(m),"/").concat(encodeURIComponent(v),"/scheduled_messages"),u.params=_t({req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:hv.FILE,url:i.fileUrl,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function(b){return sf.payloadify(b)}):[],custom_type:i.customType,data:i.data,require_auth:i.requireAuth,mention_type:i.mentionType,mentioned_user_ids:p,sorted_metaarray:(c=i.metaArrays)===null||c===void 0?void 0:c.map(function(b){return Ms.payloadify(b)}),apple_critical_alert_options:i.appleCriticalAlertOptions?pl.payloadify(i.appleCriticalAlertOptions):null,push_option:i.pushNotificationDeliveryOption}),u}return ve(o,s),o}(Un),Ane=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.message=new ki(i,c),u}return ve(o,s),o}(qn),One=function(s){function o(i){var c=i.pollId,u=i.title,p=i.data,m=i.allowUserSuggestion,v=i.allowMultipleVotes,b=i.closeAt,y=s.call(this)||this;return y.method=Dn.PUT,y.path="".concat(Ro,"/").concat(encodeURIComponent(c)),y.params={title:u,data:p,allow_user_suggestion:m,allow_multiple_votes:v,close_at:b},y}return ve(o,s),o}(Un),Rne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.poll=new io(i,c),u}return ve(o,s),o}(qn),Mne=function(s){function o(i){var c=i.pollId,u=s.call(this)||this;return u.method=Dn.DELETE,u.path="".concat(Ro,"/").concat(encodeURIComponent(c)),u}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var Dne=function(s){function o(i){var c=i.pollId,u=s.call(this)||this;return u.method=Dn.PUT,u.path="".concat(Ro,"/").concat(encodeURIComponent(c),"/close"),u}return ve(o,s),o}(Un),Lne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.poll=new io(i,c),u}return ve(o,s),o}(qn),Une=function(s){function o(i){var c=i.channelUrl,u=i.channelType,p=i.pollId,m=i.optionText,v=s.call(this)||this;return v.method=Dn.POST,v.path="".concat(Ro,"/").concat(encodeURIComponent(p),"/options"),v.params={channel_url:c,channel_type:u,text:m},v}return ve(o,s),o}(Un),Pne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.poll=new io(i,c),u}return ve(o,s),o}(qn),Fne=function(s){function o(i){var c=i.pollId,u=i.pollOptionId,p=i.optionText,m=s.call(this)||this;return m.method=Dn.PUT,m.path="".concat(Ro,"/").concat(encodeURIComponent(c),"/options/").concat(encodeURIComponent(u)),m.params={text:p},m}return ve(o,s),o}(Un),Hne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.poll=new io(i,c),u}return ve(o,s),o}(qn),Bne=function(s){function o(i){var c=i.pollId,u=i.pollOptionId,p=s.call(this)||this;return p.method=Dn.DELETE,p.path="".concat(Ro,"/").concat(encodeURIComponent(c),"/options/").concat(encodeURIComponent(u)),p}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var Ar,Vne=function(s){function o(i){var c=i.reqId,u=i.channelType,p=i.channelUrl,m=i.pollId,v=i.pollOptionIds;return s.call(this,{code:"VOTE",ackRequired:!0,payload:ct({req_id:c,channel_type:u===ur.OPEN?"open_channels":"group_channels",channel_url:p,poll_id:m,option_ids:v})})||this}return ve(o,s),o}(to),nO=function(s){function o(i,c,u){var p=s.call(this,i,"VOTE",u)||this;return p.event=new ree(u),p.channelUrl=u.channel_url,p.channelType=u.channel_type,p}return ve(o,s),o}(Qr),tO="Message",zne=Le(Le({},Fv),{fileInfoList:[]}),Gne=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i._onFileUploaded=Ot,i}return ve(o,s),o.prototype._triggerOnFileUploaded=function(i,c,u,p){this._onFileUploaded(i,c,u,p)},o.prototype.onFileUploaded=function(i){return this._onFileUploaded=i,this},o.prototype.onPending=function(i){return s.prototype.onPending.call(this,i),this},o.prototype.onFailed=function(i){return s.prototype.onFailed.call(this,i),this},o.prototype.onSucceeded=function(i){return s.prototype.onSucceeded.call(this,i),this},o}(Pv),rO=function(s){function o(i,c){var u,p,m,v,b,y,S=this;return(S=s.call(this,i)||this)._name="",S._createdAt=0,S.channelType=ur.BASE,S.coverUrl="",S.customType="",S.data="",S.isFrozen=!1,S.isEphemeral=!1,S.creator=null,S._messageCollectionLastAccessedAt=0,S._url=c.channel_url,S._name=(u=c.name)!==null&&u!==void 0?u:"",S._createdAt=1e3*c.created_at,S.coverUrl=(p=c.cover_url)!==null&&p!==void 0?p:"",S.customType=(m=c.custom_type)!==null&&m!==void 0?m:"",S.data=(v=c.data)!==null&&v!==void 0?v:"",S.isFrozen=(b=c.freeze)!==null&&b!==void 0&&b,S.isEphemeral=(y=c.is_ephemeral)!==null&&y!==void 0&&y,S.creator=c.created_by?new Ft(S._iid,c.created_by):null,c.metadata&&Object.keys(c.metadata).length>0&&c.ts&&(S._cachedMetaData=new Map,Object.keys(c.metadata).forEach(function(O){S._cachedMetaData.set(O,{value:c.metadata[O],isRemoved:!1,updatedAt:c.ts})})),S}return ve(o,s),Object.defineProperty(o.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return this._name},set:function(i){this._name=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"createdAt",{get:function(){return this._createdAt},enumerable:!1,configurable:!0}),o.prototype.toJSON=function(){return Le(Le({},this),{url:this._url,name:this._name,createdAt:this._createdAt})},o.payloadify=function(i){return ct(_t(Le(Le({},s.payloadify.call(this,i)),{channel_url:i.url,name:i.name,cover_url:i.coverUrl,custom_type:i.customType,data:i.data,freeze:i.isFrozen,is_ephemeral:i.isEphemeral,created_by:i.creator?Ft.payloadify(i.creator):null,created_at:i.createdAt/1e3})))},o.prototype.isGroupChannel=function(){return this.channelType===ur.GROUP},o.prototype.isOpenChannel=function(){return this.channelType===ur.OPEN},o.prototype.isFeedChannel=function(){return this.channelType===ur.FEED},Object.defineProperty(o.prototype,"cachedMetaData",{get:function(){var i={};return this._cachedMetaData&&this._cachedMetaData.forEach(function(c,u){c.isRemoved||(i[u]=c.value)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"messageCollectionLastAccessedAt",{get:function(){return this._messageCollectionLastAccessedAt},enumerable:!1,configurable:!0}),o.prototype._updateMessageCollectionLastAccessedAt=function(){this._messageCollectionLastAccessedAt=Date.now()},o.prototype._update=function(i){var c=ct(i);Object.assign(this,c)},o.prototype._upsertCachedMetaData=function(i,c){var u=this;Object.keys(i).forEach(function(p){u._cachedMetaData||(u._cachedMetaData=new Map);var m=u._cachedMetaData.get(p);(!m||m.updatedAt<=c)&&u._cachedMetaData.set(p,{value:i[p],isRemoved:!1,updatedAt:c})})},o.prototype._updateCachedMetaData=function(i,c){var u=this;this._cachedMetaData?this._cachedMetaData.forEach(function(p,m){var v;p.updatedAt<=c&&u._cachedMetaData.set(m,{value:(v=i[m])!==null&&v!==void 0?v:p.value,isRemoved:!i[m],updatedAt:c})}):(this._cachedMetaData=new Map,Object.keys(i).forEach(function(p){u._cachedMetaData.set(p,{value:i[p],isRemoved:!1,updatedAt:c})}))},o.prototype._removeFromCachedMetaData=function(i,c){var u=this;this._cachedMetaData&&i.forEach(function(p){var m=u._cachedMetaData.get(p);m&&m.updatedAt<c&&(m.isRemoved=!0,m.updatedAt=c)})},o.prototype._runIfHandleableWithGroupChannel=function(i){this.isGroupChannel()?i(this):this.isFeedChannel()&&i(this.groupChannel)},o.prototype._generateRequestId=function(){return"rq-".concat(zh())},o.prototype.isIdentical=function(i){return i&&this.url===i.url},o.prototype.isEqual=function(i){return c5(this,i)},o.prototype.createOperatorListQuery=function(i){return i===void 0&&(i={}),new Dee(this._iid,this.url,this.channelType,i)},o.prototype.createMutedUserListQuery=function(i){return i===void 0&&(i={}),new Fee(this._iid,this.url,this.channelType,i)},o.prototype.createBannedUserListQuery=function(i){return i===void 0&&(i={}),new Vee(this._iid,this.url,this.channelType,i)},o.prototype.createPreviousMessageListQuery=function(i){return i===void 0&&(i={}),new Lee(this._iid,this.url,this.channelType,i)},o.prototype.addOperators=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return Pn(ar("string",i)).throw($e.invalidParameters),c=Ze.of(this._iid).requestQueue,u=new zee({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,c.send(u)];case 1:return p.sent(),[2]}})})},o.prototype.removeOperators=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return Pn(ar("string",i)).throw($e.invalidParameters),c=Ze.of(this._iid).requestQueue,u=new Gee({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,c.send(u)];case 1:return p.sent(),[2]}})})},o.prototype.getMyMutedInfo=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y,S,O,V;return X(this,function($){switch($.label){case 0:return i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new qee({channelUrl:this.url,channelType:this.channelType,userId:c.userId}),[4,u.send(p)];case 1:return m=$.sent(),v=m.as(jee),b=v.isMuted,y=v.startAt,S=v.endAt,O=v.remainingDuration,V=v.description,[2,{isMuted:b,startAt:y,endAt:S,remainingDuration:O,description:V}]}})})},o.prototype.getMetaData=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:return Pn(ar("string",i)).throw($e.invalidParameters),c=Ze.of(this._iid).requestQueue,u=new WA({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,c.send(u)];case 1:return p=y.sent(),m=p.as(KA),v=m.metadata,b=m.ts,this._upsertCachedMetaData(v,b),[2,v]}})})},o.prototype.getAllMetaData=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new WA({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(c)];case 1:return u=b.sent(),p=u.as(KA),m=p.metadata,v=p.ts,this._updateCachedMetaData(m,v),[2,m]}})})},o.prototype.createMetaData=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m;return X(this,function(v){switch(v.label){case 0:return c=Ze.of(this._iid).requestQueue,u=new $ee({channelUrl:this.url,channelType:this.channelType,metadata:i}),[4,c.send(u)];case 1:return p=v.sent(),m=p.as(Wee).metaData,this._upsertCachedMetaData(m,0),[2,m]}})})},o.prototype.updateMetaData=function(i,c){return c===void 0&&(c=!1),Z(this,void 0,void 0,function(){var u,p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:return u=Ze.of(this._iid).requestQueue,p=new Kee({channelUrl:this.url,channelType:this.channelType,metadata:i,upsert:c}),[4,u.send(p)];case 1:return m=S.sent(),v=m.as(Qee),b=v.metadata,y=v.ts,this._upsertCachedMetaData(b,y),[2,b]}})})},o.prototype.deleteMetaData=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m;return X(this,function(v){switch(v.label){case 0:return Pn(Ve("string",i)).throw($e.invalidParameters),c=Ze.of(this._iid).requestQueue,u=new Xee({channelUrl:this.url,channelType:this.channelType,key:i}),[4,c.send(u)];case 1:return p=v.sent(),m=p.as(Zee).ts,this._removeFromCachedMetaData([i],m),[2]}})})},o.prototype.deleteAllMetaData=function(){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new Jee({channelUrl:this.url,channelType:this.channelType}),[4,i.send(c)];case 1:return u=m.sent(),p=u.as(ene).ts,this._removeFromCachedMetaData(Yt([],Mt(this._cachedMetaData.keys()),!1),p),[2]}})})},o.prototype.getMetaCounters=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return Pn(ar("string",i)).throw($e.invalidParameters),c=Ze.of(this._iid).requestQueue,u=new QA({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,c.send(u)];case 1:return[2,p.sent().as(YA).metaCounter]}})})},o.prototype.getAllMetaCounters=function(){return Z(this,void 0,void 0,function(){var i,c;return X(this,function(u){switch(u.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new QA({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(c)];case 1:return[2,u.sent().as(YA).metaCounter]}})})},o.prototype.createMetaCounters=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return c=Ze.of(this._iid).requestQueue,u=new nne({channelUrl:this.url,channelType:this.channelType,metaCounter:i}),[4,c.send(u)];case 1:return[2,p.sent().as(tne).metaCounter]}})})},o.prototype.updateMetaCounters=function(i,c){return c===void 0&&(c=!1),Z(this,void 0,void 0,function(){var u,p;return X(this,function(m){switch(m.label){case 0:return u=Ze.of(this._iid).requestQueue,p=new T3({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:c}),[4,u.send(p)];case 1:return[2,m.sent().as(C3).metaCounter]}})})},o.prototype.increaseMetaCounters=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return c=Ze.of(this._iid).requestQueue,u=new T3({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"increase"}),[4,c.send(u)];case 1:return[2,p.sent().as(C3).metaCounter]}})})},o.prototype.decreaseMetaCounters=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return c=Ze.of(this._iid).requestQueue,u=new T3({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"decrease"}),[4,c.send(u)];case 1:return[2,p.sent().as(C3).metaCounter]}})})},o.prototype.deleteMetaCounter=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return Pn(Ve("string",i)).throw($e.invalidParameters),c=Ze.of(this._iid).requestQueue,u=new ine({channelUrl:this.url,channelType:this.channelType,key:i}),[4,c.send(u)];case 1:return p.sent(),[2]}})})},o.prototype.deleteAllMetaCounters=function(){return Z(this,void 0,void 0,function(){var i,c;return X(this,function(u){switch(u.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new ane({channelUrl:this.url,channelType:this.channelType}),[4,i.send(c)];case 1:return u.sent(),[2]}})})},o.prototype.muteUser=function(i,c,u){return Z(this,void 0,void 0,function(){return X(this,function(p){return[2,this.muteUserWithUserId(i.userId,c,u)]})})},o.prototype.muteUserWithUserId=function(i,c,u){return Z(this,void 0,void 0,function(){var p,m;return X(this,function(v){switch(v.label){case 0:return Pn(Ve("string",i)&&Ve("number",c,!0)&&Ve("string",u,!0)).throw($e.invalidParameters),p=Ze.of(this._iid).requestQueue,m=new sne({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:c,description:u}),[4,p.send(m)];case 1:return v.sent(),[2]}})})},o.prototype.unmuteUser=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){return[2,this.unmuteUserWithUserId(i.userId)]})})},o.prototype.unmuteUserWithUserId=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return Pn(Ve("string",i)).throw($e.invalidParameters),c=Ze.of(this._iid).requestQueue,u=new lne({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,c.send(u)];case 1:return p.sent(),[2]}})})},o.prototype.banUser=function(i,c,u){return Z(this,void 0,void 0,function(){return X(this,function(p){return[2,this.banUserWithUserId(i.userId,c,u)]})})},o.prototype.banUserWithUserId=function(i,c,u){return Z(this,void 0,void 0,function(){var p,m;return X(this,function(v){switch(v.label){case 0:return Pn(Ve("string",i)&&Ve("number",c,!0)&&Ve("string",u,!0)).throw($e.invalidParameters),p=Ze.of(this._iid).requestQueue,m=new dne({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:c,description:u}),[4,p.send(m)];case 1:return v.sent(),[2]}})})},o.prototype.unbanUser=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){return[2,this.unbanUserWithUserId(i.userId)]})})},o.prototype.unbanUserWithUserId=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return Pn(Ve("string",i)).throw($e.invalidParameters),c=Ze.of(this._iid).requestQueue,u=new hne({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,c.send(u)];case 1:return p.sent(),[2]}})})},o.prototype.freeze=function(){return Z(this,void 0,void 0,function(){var i,c;return X(this,function(u){switch(u.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new XA({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,i.send(c)];case 1:return u.sent(),this.isFrozen=!0,[2]}})})},o.prototype.unfreeze=function(){return Z(this,void 0,void 0,function(){var i,c;return X(this,function(u){switch(u.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new XA({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,i.send(c)];case 1:return u.sent(),this.isFrozen=!1,[2]}})})},o.prototype.getMessagesByMessageId=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Le(Le({},cf),c),Pn(Ve("number",i)&&PA(u)).throw($e.invalidParameters),[4,da.of(this._iid).getMessagesByMessageId(this.url,this.channelType,i,u)];case 1:return[2,p.sent()]}})})},o.prototype.getMessagesByTimestamp=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Le(Le({},cf),c),Pn(Ve("number",i)&&PA(u)).throw($e.invalidParameters),[4,da.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,i,u)];case 1:return[2,p.sent()]}})})},o.prototype.getMessageChangeLogsSinceTimestamp=function(i,c){return c===void 0&&(c={}),Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Le(Le({},w3),c),Pn(Ve("number",i)&&FA(u)).throw($e.invalidParameters),[4,da.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,u)];case 1:return[2,p.sent()]}})})},o.prototype.getMessageChangeLogsSinceToken=function(i,c){return c===void 0&&(c={}),Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Le(Le({},w3),c),Pn(Ve("string",i)&&FA(u)).throw($e.invalidParameters),[4,da.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,u)];case 1:return[2,p.sent()]}})})},o.prototype._createPendingSendableMessagePayload=function(i,c,u){var p,m=Ze.of(this._iid).sessionManager;return ct(_t({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,sorted_metaarray:i.metaArrays?i.metaArrays.map(function(v){return Ms.payloadify(v)}):null,apple_critical_alert_options:i.appleCriticalAlertOptions?pl.payloadify(i.appleCriticalAlertOptions):null,created_at:u,user:m.currentUser?Jh.payloadify(m.currentUser):null,req_id:c,request_state:Wr.PENDING,mentioned_user_ids:i.mentionedUserIds,mentioned_users:(p=i.mentionedUsers)===null||p===void 0?void 0:p.map(function(v){return Ft.payloadify(v)})}))},o.prototype._createPendingUserMessage=function(i,c,u){var p,m,v={};if(i.translationTargetLanguages)try{for(var b=gt(i.translationTargetLanguages),y=b.next();!y.done;y=b.next())v[y.value]=""}catch(V){p={error:V}}finally{try{y&&!y.done&&(m=b.return)&&m.call(b)}finally{if(p)throw p.error}}var S=ct(Le(Le({},this._createPendingSendableMessagePayload(i,c,u)),{type:Jr.USER,message:i.message,translations:v})),O=new Ka(this._iid,S);return O.messageParams=i,O},o.prototype._createPendingScheduledUserMessage=function(i,c,u){var p=this._createPendingUserMessage(i,c,u);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},p},o.prototype._createPendingFileMessage=function(i,c,u){var p,m,v,b,y,S,O=ct(Le(Le({},this._createPendingSendableMessagePayload(i,c,u)),{type:Jr.FILE,url:i.fileUrl,file:{name:(p=i.fileName)!==null&&p!==void 0?p:(m=i.file)===null||m===void 0?void 0:m.name,size:(v=i.fileSize)!==null&&v!==void 0?v:(b=i.file)===null||b===void 0?void 0:b.size,type:(y=i.mimeType)!==null&&y!==void 0?y:(S=i.file)===null||S===void 0?void 0:S.type,data:i.data},thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function($){return{url:"",width:$.maxWidth,height:$.maxHeight}}):[]})),V=new ki(this._iid,O);return V.messageParams=i,V},o.prototype._createPendingMultipleFilesMessage=function(i,c,u){var p=ct(Le(Le({},this._createPendingSendableMessagePayload(i,c,u)),{type:Jr.FILE})),m=new ao(this._iid,p);return m.messageParams=i,m},o.prototype._createPendingScheduledFileMessage=function(i,c,u){var p=this._createPendingFileMessage(i,c,u);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},p},o.prototype._markMessageAsFailed=function(i,c,u){u===void 0&&(u=!1),i.errorCode=c.code,c.code===ft.REQUEST_CANCELED||c.code===ft.FILE_UPLOAD_CANCEL_FAILED?i.sendingStatus=Wr.CANCELED:u||(i.sendingStatus=Wr.FAILED)},o.prototype.sendUserMessage=function(i){var c=Le(Le({},VA),i);return Pn(function(u){return x3(u)&&Ve("string",u.message)&&ar("string",u.translationTargetLanguages,!0)&&Ve("number",u.pollId,!0)}(c)).throw($e.invalidParameters),this._sendUserMessage(c)},o.prototype._sendUserMessage=function(i,c,u){var p=this;u===void 0&&(u=!1);var m=Ze.of(this._iid),v=m.dispatcher,b=m.requestQueue,y=c??this._generateRequestId(),S=Date.now(),O=new Pv;return y||(y=this._generateRequestId()),ro(2).then(function(){var V=p._createPendingUserMessage(i,y,S);v.dispatch(new qi({messages:[V],source:u?Nr.LOCAL_MESSAGE_RESEND_STARTED:Nr.EVENT_MESSAGE_SENT_PENDING})),Vt(function(){return Z(p,void 0,void 0,function(){return X(this,function(te){return[2,O._trigger(V)]})})});var $=new gne(Le(Le({},i),{channelUrl:p.url,channelType:p.channelType,reqId:y}));b.send($).then(function(te){var J=te.as(ZA).message;v.dispatch(new qi({messages:[J],source:Nr.EVENT_MESSAGE_SENT_SUCCESS})),Vt(function(){return Z(p,void 0,void 0,function(){return X(this,function(oe){return[2,O._trigger(J)]})})})}).catch(function(te){if(Vc(te))throw te;ro(2).then(function(){var J=p._createPendingUserMessage(i,y,S),oe=Ze.of(p._iid).cacheContext.localCacheEnabled&&dv(te.code);p._markMessageAsFailed(J,te,oe),v.dispatch(new qi({messages:[J],source:J.sendingStatus===Wr.PENDING?Nr.REQUEST_RESEND_MESSAGE:Nr.EVENT_MESSAGE_SENT_FAILED})),Vt(function(){return Z(p,void 0,void 0,function(){return X(this,function(xe){return[2,O._triggerFailed(te,J)]})})})})})}),O},o.prototype._autoResendUserMessage=function(i){return Pn(i instanceof Ka&&!!i.messageParams).throw($e.invalidParameters),this._sendUserMessage(i.messageParams,i.reqId)},o.prototype.resendUserMessage=function(i){var c;return Z(this,void 0,void 0,function(){var u,p;return X(this,function(m){return Pn(i instanceof Ka&&!i.scheduledInfo).throw($e.invalidParameters),u=new Wa,p=(c=i.messageParams)!==null&&c!==void 0?c:function(v){var b;return ct(_t({data:v.data,customType:v.customType,mentionType:v.mentionType,mentionedUsers:v.mentionedUsers,mentionedUserIds:v.mentionedUserIds,mentionedMessageTemplate:v.mentionedMessageTemplate,metaArrays:v.metaArrays,pollId:(b=v.poll)===null||b===void 0?void 0:b.id,parentMessageId:v.parentMessageId,appleCriticalAlertOptions:v.appleCriticalAlertOptions,message:v.message,translationTargetLanguages:Object.keys(v.translations)}))}(i),this._sendUserMessage(p,i.reqId,!0).onFailed(function(v){return u.reject(v)}).onSucceeded(function(v){return u.resolve(v)}),[2,u.promise]})})},o.prototype.updateUserMessage=function(i,c){return Z(this,void 0,void 0,function(){var u,p,m;return X(this,function(v){switch(v.label){case 0:return u=Le(Le({},Aee),c),Pn(Ve("number",i)&&function(b){return $A(b)&&Ve("string",b.message,!0)&&ar("string",b.translationTargetLanguages,!0)&&Ve("number",b.pollId,!0)}(u)).throw($e.invalidParameters),p=Ze.of(this._iid).requestQueue,m=new JA(Le({channelType:this.channelType,channelUrl:this.url,messageId:i},u)),[4,p.send(m)];case 1:return[2,v.sent().as(k3).message]}})})},o.prototype.copyUserMessage=function(i,c){var u,p,m;return Z(this,void 0,void 0,function(){var v,b;return X(this,function(y){return Pn(i instanceof o&&c instanceof Ka&&c.sendingStatus===Wr.SUCCEEDED&&this.url===c.channelUrl&&!c.scheduledInfo).throw($e.invalidParameters),Pn(!c.poll).throw($e.notSupportedError),v=new Wa,b=(u=c.messageParams)!==null&&u!==void 0?u:_t(Le(Le({},c),{mentionType:c.mentionType,mentionedUserIds:(p=c.mentionedUserIds)!==null&&p!==void 0?p:(m=c.mentionedUsers)===null||m===void 0?void 0:m.map(function(S){return S.userId}),translationTargetLanguages:Object.keys(c.translations),pushNotificationDeliveryOption:zc.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1})),i._sendUserMessage(b).onSucceeded(function(S){v.resolve(S)}).onFailed(function(S){return v.reject(S)}),[2,v.promise]})})},o.prototype.translateUserMessage=function(i,c){return Z(this,void 0,void 0,function(){var u,p;return X(this,function(m){switch(m.label){case 0:return Pn(i instanceof Ka&&i.messageId>0&&ar("string",c)).throw($e.invalidParameters),u=Ze.of(this._iid).requestQueue,p=new Tne({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,translationTargetLanguages:c}),[4,u.send(p)];case 1:return[2,m.sent().as(Cne).message]}})})},o.prototype._createScheduledUserMessage=function(i,c){var u=this,p=Ze.of(this._iid).requestQueue,m=Date.now(),v=this._generateRequestId();ro(2).then(function(){var y=u._createPendingScheduledUserMessage(i,v,m);Vt(function(){return Z(u,void 0,void 0,function(){return X(this,function(S){return[2,c._trigger(y)]})})})});var b=new kne(Le({reqId:v,channelType:this.channelType,channelUrl:this.url},i));p.send(b).then(function(y){var S=y.as(Ine).message;Vt(function(){return Z(u,void 0,void 0,function(){return X(this,function(O){return[2,c._trigger(S)]})})})}).catch(function(y){if(Vc(y))throw y;ro(2).then(function(){var S=u._createPendingScheduledUserMessage(i,v,m);u._markMessageAsFailed(S,y),Vt(function(){return Z(u,void 0,void 0,function(){return X(this,function(O){return[2,c._trigger(S)]})})})})})},o.prototype.sendFileMessage=function(i){var c=Le(Le({},GA),i);return Pn(qA(c)).throw($e.invalidParameters),this._sendFileMessage(c)},o.prototype.sendMultipleFilesMessage=function(i){var c,u=Le(Le({},zne),i),p=Ze.of(this._iid);Pn(function(v,b){return b===void 0&&(b=5),x3(v)&&Array.isArray(v.fileInfoList)&&v.fileInfoList.length>=2&&v.fileInfoList.length<=b&&v.fileInfoList.every(function(y){return function(S){return(hs(S.file)||Ve("string",S.fileUrl))&&Ve("string",S.fileName,!0)&&Ve("string",S.mimeType,!0)&&Ve("number",S.fileSize,!0)&&(S.thumbnailSizes===void 0||Array.isArray(S.thumbnailSizes)&&S.thumbnailSizes.every(function(O){return O.maxWidth>0&&O.maxHeight>0}))}(y)})}(u,(c=p.appInfo)===null||c===void 0?void 0:c.multipleFilesMessageFileCountLimit)).throw($e.invalidParameters);var m=!!i.fileInfoList.find(function(v){var b=p.appInfo.uploadSizeLimit;return v.file instanceof Blob&&v.file.size>b||v.fileSize>b});return Pn(!m).throw($e.fileSizeLimitExceededError),this._sendMultipleFilesMessage(u)},o.prototype._sendFileMessage=function(i,c,u){var p=this;u===void 0&&(u=!1);var m=Ze.of(this._iid).dispatcher,v=da.of(this._iid).fileMessageQueue,b=c??this._generateRequestId(),y=Date.now(),S=new Pv;return b||(b=this._generateRequestId()),ro(2).then(function(){var O=p._createPendingFileMessage(i,b,y);m.dispatch(new qi({messages:[O],source:u?Nr.LOCAL_MESSAGE_RESEND_STARTED:Nr.EVENT_MESSAGE_SENT_PENDING})),Vt(function(){return Z(p,void 0,void 0,function(){return X(this,function(V){return[2,S._trigger(O)]})})}),v.request(p,b,i).then(function(V){m.dispatch(new qi({messages:[V],source:Nr.EVENT_MESSAGE_SENT_SUCCESS})),Vt(function(){return Z(p,void 0,void 0,function(){return X(this,function($){return[2,S._trigger(V)]})})})}).catch(function(V){if(Vc(V))throw V;ro(2).then(function(){var $=p._createPendingFileMessage(i,b,y),te=Ze.of(p._iid).cacheContext.localCacheEnabled&&dv(V.code);p._markMessageAsFailed($,V,te),m.dispatch(new qi({messages:[$],source:$.sendingStatus===Wr.PENDING?Nr.REQUEST_RESEND_MESSAGE:V.code===ft.FILE_UPLOAD_CANCEL_FAILED?Nr.LOCAL_MESSAGE_CANCELED:Nr.EVENT_MESSAGE_SENT_FAILED})),Vt(function(){return Z(p,void 0,void 0,function(){return X(this,function(J){return[2,S._triggerFailed(V,$)]})})})})})}),S},o.prototype._autoResendFileMessage=function(i){Pn(i instanceof ki&&!!i.messageParams).throw($e.invalidParameters);var c=Ze.of(this._iid).logger;return c.debug("autoResendFileMessage pending",i),this._sendFileMessage(i.messageParams,i.reqId).onFailed(function(u){c.debug("autoResendFileMessage failed",u)}).onSucceeded(function(u){c.debug("autoResendFileMessage success",u)})},o.prototype._sendMultipleFilesMessage=function(i,c){var u=this,p=Ze.of(this._iid).dispatcher,m=da.of(this._iid).fileMessageQueue,v=c??this._generateRequestId(),b=Date.now(),y=new Gne;return v||(v=this._generateRequestId()),ro(2).then(function(){var S=u._createPendingMultipleFilesMessage(i,v,b);p.dispatch(new qi({messages:[S],source:Nr.EVENT_MESSAGE_SENT_PENDING})),Vt(function(){return Z(u,void 0,void 0,function(){return X(this,function(O){return[2,y._trigger(S)]})})}),m.request(u,v,i,y).then(function(O){p.dispatch(new qi({messages:[O],source:Nr.EVENT_MESSAGE_SENT_SUCCESS})),Vt(function(){return Z(u,void 0,void 0,function(){return X(this,function(V){return[2,y._trigger(O)]})})})}).catch(function(O){if(Vc(O))throw O;ro(2).then(function(){var V=u._createPendingMultipleFilesMessage(i,v,b);u._markMessageAsFailed(V,O),p.dispatch(new qi({messages:[V],source:Nr.EVENT_MESSAGE_SENT_FAILED})),Vt(function(){return Z(u,void 0,void 0,function(){return X(this,function($){return[2,y._triggerFailed(O,V)]})})})})})}),y},o.prototype._createScheduledFileMessage=function(i,c,u,p){var m=this,v=Ze.of(this._iid).requestQueue,b=new Nne(Le(Le({reqId:u,channelType:this.channelType,channelUrl:this.url},i),{fileUrl:i.fileUrl,requireAuth:i.requireAuth}));v.send(b).then(function(y){var S=y.as(Ane).message;Vt(function(){return Z(m,void 0,void 0,function(){return X(this,function(O){return[2,c._trigger(S)]})})})}).catch(function(y){if(Vc(y))throw y;ro(2).then(function(){var S=m._createPendingScheduledFileMessage(i,u,p);m._markMessageAsFailed(S,y),Vt(function(){return Z(m,void 0,void 0,function(){return X(this,function(O){return[2,c._triggerFailed(y,S)]})})})})})},o.prototype.sendFileMessages=function(i){var c,u;Pn(i.every(function(y){return qA(Le(Le({},GA),y))})).throw($e.invalidParameters);var p=new Pv;try{for(var m=gt(i),v=m.next();!v.done;v=m.next()){var b=v.value;this.sendFileMessage(b).onPending(function(y){return p._trigger(y)}).onFailed(function(y,S){return p._triggerFailed(y,S)}).onSucceeded(function(y){return p._trigger(y)})}}catch(y){c={error:y}}finally{try{v&&!v.done&&(u=m.return)&&u.call(m)}finally{if(c)throw c.error}}return p},o.prototype.resendFileMessage=function(i,c){var u;return Z(this,void 0,void 0,function(){var p,m,v;return X(this,function(b){return p=!!i.url||hs(c)||hs((u=i.messageParams)===null||u===void 0?void 0:u.file),Pn(i instanceof ki&&p&&!i.scheduledInfo).throw($e.invalidParameters),m=new Wa,v=function(y,S){var O;return y.messageParams?(!y.url&&hs(S)&&(y.messageParams.file=S),y.messageParams):ct(_t({data:y.data,customType:y.customType,mentionType:y.mentionType,mentionedUsers:y.mentionedUsers,mentionedUserIds:y.mentionedUserIds,metaArrays:y.metaArrays,parentMessageId:y.parentMessageId,appleCriticalAlertOptions:y.appleCriticalAlertOptions,file:S,fileUrl:y.url,fileName:y.name,fileSize:y.size,mimeType:y.type,thumbnailSizes:(O=y.thumbnails)===null||O===void 0?void 0:O.map(function(V){return{maxWidth:V.width,maxHeight:V.height}})}))}(i,c),this._sendFileMessage(v,i.reqId,!0).onFailed(function(y){return m.reject(y)}).onSucceeded(function(y){return m.resolve(y)}),[2,m.promise]})})},o.prototype.updateFileMessage=function(i,c){return Z(this,void 0,void 0,function(){var u,p,m;return X(this,function(v){switch(v.label){case 0:return u=Le(Le({},Oee),c),Pn(Ve("number",i)&&function(b){return $A(b)}(u)).throw($e.invalidParameters),p=Ze.of(this._iid).requestQueue,m=new eO(Le({channelType:this.channelType,channelUrl:this.url,messageId:i},u)),[4,p.send(m)];case 1:return[2,v.sent().as(I3).message]}})})},o.prototype.cancelUploadingFileMessage=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){return Pn(Ve("string",i)).throw($e.invalidParameters),da.of(this._iid).fileMessageQueue.cancel(this,i),[2,!0]})})},o.prototype.copyFileMessage=function(i,c){var u,p,m;return Z(this,void 0,void 0,function(){var v,b;return X(this,function(y){return Pn(i instanceof o&&c instanceof ki&&c.sendingStatus===Wr.SUCCEEDED&&this.url===c.channelUrl&&!c.scheduledInfo).throw($e.invalidParameters),v=new Wa,b=_t(Le(Le({},c),{fileUrl:c.url,fileName:c.name,fileSize:c.size,mimeType:c.type,mentionType:c.mentionType,mentionedUserIds:(u=c.mentionedUserIds)!==null&&u!==void 0?u:(p=c.mentionedUsers)===null||p===void 0?void 0:p.map(function(S){return S.userId}),pushNotificationDeliveryOption:zc.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:(m=c.thumbnails)===null||m===void 0?void 0:m.map(function(S){return{maxWidth:S.width,maxHeight:S.height}}),requireAuth:c.requireAuth,isPinnedMessage:!1})),i._sendFileMessage(b).onSucceeded(function(S){return v.resolve(S)}).onFailed(function(S){return v.reject(S)}),[2,v.promise]})})},o.prototype.deleteMessage=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){switch(p.label){case 0:return Pn(i instanceof Ql).throw($e.invalidParameters),i.messageId>0?(c=Ze.of(this._iid).requestQueue,u=new bne({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId}),[4,c.send(u)]):[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},o.prototype.addReaction=function(i,c){return Z(this,void 0,void 0,function(){var u,p;return X(this,function(m){switch(m.label){case 0:return Pn(i instanceof Ql&&i.messageId>0&&Ve("string",c)).throw($e.invalidParameters),u=Ze.of(this._iid).requestQueue,p=new Ene({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:c}),[4,u.send(p)];case 1:return[2,m.sent().as(wne).reactionEvent]}})})},o.prototype.deleteReaction=function(i,c){return Z(this,void 0,void 0,function(){var u,p;return X(this,function(m){switch(m.label){case 0:return Pn(i instanceof Ql&&i.messageId>0&&Ve("string",c)).throw($e.invalidParameters),u=Ze.of(this._iid).requestQueue,p=new xne({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:c}),[4,u.send(p)];case 1:return[2,m.sent().as(Sne).reactionEvent]}})})},o.prototype._updateUserMessageMetaArray=function(i,c,u,p){return Z(this,void 0,void 0,function(){var m,v,b,y,S,O;return X(this,function(V){switch(V.label){case 0:return m=Ze.of(this._iid),v=m.dispatcher,b=m.requestQueue,y=new JA({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:c,mode:u,upsert:p}}),[4,b.send(y)];case 1:return S=V.sent(),O=S.as(k3).message,v.dispatch(new qi({messages:[O],source:Nr.EVENT_MESSAGE_UPDATED})),[2,O]}})})},o.prototype._updateFileMessageMetaArray=function(i,c,u,p){return Z(this,void 0,void 0,function(){var m,v,b,y,S,O;return X(this,function(V){switch(V.label){case 0:return m=Ze.of(this._iid),v=m.dispatcher,b=m.requestQueue,y=new eO({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:c,mode:u,upsert:p}}),[4,b.send(y)];case 1:return S=V.sent(),O=S.as(I3).message,v.dispatch(new qi({messages:[O],source:Nr.EVENT_MESSAGE_UPDATED})),[2,O]}})})},o.prototype.createMessageMetaArrayKeys=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){return Pn(i instanceof Ql&&i.messageId>0&&ar("string",c)).throw($e.invalidParameters),u=c.map(function(m){return new Ms({key:m})}),i instanceof ki?[2,this._updateFileMessageMetaArray(i.messageId,u,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,u,"add",!0)]})})},o.prototype.deleteMessageMetaArrayKeys=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){return Pn(i instanceof Ql&&i.messageId>0&&ar("string",c)).throw($e.invalidParameters),u=c.map(function(m){return new Ms({key:m})}),i instanceof ki?[2,this._updateFileMessageMetaArray(i.messageId,u,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,u,"remove",!0)]})})},o.prototype.addMessageMetaArrayValues=function(i,c){return Z(this,void 0,void 0,function(){return X(this,function(u){return Pn(i instanceof Ql&&i.messageId>0&&c.every(function(p){return p instanceof Ms})).throw($e.invalidParameters),i instanceof ki?[2,this._updateFileMessageMetaArray(i.messageId,c,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,c,"add",!0)]})})},o.prototype.removeMessageMetaArrayValues=function(i,c){return Z(this,void 0,void 0,function(){return X(this,function(u){return Pn(i instanceof Ql&&i.messageId>0&&c.every(function(p){return p instanceof Ms})).throw($e.invalidParameters),i instanceof ki?[2,this._updateFileMessageMetaArray(i.messageId,c,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,c,"remove",!0)]})})},o.prototype.report=function(i,c){return Z(this,void 0,void 0,function(){var u,p,m,v;return X(this,function(b){switch(b.label){case 0:return Pn(Lr(df,i)&&Ve("string",c)).throw($e.invalidParameters),u=Ze.of(this._iid),p=u.sdkState,m=u.requestQueue,v=new _ne({channelUrl:this.url,channelType:this.channelType,userId:p.userId,category:i,description:c}),[4,m.send(v)];case 1:return b.sent(),[2]}})})},o.prototype.reportUser=function(i,c,u){return Z(this,void 0,void 0,function(){var p,m,v,b;return X(this,function(y){switch(y.label){case 0:return Pn(i instanceof Ft&&Lr(df,c)&&Ve("string",u)).throw($e.invalidParameters),p=Ze.of(this._iid),m=p.sdkState,v=p.requestQueue,b=new mne({channelUrl:this.url,channelType:this.channelType,userId:m.userId,offendingUserId:i.userId,category:c,description:u}),[4,v.send(b)];case 1:return y.sent(),[2]}})})},o.prototype.reportMessage=function(i,c,u){return Z(this,void 0,void 0,function(){var p,m,v,b;return X(this,function(y){switch(y.label){case 0:return Pn(i instanceof hu&&Lr(df,c)&&Ve("string",u)).throw($e.invalidParameters),p=Ze.of(this._iid),m=p.sdkState,v=p.requestQueue,b=new vne({channelUrl:this.url,channelType:this.channelType,userId:m.userId,offendingUserId:i.sender.userId,messageId:i.messageId,category:c,description:u}),[4,v.send(b)];case 1:return y.sent(),[2]}})})},o.prototype.updatePoll=function(i,c){return Z(this,void 0,void 0,function(){var u,p;return X(this,function(m){switch(m.label){case 0:return Pn(Ve("number",i)&&function(v){return Ve("string",v.title,!0)&&vA(v.data)&&Ve("boolean",v.allowUserSuggestion,!0)&&Ve("boolean",v.allowMultipleVotes,!0)&&Ve("number",v.closeAt,!0)}(c)).throw($e.invalidParameters),u=Ze.of(this._iid).requestQueue,p=new One(Le({pollId:i},c)),[4,u.send(p)];case 1:return[2,m.sent().as(Rne).poll]}})})},o.prototype.deletePoll=function(i){return Z(this,void 0,void 0,function(){var c,u,p;return X(this,function(m){switch(m.label){case 0:return c=Ve("number",i),Pn(c).throw($e.invalidParameters),u=Ze.of(this._iid).requestQueue,p=new Mne({pollId:i}),[4,u.send(p)];case 1:return m.sent(),[2]}})})},o.prototype.closePoll=function(i){return Z(this,void 0,void 0,function(){var c,u,p;return X(this,function(m){switch(m.label){case 0:return c=Ve("number",i),Pn(c).throw($e.invalidParameters),u=Ze.of(this._iid).requestQueue,p=new Dne({pollId:i}),[4,u.send(p)];case 1:return[2,m.sent().as(Lne).poll]}})})},o.prototype.addPollOption=function(i,c){return Z(this,void 0,void 0,function(){var u,p,m;return X(this,function(v){switch(v.label){case 0:return u=Ve("number",i)&&Ve("string",c)&&c.trim()!=="",Pn(u).throw($e.invalidParameters),p=Ze.of(this._iid).requestQueue,m=new Une({channelUrl:this.url,channelType:this.channelType,pollId:i,optionText:c}),[4,p.send(m)];case 1:return[2,v.sent().as(Pne).poll]}})})},o.prototype.updatePollOption=function(i,c,u){return Z(this,void 0,void 0,function(){var p,m,v;return X(this,function(b){switch(b.label){case 0:return p=Ve("number",i)&&Ve("number",c)&&Ve("string",u)&&u.trim()!=="",Pn(p).throw($e.invalidParameters),m=Ze.of(this._iid).requestQueue,v=new Fne({pollId:i,pollOptionId:c,optionText:u}),[4,m.send(v)];case 1:return[2,b.sent().as(Hne).poll]}})})},o.prototype.deletePollOption=function(i,c){return Z(this,void 0,void 0,function(){var u,p,m;return X(this,function(v){switch(v.label){case 0:return u=Ve("number",i)&&Ve("number",c),Pn(u).throw($e.invalidParameters),p=Ze.of(this._iid).requestQueue,m=new Bne({pollId:i,pollOptionId:c}),[4,p.send(m)];case 1:return v.sent(),[2]}})})},o.prototype.votePoll=function(i,c){return Z(this,void 0,void 0,function(){var u,p,m,v,b,y,S;return X(this,function(O){switch(O.label){case 0:return u=Ve("number",i)&&ar("number",c),Pn(u).throw($e.invalidParameters),p=Ze.of(this._iid),m=p.requestQueue,v=p.dispatcher,b=new Vne({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionIds:c}),[4,m.send(b)];case 1:return y=O.sent(),S=y.as(nO).event,v.dispatch(new v3({event:S,source:Nr.EVENT_POLL_VOTED})),[2,S]}})})},o.prototype.getPollChangeLogsSinceTimestamp=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return Pn(Ve("number",i)).throw($e.invalidParameters),[4,g3.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,c.sent()]}})})},o.prototype.getPollChangeLogsSinceToken=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return Pn(Ve("string",i,!0)),[4,g3.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,c.sent()]}})})},o.prototype.createPollListQuery=function(i){return i===void 0&&(i=10),new TA(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:i})},o.prototype.createPollVoterListQuery=function(i,c,u){return u===void 0&&(u=20),new CA(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionId:c,limit:u})},o}(Rs),qne=function(s){function o(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(u){c.hasOwnProperty(u)&&(c[u]=i[u])}),c}return ve(o,s),o}(function(){this.onConnected=Ot,this.onReconnectStarted=Ot,this.onReconnectSucceeded=Ot,this.onReconnectFailed=Ot,this.onDisconnected=Ot}),jne=function(s){function o(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(u){c.hasOwnProperty(u)&&(c[u]=i[u])}),c}return ve(o,s),o}(function(){this.onSessionExpired=Ot,this.onSessionTokenRequired=function(s){return s(null)},this.onSessionError=Ot,this.onSessionRefreshed=Ot,this.onSessionClosed=Ot}),$ne=function(s){function o(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(u){c.hasOwnProperty(u)&&(c[u]=i[u])}),c}return ve(o,s),o}(function(){this.onFriendsDiscovered=Ot,this.onTotalUnreadMessageCountChanged=Ot,this.onTotalUnreadMessageCountUpdated=Ot}),Wne=function(s){function o(i){var c=i.limit,u=i.token,p=i.userIdsFilter,m=i.metaDataKeyFilter,v=i.metaDataValuesFilter,b=i.nicknameStartsWithFilter,y=s.call(this)||this;return y.method=Dn.GET,y.path=hr,y.params=ct({limit:c,token:u,user_ids:p,metadatakey:m,metadatavalues_in:v,nickname_startswith:b}),y}return ve(o,s),o}(Un),Kne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.users=c.users.map(function(p){return new Ft(i,p)}),u.next=c.next,u}return ve(o,s),o}(qn),Qne=function(s){function o(i,c){var u,p,m,v=this;return(v=s.call(this,i,c)||this).userIdsFilter=null,v.metaDataKeyFilter=null,v.metaDataValuesFilter=null,v.nicknameStartsWithFilter=null,v.userIdsFilter=(u=c.userIdsFilter)!==null&&u!==void 0?u:null,v.metaDataKeyFilter=(p=c.metaDataKeyFilter)!==null&&p!==void 0?p:null,v.metaDataValuesFilter=(m=c.metaDataValuesFilter)!==null&&m!==void 0?m:null,v.nicknameStartsWithFilter=c.nicknameStartsWithFilter||null,v}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&ar("string",this.userIdsFilter,!0)&&Ve("string",this.metaDataKeyFilter,!0)&&ar("string",this.metaDataValuesFilter,!0)&&Ve("string",this.metaDataKeyFilter,!0)},o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid).requestQueue,c=new Wne(_t(Le(Le({},this),{token:this._token}))),[4,i.send(c)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(Kne),m=p.users,v=p.next,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,m];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(Zh),Yne=function(s){function o(i){var c=i.userId,u=i.limit,p=i.token,m=i.userIdsFilter,v=s.call(this)||this;return v.method=Dn.GET,v.path="".concat(hr,"/").concat(c,"/block"),v.params=ct({limit:u,token:p,user_ids:m}),v}return ve(o,s),o}(Un),Xne=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.users=c.users.map(function(p){return new Ft(i,p)}),u.next=c.next,u}return ve(o,s),o}(qn),Zne=function(s){function o(i,c){var u,p=this;return(p=s.call(this,i,c)||this).userIdsFilter=null,p.userIdsFilter=(u=c.userIdsFilter)!==null&&u!==void 0?u:null,p}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&ar("string",this.userIdsFilter,!0)},o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Yne(_t(Le(Le({},this),{userId:c.userId,token:this._token}))),[4,u.send(p)]):[3,2]:[3,5];case 1:return m=S.sent(),v=m.as(Xne),b=v.users,y=v.next,this._token=y,this._hasNext=!!y,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(Zh),Jne=function(s){function o(i){var c=i.userId,u=i.limit,p=i.token,m=s.call(this)||this;return m.method=Dn.GET,m.path="".concat(hr,"/").concat(encodeURIComponent(c),"/friends"),m.params={limit:u,token:p},m}return ve(o,s),o}(Un),ete=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.hasMore=c.has_more,u.users=c.users.map(function(p){return new Ft(i,p)}),u.next=c.next,u}return ve(o,s),o}(qn),nte=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)},o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y,S;return X(this,function(O){switch(O.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Jne(Le(Le({},this),{userId:c.userId,token:this._token})),[4,u.send(p)]):[3,2]:[3,5];case 1:return m=O.sent(),v=m.as(ete),b=v.users,y=v.hasMore,S=v.next,this._token=S,this._hasNext=y,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(Zh),Bv={},Vv=function(){function s(o){var i=o.dbname,c=o.itemSizeLimit,u=c===void 0?1048576:c,p=o.cacheLimit,m=p===void 0?256:p,v=o.blockHashBase,b=v===void 0?2:v,y=o.blockHashMultiplier,S=y===void 0?10:y,O=o.blockHashConstant,V=O===void 0?11:O,$=o.transactionApplyDelay,te=$===void 0?200:$,J=o.disableLogger,oe=J!==void 0&&J;return Bv[i]||(this.itemSizeLimit=u,this.cacheLimit=m,this.blockHashBase=b,this.blockHashMultiplier=S,this.blockHashConstant=V,this.transactionApplyDelay=te,this.disableLogger=oe,Bv[i]=this),Bv[i]}return s.get=function(o){return Bv[o]},s}();(function(s){s[s.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",s[s.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",s[s.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",s[s.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",s[s.STORE_IS_FULL=61001003]="STORE_IS_FULL",s[s.STORE_NOT_INITIALIZED=61001004]="STORE_NOT_INITIALIZED",s[s.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",s[s.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",s[s.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",s[s.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",s[s.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",s[s.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",s[s.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",s[s.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",s[s.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",s[s.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",s[s.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",s[s.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",s[s.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",s[s.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",s[s.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",s[s.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",s[s.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",s[s.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",s[s.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",s[s.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(Ar||(Ar={}));var fu,er=function(s){function o(i){var c=i.code,u=c===void 0?Ar.UNKNOWN_ERROR:c,p=i.message,m=p===void 0?"Unknown error occurred.":p,v=s.call(this,m)||this;return v.code=u,Object.setPrototypeOf(v,o.prototype),v}return ve(o,s),Object.defineProperty(o,"storeNotDefined",{get:function(){return new o({code:Ar.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeNotAvailable",{get:function(){return new o({code:Ar.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeNotAvailableInPrivateBrowsing",{get:function(){return new o({code:Ar.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeIsFull",{get:function(){return new o({code:Ar.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeNotInitialized",{get:function(){return new o({code:Ar.STORE_NOT_INITIALIZED,message:"Store is not initialized."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeKeyTypeIsInvalid",{get:function(){return new o({code:Ar.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeBrokenIntegrity",{get:function(){return new o({code:Ar.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeBrokenBlob",{get:function(){return new o({code:Ar.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeEncryptionInvalid",{get:function(){return new o({code:Ar.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeItemSizeExceeded",{get:function(){return new o({code:Ar.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeReadFailed",{get:function(){return new o({code:Ar.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeWriteFailed",{get:function(){return new o({code:Ar.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"databaseSchemaNotOnUpgrade",{get:function(){return new o({code:Ar.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionNotReady",{get:function(){return new o({code:Ar.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionKeyNotMatch",{get:function(){return new o({code:Ar.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionQueryNotValid",{get:function(){return new o({code:Ar.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionInsertDuplicate",{get:function(){return new o({code:Ar.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionKeyNotFound",{get:function(){return new o({code:Ar.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionKeyNotGiven",{get:function(){return new o({code:Ar.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionWriteFailed",{get:function(){return new o({code:Ar.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionItemSizeExceeded",{get:function(){return new o({code:Ar.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"indexTableIsRequired",{get:function(){return new o({code:Ar.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"indexTypesNotMatch",{get:function(){return new o({code:Ar.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"compareTypesNotMatch",{get:function(){return new o({code:Ar.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"circularReferenceFound",{get:function(){return new o({code:Ar.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),o}(Error);(function(s){s.INIT="init",s.READY="ready",s.CLOSED="closed"})(fu||(fu={}));var iO,Qa=function(s,o){if(o===void 0&&(o=new WeakMap),typeof s=="object"&&s!==null){if(o.has(s))throw er.circularReferenceFound;o.set(s,!0);var i=void 0;if(Array.isArray(s))i=s.map(function(u){return Qa(u,o)});else if(s instanceof RegExp)i=s;else if(s instanceof Date)i=s;else for(var c in i={},s)i[c]=Qa(s[c],o);return o.delete(s),i}return s},Xl=function(s,o){if(o==null)return 1;if(s==null)return-1;if(typeof s!=typeof o)throw er.compareTypesNotMatch;var i=0;switch(typeof s){case"boolean":case"number":i=s-o;break;case"string":i=s.localeCompare(o)}return i},aO=function(s,o){for(var i=0,c=0;c<s.length;c++)i=s.charCodeAt(c)+(i<<6)+(i<<16)-i;return(i>>>0)%o},zv=function(s){return new Promise(function(o){setTimeout(function(){return o()},s)})},_u=function(s,o){if(!o)return!1;if(typeof s!="function"){for(var i in s)if(["/and","&&"].includes(i)){if(s[i].some(function(b){return!_u(b,o)}))return!1}else if(["/or","||"].includes(i)){if(s[i].every(function(b){return!_u(b,o)}))return!1}else if(i==="/where"){if(!(0,s[i])(o))return!1}else{var c=i;if(typeof s[c]=="object"){var u=s[c];for(var p in u)switch(p){case"/eq":case"=":if((m=o[c])!==(v=u[p]))return!1;break;case"/neq":case"!=":if((m=o[c])===(v=u[p]))return!1;break;case"/gt":case">":var m=o[c],v=u[p];if(!(Xl(m,v)>0))return!1;break;case"/gte":case">=":if(m=o[c],v=u[p],!(Xl(m,v)>=0))return!1;break;case"/lt":case"<":if(m=o[c],v=u[p],!(Xl(m,v)<0))return!1;break;case"/lte":case"<=":if(m=o[c],v=u[p],!(Xl(m,v)<=0))return!1;break;case"/in":if(m=o[c],!(v=u[p]).includes(m))return!1;break;case"/nin":if(m=o[c],(v=u[p]).includes(m))return!1;break;case"/contain":if(m=o[c],v=u[p],!m.includes(v))return!1;break;case"/regex":if(m=o[c],!(v=u[p]).test(m))return!1;break;case"/where":if(m=o[c],!(0,u[p])(m))return!1}}else if(typeof s[c]=="function"){if(!s[c](o[c]))return!1}else if(s[c]!==o[c])return!1}return!0}return s(o)},uf=function(){},sO=function(){return Promise.resolve()},tte=function(s){return s},oO=function(s,o){o()};(function(s){s[s.FORWARD=0]="FORWARD",s[s.BACKWARD=1]="BACKWARD"})(iO||(iO={}));var mu,la,fl,rte=function(){function s(o){var i=o.initialPrevValue,c=i===void 0?null:i,u=o.initialNextValue,p=u===void 0?null:u,m=o.iterator,v=o.map,b=v===void 0?tte:v,y=o.backward,S=y===void 0?sO:y,O=o.forward,V=O===void 0?sO:O,$=o.complete,te=$===void 0?uf:$;this._prevValue=c,this._nextValue=p,this._error=null,this._map=b,this._backward=S,this._forward=V,this._iterator=m,this._complete=te}return Object.defineProperty(s.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),s.prototype.prev=function(){return Z(this,void 0,void 0,function(){var o,i,c;return X(this,function(u){switch(u.label){case 0:if(!this.hasPrevious)return[3,6];u.label=1;case 1:return u.trys.push([1,3,,4]),o=this._prevValue,i=this,[4,this._backward()];case 2:return i._prevValue=u.sent()||null,this._nextValue=o,[3,4];case 3:return c=u.sent(),this._error=c,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,u.sent()];case 6:this._complete(),u.label=7;case 7:return[2]}})})},s.prototype.next=function(){return Z(this,void 0,void 0,function(){var o,i,c;return X(this,function(u){switch(u.label){case 0:if(!this.hasNext)return[3,6];u.label=1;case 1:return u.trys.push([1,3,,4]),o=this._nextValue,i=this,[4,this._forward()];case 2:return i._nextValue=u.sent()||null,this._prevValue=o,[3,4];case 3:return c=u.sent(),this._error=c,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,u.sent()];case 6:this._complete(),u.label=7;case 7:return[2]}})})},s.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},s}(),N3=function(){function s(o){var i=o.condition,c=i===void 0?{}:i,u=o.backward,p=u!==void 0&&u,m=o.blockManager,v=o.indexer;this.condition=c,this.backward=p,this._blockManager=m,this._indexer=v}return s.prototype.findOptimizedStartPosition=function(){var o=this,i=["=","/eq",">",">=","/gt","/gte"],c=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var u=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var p in this._indexer.fields){var m=this._indexer.fields[p],v=1;if(m[0]==="-"&&(m=m.slice(1),v=-1),this.condition[m]){if(typeof this.condition[m]=="object"){var b=v>0?c:i;for(var y in this.condition[m])if(b.includes(y)){for(var S=u;S>=0;S--)if(v*Xl(this._indexer.origin[S].columnValues[p],this.condition[m][y])<=0){u=S;break}}}else for(S=u;S>=0;S--)if(v*Xl(this._indexer.origin[S].columnValues[p],this.condition[m])<=0){u=S;break}}}return Math.min(u+1,this._indexer.origin.length-1)}var O=0;if(typeof this.condition!="function"){var V=function(te){var J=$._indexer.fields[te],oe=1;if(J[0]==="-"&&(J=J.slice(1),oe=-1),$.condition[J]){if(typeof $.condition[J]=="object")Object.keys($.condition[J]).forEach(function(Ie){if((oe>0?i:c).includes(Ie)){for(var Ue=O;Ue<o._indexer.origin.length;Ue++)if(oe*Xl(o._indexer.origin[Ue].columnValues[te],o.condition[J][Ie])>=0){O=Ue;break}}});else for(var xe=O;xe<$._indexer.origin.length;xe++)if(oe*Xl($._indexer.origin[xe].columnValues[te],$.condition[J])>=0){O=xe;break}}},$=this;for(p=0;p<this._indexer.fields.length;p++)V(p)}return Math.max(O-1,0)},s.prototype.each=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y=this;return X(this,function(S){switch(S.label){case 0:if(i=this.findOptimizedStartPosition(),c=0,this.backward&&this._indexer.origin[i]&&(c=this._indexer.origin[i].keys.length-1),u=function(){if(y._indexer.origin[i]){if(!y._indexer.origin[i].keys[++c]){if(!y._indexer.origin[++i])return!1;c=0}return!0}return!1},p=function(){if(y._indexer.origin[i]){if(!y._indexer.origin[i].keys[--c]){if(!y._indexer.origin[--i])return!1;c=y._indexer.origin[i].keys.length-1}return!0}return!1},m=null,!this._indexer.origin[i])return[3,4];v=this.backward?p:u,S.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[c])];case 2:if((b=S.sent())&&_u(this.condition,b))return m=b,[3,4];S.label=3;case 3:if(v())return[3,1];S.label=4;case 4:return[4,new Promise(function(O){var V=new rte({initialNextValue:Qa(m),iterator:o,forward:function(){return Z(y,void 0,void 0,function(){var $,te;return X(this,function(J){switch(J.label){case 0:$=this.backward?p:u,J.label=1;case 1:return $()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[c])]:[3,3];case 2:return(te=J.sent())&&_u(this.condition,te)?[2,Qa(te)]:[3,1];case 3:return[2,null]}})})},backward:function(){return Z(y,void 0,void 0,function(){var $,te;return X(this,function(J){switch(J.label){case 0:$=this.backward?u:p,J.label=1;case 1:return $()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[c])]:[3,3];case 2:return(te=J.sent())&&_u(this.condition,te)?[2,Qa(te)]:[3,1];case 3:return[2,null]}})})},complete:O});o(V)})];case 5:return[2,S.sent()]}})})},s}(),ite=function(){function s(o){var i=o.condition,c=i===void 0?{}:i,u=o.backward,p=u!==void 0&&u,m=o.mutex,v=o.blockManager,b=o.indexer;this._mutex=m,this._iterator=new N3({condition:c,backward:p,blockManager:v,indexer:b})}return s.prototype.fetch=function(o){return o===void 0&&(o={}),Z(this,void 0,void 0,function(){var i,c,u,p,m=this;return X(this,function(v){switch(v.label){case 0:if(i=Math.max(o.offset||0,0),(c=typeof o.limit=="number"?o.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(c<0)throw er.collectionQueryNotValid;v.label=1;case 1:return v.trys.push([1,4,,5]),u=[],[4,this._mutex.lock()];case 2:return v.sent(),[4,this._iterator.each(function(b){return Z(m,void 0,void 0,function(){return X(this,function(y){return b.error?b.stop():b.hasNext?i===0?(u.push(b.nextValue),0<c&&c<=u.length?b.stop():b.next()):(i--,b.next()):b.stop(),[2]})})})];case 3:return v.sent(),this._mutex.unlock(),[2,u];case 4:throw p=v.sent(),this._mutex.unlock(),p;case 5:return[2]}})})},s.prototype.count=function(){return Z(this,void 0,void 0,function(){var o,i,c=this;return X(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o=0,[4,this._mutex.lock()];case 1:return u.sent(),[4,this._iterator.each(function(p){return Z(c,void 0,void 0,function(){return X(this,function(m){return p.error?p.stop():p.hasNext?(o++,p.next()):p.stop(),[2]})})})];case 2:return u.sent(),this._mutex.unlock(),[2,o];case 3:throw i=u.sent(),this._mutex.unlock(),i;case 4:return[2]}})})},s}(),A3=function(s){return"".concat("nest","@").concat(s)},vu=function(s,o){return"".concat(A3(s),"/").concat(o)},O3=function(s,o){return"".concat(vu(s,o),".metadata")},R3=function(s,o){return"".concat(vu(s,o),"/block.")},lO=function(s,o){return"".concat(vu(s,o),"/blob.")},ate=function(){function s(o){var i=o.dbname,c=o.collectionName,u=o.store;this.dbname=i,this.collectionName=c,this.store=u}return s.prototype.get=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y,S;return X(this,function(O){switch(O.label){case 0:return[4,this.store.get(o)];case 1:return(i=O.sent())?(c=i.data,u=i.type,typeof fetch>"u"?[3,4]:[4,fetch(c)]):[3,5];case 2:return[4,O.sent().blob()];case 3:return[2,O.sent()];case 4:for(p=[],m=atob(c.split(",")[1]),v=0;v<m.length;v+=512){for(b=m.slice(v,v+512),y=new Array(b.length),S=0;S<b.length;S++)y[S]=b.charCodeAt(S);p.push(new Uint8Array(y))}return[2,new Blob(p,{type:u})];case 5:return[2,null]}})})},s.prototype.save=function(o,i){return i===void 0&&(i="".concat(Date.now())),Z(this,void 0,void 0,function(){var c,u,p,m,v=this;return X(this,function(b){switch(b.label){case 0:return[4,new Promise(function(y){var S=function(V,$,te,J){return J===void 0&&(J=0),"".concat(lO(V,$)).concat(te,".").concat(J)}(v.dbname,v.collectionName,i),O=new FileReader;O.onload=function(){y({blobId:S,data:O.result,type:o.type})},O.readAsDataURL(o)})];case 1:return c=b.sent(),u=c.blobId,p=c.data,m=c.type,[4,this.store.set({key:u,value:{data:p,type:m}})];case 2:return b.sent(),[2,u]}})})},s.prototype.remove=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this.store.remove(o)];case 1:return i.sent(),[2]}})})},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){var o,i,c=this;return X(this,function(u){switch(u.label){case 0:return o=lO(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return i=u.sent(),[4,Promise.all(i.filter(function(p){return p.startsWith(o)}).map(function(p){return Z(c,void 0,void 0,function(){return X(this,function(m){switch(m.label){case 0:return[4,this.store.remove(p)];case 1:return[2,m.sent()]}})})}))];case 2:return u.sent(),[2]}})})},s}();(function(s){s[s.COMMIT=0]="COMMIT",s[s.WRITE=1]="WRITE",s[s.ERROR=2]="ERROR"})(mu||(mu={})),function(s){s.PENDING="pending",s.PERSISTENT="persistent",s.VOLATILE="volatile"}(la||(la={})),function(s){s[s.NO_CACHE=0]="NO_CACHE",s[s.DEFAULT=1]="DEFAULT",s[s.PERSISTENT=2]="PERSISTENT"}(fl||(fl={}));var hf,ca,cO=[la.PENDING,la.VOLATILE],Gv={},so=function(){function s(o){var i=o.dbname,c=o.limit,u=c===void 0?256:c;return Gv[i]||(this.dbname=i,this._items=[],this._limit=u,Gv[i]=this),Gv[i]}return s.get=function(o){return Gv[o]},Object.defineProperty(s.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),s.prototype.find=function(o,i,c){return c===void 0&&(c=fl.DEFAULT),Z(this,void 0,void 0,function(){var u,p;return X(this,function(m){switch(m.label){case 0:return(u=this.get(i))?[3,2]:[4,o.get(i)];case 1:return(p=m.sent())&&(u={key:i,value:p,state:c===fl.PERSISTENT?la.PERSISTENT:la.VOLATILE},this.put(u)),[3,3];case 2:c===fl.PERSISTENT&&(u.state=la.PERSISTENT),m.label=3;case 3:return[2,u]}})})},s.prototype.get=function(o,i){i===void 0&&(i=fl.DEFAULT);var c=this._items.map(function(p){return p.key}).indexOf(o);if(c>-1){var u=this._items[c];return i===fl.PERSISTENT&&(u.state=la.PERSISTENT),i!==fl.NO_CACHE&&this.put(u),u}return null},s.prototype.put=function(o){var i,c;if(this._limit>0){var u=this._items.map(function(O){return O.key}).indexOf(o.key);if(u>-1)cO.includes(this._items[u].state)&&cO.includes(o.state)?(this._items.splice(u,1),this._items.push(o)):(this._items[u].state=o.state,this._items[u].value=o.value);else{this._items.push(o);var p=this._items.filter(function(O){return O.state===la.VOLATILE}),m=p.length-this._limit;if(m>0){var v=[];try{for(var b=gt(this._items),y=b.next();!y.done;y=b.next()){var S=y.value;S.state===la.VOLATILE&&m>0?m--:v.push(S)}}catch(O){i={error:O}}finally{try{y&&!y.done&&(c=b.return)&&c.call(b)}finally{if(i)throw i.error}}this._items=v}}}},s.prototype.remove=function(o){var i=this._items.map(function(c){return c.key}).indexOf(o);i>-1&&this._items.splice(i,1)},s.prototype.clearByCondition=function(o){this._items=this._items.filter(function(i){return!o(i)})},s.prototype.clear=function(o){o===void 0&&(o=!1),this._items=o?[]:this._items.filter(function(i){return i.state!==la.VOLATILE})},s}(),ste=function(){function s(o){var i=o.dbname,c=o.collectionName,u=o.store;this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=i,this.collectionName=c,this.metadataKey=function(p,m){return"".concat(vu(p,m),"/trans.metadata")}(i,c),this.recordsetKey=function(p,m){return"".concat(vu(p,m),"/trans.recordset")}(i,c),this._store=u}return Object.defineProperty(s.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),s.prototype._getReducedRecordset=function(o){return o===void 0&&(o=[]),Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(i=c.sent()||[]).push.apply(i,Yt([],Mt(o),!1)),[2,this._reduceRecordSet(i)]}})})},s.prototype._reduceRecordSet=function(o){for(var i=[],c={},u=o.length-1;u>=0;u--){for(var p=o[u],m=[],v=p.requests.length-1;v>=0;v--){var b=p.requests[v],y=b.data;c[y.key]||(m.unshift(b),c[y.key]=!0)}m.length>0&&(p.requests=m,i.unshift(p))}return i},s.prototype._applyRecord=function(o,i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y,S,O;return X(this,function(V){switch(V.label){case 0:c=so.get(this.dbname),u=i.generation,p=i.requests,m=null,V.label=1;case 1:return V.trys.push([1,3,,4]),[4,this._store.setMany(p.map(function($){return Le(Le({},$.data),{generation:u})}))];case 2:for(v=V.sent(),b=0;b<p.length;b++)v[b]instanceof Error&&(m||(m=v[b]),y=p[b].data,c.put(Le(Le({},y),{state:la.PERSISTENT})));return[3,4];case 3:return S=V.sent(),m=S,[3,4];case 4:return m?[3,6]:(O=o.filter(function($){return $.generation!==u}),[4,this._store.set({key:this.recordsetKey,value:O})]);case 5:return V.sent(),this._onWrite.forEach(function($){$(p.map(function(te){return te.data}))}),[3,7];case 6:this._onError.forEach(function($){m&&$(m)}),V.label=7;case 7:return[2]}})})},s.prototype.init=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:return o=this,[4,this._store.get(this.metadataKey)];case 1:return o._metadata=y.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:i=y.sent(),y.label=3;case 3:y.trys.push([3,8,9,10]),c=gt(i),u=c.next(),y.label=4;case 4:return u.done?[3,7]:(p=u.value,[4,this._applyRecord(i,p)]);case 5:y.sent(),y.label=6;case 6:return u=c.next(),[3,4];case 7:return[3,10];case 8:return m=y.sent(),v={error:m},[3,10];case 9:try{u&&!u.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 10:return[2]}})})},s.prototype.on=function(o,i,c){switch(o){case mu.COMMIT:this._onCommit.set(i,c);break;case mu.WRITE:this._onWrite.set(i,c);break;case mu.ERROR:this._onError.set(i,c)}},s.prototype.requestWrite=function(o,i){this._requests.push({data:o,options:i}),so.get(this.dbname).put(Le({state:la.PENDING},o))},s.prototype.requestMultipleWrite=function(o,i){var c,u,p=so.get(this.dbname);try{for(var m=gt(o),v=m.next();!v.done;v=m.next()){var b=v.value;this._requests.push({data:b,options:i}),p.put(Le({state:la.PENDING},b))}}catch(y){c={error:y}}finally{try{v&&!v.done&&(u=m.return)&&u.call(m)}finally{if(c)throw c.error}}},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(o){return so.get(this.dbname).clearByCondition(function(i){return i.state===la.PENDING}),this._requests=[],[2]})})},s.prototype.commit=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m,v,b,y,S,O,V,$=this;return X(this,function(te){switch(te.label){case 0:if(!((o=this._requests).length>0))return[3,4];for(i=[],c={},b=o.length-1;b>=0;b--)u=o[b],S=u.data,c[S.key]||(c[S.key]=!0,i.unshift(u));return p={generation:this.generation,requests:i},[4,this._getReducedRecordset([p])];case 1:return m=te.sent(),[4,this._store.set({key:this.recordsetKey,value:m})];case 2:return te.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata})];case 3:for(te.sent(),v=so.get(this.dbname),b=0;b<i.length;b++)y=i[b],S=y.data,O=y.options,v.put(Le(Le({},S),{state:O&&O.persistent?la.PERSISTENT:la.VOLATILE}));this._requests=[],this._onCommit.forEach(function(J){J(o.map(function(oe){return oe.data}))}),V=Vv.get(this.dbname),setTimeout(function(){try{$._applyRecord(m,p)}catch(J){$._onError.forEach(function(oe){return oe(J)})}},V.transactionApplyDelay),te.label=4;case 4:return[2]}})})},s}(),qv=function(){function s(o){var i=o.blockId,c=o.keyName,u=o.items,p=u===void 0?[]:u,m=o.limit;this.blockId=i,this.keyName=c,this.limit=m,this._items=Yt([],Mt(p),!1)}return s.createFromCacheItem=function(o){return o?new s(o.value):null},Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),s.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},s.prototype.getItemByKey=function(o){var i=this,c=this._items.find(function(u){var p=u[i.keyName];return o===p});return c??null},s.prototype.has=function(o){var i=this;return this._items.map(function(c){return c[i.keyName]}).includes(o)},s.prototype.add=function(o){var i=this,c=this._items.map(function(u){return u[i.keyName]}).indexOf(o[this.keyName]);return c<0?this._items.length<this.limit&&(this._items.push(o),!0):(this._items[c]=o,!0)},s.prototype.remove=function(o){for(var i in this._items)if(this._items[i][this.keyName]===o)return this._items.splice(parseInt(i),1),!0;return!1},s.prototype.clear=function(){this._items=[]},s}(),ote=function(){function s(o){var i=o.dbname,c=o.collectionName,u=o.metadata,p=o.hashFunction,m=p===void 0?aO:p,v=o.transaction,b=o.store;this.dbname=i,this.collectionName=c,this.hashFunction=m,this.metadata=u,this._transaction=v,this._store=b}return Object.defineProperty(s.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),s.prototype.createBlockId=function(o,i){return i===void 0&&(i=this.metadata.blockLevel),c=this.dbname,u=this.collectionName,p=i,m="".concat(function(v,b,y){var S=y.base*Math.pow(y.multiplier,b)+y.constant;return(y.hashFunction||aO)(v,S)}(o,i,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(R3(c,u)).concat(p,".").concat(m);var c,u,p,m},s.prototype._findBlock=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m;return X(this,function(v){switch(v.label){case 0:i=so.get(this.dbname),c=this.metadata.blockLevel,v.label=1;case 1:return c>0?(u=this.createBlockId(o,c),[4,i.find(this._store,u)]):[3,4];case 2:if((p=v.sent())&&((m=qv.createFromCacheItem(p))!=null&&m.getItemByKey(o)))return[2,m];v.label=3;case 3:return c--,[3,1];case 4:return[2,null]}})})},s.prototype.getFromBlock=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return[4,this._findBlock(o)];case 1:return[2,(i=c.sent())?i.getItemByKey(o):null]}})})},s.prototype.putToBlock=function(o,i){return Z(this,void 0,void 0,function(){var c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return c=Vv.get(this.dbname),u=this.createBlockId(o),p=Math.floor(this._store.itemSizeLimit/c.itemSizeLimit),[4,so.get(this.dbname).find(this._store,u)];case 1:return m=b.sent(),(v=m?qv.createFromCacheItem(m):new qv({blockId:u,keyName:this.keyName,items:[],limit:p}))!=null&&v.add(i)?(this._transaction.requestWrite({key:v.blockId,value:v.serialize()}),[2,!0]):[2,!1]}})})},s.prototype.removeFromBlock=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return[4,this._findBlock(o)];case 1:return(i=c.sent())&&i.remove(o)?(this._transaction.requestWrite({key:i.blockId,value:i.serialize()}),[2,!0]):[2,!1]}})})},s.prototype.clearAllBlocks=function(){return Z(this,void 0,void 0,function(){var o,i,c;return X(this,function(u){switch(u.label){case 0:return o=R3(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return i=u.sent(),c=i.filter(function(p){return p.startsWith(o)}),[4,this._store.removeMany(c)];case 2:return u.sent(),[4,this._transaction.clear()];case 3:return u.sent(),so.get(this.dbname).clearByCondition(function(p){return p.key.startsWith(o)}),[2]}})})},s}(),n0={},Kc=function(){function s(o){var i=o.dbname,c=o.collectionName,u=o.keyName,p=o.fields,m=o.transaction,v=o.store,b=this;this._origin=[],this._table=[];var y=function(S,O,V){return"".concat(vu(S,O),"/index.").concat(V)}(i,c,p.join(">"));return n0[y]||(this.dbname=i,this.collectionName=c,this.keyName=u,this.fields=p,this.indexerKey=y,this._transaction=m,this._store=v,this._transaction.on(mu.COMMIT,this.indexerKey,function(){return b.commit()}),this._transaction.on(mu.ERROR,this.indexerKey,function(){return b.abort()})),n0[y]}return s.createKey=function(o){return o.join(">")},s.parseKey=function(o){return o.split(">")},s.clearIndexerMap=function(){for(var o in n0)delete n0[o]},s.prototype._addItem=function(o){var i=o[this.keyName],c=this.getColumnValues(o),u=Mt(this.indexOf(c),2),p=u[0];return u[1]?!this._table[p].keys.includes(i)&&(this._table[p].keys.push(i),!0):(this._table.splice(p,0,{columnValues:c,keys:[i]}),!0)},s.prototype._removeItem=function(o){var i=o[this.keyName],c=this.getColumnValues(o),u=Mt(this.indexOf(c),2),p=u[0];if(u[1]){var m=this._table[p].keys.indexOf(i);if(m>-1)return this._table[p].keys.splice(m,1),this._table[p].keys.length===0&&this._table.splice(p,1),!0}return!1},Object.defineProperty(s.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),s.prototype.getColumnValues=function(o){var i,c,u,p,m=[];try{for(var v=gt(this.fields),b=v.next();!b.done;b=v.next()){var y=b.value;if(y[0]==="-"&&(y=y.slice(1)),u=o[y],p=typeof u,u!==null&&p!=="undefined"&&p!=="boolean"&&p!=="number"&&p!=="string")throw er.indexTypesNotMatch;m.push(o[y])}}catch(S){i={error:S}}finally{try{b&&!b.done&&(c=v.return)&&c.call(v)}finally{if(i)throw i.error}}return m},s.prototype.diff=function(o,i){for(var c in this.fields){var u=this.fields[c][0]==="-"?-1:1,p=Xl(o[c],i[c]);if(p!==0)return u*p}return 0},s.prototype.indexOf=function(o){if(this._table.length>0){for(var i=0,c=this._table.length-1;i<=c;){var u=Math.floor((i+c)/2),p=this.diff(o,this._table[u].columnValues);if(p>0)i=u+1;else{if(!(p<0))return[u,!0];c=u-1}}return[i,!1]}return[0,!1]},s.prototype.ensure=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m,v,b,y,S,O,V,$,te,J,oe,xe;return X(this,function(Ie){switch(Ie.label){case 0:return[4,(o=so.get(this.dbname)).find(this._store,this.indexerKey,fl.PERSISTENT)];case 1:return(i=Ie.sent())?[3,11]:(c=R3(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:u=Ie.sent(),Ie.label=3;case 3:Ie.trys.push([3,8,9,10]),p=gt(u),m=p.next(),Ie.label=4;case 4:return m.done?[3,7]:(v=m.value).startsWith(c)?[4,o.find(this._store,v,fl.NO_CACHE)]:[3,6];case 5:if(b=Ie.sent(),y=qv.createFromCacheItem(b))try{for(oe=void 0,S=gt(y.items),O=S.next();!O.done;O=S.next())V=O.value,this._addItem(V)}catch(Ue){oe={error:Ue}}finally{try{O&&!O.done&&(xe=S.return)&&xe.call(S)}finally{if(oe)throw oe.error}}Ie.label=6;case 6:return m=p.next(),[3,4];case 7:return[3,10];case 8:return $=Ie.sent(),te={error:$},[3,10];case 9:try{m&&!m.done&&(J=p.return)&&J.call(p)}finally{if(te)throw te.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=i.value,this._table=Qa(this._origin),Ie.label=12;case 12:return n0[this.indexerKey]=this,[2]}})})},s.prototype.drop=function(){return Z(this,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return so.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return o.sent(),delete n0[this.indexerKey],[2]}})})},s.prototype.addItem=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return this._addItem(o)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.removeItem=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return this._removeItem(o)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(o){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.commit=function(){this._origin=this._table,this._table=Qa(this._origin)},s.prototype.abort=function(){this._table=Qa(this._origin)},s}(),jv=function(){return typeof document<"u"&&typeof navigator<"u"&&navigator.product!=="ReactNative"},dO=function(){var s=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var i=(s+16*Math.random())%16|0;return s=Math.floor(s/16),(o==="x"?i:3&i|8).toString(16)})};(function(s){s[s.PROCESSING=0]="PROCESSING",s[s.DONE=1]="DONE"})(hf||(hf={})),function(s){s.NEWNODE="newnode",s.REMOVENODE="removenode",s.CLAIM_HOST="claimhost",s.SYNC_HOST="synchost",s.REQUEST_LOCK="requestlock",s.ACQUIRE_LOCK="acquirelock",s.RELEASE_LOCK="releaselock"}(ca||(ca={}));var Do,M3={},D3=function(){function s(o,i){i===void 0&&(i={});var c=this;return this._state=hf.PROCESSING,this._queue=[],this._activationQueue=[],M3[o]&&!i.forceCreate||(this.nodeId=dO(),this.key=o,jv()&&(i.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&c.claimHost()}),window.addEventListener("message",function(u){var p,m,v=u.data,b=v.nodeId,y=v.requestId,S=v.key,O=v.op,V=v.data;if(b!==c.nodeId&&S===c.key)switch(O){case ca.NEWNODE:c._sendSync();break;case ca.CLAIM_HOST:c._sendSync(),c._hostId=b;break;case ca.SYNC_HOST:if(!c.isInSync){c._activationTimeout&&clearTimeout(c._activationTimeout);var $=V,te=$.currentItemRequestId,J=$.queue,oe=function(He){c._queue.findIndex(function(Ee){return Ee.requestId===He.requestId})<0&&c._requestLock({nodeId:He.nodeId,requestId:He.requestId,key:c.key,op:ca.REQUEST_LOCK,ts:He.ts})};try{for(var xe=gt(J),Ie=xe.next();!Ie.done;Ie=xe.next())oe(Ie.value)}catch(He){p={error:He}}finally{try{Ie&&!Ie.done&&(m=xe.return)&&m.call(xe)}finally{if(p)throw p.error}}c._currentItem=c._queue.find(function(He){return He.requestId===te}),c._completeSync()}break;case ca.REMOVENODE:c._queue=c._queue.filter(function(He){return He.nodeId!==v.nodeId}),c._currentItem&&c._currentItem.nodeId===v.nodeId&&(c._currentItem=void 0,c._acquire(c._queue[0]));break;case ca.REQUEST_LOCK:c._requestLock(v);break;case ca.ACQUIRE_LOCK:var Ue=c._queue.find(function(He){return He.requestId===y});c._acquire(Ue);break;case ca.RELEASE_LOCK:c._release(y)}}),window.addEventListener("beforeunload",function(){c._send(ca.REMOVENODE)})),M3[o]=this),M3[o]}return Object.defineProperty(s.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isInSync",{get:function(){return this._state==hf.DONE},enumerable:!1,configurable:!0}),s.prototype._send=function(o,i){var c;i===void 0&&(i={});var u={nodeId:this.nodeId,requestId:(c=i==null?void 0:i.requestId)!==null&&c!==void 0?c:dO(),key:this.key,op:o,data:i.data,ts:Date.now()};return jv()&&window.postMessage(u,"*"),u},s.prototype._acquire=function(o){o?(this._currentItem=o,this._currentItem.onAcquired&&this._currentItem.onAcquired(o.requestId)):this._currentItem=void 0},s.prototype._release=function(o){if(this._currentItem&&this._currentItem.requestId===o){var i=this._currentItem;this._currentItem=void 0,i.nodeId===this.nodeId&&this._send(ca.RELEASE_LOCK,{requestId:i.requestId});var c=this._queue.findIndex(function(u){return u.requestId===o});c>-1&&this._queue.splice(c,1),i.onReleased&&i.onReleased(o)}},s.prototype._requestLock=function(o){var i=this;return new Promise(function(c){var u={nodeId:o.nodeId,requestId:o.requestId,ts:o.ts,onAcquired:function(v){i.isHost&&i._send(ca.ACQUIRE_LOCK,{requestId:v}),c()},onReleased:function(){i._acquire(i._queue[0])}},p=!1;for(var m in i._queue)if(i._queue[m].ts>u.ts){i._queue.splice(parseInt(m),0,u),p=!0;break}p||i._queue.push(u),i._currentItem||i._acquire(i._queue[0])})},s.prototype._sendSync=function(){var o;this.isHost&&this._send(ca.SYNC_HOST,{data:{currentItemRequestId:(o=this._currentItem)===null||o===void 0?void 0:o.requestId,queue:this._queue.map(function(i){return{nodeId:i.nodeId,requestId:i.requestId,ts:i.ts}})}})},s.prototype._waitUntilSyncCompleted=function(){return Z(this,void 0,void 0,function(){var o=this;return X(this,function(i){return this.isHost&&!this.isInSync?[2,new Promise(function(c){o._activationQueue.push(c)})]:[2]})})},s.prototype._waitSync=function(){var o=this;this.isInSync||(this._activationTimeout=setTimeout(function(){o._completeSync()},8))},s.prototype._completeSync=function(){this.isInSync||(this._state=hf.DONE,this._activationQueue.forEach(function(o){return o()}),this._activationQueue=[])},s.prototype.registerNode=function(){this._send(ca.NEWNODE),this._waitSync()},s.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(ca.CLAIM_HOST),this._waitSync()},s.prototype.lock=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return i.sent(),o=this._send(ca.REQUEST_LOCK),[4,this._requestLock(o)];case 2:return i.sent(),[2]}})})},s.prototype.unlock=function(){var o;!((o=this._currentItem)===null||o===void 0)&&o.requestId&&this._release(this._currentItem.requestId)},s}(),L3=function(){function s(o){var i=o.dbname,c=o.collectionName,u=o.keyName,p=o.keyHash,m=o.indexes,v=o.store,b=this;this._state=fu.INIT,this._indexers=[],this.dbname=i,this.name=c,this.keyName=u,this.indexes=Yt([[u]],Mt(m.filter(function(y){return Kc.createKey(y)!==b.keyName})),!1),this._keyHash=p,this._store=v,this._mutex=new D3(function(y,S){return"".concat(vu(y,S),".lock")}(i,c)),this._blobContainer=new ate({dbname:i,collectionName:c,store:v}),this._transaction=new ste({dbname:i,collectionName:c,store:v})}return s.metadataOf=function(o,i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=O3(o,i),[4,c.get(u)];case 1:return[2,p.sent()]}})})},Object.defineProperty(s.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isReady",{get:function(){return this._state===fu.READY},enumerable:!1,configurable:!0}),s.prototype.init=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m,v,b,y,S,O,V,$,te,J=this;return X(this,function(oe){switch(oe.label){case 0:return[4,this._mutex.lock()];case 1:oe.sent(),oe.label=2;case 2:return oe.trys.push([2,9,,10]),o=Vv.get(this.dbname),[4,s.metadataOf(this.dbname,this.name,this._store)];case 3:return i=oe.sent(),this._metadata=i||{keyName:this.keyName,blockLevel:1,blockHashBase:o.blockHashBase,blockHashMultiplier:o.blockHashMultiplier,blockHashConstant:o.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:oe.sent(),this._blockManager=new ote({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),c=Yt([],Mt(this.indexes),!1),u=[],p=c.map(function(xe){return Kc.createKey(xe)}),m=i?i.indexes.map(function(xe){return Kc.createKey(xe)}):[];try{for(v=gt(m),b=v.next();!b.done;b=v.next())y=b.value,p.includes(y)||u.push(Kc.parseKey(y))}catch(xe){$={error:xe}}finally{try{b&&!b.done&&(te=v.return)&&te.call(v)}finally{if($)throw $.error}}return(S=[]).push.apply(S,Yt([],Mt(c.map(function(xe){var Ie=new Kc({dbname:J.dbname,collectionName:J.name,keyName:J.keyName,fields:xe,transaction:J._transaction,store:J._store});return J._indexers.push(Ie),Ie.ensure()})),!1)),S.push.apply(S,Yt([],Mt(u.map(function(xe){return new Kc({dbname:J.dbname,collectionName:J.name,keyName:J.keyName,fields:xe,transaction:J._transaction,store:J._store}).drop()})),!1)),[4,Promise.all(S)];case 5:return oe.sent(),[4,this._transaction.commit()];case 6:return oe.sent(),p.sort().join(",")===m.sort().join(",")?[3,8]:(O=O3(this.dbname,this.name),this._metadata.indexes=c,[4,this._store.set({key:O,value:this._metadata})]);case 7:oe.sent(),oe.label=8;case 8:return this._state=fu.READY,this._mutex.unlock(),[3,10];case 9:throw V=oe.sent(),this._mutex.unlock(),V;case 10:return[2]}})})},s.prototype.close=function(){this._state=fu.CLOSED},s.prototype._hasPropertyOfKeyName=function(o){var i=o[this.keyName];return typeof i=="string"&&!!i},s.prototype._getIndexerBy=function(o){var i,c;o===void 0&&(o=null),o||(o=[this.keyName]);var u=Kc.createKey(o);try{for(var p=gt(this._indexers),m=p.next();!m.done;m=p.next()){var v=m.value;if(u===Kc.createKey(v.fields))return v}}catch(b){i={error:b}}finally{try{m&&!m.done&&(c=p.return)&&c.call(p)}finally{if(i)throw i.error}}throw er.indexTableIsRequired},s.prototype._upgradeBlockLevel=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return o=O3(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:o,value:this._metadata})];case 1:return i.sent(),[2]}})})},s.prototype._requestInsert=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return i=o[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return b.sent()?[3,13]:[4,this._blockManager.putToBlock(i,o)];case 2:return b.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return b.sent(),[4,this._blockManager.putToBlock(i,o)];case 4:b.sent(),b.label=5;case 5:b.trys.push([5,10,11,12]),c=gt(this._indexers),u=c.next(),b.label=6;case 6:return u.done?[3,9]:[4,u.value.addItem(o)];case 7:b.sent(),b.label=8;case 8:return u=c.next(),[3,6];case 9:return[3,12];case 10:return p=b.sent(),m={error:p},[3,12];case 11:try{u&&!u.done&&(v=c.return)&&v.call(c)}finally{if(m)throw m.error}return[7];case 12:return[3,14];case 13:throw er.collectionInsertDuplicate;case 14:return[2]}})})},s.prototype._requestUpsert=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y,S,O,V,$,te;return X(this,function(J){switch(J.label){case 0:return i=o[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(c=J.sent())?[3,13]:[4,this._blockManager.putToBlock(i,o)];case 2:return J.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return J.sent(),[4,this._blockManager.putToBlock(i,o)];case 4:J.sent(),J.label=5;case 5:J.trys.push([5,10,11,12]),u=gt(this._indexers),p=u.next(),J.label=6;case 6:return p.done?[3,9]:[4,(y=p.value).addItem(o)];case 7:J.sent(),J.label=8;case 8:return p=u.next(),[3,6];case 9:return[3,12];case 10:return m=J.sent(),O={error:m},[3,12];case 11:try{p&&!p.done&&(V=u.return)&&V.call(u)}finally{if(O)throw O.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(i,o)];case 14:J.sent(),J.label=15;case 15:J.trys.push([15,21,22,23]),v=gt(this._indexers),b=v.next(),J.label=16;case 16:return b.done?[3,20]:(y=b.value).diff(y.getColumnValues(c),y.getColumnValues(o))===0?[3,19]:[4,y.removeItem(c)];case 17:return J.sent(),[4,y.addItem(o)];case 18:J.sent(),J.label=19;case 19:return b=v.next(),[3,16];case 20:return[3,23];case 21:return S=J.sent(),$={error:S},[3,23];case 22:try{b&&!b.done&&(te=v.return)&&te.call(v)}finally{if($)throw $.error}return[7];case 23:return[2]}})})},s.prototype._requestUpdate=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:return i=o[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(c=S.sent())?[4,this._blockManager.putToBlock(i,o)]:[3,11];case 2:S.sent(),S.label=3;case 3:S.trys.push([3,9,10,11]),u=gt(this._indexers),p=u.next(),S.label=4;case 4:return p.done?[3,8]:(m=p.value).diff(m.getColumnValues(c),m.getColumnValues(o))===0?[3,7]:[4,m.removeItem(c)];case 5:return S.sent(),[4,m.addItem(o)];case 6:S.sent(),S.label=7;case 7:return p=u.next(),[3,4];case 8:return[3,11];case 9:return v=S.sent(),b={error:v},[3,11];case 10:try{p&&!p.done&&(y=u.return)&&y.call(u)}finally{if(b)throw b.error}return[7];case 11:return[2]}})})},s.prototype._requestRemove=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return[4,this._blockManager.getFromBlock(o)];case 1:return(i=b.sent())?[4,this._blockManager.removeFromBlock(o)]:[3,10];case 2:b.sent(),b.label=3;case 3:b.trys.push([3,8,9,10]),c=gt(this._indexers),u=c.next(),b.label=4;case 4:return u.done?[3,7]:[4,u.value.removeItem(i)];case 5:b.sent(),b.label=6;case 6:return u=c.next(),[3,4];case 7:return[3,10];case 8:return p=b.sent(),m={error:p},[3,10];case 9:try{u&&!u.done&&(v=c.return)&&v.call(c)}finally{if(m)throw m.error}return[7];case 10:return[2]}})})},s.prototype._requestClear=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p;return X(this,function(m){switch(m.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:m.sent(),m.label=2;case 2:m.trys.push([2,7,8,9]),o=gt(this._indexers),i=o.next(),m.label=3;case 3:return i.done?[3,6]:[4,i.value.clear()];case 4:m.sent(),m.label=5;case 5:return i=o.next(),[3,3];case 6:return[3,9];case 7:return c=m.sent(),u={error:c},[3,9];case 8:try{i&&!i.done&&(p=o.return)&&p.call(o)}finally{if(u)throw u.error}return[7];case 9:return[2]}})})},s.prototype.getByKey=function(o){return Z(this,void 0,void 0,function(){var i,c;return X(this,function(u){switch(u.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(o)];case 3:return i=u.sent(),this._mutex.unlock(),[2,Qa(i)];case 4:throw c=u.sent(),this._mutex.unlock(),c;case 5:return[3,7];case 6:throw er.collectionNotReady;case 7:return[2]}})})},s.prototype.query=function(o){if(o===void 0&&(o={}),this.isReady)return new ite({condition:o.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(o.index),backward:!!o.backward});throw er.collectionNotReady},s.prototype.insertOne=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:if(c.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(o))throw er.collectionKeyNotGiven;return[4,this._requestInsert(Qa(o))];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[2,o];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw er.collectionNotReady;case 9:return[2]}})})},s.prototype.insertMany=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y=this;return X(this,function(S){switch(S.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:S.sent(),S.label=2;case 2:if(S.trys.push([2,12,,14]),o.some(function(O){return!y._hasPropertyOfKeyName(O)}))throw er.collectionKeyNotGiven;S.label=3;case 3:S.trys.push([3,8,9,10]),i=gt(o),c=i.next(),S.label=4;case 4:return c.done?[3,7]:(u=c.value,[4,this._requestInsert(Qa(u))]);case 5:S.sent(),S.label=6;case 6:return c=i.next(),[3,4];case 7:return[3,10];case 8:return p=S.sent(),v={error:p},[3,10];case 9:try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(v)throw v.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return S.sent(),this._mutex.unlock(),[2,o];case 12:return m=S.sent(),[4,this._transaction.clear()];case 13:throw S.sent(),this._mutex.unlock(),m;case 14:return[3,16];case 15:throw er.collectionNotReady;case 16:return[2]}})})},s.prototype.upsertOne=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:if(c.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(o))throw er.collectionKeyNotGiven;return[4,this._requestUpsert(Qa(o))];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[2,o];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw er.collectionNotReady;case 9:return[2]}})})},s.prototype.upsertMany=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y=this;return X(this,function(S){switch(S.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:S.sent(),S.label=2;case 2:if(S.trys.push([2,12,,14]),o.some(function(O){return!y._hasPropertyOfKeyName(O)}))throw er.collectionKeyNotGiven;S.label=3;case 3:S.trys.push([3,8,9,10]),i=gt(o),c=i.next(),S.label=4;case 4:return c.done?[3,7]:(u=c.value,[4,this._requestUpsert(Qa(u))]);case 5:S.sent(),S.label=6;case 6:return c=i.next(),[3,4];case 7:return[3,10];case 8:return p=S.sent(),v={error:p},[3,10];case 9:try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(v)throw v.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return S.sent(),this._mutex.unlock(),[2,o];case 12:return m=S.sent(),[4,this._transaction.clear()];case 13:throw S.sent(),this._mutex.unlock(),m;case 14:return[3,16];case 15:throw er.collectionNotReady;case 16:return[2]}})})},s.prototype.update=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:if(c.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(o))throw er.collectionKeyNotGiven;return[4,this._requestUpdate(Qa(o))];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[2,o];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw er.collectionNotReady;case 9:return[2]}})})},s.prototype.updateIf=function(o,i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y,S,O,V,$,te,J,oe,xe=this;return X(this,function(Ie){switch(Ie.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:Ie.sent(),Ie.label=2;case 2:return Ie.trys.push([2,13,,15]),c=o.where,u=c===void 0?{}:c,p=o.index,m=p===void 0?null:p,v=o.backward,b=v!==void 0&&v,y=[],[4,new N3({condition:u,blockManager:this._blockManager,backward:b,indexer:this._getIndexerBy(m)}).each(function(Ue){return Z(xe,void 0,void 0,function(){var He,Ee;return X(this,function(we){if(Ue.error)throw Ue.stop(),Ue.error;if(Ue.hasNext){if(He=Ue.nextValue,_u(u,He)&&i.set){if(typeof i.set!="function")for(Ee in i.set)He[Ee]=i.set[Ee];else i.set(He);y.push(He)}Ue.next()}else Ue.stop();return[2]})})})];case 3:Ie.sent(),Ie.label=4;case 4:Ie.trys.push([4,9,10,11]),S=gt(y),O=S.next(),Ie.label=5;case 5:return O.done?[3,8]:(V=O.value,[4,this._requestUpdate(Qa(V))]);case 6:Ie.sent(),Ie.label=7;case 7:return O=S.next(),[3,5];case 8:return[3,11];case 9:return $=Ie.sent(),J={error:$},[3,11];case 10:try{O&&!O.done&&(oe=S.return)&&oe.call(S)}finally{if(J)throw J.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return Ie.sent(),this._mutex.unlock(),[2,y];case 13:return te=Ie.sent(),[4,this._transaction.clear()];case 14:throw Ie.sent(),this._mutex.unlock(),te;case 15:return[3,17];case 16:throw this._transaction.clear(),er.collectionNotReady;case 17:return[2]}})})},s.prototype.remove=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this._requestRemove(o)];case 3:return c.sent(),[4,this._transaction.commit()];case 4:return c.sent(),this._mutex.unlock(),[3,7];case 5:return i=c.sent(),[4,this._transaction.clear()];case 6:throw c.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw er.collectionNotReady;case 9:return[2]}})})},s.prototype.removeIf=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y,S,O,V,$,te,J,oe=this;return X(this,function(xe){switch(xe.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:xe.sent(),xe.label=2;case 2:return xe.trys.push([2,13,,14]),i=o.where,c=i===void 0?{}:i,u=o.index,p=u===void 0?null:u,m=o.backward,v=m!==void 0&&m,b=[],[4,new N3({condition:c,blockManager:this._blockManager,backward:v,indexer:this._getIndexerBy(p)}).each(function(Ie){return Z(oe,void 0,void 0,function(){var Ue,He;return X(this,function(Ee){if(Ie.error)throw Ie.stop(),Ie.error;return Ie.hasNext?(Ue=Ie.nextValue,_u(c,Ue)&&(He=Ue[this.keyName],b.push(He)),Ie.next()):Ie.stop(),[2]})})})];case 3:xe.sent(),xe.label=4;case 4:xe.trys.push([4,9,10,11]),y=gt(b),S=y.next(),xe.label=5;case 5:return S.done?[3,8]:(O=S.value,[4,this._requestRemove(O)]);case 6:xe.sent(),xe.label=7;case 7:return S=y.next(),[3,5];case 8:return[3,11];case 9:return V=xe.sent(),te={error:V},[3,11];case 10:try{S&&!S.done&&(J=y.return)&&J.call(y)}finally{if(te)throw te.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return xe.sent(),this._mutex.unlock(),[2,b];case 13:throw $=xe.sent(),this._mutex.unlock(),$;case 14:return[3,16];case 15:throw this._transaction.clear(),er.collectionNotReady;case 16:return[2]}})})},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return i.sent(),[4,this._transaction.commit()];case 4:return i.sent(),this._mutex.unlock(),[3,7];case 5:return o=i.sent(),[4,this._transaction.clear()];case 6:throw i.sent(),this._mutex.unlock(),o;case 7:return[3,9];case 8:throw er.collectionNotReady;case 9:return[2]}})})},s.prototype.getBlob=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.get(o)];case 1:return[2,i.sent()]}})})},s.prototype.saveBlob=function(o,i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return[4,this._blobContainer.save(o,i)];case 1:return[2,c.sent()]}})})},s.prototype.removeBlob=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.remove(o)];case 1:return i.sent(),[2]}})})},s.prototype.removeAllBlobs=function(){return Z(this,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return[4,this._blobContainer.clear()];case 1:return o.sent(),[2]}})})},s}(),U3="[NESTDB]",$v=!0,gu=function(){function s(){}return s.off=function(){$v=!1},s.log=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];$v&&console.log.apply(console,Yt(["".concat(U3,"[LOG]")],Mt(o),!1))},s.warning=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];$v&&console.warn.apply(console,Yt(["".concat(U3,"[WARNING]")],Mt(o),!1))},s.error=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];$v&&console.error.apply(console,Yt(["".concat(U3,"[ERROR]")],Mt(o),!1))},s}(),lte=[{},{a:700400,n:"error"}],Wv=function(){function s(o){var i,c,u;this.encryption=(i=o.encryption)!==null&&i!==void 0?i:u5,this.itemSizeLimit=(c=o.itemSizeLimit)!==null&&c!==void 0?c:4194304,this.metadataBuffer=(u=o.metadataBuffer)!==null&&u!==void 0?u:256}return Object.defineProperty(s.prototype,"_encryptionCheckKey",{get:function(){return"".concat(this.dbname,".encrypt")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_reservedKeys",{get:function(){return[this._encryptionCheckKey]},enumerable:!1,configurable:!0}),s.prototype._getRawKey=function(o,i){return i===void 0&&(i=""),"".concat(o).concat(i)},s.prototype._generateShardPostfixArray=function(o){return o===void 0&&(o=1),Yt([],Mt(Array(o).keys()),!1)},s.prototype._shardify=function(o){var i=this,c=o.key,u=o.value,p=JSON.stringify(this.encryption.encrypt(u)),m=Math.ceil(p.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(m).map(function(v){var b={key:i._getRawKey(c,".".concat(v)),data:p.substring(v*i.adjustedItemSizeLimit,(v+1)*i.adjustedItemSizeLimit)};return v===0&&(b.metadata={shards:m}),b})},s.prototype._resetIfEncryptionChanged=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m,v,b,y,S=this;return X(this,function(O){switch(O.label){case 0:return[4,this.get(this._encryptionCheckKey)];case 1:if(o=O.sent(),i={encrypted:lte.map(function(V){var $;return($=S.encryption)===null||$===void 0?void 0:$.encrypt(V)})},!(o&&o.encrypted&&Array.isArray(o.encrypted)))return[3,5];for(p in c=o.encrypted,u=[],c)u.push(p);m=0,O.label=2;case 2:return m<u.length?(p=u[m])in c?(v=p,b=JSON.stringify(o.encrypted[v]),y=JSON.stringify(i.encrypted[v]),b===y?[3,4]:(gu.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this.clear()])):[3,4]:[3,5];case 3:return O.sent(),[3,5];case 4:return m++,[3,2];case 5:return[4,this.set({key:this._encryptionCheckKey,value:i})];case 6:return O.sent(),[2]}})})},Object.defineProperty(s.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),s.prototype.usage=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:return o=0,[4,this._getAllRawKeys()];case 1:i=S.sent(),S.label=2;case 2:S.trys.push([2,7,8,9]),c=gt(i),u=c.next(),S.label=3;case 3:return u.done?[3,6]:(p=u.value,[4,this._getRaw(p)]);case 4:(m=S.sent())&&(o+=JSON.stringify(m).length),S.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return v=S.sent(),b={error:v},[3,9];case 8:try{u&&!u.done&&(y=c.return)&&y.call(c)}finally{if(b)throw b.error}return[7];case 9:return[2,o]}})})},s.prototype.getAllKeys=function(){return Z(this,void 0,void 0,function(){var o=this;return X(this,function(i){switch(i.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,i.sent().filter(function(c){return c.endsWith(".0")}).map(function(c){return c.replace(/\.0$/,"")}).filter(function(c){return!o._reservedKeys.includes(c)})]}})})},s.prototype.get=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b=this;return X(this,function(y){switch(y.label){case 0:return i=this._getRawKey(o,".0"),[4,this._getRaw(i)];case 1:if(!(c=y.sent()))return[3,7];y.label=2;case 2:return y.trys.push([2,6,,7]),u=c.data,(p=c.metadata)!=null&&p.shards&&p.shards>1?[4,Promise.all(this._generateShardPostfixArray(p==null?void 0:p.shards).map(function(S){return Z(b,void 0,void 0,function(){var O,V;return X(this,function($){switch($.label){case 0:return S>0?(O=this._getRawKey(o,".".concat(S)),[4,this._getRaw(O)]):[3,2];case 1:if(!(V=$.sent()))throw er.storeBrokenIntegrity;return[2,V.data];case 2:return[2,u]}})})}))]:[3,4];case 3:return v=y.sent(),[3,5];case 4:v=[u],y.label=5;case 5:return m=v,[2,this.encryption.decrypt(JSON.parse(m.join("")))];case 6:return y.sent(),[2,null];case 7:return[2,null]}})})},s.prototype.set=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return i=this._shardify(o),[4,this._setRaw(i)];case 1:return c.sent(),[2,Le({},o.value)]}})})},s.prototype.setMany=function(o){return Z(this,void 0,void 0,function(){var i,c=this;return X(this,function(u){switch(u.label){case 0:return i=[],[4,this._setRaw(i.concat.apply(i,Yt([],Mt(o.map(function(p){return c._shardify(p)})),!1)))];case 1:return u.sent(),[2,o.map(function(p){return p.value})]}})})},s.prototype.remove=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p=this;return X(this,function(m){switch(m.label){case 0:return i=this._getRawKey(o,".0"),[4,this._getRaw(i)];case 1:return(c=m.sent())?(u=c.metadata,[4,this._removeRaw(this._generateShardPostfixArray(u==null?void 0:u.shards).map(function(v){return p._getRawKey(o,".".concat(v))}))]):[3,3];case 2:return m.sent(),[2,!0];case 3:return[2,!1]}})})},s.prototype.removeMany=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y,S,O=this;return X(this,function(V){switch(V.label){case 0:i=[],c=function($){var te,J,oe;return X(this,function(xe){switch(xe.label){case 0:return te=u._getRawKey($,".0"),[4,u._getRaw(te)];case 1:return(J=xe.sent())&&(oe=J.metadata,i.push.apply(i,Yt([],Mt(u._generateShardPostfixArray(oe==null?void 0:oe.shards).map(function(Ie){return O._getRawKey($,".".concat(Ie))})),!1))),[2]}})},u=this,V.label=1;case 1:V.trys.push([1,6,7,8]),p=gt(o),m=p.next(),V.label=2;case 2:return m.done?[3,5]:(v=m.value,[5,c(v)]);case 3:V.sent(),V.label=4;case 4:return m=p.next(),[3,2];case 5:return[3,8];case 6:return b=V.sent(),y={error:b},[3,8];case 7:try{m&&!m.done&&(S=p.return)&&S.call(p)}finally{if(y)throw y.error}return[7];case 8:return i.length>0?[4,this._removeRaw(i)]:[3,10];case 9:V.sent(),V.label=10;case 10:return[2,o]}})})},s}(),Ya={},t0=function(s){function o(i){i===void 0&&(i={});var c,u=this;u=s.call(this,Le(Le({},i),{itemSizeLimit:(c=i.itemSizeLimit)!==null&&c!==void 0?c:4194304}))||this;var p=i.delay,m=p===void 0?1:p;return u.delay=m,u.observer={},u}return ve(o,s),Object.defineProperty(o.prototype,"rawData",{get:function(){return Ya[this.dbname]},set:function(i){Ya[this.dbname]=i},enumerable:!1,configurable:!0}),o.prototype._getAllRawKeys=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){if(Ya[this.dbname])return[2,Object.keys(Ya[this.dbname])];throw er.storeNotAvailable})})},o.prototype._getRaw=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return Ya[this.dbname]?[4,zv(this.delay)]:[3,2];case 1:return c.sent(),[2,Ya[this.dbname][i]?Le({key:i},Ya[this.dbname][i]):null];case 2:throw er.storeNotAvailable}})})},o.prototype._setRaw=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y,S;return X(this,function(O){switch(O.label){case 0:return Ya[this.dbname]?[4,zv(this.delay)]:[3,2];case 1:O.sent();try{for(c=gt(i),u=c.next();!u.done;u=c.next())p=u.value,m=p.key,v=p.data,b=p.metadata,Ya[this.dbname][m]=Object.freeze({data:v,metadata:b})}catch(V){y={error:V}}finally{try{u&&!u.done&&(S=c.return)&&S.call(c)}finally{if(y)throw y.error}}return[3,3];case 2:throw er.storeNotAvailable;case 3:return[2]}})})},o.prototype._removeRaw=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return Ya[this.dbname]?[4,zv(this.delay)]:[3,2];case 1:b.sent();try{for(c=gt(i),u=c.next();!u.done;u=c.next())p=u.value,Ya[this.dbname][p]&&delete Ya[this.dbname][p]}catch(y){m={error:y}}finally{try{u&&!u.done&&(v=c.return)&&v.call(c)}finally{if(m)throw m.error}}return[3,3];case 2:throw er.storeNotAvailable;case 3:return[2]}})})},o.prototype.observe=function(i,c,u){var p=this;this.observer[i]||(this.observer[i]={}),c.forEach(function(m){return p.observer[i][m]=u})},o.prototype.checkAvailability=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2]})})},o.prototype.init=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return this.dbname=i,Ya[this.dbname]||(Ya[this.dbname]={}),[4,this._resetIfEncryptionChanged()];case 1:return c.sent(),[2]}})})},o.prototype.set=function(i){return Z(this,void 0,void 0,function(){var c,u;return X(this,function(p){if((c=this.observer[i.key])&&typeof c.set=="function"&&(u=c.set()))throw u;return[2,s.prototype.set.call(this,i)]})})},o.prototype.setMany=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y;return X(this,function(S){try{for(c=gt(i),u=c.next();!u.done;u=c.next())if(p=u.value,(m=this.observer[p.key])&&typeof m.set=="function"&&(v=m.set()))throw v}catch(O){b={error:O}}finally{try{u&&!u.done&&(y=c.return)&&y.call(c)}finally{if(b)throw b.error}}return[2,s.prototype.setMany.call(this,i)]})})},o.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,zv(this.delay)];case 1:return i.sent(),Ya[this.dbname]={},[2]}})})},o}(Wv),uO="NestDBStore";(function(s){s[s.UNINITIALIZED=0]="UNINITIALIZED",s[s.OPENING=1]="OPENING",s[s.OPEN=2]="OPEN",s[s.CLOSED=3]="CLOSED"})(Do||(Do={}));var Zl,cte=function(s){function o(i){i===void 0&&(i={});var c,u=this;return(u=s.call(this,Le(Le({},i),{itemSizeLimit:(c=i.itemSizeLimit)!==null&&c!==void 0?c:104857600}))||this)._storeName=uO,u._state=Do.UNINITIALIZED,u._openJobQueue=[],u._window=typeof window<"u"?window:void 0,u._indexedDb=u._window?u._window.indexedDB||u._window.mozIndexedDB||u._window.webkitIndexedDB||u._window.msIndexedDB:void 0,u}return ve(o,s),Object.defineProperty(o.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),o.prototype._openDatabase=function(i){var c=this;return new Promise(function(u,p){if(c._indexedDb){c._state=Do.OPENING;var m=c._indexedDb.open(i);m.addEventListener("upgradeneeded",function(v){v.target.result.createObjectStore(uO,{keyPath:"key"})}),m.addEventListener("success",function(v){c._state=Do.OPEN,c._database=v.target.result,c._openJobQueue.forEach(function(b){return b()}),c._openJobQueue=[],c._database.onclose=function(){c._database=void 0,c._state=Do.OPENING,setTimeout(function(){c._openDatabase(i)},5)},u(c._database)}),m.addEventListener("error",function(v){c._state=Do.UNINITIALIZED,p(v.target.error)})}else p(er.storeNotAvailable)})},o.prototype._getObjectStore=function(i){return Z(this,void 0,void 0,function(){var c=this;return X(this,function(u){switch(u.label){case 0:return this._database?[2,this._database.transaction(this._storeName,i).objectStore(this._storeName)]:[3,1];case 1:switch(this._state){case Do.UNINITIALIZED:case Do.OPEN:return[3,2];case Do.OPENING:case Do.CLOSED:return[3,3]}return[3,4];case 2:throw er.storeNotInitialized;case 3:return[2,new Promise(function(p){c._openJobQueue.push(function(){return p(c._getObjectStore(i))})})];case 4:return[4,this._getObjectStore(i)];case 5:return[2,u.sent()]}})})},o.prototype._getAllRawKeys=function(){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return i=c.sent(),[4,new Promise(function(u,p){var m=i.getAllKeys();m.addEventListener("success",function(v){u(v.target.result)}),m.addEventListener("error",function(v){return p(v.target.error)})})];case 2:return[2,c.sent()]}})})},o.prototype._getRaw=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return c=u.sent(),[4,new Promise(function(p,m){var v=c.get(i);v.addEventListener("success",function(b){var y;p((y=b==null?void 0:b.target)===null||y===void 0?void 0:y.result)}),v.addEventListener("error",function(b){return m(b.target.error)})})];case 2:return[2,u.sent()]}})})},o.prototype._setRaw=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return c=u.sent(),[4,Promise.all(i.map(function(p){return new Promise(function(m,v){var b=c.put(p);b.addEventListener("success",function(y){m(y.target.result)}),b.addEventListener("error",function(){v("Failed to write.")})})}))];case 2:return u.sent(),[2]}})})},o.prototype._removeRaw=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return c=u.sent(),[4,Promise.all(i.map(function(p){return new Promise(function(m,v){var b=c.delete(p);b.addEventListener("success",function(){return m(p)}),b.addEventListener("error",function(y){return v(y.target.error)})})}))];case 2:return u.sent(),[2]}})})},o.prototype._triggerDatabaseClose=function(){this._database&&this._database.onclose&&this._database.onclose(new Event("dummy"))},o.prototype.checkAvailability=function(){return Z(this,void 0,void 0,function(){var i,c=this;return X(this,function(u){switch(u.label){case 0:if(!((i=typeof window<"u"?window:null)!=null&&i.indexedDB||i!=null&&i.mozIndexedDB||i!=null&&i.webkitIndexedDB||i!=null&&i.msIndexedDB))return[3,6];if(this._indexedDb=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,!this._window||!jv())return[3,4];if(!(jv()&&navigator.userAgent&&navigator.userAgent.includes("Edge/")))return[3,1];if(!this._window.indexedDB&&(i.PointerEvent||i.MSPointerEvent))throw er.storeNotAvailableInPrivateBrowsing;return[3,3];case 1:return[4,new Promise(function(p,m){if(c._indexedDb)try{var v=c._indexedDb.open("_testMozilla");v.onerror=function(){return m(er.storeNotAvailableInPrivateBrowsing)},v.onsuccess=function(){return p()}}catch{m(er.storeNotAvailableInPrivateBrowsing)}else m(er.storeNotAvailable)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:throw er.storeNotAvailable;case 5:return[3,7];case 6:throw er.storeNotAvailable;case 7:return[2]}})})},o.prototype.init=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return this.dbname=i,[4,this.checkAvailability()];case 1:return c.sent(),[4,this._openDatabase(i)];case 2:return c.sent(),[4,this._resetIfEncryptionChanged()];case 3:return c.sent(),[2]}})})},o.prototype.clear=function(){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return i=c.sent(),[4,new Promise(function(u,p){var m=i.clear();m.addEventListener("success",function(){return u()}),m.addEventListener("error",function(v){return p(v.target.error)})})];case 2:return[2,c.sent()]}})})},o}(Wv),dte=function(s){function o(i){var c=this,u=i.AsyncStorage,p=i.itemSizeLimit,m=p===void 0?6291456:p,v=function(b,y){var S={};for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&y.indexOf(O)<0&&(S[O]=b[O]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function"){var V=0;for(O=Object.getOwnPropertySymbols(b);V<O.length;V++)y.indexOf(O[V])<0&&Object.prototype.propertyIsEnumerable.call(b,O[V])&&(S[O[V]]=b[O[V]])}return S}(i,["AsyncStorage","itemSizeLimit"]);return(c=s.call(this,Le(Le({},v),{itemSizeLimit:m}))||this)._asyncStorage=u,c}return ve(o,s),o.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},o.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},o.prototype._getAllRawKeys=function(){return Z(this,void 0,void 0,function(){var i=this;return X(this,function(c){switch(c.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return[2,c.sent().filter(function(u){return i._isBelonging(u)}).map(function(u){return u.substring("".concat(i.dbname,"/").length)})]}})})},o.prototype._getRaw=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(i))];case 1:return[2,(c=u.sent())?JSON.parse(c):null]}})})},o.prototype._setRaw=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:c=[];try{for(u=gt(i),p=u.next();!p.done;p=u.next())m=p.value,v=m.key,m.data.length<=this.adjustedItemSizeLimit&&c.push([this._getActualKey(v),JSON.stringify(m)])}catch(O){b={error:O}}finally{try{p&&!p.done&&(y=u.return)&&y.call(u)}finally{if(b)throw b.error}}return[4,this._asyncStorage.multiSet(c)];case 1:return S.sent(),[2]}})})},o.prototype._removeRaw=function(i){return Z(this,void 0,void 0,function(){var c=this;return X(this,function(u){switch(u.label){case 0:return[4,this._asyncStorage.multiRemove(i.map(function(p){return c._getActualKey(p)}))];case 1:return u.sent(),[2]}})})},o.prototype.checkAvailability=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){if(!this._asyncStorage)throw er.storeNotAvailable;return[2]})})},o.prototype.init=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return this.dbname=i,[4,this._resetIfEncryptionChanged()];case 1:return c.sent(),[2]}})})},o.prototype.clear=function(){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return[4,this.getAllKeys()];case 1:return i=c.sent(),[4,this.removeMany(i)];case 2:return c.sent(),[2]}})})},o}(Wv);(function(s){function o(i){var c,u=this;return(u=s.call(this,Le(Le({},i),{itemSizeLimit:(c=i.itemSizeLimit)!==null&&c!==void 0?c:6291456}))||this)._mmkv=i.MMKV,u}ve(o,s),o.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},o.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},o.prototype._getAllRawKeys=function(){return Z(this,void 0,void 0,function(){var i=this;return X(this,function(c){switch(c.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return[2,c.sent().filter(function(u){return i._isBelonging(u)}).map(function(u){return u.substring("".concat(i.dbname,"/").length)})]}})})},o.prototype._getRaw=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return[4,this._mmkv.getString(this._getActualKey(i))];case 1:return[2,(c=u.sent())?JSON.parse(c):null]}})})},o.prototype._setRaw=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b;return X(this,function(y){try{for(c=gt(i),u=c.next();!u.done;u=c.next())p=u.value,m=p.key,p.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(m),JSON.stringify(p))}catch(S){v={error:S}}finally{try{u&&!u.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}}return[2]})})},o.prototype._removeRaw=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v;return X(this,function(b){try{for(c=gt(i),u=c.next();!u.done;u=c.next())p=u.value,this._mmkv.delete(this._getActualKey(p))}catch(y){m={error:y}}finally{try{u&&!u.done&&(v=c.return)&&v.call(c)}finally{if(m)throw m.error}}return[2]})})},o.prototype.checkAvailability=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){if(!this._mmkv)throw er.storeNotAvailable;return[2]})})},o.prototype.init=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return this.dbname=i,[4,this._resetIfEncryptionChanged()];case 1:return c.sent(),[2]}})})},o.prototype.clear=function(){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return[4,this.getAllKeys()];case 1:return i=c.sent(),[4,this.removeMany(i)];case 2:return c.sent(),[2]}})})}})(Wv),function(s){s.INIT="INIT",s.OPENING="OPENING",s.OPENED="OPENED",s.CLOSED="CLOSED"}(Zl||(Zl={}));var Zi,ute=function(){function s(o){var i=o.name,c=o.version,u=o.store,p=o.config;this.name=i,this._version=c,this._state=Zl.INIT,this._config=p||new Vv({dbname:i}),this._store=u,this._event={success:uf,error:uf,storeReplaced:uf,upgrade:oO},this._collections=new Map,this._globalMutex=new D3("".concat(this.name,".lock")),this._config.disableLogger&&gu.off(),new so({dbname:i,limit:this._config.cacheLimit})}return Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"store",{get:function(){return this._store},enumerable:!1,configurable:!0}),s.prototype.estimateUsage=function(){return Z(this,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return[4,(i=this._store,Z(void 0,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return[4,i.usage()];case 1:return[2,c.sent()]}})}))];case 1:return[2,o.sent()]}var i})})},s.prototype.commitSchema=function(o){return Z(this,void 0,void 0,function(){var i=this;return X(this,function(c){switch(c.label){case 0:return this._state!==Zl.OPENING?[3,2]:[4,Promise.all(o.map(function(u){return Z(i,void 0,void 0,function(){var p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:return p=u.collectionName,m=u.keyName,v=u.index,b=v===void 0?[]:v,this._collections.has(p)||this._collections.set(p,new L3({dbname:this.name,collectionName:p,keyName:m,indexes:b,store:this._store})),(y=this._collections.get(p))?[4,y.init()]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})})}))];case 1:return c.sent(),[3,3];case 2:throw er.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},s.prototype.open=function(){var o;return Z(this,void 0,void 0,function(){var i,c,u,p,m=this;return X(this,function(v){switch(v.label){case 0:return[4,this._globalMutex.lock()];case 1:if(v.sent(),this._state===Zl.OPENED)return[3,12];this._state=Zl.OPENING,v.label=2;case 2:return v.trys.push([2,5,,12]),[4,this._store.init(this.name)];case 3:return v.sent(),b=this.name,i="".concat(A3(b),".metadata"),c={version:0,collectionNames:[]},[4,this._store.get(i)];case 4:return u=(o=v.sent())!==null&&o!==void 0?o:c,[2,new Promise(function(y,S){var O=function($){u.version<m._version?m._event.upgrade(u.version,function(te){return Z(m,void 0,void 0,function(){var J;return X(this,function(oe){switch(oe.label){case 0:if(te)return[3,5];u.version++,u.collectionNames=Array.from(this._collections.keys()),oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,this._store.set({key:i,value:u})];case 2:return oe.sent(),$({continued:!0}),[3,4];case 3:return J=oe.sent(),$({continued:!1,err:J}),[3,4];case 4:return[3,6];case 5:$({continued:!1,err:te}),oe.label=6;case 6:return[2]}})})}):$({continued:!1})},V=function($){var te=$.continued,J=te!==void 0&&te,oe=$.err,xe=oe===void 0?null:oe;if(J)setTimeout(function(){return O(V)},10);else if(xe)gu.error(xe.message),m._globalMutex.unlock(),m._event.error(xe),S(xe);else{var Ie=[];u.collectionNames.forEach(function(Ue){var He=m._collections.get(Ue);He&&He.state===fu.READY||Ie.push(Z(m,void 0,void 0,function(){var Ee,we;return X(this,function(nn){switch(nn.label){case 0:return[4,L3.metadataOf(this.name,Ue,this._store)];case 1:return(Ee=nn.sent())?(we=new L3({dbname:this.name,collectionName:Ue,keyName:Ee.keyName,indexes:Ee.indexes,store:this._store}),this._collections.set(Ue,we),[4,we.init()]):[3,3];case 2:nn.sent(),nn.label=3;case 3:return[2]}})}))}),Promise.all(Ie).then(function(){m._state=Zl.OPENED,m._globalMutex.unlock(),m._event.success(),y()}).catch(function(Ue){gu.error(Ue.message),m._globalMutex.unlock(),m._event.error(Ue),S(Ue)})}};O(V)})];case 5:switch((p=v.sent()).code){case Ar.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Ar.STORE_NOT_AVAILABLE:return[3,8]}return[3,10];case 6:return gu.warning("Access to the local storage is not allowed. Switched to MemoryStore automatically."),this._store=new t0({}),this._globalMutex.unlock(),this._event.error(p),this._event.storeReplaced(this._store),[4,this.open()];case 7:return v.sent(),[3,11];case 8:return gu.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new t0({}),this._globalMutex.unlock(),this._event.error(p),this._event.storeReplaced(this._store),[4,this.open()];case 9:return v.sent(),[3,11];case 10:throw gu.error(p.message),this._globalMutex.unlock(),this._event.error(p),p;case 11:return[3,12];case 12:return[2]}var b})})},s.prototype.close=function(){this._collections.forEach(function(o){return o.close()}),this._state=Zl.CLOSED},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(i){return i.clear()}))];case 1:return o.sent(),[2]}})})},s.prototype.reset=function(){return Z(this,void 0,void 0,function(){var o,i=this;return X(this,function(c){switch(c.label){case 0:return this.close(),(o=so.get(this.name))&&o.clearByCondition(function(u){return u.key.startsWith(A3(i.name))}),[4,this._store.clear()];case 1:return c.sent(),[2]}})})},s.prototype.on=function(o,i){this._event[o]=i},s.prototype.off=function(o){typeof this._event[o]=="function"&&(this._event[o]=o==="upgrade"?oO:uf)},s.prototype.collection=function(o){var i=this._collections.get(o);if(i)return i;throw er.collectionNotReady},s}(),Kv=function(){function s(){this.messageTypeFilter=ks.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=Is.NONE}return s.prototype.clone=function(){var o=new s,i=JSON.parse(JSON.stringify(this));return Object.keys(i).forEach(function(c){o[c]=i[c]}),o},s.prototype.match=function(o){switch(this.messageTypeFilter){case ks.USER:if(o.messageType!==Jr.USER)return!1;break;case ks.FILE:if(o.messageType!==Jr.FILE)return!1;break;case ks.ADMIN:if(o.messageType!==Jr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(o.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(o instanceof hu)||!this.senderUserIdsFilter.includes(o.sender.userId)))return!1;switch(this.replyType){case Is.NONE:if(o.parentMessageId>0)return!1;break;case Is.ONLY_REPLY_TO_CHANNEL:if(o instanceof hu&&o.parentMessageId>0&&!o.replyToChannel)return!1}return!0},s}();(function(s){s.CHANNEL_LATEST="channel_latest",s.NEWEST_CHILD_MESSAGE="newest_child_message"})(Zi||(Zi={}));var pf,Jl=function(s){switch(s){case Zi.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case Zi.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}};Le(Le({},VA),{scheduledAt:void 0}),Le(Le({},Fv),{scheduledAt:0,file:void 0,fileUrl:void 0,fileName:void 0,mimeType:void 0,fileSize:void 0,thumbnailSizes:void 0,requireAuth:!1});var hO="UnsentMessage",Qv={},r0=function(s){function o(i){var c=s.call(this,i)||this;return c._mutex=new D3("unsendmessagecache.lock"),Qv[i]=c,c}return ve(o,s),Object.defineProperty(o.prototype,"_cacheContext",{get:function(){return Ze.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),o.of=function(i,c){return c===void 0&&(c=!1),Qv[i]&&!c||(Qv[i]=new o(i)),Qv[i]},Object.defineProperty(o.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb,c=i==null?void 0:i.collection(hO);if(!c)throw $e.databaseError;return c},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),o.prototype._serialize=function(i){if(i.messageId>0)throw $e.invalidParameters;var c,u=Le({},i.serialize());return i instanceof Ka?(i.messageParams&&(u.messageParams=BA(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(u.scheduledInfo.scheduledMessageParams=(c=i.scheduledInfo.scheduledMessageParams,Le(Le({},BA(c)),{scheduledAt:c.scheduledAt})))):i instanceof ki?(i.messageParams&&(u.messageParams=zA(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(u.scheduledInfo.scheduledMessageParams=function(p){return Le(Le({},zA(p)),{scheduledAt:p.scheduledAt})}(i.scheduledInfo.scheduledMessageParams))):i instanceof ao&&i.messageParams&&(u.messageParams=function(p){return ct({fileInfoList:p.fileInfoList,isReplyToChannel:p.isReplyToChannel,pushNotificationDeliveryOption:p.pushNotificationDeliveryOption})}(i.messageParams)),u},o.prototype._deserialize=function(i){return i=Le(Le({},i),{messageId:parseInt(i.messageId)}),da.of(this._iid).buildMessageFromSerializedData(i)},o.prototype._deserializeWithMessageCreateParams=function(i){var c,u,p;return Z(this,void 0,void 0,function(){var m,v,b,y,S,O,V=this;return X(this,function($){switch($.label){case 0:return m=da.of(this._iid),v=this._deserialize(i),i.messageParams?v instanceof Ka?(y=i.messageParams,v.messageParams=m.buildUserMessageCreateParamsFromSerializedData(y,v),[3,6]):[3,1]:[3,6];case 1:return v instanceof ki?(y=i.messageParams).fileKey&&typeof y.fileKey=="string"&&S3((c=y.fileType)!==null&&c!==void 0?c:"")?(b=y,[4,this.collection.getBlob(y.fileKey)]):[3,3]:[3,4];case 2:b.file=(u=$.sent())!==null&&u!==void 0?u:void 0,$.label=3;case 3:return v.messageParams=m.buildFileMessageCreateParamsFromSerializedData(y,v),[3,6];case 4:return v instanceof ao&&(y=i.messageParams)&&y.fileInfoList?(v.messageParams=m.buildMultipleFilesMessageCreateParamsFromSerializedData(y,v),[4,Promise.all(v.messageParams.fileInfoList.map(function(te){return Z(V,void 0,void 0,function(){var J,oe,xe,Ie,Ue;return X(this,function(He){switch(He.label){case 0:return typeof((oe=te._uploadedMetaData)===null||oe===void 0?void 0:oe.fileKey)=="string"&&S3((Ie=(xe=te._uploadedMetaData)===null||xe===void 0?void 0:xe.fileType)!==null&&Ie!==void 0?Ie:"")?(J=te,[4,this.collection.getBlob(te._uploadedMetaData.fileKey)]):[3,2];case 1:J.file=(Ue=He.sent())!==null&&Ue!==void 0?Ue:void 0,He.label=2;case 2:return[2]}})})}))]):[3,6];case 5:$.sent(),$.label=6;case 6:return v.scheduledInfo&&i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams?v instanceof Ka?(S=i.scheduledInfo.scheduledMessageParams,v.scheduledInfo.scheduledMessageParams=m.buildScheduledUserMessageCreateParamsFromSerializedData(S,v),[3,10]):[3,7]:[3,10];case 7:return v instanceof ki?(S=i.scheduledInfo.scheduledMessageParams).fileKey&&typeof S.fileKey=="string"&&typeof S.fileType=="string"&&S3(S.fileType)?(O=S,[4,this.collection.getBlob(S.fileKey)]):[3,9]:[3,10];case 8:O.file=(p=$.sent())!==null&&p!==void 0?p:void 0,$.label=9;case 9:v.scheduledInfo.scheduledMessageParams=m.buildScheduledFileMessageCreateParamsFromSerializedData(S,v),$.label=10;case 10:return[2,v]}})})},o.prototype._getFileInfoBlobKey=function(i,c){return"".concat(i,".").concat(c)},o.prototype.get=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(c=u.sent())return[2,this._deserializeWithMessageCreateParams(c)];u.label=2;case 2:return[2,void 0]}})})},o.prototype.fetch=function(i){var c=i.channelUrl,u=i.filter,p=u===void 0?new Kv:u,m=i.order,v=m===void 0?Zi.CHANNEL_LATEST:m,b=i.sendingStatus,y=i.backward,S=y!==void 0&&y,O=i.parentMessageId;return Z(this,void 0,void 0,function(){var V,$,te,J,oe=this;return X(this,function(xe){switch(xe.label){case 0:return this.localCacheEnabled?(V=Jl(v),$={"/where":function(Ie){return!!(v!==Zi.NEWEST_CHILD_MESSAGE||O&&Ie.parentMessageId!==0&&Ie.parentMessageId===O)&&p.match(oe._deserialize(Ie))}},c&&($.channelUrl=c),b&&($.sendingStatus=b),te={where:$,index:V,backward:S},[4,this.collection.query(te)]):[3,3];case 1:return[4,xe.sent().fetch({})];case 2:return J=xe.sent(),[2,Promise.all(J.map(function(Ie){return Z(oe,void 0,void 0,function(){return X(this,function(Ue){switch(Ue.label){case 0:return[4,this._deserializeWithMessageCreateParams(Ie)];case 1:return[2,Ue.sent()]}})})}))];case 3:return[2,[]]}})})},o.prototype.getAllChildMessages=function(i,c){return c===void 0&&(c=new Kv),Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return[4,this.fetch({filter:c,order:Zi.NEWEST_CHILD_MESSAGE,channelUrl:i.channelUrl,backward:!1,parentMessageId:i.messageId})];case 1:return[2,u.sent()]}})})},o.prototype.upsert=function(i){return Z(this,void 0,void 0,function(){var c=this;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return Z(c,void 0,void 0,function(){var m;return X(this,function(v){switch(v.label){case 0:return p instanceof ki||p instanceof ao?[4,this._mutex.lock()]:[3,4];case 1:return v.sent(),[4,this.saveBlob(p)];case 2:return v.sent(),[4,this._mutex.unlock()];case 3:v.sent(),v.label=4;case 4:return m=this._serialize(p),[4,this.collection.upsertOne(m)];case 5:return v.sent(),[2]}})})}))]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},o.prototype.upsertChildMessages=function(i){return Z(this,void 0,void 0,function(){var c=this;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return Z(c,void 0,void 0,function(){var m;return X(this,function(v){switch(v.label){case 0:return m=[],p.threadInfo&&p.threadInfo.replyCount>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:m=v.sent(),v.label=2;case 2:return m.length>0?(m.forEach(function(b){return b.applyParentMessage(p)}),[4,this.upsert(m)]):[3,4];case 3:v.sent(),v.label=4;case 4:return[2]}})})}))]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},o.prototype.remove=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:if(!this.localCacheEnabled)return[3,8];y.label=1;case 1:y.trys.push([1,6,7,8]),c=gt(i),u=c.next(),y.label=2;case 2:return u.done?[3,5]:(p=u.value,[4,this.collection.remove(p)]);case 3:y.sent(),y.label=4;case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return m=y.sent(),v={error:m},[3,8];case 7:try{u&&!u.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 8:return[2]}})})},o.prototype.removeMessagesOfChannel=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i}})]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},o.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},o.prototype.saveBlob=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m=this;return X(this,function(v){switch(v.label){case 0:return i instanceof ki?i.messageParams&&(p=i.messageParams).file&&Hv(p.file)?[4,this.collection.saveBlob(p.file,i.reqId)]:[3,2]:[3,5];case 1:u=v.sent(),p.fileKey=u,p.fileType=pu.BLOB,v.label=2;case 2:return i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(c=i.scheduledInfo.scheduledMessageParams).file&&Hv(c.file)?[4,this.collection.saveBlob(c.file,i.reqId)]:[3,4];case 3:u=v.sent(),c.fileKey=u,c.fileType=pu.BLOB,v.label=4;case 4:return[3,7];case 5:return i instanceof ao&&(p=i.messageParams)&&p.fileInfoList&&Array.isArray(p.fileInfoList)?[4,Promise.all(p.fileInfoList.map(function(b,y){return Z(m,void 0,void 0,function(){var S;return X(this,function(O){switch(O.label){case 0:return b.file&&Hv(b.file)?[4,this.collection.saveBlob(b.file,this._getFileInfoBlobKey(i.reqId,y))]:[3,2];case 1:S=O.sent(),b._uploadedMetaData||(b._uploadedMetaData={}),b._uploadedMetaData.fileKey=S,b._uploadedMetaData.fileType=pu.BLOB,O.label=2;case 2:return[2]}})})}))]:[3,7];case 6:v.sent(),v.label=7;case 7:return[2]}})})},o}(Rs),Yv={},Xv=function(s){function o(i){var c=s.call(this,i)||this;return Yv[i]=c,c}return ve(o,s),Object.defineProperty(o.prototype,"_sdkState",{get:function(){return Ze.of(this._iid).sdkState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_cacheContext",{get:function(){return Ze.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_unsentMessageCache",{get:function(){return r0.of(this._iid)},enumerable:!1,configurable:!0}),o.of=function(i,c){return c===void 0&&(c=!1),Yv[i]&&!c||(Yv[i]=new o(i)),Yv[i]},Object.defineProperty(o.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb;return Pn(!!i).throw($e.databaseError),i.collection(tO)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),o.prototype._serialize=function(i){return Le(Le({},i.serialize()),{messageId:"".concat(i.messageId)})},o.prototype._deserialize=function(i){return i=Le(Le({},i),{messageId:parseInt(i.messageId)}),da.of(this._iid).buildMessageFromSerializedData(i)},o.prototype.get=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(c=u.sent())return[2,this._deserialize(c)];u.label=2;case 2:return[2,void 0]}})})},o.prototype.fetch=function(i){var c=i.channelUrl,u=i.token,p=i.limit,m=p===void 0?100:p,v=i.filter,b=v===void 0?new Kv:v,y=i.order,S=y===void 0?Zi.CHANNEL_LATEST:y,O=i.backward,V=O!==void 0&&O,$=i.parentMessageId,te=i.isPollOnly,J=te!==void 0&&te,oe=i.exactMatch,xe=oe!==void 0&&oe,Ie=i.inclusive,Ue=Ie===void 0||Ie;return Z(this,void 0,void 0,function(){var He,Ee,we,nn=this;return X(this,function(Xe){switch(Xe.label){case 0:return this.localCacheEnabled?(He=Jl(S),Ee={where:{channelUrl:c,"/where":function(We){if(u)switch(S){case Zi.CHANNEL_LATEST:if(xe&&We.createdAt!==u)return!1;if(V){if(Ue&&We.createdAt<u||!Ue&&We.createdAt<=u)return!1}else if(Ue&&We.createdAt>u||!Ue&&We.createdAt>=u)return!1;break;case Zi.NEWEST_CHILD_MESSAGE:if(!$||We.parentMessageId===0||We.parentMessageId!==$)return!1}return!(J&&!We._poll)&&b.match(nn._deserialize(We))}},index:He,backward:V},[4,this.collection.query(Ee)]):[3,3];case 1:return[4,Xe.sent().fetch({limit:m??void 0})];case 2:return we=Xe.sent(),[2,Promise.all(we.map(function(We){return Z(nn,void 0,void 0,function(){return X(this,function(In){return[2,this._deserialize(We)]})})}))];case 3:return[2,[]]}})})},o.prototype.getAllChildMessages=function(i,c){return c===void 0&&(c=new Kv),Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return[4,this.fetch({channelUrl:i.channelUrl,token:Date.now(),limit:null,backward:!1,filter:c,order:Zi.NEWEST_CHILD_MESSAGE,parentMessageId:i.messageId})];case 1:return[2,u.sent()]}})})},o.prototype.upsert=function(i){return Z(this,void 0,void 0,function(){var c,u=this;return X(this,function(p){switch(p.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(i)]:[3,5];case 1:return p.sent(),c=i.map(function(m){return u._serialize(m)}),[4,this.collection.upsertMany(c)];case 2:return p.sent(),[4,this.upsertChildMessages(i)];case 3:return p.sent(),[4,this._unsentMessageCache.upsertChildMessages(i)];case 4:p.sent(),p.label=5;case 5:return[2]}})})},o.prototype.upsertChildMessages=function(i){return Z(this,void 0,void 0,function(){var c=this;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return Z(c,void 0,void 0,function(){var m,v;return X(this,function(b){switch(b.label){case 0:return m=[],!((v=p.threadInfo)===null||v===void 0)&&v.replyCount&&p.threadInfo.replyCount>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:m=b.sent(),b.label=2;case 2:return m.length>0?(m.forEach(function(y){return y.applyParentMessage(p)}),[4,this.upsert(m)]):[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}})})}))]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},o.prototype.remove=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:if(!this.localCacheEnabled)return[3,8];y.label=1;case 1:y.trys.push([1,6,7,8]),c=gt(i),u=c.next(),y.label=2;case 2:return u.done?[3,5]:(p=u.value,[4,this.collection.remove("".concat(p))]);case 3:y.sent(),y.label=4;case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return m=y.sent(),v={error:m},[3,8];case 7:try{u&&!u.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 8:return[2]}})})},o.prototype.removeMessagesOfChannel=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i},index:Jl(Zi.CHANNEL_LATEST)})]:[3,6];case 1:return u.sent(),[4,(c=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync"))];case 2:return u.sent(),[4,c.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync.meta"))];case 3:return u.sent(),[4,c.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs"))];case 4:return u.sent(),[4,c.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs.meta"))];case 5:u.sent(),u.label=6;case 6:return[2]}})})},o.prototype.removeUnderOffset=function(i,c){return Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i,createdAt:{"<":c}},index:Jl(Zi.CHANNEL_LATEST)})]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},o.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},o.prototype.countBetween=function(i,c,u){return Z(this,void 0,void 0,function(){var p,m=this;return X(this,function(v){switch(v.label){case 0:return this.localCacheEnabled?(p=Jl(Zi.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:i,"/where":function(b){var y=m._deserialize(b);return u.includes(y.createdAt)&&c.match(y)}},index:p}).count()]):[3,2];case 1:return[2,v.sent()];case 2:return[2,0]}})})},o.prototype.saveBlobs=function(i){return Z(this,void 0,void 0,function(){var c=this;return X(this,function(u){switch(u.label){case 0:return[4,Promise.all(i.map(function(p){return Z(c,void 0,void 0,function(){var m,v;return X(this,function(b){switch(b.label){case 0:return p instanceof ki&&p.messageParams&&(m=p.messageParams).file&&Hv(m.file)?[4,this.collection.saveBlob(m.file,p.reqId)]:[3,2];case 1:v=b.sent(),m.fileKey=v,b.label=2;case 2:return[2]}})})}))];case 1:return u.sent(),[2]}})})},o.prototype._getGroupChannelPreferenceSize=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:return c=0,[4,(u=this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync"))];case 1:return p=y.sent(),[4,u.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync.meta"))];case 2:return m=y.sent(),[4,u.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs"))];case 3:return v=y.sent(),[4,u.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs.meta"))];case 4:return b=y.sent(),p&&(c+=JSON.stringify(p).length),m&&(c+=JSON.stringify(m).length),v&&(c+=JSON.stringify(v).length),b&&(c+=JSON.stringify(b).length),[2,c]}})})},o}(Rs),ff={},pO=function(s){function o(i){var c=s.call(this,i)||this;return c._observers=new Map,c._dispatcherContext=c._dispatcher.on(function(u){return Z(c,void 0,void 0,function(){var p,m,v,b,y,S,O,V,$,te,J,oe,xe,Ie,Ue=this;return X(this,function(He){switch(He.label){case 0:return u instanceof qi?(p=u.messages,xe=u.source,y=u.isWebSocketEventComing,m=p.filter(function(Ee){return Ee.messageId>0}),v=p.filter(function(Ee){return Ee.messageId===0}),m.length>0?[4,Os(function(){return Z(Ue,void 0,void 0,function(){return X(this,function(Ee){switch(Ee.label){case 0:return[4,this._messageCache.upsert(m)];case 1:return Ee.sent(),[4,this._unsentMessageCache.remove(m.map(function(we){return we instanceof hu?we.reqId:null}).filter(function(we){return we!==null}))];case 2:return Ee.sent(),[2]}})})})]:[3,2]):[3,5];case 1:He.sent(),y||this._broadcastUpdateEvent(m,xe),He.label=2;case 2:return v.length>0?[4,Os(function(){return Z(Ue,void 0,void 0,function(){return X(this,function(Ee){switch(Ee.label){case 0:return[4,this._unsentMessageCache.upsert(v)];case 1:return Ee.sent(),[2]}})})})]:[3,4];case 3:He.sent(),y||this._broadcastUpdateEvent(v,xe),He.label=4;case 4:return[3,21];case 5:return u instanceof gA?(b=u.messageIds,xe=u.source,y=u.isWebSocketEventComing,[4,Os(function(){return Z(Ue,void 0,void 0,function(){return X(this,function(Ee){switch(Ee.label){case 0:return[4,this._messageCache.remove(b)];case 1:return Ee.sent(),[2]}})})})]):[3,7];case 6:return He.sent(),y||this._broadcastRemoveEvent(b,xe),[3,21];case 7:return u instanceof tee?(S=u.reqId,xe=u.source,[4,Os(function(){return Z(Ue,void 0,void 0,function(){return X(this,function(Ee){switch(Ee.label){case 0:return[4,this._unsentMessageCache.remove([S])];case 1:return Ee.sent(),[2]}})})})]):[3,9];case 8:return He.sent(),this._broadcastRemoveUnsentEvent(S,xe),[3,21];case 9:return u instanceof bA?(O=u.polls,xe=u.source,this._cacheContext.localCacheEnabled?(V=O.map(function(Ee){return Ee.messageId}),[4,Promise.all(V.map(function(Ee){return Ue._messageCache.get(Ee)}))]):[3,12]):[3,13];case 10:return($=He.sent().filter(function(Ee){return Ee})).length>0&&O.forEach(function(Ee){var we=$.find(function(nn){return nn.messageId===Ee.messageId});we&&we.applyPoll(Ee)}),[4,Os(function(){return Z(Ue,void 0,void 0,function(){return X(this,function(Ee){switch(Ee.label){case 0:return[4,this._messageCache.upsert($)];case 1:return[2,Ee.sent()]}})})})];case 11:He.sent(),He.label=12;case 12:return this._broadcastPollChangeLogEvent(O,xe),[3,21];case 13:return u instanceof yA?(te=u.event,xe=u.source,[4,this._messageCache.get(te.messageId)]):[3,17];case 14:return(J=He.sent())&&J.isUserMessage()&&J.poll&&J.poll.applyPollUpdateEvent(te)?[4,Os(function(){return Z(Ue,void 0,void 0,function(){return X(this,function(Ee){switch(Ee.label){case 0:return[4,this._messageCache.upsert([J])];case 1:return[2,Ee.sent()]}})})})]:[3,16];case 15:He.sent(),He.label=16;case 16:return this._broadcastPollUpdateEvent(te,xe),[3,21];case 17:return u instanceof v3?(oe=u.event,xe=u.source,[4,this._messageCache.get(oe.messageId)]):[3,21];case 18:return(Ie=He.sent())&&Ie.isUserMessage()&&Ie.poll&&Ie.poll.applyPollVoteEvent(oe)?[4,Os(function(){return Z(Ue,void 0,void 0,function(){return X(this,function(Ee){switch(Ee.label){case 0:return[4,this._messageCache.upsert([Ie])];case 1:return[2,Ee.sent()]}})})})]:[3,20];case 19:He.sent(),He.label=20;case 20:this._broadcastPollVoteEvent(oe,xe),He.label=21;case 21:return[2]}})})}),c}return ve(o,s),Object.defineProperty(o.prototype,"_cacheContext",{get:function(){return Ze.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_dispatcher",{get:function(){return Ze.of(this._iid).dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_messageCache",{get:function(){return Xv.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_unsentMessageCache",{get:function(){return r0.of(this._iid)},enumerable:!1,configurable:!0}),o.of=function(i,c){var u;return c===void 0&&(c=!1),ff[i]&&!c||(ff[i]&&((u=ff[i]._dispatcherContext)===null||u===void 0||u.close()),ff[i]=new o(i)),ff[i]},o.prototype._broadcastUpdateEvent=function(i,c){var u,p;try{for(var m=gt(this._observers.values()),v=m.next();!v.done;v=m.next()){var b=v.value;b.onUpdate&&b.onUpdate(i,c)}}catch(y){u={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}},o.prototype._broadcastPollChangeLogEvent=function(i,c){var u,p;try{for(var m=gt(this._observers.values()),v=m.next();!v.done;v=m.next()){var b=v.value;b.onPollChangeLogUpdate&&b.onPollChangeLogUpdate(i,c)}}catch(y){u={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}},o.prototype._broadcastPollUpdateEvent=function(i,c){var u,p;try{for(var m=gt(this._observers.values()),v=m.next();!v.done;v=m.next()){var b=v.value;b.onPollUpdate&&b.onPollUpdate(i,c)}}catch(y){u={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}},o.prototype._broadcastPollVoteEvent=function(i,c){var u,p;try{for(var m=gt(this._observers.values()),v=m.next();!v.done;v=m.next()){var b=v.value;b.onPollVote&&b.onPollVote(i,c)}}catch(y){u={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}},o.prototype._broadcastRemoveEvent=function(i,c){var u,p;try{for(var m=gt(this._observers.values()),v=m.next();!v.done;v=m.next()){var b=v.value;b.onRemove&&b.onRemove(i,c)}}catch(y){u={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}},o.prototype._broadcastRemoveUnsentEvent=function(i,c){var u,p;try{for(var m=gt(this._observers.values()),v=m.next();!v.done;v=m.next()){var b=v.value;b.onRemoveUnsent&&b.onRemoveUnsent(i,c)}}catch(y){u={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}},o.prototype.subscribe=function(i,c){this._observers.set(i,c)},o.prototype.unsubscribe=function(i){this._observers.delete(i)},o.prototype.unsubscribeAll=function(){this._observers.clear()},o}(Rs),fO={},da=function(){function s(o,i){var c=i.sdkState,u=i.dispatcher,p=i.requestQueue,m=i.onlineDetector,v=i.cacheContext;this._iid=o,this._sdkState=c,this._requestQueue=p,this._dispatcher=u,this._cacheContext=v,Xv.of(o),r0.of(o),pO.of(o),this.fileMessageQueue=new wee(o,{sdkState:c,dispatcher:u,requestQueue:p,onlineDetector:m,cacheContext:v}),fO[o]=this}return s.of=function(o){return fO[o]},s.prototype.buildMessageFromSerializedData=function(o){var i=rf(o);switch(i.messageType){case Jr.USER:return new Ka(this._iid,Ka.payloadify(i));case Jr.FILE:return ao._isMultipleFilesMessageSerializedData(i)?new ao(this._iid,ao.payloadify(i)):new ki(this._iid,ki.payloadify(i));case Jr.ADMIN:return new lf(this._iid,lf.payloadify(i))}throw $e.invalidParameters},s.prototype.buildUserMessageCreateParamsFromSerializedData=function(o,i){return ct(_t({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:o.isReplyToChannel,pushNotificationDeliveryOption:o.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,message:i.message,translationTargetLanguages:Object.keys(i.translations),pollId:o.pollId}))},s.prototype.buildFileMessageCreateParamsFromSerializedData=function(o,i){var c;return ct(_t({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:o.isReplyToChannel,pushNotificationDeliveryOption:o.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,file:o.file,fileKey:o.fileKey,fileUrl:i.plainUrl,fileName:i.name,fileSize:i.size,mimeType:i.type,thumbnailSizes:(c=i.thumbnails)===null||c===void 0?void 0:c.map(function(u){return{maxWidth:u.width,maxHeight:u.height}}),fileType:o.fileType,requireAuth:i.requireAuth}))},s.prototype.buildMultipleFilesMessageCreateParamsFromSerializedData=function(o,i){return ct({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:o.isReplyToChannel,pushNotificationDeliveryOption:o.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,fileInfoList:o.fileInfoList})},s.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(o,i){return Le(Le({},this.buildUserMessageCreateParamsFromSerializedData(o,i)),{scheduledAt:o.scheduledAt})},s.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(o,i){return Le(Le({},this.buildFileMessageCreateParamsFromSerializedData(o,i)),{scheduledAt:o.scheduledAt})},s.prototype.buildSenderFromSerializedData=function(o){var i=rf(o);return new Jh(this._iid,Jh.payloadify(i))},s.prototype.getMessage=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return i=new xee(o),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(See).message]}})})},s.prototype.getScheduledMessage=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:return i=new kee(o),[4,this._requestQueue.send(i)];case 1:return[2,c.sent().as(Iee).message]}})})},s.prototype.getMessagesByMessageId=function(o,i,c,u,p){return p===void 0&&(p=Nr.REQUEST_MESSAGE),Z(this,void 0,void 0,function(){var m,v,b;return X(this,function(y){switch(y.label){case 0:return m=new Lv(Le(Le({channelType:i,channelUrl:o,token:String(c)},cf),u)),[4,this._requestQueue.send(m)];case 1:return v=y.sent(),b=v.as(Uv).messages,this._dispatcher.dispatch(new qi({messages:b,source:p})),[2,b]}})})},s.prototype.getMessagesByTimestamp=function(o,i,c,u,p){return p===void 0&&(p=Nr.REQUEST_MESSAGE),Z(this,void 0,void 0,function(){var m,v,b;return X(this,function(y){switch(y.label){case 0:return m=new Lv(Le(Le({channelType:i,channelUrl:o,timestamp:c},cf),u)),[4,this._requestQueue.send(m)];case 1:return v=y.sent(),b=v.as(Uv).messages,this._dispatcher.dispatch(new qi({messages:b,source:p})),[2,b]}})})},s.prototype._getMessagesByTimestampForCollection=function(o,i,c,u,p,m){return p===void 0&&(p=Nr.REQUEST_MESSAGE),Z(this,void 0,void 0,function(){var v,b,y,S;return X(this,function(O){switch(O.label){case 0:return v=new Lv(Le(Le(Le({channelType:i,channelUrl:o,timestamp:c},cf),u),{checkingContinuousMessages:m})),[4,this._requestQueue.send(v)];case 1:return b=O.sent(),y=b.payload,S=b.as(Uv).messages,this._dispatcher.dispatch(new qi({messages:S,source:p})),[2,{messages:S,isContinuousMessages:y}]}})})},s.prototype.getThreadedMessagesByTimestamp=function(o,i,c,u){return u===void 0&&(u=Nr.REQUEST_THREADED_MESSAGE),Z(this,void 0,void 0,function(){var p,m,v,b;return X(this,function(y){switch(y.label){case 0:return p=new Lv(Le(Le(Le({channelUrl:o.channelUrl,channelType:o.channelType,timestamp:i},of),c),{replyType:Is.ALL,parentMessageId:o.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(p)];case 1:return m=y.sent(),v=m.as(Uv).messages,(b=v.slice(1)).forEach(function(S){S.parentMessage=o}),this._dispatcher.dispatch(new qi({messages:b,source:u})),[2,{parentMessage:v[0],threadedMessages:b}]}})})},s.prototype.getMessageChangelogs=function(o,i,c,u,p){return p===void 0&&(p=Nr.REQUEST_MESSAGE_CHANGELOGS),Z(this,void 0,void 0,function(){var m,v,b,y,S,O,V,$;return X(this,function(te){switch(te.label){case 0:return m=new Tee(ct(_t(Le(Le({channelType:i,channelUrl:o,timestamp:typeof c=="number"?c:null,token:typeof c=="string"?c:null},w3),u)))),[4,this._requestQueue.send(m)];case 1:return v=te.sent(),b=v.as(Cee),y=b.updatedMessages,S=b.deletedMessagesInfo,O=b.hasMore,V=b.nextToken,$=S.map(function(J){return J.messageId}),y.length>0&&this._dispatcher.dispatch(new qi({messages:y,source:p})),$.length>0&&this._dispatcher.dispatch(new gA({messageIds:$,source:p})),[2,{updatedMessages:y,deletedMessageIds:$,hasMore:O,token:V}]}})})},s}(),hte=function(s){function o(i,c){var u=s.call(this,i)||this;u.targetMessageId=0;var p=c.thread_info,m=c.parent_message_id,v=c.channel_url,b=c.channel_type;return p&&Ve("object",p)&&Ve("number",m)&&Ve("string",v)&&Ve("string",b)&&(u.threadInfo=new b3(i,p),u.targetMessageId=m,u.channelUrl=v,u.channelType=b),u}return ve(o,s),o}(Rs),pte={channelUrl:"",channelType:ur.BASE,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},fte=function(s){function o(i){var c=i.channelCustomType,u=i.keyword,p=i.limit,m=i.reverse,v=i.exactMatch,b=i.channelUrl,y=i.order,S=i.messageTimestampFrom,O=i.messageTimestampTo,V=i.advancedQuery,$=i.targetFields,te=i.nextToken,J=s.call(this)||this;return J.method=Dn.GET,J.path="".concat(AZ,"/messages"),J.params={custom_type:c,query:u,limit:p,reverse:m,exact_match:v,channel_url:b,message_ts_from:S,message_ts_to:O,sort_field:y,advanced_query:V,target_fields:$,after:te},J}return ve(o,s),o}(Un),_te=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.messages=c.results.map(function(p){return Yl(i,p)}),u.hasNext=c.has_next,u.nextToken=c.end_cursor,u.totalCount=c.total_count,u}return ve(o,s),o}(qn);(function(s){s.SCORE="score",s.TIMESTAMP="ts"})(pf||(pf={}));var ua,mte=function(s){function o(i,c){var u,p,m,v,b,y,S,O,V,$=this;return($=s.call(this,i,c)||this).keyword="",$.reverse=!1,$.exactMatch=!1,$.channelUrl="",$.channelCustomType="",$.messageTimestampFrom=null,$.messageTimestampTo=null,$.order=pf.SCORE,$.advancedQuery=!1,$.targetFields=null,$._nextToken="",$.totalCount=-1,$.keyword=c.keyword,$.reverse=(u=c.reverse)!==null&&u!==void 0&&u,$.exactMatch=(p=c.exactMatch)!==null&&p!==void 0&&p,$.channelUrl=(m=c.channelUrl)!==null&&m!==void 0?m:"",$.channelCustomType=(v=c.channelCustomType)!==null&&v!==void 0?v:"",$.messageTimestampFrom=(b=c.messageTimestampFrom)!==null&&b!==void 0?b:null,$.messageTimestampTo=(y=c.messageTimestampTo)!==null&&y!==void 0?y:null,$.order=(S=c.order)!==null&&S!==void 0?S:pf.SCORE,$.advancedQuery=(O=c.advancedQuery)!==null&&O!==void 0&&O,$.targetFields=(V=c.targetFields)!==null&&V!==void 0?V:null,$}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("string",this.keyword)&&this.keyword.length>0&&Ve("boolean",this.reverse)&&Ve("boolean",this.exactMatch)&&Ve("string",this.channelUrl)&&Ve("string",this.channelCustomType)&&(Ve("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(Ve("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&Lr(pf,this.order)&&Ve("boolean",this.advancedQuery)&&ar("string",this.targetFields,!0)},o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid).requestQueue,c=new fte(_t(Le(Le({},this),{nextToken:this._nextToken?this._nextToken:null}))),[4,i.send(c)]):[3,2]:[3,5];case 1:return u=S.sent(),p=u.as(_te),m=p.messages,v=p.hasNext,b=p.nextToken,y=p.totalCount,this._nextToken=b,this._hasNext=v,this._isLoading=!1,this.totalCount=y,[2,m];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(Zh),vte={channelUrl:"",scheduledMessageId:0},gte=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="message",i}return ve(o,s),o.prototype.init=function(i,c){var u=c.sdkState,p=c.dispatcher,m=c.sessionManager,v=c.requestQueue,b=c.logger,y=c.onlineDetector,S=c.cacheContext;s.prototype.init.call(this,i,{sdkState:u,dispatcher:p,sessionManager:m,requestQueue:v,logger:b,onlineDetector:y,cacheContext:S}),this._manager=new da(i,{sdkState:u,dispatcher:p,requestQueue:v,onlineDetector:y,cacheContext:S})},o.prototype.buildMessageFromSerializedData=function(i){return this._manager.buildMessageFromSerializedData(i)},o.prototype.buildSenderFromSerializedData=function(i){return this._manager.buildSenderFromSerializedData(i)},o.prototype.getMessage=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){return c=Le(Le({},pte),i),Pn(function(p){return Ve("string",p.channelUrl)&&Lr(ur,p.channelType)&&Ve("number",p.messageId)&&Ve("boolean",p.includeReactions,!0)&&Ve("boolean",p.includeMetaArray,!0)&&Ve("boolean",p.includeParentMessageInfo,!0)&&Ve("boolean",p.includeThreadInfo,!0)}(c)).throw($e.invalidParameters),[2,this._manager.getMessage(c)]})})},o.prototype.getScheduledMessage=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){return c=Le(Le({},vte),i),Pn(function(p){return Ve("string",p.channelUrl)&&p.channelUrl!==""&&Ve("number",p.scheduledMessageId)&&p.scheduledMessageId>0}(c)).throw($e.invalidParameters),[2,this._manager.getScheduledMessage(c)]})})},o}(_3),bte=function(s,o){this.pollId=0,this.messageId=0,this.pollId=o.poll.id,this.messageId=o.poll.message_id,this._iid=s,this._payload=o};(function(s){s[s.NONE=0]="NONE",s[s.CHANNEL_ENTER=10102]="CHANNEL_ENTER",s[s.CHANNEL_EXIT=10103]="CHANNEL_EXIT",s[s.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",s[s.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",s[s.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",s[s.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",s[s.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",s[s.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",s[s.TYPING_START=10900]="TYPING_START",s[s.TYPING_END=10901]="TYPING_END",s[s.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",s[s.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",s[s.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",s[s.CHANNEL_INVITE=10020]="CHANNEL_INVITE",s[s.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",s[s.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",s[s.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",s[s.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",s[s.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",s[s.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",s[s.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",s[s.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",s[s.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(ua||(ua={}));var yte=function(){function s(o){var i;this.channelUrl=o.channel_url,this.channelType=o.channel_type,this.category=o.cat,this.data=(i=o.data)!==null&&i!==void 0?i:{},this.ts=o.ts}return Object.defineProperty(s.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===ur.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===ur.OPEN},enumerable:!1,configurable:!0}),s}(),Zv=function(s){function o(i,c,u){var p=s.call(this,i,"SYEV",u)||this;return p.event=new yte(u),p}return ve(o,s),o}(Qr),Ete=function(s){function o(i,c,u){var p=s.call(this,i,c,u)||this,m=u.data.operators,v=m===void 0?[]:m;return p.operators=v.map(function(b){return new Ft(p._iid,b)}),p}return ve(o,s),o}(Zv),wte=function(){function s(o){var i=o.top,c=i===void 0?Number.MAX_SAFE_INTEGER:i,u=o.bottom,p=u===void 0?0:u;this.top=c,this.bottom=p}return s.prototype.includes=function(){for(var o=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return i.every(function(u){return o.top<=u&&u<=o.bottom})},s.prototype.overlap=function(o){return this.includes(o.top)||this.includes(o.bottom)},s.prototype.intersect=function(){for(var o=this,i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return i.some(function(u){return o.top<=u&&u<=o.bottom})},s.prototype.extends=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.top=Math.min.apply(Math,Yt([this.top],Mt(o),!1)),this.bottom=Math.max.apply(Math,Yt([this.bottom],Mt(o),!1))},s}(),xte=function(s){function o(i,c){var u=s.call(this,i)||this;return u._logger=c.logger,u._sdkState=c.sdkState,u._sessionManager=c.sessionManager,u._requestQueue=c.requestQueue,u._dispatcher=c.dispatcher,u._cacheContext=c.cacheContext,u._channelType=c.channelType,u}return ve(o,s),Object.defineProperty(o.prototype,"_messageCache",{get:function(){return Xv.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_unsentMessageCache",{get:function(){return r0.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_messageBroadcast",{get:function(){return pO.of(this._iid)},enumerable:!1,configurable:!0}),o.prototype.subscribeMessageEvent=function(i,c){this._messageBroadcast.subscribe(i,c)},o.prototype.unsubscribeMessageEvent=function(i){this._messageBroadcast.unsubscribe(i)},o.prototype.getMessageFromCache=function(i){var c;return Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return[4,this._messageCache.get(i)];case 1:return[2,(c=u.sent())!==null&&c!==void 0?c:null]}})})},o.prototype.getExactlyMatchingMessagesForTokenFromCache=function(i,c,u){return Z(this,void 0,void 0,function(){return X(this,function(p){switch(p.label){case 0:return[4,this._messageCache.fetch({channelUrl:i,token:c,filter:u,exactMatch:!0})];case 1:return[2,p.sent()]}})})},o.prototype.getMessagesFromCache=function(i,c,u,p,m,v){return m===void 0&&(m=100),v===void 0&&(v=!0),Z(this,void 0,void 0,function(){return X(this,function(b){switch(b.label){case 0:return[4,this._messageCache.fetch({channelUrl:i,token:c,limit:m,filter:p,backward:u==="next",inclusive:v})];case 1:return[2,b.sent()]}})})},o.prototype.getPollMessagesFromCache=function(i,c,u,p){return Z(this,void 0,void 0,function(){return X(this,function(m){switch(m.label){case 0:return[4,this._messageCache.fetch({channelUrl:i,token:c,limit:p,filter:u,backward:!1,isPollOnly:!0})];case 1:return[2,m.sent()]}})})},o.prototype.getCachedMessageCountBetween=function(i,c,u,p){return Z(this,void 0,void 0,function(){return X(this,function(m){switch(m.label){case 0:return[4,this._messageCache.countBetween(i,c,new wte({top:u,bottom:p}))];case 1:return[2,m.sent()]}})})},o.prototype.getUnsentMessagesFromCache=function(i,c){return Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:i,filter:c})];case 1:return[2,u.sent()]}})})},o.prototype.removeFailedMessageFromCache=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return[4,this._unsentMessageCache.remove([i])];case 1:return c.sent(),[2]}})})},o}(Rs),Ste=function(s){function o(i,c,u){var p,m,v,b,y=this;(y=s.call(this,i,"ADMM",u)||this).message=new lf(i,u);var S=Ze.of(i).sdkState;return y.isMentioned=qh(y.message.mentionType,(v=(p=y.message.mentionedUserIds)!==null&&p!==void 0?p:(m=y.message.mentionedUsers)===null||m===void 0?void 0:m.map(function(O){return O.userId}))!==null&&v!==void 0?v:[],S.userId),y.forceUpdateLastMessage=(b=u.force_update_last_message)!==null&&b!==void 0&&b,y}return ve(o,s),o}(Qr),Tte=function(s){function o(i,c,u){var p,m,v,b,y,S=this;(S=s.call(this,i,"AEDI",u)||this).message=new lf(i,u);var O=Ze.of(i).sdkState;return S.mentionCountChange=FE({mentionType:(p=u.old_values)===null||p===void 0?void 0:p.mention_type,mentionedUserIds:(v=(m=u.old_values)===null||m===void 0?void 0:m.mentioned_user_ids)!==null&&v!==void 0?v:[]},_t({mentionType:S.message.mentionType,mentionedUserIds:(b=S.message.mentionedUserIds)!==null&&b!==void 0?b:(y=S.message.mentionedUsers)===null||y===void 0?void 0:y.map(function(V){return V.userId})}),O.userId),S}return ve(o,s),o}(Qr),Cte=function(s){function o(i,c,u){var p=s.call(this,i,"MRCT",u)||this;return p.channelUrl=u.channel_url,p.channelType=u.channel_type,p.event=new y3(u),p}return ve(o,s),o}(Qr),kte=function(s){function o(i,c,u){var p=s.call(this,i,"MTHD",u)||this;return p.event=new hte(i,u),p}return ve(o,s),o}(Qr),Ite=function(s){function o(i,c,u){var p=s.call(this,i,"MCNT",u)||this;return p.groupChannelMemberCounts=u.group_channels.map(function(m){return{channelUrl:m.channel_url,memberCount:m.member_count,joinedMemberCount:m.joined_member_count,updatedAt:m.ts}}),p.openChannelMemberCounts=u.open_channels.map(function(m){return{channelUrl:m.channel_url,participantCount:m.participant_count,updatedAt:m.ts}}),p}return ve(o,s),o}(Qr),Nte=function(s){function o(i,c,u){var p=s.call(this,i,"PEDI",u)||this;return p.event=new bte(i,u),p.status=m3(u.poll.status)||u.poll.status,p.channelUrl=u.channel_url,p.channelType=u.channel_type,p}return ve(o,s),o}(Qr),Ate=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i._channels=new Map,i._enteredChannelUrls=[],i}return ve(o,s),Object.defineProperty(o.prototype,"enteredChannels",{get:function(){var i=this;return this._enteredChannelUrls.map(function(c){return i._channels.get(c)}).filter(function(c){return!!c})},enumerable:!1,configurable:!0}),o.prototype.isEnteredChannel=function(i){return this._enteredChannelUrls.includes(i)},o.prototype.enter=function(i){this._enteredChannelUrls.indexOf(i)<0&&this._enteredChannelUrls.push(i)},o.prototype.exit=function(i){var c=this._enteredChannelUrls.indexOf(i);c>=0&&this._enteredChannelUrls.splice(c,1)},o.prototype.exitAll=function(){this._enteredChannelUrls=[]},o.prototype.get=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){return[2,this._channels.get(i)]})})},o.prototype.upsert=function(i){return Z(this,void 0,void 0,function(){var c,u=this;return X(this,function(p){return c=[],i.forEach(function(m){if(u._channels.has(m.url)){var v=u._channels.get(m.url);Object.assign(v,m),c.push(v)}else u._channels.set(m.url,m),c.push(m)}),[2,c]})})},o.prototype.remove=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){return this._channels.delete(i),this.exit(i),[2]})})},o.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},o}(Rs),_O={channelUrl:void 0,name:void 0,coverUrlOrImage:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,isEphemeral:void 0},Ote=function(s){function o(i){var c=i.channelUrl,u=i.isInternalCall,p=s.call(this)||this;return p.method=Dn.GET,p.path="".concat(u?NZ:Zd,"/").concat(encodeURIComponent(c)),p}return ve(o,s),o}(Un),mO=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.channel=new i0(i,c),u}return ve(o,s),o}(qn),Rte=function(s){function o(i){var c=this,u=i.channelUrl,p=i.coverUrlOrImage,m=i.name,v=i.data,b=i.customType,y=i.operatorUserIds,S=i.isEphemeral;return(c=s.call(this)||this).method=Dn.POST,c.path=Zd,c.params=ct(_t({channel_url:u,cover_url:Ve("string",p)?p:null,cover_file:hs(p)?p:null,name:m,data:v,custom_type:b,operators:y,is_ephemeral:S})),c}return ve(o,s),o}(Un);(function(s){ve(function(o,i){var c=s.call(this,o,i)||this;return c.channel=new i0(o,i),c},s)})(qn);var Mte=function(s){function o(i){var c=i.channelUrl;return s.call(this,{code:"ENTR",payload:{channel_url:c},ackRequired:!0})||this}return ve(o,s),o}(to),vO=function(s){function o(i,c,u){var p,m,v=this;return v=s.call(this,i,"SYEV",u)||this,u.data&&(v.participantCount=(p=u.data.participant_count)!==null&&p!==void 0?p:0,v.user=new Ft(i,u.data),v.ts=(m=u.data.edge_ts)!==null&&m!==void 0?m:0),v}return ve(o,s),o}(Zv),Dte=function(s){function o(i){var c=i.channelUrl;return s.call(this,{code:"EXIT",payload:{channel_url:c},ackRequired:!0})||this}return ve(o,s),o}(to),gO=function(s){function o(i,c,u){var p,m,v=this;return v=s.call(this,i,"EXIT",u)||this,u.data&&(v.participantCount=(p=u.data.participant_count)!==null&&p!==void 0?p:0,v.user=new Ft(i,u.data),v.ts=(m=u.data.edge_ts)!==null&&m!==void 0?m:0),v}return ve(o,s),o}(Zv),P3={},bu=function(s){function o(i,c){var u=s.call(this,i,Le(Le({},c),{channelType:ur.OPEN}))||this;return u.subscribeChannelEvent=Ot,u.unsubscribeChannelEvent=Ot,u.refreshChannel=function(){return Z(u,void 0,void 0,function(){return X(this,function(p){return[2,void 0]})})},u._openChannelCache=new Ate(i),u._openChannelHandlers=new Map,u._dispatcher.on(function(p){var m,v;if(p instanceof Qr)u._handleEvent(p);else if(p instanceof ou&&p.stateType===Er.CONNECTED){var b=u._openChannelCache.enteredChannels;try{for(var y=gt(b),S=y.next();!S.done;S=y.next())S.value.enter()}catch(O){m={error:O}}finally{try{S&&!S.done&&(v=y.return)&&v.call(y)}finally{if(m)throw m.error}}}}),P3[i]||(P3[i]=u),u}return ve(o,s),o.of=function(i){return P3[i]},o.prototype.buildOpenChannelFromSerializedData=function(i){var c=rf(i);return new i0(this._iid,i0.payloadify(c))},o.prototype.getChannelFromCache=function(i){var c;return Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return[4,this._openChannelCache.get(i)];case 1:return[2,(c=u.sent())!==null&&c!==void 0?c:null]}})})},o.prototype.upsertChannelsToCache=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return[4,this._openChannelCache.upsert(i)];case 1:return[2,c.sent()]}})})},o.prototype.removeChannelsFromCache=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:y.trys.push([0,5,6,7]),c=gt(i),u=c.next(),y.label=1;case 1:return u.done?[3,4]:(p=u.value,[4,this._openChannelCache.remove(p)]);case 2:y.sent(),y.label=3;case 3:return u=c.next(),[3,1];case 4:return[3,7];case 5:return m=y.sent(),v={error:m},[3,7];case 6:try{u&&!u.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 7:return[2]}})})},o.prototype.setEnteredToCache=function(i){this._openChannelCache.enter(i.url)},o.prototype.setExitedToCache=function(i){this._openChannelCache.exit(i.url)},o.prototype._handleEvent=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y,S,O,V,$,te,J,oe,xe,Ie,Ue,He,Ee,we,nn,Xe,We,In,yt,xn,wn,$n,xt,mt,Gt,Vr,Ra,vr,Lo,nc,ml,JO,ig,W3,l0,eR,nR,ag,K3,Q3,Y3,X3,Z3,J3,ew,gf,nw,sg,tR,Tu,og,bf,yf,Ef,lg,cg,tw,rw,iw,aw,sw,rR,$i=this;return X(this,function(cr){switch(cr.label){case 0:switch(cr.trys.push([0,57,,58]),i.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,30];case"SYEV":return[3,33]}return[3,56];case 1:return m=null,i.code==="MESG"?m=i.as(ZA):i.code==="FILE"?m=i.as(LA):i.code!=="ADMM"&&i.code!="BRDM"||(m=i.as(Ste)),m?(c=m.message,u=m.isMentioned,c.channelType!==ur.OPEN?[3,3]:[4,this.getChannel(c.channelUrl,!0)]):[3,3];case 2:p=cr.sent(),Vt(function(){return Z($i,void 0,void 0,function(){var vt,kn,pr,fr,Yr;return X(this,function(Xc){try{for(vt=gt(this._openChannelHandlers.values()),kn=vt.next();!kn.done;kn=vt.next())pr=kn.value,this._openChannelCache.isEnteredChannel(p.url)&&(pr.onMessageReceived&&pr.onMessageReceived(p,c),u&&pr.onMentionReceived&&pr.onMentionReceived(p,c))}catch(pa){fr={error:pa}}finally{try{kn&&!kn.done&&(Yr=vt.return)&&Yr.call(vt)}finally{if(fr)throw fr.error}}return[2]})})}),cr.label=3;case 3:return[3,56];case 4:return m=null,i.code==="MEDI"?m=i.as(k3):i.code==="FEDI"?m=i.as(I3):i.code==="AEDI"&&(m=i.as(Tte)),m?(v=m.message,b=m.mentionCountChange,v.channelType!==ur.OPEN?[3,6]:[4,this.getChannel(v.channelUrl,!0)]):[3,6];case 5:y=cr.sent(),Vt(function(){return Z($i,void 0,void 0,function(){var vt,kn,pr,fr,Yr;return X(this,function(Xc){try{for(vt=gt(this._openChannelHandlers.values()),kn=vt.next();!kn.done;kn=vt.next())pr=kn.value,this._openChannelCache.isEnteredChannel(y.url)&&(pr.onMessageUpdated&&pr.onMessageUpdated(y,v),b>0&&pr.onMentionReceived&&pr.onMentionReceived(y,v))}catch(pa){fr={error:pa}}finally{try{kn&&!kn.done&&(Yr=vt.return)&&Yr.call(vt)}finally{if(fr)throw fr.error}}return[2]})})}),cr.label=6;case 6:return[3,56];case 7:return S=i.as(yne),Gt=S.channelUrl,Vr=S.channelType,O=S.messageId,Vr!==ur.OPEN?[3,9]:[4,this.getChannel(Gt,!0)];case 8:V=cr.sent(),Vt(function(){return Z($i,void 0,void 0,function(){var vt,kn,pr,fr,Yr;return X(this,function(Xc){try{for(vt=gt(this._openChannelHandlers.values()),kn=vt.next();!kn.done;kn=vt.next())pr=kn.value,this._openChannelCache.isEnteredChannel(V.url)&&pr.onMessageDeleted&&pr.onMessageDeleted(V,O)}catch(pa){fr={error:pa}}finally{try{kn&&!kn.done&&(Yr=vt.return)&&Yr.call(vt)}finally{if(fr)throw fr.error}}return[2]})})}),cr.label=9;case 9:return[3,56];case 10:return $=i.as(Cte),Gt=$.channelUrl,Vr=$.channelType,te=$.event,Vr!==ur.OPEN?[3,12]:[4,this.getChannel(Gt,!0)];case 11:J=cr.sent(),Vt(function(){return Z($i,void 0,void 0,function(){var vt,kn,pr,fr,Yr;return X(this,function(Xc){try{for(vt=gt(this._openChannelHandlers.values()),kn=vt.next();!kn.done;kn=vt.next())pr=kn.value,this._openChannelCache.isEnteredChannel(J.url)&&pr.onReactionUpdated&&pr.onReactionUpdated(J,te)}catch(pa){fr={error:pa}}finally{try{kn&&!kn.done&&(Yr=vt.return)&&Yr.call(vt)}finally{if(fr)throw fr.error}}return[2]})})}),cr.label=12;case 12:return[3,56];case 13:return(oe=i.as(kte).event).channelType!==ur.OPEN?[3,15]:[4,this.getChannel(oe.channelUrl,!0)];case 14:xe=cr.sent(),Vt(function(){return Z($i,void 0,void 0,function(){var vt,kn,pr,fr,Yr;return X(this,function(Xc){try{for(vt=gt(this._openChannelHandlers.values()),kn=vt.next();!kn.done;kn=vt.next())pr=kn.value,this._openChannelCache.isEnteredChannel(xe.url)&&pr.onThreadInfoUpdated&&pr.onThreadInfoUpdated(xe,oe)}catch(pa){fr={error:pa}}finally{try{kn&&!kn.done&&(Yr=vt.return)&&Yr.call(vt)}finally{if(fr)throw fr.error}}return[2]})})}),cr.label=15;case 15:return[3,56];case 16:Ie=i.as(Ite).openChannelMemberCounts,Ue=[],cr.label=17;case 17:cr.trys.push([17,22,23,24]),He=gt(Ie),Ee=He.next(),cr.label=18;case 18:return Ee.done?[3,21]:(we=Ee.value,Gt=we.channelUrl,l0=we.participantCount,nn=we.updatedAt,[4,this.getChannelFromCache(Gt)]);case 19:(Xe=cr.sent())&&Xe._updateParticipantCount(l0,nn)&&Ue.push(Xe),cr.label=20;case 20:return Ee=He.next(),[3,18];case 21:return[3,24];case 22:return We=cr.sent(),sw={error:We},[3,24];case 23:try{Ee&&!Ee.done&&(rR=He.return)&&rR.call(He)}finally{if(sw)throw sw.error}return[7];case 24:return Ue.length>0?[4,this.upsertChannelsToCache(Ue)]:[3,26];case 25:In=cr.sent(),Vt(function(){return Z($i,void 0,void 0,function(){var vt,kn,pr,fr,Yr;return X(this,function(Xc){try{for(vt=gt(this._openChannelHandlers.values()),kn=vt.next();!kn.done;kn=vt.next())(pr=kn.value).onChannelMemberCountChanged&&pr.onChannelMemberCountChanged(In)}catch(pa){fr={error:pa}}finally{try{kn&&!kn.done&&(Yr=vt.return)&&Yr.call(vt)}finally{if(fr)throw fr.error}}return[2]})})}),cr.label=26;case 26:return[3,56];case 27:return yt=i.as(Nte),xn=yt.event,wn=yt.status,Gt=yt.channelUrl,Vr=yt.channelType,Gt&&Vr===ur.OPEN?[4,this.getChannel(Gt,!0)]:[3,29];case 28:$n=cr.sent(),this._dispatcher.dispatch(new yA({event:xn,source:Nr.EVENT_POLL_UPDATED})),Vt(wn==="removed"?function(){return Z($i,void 0,void 0,function(){var vt,kn,pr,fr,Yr;return X(this,function(Xc){try{for(vt=gt(this._openChannelHandlers.values()),kn=vt.next();!kn.done;kn=vt.next())(pr=kn.value).onPollDeleted&&pr.onPollDeleted($n,xn.pollId)}catch(pa){fr={error:pa}}finally{try{kn&&!kn.done&&(Yr=vt.return)&&Yr.call(vt)}finally{if(fr)throw fr.error}}return[2]})})}:function(){return Z($i,void 0,void 0,function(){var vt,kn,pr,fr,Yr;return X(this,function(Xc){try{for(vt=gt(this._openChannelHandlers.values()),kn=vt.next();!kn.done;kn=vt.next())(pr=kn.value).onPollUpdated&&pr.onPollUpdated($n,xn)}catch(pa){fr={error:pa}}finally{try{kn&&!kn.done&&(Yr=vt.return)&&Yr.call(vt)}finally{if(fr)throw fr.error}}return[2]})})}),cr.label=29;case 29:return[3,56];case 30:return xt=i.as(nO),mt=xt.event,Gt=xt.channelUrl,Vr=xt.channelType,Gt&&Vr===ur.OPEN?[4,this.getChannel(Gt,!0)]:[3,32];case 31:Ra=cr.sent(),this._dispatcher.dispatch(new v3({event:mt,source:Nr.EVENT_POLL_VOTED})),Vt(function(){return Z($i,void 0,void 0,function(){var vt,kn,pr,fr,Yr;return X(this,function(Xc){try{for(vt=gt(this._openChannelHandlers.values()),kn=vt.next();!kn.done;kn=vt.next())(pr=kn.value).onPollVoted&&pr.onPollVoted(Ra,mt)}catch(pa){fr={error:pa}}finally{try{kn&&!kn.done&&(Yr=vt.return)&&Yr.call(vt)}finally{if(fr)throw fr.error}}return[2]})})}),cr.label=32;case 32:return[3,56];case 33:if(!(vr=i.as(Zv).event).isOpenChannelEvent)return[3,55];switch(vr.category){case ua.CHANNEL_ENTER:return[3,34];case ua.CHANNEL_EXIT:return[3,36];case ua.CHANNEL_OPERATOR_UPDATE:return[3,38];case ua.USER_CHANNEL_MUTE:case ua.USER_CHANNEL_UNMUTE:return[3,40];case ua.USER_CHANNEL_BAN:case ua.USER_CHANNEL_UNBAN:return[3,42];case ua.CHANNEL_FREEZE:case ua.CHANNEL_UNFREEZE:return[3,44];case ua.CHANNEL_DELETED:return[3,46];case ua.CHANNEL_PROP_CHANGED:return[3,49];case ua.CHANNEL_META_DATA_CHANGED:return[3,51];case ua.CHANNEL_META_COUNTERS_CHANGED:return[3,53]}return[3,55];case 34:return[4,this.getChannel(vr.channelUrl,!0)];case 35:return Lo=cr.sent(),nc=i.as(vO),l0=nc.participantCount,ml=nc.user,JO=Lo._updateParticipantCount(l0,vr.ts),Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){kn.onUserEntered&&kn.onUserEntered(Lo,ml),JO&&kn.onChannelParticipantCountChanged&&kn.onChannelParticipantCountChanged(Lo)}),[2]})})}),[3,55];case 36:return[4,this.getChannel(vr.channelUrl,!0)];case 37:return ig=cr.sent(),W3=i.as(gO),l0=W3.participantCount,eR=W3.user,nR=ig._updateParticipantCount(l0,vr.ts),Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){kn.onUserExited&&kn.onUserExited(ig,eR),nR&&kn.onChannelParticipantCountChanged&&kn.onChannelParticipantCountChanged(ig)}),[2]})})}),[3,55];case 38:return[4,this.getChannel(vr.channelUrl,!0)];case 39:return ag=cr.sent(),K3=i.as(Ete).operators,ag.operators=K3,this.upsertChannelsToCache([ag]),Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){kn.onOperatorUpdated&&kn.onOperatorUpdated(ag,K3)}),[2]})})}),[3,55];case 40:return[4,this.getChannel(vr.channelUrl,!0)];case 41:return Q3=cr.sent(),Y3=vr.category===ua.USER_CHANNEL_MUTE,X3=i.as(Y3?one:cne).user,Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){Y3?kn.onUserMuted&&kn.onUserMuted(Q3,X3):kn.onUserUnmuted&&kn.onUserUnmuted(Q3,X3)}),[2]})})}),[3,55];case 42:return[4,this.getChannel(vr.channelUrl,!0)];case 43:return Z3=cr.sent(),J3=vr.category===ua.USER_CHANNEL_BAN,ew=i.as(J3?une:pne).user,Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){J3?kn.onUserBanned&&kn.onUserBanned(Z3,ew):kn.onUserUnbanned&&kn.onUserUnbanned(Z3,ew)}),[2]})})}),[3,55];case 44:return[4,this.getChannel(vr.channelUrl,!0)];case 45:return gf=cr.sent(),nw=i.as(fne).freeze,gf.isFrozen=nw,this.upsertChannelsToCache([gf]),Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){nw?kn.onChannelFrozen&&kn.onChannelFrozen(gf):kn.onChannelUnfrozen&&kn.onChannelUnfrozen(gf)}),[2]})})}),[3,55];case 46:return[4,this.getChannel(vr.channelUrl,!0)];case 47:return sg=cr.sent(),[4,this.removeChannelsFromCache([sg.url])];case 48:return cr.sent(),Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){kn.onChannelDeleted&&kn.onChannelDeleted(sg.url,sg.channelType)}),[2]})})}),[3,55];case 49:return[4,this.getChannelWithoutCache(vr.channelUrl,!0)];case 50:return tR=cr.sent(),Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){kn.onChannelChanged&&kn.onChannelChanged(tR)}),[2]})})}),[3,55];case 51:return[4,this.getChannel(vr.channelUrl,!0)];case 52:return Tu=cr.sent(),og=i.as(Yee),bf=og.created,yf=og.updated,Ef=og.deleted,bf&&Tu._upsertCachedMetaData(bf,vr.ts),yf&&Tu._upsertCachedMetaData(yf,vr.ts),Ef&&Tu._removeFromCachedMetaData(Ef,vr.ts),Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){bf&&kn.onMetaDataCreated&&kn.onMetaDataCreated(Tu,bf),yf&&kn.onMetaDataUpdated&&kn.onMetaDataUpdated(Tu,yf),Ef&&kn.onMetaDataDeleted&&kn.onMetaDataDeleted(Tu,Ef)}),[2]})})}),[3,55];case 53:return[4,this.getChannel(vr.channelUrl,!0)];case 54:return lg=cr.sent(),cg=i.as(rne),tw=cg.created,rw=cg.updated,iw=cg.deleted,Vt(function(){return Z($i,void 0,void 0,function(){return X(this,function(vt){return this._openChannelHandlers.forEach(function(kn){tw&&kn.onMetaCounterCreated&&kn.onMetaCounterCreated(lg,tw),rw&&kn.onMetaCounterUpdated&&kn.onMetaCounterUpdated(lg,rw),iw&&kn.onMetaCounterDeleted&&kn.onMetaCounterDeleted(lg,iw)}),[2]})})}),[3,55];case 55:return[3,56];case 56:return[3,58];case 57:if(aw=cr.sent(),Vc(aw))throw aw;return[3,58];case 58:return[2]}})})},o.prototype.addHandler=function(i,c){this._openChannelHandlers.set(i,c)},o.prototype.removeHandler=function(i){this._openChannelHandlers.delete(i)},o.prototype.clearHandler=function(){this._openChannelHandlers.clear()},o.prototype.getChannel=function(i,c){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:Pn(Ve("string",i)).throw($e.invalidParameters),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.getChannelFromCache(i)];case 2:return(u=p.sent())?[2,u]:[3,4];case 3:return p.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(i)];case 5:return[2,p.sent()]}})})},o.prototype.getChannelWithoutCache=function(i,c){return c===void 0&&(c=!1),Z(this,void 0,void 0,function(){var u,p,m;return X(this,function(v){switch(v.label){case 0:return Pn(Ve("string",i)).throw($e.invalidParameters),u=new Ote({channelUrl:i,isInternalCall:c}),[4,this._requestQueue.send(u)];case 1:return p=v.sent(),m=p.as(mO).channel,[4,this.upsertChannelsToCache([m])];case 2:return[2,v.sent()[0]]}})})},o.prototype.createChannel=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m;return X(this,function(v){switch(v.label){case 0:return c=Le(Le({},_O),i),Pn(function(b){return ar("string",b.operatorUserIds,!0)&&(Ve("string",b.coverUrlOrImage,!0)||hs(b.coverUrlOrImage,!0))&&Ve("string",b.name,!0)&&Ve("string",b.data,!0)&&Ve("string",b.customType,!0)&&(Ve("string",b.channelUrl)&&/^\w+$/.test(b.channelUrl)||b.channelUrl===null||b.channelUrl===void 0)&&Ve("boolean",b.isEphemeral,!0)}(c)).throw($e.invalidParameters),u=new Rte(c),[4,this._requestQueue.send(u)];case 1:return p=v.sent(),m=p.as(mO).channel,this.upsertChannelsToCache([m]),[2,m]}})})},o}(xte),bO={name:void 0,coverUrlOrImage:void 0,data:void 0,customType:void 0,operatorUserIds:void 0},Lte=function(s){function o(i){var c=this,u=i.channelUrl,p=i.token,m=i.limit;return(c=s.call(this)||this).method=Dn.GET,c.path="".concat(Zd,"/").concat(encodeURIComponent(u),"/participants"),c.params={token:p,limit:m},c}return ve(o,s),o}(Un),Ute=function(s){function o(i,c){var u=s.call(this,i,c)||this;u.participants=[];var p=c.next,m=c.participants;return u.token=p,u.participants=m.map(function(v){return new Nee(i,v)}),u}return ve(o,s),o}(qn),Pte=function(s){function o(i,c,u){return s.call(this,i,c,ur.OPEN,u)||this}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)},o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid).requestQueue,c=new Lte(Le(Le({},this),{token:this._token})),[4,i.send(c)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(Ute),m=p.participants,v=p.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,m];case 2:return[2,[]];case 3:throw $e.queryInProgress;case 4:return[3,6];case 5:throw $e.invalidParameters;case 6:return[2]}})})},o}(uu),Fte=function(s){function o(i){var c=this,u=i.channelUrl,p=i.coverUrlOrImage,m=i.name,v=i.data,b=i.customType,y=i.operatorUserIds;return(c=s.call(this)||this).method=Dn.PUT,c.path="".concat(Zd,"/").concat(encodeURIComponent(u)),c.params=ct(_t({cover_url:Ve("string",p)?p:null,cover_file:hs(p)?p:null,name:m,data:v,custom_type:b,operators:y})),c}return ve(o,s),o}(Un),Hte=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.channel=new i0(i,c),u}return ve(o,s),o}(qn),Bte=function(s){function o(i){var c=this,u=i.channelUrl;return(c=s.call(this)||this).method=Dn.DELETE,c.path="".concat(Zd,"/").concat(encodeURIComponent(u)),c}return ve(o,s),o}(Un);(function(s){ve(function(o,i){return s.call(this,o,i)||this},s)})(qn);var i0=function(s){function o(i,c){var u,p=this;return(p=s.call(this,i,c)||this)._lastParticipantCountUpdated=0,p.participantCount=0,p.operators=[],p.channelType=ur.OPEN,p.participantCount=(u=c.participant_count)!==null&&u!==void 0?u:0,p.operators=Array.isArray(c.operators)?c.operators.map(function(m){return new Ft(i,m)}):[],p}return ve(o,s),o.payloadify=function(i){return ct(_t(Le(Le({},rO.payloadify(i)),{participant_count:i.participantCount,operators:i.operators.map(function(c){return Ft.payloadify(c)})})))},o.prototype.serialize=function(){return Av(this)},o.prototype.isOperator=function(i){return i instanceof Ft?this.isOperator(i.userId):this.operators.some(function(c){return c.userId===i})},o.prototype._updateParticipantCount=function(i,c){return c>this._lastParticipantCountUpdated&&(this.participantCount=i,this._lastParticipantCountUpdated=c,!0)},o.prototype.createParticipantListQuery=function(i){return new Pte(this._iid,this.url,i)},o.prototype.refresh=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,bu.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,i.sent()]}})})},o.prototype.enter=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new Mte({channelUrl:this.url}),[4,i.send(c)];case 1:return u=b.sent(),p=u.as(vO),m=p.participantCount,v=p.ts,this._updateParticipantCount(m,v),bu.of(this._iid).setEnteredToCache(this),[2]}})})},o.prototype.exit=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new Dte({channelUrl:this.url}),[4,i.send(c)];case 1:return u=b.sent(),p=u.as(gO),m=p.participantCount,v=p.ts,this._updateParticipantCount(m,v),bu.of(this._iid).setExitedToCache(this),da.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},o.prototype.updateChannel=function(i){return Z(this,void 0,void 0,function(){var c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return c=Le(Le({},bO),i),Pn(function(y){return ar("string",y.operatorUserIds,!0)&&(Ve("string",y.coverUrlOrImage)||hs(y.coverUrlOrImage)||y.coverUrlOrImage===null)&&Ve("string",y.name,!0)&&Ve("string",y.data,!0)&&Ve("string",y.customType,!0)}(c)).throw($e.invalidParameters),u=Ze.of(this._iid).requestQueue,p=new Fte(Le({channelUrl:this.url},c)),[4,u.send(p)];case 1:return m=b.sent(),v=m.as(Hte).channel,this._update(v),[4,bu.of(this._iid).upsertChannelsToCache([v])];case 2:return b.sent(),[2,this]}})})},o.prototype.updateChannelWithOperatorUserIds=function(i,c,u,p,m){return Z(this,void 0,void 0,function(){var v;return X(this,function(b){return v=Le(Le({},bO),{name:i,coverUrlOrImage:c,data:u,operatorUserIds:p,customType:m}),[2,this.updateChannel(v)]})})},o.prototype.delete=function(){return Z(this,void 0,void 0,function(){var i,c;return X(this,function(u){switch(u.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new Bte({channelUrl:this.url}),[4,i.send(c)];case 1:return u.sent(),[4,bu.of(this._iid).removeChannelsFromCache([this.url])];case 2:return u.sent(),[2]}})})},o.prototype.sendUserMessage=function(i){return Pn(!i.isPinnedMessage).throw($e.notSupportedError),s.prototype.sendUserMessage.call(this,i)},o.prototype.sendFileMessage=function(i){return Pn(!i.isPinnedMessage).throw($e.notSupportedError),s.prototype.sendFileMessage.call(this,i)},o}(rO),Vte=function(s){function o(i){i===void 0&&(i={});var c=s.call(this)||this;return Object.keys(i).forEach(function(u){c.hasOwnProperty(u)&&(c[u]=i[u])}),c}return ve(o,s),o}(function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.onUserEntered=Ot,i.onUserExited=Ot,i.onChannelParticipantCountChanged=Ot,i.onPollUpdated=Ot,i.onPollVoted=Ot,i.onPollDeleted=Ot,i}return ve(o,s),o}(function(){this.onUserMuted=Ot,this.onUserUnmuted=Ot,this.onUserBanned=Ot,this.onUserUnbanned=Ot,this.onChannelChanged=Ot,this.onChannelDeleted=Ot,this.onChannelFrozen=Ot,this.onChannelUnfrozen=Ot,this.onOperatorUpdated=Ot,this.onChannelMemberCountChanged=Ot,this.onMetaDataCreated=Ot,this.onMetaDataUpdated=Ot,this.onMetaDataDeleted=Ot,this.onMetaCounterCreated=Ot,this.onMetaCounterUpdated=Ot,this.onMetaCounterDeleted=Ot,this.onMessageReceived=Ot,this.onMessageUpdated=Ot,this.onMessageDeleted=Ot,this.onMentionReceived=Ot,this.onReactionUpdated=Ot,this.onThreadInfoUpdated=Ot})),zte=function(s){function o(i){var c=this,u=i.token,p=i.limit,m=i.nameKeyword,v=i.urlKeyword,b=i.customTypes,y=i.includeFrozen,S=i.includeMetaData;return(c=s.call(this)||this).method=Dn.GET,c.path=Zd,c.params=ct({token:u,limit:p,name_contains:m,url_contains:v,custom_types:b,show_frozen:y,show_metadata:S}),c}return ve(o,s),o}(Un),Gte=function(s){function o(i,c){var u=s.call(this,i,c)||this;u.channels=[];var p=c.next,m=c.channels,v=c.ts;return u.token=p,m&&m.length>0&&(u.channels=m.map(function(b){return new i0(i,b)})),u.ts=typeof v=="number"?v:null,u}return ve(o,s),o}(qn),qte=function(s){function o(i,c){var u,p,m,v,b,y=this;return(y=s.call(this,i,c)||this).includeFrozen=!0,y.includeMetaData=!0,y.nameKeyword=null,y.urlKeyword=null,y.customTypes=null,y.includeFrozen=(u=c.includeFrozen)===null||u===void 0||u,y.includeMetaData=(p=c.includeMetaData)===null||p===void 0||p,y.nameKeyword=(m=c.nameKeyword)!==null&&m!==void 0?m:null,y.urlKeyword=(v=c.urlKeyword)!==null&&v!==void 0?v:null,y.customTypes=(b=c.customTypes)!==null&&b!==void 0?b:null,y}return ve(o,s),o.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("boolean",this.includeFrozen)&&Ve("boolean",this.includeMetaData)&&Ve("string",this.nameKeyword,!0)&&Ve("string",this.urlKeyword,!0)&&ar("string",this.customTypes,!0)},o.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,i=Ze.of(this._iid).requestQueue,c=new zte(_t(Le(Le({},this),{token:this._token}))),[4,i.send(c)]):[3,3]:[3,6];case 1:return u=b.sent(),p=u.as(Gte),m=p.channels,v=p.token,this._token=v,this._hasNext=!!v,[4,bu.of(this._iid).upsertChannelsToCache(m)];case 2:return b.sent(),this._isLoading=!1,[2,m];case 3:return[2,[]];case 4:throw $e.queryInProgress;case 5:return[3,7];case 6:throw $e.invalidParameters;case 7:return[2]}})})},o}(Zh),jte=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="openChannel",i}return ve(o,s),o.prototype.init=function(i,c){var u=c.sdkState,p=c.dispatcher,m=c.sessionManager,v=c.requestQueue,b=c.logger,y=c.onlineDetector,S=c.cacheContext;s.prototype.init.call(this,i,{sdkState:u,dispatcher:p,sessionManager:m,requestQueue:v,logger:b,onlineDetector:y,cacheContext:S}),this._manager=new bu(i,{sdkState:u,dispatcher:p,requestQueue:v,logger:b,cacheContext:S,sessionManager:m})},o.prototype.createOpenChannelListQuery=function(i){return i===void 0&&(i={}),new qte(this._iid,i)},o.prototype.addOpenChannelHandler=function(i,c){this._manager.addHandler(i,c)},o.prototype.removeOpenChannelHandler=function(i){this._manager.removeHandler(i)},o.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},o.prototype.buildOpenChannelFromSerializedData=function(i){return this._manager.buildOpenChannelFromSerializedData(i)},o.prototype.getChannel=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){return[2,this._manager.getChannel(i)]})})},o.prototype.getChannelWithoutCache=function(i){return Z(this,void 0,void 0,function(){return X(this,function(c){return[2,this._manager.getChannelWithoutCache(i)]})})},o.prototype.createChannel=function(i){return i===void 0&&(i={}),Z(this,void 0,void 0,function(){return X(this,function(c){return[2,this._manager.createChannel(i)]})})},o.prototype.createChannelWithOperatorUserIds=function(i,c,u,p,m){return Z(this,void 0,void 0,function(){var v;return X(this,function(b){return(v=Le({},_O)).name=i,v.coverUrlOrImage=c,v.data=u,v.operatorUserIds=p,v.customType=m,[2,this._manager.createChannel(v)]})})},o}(_3),yO="LIVE_EVENT_MANAGER",$te=function(){function s(u){var p=this;g(this,s),this._liveEvents=[],this._ctx=u,this._ctx.sb.openChannel.addOpenChannelHandler(yO,new Vte({onUserBanned:function(m,v){if(v.userId===p._ctx.sb.currentUser.userId){var b=p._liveEvents.find(function(y){var S;return((S=y.openChannel)===null||S===void 0?void 0:S.url)===m.url});b&&b.onDisconnected()}}}))}var o,i,c;return w(s,[{key:"createLiveEvent",value:(c=_(d().mark(function u(p){var m,v,b,y,S;return d().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return v=Sr.createLiveEvent((m=p.hostType)!==null&&m!==void 0?m:Dh.SINGLE_HOST,p.userIdsForHost?[].concat(I(p.userIdsForHost),[this.userId]):[this.userId],p.title,p.coverUrl,p.coverFile,p.customItems),O.next=3,this._ctx.commandRouter.send(v);case 3:return b=O.sent,y=b.payload.liveEvent,S=new ME({appId:this._ctx.appId,deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:y}),O.prev=6,O.next=9,S.fetchOpenChannel();case 9:O.next=14;break;case 11:O.prev=11,O.t0=O.catch(6),it.error("failed to fetch initial open channel");case 14:return this._liveEvents.push(S),O.abrupt("return",S);case 16:case"end":return O.stop()}},u,this,[[6,11]])})),function(u){return c.apply(this,arguments)})},{key:"getLiveEvent",value:(i=_(d().mark(function u(p){var m,v,b;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return m=Sr.createGetLiveEvent(p),y.next=3,this._ctx.commandRouter.send(m);case 3:return v=y.sent,b=v.payload.liveEvent,y.abrupt("return",this.deserializeLiveEvent(b));case 6:case"end":return y.stop()}},u,this)})),function(u){return i.apply(this,arguments)})},{key:"deserializeLiveEvent",value:(o=_(d().mark(function u(p){var m,v,b;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(m=this._liveEvents.findIndex(function(S){return S.liveEventId===p.liveEventId}),!(m>-1)){y.next=15;break}return(v=this._liveEvents[m]).upsert(p),y.prev=4,y.next=7,v.fetchOpenChannel();case 7:y.next=12;break;case 9:y.prev=9,y.t0=y.catch(4),it.error("failed to fetch initial open channel");case 12:return y.abrupt("return",v);case 15:return b=new ME({appId:this._ctx.appId,deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:p}),y.prev=16,y.next=19,b.fetchOpenChannel();case 19:y.next=24;break;case 21:y.prev=21,y.t1=y.catch(16),it.error("failed to fetch initial open channel");case 24:return this._liveEvents.push(b),y.abrupt("return",b);case 26:case"end":return y.stop()}},u,this,[[4,9],[16,21]])})),function(u){return o.apply(this,arguments)})},{key:"clear",value:function(){this._liveEvents=[],this._ctx.sb.openChannel.removeOpenChannelHandler(yO);var u,p=z(this._liveEvents);try{for(p.s();!(u=p.n()).done;)u.value.teardown()}catch(m){p.e(m)}finally{p.f()}}}]),s}(),Wte=al,Kte=Ae,Qte=pt,Yte=Dc,Xte=TypeError,EO=function(s){return function(o,i,c,u){Wte(i);var p=Kte(o),m=Qte(p),v=Yte(p),b=s?v-1:0,y=s?-1:1;if(c<2)for(;;){if(b in m){u=m[b],b+=y;break}if(b+=y,s?b<0:v<=b)throw Xte("Reduce of empty array with no initial value")}for(;s?b>=0:v>b;b+=y)b in m&&(u=i(u,m[b],b,p));return u}},Zte={left:EO(!1),right:EO(!0)}.left;qr({target:"Array",proto:!0,forced:!Tp&&dn>79&&dn<83||!z2("reduce")},{reduce:function(s){var o=arguments.length;return Zte(this,s,o,o>1?arguments[1]:void 0)}});var ec=function(){function s(o,i){g(this,s),this.key=o,this.value=i}return w(s,[{key:"toString",value:function(){return this.key}},{key:"equals",value:function(o){return this.value.width===o.value.width&&this.value.height===o.value.height}}]),s}();x(ec,"_720P",new ec("_720P",{width:1280,height:720})),x(ec,"_540P",new ec("_540P",{width:960,height:540})),x(ec,"_480P",new ec("_480P",{width:848,height:480})),x(ec,"_360P",new ec("_360P",{width:640,height:360}));var F3,Qc,yu,_f,Jv,eg,wO=ec._720P,Jte=function(s){T(i,s);var o=R(i);function i(c,u){var p;return g(this,i),x(M(p=o.call(this)),"hasPermission",!1),p._streamManger=c,p.constraints=u,p}return w(i,[{key:"stream",get:function(){return this._streamManger.stream}},{key:"dispose",value:function(){var c;this.removeAllEventListeners(),(c=this.onDisposed)===null||c===void 0||c.call(this)}},{key:"streamChanged",value:function(c){this._dispatchEvent("streamChanged",c)}},{key:"audioOutputChanged",value:function(){this._dispatchEvent("audioOutputChanged")}}]),i}(Oo),xO=function(s,o){o.audio&&s.getAudioTracks().length===0&&s.addTrack(function(){F3||(F3=new(window.AudioContext||window.webkitAudioContext));var i=F3;Qc=i.createOscillator();var c=i.createMediaStreamDestination(),u=i.createGain();return u.gain.setValueAtTime(0,i.currentTime),Qc.connect(u),u.connect(c),Qc.start(),Jv=c.stream.getAudioTracks()[0],c.stream.getAudioTracks()[0]}()),o.video&&s.getVideoTracks().length===0&&s.addTrack(function(i){var c=i.width,u=i.height,p=i.frameRate;yu||(yu=document.createElement("canvas")),yu.width=c,yu.height=u,yu.getContext("2d").fillRect(0,0,c,u),_f||(_f=setInterval(function(){yu.getContext("2d").fillRect(0,0,c,u)},1e3));var m=yu.captureStream(p);return eg=m.getVideoTracks()[0],m.getVideoTracks()[0]}(l(l({},wO.value),{},{frameRate:24})))};function SO(){Jv&&Jv.stop(),eg&&eg.stop(),Jv=null,eg=null,_f&&(clearInterval(_f),_f=null),Qc&&(Qc.onended=function(){Qc.disconnect(),Qc=null},Qc.stop())}function H3(s){if(s){var o,i=z(s.getTracks());try{for(i.s();!(o=i.n()).done;)o.value.stop()}catch(c){i.e(c)}finally{i.f()}}}var ng=function(s,o,i){var c=s.match(o);return c&&c.length>=i&&parseInt(c[i],10)},TO=function(){var s={browser:null,version:null};if(typeof window>"u"||!window.navigator)return s.browser="Not a browser.",s;var o=window.navigator;if(o.mozGetUserMedia)s.browser="firefox",s.version=ng(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)s.browser="chrome",s.version=ng(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(o.mediaDevices&&o.userAgent.match(/Edge\/(\d+).(\d+)$/))s.browser="edge",s.version=ng(o.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!o.userAgent.match(/AppleWebKit\/(\d+)\./))return s.browser="Not a supported browser.",s;s.browser="safari",s.version=ng(o.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return s}().browser==="safari",ere=function(){function s(c){g(this,s),this._deviceManager=c,this._updateQueued=!1}var o,i;return w(s,[{key:"_getUserMedia",value:(i=_(d().mark(function c(u){var p,m,v,b;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,y.next=3,navigator.mediaDevices.getUserMedia(u);case 3:return p=y.sent,SO(),y.abrupt("return",p);case 8:return y.prev=8,y.t0=y.catch(0),it.warning("Failed to first 'getUserMedia()' call Error[".concat(y.t0,"]")),m=new MediaStream,y.prev=12,y.next=15,navigator.mediaDevices.getUserMedia({audio:u.audio});case 15:v=y.sent,m.addTrack(v.getAudioTracks()[0]),y.next=22;break;case 19:y.prev=19,y.t1=y.catch(12),it.warning("Failed to get local audio stream Error[".concat(y.t1,"]"));case 22:return y.prev=22,y.next=25,navigator.mediaDevices.getUserMedia({video:u.video});case 25:b=y.sent,m.addTrack(b.getVideoTracks()[0]),y.next=32;break;case 29:y.prev=29,y.t2=y.catch(22),it.warning("Failed to get local video stream Error[".concat(y.t2,"]"));case 32:return y.abrupt("return",m);case 33:case"end":return y.stop()}},c,null,[[0,8],[12,19],[22,29]])})),function(c){return i.apply(this,arguments)})},{key:"updateStream",value:(o=_(d().mark(function c(){var u,p,m,v,b,y,S,O,V,$;return d().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(!this._updateAt){te.next=3;break}return this._updateQueued=!0,te.abrupt("return");case 3:if(u=this._deviceManager.mediaAccesses.some(function(J){return J.constraints.audio}),p=this._deviceManager.mediaAccesses.some(function(J){return J.constraints.video}),u||p){te.next=9;break}return H3(this.stream),SO(),te.abrupt("return");case 9:return this._updateAt=Date.now(),(m=this.stream)||(v=new MediaStream,xO(v,{audio:u,video:p}),this.stream=v),TO&&H3(m),te.next=15,this._deviceManager.getMediaConstraints({usingAudio:u,usingVideo:p});case 15:return b=te.sent,te.next=18,this._getUserMedia(b);case 18:if((y=te.sent).getVideoTracks().length>0){S=z(this._deviceManager.mediaAccesses);try{for(S.s();!(O=S.n()).done;)O.value.hasPermission=!0}catch(J){S.e(J)}finally{S.f()}}xO(y,{audio:u,video:p}),TO||H3(m),this.stream=y,V=z(this._deviceManager.mediaAccesses);try{for(V.s();!($=V.n()).done;)$.value.streamChanged(this.stream)}catch(J){V.e(J)}finally{V.f()}delete this._updateAt,this._updateQueued?(this._updateQueued=!1,this.updateStream()):this._deviceManager.refreshMediaDevices({audio:u,video:p},!0);case 27:case"end":return te.stop()}},c,this)})),function(){return o.apply(this,arguments)})}]),s}();function CO(s,o){return(s==null?void 0:s.deviceId)===(o==null?void 0:o.deviceId)&&(s==null?void 0:s.label)===(o==null?void 0:o.label)&&(s==null?void 0:s.groupId)===(o==null?void 0:o.groupId)}var Yc,kO,IO,nre=function(){function s(){var p=this;g(this,s),this.mediaAccesses=[],this._availableMediaDevices={audioinput:[],audiooutput:[],videoinput:[]},this._currentMediaDevices={audioinput:void 0,audiooutput:void 0,videoinput:void 0},this._sendbirdCallListeners=new Map,this._streamManager=new ere(this),navigator.mediaDevices.ondevicechange=function(){return p._onDeviceChanged()}}var o,i,c,u;return w(s,[{key:"_onDeviceChanged",value:function(){this.mediaAccesses.length!==0&&this.refreshMediaDevices({audio:this.mediaAccesses.some(function(p){return p.constraints.audio}),video:this.mediaAccesses.some(function(p){return p.constraints.video})})}},{key:"addSendBirdCallListener",value:function(p,m){this._sendbirdCallListeners.set(p,m)}},{key:"removeSendBirdCallListener",value:function(p){this._sendbirdCallListeners.delete(p)}},{key:"removeAllSendBirdCallListener",value:function(){this._sendbirdCallListeners.clear()}},{key:"getCurrentAudioInputDevice",value:function(){return this._currentMediaDevices.audioinput}},{key:"getCurrentAudioOutputDevice",value:function(){return this._currentMediaDevices.audiooutput}},{key:"getCurrentVideoInputDevice",value:function(){return this._currentMediaDevices.videoinput}},{key:"getAvailableAudioInputDevices",value:function(){return this._availableMediaDevices.audioinput}},{key:"getAvailableAudioOutputDevices",value:function(){return this._availableMediaDevices.audiooutput}},{key:"getAvailableVideoInputDevices",value:function(){return this._availableMediaDevices.videoinput}},{key:"updateStream",value:(u=_(d().mark(function p(){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",this._streamManager.updateStream());case 1:case"end":return m.stop()}},p,this)})),function(){return u.apply(this,arguments)})},{key:"_registerMediaAccess",value:function(p){var m=this;this.mediaAccesses.push(p),p.onDisposed=function(){return m.stopMedia(p)}}},{key:"useMedia",value:function(p){if(p.audio||p.video){var m=new Jte(this._streamManager,p);return this._registerMediaAccess(m),this.updateStream(),m}it.error(new Error("you should set true for at least 1 media type."))}},{key:"stopMedia",value:function(p){this.mediaAccesses.splice(this.mediaAccesses.indexOf(p),1),this.updateStream()}},{key:"fetchMediaDevices",value:(c=_(d().mark(function p(){var m;return d().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,navigator.mediaDevices.enumerateDevices();case 2:return m=v.sent,v.abrupt("return",m.reduce(function(b,y){return b[y.kind].push(y),b},{audioinput:[],audiooutput:[],videoinput:[]}));case 4:case"end":return v.stop()}},p)})),function(){return c.apply(this,arguments)})},{key:"getMediaConstraints",value:(i=_(d().mark(function p(m){var v,b,y,S,O,V,$,te;return d().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return v=m.usingAudio,b=m.usingVideo,y={audio:!1,video:!1},J.next=4,this.fetchMediaDevices();case 4:return S=J.sent,O=S.audioinput,V=S.videoinput,v&&O.length&&($=this.getCurrentAudioInputDevice(),y.audio={deviceId:$==null?void 0:$.deviceId}),b&&V.length&&(te=this.getCurrentVideoInputDevice(),y.video=l(l({deviceId:te==null?void 0:te.deviceId},wO.value),{},{frameRate:24})),J.abrupt("return",y);case 10:case"end":return J.stop()}},p,this)})),function(p){return i.apply(this,arguments)})},{key:"_updateCurrentMediaDevice",value:function(p,m){var v,b=this._availableMediaDevices[p],y=this._currentMediaDevices[p],S=b.find(function(O){return O.deviceId===(m==null?void 0:m.deviceId)});return S||(it.warning("Selected device is unavailable. fallback to default device."),S=((v=S)!==null&&v!==void 0?v:b.length>0)?b[0]:null),this._currentMediaDevices[p]=S,!CO(y,S)}},{key:"_onAudioOutputChanged",value:function(){var p,m=z(this.mediaAccesses);try{for(m.s();!(p=m.n()).done;){var v=p.value;v.constraints.audio&&v.audioOutputChanged()}}catch(b){m.e(b)}finally{m.f()}}},{key:"selectDevice",value:function(p,m){m.kind===p?this._updateCurrentMediaDevice(p,m)&&(p!=="audioinput"&&p!=="videoinput"||this.updateStream(),p==="audiooutput"&&this._onAudioOutputChanged()):it.error(new Error("Tried to select invalid device of type"))}},{key:"_updateAvailableDevices",value:function(p,m){var v,b,y,S=this._currentMediaDevices[p],O=!function(xe,Ie){if(xe.length!==Ie.length)return!1;for(var Ue=0;Ue<Ie.length;Ue++)if(!CO(xe[Ue],Ie[Ue]))return!1;return!0}(this._availableMediaDevices[p],m);if(!O)return!1;var V;this._availableMediaDevices[p]=m,V=this._updateCurrentMediaDevice(p,S);var $,te=z(this._sendbirdCallListeners.values());try{for(te.s();!($=te.n()).done;){var J=$.value,oe=this._currentMediaDevices[p];switch(p){case"audioinput":(v=J.onAudioInputDeviceChanged)===null||v===void 0||v.call(J,oe,m);break;case"audiooutput":(b=J.onAudioOutputDeviceChanged)===null||b===void 0||b.call(J,oe,m);break;case"videoinput":(y=J.onVideoInputDeviceChanged)===null||y===void 0||y.call(J,oe,m)}}}catch(xe){te.e(xe)}finally{te.f()}return V}},{key:"refreshMediaDevices",value:(o=_(d().mark(function p(m){var v,b,y,S,O,V,$,te,J,oe=arguments;return d().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(v=m.audio,b=m.video,y=oe.length>1&&oe[1]!==void 0&&oe[1],v||b){xe.next=4;break}throw new Error("at least one of the audio or video must be true");case 4:return xe.next=6,this.fetchMediaDevices();case 6:S=xe.sent,O=S.audioinput,V=S.audiooutput,$=S.videoinput,te=!1,J=!1,v&&(te=this._updateAvailableDevices("audioinput",O),J=this._updateAvailableDevices("audiooutput",V)),b&&(te=this._updateAvailableDevices("videoinput",$)||te),!y&&te&&this.updateStream(),J&&this._onAudioOutputChanged();case 16:case"end":return xe.stop()}},p,this)})),function(p){return o.apply(this,arguments)})}]),s}(),NO="1.1.1",AO=NO,tre=function(){function s(o){g(this,s),this._parse=o}return w(s,[{key:"parseToJson",value:function(o){try{return JSON.parse(o)}catch{return{}}}},{key:"validate",value:function(o){var i=o.cmd,c=o.request_id,u=o.call_type;return!!(c||i||u)}},{key:"parseCommand",value:function(o){return o.error?{isValid:!0,error:{requestId:o.request_id,message:o.message,code:o.code}}:{isValid:!0,command:this._parse(o)}}},{key:"parse",value:function(o){var i=this.parseToJson(o);return this.validate(i)?this.parseCommand(i):{isValid:!1}}}]),s}(),rre=function(s){T(i,s);var o=R(i);function i(c){var u,p;return g(this,i),(p=o.call(this))._ctx=c,p._ws=null,p._retryTimer=null,p._closed=!0,p._sessionKey=null,p._requestMap=new JN(p._getTimeoutTime()),p._messageParser=new tre(p._ctx.parse),p._hostUrl=(u=p._ctx.websocketHost)!==null&&u!==void 0?u:"wss://ws-IDENTIFIER.calls-stg.sendbirdtest.com".replace("IDENTIFIER",p._ctx.appId),p}return w(i,[{key:"connect",value:function(){var c=this;return new Promise(function(u,p){var m;c._sessionKey||p(new Error("tried to connect to websocket server without auth")),((m=c._ws)===null||m===void 0?void 0:m.readyState)===0&&p(new Error("websocket is reconnecting already")),c._disconnect(),c._ws=c._createWebSocket(),c._closed=!1,c._ws.onopen=function(){c._onOpen(),u(null)},c._ws.onmessage=function(v){var b=c._messageParser.parse(v.data),y=b.isValid,S=b.error,O=b.command;y&&(S?c._processError(S):c.processCommand(O))},c._ws.onerror=function(v){return c._onError(v)},c._ws.onclose=function(){c._onClose(),p(new Error("websocket connection failed"))}})}},{key:"_processError",value:function(c){var u=c.requestId,p=c.code,m=c.message,v=this._requestMap.unregister(u);v&&(it.debug(u,c.message),v.reject(new $a(p,{message:m})))}},{key:"processCommand",value:function(c){this._dispatchEvent("command",c)}},{key:"setSessionKey",value:function(c){this._sessionKey=c}},{key:"clearSessionKey",value:function(){this._disconnect(),this._sessionKey=null}},{key:"_disconnect",value:function(){this._ws&&(this._closed=!0,this._removeRetryTimer(),this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close(),this._requestMap.rejectAll(new Error("request failed due to websocket connection lost")),this._ws=null)}},{key:"isConnected",get:function(){return!!this._ws&&this._ws.readyState===1}},{key:"_onOpen",value:function(){}},{key:"_onError",value:function(c){}},{key:"_onClose",value:function(){this.startToReconnect()}},{key:"_createWebSocket",value:function(){var c="/?sbcall_session_token=".concat(encodeURIComponent(this._sessionKey),"&sbcall_client_id=").concat(encodeURIComponent(this._ctx.clientId),"&sendbird=").concat(encodeURIComponent(this._getVersion()));return new WebSocket(this._getHost()+c)}},{key:"_getVersion",value:function(){return"JS,".concat(this._getOsVersion(),",").concat(AO)}},{key:"_getHost",value:function(){return this._hostUrl}},{key:"startToReconnect",value:function(){this._closed||this._retryTimer||(this._retryTimer=setTimeout(this._reconnect.bind(this),this._getRetryTime()))}},{key:"_reconnect",value:function(){var c=this;this._removeRetryTimer(),kE(new ZN(5e3,1e3,void 0),function(){return c.connect()},{onError:function(u){it.error("Fail reconnect WebSocket ErrorCode = ".concat(u.code))}})}},{key:"_removeRetryTimer",value:function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_getRetryTime",value:function(){return 2e3}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),i}(Oo),ire=function(){function s(i){var c;g(this,s),this._ctx=i,this._fetch=function(){var u;return(u=window).fetch.apply(u,arguments)},this._sessionKey=null,this._hostUrl=(c=this._ctx.apiHost)!==null&&c!==void 0?c:"https://api-IDENTIFIER.calls-stg.sendbirdtest.com".replace("IDENTIFIER",this._ctx.appId)}var o;return w(s,[{key:"setSessionKey",value:function(i){this._sessionKey=i}},{key:"clearSessionKey",value:function(){this._sessionKey=null}},{key:"send",value:(o=_(d().mark(function i(c){var u,p,m,v,b,y;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(c.getApiOption){S.next=2;break}throw new Error("invalid api request ".concat(JSON.stringify(c)));case 2:if(!(u=c.getApiOption()).auth||this._sessionKey){S.next=5;break}throw new Error("tried to call private api without auth");case 5:return p=l({},u.headers),u.body instanceof FormData||(p["Content-Type"]="application/json"),p.SendBird="JS,".concat(this._getOsVersion(),",").concat(AO),p["SBCall-Client-Id"]=this._ctx.clientId,this._sessionKey&&(p["SBCall-Session-Token"]=this._sessionKey),S.next=12,this._fetch("".concat(this._getHost()).concat(u.path),{method:u.method,body:u.body instanceof FormData?u.body:JSON.stringify(u.body),headers:p});case 12:return m=S.sent,S.next=15,m.text();case 15:v=S.sent,b=null,S.prev=17,b=JSON.parse(v),S.next=24;break;case 21:throw S.prev=21,S.t0=S.catch(17),new $a(oi.ERR_MALFORMED_DATA);case 24:if(m.ok){S.next=34;break}if(!b.error){S.next=29;break}throw new $a(b.code,{message:b.message});case 29:if(m.status!==500){S.next=31;break}throw new $a(oi.INTERNAL_SERVER_ERROR);case 31:if(!(m.status>=300&&m.status<400)){S.next=33;break}throw new $a(oi.ERR_MALFORMED_DATA);case 33:throw new $a(oi.ERR_REQUEST_FAILED);case 34:if(S.prev=34,!(y=this._ctx.parseResponse(c,b))){S.next=38;break}return S.abrupt("return",y);case 38:S.next=43;break;case 40:return S.prev=40,S.t1=S.catch(34),S.abrupt("return",b);case 43:return S.abrupt("return",b);case 44:case"end":return S.stop()}},i,this,[[17,21],[34,40]])})),function(i){return o.apply(this,arguments)})},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),s}(),are=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="poll",i}return ve(o,s),o.prototype.init=function(i,c){var u=c.sdkState,p=c.dispatcher,m=c.sessionManager,v=c.requestQueue,b=c.logger,y=c.onlineDetector,S=c.cacheContext;s.prototype.init.call(this,i,{sdkState:u,dispatcher:p,sessionManager:m,requestQueue:v,logger:b,onlineDetector:y,cacheContext:S}),this._manager=new g3(i,{sdkState:u,dispatcher:p,sessionManager:m,requestQueue:v,logger:b,onlineDetector:y,cacheContext:S})},o.prototype.create=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){return c=Le(Le({},hee),i),Pn(EA(c)).throw($e.invalidParameters),[2,this._manager.create(c)]})})},o.prototype.get=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){return c=Le(Le({},fee),i),Pn(xA(c)).throw($e.invalidParameters),[2,this._manager.get(c)]})})},o.prototype.getOption=function(i){return Z(this,void 0,void 0,function(){var c;return X(this,function(u){return c=Le(Le({},pee),i),Pn(wA(c)).throw($e.invalidParameters),[2,this._manager.getOption(c)]})})},o.prototype.buildPollFromSerializedData=function(i){return this._manager.buildPollFromSerializedData(i)},o}(_3);(function(s){s.LATEST_LAST_MESSAGE="latest_last_message",s.CHRONOLOGICAL="chronological",s.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",s.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(Yc||(Yc={})),function(s){s.CHRONOLOGICAL="chronological",s.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",s.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(kO||(kO={})),function(s){s.CREATED_AT="created_at",s.SCHEDULED_AT="scheduled_at"}(IO||(IO={}));var B3,V3=function(s){switch(s){case Yc.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Yc.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Yc.CHANNEL_NAME_ALPHABETICAL:return["name"];default:return["-lastMessageUpdatedAt","-createdAt","syncIndex"]}},sre=function(s){function o(i){var c=i.message,u=s.call(this)||this;return u.message=c,u}return ve(o,s),o}(Ti),OO={},ore=function(){function s(o,i){var c=i.localCacheEnabled,u=i.dispatcher,p=i.sdkState,m=i.logger,v=this;this._iid=o,OO[o]=this,this._localCacheEnabled=c,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=u,this._logger=m,this._sdkState=p,this._localCacheEnabled&&u.on(function(b){if(b instanceof ou)switch(b.stateType){case Er.CONNECTED:v._isProcessingAutoResend||v.processAutoResendRegisteredPendingMessages().then(function(){return v._processNextAutoResend()});break;case Er.INTERNAL_DISCONNECTED:case Er.EXTERNAL_DISCONNECTED:v._isProcessingAutoResend=!1}})}return s.of=function(o){return OO[o]},s.prototype.processNonAutoResendRegisteredPendingMessages=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m;return X(this,function(v){switch(v.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:o=v.sent();try{for(i=gt(o),c=i.next();!c.done;c=i.next())(u=c.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",u.reqId),u.sendingStatus=Wr.FAILED,u.errorCode=ft.ACK_TIMEOUT,this._dispatcher.dispatch(new qi({messages:[u],source:Nr.LOCAL_MESSAGE_FAILED})))}catch(b){p={error:b}}finally{try{c&&!c.done&&(m=i.return)&&m.call(i)}finally{if(p)throw p.error}}return[2]}})})},s.prototype.processAutoResendRegisteredPendingMessages=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:o=y.sent();try{for(i=gt(o),c=i.next();!c.done;c=i.next())(u=c.value).errorCode&&dv(u.errorCode)&&(p=new Date().getTime(),m=u.createdAt+2592e5,p<=m?this._autoResendQueue.map(function(S){return S.reqId}).indexOf(u.reqId)<0&&this._autoResendQueue.push(u):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(m).toLocaleString()),u.sendingStatus=Wr.FAILED,this._dispatcher.dispatch(new qi({messages:[u],source:Nr.LOCAL_MESSAGE_FAILED}))))}catch(S){v={error:S}}finally{try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(v)throw v.error}}return[2]}})})},s.prototype.completeCurrentAndProcessNextAutoResend=function(o){if(this._localCacheEnabled&&(o.sendingStatus===Wr.SUCCEEDED||o.sendingStatus===Wr.FAILED&&!dv(o.errorCode))){var i=this.indexOf(o);i>=0&&this._autoResendQueue.splice(i,1),i===0&&this._processNextAutoResend()}},s.prototype._fetchAllCachedPendingMessages=function(){return Z(this,void 0,void 0,function(){var o,i;return X(this,function(c){switch(c.label){case 0:return(o=r0.of(this._iid))?[4,o.fetch({sendingStatus:Wr.PENDING,backward:!0})]:[3,2];case 1:return i=c.sent(),[3,3];case 2:i=[],c.label=3;case 3:return[2,i]}})})},s.prototype.indexOf=function(o){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(i){return i.reqId}).indexOf(o.reqId):-1},s.prototype._isNotInQueue=function(o){return this._autoResendQueue.map(function(i){return i.reqId}).indexOf(o.reqId)===-1},s.prototype._processNextAutoResend=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),o=this._autoResendQueue[0],this._dispatcher.dispatch(new sre({message:o})),this._logger.debug("processing auto-resend for message request id: ",o.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(c){this._logger.warn("process auto-resend error: ",c),this._isProcessingAutoResend=!1}return[2]})})},s}();(function(s){s[s.USER_BLOCK=20001]="USER_BLOCK",s[s.USER_UNBLOCK=2e4]="USER_UNBLOCK",s[s.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(B3||(B3={}));var RO=function(){function s(o){this.category=o.cat,this.data=o.data}return s.getDataAsUserBlockEvent=function(o,i){var c=i.data,u=c.blocker,p=c.blockee;return{blocker:new Ft(o,u),blockee:new Ft(o,p)}},s.getDataAsFriendDiscoveredEvent=function(o,i){var c=i.data.friend_discoveries;return{friendDiscoveries:Array.isArray(c)?c.map(function(u){return new Ft(o,u)}):[]}},s}(),lre=function(s){function o(i,c){var u=c.userId,p=s.call(this)||this;return p._iid=i,p.userId=u,p}return ve(o,s),o}(Ti),cre=function(s){function o(){return s.call(this)||this}return ve(o,s),o}(Ti),dre=function(s){function o(i,c,u){var p=s.call(this,i,"USEV",u)||this;return p.event=new RO(u),p}return ve(o,s),o}(Qr),MO=function(s){this.key=s.key,this.url=s.url},DO=function(s){this.id=s.id,this.name=s.name,this.url=s.url,this.emojis=s.emojis?s.emojis.map(function(o){return new MO(o)}):[]},ure=function(s){this.emojiHash=s.emoji_hash||"",this.emojiCategories=s.emoji_categories?s.emoji_categories.map(function(o){return new DO(o)}):[]},hre={profileImage:void 0,profileUrl:void 0,nickname:void 0},LO=function(s){return{v2:s.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[V3(Yc.LATEST_LAST_MESSAGE),V3(Yc.CHRONOLOGICAL),V3(Yc.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:tO,keyName:"messageId",index:[Jl(Zi.CHANNEL_LATEST),Jl(Zi.NEWEST_CHILD_MESSAGE)]},{collectionName:hO,keyName:"reqId",index:[Jl(Zi.CHANNEL_LATEST),Jl(Zi.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]),v3:s.commitSchema([{collectionName:"FeedChannel",keyName:"url",index:[["-lastMessageUpdatedAt","-createdAt","syncIndex"]]}])}},UO=function(s,o){return function(i,c){switch(i){case 1:s.clear().then(function(){o.clear().then(function(){LO(s).v2.then(function(){return c()}).catch(function(u){return c(u)})}).catch(function(u){return c(u)})}).catch(function(u){return c(u)});break;case 2:LO(s).v3.then(function(){return c()}).catch(function(u){return c(u)});break;default:c()}}},pre=function(){return typeof document<"u"?document.visibilityState:"visible"},fre=function(s){function o(i){var c=i.getVisibilityState,u=c===void 0?pre:c,p=i.initialState,m=p===void 0?"visible":p,v=i.isEnabled,b=v===void 0||v,y=i.pauseCheckDelay,S=y===void 0?3e4:y,O=s.call(this)||this;return O._pauseCheckDelay=3e4,O._currentState="visible",O._getVisibilityState=u,O._pauseCheckDelay=S,O._currentState=m,O._isEnabled=b,O._boundToggleState=O._toggleState.bind(O),O}return ve(o,s),Object.defineProperty(o.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),o.prototype._toggleState=function(){var i=this,c=this._getVisibilityState();c!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=void 0),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){i._pauseDelayTimer=void 0,i.dispatch("pause")},this._pauseCheckDelay)),this._currentState=c},o.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},o.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},o}(Gh),_re=function(){function s(o){var i=o.logger,c=o.connectionDelegate,u=c===void 0?null:c,p=this;this._onlineWorker=function(){var m;return(m=p.connectionDelegate)===null||m===void 0?void 0:m.reconnect()},this._offlineWorker=function(){var m;return(m=p.connectionDelegate)===null||m===void 0?void 0:m.disconnect()},this.unsubscribes=[],this._onlineListener=function(m){if(p.isAvailableOnWeb)return window.addEventListener("online",m),function(){return window.removeEventListener("online",m,!1)}},this._offlineListener=function(m){if(p.isAvailableOnWeb)return window.addEventListener("offline",m),function(){return window.removeEventListener("offline",m,!1)}},this.logger=i,u&&(this.connectionDelegate=u)}return Object.defineProperty(s.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&!!window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),s.prototype.setOnlineListener=function(o){o&&typeof o=="function"&&(this._onlineListener=o)},s.prototype.setOfflineListener=function(o){o&&typeof o=="function"&&(this._offlineListener=o)},s.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},s.prototype.stop=function(){var o=this;this.unsubscribes.forEach(function(i){try{i==null||i()}catch(c){o.logger.warn(c.message)}}),this.unsubscribes=[]},s.prototype.isOnline=function(){return Z(this,void 0,void 0,function(){return X(this,function(o){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise(function(i){fetch("https://www.google.com",{method:Dn.GET,mode:"no-cors"}).then(function(){return i(!0)}).catch(function(){return i(!1)})})]})})},s}(),PO=function(s){function o(i){var c=i.userId,u=i.nickname,p=i.profileUrl,m=i.profileImage,v=i.preferredLanguages,b=s.call(this)||this;return b.method=Dn.PUT,b.path="".concat(hr,"/").concat(encodeURIComponent(c)),b.params=ct(_t({nickname:u,profile_url:p,profile_file:m,preferred_languages:v})),b}return ve(o,s),o}(Un),FO=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.user=new Ft(i,Le({},c)),u}return ve(o,s),o}(qn),mre=function(s){function o(i){var c=i.userId,u=i.token,p=s.call(this)||this;return p.method=Dn.POST,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push/apns"),p.params={apns_device_token:u,always_push:!0},p}return ve(o,s),o}(Un);(function(s){ve(function(o,i){var c=s.call(this,o,i)||this;return c.token=i.token,c.type=i.type?Si[i.type.toLowerCase()]:Si.UNKNOWN,c.user=new Ft(o,i.user),c},s)})(qn);var vre=function(s){function o(i){var c=i.userId,u=i.token,p=s.call(this)||this;return p.method=Dn.POST,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push/gcm"),p.params={gcm_reg_token:u,always_push:!0},p}return ve(o,s),o}(Un);(function(s){ve(function(o,i){var c=s.call(this,o,i)||this;return c.token=i.token,c.type=i.type?Si[i.type.toLowerCase()]:Si.UNKNOWN,c.user=new Ft(o,i.user),c},s)})(qn);var gre=function(s){function o(i){var c=i.userId,u=i.token,p=s.call(this)||this;return p.method=Dn.DELETE,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push/apns/").concat(encodeURIComponent(u)),p}return ve(o,s),o}(Un);(function(s){ve(function(o,i){var c=s.call(this,o,i)||this;return c.token=i.token,c.user=new Ft(o,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(qn);var bre=function(s){function o(i){var c=i.userId,u=i.token,p=s.call(this)||this;return p.method=Dn.DELETE,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push/gcm/").concat(encodeURIComponent(u)),p}return ve(o,s),o}(Un);(function(s){ve(function(o,i){var c=s.call(this,o,i)||this;return c.token=i.token,c.user=new Ft(o,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(qn);var yre=function(s){function o(i){var c=i.userId,u=s.call(this)||this;return u.method=Dn.DELETE,u.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push/apns"),u}return ve(o,s),o}(Un);(function(s){ve(function(o,i){var c=s.call(this,o,i)||this;return c.type=i.type?Si[i.type.toLowerCase()]:Si.UNKNOWN,c.user=new Ft(o,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(qn);var Ere=function(s){function o(i){var c=i.userId,u=s.call(this)||this;return u.method=Dn.DELETE,u.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push/gcm"),u}return ve(o,s),o}(Un);(function(s){ve(function(o,i){var c=s.call(this,o,i)||this;return c.type=i.type?Si[i.type.toLowerCase()]:Si.UNKNOWN,c.user=new Ft(o,i.user),c.lastDeletedAt=i.device_token_last_deleted_at,c},s)})(qn);var wre=function(s){function o(i){var c=i.userId,u=i.type,p=i.token,m=i.ts,v=s.call(this)||this;return v.method=Dn.GET,v.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push/").concat(encodeURIComponent(u),"/device_tokens"),v.params={created_ts:m,token:p},v}return ve(o,s),o}(Un),xre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.pushTokens={type:c.type?Si[c.type.toLowerCase()]:Si.UNKNOWN,deviceTokens:c.device_tokens,hasMore:c.has_more,token:c.token},u}return ve(o,s),o}(qn),Sre=function(s){function o(i){var c=i.userId,u=s.call(this)||this;return u.method=Dn.GET,u.path="".concat(hr,"/").concat(encodeURIComponent(c),"/channel_invitation_preference"),u}return ve(o,s),o}(Un),Tre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.autoAccept=c.auto_accept,u}return ve(o,s),o}(qn),Cre=function(s){function o(i){var c=i.userId,u=i.willAutoAccept,p=s.call(this)||this;return p.method=Dn.PUT,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/channel_invitation_preference"),p.params={auto_accept:u},p}return ve(o,s),o}(Un),kre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.autoAccept=c.auto_accept,u}return ve(o,s),o}(qn),Ire=function(s){function o(i){var c=i.userId,u=s.call(this)||this;return u.method=Dn.GET,u.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push_preference"),u}return ve(o,s),o}(Un),Nre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.preference={doNotDisturbOn:c.do_not_disturb,startHour:c.start_hour,startMin:c.start_min,endHour:c.end_hour,endMin:c.end_min,timezone:c.timezone},u}return ve(o,s),o}(qn),Are=function(s){function o(i){var c=i.userId,u=i.doNotDisturbOn,p=i.startHour,m=i.startMin,v=i.endHour,b=i.endMin,y=i.timezone,S=s.call(this)||this;return S.method=Dn.PUT,S.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push_preference"),S.params={do_not_disturb:u,start_hour:p,start_min:m,end_hour:v,end_min:b,timezone:y},S}return ve(o,s),o}(Un),Ore=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.preference={doNotDisturbOn:c.do_not_disturb,startHour:c.start_hour,startMin:c.start_min,endHour:c.end_hour,endMin:c.end_min,timezone:c.timezone},u}return ve(o,s),o}(qn),Rre=function(s){function o(i){var c=i.userId,u=s.call(this)||this;return u.method=Dn.GET,u.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push_preference"),u}return ve(o,s),o}(Un),Mre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.snoozePeriod={isSnoozeOn:c.snooze_enabled},typeof c.snooze_start_ts=="number"&&(u.snoozePeriod.startTs=c.snooze_start_ts),typeof c.snooze_end_ts=="number"&&(u.snoozePeriod.endTs=c.snooze_end_ts),u}return ve(o,s),o}(qn),Dre=function(s){function o(i){var c=i.userId,u=i.snoozeOn,p=i.startTs,m=i.endTs,v=s.call(this)||this;return v.method=Dn.PUT,v.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push_preference"),v.params={snooze_enabled:u,snooze_start_ts:p,snooze_end_ts:m},v}return ve(o,s),o}(Un),Lre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.snoozePeriod={isSnoozeOn:c.snooze_enabled},typeof c.snooze_start_ts=="number"&&(u.snoozePeriod.startTs=c.snooze_start_ts),typeof c.snooze_end_ts=="number"&&(u.snoozePeriod.endTs=c.snooze_end_ts),u}return ve(o,s),o}(qn),Ure=function(s){function o(i){var c=i.userId,u=i.blockedUserId,p=s.call(this)||this;return p.method=Dn.POST,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/block"),p.params={target_id:u},p}return ve(o,s),o}(Un);(function(s){ve(function(o,i){var c=s.call(this,o,i)||this;return c.user=new Ft(o,i),c},s)})(qn);var Pre=function(s){function o(i){var c=i.userId,u=i.unblockedUserId,p=s.call(this)||this;return p.method=Dn.DELETE,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/block/").concat(encodeURIComponent(u)),p}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var Fre=function(s){function o(i){var c=i.userId,u=s.call(this)||this;return u.method=Dn.GET,u.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push_preference"),u}return ve(o,s),o}(Un),Hre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.pushTriggerOption=c.push_trigger_option,u}return ve(o,s),o}(qn),Bre=function(s){function o(i){var c=i.userId,u=i.pushTriggerOption,p=s.call(this)||this;return p.method=Dn.PUT,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push_preference"),p.params={push_trigger_option:u},p}return ve(o,s),o}(Un),Vre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.pushTriggerOption=c.push_trigger_option,u}return ve(o,s),o}(qn),zre=function(s){function o(i){var c=i.userId,u=s.call(this)||this;return u.method=Dn.GET,u.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push/template"),u}return ve(o,s),o}(Un),Gre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.name=c.name,u}return ve(o,s),o}(qn),qre=function(s){function o(i){var c=i.userId,u=i.templateName,p=s.call(this)||this;return p.method=Dn.PUT,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/push/template"),p.params={name:u},p}return ve(o,s),o}(Un),jre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.name=c.name,u}return ve(o,s),o}(qn),$re=function(s){function o(i){var c=i.userId,u=i.token,p=s.call(this)||this;return p.method=Dn.GET,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/friends/changelogs"),p.params={token:u},p}return ve(o,s),o}(Un),Wre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.changelogs={addedUsers:c.added.map(function(p){return new Ft(i,p)}),updatedUsers:c.updated.map(function(p){return new Ft(i,p)}),deletedUserIds:c.deleted,hasMore:c.has_more,token:c.next},u}return ve(o,s),o}(qn),Kre=function(s){function o(i){var c=i.userId,u=i.discoveries,p=s.call(this)||this;return p.method=Dn.PUT,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/friend_discoveries"),p.params={friend_discoveries:u.map(function(m){return{friend_discovery_key:m.friendDiscoveryKey,friend_name:m.friendName}})},p}return ve(o,s),o}(Un),Qre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.friendDiscoveryRequestId=c.friend_discovery_request_id,u}return ve(o,s),o}(qn),Yre=function(s){function o(i){var c=i.userId,u=i.discoveryKeys,p=s.call(this)||this;return p.method=Dn.DELETE,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/friend_discoveries"),p.params={friend_discovery_keys:u},p}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var Xre=function(s){function o(i){var c=i.userId,u=i.userIds,p=s.call(this)||this;return p.method=Dn.POST,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/friends"),p.params={user_ids:u},p}return ve(o,s),o}(Un),Zre=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.users=c.users.map(function(p){return new Ft(i,p)}),u}return ve(o,s),o}(qn),Jre=function(s){function o(i){var c=i.userId,u=i.userIds,p=s.call(this)||this;return p.method=Dn.DELETE,p.path="".concat(hr,"/").concat(encodeURIComponent(c),"/friends"),p.params={user_ids:u},p}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var eie=function(s){function o(i){var c=i.userId,u=s.call(this)||this;return u.method=Dn.GET,u.path="".concat(hr,"/").concat(c,"/allow_friend_discovery"),u.params={},u}return ve(o,s),o}(Un),nie=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.allowFriendDiscovery=c.allow_friend_discovery,u}return ve(o,s),o}(qn),tie=function(s){function o(i){var c=i.userId,u=i.allowFriendDiscovery,p=s.call(this)||this;return p.method=Dn.PUT,p.path="".concat(hr,"/").concat(c,"/allow_friend_discovery"),p.params={allow_friend_discovery:u},p}return ve(o,s),o}(Un);(function(s){ve(function(){return s!==null&&s.apply(this,arguments)||this},s)})(qn);var mf,rie=function(s){function o(){var i=s.call(this)||this;return i.method=Dn.GET,i.path=v5,i}return ve(o,s),o}(Un),iie=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.emojiContainer=new ure(c),u}return ve(o,s),o}(qn),aie=function(s){function o(i){var c=i.categoryId,u=s.call(this)||this;return u.method=Dn.GET,u.path="".concat(v5,"/").concat(c),u}return ve(o,s),o}(Un),sie=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.emojiCategory=new DO(c),u}return ve(o,s),o}(qn),oie=function(s){function o(i){var c=i.key,u=s.call(this)||this;return u.method=Dn.GET,u.path="".concat(OZ,"/").concat(c),u}return ve(o,s),o}(Un),lie=function(s){function o(i,c){var u=s.call(this,i,c)||this;return u.emoji=new MO(c),u}return ve(o,s),o}(qn),cie=function(s){function o(){var i=s.call(this)||this;return i.method=Dn.GET,i.path="".concat(RZ),i}return ve(o,s),o}(Un),die=function(s){function o(i,c){var u,p=this,m=c??{};return(p=s.call(this,i,c)||this).uikitConfiguration={string:JSON.stringify(m),json:m},p.updatedAt=(u=c==null?void 0:c.updated_at)!==null&&u!==void 0?u:0,p}return ve(o,s),o}(qn),uie=function(){function s(o,i,c){var u=this;this._storeInitialized=!1,this._iid=o,this.options=i;var p=Ze.of(o),m=p.sdkState,v=p.cacheContext,b=p.dispatcher,y=p.sessionManager,S=p.requestQueue,O=p.logger,V=p.userEventHandlers,$=p.appStateToggleEnabled;this._onlineDetector=new _re({logger:O,connectionDelegate:{reconnect:function(){var J=Ze.of(o),oe=J.sdkState,xe=J.connectionManager,Ie=J.sessionManager;Ie.auth.hasSession?oe.appState==="foreground"&&xe.resetAndReconnect():xe.connect(Ie.auth.authToken)},disconnect:function(){Ze.of(o).connectionManager.disconnect()}}});var te=new ore(o,{localCacheEnabled:v.localCacheEnabled,dispatcher:b,sdkState:m,logger:O});c.forEach(function(J){J.init(o,{sdkState:m,cacheContext:v,dispatcher:b,sessionManager:y,requestQueue:S,logger:O,onlineDetector:u._onlineDetector}),u[J.name]=J}),this._appStateChangeDetector=new fre({isEnabled:$}),this._appStateChangeDetector.on("resume",function(){O.debug("the page resumes from freeze"),u.setForegroundState()}).on("pause",function(){O.debug("the page freezes"),u.setBackgroundState()}),b.on(function(J){var oe;if(J instanceof ou)J.stateType===Er.CONNECTED&&te.processNonAutoResendRegisteredPendingMessages();else if(J instanceof Qr){if(J.code==="USEV"){var xe=J.as(dre).event;if(xe.category===B3.FRIEND_DISCOVERED){var Ie=RO.getDataAsFriendDiscoveredEvent(o,xe).friendDiscoveries;Vt(function(){return Z(u,void 0,void 0,function(){return X(this,function(nn){return[2,V.forEach(function(Xe){Xe.onFriendsDiscovered&&Xe.onFriendsDiscovered(Ie)})]})})})}}}else if(J instanceof sA){var Ue=Ze.of(u._iid).subscribedUnreadMessageCount,He=!1,Ee=J.ts;if(typeof Ee=="number"&&Ee>Ue.ts){if(Ue.all!==J.all&&(He=!0),Ue.all=J.all>=0?J.all:0,J.customTypes)for(var we in J.customTypes)Ue.customTypes[we]!==J.customTypes[we]&&(He=!0),Ue.customTypes[we]=J.customTypes[we];He=He&&Ue.ts>0,Ue.ts=Ee}He&&Vt(function(){return Z(u,void 0,void 0,function(){return X(this,function(nn){return[2,V.forEach(function(Xe){Xe.onTotalUnreadMessageCountChanged&&Xe.onTotalUnreadMessageCountChanged({groupChannelCount:Ue.all,feedChannelCount:Ue.feed,customTypeUnreadCount:Ue.customTypes}),Xe.onTotalUnreadMessageCountUpdated&&Xe.onTotalUnreadMessageCountUpdated(Ue.all,Ue.customTypes)})]})})})}else J instanceof fA?(v.preference.set(u._getUserProfileCacheKey(m.userId),p3.payloadify(J.userProfile)),!((oe=J.userProfile.appInfo.notificationInfo)===null||oe===void 0)&&oe.isEnabled&&v.preference.set(function(nn){return"sendbird@".concat(nn,"/changelog_include_chat_notifications")}(u.appId),{value:!0})):J instanceof Hp&&J.error&&(J.error.isSessionRevokedError||J.error.isUserAuthDeactivedError||J.error.isUserAuthDeletedOrNotFoundError)&&(O.debug("session revoked."),u.disconnect())})}return s.init=function(o){var i=o.appId,c=o.appVersion,u=o.modules,p=u===void 0?[]:u,m=o.options,v=m===void 0?new d5:m,b=o.debugMode,y=b!==void 0&&b,S=o.customApiHost,O=o.customWebSocketHost,V=o.newInstance,$=V!==void 0&&V,te=o.logLevel,J=o.localCacheEnabled,oe=J!==void 0&&J,xe=o.localCacheConfig,Ie=xe===void 0?new f5:xe,Ue=o.localCacheEncryption,He=o.useAsyncStorageStore,Ee=He===void 0?null:He,we=o.appStateToggleEnabled,nn=we===void 0||we;if(!mf||$){var Xe="su-".concat(zh()),We=Ue??{encrypt:function(wn){return wn},decrypt:function(wn){return wn}},In=new t0({encryption:We});y||(In=zE()?Ee?new dte({AsyncStorage:Ee,encryption:We}):new t0({encryption:We}):new cte({encryption:We})),new Ze(Xe,{appId:i,appVersion:c,options:v,apiHost:S??"https://api-".concat(i,".sendbird.com"),websocketHost:O??"wss://ws-".concat(i,".sendbird.com"),store:In,encryption:We,logLevel:te,localCacheEnabled:oe,localCacheConfig:Ie,debugMode:y,appStateToggleEnabled:nn});var yt=[new gte,new are],xn=new s(Xe,v,Yt(Yt([],Mt(p),!1),Mt(yt),!1));return mf||(mf=xn),xn}return mf},Object.defineProperty(s,"instance",{get:function(){return mf},enumerable:!1,configurable:!0}),Object.defineProperty(s,"version",{get:function(){return l5},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appId",{get:function(){return Ze.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appInfo",{get:function(){var o=Ze.of(this._iid).appInfo;return o??null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appVersion",{get:function(){var o;return(o=Ze.of(this._iid).sdkState.appVersion)!==null&&o!==void 0?o:""},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"debugMode",{get:function(){return!!Ze.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"logLevel",{get:function(){return Ze.of(this._iid).logger.level},set:function(o){Ze.of(this._iid).logger.level=o},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isCacheEnabled",{get:function(){return Ze.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"localCacheConfig",{get:function(){var o=Ze.of(this._iid).cacheContext;return o.localCacheEnabled?o.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ekey",{get:function(){return Ze.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentUser",{get:function(){var o;return(o=Ze.of(this._iid).sessionManager.currentUser)!==null&&o!==void 0?o:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connectionState",{get:function(){var o=Ze.of(this._iid).connectionManager;return o.isConnected?hl.OPEN:o.isConnecting?hl.CONNECTING:hl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"lastConnectedAt",{get:function(){var o=Ze.of(this._iid),i=o.connectedAt;return o.connectionManager.isConnected?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fcmPushToken",{get:function(){var o;return(o=this._fcmPushToken)!==null&&o!==void 0?o:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"apnsPushToken",{get:function(){var o;return(o=this._apnsPushToken)!==null&&o!==void 0?o:null},enumerable:!1,configurable:!0}),s.prototype._getNestDBVersion=function(){return 3},s.prototype._getCurrentPreferenceVersion=function(){return 1},s.prototype._getPreferenceCacheKey=function(o){return"sendbird@".concat(this.appId,"/").concat(o,".pref")},s.prototype._getUserProfileCacheKey=function(o){return"sendbird@".concat(this.appId,"/").concat(o,".profile")},s.prototype.getMemoryStoreForDebugging=function(){var o=Ze.of(this._iid),i=o.debugMode,c=o.cacheContext;if(i)return c.store instanceof t0?c.store:null;throw $e.debugModeRequired},s.prototype.addExtension=function(o,i){var c=Ze.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(o)>-1&&c.extensions&&(c.extensions[o]=i)},s.prototype.addSendbirdExtensions=function(o,i,c){var u,p,m=Ze.of(this._iid),v=m.logger,b=m.sdkState,y=new RegExp("^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$");if(o.length===0)return v.debug("sb.addSendbirdExtensions() has failed because the given sendbirdExtensions is empty."),!1;if(o.find(function(J){return!y.test(J.version)}))return v.debug("sb.addSendbirdExtensions() has failed because the given version did not satisfy the SemVer specification."),!1;if(c)try{for(var S=gt(Object.entries(c)),O=S.next();!O.done;O=S.next()){var V=Mt(O.value,2),$=V[0],te=V[1];if(/&|=/.test($)||/&|=/.test(te))return v.debug("sb.addSendbirdExtensions() has failed because the given customData includes at least one invalid character: = or &."),!1}}catch(J){u={error:J}}finally{try{O&&!O.done&&(p=S.return)&&p.call(S)}finally{if(u)throw u.error}}return b.sendbirdRuntimeEnvironment={sendbirdExtensions:o,deviceOS:i,customData:c},!0},s.prototype.setOnlineListener=function(o){this._onlineDetector.setOnlineListener(o)},s.prototype.setOfflineListener=function(o){this._onlineDetector.setOfflineListener(o)},s.prototype._safeInitializeStore=function(o){return Z(this,void 0,void 0,function(){var i;return X(this,function(c){switch(c.label){case 0:i=Ze.of(this._iid).cacheContext,c.label=1;case 1:return c.trys.push([1,3,,5]),[4,i.store.init(o)];case 2:return c.sent(),this._storeInitialized=!0,[3,5];case 3:return c.sent(),i.replaceStore(new t0),[4,this._safeInitializeStore(o)];case 4:return c.sent(),[3,5];case 5:return[2]}})})},s.prototype.initializeCache=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b,y,S;return X(this,function(O){switch(O.label){case 0:return i=Ze.of(this._iid),c=i.sdkState,u=i.cacheContext,p=i.connectionManager,m=i.dispatcher,v=i.logger,c.userId&&c.userId===o?[3,10]:[4,p.logout()];case 1:if(O.sent(),b="sendbird@".concat(c.appId,"/").concat(o,".db"),!u.localCacheEnabled)return[3,8];O.label=2;case 2:return O.trys.push([2,5,,7]),u.nestdb&&u.nestdb.state!==Zl.CLOSED&&u.nestdb.name===b?[3,4]:((y=u.nestdb=new ute({name:"sendbird@".concat(c.appId,"/").concat(o,".db"),version:this._getNestDBVersion(),store:u.store})).on("upgrade",UO(y,u.store)),y.on("storeReplaced",function(V){u.replaceStore(V),u.localCacheEnabled=!1,y.on("upgrade",UO(y,u.store))}),[4,y.open()]);case 3:O.sent(),this._storeInitialized=!0,m.dispatch(new lre(this._iid,{userId:o})),O.label=4;case 4:return c.userId=o,[3,7];case 5:return S=O.sent(),v.warn("Nest DB Open Failed. ",S),[4,this._safeInitializeStore(b)];case 6:throw O.sent(),c.userId=o,$e.databaseError;case 7:return[3,10];case 8:return[4,this._safeInitializeStore(b)];case 9:O.sent(),c.userId=o,O.label=10;case 10:return[2]}})})},s.prototype.getCacheDataSize=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return(o=Ze.of(this._iid).cacheContext).localCacheEnabled&&o.nestdb?[4,o.nestdb.estimateUsage()]:[3,2];case 1:return[2,i.sent()];case 2:return[2,0]}})})},s.prototype.clearCachedData=function(){return Z(this,void 0,void 0,function(){var o;return X(this,function(i){switch(i.label){case 0:return(o=Ze.of(this._iid).cacheContext).localCacheEnabled&&o.nestdb?[4,o.nestdb.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this._storeInitialized?[4,o.preference.clear()]:[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}})})},s.prototype.clearCachedMessages=function(o){return Z(this,void 0,void 0,function(){var i,c,u=this;return X(this,function(p){switch(p.label){case 0:return Pn(ar("string",o)).throw($e.invalidParameters),i=Xv.of(this._iid),c=r0.of(this._iid),i&&c?[4,Promise.all(o.map(function(m){return Z(u,void 0,void 0,function(){return X(this,function(v){switch(v.label){case 0:return[4,i.removeMessagesOfChannel(m)];case 1:return v.sent(),[4,c.removeMessagesOfChannel(m)];case 2:return v.sent(),[2]}})})}))]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},s.prototype.connect=function(o,i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y;return X(this,function(S){switch(S.label){case 0:Pn(Ve("string",o)&&Ve("string",i,!0)).throw($e.invalidParameters),c=Ze.of(this._iid),u=c.sdkState,p=c.cacheContext,m=c.connectionManager,v=c.statLogCollector,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,this.initializeCache(o)];case 2:return S.sent(),Ze.of(this._iid).dispatcher.dispatch(new cre),[3,4];case 3:return S.sent(),b=Ze.of(this._iid).logger,p.localCacheEnabled=!1,b.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,p.preference.init(this._getPreferenceCacheKey(o),this._getCurrentPreferenceVersion())];case 5:return S.sent(),[4,p.preference.get(this._getUserProfileCacheKey(o))];case 6:return(y=S.sent())&&new p3(this._iid,y).apply(),[4,v.init("sendbird@".concat(u.appId,"/").concat(o,".statlog"))];case 7:S.sent(),S.label=8;case 8:return S.trys.push([8,,10,11]),[4,m.connect(i)];case 9:return S.sent(),[3,11];case 10:return this._onlineDetector.start(),this._appStateChangeDetector.start(),[7];case 11:return[2,this.currentUser]}})})},s.prototype.reconnect=function(){var o=Ze.of(this._iid),i=o.connectionManager,c=o.sdkState,u=o.sessionManager.auth.hasSession;return u&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),i.resetAndReconnect().then(function(){c.appState="foreground"}).catch(function(){})),u},s.prototype.disconnect=function(){return Z(this,void 0,void 0,function(){var o,i,c;return X(this,function(u){switch(u.label){case 0:return o=Ze.of(this._iid),i=o.connectionManager,c=o.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),c.cancelAll(),[4,i.logout()];case 1:return u.sent(),[4,this.clearCachedData()];case 2:return u.sent(),[2]}})})},s.prototype.disconnectWebSocket=function(){return Z(this,void 0,void 0,function(){var o,i,c;return X(this,function(u){switch(u.label){case 0:return o=Ze.of(this._iid),i=o.connectionManager,c=o.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),c.cancelAll(),[4,i.disconnectWebSocket()];case 1:return u.sent(),[2]}})})},s.prototype.setBackgroundState=function(){var o=Ze.of(this._iid),i=o.connectionManager,c=o.sdkState,u=o.logger;c.appState==="foreground"&&(c.appState="background",u.debug("going background state"),i.background())},s.prototype.setForegroundState=function(){var o=Ze.of(this._iid),i=o.connectionManager,c=o.sdkState,u=o.logger;c.appState==="background"&&(c.appState="foreground",u.debug("going foreground state"),i.resetAndReconnect())},s.prototype.setSessionHandler=function(o){Pn(o instanceof jne).throw($e.invalidParameters),Ze.of(this._iid).sessionManager.handler=o},s.prototype.addUserEventHandler=function(o,i){Pn(Ve("string",o)&&i instanceof $ne).throw($e.invalidParameters),Ze.of(this._iid).userEventHandlers.set(o,i)},s.prototype.removeUserEventHandler=function(o){Ze.of(this._iid).userEventHandlers.delete(o)},s.prototype.removeAllUserEventHandler=function(){Ze.of(this._iid).userEventHandlers.clear()},s.prototype.addConnectionHandler=function(o,i){Pn(Ve("string",o)&&i instanceof qne).throw($e.invalidParameters),Ze.of(this._iid).connectionHandlers.set(o,i)},s.prototype.removeConnectionHandler=function(o){Ze.of(this._iid).connectionHandlers.delete(o)},s.prototype.removeAllConnectionHandler=function(){Ze.of(this._iid).connectionHandlers.clear()},s.prototype.createApplicationUserListQuery=function(o){return o===void 0&&(o={}),new Qne(this._iid,o)},s.prototype.createBlockedUserListQuery=function(o){return o===void 0&&(o={}),new Zne(this._iid,o)},s.prototype.createFriendListQuery=function(o){return o===void 0&&(o={}),new nte(this._iid,o)},s.prototype.createMessageSearchQuery=function(o){return new mte(this._iid,o)},s.prototype.createPollListQuery=function(o){return new TA(this._iid,Le({},o))},s.prototype.createPollVoterListQuery=function(o){return new CA(this._iid,Le({},o))},s.prototype.buildUserFromSerializedData=function(o){var i=rf(o);return new Ft(this._iid,Ft.payloadify(i))},s.prototype.updateCurrentUserInfo=function(o){return o===void 0&&(o={}),Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b;return X(this,function(y){switch(y.label){case 0:return i=Le(Le({},hre),o),Pn(function(S){return hs(S.profileImage,!0)&&Ve("string",S.profileUrl,!0)&&Ve("string",S.nickname,!0)}(i)).throw($e.invalidParameters),this.currentUser?(c=Ze.of(this._iid),u=c.sdkState,p=c.requestQueue,m=new PO(Le({userId:u.userId},i)),[4,p.send(m)]):[3,2];case 1:return v=y.sent(),b=v.as(FO).user,this.currentUser&&(i.nickname&&(this.currentUser.nickname=b.nickname),(i.profileUrl||i.profileImage)&&(this.currentUser.plainProfileUrl=b.profileUrl)),[2,b];case 2:throw $e.connectionRequired}})})},s.prototype.updateCurrentUserInfoWithPreferredLanguages=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v;return X(this,function(b){switch(b.label){case 0:return Pn(ar("string",o)).throw($e.invalidParameters),this.currentUser?(i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new PO({userId:c.userId,preferredLanguages:o}),[4,u.send(p)]):[3,2];case 1:return m=b.sent(),v=m.as(FO).user,this.currentUser&&(this.currentUser.preferredLanguages=v.preferredLanguages),[2,v];case 2:throw $e.connectionRequired}})})},s.prototype.registerFCMPushTokenForCurrentUser=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v=this;return X(this,function(b){switch(b.label){case 0:if(Pn(Ve("string",o)).throw($e.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=Ze.of(this._iid),c=i.sessionManager,u=i.sdkState,p=i.requestQueue,c.hasDeviceToken(Si.FCM,o)?[2,Aa.SUCCESS]:(m=new vre({userId:u.userId,token:o}),[4,p.send(m)]);case 2:return b.sent(),[4,Os(function(){return Z(v,void 0,void 0,function(){return X(this,function(y){switch(y.label){case 0:return c.setDeviceToken(Si.FCM,o),[4,c.saveDeviceToken()];case 1:return y.sent(),[2]}})})})];case 3:return b.sent(),this._fcmPushToken="",[2,Aa.SUCCESS];case 4:return b.sent(),[2,Aa.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=o,[2,Aa.PENDING];case 7:return[2]}})})},s.prototype.unregisterFCMPushTokenForCurrentUser=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b=this;return X(this,function(y){switch(y.label){case 0:if(Pn(Ve("string",o)).throw($e.invalidParameters),!this.currentUser)return[3,6];y.label=1;case 1:return y.trys.push([1,4,,5]),i=Ze.of(this._iid),c=i.sessionManager,u=i.sdkState,p=i.requestQueue,m=new bre({userId:u.userId,token:o}),[4,p.send(m)];case 2:return v=y.sent().lastDeletedAt,[4,Os(function(){return Z(b,void 0,void 0,function(){return X(this,function(S){switch(S.label){case 0:return c.unsetDeviceToken(Si.FCM,o),c.setDeviceTokenDeletedAt(v),[4,c.saveDeviceToken()];case 1:return S.sent(),[2]}})})})];case 3:return y.sent(),this._fcmPushToken="",[2,Aa.SUCCESS];case 4:return y.sent(),[2,Aa.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=o,[2,Aa.PENDING];case 7:return[2]}})})},s.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m,v=this;return X(this,function(b){switch(b.label){case 0:return this.currentUser?(o=Ze.of(this._iid),i=o.sessionManager,c=o.sdkState,u=o.requestQueue,p=new Ere({userId:c.userId}),[4,u.send(p)]):[3,3];case 1:return m=b.sent().lastDeletedAt,[4,Os(function(){return Z(v,void 0,void 0,function(){return X(this,function(y){switch(y.label){case 0:return i.unsetDeviceTokens(Si.FCM),i.setDeviceTokenDeletedAt(m),[4,i.saveDeviceToken()];case 1:return y.sent(),[2]}})})})];case 2:b.sent(),b.label=3;case 3:return[2]}})})},s.prototype.registerAPNSPushTokenForCurrentUser=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v=this;return X(this,function(b){switch(b.label){case 0:if(Pn(Ve("string",o)).throw($e.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=Ze.of(this._iid),c=i.sessionManager,u=i.sdkState,p=i.requestQueue,c.hasDeviceToken(Si.APNS,o)?[2,Aa.SUCCESS]:(m=new mre({userId:u.userId,token:o}),[4,p.send(m)]);case 2:return b.sent(),[4,Os(function(){return Z(v,void 0,void 0,function(){return X(this,function(y){switch(y.label){case 0:return c.setDeviceToken(Si.APNS,o),[4,c.saveDeviceToken()];case 1:return y.sent(),[2]}})})})];case 3:return b.sent(),this._apnsPushToken="",[2,Aa.SUCCESS];case 4:return b.sent(),[2,Aa.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=o,[2,Aa.PENDING];case 7:return[2]}})})},s.prototype.unregisterAPNSPushTokenForCurrentUser=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p,m,v,b=this;return X(this,function(y){switch(y.label){case 0:if(Pn(Ve("string",o)).throw($e.invalidParameters),!this.currentUser)return[3,6];y.label=1;case 1:return y.trys.push([1,4,,5]),i=Ze.of(this._iid),c=i.sessionManager,u=i.sdkState,p=i.requestQueue,m=new gre({userId:u.userId,token:o}),[4,p.send(m)];case 2:return v=y.sent().lastDeletedAt,[4,Os(function(){return Z(b,void 0,void 0,function(){return X(this,function(S){switch(S.label){case 0:return c.unsetDeviceToken(Si.APNS,o),c.setDeviceTokenDeletedAt(v),[4,c.saveDeviceToken()];case 1:return S.sent(),[2]}})})})];case 3:return y.sent(),this._apnsPushToken="",[2,Aa.SUCCESS];case 4:return y.sent(),[2,Aa.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=o,[2,Aa.PENDING];case 7:return[2]}})})},s.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return Z(this,void 0,void 0,function(){var o,i,c,u,p,m,v=this;return X(this,function(b){switch(b.label){case 0:return this.currentUser?(o=Ze.of(this._iid),i=o.sessionManager,c=o.sdkState,u=o.requestQueue,p=new yre({userId:c.userId}),[4,u.send(p)]):[3,3];case 1:return m=b.sent().lastDeletedAt,[4,Os(function(){return Z(v,void 0,void 0,function(){return X(this,function(y){switch(y.label){case 0:return i.unsetDeviceTokens(Si.APNS),i.setDeviceTokenDeletedAt(m),[4,i.saveDeviceToken()];case 1:return y.sent(),[2]}})})})];case 2:b.sent(),b.label=3;case 3:return[2]}})})},s.prototype.getChannelInvitationPreference=function(){return Z(this,void 0,void 0,function(){var o,i,c,u;return X(this,function(p){switch(p.label){case 0:return o=Ze.of(this._iid),i=o.sdkState,c=o.requestQueue,u=new Sre({userId:i.userId}),[4,c.send(u)];case 1:return[2,{autoAccept:p.sent().as(Tre).autoAccept}]}})})},s.prototype.setChannelInvitationPreference=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(Ve("boolean",o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Cre({userId:c.userId,willAutoAccept:o}),[4,u.send(p)];case 1:return[2,{autoAccept:m.sent().as(kre).autoAccept}]}})})},s.prototype.getDoNotDisturb=function(){return Z(this,void 0,void 0,function(){var o,i,c,u;return X(this,function(p){switch(p.label){case 0:return o=Ze.of(this._iid),i=o.sdkState,c=o.requestQueue,u=new Ire({userId:i.userId}),[4,c.send(u)];case 1:return[2,p.sent().as(Nre).preference]}})})},s.prototype.setDoNotDisturb=function(o,i,c,u,p,m){return i===void 0&&(i=0),c===void 0&&(c=0),u===void 0&&(u=0),p===void 0&&(p=0),m===void 0&&(m=""),Z(this,void 0,void 0,function(){var v,b,y,S;return X(this,function(O){switch(O.label){case 0:return Pn(Ve("boolean",o)&&Ve("number",i)&&Ve("number",c)&&Ve("number",u)&&Ve("number",p)&&Ve("string",m)).throw($e.invalidParameters),v=Ze.of(this._iid),b=v.sdkState,y=v.requestQueue,S=new Are({userId:b.userId,doNotDisturbOn:o,startHour:i,startMin:c,endHour:u,endMin:p,timezone:m}),[4,y.send(S)];case 1:return[2,O.sent().as(Ore).preference]}})})},s.prototype.getSnoozePeriod=function(){return Z(this,void 0,void 0,function(){var o,i,c,u;return X(this,function(p){switch(p.label){case 0:return o=Ze.of(this._iid),i=o.sdkState,c=o.requestQueue,u=new Rre({userId:i.userId}),[4,c.send(u)];case 1:return[2,p.sent().as(Mre).snoozePeriod]}})})},s.prototype.setSnoozePeriod=function(o,i,c){return i===void 0&&(i=0),c===void 0&&(c=0),Z(this,void 0,void 0,function(){var u,p,m,v;return X(this,function(b){switch(b.label){case 0:return Pn(Ve("boolean",o)&&Ve("number",i)&&Ve("number",c)).throw($e.invalidParameters),u=Ze.of(this._iid),p=u.sdkState,m=u.requestQueue,v=new Dre({userId:p.userId,snoozeOn:o,startTs:i,endTs:c}),[4,m.send(v)];case 1:return[2,b.sent().as(Lre).snoozePeriod]}})})},s.prototype.getMyPushTokensByToken=function(o,i){return Z(this,void 0,void 0,function(){var c,u,p,m,v,b,y,S,O,V,$,te;return X(this,function(J){switch(J.label){case 0:return Pn(Ve("string",o)&&Lr(Si,i)).throw($e.invalidParameters),c=Ze.of(this._iid),u=c.sdkState,p=c.requestQueue,m=c.sessionManager,v=new wre({userId:u.userId,type:i,token:o}),[4,p.send(v)];case 1:b=J.sent(),y=b.as(xre).pushTokens;try{for(S=gt(y.deviceTokens),O=S.next();!O.done;O=S.next())V=O.value,m.setDeviceToken(y.type,V)}catch(oe){$={error:oe}}finally{try{O&&!O.done&&(te=S.return)&&te.call(S)}finally{if($)throw $.error}}return[4,m.saveDeviceToken()];case 2:return J.sent(),[2,y]}})})},s.prototype.getPushTriggerOption=function(){return Z(this,void 0,void 0,function(){var o,i,c,u;return X(this,function(p){switch(p.label){case 0:return o=Ze.of(this._iid),i=o.sdkState,c=o.requestQueue,u=new Fre({userId:i.userId}),[4,c.send(u)];case 1:return[2,p.sent().as(Hre).pushTriggerOption]}})})},s.prototype.setPushTriggerOption=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(Lr(LE,o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Bre({userId:c.userId,pushTriggerOption:o}),[4,u.send(p)];case 1:return[2,m.sent().as(Vre).pushTriggerOption]}})})},s.prototype.getPushTemplate=function(){return Z(this,void 0,void 0,function(){var o,i,c,u;return X(this,function(p){switch(p.label){case 0:return o=Ze.of(this._iid),i=o.sdkState,c=o.requestQueue,u=new zre({userId:i.userId}),[4,c.send(u)];case 1:return[2,p.sent().as(Gre).name]}})})},s.prototype.setPushTemplate=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(Lr(UE,o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new qre({userId:c.userId,templateName:o}),[4,u.send(p)];case 1:return[2,m.sent().as(jre).name]}})})},s.prototype.blockUser=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(o instanceof Ft||Ve("string",o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Ure({userId:c.userId,blockedUserId:o instanceof Ft?o.userId:o}),[4,u.send(p)];case 1:return m.sent(),[2]}})})},s.prototype.blockUserWithUserId=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,this.blockUser(o)]})})},s.prototype.unblockUser=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(o instanceof Ft||Ve("string",o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Pre({userId:c.userId,unblockedUserId:o instanceof Ft?o.userId:o}),[4,u.send(p)];case 1:return m.sent(),[2]}})})},s.prototype.unblockUserWithUserId=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,this.unblockUser(o)]})})},s.prototype.getFriendChangeLogsByToken=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(Ve("string",o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new $re({userId:c.userId,token:o}),[4,u.send(p)];case 1:return[2,m.sent().as(Wre).changelogs]}})})},s.prototype.getAllowFriendDiscovery=function(){return Z(this,void 0,void 0,function(){var o,i,c,u;return X(this,function(p){switch(p.label){case 0:return o=Ze.of(this._iid),i=o.sdkState,c=o.requestQueue,u=new eie({userId:i.userId}),[4,c.send(u)];case 1:return[2,p.sent().as(nie).allowFriendDiscovery]}})})},s.prototype.setAllowFriendDiscovery=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(Ve("boolean",o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new tie({userId:c.userId,allowFriendDiscovery:o}),[4,u.send(p)];case 1:return m.sent(),[2,o]}})})},s.prototype.uploadFriendDiscoveries=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Kre({userId:c.userId,discoveries:o}),[4,u.send(p)];case 1:return[2,m.sent().as(Qre).friendDiscoveryRequestId]}})})},s.prototype.deleteFriendDiscovery=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,this.deleteFriendDiscoveries([o])]})})},s.prototype.deleteFriendDiscoveries=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(ar("string",o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Yre({userId:c.userId,discoveryKeys:o}),[4,u.send(p)];case 1:return m.sent(),[2]}})})},s.prototype.addFriends=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(ar("string",o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Xre({userId:c.userId,userIds:o}),[4,u.send(p)];case 1:return[2,m.sent().as(Zre).users]}})})},s.prototype.deleteFriend=function(o){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,this.deleteFriends([o])]})})},s.prototype.deleteFriends=function(o){return Z(this,void 0,void 0,function(){var i,c,u,p;return X(this,function(m){switch(m.label){case 0:return Pn(ar("string",o)).throw($e.invalidParameters),i=Ze.of(this._iid),c=i.sdkState,u=i.requestQueue,p=new Jre({userId:c.userId,userIds:o}),[4,u.send(p)];case 1:return m.sent(),[2]}})})},s.prototype.getAllEmoji=function(){return Z(this,void 0,void 0,function(){var o,i;return X(this,function(c){switch(c.label){case 0:return o=Ze.of(this._iid).requestQueue,i=new rie,[4,o.send(i)];case 1:return[2,c.sent().as(iie).emojiContainer]}})})},s.prototype.getEmojiCategory=function(o){return Z(this,void 0,void 0,function(){var i,c;return X(this,function(u){switch(u.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new aie({categoryId:o}),[4,i.send(c)];case 1:return[2,u.sent().as(sie).emojiCategory]}})})},s.prototype.getEmoji=function(o){return Z(this,void 0,void 0,function(){var i,c;return X(this,function(u){switch(u.label){case 0:return i=Ze.of(this._iid).requestQueue,c=new oie({key:o}),[4,i.send(c)];case 1:return[2,u.sent().as(lie).emoji]}})})},s.prototype.getUIKitConfiguration=function(){return Z(this,void 0,void 0,function(){var o,i,c;return X(this,function(u){switch(u.label){case 0:return o=Ze.of(this._iid),Pn(o.hasExtension("sb_uikit")).throw($e.notSupportedError),i=o.requestQueue,c=new cie,[4,i.send(c)];case 1:return[2,u.sent().as(die).uikitConfiguration]}})})},s}(),hie=function(s){T(p,s);var o,i,c,u=R(p);function p(m){var v;return g(this,p),(v=u.call(this))._ctx=m,v.wsClient=new rre(l(l({},m),{},{parse:function(b){return Sr.parse(b)}})),v.apiClient=new ire(l(l({},m),{},{parseResponse:function(b,y){return Sr.parseResponse(b,y)}})),v._unsubscriber=v.wsClient.on("command",function(b){v._dispatchEvent("command",b)}),v}return w(p,[{key:"connectWs",value:function(){return this.wsClient.connect()}},{key:"reconnectWs",value:function(){return this.wsClient.startToReconnect()}},{key:"sendAPI",value:function(m){return this.apiClient.send(m)}},{key:"send",value:(c=_(d().mark(function m(v){return d().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this.sendAPI(v));case 1:case"end":return b.stop()}},m,this)})),function(m){return c.apply(this,arguments)})},{key:"sendWithRetry",value:(i=_(d().mark(function m(v){var b,y,S,O,V,$,te=this,J=arguments;return d().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return b=J.length>1&&J[1]!==void 0?J[1]:new DX,y=J.length>2&&J[2]!==void 0?J[2]:{count:0,deferred:new CE},S=y.deferred,O=y.count,oe.prev=3,oe.next=6,this.send(v);case 6:V=oe.sent,S.resolve(V),oe.next=14;break;case 10:oe.prev=10,oe.t0=oe.catch(3),($=b.calcTimeout(O))>0?setTimeout(function(){te.sendWithRetry(v,b,{count:O+1,deferred:S})},$):S.reject(oe.t0);case 14:return oe.abrupt("return",S.promise);case 15:case"end":return oe.stop()}},m,this,[[3,10]])})),function(m){return i.apply(this,arguments)})},{key:"_setSessionKey",value:function(m){this.apiClient.setSessionKey(m),this.wsClient.setSessionKey(m)}},{key:"authenticate",value:(o=_(d().mark(function m(v){var b,y,S,O,V;return d().wrap(function($){for(;;)switch($.prev=$.next){case 0:return b=v.userId,y=v.accessToken,$.prev=1,S={product:BE.LIVE,version:NO,platform:Bp.JS},this._ctx.sb.addSendbirdExtensions([S],{platform:VE.WEB}),$.next=6,this._ctx.sb.connect(b,y);case 6:return O=Sr.createAuth(this._ctx.appId,b,y),$.next=9,this.send(O);case 9:V=$.sent,this._setSessionKey(V.sbcall_session_token),this._ctx.liveEventManager.userId=V.user.user_id,$.next=18;break;case 14:throw $.prev=14,$.t0=$.catch(1),it.error("failed to authenticate user ".concat(b)),$.t0;case 18:case"end":return $.stop()}},m,this,[[1,14]])})),function(m){return o.apply(this,arguments)})},{key:"deauthenticate",value:function(){this.apiClient.clearSessionKey(),this.wsClient.clearSessionKey()}}]),p}(Oo),pie=Sh,fie=Io,_ie=Ut,mie=RangeError,HO=Tn,vie=xm,BO=Io,gie=function(s){var o=fie(_ie(this)),i="",c=pie(s);if(c<0||c==1/0)throw mie("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(o+=o))1&c&&(i+=o);return i},bie=Ut,yie=HO(gie),Eie=HO("".slice),wie=Math.ceil,VO=function(s){return function(o,i,c){var u,p,m=BO(bie(o)),v=vie(i),b=m.length,y=c===void 0?" ":BO(c);return v<=b||y==""?m:((p=yie(y,wie((u=v-b)/y.length))).length>u&&(p=Eie(p,0,u)),s?m+p:p+m)}},xie={start:VO(!1),end:VO(!0)},Sie=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Mn),Tie=xie.start;qr({target:"String",proto:!0,forced:Sie},{padStart:function(s){return Tie(this,s,arguments.length>1?arguments[1]:void 0)}});var zO,z3={VERBOSE:{level:-1,name:ja.VERBOSE,public:!1},DEBUG:{level:1,name:ja.DEBUG,public:!1},INFO:{level:2,name:ja.INFO,public:!0},WARNING:{level:3,name:ja.WARNING,public:!0},ERROR:{level:4,name:ja.ERROR,public:!0},NONE:{level:100,name:ja.NONE,public:!0}},Cie=function(s){T(i,s);var o=R(i);function i(c){return g(this,i),o.call(this,c)}return w(i,[{key:"_getLogType",value:function(c){switch(c){case ja.ERROR:return"error";case ja.WARNING:return"warn";default:return"log"}}},{key:"_getTimeString",value:function(c){var u=c.getFullYear().toString().padStart(2,"0"),p=(c.getMonth()+1).toString().padStart(2,"0"),m=c.getDate().toString().padStart(2,"0"),v=c.getHours().toString().padStart(2,"0"),b=c.getMinutes().toString().padStart(2,"0"),y=c.getSeconds().toString().padStart(2,"0"),S=c.getMilliseconds().toString().padStart(2,"0");return"[".concat(u,".").concat(p,".").concat(m," ").concat(v,":").concat(b,":").concat(y,":").concat(S,"]")}},{key:"_permit",value:function(c){var u=this._getLogType(c),p=new Date;if(this._enabledFor(c)&&console&&console[u]){for(var m,v="".concat(this._getTimeString(p)," [").concat(c,"]"),b=arguments.length,y=new Array(b>1?b-1:0),S=1;S<b;S++)y[S-1]=arguments[S];(m=console)[u].apply(m,[v].concat(y))}}}]),i}(function(){function s(o){g(this,s),this.level=o||ja.NONE}return w(s,[{key:"setLoggerLevel",value:function(o){var i;return(i=z3[o])!==null&&i!==void 0&&i.public&&(this.level=o),this.level}},{key:"_enabledFor",value:function(o){try{return z3[this.level].level<=z3[o].level}catch{return!1}}}]),s}()),Eu="active",a0="passive",wu="hidden",xu="frozen",G3="terminated",GO=function(){return typeof window<"u"&&h(window.safari)==="object"&&window.safari.pushNotification},kie=[[Eu,a0,wu,G3],[Eu,a0,wu,xu],[wu,a0,Eu],[xu,wu],[xu,Eu],[xu,a0]].map(function(s){return s.reduce(function(o,i,c){return o[i]=c,o},{})}),tg=function(){return typeof document>"u"?a0:document.visibilityState===wu?wu:document.hasFocus()?Eu:a0},Iie=function(s){T(i,s);var o=R(i);function i(){var c;return g(this,i),(c=o.call(this))._state=tg(),c._handleEvents=c._handleEvents.bind(M(c)),["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in window?"pagehide":"unload"].forEach(function(u){return addEventListener(u,c._handleEvents,!0)}),GO()&&addEventListener("beforeunload",function(u){c._safariBeforeUnloadTimeout=setTimeout(function(){u.defaultPrevented||u.returnValue.length>0||c._dispatchChangesIfNeeded(u,wu)},0)}),c}return w(i,[{key:"state",get:function(){return this._state}},{key:"pageWasDiscarded",get:function(){return typeof document<"u"&&(document.wasDiscarded||!1)}},{key:"_dispatchChangesIfNeeded",value:function(c,u){if(u!==this._state)for(var p=function(y,S){for(var O,V=0;O=kie[V];++V){var $=O[y],te=O[S];if($>=0&&te>=0&&te>$)return Object.keys(O).slice($,te+1)}return[]}(this._state,u),m=0;m<p.length-1;++m){var v=p[m],b=p[m+1];this._state=b,this._dispatchEvent("statechange",{oldState:v,newState:b,originalEvent:c})}}},{key:"_handleEvents",value:function(c){switch(GO()&&clearTimeout(this._safariBeforeUnloadTimeout),c.type){case"pageshow":case"resume":this._dispatchChangesIfNeeded(c,tg());break;case"focus":this._dispatchChangesIfNeeded(c,Eu);break;case"blur":this._state===Eu&&this._dispatchChangesIfNeeded(c,tg());break;case"pagehide":case"unload":this._dispatchChangesIfNeeded(c,c.persisted?xu:G3);break;case"visibilitychange":this._state!==xu&&this._state!==G3&&this._dispatchChangesIfNeeded(c,tg());break;case"freeze":this._dispatchChangesIfNeeded(c,xu)}}}]),i}(Oo),Nie=function(s){T(i,s);var o=R(i);function i(){var c;return g(this,i),(c=o.call(this))._currentState="active",c._lifecycle=new Iie,c}return w(i,[{key:"_onStateChanged",value:function(c){c.newState!=="hidden"?this._currentState==="hidden"&&this._dispatchEvent("resume"):this._currentState!=="hidden"&&this._dispatchEvent("pause"),this._currentState=c.newState}},{key:"start",value:function(){var c=this;this._lifecycle.addEventListener("statechange",function(u){return c._onStateChanged(u)})}},{key:"stop",value:function(){var c=this;this._lifecycle.removeEventListener("statechange",function(u){return c._onStateChanged(u)})}}]),i}(Oo),Aie=function(){function s(){g(this,s),x(this,"_ctx",{})}var o,i,c,u;return w(s,[{key:"init",value:function(p){var m=p.appId,v=p.chatInstance;this._ctx.sb=v||uie.init({appId:m,modules:[new jte]}),this._visibilityDetector=new Nie,this._consoleLogListener=new Cie(ja.NONE),it.addListener(this._consoleLogListener),this._ctx.appId=m,this._ctx.clientId=De(),this._ctx.commandRouter=new hie(this._ctx),this._ctx.deviceManager=new nre,this._ctx.liveEventManager=new $te(this._ctx)}},{key:"setLoggerLevel",value:function(p){return this._consoleLogListener.setLoggerLevel(p)}},{key:"authenticate",value:(u=_(d().mark(function p(m,v){var b=this;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,this._ctx.commandRouter.authenticate({userId:m,accessToken:v});case 2:return y.next=4,this._ctx.commandRouter.connectWs();case 4:this._visibilityDetector.start(),this._visibilityDetector.on("resume",function(){b._ctx.commandRouter.reconnectWs(),b._ctx.deviceManager.updateStream()});case 6:case"end":return y.stop()}},p,this)})),function(p,m){return u.apply(this,arguments)})},{key:"deauthenticate",value:(c=_(d().mark(function p(){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._ctx.sb.disconnect();case 2:this._ctx.commandRouter.deauthenticate(),this._ctx.liveEventManager.clear(),this._visibilityDetector.stop(),this._visibilityDetector.removeAllEventListeners(),it.removeAllListener();case 7:case"end":return m.stop()}},p,this)})),function(){return c.apply(this,arguments)})},{key:"createLiveEvent",value:(i=_(d().mark(function p(m){return d().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this._ctx.liveEventManager.createLiveEvent(m));case 1:case"end":return v.stop()}},p,this)})),function(p){return i.apply(this,arguments)})},{key:"getLiveEvent",value:(o=_(d().mark(function p(m){return d().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this._ctx.liveEventManager.getLiveEvent(m));case 1:case"end":return v.stop()}},p,this)})),function(p){return o.apply(this,arguments)})},{key:"createLiveEventListQuery",value:function(p){return new pW(p,this._ctx.commandRouter,this._ctx.liveEventManager)}},{key:"useMedia",value:function(p){return this._ctx.deviceManager.useMedia(p)}},{key:"updateMediaDevices",value:function(p){return this._ctx.deviceManager.refreshMediaDevices(p)}},{key:"getCurrentAudioInputDevice",value:function(){return this._ctx.deviceManager.getCurrentAudioInputDevice()}},{key:"getAvailableAudioInputDevices",value:function(){return this._ctx.deviceManager.getAvailableAudioInputDevices()}},{key:"selectAudioInput",value:function(p){return this._ctx.deviceManager.selectDevice("audioinput",p)}},{key:"setAudioInputDeviceChanged",value:function(p){var m=this;if(this._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED"),p)return this._ctx.deviceManager.addSendBirdCallListener("AUDIO_DEVICE_CHANGED",{onAudioInputDeviceChanged:p}),function(){m._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED")}}},{key:"getCurrentVideoInputDevice",value:function(){return this._ctx.deviceManager.getCurrentVideoInputDevice()}},{key:"getAvailableVideoInputDevices",value:function(){return this._ctx.deviceManager.getAvailableVideoInputDevices()}},{key:"selectVideoInput",value:function(p){return this._ctx.deviceManager.selectDevice("videoinput",p)}},{key:"setVideoInputDeviceChanged",value:function(p){var m=this;if(this._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED"),p)return this._ctx.deviceManager.addSendBirdCallListener("VIDEO_DEVICE_CHANGED",{onVideoInputDeviceChanged:p}),function(){m._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED")}}}]),s}(),Oie=new Aie,qO={};zO=function(){function s(O,V){if(!(O instanceof V))throw new TypeError("Cannot call a class as a function")}function o(O,V){for(var $=0;$<V.length;$++){var te=V[$];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(O,te.key,te)}}function i(O,V,$){return V&&o(O.prototype,V),$&&o(O,$),Object.defineProperty(O,"prototype",{writable:!1}),O}function c(O){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},c(O)}function u(O,V){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,te){return $.__proto__=te,$},u(O,V)}function p(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function m(){return m=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(O,V,$){var te=function(oe,xe){for(;!Object.prototype.hasOwnProperty.call(oe,xe)&&(oe=c(oe))!==null;);return oe}(O,V);if(te){var J=Object.getOwnPropertyDescriptor(te,V);return J.get?J.get.call(arguments.length<3?O:$):J.value}},m.apply(this,arguments)}var v=function(){function O(){s(this,O),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(O,[{key:"addEventListener",value:function(V,$,te){V in this.listeners||(this.listeners[V]=[]),this.listeners[V].push({callback:$,options:te})}},{key:"removeEventListener",value:function(V,$){if(V in this.listeners){for(var te=this.listeners[V],J=0,oe=te.length;J<oe;J++)if(te[J].callback===$)return void te.splice(J,1)}}},{key:"dispatchEvent",value:function(V){if(V.type in this.listeners){for(var $=this.listeners[V.type].slice(),te=0,J=$.length;te<J;te++){var oe=$[te];try{oe.callback.call(this,V)}catch(xe){Promise.resolve().then(function(){throw xe})}oe.options&&oe.options.once&&this.removeEventListener(V.type,oe.callback)}return!V.defaultPrevented}}}]),O}(),b=function(O){(function(te,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(J&&J.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),J&&u(te,J)})($,O);var V=function(te){var J=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var oe,xe=c(te);if(J){var Ie=c(this).constructor;oe=Reflect.construct(xe,arguments,Ie)}else oe=xe.apply(this,arguments);return function(Ue,He){if(He&&(typeof He=="object"||typeof He=="function"))return He;if(He!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(Ue)}(this,oe)}}($);function $(){var te;return s(this,$),(te=V.call(this)).listeners||v.call(p(te)),Object.defineProperty(p(te),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(p(te),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(p(te),"reason",{value:void 0,writable:!0,configurable:!0}),te}return i($,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(te){te.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,te)),m(c($.prototype),"dispatchEvent",this).call(this,te)}}]),$}(v),y=function(){function O(){s(this,O),Object.defineProperty(this,"signal",{value:new b,writable:!0,configurable:!0})}return i(O,[{key:"abort",value:function(V){var $;try{$=new Event("abort")}catch{typeof document<"u"?document.createEvent?($=document.createEvent("Event")).initEvent("abort",!1,!1):($=document.createEventObject()).type="abort":$={type:"abort",bubbles:!1,cancelable:!1}}var te=V;if(te===void 0)if(typeof document>"u")(te=new Error("This operation was aborted")).name="AbortError";else try{te=new DOMException("signal is aborted without reason")}catch{(te=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=te,this.signal.dispatchEvent($)}},{key:"toString",value:function(){return"[object AbortController]"}}]),O}();function S(O){return O.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof O.Request=="function"&&!O.Request.prototype.hasOwnProperty("signal")||!O.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(y.prototype[Symbol.toStringTag]="AbortController",b.prototype[Symbol.toStringTag]="AbortSignal"),function(O){if(S(O))if(O.fetch){var V=function(J){typeof J=="function"&&(J={fetch:J});var oe=J,xe=oe.fetch,Ie=oe.Request,Ue=Ie===void 0?xe.Request:Ie,He=oe.AbortController,Ee=oe.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,we=Ee!==void 0&&Ee;if(!S({fetch:xe,Request:Ue,AbortController:He,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:we}))return{fetch:xe,Request:nn};var nn=Ue;(nn&&!nn.prototype.hasOwnProperty("signal")||we)&&((nn=function(We,In){var yt;In&&In.signal&&(yt=In.signal,delete In.signal);var xn=new Ue(We,In);return yt&&Object.defineProperty(xn,"signal",{writable:!1,enumerable:!1,configurable:!0,value:yt}),xn}).prototype=Ue.prototype);var Xe=xe;return{fetch:function(We,In){var yt=nn&&nn.prototype.isPrototypeOf(We)?We.signal:In?In.signal:void 0;if(yt){var xn;try{xn=new DOMException("Aborted","AbortError")}catch{(xn=new Error("Aborted")).name="AbortError"}if(yt.aborted)return Promise.reject(xn);var wn=new Promise(function($n,xt){yt.addEventListener("abort",function(){return xt(xn)},{once:!0})});return In&&In.signal&&delete In.signal,Promise.race([wn,Xe(We,In)])}return Xe(We,In)},Request:nn}}(O),$=V.fetch,te=V.Request;O.fetch=$,O.Request=te,Object.defineProperty(O,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:y}),Object.defineProperty(O,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:b})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}(typeof self<"u"?self:an)},zO();var Rie=r({__proto__:null,default:qO},[qO]),jO={},ha=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||an!==void 0&&an||{},$O="URLSearchParams"in ha,WO="Symbol"in ha&&"iterator"in Symbol,vf="FileReader"in ha&&"Blob"in ha&&function(){try{return new Blob,!0}catch{return!1}}(),KO="FormData"in ha,rg="ArrayBuffer"in ha;if(rg)var Mie=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Die=ArrayBuffer.isView||function(s){return s&&Mie.indexOf(Object.prototype.toString.call(s))>-1};function s0(s){if(typeof s!="string"&&(s=String(s)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(s)||s==="")throw new TypeError('Invalid character in header field name: "'+s+'"');return s.toLowerCase()}function q3(s){return typeof s!="string"&&(s=String(s)),s}function j3(s){var o={next:function(){var i=s.shift();return{done:i===void 0,value:i}}};return WO&&(o[Symbol.iterator]=function(){return o}),o}function ji(s){this.map={},s instanceof ji?s.forEach(function(o,i){this.append(i,o)},this):Array.isArray(s)?s.forEach(function(o){if(o.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+o.length);this.append(o[0],o[1])},this):s&&Object.getOwnPropertyNames(s).forEach(function(o){this.append(o,s[o])},this)}function $3(s){if(!s._noBody)return s.bodyUsed?Promise.reject(new TypeError("Already read")):void(s.bodyUsed=!0)}function QO(s){return new Promise(function(o,i){s.onload=function(){o(s.result)},s.onerror=function(){i(s.error)}})}function Lie(s){var o=new FileReader,i=QO(o);return o.readAsArrayBuffer(s),i}function YO(s){if(s.slice)return s.slice(0);var o=new Uint8Array(s.byteLength);return o.set(new Uint8Array(s)),o.buffer}function XO(){return this.bodyUsed=!1,this._initBody=function(s){var o;this.bodyUsed=this.bodyUsed,this._bodyInit=s,s?typeof s=="string"?this._bodyText=s:vf&&Blob.prototype.isPrototypeOf(s)?this._bodyBlob=s:KO&&FormData.prototype.isPrototypeOf(s)?this._bodyFormData=s:$O&&URLSearchParams.prototype.isPrototypeOf(s)?this._bodyText=s.toString():rg&&vf&&(o=s)&&DataView.prototype.isPrototypeOf(o)?(this._bodyArrayBuffer=YO(s.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):rg&&(ArrayBuffer.prototype.isPrototypeOf(s)||Die(s))?this._bodyArrayBuffer=YO(s):this._bodyText=s=Object.prototype.toString.call(s):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof s=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):$O&&URLSearchParams.prototype.isPrototypeOf(s)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},vf&&(this.blob=function(){var s=$3(this);if(s)return s;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return $3(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(vf)return this.blob().then(Lie);throw new Error("could not read as ArrayBuffer")},this.text=function(){var s,o,i,c,u,p=$3(this);if(p)return p;if(this._bodyBlob)return s=this._bodyBlob,i=QO(o=new FileReader),u=(c=/charset=([A-Za-z0-9_-]+)/.exec(s.type))?c[1]:"utf-8",o.readAsText(s,u),i;if(this._bodyArrayBuffer)return Promise.resolve(function(m){for(var v=new Uint8Array(m),b=new Array(v.length),y=0;y<v.length;y++)b[y]=String.fromCharCode(v[y]);return b.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},KO&&(this.formData=function(){return this.text().then(Pie)}),this.json=function(){return this.text().then(JSON.parse)},this}ji.prototype.append=function(s,o){s=s0(s),o=q3(o);var i=this.map[s];this.map[s]=i?i+", "+o:o},ji.prototype.delete=function(s){delete this.map[s0(s)]},ji.prototype.get=function(s){return s=s0(s),this.has(s)?this.map[s]:null},ji.prototype.has=function(s){return this.map.hasOwnProperty(s0(s))},ji.prototype.set=function(s,o){this.map[s0(s)]=q3(o)},ji.prototype.forEach=function(s,o){for(var i in this.map)this.map.hasOwnProperty(i)&&s.call(o,this.map[i],i,this)},ji.prototype.keys=function(){var s=[];return this.forEach(function(o,i){s.push(i)}),j3(s)},ji.prototype.values=function(){var s=[];return this.forEach(function(o){s.push(o)}),j3(s)},ji.prototype.entries=function(){var s=[];return this.forEach(function(o,i){s.push([i,o])}),j3(s)},WO&&(ji.prototype[Symbol.iterator]=ji.prototype.entries);var Uie=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Su(s,o){if(!(this instanceof Su))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,c,u=(o=o||{}).body;if(s instanceof Su){if(s.bodyUsed)throw new TypeError("Already read");this.url=s.url,this.credentials=s.credentials,o.headers||(this.headers=new ji(s.headers)),this.method=s.method,this.mode=s.mode,this.signal=s.signal,u||s._bodyInit==null||(u=s._bodyInit,s.bodyUsed=!0)}else this.url=String(s);if(this.credentials=o.credentials||this.credentials||"same-origin",!o.headers&&this.headers||(this.headers=new ji(o.headers)),this.method=(c=(i=o.method||this.method||"GET").toUpperCase(),Uie.indexOf(c)>-1?c:i),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal||function(){if("AbortController"in ha)return new AbortController().signal}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&u)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(u),!(this.method!=="GET"&&this.method!=="HEAD"||o.cache!=="no-store"&&o.cache!=="no-cache")){var p=/([?&])_=[^&]*/;p.test(this.url)?this.url=this.url.replace(p,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function Pie(s){var o=new FormData;return s.trim().split("&").forEach(function(i){if(i){var c=i.split("="),u=c.shift().replace(/\+/g," "),p=c.join("=").replace(/\+/g," ");o.append(decodeURIComponent(u),decodeURIComponent(p))}}),o}function _l(s,o){if(!(this instanceof _l))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(o||(o={}),this.type="default",this.status=o.status===void 0?200:o.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=o.statusText===void 0?"":""+o.statusText,this.headers=new ji(o.headers),this.url=o.url||"",this._initBody(s)}Su.prototype.clone=function(){return new Su(this,{body:this._bodyInit})},XO.call(Su.prototype),XO.call(_l.prototype),_l.prototype.clone=function(){return new _l(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ji(this.headers),url:this.url})},_l.error=function(){var s=new _l(null,{status:200,statusText:""});return s.status=0,s.type="error",s};var Fie=[301,302,303,307,308];_l.redirect=function(s,o){if(Fie.indexOf(o)===-1)throw new RangeError("Invalid status code");return new _l(null,{status:o,headers:{location:s}})};var o0=ha.DOMException;try{new o0}catch{(o0=function(o,i){this.message=o,this.name=i;var c=Error(o);this.stack=c.stack}).prototype=Object.create(Error.prototype),o0.prototype.constructor=o0}function ZO(s,o){return new Promise(function(i,c){var u=new Su(s,o);if(u.signal&&u.signal.aborted)return c(new o0("Aborted","AbortError"));var p=new XMLHttpRequest;function m(){p.abort()}if(p.onload=function(){var b,y,S={status:p.status,statusText:p.statusText,headers:(b=p.getAllResponseHeaders()||"",y=new ji,b.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var $=V.split(":"),te=$.shift().trim();if(te){var J=$.join(":").trim();try{y.append(te,J)}catch(oe){console.warn("Response "+oe.message)}}}),y)};S.url="responseURL"in p?p.responseURL:S.headers.get("X-Request-URL");var O="response"in p?p.response:p.responseText;setTimeout(function(){i(new _l(O,S))},0)},p.onerror=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},p.ontimeout=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},p.onabort=function(){setTimeout(function(){c(new o0("Aborted","AbortError"))},0)},p.open(u.method,function(b){try{return b===""&&ha.location.href?ha.location.href:b}catch{return b}}(u.url),!0),u.credentials==="include"?p.withCredentials=!0:u.credentials==="omit"&&(p.withCredentials=!1),"responseType"in p&&(vf?p.responseType="blob":rg&&(p.responseType="arraybuffer")),o&&typeof o.headers=="object"&&!(o.headers instanceof ji||ha.Headers&&o.headers instanceof ha.Headers)){var v=[];Object.getOwnPropertyNames(o.headers).forEach(function(b){v.push(s0(b)),p.setRequestHeader(b,q3(o.headers[b]))}),u.headers.forEach(function(b,y){v.indexOf(y)===-1&&p.setRequestHeader(y,b)})}else u.headers.forEach(function(b,y){p.setRequestHeader(y,b)});u.signal&&(u.signal.addEventListener("abort",m),p.onreadystatechange=function(){p.readyState===4&&u.signal.removeEventListener("abort",m)}),p.send(u._bodyInit===void 0?null:u._bodyInit)})}ZO.polyfill=!0,ha.fetch||(ha.fetch=ZO,ha.Headers=ji,ha.Request=Su,ha.Response=_l);var Hie=r({__proto__:null,default:jO},[jO]);e.CameraOverlayPosition=Bh,e.ErrorCode=oi,e.HostState=sN,e.HostType=Dh,e.LiveEvent=ME,e.LiveEventRole=Uh,e.LiveEventState=aN,e.ParticipantState=DK,e.SendbirdLive=Oie,Object.defineProperty(e,"__esModule",{value:!0})})})(zr,zr.exports);var _oe="sendbird-modal-root";function ka(n,t){t===void 0&&(t={});var e=t.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var moe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbird-modal__mask {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-modal__mask {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__mask {
  background-color: var(--sendbird-dark-overlay-02);
}

.sendbird-modal__container {
  position: relative;
  z-index: 100001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px 24px 24px 24px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-modal__container {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__container {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}

.sendbird-modal__wrapper {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal--header {
  position: relative;
  margin-bottom: 16px;
}
.sendbird-modal--header .sendbird-modal--close {
  display: inline-block;
  position: absolute;
  right: 0;
  top: 0;
}

.sendbird-modal--footer {
  margin-top: 32px;
  text-align: right;
}
.sendbird-modal--footer .sendbird-button:last-child {
  margin-left: 8px;
}`;ka(moe);var voe=function(n){var t=n.children,e=n.isOpen,r=e===void 0?!1:e;n.close;var a=n.modalRoot,l=a===void 0?_oe:a,d=n.className,h=d===void 0?"":d,f=n.modalClassName,_=f===void 0?"":f;if(!r)return null;var g=document.getElementById(l);return um.createPortal(L.createElement("div",{className:"sendbird-modal__wrapper ".concat(h)},L.createElement("div",{className:"sendbird-modal__mask"}),L.createElement("div",{className:"sendbird-modal__container ".concat(_)},t)),g)},Cd=function(n,t){var e=W.useState(!1),r=e[0],a=e[1],l=W.useCallback(function(){return a(!0)},[a]),d=W.useCallback(function(){return a(!1)},[a]),h=function(f){var _=f.children;return L.createElement(voe,{isOpen:r,close:d,className:n,modalClassName:t},_)};return[h,l,d]};function fM(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function gn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(e),!0).forEach(function(r){fd(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):fM(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function fd(n,t,e){return t=boe(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Y0(){return Y0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Y0.apply(this,arguments)}function goe(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function boe(n){var t=goe(n,"string");return typeof t=="symbol"?t:String(t)}const YP=L.createContext({});/*!
 * css-vars-ponyfill
 * v2.4.8
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function fs(){return fs=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},fs.apply(this,arguments)}/*!
 * get-css-data
 * v2.1.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function _M(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={mimeType:t.mimeType||null,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},r=Array.isArray(n)?n:[n],a=Array.apply(null,Array(r.length)).map(function(_){return null});function l(_){var g=typeof _=="string",E=g&&_.trim().charAt(0)==="<";return g&&!E}function d(_,g){e.onError(_,r[g],g)}function h(_,g){var E=e.onSuccess(_,r[g],g);_=E===!1?"":E||_,a[g]=_,a.indexOf(null)===-1&&e.onComplete(a)}var f=document.createElement("a");r.forEach(function(_,g){f.setAttribute("href",_),f.href=String(f.href);var E=!!(document.all&&!window.atob),w=E&&f.host.split(":")[0]!==location.host.split(":")[0];if(w){var x=f.protocol===location.protocol;if(x){var T=new XDomainRequest;T.open("GET",_),T.timeout=0,T.onprogress=Function.prototype,T.ontimeout=Function.prototype,T.onload=function(){var P=T.responseText;l(P)?h(P,g):d(T,g)},T.onerror=function(P){d(T,g)},setTimeout(function(){T.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(_,")")),d(null,g)}else{var N=new XMLHttpRequest;N.open("GET",_),e.mimeType&&N.overrideMimeType&&N.overrideMimeType(e.mimeType),e.onBeforeSend(N,_,g),N.onreadystatechange=function(){if(N.readyState===4){var P=N.responseText;N.status<400&&l(P)||N.status===0&&l(P)?h(P,g):d(N,g)}},N.send()}})}/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function mM(n){var t={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},e={rootElement:n.rootElement||document,include:n.include||'style,link[rel="stylesheet"]',exclude:n.exclude||null,filter:n.filter||null,skipDisabled:n.skipDisabled!==!1,useCSSOM:n.useCSSOM||!1,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.apply(null,e.rootElement.querySelectorAll(e.include)).filter(function(_){return!yoe(_,e.exclude)}),a=Array.apply(null,Array(r.length)).map(function(_){return null});function l(){var _=a.indexOf(null)===-1;if(_){a.reduce(function(E,w,x){return w===""&&E.push(x),E},[]).reverse().forEach(function(E){return[r,a].forEach(function(w){return w.splice(E,1)})});var g=a.join("");e.onComplete(g,a,r)}}function d(_,g,E,w){var x=e.onSuccess(_,E,w);_=x!==void 0&&!x?"":x||_,f(_,E,w,function(T,N){a[g]===null&&(N.forEach(function(P){return e.onError(P.xhr,E,P.url)}),!e.filter||e.filter.test(T)?a[g]=T:a[g]="",l())})}function h(_,g){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],w={};return w.rules=(_.replace(t.cssComments,"").match(t.cssImports)||[]).filter(function(x){return E.indexOf(x)===-1}),w.urls=w.rules.map(function(x){return x.replace(t.cssImports,"$1")}),w.absoluteUrls=w.urls.map(function(x){return Lw(x,g)}),w.absoluteRules=w.rules.map(function(x,T){var N=w.urls[T],P=Lw(w.absoluteUrls[T],g);return x.replace(N,P)}),w}function f(_,g,E,w){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],N=h(_,E,T);N.rules.length?_M(N.absoluteUrls,{onBeforeSend:function(k,C,A){e.onBeforeSend(k,g,C)},onSuccess:function(k,C,A){var U=e.onSuccess(k,g,C);k=U===!1?"":U||k;var M=h(k,C,T);return M.rules.forEach(function(R,I){k=k.replace(R,M.absoluteRules[I])}),k},onError:function(k,C,A){x.push({xhr:k,url:C}),T.push(N.rules[A]),f(_,g,E,w,x,T)},onComplete:function(k){k.forEach(function(C,A){_=_.replace(N.rules[A],C)}),f(_,g,E,w,x,T)}}):w(_,x)}r.length?r.forEach(function(_,g){var E=_.getAttribute("href"),w=_.getAttribute("rel"),x=_.nodeName.toLowerCase()==="link"&&E&&w&&w.toLowerCase().indexOf("stylesheet")!==-1,T=e.skipDisabled===!1?!1:_.disabled,N=_.nodeName.toLowerCase()==="style";if(x&&!T){var P=E.indexOf("data:text/css")!==-1;if(P){var k=decodeURIComponent(E.substring(E.indexOf(",")+1));e.useCSSOM&&(k=Array.apply(null,_.sheet.cssRules).map(function(A){return A.cssText}).join("")),d(k,g,_,location.href)}else _M(E,{mimeType:"text/css",onBeforeSend:function(U,M,R){e.onBeforeSend(U,_,M)},onSuccess:function(U,M,R){var I=Lw(E);d(U,g,_,I)},onError:function(U,M,R){a[g]="",e.onError(U,_,M),l()}})}else if(N&&!T){var C=_.textContent;e.useCSSOM&&(C=Array.apply(null,_.sheet.cssRules).map(function(A){return A.cssText}).join("")),d(C,g,_,location.href)}else a[g]="",l()}):e.onComplete("",[])}function Lw(n,t){var e=document.implementation.createHTMLDocument(""),r=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(r),e.body.appendChild(a),r.href=t||document.baseURI||(document.querySelector("base")||{}).href||location.href,a.href=n,a.href}function yoe(n,t){var e=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return e.call(n,t)}var XP=ZP;function ZP(n,t,e){n instanceof RegExp&&(n=vM(n,e)),t instanceof RegExp&&(t=vM(t,e));var r=JP(n,t,e);return r&&{start:r[0],end:r[1],pre:e.slice(0,r[0]),body:e.slice(r[0]+n.length,r[1]),post:e.slice(r[1]+t.length)}}function vM(n,t){var e=t.match(n);return e?e[0]:null}ZP.range=JP;function JP(n,t,e){var r,a,l,d,h,f=e.indexOf(n),_=e.indexOf(t,f+1),g=f;if(f>=0&&_>0){if(n===t)return[f,_];for(r=[],l=e.length;g>=0&&!h;)g==f?(r.push(g),f=e.indexOf(n,g+1)):r.length==1?h=[r.pop(),_]:(a=r.pop(),a<l&&(l=a,d=_),_=e.indexOf(t,g+1)),g=f<_&&f>=0?f:_;r.length&&(h=[l,d])}return h}function VT(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={preserveStatic:!0,removeComments:!1},r=fs({},e,t),a=[];function l(B){throw new Error("CSS parse error: ".concat(B))}function d(B){var Y=B.exec(n);if(Y)return n=n.slice(Y[0].length),Y}function h(){return d(/^{\s*/)}function f(){return d(/^}/)}function _(){d(/^\s*/)}function g(){if(_(),!(n[0]!=="/"||n[1]!=="*")){for(var B=2;n[B]&&(n[B]!=="*"||n[B+1]!=="/");)B++;if(!n[B])return l("end of comment is missing");var Y=n.slice(2,B);return n=n.slice(B+2),{type:"comment",comment:Y}}}function E(){for(var B=[],Y;Y=g();)B.push(Y);return r.removeComments?[]:B}function w(){for(_();n[0]==="}";)l("extra closing bracket");var B=d(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(B){var Y=B[0].trim(),ue,Q=/\/\*/.test(Y);Q&&(Y=Y.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var _e=/["']\w*,\w*["']/.test(Y);_e&&(Y=Y.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(se){return se.replace(/,/g,"")}));var le=/,/.test(Y);return le?ue=Y.split(/\s*(?![^(]*\)),\s*/):ue=[Y],_e&&(ue=ue.map(function(se){return se.replace(/\u200C/g,",")})),ue}}function x(){if(n[0]==="@")return z();d(/^([;\s]*)+/);var B=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Y=d(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(Y){if(Y=Y[0].trim(),!d(/^:\s*/))return l("property missing ':'");var ue=d(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),Q={type:"declaration",property:Y.replace(B,""),value:ue?ue[0].replace(B,"").trim():""};return d(/^[;\s]*/),Q}}function T(){if(!h())return l("missing '{'");for(var B,Y=E();B=x();)Y.push(B),Y=Y.concat(E());return f()?Y:l("missing '}'")}function N(){_();for(var B=[],Y;Y=d(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)B.push(Y[1]),d(/^,\s*/);if(B.length)return{type:"keyframe",values:B,declarations:T()}}function P(){var B=d(/^@([-\w]+)?keyframes\s*/);if(B){var Y=B[1];if(B=d(/^([-\w]+)\s*/),!B)return l("@keyframes missing name");var ue=B[1];if(!h())return l("@keyframes missing '{'");for(var Q,_e=E();Q=N();)_e.push(Q),_e=_e.concat(E());return f()?{type:"keyframes",name:ue,vendor:Y,keyframes:_e}:l("@keyframes missing '}'")}}function k(){var B=d(/^@page */);if(B){var Y=w()||[];return{type:"page",selectors:Y,declarations:T()}}}function C(){var B=d(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(B){var Y="".concat(B[1],"-").concat(B[2])+(B[3]?"-".concat(B[3]):"");return{type:"page-margin-box",name:Y,declarations:T()}}}function A(){var B=d(/^@font-face\s*/);if(B)return{type:"font-face",declarations:T()}}function U(){var B=d(/^@supports *([^{]+)/);if(B)return{type:"supports",supports:B[1].trim(),rules:fe()}}function M(){var B=d(/^@host\s*/);if(B)return{type:"host",rules:fe()}}function R(){var B=d(/^@media([^{]+)*/);if(B)return{type:"media",media:(B[1]||"").trim(),rules:fe()}}function I(){var B=d(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(B)return{type:"custom-media",name:B[1].trim(),media:B[2].trim()}}function D(){var B=d(/^@([-\w]+)?document *([^{]+)/);if(B)return{type:"document",document:B[2].trim(),vendor:B[1]?B[1].trim():null,rules:fe()}}function q(){var B=d(/^@(import|charset|namespace)\s*([^;]+);/);if(B)return{type:B[1],name:B[2].trim()}}function z(){if(_(),n[0]==="@"){var B=q()||A()||R()||P()||U()||D()||I()||M()||k()||C();if(B&&!r.preserveStatic){var Y=!1;if(B.declarations)Y=B.declarations.some(function(Q){return/var\(/.test(Q.value)});else{var ue=B.keyframes||B.rules||[];Y=ue.some(function(Q){return(Q.declarations||[]).some(function(_e){return/var\(/.test(_e.value)})})}return Y?B:{}}return B}}function ne(){if(!r.preserveStatic){var B=XP("{","}",n);if(B){var Y=/:(?:root|host)(?![.:#(])/.test(B.pre)&&/--\S*\s*:/.test(B.body),ue=/var\(/.test(B.body);if(!Y&&!ue)return n=n.slice(B.end+1),{}}}var Q=w()||[],_e=r.preserveStatic?T():T().filter(function(le){var se=Q.some(function(Me){return/:(?:root|host)(?![.:#(])/.test(Me)})&&/^--\S/.test(le.property),me=/var\(/.test(le.value);return se||me});return Q.length||l("selector missing"),{type:"rule",selectors:Q,declarations:_e}}function fe(B){if(!B&&!h())return l("missing '{'");for(var Y,ue=E();n.length&&(B||n[0]!=="}")&&(Y=z()||ne());)Y.type&&ue.push(Y),ue=ue.concat(E());return!B&&!f()?l("missing '}'"):ue}return{type:"stylesheet",stylesheet:{rules:fe(!0),errors:a}}}function gM(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={parseHost:!1,store:{},onWarning:function(){}},r=fs({},e,t),a=new RegExp(":".concat(r.parseHost?"host":"root","$"));return typeof n=="string"&&(n=VT(n,r)),n.stylesheet.rules.forEach(function(l){l.type!=="rule"||!l.selectors.some(function(d){return a.test(d)})||l.declarations.forEach(function(d,h){var f=d.property,_=d.value;f&&f.indexOf("--")===0&&(r.store[f]=_)})}),r.store}function e9(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e=arguments.length>2?arguments[2]:void 0,r={charset:function(d){return"@charset "+d.name+";"},comment:function(d){return d.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+d.comment+"*/":""},"custom-media":function(d){return"@custom-media "+d.name+" "+d.media+";"},declaration:function(d){return d.property+":"+d.value+";"},document:function(d){return"@"+(d.vendor||"")+"document "+d.document+"{"+a(d.rules)+"}"},"font-face":function(d){return"@font-face{"+a(d.declarations)+"}"},host:function(d){return"@host{"+a(d.rules)+"}"},import:function(d){return"@import "+d.name+";"},keyframe:function(d){return d.values.join(",")+"{"+a(d.declarations)+"}"},keyframes:function(d){return"@"+(d.vendor||"")+"keyframes "+d.name+"{"+a(d.keyframes)+"}"},media:function(d){return"@media "+d.media+"{"+a(d.rules)+"}"},namespace:function(d){return"@namespace "+d.name+";"},page:function(d){return"@page "+(d.selectors.length?d.selectors.join(", "):"")+"{"+a(d.declarations)+"}"},"page-margin-box":function(d){return"@"+d.name+"{"+a(d.declarations)+"}"},rule:function(d){var h=d.declarations;if(h.length)return d.selectors.join(",")+"{"+a(h)+"}"},supports:function(d){return"@supports "+d.supports+"{"+a(d.rules)+"}"}};function a(l){for(var d="",h=0;h<l.length;h++){var f=l[h];e&&e(f);var _=r[f.type](f);_&&(d+=_,_.length&&f.selectors&&(d+=t))}return d}return a(n.stylesheet.rules)}function n9(n,t){n.rules.forEach(function(e){if(e.rules){n9(e,t);return}if(e.keyframes){e.keyframes.forEach(function(r){r.type==="keyframe"&&t(r.declarations,e)});return}e.declarations&&t(e.declarations,n)})}var Eoe="--",woe="var";function xoe(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=fs({},e,t);return typeof n=="string"&&(n=VT(n,r)),n9(n.stylesheet,function(a,l){for(var d=0;d<a.length;d++){var h=a[d],f=h.type,_=h.property,g=h.value;if(f==="declaration"){if(!r.preserveVars&&_&&_.indexOf(Eoe)===0){a.splice(d,1),d--;continue}if(g.indexOf(woe+"(")!==-1){var E=jf(g,r);E!==h.value&&(E=Soe(E),r.preserveVars?(a.splice(d,0,{type:f,property:_,value:E}),d++):h.value=E)}}}}),e9(n)}function Soe(n){var t=/calc\(([^)]+)\)/g;return(n.match(t)||[]).forEach(function(e){var r="calc".concat(e.split("calc").join(""));n=n.replace(e,r)}),n}function jf(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;if(n.indexOf("var(")===-1)return n;var r=XP("(",")",n);function a(d){var h=d.split(",")[0].replace(/[\s\n\t]/g,""),f=(d.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],_=Object.prototype.hasOwnProperty.call(t.variables,h)?String(t.variables[h]):void 0,g=_||(f?String(f):void 0),E=e||d;return _||t.onWarning('variable "'.concat(h,'" is undefined')),g&&g!=="undefined"&&g.length>0?jf(g,t,E):"var(".concat(E,")")}if(r)if(r.pre.slice(-3)==="var"){var l=r.body.trim().length===0;return l?(t.onWarning("var() must contain a non-whitespace string"),n):r.pre.slice(0,-3)+a(r.body)+jf(r.post,t)}else return r.pre+"(".concat(jf(r.body,t),")")+jf(r.post,t);else return n.indexOf("var(")!==-1&&t.onWarning('missing closing ")" in the value "'.concat(n,'"')),n}var j1=typeof window<"u",bM=j1&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),Lu={group:0,job:0},Ig={rootElement:j1?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},xl={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},Ni={dom:{},job:{},user:{}},fb=!1,Gs=null,$f=0,k4=null,I4=!1;/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */function fc(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="cssVars(): ",e=fs({},Ig,n);function r(g,E,w,x){!e.silent&&window.console&&console.error("".concat(t).concat(g,`
`),E),e.onError(g,E,w,x)}function a(g){!e.silent&&window.console&&console.warn("".concat(t).concat(g)),e.onWarning(g)}function l(g){e.onFinally(!!g,bM,Uw()-e.__benchmark)}if(j1){if(e.watch){e.watch=Ig.watch,Toe(e),fc(e);return}else e.watch===!1&&Gs&&(Gs.disconnect(),Gs=null);if(!e.__benchmark){if(fb===e.rootElement){Coe(n);return}var d=[].slice.call(e.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(e.__benchmark=Uw(),e.exclude=[Gs?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",e.exclude].filter(function(g){return g}).join(","),e.variables=Noe(e.variables),d.forEach(function(g){var E=g.nodeName.toLowerCase()==="style"&&g.__cssVars.text,w=E&&g.textContent!==g.__cssVars.text;E&&w&&(g.sheet&&(g.sheet.disabled=!1),g.setAttribute("data-cssvars",""))}),!Gs){var h=[].slice.call(e.rootElement.querySelectorAll('[data-cssvars="out"]'));h.forEach(function(g){var E=g.getAttribute("data-cssvars-group"),w=E?e.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(E,'"]')):null;w||g.parentNode.removeChild(g)}),$f&&d.length<$f&&($f=d.length,Ni.dom={})}}if(document.readyState!=="loading")if(bM&&e.onlyLegacy){var f=!1;if(e.updateDOM){var _=e.rootElement.host||(e.rootElement===document?document.documentElement:e.rootElement);Object.keys(e.variables).forEach(function(g){var E=e.variables[g];f=f||E!==getComputedStyle(_).getPropertyValue(g),_.style.setProperty(g,E)})}l(f)}else!I4&&(e.shadowDOM||e.rootElement.shadowRoot||e.rootElement.host)?mM({rootElement:Ig.rootElement,include:Ig.include,exclude:e.exclude,skipDisabled:!1,onSuccess:function(E,w,x){var T=(w.sheet||{}).disabled&&!w.__cssVars;return T?!1:(E=E.replace(xl.cssComments,"").replace(xl.cssMediaQueries,""),E=(E.match(xl.cssVarDeclRules)||[]).join(""),E||!1)},onComplete:function(E,w,x){gM(E,{store:Ni.dom,onWarning:a}),I4=!0,fc(e)}}):(fb=e.rootElement,mM({rootElement:e.rootElement,include:e.include,exclude:e.exclude,skipDisabled:!1,onBeforeSend:e.onBeforeSend,onError:function(E,w,x){var T=E.responseURL||t9(x,location.href),N=E.statusText?"(".concat(E.statusText,")"):"Unspecified Error"+(E.status===0?" (possibly CORS related)":""),P="CSS XHR Error: ".concat(T," ").concat(E.status," ").concat(N);r(P,w,E,T)},onSuccess:function(E,w,x){var T=(w.sheet||{}).disabled&&!w.__cssVars;if(T)return!1;var N=w.nodeName.toLowerCase()==="link",P=w.nodeName.toLowerCase()==="style"&&E!==w.textContent,k=e.onSuccess(E,w,x);return E=k!==void 0&&!k?"":k||E,e.updateURLs&&(N||P)&&(E=Ioe(E,x)),E},onComplete:function(E,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],T=fs({},Ni.dom,Ni.user),N=!1;if(Ni.job={},x.forEach(function(I,D){var q=w[D];if(I.__cssVars=I.__cssVars||{},I.__cssVars.text=q,xl.cssVars.test(q))try{var z=VT(q,{preserveStatic:e.preserveStatic,removeComments:!0});gM(z,{parseHost:!!e.rootElement.host,store:Ni.dom,onWarning:a}),I.__cssVars.tree=z}catch(ne){r(ne.message,I)}}),fs(Ni.job,Ni.dom),e.updateDOM?(fs(Ni.user,e.variables),fs(Ni.job,Ni.user)):(fs(Ni.job,Ni.user,e.variables),fs(T,e.variables)),N=Lu.job>0&&!!(Object.keys(Ni.job).length>Object.keys(T).length||Object.keys(T).length&&Object.keys(Ni.job).some(function(I){return Ni.job[I]!==T[I]})),N)N4(e.rootElement),fc(e);else{var P=[],k=[],C=!1;if(e.updateDOM&&Lu.job++,x.forEach(function(I,D){var q=!I.__cssVars.tree;if(I.__cssVars.tree)try{xoe(I.__cssVars.tree,fs({},e,{variables:Ni.job,onWarning:a}));var z=e9(I.__cssVars.tree);if(e.updateDOM){var ne=w[D],fe=xl.cssVarFunc.test(ne);if(I.getAttribute("data-cssvars")||I.setAttribute("data-cssvars","src"),z.length&&fe){var B=I.getAttribute("data-cssvars-group")||++Lu.group,Y=z.replace(/\s/g,""),ue=e.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(B,'"]'))||document.createElement("style");C=C||xl.cssKeyframes.test(z),e.preserveStatic&&I.sheet&&(I.sheet.disabled=!0),ue.hasAttribute("data-cssvars")||ue.setAttribute("data-cssvars","out"),Y===I.textContent.replace(/\s/g,"")?(q=!0,ue&&ue.parentNode&&(I.removeAttribute("data-cssvars-group"),ue.parentNode.removeChild(ue))):Y!==ue.textContent.replace(/\s/g,"")&&([I,ue].forEach(function(Q){Q.setAttribute("data-cssvars-job",Lu.job),Q.setAttribute("data-cssvars-group",B)}),ue.textContent=z,P.push(z),k.push(ue),ue.parentNode||I.parentNode.insertBefore(ue,I.nextSibling))}}else I.textContent.replace(/\s/g,"")!==z&&P.push(z)}catch(Q){r(Q.message,I)}q&&I.setAttribute("data-cssvars","skip"),I.hasAttribute("data-cssvars-job")||I.setAttribute("data-cssvars-job",Lu.job)}),$f=e.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,e.shadowDOM){for(var A=[].concat(e.rootElement).concat([].slice.call(e.rootElement.querySelectorAll("*"))),U=0,M;M=A[U];++U)if(M.shadowRoot&&M.shadowRoot.querySelector("style")){var R=fs({},e,{rootElement:M.shadowRoot});fc(R)}}e.updateDOM&&C&&koe(e.rootElement),fb=!1,e.onComplete(P.join(""),k,JSON.parse(JSON.stringify(Ni.job)),Uw()-e.__benchmark),l(k.length)}}}));else document.addEventListener("DOMContentLoaded",function g(E){fc(n),document.removeEventListener("DOMContentLoaded",g)})}}fc.reset=function(){Lu.job=0,Lu.group=0,fb=!1,Gs&&(Gs.disconnect(),Gs=null),$f=0,k4=null,I4=!1;for(var n in Ni)Ni[n]={}};function Toe(n){function t(f){var _=e(f)&&f.hasAttribute("disabled"),g=(f.sheet||{}).disabled;return _||g}function e(f){var _=f.nodeName.toLowerCase()==="link"&&(f.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return _}function r(f){return f.nodeName.toLowerCase()==="style"}function a(f){var _=!1;if(f.type==="attributes"&&e(f.target)&&!t(f.target)){var g=f.attributeName==="disabled",E=f.attributeName==="href",w=f.target.getAttribute("data-cssvars")==="skip",x=f.target.getAttribute("data-cssvars")==="src";g?_=!w&&!x:E&&(w?f.target.setAttribute("data-cssvars",""):x&&N4(n.rootElement,!0),_=!0)}return _}function l(f){var _=!1;if(f.type==="childList"){var g=r(f.target),E=f.target.getAttribute("data-cssvars")==="out";_=g&&!E}return _}function d(f){var _=!1;return f.type==="childList"&&(_=[].slice.call(f.addedNodes).some(function(g){var E=g.nodeType===1,w=E&&g.hasAttribute("data-cssvars"),x=r(g)&&xl.cssVars.test(g.textContent),T=!w&&(e(g)||x);return T&&!t(g)})),_}function h(f){var _=!1;return f.type==="childList"&&(_=[].slice.call(f.removedNodes).some(function(g){var E=g.nodeType===1,w=E&&g.getAttribute("data-cssvars")==="out",x=E&&g.getAttribute("data-cssvars")==="src",T=x;if(x||w){var N=g.getAttribute("data-cssvars-group"),P=n.rootElement.querySelector('[data-cssvars-group="'.concat(N,'"]'));x&&N4(n.rootElement,!0),P&&P.parentNode.removeChild(P)}return T})),_}window.MutationObserver&&(Gs&&(Gs.disconnect(),Gs=null),Gs=new MutationObserver(function(f){var _=f.some(function(g){return a(g)||l(g)||d(g)||h(g)});_&&fc(n)}),Gs.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function Coe(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(k4),k4=setTimeout(function(){n.__benchmark=null,fc(n)},t)}function koe(n){var t=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(w){return getComputedStyle(document.body)[w]})[0];if(t){for(var e=[].slice.call(n.querySelectorAll("*")),r=[],a="__CSSVARSPONYFILL-KEYFRAMES__",l=0,d=e.length;l<d;l++){var h=e[l],f=getComputedStyle(h)[t];f!=="none"&&(h.style[t]+=a,r.push(h))}document.body.offsetHeight;for(var _=0,g=r.length;_<g;_++){var E=r[_].style;E[t]=E[t].replace(a,"")}}}function Ioe(n,t){var e=n.replace(xl.cssComments,"").match(xl.cssUrls)||[];return e.forEach(function(r){var a=r.replace(xl.cssUrls,"$1"),l=t9(a,t);n=n.replace(r,r.replace(a,l))}),n}function Noe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=/^-{2}/;return Object.keys(n).reduce(function(e,r){var a=t.test(r)?r:"--".concat(r.replace(/^-+/,""));return e[a]=n[r],e},{})}function t9(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,e=document.implementation.createHTMLDocument(""),r=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(r),e.body.appendChild(a),r.href=t,a.href=n,a.href}function Uw(){return j1&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function N4(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=[].slice.call(n.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));e.forEach(function(r){return r.setAttribute("data-cssvars","")}),t&&(Ni.dom={})}var r1=Symbol("@ts-pattern/matcher"),yM="@ts-pattern/anonymous-select-key",EM=function(n){return!!(n&&typeof n=="object")},Pw=function(n){return n&&!!n[r1]},Aoe=function n(t,e,r){if(EM(t)){if(Pw(t)){var a=t[r1]().match(e),l=a.matched,d=a.selections;return l&&d&&Object.keys(d).forEach(function(f){return r(f,d[f])}),l}if(!EM(e))return!1;if(Array.isArray(t))return!!Array.isArray(e)&&t.length===e.length&&t.every(function(f,_){return n(f,e[_],r)});if(t instanceof Map)return e instanceof Map&&Array.from(t.keys()).every(function(f){return n(t.get(f),e.get(f),r)});if(t instanceof Set){if(!(e instanceof Set))return!1;if(t.size===0)return e.size===0;if(t.size===1){var h=Array.from(t.values())[0];return Pw(h)?Array.from(e.values()).every(function(f){return n(h,f,r)}):e.has(h)}return Array.from(t.values()).every(function(f){return e.has(f)})}return Object.keys(t).every(function(f){var _,g=t[f];return(f in e||Pw(_=g)&&_[r1]().matcherType==="optional")&&n(g,e[f],r)})}return Object.is(e,t)};function mh(n){var t;return(t={})[r1]=function(){return{match:function(e){return{matched:!!n(e)}}}},t}mh(function(n){return!0});mh(function(n){return typeof n=="string"});mh(function(n){return typeof n=="number"});mh(function(n){return typeof n=="boolean"});mh(function(n){return typeof n=="bigint"});mh(function(n){return typeof n=="symbol"});mh(function(n){return n==null});function $1(n){return new Ooe(n,[])}var Ooe=function(){function n(e,r){this.value=void 0,this.cases=void 0,this.value=e,this.cases=r}var t=n.prototype;return t.with=function(){var e=[].slice.call(arguments),r=e[e.length-1],a=[e[0]],l=[];return e.length===3&&typeof e[1]=="function"?(a.push(e[0]),l.push(e[1])):e.length>2&&a.push.apply(a,e.slice(1,e.length-1)),new n(this.value,this.cases.concat([{match:function(d){var h={},f=!!(a.some(function(_){return Aoe(_,d,function(g,E){h[g]=E})})&&l.every(function(_){return _(d)}));return{matched:f,value:f&&Object.keys(h).length?yM in h?h[yM]:h:d}},handler:r}]))},t.when=function(e,r){return new n(this.value,this.cases.concat([{match:function(a){return{matched:!!e(a),value:a}},handler:r}]))},t.otherwise=function(e){return new n(this.value,this.cases.concat([{match:function(r){return{matched:!0,value:r}},handler:e}])).run()},t.exhaustive=function(){return this.run()},t.run=function(){for(var e=this.value,r=void 0,a=0;a<this.cases.length;a++){var l=this.cases[a],d=l.match(this.value);if(d.matched){e=d.value,r=l.handler;break}}if(!r){var h;try{h=JSON.stringify(this.value)}catch{h=this.value}throw new Error("Pattern matching error: no pattern matches value "+h)}return r(e,this.value)},n}();const d_={INIT_USER:"INIT_USER",RESET_USER:"RESET_USER",UPDATE_USER_INFO:"UPDATE_USER_INFO"};var A4=function(n,t){return A4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])},A4(n,t)};function re(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}A4(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ge=function(){return ge=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n},ge.apply(this,arguments)};function Roe(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]])}return e}function H(n,t,e,r){return new(e||(e=Promise))(function(a,l){function d(_){try{f(r.next(_))}catch(g){l(g)}}function h(_){try{f(r.throw(_))}catch(g){l(g)}}function f(_){var g;_.done?a(_.value):(g=_.value,g instanceof e?g:new e(function(E){E(g)})).then(d,h)}f((r=r.apply(n,t||[])).next())})}function F(n,t){var e,r,a,l,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function h(f){return function(_){return function(g){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(d=0)),d;)try{if(e=1,r&&(a=2&g[0]?r.return:g[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,g[1])).done)return a;switch(r=0,a&&(g=[2&g[0],a.value]),g[0]){case 0:case 1:a=g;break;case 4:return d.label++,{value:g[1],done:!1};case 5:d.label++,r=g[1],g=[0];continue;case 7:g=d.ops.pop(),d.trys.pop();continue;default:if(a=d.trys,!((a=a.length>0&&a[a.length-1])||g[0]!==6&&g[0]!==2)){d=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){d.label=g[1];break}if(g[0]===6&&d.label<a[1]){d.label=a[1],a=g;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(g);break}a[2]&&d.ops.pop(),d.trys.pop();continue}g=t.call(n,d)}catch(E){g=[6,E],r=0}finally{e=a=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([f,_])}}}function Cn(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wn(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r,a,l=e.call(n),d=[];try{for(;(t===void 0||t-- >0)&&!(r=l.next()).done;)d.push(r.value)}catch(h){a={error:h}}finally{try{r&&!r.done&&(e=l.return)&&e.call(l)}finally{if(a)throw a.error}}return d}function nt(n,t,e){if(e||arguments.length===2)for(var r,a=0,l=t.length;a<l;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return n.concat(r||Array.prototype.slice.call(t))}var rt,r9="4.9.7",kd=function(){function n(){}return Object.defineProperty(n,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_VERSION",{get:function(){return r9},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_MAJOR_VERSION",{get:function(){return n.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(n,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),n}();(function(n){n[n.STAT_LOG_NOT_ALLOWED=400108]="STAT_LOG_NOT_ALLOWED",n[n.NON_AUTHORIZED=400108]="NON_AUTHORIZED",n[n.INVALID_TOKEN=400111]="INVALID_TOKEN",n[n.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",n[n.USER_AUTH_DEACTIVATED=400300]="USER_AUTH_DEACTIVATED",n[n.USER_AUTH_DELETED_OR_NOT_FOUND=400301]="USER_AUTH_DELETED_OR_NOT_FOUND",n[n.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",n[n.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",n[n.SESSION_REVOKED=400310]="SESSION_REVOKED",n[n.STAT_UPLOAD_NOT_ALLOWED=403200]="STAT_UPLOAD_NOT_ALLOWED",n[n.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",n[n.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",n[n.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",n[n.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",n[n.LOST_INSTANCE=700100]="LOST_INSTANCE",n[n.CONNECTION_RENEW=700102]="CONNECTION_RENEW",n[n.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",n[n.INVALID_COMMAND=700700]="INVALID_COMMAND",n[n.UNKNOWN_ERROR=77e4]="UNKNOWN_ERROR",n[n.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",n[n.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",n[n.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",n[n.INVALID_PARAMETER=800110]="INVALID_PARAMETER",n[n.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",n[n.NETWORK_ERROR=800120]="NETWORK_ERROR",n[n.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",n[n.MALFORMED_DATA=800130]="MALFORMED_DATA",n[n.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",n[n.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",n[n.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",n[n.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",n[n.ACK_TIMEOUT=800180]="ACK_TIMEOUT",n[n.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",n[n.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",n[n.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",n[n.REQUEST_FAILED=800220]="REQUEST_FAILED",n[n.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",n[n.REQUEST_CANCELED=800240]="REQUEST_CANCELED",n[n.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",n[n.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",n[n.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",n[n.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",n[n.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED",n[n.COLLECTION_DISPOSED=800600]="COLLECTION_DISPOSED",n[n.DATABASE_ERROR=800700]="DATABASE_ERROR"})(rt||(rt={}));var Ha,Gu,Oi,O4,u_,Ko=function(n){return!(n instanceof Oe&&!n.shouldThrowOutside)},Oe=function(n){function t(e){var r=e.code,a=r===void 0?0:r,l=e.message,d=l===void 0?"":l,h=n.call(this,d)||this;return h.shouldThrowOutside=!1,h.name="SendbirdError",h.code=a,Object.setPrototypeOf(h,t.prototype),h}return re(t,n),Object.defineProperty(t.prototype,"isInvalidTokenError",{get:function(){return this.code===rt.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===rt.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===rt.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionRevokedError",{get:function(){return this.code===rt.SESSION_REVOKED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserAuthDeactivedError",{get:function(){return this.code===rt.USER_AUTH_DEACTIVATED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserAuthDeletedOrNotFoundError",{get:function(){return this.code===rt.USER_AUTH_DELETED_OR_NOT_FOUND},enumerable:!1,configurable:!0}),Object.defineProperty(t,"debugModeRequired",{get:function(){return new t({code:rt.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"lostInstance",{get:function(){return new t({code:rt.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidCommand",{get:function(){return new t({code:rt.INVALID_COMMAND,message:"Cannot send invalid command."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"unknown",{get:function(){return new t({code:rt.UNKNOWN_ERROR,message:"Unknown error occurred."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRenew",{get:function(){return new t({code:rt.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidConnectionStateTransition",{get:function(){return new t({code:rt.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRequired",{get:function(){return new t({code:rt.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionCanceled",{get:function(){return new t({code:rt.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidParameters",{get:function(){return new t({code:rt.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"notSupportedError",{get:function(){return new t({code:rt.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"networkError",{get:function(){return new t({code:rt.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"markAsReadAllRateLimitExceeded",{get:function(){return new t({code:rt.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"queryInProgress",{get:function(){return new t({code:rt.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noAckTimeout",{get:function(){return new t({code:rt.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"loginTimeout",{get:function(){return new t({code:rt.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionClosed",{get:function(){return new t({code:rt.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestFailed",{get:function(){return new t({code:rt.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fileUploadCanceled",{get:function(){return new t({code:rt.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestCanceled",{get:function(){return new t({code:rt.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRefreshFailed",{get:function(){return new t({code:rt.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRequestFailed",{get:function(){return new t({code:rt.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseError",{get:function(){return new t({code:rt.DATABASE_ERROR,message:"Database error."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fileSizeLimitExceededError",{get:function(){return new t({code:rt.FILE_SIZE_LIMIT_EXCEEDED,message:"File size exceeds the file size limit."})},enumerable:!1,configurable:!0}),t.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},t}(Error),Moe=[rt.CONNECTION_REQUIRED,rt.NETWORK_ERROR,rt.ACK_TIMEOUT,rt.WEBSOCKET_CONNECTION_CLOSED,rt.WEBSOCKET_CONNECTION_FAILED,rt.FILE_UPLOAD_CANCEL_FAILED,rt.REQUEST_CANCELED,rt.INTERNAL_SERVER_ERROR,rt.RATE_LIMIT_EXCEEDED,rt.UNKNOWN_SERVER_ERROR],Doe=[rt.WEBSOCKET_CONNECTION_CLOSED,rt.WEBSOCKET_CONNECTION_FAILED,rt.CONNECTION_REQUIRED],i9=function(n,t){if(n!==t){var e=ge({},n),r=ge({},t);return(!e.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||e.messageId===r.messageId)&&(!e.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||e.reqId===r.reqId)&&(e.hasOwnProperty("messageId")&&delete e.messageId,e.hasOwnProperty("reqId")&&delete e.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(e)===JSON.stringify(r))}return!0},ye=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||(typeof n!="string"?typeof n=="object"?Et(n,t):Loe(n,t):typeof t===n)},Et=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||Object.values(n).includes(t)},Loe=function(n,t){return t instanceof n},St=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||Array.isArray(t)&&t.every(function(r){return ye(n,r)})},Uoe=function(n){return n>0&&Moe.indexOf(n)>=0},i1=function(n){return n>0&&Doe.indexOf(n)>=0},Li=function(n,t){if(t===void 0&&(t=!1),t&&n==null)return!0;var e=typeof n=="object"&&n!==null&&n.hasOwnProperty("name")&&typeof n.name=="string"&&n.hasOwnProperty("uri")&&typeof n.uri=="string"&&n.hasOwnProperty("type")&&typeof n.type=="string";if(!e){if(typeof Blob<"u")return n instanceof Blob;if(typeof File<"u")return n instanceof File}return e},Poe=function(n,t){if(n===t)return!0;if(n==null||t==null||n.length!==t.length)return!1;for(var e=nt([],Wn(n),!1).sort(),r=nt([],Wn(t),!1).sort(),a=0;a<e.length;++a)if(e[a]!==r[a])return!1;return!0},a9=function(){function n(t){var e=t===void 0?{}:t,r=e.useMemberInfoInMessage,a=r===void 0||r,l=e.typingIndicatorInvalidateTime,d=l===void 0?1e4:l,h=e.typingIndicatorThrottle,f=h===void 0?1e3:h,_=e.websocketResponseTimeout,g=_===void 0?1e4:_,E=e.websocketPayloadDecompression,w=E===void 0||E,x=e.sessionTokenRefreshTimeout,T=x===void 0?60:x;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=a,this._typingIndicatorInvalidateTime=d,this._typingIndicatorThrottle=f,this._websocketResponseTimeout=g,this._sessionTokenRefreshTimeout=T,this.websocketPayloadDecompression=w}return Object.defineProperty(n.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(t){ye("boolean",t)&&(this._useMemberInfoInMessage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(t){ye("number",t)&&(this._typingIndicatorInvalidateTime=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(t){ye("number",t)&&t>=1e3&&t<=9e3&&(this._typingIndicatorThrottle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(t){ye("number",t)&&t>=5e3&&t<=3e4&&(this._websocketResponseTimeout=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(t){ye("number",t)&&(t<60?t=60:t>1800&&(t=1800),this._sessionTokenRefreshTimeout=t)},enumerable:!1,configurable:!0}),n}(),s9={encrypt:function(n){return n},decrypt:function(n){return n}},wM=function(){function n(t){var e=t.store;this._preference=new Map,this._store=e}return n.prototype._savePreferenceKeys=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this._store.set({key:this._keysAddress,value:nt([],Wn(this._preference.keys()),!1)})];case 1:return t.sent(),[2]}})})},n.prototype.init=function(t,e){var r;return e===void 0&&(e=1),H(this,void 0,void 0,function(){var a,l,d,h,f,_,g,E,w,x;return F(this,function(T){switch(T.label){case 0:return this._version=e,this._keysAddress=t,a="".concat(t,".metadata.version"),[4,this._store.get(a)];case 1:return l=T.sent(),[4,this._store.get(t)];case 2:return d=(r=T.sent())!==null&&r!==void 0?r:[],!l||l.version<this._version?[4,this._resetPreferenceData(d,a)]:[3,4];case 3:return T.sent(),[3,11];case 4:T.trys.push([4,9,10,11]),h=Cn(d),f=h.next(),T.label=5;case 5:return f.done?[3,8]:(_=f.value,[4,this._store.get(_)]);case 6:(g=T.sent())&&this._preference.set(_,g),T.label=7;case 7:return f=h.next(),[3,5];case 8:return[3,11];case 9:return E=T.sent(),w={error:E},[3,11];case 10:try{f&&!f.done&&(x=h.return)&&x.call(h)}finally{if(w)throw w.error}return[7];case 11:return[2]}})})},n.prototype._resetPreferenceData=function(t,e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this._preference=new Map,[4,this._store.removeMany(t)];case 1:return r.sent(),[4,this._store.set({key:e,value:{version:this._version}})];case 2:return r.sent(),[2]}})})},n.prototype.get=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this._preference.get(t)]})})},n.prototype.set=function(t,e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=!this._preference.has(t),[4,this._store.set({key:t,value:e})];case 1:return a.sent(),this._preference.set(t,e),r?[4,this._savePreferenceKeys()]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.remove=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._store.remove(t)];case 1:return e.sent(),this._preference.delete(t),[4,this._savePreferenceKeys()];case 2:return e.sent(),[2]}})})},n.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this._store.removeMany(nt([],Wn(this._preference.keys()),!1))];case 1:return t.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}})})},n}(),Foe=function(){function n(t){var e=t.encryption,r=t.store,a=t.localCacheEnabled,l=t.localCacheConfig;this.store=r,this.preference=new wM({store:r}),this.encryption=e??s9,this.localCacheEnabled=a,this.localCacheConfig=l}return n.prototype.replaceStore=function(t){this.store=t,this.preference=new wM({store:t})},n}();(function(n){n.SUCCESS="success",n.PENDING="pending",n.ERROR="error"})(Ha||(Ha={})),function(n){n.DEFAULT="default",n.ALL="all",n.MENTION_ONLY="mention_only",n.OFF="off"}(Gu||(Gu={})),function(n){n.FCM="gcm",n.APNS="apns",n.UNKNOWN="unknown"}(Oi||(Oi={})),function(n){n.ALTERNATIVE="alternative",n.DEFAULT="default"}(O4||(O4={})),function(n){n.CUSTOM="custom",n.MESSAGE_COLLECTION_ACCESSED_AT="messagecollection_accessed_at"}(u_||(u_={}));var Dt,go,Il,Gr,ia,X0,sa,xa,Ld,Fr,Hoe=function(){function n(t){var e=t.channel,r=t.cachedMessageCount;this._cachedMessageCount=0,this._channel=e,this._cachedMessageCount=r}return Object.defineProperty(n.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedMessageCount",{get:function(){return this._cachedMessageCount},enumerable:!1,configurable:!0}),n}(),o9=function(){function n(t){var e=t===void 0?{}:t,r=e.maxSize,a=r===void 0?256:r,l=e.clearOrder,d=l===void 0?u_.MESSAGE_COLLECTION_ACCESSED_AT:l,h=e.customClearOrderComparator;this._clearOrderComparatorUseMessageCollectionAccessedAt=function(f,_){return f.channel.messageCollectionLastAccessedAt===_.channel.messageCollectionLastAccessedAt?f.channel.lastMessage&&!_.channel.lastMessage?1:!f.channel.lastMessage&&_.channel.lastMessage?-1:f.channel.lastMessage||_.channel.lastMessage?f.channel.lastMessage.createdAt-_.channel.lastMessage.createdAt:0:f.channel.messageCollectionLastAccessedAt>_.channel.messageCollectionLastAccessedAt?1:-1},this._maxSize=Math.max(a,64),h?(this._clearOrder=d,this._customClearOrderComparator=h):this._clearOrder=u_.MESSAGE_COLLECTION_ACCESSED_AT}return Object.defineProperty(n.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clearOrder",{get:function(){return this._clearOrder},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clearOrderComparator",{get:function(){var t;return this._clearOrder===u_.MESSAGE_COLLECTION_ACCESSED_AT?this._clearOrderComparatorUseMessageCollectionAccessedAt:(t=this._customClearOrderComparator)!==null&&t!==void 0?t:this._clearOrderComparatorUseMessageCollectionAccessedAt},enumerable:!1,configurable:!0}),n}(),Boe=function(){function n(){}return Object.defineProperty(n.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),n.prototype.clear=function(){this.authToken=void 0,this.sessionKey=void 0},n}(),zd=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(t==="x"?e:3&e|8).toString(16)})},xM=function(){function n(t){var e=t.container;this._container={},this._container=e,this.key=zd()}return n.prototype._register=function(t,e,r){var a;return t in this._container||(this._container[t]=new Map),(a=this._container[t])===null||a===void 0||a.set(this.key,{occurence:e,handler:r}),this},n.prototype.on=function(t,e){return this._register(t,-1,e)},n.prototype.once=function(t,e){return this._register(t,1,e)},n.prototype.close=function(){var t;for(var e in this._container)(t=this._container[e])===null||t===void 0||t.delete(this.key)},n}(),vh=function(){function n(){this._container={}}return n.prototype.on=function(t,e){return new xM({container:this._container}).on(t,e)},n.prototype.once=function(t,e){return new xM({container:this._container}).once(t,e)},n.prototype.dispatch=function(t,e){var r,a,l=this._container[t];if(l){var d=[];try{for(var h=Cn(l.keys()),f=h.next();!f.done;f=h.next()){var _=f.value,g=l.get(_);g.handler(e),g.occurence>0&&(g.occurence--,g.occurence===0&&d.push(_))}}catch(E){r={error:E}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}d.forEach(function(E){return l.delete(E)})}},n}(),Voe=function(){function n(){this._dispatcher=new vh}return n.prototype.on=function(t){return this._dispatcher.on("event",t)},n.prototype.once=function(t){return this._dispatcher.once("event",t)},n.prototype.dispatch=function(t){this._dispatcher.dispatch("event",t)},n}(),ii=function(){},Kn=function(n){var t={};return n&&Object.keys(n).forEach(function(e){n[e]===void 0||Number.isNaN(n[e])||n[e]===null||(t[e]=n[e])}),t},Jn=function(n){if(n!=null){if(typeof n=="object"){if(Array.isArray(n)){var t=nt([],Wn(n),!1);for(var e in t)t[e]=Jn(t[e]);return t}for(var r in n)n[r]===null&&delete n[r];return n}return n}};(function(n){n.BASE="base",n.GROUP="group",n.OPEN="open",n.FEED="feed"})(Dt||(Dt={})),function(n){n.OPERATOR="operator",n.NONE="none"}(go||(go={})),function(n){n.MUTED="muted",n.UNMUTED="unmuted"}(Il||(Il={})),function(n){n.BASE="base",n.USER="user",n.FILE="file",n.ADMIN="admin"}(Gr||(Gr={})),function(n){n.ALL="",n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(ia||(ia={})),function(n){n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(X0||(X0={})),function(n){n.USERS="users",n.CHANNEL="channel"}(sa||(sa={})),function(n){n.ALL="all",n.NONE="none",n.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(xa||(xa={})),function(n){n.DEFAULT="default",n.SUPPRESS="suppress"}(Ld||(Ld={})),function(n){n.PENDING="pending",n.SCHEDULED="scheduled",n.SUCCEEDED="succeeded",n.FAILED="failed",n.CANCELED="canceled"}(Fr||(Fr={}));var pn,xs="v3",Ht="/".concat(xs,"/users"),zoe="/".concat(xs,"/storage/file"),Ia="/".concat(xs,"/group_channels"),Goe="/".concat(xs,"/sdk/group_channels"),gh="/".concat(xs,"/open_channels"),qoe="/".concat(xs,"/sdk/open_channels"),joe="/".concat(xs,"/search"),R4="/".concat(xs,"/report"),$oe="/".concat(xs,"/emojis"),l9="/".concat(xs,"/emoji_categories"),el="/".concat(xs,"/polls"),c9="/".concat(xs,"/scheduled_messages"),Woe="/".concat(xs,"/sdk/ui_kit/configuration"),Koe="/".concat(xs,"/sdk/statistics"),Zt=function(n){switch(n){case Dt.FEED:case Dt.GROUP:return Ia;case Dt.OPEN:return gh;default:return null}},d9=function(n){switch(n){case Dt.GROUP:return"".concat(R4,"/group_channels");case Dt.OPEN:return"".concat(R4,"/open_channels");default:return null}},Z0=function(n,t,e){var r,a;switch(n){case sa.CHANNEL:return!0;case sa.USERS:if(t)try{for(var l=Cn(t),d=l.next();!d.done;d=l.next())if(d.value===e)return!0}catch(h){r={error:h}}finally{try{d&&!d.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}}return!1},zT=function(n,t,e){var r,a,l,d,h=Z0((r=n.mentionType)!==null&&r!==void 0?r:null,(a=n.mentionedUserIds)!==null&&a!==void 0?a:[],e),f=Z0((l=t.mentionType)!==null&&l!==void 0?l:null,(d=t.mentionedUserIds)!==null&&d!==void 0?d:[],e);return!h&&f?1:h&&!f?-1:0},u9=function(n,t,e){var r,a=t||new FormData;for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)){var d=n[l],h=e?"".concat(e,"[").concat(l,"]"):l;Li(d)?a.append(h,d,(r=d.name)!==null&&r!==void 0?r:"filename"):typeof d!="object"||d===null||Array.isArray(d)||d instanceof Blob?a.append(h,String(d)):a=u9(d,a,h)}return a};(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE"})(pn||(pn={}));var Dl,fn=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.params={},e.requireAuth=!0,e.headers={},e.requestId=zd(),e}return re(t,n),t.prototype.encodeParams=function(e){var r=this;return e==null||e===""?encodeURIComponent(""):Array.isArray(e)?e.map(function(a){return r.encodeParams(a)}).join(","):encodeURIComponent(typeof e=="object"?JSON.stringify(e):String(e))},Object.defineProperty(t.prototype,"query",{get:function(){var e=this,r=Kn(this.params);return"?".concat(Object.keys(r).map(function(a){return"".concat(encodeURIComponent(a),"=").concat(e.encodeParams(r[a]))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payload",{get:function(){var e=Kn(this.params);return Object.keys(e).some(function(r){return Li(e[r])})?u9(e):JSON.stringify(e)},enumerable:!1,configurable:!0}),t}(ii),vn=function(n){function t(e,r){var a=n.call(this)||this;return a._iid=e,a._payload=r,a}return re(t,n),Object.defineProperty(t.prototype,"payload",{get:function(){return ge({},this._payload)},enumerable:!1,configurable:!0}),t.prototype.as=function(e){return new e(this._iid,this.payload)},t}(ii),Qoe=function(n){function t(e){var r=n.call(this)||this;return r.requestId=e,r}return re(t,n),t}(ii),hm=function(n){function t(e){var r=e.expires_in,a=e.reason,l=a===void 0?rt.SESSION_KEY_EXPIRED:a,d=n.call(this)||this;switch(d.expiresIn=r??0,l){case rt.SESSION_KEY_EXPIRED:case rt.SESSION_TOKEN_EXPIRED:case rt.SESSION_REVOKED:case rt.USER_AUTH_DEACTIVATED:case rt.USER_AUTH_DELETED_OR_NOT_FOUND:d.error=new Oe({code:l})}return d}return re(t,n),Object.defineProperty(t.prototype,"invalidateSessionToken",{get:function(){var e;return!!(!((e=this.error)===null||e===void 0)&&e.isSessionTokenExpiredError)},enumerable:!1,configurable:!0}),t}(ii),GT=function(n){function t(e){var r=n.call(this)||this;return r.statLog=e,r}return re(t,n),t}(ii);(function(n){n.FEATURE_LOCALCACHE="feature:local_cache",n.WEBSOCKET_CONNECT="ws:connect",n.API_RESULT="api:result"})(Dl||(Dl={}));var h_,Xu,od,J0=function(){function n(t){var e=t.type,r=t.data,a=t.ts,l=a===void 0?Date.now():a;this.type=e,this.createdAt=l,this.data=r}return n.payloadify=function(t){return Kn({stat_type:t.type,ts:t.createdAt,data:Kn(t.data)})},n}(),M4=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},SM=function(){return!(typeof navigator>"u"||!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone/i.test(navigator.userAgent))};(function(n){n.CHAT="chat",n.CALLS="calls",n.DESK="desk",n.LIVE="live",n.UIKIT_CHAT="uikit-chat",n.UIKIT_LIVE="uikit-live"})(h_||(h_={})),function(n){n.ANDROID="android",n.IOS="ios",n.JS="js",n.UNREAL="unreal",n.UNITY="unity",n.REACT_NATIVE="react-native",n.FLUTTER="flutter"}(Xu||(Xu={})),function(n){n.ANDROID="android",n.IOS="ios",n.WEB="web",n.MOBILE_WEB="mobile_web",n.WINDOWS="windows"}(od||(od={}));var Yoe="^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",a1=function(){function n(){}return n.sendbirdSdkUserAgentWithExtension=function(t){var e=M4()?Xu.REACT_NATIVE:Xu.JS,r={main_sdk_info:"chat/".concat(e,"/").concat(kd.SDK_VERSION),device_os_platform:SM()?"mobile-web":"web",os_version:kd.OS_VERSION};if(t){var a=t.sendbirdExtensions,l=t.deviceOS,d=t.customData,h=d===void 0?{}:d;l.version&&(r.os_version=l.version),l.platform&&(r.device_os_platform=l.platform),a.length>0&&(r.extension_sdk_info=a.map(function(f){var _=f.product,g=f.platform,E=f.version;return"".concat(_,"/").concat(g,"/").concat(E)}).join(",")),Object.keys(r).forEach(function(f){return delete h[f]}),Object.keys(h).length>0&&(r=ge(ge({},r),h))}return Object.entries(r).map(function(f){var _=Wn(f,2),g=_[0],E=_[1];return"".concat(g,"=").concat(E)}).join("&")},n.userAgentWithExtension=function(t){var e=M4()?"reactnative":"JS",r=t.sb_syncmanager?"s".concat(t.sb_syncmanager):"",a=t.sb_uikit?"u".concat(t.sb_uikit):"",l=t["device-os-platform"]?"o".concat(t["device-os-platform"]):SM()?"omobile-web":"oweb";return"".concat(e,"/c").concat(kd.SDK_VERSION,"/").concat(r,"/").concat(a,"/").concat(l)},n}(),Xoe=function(){function n(t,e){var r=e.auth,a=e.sdkState,l=e.dispatcher,d=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,_=this;this._abortControl=new Map,this._shouldImportFetchCompat=!1,this._iid=t,this._auth=r,this._sdkState=a,this._dispatcher=l,this._dispatcher.on(function(g){g instanceof Qoe&&_.cancel(g.requestId)}),this._logger=d,this._shouldImportFetchCompat=f}return n.prototype._createHeader=function(t,e){var r=this._sdkState,a=r.appId,l=r.appVersion,d=r.sendbirdRuntimeEnvironment,h=ge(ge({},t.headers),{SendBird:"JS,".concat(kd.OS_VERSION,",").concat(kd.SDK_VERSION,",").concat(a).concat(l?",".concat(l):""),"SB-User-Agent":a1.userAgentWithExtension(this._sdkState.extensions),"Request-Sent-Timestamp":Date.now().toString(),"SB-SDK-User-Agent":a1.sendbirdSdkUserAgentWithExtension(d)});return e||(h["Content-Type"]="application/json; charset=utf-8"),t.requireAuth&&this._auth.hasSession&&(h["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(h["App-Id"]=a,h["Access-Token"]=this._auth.authToken),h},n.prototype._statLogApiResult=function(t,e,r){this._dispatcher.dispatch(new GT(new J0({type:Dl.API_RESULT,data:{endpoint:t.path,method:t.method,success:!r,latency:Date.now()-e,error_code:r==null?void 0:r.code,error_description:r==null?void 0:r.message}})))},n.prototype.send=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g,E,w,x,T,N,P;return F(this,function(k){switch(k.label){case 0:e=t.path,r=t.method,a=![pn.GET,pn.DELETE].includes(r),l=this._sdkState.api,d="".concat(l.host).concat(e).concat(a?"":t.query),h=a?t.payload:null,f=this._createHeader(t,h instanceof FormData?h:void 0),_=new AbortController,g=_.signal,this._abortControl.set(t.requestId,_),E=Date.now(),k.label=1;case 1:return k.trys.push([1,8,,9]),this._shouldImportFetchCompat&&(this._shouldImportFetchCompat=!1,(typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{fetch:null}).fetch=null),typeof AbortController<"u"?[3,3]:[4,Promise.resolve().then(function(){return T2e})];case 2:k.sent(),k.label=3;case 3:return typeof fetch=="function"?[3,5]:[4,Promise.resolve().then(function(){return R2e})];case 4:k.sent(),k.label=5;case 5:return[4,fetch(d,{method:r,body:h,headers:f,signal:g})];case 6:return[4,(w=k.sent()).json()];case 7:if(x=k.sent(),w.ok||w.redirected)return this._logger.debug("receive api response",t.requestId),this._statLogApiResult(t,E),[2,new vn(this._iid,x)];throw x?(((T=new Oe(x)).isSessionKeyExpiredError||T.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new hm({reason:T.code})),this._statLogApiResult(t,E,T),T):(T=Oe.requestFailed,this._statLogApiResult(t,E,T),T);case 8:throw N=k.sent(),this._statLogApiResult(t,E,N),N instanceof Oe?(this._logger.debug("fail api request",N),N):N.name==="AbortError"?Oe.requestCanceled:(P=Oe.networkError,this._logger.debug("fail api request",P),P);case 9:return[2]}})})},n.prototype.cancel=function(t){this._abortControl.has(t)&&(this._abortControl.get(t).abort(),this._abortControl.delete(t))},n.prototype.cancelAll=function(){var t,e;try{for(var r=Cn(this._abortControl.values()),a=r.next();!a.done;a=r.next())a.value.abort()}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this._abortControl.clear()},n}(),br=function(n){function t(e,r,a,l){l===void 0&&(l="");var d,h=this;return(h=n.call(this)||this)._iid=e,h.code=r,h.payload=a,h.requestId=(d=a.req_id)!==null&&d!==void 0?d:l,h}return re(t,n),t.createFromRawMessage=function(e,r){var a=r.substring(0,4),l={};try{l=JSON.parse(r.substring(4))}catch{a="NOOP"}finally{return new t(e,a,l)}},t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},t.prototype.as=function(e){return new e(this._iid,this.code,this.payload)},t}(ii),bt=function(){};function dp(n){let t=n.length;for(;--t>=0;)n[t]=0}const qT=256,h9=286,p_=30,f_=15,D4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_b=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Zoe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),TM=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oc=new Array(576);dp(oc);const __=new Array(60);dp(__);const Q_=new Array(512);dp(Q_);const m_=new Array(256);dp(m_);const jT=new Array(29);dp(jT);const s1=new Array(p_);function Fw(n,t,e,r,a){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=r,this.max_length=a,this.has_stree=n&&n.length}let CM,kM,IM;function Hw(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}dp(s1);const p9=n=>n<256?Q_[n]:Q_[256+(n>>>7)],Y_=(n,t)=>{n.pending_buf[n.pending++]=255&t,n.pending_buf[n.pending++]=t>>>8&255},ms=(n,t,e)=>{n.bi_valid>16-e?(n.bi_buf|=t<<n.bi_valid&65535,Y_(n,n.bi_buf),n.bi_buf=t>>16-n.bi_valid,n.bi_valid+=e-16):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)},Nl=(n,t,e)=>{ms(n,e[2*t],e[2*t+1])},f9=(n,t)=>{let e=0;do e|=1&n,n>>>=1,e<<=1;while(--t>0);return e>>>1},_9=(n,t,e)=>{const r=new Array(16);let a,l,d=0;for(a=1;a<=f_;a++)d=d+e[a-1]<<1,r[a]=d;for(l=0;l<=t;l++){let h=n[2*l+1];h!==0&&(n[2*l]=f9(r[h]++,h))}},m9=n=>{let t;for(t=0;t<h9;t++)n.dyn_ltree[2*t]=0;for(t=0;t<p_;t++)n.dyn_dtree[2*t]=0;for(t=0;t<19;t++)n.bl_tree[2*t]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},v9=n=>{n.bi_valid>8?Y_(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},NM=(n,t,e,r)=>{const a=2*t,l=2*e;return n[a]<n[l]||n[a]===n[l]&&r[t]<=r[e]},Bw=(n,t,e)=>{const r=n.heap[e];let a=e<<1;for(;a<=n.heap_len&&(a<n.heap_len&&NM(t,n.heap[a+1],n.heap[a],n.depth)&&a++,!NM(t,r,n.heap[a],n.depth));)n.heap[e]=n.heap[a],e=a,a<<=1;n.heap[e]=r},AM=(n,t,e)=>{let r,a,l,d,h=0;if(n.sym_next!==0)do r=255&n.pending_buf[n.sym_buf+h++],r+=(255&n.pending_buf[n.sym_buf+h++])<<8,a=n.pending_buf[n.sym_buf+h++],r===0?Nl(n,a,t):(l=m_[a],Nl(n,l+qT+1,t),d=D4[l],d!==0&&(a-=jT[l],ms(n,a,d)),r--,l=p9(r),Nl(n,l,e),d=_b[l],d!==0&&(r-=s1[l],ms(n,r,d)));while(h<n.sym_next);Nl(n,256,t)},Vw=(n,t)=>{const e=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems;let d,h,f,_=-1;for(n.heap_len=0,n.heap_max=573,d=0;d<l;d++)e[2*d]!==0?(n.heap[++n.heap_len]=_=d,n.depth[d]=0):e[2*d+1]=0;for(;n.heap_len<2;)f=n.heap[++n.heap_len]=_<2?++_:0,e[2*f]=1,n.depth[f]=0,n.opt_len--,a&&(n.static_len-=r[2*f+1]);for(t.max_code=_,d=n.heap_len>>1;d>=1;d--)Bw(n,e,d);f=l;do d=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Bw(n,e,1),h=n.heap[1],n.heap[--n.heap_max]=d,n.heap[--n.heap_max]=h,e[2*f]=e[2*d]+e[2*h],n.depth[f]=(n.depth[d]>=n.depth[h]?n.depth[d]:n.depth[h])+1,e[2*d+1]=e[2*h+1]=f,n.heap[1]=f++,Bw(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],((g,E)=>{const w=E.dyn_tree,x=E.max_code,T=E.stat_desc.static_tree,N=E.stat_desc.has_stree,P=E.stat_desc.extra_bits,k=E.stat_desc.extra_base,C=E.stat_desc.max_length;let A,U,M,R,I,D,q=0;for(R=0;R<=f_;R++)g.bl_count[R]=0;for(w[2*g.heap[g.heap_max]+1]=0,A=g.heap_max+1;A<573;A++)U=g.heap[A],R=w[2*w[2*U+1]+1]+1,R>C&&(R=C,q++),w[2*U+1]=R,U>x||(g.bl_count[R]++,I=0,U>=k&&(I=P[U-k]),D=w[2*U],g.opt_len+=D*(R+I),N&&(g.static_len+=D*(T[2*U+1]+I)));if(q!==0){do{for(R=C-1;g.bl_count[R]===0;)R--;g.bl_count[R]--,g.bl_count[R+1]+=2,g.bl_count[C]--,q-=2}while(q>0);for(R=C;R!==0;R--)for(U=g.bl_count[R];U!==0;)M=g.heap[--A],M>x||(w[2*M+1]!==R&&(g.opt_len+=(R-w[2*M+1])*w[2*M],w[2*M+1]=R),U--)}})(n,t),_9(e,_,n.bl_count)},OM=(n,t,e)=>{let r,a,l=-1,d=t[1],h=0,f=7,_=4;for(d===0&&(f=138,_=3),t[2*(e+1)+1]=65535,r=0;r<=e;r++)a=d,d=t[2*(r+1)+1],++h<f&&a===d||(h<_?n.bl_tree[2*a]+=h:a!==0?(a!==l&&n.bl_tree[2*a]++,n.bl_tree[32]++):h<=10?n.bl_tree[34]++:n.bl_tree[36]++,h=0,l=a,d===0?(f=138,_=3):a===d?(f=6,_=3):(f=7,_=4))},RM=(n,t,e)=>{let r,a,l=-1,d=t[1],h=0,f=7,_=4;for(d===0&&(f=138,_=3),r=0;r<=e;r++)if(a=d,d=t[2*(r+1)+1],!(++h<f&&a===d)){if(h<_)do Nl(n,a,n.bl_tree);while(--h!=0);else a!==0?(a!==l&&(Nl(n,a,n.bl_tree),h--),Nl(n,16,n.bl_tree),ms(n,h-3,2)):h<=10?(Nl(n,17,n.bl_tree),ms(n,h-3,3)):(Nl(n,18,n.bl_tree),ms(n,h-11,7));h=0,l=a,d===0?(f=138,_=3):a===d?(f=6,_=3):(f=7,_=4)}};let MM=!1;const g9=(n,t,e,r)=>{ms(n,0+(r?1:0),3),v9(n),Y_(n,e),Y_(n,~e),e&&n.pending_buf.set(n.window.subarray(t,t+e),n.pending),n.pending+=e};var Joe=(n,t,e,r)=>{let a,l,d=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=(h=>{let f,_=4093624447;for(f=0;f<=31;f++,_>>>=1)if(1&_&&h.dyn_ltree[2*f]!==0)return 0;if(h.dyn_ltree[18]!==0||h.dyn_ltree[20]!==0||h.dyn_ltree[26]!==0)return 1;for(f=32;f<qT;f++)if(h.dyn_ltree[2*f]!==0)return 1;return 0})(n)),Vw(n,n.l_desc),Vw(n,n.d_desc),d=(h=>{let f;for(OM(h,h.dyn_ltree,h.l_desc.max_code),OM(h,h.dyn_dtree,h.d_desc.max_code),Vw(h,h.bl_desc),f=18;f>=3&&h.bl_tree[2*TM[f]+1]===0;f--);return h.opt_len+=3*(f+1)+5+5+4,f})(n),a=n.opt_len+3+7>>>3,l=n.static_len+3+7>>>3,l<=a&&(a=l)):a=l=e+5,e+4<=a&&t!==-1?g9(n,t,e,r):n.strategy===4||l===a?(ms(n,2+(r?1:0),3),AM(n,oc,__)):(ms(n,4+(r?1:0),3),((h,f,_,g)=>{let E;for(ms(h,f-257,5),ms(h,_-1,5),ms(h,g-4,4),E=0;E<g;E++)ms(h,h.bl_tree[2*TM[E]+1],3);RM(h,h.dyn_ltree,f-1),RM(h,h.dyn_dtree,_-1)})(n,n.l_desc.max_code+1,n.d_desc.max_code+1,d+1),AM(n,n.dyn_ltree,n.dyn_dtree)),m9(n),r&&v9(n)},ele={_tr_init:n=>{MM||((()=>{let t,e,r,a,l;const d=new Array(16);for(r=0,a=0;a<28;a++)for(jT[a]=r,t=0;t<1<<D4[a];t++)m_[r++]=a;for(m_[r-1]=a,l=0,a=0;a<16;a++)for(s1[a]=l,t=0;t<1<<_b[a];t++)Q_[l++]=a;for(l>>=7;a<p_;a++)for(s1[a]=l<<7,t=0;t<1<<_b[a]-7;t++)Q_[256+l++]=a;for(e=0;e<=f_;e++)d[e]=0;for(t=0;t<=143;)oc[2*t+1]=8,t++,d[8]++;for(;t<=255;)oc[2*t+1]=9,t++,d[9]++;for(;t<=279;)oc[2*t+1]=7,t++,d[7]++;for(;t<=287;)oc[2*t+1]=8,t++,d[8]++;for(_9(oc,287,d),t=0;t<p_;t++)__[2*t+1]=5,__[2*t]=f9(t,5);CM=new Fw(oc,D4,257,h9,f_),kM=new Fw(__,_b,0,p_,f_),IM=new Fw(new Array(0),Zoe,0,19,7)})(),MM=!0),n.l_desc=new Hw(n.dyn_ltree,CM),n.d_desc=new Hw(n.dyn_dtree,kM),n.bl_desc=new Hw(n.bl_tree,IM),n.bi_buf=0,n.bi_valid=0,m9(n)},_tr_stored_block:g9,_tr_flush_block:Joe,_tr_tally:(n,t,e)=>(n.pending_buf[n.sym_buf+n.sym_next++]=t,n.pending_buf[n.sym_buf+n.sym_next++]=t>>8,n.pending_buf[n.sym_buf+n.sym_next++]=e,t===0?n.dyn_ltree[2*e]++:(n.matches++,t--,n.dyn_ltree[2*(m_[e]+qT+1)]++,n.dyn_dtree[2*p9(t)]++),n.sym_next===n.sym_end),_tr_align:n=>{ms(n,2,3),Nl(n,256,oc),(t=>{t.bi_valid===16?(Y_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(n)}},v_=(n,t,e,r)=>{let a=65535&n|0,l=n>>>16&65535|0,d=0;for(;e!==0;){d=e>2e3?2e3:e,e-=d;do a=a+t[r++]|0,l=l+a|0;while(--d);a%=65521,l%=65521}return a|l<<16|0};const nle=new Uint32Array((()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t})());var ea=(n,t,e,r)=>{const a=nle,l=r+e;n^=-1;for(let d=r;d<l;d++)n=n>>>8^a[255&(n^t[d])];return-1^n},lh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:tle,_tr_stored_block:L4,_tr_flush_block:rle,_tr_tally:Id,_tr_align:ile}=ele,{Z_NO_FLUSH:Nd,Z_PARTIAL_FLUSH:ale,Z_FULL_FLUSH:sle,Z_FINISH:_o,Z_BLOCK:DM,Z_OK:_a,Z_STREAM_END:LM,Z_STREAM_ERROR:wl,Z_DATA_ERROR:ole,Z_BUF_ERROR:zw,Z_DEFAULT_COMPRESSION:lle,Z_FILTERED:cle,Z_HUFFMAN_ONLY:Ng,Z_RLE:dle,Z_FIXED:ule,Z_DEFAULT_STRATEGY:hle,Z_UNKNOWN:ple,Z_DEFLATED:o1}=bh,qu=258,Ll=262,V0=42,Uu=113,Wf=666,Pu=(n,t)=>(n.msg=lh[t],t),UM=n=>2*n-(n>4?9:0),ud=n=>{let t=n.length;for(;--t>=0;)n[t]=0},fle=n=>{let t,e,r,a=n.w_size;t=n.hash_size,r=t;do e=n.head[--r],n.head[r]=e>=a?e-a:0;while(--t);t=a,r=t;do e=n.prev[--r],n.prev[r]=e>=a?e-a:0;while(--t)};let Ad=(n,t,e)=>(t<<n.hash_shift^e)&n.hash_mask;const Ps=n=>{const t=n.state;let e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(n.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Vs=(n,t)=>{rle(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,Ps(n.strm)},kr=(n,t)=>{n.pending_buf[n.pending++]=t},Af=(n,t)=>{n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=255&t},U4=(n,t,e,r)=>{let a=n.avail_in;return a>r&&(a=r),a===0?0:(n.avail_in-=a,t.set(n.input.subarray(n.next_in,n.next_in+a),e),n.state.wrap===1?n.adler=v_(n.adler,t,a,e):n.state.wrap===2&&(n.adler=ea(n.adler,t,a,e)),n.next_in+=a,n.total_in+=a,a)},b9=(n,t)=>{let e,r,a=n.max_chain_length,l=n.strstart,d=n.prev_length,h=n.nice_match;const f=n.strstart>n.w_size-Ll?n.strstart-(n.w_size-Ll):0,_=n.window,g=n.w_mask,E=n.prev,w=n.strstart+qu;let x=_[l+d-1],T=_[l+d];n.prev_length>=n.good_match&&(a>>=2),h>n.lookahead&&(h=n.lookahead);do if(e=t,_[e+d]===T&&_[e+d-1]===x&&_[e]===_[l]&&_[++e]===_[l+1]){l+=2,e++;do;while(_[++l]===_[++e]&&_[++l]===_[++e]&&_[++l]===_[++e]&&_[++l]===_[++e]&&_[++l]===_[++e]&&_[++l]===_[++e]&&_[++l]===_[++e]&&_[++l]===_[++e]&&l<w);if(r=qu-(w-l),l=w-qu,r>d){if(n.match_start=t,d=r,r>=h)break;x=_[l+d-1],T=_[l+d]}}while((t=E[t&g])>f&&--a!=0);return d<=n.lookahead?d:n.lookahead},O0=n=>{const t=n.w_size;let e,r,a;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-Ll)&&(n.window.set(n.window.subarray(t,t+t-r),0),n.match_start-=t,n.strstart-=t,n.block_start-=t,n.insert>n.strstart&&(n.insert=n.strstart),fle(n),r+=t),n.strm.avail_in===0)break;if(e=U4(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=e,n.lookahead+n.insert>=3)for(a=n.strstart-n.insert,n.ins_h=n.window[a],n.ins_h=Ad(n,n.ins_h,n.window[a+1]);n.insert&&(n.ins_h=Ad(n,n.ins_h,n.window[a+3-1]),n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<Ll&&n.strm.avail_in!==0)},y9=(n,t)=>{let e,r,a,l=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,d=0,h=n.strm.avail_in;do{if(e=65535,a=n.bi_valid+42>>3,n.strm.avail_out<a||(a=n.strm.avail_out-a,r=n.strstart-n.block_start,e>r+n.strm.avail_in&&(e=r+n.strm.avail_in),e>a&&(e=a),e<l&&(e===0&&t!==_o||t===Nd||e!==r+n.strm.avail_in)))break;d=t===_o&&e===r+n.strm.avail_in?1:0,L4(n,0,0,d),n.pending_buf[n.pending-4]=e,n.pending_buf[n.pending-3]=e>>8,n.pending_buf[n.pending-2]=~e,n.pending_buf[n.pending-1]=~e>>8,Ps(n.strm),r&&(r>e&&(r=e),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+r),n.strm.next_out),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r,n.block_start+=r,e-=r),e&&(U4(n.strm,n.strm.output,n.strm.next_out,e),n.strm.next_out+=e,n.strm.avail_out-=e,n.strm.total_out+=e)}while(d===0);return h-=n.strm.avail_in,h&&(h>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=h&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-h,n.strm.next_in),n.strstart),n.strstart+=h,n.insert+=h>n.w_size-n.insert?n.w_size-n.insert:h),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),d?4:t!==Nd&&t!==_o&&n.strm.avail_in===0&&n.strstart===n.block_start?2:(a=n.window_size-n.strstart,n.strm.avail_in>a&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,a+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),a>n.strm.avail_in&&(a=n.strm.avail_in),a&&(U4(n.strm,n.window,n.strstart,a),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.high_water<n.strstart&&(n.high_water=n.strstart),a=n.bi_valid+42>>3,a=n.pending_buf_size-a>65535?65535:n.pending_buf_size-a,l=a>n.w_size?n.w_size:a,r=n.strstart-n.block_start,(r>=l||(r||t===_o)&&t!==Nd&&n.strm.avail_in===0&&r<=a)&&(e=r>a?a:r,d=t===_o&&n.strm.avail_in===0&&e===r?1:0,L4(n,n.block_start,e,d),n.block_start+=e,Ps(n.strm)),d?3:1)},Gw=(n,t)=>{let e,r;for(;;){if(n.lookahead<Ll){if(O0(n),n.lookahead<Ll&&t===Nd)return 1;if(n.lookahead===0)break}if(e=0,n.lookahead>=3&&(n.ins_h=Ad(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-Ll&&(n.match_length=b9(n,e)),n.match_length>=3)if(r=Id(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){n.match_length--;do n.strstart++,n.ins_h=Ad(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!=0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Ad(n,n.ins_h,n.window[n.strstart+1]);else r=Id(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Vs(n,!1),n.strm.avail_out===0))return 1}return n.insert=n.strstart<2?n.strstart:2,t===_o?(Vs(n,!0),n.strm.avail_out===0?3:4):n.sym_next&&(Vs(n,!1),n.strm.avail_out===0)?1:2},d0=(n,t)=>{let e,r,a;for(;;){if(n.lookahead<Ll){if(O0(n),n.lookahead<Ll&&t===Nd)return 1;if(n.lookahead===0)break}if(e=0,n.lookahead>=3&&(n.ins_h=Ad(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-Ll&&(n.match_length=b9(n,e),n.match_length<=5&&(n.strategy===cle||n.match_length===3&&n.strstart-n.match_start>4096)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){a=n.strstart+n.lookahead-3,r=Id(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=a&&(n.ins_h=Ad(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!=0);if(n.match_available=0,n.match_length=2,n.strstart++,r&&(Vs(n,!1),n.strm.avail_out===0))return 1}else if(n.match_available){if(r=Id(n,0,n.window[n.strstart-1]),r&&Vs(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=Id(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,t===_o?(Vs(n,!0),n.strm.avail_out===0?3:4):n.sym_next&&(Vs(n,!1),n.strm.avail_out===0)?1:2};function gl(n,t,e,r,a){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=r,this.func=a}const Kf=[new gl(0,0,0,0,y9),new gl(4,4,8,4,Gw),new gl(4,5,16,8,Gw),new gl(4,6,32,32,Gw),new gl(4,4,16,16,d0),new gl(8,16,32,32,d0),new gl(8,16,128,128,d0),new gl(8,32,128,256,d0),new gl(32,128,258,1024,d0),new gl(32,258,258,4096,d0)];function _le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=o1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ud(this.dyn_ltree),ud(this.dyn_dtree),ud(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ud(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ud(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Qf=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.status!==V0&&t.status!==57&&t.status!==69&&t.status!==73&&t.status!==91&&t.status!==103&&t.status!==Uu&&t.status!==Wf?1:0},E9=n=>{if(Qf(n))return Pu(n,wl);n.total_in=n.total_out=0,n.data_type=ple;const t=n.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?57:t.wrap?V0:Uu,n.adler=t.wrap===2?0:1,t.last_flush=-2,tle(t),_a},w9=n=>{const t=E9(n);var e;return t===_a&&((e=n.state).window_size=2*e.w_size,ud(e.head),e.max_lazy_match=Kf[e.level].max_lazy,e.good_match=Kf[e.level].good_length,e.nice_match=Kf[e.level].nice_length,e.max_chain_length=Kf[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},PM=(n,t,e,r,a,l)=>{if(!n)return wl;let d=1;if(t===lle&&(t=6),r<0?(d=0,r=-r):r>15&&(d=2,r-=16),a<1||a>9||e!==o1||r<8||r>15||t<0||t>9||l<0||l>ule||r===8&&d!==1)return Pu(n,wl);r===8&&(r=9);const h=new _le;return n.state=h,h.strm=n,h.status=V0,h.wrap=d,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=3*(h.lit_bufsize-1),h.level=t,h.strategy=l,h.method=e,w9(n)};var g_={deflateInit:(n,t)=>PM(n,t,o1,15,8,hle),deflateInit2:PM,deflateReset:w9,deflateResetKeep:E9,deflateSetHeader:(n,t)=>Qf(n)||n.state.wrap!==2?wl:(n.state.gzhead=t,_a),deflate:(n,t)=>{if(Qf(n)||t>DM||t<0)return n?Pu(n,wl):wl;const e=n.state;if(!n.output||n.avail_in!==0&&!n.input||e.status===Wf&&t!==_o)return Pu(n,n.avail_out===0?zw:wl);const r=e.last_flush;if(e.last_flush=t,e.pending!==0){if(Ps(n),n.avail_out===0)return e.last_flush=-1,_a}else if(n.avail_in===0&&UM(t)<=UM(r)&&t!==_o)return Pu(n,zw);if(e.status===Wf&&n.avail_in!==0)return Pu(n,zw);if(e.status===V0&&e.wrap===0&&(e.status=Uu),e.status===V0){let a=o1+(e.w_bits-8<<4)<<8,l=-1;if(l=e.strategy>=Ng||e.level<2?0:e.level<6?1:e.level===6?2:3,a|=l<<6,e.strstart!==0&&(a|=32),a+=31-a%31,Af(e,a),e.strstart!==0&&(Af(e,n.adler>>>16),Af(e,65535&n.adler)),n.adler=1,e.status=Uu,Ps(n),e.pending!==0)return e.last_flush=-1,_a}if(e.status===57){if(n.adler=0,kr(e,31),kr(e,139),kr(e,8),e.gzhead)kr(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),kr(e,255&e.gzhead.time),kr(e,e.gzhead.time>>8&255),kr(e,e.gzhead.time>>16&255),kr(e,e.gzhead.time>>24&255),kr(e,e.level===9?2:e.strategy>=Ng||e.level<2?4:0),kr(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(kr(e,255&e.gzhead.extra.length),kr(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(n.adler=ea(n.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(kr(e,0),kr(e,0),kr(e,0),kr(e,0),kr(e,0),kr(e,e.level===9?2:e.strategy>=Ng||e.level<2?4:0),kr(e,3),e.status=Uu,Ps(n),e.pending!==0)return e.last_flush=-1,_a}if(e.status===69){if(e.gzhead.extra){let a=e.pending,l=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+l>e.pending_buf_size;){let h=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+h),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>a&&(n.adler=ea(n.adler,e.pending_buf,e.pending-a,a)),e.gzindex+=h,Ps(n),e.pending!==0)return e.last_flush=-1,_a;a=0,l-=h}let d=new Uint8Array(e.gzhead.extra);e.pending_buf.set(d.subarray(e.gzindex,e.gzindex+l),e.pending),e.pending+=l,e.gzhead.hcrc&&e.pending>a&&(n.adler=ea(n.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=73}if(e.status===73){if(e.gzhead.name){let a,l=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>l&&(n.adler=ea(n.adler,e.pending_buf,e.pending-l,l)),Ps(n),e.pending!==0)return e.last_flush=-1,_a;l=0}a=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,kr(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>l&&(n.adler=ea(n.adler,e.pending_buf,e.pending-l,l)),e.gzindex=0}e.status=91}if(e.status===91){if(e.gzhead.comment){let a,l=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>l&&(n.adler=ea(n.adler,e.pending_buf,e.pending-l,l)),Ps(n),e.pending!==0)return e.last_flush=-1,_a;l=0}a=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,kr(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>l&&(n.adler=ea(n.adler,e.pending_buf,e.pending-l,l))}e.status=103}if(e.status===103){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(Ps(n),e.pending!==0))return e.last_flush=-1,_a;kr(e,255&n.adler),kr(e,n.adler>>8&255),n.adler=0}if(e.status=Uu,Ps(n),e.pending!==0)return e.last_flush=-1,_a}if(n.avail_in!==0||e.lookahead!==0||t!==Nd&&e.status!==Wf){let a=e.level===0?y9(e,t):e.strategy===Ng?((l,d)=>{let h;for(;;){if(l.lookahead===0&&(O0(l),l.lookahead===0)){if(d===Nd)return 1;break}if(l.match_length=0,h=Id(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,h&&(Vs(l,!1),l.strm.avail_out===0))return 1}return l.insert=0,d===_o?(Vs(l,!0),l.strm.avail_out===0?3:4):l.sym_next&&(Vs(l,!1),l.strm.avail_out===0)?1:2})(e,t):e.strategy===dle?((l,d)=>{let h,f,_,g;const E=l.window;for(;;){if(l.lookahead<=qu){if(O0(l),l.lookahead<=qu&&d===Nd)return 1;if(l.lookahead===0)break}if(l.match_length=0,l.lookahead>=3&&l.strstart>0&&(_=l.strstart-1,f=E[_],f===E[++_]&&f===E[++_]&&f===E[++_])){g=l.strstart+qu;do;while(f===E[++_]&&f===E[++_]&&f===E[++_]&&f===E[++_]&&f===E[++_]&&f===E[++_]&&f===E[++_]&&f===E[++_]&&_<g);l.match_length=qu-(g-_),l.match_length>l.lookahead&&(l.match_length=l.lookahead)}if(l.match_length>=3?(h=Id(l,1,l.match_length-3),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0):(h=Id(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++),h&&(Vs(l,!1),l.strm.avail_out===0))return 1}return l.insert=0,d===_o?(Vs(l,!0),l.strm.avail_out===0?3:4):l.sym_next&&(Vs(l,!1),l.strm.avail_out===0)?1:2})(e,t):Kf[e.level].func(e,t);if(a!==3&&a!==4||(e.status=Wf),a===1||a===3)return n.avail_out===0&&(e.last_flush=-1),_a;if(a===2&&(t===ale?ile(e):t!==DM&&(L4(e,0,0,!1),t===sle&&(ud(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),Ps(n),n.avail_out===0))return e.last_flush=-1,_a}return t!==_o?_a:e.wrap<=0?LM:(e.wrap===2?(kr(e,255&n.adler),kr(e,n.adler>>8&255),kr(e,n.adler>>16&255),kr(e,n.adler>>24&255),kr(e,255&n.total_in),kr(e,n.total_in>>8&255),kr(e,n.total_in>>16&255),kr(e,n.total_in>>24&255)):(Af(e,n.adler>>>16),Af(e,65535&n.adler)),Ps(n),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?_a:LM)},deflateEnd:n=>{if(Qf(n))return wl;const t=n.state.status;return n.state=null,t===Uu?Pu(n,ole):_a},deflateSetDictionary:(n,t)=>{let e=t.length;if(Qf(n))return wl;const r=n.state,a=r.wrap;if(a===2||a===1&&r.status!==V0||r.lookahead)return wl;if(a===1&&(n.adler=v_(n.adler,t,e,0)),r.wrap=0,e>=r.w_size){a===0&&(ud(r.head),r.strstart=0,r.block_start=0,r.insert=0);let f=new Uint8Array(r.w_size);f.set(t.subarray(e-r.w_size,e),0),t=f,e=r.w_size}const l=n.avail_in,d=n.next_in,h=n.input;for(n.avail_in=e,n.next_in=0,n.input=t,O0(r);r.lookahead>=3;){let f=r.strstart,_=r.lookahead-2;do r.ins_h=Ad(r,r.ins_h,r.window[f+3-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++;while(--_);r.strstart=f,r.lookahead=2,O0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,n.next_in=d,n.input=h,n.avail_in=l,r.wrap=a,_a},deflateInfo:"pako deflate (from Nodeca project)"};const mle=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var W1={assign:function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)mle(e,r)&&(n[r]=e[r])}}return n},flattenChunks:n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,l=n.length;r<l;r++){let d=n[r];e.set(d,a),a+=d.length}return e}};let x9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x9=!1}const X_=new Uint8Array(256);for(let n=0;n<256;n++)X_[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;X_[254]=X_[254]=1;var Z_={string2buf:n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,l,d=n.length,h=0;for(a=0;a<d;a++)e=n.charCodeAt(a),(64512&e)==55296&&a+1<d&&(r=n.charCodeAt(a+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),l=0,a=0;l<h;a++)e=n.charCodeAt(a),(64512&e)==55296&&a+1<d&&(r=n.charCodeAt(a+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[l++]=e:e<2048?(t[l++]=192|e>>>6,t[l++]=128|63&e):e<65536?(t[l++]=224|e>>>12,t[l++]=128|e>>>6&63,t[l++]=128|63&e):(t[l++]=240|e>>>18,t[l++]=128|e>>>12&63,t[l++]=128|e>>>6&63,t[l++]=128|63&e);return t},buf2string:(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const l=new Array(2*e);for(a=0,r=0;r<e;){let d=n[r++];if(d<128){l[a++]=d;continue}let h=X_[d];if(h>4)l[a++]=65533,r+=h-1;else{for(d&=h===2?31:h===3?15:7;h>1&&r<e;)d=d<<6|63&n[r++],h--;h>1?l[a++]=65533:d<65536?l[a++]=d:(d-=65536,l[a++]=55296|d>>10&1023,l[a++]=56320|1023&d)}}return((d,h)=>{if(h<65534&&d.subarray&&x9)return String.fromCharCode.apply(null,d.length===h?d:d.subarray(0,h));let f="";for(let _=0;_<h;_++)f+=String.fromCharCode(d[_]);return f})(l,a)},utf8border:(n,t)=>{(t=t||n.length)>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(192&n[e])==128;)e--;return e<0||e===0?t:e+X_[n[e]]>t?e:t}},S9=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const T9=Object.prototype.toString,{Z_NO_FLUSH:vle,Z_SYNC_FLUSH:gle,Z_FULL_FLUSH:ble,Z_FINISH:yle,Z_OK:l1,Z_STREAM_END:Ele,Z_DEFAULT_COMPRESSION:wle,Z_DEFAULT_STRATEGY:xle,Z_DEFLATED:Sle}=bh;function b_(n){this.options=W1.assign({level:wle,method:Sle,chunkSize:16384,windowBits:15,memLevel:8,strategy:xle},n||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S9,this.strm.avail_out=0;let e=g_.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==l1)throw new Error(lh[e]);if(t.header&&g_.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(r=typeof t.dictionary=="string"?Z_.string2buf(t.dictionary):T9.call(t.dictionary)==="[object ArrayBuffer]"?new Uint8Array(t.dictionary):t.dictionary,e=g_.deflateSetDictionary(this.strm,r),e!==l1)throw new Error(lh[e]);this._dict_set=!0}}function qw(n,t){const e=new b_(t);if(e.push(n,!0),e.err)throw e.msg||lh[e.err];return e.result}b_.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize;let a,l;if(this.ended)return!1;for(l=t===~~t?t:t===!0?yle:vle,typeof n=="string"?e.input=Z_.string2buf(n):T9.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;)if(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),(l===gle||l===ble)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(a=g_.deflate(e,l),a===Ele)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),a=g_.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===l1;if(e.avail_out!==0){if(l>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(e.avail_in===0)break}else this.onData(e.output)}return!0},b_.prototype.onData=function(n){this.chunks.push(n)},b_.prototype.onEnd=function(n){n===l1&&(this.result=W1.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var Tle={Deflate:b_,deflate:qw,deflateRaw:function(n,t){return(t=t||{}).raw=!0,qw(n,t)},gzip:function(n,t){return(t=t||{}).gzip=!0,qw(n,t)},constants:bh};const Ag=16209;var Cle=function(n,t){let e,r,a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U,M,R,I,D,q;const z=n.state;e=n.next_in,D=n.input,r=e+(n.avail_in-5),a=n.next_out,q=n.output,l=a-(t-n.avail_out),d=a+(n.avail_out-257),h=z.dmax,f=z.wsize,_=z.whave,g=z.wnext,E=z.window,w=z.hold,x=z.bits,T=z.lencode,N=z.distcode,P=(1<<z.lenbits)-1,k=(1<<z.distbits)-1;e:do{x<15&&(w+=D[e++]<<x,x+=8,w+=D[e++]<<x,x+=8),C=T[w&P];n:for(;;){if(A=C>>>24,w>>>=A,x-=A,A=C>>>16&255,A===0)q[a++]=65535&C;else{if(!(16&A)){if(!(64&A)){C=T[(65535&C)+(w&(1<<A)-1)];continue n}if(32&A){z.mode=16191;break e}n.msg="invalid literal/length code",z.mode=Ag;break e}U=65535&C,A&=15,A&&(x<A&&(w+=D[e++]<<x,x+=8),U+=w&(1<<A)-1,w>>>=A,x-=A),x<15&&(w+=D[e++]<<x,x+=8,w+=D[e++]<<x,x+=8),C=N[w&k];t:for(;;){if(A=C>>>24,w>>>=A,x-=A,A=C>>>16&255,!(16&A)){if(!(64&A)){C=N[(65535&C)+(w&(1<<A)-1)];continue t}n.msg="invalid distance code",z.mode=Ag;break e}if(M=65535&C,A&=15,x<A&&(w+=D[e++]<<x,x+=8,x<A&&(w+=D[e++]<<x,x+=8)),M+=w&(1<<A)-1,M>h){n.msg="invalid distance too far back",z.mode=Ag;break e}if(w>>>=A,x-=A,A=a-l,M>A){if(A=M-A,A>_&&z.sane){n.msg="invalid distance too far back",z.mode=Ag;break e}if(R=0,I=E,g===0){if(R+=f-A,A<U){U-=A;do q[a++]=E[R++];while(--A);R=a-M,I=q}}else if(g<A){if(R+=f+g-A,A-=g,A<U){U-=A;do q[a++]=E[R++];while(--A);if(R=0,g<U){A=g,U-=A;do q[a++]=E[R++];while(--A);R=a-M,I=q}}}else if(R+=g-A,A<U){U-=A;do q[a++]=E[R++];while(--A);R=a-M,I=q}for(;U>2;)q[a++]=I[R++],q[a++]=I[R++],q[a++]=I[R++],U-=3;U&&(q[a++]=I[R++],U>1&&(q[a++]=I[R++]))}else{R=a-M;do q[a++]=q[R++],q[a++]=q[R++],q[a++]=q[R++],U-=3;while(U>2);U&&(q[a++]=q[R++],U>1&&(q[a++]=q[R++]))}break}}break}}while(e<r&&a<d);U=x>>3,e-=U,x-=U<<3,w&=(1<<x)-1,n.next_in=e,n.next_out=a,n.avail_in=e<r?r-e+5:5-(e-r),n.avail_out=a<d?d-a+257:257-(a-d),z.hold=w,z.bits=x};const Og=15,kle=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ile=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Nle=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ale=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var y_=(n,t,e,r,a,l,d,h)=>{const f=h.bits;let _,g,E,w,x,T,N=0,P=0,k=0,C=0,A=0,U=0,M=0,R=0,I=0,D=0,q=null;const z=new Uint16Array(16),ne=new Uint16Array(16);let fe,B,Y,ue=null;for(N=0;N<=Og;N++)z[N]=0;for(P=0;P<r;P++)z[t[e+P]]++;for(A=f,C=Og;C>=1&&z[C]===0;C--);if(A>C&&(A=C),C===0)return a[l++]=20971520,a[l++]=20971520,h.bits=1,0;for(k=1;k<C&&z[k]===0;k++);for(A<k&&(A=k),R=1,N=1;N<=Og;N++)if(R<<=1,R-=z[N],R<0)return-1;if(R>0&&(n===0||C!==1))return-1;for(ne[1]=0,N=1;N<Og;N++)ne[N+1]=ne[N]+z[N];for(P=0;P<r;P++)t[e+P]!==0&&(d[ne[t[e+P]]++]=P);if(n===0?(q=ue=d,T=20):n===1?(q=kle,ue=Ile,T=257):(q=Nle,ue=Ale,T=0),D=0,P=0,N=k,x=l,U=A,M=0,E=-1,I=1<<A,w=I-1,n===1&&I>852||n===2&&I>592)return 1;for(;;){fe=N-M,d[P]+1<T?(B=0,Y=d[P]):d[P]>=T?(B=ue[d[P]-T],Y=q[d[P]-T]):(B=96,Y=0),_=1<<N-M,g=1<<U,k=g;do g-=_,a[x+(D>>M)+g]=fe<<24|B<<16|Y|0;while(g!==0);for(_=1<<N-1;D&_;)_>>=1;if(_!==0?(D&=_-1,D+=_):D=0,P++,--z[N]==0){if(N===C)break;N=t[e+d[P]]}if(N>A&&(D&w)!==E){for(M===0&&(M=A),x+=k,U=N-M,R=1<<U;U+M<C&&(R-=z[U+M],!(R<=0));)U++,R<<=1;if(I+=1<<U,n===1&&I>852||n===2&&I>592)return 1;E=D&w,a[E]=A<<24|U<<16|x-l|0}}return D!==0&&(a[x+D]=N-M<<24|64<<16|0),h.bits=A,0};const{Z_FINISH:FM,Z_BLOCK:Ole,Z_TREES:Rg,Z_OK:Fu,Z_STREAM_END:Rle,Z_NEED_DICT:Mle,Z_STREAM_ERROR:uo,Z_DATA_ERROR:HM,Z_MEM_ERROR:BM,Z_BUF_ERROR:Dle,Z_DEFLATED:VM}=bh,K1=16180,Mg=16190,tc=16191,jw=16192,$w=16194,Dg=16199,Lg=16200,Ww=16206,ci=16209,zM=n=>(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24);function Lle(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ju=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<K1||t.mode>16211?1:0},C9=n=>{if(ju(n))return uo;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=1&t.wrap),t.mode=K1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Fu},k9=n=>{if(ju(n))return uo;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,C9(n)},I9=(n,t)=>{let e;if(ju(n))return uo;const r=n.state;return t<0?(e=0,t=-t):(e=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?uo:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,k9(n))},GM=(n,t)=>{if(!n)return uo;const e=new Lle;n.state=e,e.strm=n,e.window=null,e.mode=K1;const r=I9(n,t);return r!==Fu&&(n.state=null),r};let Kw,Qw,qM=!0;const Ule=n=>{if(qM){Kw=new Int32Array(512),Qw=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(y_(1,n.lens,0,288,Kw,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;y_(2,n.lens,0,32,Qw,0,n.work,{bits:5}),qM=!1}n.lencode=Kw,n.lenbits=9,n.distcode=Qw,n.distbits=5},jM=(n,t,e,r)=>{let a;const l=n.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),r>=l.wsize?(l.window.set(t.subarray(e-l.wsize,e),0),l.wnext=0,l.whave=l.wsize):(a=l.wsize-l.wnext,a>r&&(a=r),l.window.set(t.subarray(e-r,e-r+a),l.wnext),(r-=a)?(l.window.set(t.subarray(e-r,e),0),l.wnext=r,l.whave=l.wsize):(l.wnext+=a,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=a))),0};var hc={inflateReset:k9,inflateReset2:I9,inflateResetKeep:C9,inflateInit:n=>GM(n,15),inflateInit2:GM,inflate:(n,t)=>{let e,r,a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U,M,R,I,D=0;const q=new Uint8Array(4);let z,ne;const fe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ju(n)||!n.output||!n.input&&n.avail_in!==0)return uo;e=n.state,e.mode===tc&&(e.mode=jw),d=n.next_out,a=n.output,f=n.avail_out,l=n.next_in,r=n.input,h=n.avail_in,_=e.hold,g=e.bits,E=h,w=f,I=Fu;e:for(;;)switch(e.mode){case K1:if(e.wrap===0){e.mode=jw;break}for(;g<16;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if(2&e.wrap&&_===35615){e.wbits===0&&(e.wbits=15),e.check=0,q[0]=255&_,q[1]=_>>>8&255,e.check=ea(e.check,q,2,0),_=0,g=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&_)<<8)+(_>>8))%31){n.msg="incorrect header check",e.mode=ci;break}if((15&_)!==VM){n.msg="unknown compression method",e.mode=ci;break}if(_>>>=4,g-=4,R=8+(15&_),e.wbits===0&&(e.wbits=R),R>15||R>e.wbits){n.msg="invalid window size",e.mode=ci;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=512&_?16189:tc,_=0,g=0;break;case 16181:for(;g<16;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if(e.flags=_,(255&e.flags)!==VM){n.msg="unknown compression method",e.mode=ci;break}if(57344&e.flags){n.msg="unknown header flags set",e.mode=ci;break}e.head&&(e.head.text=_>>8&1),512&e.flags&&4&e.wrap&&(q[0]=255&_,q[1]=_>>>8&255,e.check=ea(e.check,q,2,0)),_=0,g=0,e.mode=16182;case 16182:for(;g<32;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}e.head&&(e.head.time=_),512&e.flags&&4&e.wrap&&(q[0]=255&_,q[1]=_>>>8&255,q[2]=_>>>16&255,q[3]=_>>>24&255,e.check=ea(e.check,q,4,0)),_=0,g=0,e.mode=16183;case 16183:for(;g<16;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}e.head&&(e.head.xflags=255&_,e.head.os=_>>8),512&e.flags&&4&e.wrap&&(q[0]=255&_,q[1]=_>>>8&255,e.check=ea(e.check,q,2,0)),_=0,g=0,e.mode=16184;case 16184:if(1024&e.flags){for(;g<16;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}e.length=_,e.head&&(e.head.extra_len=_),512&e.flags&&4&e.wrap&&(q[0]=255&_,q[1]=_>>>8&255,e.check=ea(e.check,q,2,0)),_=0,g=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(x=e.length,x>h&&(x=h),x&&(e.head&&(R=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(l,l+x),R)),512&e.flags&&4&e.wrap&&(e.check=ea(e.check,r,x,l)),h-=x,l+=x,e.length-=x),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(h===0)break e;x=0;do R=r[l+x++],e.head&&R&&e.length<65536&&(e.head.name+=String.fromCharCode(R));while(R&&x<h);if(512&e.flags&&4&e.wrap&&(e.check=ea(e.check,r,x,l)),h-=x,l+=x,R)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(h===0)break e;x=0;do R=r[l+x++],e.head&&R&&e.length<65536&&(e.head.comment+=String.fromCharCode(R));while(R&&x<h);if(512&e.flags&&4&e.wrap&&(e.check=ea(e.check,r,x,l)),h-=x,l+=x,R)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;g<16;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if(4&e.wrap&&_!==(65535&e.check)){n.msg="header crc mismatch",e.mode=ci;break}_=0,g=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=tc;break;case 16189:for(;g<32;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}n.adler=e.check=zM(_),_=0,g=0,e.mode=Mg;case Mg:if(e.havedict===0)return n.next_out=d,n.avail_out=f,n.next_in=l,n.avail_in=h,e.hold=_,e.bits=g,Mle;n.adler=e.check=1,e.mode=tc;case tc:if(t===Ole||t===Rg)break e;case jw:if(e.last){_>>>=7&g,g-=7&g,e.mode=Ww;break}for(;g<3;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}switch(e.last=1&_,_>>>=1,g-=1,3&_){case 0:e.mode=16193;break;case 1:if(Ule(e),e.mode=Dg,t===Rg){_>>>=2,g-=2;break e}break;case 2:e.mode=16196;break;case 3:n.msg="invalid block type",e.mode=ci}_>>>=2,g-=2;break;case 16193:for(_>>>=7&g,g-=7&g;g<32;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if((65535&_)!=(_>>>16^65535)){n.msg="invalid stored block lengths",e.mode=ci;break}if(e.length=65535&_,_=0,g=0,e.mode=$w,t===Rg)break e;case $w:e.mode=16195;case 16195:if(x=e.length,x){if(x>h&&(x=h),x>f&&(x=f),x===0)break e;a.set(r.subarray(l,l+x),d),h-=x,l+=x,f-=x,d+=x,e.length-=x;break}e.mode=tc;break;case 16196:for(;g<14;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if(e.nlen=257+(31&_),_>>>=5,g-=5,e.ndist=1+(31&_),_>>>=5,g-=5,e.ncode=4+(15&_),_>>>=4,g-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=ci;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;g<3;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}e.lens[fe[e.have++]]=7&_,_>>>=3,g-=3}for(;e.have<19;)e.lens[fe[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,z={bits:e.lenbits},I=y_(0,e.lens,0,19,e.lencode,0,e.work,z),e.lenbits=z.bits,I){n.msg="invalid code lengths set",e.mode=ci;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;D=e.lencode[_&(1<<e.lenbits)-1],P=D>>>24,k=D>>>16&255,C=65535&D,!(P<=g);){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if(C<16)_>>>=P,g-=P,e.lens[e.have++]=C;else{if(C===16){for(ne=P+2;g<ne;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if(_>>>=P,g-=P,e.have===0){n.msg="invalid bit length repeat",e.mode=ci;break}R=e.lens[e.have-1],x=3+(3&_),_>>>=2,g-=2}else if(C===17){for(ne=P+3;g<ne;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}_>>>=P,g-=P,R=0,x=3+(7&_),_>>>=3,g-=3}else{for(ne=P+7;g<ne;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}_>>>=P,g-=P,R=0,x=11+(127&_),_>>>=7,g-=7}if(e.have+x>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=ci;break}for(;x--;)e.lens[e.have++]=R}}if(e.mode===ci)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=ci;break}if(e.lenbits=9,z={bits:e.lenbits},I=y_(1,e.lens,0,e.nlen,e.lencode,0,e.work,z),e.lenbits=z.bits,I){n.msg="invalid literal/lengths set",e.mode=ci;break}if(e.distbits=6,e.distcode=e.distdyn,z={bits:e.distbits},I=y_(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,z),e.distbits=z.bits,I){n.msg="invalid distances set",e.mode=ci;break}if(e.mode=Dg,t===Rg)break e;case Dg:e.mode=Lg;case Lg:if(h>=6&&f>=258){n.next_out=d,n.avail_out=f,n.next_in=l,n.avail_in=h,e.hold=_,e.bits=g,Cle(n,w),d=n.next_out,a=n.output,f=n.avail_out,l=n.next_in,r=n.input,h=n.avail_in,_=e.hold,g=e.bits,e.mode===tc&&(e.back=-1);break}for(e.back=0;D=e.lencode[_&(1<<e.lenbits)-1],P=D>>>24,k=D>>>16&255,C=65535&D,!(P<=g);){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if(k&&!(240&k)){for(A=P,U=k,M=C;D=e.lencode[M+((_&(1<<A+U)-1)>>A)],P=D>>>24,k=D>>>16&255,C=65535&D,!(A+P<=g);){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}_>>>=A,g-=A,e.back+=A}if(_>>>=P,g-=P,e.back+=P,e.length=C,k===0){e.mode=16205;break}if(32&k){e.back=-1,e.mode=tc;break}if(64&k){n.msg="invalid literal/length code",e.mode=ci;break}e.extra=15&k,e.mode=16201;case 16201:if(e.extra){for(ne=e.extra;g<ne;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}e.length+=_&(1<<e.extra)-1,_>>>=e.extra,g-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;D=e.distcode[_&(1<<e.distbits)-1],P=D>>>24,k=D>>>16&255,C=65535&D,!(P<=g);){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if(!(240&k)){for(A=P,U=k,M=C;D=e.distcode[M+((_&(1<<A+U)-1)>>A)],P=D>>>24,k=D>>>16&255,C=65535&D,!(A+P<=g);){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}_>>>=A,g-=A,e.back+=A}if(_>>>=P,g-=P,e.back+=P,64&k){n.msg="invalid distance code",e.mode=ci;break}e.offset=C,e.extra=15&k,e.mode=16203;case 16203:if(e.extra){for(ne=e.extra;g<ne;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}e.offset+=_&(1<<e.extra)-1,_>>>=e.extra,g-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=ci;break}e.mode=16204;case 16204:if(f===0)break e;if(x=w-f,e.offset>x){if(x=e.offset-x,x>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=ci;break}x>e.wnext?(x-=e.wnext,T=e.wsize-x):T=e.wnext-x,x>e.length&&(x=e.length),N=e.window}else N=a,T=d-e.offset,x=e.length;x>f&&(x=f),f-=x,e.length-=x;do a[d++]=N[T++];while(--x);e.length===0&&(e.mode=Lg);break;case 16205:if(f===0)break e;a[d++]=e.length,f--,e.mode=Lg;break;case Ww:if(e.wrap){for(;g<32;){if(h===0)break e;h--,_|=r[l++]<<g,g+=8}if(w-=f,n.total_out+=w,e.total+=w,4&e.wrap&&w&&(n.adler=e.check=e.flags?ea(e.check,a,w,d-w):v_(e.check,a,w,d-w)),w=f,4&e.wrap&&(e.flags?_:zM(_))!==e.check){n.msg="incorrect data check",e.mode=ci;break}_=0,g=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;g<32;){if(h===0)break e;h--,_+=r[l++]<<g,g+=8}if(4&e.wrap&&_!==(4294967295&e.total)){n.msg="incorrect length check",e.mode=ci;break}_=0,g=0}e.mode=16208;case 16208:I=Rle;break e;case ci:I=HM;break e;case 16210:return BM;default:return uo}return n.next_out=d,n.avail_out=f,n.next_in=l,n.avail_in=h,e.hold=_,e.bits=g,(e.wsize||w!==n.avail_out&&e.mode<ci&&(e.mode<Ww||t!==FM))&&jM(n,n.output,n.next_out,w-n.avail_out),E-=n.avail_in,w-=n.avail_out,n.total_in+=E,n.total_out+=w,e.total+=w,4&e.wrap&&w&&(n.adler=e.check=e.flags?ea(e.check,a,w,n.next_out-w):v_(e.check,a,w,n.next_out-w)),n.data_type=e.bits+(e.last?64:0)+(e.mode===tc?128:0)+(e.mode===Dg||e.mode===$w?256:0),(E===0&&w===0||t===FM)&&I===Fu&&(I=Dle),I},inflateEnd:n=>{if(ju(n))return uo;let t=n.state;return t.window&&(t.window=null),n.state=null,Fu},inflateGetHeader:(n,t)=>{if(ju(n))return uo;const e=n.state;return 2&e.wrap?(e.head=t,t.done=!1,Fu):uo},inflateSetDictionary:(n,t)=>{const e=t.length;let r,a,l;return ju(n)?uo:(r=n.state,r.wrap!==0&&r.mode!==Mg?uo:r.mode===Mg&&(a=1,a=v_(a,t,e,0),a!==r.check)?HM:(l=jM(n,t,e,e),l?(r.mode=16210,BM):(r.havedict=1,Fu)))},inflateInfo:"pako inflate (from Nodeca project)"},Ple=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const N9=Object.prototype.toString,{Z_NO_FLUSH:Fle,Z_FINISH:Hle,Z_OK:E_,Z_STREAM_END:Yw,Z_NEED_DICT:Xw,Z_STREAM_ERROR:Ble,Z_DATA_ERROR:$M,Z_MEM_ERROR:Vle}=bh;function w_(n){this.options=W1.assign({chunkSize:65536,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||n&&n.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S9,this.strm.avail_out=0;let e=hc.inflateInit2(this.strm,t.windowBits);if(e!==E_)throw new Error(lh[e]);if(this.header=new Ple,hc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Z_.string2buf(t.dictionary):N9.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=hc.inflateSetDictionary(this.strm,t.dictionary),e!==E_)))throw new Error(lh[e])}function Zw(n,t){const e=new w_(t);if(e.push(n),e.err)throw e.msg||lh[e.err];return e.result}w_.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let l,d,h;if(this.ended)return!1;for(d=t===~~t?t:t===!0?Hle:Fle,N9.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),l=hc.inflate(e,d),l===Xw&&a&&(l=hc.inflateSetDictionary(e,a),l===E_?l=hc.inflate(e,d):l===$M&&(l=Xw));e.avail_in>0&&l===Yw&&e.state.wrap>0&&n[e.next_in]!==0;)hc.inflateReset(e),l=hc.inflate(e,d);switch(l){case Ble:case $M:case Xw:case Vle:return this.onEnd(l),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||l===Yw))if(this.options.to==="string"){let f=Z_.utf8border(e.output,e.next_out),_=e.next_out-f,g=Z_.buf2string(e.output,f);e.next_out=_,e.avail_out=r-_,_&&e.output.set(e.output.subarray(f,f+_),0),this.onData(g)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(l!==E_||h!==0){if(l===Yw)return l=hc.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},w_.prototype.onData=function(n){this.chunks.push(n)},w_.prototype.onEnd=function(n){n===E_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=W1.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var zle={Inflate:w_,inflate:Zw,inflateRaw:function(n,t){return(t=t||{}).raw=!0,Zw(n,t)},ungzip:Zw,constants:bh};const{Deflate:Gle,deflate:qle,deflateRaw:jle,gzip:$le}=Tle,{Inflate:Wle,inflate:Kle,inflateRaw:Qle,ungzip:Yle}=zle;var Al,Xle={Deflate:Gle,deflate:qle,deflateRaw:jle,gzip:$le,Inflate:Wle,inflate:Kle,inflateRaw:Qle,ungzip:Yle,constants:bh};(function(n){n.CONNECTING="CONNECTING",n.OPEN="OPEN",n.CLOSED="CLOSED"})(Al||(Al={}));var Kt,Zle=function(n){function t(e,r){var a=r.sdkState,l=r.dispatcher,d=r.logger,h=n.call(this)||this;return h.lastActive=0,h._iid=e,h._sdkState=a,h._dispatcher=l,h._logger=d,h}return re(t,n),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.connectionState===Al.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Al.CONNECTING;case 1:return Al.OPEN}return Al.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ws",{get:function(){var e;return(e=this._ws)!==null&&e!==void 0?e:null},enumerable:!1,configurable:!0}),t.prototype._handleMessage=function(e){var r=this;e.split(`
`).forEach(function(a){if(a){var l=br.createFromRawMessage(r._iid,a);if(r._logger.debug("receive websocket event",l),l.code==="LOGI")r.dispatch("message",l);else if(l.code==="PONG")r.dispatch("pong");else if(l.code==="EXPR"){if(l.payload){var d=new hm(l.payload);d.expiresIn>=0&&r._dispatcher.dispatch(d)}}else l.code==="NOOP"||r.dispatch("message",l)}})},t.prototype.connect=function(e){var r=this;this._ws=new WebSocket(e),this._ws.onopen=function(){r._logger.debug("websocket open"),r.dispatch("open")},this._ws.onmessage=function(a){return H(r,void 0,void 0,function(){var l,d,h=this;return F(this,function(f){return!((d=this._sdkState.websocket)===null||d===void 0)&&d.compression?a.data instanceof Blob?((l=new FileReader).readAsArrayBuffer(a.data),l.onloadend=function(){return H(h,void 0,void 0,function(){var _;return F(this,function(g){switch(g.label){case 0:return[4,(E=l.result,H(void 0,void 0,void 0,function(){var w;return F(this,function(x){return w=Xle.ungzip(E),[2,String.fromCharCode.apply(null,w)]})}))];case 1:return _=g.sent(),this._handleMessage(_),[2]}var E})})}):typeof a.data=="string"&&this._handleMessage(a.data):this._handleMessage(a.data),[2]})})},this._ws.onerror=function(){r._logger.debug("websocket error"),r.dispatch("error",Oe.networkError)},this._ws.onclose=function(){r._logger.debug("websocket close"),r.dispatch("close")},this.lastActive=Date.now()},t.prototype.disconnect=function(){var e=this;return new Promise(function(r){e._logger.debug("websocket disconnect"),e._ws&&e.connectionState!==Al.CLOSED?(e._ws.onopen=bt,e._ws.onmessage=bt,e._ws.onerror=bt,e._ws.onclose=function(){e.dispatch("close"),r()},e._ws.close(),e._ws=void 0):r()})},t.prototype.send=function(e){if(!this._ws)throw Oe.connectionClosed;e.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",e),this._ws.send(e.convertToMessage())},t.prototype.error=function(e){this._logger.debug("websocket error",e),this.dispatch("error",e)},t}(vh),za=function(n){function t(e){var r,a=e.code,l=e.ackRequired,d=e.payload,h=d===void 0?{}:d,f=this;return(f=n.call(this)||this).code=a,f.payload=h,f.requestId=(r=f.payload.req_id)!==null&&r!==void 0?r:zd(),f.ackRequired=l,f.payload.req_id=f.requestId,f}return re(t,n),t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},t}(ii),A9=function(n){function t(e){var r=e.all,a=e.feed,l=e.custom_types,d=e.ts,h=n.call(this)||this;return h.all=r,h.feed=a,h.customTypes=l,h.ts=d,h}return re(t,n),t}(ii),rs=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})},Jle=function(){function n(t,e){var r=e.auth,a=e.sdkState,l=e.dispatcher,d=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,_=this;this._ackStateMap=new Map,this._sdkState=a,this._dispatcher=l,this._logger=d,this.apiClient=new Xoe(t,{auth:r,sdkState:a,dispatcher:l,logger:d,useFetchCompat:f}),this.websocketClient=new Zle(t,{sdkState:a,dispatcher:l,logger:d}),this.websocketClient.on("message",function(g){if(g.payload.unread_cnt&&_._dispatcher.dispatch(new A9(g.payload.unread_cnt)),g.requestId){if(_._ackStateMap.has(g.requestId)){var E=_._ackStateMap.get(g.requestId);g.code!=="EROR"?E.resolve(g):E.reject(new Oe({code:g.payload.code,message:g.payload.message}))}}else _._dispatcher.dispatch(g)}).on("close",function(){_._ackStateMap.forEach(function(g){g.reject(Oe.connectionClosed)}),_._ackStateMap.clear()})}return n.prototype._sendApiRequest=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this.apiClient.send(t)];case 1:return[2,e.sent()]}})})},n.prototype._sendWebsocketRequest=function(t){return H(this,void 0,void 0,function(){var e,r,a,l=this;return F(this,function(d){if(!this._sdkState.websocket)throw Oe.connectionRequired;if(e=new rs,t.ackRequired){a=function(h,f){l._ackStateMap.has(t.requestId)&&(l._ackStateMap.delete(t.requestId),r&&(clearTimeout(r),r=null),h?(l._logger.debug("fail websocket request",h),e.reject(h)):(l._logger.debug("receive websocket ack",t.requestId),e.resolve(f)))};try{r=setTimeout(function(){return a(Oe.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(t.requestId,{resolve:function(h){return a(void 0,h)},reject:function(h){return a(h)}}),this.websocketClient.send(t)}catch(h){a(h)}}else try{this.websocketClient.send(t),e.resolve()}catch(h){e.reject(h)}return[2,e.promise]})})},n.prototype.send=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return t instanceof fn?[4,this._sendApiRequest(t)]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return t instanceof za?[4,this._sendWebsocketRequest(t)]:[3,4];case 4:throw Oe.invalidParameters}})})},n.prototype.cancel=function(t){this.apiClient.cancel(t)},n.prototype.cancelAll=function(){this.apiClient.cancelAll()},n}();(function(n){n[n.NONE=0]="NONE",n[n.INITIALIZED=1]="INITIALIZED",n[n.CONNECTING=2]="CONNECTING",n[n.CONNECTED=3]="CONNECTED",n[n.RECONNECTING=4]="RECONNECTING",n[n.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",n[n.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",n[n.LOGOUT=7]="LOGOUT"})(Kt||(Kt={}));var Ss=function(n){function t(e){var r=e.stateType,a=n.call(this)||this;return a.stateType=r,a}return re(t,n),t}(ii),ece=function(){function n(t,e){var r=e.auth,a=e.sdkState,l=e.dispatcher,d=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,_=this;this._currentConnectionStateType=Kt.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new Jle(t,{auth:r,sdkState:a,dispatcher:l,logger:d,useFetchCompat:f}),this._auth=r,this._logger=d,this._dispatcher=l,this._dispatcher.on(function(g){if(g instanceof Ss){var E=g.stateType;switch(_._currentConnectionStateType=E,E){case Kt.CONNECTED:var w=_._lazyCallQueue;_._lazyCallQueue=[],w.forEach(function(x){return H(_,void 0,void 0,function(){var T,N,P,k,C;return F(this,function(A){switch(A.label){case 0:T=x.command,N=x.deferred,P=x.timeout,clearTimeout(P),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.send(T)];case 2:return k=A.sent(),N.resolve(k),[3,4];case 3:return C=A.sent(),N.reject(C),[3,4];case 4:return[2]}})})});break;case Kt.INITIALIZED:case Kt.INTERNAL_DISCONNECTED:case Kt.EXTERNAL_DISCONNECTED:case Kt.LOGOUT:w=_._lazyCallQueue,_._lazyCallQueue=[],w.forEach(function(x){return H(_,void 0,void 0,function(){var T,N;return F(this,function(P){return T=x.deferred,N=x.timeout,clearTimeout(N),this._auth&&this._auth.hasSession?T.reject(Oe.connectionClosed):T.reject(Oe.connectionRequired),[2]})})})}}})}return Object.defineProperty(n.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Kt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Kt.CONNECTING||this._currentConnectionStateType===Kt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype.send=function(t){return H(this,void 0,void 0,function(){var e,r,a=this;return F(this,function(l){switch(l.label){case 0:return t instanceof za?this.isReady?(this._logger.debug("send websocket request",t),[4,this.commandRouter.send(t)]):[3,2]:[3,4];case 1:case 5:return[2,l.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",t),e=new rs,this._lazyCallQueue.push({command:t,deferred:e,timeout:setTimeout(function(){return a.timeout(t.requestId)},1e4)}),[2,e.promise];throw this._logger.debug("fail websocket request"),Oe.connectionRequired;case 3:case 7:return[3,9];case 4:return t instanceof fn?this._auth.hasSession?(this._logger.debug("send api request",t),[4,this.commandRouter.send(t)]):[3,6]:[3,8];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",t),e=new rs,this._lazyCallQueue.push({command:t,deferred:e,timeout:setTimeout(function(){return a.timeout(t.requestId)},1e4)}),[2,e.promise];throw r=Oe.connectionRequired,this._logger.debug("fail api request",r),r;case 8:throw Oe.invalidCommand;case 9:return[2]}})})},n.prototype.forceSend=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this._logger.debug("send forced request",t),t instanceof za||t instanceof fn?[4,this.commandRouter.send(t)]:[3,2];case 1:return[2,e.sent()];case 2:throw Oe.invalidCommand}})})},n.prototype.timeout=function(t){this._logger.debug("timeout request",t);var e=this._lazyCallQueue.findIndex(function(r){return r.command.requestId===t});e>-1&&(this._lazyCallQueue[e].deferred.reject(Oe.connectionRequired),this._lazyCallQueue.splice(e,1))},n.prototype.cancel=function(t){this._logger.debug("cancel api request",t),this.commandRouter.cancel(t)},n.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},n}(),Jw="sendbird@devicetokens",ex=function(){function n(t){var e=t.type,r=t.token;this.type=e,this.token=r}return n.payloadify=function(t){return Kn(Jn({type:t.type,token:t.token}))},n}(),nce=function(n){function t(e){var r=e.userId,a=e.authToken,l=e.expiringSession,d=l===void 0||l,h=n.call(this)||this;return h.path="".concat(Ht,"/").concat(r,"/session_key"),h.method=pn.POST,h.params={token:a,expiring_session:!!d},h.requireAuth=!1,h}return re(t,n),t}(fn),tce=function(n){function t(e){var r=e.authToken,a=e.expiringSession,l=a===void 0||a,d=e.requestId,h=d===void 0?"":d;return n.call(this,{code:"LOGI",payload:{token:r,expiring_session:l?1:0,req_id:h},ackRequired:!0})||this}return re(t,n),t}(za),rce=function(n){function t(e,r){var a=n.call(this,e,r)||this,l=r.key;return a.key=l,a}return re(t,n),t}(vn),ice=function(n){function t(e,r,a){var l,d=this;return(d=n.call(this,e,"LOGI",a)||this).error=null,d.newKey=null,d.newKey=(l=a.new_key)!==null&&l!==void 0?l:null,d.error=a.error?new Oe(a.error):null,d}return re(t,n),t}(br),WM=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return re(t,n),t}(ii),Fs=function(n){return H(void 0,void 0,void 0,function(){return F(this,function(t){return[2,new Promise(function(e){return setTimeout(e,n)})]})})},O9=function(){function n(){}return n.prototype.calcTimeout=function(){return 0},n}(),Q1=function(n,t,e){return e===void 0&&(e=new O9),H(void 0,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:r=0,a=null,l=function(g){return a=g??new Error("Halted")},d=function(){r=0},_.label=1;case 1:if(!(t===-1||r<t))return[3,9];_.label=2;case 2:return _.trys.push([2,4,,8]),[4,n(l,d)];case 3:if(h=_.sent(),a)throw a;return[2,h];case 4:if(f=_.sent(),a)return[3,6];if(++r===t)throw f;return[4,Fs(e.calcTimeout(r))];case 5:return _.sent(),[3,7];case 6:throw a;case 7:return[3,8];case 8:return[3,1];case 9:throw"It should not happen."}})})},jn=function(n){return H(void 0,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n()];case 1:return e.sent(),[3,3];case 2:if(!((t=e.sent())instanceof Oe))throw t;return t.throwOutside(),[3,3];case 3:return[2]}})})},Ei=function(n){return H(void 0,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,n()];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}})})},nx=new WeakMap,ace=function(n){function t(e){var r=e.auth,a=e.cacheContext,l=e.sdkState,d=e.dispatcher,h=e.requestQueue,f=e.logger,_=n.call(this)||this;return _._currentConnectionStateType=Kt.INITIALIZED,_._isRefreshingAuthToken=!1,_._isRefreshingSessionKey=!1,_.currentUser=null,_.auth=r,_._cacheContext=a,_._sdkState=l,_._dispatcher=d,_._requestQueue=h,_._logger=f,_._deviceTokens=[],_._dispatcher.on(function(g){var E;if(g instanceof Ss){var w=g.stateType;_._currentConnectionStateType=w}else g instanceof hm&&_.handler&&(g.invalidateSessionToken&&(_.auth.authToken=void 0),g.error&&(g.error.isSessionKeyExpiredError||g.error.isSessionTokenExpiredError)&&(_._logger.debug("session expired"),!((E=_.handler)===null||E===void 0)&&E.onSessionExpired&&_.handler.onSessionExpired(),_.refresh()))}),_}return re(t,n),Object.defineProperty(t.prototype,"ekey",{get:function(){return nx.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),t.prototype.indexOfDeviceToken=function(e,r){return this._deviceTokens.findIndex(function(a){return a.type===e&&a.token===r})},t.prototype.hasDeviceToken=function(e,r){return this.indexOfDeviceToken(e,r)>=0},t.prototype.createRefreshWebsocketCommand=function(e,r){return new tce({authToken:e,expiringSession:!0,requestId:r})},t.prototype._refreshSessionKeyByWebSocket=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return r=this.createRefreshWebsocketCommand(e),[4,this._requestQueue.forceSend(r)];case 1:if(a=f.sent(),l=a.as(ice),d=l.newKey,h=l.error)throw h;return this.auth.sessionKey=d??this.auth.sessionKey,[2]}})})},t.prototype._refreshSessionKeyByApi=function(e){return H(this,void 0,void 0,function(){var r,a=this;return F(this,function(l){switch(l.label){case 0:return r=new nce({userId:this._sdkState.userId,authToken:e,expiringSession:!0}),[4,Q1(function(d){return H(a,void 0,void 0,function(){var h,f,_;return F(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(r)];case 1:return h=g.sent(),f=h.as(rce).key,this.auth.sessionKey=f,[3,3];case 2:if(_=g.sent(),!this._isSessionRelatedError(_))throw _;return d(_),[3,3];case 3:return[2]}})})},3)];case 1:return l.sent(),[2]}})})},t.prototype._refreshSessionKey=function(e,r){return r===void 0&&(r=!0),H(this,void 0,void 0,function(){var a,l,d;return F(this,function(h){switch(h.label){case 0:if(this._currentConnectionStateType!==Kt.CONNECTED)return[3,10];h.label=1;case 1:return h.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(e)];case 2:return h.sent(),this.complete(),[2];case 3:return a=h.sent(),this._isSessionRelatedError(a)&&r?[4,this._receiveNewAuthToken()]:[3,9];case 4:return(d=h.sent())?(this.auth.authToken=d,[4,this._refreshSessionKey(this.auth.authToken,!1)]):[3,6];case 5:return h.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:h.sent(),this.close(),h.label=8;case 8:return[2];case 9:return[3,10];case 10:return h.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(e)];case 11:return h.sent(),this.complete(),[3,22];case 12:return l=h.sent(),this._isSessionRelatedError(l)?r?[4,this._receiveNewAuthToken()]:[3,18]:[3,20];case 13:return(d=h.sent())?(this.auth.authToken=d,[4,this._refreshSessionKeyByApi(this.auth.authToken)]):[3,15];case 14:return h.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:h.sent(),this.close(),h.label=17;case 17:return[3,19];case 18:throw l;case 19:return[3,21];case 20:throw l;case 21:return[3,22];case 22:return[2]}})})},t.prototype._receiveNewAuthToken=function(){var e=this,r=new rs;return jn(function(){return H(e,void 0,void 0,function(){var a,l,d,h,f=this;return F(this,function(_){return this._isRefreshingAuthToken=!0,this.auth.clear(),this.handler.onSessionTokenRequired?(a=null,l=function(){a&&(clearTimeout(a),a=null)},d=function(g){l(),f._isRefreshingAuthToken&&(f._isRefreshingAuthToken=!1,f.dispatch("refresh-authtoken"),r.resolve(g))},h=function(g){l(),f._isRefreshingAuthToken&&(f._isRefreshingAuthToken=!1,r.reject(g))},a=setTimeout(function(){return h()},1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired(d,h)):r.resolve(null),[2]})})}),r.promise},t.prototype._isSessionRelatedError=function(e){return e instanceof Oe&&(e.isSessionKeyExpiredError||e.isSessionTokenExpiredError||e.isSessionRevokedError)},Object.defineProperty(t.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),t.prototype.login=function(e){var r;return H(this,void 0,void 0,function(){var a,l,d,h,f,_,g;return F(this,function(E){switch(E.label){case 0:return a=e.key,l=e.ekey,d=e.userProfile,h=e.deviceTokenLastDeletedAt,f=h===void 0?0:h,this.auth.sessionKey=a,nx.set(this,l),this._deviceTokenCacheEnabled=(r=d==null?void 0:d.appInfo)===null||r===void 0?void 0:r.deviceTokenCache,_=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,_.get(Jw)]:[3,5];case 1:return!(g=E.sent())||g.lastDeletedAt<f?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=f,[4,this.saveDeviceToken()]):[3,3];case 2:return E.sent(),[3,4];case 3:this._deviceTokens=g.tokens.map(function(w){return new ex(ex.payloadify(w))}),this._deviceTokenLastDeletedAt=g.lastDeletedAt,E.label=4;case 4:return[3,7];case 5:return[4,_.remove(Jw)];case 6:E.sent(),E.label=7;case 7:return[2]}})})},t.prototype.complete=function(){var e=this;this.dispatch("refresh"),jn(function(){return H(e,void 0,void 0,function(){var r;return F(this,function(a){return this._logger.debug("session refreshed"),!((r=this.handler)===null||r===void 0)&&r.onSessionRefreshed&&this.handler.onSessionRefreshed(),[2]})})})},t.prototype.error=function(e){var r=this;jn(function(){return H(r,void 0,void 0,function(){var a;return F(this,function(l){return!((a=this.handler)===null||a===void 0)&&a.onSessionError&&this.handler.onSessionError(e),[2]})})})},t.prototype.close=function(){var e=this;this.dispatch("close"),jn(function(){return H(e,void 0,void 0,function(){var r;return F(this,function(a){return this._logger.debug("session closed"),!((r=this.handler)===null||r===void 0)&&r.onSessionClosed&&this.handler.onSessionClosed(),[2]})})})},t.prototype.refresh=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(e=a.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=e,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return a.sent(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw a.sent(),r=Oe.sessionTokenRequestFailed,this._dispatcher.dispatch(new WM),this.error(r),this._isRefreshingSessionKey=!1,r;case 7:return a.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return a.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw a.sent(),r=Oe.sessionTokenRefreshFailed,this._dispatcher.dispatch(new WM),this.error(r),this._isRefreshingSessionKey=!1,r;case 10:return[2]}})})},t.prototype.setDeviceToken=function(e,r){return this._deviceTokenCacheEnabled&&this.indexOfDeviceToken(e,r)<0?(this._deviceTokens.push(new ex({type:e,token:r})),!0):!1},t.prototype.unsetDeviceToken=function(e,r){if(this._deviceTokenCacheEnabled){var a=this.indexOfDeviceToken(e,r);a>=0&&this._deviceTokens.splice(a,1)}},t.prototype.unsetDeviceTokens=function(e){this._deviceTokenCacheEnabled&&(this._deviceTokens=e?this._deviceTokens.filter(function(r){return r.type!==e}):[])},t.prototype.setDeviceTokenDeletedAt=function(e){e>0&&(this._deviceTokenLastDeletedAt=e)},t.prototype.saveDeviceToken=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set(Jw,{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.currentUser=null,this.auth.clear(),this.close(),nx.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return e.sent(),[2]}})})},t}(vh),yh=function(){function n(){this.type=Kt.NONE,this.name="none"}return n.prototype.run=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2]})})},n.prototype.onConnect=function(t,e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2]})})},n.prototype.onReconnect=function(t,e){return e.resetReconnectCount,H(this,void 0,void 0,function(){return F(this,function(r){return[2]})})},n.prototype.onDisconnect=function(t,e){return e.error,e.autoReconnect,H(this,void 0,void 0,function(){return F(this,function(r){return[2]})})},n.prototype.onDisconnectWebSocket=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2]})})},n.prototype.onLogout=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2]})})},n}(),Zu=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Kt.LOGOUT,e.name="logout",e}return re(t,n),t.prototype.run=function(e){return H(this,void 0,void 0,function(){var r,a,l=this;return F(this,function(d){switch(d.label){case 0:return r=Date.now(),a=e.sdkState.userId,[4,e.logout()];case 1:return d.sent(),[4,e.changeState(new $T,r)];case 2:return d.sent(),jn(function(){return H(l,void 0,void 0,function(){return F(this,function(h){return e.connectionHandlers.forEach(function(f){f.onDisconnected&&f.onDisconnected(a)}),[2]})})}),[2]}})})},t}(yh),Y1=function(n){function t(){var e=n.call(this)||this;return e.type=Kt.EXTERNAL_DISCONNECTED,e.name="externaldisconnected",e}return re(t,n),t.prototype.run=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,e.disconnect()];case 1:return r.sent(),[2]}})})},t.prototype.onConnect=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=Date.now(),[4,e.disconnect()];case 1:return l.sent(),[4,e.changeState(new X1({authToken:r}),a)];case 2:return l.sent(),[2]}})})},t.prototype.onReconnect=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new d1,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Zu,r)];case 1:return a.sent(),[2]}})})},t}(yh),c1=function(n){function t(e){var r=e.autoReconnect,a=n.call(this)||this;return a.type=Kt.INTERNAL_DISCONNECTED,a.name="internaldisconnected",a._autoReconnect=!1,a._autoReconnect=r,a}return re(t,n),t.prototype.run=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return a.sent(),this._autoReconnect?[4,e.changeState(new d1,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.onConnect=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=Date.now(),[4,e.disconnect()];case 1:return l.sent(),[4,e.changeState(new X1({authToken:r}),a)];case 2:return l.sent(),[2]}})})},t.prototype.onReconnect=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new d1,r)];case 1:return a.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Y1,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Zu,r)];case 1:return a.sent(),[2]}})})},t}(yh),d1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Kt.RECONNECTING,e.name="reconnecting",e._callbacks=[],e}return re(t,n),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=void 0)},t.prototype._flushCallbacks=function(e){this._haltConnect=void 0,this._resetConnect=void 0,this._callbacks.forEach(function(r){return r(e)})},t.prototype.run=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_=this;return F(this,function(g){switch(g.label){case 0:r=Date.now(),a=new rs,this._callbacks.push(function(E){return E?a.reject(E):a.resolve()}),jn(function(){return H(_,void 0,void 0,function(){return F(this,function(E){return e.connectionHandlers.forEach(function(w){w.onReconnectStarted&&w.onReconnectStarted()}),[2]})})}),g.label=1;case 1:return g.trys.push([1,4,,9]),l=e.sdkState.websocket,d=l.reconnectMaxRetry,h=l.reconnectRetryStrategy,[4,Q1(function(E,w){return H(_,void 0,void 0,function(){var x;return F(this,function(T){switch(T.label){case 0:this._haltConnect=E,this._resetConnect=w,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,e.connect()];case 2:return T.sent(),[3,4];case 3:if(x=T.sent(),e.clearLoginTimer(),x instanceof Oe&&x.code===rt.CONNECTION_CANCELED)return E(x),[2];throw x;case 4:return[2]}})})},d,h)];case 2:return g.sent(),[4,e.changeState(new R9,r)];case 3:return g.sent(),jn(function(){return H(_,void 0,void 0,function(){return F(this,function(E){return this._flushCallbacks(),e.connectionHandlers.forEach(function(w){w.onReconnectSucceeded&&w.onReconnectSucceeded()}),[2]})})}),[3,9];case 4:return f=g.sent(),Ko(f)?[3,7]:f instanceof Oe?f.code===rt.CONNECTION_CANCELED?[3,6]:[4,e.changeState(new c1({autoReconnect:!1}),r)]:[3,6];case 5:g.sent(),g.label=6;case 6:return jn(function(){return H(_,void 0,void 0,function(){return F(this,function(E){return this._flushCallbacks(f),e.connectionHandlers.forEach(function(w){w.onReconnectFailed&&w.onReconnectFailed()}),[2]})})}),[3,8];case 7:throw f;case 8:return[3,9];case 9:return[2,a.promise]}})})},t.prototype.onConnect=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){return a=new rs,this._halt(Oe.connectionCanceled),e.cancelConnectForRetry(),this._callbacks.push(function(){var d=Date.now();e.changeState(new X1({authToken:r}),d).then(function(){a.resolve()}).catch(function(h){a.reject(h)})}),[2,a.promise]})})},t.prototype.onReconnect=function(e,r){var a=r.resetReconnectCount,l=a!==void 0&&a;return H(this,void 0,void 0,function(){var d;return F(this,function(h){return d=new rs,this._resetConnect&&l&&this._resetConnect(),this._callbacks.push(function(f){return f?d.reject(f):d.resolve()}),[2,d.promise]})})},t.prototype.onDisconnect=function(e,r){r.error;var a=r.autoReconnect,l=a===void 0||a;return H(this,void 0,void 0,function(){var d;return F(this,function(h){switch(h.label){case 0:return d=Date.now(),this._halt(Oe.connectionCanceled),[4,e.changeState(new c1({autoReconnect:l}),d)];case 1:return h.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Oe.connectionCanceled),[4,e.changeState(new Y1,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Oe.connectionCanceled),[4,e.changeState(new Zu,r)];case 1:return a.sent(),[2]}})})},t}(yh),R9=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Kt.CONNECTED,e.name="connected",e}return re(t,n),t.prototype.onReconnect=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return a.sent(),[4,e.changeState(new d1,r)];case 2:return a.sent(),[2]}})})},t.prototype.onDisconnect=function(e,r){var a=r.autoReconnect;return H(this,void 0,void 0,function(){var l;return F(this,function(d){switch(d.label){case 0:return l=Date.now(),[4,e.changeState(new c1({autoReconnect:a}),l)];case 1:return d.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Y1,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Zu,r)];case 1:return a.sent(),[2]}})})},t}(yh),X1=function(n){function t(e){var r=e.authToken,a=n.call(this)||this;return a.type=Kt.CONNECTING,a.name="connecting",a._authToken="",a._callbacks=[],a._authToken=r,a}return re(t,n),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=void 0)},t.prototype._flushCallbacks=function(e){this._haltConnect=void 0,this._callbacks.forEach(function(r){return r(e)})},t.prototype.run=function(e){return H(this,void 0,void 0,function(){var r,a,l,d=this;return F(this,function(h){switch(h.label){case 0:r=Date.now(),a=new rs,this._callbacks.push(function(f){return f?a.reject(f):a.resolve()}),h.label=1;case 1:return h.trys.push([1,4,,10]),[4,Q1(function(f){return H(d,void 0,void 0,function(){var _;return F(this,function(g){switch(g.label){case 0:this._haltConnect=f,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,e.connect(this._authToken)];case 2:return g.sent(),[3,4];case 3:if(_=g.sent(),e.clearLoginTimer(),_ instanceof Oe&&_.code===rt.CONNECTION_CANCELED)return f(_),[2];throw _;case 4:return[2]}})})},e.sdkState.websocket.connectMaxRetry)];case 2:return h.sent(),[4,e.changeState(new R9,r)];case 3:return h.sent(),jn(function(){return H(d,void 0,void 0,function(){return F(this,function(f){return this._flushCallbacks(),e.connectionHandlers.forEach(function(_){_.onConnected&&_.onConnected(e.sdkState.userId)}),[2]})})}),[3,10];case 4:return l=h.sent(),Ko(l)?[3,8]:[4,e.disconnect()];case 5:return h.sent(),l instanceof Oe?l.code===rt.CONNECTION_CANCELED?[3,7]:[4,e.changeState(new $T,r)]:[3,7];case 6:h.sent(),h.label=7;case 7:return jn(function(){return H(d,void 0,void 0,function(){return F(this,function(f){return this._flushCallbacks(l),[2]})})}),[3,9];case 8:throw l;case 9:return[3,10];case 10:return[2,a.promise]}})})},t.prototype.onConnect=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=new rs,this._callbacks.push(function(l){return l?r.reject(l):r.resolve()}),[2,r.promise]})})},t.prototype.onDisconnect=function(e,r){var a=r.error,l=a===void 0?null:a,d=r.autoReconnect,h=d!==void 0&&d;return H(this,void 0,void 0,function(){var f;return F(this,function(_){switch(_.label){case 0:return f=Date.now(),this._halt(l??Oe.connectionCanceled),e.hasSession?[4,e.changeState(new c1({autoReconnect:h}),f)]:[3,2];case 1:return _.sent(),[3,4];case 2:return[4,e.changeState(new Zu,f)];case 3:_.sent(),_.label=4;case 4:return[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Oe.connectionCanceled),e.hasSession?[4,e.changeState(new Y1,r)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,e.changeState(new Zu,r)];case 3:a.sent(),a.label=4;case 4:return[2]}})})},t.prototype.onLogout=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Oe.connectionCanceled),[4,e.changeState(new Zu,r)];case 1:return a.sent(),[2]}})})},t}(yh),$T=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Kt.INITIALIZED,e.name="initialized",e}return re(t,n),t.prototype.onConnect=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=Date.now(),[4,e.changeState(new X1({authToken:r}),a)];case 1:return l.sent(),[2]}})})},t}(yh),sce=function(n){function t(){return n.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return re(t,n),t}(za),oce=function(){function n(t){var e=t.pingDelegate,r=t.sdkState,a=t.logger;this.pingDelegate=e,this.sdkState=r,this._logger=a}return Object.defineProperty(n.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),n.prototype.ping=function(){var t,e=this;if(!this.sdkState.websocket)throw Oe.connectionRequired;var r=new sce;try{var a=(t=this.sdkState.websocket.pongTimeout)!==null&&t!==void 0?t:5e3;this._pingTimeoutTimer=setTimeout(function(){e._logger.debug("pinger.ping() timeout"),e.pingDelegate.error()},a),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(l){this._logger.debug("pinger.ping() error",l),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0),this.pingDelegate.error()}return r},n.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},n.prototype.refreshTimer=function(){var t,e=this;if(!this.sdkState.websocket)throw Oe.connectionRequired;this._logger.debug("pinger.refreshTimer()");var r=(t=this.sdkState.websocket.pingInterval)!==null&&t!==void 0?t:15e3;this.stop(),this._pingTimer=setInterval(function(){e.ping()},r)},n.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},n.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=void 0),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},n}(),KM=function(){function n(t){var e,r,a,l;this.isEnabled=(e=t.enabled)!==null&&e!==void 0&&e,this.feedChannels=(r=t.feed_channels)!==null&&r!==void 0?r:{},this.templateListToken=(a=t.template_list_token)!==null&&a!==void 0?a:null,this.settingsUpdatedAt=(l=t.settings_updated_at)!==null&&l!==void 0?l:0}return n.payloadify=function(t){return Kn(Jn({enabled:t.isEnabled,feed_channels:t.feedChannels,template_list_token:t.templateListToken,settings_updated_at:t.settingsUpdatedAt}))},n}(),WT=function(n){return"sendbird@".concat(n,"/changelog_include_chat_notifications")},QM=function(){function n(t){var e;this.lastUpdatedAt=(e=t.last_updated_at)!==null&&e!==void 0?e:0}return n.payloadify=function(t){return Kn(Jn({last_updated_at:t.lastUpdatedAt}))},n}(),YM=1048576,lce=5,XM=function(){function n(t){var e,r,a,l,d;t===void 0&&(t={}),this.emojiHash=t.emoji_hash||"",this.uploadSizeLimit=t.file_upload_size_limit?t.file_upload_size_limit*YM:Number.MAX_SAFE_INTEGER,this.useReaction=!!t.use_reaction,this.applicationAttributes=(e=t.application_attributes)!==null&&e!==void 0?e:[],this.premiumFeatureList=(r=t.premium_feature_list)!==null&&r!==void 0?r:[],this.deviceTokenCache=this.applicationAttributes.includes("sdk_device_token_cache"),this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history"),this.multipleFilesMessageFileCountLimit=(a=t.multiple_file_send_max_size)!==null&&a!==void 0?a:5,this.allowSdkStatsUpload=(l=t.allow_sdk_log_ingestion)===null||l===void 0||l,this.uikitConfigInfo=new QM((d=t.uikit_config)!==null&&d!==void 0?d:{}),this.notificationInfo=t.notifications?new KM(t.notifications):null}return n.payloadify=function(t){return Kn(Jn({emoji_hash:t.emojiHash,file_upload_size_limit:t.uploadSizeLimit/YM,application_attributes:t.applicationAttributes,premium_feature_list:t.premiumFeatureList,use_reaction:t.useReaction,allow_sdk_log_ingestion:t.allowSdkStatsUpload,uikit_config:t.uikitConfigInfo?QM.payloadify(t.uikitConfigInfo):null,notifications:t.notificationInfo?KM.payloadify(t.notificationInfo):null}))},n}(),qa=function(){function n(t){this._iid="",this._iid=t}return n.payloadify=function(t){return{}},n}(),cce=function(n){function t(e){var r=e.userId,a=e.metadata,l=n.call(this)||this;return l.method=pn.POST,l.path="".concat(Ht,"/").concat(r,"/metadata"),l.params={metadata:a},l}return re(t,n),t}(fn),dce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaData=r,a}return re(t,n),t}(vn),uce=function(n){function t(e){var r=e.userId,a=e.metadata,l=e.upsert,d=n.call(this)||this;return d.method=pn.PUT,d.path="".concat(Ht,"/").concat(r,"/metadata"),d.params={metadata:a,upsert:l},d}return re(t,n),t}(fn),hce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metadata=r,a}return re(t,n),t}(vn),pce=function(n){function t(e){var r=e.userId,a=e.metadataKey,l=n.call(this)||this;return l.method=pn.DELETE,l.path="".concat(Ht,"/").concat(r,"/metadata/").concat(a),l}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var fce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.DELETE,a.path="".concat(Ht,"/").concat(r,"/metadata"),a}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var R0,up=function(n,t){var e=JSON.parse(JSON.stringify(n));return e._iid&&delete e._iid,t&&t(e),e},Od=function(n,t){var e=JSON.parse(JSON.stringify(n));return t&&t(e),e},_n=function(n){return{do:function(t){n||t()},throw:function(t){if(!n)throw t}}};(function(n){n.ONLINE="online",n.OFFLINE="offline",n.NON_AVAILABLE="nonavailable"})(R0||(R0={}));var Bo,kt=function(n){function t(e,r){var a,l,d,h,f,_,g,E,w,x,T,N,P=this;return(P=n.call(this,e)||this).userId=(l=(a=r.guest_id)!==null&&a!==void 0?a:r.user_id)!==null&&l!==void 0?l:"",P.nickname=(h=(d=r.nickname)!==null&&d!==void 0?d:r.name)!==null&&h!==void 0?h:"",P.plainProfileUrl=(_=(f=r.profile_url)!==null&&f!==void 0?f:r.image)!==null&&_!==void 0?_:"",P.requireAuth=(g=r.require_auth_for_profile_image)!==null&&g!==void 0&&g,P.metaData=(E=r.metadata)!==null&&E!==void 0?E:{},P.connectionStatus=R0.NON_AVAILABLE,Et(R0,r.is_online)?P.connectionStatus=r.is_online:ye("boolean",r.is_online)&&(P.connectionStatus=r.is_online?R0.ONLINE:R0.OFFLINE),P.isActive=(w=r.is_active)===null||w===void 0||w,P.lastSeenAt=(x=r.last_seen_at)!==null&&x!==void 0?x:null,P.preferredLanguages=r.preferred_languages?nt([],Wn(r.preferred_languages),!1):null,P.friendDiscoveryKey=(T=r.friend_discovery_key)!==null&&T!==void 0?T:null,P.friendName=(N=r.friend_name)!==null&&N!==void 0?N:null,P}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{user_id:e.userId,nickname:e.nickname,profile_url:e.plainProfileUrl,require_auth_for_profile_image:e.requireAuth,metadata:e.metaData,is_online:e.connectionStatus,is_active:e.isActive,last_seen_at:e.lastSeenAt,preferred_languages:e.preferredLanguages,friend_discovery_key:e.friendDiscoveryKey,friend_name:e.friendName})))},Object.defineProperty(t.prototype,"profileUrl",{get:function(){var e=Se.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(e.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return up(this)},t.prototype._isValidMetaData=function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(r){return e[r]}).every(function(r){return ye("string",r)})},t.prototype._applyMetaData=function(e,r){var a=this;r===void 0&&(r=!1),Object.keys(e).forEach(function(l){r?delete a.metaData[l]:a.metaData[l]=e[l]})},t.prototype.createMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return _n(this._isValidMetaData(e)).throw(Oe.invalidParameters),r=Se.of(this._iid),a=r.sdkState,l=r.requestQueue,d=new cce({userId:a.userId,metadata:e}),[4,l.send(d)];case 1:return h=_.sent(),f=h.as(dce).metaData,this._applyMetaData(f),[2,this.metaData]}})})},t.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),H(this,void 0,void 0,function(){var a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return _n(this._isValidMetaData(e)).throw(Oe.invalidParameters),a=Se.of(this._iid),l=a.sdkState,d=a.requestQueue,h=new uce({userId:l.userId,metadata:e,upsert:r}),[4,d.send(h)];case 1:return f=g.sent(),_=f.as(hce).metadata,this._applyMetaData(_),[2,this.metaData]}})})},t.prototype.deleteMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return _n(ye("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid),a=r.sdkState,l=r.requestQueue,d=new pce({userId:a.userId,metadataKey:e}),[4,l.send(d)];case 1:return f.sent(),this._applyMetaData(((h={})[e]=!0,h),!0),[2,this.metaData]}})})},t.prototype.deleteAllMetaData=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new fce({userId:r.userId}),[4,a.send(l)];case 1:return d.sent(),this.metaData={},[2]}})})},t}(qa),M9=function(n){function t(e){var r=e.userProfile,a=n.call(this)||this;return a.userProfile=r,a}return re(t,n),t}(ii),P4=function(){function n(t,e){var r,a,l,d,h,f,_,g,E,w,x,T,N,P;this._iid=t,this.appInfo=new XM(e),this.user=new kt(t,e),this.connectedAt=(r=e.login_ts)!==null&&r!==void 0?r:0,this.firstConnectedAt=0,this.pingInterval=(a=e.ping_interval)!==null&&a!==void 0?a:15e3,this.pongTimeout=(l=e.pong_timeout)!==null&&l!==void 0?l:5e3,this.reconnectInterval=(h=(d=e.reconnect)===null||d===void 0?void 0:d.interval)!==null&&h!==void 0?h:3e3,this.reconnectMaxInterval=(_=(f=e.reconnect)===null||f===void 0?void 0:f.max_interval)!==null&&_!==void 0?_:6e4,this.reconnectRetryCount=(E=(g=e.reconnect)===null||g===void 0?void 0:g.retry_cnt)!==null&&E!==void 0?E:5,this.reconnectIntervalMultiple=(x=(w=e.reconnect)===null||w===void 0?void 0:w.mul)!==null&&x!==void 0?x:2,this.maxUnreadCountOnSuperGroup=(T=e.max_unread_cnt_on_super_group)!==null&&T!==void 0?T:100,this.profileImageEncryption=!!e.profile_image_encryption,this.concurrentCallLimit=(N=e.concurrent_call_limit)!==null&&N!==void 0?N:5,this.backOffDelay=(P=e.back_off_delay)!==null&&P!==void 0?P:100}return n.payloadify=function(t){return Kn(Jn(ge(ge(ge({},kt.payloadify(t.user)),XM.payloadify(t.appInfo)),{login_ts:t.connectedAt,ping_interval:t.pingInterval,pong_timeout:t.pongTimeout,reconnect:{interval:t.reconnectInterval,max_interval:t.reconnectMaxInterval,retry_cnt:t.reconnectRetryCount,mul:t.reconnectIntervalMultiple},max_unread_cnt_on_super_group:t.maxUnreadCountOnSuperGroup,profile_image_encryption:t.profileImageEncryption,concurrent_call_limit:t.concurrentCallLimit,back_off_delay:t.backOffDelay})))},n.prototype.apply=function(){var t=this.reconnectInterval,e=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,a=Se.of(this._iid);a.sdkState.websocket&&(a.sdkState.websocket.pingInterval=1e3*this.pingInterval,a.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,a.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,a.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(l){return l>0?1e3*Math.min(t*Math.pow(r,l-1),e):10}}),a.appInfo=this.appInfo,a.sessionManager.currentUser=this.user,a.connectedAt=this.connectedAt,this.firstConnectedAt||(a.firstConnectedAt=this.connectedAt),a.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,a.concurrentCallLimit=this.concurrentCallLimit,a.backOffDelay=this.backOffDelay,a.dispatcher.dispatch(new M9({userProfile:this}))},n}(),tx=function(n){function t(e,r,a){var l,d,h,f=this;return(f=n.call(this,e,r,a)||this).error=null,f.userProfile=new P4(e,a),f.deviceTokenLastDeletedAt=(l=a.device_token_last_deleted_at)!==null&&l!==void 0?l:0,f.key=(d=a.key)!==null&&d!==void 0?d:"",f.ekey=(h=a.ekey)!==null&&h!==void 0?h:"",f.error=a.error?new Oe(a):null,f}return re(t,n),t.asError=function(e){return new t("","LOGI",ge({user_id:"",error:!0},e))},t.prototype.applyTo=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return this.error?[3,4]:(r=Se.of(e))?[4,r.sessionManager.login(this)]:[3,2];case 1:return a.sent(),this.userProfile.apply(),[3,3];case 2:throw Oe.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}})})},t}(br),D9=function(n){function t(e){var r=e.request,a=r===void 0||r,l=e.features,d=l===void 0?{}:l,h=e.options,f=h===void 0?{}:h,_=n.call(this)||this;return _.request=a,_.features=ge({localCache:!0},d),_.options=ge({ingestion:!0},f),_}return re(t,n),t}(ii),_ce=function(n){function t(e,r){var a,l=r.sdkState,d=r.cacheContext,h=r.connectionHandlers,f=r.sessionManager,_=r.websocketClient,g=r.dispatcher,E=r.logger,w=r.entryState,x=w===void 0?new $T:w,T=this;return(T=n.call(this)||this)._stateUpdatedAt=0,T._connectingAt=0,T._connectionRequestQueue=[],T._iid=e,T.sdkState=l,T.cacheContext=d,T.connectionHandlers=h,T._sessionManager=f,T._websocketClient=_,T._dispatcher=g,T._logger=E,T._currentState=x,!((a=T.sdkState.websocket)===null||a===void 0)&&a.pingerDisabled||(T._pinger=new oce({pingDelegate:{send:function(N){return T._websocketClient.send(N)},error:function(N){return T._websocketClient.error(N)}},sdkState:T.sdkState,logger:E})),T._websocketClient.on("open",function(){T._tryResolveConnectionRequest()}).on("message",function(N){N.code==="LOGI"&&(T.clearLoginTimer(),T._dispatcher.dispatch(N.as(tx)))}).on("ping-refresh",function(){var N;return(N=T._pinger)===null||N===void 0?void 0:N.refreshTimer()}).on("pong",function(){var N;return(N=T._pinger)===null||N===void 0?void 0:N.pong()}).on("error",function(){var N;return(N=T._pinger)===null||N===void 0?void 0:N.stop()}).on("close",function(){T._logiProcessingTimer=setTimeout(function(){T._logiProcessingTimer=void 0,T._unresolvedLogi||T._rejectConnectionRequest(Oe.networkError)},500)}),T._dispatcher.on(function(N){N instanceof tx&&(T._unresolvedLogi=N,T._tryResolveConnectionRequest())}),T}return re(t,n),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),t.prototype.changeState=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return r>=this._stateUpdatedAt?(this._currentState=e,this._stateUpdatedAt=r,this._dispatcher.dispatch(new Ss({stateType:e.type})),this._logger.debug("connection state changes to ".concat(e.name)),[4,this._currentState.run(this)]):[3,2];case 1:return a.sent(),[2,!0];case 2:return[2,!1]}})})},t.prototype._tryResolveConnectionRequest=function(){var e;return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return r=this._unresolvedLogi,this._websocketClient.isOpen&&r?(this._unresolvedLogi=void 0,r.error?[3,2]:[4,r.applyTo(this._iid)]):[3,3];case 1:return l.sent(),a=r.userProfile,this._enableStatLog({request:a.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish"),features:{localCache:a.appInfo.applicationAttributes.includes("allow_sdk_feature_local_cache_log_publish")},options:{ingestion:a.appInfo.allowSdkStatsUpload}}),this._statLogConnection(),(e=this._pinger)===null||e===void 0||e.start(),this._connectionRequestQueue.forEach(function(d){return d.resolve()}),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=void 0,(r.error.isSessionKeyExpiredError||r.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new hm({reason:r.error.code})),this._rejectConnectionRequest(r.error),l.label=3;case 3:return[2]}})})},t.prototype._rejectConnectionRequest=function(e){var r;if((r=this._pinger)===null||r===void 0||r.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0){var a=this._connectionRequestQueue;this._connectionRequestQueue=[],a.forEach(function(l){return l.reject(e)}),this._statLogConnection(e)}},t.prototype._url=function(e){var r,a;e===void 0&&(e="");var l=this.sdkState,d=l.appId,h=l.appVersion,f=l.userId,_=l.extensions,g=l.sendbirdRuntimeEnvironment,E=this.cacheContext.localCacheEnabled,w=this._sessionManager.auth,x=(r=this.sdkState.websocket)===null||r===void 0?void 0:r.compression,T=!!((a=this.sdkState.extensions)!==null&&a!==void 0?a:{}).sb_uikit,N=a1.userAgentWithExtension(_);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(kd.OS_VERSION),"&sv=").concat(encodeURIComponent(kd.SDK_VERSION),"&ai=").concat(d).concat(h?"&av=".concat(h):"").concat(w.hasSession?"&key=".concat(encodeURIComponent(w.sessionKey)):"&user_id=".concat(encodeURIComponent(f),"&access_token=").concat(encodeURIComponent(e)),"&pmce=").concat(x?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(N,"&SB-SDK-User-Agent=").concat(encodeURIComponent(a1.sendbirdSdkUserAgentWithExtension(g)),"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash","multiple_file_send_max_size","notifications"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(E?1:0,"&include_poll_details=1").concat(T?"&uikit_config=1":"")},t.prototype._enableStatLog=function(e){var r=e.request,a=e.features,l=e.options,d=l===void 0?{}:l;this._dispatcher.dispatch(new D9({request:r,features:a,options:d}))},t.prototype._statLogConnection=function(e){var r;this._dispatcher.dispatch(new GT(new J0({type:Dl.WEBSOCKET_CONNECT,data:{host_url:(r=this.sdkState.websocket)===null||r===void 0?void 0:r.host,success:!e,latency:Date.now()-this._connectingAt,error_code:e==null?void 0:e.code,error_description:e==null?void 0:e.message}})))},t.prototype.connect=function(e){var r;return e===void 0&&(e=""),H(this,void 0,void 0,function(){var a,l,d=this;return F(this,function(h){return this._logiProcessingTimer&&(clearTimeout(this._logiProcessingTimer),this._logiProcessingTimer=void 0,this._rejectConnectionRequest(Oe.connectionCanceled)),a=this._url(e),l=new rs,this._connectionRequestQueue.push(l),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){d._loginTimer=void 0,d._rejectConnectionRequest(Oe.loginTimeout)},(r=this.sdkState.websocket)===null||r===void 0?void 0:r.responseTimeout),e&&(this._sessionManager.auth.authToken=e),this._websocketClient.connect(a)),[2,l.promise]})})},t.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(tx.asError(Oe.connectionRenew))},t.prototype.disconnect=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return e.sent(),[2]}})})},t.prototype.logout=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.sdkState.userId=void 0,this._unresolvedLogi=void 0,[4,this._sessionManager.clear()];case 1:return e.sent(),[4,this.disconnect()];case 2:return e.sent(),[2]}})})},t.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=void 0)},t}(vh),mce=function(){function n(t,e){var r=e.sdkState,a=e.cacheContext,l=e.connectionHandlers,d=e.sessionManager,h=e.websocketClient,f=e.dispatcher,_=e.logger,g=e.disableWebSocketCloseEventHandling,E=g!==void 0&&g;this._disableWebSocketCloseEventHandling=!1,this._externalCalledWebSocketClose=!1,this._logger=_,this._disableWebSocketCloseEventHandling=E,this._context=new _ce(t,{sdkState:r,cacheContext:a,connectionHandlers:l,sessionManager:d,websocketClient:h,dispatcher:f,logger:_}),this._sdkState=r,this._sessionManager=d,this._websocketClient=h}return n.prototype._registerEventDispatcher=function(){var t=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",function(){t.isConnected||(t._logger.debug("try reconnect by session token refresh"),t.reconnect())}).on("refresh",function(){t.isConnecting||t.isConnected||(t._logger.debug("try reconnect by session key refresh"),t.reconnect())}),this._websocketEventDispatcherContext=this._websocketClient.on("close",function(){t._sdkState.appState!=="foreground"||t._externalCalledWebSocketClose||t._sessionManager.isRefreshingAuthToken||(t._logger.debug("try reconnect by websocket connection closed"),t.reconnect())}))},n.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=void 0),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=void 0)},Object.defineProperty(n.prototype,"isConnected",{get:function(){return this._context.currentState.type===Kt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isConnecting",{get:function(){var t=this._context.currentState;return t.type===Kt.CONNECTING||t.type===Kt.RECONNECTING},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"websocketClient",{get:function(){return this._websocketClient},enumerable:!1,configurable:!0}),n.prototype.connect=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return e=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,e.onConnect(this._context,t)];case 1:return r.sent(),this._registerEventDispatcher(),[2]}})})},n.prototype.reconnect=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,t.onReconnect(this._context,{})];case 1:return e.sent(),[2]}})})},n.prototype.resetAndReconnect=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,t.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return e.sent(),[2]}})})},n.prototype.background=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,t.onDisconnect(this._context,{autoReconnect:!1})];case 1:return e.sent(),[2]}})})},n.prototype.disconnect=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:t,autoReconnect:!0})];case 1:return e.sent(),[2]}})})},n.prototype.disconnectWebSocket=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,t.onDisconnectWebSocket(this._context)];case 1:return e.sent(),[2]}})})},n.prototype.logout=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._clearEventDispatcher(),[4,t.onLogout(this._context)];case 1:return e.sent(),[2]}})})},n}(),$u=function(n){function t(e){var r,a,l,d,h=e.type,f=e.data,_=e.ts,g=_===void 0?Date.now():_,E=n.call(this,{type:h,data:f,ts:g})||this;return E.date=new Date(g),E.key="".concat((r=E.date,a=r.getFullYear(),l=String(r.getMonth()+1).padStart(2,"0"),d=String(r.getDate()).padStart(2,"0"),"".concat(a).concat(l).concat(d)),"_").concat(h),E}return re(t,n),t}(J0),vce=function(n){function t(e){var r=e.deviceId,a=e.statLogs,l=n.call(this)||this;return l.method=pn.POST,l.path="".concat(Koe),l.params={device_id:r,log_entries:a.map(function(d){return J0.payloadify(d)})},l}return re(t,n),t}(fn),L9=function(n,t){var e,r;if(n!==null&&t!==null){var a=Object.keys(n),l=Object.keys(t),d=nt([],Wn(new Set(nt(nt([],Wn(a),!1),Wn(l),!1))),!1),h={};try{for(var f=Cn(d),_=f.next();!_.done;_=f.next()){var g=_.value,E=typeof n[g],w=typeof t[g];E==="undefined"?h[g]=t[g]:w==="undefined"?h[g]=n[g]:E!==w?h[g]=t[g]:E==="object"&&n[g]&&t[g]?h[g]=L9(n[g],t[g]):h[g]=t[g]}}catch(x){e={error:x}}finally{try{_&&!_.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return h}return t};(function(n){n[n.PENDING=0]="PENDING",n[n.COLLECT_ONLY=1]="COLLECT_ONLY",n[n.ENABLED=2]="ENABLED",n[n.DISABLED=3]="DISABLED"})(Bo||(Bo={}));var pc,gce=function(n){function t(e){var r=e.cacheContext,a=e.requestQueue,l=e.dispatcher,d=e.baseLimit,h=d===void 0?100:d,f=e.maxLimit,_=f===void 0?1e3:f,g=e.minLimit,E=g===void 0?10:g,w=n.call(this)||this;return w.queue=[],w.enabledState=Bo.PENDING,w.isFlushing=!1,w.generation=1,w.lastFlushedAt=0,w._collectRequestStat=!0,w._collectFeatureLocalCacheStat=!0,w.deviceId=zd(),w.cacheContext=r,w.requestQueue=a,w.dispatcher=l,w.baseLimit=h,w.limit=h,w.maxLimit=_,w.minLimit=E,w}return re(t,n),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.enabledState===Bo.ENABLED},enumerable:!1,configurable:!0}),t.prototype._arrangeStat=function(){var e=[];this._collectRequestStat&&e.push.apply(e,nt([],Wn(this.queue.filter(function(r){return r.type===Dl.API_RESULT||r.type===Dl.WEBSOCKET_CONNECT})),!1)),this._collectFeatureLocalCacheStat&&e.push.apply(e,nt([],Wn(this.queue.filter(function(r){return r.type===Dl.FEATURE_LOCALCACHE})),!1)),this.queue=e},t.prototype._save=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.enabledState!==Bo.ENABLED?[3,2]:[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(r){return J0.payloadify(r)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})];case 1:e.sent(),this.dispatch("save",nt([],Wn(this.queue),!1)),e.label=2;case 2:return[2]}})})},t.prototype._flush=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d;return F(this,function(h){switch(h.label){case 0:if(!this.isEnabled)return[3,10];if(this.isFlushing)return[3,10];this.isFlushing=!0,h.label=1;case 1:return h.trys.push([1,5,9,10]),this._arrangeStat(),e=this.queue.filter(function(f){if(f instanceof $u){var _=new Date,g=Wn([f.date.getFullYear(),_.getFullYear()],2),E=g[0],w=g[1];if(E<w)return!0;if(E===w){var x=Wn([f.date.getMonth(),_.getMonth()],2),T=x[0],N=x[1];if(T<N)return!0;if(T===N){var P=Wn([f.date.getDate(),_.getDate()],2);return P[0]<P[1]}}}return!1}),r=this.queue.filter(function(f){return!(f instanceof $u)}),(a=nt(nt([],Wn(e),!1),Wn(r),!1).slice(0,Math.min(this.limit,this.maxLimit))).length>0?(l=new vce({deviceId:this.deviceId,statLogs:a}),[4,this.requestQueue.send(l)]):[3,4];case 2:return h.sent(),this.dispatch("flush",a),this.queue=nt(nt([],Wn(e),!1),Wn(r),!1).slice(a.length),[4,this._save()];case 3:h.sent(),h.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,10];case 5:return(d=h.sent())instanceof Oe?d.code!==rt.STAT_LOG_NOT_ALLOWED?[3,7]:[4,this.clear()]:[3,8];case 6:return h.sent(),this.enabledState=Bo.DISABLED,[3,8];case 7:d.code===rt.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=Bo.COLLECT_ONLY),h.label=8;case 8:return this.limit=this.limit+20,[3,10];case 9:return this.isFlushing=!1,[7];case 10:return[2]}})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){var r,a,l=this;return F(this,function(d){switch(d.label){case 0:return this.key=e,[4,this.cacheContext.preference.get(this.key)];case 1:return(r=d.sent())?(this.deviceId=r.deviceId,this.queue=r.statLogs.map(function(h){return new J0({type:h.stat_type,ts:h.ts,data:h.data})}),this.generation=r.generation,this.lastFlushedAt=r.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(a=Math.min(Math.floor(18e4*Math.random()),100),[4,Fs(a)]):[3,4]):[3,4];case 2:return d.sent(),[4,this._flush()];case 3:d.sent(),d.label=4;case 4:return this.commandEventContext||(this.commandEventContext=this.dispatcher.on(function(h){if(h instanceof GT){var f=h.statLog;l.put(f)}else if(h instanceof D9){var _=h.request,g=h.features,E=h.options;l._collectRequestStat=_,l._collectFeatureLocalCacheStat=g==null?void 0:g.localCache,l._arrangeStat(),l._collectRequestStat||l._collectFeatureLocalCacheStat?l.enabledState=E.ingestion?Bo.ENABLED:Bo.COLLECT_ONLY:l.enabledState=Bo.DISABLED,l.isEnabled?l.queue.length>=l.limit&&l._flush():l.clear()}})),[2]}})})},t.prototype.put=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return this.enabledState===Bo.DISABLED?[3,3]:(e instanceof $u?this._collectFeatureLocalCacheStat&&(r=Wn(this.queue.filter(function(d){return d instanceof $u&&d.key===e.key}),1),(a=r[0])?a.data=L9(a.data,e.data):this.queue.push(e)):this._collectRequestStat&&this.queue.push(e),[4,this._save()]);case 1:return l.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:l.sent(),l.label=3;case 3:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return e.sent(),[2]}})})},t.prototype.close=function(){this.commandEventContext&&(this.commandEventContext.close(),this.commandEventContext=void 0)},t}(vh);(function(n){n[n.NONE=0]="NONE",n[n.VERBOSE=1]="VERBOSE",n[n.DEBUG=2]="DEBUG",n[n.INFO=3]="INFO",n[n.WARN=4]="WARN",n[n.ERROR=5]="ERROR"})(pc||(pc={}));var ep,bce=function(){function n(){this.level=pc.WARN}return n.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=pc.VERBOSE&&console.log.apply(console,nt(["[verbose]"],Wn(t),!1))},n.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=pc.DEBUG&&console.log.apply(console,nt(["[debug]"],Wn(t),!1))},n.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=pc.INFO&&console.log.apply(console,nt(["[info]"],Wn(t),!1))},n.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=pc.WARN&&console.warn.apply(console,nt(["[warn]"],Wn(t),!1))},n.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=pc.ERROR&&console.error.apply(console,nt(["[error]"],Wn(t),!1))},n}(),Cu={},Se=function(){function n(t,e){var r,a,l,d,h,f,_,g,E,w;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!Cu[t]){Cu[t]=this;var x=(r=e.options)!==null&&r!==void 0?r:new a9,T=this.sdkState={appId:e.appId,appVersion:(a=e.appVersion)!==null&&a!==void 0?a:"",appState:"foreground",userId:void 0,extensions:{},api:{host:(l=e.apiHost)!==null&&l!==void 0?l:"https://api-".concat(e.appId,".sendbird.com")},websocket:{host:(d=e.websocketHost)!==null&&d!==void 0?d:"wss://ws-".concat(e.appId,".sendbird.com"),pingerDisabled:!!e.noPingpong,pingInterval:void 0,pongTimeout:void 0,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new O9,responseTimeout:x.websocketResponseTimeout},sessionTokenRefreshTimeout:x.sessionTokenRefreshTimeout};this.appInfo=void 0,this.subscribedUnreadMessageCount={all:0,feed:0,customTypes:{},ts:0};var N=this.logger=new bce;this.logger.level=(h=e.logLevel)!==null&&h!==void 0?h:pc.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var P=this.cacheContext=new Foe({encryption:e.encryption,store:e.store,localCacheEnabled:(f=e.localCacheEnabled)!==null&&f!==void 0&&f,localCacheConfig:(_=e.localCacheConfig)!==null&&_!==void 0?_:new o9});this.debugMode=(g=e.debugMode)!==null&&g!==void 0&&g,this.maxSuperGroupChannelUnreadCount=kd.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=x.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=x.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=x.typingIndicatorThrottle,this.concurrentCallLimit=void 0,this.backOffDelay=void 0;var k=this.dispatcher=new Voe,C=new Boe;this.requestQueue=new ece(t,{auth:C,sdkState:T,dispatcher:k,logger:N,useFetchCompat:e.useFetchCompat}),this.sessionManager=new ace({auth:C,cacheContext:P,sdkState:T,dispatcher:k,requestQueue:this.requestQueue,logger:N}),this.connectionManager=new mce(t,{sdkState:T,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:k,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(E=e.disableWebSocketCloseEventHandling)!==null&&E!==void 0&&E,logger:N}),this.statLogCollector=new gce({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:k}),this.appStateToggleEnabled=(w=e.appStateToggleEnabled)===null||w===void 0||w}return Cu[t]}return n.of=function(t){if(Cu[t])return Cu[t];throw Oe.lostInstance},n.clear=function(t){Cu[t]&&delete Cu[t]},n.prototype.hasExtension=function(t){return this.sdkState.extensions&&this.sdkState.extensions[t]},n}(),Z1=function(){function n(){}return n.prototype.init=function(t,e){var r=e.sdkState,a=e.dispatcher,l=e.sessionManager,d=e.requestQueue,h=e.logger;e.onlineDetector;var f=e.cacheContext;this._iid=t,this._cacheContext=f,this._sdkState=r,this._dispatcher=a,this._sessionManager=l,this._requestQueue=d,this._logger=h},n}();(function(n){n.OPEN="open",n.CLOSED="closed"})(ep||(ep={}));var rn,U9="removed",F4=function(n){switch(n){case"open":return ep.OPEN;case"closed":return ep.CLOSED;default:return null}},P9=function(n){return!n||!!n.text&&ye("string",n.text)},mb=function(n){function t(e,r){var a,l,d,h,f,_,g,E=this;return(E=n.call(this,e)||this).pollId=0,E.id=0,E.text=null,E.voteCount=0,E.createdBy=null,E.createdAt=0,E.updatedAt=0,E._lastVotedAt=0,E.pollId=(a=r.poll_id)!==null&&a!==void 0?a:0,E.id=(l=r.id)!==null&&l!==void 0?l:0,E.text=(d=r.text)!==null&&d!==void 0?d:null,E.voteCount=(h=r.vote_count)!==null&&h!==void 0?h:0,E.createdBy=(f=r.created_by)!==null&&f!==void 0?f:null,E.createdAt=(_=r.created_at)!==null&&_!==void 0?_:0,E.updatedAt=(g=r.updated_at)!==null&&g!==void 0?g:0,E}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{vote_count:e.voteCount,poll_id:e.pollId,text:e.text,created_at:e.createdAt,id:e.id,created_by:e.createdBy,updated_at:e.updatedAt})))},t}(qa),So=function(n){function t(e,r){var a,l,d,h,f,_,g,E,w,x,T,N,P,k=this;return(k=n.call(this,e)||this).id=0,k.title=null,k.createdAt=0,k.updatedAt=0,k.closeAt=-1,k.status=ep.CLOSED,k.messageId=0,k.data=null,k.voterCount=-1,k.options=[],k.createdBy=null,k.allowUserSuggestion=!1,k.allowMultipleVotes=!1,k.votedPollOptionIds=[],k.id=(a=r.id)!==null&&a!==void 0?a:0,k.title=(l=r.title)!==null&&l!==void 0?l:null,k.createdAt=(d=r.created_at)!==null&&d!==void 0?d:0,k.updatedAt=(h=r.updated_at)!==null&&h!==void 0?h:0,k.closeAt=(f=r.close_at)!==null&&f!==void 0?f:-1,k.status=(_=F4(r.status))!==null&&_!==void 0?_:ep.CLOSED,k.messageId=(g=r.message_id)!==null&&g!==void 0?g:0,k.data=(E=r.data)!==null&&E!==void 0?E:null,k.voterCount=(w=r.voter_count)!==null&&w!==void 0?w:-1,k.options=r.options?r.options.map(function(C){return new mb(k._iid,C)}):[],k.createdBy=(x=r.created_by)!==null&&x!==void 0?x:null,k.allowUserSuggestion=(T=r.allow_user_suggestion)!==null&&T!==void 0&&T,k.allowMultipleVotes=(N=r.allow_multiple_votes)!==null&&N!==void 0&&N,k.votedPollOptionIds=(P=r.voted_option_ids)!==null&&P!==void 0?P:[],k}return re(t,n),t.prototype._applyPollUpdatePayload=function(e){var r,a,l,d,h,f,_,g,E=this;this.title=(r=e.title)!==null&&r!==void 0?r:this.title,this.updatedAt=(a=e.updated_at)!==null&&a!==void 0?a:this.updatedAt,this.closeAt=(l=e.close_at)!==null&&l!==void 0?l:this.closeAt,this.status=(d=F4(e.status))!==null&&d!==void 0?d:this.status,this.data=(h=e.data)!==null&&h!==void 0?h:this.data,this.voterCount=(f=e.voter_count)!==null&&f!==void 0?f:this.voterCount,e.options&&(this.options=e.options.map(function(w){return new mb(E._iid,w)}),this.votedPollOptionIds=e.options.filter(function(w){return w.vote_count>0}).map(function(w){return w.id})),this.allowUserSuggestion=(_=e.allow_user_suggestion)!==null&&_!==void 0?_:this.allowUserSuggestion,this.allowMultipleVotes=(g=e.allow_multiple_votes)!==null&&g!==void 0?g:this.allowMultipleVotes},t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{id:e.id,title:e.title,created_at:e.createdAt,updated_at:e.updatedAt,close_at:e.closeAt,status:e.status,message_id:e.messageId,data:e.data,voter_count:e.voterCount,options:e.options.map(function(r){return mb.payloadify(r)}),created_by:e.createdBy,allow_user_suggestion:e.allowUserSuggestion,allow_multiple_votes:e.allowMultipleVotes,voted_option_ids:e.votedPollOptionIds})))},t.prototype.applyPollUpdateEvent=function(e){var r=e._payload.poll;return!(!r||this.id!==r.id||r.updated_at<this.updatedAt)&&(this._applyPollUpdatePayload(r),!0)},t.prototype.applyPollVoteEvent=function(e){if(this.id!==e.pollId)return!1;var r=this.options,a=r.map(function(h){return h.id}),l=e._payload,d=Math.floor(l.ts/1e3);return l.updated_vote_counts.forEach(function(h){var f=a.indexOf(h.option_id);if(f>-1){var _=r[f];d>=_._lastVotedAt&&(_.voteCount=h.vote_count,_._lastVotedAt=d)}}),l.req_id&&l.voted_option_ids&&(this.votedPollOptionIds=l.voted_option_ids),typeof l.voter_count=="number"&&(this.voterCount=l.voter_count),!0},t.prototype.serialize=function(){return up(this)},t}(qa);(function(n){n.UNKNOWN="UNKNOWN",n.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",n.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",n.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",n.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",n.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",n.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",n.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",n.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",n.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",n.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",n.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",n.EVENT_CHANNEL_BANNED="EVENT_CHANNEL_BANNED",n.EVENT_CHANNEL_UNBANNED="EVENT_CHANNEL_UNBANNED",n.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",n.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",n.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",n.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",n.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",n.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",n.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",n.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",n.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",n.EVENT_CHANNEL_METADATA_CREATED="EVENT_CHANNEL_METADATA_CREATED",n.EVENT_CHANNEL_METADATA_UPDATED="EVENT_CHANNEL_METADATA_UPDATED",n.EVENT_CHANNEL_METADATA_DELETED="EVENT_CHANNEL_METADATA_DELETED",n.EVENT_CHANNEL_METACOUNTER_CREATED="EVENT_CHANNEL_METACOUNTER_CREATED",n.EVENT_CHANNEL_METACOUNTER_UPDATED="EVENT_CHANNEL_METACOUNTER_UPDATED",n.EVENT_CHANNEL_METACOUNTER_DELETED="EVENT_CHANNEL_METACOUNTER_DELETED",n.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",n.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",n.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",n.EVENT_PINNED_MESSAGE_UPDATED="EVENT_PINNED_MESSAGE_UPDATED",n.REQUEST_CHANNEL="REQUEST_CHANNEL",n.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",n.REFRESH_CHANNEL="REFRESH_CHANNEL",n.CHANNEL_LASTACCESSEDAT_UPDATED="CHANNEL_LASTACCESSEDAT_UPDATED",n.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",n.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS",n.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",n.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",n.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",n.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",n.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",n.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",n.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",n.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",n.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",n.REQUEST_MESSAGE="REQUEST_MESSAGE",n.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",n.EVENT_POLL_VOTED="EVENT_POLL_VOTED",n.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",n.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",n.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",n.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",n.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",n.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",n.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",n.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",n.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",n.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",n.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(rn||(rn={}));ge({},rn);var ku=function(n){return n.startsWith("EVENT_")||n.startsWith("LOCAL_MESSAGE_")||n===rn.SYNC_MESSAGE_FILL||n===rn.SYNC_MESSAGE_CHANGELOGS||n===rn.SYNC_POLL_CHANGELOGS},Kr=function(n){function t(e){var r=e.messages,a=e.source,l=e.isWebSocketEventComing,d=l!==void 0&&l,h=n.call(this)||this;return h.messages=r,h.source=a,h.isWebSocketEventComing=d,h}return re(t,n),t}(ii),KT=function(n){function t(e){var r=e.messageIds,a=e.source,l=e.isWebSocketEventComing,d=l!==void 0&&l,h=n.call(this)||this;return h.messageIds=r,h.source=a,h.isWebSocketEventComing=d,h}return re(t,n),t}(ii),F9=function(n){function t(e){var r=e.reqId,a=e.source,l=n.call(this)||this;return l.reqId=r,l.source=a,l}return re(t,n),t}(ii),H9=function(n){function t(e){var r=e.polls,a=e.source,l=n.call(this)||this;return l.polls=r,l.source=a,l}return re(t,n),t}(ii),QT=function(n){function t(e){var r=e.event,a=e.source,l=n.call(this)||this;return l.event=r,l.source=a,l}return re(t,n),t}(ii),J1=function(n){function t(e){var r=e.event,a=e.source,l=n.call(this)||this;return l.event=r,l.source=a,l}return re(t,n),t}(ii),Ic=function(){function n(t,e){var r;this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=t,this.limit=(r=e.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),n.prototype._validate=function(){return ye("number",this.limit)&&this.limit>0},n}(),Nc=function(n){function t(e,r,a,l){var d=n.call(this,e,l)||this;return d.channelUrl=r,d.channelType=a,d}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ye("string",this.channelUrl)&&Et(Dt,this.channelType)},t}(Ic),yce=function(n){this.pollId=0,this.messageId=0,this.pollId=n.poll_id,this.messageId=n.message_id,this._payload=n},Ece=function(n){function t(e){var r=e.title,a=e.optionTexts,l=e.data,d=e.allowUserSuggestion,h=e.allowMultipleVotes,f=e.closeAt,_=n.call(this)||this;return _.method=pn.POST,_.path=el,_.params={title:r,options:a,data:l,allow_user_suggestion:d,allow_multiple_votes:h,close_at:f},_}return re(t,n),t}(fn),wce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new So(e,r),a}return re(t,n),t}(vn),xce=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.pollId,d=n.call(this)||this;return d.method=pn.GET,d.path="".concat(el,"/").concat(encodeURIComponent(l)),d.params={channel_url:r,channel_type:a},d}return re(t,n),t}(fn),Sce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new So(e,r),a}return re(t,n),t}(vn),Tce=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.pollId,d=e.pollOptionId,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(el,"/").concat(encodeURIComponent(l),"/options/").concat(encodeURIComponent(d)),h.params={channel_url:r,channel_type:a},h}return re(t,n),t}(fn),Cce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pollOption=new mb(e,r),a}return re(t,n),t}(vn),kce=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.timestamp,d=e.token,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(Zt(r),"/").concat(encodeURIComponent(a),"/polls/changelogs"),h.params=Kn({change_ts:l,token:d}),h}return re(t,n),t}(fn),Ice=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedPolls=r.updated.map(function(l){return function(d,h){return new So(d,h)}(e,l)}),a.deletedPollIds=r.deleted.map(function(l){return l}),a.hasMore=r.has_more,a.nextToken=r.next,a}return re(t,n),t}(vn),Nce={title:"",optionTexts:[],data:void 0,allowUserSuggestion:void 0,allowMultipleVotes:void 0,closeAt:-1},B9=function(n){return ye("string",n.title)&&(t=n.optionTexts,St("string",t)&&t.every(function(e){return e.trim()!==""}))&&P9(n.data)&&ye("boolean",n.allowUserSuggestion,!0)&&ye("boolean",n.allowMultipleVotes,!0)&&ye("number",n.closeAt,!0);var t},Ace={channelUrl:"",channelType:Dt.BASE,pollId:0,pollOptionId:0},V9=function(n){return ye("string",n.channelUrl)&&n.channelUrl!==""&&Et(Dt,n.channelType)&&ye("number",n.pollId)&&n.pollId>0&&ye("number",n.pollOptionId)&&n.pollOptionId>0},Oce={channelUrl:"",channelType:Dt.BASE,pollId:0},z9=function(n){return ye("string",n.channelUrl)&&n.channelUrl!==""&&Et(Dt,n.channelType)&&ye("number",n.pollId)},ZM={},u1=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,l=e.sessionManager,d=e.requestQueue,h=e.logger;this._iid=t,this._sdkState=r,this._sessionManager=l,this._requestQueue=d,this._dispatcher=a,this._logger=h,ZM[t]=this}return n.of=function(t){return ZM[t]},n.prototype.buildPollFromSerializedData=function(t){var e=Od(t);return new So(this._iid,So.payloadify(e))},n.prototype.get=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return _n(z9(t)).throw(Oe.invalidParameters),e=new xce(ge({},t)),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(Sce).poll]}})})},n.prototype.create=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return _n(B9(t)).throw(Oe.invalidParameters),e=new Ece(ge({},t)),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(wce).poll]}})})},n.prototype.getOption=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return _n(V9(t)).throw(Oe.invalidParameters),e=new Tce(ge({},t)),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(Cce).pollOption]}})})},n.prototype.getPollChangeLogs=function(t,e,r,a){return a===void 0&&(a=rn.SYNC_POLL_CHANGELOGS),H(this,void 0,void 0,function(){var l,d,h,f,_,g,E;return F(this,function(w){switch(w.label){case 0:return l=new kce(Jn({channelType:e,channelUrl:t,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null})),[4,this._requestQueue.send(l)];case 1:return d=w.sent(),h=d.as(Ice),f=h.updatedPolls,_=h.deletedPollIds,g=h.hasMore,E=h.nextToken,f.length>0&&this._dispatcher.dispatch(new H9({polls:f,source:a})),[2,{updatedPolls:f,deletedPollIds:_,hasMore:g,token:E}]}})})},n}(),Rce=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.token,d=e.limit,h=n.call(this)||this;return h.method=pn.GET,h.path=el,h.params={channel_url:r,channel_type:a,token:l,limit:d},h}return re(t,n),t}(fn),Mce=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).polls=((a=r.polls)!==null&&a!==void 0?a:[]).map(function(d){return new So(e,d)}),l.token=r.next,l}return re(t,n),t}(vn),G9=function(n){function t(e,r){return n.call(this,e,r.channelUrl,r.channelType,r)||this}return re(t,n),t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Rce(ge(ge({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(Mce),d=l.polls,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Nc),Dce=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.pollId,d=e.pollOptionId,h=e.token,f=e.limit,_=n.call(this)||this;return _.method=pn.GET,_.path="".concat(el,"/").concat(encodeURIComponent(l),"/options/").concat(encodeURIComponent(d),"/voters"),_.params={channel_url:r,channel_type:a,token:h,limit:f},_}return re(t,n),t}(fn),Lce=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).voters=((a=r.voters)!==null&&a!==void 0?a:[]).map(function(d){return new kt(e,d)}),l.token=r.next,l}return re(t,n),t}(vn),q9=function(n){function t(e,r){var a=n.call(this,e,r.channelUrl,r.channelType,r)||this;return a.pollId=r.pollId,a.pollOptionId=r.pollOptionId,a}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ye("number",this.pollId)&&ye("number",this.pollOptionId)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Dce(ge(ge({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(Lce),d=l.voters,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Nc),J_,H4=function(n){function t(e){var r=n.call(this)||this;if(r.method=pn.POST,r.path="".concat(zoe),r.params=Kn({file:e.file,channel_url:e.channelUrl}),e.thumbnailSizes)for(var a=0;a<e.thumbnailSizes.length;a++){var l=e.thumbnailSizes[a],d=l.maxWidth,h=l.maxHeight;r.params["thumbnail".concat(a+1)]="".concat(d,",").concat(h)}return r.requestId=e.requestId,r}return re(t,n),t}(fn),B4=function(n){function t(e,r){var a,l,d,h=this;return(h=n.call(this,e,r)||this).url=r.url,h.fileSize=(a=r.file_size)!==null&&a!==void 0?a:0,h.thumbnailSizes=(l=r.thumbnails)!==null&&l!==void 0?l:[],h.requireAuth=(d=r.require_auth)!==null&&d!==void 0&&d,h}return re(t,n),t}(vn),V4=function(n){function t(e,r){var a,l,d,h=this;return(h=n.call(this,e)||this).replyCount=0,h.lastRepliedAt=0,h.updatedAt=0,h.replyCount=(a=r.reply_count)!==null&&a!==void 0?a:0,h.mostRepliedUsers=r.most_replies&&St("object",r.most_replies)?r.most_replies.map(function(f){return new kt(h._iid,f)}):[],h.lastRepliedAt=(l=r.last_replied_at)!==null&&l!==void 0?l:0,h.updatedAt=(d=r.updated_at)!==null&&d!==void 0?d:0,h}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{reply_count:e.replyCount,most_replies:Array.isArray(e.mostRepliedUsers)?e.mostRepliedUsers.map(function(r){return kt.payloadify(r)}):[],last_replied_at:e.lastRepliedAt,updated_at:e.updatedAt})))},t}(qa);(function(n){n.ADD="add",n.DELETE="delete"})(J_||(J_={}));var _d,zs,YT=function(n){this.messageId=0,this.operation=null,this.updatedAt=0;var t=ye("string",n.msg_id)?parseInt(n.msg_id):n.msg_id,e=n.user_id,r=n.operation?n.operation.toLowerCase():null,a=n.reaction,l=n.updated_at;t&&ye("string",e)&&ye("string",r)&&Et(J_,r)&&ye("string",a)&&a&&ye("number",l)&&(this.messageId=t,this.userId=e,this.key=a,this.operation=r,this.updatedAt=l)},Ug=function(){function n(t){var e,r,a,l=t.key,d=(a=nt([],Wn(t.user_ids),!1))!==null&&a!==void 0?a:[],h=t.updated_at;ye("string",l)&&l&&St("string",d)&&d.length>0&&ye("number",h)&&(this.key=l,this.userIds=d,this.updatedAt=h);var f={};try{for(var _=Cn(this.userIds),g=_.next();!g.done;g=_.next())f[g.value]=this.updatedAt}catch(E){e={error:E}}finally{try{g&&!g.done&&(r=_.return)&&r.call(_)}finally{if(e)throw e.error}}this._version=f}return Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),n.payloadify=function(t){return Kn(Jn({key:t.key,user_ids:t.userIds,updated_at:t.updatedAt}))},n.prototype.applyEvent=function(t){if(t.key===this.key&&this.updatedAt<=t.updatedAt){if(!this._version[t.userId]||this._version[t.userId]<=t.updatedAt){var e=this.userIds.indexOf(t.userId);switch(t.operation){case J_.ADD:e<0&&this.userIds.push(t.userId);break;case J_.DELETE:e>=0&&this.userIds.splice(e,1)}this._version[t.userId]=t.updatedAt}this.updatedAt=Math.max(this.updatedAt,t.updatedAt)}},n}(),ts=function(){function n(t){this.key=t.key,this.value=St("string",t.value)?nt([],Wn(t.value),!1):[]}return n.payloadify=function(t){var e;return Kn(Jn({key:t.key,value:(e=t.value)!==null&&e!==void 0?e:[]}))},n}(),JM=function(){function n(t){this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=t.url,t.secure_url&&(this.secureUrl=t.secure_url),t.type&&(this.type=t.type),t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.alt&&(this.alt=t.alt)}return n.payloadify=function(t){var e,r;return Kn(Jn({url:t.url,secure_url:t.secureUrl,type:t.type,width:(e=t.width)!==null&&e!==void 0?e:0,height:(r=t.height)!==null&&r!==void 0?r:0,alt:t.alt}))},n}(),e8=function(){function n(t){this.title=null,this.url=null,this.description=null,this.defaultImage=null,t["og:title"]&&(this.title=t["og:title"]),t["og:url"]&&(this.url=t["og:url"]),t["og:description"]&&(this.description=t["og:description"]),t["og:image"]&&(this.defaultImage=new JM(t["og:image"]))}return n.payloadify=function(t){return Kn(Jn({"og:title":t.title,"og:url":t.url,"og:description":t.description,"og:image":t.defaultImage?JM.payloadify(t.defaultImage):null}))},n}(),To=function(){function n(t){var e,r;this.volume=0,this.name=(e=t.name)!==null&&e!==void 0?e:"default",this.volume=(r=t.volume)!==null&&r!==void 0?r:1}return n.prototype.serialize=function(){return{name:this.name,volume:this.volume}},n.payloadify=function(t){return Kn(Jn({name:t.name,volume:t.volume}))},n}(),np=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).isBlockedByMe=!1,l.role=Et(go,r.role)?r.role:go.NONE,l.isBlockedByMe=(a=r.is_blocked_by_me)!==null&&a!==void 0&&a,l}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{role:e.role,is_blocked_by_me:e.isBlockedByMe})))},t}(kt);(function(n){n.PENDING="pending",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled"})(_d||(_d={})),function(n){n.PENDING="pending",n.IN_QUEUE="in_queue",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled",n.REMOVED="removed"}(zs||(zs={}));var n8=function(n){switch(n){case Gr.BASE:return"";case Gr.USER:return"MESG";case Gr.FILE:return"FILE";case Gr.ADMIN:return"ADMM"}},lc=function(n){function t(e,r){var a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U=this;(U=n.call(this,e)||this).channelType=Dt.BASE,U.parentMessage=null,U.silent=!1,U.isOperatorMessage=!1,U.messageType=Gr.BASE,U.mentionType=null,U.threadInfo=null,U.reactions=[],U.metaArrays=[],U.appleCriticalAlertOptions=null,U.createdAt=0,U.updatedAt=0,U.scheduledInfo=null,U.extendedMessage={},U._isContinuousMessages=!1,U._scheduledStatus=null,U.messageId=(l=(a=r.msg_id)!==null&&a!==void 0?a:r.message_id)!==null&&l!==void 0?l:0,U.channelUrl=r.channel_url,U.channelType=Et(Dt,r.channel_type)?r.channel_type:Dt.GROUP,r.channel&&(r.channel.channel_url&&(U.channelUrl=r.channel.channel_url),r.channel.channel_type&&(U.channelType=r.channel.channel_type)),U.parentMessageId=(d=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&d!==void 0?d:0,U.data=(h=r.data)!==null&&h!==void 0?h:"",U.customType=(f=r.custom_type)!==null&&f!==void 0?f:"",U.mentionType=Et(sa,r.mention_type)?r.mention_type:null,U.mentionedUsers=r.mentioned_users?r.mentioned_users.map(function(q){return new kt(U._iid,q)}):null,U.mentionedUserIds=(_=r.mentioned_user_ids)!==null&&_!==void 0?_:null,U.mentionedUsers&&!U.mentionedUserIds&&(U.mentionedUserIds=U.mentionedUsers.map(function(q){return q.userId})),U.mentionedMessageTemplate=(g=r.mentioned_message_template)!==null&&g!==void 0?g:"",U.threadInfo=r.thread_info?new V4(U._iid,r.thread_info):null,U.reactions=r.reactions?r.reactions.map(function(q){return new Ug(q)}):[];var M=(E=r.metaarray)!==null&&E!==void 0?E:{},R=(w=r.metaarray_key_order)!==null&&w!==void 0?w:Object.keys(M).sort(function(q,z){return q.localeCompare(z)});U.metaArrays=[];for(var I=0;I<R.length;I++){var D=R[I];U.metaArrays.push(new ts({key:D,value:M[D]||[]}))}return r.sorted_metaarray&&(U.metaArrays=r.sorted_metaarray.map(function(q){return new ts(q)})),U.ogMetaData=r.og_tag?new e8(r.og_tag):null,U.silent=(x=r.silent)!==null&&x!==void 0&&x,U.isOperatorMessage=(T=r.is_op_msg)!==null&&T!==void 0&&T,U.appleCriticalAlertOptions=r.apple_critical_alert_options?new To(r.apple_critical_alert_options):null,U.createdAt=(P=(N=r.created_at)!==null&&N!==void 0?N:r.ts)!==null&&P!==void 0?P:0,U.updatedAt=(k=r.updated_at)!==null&&k!==void 0?k:0,typeof r.scheduled_message_id=="number"&&typeof r.scheduled_at=="number"&&r.scheduled_status&&(U.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},U._scheduledStatus=r.scheduled_status),U.extendedMessage=(C=r.extended_message)!==null&&C!==void 0?C:{},U._isContinuousMessages=(A=r.is_continuous_messages)!==null&&A!==void 0&&A,U}return re(t,n),t.payloadify=function(e){var r,a,l,d;return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{channel_url:e.channelUrl,channel_type:e.channelType,message_id:e.messageId,type:n8(e.messageType),parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,mentioned_user_ids:e.mentionedUserIds,mentioned_users:(r=e.mentionedUsers)===null||r===void 0?void 0:r.map(function(h){return kt.payloadify(h)}),mentioned_message_template:e.mentionedMessageTemplate,thread_info:e.threadInfo?V4.payloadify(e.threadInfo):null,reactions:e.reactions.map(function(h){return Ug.payloadify(h)}),sorted_metaarray:(a=e.metaArrays)===null||a===void 0?void 0:a.map(function(h){return ts.payloadify(h)}),og_tag:e.ogMetaData?e8.payloadify(e.ogMetaData):null,silent:e.silent,is_op_msg:e.isOperatorMessage,apple_critical_alert_options:e.appleCriticalAlertOptions?To.payloadify(e.appleCriticalAlertOptions):null,created_at:e.createdAt,updated_at:e.updatedAt,scheduled_message_id:(l=e.scheduledInfo)===null||l===void 0?void 0:l.scheduledMessageId,scheduled_at:(d=e.scheduledInfo)===null||d===void 0?void 0:d.scheduledAt,scheduled_status:e._scheduledStatus,extended_message:e.extendedMessage})))},t._getParentMessageInfoPayload=function(e){return Kn(Jn({type:n8(e.messageType),ts:e.createdAt,user:e.sender?np.payloadify(e.sender):null,message:e.message,file:{url:e.plainUrl,name:e.name,type:e.type,require_auth:e.requireAuth}}))},t.prototype.isIdentical=function(e){return this.messageId===e.messageId},t.prototype.isEqual=function(e){return i9(this,e)},t.prototype.isUserMessage=function(){return this.messageType===Gr.USER},t.prototype.isFileMessage=function(){return this.messageType===Gr.FILE&&!Object.prototype.hasOwnProperty.call(this,"fileInfoList")},t.prototype.isMultipleFilesMessage=function(){return this.messageType===Gr.FILE&&Object.prototype.hasOwnProperty.call(this,"fileInfoList")},t.prototype.isAdminMessage=function(){return this.messageType===Gr.ADMIN},t.prototype.serialize=function(){return up(this)},t.prototype.getMetaArraysByKeys=function(e){return this.metaArrays.filter(function(r){return e.includes(r.key)})},t.prototype.applyThreadInfoUpdateEvent=function(e){return this.messageId===e.targetMessageId&&(this.threadInfo=e.threadInfo),!1},t.prototype.applyReactionEvent=function(e){if(this.messageId===e.messageId){for(var r=!1,a=0;a<this.reactions.length;a++)if(this.reactions[a].key===e.key){this.reactions[a].applyEvent(e),this.reactions[a].isEmpty&&this.reactions.splice(a,1),r=!0;break}r||e.operation!=="add"||this.reactions.push(new Ug(Ug.payloadify({key:e.key,userIds:[e.userId],updatedAt:e.updatedAt})))}},t.prototype.applyParentMessage=function(e){if(!this.parentMessage)return this.parentMessage=e,!0;if(this.parentMessageId===e.messageId){var r=this.parentMessage.updatedAt;if(e.updatedAt>=r)return this.parentMessage=e,!0}return!1},t}(qa),Di=function(n){function t(e,r){var a,l,d,h,f=this;if((f=n.call(this,e,r)||this).reqId="",f.replyToChannel=!1,f.errorCode=0,f.sender=r.user?new np(f._iid,r.user):r.sender_id,f.reqId=(l=(a=r.req_id)!==null&&a!==void 0?a:r.request_id)!==null&&l!==void 0?l:"",f.replyToChannel=(d=r.is_reply_to_channel)!==null&&d!==void 0&&d,r.request_state&&Et(Fr,r.request_state)&&(f.sendingStatus=r.request_state),!f.sendingStatus)if(f.messageId>0)f.sendingStatus=Fr.SUCCEEDED;else if(f.scheduledInfo)switch(r.scheduled_status&&(f._scheduledStatus=r.scheduled_status),r.scheduled_status){case zs.SENT:case zs.IN_QUEUE:f.sendingStatus=Fr.SUCCEEDED;break;case zs.PENDING:f.sendingStatus=Fr.SCHEDULED;break;case zs.FAILED:case zs.REMOVED:f.sendingStatus=Fr.FAILED;break;case zs.CANCELED:f.sendingStatus=Fr.CANCELED}else f.sendingStatus=Fr.PENDING;return f.errorCode=(h=r.error_code)!==null&&h!==void 0?h:0,f}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{user:np.payloadify(e.sender),req_id:e.reqId,is_reply_to_channel:e.replyToChannel,request_state:e.sendingStatus,error_code:e.errorCode})))},Object.defineProperty(t.prototype,"isResendable",{get:function(){return this.sendingStatus===Fr.FAILED&&Uoe(this.errorCode)},enumerable:!1,configurable:!0}),t.prototype.isIdentical=function(e){return this.messageId>0&&e.messageId>0?this.messageId===e.messageId:this.reqId===e.reqId},t}(lc),hp=function(){function n(t){var e,r;this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=t.url,this.width=t.width,this.height=t.height,this.realWidth=(e=t.real_width)!==null&&e!==void 0?e:t.width,this.realHeight=(r=t.real_height)!==null&&r!==void 0?r:t.height}return n.payloadify=function(t){return Kn(Jn({url:"",width:t.maxWidth,height:t.maxHeight,real_width:0,real_height:0}))},Object.defineProperty(n.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),n}(),pm={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ia.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},ey=function(n){return ye("number",n.prevResultSize)&&ye("number",n.nextResultSize)&&ye("boolean",n.isInclusive)&&ye("boolean",n.reverse)&&ye("string",n.messageTypeFilter)&&Et(ia,n.messageTypeFilter)&&St("string",n.customTypesFilter,!0)&&St("string",n.senderUserIdsFilter,!0)&&ye("boolean",n.includeMetaArray)&&ye("boolean",n.includeReactions)&&ye("boolean",n.includeParentMessageInfo)},tp=function(n){function t(e,r){var a,l,d,h,f=this;if((f=n.call(this,e,r)||this).translations={},f.message=(a=r.message)!==null&&a!==void 0?a:"",f.messageType=Gr.ADMIN,f.translations=(l=r.translations)!==null&&l!==void 0?l:{},r.parent_message_info){var _=r.parent_message_info;f.parentMessage=Ga(e,Kn(Jn(ge(ge({},_),{message_id:f.parentMessageId,channel_url:f.channelUrl,channel_type:f.channelType,file:_.file,url:(d=_.file)===null||d===void 0?void 0:d.url,require_auth:(h=_.file)===null||h===void 0?void 0:h.require_auth}))))}return f}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{message:e.message,translations:e.translations,parent_message_info:e.parentMessage?n._getParentMessageInfoPayload.call(this,e.parentMessage):null})))},t.prototype.getThreadedMessagesByTimestamp=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},pm),r),_n(this.messageId>0&&ye("number",e)&&ey(a)).throw(Oe.invalidParameters),[4,Ri.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,l.sent()]}})})},t}(lc),t8=function(){function n(t){var e,r;this.detail={},this.type=(e=t.type)!==null&&e!==void 0?e:"",this.vendor=(r=t.vendor)!==null&&r!==void 0?r:"",t.detail&&ye("object",t.detail)&&!Array.isArray(t.detail)&&(this.detail=t.detail)}return n.payloadify=function(t){return Kn(Jn({type:t.type,vendor:t.vendor,detail:t.detail}))},n}(),ra=function(n){function t(e,r){var a,l,d,h,f,_,g,E=this;if((E=n.call(this,e,r)||this).message="",E.messageParams=null,E.translations={},E.translationTargetLanguages=[],E.messageSurvivalSeconds=-1,E.plugins=[],E._poll=null,E.message=r.message,E.messageType=Gr.USER,E.translations=(d=r.translations)!==null&&d!==void 0?d:{},E.translationTargetLanguages=(h=r.target_langs)!==null&&h!==void 0?h:[],Object.keys(E.translations).length===0&&E.translationTargetLanguages.length>0)try{for(var w=Cn(E.translationTargetLanguages),x=w.next();!x.done;x=w.next()){var T=x.value;E.translations[T]=""}}catch(P){a={error:P}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(a)throw a.error}}if(E.messageSurvivalSeconds=(f=r.message_survival_seconds)!==null&&f!==void 0?f:-1,E.plugins=r.plugins?r.plugins.map(function(P){return new t8(P)}):[],E._poll=r.poll?new So(E._iid,r.poll):null,r.parent_message_info){var N=r.parent_message_info;E.parentMessage=Ga(e,Kn(Jn(ge(ge({},N),{created_at:N.ts,message_id:E.parentMessageId,channel_url:E.channelUrl,channel_type:E.channelType,file:N.file,url:(_=N.file)===null||_===void 0?void 0:_.url,require_auth:(g=N.file)===null||g===void 0?void 0:g.require_auth}))))}return E}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{message:e.message,translations:e.translations,message_survival_seconds:e.messageSurvivalSeconds,plugins:e.plugins.map(function(r){return t8.payloadify(r)}),poll:e._poll?So.payloadify(e._poll):null,parent_message_info:e.parentMessage?n._getParentMessageInfoPayload.call(this,e.parentMessage):null})))},t.prototype.getThreadedMessagesByTimestamp=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},pm),r),_n(this.messageId>0&&ye("number",e)&&ey(a)).throw(Oe.invalidParameters),[4,Ri.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,l.sent()]}})})},t.prototype.applyPoll=function(e){return!(this._poll&&this._poll.id===e.id&&this._poll.updatedAt>e.updatedAt)&&(this._poll=e,!0)},Object.defineProperty(t.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),t}(Di),r8=function(n){function t(e,r){var a,l,d,h,f,_=this;(_=n.call(this,e)||this).plainUrl="",_.fileName=null,_.mimeType=null,_.fileSize=0,_.thumbnails=[],_._requireAuth=!1,_.plainUrl=(a=r.url)!==null&&a!==void 0?a:"",_.fileName=(l=r.file_name)!==null&&l!==void 0?l:null,_.mimeType=(d=r.file_type)!==null&&d!==void 0?d:null,_.fileSize=(h=r.file_size)!==null&&h!==void 0?h:0,_._requireAuth=(f=r.require_auth)!==null&&f!==void 0&&f;var g=Se.of(_._iid).sessionManager;return _.thumbnails=r.thumbnails?r.thumbnails.map(function(E){return new hp(ge(ge({},E),{url:"".concat(E.url.split("?auth=")[0]).concat(_._requireAuth?"?auth=".concat(g.ekey):"")}))}):[],_}return re(t,n),t.payloadify=function(e){var r;return Kn(Jn({url:e.plainUrl,file_name:e.fileName,file_type:e.mimeType,file_size:e.fileSize,thumbnails:(r=e.thumbnails)===null||r===void 0?void 0:r.map(function(a){return{url:a.url,width:a.width,height:a.height,real_width:a.realWidth,real_height:a.realHeight}}),require_auth:e._requireAuth}))},Object.defineProperty(t.prototype,"url",{get:function(){var e=Se.of(this._iid).sessionManager;return this._requireAuth?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),t}(qa),js=function(n){function t(e,r){var a,l,d,h,f,_=this;if((_=n.call(this,e,r)||this).messageParams=null,_.fileInfoList=[],_.messageSurvivalSeconds=-1,_.messageType=Gr.FILE,_.fileInfoList=(l=(a=r.files)===null||a===void 0?void 0:a.map(function(E){return new r8(e,E)}))!==null&&l!==void 0?l:[],_.messageSurvivalSeconds=(d=r.message_survival_seconds)!==null&&d!==void 0?d:-1,r.parent_message_info){var g=r.parent_message_info;_.parentMessage=Ga(e,Kn(Jn(ge(ge({},g),{created_at:g.ts,message_id:_.parentMessageId,channel_url:_.channelUrl,channel_type:_.channelType,file:g.file,url:(h=g.file)===null||h===void 0?void 0:h.url,require_auth:(f=g.file)===null||f===void 0?void 0:f.require_auth}))))}return _}return re(t,n),t.prototype.getThreadedMessagesByTimestamp=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},pm),r),_n(this.messageId>0&&ye("number",e)&&ey(a)).throw(Oe.invalidParameters),[4,Ri.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,l.sent()]}})})},t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{files:e.fileInfoList&&e.fileInfoList&&Array.isArray(e.fileInfoList)?e.fileInfoList.map(function(r){return r8.payloadify(r)}):null,message_survival_seconds:e.messageSurvivalSeconds,parent_message_info:e.parentMessage?n._getParentMessageInfoPayload.call(this,e.parentMessage):null})))},t._isMultipleFilesMessagePayload=function(e){var r=e.files;return Array.isArray(r)&&r.length>=2},t._isMultipleFilesMessageSerializedData=function(e){var r=e.fileInfoList;return Array.isArray(r)},t}(Di),i8=function(n){switch(n.messageType){case Gr.USER:return ra.payloadify(n);case Gr.FILE:return n.fileInfoList?js.payloadify(n):di.payloadify(n);case Gr.ADMIN:return tp.payloadify(n);default:throw Oe.unknown}},Ga=function(n,t){switch(t.type){case"MESG":return new ra(n,t);case"FILE":return js._isMultipleFilesMessagePayload(t)?new js(n,t):new di(n,t);case"ADMM":case"BRDM":return new tp(n,t)}throw Oe.unknown},di=function(n){function t(e,r){var a,l,d,h,f,_,g,E,w,x,T,N,P,k,C=this;(C=n.call(this,e,r)||this).messageParams=null,C.plainUrl="",C.requireAuth=!1,C.thumbnails=[],C.messageSurvivalSeconds=-1,C.messageType=Gr.FILE;var A=r.file;C.plainUrl=((l=(a=A==null?void 0:A.url)!==null&&a!==void 0?a:r.url)!==null&&l!==void 0?l:"").split("?auth=")[0],C.name=(h=(d=A==null?void 0:A.name)!==null&&d!==void 0?d:r.name)!==null&&h!==void 0?h:"File",C.size=(_=(f=A==null?void 0:A.size)!==null&&f!==void 0?f:r.size)!==null&&_!==void 0?_:0,C.data=(E=(g=A==null?void 0:A.data)!==null&&g!==void 0?g:r.custom)!==null&&E!==void 0?E:"",C.type=A?(w=A.type)!==null&&w!==void 0?w:"":(x=r.type)!==null&&x!==void 0?x:"";var U=Se.of(C._iid).sessionManager;if(C.requireAuth=(T=r.require_auth)!==null&&T!==void 0&&T,C.thumbnails=r.thumbnails?r.thumbnails.map(function(R){return new hp(ge(ge({},R),{url:"".concat(R.url.split("?auth=")[0]).concat(C.requireAuth?"?auth=".concat(U.ekey):"")}))}):[],C.messageSurvivalSeconds=(N=r.message_survival_seconds)!==null&&N!==void 0?N:-1,r.parent_message_info){var M=r.parent_message_info;C.parentMessage=Ga(e,Kn(Jn(ge(ge({},M),{created_at:M.ts,message_id:C.parentMessageId,channel_url:C.channelUrl,channel_type:C.channelType,file:M.file,url:(P=M.file)===null||P===void 0?void 0:P.url,require_auth:(k=M.file)===null||k===void 0?void 0:k.require_auth}))))}return C}return re(t,n),t.payloadify=function(e){var r;return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{url:e.plainUrl,require_auth:e.requireAuth,file:{name:e.name,size:e.size,type:e.type,data:e.data},thumbnails:(r=e.thumbnails)===null||r===void 0?void 0:r.map(function(a){return{url:a.url,width:a.width,height:a.height,real_width:a.realWidth,real_height:a.realHeight}}),message_survival_seconds:e.messageSurvivalSeconds,parent_message_info:e.parentMessage?n._getParentMessageInfoPayload.call(this,e.parentMessage):null})))},Object.defineProperty(t.prototype,"url",{get:function(){var e=Se.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),t.prototype.getThreadedMessagesByTimestamp=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},pm),r),_n(this.messageId>0&&ye("number",e)&&ey(a)).throw(Oe.invalidParameters),[4,Ri.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,l.sent()]}})})},t}(Di),Uce=function(n){function t(e){var r,a,l,d=[];return e.mentionType===sa.USERS&&(e.mentionedUserIds?d=e.mentionedUserIds:e.mentionedUsers&&(d=e.mentionedUsers.map(function(h){return h.userId}))),n.call(this,{code:"FILE",ackRequired:!0,payload:Kn(Jn({channel_url:e.channelUrl,files:e.files?j9(e.files):null,url:e.url,name:(r=e.fileName)!==null&&r!==void 0?r:"",type:(a=e.mimeType)!==null&&a!==void 0?a:"",size:(l=e.fileSize)!==null&&l!==void 0?l:0,custom:e.data,custom_type:e.customType,thumbnails:e.thumbnailSizes,require_auth:e.requireAuth,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:d,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==Ld.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions?To.payloadify(e.appleCriticalAlertOptions):null,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId?e.parentMessageId:null,req_id:e.reqId,pin_message:e.isPinnedMessage}))})||this}return re(t,n),t}(za),Pce=function(n){function t(e){var r,a,l=this;l=n.call(this)||this;var d=[];return e.mentionType===sa.USERS&&(e.mentionedUserIds?d=e.mentionedUserIds:e.mentionedUsers&&(d=e.mentionedUsers.map(function(h){return h.userId}))),l.method=pn.POST,l.path="".concat(Zt(e.channelType),"/").concat(encodeURIComponent(e.channelUrl),"/messages"),l.params=Kn(Jn({message_type:Gr.FILE,user_id:e.userId,files:e.files?j9(e.files):null,url:e.fileUrl,mention_type:e.mentionType,mentioned_user_ids:d,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,data:e.data,custom_type:e.customType,thumbnails:(r=e.thumbnailSizes)===null||r===void 0?void 0:r.map(function(h){return hp.payloadify(h)}),require_auth:e.requireAuth,sorted_metaarray:(a=e.metaArrays)===null||a===void 0?void 0:a.map(function(h){return ts.payloadify(h)}),push_option:e.pushNotificationDeliveryOption,parent_message_id:e.parentMessageId?e.parentMessageId:null,apple_critical_alert_options:e.appleCriticalAlertOptions?To.payloadify(e.appleCriticalAlertOptions):null,reply_to_channel:e.isReplyToChannel,req_id:e.reqId,pin_message:e.isPinnedMessage})),l}return re(t,n),t}(fn),XT=function(n){function t(e,r,a){var l,d,h,f,_=this;(_=n.call(this,e,"FILE",a)||this).message=a.files&&a.files.length>=2?new js(e,a):new di(e,a);var g=Se.of(e).sdkState;return _.isMentioned=Z0(_.message.mentionType,(h=(l=_.message.mentionedUserIds)!==null&&l!==void 0?l:(d=_.message.mentionedUsers)===null||d===void 0?void 0:d.map(function(E){return E.userId}))!==null&&h!==void 0?h:[],g.userId),_.forceUpdateLastMessage=(f=a.force_update_last_message)!==null&&f!==void 0&&f,_}return re(t,n),t}(br),Fce=function(n){function t(e,r){var a,l,d,h,f=this;(f=n.call(this,e,r)||this).message=r.files&&r.files.length>=2?new js(e,r):new di(e,r);var _=Se.of(e).sdkState;return f.isMentioned=Z0(f.message.mentionType,(d=(a=f.message.mentionedUserIds)!==null&&a!==void 0?a:(l=f.message.mentionedUsers)===null||l===void 0?void 0:l.map(function(g){return g.userId}))!==null&&d!==void 0?d:[],_.userId),f.forceUpdateLastMessage=(h=r.force_update_last_message)!==null&&h!==void 0&&h,f}return re(t,n),t}(vn);function j9(n){return n.map(function(t){var e,r;return Kn(Jn({url:t.fileUrl,file_name:t.fileName,file_type:t.mimeType,file_size:t.fileSize,thumbnails:(e=t.thumbnailSizes)===null||e===void 0?void 0:e.map(function(a){return hp.payloadify(a)}),require_auth:(r=t._uploadedMetaData)===null||r===void 0?void 0:r.requireAuth}))})}var Ii;(function(n){n[n.PENDING=0]="PENDING",n[n.UPLOADING=1]="UPLOADING",n[n.UPLOADED=2]="UPLOADED",n[n.SENDING=3]="SENDING",n[n.FAILED=4]="FAILED"})(Ii||(Ii={}));var Hce=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,l=e.requestQueue,d=e.onlineDetector,h=e.cacheContext,f=this;this._queueMap=new Map,this._iid=t,this._sdkState=r,this._requestQueue=l,this._cacheContext=h,this._dispatcher=a,this._dispatcher.on(function(_){_ instanceof Ss&&(f._connectionState=_.stateType)}),this._onlineDetector=d}return Object.defineProperty(n.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Kt.CONNECTED||this._connectionState===Kt.CONNECTING||this._connectionState===Kt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype._sendFileMessage=function(t,e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(d){switch(d.label){case 0:return r=this._createSendFileMessageRequestParams(t,e),this._shouldSendThroughWebSocket?(a=new Uce(r),[4,this._requestQueue.send(a)]):[3,2];case 1:return l=d.sent(),[2,l.as(XT).message];case 2:return a=new Pce(ge(ge({},r),{userId:this._sdkState.userId})),[4,this._requestQueue.send(a)];case 3:return l=d.sent(),[2,l.as(Fce).message]}})})},n.prototype._createSendFileMessageRequestParams=function(t,e){var r=ge(ge({},e.params),{channelUrl:t.url,channelType:t.channelType,reqId:e.requestId,url:""});if(e.multipleFileUploadInfo){var a=e.params;r.files=a.fileInfoList}else a=e.params,r.url=a.fileUrl,r.requireAuth=a.requireAuth;return r},n.prototype._resolveMessageQueue=function(t){var e;return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g,E,w,x,T,N;return F(this,function(P){switch(P.label){case 0:if(!(r=this._queueMap.get(t.url)))return[3,21];if(r.isResolving)return[3,20];r.isResolving=!0,a=[],l=!0,P.label=1;case 1:P.trys.push([1,15,16,17]),d=Cn(r.messageQueue),h=d.next(),P.label=2;case 2:if(h.done)return[3,14];switch(f=h.value,f.state){case Ii.PENDING:case Ii.UPLOADING:return[3,3];case Ii.UPLOADED:return[3,4];case Ii.FAILED:return[3,12]}return[3,13];case 3:return l=!1,a.push(f),[3,13];case 4:if(!l)return[3,10];P.label=5;case 5:return P.trys.push([5,8,,9]),f.state=Ii.SENDING,[4,this._sendFileMessage(t,f)];case 6:return _=P.sent(),f.deferred.resolve(_),[4,Fs(100)];case 7:return P.sent(),[3,9];case 8:return g=P.sent(),f.deferred.reject(g),[3,9];case 9:return[3,11];case 10:a.push(f),P.label=11;case 11:return[3,13];case 12:return E=(e=f.error)!==null&&e!==void 0?e:Oe.unknown,f.deferred.reject(E.code===rt.REQUEST_CANCELED?Oe.fileUploadCanceled:E),[3,13];case 13:return h=d.next(),[3,2];case 14:return[3,17];case 15:return w=P.sent(),T={error:w},[3,17];case 16:try{h&&!h.done&&(N=d.return)&&N.call(d)}finally{if(T)throw T.error}return[7];case 17:return x=r.isResolveRequestPending,r.messageQueue=a,r.isResolving=!1,r.isResolveRequestPending=!1,x?[4,this._resolveMessageQueue(t)]:[3,19];case 18:P.sent(),P.label=19;case 19:return[3,21];case 20:r.isResolveRequestPending=!0,P.label=21;case 21:return[2]}})})},n.prototype._uploadNextPendingItem=function(t){var e;return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g,E;return F(this,function(w){switch(w.label){case 0:return(r=this._queueMap.get(t.url))&&(a=r.messageQueue.find(function(x){return x.state===Ii.PENDING}))?a.multipleFileUploadInfo?(l=a.multipleFileUploadInfo,d=l.uploadIndex,h=l.uploadCount,f=l.requestHandler,E=a.params,_=E.fileInfoList[d],!Li(_.file)||!((e=_._uploadedMetaData)===null||e===void 0)&&e.isUploaded?[3,2]:[4,this._tryUploadNextItemAndUpdateItemState(t,r,a)]):[3,4]:[3,9];case 1:return w.sent(),[3,3];case 2:a.state=d<h-1?Ii.PENDING:Ii.UPLOADED,w.label=3;case 3:return g=d,f==null||f._triggerOnFileUploaded(a.requestId,g,_,a.error),a.multipleFileUploadInfo.uploadIndex++,[3,7];case 4:return E=a.params,Li(E.file)?[4,this._tryUploadNextItemAndUpdateItemState(t,r,a)]:[3,6];case 5:return w.sent(),[3,7];case 6:E.thumbnailSizes=[],a.state=Ii.UPLOADED,w.label=7;case 7:return this._uploadNextPendingItem(t),[4,this._resolveMessageQueue(t)];case 8:w.sent(),w.label=9;case 9:return[2]}})})},n.prototype._tryUploadNextItemAndUpdateItemState=function(t,e,r){return H(this,void 0,void 0,function(){var a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return[4,this._onlineDetector.isOnline()];case 1:if(a=g.sent(),!Se.of(this._iid).sessionManager.currentUser||!a)return r.error=Oe.connectionRequired,r.state=Ii.FAILED,[2];if(!(e.uploadQueue.length<6))return[3,9];r.state=Ii.UPLOADING,e.uploadQueue.push(r),g.label=2;case 2:return g.trys.push([2,7,,8]),r.multipleFileUploadInfo?(l=r.multipleFileUploadInfo,d=l.uploadIndex,h=l.uploadCount,f=r.params,[4,this._uploadNextFileForMultipleFilesItemAndUpdateParams(t,r,f)]):[3,4];case 3:return g.sent(),r.state=d<h-1?Ii.PENDING:Ii.UPLOADED,[3,6];case 4:return f=r.params,[4,this._uploadNextFileForSingleFileItemAndUpdateParams(t,r,f)];case 5:g.sent(),r.state=Ii.UPLOADED,g.label=6;case 6:return[3,8];case 7:return _=g.sent(),r.error=_.code===rt.REQUEST_FAILED?new Oe({code:rt.NETWORK_ERROR,message:"Failed to upload a file."}):_,r.state=Ii.FAILED,[3,8];case 8:this._dequeueUploadItem(e,r),g.label=9;case 9:return[2]}})})},n.prototype._dequeueUploadItem=function(t,e){var r=t.uploadQueue.findIndex(function(a){return a.requestId===e.requestId});r>=0&&t.uploadQueue.splice(r,1)},n.prototype._uploadNextFileForSingleFileItemAndUpdateParams=function(t,e,r){var a,l,d;return H(this,void 0,void 0,function(){var h,f,_,g,E,w,x,T,N,P;return F(this,function(k){switch(k.label){case 0:return h=new H4({file:r.file,channelUrl:t.url,thumbnailSizes:r.thumbnailSizes,requestId:e.requestId}),[4,this._requestQueue.send(h)];case 1:return f=k.sent(),_=f.as(B4),g=_.url,E=_.fileSize,w=E===void 0?r.fileSize:E,x=_.thumbnailSizes,T=x===void 0?r.thumbnailSizes:x,N=_.requireAuth,P=N!==void 0&&N,r.fileName=(a=r.fileName)!==null&&a!==void 0?a:r.file.name,r.mimeType=(l=r.mimeType)!==null&&l!==void 0?l:r.file.type,r.fileSize=(d=r.fileSize)!==null&&d!==void 0?d:r.file.size,r.fileUrl=g,r.fileSize=w,r.thumbnailSizes=T,r.requireAuth=P,[2]}})})},n.prototype._uploadNextFileForMultipleFilesItemAndUpdateParams=function(t,e,r){var a,l,d;return H(this,void 0,void 0,function(){var h,f,_,g,E,w,x,T,N,P,k,C;return F(this,function(A){switch(A.label){case 0:return h=e.multipleFileUploadInfo.uploadIndex,f=r.fileInfoList[h],_=new H4({file:f.file,channelUrl:t.url,thumbnailSizes:f.thumbnailSizes,requestId:e.requestId}),[4,this._requestQueue.send(_)];case 1:return g=A.sent(),E=g.as(B4),w=E.url,x=E.fileSize,T=x===void 0?f.fileSize:x,N=E.thumbnailSizes,P=N===void 0?f.thumbnailSizes:N,k=E.requireAuth,C=k!==void 0&&k,f.fileName=(a=f.fileName)!==null&&a!==void 0?a:f.file.name,f.mimeType=(l=f.mimeType)!==null&&l!==void 0?l:f.file.type,f.fileSize=(d=f.fileSize)!==null&&d!==void 0?d:f.file.size,f.file=void 0,f.fileUrl=w,f.fileSize=T,f.thumbnailSizes=P,f._uploadedMetaData=ge(ge({},f._uploadedMetaData),{requireAuth:C,isUploaded:!0}),[2]}})})},n.prototype.request=function(t,e,r,a){return H(this,void 0,void 0,function(){var l,d,h,f,_;return F(this,function(g){return this._queueMap.has(t.url)||(l={messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1},this._queueMap.set(t.url,l)),d=this._queueMap.get(t.url),h=new rs,f={requestId:e,params:r,state:Ii.PENDING,deferred:h},function(E){return"fileInfoList"in E}(r)&&(_={uploadIndex:0,uploadCount:r.fileInfoList.length,requestHandler:a},f.multipleFileUploadInfo=_),d.messageQueue.push(f),this._uploadNextPendingItem(t),[2,h.promise]})})},n.prototype.cancel=function(t,e){var r,a,l=this._queueMap.get(t.url);if(l){var d=e?[l.messageQueue.find(function(g){return g.requestId===e})]:nt([],Wn(l.messageQueue),!1);try{for(var h=Cn(d),f=h.next();!f.done;f=h.next()){var _=f.value;if(_)switch(_.state){case Ii.PENDING:_.state=Ii.FAILED,_.error=Oe.requestCanceled,this._resolveMessageQueue(t);break;case Ii.UPLOADING:this._requestQueue.cancel(_.requestId)}}}catch(g){r={error:g}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}},n}(),z4,x_={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:ia.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,replyType:xa.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},a8=function(n){return ye("number",n.prevResultSize)&&ye("number",n.nextResultSize)&&ye("boolean",n.isInclusive)&&ye("boolean",n.reverse)&&ye("string",n.messageTypeFilter)&&Et(ia,n.messageTypeFilter)&&St("string",n.customTypesFilter,!0)&&St("string",n.senderUserIdsFilter,!0)&&Et(xa,n.replyType)&&ye("boolean",n.includeMetaArray)&&ye("boolean",n.includeReactions)&&ye("boolean",n.includeParentMessageInfo)&&ye("boolean",n.includeThreadInfo)&&ye("boolean",n.showSubchannelMessagesOnly)},G4={replyType:xa.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},s8=function(n){return Et(xa,n.replyType)&&ye("boolean",n.includeReactions)&&ye("boolean",n.includeMetaArray)&&ye("boolean",n.includeParentMessageInfo)&&ye("boolean",n.includeThreadInfo)},Bce=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,d=e.includeMetaArray,h=e.includeReactions,f=e.includeThreadInfo,_=e.includeParentMessageInfo,g=n.call(this)||this;return g.method=pn.GET,g.path="".concat(Zt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(encodeURIComponent(l)),g.params={is_sdk:!0,with_sorted_meta_array:d,include_reactions:h,include_thread_info:f,include_parent_message_info:_,include_poll_details:!0},g}return re(t,n),t}(fn),Vce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=r?Ga(e,ge({},r)):null,a}return re(t,n),t}(vn),Pg=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.timestamp,d=e.token,h=e.prevResultSize,f=e.nextResultSize,_=e.isInclusive,g=e.reverse,E=e.messageTypeFilter,w=e.customTypesFilter,x=e.senderUserIdsFilter,T=e.replyType,N=e.includeMetaArray,P=e.includeReactions,k=e.parentMessageId,C=e.includeThreadInfo,A=e.includeParentMessageInfo,U=e.showSubchannelMessagesOnly,M=e.checkingContinuousMessages,R=n.call(this)||this;return R.method=pn.GET,R.path="".concat(Zt(r),"/").concat(encodeURIComponent(a),"/messages"),R.params=Kn(Jn({is_sdk:!0,prev_limit:h,next_limit:f,include:_,reverse:g,message_ts:l,message_id:d,message_type:E??null,custom_types:w,sender_ids:x,include_reply_type:T,with_sorted_meta_array:N,include_reactions:P,parent_message_id:k,include_thread_info:C,include_parent_message_info:A,show_subchannel_message_only:U,include_poll_details:!0,checking_continuous_messages:M})),R}return re(t,n),t}(fn),Fg=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.messages=r.messages.map(function(l){return Ga(e,l)}),a}return re(t,n),t}(vn),zce=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.timestamp,d=e.token,h=e.replyType,f=e.includeMetaArray,_=e.includeReactions,g=e.includeThreadInfo,E=e.includeParentMessageInfo,w=n.call(this)||this;return w.method=pn.GET,w.path="".concat(Zt(r),"/").concat(encodeURIComponent(a),"/messages/changelogs"),w.params={change_ts:l,token:d,with_sorted_meta_array:f,include_reactions:_,include_thread_info:g,include_reply_type:h,include_parent_message_info:E,include_poll_details:!0},w}return re(t,n),t}(fn),Gce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedMessages=r.updated.map(function(l){return Ga(e,l)}),a.deletedMessagesInfo=r.deleted.map(function(l){return{messageId:l.message_id,deletedAt:l.deleted_at}}),a.hasMore=r.has_more,a.nextToken=r.next,a}return re(t,n),t}(vn),qce=function(n){function t(e){var r=e.channelUrl,a=e.scheduledMessageId,l=n.call(this)||this;return l.method=pn.GET,l.path="".concat(Ia,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(a)),l.params={},l}return re(t,n),t}(fn),jce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=r?Ga(e,ge({},r)):null,a}return re(t,n),t}(vn);(function(n){n.MUTED="muted",n.BANNED="banned"})(z4||(z4={}));var Ju,o8=function(){function n(t){var e,r,a,l;this.restrictionType=null,Et(z4,t.restriction_type)&&(this.restrictionType=t.restriction_type),this.description=(e=t.description)!==null&&e!==void 0?e:null,this.endAt=(a=(r=t.end_at)!==null&&r!==void 0?r:t.muted_end_at)!==null&&a!==void 0?a:-1,this.remainingDuration=(l=t.remaining_duration)!==null&&l!==void 0?l:-1}return n.payloadify=function(t){return Kn(Jn({restriction_type:t.restrictionType,description:t.description,end_at:t.endAt,remaining_duration:t.remainingDuration}))},n}(),Eh=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.restrictionInfo=new o8(r),a}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),o8.payloadify(e.restrictionInfo))))},t}(kt),$ce=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).isMuted=!1,l.isMuted=(a=r.is_muted)!==null&&a!==void 0&&a,l}return re(t,n),t}(kt),Sl=function(){function n(){this._onPending=bt,this._onFailed=bt,this._onSucceeded=bt}return n.prototype._trigger=function(t){switch(t==null?void 0:t.sendingStatus){case Fr.PENDING:t.errorCode===0&&this._onPending(t);break;case Fr.SCHEDULED:case Fr.SUCCEEDED:this._onSucceeded(t)}},n.prototype._triggerFailed=function(t,e){switch(e==null?void 0:e.sendingStatus){case Fr.FAILED:case Fr.CANCELED:this._onFailed(t,e.scheduledInfo?null:e)}},n.prototype.onPending=function(t){return this._onPending=t,this},n.prototype.onFailed=function(t){return this._onFailed=t,this},n.prototype.onSucceeded=function(t){return this._onSucceeded=t,this},n}(),ny={data:void 0,customType:void 0,mentionType:sa.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,parentMessageId:void 0,isReplyToChannel:!1,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0,isPinnedMessage:!1},ty=function(n){return ye("string",n.data,!0)&&ye("string",n.customType,!0)&&Et(sa,n.mentionType)&&St("string",n.mentionedUserIds,!0)&&St(kt,n.mentionedUsers,!0)&&ye("string",n.mentionedMessageTemplate,!0)&&St(ts,n.metaArrays,!0)&&ye("number",n.parentMessageId,!0)&&ye("boolean",n.isReplyToChannel)&&Et(Ld,n.pushNotificationDeliveryOption,!0)&&ye(To,n.appleCriticalAlertOptions,!0)&&ye("boolean",n.isPinnedMessage,!0)},l8=function(n){return{isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,pollId:n.pollId}},$9=ge(ge({},ny),{message:"",translationTargetLanguages:void 0,pollId:void 0}),W9=function(n){return ty(n)&&ye("string",n.message)&&St("string",n.translationTargetLanguages,!0)&&ye("number",n.pollId,!0)};(function(n){n.FILE="file",n.BLOB="blob",n.BLOB_LIKE_OBJECT="blobLikeObject",n.URL="url"})(Ju||(Ju={}));var S_,vb=function(n){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&n instanceof Blob},rx=function(n){return n===Ju.BLOB||n===Ju.FILE},c8=function(n){return{file:n.file,fileKey:n.fileKey,fileType:n.fileType,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption}},d8=ge(ge({},ny),{file:void 0,fileKey:void 0,fileUrl:void 0,fileName:void 0,fileType:void 0,fileSize:void 0,mimeType:void 0,thumbnailSizes:void 0,requireAuth:!1}),u8=function(n){return ty(n)&&(Li(n.file)||ye("string",n.fileUrl))&&ye("string",n.fileName,!0)&&ye("string",n.mimeType,!0)&&ye("number",n.fileSize,!0)&&(n.thumbnailSizes===null||n.thumbnailSizes===void 0||Array.isArray(n.thumbnailSizes)&&n.thumbnailSizes.every(function(t){return ye("object",t)&&t.maxWidth>0&&t.maxHeight>0}))},ZT={data:void 0,customType:void 0,mentionType:sa.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0},JT=function(n){return ye("string",n.data,!0)&&ye("string",n.customType,!0)&&Et(sa,n.mentionType)&&St("string",n.mentionedUserIds,!0)&&St(kt,n.mentionedUsers,!0)&&ye("string",n.mentionedMessageTemplate,!0)&&St(ts,n.metaArrays,!0)&&Et(Ld,n.pushNotificationDeliveryOption,!0)&&ye(To,n.appleCriticalAlertOptions,!0)},K9=ge(ge({},ZT),{message:void 0,translationTargetLanguages:void 0,pollId:void 0}),Q9=function(n){return JT(n)&&ye("string",n.message,!0)&&St("string",n.translationTargetLanguages,!0)&&ye("number",n.pollId,!0)},Wce=ge({},ZT),Kce=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.token,d=e.limit,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(Zt(a),"/").concat(encodeURIComponent(r),"/operators"),h.params={token:l,limit:d},h}return re(t,n),t}(fn),Qce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.operators=r.operators.map(function(l){return new kt(e,l)}),a.token=r.next,a}return re(t,n),t}(vn),Yce=function(n){function t(e,r,a,l){return n.call(this,e,r,a,l)||this}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=Se.of(this._iid).requestQueue,a=new Kce(ge(ge({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(a)]):[3,2]):[3,5];case 1:return l=_.sent(),d=l.as(Qce),h=d.operators,f=d.token,this._token=f,this._hasNext=!!f,this._isLoading=!1,[2,h];case 2:return[2,e];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Nc),Xce=function(n){function t(e,r,a,l){var d,h,f,_,g,E,w,x,T,N,P=this;return(P=n.call(this,e,r,a,l)||this).reverse=!1,P.messageTypeFilter=ia.ALL,P.customTypesFilter=null,P.senderUserIdsFilter=null,P.replyType=xa.NONE,P.includeMetaArray=!1,P.includeReactions=!1,P.includeParentMessageInfo=!1,P.includeThreadInfo=!1,P.showSubchannelMessagesOnly=!1,P._edge=Number.MAX_SAFE_INTEGER,P.reverse=(d=l.reverse)!==null&&d!==void 0&&d,P.messageTypeFilter=(h=l.messageTypeFilter)!==null&&h!==void 0?h:ia.ALL,P.customTypesFilter=(f=l.customTypesFilter)!==null&&f!==void 0?f:null,P.senderUserIdsFilter=(_=l.senderUserIdsFilter)!==null&&_!==void 0?_:null,P.replyType=(g=l.replyType)!==null&&g!==void 0?g:xa.NONE,P.includeMetaArray=(E=l.includeMetaArray)!==null&&E!==void 0&&E,P.includeReactions=(w=l.includeReactions)!==null&&w!==void 0&&w,P.includeParentMessageInfo=(x=l.includeParentMessageInfo)!==null&&x!==void 0&&x,P.includeThreadInfo=(T=l.includeThreadInfo)!==null&&T!==void 0&&T,P.showSubchannelMessagesOnly=(N=l.showSubchannelMessagesOnly)!==null&&N!==void 0&&N,P}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ye("boolean",this.reverse)&&Et(ia,this.messageTypeFilter)&&Et(xa,this.replyType)&&St("string",this.customTypesFilter,!0)&&St("string",this.senderUserIdsFilter,!0)&&ye("boolean",this.includeMetaArray)&&ye("boolean",this.includeReactions)&&ye("boolean",this.includeParentMessageInfo)&&ye("boolean",this.includeThreadInfo)&&ye("boolean",this.showSubchannelMessagesOnly)},t.prototype.load=function(){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Ri.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,Jn({prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly}))]):[3,2]:[3,5];case 1:return e=r.sent(),this._edge=Math.min.apply(Math,nt([Number.MAX_SAFE_INTEGER],Wn(e.map(function(a){return a.createdAt})),!1)),this._hasNext=e.length>=this.limit,this._isLoading=!1,[2,e];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Nc),Zce=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.limit,h=e.token;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/mute"),r.params={limit:d,token:h},r}return re(t,n),t}(fn),Jce=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.mutedUsers=[];var l=r.next,d=r.muted_list;return a.token=l,d&&d.length>0&&(a.mutedUsers=d.map(function(h){return new Eh(e,h)})),a}return re(t,n),t}(vn),ede=function(n){function t(e,r,a,l){return n.call(this,e,r,a,l)||this}return re(t,n),t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Zce(ge(ge({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(Jce),d=l.mutedUsers,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Nc),nde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.limit,h=e.token;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/ban"),r.params=Kn({limit:d,token:h}),r}return re(t,n),t}(fn),tde=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.bannedUsers=[];var l=r.next,d=r.banned_list;return a.token=l,d&&d.length>0&&(a.bannedUsers=d.map(function(h){return new Eh(e,h.user)})),a}return re(t,n),t}(vn),rde=function(n){function t(e,r,a,l){return n.call(this,e,r,a,l)||this}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new nde(ge(ge({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(tde),d=l.bannedUsers,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Nc);(function(n){n.SPAM="spam",n.HARASSING="harassing",n.SUSPICIOUS="suspicious",n.INAPPROPRIATE="inappropriate"})(S_||(S_={}));var ide=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.operatorUserIds;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/operators"),r.params={operator_ids:d},r}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var ade=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.operatorUserIds;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/operators"),r.params={operator_ids:d},r}return re(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(vn);var sde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.userId;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/mute/").concat(d),r}return re(t,n),t}(fn),ode=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.isMuted=!1,a.startAt=0,a.endAt=0;var l=r.is_muted,d=r.start_at,h=r.end_at,f=r.remaining_duration,_=r.description;return a.isMuted=l,a.startAt=d,a.endAt=h,a.remainingDuration=f,a.description=_,a}return re(t,n),t}(vn),h8=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.keys;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metadata"),r.params={keys:d,include_ts:!0},r}return re(t,n),t}(fn),p8=function(n){function t(e,r){var a=n.call(this,e,r)||this,l=r.metadata,d=r.ts;return a.metadata=l,a.ts=d,a}return re(t,n),t}(vn),lde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.metadata;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metadata"),r.params={metadata:d,include_ts:!0},r}return re(t,n),t}(fn),cde=function(n){function t(e,r){var a,l,d=this;return(d=n.call(this,e,r)||this).metaData=(a=r.metadata)!==null&&a!==void 0?a:{},d.ts=(l=r.ts)!==null&&l!==void 0?l:null,d}return re(t,n),t}(vn),dde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.metadata,h=e.upsert;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metadata"),r.params={metadata:d,include_ts:!0,upsert:h!=null&&h},r}return re(t,n),t}(fn),ude=function(n){function t(e,r){var a=n.call(this,e,r)||this,l=r.metadata,d=r.ts;return a.metadata=l,a.ts=d,a}return re(t,n),t}(vn),Y9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return a.data&&(l.created=a.data.created,l.updated=a.data.updated,l.deleted=a.data.deleted),l}return re(t,n),t}(br),hde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.key;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metadata/").concat(d),r.params={include_ts:!0},r}return re(t,n),t}(fn),pde=function(n){function t(e,r){var a=n.call(this,e,r)||this,l=r.ts;return a.ts=l,a}return re(t,n),t}(vn),fde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metadata"),r.params={include_ts:!0},r}return re(t,n),t}(fn),_de=function(n){function t(e,r){var a=n.call(this,e,r)||this,l=r.ts;return a.ts=l,a}return re(t,n),t}(vn),f8=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.keys;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={keys:d},r}return re(t,n),t}(fn),_8=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return re(t,n),t}(vn),mde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.metaCounter;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={metacounter:d},r}return re(t,n),t}(fn),vde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return re(t,n),t}(vn),ix=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.metaCounter,h=e.upsert,f=h!==void 0&&h,_=e.mode,g=_===void 0?"set":_;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={metacounter:d,upsert:f,mode:g},r}return re(t,n),t}(fn),ax=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return re(t,n),t}(vn),X9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return a.data&&(l.created=a.data.created,l.updated=a.data.updated,l.deleted=a.data.deleted),l}return re(t,n),t}(br),gde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.key;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metacounter/").concat(d),r.params={},r}return re(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(vn);var bde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={},r}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var yde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.userId,h=e.seconds,f=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/mute"),r.params={user_id:d,seconds:h,description:f},r}return re(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(vn);var Z9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new Eh(e,a.data),l}return re(t,n),t}(br),Ede=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.userId;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/mute/").concat(encodeURIComponent(d)),r}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var J9=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new Eh(e,a.data),l}return re(t,n),t}(br),wde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.userId,h=e.seconds,f=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/ban"),r.params=Kn({user_id:d,seconds:h,description:f}),r}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var eF=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new Eh(e,a.data),a.data.member_count&&(l.memberCount=a.data.member_count),a.data.joined_member_count&&(l.joinedMemberCount=a.data.joined_member_count),l}return re(t,n),t}(br),xde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.userId;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/ban/").concat(encodeURIComponent(d)),r}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var nF=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new Eh(e,a.data),l}return re(t,n),t}(br),m8=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.freezing;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Zt(l),"/").concat(encodeURIComponent(a),"/freeze"),r.params={freeze:d},r}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var tF=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.freeze=a.data.freeze,l}return re(t,n),t}(br),Sde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.category,h=e.userId,f=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(d9(l),"/").concat(encodeURIComponent(a)),r.params={report_category:d,reporting_user_id:h,report_description:f},r}return re(t,n),t}(fn),Tde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.category,h=e.userId,f=e.offendingUserId,_=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(R4,"/users/").concat(f),r.params={channel_url:a,channel_type:l===Dt.OPEN?"open_channels":"group_channels",report_category:d,reporting_user_id:h,report_description:_},r}return re(t,n),t}(fn),Cde=function(n){function t(e){var r=this,a=e.channelUrl,l=e.channelType,d=e.category,h=e.userId,f=e.offendingUserId,_=e.messageId,g=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(d9(l),"/").concat(encodeURIComponent(a),"/messages/").concat(_),r.params={report_category:d,reporting_user_id:h,report_description:g,offending_user_id:f},r}return re(t,n),t}(fn),kde=function(n){function t(e){var r=[];return e.mentionType===sa.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map(function(a){return a.userId}))),n.call(this,{code:"MESG",ackRequired:!0,payload:Kn(Jn({channel_url:e.channelUrl,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:r,mentioned_message_template:e.mentionedMessageTemplate,target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==Ld.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId?e.parentMessageId:null,req_id:e.reqId,poll_id:e.pollId,pin_message:e.isPinnedMessage}))})||this}return re(t,n),t}(za),eC=function(n){function t(e,r,a){var l,d,h,f,_=this;(_=n.call(this,e,"MESG",a)||this).message=new ra(e,a);var g=Se.of(e).sdkState;return _.isMentioned=Z0(_.message.mentionType,(h=(l=_.message.mentionedUserIds)!==null&&l!==void 0?l:(d=_.message.mentionedUsers)===null||d===void 0?void 0:d.map(function(E){return E.userId}))!==null&&h!==void 0?h:[],g.userId),_.forceUpdateLastMessage=(f=a.force_update_last_message)!==null&&f!==void 0&&f,_}return re(t,n),t}(br),v8=function(n){function t(e){var r=null;return e.mentionType===sa.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map(function(a){return a.userId}))),n.call(this,{code:"MEDI",ackRequired:!0,payload:Kn(Jn({channel_url:e.channelUrl,msg_id:e.messageId,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:r,mentioned_message_template:e.mentionedMessageTemplate,apple_critical_alert_options:e.appleCriticalAlertOptions?To.payloadify(e.appleCriticalAlertOptions):null,poll_id:e.pollId}))})||this}return re(t,n),t}(za),h1=function(n){function t(e,r,a){var l,d,h,f,_,g=this;(g=n.call(this,e,"MEDI",a)||this).message=new ra(e,a);var E=Se.of(e).sdkState;return g.mentionCountChange=zT({mentionType:(l=a.old_values)===null||l===void 0?void 0:l.mention_type,mentionedUserIds:(h=(d=a.old_values)===null||d===void 0?void 0:d.mentioned_user_ids)!==null&&h!==void 0?h:[]},Jn({mentionType:g.message.mentionType,mentionedUserIds:(f=g.message.mentionedUserIds)!==null&&f!==void 0?f:(_=g.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(w){return w.userId})}),E.userId),g}return re(t,n),t}(br),g8=function(n){function t(e){var r=null;return e.mentionType===sa.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map(function(a){return a.userId}))),n.call(this,{code:"FEDI",ackRequired:!0,payload:Kn(Jn({channel_url:e.channelUrl,msg_id:e.messageId,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:r,apple_critical_alert_options:e.appleCriticalAlertOptions}))})||this}return re(t,n),t}(za),p1=function(n){function t(e,r,a){var l,d,h,f,_,g=this;(g=n.call(this,e,"FEDI",a)||this).message=new di(e,a);var E=Se.of(e).sdkState;return g.mentionCountChange=zT({mentionType:(l=a.old_values)===null||l===void 0?void 0:l.mention_type,mentionedUserIds:(h=(d=a.old_values)===null||d===void 0?void 0:d.mentioned_user_ids)!==null&&h!==void 0?h:[]},Jn({mentionType:g.message.mentionType,mentionedUserIds:(f=g.message.mentionedUserIds)!==null&&f!==void 0?f:(_=g.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(w){return w.userId})}),E.userId),g}return re(t,n),t}(br),Ide=function(n){function t(e){var r=n.call(this)||this;return r.method=pn.DELETE,r.path="".concat(Zt(e.channelType),"/").concat(e.channelUrl,"/messages/").concat(e.messageId),r}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var rF=function(n){function t(e,r,a){var l=n.call(this,e,"DELM",a)||this;return l.channelUrl=a.channel_url,l.channelType=a.channel_type,l.messageId=Number(a.msg_id),l}return re(t,n),t}(br),Nde=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,d=e.reactionKey,h=n.call(this)||this;return h.method=pn.POST,h.path="".concat(Zt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(l,"/reactions"),h.params={reaction:d},h}return re(t,n),t}(fn),Ade=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.reactionEvent=new YT(r),a}return re(t,n),t}(vn),Ode=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,d=e.reactionKey,h=n.call(this)||this;return h.method=pn.DELETE,h.path="".concat(Zt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(l,"/reactions"),h.params={reaction:d},h}return re(t,n),t}(fn),Rde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.reactionEvent=new YT(ge({},r)),a}return re(t,n),t}(vn),Mde=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,d=e.translationTargetLanguages,h=n.call(this)||this;return h.method=pn.POST,h.path="".concat(Zt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(encodeURIComponent(l),"/translation"),h.params={target_langs:d},h}return re(t,n),t}(fn),Dde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new ra(e,r),a}return re(t,n),t}(vn),Lde=function(n){function t(e){var r,a=this;a=n.call(this)||this;var l=[];e.mentionType===sa.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map(function(f){return f.userId})));var d=e.channelType,h=e.channelUrl;return a.method=pn.POST,a.path="".concat(Zt(d),"/").concat(encodeURIComponent(h),"/scheduled_messages"),a.params=Kn(Jn({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:X0.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:l,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(f){return ts.payloadify(f)}),apple_critical_alert_options:e.appleCriticalAlertOptions?To.payloadify(e.appleCriticalAlertOptions):null,target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption})),a}return re(t,n),t}(fn),iF=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new ra(e,r),a}return re(t,n),t}(vn),Ude=function(n){function t(e){var r,a=this;a=n.call(this)||this;var l=[];e.mentionType===sa.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map(function(f){return f.userId})));var d=e.channelType,h=e.channelUrl;return a.method=pn.POST,a.path="".concat(Zt(d),"/").concat(encodeURIComponent(h),"/scheduled_messages"),a.params=Jn({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:X0.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(f){return hp.payloadify(f)}):[],custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:l,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(f){return ts.payloadify(f)}),apple_critical_alert_options:e.appleCriticalAlertOptions?To.payloadify(e.appleCriticalAlertOptions):null,push_option:e.pushNotificationDeliveryOption}),a}return re(t,n),t}(fn),Pde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new di(e,r),a}return re(t,n),t}(vn),Fde=function(n){function t(e){var r=e.pollId,a=e.title,l=e.data,d=e.allowUserSuggestion,h=e.allowMultipleVotes,f=e.closeAt,_=n.call(this)||this;return _.method=pn.PUT,_.path="".concat(el,"/").concat(encodeURIComponent(r)),_.params={title:a,data:l,allow_user_suggestion:d,allow_multiple_votes:h,close_at:f},_}return re(t,n),t}(fn),Hde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new So(e,r),a}return re(t,n),t}(vn),Bde=function(n){function t(e){var r=e.pollId,a=n.call(this)||this;return a.method=pn.DELETE,a.path="".concat(el,"/").concat(encodeURIComponent(r)),a}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var Vde=function(n){function t(e){var r=e.pollId,a=n.call(this)||this;return a.method=pn.PUT,a.path="".concat(el,"/").concat(encodeURIComponent(r),"/close"),a}return re(t,n),t}(fn),zde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new So(e,r),a}return re(t,n),t}(vn),Gde=function(n){function t(e){var r=e.channelUrl,a=e.channelType,l=e.pollId,d=e.optionText,h=n.call(this)||this;return h.method=pn.POST,h.path="".concat(el,"/").concat(encodeURIComponent(l),"/options"),h.params={channel_url:r,channel_type:a,text:d},h}return re(t,n),t}(fn),qde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new So(e,r),a}return re(t,n),t}(vn),jde=function(n){function t(e){var r=e.pollId,a=e.pollOptionId,l=e.optionText,d=n.call(this)||this;return d.method=pn.PUT,d.path="".concat(el,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(a)),d.params={text:l},d}return re(t,n),t}(fn),$de=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new So(e,r),a}return re(t,n),t}(vn),Wde=function(n){function t(e){var r=e.pollId,a=e.pollOptionId,l=n.call(this)||this;return l.method=pn.DELETE,l.path="".concat(el,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(a)),l}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var Or,Kde=function(n){function t(e){var r=e.reqId,a=e.channelType,l=e.channelUrl,d=e.pollId,h=e.pollOptionIds;return n.call(this,{code:"VOTE",ackRequired:!0,payload:Kn({req_id:r,channel_type:a===Dt.OPEN?"open_channels":"group_channels",channel_url:l,poll_id:d,option_ids:h})})||this}return re(t,n),t}(za),nC=function(n){function t(e,r,a){var l=n.call(this,e,"VOTE",a)||this;return l.event=new yce(a),l.channelUrl=a.channel_url,l.channelType=a.channel_type,l}return re(t,n),t}(br),aF=100,sF="GroupChannel",Qde="url",oF=100,lF="Message",Yde="messageId",Xde="Poll",Zde="pollId",Jde="FeedChannel",eue="url",nue=ge(ge({},ny),{fileInfoList:[]}),tue=function(n){return(Li(n.file)||ye("string",n.fileUrl))&&ye("string",n.fileName,!0)&&ye("string",n.mimeType,!0)&&ye("number",n.fileSize,!0)&&(n.thumbnailSizes===void 0||Array.isArray(n.thumbnailSizes)&&n.thumbnailSizes.every(function(t){return t.maxWidth>0&&t.maxHeight>0}))},cF=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._onFileUploaded=bt,e}return re(t,n),t.prototype._triggerOnFileUploaded=function(e,r,a,l){this._onFileUploaded(e,r,a,l)},t.prototype.onFileUploaded=function(e){return this._onFileUploaded=e,this},t.prototype.onPending=function(e){return n.prototype.onPending.call(this,e),this},t.prototype.onFailed=function(e){return n.prototype.onFailed.call(this,e),this},t.prototype.onSucceeded=function(e){return n.prototype.onSucceeded.call(this,e),this},t}(Sl),rue=2,q4=function(n){function t(e,r){var a,l,d,h,f,_,g=this;return(g=n.call(this,e)||this)._name="",g._createdAt=0,g.channelType=Dt.BASE,g.coverUrl="",g.customType="",g.data="",g.isFrozen=!1,g.isEphemeral=!1,g.creator=null,g._messageCollectionLastAccessedAt=0,g._url=r.channel_url,g._name=(a=r.name)!==null&&a!==void 0?a:"",g._createdAt=1e3*r.created_at,g.coverUrl=(l=r.cover_url)!==null&&l!==void 0?l:"",g.customType=(d=r.custom_type)!==null&&d!==void 0?d:"",g.data=(h=r.data)!==null&&h!==void 0?h:"",g.isFrozen=(f=r.freeze)!==null&&f!==void 0&&f,g.isEphemeral=(_=r.is_ephemeral)!==null&&_!==void 0&&_,g.creator=r.created_by?new kt(g._iid,r.created_by):null,r.metadata&&Object.keys(r.metadata).length>0&&r.ts&&(g._cachedMetaData=new Map,Object.keys(r.metadata).forEach(function(E){g._cachedMetaData.set(E,{value:r.metadata[E],isRemoved:!1,updatedAt:r.ts})})),g}return re(t,n),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createdAt",{get:function(){return this._createdAt},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return ge(ge({},this),{url:this._url,name:this._name,createdAt:this._createdAt})},t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{channel_url:e.url,name:e.name,cover_url:e.coverUrl,custom_type:e.customType,data:e.data,freeze:e.isFrozen,is_ephemeral:e.isEphemeral,created_by:e.creator?kt.payloadify(e.creator):null,created_at:e.createdAt/1e3})))},t.prototype.isGroupChannel=function(){return this.channelType===Dt.GROUP},t.prototype.isOpenChannel=function(){return this.channelType===Dt.OPEN},t.prototype.isFeedChannel=function(){return this.channelType===Dt.FEED},Object.defineProperty(t.prototype,"cachedMetaData",{get:function(){var e={};return this._cachedMetaData&&this._cachedMetaData.forEach(function(r,a){r.isRemoved||(e[a]=r.value)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageCollectionLastAccessedAt",{get:function(){return this._messageCollectionLastAccessedAt},enumerable:!1,configurable:!0}),t.prototype._updateMessageCollectionLastAccessedAt=function(){this._messageCollectionLastAccessedAt=Date.now()},t.prototype._update=function(e){var r=Kn(e);Object.assign(this,r)},t.prototype._upsertCachedMetaData=function(e,r){var a=this;Object.keys(e).forEach(function(l){a._cachedMetaData||(a._cachedMetaData=new Map);var d=a._cachedMetaData.get(l);(!d||d.updatedAt<=r)&&a._cachedMetaData.set(l,{value:e[l],isRemoved:!1,updatedAt:r})})},t.prototype._updateCachedMetaData=function(e,r){var a=this;this._cachedMetaData?this._cachedMetaData.forEach(function(l,d){var h;l.updatedAt<=r&&a._cachedMetaData.set(d,{value:(h=e[d])!==null&&h!==void 0?h:l.value,isRemoved:!e[d],updatedAt:r})}):(this._cachedMetaData=new Map,Object.keys(e).forEach(function(l){a._cachedMetaData.set(l,{value:e[l],isRemoved:!1,updatedAt:r})}))},t.prototype._removeFromCachedMetaData=function(e,r){var a=this;this._cachedMetaData&&e.forEach(function(l){var d=a._cachedMetaData.get(l);d&&d.updatedAt<r&&(d.isRemoved=!0,d.updatedAt=r)})},t.prototype._runIfHandleableWithGroupChannel=function(e){this.isGroupChannel()?e(this):this.isFeedChannel()&&e(this.groupChannel)},t.prototype._generateRequestId=function(){return"rq-".concat(zd())},t.prototype.isIdentical=function(e){return e&&this.url===e.url},t.prototype.isEqual=function(e){return i9(this,e)},t.prototype.createOperatorListQuery=function(e){return e===void 0&&(e={}),new Yce(this._iid,this.url,this.channelType,e)},t.prototype.createMutedUserListQuery=function(e){return e===void 0&&(e={}),new ede(this._iid,this.url,this.channelType,e)},t.prototype.createBannedUserListQuery=function(e){return e===void 0&&(e={}),new rde(this._iid,this.url,this.channelType,e)},t.prototype.createPreviousMessageListQuery=function(e){return e===void 0&&(e={}),new Xce(this._iid,this.url,this.channelType,e)},t.prototype.addOperators=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(St("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new ide({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.removeOperators=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(St("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new ade({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.getMyMutedInfo=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g,E,w;return F(this,function(x){switch(x.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new sde({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,a.send(l)];case 1:return d=x.sent(),h=d.as(ode),f=h.isMuted,_=h.startAt,g=h.endAt,E=h.remainingDuration,w=h.description,[2,{isMuted:f,startAt:_,endAt:g,remainingDuration:E,description:w}]}})})},t.prototype.getMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return _n(St("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new h8({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(a)];case 1:return l=_.sent(),d=l.as(p8),h=d.metadata,f=d.ts,this._upsertCachedMetaData(h,f),[2,h]}})})},t.prototype.getAllMetaData=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid).requestQueue,r=new h8({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return a=f.sent(),l=a.as(p8),d=l.metadata,h=l.ts,this._updateCachedMetaData(d,h),[2,d]}})})},t.prototype.createMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,d;return F(this,function(h){switch(h.label){case 0:return r=Se.of(this._iid).requestQueue,a=new lde({channelUrl:this.url,channelType:this.channelType,metadata:e}),[4,r.send(a)];case 1:return l=h.sent(),d=l.as(cde).metaData,this._upsertCachedMetaData(d,0),[2,d]}})})},t.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),H(this,void 0,void 0,function(){var a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return a=Se.of(this._iid).requestQueue,l=new dde({channelUrl:this.url,channelType:this.channelType,metadata:e,upsert:r}),[4,a.send(l)];case 1:return d=g.sent(),h=d.as(ude),f=h.metadata,_=h.ts,this._upsertCachedMetaData(f,_),[2,f]}})})},t.prototype.deleteMetaData=function(e){return H(this,void 0,void 0,function(){var r,a,l,d;return F(this,function(h){switch(h.label){case 0:return _n(ye("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new hde({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(a)];case 1:return l=h.sent(),d=l.as(pde).ts,this._removeFromCachedMetaData([e],d),[2]}})})},t.prototype.deleteAllMetaData=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return e=Se.of(this._iid).requestQueue,r=new fde({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return a=d.sent(),l=a.as(_de).ts,this._removeFromCachedMetaData(nt([],Wn(this._cachedMetaData.keys()),!1),l),[2]}})})},t.prototype.getMetaCounters=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(d){switch(d.label){case 0:return _n(St("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new f8({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(a)];case 1:return l=d.sent(),[2,l.as(_8).metaCounter]}})})},t.prototype.getAllMetaCounters=function(){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return e=Se.of(this._iid).requestQueue,r=new f8({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return a=l.sent(),[2,a.as(_8).metaCounter]}})})},t.prototype.createMetaCounters=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(d){switch(d.label){case 0:return r=Se.of(this._iid).requestQueue,a=new mde({channelUrl:this.url,channelType:this.channelType,metaCounter:e}),[4,r.send(a)];case 1:return l=d.sent(),[2,l.as(vde).metaCounter]}})})},t.prototype.updateMetaCounters=function(e,r){return r===void 0&&(r=!1),H(this,void 0,void 0,function(){var a,l,d;return F(this,function(h){switch(h.label){case 0:return a=Se.of(this._iid).requestQueue,l=new ix({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:r}),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(ax).metaCounter]}})})},t.prototype.increaseMetaCounters=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(d){switch(d.label){case 0:return r=Se.of(this._iid).requestQueue,a=new ix({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"increase"}),[4,r.send(a)];case 1:return l=d.sent(),[2,l.as(ax).metaCounter]}})})},t.prototype.decreaseMetaCounters=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(d){switch(d.label){case 0:return r=Se.of(this._iid).requestQueue,a=new ix({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"decrease"}),[4,r.send(a)];case 1:return l=d.sent(),[2,l.as(ax).metaCounter]}})})},t.prototype.deleteMetaCounter=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(ye("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new gde({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.deleteAllMetaCounters=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new bde({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.muteUser=function(e,r,a){return H(this,void 0,void 0,function(){return F(this,function(l){return[2,this.muteUserWithUserId(e.userId,r,a)]})})},t.prototype.muteUserWithUserId=function(e,r,a){return H(this,void 0,void 0,function(){var l,d;return F(this,function(h){switch(h.label){case 0:return _n(ye("string",e)&&ye("number",r,!0)&&ye("string",a,!0)).throw(Oe.invalidParameters),l=Se.of(this._iid).requestQueue,d=new yde({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:a}),[4,l.send(d)];case 1:return h.sent(),[2]}})})},t.prototype.unmuteUser=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2,this.unmuteUserWithUserId(e.userId)]})})},t.prototype.unmuteUserWithUserId=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(ye("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new Ede({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.banUser=function(e,r,a){return H(this,void 0,void 0,function(){return F(this,function(l){return[2,this.banUserWithUserId(e.userId,r,a)]})})},t.prototype.banUserWithUserId=function(e,r,a){return H(this,void 0,void 0,function(){var l,d;return F(this,function(h){switch(h.label){case 0:return _n(ye("string",e)&&ye("number",r,!0)&&ye("string",a,!0)).throw(Oe.invalidParameters),l=Se.of(this._iid).requestQueue,d=new wde({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:a}),[4,l.send(d)];case 1:return h.sent(),[2]}})})},t.prototype.unbanUser=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2,this.unbanUserWithUserId(e.userId)]})})},t.prototype.unbanUserWithUserId=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(ye("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new xde({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.freeze=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new m8({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,e.send(r)];case 1:return a.sent(),this.isFrozen=!0,[2]}})})},t.prototype.unfreeze=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new m8({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,e.send(r)];case 1:return a.sent(),this.isFrozen=!1,[2]}})})},t.prototype.getMessagesByMessageId=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},x_),r),_n(ye("number",e)&&a8(a)).throw(Oe.invalidParameters),[4,Ri.of(this._iid).getMessagesByMessageId(this.url,this.channelType,e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getMessagesByTimestamp=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},x_),r),_n(ye("number",e)&&a8(a)).throw(Oe.invalidParameters),[4,Ri.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getMessageChangeLogsSinceTimestamp=function(e,r){return r===void 0&&(r={}),H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},G4),r),_n(ye("number",e)&&s8(a)).throw(Oe.invalidParameters),[4,Ri.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getMessageChangeLogsSinceToken=function(e,r){return r===void 0&&(r={}),H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},G4),r),_n(ye("string",e)&&s8(a)).throw(Oe.invalidParameters),[4,Ri.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,a)];case 1:return[2,l.sent()]}})})},t.prototype._createPendingSendableMessagePayload=function(e,r,a){var l,d=Se.of(this._iid).sessionManager;return Kn(Jn({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,sorted_metaarray:e.metaArrays?e.metaArrays.map(function(h){return ts.payloadify(h)}):null,apple_critical_alert_options:e.appleCriticalAlertOptions?To.payloadify(e.appleCriticalAlertOptions):null,created_at:a,user:d.currentUser?np.payloadify(d.currentUser):null,req_id:r,request_state:Fr.PENDING,mentioned_user_ids:e.mentionedUserIds,mentioned_users:(l=e.mentionedUsers)===null||l===void 0?void 0:l.map(function(h){return kt.payloadify(h)})}))},t.prototype._createPendingUserMessage=function(e,r,a){var l,d,h={};if(e.translationTargetLanguages)try{for(var f=Cn(e.translationTargetLanguages),_=f.next();!_.done;_=f.next())h[_.value]=""}catch(w){l={error:w}}finally{try{_&&!_.done&&(d=f.return)&&d.call(f)}finally{if(l)throw l.error}}var g=Kn(ge(ge({},this._createPendingSendableMessagePayload(e,r,a)),{type:Gr.USER,message:e.message,translations:h})),E=new ra(this._iid,g);return E.messageParams=e,E},t.prototype._createPendingScheduledUserMessage=function(e,r,a){var l=this._createPendingUserMessage(e,r,a);return l.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},l},t.prototype._createPendingFileMessage=function(e,r,a){var l,d,h,f,_,g,E=Kn(ge(ge({},this._createPendingSendableMessagePayload(e,r,a)),{type:Gr.FILE,url:e.fileUrl,file:{name:(l=e.fileName)!==null&&l!==void 0?l:(d=e.file)===null||d===void 0?void 0:d.name,size:(h=e.fileSize)!==null&&h!==void 0?h:(f=e.file)===null||f===void 0?void 0:f.size,type:(_=e.mimeType)!==null&&_!==void 0?_:(g=e.file)===null||g===void 0?void 0:g.type,data:e.data},thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(x){return{url:"",width:x.maxWidth,height:x.maxHeight}}):[]})),w=new di(this._iid,E);return w.messageParams=e,w},t.prototype._createPendingMultipleFilesMessage=function(e,r,a){var l=Kn(ge(ge({},this._createPendingSendableMessagePayload(e,r,a)),{type:Gr.FILE})),d=new js(this._iid,l);return d.messageParams=e,d},t.prototype._createPendingScheduledFileMessage=function(e,r,a){var l=this._createPendingFileMessage(e,r,a);return l.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},l},t.prototype._markMessageAsFailed=function(e,r,a){a===void 0&&(a=!1),e.errorCode=r.code,r.code===rt.REQUEST_CANCELED||r.code===rt.FILE_UPLOAD_CANCEL_FAILED?e.sendingStatus=Fr.CANCELED:a||(e.sendingStatus=Fr.FAILED)},t.prototype.sendUserMessage=function(e){var r=ge(ge({},$9),e);return _n(W9(r)).throw(Oe.invalidParameters),this._sendUserMessage(r)},t.prototype._sendUserMessage=function(e,r,a){var l=this;a===void 0&&(a=!1);var d=Se.of(this._iid),h=d.dispatcher,f=d.requestQueue,_=r??this._generateRequestId(),g=Date.now(),E=new Sl;return _||(_=this._generateRequestId()),Fs(2).then(function(){var w=l._createPendingUserMessage(e,_,g);h.dispatch(new Kr({messages:[w],source:a?rn.LOCAL_MESSAGE_RESEND_STARTED:rn.EVENT_MESSAGE_SENT_PENDING})),jn(function(){return H(l,void 0,void 0,function(){return F(this,function(T){return[2,E._trigger(w)]})})});var x=new kde(ge(ge({},e),{channelUrl:l.url,channelType:l.channelType,reqId:_}));f.send(x).then(function(T){var N=T.as(eC).message;h.dispatch(new Kr({messages:[N],source:rn.EVENT_MESSAGE_SENT_SUCCESS})),jn(function(){return H(l,void 0,void 0,function(){return F(this,function(P){return[2,E._trigger(N)]})})})}).catch(function(T){if(Ko(T))throw T;Fs(2).then(function(){var N=l._createPendingUserMessage(e,_,g),P=Se.of(l._iid).cacheContext.localCacheEnabled&&i1(T.code);l._markMessageAsFailed(N,T,P),h.dispatch(new Kr({messages:[N],source:N.sendingStatus===Fr.PENDING?rn.REQUEST_RESEND_MESSAGE:rn.EVENT_MESSAGE_SENT_FAILED})),jn(function(){return H(l,void 0,void 0,function(){return F(this,function(k){return[2,E._triggerFailed(T,N)]})})})})})}),E},t.prototype._autoResendUserMessage=function(e){return _n(e instanceof ra&&!!e.messageParams).throw(Oe.invalidParameters),this._sendUserMessage(e.messageParams,e.reqId)},t.prototype.resendUserMessage=function(e){var r;return H(this,void 0,void 0,function(){var a,l;return F(this,function(d){return _n(e instanceof ra&&!e.scheduledInfo).throw(Oe.invalidParameters),a=new rs,l=(r=e.messageParams)!==null&&r!==void 0?r:function(h){var f;return Kn(Jn({data:h.data,customType:h.customType,mentionType:h.mentionType,mentionedUsers:h.mentionedUsers,mentionedUserIds:h.mentionedUserIds,mentionedMessageTemplate:h.mentionedMessageTemplate,metaArrays:h.metaArrays,pollId:(f=h.poll)===null||f===void 0?void 0:f.id,parentMessageId:h.parentMessageId,appleCriticalAlertOptions:h.appleCriticalAlertOptions,message:h.message,translationTargetLanguages:Object.keys(h.translations)}))}(e),this._sendUserMessage(l,e.reqId,!0).onFailed(function(h){return a.reject(h)}).onSucceeded(function(h){return a.resolve(h)}),[2,a.promise]})})},t.prototype.updateUserMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,d,h;return F(this,function(f){switch(f.label){case 0:return a=ge(ge({},K9),r),_n(ye("number",e)&&Q9(a)).throw(Oe.invalidParameters),l=Se.of(this._iid).requestQueue,d=new v8(ge({channelType:this.channelType,channelUrl:this.url,messageId:e},a)),[4,l.send(d)];case 1:return h=f.sent(),[2,h.as(h1).message]}})})},t.prototype.copyUserMessage=function(e,r){var a,l,d;return H(this,void 0,void 0,function(){var h,f;return F(this,function(_){return _n(e instanceof t&&r instanceof ra&&r.sendingStatus===Fr.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Oe.invalidParameters),_n(!r.poll).throw(Oe.notSupportedError),h=new rs,f=(a=r.messageParams)!==null&&a!==void 0?a:Jn(ge(ge({},r),{mentionType:r.mentionType,mentionedUserIds:(l=r.mentionedUserIds)!==null&&l!==void 0?l:(d=r.mentionedUsers)===null||d===void 0?void 0:d.map(function(g){return g.userId}),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:Ld.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1})),e._sendUserMessage(f).onSucceeded(function(g){h.resolve(g)}).onFailed(function(g){return h.reject(g)}),[2,h.promise]})})},t.prototype.translateUserMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,d;return F(this,function(h){switch(h.label){case 0:return _n(e instanceof ra&&e.messageId>0&&St("string",r)).throw(Oe.invalidParameters),a=Se.of(this._iid).requestQueue,l=new Mde({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,translationTargetLanguages:r}),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(Dde).message]}})})},t.prototype._createScheduledUserMessage=function(e,r){var a=this,l=Se.of(this._iid).requestQueue,d=Date.now(),h=this._generateRequestId();Fs(2).then(function(){var _=a._createPendingScheduledUserMessage(e,h,d);jn(function(){return H(a,void 0,void 0,function(){return F(this,function(g){return[2,r._trigger(_)]})})})});var f=new Lde(ge({reqId:h,channelType:this.channelType,channelUrl:this.url},e));l.send(f).then(function(_){var g=_.as(iF).message;jn(function(){return H(a,void 0,void 0,function(){return F(this,function(E){return[2,r._trigger(g)]})})})}).catch(function(_){if(Ko(_))throw _;Fs(2).then(function(){var g=a._createPendingScheduledUserMessage(e,h,d);a._markMessageAsFailed(g,_),jn(function(){return H(a,void 0,void 0,function(){return F(this,function(E){return[2,r._trigger(g)]})})})})})},t.prototype.sendFileMessage=function(e){var r=ge(ge({},d8),e);return _n(u8(r)).throw(Oe.invalidParameters),this._sendFileMessage(r)},t.prototype.sendMultipleFilesMessage=function(e){var r,a=ge(ge({},nue),e),l=Se.of(this._iid);_n(function(h,f){return f===void 0&&(f=lce),ty(h)&&Array.isArray(h.fileInfoList)&&h.fileInfoList.length>=2&&h.fileInfoList.length<=f&&h.fileInfoList.every(function(_){return tue(_)})}(a,(r=l.appInfo)===null||r===void 0?void 0:r.multipleFilesMessageFileCountLimit)).throw(Oe.invalidParameters);var d=!!e.fileInfoList.find(function(h){var f=l.appInfo.uploadSizeLimit;return h.file instanceof Blob&&h.file.size>f||h.fileSize>f});return _n(!d).throw(Oe.fileSizeLimitExceededError),this._sendMultipleFilesMessage(a)},t.prototype._sendFileMessage=function(e,r,a){var l=this;a===void 0&&(a=!1);var d=Se.of(this._iid).dispatcher,h=Ri.of(this._iid).fileMessageQueue,f=r??this._generateRequestId(),_=Date.now(),g=new Sl;return f||(f=this._generateRequestId()),Fs(2).then(function(){var E=l._createPendingFileMessage(e,f,_);d.dispatch(new Kr({messages:[E],source:a?rn.LOCAL_MESSAGE_RESEND_STARTED:rn.EVENT_MESSAGE_SENT_PENDING})),jn(function(){return H(l,void 0,void 0,function(){return F(this,function(w){return[2,g._trigger(E)]})})}),h.request(l,f,e).then(function(w){d.dispatch(new Kr({messages:[w],source:rn.EVENT_MESSAGE_SENT_SUCCESS})),jn(function(){return H(l,void 0,void 0,function(){return F(this,function(x){return[2,g._trigger(w)]})})})}).catch(function(w){if(Ko(w))throw w;Fs(2).then(function(){var x=l._createPendingFileMessage(e,f,_),T=Se.of(l._iid).cacheContext.localCacheEnabled&&i1(w.code);l._markMessageAsFailed(x,w,T),d.dispatch(new Kr({messages:[x],source:x.sendingStatus===Fr.PENDING?rn.REQUEST_RESEND_MESSAGE:w.code===rt.FILE_UPLOAD_CANCEL_FAILED?rn.LOCAL_MESSAGE_CANCELED:rn.EVENT_MESSAGE_SENT_FAILED})),jn(function(){return H(l,void 0,void 0,function(){return F(this,function(N){return[2,g._triggerFailed(w,x)]})})})})})}),g},t.prototype._autoResendFileMessage=function(e){_n(e instanceof di&&!!e.messageParams).throw(Oe.invalidParameters);var r=Se.of(this._iid).logger;return r.debug("autoResendFileMessage pending",e),this._sendFileMessage(e.messageParams,e.reqId).onFailed(function(a){r.debug("autoResendFileMessage failed",a)}).onSucceeded(function(a){r.debug("autoResendFileMessage success",a)})},t.prototype._sendMultipleFilesMessage=function(e,r){var a=this,l=Se.of(this._iid).dispatcher,d=Ri.of(this._iid).fileMessageQueue,h=r??this._generateRequestId(),f=Date.now(),_=new cF;return h||(h=this._generateRequestId()),Fs(2).then(function(){var g=a._createPendingMultipleFilesMessage(e,h,f);l.dispatch(new Kr({messages:[g],source:rn.EVENT_MESSAGE_SENT_PENDING})),jn(function(){return H(a,void 0,void 0,function(){return F(this,function(E){return[2,_._trigger(g)]})})}),d.request(a,h,e,_).then(function(E){l.dispatch(new Kr({messages:[E],source:rn.EVENT_MESSAGE_SENT_SUCCESS})),jn(function(){return H(a,void 0,void 0,function(){return F(this,function(w){return[2,_._trigger(E)]})})})}).catch(function(E){if(Ko(E))throw E;Fs(2).then(function(){var w=a._createPendingMultipleFilesMessage(e,h,f);a._markMessageAsFailed(w,E),l.dispatch(new Kr({messages:[w],source:rn.EVENT_MESSAGE_SENT_FAILED})),jn(function(){return H(a,void 0,void 0,function(){return F(this,function(x){return[2,_._triggerFailed(E,w)]})})})})})}),_},t.prototype._createScheduledFileMessage=function(e,r,a,l){var d=this,h=Se.of(this._iid).requestQueue,f=new Ude(ge(ge({reqId:a,channelType:this.channelType,channelUrl:this.url},e),{fileUrl:e.fileUrl,requireAuth:e.requireAuth}));h.send(f).then(function(_){var g=_.as(Pde).message;jn(function(){return H(d,void 0,void 0,function(){return F(this,function(E){return[2,r._trigger(g)]})})})}).catch(function(_){if(Ko(_))throw _;Fs(2).then(function(){var g=d._createPendingScheduledFileMessage(e,a,l);d._markMessageAsFailed(g,_),jn(function(){return H(d,void 0,void 0,function(){return F(this,function(E){return[2,r._triggerFailed(_,g)]})})})})})},t.prototype.sendFileMessages=function(e){var r,a;_n(e.every(function(_){return u8(ge(ge({},d8),_))})).throw(Oe.invalidParameters);var l=new Sl;try{for(var d=Cn(e),h=d.next();!h.done;h=d.next()){var f=h.value;this.sendFileMessage(f).onPending(function(_){return l._trigger(_)}).onFailed(function(_,g){return l._triggerFailed(_,g)}).onSucceeded(function(_){return l._trigger(_)})}}catch(_){r={error:_}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}return l},t.prototype.resendFileMessage=function(e,r){var a;return H(this,void 0,void 0,function(){var l,d,h;return F(this,function(f){return l=!!e.url||Li(r)||Li((a=e.messageParams)===null||a===void 0?void 0:a.file),_n(e instanceof di&&l&&!e.scheduledInfo).throw(Oe.invalidParameters),d=new rs,h=function(_,g){var E;return _.messageParams?(!_.url&&Li(g)&&(_.messageParams.file=g),_.messageParams):Kn(Jn({data:_.data,customType:_.customType,mentionType:_.mentionType,mentionedUsers:_.mentionedUsers,mentionedUserIds:_.mentionedUserIds,metaArrays:_.metaArrays,parentMessageId:_.parentMessageId,appleCriticalAlertOptions:_.appleCriticalAlertOptions,file:g,fileUrl:_.url,fileName:_.name,fileSize:_.size,mimeType:_.type,thumbnailSizes:(E=_.thumbnails)===null||E===void 0?void 0:E.map(function(w){return{maxWidth:w.width,maxHeight:w.height}})}))}(e,r),this._sendFileMessage(h,e.reqId,!0).onFailed(function(_){return d.reject(_)}).onSucceeded(function(_){return d.resolve(_)}),[2,d.promise]})})},t.prototype.updateFileMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,d,h;return F(this,function(f){switch(f.label){case 0:return a=ge(ge({},Wce),r),_n(ye("number",e)&&function(_){return JT(_)}(a)).throw(Oe.invalidParameters),l=Se.of(this._iid).requestQueue,d=new g8(ge({channelType:this.channelType,channelUrl:this.url,messageId:e},a)),[4,l.send(d)];case 1:return h=f.sent(),[2,h.as(p1).message]}})})},t.prototype.cancelUploadingFileMessage=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(ye("string",e)).throw(Oe.invalidParameters),Ri.of(this._iid).fileMessageQueue.cancel(this,e),[2,!0]})})},t.prototype.copyFileMessage=function(e,r){var a,l,d;return H(this,void 0,void 0,function(){var h,f;return F(this,function(_){return _n(e instanceof t&&r instanceof di&&r.sendingStatus===Fr.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Oe.invalidParameters),h=new rs,f=Jn(ge(ge({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(a=r.mentionedUserIds)!==null&&a!==void 0?a:(l=r.mentionedUsers)===null||l===void 0?void 0:l.map(function(g){return g.userId}),pushNotificationDeliveryOption:Ld.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:(d=r.thumbnails)===null||d===void 0?void 0:d.map(function(g){return{maxWidth:g.width,maxHeight:g.height}}),requireAuth:r.requireAuth,isPinnedMessage:!1})),e._sendFileMessage(f).onSucceeded(function(g){return h.resolve(g)}).onFailed(function(g){return h.reject(g)}),[2,h.promise]})})},t.prototype.deleteMessage=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(e instanceof lc).throw(Oe.invalidParameters),e.messageId>0?(r=Se.of(this._iid).requestQueue,a=new Ide({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId}),[4,r.send(a)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},t.prototype.addReaction=function(e,r){return H(this,void 0,void 0,function(){var a,l,d;return F(this,function(h){switch(h.label){case 0:return _n(e instanceof lc&&e.messageId>0&&ye("string",r)).throw(Oe.invalidParameters),a=Se.of(this._iid).requestQueue,l=new Nde({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(Ade).reactionEvent]}})})},t.prototype.deleteReaction=function(e,r){return H(this,void 0,void 0,function(){var a,l,d;return F(this,function(h){switch(h.label){case 0:return _n(e instanceof lc&&e.messageId>0&&ye("string",r)).throw(Oe.invalidParameters),a=Se.of(this._iid).requestQueue,l=new Ode({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(Rde).reactionEvent]}})})},t.prototype._updateUserMessageMetaArray=function(e,r,a,l){return H(this,void 0,void 0,function(){var d,h,f,_,g,E;return F(this,function(w){switch(w.label){case 0:return d=Se.of(this._iid),h=d.dispatcher,f=d.requestQueue,_=new v8({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:a,upsert:l}}),[4,f.send(_)];case 1:return g=w.sent(),E=g.as(h1).message,h.dispatch(new Kr({messages:[E],source:rn.EVENT_MESSAGE_UPDATED})),[2,E]}})})},t.prototype._updateFileMessageMetaArray=function(e,r,a,l){return H(this,void 0,void 0,function(){var d,h,f,_,g,E;return F(this,function(w){switch(w.label){case 0:return d=Se.of(this._iid),h=d.dispatcher,f=d.requestQueue,_=new g8({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:a,upsert:l}}),[4,f.send(_)];case 1:return g=w.sent(),E=g.as(p1).message,h.dispatch(new Kr({messages:[E],source:rn.EVENT_MESSAGE_UPDATED})),[2,E]}})})},t.prototype.createMessageMetaArrayKeys=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){return _n(e instanceof lc&&e.messageId>0&&St("string",r)).throw(Oe.invalidParameters),a=r.map(function(d){return new ts({key:d})}),e instanceof di?[2,this._updateFileMessageMetaArray(e.messageId,a,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,a,"add",!0)]})})},t.prototype.deleteMessageMetaArrayKeys=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){return _n(e instanceof lc&&e.messageId>0&&St("string",r)).throw(Oe.invalidParameters),a=r.map(function(d){return new ts({key:d})}),e instanceof di?[2,this._updateFileMessageMetaArray(e.messageId,a,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,a,"remove",!0)]})})},t.prototype.addMessageMetaArrayValues=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){return _n(e instanceof lc&&e.messageId>0&&r.every(function(l){return l instanceof ts})).throw(Oe.invalidParameters),e instanceof di?[2,this._updateFileMessageMetaArray(e.messageId,r,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"add",!0)]})})},t.prototype.removeMessageMetaArrayValues=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){return _n(e instanceof lc&&e.messageId>0&&r.every(function(l){return l instanceof ts})).throw(Oe.invalidParameters),e instanceof di?[2,this._updateFileMessageMetaArray(e.messageId,r,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"remove",!0)]})})},t.prototype.report=function(e,r){return H(this,void 0,void 0,function(){var a,l,d,h;return F(this,function(f){switch(f.label){case 0:return _n(Et(S_,e)&&ye("string",r)).throw(Oe.invalidParameters),a=Se.of(this._iid),l=a.sdkState,d=a.requestQueue,h=new Sde({channelUrl:this.url,channelType:this.channelType,userId:l.userId,category:e,description:r}),[4,d.send(h)];case 1:return f.sent(),[2]}})})},t.prototype.reportUser=function(e,r,a){return H(this,void 0,void 0,function(){var l,d,h,f;return F(this,function(_){switch(_.label){case 0:return _n(e instanceof kt&&Et(S_,r)&&ye("string",a)).throw(Oe.invalidParameters),l=Se.of(this._iid),d=l.sdkState,h=l.requestQueue,f=new Tde({channelUrl:this.url,channelType:this.channelType,userId:d.userId,offendingUserId:e.userId,category:r,description:a}),[4,h.send(f)];case 1:return _.sent(),[2]}})})},t.prototype.reportMessage=function(e,r,a){return H(this,void 0,void 0,function(){var l,d,h,f;return F(this,function(_){switch(_.label){case 0:return _n(e instanceof Di&&Et(S_,r)&&ye("string",a)).throw(Oe.invalidParameters),l=Se.of(this._iid),d=l.sdkState,h=l.requestQueue,f=new Cde({channelUrl:this.url,channelType:this.channelType,userId:d.userId,offendingUserId:e.sender.userId,messageId:e.messageId,category:r,description:a}),[4,h.send(f)];case 1:return _.sent(),[2]}})})},t.prototype.updatePoll=function(e,r){return H(this,void 0,void 0,function(){var a,l,d;return F(this,function(h){switch(h.label){case 0:return _n(ye("number",e)&&function(f){return ye("string",f.title,!0)&&P9(f.data)&&ye("boolean",f.allowUserSuggestion,!0)&&ye("boolean",f.allowMultipleVotes,!0)&&ye("number",f.closeAt,!0)}(r)).throw(Oe.invalidParameters),a=Se.of(this._iid).requestQueue,l=new Fde(ge({pollId:e},r)),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(Hde).poll]}})})},t.prototype.deletePoll=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(d){switch(d.label){case 0:return r=ye("number",e),_n(r).throw(Oe.invalidParameters),a=Se.of(this._iid).requestQueue,l=new Bde({pollId:e}),[4,a.send(l)];case 1:return d.sent(),[2]}})})},t.prototype.closePoll=function(e){return H(this,void 0,void 0,function(){var r,a,l,d;return F(this,function(h){switch(h.label){case 0:return r=ye("number",e),_n(r).throw(Oe.invalidParameters),a=Se.of(this._iid).requestQueue,l=new Vde({pollId:e}),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(zde).poll]}})})},t.prototype.addPollOption=function(e,r){return H(this,void 0,void 0,function(){var a,l,d,h;return F(this,function(f){switch(f.label){case 0:return a=ye("number",e)&&ye("string",r)&&r.trim()!=="",_n(a).throw(Oe.invalidParameters),l=Se.of(this._iid).requestQueue,d=new Gde({channelUrl:this.url,channelType:this.channelType,pollId:e,optionText:r}),[4,l.send(d)];case 1:return h=f.sent(),[2,h.as(qde).poll]}})})},t.prototype.updatePollOption=function(e,r,a){return H(this,void 0,void 0,function(){var l,d,h,f;return F(this,function(_){switch(_.label){case 0:return l=ye("number",e)&&ye("number",r)&&ye("string",a)&&a.trim()!=="",_n(l).throw(Oe.invalidParameters),d=Se.of(this._iid).requestQueue,h=new jde({pollId:e,pollOptionId:r,optionText:a}),[4,d.send(h)];case 1:return f=_.sent(),[2,f.as($de).poll]}})})},t.prototype.deletePollOption=function(e,r){return H(this,void 0,void 0,function(){var a,l,d;return F(this,function(h){switch(h.label){case 0:return a=ye("number",e)&&ye("number",r),_n(a).throw(Oe.invalidParameters),l=Se.of(this._iid).requestQueue,d=new Wde({pollId:e,pollOptionId:r}),[4,l.send(d)];case 1:return h.sent(),[2]}})})},t.prototype.votePoll=function(e,r){return H(this,void 0,void 0,function(){var a,l,d,h,f,_,g;return F(this,function(E){switch(E.label){case 0:return a=ye("number",e)&&St("number",r),_n(a).throw(Oe.invalidParameters),l=Se.of(this._iid),d=l.requestQueue,h=l.dispatcher,f=new Kde({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionIds:r}),[4,d.send(f)];case 1:return _=E.sent(),g=_.as(nC).event,h.dispatch(new J1({event:g,source:rn.EVENT_POLL_VOTED})),[2,g]}})})},t.prototype.getPollChangeLogsSinceTimestamp=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return _n(ye("number",e)).throw(Oe.invalidParameters),[4,u1.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}})})},t.prototype.getPollChangeLogsSinceToken=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return _n(ye("string",e,!0)),[4,u1.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}})})},t.prototype.createPollListQuery=function(e){return e===void 0&&(e=10),new G9(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:e})},t.prototype.createPollVoterListQuery=function(e,r,a){return a===void 0&&(a=20),new q9(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionId:r,limit:a})},t}(qa),dF=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(){this.onConnected=bt,this.onReconnectStarted=bt,this.onReconnectSucceeded=bt,this.onReconnectFailed=bt,this.onDisconnected=bt}),iue=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(){this.onSessionExpired=bt,this.onSessionTokenRequired=function(n){return n(null)},this.onSessionError=bt,this.onSessionRefreshed=bt,this.onSessionClosed=bt}),aue=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(){this.onFriendsDiscovered=bt,this.onTotalUnreadMessageCountChanged=bt,this.onTotalUnreadMessageCountUpdated=bt}),sue=function(n){function t(e){var r=e.limit,a=e.token,l=e.userIdsFilter,d=e.metaDataKeyFilter,h=e.metaDataValuesFilter,f=e.nicknameStartsWithFilter,_=n.call(this)||this;return _.method=pn.GET,_.path=Ht,_.params=Kn({limit:r,token:a,user_ids:l,metadatakey:d,metadatavalues_in:h,nickname_startswith:f}),_}return re(t,n),t}(fn),oue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(l){return new kt(e,l)}),a.next=r.next,a}return re(t,n),t}(vn),lue=function(n){function t(e,r){var a,l,d,h=this;return(h=n.call(this,e,r)||this).userIdsFilter=null,h.metaDataKeyFilter=null,h.metaDataValuesFilter=null,h.nicknameStartsWithFilter=null,h.userIdsFilter=(a=r.userIdsFilter)!==null&&a!==void 0?a:null,h.metaDataKeyFilter=(l=r.metaDataKeyFilter)!==null&&l!==void 0?l:null,h.metaDataValuesFilter=(d=r.metaDataValuesFilter)!==null&&d!==void 0?d:null,h.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,h}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&St("string",this.userIdsFilter,!0)&&ye("string",this.metaDataKeyFilter,!0)&&St("string",this.metaDataValuesFilter,!0)&&ye("string",this.metaDataKeyFilter,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new sue(Jn(ge(ge({},this),{token:this._token}))),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(oue),d=l.users,h=l.next,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Ic),cue=function(n){function t(e){var r=e.userId,a=e.limit,l=e.token,d=e.userIdsFilter,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(Ht,"/").concat(r,"/block"),h.params=Kn({limit:a,token:l,user_ids:d}),h}return re(t,n),t}(fn),due=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(l){return new kt(e,l)}),a.next=r.next,a}return re(t,n),t}(vn),uue=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).userIdsFilter=null,l.userIdsFilter=(a=r.userIdsFilter)!==null&&a!==void 0?a:null,l}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&St("string",this.userIdsFilter,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new cue(Jn(ge(ge({},this),{userId:r.userId,token:this._token}))),[4,a.send(l)]):[3,2]:[3,5];case 1:return d=g.sent(),h=d.as(due),f=h.users,_=h.next,this._token=_,this._hasNext=!!_,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Ic),hue=function(n){function t(e){var r=e.userId,a=e.limit,l=e.token,d=n.call(this)||this;return d.method=pn.GET,d.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friends"),d.params={limit:a,token:l},d}return re(t,n),t}(fn),pue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.hasMore=r.has_more,a.users=r.users.map(function(l){return new kt(e,l)}),a.next=r.next,a}return re(t,n),t}(vn),fue=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g;return F(this,function(E){switch(E.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new hue(ge(ge({},this),{userId:r.userId,token:this._token})),[4,a.send(l)]):[3,2]:[3,5];case 1:return d=E.sent(),h=d.as(pue),f=h.users,_=h.hasMore,g=h.next,this._token=g,this._hasNext=_,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Ic),Hg={},ry=function(){function n(t){var e=t.dbname,r=t.itemSizeLimit,a=r===void 0?1048576:r,l=t.cacheLimit,d=l===void 0?256:l,h=t.blockHashBase,f=h===void 0?2:h,_=t.blockHashMultiplier,g=_===void 0?10:_,E=t.blockHashConstant,w=E===void 0?11:E,x=t.transactionApplyDelay,T=x===void 0?200:x,N=t.disableLogger,P=N!==void 0&&N;return Hg[e]||(this.itemSizeLimit=a,this.cacheLimit=d,this.blockHashBase=f,this.blockHashMultiplier=g,this.blockHashConstant=w,this.transactionApplyDelay=T,this.disableLogger=P,Hg[e]=this),Hg[e]}return n.get=function(t){return Hg[t]},n}();(function(n){n[n.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",n[n.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",n[n.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",n[n.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",n[n.STORE_IS_FULL=61001003]="STORE_IS_FULL",n[n.STORE_NOT_INITIALIZED=61001004]="STORE_NOT_INITIALIZED",n[n.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",n[n.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",n[n.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",n[n.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",n[n.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",n[n.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",n[n.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",n[n.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",n[n.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",n[n.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",n[n.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",n[n.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",n[n.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",n[n.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",n[n.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",n[n.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",n[n.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",n[n.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",n[n.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",n[n.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(Or||(Or={}));var Wu,tr=function(n){function t(e){var r=e.code,a=r===void 0?Or.UNKNOWN_ERROR:r,l=e.message,d=l===void 0?"Unknown error occurred.":l,h=n.call(this,d)||this;return h.code=a,Object.setPrototypeOf(h,t.prototype),h}return re(t,n),Object.defineProperty(t,"storeNotDefined",{get:function(){return new t({code:Or.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailable",{get:function(){return new t({code:Or.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailableInPrivateBrowsing",{get:function(){return new t({code:Or.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeIsFull",{get:function(){return new t({code:Or.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotInitialized",{get:function(){return new t({code:Or.STORE_NOT_INITIALIZED,message:"Store is not initialized."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeKeyTypeIsInvalid",{get:function(){return new t({code:Or.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenIntegrity",{get:function(){return new t({code:Or.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenBlob",{get:function(){return new t({code:Or.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeEncryptionInvalid",{get:function(){return new t({code:Or.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeItemSizeExceeded",{get:function(){return new t({code:Or.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeReadFailed",{get:function(){return new t({code:Or.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeWriteFailed",{get:function(){return new t({code:Or.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseSchemaNotOnUpgrade",{get:function(){return new t({code:Or.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionNotReady",{get:function(){return new t({code:Or.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotMatch",{get:function(){return new t({code:Or.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionQueryNotValid",{get:function(){return new t({code:Or.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionInsertDuplicate",{get:function(){return new t({code:Or.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotFound",{get:function(){return new t({code:Or.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotGiven",{get:function(){return new t({code:Or.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionWriteFailed",{get:function(){return new t({code:Or.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionItemSizeExceeded",{get:function(){return new t({code:Or.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTableIsRequired",{get:function(){return new t({code:Or.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTypesNotMatch",{get:function(){return new t({code:Or.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"compareTypesNotMatch",{get:function(){return new t({code:Or.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularReferenceFound",{get:function(){return new t({code:Or.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),t}(Error);(function(n){n.INIT="init",n.READY="ready",n.CLOSED="closed"})(Wu||(Wu={}));var b8,ns=function(n,t){if(t===void 0&&(t=new WeakMap),typeof n=="object"&&n!==null){if(t.has(n))throw tr.circularReferenceFound;t.set(n,!0);var e=void 0;if(Array.isArray(n))e=n.map(function(a){return ns(a,t)});else if(n instanceof RegExp)e=n;else if(n instanceof Date)e=n;else for(var r in e={},n)e[r]=ns(n[r],t);return t.delete(n),e}return n},vc=function(n,t){if(t==null)return 1;if(n==null)return-1;if(typeof n!=typeof t)throw tr.compareTypesNotMatch;var e=0;switch(typeof n){case"boolean":case"number":e=n-t;break;case"string":e=n.localeCompare(t)}return e},y8=function(n,t){for(var e=0,r=0;r<n.length;r++)e=n.charCodeAt(r)+(e<<6)+(e<<16)-e;return(e>>>0)%t},Bg=function(n){return new Promise(function(t){setTimeout(function(){return t()},n)})},eh=function(n,t){if(!t)return!1;if(typeof n!="function"){for(var e in n)if(["/and","&&"].includes(e)){if(n[e].some(function(f){return!eh(f,t)}))return!1}else if(["/or","||"].includes(e)){if(n[e].every(function(f){return!eh(f,t)}))return!1}else if(e==="/where"){if(!(0,n[e])(t))return!1}else{var r=e;if(typeof n[r]=="object"){var a=n[r];for(var l in a)switch(l){case"/eq":case"=":if((d=t[r])!==(h=a[l]))return!1;break;case"/neq":case"!=":if((d=t[r])===(h=a[l]))return!1;break;case"/gt":case">":var d=t[r],h=a[l];if(!(vc(d,h)>0))return!1;break;case"/gte":case">=":if(d=t[r],h=a[l],!(vc(d,h)>=0))return!1;break;case"/lt":case"<":if(d=t[r],h=a[l],!(vc(d,h)<0))return!1;break;case"/lte":case"<=":if(d=t[r],h=a[l],!(vc(d,h)<=0))return!1;break;case"/in":if(d=t[r],!(h=a[l]).includes(d))return!1;break;case"/nin":if(d=t[r],(h=a[l]).includes(d))return!1;break;case"/contain":if(d=t[r],h=a[l],!d.includes(h))return!1;break;case"/regex":if(d=t[r],!(h=a[l]).test(d))return!1;break;case"/where":if(d=t[r],!(0,a[l])(d))return!1}}else if(typeof n[r]=="function"){if(!n[r](t[r]))return!1}else if(n[r]!==t[r])return!1}return!0}return n(t)},Yf=function(){},E8=function(){return Promise.resolve()},_ue=function(n){return n},w8=function(n,t){t()};(function(n){n[n.FORWARD=0]="FORWARD",n[n.BACKWARD=1]="BACKWARD"})(b8||(b8={}));var nh,ba,Tl,mue=function(){function n(t){var e=t.initialPrevValue,r=e===void 0?null:e,a=t.initialNextValue,l=a===void 0?null:a,d=t.iterator,h=t.map,f=h===void 0?_ue:h,_=t.backward,g=_===void 0?E8:_,E=t.forward,w=E===void 0?E8:E,x=t.complete,T=x===void 0?Yf:x;this._prevValue=r,this._nextValue=l,this._error=null,this._map=f,this._backward=g,this._forward=w,this._iterator=d,this._complete=T}return Object.defineProperty(n.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),n.prototype.prev=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:if(!this.hasPrevious)return[3,6];a.label=1;case 1:return a.trys.push([1,3,,4]),t=this._prevValue,e=this,[4,this._backward()];case 2:return e._prevValue=a.sent()||null,this._nextValue=t,[3,4];case 3:return r=a.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,a.sent()];case 6:this._complete(),a.label=7;case 7:return[2]}})})},n.prototype.next=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:if(!this.hasNext)return[3,6];a.label=1;case 1:return a.trys.push([1,3,,4]),t=this._nextValue,e=this,[4,this._forward()];case 2:return e._nextValue=a.sent()||null,this._prevValue=t,[3,4];case 3:return r=a.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,a.sent()];case 6:this._complete(),a.label=7;case 7:return[2]}})})},n.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},n}(),j4=function(){function n(t){var e=t.condition,r=e===void 0?{}:e,a=t.backward,l=a!==void 0&&a,d=t.blockManager,h=t.indexer;this.condition=r,this.backward=l,this._blockManager=d,this._indexer=h}return n.prototype.findOptimizedStartPosition=function(){var t=this,e=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var a=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var l in this._indexer.fields){var d=this._indexer.fields[l],h=1;if(d[0]==="-"&&(d=d.slice(1),h=-1),this.condition[d]){if(typeof this.condition[d]=="object"){var f=h>0?r:e;for(var _ in this.condition[d])if(f.includes(_)){for(var g=a;g>=0;g--)if(h*vc(this._indexer.origin[g].columnValues[l],this.condition[d][_])<=0){a=g;break}}}else for(g=a;g>=0;g--)if(h*vc(this._indexer.origin[g].columnValues[l],this.condition[d])<=0){a=g;break}}}return Math.min(a+1,this._indexer.origin.length-1)}var E=0;if(typeof this.condition!="function")for(var w=function(N){var P=x._indexer.fields[N],k=1;if(P[0]==="-"&&(P=P.slice(1),k=-1),x.condition[P]){if(typeof x.condition[P]=="object")Object.keys(x.condition[P]).forEach(function(A){if((k>0?e:r).includes(A)){for(var U=E;U<t._indexer.origin.length;U++)if(k*vc(t._indexer.origin[U].columnValues[N],t.condition[P][A])>=0){E=U;break}}});else for(var C=E;C<x._indexer.origin.length;C++)if(k*vc(x._indexer.origin[C].columnValues[N],x.condition[P])>=0){E=C;break}}},x=this,l=0;l<this._indexer.fields.length;l++)w(l);return Math.max(E-1,0)},n.prototype.each=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_=this;return F(this,function(g){switch(g.label){case 0:if(e=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[e]&&(r=this._indexer.origin[e].keys.length-1),a=function(){if(_._indexer.origin[e]){if(!_._indexer.origin[e].keys[++r]){if(!_._indexer.origin[++e])return!1;r=0}return!0}return!1},l=function(){if(_._indexer.origin[e]){if(!_._indexer.origin[e].keys[--r]){if(!_._indexer.origin[--e])return!1;r=_._indexer.origin[e].keys.length-1}return!0}return!1},d=null,!this._indexer.origin[e])return[3,4];h=this.backward?l:a,g.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])];case 2:if((f=g.sent())&&eh(this.condition,f))return d=f,[3,4];g.label=3;case 3:if(h())return[3,1];g.label=4;case 4:return[4,new Promise(function(E){var w=new mue({initialNextValue:ns(d),iterator:t,forward:function(){return H(_,void 0,void 0,function(){var x,T;return F(this,function(N){switch(N.label){case 0:x=this.backward?l:a,N.label=1;case 1:return x()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return(T=N.sent())&&eh(this.condition,T)?[2,ns(T)]:[3,1];case 3:return[2,null]}})})},backward:function(){return H(_,void 0,void 0,function(){var x,T;return F(this,function(N){switch(N.label){case 0:x=this.backward?a:l,N.label=1;case 1:return x()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return(T=N.sent())&&eh(this.condition,T)?[2,ns(T)]:[3,1];case 3:return[2,null]}})})},complete:E});t(w)})];case 5:return[2,g.sent()]}})})},n}(),vue=function(){function n(t){var e=t.condition,r=e===void 0?{}:e,a=t.backward,l=a!==void 0&&a,d=t.mutex,h=t.blockManager,f=t.indexer;this._mutex=d,this._iterator=new j4({condition:r,backward:l,blockManager:h,indexer:f})}return n.prototype.fetch=function(t){return t===void 0&&(t={}),H(this,void 0,void 0,function(){var e,r,a,l,d=this;return F(this,function(h){switch(h.label){case 0:if(e=Math.max(t.offset||0,0),(r=typeof t.limit=="number"?t.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw tr.collectionQueryNotValid;h.label=1;case 1:return h.trys.push([1,4,,5]),a=[],[4,this._mutex.lock()];case 2:return h.sent(),[4,this._iterator.each(function(f){return H(d,void 0,void 0,function(){return F(this,function(_){return f.error?f.stop():f.hasNext?e===0?(a.push(f.nextValue),0<r&&r<=a.length?f.stop():f.next()):(e--,f.next()):f.stop(),[2]})})})];case 3:return h.sent(),this._mutex.unlock(),[2,a];case 4:throw l=h.sent(),this._mutex.unlock(),l;case 5:return[2]}})})},n.prototype.count=function(){return H(this,void 0,void 0,function(){var t,e,r=this;return F(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),t=0,[4,this._mutex.lock()];case 1:return a.sent(),[4,this._iterator.each(function(l){return H(r,void 0,void 0,function(){return F(this,function(d){return l.error?l.stop():l.hasNext?(t++,l.next()):l.stop(),[2]})})})];case 2:return a.sent(),this._mutex.unlock(),[2,t];case 3:throw e=a.sent(),this._mutex.unlock(),e;case 4:return[2]}})})},n}(),$4=function(n){return"".concat("nest","@").concat(n)},ch=function(n,t){return"".concat($4(n),"/").concat(t)},sx=function(n,t){return"".concat(ch(n,t),".metadata")},W4=function(n,t){return"".concat(ch(n,t),"/block.")},x8=function(n,t){return"".concat(ch(n,t),"/blob.")},gue=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.store;this.dbname=e,this.collectionName=r,this.store=a}return n.prototype.get=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g;return F(this,function(E){switch(E.label){case 0:return[4,this.store.get(t)];case 1:return(e=E.sent())?(r=e.data,a=e.type,typeof fetch>"u"?[3,4]:[4,fetch(r)]):[3,5];case 2:return[4,E.sent().blob()];case 3:return[2,E.sent()];case 4:for(l=[],d=atob(r.split(",")[1]),h=0;h<d.length;h+=512){for(f=d.slice(h,h+512),_=new Array(f.length),g=0;g<f.length;g++)_[g]=f.charCodeAt(g);l.push(new Uint8Array(_))}return[2,new Blob(l,{type:a})];case 5:return[2,null]}})})},n.prototype.save=function(t,e){return e===void 0&&(e="".concat(Date.now())),H(this,void 0,void 0,function(){var r,a,l,d,h=this;return F(this,function(f){switch(f.label){case 0:return[4,new Promise(function(_){var g=function(w,x,T,N){return N===void 0&&(N=0),"".concat(x8(w,x)).concat(T,".").concat(N)}(h.dbname,h.collectionName,e),E=new FileReader;E.onload=function(){_({blobId:g,data:E.result,type:t.type})},E.readAsDataURL(t)})];case 1:return r=f.sent(),a=r.blobId,l=r.data,d=r.type,[4,this.store.set({key:a,value:{data:l,type:d}})];case 2:return f.sent(),[2,a]}})})},n.prototype.remove=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this.store.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.clear=function(){return H(this,void 0,void 0,function(){var t,e,r=this;return F(this,function(a){switch(a.label){case 0:return t=x8(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return e=a.sent(),[4,Promise.all(e.filter(function(l){return l.startsWith(t)}).map(function(l){return H(r,void 0,void 0,function(){return F(this,function(d){switch(d.label){case 0:return[4,this.store.remove(l)];case 1:return[2,d.sent()]}})})}))];case 2:return a.sent(),[2]}})})},n}();(function(n){n[n.COMMIT=0]="COMMIT",n[n.WRITE=1]="WRITE",n[n.ERROR=2]="ERROR"})(nh||(nh={})),function(n){n.PENDING="pending",n.PERSISTENT="persistent",n.VOLATILE="volatile"}(ba||(ba={})),function(n){n[n.NO_CACHE=0]="NO_CACHE",n[n.DEFAULT=1]="DEFAULT",n[n.PERSISTENT=2]="PERSISTENT"}(Tl||(Tl={}));var T_,ma,S8=[ba.PENDING,ba.VOLATILE],Vg={},mo=function(){function n(t){var e=t.dbname,r=t.limit,a=r===void 0?256:r;return Vg[e]||(this.dbname=e,this._items=[],this._limit=a,Vg[e]=this),Vg[e]}return n.get=function(t){return Vg[t]},Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.find=function(t,e,r){return r===void 0&&(r=Tl.DEFAULT),H(this,void 0,void 0,function(){var a,l;return F(this,function(d){switch(d.label){case 0:return(a=this.get(e))?[3,2]:[4,t.get(e)];case 1:return(l=d.sent())&&(a={key:e,value:l,state:r===Tl.PERSISTENT?ba.PERSISTENT:ba.VOLATILE},this.put(a)),[3,3];case 2:r===Tl.PERSISTENT&&(a.state=ba.PERSISTENT),d.label=3;case 3:return[2,a]}})})},n.prototype.get=function(t,e){e===void 0&&(e=Tl.DEFAULT);var r=this._items.map(function(l){return l.key}).indexOf(t);if(r>-1){var a=this._items[r];return e===Tl.PERSISTENT&&(a.state=ba.PERSISTENT),e!==Tl.NO_CACHE&&this.put(a),a}return null},n.prototype.put=function(t){var e,r;if(this._limit>0){var a=this._items.map(function(E){return E.key}).indexOf(t.key);if(a>-1)S8.includes(this._items[a].state)&&S8.includes(t.state)?(this._items.splice(a,1),this._items.push(t)):(this._items[a].state=t.state,this._items[a].value=t.value);else{this._items.push(t);var l=this._items.filter(function(E){return E.state===ba.VOLATILE}),d=l.length-this._limit;if(d>0){var h=[];try{for(var f=Cn(this._items),_=f.next();!_.done;_=f.next()){var g=_.value;g.state===ba.VOLATILE&&d>0?d--:h.push(g)}}catch(E){e={error:E}}finally{try{_&&!_.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}this._items=h}}}},n.prototype.remove=function(t){var e=this._items.map(function(r){return r.key}).indexOf(t);e>-1&&this._items.splice(e,1)},n.prototype.clearByCondition=function(t){this._items=this._items.filter(function(e){return!t(e)})},n.prototype.clear=function(t){t===void 0&&(t=!1),this._items=t?[]:this._items.filter(function(e){return e.state!==ba.VOLATILE})},n}(),bue=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.store;this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=e,this.collectionName=r,this.metadataKey=function(l,d){return"".concat(ch(l,d),"/trans.metadata")}(e,r),this.recordsetKey=function(l,d){return"".concat(ch(l,d),"/trans.recordset")}(e,r),this._store=a}return Object.defineProperty(n.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),n.prototype._getReducedRecordset=function(t){return t===void 0&&(t=[]),H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(e=r.sent()||[]).push.apply(e,nt([],Wn(t),!1)),[2,this._reduceRecordSet(e)]}})})},n.prototype._reduceRecordSet=function(t){for(var e=[],r={},a=t.length-1;a>=0;a--){for(var l=t[a],d=[],h=l.requests.length-1;h>=0;h--){var f=l.requests[h],_=f.data;r[_.key]||(d.unshift(f),r[_.key]=!0)}d.length>0&&(l.requests=d,e.unshift(l))}return e},n.prototype._applyRecord=function(t,e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g,E;return F(this,function(w){switch(w.label){case 0:r=mo.get(this.dbname),a=e.generation,l=e.requests,d=null,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,this._store.setMany(l.map(function(x){return ge(ge({},x.data),{generation:a})}))];case 2:for(h=w.sent(),f=0;f<l.length;f++)h[f]instanceof Error&&(d||(d=h[f]),_=l[f].data,r.put(ge(ge({},_),{state:ba.PERSISTENT})));return[3,4];case 3:return g=w.sent(),d=g,[3,4];case 4:return d?[3,6]:(E=t.filter(function(x){return x.generation!==a}),[4,this._store.set({key:this.recordsetKey,value:E})]);case 5:return w.sent(),this._onWrite.forEach(function(x){x(l.map(function(T){return T.data}))}),[3,7];case 6:this._onError.forEach(function(x){d&&x(d)}),w.label=7;case 7:return[2]}})})},n.prototype.init=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return t=this,[4,this._store.get(this.metadataKey)];case 1:return t._metadata=_.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:e=_.sent(),_.label=3;case 3:_.trys.push([3,8,9,10]),r=Cn(e),a=r.next(),_.label=4;case 4:return a.done?[3,7]:(l=a.value,[4,this._applyRecord(e,l)]);case 5:_.sent(),_.label=6;case 6:return a=r.next(),[3,4];case 7:return[3,10];case 8:return d=_.sent(),h={error:d},[3,10];case 9:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 10:return[2]}})})},n.prototype.on=function(t,e,r){switch(t){case nh.COMMIT:this._onCommit.set(e,r);break;case nh.WRITE:this._onWrite.set(e,r);break;case nh.ERROR:this._onError.set(e,r)}},n.prototype.requestWrite=function(t,e){this._requests.push({data:t,options:e}),mo.get(this.dbname).put(ge({state:ba.PENDING},t))},n.prototype.requestMultipleWrite=function(t,e){var r,a,l=mo.get(this.dbname);try{for(var d=Cn(t),h=d.next();!h.done;h=d.next()){var f=h.value;this._requests.push({data:f,options:e}),l.put(ge({state:ba.PENDING},f))}}catch(_){r={error:_}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}},n.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(t){return mo.get(this.dbname).clearByCondition(function(e){return e.state===ba.PENDING}),this._requests=[],[2]})})},n.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d,h,f,_,g,E,w,x=this;return F(this,function(T){switch(T.label){case 0:if(!((t=this._requests).length>0))return[3,4];for(e=[],r={},f=t.length-1;f>=0;f--)a=t[f],g=a.data,r[g.key]||(r[g.key]=!0,e.unshift(a));return l={generation:this.generation,requests:e},[4,this._getReducedRecordset([l])];case 1:return d=T.sent(),[4,this._store.set({key:this.recordsetKey,value:d})];case 2:return T.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata})];case 3:for(T.sent(),h=mo.get(this.dbname),f=0;f<e.length;f++)_=e[f],g=_.data,E=_.options,h.put(ge(ge({},g),{state:E&&E.persistent?ba.PERSISTENT:ba.VOLATILE}));this._requests=[],this._onCommit.forEach(function(N){N(t.map(function(P){return P.data}))}),w=ry.get(this.dbname),setTimeout(function(){try{x._applyRecord(d,l)}catch(N){x._onError.forEach(function(P){return P(N)})}},w.transactionApplyDelay),T.label=4;case 4:return[2]}})})},n}(),gb=function(){function n(t){var e=t.blockId,r=t.keyName,a=t.items,l=a===void 0?[]:a,d=t.limit;this.blockId=e,this.keyName=r,this.limit=d,this._items=nt([],Wn(l),!1)}return n.createFromCacheItem=function(t){return t?new n(t.value):null},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},n.prototype.getItemByKey=function(t){var e=this,r=this._items.find(function(a){var l=a[e.keyName];return t===l});return r??null},n.prototype.has=function(t){var e=this;return this._items.map(function(r){return r[e.keyName]}).includes(t)},n.prototype.add=function(t){var e=this,r=this._items.map(function(a){return a[e.keyName]}).indexOf(t[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(t),!0):(this._items[r]=t,!0)},n.prototype.remove=function(t){for(var e in this._items)if(this._items[e][this.keyName]===t)return this._items.splice(parseInt(e),1),!0;return!1},n.prototype.clear=function(){this._items=[]},n}(),yue=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.metadata,l=t.hashFunction,d=l===void 0?y8:l,h=t.transaction,f=t.store;this.dbname=e,this.collectionName=r,this.hashFunction=d,this.metadata=a,this._transaction=h,this._store=f}return Object.defineProperty(n.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),n.prototype.createBlockId=function(t,e){return e===void 0&&(e=this.metadata.blockLevel),r=this.dbname,a=this.collectionName,l=e,d="".concat(function(h,f,_){var g=_.base*Math.pow(_.multiplier,f)+_.constant;return(_.hashFunction||y8)(h,g)}(t,e,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(W4(r,a)).concat(l,".").concat(d);var r,a,l,d},n.prototype._findBlock=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d;return F(this,function(h){switch(h.label){case 0:e=mo.get(this.dbname),r=this.metadata.blockLevel,h.label=1;case 1:return r>0?(a=this.createBlockId(t,r),[4,e.find(this._store,a)]):[3,4];case 2:if((l=h.sent())&&(d=gb.createFromCacheItem(l),d==null?void 0:d.getItemByKey(t)))return[2,d];h.label=3;case 3:return r--,[3,1];case 4:return[2,null]}})})},n.prototype.getFromBlock=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this._findBlock(t)];case 1:return[2,(e=r.sent())?e.getItemByKey(t):null]}})})},n.prototype.putToBlock=function(t,e){return H(this,void 0,void 0,function(){var r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return r=ry.get(this.dbname),a=this.createBlockId(t),l=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,mo.get(this.dbname).find(this._store,a)];case 1:return d=f.sent(),(h=d?gb.createFromCacheItem(d):new gb({blockId:a,keyName:this.keyName,items:[],limit:l}))!=null&&h.add(e)?(this._transaction.requestWrite({key:h.blockId,value:h.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.removeFromBlock=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this._findBlock(t)];case 1:return(e=r.sent())&&e.remove(t)?(this._transaction.requestWrite({key:e.blockId,value:e.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.clearAllBlocks=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return t=W4(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return e=a.sent(),r=e.filter(function(l){return l.startsWith(t)}),[4,this._store.removeMany(r)];case 2:return a.sent(),[4,this._transaction.clear()];case 3:return a.sent(),mo.get(this.dbname).clearByCondition(function(l){return l.key.startsWith(t)}),[2]}})})},n}(),u0={},Jc=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.keyName,l=t.fields,d=t.transaction,h=t.store,f=this;this._origin=[],this._table=[];var _=function(g,E,w){return"".concat(ch(g,E),"/index.").concat(w)}(e,r,l.join(">"));return u0[_]||(this.dbname=e,this.collectionName=r,this.keyName=a,this.fields=l,this.indexerKey=_,this._transaction=d,this._store=h,this._transaction.on(nh.COMMIT,this.indexerKey,function(){return f.commit()}),this._transaction.on(nh.ERROR,this.indexerKey,function(){return f.abort()})),u0[_]}return n.createKey=function(t){return t.join(">")},n.parseKey=function(t){return t.split(">")},n.clearIndexerMap=function(){for(var t in u0)delete u0[t]},n.prototype._addItem=function(t){var e=t[this.keyName],r=this.getColumnValues(t),a=Wn(this.indexOf(r),2),l=a[0];return a[1]?!this._table[l].keys.includes(e)&&(this._table[l].keys.push(e),!0):(this._table.splice(l,0,{columnValues:r,keys:[e]}),!0)},n.prototype._removeItem=function(t){var e=t[this.keyName],r=this.getColumnValues(t),a=Wn(this.indexOf(r),2),l=a[0];if(a[1]){var d=this._table[l].keys.indexOf(e);if(d>-1)return this._table[l].keys.splice(d,1),this._table[l].keys.length===0&&this._table.splice(l,1),!0}return!1},Object.defineProperty(n.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),n.prototype.getColumnValues=function(t){var e,r,a,l,d=[];try{for(var h=Cn(this.fields),f=h.next();!f.done;f=h.next()){var _=f.value;if(_[0]==="-"&&(_=_.slice(1)),a=t[_],l=void 0,l=typeof a,a!==null&&l!=="undefined"&&l!=="boolean"&&l!=="number"&&l!=="string")throw tr.indexTypesNotMatch;d.push(t[_])}}catch(g){e={error:g}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}return d},n.prototype.diff=function(t,e){for(var r in this.fields){var a=this.fields[r][0]==="-"?-1:1,l=vc(t[r],e[r]);if(l!==0)return a*l}return 0},n.prototype.indexOf=function(t){if(this._table.length>0){for(var e=0,r=this._table.length-1;e<=r;){var a=Math.floor((e+r)/2),l=this.diff(t,this._table[a].columnValues);if(l>0)e=a+1;else{if(!(l<0))return[a,!0];r=a-1}}return[e,!1]}return[0,!1]},n.prototype.ensure=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d,h,f,_,g,E,w,x,T,N,P,k;return F(this,function(C){switch(C.label){case 0:return[4,(t=mo.get(this.dbname)).find(this._store,this.indexerKey,Tl.PERSISTENT)];case 1:return(e=C.sent())?[3,11]:(r=W4(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:a=C.sent(),C.label=3;case 3:C.trys.push([3,8,9,10]),l=Cn(a),d=l.next(),C.label=4;case 4:return d.done?[3,7]:(h=d.value).startsWith(r)?[4,t.find(this._store,h,Tl.NO_CACHE)]:[3,6];case 5:if(f=C.sent(),_=gb.createFromCacheItem(f))try{for(P=void 0,g=Cn(_.items),E=g.next();!E.done;E=g.next())w=E.value,this._addItem(w)}catch(A){P={error:A}}finally{try{E&&!E.done&&(k=g.return)&&k.call(g)}finally{if(P)throw P.error}}C.label=6;case 6:return d=l.next(),[3,4];case 7:return[3,10];case 8:return x=C.sent(),T={error:x},[3,10];case 9:try{d&&!d.done&&(N=l.return)&&N.call(l)}finally{if(T)throw T.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=e.value,this._table=ns(this._origin),C.label=12;case 12:return u0[this.indexerKey]=this,[2]}})})},n.prototype.drop=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return mo.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return t.sent(),delete u0[this.indexerKey],[2]}})})},n.prototype.addItem=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return this._addItem(t)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.removeItem=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return this._removeItem(t)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(t){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.commit=function(){this._origin=this._table,this._table=ns(this._origin)},n.prototype.abort=function(){this._table=ns(this._origin)},n}(),f1=function(){return typeof document<"u"&&typeof navigator<"u"&&navigator.product!=="ReactNative"},T8=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(t==="x"?e:3&e|8).toString(16)})};(function(n){n[n.PROCESSING=0]="PROCESSING",n[n.DONE=1]="DONE"})(T_||(T_={})),function(n){n.NEWNODE="newnode",n.REMOVENODE="removenode",n.CLAIM_HOST="claimhost",n.SYNC_HOST="synchost",n.REQUEST_LOCK="requestlock",n.ACQUIRE_LOCK="acquirelock",n.RELEASE_LOCK="releaselock"}(ma||(ma={}));var Vo,ox={},tC=function(){function n(t,e){e===void 0&&(e={});var r=this;return this._state=T_.PROCESSING,this._queue=[],this._activationQueue=[],ox[t]&&!e.forceCreate||(this.nodeId=T8(),this.key=t,f1()&&(e.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&r.claimHost()}),window.addEventListener("message",function(a){var l,d,h=a.data,f=h.nodeId,_=h.requestId,g=h.key,E=h.op,w=h.data;if(f!==r.nodeId&&g===r.key)switch(E){case ma.NEWNODE:r._sendSync();break;case ma.CLAIM_HOST:r._sendSync(),r._hostId=f;break;case ma.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var x=w,T=x.currentItemRequestId,N=x.queue,P=function(U){var M=r._queue.findIndex(function(R){return R.requestId===U.requestId});M<0&&r._requestLock({nodeId:U.nodeId,requestId:U.requestId,key:r.key,op:ma.REQUEST_LOCK,ts:U.ts})};try{for(var k=Cn(N),C=k.next();!C.done;C=k.next())P(C.value)}catch(U){l={error:U}}finally{try{C&&!C.done&&(d=k.return)&&d.call(k)}finally{if(l)throw l.error}}r._currentItem=r._queue.find(function(U){return U.requestId===T}),r._completeSync()}break;case ma.REMOVENODE:r._queue=r._queue.filter(function(U){return U.nodeId!==h.nodeId}),r._currentItem&&r._currentItem.nodeId===h.nodeId&&(r._currentItem=void 0,r._acquire(r._queue[0]));break;case ma.REQUEST_LOCK:r._requestLock(h);break;case ma.ACQUIRE_LOCK:var A=r._queue.find(function(U){return U.requestId===_});r._acquire(A);break;case ma.RELEASE_LOCK:r._release(_)}}),window.addEventListener("beforeunload",function(){r._send(ma.REMOVENODE)})),ox[t]=this),ox[t]}return Object.defineProperty(n.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isInSync",{get:function(){return this._state==T_.DONE},enumerable:!1,configurable:!0}),n.prototype._send=function(t,e){var r;e===void 0&&(e={});var a={nodeId:this.nodeId,requestId:(r=e==null?void 0:e.requestId)!==null&&r!==void 0?r:T8(),key:this.key,op:t,data:e.data,ts:Date.now()};return f1()&&window.postMessage(a,"*"),a},n.prototype._acquire=function(t){t?(this._currentItem=t,this._currentItem.onAcquired&&this._currentItem.onAcquired(t.requestId)):this._currentItem=void 0},n.prototype._release=function(t){if(this._currentItem&&this._currentItem.requestId===t){var e=this._currentItem;this._currentItem=void 0,e.nodeId===this.nodeId&&this._send(ma.RELEASE_LOCK,{requestId:e.requestId});var r=this._queue.findIndex(function(a){return a.requestId===t});r>-1&&this._queue.splice(r,1),e.onReleased&&e.onReleased(t)}},n.prototype._requestLock=function(t){var e=this;return new Promise(function(r){var a={nodeId:t.nodeId,requestId:t.requestId,ts:t.ts,onAcquired:function(h){e.isHost&&e._send(ma.ACQUIRE_LOCK,{requestId:h}),r()},onReleased:function(){e._acquire(e._queue[0])}},l=!1;for(var d in e._queue)if(e._queue[d].ts>a.ts){e._queue.splice(parseInt(d),0,a),l=!0;break}l||e._queue.push(a),e._currentItem||e._acquire(e._queue[0])})},n.prototype._sendSync=function(){var t;this.isHost&&this._send(ma.SYNC_HOST,{data:{currentItemRequestId:(t=this._currentItem)===null||t===void 0?void 0:t.requestId,queue:this._queue.map(function(e){return{nodeId:e.nodeId,requestId:e.requestId,ts:e.ts}})}})},n.prototype._waitUntilSyncCompleted=function(){return H(this,void 0,void 0,function(){var t=this;return F(this,function(e){return this.isHost&&!this.isInSync?[2,new Promise(function(r){t._activationQueue.push(r)})]:[2]})})},n.prototype._waitSync=function(){var t=this;this.isInSync||(this._activationTimeout=setTimeout(function(){t._completeSync()},8))},n.prototype._completeSync=function(){this.isInSync||(this._state=T_.DONE,this._activationQueue.forEach(function(t){return t()}),this._activationQueue=[])},n.prototype.registerNode=function(){this._send(ma.NEWNODE),this._waitSync()},n.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(ma.CLAIM_HOST),this._waitSync()},n.prototype.lock=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return e.sent(),t=this._send(ma.REQUEST_LOCK),[4,this._requestLock(t)];case 2:return e.sent(),[2]}})})},n.prototype.unlock=function(){var t;!((t=this._currentItem)===null||t===void 0)&&t.requestId&&this._release(this._currentItem.requestId)},n}(),lx=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.keyName,l=t.keyHash,d=t.indexes,h=t.store,f=this;this._state=Wu.INIT,this._indexers=[],this.dbname=e,this.name=r,this.keyName=a,this.indexes=nt([[a]],Wn(d.filter(function(_){return Jc.createKey(_)!==f.keyName})),!1),this._keyHash=l,this._store=h,this._mutex=new tC(function(_,g){return"".concat(ch(_,g),".lock")}(e,r)),this._blobContainer=new gue({dbname:e,collectionName:r,store:h}),this._transaction=new bue({dbname:e,collectionName:r,store:h})}return n.metadataOf=function(t,e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=sx(t,e),[4,r.get(a)];case 1:return[2,l.sent()]}})})},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isReady",{get:function(){return this._state===Wu.READY},enumerable:!1,configurable:!0}),n.prototype.init=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d,h,f,_,g,E,w,x,T,N=this;return F(this,function(P){switch(P.label){case 0:return[4,this._mutex.lock()];case 1:P.sent(),P.label=2;case 2:return P.trys.push([2,9,,10]),t=ry.get(this.dbname),[4,n.metadataOf(this.dbname,this.name,this._store)];case 3:return e=P.sent(),this._metadata=e||{keyName:this.keyName,blockLevel:1,blockHashBase:t.blockHashBase,blockHashMultiplier:t.blockHashMultiplier,blockHashConstant:t.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:P.sent(),this._blockManager=new yue({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=nt([],Wn(this.indexes),!1),a=[],l=r.map(function(k){return Jc.createKey(k)}),d=e?e.indexes.map(function(k){return Jc.createKey(k)}):[];try{for(h=Cn(d),f=h.next();!f.done;f=h.next())_=f.value,l.includes(_)||a.push(Jc.parseKey(_))}catch(k){x={error:k}}finally{try{f&&!f.done&&(T=h.return)&&T.call(h)}finally{if(x)throw x.error}}return(g=[]).push.apply(g,nt([],Wn(r.map(function(k){var C=new Jc({dbname:N.dbname,collectionName:N.name,keyName:N.keyName,fields:k,transaction:N._transaction,store:N._store});return N._indexers.push(C),C.ensure()})),!1)),g.push.apply(g,nt([],Wn(a.map(function(k){return new Jc({dbname:N.dbname,collectionName:N.name,keyName:N.keyName,fields:k,transaction:N._transaction,store:N._store}).drop()})),!1)),[4,Promise.all(g)];case 5:return P.sent(),[4,this._transaction.commit()];case 6:return P.sent(),l.sort().join(",")===d.sort().join(",")?[3,8]:(E=sx(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:E,value:this._metadata})]);case 7:P.sent(),P.label=8;case 8:return this._state=Wu.READY,this._mutex.unlock(),[3,10];case 9:throw w=P.sent(),this._mutex.unlock(),w;case 10:return[2]}})})},n.prototype.close=function(){this._state=Wu.CLOSED},n.prototype._hasPropertyOfKeyName=function(t){var e=t[this.keyName];return typeof e=="string"&&!!e},n.prototype._getIndexerBy=function(t){var e,r;t===void 0&&(t=null),t||(t=[this.keyName]);var a=Jc.createKey(t);try{for(var l=Cn(this._indexers),d=l.next();!d.done;d=l.next()){var h=d.value;if(a===Jc.createKey(h.fields))return h}}catch(f){e={error:f}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}throw tr.indexTableIsRequired},n.prototype._upgradeBlockLevel=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=sx(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:t,value:this._metadata})];case 1:return e.sent(),[2]}})})},n.prototype._requestInsert=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return f.sent()?[3,13]:[4,this._blockManager.putToBlock(e,t)];case 2:return f.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return f.sent(),[4,this._blockManager.putToBlock(e,t)];case 4:f.sent(),f.label=5;case 5:f.trys.push([5,10,11,12]),r=Cn(this._indexers),a=r.next(),f.label=6;case 6:return a.done?[3,9]:[4,a.value.addItem(t)];case 7:f.sent(),f.label=8;case 8:return a=r.next(),[3,6];case 9:return[3,12];case 10:return l=f.sent(),d={error:l},[3,12];case 11:try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 12:return[3,14];case 13:throw tr.collectionInsertDuplicate;case 14:return[2]}})})},n.prototype._requestUpsert=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g,E,w,x,T;return F(this,function(N){switch(N.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=N.sent())?[3,13]:[4,this._blockManager.putToBlock(e,t)];case 2:return N.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return N.sent(),[4,this._blockManager.putToBlock(e,t)];case 4:N.sent(),N.label=5;case 5:N.trys.push([5,10,11,12]),a=Cn(this._indexers),l=a.next(),N.label=6;case 6:return l.done?[3,9]:[4,(_=l.value).addItem(t)];case 7:N.sent(),N.label=8;case 8:return l=a.next(),[3,6];case 9:return[3,12];case 10:return d=N.sent(),E={error:d},[3,12];case 11:try{l&&!l.done&&(w=a.return)&&w.call(a)}finally{if(E)throw E.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(e,t)];case 14:N.sent(),N.label=15;case 15:N.trys.push([15,21,22,23]),h=Cn(this._indexers),f=h.next(),N.label=16;case 16:return f.done?[3,20]:(_=f.value).diff(_.getColumnValues(r),_.getColumnValues(t))===0?[3,19]:[4,_.removeItem(r)];case 17:return N.sent(),[4,_.addItem(t)];case 18:N.sent(),N.label=19;case 19:return f=h.next(),[3,16];case 20:return[3,23];case 21:return g=N.sent(),x={error:g},[3,23];case 22:try{f&&!f.done&&(T=h.return)&&T.call(h)}finally{if(x)throw x.error}return[7];case 23:return[2]}})})},n.prototype._requestUpdate=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=g.sent())?[4,this._blockManager.putToBlock(e,t)]:[3,11];case 2:g.sent(),g.label=3;case 3:g.trys.push([3,9,10,11]),a=Cn(this._indexers),l=a.next(),g.label=4;case 4:return l.done?[3,8]:(d=l.value).diff(d.getColumnValues(r),d.getColumnValues(t))===0?[3,7]:[4,d.removeItem(r)];case 5:return g.sent(),[4,d.addItem(t)];case 6:g.sent(),g.label=7;case 7:return l=a.next(),[3,4];case 8:return[3,11];case 9:return h=g.sent(),f={error:h},[3,11];case 10:try{l&&!l.done&&(_=a.return)&&_.call(a)}finally{if(f)throw f.error}return[7];case 11:return[2]}})})},n.prototype._requestRemove=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return[4,this._blockManager.getFromBlock(t)];case 1:return(e=f.sent())?[4,this._blockManager.removeFromBlock(t)]:[3,10];case 2:f.sent(),f.label=3;case 3:f.trys.push([3,8,9,10]),r=Cn(this._indexers),a=r.next(),f.label=4;case 4:return a.done?[3,7]:[4,a.value.removeItem(e)];case 5:f.sent(),f.label=6;case 6:return a=r.next(),[3,4];case 7:return[3,10];case 8:return l=f.sent(),d={error:l},[3,10];case 9:try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 10:return[2]}})})},n.prototype._requestClear=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(d){switch(d.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:d.sent(),d.label=2;case 2:d.trys.push([2,7,8,9]),t=Cn(this._indexers),e=t.next(),d.label=3;case 3:return e.done?[3,6]:[4,e.value.clear()];case 4:d.sent(),d.label=5;case 5:return e=t.next(),[3,3];case 6:return[3,9];case 7:return r=d.sent(),a={error:r},[3,9];case 8:try{e&&!e.done&&(l=t.return)&&l.call(t)}finally{if(a)throw a.error}return[7];case 9:return[2]}})})},n.prototype.getByKey=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(t)];case 3:return e=a.sent(),this._mutex.unlock(),[2,ns(e)];case 4:throw r=a.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw tr.collectionNotReady;case 7:return[2]}})})},n.prototype.query=function(t){if(t===void 0&&(t={}),this.isReady)return new vue({condition:t.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(t.index),backward:!!t.backward});throw tr.collectionNotReady},n.prototype.insertOne=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw tr.collectionKeyNotGiven;return[4,this._requestInsert(ns(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw tr.collectionNotReady;case 9:return[2]}})})},n.prototype.insertMany=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_=this;return F(this,function(g){switch(g.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:g.sent(),g.label=2;case 2:if(g.trys.push([2,12,,14]),t.some(function(E){return!_._hasPropertyOfKeyName(E)}))throw tr.collectionKeyNotGiven;g.label=3;case 3:g.trys.push([3,8,9,10]),e=Cn(t),r=e.next(),g.label=4;case 4:return r.done?[3,7]:(a=r.value,[4,this._requestInsert(ns(a))]);case 5:g.sent(),g.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return l=g.sent(),h={error:l},[3,10];case 9:try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return g.sent(),this._mutex.unlock(),[2,t];case 12:return d=g.sent(),[4,this._transaction.clear()];case 13:throw g.sent(),this._mutex.unlock(),d;case 14:return[3,16];case 15:throw tr.collectionNotReady;case 16:return[2]}})})},n.prototype.upsertOne=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw tr.collectionKeyNotGiven;return[4,this._requestUpsert(ns(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw tr.collectionNotReady;case 9:return[2]}})})},n.prototype.upsertMany=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_=this;return F(this,function(g){switch(g.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:g.sent(),g.label=2;case 2:if(g.trys.push([2,12,,14]),t.some(function(E){return!_._hasPropertyOfKeyName(E)}))throw tr.collectionKeyNotGiven;g.label=3;case 3:g.trys.push([3,8,9,10]),e=Cn(t),r=e.next(),g.label=4;case 4:return r.done?[3,7]:(a=r.value,[4,this._requestUpsert(ns(a))]);case 5:g.sent(),g.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return l=g.sent(),h={error:l},[3,10];case 9:try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return g.sent(),this._mutex.unlock(),[2,t];case 12:return d=g.sent(),[4,this._transaction.clear()];case 13:throw g.sent(),this._mutex.unlock(),d;case 14:return[3,16];case 15:throw tr.collectionNotReady;case 16:return[2]}})})},n.prototype.update=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw tr.collectionKeyNotGiven;return[4,this._requestUpdate(ns(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw tr.collectionNotReady;case 9:return[2]}})})},n.prototype.updateIf=function(t,e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g,E,w,x,T,N,P,k=this;return F(this,function(C){switch(C.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:C.sent(),C.label=2;case 2:return C.trys.push([2,13,,15]),r=t.where,a=r===void 0?{}:r,l=t.index,d=l===void 0?null:l,h=t.backward,f=h!==void 0&&h,_=[],[4,new j4({condition:a,blockManager:this._blockManager,backward:f,indexer:this._getIndexerBy(d)}).each(function(A){return H(k,void 0,void 0,function(){var U,M;return F(this,function(R){if(A.error)throw A.stop(),A.error;if(A.hasNext){if(U=A.nextValue,eh(a,U)&&e.set){if(typeof e.set!="function")for(M in e.set)U[M]=e.set[M];else e.set(U);_.push(U)}A.next()}else A.stop();return[2]})})})];case 3:C.sent(),C.label=4;case 4:C.trys.push([4,9,10,11]),g=Cn(_),E=g.next(),C.label=5;case 5:return E.done?[3,8]:(w=E.value,[4,this._requestUpdate(ns(w))]);case 6:C.sent(),C.label=7;case 7:return E=g.next(),[3,5];case 8:return[3,11];case 9:return x=C.sent(),N={error:x},[3,11];case 10:try{E&&!E.done&&(P=g.return)&&P.call(g)}finally{if(N)throw N.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return C.sent(),this._mutex.unlock(),[2,_];case 13:return T=C.sent(),[4,this._transaction.clear()];case 14:throw C.sent(),this._mutex.unlock(),T;case 15:return[3,17];case 16:throw this._transaction.clear(),tr.collectionNotReady;case 17:return[2]}})})},n.prototype.remove=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(t)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw tr.collectionNotReady;case 9:return[2]}})})},n.prototype.removeIf=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g,E,w,x,T,N,P=this;return F(this,function(k){switch(k.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:k.sent(),k.label=2;case 2:return k.trys.push([2,13,,14]),e=t.where,r=e===void 0?{}:e,a=t.index,l=a===void 0?null:a,d=t.backward,h=d!==void 0&&d,f=[],[4,new j4({condition:r,blockManager:this._blockManager,backward:h,indexer:this._getIndexerBy(l)}).each(function(C){return H(P,void 0,void 0,function(){var A,U;return F(this,function(M){if(C.error)throw C.stop(),C.error;return C.hasNext?(A=C.nextValue,eh(r,A)&&(U=A[this.keyName],f.push(U)),C.next()):C.stop(),[2]})})})];case 3:k.sent(),k.label=4;case 4:k.trys.push([4,9,10,11]),_=Cn(f),g=_.next(),k.label=5;case 5:return g.done?[3,8]:(E=g.value,[4,this._requestRemove(E)]);case 6:k.sent(),k.label=7;case 7:return g=_.next(),[3,5];case 8:return[3,11];case 9:return w=k.sent(),T={error:w},[3,11];case 10:try{g&&!g.done&&(N=_.return)&&N.call(_)}finally{if(T)throw T.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return k.sent(),this._mutex.unlock(),[2,f];case 13:throw x=k.sent(),this._mutex.unlock(),x;case 14:return[3,16];case 15:throw this._transaction.clear(),tr.collectionNotReady;case 16:return[2]}})})},n.prototype.clear=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return e.sent(),[4,this._transaction.commit()];case 4:return e.sent(),this._mutex.unlock(),[3,7];case 5:return t=e.sent(),[4,this._transaction.clear()];case 6:throw e.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw tr.collectionNotReady;case 9:return[2]}})})},n.prototype.getBlob=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.saveBlob=function(t,e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._blobContainer.save(t,e)];case 1:return[2,r.sent()]}})})},n.prototype.removeBlob=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeAllBlobs=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.clear()];case 1:return t.sent(),[2]}})})},n}(),cx="[NESTDB]",zg=!0,Ru=function(){function n(){}return n.off=function(){zg=!1},n.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zg&&console.log.apply(console,nt(["".concat(cx,"[LOG]")],Wn(t),!1))},n.warning=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zg&&console.warn.apply(console,nt(["".concat(cx,"[WARNING]")],Wn(t),!1))},n.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zg&&console.error.apply(console,nt(["".concat(cx,"[ERROR]")],Wn(t),!1))},n}(),Eue=[{},{a:700400,n:"error"}],iy=function(){function n(t){var e,r,a;this.encryption=(e=t.encryption)!==null&&e!==void 0?e:s9,this.itemSizeLimit=(r=t.itemSizeLimit)!==null&&r!==void 0?r:4194304,this.metadataBuffer=(a=t.metadataBuffer)!==null&&a!==void 0?a:256}return Object.defineProperty(n.prototype,"_encryptionCheckKey",{get:function(){return"".concat(this.dbname,".encrypt")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_reservedKeys",{get:function(){return[this._encryptionCheckKey]},enumerable:!1,configurable:!0}),n.prototype._getRawKey=function(t,e){return e===void 0&&(e=""),"".concat(t).concat(e)},n.prototype._generateShardPostfixArray=function(t){return t===void 0&&(t=1),nt([],Wn(Array(t).keys()),!1)},n.prototype._shardify=function(t){var e=this,r=t.key,a=t.value,l=JSON.stringify(this.encryption.encrypt(a)),d=Math.ceil(l.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(d).map(function(h){var f={key:e._getRawKey(r,".".concat(h)),data:l.substring(h*e.adjustedItemSizeLimit,(h+1)*e.adjustedItemSizeLimit)};return h===0&&(f.metadata={shards:d}),f})},n.prototype._resetIfEncryptionChanged=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d,h,f,_,g=this;return F(this,function(E){switch(E.label){case 0:return[4,this.get(this._encryptionCheckKey)];case 1:if(t=E.sent(),e={encrypted:Eue.map(function(w){var x;return(x=g.encryption)===null||x===void 0?void 0:x.encrypt(w)})},!(t&&t.encrypted&&Array.isArray(t.encrypted)))return[3,5];for(l in r=t.encrypted,a=[],r)a.push(l);d=0,E.label=2;case 2:return d<a.length?(l=a[d])in r?(h=l,f=JSON.stringify(t.encrypted[h]),_=JSON.stringify(e.encrypted[h]),f===_?[3,4]:(Ru.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this.clear()])):[3,4]:[3,5];case 3:return E.sent(),[3,5];case 4:return d++,[3,2];case 5:return[4,this.set({key:this._encryptionCheckKey,value:e})];case 6:return E.sent(),[2]}})})},Object.defineProperty(n.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),n.prototype.usage=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return t=0,[4,this._getAllRawKeys()];case 1:e=g.sent(),g.label=2;case 2:g.trys.push([2,7,8,9]),r=Cn(e),a=r.next(),g.label=3;case 3:return a.done?[3,6]:(l=a.value,[4,this._getRaw(l)]);case 4:(d=g.sent())&&(t+=JSON.stringify(d).length),g.label=5;case 5:return a=r.next(),[3,3];case 6:return[3,9];case 7:return h=g.sent(),f={error:h},[3,9];case 8:try{a&&!a.done&&(_=r.return)&&_.call(r)}finally{if(f)throw f.error}return[7];case 9:return[2,t]}})})},n.prototype.getAllKeys=function(){return H(this,void 0,void 0,function(){var t=this;return F(this,function(e){switch(e.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,e.sent().filter(function(r){return r.endsWith(".0")}).map(function(r){return r.replace(/\.0$/,"")}).filter(function(r){return!t._reservedKeys.includes(r)})]}})})},n.prototype.get=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f=this;return F(this,function(_){switch(_.label){case 0:return e=this._getRawKey(t,".0"),[4,this._getRaw(e)];case 1:if(!(r=_.sent()))return[3,7];_.label=2;case 2:return _.trys.push([2,6,,7]),a=r.data,(l=r.metadata)!=null&&l.shards&&l.shards>1?[4,Promise.all(this._generateShardPostfixArray(l==null?void 0:l.shards).map(function(g){return H(f,void 0,void 0,function(){var E,w;return F(this,function(x){switch(x.label){case 0:return g>0?(E=this._getRawKey(t,".".concat(g)),[4,this._getRaw(E)]):[3,2];case 1:if(!(w=x.sent()))throw tr.storeBrokenIntegrity;return[2,w.data];case 2:return[2,a]}})})}))]:[3,4];case 3:return h=_.sent(),[3,5];case 4:h=[a],_.label=5;case 5:return d=h,[2,this.encryption.decrypt(JSON.parse(d.join("")))];case 6:return _.sent(),[2,null];case 7:return[2,null]}})})},n.prototype.set=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return e=this._shardify(t),[4,this._setRaw(e)];case 1:return r.sent(),[2,ge({},t.value)]}})})},n.prototype.setMany=function(t){return H(this,void 0,void 0,function(){var e,r=this;return F(this,function(a){switch(a.label){case 0:return e=[],[4,this._setRaw(e.concat.apply(e,nt([],Wn(t.map(function(l){return r._shardify(l)})),!1)))];case 1:return a.sent(),[2,t.map(function(l){return l.value})]}})})},n.prototype.remove=function(t){return H(this,void 0,void 0,function(){var e,r,a,l=this;return F(this,function(d){switch(d.label){case 0:return e=this._getRawKey(t,".0"),[4,this._getRaw(e)];case 1:return(r=d.sent())?(a=r.metadata,[4,this._removeRaw(this._generateShardPostfixArray(a==null?void 0:a.shards).map(function(h){return l._getRawKey(t,".".concat(h))}))]):[3,3];case 2:return d.sent(),[2,!0];case 3:return[2,!1]}})})},n.prototype.removeMany=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g,E=this;return F(this,function(w){switch(w.label){case 0:e=[],r=function(x){var T,N,P;return F(this,function(k){switch(k.label){case 0:return T=a._getRawKey(x,".0"),[4,a._getRaw(T)];case 1:return(N=k.sent())&&(P=N.metadata,e.push.apply(e,nt([],Wn(a._generateShardPostfixArray(P==null?void 0:P.shards).map(function(C){return E._getRawKey(x,".".concat(C))})),!1))),[2]}})},a=this,w.label=1;case 1:w.trys.push([1,6,7,8]),l=Cn(t),d=l.next(),w.label=2;case 2:return d.done?[3,5]:(h=d.value,[5,r(h)]);case 3:w.sent(),w.label=4;case 4:return d=l.next(),[3,2];case 5:return[3,8];case 6:return f=w.sent(),_={error:f},[3,8];case 7:try{d&&!d.done&&(g=l.return)&&g.call(l)}finally{if(_)throw _.error}return[7];case 8:return e.length>0?[4,this._removeRaw(e)]:[3,10];case 9:w.sent(),w.label=10;case 10:return[2,t]}})})},n}(),Xa={},M0=function(n){function t(e){e===void 0&&(e={});var r,a=this;a=n.call(this,ge(ge({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:4194304}))||this;var l=e.delay,d=l===void 0?1:l;return a.delay=d,a.observer={},a}return re(t,n),Object.defineProperty(t.prototype,"rawData",{get:function(){return Xa[this.dbname]},set:function(e){Xa[this.dbname]=e},enumerable:!1,configurable:!0}),t.prototype._getAllRawKeys=function(){return H(this,void 0,void 0,function(){return F(this,function(e){if(Xa[this.dbname])return[2,Object.keys(Xa[this.dbname])];throw tr.storeNotAvailable})})},t.prototype._getRaw=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return Xa[this.dbname]?[4,Bg(this.delay)]:[3,2];case 1:return r.sent(),[2,Xa[this.dbname][e]?ge({key:e},Xa[this.dbname][e]):null];case 2:throw tr.storeNotAvailable}})})},t.prototype._setRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g;return F(this,function(E){switch(E.label){case 0:return Xa[this.dbname]?[4,Bg(this.delay)]:[3,2];case 1:E.sent();try{for(r=Cn(e),a=r.next();!a.done;a=r.next())l=a.value,d=l.key,h=l.data,f=l.metadata,Xa[this.dbname][d]=Object.freeze({data:h,metadata:f})}catch(w){_={error:w}}finally{try{a&&!a.done&&(g=r.return)&&g.call(r)}finally{if(_)throw _.error}}return[3,3];case 2:throw tr.storeNotAvailable;case 3:return[2]}})})},t.prototype._removeRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return Xa[this.dbname]?[4,Bg(this.delay)]:[3,2];case 1:f.sent();try{for(r=Cn(e),a=r.next();!a.done;a=r.next())l=a.value,Xa[this.dbname][l]&&delete Xa[this.dbname][l]}catch(_){d={error:_}}finally{try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}}return[3,3];case 2:throw tr.storeNotAvailable;case 3:return[2]}})})},t.prototype.observe=function(e,r,a){var l=this;this.observer[e]||(this.observer[e]={}),r.forEach(function(d){return l.observer[e][d]=a})},t.prototype.checkAvailability=function(){return H(this,void 0,void 0,function(){return F(this,function(e){return[2]})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this.dbname=e,Xa[this.dbname]||(Xa[this.dbname]={}),[4,this._resetIfEncryptionChanged()];case 1:return r.sent(),[2]}})})},t.prototype.set=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){if((r=this.observer[e.key])&&typeof r.set=="function"&&(a=r.set()))throw a;return[2,n.prototype.set.call(this,e)]})})},t.prototype.setMany=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_;return F(this,function(g){try{for(r=Cn(e),a=r.next();!a.done;a=r.next())if(l=a.value,(d=this.observer[l.key])&&typeof d.set=="function"&&(h=d.set()))throw h}catch(E){f={error:E}}finally{try{a&&!a.done&&(_=r.return)&&_.call(r)}finally{if(f)throw f.error}}return[2,n.prototype.setMany.call(this,e)]})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,Bg(this.delay)];case 1:return e.sent(),Xa[this.dbname]={},[2]}})})},t}(iy),C8="NestDBStore";(function(n){n[n.UNINITIALIZED=0]="UNINITIALIZED",n[n.OPENING=1]="OPENING",n[n.OPEN=2]="OPEN",n[n.CLOSED=3]="CLOSED"})(Vo||(Vo={}));var wue=function(n){function t(e){e===void 0&&(e={});var r,a=this;return(a=n.call(this,ge(ge({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:104857600}))||this)._storeName=C8,a._state=Vo.UNINITIALIZED,a._openJobQueue=[],a._window=typeof window<"u"?window:void 0,a._indexedDb=a._window?a._window.indexedDB||a._window.mozIndexedDB||a._window.webkitIndexedDB||a._window.msIndexedDB:void 0,a}return re(t,n),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype._openDatabase=function(e){var r=this;return new Promise(function(a,l){if(r._indexedDb){r._state=Vo.OPENING;var d=r._indexedDb.open(e);d.addEventListener("upgradeneeded",function(h){h.target.result.createObjectStore(C8,{keyPath:"key"})}),d.addEventListener("success",function(h){r._state=Vo.OPEN,r._database=h.target.result,r._openJobQueue.forEach(function(f){return f()}),r._openJobQueue=[],r._database.onclose=function(){r._database=void 0,r._state=Vo.OPENING,setTimeout(function(){r._openDatabase(e)},5)},a(r._database)}),d.addEventListener("error",function(h){r._state=Vo.UNINITIALIZED,l(h.target.error)})}else l(tr.storeNotAvailable)})},t.prototype._getObjectStore=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return this._database?[2,this._database.transaction(this._storeName,e).objectStore(this._storeName)]:[3,1];case 1:switch(this._state){case Vo.UNINITIALIZED:case Vo.OPEN:return[3,2];case Vo.OPENING:case Vo.CLOSED:return[3,3]}return[3,4];case 2:throw tr.storeNotInitialized;case 3:return[2,new Promise(function(l){r._openJobQueue.push(function(){return l(r._getObjectStore(e))})})];case 4:return[4,this._getObjectStore(e)];case 5:return[2,a.sent()]}})})},t.prototype._getAllRawKeys=function(){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return e=r.sent(),[4,new Promise(function(a,l){var d=e.getAllKeys();d.addEventListener("success",function(h){a(h.target.result)}),d.addEventListener("error",function(h){return l(h.target.error)})})];case 2:return[2,r.sent()]}})})},t.prototype._getRaw=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return r=a.sent(),[4,new Promise(function(l,d){var h=r.get(e);h.addEventListener("success",function(f){var _;l((_=f==null?void 0:f.target)===null||_===void 0?void 0:_.result)}),h.addEventListener("error",function(f){return d(f.target.error)})})];case 2:return[2,a.sent()]}})})},t.prototype._setRaw=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return r=a.sent(),[4,Promise.all(e.map(function(l){return new Promise(function(d,h){var f=r.put(l);f.addEventListener("success",function(_){d(_.target.result)}),f.addEventListener("error",function(){h("Failed to write.")})})}))];case 2:return a.sent(),[2]}})})},t.prototype._removeRaw=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return r=a.sent(),[4,Promise.all(e.map(function(l){return new Promise(function(d,h){var f=r.delete(l);f.addEventListener("success",function(){return d(l)}),f.addEventListener("error",function(_){return h(_.target.error)})})}))];case 2:return a.sent(),[2]}})})},t.prototype._triggerDatabaseClose=function(){this._database&&this._database.onclose&&this._database.onclose(new Event("dummy"))},t.prototype.checkAvailability=function(){return H(this,void 0,void 0,function(){var e,r=this;return F(this,function(a){switch(a.label){case 0:if(!((e=typeof window<"u"?window:null)!=null&&e.indexedDB||e!=null&&e.mozIndexedDB||e!=null&&e.webkitIndexedDB||e!=null&&e.msIndexedDB))return[3,6];if(this._indexedDb=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,!this._window||!f1())return[3,4];if(!(f1()&&navigator.userAgent&&navigator.userAgent.includes("Edge/")))return[3,1];if(!this._window.indexedDB&&(e.PointerEvent||e.MSPointerEvent))throw tr.storeNotAvailableInPrivateBrowsing;return[3,3];case 1:return[4,new Promise(function(l,d){if(r._indexedDb)try{var h=r._indexedDb.open("_testMozilla");h.onerror=function(){return d(tr.storeNotAvailableInPrivateBrowsing)},h.onsuccess=function(){return l()}}catch{d(tr.storeNotAvailableInPrivateBrowsing)}else d(tr.storeNotAvailable)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:throw tr.storeNotAvailable;case 5:return[3,7];case 6:throw tr.storeNotAvailable;case 7:return[2]}})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this.dbname=e,[4,this.checkAvailability()];case 1:return r.sent(),[4,this._openDatabase(e)];case 2:return r.sent(),[4,this._resetIfEncryptionChanged()];case 3:return r.sent(),[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:return e=r.sent(),[4,new Promise(function(a,l){var d=e.clear();d.addEventListener("success",function(){return a()}),d.addEventListener("error",function(h){return l(h.target.error)})})];case 2:return[2,r.sent()]}})})},t}(iy),xue=function(n){function t(e){var r=this,a=e.AsyncStorage,l=e.itemSizeLimit,d=l===void 0?6291456:l,h=Roe(e,["AsyncStorage","itemSizeLimit"]);return(r=n.call(this,ge(ge({},h),{itemSizeLimit:d}))||this)._asyncStorage=a,r}return re(t,n),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return H(this,void 0,void 0,function(){var e,r=this;return F(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return e=a.sent(),[2,e.filter(function(l){return r._isBelonging(l)}).map(function(l){return l.substring("".concat(r.dbname,"/").length)})]}})})},t.prototype._getRaw=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,(r=a.sent())?JSON.parse(r):null]}})})},t.prototype._setRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:r=[];try{for(a=Cn(e),l=a.next();!l.done;l=a.next())d=l.value,h=d.key,d.data.length<=this.adjustedItemSizeLimit&&r.push([this._getActualKey(h),JSON.stringify(d)])}catch(E){f={error:E}}finally{try{l&&!l.done&&(_=a.return)&&_.call(a)}finally{if(f)throw f.error}}return[4,this._asyncStorage.multiSet(r)];case 1:return g.sent(),[2]}})})},t.prototype._removeRaw=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.multiRemove(e.map(function(l){return r._getActualKey(l)}))];case 1:return a.sent(),[2]}})})},t.prototype.checkAvailability=function(){return H(this,void 0,void 0,function(){return F(this,function(e){if(!this._asyncStorage)throw tr.storeNotAvailable;return[2]})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this.dbname=e,[4,this._resetIfEncryptionChanged()];case 1:return r.sent(),[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this.getAllKeys()];case 1:return e=r.sent(),[4,this.removeMany(e)];case 2:return r.sent(),[2]}})})},t}(iy);(function(n){function t(e){var r,a=this;return(a=n.call(this,ge(ge({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:6291456}))||this)._mmkv=e.MMKV,a}re(t,n),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return H(this,void 0,void 0,function(){var e,r=this;return F(this,function(a){switch(a.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return e=a.sent(),[2,e.filter(function(l){return r._isBelonging(l)}).map(function(l){return l.substring("".concat(r.dbname,"/").length)})]}})})},t.prototype._getRaw=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return[4,this._mmkv.getString(this._getActualKey(e))];case 1:return[2,(r=a.sent())?JSON.parse(r):null]}})})},t.prototype._setRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){try{for(r=Cn(e),a=r.next();!a.done;a=r.next())l=a.value,d=l.key,l.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(d),JSON.stringify(l))}catch(g){h={error:g}}finally{try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}}return[2]})})},t.prototype._removeRaw=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h;return F(this,function(f){try{for(r=Cn(e),a=r.next();!a.done;a=r.next())l=a.value,this._mmkv.delete(this._getActualKey(l))}catch(_){d={error:_}}finally{try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}}return[2]})})},t.prototype.checkAvailability=function(){return H(this,void 0,void 0,function(){return F(this,function(e){if(!this._mmkv)throw tr.storeNotAvailable;return[2]})})},t.prototype.init=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this.dbname=e,[4,this._resetIfEncryptionChanged()];case 1:return r.sent(),[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return[4,this.getAllKeys()];case 1:return e=r.sent(),[4,this.removeMany(e)];case 2:return r.sent(),[2]}})})}})(iy);var Cl;(function(n){n.INIT="INIT",n.OPENING="OPENING",n.OPENED="OPENED",n.CLOSED="CLOSED"})(Cl||(Cl={}));var ta,Sue=function(){function n(t){var e=t.name,r=t.version,a=t.store,l=t.config;this.name=e,this._version=r,this._state=Cl.INIT,this._config=l||new ry({dbname:e}),this._store=a,this._event={success:Yf,error:Yf,storeReplaced:Yf,upgrade:w8},this._collections=new Map,this._globalMutex=new tC("".concat(this.name,".lock")),this._config.disableLogger&&Ru.off(),new mo({dbname:e,limit:this._config.cacheLimit})}return Object.defineProperty(n.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"store",{get:function(){return this._store},enumerable:!1,configurable:!0}),n.prototype.estimateUsage=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,(e=this._store,H(void 0,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,e.usage()];case 1:return[2,r.sent()]}})}))];case 1:return[2,t.sent()]}var e})})},n.prototype.commitSchema=function(t){return H(this,void 0,void 0,function(){var e=this;return F(this,function(r){switch(r.label){case 0:return this._state!==Cl.OPENING?[3,2]:[4,Promise.all(t.map(function(a){return H(e,void 0,void 0,function(){var l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return l=a.collectionName,d=a.keyName,h=a.index,f=h===void 0?[]:h,this._collections.has(l)||this._collections.set(l,new lx({dbname:this.name,collectionName:l,keyName:d,indexes:f,store:this._store})),(_=this._collections.get(l))?[4,_.init()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})}))];case 1:return r.sent(),[3,3];case 2:throw tr.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},n.prototype.open=function(){var t;return H(this,void 0,void 0,function(){var e,r,a,l,d=this;return F(this,function(h){switch(h.label){case 0:return[4,this._globalMutex.lock()];case 1:if(h.sent(),this._state===Cl.OPENED)return[3,12];this._state=Cl.OPENING,h.label=2;case 2:return h.trys.push([2,5,,12]),[4,this._store.init(this.name)];case 3:return h.sent(),f=this.name,e="".concat($4(f),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(e)];case 4:return a=(t=h.sent())!==null&&t!==void 0?t:r,[2,new Promise(function(_,g){var E=function(x){a.version<d._version?d._event.upgrade(a.version,function(T){return H(d,void 0,void 0,function(){var N;return F(this,function(P){switch(P.label){case 0:if(T)return[3,5];a.version++,a.collectionNames=Array.from(this._collections.keys()),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,this._store.set({key:e,value:a})];case 2:return P.sent(),x({continued:!0}),[3,4];case 3:return N=P.sent(),x({continued:!1,err:N}),[3,4];case 4:return[3,6];case 5:x({continued:!1,err:T}),P.label=6;case 6:return[2]}})})}):x({continued:!1})},w=function(x){var T=x.continued,N=T!==void 0&&T,P=x.err,k=P===void 0?null:P;if(N)setTimeout(function(){return E(w)},10);else if(k)Ru.error(k.message),d._globalMutex.unlock(),d._event.error(k),g(k);else{var C=[];a.collectionNames.forEach(function(A){var U=d._collections.get(A);U&&U.state===Wu.READY||C.push(H(d,void 0,void 0,function(){var M,R;return F(this,function(I){switch(I.label){case 0:return[4,lx.metadataOf(this.name,A,this._store)];case 1:return(M=I.sent())?(R=new lx({dbname:this.name,collectionName:A,keyName:M.keyName,indexes:M.indexes,store:this._store}),this._collections.set(A,R),[4,R.init()]):[3,3];case 2:I.sent(),I.label=3;case 3:return[2]}})}))}),Promise.all(C).then(function(){d._state=Cl.OPENED,d._globalMutex.unlock(),d._event.success(),_()}).catch(function(A){Ru.error(A.message),d._globalMutex.unlock(),d._event.error(A),g(A)})}};E(w)})];case 5:switch(l=h.sent(),l.code){case Or.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Or.STORE_NOT_AVAILABLE:return[3,8]}return[3,10];case 6:return Ru.warning("Access to the local storage is not allowed. Switched to MemoryStore automatically."),this._store=new M0({}),this._globalMutex.unlock(),this._event.error(l),this._event.storeReplaced(this._store),[4,this.open()];case 7:return h.sent(),[3,11];case 8:return Ru.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new M0({}),this._globalMutex.unlock(),this._event.error(l),this._event.storeReplaced(this._store),[4,this.open()];case 9:return h.sent(),[3,11];case 10:throw Ru.error(l.message),this._globalMutex.unlock(),this._event.error(l),l;case 11:return[3,12];case 12:return[2]}var f})})},n.prototype.close=function(){this._collections.forEach(function(t){return t.close()}),this._state=Cl.CLOSED},n.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(e){return e.clear()}))];case 1:return t.sent(),[2]}})})},n.prototype.reset=function(){return H(this,void 0,void 0,function(){var t,e=this;return F(this,function(r){switch(r.label){case 0:return this.close(),(t=mo.get(this.name))&&t.clearByCondition(function(a){return a.key.startsWith($4(e.name))}),[4,this._store.clear()];case 1:return r.sent(),[2]}})})},n.prototype.on=function(t,e){this._event[t]=e},n.prototype.off=function(t){typeof this._event[t]=="function"&&(t==="upgrade"?this._event[t]=w8:this._event[t]=Yf)},n.prototype.collection=function(t){var e=this._collections.get(t);if(e)return e;throw tr.collectionNotReady},n}(),rp=function(){function n(){this.messageTypeFilter=ia.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=xa.NONE}return n.prototype.clone=function(){var t=new n,e=JSON.parse(JSON.stringify(this));return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},n.prototype.match=function(t){switch(this.messageTypeFilter){case ia.USER:if(t.messageType!==Gr.USER)return!1;break;case ia.FILE:if(t.messageType!==Gr.FILE)return!1;break;case ia.ADMIN:if(t.messageType!==Gr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(t.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(t instanceof Di)||!this.senderUserIdsFilter.includes(t.sender.userId)))return!1;switch(this.replyType){case xa.NONE:if(t.parentMessageId>0)return!1;break;case xa.ONLY_REPLY_TO_CHANNEL:if(t instanceof Di&&t.parentMessageId>0&&!t.replyToChannel)return!1}return!0},n}();(function(n){n.CHANNEL_LATEST="channel_latest",n.NEWEST_CHILD_MESSAGE="newest_child_message"})(ta||(ta={}));var C_,gc=function(n){switch(n){case ta.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case ta.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},Tue=ge(ge({},$9),{scheduledAt:void 0}),Cue=function(n){return W9(n)&&ye("number",n.scheduledAt,!0)},kue=ge(ge({},ny),{scheduledAt:0,file:void 0,fileUrl:void 0,fileName:void 0,mimeType:void 0,fileSize:void 0,thumbnailSizes:void 0,requireAuth:!1}),Iue=function(n){return ty(n)&&ye("number",n.scheduledAt)&&(Li(n.file)||ye("string",n.fileUrl))&&ye("string",n.fileName,!0)&&ye("string",n.mimeType,!0)&&ye("number",n.fileSize,!0)&&(n.thumbnailSizes===null||n.thumbnailSizes===void 0||n.thumbnailSizes.every(function(t){return ye("object",t)&&t.maxWidth>0&&t.maxHeight>0}))},uF="UnsentMessage",Nue="reqId",Gg={},wh=function(n){function t(e){var r=n.call(this,e)||this;return r._mutex=new tC("unsendmessagecache.lock"),Gg[e]=r,r}return re(t,n),Object.defineProperty(t.prototype,"_cacheContext",{get:function(){return Se.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),t.of=function(e,r){return r===void 0&&(r=!1),Gg[e]&&!r||(Gg[e]=new t(e)),Gg[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb,r=e==null?void 0:e.collection(uF);if(!r)throw Oe.databaseError;return r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){if(e.messageId>0)throw Oe.invalidParameters;var r,a=ge({},e.serialize());return e instanceof ra?(e.messageParams&&(a.messageParams=l8(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a.scheduledInfo.scheduledMessageParams=(r=e.scheduledInfo.scheduledMessageParams,ge(ge({},l8(r)),{scheduledAt:r.scheduledAt})))):e instanceof di?(e.messageParams&&(a.messageParams=c8(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a.scheduledInfo.scheduledMessageParams=function(l){return ge(ge({},c8(l)),{scheduledAt:l.scheduledAt})}(e.scheduledInfo.scheduledMessageParams))):e instanceof js&&e.messageParams&&(a.messageParams=function(l){return Kn({fileInfoList:l.fileInfoList,isReplyToChannel:l.isReplyToChannel,pushNotificationDeliveryOption:l.pushNotificationDeliveryOption})}(e.messageParams)),a},t.prototype._deserialize=function(e){return e=ge(ge({},e),{messageId:parseInt(e.messageId)}),Ri.of(this._iid).buildMessageFromSerializedData(e)},t.prototype._deserializeWithMessageCreateParams=function(e){var r,a,l;return H(this,void 0,void 0,function(){var d,h,f,_,g,E,w=this;return F(this,function(x){switch(x.label){case 0:return d=Ri.of(this._iid),h=this._deserialize(e),e.messageParams?h instanceof ra?(_=e.messageParams,h.messageParams=d.buildUserMessageCreateParamsFromSerializedData(_,h),[3,6]):[3,1]:[3,6];case 1:return h instanceof di?(_=e.messageParams).fileKey&&typeof _.fileKey=="string"&&rx((r=_.fileType)!==null&&r!==void 0?r:"")?(f=_,[4,this.collection.getBlob(_.fileKey)]):[3,3]:[3,4];case 2:f.file=(a=x.sent())!==null&&a!==void 0?a:void 0,x.label=3;case 3:return h.messageParams=d.buildFileMessageCreateParamsFromSerializedData(_,h),[3,6];case 4:return h instanceof js&&(_=e.messageParams)&&_.fileInfoList?(h.messageParams=d.buildMultipleFilesMessageCreateParamsFromSerializedData(_,h),[4,Promise.all(h.messageParams.fileInfoList.map(function(T){return H(w,void 0,void 0,function(){var N,P,k,C,A;return F(this,function(U){switch(U.label){case 0:return typeof((P=T._uploadedMetaData)===null||P===void 0?void 0:P.fileKey)=="string"&&rx((C=(k=T._uploadedMetaData)===null||k===void 0?void 0:k.fileType)!==null&&C!==void 0?C:"")?(N=T,[4,this.collection.getBlob(T._uploadedMetaData.fileKey)]):[3,2];case 1:N.file=(A=U.sent())!==null&&A!==void 0?A:void 0,U.label=2;case 2:return[2]}})})}))]):[3,6];case 5:x.sent(),x.label=6;case 6:return h.scheduledInfo&&e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams?h instanceof ra?(g=e.scheduledInfo.scheduledMessageParams,h.scheduledInfo.scheduledMessageParams=d.buildScheduledUserMessageCreateParamsFromSerializedData(g,h),[3,10]):[3,7]:[3,10];case 7:return h instanceof di?(g=e.scheduledInfo.scheduledMessageParams).fileKey&&typeof g.fileKey=="string"&&typeof g.fileType=="string"&&rx(g.fileType)?(E=g,[4,this.collection.getBlob(g.fileKey)]):[3,9]:[3,10];case 8:E.file=(l=x.sent())!==null&&l!==void 0?l:void 0,x.label=9;case 9:h.scheduledInfo.scheduledMessageParams=d.buildScheduledFileMessageCreateParamsFromSerializedData(g,h),x.label=10;case 10:return[2,h]}})})},t.prototype._getFileInfoBlobKey=function(e,r){return"".concat(e,".").concat(r)},t.prototype.get=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=a.sent())return[2,this._deserializeWithMessageCreateParams(r)];a.label=2;case 2:return[2,void 0]}})})},t.prototype.fetch=function(e){var r=e.channelUrl,a=e.filter,l=a===void 0?new rp:a,d=e.order,h=d===void 0?ta.CHANNEL_LATEST:d,f=e.sendingStatus,_=e.backward,g=_!==void 0&&_,E=e.parentMessageId;return H(this,void 0,void 0,function(){var w,x,T,N,P=this;return F(this,function(k){switch(k.label){case 0:return this.localCacheEnabled?(w=gc(h),x={"/where":function(C){return!!(h!==ta.NEWEST_CHILD_MESSAGE||E&&C.parentMessageId!==0&&C.parentMessageId===E)&&l.match(P._deserialize(C))}},r&&(x.channelUrl=r),f&&(x.sendingStatus=f),T={where:x,index:w,backward:g},[4,this.collection.query(T)]):[3,3];case 1:return[4,k.sent().fetch({})];case 2:return N=k.sent(),[2,Promise.all(N.map(function(C){return H(P,void 0,void 0,function(){return F(this,function(A){switch(A.label){case 0:return[4,this._deserializeWithMessageCreateParams(C)];case 1:return[2,A.sent()]}})})}))];case 3:return[2,[]]}})})},t.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new rp),H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this.fetch({filter:r,order:ta.NEWEST_CHILD_MESSAGE,channelUrl:e.channelUrl,backward:!1,parentMessageId:e.messageId})];case 1:return[2,a.sent()]}})})},t.prototype.upsert=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(l){return H(r,void 0,void 0,function(){var d;return F(this,function(h){switch(h.label){case 0:return l instanceof di||l instanceof js?[4,this._mutex.lock()]:[3,4];case 1:return h.sent(),[4,this.saveBlob(l)];case 2:return h.sent(),[4,this._mutex.unlock()];case 3:h.sent(),h.label=4;case 4:return d=this._serialize(l),[4,this.collection.upsertOne(d)];case 5:return h.sent(),[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.upsertChildMessages=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(l){return H(r,void 0,void 0,function(){var d;return F(this,function(h){switch(h.label){case 0:return d=[],l.threadInfo&&l.threadInfo.replyCount>0?[4,this.getAllChildMessages(l)]:[3,2];case 1:d=h.sent(),h.label=2;case 2:return d.length>0?(d.forEach(function(f){return f.applyParentMessage(l)}),[4,this.upsert(d)]):[3,4];case 3:h.sent(),h.label=4;case 4:return[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:if(!this.localCacheEnabled)return[3,8];_.label=1;case 1:_.trys.push([1,6,7,8]),r=Cn(e),a=r.next(),_.label=2;case 2:return a.done?[3,5]:(l=a.value,[4,this.collection.remove(l)]);case 3:_.sent(),_.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return d=_.sent(),h={error:d},[3,8];case 7:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},t.prototype.removeMessagesOfChannel=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.saveBlob=function(e){return H(this,void 0,void 0,function(){var r,a,l,d=this;return F(this,function(h){switch(h.label){case 0:return e instanceof di?e.messageParams&&(l=e.messageParams).file&&vb(l.file)?[4,this.collection.saveBlob(l.file,e.reqId)]:[3,2]:[3,5];case 1:a=h.sent(),l.fileKey=a,l.fileType=Ju.BLOB,h.label=2;case 2:return e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(r=e.scheduledInfo.scheduledMessageParams).file&&vb(r.file)?[4,this.collection.saveBlob(r.file,e.reqId)]:[3,4];case 3:a=h.sent(),r.fileKey=a,r.fileType=Ju.BLOB,h.label=4;case 4:return[3,7];case 5:return e instanceof js&&(l=e.messageParams)&&l.fileInfoList&&Array.isArray(l.fileInfoList)?[4,Promise.all(l.fileInfoList.map(function(f,_){return H(d,void 0,void 0,function(){var g;return F(this,function(E){switch(E.label){case 0:return f.file&&vb(f.file)?[4,this.collection.saveBlob(f.file,this._getFileInfoBlobKey(e.reqId,_))]:[3,2];case 1:g=E.sent(),f._uploadedMetaData||(f._uploadedMetaData={}),f._uploadedMetaData.fileKey=g,f._uploadedMetaData.fileType=Ju.BLOB,E.label=2;case 2:return[2]}})})}))]:[3,7];case 6:h.sent(),h.label=7;case 7:return[2]}})})},t}(qa),qg={},ip=function(n){function t(e){var r=n.call(this,e)||this;return qg[e]=r,r}return re(t,n),Object.defineProperty(t.prototype,"_sdkState",{get:function(){return Se.of(this._iid).sdkState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_cacheContext",{get:function(){return Se.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_unsentMessageCache",{get:function(){return wh.of(this._iid)},enumerable:!1,configurable:!0}),t.of=function(e,r){return r===void 0&&(r=!1),qg[e]&&!r||(qg[e]=new t(e)),qg[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return _n(!!e).throw(Oe.databaseError),e.collection(lF)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){return ge(ge({},e.serialize()),{messageId:"".concat(e.messageId)})},t.prototype._deserialize=function(e){return e=ge(ge({},e),{messageId:parseInt(e.messageId)}),Ri.of(this._iid).buildMessageFromSerializedData(e)},t.prototype.get=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=a.sent())return[2,this._deserialize(r)];a.label=2;case 2:return[2,void 0]}})})},t.prototype.fetch=function(e){var r=e.channelUrl,a=e.token,l=e.limit,d=l===void 0?100:l,h=e.filter,f=h===void 0?new rp:h,_=e.order,g=_===void 0?ta.CHANNEL_LATEST:_,E=e.backward,w=E!==void 0&&E,x=e.parentMessageId,T=e.isPollOnly,N=T!==void 0&&T,P=e.exactMatch,k=P!==void 0&&P,C=e.inclusive,A=C===void 0||C;return H(this,void 0,void 0,function(){var U,M,R,I=this;return F(this,function(D){switch(D.label){case 0:return this.localCacheEnabled?(U=gc(g),M={where:{channelUrl:r,"/where":function(q){if(a)switch(g){case ta.CHANNEL_LATEST:if(k&&q.createdAt!==a)return!1;if(w){if(A&&q.createdAt<a||!A&&q.createdAt<=a)return!1}else if(A&&q.createdAt>a||!A&&q.createdAt>=a)return!1;break;case ta.NEWEST_CHILD_MESSAGE:if(!x||q.parentMessageId===0||q.parentMessageId!==x)return!1}return!(N&&!q._poll)&&f.match(I._deserialize(q))}},index:U,backward:w},[4,this.collection.query(M)]):[3,3];case 1:return[4,D.sent().fetch({limit:d??void 0})];case 2:return R=D.sent(),[2,Promise.all(R.map(function(q){return H(I,void 0,void 0,function(){return F(this,function(z){return[2,this._deserialize(q)]})})}))];case 3:return[2,[]]}})})},t.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new rp),H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this.fetch({channelUrl:e.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:ta.NEWEST_CHILD_MESSAGE,parentMessageId:e.messageId})];case 1:return[2,a.sent()]}})})},t.prototype.upsert=function(e){return H(this,void 0,void 0,function(){var r,a=this;return F(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(e)]:[3,5];case 1:return l.sent(),r=e.map(function(d){return a._serialize(d)}),[4,this.collection.upsertMany(r)];case 2:return l.sent(),[4,this.upsertChildMessages(e)];case 3:return l.sent(),[4,this._unsentMessageCache.upsertChildMessages(e)];case 4:l.sent(),l.label=5;case 5:return[2]}})})},t.prototype.upsertChildMessages=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(l){return H(r,void 0,void 0,function(){var d,h;return F(this,function(f){switch(f.label){case 0:return d=[],!((h=l.threadInfo)===null||h===void 0)&&h.replyCount&&l.threadInfo.replyCount>0?[4,this.getAllChildMessages(l)]:[3,2];case 1:d=f.sent(),f.label=2;case 2:return d.length>0?(d.forEach(function(_){return _.applyParentMessage(l)}),[4,this.upsert(d)]):[3,4];case 3:f.sent(),f.label=4;case 4:return[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:if(!this.localCacheEnabled)return[3,8];_.label=1;case 1:_.trys.push([1,6,7,8]),r=Cn(e),a=r.next(),_.label=2;case 2:return a.done?[3,5]:(l=a.value,[4,this.collection.remove("".concat(l))]);case 3:_.sent(),_.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return d=_.sent(),h={error:d},[3,8];case 7:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},t.prototype.removeMessagesOfChannel=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e},index:gc(ta.CHANNEL_LATEST)})]:[3,6];case 1:return a.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 2:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 3:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 4:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 5:a.sent(),a.label=6;case 6:return[2]}})})},t.prototype.removeUnderOffset=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e,createdAt:{"<":r}},index:gc(ta.CHANNEL_LATEST)})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.countBetween=function(e,r,a){return H(this,void 0,void 0,function(){var l,d=this;return F(this,function(h){switch(h.label){case 0:return this.localCacheEnabled?(l=gc(ta.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:e,"/where":function(f){var _=d._deserialize(f);return a.includes(_.createdAt)&&r.match(_)}},index:l}).count()]):[3,2];case 1:return[2,h.sent()];case 2:return[2,0]}})})},t.prototype.saveBlobs=function(e){return H(this,void 0,void 0,function(){var r=this;return F(this,function(a){switch(a.label){case 0:return[4,Promise.all(e.map(function(l){return H(r,void 0,void 0,function(){var d,h;return F(this,function(f){switch(f.label){case 0:return l instanceof di&&l.messageParams&&(d=l.messageParams).file&&vb(d.file)?[4,this.collection.saveBlob(d.file,l.reqId)]:[3,2];case 1:h=f.sent(),d.fileKey=h,f.label=2;case 2:return[2]}})})}))];case 1:return a.sent(),[2]}})})},t.prototype._getGroupChannelPreferenceSize=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return r=0,[4,(a=this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 1:return l=_.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 2:return d=_.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 3:return h=_.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 4:return f=_.sent(),l&&(r+=JSON.stringify(l).length),d&&(r+=JSON.stringify(d).length),h&&(r+=JSON.stringify(h).length),f&&(r+=JSON.stringify(f).length),[2,r]}})})},t}(qa),Of={},hF=function(n){function t(e){var r=n.call(this,e)||this;return r._observers=new Map,r._dispatcherContext=r._dispatcher.on(function(a){return H(r,void 0,void 0,function(){var l,d,h,f,_,g,E,w,x,T,N,P,k,C,A=this;return F(this,function(U){switch(U.label){case 0:return a instanceof Kr?(l=a.messages,k=a.source,_=a.isWebSocketEventComing,d=l.filter(function(M){return M.messageId>0}),h=l.filter(function(M){return M.messageId===0}),d.length>0?[4,Ei(function(){return H(A,void 0,void 0,function(){return F(this,function(M){switch(M.label){case 0:return[4,this._messageCache.upsert(d)];case 1:return M.sent(),[4,this._unsentMessageCache.remove(d.map(function(R){return R instanceof Di?R.reqId:null}).filter(function(R){return R!==null}))];case 2:return M.sent(),[2]}})})})]:[3,2]):[3,5];case 1:U.sent(),_||this._broadcastUpdateEvent(d,k),U.label=2;case 2:return h.length>0?[4,Ei(function(){return H(A,void 0,void 0,function(){return F(this,function(M){switch(M.label){case 0:return[4,this._unsentMessageCache.upsert(h)];case 1:return M.sent(),[2]}})})})]:[3,4];case 3:U.sent(),_||this._broadcastUpdateEvent(h,k),U.label=4;case 4:return[3,21];case 5:return a instanceof KT?(f=a.messageIds,k=a.source,_=a.isWebSocketEventComing,[4,Ei(function(){return H(A,void 0,void 0,function(){return F(this,function(M){switch(M.label){case 0:return[4,this._messageCache.remove(f)];case 1:return M.sent(),[2]}})})})]):[3,7];case 6:return U.sent(),_||this._broadcastRemoveEvent(f,k),[3,21];case 7:return a instanceof F9?(g=a.reqId,k=a.source,[4,Ei(function(){return H(A,void 0,void 0,function(){return F(this,function(M){switch(M.label){case 0:return[4,this._unsentMessageCache.remove([g])];case 1:return M.sent(),[2]}})})})]):[3,9];case 8:return U.sent(),this._broadcastRemoveUnsentEvent(g,k),[3,21];case 9:return a instanceof H9?(E=a.polls,k=a.source,this._cacheContext.localCacheEnabled?(w=E.map(function(M){return M.messageId}),[4,Promise.all(w.map(function(M){return A._messageCache.get(M)}))]):[3,12]):[3,13];case 10:return(x=U.sent().filter(function(M){return M})).length>0&&E.forEach(function(M){var R=x.find(function(I){return I.messageId===M.messageId});R&&R.applyPoll(M)}),[4,Ei(function(){return H(A,void 0,void 0,function(){return F(this,function(M){switch(M.label){case 0:return[4,this._messageCache.upsert(x)];case 1:return[2,M.sent()]}})})})];case 11:U.sent(),U.label=12;case 12:return this._broadcastPollChangeLogEvent(E,k),[3,21];case 13:return a instanceof QT?(T=a.event,k=a.source,[4,this._messageCache.get(T.messageId)]):[3,17];case 14:return(N=U.sent())&&N.isUserMessage()&&N.poll&&N.poll.applyPollUpdateEvent(T)?[4,Ei(function(){return H(A,void 0,void 0,function(){return F(this,function(M){switch(M.label){case 0:return[4,this._messageCache.upsert([N])];case 1:return[2,M.sent()]}})})})]:[3,16];case 15:U.sent(),U.label=16;case 16:return this._broadcastPollUpdateEvent(T,k),[3,21];case 17:return a instanceof J1?(P=a.event,k=a.source,[4,this._messageCache.get(P.messageId)]):[3,21];case 18:return(C=U.sent())&&C.isUserMessage()&&C.poll&&C.poll.applyPollVoteEvent(P)?[4,Ei(function(){return H(A,void 0,void 0,function(){return F(this,function(M){switch(M.label){case 0:return[4,this._messageCache.upsert([C])];case 1:return[2,M.sent()]}})})})]:[3,20];case 19:U.sent(),U.label=20;case 20:this._broadcastPollVoteEvent(P,k),U.label=21;case 21:return[2]}})})}),r}return re(t,n),Object.defineProperty(t.prototype,"_cacheContext",{get:function(){return Se.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_dispatcher",{get:function(){return Se.of(this._iid).dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_messageCache",{get:function(){return ip.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_unsentMessageCache",{get:function(){return wh.of(this._iid)},enumerable:!1,configurable:!0}),t.of=function(e,r){var a;return r===void 0&&(r=!1),Of[e]&&!r||(Of[e]&&((a=Of[e]._dispatcherContext)===null||a===void 0||a.close()),Of[e]=new t(e)),Of[e]},t.prototype._broadcastUpdateEvent=function(e,r){var a,l;try{for(var d=Cn(this._observers.values()),h=d.next();!h.done;h=d.next()){var f=h.value;f.onUpdate&&f.onUpdate(e,r)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}},t.prototype._broadcastPollChangeLogEvent=function(e,r){var a,l;try{for(var d=Cn(this._observers.values()),h=d.next();!h.done;h=d.next()){var f=h.value;f.onPollChangeLogUpdate&&f.onPollChangeLogUpdate(e,r)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}},t.prototype._broadcastPollUpdateEvent=function(e,r){var a,l;try{for(var d=Cn(this._observers.values()),h=d.next();!h.done;h=d.next()){var f=h.value;f.onPollUpdate&&f.onPollUpdate(e,r)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}},t.prototype._broadcastPollVoteEvent=function(e,r){var a,l;try{for(var d=Cn(this._observers.values()),h=d.next();!h.done;h=d.next()){var f=h.value;f.onPollVote&&f.onPollVote(e,r)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}},t.prototype._broadcastRemoveEvent=function(e,r){var a,l;try{for(var d=Cn(this._observers.values()),h=d.next();!h.done;h=d.next()){var f=h.value;f.onRemove&&f.onRemove(e,r)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}},t.prototype._broadcastRemoveUnsentEvent=function(e,r){var a,l;try{for(var d=Cn(this._observers.values()),h=d.next();!h.done;h=d.next()){var f=h.value;f.onRemoveUnsent&&f.onRemoveUnsent(e,r)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}},t.prototype.subscribe=function(e,r){this._observers.set(e,r)},t.prototype.unsubscribe=function(e){this._observers.delete(e)},t.prototype.unsubscribeAll=function(){this._observers.clear()},t}(qa),k8={},Ri=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,l=e.requestQueue,d=e.onlineDetector,h=e.cacheContext;this._iid=t,this._sdkState=r,this._requestQueue=l,this._dispatcher=a,this._cacheContext=h,ip.of(t),wh.of(t),hF.of(t),this.fileMessageQueue=new Hce(t,{sdkState:r,dispatcher:a,requestQueue:l,onlineDetector:d,cacheContext:h}),k8[t]=this}return n.of=function(t){return k8[t]},n.prototype.buildMessageFromSerializedData=function(t){var e=Od(t);switch(e.messageType){case Gr.USER:return new ra(this._iid,ra.payloadify(e));case Gr.FILE:return js._isMultipleFilesMessageSerializedData(e)?new js(this._iid,js.payloadify(e)):new di(this._iid,di.payloadify(e));case Gr.ADMIN:return new tp(this._iid,tp.payloadify(e))}throw Oe.invalidParameters},n.prototype.buildUserMessageCreateParamsFromSerializedData=function(t,e){return Kn(Jn({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,message:e.message,translationTargetLanguages:Object.keys(e.translations),pollId:t.pollId}))},n.prototype.buildFileMessageCreateParamsFromSerializedData=function(t,e){var r;return Kn(Jn({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,file:t.file,fileKey:t.fileKey,fileUrl:e.plainUrl,fileName:e.name,fileSize:e.size,mimeType:e.type,thumbnailSizes:(r=e.thumbnails)===null||r===void 0?void 0:r.map(function(a){return{maxWidth:a.width,maxHeight:a.height}}),fileType:t.fileType,requireAuth:e.requireAuth}))},n.prototype.buildMultipleFilesMessageCreateParamsFromSerializedData=function(t,e){return Kn({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,fileInfoList:t.fileInfoList})},n.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(t,e){return ge(ge({},this.buildUserMessageCreateParamsFromSerializedData(t,e)),{scheduledAt:t.scheduledAt})},n.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(t,e){return ge(ge({},this.buildFileMessageCreateParamsFromSerializedData(t,e)),{scheduledAt:t.scheduledAt})},n.prototype.buildSenderFromSerializedData=function(t){var e=Od(t);return new np(this._iid,np.payloadify(e))},n.prototype.getMessage=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=new Bce(t),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(Vce).message]}})})},n.prototype.getScheduledMessage=function(t){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=new qce(t),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(jce).message]}})})},n.prototype.getMessagesByMessageId=function(t,e,r,a,l){return l===void 0&&(l=rn.REQUEST_MESSAGE),H(this,void 0,void 0,function(){var d,h,f;return F(this,function(_){switch(_.label){case 0:return d=new Pg(ge(ge({channelType:e,channelUrl:t,token:String(r)},x_),a)),[4,this._requestQueue.send(d)];case 1:return h=_.sent(),f=h.as(Fg).messages,this._dispatcher.dispatch(new Kr({messages:f,source:l})),[2,f]}})})},n.prototype.getMessagesByTimestamp=function(t,e,r,a,l){return l===void 0&&(l=rn.REQUEST_MESSAGE),H(this,void 0,void 0,function(){var d,h,f;return F(this,function(_){switch(_.label){case 0:return d=new Pg(ge(ge({channelType:e,channelUrl:t,timestamp:r},x_),a)),[4,this._requestQueue.send(d)];case 1:return h=_.sent(),f=h.as(Fg).messages,this._dispatcher.dispatch(new Kr({messages:f,source:l})),[2,f]}})})},n.prototype._getMessagesByTimestampForCollection=function(t,e,r,a,l,d){return l===void 0&&(l=rn.REQUEST_MESSAGE),H(this,void 0,void 0,function(){var h,f,_,g;return F(this,function(E){switch(E.label){case 0:return h=new Pg(ge(ge(ge({channelType:e,channelUrl:t,timestamp:r},x_),a),{checkingContinuousMessages:d})),[4,this._requestQueue.send(h)];case 1:return f=E.sent(),_=f.payload,g=f.as(Fg).messages,this._dispatcher.dispatch(new Kr({messages:g,source:l})),[2,{messages:g,isContinuousMessages:_}]}})})},n.prototype.getThreadedMessagesByTimestamp=function(t,e,r,a){return a===void 0&&(a=rn.REQUEST_THREADED_MESSAGE),H(this,void 0,void 0,function(){var l,d,h,f;return F(this,function(_){switch(_.label){case 0:return l=new Pg(ge(ge(ge({channelUrl:t.channelUrl,channelType:t.channelType,timestamp:e},pm),r),{replyType:xa.ALL,parentMessageId:t.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(l)];case 1:return d=_.sent(),h=d.as(Fg).messages,(f=h.slice(1)).forEach(function(g){g.parentMessage=t}),this._dispatcher.dispatch(new Kr({messages:f,source:a})),[2,{parentMessage:h[0],threadedMessages:f}]}})})},n.prototype.getMessageChangelogs=function(t,e,r,a,l){return l===void 0&&(l=rn.REQUEST_MESSAGE_CHANGELOGS),H(this,void 0,void 0,function(){var d,h,f,_,g,E,w,x;return F(this,function(T){switch(T.label){case 0:return d=new zce(Kn(Jn(ge(ge({channelType:e,channelUrl:t,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},G4),a)))),[4,this._requestQueue.send(d)];case 1:return h=T.sent(),f=h.as(Gce),_=f.updatedMessages,g=f.deletedMessagesInfo,E=f.hasMore,w=f.nextToken,x=g.map(function(N){return N.messageId}),_.length>0&&this._dispatcher.dispatch(new Kr({messages:_,source:l})),x.length>0&&this._dispatcher.dispatch(new KT({messageIds:x,source:l})),[2,{updatedMessages:_,deletedMessageIds:x,hasMore:E,token:w}]}})})},n}(),Aue=function(n){function t(e,r){var a=n.call(this,e)||this;a.targetMessageId=0;var l=r.thread_info,d=r.parent_message_id,h=r.channel_url,f=r.channel_type;return l&&ye("object",l)&&ye("number",d)&&ye("string",h)&&ye("string",f)&&(a.threadInfo=new V4(e,l),a.targetMessageId=d,a.channelUrl=h,a.channelType=f),a}return re(t,n),t}(qa),Oue={channelUrl:"",channelType:Dt.BASE,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},Rue=function(n){function t(e){var r=e.channelCustomType,a=e.keyword,l=e.limit,d=e.reverse,h=e.exactMatch,f=e.channelUrl,_=e.order,g=e.messageTimestampFrom,E=e.messageTimestampTo,w=e.advancedQuery,x=e.targetFields,T=e.nextToken,N=n.call(this)||this;return N.method=pn.GET,N.path="".concat(joe,"/messages"),N.params={custom_type:r,query:a,limit:l,reverse:d,exact_match:h,channel_url:f,message_ts_from:g,message_ts_to:E,sort_field:_,advanced_query:w,target_fields:x,after:T},N}return re(t,n),t}(fn),Mue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.messages=r.results.map(function(l){return Ga(e,l)}),a.hasNext=r.has_next,a.nextToken=r.end_cursor,a.totalCount=r.total_count,a}return re(t,n),t}(vn);(function(n){n.SCORE="score",n.TIMESTAMP="ts"})(C_||(C_={}));var Due=function(n){function t(e,r){var a,l,d,h,f,_,g,E,w,x=this;return(x=n.call(this,e,r)||this).keyword="",x.reverse=!1,x.exactMatch=!1,x.channelUrl="",x.channelCustomType="",x.messageTimestampFrom=null,x.messageTimestampTo=null,x.order=C_.SCORE,x.advancedQuery=!1,x.targetFields=null,x._nextToken="",x.totalCount=-1,x.keyword=r.keyword,x.reverse=(a=r.reverse)!==null&&a!==void 0&&a,x.exactMatch=(l=r.exactMatch)!==null&&l!==void 0&&l,x.channelUrl=(d=r.channelUrl)!==null&&d!==void 0?d:"",x.channelCustomType=(h=r.channelCustomType)!==null&&h!==void 0?h:"",x.messageTimestampFrom=(f=r.messageTimestampFrom)!==null&&f!==void 0?f:null,x.messageTimestampTo=(_=r.messageTimestampTo)!==null&&_!==void 0?_:null,x.order=(g=r.order)!==null&&g!==void 0?g:C_.SCORE,x.advancedQuery=(E=r.advancedQuery)!==null&&E!==void 0&&E,x.targetFields=(w=r.targetFields)!==null&&w!==void 0?w:null,x}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ye("string",this.keyword)&&this.keyword.length>0&&ye("boolean",this.reverse)&&ye("boolean",this.exactMatch)&&ye("string",this.channelUrl)&&ye("string",this.channelCustomType)&&(ye("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(ye("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&Et(C_,this.order)&&ye("boolean",this.advancedQuery)&&St("string",this.targetFields,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Rue(Jn(ge(ge({},this),{nextToken:this._nextToken?this._nextToken:null}))),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=g.sent(),l=a.as(Mue),d=l.messages,h=l.hasNext,f=l.nextToken,_=l.totalCount,this._nextToken=f,this._hasNext=h,this._isLoading=!1,this.totalCount=_,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Ic),Lue={channelUrl:"",scheduledMessageId:0},Uue=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="message",e}return re(t,n),t.prototype.init=function(e,r){var a=r.sdkState,l=r.dispatcher,d=r.sessionManager,h=r.requestQueue,f=r.logger,_=r.onlineDetector,g=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:l,sessionManager:d,requestQueue:h,logger:f,onlineDetector:_,cacheContext:g}),this._manager=new Ri(e,{sdkState:a,dispatcher:l,requestQueue:h,onlineDetector:_,cacheContext:g})},t.prototype.buildMessageFromSerializedData=function(e){return this._manager.buildMessageFromSerializedData(e)},t.prototype.buildSenderFromSerializedData=function(e){return this._manager.buildSenderFromSerializedData(e)},t.prototype.getMessage=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=ge(ge({},Oue),e),_n(function(l){return ye("string",l.channelUrl)&&Et(Dt,l.channelType)&&ye("number",l.messageId)&&ye("boolean",l.includeReactions,!0)&&ye("boolean",l.includeMetaArray,!0)&&ye("boolean",l.includeParentMessageInfo,!0)&&ye("boolean",l.includeThreadInfo,!0)}(r)).throw(Oe.invalidParameters),[2,this._manager.getMessage(r)]})})},t.prototype.getScheduledMessage=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=ge(ge({},Lue),e),_n(function(l){return ye("string",l.channelUrl)&&l.channelUrl!==""&&ye("number",l.scheduledMessageId)&&l.scheduledMessageId>0}(r)).throw(Oe.invalidParameters),[2,this._manager.getScheduledMessage(r)]})})},t}(Z1),Pue=function(n,t){this.pollId=0,this.messageId=0,this.pollId=t.poll.id,this.messageId=t.poll.message_id,this._iid=n,this._payload=t},Fue=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="poll",e}return re(t,n),t.prototype.init=function(e,r){var a=r.sdkState,l=r.dispatcher,d=r.sessionManager,h=r.requestQueue,f=r.logger,_=r.onlineDetector,g=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:l,sessionManager:d,requestQueue:h,logger:f,onlineDetector:_,cacheContext:g}),this._manager=new u1(e,{sdkState:a,dispatcher:l,sessionManager:d,requestQueue:h,logger:f,onlineDetector:_,cacheContext:g})},t.prototype.create=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=ge(ge({},Nce),e),_n(B9(r)).throw(Oe.invalidParameters),[2,this._manager.create(r)]})})},t.prototype.get=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=ge(ge({},Oce),e),_n(z9(r)).throw(Oe.invalidParameters),[2,this._manager.get(r)]})})},t.prototype.getOption=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=ge(ge({},Ace),e),_n(V9(r)).throw(Oe.invalidParameters),[2,this._manager.getOption(r)]})})},t.prototype.buildPollFromSerializedData=function(e){return this._manager.buildPollFromSerializedData(e)},t}(Z1),ri,k_,K4;(function(n){n.LATEST_LAST_MESSAGE="latest_last_message",n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(ri||(ri={})),function(n){n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(k_||(k_={})),function(n){n.CREATED_AT="created_at",n.SCHEDULED_AT="scheduled_at"}(K4||(K4={}));var em,bb=function(n){switch(n){case ri.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case ri.CHRONOLOGICAL:return["-createdAt","syncIndex"];case ri.CHANNEL_NAME_ALPHABETICAL:return["name"];default:return["-lastMessageUpdatedAt","-createdAt","syncIndex"]}},pF=function(n){function t(e){var r=e.message,a=n.call(this)||this;return a.message=r,a}return re(t,n),t}(ii),I8={},Xf=function(){function n(t,e){var r=e.localCacheEnabled,a=e.dispatcher,l=e.sdkState,d=e.logger,h=this;this._iid=t,I8[t]=this,this._localCacheEnabled=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=a,this._logger=d,this._sdkState=l,this._localCacheEnabled&&a.on(function(f){if(f instanceof Ss)switch(f.stateType){case Kt.CONNECTED:h._isProcessingAutoResend||h.processAutoResendRegisteredPendingMessages().then(function(){return h._processNextAutoResend()});break;case Kt.INTERNAL_DISCONNECTED:case Kt.EXTERNAL_DISCONNECTED:h._isProcessingAutoResend=!1}})}return n.of=function(t){return I8[t]},n.prototype.processNonAutoResendRegisteredPendingMessages=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d;return F(this,function(h){switch(h.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:t=h.sent();try{for(e=Cn(t),r=e.next();!r.done;r=e.next())(a=r.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",a.reqId),a.sendingStatus=Fr.FAILED,a.errorCode=rt.ACK_TIMEOUT,this._dispatcher.dispatch(new Kr({messages:[a],source:rn.LOCAL_MESSAGE_FAILED})))}catch(f){l={error:f}}finally{try{r&&!r.done&&(d=e.return)&&d.call(e)}finally{if(l)throw l.error}}return[2]}})})},n.prototype.processAutoResendRegisteredPendingMessages=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:t=_.sent();try{for(e=Cn(t),r=e.next();!r.done;r=e.next())(a=r.value).errorCode&&i1(a.errorCode)&&(l=new Date().getTime(),d=a.createdAt+2592e5,l<=d?this._autoResendQueue.map(function(g){return g.reqId}).indexOf(a.reqId)<0&&this._autoResendQueue.push(a):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(d).toLocaleString()),a.sendingStatus=Fr.FAILED,this._dispatcher.dispatch(new Kr({messages:[a],source:rn.LOCAL_MESSAGE_FAILED}))))}catch(g){h={error:g}}finally{try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}}return[2]}})})},n.prototype.completeCurrentAndProcessNextAutoResend=function(t){if(this._localCacheEnabled&&(t.sendingStatus===Fr.SUCCEEDED||t.sendingStatus===Fr.FAILED&&!i1(t.errorCode))){var e=this.indexOf(t);e>=0&&this._autoResendQueue.splice(e,1),e===0&&this._processNextAutoResend()}},n.prototype._fetchAllCachedPendingMessages=function(){return H(this,void 0,void 0,function(){var t,e;return F(this,function(r){switch(r.label){case 0:return(t=wh.of(this._iid))?[4,t.fetch({sendingStatus:Fr.PENDING,backward:!0})]:[3,2];case 1:return e=r.sent(),[3,3];case 2:e=[],r.label=3;case 3:return[2,e]}})})},n.prototype.indexOf=function(t){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(e){return e.reqId}).indexOf(t.reqId):-1},n.prototype._isNotInQueue=function(t){return this._autoResendQueue.map(function(e){return e.reqId}).indexOf(t.reqId)===-1},n.prototype._processNextAutoResend=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),t=this._autoResendQueue[0],this._dispatcher.dispatch(new pF({message:t})),this._logger.debug("processing auto-resend for message request id: ",t.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]})})},n}();(function(n){n[n.USER_BLOCK=20001]="USER_BLOCK",n[n.USER_UNBLOCK=2e4]="USER_UNBLOCK",n[n.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(em||(em={}));var _1=function(){function n(t){this.category=t.cat,this.data=t.data}return n.getDataAsUserBlockEvent=function(t,e){var r=e.data,a=r.blocker,l=r.blockee;return{blocker:new kt(t,a),blockee:new kt(t,l)}},n.getDataAsFriendDiscoveredEvent=function(t,e){var r=e.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map(function(a){return new kt(t,a)}):[]}},n}(),fF=function(n){function t(e,r){var a=r.userId,l=n.call(this)||this;return l._iid=e,l.userId=a,l}return re(t,n),t}(ii),_F=function(n){function t(){return n.call(this)||this}return re(t,n),t}(ii),mF=function(n){function t(e,r,a){var l=n.call(this,e,"USEV",a)||this;return l.event=new _1(a),l}return re(t,n),t}(br),Hue=function(n){return["-lastMessageUpdatedAt","-createdAt","syncIndex"]},vF=function(n){this.key=n.key,this.url=n.url},gF=function(n){this.id=n.id,this.name=n.name,this.url=n.url,this.emojis=n.emojis?n.emojis.map(function(t){return new vF(t)}):[]},Bue=function(n){this.emojiHash=n.emoji_hash||"",this.emojiCategories=n.emoji_categories?n.emoji_categories.map(function(t){return new gF(t)}):[]},Vue={profileImage:void 0,profileUrl:void 0,nickname:void 0},N8=function(n){return{v2:n.commitSchema([{collectionName:sF,keyName:Qde,index:[bb(ri.LATEST_LAST_MESSAGE),bb(ri.CHRONOLOGICAL),bb(ri.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:lF,keyName:Yde,index:[gc(ta.CHANNEL_LATEST),gc(ta.NEWEST_CHILD_MESSAGE)]},{collectionName:uF,keyName:Nue,index:[gc(ta.CHANNEL_LATEST),gc(ta.NEWEST_CHILD_MESSAGE)]},{collectionName:Xde,keyName:Zde}]),v3:n.commitSchema([{collectionName:Jde,keyName:eue,index:[Hue()]}])}},A8=function(n,t){return function(e,r){switch(e){case 1:n.clear().then(function(){t.clear().then(function(){N8(n).v2.then(function(){return r()}).catch(function(a){return r(a)})}).catch(function(a){return r(a)})}).catch(function(a){return r(a)});break;case 2:N8(n).v3.then(function(){return r()}).catch(function(a){return r(a)});break;default:r()}}},zue=function(){return typeof document<"u"?document.visibilityState:"visible"},Gue=function(n){function t(e){var r=e.getVisibilityState,a=r===void 0?zue:r,l=e.initialState,d=l===void 0?"visible":l,h=e.isEnabled,f=h===void 0||h,_=e.pauseCheckDelay,g=_===void 0?3e4:_,E=n.call(this)||this;return E._pauseCheckDelay=3e4,E._currentState="visible",E._getVisibilityState=a,E._pauseCheckDelay=g,E._currentState=d,E._isEnabled=f,E._boundToggleState=E._toggleState.bind(E),E}return re(t,n),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),t.prototype._toggleState=function(){var e=this,r=this._getVisibilityState();r!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=void 0),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){e._pauseDelayTimer=void 0,e.dispatch("pause")},this._pauseCheckDelay)),this._currentState=r},t.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},t.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},t}(vh),que=function(){function n(t){var e=t.logger,r=t.connectionDelegate,a=r===void 0?null:r,l=this;this._onlineWorker=function(){var d;return(d=l.connectionDelegate)===null||d===void 0?void 0:d.reconnect()},this._offlineWorker=function(){var d;return(d=l.connectionDelegate)===null||d===void 0?void 0:d.disconnect()},this.unsubscribes=[],this._onlineListener=function(d){if(l.isAvailableOnWeb)return window.addEventListener("online",d),function(){return window.removeEventListener("online",d,!1)}},this._offlineListener=function(d){if(l.isAvailableOnWeb)return window.addEventListener("offline",d),function(){return window.removeEventListener("offline",d,!1)}},this.logger=e,a&&(this.connectionDelegate=a)}return Object.defineProperty(n.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&!!window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),n.prototype.setOnlineListener=function(t){t&&typeof t=="function"&&(this._onlineListener=t)},n.prototype.setOfflineListener=function(t){t&&typeof t=="function"&&(this._offlineListener=t)},n.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},n.prototype.stop=function(){var t=this;this.unsubscribes.forEach(function(e){try{e==null||e()}catch(r){t.logger.warn(r.message)}}),this.unsubscribes=[]},n.prototype.isOnline=function(){return H(this,void 0,void 0,function(){return F(this,function(t){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise(function(e){fetch("https://www.google.com",{method:pn.GET,mode:"no-cors"}).then(function(){return e(!0)}).catch(function(){return e(!1)})})]})})},n}(),O8=function(n){function t(e){var r=e.userId,a=e.nickname,l=e.profileUrl,d=e.profileImage,h=e.preferredLanguages,f=n.call(this)||this;return f.method=pn.PUT,f.path="".concat(Ht,"/").concat(encodeURIComponent(r)),f.params=Kn(Jn({nickname:a,profile_url:l,profile_file:d,preferred_languages:h})),f}return re(t,n),t}(fn),R8=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.user=new kt(e,ge({},r)),a}return re(t,n),t}(vn),jue=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=pn.POST,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/apns"),l.params={apns_device_token:a,always_push:!0},l}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.type=r.type?Oi[r.type.toLowerCase()]:Oi.UNKNOWN,a.user=new kt(e,r.user),a}re(t,n)})(vn);var $ue=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=pn.POST,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/gcm"),l.params={gcm_reg_token:a,always_push:!0},l}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.type=r.type?Oi[r.type.toLowerCase()]:Oi.UNKNOWN,a.user=new kt(e,r.user),a}re(t,n)})(vn);var Wue=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=pn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(a)),l}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.user=new kt(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}re(t,n)})(vn);var Kue=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=pn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(a)),l}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.user=new kt(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}re(t,n)})(vn);var Que=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.DELETE,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/apns"),a}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.type=r.type?Oi[r.type.toLowerCase()]:Oi.UNKNOWN,a.user=new kt(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}re(t,n)})(vn);var Yue=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.DELETE,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/gcm"),a}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.type=r.type?Oi[r.type.toLowerCase()]:Oi.UNKNOWN,a.user=new kt(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}re(t,n)})(vn);var Xue=function(n){function t(e){var r=e.userId,a=e.type,l=e.token,d=e.ts,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(a),"/device_tokens"),h.params={created_ts:d,token:l},h}return re(t,n),t}(fn),Zue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTokens={type:r.type?Oi[r.type.toLowerCase()]:Oi.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},a}return re(t,n),t}(vn),Jue=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),a}return re(t,n),t}(fn),ehe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.autoAccept=r.auto_accept,a}return re(t,n),t}(vn),nhe=function(n){function t(e){var r=e.userId,a=e.willAutoAccept,l=n.call(this)||this;return l.method=pn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),l.params={auto_accept:a},l}return re(t,n),t}(fn),the=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.autoAccept=r.auto_accept,a}return re(t,n),t}(vn),rhe=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),a}return re(t,n),t}(fn),ihe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},a}return re(t,n),t}(vn),ahe=function(n){function t(e){var r=e.userId,a=e.doNotDisturbOn,l=e.startHour,d=e.startMin,h=e.endHour,f=e.endMin,_=e.timezone,g=n.call(this)||this;return g.method=pn.PUT,g.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),g.params={do_not_disturb:a,start_hour:l,start_min:d,end_hour:h,end_min:f,timezone:_},g}return re(t,n),t}(fn),she=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},a}return re(t,n),t}(vn),ohe=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),a}return re(t,n),t}(fn),lhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=r.snooze_end_ts),a}return re(t,n),t}(vn),che=function(n){function t(e){var r=e.userId,a=e.snoozeOn,l=e.startTs,d=e.endTs,h=n.call(this)||this;return h.method=pn.PUT,h.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),h.params={snooze_enabled:a,snooze_start_ts:l,snooze_end_ts:d},h}return re(t,n),t}(fn),dhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=r.snooze_end_ts),a}return re(t,n),t}(vn),uhe=function(n){function t(e){var r=e.userId,a=e.blockedUserId,l=n.call(this)||this;return l.method=pn.POST,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/block"),l.params={target_id:a},l}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.user=new kt(e,r),a}re(t,n)})(vn);var hhe=function(n){function t(e){var r=e.userId,a=e.unblockedUserId,l=n.call(this)||this;return l.method=pn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(a)),l}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var phe=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),a}return re(t,n),t}(fn),fhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a}return re(t,n),t}(vn),_he=function(n){function t(e){var r=e.userId,a=e.pushTriggerOption,l=n.call(this)||this;return l.method=pn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference"),l.params={push_trigger_option:a},l}return re(t,n),t}(fn),mhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a}return re(t,n),t}(vn),vhe=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/template"),a}return re(t,n),t}(fn),ghe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.name=r.name,a}return re(t,n),t}(vn),bhe=function(n){function t(e){var r=e.userId,a=e.templateName,l=n.call(this)||this;return l.method=pn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push/template"),l.params={name:a},l}return re(t,n),t}(fn),yhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.name=r.name,a}return re(t,n),t}(vn),Ehe=function(n){function t(e){var r=e.userId,a=e.token,l=n.call(this)||this;return l.method=pn.GET,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friends/changelogs"),l.params={token:a},l}return re(t,n),t}(fn),whe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.changelogs={addedUsers:r.added.map(function(l){return new kt(e,l)}),updatedUsers:r.updated.map(function(l){return new kt(e,l)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},a}return re(t,n),t}(vn),xhe=function(n){function t(e){var r=e.userId,a=e.discoveries,l=n.call(this)||this;return l.method=pn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friend_discoveries"),l.params={friend_discoveries:a.map(function(d){return{friend_discovery_key:d.friendDiscoveryKey,friend_name:d.friendName}})},l}return re(t,n),t}(fn),She=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.friendDiscoveryRequestId=r.friend_discovery_request_id,a}return re(t,n),t}(vn),The=function(n){function t(e){var r=e.userId,a=e.discoveryKeys,l=n.call(this)||this;return l.method=pn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friend_discoveries"),l.params={friend_discovery_keys:a},l}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var Che=function(n){function t(e){var r=e.userId,a=e.userIds,l=n.call(this)||this;return l.method=pn.POST,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friends"),l.params={user_ids:a},l}return re(t,n),t}(fn),khe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(l){return new kt(e,l)}),a}return re(t,n),t}(vn),Ihe=function(n){function t(e){var r=e.userId,a=e.userIds,l=n.call(this)||this;return l.method=pn.DELETE,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/friends"),l.params={user_ids:a},l}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var Nhe=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ht,"/").concat(r,"/allow_friend_discovery"),a.params={},a}return re(t,n),t}(fn),Ahe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.allowFriendDiscovery=r.allow_friend_discovery,a}return re(t,n),t}(vn),Ohe=function(n){function t(e){var r=e.userId,a=e.allowFriendDiscovery,l=n.call(this)||this;return l.method=pn.PUT,l.path="".concat(Ht,"/").concat(r,"/allow_friend_discovery"),l.params={allow_friend_discovery:a},l}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var Rf,Rhe=function(n){function t(){var e=n.call(this)||this;return e.method=pn.GET,e.path=l9,e}return re(t,n),t}(fn),Mhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emojiContainer=new Bue(r),a}return re(t,n),t}(vn),Dhe=function(n){function t(e){var r=e.categoryId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(l9,"/").concat(r),a}return re(t,n),t}(fn),Lhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emojiCategory=new gF(r),a}return re(t,n),t}(vn),Uhe=function(n){function t(e){var r=e.key,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat($oe,"/").concat(r),a}return re(t,n),t}(fn),Phe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emoji=new vF(r),a}return re(t,n),t}(vn),Fhe=function(n){function t(){var e=n.call(this)||this;return e.method=pn.GET,e.path="".concat(Woe),e}return re(t,n),t}(fn),Hhe=function(n){function t(e,r){var a,l=this,d=r??{};return(l=n.call(this,e,r)||this).uikitConfiguration={string:JSON.stringify(d),json:d},l.updatedAt=(a=r==null?void 0:r.updated_at)!==null&&a!==void 0?a:0,l}return re(t,n),t}(vn),Bhe=function(){function n(t,e,r){var a=this;this._storeInitialized=!1,this._iid=t,this.options=e;var l=Se.of(t),d=l.sdkState,h=l.cacheContext,f=l.dispatcher,_=l.sessionManager,g=l.requestQueue,E=l.logger,w=l.userEventHandlers,x=l.appStateToggleEnabled;this._onlineDetector=new que({logger:E,connectionDelegate:{reconnect:function(){var N=Se.of(t),P=N.sdkState,k=N.connectionManager,C=N.sessionManager;C.auth.hasSession?P.appState==="foreground"&&k.resetAndReconnect():k.connect(C.auth.authToken)},disconnect:function(){Se.of(t).connectionManager.disconnect()}}});var T=new Xf(t,{localCacheEnabled:h.localCacheEnabled,dispatcher:f,sdkState:d,logger:E});r.forEach(function(N){N.init(t,{sdkState:d,cacheContext:h,dispatcher:f,sessionManager:_,requestQueue:g,logger:E,onlineDetector:a._onlineDetector}),a[N.name]=N}),this._appStateChangeDetector=new Gue({isEnabled:x}),this._appStateChangeDetector.on("resume",function(){E.debug("the page resumes from freeze"),a.setForegroundState()}).on("pause",function(){E.debug("the page freezes"),a.setBackgroundState()}),f.on(function(N){var P;if(N instanceof Ss)N.stateType===Kt.CONNECTED&&T.processNonAutoResendRegisteredPendingMessages();else if(N instanceof br){if(N.code==="USEV"){var k=N.as(mF).event;if(k.category===em.FRIEND_DISCOVERED){var C=_1.getDataAsFriendDiscoveredEvent(t,k).friendDiscoveries;jn(function(){return H(a,void 0,void 0,function(){return F(this,function(I){return[2,w.forEach(function(D){D.onFriendsDiscovered&&D.onFriendsDiscovered(C)})]})})})}}}else if(N instanceof A9){var A=Se.of(a._iid).subscribedUnreadMessageCount,U=!1,M=N.ts;if(typeof M=="number"&&M>A.ts){if(A.all!==N.all&&(U=!0),A.all=N.all>=0?N.all:0,N.customTypes)for(var R in N.customTypes)A.customTypes[R]!==N.customTypes[R]&&(U=!0),A.customTypes[R]=N.customTypes[R];U=U&&A.ts>0,A.ts=M}U&&jn(function(){return H(a,void 0,void 0,function(){return F(this,function(I){return[2,w.forEach(function(D){D.onTotalUnreadMessageCountChanged&&D.onTotalUnreadMessageCountChanged({groupChannelCount:A.all,feedChannelCount:A.feed,customTypeUnreadCount:A.customTypes}),D.onTotalUnreadMessageCountUpdated&&D.onTotalUnreadMessageCountUpdated(A.all,A.customTypes)})]})})})}else N instanceof M9?(h.preference.set(a._getUserProfileCacheKey(d.userId),P4.payloadify(N.userProfile)),!((P=N.userProfile.appInfo.notificationInfo)===null||P===void 0)&&P.isEnabled&&h.preference.set(WT(a.appId),{value:!0})):N instanceof hm&&N.error&&(N.error.isSessionRevokedError||N.error.isUserAuthDeactivedError||N.error.isUserAuthDeletedOrNotFoundError)&&(E.debug("session revoked."),a.disconnect())})}return n.init=function(t){var e=t.appId,r=t.appVersion,a=t.modules,l=a===void 0?[]:a,d=t.options,h=d===void 0?new a9:d,f=t.debugMode,_=f!==void 0&&f,g=t.customApiHost,E=t.customWebSocketHost,w=t.newInstance,x=w!==void 0&&w,T=t.logLevel,N=t.localCacheEnabled,P=N!==void 0&&N,k=t.localCacheConfig,C=k===void 0?new o9:k,A=t.localCacheEncryption,U=t.useAsyncStorageStore,M=U===void 0?null:U,R=t.appStateToggleEnabled,I=R===void 0||R;if(!Rf||x){var D="su-".concat(zd()),q=A??{encrypt:function(B){return B},decrypt:function(B){return B}},z=new M0({encryption:q});_||(z=M4()?M?new xue({AsyncStorage:M,encryption:q}):new M0({encryption:q}):new wue({encryption:q})),new Se(D,{appId:e,appVersion:r,options:h,apiHost:g??"https://api-".concat(e,".sendbird.com"),websocketHost:E??"wss://ws-".concat(e,".sendbird.com"),store:z,encryption:q,logLevel:T,localCacheEnabled:P,localCacheConfig:C,debugMode:_,appStateToggleEnabled:I});var ne=[new Uue,new Fue],fe=new n(D,h,nt(nt([],Wn(l),!1),Wn(ne),!1));return Rf||(Rf=fe),fe}return Rf},Object.defineProperty(n,"instance",{get:function(){return Rf},enumerable:!1,configurable:!0}),Object.defineProperty(n,"version",{get:function(){return r9},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appId",{get:function(){return Se.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appInfo",{get:function(){var t=Se.of(this._iid).appInfo;return t??null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appVersion",{get:function(){var t;return(t=Se.of(this._iid).sdkState.appVersion)!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"debugMode",{get:function(){return!!Se.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"logLevel",{get:function(){return Se.of(this._iid).logger.level},set:function(t){Se.of(this._iid).logger.level=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isCacheEnabled",{get:function(){return Se.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheConfig",{get:function(){var t=Se.of(this._iid).cacheContext;return t.localCacheEnabled?t.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ekey",{get:function(){return Se.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentUser",{get:function(){var t;return(t=Se.of(this._iid).sessionManager.currentUser)!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"connectionState",{get:function(){var t=Se.of(this._iid).connectionManager;return t.isConnected?Al.OPEN:t.isConnecting?Al.CONNECTING:Al.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastConnectedAt",{get:function(){var t=Se.of(this._iid),e=t.connectedAt;return t.connectionManager.isConnected?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fcmPushToken",{get:function(){var t;return(t=this._fcmPushToken)!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"apnsPushToken",{get:function(){var t;return(t=this._apnsPushToken)!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),n.prototype._getNestDBVersion=function(){return 3},n.prototype._getCurrentPreferenceVersion=function(){return 1},n.prototype._getPreferenceCacheKey=function(t){return"sendbird@".concat(this.appId,"/").concat(t,".pref")},n.prototype._getUserProfileCacheKey=function(t){return"sendbird@".concat(this.appId,"/").concat(t,".profile")},n.prototype.getMemoryStoreForDebugging=function(){var t=Se.of(this._iid),e=t.debugMode,r=t.cacheContext;if(e)return r.store instanceof M0?r.store:null;throw Oe.debugModeRequired},n.prototype.addExtension=function(t,e){var r=Se.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(t)>-1&&r.extensions&&(r.extensions[t]=e)},n.prototype.addSendbirdExtensions=function(t,e,r){var a,l,d=Se.of(this._iid),h=d.logger,f=d.sdkState,_=new RegExp(Yoe);if(t.length===0)return h.debug("sb.addSendbirdExtensions() has failed because the given sendbirdExtensions is empty."),!1;if(t.find(function(N){return!_.test(N.version)}))return h.debug("sb.addSendbirdExtensions() has failed because the given version did not satisfy the SemVer specification."),!1;if(r)try{for(var g=Cn(Object.entries(r)),E=g.next();!E.done;E=g.next()){var w=Wn(E.value,2),x=w[0],T=w[1];if(/&|=/.test(x)||/&|=/.test(T))return h.debug("sb.addSendbirdExtensions() has failed because the given customData includes at least one invalid character: = or &."),!1}}catch(N){a={error:N}}finally{try{E&&!E.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}return f.sendbirdRuntimeEnvironment={sendbirdExtensions:t,deviceOS:e,customData:r},!0},n.prototype.setOnlineListener=function(t){this._onlineDetector.setOnlineListener(t)},n.prototype.setOfflineListener=function(t){this._onlineDetector.setOfflineListener(t)},n.prototype._safeInitializeStore=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:e=Se.of(this._iid).cacheContext,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,e.store.init(t)];case 2:return r.sent(),this._storeInitialized=!0,[3,5];case 3:return r.sent(),e.replaceStore(new M0),[4,this._safeInitializeStore(t)];case 4:return r.sent(),[3,5];case 5:return[2]}})})},n.prototype.initializeCache=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g;return F(this,function(E){switch(E.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.cacheContext,l=e.connectionManager,d=e.dispatcher,h=e.logger,r.userId&&r.userId===t?[3,10]:[4,l.logout()];case 1:if(E.sent(),f="sendbird@".concat(r.appId,"/").concat(t,".db"),!a.localCacheEnabled)return[3,8];E.label=2;case 2:return E.trys.push([2,5,,7]),a.nestdb&&a.nestdb.state!==Cl.CLOSED&&a.nestdb.name===f?[3,4]:((_=a.nestdb=new Sue({name:"sendbird@".concat(r.appId,"/").concat(t,".db"),version:this._getNestDBVersion(),store:a.store})).on("upgrade",A8(_,a.store)),_.on("storeReplaced",function(w){a.replaceStore(w),a.localCacheEnabled=!1,_.on("upgrade",A8(_,a.store))}),[4,_.open()]);case 3:E.sent(),this._storeInitialized=!0,d.dispatch(new fF(this._iid,{userId:t})),E.label=4;case 4:return r.userId=t,[3,7];case 5:return g=E.sent(),h.warn("Nest DB Open Failed. ",g),[4,this._safeInitializeStore(f)];case 6:throw E.sent(),r.userId=t,Oe.databaseError;case 7:return[3,10];case 8:return[4,this._safeInitializeStore(f)];case 9:E.sent(),r.userId=t,E.label=10;case 10:return[2]}})})},n.prototype.getCacheDataSize=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return(t=Se.of(this._iid).cacheContext).localCacheEnabled&&t.nestdb?[4,t.nestdb.estimateUsage()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,0]}})})},n.prototype.clearCachedData=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return(t=Se.of(this._iid).cacheContext).localCacheEnabled&&t.nestdb?[4,t.nestdb.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._storeInitialized?[4,t.preference.clear()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}})})},n.prototype.clearCachedMessages=function(t){return H(this,void 0,void 0,function(){var e,r,a=this;return F(this,function(l){switch(l.label){case 0:return _n(St("string",t)).throw(Oe.invalidParameters),e=ip.of(this._iid),r=wh.of(this._iid),e&&r?[4,Promise.all(t.map(function(d){return H(a,void 0,void 0,function(){return F(this,function(h){switch(h.label){case 0:return[4,e.removeMessagesOfChannel(d)];case 1:return h.sent(),[4,r.removeMessagesOfChannel(d)];case 2:return h.sent(),[2]}})})}))]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},n.prototype.connect=function(t,e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:_n(ye("string",t)&&ye("string",e,!0)).throw(Oe.invalidParameters),r=Se.of(this._iid),a=r.sdkState,l=r.cacheContext,d=r.connectionManager,h=r.statLogCollector,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.initializeCache(t)];case 2:return g.sent(),Se.of(this._iid).dispatcher.dispatch(new _F),[3,4];case 3:return g.sent(),f=Se.of(this._iid).logger,l.localCacheEnabled=!1,f.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,l.preference.init(this._getPreferenceCacheKey(t),this._getCurrentPreferenceVersion())];case 5:return g.sent(),[4,l.preference.get(this._getUserProfileCacheKey(t))];case 6:return(_=g.sent())&&new P4(this._iid,_).apply(),[4,h.init("sendbird@".concat(a.appId,"/").concat(t,".statlog"))];case 7:g.sent(),g.label=8;case 8:return g.trys.push([8,,10,11]),[4,d.connect(e)];case 9:return g.sent(),[3,11];case 10:return this._onlineDetector.start(),this._appStateChangeDetector.start(),[7];case 11:return[2,this.currentUser]}})})},n.prototype.reconnect=function(){var t=Se.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.sessionManager.auth.hasSession;return a&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),e.resetAndReconnect().then(function(){r.appState="foreground"}).catch(function(){})),a},n.prototype.disconnect=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return t=Se.of(this._iid),e=t.connectionManager,r=t.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),r.cancelAll(),[4,e.logout()];case 1:return a.sent(),[4,this.clearCachedData()];case 2:return a.sent(),[2]}})})},n.prototype.disconnectWebSocket=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return t=Se.of(this._iid),e=t.connectionManager,r=t.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),r.cancelAll(),[4,e.disconnectWebSocket()];case 1:return a.sent(),[2]}})})},n.prototype.setBackgroundState=function(){var t=Se.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.logger;r.appState==="foreground"&&(r.appState="background",a.debug("going background state"),e.background())},n.prototype.setForegroundState=function(){var t=Se.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.logger;r.appState==="background"&&(r.appState="foreground",a.debug("going foreground state"),e.resetAndReconnect())},n.prototype.setSessionHandler=function(t){_n(t instanceof iue).throw(Oe.invalidParameters),Se.of(this._iid).sessionManager.handler=t},n.prototype.addUserEventHandler=function(t,e){_n(ye("string",t)&&e instanceof aue).throw(Oe.invalidParameters),Se.of(this._iid).userEventHandlers.set(t,e)},n.prototype.removeUserEventHandler=function(t){Se.of(this._iid).userEventHandlers.delete(t)},n.prototype.removeAllUserEventHandler=function(){Se.of(this._iid).userEventHandlers.clear()},n.prototype.addConnectionHandler=function(t,e){_n(ye("string",t)&&e instanceof dF).throw(Oe.invalidParameters),Se.of(this._iid).connectionHandlers.set(t,e)},n.prototype.removeConnectionHandler=function(t){Se.of(this._iid).connectionHandlers.delete(t)},n.prototype.removeAllConnectionHandler=function(){Se.of(this._iid).connectionHandlers.clear()},n.prototype.createApplicationUserListQuery=function(t){return t===void 0&&(t={}),new lue(this._iid,t)},n.prototype.createBlockedUserListQuery=function(t){return t===void 0&&(t={}),new uue(this._iid,t)},n.prototype.createFriendListQuery=function(t){return t===void 0&&(t={}),new fue(this._iid,t)},n.prototype.createMessageSearchQuery=function(t){return new Due(this._iid,t)},n.prototype.createPollListQuery=function(t){return new G9(this._iid,ge({},t))},n.prototype.createPollVoterListQuery=function(t){return new q9(this._iid,ge({},t))},n.prototype.buildUserFromSerializedData=function(t){var e=Od(t);return new kt(this._iid,kt.payloadify(e))},n.prototype.updateCurrentUserInfo=function(t){return t===void 0&&(t={}),H(this,void 0,void 0,function(){var e,r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return e=ge(ge({},Vue),t),_n(function(g){return Li(g.profileImage,!0)&&ye("string",g.profileUrl,!0)&&ye("string",g.nickname,!0)}(e)).throw(Oe.invalidParameters),this.currentUser?(r=Se.of(this._iid),a=r.sdkState,l=r.requestQueue,d=new O8(ge({userId:a.userId},e)),[4,l.send(d)]):[3,2];case 1:return h=_.sent(),f=h.as(R8).user,this.currentUser&&(e.nickname&&(this.currentUser.nickname=f.nickname),(e.profileUrl||e.profileImage)&&(this.currentUser.plainProfileUrl=f.profileUrl)),[2,f];case 2:throw Oe.connectionRequired}})})},n.prototype.updateCurrentUserInfoWithPreferredLanguages=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return _n(St("string",t)).throw(Oe.invalidParameters),this.currentUser?(e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new O8({userId:r.userId,preferredLanguages:t}),[4,a.send(l)]):[3,2];case 1:return d=f.sent(),h=d.as(R8).user,this.currentUser&&(this.currentUser.preferredLanguages=h.preferredLanguages),[2,h];case 2:throw Oe.connectionRequired}})})},n.prototype.registerFCMPushTokenForCurrentUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h=this;return F(this,function(f){switch(f.label){case 0:if(_n(ye("string",t)).throw(Oe.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=Se.of(this._iid),r=e.sessionManager,a=e.sdkState,l=e.requestQueue,r.hasDeviceToken(Oi.FCM,t)?[2,Ha.SUCCESS]:(d=new $ue({userId:a.userId,token:t}),[4,l.send(d)]);case 2:return f.sent(),[4,Ei(function(){return H(h,void 0,void 0,function(){return F(this,function(_){switch(_.label){case 0:return r.setDeviceToken(Oi.FCM,t),[4,r.saveDeviceToken()];case 1:return _.sent(),[2]}})})})];case 3:return f.sent(),this._fcmPushToken="",[2,Ha.SUCCESS];case 4:return f.sent(),[2,Ha.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=t,[2,Ha.PENDING];case 7:return[2]}})})},n.prototype.unregisterFCMPushTokenForCurrentUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f=this;return F(this,function(_){switch(_.label){case 0:if(_n(ye("string",t)).throw(Oe.invalidParameters),!this.currentUser)return[3,6];_.label=1;case 1:return _.trys.push([1,4,,5]),e=Se.of(this._iid),r=e.sessionManager,a=e.sdkState,l=e.requestQueue,d=new Kue({userId:a.userId,token:t}),[4,l.send(d)];case 2:return h=_.sent().lastDeletedAt,[4,Ei(function(){return H(f,void 0,void 0,function(){return F(this,function(g){switch(g.label){case 0:return r.unsetDeviceToken(Oi.FCM,t),r.setDeviceTokenDeletedAt(h),[4,r.saveDeviceToken()];case 1:return g.sent(),[2]}})})})];case 3:return _.sent(),this._fcmPushToken="",[2,Ha.SUCCESS];case 4:return _.sent(),[2,Ha.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=t,[2,Ha.PENDING];case 7:return[2]}})})},n.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d,h=this;return F(this,function(f){switch(f.label){case 0:return this.currentUser?(t=Se.of(this._iid),e=t.sessionManager,r=t.sdkState,a=t.requestQueue,l=new Yue({userId:r.userId}),[4,a.send(l)]):[3,3];case 1:return d=f.sent().lastDeletedAt,[4,Ei(function(){return H(h,void 0,void 0,function(){return F(this,function(_){switch(_.label){case 0:return e.unsetDeviceTokens(Oi.FCM),e.setDeviceTokenDeletedAt(d),[4,e.saveDeviceToken()];case 1:return _.sent(),[2]}})})})];case 2:f.sent(),f.label=3;case 3:return[2]}})})},n.prototype.registerAPNSPushTokenForCurrentUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h=this;return F(this,function(f){switch(f.label){case 0:if(_n(ye("string",t)).throw(Oe.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=Se.of(this._iid),r=e.sessionManager,a=e.sdkState,l=e.requestQueue,r.hasDeviceToken(Oi.APNS,t)?[2,Ha.SUCCESS]:(d=new jue({userId:a.userId,token:t}),[4,l.send(d)]);case 2:return f.sent(),[4,Ei(function(){return H(h,void 0,void 0,function(){return F(this,function(_){switch(_.label){case 0:return r.setDeviceToken(Oi.APNS,t),[4,r.saveDeviceToken()];case 1:return _.sent(),[2]}})})})];case 3:return f.sent(),this._apnsPushToken="",[2,Ha.SUCCESS];case 4:return f.sent(),[2,Ha.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=t,[2,Ha.PENDING];case 7:return[2]}})})},n.prototype.unregisterAPNSPushTokenForCurrentUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f=this;return F(this,function(_){switch(_.label){case 0:if(_n(ye("string",t)).throw(Oe.invalidParameters),!this.currentUser)return[3,6];_.label=1;case 1:return _.trys.push([1,4,,5]),e=Se.of(this._iid),r=e.sessionManager,a=e.sdkState,l=e.requestQueue,d=new Wue({userId:a.userId,token:t}),[4,l.send(d)];case 2:return h=_.sent().lastDeletedAt,[4,Ei(function(){return H(f,void 0,void 0,function(){return F(this,function(g){switch(g.label){case 0:return r.unsetDeviceToken(Oi.APNS,t),r.setDeviceTokenDeletedAt(h),[4,r.saveDeviceToken()];case 1:return g.sent(),[2]}})})})];case 3:return _.sent(),this._apnsPushToken="",[2,Ha.SUCCESS];case 4:return _.sent(),[2,Ha.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=t,[2,Ha.PENDING];case 7:return[2]}})})},n.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l,d,h=this;return F(this,function(f){switch(f.label){case 0:return this.currentUser?(t=Se.of(this._iid),e=t.sessionManager,r=t.sdkState,a=t.requestQueue,l=new Que({userId:r.userId}),[4,a.send(l)]):[3,3];case 1:return d=f.sent().lastDeletedAt,[4,Ei(function(){return H(h,void 0,void 0,function(){return F(this,function(_){switch(_.label){case 0:return e.unsetDeviceTokens(Oi.APNS),e.setDeviceTokenDeletedAt(d),[4,e.saveDeviceToken()];case 1:return _.sent(),[2]}})})})];case 2:f.sent(),f.label=3;case 3:return[2]}})})},n.prototype.getChannelInvitationPreference=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(d){switch(d.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Jue({userId:e.userId}),[4,r.send(a)];case 1:return l=d.sent(),[2,{autoAccept:l.as(ehe).autoAccept}]}})})},n.prototype.setChannelInvitationPreference=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d;return F(this,function(h){switch(h.label){case 0:return _n(ye("boolean",t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new nhe({userId:r.userId,willAutoAccept:t}),[4,a.send(l)];case 1:return d=h.sent(),[2,{autoAccept:d.as(the).autoAccept}]}})})},n.prototype.getDoNotDisturb=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(d){switch(d.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new rhe({userId:e.userId}),[4,r.send(a)];case 1:return l=d.sent(),[2,l.as(ihe).preference]}})})},n.prototype.setDoNotDisturb=function(t,e,r,a,l,d){return e===void 0&&(e=0),r===void 0&&(r=0),a===void 0&&(a=0),l===void 0&&(l=0),d===void 0&&(d=""),H(this,void 0,void 0,function(){var h,f,_,g,E;return F(this,function(w){switch(w.label){case 0:return _n(ye("boolean",t)&&ye("number",e)&&ye("number",r)&&ye("number",a)&&ye("number",l)&&ye("string",d)).throw(Oe.invalidParameters),h=Se.of(this._iid),f=h.sdkState,_=h.requestQueue,g=new ahe({userId:f.userId,doNotDisturbOn:t,startHour:e,startMin:r,endHour:a,endMin:l,timezone:d}),[4,_.send(g)];case 1:return E=w.sent(),[2,E.as(she).preference]}})})},n.prototype.getSnoozePeriod=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(d){switch(d.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new ohe({userId:e.userId}),[4,r.send(a)];case 1:return l=d.sent(),[2,l.as(lhe).snoozePeriod]}})})},n.prototype.setSnoozePeriod=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=0),H(this,void 0,void 0,function(){var a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return _n(ye("boolean",t)&&ye("number",e)&&ye("number",r)).throw(Oe.invalidParameters),a=Se.of(this._iid),l=a.sdkState,d=a.requestQueue,h=new che({userId:l.userId,snoozeOn:t,startTs:e,endTs:r}),[4,d.send(h)];case 1:return f=_.sent(),[2,f.as(dhe).snoozePeriod]}})})},n.prototype.getMyPushTokensByToken=function(t,e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g,E,w,x,T;return F(this,function(N){switch(N.label){case 0:return _n(ye("string",t)&&Et(Oi,e)).throw(Oe.invalidParameters),r=Se.of(this._iid),a=r.sdkState,l=r.requestQueue,d=r.sessionManager,h=new Xue({userId:a.userId,type:e,token:t}),[4,l.send(h)];case 1:f=N.sent(),_=f.as(Zue).pushTokens;try{for(g=Cn(_.deviceTokens),E=g.next();!E.done;E=g.next())w=E.value,d.setDeviceToken(_.type,w)}catch(P){x={error:P}}finally{try{E&&!E.done&&(T=g.return)&&T.call(g)}finally{if(x)throw x.error}}return[4,d.saveDeviceToken()];case 2:return N.sent(),[2,_]}})})},n.prototype.getPushTriggerOption=function(){return H(this,void 0,void 0,function(){var t,e,r,a;return F(this,function(l){switch(l.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new phe({userId:e.userId}),[4,r.send(a)];case 1:return[2,l.sent().as(fhe).pushTriggerOption]}})})},n.prototype.setPushTriggerOption=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return _n(Et(Gu,t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new _he({userId:r.userId,pushTriggerOption:t}),[4,a.send(l)];case 1:return[2,d.sent().as(mhe).pushTriggerOption]}})})},n.prototype.getPushTemplate=function(){return H(this,void 0,void 0,function(){var t,e,r,a;return F(this,function(l){switch(l.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new vhe({userId:e.userId}),[4,r.send(a)];case 1:return[2,l.sent().as(ghe).name]}})})},n.prototype.setPushTemplate=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return _n(Et(O4,t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new bhe({userId:r.userId,templateName:t}),[4,a.send(l)];case 1:return[2,d.sent().as(yhe).name]}})})},n.prototype.blockUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return _n(t instanceof kt||ye("string",t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new uhe({userId:r.userId,blockedUserId:t instanceof kt?t.userId:t}),[4,a.send(l)];case 1:return d.sent(),[2]}})})},n.prototype.blockUserWithUserId=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this.blockUser(t)]})})},n.prototype.unblockUser=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return _n(t instanceof kt||ye("string",t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new hhe({userId:r.userId,unblockedUserId:t instanceof kt?t.userId:t}),[4,a.send(l)];case 1:return d.sent(),[2]}})})},n.prototype.unblockUserWithUserId=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this.unblockUser(t)]})})},n.prototype.getFriendChangeLogsByToken=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d;return F(this,function(h){switch(h.label){case 0:return _n(ye("string",t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Ehe({userId:r.userId,token:t}),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(whe).changelogs]}})})},n.prototype.getAllowFriendDiscovery=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l;return F(this,function(d){switch(d.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Nhe({userId:e.userId}),[4,r.send(a)];case 1:return l=d.sent(),[2,l.as(Ahe).allowFriendDiscovery]}})})},n.prototype.setAllowFriendDiscovery=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return _n(ye("boolean",t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Ohe({userId:r.userId,allowFriendDiscovery:t}),[4,a.send(l)];case 1:return d.sent(),[2,t]}})})},n.prototype.uploadFriendDiscoveries=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d;return F(this,function(h){switch(h.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new xhe({userId:r.userId,discoveries:t}),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(She).friendDiscoveryRequestId]}})})},n.prototype.deleteFriendDiscovery=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this.deleteFriendDiscoveries([t])]})})},n.prototype.deleteFriendDiscoveries=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return _n(St("string",t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new The({userId:r.userId,discoveryKeys:t}),[4,a.send(l)];case 1:return d.sent(),[2]}})})},n.prototype.addFriends=function(t){return H(this,void 0,void 0,function(){var e,r,a,l,d;return F(this,function(h){switch(h.label){case 0:return _n(St("string",t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Che({userId:r.userId,userIds:t}),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(khe).users]}})})},n.prototype.deleteFriend=function(t){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this.deleteFriends([t])]})})},n.prototype.deleteFriends=function(t){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return _n(St("string",t)).throw(Oe.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Ihe({userId:r.userId,userIds:t}),[4,a.send(l)];case 1:return d.sent(),[2]}})})},n.prototype.getAllEmoji=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return t=Se.of(this._iid).requestQueue,e=new Rhe,[4,t.send(e)];case 1:return r=a.sent(),[2,r.as(Mhe).emojiContainer]}})})},n.prototype.getEmojiCategory=function(t){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return e=Se.of(this._iid).requestQueue,r=new Dhe({categoryId:t}),[4,e.send(r)];case 1:return a=l.sent(),[2,a.as(Lhe).emojiCategory]}})})},n.prototype.getEmoji=function(t){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return e=Se.of(this._iid).requestQueue,r=new Uhe({key:t}),[4,e.send(r)];case 1:return a=l.sent(),[2,a.as(Phe).emoji]}})})},n.prototype.getUIKitConfiguration=function(){return H(this,void 0,void 0,function(){var t,e,r,a;return F(this,function(l){switch(l.label){case 0:return t=Se.of(this._iid),_n(t.hasExtension("sb_uikit")).throw(Oe.notSupportedError),e=t.requestQueue,r=new Fhe,[4,e.send(r)];case 1:return a=l.sent(),[2,a.as(Hhe).uikitConfiguration]}})})},n}();const fm=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const t=Math.random()*16|0;return(n==="x"?t:t&3|8).toString(16)});var nr;(function(n){n[n.NONE=0]="NONE",n[n.CHANNEL_ENTER=10102]="CHANNEL_ENTER",n[n.CHANNEL_EXIT=10103]="CHANNEL_EXIT",n[n.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",n[n.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",n[n.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",n[n.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",n[n.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",n[n.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",n[n.TYPING_START=10900]="TYPING_START",n[n.TYPING_END=10901]="TYPING_END",n[n.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",n[n.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",n[n.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",n[n.CHANNEL_INVITE=10020]="CHANNEL_INVITE",n[n.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",n[n.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",n[n.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",n[n.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",n[n.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",n[n.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",n[n.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",n[n.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",n[n.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(nr||(nr={}));var Vhe=function(){function n(t){var e;this.channelUrl=t.channel_url,this.channelType=t.channel_type,this.category=t.cat,this.data=(e=t.data)!==null&&e!==void 0?e:{},this.ts=t.ts}return Object.defineProperty(n.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Dt.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Dt.OPEN},enumerable:!1,configurable:!0}),n}(),Ac=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.event=new Vhe(a),l}return re(t,n),t}(br),bF=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this,d=a.data.operators,h=d===void 0?[]:d;return l.operators=h.map(function(f){return new kt(l._iid,f)}),l}return re(t,n),t}(Ac),$o=function(){function n(t){var e=t.top,r=e===void 0?Number.MAX_SAFE_INTEGER:e,a=t.bottom,l=a===void 0?0:a;this.top=r,this.bottom=l}return n.prototype.includes=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.every(function(a){return t.top<=a&&a<=t.bottom})},n.prototype.overlap=function(t){return this.includes(t.top)||this.includes(t.bottom)},n.prototype.intersect=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.some(function(a){return t.top<=a&&a<=t.bottom})},n.prototype.extends=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.top=Math.min.apply(Math,nt([this.top],Wn(t),!1)),this.bottom=Math.max.apply(Math,nt([this.bottom],Wn(t),!1))},n}(),yF=function(n){function t(e,r){var a=n.call(this,e)||this;return a._logger=r.logger,a._sdkState=r.sdkState,a._sessionManager=r.sessionManager,a._requestQueue=r.requestQueue,a._dispatcher=r.dispatcher,a._cacheContext=r.cacheContext,a._channelType=r.channelType,a}return re(t,n),Object.defineProperty(t.prototype,"_messageCache",{get:function(){return ip.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_unsentMessageCache",{get:function(){return wh.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_messageBroadcast",{get:function(){return hF.of(this._iid)},enumerable:!1,configurable:!0}),t.prototype.subscribeMessageEvent=function(e,r){this._messageBroadcast.subscribe(e,r)},t.prototype.unsubscribeMessageEvent=function(e){this._messageBroadcast.unsubscribe(e)},t.prototype.getMessageFromCache=function(e){var r;return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._messageCache.get(e)];case 1:return[2,(r=a.sent())!==null&&r!==void 0?r:null]}})})},t.prototype.getExactlyMatchingMessagesForTokenFromCache=function(e,r,a){return H(this,void 0,void 0,function(){return F(this,function(l){switch(l.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:r,filter:a,exactMatch:!0})];case 1:return[2,l.sent()]}})})},t.prototype.getMessagesFromCache=function(e,r,a,l,d,h){return d===void 0&&(d=oF),h===void 0&&(h=!0),H(this,void 0,void 0,function(){return F(this,function(f){switch(f.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:r,limit:d,filter:l,backward:a==="next",inclusive:h})];case 1:return[2,f.sent()]}})})},t.prototype.getPollMessagesFromCache=function(e,r,a,l){return H(this,void 0,void 0,function(){return F(this,function(d){switch(d.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:r,limit:l,filter:a,backward:!1,isPollOnly:!0})];case 1:return[2,d.sent()]}})})},t.prototype.getCachedMessageCountBetween=function(e,r,a,l){return H(this,void 0,void 0,function(){return F(this,function(d){switch(d.label){case 0:return[4,this._messageCache.countBetween(e,r,new $o({top:a,bottom:l}))];case 1:return[2,d.sent()]}})})},t.prototype.getUnsentMessagesFromCache=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:e,filter:r})];case 1:return[2,a.sent()]}})})},t.prototype.removeFailedMessageFromCache=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.remove([e])];case 1:return r.sent(),[2]}})})},t}(qa),EF=function(n){function t(e,r,a){var l,d,h,f,_=this;(_=n.call(this,e,"ADMM",a)||this).message=new tp(e,a);var g=Se.of(e).sdkState;return _.isMentioned=Z0(_.message.mentionType,(h=(l=_.message.mentionedUserIds)!==null&&l!==void 0?l:(d=_.message.mentionedUsers)===null||d===void 0?void 0:d.map(function(E){return E.userId}))!==null&&h!==void 0?h:[],g.userId),_.forceUpdateLastMessage=(f=a.force_update_last_message)!==null&&f!==void 0&&f,_}return re(t,n),t}(br),wF=function(n){function t(e,r,a){var l,d,h,f,_,g=this;(g=n.call(this,e,"AEDI",a)||this).message=new tp(e,a);var E=Se.of(e).sdkState;return g.mentionCountChange=zT({mentionType:(l=a.old_values)===null||l===void 0?void 0:l.mention_type,mentionedUserIds:(h=(d=a.old_values)===null||d===void 0?void 0:d.mentioned_user_ids)!==null&&h!==void 0?h:[]},Jn({mentionType:g.message.mentionType,mentionedUserIds:(f=g.message.mentionedUserIds)!==null&&f!==void 0?f:(_=g.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(w){return w.userId})}),E.userId),g}return re(t,n),t}(br),xF=function(n){function t(e,r,a){var l=n.call(this,e,"MRCT",a)||this;return l.channelUrl=a.channel_url,l.channelType=a.channel_type,l.event=new YT(a),l}return re(t,n),t}(br),SF=function(n){function t(e,r,a){var l=n.call(this,e,"MTHD",a)||this;return l.event=new Aue(e,a),l}return re(t,n),t}(br),TF=function(n){function t(e,r,a){var l=n.call(this,e,"MCNT",a)||this;return l.groupChannelMemberCounts=a.group_channels.map(function(d){return{channelUrl:d.channel_url,memberCount:d.member_count,joinedMemberCount:d.joined_member_count,updatedAt:d.ts}}),l.openChannelMemberCounts=a.open_channels.map(function(d){return{channelUrl:d.channel_url,participantCount:d.participant_count,updatedAt:d.ts}}),l}return re(t,n),t}(br),CF=function(n){function t(e,r,a){var l=n.call(this,e,"PEDI",a)||this;return l.event=new Pue(e,a),l.status=F4(a.poll.status)||a.poll.status,l.channelUrl=a.channel_url,l.channelType=a.channel_type,l}return re(t,n),t}(br),kF=function(){this.onUserMuted=bt,this.onUserUnmuted=bt,this.onUserBanned=bt,this.onUserUnbanned=bt,this.onChannelChanged=bt,this.onChannelDeleted=bt,this.onChannelFrozen=bt,this.onChannelUnfrozen=bt,this.onOperatorUpdated=bt,this.onChannelMemberCountChanged=bt,this.onMetaDataCreated=bt,this.onMetaDataUpdated=bt,this.onMetaDataDeleted=bt,this.onMetaCounterCreated=bt,this.onMetaCounterUpdated=bt,this.onMetaCounterDeleted=bt,this.onMessageReceived=bt,this.onMessageUpdated=bt,this.onMessageDeleted=bt,this.onMentionReceived=bt,this.onReactionUpdated=bt,this.onThreadInfoUpdated=bt},zhe=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._channels=new Map,e._enteredChannelUrls=[],e}return re(t,n),Object.defineProperty(t.prototype,"enteredChannels",{get:function(){var e=this;return this._enteredChannelUrls.map(function(r){return e._channels.get(r)}).filter(function(r){return!!r})},enumerable:!1,configurable:!0}),t.prototype.isEnteredChannel=function(e){return this._enteredChannelUrls.includes(e)},t.prototype.enter=function(e){this._enteredChannelUrls.indexOf(e)<0&&this._enteredChannelUrls.push(e)},t.prototype.exit=function(e){var r=this._enteredChannelUrls.indexOf(e);r>=0&&this._enteredChannelUrls.splice(r,1)},t.prototype.exitAll=function(){this._enteredChannelUrls=[]},t.prototype.get=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2,this._channels.get(e)]})})},t.prototype.upsert=function(e){return H(this,void 0,void 0,function(){var r,a=this;return F(this,function(l){return r=[],e.forEach(function(d){if(a._channels.has(d.url)){var h=a._channels.get(d.url);Object.assign(h,d),r.push(h)}else a._channels.set(d.url,d),r.push(d)}),[2,r]})})},t.prototype.remove=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return this._channels.delete(e),this.exit(e),[2]})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},t}(qa),IF={channelUrl:void 0,name:void 0,coverUrlOrImage:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,isEphemeral:void 0},Ghe=function(n){function t(e){var r=e.channelUrl,a=e.isInternalCall,l=n.call(this)||this;return l.method=pn.GET,l.path="".concat(a?qoe:gh,"/").concat(encodeURIComponent(r)),l}return re(t,n),t}(fn),M8=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new ap(e,r),a}return re(t,n),t}(vn),qhe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.coverUrlOrImage,d=e.name,h=e.data,f=e.customType,_=e.operatorUserIds,g=e.isEphemeral;return(r=n.call(this)||this).method=pn.POST,r.path=gh,r.params=Kn(Jn({channel_url:a,cover_url:ye("string",l)?l:null,cover_file:Li(l)?l:null,name:d,data:h,custom_type:f,operators:_,is_ephemeral:g})),r}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new ap(e,r),a}re(t,n)})(vn);var jhe=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return re(t,n),t}(za),NF=function(n){function t(e,r,a){var l,d,h=this;return h=n.call(this,e,"SYEV",a)||this,a.data&&(h.participantCount=(l=a.data.participant_count)!==null&&l!==void 0?l:0,h.user=new kt(e,a.data),h.ts=(d=a.data.edge_ts)!==null&&d!==void 0?d:0),h}return re(t,n),t}(Ac),$he=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return re(t,n),t}(za),AF=function(n){function t(e,r,a){var l,d,h=this;return h=n.call(this,e,"EXIT",a)||this,a.data&&(h.participantCount=(l=a.data.participant_count)!==null&&l!==void 0?l:0,h.user=new kt(e,a.data),h.ts=(d=a.data.edge_ts)!==null&&d!==void 0?d:0),h}return re(t,n),t}(Ac),dx={},Hu=function(n){function t(e,r){var a=n.call(this,e,ge(ge({},r),{channelType:Dt.OPEN}))||this;return a.subscribeChannelEvent=bt,a.unsubscribeChannelEvent=bt,a.refreshChannel=function(){return H(a,void 0,void 0,function(){return F(this,function(l){return[2,bt()]})})},a._openChannelCache=new zhe(e),a._openChannelHandlers=new Map,a._dispatcher.on(function(l){var d,h;if(l instanceof br)a._handleEvent(l);else if(l instanceof Ss&&l.stateType===Kt.CONNECTED){var f=a._openChannelCache.enteredChannels;try{for(var _=Cn(f),g=_.next();!g.done;g=_.next())g.value.enter()}catch(E){d={error:E}}finally{try{g&&!g.done&&(h=_.return)&&h.call(_)}finally{if(d)throw d.error}}}}),dx[e]||(dx[e]=a),a}return re(t,n),t.of=function(e){return dx[e]},t.prototype.buildOpenChannelFromSerializedData=function(e){var r=Od(e);return new ap(this._iid,ap.payloadify(r))},t.prototype.getChannelFromCache=function(e){var r;return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._openChannelCache.get(e)];case 1:return[2,(r=a.sent())!==null&&r!==void 0?r:null]}})})},t.prototype.upsertChannelsToCache=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._openChannelCache.upsert(e)];case 1:return[2,r.sent()]}})})},t.prototype.removeChannelsFromCache=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:_.trys.push([0,5,6,7]),r=Cn(e),a=r.next(),_.label=1;case 1:return a.done?[3,4]:(l=a.value,[4,this._openChannelCache.remove(l)]);case 2:_.sent(),_.label=3;case 3:return a=r.next(),[3,1];case 4:return[3,7];case 5:return d=_.sent(),h={error:d},[3,7];case 6:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 7:return[2]}})})},t.prototype.setEnteredToCache=function(e){this._openChannelCache.enter(e.url)},t.prototype.setExitedToCache=function(e){this._openChannelCache.exit(e.url)},t.prototype._handleEvent=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U,M,R,I,D,q,z,ne,fe,B,Y,ue,Q,_e,le,se,me,Me,de,he,K,ee,j,ae,Re,ze,De,Te,Qe,an,un,Nn,Ye,mn,sn,Ln,Tn,G,ie,bn,Sn,An,Fn,Hn,Bn,pt,Yn,On,Tt,Ut,jt,Nt=this;return F(this,function(Zn){switch(Zn.label){case 0:switch(Zn.trys.push([0,57,,58]),e.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,30];case"SYEV":return[3,33]}return[3,56];case 1:return d=null,e.code==="MESG"?d=e.as(eC):e.code==="FILE"?d=e.as(XT):e.code!=="ADMM"&&e.code!="BRDM"||(d=e.as(EF)),d?(r=d.message,a=d.isMentioned,r.channelType!==Dt.OPEN?[3,3]:[4,this.getChannel(r.channelUrl,!0)]):[3,3];case 2:l=Zn.sent(),jn(function(){return H(Nt,void 0,void 0,function(){var Rn,Je,tt,dt,Rt;return F(this,function(wr){try{for(Rn=Cn(this._openChannelHandlers.values()),Je=Rn.next();!Je.done;Je=Rn.next())tt=Je.value,this._openChannelCache.isEnteredChannel(l.url)&&(tt.onMessageReceived&&tt.onMessageReceived(l,r),a&&tt.onMentionReceived&&tt.onMentionReceived(l,r))}catch(Jt){dt={error:Jt}}finally{try{Je&&!Je.done&&(Rt=Rn.return)&&Rt.call(Rn)}finally{if(dt)throw dt.error}}return[2]})})}),Zn.label=3;case 3:return[3,56];case 4:return d=null,e.code==="MEDI"?d=e.as(h1):e.code==="FEDI"?d=e.as(p1):e.code==="AEDI"&&(d=e.as(wF)),d?(h=d.message,f=d.mentionCountChange,h.channelType!==Dt.OPEN?[3,6]:[4,this.getChannel(h.channelUrl,!0)]):[3,6];case 5:_=Zn.sent(),jn(function(){return H(Nt,void 0,void 0,function(){var Rn,Je,tt,dt,Rt;return F(this,function(wr){try{for(Rn=Cn(this._openChannelHandlers.values()),Je=Rn.next();!Je.done;Je=Rn.next())tt=Je.value,this._openChannelCache.isEnteredChannel(_.url)&&(tt.onMessageUpdated&&tt.onMessageUpdated(_,h),f>0&&tt.onMentionReceived&&tt.onMentionReceived(_,h))}catch(Jt){dt={error:Jt}}finally{try{Je&&!Je.done&&(Rt=Rn.return)&&Rt.call(Rn)}finally{if(dt)throw dt.error}}return[2]})})}),Zn.label=6;case 6:return[3,56];case 7:return g=e.as(rF),_e=g.channelUrl,le=g.channelType,E=g.messageId,le!==Dt.OPEN?[3,9]:[4,this.getChannel(_e,!0)];case 8:w=Zn.sent(),jn(function(){return H(Nt,void 0,void 0,function(){var Rn,Je,tt,dt,Rt;return F(this,function(wr){try{for(Rn=Cn(this._openChannelHandlers.values()),Je=Rn.next();!Je.done;Je=Rn.next())tt=Je.value,this._openChannelCache.isEnteredChannel(w.url)&&tt.onMessageDeleted&&tt.onMessageDeleted(w,E)}catch(Jt){dt={error:Jt}}finally{try{Je&&!Je.done&&(Rt=Rn.return)&&Rt.call(Rn)}finally{if(dt)throw dt.error}}return[2]})})}),Zn.label=9;case 9:return[3,56];case 10:return x=e.as(xF),_e=x.channelUrl,le=x.channelType,T=x.event,le!==Dt.OPEN?[3,12]:[4,this.getChannel(_e,!0)];case 11:N=Zn.sent(),jn(function(){return H(Nt,void 0,void 0,function(){var Rn,Je,tt,dt,Rt;return F(this,function(wr){try{for(Rn=Cn(this._openChannelHandlers.values()),Je=Rn.next();!Je.done;Je=Rn.next())tt=Je.value,this._openChannelCache.isEnteredChannel(N.url)&&tt.onReactionUpdated&&tt.onReactionUpdated(N,T)}catch(Jt){dt={error:Jt}}finally{try{Je&&!Je.done&&(Rt=Rn.return)&&Rt.call(Rn)}finally{if(dt)throw dt.error}}return[2]})})}),Zn.label=12;case 12:return[3,56];case 13:return(P=e.as(SF).event).channelType!==Dt.OPEN?[3,15]:[4,this.getChannel(P.channelUrl,!0)];case 14:k=Zn.sent(),jn(function(){return H(Nt,void 0,void 0,function(){var Rn,Je,tt,dt,Rt;return F(this,function(wr){try{for(Rn=Cn(this._openChannelHandlers.values()),Je=Rn.next();!Je.done;Je=Rn.next())tt=Je.value,this._openChannelCache.isEnteredChannel(k.url)&&tt.onThreadInfoUpdated&&tt.onThreadInfoUpdated(k,P)}catch(Jt){dt={error:Jt}}finally{try{Je&&!Je.done&&(Rt=Rn.return)&&Rt.call(Rn)}finally{if(dt)throw dt.error}}return[2]})})}),Zn.label=15;case 15:return[3,56];case 16:C=e.as(TF).openChannelMemberCounts,A=[],Zn.label=17;case 17:Zn.trys.push([17,22,23,24]),U=Cn(C),M=U.next(),Zn.label=18;case 18:return M.done?[3,21]:(R=M.value,_e=R.channelUrl,ae=R.participantCount,I=R.updatedAt,[4,this.getChannelFromCache(_e)]);case 19:(D=Zn.sent())&&D._updateParticipantCount(ae,I)&&A.push(D),Zn.label=20;case 20:return M=U.next(),[3,18];case 21:return[3,24];case 22:return q=Zn.sent(),Ut={error:q},[3,24];case 23:try{M&&!M.done&&(jt=U.return)&&jt.call(U)}finally{if(Ut)throw Ut.error}return[7];case 24:return A.length>0?[4,this.upsertChannelsToCache(A)]:[3,26];case 25:z=Zn.sent(),jn(function(){return H(Nt,void 0,void 0,function(){var Rn,Je,tt,dt,Rt;return F(this,function(wr){try{for(Rn=Cn(this._openChannelHandlers.values()),Je=Rn.next();!Je.done;Je=Rn.next())(tt=Je.value).onChannelMemberCountChanged&&tt.onChannelMemberCountChanged(z)}catch(Jt){dt={error:Jt}}finally{try{Je&&!Je.done&&(Rt=Rn.return)&&Rt.call(Rn)}finally{if(dt)throw dt.error}}return[2]})})}),Zn.label=26;case 26:return[3,56];case 27:return ne=e.as(CF),fe=ne.event,B=ne.status,_e=ne.channelUrl,le=ne.channelType,_e&&le===Dt.OPEN?[4,this.getChannel(_e,!0)]:[3,29];case 28:Y=Zn.sent(),this._dispatcher.dispatch(new QT({event:fe,source:rn.EVENT_POLL_UPDATED})),jn(B===U9?function(){return H(Nt,void 0,void 0,function(){var Rn,Je,tt,dt,Rt;return F(this,function(wr){try{for(Rn=Cn(this._openChannelHandlers.values()),Je=Rn.next();!Je.done;Je=Rn.next())(tt=Je.value).onPollDeleted&&tt.onPollDeleted(Y,fe.pollId)}catch(Jt){dt={error:Jt}}finally{try{Je&&!Je.done&&(Rt=Rn.return)&&Rt.call(Rn)}finally{if(dt)throw dt.error}}return[2]})})}:function(){return H(Nt,void 0,void 0,function(){var Rn,Je,tt,dt,Rt;return F(this,function(wr){try{for(Rn=Cn(this._openChannelHandlers.values()),Je=Rn.next();!Je.done;Je=Rn.next())(tt=Je.value).onPollUpdated&&tt.onPollUpdated(Y,fe)}catch(Jt){dt={error:Jt}}finally{try{Je&&!Je.done&&(Rt=Rn.return)&&Rt.call(Rn)}finally{if(dt)throw dt.error}}return[2]})})}),Zn.label=29;case 29:return[3,56];case 30:return ue=e.as(nC),Q=ue.event,_e=ue.channelUrl,le=ue.channelType,_e&&le===Dt.OPEN?[4,this.getChannel(_e,!0)]:[3,32];case 31:se=Zn.sent(),this._dispatcher.dispatch(new J1({event:Q,source:rn.EVENT_POLL_VOTED})),jn(function(){return H(Nt,void 0,void 0,function(){var Rn,Je,tt,dt,Rt;return F(this,function(wr){try{for(Rn=Cn(this._openChannelHandlers.values()),Je=Rn.next();!Je.done;Je=Rn.next())(tt=Je.value).onPollVoted&&tt.onPollVoted(se,Q)}catch(Jt){dt={error:Jt}}finally{try{Je&&!Je.done&&(Rt=Rn.return)&&Rt.call(Rn)}finally{if(dt)throw dt.error}}return[2]})})}),Zn.label=32;case 32:return[3,56];case 33:if(!(me=e.as(Ac).event).isOpenChannelEvent)return[3,55];switch(me.category){case nr.CHANNEL_ENTER:return[3,34];case nr.CHANNEL_EXIT:return[3,36];case nr.CHANNEL_OPERATOR_UPDATE:return[3,38];case nr.USER_CHANNEL_MUTE:case nr.USER_CHANNEL_UNMUTE:return[3,40];case nr.USER_CHANNEL_BAN:case nr.USER_CHANNEL_UNBAN:return[3,42];case nr.CHANNEL_FREEZE:case nr.CHANNEL_UNFREEZE:return[3,44];case nr.CHANNEL_DELETED:return[3,46];case nr.CHANNEL_PROP_CHANGED:return[3,49];case nr.CHANNEL_META_DATA_CHANGED:return[3,51];case nr.CHANNEL_META_COUNTERS_CHANGED:return[3,53]}return[3,55];case 34:return[4,this.getChannel(me.channelUrl,!0)];case 35:return Me=Zn.sent(),de=e.as(NF),ae=de.participantCount,he=de.user,K=Me._updateParticipantCount(ae,me.ts),jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){Je.onUserEntered&&Je.onUserEntered(Me,he),K&&Je.onChannelParticipantCountChanged&&Je.onChannelParticipantCountChanged(Me)}),[2]})})}),[3,55];case 36:return[4,this.getChannel(me.channelUrl,!0)];case 37:return ee=Zn.sent(),j=e.as(AF),ae=j.participantCount,Re=j.user,ze=ee._updateParticipantCount(ae,me.ts),jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){Je.onUserExited&&Je.onUserExited(ee,Re),ze&&Je.onChannelParticipantCountChanged&&Je.onChannelParticipantCountChanged(ee)}),[2]})})}),[3,55];case 38:return[4,this.getChannel(me.channelUrl,!0)];case 39:return De=Zn.sent(),Te=e.as(bF).operators,De.operators=Te,this.upsertChannelsToCache([De]),jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){Je.onOperatorUpdated&&Je.onOperatorUpdated(De,Te)}),[2]})})}),[3,55];case 40:return[4,this.getChannel(me.channelUrl,!0)];case 41:return Qe=Zn.sent(),an=me.category===nr.USER_CHANNEL_MUTE,un=e.as(an?Z9:J9).user,jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){an?Je.onUserMuted&&Je.onUserMuted(Qe,un):Je.onUserUnmuted&&Je.onUserUnmuted(Qe,un)}),[2]})})}),[3,55];case 42:return[4,this.getChannel(me.channelUrl,!0)];case 43:return Nn=Zn.sent(),Ye=me.category===nr.USER_CHANNEL_BAN,mn=e.as(Ye?eF:nF).user,jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){Ye?Je.onUserBanned&&Je.onUserBanned(Nn,mn):Je.onUserUnbanned&&Je.onUserUnbanned(Nn,mn)}),[2]})})}),[3,55];case 44:return[4,this.getChannel(me.channelUrl,!0)];case 45:return sn=Zn.sent(),Ln=e.as(tF).freeze,sn.isFrozen=Ln,this.upsertChannelsToCache([sn]),jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){Ln?Je.onChannelFrozen&&Je.onChannelFrozen(sn):Je.onChannelUnfrozen&&Je.onChannelUnfrozen(sn)}),[2]})})}),[3,55];case 46:return[4,this.getChannel(me.channelUrl,!0)];case 47:return Tn=Zn.sent(),[4,this.removeChannelsFromCache([Tn.url])];case 48:return Zn.sent(),jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){Je.onChannelDeleted&&Je.onChannelDeleted(Tn.url,Tn.channelType)}),[2]})})}),[3,55];case 49:return[4,this.getChannelWithoutCache(me.channelUrl,!0)];case 50:return G=Zn.sent(),jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){Je.onChannelChanged&&Je.onChannelChanged(G)}),[2]})})}),[3,55];case 51:return[4,this.getChannel(me.channelUrl,!0)];case 52:return ie=Zn.sent(),bn=e.as(Y9),Sn=bn.created,An=bn.updated,Fn=bn.deleted,Sn&&ie._upsertCachedMetaData(Sn,me.ts),An&&ie._upsertCachedMetaData(An,me.ts),Fn&&ie._removeFromCachedMetaData(Fn,me.ts),jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){Sn&&Je.onMetaDataCreated&&Je.onMetaDataCreated(ie,Sn),An&&Je.onMetaDataUpdated&&Je.onMetaDataUpdated(ie,An),Fn&&Je.onMetaDataDeleted&&Je.onMetaDataDeleted(ie,Fn)}),[2]})})}),[3,55];case 53:return[4,this.getChannel(me.channelUrl,!0)];case 54:return Hn=Zn.sent(),Bn=e.as(X9),pt=Bn.created,Yn=Bn.updated,On=Bn.deleted,jn(function(){return H(Nt,void 0,void 0,function(){return F(this,function(Rn){return this._openChannelHandlers.forEach(function(Je){pt&&Je.onMetaCounterCreated&&Je.onMetaCounterCreated(Hn,pt),Yn&&Je.onMetaCounterUpdated&&Je.onMetaCounterUpdated(Hn,Yn),On&&Je.onMetaCounterDeleted&&Je.onMetaCounterDeleted(Hn,On)}),[2]})})}),[3,55];case 55:return[3,56];case 56:return[3,58];case 57:if(Tt=Zn.sent(),Ko(Tt))throw Tt;return[3,58];case 58:return[2]}})})},t.prototype.addHandler=function(e,r){this._openChannelHandlers.set(e,r)},t.prototype.removeHandler=function(e){this._openChannelHandlers.delete(e)},t.prototype.clearHandler=function(){this._openChannelHandlers.clear()},t.prototype.getChannel=function(e,r){return H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:_n(ye("string",e)).throw(Oe.invalidParameters),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.getChannelFromCache(e)];case 2:return(a=l.sent())?[2,a]:[3,4];case 3:return l.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(e)];case 5:return[2,l.sent()]}})})},t.prototype.getChannelWithoutCache=function(e,r){return r===void 0&&(r=!1),H(this,void 0,void 0,function(){var a,l,d;return F(this,function(h){switch(h.label){case 0:return _n(ye("string",e)).throw(Oe.invalidParameters),a=new Ghe({channelUrl:e,isInternalCall:r}),[4,this._requestQueue.send(a)];case 1:return l=h.sent(),d=l.as(M8).channel,[4,this.upsertChannelsToCache([d])];case 2:return[2,h.sent()[0]]}})})},t.prototype.createChannel=function(e){return H(this,void 0,void 0,function(){var r,a,l,d;return F(this,function(h){switch(h.label){case 0:return r=ge(ge({},IF),e),_n(function(f){return St("string",f.operatorUserIds,!0)&&(ye("string",f.coverUrlOrImage,!0)||Li(f.coverUrlOrImage,!0))&&ye("string",f.name,!0)&&ye("string",f.data,!0)&&ye("string",f.customType,!0)&&(ye("string",f.channelUrl)&&/^\w+$/.test(f.channelUrl)||f.channelUrl===null||f.channelUrl===void 0)&&ye("boolean",f.isEphemeral,!0)}(r)).throw(Oe.invalidParameters),a=new qhe(r),[4,this._requestQueue.send(a)];case 1:return l=h.sent(),d=l.as(M8).channel,this.upsertChannelsToCache([d]),[2,d]}})})},t}(yF),D8={name:void 0,coverUrlOrImage:void 0,data:void 0,customType:void 0,operatorUserIds:void 0},Whe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.token,d=e.limit;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(gh,"/").concat(encodeURIComponent(a),"/participants"),r.params={token:l,limit:d},r}return re(t,n),t}(fn),Khe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.participants=[];var l=r.next,d=r.participants;return a.token=l,a.participants=d.map(function(h){return new $ce(e,h)}),a}return re(t,n),t}(vn),Qhe=function(n){function t(e,r,a){return n.call(this,e,r,Dt.OPEN,a)||this}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Whe(ge(ge({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(Khe),d=l.participants,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Nc),Yhe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.coverUrlOrImage,d=e.name,h=e.data,f=e.customType,_=e.operatorUserIds;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(gh,"/").concat(encodeURIComponent(a)),r.params=Kn(Jn({cover_url:ye("string",l)?l:null,cover_file:Li(l)?l:null,name:d,data:h,custom_type:f,operators:_})),r}return re(t,n),t}(fn),Xhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new ap(e,r),a}return re(t,n),t}(vn),Zhe=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(gh,"/").concat(encodeURIComponent(a)),r}return re(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(vn);var ap=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this)._lastParticipantCountUpdated=0,l.participantCount=0,l.operators=[],l.channelType=Dt.OPEN,l.participantCount=(a=r.participant_count)!==null&&a!==void 0?a:0,l.operators=Array.isArray(r.operators)?r.operators.map(function(d){return new kt(e,d)}):[],l}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},q4.payloadify(e)),{participant_count:e.participantCount,operators:e.operators.map(function(r){return kt.payloadify(r)})})))},t.prototype.serialize=function(){return up(this)},t.prototype.isOperator=function(e){return e instanceof kt?this.isOperator(e.userId):this.operators.some(function(r){return r.userId===e})},t.prototype._updateParticipantCount=function(e,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=e,this._lastParticipantCountUpdated=r,!0)},t.prototype.createParticipantListQuery=function(e){return new Qhe(this._iid,this.url,e)},t.prototype.refresh=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,Hu.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,e.sent()]}})})},t.prototype.enter=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid).requestQueue,r=new jhe({channelUrl:this.url}),[4,e.send(r)];case 1:return a=f.sent(),l=a.as(NF),d=l.participantCount,h=l.ts,this._updateParticipantCount(d,h),Hu.of(this._iid).setEnteredToCache(this),[2]}})})},t.prototype.exit=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid).requestQueue,r=new $he({channelUrl:this.url}),[4,e.send(r)];case 1:return a=f.sent(),l=a.as(AF),d=l.participantCount,h=l.ts,this._updateParticipantCount(d,h),Hu.of(this._iid).setExitedToCache(this),Ri.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},t.prototype.updateChannel=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return r=ge(ge({},D8),e),_n(function(_){return St("string",_.operatorUserIds,!0)&&(ye("string",_.coverUrlOrImage)||Li(_.coverUrlOrImage)||_.coverUrlOrImage===null)&&ye("string",_.name,!0)&&ye("string",_.data,!0)&&ye("string",_.customType,!0)}(r)).throw(Oe.invalidParameters),a=Se.of(this._iid).requestQueue,l=new Yhe(ge({channelUrl:this.url},r)),[4,a.send(l)];case 1:return d=f.sent(),h=d.as(Xhe).channel,this._update(h),[4,Hu.of(this._iid).upsertChannelsToCache([h])];case 2:return f.sent(),[2,this]}})})},t.prototype.updateChannelWithOperatorUserIds=function(e,r,a,l,d){return H(this,void 0,void 0,function(){var h;return F(this,function(f){return h=ge(ge({},D8),{name:e,coverUrlOrImage:r,data:a,operatorUserIds:l,customType:d}),[2,this.updateChannel(h)]})})},t.prototype.delete=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new Zhe({channelUrl:this.url}),[4,e.send(r)];case 1:return a.sent(),[4,Hu.of(this._iid).removeChannelsFromCache([this.url])];case 2:return a.sent(),[2]}})})},t.prototype.sendUserMessage=function(e){return _n(!e.isPinnedMessage).throw(Oe.notSupportedError),n.prototype.sendUserMessage.call(this,e)},t.prototype.sendFileMessage=function(e){return _n(!e.isPinnedMessage).throw(Oe.notSupportedError),n.prototype.sendFileMessage.call(this,e)},t}(q4),Jhe=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onUserEntered=bt,e.onUserExited=bt,e.onChannelParticipantCountChanged=bt,e.onPollUpdated=bt,e.onPollVoted=bt,e.onPollDeleted=bt,e}return re(t,n),t}(kF)),e0e=function(n){function t(e){var r=this,a=e.token,l=e.limit,d=e.nameKeyword,h=e.urlKeyword,f=e.customTypes,_=e.includeFrozen,g=e.includeMetaData;return(r=n.call(this)||this).method=pn.GET,r.path=gh,r.params=Kn({token:a,limit:l,name_contains:d,url_contains:h,custom_types:f,show_frozen:_,show_metadata:g}),r}return re(t,n),t}(fn),n0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.channels=[];var l=r.next,d=r.channels,h=r.ts;return a.token=l,d&&d.length>0&&(a.channels=d.map(function(f){return new ap(e,f)})),a.ts=typeof h=="number"?h:null,a}return re(t,n),t}(vn),t0e=function(n){function t(e,r){var a,l,d,h,f,_=this;return(_=n.call(this,e,r)||this).includeFrozen=!0,_.includeMetaData=!0,_.nameKeyword=null,_.urlKeyword=null,_.customTypes=null,_.includeFrozen=(a=r.includeFrozen)===null||a===void 0||a,_.includeMetaData=(l=r.includeMetaData)===null||l===void 0||l,_.nameKeyword=(d=r.nameKeyword)!==null&&d!==void 0?d:null,_.urlKeyword=(h=r.urlKeyword)!==null&&h!==void 0?h:null,_.customTypes=(f=r.customTypes)!==null&&f!==void 0?f:null,_}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ye("boolean",this.includeFrozen)&&ye("boolean",this.includeMetaData)&&ye("string",this.nameKeyword,!0)&&ye("string",this.urlKeyword,!0)&&St("string",this.customTypes,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new e0e(Jn(ge(ge({},this),{token:this._token}))),[4,e.send(r)]):[3,3]:[3,6];case 1:return a=f.sent(),l=a.as(n0e),d=l.channels,h=l.token,this._token=h,this._hasNext=!!h,[4,Hu.of(this._iid).upsertChannelsToCache(d)];case 2:return f.sent(),this._isLoading=!1,[2,d];case 3:return[2,[]];case 4:throw Oe.queryInProgress;case 5:return[3,7];case 6:throw Oe.invalidParameters;case 7:return[2]}})})},t}(Ic),r0e=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="openChannel",e}return re(t,n),t.prototype.init=function(e,r){var a=r.sdkState,l=r.dispatcher,d=r.sessionManager,h=r.requestQueue,f=r.logger,_=r.onlineDetector,g=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:l,sessionManager:d,requestQueue:h,logger:f,onlineDetector:_,cacheContext:g}),this._manager=new Hu(e,{sdkState:a,dispatcher:l,requestQueue:h,logger:f,cacheContext:g,sessionManager:d})},t.prototype.createOpenChannelListQuery=function(e){return e===void 0&&(e={}),new t0e(this._iid,e)},t.prototype.addOpenChannelHandler=function(e,r){this._manager.addHandler(e,r)},t.prototype.removeOpenChannelHandler=function(e){this._manager.removeHandler(e)},t.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildOpenChannelFromSerializedData=function(e){return this._manager.buildOpenChannelFromSerializedData(e)},t.prototype.getChannel=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2,this._manager.getChannel(e)]})})},t.prototype.getChannelWithoutCache=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return[2,this._manager.getChannelWithoutCache(e)]})})},t.prototype.createChannel=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){return F(this,function(r){return[2,this._manager.createChannel(e)]})})},t.prototype.createChannelWithOperatorUserIds=function(e,r,a,l,d){return H(this,void 0,void 0,function(){var h;return F(this,function(f){return(h=ge({},IF)).name=e,h.coverUrlOrImage=r,h.data=a,h.operatorUserIds=l,h.customType=d,[2,this._manager.createChannel(h)]})})},t}(Z1),ni;(function(n){n.NONE="none",n.JOINED="joined",n.INVITED="invited",n.LEFT="left"})(ni||(ni={}));var Ul,vs,as,Rd,Qo,m1,yc,nm,bo=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.state=null,a.role=null,a.isMuted=!1,a.isBlockedByMe=!1,a.isBlockingMe=!1,a.state=Et(ni,r.state)?r.state:null,a.role=Et(go,r.role)?r.role:null,typeof r.is_muted=="boolean"&&(a.isMuted=r.is_muted),typeof r.is_blocked_by_me=="boolean"&&(a.isBlockedByMe=r.is_blocked_by_me),typeof r.is_blocking_me=="boolean"&&(a.isBlockingMe=r.is_blocking_me),a}return re(t,n),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{state:e.state,role:e.role,is_muted:e.isMuted,is_blocked_by_me:e.isBlockedByMe,is_blocking_me:e.isBlockingMe})))},t}(Eh),OF=function(n){function t(e,r){var a,l,d=this;return(d=n.call(this,e)||this).channelUrl=(a=r.channel_url)!==null&&a!==void 0?a:"",d.channelType=(l=r.channel_type)!==null&&l!==void 0?l:Dt.GROUP,d.reader=new kt(d._iid,r.user),d.readAt=r.ts,d}return re(t,n),t}(qa);(function(n){n.ALL="all",n.PUBLIC="public",n.PRIVATE="private"})(Ul||(Ul={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(vs||(vs={})),function(n){n.ALL="all",n.SUPER="super",n.NON_SUPER="nonsuper",n.BROADCAST_ONLY="broadcast_only",n.EXCLUSIVE_ONLY="exclusive_only"}(as||(as={})),function(n){n.ALL="all",n.UNREAD_MESSAGE="unread_message"}(Rd||(Rd={})),function(n){n.ALL="all",n.UNHIDDEN="unhidden_only",n.HIDDEN="hidden_only",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Qo||(Qo={})),function(n){n.ALL="all",n.OPERATOR="operator",n.NONOPERATOR="nonoperator"}(m1||(m1={})),function(n){n.AND="AND",n.OR="OR"}(yc||(yc={})),function(n){n.MEMBER_NICKNAME="member_nickname",n.CHANNEL_NAME="channel_name"}(nm||(nm={}));var Ai,RF=function(){function n(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter=null,this.nicknameStartsWithFilter=null,this.nicknameExactMatchFilter=null,this.channelNameContainsFilter="",this.myMemberStateFilter=vs.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=as.ALL,this.publicChannelFilter=Ul.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Rd.ALL,this.hiddenChannelFilter=Qo.UNHIDDEN,this.includeFrozen=!0}return n.prototype._isFriend=function(t){return!(!t||!t.friendDiscoveryKey&&!t.friendName)},Object.defineProperty(n.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),n.prototype.setSearchFilter=function(t,e){Array.isArray(t)&&t.length!==0&&typeof e=="string"&&e&&(this._searchFilter={query:e,fields:t})},Object.defineProperty(n.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),n.prototype.setUserIdsFilter=function(t,e,r){r===void 0&&(r=yc.AND),this._userIdsFilter={userIds:t,includeMode:e,queryType:r}},n.prototype.clone=function(){var t,e=new n;this.searchFilter&&e.setSearchFilter(this.searchFilter.fields,(t=this.searchFilter.query)!==null&&t!==void 0?t:void 0),this.userIdsFilter&&e.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var r=JSON.parse(JSON.stringify(this));return Object.keys(r).forEach(function(a){e[a]=r[a]}),e},n.prototype.match=function(t,e){if(this._searchFilter){var r=this._searchFilter,a=r.query,l=r.fields;if(a&&l&&l.length>0&&!l.some(function(T){switch(T){case nm.CHANNEL_NAME:return t.name.toLowerCase().includes(a.toLowerCase());case nm.MEMBER_NICKNAME:return t.members.some(function(N){return N.nickname.toLowerCase().includes(a.toLowerCase())});default:return!0}}))return!1}if(this._userIdsFilter){var d=this._userIdsFilter,h=d.userIds,f=d.includeMode,_=d.queryType,g=t.members.map(function(T){return T.userId});if(f){if(h.length>0)switch(_){case yc.AND:if(h.some(function(T){return!g.includes(T)}))return!1;break;case yc.OR:if(h.every(function(T){return!g.includes(T)}))return!1}}else if(h.includes(e)||h.push(e),t.members.length>h.length||!Poe(h,g))return!1}if(!this.includeEmpty&&!t.lastMessage||!this.includeFrozen&&t.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(t.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(t.customType)||this.channelNameContainsFilter&&!t.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var E=this.nicknameContainsFilter.toLowerCase();if(!t.members.some(function(T){return T.userId!==e&&T.nickname.toLowerCase().includes(E)}))return!1}if(this.nicknameStartsWithFilter){var w=this.nicknameStartsWithFilter.toLowerCase();if(!t.members.some(function(T){return T.userId!==e&&T.nickname.toLowerCase().startsWith(w)}))return!1}if(this.nicknameExactMatchFilter){var x=this.nicknameExactMatchFilter.toLowerCase();if(!t.members.some(function(T){return T.userId!==e&&T.nickname.toLowerCase()!=x}))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(t.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case vs.JOINED:if(t.myMemberState!=="joined")return!1;break;case vs.INVITED:if(t.myMemberState!=="invited")return!1;break;case vs.INVITED_BY_FRIEND:if(t.myMemberState!=="invited"||!this._isFriend(t.inviter))return!1;break;case vs.INVITED_BY_NON_FRIEND:if(t.myMemberState!=="invited"||this._isFriend(t.inviter))return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case Qo.UNHIDDEN:if(t.isHidden||t.hiddenState!=="unhidden")return!1;break;case Qo.HIDDEN:if(!t.isHidden)return!1;break;case Qo.HIDDEN_ALLOW_AUTO_UNHIDE:if(!t.isHidden||t.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case Qo.HIDDEN_PREVENT_AUTO_UNHIDE:if(!t.isHidden||t.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===Rd.UNREAD_MESSAGE&&t.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case Ul.PUBLIC:if(!t.isPublic)return!1;break;case Ul.PRIVATE:if(t.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case as.SUPER:if(!t.isSuper)return!1;break;case as.NON_SUPER:if(t.isSuper)return!1}return!0},n}(),i0e=function(n){function t(e,r){var a=r.sdkState,l=r.cacheContext,d=n.call(this,e)||this;return d._channels=new Map,d._sdkState=a,d._cacheContext=l,d}return re(t,n),Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return _n(!!e).throw(Oe.databaseError),e.collection(sF)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e,r){return r===void 0&&(r=0),ge(ge({},e.serialize()),{lastMessageUpdatedAt:e.lastMessage?e.lastMessage.createdAt:0,syncIndex:r})},t.prototype._deserialize=function(e){return Bi.of(this._iid).buildGroupChannelFromSerializedData(e)},Object.defineProperty(t.prototype,"channels",{get:function(){return nt([],Wn(this._channels.values()),!1)},enumerable:!1,configurable:!0}),t.prototype.isCachedInMemory=function(e){return this._channels.has(e)},t.prototype.filterOffsetChanged=function(e){var r=this;return e.filter(function(a){if(r._channels.has(a.url))return r._channels.get(a.url).messageOffsetTimestamp<a.messageOffsetTimestamp})},t.prototype.get=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return this._channels.has(e)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(r=l.sent())return a=this._deserialize(r),this._channels.set(e,a),[2,a];l.label=2;case 2:return[2,void 0];case 3:return[2,this._channels.get(e)]}})})},t.prototype.fetch=function(e){var r=e.token,a=e.limit,l=a===void 0?aF:a,d=e.backward,h=d!==void 0&&d,f=e.filter,_=f===void 0?new RF:f,g=e.order,E=g===void 0?ri.LATEST_LAST_MESSAGE:g,w=e.borderlineChannelUrl;return H(this,void 0,void 0,function(){var x,T,N,P,k=this;return F(this,function(C){switch(C.label){case 0:return this.localCacheEnabled?(x=bb(E),T={where:function(A){if(r)switch(E){case ri.CHANNEL_NAME_ALPHABETICAL:if(!h&&A.name.localeCompare(r)<0||h&&A.name.localeCompare(r)>0||w&&w===A.url)return!1;break;case ri.CHRONOLOGICAL:if(!h&&A.createdAt>r||h&&A.createdAt<r||w&&w===A.url)return!1;break;case ri.LATEST_LAST_MESSAGE:if(!h&&A.lastMessageUpdatedAt>r||h&&A.lastMessageUpdatedAt<r||w&&w===A.url)return!1}return _.match(k._deserialize(A),k._sdkState.userId)},index:x,backward:h},[4,this.collection.query(T)]):[3,3];case 1:return[4,C.sent().fetch({limit:l})];case 2:return N=C.sent(),(P=N.map(function(A){return k._deserialize(A)})).forEach(function(A){k._channels.has(A.url)||k._channels.set(A.url,A)}),[2,P];case 3:return[2,[]]}})})},t.prototype.upsert=function(e,r){return H(this,void 0,void 0,function(){var a,l,d,h=this;return F(this,function(f){switch(f.label){case 0:if(a=[],e.forEach(function(_){if(h._channels.has(_.url)){var g=h._channels.get(_.url);g._pinnedMessagesUpdatedAt<_._pinnedMessagesUpdatedAt&&(g._pinnedMessagesUpdatedAt=_._pinnedMessagesUpdatedAt),_.cachedMetaData&&r&&(g._updateCachedMetaData(_.cachedMetaData,r),Object.assign(_,{_cachedMetaData:void 0})),g._update(_),a.push(g)}else h._channels.set(_.url,_),a.push(_)}),!this.localCacheEnabled)return[3,2];for(d in l=[],a)l.push(this._serialize(a[d],parseInt(d)));return[4,this.collection.upsertMany(l)];case 1:f.sent(),f.label=2;case 2:return[2,a]}})})},t.prototype.remove=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:_.trys.push([0,5,6,7]),r=Cn(e),a=r.next(),_.label=1;case 1:return a.done?[3,4]:(l=a.value,this._channels.delete(l),this.localCacheEnabled?[4,this.collection.remove(l)]:[3,3]);case 2:_.sent(),_.label=3;case 3:return a=r.next(),[3,1];case 4:return[3,7];case 5:return d=_.sent(),h={error:d},[3,7];case 6:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 7:return[2]}})})},t.prototype.clear=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.clearMemoryCache=function(){this._channels.clear()},t.prototype._setBlockStateOfAllChannels=function(e,r,a){return H(this,void 0,void 0,function(){var l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U,M,R,I;return F(this,function(D){switch(D.label){case 0:if(l=[],e===this._sdkState.userId)try{for(d=Cn(this._channels.values()),h=d.next();!h.done;h=d.next()){w=h.value;try{for(C=void 0,f=Cn(w.members),_=f.next();!_.done;_=f.next())if((N=_.value).userId===r){N.isBlockedByMe=a,l.push(w);break}}catch(q){C={error:q}}finally{try{_&&!_.done&&(A=f.return)&&A.call(f)}finally{if(C)throw C.error}}}}catch(q){P={error:q}}finally{try{h&&!h.done&&(k=d.return)&&k.call(d)}finally{if(P)throw P.error}}else if(r===this._sdkState.userId)try{for(g=Cn(this._channels.values()),E=g.next();!E.done;E=g.next()){w=E.value;try{for(R=void 0,x=Cn(w.members),T=x.next();!T.done;T=x.next())if((N=T.value).userId===e){N.isBlockingMe=a,l.push(w);break}}catch(q){R={error:q}}finally{try{T&&!T.done&&(I=x.return)&&I.call(x)}finally{if(R)throw R.error}}}}catch(q){U={error:q}}finally{try{E&&!E.done&&(M=g.return)&&M.call(g)}finally{if(U)throw U.error}}return l.length>0?[4,this.upsert(l)]:[3,2];case 1:D.sent(),D.label=2;case 2:return[2]}})})},t.prototype.block=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!0)];case 1:return a.sent(),[2]}})})},t.prototype.unblock=function(e,r){return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!1)];case 1:return a.sent(),[2]}})})},t.prototype.markAsRead=function(e,r){return r===void 0&&(r=nt([],Wn(this._channels.keys()),!1)),H(this,void 0,void 0,function(){var a,l,d,h,f,_,g,E;return F(this,function(w){switch(w.label){case 0:a=[],w.label=1;case 1:w.trys.push([1,6,7,8]),l=Cn(r),d=l.next(),w.label=2;case 2:return d.done?[3,5]:(h=d.value,[4,this.get(h)]);case 3:(f=w.sent())!=null&&f._updateUnreadMemberState(this._sdkState.userId,e)&&(f._updateUnreadCount(0,0),a.push(f)),w.label=4;case 4:return d=l.next(),[3,2];case 5:return[3,8];case 6:return _=w.sent(),g={error:_},[3,8];case 7:try{d&&!d.done&&(E=l.return)&&E.call(l)}finally{if(g)throw g.error}return[7];case 8:return a.length>0?[4,this.upsert(a)]:[3,10];case 9:w.sent(),w.label=10;case 10:return[2]}})})},t}(qa),yb={invitedUserIds:void 0,channelUrl:void 0,coverUrl:void 0,coverImage:void 0,isDistinct:void 0,isSuper:void 0,isBroadcast:void 0,isExclusive:void 0,isPublic:void 0,isDiscoverable:void 0,isStrict:void 0,isEphemeral:void 0,accessCode:void 0,name:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,messageSurvivalSeconds:void 0},Q4=function(n){return St("string",n.invitedUserIds,!0)&&ye("string",n.channelUrl,!0)&&ye("string",n.coverUrl,!0)&&(Li(n.coverImage)||ye("string",n.coverImage,!0))&&ye("boolean",n.isDistinct,!0)&&ye("boolean",n.isSuper,!0)&&ye("boolean",n.isBroadcast,!0)&&ye("boolean",n.isExclusive,!0)&&ye("boolean",n.isPublic,!0)&&ye("boolean",n.isStrict,!0)&&ye("boolean",n.isDiscoverable,!0)&&ye("boolean",n.isEphemeral,!0)&&ye("string",n.accessCode,!0)&&ye("string",n.name,!0)&&ye("string",n.data,!0)&&ye("string",n.customType,!0)&&St("string",n.operatorUserIds,!0)&&ye("number",n.messageSurvivalSeconds,!0)},v1={customTypes:void 0,includeEmpty:!1,includeFrozen:!0,includeChatNotification:!1},Y4=function(n){return St("string",n.customTypes,!0)&&ye("boolean",n.includeEmpty)&&ye("boolean",n.includeFrozen)&&ye("boolean",n.includeChatNotification)},MF={myMemberStateFilter:vs.ALL},DF=function(n){return Et(vs,n.myMemberStateFilter)};(function(n){n.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",n.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",n.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",n.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",n.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",n.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",n.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",n.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",n.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(Ai||(Ai={}));var a0e={keys:[]},s0e={channelCustomTypesFilter:void 0,superChannelFilter:as.ALL},o0e=function(n){return St("string",n.channelCustomTypesFilter,!0)&&Et(as,n.superChannelFilter)},l0e={channelUrl:void 0,scheduledStatus:void 0,messageTypeFilter:ia.ALL};ge({},rn);var Eb=function(n){return n.startsWith("EVENT_")||n===rn.SYNC_CHANNEL_CHANGELOGS||n===rn.REFRESH_CHANNEL},It=function(n){function t(e){var r=e.channels,a=e.source,l=e.isWebSocketEventComing,d=l!==void 0&&l,h=e.data,f=h===void 0?null:h,_=e.ts,g=n.call(this)||this;return g.channels=r,g.source=a,g.isWebSocketEventComing=d,g.data=f,g.ts=_,g}return re(t,n),t}(ii),ac=function(n){function t(e){var r=e.channelUrls,a=e.source,l=e.isWebSocketEventComing,d=l!==void 0&&l,h=n.call(this)||this;return h.channelUrls=r,h.source=a,h.isWebSocketEventComing=d,h}return re(t,n),t}(ii),c0e=function(){function n(t){var e=t.groupChannelCache,r=t.messageCache,a=t.unsentMessageCache,l=t.dispatcher,d=this;this._observers=new Map,l.on(function(h){return H(d,void 0,void 0,function(){var f,_,g,E,w,x,T,N,P,k,C,A,U,M,R=this;return F(this,function(I){switch(I.label){case 0:if(!(h instanceof It))return[3,10];f=h.channels,C=h.source,A=h.isWebSocketEventComing,_=h.data,g=f.filter(function(D){return D instanceof Ks}),E=e.filterOffsetChanged(g),I.label=1;case 1:I.trys.push([1,6,7,8]),w=Cn(E),x=w.next(),I.label=2;case 2:return x.done?[3,5]:(T=x.value,[4,r.removeUnderOffset(T.url,T.messageOffsetTimestamp)]);case 3:I.sent(),I.label=4;case 4:return x=w.next(),[3,2];case 5:return[3,8];case 6:return N=I.sent(),U={error:N},[3,8];case 7:try{x&&!x.done&&(M=w.return)&&M.call(w)}finally{if(U)throw U.error}return[7];case 8:return[4,e.upsert(g,h.ts)];case 9:return P=I.sent(),A||this._broadcastUpdateEvent(P,C,_),[3,15];case 10:return h instanceof ac?(k=h.channelUrls,C=h.source,A=h.isWebSocketEventComing,[4,e.remove(k)]):[3,13];case 11:return I.sent(),[4,Ei(function(){return H(R,void 0,void 0,function(){var D,q,z,ne,fe,B;return F(this,function(Y){switch(Y.label){case 0:Y.trys.push([0,6,7,8]),D=Cn(k),q=D.next(),Y.label=1;case 1:return q.done?[3,5]:(z=q.value,[4,r.removeMessagesOfChannel(z)]);case 2:return Y.sent(),[4,a.removeMessagesOfChannel(z)];case 3:Y.sent(),Y.label=4;case 4:return q=D.next(),[3,1];case 5:return[3,8];case 6:return ne=Y.sent(),fe={error:ne},[3,8];case 7:try{q&&!q.done&&(B=D.return)&&B.call(D)}finally{if(fe)throw fe.error}return[7];case 8:return[2]}})})})];case 12:return I.sent(),A||this._broadcastRemoveEvent(k,C),[3,15];case 13:return h instanceof fF?[4,e.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,15];case 14:I.sent(),I.label=15;case 15:return[2]}})})})}return n.prototype._broadcastUpdateEvent=function(t,e,r){var a,l;try{for(var d=Cn(this._observers.values()),h=d.next();!h.done;h=d.next()){var f=h.value;f.onUpdate&&f.onUpdate(t,e,r)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}},n.prototype._broadcastRemoveEvent=function(t,e){var r,a;try{for(var l=Cn(this._observers.values()),d=l.next();!d.done;d=l.next()){var h=d.value;h.onRemove&&h.onRemove(t,e)}}catch(f){r={error:f}}finally{try{d&&!d.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}},n.prototype.subscribe=function(t,e){this._observers.set(t,e)},n.prototype.unsubscribe=function(t){this._observers.delete(t)},n.prototype.unsubscribeAll=function(){this._observers.clear()},n}(),d0e=function(n){function t(e){var r=e.userId,a=e.ts,l=e.token,d=e.filter,h=e.includeChatNotification,f=h!==void 0&&h,_=n.call(this)||this,g=ge(ge({},v1),d),E=g.customTypes,w=g.includeEmpty,x=g.includeFrozen;return _.method=pn.GET,_.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),_.params=Kn(Jn({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:a||null,token:l,custom_types:E,show_empty:w,show_frozen:x,include_chat_notification:f})),_}return re(t,n),t}(fn),u0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedChannels=r.updated.map(function(l){return new Ks(e,Object.assign(l,{ts:r.ts}))}),a.deletedChannelUrls=r.deleted,a.hasMore=r.has_more,a.token=r.next,a.ts=r.ts,a}return re(t,n),t}(vn),X4=function(n){function t(e){var r=e.channelUrl,a=e.isInternalCall,l=n.call(this)||this;return l.method=pn.GET,l.path="".concat(a?Goe:Ia,"/").concat(encodeURIComponent(r)),l.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},l}return re(t,n),t}(fn),Z4=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ks(e,r),a}return re(t,n),t}(vn),h0={includeEmpty:!1,includeFrozen:!0,includeMetaData:!0,includeChatNotification:!1,channelUrlsFilter:void 0,customTypesFilter:void 0,customTypeStartsWithFilter:void 0,nicknameContainsFilter:void 0,nicknameStartsWithFilter:void 0,nicknameExactMatchFilter:void 0,channelNameContainsFilter:void 0,myMemberStateFilter:vs.ALL,unreadChannelFilter:Rd.ALL,superChannelFilter:as.ALL,publicChannelFilter:Ul.ALL,hiddenChannelFilter:Qo.ALL,userIdsFilter:{userIds:[],includeMode:!0,queryType:yc.AND},searchFilter:{query:void 0,fields:[]},metadataKey:void 0,metadataValues:void 0,metadataOrderKeyFilter:void 0,metadataValueStartsWith:void 0,order:ri.LATEST_LAST_MESSAGE},h0e=function(n){function t(e){var r=this,a=e.userId,l=e.token,d=e.limit,h=e.order,f=e.includeEmpty,_=e.myMemberStateFilter,g=e.superChannelFilter,E=e.publicChannelFilter,w=e.unreadChannelFilter,x=e.nicknameContainsFilter,T=e.nicknameStartsWithFilter,N=e.nicknameExactMatchFilter,P=e.channelNameContainsFilter,k=e.channelUrlsFilter,C=e.customTypesFilter,A=e.customTypeStartsWithFilter,U=e.hiddenChannelFilter,M=e.metadataOrderKeyFilter,R=e.metadataKey,I=e.metadataValues,D=e.metadataValueStartsWith,q=e.includeFrozen,z=e.includeMetaData,ne=e.searchFilter,fe=e.userIdsFilter,B=e.includeChatNotification,Y=B!==void 0&&B;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Ht,"/").concat(encodeURIComponent(a),"/my_group_channels"),r.params=Kn({token:l,limit:d,order:h??h0.order,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:f??h0.includeEmpty,member_state_filter:_??h0.myMemberStateFilter,super_mode:g??h0.superChannelFilter,public_mode:E??h0.publicChannelFilter,unread_filter:w??h0.unreadChannelFilter,members_nickname_contains:x,members_nickname_startswith:T,members_nickname:N,name_contains:P,channel_urls:k,custom_types:C,custom_type_startswith:A,hidden_mode:U,metadata_order_key:M,metadata_key:R,metadata_values:I,metadata_value_startswith:D,show_frozen:q,show_metadata:z,include_chat_notification:Y}),ne&&ne.query&&ne.fields&&(r.params.search_query=ne.query,r.params.search_fields=ne.fields),fe&&fe.userIds&&fe.userIds.length>0&&(fe.includeMode?(r.params.members_include_in=fe.userIds,r.params.query_type=fe.queryType.toUpperCase()):r.params.members_exactly_in=fe.userIds),r}return re(t,n),t}(fn),p0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.channels=[];var l=r.next,d=r.channels,h=r.ts;return a.token=l,d&&d.length>0&&(a.channels=d.map(function(f){return f.ts=h,new Ks(e,f)})),a.ts=h??0,a}return re(t,n),t}(vn),f0e=function(n){function t(e){var r=e.userId,a=e.filter,l=n.call(this)||this,d=a.myMemberStateFilter;return l.method=pn.GET,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/group_channel_count"),l.params={state:d??vs.ALL},l}return re(t,n),t}(fn),_0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.groupChannelCount=r.group_channel_count,a}return re(t,n),t}(vn),m0e=function(n){function t(e){var r=e.userId,a=e.filter,l=n.call(this)||this,d=a.keys;return l.method=pn.GET,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/unread_item_count"),l.params=Kn({item_keys:d}),l}return re(t,n),t}(fn),v0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return typeof r[Ai.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(a.groupChannelUnreadMentionCount=r[Ai.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[Ai.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(a.groupChannelUnreadMessageCount=r[Ai.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[Ai.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(a.groupChannelInvitationCount=r[Ai.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[Ai.SUPER_UNREAD_MENTION_COUNT]=="number"&&(a.superGroupChannelUnreadMentionCount=r[Ai.SUPER_UNREAD_MENTION_COUNT]),typeof r[Ai.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(a.superGroupChannelUnreadMessageCount=r[Ai.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[Ai.SUPER_INVITATION_COUNT]=="number"&&(a.superGroupChannelInvitationCount=r[Ai.SUPER_INVITATION_COUNT]),typeof r[Ai.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(a.nonSuperGroupChannelUnreadMentionCount=r[Ai.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[Ai.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(a.nonSuperGroupChannelUnreadMessageCount=r[Ai.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[Ai.NONSUPER_INVITATION_COUNT]=="number"&&(a.nonSuperGroupChannelInvitationCount=r[Ai.NONSUPER_INVITATION_COUNT]),a}return re(t,n),t}(vn),g0e=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/unread_channel_count"),a}return re(t,n),t}(fn),b0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.unreadCount=r.unread_count,a}return re(t,n),t}(vn),y0e=function(n){function t(e){var r=e.userId,a=e.filter,l=e.includeFeedChannel,d=l!==void 0&&l,h=n.call(this)||this,f=a.channelCustomTypesFilter,_=a.superChannelFilter;return h.method=pn.GET,h.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/unread_message_count"),h.params={super_mode:_??as.ALL,custom_types:f,include_feed_channel:d},h}return re(t,n),t}(fn),E0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.unreadCount=r.unread_count,a.unreadFeedCount=r.unread_feed_count,a}return re(t,n),t}(vn),w0e=function(n){function t(e){var r=e.channelUrl,a=e.scheduledStatus,l=e.messageTypeFilter,d=n.call(this)||this;return d.method=pn.GET,d.path="".concat(c9,"/count"),d.params={channel_url:r,status:S0e(a)},l&&(d.params.message_type=l),d}return re(t,n),t}(fn),x0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.count=r.count,a}return re(t,n),t}(vn),S0e=function(n){if(!n)return[];var t=[];return n.forEach(function(e){switch(e){case _d.PENDING:t.push(zs.PENDING);break;case _d.SENT:t.push(zs.IN_QUEUE),t.push(zs.SENT);break;case _d.CANCELED:t.push(zs.CANCELED);break;case _d.FAILED:t.push(zs.FAILED)}}),t},T0e=function(n){function t(e){var r=this,a=e.userId,l=e.channelUrl,d=e.coverUrl,h=e.coverImage,f=e.isDistinct,_=e.isSuper,g=e.isBroadcast,E=e.isPublic,w=e.isExclusive,x=e.isDiscoverable,T=e.isStrict,N=e.isEphemeral,P=e.accessCode,k=e.name,C=e.data,A=e.customType,U=e.messageSurvivalSeconds,M=e.invitedUserIds,R=e.operatorUserIds;return(r=n.call(this)||this).method=pn.POST,r.path=Ia,r.params=Kn({user_ids:nt([a],Wn(M??[]),!1).filter(function(I,D,q){return D===q.indexOf(I)}),channel_url:l,cover_url:d,cover_file:h,is_distinct:f,is_super:_,is_broadcast:g,is_exclusive:w,is_public:E,is_discoverable:x,strict:T,is_ephemeral:N,access_code:P,name:k,data:C,custom_type:A,operator_ids:R,message_survival_seconds:U}),r}return re(t,n),t}(fn),C0e=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,r)||this).channel=new Ks(e,r),l.isCreated=(a=r.is_created)===null||a===void 0||a,l}return re(t,n),t}(vn),L8=function(n){function t(e){var r=e.userId,a=e.channelUrls,l=n.call(this)||this;return l.method=pn.PUT,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),l.params={channel_urls:a},l}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var k0e=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId,d=e.accessCode;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Ia,"/").concat(encodeURIComponent(a),"/join"),r.params={user_id:l,access_code:d},r}return re(t,n),t}(fn),I0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ks(e,r),a}return re(t,n),t}(vn),N0e=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this,d=a.data,h=d.member_count,f=h===void 0?0:h,_=d.joined_member_count,g=_===void 0?0:_,E=d.users,w=E===void 0?null:E;return l.memberCount=f,l.joinedMemberCount=g,l.members=Array.isArray(w)?w.map(function(x){return new bo(e,x)}):[new bo(e,a.data)],l}return re(t,n),t}(Ac),A0e=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId,d=e.shouldRemoveOperatorStatus;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Ia,"/").concat(encodeURIComponent(a),"/leave"),r.params={user_id:l,should_remove_operator_status:d},r}return re(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(vn);var O0e=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this,d=a.data,h=d.member_count,f=h===void 0?0:h,_=d.joined_member_count,g=_===void 0?0:_;return l.memberCount=f,l.joinedMemberCount=g,l.member=new bo(l._iid,a.data),l}return re(t,n),t}(Ac),R0e=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userIds;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(Ia,"/").concat(encodeURIComponent(a),"/invite"),r.params={user_ids:l},r}return re(t,n),t}(fn),M0e=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ks(e,r),a}return re(t,n),t}(vn),D0e=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this;l.inviter=null;var d=a.data,h=d.member_count,f=h===void 0?0:h,_=d.joined_member_count,g=_===void 0?0:_,E=d.inviter,w=d.invitees,x=w===void 0?[]:w;return l.memberCount=f,l.joinedMemberCount=g,E&&Object.keys(E).length>0&&(l.inviter=new kt(e,E)),l.invitees=x.map(function(T){return new bo(e,T)}),l}return re(t,n),t}(Ac),L0e=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Ia,"/").concat(encodeURIComponent(a),"/decline"),r.params={user_id:l},r}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ks(e,r),a.channel.myMemberState=ni.NONE,a}re(t,n)})(vn);var U0e=function(n){function t(e,r,a){var l=n.call(this,e,r,a)||this,d=a.data,h=d.member_count,f=d.joined_member_count,_=d.inviter,g=d.invitee;return l.memberCount=h??0,l.joinedMemberCount=f??0,l.inviter=new kt(e,_),l.invitee=new bo(e,g),l}return re(t,n),t}(Ac),J4={hidePreviousMessages:!1,allowAutoUnhide:!0},P0e=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId,d=e.hidePreviousMessages,h=e.allowAutoUnhide;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Ia,"/").concat(encodeURIComponent(a),"/hide"),r.params={user_id:l,hide_previous_messages:d??J4.hidePreviousMessages,allow_auto_unhide:h??J4.allowAutoUnhide},r}return re(t,n),t}(fn),F0e=function(n){function t(e,r){var a=n.call(this,e,r)||this,l=r.ts_message_offset;return a.messageOffsetTimestamp=l,a}return re(t,n),t}(vn),H0e=function(n){function t(e,r,a){var l,d,h,f=this;return(f=n.call(this,e,"SYEV",a)||this).allowAutoUnhide=null,f.hidePreviousMessages=null,f.messageOffsetTimestamp=null,a.data&&(f.allowAutoUnhide=(l=a.data.allow_auto_unhide)!==null&&l!==void 0?l:null,f.hidePreviousMessages=(d=a.data.hide_previous_messages)!==null&&d!==void 0?d:null),f.messageOffsetTimestamp=(h=a.ts_message_offset)!==null&&h!==void 0?h:null,f}return re(t,n),t}(br),B0e=function(n){function t(e){var r=e.channelUrl,a=e.time;return n.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:a}})||this}return re(t,n),t}(za),V0e=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new kt(e,a.data),l}return re(t,n),t}(br),z0e=function(n){function t(e){var r=e.channelUrl,a=e.time;return n.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:a}})||this}return re(t,n),t}(za),G0e=function(n){function t(e,r,a){var l=n.call(this,e,"SYEV",a)||this;return l.user=new kt(e,a.data),l}return re(t,n),t}(br),q0e=function(n){function t(e){var r=e.channelUrl,a=e.messageId;return n.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:a}})||this}return re(t,n),t}(za),LF=function(n){function t(e,r){var a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U,M,R,I,D,q,z,ne=this;return(ne=n.call(this,e,r)||this).includeEmpty=!1,ne.includeFrozen=!0,ne.includeMetaData=!0,ne.includeChatNotification=!1,ne.channelUrlsFilter=null,ne.customTypesFilter=null,ne.customTypeStartsWithFilter=null,ne.nicknameContainsFilter=null,ne.nicknameStartsWithFilter=null,ne.nicknameExactMatchFilter=null,ne.channelNameContainsFilter="",ne.myMemberStateFilter=vs.ALL,ne.unreadChannelFilter=Rd.ALL,ne.superChannelFilter=as.ALL,ne.publicChannelFilter=Ul.ALL,ne.hiddenChannelFilter=Qo.UNHIDDEN,ne.searchFilter={fields:[],query:null},ne.userIdsFilter={userIds:[],includeMode:!0,queryType:yc.AND},ne.metadataKey=null,ne.metadataValues=null,ne.metadataOrderKeyFilter=null,ne.metadataValueStartsWith=null,ne.order=ri.LATEST_LAST_MESSAGE,ne.includeEmpty=(a=r.includeEmpty)!==null&&a!==void 0&&a,ne.includeFrozen=(l=r.includeFrozen)===null||l===void 0||l,ne.includeMetaData=(d=r.includeMetaData)===null||d===void 0||d,ne.includeChatNotification=(h=r.includeChatNotification)!==null&&h!==void 0&&h,ne.channelUrlsFilter=(f=r.channelUrlsFilter)!==null&&f!==void 0?f:null,ne.customTypesFilter=(_=r.customTypesFilter)!==null&&_!==void 0?_:null,ne.customTypeStartsWithFilter=(g=r.customTypeStartsWithFilter)!==null&&g!==void 0?g:"",ne.nicknameContainsFilter=(E=r.nicknameContainsFilter)!==null&&E!==void 0?E:null,ne.nicknameStartsWithFilter=(w=r.nicknameStartsWithFilter)!==null&&w!==void 0?w:null,ne.nicknameExactMatchFilter=(x=r.nicknameExactMatchFilter)!==null&&x!==void 0?x:null,ne.channelNameContainsFilter=(T=r.channelNameContainsFilter)!==null&&T!==void 0?T:"",ne.myMemberStateFilter=(N=r.myMemberStateFilter)!==null&&N!==void 0?N:vs.ALL,ne.unreadChannelFilter=(P=r.unreadChannelFilter)!==null&&P!==void 0?P:Rd.ALL,ne.superChannelFilter=(k=r.superChannelFilter)!==null&&k!==void 0?k:as.ALL,ne.publicChannelFilter=(C=r.publicChannelFilter)!==null&&C!==void 0?C:Ul.ALL,ne.hiddenChannelFilter=(A=r.hiddenChannelFilter)!==null&&A!==void 0?A:Qo.UNHIDDEN,ne.searchFilter=(U=r.searchFilter)!==null&&U!==void 0?U:{fields:[],query:null},ne.userIdsFilter=(M=r.userIdsFilter)!==null&&M!==void 0?M:{userIds:[],includeMode:!0,queryType:yc.AND},ne.metadataKey=(R=r.metadataKey)!==null&&R!==void 0?R:null,ne.metadataValues=(I=r.metadataValues)!==null&&I!==void 0?I:null,ne.metadataOrderKeyFilter=(D=r.metadataOrderKeyFilter)!==null&&D!==void 0?D:null,ne.metadataValueStartsWith=(q=r.metadataValueStartsWith)!==null&&q!==void 0?q:null,ne.order=(z=r.order)!==null&&z!==void 0?z:ri.LATEST_LAST_MESSAGE,ne}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ye("boolean",this.includeEmpty)&&ye("boolean",this.includeFrozen)&&ye("boolean",this.includeMetaData)&&ye("string",this.channelNameContainsFilter)&&St("string",this.channelUrlsFilter,!0)&&St("string",this.customTypesFilter,!0)&&ye("string",this.customTypeStartsWithFilter)&&ye("string",this.nicknameContainsFilter,!0)&&ye("string",this.nicknameStartsWithFilter,!0)&&ye("string",this.nicknameExactMatchFilter,!0)&&Et(vs,this.myMemberStateFilter)&&Et(as,this.superChannelFilter)&&Et(Ul,this.publicChannelFilter)&&Et(Rd,this.unreadChannelFilter)&&Et(Qo,this.hiddenChannelFilter)&&St(nm,this.searchFilter.fields)&&ye("string",this.searchFilter.query,!0)&&St("string",this.userIdsFilter.userIds)&&ye("boolean",this.userIdsFilter.includeMode)&&Et(yc,this.userIdsFilter.queryType)&&Et(ri,this.order)&&ye("string",this.metadataOrderKeyFilter,!0)&&ye("string",this.metadataKey,!0)&&St("string",this.metadataValues,!0)&&ye("string",this.metadataValueStartsWith,!0)},t.prototype.serialize=function(){return up(this)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a;return F(this,function(l){switch(l.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Bi.of(this._iid).getMyGroupChannels(this._token,Jn(ge({},this)),this.limit)]):[3,2]:[3,5];case 1:return e=l.sent(),r=e.channels,a=e.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Ic),j0e=function(n){function t(e,r,a){var l,d=this;return(d=n.call(this,e,"SYEV",a)||this).pinnedMessageIds=[],d.latestPinnedMessage=null,d.ts=0,a.data&&(d.pinnedMessageIds=(l=a.data.pinned_message_ids)!==null&&l!==void 0?l:[],d.latestPinnedMessage=a.data.latest_pinned_message?Ga(e,ge({},a.data.latest_pinned_message)):null),d.ts=a.ts,d}return re(t,n),t}(br),$0e=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return re(t,n),t}(za),UF=function(n){function t(e,r,a){var l=n.call(this,e,"READ",a)||this;return l.readStatus=new OF(e,a),l}return re(t,n),t}(br),W0e=function(n){function t(e){var r=e.channelUrl,a=e.userId,l=n.call(this)||this;return(l=n.call(this)||this).method=pn.PUT,l.path="".concat(Ia,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),l.params=Kn({userId:a}),l}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var cc,K0e=function(n){function t(e,r,a){var l=n.call(this,e,"DLVR",a)||this;return l.channelUrl=a.channel_url,l.deliveredStateUpdate=a.updated,l}return re(t,n),t}(br),Iu={},Bi=function(n){function t(e,r){var a,l=this;return(l=n.call(this,e,ge(ge({},r),{channelType:Dt.GROUP}))||this)._leftChannels=new Map,l._disableMack=!1,l._markAsReadAllLastSentAt=0,l._disableMack=(a=r.disableMack)!==null&&a!==void 0&&a,l._groupChannelHandlers=new Map,l._groupChannelCache=new i0e(l._iid,{sdkState:r.sdkState,cacheContext:r.cacheContext}),l._groupChannelBroadcast=new c0e({dispatcher:r.dispatcher,groupChannelCache:l._groupChannelCache,messageCache:ip.of(l._iid),unsentMessageCache:wh.of(l._iid)}),setInterval(function(){var d,h,f=function(E){E.invalidateTypingStatus()&&(l._dispatcher.dispatch(new It({channels:[E],source:rn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),l._groupChannelHandlers.forEach(function(w){w.onTypingStatusUpdated&&w.onTypingStatusUpdated(E)}))};try{for(var _=Cn(l._groupChannelCache.channels),g=_.next();!g.done;g=_.next())f(g.value)}catch(E){d={error:E}}finally{try{g&&!g.done&&(h=_.return)&&h.call(_)}finally{if(d)throw d.error}}},1e3),l._dispatcher.on(function(d){d instanceof br?l._handleEvent(d):d instanceof pF?H(l,void 0,void 0,function(){var h,f;return F(this,function(_){switch(_.label){case 0:return h=d.message,[4,this.getChannel(h.channelUrl,!0)];case 1:return f=_.sent(),h instanceof ra?f._autoResendUserMessage(h):h instanceof di&&f._autoResendFileMessage(h),[2]}})}):d instanceof _F&&l.reduceDBSize()}),Iu[e]||(Iu[e]=l),l}return re(t,n),t.of=function(e){return Iu[e]||(Iu[e]=new t(e,Se.of(e))),Iu[e]},t.clear=function(e){Iu[e]&&delete Iu[e]},Object.defineProperty(t.prototype,"handlers",{get:function(){return nt([],Wn(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),t.prototype.buildGroupChannelFromSerializedData=function(e){var r=Od(e);return new Ks(this._iid,Ks.payloadify(r))},t.prototype.buildGroupChannelListQueryFromSerializedData=function(e){var r=Od(e);return new LF(this._iid,r)},t.prototype.buildMemberFromSerializedData=function(e){var r=Od(e);return new bo(this._iid,bo.payloadify(r))},t.prototype.getChannelFromCache=function(e){var r;return H(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:return[4,this._groupChannelCache.get(e)];case 1:return[2,(r=a.sent())!==null&&r!==void 0?r:null]}})})},t.prototype.getChannelsFromCache=function(e,r,a,l,d){return H(this,void 0,void 0,function(){return F(this,function(h){switch(h.label){case 0:return[4,this._groupChannelCache.fetch({token:e,filter:r,order:a,limit:l,borderlineChannelUrl:d})];case 1:return[2,h.sent()]}})})},t.prototype.upsertChannelsToCache=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._groupChannelCache.upsert(e)];case 1:return[2,r.sent()]}})})},t.prototype.removeChannelsFromCache=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._groupChannelCache.remove(e)];case 1:return r.sent(),[2]}})})},t.prototype.clearChannelsFromCache=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.clear()];case 1:return e.sent(),[2]}})})},t.prototype.reduceDBSize=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g,E,w,x,T,N,P;return F(this,function(k){switch(k.label){case 0:return e=ip.of(this._iid),r=Se.of(this._iid).cacheContext,a=r.localCacheConfig,l=r.nestdb,r.localCacheEnabled&&l&&l.state==Cl.OPENED?(d=1024*a.maxSize*1024,[4,l.estimateUsage()]):[2];case 1:if((h=k.sent())<d)return[2];f=[],_=this._groupChannelCache.channels,g={},T=0,k.label=2;case 2:return T<_.length?[4,this.getMessagesFromCache(_[T].url,0,"prev",new rp)]:[3,5];case 3:E=k.sent(),g[_[T].url]=JSON.stringify(E).length,w=new Hoe({channel:_[T],cachedMessageCount:E.length}),f.push(w),k.label=4;case 4:return T++,[3,2];case 5:x=f.sort(a.clearOrderComparator),T=0,k.label=6;case 6:return T<x.length?[4,e.removeMessagesOfChannel(x[T].channel.url)]:[3,10];case 7:return k.sent(),[4,e._getGroupChannelPreferenceSize(x[T].channel.url)];case 8:if(N=k.sent(),P=g[x[T].channel.url]+N,(h-=P)<d)return[3,10];k.label=9;case 9:return T++,[3,6];case 10:return[2]}})})},t.prototype._handleEvent=function(e){var r;return H(this,void 0,void 0,function(){var a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U,M,R,I,D,q,z,ne,fe,B,Y,ue,Q,_e,le,se,me,Me,de,he,K,ee,j,ae,Re,ze,De,Te,Qe,an,un,Nn,Ye,mn,sn,Ln,Tn,G,ie,bn,Sn,An,Fn,Hn,Bn,pt,Yn,On,Tt,Ut,jt,Nt,Zn,Rn,Je,tt,dt,Rt,wr,Jt,Zr,wi,Ui,xr,ce,pe,Ce,Ae,Ge,be,Pe,qe,Fe,ln,je,cn,Mn,ot,Ke,ke,Ne,tn,Xn,dn,Vn,hn,et,or,zn,Ct,At,lr,Pi,Rr,ir,ai,hi,$t,Fi,xi,pi,Bt,ds,Oc,gi,Wd,Rc,Ir,bi,tl,fi,rl,zi,ko,Gl,si,Zs,Mc,il,Gi,us,Mr,Pt=this;return F(this,function(wt){switch(wt.label){case 0:switch(wt.trys.push([0,80,,81]),e.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"PEDI":return[3,32];case"VOTE":return[3,35];case"SYEV":return[3,38];case"USEV":return[3,78]}return[3,79];case 1:return E=null,e.code==="MESG"?E=e.as(eC):e.code==="FILE"?E=e.as(XT):e.code!=="ADMM"&&e.code!="BRDM"||(E=e.as(EF)),E?(a=E.message,l=E.isMentioned,d=E.forceUpdateLastMessage,a.channelType!==Dt.GROUP?[3,3]:(this._disableMack||Ei(function(){return H(Pt,void 0,void 0,function(){var en;return F(this,function(Be){return en=new q0e(a),this._requestQueue.send(en),[2]})})}),fe=this._groupChannelCache.isCachedInMemory(a.channelUrl),N=a instanceof Di&&a.sender.userId===this._sdkState.userId,[4,this.getChannel(a.channelUrl,!0)])):[3,3];case 2:if((h=wt.sent()).hiddenState===ga.HIDDEN_ALLOW_AUTO_UNHIDE&&(h.hiddenState=ga.UNHIDDEN),a instanceof Di){f=Se.of(this._iid).useMemberInfoInMessage;try{for(_=Cn(h.members),g=_.next();!g.done;g=_.next())if((je=g.value).userId===a.sender.userId){f||(a.sender.nickname=je.nickname,a.sender.plainProfileUrl=je.plainProfileUrl,a.sender.metaData=je.metaData,a.sender.isBlockedByMe=je.isBlockedByMe);break}}catch(en){zi={error:en}}finally{try{g&&!g.done&&(ko=_.return)&&ko.call(_)}finally{if(zi)throw zi.error}}!f&&l&&((r=a.mentionedUsers)===null||r===void 0||r.forEach(function(en){var Be,st;try{for(var Qn=Cn(h.members),lt=Qn.next();!lt.done;lt=Qn.next()){var Dr=lt.value;if(en.userId===Dr.userId){en.nickname=Dr.nickname,en.plainProfileUrl=Dr.plainProfileUrl,en.metaData=Dr.metaData;break}}}catch(Wt){Be={error:Wt}}finally{try{lt&&!lt.done&&(st=Qn.return)&&st.call(Qn)}finally{if(Be)throw Be.error}}})),N&&(C=this._sessionManager.currentUser)&&(C.nickname=a.sender.nickname,C.plainProfileUrl=a.sender.plainProfileUrl,C.metaData=a.sender.metaData)}a.silent&&!N||(h.isEphemeral||fe)&&((!h.lastMessage||h.lastMessage.createdAt<a.createdAt)&&(h.lastMessage=a),N||h._updateUnreadCount(h.unreadMessageCount+1,h.unreadMentionCount+(l?1:0))),d&&(!h.lastMessage||h.lastMessage.createdAt<a.createdAt)&&(h.lastMessage=a),this._dispatcher.dispatch(new It({channels:[h],source:rn.EVENT_MESSAGE_RECEIVED})),a.silent&&!N||jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onChannelChanged&&st.onChannelChanged(h)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),this._dispatcher.dispatch(new Kr({messages:[a],source:rn.EVENT_MESSAGE_RECEIVED})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onMessageReceived&&st.onMessageReceived(h,a),l&&st.onMentionReceived&&st.onMentionReceived(h,a)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),wt.label=3;case 3:return[3,79];case 4:return E=null,e.code==="MEDI"?E=e.as(h1):e.code==="FEDI"?E=e.as(p1):e.code==="AEDI"&&(E=e.as(wF)),E?(w=E.message,x=E.mentionCountChange,w.channelType!==Dt.GROUP?[3,6]:(fe=this._groupChannelCache.isCachedInMemory(w.channelUrl),[4,this.getChannel(w.channelUrl,!0)])):[3,6];case 5:T=wt.sent(),N=w instanceof Di&&w.sender.userId===this._sdkState.userId,P=!1,N?(k=w.sender,(C=this._sessionManager.currentUser)&&(C.nickname=k.nickname,C.plainProfileUrl=k.plainProfileUrl,C.metaData=k.metaData)):T.isReadMessage(w)||x!==0&&!w.silent&&fe&&(T._updateUnreadCount(T.unreadMessageCount,T.unreadMentionCount+x),P=!0),!T.lastMessage||T.lastMessage.createdAt<w.createdAt?(T.lastMessage=w,P=!0):T.lastMessage.isIdentical(w)&&(fe?T.lastMessage.updatedAt<w.updatedAt&&(T.lastMessage=w,P=!0):P=!0),A=!1,T.lastPinnedMessage&&T.lastPinnedMessage.messageId===w.messageId&&(T.lastPinnedMessage=w,P=!0,A=!0),P&&(this._dispatcher.dispatch(new It({channels:[T],source:A?rn.EVENT_PINNED_MESSAGE_UPDATED:rn.EVENT_MESSAGE_UPDATED})),w.silent&&!N||jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onChannelChanged&&st.onChannelChanged(T)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),A&&jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onPinnedMessageUpdated&&st.onPinnedMessageUpdated(T)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})})),this._dispatcher.dispatch(new Kr({messages:[w],source:rn.EVENT_MESSAGE_UPDATED})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onMessageUpdated&&st.onMessageUpdated(T,w),x!==0&&st.onMentionReceived&&st.onMentionReceived(T,w)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),wt.label=6;case 6:return[3,79];case 7:return U=e.as(rF),Nn=U.channelUrl,Ye=U.channelType,M=U.messageId,Ye!==Dt.GROUP?[3,9]:[4,this.getChannel(Nn,!0)];case 8:R=wt.sent(),this._dispatcher.dispatch(new KT({messageIds:[M],source:rn.EVENT_MESSAGE_DELETED})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onMessageDeleted&&st.onMessageDeleted(R,M)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),wt.label=9;case 9:return[3,79];case 10:return(I=e.as(UF).readStatus).channelType!==Dt.GROUP?[3,12]:(fe=this._groupChannelCache.isCachedInMemory(I.channelUrl),[4,this.getChannel(I.channelUrl,!0)]);case 11:D=wt.sent(),fe&&D._updateUnreadMemberState(I.reader.userId,I.readAt),I.reader.userId===this._sdkState.userId?fe?(D.unreadMessageCount>0||D.unreadMentionCount>0)&&(D._updateUnreadCount(0,0),this._dispatcher.dispatch(new It({channels:[D],source:rn.EVENT_CHANNEL_READ})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onChannelChanged&&st.onChannelChanged(D)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})})):D.unreadMessageCount!==0&&D.unreadMentionCount!==0||(this._dispatcher.dispatch(new It({channels:[D],source:rn.EVENT_CHANNEL_READ})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onChannelChanged&&st.onChannelChanged(D)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})})):(this._dispatcher.dispatch(new It({channels:[D],source:rn.EVENT_CHANNEL_READ})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onUnreadMemberStatusUpdated&&st.onUnreadMemberStatusUpdated(D)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})})),wt.label=12;case 12:return[3,79];case 13:return q=e.as(K0e),Nn=q.channelUrl,z=q.deliveredStateUpdate,ne=z===void 0?{}:z,fe=this._groupChannelCache.isCachedInMemory(Nn),[4,this.getChannel(Nn,!0)];case 14:if(B=wt.sent(),fe)for(Y in ne)B._updateUndeliveredMemberState(Y,ne[Y]);return Object.keys(ne).some(function(en){return en!==Pt._sdkState.userId})&&(this._dispatcher.dispatch(new It({channels:[B],source:rn.EVENT_CHANNEL_DELIVERED})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onUndeliveredMemberStatusUpdated&&st.onUndeliveredMemberStatusUpdated(B)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})})),[3,79];case 15:return ue=e.as(xF),Nn=ue.channelUrl,Ye=ue.channelType,Q=ue.event,Ye!==Dt.GROUP?[3,18]:[4,this.getChannel(Nn,!0)];case 16:return _e=wt.sent(),[4,this.getMessageFromCache(Q.messageId)];case 17:(me=wt.sent())&&(me.applyReactionEvent(Q),this._dispatcher.dispatch(new Kr({messages:[me],source:rn.EVENT_MESSAGE_REACTION_UPDATED}))),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onReactionUpdated&&st.onReactionUpdated(_e,Q)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),wt.label=18;case 18:return[3,79];case 19:return(le=e.as(SF).event).channelType!==Dt.GROUP?[3,22]:[4,this.getChannel(le.channelUrl,!0)];case 20:return se=wt.sent(),[4,this.getMessageFromCache(le.targetMessageId)];case 21:(me=wt.sent())&&(me.applyThreadInfoUpdateEvent(le),this._dispatcher.dispatch(new Kr({messages:[me],source:rn.EVENT_MESSAGE_THREADINFO_UPDATED}))),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onThreadInfoUpdated&&st.onThreadInfoUpdated(se,le)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),wt.label=22;case 22:return[3,79];case 23:Me=e.as(TF).groupChannelMemberCounts,de=[],wt.label=24;case 24:wt.trys.push([24,29,30,31]),he=Cn(Me),K=he.next(),wt.label=25;case 25:return K.done?[3,28]:(ee=K.value,Nn=ee.channelUrl,Ui=ee.memberCount,xr=ee.joinedMemberCount,j=ee.updatedAt,[4,this.getChannelFromCache(Nn)]);case 26:(ae=wt.sent())&&ae._setLatestMemberCount(Ui,xr,j)&&de.push(ae),wt.label=27;case 27:return K=he.next(),[3,25];case 28:return[3,31];case 29:return Re=wt.sent(),Gl={error:Re},[3,31];case 30:try{K&&!K.done&&(si=he.return)&&si.call(he)}finally{if(Gl)throw Gl.error}return[7];case 31:return de.length>0&&(this._dispatcher.dispatch(new It({channels:de,source:rn.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onChannelMemberCountChanged&&st.onChannelMemberCountChanged(de)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})})),[3,79];case 32:return ze=e.as(CF),De=ze.event,Te=ze.status,Nn=ze.channelUrl,Ye=ze.channelType,Nn&&Ye===Dt.GROUP?[4,this.getChannel(Nn,!0)]:[3,34];case 33:Qe=wt.sent(),this._dispatcher.dispatch(new QT({event:De,source:rn.EVENT_POLL_UPDATED})),jn(Te===U9?function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onPollDeleted&&st.onPollDeleted(Qe,De.pollId)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}:function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onPollUpdated&&st.onPollUpdated(Qe,De)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),wt.label=34;case 34:return[3,79];case 35:return an=e.as(nC),un=an.event,Nn=an.channelUrl,Ye=an.channelType,Nn&&Ye===Dt.GROUP?[4,this.getChannel(Nn,!0)]:[3,37];case 36:mn=wt.sent(),this._dispatcher.dispatch(new J1({event:un,source:rn.EVENT_POLL_VOTED})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onPollVoted&&st.onPollVoted(mn,un)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),wt.label=37;case 37:return[3,79];case 38:if(!(sn=e.as(Ac).event).isGroupChannelEvent)return[3,77];switch(sn.category){case nr.CHANNEL_JOIN:return[3,39];case nr.CHANNEL_LEAVE:return[3,41];case nr.CHANNEL_OPERATOR_UPDATE:return[3,45];case nr.CHANNEL_INVITE:return[3,47];case nr.CHANNEL_DECLINE_INVITE:return[3,49];case nr.TYPING_START:case nr.TYPING_END:return[3,51];case nr.USER_CHANNEL_MUTE:case nr.USER_CHANNEL_UNMUTE:return[3,53];case nr.USER_CHANNEL_BAN:return[3,55];case nr.USER_CHANNEL_UNBAN:return[3,59];case nr.CHANNEL_FREEZE:case nr.CHANNEL_UNFREEZE:return[3,61];case nr.CHANNEL_HIDE:return[3,63];case nr.CHANNEL_UNHIDE:return[3,65];case nr.CHANNEL_DELETED:return[3,67];case nr.CHANNEL_PROP_CHANGED:return[3,69];case nr.CHANNEL_META_DATA_CHANGED:return[3,71];case nr.CHANNEL_META_COUNTERS_CHANGED:return[3,73];case nr.PINNED_MESSAGE_CHANGED:return[3,75]}return[3,77];case 39:return[4,this.getChannel(sn.channelUrl,!0)];case 40:return Ln=wt.sent(),Tn=e.as(N0e),G=Tn.memberCount,ie=Tn.joinedMemberCount,bn=Tn.members,Sn=!1,bn.forEach(function(en){Ln.isExclusive||Ln.isSuper||Ln.isBroadcast?Sn=Sn||Ln._setLatestMemberCount(G,ie,sn.ts):(en.state=ni.JOINED,Ln.addMember(en,sn.ts),Pt._updateJoinedMemberCount(Ln)),en.userId===Pt._sdkState.userId&&(Ln.myMemberState=ni.JOINED)}),this._dispatcher.dispatch(new It({channels:[Ln],source:rn.EVENT_CHANNEL_JOINED})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){var st,Qn;try{for(var lt=Cn(bn),Dr=lt.next();!Dr.done;Dr=lt.next()){var Wt=Dr.value;Be.onUserJoined&&Be.onUserJoined(Ln,Wt)}}catch(by){st={error:by}}finally{try{Dr&&!Dr.done&&(Qn=lt.return)&&Qn.call(lt)}finally{if(st)throw st.error}}Ln.isBroadcast&&Sn&&Be.onChannelMemberCountChanged&&Be.onChannelMemberCountChanged([Ln])}),[2]})})}),[3,77];case 41:return(cn=this._leftChannels.get(sn.channelUrl))?(Fn=cn.channel,[3,44]):[3,42];case 42:return[4,this.getChannel(sn.channelUrl,!0)];case 43:Fn=wt.sent(),wt.label=44;case 44:return An=Fn,Hn=e.as(O0e),Ui=Hn.memberCount,xr=Hn.joinedMemberCount,Bn=Hn.member,pt=!1,Yn=Se.of(this._iid).appInfo,An.isExclusive||An.isSuper||An.isBroadcast?pt=An._setLatestMemberCount(Ui,xr,sn.ts):(Yn!=null&&Yn.enabledChannelMemberShipHistory?((On=An.members.find(function(en){return en.userId===On.userId}))&&(On.state=ni.LEFT),An.memberCount=Ui):An.removeMember(Bn),this._updateJoinedMemberCount(An)),Bn.userId===this._sdkState.userId?(An.myMemberState=ni.NONE,An.invitedAt=0,An.joinedAt=0,An._updateUnreadCount(0,0),An.isPublic?this._dispatcher.dispatch(new It({channels:[An],source:rn.EVENT_CHANNEL_LEFT})):(this._markAsLeave(An),this._dispatcher.dispatch(new ac({channelUrls:[An.url],source:rn.EVENT_CHANNEL_LEFT})))):this._dispatcher.dispatch(new It({channels:[An],source:rn.EVENT_CHANNEL_LEFT})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onUserLeft&&Be.onUserLeft(An,Bn),An.isBroadcast&&pt&&Be.onChannelMemberCountChanged&&Be.onChannelMemberCountChanged([An])}),[2]})})}),[3,77];case 45:return[4,this.getChannel(sn.channelUrl,!0)];case 46:Tt=wt.sent(),Ut=e.as(bF).operators,jt=Ut.map(function(en){return en.userId});try{for(Nt=Cn(Tt.members),Zn=Nt.next();!Zn.done;Zn=Nt.next())(je=Zn.value).role=jt.includes(je.userId)?go.OPERATOR:go.NONE}catch(en){Zs={error:en}}finally{try{Zn&&!Zn.done&&(Mc=Nt.return)&&Mc.call(Nt)}finally{if(Zs)throw Zs.error}}return Tt.myRole=jt.includes(this._sdkState.userId)?go.OPERATOR:go.NONE,this._dispatcher.dispatch(new It({channels:[Tt],source:rn.EVENT_CHANNEL_OPERATOR_UPDATED})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onOperatorUpdated&&Be.onOperatorUpdated(Tt,Ut)}),[2]})})}),[3,77];case 47:return[4,this.getChannel(sn.channelUrl,!0)];case 48:Rn=wt.sent(),Je=e.as(D0e),Ui=Je.memberCount,xr=Je.joinedMemberCount,tt=Je.inviter,(dt=Je.invitees).forEach(function(en){return en.state=ni.INVITED});try{for(Rt=Cn(dt),wr=Rt.next();!wr.done;wr=Rt.next())Jt=wr.value,Rn.isExclusive||Rn.isSuper||Rn.isBroadcast?Rn._setLatestMemberCount(Ui,xr,sn.ts):Rn.addMember(Jt,sn.ts),this._sdkState.userId===Jt.userId&&(Rn.hiddenState=ga.UNHIDDEN,Rn.myMemberState!==ni.JOINED&&(Rn.myMemberState=ni.INVITED),Rn.invitedAt=sn.ts)}catch(en){il={error:en}}finally{try{wr&&!wr.done&&(Gi=Rt.return)&&Gi.call(Rt)}finally{if(il)throw il.error}}return this._dispatcher.dispatch(new It({channels:[Rn],source:rn.EVENT_CHANNEL_INVITED})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onUserReceivedInvitation&&Be.onUserReceivedInvitation(Rn,tt,dt)}),[2]})})}),[3,77];case 49:return[4,this.getChannel(sn.channelUrl,!0)];case 50:return Zr=wt.sent(),wi=e.as(U0e),Ui=wi.memberCount,xr=wi.joinedMemberCount,ce=wi.inviter,pe=wi.invitee,Zr.isExclusive||Zr.isSuper||Zr.isBroadcast?Zr._setLatestMemberCount(Ui,xr,sn.ts):Zr.removeMember(pe),this._sdkState.userId===pe.userId?(Zr.invitedAt=0,Zr.myMemberState=ni.NONE,Zr.isPublic?this._dispatcher.dispatch(new It({channels:[Zr],source:rn.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new ac({channelUrls:[Zr.url],source:rn.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new It({channels:[Zr],source:rn.EVENT_CHANNEL_DECLINED_INVITE})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onUserDeclinedInvitation&&Be.onUserDeclinedInvitation(Zr,ce,pe)}),[2]})})}),[3,77];case 51:return[4,this.getChannel(sn.channelUrl,!0)];case 52:return Ce=wt.sent(),Ae=sn.category===nr.TYPING_START,Ge=e.as(Ae?V0e:G0e).user,Ce._updateTypingStatus(Ge,Ae?sn.ts:0),this._dispatcher.dispatch(new It({channels:[Ce],source:rn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onTypingStatusUpdated&&Be.onTypingStatusUpdated(Ce)}),[2]})})}),[3,77];case 53:return[4,this.getChannel(sn.channelUrl,!0)];case 54:be=wt.sent(),Pe=sn.category===nr.USER_CHANNEL_MUTE,(qe=e.as(Pe?Z9:J9).user).userId===this._sdkState.userId&&(be.myMutedState=Pe?Il.MUTED:Il.UNMUTED,be._myMutedRemainingTime=qe.restrictionInfo.remainingDuration);try{for(Fe=Cn(be.members),ln=Fe.next();!ln.done;ln=Fe.next())if((je=ln.value).userId===qe.userId){je.isMuted=Pe;break}}catch(en){us={error:en}}finally{try{ln&&!ln.done&&(Mr=Fe.return)&&Mr.call(Fe)}finally{if(us)throw us.error}}return this._dispatcher.dispatch(new It({channels:[be],source:Pe?rn.EVENT_CHANNEL_MUTED:rn.EVENT_CHANNEL_UNMUTED,data:qe.userId})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Pe?Be.onUserMuted&&Be.onUserMuted(be,qe):Be.onUserUnmuted&&Be.onUserUnmuted(be,qe)}),[2]})})}),[3,77];case 55:return(cn=this._leftChannels.get(sn.channelUrl))?(ot=cn.channel,[3,58]):[3,56];case 56:return[4,this.getChannel(sn.channelUrl,!0)];case 57:ot=wt.sent(),wt.label=58;case 58:return Mn=ot,this._markAsLeave(Mn),Ke=e.as(eF).user,Ke.userId===this._sdkState.userId&&this._dispatcher.dispatch(new ac({channelUrls:[Mn.url],source:rn.EVENT_CHANNEL_BANNED})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onUserBanned&&Be.onUserBanned(Mn,Ke)}),[2]})})}),[3,77];case 59:return[4,this.getChannel(sn.channelUrl,!0)];case 60:return ke=wt.sent(),Ne=e.as(nF).user,Ne.userId===this._sdkState.userId&&this._dispatcher.dispatch(new ac({channelUrls:[ke.url],source:rn.EVENT_CHANNEL_UNBANNED})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onUserUnbanned&&Be.onUserUnbanned(ke,Ne)}),[2]})})}),[3,77];case 61:return[4,this.getChannel(sn.channelUrl,!0)];case 62:return tn=wt.sent(),Xn=e.as(tF).freeze,tn.isFrozen=Xn,this._dispatcher.dispatch(new It({channels:[tn],source:Xn?rn.EVENT_CHANNEL_FROZEN:rn.EVENT_CHANNEL_UNFROZEN})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Xn?Be.onChannelFrozen&&Be.onChannelFrozen(tn):Be.onChannelUnfrozen&&Be.onChannelUnfrozen(tn)}),[2]})})}),[3,77];case 63:return[4,this.getChannel(sn.channelUrl,!0)];case 64:return dn=wt.sent(),Vn=e.as(H0e),hn=Vn.allowAutoUnhide,et=Vn.hidePreviousMessages,or=Vn.messageOffsetTimestamp,hn!==null&&(dn.hiddenState=hn?ga.HIDDEN_ALLOW_AUTO_UNHIDE:ga.HIDDEN_PREVENT_AUTO_UNHIDE),et!==null&&et&&dn._updateUnreadCount(0,0),or!==null&&(dn.messageOffsetTimestamp=or),this._dispatcher.dispatch(new It({channels:[dn],source:rn.EVENT_CHANNEL_HIDDEN})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onChannelHidden&&Be.onChannelHidden(dn)}),[2]})})}),[3,77];case 65:return[4,this.getChannel(sn.channelUrl,!0)];case 66:return(zn=wt.sent()).hiddenState=ga.UNHIDDEN,this._dispatcher.dispatch(new It({channels:[zn],source:rn.EVENT_CHANNEL_UNHIDDEN})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onChannelChanged&&Be.onChannelChanged(zn)}),[2]})})}),[3,77];case 67:return[4,this.getChannel(sn.channelUrl,!0)];case 68:return Ct=wt.sent(),this._dispatcher.dispatch(new ac({channelUrls:[sn.channelUrl],source:rn.EVENT_CHANNEL_DELETED})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onChannelDeleted&&Be.onChannelDeleted(Ct.url,Ct.channelType)}),[2]})})}),[3,77];case 69:return[4,this.getChannelWithoutCache(sn.channelUrl,!0)];case 70:return At=wt.sent(),this._dispatcher.dispatch(new It({channels:[At],source:rn.EVENT_CHANNEL_UPDATED})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onChannelChanged&&Be.onChannelChanged(At)}),[2]})})}),[3,77];case 71:return[4,this.getChannel(sn.channelUrl,!0)];case 72:return lr=wt.sent(),Pi=e.as(Y9),Rr=Pi.created,ir=Pi.updated,ai=Pi.deleted,Rr&&(lr._upsertCachedMetaData(Rr,sn.ts),this._dispatcher.dispatch(new It({channels:[lr],source:rn.EVENT_CHANNEL_METADATA_CREATED}))),ir&&(lr._upsertCachedMetaData(ir,sn.ts),this._dispatcher.dispatch(new It({channels:[lr],source:rn.EVENT_CHANNEL_METADATA_UPDATED}))),ai&&(lr._removeFromCachedMetaData(ai,sn.ts),this._dispatcher.dispatch(new It({channels:[lr],source:rn.EVENT_CHANNEL_METADATA_DELETED}))),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Rr&&Be.onMetaDataCreated&&Be.onMetaDataCreated(lr,Rr),ir&&Be.onMetaDataUpdated&&Be.onMetaDataUpdated(lr,ir),ai&&Be.onMetaDataDeleted&&Be.onMetaDataDeleted(lr,ai)}),[2]})})}),[3,77];case 73:return[4,this.getChannel(sn.channelUrl,!0)];case 74:return hi=wt.sent(),$t=e.as(X9),Fi=$t.created,xi=$t.updated,pi=$t.deleted,Fi&&this._dispatcher.dispatch(new It({channels:[hi],source:rn.EVENT_CHANNEL_METACOUNTER_CREATED})),xi&&this._dispatcher.dispatch(new It({channels:[hi],source:rn.EVENT_CHANNEL_METACOUNTER_UPDATED})),pi&&this._dispatcher.dispatch(new It({channels:[hi],source:rn.EVENT_CHANNEL_METACOUNTER_DELETED})),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Fi&&Be.onMetaCounterCreated&&Be.onMetaCounterCreated(hi,Fi),xi&&Be.onMetaCounterUpdated&&Be.onMetaCounterUpdated(hi,xi),pi&&Be.onMetaCounterDeleted&&Be.onMetaCounterDeleted(hi,pi)}),[2]})})}),[3,77];case 75:return[4,this.getChannel(sn.channelUrl,!0)];case 76:return Bt=wt.sent(),ds=e.as(j0e),Oc=ds.pinnedMessageIds,gi=ds.latestPinnedMessage,(Wd=ds.ts)>Bt._pinnedMessagesUpdatedAt&&(Bt.pinnedMessageIds=Oc,Bt.lastPinnedMessage=gi,Bt._pinnedMessagesUpdatedAt=Wd,this._dispatcher.dispatch(new It({channels:[Bt],source:rn.EVENT_PINNED_MESSAGE_UPDATED})),jn(function(){return H(Pt,void 0,void 0,function(){var en,Be,st,Qn,lt;return F(this,function(Dr){try{for(en=Cn(this._groupChannelHandlers.values()),Be=en.next();!Be.done;Be=en.next())(st=Be.value).onChannelChanged&&st.onChannelChanged(Bt)}catch(Wt){Qn={error:Wt}}finally{try{Be&&!Be.done&&(lt=en.return)&&lt.call(en)}finally{if(Qn)throw Qn.error}}return[2]})})}),jn(function(){return H(Pt,void 0,void 0,function(){return F(this,function(en){return this._groupChannelHandlers.forEach(function(Be){Be.onPinnedMessageUpdated&&Be.onPinnedMessageUpdated(Bt)}),[2]})})})),[3,77];case 77:return[3,79];case 78:switch((Rc=e.as(mF).event).category){case em.USER_BLOCK:Ir=_1.getDataAsUserBlockEvent(this._iid,Rc),tl=Ir.blocker,fi=Ir.blockee,this._groupChannelCache.block(tl.userId,fi.userId);break;case em.USER_UNBLOCK:bi=_1.getDataAsUserBlockEvent(this._iid,Rc),tl=bi.blocker,fi=bi.blockee,this._groupChannelCache.unblock(tl.userId,fi.userId)}return[3,79];case 79:return[3,81];case 80:if(rl=wt.sent(),Ko(rl))throw rl;return[3,81];case 81:return[2]}})})},t.prototype._markAsLeave=function(e){var r,a=this,l=(r=this._leftChannels.get(e.url))!==null&&r!==void 0?r:{channel:e,ref:0};l.ref++,this._leftChannels.set(e.url,l),setTimeout(function(){l.ref--,l.ref===0&&a._leftChannels.delete(e.url)},1e4)},t.prototype.addHandler=function(e,r){this._groupChannelHandlers.set(e,r)},t.prototype.removeHandler=function(e){this._groupChannelHandlers.delete(e)},t.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},t.prototype.subscribeChannelEvent=function(e,r){this._groupChannelBroadcast.subscribe(e,r)},t.prototype.unsubscribeChannelEvent=function(e){this._groupChannelBroadcast.unsubscribe(e)},t.prototype._updateJoinedMemberCount=function(e){e.joinedMemberCount=e.members.filter(function(r){return r.state===ni.JOINED}).length},t.prototype.getChannel=function(e,r){return r===void 0&&(r=!1),H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:_n(ye("string",e)).throw(Oe.invalidParameters),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.getChannelFromCache(e)];case 2:return(a=l.sent())?[2,a]:[3,4];case 3:return l.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(e,r)];case 5:return[2,l.sent()]}})})},t.prototype.getChannelWithoutCache=function(e,r){return r===void 0&&(r=!1),H(this,void 0,void 0,function(){var a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return _n(ye("string",e)).throw(Oe.invalidParameters),a=new X4({channelUrl:e,isInternalCall:r}),[4,this._requestQueue.send(a)];case 1:switch(l=_.sent(),d=l.as(Z4).channel,h=d.unreadMessageCount,f=d.unreadMentionCount,d.myCountPreference){case Bs.UNREAD_MESSAGE_COUNT_ONLY:f=0;break;case Bs.UNREAD_MENTION_COUNT_ONLY:h=0;break;case Bs.OFF:h=0,f=0}return d._updateUnreadCount(h,f),[4,this.upsertChannelsToCache([d])];case 2:return[2,_.sent()[0]]}})})},t.prototype.refreshChannel=function(e,r,a){return r===void 0&&(r=!0),a===void 0&&(a=rn.REFRESH_CHANNEL),H(this,void 0,void 0,function(){var l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return g.trys.push([0,5,,6]),l=new X4({channelUrl:e,isInternalCall:r}),[4,this._requestQueue.send(l)];case 1:return d=g.sent(),(h=d.as(Z4).channel).myMemberState!==ni.NONE?[3,2]:(this._dispatcher.dispatch(new ac({channelUrls:[h.url],source:a})),[3,4]);case 2:return[4,this.upsertChannelsToCache([h])];case 3:f=g.sent(),this._dispatcher.dispatch(new It({channels:f,source:a})),g.label=4;case 4:return[3,6];case 5:return(_=g.sent()).code!==rt.NON_AUTHORIZED&&_.code!==rt.NOT_FOUND_IN_DATABASE||this._dispatcher.dispatch(new ac({channelUrls:[e],source:a})),[3,6];case 6:return[2]}})})},t.prototype.getMyGroupChannels=function(e,r,a,l){return l===void 0&&(l=rn.REQUEST_CHANNEL),H(this,void 0,void 0,function(){var d,h,f,_,g;return F(this,function(E){switch(E.label){case 0:return d=new h0e(ge(ge({},r),{userId:this._sdkState.userId,token:e,limit:a})),[4,this._requestQueue.send(d)];case 1:return h=E.sent(),f=h.as(p0e),_=f.channels,g=f.token,this._dispatcher.dispatch(new It({channels:_,source:l})),[2,{channels:_,token:g}]}})})},t.prototype.getMyGroupChannelChangeLogs=function(e,r,a){return a===void 0&&(a=rn.REQUEST_CHANNEL_CHANGELOGS),H(this,void 0,void 0,function(){var l,d,h,f,_,g,E,w;return F(this,function(x){switch(x.label){case 0:return l=ge(ge({},v1),r),_n((ye("string",e)||ye("number",e))&&Y4(l)).throw(Oe.invalidParameters),d=new d0e(Jn({userId:this._sdkState.userId,ts:typeof e=="number"?e:null,token:typeof e=="string"?e:null,filter:l})),[4,this._requestQueue.send(d)];case 1:return h=x.sent(),f=h.as(u0e),_=f.updatedChannels,g=f.deletedChannelUrls,E=f.hasMore,w=f.ts,_.length>0&&this._dispatcher.dispatch(new It({channels:_,source:a,ts:w})),g.length>0&&this._dispatcher.dispatch(new ac({channelUrls:g,source:a})),[2,{updatedChannels:_,deletedChannelUrls:g,hasMore:E,token:f.token}]}})})},t.prototype.getGroupChannelCount=function(e){return H(this,void 0,void 0,function(){var r,a,l;return F(this,function(d){switch(d.label){case 0:return r=ge(ge({},MF),e),_n(DF(r)).throw(Oe.invalidParameters),a=new f0e({userId:this._sdkState.userId,filter:r}),[4,this._requestQueue.send(a)];case 1:return l=d.sent(),[2,l.as(_0e).groupChannelCount]}})})},t.prototype.getUnreadItemCount=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g,E,w,x,T,N,P,k,C;return F(this,function(A){switch(A.label){case 0:return r=ge(ge({},a0e),e),_n(function(U){return St(Ai,U.keys)}(r)).throw(Oe.invalidParameters),a=Se.of(this._iid),l=a.sdkState,d=a.requestQueue,h=new m0e({userId:l.userId,filter:r}),[4,d.send(h)];case 1:return f=A.sent(),_=f.as(v0e),g=_.groupChannelUnreadMentionCount,E=_.groupChannelUnreadMessageCount,w=_.groupChannelInvitationCount,x=_.superGroupChannelUnreadMentionCount,T=_.superGroupChannelUnreadMessageCount,N=_.superGroupChannelInvitationCount,P=_.nonSuperGroupChannelUnreadMentionCount,k=_.nonSuperGroupChannelUnreadMessageCount,C=_.nonSuperGroupChannelInvitationCount,[2,Kn({groupChannelUnreadMentionCount:g,groupChannelUnreadMessageCount:E,groupChannelInvitationCount:w,superGroupChannelUnreadMentionCount:x,superGroupChannelUnreadMessageCount:T,superGroupChannelInvitationCount:N,nonSuperGroupChannelUnreadMentionCount:P,nonSuperGroupChannelUnreadMessageCount:k,nonSuperGroupChannelInvitationCount:C})]}})})},t.prototype.getTotalUnreadChannelCount=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d;return F(this,function(h){switch(h.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new g0e({userId:r.userId}),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(b0e).unreadCount]}})})},t.prototype.getTotalUnreadMessageCount=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return r=ge(ge({},s0e),e),_n(o0e(r)).throw(Oe.invalidParameters),a=Se.of(this._iid),l=a.sdkState,d=a.requestQueue,h=new y0e({userId:l.userId,filter:r}),[4,d.send(h)];case 1:return f=_.sent(),[2,f.as(E0e).unreadCount]}})})},t.prototype.getTotalScheduledMessageCount=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){var r,a,l,d;return F(this,function(h){switch(h.label){case 0:return r=ge(ge({},l0e),e),_n(function(f){return ye("string",f.channelUrl,!0)&&St(_d,f.scheduledStatus,!0)&&Et(ia,f.messageTypeFilter)}(r)).throw(Oe.invalidParameters),a=Se.of(this._iid).requestQueue,l=new w0e(r),[4,a.send(l)];case 1:return d=h.sent(),[2,d.as(x0e).count]}})})},t.prototype.getSubscribedTotalUnreadMessageCount=function(){var e=Se.of(this._iid).subscribedUnreadMessageCount;return e.all>=0?e.all:0},t.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var e=0,r=Se.of(this._iid).subscribedUnreadMessageCount;for(var a in r.customTypes)e+=r.customTypes[a];return e},t.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){var r;return(r=Se.of(this._iid).subscribedUnreadMessageCount.customTypes[e])!==null&&r!==void 0?r:0},t.prototype.createChannel=function(e){return H(this,void 0,void 0,function(){var r,a,l,d;return F(this,function(h){switch(h.label){case 0:return r=ge(ge({},yb),e),_n(Q4(r)).throw(Oe.invalidParameters),r.isPublic||(r.accessCode=void 0),a=new T0e(ge({userId:this._sdkState.userId},r)),[4,this._requestQueue.send(a)];case 1:return l=h.sent(),d=l.as(C0e).channel,[4,this.upsertChannelsToCache([d])];case 2:return h.sent(),[2,d]}})})},t.prototype.markAsReadAll=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return e=Date.now(),_n(e-this._markAsReadAllLastSentAt>=1e3).throw(Oe.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=e,r=new L8({userId:this._sdkState.userId}),[4,this._requestQueue.send(r)];case 1:g.sent(),a=this._groupChannelCache.channels;try{for(l=Cn(a),d=l.next();!d.done;d=l.next())(h=d.value)._updateUnreadMemberState(this._sdkState.userId,e),h._updateUnreadCount(0,0)}catch(E){f={error:E}}finally{try{d&&!d.done&&(_=l.return)&&_.call(l)}finally{if(f)throw f.error}}return a.length>0?[4,this.upsertChannelsToCache(a)]:[3,3];case 2:g.sent(),g.label=3;case 3:return[2]}})})},t.prototype.markAsReadWithChannelUrls=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g,E;return F(this,function(w){switch(w.label){case 0:return r=Date.now(),_n(St("string",e)&&r-this._markAsReadAllLastSentAt>=1e3).throw(Oe.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=r,a=new L8({userId:this._sdkState.userId,channelUrls:e}),[4,this._requestQueue.send(a)];case 1:w.sent(),l=this._groupChannelCache.channels,d=[];try{for(h=Cn(l),f=h.next();!f.done;f=h.next())_=f.value,e.includes(_.url)&&(_._updateUnreadMemberState(this._sdkState.userId,r),_._updateUnreadCount(0,0),d.push(_))}catch(x){g={error:x}}finally{try{f&&!f.done&&(E=h.return)&&E.call(h)}finally{if(g)throw g.error}}return d.length>0?[4,this.upsertChannelsToCache(d)]:[3,3];case 2:w.sent(),w.label=3;case 3:return[2]}})})},t.prototype.markAsDelivered=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this.getChannel(e)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},t}(yF);(function(n){n[n.IDLE=0]="IDLE",n[n.RUNNING=1]="RUNNING",n[n.END=2]="END"})(cc||(cc={}));var eS,Ud=function(n){function t(e,r,a,l){var d=n.call(this)||this;return d._state=cc.IDLE,d._retryCount=0,d._retryLimit=3,d.priority=0,d._worker=r,d}return re(t,n),Object.defineProperty(t.prototype,"isIdle",{get:function(){return this._state===cc.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._state===cc.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDone",{get:function(){return this._state===cc.END},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),t.prototype._run=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:if(!this.isRunning)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this._worker(e)];case 2:return r=l.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return a=l.sent(),this.dispatch("error",a),this._retryCount<this._retryLimit?(this._retryCount++,this._run(e)):this.stop(),[3,4];case 4:return[2]}})})},t.prototype.start=function(e){this.isIdle&&(this._state=cc.RUNNING,this._run(e))},t.prototype.stop=function(){this._state=cc.IDLE,this.dispatch("stop")},t.prototype.end=function(){this._state=cc.END,this.dispatch("end")},t}(vh),Po={},Q0e=function(){function n(t){var e=t._iid,r=t.channel,a=t.limit,l=a===void 0?100:a,d=this;this.ref=0,this._iid=e,this._channel=r,this._limit=l,this._prevSyncLoopCount=0,this._nextSyncLoopCount=0;var h,f,_=Se.of(this._iid),g=_.sdkState,E=_.dispatcher,w=_.logger;this._metadataKey=(h=g.userId,f=r.url,"sendbird:".concat(h,"@groupchannel/").concat(f,"/message/sync.meta"));var x=function(T,N){return"sendbird:".concat(T,"@groupchannel/").concat(N,"/message/sync")}(g.userId,r.url);this._prevSync=new Ud(x,function(T){return H(d,void 0,void 0,function(){var N,P,k,C,A,U,M,R,I,D;return F(this,function(q){switch(q.label){case 0:return N={hasNext:!0,nextToken:0},this._prevSyncLoopCount++,[4,this.loadMetadata(T)];case 1:if(q.sent(),w.debug("message background prev sync from",(U=this._metadata)===null||U===void 0?void 0:U.range.top),(M=this._metadata)===null||M===void 0?void 0:M.previousComplete)return[3,9];q.label=2;case 2:return q.trys.push([2,5,,8]),[4,Ri.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,!((I=(R=this._metadata)===null||R===void 0?void 0:R.range)===null||I===void 0)&&I.top?this._metadata.range.top:T,{prevResultSize:this._limit,nextResultSize:0,replyType:xa.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},rn.SYNC_MESSAGE_BACKGROUND)];case 3:return(P=q.sent()).length>0&&(k=P.map(function(z){return z.createdAt}),!((D=this._metadata)===null||D===void 0)&&(A=D.range).intersect.apply(A,nt([],Wn(k),!1))?this.extendRange(P):this._metadata={range:new $o({top:Math.min.apply(Math,nt([],Wn(k),!1)),bottom:Math.max.apply(Math,nt([],Wn(k),!1))}),previousComplete:!1}),N.hasNext=P.length>=this._limit&&this._prevSyncLoopCount<1,this._metadata&&(N.nextToken=this._metadata.range.top,this._metadata.previousComplete=P.length<this._limit),w.debug("message background prev sync progress",N),[4,this.saveMetadata()];case 4:return q.sent(),[3,8];case 5:return C=q.sent(),w.debug("message background prev sync error",C),C instanceof Oe&&C.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:q.sent(),q.label=7;case 7:throw C;case 8:return[3,10];case 9:N.hasNext=!1,q.label=10;case 10:return[2,N]}})})}),this._nextSync=new Ud(x,function(T){return H(d,void 0,void 0,function(){var N,P,k,C,A,U,M,R,I;return F(this,function(D){switch(D.label){case 0:return N={hasNext:!0,nextToken:0},this._nextSyncLoopCount++,[4,this.loadMetadata(T)];case 1:D.sent(),w.debug("message background next sync from",(U=this._metadata)===null||U===void 0?void 0:U.range.bottom),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Ri.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,!((R=(M=this._metadata)===null||M===void 0?void 0:M.range)===null||R===void 0)&&R.bottom?this._metadata.range.bottom:T,{prevResultSize:0,nextResultSize:this._limit,replyType:xa.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},rn.SYNC_MESSAGE_BACKGROUND)];case 3:return(P=D.sent()).length>0&&(k=P.map(function(q){return q.createdAt}),!((I=this._metadata)===null||I===void 0)&&(A=I.range).intersect.apply(A,nt([],Wn(k),!1))?this.extendRange(P):this._metadata={range:new $o({top:Math.min.apply(Math,nt([],Wn(k),!1)),bottom:Math.max.apply(Math,nt([],Wn(k),!1))}),previousComplete:!1}),N.hasNext=P.length>=this._limit&&this._nextSyncLoopCount<1,this._metadata&&(N.nextToken=this._metadata.range.bottom),w.debug("message background next sync progress",N),[4,this.saveMetadata()];case 4:return D.sent(),[3,6];case 5:throw C=D.sent(),w.debug("message background next sync error",C),C;case 6:return[2,N]}})})}),this._connectionEventContext=E.on(function(T){T instanceof Ss&&(T.stateType===Kt.CONNECTED?d.resume():d.pause())})}return n.of=function(t,e){return Po[t]||(Po[t]={}),Po[t][e.url]||(Po[t][e.url]=new n({_iid:t,channel:e})),Po[t][e.url].ref++,Po[t][e.url]},n.clear=function(t,e){Po[t]&&Po[t][e]&&(Po[t][e].close(),delete Po[t])},Object.defineProperty(n.prototype,"range",{get:function(){var t,e;return(e=(t=this._metadata)===null||t===void 0?void 0:t.range)!==null&&e!==void 0?e:new $o({})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousComplete",{get:function(){var t;return!!(!((t=this._metadata)===null||t===void 0)&&t.previousComplete)},enumerable:!1,configurable:!0}),n.prototype.isWrappingMessages=function(t){var e;return(e=this.range)===null||e===void 0?void 0:e.includes.apply(e,nt([],Wn(t.map(function(r){return r.createdAt})),!1))},n.prototype.extendRange=function(t){var e;this._metadata&&(e=this._metadata.range).extends.apply(e,nt([],Wn(t.map(function(r){return r.createdAt})),!1))},n.prototype.loadMetadata=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this._metadata?[3,2]:[4,Se.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:(e=r.sent())?e.range.bottom<t?this._metadata={range:new $o({}),previousComplete:!1}:this._metadata={range:new $o(e.range),previousComplete:e.previousComplete}:this._metadata={range:new $o({}),previousComplete:!1},r.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=void 0,[2]}})})},n.prototype.resume=function(t){var e,r,a,l;t===void 0&&(t=Date.now());var d=Se.of(this._iid),h=d.logger;d.connectionManager.isConnected&&(h.debug("message background sync resume()"),this._prevSyncLoopCount=this._nextSyncLoopCount=0,this._metadata&&this._metadata.previousComplete||this._prevSync.start((r=(e=this._metadata)===null||e===void 0?void 0:e.range.top)!==null&&r!==void 0?r:t),this._nextSync.start((l=(a=this._metadata)===null||a===void 0?void 0:a.range.bottom)!==null&&l!==void 0?l:t))},n.prototype.pause=function(){Se.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Po[this._iid][this._channel.url])},n}(),Fo={},Y0e=function(){function n(t){var e=t._iid,r=t.channel,a=this;this.ref=0,this._iid=e,this._channel=r;var l,d,h=Se.of(this._iid),f=h.logger,_=h.sdkState,g=h.dispatcher;this._metadataKey=(l=_.userId,d=r.url,"sendbird:".concat(l,"@groupchannel/").concat(d,"/message/changelogs.meta"));var E=function(w,x){return"sendbird:".concat(w,"@groupchannel/").concat(x,"/message/changelogs")}(_.userId,this._channel.url);this._sync=new Ud(E,function(){return H(a,void 0,void 0,function(){var w,x,T,N,P,k,C,A;return F(this,function(U){switch(U.label){case 0:return w={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:U.sent(),f.debug("message changelog sync from",(A=this._metadata)===null||A===void 0?void 0:A.token),U.label=2;case 2:return U.trys.push([2,5,,8]),[4,Ri.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:xa.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0},rn.SYNC_MESSAGE_CHANGELOGS)];case 3:return x=U.sent(),T=x.updatedMessages,N=x.deletedMessageIds,P=x.hasMore,k=x.token,w.hasNext=P,w.nextToken=k,(T.length>0||N.length>0)&&this._metadata&&(this._metadata.token=k),f.debug("message changelog sync progress",w),[4,this.saveMetadata()];case 4:return U.sent(),[3,8];case 5:return C=U.sent(),f.debug("message changelog sync error",C),C instanceof Oe&&C.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:U.sent(),U.label=7;case 7:throw C;case 8:return[2,w]}})})}),this._connectionEventContext=g.on(function(w){w instanceof Ss&&(w.stateType===Kt.CONNECTED?a.resume():a.pause())})}return n.of=function(t,e){return Fo[t]||(Fo[t]={}),Fo[t][e.url]||(Fo[t][e.url]=new n({_iid:t,channel:e})),Fo[t][e.url].ref++,Fo[t][e.url]},n.clear=function(t,e){Fo[t]&&Fo[t][e]&&(Fo[t][e].close(),delete Fo[t])},n.prototype.loadMetadata=function(){return H(this,void 0,void 0,function(){var t,e,r,a;return F(this,function(l){switch(l.label){case 0:return this._metadata?[3,2]:(t=Se.of(this._iid),e=t.cacheContext,r=t.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:a=l.sent(),this._metadata={token:a?a.token:r},l.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=void 0,[2]}})})},n.prototype.resume=function(){var t=Se.of(this._iid),e=t.logger;t.connectionManager.isConnected&&(e.debug("message changelog sync resume()"),this._sync.start(0))},n.prototype.pause=function(){var t=Se.of(this._iid),e=t.logger;t.connectionManager,e.debug("message changelog sync pause()"),this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Fo[this._iid][this._channel.url])},n}(),Nu={},X0e=function(){function n(t){var e=t._iid,r=t.channel,a=t.hasPollMessage,l=this;this.ref=0,this._iid=e,this._channel=r;var d,h,f=Se.of(this._iid),_=f.logger,g=f.sdkState,E=f.dispatcher;this._metadataKey=(d=g.userId,h=r.url,"sendbird:".concat(d,"@groupchannel/").concat(h,"/poll/changelogs.meta"));var w=function(x,T){return"sendbird:".concat(x,"@groupchannel/").concat(T,"/poll/changelogs")}(g.userId,this._channel.url);this._sync=new Ud(w,function(){return H(l,void 0,void 0,function(){var x,T,N,P,k,C,A,U;return F(this,function(M){switch(M.label){case 0:return x={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return M.sent(),_.debug("poll changelog sync from",(U=this._metadata)===null||U===void 0?void 0:U.token),(T=!this._metadata||!this._metadata.token)?[4,a()]:[3,3];case 2:T=!M.sent(),M.label=3;case 3:if(T)return[2,{hasNext:!1,nextToken:0}];this._metadata||(N=Se.of(this._iid).firstConnectedAt,this._metadata={token:N}),M.label=4;case 4:return M.trys.push([4,7,,10]),[4,u1.of(this._iid).getPollChangeLogs(this._channel.url,this._channel.channelType,this._metadata.token)];case 5:return P=M.sent(),k=P.hasMore,C=P.token,x.hasNext=k,x.nextToken=C,this._metadata.token=C,_.debug("poll changelog sync progress",x),[4,this.saveMetadata()];case 6:return M.sent(),[3,10];case 7:return A=M.sent(),_.debug("poll changelog sync error",A),A instanceof Oe&&A.isInvalidTokenError?[4,this.clearMetadata()]:[3,9];case 8:M.sent(),M.label=9;case 9:throw A;case 10:return[2,x]}})})}),this._connectionEventContext=E.on(function(x){x instanceof Ss&&(x.stateType===Kt.CONNECTED?l.resume():l.pause())})}return n.of=function(t,e,r){return Nu[t]||(Nu[t]={}),Nu[t][e.url]||(Nu[t][e.url]=new n({_iid:t,channel:e,hasPollMessage:r})),Nu[t][e.url].ref++,Nu[t][e.url]},n.prototype.loadMetadata=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,Se.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:t=e.sent(),this._metadata=t?{token:t.token}:void 0,e.label=2;case 2:return[2]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.clearMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=void 0,[2]}})})},n.prototype.resume=function(){Se.of(this._iid).logger.debug("poll changelog sync resume()"),this._sync.start(0)},n.prototype.pause=function(){Se.of(this._iid).logger.debug("poll changelog sync pause()"),this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Nu[this._iid][this._channel.url])},n}(),Z0e=function(n){function t(e){var r=e.channels,a=e.source,l=e.isWebSocketEventComing,d=l!==void 0&&l,h=e.data,f=h===void 0?null:h,_=n.call(this)||this;return _.channels=r,_.source=a,_.isWebSocketEventComing=d,_.data=f,_}return re(t,n),t}(ii);(function(n){function t(e){var r=e.channelUrls,a=e.source,l=e.isWebSocketEventComing,d=l!==void 0&&l,h=n.call(this)||this;return h.channelUrls=r,h.source=a,h.isWebSocketEventComing=d,h}return re(t,n),t})(ii);var J0e=function(n){function t(e){var r,a,l,d,h,f,_,g,E,w,x=this;return(x=n.call(this)||this).method=pn.GET,x.path="".concat(Zt(e.channelType),"/").concat(e.channelUrl,"/messages_gap"),x.params=Kn({prev_start_ts:e.prevStart,prev_end_ts:e.prevEnd,prev_cache_count:e.prevCount,next_start_ts:e.nextStart,next_end_ts:e.nextEnd,next_cache_count:e.nextCount,huge_gap_threshold:(r=e.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(a=e.customTypes)!==null&&a!==void 0?a:["*"],message_type:(l=e.messageType)!==null&&l!==void 0?l:null,include_reply_type:(d=e.replyType)!==null&&d!==void 0?d:xa.NONE,include_reactions:(h=e.includeReactions)===null||h===void 0||h,include_meta_array:(f=e.includeMetaArray)===null||f===void 0||f,include_thread_info:(_=e.includeThreadInfo)===null||_===void 0||_,include_parent_message_info:(g=e.includeParentMessageInfo)===null||g===void 0||g,with_sorted_meta_array:(E=e.includeMetaArray)===null||E===void 0||E,show_subchannel_messages_only:(w=e.showSubchannelMessagesOnly)!==null&&w!==void 0&&w,include_poll_details:!0,checking_continuous_messages:e.checkingContinuousMessages}),x}return re(t,n),t}(fn),epe=function(n){function t(e,r){var a,l,d,h,f,_,g=this;return(g=n.call(this,e,r)||this).isHugeGap=r.is_huge_gap,g.prevMessages=((a=r.prev_messages)!==null&&a!==void 0?a:[]).map(function(E){return Ga(e,E)}),g.prevHasMore=(l=r.prev_hasmore)!==null&&l!==void 0&&l,g.isContinuousPrevMessages=(d=r.is_continuous_prev_messages)!==null&&d!==void 0&&d,g.nextMessages=((h=r.next_messages)!==null&&h!==void 0?h:[]).map(function(E){return Ga(e,E)}),g.nextHasmore=(f=r.next_hasmore)!==null&&f!==void 0&&f,g.isContinuousNextMessages=(_=r.is_continuous_next_messages)!==null&&_!==void 0&&_,g}return re(t,n),t}(vn),Ds=function(n,t){return t instanceof Di?n.findIndex(function(e){return e instanceof Di&&t.isIdentical(e)}):n.findIndex(function(e){return e.isIdentical(t)})},ux=function(n,t){return n.findIndex(function(e){return e.messageId===t})},hx=function(n,t){if(n.length>0){for(var e=0,r=n.length-1,a=Math.floor((e+r)/2);e<r;){var l=n[a].createdAt-t.createdAt;if(l>0)r=a,a=Math.floor((e+r)/2);else{if(!(l<0))return a;e=a+1,a=Math.floor((e+r)/2)}}return n[a].createdAt>t.createdAt?a:a+1}return n.length},PF=function(n){this.source=n},nS=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return re(t,n),t}(PF),npe=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return re(t,n),t}(PF),FF=function(n){this.source=n},tpe=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return re(t,n),t}(FF),rpe=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return re(t,n),t}(FF),U8=6e5,P8={includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0,includeParentMessageInfo:!0};(function(n){n.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(eS||(eS={}));var I_,N_,A_,ipe=function(){function n(){}return n.prototype._invokeResponse=function(t,e,r){var a=this;jn(function(){return H(a,void 0,void 0,function(){return F(this,function(l){switch(t){case"local":this._onCacheResult(e,r);break;case"remote":this._onApiResult(e,r)}return[2]})})})},n.prototype.onCacheResult=function(t){return this._onCacheResult=t,this},n.prototype.onApiResult=function(t){return this._onApiResult=t,this},n}(),ape=function(){function n(t,e){var r=e.filter,a=e.startingPoint,l=e.limit,d=e.channel,h=e.channelManager,f=this;this._messages=[],this._unsentMessages=[],this._iid=t,this._key="mc-".concat(zd()),this._isDisposed=!1,this.filter=r??new rp,this._channel=d,this._syncRange=new $o({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=typeof a=="number"?a:Date.now()+U8,this._limit=l||oF,this._channelManager=h,this._channelManager.subscribeChannelEvent(this._key,{onUpdate:function(T,N,P){var k=T.findIndex(function(C){return C.isIdentical(f.channel)});k>=0&&(f._replaceChannelOfCollection(T[k]),f.channel._runIfHandleableWithGroupChannel(function(C){switch(N){case rn.EVENT_CHANNEL_UPDATED:var A=!1;for(var U in f._messages)if(f._messages[U].createdAt>=C.messageOffsetTimestamp){A=!0;var M=parseInt(U);if(M>0){var R=f._messages.splice(0,M);f._removeMessagesFromView(R.map(function(z){return z.messageId}),rn.EVENT_MESSAGE_OFFSET_UPDATED)}break}!A&&f._messages.length>0&&f._removeMessagesFromView(f._messages.map(function(z){return z.messageId}),rn.EVENT_MESSAGE_OFFSET_UPDATED);break;case rn.EVENT_CHANNEL_UNMUTED:var I=Se.of(f._iid).sdkState,D=P;I.userId===D&&f._clearCheckMyMutedTimer();break;case rn.EVENT_CHANNEL_MUTED:I=Se.of(f._iid).sdkState;var q=P;I.userId===q&&C._myMutedRemainingTime!==-1&&f._startCheckMyMutedTimer(C._myMutedRemainingTime);break;case rn.EVENT_CHANNEL_LEFT:C.isPublic&&f._clearCheckMyMutedTimer()}jn(function(){return H(f,void 0,void 0,function(){var z,ne;return F(this,function(fe){return z=this._createChannelEventContext(N),Eb(N)&&(!((ne=this._handler)===null||ne===void 0)&&ne.onChannelUpdated)&&this._handler.onChannelUpdated(z,this.channel),[2]})})})}))},onRemove:function(T,N){T.indexOf(f.channel.url)>=0&&(f._clearCheckMyMutedTimer(),jn(function(){return H(f,void 0,void 0,function(){var P,k;return F(this,function(C){return P=this._createChannelEventContext(N),!((k=this._handler)===null||k===void 0)&&k.onChannelDeleted&&this._handler.onChannelDeleted(P,this.channel.url),[2]})})}))}}),this._channelManager.subscribeMessageEvent(this._key,{onUpdate:function(T,N){var P,k,C=[],A=[];try{for(var U=Cn(T),M=U.next();!M.done;M=U.next()){var R=M.value;R.channelUrl===f._channel.url&&(f.filter.match(R)?C.push(R):A.push(R.messageId))}}catch(I){P={error:I}}finally{try{M&&!M.done&&(k=U.return)&&k.call(U)}finally{if(P)throw P.error}}if(ku(N)){if(C.length>0)switch(N){case rn.LOCAL_MESSAGE_CANCELED:case rn.LOCAL_MESSAGE_RESEND_STARTED:case rn.EVENT_MESSAGE_SENT_FAILED:case rn.EVENT_MESSAGE_SENT_SUCCESS:case rn.EVENT_MESSAGE_UPDATED:case rn.EVENT_MESSAGE_THREADINFO_UPDATED:case rn.EVENT_MESSAGE_REACTION_UPDATED:case rn.SYNC_MESSAGE_CHANGELOGS:f._updateMessagesToView(C,N);break;case rn.EVENT_MESSAGE_SENT_PENDING:f._addMessagesToView(C,N);break;case rn.EVENT_MESSAGE_RECEIVED:f.hasNext||f._addMessagesToView(C,N);break;case rn.SYNC_MESSAGE_FILL:f._addMessagesToView(C,N)}A.length>0&&f._removeMessagesFromView(A,N)}},onRemove:function(T,N){f._removeMessagesFromView(T,N)},onRemoveUnsent:function(T,N){f._removeUnsentMessageFromView(T,N)},onPollChangeLogUpdate:function(T,N){f._updatePollsToView(T,N)},onPollUpdate:function(T,N){f._applyPollUpdateEventToView(T,N)},onPollVote:function(T,N){f._applyPollVoteEventToView(T,N)}});var _=Se.of(this._iid),g=_.cacheContext,E=_.dispatcher,w=_.logger;this._channel._updateMessageCollectionLastAccessedAt();var x=this._createChannelUpdateEventCommand(rn.CHANNEL_LASTACCESSEDAT_UPDATED);x&&E.dispatch(x),this._shouldStartBackgroundSync()&&(this._backgroundSync=Q0e.of(this._iid,this._channel),this._backgroundSync.resume(this._startingPoint)),this._changelogSync=Y0e.of(this._iid,this._channel),this._changelogSync.resume(),this._pollChangelogSync=X0e.of(this._iid,this._channel,this._hasPollMessage.bind(this)),this._pollChangelogSync.resume(),this._prevFill=new Ud(this._key,function(T){return H(f,void 0,void 0,function(){var N,P,k,C,A;return F(this,function(U){switch(U.label){case 0:return[4,this._getRemoteMessages(T,{prevLimit:this._limit,source:rn.SYNC_MESSAGE_FILL,checkingContinuousMessages:g.localCacheEnabled})];case 1:return N=U.sent(),P=N.messages,k=N.isContinuousMessages,P.length>0?(C=Math.min.apply(Math,nt([],Wn(P.map(function(M){return M.createdAt})),!1)),this._syncRange.extends(C),k&&((A=this._backgroundSync)===null||A===void 0||A.range.extends(C)),[2,{hasNext:P.length>=this._limit&&this.viewTop<C,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._nextFill=new Ud(this._key,function(T){return H(f,void 0,void 0,function(){var N,P,k,C,A;return F(this,function(U){switch(U.label){case 0:return[4,this._getRemoteMessages(T,{nextLimit:this._limit,source:rn.SYNC_MESSAGE_FILL,checkingContinuousMessages:g.localCacheEnabled})];case 1:return N=U.sent(),P=N.messages,k=N.isContinuousMessages,P.length>0?(C=Math.max.apply(Math,nt([],Wn(P.map(function(M){return M.createdAt})),!1)),this._syncRange.extends(C),k&&((A=this._backgroundSync)===null||A===void 0||A.range.extends(C)),[2,{hasNext:!(P.length>=this._limit&&this._hasNext)||this.viewBottom>C,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._connectionEventContext=E.on(function(T){if(T instanceof Ss)switch(T.stateType){case Kt.CONNECTED:f._refreshChannel(rn.SYNC_CHANNEL_CHANGELOGS),Ei(function(){return H(f,void 0,void 0,function(){var N;return F(this,function(P){switch(P.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(N=P.sent()).isMuted&&N.remainingDuration!==-1&&this._startCheckMyMutedTimer(N.remainingDuration),[2]}})})}),w.debug("check huge gap"),f._checkHugeGap();break;case Kt.LOGOUT:f.dispose();break;default:f._clearCheckMyMutedTimer(),f._prevFill.stop(),f._nextFill.stop()}}),Se.of(this._iid).statLogCollector.put(new $u({type:Dl.FEATURE_LOCALCACHE,data:{use_local_cache:g.localCacheEnabled,collection_interface:{message:!0}}}))}return Object.defineProperty(n.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"succeededMessages",{get:function(){return nt([],Wn(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter(function(t){return t.sendingStatus===Fr.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter(function(t){return t.sendingStatus===Fr.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewTop",{get:function(){return Math.min.apply(Math,nt(nt([],Wn(this._messages.map(function(t){return t.createdAt})),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,nt(nt([],Wn(this._messages.map(function(t){return t.createdAt})),!1),[0],!1))},enumerable:!1,configurable:!0}),n.prototype._replaceChannelOfCollection=function(t){this._channel.isGroupChannel()?this._channel=t:this._channel.isFeedChannel()&&(this._channel._groupChannel=t._groupChannel)},n.prototype._shouldStartBackgroundSync=function(){var t=Se.of(this._iid).cacheContext;return this.channel.isGroupChannel()?t.localCacheEnabled&&!this.channel.isSuper:t.localCacheEnabled},n.prototype._createChannelEventContext=function(t){switch(!0){case this.channel.isGroupChannel():return new nS(t);case this.channel.isFeedChannel():return new npe(t);default:throw new Oe({code:rt.WRONG_CHANNEL_TYPE,message:"Wrong channel type"})}},n.prototype._createMessageEventContext=function(t){switch(!0){case this.channel.isGroupChannel():return new tpe(t);case this.channel.isFeedChannel():return new rpe(t);default:throw new Oe({code:rt.WRONG_CHANNEL_TYPE,message:"Wrong channel type"})}},n.prototype._createChannelUpdateEventCommand=function(t){switch(!0){case this.channel.isGroupChannel():return new It({channels:[this._channel],source:t});case this.channel.isFeedChannel():return new Z0e({channels:[this._channel],source:t});default:return null}},n.prototype._setBaseMessageCollectionHandler=function(t){this._handler=t},n.prototype._filterUnderOffsetMessage=function(t){return t},n.prototype._addMessagesToView=function(t,e){var r,a,l=this,d=this._filterUnderOffsetMessage(t),h=[],f=[];try{for(var _=Cn(d),g=_.next();!g.done;g=_.next()){var E=g.value;if(e===rn.SYNC_MESSAGE_FILL)if(E.messageId>0){if((N=Ds(this._messages,E))<0){Ds(this._unsentMessages,E)<0&&h.push(E);var w=hx(this._messages,E);this._messages.splice(w,0,E)}}else E instanceof Di&&(N=Ds(this._unsentMessages,E))<0&&Ds(this._messages,E)<0&&(this._unsentMessages.push(E),h.push(E));else if(E.messageId>0){if((N=Ds(this._messages,E))<0){var x=Ds(this._unsentMessages,E);x<0?h.push(E):(this._unsentMessages.splice(x,1),f.push(E)),w=hx(this._messages,E),this._messages.splice(w,0,E)}else f.push(E),this._messages[N]=E;if(E.updatedAt>0){var T=this._updateChildMessagesInView(E);f.push.apply(f,nt([],Wn(T),!1))}}else if(E instanceof Di){var N;(N=Ds(this._unsentMessages,E))<0?Ds(this._messages,E)<0&&(this._unsentMessages.push(E),h.push(E)):(f.push(E),this._unsentMessages[N]=E)}}}catch(P){r={error:P}}finally{try{g&&!g.done&&(a=_.return)&&a.call(_)}finally{if(r)throw r.error}}ku(e)&&jn(function(){return H(l,void 0,void 0,function(){var P,k,C,A,U;return F(this,function(M){return P=this._createMessageEventContext(e),h.length>0&&((C=(k=this._handler)===null||k===void 0?void 0:k.onMessagesAdded)===null||C===void 0||C.call(k,P,this.channel,h)),f.length>0&&((U=(A=this._handler)===null||A===void 0?void 0:A.onMessagesUpdated)===null||U===void 0||U.call(A,P,this.channel,f)),[2]})})})},n.prototype._updateChildMessagesInView=function(t){var e=[];return this._messages.forEach(function(r){r.parentMessageId===t.messageId&&r.applyParentMessage(t)&&e.push(r)}),e},n.prototype._updatePollsToView=function(t,e){var r,a,l=this,d=[];try{for(var h=Cn(t),f=h.next();!f.done;f=h.next()){var _=f.value,g=ux(this._messages,_.messageId);if(g>=0){var E=this._messages[g];E&&E.applyPoll(_),d.push(E)}}}catch(w){r={error:w}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return d.length>0&&ku(e)&&jn(function(){return H(l,void 0,void 0,function(){var w,x,T;return F(this,function(N){return w=this._createMessageEventContext(e),d.length>0&&((T=(x=this._handler).onMessagesUpdated)===null||T===void 0||T.call(x,w,this.channel,d)),[2]})})}),d},n.prototype._applyPollUpdateEventToView=function(t,e){var r=this,a=ux(this._messages,t.messageId);if(a>=0){var l=this._messages[a];l&&l.isUserMessage()&&l.poll&&l.poll.applyPollUpdateEvent(t)&&ku(e)&&jn(function(){return H(r,void 0,void 0,function(){var d,h,f;return F(this,function(_){return d=this._createMessageEventContext(e),(f=(h=this._handler)===null||h===void 0?void 0:h.onMessagesUpdated)===null||f===void 0||f.call(h,d,this.channel,[l]),[2]})})})}},n.prototype._applyPollVoteEventToView=function(t,e){var r=this,a=ux(this._messages,t.messageId);if(a>=0){var l=this._messages[a];l&&l.isUserMessage()&&l.poll&&l.poll.applyPollVoteEvent(t)&&ku(e)&&jn(function(){return H(r,void 0,void 0,function(){var d,h,f;return F(this,function(_){return d=this._createMessageEventContext(e),(f=(h=this._handler)===null||h===void 0?void 0:h.onMessagesUpdated)===null||f===void 0||f.call(h,d,this.channel,[l]),[2]})})})}},n.prototype._updateMessagesToView=function(t,e){var r,a,l=this,d=[],h=[],f=[];try{for(var _=Cn(t),g=_.next();!g.done;g=_.next()){var E,w=g.value;if(w.messageId>0)if((E=Ds(this._messages,w))>=0)h.push(w),this._messages[E]=w;else{var x=Ds(this._unsentMessages,w);if(x>=0){var T=this._unsentMessages.splice(x,1);if(this.hasNext&&T.length>0)f.push(T[0]);else{h.push(w);var N=hx(this._messages,w);this._messages.splice(N,0,w)}}else{var P=this._messages.map(function(k){return k.createdAt});(w.createdAt<Math.min.apply(Math,nt([],Wn(P),!1))&&!this._hasPrevious||w.createdAt>Math.max.apply(Math,nt([],Wn(P),!1))&&!this._hasNext)&&d.push(w)}}else w instanceof Di&&(E=Ds(this._unsentMessages,w))>=0&&(h.push(w),this._unsentMessages[E]=w)}}catch(k){r={error:k}}finally{try{g&&!g.done&&(a=_.return)&&a.call(_)}finally{if(r)throw r.error}}return ku(e)&&jn(function(){return H(l,void 0,void 0,function(){var k,C,A,U,M;return F(this,function(R){return k=this._createMessageEventContext(e),h.length>0?(A=(C=this._handler)===null||C===void 0?void 0:C.onMessagesUpdated)===null||A===void 0||A.call(C,k,this.channel,h):f.length>0?(M=(U=this._handler)===null||U===void 0?void 0:U.onMessagesDeleted)===null||M===void 0||M.call(U,k,this.channel,[],f):d.length>0&&this._addMessagesToView(d,e),[2]})})}),h},n.prototype._removeMessagesFromView=function(t,e){var r,a,l=this,d=[],h=[],f=function(w){var x=_._messages.findIndex(function(N){return N.messageId===w});if(x>=0){var T=_._messages[x];d.push(T.messageId),h.push(T),_._messages.splice(x,1)}},_=this;try{for(var g=Cn(t),E=g.next();!E.done;E=g.next())f(E.value)}catch(w){r={error:w}}finally{try{E&&!E.done&&(a=g.return)&&a.call(g)}finally{if(r)throw r.error}}return ku(e)&&h.length>0&&jn(function(){return H(l,void 0,void 0,function(){var w,x,T;return F(this,function(N){return w=this._createMessageEventContext(e),(T=(x=this._handler)===null||x===void 0?void 0:x.onMessagesDeleted)===null||T===void 0||T.call(x,w,this.channel,d,h),[2]})})}),d},n.prototype._removeUnsentMessageFromView=function(t,e){var r=this._unsentMessages.findIndex(function(a){return a.reqId===t});r>=0&&this._unsentMessages.splice(r,1)},n.prototype._getLocalMessages=function(t,e){var r=e.prevLimit,a=r===void 0?0:r,l=e.nextLimit,d=l===void 0?0:l,h=e.inclusive,f=h===void 0||h;return H(this,void 0,void 0,function(){var _,g,E,w,x;return F(this,function(T){switch(T.label){case 0:return _=[],f?[4,this._channelManager.getExactlyMatchingMessagesForTokenFromCache(this._channel.url,t,this.filter)]:[3,2];case 1:_=T.sent(),T.label=2;case 2:return a>0?[4,this._channelManager.getMessagesFromCache(this._channel.url,t,"prev",this.filter,a,!1)]:[3,4];case 3:return E=T.sent(),[3,5];case 4:E=[],T.label=5;case 5:return g=E,d>0?[4,this._channelManager.getMessagesFromCache(this._channel.url,t,"next",this.filter,d,!1)]:[3,7];case 6:return x=T.sent(),[3,8];case 7:x=[],T.label=8;case 8:return w=x,[2,nt(nt(nt([],Wn(_),!1),Wn(g),!1),Wn(w),!1).sort(function(N,P){return P.createdAt-N.createdAt})]}})})},n.prototype._getRemoteMessages=function(t,e){var r=e.prevLimit,a=r===void 0?0:r,l=e.nextLimit,d=l===void 0?0:l,h=e.source,f=h===void 0?rn.REQUEST_MESSAGE:h,_=e.reverse,g=_!==void 0&&_,E=e.checkingContinuousMessages,w=E!==void 0&&E;return H(this,void 0,void 0,function(){var x,T;return F(this,function(N){switch(N.label){case 0:return x=Ri.of(this._iid),a>0||d>0?[4,x._getMessagesByTimestampForCollection(this._channel.url,this._channel.channelType,t,Jn(ge(ge(ge({},this.filter),P8),{isInclusive:!0,reverse:g,prevResultSize:a,nextResultSize:d})),f,w)]:[3,2];case 1:return T=N.sent(),[3,3];case 2:T={messages:[],isContinuousMessages:!1},N.label=3;case 3:return[2,T]}})})},n.prototype._checkHugeGap=function(){var t;return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U,M=this;return F(this,function(R){switch(R.label){case 0:return this._messages.length>0?(e=this._syncRange.top,r=this.viewTop,a=this._syncRange.bottom,l=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,this._channelManager.getCachedMessageCountBetween(this._channel.url,this.filter,r,e)]):[3,4];case 1:return d=R.sent(),[4,this._channelManager.getCachedMessageCountBetween(this._channel.url,this.filter,a,l)];case 2:return h=R.sent(),[4,Q1(function(){return H(M,void 0,void 0,function(){var I,D,q,z,ne,fe,B,Y,ue,Q,_e,le,se,me,Me,de,he,K,ee,j,ae,Re=this;return F(this,function(ze){switch(ze.label){case 0:return I=Se.of(this._iid),D=I.dispatcher,q=I.requestQueue,z=I.cacheContext,ne=new J0e(ge(ge({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:r,prevEnd:e,prevCount:d,nextStart:a,nextEnd:l,nextCount:h,checkingContinuousMessages:z.localCacheEnabled},this.filter),P8)),[4,q.send(ne)];case 1:return fe=ze.sent(),B=fe.as(epe),Y=B.isHugeGap,ue=B.prevMessages,Q=ue===void 0?[]:ue,_e=B.prevHasMore,le=B.isContinuousPrevMessages,se=B.nextMessages,me=se===void 0?[]:se,Me=B.nextHasmore,de=B.isContinuousNextMessages,Y?jn(function(){return H(Re,void 0,void 0,function(){var De;return F(this,function(Te){return!((De=this._handler)===null||De===void 0)&&De.onHugeGapDetected&&this._handler.onHugeGapDetected(),[2]})})}):(he=this.viewTop,K=this.viewBottom,ee=Math.min.apply(Math,nt([Number.MAX_SAFE_INTEGER,he],Wn(Q.map(function(De){return De.createdAt})),!1)),j=Math.max.apply(Math,nt([0,K],Wn(me.map(function(De){return De.createdAt})),!1)),D.dispatch(new Kr({messages:Q,source:rn.SYNC_MESSAGE_FILL})),D.dispatch(new Kr({messages:me,source:rn.SYNC_MESSAGE_FILL})),this._syncRange.extends(ee,j),(le||de)&&((ae=this._backgroundSync)===null||ae===void 0||ae.range.extends(ee,j)),_e&&this._prevFill.start(ee),Me&&this._nextFill.start(j)),[2]}})})},1)];case 3:return R.sent(),[3,8];case 4:f=Se.of(this._iid).cacheContext,_=Math.floor(this._limit/2),g=Date.now(),R.label=5;case 5:return R.trys.push([5,7,,8]),[4,this._getRemoteMessages(g,{prevLimit:_,nextLimit:_,source:rn.SYNC_MESSAGE_FILL,checkingContinuousMessages:f.localCacheEnabled})];case 6:if(E=R.sent(),w=E.messages,x=E.isContinuousMessages,w.length>0){for(T=w.map(function(I){return I.createdAt}),N=0,P=0,k=0;k<T.length;k++)(C=T[k])<=g?N++:C>=g&&P++;this._hasPrevious=N>=_,this._hasNext=P>=_,(U=this._syncRange).extends.apply(U,nt([],Wn(T),!1)),x&&((t=this._backgroundSync)===null||t===void 0||t.range.extends(this._syncRange.top,this._syncRange.bottom)),this._addMessagesToView(w,rn.SYNC_MESSAGE_FILL)}else this._hasPrevious=!1,this._hasNext=!1;return[3,8];case 7:return(A=R.sent())instanceof Oe&&A.code===rt.NOT_FOUND_IN_DATABASE&&(this._hasPrevious=!1,this._hasNext=!1),[3,8];case 8:return[2]}})})},n.prototype._loadUnsentMessages=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return t=this,[4,this._channelManager.getUnsentMessagesFromCache(this._channel.url,this.filter)];case 1:return t._unsentMessages=e.sent(),[2]}})})},n.prototype._hasPollMessage=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this._channelManager.getPollMessagesFromCache(this._channel.url,Date.now()+U8,this.filter,1)];case 1:return t.sent().length>0?[2,!0]:[2,!1]}})})},n.prototype._refreshChannel=function(t){this._channelManager.refreshChannel(this.channel.url,!0,t)},n.prototype._startCheckMyMutedTimer=function(t){var e=this;this._clearCheckMyMutedTimer(),this._checkMyMutedStateTimer=setTimeout(function(){return H(e,void 0,void 0,function(){var r,a,l=this;return F(this,function(d){switch(d.label){case 0:this._checkMyMutedStateTimer=void 0,r=!0,d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this._channel.getMyMutedInfo()];case 2:return a=d.sent(),r=!a.isMuted,[3,5];case 3:return d.sent(),r=!0,[3,5];case 4:return r&&this.channel._runIfHandleableWithGroupChannel(function(h){var f,_;h.myMutedState=Il.UNMUTED;var g=l._createChannelEventContext(rn.EVENT_CHANNEL_UNMUTED);(_=(f=l._handler)===null||f===void 0?void 0:f.onChannelUpdated)===null||_===void 0||_.call(f,g,l.channel)}),[7];case 5:return[2]}})})},t+1e3)},n.prototype._clearCheckMyMutedTimer=function(){this._checkMyMutedStateTimer&&(clearTimeout(this._checkMyMutedStateTimer),this._checkMyMutedStateTimer=void 0)},n.prototype.initialize=function(t){var e=this,r=new ipe;this._messages=[],this._unsentMessages=[],this._syncRange=new $o({}),this._hasNext=!0,this._hasPrevious=!0,this._refreshChannel(rn.REFRESH_CHANNEL),Ei(function(){return H(e,void 0,void 0,function(){var h;return F(this,function(f){switch(f.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(h=f.sent()).isMuted&&h.remainingDuration!==-1&&this._startCheckMyMutedTimer(h.remainingDuration),[2]}})})});var a=Math.floor(this._limit/2);t===eS.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:a,nextLimit:a}).then(function(h){return H(e,void 0,void 0,function(){var f;return F(this,function(_){switch(_.label){case 0:return f=this._filterUnderOffsetMessage(h),this._addMessagesToView(f,rn.REQUEST_MESSAGE),[4,this._loadUnsentMessages()];case 1:return _.sent(),r._invokeResponse("local",null,f),[2]}})})}).catch(function(h){if(Ko(h))throw h;r._invokeResponse("local",h,null)}).finally(function(){var h=Se.of(e._iid).cacheContext;e._getRemoteMessages(e._startingPoint,{prevLimit:a,nextLimit:a,reverse:!0,checkingContinuousMessages:h.localCacheEnabled}).then(function(f){var _,g,E=f.messages,w=f.isContinuousMessages;e._messages=[];var x=e._filterUnderOffsetMessage(E);if(x.length>0){for(var T=x.map(function(A){return A.createdAt}),N=0,P=0,k=0;k<T.length;k++){var C=T[k];C<e._startingPoint?N++:C>e._startingPoint&&P++}e._hasPrevious=N>=a,e._hasNext=P>=a,(_=e._syncRange).extends.apply(_,nt([],Wn(x.map(function(A){return A.createdAt})),!1)),w&&((g=e._backgroundSync)===null||g===void 0||g.range.extends(e._syncRange.top,e._syncRange.bottom)),e._addMessagesToView(x,rn.REQUEST_MESSAGE)}else e._hasPrevious=!1,e._hasNext=!1;r._invokeResponse("remote",null,x)}).catch(function(f){if(Ko(f))throw f;r._invokeResponse("remote",f,null)})});var l=Se.of(this._iid),d=l.cacheContext;return l.statLogCollector.put(new $u({type:Dl.FEATURE_LOCALCACHE,data:{use_local_cache:d.localCacheEnabled,collection_interface:{message_init_policy:t}}})),r},n.prototype.loadPrevious=function(){return H(this,void 0,void 0,function(){var t,e,r,a=this;return F(this,function(l){switch(l.label){case 0:if(this._isDisposed)throw new Oe({code:rt.COLLECTION_DISPOSED,message:"Collection has been disposed."});return this._hasPrevious?(t=Math.floor(this._limit/2),e=this.viewTop,r=[],[4,Ei(function(){return H(a,void 0,void 0,function(){var d;return F(this,function(h){switch(h.label){case 0:return d=this._filterUnderOffsetMessage,[4,this._getLocalMessages(e,{prevLimit:t,inclusive:!1})];case 1:return r=d.apply(this,[h.sent()]),[2]}})})})]):[2,[]];case 1:return l.sent(),r.length<t||!this._backgroundSync||!this._backgroundSync.isWrappingMessages(r)?[4,Ei(function(){return H(a,void 0,void 0,function(){var d,h,f,_,g,E=this;return F(this,function(w){switch(w.label){case 0:return d=Se.of(this._iid).cacheContext,[4,this._getRemoteMessages(e,{prevLimit:t,reverse:!0,checkingContinuousMessages:d.localCacheEnabled})];case 1:return h=w.sent(),r=(r=this._filterUnderOffsetMessage(h.messages)).filter(function(x){return Ds(E._messages,x)<0}),this._hasPrevious=r.length>=t,r.length>0&&((f=this._syncRange).extends.apply(f,nt([],Wn(r.map(function(x){return x.createdAt})),!1)),!((_=this._backgroundSync)===null||_===void 0)&&_.range.overlap(this._syncRange)&&h.isContinuousMessages&&((g=this._backgroundSync)===null||g===void 0||g.range.extends(this._syncRange.top))),[2]}})})})]:[3,3];case 2:return l.sent(),this._addMessagesToView(r,rn.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=r.length>=t,r.length>0&&this._addMessagesToView(r,rn.REQUEST_MESSAGE),l.label=4;case 4:return[2,r]}})})},n.prototype.loadNext=function(){var t;return H(this,void 0,void 0,function(){var e,r,a,l=this;return F(this,function(d){switch(d.label){case 0:if(this._isDisposed)throw new Oe({code:rt.COLLECTION_DISPOSED,message:"Collection has been disposed."});return this._hasNext?(e=Math.floor(this._limit/2),r=this.viewBottom,a=[],[4,Ei(function(){return H(l,void 0,void 0,function(){var h;return F(this,function(f){switch(f.label){case 0:return h=this._filterUnderOffsetMessage,[4,this._getLocalMessages(r,{nextLimit:e,inclusive:!1})];case 1:return a=h.apply(this,[f.sent()]),[2]}})})})]):[2,[]];case 1:return d.sent(),a.length<e||!(!((t=this._backgroundSync)===null||t===void 0)&&t.isWrappingMessages(a))?[4,Ei(function(){return H(l,void 0,void 0,function(){var h,f,_,g,E,w=this;return F(this,function(x){switch(x.label){case 0:return h=Se.of(this._iid).cacheContext,[4,this._getRemoteMessages(r,{nextLimit:e,reverse:!0,checkingContinuousMessages:h.localCacheEnabled})];case 1:return f=x.sent(),a=(a=this._filterUnderOffsetMessage(f.messages)).filter(function(T){return Ds(w._messages,T)<0}),this._hasNext=a.length>=e,a.length>0&&((_=this._syncRange).extends.apply(_,nt([],Wn(a.map(function(T){return T.createdAt})),!1)),!((g=this._backgroundSync)===null||g===void 0)&&g.range.overlap(this._syncRange)&&f.isContinuousMessages&&((E=this._backgroundSync)===null||E===void 0||E.range.extends(this._syncRange.bottom))),[2]}})})})]:[3,3];case 2:return d.sent(),this._addMessagesToView(a,rn.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=a.length>=e,a.length>0&&this._addMessagesToView(a,rn.REQUEST_MESSAGE),d.label=4;case 4:return[2,a]}})})},n.prototype.removeFailedMessage=function(t){return H(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:if(this._isDisposed)throw new Oe({code:rt.COLLECTION_DISPOSED,message:"Collection has been disposed."});return[4,this._channelManager.removeFailedMessageFromCache(t)];case 1:return r.sent(),(e=this._unsentMessages.findIndex(function(a){return a.reqId===t}))>-1&&this._unsentMessages.splice(e,1),[2]}})})},n.prototype.dispose=function(){var t,e,r;if(!this._isDisposed){this._isDisposed=!0;var a=Se.of(this._iid),l=a.cacheContext,d=a.dispatcher;this._messages=[],this._clearCheckMyMutedTimer(),this._channel._updateMessageCollectionLastAccessedAt();var h=this._createChannelUpdateEventCommand(rn.CHANNEL_LASTACCESSEDAT_UPDATED);h&&d.dispatch(h),l.localCacheEnabled&&(this._prevFill.stop(),this._nextFill.stop()),(t=this._backgroundSync)===null||t===void 0||t.close(),(e=this._changelogSync)===null||e===void 0||e.close(),(r=this._pollChangelogSync)===null||r===void 0||r.close(),this._channelManager.unsubscribeChannelEvent(this._key),this._channelManager.unsubscribeMessageEvent(this._key),this._connectionEventContext&&this._connectionEventContext.close()}},n}(),spe=function(n){function t(e,r){return n.call(this,e,ge(ge({},r),{channelManager:Bi.of(e)}))||this}return re(t,n),t.prototype.setMessageCollectionHandler=function(e){this._setBaseMessageCollectionHandler(e)},t}(ape),ope={coverUrl:void 0,coverImage:void 0,isDistinct:void 0,isPublic:void 0,isDiscoverable:void 0,accessCode:void 0,name:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,messageSurvivalSeconds:void 0},lpe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.token,d=e.limit,h=e.order,f=e.mutedMemberFilter,_=e.memberStateFilter,g=e.nicknameStartsWithFilter,E=e.operatorFilter;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Ia,"/").concat(encodeURIComponent(a),"/members"),r.params={token:l,limit:d,order:h,muted_member_filter:f,member_state_filter:_,nickname_startswith:g,operator_filter:E,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return re(t,n),t}(fn),cpe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.members=[];var l=r.next,d=r.members;return a.token=l,d&&d.length>0&&(a.members=d.map(function(h){return new bo(e,h)})),a}return re(t,n),t}(vn);(function(n){n.ALL="all",n.MUTED="muted",n.UNMUTED="unmuted"})(I_||(I_={})),function(n){n.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",n.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(N_||(N_={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(A_||(A_={}));var dpe=function(n){function t(e,r,a){var l,d,h,f,_=this;return(_=n.call(this,e,r,Dt.GROUP,a)||this).mutedMemberFilter=I_.ALL,_.memberStateFilter=A_.ALL,_.nicknameStartsWithFilter=null,_.operatorFilter=m1.ALL,_.order=N_.MEMBER_NICKNAME_ALPHABETICAL,_.mutedMemberFilter=(l=a.mutedMemberFilter)!==null&&l!==void 0?l:I_.ALL,_.memberStateFilter=(d=a.memberStateFilter)!==null&&d!==void 0?d:A_.ALL,_.nicknameStartsWithFilter=(h=a.nicknameStartsWithFilter)!==null&&h!==void 0?h:null,_.order=(f=a.order)!==null&&f!==void 0?f:N_.MEMBER_NICKNAME_ALPHABETICAL,_}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&Et(I_,this.mutedMemberFilter)&&Et(A_,this.memberStateFilter)&&(ye("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&Et(m1,this.operatorFilter)&&Et(N_,this.order)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new lpe(Jn(ge(ge({},this),{token:this._token}))),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(cpe),d=l.members,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Nc),upe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.userId,d=e.accessCode;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Ia,"/").concat(encodeURIComponent(a),"/accept"),r.params={user_id:l,access_code:d},r}return re(t,n),t}(fn),hpe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ks(e,r),a.channel.myMemberState=ni.JOINED,a}return re(t,n),t}(vn),ppe=function(n){function t(e){var r=this,a=e.channelUrl,l=e.isDistinct,d=e.isPublic,h=e.isDiscoverable,f=e.coverUrl,_=e.coverImage,g=e.accessCode,E=e.name,w=e.data,x=e.customType,T=e.operatorUserIds,N=e.messageSurvivalSeconds;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Ia,"/").concat(encodeURIComponent(a)),r.params=Kn({is_distinct:l,is_public:d,is_discoverable:h,name:E,data:w,custom_type:x,cover_url:f,cover_file:_,access_code:g,operator_ids:T,message_survival_seconds:N}),r}return re(t,n),t}(fn),fpe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ks(e,r),a}return re(t,n),t}(vn),_pe=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Ia,"/").concat(encodeURIComponent(a)),r}return re(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(vn);var mpe=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Ia,"/").concat(encodeURIComponent(a),"/hide"),r}return re(t,n),t}(fn);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}re(t,n)})(vn);var vpe=function(n){function t(e){var r=e.userId,a=e.channelUrl,l=e.countPreference,d=n.call(this)||this;return d.method=pn.PUT,d.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(a)),d.params={count_preference:l},d}return re(t,n),t}(fn),gpe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.countPreference=r.count_preference,a}return re(t,n),t}(vn),bpe=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Ia,"/").concat(encodeURIComponent(a),"/reset_user_history"),r}return re(t,n),t}(fn),ype=function(n){function t(e,r){var a=n.call(this,e,r)||this,l=r.ts_message_offset;return a.messageOffsetTimestamp=l,a}return re(t,n),t}(vn),Epe=ge(ge({},ZT),{scheduledAt:void 0,file:void 0,fileUrl:void 0,fileName:void 0,mimeType:void 0,fileSize:void 0,thumbnailSizes:void 0,requireAuth:!1}),wpe=ge(ge({},K9),{scheduledAt:void 0}),xpe=function(n){function t(e){var r,a=this;a=n.call(this)||this;var l=[];e.mentionType===sa.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map(function(_){return _.userId})));var d=e.channelType,h=e.channelUrl,f=e.scheduledMessageId;return a.method=pn.PUT,a.path="".concat(Zt(d),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),a.params=Kn(Jn({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:X0.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(_){return hp.payloadify(_)}):[],custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:l,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(_){return ts.payloadify(_)}),apple_critical_alert_options:e.appleCriticalAlertOptions?To.payloadify(e.appleCriticalAlertOptions):null,push_option:e.pushNotificationDeliveryOption})),a}return re(t,n),t}(fn),Spe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new di(e,r),a}return re(t,n),t}(vn),Tpe=function(n){function t(e){var r,a=this;a=n.call(this)||this;var l=[];e.mentionType===sa.USERS&&(e.mentionedUserIds?l=e.mentionedUserIds:e.mentionedUsers&&(l=e.mentionedUsers.map(function(_){return _.userId})));var d=e.channelType,h=e.channelUrl,f=e.scheduledMessageId;return a.method=pn.PUT,a.path="".concat(Zt(d),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),a.params=Kn(Jn({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:X0.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:l,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(_){return ts.payloadify(_)}),apple_critical_alert_options:e.appleCriticalAlertOptions?To.payloadify(e.appleCriticalAlertOptions):null,target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption})),a}return re(t,n),t}(fn);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new ra(e,r),a}re(t,n)})(vn);var Cpe=function(n){function t(e){var r=n.call(this)||this,a=e.channelType,l=e.channelUrl,d=e.scheduledMessageId;return r.method=pn.DELETE,r.path="".concat(Zt(a),"/").concat(encodeURIComponent(l),"/scheduled_messages/").concat(encodeURIComponent(d)),r}return re(t,n),t}(fn),kpe=function(n){function t(e){var r=n.call(this)||this,a=e.channelType,l=e.channelUrl,d=e.scheduledMessageId;return r.method=pn.POST,r.path="".concat(Zt(a),"/").concat(encodeURIComponent(l),"/scheduled_messages/").concat(encodeURIComponent(d),"/send_now"),r}return re(t,n),t}(fn),Ipe=function(n){function t(e){var r=e.userId,a=e.channelUrl,l=e.pushTriggerOption,d=n.call(this)||this;return d.method=pn.PUT,d.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(a)),d.params={push_trigger_option:l},d}return re(t,n),t}(fn),Npe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a.enabled=r.enable,a}return re(t,n),t}(vn),Ape=function(n){function t(e){var r=e.userId,a=e.channelUrl,l=n.call(this)||this;return l.method=pn.GET,l.path="".concat(Ht,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(a)),l}return re(t,n),t}(fn),Ope=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a.enabled=r.enable,a}return re(t,n),t}(vn),Rpe=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,d=n.call(this)||this;return d.method=pn.POST,d.path="".concat(Zt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(l,"/pin"),d}return re(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(vn);var Mpe=function(n){function t(e){var r=e.channelType,a=e.channelUrl,l=e.messageId,d=n.call(this)||this;return d.method=pn.DELETE,d.path="".concat(Zt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(l,"/pin"),d}return re(t,n),t}(fn);(function(n){function t(e,r){return n.call(this,e,r)||this}re(t,n)})(vn);var Bs,ga,Dpe=function(n){function t(e,r){var a=n.call(this,e)||this;return a.message=Ga(e,r.message),a}return re(t,n),t}(qa),Lpe=function(n){function t(e){var r=this,a=e.channelType,l=e.channelUrl,d=e.limit,h=e.token,f=e.includeReactions,_=e.includeMetaArray,g=e.includeParentMessageInfo,E=e.includeThreadInfo,w=e.includePollDetails;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Zt(a),"/").concat(encodeURIComponent(l),"/pinned_messages"),r.params=Kn({limit:d,token:h,include_reactions:f,with_sorted_meta_array:_,include_thread_info:E,include_parent_message_info:g,include_poll_details:w}),r}return re(t,n),t}(fn),Upe=function(n){function t(e,r){var a=n.call(this,e,r)||this,l=r.pinned_messages,d=r.has_more,h=r.next;return a.pinnedMessages=l.map(function(f){return new Dpe(e,f)}),a.hasMore=d,a.token=h,a}return re(t,n),t}(vn),Ppe=function(n){function t(e,r,a,l){var d=n.call(this,e,r,a,l)||this;return d.includeMetaArray=l.includeMetaArray,d.includeReactions=l.includeReactions,d.includeParentMessageInfo=l.includeParentMessageInfo,d.includeThreadInfo=l.includeThreadInfo,d.includePollDetails=l.includePollDetails,d}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ye("boolean",this.includeMetaArray,!0)&&ye("boolean",this.includeReactions,!0)&&ye("boolean",this.includeParentMessageInfo,!0)&&ye("boolean",this.includeThreadInfo,!0)&&ye("boolean",this.includePollDetails,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Lpe(ge(ge({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=_.sent(),l=a.as(Upe),d=l.pinnedMessages,h=l.hasMore,f=l.token,this._token=f,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Nc);(function(n){n.ALL="all",n.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",n.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",n.OFF="off"})(Bs||(Bs={})),function(n){n.UNHIDDEN="unhidden",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(ga||(ga={}));var Ks=function(n){function t(e,r){var a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U,M,R,I,D=this;return(D=n.call(this,e,r)||this)._unreadMemberStateMap=new Map,D._undeliveredMemberStateMap=new Map,D._typingStatus=new Map,D._lastMemberCountUpdated=0,D._typingStarted=0,D._typingEnded=0,D.isDistinct=!1,D.isSuper=!1,D.isBroadcast=!1,D.isExclusive=!1,D.isPublic=!1,D.isDiscoverable=!0,D.isChatNotification=!1,D.isAccessCodeRequired=!1,D.isPushEnabled=!1,D.unreadMessageCount=0,D.unreadMentionCount=0,D.members=[],D.memberCount=0,D.joinedMemberCount=0,D.hiddenState=ga.UNHIDDEN,D.lastMessage=null,D.messageOffsetTimestamp=0,D.messageSurvivalSeconds=-1,D.myMemberState=ni.NONE,D.myRole=go.NONE,D.myMutedState=Il.UNMUTED,D.myLastRead=0,D.myCountPreference=Bs.ALL,D.myPushTriggerOption=Gu.DEFAULT,D.inviter=null,D.invitedAt=0,D.joinedAt=0,D.pinnedMessageIds=[],D.lastPinnedMessage=null,D._pinnedMessagesUpdatedAt=0,D._myMutedRemainingTime=-1,D.channelType=Dt.GROUP,D.isDistinct=(l=r.is_distinct)!==null&&l!==void 0&&l,D.isSuper=(d=r.is_super)!==null&&d!==void 0&&d,D.isBroadcast=(h=r.is_broadcast)!==null&&h!==void 0&&h,D.isExclusive=(f=r.is_exclusive)!==null&&f!==void 0&&f,D.isPublic=(_=r.is_public)!==null&&_!==void 0&&_,D.isDiscoverable=(g=r.is_discoverable)!==null&&g!==void 0?g:D.isPublic,D.isChatNotification=(E=r.is_chat_notification)!==null&&E!==void 0&&E,D.isAccessCodeRequired=(w=r.is_access_code_required)!==null&&w!==void 0&&w,D.isPushEnabled=(x=r.is_push_enabled)!==null&&x!==void 0&&x,Array.isArray(r.members)&&(a=D.members).push.apply(a,nt([],Wn(r.members.map(function(q){return new bo(D._iid,q)})),!1)),D.memberCount=(T=r.member_count)!==null&&T!==void 0?T:0,D.joinedMemberCount=(N=r.joined_member_count)!==null&&N!==void 0?N:0,D.hiddenState=Et(ga,r.hidden_state)?r.hidden_state:ga.UNHIDDEN,D.messageOffsetTimestamp=(P=r.ts_message_offset)!==null&&P!==void 0?P:0,D.messageSurvivalSeconds=(k=r.message_survival_seconds)!==null&&k!==void 0?k:-1,D.lastMessage=r.last_message?Ga(D._iid,ge({channel_type:D.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach(function(q){ye("number",r.read_receipt[q])&&D._updateUnreadMemberState(q,r.read_receipt[q])}),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach(function(q){ye("number",r.delivery_receipt[q])&&D._updateUndeliveredMemberState(q,r.delivery_receipt[q])}),D.myMemberState=Et(ni,r.member_state)?r.member_state:ni.NONE,D.myRole=Et(go,r.my_role)?r.my_role:go.NONE,Et(Il,r.is_muted)?D.myMutedState=r.is_muted:ye("boolean",r.is_muted)?D.myMutedState=r.is_muted?Il.MUTED:Il.UNMUTED:D.myMutedState=Il.UNMUTED,D.myCountPreference=Et(Bs,r.count_preference)?r.count_preference:Bs.ALL,D.myPushTriggerOption=Et(Gu,r.push_trigger_option)?r.push_trigger_option:Gu.ALL,D.myLastRead=(C=r.user_last_read)!==null&&C!==void 0?C:0,D.inviter=r.inviter?new kt(D._iid,r.inviter):null,D.invitedAt=(A=r.invited_at)!==null&&A!==void 0?A:0,D.joinedAt=(U=r.joined_ts)!==null&&U!==void 0?U:0,D._updateUnreadCount((M=r.unread_message_count)!==null&&M!==void 0?M:0,(R=r.unread_mention_count)!==null&&R!==void 0?R:0),D.pinnedMessageIds=(I=r.pinned_message_ids)!==null&&I!==void 0?I:[],D.lastPinnedMessage=r.latest_pinned_message?Ga(D._iid,ge({channel_type:D.channelType},r.latest_pinned_message)):null,D}return re(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.hiddenState!==ga.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTyping",{get:function(){return this._typingStatus.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUnreadMemberState",{get:function(){var e,r,a={};try{for(var l=Cn(this._unreadMemberStateMap),d=l.next();!d.done;d=l.next()){var h=Wn(d.value,2),f=h[0],_=h[1];a[f]=_}}catch(g){e={error:g}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return a},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUndeliveredMemberState",{get:function(){var e,r,a={};try{for(var l=Cn(this._undeliveredMemberStateMap),d=l.next();!d.done;d=l.next()){var h=Wn(d.value,2),f=h[0],_=h[1];a[f]=_}}catch(g){e={error:g}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return a},enumerable:!1,configurable:!0}),t.payloadify=function(e){return Kn(Jn(ge(ge({},n.payloadify.call(this,e)),{is_access_code_required:e.isAccessCodeRequired,is_distinct:e.isDistinct,is_super:e.isSuper,is_broadcast:e.isBroadcast,is_exclusive:e.isExclusive,is_public:e.isPublic,is_discoverable:e.isDiscoverable,is_muted:e.myMutedState,is_push_enabled:e.isPushEnabled,unread_message_count:e.unreadMessageCount,unread_mention_count:e.unreadMentionCount,push_trigger_option:e.myPushTriggerOption,count_preference:e.myCountPreference,hidden_state:e.hiddenState,member_count:e.memberCount,joined_member_count:e.joinedMemberCount,member_state:e.myMemberState,my_role:e.myRole,user_last_read:e.myLastRead,ts_message_offset:e.messageOffsetTimestamp,message_survival_seconds:e.messageSurvivalSeconds,read_receipt:e.cachedUnreadMemberState,delivery_receipt:e.cachedUndeliveredMemberState,members:e.members.map(function(r){return bo.payloadify(r)}),last_message:e.lastMessage?i8(e.lastMessage):null,inviter:e.inviter?kt.payloadify(e.inviter):null,invited_at:e.invitedAt,joined_ts:e.joinedAt,pinned_message_ids:e.pinnedMessageIds,latest_pinned_message:e.lastPinnedMessage?i8(e.lastPinnedMessage):null})))},t.prototype._shouldUpdateLastMessageWith=function(e){return!(e instanceof Di&&e.parentMessageId>0&&!e.replyToChannel)&&(!this.lastMessage||this.lastMessage.createdAt<e.createdAt||this.lastMessage.createdAt===e.createdAt&&this.lastMessage.messageId===e.messageId&&this.lastMessage.updatedAt<e.updatedAt)},t.prototype._updateUnreadCount=function(e,r){if(typeof e=="number"&&e>=0)if(this.myCountPreference===Bs.ALL||this.myCountPreference===Bs.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var a=Se.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=a&&e>=a?a:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===Bs.ALL||this.myCountPreference===Bs.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},t.prototype._updateUnreadMemberState=function(e,r){var a=this._unreadMemberStateMap.get(e);return(!a||a<r)&&(this._unreadMemberStateMap.set(e,r),Se.of(this._iid).sdkState.userId===e&&(this.myLastRead=r),!0)},t.prototype._updateUndeliveredMemberState=function(e,r){var a=this._undeliveredMemberStateMap.get(e);return(!a||a<r)&&(this._undeliveredMemberStateMap.set(e,r),!0)},t.prototype._updateTypingStatus=function(e,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus.set(e.userId,{user:e,ts:r}):this._typingStatus.delete(e.userId)},t.prototype._clearTypingStatus=function(){this._typingStatus.clear(),this._typingStarted=0,this._typingEnded=0},t.prototype._setLatestMemberCount=function(e,r,a){var l=!1;return a>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=a,l=e!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=e,this.joinedMemberCount=r),l},t.prototype.isReadMessage=function(e){var r=Se.of(this._iid).sdkState,a=this._unreadMemberStateMap.get(r.userId);return!!a&&a>=e.createdAt},t.prototype.serialize=function(){var e=this;return up(this,function(r){r.cachedUnreadMemberState=e.cachedUnreadMemberState,r.cachedUndeliveredMemberState=e.cachedUndeliveredMemberState})},t.prototype.createMessageCollection=function(e){return e===void 0&&(e={}),new spe(this._iid,ge(ge({},e),{channel:this}))},t.prototype.createMemberListQuery=function(e){return e===void 0&&(e={}),new dpe(this._iid,this.url,e)},t.prototype.createPinnedMessageListQuery=function(e){return e===void 0&&(e={}),new Ppe(this._iid,this.url,this.channelType,e)},t.prototype.addMember=function(e,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var a=this.members.findIndex(function(d){return d.userId===e.userId});if(a>-1){var l=this.members[a];l.state===ni.JOINED&&(e.state=l.state),this.members.splice(a,1),this.memberCount--}this.members.push(e),this.memberCount++,this._updateUnreadMemberState(e.userId,r),this._updateUndeliveredMemberState(e.userId,r)}},t.prototype.removeMember=function(e){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=e instanceof bo?e.userId:e,a=this.members.findIndex(function(l){return l.userId===r});if(a>-1)return this.members.splice(a,1),this.memberCount--,!0}return!1},t.prototype.getUnreadMemberCount=function(e){var r,a;if(e instanceof Di&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var l=Se.of(this._iid).sdkState,d=e.createdAt,h=0;try{for(var f=Cn(this.members),_=f.next();!_.done;_=f.next()){var g=_.value;l.userId!==g.userId&&g.state===ni.JOINED&&e.sender.userId!==g.userId&&(this.cachedUnreadMemberState[g.userId]||0)<d&&h++}}catch(E){r={error:E}}finally{try{_&&!_.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return h}return 0},t.prototype.getUndeliveredMemberCount=function(e){var r,a;if(e instanceof Di&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var l=Se.of(this._iid).sdkState,d=e.createdAt,h=0;try{for(var f=Cn(this.members),_=f.next();!_.done;_=f.next()){var g=_.value;l.userId!==g.userId&&g.state===ni.JOINED&&e.sender.userId!==g.userId&&(this.cachedUndeliveredMemberState[g.userId]||0)<d&&h++}}catch(E){r={error:E}}finally{try{_&&!_.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return h}return 0},t.prototype.getReadMembers=function(e,r){var a=this;r===void 0&&(r=!1);var l=Se.of(this._iid).sdkState;if(!l.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var d=e instanceof Di?e.sender:null,h=[];return this.members.forEach(function(f){if(r||f.userId!==l.userId&&f.userId!==(d==null?void 0:d.userId)){var _=a._unreadMemberStateMap.get(f.userId);_&&_>=e.createdAt&&h.push(f)}}),h},t.prototype.getUnreadMembers=function(e,r){var a=this;r===void 0&&(r=!1);var l=Se.of(this._iid).sdkState;if(!l.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var d=e instanceof Di?e.sender:null,h=[];return this.members.forEach(function(f){if(r||f.userId!==l.userId&&f.userId!==(d==null?void 0:d.userId)){var _=a._unreadMemberStateMap.get(f.userId);_&&_<e.createdAt&&h.push(f)}}),h},t.prototype.getReadStatus=function(e){var r=this;e===void 0&&(e=!1);var a=Se.of(this._iid).sdkState;if(!a.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var l={};return this.members.forEach(function(d){if(e||d.userId!==a.userId){var h=r._unreadMemberStateMap.get(d.userId);l[d.userId]=new OF(r._iid,{channel_url:r.url,channel_type:r.channelType,user:bo.payloadify(d),ts:h??0})}}),l},t.prototype.getTypingUsers=function(){var e=[];return this._typingStatus.forEach(function(r){var a=r.user;e.push(a)}),e},t.prototype.invalidateTypingStatus=function(){var e=this,r=Se.of(this._iid).typingIndicatorInvalidateTime,a=Date.now(),l=!1;return this._typingStatus.forEach(function(d,h){var f=d.ts;a-f>=r&&(e._typingStatus.delete(h),l=!0)}),l},t.prototype.refresh=function(){return H(this,void 0,void 0,function(){return F(this,function(e){return[2,this._refresh()]})})},t.prototype._refresh=function(e){return e===void 0&&(e=!1),H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return r=Se.of(this._iid),a=r.requestQueue,l=r.dispatcher,d=new X4({channelUrl:this.url}),[4,a.send(d)];case 1:return h=_.sent(),f=h.as(Z4).channel,this._update(f),e&&l.dispatch(new It({channels:[f],source:rn.REQUEST_CHANNEL})),[2,this]}})})},t.prototype.freeze=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,n.prototype.freeze.call(this)];case 1:return e.sent(),Se.of(this._iid).dispatcher.dispatch(new It({channels:[this],source:rn.EVENT_CHANNEL_FROZEN,isWebSocketEventComing:!0})),[2]}})})},t.prototype.unfreeze=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,n.prototype.unfreeze.call(this)];case 1:return e.sent(),Se.of(this._iid).dispatcher.dispatch(new It({channels:[this],source:rn.EVENT_CHANNEL_UNFROZEN,isWebSocketEventComing:!0})),[2]}})})},t.prototype.updateChannel=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return r=ge(ge({},ope),e),_n(function(E){return ye("string",E.coverUrl,!0)&&(Li(E.coverImage)||ye("string",E.coverImage,!0))&&ye("boolean",E.isDistinct,!0)&&ye("boolean",E.isPublic,!0)&&ye("boolean",E.isDiscoverable,!0)&&ye("string",E.accessCode,!0)&&ye("string",E.name,!0)&&ye("string",E.data,!0)&&ye("string",E.customType,!0)&&St("string",E.operatorUserIds,!0)&&ye("number",E.messageSurvivalSeconds,!0)}(r)).throw(Oe.invalidParameters),a=Se.of(this._iid),l=a.dispatcher,d=a.requestQueue,h=new ppe(ge({channelUrl:this.url},r)),[4,d.send(h)];case 1:return f=g.sent(),_=f.as(fpe).channel,this._update(_),l.dispatch(new It({channels:[_],source:rn.EVENT_CHANNEL_UPDATED,isWebSocketEventComing:!0})),[2,this]}})})},t.prototype.invite=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(e.every(function(a){return a instanceof kt})).throw(Oe.invalidParameters),[2,this.inviteWithUserIds(e.map(function(a){return a.userId}))]})})},t.prototype.inviteWithUserIds=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f;return F(this,function(_){switch(_.label){case 0:return _n(St("string",e)).throw(Oe.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,l=r.requestQueue,d=new R0e({channelUrl:this.url,userIds:e}),[4,l.send(d)];case 1:return h=_.sent(),f=h.as(M0e).channel,this._update(f),a.dispatch(new It({channels:[f],source:rn.EVENT_CHANNEL_INVITED,isWebSocketEventComing:!0})),[2,this]}})})},t.prototype.join=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return _n(ye("string",e,!0)).throw(Oe.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,l=r.sdkState,d=r.requestQueue,h=new k0e({channelUrl:this.url,userId:l.userId,accessCode:e}),[4,d.send(h)];case 1:return f=g.sent(),(_=f.as(I0e).channel).myMemberState=this.myMemberState=ni.JOINED,this._update(_),a.dispatch(new It({channels:[_],source:rn.EVENT_CHANNEL_JOINED,isWebSocketEventComing:!0})),[2,this]}})})},t.prototype.leave=function(e){return e===void 0&&(e=!1),H(this,void 0,void 0,function(){var r,a,l,d;return F(this,function(h){switch(h.label){case 0:return r=Se.of(this._iid),a=r.sdkState,l=r.requestQueue,d=new A0e({channelUrl:this.url,userId:a.userId,shouldRemoveOperatorStatus:e}),[4,l.send(d)];case 1:return h.sent(),this.myMemberState=ni.NONE,[2]}})})},t.prototype.acceptInvitation=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return _n(ye("string",e,!0)).throw(Oe.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,l=r.sdkState,d=r.requestQueue,h=new upe({channelUrl:this.url,userId:l.userId,accessCode:e}),[4,d.send(h)];case 1:return f=g.sent(),(_=f.as(hpe).channel).myMemberState=this.myMemberState=ni.JOINED,this._update(_),a.dispatch(new It({channels:[_],source:rn.EVENT_CHANNEL_ACCEPTED_INVITE,isWebSocketEventComing:!0})),[2,this]}})})},t.prototype.declineInvitation=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new L0e({channelUrl:this.url,userId:r.userId}),[4,a.send(l)];case 1:return d.sent(),this.myMemberState=ni.NONE,[2,this]}})})},t.prototype.sendUserMessage=function(e){var r=this,a=new Sl,l=Se.of(this._iid).dispatcher,d=Xf.of(this._iid);return n.prototype.sendUserMessage.call(this,e).onPending(function(h){d.completeCurrentAndProcessNextAutoResend(h),a._trigger(h)}).onFailed(function(h,f){f&&d.completeCurrentAndProcessNextAutoResend(f),a._triggerFailed(h,f)}).onSucceeded(function(h){r.hiddenState===ga.HIDDEN_ALLOW_AUTO_UNHIDE&&(r.hiddenState=ga.UNHIDDEN),d.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),Bi.of(r._iid).handlers.map(function(f){f.onChannelChanged&&f.onChannelChanged(r)}),l.dispatch(new It({channels:[r],source:rn.EVENT_MESSAGE_SENT})),a._trigger(h)}),a},t.prototype.updateUserMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,d,h,f=this;return F(this,function(_){switch(_.label){case 0:return a=Se.of(this._iid).dispatcher,[4,n.prototype.updateUserMessage.call(this,e,r)];case 1:return l=_.sent(),d=!1,!l.silent&&this._shouldUpdateLastMessageWith(l)&&(this.lastMessage=l,d=!0),h=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===l.messageId&&(this.lastPinnedMessage=l,d=!0,h=!0),d&&(Bi.of(this._iid).handlers.map(function(g){g.onChannelChanged&&g.onChannelChanged(f)}),a.dispatch(new It({channels:[this],source:h?rn.EVENT_PINNED_MESSAGE_UPDATED:rn.EVENT_MESSAGE_UPDATED}))),h&&Bi.of(this._iid).handlers.map(function(g){g.onPinnedMessageUpdated&&g.onPinnedMessageUpdated(f)}),a.dispatch(new Kr({messages:[l],source:rn.EVENT_MESSAGE_UPDATED})),[2,l]}})})},t.prototype._autoResendUserMessage=function(e){var r=this,a=new Sl,l=Se.of(this._iid).dispatcher,d=Xf.of(this._iid);return n.prototype._autoResendUserMessage.call(this,e).onPending(function(h){d.completeCurrentAndProcessNextAutoResend(h),a._trigger(h)}).onFailed(function(h,f){d.completeCurrentAndProcessNextAutoResend(f),a._triggerFailed(h,f)}).onSucceeded(function(h){var f=Bi.of(r._iid);d.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(_){_.onChannelChanged&&_.onChannelChanged(r)}),l.dispatch(new It({channels:[r],source:rn.EVENT_MESSAGE_SENT})),a._trigger(h)}),a},t.prototype.sendFileMessage=function(e){var r=this,a=new Sl,l=Se.of(this._iid).dispatcher,d=Xf.of(this._iid);return n.prototype.sendFileMessage.call(this,e).onPending(function(h){d.completeCurrentAndProcessNextAutoResend(h),a._trigger(h)}).onFailed(function(h,f){f&&d.completeCurrentAndProcessNextAutoResend(f),a._triggerFailed(h,f)}).onSucceeded(function(h){var f=Bi.of(r._iid);d.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(_){_.onChannelChanged&&_.onChannelChanged(r)}),l.dispatch(new It({channels:[r],source:rn.EVENT_MESSAGE_SENT})),a._trigger(h)}),a},t.prototype.sendMultipleFilesMessage=function(e){var r=this,a=new cF,l=Se.of(this._iid).dispatcher;return n.prototype.sendMultipleFilesMessage.call(this,e).onPending(function(d){a._trigger(d)}).onFailed(function(d,h){a._triggerFailed(d,h)}).onSucceeded(function(d){var h=Bi.of(r._iid);r._shouldUpdateLastMessageWith(d)&&(r.lastMessage=d),h.handlers.map(function(f){f.onChannelChanged&&f.onChannelChanged(r)}),l.dispatch(new It({channels:[r],source:rn.EVENT_MESSAGE_SENT})),a._trigger(d)}).onFileUploaded(function(d,h,f,_){a._triggerOnFileUploaded(d,h,f,_)}),a},t.prototype.updateFileMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,d,h,f=this;return F(this,function(_){switch(_.label){case 0:return a=Se.of(this._iid).dispatcher,[4,n.prototype.updateFileMessage.call(this,e,r)];case 1:return l=_.sent(),d=!1,!l.silent&&this._shouldUpdateLastMessageWith(l)&&(this.lastMessage=l,d=!0),h=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===l.messageId&&(this.lastPinnedMessage=l,d=!0,h=!0),d&&(Bi.of(this._iid).handlers.map(function(g){g.onChannelChanged&&g.onChannelChanged(f)}),a.dispatch(new It({channels:[this],source:h?rn.EVENT_PINNED_MESSAGE_UPDATED:rn.EVENT_MESSAGE_UPDATED}))),h&&Bi.of(this._iid).handlers.map(function(g){g.onPinnedMessageUpdated&&g.onPinnedMessageUpdated(f)}),a.dispatch(new Kr({messages:[l],source:rn.EVENT_MESSAGE_UPDATED})),[2,l]}})})},t.prototype._autoResendFileMessage=function(e){var r=this,a=new Sl,l=Se.of(this._iid).dispatcher,d=Xf.of(this._iid);return n.prototype._autoResendFileMessage.call(this,e).onPending(function(h){d.completeCurrentAndProcessNextAutoResend(h),a._trigger(h)}).onFailed(function(h,f){d.completeCurrentAndProcessNextAutoResend(f),a._triggerFailed(h,f)}).onSucceeded(function(h){var f=Bi.of(r._iid);d.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(_){_.onChannelChanged&&_.onChannelChanged(r)}),l.dispatch(new It({channels:[r],source:rn.EVENT_MESSAGE_SENT})),a._trigger(h)}),a},t.prototype.deleteMessage=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,n.prototype.deleteMessage.call(this,e)];case 1:return r.sent(),e.messageId===0&&e instanceof Di&&Se.of(this._iid).dispatcher.dispatch(new F9({reqId:e.reqId,source:rn.EVENT_MESSAGE_DELETED})),[2]}})})},t.prototype.hide=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g;return F(this,function(E){switch(E.label){case 0:return r=ge(ge({},J4),e),_n(function(w){return ye("boolean",w.hidePreviousMessages,!0)&&ye("boolean",w.allowAutoUnhide,!0)}(r)).throw(Oe.invalidParameters),a=Se.of(this._iid),l=a.dispatcher,d=a.sdkState,h=a.requestQueue,f=new P0e(ge({channelUrl:this.url,userId:d.userId},r)),[4,h.send(f)];case 1:return _=E.sent(),g=_.as(F0e).messageOffsetTimestamp,this.hiddenState=r.allowAutoUnhide?ga.HIDDEN_ALLOW_AUTO_UNHIDE:ga.HIDDEN_PREVENT_AUTO_UNHIDE,r.hidePreviousMessages&&this._updateUnreadCount(0,0),g&&(this.messageOffsetTimestamp=g),l.dispatch(new It({channels:[this],source:rn.EVENT_CHANNEL_HIDDEN,isWebSocketEventComing:!0})),[2,this]}})})},t.prototype.unhide=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return e=Se.of(this._iid),r=e.dispatcher,a=e.requestQueue,l=new mpe({channelUrl:this.url}),[4,a.send(l)];case 1:return d.sent(),this.hiddenState=ga.UNHIDDEN,r.dispatch(new It({channels:[this],source:rn.EVENT_CHANNEL_UNHIDDEN,isWebSocketEventComing:!0})),[2,this]}})})},t.prototype.delete=function(){return H(this,void 0,void 0,function(){var e,r;return F(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new _pe({channelUrl:this.url}),[4,e.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.markAsRead=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_=this;return F(this,function(g){switch(g.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.dispatcher,l=e.requestQueue,d=new $0e({channelUrl:this.url}),[4,l.send(d)];case 1:return h=g.sent(),f=h.as(UF).readStatus,this._updateUnreadMemberState(r.userId,f.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),Bi.of(this._iid).handlers.map(function(E){E.onChannelChanged&&E.onChannelChanged(_)})),a.dispatch(new It({channels:[this],source:rn.EVENT_CHANNEL_READ})),[2]}})})},t.prototype.markAsDelivered=function(){return H(this,void 0,void 0,function(){var e,r,a,l;return F(this,function(d){switch(d.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new W0e({channelUrl:this.url,userId:r.userId}),[4,a.send(l)];case 1:return d.sent(),[2]}})})},t.prototype.startTyping=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d;return F(this,function(h){return e=Se.of(this._iid),r=e.requestQueue,a=e.typingIndicatorThrottle,(l=new Date().getTime())-this._typingStarted>=a&&(this._typingStarted=l,this._typingEnded=0,d=new B0e({channelUrl:this.url,time:this._typingStarted}),r.send(d)),[2]})})},t.prototype.endTyping=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d;return F(this,function(h){return e=Se.of(this._iid),r=e.requestQueue,a=e.typingIndicatorThrottle,(l=new Date().getTime())-this._typingEnded>=a&&(this._typingStarted=0,this._typingEnded=l,d=new z0e({channelUrl:this.url,time:this._typingStarted}),r.send(d)),[2]})})},t.prototype.createScheduledUserMessage=function(e){e=ge(ge({},Tue),e),_n(Cue(e)).throw(Oe.invalidParameters);var r=new Sl;return this._createScheduledUserMessage(e,r),r},t.prototype.updateScheduledUserMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,d,h;return F(this,function(f){switch(f.label){case 0:return a=ge(ge({},wpe),r),_n(function(_){return Q9(_)&&ye("number",_.scheduledAt,!0)}(a)).throw(Oe.invalidParameters),l=Se.of(this._iid).requestQueue,d=new Tpe(ge({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},a)),[4,l.send(d)];case 1:return h=f.sent(),[2,h.as(iF).message]}})})},t.prototype.createScheduledFileMessage=function(e){var r=this;e=ge(ge({},kue),e),_n(Iue(e)).throw(Oe.invalidParameters);var a=Date.now(),l=this._generateRequestId(),d=new Sl;return Fs(rue).then(function(){var h=r._createPendingScheduledFileMessage(e,l,a);jn(function(){return H(r,void 0,void 0,function(){return F(this,function(f){return[2,d._trigger(h)]})})})}),Li(e.file)?this._uploadFileAndUpdateParams(e).then(function(){return r._createScheduledFileMessage(e,d,l,a)}):this._createScheduledFileMessage(e,d,l,a),d},t.prototype.updateScheduledFileMessage=function(e,r){return H(this,void 0,void 0,function(){var a,l,d;return F(this,function(h){switch(h.label){case 0:return a=ge(ge({},Epe),r),_n(function(f){return JT(f)&&ye("number",f.scheduledAt,!0)&&(Li(f.file)||ye("string",f.fileUrl))&&ye("string",f.fileName,!0)&&ye("string",f.mimeType,!0)&&ye("number",f.fileSize,!0)&&(f.thumbnailSizes===null||f.thumbnailSizes===void 0||f.thumbnailSizes.every(function(_){return ye("object",_)&&_.maxWidth>0&&_.maxHeight>0}))}(a)).throw(Oe.invalidParameters),Li(a.file)?[4,this._uploadFileAndUpdateParams(a)]:[3,2];case 1:h.sent(),h.label=2;case 2:return l=new xpe(ge({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},a)),[4,Se.of(this._iid).requestQueue.send(l)];case 3:return d=h.sent(),[2,d.as(Spe).message]}})})},t.prototype.cancelScheduledMessage=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=new Cpe({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,Se.of(this._iid).requestQueue.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.sendScheduledMessageNow=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){switch(a.label){case 0:return r=new kpe({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,Se.of(this._iid).requestQueue.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.getMyPushTriggerOption=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,l=new Ape({userId:r.userId,channelUrl:this.url}),[4,a.send(l)];case 1:return d=f.sent(),h=d.as(Ope).pushTriggerOption,this.myPushTriggerOption=h,[2,h]}})})},t.prototype.setMyPushTriggerOption=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return _n(Et(Gu,e)).throw(Oe.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,l=r.sdkState,d=r.requestQueue,h=new Ipe({userId:l.userId,channelUrl:this.url,pushTriggerOption:e}),[4,d.send(h)];case 1:return f=g.sent(),_=f.as(Npe).pushTriggerOption,this.myPushTriggerOption=_,a.dispatch(new It({channels:[this],source:rn.EVENT_CHANNEL_UPDATED,isWebSocketEventComing:!0})),[2,_]}})})},t.prototype.setMyCountPreference=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return _n(Et(Bs,e)).throw(Oe.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,l=r.sdkState,d=r.requestQueue,h=new vpe({channelUrl:this.url,userId:l.userId,countPreference:e}),[4,d.send(h)];case 1:return f=g.sent(),_=f.as(gpe).countPreference,this.myCountPreference=_,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),a.dispatch(new It({channels:[this],source:rn.EVENT_CHANNEL_UPDATED,isWebSocketEventComing:!0})),[2,_]}})})},t.prototype.resetMyHistory=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid),r=e.dispatcher,a=e.requestQueue,l=new bpe({channelUrl:this.url}),[4,a.send(l)];case 1:return d=f.sent(),h=d.as(ype).messageOffsetTimestamp,this.messageOffsetTimestamp=h,this.lastMessage&&this.lastMessage.createdAt<h&&(this.lastMessage=null),r.dispatch(new It({channels:[this],source:rn.EVENT_CHANNEL_RESET_HISTORY,isWebSocketEventComing:!0})),[2,this]}})})},t.prototype.pinMessage=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(ye("number",e)&&e>0).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new Rpe({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype.unpinMessage=function(e){return H(this,void 0,void 0,function(){var r,a;return F(this,function(l){switch(l.label){case 0:return _n(ye("number",e)&&e>0).throw(Oe.invalidParameters),r=Se.of(this._iid).requestQueue,a=new Mpe({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(a)];case 1:return l.sent(),[2]}})})},t.prototype._uploadFileAndUpdateParams=function(e){return H(this,void 0,void 0,function(){var r,a,l,d,h,f,_,g,E,w,x;return F(this,function(T){switch(T.label){case 0:return Li(e.file)?(r=Se.of(this._iid).requestQueue,a=new H4({file:e.file,channelUrl:this.url,thumbnailSizes:e.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(a)]):[3,2];case 1:l=T.sent(),d=l.as(B4),h=d.url,f=d.fileSize,_=f===void 0?e.fileSize:f,g=d.thumbnailSizes,E=g===void 0?e.thumbnailSizes:g,w=d.requireAuth,x=w!==void 0&&w,e.fileUrl=h,e.fileSize=_,e.thumbnailSizes=E,e.requireAuth=x,T.label=2;case 2:return[2]}})})},t}(q4),O_,ed={},Fpe=function(){function n(t){var e=t._iid,r=t.limit,a=r===void 0?100:r,l=this;this.ref=0,this._iid=e,this._limit=a;var d,h=Se.of(this._iid),f=h.sdkState,_=h.dispatcher,g=h.logger,E=h.cacheContext;this._metadataKey=(d=f.userId,"sendbird:".concat(d,"@groupchannel/sync.meta"));var w=function(x){return"sendbird:".concat(x,"@groupchannel/sync")}(f.userId);this._sync=new Ud(w,function(){return H(l,void 0,void 0,function(){var x,T,N,P,k,C,A,U,M,R,I,D;return F(this,function(q){switch(q.label){case 0:return x={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(q.sent(),g.debug("channel background sync from",(M=this._metadata)===null||M===void 0?void 0:M.token),(R=this._metadata)===null||R===void 0?void 0:R.completed)return[3,13];q.label=2;case 2:if(q.trys.push([2,9,,12]),(T={includeEmpty:!0,order:ri.CHRONOLOGICAL}).order!==ri.LATEST_LAST_MESSAGE)return[3,6];q.label=3;case 3:return q.trys.push([3,5,,6]),[4,E.preference.get(WT(f.appId))];case 4:return N=q.sent(),T.includeChatNotification=!!N,[3,6];case 5:return q.sent(),T.includeChatNotification=!1,[3,6];case 6:return[4,Bi.of(this._iid).getMyGroupChannels((D=(I=this._metadata)===null||I===void 0?void 0:I.token)!==null&&D!==void 0?D:"",T,this._limit,rn.SYNC_CHANNEL_BACKGROUND)];case 7:return P=q.sent(),k=P.channels,C=P.token,x.hasNext=k.length>=this._limit&&!!C,x.nextToken=C,this._metadata&&(this._metadata.token=C,(U=this._metadata.range).extends.apply(U,nt([],Wn(k.map(function(z){return z.createdAt})),!1)),this._metadata.completed=!x.hasNext),g.debug("channel background sync progress",x),[4,this.saveMetadata()];case 8:return q.sent(),[3,12];case 9:return A=q.sent(),g.debug("channel background sync error",A),A instanceof Oe&&A.isInvalidTokenError?[4,this.clearMetaData()]:[3,11];case 10:q.sent(),q.label=11;case 11:throw A;case 12:return[3,14];case 13:x.hasNext=!1,x.nextToken="",q.label=14;case 14:return[2,x]}})})}),this._connectionEventContext=_.on(function(x){x instanceof Ss&&(x.stateType===Kt.CONNECTED?l.resume():l.pause())})}return n.of=function(t){return ed[t]||(ed[t]=new n({_iid:t})),ed[t].ref++,ed[t]},n.clear=function(t){ed[t]&&(ed[t].close(),delete ed[t])},Object.defineProperty(n.prototype,"range",{get:function(){var t,e;return(e=(t=this._metadata)===null||t===void 0?void 0:t.range)!==null&&e!==void 0?e:new $o({})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"completed",{get:function(){var t;return!!(!((t=this._metadata)===null||t===void 0)&&t.completed)},enumerable:!1,configurable:!0}),n.prototype.loadMetadata=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,Se.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:t=e.sent(),this._metadata={token:t?t.token:"",range:new $o(t?t.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!t&&t.completed},e.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetaData=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=void 0,[2]}})})},n.prototype.resume=function(){var t,e,r=Se.of(this._iid),a=r.logger;r.connectionManager.isConnected&&(a.debug("channel background sync resume()"),this._sync.start((e=(t=this._metadata)===null||t===void 0?void 0:t.token)!==null&&e!==void 0?e:""))},n.prototype.pause=function(){Se.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete ed[this._iid])},n}(),nd={},Hpe=function(){function n(t){var e=t._iid,r=this;this.ref=0,this._iid=e;var a,l=Se.of(this._iid),d=l.logger,h=l.sdkState,f=l.dispatcher,_=l.cacheContext;this._metadataKey=(a=h.userId,"sendbird:".concat(a,"@groupchannel/changelogs.meta"));var g=function(E){return"sendbird:".concat(E,"@groupchannel/changelogs")}(h.userId);this._sync=new Ud(g,function(){return H(r,void 0,void 0,function(){var E,w,x,T,N,P,k,C,A,U;return F(this,function(M){switch(M.label){case 0:return E={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:M.sent(),d.debug("channel changelog sync from",(C=this._metadata)===null||C===void 0?void 0:C.token),M.label=2;case 2:M.trys.push([2,9,,12]),w={includeEmpty:!0},M.label=3;case 3:return M.trys.push([3,5,,6]),[4,_.preference.get(WT(h.appId))];case 4:return x=M.sent(),w.includeChatNotification=!!x,[3,6];case 5:return M.sent(),w.includeChatNotification=!1,[3,6];case 6:return[4,Bi.of(this._iid).getMyGroupChannelChangeLogs((U=(A=this._metadata)===null||A===void 0?void 0:A.token)!==null&&U!==void 0?U:"",w,rn.SYNC_CHANNEL_CHANGELOGS)];case 7:return T=M.sent(),N=T.hasMore,P=T.token,E.hasNext=N,E.nextToken=P,this._metadata&&(this._metadata.token=P),d.debug("channel changelog sync progress",E),[4,this.saveMetadata()];case 8:return M.sent(),[3,12];case 9:return k=M.sent(),d.debug("channel changelog sync error",k),k instanceof Oe&&k.isInvalidTokenError?[4,this.clearMetadata()]:[3,11];case 10:M.sent(),M.label=11;case 11:throw k;case 12:return[2,E]}})})}),this._connectionEventContext=f.on(function(E){E instanceof Ss&&(E.stateType===Kt.CONNECTED?r.resume():r.pause())})}return n.of=function(t){return nd[t]||(nd[t]=new n({_iid:t})),nd[t].ref++,nd[t]},n.clear=function(t){nd[t]&&(nd[t].close(),delete nd[t])},n.prototype.loadMetadata=function(){return H(this,void 0,void 0,function(){var t,e,r,a;return F(this,function(l){switch(l.label){case 0:return this._metadata?[3,2]:(t=Se.of(this._iid),e=t.cacheContext,r=t.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:a=l.sent(),this._metadata={token:a?a.token:r},l.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return H(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=void 0,[2]}})})},n.prototype.resume=function(){Se.of(this._iid).connectionManager.isConnected&&this._sync.start(0)},n.prototype.pause=function(){this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete nd[this._iid])},n}(),tS=function(n,t){return n.findIndex(function(e){return e.isIdentical(t)})},Bpe=function(n,t,e){if(n.length>0){for(var r=tS(n,t),a=0,l=n.length-1,d=Math.floor((a+l)/2);a<l;){var h=F8(n[d],t,e);if(h>0)l=d,d=Math.floor((a+l)/2);else{if(!(h<0))return{place:d,oldPosition:r};a=d+1,d=Math.floor((a+l)/2)}}return{place:F8(n[d],t,e)>=0?d:d+1,oldPosition:r}}return{place:n.length,oldPosition:-1}},F8=function(n,t,e){switch(e){case ri.LATEST_LAST_MESSAGE:return n.lastMessage&&t.lastMessage?t.lastMessage.createdAt-n.lastMessage.createdAt:n.lastMessage?-1:t.lastMessage?1:t.createdAt-n.createdAt;case ri.CHRONOLOGICAL:return t.createdAt-n.createdAt;case ri.CHANNEL_NAME_ALPHABETICAL:var r=n.name.localeCompare(t.name);return r===0?n.createdAt-t.createdAt:r;default:return 0}},Vpe=function(){function n(t,e){var r=e.filter,a=e.order,l=e.limit,d=this;this.channels=[],this._iid=t,this._key="gcc-".concat(zd()),this._isDisposed=!1,this._isGetRemoteChannelsSucceeded=!0,this.filter=r??new RF,this.order=a??ri.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=l??aF;var h=Se.of(this._iid),f=h.sdkState,_=h.cacheContext,g=h.dispatcher;_.localCacheEnabled&&(this._backgroundSync=Fpe.of(t),this._backgroundSync.resume()),this._changelogSync=Hpe.of(t),this._changelogSync.resume(),Bi.of(this._iid).subscribeChannelEvent(this._key,{onUpdate:function(E,w){if(Eb(w)){var x=E.filter(function(N){return d.filter.match(N,f.userId)}),T=E.filter(function(N){return!d.filter.match(N,f.userId)}).map(function(N){return N.url});x.length>0&&d._addChannelsToView(x,w),T.length>0&&d._removeChannelsFromView(T,w)}},onRemove:function(E,w){d._removeChannelsFromView(E,w)}}),Se.of(this._iid).statLogCollector.put(new $u({type:Dl.FEATURE_LOCALCACHE,data:{use_local_cache:_.localCacheEnabled,collection_interface:{group_channel:!0}}})),g.on(function(E){E instanceof Ss&&(E.stateType===Kt.CONNECTED?d._isGetRemoteChannelsSucceeded||H(d,void 0,void 0,function(){return F(this,function(w){switch(w.label){case 0:return[4,this._revokeLoadMore()];case 1:return w.sent(),[2]}})}):E.stateType===Kt.LOGOUT&&d.dispose())})}return Object.defineProperty(n.prototype,"hasMore",{get:function(){return!this._isDisposed&&this._hasMore},enumerable:!1,configurable:!0}),n.prototype.setGroupChannelCollectionHandler=function(t){this._handler=t},n.prototype._addChannelsToView=function(t,e,r){var a,l,d,h,f=this;r===void 0&&(r=!1);var _=[],g=[],E=[];try{for(var w=Cn(t),x=w.next();!x.done;x=w.next()){var T=x.value,N=tS(this.channels,T);N>=0&&this.channels.splice(N,1);var P=Bpe(this.channels,T,this.order).place;if(N<0)P===this.channels.length?!r&&this._hasMore||(_.push(T),this.channels.push(T)):(_.push(T),this.channels.splice(P,0,T));else switch(e){case rn.EVENT_CHANNEL_UPDATED:case rn.EVENT_MESSAGE_RECEIVED:case rn.SYNC_CHANNEL_CHANGELOGS:case rn.EVENT_MESSAGE_SENT:P!==N&&this._hasMore&&P===this.channels.length?E.push(T):(this.channels.splice(P,0,T),g.push(T));break;default:this.channels.splice(P,0,T),g.push(T)}}}catch(U){a={error:U}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(a)throw a.error}}if(E.length>0)try{for(var k=Cn(E),C=k.next();!C.done;C=k.next()){T=C.value;var A=tS(this.channels,T);A!==-1&&this.channels.splice(A,1)}}catch(U){d={error:U}}finally{try{C&&!C.done&&(h=k.return)&&h.call(k)}finally{if(d)throw d.error}}Eb(e)&&jn(function(){return H(f,void 0,void 0,function(){var U,M,R,I;return F(this,function(D){return U=new nS(e),_.length>0&&(!((M=this._handler)===null||M===void 0)&&M.onChannelsAdded)&&this._handler.onChannelsAdded(U,_),g.length>0&&(!((R=this._handler)===null||R===void 0)&&R.onChannelsUpdated)&&this._handler.onChannelsUpdated(U,g),E.length>0&&(!((I=this._handler)===null||I===void 0)&&I.onChannelsDeleted)&&this._handler.onChannelsDeleted(U,E.map(function(q){return q.url})),[2]})})})},n.prototype._removeChannelsFromView=function(t,e){var r,a,l=this,d=[],h=function(E){var w=f.channels.findIndex(function(x){return x.url===E});w>=0&&(d.push(f.channels[w].url),f.channels.splice(w,1))},f=this;try{for(var _=Cn(t),g=_.next();!g.done;g=_.next())h(g.value)}catch(E){r={error:E}}finally{try{g&&!g.done&&(a=_.return)&&a.call(_)}finally{if(r)throw r.error}}return Eb(e)&&d.length>0&&jn(function(){return H(l,void 0,void 0,function(){var E,w;return F(this,function(x){return E=new nS(e),!((w=this._handler)===null||w===void 0)&&w.onChannelsDeleted&&this._handler.onChannelsDeleted(E,d),[2]})})}),d},n.prototype._getLocalChannels=function(){return H(this,void 0,void 0,function(){var t,e;return F(this,function(r){switch(r.label){case 0:return t=Bi.of(this._iid),e=this.channels.length>0?function(a,l){var d,h,f,_;switch(l){case ri.LATEST_LAST_MESSAGE:return(h=(d=a.lastMessage)===null||d===void 0?void 0:d.createdAt)!==null&&h!==void 0?h:a.createdAt;case ri.CHRONOLOGICAL:return a.createdAt;case ri.CHANNEL_NAME_ALPHABETICAL:return a.name;default:return(_=(f=a.lastMessage)===null||f===void 0?void 0:f.createdAt)!==null&&_!==void 0?_:a.createdAt}}(this.channels[this.channels.length-1],this.order):null,[4,t.getChannelsFromCache(e,this.filter,this.order,this._limit,e?this.channels[this.channels.length-1].url:void 0)];case 1:return[2,r.sent()]}})})},n.prototype._getRemoteChannels=function(){return H(this,void 0,void 0,function(){var t,e,r;return F(this,function(a){switch(a.label){case 0:return[4,Bi.of(this._iid).getMyGroupChannels(this._token,Jn(ge(ge({},this.filter),{order:this.order})),this._limit)];case 1:return t=a.sent(),e=t.channels,r=t.token,this._token=r,this._hasMore=!!r,[2,e]}})})},n.prototype._revokeLoadMore=function(){return H(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:if(this._isDisposed)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._getRemoteChannels()];case 2:return t=e.sent(),this._isGetRemoteChannelsSucceeded=!0,this._addChannelsToView(t,rn.REQUEST_CHANNEL,!0),[3,4];case 3:return e.sent(),this._isGetRemoteChannelsSucceeded=!1,[3,4];case 4:return[2]}})})},n.prototype.loadMore=function(){return H(this,void 0,void 0,function(){var t,e,r,a,l=this;return F(this,function(d){switch(d.label){case 0:if(this._isDisposed)throw new Oe({code:rt.COLLECTION_DISPOSED,message:"Collection has been disposed."});return this._hasMore?(t=Se.of(this._iid),e=t.cacheContext,r=t.connectionManager,a=[],!e.localCacheEnabled||r.isConnected&&!this._backgroundSync.completed?[3,2]:[4,Ei(function(){return H(l,void 0,void 0,function(){return F(this,function(h){switch(h.label){case 0:return[4,this._getLocalChannels()];case 1:return a=h.sent(),[2]}})})})]):[3,6];case 1:return d.sent(),this._hasMore=a.length>=this._limit,[3,5];case 2:return d.trys.push([2,4,,5]),[4,this._getRemoteChannels()];case 3:return a=d.sent(),this._isGetRemoteChannelsSucceeded=!0,[3,5];case 4:return d.sent(),this._isGetRemoteChannelsSucceeded=!1,[3,5];case 5:return this._addChannelsToView(a,rn.REQUEST_CHANNEL,!0),[2,a];case 6:return[2,[]]}})})},n.prototype.dispose=function(){var t,e;this._isDisposed||(this._isDisposed=!0,this.channels.length>0&&this.channels.splice(0,this.channels.length),(t=this._backgroundSync)===null||t===void 0||t.close(),(e=this._changelogSync)===null||e===void 0||e.close(),Bi.of(this._iid).unsubscribeChannelEvent(this._key))},n}(),zpe=function(n){function t(e){var r=this,a=e.token,l=e.limit,d=e.order,h=e.includeEmpty,f=e.membershipFilter,_=e.channelNameContainsFilter,g=e.channelUrlsFilter,E=e.customTypesFilter,w=e.customTypeStartsWithFilter,x=e.superChannelFilter,T=e.metadataOrderKeyFilter,N=e.metadataKey,P=e.metadataValues,k=e.metadataValueStartsWith,C=e.includeFrozen,A=e.includeMetaData;return(r=n.call(this)||this).method=pn.GET,r.path=Ia,r.params=Kn(Jn({token:a,limit:l,order:d,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:h,public_mode:Ul.PUBLIC,public_membership_mode:f,name_contains:_,channel_urls:g,custom_types:E,custom_type_startswith:w,super_mode:x,metadata_order_key:T,metadata_key:N,metadata_values:P,metadata_value_startswith:k,show_frozen:C,show_metadata:A})),r}return re(t,n),t}(fn),Gpe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.channels=[];var l=r.next,d=r.channels,h=r.ts;return a.token=l,d&&d.length>0&&(a.channels=d.map(function(f){return f.ts=h,new Ks(e,f)})),a.ts=typeof h=="number"?h:0,a}return re(t,n),t}(vn);(function(n){n.ALL="all",n.JOINED="joined"})(O_||(O_={}));var qpe=function(n){function t(e,r){var a,l,d,h,f,_,g,E,w,x,T,N,P,k,C=this;return(C=n.call(this,e,r)||this).includeEmpty=!1,C.includeFrozen=!0,C.includeMetaData=!0,C.channelUrlsFilter=null,C.customTypesFilter=null,C.customTypeStartsWithFilter=null,C.channelNameContainsFilter=null,C.membershipFilter=O_.ALL,C.superChannelFilter=as.ALL,C.metadataKey=null,C.metadataValues=null,C.metadataOrderKeyFilter=null,C.metadataValueStartsWith=null,C.order=k_.CHRONOLOGICAL,C.includeEmpty=(a=r.includeEmpty)!==null&&a!==void 0&&a,C.includeFrozen=(l=r.includeFrozen)===null||l===void 0||l,C.includeMetaData=(d=r.includeMetaData)===null||d===void 0||d,C.channelUrlsFilter=(h=r.channelUrlsFilter)!==null&&h!==void 0?h:null,C.customTypesFilter=(f=r.customTypesFilter)!==null&&f!==void 0?f:null,C.customTypeStartsWithFilter=(_=r.customTypeStartsWithFilter)!==null&&_!==void 0?_:null,C.channelNameContainsFilter=(g=r.channelNameContainsFilter)!==null&&g!==void 0?g:null,C.membershipFilter=(E=r.membershipFilter)!==null&&E!==void 0?E:O_.ALL,C.superChannelFilter=(w=r.superChannelFilter)!==null&&w!==void 0?w:as.ALL,C.metadataKey=(x=r.metadataKey)!==null&&x!==void 0?x:null,C.metadataValues=(T=r.metadataValues)!==null&&T!==void 0?T:null,C.metadataOrderKeyFilter=(N=r.metadataOrderKeyFilter)!==null&&N!==void 0?N:null,C.metadataValueStartsWith=(P=r.metadataValueStartsWith)!==null&&P!==void 0?P:null,C.order=(k=r.order)!==null&&k!==void 0?k:k_.CHRONOLOGICAL,C}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ye("boolean",this.includeEmpty)&&ye("boolean",this.includeFrozen)&&ye("boolean",this.includeMetaData)&&ye("string",this.channelNameContainsFilter,!0)&&St("string",this.channelUrlsFilter,!0)&&St("string",this.customTypesFilter,!0)&&ye("string",this.customTypeStartsWithFilter,!0)&&Et(O_,this.membershipFilter)&&Et(as,this.superChannelFilter)&&Et(k_,this.order)&&ye("string",this.metadataOrderKeyFilter,!0)&&ye("string",this.metadataKey,!0)&&St("string",this.metadataValues,!0)&&ye("string",this.metadataValueStartsWith,!0)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h,f,_;return F(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=Se.of(this._iid),a=r.requestQueue,r.dispatcher,l=new zpe(Jn(ge(ge({},this),{token:this._token}))),[4,a.send(l)]):[3,2]):[3,5];case 1:return d=g.sent(),h=d.as(Gpe),f=h.channels,_=h.token,this._token=_,this._hasNext=!!_,this._isLoading=!1,[2,f];case 2:return[2,e];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Ic),jpe=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return re(t,n),t}(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onUserJoined=bt,e.onUserLeft=bt,e.onUserReceivedInvitation=bt,e.onUserDeclinedInvitation=bt,e.onChannelHidden=bt,e.onUnreadMemberStatusUpdated=bt,e.onUndeliveredMemberStatusUpdated=bt,e.onTypingStatusUpdated=bt,e.onPollUpdated=bt,e.onPollVoted=bt,e.onPollDeleted=bt,e.onPinnedMessageUpdated=bt,e}return re(t,n),t}(kF)),$pe=function(n){function t(e){var r=this,a=e.token,l=e.limit,d=e.order,h=e.reverse,f=e.channelUrl,_=e.messageTypeFilter,g=e.scheduledStatus;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(c9),r.params=Kn(Jn({token:a,limit:l,reverse:h,channel_url:f,order:d,message_type:_,status:g})),r}return re(t,n),t}(fn),Wpe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.scheduledMessages=[];var l=r.next,d=r.scheduled_messages;return a.token=l,a.scheduledMessages=d.map(function(h){return Ga(e,h)}),a}return re(t,n),t}(vn),Kpe=function(n){function t(e,r){var a,l,d,h,f,_=this;return(_=n.call(this,e,r)||this).channelUrl=null,_.order=null,_.reverse=!1,_.scheduledStatus=null,_.messageTypeFilter=ia.ALL,_.channelUrl=(a=r.channelUrl)!==null&&a!==void 0?a:null,_.order=(l=r.order)!==null&&l!==void 0?l:null,_.reverse=(d=r.reverse)!==null&&d!==void 0&&d,_.scheduledStatus=(h=r.scheduledStatus)!==null&&h!==void 0?h:null,_.messageTypeFilter=(f=r.messageTypeFilter)!==null&&f!==void 0?f:ia.ALL,_}return re(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ye("string",this.channelUrl,!0)&&(Et(K4,this.order)||this.order===null)&&ye("boolean",this.reverse)&&(St(_d,this.scheduledStatus)||this.scheduledStatus===null)&&Et(ia,this.messageTypeFilter)},t.prototype.next=function(){return H(this,void 0,void 0,function(){var e,r,a,l,d,h;return F(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new $pe(Jn(ge(ge({},this),{token:this._token}))),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),l=a.as(Wpe),d=l.scheduledMessages,h=l.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw Oe.queryInProgress;case 4:return[3,6];case 5:throw Oe.invalidParameters;case 6:return[2]}})})},t}(Ic),Qpe=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="groupChannel",e}return re(t,n),t.prototype.init=function(e,r){var a=r.sdkState,l=r.dispatcher,d=r.sessionManager,h=r.requestQueue,f=r.logger,_=r.onlineDetector,g=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:l,sessionManager:d,requestQueue:h,logger:f,onlineDetector:_,cacheContext:g}),this._manager=new Bi(e,{sdkState:a,cacheContext:g,dispatcher:l,sessionManager:d,requestQueue:h,logger:f})},t.prototype.createGroupChannelCollection=function(e){return e===void 0&&(e={}),new Vpe(this._iid,e)},t.prototype.createMyGroupChannelListQuery=function(e){return e===void 0&&(e={}),new LF(this._iid,e)},t.prototype.createPublicGroupChannelListQuery=function(e){return e===void 0&&(e={}),new qpe(this._iid,e)},t.prototype.createScheduledMessageListQuery=function(e){return e===void 0&&(e={}),new Kpe(this._iid,e)},t.prototype.addGroupChannelHandler=function(e,r){_n(ye("string",e)&&r instanceof jpe).throw(Oe.invalidParameters),this._manager.addHandler(e,r)},t.prototype.removeGroupChannelHandler=function(e){_n(ye("string",e)).throw(Oe.invalidParameters),this._manager.removeHandler(e)},t.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildGroupChannelFromSerializedData=function(e){return this._manager.buildGroupChannelFromSerializedData(e)},t.prototype.buildGroupChannelListQueryFromSerializedData=function(e){return this._manager.buildGroupChannelListQueryFromSerializedData(e)},t.prototype.buildMemberFromSerializedData=function(e){return this._manager.buildMemberFromSerializedData(e)},t.prototype.getChannel=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(ye("string",e)).throw(Oe.invalidParameters),[2,this._manager.getChannel(e)]})})},t.prototype.getChannelWithoutCache=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(ye("string",e)).throw(Oe.invalidParameters),[2,this._manager.getChannelWithoutCache(e)]})})},t.prototype.getMyGroupChannelChangeLogsByToken=function(e,r){return r===void 0&&(r={}),H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},v1),r),_n(ye("string",e)&&Y4(a)).throw(Oe.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getMyGroupChannelChangeLogsByTimestamp=function(e,r){return r===void 0&&(r={}),H(this,void 0,void 0,function(){var a;return F(this,function(l){switch(l.label){case 0:return a=ge(ge({},v1),r),_n(ye("number",e)&&Y4(a)).throw(Oe.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,a)];case 1:return[2,l.sent()]}})})},t.prototype.getGroupChannelCount=function(e){return H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=ge(ge({},MF),e),_n(DF(r)).throw(Oe.invalidParameters),[2,this._manager.getGroupChannelCount(r)]})})},t.prototype.getUnreadItemCount=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getTotalUnreadChannelCount=function(){return H(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,e.sent()]}})})},t.prototype.getTotalUnreadMessageCount=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getTotalScheduledMessageCount=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){return this._manager.getSubscribedCustomTypeUnreadMessageCount(e)},t.prototype.createChannel=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=ge(ge({},yb),e),_n(Q4(r)).throw(Oe.invalidParameters),[2,this._manager.createChannel(r)]})})},t.prototype.createDistinctChannelIfNotExist=function(e){return e===void 0&&(e={}),H(this,void 0,void 0,function(){var r;return F(this,function(a){return r=ge(ge({},yb),e),_n(Q4(r)).throw(Oe.invalidParameters),r&&(r.isDistinct=!0),[2,this.createChannel(r)]})})},t.prototype.createChannelWithUserIds=function(e,r,a,l,d,h){return r===void 0&&(r=!1),d===void 0&&(d=""),h===void 0&&(h=""),H(this,void 0,void 0,function(){var f;return F(this,function(_){return f=ge(ge({},yb),{invitedUserIds:e,isDistinct:r,name:a,data:d,customType:h}),typeof l=="string"?f.coverUrl=l:f.coverImage=l,[2,this.createChannel(f)]})})},t.prototype.markAsReadAll=function(){return H(this,void 0,void 0,function(){return F(this,function(e){return this._manager.markAsReadAll(),[2]})})},t.prototype.markAsReadWithChannelUrls=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){return _n(St("string",e)).throw(Oe.invalidParameters),this._manager.markAsReadWithChannelUrls(e),[2]})})},t.prototype.markAsDelivered=function(e){return H(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return _n(ye("string",e)).throw(Oe.invalidParameters),[4,this.getChannel(e)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},t}(Z1);const HF={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"]},Ype={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},H8=n=>n===""||n===null,BF=n=>HF.IMAGE.indexOf(n)>=0,VF=n=>HF.VIDEO.indexOf(n)>=0,B8=n=>BF(n)||VF(n),Xpe=n=>n&&(n.isUserMessage&&typeof n.isUserMessage=="function"?n.isUserMessage():(n==null?void 0:n.messageType)==="user"),Zpe=n=>Xpe(n)&&(n==null?void 0:n.updatedAt)>0,zF=()=>gn({},Ype),Jpe=(n,t)=>Array.isArray(t)?[...n,...t]:(n.push(t),n),rS=n=>Array.isArray(n)?n.reduce(Jpe,[]).join(" "):n,efe=/^((http|https):\/\/)?([a-z\d]+\.)+[a-z]{2,6}(\:[0-9]{1,5})?(\/[-a-zA-Z\d%_.~+&=]*)*(\?[;&a-zA-Z\d%_.~+=-]*)?(\#[-a-zA-Z\d_]*)?$/,nfe=n=>efe.test(n),tfe=(n,t)=>{if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return!1},jg={reactions:"reactions",message_search_v3:"message_search_v3",enable_og_tag:"enable_og_tag",enable_message_threading:"enable_message_threading",allow_broadcast_channel:"allow_broadcast_channel",allow_super_group_channel:"allow_super_group_channel"};function rfe(n){const t=W.useRef(n);return W.useEffect(()=>{t.current=n}),W.useCallback((...e)=>t.current(...e),[t])}function iS(n){if(typeof n!="object"||n===null)return n;if(Array.isArray(n))return n.map(e=>iS(e));const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/_\w/g,a=>a[1].toUpperCase());t[r]=iS(n[e])}),t}const g1={common:{enableUsingDefaultUserProfile:!1},groupChannel:{channel:{enableMention:!1,enableOgtag:!0,enableReactions:!0,enableTypingIndicator:!0,enableVoiceMessage:!1,input:{camera:{enablePhoto:!0,enableVideo:!0},enableDocument:!0,gallery:{enablePhoto:!0,enableVideo:!0}},replyType:"quote_reply",threadReplySelectType:"thread"},channelList:{enableMessageReceiptStatus:!1,enableTypingIndicator:!1},setting:{enableMessageSearch:!1}},openChannel:{channel:{enableOgtag:!0,input:{camera:{enablePhoto:!0,enableVideo:!0},enableDocument:!0,gallery:{enablePhoto:!0,enableVideo:!0}}}}};function ife(n,t){return Object.prototype.toString.call(n)===Object.prototype.toString.call(t)}function rC(n,t){const e=Object.assign({},t);return Object.keys(n).forEach(r=>{Object.prototype.hasOwnProperty.call(e,r)&&ife(n[r],e[r])&&(typeof n[r]=="object"?e[r]=rC(n[r],e[r]):e[r]=n[r])}),e}function afe(n){return typeof n=="object"&&"configuration"in n&&"updated_at"in n}var b1=function(n,t,e,r){function a(l){return l instanceof e?l:new e(function(d){d(l)})}return new(e||(e=Promise))(function(l,d){function h(g){try{_(r.next(g))}catch(E){d(E)}}function f(g){try{_(r.throw(g))}catch(E){d(E)}}function _(g){g.done?l(g.value):a(g.value).then(h,f)}_((r=r.apply(n,t||[])).next())})};const aS={items:{},getItem(n){var t;return b1(this,void 0,void 0,function*(){return(t=aS.items[n])!==null&&t!==void 0?t:null})},setItem(n,t){return b1(this,void 0,void 0,function*(){aS.items[n]=t})}};class sfe{constructor(t){this.storage=t??aS}init(t){return this.key=`sbu@${t}.uikitConfiguration`,this.get()}get safeKey(){if(!this.key)throw new Error("Please UIKitConfigManager.init() first");return this.key}update(t){return b1(this,void 0,void 0,function*(){const e=yield this.get(),r={updatedAt:t.updatedAt,configuration:rC(t.configuration,e.configuration)};return yield this.storage.setItem(this.safeKey,JSON.stringify(r)),r})}get(){return b1(this,void 0,void 0,function*(){const t={updatedAt:0,configuration:g1};try{const e=yield this.storage.getItem(this.safeKey);return e?JSON.parse(e):t}catch{return t}})}}var ofe=function(n,t,e,r){function a(l){return l instanceof e?l:new e(function(d){d(l)})}return new(e||(e=Promise))(function(l,d){function h(g){try{_(r.next(g))}catch(E){d(E)}}function f(g){try{_(r.throw(g))}catch(E){d(E)}}function _(g){g.done?l(g.value):a(g.value).then(h,f)}_((r=r.apply(n,t||[])).next())})};function $g(n){var t,e;return(e=(t=n.appInfo)===null||t===void 0?void 0:t.applicationAttributes)!==null&&e!==void 0?e:[]}const GF=W.createContext({initDashboardConfigs:()=>Promise.resolve(),configs:g1,configsWithAppAttr:()=>g1}),lfe=({storage:n,children:t,localConfigs:e={}})=>{const[r,a]=W.useState(g1),[l]=W.useState(()=>new sfe(n)),d=W.useCallback(_=>ofe(void 0,void 0,void 0,function*(){const g=yield l.init(_.appId);if(_.appInfo&&_.appInfo.uikitConfigInfo.lastUpdatedAt===g.updatedAt)a(g.configuration);else try{const E=yield _.getUIKitConfiguration();if(afe(E.json)){const w=iS(E.json),x=yield l.update(w);a(x.configuration)}}catch{a(g.configuration)}}),[l]),h=rC(e,r),f=rfe(_=>({groupChannel:{channel:{get enableReactions(){return h.groupChannel.channel.enableReactions&&$g(_).includes(jg.reactions)},get enableOgtag(){return h.groupChannel.channel.enableOgtag&&$g(_).includes(jg.enable_og_tag)}},setting:{get enableMessageSearch(){return h.groupChannel.setting.enableMessageSearch&&$g(_).includes(jg.message_search_v3)}}},openChannel:{channel:{get enableOgtag(){return h.openChannel.channel.enableOgtag&&$g(_).includes(jg.enable_og_tag)}}}}));return L.createElement(GF.Provider,{value:{initDashboardConfigs:d,configs:h,configsWithAppAttr:f}},t)},cfe=()=>W.useContext(GF),dfe=10,ufe=1e3,hfe=6e5,pfe=12e3,ffe=11025,V8=["audio/webm","audio/mp4","audio/mpeg","audio/ogg"],px="sendbird-voice-player-provider-root",z8="sendbird-global-audio-player-id",sS="Voice_message.mp3",wb="audio/mp3;sbu_type=voice";function Xs(){return W.useContext(YP)}const qF="INITIALIZE_AUDIO_UNIT",jF="SET_CURRENT_PLAYER",$F="ON_VOICE_PLAYER_PLAY",oS="ON_VOICE_PLAYER_PAUSE",WF="ON_CURRENT_TIME_UPDATE",xb={IDLE:"IDLE",PREPARING:"PREPARING",PLAYING:"PLAYING",PAUSED:"PAUSED",COMPLETED:"COMPLETED"},Zf=()=>({audioFile:null,playbackTime:0,duration:1e3,playingStatus:xb.IDLE}),_fe={currentPlayer:null,currentGroupKey:"",audioStorage:{}};function mfe(n,t){switch(t.type){case qF:{var e;const{groupKey:d}=t.payload,h=(e=n.audioStorage)!==null&&e!==void 0&&e[d]?n.audioStorage[d]:Zf();return h.playingStatus=xb.PREPARING,gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[d]:h})})}case jF:{const{audioPlayer:d,groupKey:h}=t.payload;return gn(gn({},n),{},{currentPlayer:d,currentGroupKey:h})}case $F:{var r;const{groupKey:d,audioFile:h}=t.payload,f=(r=n.audioStorage)!==null&&r!==void 0&&r[d]?n.audioStorage[d]:Zf();return f.audioFile=h,f.playingStatus=xb.PLAYING,gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[d]:f})})}case oS:{var a;const{groupKey:d}=t.payload,h=(a=n.audioStorage)!==null&&a!==void 0&&a[d]?n.audioStorage[d]:Zf();h.playingStatus=xb.PAUSED;const{currentTime:f,duration:_}=n.currentPlayer;return h.playbackTime===h.duration?h.playbackTime=0:f>0&&_>0&&(h.playbackTime=f,h.duration=_),gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[d]:h})})}case WF:{var l;const{groupKey:d}=t.payload,{currentTime:h,duration:f}=n.currentPlayer,_=(l=n.audioStorage)!==null&&l!==void 0&&l[d]?n.audioStorage[d]:Zf();return h>0&&f>0&&(_.playbackTime=h,_.duration=f),gn(gn({},n),{},{audioStorage:gn(gn({},n.audioStorage),{},{[d]:_})})}default:return n}}const vfe="ALL",fx=()=>{},gfe={currentGroupKey:"",currentPlayer:null,audioStorage:{}},bfe=W.createContext({play:fx,pause:fx,stop:fx,voicePlayerStore:gfe}),G8=n=>{let{children:t}=n;const[e,r]=W.useReducer(mfe,_fe),{currentGroupKey:a,currentPlayer:l,audioStorage:d}=e,{config:h}=Xs(),{logger:f}=h,_=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";a.includes(w)&&(f.info("VoicePlayer: Pause playing(by text)."),g(a))},g=w=>{a===w&&l!==null&&(f.info("VoicePlayer: Pause playing(by group key)."),l==null||l.pause()),w===vfe&&(f.info("VoicePlayer: Pause playing(all)."),l==null||l.pause())},E=w=>{let{groupKey:x,audioFile:T=null,audioFileUrl:N=""}=w;x!==a&&g(a);const P=document.getElementById(px),k=document.getElementById(z8);k&&P.removeChild(k),f.info("VoicePlayer: Start getting audio file."),new Promise(C=>{var A;if(r({type:qF,payload:{groupKey:x}}),T){f.info("VoicePlayer: Use the audioFile instance."),C(T);return}const U=d==null||(A=d[x])===null||A===void 0?void 0:A.audioFile;if(U){f.info("VoicePlayer: Get from the audioStorage."),C(U);return}fetch(N).then(M=>M.blob()).then(M=>{const R=new File([M],sS,{lastModified:new Date().getTime(),type:wb});C(R),f.info("VoicePlayer: Get the audioFile from URL.")})}).then(C=>{var A,U;const M=document.getElementById(px);f.info("VoicePlayer: Succeeded getting audio file.",{audioFile:C});const R=d[x]||Zf(),I=new Audio((A=URL)===null||A===void 0||(U=A.createObjectURL)===null||U===void 0?void 0:U.call(A,C));I.id=z8,I.currentTime=R.playbackTime,I.volume=1,I.loop=!1,I.onplaying=()=>{f.info("VoicePlayer: OnPlaying event is called from audioPlayer",{groupKey:x,audioPlayer:I}),r({type:$F,payload:{groupKey:x,audioFile:C}})},I.onpause=()=>{f.info("VoicePlayer: OnPause event is called from audioPlayer",{groupKey:x,audioPlayer:I}),r({type:oS,payload:{groupKey:x}})},I.ontimeupdate=()=>{r({type:WF,payload:{groupKey:x}})},I.dataset.sbGroupId=x;try{M==null||M.childNodes.forEach(D=>{var q;const z=D;if(((q=z.dataset)===null||q===void 0?void 0:q.sbGroupKey)!==x){var fe;z==null||(fe=z.pause)===null||fe===void 0||fe.call(z),r({type:oS,payload:{groupKey:x}}),M.removeChild(z),f.info("VoicePlayer: Removed other player.",{element:z})}})}finally{I==null||I.play(),M==null||M.appendChild(I),r({type:jF,payload:{groupKey:x,audioPlayer:I}}),f.info("VoicePlayer: Succeeded playing audio player.",{groupKey:x,audioPlayer:I})}})};return L.createElement(bfe.Provider,{value:{play:E,pause:g,stop:_,voicePlayerStore:e}},L.createElement("div",{id:px,style:{display:"none"}}),t)},lS=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en";return{en:{MESSAGE_STATUS__YESTERDAY:"Yesterday",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_PREVIEW_MOBILE_LEAVE:"Leave channel",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__SELECT_TITLE:"Select members",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__OPERATORS__ADD_BUTTON:"Add",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL:"All muted members",CHANNEL_SETTING__NO_UNMUTED:"No muted members yet",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",CHANNEL_SETTING__MODERATION__EMPTY_BAN:"No banned members yet",CHANNEL_SETTING__MODERATION__ALL_BAN:"All banned members",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",OPEN_CHANNEL_CONVERSATION__SELECT_PARTICIPANTS:"Select participants",OPEN_CHANNEL_LIST__TITLE:"Channels",CREATE_OPEN_CHANNEL_LIST__TITLE:"New channel profile",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION:"Channel image",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD:"Upload",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION:"Channel name",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER:"Enter channel name",CREATE_OPEN_CHANNEL_LIST__SUBMIT:"Create",OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",TRYING_TO_CONNECT:"Trying to connect",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTED:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",MODAL__LEAVE_CHANNEL__TITLE:"Leave this channel?",MODAL__LEAVE_CHANNEL__FOOTER:"Leave",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_MUTED:"You're muted by the operator.",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_FROZEN:"Channel is frozen.",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you're muted",MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT:"You're muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BUTTON__OK:"OK",BADGE__OVER:"+",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__THREAD:"Reply in thread",MESSAGE_MENU__OPEN_IN_CHANNEL:"Open in channel",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",MESSAGE_MENU__SAVE:"Save",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",CONTEXT_MENU_DROPDOWN__SAVE:"Save",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",QUOTED_MESSAGE__UNAVAILABLE:"Message unavailable",THREAD__HEADER_TITLE:"Thread",CHANNEL__THREAD_REPLY:"reply",CHANNEL__THREAD_REPLIES:"replies",CHANNEL__THREAD_OVER_MAX:"99+",THREAD__THREAD_REPLY:"reply",THREAD__THREAD_REPLIES:"replies",THREAD__INPUT__REPLY_TO_THREAD:"Reply to thread",THREAD__INPUT__REPLY_IN_THREAD:"Reply in thread",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times at a time.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message",VOICE_RECORDING_PERMISSION_DENIED:`You cannot record the voice since
        voice recording is not permitted in your device system setting`,VOICE_MESSAGE:"Voice Message"}}[n]};var yfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Efe=function(t,e,r){var a,l=yfe[t];return typeof l=="string"?a=l:e===1?a=l.one:a=l.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function _x(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}var wfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tfe={date:_x({formats:wfe,defaultWidth:"full"}),time:_x({formats:xfe,defaultWidth:"full"}),dateTime:_x({formats:Sfe,defaultWidth:"full"})},Cfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kfe=function(t,e,r,a){return Cfe[t]};function Mf(n){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",a;if(r==="formatting"&&n.formattingValues){var l=n.defaultFormattingWidth||n.defaultWidth,d=e!=null&&e.width?String(e.width):l;a=n.formattingValues[d]||n.formattingValues[l]}else{var h=n.defaultWidth,f=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[h]}var _=n.argumentCallback?n.argumentCallback(t):t;return a[_]}}var Ife={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Afe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ofe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dfe=function(t,e){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Lfe={ordinalNumber:Dfe,era:Mf({values:Ife,defaultWidth:"wide"}),quarter:Mf({values:Nfe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Mf({values:Afe,defaultWidth:"wide"}),day:Mf({values:Ofe,defaultWidth:"wide"}),dayPeriod:Mf({values:Rfe,defaultWidth:"wide",formattingValues:Mfe,defaultFormattingWidth:"wide"})};function Df(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=t.match(a);if(!l)return null;var d=l[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Pfe(h,function(E){return E.test(d)}):Ufe(h,function(E){return E.test(d)}),_;_=n.valueCallback?n.valueCallback(f):f,_=e.valueCallback?e.valueCallback(_):_;var g=t.slice(d.length);return{value:_,rest:g}}}function Ufe(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function Pfe(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function Ffe(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var a=r[0],l=t.match(n.parsePattern);if(!l)return null;var d=n.valueCallback?n.valueCallback(l[0]):l[0];d=e.valueCallback?e.valueCallback(d):d;var h=t.slice(a.length);return{value:d,rest:h}}}var Hfe=/^(\d+)(th|st|nd|rd)?/i,Bfe=/\d+/i,Vfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zfe={any:[/^b/i,/^(a|c)/i]},Gfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qfe={any:[/1/i,/2/i,/3/i,/4/i]},jfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$fe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Yfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xfe={ordinalNumber:Ffe({matchPattern:Hfe,parsePattern:Bfe,valueCallback:function(t){return parseInt(t,10)}}),era:Df({matchPatterns:Vfe,defaultMatchWidth:"wide",parsePatterns:zfe,defaultParseWidth:"any"}),quarter:Df({matchPatterns:Gfe,defaultMatchWidth:"wide",parsePatterns:qfe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Df({matchPatterns:jfe,defaultMatchWidth:"wide",parsePatterns:$fe,defaultParseWidth:"any"}),day:Df({matchPatterns:Wfe,defaultMatchWidth:"wide",parsePatterns:Kfe,defaultParseWidth:"any"}),dayPeriod:Df({matchPatterns:Qfe,defaultMatchWidth:"any",parsePatterns:Yfe,defaultParseWidth:"any"})},Zfe={code:"en-US",formatDistance:Efe,formatLong:Tfe,formatRelative:kfe,localize:Lfe,match:Xfe,options:{weekStartsOn:0,firstWeekContainsDate:1}},KF=Zfe;const Hl=L.createContext({stringSet:lS("en"),dateLocale:KF}),Jfe=n=>{const{children:t}=n;return L.createElement(Hl.Provider,{value:n},t)},Gd=()=>L.useContext(Hl),QF="sendbird-modal-root";var on={exports:{}},mx,q8;function e_e(){if(q8)return mx;q8=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mx=n,mx}var vx,j8;function n_e(){if(j8)return vx;j8=1;var n=e_e();function t(){}function e(){}return e.resetWarningCache=t,vx=function(){function r(d,h,f,_,g,E){if(E!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function a(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},vx}on.exports=n_e()();const lo={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},yl={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function t_e(n){switch(n){case lo.H_1:return"sendbird-label--h-1";case lo.H_2:return"sendbird-label--h-2";case lo.SUBTITLE_1:return"sendbird-label--subtitle-1";case lo.SUBTITLE_2:return"sendbird-label--subtitle-2";case lo.BODY_1:return"sendbird-label--body-1";case lo.BODY_2:return"sendbird-label--body-2";case lo.BUTTON_1:return"sendbird-label--button-1";case lo.BUTTON_2:return"sendbird-label--button-2";case lo.CAPTION_1:return"sendbird-label--caption-1";case lo.CAPTION_2:return"sendbird-label--caption-2";case lo.CAPTION_3:return"sendbird-label--caption-3";default:return""}}function YF(n){switch(n){case yl.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case yl.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case yl.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case yl.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case yl.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case yl.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case yl.PRIMARY:return"sendbird-label--color-primary";case yl.ERROR:return"sendbird-label--color-error";case yl.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return""}}function zt(n){let{className:t,type:e,color:r,children:a}=n;return L.createElement("span",{className:[...Array.isArray(t)?t:[t],"sendbird-label",e?t_e(e):"",r?YF(r):""].join(" ")},a)}zt.propTypes={className:on.exports.oneOfType([on.exports.string,on.exports.arrayOf(on.exports.string)]),type:on.exports.string,color:on.exports.string,children:on.exports.oneOfType([on.exports.string,on.exports.number,on.exports.element,on.exports.any])};zt.defaultProps={className:[],type:"",color:"",children:null};const qt=lo,Lt=yl;let Jf=function(n){return n.PRIMARY="PRIMARY",n.SECONDARY="SECONDARY",n.DANGER="DANGER",n.DISABLED="DISABLED",n}({}),cS=function(n){return n.BIG="BIG",n.SMALL="SMALL",n}({});function r_e(n){switch(n){case Jf.PRIMARY:return"sendbird-button--primary";case Jf.SECONDARY:return"sendbird-button--secondary";case Jf.DANGER:return"sendbird-button--danger";case Jf.DISABLED:return"sendbird-button--disabled";default:return null}}function i_e(n){switch(n){case cS.BIG:return"sendbird-button--big";case cS.SMALL:return"sendbird-button--small";default:return null}}const dh=Jf,dS=cS;function tm(n){let{className:t,type:e=dh.PRIMARY,size:r=dS.BIG,children:a="Button",disabled:l=!1,onClick:d=()=>{}}=n;const h=[...Array.isArray(t)?t:[t],"sendbird-button",l?"sendbird-button__disabled":"",r_e(e),i_e(r)].join(" ");return L.createElement("button",{className:h,type:"button",onClick:d,disabled:l},L.createElement(zt,{className:"sendbird-button__text",type:qt.BUTTON_1,color:Lt.ONCONTENT_1},a))}const En={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",AUDIO_ON_LINED:"AUDIO_ON_LINED",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THREAD:"THREAD",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"},Ji={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",PRIMARY_2:"PRIMARY_2",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",GRAY:"GRAY",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",ON_BACKGROUND_4:"ON_BACKGROUND_4",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function a_e(n){switch(n){case Ji.PRIMARY:return"sendbird-icon-color--primary";case Ji.PRIMARY_2:return"sendbird-icon-color--primary-2";case Ji.SECONDARY:return"sendbird-icon-color--secondary";case Ji.CONTENT:return"sendbird-icon-color--content";case Ji.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case Ji.WHITE:return"sendbird-icon-color--white";case Ji.GRAY:return"sendbird-icon-color--gray";case Ji.SENT:return"sendbird-icon-color--sent";case Ji.READ:return"sendbird-icon-color--read";case Ji.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case Ji.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case Ji.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case Ji.ON_BACKGROUND_4:return"sendbird-icon-color--on-background-4";case Ji.BACKGROUND_3:return"sendbird-icon-color--background-3";case Ji.ERROR:return"sendbird-icon-color--error";default:return""}}function s_e(n){switch(n){case En.ADD:return"sendbird-icon-add";case En.ARROW_LEFT:return"sendbird-icon-arrow-left";case En.ATTACH:return"sendbird-icon-attach";case En.AUDIO_ON_LINED:return"sendbird-icon-audio-on-lined";case En.BAN:return"sendbird-icon-ban";case En.BROADCAST:return"sendbird-icon-broadcast";case En.CAMERA:return"sendbird-icon-camera";case En.CHANNELS:return"sendbird-icon-channels";case En.CHAT:return"sendbird-icon-chat";case En.CHAT_FILLED:return"sendbird-icon-chat-filled";case En.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case En.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case En.CLOSE:return"sendbird-icon-close";case En.COLLAPSE:return"sendbird-icon-collapse";case En.COPY:return"sendbird-icon-copy";case En.CREATE:return"sendbird-icon-create";case En.DELETE:return"sendbird-icon-delete";case En.DISCONNECTED:return"sendbird-icon-disconnected";case En.DOCUMENT:return"sendbird-icon-document";case En.DONE:return"sendbird-icon-done";case En.DONE_ALL:return"sendbird-icon-done-all";case En.DOWNLOAD:return"sendbird-icon-down-load";case En.EDIT:return"sendbird-icon-edit";case En.EMOJI_MORE:return"sendbird-icon-emoji-more";case En.ERROR:return"sendbird-icon-error";case En.EXPAND:return"sendbird-icon-expand";case En.FILE_AUDIO:return"sendbird-icon-file-audio";case En.FILE_DOCUMENT:return"sendbird-icon-file-document";case En.FREEZE:return"sendbird-icon-freeze";case En.GIF:return"sendbird-icon-gif";case En.INFO:return"sendbird-icon-info";case En.LEAVE:return"sendbird-icon-leave";case En.MEMBERS:return"sendbird-icon-members";case En.MESSAGE:return"sendbird-icon-message";case En.MODERATIONS:return"sendbird-icon-moderations";case En.MORE:return"sendbird-icon-more";case En.MUTE:return"sendbird-icon-mute";case En.NOTIFICATIONS:return"sendbird-icon-notifications";case En.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case En.OPERATOR:return"sendbird-icon-operator";case En.PHOTO:return"sendbird-icon-photo";case En.PLAY:return"sendbird-icon-play";case En.PLUS:return"sendbird-iconn-plus";case En.QUESTION:return"sendbird-icon-question";case En.REFRESH:return"sendbird-icon-refresh";case En.REMOVE:return"sendbird-icon-remove";case En.REPLY:return"sendbird-icon-reply";case En.SEARCH:return"sendbird-icon-search";case En.SEND:return"sendbird-icon-send";case En.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case En.SPINNER:return"sendbird-icon-spinner";case En.SUPERGROUP:return"sendbird-icon-supergroup";case En.THREAD:return"sendbird-icon-thread";case En.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case En.TOGGLE_OFF:return"sendbird-icon-toggle-off";case En.TOGGLE_ON:return"sendbird-icon-toggle-on";case En.USER:return"sendbird-icon-user";default:return"sendbird-icon-unknown"}}var $8;function uS(){return uS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},uS.apply(this,arguments)}function o_e(n){return W.createElement("svg",uS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),$8||($8=W.createElement("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"})))}var W8;function hS(){return hS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},hS.apply(this,arguments)}function l_e(n){return W.createElement("svg",hS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),W8||(W8=W.createElement("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"})))}var K8;function pS(){return pS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},pS.apply(this,arguments)}function c_e(n){return W.createElement("svg",pS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),K8||(K8=W.createElement("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"})))}var Q8,Y8;function fS(){return fS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},fS.apply(this,arguments)}function d_e(n){return W.createElement("svg",fS({viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),Q8||(Q8=W.createElement("g",{clipPath:"url(#icon-audio-on-lined_svg__clip0_1_7)"},W.createElement("path",{className:"icon-audio-on-lined_svg__fill",clipRule:"evenodd",d:"M32 0C26.11 0 21.333 4.776 21.333 10.667V32c0 5.891 4.776 10.667 10.667 10.667S42.667 37.89 42.667 32V10.667C42.667 4.776 37.89 0 32 0zm-5.333 10.667a5.333 5.333 0 0110.666 0V32a5.333 5.333 0 01-10.666 0V10.667z"}),W.createElement("path",{className:"icon-audio-on-lined_svg__fill",d:"M16 26.667a2.667 2.667 0 10-5.333 0V32c0 10.879 8.143 19.856 18.666 21.168v5.499h-8a2.667 2.667 0 000 5.333h21.334a2.667 2.667 0 100-5.333h-8v-5.499C45.19 51.856 53.333 42.88 53.333 32v-5.333a2.667 2.667 0 10-5.333 0V32c0 8.837-7.163 16-16 16s-16-7.163-16-16v-5.333z"}))),Y8||(Y8=W.createElement("defs",null,W.createElement("clipPath",{id:"icon-audio-on-lined_svg__clip0_1_7"},W.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))))}var X8;function _S(){return _S=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},_S.apply(this,arguments)}function u_e(n){return W.createElement("svg",_S({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),X8||(X8=W.createElement("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"})))}var Z8;function mS(){return mS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},mS.apply(this,arguments)}function h_e(n){return W.createElement("svg",mS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),Z8||(Z8=W.createElement("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"})))}var J8;function vS(){return vS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},vS.apply(this,arguments)}function p_e(n){return W.createElement("svg",vS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),J8||(J8=W.createElement("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var eD;function gS(){return gS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},gS.apply(this,arguments)}function f_e(n){return W.createElement("svg",gS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),eD||(eD=W.createElement("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"})))}var nD;function bS(){return bS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},bS.apply(this,arguments)}function __e(n){return W.createElement("svg",bS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),nD||(nD=W.createElement("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"})))}var tD;function yS(){return yS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},yS.apply(this,arguments)}function m_e(n){return W.createElement("svg",yS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),tD||(tD=W.createElement("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"})))}var rD;function ES(){return ES=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ES.apply(this,arguments)}function v_e(n){return W.createElement("svg",ES({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),rD||(rD=W.createElement("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"})))}var iD;function wS(){return wS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},wS.apply(this,arguments)}function g_e(n){return W.createElement("svg",wS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),iD||(iD=W.createElement("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"})))}var aD;function xS(){return xS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},xS.apply(this,arguments)}function b_e(n){return W.createElement("svg",xS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),aD||(aD=W.createElement("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var sD;function SS(){return SS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},SS.apply(this,arguments)}function y_e(n){return W.createElement("svg",SS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),sD||(sD=W.createElement("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"})))}var oD;function TS(){return TS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},TS.apply(this,arguments)}function E_e(n){return W.createElement("svg",TS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),oD||(oD=W.createElement("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"})))}var lD;function CS(){return CS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},CS.apply(this,arguments)}function w_e(n){return W.createElement("svg",CS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),lD||(lD=W.createElement("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"})))}var cD;function kS(){return kS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},kS.apply(this,arguments)}function x_e(n){return W.createElement("svg",kS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),cD||(cD=W.createElement("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"})))}var dD;function IS(){return IS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},IS.apply(this,arguments)}function S_e(n){return W.createElement("svg",IS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),dD||(dD=W.createElement("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"})))}var uD;function NS(){return NS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},NS.apply(this,arguments)}function T_e(n){return W.createElement("svg",NS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),uD||(uD=W.createElement("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"})))}var hD;function AS(){return AS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},AS.apply(this,arguments)}function C_e(n){return W.createElement("svg",AS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),hD||(hD=W.createElement("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"})))}var pD;function OS(){return OS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},OS.apply(this,arguments)}function k_e(n){return W.createElement("svg",OS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),pD||(pD=W.createElement("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"})))}var fD;function RS(){return RS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},RS.apply(this,arguments)}function I_e(n){return W.createElement("svg",RS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),fD||(fD=W.createElement("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"})))}var _D;function MS(){return MS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},MS.apply(this,arguments)}function N_e(n){return W.createElement("svg",MS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},n),_D||(_D=W.createElement("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"})))}var mD;function DS(){return DS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},DS.apply(this,arguments)}function A_e(n){return W.createElement("svg",DS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),mD||(mD=W.createElement("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"})))}var vD;function LS(){return LS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},LS.apply(this,arguments)}function O_e(n){return W.createElement("svg",LS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),vD||(vD=W.createElement("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"})))}var gD;function US(){return US=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},US.apply(this,arguments)}function R_e(n){return W.createElement("svg",US({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),gD||(gD=W.createElement("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"})))}var bD;function PS(){return PS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},PS.apply(this,arguments)}function M_e(n){return W.createElement("svg",PS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),bD||(bD=W.createElement("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"})))}var yD;function FS(){return FS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},FS.apply(this,arguments)}function D_e(n){return W.createElement("svg",FS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),yD||(yD=W.createElement("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"})))}var ED;function HS(){return HS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},HS.apply(this,arguments)}function L_e(n){return W.createElement("svg",HS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),ED||(ED=W.createElement("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var wD;function BS(){return BS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},BS.apply(this,arguments)}function U_e(n){return W.createElement("svg",BS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),wD||(wD=W.createElement("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"})))}var xD;function VS(){return VS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},VS.apply(this,arguments)}function P_e(n){return W.createElement("svg",VS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),xD||(xD=W.createElement("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var SD;function zS(){return zS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},zS.apply(this,arguments)}function F_e(n){return W.createElement("svg",zS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),SD||(SD=W.createElement("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"})))}var TD;function GS(){return GS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},GS.apply(this,arguments)}function H_e(n){return W.createElement("svg",GS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),TD||(TD=W.createElement("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var CD;function qS(){return qS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},qS.apply(this,arguments)}function B_e(n){return W.createElement("svg",qS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),CD||(CD=W.createElement("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"})))}var kD;function jS(){return jS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},jS.apply(this,arguments)}function V_e(n){return W.createElement("svg",jS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),kD||(kD=W.createElement("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"})))}var ID;function $S(){return $S=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$S.apply(this,arguments)}function z_e(n){return W.createElement("svg",$S({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),ID||(ID=W.createElement("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"})))}var ND;function WS(){return WS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},WS.apply(this,arguments)}function G_e(n){return W.createElement("svg",WS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),ND||(ND=W.createElement("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"})))}var AD;function KS(){return KS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},KS.apply(this,arguments)}function q_e(n){return W.createElement("svg",KS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),AD||(AD=W.createElement("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"})))}var OD;function QS(){return QS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},QS.apply(this,arguments)}function j_e(n){return W.createElement("svg",QS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),OD||(OD=W.createElement("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"})))}var RD;function YS(){return YS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},YS.apply(this,arguments)}function $_e(n){return W.createElement("svg",YS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),RD||(RD=W.createElement("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"})))}var MD;function XS(){return XS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},XS.apply(this,arguments)}function W_e(n){return W.createElement("svg",XS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),MD||(MD=W.createElement("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"})))}var DD;function ZS(){return ZS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ZS.apply(this,arguments)}function K_e(n){return W.createElement("svg",ZS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),DD||(DD=W.createElement("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"})))}var LD;function JS(){return JS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},JS.apply(this,arguments)}function Q_e(n){return W.createElement("svg",JS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),LD||(LD=W.createElement("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"})))}var UD;function e6(){return e6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},e6.apply(this,arguments)}function Y_e(n){return W.createElement("svg",e6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),UD||(UD=W.createElement("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"})))}var PD;function n6(){return n6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},n6.apply(this,arguments)}function X_e(n){return W.createElement("svg",n6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),PD||(PD=W.createElement("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"})))}var FD;function t6(){return t6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},t6.apply(this,arguments)}function Z_e(n){return W.createElement("svg",t6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),FD||(FD=W.createElement("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"})))}var HD;function r6(){return r6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},r6.apply(this,arguments)}function J_e(n){return W.createElement("svg",r6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},n),HD||(HD=W.createElement("path",{className:"icon-reply-filled_svg__fill",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",fill:"#000",fillRule:"evenodd"})))}var BD;function i6(){return i6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},i6.apply(this,arguments)}function eme(n){return W.createElement("svg",i6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),BD||(BD=W.createElement("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"})))}var VD;function a6(){return a6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},a6.apply(this,arguments)}function nme(n){return W.createElement("svg",a6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),VD||(VD=W.createElement("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"})))}var zD;function s6(){return s6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s6.apply(this,arguments)}function tme(n){return W.createElement("svg",s6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),zD||(zD=W.createElement("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}var GD;function o6(){return o6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},o6.apply(this,arguments)}function rme(n){return W.createElement("svg",o6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),GD||(GD=W.createElement("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"})))}var qD;function l6(){return l6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},l6.apply(this,arguments)}function ime(n){return W.createElement("svg",l6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),qD||(qD=W.createElement("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"})))}var jD,$D;function c6(){return c6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},c6.apply(this,arguments)}function ame(n){return W.createElement("svg",c6({viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),jD||(jD=W.createElement("path",{className:"icon-thread_svg__fill",clipRule:"evenodd",d:"M38.824 25.895a2.95 2.95 0 014.16-.074L57.1 39.378a2.921 2.921 0 01.002 4.213L42.985 57.177a2.95 2.95 0 01-4.158-.07 2.919 2.919 0 01.07-4.14l11.928-11.48-11.926-11.451a2.919 2.919 0 01-.075-4.14z"})),$D||($D=W.createElement("path",{className:"icon-thread_svg__fill",clipRule:"evenodd",d:"M8.866 6c1.583 0 2.866 1.216 2.866 2.716V25.5c0 7.672 6.846 14.068 15.475 14.068h22.927c1.583 0 2.866 1.216 2.866 2.716 0 1.5-1.283 2.716-2.866 2.716H27.207C15.604 45 6 36.35 6 25.5V8.716C6 7.216 7.283 6 8.866 6z"})))}var WD;function d6(){return d6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},d6.apply(this,arguments)}function sme(n){return W.createElement("svg",d6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),WD||(WD=W.createElement("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"})))}var KD;function u6(){return u6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},u6.apply(this,arguments)}function ome(n){return W.createElement("svg",u6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),KD||(KD=W.createElement("g",{fill:"none",fillRule:"evenodd"},W.createElement("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),W.createElement("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),W.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),W.createElement("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var QD;function h6(){return h6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},h6.apply(this,arguments)}function lme(n){return W.createElement("svg",h6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),QD||(QD=W.createElement("g",{fill:"none",fillRule:"evenodd"},W.createElement("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),W.createElement("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),W.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),W.createElement("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))}var YD;function p6(){return p6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},p6.apply(this,arguments)}function cme(n){return W.createElement("svg",p6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),YD||(YD=W.createElement("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"})))}function dme(n){switch(n){case En.ADD:return L.createElement(o_e,null);case En.ARROW_LEFT:return L.createElement(l_e,null);case En.ATTACH:return L.createElement(c_e,null);case En.AUDIO_ON_LINED:return L.createElement(d_e,null);case En.BAN:return L.createElement(u_e,null);case En.BROADCAST:return L.createElement(h_e,null);case En.CAMERA:return L.createElement(p_e,null);case En.CHANNELS:return L.createElement(f_e,null);case En.CHAT:return L.createElement(__e,null);case En.CHAT_FILLED:return L.createElement(m_e,null);case En.CHEVRON_DOWN:return L.createElement(v_e,null);case En.CHEVRON_RIGHT:return L.createElement(g_e,null);case En.CLOSE:return L.createElement(b_e,null);case En.COLLAPSE:return L.createElement(y_e,null);case En.COPY:return L.createElement(E_e,null);case En.CREATE:return L.createElement(w_e,null);case En.DELETE:return L.createElement(x_e,null);case En.DISCONNECTED:return L.createElement(S_e,null);case En.DOCUMENT:return L.createElement(T_e,null);case En.DONE:return L.createElement(C_e,null);case En.DONE_ALL:return L.createElement(k_e,null);case En.DOWNLOAD:return L.createElement(I_e,null);case En.EDIT:return L.createElement(N_e,null);case En.EMOJI_MORE:return L.createElement(A_e,null);case En.ERROR:return L.createElement(O_e,null);case En.EXPAND:return L.createElement(R_e,null);case En.FILE_AUDIO:return L.createElement(M_e,null);case En.FILE_DOCUMENT:return L.createElement(D_e,null);case En.FREEZE:return L.createElement(L_e,null);case En.GIF:return L.createElement(U_e,null);case En.INFO:return L.createElement(P_e,null);case En.LEAVE:return L.createElement(F_e,null);case En.MEMBERS:return L.createElement(H_e,null);case En.MESSAGE:return L.createElement(B_e,null);case En.MODERATIONS:return L.createElement(V_e,null);case En.MORE:return L.createElement(z_e,null);case En.MUTE:return L.createElement(G_e,null);case En.NOTIFICATIONS:return L.createElement(q_e,null);case En.NOTIFICATIONS_OFF_FILLED:return L.createElement(j_e,null);case En.OPERATOR:return L.createElement($_e,null);case En.PHOTO:return L.createElement(W_e,null);case En.PLAY:return L.createElement(K_e,null);case En.PLUS:return L.createElement(Q_e,null);case En.QUESTION:return L.createElement(Y_e,null);case En.REFRESH:return L.createElement(X_e,null);case En.REMOVE:return L.createElement(Z_e,null);case En.REPLY:return L.createElement(J_e,null);case En.SEARCH:return L.createElement(eme,null);case En.SEND:return L.createElement(nme,null);case En.SETTINGS_FILLED:return L.createElement(tme,null);case En.SPINNER:return L.createElement(rme,null);case En.SUPERGROUP:return L.createElement(ime,null);case En.THREAD:return L.createElement(ame,null);case En.THUMBNAIL_NONE:return L.createElement(sme,null);case En.TOGGLE_OFF:return L.createElement(ome,null);case En.TOGGLE_ON:return L.createElement(lme,null);case En.USER:return L.createElement(cme,null);default:return"icon"}}function rr(n){let{className:t,type:e,fillColor:r,width:a,height:l,onClick:d,children:h}=n;const f={width:typeof a=="string"?a:`${a}px`,minWidth:typeof a=="string"?a:`${a}px`,height:typeof l=="string"?l:`${l}px`,minHeight:typeof l=="string"?l:`${l}px`};return L.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-icon",s_e(e),a_e(r)].join(" "),role:"button",onClick:d,onKeyDown:d,tabIndex:"0",style:f},h||dme(e))}rr.propTypes={className:on.exports.oneOfType([on.exports.string,on.exports.arrayOf(on.exports.string)]),type:on.exports.oneOfType([on.exports.oneOf(Object.keys(En)),on.exports.string]).isRequired,fillColor:on.exports.oneOf(Object.keys(Ji)),width:on.exports.oneOfType([on.exports.string,on.exports.number]),height:on.exports.oneOfType([on.exports.string,on.exports.number]),onClick:on.exports.func,children:on.exports.element};rr.defaultProps={className:"",fillColor:Ji.DEFAULT,width:26,height:26,onClick:()=>{},children:null};const Qt=En,sr=Ji,Ec=L.forwardRef((n,t)=>{const{className:e="",children:r,disabled:a=!1,width:l="56px",height:d="56px",type:h="button",style:f={},onBlur:_=()=>{},onClick:g=()=>{}}=n,[E,w]=W.useState(!1);return L.createElement("button",{className:[...Array.isArray(e)?e:[e],"sendbird-iconbutton",E?"sendbird-iconbutton--pressed":""].join(" "),disabled:a,ref:t,type:h,style:gn(gn({},f),{},{height:d,width:l}),onClick:x=>{a||(w(!0),g==null||g(x))},onBlur:x=>{w(!1),_==null||_(x)}},L.createElement("span",{className:"sendbird-iconbutton__inner"},r))}),ume=!1,XF="sendbird--mobile-mode",ZF=L.createContext({breakpoint:ume,isMobile:!1}),XD=()=>{try{const n=document.querySelector("body");n==null||n.classList.add(XF)}catch{}},ZD=()=>{try{const n=document.querySelector("body");n==null||n.classList.remove(XF)}catch{}},hme=n=>{const{children:t,logger:e}=n,r=(n==null?void 0:n.breakpoint)||!1,[a,l]=W.useState(!1);return W.useEffect(()=>{var d;const h=()=>{if(typeof r=="boolean")if(l(r),r){var f;e==null||(f=e.info)===null||f===void 0||f.call(e,"MediaQueryProvider: isMobile: true"),XD()}else{var _;e==null||(_=e.info)===null||_===void 0||_.call(e,"MediaQueryProvider: isMobile: false"),ZD()}else{var g;const x=window.matchMedia(`(max-width: ${r})`);if(e==null||(g=e.info)===null||g===void 0||g.call(e,`MediaQueryProvider: Screensize updated to ${r}`),x.matches){var E;l(!0),XD(),e==null||(E=e.info)===null||E===void 0||E.call(e,"MediaQueryProvider: isMobile: true")}else{var w;l(!1),ZD(),e==null||(w=e.info)===null||w===void 0||w.call(e,"MediaQueryProvider: isMobile: false")}}};return h(),window.addEventListener("resize",h),e==null||(d=e.info)===null||d===void 0||d.call(e,"MediaQueryProvider: addEventListener",{updateSize:h}),()=>{var f;window.removeEventListener("resize",h),e==null||(f=e.info)===null||f===void 0||f.call(e,"MediaQueryProvider: removeEventListener",{updateSize:h})}},[r]),L.createElement(ZF.Provider,{value:{breakpoint:r,isMobile:a}},t)},qd=()=>L.useContext(ZF),pme=n=>{let{titleText:t}=n;return L.createElement("div",{className:"sendbird-modal__header"},L.createElement(zt,{type:qt.H_1,color:Lt.ONBACKGROUND_1},t))},fme=n=>{let{children:t}=n;return L.createElement("div",{className:"sendbird-modal__body"},L.createElement(zt,{type:qt.SUBTITLE_1,color:Lt.ONBACKGROUND_2},t))},_me=n=>{let{submitText:t,disabled:e=!1,type:r=dh.DANGER,onSubmit:a,onCancel:l}=n;const{stringSet:d}=W.useContext(Hl);return L.createElement("div",{className:"sendbird-modal__footer"},L.createElement(tm,{type:dh.SECONDARY,onClick:l},L.createElement(zt,{type:qt.BUTTON_1,color:Lt.ONBACKGROUND_1},d.BUTTON__CANCEL)),L.createElement(tm,{type:r,disabled:e,onClick:a},t))};function JF(n){const{children:t=null,className:e="",isCloseOnClickOutside:r=!1,isFullScreenOnMobile:a=!1,titleText:l,submitText:d,disabled:h=!1,hideFooter:f=!1,type:_=dh.DANGER,onCancel:g=()=>{},onSubmit:E=()=>{},renderHeader:w}=n,{isMobile:x}=qd();return um.createPortal(L.createElement("div",{className:`
      sendbird-modal ${e}
      ${a&&x?"sendbird-modal--full-mobile":""}
    `},L.createElement("div",{className:"sendbird-modal__content"},(w==null?void 0:w())||L.createElement(pme,{titleText:l}),L.createElement(fme,null,t),!f&&L.createElement(_me,{disabled:h,onCancel:g,onSubmit:E,submitText:d,type:_}),L.createElement("div",{className:"sendbird-modal__close"},L.createElement(Ec,{width:"32px",height:"32px",onClick:g},L.createElement(rr,{type:Qt.CLOSE,fillColor:sr.DEFAULT,width:"24px",height:"24px"})))),L.createElement("div",{className:`
          sendbird-modal__backdrop
          ${r&&"sendbird-modal__backdrop--clickoutside"}
        `,onClick:T=>{T==null||T.stopPropagation(),r&&g()}})),document.getElementById(QF))}const JD=()=>{},mme=W.createContext({start:JD,stop:JD,isRecordable:!1}),vme=n=>{var t;const{children:e}=n,{config:r}=Xs(),{logger:a,isVoiceMessageEnabled:l}=r,[d,h]=W.useState(null),[f,_]=W.useState(!1),[g,E]=W.useState(!1),{stringSet:w}=Gd(),x=()=>{try{navigator.permissions.query({name:"microphone"}).then(A=>{A.state==="denied"&&(a.warning("VoiceRecorder: Permission denied."),E(!0))})}catch(A){a.warning("VoiceRecorder: Failed to check permission.",A)}},T=(t=V8.find(A=>MediaRecorder.isTypeSupported(A)))!==null&&t!==void 0?t:"";T||a.error("VoiceRecorder: Browser does not support mimeType",{mimmeTypes:V8});const[N,P]=W.useState(null);W.useEffect(()=>{l&&!N&&Promise.resolve().then(function(){return iEe}).then(A=>{P(A)})},[]);const k=W.useCallback(A=>{var U,M,R;if(l&&!N){a.error("VoiceRecorder: Recording audio processor is being loaded.");return}a.info("VoiceRecorder: Start recording."),d&&(C(),a.info("VoiceRecorder: Previous mediaRecorder is stopped.")),x(),(U=navigator)===null||U===void 0||(M=U.mediaDevices)===null||M===void 0||(R=M.getUserMedia)===null||R===void 0||R.call(M,{audio:!0}).then(I=>{a.info("VoiceRecorder: Succeeded getting media stream.",I),_(!0);const D=new MediaRecorder(I,{mimeType:T,audioBitsPerSecond:pfe});D.ondataavailable=q=>{var z,ne,fe;a.info("VoiceRecorder: Succeeded getting an available data.",q.data);const B=new File([q.data],sS,{lastModified:new Date().getTime(),type:wb});N==null||N.downsampleToWav(B,Y=>{const ue=N==null?void 0:N.encodeMp3(Y),Q=new Blob(ue,{type:wb}),_e=new File([Q],sS,{lastModified:new Date().getTime(),type:wb});A==null||A.onRecordingEnded(_e),a.info("VoiceRecorder: Succeeded converting audio file.",_e)}),I==null||(z=I.getAudioTracks)===null||z===void 0||(ne=(fe=z.call(I)).forEach)===null||ne===void 0||ne.call(fe,Y=>Y==null?void 0:Y.stop()),_(!1)},D==null||D.start(),h(D),A==null||A.onRecordingStarted()}).catch(I=>{a.error("VoiceRecorder: Failed getting media stream.",I),h(null)})},[d,N]),C=W.useCallback(()=>{d==null||d.stop(),h(null),_(!1),a.info("VoiceRecorder: Stop recording.")},[d]);return L.createElement(mme.Provider,{value:{start:k,stop:C,isRecordable:f}},e,g&&L.createElement(JF,{hideFooter:!0,onCancel:()=>E(!1)},L.createElement(L.Fragment,null,w.VOICE_RECORDING_PERMISSION_DENIED)))};function eH(n){return{lowerCase:n.toLowerCase(),upperCase:n.toUpperCase()}}function gme(n){return{lowerCase:n.toLowerCase(),upperCase:n.toUpperCase()}}const bme=n=>{if(n==null)return!0;for(const t in n)if(n.hasOwnProperty(t))return!1;return JSON.stringify(n)===JSON.stringify({})},yme=n=>{W.useLayoutEffect(()=>{bme(n)||fc({variables:gn(gn({},{"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}),n)})},[n])},Ku={INIT_SDK:"INIT_SDK",SET_SDK_LOADING:"SET_SDK_LOADING",RESET_SDK:"RESET_SDK",SDK_ERROR:"SDK_ERROR"},nH={initialized:!1,loading:!1,sdk:{},error:!1};function Eme(n,t){return $1(t).with({type:Ku.SET_SDK_LOADING},e=>{let{payload:r}=e;return gn(gn({},n),{},{initialized:!1,loading:r})}).with({type:Ku.SDK_ERROR},()=>gn(gn({},n),{},{initialized:!1,loading:!1,error:!0})).with({type:Ku.INIT_SDK},e=>{let{payload:r}=e;return{sdk:r,initialized:!0,loading:!1,error:!1}}).with({type:Ku.RESET_SDK},()=>nH).otherwise(()=>n)}const tH={initialized:!1,loading:!1,user:{}};function wme(n,t){return $1(t).with({type:d_.INIT_USER},e=>{let{payload:r}=e;return{initialized:!0,loading:!1,user:r}}).with({type:d_.RESET_USER},()=>tH).with({type:d_.UPDATE_USER_INFO},e=>{let{payload:r}=e;return gn(gn({},n),{},{user:r})}).otherwise(()=>n)}function xme(n,t){const[e,r]=W.useState(!0);return W.useEffect(()=>{const a=fm();try{t.warning("sdk changed",a);const l=new dF;l.onDisconnected=()=>{r(!1),t.warning("onDisconnected",{isOnline:e})},l.onReconnectStarted=()=>{r(!1),t.warning("onReconnectStarted",{isOnline:e})},l.onReconnectSucceeded=()=>{r(!0),t.warning("onReconnectSucceeded",{isOnline:e})},l.onReconnectFailed=()=>{n.reconnect(),t.warning("onReconnectFailed")},t.info("Added ConnectionHandler",a),n!=null&&n.addConnectionHandler&&n.addConnectionHandler(a,l)}catch{}return()=>{try{n.removeConnectionHandler(a),t.info("Removed ConnectionHandler",a)}catch{}}},[n]),W.useEffect(()=>{const a=()=>{try{t.warning("Try reconnecting SDK"),n.connectionState!=="OPEN"&&n.reconnect()}catch{}};return window.addEventListener("online",a),()=>{window.removeEventListener("online",a)}},[n]),W.useEffect(()=>{const a=document.querySelector("body");if(e)try{a.classList.remove("sendbird__offline"),t.info("Removed class sendbird__offline from body")}catch{}else try{a.classList.add("sendbird__offline"),t.info("Added class sendbird__offline to body")}catch{}},[e]),e}async function rH(n){let{sdkDispatcher:t,userDispatcher:e,sdk:r}=n;return new Promise(a=>{t({type:Ku.SET_SDK_LOADING,payload:!0}),r!=null&&r.disconnect?r.disconnect().then(()=>{t({type:Ku.RESET_SDK}),e({type:d_.RESET_USER})}).finally(()=>{a(!0)}):a(!0)})}const gx="3.6.6",{INIT_SDK:Sme,SET_SDK_LOADING:Tme,RESET_SDK:Cme,SDK_ERROR:e7}=Ku,{INIT_USER:kme,UPDATE_USER_INFO:Ime,RESET_USER:Nme}=d_;function Ame(n){let{userId:t,appId:e}=n;return`SendbirdProvider | useConnect/setupConnection/Connection failed UserId: ${t} or appId: ${e} missing`}function Ome(n){return`SendbirdProvider | useConnect/setupConnection/Connection failed. ${(n==null?void 0:n.code)||""} ${(n==null?void 0:n.message)||""}`}function Rme(n){let{appId:t,customApiHost:e,customWebSocketHost:r,sdkInitParams:a}=n;const l=gn(gn({modules:[new Qpe,new r0e],newInstance:!0},a??{}),{},{appId:t});return e&&(l.customApiHost=e),r&&(l.customWebSocketHost=r),Bhe.init(l)}async function Mme(n){let{logger:t,sdkDispatcher:e,userDispatcher:r,initDashboardConfigs:a,userId:l,appId:d,customApiHost:h,customWebSocketHost:f,configureSession:_,nickname:g,profileUrl:E,accessToken:w,isUserIdUsedForNickname:x,sdkInitParams:T,customExtensionParams:N,isMobile:P=!1}=n;return new Promise((k,C)=>{var A;if(t==null||(A=t.info)===null||A===void 0||A.call(t,"SendbirdProvider | useConnect/setupConnection/init",{userId:l,appId:d}),e({type:Tme,payload:!0}),l&&d){var U,M,R,I,D,q,z;const B=Rme({appId:d,customApiHost:h,customWebSocketHost:f,sdkInitParams:T});if(_&&typeof _=="function"){var ne;const Q=_(B);t==null||(ne=t.info)===null||ne===void 0||ne.call(t,"SendbirdProvider | useConnect/setupConnection/configureSession",Q),B.setSessionHandler(Q)}t==null||(U=t.info)===null||U===void 0||U.call(t,"SendbirdProvider | useConnect/setupConnection/setVersion",{version:gx}),B==null||(M=B.addSendbirdExtensions)===null||M===void 0||M.call(B,[{product:(R=h_==null?void 0:h_.UIKIT_CHAT)!==null&&R!==void 0?R:"uikit-chat",version:gx,platform:(I=Xu==null?void 0:Xu.JS)!==null&&I!==void 0?I:"js"}],P?(D=od==null?void 0:od.MOBILE_WEB)!==null&&D!==void 0?D:"mobile_web":(q=od==null?void 0:od.WEB)!==null&&q!==void 0?q:"web",N),B.addExtension("sb_uikit",gx);const Y=async Q=>{var _e;if(t==null||(_e=t.info)===null||_e===void 0||_e.call(t,"SendbirdProvider | useConnect/setupConnection/connectCbSucess",Q),e({type:Sme,payload:B}),r({type:kme,payload:Q}),a(B).then(se=>{var me;t==null||(me=t.info)===null||me===void 0||me.call(t,"SendbirdProvider | useConnect/setupConnection/getUIKitConfiguration success",{config:se})}).catch(se=>{var me;t==null||(me=t.error)===null||me===void 0||me.call(t,"SendbirdProvider | useConnect/setupConnection/getUIKitConfiguration failed",{error:se})}),(g!==Q.nickname||E!==Q.profileUrl)&&!(H8(g)&&H8(E))){var le;t==null||(le=t.info)===null||le===void 0||le.call(t,"SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo",{nickname:g,profileUrl:E}),B.updateCurrentUserInfo({nickname:g||Q.nickname||(x?Q.userId:""),profileUrl:E||Q.profileUrl}).then(se=>{var me;t==null||(me=t.info)===null||me===void 0||me.call(t,"SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo success",{nickname:g,profileUrl:E}),r({type:Ime,payload:se})}).finally(()=>{k()})}else k()},ue=Q=>{var _e;const le=Ome(Q);t==null||(_e=t.error)===null||_e===void 0||_e.call(t,le,{e:Q,appId:d,userId:l}),e({type:Cme}),r({type:Nme}),e({type:e7}),C(le)};t==null||(z=t.info)===null||z===void 0||z.call(t,`SendbirdProvider | useConnect/setupConnection/connect connecting using ${w??l}`),B.connect(l,w).then(Q=>Y(Q)).catch(Q=>ue(Q))}else{var fe;const B=Ame({userId:l,appId:d});e({type:e7}),t==null||(fe=t.error)===null||fe===void 0||fe.call(t,B),C(B)}})}async function n7(n){let{logger:t,sdkDispatcher:e,userDispatcher:r,initDashboardConfigs:a,userId:l,appId:d,customApiHost:h,customWebSocketHost:f,configureSession:_,nickname:g,profileUrl:E,accessToken:w,sdk:x,sdkInitParams:T,customExtensionParams:N,isMobile:P}=n;await rH({logger:t,sdkDispatcher:e,userDispatcher:r,sdk:x}),await Mme({logger:t,sdkDispatcher:e,userDispatcher:r,initDashboardConfigs:a,userId:l,appId:d,customApiHost:h,customWebSocketHost:f,configureSession:_,nickname:g,profileUrl:E,accessToken:w,sdkInitParams:T,customExtensionParams:N,isMobile:P})}function Dme(n,t){var e;const{userId:r,appId:a,accessToken:l,isMobile:d,isUserIdUsedForNickname:h}=n,{logger:f,nickname:_,profileUrl:g,configureSession:E,customApiHost:w,customWebSocketHost:x,sdk:T,sdkDispatcher:N,userDispatcher:P,initDashboardConfigs:k,sdkInitParams:C,customExtensionParams:A}=t;return f==null||(e=f.info)===null||e===void 0||e.call(f,"SendbirdProvider | useConnect",gn(gn({},n),t)),W.useEffect(()=>{var M;f==null||(M=f.info)===null||M===void 0||M.call(f,"SendbirdProvider | useConnect/useEffect",{userId:r,appId:a,accessToken:l});try{n7({userId:r,appId:a,accessToken:l,logger:f,nickname:_,profileUrl:g,configureSession:E,customApiHost:w,customWebSocketHost:x,sdk:T,sdkDispatcher:N,userDispatcher:P,initDashboardConfigs:k,isUserIdUsedForNickname:h,sdkInitParams:C,customExtensionParams:A,isMobile:d})}catch(I){var R;f==null||(R=f.error)===null||R===void 0||R.call(f,"SendbirdProvider | useConnect/useEffect",I)}},[r,a,l]),W.useCallback(()=>{var M;f==null||(M=f.info)===null||M===void 0||M.call(f,"SendbirdProvider | useConnect/reconnect/useCallback",{sdk:T});try{n7({userId:r,appId:a,accessToken:l,logger:f,nickname:_,profileUrl:g,configureSession:E,customApiHost:w,customWebSocketHost:x,sdk:T,sdkDispatcher:N,userDispatcher:P,initDashboardConfigs:k,isUserIdUsedForNickname:h,sdkInitParams:C,customExtensionParams:A,isMobile:d})}catch(I){var R;f==null||(R=f.error)===null||R===void 0||R.call(f,"SendbirdProvider | useConnect/reconnect/useCallback",I)}},[T])}const Us={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},Lme=n=>{switch(n){case Us.WARNING:return"color: Orange";case Us.ERROR:return"color: Red";default:return"color: Gray"}},Ume=n=>{let{level:t,title:e,description:r=""}=n;console.log(`%c SendbirdUIKit | ${t} | ${new Date().toISOString()} | ${e} ${r&&"|"}`,Lme(t),r)},bx=()=>{},Pme=()=>({info:bx,error:bx,warning:bx}),t7=(n,t)=>{const e=t||Ume,r=Array.isArray(n)?n:[n],a=d=>(h,f)=>e({level:d,title:h,description:f});return r.reduce((d,h)=>h===Us.DEBUG||h===Us.ALL?gn(gn({},d),{},{info:a(Us.INFO),error:a(Us.ERROR),warning:a(Us.WARNING)}):h===Us.INFO?gn(gn({},d),{},{info:a(Us.INFO)}):h===Us.ERROR?gn(gn({},d),{},{error:a(Us.ERROR)}):h===Us.WARNING?gn(gn({},d),{},{warning:a(Us.WARNING)}):gn({},d),Pme())},Fme=()=>{const n={},t=n.hasOwnProperty;return{__getTopics:()=>n,subscribe:(e,r)=>{t.call(n,e)||(n[e]=[]);const a=n[e].push(r)-1;return{remove:()=>{delete n[e][a]}}},publish:(e,r)=>{t.call(n,e)&&n[e].forEach(a=>{a(r!==void 0?r:{})})}}};function Hme(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;W.useEffect(()=>{const e=document.querySelector(t);return n.forEach(r=>{const a=document.createElement("div");a.setAttribute("id",r),e.appendChild(a)}),()=>{n.forEach(r=>{const a=document.getElementById(r);a&&e.removeChild(a)})}},[])}const Bme=n=>{let{children:t,isVoiceMessageEnabled:e=!0}=n;return e?L.createElement(vme,null,L.createElement(G8,null,t)):L.createElement(G8,null,t)};function Vme(n){var t,e,r,a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U,M,R,I,D;let{legacyConfig:q,uikitOptions:z={}}=n;const{replyType:ne,isMentionEnabled:fe,isReactionEnabled:B,disableUserProfile:Y,isVoiceMessageEnabled:ue,isTypingIndicatorEnabledOnChannelList:Q,isMessageReceiptStatusEnabledOnChannelList:_e,showSearchIcon:le}=q;return{common:{enableUsingDefaultUserProfile:(t=(e=z.common)===null||e===void 0?void 0:e.enableUsingDefaultUserProfile)!==null&&t!==void 0?t:typeof Y=="boolean"?!Y:void 0},groupChannel:{enableOgtag:(r=z.groupChannel)===null||r===void 0?void 0:r.enableOgtag,enableMention:(a=(l=z.groupChannel)===null||l===void 0?void 0:l.enableMention)!==null&&a!==void 0?a:fe,enableReactions:(d=(h=z.groupChannel)===null||h===void 0?void 0:h.enableReactions)!==null&&d!==void 0?d:B,enableTypingIndicator:(f=z.groupChannel)===null||f===void 0?void 0:f.enableTypingIndicator,enableVoiceMessage:(_=(g=z.groupChannel)===null||g===void 0?void 0:g.enableVoiceMessage)!==null&&_!==void 0?_:ue,replyType:(E=(w=z.groupChannel)===null||w===void 0?void 0:w.replyType)!==null&&E!==void 0?E:ne!=null?eH(ne).lowerCase:void 0,threadReplySelectType:(x=z.groupChannel)===null||x===void 0?void 0:x.threadReplySelectType,input:{enableDocument:(T=z.groupChannel)===null||T===void 0||(N=T.input)===null||N===void 0?void 0:N.enableDocument}},groupChannelList:{enableTypingIndicator:(P=(k=z.groupChannelList)===null||k===void 0?void 0:k.enableTypingIndicator)!==null&&P!==void 0?P:Q,enableMessageReceiptStatus:(C=(A=z.groupChannelList)===null||A===void 0?void 0:A.enableMessageReceiptStatus)!==null&&C!==void 0?C:_e},groupChannelSettings:{enableMessageSearch:(U=(M=z.groupChannelSettings)===null||M===void 0?void 0:M.enableMessageSearch)!==null&&U!==void 0?U:le},openChannel:{enableOgtag:(R=z.openChannel)===null||R===void 0?void 0:R.enableOgtag,input:{enableDocument:(I=z.openChannel)===null||I===void 0||(D=I.input)===null||D===void 0?void 0:D.enableDocument}}}}const zme=2e3;function iH(n){let{logger:t,timeout:e,cb:r}=n,a=[],l=null;return{push:f=>{if(a.find(E=>E.url===f.url)?t.info("Channel: Mark as read already in queue",{channel:f}):a.push(f),l)return;const g=a.shift();g&&r(g),l=setInterval(()=>{if(a.length===0&&l){clearInterval(l),l=null;return}const E=a.shift();E&&r(E)},e||zme)},clear:()=>{a=[],l&&(clearInterval(l),l=null)},getQueue:()=>a}}function iC(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];W.useLayoutEffect(()=>()=>{n()},t)}function Gme(n,t){let{isConnected:e}=n,{logger:r}=t;const a=W.useMemo(()=>iH({logger:r,cb:l=>{try{l.markAsRead()}catch(d){r.warning("Channel: Mark as delivered failed",{channel:l,error:d})}}}),[]);return W.useEffect(()=>{e||a.clear()},[e]),iC(()=>{a.clear()}),a}function qme(n,t){let{isConnected:e}=n,{logger:r}=t;const a=W.useMemo(()=>iH({logger:r,cb:l=>{try{l.markAsDelivered()}catch(d){r.warning("Channel: Mark as delivered failed",{channel:l,error:d})}}}),[]);return W.useEffect(()=>{e||a.clear()},[e]),iC(()=>{a.clear()}),a}function jme(n){const t=Vme({legacyConfig:{replyType:n.replyType,isMentionEnabled:n.isMentionEnabled,isReactionEnabled:n.isReactionEnabled,disableUserProfile:n.disableUserProfile,isVoiceMessageEnabled:n.isVoiceMessageEnabled,isTypingIndicatorEnabledOnChannelList:n.isTypingIndicatorEnabledOnChannelList,isMessageReceiptStatusEnabledOnChannelList:n.isMessageReceiptStatusEnabledOnChannelList,showSearchIcon:n.showSearchIcon},uikitOptions:n.uikitOptions});return L.createElement(lfe,{localConfigs:{common:t==null?void 0:t.common,groupChannel:{channel:t==null?void 0:t.groupChannel,channelList:t==null?void 0:t.groupChannelList,setting:t==null?void 0:t.groupChannelSettings},openChannel:{channel:t==null?void 0:t.openChannel}}},L.createElement($me,n))}const $me=n=>{let{appId:t,userId:e,children:r,accessToken:a="",customApiHost:l="",customWebSocketHost:d="",configureSession:h=null,theme:f="light",config:_={},nickname:g="",colorSet:E=null,stringSet:w=null,dateLocale:x=null,profileUrl:T="",voiceRecord:N={maxRecordingTime:hfe,minRecordingTime:ufe},userListQuery:P=null,imageCompression:k={},allowProfileEdit:C=!1,disableMarkAsDelivered:A=!1,renderUserProfile:U=null,onUserProfileMessage:M=null,breakpoint:R=!1,isUserIdUsedForNickname:I=!0,sdkInitParams:D,customExtensionParams:q}=n;const{logLevel:z="",userMention:ne={},isREMUnitEnabled:fe=!1}=_,{isMobile:B}=qd(),[Y,ue]=W.useState(t7(z)),[Q]=W.useState(Fme()),[_e,le]=W.useReducer(Eme,nH),[se,me]=W.useReducer(wme,tH),{configs:Me,configsWithAppAttr:de,initDashboardConfigs:he}=cfe(),K=_e.initialized,ee=_e==null?void 0:_e.sdk;yme(E);const j=Dme({appId:t,userId:e,accessToken:a,isUserIdUsedForNickname:I,isMobile:B},{logger:Y,nickname:g,profileUrl:T,configureSession:h,customApiHost:l,customWebSocketHost:d,sdkInitParams:D,customExtensionParams:q,sdk:ee,sdkDispatcher:le,userDispatcher:me,initDashboardConfigs:he});iC(()=>{typeof ee.disconnect=="function"&&rH({logger:Y,sdkDispatcher:le,userDispatcher:me,sdk:ee})},[ee.disconnect]),W.useEffect(()=>{ue(t7(z))},[z]),Hme(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");const[ae,Re]=W.useState(f);W.useEffect(()=>{Re(f)},[f]),W.useEffect(()=>{const an=document.querySelector("body");an.classList.remove("sendbird-experimental__rem__units"),fe&&an.classList.add("sendbird-experimental__rem__units")},[fe]),W.useEffect(()=>{Y.info("Setup theme",`Theme: ${ae}`);try{const an=document.querySelector("body");an.classList.remove("sendbird-theme--light"),an.classList.remove("sendbird-theme--dark"),an.classList.add(`sendbird-theme--${ae||"light"}`),Y.info("Finish setup theme")}catch(an){Y.warning("Setup theme failed",`${an}`)}return()=>{try{const an=document.querySelector("body");an.classList.remove("sendbird-theme--light"),an.classList.remove("sendbird-theme--dark")}catch{}}},[ae]);const ze=xme(_e.sdk,Y),De=Gme({isConnected:ze},{logger:Y}),Te=qme({isConnected:ze},{logger:Y}),Qe=L.useMemo(()=>w?gn(gn({},lS("en")),w):lS("en"),[w]);return L.createElement(YP.Provider,{value:{stores:{sdkStore:_e,userStore:se},dispatchers:{sdkDispatcher:le,userDispatcher:me,reconnect:j},config:{disableMarkAsDelivered:A,renderUserProfile:U,onUserProfileMessage:M,allowProfileEdit:C,isOnline:ze,userId:e,appId:t,accessToken:a,theme:ae,setCurrenttheme:Re,userListQuery:P,logger:Y,pubSub:Q,imageCompression:gn({compressionRate:.7},k),voiceRecord:N,userMention:{maxMentionCount:(ne==null?void 0:ne.maxMentionCount)||10,maxSuggestionCount:(ne==null?void 0:ne.maxSuggestionCount)||15},markAsReadScheduler:De,markAsDeliveredScheduler:Te,disableUserProfile:!Me.common.enableUsingDefaultUserProfile,isReactionEnabled:K&&de(ee).groupChannel.channel.enableReactions,isMentionEnabled:Me.groupChannel.channel.enableMention,isVoiceMessageEnabled:Me.groupChannel.channel.enableVoiceMessage,replyType:eH(Me.groupChannel.channel.replyType).upperCase,isTypingIndicatorEnabledOnChannelList:Me.groupChannel.channelList.enableTypingIndicator,isMessageReceiptStatusEnabledOnChannelList:Me.groupChannel.channelList.enableMessageReceiptStatus,showSearchIcon:K&&de(ee).groupChannel.setting.enableMessageSearch,groupChannel:{enableOgtag:K&&de(ee).groupChannel.channel.enableOgtag,enableTypingIndicator:Me.groupChannel.channel.enableTypingIndicator,enableDocument:Me.groupChannel.channel.input.enableDocument,threadReplySelectType:gme(Me.groupChannel.channel.threadReplySelectType).upperCase},openChannel:{enableOgtag:K&&de(ee).openChannel.channel.enableOgtag,enableDocument:Me.openChannel.channel.input.enableDocument}}}},L.createElement(hme,{logger:Y,breakpoint:R},L.createElement(Jfe,{stringSet:Qe,dateLocale:x},L.createElement(Bme,{isVoiceMessageEnabled:Me.groupChannel.channel.enableVoiceMessage},r))))};var Wme=`.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  max-width: calc(100% - 120px);
}
.sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  position: absolute;
  left: 20px;
  top: 16px;
}
.sendbird-openchannel-conversation-header__left__title {
  position: absolute;
  left: 60px;
  top: 12px;
}
.sendbird-openchannel-conversation-header__left__sub-title {
  position: absolute;
  left: 60px;
  top: 36px;
}
.sendbird-openchannel-conversation-header__right {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 64px;
  height: 64px;
}
.sendbird-openchannel-conversation-header__right__trigger {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-word {
  display: inline;
  height: -moz-fit-content;
  height: fit-content;
}

.sendbird-word__url {
  margin: 0 4px;
  display: inline;
  color: inherit;
  word-break: break-all;
}
.sendbird-open-channel-preview {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 264px;
  height: 58px;
  min-width: 264px;
  min-height: 58px;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-open-channel-preview {
  width: 100%;
}
.sendbird-theme--light .sendbird-open-channel-preview {
  background-color: var(--sendbird-light-background-50);
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-preview {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-open-channel-preview:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-open-channel-preview:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-open-channel-preview.selected {
  background-color: var(--sendbird-light-primary-100);
  border-left: solid 4px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-open-channel-preview.selected {
  background-color: var(--sendbird-dark-primary-300);
  border-left: solid 4px var(--sendbird-dark-primary-200);
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image {
  position: relative;
  margin-top: 8px;
  margin-left: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image .sendbird-open-channel-preview__cover-image__avatar,
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image .sendbird-open-channel-preview__cover-image__avatar--default {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context {
  position: relative;
  margin-top: 8px;
  margin-left: 16px;
  display: inline-flex;
  flex-direction: column;
  width: calc(100% - 100px);
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 16px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__channel-name {
  position: relative;
  display: inline-block;
  width: 100%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box;
  overflow-x: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__channel-name.frozen {
  max-width: calc(100% - 20px);
}
.sendbird--mobile-mode .sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__channel-name {
  overflow-y: hidden;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__frozen {
  position: relative;
  margin-left: 4px;
  display: inline-flex;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants {
  position: relative;
  margin-top: 8px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 14px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants .sendbird-open-channel-preview__context__participants__icon {
  position: relative;
  display: inline-flex;
  width: 14px;
  height: 14px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants .sendbird-open-channel-preview__context__participants__count {
  position: relative;
  margin-left: 4px;
  display: inline-flex;
  width: 160px;
  max-width: 160px;
  height: 12px;
  box-sizing: border-box;
  overflow-x: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird--mobile-mode .sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants .sendbird-open-channel-preview__context__participants__count {
  overflow-y: hidden;
}
.sendbird-create-open-channel-ui {
  position: relative;
  display: inline-flex;
}

.sendbird-create-open-channel-ui__profile-input {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  justify-content: flex-start;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section {
  position: relative;
  margin-top: 16px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__button {
  position: relative;
  margin-left: 18px;
  display: inline-flex;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__name-section {
  position: relative;
  margin-top: 8px;
  display: inline-flex;
  flex-direction: row;
}
.sendbird-open-channel-list,
.sendbird-open-channel-list-ui {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 256px;
  min-width: 256px;
  height: 100%;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-open-channel-list,
.sendbird--mobile-mode .sendbird-open-channel-list-ui {
  width: 100%;
}
.sendbird-theme--light .sendbird-open-channel-list,
.sendbird-theme--light .sendbird-open-channel-list-ui {
  border-right: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-list,
.sendbird-theme--dark .sendbird-open-channel-list-ui {
  border-right: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-theme--light .sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  background-color: var(--sendbird-light-background-50);
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-theme--dark .sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__title,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__title {
  position: relative;
  margin-left: 24px;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-refresh,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-refresh {
  position: absolute;
  top: 16px;
  right: 56px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-create-channel,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-create-channel {
  position: absolute;
  top: 16px;
  right: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__channel-list,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__channel-list {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 100%;
  height: calc(100% - 64px);
  box-sizing: border-box;
  overflow-y: scroll;
}

.sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  position: relative;
  min-height: 62px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  background-color: var(--sendbird-dark-background-500);
}
@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap");
:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-iconbutton-color: #825eeb;
  --sendbird-message-input-border-active: #7B53EF;
  --sendbird-selected-reaction-button-border-hover: #9E8CF5;
  --sendbird-add-reaction-button-border-hover: #9E8CF5;
  --sendbird-tooltip-background: #000000;
  --sendbird-tooltip-text-color: rgba(255, 255, 255, 0.88);
  --sendbird-button-border-focus: #FFFFFF;
  --sendbird-file-message-icon-background: #FFFFFF;
  --sendbird-font-family-default: "Roboto", sans-serif;
  --sendbird-message-balloon-width: 404px;
}
.sendbird-experimental__rem__units .sendbird-label--h-1 {
  font-size: 1.25rem;
}
.sendbird-experimental__rem__units .sendbird-label--h-2 {
  font-size: 1.125rem;
}
.sendbird-experimental__rem__units .sendbird-label--subtitle-1 {
  font-size: 1rem;
}
.sendbird-experimental__rem__units .sendbird-label--subtitle-2 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--body-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--body-2 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-label--button-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--button-2 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-2 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-3 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-checkbox {
  font-size: 1.375rem;
}
.sendbird-experimental__rem__units .sendbird-mention-user-label {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-mention-user-label.purple {
  font-size: 1.125rem;
}
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--textarea,
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--placeholder {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__input,
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__placeholder {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-tooltip__text {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message__file-message {
  font-size: 0.75rem;
}
.sendbird-modal--full-mobile .sendbird-modal__content {
  width: 100vw;
  max-width: 100%;
  height: 100%;
}
.sendbird--mobile-mode .sendbird-modal--full-mobile .sendbird-modal__content {
  height: -webkit-fill-available;
  height: -moz-available;
  height: stretch;
}

.sendbird-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal__backdrop--clickoutside {
  cursor: pointer;
}

.sendbird-modal__content {
  width: 480px;
  border-radius: 4px;
  z-index: 10001;
  padding: 18px 24px 24px 24px;
  position: relative;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-modal__content {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__content {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}
.sendbird-modal__content .sendbird-modal__close {
  position: absolute;
  top: 16px;
  right: 16px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-modal__content .sendbird-modal__close path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-modal__content .sendbird-modal__close path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-modal__content .sendbird-modal__header {
  margin-bottom: 16px;
}
.sendbird-modal__content .sendbird-modal__body {
  height: calc(100% - 116px);
}
.sendbird-modal__content .sendbird-modal__footer {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  margin-top: 32px;
  text-align: right;
}
.sendbird--mobile-mode .sendbird-modal__content .sendbird-modal__footer {
  position: sticky;
  bottom: 24px;
}
.sendbird-modal__content .sendbird-modal__footer .sendbird-button:last-child {
  margin-left: 8px;
  min-width: 80px;
  height: 40px;
}

.sendbird-modal__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-modal__backdrop {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__backdrop {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-button {
  display: inline-block;
  box-shadow: none;
  border-radius: 4px;
  padding: 0px;
  font-family: var(--sendbird-font-family-default);
  cursor: pointer;
}
.sendbird-button:hover {
  box-shadow: none;
}
.sendbird-button:focus {
  outline: none;
}
.sendbird-button:active {
  box-shadow: none;
}
.sendbird-button.sendbird-button__disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-button.sendbird-button__disabled {
  border: none;
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button.sendbird-button__disabled {
  border: none;
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button.sendbird-button__disabled:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button.sendbird-button__disabled:hover {
  background-color: var(--sendbird-dark-background-400);
}

.sendbird-button--big {
  height: 40px;
}
.sendbird-button--big .sendbird-button__text {
  margin: 10px 16px;
}

.sendbird-button--small {
  height: 32px;
}
.sendbird-button--small .sendbird-button__text {
  margin: 6px 16px;
}

.sendbird-theme--light .sendbird-button--primary {
  border: 1px solid var(--sendbird-light-primary-300);
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--primary {
  border: 1px solid var(--sendbird-dark-primary-200);
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-button--primary:hover {
  background-color: var(--sendbird-light-primary-400);
  border-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-button--primary:hover {
  background-color: var(--sendbird-dark-primary-300);
  border-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-button-border-focus);
}
.sendbird-theme--dark .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-button-border-focus);
}
.sendbird-theme--light .sendbird-button--primary:active {
  background-color: var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-button--primary:active {
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-400);
}

.sendbird-button--secondary {
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary {
  border: 1px solid var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-button--secondary {
  border: 1px solid var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-button--secondary .sendbird-button__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-button--secondary .sendbird-button__text {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-button--secondary:hover {
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary:hover {
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover {
  border: 1px solid var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-button--secondary.sendbird-button__disabled {
  cursor: not-allowed;
  border: none;
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-button--secondary.sendbird-button__disabled:hover {
  border: none;
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-button--secondary:focus {
  border: 1px solid transparent;
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary:focus {
  box-shadow: var(--sendbird-light-primary-300) 0px 0px 0px 2px;
}
.sendbird-theme--dark .sendbird-button--secondary:focus {
  box-shadow: var(--sendbird-dark-primary-200) 0px 0px 0px 2px;
}
.sendbird-theme--light .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-button--secondary:active {
  box-shadow: none;
}
.sendbird-theme--light .sendbird-button--secondary:active {
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:active {
  border: 1px solid var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--secondary:active .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:active .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-button--danger {
  border: 1px solid var(--sendbird-light-error-300);
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-button--danger {
  border: 1px solid var(--sendbird-dark-error-200);
  background-color: var(--sendbird-dark-error-200);
}
.sendbird-theme--light .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-button--danger:hover {
  background-color: var(--sendbird-light-error-400);
  border-color: var(--sendbird-light-error-400);
}
.sendbird-theme--dark .sendbird-button--danger:hover {
  background-color: var(--sendbird-dark-error-400);
  border-color: var(--sendbird-dark-error-400);
}
.sendbird-theme--light .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-300);
  border-color: var(--sendbird-button-border-focus);
}
.sendbird-theme--dark .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-300);
  border-color: var(--sendbird-button-border-focus);
}
.sendbird-button--danger:active {
  box-shadow: none;
}
.sendbird-theme--light .sendbird-button--danger:active {
  background-color: var(--sendbird-light-error-500);
}
.sendbird-theme--dark .sendbird-button--danger:active {
  background-color: var(--sendbird-dark-error-500);
}
.sendbird-theme--light .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-400);
}
.sendbird-theme--dark .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-400);
}
.sendbird-theme--light .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-500);
}
.sendbird-theme--dark .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-500);
}

.sendbird-button--disabled {
  border: 1px solid transparent;
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-button--disabled {
  background-color: var(--sendbird-light-background-200);
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--disabled {
  background-color: var(--sendbird-dark-background-400);
  color: var(--sendbird-dark-onlight-01);
}
.sendbird--mobile-mode .sendbird-label {
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}

[class*=sendbird-label] {
  font-family: var(--sendbird-font-family-default);
}

.sendbird-label--h-1 {
  font-size: 20px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.4;
  letter-spacing: -0.2px;
}

.sendbird-label--h-2 {
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: -0.2px;
}

.sendbird-label--subtitle-1 {
  font-size: 16px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.38;
  letter-spacing: -0.2px;
}

.sendbird-label--subtitle-2 {
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.14;
  letter-spacing: -0.2px;
}

.sendbird-label--body-1 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--body-2 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal;
}

.sendbird-label--button-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--button-2 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--caption-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--caption-2 {
  font-size: 12px;
  font-weight: bold;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
}

.sendbird-label--caption-3 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
}

.sendbird-theme--light .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02);
}
.sendbird-theme--dark .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02);
}

.sendbird-theme--light .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-label--color-error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200);
}

.sendbird-theme--light .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200);
}
.sendbird-icon {
  display: inline-block;
}
.sendbird-icon:focus {
  outline: none;
}

.sendbird-theme--light .sendbird-icon-color--primary [class*=fill] {
  fill: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-icon-color--primary [class*=fill] {
  fill: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-icon-color--primary-2 [class*=fill] {
  fill: var(--sendbird-light-primary-200);
}
.sendbird-theme--dark .sendbird-icon-color--primary-2 [class*=fill] {
  fill: var(--sendbird-dark-primary-400);
}

.sendbird-theme--light .sendbird-icon-color--primary [class*=stroke] {
  stroke: var(--sendbird-light-primary-300);
  stroke-width: 2px;
  stroke-linejoin: round;
}
.sendbird-theme--dark .sendbird-icon-color--primary [class*=stroke] {
  stroke: var(--sendbird-dark-primary-200);
  stroke-width: 2px;
  stroke-linejoin: round;
}

.sendbird-theme--light .sendbird-icon-color--secondary [class*=fill] {
  fill: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-icon-color--secondary [class*=fill] {
  fill: var(--sendbird-dark-secondary-200);
}

.sendbird-theme--light .sendbird-icon-color--content [class*=fill] {
  fill: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-icon-color--content [class*=fill] {
  fill: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-icon-color--content-inverse [class*=fill] {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-icon-color--content-inverse [class*=fill] {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-icon-color--white [class*=fill] {
  fill: #ffffff;
}

.sendbird-icon-color--gray [class*=fill] {
  fill: var(--sendbird-light-onlight-04);
}

.sendbird-theme--light .sendbird-icon-color--sent [class*=fill] {
  fill: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-icon-color--sent [class*=fill] {
  fill: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-icon-color--read [class*=fill] {
  fill: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-icon-color--read [class*=fill] {
  fill: var(--sendbird-dark-secondary-200);
}

.sendbird-theme--light .sendbird-icon-color--on-background-1 [class*=fill] {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-1 [class*=fill] {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-icon-color--on-background-2 [class*=fill] {
  fill: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-2 [class*=fill] {
  fill: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-icon-color--on-background-3 [class*=fill] {
  fill: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-3 [class*=fill] {
  fill: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-icon-color--on-background-4 [class*=fill] {
  fill: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-4 [class*=fill] {
  fill: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-icon-color--background-3 [class*=fill] {
  fill: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-icon-color--background-3 [class*=fill] {
  fill: var(--sendbird-dark-background-400);
}

.sendbird-theme--light .sendbird-icon-color--error [class*=fill] {
  fill: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-icon-color--error [class*=fill] {
  fill: var(--sendbird-dark-error-200);
}
.sendbird-iconbutton {
  color: var(--sendbird-iconbutton-color);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 3px;
  background-color: transparent;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  border: 1px solid transparent;
  border-radius: 4px;
  outline: 0px;
}
.sendbird-iconbutton .sendbird-iconbutton__inner {
  height: 100%;
}
.sendbird-theme--light .sendbird-iconbutton .sendbird-iconbutton__inner svg {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-iconbutton .sendbird-iconbutton__inner svg {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-iconbutton:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-iconbutton:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-iconbutton:active {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-iconbutton:active {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-iconbutton:disabled {
  cursor: not-allowed !important;
}
.sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
  fill: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
  fill: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-channel-list {
  width: 320px;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-list {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-list {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-channel-list {
  width: 100%;
}

.sendbird-channel-list__header {
  height: 64px;
  min-height: 64px;
}

.sendbird-channel-list__body {
  flex: 1 1 0;
  -ms-flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}
.sendbird-channel-header {
  position: relative;
  height: 64px;
  min-height: 64px;
  width: 320px;
  padding: 8px 64px 8px 8px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-channel-header {
  width: 100%;
}
.sendbird-channel-header.sendbird-channel-header--allow-edit .sendbird-channel-header__title {
  cursor: pointer;
}
.sendbird-channel-header .sendbird-channel-header__title {
  display: flex;
  flex-direction: row;
  width: 260px;
  height: 48px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:hover {
  background: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:hover {
  background: var(--sendbird-dark-background-500);
}
.sendbird-channel-header .sendbird-channel-header__title:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:focus {
  background: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:focus {
  background: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:active {
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:active {
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__left {
  width: 48px;
  padding: 8px;
  box-sizing: border-box;
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right {
  margin-left: 4px;
  padding-top: 8px;
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__name,
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__user-id {
  display: block;
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-header .sendbird-channel-header__right-icon {
  position: absolute;
  right: 16px;
  top: 16px;
}
.sendbird-image-renderer {
  overflow: hidden;
  position: relative;
}

.sendbird-image-renderer__hidden-image-loader {
  display: none;
}

.sendbird-image-renderer,
.sendbird-image-renderer__image {
  width: 320px;
  height: 180px;
}
.sendbird-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  position: relative;
}
.sendbird-avatar:focus {
  outline: none;
}
.sendbird-avatar .sendbird-avatar-img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-avatar .sendbird-avatar-img {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:first-child {
  transform: translate(2%, -50%);
}
.sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:last-child {
  transform: translate(-102%, -50%);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--upper .sendbird-avatar-img:first-child {
  transform: translate(-50%, -102%);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:first-child {
  transform: translate(-77%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:last-child {
  transform: translate(-23%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:first-child {
  transform: translate(-77%, -77%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(2) {
  transform: translate(-23%, -77%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(3) {
  transform: translate(-77%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:last-child {
  transform: translate(-23%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar-img--default {
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-avatar .sendbird-avatar-img--default {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img--default {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird--mobile-mode .sendbird-add-channel__modal .sendbird-modal__content {
  margin: 0 40px;
}

.sendbird-add-channel__rectangle-wrap {
  margin-top: 26px;
}

.sendbird-add-channel__rectangle-footer {
  text-align: right;
  margin-top: 32px;
}

.sendbird-add-channel__rectangle {
  width: 432px;
  height: 72px;
  border-radius: 4px;
  margin-bottom: 8px;
  padding: 25px 72px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird--mobile-mode .sendbird-add-channel__rectangle {
  min-width: 288px;
  width: 100%;
  padding-right: 0;
}
.sendbird-theme--light .sendbird-add-channel__rectangle {
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-add-channel__rectangle {
  border: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-add-channel__rectangle .sendbird-icon {
  position: absolute;
  left: 22px;
  top: 24px;
}
.sendbird-create-channel--content {
  width: 480px;
  max-height: 552px;
}

.sendbird-create-channel--scroll {
  height: 360px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-create-channel--scroll {
  height: calc(100vh - 200px);
  height: calc(var(--sendbird-vh, 1vh) * 100 - 200px);
}
.sendbird-user-list-item {
  display: block;
  position: relative;
  box-sizing: border-box;
  width: 432px;
  height: 56px;
}
.sendbird--mobile-mode .sendbird-user-list-item {
  width: 100%;
}
.sendbird-theme--light .sendbird-user-list-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-user-list-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-user-list-item .sendbird-user-list-item__avatar {
  position: absolute;
  top: 8px;
  left: 0px;
  cursor: pointer;
}
.sendbird-user-list-item .sendbird-muted-avatar {
  position: absolute;
  top: 8px;
  left: 0px;
  pointer-events: none;
}
.sendbird-user-list-item .sendbird-user-list-item__title {
  position: absolute;
  top: 17px;
  left: 56px;
  max-width: 250px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item .sendbird-user-list-item__title {
  max-width: 62%;
}
.sendbird-user-list-item .sendbird-user-list-item__subtitle {
  position: absolute;
  top: 23px;
  left: 140px;
  max-width: 237px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item .sendbird-user-list-item__subtitle {
  max-width: 40%;
}
.sendbird-user-list-item .sendbird-user-list-item__checkbox {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-user-list-item .sendbird-user-list-item__action {
  position: absolute;
  right: 0;
  top: 10px;
}
.sendbird-user-list-item .sendbird-user-list-item__operator {
  position: absolute;
  right: 40px;
  top: 22px;
}
.sendbird-user-list-item .sendbird-user-list-item__operator.checkbox {
  right: 66px;
}
.sendbird-muted-avatar {
  border-radius: 50%;
  display: inline-block;
}
.sendbird-muted-avatar .sendbird-muted-avatar__icon {
  position: relative;
}
.sendbird-muted-avatar .sendbird-muted-avatar__icon .sendbird-icon {
  position: absolute;
  top: 4px;
  left: 4px;
}
.sendbird-muted-avatar .sendbird-muted-avatar__bg {
  opacity: 0.5;
  position: absolute;
  border-radius: 50%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-muted-avatar .sendbird-muted-avatar__bg {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-muted-avatar .sendbird-muted-avatar__bg {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-checkbox {
  display: inline-block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.sendbird-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.sendbird-checkbox--checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  border-radius: 2px;
  background-color: inherit;
}
.sendbird-theme--light .sendbird-checkbox--checkmark {
  border: solid 2px var(--sendbird-light-background-400);
}
.sendbird-theme--dark .sendbird-checkbox--checkmark {
  border: solid 2px var(--sendbird-dark-background-300);
}
.sendbird-theme--light .sendbird-checkbox--checkmark.disabled {
  border: solid 2px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-checkbox--checkmark.disabled {
  border: solid 2px var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-light-primary-300);
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-dark-primary-200);
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  cursor: default;
}
.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-light-onlight-04);
  border: solid 2px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-dark-ondark-04);
  border: solid 2px var(--sendbird-dark-ondark-04);
}

.sendbird-checkbox--checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark:after {
  display: block;
}

.sendbird-theme--light .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-light-background-50);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
.sendbird-theme--dark .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-dark-background-600);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
.sendbird__user-profile {
  width: 320px;
  border-radius: 4px;
  padding: 24px;
  box-sizing: border-box;
  text-align: center;
}
.sendbird-theme--light .sendbird__user-profile {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird__user-profile {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird__user-profile .sendbird__user-profile-avatar {
  margin: 8px 0px;
}
.sendbird__user-profile .sendbird__user-profile-name {
  max-width: 100%;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
}
.sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-name {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-name {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird__user-profile .sendbird__user-profile-message {
  margin-top: 20px;
}
.sendbird__user-profile .sendbird__user-profile-message button {
  width: 272px;
}
.sendbird__user-profile .sendbird__user-profile-separator {
  margin: 24px 0px;
  height: 1px;
}
.sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-separator {
  background-color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-separator {
  background-color: var(--sendbird-dark-ondark-04);
}
.sendbird__user-profile .sendbird__user-profile-userId--label,
.sendbird__user-profile .sendbird__user-profile-userId--value {
  width: 100%;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  display: block;
  text-align: left;
}
.sendbird__user-profile .sendbird__user-profile-userId--label {
  margin-bottom: 8px;
}
.sendbird-context-menu {
  display: "inline";
}

.sendbird__offline .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: not-allowed;
}

.sendbird-dropdown__menu {
  z-index: 99999;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 140px;
  margin: 0px;
  padding: 8px 0px;
  border-radius: 4px;
  list-style: none;
}
.sendbird-theme--light .sendbird-dropdown__menu {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__menu {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: pointer;
  white-space: nowrap;
  padding: 8px 16px;
}
.sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
  background-color: var(--sendbird-dark-background-400);
}

.sendbird-dropdown__reaction-bar {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 44px;
  max-width: 352px;
  max-height: 208px;
  overflow-y: scroll;
  margin: 0px;
  padding: 8px;
  border-radius: 8px;
  list-style: none;
}
.sendbird-theme--light .sendbird-dropdown__reaction-bar {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__reaction-bar {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button, .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button--selected {
  margin: 4px;
}

.sendbird-dropdown__menu-backdrop {
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.sendbird-sort-by-row {
  display: flex;
  justify-content: flex-start;
  align-items: center;
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__content {
  max-width: calc(100% - 80px);
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__close {
  display: none;
}
.sendbird-channel-preview__leave--mobile .sendbird-channel-preview__leave-label--mobile {
  text-decoration: none;
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__header span {
  display: inline-block;
  width: calc(100% - 120px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed;
}

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px;
}
.sendbird-theme--light .sendbird-channel-preview {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-preview {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird--mobile-mode .sendbird-channel-preview {
  width: 100%;
}
.sendbird-channel-preview:focus {
  outline: none;
}
.sendbird-channel-preview .sendbird-channel-preview__avatar {
  width: 56px;
  height: 56px;
}
.sendbird-channel-preview .sendbird-channel-preview__content {
  width: 100%;
  height: 100%;
  margin-left: 16px;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content {
  position: relative;
  max-width: calc(100% - 72px);
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
  display: flex;
  justify-content: space-between;
  width: 216px;
  height: 16px;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
  width: auto;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
  display: flex;
  justify-content: flex-start;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
  padding-right: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 128px;
  word-break: break-all;
  white-space: nowrap;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
  margin-top: 2px;
  margin-left: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
  padding-left: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
  margin-left: 4px;
  margin-bottom: 4px;
  white-space: nowrap;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at.sendbird-message-status {
  max-width: 74px;
  justify-content: flex-end;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
  margin-top: 8px;
  width: 216px;
  height: 32px;
  display: flex;
  justify-content: space-between;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
  width: 100%;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
  display: flex;
  align-items: center;
  margin-left: 8px;
  margin-bottom: 12px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count .sendbird-channel-preview__content__lower__unread-message-count__mention {
  display: inline-flex;
  align-items: center;
  margin-right: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__action {
  position: absolute;
  top: 12px;
  right: 12px;
  display: inline-block;
}
.sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
  display: none;
}
.sendbird-theme--light .sendbird-channel-preview:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-channel-preview:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
  display: inline-block;
}
.sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
  display: none;
}
.sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
  display: none;
}

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px;
}
.sendbird-theme--light .sendbird-channel-preview--active {
  border-left: solid 4px var(--sendbird-light-primary-300);
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-channel-preview--active {
  border-left: solid 4px var(--sendbird-dark-primary-200);
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
  color: var(--sendbird-dark-primary-200);
}

.sendbird--mobile-mode .sendbird-channel-preview__content__lower__unread-message-count {
  position: absolute;
  right: 0;
}
.sendbird-chat-header--default-avatar {
  width: 56px;
  height: 56px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-chat-header--default-avatar {
  background-color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-chat-header--default-avatar {
  background-color: var(--sendbird-dark-secondary-200);
}
.sendbird-badge {
  height: 20px;
  min-width: 20px;
  border-radius: 10px;
  display: inline-block;
}
.sendbird-theme--light .sendbird-badge {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-badge {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-badge .sendbird-badge__text {
  margin: 0px 6px;
}
.sendbird-mention-user-label {
  display: inline-block;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
  white-space: pre-line;
  width: -moz-fit-content;
  width: fit-content;
  max-width: 100%;
  height: 16px;
}
.sendbird-mention-user-label:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-mention-user-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-mention-user-label {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-mention-user-label.reverse {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-mention-user-label.reverse {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-mention-user-label.purple {
  font-family: Roboto;
  font-size: 18px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
.sendbird-theme--light .sendbird-mention-user-label.purple {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-mention-user-label.purple {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-textbutton {
  text-decoration: underline;
  cursor: pointer;
  display: inline-block;
}

.sendbird-textbutton--not-underline {
  text-decoration: none;
  cursor: pointer;
}

.sendbird-textbutton--disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-textbutton--disabled {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-textbutton--disabled {
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-color--onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-color--onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-color--onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-color--onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-theme--light .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-color--onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-color--onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-color--onbackground-4 {
  color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-color--onbackground-4 {
  color: var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-color--oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-color--oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-color--primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-color--primary {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-color--primary--background-color {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-color--primary--background-color {
  background-color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-color--error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-color--error {
  color: var(--sendbird-dark-error-200);
}
.sendbird-theme--light .sendbird-color--error--background-color {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-color--error--background-color {
  background-color: var(--sendbird-dark-error-300);
}
.sendbird-message-status {
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  width: 100%;
  height: 100%;
}
.sendbird-message-status .sendbird-message-status__icon {
  position: relative;
  display: inline-block;
  top: -2px;
}
.sendbird-message-status .sendbird-message-status__icon.hide-icon {
  display: none;
}
.sendbird-message-status .sendbird-message-status__text {
  position: relative;
  display: inline-block;
  margin-left: 4px;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again {
  text-decoration: underline;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again:hover {
  cursor: pointer;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete {
  text-decoration: underline;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete:hover {
  cursor: pointer;
}
.sendbird-loader {
  display: inline-block;
  animation: 1s infinite linear;
  animation-name: rotate;
}

@keyframes rotate {
  from {
    transform: rotate(0);
  }
  to {
    transform: rotate(360deg);
  }
}
.sendbird-edit-user-profile section {
  margin-top: 16px;
}
.sendbird-edit-user-profile section .sendbird-input-label {
  display: block;
  margin-bottom: 12px;
}
.sendbird-edit-user-profile .sendbird-edit-user-profile__img .sendbird-input-label {
  margin-bottom: 12px;
}

.sendbird-edit-user-profile__img {
  position: relative;
}

.sendbird-edit-user-profile__img__avatar-button {
  position: absolute;
  top: 50px;
  left: 96px;
}

.sendbird-edit-user-profile__theme__theme-icon .sendbird-icon {
  cursor: pointer;
}
.sendbird-input {
  display: inline-block;
  width: 100%;
  height: 40px;
  position: relative;
}
.sendbird-input .sendbird-input__input {
  width: 100%;
  height: 100%;
  border-radius: 4px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
  padding: 10px 16px;
  box-sizing: border-box;
  background-color: inherit;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input {
  color: var(--sendbird-light-onlight-01);
  caret-color: var(--sendbird-light-primary-300);
  border: solid 1px var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input {
  color: var(--sendbird-dark-ondark-01);
  caret-color: var(--sendbird-dark-primary-200);
  border: solid 1px var(--sendbird-dark-ondark-03);
}
.sendbird-input .sendbird-input__input:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:focus {
  box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-light-onlight-01);
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:focus {
  box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-dark-ondark-01);
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:active {
  box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-light-onlight-01);
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:active {
  box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-dark-ondark-01);
  border: solid 1px var(--sendbird-dark-primary-200);
}
.sendbird-input .sendbird-input__input:disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:disabled {
  background-color: var(--sendbird-light-background-100);
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:disabled {
  background-color: var(--sendbird-dark-background-500);
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-input .sendbird-input__placeholder {
  position: absolute;
  pointer-events: none;
  top: 10px;
  left: 16px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  line-height: 1.43;
}
.sendbird-theme--light .sendbird-input .sendbird-input__placeholder {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__placeholder {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-input-label {
  margin: 4px 0;
}
.sendbird-place-holder {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}
.sendbird-place-holder .sendbird-place-holder__body {
  display: flex;
  flex-direction: column;
  height: 104px;
  align-items: center;
}
.sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__icon {
  margin-bottom: 10px;
}
.sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__text {
  margin-top: 10px;
}
.sendbird-place-holder .sendbird-place-holder__body__reconnect {
  margin-top: 18px;
  display: flex;
  flex-direction: row;
  cursor: pointer;
}
.sendbird-place-holder .sendbird-place-holder__body__reconnect .sendbird-place-holder__body__reconnect__icon {
  margin-right: 4px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top {
  position: absolute;
  top: 24px;
  display: flex;
  width: 100%;
  flex-direction: column;
  justify-content: center;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text {
  display: flex;
  flex-direction: row;
  justify-content: center;
  padding-left: 16px;
  padding-right: 16px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__search-in {
  display: flex;
  min-width: 60px;
  margin-right: 2px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__channel-name {
  display: block;
  max-width: calc(100% - 62px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__searching,
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__no-result {
  display: flex;
  justify-content: center;
}
.sendbird-conversation {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-conversation {
  background-color: var(--sendbird-light-background-50);
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-conversation {
  background-color: var(--sendbird-dark-background-600);
  border: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-conversation__messages {
  overflow: hidden;
  flex: 1 1 0;
  order: 2;
}

.sendbird-conversation__messages-list {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-end;
}

.sendbird-conversation__footer {
  width: 100%;
  order: 3;
  padding: 0px 0px 24px 0px;
}

@keyframes sbHighlight {
  0% {
    background-color: #FFF2B6;
  }
  99% {
    background-color: #FFF2B6;
  }
}
@keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01);
  }
  99% {
    color: var(--sendbird-dark-onlight-01);
  }
}
@keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6;
  }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6;
  }
}
.sendbird-msg-hoc__animated .sendbird-message-content {
  animation: bounce 1s ease;
}
@keyframes bounce {
  50% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(0);
  }
  90% {
    transform: translateY(-10px);
  }
  100% {
    transform: translateY(0);
  }
}

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body {
  animation-name: sbHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body__message,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body__file-name__text {
  animation-name: sbTextHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-voice-message-item-body {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-message-content-reactions {
  animation-name: sbHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}

.sendbird-conversation__scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column;
}
.sendbird-conversation__scroll-container .sendbird-conversation__padding {
  flex: 1 1 0;
}

.sendbird-conversation__footer {
  position: relative;
  box-sizing: border-box;
  margin-top: 6px;
}
.sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator {
  position: absolute;
  display: inline-flex;
  bottom: 8px;
}
.sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator .sendbird-conversation__footer__typing-indicator__text {
  margin-left: 24px;
  margin-right: 10px;
}
.sendbird-connection-status {
  display: flex;
  align-items: center;
  padding-top: 5px;
}
.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-chat-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-chat-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-chat-header__left {
  margin-right: 24px;
}
.sendbird-chat-header__left, .sendbird-chat-header__right {
  overflow: hidden;
  display: flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-chat-header .sendbird-chat-header__left__title {
  margin-left: 8px;
  margin-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 780px;
}
.sendbird--mobile-mode .sendbird-chat-header .sendbird-chat-header__left__title {
  max-width: calc(100vw - 240px);
}
.sendbird-chat-header .sendbird-chat-header__left__subtitle {
  max-width: 240px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-chat-header .sendbird-chat-header__right__mute {
  margin-right: 18px;
}
.sendbird-chat-header .sendbird-iconbutton--pressed {
  background-color: inherit;
}
.sendbird-chat-header .sendbird-chat-header__right__info {
  margin-left: 16px;
}

.sendbird-chat-header__icon_back {
  margin-right: 8px;
}
.sendbird-conversation__messages {
  position: relative;
}
.sendbird-conversation__messages .sendbird-conversation__messages-padding {
  position: relative;
  padding-left: 24px;
  padding-right: 24px;
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird-conversation__messages .sendbird-separator,
.sendbird-conversation__messages .sendbird-admin-message {
  padding-top: 8px;
  padding-bottom: 8px;
}

.sendbird-conversation__messages__notification {
  position: fixed;
  top: 0px;
  width: calc(100% - 50px);
  margin-left: 25px;
}

.sendbird-conversation__scroll-bottom-button {
  position: sticky;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 30px;
  left: calc(100% - 65px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-05);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button {
  background-color: var(--sendbird-dark-background-400);
  box-shadow: var(--sendbird-dark-shadow-05);
}
.sendbird-conversation__scroll-bottom-button:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button:active {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:active {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-conversation__scroll-bottom-button:focus {
  outline: none;
}
.sendbird-mention-suggest-list {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 56px);
  max-height: 260px;
  overflow: scroll;
  margin-left: 28px;
  margin-right: 28px;
}
.sendbird-theme--light .sendbird-mention-suggest-list {
  border: 1px solid var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-mention-suggest-list {
  border: 1px solid var(--sendbird-dark-background-500);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: 16px 8px;
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__avatar {
  position: relative;
  display: inline-block;
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  position: relative;
  display: inline-block;
  margin-left: 16px;
  max-width: calc(100% - 250px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: calc(100% - 150px);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  position: absolute;
  display: inline-block;
  right: 16px;
  max-width: 180px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 100px;
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: 16px 8px;
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item .sendbird-mention-suggest-list__notice-item__icon {
  margin-right: 4px;
}
.sendbird-separator {
  width: 100%;
  display: flex;
  align-items: center;
}
.sendbird-separator .sendbird-separator__left {
  border: none;
  height: 1px;
  display: inline-block;
  width: 100%;
}
.sendbird-separator .sendbird-separator__right {
  border: none;
  height: 1px;
  display: inline-block;
  width: 100%;
}
.sendbird-separator .sendbird-separator__text {
  margin: 0px 16px;
  display: flex;
  white-space: nowrap;
}
.sendbird-message-input {
  display: inline-block;
  width: 100%;
  position: relative;
}
.sendbird-message-input .sendbird-message-input--textarea {
  position: relative;
  width: 100%;
  border-radius: 4px;
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  height: 56px;
  overflow-y: scroll;
  letter-spacing: normal;
  padding: 18px 64px 18px 16px;
  box-sizing: border-box;
  resize: none;
  font-family: var(--sendbird-font-family-default);
  background-color: inherit;
  white-space: pre-wrap;
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea {
  color: var(--sendbird-light-onlight-01);
  caret-color: var(--sendbird-light-primary-300);
  border: solid 1px var(--sendbird-light-onlight-03);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea {
  color: var(--sendbird-dark-ondark-01);
  caret-color: var(--sendbird-dark-primary-200);
  border: solid 1px var(--sendbird-dark-ondark-03);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-input .sendbird-message-input--textarea:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:focus {
  color: var(--sendbird-light-onlight-01);
  border: solid 1px var(--sendbird-light-primary-300);
  box-shadow: var(--sendbird-light-shadow-message-input);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:focus {
  color: var(--sendbird-dark-ondark-01);
  border: solid 1px var(--sendbird-dark-primary-200);
  box-shadow: var(--sendbird-dark-shadow-message-input);
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:active {
  border: solid 1px var(--sendbird-message-input-border-active);
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:active {
  border: solid 1px var(--sendbird-message-input-border-active);
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-message-input .sendbird-message-input--placeholder {
  position: absolute;
  pointer-events: none;
  top: 18px;
  left: 16px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  line-height: 1.43;
}
.sendbird-message-input .sendbird-message-input--attach {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--attach.is-voice-message-enabled {
  right: 48px;
}
.sendbird-message-input .sendbird-message-input--voice-message {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--send {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--attach-input {
  display: none;
}

.sendbird-message-input__edit {
  padding: 16px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-input__edit {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-input__edit {
  background-color: var(--sendbird-dark-background-700);
}

.sendbird-message-input--edit-action {
  text-align: right;
  margin-top: 4px;
}
.sendbird-message-input--edit-action button:last-child {
  margin-left: 8px;
}
.sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  width: 80px;
}
.sendbird-theme--light .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  border: solid 1px var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  border: solid 1px var(--sendbird-dark-ondark-03);
}
.sendbird-message-input--edit-action .sendbird-message-input--edit-action__save {
  width: 80px;
}

.sendbird-message-input-form__disabled {
  cursor: not-allowed;
}

.sendbird-message-input__disabled {
  pointer-events: none;
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-message-input__disabled .sendbird-message-input--textarea {
  color: var(--sendbird-light-onlight-04);
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input__disabled .sendbird-message-input--textarea {
  color: var(--sendbird-dark-ondark-04);
  border: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-message-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
.sendbird-message-content.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content .sendbird-message-content__middle {
  max-width: 400px;
}
.sendbird--mobile-mode .sendbird-message-content .sendbird-message-content__middle {
  max-width: calc(100vw - 140px);
}
.sendbird-message-content .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.use-quote {
  margin-top: -8px;
  bottom: -8px;
}

.sendbird-message-content__middle__quote-message__quote {
  width: 100%;
}

.sendbird-message-content.incoming .sendbird-message-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px;
}
.sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar {
  position: absolute;
  left: 0px;
  bottom: 2px;
}
.sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar.use-thread-replies {
  bottom: 35px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  position: absolute;
  bottom: 6px;
  right: -84px;
  white-space: nowrap;
  display: flex;
  flex-direction: row;
  min-width: 80px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__sender-name {
  position: relative;
  margin-left: 12px;
  margin-bottom: 4px;
  width: 100%;
  overflow-x: hidden;
  text-overflow: ellipsis;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message:hover {
  cursor: pointer;
}
.sendbird-message-content.incoming .sendbird-message-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.use-reactions {
  width: 70px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.chain-top {
  padding-top: 2px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.chain-top.use-quote {
  padding-top: 18px;
}
.sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu {
  position: relative;
  flex-direction: row;
  height: 32px;
  display: none;
}
.sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-message-content.incoming:hover .sendbird-message-content__right .sendbird-message-content-menu {
  display: inline-flex;
}
.sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none;
}
.sendbird--mobile-mode .sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: inline-flex;
}

.sendbird-message-content.outgoing .sendbird-message-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left.use-reactions {
  width: 70px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left.use-quote .sendbird-message-content-menu {
  top: 18px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu {
  position: absolute;
  top: 2px;
  right: 4px;
  flex-direction: row;
  display: none;
}
.sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container {
  position: relative;
  width: 100%;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  position: absolute;
  bottom: 2px;
  left: -84px;
  white-space: nowrap;
  display: flex;
  justify-content: flex-end;
  box-sizing: content-box;
  min-width: 80px;
  min-height: 16px;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at .sendbird-message-content__middle__body-container__created-at__component-container {
  position: relative;
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__right {
  display: none;
}
.sendbird-message-content.outgoing:hover .sendbird-message-content__left .sendbird-message-content-menu {
  display: inline-flex;
}
.sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none;
}
.sendbird--mobile-mode .sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: inline-flex;
}

.sendbird-message-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column;
}
.sendbird-message-content__middle__body-container .sendbird-message-content__middle__message-item-body {
  width: 100%;
  box-sizing: border-box;
}

.sendbird-message-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-message-content-reactions {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-content-reactions {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-message-content-reactions.primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-content-reactions.primary {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-message-content-reactions:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-message-content-reactions:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-message-content-reactions:hover.primary {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-message-content-reactions:hover.primary {
  background-color: var(--sendbird-dark-primary-300);
}

.sendbird-message-content__middle__thread-replies {
  margin-top: 4px;
}

.sendbird-voice-message-item-body.sendbird-message-content__middle__message-item-body {
  min-width: 136px;
  height: 50px;
}
.sendbird-message-item-menu__list__menu-item:focus-visible {
  outline: none;
}
.sendbird-text {
  color: var(--primary-1);
}
.sendbird-reaction-button {
  border-radius: 8px;
  display: inline-block;
  border: solid 1px transparent;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-button:hover {
  border: solid 1px var(--sendbird-light-background-100);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-button:hover {
  border: solid 1px var(--sendbird-dark-background-400);
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-reaction-button__inner {
  margin: 3px;
}

.sendbird-reaction-button--selected {
  cursor: pointer;
  border-radius: 8px;
  display: inline-block;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-reaction-button--selected {
  border: solid 1px var(--sendbird-light-primary-100);
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-reaction-button--selected {
  border: solid 1px var(--sendbird-dark-primary-400);
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-reaction-button--selected:hover {
  border: solid 1px var(--sendbird-selected-reaction-button-border-hover);
}
.sendbird-reaction-button--selected__inner {
  margin: 3px;
}
.sendbird-reaction-button--selected.sendbird-reactions--pressed {
  display: block !important;
}
.sendbird-emoji-reactions {
  display: inline-block;
  border-radius: 16px;
  box-sizing: border-box;
  width: 100%;
  max-width: var(--sendbird-message-balloon-width);
  min-height: 24px;
  padding: 7px 5px 3px 5px;
}
.sendbird-theme--light .sendbird-emoji-reactions {
  background-color: var(--sendbird-light-background-50);
  border: 1px solid var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-emoji-reactions {
  background-color: var(--sendbird-dark-background-600);
  border: 1px solid var(--sendbird-dark-background-500);
}
.sendbird-emoji-reactions .sendbird-emoji-reactions__reaction-badge {
  margin-left: 2px;
  margin-right: 1px;
  margin-bottom: 4px;
}
.sendbird-emoji-reactions:focus {
  outline: none;
}

.sendbird-emoji-reactions .sendbird-context-menu {
  height: 26px;
}

.sendbird-emoji-reactions__add-reaction-badge {
  position: relative;
  top: -4px;
  display: inline-flex;
  width: 36px;
  height: 24px;
}

.sendbird-emoji-reactions .sendbird-context-menu {
  margin-left: 2px;
}
.sendbird-reaction-badge {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-badge {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-background-500);
}
.sendbird-reaction-badge:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}

.sendbird-reaction-badge--is-add {
  display: inline-block;
  border-radius: 15px;
  width: 36px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge--is-add {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-badge--is-add {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-background-500);
}
.sendbird-reaction-badge--is-add:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge--is-add:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge--is-add:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}
.sendbird-reaction-badge--is-add .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
  left: 8px;
}

.sendbird-reaction-badge--selected {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge--selected {
  background-color: var(--sendbird-light-primary-100);
  border: solid 1px var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-reaction-badge--selected {
  background-color: var(--sendbird-dark-primary-400);
  border: solid 1px var(--sendbird-dark-primary-400);
}
.sendbird-reaction-badge--selected:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge--selected:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge--selected:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}

.sendbird-reaction-badge__inner {
  position: relative;
  display: flex;
  height: 24px;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-left: 20px;
  padding-right: 4px;
}
.sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
  position: absolute;
  top: 2px;
  left: 4px;
}
.sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__count {
  margin-left: 4px;
}
.sendbird-message__bottomsheet__reacted-members {
  position: relative;
  padding: 0px 16px;
  box-sizing: border-box;
  width: 100%;
  height: 46px;
  overflow-x: scroll;
  display: inline-flex;
  flex-direction: row;
  justify-content: center;
  gap: 16px;
}

.sendbird-message__bottomsheet__reacted-members__item {
  position: relative;
  height: 100%;
  display: inline-flex;
  gap: 4px;
  flex-direction: row;
  align-items: center;
}

.sendbird-message__bottomsheet__reactor-list {
  position: relative;
  padding: 0px 16px;
  width: 100%;
  height: 216px;
  box-sizing: border-box;
  display: inline-flex;
  flex-direction: column;
  overflow-y: scroll;
}

.sendbird-message__bottomsheet__reactor-list__item.sendbird-user-list-item {
  border-bottom: 0px;
  min-height: 48px;
}
.sendbird-bottomsheet {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.sendbird-bottomsheet__content {
  z-index: 10001;
  position: fixed;
  bottom: 0;
  left: 0;
}

.sendbird-bottomsheet__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-bottomsheet__backdrop {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-bottomsheet__backdrop {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-tooltip {
  position: relative;
  display: inline-flex;
  justify-content: center;
  max-width: 200px;
  border-radius: 8px;
  padding: 8px 16px;
}
.sendbird-theme--light .sendbird-tooltip {
  background-color: var(--sendbird-light-background-700);
}
.sendbird-theme--dark .sendbird-tooltip {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-tooltip::after {
  content: "";
  position: absolute;
  bottom: -4px;
  width: 8px;
  height: 8px;
  transform: rotate(45deg);
}
.sendbird-theme--light .sendbird-tooltip::after {
  background-color: var(--sendbird-light-background-700);
}
.sendbird-theme--dark .sendbird-tooltip::after {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-tooltip__text {
  font-family: var(--sendbird-font-family-default);
  font-size: 12px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal;
  word-break: keep-all;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-tooltip-wrapper {
  position: relative;
  display: inline-flex;
}
.sendbird-tooltip-wrapper__hover-tooltip {
  position: absolute;
  display: inline-flex;
  width: 200px;
}
.sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container {
  position: relative;
  display: inline-flex;
}
.sendbird-admin-message {
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-admin-message .sendbird-admin-message__text {
  display: flex;
  text-align: center;
}
.sendbird-text-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: content-box;
  padding: 8px 12px;
  border-radius: 16px;
  white-space: pre-line;
  word-break: break-word;
}
.sendbird-text-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-text-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-text-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-text-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-text-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-text-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-text-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-text-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-text-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-text-message-item-body .sendbird-text-message-item-body__text-bubble__message {
  display: inline;
  margin: 0px 2px;
}

div.sendbird-text-message-item-body {
  margin: 0px;
}
.sendbird-word {
  white-space: break-spaces;
}
.sendbird-word .sendbird-word__mention {
  display: inline-block;
}
.sendbird-word .sendbird-word__mention:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
  background-color: var(--sendbird-highlight-100);
}
.sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
  background-color: var(--sendbird-highlight-100);
}
.sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-link-label {
  text-decoration: unset;
}
.sendbird-link-label:hover {
  cursor: pointer;
  text-decoration: underline;
}
.sendbird-link-label:focus {
  outline: none;
}
.sendbird-link-label__label {
  display: inline;
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200);
}
.sendbird-file-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  align-items: center;
  border-radius: 16px;
}
.sendbird-file-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-file-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-file-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-file-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-file-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-file-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-file-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-file-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-file-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  width: 28px;
  height: 28px;
  min-width: 28px;
  min-height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  margin-right: 8px;
}
.sendbird-theme--light .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-file-message-item-body .sendbird-file-message-item-body__file-name {
  position: relative;
  top: -6px;
}
.sendbird-thumbnail-message-item-body {
  position: relative;
  display: block;
  box-sizing: border-box;
  overflow: hidden;
  width: 100%;
  min-width: 360px;
  max-width: 400px;
  height: 270px;
  border-radius: 16px;
}
.sendbird--mobile-mode .sendbird-thumbnail-message-item-body {
  min-width: 160px;
}
.sendbird-thumbnail-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-thumbnail-message-item-body {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-thumbnail-message-item-body {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--light .sendbird-thumbnail-message-item-body:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--dark .sendbird-thumbnail-message-item-body:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__thumbnail {
  position: absolute;
  border-radius: 16px;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder {
  position: absolute;
  width: 100%;
  height: 270px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder .sendbird-thumbnail-message-item-body__placeholder__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
  position: absolute;
  top: 0px;
  display: none;
  width: 100%;
  height: 270px;
  border-radius: 16px;
  background-color: var(--sendbird-light-overlay-01);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__video {
  position: absolute;
  width: 100%;
  height: 270px;
  border-radius: 16px;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper {
  position: absolute;
  width: 100%;
  height: 270px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper .sendbird-thumbnail-message-item-body__icon-wrapper__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-thumbnail-message-item-body:hover {
  cursor: pointer;
}
.sendbird-thumbnail-message-item-body:hover .sendbird-thumbnail-message-item-body__image-cover {
  display: inline-flex;
}
.sendbird-og-message-item-body {
  position: relative;
  display: inline-block;
  width: 100%;
  min-width: 320px;
  max-width: 400px;
}
.sendbird--mobile-mode .sendbird-og-message-item-body {
  min-width: 160px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble {
  position: relative;
  padding: 8px 12px;
  box-sizing: border-box;
  border-radius: 16px 16px 0px 0px;
  word-break: break-word;
  white-space: pre-line;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble .sendbird-og-message-item-body__text-bubble__message {
  display: inline;
  margin: 0px 2px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail {
  position: relative;
  overflow: hidden;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail .sendbird-og-message-item-body__og-thumbnail__image {
  width: 100%;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-og-message-item-body.reactions .sendbird-og-message-item-body__description {
  border-radius: 0px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  padding: 8px 12px;
  display: flex;
  flex-direction: column;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__title,
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__description {
  margin-bottom: 4px;
  width: 100%;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: inline-block;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__url {
  width: 100%;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: inline-block;
  margin: 4px 0px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail:hover,
.sendbird-og-message-item-body .sendbird-og-message-item-body__description:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-primary-300);
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-primary-200);
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-background-100);
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-background-500);
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--light .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--dark .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
  display: none;
  position: absolute;
  top: 0%;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 16px 16px 0px 0px;
}

div.sendbird-og-message-item-body__text-bubble {
  margin: 0px;
}
.sendbird-unknown-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  border-radius: 16px;
}
.sendbird-unknown-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-unknown-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__header {
  display: block;
}
.sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__description {
  display: block;
}
.sendbird-quote-message {
  position: relative;
  display: inline-flex;
  box-sizing: border-box;
  flex-direction: column;
  width: 100%;
  max-width: 400px;
}
.sendbird-quote-message.incoming {
  align-items: flex-start;
}
.sendbird-quote-message.outgoing {
  align-items: flex-end;
}
.sendbird-quote-message .sendbird-quote-message__replied-to {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  height: 16px;
  padding: 0px 12px;
  width: 100%;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__icon {
  position: relative;
  margin-bottom: 4px;
  margin-right: 4px;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  position: relative;
  max-width: 360px;
  overflow: hidden;
  overflow-x: hidden;
  white-space: nowrap;
  word-break: keep-all;
  text-overflow: ellipsis;
  font-size: 12px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text .sendbird-quote-message__replied-to__text__nickname {
  display: inline-block;
  max-width: 148px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text .sendbird-quote-message__replied-to__text__text {
  margin: 0px 4px;
}
.sendbird-quote-message .sendbird-quote-message__replied-message {
  position: relative;
  display: inline-flex;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  position: relative;
  white-space: pre-wrap;
  word-break: break-all;
  font-size: 12px;
  padding: 8px 12px 16px 12px;
  border-radius: 16px;
  opacity: 0.5;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message .sendbird-quote-message__replied-message__text-message__word {
  position: relative;
  display: inline-flex;
  max-height: 30px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  position: relative;
  width: 144px;
  height: 108px;
  border-radius: 6.4px;
  overflow: hidden;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__video,
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__image {
  position: absolute;
  top: 0px;
  display: inline-flex;
  width: 100%;
  height: 100%;
  opacity: 0.5;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder {
  position: absolute;
  display: inline-flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder .sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  position: absolute;
  display: inline-flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
  top: 0px;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  background-color: rgba(255, 255, 255, 0.4);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  background-color: rgba(255, 255, 255, 0.4);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  background-color: rgb(255, 255, 255);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  background-color: rgb(255, 255, 255);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  font-size: 12px;
  padding: 8px 12px 16px 12px;
  border-radius: 16px;
  opacity: 0.5;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message .sendbird-quote-message__replied-message__file-message__type-icon {
  margin-right: 2px;
}
.sendbird-quote-message:hover {
  cursor: pointer;
}

.sendbird-quote-message.unavailable:hover {
  cursor: default;
}

.sendbird-message-content.outgoing .sendbird-quote-message__replied-to {
  flex-direction: row-reverse;
  padding-right: 0px;
}

.sendbird-message-content.incoming .sendbird-quote-message__replied-to {
  padding-left: 0px;
}
.sendbird-message__mobile-context-menu {
  border-radius: 8px;
  width: 180px;
}

.sendbird-message__contextmenu--hyperlink {
  display: flex;
  justify-content: space-between;
}

.sendbird-message__bottomsheet--hyperlink {
  display: block;
}

.sendbird-message__bottomsheet--hyperlink,
.sendbird-message__contextmenu--hyperlink {
  width: 100%;
  text-decoration: none;
  color: inherit;
  font-size: inherit;
  font-weight: inherit;
  font-stretch: normal;
  font-style: normal;
  line-height: inherit;
  letter-spacing: inherit;
  font-family: inherit;
}

.sendbird-message__mobile-context-menu-item .sendbird-dropdown__menu-item__text {
  display: flex;
  justify-content: space-between;
}
.sendbird-theme--light .sendbird-message__mobile-context-menu-item:not(:last-child) {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message__mobile-context-menu-item:not(:last-child) {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-message__bottomsheet {
  width: 100vw;
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  padding-top: 16px;
}
.sendbird-theme--light .sendbird-message__bottomsheet {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message__bottomsheet {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-message__bottomsheet-reaction-bar {
  padding-left: 0;
  display: flex;
  justify-content: center;
  margin-bottom: 0px;
  margin-top: 0;
}

.sendbird-message__bottomsheet-reaction-bar__row {
  display: inline-block;
}
.sendbird-message__bottomsheet-reaction-bar__row.sendbird-message__bottomsheet-reaction-bar__all {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}

.sendbird-message__bottomsheet--action {
  cursor: pointer;
  height: 48px;
  display: flex;
  align-items: center;
  padding-left: 16px;
}
.sendbird-message__bottomsheet--action .sendbird-icon {
  margin-right: 24px;
}

.sendbird-message__bottomsheet--action-disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-message__bottomsheet--action-disabled {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message__bottomsheet--action-disabled {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-ui-thread-replies {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: 20px;
  min-height: 20px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  padding: 4px 10px;
  gap: 4px;
  border-radius: 16px;
  flex: none;
  order: 0;
  flex-grow: 0;
}
.sendbird-theme--light .sendbird-ui-thread-replies {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-ui-thread-replies {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-ui-thread-replies:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-ui-thread-replies:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-ui-thread-replies:hover {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-ui-thread-replies__user-profiles {
  position: relative;
  width: 100%;
  height: 100%;
  gap: 4px;
  display: inline-flex;
  flex-direction: row;
}

.sendbird-ui-thread-replies__user-profiles__avatar {
  position: relative;
  width: 20px;
  height: 20px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

.sendbird-ui-thread-replies__user-profiles__avatar__image {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
}

.sendbird-ui-thread-replies__user-profiles__avatar__cover {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background-color: var(--sendbird-light-overlay-01);
}

.sendbird-ui-thread-replies__user-profiles__avatar__plus {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

.sendbird-ui-thread-replies__reply-counts {
  position: relative;
  min-width: -moz-fit-content;
  min-width: fit-content;
  height: 12px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  white-space: nowrap;
}

.sendbird-ui-thread-replies__icon {
  position: relative;
  display: inline-flex;
}
.sendbird-voice-message-item-body {
  position: relative;
  display: inline-flex;
  width: 100%;
  border-radius: 16px;
  overflow: hidden;
}

.sendbird-voice-message-item-body.is-reactions-contained {
  border-radius: 16px 16px 0px 0px;
}

.sendbird-voice-message-item-body__progress-bar {
  position: absolute;
  width: 100%;
  height: 50px;
}

.sendbird-voice-message-item-body__status-button {
  position: relative;
  top: 8px;
  left: 12px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
}

.sendbird-voice-message-item-body__status-button__button {
  width: 100%;
  height: 100%;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-item-body__status-button__button {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-voice-message-item-body__status-button__button {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-voice-message-item-body__playback-time {
  position: absolute;
  top: 15px;
  right: 12px;
}

.sendbird-voice-message-item-body__status-button__button__pause {
  position: relative;
  display: inline-flex;
  justify-content: space-between;
  align-items: center;
  width: 13.75px;
  height: 13.75px;
}

.sendbird-voice-message-item-body__status-button__button__pause__inner {
  position: relative;
  display: inline-flex;
  width: 4.38px;
  height: 13.75px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-voice-message-item-body__status-button__button__pause__inner {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-voice-message-item-body__status-button__button__pause__inner {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-progress-bar, .sendbird-progress-bar__fill {
  display: inline-flex;
  width: 100%;
  height: 100%;
}

.sendbird-progress-bar {
  justify-content: flex-start;
}

.sendbird-theme--light .sendbird-progress-bar__fill {
  background-color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-progress-bar__fill {
  background-color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .progress-bar-color--primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .progress-bar-color--primary {
  background-color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-progress-bar.progress-bar--disabled, .sendbird-theme--light .progress-bar-color--gray {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-progress-bar.progress-bar--disabled, .sendbird-theme--dark .progress-bar-color--gray {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-progress-bar.progress-bar--disabled .sendbird-progress-bar__fill {
  background-color: transparent;
}
.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-fileviewer__header__right__actions__download .disabled,
.sendbird-fileviewer__header__right__actions__delete .disabled,
.sendbird-fileviewer__header__right__actions__close .disabled {
  cursor: not-allowed;
}

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-fileviewer {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-fileviewer {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-fileviewer .sendbird-fileviewer__header {
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header {
  position: relative;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  align-items: center;
  height: 64px;
  padding: 16px 20px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
  margin-right: 8px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  max-width: 500px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  position: absolute;
  left: 64px;
  top: 10px;
  display: block;
  max-width: calc(100vw - 240px);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-flex;
  margin-left: 8px;
  padding-top: 5px;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  position: absolute;
  left: 56px;
  top: 24px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
  display: flex;
  width: 160px;
  justify-content: flex-end;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
  right: 0;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__content {
  height: calc(100% - 72px);
  margin-top: 8px;
  overflow-y: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
  max-width: 100%;
  max-height: 100%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
  max-width: 90%;
  max-height: 90%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
  max-width: 100%;
  max-height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-notification--hide,
.sendbird-notification {
  position: absolute;
}

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-notification {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-notification {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-notification:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-notification:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-notification:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-notification .sendbird-notification__text {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
}

.sendbird-notification--hide {
  display: none;
}
.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-notification {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-notification {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-notification:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-notification:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-notification:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-notification .sendbird-notification__text {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
}
.sendbird-message-input-wrapper--voice-message,
.sendbird-message-input-wrapper {
  position: relative;
  width: 100%;
}
.sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  position: relative;
  width: 100%;
}
.sendbird-theme--light .sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-theme--light .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  border-top: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-theme--dark .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  border-top: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__message-input,
.sendbird-message-input-wrapper .sendbird-message-input-wrapper__message-input {
  position: relative;
  width: 100%;
  box-sizing: border-box;
  padding-left: 24px;
  padding-right: 24px;
}

.sendbird-theme--light .sendbird-message-input-wrapper--voice-message {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input-wrapper--voice-message {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-quote_message_input {
  position: relative;
  padding: 16px 80px 16px 40px;
  width: 100%;
  height: 76px;
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}
.sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  width: 44px;
  min-width: 44px;
  height: 44px;
  min-height: 44px;
  position: relative;
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote_message_input .sendbird-quote_message_input__body {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  overflow: hidden;
}
.sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__sender-name {
  position: relative;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  box-sizing: border-box;
  margin-bottom: 8px;
}
.sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__message-content {
  position: relative;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  box-sizing: border-box;
}
.sendbird-quote_message_input .sendbird-quote_message_input__close-button {
  position: absolute;
  top: 26px;
  right: 40px;
}
.sendbird-quote_message_input .sendbird-quote_message_input__close-button:hover {
  cursor: pointer;
}
.sendbird-voice-message-input-wrapper .sendbird-voice-message-input__indicator {
  height: 40px;
}

.sendbird-voice-message-input-wrapper-alert__body {
  position: relative;
  display: flex;
  justify-content: flex-end;
  align-items: flex-end;
  width: 100%;
  height: 74px;
}

.sendbird-voice-message-input-wrapper-alert__body__ok-button {
  width: 74px;
}
.sendbird-voice-message-input {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 100%;
  height: 110px;
  padding-top: 22px;
  padding-left: 24px;
  padding-right: 24px;
  box-sizing: border-box;
}

.sendbird-voice-message-input__indicator {
  position: relative;
  display: inline-flex;
  width: 100%;
}

.sendbird-voice-message-input__indicator__progress-bar {
  position: relative;
  display: inline-flex;
  width: 100%;
  border-radius: 28px;
  overflow: hidden;
}

.sendbird-voice-message-input__indicator__on-rec {
  position: absolute;
  top: 14px;
  right: 53px;
}

.sendbird-voice-message-input__indicator__playback-time {
  position: absolute;
  top: 10px;
  right: 16px;
}

.sendbird-voice-message-input__controler {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  margin-top: 14px;
  height: 34px;
  min-height: 34px;
}

.sendbird-voice-message-input__controler__main {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-input__controler__main {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__main {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-voice-message-input__controler__main:hover {
  cursor: pointer;
}

.sendbird-voice-message-input__controler__submit {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-input__controler__submit {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__submit {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-voice-message-input__controler__submit:hover {
  cursor: pointer;
}

.sendbird-theme--light .sendbird-voice-message-input__controler__submit.voice-message--disabled {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__submit.voice-message--disabled {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-voice-message-input__controler__submit.voice-message--disabled:hover {
  cursor: default;
}

@keyframes flickerAnimation {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
.sendbird-voice-message-input__indicator__on-rec {
  width: 12px;
  height: 12px;
  min-width: 12px;
  min-height: 12px;
  border-radius: 50%;
  animation: flickerAnimation 1s infinite;
}
.sendbird-theme--light .sendbird-voice-message-input__indicator__on-rec {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-voice-message-input__indicator__on-rec {
  background-color: var(--sendbird-dark-error-300);
}

.sendbird-voice-message-input__indicator__progress-bar__bar {
  height: 40px;
}

.sendbird-controler-icon {
  position: relative;
  display: inline-block;
}

.sendbird-controler-icon.record-icon {
  width: 20px;
  height: 20px;
  min-width: 20px;
  min-height: 20px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-controler-icon.record-icon {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-controler-icon.record-icon {
  background-color: var(--sendbird-dark-error-300);
}

.sendbird-controler-icon.stop-icon {
  width: 14px;
  height: 14px;
  min-width: 14px;
  min-height: 14px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-controler-icon.stop-icon {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-controler-icon.stop-icon {
  background-color: var(--sendbird-dark-ondark-01);
}

.sendbird-controler-icon.pause-icon {
  display: inline-flex;
  width: 100%;
  gap: 3.75px;
  width: 13.75px;
  height: 13.75px;
  min-width: 13.75px;
  min-height: 13.75px;
}

.sendbird-controler-icon.pause-icon-inner {
  display: inline-flex;
  min-width: 4.38px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-controler-icon.pause-icon-inner {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-controler-icon.pause-icon-inner {
  background-color: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-channel-settings {
  width: 100%;
}
.sendbird-theme--light .sendbird-channel-settings {
  background-color: var(--sendbird-light-background-50);
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings {
  background-color: var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-channel-settings .sendbird-channel-settings__header-icon {
  cursor: pointer;
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-settings .sendbird-channel-settings__members .sendbird-badge__text {
  margin-top: -2px;
}
.sendbird-channel-settings .sendbird-channel-settings__header {
  height: 64px;
  min-height: 64px;
  position: relative;
  padding: 20px 24px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-channel-settings .sendbird-channel-settings__scroll-area {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
  height: calc(100% - 64px);
  overflow-y: auto;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-item {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-item {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item:focus {
  outline: none;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
  cursor: not-allowed;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-left,
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
  position: absolute;
  top: 10px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-left {
  left: 16px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
  right: 16px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon--open {
  transform: rotate(90deg);
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px;
}
.sendbird-theme--light .sendbird-channel-profile {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-profile {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-channel-profile .sendbird-channel-profile--inner {
  height: 92px;
}
.sendbird-channel-profile .sendbird-channel-profile__avatar {
  margin-bottom: 16px;
  display: flex;
  justify-content: center;
}
.sendbird-channel-profile .sendbird-channel-profile__title {
  display: block;
  max-width: 240px;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  height: 18px;
}
.sendbird--mobile-mode .sendbird-channel-profile .sendbird-channel-profile__title {
  max-width: 100%;
}
.sendbird-channel-profile .sendbird-channel-profile__edit {
  position: absolute;
  top: 10px;
  right: 16px;
}

.channel-profile-form .channel-profile-form__img-section {
  position: relative;
}
.channel-profile-form .channel-profile-form__avatar-button {
  position: absolute;
  top: 54px;
  left: 96px;
}
.channel-profile-form .channel-profile-form__avatar {
  margin-top: 16px;
}
.channel-profile-form .channel-profile-form__name-section {
  margin-top: 12px;
}
.channel-profile-form .channel-profile-form__name-section .sendbird-input {
  height: 40px;
}
.sendbird-channel-settings__operator .sendbird-channel-settings__accordion-icon {
  position: absolute;
  left: 14px;
}
.sendbird-channel-settings__operator .sendbird-accordion__panel-heder {
  position: relative;
}

.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-more-members__popup-scroll {
  max-height: 100%;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
  right: 72px;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
  max-width: 240px;
}

.sendbird-channel-settings__empty-list {
  text-align: center;
  margin-top: 12px;
  margin-bottom: 4px;
  display: block;
}

.sendbird-channel-settings-accordion__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px;
}
.sendbird-channel-settings-accordion__footer .sendbird-button:nth-child(2) {
  margin-left: 8px;
}

.sendbird-channel-settings__freeze {
  max-width: 320px;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird--mobile-mode .sendbird-channel-settings__freeze {
  max-width: 100%;
}
.sendbird-theme--light .sendbird-channel-settings__freeze {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings__freeze {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-channel-settings__frozen-icon {
  position: absolute;
  right: 20px;
  top: 12px;
}
.sendbird-channel-settings__frozen-icon .sendbird-icon {
  cursor: pointer;
}

.sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-channel-settings__members .sendbird-badge {
  position: absolute;
  right: 44px;
  top: 12px;
}
.sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-theme--light .sendbird-channel-settings__members .sendbird-badge {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-theme--dark .sendbird-channel-settings__members .sendbird-badge {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label,
.sendbird-theme--light .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label,
.sendbird-theme--dark .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-accordion {
  padding: 8px 0px 16px 0px;
  position: relative;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-accordion {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-accordion {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-accordion .sendbird-accordion__member {
  position: relative;
  padding: 12px 0px 12px 44px;
  height: 40px;
  box-sizing: border-box;
}
.sendbird-accordion .sendbird-accordion__footer {
  display: flex;
  justify-content: flex-start;
  margin-top: 8px;
}

.sendbird-accordion__panel-header {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-accordion__panel-header {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-accordion__panel-header {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-accordion__panel-header:focus {
  outline: none;
}
.sendbird-accordion__panel-header.sendbird-accordion__panel-item__disabled {
  cursor: not-allowed;
}

.sendbird-accordion__panel-icon-left,
.sendbird-accordion__panel-icon-right {
  position: absolute;
  top: 10px;
}

.sendbird-accordion__panel-icon-left {
  left: 16px;
}

.sendbird-accordion__panel-icon-right {
  right: 16px;
}

.sendbird-accordion__panel-icon--open {
  transform: rotate(90deg);
}

.sendbird-theme--light .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-dark-error-300);
}
.sendbird-input-toggle-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
  cursor: pointer;
}

.sendbird-theme--light .sendbird-input-toggle-button--checked {
  background-color: var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input-toggle-button--checked {
  background-color: var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-input-toggle-button--unchecked {
  background-color: var(--sendbird-light-background-300);
  border: 1px solid var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-input-toggle-button--unchecked {
  background-color: var(--sendbird-dark-background-400);
  border: 1px solid var(--sendbird-dark-background-400);
}

.sendbird-input-toggle-button--disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-input-toggle-button--disabled {
  background-color: var(--sendbird-light-background-200);
  border: 1px solid var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-input-toggle-button--disabled {
  background-color: var(--sendbird-dark-background-400);
  border: 1px solid var(--sendbird-dark-background-400);
}

.sendbird-input-toggle-button input {
  position: absolute;
  display: none;
}

.sendbird-input-toggle-button__inner-dot {
  position: absolute;
  border-radius: 50%;
  animation-iteration-count: 1;
}
.sendbird-theme--light .sendbird-input-toggle-button__inner-dot {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-input-toggle-button__inner-dot {
  background-color: var(--sendbird-dark-background-600);
}

/* Manage animation and position by status */
@keyframes sendbirdMoveToRight {
  0% {
    right: 60%;
  }
  100% {
    right: 10%;
  }
}
@keyframes sendbirdMoveToLeft {
  0% {
    right: 10%;
  }
  100% {
    right: 60%;
  }
}
.sendbird-input-toggle-button--turned-on .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToRight;
}

.sendbird-input-toggle-button--turned-off .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToLeft;
}

.sendbird-input-toggle-button--unchecked .sendbird-input-toggle-button__inner-dot {
  right: 60%;
}

.sendbird-input-toggle-button--checked .sendbird-input-toggle-button__inner-dot {
  right: 10%;
}

.sendbird-input-toggle-button--reversed .sendbird-input-toggle-button--turned-on .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToLeft;
}
.sendbird-input-toggle-button--reversed .sendbird-input-toggle-button--turned-off .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToRight;
}
.sendbird-input-toggle-button--reversed.sendbird-input-toggle-button--unchecked .sendbird-input-toggle-button__inner-dot {
  right: 10%;
}
.sendbird-input-toggle-button--reversed.sendbird-input-toggle-button--checked .sendbird-input-toggle-button__inner-dot {
  right: 60%;
}
.sendbird-user-list-item--small {
  display: block;
  position: relative;
  box-sizing: border-box;
  height: 40px;
}
.sendbird-user-list-item--small__avatar {
  cursor: pointer;
  position: absolute;
  top: 10px;
  left: 12px;
}
.sendbird-user-list-item--small .sendbird-muted-avatar {
  position: absolute;
  top: 10px;
  left: 12px;
  pointer-events: none;
}
.sendbird-user-list-item--small__title {
  position: absolute;
  top: 10px;
  left: 54px;
  width: 160px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-user-list-item--small__subtitle {
  position: absolute;
  top: 23px;
  left: 140px;
  max-width: 237px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item--small__subtitle {
  max-width: 40%;
}
.sendbird-user-list-item--small__checkbox {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-user-list-item--small__action {
  display: none;
  position: absolute;
  right: 10px;
  top: 4px;
}
.sendbird-user-list-item--small__operator {
  position: absolute;
  right: 24px;
  top: 10px;
}
.sendbird-theme--light .sendbird-user-list-item--small:hover, .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-user-list-item--small:hover, .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-user-list-item--small:hover .sendbird-user-list-item--small__action, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__action {
  display: block;
}
.sendbird-user-list-item--small:hover .sendbird-user-list-item--small__operator, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__operator {
  display: none;
}
.sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-channel-settings__leave-label--mobile {
  text-decoration: none;
}

.sendbird-channel-settings__leave--mobile .sendbird-modal__content {
  max-width: calc(100% - 80px);
}
.sendbird-channel-settings__leave--mobile .sendbird-modal__close {
  display: none;
}
.sendbird-channel-settings__leave--mobile .sendbird-channel-preview__leave-label--mobile {
  text-decoration: none;
}
.sendbird-channel-settings__leave--mobile .sendbird-modal__header span {
  display: inline-block;
  width: calc(100% - 120px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-more-members__popup-scroll {
  max-height: 100%;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
  right: 72px;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
  max-width: 240px;
}

.sendbird-channel-settings__badge {
  position: absolute;
  right: 48px;
}
.sendbird-theme--light .sendbird-channel-settings__badge {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-settings__badge {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-settings__badge .sendbird-label {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-channel-settings__badge .sendbird-label {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-channel-settings__user-panel .sendbird-channel-settings-accordion__footer {
  padding-left: 14px;
  padding-top: 14px;
}
.sendbird-message-search-pannel {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-search-pannel {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-pannel {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-message-search-pannel {
  width: 100%;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  position: absolute;
  top: 14px;
  left: 48px;
  margin: 0px;
  padding: 0px;
  border: 0px;
  outline: none;
  font-size: 14px;
  width: calc(100% - 90px);
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  color: var(--sendbird-light-onlight-01);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  color: var(--sendbird-dark-ondark-01);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  position: relative;
  display: flex;
  width: 100%;
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__title {
  position: absolute;
  top: 20px;
  left: 24px;
  width: calc(100% - 74px);
  overflow-x: hidden;
  word-break: keep-all;
  text-overflow: ellipsis;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__close-button {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input {
  display: flex;
  position: relative;
  padding: 16px;
  box-sizing: border-box;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  position: relative;
  border-radius: 4px;
  width: 100%;
  height: 44px;
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  border: 1px solid var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  border: 1px solid var(--sendbird-dark-ondark-03);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__search-icon {
  position: absolute;
  top: 10px;
  left: 16px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__spinner {
  position: absolute;
  top: 12px;
  right: 12px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button {
  position: absolute;
  top: 12px;
  right: 12px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button:hover {
  cursor: pointer;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__message-search {
  position: relative;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  overflow-y: hidden;
}
.sendbird-message-search {
  position: relative;
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird-theme--light .sendbird-message-search {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-message-search-item {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  position: relative;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-message-search-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-message-search-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-item:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-item .sendbird-message-search-item__left {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 90px;
  height: 80px;
}
.sendbird-message-search-item .sendbird-message-search-item__right {
  display: flex;
  flex-direction: column;
  width: calc(100% - 106px);
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__sender-name {
  position: absolute;
  top: 12px;
  display: inline;
  max-width: 150px;
  height: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-text {
  box-sizing: border-box;
  display: flex;
  width: inherit;
  height: 32px;
  overflow: hidden;
  text-overflow: ellipsis;
  position: absolute;
  top: 36px;
  word-break: break-word;
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-created-at {
  position: absolute;
  top: 12px;
  right: 18px;
}
.sendbird-message-search-item .sendbird-message-search-item__right-footer {
  width: 16px;
}

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200);
}
.sendbird-message-search-file-item {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-message-search-file-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-file-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-message-search-file-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__left {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 90px;
  height: 80px;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 106px);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__sender-name {
  position: absolute;
  top: 12px;
  display: inline-block;
  max-width: 146px;
  height: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content {
  position: absolute;
  top: 36px;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  display: flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  position: relative;
  margin-right: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 26px;
  min-width: 26px;
  height: 26px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__url {
  height: 16px;
  position: relative;
  display: inline;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
  white-space: nowrap;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__message-created-at {
  position: absolute;
  top: 12px;
  right: 18px;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right-footer {
  width: 16px;
}

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200);
}
.sendbird-thread-ui {
  position: relative;
  max-width: 320px;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
}
.sendbird-theme--light .sendbird-thread-ui {
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-thread-ui {
  border-right: 1px solid var(--sendbird-dark-ondark-04);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-thread-ui__header {
  width: 100%;
}
.sendbird-theme--light .sendbird-thread-ui__header {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__header {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-thread-ui--scroll {
  overflow-y: scroll;
  overflow-x: hidden;
  height: 100%;
  display: inline-flex;
  flex-direction: column;
  justify-content: flex-start;
}

.sendbird-theme--light .sendbird-thread-ui__parent-message-info {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__parent-message-info {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-thread-ui__parent-message-info .sendbird-word__mention .sendbird-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-thread-ui__parent-message-info .sendbird-word__mention .sendbird-label {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-thread-ui__reply-counts {
  position: relative;
  box-sizing: border-box;
  width: 100%;
  height: 42px;
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  padding: 16px 11px;
}
.sendbird-theme--light .sendbird-thread-ui__reply-counts {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__reply-counts {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-thread-ui__thread-list {
  padding: 16px;
}

.sendbird-thread-ui__message-input {
  padding: 0px 16px;
  margin-bottom: 24px;
}

.sendbird-thread-ui__thread-list.sendbird-place-holder {
  box-sizing: border-box;
}
.sendbird-parent-message-info {
  position: relative;
  width: 100%;
  height: -moz-fit-content;
  height: fit-content;
  padding: 12px 12px 12px 16px;
  display: inline-flex;
  flex-direction: row;
  align-items: flex-start;
  box-sizing: border-box;
}

.sendbird-parent-message-info__sender {
  position: relative;
  min-width: 40px;
  min-height: 40px;
}

.sendbird-parent-message-info__content {
  position: relative;
  margin-left: 12px;
  display: inline-flex;
  flex-direction: column;
}

.sendbird-parent-message-info__content__info {
  position: relative;
  max-width: 188px;
  height: 16px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
}

.sendbird-parent-message-info__content__info__sender-name,
.sendbird-parent-message-info__content__info__sender-name--use-reaction {
  position: relative;
  margin-right: 6px;
  word-break: keep-all;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-parent-message-info__content__info__sender-name {
  max-width: 142px;
}

.sendbird-parent-message-info__content__info__sender-name--use-reaction {
  max-width: 110px;
}

.sendbird-parent-message-info__content__info__sent-at {
  position: relative;
  max-width: 52px;
  height: 12px;
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  white-space: nowrap;
  word-break: keep-all;
}

.sendbird-parent-message-info__content__body {
  position: relative;
  max-width: 210px;
  overflow: hidden;
}

.sendbird-parent-message-info__content__body.sendbird-thumbnail-message-item-body.incoming {
  min-width: 200px;
  height: 148px;
}

.sendbird-parent-message-info__content__reactions {
  position: relative;
  max-width: 240px;
  width: 100%;
  height: 100%;
}

.sendbird-parent-message-info__context-menu {
  position: absolute;
  top: 6px;
  right: 12px;
  display: none;
}

.sendbird-parent-message-info__context-menu.use-reaction {
  right: 44px;
}

.sendbird-parent-message-info__reaction-menu {
  position: absolute;
  top: 6px;
  right: 12px;
  display: none;
}

.sendbird-parent-message-info .sendbird-text-message-item-body.reactions {
  border-radius: 16px;
}

.sendbird-theme--light .sendbird-parent-message-info .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-parent-message-info .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-dark-background-600);
}

.sendbird-parent-message-info:hover .sendbird-parent-message-info__context-menu,
.sendbird-parent-message-info:hover .sendbird-parent-message-info__reaction-menu,
.sendbird-parent-message-info__context-menu.sendbird-mouse-hover,
.sendbird-parent-message-info__reaction-menu.sendbird-mouse-hover {
  display: inline-flex;
}

.sendbird-theme--light .sendbird-parent-message-info .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-parent-message-info .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-theme--light .sendbird-parent-message-info:hover,
.sendbird-theme--light .sendbird-parent-message-info:hover .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-parent-message-info:hover,
.sendbird-theme--dark .sendbird-parent-message-info:hover .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird--mobile-mode .sendbird-parent-message-info.sendbird-thread-ui__parent-message-info:hover {
  background-color: transparent;
}

.sendbird-theme--light .sendbird-parent-message-info:hover .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-light-background-100);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-parent-message-info:hover .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-dark-background-500);
  background-color: var(--sendbird-dark-background-500);
}

.parent-message-info--suggested-mention-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
  min-height: 200px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 166px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 68px;
}
.sendbird-parent-message-info-item {
  position: relative;
  margin-top: 8px;
}

.sendbird-parent-message-info-item__text-message,
.sendbird-parent-message-info-item__og-field {
  padding-right: 4px;
  display: inline-block;
  white-space: pre-line;
  word-break: break-all;
}

.sendbird-parent-message-info-item__og-field {
  display: inline-flex;
  flex-direction: column;
  margin-top: 4px;
}

.sendbird-parent-message-info-item__og-field__content {
  display: inline-flex;
  flex-direction: column;
  padding: 8px 12px;
  gap: 4px;
}

.sendbird-parent-message-info-item__file-message {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
}

.sendbird-parent-message-info-item__file-message__file-name {
  display: inline-block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 200px;
}

.sendbird-parent-message-info-item__thumbnail-message {
  position: relative;
  display: block;
  width: 200px;
  height: 148px;
}

.sendbird-parent-message-info-item__thumbnail-message__thumbnail {
  position: absolute;
  border-radius: 16px;
}

.sendbird-parent-message-info-item__thumbnail-message__placeholder {
  position: absolute;
  width: 100%;
  height: 148px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.sendbird-parent-message-info-item__thumbnail-message__placeholder__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-parent-message-info-item__thumbnail-message__image-cover {
  position: absolute;
  top: 0px;
  display: none;
  width: 100%;
  height: 148px;
  border-radius: 16px;
  background-color: var(--sendbird-light-overlay-01);
}

.sendbird-parent-message-info-item__thumbnail-message__video {
  position: absolute;
  width: 100%;
  height: 148px;
  border-radius: 16px;
}

.sendbird-parent-message-info-item__thumbnail-message__icon-wrapper {
  position: absolute;
  width: 100%;
  height: 148px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-parent-message-info-item__thumbnail-message__icon-wrapper__icon {
  width: 56px;
  height: 56px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-parent-message-info-item__thumbnail-message:hover {
  cursor: pointer;
}
.sendbird-parent-message-info-item__thumbnail-message:hover .sendbird-parent-message-info-item__thumbnail-message__image-cover {
  display: inline-flex;
}

.sendbird-parent-message-info-item__voice-message__item {
  min-width: 136px;
  height: 50px;
}
.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-fileviewer__header__right__actions__download .disabled,
.sendbird-fileviewer__header__right__actions__delete .disabled,
.sendbird-fileviewer__header__right__actions__close .disabled {
  cursor: not-allowed;
}

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-fileviewer {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-fileviewer {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-fileviewer .sendbird-fileviewer__header {
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  align-items: center;
  height: 64px;
  padding: 16px 20px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
  margin-right: 8px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  max-width: 500px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-flex;
  margin-left: 8px;
  padding-top: 5px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
  display: flex;
  width: 160px;
  justify-content: flex-end;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
  right: 0;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__content {
  height: calc(100% - 72px);
  margin-top: 8px;
  overflow-y: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
  max-width: 100%;
  max-height: 100%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
  max-width: 90%;
  max-height: 90%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
  max-width: 100%;
  max-height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-thread-header {
  position: relative;
  min-width: 320px;
  width: 320px;
  min-height: 64px;
  height: 64px;
  display: inline;
  padding: 13px 24px;
  box-sizing: border-box;
}

.sendbird-thread-header__title {
  position: relative;
  max-width: 254px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-header__channel-name {
  position: relative;
  max-width: 254px;
  height: 12px;
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-header__action {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 56px;
  height: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.sendbird-thread-list-item .sendbird-separator {
  margin: 4px 0px;
}

.sendbird-thread-list .sendbird-message-content__middle__sender-name {
  white-space: nowrap;
  max-width: 210px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-list .sendbird-message-content.incoming .sendbird-message-content__middle {
  max-width: 200px;
}

.sendbird-thread-list .sendbird-thumbnail-message-item-body.outgoing {
  min-width: 200px;
  min-height: 148px;
  height: 148px;
}

.sendbird-thread-list .sendbird-message-content .sendbird-message-content__middle {
  max-width: 230px;
}

.sendbird-thread-list .sendbird-message-status__icon.sendbird-message-status--sent {
  display: none;
}

.sendbird-thread-list .sendbird-mention-suggest-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 134px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 46px;
}
.sendbird-thread-list-item-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
.sendbird-thread-list-item-content.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle {
  max-width: 200px;
}
.sendbird--mobile-mode .sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle {
  max-width: calc(100vw - 100px);
}
.sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.use-quote {
  margin-top: -8px;
  bottom: -8px;
}

.sendbird-thread-list-item-content__middle__body-container {
  width: 100%;
}

.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content__left__avatar {
  position: absolute;
  left: 0px;
  bottom: 2px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  position: absolute;
  bottom: 6px;
  right: -84px;
  white-space: nowrap;
  display: flex;
  flex-direction: row;
  min-width: 80px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__sender-name {
  position: relative;
  margin-left: 12px;
  margin-bottom: 4px;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message:hover {
  cursor: pointer;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.use-reactions {
  width: 70px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.chain-top {
  padding-top: 2px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.chain-top.use-quote {
  padding-top: 18px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu {
  position: relative;
  flex-direction: row;
  height: 32px;
  display: none;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming:hover .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu {
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming:hover .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  display: none;
}

.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left.use-reactions {
  width: 70px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left.use-quote .sendbird-thread-list-item-content-menu {
  top: 18px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu {
  position: absolute;
  top: 2px;
  right: 4px;
  flex-direction: row;
  display: none;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container {
  position: relative;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  position: absolute;
  bottom: 2px;
  left: -84px;
  white-space: nowrap;
  display: flex;
  justify-content: flex-end;
  box-sizing: content-box;
  min-width: 80px;
  min-height: 16px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at .sendbird-thread-list-item-content__middle__body-container__created-at__component-container {
  position: relative;
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__right {
  display: none;
}
.sendbird-thread-list-item-content.outgoing:hover .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu {
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing:hover .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  display: none;
}

.sendbird-thread-list-item-content__middle__body-container {
  position: relative;
  display: flex;
  flex-direction: column;
}
.sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  width: 100%;
  box-sizing: border-box;
}

.sendbird-thread-list-item-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.primary {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-thread-list-item-content-reactions:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-thread-list-item-content-reactions:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-thread-list-item-content-reactions:hover.primary {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-thread-list-item-content-reactions:hover.primary {
  background-color: var(--sendbird-dark-primary-300);
}

.sendbird-thread-list-item-content__middle__thread-replies {
  margin-top: 4px;
}

.sendbird-thread-list-item-content__middle__message-item-body.sendbird-og-message-item-body,
.sendbird-thread-list-item-content__middle__message-item-body.sendbird-thumbnail-message-item-body {
  min-width: 200px;
  max-width: 200px;
}

.sendbird-thread-list-item-content__middle__message-item-body.sendbird-thumbnail-message-item-body {
  height: 148px;
}

.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__placeholder,
.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper,
.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__video {
  height: 148px;
}

.sendbird-voice-message-item-body.sendbird-thread-list-item-content__middle__message-item-body {
  min-width: 136px;
  height: 50px;
}
.sendbird-thread-message-input .sendbird-mention-suggest-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 134px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 46px;
}

.sendbird-theme--light .sendbird-thread-message-input--voice-message {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-message-input--voice-message {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sb_mobile {
  height: 100%;
}

.sb_mobile__panelwrap {
  height: 100%;
}

.sb-show-main {
  padding: 0 !important;
}

.sb_mobile__panelwrap .sendbird-thread {
  width: 100%;
  height: 100%;
}
.sb_mobile__panelwrap .sendbird-thread .sendbird-thread-ui {
  max-width: 100%;
}
.sb_mobile__panelwrap .sendbird-thread .sendbird-thread-ui .sendbird-thread-ui__header {
  width: 100%;
}
.sendbird-app__wrap {
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box;
}
.sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  width: 320px;
  min-width: 320px;
  overflow-x: hidden;
  overflow-y: scroll;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-right: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-app__wrap .sendbird-app__conversation-wrap {
  flex: 1;
  position: relative;
  width: calc(100% - 320px);
}
.sendbird-app__wrap .sendbird-app__channellist-wrap {
  max-width: 320px;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__channellist-wrap {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-left: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__channellist-wrap {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-app__wrap .sendbird-chat-header__search {
  margin-right: 16px;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-app__wrap .sendbird-channel-settings {
  border-left: none;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-channel-settings {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-channel-settings {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-right: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-app__wrap .sendbird-channel-settings .sendbird-channel-settings__header {
  height: 64px;
}
.sendbird-openchannel-conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-conversation {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-conversation {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll {
  overflow-y: auto;
  flex: 1 1 0;
  order: 2;
  width: 100%;
}
.sendbird-openchannel-conversation .sendbird-openchannel-footer {
  order: 3;
  padding: 12px 24px 24px 24px;
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column;
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container .sendbird-openchannel-conversation-scroll-padding {
  flex: 1 1 0;
}
.sendbird-frozen-channel-notification {
  position: relative;
  margin-top: 8px;
  margin-right: 24px;
  margin-left: 24px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-frozen-channel-notification {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-frozen-channel-notification {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-oepnchannel-header__icon_back {
  position: absolute;
  left: 12px;
  top: 18px;
}

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  max-width: calc(100% - 120px);
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  max-width: calc(100% - 160px);
}
.sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  position: absolute;
  left: 20px;
  top: 16px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  left: 50px;
}
.sendbird-openchannel-conversation-header__left__title {
  position: absolute;
  left: 60px;
  top: 12px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left__title {
  left: 90px;
}
.sendbird-openchannel-conversation-header__left__sub-title {
  position: absolute;
  left: 60px;
  top: 36px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left__sub-title {
  left: 90px;
}
.sendbird-openchannel-conversation-header__right {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 64px;
  height: 64px;
}
.sendbird-openchannel-conversation-header__right__trigger {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-openchannel-conversation-scroll {
  position: relative;
  width: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container {
  position: sticky;
  width: 100%;
  bottom: 0px;
  height: 100%;
  overflow: hidden;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__padding {
  height: 8px;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container {
  width: 100%;
  height: 100%;
  overflow: scroll;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages {
  width: 100%;
  height: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages .sendbird-openchannel-conversation-scroll__container__place-holder {
  width: 100%;
  height: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 8px;
  left: calc(50% - 20px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
  z-index: 1;
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  background-color: var(--sendbird-light-primary-300);
  box-shadow: var(--sendbird-light-shadow-05);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  background-color: var(--sendbird-dark-primary-200);
  box-shadow: var(--sendbird-dark-shadow-05);
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
  background-color: var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-openchannel-user-message {
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-user-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-user-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-user-message:hover .sendbird-openchannel-user-message__context-menu {
  display: block;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__left .sendbird-openchannel-user-message__left__avatar {
  position: relative;
  display: flex;
  margin-top: 8px;
  margin-left: 24px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
  margin: 8px 24px 8px 12px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top {
  position: relative;
  display: flex;
  margin-bottom: 2px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom {
  position: relative;
  display: flex;
  width: 100%;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom .sendbird-openchannel-user-message__right__bottom__message {
  position: relative;
  word-break: break-all;
  white-space: pre-line;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__tail {
  position: relative;
  top: 2px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu {
  position: absolute;
  right: 16px;
  display: none;
}
.sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel__mobile-menu-hyperlink {
  display: block;
  width: 100%;
  text-decoration: none;
  color: inherit;
  font-size: inherit;
  font-weight: inherit;
  font-stretch: normal;
  font-style: normal;
  line-height: inherit;
  letter-spacing: inherit;
  font-family: inherit;
}
.sendbird-openchannel-admin-message {
  position: relative;
  margin: 16px 24px;
  padding: 12px 16px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-openchannel-admin-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-admin-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-admin-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-admin-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-admin-message .sendbird-openchannel-admin-message__text {
  word-wrap: break-word;
}
.sendbird-openchannel-og-message {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-og-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-og-message:hover .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
  display: block;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top {
  box-sizing: border-box;
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left .sendbird-openchannel-og-message__top__left__avatar {
  position: absolute;
  display: flex;
  top: 8px;
  left: 24px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right {
  position: relative;
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  margin: 8px 24px 8px 12px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title {
  position: relative;
  display: flex;
  margin-bottom: 2px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message {
  position: relative;
  display: inline;
  white-space: pre-wrap;
  word-break: break-all;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message .sendbird-word .sendbird-word__url {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message .sendbird-word .sendbird-word__url {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
  position: absolute;
  right: 16px;
  display: none;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom {
  position: relative;
  display: inline;
  margin-bottom: 8px;
  width: 100%;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  width: calc(100% - 64px);
  max-width: 360px;
  left: 64px;
  padding: 12px 12px 4px 12px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  border: solid 1px var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  border: solid 1px var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__url {
  position: relative;
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 8px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title {
  position: relative;
  display: inline-block;
  white-space: pre-wrap;
  overflow-wrap: normal;
  margin-bottom: 8px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__description {
  position: relative;
  display: block;
  white-space: pre-wrap;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-all;
  max-height: 32px;
  margin-bottom: 8px;
  width: 100%;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail {
  box-sizing: border-box;
  position: relative;
  display: block;
  margin-top: 4px;
  margin-bottom: 8px;
  width: 100%;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail:hover {
  cursor: pointer;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image {
  border-radius: 8px;
  width: 100%;
  min-width: 200px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder {
  border-radius: 8px;
  width: 100%;
  min-width: 200px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top__right__tail {
  position: relative;
  left: 64px;
  top: 2px;
}

.sendbird-openchannel-og-message--word {
  display: inline;
  margin: 0px 2px;
  word-break: break-all;
}
.sendbird-openchannel-thumbnail-message {
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu {
  display: block;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left .sendbird-openchannel-thumbnail-message__left__avatar {
  position: absolute;
  display: inline;
  margin-top: 8px;
  margin-left: 28px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  margin-top: 8px;
  margin-bottom: 8px;
  margin-left: 12px;
  width: calc(100% - 64px);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title {
  position: relative;
  display: inline;
  margin-bottom: 4px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sender-name {
  position: relative;
  display: inline;
  margin-right: 4px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sent-at {
  position: relative;
  display: inline;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body {
  position: relative;
  display: flex;
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body:hover .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  opacity: 1;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap {
  position: relative;
  box-sizing: content-box;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  max-width: 360px;
  top: 0px;
  left: 0px;
  border-radius: 8px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video {
  max-width: 360px;
  max-height: 360px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video:hover {
  cursor: pointer;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__video {
  max-width: 360px;
  max-height: 360px;
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon {
  position: absolute;
  top: calc(50% - 28px);
  left: calc(50% - 28px);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image {
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__tail {
  position: relative;
  top: 2px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__context-menu {
  position: absolute;
  display: none;
  top: 8px;
  right: 16px;
}
.sendbird-openchannel-file-message {
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-openchannel-file-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-file-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-file-message:hover .sendbird-openchannel-file-message__context-menu {
  display: block;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__left .sendbird-openchannel-file-message__left__avatar {
  position: absolute;
  display: block;
  margin-top: 8px;
  margin-left: 24px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  margin-left: 12px;
  margin-bottom: 4px;
  width: calc(100% - 64px);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title {
  position: relative;
  display: flex;
  margin-top: 8px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  position: relative;
  display: flex;
  margin-top: 4px;
  margin-bottom: 4px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  position: relative;
  display: inline-block;
  margin: 8px;
  border-radius: 8.6px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__file-name {
  position: relative;
  display: flex;
  margin-top: 22px;
  margin-right: 16px;
  margin-left: 4px;
  overflow: hidden;
  height: 20px;
  max-height: 20px;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu {
  position: absolute;
  display: none;
  top: 8px;
  right: 16px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  overflow-y: scroll;
  position: relative;
}
.sendbird--mobile-mode .sendbird-openchannel-settings {
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-settings {
  background-color: var(--sendbird-light-background-50);
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings {
  background-color: var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-participants-accordion__footer {
  text-align: left;
  padding-top: 16px;
  padding-left: 16px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__operator-accordion-icon {
  position: absolute;
  left: 14px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__accordion-icon,
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-icon__delete {
  position: absolute;
  left: 16px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant {
  height: 100%;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__participant-list {
  padding-top: 64px;
  height: calc(100% - 64px);
  overflow-y: scroll;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  display: block;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-settings .sendbird-participants-accordion,
.sendbird-openchannel-settings .sendbird-openchannel-settings__delete-channel {
  text-align: left;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__members .sendbird-badge__text {
  margin-top: -2px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  height: 64px;
  min-height: 64px;
  position: relative;
  padding: 20px 24px;
  box-sizing: border-box;
  text-align: left;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon {
  cursor: pointer;
  position: absolute;
  top: 20px;
  right: 16px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__placeholder {
  margin-top: 40%;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  padding: 16px;
  box-sizing: border-box;
  position: relative;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url:hover .sendbird-openchannel-settings__copy-icon {
  display: inline-block;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__copy-icon {
  cursor: pointer;
  position: absolute;
  display: none;
  top: 10px;
  right: 18px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  margin-top: 8px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value,
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-label {
  text-align: left;
  display: block;
  word-wrap: break-word;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  display: block;
  cursor: pointer;
  box-sizing: border-box;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item:focus {
  outline: none;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
  cursor: not-allowed;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member {
  position: relative;
  padding: 12px 0px 12px 56px;
  width: 100%;
  height: 40px;
  box-sizing: border-box;
  text-align: left;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-label {
  max-width: 190px;
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.self-operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.user-id {
  position: absolute;
  right: 16px;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__action {
  display: none;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.user-id {
  display: none;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__action {
  display: inline-block;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member-avatar {
  position: absolute;
  left: 16px;
  top: 10px;
  cursor: pointer;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member__action {
  position: absolute;
  display: none;
  top: 4px;
  right: 8px;
  cursor: pointer;
}
.sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer,
.sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer,
.sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer,
.sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px;
}
.sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer .sendbird-button:nth-child(2) {
  margin-left: 8px;
}

.sendbird-participants-accordion__member-avatar__avatar {
  position: absolute;
}

.sendbird-more-users__popup-scroll {
  max-height: 420px;
  overflow: scroll;
}
.sendbird-openchannel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px;
}
.sendbird-theme--light .sendbird-openchannel-profile {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-profile {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-profile .sendbird-openchannel-profile--inner {
  height: 116px;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__avatar {
  margin-bottom: 16px;
  text-align: center;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__title {
  display: inline-block;
  max-width: 240px;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  height: 18px;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__edit {
  position: absolute;
  top: 10px;
  right: 16px;
}`;ka(Wme);var Kme=function(n){var t=n.userId,e=n.appId,r=n.accessToken,a=n.chatInstance;return Ta(void 0,void 0,void 0,function(){var l;return Ca(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),zr.exports.SendbirdLive.init({appId:e,chatInstance:a}),[4,zr.exports.SendbirdLive.authenticate(t,r)];case 1:return d.sent(),[3,3];case 2:return l=d.sent(),console.error(l),[3,3];case 3:return[2]}})})},Qme=function(){function n(){this._topics={},this._topics={}}return n.prototype.subscribe=function(t,e){var r=this;this._topics[t]||(this._topics[t]=[]);var a=this._topics[t].push(e)-1;return{remove:function(){delete r._topics[t][a]}}},n.prototype.publish=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this._topics[t]&&this._topics[t].forEach(function(a){a.apply(void 0,e)})},n}(),Bl=L.createContext({});function Yme(n){var t=this,e,r,a,l,d=n.userId,h=n.appId,f=n.accessToken,_=n.customApiHost,g=n.customWebSocketHost,E=n.children,w=n.theme,x=n.colorSet,T=n.stringSet,N=n.imageSet,P=n.fontSet,k=W.useState(!1),C=k[0],A=k[1],U=W.useState(),M=U[0],R=U[1],I=Xs(),D=(r=(e=I==null?void 0:I.stores)===null||e===void 0?void 0:e.sdkStore)===null||r===void 0?void 0:r.sdk,q=(l=(a=I==null?void 0:I.stores)===null||a===void 0?void 0:a.sdkStore)===null||l===void 0?void 0:l.initialized;return W.useEffect(function(){var z=function(){return Ta(t,void 0,void 0,function(){return Ca(this,function(ne){switch(ne.label){case 0:return q?[4,Kme({userId:d,appId:h,accessToken:f,chatInstance:D})]:[2];case 1:return ne.sent(),R(new Qme),A(!0),[2]}})})};z()},[d,h,f,q]),L.createElement(Bl.Provider,{value:{userId:d,appId:h,accessToken:f,customApiHost:_,customWebSocketHost:g,children:E,theme:w,colorSet:x,stringSet:T,imageSet:N,fontSet:P,pubSub:M}},C?E:L.createElement("div",null))}var r7=function(){return{LIST_HEADER_TITLE:"Live events",LIST_HEADER_BUTTON:"Create",LIST_EMPTY_DESCRIPTION:"No live events",NO_LIVE_EVENT_TITLE:"No live events selected",NO_LIVE_EVENT_DESCRIPTION:"Select a live event from the list or create a live event",EVENT_STATUS_CREATED:"UPCOMING",EVENT_STATUS_READY:"OPEN",EVENT_STATUS_ONGOING:"LIVE",EVENT_STATUS_ENDED:"ENDED",PARTICIPANT_COUNT:function(n){return"".concat(n,"K")},LIST_HOST_NICKNAME_PLACEHOLDER:"",LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE:"Choose your role",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST:"Host",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT:"Participant",LIVE_EVENT_ENTER_ALERT_TITLE:"Can't enter yet",LIVE_EVENT_ENTER_ALERT_DESCRIPTION:"This live event will open soon.",LIVE_EVENT_CREATE_HEADER_TITLE:"New live event",LIVE_EVENT_CREATE_EVENT_TITLE:"Title",LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER:"Add a title",CREATE_EVENT_DEFAULT_TITLE:"Live event",LIVE_EVENT_CREATE_EVENT_USERS_FOR_HOST:"Users who can be host",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE:"Cover image",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON:"Upload photo",LIVE_EVENT_CREATE_HEADER_BUTTON:"Create",LIST_USERS_FOR_HOST_HEADER_TITLE:"Users who can be host",ADD_USERS_FOR_HOST_HEADER_TITLE:"Users",ADD_USERS_FOR_HOST_HEADER_BUTTON:"Add ${}",USER_FOR_HOST_NICKNAME:function(n){return"".concat(n," (You)")},USER_ID_PLACEHOLDER:"Enter user ID",ADD_USERS_FOR_HOST_DIALOG_TITLE:"Add user",NICKNAME:"Nickname",USER_ID:"User ID",USER_SEARCH_USER_COUNT_LIMIT:function(n){return" / 10 users"},USER_SEARCH_USER_COUNT_DESCRIPTION:"You can add up to 10 users to be host.",USER_SEARCH_EXACT_MATCH_DESCRIPTION:"Only an exact match can be found.",USER_SEARCH_NO_MATCH_DESCRIPTION:function(n){return'No matches found with "{keyword}"'},USER_SEARCH_NO_USERS_DESCRIPTION:"There are no users.",USER_SEARCH_ERROR_DESCRIPTION:"Something went wrong. Try again.",USER_SEARCH_COUNT_EXCEED_DESCRIPTION:"Can't add more than 10 users",START_LIVE_EVENT_HEADER_BUTTON:"Start live event",LIVE_EVENT_PARTICIPANT_COUNT:function(n){return"".concat(n)},LIVE_EVENT_MESSAGE_INPUT_PLACEHOLDER:"Enter message",LIVE_EVENT_INFORMATION_TITLE:"Live event information",HOST:"Host",PARTICIPANTS:"Participants",FREEZE_CHAT:"Freeze chat",FREEZE_CHAT_DESCRIPTION:"Only operators can send a message. This doesn't stop the live event.",LIVE_EVENT_ID:"Live event ID",CREATED_AT:"Created on",CREATED_BY:"Created by",STARTED_AT:"Started on",STARTED_BY:"Started by",EDIT_EVENT:"Edit this event?",CHANGE_TITLE:"Change title",CHANGE_COVER_IMAGE:"Change cover image",CHANGE_EVENT_TITLE:"Change event title",CHANGE_EVENT_TITLE_PLACEHOLDER:"Enter title",CHANGE_EVENT_INFO_TITLE:"Edit live event information",TITLE:"Title",COVER_IMAGE:"Cover image",UPLOAD_IMAGE:"Upload photo",EDIT_LIVE_EVENT_USERS_FOR_HOST:"Users who can be host",REMOVE_IMAGE:"Remove photo",CHOOSE_IMAGE:"Choose photo",HOSTS:"Host",HOST_LABEL:"Host",USERS_FOR_HOST:"Users who can be host",USERS_FOR_HOST_DESCRIPTION:"Any one of the users in the list below can act as a host for the live event. If the current host leaves the event, another user can act as the host.",PARTICIPANT_LIST_HEADER_TITLE:"Participants",LIVE_EVENT_END_DIALOG_TITLE:"End live event?",LIVE_EVENT_END_DIALOG_DESCRIPTION:"Do you want to end this live event?",LIVE_EVENT_END_DIALOG_OPTION_END:"End live event",LIVE_EVENT_END_DIALOG_OPTION_EXIT:"Exit without ending",TOTAL_PARTICIPANTS_COUNT:"Total participants",LIVE_EVENT_SUMMARY_DIALOG_TITLE:"Live event ended",PEAK_CONCURRENT_PARTICIPANTS_COUNT:"Peak concurrent participants",DURATION:"Duration",LIVE_EVENT_DISCONNECTED_ALERT_TITLE:"Disconnected temporarily",LIVE_EVENT_DISCONNECTED_ALERT_DESCRIPTION:"Try entering the live event again.",LIVE_EVENT_LIVE_PARTICIPANT_COUNT_DURATION:"1,282 watching now  Started 30 mins ago",LIVE_EVENT_READY_BANNER_DESCRIPTION:"Live event will begin soon.",LIVE_EVENT_LIVE_BANNER_HOST_MUTED_DESCRIPTION:"Host is muted.",LIVE_EVENT_LIVE_BANNER_HOST_UNAVAILABLE_DESCRIPTION:"Host is temporarily unavailable.",LIVE_EVENT_ENDED_DESCRIPTION:"Live event has ended.",LIVE_EVENT_ENDED_DIALOG_DESCRIPTION:"Host has ended this live event.",LIVE_EVENT_ENDED_ENTER_DIALOG_DESCRIPTION:"Can't enter an ended live event.",UNKNOWN_ERROR_ALERT_TITLE:"Oops!",UNKNOWN_ERROR_ALERT_DESCRIPTION:"Something went wrong."}};function Xme(n){var t=n.userId,e=n.appId,r=n.nickname,a=n.accessToken;n.customApiHost,n.customWebSocketHost,n.children,n.theme;var l=n.colorSet,d=n.stringSet,h=W.useMemo(function(){return d?Td(Td({},r7()),d):r7()},[d]);return L.createElement(jme,{userId:t,appId:e,nickname:r,accessToken:a,colorSet:l},L.createElement(Yme,Td({},n,{stringSet:h})))}var i7,a7,s7;function f6(){return f6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},f6.apply(this,arguments)}var Zme=function(t){return W.createElement("svg",f6({width:112,height:64,xmlns:"http://www.w3.org/2000/svg"},t),i7||(i7=W.createElement("defs",null,W.createElement("clipPath",{id:"img-thumbnail-default-1_svg__a"},W.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),W.createElement("clipPath",{id:"img-thumbnail-default-1_svg__b"},W.createElement("path",{d:"M112 0v64H0V0h112z"})),W.createElement("clipPath",{id:"img-thumbnail-default-1_svg__c"},W.createElement("path",{d:"M13.333 10.667A2.667 2.667 0 0 1 15 15.415v11.149c-.544.067-1.099.102-1.661.103h-.01c-.564 0-1.118-.036-1.662-.103V15.415a2.667 2.667 0 0 1 1.667-4.748zm0-10.667c7.364 0 13.334 5.97 13.334 13.333 0 6.092-4.086 11.23-9.667 12.823V22.64a10.004 10.004 0 0 0 6.333-9.307c0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.229 2.625 7.844 6.334 9.307v3.516C4.086 24.563 0 19.426 0 13.333 0 5.97 5.97 0 13.333 0zm0 5.333A8 8 0 0 1 17 20.445V16.22a4.667 4.667 0 1 0-7.333 0v4.225a8 8 0 0 1 3.667-15.112z"})))),a7||(a7=W.createElement("path",{fill:"#FFF",d:"M-64-876h1368V724H-64z"})),s7||(s7=W.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__a)",transform:"translate(-64 -876)"},W.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__b)",transform:"translate(64 876)"},W.createElement("path",{fill:"#5858D3",d:"M0 0h112v64H0V0z"}),W.createElement("g",{clipPath:"url(#img-thumbnail-default-1_svg__c)",transform:"translate(42.667 18.667)"},W.createElement("path",{fill:"#FFF",d:"M0 0h26.667v26.667H0V0z"}))))))},Jme=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.live-event-list-view {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100vh;
  border: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.live-event-list-view .header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  box-sizing: border-box;
  height: 80px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .header .title {
  width: 92px;
  height: 21px;
  margin: 0 13px 0 24px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.live-event-list-view .header .refresh {
  cursor: pointer;
  width: 22px;
  height: 22px;
  object-fit: contain;
}
.live-event-list-view .header .create-button {
  cursor: pointer;
  height: 24px;
  margin: 0 16px 0 auto;
  padding: 2px 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  color: #742ddd;
}
.live-event-list-view .list {
  overflow-y: scroll;
}
.live-event-list-view .list .live-event-elem {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  height: 80px;
  padding: 8px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .list .cover-image__wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  width: 112px;
  height: 64px;
  margin: 7px 12px 7px 8px;
}
.live-event-list-view .list .cover-image__wrapper .cover-image {
  max-width: 100%;
  max-height: 100%;
}
.live-event-list-view .list .detail {
  width: 100%;
}
.live-event-list-view .list .detail .title__wrapper {
  margin: 7px 12px 2px 12px;
  display: flex;
  height: 16px;
}
.live-event-list-view .list .detail .title__wrapper .title {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  background-color: #de360b;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey {
  background-color: #bdbdbd;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-count {
  width: 32px;
  height: 100%;
}
.live-event-list-view .list .detail .created-by {
  height: 16px;
  margin: 2px 4px 10px 12px;
  font-size: 12px;
  line-height: 1.33;
  color: rgba(0, 0, 0, 0.5);
}
.live-event-list-view .list .detail .event-state, .live-event-list-view .list .detail .event-state--ended, .live-event-list-view .list .detail .event-state--ongoing, .live-event-list-view .list .detail .event-state--ready, .live-event-list-view .list .detail .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin: 10px 0 0 12px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.live-event-list-view .list .detail .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.live-event-list-view .list .detail .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.live-event-list-view .list .detail .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.live-event-list-view .list .detail .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}`;ka(Jme);function eve(n){var t,e,r=n.liveEvent,a=n.onClick,l=n.showHostNickname,d=l===void 0?!0:l,h=n.showStatusLabel,f=h===void 0?!0:h,_=W.useContext(Bl).stringSet,g=function(E){switch(E){case"created":return _.EVENT_STATUS_CREATED;case"ready":return _.EVENT_STATUS_READY;case"ongoing":return _.EVENT_STATUS_ONGOING;case"ended":return _.EVENT_STATUS_ENDED}};return L.createElement("div",{className:"live-event-elem",onClick:function(){return a(r)}},L.createElement("div",{className:"cover-image__wrapper"},r.coverUrl?L.createElement("img",{src:r.coverUrl,alt:"cover_image",className:"cover-image"}):L.createElement(Zme,{viewBox:"0 0 112 64",width:112,height:64})),L.createElement("div",{className:"detail"},L.createElement("div",{className:"title__wrapper"},L.createElement("div",{className:"title"},r.title?r.title:_.CREATE_EVENT_DEFAULT_TITLE),L.createElement("div",{className:"participant-count__wrapper"},r.state===zr.exports.LiveEventState.ONGOING?L.createElement("div",{className:"participant-icon--red"}):L.createElement("div",{className:"participant-icon--grey"}),L.createElement("div",{className:"participant-count"},(t=r.participantCount)!==null&&t!==void 0?t:0))),d&&L.createElement("div",{className:"created-by"},r.host?(e=r.host.nickname)!==null&&e!==void 0?e:"HOST":_.LIST_HOST_NICKNAME_PLACEHOLDER),f&&L.createElement("div",{className:"event-state--".concat(r.state)},g(r.state))))}var o7;function _6(){return _6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},_6.apply(this,arguments)}var nve=function(t){return W.createElement("svg",_6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),o7||(o7=W.createElement("path",{d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.667 2.667 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.667 2.667 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 1 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fillRule:"evenodd"})))};function tve(n){var t=this,e=n.onClickCreate,r=n.onClickElem,a=n.queryParams,l=n.renderTitle,d=n.renderCreateButton,h=n.renderLiveEventElem,f=n.showStatusLabel,_=f===void 0?!0:f,g=n.showHostNickname,E=g===void 0?!0:g,w=W.useContext(Bl).stringSet,x=a||{limit:20},T=W.useState(zr.exports.SendbirdLive.createLiveEventListQuery(x)),N=T[0],P=T[1],k=W.useRef(null),C=W.useState([]),A=C[0],U=C[1],M=function(){return Ta(t,void 0,void 0,function(){return Ca(this,function(D){switch(D.label){case 0:return P(zr.exports.SendbirdLive.createLiveEventListQuery(x)),k.current&&(k.current.scrollTop=0),[4,R(!0)];case 1:return D.sent(),[2]}})})},R=function(D){return Ta(t,void 0,void 0,function(){var q;return Ca(this,function(z){switch(z.label){case 0:if(!N.hasNext)return[2];z.label=1;case 1:return z.trys.push([1,3,,4]),[4,N.next()];case 2:return q=z.sent(),D?U(q):(P(N),U(bs(bs([],A,!0),q,!0))),[3,4];case 3:return z.sent(),[3,4];case 4:return[2]}})})},I=function(){if(k.current){var D=k.current,q=D.scrollTop,z=D.scrollHeight,ne=D.clientHeight;q+ne===z&&R(!1)}};return W.useEffect(function(){M()},[a]),L.createElement("div",{className:"live-event-list-view"},L.createElement("div",{className:"header"},(l==null?void 0:l())||L.createElement("div",{className:"title"},w.LIST_HEADER_TITLE),L.createElement("div",{className:"refresh",onClick:M},L.createElement(nve,{viewBox:"0 0 64 64",width:22,height:22})),(d==null?void 0:d())||L.createElement("div",{className:"create-button",onClick:e},w.LIST_HEADER_BUTTON)),L.createElement("div",{className:"list",ref:k,onScroll:I},A.map(function(D){return(h==null?void 0:h({liveEvent:D,onClick:r}))||L.createElement(eve,{key:D.liveEventId,liveEvent:D,showStatusLabel:_,showHostNickname:E,onClick:r})})))}const Ki={USER_UPDATED:"USER_UPDATED",SEND_MESSAGE_START:"SEND_MESSAGE_START",SEND_USER_MESSAGE:"SEND_USER_MESSAGE",SEND_FILE_MESSAGE:"SEND_FILE_MESSAGE",UPDATE_USER_MESSAGE:"UPDATE_USER_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",LEAVE_CHANNEL:"LEAVE_CHANNEL",CREATE_CHANNEL:"CREATE_CHANNEL",UPDATE_OPEN_CHANNEL:"UPDATE_OPEN_CHANNEL"},Sb=()=>{},pp=L.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null,onUserProfileMessage:null}),aC=n=>{const{children:t}=n;return L.createElement(pp.Provider,{value:n},t)};aC.propTypes={children:on.exports.oneOfType([on.exports.element,on.exports.arrayOf(on.exports.element),on.exports.any]).isRequired,isOpenChannel:on.exports.bool,disableUserProfile:on.exports.bool,renderUserProfile:on.exports.func,onUserProfileMessage:on.exports.func};aC.defaultProps={isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null,onUserProfileMessage:null};const co=n=>{let{className:t="",url:e,alt:r="",width:a=null,height:l=null,circle:d=!1,fixedSize:h=!1,placeHolder:f=null,defaultComponent:_=null,onLoad:g=()=>{},onError:E=()=>{}}=n;const[w,x]=W.useState(!1),[T,N]=W.useState(!0),P=W.useMemo(()=>typeof _=="function"?_():_,[_]),k=W.useMemo(()=>f&&typeof f=="function"?f({style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:l,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):null,[f]),C=W.useMemo(()=>(x(!1),L.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:e,alt:r,onLoad:()=>{N(!1),g()},onError:()=>{x(!0),E()}})),[e]);return L.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-image-renderer"].join(" "),style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:l}},T&&k,w?P:L.createElement("div",{className:"sendbird-image-renderer__image",style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:l,position:"absolute",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:`url(${e})`,borderRadius:d?"50%":null}}),C)};var l7=n=>{if(typeof n=="number")return n;if(typeof n=="string"){const t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null};const rc="sendbird-avatar-img",rve=n=>{let{width:t,height:e}=n,r=l7(t),a=l7(e);return typeof r=="number"&&(r*=.575),typeof a=="number"&&(a*=.575),L.createElement("div",{className:"sendbird-avatar-img--default",style:{width:t,height:e}},L.createElement(rr,{type:Qt.USER,fillColor:sr.CONTENT,width:r,height:a}))},ive=n=>{let{width:t,height:e}=n;return L.createElement(rve,{width:t,height:e})},ave=n=>{let{src:t="",alt:e="",height:r,width:a,customDefaultComponent:l}=n;const d=()=>l?l({width:a,height:r}):ive({width:a,height:r});return typeof t=="string"?L.createElement(co,{className:rc,url:t,height:r,width:a,alt:e,defaultComponent:d}):t&&t.length?t.length===1?L.createElement(co,{className:rc,url:t[0],height:r,width:a,alt:e,defaultComponent:d}):t.length===2?L.createElement("div",{className:"sendbird-avatar--inner__two-child"},L.createElement(co,{className:rc,url:t[0],height:r,width:a,alt:e,defaultComponent:d}),L.createElement(co,{className:rc,url:t[1],height:r,width:a,alt:e,defaultComponent:d})):t.length===3?L.createElement(L.Fragment,null,L.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},L.createElement(co,{className:rc,url:t[0],height:r,width:a,alt:e,defaultComponent:d})),L.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},L.createElement(co,{className:rc,url:t[1],height:r,width:a,alt:e,defaultComponent:d}),L.createElement(co,{className:rc,url:t[2],height:r,width:a,alt:e,defaultComponent:d}))):L.createElement("div",{className:"sendbird-avatar--inner__four-child"},t.slice(0,4).map(h=>L.createElement(co,{className:rc,url:h,height:r,width:a,alt:e,key:fm(),defaultComponent:d}))):L.createElement(co,{className:rc,url:"",height:r,width:a,alt:e,defaultComponent:d})};function sve(n,t){let{className:e="",src:r="",alt:a="",width:l="56px",height:d="56px",onClick:h,customDefaultComponent:f}=n;return L.createElement("div",{className:[...Array.isArray(e)?e:[e],"sendbird-avatar"].join(" "),role:"button",ref:t,style:{height:d,width:l},onClick:h,onKeyDown:h,tabIndex:0},L.createElement(ave,{src:r,width:l,height:d,alt:a,customDefaultComponent:f}))}var xh=L.forwardRef(sve);const jd=n=>{const{stores:t={}}=n,{sdkStore:e={}}=t,{sdk:r}=e;return r},$d=n=>{const{config:t={}}=n,{pubSub:e}=t;return e},ove=n=>(t,e)=>new Promise((r,a)=>{const l=jd(n);l||a(new Error("Sdk not found")),l!=null&&l.connect&&typeof l.connect=="function"||a(new Error('Not found the function "connect')),e?l.connect(t,e).then(d=>r(d)).catch(d=>a(d)):l.connect(t).then(d=>r(d)).catch(d=>a(d))}),lve=n=>()=>new Promise((t,e)=>{const r=jd(n);r||e(new Error("Sdk not found")),r.disconnect&&typeof r.disconnect=="function"||e(new Error('Not found the function "disconnect')),r.disconnect().then(a=>t(a)).catch(a=>e(a))}),cve=n=>(t,e)=>new Promise((r,a)=>{const l=jd(n);l||a(new Error("Sdk not found")),l.updateCurrentUserInfo&&typeof l.updateCurrentUserInfo=="function"||a(new Error('Not found the function "updateCurrentUserInfo"'));const d={nickname:t};e&&(d.profileUrl=e),l.updateCurrentUserInfo(d).then(h=>r(h)).catch(h=>a(h))}),aH=n=>t=>new Promise((e,r)=>{const a=jd(n),l=$d(n);a||r(new Error("Sdk not found")),a.groupChannel||r(new Error("Not found GroupChannelModule")),a.groupChannel.createChannel&&typeof a.groupChannel.createChannel=="function"||r(new Error('Not found the function "createChannel"')),a.groupChannel.createChannel(t).then(d=>{e(d),l.publish(Ki.CREATE_CHANNEL,{channel:d})}).catch(r)}),dve=n=>t=>new Promise((e,r)=>{const a=jd(n);a||r(new Error("Sdk not found")),a.openChannel||r(new Error("Not found OpenChannelModule")),a.openChannel.createChannel&&typeof a.openChannel.createChannel=="function"||r(new Error('Not found the function "createChannel"')),a.openChannel.createChannel(t).then(l=>{e(l)}).catch(r)}),sH=n=>t=>new Promise((e,r)=>{const a=jd(n);a||r(new Error("Sdk not found")),a.groupChannel||r(new Error("Not found GroupChannelModule")),a.groupChannel.getChannel&&typeof a.groupChannel.getChannel=="function"||r(new Error('Not found the function "getChannel"')),a.groupChannel.getChannel(t).then(l=>{e(l)}).catch(r)}),sC=n=>t=>new Promise((e,r)=>{const a=jd(n);a||r(new Error("Sdk not found")),a.openChannel||r(new Error("Not found OpenChannelModule")),a.openChannel.getChannel&&typeof a.openChannel.getChannel=="function"||r(new Error('Not found the function "getChannel"')),a.openChannel.getChannel(t).then(l=>{e(l)}).catch(r)}),uve=n=>t=>new Promise((e,r)=>{var a;(a=sH(n))===null||a===void 0||a(t).then(l=>{l.leave().then(()=>{e()}).catch(r)}).catch(r)}),hve=n=>t=>new Promise((e,r)=>{var a;(a=sC(n))===null||a===void 0||a(t).then(l=>{l.enter().then(()=>{e(l)}).catch(r)}).catch(r)}),pve=n=>t=>new Promise((e,r)=>{var a;(a=sC(n))===null||a===void 0||a(t).then(l=>{l.exit().then(()=>{e(l)}).catch(r)}).catch(r)}),fve=()=>n=>new Promise((t,e)=>{n.freeze&&typeof(n==null?void 0:n.freeze)=="function"||e(new Error('Not found the function "freeze"')),n.freeze().then(()=>{t()}).catch(e)}),_ve=()=>n=>new Promise((t,e)=>{n.unfreeze&&typeof(n==null?void 0:n.unfreeze)=="function"||e(new Error('Not found the function "unfreeze"')),n.unfreeze().then(()=>{t()}).catch(e)});class oH{constructor(){fd(this,"_onPending",Sb),fd(this,"_onFailed",Sb),fd(this,"_onSucceeded",Sb)}triggerPending(t){this._onPending(t)}triggerFailed(t,e){this._onFailed(t,e.isResendable?e:null)}triggerSucceeded(t){this._onSucceeded(t)}onPending(t){return typeof t=="function"&&(this._onPending=t),this}onFailed(t){return typeof t=="function"&&(this._onFailed=t),this}onSucceeded(t){return typeof t=="function"&&(this._onSucceeded=t),this}}const mve=n=>(t,e)=>{const r=new oH,a=$d(n);return t.sendUserMessage(e).onFailed((l,d)=>r.triggerFailed(l,d)).onPending(l=>{a.publish(Ki.SEND_MESSAGE_START,{message:l,channel:t}),r.triggerPending(l)}).onSucceeded(l=>{a.publish(Ki.SEND_USER_MESSAGE,{message:l,channel:t}),r.triggerSucceeded(l)}),r},vve=n=>(t,e)=>{const r=new oH,a=$d(n);return t.sendFileMessage(e).onFailed((l,d)=>r.triggerFailed(l,d)).onPending(l=>{a.publish(Ki.SEND_MESSAGE_START,{message:l,channel:t}),r.triggerPending(l)}).onSucceeded(l=>{a.publish(Ki.SEND_FILE_MESSAGE,{message:l,channel:t}),r.triggerSucceeded(l)}),r},gve=n=>(t,e,r)=>new Promise((a,l)=>{const d=$d(n);t.updateUserMessage(e,r).then(h=>{d.publish(Ki.UPDATE_USER_MESSAGE,{message:h,channel:t,fromSelector:!0}),a(h)}).catch(l)}),bve=n=>(t,e)=>new Promise((r,a)=>{const l=$d(n),{messageId:d}=e;t.deleteMessage(e).then(()=>{l.publish(Ki.DELETE_MESSAGE,{messageId:d,channel:t}),r(e)}).catch(a)}),yve=n=>(t,e)=>new Promise((r,a)=>{const l=$d(n);t.resendUserMessage(e).then(d=>{l.publish(Ki.SEND_USER_MESSAGE,{message:d,channel:t}),r(d)}).catch(a)}),Eve=n=>(t,e,r)=>new Promise((a,l)=>{const d=$d(n);t.resendFileMessage(e,r).then(h=>{d.publish(Ki.SEND_FILE_MESSAGE,{message:h,channel:t}),a(h)}).catch(l)}),oC={getSdk:jd,getPubSub:$d,getConnect:ove,getDisconnect:lve,getUpdateUserInfo:cve,getCreateGroupChannel:aH,getCreateOpenChannel:dve,getGetGroupChannel:sH,getGetOpenChannel:sC,getLeaveGroupChannel:uve,getEnterOpenChannel:hve,getExitOpenChannel:pve,getFreezeChannel:fve,getUnfreezeChannel:_ve,getSendUserMessage:mve,getSendFileMessage:vve,getUpdateUserMessage:gve,getDeleteMessage:bve,getResendUserMessage:yve,getResendFileMessage:Eve};function _m(n){var t,e;let{user:r,currentUserId:a,disableMessaging:l=!1,onSuccess:d}=n;const h=Xs(),f=aH(h),_=h==null||(t=h.config)===null||t===void 0?void 0:t.logger,{stringSet:g}=W.useContext(Hl),E=a||(h==null||(e=h.config)===null||e===void 0?void 0:e.userId),{onUserProfileMessage:w}=W.useContext(pp);return L.createElement("div",{className:"sendbird__user-profile"},L.createElement("section",{className:"sendbird__user-profile-avatar"},L.createElement(xh,{height:"80px",width:"80px",src:r==null?void 0:r.profileUrl})),L.createElement("section",{className:"sendbird__user-profile-name"},L.createElement(zt,{type:qt.H_2,color:Lt.ONBACKGROUND_1},(r==null?void 0:r.nickname)||g.NO_NAME)),(r==null?void 0:r.userId)!==E&&!l&&L.createElement("section",{className:"sendbird__user-profile-message"},L.createElement(tm,{type:dh.SECONDARY,onClick:()=>{const x={isDistinct:!1,invitedUserIds:[r==null?void 0:r.userId],operatorUserIds:[E]};d(),f(x).then(T=>{_.info("UserProfile, channel create",T),typeof w=="function"&&(w==null||w(T))})}},g.USER_PROFILE__MESSAGE)),L.createElement("div",{className:"sendbird__user-profile-separator"}),L.createElement("section",{className:"sendbird__user-profile-userId"},L.createElement(zt,{className:"sendbird__user-profile-userId--label",type:qt.CAPTION_2,color:Lt.ONBACKGROUND_2},g.USER_PROFILE__USER_ID),L.createElement(zt,{className:"sendbird__user-profile-userId--value",type:qt.BODY_1,color:Lt.ONBACKGROUND_1},r==null?void 0:r.userId)))}const wve=60;class xve extends L.Component{constructor(t){super(t),fd(this,"menuRef",L.createRef()),fd(this,"setupEvents",()=>{const{closeDropdown:e}=this.props,{menuRef:r}=this,a=l=>{var d,h;r!=null&&r.current&&!(r!=null&&(d=r.current)!==null&&d!==void 0&&(h=d.contains)!==null&&h!==void 0&&h.call(d,l.target))&&(e==null||e())};this.setState({handleClickOutside:a}),document.addEventListener("mousedown",a)}),fd(this,"cleanUpEvents",()=>{const{handleClickOutside:e}=this.state;document.removeEventListener("mousedown",e)}),fd(this,"getMenuPosition",()=>{var e,r;const{parentRef:a,openLeft:l}=this.props,d=a==null||(e=a.current)===null||e===void 0||(r=e.getBoundingClientRect)===null||r===void 0?void 0:r.call(e),h=(d==null?void 0:d.x)||(d==null?void 0:d.left)||0,f=(d==null?void 0:d.y)||(d==null?void 0:d.top)||0,_={top:f,left:h};if(!this.menuRef.current)return _;const{innerWidth:g,innerHeight:E}=window,w=this.menuRef.current.getBoundingClientRect();if(f+w.height+wve>E&&(_.top-=w.height),h+w.width>g&&!l&&(_.left-=w.width),_.top<0&&(_.top=w.height<E?(E-w.height)/2:0),_.top+=32,l){const x=Number.isNaN(w.width-30)?108:w.width-30;_.left-=x}return _.left<0&&(_.left=w.width<g?(g-w.width)/2:0),this.setState({menuStyle:_}),_}),this.state={menuStyle:{},handleClickOutside:()=>{}}}componentDidMount(){this.setupEvents(),this.getMenuPosition()}componentWillUnmount(){this.cleanUpEvents()}render(){var t;const{menuStyle:e}=this.state,{children:r,style:a,className:l=""}=this.props;return um.createPortal(L.createElement("div",{className:(t=this.props)===null||t===void 0?void 0:t.className},L.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),L.createElement("ul",{className:`${l} sendbird-dropdown__menu`,ref:this.menuRef,style:gn({display:"inline-block",position:"fixed",left:`${Math.round(e.left)}px`,top:`${Math.round(e.top)}px`},a)},r)),document.getElementById("sendbird-dropdown-portal"))}}const Sve=13,Pl=xve,ya=n=>{let{className:t="",children:e,onClick:r,disable:a=!1,dataSbId:l=""}=n;const d=h=>{!a&&r&&(r==null||r(h))};return L.createElement("li",{className:rS([t,"sendbird-dropdown__menu-item",a?"disable":""]),role:"menuitem","aria-disabled":!!a,onClick:d,onKeyPress:h=>{h.keyCode===Sve&&d(h)},tabIndex:0,"data-sb-id":l},L.createElement(zt,{className:"sendbird-dropdown__menu-item__text",type:qt.SUBTITLE_2,color:a?Lt.ONBACKGROUND_4:Lt.ONBACKGROUND_1},e))};function Fl(n){let{menuTrigger:t,menuItems:e,isOpen:r}=n;const[a,l]=W.useState(!1);return L.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},t==null?void 0:t(()=>l(!a)),(a||r)&&e(()=>l(!1)))}function Na(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Tb(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tb=function(e){return typeof e}:Tb=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(n)}function nl(n){Na(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||Tb(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Cb(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cb=function(e){return typeof e}:Cb=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(n)}function Tve(n){return Na(1,arguments),n instanceof Date||Cb(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Cve(n){if(Na(1,arguments),!Tve(n)&&typeof n!="number")return!1;var t=nl(n);return!isNaN(Number(t))}function uh(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function kve(n,t){Na(2,arguments);var e=nl(n).getTime(),r=uh(t);return new Date(e+r)}function Ive(n,t){Na(2,arguments);var e=uh(t);return kve(n,-e)}var Nve=864e5;function Ave(n){Na(1,arguments);var t=nl(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=e-r;return Math.floor(a/Nve)+1}function y1(n){Na(1,arguments);var t=1,e=nl(n),r=e.getUTCDay(),a=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function lH(n){Na(1,arguments);var t=nl(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var a=y1(r),l=new Date(0);l.setUTCFullYear(e,0,4),l.setUTCHours(0,0,0,0);var d=y1(l);return t.getTime()>=a.getTime()?e+1:t.getTime()>=d.getTime()?e:e-1}function Ove(n){Na(1,arguments);var t=lH(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=y1(e);return r}var Rve=6048e5;function Mve(n){Na(1,arguments);var t=nl(n),e=y1(t).getTime()-Ove(t).getTime();return Math.round(e/Rve)+1}var Dve={};function ay(){return Dve}function E1(n,t){var e,r,a,l,d,h,f,_;Na(1,arguments);var g=ay(),E=uh((e=(r=(a=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(d=t.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:g.weekStartsOn)!==null&&r!==void 0?r:(f=g.locale)===null||f===void 0||(_=f.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&e!==void 0?e:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=nl(n),x=w.getUTCDay(),T=(x<E?7:0)+x-E;return w.setUTCDate(w.getUTCDate()-T),w.setUTCHours(0,0,0,0),w}function cH(n,t){var e,r,a,l,d,h,f,_;Na(1,arguments);var g=nl(n),E=g.getUTCFullYear(),w=ay(),x=uh((e=(r=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(d=t.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:w.firstWeekContainsDate)!==null&&r!==void 0?r:(f=w.locale)===null||f===void 0||(_=f.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(E+1,0,x),T.setUTCHours(0,0,0,0);var N=E1(T,t),P=new Date(0);P.setUTCFullYear(E,0,x),P.setUTCHours(0,0,0,0);var k=E1(P,t);return g.getTime()>=N.getTime()?E+1:g.getTime()>=k.getTime()?E:E-1}function Lve(n,t){var e,r,a,l,d,h,f,_;Na(1,arguments);var g=ay(),E=uh((e=(r=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(d=t.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&r!==void 0?r:(f=g.locale)===null||f===void 0||(_=f.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&e!==void 0?e:1),w=cH(n,t),x=new Date(0);x.setUTCFullYear(w,0,E),x.setUTCHours(0,0,0,0);var T=E1(x,t);return T}var Uve=6048e5;function Pve(n,t){Na(1,arguments);var e=nl(n),r=E1(e,t).getTime()-Lve(e,t).getTime();return Math.round(r/Uve)+1}function Ur(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var td={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Ur(e==="yy"?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):Ur(r+1,2)},d:function(t,e){return Ur(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return Ur(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Ur(t.getUTCHours(),e.length)},m:function(t,e){return Ur(t.getUTCMinutes(),e.length)},s:function(t,e){return Ur(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),l=Math.floor(a*Math.pow(10,r-3));return Ur(l,e.length)}},p0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fve={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var a=t.getUTCFullYear(),l=a>0?a:1-a;return r.ordinalNumber(l,{unit:"year"})}return td.y(t,e)},Y:function(t,e,r,a){var l=cH(t,a),d=l>0?l:1-l;if(e==="YY"){var h=d%100;return Ur(h,2)}return e==="Yo"?r.ordinalNumber(d,{unit:"year"}):Ur(d,e.length)},R:function(t,e){var r=lH(t);return Ur(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return Ur(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ur(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ur(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return td.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return Ur(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var l=Pve(t,a);return e==="wo"?r.ordinalNumber(l,{unit:"week"}):Ur(l,e.length)},I:function(t,e,r){var a=Mve(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Ur(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):td.d(t,e)},D:function(t,e,r){var a=Ave(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ur(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var l=t.getUTCDay(),d=(l-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(d);case"ee":return Ur(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var l=t.getUTCDay(),d=(l-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(d);case"cc":return Ur(d,e.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),l=a===0?7:a;switch(e){case"i":return String(l);case"ii":return Ur(l,e.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),l=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a=t.getUTCHours(),l;switch(a===12?l=p0.noon:a===0?l=p0.midnight:l=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a=t.getUTCHours(),l;switch(a>=17?l=p0.evening:a>=12?l=p0.afternoon:a>=4?l=p0.morning:l=p0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return td.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):td.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ur(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ur(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):td.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):td.s(t,e)},S:function(t,e){return td.S(t,e)},X:function(t,e,r,a){var l=a._originalDate||t,d=l.getTimezoneOffset();if(d===0)return"Z";switch(e){case"X":return d7(d);case"XXXX":case"XX":return Mu(d);case"XXXXX":case"XXX":default:return Mu(d,":")}},x:function(t,e,r,a){var l=a._originalDate||t,d=l.getTimezoneOffset();switch(e){case"x":return d7(d);case"xxxx":case"xx":return Mu(d);case"xxxxx":case"xxx":default:return Mu(d,":")}},O:function(t,e,r,a){var l=a._originalDate||t,d=l.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+c7(d,":");case"OOOO":default:return"GMT"+Mu(d,":")}},z:function(t,e,r,a){var l=a._originalDate||t,d=l.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+c7(d,":");case"zzzz":default:return"GMT"+Mu(d,":")}},t:function(t,e,r,a){var l=a._originalDate||t,d=Math.floor(l.getTime()/1e3);return Ur(d,e.length)},T:function(t,e,r,a){var l=a._originalDate||t,d=l.getTime();return Ur(d,e.length)}};function c7(n,t){var e=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),l=r%60;if(l===0)return e+String(a);var d=t||"";return e+String(a)+d+Ur(l,2)}function d7(n,t){if(n%60===0){var e=n>0?"-":"+";return e+Ur(Math.abs(n)/60,2)}return Mu(n,t)}function Mu(n,t){var e=t||"",r=n>0?"-":"+",a=Math.abs(n),l=Ur(Math.floor(a/60),2),d=Ur(a%60,2);return r+l+e+d}var Hve=Fve,u7=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dH=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bve=function(t,e){var r=t.match(/(P+)(p+)?/)||[],a=r[1],l=r[2];if(!l)return u7(t,e);var d;switch(a){case"P":d=e.dateTime({width:"short"});break;case"PP":d=e.dateTime({width:"medium"});break;case"PPP":d=e.dateTime({width:"long"});break;case"PPPP":default:d=e.dateTime({width:"full"});break}return d.replace("{{date}}",u7(a,e)).replace("{{time}}",dH(l,e))},Vve={p:dH,P:Bve},zve=Vve;function Gve(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var qve=["D","DD"],jve=["YY","YYYY"];function $ve(n){return qve.indexOf(n)!==-1}function Wve(n){return jve.indexOf(n)!==-1}function h7(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Kve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yve=/^'([^]*?)'?$/,Xve=/''/g,Zve=/[a-zA-Z]/;function fp(n,t,e){var r,a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U;Na(2,arguments);var M=String(t),R=ay(),I=(r=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:R.locale)!==null&&r!==void 0?r:KF,D=uh((l=(d=(h=(f=e==null?void 0:e.firstWeekContainsDate)!==null&&f!==void 0?f:e==null||(_=e.locale)===null||_===void 0||(g=_.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&h!==void 0?h:R.firstWeekContainsDate)!==null&&d!==void 0?d:(E=R.locale)===null||E===void 0||(w=E.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=uh((x=(T=(N=(P=e==null?void 0:e.weekStartsOn)!==null&&P!==void 0?P:e==null||(k=e.locale)===null||k===void 0||(C=k.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&N!==void 0?N:R.weekStartsOn)!==null&&T!==void 0?T:(A=R.locale)===null||A===void 0||(U=A.options)===null||U===void 0?void 0:U.weekStartsOn)!==null&&x!==void 0?x:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var z=nl(n);if(!Cve(z))throw new RangeError("Invalid time value");var ne=Gve(z),fe=Ive(z,ne),B={firstWeekContainsDate:D,weekStartsOn:q,locale:I,_originalDate:z},Y=M.match(Qve).map(function(ue){var Q=ue[0];if(Q==="p"||Q==="P"){var _e=zve[Q];return _e(ue,I.formatLong)}return ue}).join("").match(Kve).map(function(ue){if(ue==="''")return"'";var Q=ue[0];if(Q==="'")return Jve(ue);var _e=Hve[Q];if(_e)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Wve(ue)&&h7(ue,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&$ve(ue)&&h7(ue,t,String(n)),_e(fe,ue,I.localize,B);if(Q.match(Zve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return ue}).join("");return Y}function Jve(n){var t=n.match(Yve);return t?t[1].replace(Xve,"'"):n}function mm(n){let{className:t="",width:e="26px",height:r="26px",children:a}=n;return L.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-loader"].join(" "),style:{width:typeof e=="string"?e:`${e}px`,height:typeof r=="string"?r:`${r}px`}},a||L.createElement(rr,{type:Qt.SPINNER,width:"26px",height:"26px"}))}function p7(n){Na(1,arguments);var t=nl(n);return t.setHours(0,0,0,0),t}function ege(n,t){Na(2,arguments);var e=p7(n),r=p7(t);return e.getTime()===r.getTime()}const nge="sendbird-mention-user-label";let dc=function(n){return n.ONBACKGROUND_1="ONBACKGROUND_1",n.ONBACKGROUND_2="ONBACKGROUND_2",n.ONBACKGROUND_3="ONBACKGROUND_3",n.ONBACKGROUND_4="ONBACKGROUND_4",n.ONCONTENT_1="ONCONTENT_1",n.ONCONTENT_2="ONCONTENT_2",n.PRIMARY="PRIMARY",n.ERROR="ERROR",n}({});const m6=n=>{switch(n){case dc.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case dc.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case dc.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case dc.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case dc.ONCONTENT_1:return"sendbird-color--oncontent-1";case dc.PRIMARY:return"sendbird-color--primary";case dc.ERROR:return"sendbird-color--error";default:return null}},tge=n=>{let{className:t="",color:e=dc.ONBACKGROUND_1,disabled:r=!1,disableUnderline:a=!1,onClick:l=()=>{},children:d}=n;return L.createElement("div",{className:[...Array.isArray(t)?t:[t],m6(e),a?"sendbird-textbutton--not-underline":"sendbird-textbutton",r?"sendbird-textbutton--disabled":""].join(" "),role:"button",tabIndex:0,onClick:h=>l(h),onKeyPress:h=>l(h)},d)},Lf="@",f7=n=>n==null;function ic(n,t){if(f7(n)||f7(t))return!1;const e=n.toString(),r=t.toString();return e===r}zF();zF();const rge=300;function _7(n){ige(n)&&n.touches.length<2&&n.preventDefault&&n.preventDefault()}function ige(n){return n&&"touches"in n}function sy(n){let{onLongPress:t,onClick:e}=n,{delay:r=rge,shouldPreventDefault:a=!0,shouldStopPropagation:l=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{isMobile:d}=qd(),[h,f]=W.useState(!1),[_,g]=W.useState(!1),E=W.useRef(),w=W.useRef(),x=W.useCallback(N=>{N.persist();const P=gn({},N);g(!1),l&&N.stopPropagation(),a&&N.target&&(N.target.addEventListener("touchend",_7,{passive:!1}),w.current=N.target),E.current=setTimeout(()=>{t(P),f(!0)},r)},[t,r,a,l,d]),T=W.useCallback(function(N){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;g(!!k),E!=null&&E.current&&clearTimeout(E.current),P&&!h&&!_&&(e==null||e(N)),f(!1),a&&w.current&&w.current.removeEventListener("touchend",_7)},[a,e,h,_]);return{onMouseDown:N=>x(N),onMouseUp:N=>T(N),onMouseLeave:N=>T(N,!1),onTouchStart:N=>x(N),onTouchMove:N=>T(N,!1,!0),onTouchEnd:N=>T(N)}}on.exports.bool,on.exports.func.isRequired,on.exports.shape({});function age(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}var sge=age();const Hi=sge;function kb(n){let{className:t="",type:e,iconSize:r,searchInString:a="",retryToConnect:l=null}=n;const{stringSet:d}=W.useContext(Hl);return L.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-place-holder"].join(" ")},e===Hi.LOADING&&L.createElement(mm,{width:r||"48px",height:r||"48px"},L.createElement(rr,{type:Qt.SPINNER,fillColor:sr.PRIMARY,width:r||"48px",height:r||"48px"})),(e===Hi.NO_CHANNELS||e===Hi.NO_MESSAGES||e===Hi.WRONG)&&L.createElement("div",{className:"sendbird-place-holder__body"},e===Hi.NO_CHANNELS&&L.createElement(rr,{className:"sendbird-place-holder__body__icon",type:Qt.CHAT,fillColor:sr.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),e===Hi.WRONG&&L.createElement(rr,{className:"sendbird-place-holder__body__icon",type:Qt.ERROR,fillColor:sr.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),e===Hi.NO_MESSAGES&&L.createElement(rr,{className:"sendbird-place-holder__body__icon",type:Qt.MESSAGE,fillColor:sr.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),L.createElement(zt,{className:"sendbird-place-holder__body__text",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},e===Hi.NO_CHANNELS&&d.PLACE_HOLDER__NO_CHANNEL,e===Hi.WRONG&&d.PLACE_HOLDER__WRONG,e===Hi.NO_MESSAGES&&d.PLACE_HOLDER__NO_MESSAGES),l&&L.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:l,onKeyPress:l,tabIndex:0},L.createElement(rr,{className:"sendbird-place-holder__body__reconnect__icon",type:Qt.REFRESH,fillColor:sr.PRIMARY,width:"20px",height:"20px"}),L.createElement(zt,{className:"sendbird-place-holder__body__reconnect__text",type:qt.BUTTON_1,color:Lt.PRIMARY},d.PLACE_HOLDER__RETRY_TO_CONNECT))),(e===Hi.NO_RESULTS||e===Hi.SEARCH_IN||e===Hi.SEARCHING)&&L.createElement("div",{className:"sendbird-place-holder__body--align-top"},e===Hi.SEARCH_IN&&L.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},L.createElement(zt,{className:"sendbird-place-holder__body--align-top__text__search-in",type:qt.BUTTON_2,color:Lt.ONBACKGROUND_2},d.SEARCH_IN),L.createElement(zt,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:qt.BUTTON_2,color:Lt.PRIMARY},`'${a}`),L.createElement(zt,{className:"sendbird-place-holder__body--align-top__text__quote",type:qt.BUTTON_2,color:Lt.PRIMARY},"'")),e===Hi.SEARCHING&&L.createElement(zt,{className:"sendbird-place-hlder__body--align-top__searching",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},d.SEARCHING),e===Hi.NO_RESULTS&&L.createElement(zt,{className:"sendbird-place-hlder__body--align-top__no-result",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},d.NO_SEARCHED_MESSAGE)))}const m7={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},f0={ElementNode:1,TextNode:3},Wg={Span:"SPAN",Br:"BR",Div:"DIV"};let oge=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({}),lge=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({}),cge=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({});oge.NIL,lge.NIL,cge.NIL;const dge=n=>{let{children:t=null,className:e="",separatorColor:r=dc.ONBACKGROUND_4}=n;return L.createElement("div",{className:[...Array.isArray(e)?e:[e],"sendbird-separator"].join(" ")},L.createElement("div",{className:["sendbird-separator__left",`${m6(r)}--background-color`].join(" ")}),L.createElement("div",{className:"sendbird-separator__text"},t||L.createElement(zt,{type:qt.CAPTION_2,color:Lt.ONBACKGROUND_2},"Date Separator")),L.createElement("div",{className:["sendbird-separator__right",`${m6(r)}--background-color`].join(" ")}))};/*! @license DOMPurify 3.0.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.3/LICENSE */const{entries:uH,setPrototypeOf:v7,isFrozen:uge,getPrototypeOf:hge,getOwnPropertyDescriptor:pge}=Object;let{freeze:ss,seal:Jo,create:fge}=Object,{apply:v6,construct:g6}=typeof Reflect<"u"&&Reflect;v6||(v6=function(t,e,r){return t.apply(e,r)});ss||(ss=function(t){return t});Jo||(Jo=function(t){return t});g6||(g6=function(t,e){return new t(...e)});const _ge=Co(Array.prototype.forEach),g7=Co(Array.prototype.pop),Uf=Co(Array.prototype.push),Ib=Co(String.prototype.toLowerCase),yx=Co(String.prototype.toString),mge=Co(String.prototype.match),Ho=Co(String.prototype.replace),vge=Co(String.prototype.indexOf),gge=Co(String.prototype.trim),Ls=Co(RegExp.prototype.test),Pf=bge(TypeError);function Co(n){return function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return v6(n,t,r)}}function bge(n){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return g6(n,e)}}function Xt(n,t,e){var r;e=(r=e)!==null&&r!==void 0?r:Ib,v7&&v7(n,null);let a=t.length;for(;a--;){let l=t[a];if(typeof l=="string"){const d=e(l);d!==l&&(uge(t)||(t[a]=d),l=d)}n[l]=!0}return n}function _0(n){const t=fge(null);for(const[e,r]of uH(n))t[e]=r;return t}function Kg(n,t){for(;n!==null;){const r=pge(n,t);if(r){if(r.get)return Co(r.get);if(typeof r.value=="function")return Co(r.value)}n=hge(n)}function e(r){return console.warn("fallback value for",r),null}return e}const b7=ss(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ex=ss(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wx=ss(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yge=ss(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xx=ss(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ege=ss(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),y7=ss(["#text"]),E7=ss(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Sx=ss(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),w7=ss(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qg=ss(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wge=Jo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xge=Jo(/<%[\w\W]*|[\w\W]*%>/gm),Sge=Jo(/\${[\w\W]*}/gm),Tge=Jo(/^data-[\-\w.\u00B7-\uFFFF]/),Cge=Jo(/^aria-[\-\w]+$/),hH=Jo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kge=Jo(/^(?:\w+script|data):/i),Ige=Jo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pH=Jo(/^html$/i);var x7=Object.freeze({__proto__:null,MUSTACHE_EXPR:wge,ERB_EXPR:xge,TMPLIT_EXPR:Sge,DATA_ATTR:Tge,ARIA_ATTR:Cge,IS_ALLOWED_URI:hH,IS_SCRIPT_OR_DATA:kge,ATTR_WHITESPACE:Ige,DOCTYPE_NAME:pH});const Nge=()=>typeof window>"u"?null:window,Age=function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";e&&e.hasAttribute(a)&&(r=e.getAttribute(a));const l="dompurify"+(r?"#"+r:"");try{return t.createPolicy(l,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}};function fH(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nge();const t=Ke=>fH(Ke);if(t.version="3.0.3",t.removed=[],!n||!n.document||n.document.nodeType!==9)return t.isSupported=!1,t;const e=n.document,r=e.currentScript;let{document:a}=n;const{DocumentFragment:l,HTMLTemplateElement:d,Node:h,Element:f,NodeFilter:_,NamedNodeMap:g=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:E,DOMParser:w,trustedTypes:x}=n,T=f.prototype,N=Kg(T,"cloneNode"),P=Kg(T,"nextSibling"),k=Kg(T,"childNodes"),C=Kg(T,"parentNode");if(typeof d=="function"){const Ke=a.createElement("template");Ke.content&&Ke.content.ownerDocument&&(a=Ke.content.ownerDocument)}let A,U="";const{implementation:M,createNodeIterator:R,createDocumentFragment:I,getElementsByTagName:D}=a,{importNode:q}=e;let z={};t.isSupported=typeof uH=="function"&&typeof C=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ne,ERB_EXPR:fe,TMPLIT_EXPR:B,DATA_ATTR:Y,ARIA_ATTR:ue,IS_SCRIPT_OR_DATA:Q,ATTR_WHITESPACE:_e}=x7;let{IS_ALLOWED_URI:le}=x7,se=null;const me=Xt({},[...b7,...Ex,...wx,...xx,...y7]);let Me=null;const de=Xt({},[...E7,...Sx,...w7,...Qg]);let he=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,ee=null,j=!0,ae=!0,Re=!1,ze=!0,De=!1,Te=!1,Qe=!1,an=!1,un=!1,Nn=!1,Ye=!1,mn=!0,sn=!1;const Ln="user-content-";let Tn=!0,G=!1,ie={},bn=null;const Sn=Xt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let An=null;const Fn=Xt({},["audio","video","img","source","image","track"]);let Hn=null;const Bn=Xt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pt="http://www.w3.org/1998/Math/MathML",Yn="http://www.w3.org/2000/svg",On="http://www.w3.org/1999/xhtml";let Tt=On,Ut=!1,jt=null;const Nt=Xt({},[pt,Yn,On],yx);let Zn;const Rn=["application/xhtml+xml","text/html"],Je="text/html";let tt,dt=null;const Rt=a.createElement("form"),wr=function(ke){return ke instanceof RegExp||ke instanceof Function},Jt=function(ke){if(!(dt&&dt===ke)){if((!ke||typeof ke!="object")&&(ke={}),ke=_0(ke),Zn=Rn.indexOf(ke.PARSER_MEDIA_TYPE)===-1?Zn=Je:Zn=ke.PARSER_MEDIA_TYPE,tt=Zn==="application/xhtml+xml"?yx:Ib,se="ALLOWED_TAGS"in ke?Xt({},ke.ALLOWED_TAGS,tt):me,Me="ALLOWED_ATTR"in ke?Xt({},ke.ALLOWED_ATTR,tt):de,jt="ALLOWED_NAMESPACES"in ke?Xt({},ke.ALLOWED_NAMESPACES,yx):Nt,Hn="ADD_URI_SAFE_ATTR"in ke?Xt(_0(Bn),ke.ADD_URI_SAFE_ATTR,tt):Bn,An="ADD_DATA_URI_TAGS"in ke?Xt(_0(Fn),ke.ADD_DATA_URI_TAGS,tt):Fn,bn="FORBID_CONTENTS"in ke?Xt({},ke.FORBID_CONTENTS,tt):Sn,K="FORBID_TAGS"in ke?Xt({},ke.FORBID_TAGS,tt):{},ee="FORBID_ATTR"in ke?Xt({},ke.FORBID_ATTR,tt):{},ie="USE_PROFILES"in ke?ke.USE_PROFILES:!1,j=ke.ALLOW_ARIA_ATTR!==!1,ae=ke.ALLOW_DATA_ATTR!==!1,Re=ke.ALLOW_UNKNOWN_PROTOCOLS||!1,ze=ke.ALLOW_SELF_CLOSE_IN_ATTR!==!1,De=ke.SAFE_FOR_TEMPLATES||!1,Te=ke.WHOLE_DOCUMENT||!1,un=ke.RETURN_DOM||!1,Nn=ke.RETURN_DOM_FRAGMENT||!1,Ye=ke.RETURN_TRUSTED_TYPE||!1,an=ke.FORCE_BODY||!1,mn=ke.SANITIZE_DOM!==!1,sn=ke.SANITIZE_NAMED_PROPS||!1,Tn=ke.KEEP_CONTENT!==!1,G=ke.IN_PLACE||!1,le=ke.ALLOWED_URI_REGEXP||hH,Tt=ke.NAMESPACE||On,he=ke.CUSTOM_ELEMENT_HANDLING||{},ke.CUSTOM_ELEMENT_HANDLING&&wr(ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(he.tagNameCheck=ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&wr(ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(he.attributeNameCheck=ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&typeof ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(he.allowCustomizedBuiltInElements=ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(ae=!1),Nn&&(un=!0),ie&&(se=Xt({},[...y7]),Me=[],ie.html===!0&&(Xt(se,b7),Xt(Me,E7)),ie.svg===!0&&(Xt(se,Ex),Xt(Me,Sx),Xt(Me,Qg)),ie.svgFilters===!0&&(Xt(se,wx),Xt(Me,Sx),Xt(Me,Qg)),ie.mathMl===!0&&(Xt(se,xx),Xt(Me,w7),Xt(Me,Qg))),ke.ADD_TAGS&&(se===me&&(se=_0(se)),Xt(se,ke.ADD_TAGS,tt)),ke.ADD_ATTR&&(Me===de&&(Me=_0(Me)),Xt(Me,ke.ADD_ATTR,tt)),ke.ADD_URI_SAFE_ATTR&&Xt(Hn,ke.ADD_URI_SAFE_ATTR,tt),ke.FORBID_CONTENTS&&(bn===Sn&&(bn=_0(bn)),Xt(bn,ke.FORBID_CONTENTS,tt)),Tn&&(se["#text"]=!0),Te&&Xt(se,["html","head","body"]),se.table&&(Xt(se,["tbody"]),delete K.tbody),ke.TRUSTED_TYPES_POLICY){if(typeof ke.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ke.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=ke.TRUSTED_TYPES_POLICY,U=A.createHTML("")}else A===void 0&&(A=Age(x,r)),A!==null&&typeof U=="string"&&(U=A.createHTML(""));ss&&ss(ke),dt=ke}},Zr=Xt({},["mi","mo","mn","ms","mtext"]),wi=Xt({},["foreignobject","desc","title","annotation-xml"]),Ui=Xt({},["title","style","font","a","script"]),xr=Xt({},Ex);Xt(xr,wx),Xt(xr,yge);const ce=Xt({},xx);Xt(ce,Ege);const pe=function(ke){let Ne=C(ke);(!Ne||!Ne.tagName)&&(Ne={namespaceURI:Tt,tagName:"template"});const tn=Ib(ke.tagName),Xn=Ib(Ne.tagName);return jt[ke.namespaceURI]?ke.namespaceURI===Yn?Ne.namespaceURI===On?tn==="svg":Ne.namespaceURI===pt?tn==="svg"&&(Xn==="annotation-xml"||Zr[Xn]):!!xr[tn]:ke.namespaceURI===pt?Ne.namespaceURI===On?tn==="math":Ne.namespaceURI===Yn?tn==="math"&&wi[Xn]:!!ce[tn]:ke.namespaceURI===On?Ne.namespaceURI===Yn&&!wi[Xn]||Ne.namespaceURI===pt&&!Zr[Xn]?!1:!ce[tn]&&(Ui[tn]||!xr[tn]):!!(Zn==="application/xhtml+xml"&&jt[ke.namespaceURI]):!1},Ce=function(ke){Uf(t.removed,{element:ke});try{ke.parentNode.removeChild(ke)}catch{ke.remove()}},Ae=function(ke,Ne){try{Uf(t.removed,{attribute:Ne.getAttributeNode(ke),from:Ne})}catch{Uf(t.removed,{attribute:null,from:Ne})}if(Ne.removeAttribute(ke),ke==="is"&&!Me[ke])if(un||Nn)try{Ce(Ne)}catch{}else try{Ne.setAttribute(ke,"")}catch{}},Ge=function(ke){let Ne,tn;if(an)ke="<remove></remove>"+ke;else{const Vn=mge(ke,/^[\r\n\t ]+/);tn=Vn&&Vn[0]}Zn==="application/xhtml+xml"&&Tt===On&&(ke='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ke+"</body></html>");const Xn=A?A.createHTML(ke):ke;if(Tt===On)try{Ne=new w().parseFromString(Xn,Zn)}catch{}if(!Ne||!Ne.documentElement){Ne=M.createDocument(Tt,"template",null);try{Ne.documentElement.innerHTML=Ut?U:Xn}catch{}}const dn=Ne.body||Ne.documentElement;return ke&&tn&&dn.insertBefore(a.createTextNode(tn),dn.childNodes[0]||null),Tt===On?D.call(Ne,Te?"html":"body")[0]:Te?Ne.documentElement:dn},be=function(ke){return R.call(ke.ownerDocument||ke,ke,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT,null,!1)},Pe=function(ke){return ke instanceof E&&(typeof ke.nodeName!="string"||typeof ke.textContent!="string"||typeof ke.removeChild!="function"||!(ke.attributes instanceof g)||typeof ke.removeAttribute!="function"||typeof ke.setAttribute!="function"||typeof ke.namespaceURI!="string"||typeof ke.insertBefore!="function"||typeof ke.hasChildNodes!="function")},qe=function(ke){return typeof h=="object"?ke instanceof h:ke&&typeof ke=="object"&&typeof ke.nodeType=="number"&&typeof ke.nodeName=="string"},Fe=function(ke,Ne,tn){z[ke]&&_ge(z[ke],Xn=>{Xn.call(t,Ne,tn,dt)})},ln=function(ke){let Ne;if(Fe("beforeSanitizeElements",ke,null),Pe(ke))return Ce(ke),!0;const tn=tt(ke.nodeName);if(Fe("uponSanitizeElement",ke,{tagName:tn,allowedTags:se}),ke.hasChildNodes()&&!qe(ke.firstElementChild)&&(!qe(ke.content)||!qe(ke.content.firstElementChild))&&Ls(/<[/\w]/g,ke.innerHTML)&&Ls(/<[/\w]/g,ke.textContent))return Ce(ke),!0;if(!se[tn]||K[tn]){if(!K[tn]&&cn(tn)&&(he.tagNameCheck instanceof RegExp&&Ls(he.tagNameCheck,tn)||he.tagNameCheck instanceof Function&&he.tagNameCheck(tn)))return!1;if(Tn&&!bn[tn]){const Xn=C(ke)||ke.parentNode,dn=k(ke)||ke.childNodes;if(dn&&Xn){const Vn=dn.length;for(let hn=Vn-1;hn>=0;--hn)Xn.insertBefore(N(dn[hn],!0),P(ke))}}return Ce(ke),!0}return ke instanceof f&&!pe(ke)||(tn==="noscript"||tn==="noembed")&&Ls(/<\/no(script|embed)/i,ke.innerHTML)?(Ce(ke),!0):(De&&ke.nodeType===3&&(Ne=ke.textContent,Ne=Ho(Ne,ne," "),Ne=Ho(Ne,fe," "),Ne=Ho(Ne,B," "),ke.textContent!==Ne&&(Uf(t.removed,{element:ke.cloneNode()}),ke.textContent=Ne)),Fe("afterSanitizeElements",ke,null),!1)},je=function(ke,Ne,tn){if(mn&&(Ne==="id"||Ne==="name")&&(tn in a||tn in Rt))return!1;if(!(ae&&!ee[Ne]&&Ls(Y,Ne))){if(!(j&&Ls(ue,Ne))){if(!Me[Ne]||ee[Ne]){if(!(cn(ke)&&(he.tagNameCheck instanceof RegExp&&Ls(he.tagNameCheck,ke)||he.tagNameCheck instanceof Function&&he.tagNameCheck(ke))&&(he.attributeNameCheck instanceof RegExp&&Ls(he.attributeNameCheck,Ne)||he.attributeNameCheck instanceof Function&&he.attributeNameCheck(Ne))||Ne==="is"&&he.allowCustomizedBuiltInElements&&(he.tagNameCheck instanceof RegExp&&Ls(he.tagNameCheck,tn)||he.tagNameCheck instanceof Function&&he.tagNameCheck(tn))))return!1}else if(!Hn[Ne]){if(!Ls(le,Ho(tn,_e,""))){if(!((Ne==="src"||Ne==="xlink:href"||Ne==="href")&&ke!=="script"&&vge(tn,"data:")===0&&An[ke])){if(!(Re&&!Ls(Q,Ho(tn,_e,"")))){if(tn)return!1}}}}}}return!0},cn=function(ke){return ke.indexOf("-")>0},Mn=function(ke){let Ne,tn,Xn,dn;Fe("beforeSanitizeAttributes",ke,null);const{attributes:Vn}=ke;if(!Vn)return;const hn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Me};for(dn=Vn.length;dn--;){Ne=Vn[dn];const{name:et,namespaceURI:or}=Ne;if(tn=et==="value"?Ne.value:gge(Ne.value),Xn=tt(et),hn.attrName=Xn,hn.attrValue=tn,hn.keepAttr=!0,hn.forceKeepAttr=void 0,Fe("uponSanitizeAttribute",ke,hn),tn=hn.attrValue,hn.forceKeepAttr||(Ae(et,ke),!hn.keepAttr))continue;if(!ze&&Ls(/\/>/i,tn)){Ae(et,ke);continue}De&&(tn=Ho(tn,ne," "),tn=Ho(tn,fe," "),tn=Ho(tn,B," "));const zn=tt(ke.nodeName);if(je(zn,Xn,tn)){if(sn&&(Xn==="id"||Xn==="name")&&(Ae(et,ke),tn=Ln+tn),A&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!or)switch(x.getAttributeType(zn,Xn)){case"TrustedHTML":{tn=A.createHTML(tn);break}case"TrustedScriptURL":{tn=A.createScriptURL(tn);break}}try{or?ke.setAttributeNS(or,et,tn):ke.setAttribute(et,tn),g7(t.removed)}catch{}}}Fe("afterSanitizeAttributes",ke,null)},ot=function Ke(ke){let Ne;const tn=be(ke);for(Fe("beforeSanitizeShadowDOM",ke,null);Ne=tn.nextNode();)Fe("uponSanitizeShadowNode",Ne,null),!ln(Ne)&&(Ne.content instanceof l&&Ke(Ne.content),Mn(Ne));Fe("afterSanitizeShadowDOM",ke,null)};return t.sanitize=function(Ke){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ne,tn,Xn,dn;if(Ut=!Ke,Ut&&(Ke="<!-->"),typeof Ke!="string"&&!qe(Ke))if(typeof Ke.toString=="function"){if(Ke=Ke.toString(),typeof Ke!="string")throw Pf("dirty is not a string, aborting")}else throw Pf("toString is not a function");if(!t.isSupported)return Ke;if(Qe||Jt(ke),t.removed=[],typeof Ke=="string"&&(G=!1),G){if(Ke.nodeName){const et=tt(Ke.nodeName);if(!se[et]||K[et])throw Pf("root node is forbidden and cannot be sanitized in-place")}}else if(Ke instanceof h)Ne=Ge("<!---->"),tn=Ne.ownerDocument.importNode(Ke,!0),tn.nodeType===1&&tn.nodeName==="BODY"||tn.nodeName==="HTML"?Ne=tn:Ne.appendChild(tn);else{if(!un&&!De&&!Te&&Ke.indexOf("<")===-1)return A&&Ye?A.createHTML(Ke):Ke;if(Ne=Ge(Ke),!Ne)return un?null:Ye?U:""}Ne&&an&&Ce(Ne.firstChild);const Vn=be(G?Ke:Ne);for(;Xn=Vn.nextNode();)ln(Xn)||(Xn.content instanceof l&&ot(Xn.content),Mn(Xn));if(G)return Ke;if(un){if(Nn)for(dn=I.call(Ne.ownerDocument);Ne.firstChild;)dn.appendChild(Ne.firstChild);else dn=Ne;return(Me.shadowroot||Me.shadowrootmod)&&(dn=q.call(e,dn,!0)),dn}let hn=Te?Ne.outerHTML:Ne.innerHTML;return Te&&se["!doctype"]&&Ne.ownerDocument&&Ne.ownerDocument.doctype&&Ne.ownerDocument.doctype.name&&Ls(pH,Ne.ownerDocument.doctype.name)&&(hn="<!DOCTYPE "+Ne.ownerDocument.doctype.name+`>
`+hn),De&&(hn=Ho(hn,ne," "),hn=Ho(hn,fe," "),hn=Ho(hn,B," ")),A&&Ye?A.createHTML(hn):hn},t.setConfig=function(Ke){Jt(Ke),Qe=!0},t.clearConfig=function(){dt=null,Qe=!1},t.isValidAttribute=function(Ke,ke,Ne){dt||Jt({});const tn=tt(Ke),Xn=tt(ke);return je(tn,Xn,Ne)},t.addHook=function(Ke,ke){typeof ke=="function"&&(z[Ke]=z[Ke]||[],Uf(z[Ke],ke))},t.removeHook=function(Ke){if(z[Ke])return g7(z[Ke])},t.removeHooks=function(Ke){z[Ke]&&(z[Ke]=[])},t.removeAllHooks=function(){z={}},t}var Oge=fH(),_H=Oge;const Rge="sendbird-text-message-item-body",Mge="sendbird-og-message-item-body__text-bubble",vm="@",Eo={string:"string",mention:"mention",url:"url",undetermined:"undetermined"};function Dge(n,t){const e=t||vm;return RegExp(`(${n.map(r=>{const a=r.userId.replace(/([.*+?^${}()|[\]\\])/g,"\\$1");return`${e}\\{${a}\\}`}).join("|")})`,"g")}function Lge(n){let{tokens:t,mentionedUsers:e=[],templatePrefix:r=vm}=n;if(!(e!=null&&e.length))return t;const a=Dge(e,r);return t.map(d=>{if(d.type!==Eo.undetermined)return d;const{value:h}=d;return h.split(a).map(g=>{if(g.match(a)){const E=e.find(x=>`@{${x==null?void 0:x.userId}}`===g);return{value:(E==null?void 0:E.nickname)||"(No name)",type:Eo.mention,userId:E==null?void 0:E.userId}}else return{value:g,type:Eo.undetermined}})}).flat()}function Uge(n){return n.map(e=>{if(e.type!==Eo.undetermined)return e;const{value:r=""}=e;return r.split(" ").map(d=>nfe(d)?{value:d,type:Eo.url}:{value:d,type:Eo.string})}).flat()}function Pge(n){return n.reduce((e,r)=>{const a=e[e.length-1];return(a==null?void 0:a.type)===Eo.string&&r.type===Eo.string?(a.value=`${a.value} ${r.value}`,e):[...e,r]},[])}function mH(n){let{messageText:t,mentionedUsers:e=[],templatePrefix:r=vm}=n;const a=[{type:Eo.undetermined,value:t}],l=Lge({tokens:a,mentionedUsers:e,templatePrefix:r}),d=Uge(l);return Pge(d)}function Fge(n){const t="";return n.split(`
`).map(l=>{var d,h;const f=((d=l.match(/^\s*/))===null||d===void 0?void 0:d[0])||"",_=((h=l.match(/\s*$/))===null||h===void 0?void 0:h[0])||"",g=f.replace(/ /g,t),E=_.replace(/ /g,t);return g+l.trim()+E}).join(`
`)}function b6(n){let{userId:t,nickname:e}=n;const r=`<span data-userid="${t}" data-sb-mention="true" class="${nge}">${e}</span>`,d=_H(window).sanitize(r).split(" "),[h,...f]=d;return[h,'contenteditable="false"',...f].join(" ")}const rm=n=>n==null?void 0:n.replace(/[\u00A0-\u9999<>]/gim,t=>"".concat("&#",t.charCodeAt(0),";")),Nb=n=>{try{return Array.from(n)}catch{return[]}};function Hge(n){const t=n.map(e=>{const{text:r,userId:a}=e;return a?b6({userId:a,nickname:r}):rm(r)}).join(" ").concat(" ");document.execCommand("insertHTML",!1,t)}const S7="sendbird-uikit__paste-node",Bge="sendbird-word",vH="sendbird-word__mention",gH="sendbird-mention-user-label",bH=`.${vH}, .${gH}`;function T7(n,t){return[n,...Array.from(n.querySelectorAll(t))].find(r=>r.matches(t))}function Vge(n){const t=T7(n,`.${Mge}`);if(t)return Nb(t.childNodes);const e=T7(n,`.${Rge}`);return Nb(e?e.childNodes:n.childNodes)}function zge(){const n=document.body.querySelector(`#${S7}`);n&&(n==null||n.remove());const t=document.createElement("div");return t.id=S7,t.style.display="none",t}function Gge(n){return!!(n!=null&&n.querySelector(bH))}const yH=n=>{let t="";return n.forEach(e=>{const r=e.querySelectorAll(`.${Bge}`);r.length>0&&(t+=yH(Array.from(r))+" "),t+=e.innerText+" "}),t};function qge(n){return n==null?void 0:n.reduce((e,r)=>{let a,l=r==null?void 0:r.innerText;if(r instanceof Text&&(a=!1,l=r.textContent),r instanceof HTMLElement&&(a=r.classList.contains(vH)||r.classList.contains(gH)?r:r.querySelector(bH)),a){var d;const h=r==null?void 0:r.innerText,f=(d=a.dataset)===null||d===void 0?void 0:d.userid;return[...e,{text:h,userId:f}]}return[...e,{text:l}]},[])}function jge(n,t){const e={},r=t.members;return n.forEach(a=>{if(a.userId){const l=r.find(d=>d.userId===a.userId);l&&(e[a.userId]=l)}}),Object.values(e)}function $ge(n){let{ref:t,setIsInput:e,setHeight:r,channel:a,setMentionedUsers:l}=n;return W.useCallback(d=>{d.preventDefault();const h=d==null?void 0:d.clipboardData.getData("text/html");if(!h){const T=d==null?void 0:d.clipboardData.getData("text");document.execCommand("insertHTML",!1,rm(T)),e(!0),r();return}const _=_H(window).sanitize(h),g=zge();if(g.innerHTML=_,!Gge(g)){const T=yH(Array.from(g.children));document.execCommand("insertHTML",!1,rm(T)),g.remove(),e(!0),r();return}const E=Vge(g),w=qge(E),x=jge(w,a);l(x),Hge(w),g.remove(),e(!0),r()},[t,e,r,a,l])}var y6=function(n){return n.BASE="base",n.GROUP="group",n.OPEN="open",n}(y6||{});const Wge=n=>{let{channel:t,config:e}=n;return $1(t==null?void 0:t.channelType).with(y6.GROUP,()=>{var a;return e==null||(a=e.groupChannel)===null||a===void 0?void 0:a.enableDocument}).with(y6.OPEN,()=>{var a;return e==null||(a=e.openChannel)===null||a===void 0?void 0:a.enableDocument}).otherwise(()=>!0)},Kge="sendbird-message-input-text-field",Qge=76,Za=()=>{},Yge=n=>t=>{t.target.files&&t.target.files[0]&&n(t.target.files[0]),t.target.value=""},Xge=(n,t)=>{const e=document.createRange(),r=window.getSelection();e.setStart(n.childNodes[0],t),e.collapse(!0),r.removeAllRanges(),r.addRange(e),n.focus()},Tx=n=>{try{n.current.innerHTML=""}catch{}},C7={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},oy=L.forwardRef((n,t)=>{var e,r,a;const{className:l,messageFieldId:d,isEdit:h,isMentionEnabled:f,isVoiceMessageEnabled:_,disabled:g,message:E,placeholder:w,maxLength:x,onFileUpload:T,onSendMessage:N,onUpdateMessage:P,onCancelEdit:k,onStartTyping:C,channelUrl:A,channel:U,mentionSelectedUser:M,onUserMentioned:R,onMentionStringChange:I,onMentionedUserIdsUpdated:D,onVoiceMessageIconClick:q,onKeyUp:z,onKeyDown:ne,renderFileUploadIcon:fe,renderVoiceMessageIcon:B,renderSendMessageIcon:Y,setMentionedUsers:ue}=n,Q=d||Kge,{stringSet:_e}=Gd(),{config:le}=Xs(),se=Wge({channel:U,config:le}),me=W.useRef(null),[Me,de]=W.useState(!1),[he,K]=W.useState([]),[ee,j]=W.useState(gn({},C7)),ae=W.useMemo(()=>()=>{try{const Ye=t==null?void 0:t.current,mn=window.document.body.offsetHeight*.6;Ye&&Ye.scrollHeight>=Qge?mn<Ye.scrollHeight?(Ye.style.height="auto",Ye.style.height=`${mn}px`):(Ye.style.height="auto",Ye.style.height=`${Ye.scrollHeight}px`):Ye.style.height=""}catch{}},[]),Re=n==null?void 0:n.value;W.useEffect(()=>{var Ye;const mn=t==null?void 0:t.current;try{mn.innerHTML=Re,Xge(mn,Re==null?void 0:Re.length)}catch{}K([]),de((mn==null||(Ye=mn.textContent)===null||Ye===void 0?void 0:Ye.trim().length)>0),ae()},[Re]),W.useEffect(()=>{h||(de(!1),Tx(t))},[A]),W.useEffect(()=>{if(h&&E!==null&&E!==void 0&&E.messageId){var Ye,mn,sn;const Ln=t==null?void 0:t.current;if(f&&(E==null||(Ye=E.mentionedUsers)===null||Ye===void 0?void 0:Ye.length)>0&&(E==null||(mn=E.mentionedMessageTemplate)===null||mn===void 0?void 0:mn.length)>0){const{mentionedUsers:Tn=[]}=E,G=mH({messageText:E==null?void 0:E.mentionedMessageTemplate,mentionedUsers:Tn});Ln.innerHTML=G.map(ie=>{if(ie.type===Eo.mention){const bn=Tn.find(An=>An.userId===ie.userId),Sn=`${vm}${(bn==null?void 0:bn.nickname)||ie.value||_e.MENTION_NAME__NO_NAME}`;return b6({userId:ie.userId,nickname:Sn})}return rm(ie.value)}).join(" ")}else{try{Ln.innerHTML=rm(E==null?void 0:E.message)}catch{}K([])}de((Ln==null||(sn=Ln.textContent)===null||sn===void 0?void 0:sn.trim().length)>0),ae()}},[h,E]);const ze=W.useCallback(()=>{var Ye;const mn=t==null?void 0:t.current;if(f){const sn=[...mn.getElementsByClassName("sendbird-mention-user-label")].map(Ln=>{var Tn;return Ln==null||(Tn=Ln.dataset)===null||Tn===void 0?void 0:Tn.userid});(!tfe(he,sn)||sn.length===0)&&(D(sn),K(sn))}de(((Ye=mn.textContent)===null||Ye===void 0?void 0:Ye.trim().length)>0)},[ee,f]);W.useEffect(()=>{if(f&&M){const{targetString:Tn,startNodeIndex:G,startOffsetIndex:ie,endNodeIndex:bn,endOffsetIndex:Sn}=ee;if(Tn&&G!==null&&ie!==null){var Ye,mn,sn,Ln;const An=t==null?void 0:t.current,Fn=Nb(An==null?void 0:An.childNodes),Hn=(Ye=document)===null||Ye===void 0?void 0:Ye.createTextNode((mn=Fn[G])===null||mn===void 0?void 0:mn.textContent.slice(0,ie)),Bn=(sn=document)===null||sn===void 0?void 0:sn.createTextNode(`${(Ln=Fn[bn])===null||Ln===void 0?void 0:Ln.textContent.slice(Sn)}`),pt=b6({userId:M==null?void 0:M.userId,nickname:`${Lf}${(M==null?void 0:M.nickname)||_e.MENTION_NAME__NO_NAME}`}),Yn=document.createElement("div");Yn.innerHTML=pt;const On=[...Fn.slice(0,G),Hn,Yn.childNodes[0],Bn,...Fn.slice(bn+1)];if(An.innerHTML="",On.forEach(Tt=>{An.appendChild(Tt)}),R(M),window.getSelection||document.getSelection){const Tt=window.getSelection()||document.getSelection();Tt.removeAllRanges();const Ut=new Range;Ut.selectNodeContents(An),Ut.setStart(An.childNodes[G+2],1),Ut.setEnd(An.childNodes[G+2],1),Ut.collapse(!1),Tt.addRange(Ut),An.focus()}j(gn({},C7)),ae(),ze()}}},[M,f]);const De=W.useCallback(()=>{var Ye,mn,sn,Ln;const Tn=((Ye=window)===null||Ye===void 0||(mn=Ye.getSelection)===null||mn===void 0?void 0:mn.call(Ye))||((sn=document)===null||sn===void 0||(Ln=sn.getSelection)===null||Ln===void 0?void 0:Ln.call(sn)),G=t==null?void 0:t.current;if(Tn.anchorNode===G&&I(""),f&&Tn&&Tn.anchorNode===Tn.focusNode&&Tn.anchorOffset===Tn.focusOffset){let ie="",bn=null,Sn=null;for(let An=0;An<G.childNodes.length;An+=1){const Fn=G.childNodes[An];if(Fn.nodeType===f0.TextNode){const Hn=Fn===Tn.anchorNode?(Fn==null?void 0:Fn.textContent.slice(0,Tn.anchorOffset))||"":(Fn==null?void 0:Fn.textContent)||"";if(ie.length>0)ie+=Hn;else{let Bn=Hn.lastIndexOf(Lf);for(let pt=Bn-1;pt>-1&&Hn[pt]===Lf;pt-=1)Bn=pt;Bn>-1&&(ie=Hn,bn=An,Sn=Bn)}}else ie="",bn=null,Sn=null;if(Fn===Tn.anchorNode){const Hn=ie?ie.slice(Sn):"";j({targetString:Hn,startNodeIndex:bn,startOffsetIndex:Sn,endNodeIndex:An,endOffsetIndex:Tn.anchorOffset}),I(Hn);return}}}},[f]),Te=()=>{const Ye=t==null?void 0:t.current;if(!h&&Ye!==null&&Ye!==void 0&&Ye.textContent){let mn="",sn="";Ye.childNodes.forEach(Tn=>{if(Tn.nodeType===f0.ElementNode&&Tn.nodeName===Wg.Span){const{innerText:G,dataset:ie={}}=Tn,{userid:bn=""}=ie;mn+=G,sn+=`${Lf}{${bn}}`}else if(Tn.nodeType===f0.ElementNode&&Tn.nodeName===Wg.Br)mn+=`
`,sn+=`
`;else if((Tn==null?void 0:Tn.nodeType)===f0.ElementNode&&(Tn==null?void 0:Tn.nodeName)===Wg.Div){const{textContent:G=""}=Tn;mn+=`
${G}`,sn+=`
${G}`}else{const{textContent:G=""}=Tn;mn+=G,sn+=G}}),N({message:mn,mentionTemplate:sn}),Tx(t),Ye.focus(),de(!1),ae()}},Qe=!(t!=null&&(e=t.current)!==null&&e!==void 0&&(r=e.textContent)!==null&&r!==void 0&&r.trim()),an=()=>{const Ye=t==null?void 0:t.current,mn=E==null?void 0:E.messageId;if(h&&mn){let sn="",Ln="";Ye.childNodes.forEach(G=>{if(G.nodeType===f0.ElementNode&&G.nodeName===Wg.Span){const{innerText:ie,dataset:bn={}}=G,{userid:Sn=""}=bn;sn+=ie,Ln+=`${Lf}{${Sn}}`,sn+=`
`,Ln+=`
`}else{const{textContent:ie=""}=G;sn+=ie,Ln+=ie}}),P({messageId:mn,message:sn,mentionTemplate:Ln}),Tx(t)}},un=$ge({ref:t,setMentionedUserIds:K,setMentionedUsers:ue,channel:U,setIsInput:de,setHeight:ae}),Nn=t==null?void 0:t.current;return L.createElement("form",{className:rS([l,h?"sendbird-message-input__edit":"",g?"sendbird-message-input-form__disabled":""])},L.createElement("div",{className:rS(["sendbird-message-input",g?"sendbird-message-input__disabled":""])},L.createElement("div",{id:`${Q}${h?E==null?void 0:E.messageId:""}`,className:`sendbird-message-input--textarea ${Q}`,contentEditable:!g,role:"textbox","aria-label":"Text Input",disabled:g,ref:t,maxLength:x,onKeyDown:Ye=>{if(ne(Ye))Ye.preventDefault();else{var sn,Ln,Tn,G,ie,bn,Sn,An,Fn;!Ye.shiftKey&&Ye.key===m7.Enter&&(Nn==null||(sn=Nn.textContent)===null||sn===void 0?void 0:sn.trim().length)>0&&(Ye==null||(Ln=Ye.nativeEvent)===null||Ln===void 0?void 0:Ln.isComposing)!==!0&&(Ye.preventDefault(),Te()),Ye.key===m7.Backspace&&(t==null||(Tn=t.current)===null||Tn===void 0||(G=Tn.childNodes)===null||G===void 0?void 0:G.length)===2&&!(t!=null&&(ie=t.current)!==null&&ie!==void 0&&(bn=ie.childNodes)!==null&&bn!==void 0&&(Sn=bn[0])!==null&&Sn!==void 0&&Sn.textContent)&&(t==null||(An=t.current.childNodes)===null||An===void 0||(Fn=An[1])===null||Fn===void 0?void 0:Fn.nodeType)===f0.ElementNode&&(t==null||t.current.removeChild(t==null?void 0:t.current.childNodes[1]))}},onKeyUp:Ye=>{z(Ye)?Ye.preventDefault():De()},onClick:()=>{De()},onInput:()=>{var Ye;ae(),C(),de((Nn==null||(Ye=Nn.textContent)===null||Ye===void 0?void 0:Ye.trim().length)>0),ze()},onPaste:un}),(Nn==null||(a=Nn.innerText)===null||a===void 0?void 0:a.length)===0&&L.createElement(zt,{className:"sendbird-message-input--placeholder",type:qt.BODY_1,color:g?Lt.ONBACKGROUND_4:Lt.ONBACKGROUND_3},w||_e.MESSAGE_INPUT__PLACE_HOLDER),!h&&Me&&L.createElement(Ec,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:()=>Te()},(Y==null?void 0:Y())||L.createElement(rr,{type:Qt.SEND,fillColor:g?sr.ON_BACKGROUND_4:sr.PRIMARY,width:"20px",height:"20px"})),!h&&!Me&&((fe==null?void 0:fe())||se&&L.createElement(Ec,{className:`sendbird-message-input--attach ${_?"is-voice-message-enabled":""}`,height:"32px",width:"32px",onClick:()=>{var Ye,mn;me==null||(Ye=me.current)===null||Ye===void 0||(mn=Ye.click)===null||mn===void 0||mn.call(Ye)}},L.createElement(rr,{type:Qt.ATTACH,fillColor:g?sr.ON_BACKGROUND_4:sr.CONTENT_INVERSE,width:"20px",height:"20px"}),L.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:me,onChange:Yge(T)}))),_&&!h&&!Me&&L.createElement(Ec,{className:"sendbird-message-input--voice-message",width:"32px",height:"32px",onClick:q},(B==null?void 0:B())||L.createElement(rr,{type:Qt.AUDIO_ON_LINED,fillColor:g?sr.ON_BACKGROUND_4:sr.CONTENT_INVERSE,width:"20px",height:"20px"}))),h&&L.createElement("div",{className:"sendbird-message-input--edit-action"},L.createElement(tm,{className:"sendbird-message-input--edit-action__cancel",type:dh.SECONDARY,size:dS.SMALL,onClick:k},_e.BUTTON__CANCEL),L.createElement(tm,{className:"sendbird-message-input--edit-action__save",type:dh.PRIMARY,size:dS.SMALL,disabled:Qe,onClick:()=>an()},_e.BUTTON__SAVE)))});oy.propTypes={className:on.exports.oneOfType([on.exports.string,on.exports.arrayOf(on.exports.string)]),messageFieldId:on.exports.string,placeholder:on.exports.oneOfType([on.exports.string,on.exports.bool]),value:on.exports.string,isEdit:on.exports.bool,isMentionEnabled:on.exports.bool,isVoiceMessageEnabled:on.exports.bool,onVoiceMessageIconClick:on.exports.func,message:on.exports.shape({messageId:on.exports.oneOfType([on.exports.string,on.exports.number]),message:on.exports.string,mentionedMessageTemplate:on.exports.string,mentionedUsers:on.exports.arrayOf(on.exports.shape({}))}),disabled:on.exports.bool,maxLength:on.exports.number,onFileUpload:on.exports.func,onSendMessage:on.exports.func,onUpdateMessage:on.exports.func,onStartTyping:on.exports.func,onCancelEdit:on.exports.func,channelUrl:on.exports.string,mentionSelectedUser:on.exports.shape({userId:on.exports.string,nickname:on.exports.string}),setMentionedUsers:on.exports.func,onUserMentioned:on.exports.func,onMentionStringChange:on.exports.func,onMentionedUserIdsUpdated:on.exports.func,onKeyUp:on.exports.func,onKeyDown:on.exports.func,renderVoiceMessageIcon:on.exports.func,renderSendMessageIcon:on.exports.func,renderFileUploadIcon:on.exports.func,channel:on.exports.shape({channelType:on.exports.string}).isRequired};oy.defaultProps={className:"",messageFieldId:"",channelUrl:"",onSendMessage:Za,onUpdateMessage:Za,value:null,message:null,isEdit:!1,isMentionEnabled:!1,isVoiceMessageEnabled:!0,onVoiceMessageIconClick:Za,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:Za,onCancelEdit:Za,onStartTyping:Za,mentionSelectedUser:null,onUserMentioned:Za,onMentionStringChange:Za,onMentionedUserIdsUpdated:Za,onKeyUp:Za,onKeyDown:Za,setMentionedUsers:Za,renderVoiceMessageIcon:Za,renderFileUploadIcon:Za,renderSendMessageIcon:Za};const Zge={message:{},isByMe:!1},EH=L.createContext(Zge),Jge=n=>{const{children:t,message:e,isByMe:r=!1}=n;return L.createElement(EH.Provider,{value:{message:e,isByMe:r}},t)},ebe=()=>{const n=L.useContext(EH);if(n===void 0)throw new Error("useMessageContext must be used within a MessageProvider");return n};function nbe(n){var t,e,r;const{mentionTemplate:a,mentionedUserId:l,mentionedUserNickname:d,isByMe:h}=n,f=W.useRef(),_=Xs(),g=_==null||(t=_.config)===null||t===void 0?void 0:t.userId,E=_==null||(e=_.stores)===null||e===void 0||(r=e.sdkStore)===null||r===void 0?void 0:r.sdk,w=g===l,[x,T]=W.useState(),N=W.useCallback(P=>{if(x||!(E!=null&&E.createApplicationUserListQuery)){P();return}(E==null?void 0:E.createApplicationUserListQuery({userIdsFilter:[l]})).next().then(C=>{(C==null?void 0:C.length)>0&&T(C[0]),P()})},[E,l]);return L.createElement(Fl,{menuTrigger:P=>L.createElement("a",{className:`
            sendbird-word__mention
            ${w?"sendbird-word__mention--me":""}
          `,onClick:()=>N(P),ref:f,"data-userid":l,"data-nickname":d,"data-sb-mention":!0},L.createElement(zt,{type:qt.CAPTION_1,color:h?Lt.ONCONTENT_1:Lt.ONBACKGROUND_1},`${a}${d}`)),menuItems:P=>L.createElement(Pl,{parentRef:f,parentContainRef:f,closeDropdown:P,style:{paddingTop:"0px",paddingBottom:"0px"}},L.createElement(_m,{user:x,onSuccess:P,currentUserId:g}))})}const tbe=/https?:\/\//;function ly(n){let{className:t,src:e,type:r,color:a,children:l}=n;const d=tbe.test(e)?e:`http://${e}`;return L.createElement("a",{className:[...Array.isArray(t)?t:[t],"sendbird-link-label",a?YF(a):""].join(" "),href:d,target:"_blank",rel:"noopener noreferrer",onTouchEnd:h=>{h.preventDefault(),h.nativeEvent.stopImmediatePropagation(),window.open(d,"_blank","noopener,noreferrer")}},L.createElement(zt,{className:"sendbird-link-label__label",type:r,color:a},l))}ly.propTypes={className:on.exports.oneOfType([on.exports.string,on.exports.arrayOf(on.exports.string)]),src:on.exports.string.isRequired,type:on.exports.string,color:on.exports.string,children:on.exports.oneOfType([on.exports.string,on.exports.element,on.exports.arrayOf(on.exports.string),on.exports.arrayOf(on.exports.element)]).isRequired};ly.defaultProps={className:"",type:"",color:""};function rbe(n,t,e){return`sb-msg_${n}_${t}_${e}`}function ibe(n){let{tokens:t}=n;const e=ebe(),r=e==null?void 0:e.message,a=e==null?void 0:e.isByMe,{updatedAt:l,createdAt:d}=r;return L.createElement(L.Fragment,null,t==null?void 0:t.map((h,f)=>{const _=rbe(d,l,f);return $1(h.type).with(Eo.mention,()=>L.createElement("span",{className:"sendbird-word",key:_},L.createElement(nbe,{mentionTemplate:vm,mentionedUserId:h.userId,mentionedUserNickname:h.value,isByMe:a}))).with(Eo.url,()=>L.createElement("span",{className:"sendbird-word",key:_},L.createElement(ly,{className:"sendbird-word__url",src:h.value,type:qt.BODY_1},h.value))).otherwise(()=>L.createElement(L.Fragment,{key:_},Fge(h.value)))}))}function abe(n,t){const e=W.useRef(null);W.useEffect(()=>()=>{e.current&&clearTimeout(e.current)},[]);function r(){for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{n(...l)},t)}return r}const sbe=500;function obe(n,t){return n-t}function lbe(n){let{hasMore:t,hasNext:e,onScroll:r,scrollRef:a,setShowScrollDownButton:l}=n;const d=W.useCallback(()=>{const h=a==null?void 0:a.current;if(h==null)return;const{scrollTop:f,scrollHeight:_,clientHeight:g}=h,E=obe(_,f);typeof l=="function"&&l(_>f+g+1),t&&f<dfe&&r(()=>{h.scrollTop=h.scrollHeight-E}),e&&r(()=>{h.scrollTop=f-(_-h.scrollHeight)})},[l,t,r,a]);return abe(d,sbe)}const wH=L.createContext({opened:"",setOpened:Sb});wH.Consumer;wH.Provider;const cbe=n=>{let{profileUrl:t,nickname:e,name:r,type:a,url:l,isByMe:d=!0,disableDelete:h=!1,onClose:f,onDelete:_}=n;const{stringSet:g}=W.useContext(Hl);return L.createElement("div",{className:"sendbird-fileviewer"},L.createElement("div",{className:"sendbird-fileviewer__header"},L.createElement("div",{className:"sendbird-fileviewer__header__left"},L.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},L.createElement(xh,{height:"32px",width:"32px",src:t})),L.createElement(zt,{className:"sendbird-fileviewer__header__left__filename",type:qt.H_2,color:Lt.ONBACKGROUND_1},r),L.createElement(zt,{className:"sendbird-fileviewer__header__left__sender-name",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},e)),L.createElement("div",{className:"sendbird-fileviewer__header__right"},B8(a)&&L.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},L.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:l,target:"_blank"},L.createElement(rr,{type:Qt.DOWNLOAD,fillColor:sr.ON_BACKGROUND_1,height:"24px",width:"24px"})),_&&d&&L.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete"},L.createElement(rr,{className:h?"disabled":"",type:Qt.DELETE,fillColor:h?sr.GRAY:sr.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:E=>{h||_==null||_(E)}}))),L.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},L.createElement(rr,{type:Qt.CLOSE,fillColor:sr.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:E=>f==null?void 0:f(E)})))),L.createElement("div",{className:"sendbird-fileviewer__content"},VF(a)&&L.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},L.createElement("source",{src:l,type:a})),BF(a)&&L.createElement("img",{src:l,alt:r,className:"sendbird-fileviewer__content__img"}),!B8(a)&&L.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},L.createElement(zt,{type:qt.H_1,color:Lt.ONBACKGROUND_1},(g==null?void 0:g.UI__FILE_VIEWER__UNSUPPORT)||"Unsupported message"))))};function dbe(n){var t,e,r;let{message:a,isByMe:l=!1,onClose:d,onDelete:h}=n;return um.createPortal(L.createElement(cbe,{profileUrl:a==null||(t=a.sender)===null||t===void 0?void 0:t.profileUrl,nickname:a==null||(e=a.sender)===null||e===void 0?void 0:e.nickname,name:a==null?void 0:a.name,type:a==null?void 0:a.type,url:a==null?void 0:a.url,isByMe:l,disableDelete:(a==null||(r=a.threadInfo)===null||r===void 0?void 0:r.replyCount)>0,onClose:d,onDelete:h}),document.getElementById(QF))}function hh(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function cs(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Ab(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ab=function(e){return typeof e}:Ab=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(n)}function Vl(n){cs(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||Ab(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ube(n,t){cs(2,arguments);var e=Vl(n).getTime(),r=hh(t);return new Date(e+r)}var hbe={};function cy(){return hbe}function pbe(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function Ob(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ob=function(e){return typeof e}:Ob=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(n)}function fbe(n){return cs(1,arguments),n instanceof Date||Ob(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function _be(n){if(cs(1,arguments),!fbe(n)&&typeof n!="number")return!1;var t=Vl(n);return!isNaN(Number(t))}function mbe(n,t){cs(2,arguments);var e=hh(t);return ube(n,-e)}var vbe=864e5;function gbe(n){cs(1,arguments);var t=Vl(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=e-r;return Math.floor(a/vbe)+1}function w1(n){cs(1,arguments);var t=1,e=Vl(n),r=e.getUTCDay(),a=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function xH(n){cs(1,arguments);var t=Vl(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var a=w1(r),l=new Date(0);l.setUTCFullYear(e,0,4),l.setUTCHours(0,0,0,0);var d=w1(l);return t.getTime()>=a.getTime()?e+1:t.getTime()>=d.getTime()?e:e-1}function bbe(n){cs(1,arguments);var t=xH(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=w1(e);return r}var ybe=6048e5;function Ebe(n){cs(1,arguments);var t=Vl(n),e=w1(t).getTime()-bbe(t).getTime();return Math.round(e/ybe)+1}function x1(n,t){var e,r,a,l,d,h,f,_;cs(1,arguments);var g=cy(),E=hh((e=(r=(a=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(d=t.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:g.weekStartsOn)!==null&&r!==void 0?r:(f=g.locale)===null||f===void 0||(_=f.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&e!==void 0?e:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Vl(n),x=w.getUTCDay(),T=(x<E?7:0)+x-E;return w.setUTCDate(w.getUTCDate()-T),w.setUTCHours(0,0,0,0),w}function SH(n,t){var e,r,a,l,d,h,f,_;cs(1,arguments);var g=Vl(n),E=g.getUTCFullYear(),w=cy(),x=hh((e=(r=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(d=t.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:w.firstWeekContainsDate)!==null&&r!==void 0?r:(f=w.locale)===null||f===void 0||(_=f.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(E+1,0,x),T.setUTCHours(0,0,0,0);var N=x1(T,t),P=new Date(0);P.setUTCFullYear(E,0,x),P.setUTCHours(0,0,0,0);var k=x1(P,t);return g.getTime()>=N.getTime()?E+1:g.getTime()>=k.getTime()?E:E-1}function wbe(n,t){var e,r,a,l,d,h,f,_;cs(1,arguments);var g=cy(),E=hh((e=(r=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(d=t.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&r!==void 0?r:(f=g.locale)===null||f===void 0||(_=f.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&e!==void 0?e:1),w=SH(n,t),x=new Date(0);x.setUTCFullYear(w,0,E),x.setUTCHours(0,0,0,0);var T=x1(x,t);return T}var xbe=6048e5;function Sbe(n,t){cs(1,arguments);var e=Vl(n),r=x1(e,t).getTime()-wbe(e,t).getTime();return Math.round(r/xbe)+1}function Pr(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var rd={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Pr(e==="yy"?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):Pr(r+1,2)},d:function(t,e){return Pr(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return Pr(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Pr(t.getUTCHours(),e.length)},m:function(t,e){return Pr(t.getUTCMinutes(),e.length)},s:function(t,e){return Pr(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),l=Math.floor(a*Math.pow(10,r-3));return Pr(l,e.length)}},m0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tbe={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var a=t.getUTCFullYear(),l=a>0?a:1-a;return r.ordinalNumber(l,{unit:"year"})}return rd.y(t,e)},Y:function(t,e,r,a){var l=SH(t,a),d=l>0?l:1-l;if(e==="YY"){var h=d%100;return Pr(h,2)}return e==="Yo"?r.ordinalNumber(d,{unit:"year"}):Pr(d,e.length)},R:function(t,e){var r=xH(t);return Pr(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return Pr(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Pr(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Pr(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return rd.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return Pr(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var l=Sbe(t,a);return e==="wo"?r.ordinalNumber(l,{unit:"week"}):Pr(l,e.length)},I:function(t,e,r){var a=Ebe(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Pr(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):rd.d(t,e)},D:function(t,e,r){var a=gbe(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Pr(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var l=t.getUTCDay(),d=(l-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(d);case"ee":return Pr(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var l=t.getUTCDay(),d=(l-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(d);case"cc":return Pr(d,e.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),l=a===0?7:a;switch(e){case"i":return String(l);case"ii":return Pr(l,e.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),l=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a=t.getUTCHours(),l;switch(a===12?l=m0.noon:a===0?l=m0.midnight:l=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a=t.getUTCHours(),l;switch(a>=17?l=m0.evening:a>=12?l=m0.afternoon:a>=4?l=m0.morning:l=m0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return rd.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):rd.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Pr(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Pr(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):rd.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):rd.s(t,e)},S:function(t,e){return rd.S(t,e)},X:function(t,e,r,a){var l=a._originalDate||t,d=l.getTimezoneOffset();if(d===0)return"Z";switch(e){case"X":return I7(d);case"XXXX":case"XX":return Du(d);case"XXXXX":case"XXX":default:return Du(d,":")}},x:function(t,e,r,a){var l=a._originalDate||t,d=l.getTimezoneOffset();switch(e){case"x":return I7(d);case"xxxx":case"xx":return Du(d);case"xxxxx":case"xxx":default:return Du(d,":")}},O:function(t,e,r,a){var l=a._originalDate||t,d=l.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+k7(d,":");case"OOOO":default:return"GMT"+Du(d,":")}},z:function(t,e,r,a){var l=a._originalDate||t,d=l.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+k7(d,":");case"zzzz":default:return"GMT"+Du(d,":")}},t:function(t,e,r,a){var l=a._originalDate||t,d=Math.floor(l.getTime()/1e3);return Pr(d,e.length)},T:function(t,e,r,a){var l=a._originalDate||t,d=l.getTime();return Pr(d,e.length)}};function k7(n,t){var e=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),l=r%60;if(l===0)return e+String(a);var d=t||"";return e+String(a)+d+Pr(l,2)}function I7(n,t){if(n%60===0){var e=n>0?"-":"+";return e+Pr(Math.abs(n)/60,2)}return Du(n,t)}function Du(n,t){var e=t||"",r=n>0?"-":"+",a=Math.abs(n),l=Pr(Math.floor(a/60),2),d=Pr(a%60,2);return r+l+e+d}var Cbe=Tbe,N7=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TH=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},kbe=function(t,e){var r=t.match(/(P+)(p+)?/)||[],a=r[1],l=r[2];if(!l)return N7(t,e);var d;switch(a){case"P":d=e.dateTime({width:"short"});break;case"PP":d=e.dateTime({width:"medium"});break;case"PPP":d=e.dateTime({width:"long"});break;case"PPPP":default:d=e.dateTime({width:"full"});break}return d.replace("{{date}}",N7(a,e)).replace("{{time}}",TH(l,e))},Ibe={p:TH,P:kbe},Nbe=Ibe,Abe=["D","DD"],Obe=["YY","YYYY"];function Rbe(n){return Abe.indexOf(n)!==-1}function Mbe(n){return Obe.indexOf(n)!==-1}function A7(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Dbe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Lbe=function(t,e,r){var a,l=Dbe[t];return typeof l=="string"?a=l:e===1?a=l.one:a=l.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Cx(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}var Ube={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pbe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fbe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hbe={date:Cx({formats:Ube,defaultWidth:"full"}),time:Cx({formats:Pbe,defaultWidth:"full"}),dateTime:Cx({formats:Fbe,defaultWidth:"full"})},Bbe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vbe=function(t,e,r,a){return Bbe[t]};function Ff(n){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",a;if(r==="formatting"&&n.formattingValues){var l=n.defaultFormattingWidth||n.defaultWidth,d=e!=null&&e.width?String(e.width):l;a=n.formattingValues[d]||n.formattingValues[l]}else{var h=n.defaultWidth,f=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[h]}var _=n.argumentCallback?n.argumentCallback(t):t;return a[_]}}var zbe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gbe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qbe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$be={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kbe=function(t,e){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qbe={ordinalNumber:Kbe,era:Ff({values:zbe,defaultWidth:"wide"}),quarter:Ff({values:Gbe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ff({values:qbe,defaultWidth:"wide"}),day:Ff({values:jbe,defaultWidth:"wide"}),dayPeriod:Ff({values:$be,defaultWidth:"wide",formattingValues:Wbe,defaultFormattingWidth:"wide"})};function Hf(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=t.match(a);if(!l)return null;var d=l[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Xbe(h,function(E){return E.test(d)}):Ybe(h,function(E){return E.test(d)}),_;_=n.valueCallback?n.valueCallback(f):f,_=e.valueCallback?e.valueCallback(_):_;var g=t.slice(d.length);return{value:_,rest:g}}}function Ybe(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function Xbe(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function Zbe(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var a=r[0],l=t.match(n.parsePattern);if(!l)return null;var d=n.valueCallback?n.valueCallback(l[0]):l[0];d=e.valueCallback?e.valueCallback(d):d;var h=t.slice(a.length);return{value:d,rest:h}}}var Jbe=/^(\d+)(th|st|nd|rd)?/i,e1e=/\d+/i,n1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},t1e={any:[/^b/i,/^(a|c)/i]},r1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},i1e={any:[/1/i,/2/i,/3/i,/4/i]},a1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},s1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},o1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},l1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},c1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},d1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},u1e={ordinalNumber:Zbe({matchPattern:Jbe,parsePattern:e1e,valueCallback:function(t){return parseInt(t,10)}}),era:Hf({matchPatterns:n1e,defaultMatchWidth:"wide",parsePatterns:t1e,defaultParseWidth:"any"}),quarter:Hf({matchPatterns:r1e,defaultMatchWidth:"wide",parsePatterns:i1e,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Hf({matchPatterns:a1e,defaultMatchWidth:"wide",parsePatterns:s1e,defaultParseWidth:"any"}),day:Hf({matchPatterns:o1e,defaultMatchWidth:"wide",parsePatterns:l1e,defaultParseWidth:"any"}),dayPeriod:Hf({matchPatterns:c1e,defaultMatchWidth:"any",parsePatterns:d1e,defaultParseWidth:"any"})},h1e={code:"en-US",formatDistance:Lbe,formatLong:Hbe,formatRelative:Vbe,localize:Qbe,match:u1e,options:{weekStartsOn:0,firstWeekContainsDate:1}},p1e=h1e,f1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m1e=/^'([^]*?)'?$/,v1e=/''/g,g1e=/[a-zA-Z]/;function O7(n,t,e){var r,a,l,d,h,f,_,g,E,w,x,T,N,P,k,C,A,U;cs(2,arguments);var M=String(t),R=cy(),I=(r=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:R.locale)!==null&&r!==void 0?r:p1e,D=hh((l=(d=(h=(f=e==null?void 0:e.firstWeekContainsDate)!==null&&f!==void 0?f:e==null||(_=e.locale)===null||_===void 0||(g=_.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&h!==void 0?h:R.firstWeekContainsDate)!==null&&d!==void 0?d:(E=R.locale)===null||E===void 0||(w=E.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=hh((x=(T=(N=(P=e==null?void 0:e.weekStartsOn)!==null&&P!==void 0?P:e==null||(k=e.locale)===null||k===void 0||(C=k.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&N!==void 0?N:R.weekStartsOn)!==null&&T!==void 0?T:(A=R.locale)===null||A===void 0||(U=A.options)===null||U===void 0?void 0:U.weekStartsOn)!==null&&x!==void 0?x:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var z=Vl(n);if(!_be(z))throw new RangeError("Invalid time value");var ne=pbe(z),fe=mbe(z,ne),B={firstWeekContainsDate:D,weekStartsOn:q,locale:I,_originalDate:z},Y=M.match(_1e).map(function(ue){var Q=ue[0];if(Q==="p"||Q==="P"){var _e=Nbe[Q];return _e(ue,I.formatLong)}return ue}).join("").match(f1e).map(function(ue){if(ue==="''")return"'";var Q=ue[0];if(Q==="'")return b1e(ue);var _e=Cbe[Q];if(_e)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Mbe(ue)&&A7(ue,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Rbe(ue)&&A7(ue,t,String(n)),_e(fe,ue,I.localize,B);if(Q.match(g1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return ue}).join("");return Y}function b1e(n){var t=n.match(m1e);return t?t[1].replace(v1e,"'"):n}on.exports.string.isRequired,on.exports.string.isRequired,on.exports.string,on.exports.string,on.exports.string,on.exports.string,on.exports.func,on.exports.string,on.exports.string,on.exports.oneOf([on.exports.string,on.exports.bool]),on.exports.bool,on.exports.bool,on.exports.bool,on.exports.func,on.exports.func,on.exports.shape({}),on.exports.shape({logLevel:on.exports.oneOfType([on.exports.string,on.exports.arrayOf(on.exports.string)]),isREMUnitEnabled:on.exports.bool}),on.exports.shape({}),on.exports.bool,on.exports.oneOf(["NONE","QUOTE_REPLY","THREAD"]),on.exports.bool,on.exports.bool,on.exports.objectOf(on.exports.string),on.exports.objectOf(on.exports.string),on.exports.shape({compressionRate:on.exports.number,resizingWidth:on.exports.oneOfType([on.exports.number,on.exports.string]),resizingHeight:on.exports.oneOfType([on.exports.number,on.exports.string])}),on.exports.bool,on.exports.bool,on.exports.bool,on.exports.shape({maxRecordingTime:on.exports.number,minRecordingTime:on.exports.number}),on.exports.bool,on.exports.bool,on.exports.bool,on.exports.shape({}),on.exports.shape({});const R7=n=>fp(n.createdAt,"p"),y1e=(n,t)=>typeof t!="number"||typeof t=="number"&&t>n,Pd=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const e=10,r=n;if(!(r>e))try{const a=(t==null?void 0:t.current)||document.querySelector(".sendbird-openchannel-conversation-scroll__container__item-container");a.scrollTop=a.scrollHeight}catch{setTimeout(()=>{Pd(r+1,t)},500*r)}},M7=(n,t)=>{var e,r,a,l;if(!(n&&t&&n!==null&&n!==void 0&&n.messageType&&n.messageType!=="admin"&&t!==null&&t!==void 0&&t.messageType&&t.messageType!=="admin"&&n!==null&&n!==void 0&&n.sender&&t!==null&&t!==void 0&&t.sender&&n!==null&&n!==void 0&&n.createdAt&&t!==null&&t!==void 0&&t.createdAt&&n!==null&&n!==void 0&&(e=n.sender)!==null&&e!==void 0&&e.userId&&t!==null&&t!==void 0&&(r=t.sender)!==null&&r!==void 0&&r.userId))return!1;const d=n,h=t;return(d==null?void 0:d.sendingStatus)===(h==null?void 0:h.sendingStatus)&&(d==null||(a=d.sender)===null||a===void 0?void 0:a.userId)===(h==null||(l=h.sender)===null||l===void 0?void 0:l.userId)&&R7(n)===R7(t)},E1e=(n,t,e)=>[M7(n,t),M7(t,e)],w1e=n=>Math.abs(n)>999999?`${(Math.abs(n)/1e6).toFixed(1)}M`:Math.abs(n)>999?`${(Math.abs(n)/1e3).toFixed(1)}K`:`${n}`,x1e=(n,t)=>!((n==null?void 0:n.operators).map(r=>r.userId).indexOf(t)<0),S1e=(n,t)=>(n==null?void 0:n.isFrozen)&&!x1e(n,t),T1e=(n,t)=>n.indexOf(t)>-1,kx=(n,t,e)=>{const r=a=>{const{hasNext:l}=a;l?a.next().then(d=>{e(d),r(a)}).catch(d=>{t.warning("OpenChannel | FetchUserList failed",d)}):t.info("OpenChannel | FetchUserList finished")};t.info("OpenChannel | FetchUserList start",n),r(n)},Yg=n=>{if(typeof n=="number")return n;if(typeof n=="string"){const t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null},CH="SET_CURRENT_CHANNEL",E6="SET_CHANNEL_INVALID",kH="RESET_MESSAGES",IH="EXIT_CURRENT_CHANNEL",NH="GET_PREV_MESSAGES_START",lC="GET_PREV_MESSAGES_SUCESS",S1="GET_PREV_MESSAGES_FAIL",sp="SENDING_MESSAGE_FAILED",Fd="SENDING_MESSAGE_SUCCEEDED",im="SENDING_MESSAGE_START",AH="RESENDING_MESSAGE_START",OH="FETCH_PARTICIPANT_LIST",RH="FETCH_BANNED_USER_LIST",w6="FETCH_MUTED_USER_LIST",MH="TRIM_MESSAGE_LIST",DH="ON_MESSAGE_RECEIVED",dy="ON_MESSAGE_UPDATED",uy="ON_MESSAGE_DELETED",LH="ON_MESSAGE_DELETED_BY_REQ_ID",UH="ON_OPERATOR_UPDATED",PH="ON_USER_ENTERED",FH="ON_USER_EXITED",cC="ON_USER_MUTED",HH="ON_USER_UNMUTED",BH="ON_USER_BANNED",VH="ON_USER_UNBANNED",zH="ON_CHANNEL_FROZEN",GH="ON_CHANNEL_UNFROZEN",qH="ON_CHANNEL_CHANGED",jH="ON_CHANNEL_DELETED",$H="ON_META_DATA_CREATED",WH="ON_META_DATA_UPDATED",KH="ON_META_DATA_DELETED",QH="ON_META_COUNTERS_CREATED",YH="ON_META_COUNTERS_UPDATED",XH="ON_META_COUNTERS_DELETED",ZH="ON_MENTION_RECEIVED";function C1e(n,t){switch(t.type){case kH:return gn(gn({},n),{},{allMessages:[]});case IH:{var e,r;return((e=t.payload)===null||e===void 0?void 0:e.url)===((r=n.currentOpenChannel)===null||r===void 0?void 0:r.url)?gn(gn({},n),{},{currentOpenChannel:null}):n}case CH:{const l=t.payload,d=l.operators;return!n.isInvalid&&n.currentOpenChannel&&n.currentOpenChannel.url&&n.currentOpenChannel.url===l.url?n:gn(gn({},n),{},{currentOpenChannel:l,isInvalid:!1,operators:d,participants:d,bannedParticipantIds:[],mutedParticipantIds:[]})}case E6:return gn(gn({},n),{},{isInvalid:!0});case NH:return gn(gn({},n),{},{loading:!0});case lC:case S1:{const l=t.type===S1,{currentOpenChannel:d={},messages:h=[],hasMore:f,lastMessageTimestamp:_}=t.payload,g=d.url,E=l?[]:h,w=l?!1:f,x=l?0:_,N=n.currentOpenChannel.url;if(g!==N)return n;const P=n.allMessages.filter(k=>!E.find(C=>{let{messageId:A}=C;return ic(A,k.messageId)}));return gn(gn({},n),{},{loading:!1,initialized:!0,hasMore:w,lastMessageTimestamp:x,allMessages:[...E,...P]})}case im:{const{message:l,channel:d}=t.payload;return(d==null?void 0:d.url)!==n.currentOpenChannel.url||n.allMessages.some(h=>h.reqId===l.reqId)?n:gn(gn({},n),{},{allMessages:[...n.allMessages,l]})}case Fd:{const l=t.payload,d=n.allMessages.map(h=>ic(h.reqId,l.reqId)?l:h);return gn(gn({},n),{},{allMessages:d})}case sp:{const l=t.payload;return l.sendingStatus="failed",n.allMessages.some(d=>(d==null?void 0:d.reqId)===(l==null?void 0:l.reqId))?gn(gn({},n),{},{allMessages:n.allMessages.map(d=>ic(d.reqId,l.reqId)?l:d)}):gn(gn({},n),{},{allMessages:[...n.allMessages.filter(d=>!ic(d.reqId,l)),l]})}case MH:{var a;const{allMessages:l}=n,d=(a=t.payload)===null||a===void 0?void 0:a.messageLimit;if(d&&d>0&&(l==null?void 0:l.length)>d){const h=l.length-d;return gn(gn({},n),{},{allMessages:l.slice(h)})}return n}case AH:{const l=t.payload.channel,d=t.payload.message;return l.url!==n.currentOpenChannel.url?n:gn(gn({},n),{},{allMessages:n.allMessages.map(h=>ic(h.reqId,d.reqId)?d:h)})}case OH:{const l=t.payload.channel,d=t.payload.users;return l.url!==n.currentOpenChannel.url?n:gn(gn({},n),{},{participants:[...n.participants,...d]})}case RH:{const l=t.payload.channel,d=t.payload.users;return l.url!==n.currentOpenChannel.url||!d.every(h=>typeof h.userId=="string")?n:gn(gn({},n),{},{bannedParticipantIds:[...n.bannedParticipantIds,...d.map(h=>h.userId)]})}case w6:{const l=t.payload.channel,d=t.payload.users;return l.url!==n.currentOpenChannel.url||!d.every(h=>typeof h.userId=="string")?n:gn(gn({},n),{},{mutedParticipantIds:[...n.mutedParticipantIds,...d.map(h=>h.userId)]})}case DH:{const l=t.payload.channel,d=t.payload.message,{currentOpenChannel:h}=n;return!ic(l.url,h.url)||!(n.allMessages.map(f=>f.messageId).indexOf(d.messageId)<0)?n:gn(gn({},n),{},{allMessages:[...n.allMessages,d]})}case dy:{const l=t.payload.channel,d=t.payload.message,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{allMessages:n.allMessages.map(f=>f.isIdentical(d)?d:f)})}case uy:{const l=t.payload.channel,d=t.payload.messageId,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{allMessages:n.allMessages.filter(f=>!ic(f.messageId,d))})}case LH:return gn(gn({},n),{},{allMessages:n.allMessages.filter(l=>!ic(l.reqId,t.payload))});case UH:{const l=t.payload.channel,d=t.payload.operators,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{currentOpenChannel:l,operators:d})}case PH:{const l=t.payload.channel,d=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{participants:[...n.participants,d]})}case FH:{const l=t.payload.channel,d=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url?n:gn(gn({},n),{},{participants:n.participants.filter(f=>!ic(f.userId,d.userId))})}case cC:{const l=t.payload.channel,d=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url||n.mutedParticipantIds.indexOf(d.userId)>=0?n:gn(gn({},n),{},{mutedParticipantIds:[...n.mutedParticipantIds,d.userId]})}case HH:{const l=t.payload.channel,d=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==l.url||n.mutedParticipantIds.indexOf(d.userId)<0?n:gn(gn({},n),{},{mutedParticipantIds:n.mutedParticipantIds.filter(f=>f!==d.userId)})}case BH:{const l=t.payload.channel,d=t.payload.user,h=t.payload.currentUser,f=n.currentOpenChannel;return(f==null?void 0:f.url)===(l==null?void 0:l.url)&&(d==null?void 0:d.userId)===(h==null?void 0:h.userId)?gn(gn({},n),{},{currentOpenChannel:null}):(f==null?void 0:f.url)===(l==null?void 0:l.url)?gn(gn({},n),{},{bannedParticipantIds:[...n.bannedParticipantIds,d.userId]}):n}case VH:{const l=t.payload.channel,d=t.payload.user,h=n.currentOpenChannel;return(h==null?void 0:h.url)===(l==null?void 0:l.url)?gn(gn({},n),{},{bannedParticipantIds:n.bannedParticipantIds.filter(f=>f!==d.userId)}):n}case zH:{const l=t.payload,d=n.currentOpenChannel;return!d||d.url&&d.url!==l.url?n:gn(gn({},n),{},{frozen:!0})}case GH:{const l=t.payload,d=n.currentOpenChannel;return!d||d.url&&d.url!==l.url?n:gn(gn({},n),{},{frozen:!1})}case qH:{const l=t.payload,d=n.currentOpenChannel;return!d||d.url&&d.url!==l.url?n:gn(gn({},n),{},{currentOpenChannel:l})}case jH:{const l=t.payload,d=n==null?void 0:n.currentOpenChannel;return(d==null?void 0:d.url)===l?gn(gn({},n),{},{currentOpenChannel:null}):n}case $H:return n;case WH:return n;case KH:return n;case QH:return n;case YH:return n;case XH:return n;case ZH:return n;default:return n}}const k1e={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function I1e(n,t){let{channelUrl:e,sdkInit:r,fetchingParticipants:a,userId:l,currentOpenChannel:d}=n,{sdk:h,logger:f,messagesDispatcher:_}=t;W.useEffect(()=>{if(e&&r&&h!==null&&h!==void 0&&h.openChannel){if(d&&d!==null&&d!==void 0&&d.exit){var g;(g=d.exit)===null||g===void 0||g.call(d).then(()=>{f.info("OpenChannel | useSetChannel: Exit from the previous open channel",d==null?void 0:d.url),_({type:IH,payload:d})})}f.info("OpenChannel | useSetChannel: Fetching channel",e),h.openChannel.getChannel(e).then(E=>{f.info("OpenChannel | useSetChannel: Succeeded to fetch channel",E),_({type:CH,payload:E}),E.enter().then(()=>{if(E.isOperator(l)){const w=E.createBannedUserListQuery(),x=E.createMutedUserListQuery();kx(w,f,T=>{_({type:RH,payload:{channel:E,users:T}})}),kx(x,f,T=>{_({type:w6,payload:{channel:E,users:T}})})}else E.getMyMutedInfo().then(w=>{w!=null&&w.isMuted&&_({type:w6,payload:{channel:E,users:[h==null?void 0:h.currentUser]}})});if(a){const w=E.createParticipantListQuery({limit:E.participantCount});kx(w,f,x=>{_({type:OH,payload:{channel:E,users:x}})})}}).catch(w=>{f.warning("OpenChannel | useSetChannel: Failed to enter channel",{channelUrl:e,error:w}),_({type:E6,payload:null})})}).catch(E=>{f.warning("OpenChannel | useSetChannel: Failed to fetch channel",{channelUrl:e,error:E}),_({type:E6,payload:null})})}},[e,r,a])}function N1e(n,t){let{currentOpenChannel:e,checkScrollBottom:r}=n,{sdk:a,logger:l,messagesDispatcher:d,scrollRef:h}=t;W.useEffect(()=>{var f;const _=fm();if(e&&e.url&&a!==null&&a!==void 0&&(f=a.openChannel)!==null&&f!==void 0&&f.addOpenChannelHandler){var g;l.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",_);const E={onMessageReceived:(x,T)=>{const N=r(),P=x==null?void 0:x.url;if(l.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:P,message:T}),d({type:DH,payload:{channel:x,message:T}}),N)try{setTimeout(()=>{Pd(0,h)})}catch{l.warning("OpenChannel | onMessageReceived | scroll to end failed")}},onMessageUpdated:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:N,message:T}),d({type:dy,payload:{channel:x,message:T}})},onMessageDeleted:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:N,messageId:T}),d({type:uy,payload:{channel:x,messageId:T}})},onOperatorUpdated:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:N,operators:T}),d({type:UH,payload:{channel:x,operators:T}})},onUserEntered:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:N,user:T}),d({type:PH,payload:{channel:x,user:T}})},onUserExited:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:N,user:T}),d({type:FH,payload:{channel:x,user:T}})},onUserMuted:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:N,user:T}),d({type:cC,payload:{channel:x,user:T}})},onUserUnmuted:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:N,user:T}),d({type:HH,payload:{channel:x,user:T}})},onUserBanned:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:N,user:T}),d({type:BH,payload:{channel:x,user:T,currentUser:a==null?void 0:a.currentUser}})},onUserUnbanned:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:N,user:T}),d({type:VH,payload:{channel:x,user:T}})},onChannelFrozen:x=>{l.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",x),d({type:zH,payload:x})},onChannelUnfrozen:x=>{l.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",x),d({type:GH,payload:x})},onChannelChanged:x=>{l.info("OpenChannel | useHandleChannelEvents: onChannelChanged",x),d({type:qH,payload:x})},onMetaDataCreated:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:N,metaData:T}),d({type:$H,payload:{channel:x,metaData:T}})},onMetaDataUpdated:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:N,metaData:T}),d({type:WH,payload:{channel:x,metaData:T}})},onMetaDataDeleted:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:N,metaDataKeys:T}),d({type:KH,payload:{channel:x,metaDataKeys:T}})},onMetaCounterCreated:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:N,metaCounter:T}),d({type:QH,payload:{channel:x,metaCounter:T}})},onMetaCounterUpdated:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:N,metaCounter:T}),d({type:YH,payload:{channel:x,metaCounter:T}})},onMetaCounterDeleted:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:N,metaCounterKeys:T}),d({type:XH,payload:{channel:x,metaCounterKeys:T}})},onMentionReceived:(x,T)=>{const N=x==null?void 0:x.url;l.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:N,message:T}),d({type:ZH,payload:{channel:x,message:T}})},onChannelDeleted:(x,T)=>{T===Dt.OPEN&&(e==null?void 0:e.url)===x&&d({type:jH,payload:x})}},w=new Jhe(E);a==null||(g=a.openChannel)===null||g===void 0||g.addOpenChannelHandler(_,w)}return()=>{var E;a!=null&&(E=a.openChannel)!==null&&E!==void 0&&E.removeOpenChannelHandler&&(l.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",_),a.openChannel.removeOpenChannelHandler(_))}},[e])}function A1e(n,t){let{currentOpenChannel:e,userFilledMessageListParams:r}=n,{logger:a,messagesDispatcher:l,scrollRef:d}=t;W.useEffect(()=>{if(a.info("OpenChannel | useInitialMessagesFetch: Setup started",e),l({type:kH,payload:null}),e&&e.getMessagesByTimestamp){const h={nextResultSize:0,prevResultSize:30,isInclusive:!0,includeReactions:!1};r&&(Object.keys(r).forEach(f=>{h[f]=r[f]}),a.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),a.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:e,messageListParams:h}),l({type:NH,payload:null}),e.getMessagesByTimestamp(new Date().getTime(),h).then(f=>{a.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",f);const _=f&&f.length>0,g=_?f[0].createdAt:null;l({type:lC,payload:{currentOpenChannel:e,messages:f,hasMore:_,lastMessageTimestamp:g}}),setTimeout(()=>{Pd(0,d)})}).catch(f=>{a.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",f),l({type:S1,payload:{currentOpenChannel:e,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[e,r])}function O1e(n,t){let{currentOpenChannel:e,lastMessageTimestamp:r,fetchMore:a}=n,{sdk:l,logger:d,messagesDispatcher:h,hasMore:f,userFilledMessageListParams:_}=t;return W.useCallback(g=>{if(a&&f){d.info("OpenChannel | useScrollCallback: start");const E={prevResultSize:30,includeReactions:!1,nextResultSize:0};_&&(Object.keys(_).forEach(w=>{E[w]=_[w]}),d.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",_)),d.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:e,messageListParams:E}),e.getMessagesByTimestamp(r||new Date().getTime(),E).then(w=>{d.info("OpenChannel | useScrollCallback: Fetching messages succeeded",w);const x=w&&w.length>0,T=x?w[0].createdAt:null;h({type:lC,payload:{currentOpenChannel:e,messages:w,hasMore:x,lastMessageTimestamp:T}}),setTimeout(()=>{g()})}).catch(w=>{d.error("OpenChannel | useScrollCallback: Fetching messages failed",w),h({type:S1,payload:{currentOpenChannel:e,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[e,r,a,l])}function R1e(n,t){let{conversationScrollRef:e}=n,{logger:r}=t;return W.useCallback(()=>{let a=!0;if(e&&e!==null&&e!==void 0&&e.current)try{const l=e.current;a=l.scrollHeight<=l.scrollTop+l.clientHeight}catch(l){r.error("OpenChannel | useCheckScrollBottom",l)}return a},[e])}function M1e(n,t){let{currentOpenChannel:e,onBeforeSendUserMessage:r,checkScrollBottom:a,messageInputRef:l}=n,{sdk:d,logger:h,messagesDispatcher:f,scrollRef:_}=t;return W.useCallback(()=>{if(d){const g=l.current.innerText,E=P=>({message:P});r&&typeof r=="function"&&h.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",r);const x=r?r(g):E(g);h.info("OpenChannel | useSendMessageCallback: Sending message has started",x);const T=a();let N=null;e.sendUserMessage(x).onPending(P=>{f({type:im,payload:{message:P,channel:e}}),N=P}).onSucceeded(P=>{h.info("OpenChannel | useSendMessageCallback: Sending message succeeded",P),f({type:Fd,payload:P}),T&&setTimeout(()=>{Pd(0,_)})}).onFailed(P=>{h.warning("OpenChannel | useSendMessageCallback: Sending message failed",P),f({type:sp,payload:N}),(P==null?void 0:P.code)===900041&&f({type:cC,payload:{channel:e,user:d.currentUser}})})}},[e,r,a,l])}function D1e(n,t){let{currentOpenChannel:e,checkScrollBottom:r,imageCompression:a={},onBeforeSendFileMessage:l}=n,{sdk:d,logger:h,messagesDispatcher:f,scrollRef:_}=t;return W.useCallback(g=>{if(d){const{compressionRate:E,resizingWidth:w,resizingHeight:x}=a,T=l&&typeof l=="function",N=g.type==="image/jpg"||g.type==="image/png"||g.type==="image/jpeg",P=E>0&&E<1,k=Yg(w)||Yg(x),C=N&&(P||k),A=U=>{const M={};return M.file=U,M};if(C)try{const U=document.createElement("img");U.src=URL.createObjectURL(g),U.onload=()=>{URL.revokeObjectURL(U.src);const M=document.createElement("canvas"),R=U.naturalWidth||U.width,I=U.naturalHeight||U.height;let D=Yg(w)||R,q=Yg(x)||I;g.type==="image/png"&&!k&&(D*=E,q*=E),M.width=D,M.height=q;const z=M.getContext("2d");z.drawImage(U,0,0,D,q),z.canvas.toBlob(ne=>{const fe=new File([ne],g.name,{type:g.type});T&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",l);const B=l?l(fe):A(fe);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",B);const Y=r();e.sendFileMessage(B).onPending(ue=>{f({type:im,payload:{message:gn(gn({},ue),{},{url:URL.createObjectURL(g),requestState:"pending"}),channel:e}})}).onSucceeded(ue=>{h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",ue),f({type:Fd,payload:ue}),Y&&setTimeout(()=>{Pd(0,_)})}).onFailed((ue,Q)=>{h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:Q,error:ue}),Q.localUrl=URL.createObjectURL(g),Q.file=g,f({type:sp,payload:Q})})},g.type,E)}}catch(U){h.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",U)}else{T&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",l);const U=l?l(g):A(g);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",U);const M=r();e.sendFileMessage(U).onPending(R=>{f({type:im,payload:{message:gn(gn({},R),{},{url:URL.createObjectURL(g),requestState:"pending"}),channel:e}})}).onSucceeded(R=>{h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",R),f({type:Fd,payload:R}),M&&setTimeout(()=>{Pd(0,_)})}).onFailed((R,I)=>{h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:I,error:R}),I.localUrl=URL.createObjectURL(g),I.file=g,f({type:sp,payload:I})})}}},[e,l,r,a])}function L1e(n,t){let{currentOpenChannel:e,onBeforeSendUserMessage:r}=n,{logger:a,messagesDispatcher:l}=t;return W.useCallback((d,h,f)=>{const _=E=>({message:E});r&&typeof r=="function"&&a.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");const g=r?r(h):_(h);e.updateUserMessage(d,g).then(E=>{f&&f(),a.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:E,params:g}),l({type:dy,payload:{channel:e,message:E}})})},[e,r])}function U1e(n,t){let{currentOpenChannel:e}=n,{logger:r,messagesDispatcher:a}=t;return W.useCallback((l,d)=>{r.info("OpenChannel | useDeleteMessageCallback: Deleting message",l);const{sendingStatus:h}=l;if(r.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",h),h==="failed"||h==="pending")r.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",l),a({type:LH,payload:l.reqId}),d&&d();else{if(!(l.messageType==="file"||l.messageType==="user"))return;const f=l;e.deleteMessage(f).then(()=>{r.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",h),d&&d(),r.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",l),a({type:uy,payload:{channel:e,messageId:l.messageId}})}).catch(_=>{r.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",_)})}},[e])}function P1e(n,t){let{currentOpenChannel:e}=n,{logger:r,messagesDispatcher:a}=t;return W.useCallback(l=>{r.info("OpenChannel | useResendMessageCallback: Resending message has started",l);const{messageType:d,file:h}=l;l&&typeof l.isResendable=="function"&&l.isResendable?(l.requestState="pending",a({type:AH,payload:{channel:e,message:l}}),d==="user"&&l.messageType==="user"&&e.resendUserMessage(l).then(f=>{r.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",f),a({type:Fd,payload:f})}).catch(f=>{r.warning("OpenChannel | useResendMessageCallback: Resending message failed",f),l.requestState="failed",a({type:sp,payload:l})}),d==="file"&&l.messageType==="file"&&e.resendFileMessage(l,h).then(f=>{r.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",f),a({type:Fd,payload:f})}).catch(f=>{r.warning("OpenChannel | useResendMessageCallback: Resending file message failed",f),l.requestState="failed",a({type:sp,payload:l})})):(console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),r.warning("OpenChannel | useResendMessageCallback: Message is not resendable",l))},[e])}const F1e=5e3;function H1e(n,t){let{messagesLength:e,messageLimit:r}=n,{messagesDispatcher:a,logger:l}=t;const[d,h]=W.useState(!1);W.useEffect(()=>{d||(typeof e=="number"&&e>r&&(l.info("Trimming MessageList"),a({type:MH,payload:{messageLimit:r}})),h(!0),setTimeout(()=>{h(!1)},F1e))},[e,r])}const JH=L.createContext(void 0),B1e=n=>{var t,e,r,a,l,d,h;const{channelUrl:f,children:_,isMessageGroupingEnabled:g=!0,queries:E,onBeforeSendUserMessage:w,messageLimit:x,onBeforeSendFileMessage:T,onChatHeaderActionClick:N,onBackClick:P}=n,k=!1,C=Xs(),A=C==null||(t=C.stores)===null||t===void 0||(e=t.sdkStore)===null||e===void 0?void 0:e.sdk,U=C==null||(r=C.stores)===null||r===void 0||(a=r.sdkStore)===null||a===void 0?void 0:a.initialized,M=C==null||(l=C.stores)===null||l===void 0||(d=l.userStore)===null||d===void 0?void 0:d.user,R=C==null?void 0:C.config,{userId:I,isOnline:D,logger:q,pubSub:z,imageCompression:ne}=R,[fe,B]=W.useReducer(C1e,k1e),{allMessages:Y,loading:ue,initialized:Q,currentOpenChannel:_e,isInvalid:le,hasMore:se,lastMessageTimestamp:me,operators:Me,bannedParticipantIds:de,mutedParticipantIds:he}=fe,K=W.useRef(null),ee=W.useRef(null),j=E==null?void 0:E.messageListParams,ae=!Q||!D||S1e(_e,I)||T1e(he,I),Re=W.useMemo(()=>de.indexOf(M.userId)>=0,[f,de,M]),ze=W.useMemo(()=>he.indexOf(M.userId)>=0,[f,he,M]),De=W.useMemo(()=>Me.map(Ln=>Ln.userId).indexOf(M.userId)>=0,[f,Me,M]);I1e({channelUrl:f,sdkInit:U,fetchingParticipants:k,userId:I,currentOpenChannel:_e},{sdk:A,logger:q,messagesDispatcher:B});const Te=R1e({conversationScrollRef:ee},{logger:q});N1e({currentOpenChannel:_e,checkScrollBottom:Te},{sdk:A,logger:q,messagesDispatcher:B,scrollRef:ee}),A1e({currentOpenChannel:_e,userFilledMessageListParams:j},{logger:q,messagesDispatcher:B,scrollRef:ee});const Qe=y1e(Y==null?void 0:Y.length,x),an=O1e({currentOpenChannel:_e,lastMessageTimestamp:me,fetchMore:Qe},{sdk:A,logger:q,messagesDispatcher:B,hasMore:se,userFilledMessageListParams:j}),un=M1e({currentOpenChannel:_e,onBeforeSendUserMessage:w,checkScrollBottom:Te,messageInputRef:K},{sdk:A,logger:q,messagesDispatcher:B,scrollRef:ee}),Nn=D1e({currentOpenChannel:_e,onBeforeSendFileMessage:T,checkScrollBottom:Te,imageCompression:ne},{sdk:A,logger:q,messagesDispatcher:B,scrollRef:ee}),Ye=L1e({currentOpenChannel:_e,onBeforeSendUserMessage:w},{logger:q,messagesDispatcher:B}),mn=U1e({currentOpenChannel:_e},{logger:q,messagesDispatcher:B}),sn=P1e({currentOpenChannel:_e},{logger:q,messagesDispatcher:B});return H1e({messagesLength:Y==null?void 0:Y.length,messageLimit:x},{messagesDispatcher:B,logger:q}),W.useEffect(()=>{const Ln=new Map;if(!(!z||!z.subscribe))return Ln.set(Ki.SEND_USER_MESSAGE,z.subscribe(Ki.SEND_USER_MESSAGE,Tn=>{const{channel:G,message:ie}=Tn;Pd(0,ee),G&&f===(G==null?void 0:G.url)&&B({type:Fd,payload:ie})})),Ln.set(Ki.SEND_MESSAGE_START,z.subscribe(Ki.SEND_MESSAGE_START,Tn=>{const{channel:G,message:ie}=Tn;G&&f===(G==null?void 0:G.url)&&B({type:im,payload:{message:ie,channel:G}})})),Ln.set(Ki.SEND_FILE_MESSAGE,z.subscribe(Ki.SEND_FILE_MESSAGE,Tn=>{const{channel:G,message:ie}=Tn;Pd(0,ee),G&&f===(G==null?void 0:G.url)&&B({type:Fd,payload:{message:ie,channel:G}})})),Ln.set(Ki.UPDATE_USER_MESSAGE,z.subscribe(Ki.UPDATE_USER_MESSAGE,Tn=>{const{channel:G,message:ie,fromSelector:bn}=Tn;bn&&G&&f===(G==null?void 0:G.url)&&B({type:dy,payload:{channel:G,message:ie}})})),Ln.set(Ki.DELETE_MESSAGE,z.subscribe(Ki.DELETE_MESSAGE,Tn=>{const{channel:G,messageId:ie}=Tn;G&&f===(G==null?void 0:G.url)&&B({type:uy,payload:ie})})),()=>{Ln&&Ln.forEach(Tn=>{try{Tn.remove()}catch{}})}},[f,U]),L.createElement(JH.Provider,{value:{channelUrl:f,children:_,isMessageGroupingEnabled:g,queries:E,onBeforeSendUserMessage:w,messageLimit:x,onBeforeSendFileMessage:T,onChatHeaderActionClick:N,onBackClick:P,allMessages:Y,loading:ue,initialized:Q,currentOpenChannel:_e,isInvalid:le,hasMore:se,lastMessageTimestamp:me,operators:Me,bannedParticipantIds:de,mutedParticipantIds:he,messageInputRef:K,conversationScrollRef:ee,disabled:ae,amIBanned:Re,amIMuted:ze,amIOperator:De,checkScrollBottom:Te,fetchMore:Qe,onScroll:an,handleSendMessage:un,handleFileUpload:Nn,updateMessage:Ye,deleteMessage:mn,resendMessage:sn}},L.createElement(aC,{isOpenChannel:!0,renderUserProfile:n==null?void 0:n.renderUserProfile,disableUserProfile:(h=n==null?void 0:n.disableUserProfile)!==null&&h!==void 0?h:R==null?void 0:R.disableUserProfile},_))},gm=()=>L.useContext(JH),V1e=(n,t)=>{const{currentOpenChannel:e,disabled:r,handleSendMessage:a,handleFileUpload:l,amIMuted:d}=gm(),h=e,{stringSet:f}=W.useContext(Hl),{value:_}=n;function g(){return d?f.MESSAGE_INPUT__PLACE_HOLDER__MUTED:r?f.MESSAGE_INPUT__PLACE_HOLDER__DISABLED:""}return h?L.createElement("div",{className:"sendbird-openchannel-footer"},L.createElement(oy,{channel:e,ref:t,value:_,disabled:r,isVoiceMessageEnabled:!1,onSendMessage:a,onFileUpload:l,placeholder:g()})):null};var z1e=L.forwardRef(V1e);const G1e=()=>{const{stringSet:n}=W.useContext(Hl);return L.createElement("div",{className:"sendbird-frozen-channel-notification"},L.createElement(zt,{className:"sendbird-frozen-channel-notification__text",type:qt.CAPTION_2},n.CHANNEL_FROZEN))};function q1e(){const{stringSet:n}=W.useContext(Hl),{currentOpenChannel:t,onChatHeaderActionClick:e,amIOperator:r,onBackClick:a}=gm(),l=t==null?void 0:t.name,d=`${w1e(t==null?void 0:t.participantCount)} ${n.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS}`,h=t==null?void 0:t.coverUrl,{isMobile:f}=qd();return L.createElement("div",{className:"sendbird-openchannel-conversation-header"},L.createElement("div",{className:"sendbird-openchannel-conversation-header__left"},f&&L.createElement(rr,{className:"sendbird-oepnchannel-header__icon_back",onClick:a,fillColor:sr.PRIMARY,width:"24px",height:"24px",type:Qt.ARROW_LEFT}),h?L.createElement(xh,{className:"sendbird-openchannel-conversation-header__left__cover-image",src:h,alt:"channel cover image",width:"32px",height:"32px"}):L.createElement("div",{className:"sendbird-openchannel-conversation-header__left__cover-image--icon",style:{width:32,height:32}},L.createElement(rr,{type:Qt.CHANNELS,fillColor:sr.CONTENT,width:"18px",height:"18px"})),L.createElement(zt,{className:"sendbird-openchannel-conversation-header__left__title",type:qt.H_2,color:Lt.ONBACKGROUND_1},l||n.NO_TITLE),L.createElement(zt,{className:"sendbird-openchannel-conversation-header__left__sub-title",type:qt.BODY_2,color:Lt.ONBACKGROUND_2},d||n.NO_TITLE)),L.createElement("div",{className:"sendbird-openchannel-conversation-header__right"},L.createElement(Ec,{className:"sendbird-openchannel-conversation-header__right__trigger",width:"32px",height:"32px",onClick:e},L.createElement(rr,{type:r?Qt.INFO:Qt.MEMBERS,fillColor:sr.PRIMARY,width:"24px",height:"24px"}))))}const T1=n=>{if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",n);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){const t=document.createElement("textarea");t.textContent=n,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1},dC={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},bm=n=>n.sender||n._sender,uC=n=>n===dC.SUCCEEDED,hy=n=>n===dC.PENDING,ym=n=>n===dC.FAILED,hC=(n,t)=>bm(n).userId===t,py=n=>{var t;let{message:e}=n;return(e==null?void 0:e.messageType)==="user"&&(e==null||(t=e.message)===null||t===void 0?void 0:t.length)>0},Cc=n=>{let{message:t,status:e,userId:r}=n;return hC(t,r)&&ym(e)&&(t==null?void 0:t.isResendable())},fy=n=>{var t;let{message:e,status:r,userId:a}=n;return hC(e,a)&&uC(r)&&(e==null||(t=e.isUserMessage)===null||t===void 0?void 0:t.call(e))},ph=n=>{let{message:t,userId:e}=n;return hC(t,e)},j1e=n=>{var t;let{message:e,status:r}=n;return!!(e!=null&&(t=e.isFileMessage)!==null&&t!==void 0&&t.call(e)&&uC(r))},_y=n=>{const{message:t,status:e,userId:r}=n;return t.messageType==="user"?ph({message:t,status:e,userId:r})||fy({message:t,status:e,userId:r})||py({message:t,status:e,userId:r})||Cc({message:t,status:e,userId:r}):ph({message:t,status:e,userId:r})||Cc({message:t,status:e,userId:r})},my=n=>{var t,e;const{message:r,parentRef:a,resendMessage:l,showEdit:d,showRemove:h,copyToClipboard:f,hideMenu:_,isEphemeral:g=!1}=n,E=r,w=r==null?void 0:r.sendingStatus,{stringSet:x}=Gd(),T=(t=Xs())===null||t===void 0||(e=t.config)===null||e===void 0?void 0:e.userId,N=r;return L.createElement(Fl,{isOpen:!0,menuItems:()=>L.createElement(Pl,{className:"sendbird-openchannel__mobile-menu",parentRef:a,parentContainRef:a,closeDropdown:_},py({message:E,userId:T,status:w})&&L.createElement(ya,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:()=>{f()},dataSbId:"open_channel_mobile_context_menu_copy"},L.createElement(L.Fragment,null,x.CONTEXT_MENU_DROPDOWN__COPY)),!g&&fy({message:r,userId:T,status:w})&&L.createElement(ya,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:()=>{d()},dataSbId:"open_channel_mobile_context_menu_edit"},L.createElement(L.Fragment,null,x.CONTEXT_MENU_DROPDOWN__EDIT)),Cc({message:r,userId:T,status:w})&&L.createElement(ya,{onClick:()=>{l()},dataSbId:"open_channel_mobile_context_menu_resend"},L.createElement(L.Fragment,null,x.CONTEXT_MENU_DROPDOWN__RESEND)),!g&&ph({message:r,userId:T,status:w})&&L.createElement(ya,{onClick:()=>{h()},dataSbId:"open_channel_mobile_context_menu_delete"},L.createElement(L.Fragment,null,x.CONTEXT_MENU_DROPDOWN__DELETE)),j1e({message:r,status:w})&&L.createElement(ya,{onClick:()=>{_()},dataSbId:"open_channel_mobile_context_menu_download_file"},L.createElement("a",{className:"sendbird-openchannel__mobile-menu-hyperlink",rel:"noopener noreferrer",href:N==null?void 0:N.url,target:"_blank"},x.CONTEXT_MENU_DROPDOWN__SAVE)))})};function $1e(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,userId:l,resendMessage:d,disabled:h,showEdit:f,showRemove:_,chainTop:g}=n;const{stringSet:E,dateLocale:w}=Gd(),{disableUserProfile:x,renderUserProfile:T}=W.useContext(pp),N=W.useRef(null),P=W.useRef(null),k=W.useRef(null),C=W.useRef(null),[A,U]=W.useState({}),[M,R]=W.useState(!1),I=e==null?void 0:e.sendingStatus,D=hy(I),q=ym(I),z=bm(e);W.useEffect(()=>{var B;(N==null||(B=N.current)===null||B===void 0?void 0:B.clientHeight)>36?U({top:"8px "}):U({top:"2px"})},[window.innerWidth]);const ne=sy({onLongPress:()=>{R(!0)}}),{isMobile:fe}=qd();return!e||e.messageType!=="user"?L.createElement(L.Fragment,null):L.createElement(L.Fragment,null,L.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-user-message"].join(" "),ref:N},L.createElement("div",{className:"sendbird-openchannel-user-message__left"},!g&&L.createElement(Fl,{menuTrigger:B=>L.createElement(xh,{className:"sendbird-openchannel-user-message__left__avatar",src:z.profileUrl||"",ref:P,width:"28px",height:"28px",onClick:()=>{x||B()}}),menuItems:B=>L.createElement(Pl,{parentRef:P,parentContainRef:P,closeDropdown:B,style:{paddingTop:"0px",paddingBottom:"0px"}},T?T({user:z,close:B}):L.createElement(_m,{user:z,onSuccess:B,disableMessaging:!0}))})),L.createElement("div",{className:"sendbird-openchannel-user-message__right"},!g&&L.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},L.createElement(zt,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:qt.CAPTION_2,color:r?Lt.SECONDARY_3:Lt.ONBACKGROUND_2},z&&(z.friendName||z.nickname||z.userId)),L.createElement(zt,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&fp(e==null?void 0:e.createdAt,"p",{locale:w}))),L.createElement("div",Y0({},fe?gn({},ne):{},{className:"sendbird-openchannel-user-message__right__bottom",ref:C}),L.createElement(zt,{className:"sendbird-openchannel-user-message__right__bottom__message",type:qt.BODY_1,color:Lt.ONBACKGROUND_1},e==null?void 0:e.message,Zpe(e)&&L.createElement(zt,{key:fm(),type:qt.BODY_1,color:Lt.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"},` ${E.MESSAGE_EDITED} `))),(D||q)&&L.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},D&&L.createElement(mm,{width:"16px",height:"16px"},L.createElement(rr,{className:"sendbird-openchannel-user-message__right__tail__pending",type:Qt.SPINNER,fillColor:sr.PRIMARY,width:"16px",height:"16px"})),q&&L.createElement(rr,{className:"sendbird-openchannel-user-message__right__tail__failed",type:Qt.ERROR,fillColor:sr.ERROR,width:"16px",height:"16px"}))),!fe&&L.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:k,style:A},L.createElement(Fl,{menuTrigger:B=>_y({message:e,userId:l,status:I})&&L.createElement(Ec,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:()=>{B()}},L.createElement(rr,{type:Qt.MORE,fillColor:sr.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:B=>L.createElement(Pl,{parentRef:k,parentContainRef:k,closeDropdown:B,openLeft:!0},py({message:e,userId:l,status:I})&&L.createElement(ya,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:()=>{T1(e.message),B()},dataSbId:"open_channel_user_message_menu_copy"},E.CONTEXT_MENU_DROPDOWN__COPY),!a&&fy({message:e,userId:l,status:I})&&L.createElement(ya,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:()=>{h||(f(!0),B())},dataSbId:"open_channel_user_message_menu_edit"},E.CONTEXT_MENU_DROPDOWN__EDIT),Cc({message:e,userId:l,status:I})&&L.createElement(ya,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:()=>{d(e),B()},dataSbId:"open_channel_user_message_menu_resend"},E.CONTEXT_MENU_DROPDOWN__RESEND),!a&&ph({message:e,userId:l,status:I})&&L.createElement(ya,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:()=>{h||(_(!0),B())},dataSbId:"open_channel_user_message_menu_delete"},E.CONTEXT_MENU_DROPDOWN__DELETE))}))),M&&L.createElement(my,{message:e,parentRef:C,hideMenu:()=>{R(!1)},showRemove:()=>{R(!1),_(!0)},showEdit:()=>{R(!1),f(!0)},copyToClipboard:()=>{R(!1),T1(e==null?void 0:e.message)},resendMessage:()=>{R(!1),d(e)}}))}function W1e(n){let{className:t,message:e}=n;return L.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-admin-message"].join(" ")},L.createElement(zt,{className:"sendbird-openchannel-admin-message__text",type:qt.CAPTION_2,color:Lt.ONBACKGROUND_2},e.message||""))}const K1e=n=>{const{ogMetaData:t}=n;if(!t)return!1;const{url:e}=t;return!!e};function Q1e(n){var t,e;let{message:r,isOperator:a,isEphemeral:l=!1,className:d,disabled:h,showEdit:f,showRemove:_,resendMessage:g,chainTop:E,userId:w}=n;const x=r==null?void 0:r.sendingStatus,T=(t=r.ogMetaData)!==null&&t!==void 0?t:null,N=T==null?void 0:T.defaultImage,{stringSet:P,dateLocale:k}=Gd(),{isMobile:C}=qd(),{disableUserProfile:A,renderUserProfile:U}=W.useContext(pp),[M,R]=W.useState({}),[I,D]=W.useState(!1),q=()=>{K1e(r)&&T!==null&&T!==void 0&&T.url&&window.open(T.url,"_blank","noopener,noreferrer")},z=sy({onLongPress:()=>D(!0),onClick:q},{delay:300}),ne=W.useRef(null),fe=W.useRef(null),B=W.useRef(null),Y=W.useRef(null),ue=hy(x),Q=ym(x),_e=bm(r),le=W.useMemo(()=>mH({messageText:r.message}),[r==null?void 0:r.updatedAt]);return W.useEffect(()=>{var se;(ne==null||(se=ne.current)===null||se===void 0?void 0:se.clientHeight)>36?R({top:"8px "}):R({top:"2px"})},[window.innerWidth]),!r||r.messageType!=="user"?L.createElement(L.Fragment,null):L.createElement(L.Fragment,null,L.createElement("div",Y0({className:[...Array.isArray(d)?d:[d],"sendbird-openchannel-og-message"].join(" "),ref:ne},C?gn({},z):{}),L.createElement("div",{className:"sendbird-openchannel-og-message__top"},L.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!E&&L.createElement(Fl,{menuTrigger:se=>L.createElement(xh,{className:"sendbird-openchannel-og-message__top__left__avatar",src:_e.profileUrl||"",ref:Y,width:"28px",height:"28px",onClick:()=>{A||se()}}),menuItems:se=>L.createElement(Pl,{parentRef:Y,parentContainRef:Y,closeDropdown:se,style:{paddingTop:"0px",paddingBottom:"0px"}},U?U({user:_e,close:se}):L.createElement(_m,{user:_e,onSuccess:se,disableMessaging:!0}))})),L.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!E&&L.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},L.createElement(zt,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:qt.CAPTION_2,color:a?Lt.SECONDARY_3:Lt.ONBACKGROUND_2},_e&&(_e.friendName||_e.nickname||_e.userId)),L.createElement(zt,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_3},(r==null?void 0:r.createdAt)&&fp(r==null?void 0:r.createdAt,"p",{locale:k}))),L.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},L.createElement(zt,{className:"sendbird-openchannel-og-message__top__right__description__message",type:qt.BODY_1,color:Lt.ONBACKGROUND_1},L.createElement(ibe,{tokens:le}),((e=r==null?void 0:r.updatedAt)!==null&&e!==void 0?e:0)>0&&L.createElement(zt,{key:fm(),className:"sendbird-openchannel-og-message--word",type:qt.BODY_1,color:Lt.ONBACKGROUND_2},P.MESSAGE_EDITED)))),!C&&L.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:fe,style:M},L.createElement(Fl,{menuTrigger:se=>_y({message:r,userId:w,status:x})&&L.createElement(Ec,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:()=>{se()}},L.createElement(rr,{type:Qt.MORE,fillColor:sr.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:se=>L.createElement(Pl,{parentRef:fe,parentContainRef:fe,closeDropdown:se,openLeft:!0},py({message:r,userId:w,status:x})&&L.createElement(ya,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:()=>{T1(r.message),se()},dataSbId:"open_channel_og_message_menu_copy"},P.CONTEXT_MENU_DROPDOWN__COPY),!l&&fy({message:r,userId:w,status:x})&&L.createElement(ya,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:()=>{h||(f(!0),se())},dataSbId:"open_channel_og_message_menu_edit"},P.CONTEXT_MENU_DROPDOWN__EDIT),Cc({message:r,userId:w,status:x})&&L.createElement(ya,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:()=>{g(r),se()},dataSbId:"open_channel_og_message_menu_resend"},P.CONTEXT_MENU_DROPDOWN__RESEND),!l&&ph({message:r,userId:w,status:x})&&L.createElement(ya,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:()=>{h||(_(!0),se())},dataSbId:"open_channel_og_message_menu_delete"},P.CONTEXT_MENU_DROPDOWN__DELETE))}))),L.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},L.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag",ref:B},T.url&&L.createElement(zt,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_2},T.url),T.title&&L.createElement(ly,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:T.url,type:qt.SUBTITLE_2,color:Lt.PRIMARY},T.title),T.description&&L.createElement(zt,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:qt.BODY_2,color:Lt.ONBACKGROUND_1},T.description),T.url&&L.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:q,onKeyDown:q,tabIndex:0},N&&L.createElement(co,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:N.url||"",alt:N.alt||"",height:"189px",defaultComponent:L.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},L.createElement(rr,{type:Qt.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(ue||Q)&&L.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},ue&&L.createElement(mm,{width:"16px",height:"16px"},L.createElement(rr,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:Qt.SPINNER,fillColor:sr.PRIMARY,width:"16px",height:"16px"})),Q&&L.createElement(rr,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:Qt.ERROR,fillColor:sr.ERROR,width:"16px",height:"16px"})))),I&&L.createElement(my,{message:r,parentRef:B,hideMenu:()=>{D(!1)},showRemove:()=>{D(!1),_(!0)},showEdit:()=>{D(!1),f(!0)},copyToClipboard:()=>{D(!1),T1(r==null?void 0:r.message)},resendMessage:()=>{D(!1),g(r)}}))}const z0={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},D7={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Y1e=n=>D7.IMAGE.indexOf(n)>=0?z0.IMAGE:D7.VIDEO.indexOf(n)>=0?z0.VIDEO:z0.UNSUPPORTED;function X1e(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,disabled:l,userId:d,chainTop:h,onClick:f,showRemove:_,resendMessage:g}=n;const{type:E,url:w,thumbnails:x,localUrl:T}=e,N=e==null?void 0:e.sendingStatus,P=x&&x.length>0&&x[0].url||null,{stringSet:k,dateLocale:C}=Gd(),{disableUserProfile:A,renderUserProfile:U}=W.useContext(pp),[M,R]=W.useState(360),[I,D]=W.useState(!1),q=W.useRef(null),z=W.useRef(null),ne=W.useRef(null),fe=W.useRef(null),B=sy({onLongPress:()=>{D(!0)},onClick:()=>{f(!0)}}),{isMobile:Y}=qd(),ue=W.useMemo(()=>me=>Me=>{let{style:de}=Me;return L.createElement("div",{style:de},L.createElement(rr,{type:me,fillColor:sr.ON_BACKGROUND_2,width:"56px",height:"56px"}))},[]),Q=uC(N),_e=hy(N),le=ym(N),se=bm(e);return W.useEffect(()=>{var me,Me;const de=((me=q==null||(Me=q.current)===null||Me===void 0?void 0:Me.clientWidth)!==null&&me!==void 0?me:0)-80;R(de>360?360:de)},[]),L.createElement(L.Fragment,null,L.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-thumbnail-message"].join(" "),ref:q},L.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!h&&L.createElement(Fl,{menuTrigger:me=>L.createElement(xh,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:se.profileUrl||"",ref:fe,width:"28px",height:"28px",onClick:()=>{A||me()}}),menuItems:me=>L.createElement(Pl,{parentRef:fe,parentContainRef:fe,closeDropdown:me,style:{paddingTop:"0px",paddingBottom:"0px"}},U?U({user:se,close:me}):L.createElement(_m,{user:se,onSuccess:me,disableMessaging:!0}))})),L.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!h&&L.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},L.createElement(zt,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:qt.CAPTION_2,color:r?Lt.SECONDARY_3:Lt.ONBACKGROUND_2},se&&(se.friendName||se.nickname||se.userId)),L.createElement(zt,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&fp(e.createdAt,"p",{locale:C}))),L.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body",ref:z},L.createElement("div",Y0({className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:()=>{Q&&f(!0)},onKeyDown:()=>{Q&&f(!0)},tabIndex:0},Y?gn({},B):{}),L.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),{[z0.VIDEO]:w||T?L.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},P?L.createElement(co,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:P,width:M,height:"270px",alt:"image",placeHolder:ue(Qt.PLAY)}):L.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},L.createElement("source",{src:w||T,type:E})),L.createElement(rr,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:Qt.PLAY,fillColor:sr.ON_BACKGROUND_2,width:"56px",height:"56px"})):L.createElement(rr,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:Qt.PHOTO,fillColor:sr.ON_BACKGROUND_2,width:"56px",height:"56px"}),[z0.IMAGE]:w||T?L.createElement(co,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:P||w||T,alt:"image",width:M,height:"270px",placeHolder:ue(Qt.PHOTO)}):L.createElement(rr,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:Qt.PHOTO,fillColor:sr.ON_BACKGROUND_2,width:"56px",height:"56px"}),[z0.UNSUPPORTED]:L.createElement(rr,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:Qt.PHOTO,fillColor:sr.ON_BACKGROUND_2,width:"56px",height:"56px"})}[Y1e(E)])),(_e||le)&&L.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},_e&&L.createElement(mm,{width:"16px",height:"16px"},L.createElement(rr,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:Qt.SPINNER,fillColor:sr.PRIMARY,width:"16px",height:"16px"})),le&&L.createElement(rr,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:Qt.ERROR,fillColor:sr.ERROR,width:"16px",height:"16px"}))),!Y&&L.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:ne},(Cc({message:e,userId:d,status:N})||!a)&&L.createElement(Fl,{menuTrigger:me=>_y({message:e,userId:d,status:N})&&L.createElement(Ec,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:me},L.createElement(rr,{type:Qt.MORE,fillColor:sr.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:me=>L.createElement(Pl,{parentRef:ne,parentContainRef:ne,closeDropdown:me,openLeft:!0},Cc({message:e,userId:d,status:N})&&L.createElement(ya,{onClick:()=>{g(e),me()},dataSbId:"open_channel_thumbnail_message_menu_resend"},k.CONTEXT_MENU_DROPDOWN__RESEND),!a&&ph({message:e,userId:d,status:N})&&L.createElement(ya,{onClick:()=>{l||(_(!0),me())},dataSbId:"open_channel_thumbnail_message_menu_delete"},k.CONTEXT_MENU_DROPDOWN__DELETE))}))),I&&L.createElement(my,{message:e,parentRef:z,hideMenu:()=>{D(!1)},showRemove:()=>{D(!1),_(!0)},resendMessage:()=>{D(!1),g(e)}}))}const L7=n=>{const t=/(\.mp3)$/i,e=/(\.gif)$/i;return t.test(n)?Qt.FILE_AUDIO:e.test(n)?Qt.GIF:Qt.FILE_DOCUMENT},Z1e=(n,t)=>{if(n==null)return"";if(n.length<=t)return n;const e="...",r=e.length,a=t-r,l=Math.ceil(a/2),d=Math.floor(a/2);return n.substr(0,l)+e+n.substr(n.length-d)};function J1e(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,userId:l,disabled:d,chainTop:h,showRemove:f,resendMessage:_}=n;const g=e==null?void 0:e.sendingStatus,{dateLocale:E,stringSet:w}=Gd(),x=W.useRef(null),T=W.useRef(null),N=W.useRef(null),{disableUserProfile:P,renderUserProfile:k}=W.useContext(pp),{isMobile:C}=qd(),A=()=>{window.open(e.url)},U=hy(g),M=ym(g),R=bm(e),[I,D]=W.useState(!1),q=sy({onLongPress:()=>{C&&D(!0)},onClick:A},{delay:300});return L.createElement(L.Fragment,null,L.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-file-message"].join(" "),ref:T},L.createElement("div",{className:"sendbird-openchannel-file-message__left"},!h&&L.createElement(Fl,{menuTrigger:z=>L.createElement(xh,{className:"sendbird-openchannel-file-message__left__avatar",src:R.profileUrl||"",ref:N,width:"28px",height:"28px",onClick:()=>{P||z()}}),menuItems:z=>L.createElement(Pl,{parentRef:N,parentContainRef:N,closeDropdown:z,style:{paddingTop:"0px",paddingBottom:"0px"}},k?k({user:R,close:z}):L.createElement(_m,{user:R,onSuccess:z,disableMessaging:!0}))})),L.createElement("div",{className:"sendbird-openchannel-file-message__right"},!h&&L.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},L.createElement(zt,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:qt.CAPTION_2,color:r?Lt.SECONDARY_3:Lt.ONBACKGROUND_2},R&&(R.friendName||R.nickname||R.userId)),L.createElement(zt,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:qt.CAPTION_3,color:Lt.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&fp(e.createdAt,"p",{locale:E}))),L.createElement("div",Y0({className:"sendbird-openchannel-file-message__right__body"},C?gn({},q):{}),L7(e.url)&&L.createElement(rr,{className:"sendbird-openchannel-file-message__right__body__icon",type:L7(e.url),fillColor:sr.PRIMARY,width:"48px",height:"48px"}),L.createElement(tge,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:A},L.createElement(zt,{type:qt.BODY_1,color:Lt.ONBACKGROUND_1},Z1e(e.name||e.url,40)))),(U||M)&&L.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},U&&L.createElement(mm,{width:"16px",height:"16px"},L.createElement(rr,{className:"sendbird-openchannel-file-message__right__tail__pending",type:Qt.SPINNER,fillColor:sr.PRIMARY,width:"16px",height:"16px"})),M&&L.createElement(rr,{className:"sendbird-openchannel-file-message__right__tail__failed",type:Qt.ERROR,fillColor:sr.ERROR,width:"16px",height:"16px"}))),!C&&L.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:x},(Cc({message:e,userId:l,status:g})||!a)&&L.createElement(Fl,{menuTrigger:z=>_y({message:e,userId:l,status:g})&&L.createElement(Ec,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:z},L.createElement(rr,{type:Qt.MORE,width:"24px",height:"24px"})),menuItems:z=>L.createElement(Pl,{parentRef:x,parentContainRef:x,closeDropdown:z,openLeft:!0},Cc({message:e,userId:l,status:g})&&L.createElement(ya,{onClick:()=>{d||(_(e),z())},dataSbId:"open_channel_file_message_context_menu_resend"},w.CONTEXT_MENU_DROPDOWN__RESEND),!a&&ph({message:e,userId:l,status:g})&&L.createElement(ya,{onClick:()=>{d||(f(!0),z())},dataSbId:"open_channel_file_message_context_menu_delete"},w.CONTEXT_MENU_DROPDOWN__DELETE))}))),I&&L.createElement(my,{message:e,hideMenu:()=>{D(!1)},parentRef:T,showRemove:()=>{D(!1),f(!0)}}))}function eye(n){let{onCloseModal:t,onDeleteMessage:e}=n;const{stringSet:r}=W.useContext(Hl);return L.createElement(JF,{onCancel:t,onSubmit:e,submitText:r.MESSAGE_MENU__DELETE,titleText:r.MODAL__DELETE_MESSAGE__TITLE})}const pC={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},nye=n=>pC.IMAGE.indexOf(n)>=0,tye=n=>pC.VIDEO.indexOf(n)>=0;gn({},pC);const fo={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},U7={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},rye=(n,t)=>{var e,r;const a=t==null?void 0:t.isOgMessageEnabledInOpenChannel;return n!=null&&(e=n.isUserMessage)!==null&&e!==void 0&&e.call(n)||(n==null?void 0:n.messageType)==="user"?n!=null&&n.ogMetaData&&a?fo.OG:fo.USER:n!=null&&(r=n.isAdminMessage)!==null&&r!==void 0&&r.call(n)?fo.ADMIN:(n==null?void 0:n.messageType)==="file"?nye(n.type)||tye(n.type)?fo.THUMBNAIL:fo.FILE:fo.UNKNOWN};function iye(n){var t;const{message:e,chainTop:r,chainBottom:a,hasSeparator:l,renderMessage:d}=n,{currentOpenChannel:h,deleteMessage:f,updateMessage:_,resendMessage:g}=gm(),{dateLocale:E}=Gd(),w=h==null?void 0:h.isFrozen,x=Xs(),T=x==null||(t=x.config)===null||t===void 0?void 0:t.userId,N=x.config.openChannel.enableOgtag;let P=null;(e==null?void 0:e.messageType)!=="admin"&&(P=e==null?void 0:e.sender);const k=W.useMemo(()=>z=>L.createElement(L.Fragment,null,d?d(z):null),[e,d]),[C,A]=W.useState(!1),[U,M]=W.useState(!1),[R,I]=W.useState(!1),D=W.useRef(null);let q=!1;return P&&(e==null?void 0:e.messageType)!=="admin"&&(q=T===P.userId||(e==null?void 0:e.sendingStatus)===U7.PENDING||(e==null?void 0:e.sendingStatus)===U7.FAILED),d&&k?L.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},L.createElement(k,{message:e,chainTop:r,chainBottom:a})):(e==null?void 0:e.messageType)==="user"&&C?L.createElement(oy,{isEdit:!0,channel:h,disabled:w,ref:D,message:e,name:e==null?void 0:e.messageId,onUpdateMessage:z=>{let{messageId:ne,message:fe}=z;_(ne,fe),A(!1)},onCancelEdit:()=>{A(!1)}}):L.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},l&&(e==null?void 0:e.createdAt)&&L.createElement(dge,null,L.createElement(zt,{type:qt.CAPTION_2,color:Lt.ONBACKGROUND_2},fp(e==null?void 0:e.createdAt,"MMMM dd, yyyy",{locale:E}))),{[fo.ADMIN]:(()=>{if((e==null?void 0:e.messageType)==="admin")return L.createElement(W1e,{message:e})})(),[fo.FILE]:(()=>{if((e==null?void 0:e.messageType)==="file"){var z;return L.createElement(J1e,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(z=e.sender)===null||z===void 0?void 0:z.userId),isEphemeral:h==null?void 0:h.isEphemeral,disabled:w,userId:T,showRemove:M,resendMessage:g,chainTop:r,chainBottom:a})}})(),[fo.OG]:(()=>{if((e==null?void 0:e.messageType)==="user"&&N){var z;return L.createElement(Q1e,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(z=e.sender)===null||z===void 0?void 0:z.userId),isEphemeral:h==null?void 0:h.isEphemeral,userId:T,showEdit:A,disabled:w,showRemove:M,resendMessage:g,chainTop:r,chainBottom:a})}})(),[fo.THUMBNAIL]:(()=>{if((e==null?void 0:e.messageType)==="file"){var z;return L.createElement(X1e,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(z=e.sender)===null||z===void 0?void 0:z.userId),isEphemeral:h==null?void 0:h.isEphemeral,disabled:w,userId:T,showRemove:M,resendMessage:g,onClick:I,chainTop:r,chainBottom:a})}})(),[fo.USER]:(()=>{if((e==null?void 0:e.messageType)==="user"){var z;return L.createElement($1e,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(z=e.sender)===null||z===void 0?void 0:z.userId),isEphemeral:h==null?void 0:h.isEphemeral,userId:T,disabled:w,showEdit:A,showRemove:M,resendMessage:g,chainTop:r,chainBottom:a})}})(),[fo.UNKNOWN]:(()=>{})()}[rye(e,{isOgMessageEnabledInOpenChannel:N})],U&&L.createElement(eye,{onCloseModal:()=>M(!1),onDeleteMessage:()=>{(e==null?void 0:e.messageType)!=="admin"&&f(e)}}),R&&(e==null?void 0:e.messageType)==="file"&&L.createElement(dbe,{onClose:()=>I(!1),message:e,onDelete:()=>f(e),isByMe:q}))}function aye(n,t){const{isMessageGroupingEnabled:e=!0,allMessages:r,hasMore:a,onScroll:l}=gm(),h=Xs().config.userId,f=t||W.useRef(null),[_,g]=W.useState(!1),E=()=>{f&&f.current&&(f.current.scrollTo(0,f.current.scrollHeight),g(!1))},w=lbe({setShowScrollDownButton:g,hasMore:a,onScroll:l,scrollRef:f}),x=W.useMemo(()=>{var T;return r.length>0?r.map((N,P)=>{var k;const C=r[P-1],A=r[P-1],U=C&&C.createdAt,M=N==null?void 0:N.createdAt,R=!(U&&ege(M,U)),[I,D]=e?E1e(C,N,A):[!1,!1],q=(N==null||(k=N.sender)===null||k===void 0?void 0:k.userId)===h,z=(N==null?void 0:N.messageId)||(N==null?void 0:N.reqId);return L.createElement(Jge,{message:N,isByMe:q,key:z},L.createElement(iye,{message:N,chainTop:I,chainBottom:D,hasSeparator:R,renderMessage:n==null?void 0:n.renderMessage}))}):(n==null||(T=n.renderPlaceHolderEmptyList)===null||T===void 0?void 0:T.call(n))||L.createElement(kb,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:Hi.NO_MESSAGES})},[r]);return L.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},L.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},L.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),L.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",r.length>0?"":"no-messages"].join(" "),onScroll:w,ref:f},x)),_&&L.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:E,onKeyDown:E,tabIndex:0,role:"button"},L.createElement(rr,{width:"24px",height:"24px",type:Qt.CHEVRON_DOWN,fillColor:sr.CONTENT})))}var sye=L.forwardRef(aye);const Xg="sendbird-openchannel-conversation",oye=n=>{let{renderMessage:t,renderHeader:e,renderInput:r,renderPlaceHolderEmptyList:a,renderPlaceHolderError:l,renderPlaceHolderLoading:d}=n;const{currentOpenChannel:h,amIBanned:f,loading:_,isInvalid:g,messageInputRef:E,conversationScrollRef:w}=gm();return!h||!(h!=null&&h.url)||f?(l==null?void 0:l())||L.createElement("div",{className:Xg},L.createElement(kb,{type:Hi.NO_CHANNELS})):_?(d==null?void 0:d())||L.createElement("div",{className:Xg},L.createElement(kb,{type:Hi.LOADING})):g?(l==null?void 0:l())||L.createElement("div",{className:Xg},L.createElement(kb,{type:Hi.WRONG})):L.createElement("div",{className:Xg},(e==null?void 0:e())||L.createElement(q1e,null),(h==null?void 0:h.isFrozen)&&L.createElement(G1e,null),L.createElement(sye,{ref:w,renderMessage:t,renderPlaceHolderEmptyList:a}),(r==null?void 0:r())||L.createElement(z1e,{ref:E}))},lye=n=>L.createElement(B1e,{channelUrl:n==null?void 0:n.channelUrl,isMessageGroupingEnabled:n==null?void 0:n.isMessageGroupingEnabled,queries:n==null?void 0:n.queries,messageLimit:n==null?void 0:n.messageLimit,onBeforeSendUserMessage:n==null?void 0:n.onBeforeSendUserMessage,onBeforeSendFileMessage:n==null?void 0:n.onBeforeSendFileMessage,onChatHeaderActionClick:n==null?void 0:n.onChatHeaderActionClick,disableUserProfile:n==null?void 0:n.disableUserProfile,renderUserProfile:n==null?void 0:n.renderUserProfile,onBackClick:n==null?void 0:n.onBackClick},L.createElement(oye,{renderMessage:n==null?void 0:n.renderMessage,renderHeader:n==null?void 0:n.renderHeader,renderInput:n==null?void 0:n.renderInput,renderPlaceHolderEmptyList:n==null?void 0:n.renderPlaceHolderEmptyList,renderPlaceHolderError:n==null?void 0:n.renderPlaceHolderError,renderPlaceHolderLoading:n==null?void 0:n.renderPlaceHolderLoading}));let Zg;const cye=new Uint8Array(16);function dye(){if(!Zg&&(Zg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zg(cye)}var uye=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hye(n){return typeof n=="string"&&uye.test(n)}const fa=[];for(let n=0;n<256;++n)fa.push((n+256).toString(16).slice(1));function eB(n,t=0){return(fa[n[t+0]]+fa[n[t+1]]+fa[n[t+2]]+fa[n[t+3]]+"-"+fa[n[t+4]]+fa[n[t+5]]+"-"+fa[n[t+6]]+fa[n[t+7]]+"-"+fa[n[t+8]]+fa[n[t+9]]+"-"+fa[n[t+10]]+fa[n[t+11]]+fa[n[t+12]]+fa[n[t+13]]+fa[n[t+14]]+fa[n[t+15]]).toLowerCase()}function pye(n){if(!hye(n))throw TypeError("Invalid UUID");let t;const e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function fye(n){n=unescape(encodeURIComponent(n));const t=[];for(let e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}const _ye="6ba7b810-9dad-11d1-80b4-00c04fd430c8",mye="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function nB(n,t,e){function r(a,l,d,h){var f;if(typeof a=="string"&&(a=fye(a)),typeof l=="string"&&(l=pye(l)),((f=l)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let _=new Uint8Array(16+a.length);if(_.set(l),_.set(a,l.length),_=e(_),_[6]=_[6]&15|t,_[8]=_[8]&63|128,d){h=h||0;for(let g=0;g<16;++g)d[h+g]=_[g];return d}return eB(_)}try{r.name=n}catch{}return r.DNS=_ye,r.URL=mye,r}function vye(n){if(typeof n=="string"){const t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return gye(bye(yye(n),n.length*8))}function gye(n){const t=[],e=n.length*32,r="0123456789abcdef";for(let a=0;a<e;a+=8){const l=n[a>>5]>>>a%32&255,d=parseInt(r.charAt(l>>>4&15)+r.charAt(l&15),16);t.push(d)}return t}function tB(n){return(n+64>>>9<<4)+14+1}function bye(n,t){n[t>>5]|=128<<t%32,n[tB(t)-1]=t;let e=1732584193,r=-271733879,a=-1732584194,l=271733878;for(let d=0;d<n.length;d+=16){const h=e,f=r,_=a,g=l;e=La(e,r,a,l,n[d],7,-680876936),l=La(l,e,r,a,n[d+1],12,-389564586),a=La(a,l,e,r,n[d+2],17,606105819),r=La(r,a,l,e,n[d+3],22,-1044525330),e=La(e,r,a,l,n[d+4],7,-176418897),l=La(l,e,r,a,n[d+5],12,1200080426),a=La(a,l,e,r,n[d+6],17,-1473231341),r=La(r,a,l,e,n[d+7],22,-45705983),e=La(e,r,a,l,n[d+8],7,1770035416),l=La(l,e,r,a,n[d+9],12,-1958414417),a=La(a,l,e,r,n[d+10],17,-42063),r=La(r,a,l,e,n[d+11],22,-1990404162),e=La(e,r,a,l,n[d+12],7,1804603682),l=La(l,e,r,a,n[d+13],12,-40341101),a=La(a,l,e,r,n[d+14],17,-1502002290),r=La(r,a,l,e,n[d+15],22,1236535329),e=Ua(e,r,a,l,n[d+1],5,-165796510),l=Ua(l,e,r,a,n[d+6],9,-1069501632),a=Ua(a,l,e,r,n[d+11],14,643717713),r=Ua(r,a,l,e,n[d],20,-373897302),e=Ua(e,r,a,l,n[d+5],5,-701558691),l=Ua(l,e,r,a,n[d+10],9,38016083),a=Ua(a,l,e,r,n[d+15],14,-660478335),r=Ua(r,a,l,e,n[d+4],20,-405537848),e=Ua(e,r,a,l,n[d+9],5,568446438),l=Ua(l,e,r,a,n[d+14],9,-1019803690),a=Ua(a,l,e,r,n[d+3],14,-187363961),r=Ua(r,a,l,e,n[d+8],20,1163531501),e=Ua(e,r,a,l,n[d+13],5,-1444681467),l=Ua(l,e,r,a,n[d+2],9,-51403784),a=Ua(a,l,e,r,n[d+7],14,1735328473),r=Ua(r,a,l,e,n[d+12],20,-1926607734),e=Pa(e,r,a,l,n[d+5],4,-378558),l=Pa(l,e,r,a,n[d+8],11,-2022574463),a=Pa(a,l,e,r,n[d+11],16,1839030562),r=Pa(r,a,l,e,n[d+14],23,-35309556),e=Pa(e,r,a,l,n[d+1],4,-1530992060),l=Pa(l,e,r,a,n[d+4],11,1272893353),a=Pa(a,l,e,r,n[d+7],16,-155497632),r=Pa(r,a,l,e,n[d+10],23,-1094730640),e=Pa(e,r,a,l,n[d+13],4,681279174),l=Pa(l,e,r,a,n[d],11,-358537222),a=Pa(a,l,e,r,n[d+3],16,-722521979),r=Pa(r,a,l,e,n[d+6],23,76029189),e=Pa(e,r,a,l,n[d+9],4,-640364487),l=Pa(l,e,r,a,n[d+12],11,-421815835),a=Pa(a,l,e,r,n[d+15],16,530742520),r=Pa(r,a,l,e,n[d+2],23,-995338651),e=Fa(e,r,a,l,n[d],6,-198630844),l=Fa(l,e,r,a,n[d+7],10,1126891415),a=Fa(a,l,e,r,n[d+14],15,-1416354905),r=Fa(r,a,l,e,n[d+5],21,-57434055),e=Fa(e,r,a,l,n[d+12],6,1700485571),l=Fa(l,e,r,a,n[d+3],10,-1894986606),a=Fa(a,l,e,r,n[d+10],15,-1051523),r=Fa(r,a,l,e,n[d+1],21,-2054922799),e=Fa(e,r,a,l,n[d+8],6,1873313359),l=Fa(l,e,r,a,n[d+15],10,-30611744),a=Fa(a,l,e,r,n[d+6],15,-1560198380),r=Fa(r,a,l,e,n[d+13],21,1309151649),e=Fa(e,r,a,l,n[d+4],6,-145523070),l=Fa(l,e,r,a,n[d+11],10,-1120210379),a=Fa(a,l,e,r,n[d+2],15,718787259),r=Fa(r,a,l,e,n[d+9],21,-343485551),e=md(e,h),r=md(r,f),a=md(a,_),l=md(l,g)}return[e,r,a,l]}function yye(n){if(n.length===0)return[];const t=n.length*8,e=new Uint32Array(tB(t));for(let r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function md(n,t){const e=(n&65535)+(t&65535);return(n>>16)+(t>>16)+(e>>16)<<16|e&65535}function Eye(n,t){return n<<t|n>>>32-t}function vy(n,t,e,r,a,l){return md(Eye(md(md(t,n),md(r,l)),a),e)}function La(n,t,e,r,a,l,d){return vy(t&e|~t&r,n,t,a,l,d)}function Ua(n,t,e,r,a,l,d){return vy(t&r|e&~r,n,t,a,l,d)}function Pa(n,t,e,r,a,l,d){return vy(t^e^r,n,t,a,l,d)}function Fa(n,t,e,r,a,l,d){return vy(e^(t|~r),n,t,a,l,d)}nB("v3",48,vye);const wye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var P7={randomUUID:wye};function xye(n,t,e){if(P7.randomUUID&&!t&&!n)return P7.randomUUID();n=n||{};const r=n.random||(n.rng||dye)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(let a=0;a<16;++a)t[e+a]=r[a];return t}return eB(r)}function Sye(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function Ix(n,t){return n<<t|n>>>32-t}function Tye(n){const t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){const d=unescape(encodeURIComponent(n));n=[];for(let h=0;h<d.length;++h)n.push(d.charCodeAt(h))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);const r=n.length/4+2,a=Math.ceil(r/16),l=new Array(a);for(let d=0;d<a;++d){const h=new Uint32Array(16);for(let f=0;f<16;++f)h[f]=n[d*64+f*4]<<24|n[d*64+f*4+1]<<16|n[d*64+f*4+2]<<8|n[d*64+f*4+3];l[d]=h}l[a-1][14]=(n.length-1)*8/Math.pow(2,32),l[a-1][14]=Math.floor(l[a-1][14]),l[a-1][15]=(n.length-1)*8&4294967295;for(let d=0;d<a;++d){const h=new Uint32Array(80);for(let x=0;x<16;++x)h[x]=l[d][x];for(let x=16;x<80;++x)h[x]=Ix(h[x-3]^h[x-8]^h[x-14]^h[x-16],1);let f=e[0],_=e[1],g=e[2],E=e[3],w=e[4];for(let x=0;x<80;++x){const T=Math.floor(x/20),N=Ix(f,5)+Sye(T,_,g,E)+w+t[T]+h[x]>>>0;w=E,E=g,g=Ix(_,30)>>>0,_=f,f=N}e[0]=e[0]+f>>>0,e[1]=e[1]+_>>>0,e[2]=e[2]+g>>>0,e[3]=e[3]+E>>>0,e[4]=e[4]+w>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}nB("v5",80,Tye);var Cye=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.create-event-view {
  position: relative;
  width: 480px;
  padding: 20px;
}
.create-event-view .title {
  font-size: 20px;
  font-weight: 700;
}
.create-event-view .section-title {
  font-size: 12px;
  margin: 20px 0 10px 0;
}
.create-event-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
}
.create-event-view .close:hover {
  cursor: pointer;
}
.create-event-view .title-form {
  width: 100%;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 10px 16px;
  box-sizing: border-box;
}
.create-event-view .cover-image-box {
  display: flex;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image-container {
  display: flex;
  width: 136px;
  height: 80px;
  background: #bbb;
  margin-right: 16px;
  justify-content: center;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image {
  width: 136px;
  height: 80px;
}
.create-event-view .cover-image-box .cover-image-file {
  width: 0;
  height: 0;
}
.create-event-view .cover-image-box .cover-image-upload {
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-dark-primary-300);
}
.create-event-view .cover-image-box .cover-image-upload:hover {
  cursor: pointer;
}
.create-event-view .cover-image-box .cover-image-remove {
  margin-left: 16px;
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-dark-error-300);
}
.create-event-view .cover-image-box .cover-image-remove:hover {
  cursor: pointer;
}
.create-event-view .button-box {
  display: flex;
  justify-content: right;
}
.create-event-view .button-box .minor-button, .create-event-view .button-box .major-button {
  padding: 10px 12px;
  margin: 5px;
  border-radius: 4px;
}
.create-event-view .button-box .minor-button:hover, .create-event-view .button-box .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.create-event-view .button-box .major-button {
  color: #fff;
}
.sendbird-theme--light .create-event-view .button-box .major-button {
  background-color: var(--sendbird-light-primary-400);
  border: 1px var(--sendbird-light-primary-400) solid;
}
.sendbird-theme--dark .create-event-view .button-box .major-button {
  background-color: var(--sendbird-dark-primary-300);
  border: 1px var(--sendbird-dark-primary-300) solid;
}
.create-event-view .button-box .major-button:disabled,
.create-event-view .button-box .major-button[disabled] {
  border: 1px #eee solid;
  background: #eee;
  color: rgba(0, 0, 0, 0.12);
}
.create-event-view .button-box .minor-button {
  color: #333;
  border: 1px #333 solid;
  background-color: #fff;
}

.event-host-form .input {
  display: flex;
  max-height: 154px;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 6px 12px;
  box-sizing: border-box;
  align-content: flex-start;
  overflow-y: auto;
}
.event-host-form .input .search-type-panel .search-type {
  margin: 4px 4px 0 0;
  padding: 4px 6px;
  border: 0;
}
.event-host-form .input .form {
  flex: 1;
}
.event-host-form .input .form .host-form {
  min-width: 240px;
  margin: 4px;
  border: 0;
}
.event-host-form .input .form .host-form:focus {
  outline: none;
}
.event-host-form .search-result {
  position: relative;
  top: -45px;
}
.event-host-form .search-result .users, .event-host-form .search-result .status {
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.event-host-form .search-result .status {
  display: flex;
  position: absolute;
  height: 104px;
  top: 0;
  left: 0;
  right: 0;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
}
.event-host-form .search-result .status .no-result {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.5);
}
.event-host-form .search-result .status .error {
  font-size: 14px;
  color: #de360b;
}
.event-host-form .search-result .users {
  position: absolute;
  max-height: 104px;
  top: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.event-host-status {
  display: flex;
  padding: 6px 4px;
  margin-bottom: 10px;
}
.event-host-status .message {
  flex: 1;
  font-size: 12px;
  color: #666;
}
.event-host-status .error {
  color: #de360b;
}
.event-host-status .count {
  font-size: 12px;
  color: #666;
  margin: 0 0 0 8px;
}

.event-host {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  background: #eee;
  border-radius: 16px;
  overflow: hidden;
  margin: 4px;
  vertical-align: middle;
}
.event-host .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  margin-right: -4px;
  background: #fff;
}
.event-host .nickname {
  font-size: 12px;
  padding: 6px 10px;
}
.event-host .remove-button {
  width: 18px;
  height: 18px;
  border-radius: 12px;
}
.event-host .remove-button:hover {
  cursor: pointer;
}

.searched-user {
  display: flex;
  flex-direction: row;
  background: #fff;
  padding: 8px;
}
.searched-user:hover {
  cursor: pointer;
  background: #eee;
}
.searched-user .profile-image {
  width: 32px;
  height: 32px;
  border-radius: 20px;
  margin-right: 12px;
  background-color: #bdbdbd;
}
.searched-user .info {
  flex: 1;
  align-items: center;
}
.searched-user .info .nickname {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.88);
}
.searched-user .info .user-id {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.5);
}`;ka(Cye);var F7,H7;function x6(){return x6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},x6.apply(this,arguments)}var _p=function(t){return W.createElement("svg",x6({width:24,height:24,viewBox:"-4 -4 20 20",xmlns:"http://www.w3.org/2000/svg"},t),F7||(F7=W.createElement("defs",null,W.createElement("clipPath",{id:"icons-user_svg__a"},W.createElement("path",{d:"M1368 0v4600H0V0h1368z"})),W.createElement("clipPath",{id:"icons-user_svg__b"},W.createElement("path",{d:"M6.19 5.714c1.28 0 2.325 1.01 2.38 2.278l.001.103v.953a.476.476 0 0 1-.949.055l-.003-.055v-.953a1.43 1.43 0 0 0-1.345-1.426l-.084-.002H2.381c-.76 0-1.383.594-1.426 1.344l-.003.084v.953a.476.476 0 0 1-.949.055L0 9.048v-.953c0-1.28 1.01-2.324 2.278-2.379l.103-.002h3.81zM4.286 0a2.381 2.381 0 1 1 0 4.762 2.381 2.381 0 0 1 0-4.762zm0 .952a1.429 1.429 0 1 0 0 2.858 1.429 1.429 0 0 0 0-2.858z"})))),H7||(H7=W.createElement("g",{clipPath:"url(#icons-user_svg__a)",transform:"translate(-531 -1699)"},W.createElement("g",{clipPath:"url(#icons-user_svg__b)",transform:"translate(532.714 1700.238)"},W.createElement("path",{fill:"rgba(210, 210, 210, 0.88)",d:"M0 0h8.571v9.524H0V0z"})))))},B7;function S6(){return S6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},S6.apply(this,arguments)}var zl=function(t){return W.createElement("svg",S6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),B7||(B7=W.createElement("path",{d:"M52.552 11.448a2.667 2.667 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 35.771 15.219 52.552a2.667 2.667 0 0 1-3.993-3.52l.222-.251L28.228 32l-16.78-16.781a2.667 2.667 0 0 1 3.52-3.993l.251.222 16.78 16.78 16.782-16.78a2.667 2.667 0 0 1 3.771 0z",fillRule:"evenodd"})))};function fC(n){var t=n.key,e=n.userId,r=n.disabled,a=r===void 0?!1:r,l=n.nickname,d=l===void 0?"":l,h=n.profileUrl,f=h===void 0?"":h,_=n.hideProfile,g=_===void 0?!1:_,E=n.onRemove,w=E===void 0?function(){}:E,x=f?L.createElement("img",{src:f,className:"profile-image"}):L.createElement(_p,{fill:"#ccc",className:"profile-image"});return L.createElement("div",{className:"event-host",key:t},g?null:x,L.createElement("div",{className:"nickname"},d),L.createElement("div",{className:"remove-button",onClick:function(){a||w(e)}},L.createElement(zl,{viewBox:"0 -17 100 100",fill:"#888",width:18,height:18})))}var V7;function T6(){return T6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},T6.apply(this,arguments)}var kye=function(t){return W.createElement("svg",T6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),V7||(V7=W.createElement("path",{d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1h3.334zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fillRule:"evenodd"})))};function rB(n){var t=n.message,e=n.count,r=n.maxLength,a=n.error,l=a===void 0?!1:a;return L.createElement("div",{className:"event-host-status"},L.createElement("div",{className:"message ".concat(l?"error":"")},t),L.createElement("div",{className:"count"},L.createElement("span",{className:"value ".concat(l?"error":"")},e)," / ",r," users"),L.createElement(kye,{width:24,height:24,viewBox:"-32 0 100 100",fill:"#666"}))}var z7;function C6(){return C6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},C6.apply(this,arguments)}var Iye=function(t){return W.createElement("svg",C6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),z7||(z7=W.createElement("path",{d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.839 2.839 0 1 0 5.677 0C8.344 18.935 18.935 8.344 32 8.344S55.656 18.935 55.656 32 45.065 55.656 32 55.656a2.839 2.839 0 1 0 0 5.677z",fillRule:"evenodd"})))};function Nye(n){var t=n.userId,e=n.nickname,r=e===void 0?"":e,a=n.profileUrl,l=a===void 0?"":a,d=n.onClick,h=d===void 0?function(){}:d,f=l?L.createElement("img",{src:l,className:"profile-image"}):L.createElement(_p,{fill:"#fff",className:"profile-image"});return L.createElement("div",{className:"searched-user",onClick:function(){return h()}},f,L.createElement("div",{className:"info"},L.createElement("div",{className:"nickname"},r),L.createElement("div",{className:"user-id"},t)))}function Aye(n){var t=n.initialHostUsers,e=t===void 0?[]:t,r=n.maxHostLength,a=r===void 0?iB:r,l=n.renderCustomEventHostView,d=l===void 0?fC:l,h=n.onUpdateHost,f=h===void 0?function(){}:h,_=W.useState([]),g=_[0],E=_[1],w=W.useState(0),x=w[0],T=w[1],N=W.useState(!1),P=N[0],k=N[1],C=W.useState(!1),A=C[0],U=C[1],M=W.useState(e),R=M[0],I=M[1],D=W.useState("nickname"),q=D[0],z=D[1],ne=W.useState(""),fe=ne[0],B=ne[1],Y=W.useState(""),ue=Y[0],Q=Y[1],_e=W.useState(!1),le=_e[0],se=_e[1],me=Xs();W.useEffect(function(){I(e)},[e]),W.useEffect(function(){R.length>a?(se(!0),Q("The number of users allowed has exceeded.")):(se(!1),Q(""))},[R]);var Me=function(de,he){var K=oC.getSdk(me);if(K&&he){var ee=null;switch(de){case"nickname":{ee=K.createApplicationUserListQuery({nicknameStartsWithFilter:he});break}case"user ID":{ee=K.createApplicationUserListQuery({userIdsFilter:[he]});break}}if(ee){var j=x+1;T(j),k(!0),U(!1),ee.next().then(function(ae){j>=x&&(E(ae),k(!1),U(!1),T(j))}).catch(function(ae){j>=x&&(k(!1),U(!0),T(j))})}}};return L.createElement("div",{className:"event-host-form"},L.createElement("div",{className:"input"},L.createElement("div",{className:"search-type-panel"},L.createElement("select",{className:"search-type",value:q,onChange:function(de){var he=de.target.value;switch(z(he),he){case"user ID":Q("Only an exact match can be found.");break;default:Q("")}se(!1),Me(he,fe)}},L.createElement("option",{value:"nickname"},"Nickname"),L.createElement("option",{value:"user ID"},"User ID"))),L.createElement("div",{className:"form"},R.map(function(de){return d({key:de.userId,userId:de.userId,disabled:e.map(function(he){return he.userId}).includes(de.userId),nickname:de.nickname,profileUrl:de.profileUrl,onRemove:function(he){var K=R.filter(function(ee){return ee.userId!==he});I(K),f(K.map(function(ee){return ee.userId}))}})}),L.createElement("input",{type:"text",placeholder:"Enter ".concat(q),className:"host-form",value:fe,onChange:function(de){var he=de.target.value;B(he),Me(q,he)}}))),L.createElement(rB,{message:ue,error:le,count:R.length,maxLength:a}),fe?L.createElement("div",{className:"search-result"},g.length>0?L.createElement("div",{className:"users"},g.map(function(de){return L.createElement(Nye,{key:de.userId,userId:de.userId,nickname:de.nickname,profileUrl:de.profileUrl,onClick:function(){if(!R.map(function(K){return K.userId}).includes(de.userId)){var he=bs(bs([],R,!0),[de],!1);I(he),f(he.map(function(K){return K.userId}))}B(""),E([]),U(!1),k(!1)}})})):L.createElement("div",{className:"status"},P?L.createElement(Iye,{width:24,height:24,viewBox:"-18 -18 100 100",fill:"#333",className:"spin"}):null,!P&&!A&&g.length===0?L.createElement("div",{className:"no-result"},"No matches found with ",fe):null,A?L.createElement("div",{className:"error"},"Search request failed."):null)):null)}function Oye(n){var t=n.initialHostUsers,e=t===void 0?[]:t,r=n.maxHostLength,a=r===void 0?iB:r,l=n.renderCustomEventHostView,d=l===void 0?fC:l,h=n.onUpdateHost,f=h===void 0?function(){}:h,_=W.useState([]),g=_[0],E=_[1],w=W.useState(""),x=w[0],T=w[1],N=W.useState(""),P=N[0],k=N[1],C=W.useState(!1),A=C[0],U=C[1];return W.useEffect(function(){E(e.map(function(M){return M.userId}))},[e]),W.useEffect(function(){g.length>a?(U(!0),k("The number of users allowed has exceeded.")):(U(!1),k("If the ACL attributes are turned on, you can access user list information from the SDK."))},[g]),L.createElement("div",{className:"event-host-form"},L.createElement("div",{className:"input"},L.createElement("div",{className:"form"},g.map(function(M){return d({key:M,userId:M,disabled:e.map(function(R){return R.userId}).includes(M),nickname:M,hideProfile:!0,onRemove:function(R){var I=g.filter(function(D){return D!==R});E(I),f(I)}})}),L.createElement("input",{type:"text",placeholder:"Separate each user ID with a comma.",className:"host-form",value:x,onChange:function(M){var R,I=M.target.value,D=I.split(",");T((R=D.pop())!==null&&R!==void 0?R:"");var q=D.filter(function(ne,fe){return ne.length>0&&!g.includes(ne)&&D.indexOf(ne)===fe});if(q.length>0){var z=bs(bs([],g,!0),q,!0);E(z),f(z)}}}))),L.createElement(rB,{message:P,error:A,count:g.length,maxLength:a}))}var G7,q7;function k6(){return k6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},k6.apply(this,arguments)}var Rye=function(t){return W.createElement("svg",k6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),G7||(G7=W.createElement("defs",null,W.createElement("clipPath",{id:"icons-live_svg__a"},W.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),W.createElement("clipPath",{id:"icons-live_svg__b"},W.createElement("path",{d:"M26.667 21.333A5.333 5.333 0 0 1 30 30.83v22.297a26.923 26.923 0 0 1-3.323.206h-.02a26.81 26.81 0 0 1-3.324-.206V30.83a5.333 5.333 0 0 1 3.333-9.497zm0-21.333c14.727 0 26.666 11.94 26.666 26.667 0 12.184-8.171 22.46-19.333 25.645V45.28c7.418-2.924 12.667-10.155 12.667-18.612 0-11.046-8.955-20-20-20-11.046 0-20 8.954-20 20 0 8.457 5.249 15.688 12.666 18.612v7.033C8.172 49.127 0 38.851 0 26.667 0 11.939 11.94 0 26.667 0zm0 10.667c8.836 0 16 7.163 16 16 0 6.193-3.52 11.565-8.667 14.224v-8.45a9.294 9.294 0 0 0 2-5.774 9.333 9.333 0 1 0-18.667 0c0 2.18.748 4.185 2 5.774v8.45c-5.147-2.66-8.666-8.03-8.666-14.224 0-8.837 7.163-16 16-16z"})))),q7||(q7=W.createElement("g",{clipPath:"url(#icons-live_svg__a)",transform:"translate(-1216 -336)"},W.createElement("g",{clipPath:"url(#icons-live_svg__b)",transform:"translate(1221.333 341.333)"},W.createElement("path",{fill:"rgba(255, 255, 255, 1)",d:"M0 0h53.333v53.333H0V0z"})))))},iB=10;function Mye(n){var t=this,e,r,a=n.showUserIdsForHostSelectionView,l=a===void 0?!0:a,d=n.disableAcl,h=d===void 0?!1:d,f=n.renderCustomEventHostView,_=f===void 0?fC:f,g=n.onClose,E=g===void 0?function(){}:g,w=W.useState(""),x=w[0],T=w[1],N=W.useState(""),P=N[0],k=N[1],C=W.useRef(null),A=W.useRef(null),U=W.useContext(Bl).stringSet,M=Xs(),R=oC.getSdk(M),I=W.useState([]),D=I[0],q=I[1];W.useEffect(function(){l&&R!=null&&R.currentUser&&q([R.currentUser])},[R==null?void 0:R.currentUser]);var z=W.useState(D.map(function(B){return B.userId})),ne=z[0],fe=z[1];return L.createElement("div",{className:"create-event-view"},L.createElement("div",{className:"close",onClick:function(){return E()}},L.createElement(zl,{width:22,height:22,viewBox:"0 0 60 60"})),L.createElement("div",{className:"title"},U.LIVE_EVENT_CREATE_HEADER_TITLE),L.createElement("div",{className:"section-title"},U.LIVE_EVENT_CREATE_EVENT_TITLE),L.createElement("div",null,L.createElement("input",{type:"text",placeholder:U.LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER,className:"title-form",value:x,onChange:function(B){T(B.target.value)}})),L.createElement("div",{className:"section-title"},U.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE),L.createElement("div",{className:"cover-image-box"},L.createElement("div",{className:"cover-image-container",ref:C},P?L.createElement("img",{src:P,alt:"Cover image",className:"cover-image"}):L.createElement(Rye,{viewBox:"0 0 64 64",width:32,height:32,fill:"#fff"})),L.createElement("input",{type:"file",className:"cover-image-file",ref:A,accept:"image/*",onChange:function(){var B,Y=A.current,ue=(B=Y==null?void 0:Y.files)!==null&&B!==void 0?B:[];if(ue.length===1){var Q=new FileReader;Q.onload=function(){C.current&&k(Q.result)},Q.readAsDataURL(ue[0])}}}),L.createElement("div",{className:"cover-image-upload",onClick:function(){A.current.click()}},U.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON),L.createElement("div",{className:"cover-image-remove",onClick:function(){A.current&&(A.current.value=""),k("")}},!((r=(e=A.current)===null||e===void 0?void 0:e.files)===null||r===void 0)&&r.length?U.REMOVE_IMAGE:"")),L.createElement("div",{className:"section-title"},U.LIST_USERS_FOR_HOST_HEADER_TITLE),h?L.createElement(Oye,{initialHostUsers:D,renderCustomEventHostView:_,onUpdateHost:function(B){return fe(B)}}):L.createElement(Aye,{initialHostUsers:D,renderCustomEventHostView:_,onUpdateHost:function(B){return fe(B)}}),L.createElement("div",{className:"button-box"},L.createElement("input",{type:"button",className:"minor-button",value:"Cancel",onClick:function(){return E()}}),L.createElement("input",{type:"button",className:"major-button",value:U.LIVE_EVENT_CREATE_HEADER_BUTTON,onClick:function(){return Ta(t,void 0,void 0,function(){var B,Y,ue,Q,_e,le;return Ca(this,function(se){switch(se.label){case 0:return B=(le=(_e=A==null?void 0:A.current)===null||_e===void 0?void 0:_e.files)===null||le===void 0?void 0:le[0],Y=null,B&&(ue=B.slice(0,B.size,B.type),Y=new File([ue],"".concat(xye(),".").concat(B.type.split("/").pop()),{type:B.type})),[4,zr.exports.SendbirdLive.createLiveEvent({userIdsForHost:bs([],ne,!0),title:x,coverFile:Y??void 0})];case 1:return Q=se.sent(),[4,Q.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return se.sent(),E(Q),[2]}})})}})))}var Dye=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background {
  background: var(--sendbird-dark-background-500) !important;
}

.host-view {
  display: flex;
  flex-grow: 1;
}
.host-view .host-view__main {
  width: 100%;
  height: 100%;
  background-color: var(--sendbird-dark-background-700);
}
.host-view .host-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.host-view .host-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.host-view .host-view__main .video-wrapper .host-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.host-view .host-view__main .host-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-dark-background-600);
}
.host-view .host-view__main .host-view__info .host-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.host-view .host-view__main .host-view__info .host-view__profile .host-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper {
  display: flex;
  align-items: center;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper .host-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.5);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__host-name {
  margin-top: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}`;ka(Dye);var j7;function I6(){return I6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},I6.apply(this,arguments)}var Lye=function(t){return W.createElement("svg",I6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),j7||(j7=W.createElement("path",{d:"M32 2.667A5.333 5.333 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.333 5.333 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56a5.333 5.333 0 1 1 0 10.666h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.333 5.333 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.333 5.333 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.333 5.333 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.333 5.333 0 0 1 32 2.667zM32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},$7,W7;function N6(){return N6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},N6.apply(this,arguments)}var Uye=function(t){return W.createElement("svg",N6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),$7||($7=W.createElement("defs",null,W.createElement("clipPath",{id:"icons-camera-filled_svg__a"},W.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),W.createElement("clipPath",{id:"icons-camera-filled_svg__b"},W.createElement("path",{d:"M37.333 0a5.333 5.333 0 0 1 5.334 5.333v8L56.594 4.05a1.333 1.333 0 0 1 2.073 1.109v32.35a1.333 1.333 0 0 1-2.073 1.11l-13.927-9.285v8a5.333 5.333 0 0 1-5.334 5.334h-32A5.333 5.333 0 0 1 0 37.333v-32A5.333 5.333 0 0 1 5.333 0h32z"})))),W7||(W7=W.createElement("g",{clipPath:"url(#icons-camera-filled_svg__a)",transform:"translate(-208 -336)"},W.createElement("g",{clipPath:"url(#icons-camera-filled_svg__b)",transform:"translate(210.667 346.667)"},W.createElement("path",{d:"M0 0h58.667v42.667H0V0z"})))))},K7,Q7;function A6(){return A6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},A6.apply(this,arguments)}var Pye=function(t){return W.createElement("svg",A6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),K7||(K7=W.createElement("defs",null,W.createElement("clipPath",{id:"icons-camera-off-filled_svg__a"},W.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),W.createElement("clipPath",{id:"icons-camera-off-filled_svg__b"},W.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.007-11.008a5.335 5.335 0 0 1-5.238 4.325h-32A5.333 5.333 0 0 1 0 45.333v-32c0-2.6 1.862-4.767 4.325-5.238L.781 4.552A2.667 2.667 0 0 1 4.301.56zM37.333 8a5.333 5.333 0 0 1 5.334 5.333v8l13.927-9.284a1.333 1.333 0 0 1 2.073 1.109v32.35c0 .195-.042.379-.116.545L20.497 8h16.836z"})))),Q7||(Q7=W.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__a)",transform:"translate(-352 -336)"},W.createElement("g",{clipPath:"url(#icons-camera-off-filled_svg__b)",transform:"translate(354.667 338.667)"},W.createElement("path",{d:"M0 0h58.667v58.13H0V0z"})))))},Y7,X7;function O6(){return O6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},O6.apply(this,arguments)}var Fye=function(t){return W.createElement("svg",O6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),Y7||(Y7=W.createElement("defs",null,W.createElement("clipPath",{id:"icons-mic-filled_svg__a"},W.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),W.createElement("clipPath",{id:"icons-mic-filled_svg__b"},W.createElement("path",{d:"M34.667 24a2.667 2.667 0 0 1 2.648 2.356l.018.31V32c0 9.408-6.96 17.19-16.01 18.48l.01.187v2.666h5.334a2.667 2.667 0 0 1 .31 5.316l-.31.018h-16a2.667 2.667 0 0 1-.311-5.316l.31-.018H16v-2.666c0-.064.002-.127.007-.19C7.164 49.218.319 41.759.01 32.643L0 32v-5.333a2.667 2.667 0 0 1 5.315-.311l.018.31V32c0 7.364 5.97 13.333 13.334 13.333 7.17 0 13.018-5.66 13.32-12.755L32 32v-5.333A2.667 2.667 0 0 1 34.667 24zm-16-24a8 8 0 0 1 8 8v24a8 8 0 1 1-16 0V8a8 8 0 0 1 8-8z"})))),X7||(X7=W.createElement("g",{clipPath:"url(#icons-mic-filled_svg__a)",transform:"translate(-496 -336)"},W.createElement("g",{clipPath:"url(#icons-mic-filled_svg__b)",transform:"translate(509.79 339.124)"},W.createElement("path",{d:"M0 0h37.333v58.667H0V0z"})))))},Z7,J7;function R6(){return R6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},R6.apply(this,arguments)}var Hye=function(t){return W.createElement("svg",R6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),Z7||(Z7=W.createElement("defs",null,W.createElement("clipPath",{id:"icons-mic-off-filled_svg__a"},W.createElement("path",{d:"M1368 0v1600H0V0h1368z"})),W.createElement("clipPath",{id:"icons-mic-off-filled_svg__b"},W.createElement("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.152-11.152a18.602 18.602 0 0 1-9.98 4.739l.012.187v2.667h5.333a2.667 2.667 0 0 1 .31 5.315l-.31.018h-16a2.667 2.667 0 0 1-.311-5.315l.31-.018h5.334v-2.667c0-.063.002-.126.007-.189-8.843-1.26-15.688-8.72-15.996-17.836l-.01-.641v-5.334a2.667 2.667 0 0 1 5.315-.31l.018.31v5.334c0 7.363 5.97 13.333 13.333 13.333 3.4 0 6.504-1.273 8.86-3.37l-3.783-3.781a8 8 0 0 1-13.078-6.182V25.56L.781 4.552A2.667 2.667 0 0 1 4.301.56zm41.49 23.898a2.667 2.667 0 0 1 2.649 2.355l.018.311v5.334c0 1.099-.095 2.176-.278 3.223l-5.056-5.055v-3.502a2.667 2.667 0 0 1 2.667-2.666zm-16-24a8 8 0 0 1 8 8v16.834l-16-16v-.834a8 8 0 0 1 8-8z"})))),J7||(J7=W.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__a)",transform:"translate(-640 -336)"},W.createElement("g",{clipPath:"url(#icons-mic-off-filled_svg__b)",transform:"translate(642.667 338.667)"},W.createElement("path",{d:"M0 0h58.13v59.124H0V0z"})))))},eL,nL;function M6(){return M6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},M6.apply(this,arguments)}var Bye=function(t){return W.createElement("svg",M6({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),eL||(eL=W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.917 4.583a2.75 2.75 0 0 1 2.75-2.75h14.666a2.75 2.75 0 0 1 2.75 2.75v9.167a2.75 2.75 0 0 1-2.75 2.75H3.667a2.75 2.75 0 0 1-2.75-2.75V4.584Zm10.632.901a.916.916 0 0 0-.54-.175l-.059.002a.917.917 0 0 0-.276.06.87.87 0 0 0-.321.203L7.603 8.33a.92.92 0 1 0 1.301 1.3l1.182-1.184-.003 3.96a.92.92 0 0 0 .92.922l.059-.002a.92.92 0 0 0 .862-.917l.003-3.957 1.176 1.178a.918.918 0 1 0 1.302-1.3l-2.74-2.745a1.048 1.048 0 0 0-.074-.067l-.023-.018-.02-.015Z",fill:"#fff",fillOpacity:.88})),nL||(nL=W.createElement("path",{d:"M.917 18.334a.917.917 0 0 0 0 1.833h20.166a.917.917 0 1 0 0-1.834H.917Z",fill:"#fff",fillOpacity:.88})))},tL;function D6(){return D6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},D6.apply(this,arguments)}var Vye=function(t){return W.createElement("svg",D6({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),tL||(tL=W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.917 3.667a3 3 0 0 0-3 3v8.666a3 3 0 0 0 3 3h14.166a3 3 0 0 0 3-3V6.667a3 3 0 0 0-3-3H3.917Zm9 7.333a1 1 0 0 0-1 1v3.5a1 1 0 0 0 1 1h5.333a1 1 0 0 0 1-1V12a1 1 0 0 0-1-1h-5.334Z",fill:"#fff",fillOpacity:.88})))},zye=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background__screen-share {
  background: var(--sendbird-dark-background-500) !important;
}

.control-bar {
  display: flex;
  align-items: center;
  background-color: var(--sendbird-dark-background-600);
}
.control-bar .control-bar__left-buttons {
  display: flex;
  margin-left: 16px;
}
.control-bar .control-bar__left-buttons .control-bar__settings {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__video {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper {
  display: flex;
  margin: 12px 27px 0 0;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper .control-bar__audio {
  margin-right: 27px;
  width: 22px;
  height: 22px;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share {
  display: flex;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share svg {
  margin-right: 27px;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share .control-bar__screen-share__stop {
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  align-items: center;
  padding: 6px 16px;
  width: 160px;
  height: 32px;
  border: 1px solid rgba(255, 255, 255, 0.38);
  border-radius: 4px;
  font-weight: 500;
  font-size: 14px;
  line-height: 20px;
  color: #FFFFFF;
}
.control-bar .control-bar__right-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 16px;
}
.control-bar .control-bar__right-buttons .participant-icon, .control-bar .control-bar__right-buttons .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.control-bar .control-bar__right-buttons .participant-icon--red {
  background-color: var(--sendbird-dark-error-300);
}
.control-bar .control-bar__right-buttons .control-bar__duration {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}
.control-bar .control-bar__right-buttons .control-bar__start-live, .control-bar .control-bar__right-buttons .control-bar__end-live {
  padding: 6px 16px;
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  cursor: pointer;
}
.control-bar .control-bar__right-buttons .control-bar__end-live {
  background-color: var(--sendbird-dark-primary-200);
}
.control-bar .control-bar__right-buttons .control-bar__start-live {
  background-color: var(--sendbird-dark-error-200);
}`;ka(zye);var rL,iL;function L6(){return L6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},L6.apply(this,arguments)}var Gye=function(t){return W.createElement("svg",L6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),rL||(rL=W.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),iL||(iL=W.createElement("rect",{x:20,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},aL,sL;function U6(){return U6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},U6.apply(this,arguments)}var qye=function(t){return W.createElement("svg",U6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),aL||(aL=W.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),sL||(sL=W.createElement("rect",{x:4,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},oL,lL;function P6(){return P6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},P6.apply(this,arguments)}var jye=function(t){return W.createElement("svg",P6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),oL||(oL=W.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),lL||(lL=W.createElement("rect",{x:20,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},cL,dL;function F6(){return F6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},F6.apply(this,arguments)}var $ye=function(t){return W.createElement("svg",F6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),cL||(cL=W.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),dL||(dL=W.createElement("rect",{x:4,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88})))},uL;function H6(){return H6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},H6.apply(this,arguments)}var Wye=function(t){return W.createElement("svg",H6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),uL||(uL=W.createElement("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})))},Kye=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.screen-share {
  width: 480px;
  padding: 18px 24px;
  background-color: var(--sendbird-dark-background-500);
  color: #fff;
}
.screen-share .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 20px;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
  margin-bottom: 8px;
  font-style: normal;
  font-weight: 400;
}
.screen-share .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
}
.screen-share .screen-share__preview__container {
  overflow: auto;
  max-width: 100%;
  box-sizing: border-box;
  margin-bottom: 24px;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen {
  position: relative;
  background: var(--sendbird-dark-background-600);
  width: 100%;
  aspect-ratio: 16/9;
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  line-height: 300px;
  color: rgba(255, 255, 255, 0.5);
  text-align: center;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen p {
  line-height: normal;
  display: inline-block;
  vertical-align: middle;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 20%;
  aspect-ratio: 16/9;
  background-color: var(--sendbird-dark-background-700);
  line-height: 1;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  top: 75%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left {
  top: 75%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right {
  top: 5%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left {
  top: 5%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--hidden {
  display: none;
}
.screen-share .screen-share__layout-container {
  display: flex;
}
.screen-share .screen-share__layout-container svg {
  margin-right: 8px;
  padding: 3px;
  background: var(--sendbird-dark-background-500);
  border: 1px solid #161616;
  border-radius: 4px;
}
.screen-share .screen-share__layout-container svg:hover {
  cursor: pointer;
  background: var(--sendbird-dark-background-700);
}
.screen-share .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 30px;
}
.screen-share .buttons .major-button, .screen-share .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.screen-share .buttons .major-button:hover, .screen-share .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.screen-share .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.screen-share .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .screen-share .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .screen-share .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;ka(Kye);function Qye(n){var t=this,e=n.liveEvent,r=n.onClose,a={TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",HIDDEN:"hidden"},l=W.useState(a.BOTTOM_RIGHT),d=l[0],h=l[1];return L.createElement("div",{className:"screen-share"},L.createElement("div",{className:"close",onClick:function(){return r()}},L.createElement(zl,{width:22,height:22,viewBox:"0 0 60 60"})),L.createElement("div",{className:"title"},"Share screen"),L.createElement("div",{className:"screen-share__label"},"Preview"),L.createElement("div",{className:"screen-share__preview__container"},L.createElement("div",{className:"screen-share__preview__screen"},L.createElement("div",{className:"screen-share__preview__camera--".concat(d)},"Camera"),L.createElement("p",null,"The screen you chose to share will be shown here."))),L.createElement("div",{className:"screen-share__label"},"Layout"),L.createElement("div",{className:"screen-share__layout-container"},L.createElement(Gye,{width:32,height:32,fill:"#000",onClick:function(){return h(a.BOTTOM_RIGHT)}}),L.createElement(qye,{width:32,height:32,fill:"#000",onClick:function(){return h(a.BOTTOM_LEFT)}}),L.createElement(jye,{width:32,height:32,fill:"#000",onClick:function(){return h(a.TOP_RIGHT)}}),L.createElement($ye,{width:32,height:32,fill:"#000",onClick:function(){return h(a.TOP_LEFT)}}),L.createElement(Wye,{width:32,height:32,fill:"#000",onClick:function(){return h(a.HIDDEN)}})),L.createElement("div",{className:"buttons"},L.createElement("div",{className:"minor-button",onClick:function(){return r()}},"Cancel"),L.createElement("div",{className:"major-button",onClick:function(){return Ta(t,void 0,void 0,function(){return Ca(this,function(f){switch(f.label){case 0:return[4,e.setScreenShareOptions({cameraOverlayPosition:d})];case 1:return f.sent(),r(),[2]}})})}},"Save")))}function Yye(n){var t=n.liveEvent,e=W.useState(0),r=e[0],a=e[1];W.useEffect(function(){var h=setInterval(function(){a(t.duration)},1e3);return function(){return clearInterval(h)}},[]);function l(h){return h.toString().padStart(2,"0")}function d(h){var f=Math.floor(h/1e3),_=Math.floor(f/60),g=Math.floor(_/60);return f=f%60,_=_%60,"".concat(l(g),":").concat(l(_),":").concat(l(f))}return L.createElement("div",{className:"control-bar__duration"},d(r))}function Xye(n){var t=this,e=n.liveEvent,r=n.onStart,a=n.onEnd,l=n.onSettings,d=W.useState(e.state===zr.exports.LiveEventState.ONGOING),h=d[0],f=d[1],_=W.useState(!0),g=_[0],E=_[1],w=W.useState(!0),x=w[0],T=w[1],N=W.useState(!1),P=N[0],k=N[1];Cd("");var C=Cd("","dark-background__screen-share"),A=C[0],U=C[1],M=C[2],R=W.useContext(Bl).stringSet,I=function(){return Ta(t,void 0,void 0,function(){return Ca(this,function(fe){switch(fe.label){case 0:return[4,e.startEvent({turnAudioOn:!0,turnVideoOn:!0})];case 1:return fe.sent(),f(!0),r(e),[2]}})})},D=function(fe){fe?e.startVideo():e.stopVideo(),T(fe)},q=function(fe){fe?e.unmuteAudioInput():e.muteAudioInput(),E(fe)},z=function(){return Ta(t,void 0,void 0,function(){return Ca(this,function(fe){switch(fe.label){case 0:return[4,e.startScreenShare()];case 1:return fe.sent(),k(!0),[2]}})})},ne=function(){e.stopScreenShare(),k(!1)};return L.createElement("div",{className:"control-bar"},L.createElement("div",{className:"control-bar__left-buttons"},L.createElement("div",{className:"control-bar__settings"},L.createElement(Lye,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return l(e)}})),L.createElement("div",{className:"control-bar__video"},x?L.createElement(Uye,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return D(!1)}}):L.createElement(Pye,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return D(!0)}})),L.createElement("div",{className:"control-bar__audio__wrapper"},L.createElement("div",{className:"control-bar__audio"},g?L.createElement(Fye,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return q(!1)}}):L.createElement(Hye,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return q(!0)}})),L.createElement("div",{className:"control-bar__volume"})),L.createElement("div",{className:"control-bar__screen-share"},L.createElement(Bye,{width:22,height:22,fill:"#ccc",onClick:function(){return z()}}),L.createElement(Vye,{width:22,height:22,fill:"#ccc",onClick:function(){return U()}}),P&&L.createElement("div",{className:"control-bar__screen-share__stop",onClick:function(){return ne()}},"Stop ScreenShare"))),L.createElement("div",{className:"control-bar__right-buttons"},h&&L.createElement("div",{className:"participant-icon--red"}),h&&L.createElement(Yye,{liveEvent:e}),h?L.createElement("div",{className:"control-bar__end-live",onClick:function(){a(e)}},R.LIVE_EVENT_END_DIALOG_OPTION_END):L.createElement("div",{className:"control-bar__start-live",onClick:I},R.START_LIVE_EVENT_HEADER_BUTTON)),L.createElement(A,null,L.createElement(Qye,{liveEvent:e,onClose:function(){M()}})))}var Zye=`.confirm-end-dialog {
  width: 480px;
  padding: 18px 24px;
  background: #333;
  color: #fff;
}
.confirm-end-dialog .header {
  display: flex;
  align-items: center;
}
.confirm-end-dialog .header .title {
  flex: 1;
  font-size: 18px;
}
.confirm-end-dialog .header .close:hover {
  cursor: pointer;
}
.confirm-end-dialog .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.confirm-end-dialog .buttons .major-button, .confirm-end-dialog .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.confirm-end-dialog .buttons .major-button:hover, .confirm-end-dialog .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.confirm-end-dialog .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.confirm-end-dialog .buttons .major-button {
  background-color: #f66161;
}`;ka(Zye);function Jye(n){var t=n.onExit,e=t===void 0?function(){}:t,r=n.onClose,a=r===void 0?function(){}:r,l=W.useContext(Bl).stringSet;return L.createElement("div",{className:"confirm-end-dialog"},L.createElement("div",{className:"header"},L.createElement("div",{className:"title"},l.LIVE_EVENT_END_DIALOG_DESCRIPTION),L.createElement("div",{className:"close",onClick:function(){return a()}},L.createElement(zl,{width:22,height:22,viewBox:"0 0 60 60",fill:"#fff"}))),L.createElement("div",{className:"buttons"},L.createElement("div",{className:"minor-button",onClick:function(){return a()}},"Cancel"),L.createElement("div",{className:"minor-button",onClick:function(){return e(!1)}},l.LIVE_EVENT_END_DIALOG_OPTION_EXIT),L.createElement("div",{className:"major-button",onClick:function(){return e(!0)}},l.LIVE_EVENT_END_DIALOG_OPTION_END)))}var hL;function B6(){return B6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},B6.apply(this,arguments)}var pL=function(t){return W.createElement("svg",B6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),hL||(hL=W.createElement("path",{d:"M22.114 46.114a2.667 2.667 0 0 0 3.772 3.772l16-16a2.667 2.667 0 0 0 0-3.772l-16-16a2.667 2.667 0 0 0-3.772 3.772L36.23 32 22.114 46.114z",fillRule:"evenodd"})))},fL;function V6(){return V6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},V6.apply(this,arguments)}var e2e=function(t){return W.createElement("svg",V6({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},t),fL||(fL=W.createElement("g",{fillRule:"evenodd"},W.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),W.createElement("circle",{fill:"#FFF",cx:64,cy:24,r:12}),W.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),W.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},_L;function z6(){return z6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},z6.apply(this,arguments)}var n2e=function(t){return W.createElement("svg",z6({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},t),_L||(_L=W.createElement("g",{fillRule:"evenodd"},W.createElement("rect",{x:4,y:4,width:80,height:40,rx:20}),W.createElement("circle",{fill:"#FFF",cx:24,cy:24,r:12}),W.createElement("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),W.createElement("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}))))},mL;function G6(){return G6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},G6.apply(this,arguments)}var aB=function(t){return W.createElement("svg",G6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),mL||(mL=W.createElement("path",{d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.667 2.667 0 0 1 50.667 56H13.333a2.667 2.667 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 1 1 0 10.667A5.333 5.333 0 0 1 32 32z",fillRule:"evenodd"})))},vL;function q6(){return q6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},q6.apply(this,arguments)}var sB=function(t){return W.createElement("svg",q6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),vL||(vL=W.createElement("path",{d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333a8 8 0 0 0-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.315.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.334 13.334 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 0 1 54 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 0 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167zM24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"})))},gL;function j6(){return j6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},j6.apply(this,arguments)}var t2e=function(t){return W.createElement("svg",j6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),gL||(gL=W.createElement("path",{d:"m41.636 3.226.251.222a2.667 2.667 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.667 2.667 0 0 1 1.952 2.938l-.067.328a2.667 2.667 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 0 1 2.937 1.952l.067.328a2.667 2.667 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.667 2.667 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.667 2.667 0 0 1-3.52.222l-.251-.222a2.667 2.667 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.667 2.667 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.667 2.667 0 0 1-1.953-2.937l.067-.328a2.667 2.667 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.667 2.667 0 0 1-2.937-1.952l-.067-.328a2.667 2.667 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.667 2.667 0 0 1 3.52-3.993l.251.222 6.114 6.112 6.115-6.112a2.667 2.667 0 0 1 3.52-.222z",fillRule:"evenodd"})))},r2e=`.event-detail-view {
  position: relative;
  max-width: 400px;
  background: #fff;
}
.event-detail-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .header .title {
  flex: 1;
  font-size: 18px;
}
.event-detail-view .header .close:hover {
  cursor: pointer;
}
.event-detail-view .event-summary {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-summary .profile {
  width: 80px;
  height: 80px;
  background: #eee;
  border-radius: 60px;
  margin-bottom: 8px;
}
.event-detail-view .event-summary .title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}
.event-detail-view .event-menu {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-menu .icon {
  margin-right: 16px;
}
.event-detail-view .event-menu .label {
  flex: 1;
}
.event-detail-view .event-menu .count {
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.event-detail-view .event-menu .guide {
  flex-basis: 100%;
  color: #999;
  line-height: 1.43;
  padding: 8px 4px 10px 4px;
}
.event-detail-view .event-info {
  padding: 16px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-info .label {
  font-size: 12px;
  font-weight: bold;
  color: #999;
  margin-bottom: 8px;
}
.event-detail-view .event-info .value {
  font-size: 14px;
  color: #333;
  line-height: 1.43;
}
.event-detail-view .button:hover {
  cursor: pointer;
  background: #eee;
}`;ka(r2e);function i2e(n){var t=n.liveEvent,e=n.onHostsClick,r=e===void 0?function(){}:e,a=n.onParticipantsClick,l=a===void 0?function(){}:a,d=n.onClose,h=d===void 0?function(){}:d,f=t.openChannel,_=W.useState(""),g=_[0],E=_[1],w=W.useState(f.isFrozen),x=w[0],T=w[1],N=W.useState(t.userIdsForHost.length),P=N[0],k=N[1],C=W.useState("".concat(f.participantCount)),A=C[0],U=C[1];return W.useEffect(function(){E(f.name||"Untitled")},[f.name]),W.useEffect(function(){k(f.operators.length)},[t.userIdsForHost.length]),W.useEffect(function(){f.participantCount>1e3?U("".concat(Math.floor(f.participantCount/1e3),"k")):U("".concat(f.participantCount))},[f.participantCount]),W.useEffect(function(){T(t.openChannel.isFrozen)},[f.isFrozen]),L.createElement("div",{className:"event-detail-view"},L.createElement("div",{className:"header"},L.createElement("div",{className:"title"},"Live event information"),L.createElement("div",{className:"close",onClick:function(){return h()}},L.createElement(zl,{width:22,height:22,viewBox:"0 0 60 60"}))),L.createElement("div",{className:"event-summary"},L.createElement("div",{className:"profile"},t.host?L.createElement("img",{src:t.host.profileURL}):L.createElement(_p,{width:80,height:80,viewBox:"-4 -4 20 20",fill:"#fff"})),L.createElement("div",{className:"title"},g)),L.createElement("div",{className:"event-menu button",onClick:function(){return r()}},L.createElement(aB,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),L.createElement("div",{className:"label"},"Hosts"),L.createElement("div",{className:"count"},P),L.createElement(pL,{width:24,height:24,viewBox:"-10 -10 80 80"})),L.createElement("div",{className:"event-menu button",onClick:function(){return l()}},L.createElement(sB,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),L.createElement("div",{className:"label"},"Participants"),L.createElement("div",{className:"count"},A),L.createElement(pL,{width:24,height:24,viewBox:"-10 -10 80 80"})),L.createElement("div",{className:"event-menu"},L.createElement(t2e,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),L.createElement("div",{className:"label"},"Freeze channel"),L.createElement("div",{className:"toggle"},x?L.createElement(e2e,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#C2A9FA"}):L.createElement(n2e,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#777"})),L.createElement("div",{className:"guide"},"Freezing a channel lets only operators to communicate in the channel.")),L.createElement("div",{className:"event-info"},L.createElement("div",{className:"label"},"Live event ID"),L.createElement("div",{className:"value"},t.liveEventId)),L.createElement("div",{className:"event-info"},L.createElement("div",{className:"label"},"Created on"),L.createElement("div",{className:"value"},O7(t.createdAt,"PPp"))),L.createElement("div",{className:"event-info"},L.createElement("div",{className:"label"},"Created by"),L.createElement("div",{className:"value"},t.createdBy)),L.createElement("div",{className:"event-info"},L.createElement("div",{className:"label"},"Started on"),L.createElement("div",{className:"value"},t.startedAt?O7(t.startedAt,"PPp"):"")),L.createElement("div",{className:"event-info"},L.createElement("div",{className:"label"},"Started by"),L.createElement("div",{className:"value"},t.startedBy?t.startedBy:"")))}var a2e=`.user-list-view {
  position: relative;
  display: flex;
  flex-direction: column;
  max-width: 400px;
  max-height: 100vh;
  background: #fff;
  overflow: hidden;
}
.user-list-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.user-list-view .header .title {
  flex: 1;
  font-size: 18px;
}
.user-list-view .header .title .count {
  display: inline-block;
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.user-list-view .header .close:hover {
  cursor: pointer;
}
.user-list-view .list {
  flex: 1;
  padding: 8px 0;
  overflow-y: auto;
}

.user-view {
  display: flex;
  flex-direction: row;
  align-items: center;
  background: #fff;
  padding: 8px 16px;
}
.user-view .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  background: #eee;
  margin-right: 16px;
}
.user-view .nickname {
  font-size: 14px;
  color: #333;
}`;ka(a2e);function s2e(n){var t=n.nickname,e=t===void 0?"":t,r=n.profileUrl,a=r===void 0?"":r,l=a?L.createElement("img",{src:a,className:"profile-image"}):L.createElement(_p,{fill:"#fff",className:"profile-image"});return L.createElement("div",{className:"user-view"},l,L.createElement("div",{className:"nickname"},e))}function bL(n){var t=n.title,e=n.count,r=n.query,a=n.onClose,l=a===void 0?function(){}:a,d=W.useRef(null),h=W.useState([]),f=h[0],_=h[1],g=W.useState(!0),E=g[0],w=g[1];W.useEffect(function(){r().then(function(T){var N=T.result,P=T.hasNext;_(bs([],N,!0)),w(P)})},[]);var x=function(){if(d.current){var T=d.current,N=T.scrollTop,P=T.scrollHeight,k=T.clientHeight;N+k===P&&E&&r().then(function(C){var A=C.result,U=C.hasNext;_(bs(bs([],f,!0),A,!0)),w(U)})}};return L.createElement("div",{className:"user-list-view"},L.createElement("div",{className:"header"},L.createElement("div",{className:"title"},t," ",L.createElement("span",{className:"count"},e)),L.createElement("div",{className:"close",onClick:function(){return l()}},L.createElement(zl,{width:22,height:22,viewBox:"0 0 60 60"}))),L.createElement("div",{className:"list",ref:d,onScroll:x},f.map(function(T){return L.createElement(s2e,{key:T.userId,userId:T.userId,nickname:T.nickname,profileUrl:T.profileUrl})})))}var o2e=`.sendbirdlive-right__wrapper {
  width: 400px;
  height: 100vh;
}`;ka(o2e);var zo;(function(n){n[n.CHAT=0]="CHAT",n[n.EVENT_INFO=1]="EVENT_INFO",n[n.HOST_LIST=2]="HOST_LIST",n[n.PARTICIPANT_LIST=3]="PARTICIPANT_LIST"})(zo||(zo={}));function oB(n){var t=this,e=n.liveEvent,r=n.initialViewStack,a=r===void 0?[zo.CHAT]:r,l=e.openChannel,d=Xs(),h=oC.getSdk(d),f=W.useState(bs([],a,!0)),_=f[0],g=f[1],E=W.useState(a[a.length-1]),w=E[0],x=E[1],T=function(P){g(bs(bs([],_,!0),[P],!1))},N=function(){_.length>1&&g(_.slice(0,-1))};return W.useEffect(function(){e.openChannel,g(bs([],a,!0))},[e]),W.useEffect(function(){x(_[_.length-1])},[_]),L.createElement("div",{className:"sendbirdlive-right__wrapper"},w===zo.CHAT?L.createElement(lye,{channelUrl:e.liveEventId,useMessageGrouping:!0,onChatHeaderActionClick:function(){var P;((P=e.host)===null||P===void 0?void 0:P.userId)===(h==null?void 0:h.currentUser.userId)?T(zo.EVENT_INFO):T(zo.PARTICIPANT_LIST)}}):null,w===zo.EVENT_INFO?L.createElement(i2e,{liveEvent:e,onHostsClick:function(){return T(zo.HOST_LIST)},onParticipantsClick:function(){return T(zo.PARTICIPANT_LIST)},onClose:function(){return N()}}):null,w===zo.HOST_LIST?L.createElement(bL,{title:"Hosts",count:l.operators.length,query:function(){return Ta(t,void 0,void 0,function(){return Ca(this,function(P){return[2,{result:l.operators,hasNext:!1}]})})},onClose:function(){return N()}}):null,w===zo.PARTICIPANT_LIST?L.createElement(bL,{title:"Participants",count:l.participantCount,query:function(){return Ta(t,void 0,void 0,function(){var P,k,C,A;return Ca(this,function(U){switch(U.label){case 0:return P=l.createParticipantListQuery({}),P?[4,P.next()]:[3,2];case 1:return C=U.sent(),[3,3];case 2:C=[],U.label=3;case 3:return k=C,A=P==null?void 0:P.hasNext,[2,{result:k,hasNext:A}]}})})},onClose:function(){return N()}}):null)}var l2e=`.settings {
  width: 480px;
}
.settings .title {
  font-size: 20px;
  font-weight: 700;
}
.settings .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.settings .settings__select-container {
  margin-top: 20px;
}
.settings .settings__select-container .settings__select-label {
  font-size: 12px;
  line-height: 1;
}
.settings .settings__select-container .settings__select-button {
  width: 100%;
  height: 40px;
  margin-top: 8px;
  padding: 10px 12px 10px 16px;
  border-radius: 4px;
  border: solid 1px rgba(255, 255, 255, 0.38);
}`;ka(l2e);function c2e(n){var t=n.liveEvent,e=n.onClose,r=W.useState(),a=r[0],l=r[1],d=W.useState(),h=d[0],f=d[1],_=W.useState([]),g=_[0],E=_[1],w=W.useState([]),x=w[0],T=w[1];return W.useEffect(function(){var N=zr.exports.SendbirdLive.useMedia({audio:!0,video:!0});return E(zr.exports.SendbirdLive.getAvailableAudioInputDevices()),T(zr.exports.SendbirdLive.getAvailableVideoInputDevices()),l(zr.exports.SendbirdLive.getCurrentAudioInputDevice()),f(zr.exports.SendbirdLive.getCurrentVideoInputDevice()),zr.exports.SendbirdLive.setAudioInputDeviceChanged(function(P,k){console.log("audio input updated",k),E(k),P.deviceId!==(a==null?void 0:a.deviceId)&&l(P)}),zr.exports.SendbirdLive.setVideoInputDeviceChanged(function(P,k){console.log("video input updated",k),T(k),P.deviceId!==(h==null?void 0:h.deviceId)&&f(P)}),zr.exports.SendbirdLive.updateMediaDevices({audio:!0,video:!0}),function(){N&&N.dispose()}}),L.createElement("div",{className:"settings"},L.createElement("div",{className:"close",onClick:function(){return e()}},L.createElement(zl,{width:22,height:22,viewBox:"0 0 60 60"})),L.createElement("div",{className:"title"},"Settings"),L.createElement("div",{className:"settings__select-container"},L.createElement("div",{className:"settings__select-label"},"Camera"),L.createElement("select",{id:"camera-select",defaultValue:h==null?void 0:h.deviceId,className:"settings__select-button",onChange:function(N){var P=N.target.value,k=x.find(function(C){return C.deviceId===P});k&&t.selectVideoInput(k),f(k)}},x.map(function(N){return L.createElement("option",{key:N.deviceId,value:N.deviceId},N.label)}))),L.createElement("div",{className:"settings__select-container"},L.createElement("div",{className:"settings__select-label"},"Microphone"),L.createElement("select",{id:"microphone-select",value:a==null?void 0:a.deviceId,className:"settings__select-button",onChange:function(N){var P=N.target.value,k=g.find(function(C){return C.deviceId===P});k&&t.selectAudioInput(k),l(k)}},g.map(function(N){return L.createElement("option",{key:N.deviceId,value:N.deviceId},N.label)}))))}var d2e=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function u2e(n){var t=this,e=n.liveEvent;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount,n.eventEndViewDisplayTime,n.allowExitWithoutEnding,n.showEventSummaryView;var r=n.onClose,a=W.useContext(Bl).stringSet,l=W.useRef(null),d=W.useState(e.title),h=d[0],f=d[1],_=W.useState(e.coverUrl),g=_[0],E=_[1],w=W.useState(e.state),x=w[0],T=w[1],N=W.useState(e.participantCount||0),P=N[0],k=N[1],C=Cd("","dark-background"),A=C[0],U=C[1],M=C[2],R=Cd(""),I=R[0],D=R[1],q=R[2],z=function(fe){switch(fe){case"created":return a.EVENT_STATUS_CREATED;case"ready":return a.EVENT_STATUS_READY;case"ongoing":return a.EVENT_STATUS_ONGOING;case"ended":return a.EVENT_STATUS_ENDED}};W.useEffect(function(){var fe=function(){return Ta(t,void 0,void 0,function(){return Ca(this,function(B){switch(B.label){case 0:return e.state!==zr.exports.LiveEventState.CREATED?[3,2]:[4,e.setEventReady()];case 1:B.sent(),B.label=2;case 2:return e.state===zr.exports.LiveEventState.ONGOING&&!e.isHostStreaming?[4,e.startStreaming({turnVideoOn:!0,turnAudioOn:!0})]:[3,4];case 3:B.sent(),e.setVideoViewForLiveEvent(l.current,e.host.hostId),B.label=4;case 4:return[2]}})})};fe()},[e]),W.useEffect(function(){var fe=[e.on("participantEntered",function(B,Y){k(e.participantCount)}),e.on("participantExited",function(){k(e.participantCount)}),e.on("liveEventUpdated",function(){f(e.title),E(e.coverUrl)}),e.on("disconnected",function(){r(e)})];return function(){fe.map(function(B){return B()})}},[e]);function ne(fe){var B=Math.floor(fe/1e3),Y=Math.floor(B/60);return Y=Y%60,"".concat(Y<0?0:Y)}return L.createElement("div",{className:"host-view"},L.createElement("div",{className:"host-view__main"},L.createElement("div",{className:"video-wrapper"},L.createElement("video",{className:"host-view__video",ref:l,playsInline:!0,autoPlay:!0,muted:!0,controls:d2e()})),L.createElement("div",{className:"host-view__info"},L.createElement("div",{className:"host-view__profile"},e.coverUrl?L.createElement("img",{src:g,alt:"cover image",className:"host-view__profile__cover-image"}):L.createElement(_p,{viewBox:"-4 -4 20 20",width:56,height:56})),L.createElement("div",{className:"host-view__info__wrapper"},L.createElement("div",{className:"host-view__title__wrapper"},L.createElement("div",{className:"event-state--".concat(x)},z(x)),L.createElement("div",{className:"host-view__title"},h||a.CREATE_EVENT_DEFAULT_TITLE)),L.createElement("div",{className:"host-view__detail"},P??0," watching now ",x===zr.exports.LiveEventState.ONGOING?" Started ".concat(ne(e.duration)," mins ago"):""),L.createElement("div",{className:"host-view__host-name"},e.host?e.host.nickname:"No Host"))),L.createElement(Xye,{liveEvent:e,onStart:function(fe){fe.setVideoViewForLiveEvent(l.current,fe.host.hostId),T(x)},onEnd:function(){U()},onSettings:function(){D()}}),L.createElement(A,null,L.createElement(Jye,{onExit:function(fe){return Ta(t,void 0,void 0,function(){return Ca(this,function(B){switch(B.label){case 0:return fe?[4,e.endEvent()]:[3,2];case 1:return B.sent(),[3,4];case 2:return[4,e.exitAsHost()];case 3:B.sent(),B.label=4;case 4:return M(),r(e),[2]}})})},onClose:function(){M()}})),L.createElement(I,null,L.createElement(c2e,{liveEvent:e,onClose:function(){q()}}))),L.createElement(oB,{liveEvent:e}))}var h2e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbirdlive-app__wrapper {
  display: flex;
}

.sendbirdlive-app__no-event {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  width: 100%;
}
.sendbird-theme--light .sendbirdlive-app__no-event {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbirdlive-app__no-event {
  background-color: var(--sendbird-dark-background-500);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__title {
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__description {
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  padding: 6px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  cursor: pointer;
}
.sendbird-theme--light .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-dark-primary-200);
}`;ka(h2e);var p2e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.participant-view {
  display: flex;
  flex-grow: 1;
}
.participant-view .participant-view__main {
  width: 100%;
  background-color: var(--sendbird-light-background-100);
}
.participant-view .participant-view__main .toast-container {
  position: absolute;
  top: 10px;
  z-index: 5000;
}
.participant-view .participant-view__main .toast-container .toast {
  width: 500px;
  margin: auto;
  padding: 10px 0 10px 0;
  background-color: var(--sendbird-dark-information-100);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  text-align: center;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.participant-view .participant-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.participant-view .participant-view__main .video-wrapper .participant-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.participant-view .participant-view__main .participant-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-light-background-50);
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile .participant-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper {
  display: flex;
  align-items: center;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper .participant-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__host-name {
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.88);
}`;ka(p2e);var f2e=function(n){var t=n.message;return L.createElement("div",{className:"toast-container"},t&&L.createElement("div",{className:"toast"},t))},_2e=function(){var n=W.useState(void 0),t=n[0],e=n[1],r=W.useState(void 0),a=r[0],l=r[1],d=function(_,g){g===void 0&&(g=1e6),e(_);var E=setTimeout(function(){h()},g);l(E)},h=function(){clearTimeout(a),l(void 0),e(void 0)},f=function(){return L.createElement(f2e,{message:t})};return[f,d,h]},m2e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.ended-modal {
  width: 480px;
  padding: 18px 24px;
}
.ended-modal .header {
  display: flex;
  align-items: center;
}
.ended-modal .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.ended-modal .header .close:hover {
  cursor: pointer;
}
.ended-modal .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.ended-modal .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.ended-modal .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.ended-modal .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .ended-modal .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .ended-modal .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;ka(m2e);function v2e(n){var t=n.onClose;return L.createElement("div",{className:"ended-modal"},L.createElement("div",{className:"header"},L.createElement("div",{className:"title"},"Host has ended this live event."),L.createElement("div",{className:"close",onClick:t},L.createElement(zl,{width:22,height:22,viewBox:"0 0 60 60",fill:"#000"}))),L.createElement("div",{className:"buttons"},L.createElement("div",{className:"major-button",onClick:t},"End live")))}var g2e=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function b2e(n){var t=this,e=n.liveEvent,r=n.onClose;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount;var a=n.eventEndViewDisplayTime,l=W.useRef(null),d=_2e(),h=d[0],f=d[1],_=W.useState(e.host),g=_[0],E=_[1],w=W.useState(e.title),x=w[0],T=w[1],N=W.useState(e.coverUrl),P=N[0],k=N[1],C=W.useState(e.state),A=C[0],U=C[1],M=W.useState(e.participantCount||0),R=M[0],I=M[1],D=Cd("",""),q=D[0],z=D[1],ne=D[2],fe=W.useState(),B=fe[0],Y=fe[1],ue=W.useContext(Bl).stringSet,Q=function(Me){switch(Me){case"created":return ue.EVENT_STATUS_CREATED;case"ready":return ue.EVENT_STATUS_READY;case"ongoing":return ue.EVENT_STATUS_ONGOING;case"ended":return ue.EVENT_STATUS_ENDED}},_e=function(){return Ta(t,void 0,void 0,function(){return Ca(this,function(Me){return g&&e.setVideoViewForLiveEvent(l.current,g.hostId),[2]})})},le=function(){z();var Me=setTimeout(function(){se()},a??3e3);Y(Me)},se=function(){return Ta(t,void 0,void 0,function(){return Ca(this,function(Me){return clearTimeout(B),Y(void 0),ne(),r(e),[2]})})};W.useEffect(function(){_e()},[g,A]),W.useEffect(function(){e.state===zr.exports.LiveEventState.CREATED&&f("Live event will begin soon.");var Me=[e.on("liveEventStarted",function(){U(e.state)}),e.on("liveEventEnded",function(){U(e.state),le()}),e.on("hostEntered",function(){f("Host Entered"),E(e.host)}),e.on("hostConnected",function(de,he){f("Host Connected"),E(de.host)}),e.on("hostDisconnected",function(){f("Host Disconnected"),E(e.host)}),e.on("hostExited",function(){f("Host Exited"),E(e.host)}),e.on("hostMutedAudio",function(){f("Host is muted"),E(e.host)}),e.on("hostUnmutedAudio",function(){f("Host is unmuted"),E(e.host)}),e.on("participantEntered",function(){I(e.participantCount)}),e.on("participantExited",function(){I(e.participantCount)}),e.on("liveEventUpdated",function(){T(e.title),k(e.coverUrl)}),e.on("disconnected",function(){r(e)})];return function(){Me.map(function(de){return de()})}},[e]);function me(Me){var de=Math.floor(Me/1e3),he=Math.floor(de/60);return he=he%60,"".concat(he<0?0:he)}return L.createElement("div",{className:"participant-view"},L.createElement("div",{className:"participant-view__main"},L.createElement(h,null),L.createElement("div",{className:"video-wrapper"},L.createElement("video",{className:"participant-view__video",ref:l,playsInline:!0,autoPlay:!0,controls:g2e()})),L.createElement("div",{className:"participant-view__info"},L.createElement("div",{className:"participant-view__profile"},P?L.createElement("img",{src:P,alt:"cover image",className:"participant-view__profile__cover-image"}):L.createElement(_p,{viewBox:"-4 -4 20 20",width:56,height:56})),L.createElement("div",{className:"participant-view__info__wrapper"},L.createElement("div",{className:"participant-view__title__wrapper"},L.createElement("div",{className:"event-state--".concat(A)},Q(A)),L.createElement("div",{className:"participant-view__title"},x||ue.CREATE_EVENT_DEFAULT_TITLE)),L.createElement("div",{className:"participant-view__detail"},R??0," watching now ",A===zr.exports.LiveEventState.ONGOING?" Started ".concat(me(e.duration)," mins ago"):""),L.createElement("div",{className:"participant-view__host-name"},g?g.nickname||" ":"No Host")))),L.createElement(oB,{liveEvent:e}),L.createElement(q,null,L.createElement(v2e,{onClose:se})))}var y2e=`.enter-view {
  width: 480px;
}
.enter-view .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 26px;
}
.enter-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.enter-view .enter-view__item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  border-radius: 4px;
  border: solid 1px rgba(0, 0, 0, 0.12);
  padding: 22px 24px 22px 22px;
  cursor: pointer;
}
.enter-view .enter-view__item .enter-view__item__icon {
  width: 28px;
  height: 28px;
  margin-right: 22px;
}
.enter-view .enter-view__item .enter-view__item__text {
  font-size: 16px;
  line-height: 1.38;
  color: rgba(0, 0, 0, 0.88);
}`;ka(y2e);function E2e(n){var t=this,e=n.liveEventId,r=n.onClose,a=W.useContext(Bl).stringSet,l=function(){return Ta(t,void 0,void 0,function(){var h;return Ca(this,function(f){switch(f.label){case 0:return[4,zr.exports.SendbirdLive.getLiveEvent(e)];case 1:return h=f.sent(),[4,h.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return f.sent(),r(h,!0),[2]}})})},d=function(){return Ta(t,void 0,void 0,function(){var h;return Ca(this,function(f){switch(f.label){case 0:return[4,zr.exports.SendbirdLive.getLiveEvent(e)];case 1:return h=f.sent(),[4,h.enter()];case 2:return f.sent(),r(h,!1),[2]}})})};return L.createElement("div",{className:"enter-view"},L.createElement("div",{className:"close",onClick:function(){return r()}},L.createElement(zl,{width:22,height:22,viewBox:"0 0 60 60"})),L.createElement("div",{className:"title"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE),L.createElement("div",{className:"enter-view__item",onClick:l},L.createElement("div",{className:"enter-view__item__icon"},L.createElement(aB,{viewBox:"0 0 64 64",width:28,height:28})),L.createElement("div",{className:"enter-view__item__text"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST)),L.createElement("div",{className:"enter-view__item",onClick:d},L.createElement("div",{className:"enter-view__item__icon"},L.createElement(sB,{viewBox:"0 0 64 64",width:28,height:28})),L.createElement("div",{className:"enter-view__item__text"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT)))}var w2e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.enter-error-view {
  width: 480px;
}
.enter-error-view .header {
  display: flex;
  align-items: center;
}
.enter-error-view .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: bold;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.enter-error-view .header .close:hover {
  cursor: pointer;
}
.enter-error-view .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.enter-error-view .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.enter-error-view .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.enter-error-view .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
  background-color: #742ddd;
}`;ka(w2e);function x2e(n){var t=n.liveEvent,e=n.onClose,r=W.useContext(Bl).stringSet,a=W.useMemo(function(){return t&&t.state===zr.exports.LiveEventState.CREATED?r.LIVE_EVENT_ENTER_ALERT_DESCRIPTION:(console.log(t),r.UNKNOWN_ERROR_ALERT_DESCRIPTION)},[t]);return L.createElement("div",{className:"enter-error-view"},L.createElement("div",{className:"header"},L.createElement("div",{className:"title"},a),L.createElement("div",{className:"close",onClick:function(){return e()}},L.createElement(zl,{width:22,height:22,viewBox:"0 0 60 60"}))),L.createElement("div",{className:"buttons"},L.createElement("div",{className:"major-button",onClick:function(){return e()}},"OK")))}function S2e(n){var t=this,e=n.userId,r=n.appId,a=n.nickname,l=n.accessToken,d=n.customApiHost,h=n.customWebSocketHost,f=n.theme,_=n.colorSet,g=n.stringSet,E=n.customize,w=W.useState(!1),x=w[0],T=w[1],N=W.useState(""),P=N[0],k=N[1],C=W.useState(),A=C[0],U=C[1],M=Cd(""),R=M[0],I=M[1],D=M[2],q=Cd(""),z=q[0],ne=q[1],fe=q[2],B=Cd(""),Y=B[0],ue=B[1],Q=B[2],_e=Td(Td({},E==null?void 0:E.liveEventList),{onClickCreate:function(){I()},onClickElem:function(se){return Ta(t,void 0,void 0,function(){var me;return Ca(this,function(Me){switch(Me.label){case 0:return Me.trys.push([0,8,,9]),[4,zr.exports.SendbirdLive.getLiveEvent(se.liveEventId)];case 1:return me=Me.sent(),me.state===zr.exports.LiveEventState.ENDED?(ue(),[2]):me.isHost&&!me.host?me.state!==zr.exports.LiveEventState.CREATED?[3,3]:[4,me.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})]:[3,5];case 2:return Me.sent(),T(!0),U(me),[3,4];case 3:k(se.liveEventId),ne(),Me.label=4;case 4:return[3,7];case 5:return[4,me.enter()];case 6:Me.sent(),U(me),Me.label=7;case 7:return[3,9];case 8:return Me.sent(),ue(),[3,9];case 9:return[2]}})})}}),le=function(se){var me=se.onClose;return A?x?L.createElement(u2e,{liveEvent:A,onClose:me}):L.createElement(b2e,{liveEvent:A,onClose:me}):L.createElement("div",{className:"sendbirdlive-app__no-event"},L.createElement("div",{className:"sendbirdlive-app__no-event__title"},"No live events selected"),L.createElement("div",{className:"sendbirdlive-app__no-event__description"},"Select a live event from the list or create a live event."),L.createElement("div",{className:"sendbirdlive-app__no-event__button",onClick:I},"Create"))};return L.createElement(Xme,{userId:e,appId:r,nickname:a,accessToken:l,customApiHost:d,customWebSocketHost:h,theme:f,colorSet:_,stringSet:g},L.createElement("div",{className:"sendbirdlive-app__wrapper"},L.createElement("div",{className:"sendbirdlive-app__liveeventlist__wrapper"},!x&&L.createElement(tve,Td({},_e))),L.createElement(Y,null,L.createElement(x2e,{liveEvent:A,onClose:Q})),L.createElement(z,null,L.createElement(E2e,{liveEventId:P,onClose:function(se,me){U(se),se&&me&&T(!0),fe()}})),L.createElement(R,null,L.createElement(Mye,{onClose:function(se){U(se),se!=null&&se.isHost&&T(!0),D()}})),L.createElement(le,{onClose:function(){T(!1),U(void 0)}})))}var yL={},EL;EL=function(){function n(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function t(w,x){for(var T=0;T<x.length;T++){var N=x[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,N.key,N)}}function e(w,x,T){return x&&t(w.prototype,x),T&&t(w,T),Object.defineProperty(w,"prototype",{writable:!1}),w}function r(w){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},r(w)}function a(w,x){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T},a(w,x)}function l(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function d(w){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,N=r(w);if(x){var P=r(this).constructor;T=Reflect.construct(N,arguments,P)}else T=N.apply(this,arguments);return function(k,C){if(C&&(typeof C=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(k)}(this,T)}}function h(){return h=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(w,x,T){var N=function(k,C){for(;!Object.prototype.hasOwnProperty.call(k,C)&&(k=r(k))!==null;);return k}(w,x);if(N){var P=Object.getOwnPropertyDescriptor(N,x);return P.get?P.get.call(arguments.length<3?w:T):P.value}},h.apply(this,arguments)}var f=function(){function w(){n(this,w),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(w,[{key:"addEventListener",value:function(x,T,N){x in this.listeners||(this.listeners[x]=[]),this.listeners[x].push({callback:T,options:N})}},{key:"removeEventListener",value:function(x,T){if(x in this.listeners){for(var N=this.listeners[x],P=0,k=N.length;P<k;P++)if(N[P].callback===T)return void N.splice(P,1)}}},{key:"dispatchEvent",value:function(x){if(x.type in this.listeners){for(var T=this.listeners[x.type].slice(),N=0,P=T.length;N<P;N++){var k=T[N];try{k.callback.call(this,x)}catch(C){Promise.resolve().then(function(){throw C})}k.options&&k.options.once&&this.removeEventListener(x.type,k.callback)}return!x.defaultPrevented}}}]),w}(),_=function(w){(function(N,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(P&&P.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),P&&a(N,P)})(T,w);var x=d(T);function T(){var N;return n(this,T),(N=x.call(this)).listeners||f.call(l(N)),Object.defineProperty(l(N),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(N),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(l(N),"reason",{value:void 0,writable:!0,configurable:!0}),N}return e(T,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(N){N.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,N)),h(r(T.prototype),"dispatchEvent",this).call(this,N)}}]),T}(f),g=function(){function w(){n(this,w),Object.defineProperty(this,"signal",{value:new _,writable:!0,configurable:!0})}return e(w,[{key:"abort",value:function(x){var T;try{T=new Event("abort")}catch{typeof document<"u"?document.createEvent?(T=document.createEvent("Event")).initEvent("abort",!1,!1):(T=document.createEventObject()).type="abort":T={type:"abort",bubbles:!1,cancelable:!1}}var N=x;if(N===void 0)if(typeof document>"u")(N=new Error("This operation was aborted")).name="AbortError";else try{N=new DOMException("signal is aborted without reason")}catch{(N=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=N,this.signal.dispatchEvent(T)}},{key:"toString",value:function(){return"[object AbortController]"}}]),w}();function E(w){return w.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof w.Request=="function"&&!w.Request.prototype.hasOwnProperty("signal")||!w.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(g.prototype[Symbol.toStringTag]="AbortController",_.prototype[Symbol.toStringTag]="AbortSignal"),function(w){if(E(w))if(w.fetch){var x=function(P){typeof P=="function"&&(P={fetch:P});var k=P,C=k.fetch,A=k.Request,U=A===void 0?C.Request:A,M=k.AbortController,R=k.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,I=R!==void 0&&R;if(!E({fetch:C,Request:U,AbortController:M,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:I}))return{fetch:C,Request:D};var D=U;(D&&!D.prototype.hasOwnProperty("signal")||I)&&((D=function(z,ne){var fe;ne&&ne.signal&&(fe=ne.signal,delete ne.signal);var B=new U(z,ne);return fe&&Object.defineProperty(B,"signal",{writable:!1,enumerable:!1,configurable:!0,value:fe}),B}).prototype=U.prototype);var q=C;return{fetch:function(z,ne){var fe=D&&D.prototype.isPrototypeOf(z)?z.signal:ne?ne.signal:void 0;if(fe){var B;try{B=new DOMException("Aborted","AbortError")}catch{(B=new Error("Aborted")).name="AbortError"}if(fe.aborted)return Promise.reject(B);var Y=new Promise(function(ue,Q){fe.addEventListener("abort",function(){return Q(B)},{once:!0})});return ne&&ne.signal&&delete ne.signal,Promise.race([Y,q(z,ne)])}return q(z,ne)},Request:D}}(w),T=x.fetch,N=x.Request;w.fetch=T,w.Request=N,Object.defineProperty(w,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:g}),Object.defineProperty(w,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:_})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}(typeof self<"u"?self:dd)},EL();var T2e=QP({__proto__:null,default:yL},[yL]),wL={},Ea=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof dd<"u"&&dd||{},xL="URLSearchParams"in Ea,lB="Symbol"in Ea&&"iterator"in Symbol,e_="FileReader"in Ea&&"Blob"in Ea&&function(){try{return new Blob,!0}catch{return!1}}(),SL="FormData"in Ea,C1="ArrayBuffer"in Ea;if(C1)var C2e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],k2e=ArrayBuffer.isView||function(n){return n&&C2e.indexOf(Object.prototype.toString.call(n))>-1};function g0(n){if(typeof n!="string"&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(n)||n==="")throw new TypeError('Invalid character in header field name: "'+n+'"');return n.toLowerCase()}function $6(n){return typeof n!="string"&&(n=String(n)),n}function Nx(n){var t={next:function(){var e=n.shift();return{done:e===void 0,value:e}}};return lB&&(t[Symbol.iterator]=function(){return t}),t}function Wi(n){this.map={},n instanceof Wi?n.forEach(function(t,e){this.append(e,t)},this):Array.isArray(n)?n.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(t){this.append(t,n[t])},this)}function Ax(n){if(!n._noBody)return n.bodyUsed?Promise.reject(new TypeError("Already read")):void(n.bodyUsed=!0)}function cB(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function I2e(n){var t=new FileReader,e=cB(t);return t.readAsArrayBuffer(n),e}function TL(n){if(n.slice)return n.slice(0);var t=new Uint8Array(n.byteLength);return t.set(new Uint8Array(n)),t.buffer}function CL(){return this.bodyUsed=!1,this._initBody=function(n){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=n,n?typeof n=="string"?this._bodyText=n:e_&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:SL&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:xL&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():C1&&e_&&(t=n)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=TL(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):C1&&(ArrayBuffer.prototype.isPrototypeOf(n)||k2e(n))?this._bodyArrayBuffer=TL(n):this._bodyText=n=Object.prototype.toString.call(n):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof n=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):xL&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e_&&(this.blob=function(){var n=Ax(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var n=Ax(this);return n||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(e_)return this.blob().then(I2e);throw new Error("could not read as ArrayBuffer")},this.text=function(){var n,t,e,r,a,l=Ax(this);if(l)return l;if(this._bodyBlob)return n=this._bodyBlob,t=new FileReader,e=cB(t),r=/charset=([A-Za-z0-9_-]+)/.exec(n.type),a=r?r[1]:"utf-8",t.readAsText(n,a),e;if(this._bodyArrayBuffer)return Promise.resolve(function(d){for(var h=new Uint8Array(d),f=new Array(h.length),_=0;_<h.length;_++)f[_]=String.fromCharCode(h[_]);return f.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},SL&&(this.formData=function(){return this.text().then(A2e)}),this.json=function(){return this.text().then(JSON.parse)},this}Wi.prototype.append=function(n,t){n=g0(n),t=$6(t);var e=this.map[n];this.map[n]=e?e+", "+t:t},Wi.prototype.delete=function(n){delete this.map[g0(n)]},Wi.prototype.get=function(n){return n=g0(n),this.has(n)?this.map[n]:null},Wi.prototype.has=function(n){return this.map.hasOwnProperty(g0(n))},Wi.prototype.set=function(n,t){this.map[g0(n)]=$6(t)},Wi.prototype.forEach=function(n,t){for(var e in this.map)this.map.hasOwnProperty(e)&&n.call(t,this.map[e],e,this)},Wi.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),Nx(n)},Wi.prototype.values=function(){var n=[];return this.forEach(function(t){n.push(t)}),Nx(n)},Wi.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),Nx(n)},lB&&(Wi.prototype[Symbol.iterator]=Wi.prototype.entries);var N2e=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function th(n,t){if(!(this instanceof th))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var e,r,a=(t=t||{}).body;if(n instanceof th){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,t.headers||(this.headers=new Wi(n.headers)),this.method=n.method,this.mode=n.mode,this.signal=n.signal,a||n._bodyInit==null||(a=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Wi(t.headers)),this.method=(e=t.method||this.method||"GET",r=e.toUpperCase(),N2e.indexOf(r)>-1?r:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in Ea)return new AbortController().signal}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&a)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),!(this.method!=="GET"&&this.method!=="HEAD"||t.cache!=="no-store"&&t.cache!=="no-cache")){var l=/([?&])_=[^&]*/;l.test(this.url)?this.url=this.url.replace(l,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function A2e(n){var t=new FormData;return n.trim().split("&").forEach(function(e){if(e){var r=e.split("="),a=r.shift().replace(/\+/g," "),l=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(l))}}),t}function Ol(n,t){if(!(this instanceof Ol))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Wi(t.headers),this.url=t.url||"",this._initBody(n)}th.prototype.clone=function(){return new th(this,{body:this._bodyInit})},CL.call(th.prototype),CL.call(Ol.prototype),Ol.prototype.clone=function(){return new Ol(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Wi(this.headers),url:this.url})},Ol.error=function(){var n=new Ol(null,{status:200,statusText:""});return n.status=0,n.type="error",n};var O2e=[301,302,303,307,308];Ol.redirect=function(n,t){if(O2e.indexOf(t)===-1)throw new RangeError("Invalid status code");return new Ol(null,{status:t,headers:{location:n}})};var D0=Ea.DOMException;try{new D0}catch{(D0=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),D0.prototype.constructor=D0}function kL(n,t){return new Promise(function(e,r){var a=new th(n,t);if(a.signal&&a.signal.aborted)return r(new D0("Aborted","AbortError"));var l=new XMLHttpRequest;function d(){l.abort()}if(l.onload=function(){var f,_,g={status:l.status,statusText:l.statusText,headers:(f=l.getAllResponseHeaders()||"",_=new Wi,f.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(w){return w.indexOf(`
`)===0?w.substr(1,w.length):w}).forEach(function(w){var x=w.split(":"),T=x.shift().trim();if(T){var N=x.join(":").trim();try{_.append(T,N)}catch(P){console.warn("Response "+P.message)}}}),_)};g.url="responseURL"in l?l.responseURL:g.headers.get("X-Request-URL");var E="response"in l?l.response:l.responseText;setTimeout(function(){e(new Ol(E,g))},0)},l.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},l.onabort=function(){setTimeout(function(){r(new D0("Aborted","AbortError"))},0)},l.open(a.method,function(f){try{return f===""&&Ea.location.href?Ea.location.href:f}catch{return f}}(a.url),!0),a.credentials==="include"?l.withCredentials=!0:a.credentials==="omit"&&(l.withCredentials=!1),"responseType"in l&&(e_?l.responseType="blob":C1&&(l.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof Wi||Ea.Headers&&t.headers instanceof Ea.Headers)){var h=[];Object.getOwnPropertyNames(t.headers).forEach(function(f){h.push(g0(f)),l.setRequestHeader(f,$6(t.headers[f]))}),a.headers.forEach(function(f,_){h.indexOf(_)===-1&&l.setRequestHeader(_,f)})}else a.headers.forEach(function(f,_){l.setRequestHeader(_,f)});a.signal&&(a.signal.addEventListener("abort",d),l.onreadystatechange=function(){l.readyState===4&&a.signal.removeEventListener("abort",d)}),l.send(a._bodyInit===void 0?null:a._bodyInit)})}kL.polyfill=!0,Ea.fetch||(Ea.fetch=kL,Ea.Headers=Wi,Ea.Request=th,Ea.Response=Ol);var R2e=QP({__proto__:null,default:wL},[wL]);function dB(n,t,e,r){Object.defineProperty(n,t,{get:e,set:r,enumerable:!0,configurable:!0})}var uB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},Ox={},Jg={},yn=uB.parcelRequire3f09;yn==null&&(yn=function(n){if(n in Ox)return Ox[n].exports;if(n in Jg){var t=Jg[n];delete Jg[n];var e={id:n,exports:{}};return Ox[n]=e,t.call(e.exports,e,e.exports),e.exports}var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r},yn.register=function(t,e){Jg[t]=e},uB.parcelRequire3f09=yn);yn.register("kk1yk",function(n,t){var e=yn("3YDN3"),r=e.System,a=e.VbrMode;e.Float;var l=e.ShortBlock;e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var d=e.new_float;e.new_float_n,e.new_int;var h=e.new_int_n,f=e.new_short_n,_=e.assert,g=yn("d2VP0"),E=yn("5HJeD"),w=yn("4SDnr"),x=yn("cU3Yf"),T=yn("2qGTD"),N=yn("e32wu"),P=yn("ctaQC"),k=yn("dQDcS"),C=yn("cPNKB");function A(){var U=yn("jL6I1"),M=this,R=131072;A.V9=410,A.V8=420,A.V7=430,A.V6=440,A.V5=450,A.V4=460,A.V3=470,A.V2=480,A.V1=490,A.V0=500,A.R3MIX=1e3,A.STANDARD=1001,A.EXTREME=1002,A.INSANE=1003,A.STANDARD_FAST=1004,A.EXTREME_FAST=1005,A.MEDIUM=1006,A.MEDIUM_FAST=1007;var I=16384+R;A.LAME_MAXMP3BUFFER=I;var D,q,z,ne,fe,B=new g,Y,ue,Q;this.enc=new C,this.setModules=function(G,ie,bn,Sn,An,Fn,Hn,Bn,pt){D=G,q=ie,z=bn,ne=Sn,fe=An,Y=Fn,ue=Bn,Q=pt,this.enc.setModules(q,B,ne,Y)};function _e(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=d(C.SBMAX_l),this.bo_s_weight=d(C.SBMAX_s)}function le(){this.lowerlimit=0}function se(G,ie){this.lowpass=ie}var me=4294479419;function Me(G){var ie;return G.class_id=me,ie=G.internal_flags=new w,G.mode=U.NOT_SET,G.original=1,G.in_samplerate=44100,G.num_channels=2,G.num_samples=-1,G.bWriteVbrTag=!0,G.quality=-1,G.short_blocks=null,ie.subblock_gain=-1,G.lowpassfreq=0,G.highpassfreq=0,G.lowpasswidth=-1,G.highpasswidth=-1,G.VBR=a.vbr_off,G.VBR_q=4,G.ATHcurve=-1,G.VBR_mean_bitrate_kbps=128,G.VBR_min_bitrate_kbps=0,G.VBR_max_bitrate_kbps=0,G.VBR_hard_min=0,ie.VBR_min_bitrate=1,ie.VBR_max_bitrate=13,G.quant_comp=-1,G.quant_comp_short=-1,G.msfix=-1,ie.resample_ratio=1,ie.OldValue[0]=180,ie.OldValue[1]=180,ie.CurrentStep[0]=4,ie.CurrentStep[1]=4,ie.masking_lower=1,ie.nsPsy.attackthre=-1,ie.nsPsy.attackthre_s=-1,G.scale=-1,G.athaa_type=-1,G.ATHtype=-1,G.athaa_loudapprox=-1,G.athaa_sensitivity=0,G.useTemporal=null,G.interChRatio=-1,ie.mf_samples_to_encode=C.ENCDELAY+C.POSTDELAY,G.encoder_padding=0,ie.mf_size=C.ENCDELAY-C.MDCTDELAY,G.findReplayGain=!1,G.decode_on_the_fly=!1,ie.decode_on_the_fly=!1,ie.findReplayGain=!1,ie.findPeakSample=!1,ie.RadioGain=0,ie.AudiophileGain=0,ie.noclipGainChange=0,ie.noclipScale=-1,G.preset=0,G.write_id3tag_automatic=!0,0}this.lame_init=function(){var G=new E;return Me(G),G.lame_allocated_gfp=1,G};function de(G){return G>1?0:G<=0?1:Math.cos(Math.PI/2*G)}this.nearestBitrateFullIndex=function(G){var ie=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],bn=0,Sn=0,An=0,Fn=0;Fn=ie[16],An=16,Sn=ie[16],bn=16;for(var Hn=0;Hn<16;Hn++)if(Math.max(G,ie[Hn+1])!=G){Fn=ie[Hn+1],An=Hn+1,Sn=ie[Hn],bn=Hn;break}return Fn-G>G-Sn?bn:An};function he(G,ie){var bn=44100;return ie>=48e3?bn=48e3:ie>=44100?bn=44100:ie>=32e3?bn=32e3:ie>=24e3?bn=24e3:ie>=22050?bn=22050:ie>=16e3?bn=16e3:ie>=12e3?bn=12e3:ie>=11025?bn=11025:ie>=8e3&&(bn=8e3),G==-1?bn:(G<=15960&&(bn=44100),G<=15250&&(bn=32e3),G<=11220&&(bn=24e3),G<=9970&&(bn=22050),G<=7230&&(bn=16e3),G<=5420&&(bn=12e3),G<=4510&&(bn=11025),G<=3970&&(bn=8e3),ie<bn?ie>44100?48e3:ie>32e3?44100:ie>24e3?32e3:ie>22050?24e3:ie>16e3?22050:ie>12e3?16e3:ie>11025?12e3:ie>8e3?11025:8e3:bn)}function K(G,ie){switch(G){case 44100:return ie.version=1,0;case 48e3:return ie.version=1,1;case 32e3:return ie.version=1,2;case 22050:return ie.version=0,0;case 24e3:return ie.version=0,1;case 16e3:return ie.version=0,2;case 11025:return ie.version=0,0;case 12e3:return ie.version=0,1;case 8e3:return ie.version=0,2;default:return ie.version=0,-1}}function ee(G,ie,bn){bn<16e3&&(ie=2);for(var Sn=k.bitrate_table[ie][1],An=2;An<=14;An++)k.bitrate_table[ie][An]>0&&Math.abs(k.bitrate_table[ie][An]-G)<Math.abs(Sn-G)&&(Sn=k.bitrate_table[ie][An]);return Sn}function j(G,ie,bn){bn<16e3&&(ie=2);for(var Sn=0;Sn<=14;Sn++)if(k.bitrate_table[ie][Sn]>0&&k.bitrate_table[ie][Sn]==G)return Sn;return-1}function ae(G,ie){var bn=[new se(8,2e3),new se(16,3700),new se(24,3900),new se(32,5500),new se(40,7e3),new se(48,7500),new se(56,1e4),new se(64,11e3),new se(80,13500),new se(96,15100),new se(112,15600),new se(128,17e3),new se(160,17500),new se(192,18600),new se(224,19400),new se(256,19700),new se(320,20500)],Sn=M.nearestBitrateFullIndex(ie);G.lowerlimit=bn[Sn].lowpass}function Re(G){var ie=G.internal_flags,bn=32,Sn=-1;if(ie.lowpass1>0){for(var An=999,Fn=0;Fn<=31;Fn++){var Hn=Fn/31;Hn>=ie.lowpass2&&(bn=Math.min(bn,Fn)),ie.lowpass1<Hn&&Hn<ie.lowpass2&&(An=Math.min(An,Fn))}An==999?ie.lowpass1=(bn-.75)/31:ie.lowpass1=(An-.75)/31,ie.lowpass2=bn/31}if(ie.highpass2>0&&ie.highpass2<.9*(.75/31)&&(ie.highpass1=0,ie.highpass2=0,r.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),ie.highpass2>0){for(var Bn=-1,Fn=0;Fn<=31;Fn++){var Hn=Fn/31;Hn<=ie.highpass1&&(Sn=Math.max(Sn,Fn)),ie.highpass1<Hn&&Hn<ie.highpass2&&(Bn=Math.max(Bn,Fn))}ie.highpass1=Sn/31,Bn==-1?ie.highpass2=(Sn+.75)/31:ie.highpass2=(Bn+.75)/31}for(var Fn=0;Fn<32;Fn++){var pt,Yn,Hn=Fn/31;ie.highpass2>ie.highpass1?pt=de((ie.highpass2-Hn)/(ie.highpass2-ie.highpass1+1e-20)):pt=1,ie.lowpass2>ie.lowpass1?Yn=de((Hn-ie.lowpass1)/(ie.lowpass2-ie.lowpass1+1e-20)):Yn=1,ie.amp_filter[Fn]=pt*Yn}}function ze(G){var ie=G.internal_flags;switch(G.quality){default:case 9:ie.psymodel=0,ie.noise_shaping=0,ie.noise_shaping_amp=0,ie.noise_shaping_stop=0,ie.use_best_huffman=0,ie.full_outer_loop=0;break;case 8:G.quality=7;case 7:ie.psymodel=1,ie.noise_shaping=0,ie.noise_shaping_amp=0,ie.noise_shaping_stop=0,ie.use_best_huffman=0,ie.full_outer_loop=0;break;case 6:ie.psymodel=1,ie.noise_shaping==0&&(ie.noise_shaping=1),ie.noise_shaping_amp=0,ie.noise_shaping_stop=0,ie.subblock_gain==-1&&(ie.subblock_gain=1),ie.use_best_huffman=0,ie.full_outer_loop=0;break;case 5:ie.psymodel=1,ie.noise_shaping==0&&(ie.noise_shaping=1),ie.noise_shaping_amp=0,ie.noise_shaping_stop=0,ie.subblock_gain==-1&&(ie.subblock_gain=1),ie.use_best_huffman=0,ie.full_outer_loop=0;break;case 4:ie.psymodel=1,ie.noise_shaping==0&&(ie.noise_shaping=1),ie.noise_shaping_amp=0,ie.noise_shaping_stop=0,ie.subblock_gain==-1&&(ie.subblock_gain=1),ie.use_best_huffman=1,ie.full_outer_loop=0;break;case 3:ie.psymodel=1,ie.noise_shaping==0&&(ie.noise_shaping=1),ie.noise_shaping_amp=1,ie.noise_shaping_stop=1,ie.subblock_gain==-1&&(ie.subblock_gain=1),ie.use_best_huffman=1,ie.full_outer_loop=0;break;case 2:ie.psymodel=1,ie.noise_shaping==0&&(ie.noise_shaping=1),ie.substep_shaping==0&&(ie.substep_shaping=2),ie.noise_shaping_amp=1,ie.noise_shaping_stop=1,ie.subblock_gain==-1&&(ie.subblock_gain=1),ie.use_best_huffman=1,ie.full_outer_loop=0;break;case 1:ie.psymodel=1,ie.noise_shaping==0&&(ie.noise_shaping=1),ie.substep_shaping==0&&(ie.substep_shaping=2),ie.noise_shaping_amp=2,ie.noise_shaping_stop=1,ie.subblock_gain==-1&&(ie.subblock_gain=1),ie.use_best_huffman=1,ie.full_outer_loop=0;break;case 0:ie.psymodel=1,ie.noise_shaping==0&&(ie.noise_shaping=1),ie.substep_shaping==0&&(ie.substep_shaping=2),ie.noise_shaping_amp=2,ie.noise_shaping_stop=1,ie.subblock_gain==-1&&(ie.subblock_gain=1),ie.use_best_huffman=1,ie.full_outer_loop=0;break}}function De(G){var ie=G.internal_flags;G.frameNum=0,G.write_id3tag_automatic&&ue.id3tag_write_v2(G),ie.bitrate_stereoMode_Hist=h([16,5]),ie.bitrate_blockType_Hist=h([16,6]),ie.PeakSample=0,G.bWriteVbrTag&&Y.InitVbrTag(G)}this.lame_init_params=function(G){var ie=G.internal_flags;if(ie.Class_ID=0,ie.ATH==null&&(ie.ATH=new x),ie.PSY==null&&(ie.PSY=new _e),ie.rgdata==null&&(ie.rgdata=new T),ie.channels_in=G.num_channels,ie.channels_in==1&&(G.mode=U.MONO),ie.channels_out=G.mode==U.MONO?1:2,ie.mode_ext=C.MPG_MD_MS_LR,G.mode==U.MONO&&(G.force_ms=!1),G.VBR==a.vbr_off&&G.VBR_mean_bitrate_kbps!=128&&G.brate==0&&(G.brate=G.VBR_mean_bitrate_kbps),G.VBR==a.vbr_off||G.VBR==a.vbr_mtrh||G.VBR==a.vbr_mt||(G.free_format=!1),G.VBR==a.vbr_off&&G.brate==0&&P.EQ(G.compression_ratio,0)&&(G.compression_ratio=11.025),G.VBR==a.vbr_off&&G.compression_ratio>0&&(G.out_samplerate==0&&(G.out_samplerate=map2MP3Frequency(int(.97*G.in_samplerate))),G.brate=0|G.out_samplerate*16*ie.channels_out/(1e3*G.compression_ratio),ie.samplerate_index=K(G.out_samplerate,G),G.free_format||(G.brate=ee(G.brate,G.version,G.out_samplerate))),G.out_samplerate!=0&&(G.out_samplerate<16e3?(G.VBR_mean_bitrate_kbps=Math.max(G.VBR_mean_bitrate_kbps,8),G.VBR_mean_bitrate_kbps=Math.min(G.VBR_mean_bitrate_kbps,64)):G.out_samplerate<32e3?(G.VBR_mean_bitrate_kbps=Math.max(G.VBR_mean_bitrate_kbps,8),G.VBR_mean_bitrate_kbps=Math.min(G.VBR_mean_bitrate_kbps,160)):(G.VBR_mean_bitrate_kbps=Math.max(G.VBR_mean_bitrate_kbps,32),G.VBR_mean_bitrate_kbps=Math.min(G.VBR_mean_bitrate_kbps,320))),G.lowpassfreq==0){var bn=16e3;switch(G.VBR){case a.vbr_off:var Sn=new le;ae(Sn,G.brate),bn=Sn.lowerlimit;break;case a.vbr_abr:var Sn=new le;ae(Sn,G.VBR_mean_bitrate_kbps),bn=Sn.lowerlimit;break;case a.vbr_rh:var Bn=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=G.VBR_q&&G.VBR_q<=9){var An=Bn[G.VBR_q],Fn=Bn[G.VBR_q+1],Hn=G.VBR_q_frac;bn=linear_int(An,Fn,Hn)}else bn=19500;break;default:var Bn=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=G.VBR_q&&G.VBR_q<=9){var An=Bn[G.VBR_q],Fn=Bn[G.VBR_q+1],Hn=G.VBR_q_frac;bn=linear_int(An,Fn,Hn)}else bn=19500}G.mode==U.MONO&&(G.VBR==a.vbr_off||G.VBR==a.vbr_abr)&&(bn*=1.5),G.lowpassfreq=bn|0}if(G.out_samplerate==0&&(2*G.lowpassfreq>G.in_samplerate&&(G.lowpassfreq=G.in_samplerate/2),G.out_samplerate=he(G.lowpassfreq|0,G.in_samplerate)),G.lowpassfreq=Math.min(20500,G.lowpassfreq),G.lowpassfreq=Math.min(G.out_samplerate/2,G.lowpassfreq),G.VBR==a.vbr_off&&(G.compression_ratio=G.out_samplerate*16*ie.channels_out/(1e3*G.brate)),G.VBR==a.vbr_abr&&(G.compression_ratio=G.out_samplerate*16*ie.channels_out/(1e3*G.VBR_mean_bitrate_kbps)),G.bWriteVbrTag||(G.findReplayGain=!1,G.decode_on_the_fly=!1,ie.findPeakSample=!1),ie.findReplayGain=G.findReplayGain,ie.decode_on_the_fly=G.decode_on_the_fly,ie.decode_on_the_fly&&(ie.findPeakSample=!0),ie.findReplayGain&&D.InitGainAnalysis(ie.rgdata,G.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return G.internal_flags=null,-6;switch(ie.decode_on_the_fly&&!G.decode_only&&(ie.hip!=null&&Q.hip_decode_exit(ie.hip),ie.hip=Q.hip_decode_init()),ie.mode_gr=G.out_samplerate<=24e3?1:2,G.framesize=576*ie.mode_gr,G.encoder_delay=C.ENCDELAY,ie.resample_ratio=G.in_samplerate/G.out_samplerate,G.VBR){case a.vbr_mt:case a.vbr_rh:case a.vbr_mtrh:var pt=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];G.compression_ratio=pt[G.VBR_q];break;case a.vbr_abr:G.compression_ratio=G.out_samplerate*16*ie.channels_out/(1e3*G.VBR_mean_bitrate_kbps);break;default:G.compression_ratio=G.out_samplerate*16*ie.channels_out/(1e3*G.brate);break}if(G.mode==U.NOT_SET&&(G.mode=U.JOINT_STEREO),G.highpassfreq>0?(ie.highpass1=2*G.highpassfreq,G.highpasswidth>=0?ie.highpass2=2*(G.highpassfreq+G.highpasswidth):ie.highpass2=2*G.highpassfreq,ie.highpass1/=G.out_samplerate,ie.highpass2/=G.out_samplerate):(ie.highpass1=0,ie.highpass2=0),G.lowpassfreq>0?(ie.lowpass2=2*G.lowpassfreq,G.lowpasswidth>=0?(ie.lowpass1=2*(G.lowpassfreq-G.lowpasswidth),ie.lowpass1<0&&(ie.lowpass1=0)):ie.lowpass1=2*G.lowpassfreq,ie.lowpass1/=G.out_samplerate,ie.lowpass2/=G.out_samplerate):(ie.lowpass1=0,ie.lowpass2=0),Re(G),ie.samplerate_index=K(G.out_samplerate,G),ie.samplerate_index<0)return G.internal_flags=null,-1;if(G.VBR==a.vbr_off){if(G.free_format)ie.bitrate_index=0;else if(G.brate=ee(G.brate,G.version,G.out_samplerate),ie.bitrate_index=j(G.brate,G.version,G.out_samplerate),ie.bitrate_index<=0)return G.internal_flags=null,-1}else ie.bitrate_index=1;G.analysis&&(G.bWriteVbrTag=!1),ie.pinfo!=null&&(G.bWriteVbrTag=!1),q.init_bit_stream_w(ie);for(var Yn=ie.samplerate_index+3*G.version+6*(G.out_samplerate<16e3?1:0),On=0;On<C.SBMAX_l+1;On++)ie.scalefac_band.l[On]=ne.sfBandIndex[Yn].l[On];for(var On=0;On<C.PSFB21+1;On++){var Tt=(ie.scalefac_band.l[22]-ie.scalefac_band.l[21])/C.PSFB21,Ut=ie.scalefac_band.l[21]+On*Tt;ie.scalefac_band.psfb21[On]=Ut}ie.scalefac_band.psfb21[C.PSFB21]=576;for(var On=0;On<C.SBMAX_s+1;On++)ie.scalefac_band.s[On]=ne.sfBandIndex[Yn].s[On];for(var On=0;On<C.PSFB12+1;On++){var Tt=(ie.scalefac_band.s[13]-ie.scalefac_band.s[12])/C.PSFB12,Ut=ie.scalefac_band.s[12]+On*Tt;ie.scalefac_band.psfb12[On]=Ut}ie.scalefac_band.psfb12[C.PSFB12]=192,G.version==1?ie.sideinfo_len=ie.channels_out==1?21:36:ie.sideinfo_len=ie.channels_out==1?13:21,G.error_protection&&(ie.sideinfo_len+=2),De(G),ie.Class_ID=me;var jt;for(jt=0;jt<19;jt++)ie.nsPsy.pefirbuf[jt]=700*ie.mode_gr*ie.channels_out;switch(G.ATHtype==-1&&(G.ATHtype=4),_(G.VBR_q<=9),_(G.VBR_q>=0),G.VBR){case a.vbr_mt:G.VBR=a.vbr_mtrh;case a.vbr_mtrh:G.useTemporal==null&&(G.useTemporal=!1),z.apply_preset(G,500-G.VBR_q*10,0),G.quality<0&&(G.quality=LAME_DEFAULT_QUALITY),G.quality<5&&(G.quality=0),G.quality>5&&(G.quality=5),ie.PSY.mask_adjust=G.maskingadjust,ie.PSY.mask_adjust_short=G.maskingadjust_short,G.experimentalY?ie.sfb21_extra=!1:ie.sfb21_extra=G.out_samplerate>44e3,ie.iteration_loop=new VBRNewIterationLoop(fe);break;case a.vbr_rh:z.apply_preset(G,500-G.VBR_q*10,0),ie.PSY.mask_adjust=G.maskingadjust,ie.PSY.mask_adjust_short=G.maskingadjust_short,G.experimentalY?ie.sfb21_extra=!1:ie.sfb21_extra=G.out_samplerate>44e3,G.quality>6&&(G.quality=6),G.quality<0&&(G.quality=LAME_DEFAULT_QUALITY),ie.iteration_loop=new VBROldIterationLoop(fe);break;default:var Nt;ie.sfb21_extra=!1,G.quality<0&&(G.quality=LAME_DEFAULT_QUALITY),Nt=G.VBR,Nt==a.vbr_off&&(G.VBR_mean_bitrate_kbps=G.brate),z.apply_preset(G,G.VBR_mean_bitrate_kbps,0),G.VBR=Nt,ie.PSY.mask_adjust=G.maskingadjust,ie.PSY.mask_adjust_short=G.maskingadjust_short,Nt==a.vbr_off?ie.iteration_loop=new N(fe):ie.iteration_loop=new ABRIterationLoop(fe);break}if(_(G.scale>=0),G.VBR!=a.vbr_off){if(ie.VBR_min_bitrate=1,ie.VBR_max_bitrate=14,G.out_samplerate<16e3&&(ie.VBR_max_bitrate=8),G.VBR_min_bitrate_kbps!=0&&(G.VBR_min_bitrate_kbps=ee(G.VBR_min_bitrate_kbps,G.version,G.out_samplerate),ie.VBR_min_bitrate=j(G.VBR_min_bitrate_kbps,G.version,G.out_samplerate),ie.VBR_min_bitrate<0)||G.VBR_max_bitrate_kbps!=0&&(G.VBR_max_bitrate_kbps=ee(G.VBR_max_bitrate_kbps,G.version,G.out_samplerate),ie.VBR_max_bitrate=j(G.VBR_max_bitrate_kbps,G.version,G.out_samplerate),ie.VBR_max_bitrate<0))return-1;G.VBR_min_bitrate_kbps=k.bitrate_table[G.version][ie.VBR_min_bitrate],G.VBR_max_bitrate_kbps=k.bitrate_table[G.version][ie.VBR_max_bitrate],G.VBR_mean_bitrate_kbps=Math.min(k.bitrate_table[G.version][ie.VBR_max_bitrate],G.VBR_mean_bitrate_kbps),G.VBR_mean_bitrate_kbps=Math.max(k.bitrate_table[G.version][ie.VBR_min_bitrate],G.VBR_mean_bitrate_kbps)}return G.tune&&(ie.PSY.mask_adjust+=G.tune_value_a,ie.PSY.mask_adjust_short+=G.tune_value_a),ze(G),_(G.scale>=0),G.athaa_type<0?ie.ATH.useAdjust=3:ie.ATH.useAdjust=G.athaa_type,ie.ATH.aaSensitivityP=Math.pow(10,G.athaa_sensitivity/-10),G.short_blocks==null&&(G.short_blocks=l.short_block_allowed),G.short_blocks==l.short_block_allowed&&(G.mode==U.JOINT_STEREO||G.mode==U.STEREO)&&(G.short_blocks=l.short_block_coupled),G.quant_comp<0&&(G.quant_comp=1),G.quant_comp_short<0&&(G.quant_comp_short=0),G.msfix<0&&(G.msfix=0),G.exp_nspsytune=G.exp_nspsytune|1,G.internal_flags.nsPsy.attackthre<0&&(G.internal_flags.nsPsy.attackthre=g.NSATTACKTHRE),G.internal_flags.nsPsy.attackthre_s<0&&(G.internal_flags.nsPsy.attackthre_s=g.NSATTACKTHRE_S),_(G.scale>=0),G.scale<0&&(G.scale=1),G.ATHtype<0&&(G.ATHtype=4),G.ATHcurve<0&&(G.ATHcurve=4),G.athaa_loudapprox<0&&(G.athaa_loudapprox=2),G.interChRatio<0&&(G.interChRatio=0),G.useTemporal==null&&(G.useTemporal=!0),ie.slot_lag=ie.frac_SpF=0,G.VBR==a.vbr_off&&(ie.slot_lag=ie.frac_SpF=(G.version+1)*72e3*G.brate%G.out_samplerate|0),ne.iteration_init(G),B.psymodel_init(G),_(G.scale>=0),0};function Te(G,ie){(G.in_buffer_0==null||G.in_buffer_nsamples<ie)&&(G.in_buffer_0=d(ie),G.in_buffer_1=d(ie),G.in_buffer_nsamples=ie)}this.lame_encode_flush=function(G,ie,bn,Sn){var An=G.internal_flags,Fn=f([2,1152]),Hn=0,Bn,pt,Yn,On,Tt=An.mf_samples_to_encode-C.POSTDELAY,Ut=Qe(G);if(An.mf_samples_to_encode<1)return 0;for(Bn=0,G.in_samplerate!=G.out_samplerate&&(Tt+=16*G.out_samplerate/G.in_samplerate),Yn=G.framesize-Tt%G.framesize,Yn<576&&(Yn+=G.framesize),G.encoder_padding=Yn,On=(Tt+Yn)/G.framesize;On>0&&Hn>=0;){var jt=Ut-An.mf_size,Nt=G.frameNum;jt*=G.in_samplerate,jt/=G.out_samplerate,jt>1152&&(jt=1152),jt<1&&(jt=1),pt=Sn-Bn,Sn==0&&(pt=0),Hn=this.lame_encode_buffer(G,Fn[0],Fn[1],jt,ie,bn,pt),bn+=Hn,Bn+=Hn,On-=Nt!=G.frameNum?1:0}if(An.mf_samples_to_encode=0,Hn<0||(pt=Sn-Bn,Sn==0&&(pt=0),q.flush_bitstream(G),Hn=q.copy_buffer(An,ie,bn,pt,1),Hn<0))return Hn;if(bn+=Hn,Bn+=Hn,pt=Sn-Bn,Sn==0&&(pt=0),G.write_id3tag_automatic){if(ue.id3tag_write_v1(G),Hn=q.copy_buffer(An,ie,bn,pt,0),Hn<0)return Hn;Bn+=Hn}return Bn},this.lame_encode_buffer=function(G,ie,bn,Sn,An,Fn,Hn){var Bn=G.internal_flags,pt=[null,null];if(Bn.Class_ID!=me)return-3;if(Sn==0)return 0;Te(Bn,Sn),pt[0]=Bn.in_buffer_0,pt[1]=Bn.in_buffer_1;for(var Yn=0;Yn<Sn;Yn++)pt[0][Yn]=ie[Yn],Bn.channels_in>1&&(pt[1][Yn]=bn[Yn]);return an(G,pt[0],pt[1],Sn,An,Fn,Hn)};function Qe(G){var ie=C.BLKSIZE+G.framesize-C.FFTOFFSET;return ie=Math.max(ie,512+G.framesize-32),_(w.MFSIZE>=ie),ie}function an(G,ie,bn,Sn,An,Fn,Hn){var Bn=G.internal_flags,pt=0,Yn,On,Tt,Ut,jt,Nt=[null,null],Zn=[null,null];if(Bn.Class_ID!=me)return-3;if(Sn==0)return 0;if(jt=q.copy_buffer(Bn,An,Fn,Hn,0),jt<0)return jt;if(Fn+=jt,pt+=jt,Zn[0]=ie,Zn[1]=bn,P.NEQ(G.scale,0)&&P.NEQ(G.scale,1))for(On=0;On<Sn;++On)Zn[0][On]*=G.scale,Bn.channels_out==2&&(Zn[1][On]*=G.scale);if(P.NEQ(G.scale_left,0)&&P.NEQ(G.scale_left,1))for(On=0;On<Sn;++On)Zn[0][On]*=G.scale_left;if(P.NEQ(G.scale_right,0)&&P.NEQ(G.scale_right,1))for(On=0;On<Sn;++On)Zn[1][On]*=G.scale_right;if(G.num_channels==2&&Bn.channels_out==1)for(On=0;On<Sn;++On)Zn[0][On]=.5*(Zn[0][On]+Zn[1][On]),Zn[1][On]=0;Ut=Qe(G),Nt[0]=Bn.mfbuf[0],Nt[1]=Bn.mfbuf[1];for(var Rn=0;Sn>0;){var Je=[null,null],tt=0,dt=0;Je[0]=Zn[0],Je[1]=Zn[1];var Rt=new Nn;if(Tn(G,Nt,Je,Rn,Sn,Rt),tt=Rt.n_in,dt=Rt.n_out,Bn.findReplayGain&&!Bn.decode_on_the_fly&&D.AnalyzeSamples(Bn.rgdata,Nt[0],Bn.mf_size,Nt[1],Bn.mf_size,dt,Bn.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(Sn-=tt,Rn+=tt,Bn.channels_out,Bn.mf_size+=dt,_(Bn.mf_size<=w.MFSIZE),Bn.mf_samples_to_encode<1&&(Bn.mf_samples_to_encode=C.ENCDELAY+C.POSTDELAY),Bn.mf_samples_to_encode+=dt,Bn.mf_size>=Ut){var wr=Hn-pt;if(Hn==0&&(wr=0),Yn=un(G,Nt[0],Nt[1],An,Fn,wr),Yn<0)return Yn;for(Fn+=Yn,pt+=Yn,Bn.mf_size-=G.framesize,Bn.mf_samples_to_encode-=G.framesize,Tt=0;Tt<Bn.channels_out;Tt++)for(On=0;On<Bn.mf_size;On++)Nt[Tt][On]=Nt[Tt][On+G.framesize]}}return _(Sn==0),pt}function un(G,ie,bn,Sn,An,Fn){var Hn=M.enc.lame_encode_mp3_frame(G,ie,bn,Sn,An,Fn);return G.frameNum++,Hn}function Nn(){this.n_in=0,this.n_out=0}function Ye(){this.num_used=0}function mn(G,ie){return ie!=0?mn(ie,G%ie):G}function sn(G,ie,bn){var Sn=Math.PI*ie;G/=bn,G<0&&(G=0),G>1&&(G=1);var An=G-.5,Fn=.42-.5*Math.cos(2*G*Math.PI)+.08*Math.cos(4*G*Math.PI);return Math.abs(An)<1e-9?Sn/Math.PI:Fn*Math.sin(bn*Sn*An)/(Math.PI*bn*An)}function Ln(G,ie,bn,Sn,An,Fn,Hn,Bn,pt){var Yn=G.internal_flags,On,Tt=0,Ut,jt=G.out_samplerate/mn(G.out_samplerate,G.in_samplerate);jt>w.BPC&&(jt=w.BPC);var Nt=Math.abs(Yn.resample_ratio-Math.floor(.5+Yn.resample_ratio))<1e-4?1:0,Zn=1/Yn.resample_ratio;Zn>1&&(Zn=1);var Rn=31;Rn%2==0&&--Rn,Rn+=Nt;var Je=Rn+1;if(Yn.fill_buffer_resample_init==0){for(Yn.inbuf_old[0]=d(Je),Yn.inbuf_old[1]=d(Je),On=0;On<=2*jt;++On)Yn.blackfilt[On]=d(Je);for(Yn.itime[0]=0,Yn.itime[1]=0,Tt=0;Tt<=2*jt;Tt++){var tt=0,dt=(Tt-jt)/(2*jt);for(On=0;On<=Rn;On++)tt+=Yn.blackfilt[Tt][On]=sn(On-dt,Zn,Rn);for(On=0;On<=Rn;On++)Yn.blackfilt[Tt][On]/=tt}Yn.fill_buffer_resample_init=1}var Rt=Yn.inbuf_old[pt];for(Ut=0;Ut<Sn;Ut++){var wr,Jt;if(wr=Ut*Yn.resample_ratio,Tt=0|Math.floor(wr-Yn.itime[pt]),Rn+Tt-Rn/2>=Hn)break;var dt=wr-Yn.itime[pt]-(Tt+.5*(Rn%2));_(Math.abs(dt)<=.501),Jt=0|Math.floor(dt*2*jt+jt+.5);var Zr=0;for(On=0;On<=Rn;++On){var wi=0|On+Tt-Rn/2,Ui;_(wi<Hn),_(wi+Je>=0),Ui=wi<0?Rt[Je+wi]:An[Fn+wi],Zr+=Ui*Yn.blackfilt[Jt][On]}ie[bn+Ut]=Zr}if(Bn.num_used=Math.min(Hn,Rn+Tt-Rn/2),Yn.itime[pt]+=Bn.num_used-Ut*Yn.resample_ratio,Bn.num_used>=Je)for(On=0;On<Je;On++)Rt[On]=An[Fn+Bn.num_used+On-Je];else{var xr=Je-Bn.num_used;for(On=0;On<xr;++On)Rt[On]=Rt[On+Bn.num_used];for(Tt=0;On<Je;++On,++Tt)Rt[On]=An[Fn+Tt];_(Tt==Bn.num_used)}return Ut}function Tn(G,ie,bn,Sn,An,Fn){var Hn=G.internal_flags;if(Hn.resample_ratio<.9999||Hn.resample_ratio>1.0001)for(var Bn=0;Bn<Hn.channels_out;Bn++){var pt=new Ye;Fn.n_out=Ln(G,ie[Bn],Hn.mf_size,G.framesize,bn[Bn],Sn,An,pt,Bn),Fn.n_in=pt.num_used}else{Fn.n_out=Math.min(G.framesize,An),Fn.n_in=Fn.n_out;for(var Yn=0;Yn<Fn.n_out;++Yn)ie[0][Hn.mf_size+Yn]=bn[0][Sn+Yn],Hn.channels_out==2&&(ie[1][Hn.mf_size+Yn]=bn[1][Sn+Yn])}}}n.exports=A});yn.register("3YDN3",function(n,t){function e(C){return new Int8Array(C)}function r(C){return new Int16Array(C)}function a(C){return new Int32Array(C)}function l(C){return new Float32Array(C)}function d(C){return new Float64Array(C)}function h(C){if(C.length==1)return l(C[0]);var A=C[0];C=C.slice(1);for(var U=[],M=0;M<A;M++)U.push(h(C));return U}function f(C){if(C.length==1)return a(C[0]);var A=C[0];C=C.slice(1);for(var U=[],M=0;M<A;M++)U.push(f(C));return U}function _(C){if(C.length==1)return r(C[0]);var A=C[0];C=C.slice(1);for(var U=[],M=0;M<A;M++)U.push(_(C));return U}function g(C){if(C.length==1)return new Array(C[0]);var A=C[0];C=C.slice(1);for(var U=[],M=0;M<A;M++)U.push(g(C));return U}var E={};E.fill=function(C,A,U,M){if(arguments.length==2)for(var R=0;R<C.length;R++)C[R]=arguments[1];else for(var R=A;R<U;R++)C[R]=M};var w={};w.arraycopy=function(C,A,U,M,R){for(var I=A+R;A<I;)U[M++]=C[A++]},w.out={},w.out.println=function(C){console.log(C)},w.out.printf=function(){console.log.apply(console,arguments)};var x={};x.SQRT2=1.4142135623730951,x.FAST_LOG10=function(C){return Math.log10(C)},x.FAST_LOG10_X=function(C,A){return Math.log10(C)*A};function T(C){this.ordinal=C}T.short_block_allowed=new T(0),T.short_block_coupled=new T(1),T.short_block_dispensed=new T(2),T.short_block_forced=new T(3);var N={};N.MAX_VALUE=34028235e31;function P(C){this.ordinal=C}P.vbr_off=new P(0),P.vbr_mt=new P(1),P.vbr_rh=new P(2),P.vbr_abr=new P(3),P.vbr_mtrh=new P(4),P.vbr_default=P.vbr_mtrh;var k=function(C){};n.exports={System:w,VbrMode:P,Float:N,ShortBlock:T,Util:x,Arrays:E,new_array_n:g,new_byte:e,new_double:d,new_float:l,new_float_n:h,new_int:a,new_int_n:f,new_short:r,new_short_n:_,assert:k}});yn.register("d2VP0",function(n,t){var e=yn("3YDN3");e.System;var r=e.VbrMode,a=e.Float,l=e.ShortBlock,d=e.Util,h=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var f=e.new_float,_=e.new_float_n,g=e.new_int;e.new_int_n;var E=e.assert,w=yn("2g11P"),x=yn("cPNKB");function T(){var N=yn("jL6I1"),P=new w,k=2.302585092994046,C=2,A=16,U=2,M=16,R=.34,I=1/217621504/(x.BLKSIZE/2),D=.01,q=.8,z=.6,ne=.3,fe=3.5,B=21,Y=.2302585093;function ue(ce){return ce}function Q(ce,pe){for(var Ce=0,Ae=0;Ae<x.BLKSIZE/2;++Ae)Ce+=ce[Ae]*pe.ATH.eql_w[Ae];return Ce*=I,Ce}function _e(ce,pe,Ce,Ae,Ge,be,Pe,qe,Fe,ln,je){var cn=ce.internal_flags;if(Fe<2)P.fft_long(cn,Ae[Ge],Fe,ln,je),P.fft_short(cn,be[Pe],Fe,ln,je);else if(Fe==2){for(var Mn=x.BLKSIZE-1;Mn>=0;--Mn){var ot=Ae[Ge+0][Mn],Ke=Ae[Ge+1][Mn];Ae[Ge+0][Mn]=(ot+Ke)*d.SQRT2*.5,Ae[Ge+1][Mn]=(ot-Ke)*d.SQRT2*.5}for(var ke=2;ke>=0;--ke)for(var Mn=x.BLKSIZE_s-1;Mn>=0;--Mn){var ot=be[Pe+0][ke][Mn],Ke=be[Pe+1][ke][Mn];be[Pe+0][ke][Mn]=(ot+Ke)*d.SQRT2*.5,be[Pe+1][ke][Mn]=(ot-Ke)*d.SQRT2*.5}}pe[0]=Ae[Ge+0][0],pe[0]*=pe[0];for(var Mn=x.BLKSIZE/2-1;Mn>=0;--Mn){var Ne=Ae[Ge+0][x.BLKSIZE/2-Mn],tn=Ae[Ge+0][x.BLKSIZE/2+Mn];pe[x.BLKSIZE/2-Mn]=(Ne*Ne+tn*tn)*.5}for(var ke=2;ke>=0;--ke){Ce[ke][0]=be[Pe+0][ke][0],Ce[ke][0]*=Ce[ke][0];for(var Mn=x.BLKSIZE_s/2-1;Mn>=0;--Mn){var Ne=be[Pe+0][ke][x.BLKSIZE_s/2-Mn],tn=be[Pe+0][ke][x.BLKSIZE_s/2+Mn];Ce[ke][x.BLKSIZE_s/2-Mn]=(Ne*Ne+tn*tn)*.5}}for(var Xn=0,Mn=11;Mn<x.HBLKSIZE;Mn++)Xn+=pe[Mn];if(cn.tot_ener[Fe]=Xn,ce.analysis){for(var Mn=0;Mn<x.HBLKSIZE;Mn++)cn.pinfo.energy[qe][Fe][Mn]=cn.pinfo.energy_save[Fe][Mn],cn.pinfo.energy_save[Fe][Mn]=pe[Mn];cn.pinfo.pe[qe][Fe]=cn.pe[Fe]}ce.athaa_loudapprox==2&&Fe<2&&(cn.loudness_sq[qe][Fe]=cn.loudness_sq_save[Fe],cn.loudness_sq_save[Fe]=Q(pe,cn))}var le=8,se=23,me=15,Me,de,he,K=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function ee(){Me=Math.pow(10,(le+1)/16),de=Math.pow(10,(se+1)/16),he=Math.pow(10,me/10)}var j=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],ae=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],Re=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function ze(ce,pe,Ce,Ae,Ge,be){var Pe;if(pe>ce)if(pe<ce*de)Pe=pe/ce;else return ce+pe;else{if(ce>=pe*de)return ce+pe;Pe=ce/pe}if(E(ce>=0),E(pe>=0),ce+=pe,Ae+3<=6){if(Pe>=Me)return ce;var qe=0|d.FAST_LOG10_X(Pe,16);return ce*ae[qe]}var qe=0|d.FAST_LOG10_X(Pe,16);if(be!=0?pe=Ge.ATH.cb_s[Ce]*Ge.ATH.adjust:pe=Ge.ATH.cb_l[Ce]*Ge.ATH.adjust,E(pe>=0),ce<he*pe){if(ce>pe){var Fe,ln;return Fe=1,qe<=13&&(Fe=Re[qe]),ln=d.FAST_LOG10_X(ce/pe,10/15),ce*((j[qe]-Fe)*ln+Fe)}return qe>13?ce:ce*Re[qe]}return ce*j[qe]}var De=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function Te(ce,pe,Ce){var Ae;if(ce<0&&(ce=0),pe<0&&(pe=0),ce<=0)return pe;if(pe<=0)return ce;if(pe>ce?Ae=pe/ce:Ae=ce/pe,-2<=Ce&&Ce<=2){if(Ae>=Me)return ce+pe;var Ge=0|d.FAST_LOG10_X(Ae,16);return(ce+pe)*De[Ge]}return Ae<de?ce+pe:(ce<pe&&(ce=pe),ce)}function Qe(ce,pe){var Ce=ce.internal_flags;if(Ce.channels_out>1){for(var Ae=0;Ae<x.SBMAX_l;Ae++){var Ge=Ce.thm[0].l[Ae],be=Ce.thm[1].l[Ae];Ce.thm[0].l[Ae]+=be*pe,Ce.thm[1].l[Ae]+=Ge*pe}for(var Ae=0;Ae<x.SBMAX_s;Ae++)for(var Pe=0;Pe<3;Pe++){var Ge=Ce.thm[0].s[Ae][Pe],be=Ce.thm[1].s[Ae][Pe];Ce.thm[0].s[Ae][Pe]+=be*pe,Ce.thm[1].s[Ae][Pe]+=Ge*pe}}}function an(ce){for(var pe=0;pe<x.SBMAX_l;pe++)if(!(ce.thm[0].l[pe]>1.58*ce.thm[1].l[pe]||ce.thm[1].l[pe]>1.58*ce.thm[0].l[pe])){var Ce=ce.mld_l[pe]*ce.en[3].l[pe],Ae=Math.max(ce.thm[2].l[pe],Math.min(ce.thm[3].l[pe],Ce));Ce=ce.mld_l[pe]*ce.en[2].l[pe];var Ge=Math.max(ce.thm[3].l[pe],Math.min(ce.thm[2].l[pe],Ce));ce.thm[2].l[pe]=Ae,ce.thm[3].l[pe]=Ge}for(var pe=0;pe<x.SBMAX_s;pe++)for(var be=0;be<3;be++)if(!(ce.thm[0].s[pe][be]>1.58*ce.thm[1].s[pe][be]||ce.thm[1].s[pe][be]>1.58*ce.thm[0].s[pe][be])){var Ce=ce.mld_s[pe]*ce.en[3].s[pe][be],Ae=Math.max(ce.thm[2].s[pe][be],Math.min(ce.thm[3].s[pe][be],Ce));Ce=ce.mld_s[pe]*ce.en[2].s[pe][be];var Ge=Math.max(ce.thm[3].s[pe][be],Math.min(ce.thm[2].s[pe][be],Ce));ce.thm[2].s[pe][be]=Ae,ce.thm[3].s[pe][be]=Ge}}function un(ce,pe,Ce){var Ae=pe,Ge=Math.pow(10,Ce);pe*=2,Ae*=2;for(var be=0;be<x.SBMAX_l;be++){var Pe,qe,Fe,ln;if(ln=ce.ATH.cb_l[ce.bm_l[be]]*Ge,Pe=Math.min(Math.max(ce.thm[0].l[be],ln),Math.max(ce.thm[1].l[be],ln)),qe=Math.max(ce.thm[2].l[be],ln),Fe=Math.max(ce.thm[3].l[be],ln),Pe*pe<qe+Fe){var je=Pe*Ae/(qe+Fe);qe*=je,Fe*=je,E(qe+Fe>0)}ce.thm[2].l[be]=Math.min(qe,ce.thm[2].l[be]),ce.thm[3].l[be]=Math.min(Fe,ce.thm[3].l[be])}Ge*=x.BLKSIZE_s/x.BLKSIZE;for(var be=0;be<x.SBMAX_s;be++)for(var cn=0;cn<3;cn++){var Pe,qe,Fe,ln;if(ln=ce.ATH.cb_s[ce.bm_s[be]]*Ge,Pe=Math.min(Math.max(ce.thm[0].s[be][cn],ln),Math.max(ce.thm[1].s[be][cn],ln)),qe=Math.max(ce.thm[2].s[be][cn],ln),Fe=Math.max(ce.thm[3].s[be][cn],ln),Pe*pe<qe+Fe){var je=Pe*pe/(qe+Fe);qe*=je,Fe*=je,E(qe+Fe>0)}ce.thm[2].s[be][cn]=Math.min(ce.thm[2].s[be][cn],qe),ce.thm[3].s[be][cn]=Math.min(ce.thm[3].s[be][cn],Fe)}}function Nn(ce,pe,Ce,Ae,Ge){var be,Pe,qe=0,Fe=0;for(be=Pe=0;be<x.SBMAX_s;++Pe,++be){for(var ln=ce.bo_s[be],je=ce.npart_s,cn=ln<je?ln:je;Pe<cn;)E(pe[Pe]>=0),E(Ce[Pe]>=0),qe+=pe[Pe],Fe+=Ce[Pe],Pe++;if(ce.en[Ae].s[be][Ge]=qe,ce.thm[Ae].s[be][Ge]=Fe,Pe>=je){++be;break}E(pe[Pe]>=0),E(Ce[Pe]>=0);var Mn=ce.PSY.bo_s_weight[be],ot=1-Mn;qe=Mn*pe[Pe],Fe=Mn*Ce[Pe],ce.en[Ae].s[be][Ge]+=qe,ce.thm[Ae].s[be][Ge]+=Fe,qe=ot*pe[Pe],Fe=ot*Ce[Pe]}for(;be<x.SBMAX_s;++be)ce.en[Ae].s[be][Ge]=0,ce.thm[Ae].s[be][Ge]=0}function Ye(ce,pe,Ce,Ae){var Ge,be,Pe=0,qe=0;for(Ge=be=0;Ge<x.SBMAX_l;++be,++Ge){for(var Fe=ce.bo_l[Ge],ln=ce.npart_l,je=Fe<ln?Fe:ln;be<je;)E(pe[be]>=0),E(Ce[be]>=0),Pe+=pe[be],qe+=Ce[be],be++;if(ce.en[Ae].l[Ge]=Pe,ce.thm[Ae].l[Ge]=qe,be>=ln){++Ge;break}E(pe[be]>=0),E(Ce[be]>=0);var cn=ce.PSY.bo_l_weight[Ge],Mn=1-cn;Pe=cn*pe[be],qe=cn*Ce[be],ce.en[Ae].l[Ge]+=Pe,ce.thm[Ae].l[Ge]+=qe,Pe=Mn*pe[be],qe=Mn*Ce[be]}for(;Ge<x.SBMAX_l;++Ge)ce.en[Ae].l[Ge]=0,ce.thm[Ae].l[Ge]=0}function mn(ce,pe,Ce,Ae,Ge,be){var Pe=ce.internal_flags,qe,Fe;for(Fe=qe=0;Fe<Pe.npart_s;++Fe){for(var ln=0,je=Pe.numlines_s[Fe],cn=0;cn<je;++cn,++qe){var Mn=pe[be][qe];ln+=Mn}Ce[Fe]=ln}for(E(Fe==Pe.npart_s),E(qe==129),qe=Fe=0;Fe<Pe.npart_s;Fe++){var ot=Pe.s3ind_s[Fe][0],Ke=Pe.s3_ss[qe++]*Ce[ot];for(++ot;ot<=Pe.s3ind_s[Fe][1];)Ke+=Pe.s3_ss[qe]*Ce[ot],++qe,++ot;var ke=U*Pe.nb_s1[Ge][Fe];if(Ae[Fe]=Math.min(Ke,ke),Pe.blocktype_old[Ge&1]==x.SHORT_TYPE){var ke=M*Pe.nb_s2[Ge][Fe],Ne=Ae[Fe];Ae[Fe]=Math.min(ke,Ne)}Pe.nb_s2[Ge][Fe]=Pe.nb_s1[Ge][Fe],Pe.nb_s1[Ge][Fe]=Ke,E(Ae[Fe]>=0)}for(;Fe<=x.CBANDS;++Fe)Ce[Fe]=0,Ae[Fe]=0}function sn(ce,pe,Ce,Ae){var Ge=ce.internal_flags;ce.short_blocks==l.short_block_coupled&&!(pe[0]!=0&&pe[1]!=0)&&(pe[0]=pe[1]=0);for(var be=0;be<Ge.channels_out;be++)Ae[be]=x.NORM_TYPE,ce.short_blocks==l.short_block_dispensed&&(pe[be]=1),ce.short_blocks==l.short_block_forced&&(pe[be]=0),pe[be]!=0?(E(Ge.blocktype_old[be]!=x.START_TYPE),Ge.blocktype_old[be]==x.SHORT_TYPE&&(Ae[be]=x.STOP_TYPE)):(Ae[be]=x.SHORT_TYPE,Ge.blocktype_old[be]==x.NORM_TYPE&&(Ge.blocktype_old[be]=x.START_TYPE),Ge.blocktype_old[be]==x.STOP_TYPE&&(Ge.blocktype_old[be]=x.SHORT_TYPE)),Ce[be]=Ge.blocktype_old[be],Ge.blocktype_old[be]=Ae[be]}function Ln(ce,pe,Ce){return Ce>=1?ce:Ce<=0?pe:pe>0?Math.pow(ce/pe,Ce)*pe:0}var Tn=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function G(ce,pe){for(var Ce=309.07,Ae=0;Ae<x.SBMAX_s-1;Ae++)for(var Ge=0;Ge<3;Ge++){var be=ce.thm.s[Ae][Ge];if(E(Ae<Tn.length),be>0){var Pe=be*pe,qe=ce.en.s[Ae][Ge];qe>Pe&&(qe>Pe*1e10?Ce+=Tn[Ae]*(10*k):(E(Pe>0),Ce+=Tn[Ae]*d.FAST_LOG10(qe/Pe)))}}return Ce}var ie=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function bn(ce,pe){for(var Ce=281.0575,Ae=0;Ae<x.SBMAX_l-1;Ae++){var Ge=ce.thm.l[Ae];if(E(Ae<ie.length),Ge>0){var be=Ge*pe,Pe=ce.en.l[Ae];Pe>be&&(Pe>be*1e10?Ce+=ie[Ae]*(10*k):(E(be>0),Ce+=ie[Ae]*d.FAST_LOG10(Pe/be)))}}return Ce}function Sn(ce,pe,Ce,Ae,Ge){var be,Pe;for(be=Pe=0;be<ce.npart_l;++be){var qe=0,Fe=0,ln;for(ln=0;ln<ce.numlines_l[be];++ln,++Pe){var je=pe[Pe];E(je>=0),qe+=je,Fe<je&&(Fe=je)}Ce[be]=qe,Ae[be]=Fe,Ge[be]=qe*ce.rnumlines_l[be],E(ce.rnumlines_l[be]>=0),E(qe>=0),E(Ce[be]>=0),E(Ae[be]>=0),E(Ge[be]>=0)}}function An(ce,pe,Ce,Ae){var Ge=K.length-1,be=0,Pe=Ce[be]+Ce[be+1];if(E(Pe>=0),Pe>0){var qe=pe[be];qe<pe[be+1]&&(qe=pe[be+1]),E(ce.numlines_l[be]+ce.numlines_l[be+1]-1>0),Pe=20*(qe*2-Pe)/(Pe*(ce.numlines_l[be]+ce.numlines_l[be+1]-1));var Fe=0|Pe;Fe>Ge&&(Fe=Ge),Ae[be]=Fe}else Ae[be]=0;for(be=1;be<ce.npart_l-1;be++)if(Pe=Ce[be-1]+Ce[be]+Ce[be+1],E(Pe>=0),Pe>0){var qe=pe[be-1];qe<pe[be]&&(qe=pe[be]),qe<pe[be+1]&&(qe=pe[be+1]),E(ce.numlines_l[be-1]+ce.numlines_l[be]+ce.numlines_l[be+1]-1>0),Pe=20*(qe*3-Pe)/(Pe*(ce.numlines_l[be-1]+ce.numlines_l[be]+ce.numlines_l[be+1]-1));var Fe=0|Pe;Fe>Ge&&(Fe=Ge),Ae[be]=Fe}else Ae[be]=0;if(E(be>0),E(be==ce.npart_l-1),Pe=Ce[be-1]+Ce[be],E(Pe>=0),Pe>0){var qe=pe[be-1];qe<pe[be]&&(qe=pe[be]),E(ce.numlines_l[be-1]+ce.numlines_l[be]-1>0),Pe=20*(qe*2-Pe)/(Pe*(ce.numlines_l[be-1]+ce.numlines_l[be]-1));var Fe=0|Pe;Fe>Ge&&(Fe=Ge),Ae[be]=Fe}else Ae[be]=0;E(be==ce.npart_l-1)}var Fn=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];this.L3psycho_anal_ns=function(ce,pe,Ce,Ae,Ge,be,Pe,qe,Fe,ln){var je=ce.internal_flags,cn=_([2,x.BLKSIZE]),Mn=_([2,3,x.BLKSIZE_s]),ot=f(x.CBANDS+1),Ke=f(x.CBANDS+1),ke=f(x.CBANDS+2),Ne=g(2),tn=g(2),Xn,dn,Vn,hn,et,or,zn,Ct,At=_([2,576]),lr,Pi=g(x.CBANDS+2),Rr=g(x.CBANDS+2);for(h.fill(Rr,0),Xn=je.channels_out,ce.mode==N.JOINT_STEREO&&(Xn=4),ce.VBR==r.vbr_off?lr=je.ResvMax==0?0:je.ResvSize/je.ResvMax*.5:ce.VBR==r.vbr_rh||ce.VBR==r.vbr_mtrh||ce.VBR==r.vbr_mt?lr=.6:lr=1,dn=0;dn<je.channels_out;dn++){var ir=pe[dn],ai=Ce+576-350-B+192;for(E(Fn.length==(B-1)/2),hn=0;hn<576;hn++){var hi,$t;for(hi=ir[ai+hn+10],$t=0,et=0;et<(B-1)/2-1;et+=2)hi+=Fn[et]*(ir[ai+hn+et]+ir[ai+hn+B-et]),$t+=Fn[et+1]*(ir[ai+hn+et+1]+ir[ai+hn+B-et-1]);At[dn][hn]=hi+$t}Ge[Ae][dn].en.assign(je.en[dn]),Ge[Ae][dn].thm.assign(je.thm[dn]),Xn>2&&(be[Ae][dn].en.assign(je.en[dn+2]),be[Ae][dn].thm.assign(je.thm[dn+2]))}for(dn=0;dn<Xn;dn++){var Fi,xi,pi=f(12),Bt=[0,0,0,0],ds=f(12),Oc=1,gi,Wd=f(x.CBANDS),Rc=f(x.CBANDS),Ir=[0,0,0,0],bi=f(x.HBLKSIZE),tl=_([3,x.HBLKSIZE_s]);for(E(je.npart_s<=x.CBANDS),E(je.npart_l<=x.CBANDS),hn=0;hn<3;hn++)pi[hn]=je.nsPsy.last_en_subshort[dn][hn+6],E(je.nsPsy.last_en_subshort[dn][hn+4]>0),ds[hn]=pi[hn]/je.nsPsy.last_en_subshort[dn][hn+4],Bt[0]+=pi[hn];if(dn==2)for(hn=0;hn<576;hn++){var fi,rl;fi=At[0][hn],rl=At[1][hn],At[0][hn]=fi+rl,At[1][hn]=fi-rl}var zi=At[dn&1],ko=0;for(hn=0;hn<9;hn++){for(var Gl=ko+64,si=1;ko<Gl;ko++)si<Math.abs(zi[ko])&&(si=Math.abs(zi[ko]));je.nsPsy.last_en_subshort[dn][hn]=pi[hn+3]=si,Bt[1+hn/3]+=si,si>pi[hn+3-2]?(E(pi[hn+3-2]>0),si=si/pi[hn+3-2]):pi[hn+3-2]>si*10?(E(si>0),si=pi[hn+3-2]/(si*10)):si=0,ds[hn+3]=si}if(ce.analysis){var Zs=ds[0];for(hn=1;hn<12;hn++)Zs<ds[hn]&&(Zs=ds[hn]);je.pinfo.ers[Ae][dn]=je.pinfo.ers_save[dn],je.pinfo.ers_save[dn]=Zs}for(gi=dn==3?je.nsPsy.attackthre_s:je.nsPsy.attackthre,hn=0;hn<12;hn++)Ir[hn/3]==0&&ds[hn]>gi&&(Ir[hn/3]=hn%3+1);for(hn=1;hn<4;hn++){var Mc;Bt[hn-1]>Bt[hn]?(E(Bt[hn]>0),Mc=Bt[hn-1]/Bt[hn]):(E(Bt[hn-1]>0),Mc=Bt[hn]/Bt[hn-1]),Mc<1.7&&(Ir[hn]=0,hn==1&&(Ir[0]=0))}for(Ir[0]!=0&&je.nsPsy.lastAttacks[dn]!=0&&(Ir[0]=0),(je.nsPsy.lastAttacks[dn]==3||Ir[0]+Ir[1]+Ir[2]+Ir[3]!=0)&&(Oc=0,Ir[1]!=0&&Ir[0]!=0&&(Ir[1]=0),Ir[2]!=0&&Ir[1]!=0&&(Ir[2]=0),Ir[3]!=0&&Ir[2]!=0&&(Ir[3]=0)),dn<2?tn[dn]=Oc:Oc==0&&(tn[0]=tn[1]=0),Fe[dn]=je.tot_ener[dn],xi=Mn,Fi=cn,_e(ce,bi,tl,Fi,dn&1,xi,dn&1,Ae,dn,pe,Ce),Sn(je,bi,ot,Wd,Rc),An(je,Wd,Rc,Pi),Ct=0;Ct<3;Ct++){var il,Gi;for(mn(ce,tl,Ke,ke,dn,Ct),Nn(je,Ke,ke,dn,Ct),zn=0;zn<x.SBMAX_s;zn++){if(Gi=je.thm[dn].s[zn][Ct],Gi*=q,Ir[Ct]>=2||Ir[Ct+1]==1){var us=Ct!=0?Ct-1:2,si=Ln(je.thm[dn].s[zn][us],Gi,z*lr);Gi=Math.min(Gi,si)}if(Ir[Ct]==1){var us=Ct!=0?Ct-1:2,si=Ln(je.thm[dn].s[zn][us],Gi,ne*lr);Gi=Math.min(Gi,si)}else if(Ct!=0&&Ir[Ct-1]==3||Ct==0&&je.nsPsy.lastAttacks[dn]==3){var us=Ct!=2?Ct+1:0,si=Ln(je.thm[dn].s[zn][us],Gi,ne*lr);Gi=Math.min(Gi,si)}il=pi[Ct*3+3]+pi[Ct*3+4]+pi[Ct*3+5],pi[Ct*3+5]*6<il&&(Gi*=.5,pi[Ct*3+4]*6<il&&(Gi*=.5)),je.thm[dn].s[zn][Ct]=Gi}}for(je.nsPsy.lastAttacks[dn]=Ir[2],or=0,Vn=0;Vn<je.npart_l;Vn++){for(var Mr=je.s3ind[Vn][0],Pt=ot[Mr]*K[Pi[Mr]],wt=je.s3_ll[or++]*Pt;++Mr<=je.s3ind[Vn][1];)Pt=ot[Mr]*K[Pi[Mr]],wt=ze(wt,je.s3_ll[or++]*Pt,Mr,Mr-Vn,je,0);wt*=.158489319246111,je.blocktype_old[dn&1]==x.SHORT_TYPE?ke[Vn]=wt:ke[Vn]=Ln(Math.min(wt,Math.min(C*je.nb_1[dn][Vn],A*je.nb_2[dn][Vn])),wt,lr),je.nb_2[dn][Vn]=je.nb_1[dn][Vn],je.nb_1[dn][Vn]=wt}for(;Vn<=x.CBANDS;++Vn)ot[Vn]=0,ke[Vn]=0;Ye(je,ot,ke,dn)}if((ce.mode==N.STEREO||ce.mode==N.JOINT_STEREO)&&ce.interChRatio>0&&Qe(ce,ce.interChRatio),ce.mode==N.JOINT_STEREO){var en;an(je),en=ce.msfix,Math.abs(en)>0&&un(je,en,ce.ATHlower*je.ATH.adjust)}for(sn(ce,tn,ln,Ne),dn=0;dn<Xn;dn++){var Be,st=0,Qn,lt;dn>1?(Be=qe,st=-2,Qn=x.NORM_TYPE,(ln[0]==x.SHORT_TYPE||ln[1]==x.SHORT_TYPE)&&(Qn=x.SHORT_TYPE),lt=be[Ae][dn-2]):(Be=Pe,st=0,Qn=ln[dn],lt=Ge[Ae][dn]),Qn==x.SHORT_TYPE?Be[st+dn]=G(lt,je.masking_lower):Be[st+dn]=bn(lt,je.masking_lower),ce.analysis&&(je.pinfo.pe[Ae][dn]=Be[st+dn])}return 0};function Hn(ce,pe,Ce,Ae,Ge,be,Pe,qe){var Fe=ce.internal_flags;if(Ae<2)P.fft_long(Fe,Pe[qe],Ae,pe,Ce);else if(Ae==2)for(var ln=x.BLKSIZE-1;ln>=0;--ln){var je=Pe[qe+0][ln],cn=Pe[qe+1][ln];Pe[qe+0][ln]=(je+cn)*d.SQRT2*.5,Pe[qe+1][ln]=(je-cn)*d.SQRT2*.5}be[0]=Pe[qe+0][0],be[0]*=be[0];for(var ln=x.BLKSIZE/2-1;ln>=0;--ln){var Mn=Pe[qe+0][x.BLKSIZE/2-ln],ot=Pe[qe+0][x.BLKSIZE/2+ln];be[x.BLKSIZE/2-ln]=(Mn*Mn+ot*ot)*.5}for(var Ke=0,ln=11;ln<x.HBLKSIZE;ln++)Ke+=be[ln];if(Fe.tot_ener[Ae]=Ke,ce.analysis){for(var ln=0;ln<x.HBLKSIZE;ln++)Fe.pinfo.energy[Ge][Ae][ln]=Fe.pinfo.energy_save[Ae][ln],Fe.pinfo.energy_save[Ae][ln]=be[ln];Fe.pinfo.pe[Ge][Ae]=Fe.pe[Ae]}}function Bn(ce,pe,Ce,Ae,Ge,be,Pe,qe){var Fe=ce.internal_flags;if(Ge==0&&Ae<2&&P.fft_short(Fe,Pe[qe],Ae,pe,Ce),Ae==2)for(var ln=x.BLKSIZE_s-1;ln>=0;--ln){var je=Pe[qe+0][Ge][ln],cn=Pe[qe+1][Ge][ln];Pe[qe+0][Ge][ln]=(je+cn)*d.SQRT2*.5,Pe[qe+1][Ge][ln]=(je-cn)*d.SQRT2*.5}be[Ge][0]=Pe[qe+0][Ge][0],be[Ge][0]*=be[Ge][0];for(var ln=x.BLKSIZE_s/2-1;ln>=0;--ln){var Mn=Pe[qe+0][Ge][x.BLKSIZE_s/2-ln],ot=Pe[qe+0][Ge][x.BLKSIZE_s/2+ln];be[Ge][x.BLKSIZE_s/2-ln]=(Mn*Mn+ot*ot)*.5}}function pt(ce,pe,Ce,Ae){var Ge=ce.internal_flags;ce.athaa_loudapprox==2&&Ce<2&&(Ge.loudness_sq[pe][Ce]=Ge.loudness_sq_save[Ce],Ge.loudness_sq_save[Ce]=Q(Ae,Ge))}var Yn=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];function On(ce,pe,Ce,Ae,Ge,be,Pe,qe,Fe,ln){for(var je=_([2,576]),cn=ce.internal_flags,Mn=cn.channels_out,ot=ce.mode==N.JOINT_STEREO?4:Mn,Ke=0;Ke<Mn;Ke++){firbuf=pe[Ke];var ke=Ce+576-350-B+192;E(Yn.length==(B-1)/2);for(var Ne=0;Ne<576;Ne++){var tn,Xn;tn=firbuf[ke+Ne+10],Xn=0;for(var dn=0;dn<(B-1)/2-1;dn+=2)tn+=Yn[dn]*(firbuf[ke+Ne+dn]+firbuf[ke+Ne+B-dn]),Xn+=Yn[dn+1]*(firbuf[ke+Ne+dn+1]+firbuf[ke+Ne+B-dn-1]);je[Ke][Ne]=tn+Xn}Ge[Ae][Ke].en.assign(cn.en[Ke]),Ge[Ae][Ke].thm.assign(cn.thm[Ke]),ot>2&&(be[Ae][Ke].en.assign(cn.en[Ke+2]),be[Ae][Ke].thm.assign(cn.thm[Ke+2]))}for(var Ke=0;Ke<ot;Ke++){var Vn=f(12),hn=f(12),et=[0,0,0,0],or=je[Ke&1],zn=0,Ct=Ke==3?cn.nsPsy.attackthre_s:cn.nsPsy.attackthre,At=1;if(Ke==2)for(var Ne=0,dn=576;dn>0;++Ne,--dn){var lr=je[0][Ne],Pi=je[1][Ne];je[0][Ne]=lr+Pi,je[1][Ne]=lr-Pi}for(var Ne=0;Ne<3;Ne++)hn[Ne]=cn.nsPsy.last_en_subshort[Ke][Ne+6],E(cn.nsPsy.last_en_subshort[Ke][Ne+4]>0),Vn[Ne]=hn[Ne]/cn.nsPsy.last_en_subshort[Ke][Ne+4],et[0]+=hn[Ne];for(var Ne=0;Ne<9;Ne++){for(var Rr=zn+64,ir=1;zn<Rr;zn++)ir<Math.abs(or[zn])&&(ir=Math.abs(or[zn]));cn.nsPsy.last_en_subshort[Ke][Ne]=hn[Ne+3]=ir,et[1+Ne/3]+=ir,ir>hn[Ne+3-2]?(E(hn[Ne+3-2]>0),ir=ir/hn[Ne+3-2]):hn[Ne+3-2]>ir*10?(E(ir>0),ir=hn[Ne+3-2]/(ir*10)):ir=0,Vn[Ne+3]=ir}for(var Ne=0;Ne<3;++Ne){var ai=hn[Ne*3+3]+hn[Ne*3+4]+hn[Ne*3+5],hi=1;hn[Ne*3+5]*6<ai&&(hi*=.5,hn[Ne*3+4]*6<ai&&(hi*=.5)),qe[Ke][Ne]=hi}if(ce.analysis){for(var $t=Vn[0],Ne=1;Ne<12;Ne++)$t<Vn[Ne]&&($t=Vn[Ne]);cn.pinfo.ers[Ae][Ke]=cn.pinfo.ers_save[Ke],cn.pinfo.ers_save[Ke]=$t}for(var Ne=0;Ne<12;Ne++)Fe[Ke][Ne/3]==0&&Vn[Ne]>Ct&&(Fe[Ke][Ne/3]=Ne%3+1);for(var Ne=1;Ne<4;Ne++){var Fi=et[Ne-1],xi=et[Ne],pi=Math.max(Fi,xi);pi<4e4&&Fi<1.7*xi&&xi<1.7*Fi&&(Ne==1&&Fe[Ke][0]<=Fe[Ke][Ne]&&(Fe[Ke][0]=0),Fe[Ke][Ne]=0)}Fe[Ke][0]<=cn.nsPsy.lastAttacks[Ke]&&(Fe[Ke][0]=0),(cn.nsPsy.lastAttacks[Ke]==3||Fe[Ke][0]+Fe[Ke][1]+Fe[Ke][2]+Fe[Ke][3]!=0)&&(At=0,Fe[Ke][1]!=0&&Fe[Ke][0]!=0&&(Fe[Ke][1]=0),Fe[Ke][2]!=0&&Fe[Ke][1]!=0&&(Fe[Ke][2]=0),Fe[Ke][3]!=0&&Fe[Ke][2]!=0&&(Fe[Ke][3]=0)),Ke<2?ln[Ke]=At:At==0&&(ln[0]=ln[1]=0),Pe[Ke]=cn.tot_ener[Ke]}}function Tt(ce,pe,Ce){if(Ce==0)for(var Ae=0;Ae<ce.npart_s;Ae++)ce.nb_s2[pe][Ae]=ce.nb_s1[pe][Ae],ce.nb_s1[pe][Ae]=0}function Ut(ce,pe){for(var Ce=0;Ce<ce.npart_l;Ce++)ce.nb_2[pe][Ce]=ce.nb_1[pe][Ce],ce.nb_1[pe][Ce]=0}function jt(ce,pe,Ce,Ae){var Ge=K.length-1,be=0,Pe=Ce[be]+Ce[be+1];if(E(Pe>=0),Pe>0){var qe=pe[be];qe<pe[be+1]&&(qe=pe[be+1]),E(ce.numlines_s[be]+ce.numlines_s[be+1]-1>0),Pe=20*(qe*2-Pe)/(Pe*(ce.numlines_s[be]+ce.numlines_s[be+1]-1));var Fe=0|Pe;Fe>Ge&&(Fe=Ge),Ae[be]=Fe}else Ae[be]=0;for(be=1;be<ce.npart_s-1;be++)if(Pe=Ce[be-1]+Ce[be]+Ce[be+1],E(be+1<ce.npart_s),E(Pe>=0),Pe>0){var qe=pe[be-1];qe<pe[be]&&(qe=pe[be]),qe<pe[be+1]&&(qe=pe[be+1]),E(ce.numlines_s[be-1]+ce.numlines_s[be]+ce.numlines_s[be+1]-1>0),Pe=20*(qe*3-Pe)/(Pe*(ce.numlines_s[be-1]+ce.numlines_s[be]+ce.numlines_s[be+1]-1));var Fe=0|Pe;Fe>Ge&&(Fe=Ge),Ae[be]=Fe}else Ae[be]=0;if(E(be>0),E(be==ce.npart_s-1),Pe=Ce[be-1]+Ce[be],E(Pe>=0),Pe>0){var qe=pe[be-1];qe<pe[be]&&(qe=pe[be]),E(ce.numlines_s[be-1]+ce.numlines_s[be]-1>0),Pe=20*(qe*2-Pe)/(Pe*(ce.numlines_s[be-1]+ce.numlines_s[be]-1));var Fe=0|Pe;Fe>Ge&&(Fe=Ge),Ae[be]=Fe}else Ae[be]=0;E(be==ce.npart_s-1)}function Nt(ce,pe,Ce,Ae,Ge,be){var Pe=ce.internal_flags,qe=new float[x.CBANDS],Fe=f(x.CBANDS),ln,je,cn,Mn=new int[x.CBANDS];for(cn=je=0;cn<Pe.npart_s;++cn){var ot=0,Ke=0,ke=Pe.numlines_s[cn];for(ln=0;ln<ke;++ln,++je){var Ne=pe[be][je];ot+=Ne,Ke<Ne&&(Ke=Ne)}Ce[cn]=ot,E(ot>=0),qe[cn]=Ke,E(ke>0),Fe[cn]=ot/ke,E(Fe[cn]>=0)}for(E(cn==Pe.npart_s),E(je==129);cn<x.CBANDS;++cn)qe[cn]=0,Fe[cn]=0;for(jt(Pe,qe,Fe,Mn),je=cn=0;cn<Pe.npart_s;cn++){var tn=Pe.s3ind_s[cn][0],Xn=Pe.s3ind_s[cn][1],dn,Vn,hn,et,or;for(dn=Mn[tn],Vn=1,et=Pe.s3_ss[je]*Ce[tn]*K[Mn[tn]],++je,++tn;tn<=Xn;)dn+=Mn[tn],Vn+=1,hn=Pe.s3_ss[je]*Ce[tn]*K[Mn[tn]],et=Te(et,hn,tn-cn),++je,++tn;dn=(1+2*dn)/(2*Vn),or=K[dn]*.5,et*=or,Ae[cn]=et,Pe.nb_s2[Ge][cn]=Pe.nb_s1[Ge][cn],Pe.nb_s1[Ge][cn]=et,hn=qe[cn],hn*=Pe.minval_s[cn],hn*=or,Ae[cn]>hn&&(Ae[cn]=hn),Pe.masking_lower>1&&(Ae[cn]*=Pe.masking_lower),Ae[cn]>Ce[cn]&&(Ae[cn]=Ce[cn]),Pe.masking_lower<1&&(Ae[cn]*=Pe.masking_lower),E(Ae[cn]>=0)}for(;cn<x.CBANDS;++cn)Ce[cn]=0,Ae[cn]=0}function Zn(ce,pe,Ce,Ae,Ge){var be=f(x.CBANDS),Pe=f(x.CBANDS),qe=g(x.CBANDS+2),Fe;Sn(ce,pe,Ce,be,Pe),An(ce,be,Pe,qe);var ln=0;for(Fe=0;Fe<ce.npart_l;Fe++){var je,cn,Mn,ot,Ke=ce.s3ind[Fe][0],ke=ce.s3ind[Fe][1],Ne=0,tn=0;for(Ne=qe[Ke],tn+=1,cn=ce.s3_ll[ln]*Ce[Ke]*K[qe[Ke]],++ln,++Ke;Ke<=ke;)Ne+=qe[Ke],tn+=1,je=ce.s3_ll[ln]*Ce[Ke]*K[qe[Ke]],ot=Te(cn,je,Ke-Fe),cn=ot,++ln,++Ke;if(Ne=(1+2*Ne)/(2*tn),Mn=K[Ne]*.5,cn*=Mn,ce.blocktype_old[Ge&1]==x.SHORT_TYPE){var Xn=C*ce.nb_1[Ge][Fe];Xn>0?Ae[Fe]=Math.min(cn,Xn):Ae[Fe]=Math.min(cn,Ce[Fe]*ne)}else{var dn=A*ce.nb_2[Ge][Fe],Vn=C*ce.nb_1[Ge][Fe],Xn;dn<=0&&(dn=cn),Vn<=0&&(Vn=cn),ce.blocktype_old[Ge&1]==x.NORM_TYPE?Xn=Math.min(Vn,dn):Xn=Vn,Ae[Fe]=Math.min(cn,Xn)}ce.nb_2[Ge][Fe]=ce.nb_1[Ge][Fe],ce.nb_1[Ge][Fe]=cn,je=be[Fe],je*=ce.minval_l[Fe],je*=Mn,Ae[Fe]>je&&(Ae[Fe]=je),ce.masking_lower>1&&(Ae[Fe]*=ce.masking_lower),Ae[Fe]>Ce[Fe]&&(Ae[Fe]=Ce[Fe]),ce.masking_lower<1&&(Ae[Fe]*=ce.masking_lower),E(Ae[Fe]>=0)}for(;Fe<x.CBANDS;++Fe)Ce[Fe]=0,Ae[Fe]=0}function Rn(ce,pe){var Ce=ce.internal_flags;ce.short_blocks==l.short_block_coupled&&!(pe[0]!=0&&pe[1]!=0)&&(pe[0]=pe[1]=0);for(var Ae=0;Ae<Ce.channels_out;Ae++)ce.short_blocks==l.short_block_dispensed&&(pe[Ae]=1),ce.short_blocks==l.short_block_forced&&(pe[Ae]=0)}function Je(ce,pe,Ce){for(var Ae=ce.internal_flags,Ge=0;Ge<Ae.channels_out;Ge++){var be=x.NORM_TYPE;pe[Ge]!=0?(E(Ae.blocktype_old[Ge]!=x.START_TYPE),Ae.blocktype_old[Ge]==x.SHORT_TYPE&&(be=x.STOP_TYPE)):(be=x.SHORT_TYPE,Ae.blocktype_old[Ge]==x.NORM_TYPE&&(Ae.blocktype_old[Ge]=x.START_TYPE),Ae.blocktype_old[Ge]==x.STOP_TYPE&&(Ae.blocktype_old[Ge]=x.SHORT_TYPE)),Ce[Ge]=Ae.blocktype_old[Ge],Ae.blocktype_old[Ge]=be}}function tt(ce,pe,Ce,Ae,Ge,be,Pe){for(var qe=be*2,Fe=be>0?Math.pow(10,Ge):1,ln,je,cn=0;cn<Pe;++cn){var Mn=ce[2][cn],ot=ce[3][cn],Ke=pe[0][cn],ke=pe[1][cn],Ne=pe[2][cn],tn=pe[3][cn];if(Ke<=1.58*ke&&ke<=1.58*Ke){var Xn=Ce[cn]*ot,dn=Ce[cn]*Mn;je=Math.max(Ne,Math.min(tn,Xn)),ln=Math.max(tn,Math.min(Ne,dn))}else je=Ne,ln=tn;if(be>0){var Vn,hn,et=Ae[cn]*Fe;if(Vn=Math.min(Math.max(Ke,et),Math.max(ke,et)),Ne=Math.max(je,et),tn=Math.max(ln,et),hn=Ne+tn,hn>0&&Vn*qe<hn){var or=Vn*qe/hn;Ne*=or,tn*=or,E(hn>0)}je=Math.min(Ne,je),ln=Math.min(tn,ln)}je>Mn&&(je=Mn),ln>ot&&(ln=ot),pe[2][cn]=je,pe[3][cn]=ln}}this.L3psycho_anal_vbr=function(ce,pe,Ce,Ae,Ge,be,Pe,qe,Fe,ln){var je=ce.internal_flags,cn,Mn,ot=f(x.HBLKSIZE),Ke=_([3,x.HBLKSIZE_s]),ke=_([2,x.BLKSIZE]),Ne=_([2,3,x.BLKSIZE_s]),tn=_([4,x.CBANDS]),Xn=_([4,x.CBANDS]),dn=_([4,3]),Vn=.6,hn=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],et=g(2),or=ce.mode==N.JOINT_STEREO?4:je.channels_out;On(ce,pe,Ce,Ae,Ge,be,Fe,dn,hn,et),Rn(ce,et);for(var zn=0;zn<or;zn++){var Ct=zn&1;cn=ke,Hn(ce,pe,Ce,zn,Ae,ot,cn,Ct),pt(ce,Ae,zn,ot),et[Ct]!=0?Zn(je,ot,tn[zn],Xn[zn],zn):Ut(je,zn)}et[0]+et[1]==2&&ce.mode==N.JOINT_STEREO&&tt(tn,Xn,je.mld_cb_l,je.ATH.cb_l,ce.ATHlower*je.ATH.adjust,ce.msfix,je.npart_l);for(var zn=0;zn<or;zn++){var Ct=zn&1;et[Ct]!=0&&Ye(je,tn[zn],Xn[zn],zn)}for(var At=0;At<3;At++){for(var zn=0;zn<or;++zn){var Ct=zn&1;et[Ct]!=0?Tt(je,zn,At):(Mn=Ne,Bn(ce,pe,Ce,zn,At,Ke,Mn,Ct),Nt(ce,Ke,tn[zn],Xn[zn],zn,At))}et[0]+et[1]==0&&ce.mode==N.JOINT_STEREO&&tt(tn,Xn,je.mld_cb_s,je.ATH.cb_s,ce.ATHlower*je.ATH.adjust,ce.msfix,je.npart_s);for(var zn=0;zn<or;++zn){var Ct=zn&1;et[Ct]==0&&Nn(je,tn[zn],Xn[zn],zn,At)}}for(var zn=0;zn<or;zn++){var Ct=zn&1;if(et[Ct]==0)for(var lr=0;lr<x.SBMAX_s;lr++){for(var Pi=f(3),At=0;At<3;At++){var Rr=je.thm[zn].s[lr][At];if(Rr*=q,hn[zn][At]>=2||hn[zn][At+1]==1){var ir=At!=0?At-1:2,ai=Ln(je.thm[zn].s[lr][ir],Rr,z*Vn);Rr=Math.min(Rr,ai)}else if(hn[zn][At]==1){var ir=At!=0?At-1:2,ai=Ln(je.thm[zn].s[lr][ir],Rr,ne*Vn);Rr=Math.min(Rr,ai)}else if(At!=0&&hn[zn][At-1]==3||At==0&&je.nsPsy.lastAttacks[zn]==3){var ir=At!=2?At+1:0,ai=Ln(je.thm[zn].s[lr][ir],Rr,ne*Vn);Rr=Math.min(Rr,ai)}Rr*=dn[zn][At],Pi[At]=Rr}for(var At=0;At<3;At++)je.thm[zn].s[lr][At]=Pi[At]}}for(var zn=0;zn<or;zn++)je.nsPsy.lastAttacks[zn]=hn[zn][2];Je(ce,et,ln);for(var zn=0;zn<or;zn++){var hi,$t,Fi,xi;zn>1?(hi=qe,$t=-2,Fi=x.NORM_TYPE,(ln[0]==x.SHORT_TYPE||ln[1]==x.SHORT_TYPE)&&(Fi=x.SHORT_TYPE),xi=be[Ae][zn-2]):(hi=Pe,$t=0,Fi=ln[zn],xi=Ge[Ae][zn]),Fi==x.SHORT_TYPE?hi[$t+zn]=G(xi,je.masking_lower):hi[$t+zn]=bn(xi,je.masking_lower),ce.analysis&&(je.pinfo.pe[Ae][zn]=hi[$t+zn])}return 0};function dt(ce,pe){var Ce=ce,Ae;return Ce>=0?Ae=-Ce*27:Ae=Ce*pe,Ae<=-72?0:Math.exp(Ae*Y)}function Rt(ce){var pe=0,Ce=0,Ae=0,Ge,be;for(Ae=0;dt(Ae,ce)>1e-20;Ae-=1);for(Ge=Ae,be=0;Math.abs(be-Ge)>1e-12;)Ae=(be+Ge)/2,dt(Ae,ce)>0?be=Ae:Ge=Ae;pe=Ge;var Ae=0,Ge,be;for(Ae=0;dt(Ae,ce)>1e-20;Ae+=1);for(Ge=0,be=Ae;Math.abs(be-Ge)>1e-12;)Ae=(be+Ge)/2,dt(Ae,ce)>0?Ge=Ae:be=Ae;Ce=be;var Pe=0,qe=1e3,Fe;for(Fe=0;Fe<=qe;++Fe){var Ae=pe+Fe*(Ce-pe)/qe,ln=dt(Ae,ce);Pe+=ln}var je=(qe+1)/(Pe*(Ce-pe));return je}function wr(ce){var pe,Ce,Ae,Ge;return pe=ce,pe>=0?pe*=3:pe*=1.5,pe>=.5&&pe<=2.5?(Ge=pe-.5,Ce=8*(Ge*Ge-2*Ge)):Ce=0,pe+=.474,Ae=15.811389+7.5*pe-17.5*Math.sqrt(1+pe*pe),Ae<=-60?0:(pe=Math.exp((Ce+Ae)*Y),pe/=.6609193,pe)}function Jt(ce){return ce<0&&(ce=0),ce=ce*.001,13*Math.atan(.76*ce)+3.5*Math.atan(ce*ce/56.25)}function Zr(ce,pe,Ce,Ae,Ge,be,Pe,qe,Fe,ln,je,cn){var Mn=f(x.CBANDS+1),ot=qe/(cn>15?1152:384),Ke=g(x.HBLKSIZE),ke;qe/=Fe;var Ne=0,tn=0;for(ke=0;ke<x.CBANDS;ke++){var Xn,dn;for(Xn=Jt(qe*Ne),Mn[ke]=qe*Ne,dn=Ne;Jt(qe*dn)-Xn<R&&dn<=Fe/2;dn++);for(ce[ke]=dn-Ne,tn=ke+1;Ne<dn;)E(Ne<x.HBLKSIZE),Ke[Ne++]=ke;if(Ne>Fe/2){Ne=Fe/2,++ke;break}}E(ke<x.CBANDS),Mn[ke]=qe*Ne;for(var Vn=0;Vn<cn;Vn++){var hn,et,or,zn,Ct;or=ln[Vn],zn=ln[Vn+1],hn=0|Math.floor(.5+je*(or-.5)),hn<0&&(hn=0),et=0|Math.floor(.5+je*(zn-.5)),et>Fe/2&&(et=Fe/2),Ce[Vn]=(Ke[hn]+Ke[et])/2,pe[Vn]=Ke[et];var At=ot*zn;Pe[Vn]=(At-Mn[pe[Vn]])/(Mn[pe[Vn]+1]-Mn[pe[Vn]]),Pe[Vn]<0?Pe[Vn]=0:Pe[Vn]>1&&(Pe[Vn]=1),Ct=Jt(qe*ln[Vn]*je),Ct=Math.min(Ct,15.5)/15.5,be[Vn]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Ct))-2.5)}Ne=0;for(var lr=0;lr<tn;lr++){var Pi=ce[lr],Xn,Rr;Xn=Jt(qe*Ne),Rr=Jt(qe*(Ne+Pi-1)),Ae[lr]=.5*(Xn+Rr),Xn=Jt(qe*(Ne-.5)),Rr=Jt(qe*(Ne+Pi-.5)),Ge[lr]=Rr-Xn,Ne+=Pi}return tn}function wi(ce,pe,Ce,Ae,Ge,be){var Pe=_([x.CBANDS,x.CBANDS]),qe,Fe=0;if(be)for(var ln=0;ln<pe;ln++)for(qe=0;qe<pe;qe++){var je=wr(Ce[ln]-Ce[qe])*Ae[qe];Pe[ln][qe]=je*Ge[ln]}else for(qe=0;qe<pe;qe++)for(var cn=15+Math.min(21/Ce[qe],12),Mn=Rt(cn),ln=0;ln<pe;ln++){var je=Mn*dt(Ce[ln]-Ce[qe],cn)*Ae[qe];Pe[ln][qe]=je*Ge[ln]}for(var ln=0;ln<pe;ln++){for(qe=0;qe<pe&&!(Pe[ln][qe]>0);qe++);for(ce[ln][0]=qe,qe=pe-1;qe>0&&!(Pe[ln][qe]>0);qe--);ce[ln][1]=qe,Fe+=ce[ln][1]-ce[ln][0]+1}for(var ot=f(Fe),Ke=0,ln=0;ln<pe;ln++)for(qe=ce[ln][0];qe<=ce[ln][1];qe++)ot[Ke++]=Pe[ln][qe];return ot}function Ui(ce){var pe=Jt(ce);return pe=Math.min(pe,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*pe))-2.5)}this.psymodel_init=function(ce){var pe=ce.internal_flags,Ce,Ae=!0,Ge=13,be=24,Pe=0,qe=0,Fe=-8.25,ln=-4.5,je=f(x.CBANDS),cn=f(x.CBANDS),Mn=f(x.CBANDS),ot=ce.out_samplerate;switch(ce.experimentalZ){default:case 0:Ae=!0;break;case 1:Ae=!(ce.VBR==r.vbr_mtrh||ce.VBR==r.vbr_mt);break;case 2:Ae=!1;break;case 3:Ge=8,Pe=-1.75,qe=-.0125,Fe=-8.25,ln=-2.25;break}for(pe.ms_ener_ratio_old=.25,pe.blocktype_old[0]=pe.blocktype_old[1]=x.NORM_TYPE,Ce=0;Ce<4;++Ce){for(var Ne=0;Ne<x.CBANDS;++Ne)pe.nb_1[Ce][Ne]=1e20,pe.nb_2[Ce][Ne]=1e20,pe.nb_s1[Ce][Ne]=pe.nb_s2[Ce][Ne]=1;for(var Ke=0;Ke<x.SBMAX_l;Ke++)pe.en[Ce].l[Ke]=1e20,pe.thm[Ce].l[Ke]=1e20;for(var Ne=0;Ne<3;++Ne){for(var Ke=0;Ke<x.SBMAX_s;Ke++)pe.en[Ce].s[Ke][Ne]=1e20,pe.thm[Ce].s[Ke][Ne]=1e20;pe.nsPsy.lastAttacks[Ce]=0}for(var Ne=0;Ne<9;Ne++)pe.nsPsy.last_en_subshort[Ce][Ne]=10}for(pe.loudness_sq_save[0]=pe.loudness_sq_save[1]=0,pe.npart_l=Zr(pe.numlines_l,pe.bo_l,pe.bm_l,je,cn,pe.mld_l,pe.PSY.bo_l_weight,ot,x.BLKSIZE,pe.scalefac_band.l,x.BLKSIZE/1152,x.SBMAX_l),E(pe.npart_l<x.CBANDS),Ce=0;Ce<pe.npart_l;Ce++){var ke=Pe;je[Ce]>=Ge&&(ke=qe*(je[Ce]-Ge)/(be-Ge)+Pe*(be-je[Ce])/(be-Ge)),Mn[Ce]=Math.pow(10,ke/10),pe.numlines_l[Ce]>0?pe.rnumlines_l[Ce]=1/pe.numlines_l[Ce]:pe.rnumlines_l[Ce]=0}pe.s3_ll=wi(pe.s3ind,pe.npart_l,je,cn,Mn,Ae);var Ne=0;for(Ce=0;Ce<pe.npart_l;Ce++){var tn;tn=a.MAX_VALUE;for(var Xn=0;Xn<pe.numlines_l[Ce];Xn++,Ne++){var dn=ot*Ne/(1e3*x.BLKSIZE),Vn;Vn=this.ATHformula(dn*1e3,ce)-20,Vn=Math.pow(10,.1*Vn),Vn*=pe.numlines_l[Ce],tn>Vn&&(tn=Vn)}pe.ATH.cb_l[Ce]=tn,tn=-20+je[Ce]*20/10,tn>6&&(tn=100),tn<-15&&(tn=-15),tn-=8,pe.minval_l[Ce]=Math.pow(10,tn/10)*pe.numlines_l[Ce]}for(pe.npart_s=Zr(pe.numlines_s,pe.bo_s,pe.bm_s,je,cn,pe.mld_s,pe.PSY.bo_s_weight,ot,x.BLKSIZE_s,pe.scalefac_band.s,x.BLKSIZE_s/384,x.SBMAX_s),E(pe.npart_s<x.CBANDS),Ne=0,Ce=0;Ce<pe.npart_s;Ce++){var tn,ke=Fe;je[Ce]>=Ge&&(ke=ln*(je[Ce]-Ge)/(be-Ge)+Fe*(be-je[Ce])/(be-Ge)),Mn[Ce]=Math.pow(10,ke/10),tn=a.MAX_VALUE;for(var Xn=0;Xn<pe.numlines_s[Ce];Xn++,Ne++){var dn=ot*Ne/(1e3*x.BLKSIZE_s),Vn;Vn=this.ATHformula(dn*1e3,ce)-20,Vn=Math.pow(10,.1*Vn),Vn*=pe.numlines_s[Ce],tn>Vn&&(tn=Vn)}pe.ATH.cb_s[Ce]=tn,tn=-7+je[Ce]*7/12,je[Ce]>12&&(tn*=1+Math.log(1+tn)*3.1),je[Ce]<12&&(tn*=1+Math.log(1-tn)*2.3),tn<-15&&(tn=-15),tn-=8,pe.minval_s[Ce]=Math.pow(10,tn/10)*pe.numlines_s[Ce]}pe.s3_ss=wi(pe.s3ind_s,pe.npart_s,je,cn,Mn,Ae),ee(),P.init_fft(pe),pe.decay=Math.exp(-1*k/(D*ot/192));var hn;hn=fe,ce.exp_nspsytune&2&&(hn=1),Math.abs(ce.msfix)>0&&(hn=ce.msfix),ce.msfix=hn;for(var et=0;et<pe.npart_l;et++)pe.s3ind[et][1]>pe.npart_l-1&&(pe.s3ind[et][1]=pe.npart_l-1);var or=576*pe.mode_gr/ot;if(pe.ATH.decay=Math.pow(10,-1.2*or),pe.ATH.adjust=.01,pe.ATH.adjustLimit=1,E(pe.bo_l[x.SBMAX_l-1]<=pe.npart_l),E(pe.bo_s[x.SBMAX_s-1]<=pe.npart_s),ce.ATHtype!=-1){var dn,zn=ce.out_samplerate/x.BLKSIZE,Ct=0;for(dn=0,Ce=0;Ce<x.BLKSIZE/2;++Ce)dn+=zn,pe.ATH.eql_w[Ce]=1/Math.pow(10,this.ATHformula(dn,ce)/10),Ct+=pe.ATH.eql_w[Ce];for(Ct=1/Ct,Ce=x.BLKSIZE/2;--Ce>=0;)pe.ATH.eql_w[Ce]*=Ct}for(var et=Ne=0;et<pe.npart_s;++et)for(Ce=0;Ce<pe.numlines_s[et];++Ce)++Ne;E(Ne==129);for(var et=Ne=0;et<pe.npart_l;++et)for(Ce=0;Ce<pe.numlines_l[et];++Ce)++Ne;for(E(Ne==513),Ne=0,Ce=0;Ce<pe.npart_l;Ce++){var dn=ot*(Ne+pe.numlines_l[Ce]/2)/(1*x.BLKSIZE);pe.mld_cb_l[Ce]=Ui(dn),Ne+=pe.numlines_l[Ce]}for(;Ce<x.CBANDS;++Ce)pe.mld_cb_l[Ce]=1;for(Ne=0,Ce=0;Ce<pe.npart_s;Ce++){var dn=ot*(Ne+pe.numlines_s[Ce]/2)/(1*x.BLKSIZE_s);pe.mld_cb_s[Ce]=Ui(dn),Ne+=pe.numlines_s[Ce]}for(;Ce<x.CBANDS;++Ce)pe.mld_cb_s[Ce]=1;return 0};function xr(ce,pe){ce<-.3&&(ce=3410),ce/=1e3,ce=Math.max(.1,ce);var Ce=3.64*Math.pow(ce,-.8)-6.8*Math.exp(-.6*Math.pow(ce-3.4,2))+6*Math.exp(-.15*Math.pow(ce-8.7,2))+(.6+.04*pe)*.001*Math.pow(ce,4);return Ce}this.ATHformula=function(ce,pe){var Ce;switch(pe.ATHtype){case 0:Ce=xr(ce,9);break;case 1:Ce=xr(ce,-1);break;case 2:Ce=xr(ce,0);break;case 3:Ce=xr(ce,1)+6;break;case 4:Ce=xr(ce,pe.ATHcurve);break;default:Ce=xr(ce,0);break}return Ce}}n.exports=T});yn.register("2g11P",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock;var r=e.Util;e.Arrays,e.new_array_n,e.new_byte,e.new_double;var a=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var l=yn("cPNKB");function d(){var h=a(l.BLKSIZE),f=a(l.BLKSIZE_s/2),_=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function g(w,x,T){var N=0,P,k,C;T<<=1;var A=x+T;P=4;do{var U,M,R,I,D,q,z;z=P>>1,I=P,D=P<<1,q=D+I,P=D<<1,k=x,C=k+z;do{var ne,fe,B,Y;fe=w[k+0]-w[k+I],ne=w[k+0]+w[k+I],Y=w[k+D]-w[k+q],B=w[k+D]+w[k+q],w[k+D]=ne-B,w[k+0]=ne+B,w[k+q]=fe-Y,w[k+I]=fe+Y,fe=w[C+0]-w[C+I],ne=w[C+0]+w[C+I],Y=r.SQRT2*w[C+q],B=r.SQRT2*w[C+D],w[C+D]=ne-B,w[C+0]=ne+B,w[C+q]=fe-Y,w[C+I]=fe+Y,C+=P,k+=P}while(k<A);for(M=_[N+0],U=_[N+1],R=1;R<z;R++){var ue,Q;ue=1-2*U*U,Q=2*U*M,k=x+R,C=x+I-R;do{var _e,le,se,ne,fe,me,B,Me,Y,de;le=Q*w[k+I]-ue*w[C+I],_e=ue*w[k+I]+Q*w[C+I],fe=w[k+0]-_e,ne=w[k+0]+_e,me=w[C+0]-le,se=w[C+0]+le,le=Q*w[k+q]-ue*w[C+q],_e=ue*w[k+q]+Q*w[C+q],Y=w[k+D]-_e,B=w[k+D]+_e,de=w[C+D]-le,Me=w[C+D]+le,le=U*B-M*de,_e=M*B+U*de,w[k+D]=ne-_e,w[k+0]=ne+_e,w[C+q]=me-le,w[C+I]=me+le,le=M*Me-U*Y,_e=U*Me+M*Y,w[C+D]=se-_e,w[C+0]=se+_e,w[k+q]=fe-le,w[k+I]=fe+le,C+=P,k+=P}while(k<A);ue=M,M=ue*_[N+0]-U*_[N+1],U=ue*_[N+1]+U*_[N+0]}N+=2}while(P<T)}var E=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(w,x,T,N,P){for(var k=0;k<3;k++){var C=l.BLKSIZE_s/2,A=65535&192*(k+1),U=l.BLKSIZE_s/8-1;do{var M,R,I,D,q,z=E[U<<2]&255;M=f[z]*N[T][P+z+A],q=f[127-z]*N[T][P+z+A+128],R=M-q,M=M+q,I=f[z+64]*N[T][P+z+A+64],q=f[63-z]*N[T][P+z+A+192],D=I-q,I=I+q,C-=4,x[k][C+0]=M+I,x[k][C+2]=M-I,x[k][C+1]=R+D,x[k][C+3]=R-D,M=f[z+1]*N[T][P+z+A+1],q=f[126-z]*N[T][P+z+A+129],R=M-q,M=M+q,I=f[z+65]*N[T][P+z+A+65],q=f[62-z]*N[T][P+z+A+193],D=I-q,I=I+q,x[k][C+l.BLKSIZE_s/2+0]=M+I,x[k][C+l.BLKSIZE_s/2+2]=M-I,x[k][C+l.BLKSIZE_s/2+1]=R+D,x[k][C+l.BLKSIZE_s/2+3]=R-D}while(--U>=0);g(x[k],C,l.BLKSIZE_s/2)}},this.fft_long=function(w,x,T,N,P){var k=l.BLKSIZE/8-1,C=l.BLKSIZE/2;do{var A,U,M,R,I,D=E[k]&255;A=h[D]*N[T][P+D],I=h[D+512]*N[T][P+D+512],U=A-I,A=A+I,M=h[D+256]*N[T][P+D+256],I=h[D+768]*N[T][P+D+768],R=M-I,M=M+I,C-=4,x[C+0]=A+M,x[C+2]=A-M,x[C+1]=U+R,x[C+3]=U-R,A=h[D+1]*N[T][P+D+1],I=h[D+513]*N[T][P+D+513],U=A-I,A=A+I,M=h[D+257]*N[T][P+D+257],I=h[D+769]*N[T][P+D+769],R=M-I,M=M+I,x[C+l.BLKSIZE/2+0]=A+M,x[C+l.BLKSIZE/2+2]=A-M,x[C+l.BLKSIZE/2+1]=U+R,x[C+l.BLKSIZE/2+3]=U-R}while(--k>=0);g(x,C,l.BLKSIZE/2)},this.init_fft=function(w){for(var x=0;x<l.BLKSIZE;x++)h[x]=.42-.5*Math.cos(2*Math.PI*(x+.5)/l.BLKSIZE)+.08*Math.cos(4*Math.PI*(x+.5)/l.BLKSIZE);for(var x=0;x<l.BLKSIZE_s/2;x++)f[x]=.5*(1-Math.cos(2*Math.PI*(x+.5)/l.BLKSIZE_s))}}n.exports=d});yn.register("cPNKB",function(n,t){var e=yn("3YDN3"),r=e.System,a=e.VbrMode;e.Float,e.ShortBlock,e.Util,e.Arrays;var l=e.new_array_n;e.new_byte,e.new_double;var d=e.new_float,h=e.new_float_n,f=e.new_int;e.new_int_n;var _=e.assert;g.ENCDELAY=576,g.POSTDELAY=1152,g.MDCTDELAY=48,g.FFTOFFSET=224+g.MDCTDELAY,g.DECDELAY=528,g.SBLIMIT=32,g.CBANDS=64,g.SBPSY_l=21,g.SBPSY_s=12,g.SBMAX_l=22,g.SBMAX_s=13,g.PSFB21=6,g.PSFB12=6,g.BLKSIZE=1024,g.HBLKSIZE=g.BLKSIZE/2+1,g.BLKSIZE_s=256,g.HBLKSIZE_s=g.BLKSIZE_s/2+1,g.NORM_TYPE=0,g.START_TYPE=1,g.SHORT_TYPE=2,g.STOP_TYPE=3,g.MPG_MD_LR_LR=0,g.MPG_MD_LR_I=1,g.MPG_MD_MS_LR=2,g.MPG_MD_MS_I=3,g.fircoef=[-.1039435,-.1892065,-.0432472*5,-.155915,779609e-23*5,.0467745*5,.50455,.756825,.187098*5];function g(){var E=yn("drj3v"),w=yn("hvy40"),x=yn("jL6I1"),T=g.FFTOFFSET,N=g.MPG_MD_MS_LR,P=null;this.psy=null;var k=null,C=null,A=null;this.setModules=function(D,q,z,ne){P=D,this.psy=q,k=q,C=ne,A=z};var U=new E;function M(D){var q,z;if(D.ATH.useAdjust==0){D.ATH.adjust=1;return}if(z=D.loudness_sq[0][0],q=D.loudness_sq[1][0],D.channels_out==2?(z+=D.loudness_sq[0][1],q+=D.loudness_sq[1][1]):(z+=z,q+=q),D.mode_gr==2&&(z=Math.max(z,q)),z*=.5,z*=D.ATH.aaSensitivityP,z>.03125)D.ATH.adjust>=1?D.ATH.adjust=1:D.ATH.adjust<D.ATH.adjustLimit&&(D.ATH.adjust=D.ATH.adjustLimit),D.ATH.adjustLimit=1;else{var ne=31.98*z+625e-6;D.ATH.adjust>=ne?(D.ATH.adjust*=ne*.075+.925,D.ATH.adjust<ne&&(D.ATH.adjust=ne)):D.ATH.adjustLimit>=ne?D.ATH.adjust=ne:D.ATH.adjust<D.ATH.adjustLimit&&(D.ATH.adjust=D.ATH.adjustLimit),D.ATH.adjustLimit=ne}}function R(D){var q,z;for(_(0<=D.bitrate_index&&D.bitrate_index<16),_(0<=D.mode_ext&&D.mode_ext<4),D.bitrate_stereoMode_Hist[D.bitrate_index][4]++,D.bitrate_stereoMode_Hist[15][4]++,D.channels_out==2&&(D.bitrate_stereoMode_Hist[D.bitrate_index][D.mode_ext]++,D.bitrate_stereoMode_Hist[15][D.mode_ext]++),q=0;q<D.mode_gr;++q)for(z=0;z<D.channels_out;++z){var ne=D.l3_side.tt[q][z].block_type|0;D.l3_side.tt[q][z].mixed_block_flag!=0&&(ne=4),D.bitrate_blockType_Hist[D.bitrate_index][ne]++,D.bitrate_blockType_Hist[D.bitrate_index][5]++,D.bitrate_blockType_Hist[15][ne]++,D.bitrate_blockType_Hist[15][5]++}}function I(D,q){var z=D.internal_flags,ne,fe;if(z.lame_encode_frame_init==0){var B,Y,ue=d(2014),Q=d(2014);for(z.lame_encode_frame_init=1,B=0,Y=0;B<286+576*(1+z.mode_gr);++B)B<576*z.mode_gr?(ue[B]=0,z.channels_out==2&&(Q[B]=0)):(ue[B]=q[0][Y],z.channels_out==2&&(Q[B]=q[1][Y]),++Y);for(fe=0;fe<z.mode_gr;fe++)for(ne=0;ne<z.channels_out;ne++)z.l3_side.tt[fe][ne].block_type=g.SHORT_TYPE;U.mdct_sub48(z,ue,Q),_(576>=g.FFTOFFSET),_(z.mf_size>=g.BLKSIZE+D.framesize-g.FFTOFFSET),_(z.mf_size>=512+D.framesize-32)}}this.lame_encode_mp3_frame=function(D,q,z,ne,fe,B){var Y,ue=l([2,2]);ue[0][0]=new w,ue[0][1]=new w,ue[1][0]=new w,ue[1][1]=new w;var Q=l([2,2]);Q[0][0]=new w,Q[0][1]=new w,Q[1][0]=new w,Q[1][1]=new w;var _e,le=[null,null],se=D.internal_flags,me=h([2,4]),Me=[.5,.5],de=[[0,0],[0,0]],he=[[0,0],[0,0]],K,ee,j;if(le[0]=q,le[1]=z,se.lame_encode_frame_init==0&&I(D,le),se.padding=0,(se.slot_lag-=se.frac_SpF)<0&&(se.slot_lag+=D.out_samplerate,se.padding=1),se.psymodel!=0){var ae,Re=[null,null],ze=0,De=f(2);for(j=0;j<se.mode_gr;j++){for(ee=0;ee<se.channels_out;ee++)Re[ee]=le[ee],ze=576+j*576-g.FFTOFFSET;if(D.VBR==a.vbr_mtrh||D.VBR==a.vbr_mt?ae=k.L3psycho_anal_vbr(D,Re,ze,j,ue,Q,de[j],he[j],me[j],De):ae=k.L3psycho_anal_ns(D,Re,ze,j,ue,Q,de[j],he[j],me[j],De),ae!=0)return-4;for(D.mode==x.JOINT_STEREO&&(Me[j]=me[j][2]+me[j][3],Me[j]>0&&(Me[j]=me[j][3]/Me[j])),ee=0;ee<se.channels_out;ee++){var Te=se.l3_side.tt[j][ee];Te.block_type=De[ee],Te.mixed_block_flag=0}}}else for(j=0;j<se.mode_gr;j++)for(ee=0;ee<se.channels_out;ee++)se.l3_side.tt[j][ee].block_type=g.NORM_TYPE,se.l3_side.tt[j][ee].mixed_block_flag=0,he[j][ee]=de[j][ee]=700;if(M(se),U.mdct_sub48(se,le[0],le[1]),se.mode_ext=g.MPG_MD_LR_LR,D.force_ms)se.mode_ext=g.MPG_MD_MS_LR;else if(D.mode==x.JOINT_STEREO){var Qe=0,an=0;for(j=0;j<se.mode_gr;j++)for(ee=0;ee<se.channels_out;ee++)Qe+=he[j][ee],an+=de[j][ee];if(Qe<=1*an){var un=se.l3_side.tt[0],Nn=se.l3_side.tt[se.mode_gr-1];un[0].block_type==un[1].block_type&&Nn[0].block_type==Nn[1].block_type&&(se.mode_ext=g.MPG_MD_MS_LR)}}if(se.mode_ext==N?(_e=Q,K=he):(_e=ue,K=de),D.analysis&&se.pinfo!=null)for(j=0;j<se.mode_gr;j++)for(ee=0;ee<se.channels_out;ee++)se.pinfo.ms_ratio[j]=se.ms_ratio[j],se.pinfo.ms_ener_ratio[j]=Me[j],se.pinfo.blocktype[j][ee]=se.l3_side.tt[j][ee].block_type,se.pinfo.pe[j][ee]=K[j][ee],r.arraycopy(se.l3_side.tt[j][ee].xr,0,se.pinfo.xr[j][ee],0,576),se.mode_ext==N&&(se.pinfo.ers[j][ee]=se.pinfo.ers[j][ee+2],r.arraycopy(se.pinfo.energy[j][ee+2],0,se.pinfo.energy[j][ee],0,se.pinfo.energy[j][ee].length));if(D.VBR==a.vbr_off||D.VBR==a.vbr_abr){var Ye,mn;for(Ye=0;Ye<18;Ye++)se.nsPsy.pefirbuf[Ye]=se.nsPsy.pefirbuf[Ye+1];for(mn=0,j=0;j<se.mode_gr;j++)for(ee=0;ee<se.channels_out;ee++)mn+=K[j][ee];for(se.nsPsy.pefirbuf[18]=mn,mn=se.nsPsy.pefirbuf[9],Ye=0;Ye<9;Ye++)mn+=(se.nsPsy.pefirbuf[Ye]+se.nsPsy.pefirbuf[18-Ye])*g.fircoef[Ye];for(mn=3350*se.mode_gr*se.channels_out/mn,j=0;j<se.mode_gr;j++)for(ee=0;ee<se.channels_out;ee++)K[j][ee]*=mn}if(se.iteration_loop.iteration_loop(D,K,Me,_e),P.format_bitstream(D),Y=P.copy_buffer(se,ne,fe,B,1),D.bWriteVbrTag&&C.addVbrFrame(D),D.analysis&&se.pinfo!=null){for(ee=0;ee<se.channels_out;ee++){var sn;for(sn=0;sn<T;sn++)se.pinfo.pcmdata[ee][sn]=se.pinfo.pcmdata[ee][sn+D.framesize];for(sn=T;sn<1600;sn++)se.pinfo.pcmdata[ee][sn]=le[ee][sn-T]}A.set_frame_pinfo(D,_e)}return R(se),Y}}n.exports=g});yn.register("drj3v",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock;var a=e.Util,l=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var d=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var h=yn("cPNKB");function f(){var _=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*a.SQRT2*.5/2384e-9,.017876148*a.SQRT2*.5/2384e-9,.003134727*a.SQRT2*.5/2384e-9,.002457142*a.SQRT2*.5/2384e-9,971317e-9*a.SQRT2*.5/2384e-9,218868e-9*a.SQRT2*.5/2384e-9,101566e-9*a.SQRT2*.5/2384e-9,13828e-9*a.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],g=12,E=36,w=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],x=w[h.SHORT_TYPE],T=w[h.SHORT_TYPE],N=w[h.SHORT_TYPE],P=w[h.SHORT_TYPE],k=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function C(M,R,I){for(var D=10,q=R+238-14-286,z=-15;z<0;z++){var ne,fe,B;ne=_[D+-10],fe=M[q+-224]*ne,B=M[R+224]*ne,ne=_[D+-9],fe+=M[q+-160]*ne,B+=M[R+160]*ne,ne=_[D+-8],fe+=M[q+-96]*ne,B+=M[R+96]*ne,ne=_[D+-7],fe+=M[q+-32]*ne,B+=M[R+32]*ne,ne=_[D+-6],fe+=M[q+32]*ne,B+=M[R+-32]*ne,ne=_[D+-5],fe+=M[q+96]*ne,B+=M[R+-96]*ne,ne=_[D+-4],fe+=M[q+160]*ne,B+=M[R+-160]*ne,ne=_[D+-3],fe+=M[q+224]*ne,B+=M[R+-224]*ne,ne=_[D+-2],fe+=M[R+-256]*ne,B-=M[q+256]*ne,ne=_[D+-1],fe+=M[R+-192]*ne,B-=M[q+192]*ne,ne=_[D+0],fe+=M[R+-128]*ne,B-=M[q+128]*ne,ne=_[D+1],fe+=M[R+-64]*ne,B-=M[q+64]*ne,ne=_[D+2],fe+=M[R+0]*ne,B-=M[q+0]*ne,ne=_[D+3],fe+=M[R+64]*ne,B-=M[q+-64]*ne,ne=_[D+4],fe+=M[R+128]*ne,B-=M[q+-128]*ne,ne=_[D+5],fe+=M[R+192]*ne,B-=M[q+-192]*ne,fe*=_[D+6],ne=B-fe,I[30+z*2]=B+fe,I[31+z*2]=_[D+7]*ne,D+=18,R--,q++}var fe,B,Y,ue;B=M[R+-16]*_[D+-10],fe=M[R+-32]*_[D+-2],B+=(M[R+-48]-M[R+16])*_[D+-9],fe+=M[R+-96]*_[D+-1],B+=(M[R+-80]+M[R+48])*_[D+-8],fe+=M[R+-160]*_[D+0],B+=(M[R+-112]-M[R+80])*_[D+-7],fe+=M[R+-224]*_[D+1],B+=(M[R+-144]+M[R+112])*_[D+-6],fe-=M[R+32]*_[D+2],B+=(M[R+-176]-M[R+144])*_[D+-5],fe-=M[R+96]*_[D+3],B+=(M[R+-208]+M[R+176])*_[D+-4],fe-=M[R+160]*_[D+4],B+=(M[R+-240]-M[R+208])*_[D+-3],fe-=M[R+224],Y=fe-B,ue=fe+B,B=I[14],fe=I[15]-B,I[31]=ue+B,I[30]=Y+fe,I[15]=Y-fe,I[14]=ue-B;var Q;Q=I[28]-I[0],I[0]+=I[28],I[28]=Q*_[D+-36+7],Q=I[29]-I[1],I[1]+=I[29],I[29]=Q*_[D+-36+7],Q=I[26]-I[2],I[2]+=I[26],I[26]=Q*_[D+-72+7],Q=I[27]-I[3],I[3]+=I[27],I[27]=Q*_[D+-72+7],Q=I[24]-I[4],I[4]+=I[24],I[24]=Q*_[D+-108+7],Q=I[25]-I[5],I[5]+=I[25],I[25]=Q*_[D+-108+7],Q=I[22]-I[6],I[6]+=I[22],I[22]=Q*a.SQRT2,Q=I[23]-I[7],I[7]+=I[23],I[23]=Q*a.SQRT2-I[7],I[7]-=I[6],I[22]-=I[7],I[23]-=I[22],Q=I[6],I[6]=I[31]-Q,I[31]=I[31]+Q,Q=I[7],I[7]=I[30]-Q,I[30]=I[30]+Q,Q=I[22],I[22]=I[15]-Q,I[15]=I[15]+Q,Q=I[23],I[23]=I[14]-Q,I[14]=I[14]+Q,Q=I[20]-I[8],I[8]+=I[20],I[20]=Q*_[D+-180+7],Q=I[21]-I[9],I[9]+=I[21],I[21]=Q*_[D+-180+7],Q=I[18]-I[10],I[10]+=I[18],I[18]=Q*_[D+-216+7],Q=I[19]-I[11],I[11]+=I[19],I[19]=Q*_[D+-216+7],Q=I[16]-I[12],I[12]+=I[16],I[16]=Q*_[D+-252+7],Q=I[17]-I[13],I[13]+=I[17],I[17]=Q*_[D+-252+7],Q=-I[20]+I[24],I[20]+=I[24],I[24]=Q*_[D+-216+7],Q=-I[21]+I[25],I[21]+=I[25],I[25]=Q*_[D+-216+7],Q=I[4]-I[8],I[4]+=I[8],I[8]=Q*_[D+-216+7],Q=I[5]-I[9],I[5]+=I[9],I[9]=Q*_[D+-216+7],Q=I[0]-I[12],I[0]+=I[12],I[12]=Q*_[D+-72+7],Q=I[1]-I[13],I[1]+=I[13],I[13]=Q*_[D+-72+7],Q=I[16]-I[28],I[16]+=I[28],I[28]=Q*_[D+-72+7],Q=-I[17]+I[29],I[17]+=I[29],I[29]=Q*_[D+-72+7],Q=a.SQRT2*(I[2]-I[10]),I[2]+=I[10],I[10]=Q,Q=a.SQRT2*(I[3]-I[11]),I[3]+=I[11],I[11]=Q,Q=a.SQRT2*(-I[18]+I[26]),I[18]+=I[26],I[26]=Q-I[18],Q=a.SQRT2*(-I[19]+I[27]),I[19]+=I[27],I[27]=Q-I[19],Q=I[2],I[19]-=I[3],I[3]-=Q,I[2]=I[31]-Q,I[31]+=Q,Q=I[3],I[11]-=I[19],I[18]-=Q,I[3]=I[30]-Q,I[30]+=Q,Q=I[18],I[27]-=I[11],I[19]-=Q,I[18]=I[15]-Q,I[15]+=Q,Q=I[19],I[10]-=Q,I[19]=I[14]-Q,I[14]+=Q,Q=I[10],I[11]-=Q,I[10]=I[23]-Q,I[23]+=Q,Q=I[11],I[26]-=Q,I[11]=I[22]-Q,I[22]+=Q,Q=I[26],I[27]-=Q,I[26]=I[7]-Q,I[7]+=Q,Q=I[27],I[27]=I[6]-Q,I[6]+=Q,Q=a.SQRT2*(I[0]-I[4]),I[0]+=I[4],I[4]=Q,Q=a.SQRT2*(I[1]-I[5]),I[1]+=I[5],I[5]=Q,Q=a.SQRT2*(I[16]-I[20]),I[16]+=I[20],I[20]=Q,Q=a.SQRT2*(I[17]-I[21]),I[17]+=I[21],I[21]=Q,Q=-a.SQRT2*(I[8]-I[12]),I[8]+=I[12],I[12]=Q-I[8],Q=-a.SQRT2*(I[9]-I[13]),I[9]+=I[13],I[13]=Q-I[9],Q=-a.SQRT2*(I[25]-I[29]),I[25]+=I[29],I[29]=Q-I[25],Q=-a.SQRT2*(I[24]+I[28]),I[24]-=I[28],I[28]=Q-I[24],Q=I[24]-I[16],I[24]=Q,Q=I[20]-Q,I[20]=Q,Q=I[28]-Q,I[28]=Q,Q=I[25]-I[17],I[25]=Q,Q=I[21]-Q,I[21]=Q,Q=I[29]-Q,I[29]=Q,Q=I[17]-I[1],I[17]=Q,Q=I[9]-Q,I[9]=Q,Q=I[25]-Q,I[25]=Q,Q=I[5]-Q,I[5]=Q,Q=I[21]-Q,I[21]=Q,Q=I[13]-Q,I[13]=Q,Q=I[29]-Q,I[29]=Q,Q=I[1]-I[0],I[1]=Q,Q=I[16]-Q,I[16]=Q,Q=I[17]-Q,I[17]=Q,Q=I[8]-Q,I[8]=Q,Q=I[9]-Q,I[9]=Q,Q=I[24]-Q,I[24]=Q,Q=I[25]-Q,I[25]=Q,Q=I[4]-Q,I[4]=Q,Q=I[5]-Q,I[5]=Q,Q=I[20]-Q,I[20]=Q,Q=I[21]-Q,I[21]=Q,Q=I[12]-Q,I[12]=Q,Q=I[13]-Q,I[13]=Q,Q=I[28]-Q,I[28]=Q,Q=I[29]-Q,I[29]=Q,Q=I[0],I[0]+=I[31],I[31]-=Q,Q=I[1],I[1]+=I[30],I[30]-=Q,Q=I[16],I[16]+=I[15],I[15]-=Q,Q=I[17],I[17]+=I[14],I[14]-=Q,Q=I[8],I[8]+=I[23],I[23]-=Q,Q=I[9],I[9]+=I[22],I[22]-=Q,Q=I[24],I[24]+=I[7],I[7]-=Q,Q=I[25],I[25]+=I[6],I[6]-=Q,Q=I[4],I[4]+=I[27],I[27]-=Q,Q=I[5],I[5]+=I[26],I[26]-=Q,Q=I[20],I[20]+=I[11],I[11]-=Q,Q=I[21],I[21]+=I[10],I[10]-=Q,Q=I[12],I[12]+=I[19],I[19]-=Q,Q=I[13],I[13]+=I[18],I[18]-=Q,Q=I[28],I[28]+=I[3],I[3]-=Q,Q=I[29],I[29]+=I[2],I[2]-=Q}function A(M,R){for(var I=0;I<3;I++){var D,q,z,ne,fe,B;ne=M[R+6]*w[h.SHORT_TYPE][0]-M[R+15],D=M[R+0]*w[h.SHORT_TYPE][2]-M[R+9],q=ne+D,z=ne-D,ne=M[R+15]*w[h.SHORT_TYPE][0]+M[R+6],D=M[R+9]*w[h.SHORT_TYPE][2]+M[R+0],fe=ne+D,B=-ne+D,D=(M[R+3]*w[h.SHORT_TYPE][1]-M[R+12])*2069978111953089e-26,ne=(M[R+12]*w[h.SHORT_TYPE][1]+M[R+3])*2069978111953089e-26,M[R+0]=q*190752519173728e-25+D,M[R+15]=-fe*190752519173728e-25+ne,z=z*16519652744032674e-27,fe=fe*.5*1907525191737281e-26+ne,M[R+3]=z-fe,M[R+6]=z+fe,q=q*.5*1907525191737281e-26-D,B=B*16519652744032674e-27,M[R+9]=q+B,M[R+12]=q-B,R++}}function U(M,R,I){var D,q,z,ne,fe,B,Y,ue,Q,_e;z=I[17]-I[9],fe=I[15]-I[11],B=I[14]-I[12],Y=I[0]+I[8],ue=I[1]+I[7],Q=I[2]+I[6],_e=I[3]+I[5],M[R+17]=Y+Q-_e-(ue-I[4]),q=(Y+Q-_e)*T[19]+(ue-I[4]),D=(z-fe-B)*T[18],M[R+5]=D+q,M[R+6]=D-q,ne=(I[16]-I[10])*T[18],ue=ue*T[19]+I[4],D=z*T[12]+ne+fe*T[13]+B*T[14],q=-Y*T[16]+ue-Q*T[17]+_e*T[15],M[R+1]=D+q,M[R+2]=D-q,D=z*T[13]-ne-fe*T[14]+B*T[12],q=-Y*T[17]+ue-Q*T[15]+_e*T[16],M[R+9]=D+q,M[R+10]=D-q,D=z*T[14]-ne+fe*T[12]-B*T[13],q=Y*T[15]-ue+Q*T[16]-_e*T[17],M[R+13]=D+q,M[R+14]=D-q;var le,se,me,Me,de,he,K,ee;le=I[8]-I[0],me=I[6]-I[2],Me=I[5]-I[3],de=I[17]+I[9],he=I[16]+I[10],K=I[15]+I[11],ee=I[14]+I[12],M[R+0]=de+K+ee+(he+I[13]),D=(de+K+ee)*T[19]-(he+I[13]),q=(le-me+Me)*T[18],M[R+11]=D+q,M[R+12]=D-q,se=(I[7]-I[1])*T[18],he=I[13]-he*T[19],D=de*T[15]-he+K*T[16]+ee*T[17],q=le*T[14]+se+me*T[12]+Me*T[13],M[R+3]=D+q,M[R+4]=D-q,D=-de*T[17]+he-K*T[15]-ee*T[16],q=le*T[13]+se-me*T[14]-Me*T[12],M[R+7]=D+q,M[R+8]=D-q,D=-de*T[16]+he-K*T[17]-ee*T[15],q=le*T[12]-se+me*T[13]-Me*T[14],M[R+15]=D+q,M[R+16]=D-q}this.mdct_sub48=function(M,R,I){for(var D=R,q=286,z=0;z<M.channels_out;z++){for(var ne=0;ne<M.mode_gr;ne++){for(var fe,B=M.l3_side.tt[ne][z],Y=B.xr,ue=0,Q=M.sb_sample[z][1-ne],_e=0,le=0;le<9;le++)for(C(D,q,Q[_e]),C(D,q+32,Q[_e+1]),_e+=2,q+=64,fe=1;fe<32;fe+=2)Q[_e-1][fe]*=-1;for(fe=0;fe<32;fe++,ue+=18){var se=B.block_type,me=M.sb_sample[z][ne],Me=M.sb_sample[z][1-ne];if(B.mixed_block_flag!=0&&fe<2&&(se=0),M.amp_filter[fe]<1e-12)l.fill(Y,ue+0,ue+18,0);else{if(M.amp_filter[fe]<1)for(var le=0;le<18;le++)Me[le][k[fe]]*=M.amp_filter[fe];if(se==h.SHORT_TYPE){for(var le=-g/4;le<0;le++){var de=w[h.SHORT_TYPE][le+3];Y[ue+le*3+9]=me[9+le][k[fe]]*de-me[8-le][k[fe]],Y[ue+le*3+18]=me[14-le][k[fe]]*de+me[15+le][k[fe]],Y[ue+le*3+10]=me[15+le][k[fe]]*de-me[14-le][k[fe]],Y[ue+le*3+19]=Me[2-le][k[fe]]*de+Me[3+le][k[fe]],Y[ue+le*3+11]=Me[3+le][k[fe]]*de-Me[2-le][k[fe]],Y[ue+le*3+20]=Me[8-le][k[fe]]*de+Me[9+le][k[fe]]}A(Y,ue)}else{for(var he=d(18),le=-E/4;le<0;le++){var K,ee;K=w[se][le+27]*Me[le+9][k[fe]]+w[se][le+36]*Me[8-le][k[fe]],ee=w[se][le+9]*me[le+9][k[fe]]-w[se][le+18]*me[8-le][k[fe]],he[le+9]=K-ee*x[3+le+9],he[le+18]=K*x[3+le+9]+ee}U(Y,ue,he)}}if(se!=h.SHORT_TYPE&&fe!=0)for(var le=7;le>=0;--le){var j,ae;j=Y[ue+le]*N[20+le]+Y[ue+-1-le]*P[28+le],ae=Y[ue+le]*P[28+le]-Y[ue+-1-le]*N[20+le],Y[ue+-1-le]=j,Y[ue+le]=ae}}}if(D=I,q=286,M.mode_gr==1)for(var Re=0;Re<18;Re++)r.arraycopy(M.sb_sample[z][1][Re],0,M.sb_sample[z][0][Re],0,32)}}}n.exports=f});yn.register("hvy40",function(n,t){var e=yn("51XxS");function r(){this.thm=new e,this.en=new e}n.exports=r});yn.register("51XxS",function(n,t){var e=yn("cPNKB"),r=yn("3YDN3"),a=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var l=r.new_float,d=r.new_float_n;r.new_int,r.new_int_n,r.assert;function h(){this.l=l(e.SBMAX_l),this.s=d([e.SBMAX_s,3]);var f=this;this.assign=function(_){a.arraycopy(_.l,0,f.l,0,e.SBMAX_l);for(var g=0;g<e.SBMAX_s;g++)for(var E=0;E<3;E++)f.s[g][E]=_.s[g][E]}}n.exports=h});yn.register("jL6I1",function(n,t){function e(r){var a=r;this.ordinal=function(){return a}}e.STEREO=new e(0),e.JOINT_STEREO=new e(1),e.DUAL_CHANNEL=new e(2),e.MONO=new e(3),e.NOT_SET=new e(4),n.exports=e});yn.register("5HJeD",function(n,t){var e=yn("jL6I1");function r(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=e.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}n.exports=r});yn.register("4SDnr",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n;var r=e.new_byte,a=e.new_double,l=e.new_float,d=e.new_float_n,h=e.new_int,f=e.new_int_n;e.assert;var _=yn("eWXBy"),g=yn("7imnH"),E=yn("7yzUB"),w=yn("jTmCQ"),x=yn("51XxS"),T=yn("cPNKB"),N=yn("arIi9");P.MFSIZE=3456+T.ENCDELAY-T.MDCTDELAY,P.MAX_HEADER_BUF=256,P.MAX_BITS_PER_CHANNEL=4095,P.MAX_BITS_PER_GRANULE=7680,P.BPC=320;function P(){var k=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=d([2,P.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new _,this.ms_ratio=l(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=h(2),this.CurrentStep=h(2),this.masking_lower=0,this.bv_scf=h(576),this.pseudohalf=h(N.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*P.BPC+1),this.itime=a(2),this.sideinfo_len=0,this.sb_sample=d([2,2,18,T.SBLIMIT]),this.amp_filter=l(32);function C(){this.write_timing=0,this.ptr=0,this.buf=r(k)}this.header=new Array(P.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new g,this.minval_l=l(T.CBANDS),this.minval_s=l(T.CBANDS),this.nb_1=d([4,T.CBANDS]),this.nb_2=d([4,T.CBANDS]),this.nb_s1=d([4,T.CBANDS]),this.nb_s2=d([4,T.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=l(4),this.loudness_sq=d([2,2]),this.loudness_sq_save=l(2),this.mld_l=l(T.SBMAX_l),this.mld_s=l(T.SBMAX_s),this.bm_l=h(T.SBMAX_l),this.bo_l=h(T.SBMAX_l),this.bm_s=h(T.SBMAX_s),this.bo_s=h(T.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=f([T.CBANDS,2]),this.s3ind_s=f([T.CBANDS,2]),this.numlines_s=h(T.CBANDS),this.numlines_l=h(T.CBANDS),this.rnumlines_l=l(T.CBANDS),this.mld_cb_l=l(T.CBANDS),this.mld_cb_s=l(T.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=l(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=h(2),this.nsPsy=new E,this.VBR_seek_table=new w,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=f([16,5]),this.bitrate_blockType_Hist=f([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var A=0;A<this.en.length;A++)this.en[A]=new x;for(var A=0;A<this.thm.length;A++)this.thm[A]=new x;for(var A=0;A<this.header.length;A++)this.header[A]=new C}n.exports=P});yn.register("eWXBy",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var r=e.new_int;e.new_int_n,e.assert;var a=yn("7weBo");function l(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[r(4),r(4)];for(var d=0;d<2;d++)for(var h=0;h<2;h++)this.tt[d][h]=new a}n.exports=l});yn.register("7weBo",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var l=yn("arIi9");function d(){this.xr=r(576),this.l3_enc=a(576),this.scalefac=a(l.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=a(3),this.subblock_gain=a(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=a(l.SFBMAX),this.window=a(l.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=a(4),this.max_nonzero_coeff=0;var h=this;function f(g){return new Int32Array(g)}function _(g){return new Float32Array(g)}this.assign=function(g){h.xr=_(g.xr),h.l3_enc=f(g.l3_enc),h.scalefac=f(g.scalefac),h.xrpow_max=g.xrpow_max,h.part2_3_length=g.part2_3_length,h.big_values=g.big_values,h.count1=g.count1,h.global_gain=g.global_gain,h.scalefac_compress=g.scalefac_compress,h.block_type=g.block_type,h.mixed_block_flag=g.mixed_block_flag,h.table_select=f(g.table_select),h.subblock_gain=f(g.subblock_gain),h.region0_count=g.region0_count,h.region1_count=g.region1_count,h.preflag=g.preflag,h.scalefac_scale=g.scalefac_scale,h.count1table_select=g.count1table_select,h.part2_length=g.part2_length,h.sfb_lmax=g.sfb_lmax,h.sfb_smin=g.sfb_smin,h.psy_lmax=g.psy_lmax,h.sfbmax=g.sfbmax,h.psymax=g.psymax,h.sfbdivide=g.sfbdivide,h.width=f(g.width),h.window=f(g.window),h.count1bits=g.count1bits,h.sfb_partition_table=g.sfb_partition_table.slice(0),h.slen=f(g.slen),h.max_nonzero_coeff=g.max_nonzero_coeff}}n.exports=d});yn.register("arIi9",function(n,t){var e=yn("cPNKB"),r={};r.SFBMAX=e.SBMAX_s*3,n.exports=r});yn.register("7imnH",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var l=yn("cPNKB");function d(h,f,_,g){this.l=a(1+l.SBMAX_l),this.s=a(1+l.SBMAX_s),this.psfb21=a(1+l.PSFB21),this.psfb12=a(1+l.PSFB12);var E=this.l,w=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],r.arraycopy(this.arrL,0,E,0,Math.min(this.arrL.length,this.l.length)),r.arraycopy(this.arrS,0,w,0,Math.min(this.arrS.length,this.s.length)),r.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),r.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}n.exports=d});yn.register("7yzUB",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float,a=e.new_float_n,l=e.new_int;e.new_int_n,e.assert;var d=yn("cPNKB");function h(){this.last_en_subshort=a([4,9]),this.lastAttacks=l(4),this.pefirbuf=r(19),this.longfact=r(d.SBMAX_l),this.shortfact=r(d.SBMAX_s),this.attackthre=0,this.attackthre_s=0}n.exports=h});yn.register("jTmCQ",function(n,t){function e(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}n.exports=e});yn.register("cU3Yf",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var a=yn("cPNKB");function l(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=r(a.SBMAX_l),this.s=r(a.SBMAX_s),this.psfb21=r(a.PSFB21),this.psfb12=r(a.PSFB12),this.cb_l=r(a.CBANDS),this.cb_s=r(a.CBANDS),this.eql_w=r(a.BLKSIZE/2)}n.exports=l});yn.register("2qGTD",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var l=yn("b8dhq");function d(){this.linprebuf=r(l.MAX_ORDER*2),this.linpre=0,this.lstepbuf=r(l.MAX_SAMPLES_PER_WINDOW+l.MAX_ORDER),this.lstep=0,this.loutbuf=r(l.MAX_SAMPLES_PER_WINDOW+l.MAX_ORDER),this.lout=0,this.rinprebuf=r(l.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=r(l.MAX_SAMPLES_PER_WINDOW+l.MAX_ORDER),this.rstep=0,this.routbuf=r(l.MAX_SAMPLES_PER_WINDOW+l.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=a(0|l.STEPS_per_dB*l.MAX_dB),this.B=a(0|l.STEPS_per_dB*l.MAX_dB)}n.exports=d});yn.register("b8dhq",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n,e.new_int,e.new_int_n,e.assert,l.STEPS_per_dB=100,l.MAX_dB=120,l.GAIN_NOT_ENOUGH_SAMPLES=-24601,l.GAIN_ANALYSIS_ERROR=0,l.GAIN_ANALYSIS_OK=1,l.INIT_GAIN_ANALYSIS_ERROR=0,l.INIT_GAIN_ANALYSIS_OK=1,l.YULE_ORDER=10,l.MAX_ORDER=l.YULE_ORDER,l.MAX_SAMP_FREQ=48e3,l.RMS_WINDOW_TIME_NUMERATOR=1,l.RMS_WINDOW_TIME_DENOMINATOR=20,l.MAX_SAMPLES_PER_WINDOW=l.MAX_SAMP_FREQ*l.RMS_WINDOW_TIME_NUMERATOR/l.RMS_WINDOW_TIME_DENOMINATOR+1;function l(){var d=64.82;l.YULE_ORDER;var h=.95;l.MAX_SAMP_FREQ;var f=l.RMS_WINDOW_TIME_NUMERATOR,_=l.RMS_WINDOW_TIME_DENOMINATOR;l.MAX_SAMPLES_PER_WINDOW;var g=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],E=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function w(k,C,A,U,M,R){for(;M--!=0;)A[U]=1e-10+k[C+0]*R[0]-A[U-1]*R[1]+k[C-1]*R[2]-A[U-2]*R[3]+k[C-2]*R[4]-A[U-3]*R[5]+k[C-3]*R[6]-A[U-4]*R[7]+k[C-4]*R[8]-A[U-5]*R[9]+k[C-5]*R[10]-A[U-6]*R[11]+k[C-6]*R[12]-A[U-7]*R[13]+k[C-7]*R[14]-A[U-8]*R[15]+k[C-8]*R[16]-A[U-9]*R[17]+k[C-9]*R[18]-A[U-10]*R[19]+k[C-10]*R[20],++U,++C}function x(k,C,A,U,M,R){for(;M--!=0;)A[U]=k[C+0]*R[0]-A[U-1]*R[1]+k[C-1]*R[2]-A[U-2]*R[3]+k[C-2]*R[4],++U,++C}function T(k,C){for(var A=0;A<MAX_ORDER;A++)k.linprebuf[A]=k.lstepbuf[A]=k.loutbuf[A]=k.rinprebuf[A]=k.rstepbuf[A]=k.routbuf[A]=0;switch(0|C){case 48e3:k.reqindex=0;break;case 44100:k.reqindex=1;break;case 32e3:k.reqindex=2;break;case 24e3:k.reqindex=3;break;case 22050:k.reqindex=4;break;case 16e3:k.reqindex=5;break;case 12e3:k.reqindex=6;break;case 11025:k.reqindex=7;break;case 8e3:k.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return k.sampleWindow=0|(C*f+_-1)/_,k.lsum=0,k.rsum=0,k.totsamp=0,a.ill(k.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(k,C){return T(k,C)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(k.linpre=MAX_ORDER,k.rinpre=MAX_ORDER,k.lstep=MAX_ORDER,k.rstep=MAX_ORDER,k.lout=MAX_ORDER,k.rout=MAX_ORDER,a.fill(k.B,0),INIT_GAIN_ANALYSIS_OK)};function N(k){return k*k}this.AnalyzeSamples=function(k,C,A,U,M,R,I){var D,q,z,ne,fe,B,Y;if(R==0)return GAIN_ANALYSIS_OK;switch(Y=0,fe=R,I){case 1:U=C,M=A;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(R<MAX_ORDER?(r.arraycopy(C,A,k.linprebuf,MAX_ORDER,R),r.arraycopy(U,M,k.rinprebuf,MAX_ORDER,R)):(r.arraycopy(C,A,k.linprebuf,MAX_ORDER,MAX_ORDER),r.arraycopy(U,M,k.rinprebuf,MAX_ORDER,MAX_ORDER));fe>0;){B=fe>k.sampleWindow-k.totsamp?k.sampleWindow-k.totsamp:fe,Y<MAX_ORDER?(D=k.linpre+Y,q=k.linprebuf,z=k.rinpre+Y,ne=k.rinprebuf,B>MAX_ORDER-Y&&(B=MAX_ORDER-Y)):(D=A+Y,q=C,z=M+Y,ne=U),w(q,D,k.lstepbuf,k.lstep+k.totsamp,B,g[k.reqindex]),w(ne,z,k.rstepbuf,k.rstep+k.totsamp,B,g[k.reqindex]),x(k.lstepbuf,k.lstep+k.totsamp,k.loutbuf,k.lout+k.totsamp,B,E[k.reqindex]),x(k.rstepbuf,k.rstep+k.totsamp,k.routbuf,k.rout+k.totsamp,B,E[k.reqindex]),D=k.lout+k.totsamp,q=k.loutbuf,z=k.rout+k.totsamp,ne=k.routbuf;for(var ue=B%8;ue--!=0;)k.lsum+=N(q[D++]),k.rsum+=N(ne[z++]);for(ue=B/8;ue--!=0;)k.lsum+=N(q[D+0])+N(q[D+1])+N(q[D+2])+N(q[D+3])+N(q[D+4])+N(q[D+5])+N(q[D+6])+N(q[D+7]),D+=8,k.rsum+=N(ne[z+0])+N(ne[z+1])+N(ne[z+2])+N(ne[z+3])+N(ne[z+4])+N(ne[z+5])+N(ne[z+6])+N(ne[z+7]),z+=8;if(fe-=B,Y+=B,k.totsamp+=B,k.totsamp==k.sampleWindow){var Q=l.STEPS_per_dB*10*Math.log10((k.lsum+k.rsum)/k.totsamp*.5+1e-37),_e=Q<=0?0:0|Q;_e>=k.A.length&&(_e=k.A.length-1),k.A[_e]++,k.lsum=k.rsum=0,r.arraycopy(k.loutbuf,k.totsamp,k.loutbuf,0,MAX_ORDER),r.arraycopy(k.routbuf,k.totsamp,k.routbuf,0,MAX_ORDER),r.arraycopy(k.lstepbuf,k.totsamp,k.lstepbuf,0,MAX_ORDER),r.arraycopy(k.rstepbuf,k.totsamp,k.rstepbuf,0,MAX_ORDER),k.totsamp=0}if(k.totsamp>k.sampleWindow)return GAIN_ANALYSIS_ERROR}return R<MAX_ORDER?(r.arraycopy(k.linprebuf,R,k.linprebuf,0,MAX_ORDER-R),r.arraycopy(k.rinprebuf,R,k.rinprebuf,0,MAX_ORDER-R),r.arraycopy(C,A,k.linprebuf,MAX_ORDER-R,R),r.arraycopy(U,M,k.rinprebuf,MAX_ORDER-R,R)):(r.arraycopy(C,A+R-MAX_ORDER,k.linprebuf,0,MAX_ORDER),r.arraycopy(U,M+R-MAX_ORDER,k.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function P(k,C){var A,U=0;for(A=0;A<C;A++)U+=k[A];if(U==0)return GAIN_NOT_ENOUGH_SAMPLES;var M=0|Math.ceil(U*(1-h));for(A=C;A-- >0&&!((M-=k[A])<=0););return d-A/l.STEPS_per_dB}this.GetTitleGain=function(k){for(var C=P(k.A,k.A.length),A=0;A<k.A.length;A++)k.B[A]+=k.A[A],k.A[A]=0;for(var A=0;A<MAX_ORDER;A++)k.linprebuf[A]=k.lstepbuf[A]=k.loutbuf[A]=k.rinprebuf[A]=k.rstepbuf[A]=k.routbuf[A]=0;return k.totsamp=0,k.lsum=k.rsum=0,C}}n.exports=l});yn.register("e32wu",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n;var l=e.assert,d=yn("lL4Le"),h=yn("cPNKB"),f=yn("arIi9"),_=yn("4SDnr");function g(E){var w=E;this.quantize=w,this.iteration_loop=function(x,T,N,P){var k=x.internal_flags,C=r(f.SFBMAX),A=r(576),U=a(2),M=0,R,I=k.l3_side,D=new d(M);this.quantize.rv.ResvFrameBegin(x,D),M=D.bits;for(var q=0;q<k.mode_gr;q++){R=this.quantize.qupvt.on_pe(x,T,U,M,q,q),k.mode_ext==h.MPG_MD_MS_LR&&(this.quantize.ms_convert(k.l3_side,q),this.quantize.qupvt.reduce_side(U,N[q],M,R));for(var z=0;z<k.channels_out;z++){var ne,fe,B=I.tt[q][z];B.block_type!=h.SHORT_TYPE?(ne=0,fe=k.PSY.mask_adjust-ne):(ne=0,fe=k.PSY.mask_adjust_short-ne),k.masking_lower=Math.pow(10,fe*.1),this.quantize.init_outer_loop(k,B),this.quantize.init_xrpow(k,B,A)&&(this.quantize.qupvt.calc_xmin(x,P[q][z],B,C),this.quantize.outer_loop(x,B,C,A,z,U[z])),this.quantize.iteration_finish_one(k,q,z),l(B.part2_3_length<=_.MAX_BITS_PER_CHANNEL),l(B.part2_3_length<=U[z])}}this.quantize.rv.ResvFrameEnd(k,M)}}n.exports=g});yn.register("lL4Le",function(n,t){function e(r){this.bits=r}n.exports=e});yn.register("ctaQC",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n;var l=e.new_byte;e.new_double,e.new_float;var d=e.new_float_n,h=e.new_int;e.new_int_n;var f=e.assert,_=yn("65Sx2"),g=yn("dQDcS"),E=yn("cPNKB"),w=yn("4SDnr");x.EQ=function(T,N){return Math.abs(T)>Math.abs(N)?Math.abs(T-N)<=Math.abs(T)*1e-6:Math.abs(T-N)<=Math.abs(N)*1e-6},x.NEQ=function(T,N){return!x.EQ(T,N)};function x(){var T=yn("kk1yk"),N=this,P=32773,k=32,C=null,A=null,U=null,M=null;this.setModules=function(K,ee,j,ae){C=K,A=ee,U=j,M=ae};var R=null,I=0,D=0,q=0;this.getframebits=function(K){var ee=K.internal_flags,j;ee.bitrate_index!=0?j=g.bitrate_table[K.version][ee.bitrate_index]:j=K.brate,f(8<=j&&j<=640);var ae=0|(K.version+1)*72e3*j/K.out_samplerate+ee.padding;return 8*ae};function z(K){r.arraycopy(K.header[K.w_ptr].buf,0,R,D,K.sideinfo_len),D+=K.sideinfo_len,I+=K.sideinfo_len*8,K.w_ptr=K.w_ptr+1&w.MAX_HEADER_BUF-1}function ne(K,ee,j){for(f(j<k-2);j>0;){var ae;q==0&&(q=8,D++,f(D<T.LAME_MAXMP3BUFFER),f(K.header[K.w_ptr].write_timing>=I),K.header[K.w_ptr].write_timing==I&&z(K),R[D]=0),ae=Math.min(j,q),j-=ae,q-=ae,f(j<k),f(q<k),R[D]|=ee>>j<<q,I+=ae}}function fe(K,ee,j){for(f(j<k-2);j>0;){var ae;q==0&&(q=8,D++,f(D<T.LAME_MAXMP3BUFFER),R[D]=0),ae=Math.min(j,q),j-=ae,q-=ae,f(j<k),f(q<k),R[D]|=ee>>j<<q,I+=ae}}function B(K,ee){var j=K.internal_flags,ae;if(f(ee>=0),ee>=8&&(ne(j,76,8),ee-=8),ee>=8&&(ne(j,65,8),ee-=8),ee>=8&&(ne(j,77,8),ee-=8),ee>=8&&(ne(j,69,8),ee-=8),ee>=32){var Re=U.getLameShortVersion();if(ee>=32)for(ae=0;ae<Re.length&&ee>=8;++ae)ee-=8,ne(j,Re.charAt(ae),8)}for(;ee>=1;ee-=1)ne(j,j.ancillary_flag,1),j.ancillary_flag^=K.disable_reservoir?0:1;f(ee==0)}function Y(K,ee,j){for(var ae=K.header[K.h_ptr].ptr;j>0;){var Re=Math.min(j,8-(ae&7));j-=Re,f(j<k),K.header[K.h_ptr].buf[ae>>3]|=ee>>j<<8-(ae&7)-Re,ae+=Re}K.header[K.h_ptr].ptr=ae}function ue(K,ee){K<<=8;for(var j=0;j<8;j++)K<<=1,ee<<=1,(ee^K)&65536&&(ee^=P);return ee}this.CRC_writeheader=function(K,ee){var j=65535;j=ue(ee[2]&255,j),j=ue(ee[3]&255,j);for(var ae=6;ae<K.sideinfo_len;ae++)j=ue(ee[ae]&255,j);ee[4]=byte(j>>8),ee[5]=byte(j&255)};function Q(K,ee){var j=K.internal_flags,ae,Re,ze;if(ae=j.l3_side,j.header[j.h_ptr].ptr=0,a.fill(j.header[j.h_ptr].buf,0,j.sideinfo_len,0),K.out_samplerate<16e3?Y(j,4094,12):Y(j,4095,12),Y(j,K.version,1),Y(j,1,2),Y(j,K.error_protection?0:1,1),Y(j,j.bitrate_index,4),Y(j,j.samplerate_index,2),Y(j,j.padding,1),Y(j,K.extension,1),Y(j,K.mode.ordinal(),2),Y(j,j.mode_ext,2),Y(j,K.copyright,1),Y(j,K.original,1),Y(j,K.emphasis,2),K.error_protection&&Y(j,0,16),K.version==1){for(f(ae.main_data_begin>=0),Y(j,ae.main_data_begin,9),j.channels_out==2?Y(j,ae.private_bits,3):Y(j,ae.private_bits,5),ze=0;ze<j.channels_out;ze++){var De;for(De=0;De<4;De++)Y(j,ae.scfsi[ze][De],1)}for(Re=0;Re<2;Re++)for(ze=0;ze<j.channels_out;ze++){var Te=ae.tt[Re][ze];Y(j,Te.part2_3_length+Te.part2_length,12),Y(j,Te.big_values/2,9),Y(j,Te.global_gain,8),Y(j,Te.scalefac_compress,4),Te.block_type!=E.NORM_TYPE?(Y(j,1,1),Y(j,Te.block_type,2),Y(j,Te.mixed_block_flag,1),Te.table_select[0]==14&&(Te.table_select[0]=16),Y(j,Te.table_select[0],5),Te.table_select[1]==14&&(Te.table_select[1]=16),Y(j,Te.table_select[1],5),Y(j,Te.subblock_gain[0],3),Y(j,Te.subblock_gain[1],3),Y(j,Te.subblock_gain[2],3)):(Y(j,0,1),Te.table_select[0]==14&&(Te.table_select[0]=16),Y(j,Te.table_select[0],5),Te.table_select[1]==14&&(Te.table_select[1]=16),Y(j,Te.table_select[1],5),Te.table_select[2]==14&&(Te.table_select[2]=16),Y(j,Te.table_select[2],5),f(0<=Te.region0_count&&Te.region0_count<16),f(0<=Te.region1_count&&Te.region1_count<8),Y(j,Te.region0_count,4),Y(j,Te.region1_count,3)),Y(j,Te.preflag,1),Y(j,Te.scalefac_scale,1),Y(j,Te.count1table_select,1)}}else for(f(ae.main_data_begin>=0),Y(j,ae.main_data_begin,8),Y(j,ae.private_bits,j.channels_out),Re=0,ze=0;ze<j.channels_out;ze++){var Te=ae.tt[Re][ze];Y(j,Te.part2_3_length+Te.part2_length,12),Y(j,Te.big_values/2,9),Y(j,Te.global_gain,8),Y(j,Te.scalefac_compress,9),Te.block_type!=E.NORM_TYPE?(Y(j,1,1),Y(j,Te.block_type,2),Y(j,Te.mixed_block_flag,1),Te.table_select[0]==14&&(Te.table_select[0]=16),Y(j,Te.table_select[0],5),Te.table_select[1]==14&&(Te.table_select[1]=16),Y(j,Te.table_select[1],5),Y(j,Te.subblock_gain[0],3),Y(j,Te.subblock_gain[1],3),Y(j,Te.subblock_gain[2],3)):(Y(j,0,1),Te.table_select[0]==14&&(Te.table_select[0]=16),Y(j,Te.table_select[0],5),Te.table_select[1]==14&&(Te.table_select[1]=16),Y(j,Te.table_select[1],5),Te.table_select[2]==14&&(Te.table_select[2]=16),Y(j,Te.table_select[2],5),f(0<=Te.region0_count&&Te.region0_count<16),f(0<=Te.region1_count&&Te.region1_count<8),Y(j,Te.region0_count,4),Y(j,Te.region1_count,3)),Y(j,Te.scalefac_scale,1),Y(j,Te.count1table_select,1)}K.error_protection&&CRC_writeheader(j,j.header[j.h_ptr].buf);var Qe=j.h_ptr;f(j.header[Qe].ptr==j.sideinfo_len*8),j.h_ptr=Qe+1&w.MAX_HEADER_BUF-1,j.header[j.h_ptr].write_timing=j.header[Qe].write_timing+ee,j.h_ptr==j.w_ptr&&r.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}function _e(K,ee){var j=g.ht[ee.count1table_select+32],ae,Re=0,ze=ee.big_values,De=ee.big_values;for(f(ee.count1table_select<2),ae=(ee.count1-ee.big_values)/4;ae>0;--ae){var Te=0,Qe=0,an;an=ee.l3_enc[ze+0],an!=0&&(Qe+=8,ee.xr[De+0]<0&&Te++,f(an<=1)),an=ee.l3_enc[ze+1],an!=0&&(Qe+=4,Te*=2,ee.xr[De+1]<0&&Te++,f(an<=1)),an=ee.l3_enc[ze+2],an!=0&&(Qe+=2,Te*=2,ee.xr[De+2]<0&&Te++,f(an<=1)),an=ee.l3_enc[ze+3],an!=0&&(Qe++,Te*=2,ee.xr[De+3]<0&&Te++,f(an<=1)),ze+=4,De+=4,ne(K,Te+j.table[Qe],j.hlen[Qe]),Re+=j.hlen[Qe]}return Re}function le(K,ee,j,ae,Re){var ze=g.ht[ee],De=0;if(f(ee<32),ee==0)return De;for(var Te=j;Te<ae;Te+=2){var Qe=0,an=0,un=ze.xlen,Nn=ze.xlen,Ye=0,mn=Re.l3_enc[Te],sn=Re.l3_enc[Te+1];if(mn!=0&&(Re.xr[Te]<0&&Ye++,Qe--),ee>15){if(mn>14){var Ln=mn-15;f(Ln<=ze.linmax),Ye|=Ln<<1,an=un,mn=15}if(sn>14){var Tn=sn-15;f(Tn<=ze.linmax),Ye<<=un,Ye|=Tn,an+=un,sn=15}Nn=16}sn!=0&&(Ye<<=1,Re.xr[Te+1]<0&&Ye++,Qe--),f((mn|sn)<16),mn=mn*Nn+sn,an-=Qe,Qe+=ze.hlen[mn],f(Qe<=k),f(an<=k),ne(K,ze.table[mn],Qe),ne(K,Ye,an),De+=Qe+an}return De}function se(K,ee){var j=3*K.scalefac_band.s[3];j>ee.big_values&&(j=ee.big_values);var ae=le(K,ee.table_select[0],0,j,ee);return ae+=le(K,ee.table_select[1],j,ee.big_values,ee),ae}function me(K,ee){var j,ae,Re,ze;j=ee.big_values,f(0<=j&&j<=576);var De=ee.region0_count+1;return f(0<=De),f(De<K.scalefac_band.l.length),Re=K.scalefac_band.l[De],De+=ee.region1_count+1,f(0<=De),f(De<K.scalefac_band.l.length),ze=K.scalefac_band.l[De],Re>j&&(Re=j),ze>j&&(ze=j),ae=le(K,ee.table_select[0],0,Re,ee),ae+=le(K,ee.table_select[1],Re,ze,ee),ae+=le(K,ee.table_select[2],ze,j,ee),ae}function Me(K){var ee,j,ae,Re,ze=0,De=K.internal_flags,Te=De.l3_side;if(K.version==1)for(ee=0;ee<2;ee++)for(j=0;j<De.channels_out;j++){var Qe=Te.tt[ee][j],an=_.slen1_tab[Qe.scalefac_compress],un=_.slen2_tab[Qe.scalefac_compress];for(Re=0,ae=0;ae<Qe.sfbdivide;ae++)Qe.scalefac[ae]!=-1&&(ne(De,Qe.scalefac[ae],an),Re+=an);for(;ae<Qe.sfbmax;ae++)Qe.scalefac[ae]!=-1&&(ne(De,Qe.scalefac[ae],un),Re+=un);f(Re==Qe.part2_length),Qe.block_type==E.SHORT_TYPE?Re+=se(De,Qe):Re+=me(De,Qe),Re+=_e(De,Qe),f(Re==Qe.part2_3_length+Qe.part2_length),ze+=Re}else for(ee=0,j=0;j<De.channels_out;j++){var Qe=Te.tt[ee][j],Nn,Ye,mn=0;if(f(Qe.sfb_partition_table!=null),Re=0,ae=0,Ye=0,Qe.block_type==E.SHORT_TYPE){for(;Ye<4;Ye++){var sn=Qe.sfb_partition_table[Ye]/3,Ln=Qe.slen[Ye];for(Nn=0;Nn<sn;Nn++,ae++)ne(De,Math.max(Qe.scalefac[ae*3+0],0),Ln),ne(De,Math.max(Qe.scalefac[ae*3+1],0),Ln),ne(De,Math.max(Qe.scalefac[ae*3+2],0),Ln),mn+=3*Ln}Re+=se(De,Qe)}else{for(;Ye<4;Ye++){var sn=Qe.sfb_partition_table[Ye],Ln=Qe.slen[Ye];for(Nn=0;Nn<sn;Nn++,ae++)ne(De,Math.max(Qe.scalefac[ae],0),Ln),mn+=Ln}Re+=me(De,Qe)}Re+=_e(De,Qe),f(Re==Qe.part2_3_length),f(mn==Qe.part2_length),ze+=mn+Re}return ze}function de(){this.total=0}function he(K,ee){var j=K.internal_flags,ae,Re,ze,De,Te;return Te=j.w_ptr,De=j.h_ptr-1,De==-1&&(De=w.MAX_HEADER_BUF-1),ae=j.header[De].write_timing-I,ee.total=ae,ae>=0&&(Re=1+De-Te,De<Te&&(Re=1+De-Te+w.MAX_HEADER_BUF),ae-=Re*8*j.sideinfo_len),ze=N.getframebits(K),ae+=ze,ee.total+=ze,ee.total%8!=0?ee.total=1+ee.total/8:ee.total=ee.total/8,ee.total+=D+1,ae<0&&r.err.println(`strange error flushing buffer ... 
`),ae}this.flush_bitstream=function(K){var ee=K.internal_flags,j,ae,Re=ee.h_ptr-1;if(Re==-1&&(Re=w.MAX_HEADER_BUF-1),j=ee.l3_side,!((ae=he(K,new de))<0)){if(B(K,ae),f(ee.header[Re].write_timing+this.getframebits(K)==I),ee.ResvSize=0,j.main_data_begin=0,ee.findReplayGain){var ze=C.GetTitleGain(ee.rgdata);f(NEQ(ze,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),ee.RadioGain=Math.floor(ze*10+.5)|0}ee.findPeakSample&&(ee.noclipGainChange=Math.ceil(Math.log10(ee.PeakSample/32767)*200)|0,ee.noclipGainChange>0&&(EQ(K.scale,1)||EQ(K.scale,0))?ee.noclipScale=Math.floor(32767/ee.PeakSample*100)/100:ee.noclipScale=-1)}},this.add_dummy_byte=function(K,ee,j){for(var ae=K.internal_flags,Re;j-- >0;)for(fe(ae,ee,8),Re=0;Re<w.MAX_HEADER_BUF;++Re)ae.header[Re].write_timing+=8},this.format_bitstream=function(K){var ee=K.internal_flags,j;j=ee.l3_side;var ae=this.getframebits(K);B(K,j.resvDrain_pre),Q(K,ae);var Re=8*ee.sideinfo_len;if(Re+=Me(K),B(K,j.resvDrain_post),Re+=j.resvDrain_post,j.main_data_begin+=(ae-Re)/8,he(K,new de)!=ee.ResvSize&&r.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),j.main_data_begin*8!=ee.ResvSize&&(r.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*j.main_data_begin,ee.ResvSize,j.resvDrain_post,j.resvDrain_pre,8*ee.sideinfo_len,Re-j.resvDrain_post-8*ee.sideinfo_len,Re,Re%8,ae),r.err.println("This is a fatal error.  It has several possible causes:"),r.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),r.err.println(" 9%%  Your system is overclocked"),r.err.println(" 1%%  bug in LAME encoding library"),ee.ResvSize=j.main_data_begin*8),f(I%8==0),I>1e9){var ze;for(ze=0;ze<w.MAX_HEADER_BUF;++ze)ee.header[ze].write_timing-=I;I=0}return 0},this.copy_buffer=function(K,ee,j,ae,Re){var ze=D+1;if(ze<=0)return 0;if(ae!=0&&ze>ae)return-1;if(r.arraycopy(R,0,ee,j,ze),D=-1,q=0,Re!=0){var De=h(1);if(De[0]=K.nMusicCRC,M.updateMusicCRC(De,ee,j,ze),K.nMusicCRC=De[0],ze>0&&(K.VBR_seek_table.nBytesWritten+=ze),K.decode_on_the_fly){for(var Te=d([2,1152]),Qe=ze,an=-1,un;an!=0;)if(an=A.hip_decode1_unclipped(K.hip,ee,j,Qe,Te[0],Te[1]),Qe=0,an==-1&&(an=0),an>0){if(f(an<=1152),K.findPeakSample){for(un=0;un<an;un++)Te[0][un]>K.PeakSample?K.PeakSample=Te[0][un]:-Te[0][un]>K.PeakSample&&(K.PeakSample=-Te[0][un]);if(K.channels_out>1)for(un=0;un<an;un++)Te[1][un]>K.PeakSample?K.PeakSample=Te[1][un]:-Te[1][un]>K.PeakSample&&(K.PeakSample=-Te[1][un])}if(K.findReplayGain&&C.AnalyzeSamples(K.rgdata,Te[0],0,Te[1],0,an,K.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return ze},this.init_bit_stream_w=function(K){R=l(T.LAME_MAXMP3BUFFER),K.h_ptr=K.w_ptr=0,K.header[K.h_ptr].write_timing=0,D=-1,q=0,I=0}}n.exports=x});yn.register("65Sx2",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var l=e.new_int;e.new_int_n;var d=e.assert,h=yn("cPNKB"),f=yn("dQDcS"),_=yn("7weBo"),g=yn("84mea");function E(){var w=null;this.qupvt=null,this.setModules=function(de){this.qupvt=de,w=de};function x(de){this.bits=0|de}var T=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function N(de,he,K,ee,j,ae){var Re=.5946/he;for(d(de>0),de=de>>1;de--!=0;)j[ae++]=Re>K[ee++]?0:1,j[ae++]=Re>K[ee++]?0:1}function P(de,he,K,ee,j,ae){d(de>0),de=de>>1;var Re=de%2;for(de=de>>1;de--!=0;){var ze,De,Te,Qe,an,un,Nn,Ye;ze=K[ee++]*he,De=K[ee++]*he,an=0|ze,Te=K[ee++]*he,un=0|De,Qe=K[ee++]*he,Nn=0|Te,ze+=w.adj43[an],Ye=0|Qe,De+=w.adj43[un],j[ae++]=0|ze,Te+=w.adj43[Nn],j[ae++]=0|De,Qe+=w.adj43[Ye],j[ae++]=0|Te,j[ae++]=0|Qe}if(Re!=0){var ze,De,an,un;ze=K[ee++]*he,De=K[ee++]*he,an=0|ze,un=0|De,ze+=w.adj43[an],De+=w.adj43[un],j[ae++]=0|ze,j[ae++]=0|De}}function k(de,he,K,ee,j){var ae,Re,ze=0,De,Te=0,Qe=0,an=0,un=he,Nn=0,Ye=un,mn=0,sn=de,Ln=0;for(De=j!=null&&ee.global_gain==j.global_gain,ee.block_type==h.SHORT_TYPE?Re=38:Re=21,ae=0;ae<=Re;ae++){var Tn=-1;if((De||ee.block_type==h.NORM_TYPE)&&(Tn=ee.global_gain-(ee.scalefac[ae]+(ee.preflag!=0?w.pretab[ae]:0)<<ee.scalefac_scale+1)-ee.subblock_gain[ee.window[ae]]*8),d(ee.width[ae]>=0),De&&j.step[ae]==Tn)Te!=0&&(P(Te,K,sn,Ln,Ye,mn),Te=0),Qe!=0&&(N(Qe,K,sn,Ln,Ye,mn),Qe=0);else{var G=ee.width[ae];if(ze+ee.width[ae]>ee.max_nonzero_coeff){var ie;ie=ee.max_nonzero_coeff-ze+1,a.fill(he,ee.max_nonzero_coeff,576,0),G=ie,G<0&&(G=0),ae=Re+1}if(Te==0&&Qe==0&&(Ye=un,mn=Nn,sn=de,Ln=an),j!=null&&j.sfb_count1>0&&ae>=j.sfb_count1&&j.step[ae]>0&&Tn>=j.step[ae]?(Te!=0&&(P(Te,K,sn,Ln,Ye,mn),Te=0,Ye=un,mn=Nn,sn=de,Ln=an),Qe+=G):(Qe!=0&&(N(Qe,K,sn,Ln,Ye,mn),Qe=0,Ye=un,mn=Nn,sn=de,Ln=an),Te+=G),G<=0){Qe!=0&&(N(Qe,K,sn,Ln,Ye,mn),Qe=0),Te!=0&&(P(Te,K,sn,Ln,Ye,mn),Te=0);break}}ae<=Re&&(Nn+=ee.width[ae],an+=ee.width[ae],ze+=ee.width[ae])}Te!=0&&(P(Te,K,sn,Ln,Ye,mn),Te=0),Qe!=0&&(N(Qe,K,sn,Ln,Ye,mn),Qe=0)}function C(de,he,K){var ee=0,j=0;do{var ae=de[he++],Re=de[he++];ee<ae&&(ee=ae),j<Re&&(j=Re)}while(he<K);return ee<j&&(ee=j),ee}function A(de,he,K,ee,j,ae){var Re=f.ht[ee].xlen*65536+f.ht[j].xlen,ze=0,De;do{var Te=de[he++],Qe=de[he++];Te!=0&&(Te>14&&(Te=15,ze+=Re),Te*=16),Qe!=0&&(Qe>14&&(Qe=15,ze+=Re),Te+=Qe),ze+=f.largetbl[Te]}while(he<K);return De=ze&65535,ze>>=16,ze>De&&(ze=De,ee=j),ae.bits+=ze,ee}function U(de,he,K,ee){var j=0,ae=f.ht[1].hlen;do{var Re=de[he+0]*2+de[he+1];he+=2,j+=ae[Re]}while(he<K);return ee.bits+=j,1}function M(de,he,K,ee,j){var ae=0,Re,ze=f.ht[ee].xlen,De;ee==2?De=f.table23:De=f.table56;do{var Te=de[he+0]*ze+de[he+1];he+=2,ae+=De[Te]}while(he<K);return Re=ae&65535,ae>>=16,ae>Re&&(ae=Re,ee++),j.bits+=ae,ee}function R(de,he,K,ee,j){var ae=0,Re=0,ze=0,De=f.ht[ee].xlen,Te=f.ht[ee].hlen,Qe=f.ht[ee+1].hlen,an=f.ht[ee+2].hlen;do{var un=de[he+0]*De+de[he+1];he+=2,ae+=Te[un],Re+=Qe[un],ze+=an[un]}while(he<K);var Nn=ee;return ae>Re&&(ae=Re,Nn++),ae>ze&&(ae=ze,Nn=ee+2),j.bits+=ae,Nn}var I=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function D(de,he,K,ee){var j=C(de,he,K);switch(j){case 0:return j;case 1:return U(de,he,K,ee);case 2:case 3:return M(de,he,K,I[j-1],ee);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return R(de,he,K,I[j-1],ee);default:if(j>g.IXMAX_VAL)return ee.bits=g.LARGE_BITS,-1;j-=15;var ae;for(ae=24;ae<32&&!(f.ht[ae].linmax>=j);ae++);var Re;for(Re=ae-8;Re<24&&!(f.ht[Re].linmax>=j);Re++);return A(de,he,K,Re,ae,ee)}}this.noquant_count_bits=function(de,he,K){var ee=he.l3_enc,j=Math.min(576,he.max_nonzero_coeff+2>>1<<1);for(K!=null&&(K.sfb_count1=0);j>1&&!(ee[j-1]|ee[j-2]);j-=2);he.count1=j;for(var ae=0,Re=0;j>3;j-=4){var ze;if(((ee[j-1]|ee[j-2]|ee[j-3]|ee[j-4])&2147483647)>1)break;ze=((ee[j-4]*2+ee[j-3])*2+ee[j-2])*2+ee[j-1],ae+=f.t32l[ze],Re+=f.t33l[ze]}var De=ae;if(he.count1table_select=0,ae>Re&&(De=Re,he.count1table_select=1),he.count1bits=De,he.big_values=j,j==0)return De;if(he.block_type==h.SHORT_TYPE)ae=3*de.scalefac_band.s[3],ae>he.big_values&&(ae=he.big_values),Re=he.big_values;else if(he.block_type==h.NORM_TYPE){if(d(j<=576),ae=he.region0_count=de.bv_scf[j-2],Re=he.region1_count=de.bv_scf[j-1],d(ae+Re+2<h.SBPSY_l),Re=de.scalefac_band.l[ae+Re+2],ae=de.scalefac_band.l[ae+1],Re<j){var Te=new x(De);he.table_select[2]=D(ee,Re,j,Te),De=Te.bits}}else he.region0_count=7,he.region1_count=h.SBMAX_l-1-7-1,ae=de.scalefac_band.l[8],Re=j,ae>Re&&(ae=Re);if(ae=Math.min(ae,j),Re=Math.min(Re,j),d(ae>=0),d(Re>=0),0<ae){var Te=new x(De);he.table_select[0]=D(ee,0,ae,Te),De=Te.bits}if(ae<Re){var Te=new x(De);he.table_select[1]=D(ee,ae,Re,Te),De=Te.bits}if(de.use_best_huffman==2&&(he.part2_3_length=De,best_huffman_divide(de,he),De=he.part2_3_length),K!=null&&he.block_type==h.NORM_TYPE){for(var Qe=0;de.scalefac_band.l[Qe]<he.big_values;)Qe++;K.sfb_count1=Qe}return De},this.count_bits=function(de,he,K,ee){var j=K.l3_enc,ae=g.IXMAX_VAL/w.IPOW20(K.global_gain);if(K.xrpow_max>ae)return g.LARGE_BITS;if(k(he,j,w.IPOW20(K.global_gain),K,ee),de.substep_shaping&2)for(var Re=0,ze=K.global_gain+K.scalefac_scale,De=.634521682242439/w.IPOW20(ze),Te=0;Te<K.sfbmax;Te++){var Qe=K.width[Te];if(d(Qe>=0),de.pseudohalf[Te]==0)Re+=Qe;else{var an;for(an=Re,Re+=Qe;an<Re;++an)j[an]=he[an]>=De?j[an]:0}}return this.noquant_count_bits(de,K,ee)};function q(de,he,K,ee,j,ae,Re){for(var ze=he.big_values,De=0;De<=22;De++)ee[De]=g.LARGE_BITS;for(var De=0;De<16;De++){var Te=de.scalefac_band.l[De+1];if(Te>=ze)break;var Qe=0,an=new x(Qe),un=D(K,0,Te,an);Qe=an.bits;for(var Nn=0;Nn<8;Nn++){var Ye=de.scalefac_band.l[De+Nn+2];if(Ye>=ze)break;var mn=Qe;an=new x(mn);var sn=D(K,Te,Ye,an);mn=an.bits,ee[De+Nn]>mn&&(ee[De+Nn]=mn,j[De+Nn]=De,ae[De+Nn]=un,Re[De+Nn]=sn)}}}function z(de,he,K,ee,j,ae,Re,ze){for(var De=he.big_values,Te=2;Te<h.SBMAX_l+1;Te++){var Qe=de.scalefac_band.l[Te];if(Qe>=De)break;var an=j[Te-2]+he.count1bits;if(K.part2_3_length<=an)break;var un=new x(an),Nn=D(ee,Qe,De,un);an=un.bits,!(K.part2_3_length<=an)&&(K.assign(he),K.part2_3_length=an,K.region0_count=ae[Te-2],K.region1_count=Te-2-ae[Te-2],K.table_select[0]=Re[Te-2],K.table_select[1]=ze[Te-2],K.table_select[2]=Nn)}}this.best_huffman_divide=function(de,he){var K=new _,ee=he.l3_enc,j=l(23),ae=l(23),Re=l(23),ze=l(23);if(!(he.block_type==h.SHORT_TYPE&&de.mode_gr==1)){K.assign(he),he.block_type==h.NORM_TYPE&&(q(de,he,ee,j,ae,Re,ze),z(de,K,he,ee,j,ae,Re,ze));var De=K.big_values;if(!(De==0||(ee[De-2]|ee[De-1])>1)&&(De=he.count1+2,!(De>576))){K.assign(he),K.count1=De;var Te=0,Qe=0;for(d(De<=576);De>K.big_values;De-=4){var an=((ee[De-4]*2+ee[De-3])*2+ee[De-2])*2+ee[De-1];Te+=f.t32l[an],Qe+=f.t33l[an]}if(K.big_values=De,K.count1table_select=0,Te>Qe&&(Te=Qe,K.count1table_select=1),K.count1bits=Te,K.block_type==h.NORM_TYPE)z(de,K,he,ee,j,ae,Re,ze);else{if(K.part2_3_length=Te,Te=de.scalefac_band.l[8],Te>De&&(Te=De),Te>0){var un=new x(K.part2_3_length);K.table_select[0]=D(ee,0,Te,un),K.part2_3_length=un.bits}if(De>Te){var un=new x(K.part2_3_length);K.table_select[1]=D(ee,Te,De,un),K.part2_3_length=un.bits}he.part2_3_length>K.part2_3_length&&he.assign(K)}}}};var ne=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],fe=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],B=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],Y=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];E.slen1_tab=B,E.slen2_tab=Y;function ue(de,he){for(var K,ee=he.tt[1][de],j=he.tt[0][de],ae=0;ae<f.scfsi_band.length-1;ae++){for(K=f.scfsi_band[ae];K<f.scfsi_band[ae+1]&&!(j.scalefac[K]!=ee.scalefac[K]&&ee.scalefac[K]>=0);K++);if(K==f.scfsi_band[ae+1]){for(K=f.scfsi_band[ae];K<f.scfsi_band[ae+1];K++)ee.scalefac[K]=-1;he.scfsi[de][ae]=1}}var Re=0,ze=0;for(K=0;K<11;K++)ee.scalefac[K]!=-1&&(ze++,Re<ee.scalefac[K]&&(Re=ee.scalefac[K]));for(var De=0,Te=0;K<h.SBPSY_l;K++)ee.scalefac[K]!=-1&&(Te++,De<ee.scalefac[K]&&(De=ee.scalefac[K]));for(var ae=0;ae<16;ae++)if(Re<ne[ae]&&De<fe[ae]){var Qe=B[ae]*ze+Y[ae]*Te;ee.part2_length>Qe&&(ee.part2_length=Qe,ee.scalefac_compress=ae)}}this.best_scalefac_store=function(de,he,K,ee){var j=ee.tt[he][K],ae,Re,ze,De,Te=0;for(ze=0,ae=0;ae<j.sfbmax;ae++){var Qe=j.width[ae];for(d(Qe>=0),ze+=Qe,De=-Qe;De<0&&j.l3_enc[De+ze]==0;De++);De==0&&(j.scalefac[ae]=Te=-2)}if(j.scalefac_scale==0&&j.preflag==0){var an=0;for(ae=0;ae<j.sfbmax;ae++)j.scalefac[ae]>0&&(an|=j.scalefac[ae]);if(!(an&1)&&an!=0){for(ae=0;ae<j.sfbmax;ae++)j.scalefac[ae]>0&&(j.scalefac[ae]>>=1);j.scalefac_scale=Te=1}}if(j.preflag==0&&j.block_type!=h.SHORT_TYPE&&de.mode_gr==2){for(ae=11;ae<h.SBPSY_l&&!(j.scalefac[ae]<w.pretab[ae]&&j.scalefac[ae]!=-2);ae++);if(ae==h.SBPSY_l){for(ae=11;ae<h.SBPSY_l;ae++)j.scalefac[ae]>0&&(j.scalefac[ae]-=w.pretab[ae]);j.preflag=Te=1}}for(Re=0;Re<4;Re++)ee.scfsi[K][Re]=0;for(de.mode_gr==2&&he==1&&ee.tt[0][K].block_type!=h.SHORT_TYPE&&ee.tt[1][K].block_type!=h.SHORT_TYPE&&(ue(K,ee),Te=0),ae=0;ae<j.sfbmax;ae++)j.scalefac[ae]==-2&&(j.scalefac[ae]=0);Te!=0&&(de.mode_gr==2?this.scale_bitcount(j):this.scale_bitcount_lsf(de,j))};function Q(de,he){for(var K=0;K<he;++K)if(de[K]<0)return!1;return!0}var _e=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],le=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],se=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(de){var he,K,ee=0,j=0,ae,Re=de.scalefac;if(d(Q(Re,de.sfbmax)),de.block_type==h.SHORT_TYPE)ae=_e,de.mixed_block_flag!=0&&(ae=le);else if(ae=se,de.preflag==0){for(K=11;K<h.SBPSY_l&&!(Re[K]<w.pretab[K]);K++);if(K==h.SBPSY_l)for(de.preflag=1,K=11;K<h.SBPSY_l;K++)Re[K]-=w.pretab[K]}for(K=0;K<de.sfbdivide;K++)ee<Re[K]&&(ee=Re[K]);for(;K<de.sfbmax;K++)j<Re[K]&&(j=Re[K]);for(de.part2_length=g.LARGE_BITS,he=0;he<16;he++)ee<ne[he]&&j<fe[he]&&de.part2_length>ae[he]&&(de.part2_length=ae[he],de.scalefac_compress=he);return de.part2_length==g.LARGE_BITS};var me=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(de,he){var K,ee,j,ae,Re,ze,De,Te,Qe=l(4),an=he.scalefac;for(he.preflag!=0?K=2:K=0,De=0;De<4;De++)Qe[De]=0;if(he.block_type==h.SHORT_TYPE){ee=1;var un=w.nr_of_sfb_block[K][ee];for(Te=0,j=0;j<4;j++)for(ae=un[j]/3,De=0;De<ae;De++,Te++)for(Re=0;Re<3;Re++)an[Te*3+Re]>Qe[j]&&(Qe[j]=an[Te*3+Re])}else{ee=0;var un=w.nr_of_sfb_block[K][ee];for(Te=0,j=0;j<4;j++)for(ae=un[j],De=0;De<ae;De++,Te++)an[Te]>Qe[j]&&(Qe[j]=an[Te])}for(ze=!1,j=0;j<4;j++)Qe[j]>me[K][j]&&(ze=!0);if(!ze){var Nn,Ye,mn,sn;for(he.sfb_partition_table=w.nr_of_sfb_block[K][ee],j=0;j<4;j++)he.slen[j]=Me[Qe[j]];switch(Nn=he.slen[0],Ye=he.slen[1],mn=he.slen[2],sn=he.slen[3],K){case 0:he.scalefac_compress=(Nn*5+Ye<<4)+(mn<<2)+sn;break;case 1:he.scalefac_compress=400+(Nn*5+Ye<<2)+mn;break;case 2:he.scalefac_compress=500+Nn*3+Ye;break;default:r.err.printf(`intensity stereo not implemented yet
`);break}}if(!ze)for(d(he.sfb_partition_table!=null),he.part2_length=0,j=0;j<4;j++)he.part2_length+=he.slen[j]*he.sfb_partition_table[j];return ze};var Me=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(de){for(var he=2;he<=576;he+=2){for(var K=0,ee;de.scalefac_band.l[++K]<he;);for(ee=T[K][0];de.scalefac_band.l[ee+1]>he;)ee--;for(ee<0&&(ee=T[K][0]),de.bv_scf[he-2]=ee,ee=T[K][1];de.scalefac_band.l[ee+de.bv_scf[he-2]+2]>he;)ee--;ee<0&&(ee=T[K][1]),de.bv_scf[he-1]=ee}}}n.exports=E});yn.register("dQDcS",function(n,t){function e(a,l,d,h){this.xlen=a,this.linmax=l,this.table=d,this.hlen=h}var r={};r.t1HB=[1,1,1,0],r.t2HB=[1,2,1,3,1,1,3,2,0],r.t3HB=[3,2,1,1,1,1,3,2,0],r.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],r.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],r.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],r.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],r.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],r.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],r.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],r.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],r.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],r.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],r.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],r.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],r.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],r.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],r.t1l=[1,4,3,5],r.t2l=[1,4,7,4,5,7,6,7,8],r.t3l=[2,3,7,4,4,7,6,7,8],r.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],r.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],r.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],r.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],r.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],r.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],r.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],r.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],r.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],r.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],r.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],r.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],r.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],r.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],r.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],r.ht=[new e(0,0,null,null),new e(2,0,r.t1HB,r.t1l),new e(3,0,r.t2HB,r.t2l),new e(3,0,r.t3HB,r.t3l),new e(0,0,null,null),new e(4,0,r.t5HB,r.t5l),new e(4,0,r.t6HB,r.t6l),new e(6,0,r.t7HB,r.t7l),new e(6,0,r.t8HB,r.t8l),new e(6,0,r.t9HB,r.t9l),new e(8,0,r.t10HB,r.t10l),new e(8,0,r.t11HB,r.t11l),new e(8,0,r.t12HB,r.t12l),new e(16,0,r.t13HB,r.t13l),new e(0,0,null,r.t16_5l),new e(16,0,r.t15HB,r.t15l),new e(1,1,r.t16HB,r.t16l),new e(2,3,r.t16HB,r.t16l),new e(3,7,r.t16HB,r.t16l),new e(4,15,r.t16HB,r.t16l),new e(6,63,r.t16HB,r.t16l),new e(8,255,r.t16HB,r.t16l),new e(10,1023,r.t16HB,r.t16l),new e(13,8191,r.t16HB,r.t16l),new e(4,15,r.t24HB,r.t24l),new e(5,31,r.t24HB,r.t24l),new e(6,63,r.t24HB,r.t24l),new e(7,127,r.t24HB,r.t24l),new e(8,255,r.t24HB,r.t24l),new e(9,511,r.t24HB,r.t24l),new e(11,2047,r.t24HB,r.t24l),new e(13,8191,r.t24HB,r.t24l),new e(0,0,r.t32HB,r.t32l),new e(0,0,r.t33HB,r.t33l)],r.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],r.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],r.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],r.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],r.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],r.scfsi_band=[0,6,11,16,21],n.exports=r});yn.register("84mea",function(n,t){var e=yn("7imnH"),r=yn("3YDN3");r.System;var a=r.VbrMode,l=r.Float;r.ShortBlock;var d=r.Util;r.Arrays,r.new_array_n,r.new_byte,r.new_double;var h=r.new_float;r.new_float_n;var f=r.new_int;r.new_int_n;var _=r.assert,g=yn("cPNKB"),E=yn("lL4Le"),w=yn("4SDnr");x.Q_MAX=257,x.Q_MAX2=116,x.LARGE_BITS=1e5,x.IXMAX_VAL=8206;function x(){var T=yn("ctaQC"),N=null,P=null,k=null;this.setModules=function(_e,le,se){N=_e,P=le,k=se};function C(_e){return _(0<=_e+x.Q_MAX2&&_e<x.Q_MAX),z[_e+x.Q_MAX2]}this.IPOW20=function(_e){return _(0<=_e&&_e<x.Q_MAX),ne[_e]};var A=2220446049250313e-31,U=x.IXMAX_VAL,M=U+2,R=x.Q_MAX,I=x.Q_MAX2;x.LARGE_BITS;var D=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var q=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=q,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var z=h(R+I+1),ne=h(R),fe=h(M),B=h(M);this.adj43=B;function Y(_e,le){var se=k.ATHformula(le,_e);return se-=D,se=Math.pow(10,se/10+_e.ATHlower),se}function ue(_e){for(var le=_e.internal_flags.ATH.l,se=_e.internal_flags.ATH.psfb21,me=_e.internal_flags.ATH.s,Me=_e.internal_flags.ATH.psfb12,de=_e.internal_flags,he=_e.out_samplerate,K=0;K<g.SBMAX_l;K++){var ee=de.scalefac_band.l[K],j=de.scalefac_band.l[K+1];le[K]=l.MAX_VALUE;for(var ae=ee;ae<j;ae++){var Re=ae*he/1152,ze=Y(_e,Re);le[K]=Math.min(le[K],ze)}}for(var K=0;K<g.PSFB21;K++){var ee=de.scalefac_band.psfb21[K],j=de.scalefac_band.psfb21[K+1];se[K]=l.MAX_VALUE;for(var ae=ee;ae<j;ae++){var Re=ae*he/1152,ze=Y(_e,Re);se[K]=Math.min(se[K],ze)}}for(var K=0;K<g.SBMAX_s;K++){var ee=de.scalefac_band.s[K],j=de.scalefac_band.s[K+1];me[K]=l.MAX_VALUE;for(var ae=ee;ae<j;ae++){var Re=ae*he/384,ze=Y(_e,Re);me[K]=Math.min(me[K],ze)}me[K]*=de.scalefac_band.s[K+1]-de.scalefac_band.s[K]}for(var K=0;K<g.PSFB12;K++){var ee=de.scalefac_band.psfb12[K],j=de.scalefac_band.psfb12[K+1];Me[K]=l.MAX_VALUE;for(var ae=ee;ae<j;ae++){var Re=ae*he/384,ze=Y(_e,Re);Me[K]=Math.min(Me[K],ze)}Me[K]*=de.scalefac_band.s[13]-de.scalefac_band.s[12]}if(_e.noATH){for(var K=0;K<g.SBMAX_l;K++)le[K]=1e-20;for(var K=0;K<g.PSFB21;K++)se[K]=1e-20;for(var K=0;K<g.SBMAX_s;K++)me[K]=1e-20;for(var K=0;K<g.PSFB12;K++)Me[K]=1e-20}de.ATH.floor=10*Math.log10(Y(_e,-1))}this.iteration_init=function(_e){var le=_e.internal_flags,se=le.l3_side,me;if(le.iteration_init_init==0){for(le.iteration_init_init=1,se.main_data_begin=0,ue(_e),fe[0]=0,me=1;me<M;me++)fe[me]=Math.pow(me,4/3);for(me=0;me<M-1;me++)B[me]=me+1-Math.pow(.5*(fe[me]+fe[me+1]),.75);for(B[me]=.5,me=0;me<R;me++)ne[me]=Math.pow(2,(me-210)*-.1875);for(me=0;me<=R+I;me++)z[me]=Math.pow(2,(me-210-I)*.25);N.huffman_init(le);var Me,de,he,K;for(me=_e.exp_nspsytune>>2&63,me>=32&&(me-=64),Me=Math.pow(10,me/4/10),me=_e.exp_nspsytune>>8&63,me>=32&&(me-=64),de=Math.pow(10,me/4/10),me=_e.exp_nspsytune>>14&63,me>=32&&(me-=64),he=Math.pow(10,me/4/10),me=_e.exp_nspsytune>>20&63,me>=32&&(me-=64),K=he*Math.pow(10,me/4/10),me=0;me<g.SBMAX_l;me++){var ee;me<=6?ee=Me:me<=13?ee=de:me<=20?ee=he:ee=K,le.nsPsy.longfact[me]=ee}for(me=0;me<g.SBMAX_s;me++){var ee;me<=5?ee=Me:me<=10?ee=de:me<=11?ee=he:ee=K,le.nsPsy.shortfact[me]=ee}}},this.on_pe=function(_e,le,se,me,Me,de){var he=_e.internal_flags,K=0,ee,j=f(2),ae,Re=new E(K),ze=P.ResvMaxBits(_e,me,Re,de);K=Re.bits;var De=K+ze;for(De>w.MAX_BITS_PER_GRANULE&&(De=w.MAX_BITS_PER_GRANULE),ee=0,ae=0;ae<he.channels_out;++ae)se[ae]=Math.min(w.MAX_BITS_PER_CHANNEL,K/he.channels_out),j[ae]=0|se[ae]*le[Me][ae]/700-se[ae],j[ae]>me*3/4&&(j[ae]=me*3/4),j[ae]<0&&(j[ae]=0),j[ae]+se[ae]>w.MAX_BITS_PER_CHANNEL&&(j[ae]=Math.max(0,w.MAX_BITS_PER_CHANNEL-se[ae])),ee+=j[ae];if(ee>ze)for(ae=0;ae<he.channels_out;++ae)j[ae]=ze*j[ae]/ee;for(ae=0;ae<he.channels_out;++ae)se[ae]+=j[ae],ze-=j[ae];for(ee=0,ae=0;ae<he.channels_out;++ae)ee+=se[ae];if(ee>w.MAX_BITS_PER_GRANULE){var Te=0;for(ae=0;ae<he.channels_out;++ae)se[ae]*=w.MAX_BITS_PER_GRANULE,se[ae]/=ee,Te+=se[ae];_(Te<=w.MAX_BITS_PER_GRANULE)}return De},this.reduce_side=function(_e,le,se,me){_(me<=w.MAX_BITS_PER_GRANULE),_(_e[0]+_e[1]<=w.MAX_BITS_PER_GRANULE);var Me=.33*(.5-le)/.5;Me<0&&(Me=0),Me>.5&&(Me=.5);var de=0|Me*.5*(_e[0]+_e[1]);de>w.MAX_BITS_PER_CHANNEL-_e[0]&&(de=w.MAX_BITS_PER_CHANNEL-_e[0]),de<0&&(de=0),_e[1]>=125&&(_e[1]-de>125?(_e[0]<se&&(_e[0]+=de),_e[1]-=de):(_e[0]+=_e[1]-125,_e[1]=125)),de=_e[0]+_e[1],de>me&&(_e[0]=me*_e[0]/de,_e[1]=me*_e[1]/de),_(_e[0]<=w.MAX_BITS_PER_CHANNEL),_(_e[1]<=w.MAX_BITS_PER_CHANNEL),_(_e[0]+_e[1]<=w.MAX_BITS_PER_GRANULE)},this.athAdjust=function(_e,le,se){var me=90.30873362,Me=94.82444863,de=d.FAST_LOG10_X(le,10),he=_e*_e,K=0;return de-=se,he>1e-20&&(K=1+d.FAST_LOG10_X(he,10/me)),K<0&&(K=0),de*=K,de+=se+me-Me,Math.pow(10,.1*de)},this.calc_xmin=function(_e,le,se,me){var Me=0,de=_e.internal_flags,he,K=0,ee=0,j=de.ATH,ae=se.xr,Re=_e.VBR==a.vbr_mtrh?1:0,ze=de.masking_lower;for((_e.VBR==a.vbr_mtrh||_e.VBR==a.vbr_mt)&&(ze=1),he=0;he<se.psy_lmax;he++){var De,Te,Qe,an,un,Nn;_e.VBR==a.vbr_rh||_e.VBR==a.vbr_mtrh?Te=athAdjust(j.adjust,j.l[he],j.floor):Te=j.adjust*j.l[he],un=se.width[he],Qe=Te/un,an=A,Nn=un>>1,De=0;do{var Ye,mn;Ye=ae[K]*ae[K],De+=Ye,an+=Ye<Qe?Ye:Qe,K++,mn=ae[K]*ae[K],De+=mn,an+=mn<Qe?mn:Qe,K++}while(--Nn>0);if(De>Te&&ee++,he==g.SBPSY_l){var sn=Te*de.nsPsy.longfact[he];an<sn&&(an=sn)}if(Re!=0&&(Te=an),!_e.ATHonly){var Ln=le.en.l[he];if(Ln>0){var sn;sn=De*le.thm.l[he]*ze/Ln,Re!=0&&(sn*=de.nsPsy.longfact[he]),Te<sn&&(Te=sn)}}Re!=0?me[Me++]=Te:me[Me++]=Te*de.nsPsy.longfact[he]}var Tn=575;if(se.block_type!=g.SHORT_TYPE)for(var G=576;G--!=0&&T.EQ(ae[G],0);)Tn=G;se.max_nonzero_coeff=Tn;for(var ie=se.sfb_smin;he<se.psymax;ie++,he+=3){var un,bn,Sn;for(_e.VBR==a.vbr_rh||_e.VBR==a.vbr_mtrh?Sn=athAdjust(j.adjust,j.s[ie],j.floor):Sn=j.adjust*j.s[ie],un=se.width[he],bn=0;bn<3;bn++){var De=0,Te,Qe,an,Nn=un>>1;Qe=Sn/un,an=A;do{var Ye,mn;Ye=ae[K]*ae[K],De+=Ye,an+=Ye<Qe?Ye:Qe,K++,mn=ae[K]*ae[K],De+=mn,an+=mn<Qe?mn:Qe,K++}while(--Nn>0);if(De>Sn&&ee++,ie==g.SBPSY_s){var sn=Sn*de.nsPsy.shortfact[ie];an<sn&&(an=sn)}if(Re!=0?Te=an:Te=Sn,!_e.ATHonly&&!_e.ATHshort){var Ln=le.en.s[ie][bn];if(Ln>0){var sn;sn=De*le.thm.s[ie][bn]*ze/Ln,Re!=0&&(sn*=de.nsPsy.shortfact[ie]),Te<sn&&(Te=sn)}}Re!=0?me[Me++]=Te:me[Me++]=Te*de.nsPsy.shortfact[ie]}_e.useTemporal&&(me[Me-3]>me[Me-3+1]&&(me[Me-3+1]+=(me[Me-3]-me[Me-3+1])*de.decay),me[Me-3+1]>me[Me-3+2]&&(me[Me-3+2]+=(me[Me-3+1]-me[Me-3+2])*de.decay))}return ee};function Q(_e){this.s=_e}this.calc_noise_core=function(_e,le,se,me){var Me=0,de=le.s,he=_e.l3_enc;if(de>_e.count1)for(;se--!=0;){var K;K=_e.xr[de],de++,Me+=K*K,K=_e.xr[de],de++,Me+=K*K}else if(de>_e.big_values){var ee=h(2);for(ee[0]=0,ee[1]=me;se--!=0;){var K;K=Math.abs(_e.xr[de])-ee[he[de]],de++,Me+=K*K,K=Math.abs(_e.xr[de])-ee[he[de]],de++,Me+=K*K}}else for(;se--!=0;){var K;K=Math.abs(_e.xr[de])-fe[he[de]]*me,de++,Me+=K*K,K=Math.abs(_e.xr[de])-fe[he[de]]*me,de++,Me+=K*K}return le.s=de,Me},this.calc_noise=function(_e,le,se,me,Me){var de=0,he=0,K,ee,j=0,ae=0,Re=0,ze=-20,De=0,Te=_e.scalefac,Qe=0;for(me.over_SSD=0,K=0;K<_e.psymax;K++){var an=_e.global_gain-(Te[Qe++]+(_e.preflag!=0?q[K]:0)<<_e.scalefac_scale+1)-_e.subblock_gain[_e.window[K]]*8,un=0;if(Me!=null&&Me.step[K]==an)un=Me.noise[K],De+=_e.width[K],se[de++]=un/le[he++],un=Me.noise_log[K];else{var Nn=C(an);if(ee=_e.width[K]>>1,De+_e.width[K]>_e.max_nonzero_coeff){var Ye;Ye=_e.max_nonzero_coeff-De+1,Ye>0?ee=Ye>>1:ee=0}var mn=new Q(De);un=this.calc_noise_core(_e,mn,ee,Nn),De=mn.s,Me!=null&&(Me.step[K]=an,Me.noise[K]=un),un=se[de++]=un/le[he++],un=d.FAST_LOG10(Math.max(un,1e-20)),Me!=null&&(Me.noise_log[K]=un)}if(Me!=null&&(Me.global_gain=_e.global_gain),Re+=un,un>0){var sn;sn=Math.max(0|un*10+.5,1),me.over_SSD+=sn*sn,j++,ae+=un}ze=Math.max(ze,un)}return me.over_count=j,me.tot_noise=Re,me.over_noise=ae,me.max_noise=ze,j},this.set_pinfo=function(_e,le,se,me,Me){var de=_e.internal_flags,he,K,ee,j,ae,Re=le.scalefac_scale==0?.5:1,ze=le.scalefac,De=h(L3Side.SFBMAX),Te=h(L3Side.SFBMAX),Qe=new CalcNoiseResult;calc_xmin(_e,se,le,De),calc_noise(le,De,Te,Qe,null);var an=0;for(K=le.sfb_lmax,le.block_type!=g.SHORT_TYPE&&le.mixed_block_flag==0&&(K=22),he=0;he<K;he++){var un=de.scalefac_band.l[he],Nn=de.scalefac_band.l[he+1],Ye=Nn-un;for(j=0;an<Nn;an++)j+=le.xr[an]*le.xr[an];j/=Ye,ae=1e15,de.pinfo.en[me][Me][he]=ae*j,de.pinfo.xfsf[me][Me][he]=ae*De[he]*Te[he]/Ye,se.en.l[he]>0&&!_e.ATHonly?j=j/se.en.l[he]:j=0,de.pinfo.thr[me][Me][he]=ae*Math.max(j*se.thm.l[he],de.ATH.l[he]),de.pinfo.LAMEsfb[me][Me][he]=0,le.preflag!=0&&he>=11&&(de.pinfo.LAMEsfb[me][Me][he]=-Re*q[he]),he<g.SBPSY_l&&(_(ze[he]>=0),de.pinfo.LAMEsfb[me][Me][he]-=Re*ze[he])}if(le.block_type==g.SHORT_TYPE)for(K=he,he=le.sfb_smin;he<g.SBMAX_s;he++)for(var un=de.scalefac_band.s[he],Nn=de.scalefac_band.s[he+1],Ye=Nn-un,mn=0;mn<3;mn++){for(j=0,ee=un;ee<Nn;ee++)j+=le.xr[an]*le.xr[an],an++;j=Math.max(j/Ye,1e-20),ae=1e15,de.pinfo.en_s[me][Me][3*he+mn]=ae*j,de.pinfo.xfsf_s[me][Me][3*he+mn]=ae*De[K]*Te[K]/Ye,se.en.s[he][mn]>0?j=j/se.en.s[he][mn]:j=0,(_e.ATHonly||_e.ATHshort)&&(j=0),de.pinfo.thr_s[me][Me][3*he+mn]=ae*Math.max(j*se.thm.s[he][mn],de.ATH.s[he]),de.pinfo.LAMEsfb_s[me][Me][3*he+mn]=-2*le.subblock_gain[mn],he<g.SBPSY_s&&(de.pinfo.LAMEsfb_s[me][Me][3*he+mn]-=Re*ze[K]),K++}de.pinfo.LAMEqss[me][Me]=le.global_gain,de.pinfo.LAMEmainbits[me][Me]=le.part2_3_length+le.part2_length,de.pinfo.LAMEsfbits[me][Me]=le.part2_length,de.pinfo.over[me][Me]=Qe.over_count,de.pinfo.max_noise[me][Me]=Qe.max_noise*10,de.pinfo.over_noise[me][Me]=Qe.over_noise*10,de.pinfo.tot_noise[me][Me]=Qe.tot_noise*10,de.pinfo.over_SSD[me][Me]=Qe.over_SSD}}n.exports=x});var hB={};dB(hB,"Mp3Encoder",()=>k1,n=>k1=n);dB(hB,"WavHeader",()=>I1,n=>I1=n);var k1,I1,ht=yn("3YDN3");ht.System;ht.VbrMode;ht.Float;ht.ShortBlock;ht.Util;ht.Arrays;ht.new_array_n;var IL=ht.new_byte;ht.new_double;ht.new_float;ht.new_float_n;ht.new_int;ht.new_int_n;var NL=ht.assert,M2e=yn("kk1yk"),pB={},ht=yn("3YDN3");ht.System;var bl=ht.VbrMode;ht.Float;ht.ShortBlock;ht.Util;ht.Arrays;ht.new_array_n;ht.new_byte;ht.new_double;ht.new_float;ht.new_float_n;ht.new_int;ht.new_int_n;ht.assert;function D2e(){var n=yn("kk1yk");function t(g,E,w,x,T,N,P,k,C,A,U,M,R,I,D){this.vbr_q=g,this.quant_comp=E,this.quant_comp_s=w,this.expY=x,this.st_lrm=T,this.st_s=N,this.masking_adj=P,this.masking_adj_short=k,this.ath_lower=C,this.ath_curve=A,this.ath_sensitivity=U,this.interch=M,this.safejoint=R,this.sfb21mod=I,this.msfix=D}function e(g,E,w,x,T,N,P,k,C,A,U,M,R,I){this.quant_comp=E,this.quant_comp_s=w,this.safejoint=x,this.nsmsfix=T,this.st_lrm=N,this.st_s=P,this.nsbass=k,this.scale=C,this.masking_adj=A,this.ath_lower=U,this.ath_curve=M,this.interch=R,this.sfscale=I}var r;this.setModules=function(g){r=g};var a=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],l=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function d(g,E,w){var x=g.VBR==bl.vbr_rh?a:l,T=g.VBR_q_frac,N=x[E],P=x[E+1],k=N;N.st_lrm=N.st_lrm+T*(P.st_lrm-N.st_lrm),N.st_s=N.st_s+T*(P.st_s-N.st_s),N.masking_adj=N.masking_adj+T*(P.masking_adj-N.masking_adj),N.masking_adj_short=N.masking_adj_short+T*(P.masking_adj_short-N.masking_adj_short),N.ath_lower=N.ath_lower+T*(P.ath_lower-N.ath_lower),N.ath_curve=N.ath_curve+T*(P.ath_curve-N.ath_curve),N.ath_sensitivity=N.ath_sensitivity+T*(P.ath_sensitivity-N.ath_sensitivity),N.interch=N.interch+T*(P.interch-N.interch),N.msfix=N.msfix+T*(P.msfix-N.msfix),_(g,k.vbr_q),w!=0?g.quant_comp=k.quant_comp:Math.abs(g.quant_comp- -1)>0||(g.quant_comp=k.quant_comp),w!=0?g.quant_comp_short=k.quant_comp_s:Math.abs(g.quant_comp_short- -1)>0||(g.quant_comp_short=k.quant_comp_s),k.expY!=0&&(g.experimentalY=k.expY!=0),w!=0?g.internal_flags.nsPsy.attackthre=k.st_lrm:Math.abs(g.internal_flags.nsPsy.attackthre- -1)>0||(g.internal_flags.nsPsy.attackthre=k.st_lrm),w!=0?g.internal_flags.nsPsy.attackthre_s=k.st_s:Math.abs(g.internal_flags.nsPsy.attackthre_s- -1)>0||(g.internal_flags.nsPsy.attackthre_s=k.st_s),w!=0?g.maskingadjust=k.masking_adj:Math.abs(g.maskingadjust-0)>0||(g.maskingadjust=k.masking_adj),w!=0?g.maskingadjust_short=k.masking_adj_short:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=k.masking_adj_short),w!=0?g.ATHlower=-k.ath_lower/10:Math.abs(-g.ATHlower*10-0)>0||(g.ATHlower=-k.ath_lower/10),w!=0?g.ATHcurve=k.ath_curve:Math.abs(g.ATHcurve- -1)>0||(g.ATHcurve=k.ath_curve),w!=0?g.athaa_sensitivity=k.ath_sensitivity:Math.abs(g.athaa_sensitivity- -1)>0||(g.athaa_sensitivity=k.ath_sensitivity),k.interch>0&&(w!=0?g.interChRatio=k.interch:Math.abs(g.interChRatio- -1)>0||(g.interChRatio=k.interch)),k.safejoint>0&&(g.exp_nspsytune=g.exp_nspsytune|k.safejoint),k.sfb21mod>0&&(g.exp_nspsytune=g.exp_nspsytune|k.sfb21mod<<20),w!=0?g.msfix=k.msfix:Math.abs(g.msfix- -1)>0||(g.msfix=k.msfix),w==0&&(g.VBR_q=E,g.VBR_q_frac=T)}var h=[new e(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new e(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new e(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new e(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new e(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new e(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new e(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new e(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new e(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new e(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new e(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new e(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new e(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new e(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new e(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function f(g,E,w){var x=E,T=r.nearestBitrateFullIndex(E);if(g.VBR=bl.vbr_abr,g.VBR_mean_bitrate_kbps=x,g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,320),g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.brate=g.VBR_mean_bitrate_kbps,g.VBR_mean_bitrate_kbps>320&&(g.disable_reservoir=!0),h[T].safejoint>0&&(g.exp_nspsytune=g.exp_nspsytune|2),h[T].sfscale>0&&(g.internal_flags.noise_shaping=2),Math.abs(h[T].nsbass)>0){var N=int(h[T].nsbass*4);N<0&&(N+=64),g.exp_nspsytune=g.exp_nspsytune|N<<2}return w!=0?g.quant_comp=h[T].quant_comp:Math.abs(g.quant_comp- -1)>0||(g.quant_comp=h[T].quant_comp),w!=0?g.quant_comp_short=h[T].quant_comp_s:Math.abs(g.quant_comp_short- -1)>0||(g.quant_comp_short=h[T].quant_comp_s),w!=0?g.msfix=h[T].nsmsfix:Math.abs(g.msfix- -1)>0||(g.msfix=h[T].nsmsfix),w!=0?g.internal_flags.nsPsy.attackthre=h[T].st_lrm:Math.abs(g.internal_flags.nsPsy.attackthre- -1)>0||(g.internal_flags.nsPsy.attackthre=h[T].st_lrm),w!=0?g.internal_flags.nsPsy.attackthre_s=h[T].st_s:Math.abs(g.internal_flags.nsPsy.attackthre_s- -1)>0||(g.internal_flags.nsPsy.attackthre_s=h[T].st_s),w!=0?g.scale=h[T].scale:Math.abs(g.scale- -1)>0||(g.scale=h[T].scale),w!=0?g.maskingadjust=h[T].masking_adj:Math.abs(g.maskingadjust-0)>0||(g.maskingadjust=h[T].masking_adj),h[T].masking_adj>0?w!=0?g.maskingadjust_short=h[T].masking_adj*.9:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=h[T].masking_adj*.9):w!=0?g.maskingadjust_short=h[T].masking_adj*1.1:Math.abs(g.maskingadjust_short-0)>0||(g.maskingadjust_short=h[T].masking_adj*1.1),w!=0?g.ATHlower=-h[T].ath_lower/10:Math.abs(-g.ATHlower*10-0)>0||(g.ATHlower=-h[T].ath_lower/10),w!=0?g.ATHcurve=h[T].ath_curve:Math.abs(g.ATHcurve- -1)>0||(g.ATHcurve=h[T].ath_curve),w!=0?g.interChRatio=h[T].interch:Math.abs(g.interChRatio- -1)>0||(g.interChRatio=h[T].interch),E}this.apply_preset=function(g,E,w){switch(E){case n.R3MIX:E=n.V3,g.VBR=bl.vbr_mtrh;break;case n.MEDIUM:E=n.V4,g.VBR=bl.vbr_rh;break;case n.MEDIUM_FAST:E=n.V4,g.VBR=bl.vbr_mtrh;break;case n.STANDARD:E=n.V2,g.VBR=bl.vbr_rh;break;case n.STANDARD_FAST:E=n.V2,g.VBR=bl.vbr_mtrh;break;case n.EXTREME:E=n.V0,g.VBR=bl.vbr_rh;break;case n.EXTREME_FAST:E=n.V0,g.VBR=bl.vbr_mtrh;break;case n.INSANE:return E=320,g.preset=E,f(g,E,w),g.VBR=bl.vbr_off,E}switch(g.preset=E,E){case n.V9:return d(g,9,w),E;case n.V8:return d(g,8,w),E;case n.V7:return d(g,7,w),E;case n.V6:return d(g,6,w),E;case n.V5:return d(g,5,w),E;case n.V4:return d(g,4,w),E;case n.V3:return d(g,3,w),E;case n.V2:return d(g,2,w),E;case n.V1:return d(g,1,w),E;case n.V0:return d(g,0,w),E}return 8<=E&&E<=320?f(g,E,w):(g.preset=0,E)};function _(g,E){var w=0;return 0>E&&(w=-1,E=0),9<E&&(w=-1,E=9),g.VBR_q=E,g.VBR_q_frac=0,w}}pB=D2e;var L2e=yn("b8dhq"),U2e=yn("84mea"),fB={},ht=yn("3YDN3"),id=ht.System,AL=ht.VbrMode;ht.Float;ht.ShortBlock;var Rx=ht.Util,v0=ht.Arrays;ht.new_array_n;ht.new_byte;ht.new_double;var Bf=ht.new_float;ht.new_float_n;ht.new_int;ht.new_int_n;var oo=ht.assert,_B={};function P2e(){this.setModules=function(n,t){}}_B=P2e;var Rb={};function F2e(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}Rb=F2e;var mB={},ht=yn("3YDN3"),OL=ht.new_float,H2e=ht.new_int;ht.assert;function B2e(){this.global_gain=0,this.sfb_count1=0,this.step=H2e(39),this.noise=OL(39),this.noise_log=OL(39)}mB=B2e;var _r=yn("cPNKB"),RL=yn("7weBo"),ML=yn("arIi9");function V2e(){var n;this.rv=null;var t;this.qupvt=null;var e,r=new _B,a;this.setModules=function(k,C,A,U){n=k,t=C,this.rv=C,e=A,this.qupvt=A,a=U,r.setModules(e,a)},this.ms_convert=function(k,C){for(var A=0;A<576;++A){var U=k.tt[C][0].xr[A],M=k.tt[C][1].xr[A];k.tt[C][0].xr[A]=(U+M)*(Rx.SQRT2*.5),k.tt[C][1].xr[A]=(U-M)*(Rx.SQRT2*.5)}};function l(k,C,A,U){U=0;for(var M=0;M<=A;++M){var R=Math.abs(k.xr[M]);U+=R,C[M]=Math.sqrt(R*Math.sqrt(R)),C[M]>k.xrpow_max&&(k.xrpow_max=C[M])}return U}this.init_xrpow=function(k,C,A){var U=0,M=0|C.max_nonzero_coeff;if(oo(A!=null),C.xrpow_max=0,oo(0<=M&&M<=575),v0.fill(A,M,576,0),U=l(C,A,M,U),U>1e-20){var R=0;k.substep_shaping&2&&(R=1);for(var I=0;I<C.psymax;I++)k.pseudohalf[I]=R;return!0}return v0.fill(C.l3_enc,0,576,0),!1};function d(k,C){var A=k.ATH,U=C.xr;if(C.block_type!=_r.SHORT_TYPE)for(var M=!1,R=_r.PSFB21-1;R>=0&&!M;R--){var I=k.scalefac_band.psfb21[R],D=k.scalefac_band.psfb21[R+1],q=e.athAdjust(A.adjust,A.psfb21[R],A.floor);k.nsPsy.longfact[21]>1e-12&&(q*=k.nsPsy.longfact[21]);for(var z=D-1;z>=I;z--)if(Math.abs(U[z])<q)U[z]=0;else{M=!0;break}}else for(var ne=0;ne<3;ne++)for(var M=!1,R=_r.PSFB12-1;R>=0&&!M;R--){var I=k.scalefac_band.s[12]*3+(k.scalefac_band.s[13]-k.scalefac_band.s[12])*ne+(k.scalefac_band.psfb12[R]-k.scalefac_band.psfb12[0]),D=I+(k.scalefac_band.psfb12[R+1]-k.scalefac_band.psfb12[R]),fe=e.athAdjust(A.adjust,A.psfb12[R],A.floor);k.nsPsy.shortfact[12]>1e-12&&(fe*=k.nsPsy.shortfact[12]);for(var z=D-1;z>=I;z--)if(Math.abs(U[z])<fe)U[z]=0;else{M=!0;break}}}this.init_outer_loop=function(k,C){C.part2_3_length=0,C.big_values=0,C.count1=0,C.global_gain=210,C.scalefac_compress=0,C.table_select[0]=0,C.table_select[1]=0,C.table_select[2]=0,C.subblock_gain[0]=0,C.subblock_gain[1]=0,C.subblock_gain[2]=0,C.subblock_gain[3]=0,C.region0_count=0,C.region1_count=0,C.preflag=0,C.scalefac_scale=0,C.count1table_select=0,C.part2_length=0,C.sfb_lmax=_r.SBPSY_l,C.sfb_smin=_r.SBPSY_s,C.psy_lmax=k.sfb21_extra?_r.SBMAX_l:_r.SBPSY_l,C.psymax=C.psy_lmax,C.sfbmax=C.sfb_lmax,C.sfbdivide=11;for(var A=0;A<_r.SBMAX_l;A++)C.width[A]=k.scalefac_band.l[A+1]-k.scalefac_band.l[A],C.window[A]=3;if(C.block_type==_r.SHORT_TYPE){var U=Bf(576);C.sfb_smin=0,C.sfb_lmax=0,C.mixed_block_flag!=0&&(C.sfb_smin=3,C.sfb_lmax=k.mode_gr*2+4),C.psymax=C.sfb_lmax+3*((k.sfb21_extra?_r.SBMAX_s:_r.SBPSY_s)-C.sfb_smin),C.sfbmax=C.sfb_lmax+3*(_r.SBPSY_s-C.sfb_smin),C.sfbdivide=C.sfbmax-18,C.psy_lmax=C.sfb_lmax;var M=k.scalefac_band.l[C.sfb_lmax];id.arraycopy(C.xr,0,U,0,576);for(var A=C.sfb_smin;A<_r.SBMAX_s;A++)for(var R=k.scalefac_band.s[A],I=k.scalefac_band.s[A+1],D=0;D<3;D++)for(var q=R;q<I;q++)C.xr[M++]=U[3*q+D];for(var z=C.sfb_lmax,A=C.sfb_smin;A<_r.SBMAX_s;A++)C.width[z]=C.width[z+1]=C.width[z+2]=k.scalefac_band.s[A+1]-k.scalefac_band.s[A],C.window[z]=0,C.window[z+1]=1,C.window[z+2]=2,z+=3}C.count1bits=0,C.sfb_partition_table=e.nr_of_sfb_block[0][0],C.slen[0]=0,C.slen[1]=0,C.slen[2]=0,C.slen[3]=0,C.max_nonzero_coeff=575,v0.fill(C.scalefac,0),d(k,C)};function h(k){this.ordinal=k}h.BINSEARCH_NONE=new h(0),h.BINSEARCH_UP=new h(1),h.BINSEARCH_DOWN=new h(2);function f(k,C,A,U,M){var R,I=k.CurrentStep[U],D=!1,q=k.OldValue[U],z=h.BINSEARCH_NONE;for(C.global_gain=q,A-=C.part2_length,oo(I!=0);;){var ne;if(R=a.count_bits(k,M,C,null),I==1||R==A)break;R>A?(z==h.BINSEARCH_DOWN&&(D=!0),D&&(I/=2),z=h.BINSEARCH_UP,ne=I):(z==h.BINSEARCH_UP&&(D=!0),D&&(I/=2),z=h.BINSEARCH_DOWN,ne=-I),C.global_gain+=ne,C.global_gain<0&&(C.global_gain=0,D=!0),C.global_gain>255&&(C.global_gain=255,D=!0)}for(oo(C.global_gain>=0),oo(C.global_gain<256);R>A&&C.global_gain<255;)C.global_gain++,R=a.count_bits(k,M,C,null);return k.CurrentStep[U]=q-C.global_gain>=4?4:2,k.OldValue[U]=C.global_gain,C.part2_3_length=R,R}this.trancate_smallspectrums=function(k,C,A,U){var M=Bf(ML.SFBMAX);if(!(!(k.substep_shaping&4)&&C.block_type==_r.SHORT_TYPE||k.substep_shaping&128)){e.calc_noise(C,A,M,new Rb,null);for(var I=0;I<576;I++){var R=0;C.l3_enc[I]!=0&&(R=Math.abs(C.xr[I])),U[I]=R}var I=0,D=8;C.block_type==_r.SHORT_TYPE&&(D=6);do{var q,z,ne,fe,B=C.width[D];if(I+=B,!(M[D]>=1)&&(v0.sort(U,I-B,B),!BitStream.EQ(U[I-1],0))){q=(1-M[D])*A[D],z=0,fe=0;do{var Y;for(ne=1;fe+ne<B&&!BitStream.NEQ(U[fe+I-B],U[fe+I+ne-B]);ne++);if(Y=U[fe+I-B]*U[fe+I-B]*ne,q<Y){fe!=0&&(z=U[fe+I-B-1]);break}q-=Y,fe+=ne}while(fe<B);if(!BitStream.EQ(z,0))do Math.abs(C.xr[I-B])<=z&&(C.l3_enc[I-B]=0);while(--B>0)}}while(++D<C.psymax);C.part2_3_length=a.noquant_count_bits(k,C,null)}};function _(k){for(var C=0;C<k.sfbmax;C++)if(k.scalefac[C]+k.subblock_gain[k.window[C]]==0)return!1;return!0}function g(k){return Rx.FAST_LOG10(.368+.632*k*k*k)}function E(k,C){for(var A=1e-37,U=0;U<C.psymax;U++)A+=g(k[U]);return Math.max(1e-20,A)}function w(k,C,A,U,M){var R;switch(k){default:case 9:C.over_count>0?(R=A.over_SSD<=C.over_SSD,A.over_SSD==C.over_SSD&&(R=A.bits<C.bits)):R=A.max_noise<0&&A.max_noise*10+A.bits<=C.max_noise*10+C.bits;break;case 0:R=A.over_count<C.over_count||A.over_count==C.over_count&&A.over_noise<C.over_noise||A.over_count==C.over_count&&BitStream.EQ(A.over_noise,C.over_noise)&&A.tot_noise<C.tot_noise;break;case 8:A.max_noise=E(M,U);case 1:R=A.max_noise<C.max_noise;break;case 2:R=A.tot_noise<C.tot_noise;break;case 3:R=A.tot_noise<C.tot_noise&&A.max_noise<C.max_noise;break;case 4:R=A.max_noise<=0&&C.max_noise>.2||A.max_noise<=0&&C.max_noise<0&&C.max_noise>A.max_noise-.2&&A.tot_noise<C.tot_noise||A.max_noise<=0&&C.max_noise>0&&C.max_noise>A.max_noise-.2&&A.tot_noise<C.tot_noise+C.over_noise||A.max_noise>0&&C.max_noise>-.05&&C.max_noise>A.max_noise-.1&&A.tot_noise+A.over_noise<C.tot_noise+C.over_noise||A.max_noise>0&&C.max_noise>-.1&&C.max_noise>A.max_noise-.15&&A.tot_noise+A.over_noise+A.over_noise<C.tot_noise+C.over_noise+C.over_noise;break;case 5:R=A.over_noise<C.over_noise||BitStream.EQ(A.over_noise,C.over_noise)&&A.tot_noise<C.tot_noise;break;case 6:R=A.over_noise<C.over_noise||BitStream.EQ(A.over_noise,C.over_noise)&&(A.max_noise<C.max_noise||BitStream.EQ(A.max_noise,C.max_noise)&&A.tot_noise<=C.tot_noise);break;case 7:R=A.over_count<C.over_count||A.over_noise<C.over_noise;break}return C.over_count==0&&(R=R&&A.bits<C.bits),R}function x(k,C,A,U,M){var R=k.internal_flags,I;C.scalefac_scale==0?I=1.2968395546510096:I=1.6817928305074292;for(var D=0,q=0;q<C.sfbmax;q++)D<A[q]&&(D=A[q]);var z=R.noise_shaping_amp;switch(z==3&&(M?z=2:z=1),z){case 2:break;case 1:D>1?D=Math.pow(D,.5):D*=.95;break;case 0:default:D>1?D=1:D*=.95;break}for(var ne=0,q=0;q<C.sfbmax;q++){var fe=C.width[q],B;if(ne+=fe,!(A[q]<D)){if(R.substep_shaping&2&&(R.pseudohalf[q]=R.pseudohalf[q]==0?1:0,R.pseudohalf[q]==0&&R.noise_shaping_amp==2))return;for(C.scalefac[q]++,B=-fe;B<0;B++)U[ne+B]*=I,U[ne+B]>C.xrpow_max&&(C.xrpow_max=U[ne+B]);if(R.noise_shaping_amp==2)return}}}function T(k,C){for(var A=1.2968395546510096,U=0,M=0;M<k.sfbmax;M++){var R=k.width[M],I=k.scalefac[M];if(k.preflag!=0&&(I+=e.pretab[M]),U+=R,I&1){I++;for(var D=-R;D<0;D++)C[U+D]*=A,C[U+D]>k.xrpow_max&&(k.xrpow_max=C[U+D])}k.scalefac[M]=I>>1}k.preflag=0,k.scalefac_scale=1}function N(k,C,A){var U,M=C.scalefac;for(U=0;U<C.sfb_lmax;U++)if(M[U]>=16)return!0;for(var R=0;R<3;R++){var I=0,D=0;for(U=C.sfb_lmax+R;U<C.sfbdivide;U+=3)I<M[U]&&(I=M[U]);for(;U<C.sfbmax;U+=3)D<M[U]&&(D=M[U]);if(!(I<16&&D<8)){if(C.subblock_gain[R]>=7)return!0;C.subblock_gain[R]++;var q=k.scalefac_band.l[C.sfb_lmax];for(U=C.sfb_lmax+R;U<C.sfbmax;U+=3){var Y,z=C.width[U],ne=M[U];if(oo(ne>=0),ne=ne-(4>>C.scalefac_scale),ne>=0){M[U]=ne,q+=z*3;continue}M[U]=0;var fe=210+(ne<<C.scalefac_scale+1);Y=e.IPOW20(fe),q+=z*(R+1);for(var B=-z;B<0;B++)A[q+B]*=Y,A[q+B]>C.xrpow_max&&(C.xrpow_max=A[q+B]);q+=z*(3-R-1)}var Y=e.IPOW20(202);q+=C.width[U]*(R+1);for(var B=-C.width[U];B<0;B++)A[q+B]*=Y,A[q+B]>C.xrpow_max&&(C.xrpow_max=A[q+B])}}return!1}function P(k,C,A,U,M){var R=k.internal_flags;x(k,C,A,U,M);var I=_(C);return I?!1:(R.mode_gr==2?I=a.scale_bitcount(C):I=a.scale_bitcount_lsf(R,C),I?(R.noise_shaping>1&&(v0.fill(R.pseudohalf,0),C.scalefac_scale==0?(T(C,U),I=!1):C.block_type==_r.SHORT_TYPE&&R.subblock_gain>0&&(I=N(R,C,U)||_(C))),I||(R.mode_gr==2?I=a.scale_bitcount(C):I=a.scale_bitcount_lsf(R,C)),!I):!0)}this.outer_loop=function(k,C,A,U,M,R){var I=k.internal_flags,D=new RL,q=Bf(576),z=Bf(ML.SFBMAX),ne=new Rb,fe,B=new mB,Y=9999999,ue=!1,Q=!1,_e=0;if(f(I,C,R,M,U),I.noise_shaping==0)return 100;e.calc_noise(C,A,z,ne,B),ne.bits=C.part2_3_length,D.assign(C);var le=0;for(id.arraycopy(U,0,q,0,576);!ue;){do{var se=new Rb,me,Me=255;if(I.substep_shaping&2?me=20:me=3,I.sfb21_extra&&(z[D.sfbmax]>1||D.block_type==_r.SHORT_TYPE&&(z[D.sfbmax+1]>1||z[D.sfbmax+2]>1))||!P(k,D,z,U,Q))break;D.scalefac_scale!=0&&(Me=254);var de=R-D.part2_length;if(de<=0)break;for(;(D.part2_3_length=a.count_bits(I,U,D,B))>de&&D.global_gain<=Me;)D.global_gain++;if(D.global_gain>Me)break;if(ne.over_count==0){for(;(D.part2_3_length=a.count_bits(I,U,D,B))>Y&&D.global_gain<=Me;)D.global_gain++;if(D.global_gain>Me)break}if(e.calc_noise(D,A,z,se,B),se.bits=D.part2_3_length,C.block_type!=_r.SHORT_TYPE?fe=k.quant_comp:fe=k.quant_comp_short,fe=w(fe,ne,se,D,z)?1:0,fe!=0)Y=C.part2_3_length,ne=se,C.assign(D),le=0,id.arraycopy(U,0,q,0,576);else if(I.full_outer_loop==0&&(++le>me&&ne.over_count==0||I.noise_shaping_amp==3&&Q&&le>30||I.noise_shaping_amp==3&&Q&&D.global_gain-_e>15))break}while(D.global_gain+D.scalefac_scale<255);I.noise_shaping_amp==3?Q?ue=!0:(D.assign(C),id.arraycopy(q,0,U,0,576),le=0,_e=D.global_gain,Q=!0):ue=!0}return oo(C.global_gain+C.scalefac_scale<=255),k.VBR==AL.vbr_rh||k.VBR==AL.vbr_mtrh?id.arraycopy(q,0,U,0,576):I.substep_shaping&1&&trancate_smallspectrums(I,C,A,U),ne.over_count},this.iteration_finish_one=function(k,C,A){var U=k.l3_side,M=U.tt[C][A];a.best_scalefac_store(k,C,A,U),k.use_best_huffman==1&&a.best_huffman_divide(k,M),t.ResvAdjust(k,M)},this.VBR_encode_granule=function(k,C,A,U,M,R,I){var D=k.internal_flags,q=new RL,z=Bf(576),ne=I,fe=I+1,B=(I+R)/2,Y,ue,Q=0,_e=D.sfb21_extra;oo(ne<=LameInternalFlags.MAX_BITS_PER_CHANNEL),v0.fill(q.l3_enc,0);do oo(B>=R),oo(B<=I),oo(R<=I),B>ne-42?D.sfb21_extra=!1:D.sfb21_extra=_e,ue=outer_loop(k,C,A,U,M,B),ue<=0?(Q=1,fe=C.part2_3_length,q.assign(C),id.arraycopy(U,0,z,0,576),I=fe-32,Y=I-R,B=(I+R)/2):(R=B+32,Y=I-R,B=(I+R)/2,Q!=0&&(Q=2,C.assign(q),id.arraycopy(z,0,U,0,576)));while(Y>12);D.sfb21_extra=_e,Q==2&&id.arraycopy(q.l3_enc,0,C.l3_enc,0,576),oo(C.part2_3_length<=ne)},this.get_framebits=function(k,C){var A=k.internal_flags;A.bitrate_index=A.VBR_min_bitrate;var U=n.getframebits(k);A.bitrate_index=1,U=n.getframebits(k);for(var M=1;M<=A.VBR_max_bitrate;M++){A.bitrate_index=M;var R=new MeanBits(U);C[M]=t.ResvFrameBegin(k,R),U=R.bits}},this.VBR_old_prepare=function(k,C,A,U,M,R,I,D,q){var z=k.internal_flags,ne,fe=0,B=1,Y=0;z.bitrate_index=z.VBR_max_bitrate;var ue=t.ResvFrameBegin(k,new MeanBits(0))/z.mode_gr;get_framebits(k,R);for(var Q=0;Q<z.mode_gr;Q++){var _e=e.on_pe(k,C,D[Q],ue,Q,0);z.mode_ext==_r.MPG_MD_MS_LR&&(ms_convert(z.l3_side,Q),e.reduce_side(D[Q],A[Q],ue,_e));for(var le=0;le<z.channels_out;++le){var se=z.l3_side.tt[Q][le];se.block_type!=_r.SHORT_TYPE?(fe=1.28/(1+Math.exp(3.5-C[Q][le]/300))-.05,ne=z.PSY.mask_adjust-fe):(fe=2.56/(1+Math.exp(3.5-C[Q][le]/300))-.14,ne=z.PSY.mask_adjust_short-fe),z.masking_lower=Math.pow(10,ne*.1),init_outer_loop(z,se),q[Q][le]=e.calc_xmin(k,U[Q][le],se,M[Q][le]),q[Q][le]!=0&&(B=0),I[Q][le]=126,Y+=D[Q][le]}}for(var Q=0;Q<z.mode_gr;Q++)for(var le=0;le<z.channels_out;le++)Y>R[z.VBR_max_bitrate]&&(D[Q][le]*=R[z.VBR_max_bitrate],D[Q][le]/=Y),I[Q][le]>D[Q][le]&&(I[Q][le]=D[Q][le]);return B},this.bitpressure_strategy=function(k,C,A,U){for(var M=0;M<k.mode_gr;M++)for(var R=0;R<k.channels_out;R++){for(var I=k.l3_side.tt[M][R],D=C[M][R],q=0,z=0;z<I.psy_lmax;z++)D[q++]*=1+.029*z*z/_r.SBMAX_l/_r.SBMAX_l;if(I.block_type==_r.SHORT_TYPE)for(var z=I.sfb_smin;z<_r.SBMAX_s;z++)D[q++]*=1+.029*z*z/_r.SBMAX_s/_r.SBMAX_s,D[q++]*=1+.029*z*z/_r.SBMAX_s/_r.SBMAX_s,D[q++]*=1+.029*z*z/_r.SBMAX_s/_r.SBMAX_s;U[M][R]=0|Math.max(A[M][R],.9*U[M][R])}},this.VBR_new_prepare=function(k,C,A,U,M,R){var I=k.internal_flags,D=1,q=0,z=0,ne;if(k.free_format){I.bitrate_index=0;var fe=new MeanBits(q);ne=t.ResvFrameBegin(k,fe),q=fe.bits,M[0]=ne}else{I.bitrate_index=I.VBR_max_bitrate;var fe=new MeanBits(q);t.ResvFrameBegin(k,fe),q=fe.bits,get_framebits(k,M),ne=M[I.VBR_max_bitrate]}for(var B=0;B<I.mode_gr;B++){e.on_pe(k,C,R[B],q,B,0),I.mode_ext==_r.MPG_MD_MS_LR&&ms_convert(I.l3_side,B);for(var Y=0;Y<I.channels_out;++Y){var ue=I.l3_side.tt[B][Y];I.masking_lower=Math.pow(10,I.PSY.mask_adjust*.1),init_outer_loop(I,ue),e.calc_xmin(k,A[B][Y],ue,U[B][Y])!=0&&(D=0),z+=R[B][Y]}}for(var B=0;B<I.mode_gr;B++)for(var Y=0;Y<I.channels_out;Y++)z>ne&&(R[B][Y]*=ne,R[B][Y]/=z);return D},this.calc_target_bits=function(k,C,A,U,M,R){var I=k.internal_flags,D=I.l3_side,q,z,ne,fe,B=0;I.bitrate_index=I.VBR_max_bitrate;var Y=new MeanBits(B);for(R[0]=t.ResvFrameBegin(k,Y),B=Y.bits,I.bitrate_index=1,B=n.getframebits(k)-I.sideinfo_len*8,M[0]=B/(I.mode_gr*I.channels_out),B=k.VBR_mean_bitrate_kbps*k.framesize*1e3,I.substep_shaping&1&&(B*=1.09),B/=k.out_samplerate,B-=I.sideinfo_len*8,B/=I.mode_gr*I.channels_out,q=.93+.07*(11-k.compression_ratio)/5.5,q<.9&&(q=.9),q>1&&(q=1),z=0;z<I.mode_gr;z++){var ue=0;for(ne=0;ne<I.channels_out;ne++){if(U[z][ne]=int(q*B),C[z][ne]>700){var Q=int((C[z][ne]-700)/1.4),_e=D.tt[z][ne];U[z][ne]=int(q*B),_e.block_type==_r.SHORT_TYPE&&Q<B/2&&(Q=B/2),Q>B*3/2?Q=B*3/2:Q<0&&(Q=0),U[z][ne]+=Q}U[z][ne]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(U[z][ne]=LameInternalFlags.MAX_BITS_PER_CHANNEL),ue+=U[z][ne]}if(ue>LameInternalFlags.MAX_BITS_PER_GRANULE)for(ne=0;ne<I.channels_out;++ne)U[z][ne]*=LameInternalFlags.MAX_BITS_PER_GRANULE,U[z][ne]/=ue}if(I.mode_ext==_r.MPG_MD_MS_LR)for(z=0;z<I.mode_gr;z++)e.reduce_side(U[z],A[z],B*I.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(fe=0,z=0;z<I.mode_gr;z++)for(ne=0;ne<I.channels_out;ne++)U[z][ne]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(U[z][ne]=LameInternalFlags.MAX_BITS_PER_CHANNEL),fe+=U[z][ne];if(fe>R[0])for(z=0;z<I.mode_gr;z++)for(ne=0;ne<I.channels_out;ne++)U[z][ne]*=R[0],U[z][ne]/=fe}}fB=V2e;var z2e=yn("65Sx2"),vB={},ht=yn("3YDN3"),eb=ht.assert;function G2e(){var n;this.setModules=function(t){n=t},this.ResvFrameBegin=function(t,e){var r=t.internal_flags,a,l=r.l3_side,d=n.getframebits(t);e.bits=(d-r.sideinfo_len*8)/r.mode_gr;var h=2048*r.mode_gr-8;t.brate>320?a=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(a=11520,t.strict_ISO&&(a=8*int(32e4/(t.out_samplerate/1152)/8+.5))),r.ResvMax=a-d,r.ResvMax>h&&(r.ResvMax=h),(r.ResvMax<0||t.disable_reservoir)&&(r.ResvMax=0);var f=e.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return f>a&&(f=a),eb(r.ResvMax%8==0),eb(r.ResvMax>=0),l.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=e.bits/2,r.pinfo.resvsize=r.ResvSize),f},this.ResvMaxBits=function(t,e,r,a){var l=t.internal_flags,d,h=l.ResvSize,f=l.ResvMax;a!=0&&(h+=e),l.substep_shaping&1&&(f*=.9),r.bits=e,h*10>f*9?(d=h-f*9/10,r.bits+=d,l.substep_shaping|=128):(d=0,l.substep_shaping&=127,!t.disable_reservoir&&!(l.substep_shaping&1)&&(r.bits-=.1*e));var _=h<l.ResvMax*6/10?h:l.ResvMax*6/10;return _-=d,_<0&&(_=0),_},this.ResvAdjust=function(t,e){t.ResvSize-=e.part2_3_length+e.part2_length},this.ResvFrameEnd=function(t,e){var r,a=t.l3_side;t.ResvSize+=e*t.mode_gr;var l=0;a.resvDrain_post=0,a.resvDrain_pre=0,(r=t.ResvSize%8)!=0&&(l+=r),r=t.ResvSize-l-t.ResvMax,r>0&&(eb(r%8==0),eb(r>=0),l+=r);var d=Math.min(a.main_data_begin*8,l)/8;a.resvDrain_pre+=8*d,l-=8*d,t.ResvSize-=8*d,a.main_data_begin-=d,a.resvDrain_post+=l,t.ResvSize-=l}}vB=G2e;var q2e=yn("jL6I1"),j2e=yn("ctaQC");yn("cPNKB");var gB={};function $2e(){var n="http://www.mp3dev.org/",t=3,e=98,r=4,a=0,l=93;this.getLameVersion=function(){return t+"."+e+"."+r},this.getLameShortVersion=function(){return t+"."+e+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+e+"r"},this.getPsyVersion=function(){return a+"."+l},this.getLameUrl=function(){return n},this.getLameOsBitness=function(){return"32bits"}}gB=$2e;var bB={},ht=yn("3YDN3"),W2e=ht.System,Mx=ht.VbrMode;ht.Float;var DL=ht.ShortBlock;ht.Util;var K2e=ht.Arrays;ht.new_array_n;var nb=ht.new_byte;ht.new_double;ht.new_float;ht.new_float_n;ht.new_int;ht.new_int_n;var Q2e=ht.assert;am.NUMTOCENTRIES=100;am.MAXFRAMESIZE=2880;function am(){var n,t,e;this.setModules=function(B,Y,ue){n=B,t=Y,e=ue};var r=1,a=2,l=4,d=8,h=am.NUMTOCENTRIES,f=am.MAXFRAMESIZE,_=h+4+4+4+4+4,g=_+9+1+1+8+1+1+3+1+1+2+4+2+2,E=128,w=64,x=32,T=null,N="Xing",P="Info",k=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function C(B,Y){if(B.nVbrNumFrames++,B.sum+=Y,B.seen++,!(B.seen<B.want)&&(B.pos<B.size&&(B.bag[B.pos]=B.sum,B.pos++,B.seen=0),B.pos==B.size)){for(var ue=1;ue<B.size;ue+=2)B.bag[ue/2]=B.bag[ue];B.want*=2,B.pos/=2}}function A(B,Y){if(!(B.pos<=0))for(var ue=1;ue<h;++ue){var Q=ue/h,_e,le,se=0|Math.floor(Q*B.pos);se>B.pos-1&&(se=B.pos-1),_e=B.bag[se],le=B.sum;var me=0|256*_e/le;me>255&&(me=255),Y[ue]=255&me}}this.addVbrFrame=function(B){var Y=B.internal_flags,ue=Tables.bitrate_table[B.version][Y.bitrate_index];Q2e(Y.VBR_seek_table.bag!=null),C(Y.VBR_seek_table,ue)};function U(B,Y){var ue=B[Y+0]&255;return ue<<=8,ue|=B[Y+1]&255,ue<<=8,ue|=B[Y+2]&255,ue<<=8,ue|=B[Y+3]&255,ue}function M(B,Y,ue){B[Y+0]=255&(ue>>24&255),B[Y+1]=255&(ue>>16&255),B[Y+2]=255&(ue>>8&255),B[Y+3]=255&(ue&255)}function R(B,Y,ue){B[Y+0]=255&(ue>>8&255),B[Y+1]=255&(ue&255)}function I(B,Y){return new String(B,Y,N.length(),T).equals(N)||new String(B,Y,P.length(),T).equals(P)}function D(B,Y,ue){return 255&(B<<Y|ue&~(-1<<Y))}function q(B,Y){var ue=B.internal_flags;Y[0]=D(Y[0],8,255),Y[1]=D(Y[1],3,7),Y[1]=D(Y[1],1,B.out_samplerate<16e3?0:1),Y[1]=D(Y[1],1,B.version),Y[1]=D(Y[1],2,1),Y[1]=D(Y[1],1,B.error_protection?0:1),Y[2]=D(Y[2],4,ue.bitrate_index),Y[2]=D(Y[2],2,ue.samplerate_index),Y[2]=D(Y[2],1,0),Y[2]=D(Y[2],1,B.extension),Y[3]=D(Y[3],2,B.mode.ordinal()),Y[3]=D(Y[3],2,ue.mode_ext),Y[3]=D(Y[3],1,B.copyright),Y[3]=D(Y[3],1,B.original),Y[3]=D(Y[3],2,B.emphasis),Y[0]=255;var Q=255&(Y[1]&241),_e;B.version==1?_e=E:B.out_samplerate<16e3?_e=x:_e=w,B.VBR==Mx.vbr_off&&(_e=B.brate);var le;B.free_format?le=0:le=255&16*n.BitrateIndex(_e,B.version,B.out_samplerate),B.version==1?(Y[1]=255&(Q|10),Q=255&(Y[2]&13),Y[2]=255&(le|Q)):(Y[1]=255&(Q|2),Q=255&(Y[2]&13),Y[2]=255&(le|Q))}this.getVbrTag=function(B){var Y=new VBRTagData,ue=0;Y.flags=0;var Q=B[ue+1]>>3&1,_e=B[ue+2]>>2&3,le=B[ue+3]>>6&3,se=B[ue+2]>>4&15;if(se=Tables.bitrate_table[Q][se],B[ue+1]>>4==14?Y.samprate=Tables.samplerate_table[2][_e]:Y.samprate=Tables.samplerate_table[Q][_e],Q!=0?le!=3?ue+=36:ue+=21:le!=3?ue+=21:ue+=13,!I(B,ue))return null;ue+=4,Y.hId=Q;var me=Y.flags=U(B,ue);if(ue+=4,me&r&&(Y.frames=U(B,ue),ue+=4),me&a&&(Y.bytes=U(B,ue),ue+=4),me&l){if(Y.toc!=null)for(var Me=0;Me<h;Me++)Y.toc[Me]=B[ue+Me];ue+=h}Y.vbrScale=-1,me&d&&(Y.vbrScale=U(B,ue),ue+=4),Y.headersize=(Q+1)*72e3*se/Y.samprate,ue+=21;var de=B[ue+0]<<4;de+=B[ue+1]>>4;var he=(B[ue+1]&15)<<8;return he+=B[ue+2]&255,(de<0||de>3e3)&&(de=-1),(he<0||he>3e3)&&(he=-1),Y.encDelay=de,Y.encPadding=he,Y},this.InitVbrTag=function(B){var Y=B.internal_flags,ue;B.version==1?ue=E:B.out_samplerate<16e3?ue=x:ue=w,B.VBR==Mx.vbr_off&&(ue=B.brate);var Q=(B.version+1)*72e3*ue/B.out_samplerate,_e=Y.sideinfo_len+g;if(Y.VBR_seek_table.TotalFrameSize=Q,Q<_e||Q>f){B.bWriteVbrTag=!1;return}Y.VBR_seek_table.nVbrNumFrames=0,Y.VBR_seek_table.nBytesWritten=0,Y.VBR_seek_table.sum=0,Y.VBR_seek_table.seen=0,Y.VBR_seek_table.want=1,Y.VBR_seek_table.pos=0,Y.VBR_seek_table.bag==null&&(Y.VBR_seek_table.bag=new int[400],Y.VBR_seek_table.size=400);var le=nb(f);q(B,le);for(var se=Y.VBR_seek_table.TotalFrameSize,me=0;me<se;++me)t.add_dummy_byte(B,le[me]&255,1)};function z(B,Y){var ue=Y^B;return Y=Y>>8^k[ue&255],Y}this.updateMusicCRC=function(B,Y,ue,Q){for(var _e=0;_e<Q;++_e)B[0]=z(Y[ue+_e],B[0])};function ne(B,Y,ue,Q,_e){var le=B.internal_flags,se=0,me=B.encoder_delay,Me=B.encoder_padding,de=100-10*B.VBR_q-B.quality,he=e.getLameVeryShortVersion(),K,ee=0,j,ae=[1,5,3,2,4,0,3],Re=0|(B.lowpassfreq/100+.5>255?255:B.lowpassfreq/100+.5),ze=0,De=0,Te=0,Qe=B.internal_flags.noise_shaping,an=0,un=0,Nn=0,Ye=0,mn=0,sn=(B.exp_nspsytune&1)!=0,Ln=(B.exp_nspsytune&2)!=0,Tn=!1,G=!1,ie=B.internal_flags.nogap_total,bn=B.internal_flags.nogap_current,Sn=B.ATHtype,An=0,Fn;switch(B.VBR){case vbr_abr:Fn=B.VBR_mean_bitrate_kbps;break;case vbr_off:Fn=B.brate;break;default:Fn=B.VBR_min_bitrate_kbps}switch(B.VBR.ordinal()<ae.length?K=ae[B.VBR.ordinal()]:K=0,j=16*ee+K,le.findReplayGain&&(le.RadioGain>510&&(le.RadioGain=510),le.RadioGain<-510&&(le.RadioGain=-510),De=8192,De|=3072,le.RadioGain>=0?De|=le.RadioGain:(De|=512,De|=-le.RadioGain)),le.findPeakSample&&(ze=Math.abs(0|le.PeakSample/32767*Math.pow(2,23)+.5)),ie!=-1&&(bn>0&&(G=!0),bn<ie-1&&(Tn=!0)),An=Sn+((sn?1:0)<<4)+((Ln?1:0)<<5)+((Tn?1:0)<<6)+((G?1:0)<<7),de<0&&(de=0),B.mode){case MONO:an=0;break;case STEREO:an=1;break;case DUAL_CHANNEL:an=2;break;case JOINT_STEREO:B.force_ms?an=4:an=3;break;case NOT_SET:default:an=7;break}B.in_samplerate<=32e3?Nn=0:B.in_samplerate==48e3?Nn=2:B.in_samplerate>48e3?Nn=3:Nn=1,(B.short_blocks==DL.short_block_forced||B.short_blocks==DL.short_block_dispensed||B.lowpassfreq==-1&&B.highpassfreq==-1||B.scale_left<B.scale_right||B.scale_left>B.scale_right||B.disable_reservoir&&B.brate<320||B.noATH||B.ATHonly||Sn==0||B.in_samplerate<=32e3)&&(un=1),Ye=Qe+(an<<2)+(un<<5)+(Nn<<6),mn=le.nMusicCRC,M(ue,Q+se,de),se+=4;for(var Hn=0;Hn<9;Hn++)ue[Q+se+Hn]=255&he.charAt(Hn);se+=9,ue[Q+se]=255&j,se++,ue[Q+se]=255&Re,se++,M(ue,Q+se,ze),se+=4,R(ue,Q+se,De),se+=2,R(ue,Q+se,Te),se+=2,ue[Q+se]=255&An,se++,Fn>=255?ue[Q+se]=255:ue[Q+se]=255&Fn,se++,ue[Q+se]=255&me>>4,ue[Q+se+1]=255&(me<<4)+(Me>>8),ue[Q+se+2]=255&Me,se+=3,ue[Q+se]=255&Ye,se++,ue[Q+se++]=0,R(ue,Q+se,B.preset),se+=2,M(ue,Q+se,Y),se+=4,R(ue,Q+se,mn),se+=2;for(var Bn=0;Bn<se;Bn++)_e=z(ue[Q+Bn],_e);return R(ue,Q+se,_e),se+=2,se}function fe(B){B.seek(0);var Y=nb(10);B.readFully(Y);var ue;return new String(Y,"ISO-8859-1").startsWith("ID3")?ue=0:ue=((Y[6]&127)<<21|(Y[7]&127)<<14|(Y[8]&127)<<7|Y[9]&127)+Y.length,ue}this.getLameTagFrame=function(B,Y){var ue=B.internal_flags;if(!B.bWriteVbrTag||ue.Class_ID!=Lame.LAME_ID||ue.VBR_seek_table.pos<=0)return 0;if(Y.length<ue.VBR_seek_table.TotalFrameSize)return ue.VBR_seek_table.TotalFrameSize;K2e.fill(Y,0,ue.VBR_seek_table.TotalFrameSize,0),q(B,Y);var Q=nb(h);if(B.free_format)for(var _e=1;_e<h;++_e)Q[_e]=255&255*_e/100;else A(ue.VBR_seek_table,Q);var le=ue.sideinfo_len;B.error_protection&&(le-=2),B.VBR==Mx.vbr_off?(Y[le++]=255&P.charAt(0),Y[le++]=255&P.charAt(1),Y[le++]=255&P.charAt(2),Y[le++]=255&P.charAt(3)):(Y[le++]=255&N.charAt(0),Y[le++]=255&N.charAt(1),Y[le++]=255&N.charAt(2),Y[le++]=255&N.charAt(3)),M(Y,le,r+a+l+d),le+=4,M(Y,le,ue.VBR_seek_table.nVbrNumFrames),le+=4;var se=ue.VBR_seek_table.nBytesWritten+ue.VBR_seek_table.TotalFrameSize;M(Y,le,0|se),le+=4,W2e.arraycopy(Q,0,Y,le,Q.length),le+=Q.length,B.error_protection&&t.CRC_writeheader(ue,Y);for(var me=0,_e=0;_e<le;_e++)me=z(Y[_e],me);return le+=ne(B,se,Y,le,me),ue.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(B,Y){var ue=B.internal_flags;if(ue.VBR_seek_table.pos<=0||(Y.seek(Y.length()),Y.length()==0))return-1;var Q=fe(Y);Y.seek(Q);var _e=nb(f),le=getLameTagFrame(B,_e);return le>_e.length?-1:(le<1||Y.write(_e,0,le),0)}}bB=am;function Y2e(){this.setModules=function(n,t){}}function X2e(){this.setModules=function(n,t,e){}}function Z2e(){}function J2e(){this.setModules=function(n,t){}}function eEe(n,t,e){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),n=1,t=44100,e=128);var r=new M2e,a=new Y2e,l=new L2e,d=new j2e,h=new pB,f=new U2e,_=new fB,g=new bB,E=new gB,w=new J2e,x=new vB,T=new z2e,N=new X2e,P=new Z2e;r.setModules(l,d,h,f,_,g,E,w,P),d.setModules(l,P,E,g),w.setModules(d,E),h.setModules(r),_.setModules(d,x,f,T),f.setModules(T,x,r.enc.psy),x.setModules(d),T.setModules(f),g.setModules(r,d,E),a.setModules(N,P),N.setModules(E,w,h);var k=r.lame_init();k.num_channels=n,k.in_samplerate=t,k.brate=e,k.mode=q2e.STEREO,k.quality=3,k.bWriteVbrTag=!1,k.disable_reservoir=!0,k.write_id3tag_automatic=!1;var C=r.lame_init_params(k);NL(C==0);var A=1152,U=0|1.25*A+7200,M=IL(U);this.encodeBuffer=function(R,I){n==1&&(I=R),NL(R.length==I.length),R.length>A&&(A=R.length,U=0|1.25*A+7200,M=IL(U));var D=r.lame_encode_buffer(k,R,I,R.length,M,0,U);return new Int8Array(M.subarray(0,D))},this.flush=function(){var R=r.lame_encode_flush(k,M,0,U);return new Int8Array(M.subarray(0,R))}}function Wo(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function gy(n){return n.charCodeAt(0)<<24|n.charCodeAt(1)<<16|n.charCodeAt(2)<<8|n.charCodeAt(3)}Wo.RIFF=gy("RIFF");Wo.WAVE=gy("WAVE");Wo.fmt_=gy("fmt ");Wo.data=gy("data");Wo.readHeader=function(n){var t=new Wo,e=n.getUint32(0,!1);if(Wo.RIFF==e&&(n.getUint32(4,!0),Wo.WAVE==n.getUint32(8,!1)&&Wo.fmt_==n.getUint32(12,!1))){var r=n.getUint32(16,!0),a=20;switch(r){case 16:case 18:t.channels=n.getUint16(a+2,!0),t.sampleRate=n.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=r;for(var l=Wo.data,d=0;l!=e&&(e=n.getUint32(a,!1),d=n.getUint32(a+4,!0),l!=e);)a+=d+8;return t.dataLen=d,t.dataOffset=a+8,t}};k1=eEe;I1=Wo;function nEe(n){const t=I1.readHeader(new DataView(n)),e=new Int16Array(n,t.dataOffset,t.dataLen/2),r=new k1(t.channels,t.sampleRate,128),a=1152,l=t.channels===1?e:new Int16Array(t.dataLen/(2*t.channels)),d=t.channels===2?new Int16Array(t.dataLen/(2*t.channels)):void 0;if(t.channels>1)for(let g=0;g<l.length;g++)l[g]=e[g*2],d[g]=e[g*2+1];const h=[];let f=l.length;for(let g=0;f>=a;g+=a){const E=l.subarray(g,g+a);let w;d&&(w=d.subarray(g,g+a));const x=r.encodeBuffer(E,w);h.push(new Int8Array(x)),f-=a}const _=r.flush();return h.push(new Int8Array(_)),h}function tEe(n,t){const e=new AudioContext({sampleRate:ffe}),r=new FileReader;r.onload=function(a){e.decodeAudioData(a.target.result,l=>{const d=!window.OfflineAudioContext,h=new OfflineAudioContext(1,16e3*l.duration,16e3),f=h.createBufferSource();f.buffer=l,f.connect(h.destination);const _=new FileReader;_.onload=function(){const g=E=>{const w=d?E.renderedBuffer:E,x=rEe(w,w.length);t&&t(x)};d?(h.oncomplete=g,h.startRendering()):h.startRendering().then(g).catch(E=>console.warn(E))},_.readAsArrayBuffer(n),f.start(0)})},r.readAsArrayBuffer(n)}function rEe(n,t){const e=n.numberOfChannels,r=t*e*2+44,a=new ArrayBuffer(r),l=new DataView(a),d=[];let h=0,f,_=0,g=0;for(w(1179011410),w(r-8),w(1163280727),w(544501094),w(16),E(1),E(e),w(n.sampleRate),w(n.sampleRate*2*e),E(e*2),E(16),w(1635017060),w(r-g-4),h=0;h<n.numberOfChannels;h++)d.push(n.getChannelData(h));for(;g<r;){for(h=0;h<e;h++)f=Math.max(-1,Math.min(1,d[h][_])),f=(.5+f<0?f*32768:f*32767)|0,l.setInt16(g,f,!0),g+=2;_++}return a;function E(x){l.setUint16(g,x,!0),g+=2}function w(x){l.setUint32(g,x,!0),g+=4}}var iEe=Object.freeze({__proto__:null,downsampleToWav:tEe,encodeMp3:nEe});const aEe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYwAAACoBAMAAAABXcTtAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAqUExURUdwTGMQzWIQzWMQzWgV0GUSzmMQzWMRzWIQzWQRznAb1mMQzWIQzWIQzJMNPOAAAAANdFJOUwCB59IZMcFos0oKmvVsKSceAAALSklEQVR42u2c/48bxRXA1z7v2V6nkgOUqJCTjpYkJcLStSU/FGTJDSL9Ek5yEUhIrSWagJpWsmRUENBg6VqljURlyZBWKWksuQRIA0EyiEpQelKBpAUqS9w33xl7/5debte7783Mm5ldH5a32nc/nb1ez2dm3td5a8OIJZZYYoklllhiiSWWWGKJZXx57eXzT+595uWHo8xw5fRvbVcOvv3HqC7ErV0byn1RBLGexRA35FulqFFk/2kLpPfraFF8r2ALZfi7KFEc79qU/OL/giJCHG/aUnkiGhTpghzD/kcUKMyqgsJerUUAY85WSm/6/ccxW0Pumnq3V9DBsPPB9umthY/PlqZsSwXeVo62fdieHMXfbE05EHxqDkyMwuKs1Me/2ffc+WduP8FFJWXyJokPRuJsvdzoI81JYdzPhrRebP4aG/B+St4kadvdnT97Ae/T6xOiSGH9/u8FtMNvxhw1CYYrOxim9+/ahDCOonGeZXXyJ4hyUxNjVoN8dxejCDf/u/wFlyEHudUZjIr/kfmJYFxSUGyHWxD0uh4GMOEbEzFTDTDGd8XXXAaKvlrWwgDkK5PAyAGK71IX/QBcdKcWBtiIg0lg1MG00R73JeDKdTAsW/mB3Q3Q/f2yCrX31Qce+RG0Aw1VZMWsBsDYmqyCn/HZTp9wfLnvQhL+df0p3FTL/LdZz3pjGP7MCwYv+qtW0sCoariaXUxd+b2Ca1Vejcr053dp6gzuK9ycZYtM7nob5+z7wdzfwiT3VFNMsb2xbmNDr9W2GgPY8S8/xDXZxYAWyYvt3HE8JLVVDEaqO0F7O8OO7HlRsrTVZmzzhhrDaCnc5Zfi+wbSNPCIgUfW08BIK4KX3RRvu9/rzHeRKEXXGN/RVGOMHP/jEzS3bnL6EJWDu9Gd5wwe08Cw9t/455AxQdVwTGiWrkV3sM3d0MAwrL/8/tRXJxoWdhhHzYmjO1lJmJScpJ/AMlKFYYmJEqlKm2eOy1OEkcVO46isQuVc8iBevunAyKEvtqQ1dccIeLbqsynCuIrsZwIN+6NT730bvbBjkq0CGbXuLob54nsnv3Pq7T8F0fAedm7b8u+nbrxy5R1OyeukjrMY+0bytW3DvvfJkTBKBd4BvijlpQqfPKXGqEJza4FE59Ao9vuzzUR4XkRcUmHA5A/EiYzHqYgiyO/D7f1zVS07hb4X7Kn/+J88x8TbCbKGJsMwyeTDT0tWvdeYo9Q7Spo+vIaMkD2A/M9jT251KT8uwwC54AoRDflvHGeti+JsITMyQm2ceaCJNpksY5kyVVKMlmDSkcm37WuCmpjWKVcSKq+fHzBF82MYr0VlgFKMJJFEAaVxM2NhdCo9BK7AEeWoIwzfnRyGo10JhJFgozPW5HtxgTDhWStr2Nt5dMM+WXDfhLi9QBj+WuPdWGePD3LBT7kacH7qZILqhVpbaDe3g2D4wRh2nOzLVoOIIZrqnKkGfUhvFGSfPDg6Ra1DX+GZqmYgjIqwFJqymUV6nYqF+nQpHY4uhe26k/JslXFWgnhrgTD8pB86zjSrMg15SCeriqyhG3ZgArqCreISdFj5QBhpYQl4htHwHB2aXlN5vwG6QQl96QsoaPkXtLhLgTCsrihyZLdancZYo3xgAprOpDAAdCPAFtxwi0QcK8cA3nVDFIpsKvO2jsKJ9+Hg+szt8tAY73zXHvefz4NhVEQFdj8UOcwe32kr+SycnQo0GLPMlszAAYz283owDP+ew7YgFMkz5Wv7vqcffuBFGOmuKcoiX8BttMRkHkg/e5BpIxhGVnDAnMPmC2yC4d8dg7xf3XeThE4c2R9o9trAGq/C7w6IYQnOFa7iazL8iREsKR8WY+yBGMvAqVldtithNEfQMvSDYYAds86HIn2sPpsiz0Kc9nwFfmsDYGQ5A1EASxMWY5HPLBq4A6AhioLrRIjvyVswAWoAL5SGGEuwnlUC724GxMhwyprC+94UzntCdU6yCDGqYL4RBlqrcTCyXEzuj3Cn3JcQu4ii/KxOjFFiMch3g2KA8XTYUGSAbjBEyXfLpmtj0k3F68ZoBMY4GHW2F6aCHXtLnK7PKBwgUnFoqVJc7bawC5YKmNc+e+6Iz24/E8ZMVO/JHpHfqOHld5bHgrYiNEaOfaWArXpRHD1lFX48CePWOrzFHBMCZOE/ubAYJtZoML6d8MTvMrnwBpRX/cukwcg63JjzuGTlaEACDmg2nBdHxaoaXp2BwWqkWEqyCBeF3+uM63wMjhyF9F8ExqjjK65iDU+rMZqyY4FNvm5TxbnjIvy6t4jWOzVGEo+7jucqp8aoybK/Fbg0jse/hEtvy3ABKuHSJt7mVPEsZ0JiZGH4jUvMXjjaRAnoAhfSB8JIofAoxQRLMyFb5E1oAEw8Bui2fcQOXJp8YAwc+7H+IBm2078LQ5yCUDl2MH6KYqFiqDoVE1cswdlfHw+jKkogHaVGGFXoNlKU9dPAmIHhUYUJ+faExZiDhmIR3VQYKa6gVhAjOEYauiO2BSoZUsWtFlzUWWVI61yXoQ7/NDBQc1KBiTHCYngLsIlmisZYgh9aCYEBVqCUZZOkmZDuz/vgGkoHaIwytLcbYTB8fchn2DRiVo1RlpYNnbdbKowBop0Pg+EPdf4qm0R5XnxwOyUleYdeB34FibGOArhOGAxfx/t1do7T6jMAxQHHNQhFYnRQyNAMg+EXqwZV9rwjG7ozfxl9cFmO4ZS0K2Tzpw6Gn8kMuTJISlXlVJ5hOmnMJTnGdRRPDIxQGIu83h7mSiDlsM1tHVBHpzDyaOU3wmFkJK55WXUEoGxT2ABpDYHRwxH8QjiMrCSlaykPlqimkS7ajgkZxj14b9fCYcAHCdh3k0QH4Imvu3JIpePuqJZpjLUS4ha0d+th1OnTlxzR7WEPHaEtcQV3LudojDvx1l4xQmI8yGLM824MPwWW4SvxZJdezz9cF2K4rc11SR1SDyMnCb6rwtPjurprzmQiggSF8TjuVxBF/noYJnveXRJVaz8VGoW8st9i5IQuijHcDquj4mJxEAyDadAZCKu1oGVnThUZoq3qrqNZFGG4LepWUXbwo4nB6PiGeKWGt/DddZInvfy83n084a9dAcYZdl8vhMd4BWMsCA3nNsfZG/P6w3e02kZArLbm7pNHeYy7uPVthsdISBI63M/8jZN329xJCyG+Wt3jvsKVFMw2UREPhYF1fNg25D5emfuxVhk9LlIVlD8a7AYMhYGbdAaEOxaI9Nki8Mj7ATnG64p50cVoURoua6eyVc8WtYQdZDwGeKp8YIyDkZTs91Qx3J5CbhU82ctjvKRqF9DFSMjGRj+0oMgJLTABR2iMN5WNZroYoHuSr9mZBQpjSRGtgwkY5ikM+Kswm8ZYGFCP+Sm+n6BQPh4Me7F6ZTGGNaffSaPCsPxilSBmTVWDlG8p0zEoizCsm2x1TKC9GjPSnZIQUmg85HwZJWNlHgN1Ndm/HBcjLbc+50SNhjpVhjmeA2Jgil57XAy/z0lYyrH2cxTDmk5KnrC1mkQcudcYF8PXcfFWSXG/rXhGr7Qwp49B9pEGwKgoSiAMx+otQQs9aowXjPExZlUFKQs+i/RJU7vSc1EXQ2K+zUdG4uij9y/3a7Sp0Tsl8mZXbnYV6JtPt/ULVtB5SjHyxqQkdX7vB/ueC/iDvMf0MKb9N+iAm5ZgTP8vAvpBkwQjb0y9HFdjHDEiIOdUGB9aUcAYBQEURgR+KhM6T+p8o2lERFKyg4HIUGxz3ERhbEWIwrCsX4kx7igZ0ZIfF3mM4fttI2pi1rji5wUjqlKVdb5GR06fvLtrf3TwD20jllhiiSWWWGKJJZZYYoklllhiiSWWWGKh5H9suA+99KHqcQAAAABJRU5ErkJggg==",sEe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAAYCAMAAAAoC+goAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA8UExURUdwTGIQzWMRzmIQzWMRzmcV0WIQzWIQzWMRzmMQzGQSzmMQzWMQzWsY1GQTz4M05mMQzWMQzWMRzWIQzFSfMyMAAAATdFJOUwDhUu6FGMn2ZNI6va8MKgWSoHQwTLgsAAACHElEQVRIx+2W13LsIAxAqQKMKYb//9dINJebnUnuZvIUvSwY0FGFZexPfkbsFLGln9AXhX69WE+RWX9X9cb5zgrnZbFM5eGxKXDO/4EhTnwXVqtjqla1AoVaticMv30Cq0a8CdOyuvBFWJXxPRjT25N1gckHbe+h33nlPYVBOcN3sgGc04eUvoUpZGfALtjmZduknQMmnMvWVctYAeOUXrD9Aau6p5mE4+nIe3zxJH50bSJIaRvBgEE7IDeGig0ljnwoyc9NdZXPXVArO2r1GSkHS6jUF5ybSLBqSAvvNrZxh82FMGE49qKsTXVV7x1G4QdiaqUKnTvwg6IfhPnQNMXYDGfCTJhKbEO1ZcGwGRKuHqHHprNyPtwNRrozxcSr2HwE770jpaZXNY6FHcktM4xjckwYNRZaxOmiEAvGnzkjz4KfjeDPOiWY7lkWswDFgOVRmn7C9r7YLDoLxD9hvdOiPTjZhz6KrUm8wqYe9cqz/VPP7INlqE08QGABlYeRMwGgrjDKmQrpzFnGCebMXmFJEr0Xxby47rA8+kHu0CJPxZ13Qx5fYJRLVHupxjbh6QojV8emAUvixuKtkTVfIY1uGXGFjT7zr/qswdI+N83SH4aNKhiXqG7XRpukgpeDFz24BMsAuJCUk95GgINZwKsEN2HImAbwPehNijegAgCcT9rqa/fFm/Gdl0/nFjaw6XcebB1j+Pvb8p/yAVRjOymtcD63AAAAAElFTkSuQmCC";function oEe(){const[n,t]=W.useState(""),[e,r]=W.useState(""),[a,l]=W.useState(""),[d,h]=W.useState(!1),f=new URLSearchParams(foe().search);return W.useEffect(()=>{let _={};const g=f.get("q");if(g)try{_=JSON.parse(decodeURIComponent(atob(g))),_.app_id&&t(_.app_id),_.user_id&&r(_.user_id),_.access_token&&l(_.access_token),h(!0)}catch{console.error("incorrect auth query")}},[]),Ja.jsx("div",{className:"App",children:d?Ja.jsx(S2e,{appId:n,userId:e,nickname:e,accessToken:a||null}):Ja.jsxs("div",{className:"login-panel",children:[Ja.jsx("img",{src:aEe,className:"logo"}),Ja.jsxs("div",{className:"login-form",children:[Ja.jsx("div",{className:"section",children:"Application ID"}),Ja.jsx("input",{type:"text",className:"input",placeholder:"Application ID",value:n,onChange:_=>t(_.target.value)}),Ja.jsx("div",{className:"section",children:"User ID"}),Ja.jsx("input",{type:"text",className:"input",placeholder:"User ID",value:e,onChange:_=>r(_.target.value)}),Ja.jsx("div",{className:"section",children:"Access token (optional)"}),Ja.jsx("input",{type:"password",className:"input",placeholder:"Access token (optional)",value:a,onChange:_=>l(_.target.value)}),Ja.jsx("input",{type:"button",className:"submit",value:"Sign in",onClick:()=>h(!0)})]}),Ja.jsx("img",{src:sEe,className:"logo-horizontal"})]})})}Dx.createRoot(document.getElementById("root")).render(Ja.jsx(L.StrictMode,{children:Ja.jsx(oEe,{})}));
