(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(s){if(s.ep)return;s.ep=!0;const u=t(s);fetch(s.href,u)}})();function FJ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var de={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=Symbol.for("react.element"),HJ=Symbol.for("react.portal"),zJ=Symbol.for("react.fragment"),qJ=Symbol.for("react.strict_mode"),BJ=Symbol.for("react.profiler"),jJ=Symbol.for("react.provider"),GJ=Symbol.for("react.context"),$J=Symbol.for("react.forward_ref"),VJ=Symbol.for("react.suspense"),WJ=Symbol.for("react.memo"),KJ=Symbol.for("react.lazy"),_4=Symbol.iterator;function QJ(e){return e===null||typeof e!="object"?null:(e=_4&&e[_4]||e["@@iterator"],typeof e=="function"?e:null)}var lM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uM=Object.assign,cM={};function gh(e,n,t){this.props=e,this.context=n,this.refs=cM,this.updater=t||lM}gh.prototype.isReactComponent={};gh.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};gh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dM(){}dM.prototype=gh.prototype;function h3(e,n,t){this.props=e,this.context=n,this.refs=cM,this.updater=t||lM}var p3=h3.prototype=new dM;p3.constructor=h3;uM(p3,gh.prototype);p3.isPureReactComponent=!0;var b4=Array.isArray,hM=Object.prototype.hasOwnProperty,f3={current:null},pM={key:!0,ref:!0,__self:!0,__source:!0};function fM(e,n,t){var r,s={},u=null,d=null;if(n!=null)for(r in n.ref!==void 0&&(d=n.ref),n.key!==void 0&&(u=""+n.key),n)hM.call(n,r)&&!pM.hasOwnProperty(r)&&(s[r]=n[r]);var p=arguments.length-2;if(p===1)s.children=t;else if(1<p){for(var g=Array(p),_=0;_<p;_++)g[_]=arguments[_+2];s.children=g}if(e&&e.defaultProps)for(r in p=e.defaultProps,p)s[r]===void 0&&(s[r]=p[r]);return{$$typeof:n0,type:e,key:u,ref:d,props:s,_owner:f3.current}}function YJ(e,n){return{$$typeof:n0,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function g3(e){return typeof e=="object"&&e!==null&&e.$$typeof===n0}function XJ(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var y4=/\/+/g;function uE(e,n){return typeof e=="object"&&e!==null&&e.key!=null?XJ(""+e.key):n.toString(36)}function Am(e,n,t,r,s){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(u){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n0:case HJ:d=!0}}if(d)return d=e,s=s(d),e=r===""?"."+uE(d,0):r,b4(s)?(t="",e!=null&&(t=e.replace(y4,"$&/")+"/"),Am(s,n,t,"",function(_){return _})):s!=null&&(g3(s)&&(s=YJ(s,t+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(y4,"$&/")+"/")+e)),n.push(s)),1;if(d=0,r=r===""?".":r+":",b4(e))for(var p=0;p<e.length;p++){u=e[p];var g=r+uE(u,p);d+=Am(u,n,t,g,s)}else if(g=QJ(e),typeof g=="function")for(e=g.call(e),p=0;!(u=e.next()).done;)u=u.value,g=r+uE(u,p++),d+=Am(u,n,t,g,s);else if(u==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return d}function nm(e,n,t){if(e==null)return e;var r=[],s=0;return Am(e,r,"","",function(u){return n.call(t,u,s++)}),r}function ZJ(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var $i={current:null},Rm={transition:null},JJ={ReactCurrentDispatcher:$i,ReactCurrentBatchConfig:Rm,ReactCurrentOwner:f3};lt.Children={map:nm,forEach:function(e,n,t){nm(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return nm(e,function(){n++}),n},toArray:function(e){return nm(e,function(n){return n})||[]},only:function(e){if(!g3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=gh;lt.Fragment=zJ;lt.Profiler=BJ;lt.PureComponent=h3;lt.StrictMode=qJ;lt.Suspense=VJ;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JJ;lt.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uM({},e.props),s=e.key,u=e.ref,d=e._owner;if(n!=null){if(n.ref!==void 0&&(u=n.ref,d=f3.current),n.key!==void 0&&(s=""+n.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(g in n)hM.call(n,g)&&!pM.hasOwnProperty(g)&&(r[g]=n[g]===void 0&&p!==void 0?p[g]:n[g])}var g=arguments.length-2;if(g===1)r.children=t;else if(1<g){p=Array(g);for(var _=0;_<g;_++)p[_]=arguments[_+2];r.children=p}return{$$typeof:n0,type:e.type,key:s,ref:u,props:r,_owner:d}};lt.createContext=function(e){return e={$$typeof:GJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jJ,_context:e},e.Consumer=e};lt.createElement=fM;lt.createFactory=function(e){var n=fM.bind(null,e);return n.type=e,n};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:$J,render:e}};lt.isValidElement=g3;lt.lazy=function(e){return{$$typeof:KJ,_payload:{_status:-1,_result:e},_init:ZJ}};lt.memo=function(e,n){return{$$typeof:WJ,type:e,compare:n===void 0?null:n}};lt.startTransition=function(e){var n=Rm.transition;Rm.transition={};try{e()}finally{Rm.transition=n}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(e,n){return $i.current.useCallback(e,n)};lt.useContext=function(e){return $i.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return $i.current.useDeferredValue(e)};lt.useEffect=function(e,n){return $i.current.useEffect(e,n)};lt.useId=function(){return $i.current.useId()};lt.useImperativeHandle=function(e,n,t){return $i.current.useImperativeHandle(e,n,t)};lt.useInsertionEffect=function(e,n){return $i.current.useInsertionEffect(e,n)};lt.useLayoutEffect=function(e,n){return $i.current.useLayoutEffect(e,n)};lt.useMemo=function(e,n){return $i.current.useMemo(e,n)};lt.useReducer=function(e,n,t){return $i.current.useReducer(e,n,t)};lt.useRef=function(e){return $i.current.useRef(e)};lt.useState=function(e){return $i.current.useState(e)};lt.useSyncExternalStore=function(e,n,t){return $i.current.useSyncExternalStore(e,n,t)};lt.useTransition=function(){return $i.current.useTransition()};lt.version="18.2.0";(function(e){e.exports=lt})(de);const S=FJ(de.exports);var h2={},mh={exports:{}},Oa={},gM={exports:{}},mM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(Te,ze){var Ze=Te.length;Te.push(ze);e:for(;0<Ze;){var oe=Ze-1>>>1,ne=Te[oe];if(0<s(ne,ze))Te[oe]=ze,Te[Ze]=ne,Ze=oe;else break e}}function t(Te){return Te.length===0?null:Te[0]}function r(Te){if(Te.length===0)return null;var ze=Te[0],Ze=Te.pop();if(Ze!==ze){Te[0]=Ze;e:for(var oe=0,ne=Te.length,ke=ne>>>1;oe<ke;){var en=2*(oe+1)-1,Fe=Te[en],Me=en+1,Ie=Te[Me];if(0>s(Fe,Ze))Me<ne&&0>s(Ie,Fe)?(Te[oe]=Ie,Te[Me]=Ze,oe=Me):(Te[oe]=Fe,Te[en]=Ze,oe=en);else if(Me<ne&&0>s(Ie,Ze))Te[oe]=Ie,Te[Me]=Ze,oe=Me;else break e}}return ze}function s(Te,ze){var Ze=Te.sortIndex-ze.sortIndex;return Ze!==0?Ze:Te.id-ze.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var g=[],_=[],y=1,E=null,x=3,k=!1,T=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(Te){for(var ze=t(_);ze!==null;){if(ze.callback===null)r(_);else if(ze.startTime<=Te)r(_),ze.sortIndex=ze.expirationTime,n(g,ze);else break;ze=t(_)}}function L(Te){if(I=!1,U(Te),!T)if(t(g)!==null)T=!0,je(ee);else{var ze=t(_);ze!==null&&Xe(L,ze.startTime-Te)}}function ee(Te,ze){T=!1,I&&(I=!1,N(Y),Y=-1),k=!0;var Ze=x;try{for(U(ze),E=t(g);E!==null&&(!(E.expirationTime>ze)||Te&&!Ue());){var oe=E.callback;if(typeof oe=="function"){E.callback=null,x=E.priorityLevel;var ne=oe(E.expirationTime<=ze);ze=e.unstable_now(),typeof ne=="function"?E.callback=ne:E===t(g)&&r(g),U(ze)}else r(g);E=t(g)}if(E!==null)var ke=!0;else{var en=t(_);en!==null&&Xe(L,en.startTime-ze),ke=!1}return ke}finally{E=null,x=Ze,k=!1}}var V=!1,J=null,Y=-1,ye=5,ve=-1;function Ue(){return!(e.unstable_now()-ve<ye)}function Ne(){if(J!==null){var Te=e.unstable_now();ve=Te;var ze=!0;try{ze=J(!0,Te)}finally{ze?ce():(V=!1,J=null)}}else V=!1}var ce;if(typeof O=="function")ce=function(){O(Ne)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ge=Ee.port2;Ee.port1.onmessage=Ne,ce=function(){ge.postMessage(null)}}else ce=function(){P(Ne,0)};function je(Te){J=Te,V||(V=!0,ce())}function Xe(Te,ze){Y=P(function(){Te(e.unstable_now())},ze)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Te){Te.callback=null},e.unstable_continueExecution=function(){T||k||(T=!0,je(ee))},e.unstable_forceFrameRate=function(Te){0>Te||125<Te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<Te?Math.floor(1e3/Te):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return t(g)},e.unstable_next=function(Te){switch(x){case 1:case 2:case 3:var ze=3;break;default:ze=x}var Ze=x;x=ze;try{return Te()}finally{x=Ze}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Te,ze){switch(Te){case 1:case 2:case 3:case 4:case 5:break;default:Te=3}var Ze=x;x=Te;try{return ze()}finally{x=Ze}},e.unstable_scheduleCallback=function(Te,ze,Ze){var oe=e.unstable_now();switch(typeof Ze=="object"&&Ze!==null?(Ze=Ze.delay,Ze=typeof Ze=="number"&&0<Ze?oe+Ze:oe):Ze=oe,Te){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Ze+ne,Te={id:y++,callback:ze,priorityLevel:Te,startTime:Ze,expirationTime:ne,sortIndex:-1},Ze>oe?(Te.sortIndex=Ze,n(_,Te),t(g)===null&&Te===t(_)&&(I?(N(Y),Y=-1):I=!0,Xe(L,Ze-oe))):(Te.sortIndex=ne,n(g,Te),T||k||(T=!0,je(ee))),Te},e.unstable_shouldYield=Ue,e.unstable_wrapCallback=function(Te){var ze=x;return function(){var Ze=x;x=ze;try{return Te.apply(this,arguments)}finally{x=Ze}}}})(mM);(function(e){e.exports=mM})(gM);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM=de.exports,Ca=gM.exports;function nn(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _M=new Set,Cf={};function Tc(e,n){Xd(e,n),Xd(e+"Capture",n)}function Xd(e,n){for(Cf[e]=n,e=0;e<n.length;e++)_M.add(n[e])}var $o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p2=Object.prototype.hasOwnProperty,eee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E4={},w4={};function nee(e){return p2.call(w4,e)?!0:p2.call(E4,e)?!1:eee.test(e)?w4[e]=!0:(E4[e]=!0,!1)}function tee(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ree(e,n,t,r){if(n===null||typeof n>"u"||tee(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Vi(e,n,t,r,s,u,d){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=u,this.removeEmptyString=d}var ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ci[e]=new Vi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];ci[n]=new Vi(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ci[e]=new Vi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ci[e]=new Vi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ci[e]=new Vi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ci[e]=new Vi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ci[e]=new Vi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ci[e]=new Vi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ci[e]=new Vi(e,5,!1,e.toLowerCase(),null,!1,!1)});var m3=/[\-:]([a-z])/g;function v3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(m3,v3);ci[n]=new Vi(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(m3,v3);ci[n]=new Vi(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(m3,v3);ci[n]=new Vi(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ci[e]=new Vi(e,1,!1,e.toLowerCase(),null,!1,!1)});ci.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ci[e]=new Vi(e,1,!1,e.toLowerCase(),null,!0,!0)});function _3(e,n,t,r){var s=ci.hasOwnProperty(n)?ci[n]:null;(s!==null?s.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(ree(n,t,s,r)&&(t=null),r||s===null?nee(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):s.mustUseProperty?e[s.propertyName]=t===null?s.type===3?!1:"":t:(n=s.attributeName,r=s.attributeNamespace,t===null?e.removeAttribute(n):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var Qo=vM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tm=Symbol.for("react.element"),Id=Symbol.for("react.portal"),Nd=Symbol.for("react.fragment"),b3=Symbol.for("react.strict_mode"),f2=Symbol.for("react.profiler"),bM=Symbol.for("react.provider"),yM=Symbol.for("react.context"),y3=Symbol.for("react.forward_ref"),g2=Symbol.for("react.suspense"),m2=Symbol.for("react.suspense_list"),E3=Symbol.for("react.memo"),Il=Symbol.for("react.lazy"),EM=Symbol.for("react.offscreen"),x4=Symbol.iterator;function Up(e){return e===null||typeof e!="object"?null:(e=x4&&e[x4]||e["@@iterator"],typeof e=="function"?e:null)}var hr=Object.assign,cE;function Zp(e){if(cE===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);cE=n&&n[1]||""}return`
`+cE+e}var dE=!1;function hE(e,n){if(!e||dE)return"";dE=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(_){var r=_}Reflect.construct(e,[],n)}else{try{n.call()}catch(_){r=_}e.call(n.prototype)}else{try{throw Error()}catch(_){r=_}e()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var s=_.stack.split(`
`),u=r.stack.split(`
`),d=s.length-1,p=u.length-1;1<=d&&0<=p&&s[d]!==u[p];)p--;for(;1<=d&&0<=p;d--,p--)if(s[d]!==u[p]){if(d!==1||p!==1)do if(d--,p--,0>p||s[d]!==u[p]){var g=`
`+s[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=p);break}}}finally{dE=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?Zp(e):""}function iee(e){switch(e.tag){case 5:return Zp(e.type);case 16:return Zp("Lazy");case 13:return Zp("Suspense");case 19:return Zp("SuspenseList");case 0:case 2:case 15:return e=hE(e.type,!1),e;case 11:return e=hE(e.type.render,!1),e;case 1:return e=hE(e.type,!0),e;default:return""}}function v2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nd:return"Fragment";case Id:return"Portal";case f2:return"Profiler";case b3:return"StrictMode";case g2:return"Suspense";case m2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yM:return(e.displayName||"Context")+".Consumer";case bM:return(e._context.displayName||"Context")+".Provider";case y3:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E3:return n=e.displayName||null,n!==null?n:v2(e.type)||"Memo";case Il:n=e._payload,e=e._init;try{return v2(e(n))}catch{}}return null}function aee(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v2(n);case 8:return n===b3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Yl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wM(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function see(e){var n=wM(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,u=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return s.call(this)},set:function(d){r=""+d,u.call(this,d)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function rm(e){e._valueTracker||(e._valueTracker=see(e))}function xM(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=wM(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function ev(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _2(e,n){var t=n.checked;return hr({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:e._wrapperState.initialChecked})}function k4(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=Yl(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function kM(e,n){n=n.checked,n!=null&&_3(e,"checked",n,!1)}function b2(e,n){kM(e,n);var t=Yl(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?y2(e,n.type,t):n.hasOwnProperty("defaultValue")&&y2(e,n.type,Yl(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function S4(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function y2(e,n,t){(n!=="number"||ev(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var Jp=Array.isArray;function jd(e,n,t,r){if(e=e.options,n){n={};for(var s=0;s<t.length;s++)n["$"+t[s]]=!0;for(t=0;t<e.length;t++)s=n.hasOwnProperty("$"+e[t].value),e[t].selected!==s&&(e[t].selected=s),s&&r&&(e[t].defaultSelected=!0)}else{for(t=""+Yl(t),n=null,s=0;s<e.length;s++){if(e[s].value===t){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}n!==null||e[s].disabled||(n=e[s])}n!==null&&(n.selected=!0)}}function E2(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(nn(91));return hr({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C4(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(nn(92));if(Jp(t)){if(1<t.length)throw Error(nn(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:Yl(t)}}function SM(e,n){var t=Yl(n.value),r=Yl(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function T4(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function CM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w2(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?CM(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var im,TM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,s){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,s)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(im=im||document.createElement("div"),im.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=im.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Tf(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oee=["Webkit","ms","Moz","O"];Object.keys(of).forEach(function(e){oee.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),of[n]=of[e]})});function IM(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||of.hasOwnProperty(e)&&of[e]?(""+n).trim():n+"px"}function NM(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=IM(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,s):e[t]=s}}var lee=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x2(e,n){if(n){if(lee[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(nn(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(nn(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(nn(61))}if(n.style!=null&&typeof n.style!="object")throw Error(nn(62))}}function k2(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S2=null;function w3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var C2=null,Gd=null,$d=null;function I4(e){if(e=i0(e)){if(typeof C2!="function")throw Error(nn(280));var n=e.stateNode;n&&(n=Yv(n),C2(e.stateNode,e.type,n))}}function OM(e){Gd?$d?$d.push(e):$d=[e]:Gd=e}function AM(){if(Gd){var e=Gd,n=$d;if($d=Gd=null,I4(e),n)for(e=0;e<n.length;e++)I4(n[e])}}function RM(e,n){return e(n)}function MM(){}var pE=!1;function DM(e,n,t){if(pE)return e(n,t);pE=!0;try{return RM(e,n,t)}finally{pE=!1,(Gd!==null||$d!==null)&&(MM(),AM())}}function If(e,n){var t=e.stateNode;if(t===null)return null;var r=Yv(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(nn(231,n,typeof t));return t}var T2=!1;if($o)try{var Lp={};Object.defineProperty(Lp,"passive",{get:function(){T2=!0}}),window.addEventListener("test",Lp,Lp),window.removeEventListener("test",Lp,Lp)}catch{T2=!1}function uee(e,n,t,r,s,u,d,p,g){var _=Array.prototype.slice.call(arguments,3);try{n.apply(t,_)}catch(y){this.onError(y)}}var lf=!1,nv=null,tv=!1,I2=null,cee={onError:function(e){lf=!0,nv=e}};function dee(e,n,t,r,s,u,d,p,g){lf=!1,nv=null,uee.apply(cee,arguments)}function hee(e,n,t,r,s,u,d,p,g){if(dee.apply(this,arguments),lf){if(lf){var _=nv;lf=!1,nv=null}else throw Error(nn(198));tv||(tv=!0,I2=_)}}function Ic(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function UM(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function N4(e){if(Ic(e)!==e)throw Error(nn(188))}function pee(e){var n=e.alternate;if(!n){if(n=Ic(e),n===null)throw Error(nn(188));return n!==e?null:e}for(var t=e,r=n;;){var s=t.return;if(s===null)break;var u=s.alternate;if(u===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===t)return N4(s),e;if(u===r)return N4(s),n;u=u.sibling}throw Error(nn(188))}if(t.return!==r.return)t=s,r=u;else{for(var d=!1,p=s.child;p;){if(p===t){d=!0,t=s,r=u;break}if(p===r){d=!0,r=s,t=u;break}p=p.sibling}if(!d){for(p=u.child;p;){if(p===t){d=!0,t=u,r=s;break}if(p===r){d=!0,r=u,t=s;break}p=p.sibling}if(!d)throw Error(nn(189))}}if(t.alternate!==r)throw Error(nn(190))}if(t.tag!==3)throw Error(nn(188));return t.stateNode.current===t?e:n}function LM(e){return e=pee(e),e!==null?PM(e):null}function PM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=PM(e);if(n!==null)return n;e=e.sibling}return null}var FM=Ca.unstable_scheduleCallback,O4=Ca.unstable_cancelCallback,fee=Ca.unstable_shouldYield,gee=Ca.unstable_requestPaint,xr=Ca.unstable_now,mee=Ca.unstable_getCurrentPriorityLevel,x3=Ca.unstable_ImmediatePriority,HM=Ca.unstable_UserBlockingPriority,rv=Ca.unstable_NormalPriority,vee=Ca.unstable_LowPriority,zM=Ca.unstable_IdlePriority,Vv=null,Zs=null;function _ee(e){if(Zs&&typeof Zs.onCommitFiberRoot=="function")try{Zs.onCommitFiberRoot(Vv,e,void 0,(e.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:Eee,bee=Math.log,yee=Math.LN2;function Eee(e){return e>>>=0,e===0?32:31-(bee(e)/yee|0)|0}var am=64,sm=4194304;function ef(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function iv(e,n){var t=e.pendingLanes;if(t===0)return 0;var r=0,s=e.suspendedLanes,u=e.pingedLanes,d=t&268435455;if(d!==0){var p=d&~s;p!==0?r=ef(p):(u&=d,u!==0&&(r=ef(u)))}else d=t&~s,d!==0?r=ef(d):u!==0&&(r=ef(u));if(r===0)return 0;if(n!==0&&n!==r&&(n&s)===0&&(s=r&-r,u=n&-n,s>=u||s===16&&(u&4194240)!==0))return n;if((r&4)!==0&&(r|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-ys(n),s=1<<t,r|=e[t],n&=~s;return r}function wee(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xee(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes;0<u;){var d=31-ys(u),p=1<<d,g=s[d];g===-1?((p&t)===0||(p&r)!==0)&&(s[d]=wee(p,n)):g<=n&&(e.expiredLanes|=p),u&=~p}}function N2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qM(){var e=am;return am<<=1,(am&4194240)===0&&(am=64),e}function fE(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function t0(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-ys(n),e[n]=t}function kee(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var s=31-ys(t),u=1<<s;n[s]=0,r[s]=-1,e[s]=-1,t&=~u}}function k3(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-ys(t),s=1<<r;s&n|e[r]&n&&(e[r]|=n),t&=~s}}var Ht=0;function BM(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var jM,S3,GM,$M,VM,O2=!1,om=[],Fl=null,Hl=null,zl=null,Nf=new Map,Of=new Map,Ol=[],See="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A4(e,n){switch(e){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Hl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":Nf.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(n.pointerId)}}function Pp(e,n,t,r,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:u,targetContainers:[s]},n!==null&&(n=i0(n),n!==null&&S3(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,s!==null&&n.indexOf(s)===-1&&n.push(s),e)}function Cee(e,n,t,r,s){switch(n){case"focusin":return Fl=Pp(Fl,e,n,t,r,s),!0;case"dragenter":return Hl=Pp(Hl,e,n,t,r,s),!0;case"mouseover":return zl=Pp(zl,e,n,t,r,s),!0;case"pointerover":var u=s.pointerId;return Nf.set(u,Pp(Nf.get(u)||null,e,n,t,r,s)),!0;case"gotpointercapture":return u=s.pointerId,Of.set(u,Pp(Of.get(u)||null,e,n,t,r,s)),!0}return!1}function WM(e){var n=ic(e.target);if(n!==null){var t=Ic(n);if(t!==null){if(n=t.tag,n===13){if(n=UM(t),n!==null){e.blockedOn=n,VM(e.priority,function(){GM(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mm(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=A2(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var r=new t.constructor(t.type,t);S2=r,t.target.dispatchEvent(r),S2=null}else return n=i0(t),n!==null&&S3(n),e.blockedOn=t,!1;n.shift()}return!0}function R4(e,n,t){Mm(e)&&t.delete(n)}function Tee(){O2=!1,Fl!==null&&Mm(Fl)&&(Fl=null),Hl!==null&&Mm(Hl)&&(Hl=null),zl!==null&&Mm(zl)&&(zl=null),Nf.forEach(R4),Of.forEach(R4)}function Fp(e,n){e.blockedOn===n&&(e.blockedOn=null,O2||(O2=!0,Ca.unstable_scheduleCallback(Ca.unstable_NormalPriority,Tee)))}function Af(e){function n(s){return Fp(s,e)}if(0<om.length){Fp(om[0],e);for(var t=1;t<om.length;t++){var r=om[t];r.blockedOn===e&&(r.blockedOn=null)}}for(Fl!==null&&Fp(Fl,e),Hl!==null&&Fp(Hl,e),zl!==null&&Fp(zl,e),Nf.forEach(n),Of.forEach(n),t=0;t<Ol.length;t++)r=Ol[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ol.length&&(t=Ol[0],t.blockedOn===null);)WM(t),t.blockedOn===null&&Ol.shift()}var Vd=Qo.ReactCurrentBatchConfig,av=!0;function Iee(e,n,t,r){var s=Ht,u=Vd.transition;Vd.transition=null;try{Ht=1,C3(e,n,t,r)}finally{Ht=s,Vd.transition=u}}function Nee(e,n,t,r){var s=Ht,u=Vd.transition;Vd.transition=null;try{Ht=4,C3(e,n,t,r)}finally{Ht=s,Vd.transition=u}}function C3(e,n,t,r){if(av){var s=A2(e,n,t,r);if(s===null)kE(e,n,r,sv,t),A4(e,r);else if(Cee(s,e,n,t,r))r.stopPropagation();else if(A4(e,r),n&4&&-1<See.indexOf(e)){for(;s!==null;){var u=i0(s);if(u!==null&&jM(u),u=A2(e,n,t,r),u===null&&kE(e,n,r,sv,t),u===s)break;s=u}s!==null&&r.stopPropagation()}else kE(e,n,r,null,t)}}var sv=null;function A2(e,n,t,r){if(sv=null,e=w3(r),e=ic(e),e!==null)if(n=Ic(e),n===null)e=null;else if(t=n.tag,t===13){if(e=UM(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return sv=e,null}function KM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mee()){case x3:return 1;case HM:return 4;case rv:case vee:return 16;case zM:return 536870912;default:return 16}default:return 16}}var Rl=null,T3=null,Dm=null;function QM(){if(Dm)return Dm;var e,n=T3,t=n.length,r,s="value"in Rl?Rl.value:Rl.textContent,u=s.length;for(e=0;e<t&&n[e]===s[e];e++);var d=t-e;for(r=1;r<=d&&n[t-r]===s[u-r];r++);return Dm=s.slice(e,1<r?1-r:void 0)}function Um(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function lm(){return!0}function M4(){return!1}function Aa(e){function n(t,r,s,u,d){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(t=e[p],this[p]=t?t(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?lm:M4,this.isPropagationStopped=M4,this}return hr(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=lm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=lm)},persist:function(){},isPersistent:lm}),n}var vh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I3=Aa(vh),r0=hr({},vh,{view:0,detail:0}),Oee=Aa(r0),gE,mE,Hp,Wv=hr({},r0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hp&&(Hp&&e.type==="mousemove"?(gE=e.screenX-Hp.screenX,mE=e.screenY-Hp.screenY):mE=gE=0,Hp=e),gE)},movementY:function(e){return"movementY"in e?e.movementY:mE}}),D4=Aa(Wv),Aee=hr({},Wv,{dataTransfer:0}),Ree=Aa(Aee),Mee=hr({},r0,{relatedTarget:0}),vE=Aa(Mee),Dee=hr({},vh,{animationName:0,elapsedTime:0,pseudoElement:0}),Uee=Aa(Dee),Lee=hr({},vh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pee=Aa(Lee),Fee=hr({},vh,{data:0}),U4=Aa(Fee),Hee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bee(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qee[e])?!!n[e]:!1}function N3(){return Bee}var jee=hr({},r0,{key:function(e){if(e.key){var n=Hee[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Um(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N3,charCode:function(e){return e.type==="keypress"?Um(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Um(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gee=Aa(jee),$ee=hr({},Wv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L4=Aa($ee),Vee=hr({},r0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N3}),Wee=Aa(Vee),Kee=hr({},vh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qee=Aa(Kee),Yee=hr({},Wv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xee=Aa(Yee),Zee=[9,13,27,32],O3=$o&&"CompositionEvent"in window,uf=null;$o&&"documentMode"in document&&(uf=document.documentMode);var Jee=$o&&"TextEvent"in window&&!uf,YM=$o&&(!O3||uf&&8<uf&&11>=uf),P4=String.fromCharCode(32),F4=!1;function XM(e,n){switch(e){case"keyup":return Zee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Od=!1;function ene(e,n){switch(e){case"compositionend":return ZM(n);case"keypress":return n.which!==32?null:(F4=!0,P4);case"textInput":return e=n.data,e===P4&&F4?null:e;default:return null}}function nne(e,n){if(Od)return e==="compositionend"||!O3&&XM(e,n)?(e=QM(),Dm=T3=Rl=null,Od=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return YM&&n.locale!=="ko"?null:n.data;default:return null}}var tne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H4(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!tne[e.type]:n==="textarea"}function JM(e,n,t,r){OM(r),n=ov(n,"onChange"),0<n.length&&(t=new I3("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var cf=null,Rf=null;function rne(e){cD(e,0)}function Kv(e){var n=Md(e);if(xM(n))return e}function ine(e,n){if(e==="change")return n}var eD=!1;if($o){var _E;if($o){var bE="oninput"in document;if(!bE){var z4=document.createElement("div");z4.setAttribute("oninput","return;"),bE=typeof z4.oninput=="function"}_E=bE}else _E=!1;eD=_E&&(!document.documentMode||9<document.documentMode)}function q4(){cf&&(cf.detachEvent("onpropertychange",nD),Rf=cf=null)}function nD(e){if(e.propertyName==="value"&&Kv(Rf)){var n=[];JM(n,Rf,e,w3(e)),DM(rne,n)}}function ane(e,n,t){e==="focusin"?(q4(),cf=n,Rf=t,cf.attachEvent("onpropertychange",nD)):e==="focusout"&&q4()}function sne(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kv(Rf)}function one(e,n){if(e==="click")return Kv(n)}function lne(e,n){if(e==="input"||e==="change")return Kv(n)}function une(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var xs=typeof Object.is=="function"?Object.is:une;function Mf(e,n){if(xs(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!p2.call(n,s)||!xs(e[s],n[s]))return!1}return!0}function B4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j4(e,n){var t=B4(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=B4(t)}}function tD(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?tD(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rD(){for(var e=window,n=ev();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=ev(e.document)}return n}function A3(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function cne(e){var n=rD(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&tD(t.ownerDocument.documentElement,t)){if(r!==null&&A3(t)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var s=t.textContent.length,u=Math.min(r.start,s);r=r.end===void 0?u:Math.min(r.end,s),!e.extend&&u>r&&(s=r,r=u,u=s),s=j4(t,u);var d=j4(t,r);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(n=n.createRange(),n.setStart(s.node,s.offset),e.removeAllRanges(),u>r?(e.addRange(n),e.extend(d.node,d.offset)):(n.setEnd(d.node,d.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dne=$o&&"documentMode"in document&&11>=document.documentMode,Ad=null,R2=null,df=null,M2=!1;function G4(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;M2||Ad==null||Ad!==ev(r)||(r=Ad,"selectionStart"in r&&A3(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),df&&Mf(df,r)||(df=r,r=ov(R2,"onSelect"),0<r.length&&(n=new I3("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=Ad)))}function um(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var Rd={animationend:um("Animation","AnimationEnd"),animationiteration:um("Animation","AnimationIteration"),animationstart:um("Animation","AnimationStart"),transitionend:um("Transition","TransitionEnd")},yE={},iD={};$o&&(iD=document.createElement("div").style,"AnimationEvent"in window||(delete Rd.animationend.animation,delete Rd.animationiteration.animation,delete Rd.animationstart.animation),"TransitionEvent"in window||delete Rd.transitionend.transition);function Qv(e){if(yE[e])return yE[e];if(!Rd[e])return e;var n=Rd[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in iD)return yE[e]=n[t];return e}var aD=Qv("animationend"),sD=Qv("animationiteration"),oD=Qv("animationstart"),lD=Qv("transitionend"),uD=new Map,$4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function iu(e,n){uD.set(e,n),Tc(n,[e])}for(var EE=0;EE<$4.length;EE++){var wE=$4[EE],hne=wE.toLowerCase(),pne=wE[0].toUpperCase()+wE.slice(1);iu(hne,"on"+pne)}iu(aD,"onAnimationEnd");iu(sD,"onAnimationIteration");iu(oD,"onAnimationStart");iu("dblclick","onDoubleClick");iu("focusin","onFocus");iu("focusout","onBlur");iu(lD,"onTransitionEnd");Xd("onMouseEnter",["mouseout","mouseover"]);Xd("onMouseLeave",["mouseout","mouseover"]);Xd("onPointerEnter",["pointerout","pointerover"]);Xd("onPointerLeave",["pointerout","pointerover"]);Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fne=new Set("cancel close invalid load scroll toggle".split(" ").concat(nf));function V4(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,hee(r,n,void 0,e),e.currentTarget=null}function cD(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],s=r.event;r=r.listeners;e:{var u=void 0;if(n)for(var d=r.length-1;0<=d;d--){var p=r[d],g=p.instance,_=p.currentTarget;if(p=p.listener,g!==u&&s.isPropagationStopped())break e;V4(s,p,_),u=g}else for(d=0;d<r.length;d++){if(p=r[d],g=p.instance,_=p.currentTarget,p=p.listener,g!==u&&s.isPropagationStopped())break e;V4(s,p,_),u=g}}}if(tv)throw e=I2,tv=!1,I2=null,e}function ir(e,n){var t=n[F2];t===void 0&&(t=n[F2]=new Set);var r=e+"__bubble";t.has(r)||(dD(n,e,2,!1),t.add(r))}function xE(e,n,t){var r=0;n&&(r|=4),dD(t,e,r,n)}var cm="_reactListening"+Math.random().toString(36).slice(2);function Df(e){if(!e[cm]){e[cm]=!0,_M.forEach(function(t){t!=="selectionchange"&&(fne.has(t)||xE(t,!1,e),xE(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cm]||(n[cm]=!0,xE("selectionchange",!1,n))}}function dD(e,n,t,r){switch(KM(n)){case 1:var s=Iee;break;case 4:s=Nee;break;default:s=C3}t=s.bind(null,n,t,e),s=void 0,!T2||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(n,t,{capture:!0,passive:s}):e.addEventListener(n,t,!0):s!==void 0?e.addEventListener(n,t,{passive:s}):e.addEventListener(n,t,!1)}function kE(e,n,t,r,s){var u=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var p=r.stateNode.containerInfo;if(p===s||p.nodeType===8&&p.parentNode===s)break;if(d===4)for(d=r.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===s||g.nodeType===8&&g.parentNode===s))return;d=d.return}for(;p!==null;){if(d=ic(p),d===null)return;if(g=d.tag,g===5||g===6){r=u=d;continue e}p=p.parentNode}}r=r.return}DM(function(){var _=u,y=w3(t),E=[];e:{var x=uD.get(e);if(x!==void 0){var k=I3,T=e;switch(e){case"keypress":if(Um(t)===0)break e;case"keydown":case"keyup":k=Gee;break;case"focusin":T="focus",k=vE;break;case"focusout":T="blur",k=vE;break;case"beforeblur":case"afterblur":k=vE;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=D4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ree;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Wee;break;case aD:case sD:case oD:k=Uee;break;case lD:k=Qee;break;case"scroll":k=Oee;break;case"wheel":k=Xee;break;case"copy":case"cut":case"paste":k=Pee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=L4}var I=(n&4)!==0,P=!I&&e==="scroll",N=I?x!==null?x+"Capture":null:x;I=[];for(var O=_,U;O!==null;){U=O;var L=U.stateNode;if(U.tag===5&&L!==null&&(U=L,N!==null&&(L=If(O,N),L!=null&&I.push(Uf(O,L,U)))),P)break;O=O.return}0<I.length&&(x=new k(x,T,null,t,y),E.push({event:x,listeners:I}))}}if((n&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",x&&t!==S2&&(T=t.relatedTarget||t.fromElement)&&(ic(T)||T[Vo]))break e;if((k||x)&&(x=y.window===y?y:(x=y.ownerDocument)?x.defaultView||x.parentWindow:window,k?(T=t.relatedTarget||t.toElement,k=_,T=T?ic(T):null,T!==null&&(P=Ic(T),T!==P||T.tag!==5&&T.tag!==6)&&(T=null)):(k=null,T=_),k!==T)){if(I=D4,L="onMouseLeave",N="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(I=L4,L="onPointerLeave",N="onPointerEnter",O="pointer"),P=k==null?x:Md(k),U=T==null?x:Md(T),x=new I(L,O+"leave",k,t,y),x.target=P,x.relatedTarget=U,L=null,ic(y)===_&&(I=new I(N,O+"enter",T,t,y),I.target=U,I.relatedTarget=P,L=I),P=L,k&&T)n:{for(I=k,N=T,O=0,U=I;U;U=Ed(U))O++;for(U=0,L=N;L;L=Ed(L))U++;for(;0<O-U;)I=Ed(I),O--;for(;0<U-O;)N=Ed(N),U--;for(;O--;){if(I===N||N!==null&&I===N.alternate)break n;I=Ed(I),N=Ed(N)}I=null}else I=null;k!==null&&W4(E,x,k,I,!1),T!==null&&P!==null&&W4(E,P,T,I,!0)}}e:{if(x=_?Md(_):window,k=x.nodeName&&x.nodeName.toLowerCase(),k==="select"||k==="input"&&x.type==="file")var ee=ine;else if(H4(x))if(eD)ee=lne;else{ee=sne;var V=ane}else(k=x.nodeName)&&k.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(ee=one);if(ee&&(ee=ee(e,_))){JM(E,ee,t,y);break e}V&&V(e,x,_),e==="focusout"&&(V=x._wrapperState)&&V.controlled&&x.type==="number"&&y2(x,"number",x.value)}switch(V=_?Md(_):window,e){case"focusin":(H4(V)||V.contentEditable==="true")&&(Ad=V,R2=_,df=null);break;case"focusout":df=R2=Ad=null;break;case"mousedown":M2=!0;break;case"contextmenu":case"mouseup":case"dragend":M2=!1,G4(E,t,y);break;case"selectionchange":if(dne)break;case"keydown":case"keyup":G4(E,t,y)}var J;if(O3)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else Od?XM(e,t)&&(Y="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(Y="onCompositionStart");Y&&(YM&&t.locale!=="ko"&&(Od||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&Od&&(J=QM()):(Rl=y,T3="value"in Rl?Rl.value:Rl.textContent,Od=!0)),V=ov(_,Y),0<V.length&&(Y=new U4(Y,e,null,t,y),E.push({event:Y,listeners:V}),J?Y.data=J:(J=ZM(t),J!==null&&(Y.data=J)))),(J=Jee?ene(e,t):nne(e,t))&&(_=ov(_,"onBeforeInput"),0<_.length&&(y=new U4("onBeforeInput","beforeinput",null,t,y),E.push({event:y,listeners:_}),y.data=J))}cD(E,n)})}function Uf(e,n,t){return{instance:e,listener:n,currentTarget:t}}function ov(e,n){for(var t=n+"Capture",r=[];e!==null;){var s=e,u=s.stateNode;s.tag===5&&u!==null&&(s=u,u=If(e,t),u!=null&&r.unshift(Uf(e,u,s)),u=If(e,n),u!=null&&r.push(Uf(e,u,s))),e=e.return}return r}function Ed(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function W4(e,n,t,r,s){for(var u=n._reactName,d=[];t!==null&&t!==r;){var p=t,g=p.alternate,_=p.stateNode;if(g!==null&&g===r)break;p.tag===5&&_!==null&&(p=_,s?(g=If(t,u),g!=null&&d.unshift(Uf(t,g,p))):s||(g=If(t,u),g!=null&&d.push(Uf(t,g,p)))),t=t.return}d.length!==0&&e.push({event:n,listeners:d})}var gne=/\r\n?/g,mne=/\u0000|\uFFFD/g;function K4(e){return(typeof e=="string"?e:""+e).replace(gne,`
`).replace(mne,"")}function dm(e,n,t){if(n=K4(n),K4(e)!==n&&t)throw Error(nn(425))}function lv(){}var D2=null,U2=null;function L2(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var P2=typeof setTimeout=="function"?setTimeout:void 0,vne=typeof clearTimeout=="function"?clearTimeout:void 0,Q4=typeof Promise=="function"?Promise:void 0,_ne=typeof queueMicrotask=="function"?queueMicrotask:typeof Q4<"u"?function(e){return Q4.resolve(null).then(e).catch(bne)}:P2;function bne(e){setTimeout(function(){throw e})}function SE(e,n){var t=n,r=0;do{var s=t.nextSibling;if(e.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){e.removeChild(s),Af(n);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Af(n)}function ql(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Y4(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var _h=Math.random().toString(36).slice(2),Qs="__reactFiber$"+_h,Lf="__reactProps$"+_h,Vo="__reactContainer$"+_h,F2="__reactEvents$"+_h,yne="__reactListeners$"+_h,Ene="__reactHandles$"+_h;function ic(e){var n=e[Qs];if(n)return n;for(var t=e.parentNode;t;){if(n=t[Vo]||t[Qs]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=Y4(e);e!==null;){if(t=e[Qs])return t;e=Y4(e)}return n}e=t,t=e.parentNode}return null}function i0(e){return e=e[Qs]||e[Vo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Md(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(nn(33))}function Yv(e){return e[Lf]||null}var H2=[],Dd=-1;function au(e){return{current:e}}function ar(e){0>Dd||(e.current=H2[Dd],H2[Dd]=null,Dd--)}function er(e,n){Dd++,H2[Dd]=e.current,e.current=n}var Xl={},Di=au(Xl),ua=au(!1),_c=Xl;function Zd(e,n){var t=e.type.contextTypes;if(!t)return Xl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var s={},u;for(u in t)s[u]=n[u];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),s}function ca(e){return e=e.childContextTypes,e!=null}function uv(){ar(ua),ar(Di)}function X4(e,n,t){if(Di.current!==Xl)throw Error(nn(168));er(Di,n),er(ua,t)}function hD(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in n))throw Error(nn(108,aee(e)||"Unknown",s));return hr({},t,r)}function cv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xl,_c=Di.current,er(Di,e),er(ua,ua.current),!0}function Z4(e,n,t){var r=e.stateNode;if(!r)throw Error(nn(169));t?(e=hD(e,n,_c),r.__reactInternalMemoizedMergedChildContext=e,ar(ua),ar(Di),er(Di,e)):ar(ua),er(ua,t)}var No=null,Xv=!1,CE=!1;function pD(e){No===null?No=[e]:No.push(e)}function wne(e){Xv=!0,pD(e)}function su(){if(!CE&&No!==null){CE=!0;var e=0,n=Ht;try{var t=No;for(Ht=1;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}No=null,Xv=!1}catch(s){throw No!==null&&(No=No.slice(e+1)),FM(x3,su),s}finally{Ht=n,CE=!1}}return null}var Ud=[],Ld=0,dv=null,hv=0,Ga=[],$a=0,bc=null,Fo=1,Ho="";function Qu(e,n){Ud[Ld++]=hv,Ud[Ld++]=dv,dv=e,hv=n}function fD(e,n,t){Ga[$a++]=Fo,Ga[$a++]=Ho,Ga[$a++]=bc,bc=e;var r=Fo;e=Ho;var s=32-ys(r)-1;r&=~(1<<s),t+=1;var u=32-ys(n)+s;if(30<u){var d=s-s%5;u=(r&(1<<d)-1).toString(32),r>>=d,s-=d,Fo=1<<32-ys(n)+s|t<<s|r,Ho=u+e}else Fo=1<<u|t<<s|r,Ho=e}function R3(e){e.return!==null&&(Qu(e,1),fD(e,1,0))}function M3(e){for(;e===dv;)dv=Ud[--Ld],Ud[Ld]=null,hv=Ud[--Ld],Ud[Ld]=null;for(;e===bc;)bc=Ga[--$a],Ga[$a]=null,Ho=Ga[--$a],Ga[$a]=null,Fo=Ga[--$a],Ga[$a]=null}var Sa=null,ka=null,lr=!1,vs=null;function gD(e,n){var t=Ka(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function J4(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Sa=e,ka=ql(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Sa=e,ka=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=bc!==null?{id:Fo,overflow:Ho}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=Ka(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,Sa=e,ka=null,!0):!1;default:return!1}}function z2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function q2(e){if(lr){var n=ka;if(n){var t=n;if(!J4(e,n)){if(z2(e))throw Error(nn(418));n=ql(t.nextSibling);var r=Sa;n&&J4(e,n)?gD(r,t):(e.flags=e.flags&-4097|2,lr=!1,Sa=e)}}else{if(z2(e))throw Error(nn(418));e.flags=e.flags&-4097|2,lr=!1,Sa=e}}}function eO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sa=e}function hm(e){if(e!==Sa)return!1;if(!lr)return eO(e),lr=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!L2(e.type,e.memoizedProps)),n&&(n=ka)){if(z2(e))throw mD(),Error(nn(418));for(;n;)gD(e,n),n=ql(n.nextSibling)}if(eO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nn(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){ka=ql(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}ka=null}}else ka=Sa?ql(e.stateNode.nextSibling):null;return!0}function mD(){for(var e=ka;e;)e=ql(e.nextSibling)}function Jd(){ka=Sa=null,lr=!1}function D3(e){vs===null?vs=[e]:vs.push(e)}var xne=Qo.ReactCurrentBatchConfig;function fs(e,n){if(e&&e.defaultProps){n=hr({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}var pv=au(null),fv=null,Pd=null,U3=null;function L3(){U3=Pd=fv=null}function P3(e){var n=pv.current;ar(pv),e._currentValue=n}function B2(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Wd(e,n){fv=e,U3=Pd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(oa=!0),e.firstContext=null)}function ns(e){var n=e._currentValue;if(U3!==e)if(e={context:e,memoizedValue:n,next:null},Pd===null){if(fv===null)throw Error(nn(308));Pd=e,fv.dependencies={lanes:0,firstContext:e}}else Pd=Pd.next=e;return n}var ac=null;function F3(e){ac===null?ac=[e]:ac.push(e)}function vD(e,n,t,r){var s=n.interleaved;return s===null?(t.next=t,F3(n)):(t.next=s.next,s.next=t),n.interleaved=t,Wo(e,r)}function Wo(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var Nl=!1;function H3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _D(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Bl(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(yt&2)!==0){var s=r.pending;return s===null?n.next=n:(n.next=s.next,s.next=n),r.pending=n,Wo(e,t)}return s=r.interleaved,s===null?(n.next=n,F3(r)):(n.next=s.next,s.next=n),r.interleaved=n,Wo(e,t)}function Lm(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,k3(e,t)}}function nO(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,u=null;if(t=t.firstBaseUpdate,t!==null){do{var d={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};u===null?s=u=d:u=u.next=d,t=t.next}while(t!==null);u===null?s=u=n:u=u.next=n}else s=u=n;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function gv(e,n,t,r){var s=e.updateQueue;Nl=!1;var u=s.firstBaseUpdate,d=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var g=p,_=g.next;g.next=null,d===null?u=_:d.next=_,d=g;var y=e.alternate;y!==null&&(y=y.updateQueue,p=y.lastBaseUpdate,p!==d&&(p===null?y.firstBaseUpdate=_:p.next=_,y.lastBaseUpdate=g))}if(u!==null){var E=s.baseState;d=0,y=_=g=null,p=u;do{var x=p.lane,k=p.eventTime;if((r&x)===x){y!==null&&(y=y.next={eventTime:k,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var T=e,I=p;switch(x=n,k=t,I.tag){case 1:if(T=I.payload,typeof T=="function"){E=T.call(k,E,x);break e}E=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=I.payload,x=typeof T=="function"?T.call(k,E,x):T,x==null)break e;E=hr({},E,x);break e;case 2:Nl=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[p]:x.push(p))}else k={eventTime:k,lane:x,tag:p.tag,payload:p.payload,callback:p.callback,next:null},y===null?(_=y=k,g=E):y=y.next=k,d|=x;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;x=p,p=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(1);if(y===null&&(g=E),s.baseState=g,s.firstBaseUpdate=_,s.lastBaseUpdate=y,n=s.shared.interleaved,n!==null){s=n;do d|=s.lane,s=s.next;while(s!==n)}else u===null&&(s.shared.lanes=0);Ec|=d,e.lanes=d,e.memoizedState=E}}function tO(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(nn(191,s));s.call(r)}}}var bD=new vM.Component().refs;function j2(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:hr({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var Zv={isMounted:function(e){return(e=e._reactInternals)?Ic(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Gi(),s=Gl(e),u=Bo(r,s);u.payload=n,t!=null&&(u.callback=t),n=Bl(e,u,s),n!==null&&(Es(n,e,s,r),Lm(n,e,s))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Gi(),s=Gl(e),u=Bo(r,s);u.tag=1,u.payload=n,t!=null&&(u.callback=t),n=Bl(e,u,s),n!==null&&(Es(n,e,s,r),Lm(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Gi(),r=Gl(e),s=Bo(t,r);s.tag=2,n!=null&&(s.callback=n),n=Bl(e,s,r),n!==null&&(Es(n,e,r,t),Lm(n,e,r))}};function rO(e,n,t,r,s,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,d):n.prototype&&n.prototype.isPureReactComponent?!Mf(t,r)||!Mf(s,u):!0}function yD(e,n,t){var r=!1,s=Xl,u=n.contextType;return typeof u=="object"&&u!==null?u=ns(u):(s=ca(n)?_c:Di.current,r=n.contextTypes,u=(r=r!=null)?Zd(e,s):Xl),n=new n(t,u),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Zv,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=u),n}function iO(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Zv.enqueueReplaceState(n,n.state,null)}function G2(e,n,t,r){var s=e.stateNode;s.props=t,s.state=e.memoizedState,s.refs=bD,H3(e);var u=n.contextType;typeof u=="object"&&u!==null?s.context=ns(u):(u=ca(n)?_c:Di.current,s.context=Zd(e,u)),s.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(j2(e,n,u,t),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(n=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),n!==s.state&&Zv.enqueueReplaceState(s,s.state,null),gv(e,t,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zp(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(nn(309));var r=t.stateNode}if(!r)throw Error(nn(147,e));var s=r,u=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===u?n.ref:(n=function(d){var p=s.refs;p===bD&&(p=s.refs={}),d===null?delete p[u]:p[u]=d},n._stringRef=u,n)}if(typeof e!="string")throw Error(nn(284));if(!t._owner)throw Error(nn(290,e))}return e}function pm(e,n){throw e=Object.prototype.toString.call(n),Error(nn(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function aO(e){var n=e._init;return n(e._payload)}function ED(e){function n(N,O){if(e){var U=N.deletions;U===null?(N.deletions=[O],N.flags|=16):U.push(O)}}function t(N,O){if(!e)return null;for(;O!==null;)n(N,O),O=O.sibling;return null}function r(N,O){for(N=new Map;O!==null;)O.key!==null?N.set(O.key,O):N.set(O.index,O),O=O.sibling;return N}function s(N,O){return N=$l(N,O),N.index=0,N.sibling=null,N}function u(N,O,U){return N.index=U,e?(U=N.alternate,U!==null?(U=U.index,U<O?(N.flags|=2,O):U):(N.flags|=2,O)):(N.flags|=1048576,O)}function d(N){return e&&N.alternate===null&&(N.flags|=2),N}function p(N,O,U,L){return O===null||O.tag!==6?(O=ME(U,N.mode,L),O.return=N,O):(O=s(O,U),O.return=N,O)}function g(N,O,U,L){var ee=U.type;return ee===Nd?y(N,O,U.props.children,L,U.key):O!==null&&(O.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Il&&aO(ee)===O.type)?(L=s(O,U.props),L.ref=zp(N,O,U),L.return=N,L):(L=Bm(U.type,U.key,U.props,null,N.mode,L),L.ref=zp(N,O,U),L.return=N,L)}function _(N,O,U,L){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=DE(U,N.mode,L),O.return=N,O):(O=s(O,U.children||[]),O.return=N,O)}function y(N,O,U,L,ee){return O===null||O.tag!==7?(O=dc(U,N.mode,L,ee),O.return=N,O):(O=s(O,U),O.return=N,O)}function E(N,O,U){if(typeof O=="string"&&O!==""||typeof O=="number")return O=ME(""+O,N.mode,U),O.return=N,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case tm:return U=Bm(O.type,O.key,O.props,null,N.mode,U),U.ref=zp(N,null,O),U.return=N,U;case Id:return O=DE(O,N.mode,U),O.return=N,O;case Il:var L=O._init;return E(N,L(O._payload),U)}if(Jp(O)||Up(O))return O=dc(O,N.mode,U,null),O.return=N,O;pm(N,O)}return null}function x(N,O,U,L){var ee=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ee!==null?null:p(N,O,""+U,L);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case tm:return U.key===ee?g(N,O,U,L):null;case Id:return U.key===ee?_(N,O,U,L):null;case Il:return ee=U._init,x(N,O,ee(U._payload),L)}if(Jp(U)||Up(U))return ee!==null?null:y(N,O,U,L,null);pm(N,U)}return null}function k(N,O,U,L,ee){if(typeof L=="string"&&L!==""||typeof L=="number")return N=N.get(U)||null,p(O,N,""+L,ee);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case tm:return N=N.get(L.key===null?U:L.key)||null,g(O,N,L,ee);case Id:return N=N.get(L.key===null?U:L.key)||null,_(O,N,L,ee);case Il:var V=L._init;return k(N,O,U,V(L._payload),ee)}if(Jp(L)||Up(L))return N=N.get(U)||null,y(O,N,L,ee,null);pm(O,L)}return null}function T(N,O,U,L){for(var ee=null,V=null,J=O,Y=O=0,ye=null;J!==null&&Y<U.length;Y++){J.index>Y?(ye=J,J=null):ye=J.sibling;var ve=x(N,J,U[Y],L);if(ve===null){J===null&&(J=ye);break}e&&J&&ve.alternate===null&&n(N,J),O=u(ve,O,Y),V===null?ee=ve:V.sibling=ve,V=ve,J=ye}if(Y===U.length)return t(N,J),lr&&Qu(N,Y),ee;if(J===null){for(;Y<U.length;Y++)J=E(N,U[Y],L),J!==null&&(O=u(J,O,Y),V===null?ee=J:V.sibling=J,V=J);return lr&&Qu(N,Y),ee}for(J=r(N,J);Y<U.length;Y++)ye=k(J,N,Y,U[Y],L),ye!==null&&(e&&ye.alternate!==null&&J.delete(ye.key===null?Y:ye.key),O=u(ye,O,Y),V===null?ee=ye:V.sibling=ye,V=ye);return e&&J.forEach(function(Ue){return n(N,Ue)}),lr&&Qu(N,Y),ee}function I(N,O,U,L){var ee=Up(U);if(typeof ee!="function")throw Error(nn(150));if(U=ee.call(U),U==null)throw Error(nn(151));for(var V=ee=null,J=O,Y=O=0,ye=null,ve=U.next();J!==null&&!ve.done;Y++,ve=U.next()){J.index>Y?(ye=J,J=null):ye=J.sibling;var Ue=x(N,J,ve.value,L);if(Ue===null){J===null&&(J=ye);break}e&&J&&Ue.alternate===null&&n(N,J),O=u(Ue,O,Y),V===null?ee=Ue:V.sibling=Ue,V=Ue,J=ye}if(ve.done)return t(N,J),lr&&Qu(N,Y),ee;if(J===null){for(;!ve.done;Y++,ve=U.next())ve=E(N,ve.value,L),ve!==null&&(O=u(ve,O,Y),V===null?ee=ve:V.sibling=ve,V=ve);return lr&&Qu(N,Y),ee}for(J=r(N,J);!ve.done;Y++,ve=U.next())ve=k(J,N,Y,ve.value,L),ve!==null&&(e&&ve.alternate!==null&&J.delete(ve.key===null?Y:ve.key),O=u(ve,O,Y),V===null?ee=ve:V.sibling=ve,V=ve);return e&&J.forEach(function(Ne){return n(N,Ne)}),lr&&Qu(N,Y),ee}function P(N,O,U,L){if(typeof U=="object"&&U!==null&&U.type===Nd&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case tm:e:{for(var ee=U.key,V=O;V!==null;){if(V.key===ee){if(ee=U.type,ee===Nd){if(V.tag===7){t(N,V.sibling),O=s(V,U.props.children),O.return=N,N=O;break e}}else if(V.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Il&&aO(ee)===V.type){t(N,V.sibling),O=s(V,U.props),O.ref=zp(N,V,U),O.return=N,N=O;break e}t(N,V);break}else n(N,V);V=V.sibling}U.type===Nd?(O=dc(U.props.children,N.mode,L,U.key),O.return=N,N=O):(L=Bm(U.type,U.key,U.props,null,N.mode,L),L.ref=zp(N,O,U),L.return=N,N=L)}return d(N);case Id:e:{for(V=U.key;O!==null;){if(O.key===V)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){t(N,O.sibling),O=s(O,U.children||[]),O.return=N,N=O;break e}else{t(N,O);break}else n(N,O);O=O.sibling}O=DE(U,N.mode,L),O.return=N,N=O}return d(N);case Il:return V=U._init,P(N,O,V(U._payload),L)}if(Jp(U))return T(N,O,U,L);if(Up(U))return I(N,O,U,L);pm(N,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,O!==null&&O.tag===6?(t(N,O.sibling),O=s(O,U),O.return=N,N=O):(t(N,O),O=ME(U,N.mode,L),O.return=N,N=O),d(N)):t(N,O)}return P}var eh=ED(!0),wD=ED(!1),a0={},Js=au(a0),Pf=au(a0),Ff=au(a0);function sc(e){if(e===a0)throw Error(nn(174));return e}function z3(e,n){switch(er(Ff,n),er(Pf,e),er(Js,a0),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:w2(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=w2(n,e)}ar(Js),er(Js,n)}function nh(){ar(Js),ar(Pf),ar(Ff)}function xD(e){sc(Ff.current);var n=sc(Js.current),t=w2(n,e.type);n!==t&&(er(Pf,e),er(Js,t))}function q3(e){Pf.current===e&&(ar(Js),ar(Pf))}var cr=au(0);function mv(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var TE=[];function B3(){for(var e=0;e<TE.length;e++)TE[e]._workInProgressVersionPrimary=null;TE.length=0}var Pm=Qo.ReactCurrentDispatcher,IE=Qo.ReactCurrentBatchConfig,yc=0,dr=null,Ur=null,Gr=null,vv=!1,hf=!1,Hf=0,kne=0;function xi(){throw Error(nn(321))}function j3(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!xs(e[t],n[t]))return!1;return!0}function G3(e,n,t,r,s,u){if(yc=u,dr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Pm.current=e===null||e.memoizedState===null?Ine:Nne,e=t(r,s),hf){u=0;do{if(hf=!1,Hf=0,25<=u)throw Error(nn(301));u+=1,Gr=Ur=null,n.updateQueue=null,Pm.current=One,e=t(r,s)}while(hf)}if(Pm.current=_v,n=Ur!==null&&Ur.next!==null,yc=0,Gr=Ur=dr=null,vv=!1,n)throw Error(nn(300));return e}function $3(){var e=Hf!==0;return Hf=0,e}function Vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?dr.memoizedState=Gr=e:Gr=Gr.next=e,Gr}function ts(){if(Ur===null){var e=dr.alternate;e=e!==null?e.memoizedState:null}else e=Ur.next;var n=Gr===null?dr.memoizedState:Gr.next;if(n!==null)Gr=n,Ur=e;else{if(e===null)throw Error(nn(310));Ur=e,e={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},Gr===null?dr.memoizedState=Gr=e:Gr=Gr.next=e}return Gr}function zf(e,n){return typeof n=="function"?n(e):n}function NE(e){var n=ts(),t=n.queue;if(t===null)throw Error(nn(311));t.lastRenderedReducer=e;var r=Ur,s=r.baseQueue,u=t.pending;if(u!==null){if(s!==null){var d=s.next;s.next=u.next,u.next=d}r.baseQueue=s=u,t.pending=null}if(s!==null){u=s.next,r=r.baseState;var p=d=null,g=null,_=u;do{var y=_.lane;if((yc&y)===y)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:e(r,_.action);else{var E={lane:y,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(p=g=E,d=r):g=g.next=E,dr.lanes|=y,Ec|=y}_=_.next}while(_!==null&&_!==u);g===null?d=r:g.next=p,xs(r,n.memoizedState)||(oa=!0),n.memoizedState=r,n.baseState=d,n.baseQueue=g,t.lastRenderedState=r}if(e=t.interleaved,e!==null){s=e;do u=s.lane,dr.lanes|=u,Ec|=u,s=s.next;while(s!==e)}else s===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function OE(e){var n=ts(),t=n.queue;if(t===null)throw Error(nn(311));t.lastRenderedReducer=e;var r=t.dispatch,s=t.pending,u=n.memoizedState;if(s!==null){t.pending=null;var d=s=s.next;do u=e(u,d.action),d=d.next;while(d!==s);xs(u,n.memoizedState)||(oa=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),t.lastRenderedState=u}return[u,r]}function kD(){}function SD(e,n){var t=dr,r=ts(),s=n(),u=!xs(r.memoizedState,s);if(u&&(r.memoizedState=s,oa=!0),r=r.queue,V3(ID.bind(null,t,r,e),[e]),r.getSnapshot!==n||u||Gr!==null&&Gr.memoizedState.tag&1){if(t.flags|=2048,qf(9,TD.bind(null,t,r,s,n),void 0,null),Kr===null)throw Error(nn(349));(yc&30)!==0||CD(t,n,s)}return s}function CD(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=dr.updateQueue,n===null?(n={lastEffect:null,stores:null},dr.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function TD(e,n,t,r){n.value=t,n.getSnapshot=r,ND(n)&&OD(e)}function ID(e,n,t){return t(function(){ND(n)&&OD(e)})}function ND(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!xs(e,t)}catch{return!0}}function OD(e){var n=Wo(e,1);n!==null&&Es(n,e,1,-1)}function sO(e){var n=Vs();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:e},n.queue=e,e=e.dispatch=Tne.bind(null,dr,e),[n.memoizedState,e]}function qf(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=dr.updateQueue,n===null?(n={lastEffect:null,stores:null},dr.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function AD(){return ts().memoizedState}function Fm(e,n,t,r){var s=Vs();dr.flags|=e,s.memoizedState=qf(1|n,t,void 0,r===void 0?null:r)}function Jv(e,n,t,r){var s=ts();r=r===void 0?null:r;var u=void 0;if(Ur!==null){var d=Ur.memoizedState;if(u=d.destroy,r!==null&&j3(r,d.deps)){s.memoizedState=qf(n,t,u,r);return}}dr.flags|=e,s.memoizedState=qf(1|n,t,u,r)}function oO(e,n){return Fm(8390656,8,e,n)}function V3(e,n){return Jv(2048,8,e,n)}function RD(e,n){return Jv(4,2,e,n)}function MD(e,n){return Jv(4,4,e,n)}function DD(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function UD(e,n,t){return t=t!=null?t.concat([e]):null,Jv(4,4,DD.bind(null,n,e),t)}function W3(){}function LD(e,n){var t=ts();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&j3(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function PD(e,n){var t=ts();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&j3(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function FD(e,n,t){return(yc&21)===0?(e.baseState&&(e.baseState=!1,oa=!0),e.memoizedState=t):(xs(t,n)||(t=qM(),dr.lanes|=t,Ec|=t,e.baseState=!0),n)}function Sne(e,n){var t=Ht;Ht=t!==0&&4>t?t:4,e(!0);var r=IE.transition;IE.transition={};try{e(!1),n()}finally{Ht=t,IE.transition=r}}function HD(){return ts().memoizedState}function Cne(e,n,t){var r=Gl(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},zD(e))qD(n,t);else if(t=vD(e,n,t,r),t!==null){var s=Gi();Es(t,e,r,s),BD(t,n,r)}}function Tne(e,n,t){var r=Gl(e),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(zD(e))qD(n,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var d=n.lastRenderedState,p=u(d,t);if(s.hasEagerState=!0,s.eagerState=p,xs(p,d)){var g=n.interleaved;g===null?(s.next=s,F3(n)):(s.next=g.next,g.next=s),n.interleaved=s;return}}catch{}finally{}t=vD(e,n,s,r),t!==null&&(s=Gi(),Es(t,e,r,s),BD(t,n,r))}}function zD(e){var n=e.alternate;return e===dr||n!==null&&n===dr}function qD(e,n){hf=vv=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function BD(e,n,t){if((t&4194240)!==0){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,k3(e,t)}}var _v={readContext:ns,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},Ine={readContext:ns,useCallback:function(e,n){return Vs().memoizedState=[e,n===void 0?null:n],e},useContext:ns,useEffect:oO,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,Fm(4194308,4,DD.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Fm(4194308,4,e,n)},useInsertionEffect:function(e,n){return Fm(4,2,e,n)},useMemo:function(e,n){var t=Vs();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Vs();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=Cne.bind(null,dr,e),[r.memoizedState,e]},useRef:function(e){var n=Vs();return e={current:e},n.memoizedState=e},useState:sO,useDebugValue:W3,useDeferredValue:function(e){return Vs().memoizedState=e},useTransition:function(){var e=sO(!1),n=e[0];return e=Sne.bind(null,e[1]),Vs().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=dr,s=Vs();if(lr){if(t===void 0)throw Error(nn(407));t=t()}else{if(t=n(),Kr===null)throw Error(nn(349));(yc&30)!==0||CD(r,n,t)}s.memoizedState=t;var u={value:t,getSnapshot:n};return s.queue=u,oO(ID.bind(null,r,u,e),[e]),r.flags|=2048,qf(9,TD.bind(null,r,u,t,n),void 0,null),t},useId:function(){var e=Vs(),n=Kr.identifierPrefix;if(lr){var t=Ho,r=Fo;t=(r&~(1<<32-ys(r)-1)).toString(32)+t,n=":"+n+"R"+t,t=Hf++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=kne++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Nne={readContext:ns,useCallback:LD,useContext:ns,useEffect:V3,useImperativeHandle:UD,useInsertionEffect:RD,useLayoutEffect:MD,useMemo:PD,useReducer:NE,useRef:AD,useState:function(){return NE(zf)},useDebugValue:W3,useDeferredValue:function(e){var n=ts();return FD(n,Ur.memoizedState,e)},useTransition:function(){var e=NE(zf)[0],n=ts().memoizedState;return[e,n]},useMutableSource:kD,useSyncExternalStore:SD,useId:HD,unstable_isNewReconciler:!1},One={readContext:ns,useCallback:LD,useContext:ns,useEffect:V3,useImperativeHandle:UD,useInsertionEffect:RD,useLayoutEffect:MD,useMemo:PD,useReducer:OE,useRef:AD,useState:function(){return OE(zf)},useDebugValue:W3,useDeferredValue:function(e){var n=ts();return Ur===null?n.memoizedState=e:FD(n,Ur.memoizedState,e)},useTransition:function(){var e=OE(zf)[0],n=ts().memoizedState;return[e,n]},useMutableSource:kD,useSyncExternalStore:SD,useId:HD,unstable_isNewReconciler:!1};function th(e,n){try{var t="",r=n;do t+=iee(r),r=r.return;while(r);var s=t}catch(u){s=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:n,stack:s,digest:null}}function AE(e,n,t){return{value:e,source:null,stack:t!=null?t:null,digest:n!=null?n:null}}function $2(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var Ane=typeof WeakMap=="function"?WeakMap:Map;function jD(e,n,t){t=Bo(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){yv||(yv=!0,nw=r),$2(e,n)},t}function GD(e,n,t){t=Bo(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=n.value;t.payload=function(){return r(s)},t.callback=function(){$2(e,n)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){$2(e,n),typeof r!="function"&&(jl===null?jl=new Set([this]):jl.add(this));var d=n.stack;this.componentDidCatch(n.value,{componentStack:d!==null?d:""})}),t}function lO(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new Ane;var s=new Set;r.set(n,s)}else s=r.get(n),s===void 0&&(s=new Set,r.set(n,s));s.has(t)||(s.add(t),e=$ne.bind(null,e,n,t),n.then(e,e))}function uO(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function cO(e,n,t,r,s){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=Bo(-1,1),n.tag=2,Bl(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Rne=Qo.ReactCurrentOwner,oa=!1;function zi(e,n,t,r){n.child=e===null?wD(n,null,t,r):eh(n,e.child,t,r)}function dO(e,n,t,r,s){t=t.render;var u=n.ref;return Wd(n,s),r=G3(e,n,t,r,u,s),t=$3(),e!==null&&!oa?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,Ko(e,n,s)):(lr&&t&&R3(n),n.flags|=1,zi(e,n,r,s),n.child)}function hO(e,n,t,r,s){if(e===null){var u=t.type;return typeof u=="function"&&!nk(u)&&u.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=u,$D(e,n,u,r,s)):(e=Bm(t.type,null,r,n,n.mode,s),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,(e.lanes&s)===0){var d=u.memoizedProps;if(t=t.compare,t=t!==null?t:Mf,t(d,r)&&e.ref===n.ref)return Ko(e,n,s)}return n.flags|=1,e=$l(u,r),e.ref=n.ref,e.return=n,n.child=e}function $D(e,n,t,r,s){if(e!==null){var u=e.memoizedProps;if(Mf(u,r)&&e.ref===n.ref)if(oa=!1,n.pendingProps=r=u,(e.lanes&s)!==0)(e.flags&131072)!==0&&(oa=!0);else return n.lanes=e.lanes,Ko(e,n,s)}return V2(e,n,t,r,s)}function VD(e,n,t){var r=n.pendingProps,s=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Hd,wa),wa|=t;else{if((t&1073741824)===0)return e=u!==null?u.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,er(Hd,wa),wa|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:t,er(Hd,wa),wa|=r}else u!==null?(r=u.baseLanes|t,n.memoizedState=null):r=t,er(Hd,wa),wa|=r;return zi(e,n,s,t),n.child}function WD(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function V2(e,n,t,r,s){var u=ca(t)?_c:Di.current;return u=Zd(n,u),Wd(n,s),t=G3(e,n,t,r,u,s),r=$3(),e!==null&&!oa?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,Ko(e,n,s)):(lr&&r&&R3(n),n.flags|=1,zi(e,n,t,s),n.child)}function pO(e,n,t,r,s){if(ca(t)){var u=!0;cv(n)}else u=!1;if(Wd(n,s),n.stateNode===null)Hm(e,n),yD(n,t,r),G2(n,t,r,s),r=!0;else if(e===null){var d=n.stateNode,p=n.memoizedProps;d.props=p;var g=d.context,_=t.contextType;typeof _=="object"&&_!==null?_=ns(_):(_=ca(t)?_c:Di.current,_=Zd(n,_));var y=t.getDerivedStateFromProps,E=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==r||g!==_)&&iO(n,d,r,_),Nl=!1;var x=n.memoizedState;d.state=x,gv(n,r,d,s),g=n.memoizedState,p!==r||x!==g||ua.current||Nl?(typeof y=="function"&&(j2(n,t,y,r),g=n.memoizedState),(p=Nl||rO(n,t,p,r,x,g,_))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=g),d.props=r,d.state=g,d.context=_,r=p):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{d=n.stateNode,_D(e,n),p=n.memoizedProps,_=n.type===n.elementType?p:fs(n.type,p),d.props=_,E=n.pendingProps,x=d.context,g=t.contextType,typeof g=="object"&&g!==null?g=ns(g):(g=ca(t)?_c:Di.current,g=Zd(n,g));var k=t.getDerivedStateFromProps;(y=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==E||x!==g)&&iO(n,d,r,g),Nl=!1,x=n.memoizedState,d.state=x,gv(n,r,d,s);var T=n.memoizedState;p!==E||x!==T||ua.current||Nl?(typeof k=="function"&&(j2(n,t,k,r),T=n.memoizedState),(_=Nl||rO(n,t,_,r,x,T,g)||!1)?(y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,T,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,T,g)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=T),d.props=r,d.state=T,d.context=g,r=_):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),r=!1)}return W2(e,n,t,r,u,s)}function W2(e,n,t,r,s,u){WD(e,n);var d=(n.flags&128)!==0;if(!r&&!d)return s&&Z4(n,t,!1),Ko(e,n,u);r=n.stateNode,Rne.current=n;var p=d&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&d?(n.child=eh(n,e.child,null,u),n.child=eh(n,null,p,u)):zi(e,n,p,u),n.memoizedState=r.state,s&&Z4(n,t,!0),n.child}function KD(e){var n=e.stateNode;n.pendingContext?X4(e,n.pendingContext,n.pendingContext!==n.context):n.context&&X4(e,n.context,!1),z3(e,n.containerInfo)}function fO(e,n,t,r,s){return Jd(),D3(s),n.flags|=256,zi(e,n,t,r),n.child}var K2={dehydrated:null,treeContext:null,retryLane:0};function Q2(e){return{baseLanes:e,cachePool:null,transitions:null}}function QD(e,n,t){var r=n.pendingProps,s=cr.current,u=!1,d=(n.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(s&2)!==0),p?(u=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),er(cr,s&1),e===null)return q2(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(d=r.children,e=r.fallback,u?(r=n.mode,u=n.child,d={mode:"hidden",children:d},(r&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=d):u=t_(d,r,0,null),e=dc(e,r,t,null),u.return=n,e.return=n,u.sibling=e,n.child=u,n.child.memoizedState=Q2(t),n.memoizedState=K2,e):K3(n,d));if(s=e.memoizedState,s!==null&&(p=s.dehydrated,p!==null))return Mne(e,n,d,r,p,s,t);if(u){u=r.fallback,d=n.mode,s=e.child,p=s.sibling;var g={mode:"hidden",children:r.children};return(d&1)===0&&n.child!==s?(r=n.child,r.childLanes=0,r.pendingProps=g,n.deletions=null):(r=$l(s,g),r.subtreeFlags=s.subtreeFlags&14680064),p!==null?u=$l(p,u):(u=dc(u,d,t,null),u.flags|=2),u.return=n,r.return=n,r.sibling=u,n.child=r,r=u,u=n.child,d=e.child.memoizedState,d=d===null?Q2(t):{baseLanes:d.baseLanes|t,cachePool:null,transitions:d.transitions},u.memoizedState=d,u.childLanes=e.childLanes&~t,n.memoizedState=K2,r}return u=e.child,e=u.sibling,r=$l(u,{mode:"visible",children:r.children}),(n.mode&1)===0&&(r.lanes=t),r.return=n,r.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function K3(e,n){return n=t_({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function fm(e,n,t,r){return r!==null&&D3(r),eh(n,e.child,null,t),e=K3(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Mne(e,n,t,r,s,u,d){if(t)return n.flags&256?(n.flags&=-257,r=AE(Error(nn(422))),fm(e,n,d,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(u=r.fallback,s=n.mode,r=t_({mode:"visible",children:r.children},s,0,null),u=dc(u,s,d,null),u.flags|=2,r.return=n,u.return=n,r.sibling=u,n.child=r,(n.mode&1)!==0&&eh(n,e.child,null,d),n.child.memoizedState=Q2(d),n.memoizedState=K2,u);if((n.mode&1)===0)return fm(e,n,d,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var p=r.dgst;return r=p,u=Error(nn(419)),r=AE(u,r,void 0),fm(e,n,d,r)}if(p=(d&e.childLanes)!==0,oa||p){if(r=Kr,r!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(r.suspendedLanes|d))!==0?0:s,s!==0&&s!==u.retryLane&&(u.retryLane=s,Wo(e,s),Es(r,e,s,-1))}return ek(),r=AE(Error(nn(421))),fm(e,n,d,r)}return s.data==="$?"?(n.flags|=128,n.child=e.child,n=Vne.bind(null,e),s._reactRetry=n,null):(e=u.treeContext,ka=ql(s.nextSibling),Sa=n,lr=!0,vs=null,e!==null&&(Ga[$a++]=Fo,Ga[$a++]=Ho,Ga[$a++]=bc,Fo=e.id,Ho=e.overflow,bc=n),n=K3(n,r.children),n.flags|=4096,n)}function gO(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),B2(e.return,n,t)}function RE(e,n,t,r,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=t,u.tailMode=s)}function YD(e,n,t){var r=n.pendingProps,s=r.revealOrder,u=r.tail;if(zi(e,n,r.children,t),r=cr.current,(r&2)!==0)r=r&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gO(e,t,n);else if(e.tag===19)gO(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(er(cr,r),(n.mode&1)===0)n.memoizedState=null;else switch(s){case"forwards":for(t=n.child,s=null;t!==null;)e=t.alternate,e!==null&&mv(e)===null&&(s=t),t=t.sibling;t=s,t===null?(s=n.child,n.child=null):(s=t.sibling,t.sibling=null),RE(n,!1,s,t,u);break;case"backwards":for(t=null,s=n.child,n.child=null;s!==null;){if(e=s.alternate,e!==null&&mv(e)===null){n.child=s;break}e=s.sibling,s.sibling=t,t=s,s=e}RE(n,!0,t,null,u);break;case"together":RE(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hm(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ko(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),Ec|=n.lanes,(t&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(nn(153));if(n.child!==null){for(e=n.child,t=$l(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=$l(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function Dne(e,n,t){switch(n.tag){case 3:KD(n),Jd();break;case 5:xD(n);break;case 1:ca(n.type)&&cv(n);break;case 4:z3(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,s=n.memoizedProps.value;er(pv,r._currentValue),r._currentValue=s;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(er(cr,cr.current&1),n.flags|=128,null):(t&n.child.childLanes)!==0?QD(e,n,t):(er(cr,cr.current&1),e=Ko(e,n,t),e!==null?e.sibling:null);er(cr,cr.current&1);break;case 19:if(r=(t&n.childLanes)!==0,(e.flags&128)!==0){if(r)return YD(e,n,t);n.flags|=128}if(s=n.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),er(cr,cr.current),r)break;return null;case 22:case 23:return n.lanes=0,VD(e,n,t)}return Ko(e,n,t)}var XD,Y2,ZD,JD;XD=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Y2=function(){};ZD=function(e,n,t,r){var s=e.memoizedProps;if(s!==r){e=n.stateNode,sc(Js.current);var u=null;switch(t){case"input":s=_2(e,s),r=_2(e,r),u=[];break;case"select":s=hr({},s,{value:void 0}),r=hr({},r,{value:void 0}),u=[];break;case"textarea":s=E2(e,s),r=E2(e,r),u=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=lv)}x2(t,r);var d;t=null;for(_ in s)if(!r.hasOwnProperty(_)&&s.hasOwnProperty(_)&&s[_]!=null)if(_==="style"){var p=s[_];for(d in p)p.hasOwnProperty(d)&&(t||(t={}),t[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Cf.hasOwnProperty(_)?u||(u=[]):(u=u||[]).push(_,null));for(_ in r){var g=r[_];if(p=s!=null?s[_]:void 0,r.hasOwnProperty(_)&&g!==p&&(g!=null||p!=null))if(_==="style")if(p){for(d in p)!p.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(t||(t={}),t[d]="");for(d in g)g.hasOwnProperty(d)&&p[d]!==g[d]&&(t||(t={}),t[d]=g[d])}else t||(u||(u=[]),u.push(_,t)),t=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,p=p?p.__html:void 0,g!=null&&p!==g&&(u=u||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(u=u||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(Cf.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&ir("scroll",e),u||p===g||(u=[])):(u=u||[]).push(_,g))}t&&(u=u||[]).push("style",t);var _=u;(n.updateQueue=_)&&(n.flags|=4)}};JD=function(e,n,t,r){t!==r&&(n.flags|=4)};function qp(e,n){if(!lr)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ki(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var s=e.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Une(e,n,t){var r=n.pendingProps;switch(M3(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(n),null;case 1:return ca(n.type)&&uv(),ki(n),null;case 3:return r=n.stateNode,nh(),ar(ua),ar(Di),B3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hm(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vs!==null&&(iw(vs),vs=null))),Y2(e,n),ki(n),null;case 5:q3(n);var s=sc(Ff.current);if(t=n.type,e!==null&&n.stateNode!=null)ZD(e,n,t,r,s),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(nn(166));return ki(n),null}if(e=sc(Js.current),hm(n)){r=n.stateNode,t=n.type;var u=n.memoizedProps;switch(r[Qs]=n,r[Lf]=u,e=(n.mode&1)!==0,t){case"dialog":ir("cancel",r),ir("close",r);break;case"iframe":case"object":case"embed":ir("load",r);break;case"video":case"audio":for(s=0;s<nf.length;s++)ir(nf[s],r);break;case"source":ir("error",r);break;case"img":case"image":case"link":ir("error",r),ir("load",r);break;case"details":ir("toggle",r);break;case"input":k4(r,u),ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},ir("invalid",r);break;case"textarea":C4(r,u),ir("invalid",r)}x2(t,u),s=null;for(var d in u)if(u.hasOwnProperty(d)){var p=u[d];d==="children"?typeof p=="string"?r.textContent!==p&&(u.suppressHydrationWarning!==!0&&dm(r.textContent,p,e),s=["children",p]):typeof p=="number"&&r.textContent!==""+p&&(u.suppressHydrationWarning!==!0&&dm(r.textContent,p,e),s=["children",""+p]):Cf.hasOwnProperty(d)&&p!=null&&d==="onScroll"&&ir("scroll",r)}switch(t){case"input":rm(r),S4(r,u,!0);break;case"textarea":rm(r),T4(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=lv)}r=s,n.updateQueue=r,r!==null&&(n.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=CM(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(t,{is:r.is}):(e=d.createElement(t),t==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,t),e[Qs]=n,e[Lf]=r,XD(e,n,!1,!1),n.stateNode=e;e:{switch(d=k2(t,r),t){case"dialog":ir("cancel",e),ir("close",e),s=r;break;case"iframe":case"object":case"embed":ir("load",e),s=r;break;case"video":case"audio":for(s=0;s<nf.length;s++)ir(nf[s],e);s=r;break;case"source":ir("error",e),s=r;break;case"img":case"image":case"link":ir("error",e),ir("load",e),s=r;break;case"details":ir("toggle",e),s=r;break;case"input":k4(e,r),s=_2(e,r),ir("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=hr({},r,{value:void 0}),ir("invalid",e);break;case"textarea":C4(e,r),s=E2(e,r),ir("invalid",e);break;default:s=r}x2(t,s),p=s;for(u in p)if(p.hasOwnProperty(u)){var g=p[u];u==="style"?NM(e,g):u==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&TM(e,g)):u==="children"?typeof g=="string"?(t!=="textarea"||g!=="")&&Tf(e,g):typeof g=="number"&&Tf(e,""+g):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cf.hasOwnProperty(u)?g!=null&&u==="onScroll"&&ir("scroll",e):g!=null&&_3(e,u,g,d))}switch(t){case"input":rm(e),S4(e,r,!1);break;case"textarea":rm(e),T4(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yl(r.value));break;case"select":e.multiple=!!r.multiple,u=r.value,u!=null?jd(e,!!r.multiple,u,!1):r.defaultValue!=null&&jd(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=lv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return ki(n),null;case 6:if(e&&n.stateNode!=null)JD(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(nn(166));if(t=sc(Ff.current),sc(Js.current),hm(n)){if(r=n.stateNode,t=n.memoizedProps,r[Qs]=n,(u=r.nodeValue!==t)&&(e=Sa,e!==null))switch(e.tag){case 3:dm(r.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dm(r.nodeValue,t,(e.mode&1)!==0)}u&&(n.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Qs]=n,n.stateNode=r}return ki(n),null;case 13:if(ar(cr),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&ka!==null&&(n.mode&1)!==0&&(n.flags&128)===0)mD(),Jd(),n.flags|=98560,u=!1;else if(u=hm(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(nn(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(nn(317));u[Qs]=n}else Jd(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ki(n),u=!1}else vs!==null&&(iw(vs),vs=null),u=!0;if(!u)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=t,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(cr.current&1)!==0?Pr===0&&(Pr=3):ek())),n.updateQueue!==null&&(n.flags|=4),ki(n),null);case 4:return nh(),Y2(e,n),e===null&&Df(n.stateNode.containerInfo),ki(n),null;case 10:return P3(n.type._context),ki(n),null;case 17:return ca(n.type)&&uv(),ki(n),null;case 19:if(ar(cr),u=n.memoizedState,u===null)return ki(n),null;if(r=(n.flags&128)!==0,d=u.rendering,d===null)if(r)qp(u,!1);else{if(Pr!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=mv(e),d!==null){for(n.flags|=128,qp(u,!1),r=d.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;t!==null;)u=t,e=r,u.flags&=14680066,d=u.alternate,d===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=d.childLanes,u.lanes=d.lanes,u.child=d.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=d.memoizedProps,u.memoizedState=d.memoizedState,u.updateQueue=d.updateQueue,u.type=d.type,e=d.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return er(cr,cr.current&1|2),n.child}e=e.sibling}u.tail!==null&&xr()>rh&&(n.flags|=128,r=!0,qp(u,!1),n.lanes=4194304)}else{if(!r)if(e=mv(d),e!==null){if(n.flags|=128,r=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),qp(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!lr)return ki(n),null}else 2*xr()-u.renderingStartTime>rh&&t!==1073741824&&(n.flags|=128,r=!0,qp(u,!1),n.lanes=4194304);u.isBackwards?(d.sibling=n.child,n.child=d):(t=u.last,t!==null?t.sibling=d:n.child=d,u.last=d)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=xr(),n.sibling=null,t=cr.current,er(cr,r?t&1|2:t&1),n):(ki(n),null);case 22:case 23:return J3(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&(n.mode&1)!==0?(wa&1073741824)!==0&&(ki(n),n.subtreeFlags&6&&(n.flags|=8192)):ki(n),null;case 24:return null;case 25:return null}throw Error(nn(156,n.tag))}function Lne(e,n){switch(M3(n),n.tag){case 1:return ca(n.type)&&uv(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return nh(),ar(ua),ar(Di),B3(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return q3(n),null;case 13:if(ar(cr),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(nn(340));Jd()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ar(cr),null;case 4:return nh(),null;case 10:return P3(n.type._context),null;case 22:case 23:return J3(),null;case 24:return null;default:return null}}var gm=!1,Ri=!1,Pne=typeof WeakSet=="function"?WeakSet:Set,vn=null;function Fd(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){vr(e,n,r)}else t.current=null}function X2(e,n,t){try{t()}catch(r){vr(e,n,r)}}var mO=!1;function Fne(e,n){if(D2=av,e=rD(),A3(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{t.nodeType,u.nodeType}catch{t=null;break e}var d=0,p=-1,g=-1,_=0,y=0,E=e,x=null;n:for(;;){for(var k;E!==t||s!==0&&E.nodeType!==3||(p=d+s),E!==u||r!==0&&E.nodeType!==3||(g=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(k=E.firstChild)!==null;)x=E,E=k;for(;;){if(E===e)break n;if(x===t&&++_===s&&(p=d),x===u&&++y===r&&(g=d),(k=E.nextSibling)!==null)break;E=x,x=E.parentNode}E=k}t=p===-1||g===-1?null:{start:p,end:g}}else t=null}t=t||{start:0,end:0}}else t=null;for(U2={focusedElem:e,selectionRange:t},av=!1,vn=n;vn!==null;)if(n=vn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,vn=e;else for(;vn!==null;){n=vn;try{var T=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var I=T.memoizedProps,P=T.memoizedState,N=n.stateNode,O=N.getSnapshotBeforeUpdate(n.elementType===n.type?I:fs(n.type,I),P);N.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var U=n.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nn(163))}}catch(L){vr(n,n.return,L)}if(e=n.sibling,e!==null){e.return=n.return,vn=e;break}vn=n.return}return T=mO,mO=!1,T}function pf(e,n,t){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var u=s.destroy;s.destroy=void 0,u!==void 0&&X2(n,t,u)}s=s.next}while(s!==r)}}function e_(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function Z2(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function eU(e){var n=e.alternate;n!==null&&(e.alternate=null,eU(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Qs],delete n[Lf],delete n[F2],delete n[yne],delete n[Ene])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nU(e){return e.tag===5||e.tag===3||e.tag===4}function vO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function J2(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=lv));else if(r!==4&&(e=e.child,e!==null))for(J2(e,n,t),e=e.sibling;e!==null;)J2(e,n,t),e=e.sibling}function ew(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ew(e,n,t),e=e.sibling;e!==null;)ew(e,n,t),e=e.sibling}var ai=null,gs=!1;function wl(e,n,t){for(t=t.child;t!==null;)tU(e,n,t),t=t.sibling}function tU(e,n,t){if(Zs&&typeof Zs.onCommitFiberUnmount=="function")try{Zs.onCommitFiberUnmount(Vv,t)}catch{}switch(t.tag){case 5:Ri||Fd(t,n);case 6:var r=ai,s=gs;ai=null,wl(e,n,t),ai=r,gs=s,ai!==null&&(gs?(e=ai,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):ai.removeChild(t.stateNode));break;case 18:ai!==null&&(gs?(e=ai,t=t.stateNode,e.nodeType===8?SE(e.parentNode,t):e.nodeType===1&&SE(e,t),Af(e)):SE(ai,t.stateNode));break;case 4:r=ai,s=gs,ai=t.stateNode.containerInfo,gs=!0,wl(e,n,t),ai=r,gs=s;break;case 0:case 11:case 14:case 15:if(!Ri&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var u=s,d=u.destroy;u=u.tag,d!==void 0&&((u&2)!==0||(u&4)!==0)&&X2(t,n,d),s=s.next}while(s!==r)}wl(e,n,t);break;case 1:if(!Ri&&(Fd(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(p){vr(t,n,p)}wl(e,n,t);break;case 21:wl(e,n,t);break;case 22:t.mode&1?(Ri=(r=Ri)||t.memoizedState!==null,wl(e,n,t),Ri=r):wl(e,n,t);break;default:wl(e,n,t)}}function _O(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new Pne),n.forEach(function(r){var s=Wne.bind(null,e,r);t.has(r)||(t.add(r),r.then(s,s))})}}function hs(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var u=e,d=n,p=d;e:for(;p!==null;){switch(p.tag){case 5:ai=p.stateNode,gs=!1;break e;case 3:ai=p.stateNode.containerInfo,gs=!0;break e;case 4:ai=p.stateNode.containerInfo,gs=!0;break e}p=p.return}if(ai===null)throw Error(nn(160));tU(u,d,s),ai=null,gs=!1;var g=s.alternate;g!==null&&(g.return=null),s.return=null}catch(_){vr(s,n,_)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)rU(n,e),n=n.sibling}function rU(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(n,e),Bs(e),r&4){try{pf(3,e,e.return),e_(3,e)}catch(I){vr(e,e.return,I)}try{pf(5,e,e.return)}catch(I){vr(e,e.return,I)}}break;case 1:hs(n,e),Bs(e),r&512&&t!==null&&Fd(t,t.return);break;case 5:if(hs(n,e),Bs(e),r&512&&t!==null&&Fd(t,t.return),e.flags&32){var s=e.stateNode;try{Tf(s,"")}catch(I){vr(e,e.return,I)}}if(r&4&&(s=e.stateNode,s!=null)){var u=e.memoizedProps,d=t!==null?t.memoizedProps:u,p=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{p==="input"&&u.type==="radio"&&u.name!=null&&kM(s,u),k2(p,d);var _=k2(p,u);for(d=0;d<g.length;d+=2){var y=g[d],E=g[d+1];y==="style"?NM(s,E):y==="dangerouslySetInnerHTML"?TM(s,E):y==="children"?Tf(s,E):_3(s,y,E,_)}switch(p){case"input":b2(s,u);break;case"textarea":SM(s,u);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!u.multiple;var k=u.value;k!=null?jd(s,!!u.multiple,k,!1):x!==!!u.multiple&&(u.defaultValue!=null?jd(s,!!u.multiple,u.defaultValue,!0):jd(s,!!u.multiple,u.multiple?[]:"",!1))}s[Lf]=u}catch(I){vr(e,e.return,I)}}break;case 6:if(hs(n,e),Bs(e),r&4){if(e.stateNode===null)throw Error(nn(162));s=e.stateNode,u=e.memoizedProps;try{s.nodeValue=u}catch(I){vr(e,e.return,I)}}break;case 3:if(hs(n,e),Bs(e),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Af(n.containerInfo)}catch(I){vr(e,e.return,I)}break;case 4:hs(n,e),Bs(e);break;case 13:hs(n,e),Bs(e),s=e.child,s.flags&8192&&(u=s.memoizedState!==null,s.stateNode.isHidden=u,!u||s.alternate!==null&&s.alternate.memoizedState!==null||(X3=xr())),r&4&&_O(e);break;case 22:if(y=t!==null&&t.memoizedState!==null,e.mode&1?(Ri=(_=Ri)||y,hs(n,e),Ri=_):hs(n,e),Bs(e),r&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!y&&(e.mode&1)!==0)for(vn=e,y=e.child;y!==null;){for(E=vn=y;vn!==null;){switch(x=vn,k=x.child,x.tag){case 0:case 11:case 14:case 15:pf(4,x,x.return);break;case 1:Fd(x,x.return);var T=x.stateNode;if(typeof T.componentWillUnmount=="function"){r=x,t=x.return;try{n=r,T.props=n.memoizedProps,T.state=n.memoizedState,T.componentWillUnmount()}catch(I){vr(r,t,I)}}break;case 5:Fd(x,x.return);break;case 22:if(x.memoizedState!==null){yO(E);continue}}k!==null?(k.return=x,vn=k):yO(E)}y=y.sibling}e:for(y=null,E=e;;){if(E.tag===5){if(y===null){y=E;try{s=E.stateNode,_?(u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(p=E.stateNode,g=E.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,p.style.display=IM("display",d))}catch(I){vr(e,e.return,I)}}}else if(E.tag===6){if(y===null)try{E.stateNode.nodeValue=_?"":E.memoizedProps}catch(I){vr(e,e.return,I)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;y===E&&(y=null),E=E.return}y===E&&(y=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:hs(n,e),Bs(e),r&4&&_O(e);break;case 21:break;default:hs(n,e),Bs(e)}}function Bs(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(nU(t)){var r=t;break e}t=t.return}throw Error(nn(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Tf(s,""),r.flags&=-33);var u=vO(e);ew(e,u,s);break;case 3:case 4:var d=r.stateNode.containerInfo,p=vO(e);J2(e,p,d);break;default:throw Error(nn(161))}}catch(g){vr(e,e.return,g)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hne(e,n,t){vn=e,iU(e)}function iU(e,n,t){for(var r=(e.mode&1)!==0;vn!==null;){var s=vn,u=s.child;if(s.tag===22&&r){var d=s.memoizedState!==null||gm;if(!d){var p=s.alternate,g=p!==null&&p.memoizedState!==null||Ri;p=gm;var _=Ri;if(gm=d,(Ri=g)&&!_)for(vn=s;vn!==null;)d=vn,g=d.child,d.tag===22&&d.memoizedState!==null?EO(s):g!==null?(g.return=d,vn=g):EO(s);for(;u!==null;)vn=u,iU(u),u=u.sibling;vn=s,gm=p,Ri=_}bO(e)}else(s.subtreeFlags&8772)!==0&&u!==null?(u.return=s,vn=u):bO(e)}}function bO(e){for(;vn!==null;){var n=vn;if((n.flags&8772)!==0){var t=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ri||e_(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!Ri)if(t===null)r.componentDidMount();else{var s=n.elementType===n.type?t.memoizedProps:fs(n.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;u!==null&&tO(n,u,r);break;case 3:var d=n.updateQueue;if(d!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}tO(n,d,t)}break;case 5:var p=n.stateNode;if(t===null&&n.flags&4){t=p;var g=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&t.focus();break;case"img":g.src&&(t.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var _=n.alternate;if(_!==null){var y=_.memoizedState;if(y!==null){var E=y.dehydrated;E!==null&&Af(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nn(163))}Ri||n.flags&512&&Z2(n)}catch(x){vr(n,n.return,x)}}if(n===e){vn=null;break}if(t=n.sibling,t!==null){t.return=n.return,vn=t;break}vn=n.return}}function yO(e){for(;vn!==null;){var n=vn;if(n===e){vn=null;break}var t=n.sibling;if(t!==null){t.return=n.return,vn=t;break}vn=n.return}}function EO(e){for(;vn!==null;){var n=vn;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{e_(4,n)}catch(g){vr(n,t,g)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var s=n.return;try{r.componentDidMount()}catch(g){vr(n,s,g)}}var u=n.return;try{Z2(n)}catch(g){vr(n,u,g)}break;case 5:var d=n.return;try{Z2(n)}catch(g){vr(n,d,g)}}}catch(g){vr(n,n.return,g)}if(n===e){vn=null;break}var p=n.sibling;if(p!==null){p.return=n.return,vn=p;break}vn=n.return}}var zne=Math.ceil,bv=Qo.ReactCurrentDispatcher,Q3=Qo.ReactCurrentOwner,es=Qo.ReactCurrentBatchConfig,yt=0,Kr=null,Nr=null,ui=0,wa=0,Hd=au(0),Pr=0,Bf=null,Ec=0,n_=0,Y3=0,ff=null,ia=null,X3=0,rh=1/0,To=null,yv=!1,nw=null,jl=null,mm=!1,Ml=null,Ev=0,gf=0,tw=null,zm=-1,qm=0;function Gi(){return(yt&6)!==0?xr():zm!==-1?zm:zm=xr()}function Gl(e){return(e.mode&1)===0?1:(yt&2)!==0&&ui!==0?ui&-ui:xne.transition!==null?(qm===0&&(qm=qM()),qm):(e=Ht,e!==0||(e=window.event,e=e===void 0?16:KM(e.type)),e)}function Es(e,n,t,r){if(50<gf)throw gf=0,tw=null,Error(nn(185));t0(e,t,r),((yt&2)===0||e!==Kr)&&(e===Kr&&((yt&2)===0&&(n_|=t),Pr===4&&Al(e,ui)),da(e,r),t===1&&yt===0&&(n.mode&1)===0&&(rh=xr()+500,Xv&&su()))}function da(e,n){var t=e.callbackNode;xee(e,n);var r=iv(e,e===Kr?ui:0);if(r===0)t!==null&&O4(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(t!=null&&O4(t),n===1)e.tag===0?wne(wO.bind(null,e)):pD(wO.bind(null,e)),_ne(function(){(yt&6)===0&&su()}),t=null;else{switch(BM(r)){case 1:t=x3;break;case 4:t=HM;break;case 16:t=rv;break;case 536870912:t=zM;break;default:t=rv}t=hU(t,aU.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function aU(e,n){if(zm=-1,qm=0,(yt&6)!==0)throw Error(nn(327));var t=e.callbackNode;if(Kd()&&e.callbackNode!==t)return null;var r=iv(e,e===Kr?ui:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||n)n=wv(e,r);else{n=r;var s=yt;yt|=2;var u=oU();(Kr!==e||ui!==n)&&(To=null,rh=xr()+500,cc(e,n));do try{jne();break}catch(p){sU(e,p)}while(1);L3(),bv.current=u,yt=s,Nr!==null?n=0:(Kr=null,ui=0,n=Pr)}if(n!==0){if(n===2&&(s=N2(e),s!==0&&(r=s,n=rw(e,s))),n===1)throw t=Bf,cc(e,0),Al(e,r),da(e,xr()),t;if(n===6)Al(e,r);else{if(s=e.current.alternate,(r&30)===0&&!qne(s)&&(n=wv(e,r),n===2&&(u=N2(e),u!==0&&(r=u,n=rw(e,u))),n===1))throw t=Bf,cc(e,0),Al(e,r),da(e,xr()),t;switch(e.finishedWork=s,e.finishedLanes=r,n){case 0:case 1:throw Error(nn(345));case 2:Yu(e,ia,To);break;case 3:if(Al(e,r),(r&130023424)===r&&(n=X3+500-xr(),10<n)){if(iv(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Gi(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=P2(Yu.bind(null,e,ia,To),n);break}Yu(e,ia,To);break;case 4:if(Al(e,r),(r&4194240)===r)break;for(n=e.eventTimes,s=-1;0<r;){var d=31-ys(r);u=1<<d,d=n[d],d>s&&(s=d),r&=~u}if(r=s,r=xr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zne(r/1960))-r,10<r){e.timeoutHandle=P2(Yu.bind(null,e,ia,To),r);break}Yu(e,ia,To);break;case 5:Yu(e,ia,To);break;default:throw Error(nn(329))}}}return da(e,xr()),e.callbackNode===t?aU.bind(null,e):null}function rw(e,n){var t=ff;return e.current.memoizedState.isDehydrated&&(cc(e,n).flags|=256),e=wv(e,n),e!==2&&(n=ia,ia=t,n!==null&&iw(n)),e}function iw(e){ia===null?ia=e:ia.push.apply(ia,e)}function qne(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],u=s.getSnapshot;s=s.value;try{if(!xs(u(),s))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Al(e,n){for(n&=~Y3,n&=~n_,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-ys(n),r=1<<t;e[t]=-1,n&=~r}}function wO(e){if((yt&6)!==0)throw Error(nn(327));Kd();var n=iv(e,0);if((n&1)===0)return da(e,xr()),null;var t=wv(e,n);if(e.tag!==0&&t===2){var r=N2(e);r!==0&&(n=r,t=rw(e,r))}if(t===1)throw t=Bf,cc(e,0),Al(e,n),da(e,xr()),t;if(t===6)throw Error(nn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Yu(e,ia,To),da(e,xr()),null}function Z3(e,n){var t=yt;yt|=1;try{return e(n)}finally{yt=t,yt===0&&(rh=xr()+500,Xv&&su())}}function wc(e){Ml!==null&&Ml.tag===0&&(yt&6)===0&&Kd();var n=yt;yt|=1;var t=es.transition,r=Ht;try{if(es.transition=null,Ht=1,e)return e()}finally{Ht=r,es.transition=t,yt=n,(yt&6)===0&&su()}}function J3(){wa=Hd.current,ar(Hd)}function cc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,vne(t)),Nr!==null)for(t=Nr.return;t!==null;){var r=t;switch(M3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uv();break;case 3:nh(),ar(ua),ar(Di),B3();break;case 5:q3(r);break;case 4:nh();break;case 13:ar(cr);break;case 19:ar(cr);break;case 10:P3(r.type._context);break;case 22:case 23:J3()}t=t.return}if(Kr=e,Nr=e=$l(e.current,null),ui=wa=n,Pr=0,Bf=null,Y3=n_=Ec=0,ia=ff=null,ac!==null){for(n=0;n<ac.length;n++)if(t=ac[n],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,u=t.pending;if(u!==null){var d=u.next;u.next=s,r.next=d}t.pending=r}ac=null}return e}function sU(e,n){do{var t=Nr;try{if(L3(),Pm.current=_v,vv){for(var r=dr.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vv=!1}if(yc=0,Gr=Ur=dr=null,hf=!1,Hf=0,Q3.current=null,t===null||t.return===null){Pr=1,Bf=n,Nr=null;break}e:{var u=e,d=t.return,p=t,g=n;if(n=ui,p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,y=p,E=y.tag;if((y.mode&1)===0&&(E===0||E===11||E===15)){var x=y.alternate;x?(y.updateQueue=x.updateQueue,y.memoizedState=x.memoizedState,y.lanes=x.lanes):(y.updateQueue=null,y.memoizedState=null)}var k=uO(d);if(k!==null){k.flags&=-257,cO(k,d,p,u,n),k.mode&1&&lO(u,_,n),n=k,g=_;var T=n.updateQueue;if(T===null){var I=new Set;I.add(g),n.updateQueue=I}else T.add(g);break e}else{if((n&1)===0){lO(u,_,n),ek();break e}g=Error(nn(426))}}else if(lr&&p.mode&1){var P=uO(d);if(P!==null){(P.flags&65536)===0&&(P.flags|=256),cO(P,d,p,u,n),D3(th(g,p));break e}}u=g=th(g,p),Pr!==4&&(Pr=2),ff===null?ff=[u]:ff.push(u),u=d;do{switch(u.tag){case 3:u.flags|=65536,n&=-n,u.lanes|=n;var N=jD(u,g,n);nO(u,N);break e;case 1:p=g;var O=u.type,U=u.stateNode;if((u.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(jl===null||!jl.has(U)))){u.flags|=65536,n&=-n,u.lanes|=n;var L=GD(u,p,n);nO(u,L);break e}}u=u.return}while(u!==null)}uU(t)}catch(ee){n=ee,Nr===t&&t!==null&&(Nr=t=t.return);continue}break}while(1)}function oU(){var e=bv.current;return bv.current=_v,e===null?_v:e}function ek(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Kr===null||(Ec&268435455)===0&&(n_&268435455)===0||Al(Kr,ui)}function wv(e,n){var t=yt;yt|=2;var r=oU();(Kr!==e||ui!==n)&&(To=null,cc(e,n));do try{Bne();break}catch(s){sU(e,s)}while(1);if(L3(),yt=t,bv.current=r,Nr!==null)throw Error(nn(261));return Kr=null,ui=0,Pr}function Bne(){for(;Nr!==null;)lU(Nr)}function jne(){for(;Nr!==null&&!fee();)lU(Nr)}function lU(e){var n=dU(e.alternate,e,wa);e.memoizedProps=e.pendingProps,n===null?uU(e):Nr=n,Q3.current=null}function uU(e){var n=e;do{var t=n.alternate;if(e=n.return,(n.flags&32768)===0){if(t=Une(t,n,wa),t!==null){Nr=t;return}}else{if(t=Lne(t,n),t!==null){t.flags&=32767,Nr=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pr=6,Nr=null;return}}if(n=n.sibling,n!==null){Nr=n;return}Nr=n=e}while(n!==null);Pr===0&&(Pr=5)}function Yu(e,n,t){var r=Ht,s=es.transition;try{es.transition=null,Ht=1,Gne(e,n,t,r)}finally{es.transition=s,Ht=r}return null}function Gne(e,n,t,r){do Kd();while(Ml!==null);if((yt&6)!==0)throw Error(nn(327));t=e.finishedWork;var s=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(nn(177));e.callbackNode=null,e.callbackPriority=0;var u=t.lanes|t.childLanes;if(kee(e,u),e===Kr&&(Nr=Kr=null,ui=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||mm||(mm=!0,hU(rv,function(){return Kd(),null})),u=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||u){u=es.transition,es.transition=null;var d=Ht;Ht=1;var p=yt;yt|=4,Q3.current=null,Fne(e,t),rU(t,e),cne(U2),av=!!D2,U2=D2=null,e.current=t,Hne(t),gee(),yt=p,Ht=d,es.transition=u}else e.current=t;if(mm&&(mm=!1,Ml=e,Ev=s),u=e.pendingLanes,u===0&&(jl=null),_ee(t.stateNode),da(e,xr()),n!==null)for(r=e.onRecoverableError,t=0;t<n.length;t++)s=n[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(yv)throw yv=!1,e=nw,nw=null,e;return(Ev&1)!==0&&e.tag!==0&&Kd(),u=e.pendingLanes,(u&1)!==0?e===tw?gf++:(gf=0,tw=e):gf=0,su(),null}function Kd(){if(Ml!==null){var e=BM(Ev),n=es.transition,t=Ht;try{if(es.transition=null,Ht=16>e?16:e,Ml===null)var r=!1;else{if(e=Ml,Ml=null,Ev=0,(yt&6)!==0)throw Error(nn(331));var s=yt;for(yt|=4,vn=e.current;vn!==null;){var u=vn,d=u.child;if((vn.flags&16)!==0){var p=u.deletions;if(p!==null){for(var g=0;g<p.length;g++){var _=p[g];for(vn=_;vn!==null;){var y=vn;switch(y.tag){case 0:case 11:case 15:pf(8,y,u)}var E=y.child;if(E!==null)E.return=y,vn=E;else for(;vn!==null;){y=vn;var x=y.sibling,k=y.return;if(eU(y),y===_){vn=null;break}if(x!==null){x.return=k,vn=x;break}vn=k}}}var T=u.alternate;if(T!==null){var I=T.child;if(I!==null){T.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}vn=u}}if((u.subtreeFlags&2064)!==0&&d!==null)d.return=u,vn=d;else e:for(;vn!==null;){if(u=vn,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:pf(9,u,u.return)}var N=u.sibling;if(N!==null){N.return=u.return,vn=N;break e}vn=u.return}}var O=e.current;for(vn=O;vn!==null;){d=vn;var U=d.child;if((d.subtreeFlags&2064)!==0&&U!==null)U.return=d,vn=U;else e:for(d=O;vn!==null;){if(p=vn,(p.flags&2048)!==0)try{switch(p.tag){case 0:case 11:case 15:e_(9,p)}}catch(ee){vr(p,p.return,ee)}if(p===d){vn=null;break e}var L=p.sibling;if(L!==null){L.return=p.return,vn=L;break e}vn=p.return}}if(yt=s,su(),Zs&&typeof Zs.onPostCommitFiberRoot=="function")try{Zs.onPostCommitFiberRoot(Vv,e)}catch{}r=!0}return r}finally{Ht=t,es.transition=n}}return!1}function xO(e,n,t){n=th(t,n),n=jD(e,n,1),e=Bl(e,n,1),n=Gi(),e!==null&&(t0(e,1,n),da(e,n))}function vr(e,n,t){if(e.tag===3)xO(e,e,t);else for(;n!==null;){if(n.tag===3){xO(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jl===null||!jl.has(r))){e=th(t,e),e=GD(n,e,1),n=Bl(n,e,1),e=Gi(),n!==null&&(t0(n,1,e),da(n,e));break}}n=n.return}}function $ne(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=Gi(),e.pingedLanes|=e.suspendedLanes&t,Kr===e&&(ui&t)===t&&(Pr===4||Pr===3&&(ui&130023424)===ui&&500>xr()-X3?cc(e,0):Y3|=t),da(e,n)}function cU(e,n){n===0&&((e.mode&1)===0?n=1:(n=sm,sm<<=1,(sm&130023424)===0&&(sm=4194304)));var t=Gi();e=Wo(e,n),e!==null&&(t0(e,n,t),da(e,t))}function Vne(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),cU(e,t)}function Wne(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(nn(314))}r!==null&&r.delete(n),cU(e,t)}var dU;dU=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||ua.current)oa=!0;else{if((e.lanes&t)===0&&(n.flags&128)===0)return oa=!1,Dne(e,n,t);oa=(e.flags&131072)!==0}else oa=!1,lr&&(n.flags&1048576)!==0&&fD(n,hv,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Hm(e,n),e=n.pendingProps;var s=Zd(n,Di.current);Wd(n,t),s=G3(null,n,r,e,s,t);var u=$3();return n.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ca(r)?(u=!0,cv(n)):u=!1,n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,H3(n),s.updater=Zv,n.stateNode=s,s._reactInternals=n,G2(n,r,e,t),n=W2(null,n,r,!0,u,t)):(n.tag=0,lr&&u&&R3(n),zi(null,n,s,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Hm(e,n),e=n.pendingProps,s=r._init,r=s(r._payload),n.type=r,s=n.tag=Qne(r),e=fs(r,e),s){case 0:n=V2(null,n,r,e,t);break e;case 1:n=pO(null,n,r,e,t);break e;case 11:n=dO(null,n,r,e,t);break e;case 14:n=hO(null,n,r,fs(r.type,e),t);break e}throw Error(nn(306,r,""))}return n;case 0:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:fs(r,s),V2(e,n,r,s,t);case 1:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:fs(r,s),pO(e,n,r,s,t);case 3:e:{if(KD(n),e===null)throw Error(nn(387));r=n.pendingProps,u=n.memoizedState,s=u.element,_D(e,n),gv(n,r,null,t);var d=n.memoizedState;if(r=d.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){s=th(Error(nn(423)),n),n=fO(e,n,r,t,s);break e}else if(r!==s){s=th(Error(nn(424)),n),n=fO(e,n,r,t,s);break e}else for(ka=ql(n.stateNode.containerInfo.firstChild),Sa=n,lr=!0,vs=null,t=wD(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Jd(),r===s){n=Ko(e,n,t);break e}zi(e,n,r,t)}n=n.child}return n;case 5:return xD(n),e===null&&q2(n),r=n.type,s=n.pendingProps,u=e!==null?e.memoizedProps:null,d=s.children,L2(r,s)?d=null:u!==null&&L2(r,u)&&(n.flags|=32),WD(e,n),zi(e,n,d,t),n.child;case 6:return e===null&&q2(n),null;case 13:return QD(e,n,t);case 4:return z3(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=eh(n,null,r,t):zi(e,n,r,t),n.child;case 11:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:fs(r,s),dO(e,n,r,s,t);case 7:return zi(e,n,n.pendingProps,t),n.child;case 8:return zi(e,n,n.pendingProps.children,t),n.child;case 12:return zi(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,s=n.pendingProps,u=n.memoizedProps,d=s.value,er(pv,r._currentValue),r._currentValue=d,u!==null)if(xs(u.value,d)){if(u.children===s.children&&!ua.current){n=Ko(e,n,t);break e}}else for(u=n.child,u!==null&&(u.return=n);u!==null;){var p=u.dependencies;if(p!==null){d=u.child;for(var g=p.firstContext;g!==null;){if(g.context===r){if(u.tag===1){g=Bo(-1,t&-t),g.tag=2;var _=u.updateQueue;if(_!==null){_=_.shared;var y=_.pending;y===null?g.next=g:(g.next=y.next,y.next=g),_.pending=g}}u.lanes|=t,g=u.alternate,g!==null&&(g.lanes|=t),B2(u.return,t,n),p.lanes|=t;break}g=g.next}}else if(u.tag===10)d=u.type===n.type?null:u.child;else if(u.tag===18){if(d=u.return,d===null)throw Error(nn(341));d.lanes|=t,p=d.alternate,p!==null&&(p.lanes|=t),B2(d,t,n),d=u.sibling}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===n){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}zi(e,n,s.children,t),n=n.child}return n;case 9:return s=n.type,r=n.pendingProps.children,Wd(n,t),s=ns(s),r=r(s),n.flags|=1,zi(e,n,r,t),n.child;case 14:return r=n.type,s=fs(r,n.pendingProps),s=fs(r.type,s),hO(e,n,r,s,t);case 15:return $D(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:fs(r,s),Hm(e,n),n.tag=1,ca(r)?(e=!0,cv(n)):e=!1,Wd(n,t),yD(n,r,s),G2(n,r,s,t),W2(null,n,r,!0,e,t);case 19:return YD(e,n,t);case 22:return VD(e,n,t)}throw Error(nn(156,n.tag))};function hU(e,n){return FM(e,n)}function Kne(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(e,n,t,r){return new Kne(e,n,t,r)}function nk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qne(e){if(typeof e=="function")return nk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===y3)return 11;if(e===E3)return 14}return 2}function $l(e,n){var t=e.alternate;return t===null?(t=Ka(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Bm(e,n,t,r,s,u){var d=2;if(r=e,typeof e=="function")nk(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Nd:return dc(t.children,s,u,n);case b3:d=8,s|=8;break;case f2:return e=Ka(12,t,n,s|2),e.elementType=f2,e.lanes=u,e;case g2:return e=Ka(13,t,n,s),e.elementType=g2,e.lanes=u,e;case m2:return e=Ka(19,t,n,s),e.elementType=m2,e.lanes=u,e;case EM:return t_(t,s,u,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bM:d=10;break e;case yM:d=9;break e;case y3:d=11;break e;case E3:d=14;break e;case Il:d=16,r=null;break e}throw Error(nn(130,e==null?e:typeof e,""))}return n=Ka(d,t,n,s),n.elementType=e,n.type=r,n.lanes=u,n}function dc(e,n,t,r){return e=Ka(7,e,r,n),e.lanes=t,e}function t_(e,n,t,r){return e=Ka(22,e,r,n),e.elementType=EM,e.lanes=t,e.stateNode={isHidden:!1},e}function ME(e,n,t){return e=Ka(6,e,null,n),e.lanes=t,e}function DE(e,n,t){return n=Ka(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Yne(e,n,t,r,s){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fE(0),this.expirationTimes=fE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fE(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tk(e,n,t,r,s,u,d,p,g){return e=new Yne(e,n,t,p,g),n===1?(n=1,u===!0&&(n|=8)):n=0,u=Ka(3,null,null,n),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},H3(u),e}function Xne(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Id,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function pU(e){if(!e)return Xl;e=e._reactInternals;e:{if(Ic(e)!==e||e.tag!==1)throw Error(nn(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ca(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(nn(171))}if(e.tag===1){var t=e.type;if(ca(t))return hD(e,t,n)}return n}function fU(e,n,t,r,s,u,d,p,g){return e=tk(t,r,!0,e,s,u,d,p,g),e.context=pU(null),t=e.current,r=Gi(),s=Gl(t),u=Bo(r,s),u.callback=n!=null?n:null,Bl(t,u,s),e.current.lanes=s,t0(e,s,r),da(e,r),e}function r_(e,n,t,r){var s=n.current,u=Gi(),d=Gl(s);return t=pU(t),n.context===null?n.context=t:n.pendingContext=t,n=Bo(u,d),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=Bl(s,n,d),e!==null&&(Es(e,s,d,u),Lm(e,s,d)),d}function xv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kO(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function rk(e,n){kO(e,n),(e=e.alternate)&&kO(e,n)}function Zne(){return null}var gU=typeof reportError=="function"?reportError:function(e){console.error(e)};function ik(e){this._internalRoot=e}i_.prototype.render=ik.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(nn(409));r_(e,n,null,null)};i_.prototype.unmount=ik.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;wc(function(){r_(null,e,null,null)}),n[Vo]=null}};function i_(e){this._internalRoot=e}i_.prototype.unstable_scheduleHydration=function(e){if(e){var n=$M();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Ol.length&&n!==0&&n<Ol[t].priority;t++);Ol.splice(t,0,e),t===0&&WM(e)}};function ak(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function a_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function SO(){}function Jne(e,n,t,r,s){if(s){if(typeof r=="function"){var u=r;r=function(){var _=xv(d);u.call(_)}}var d=fU(n,r,e,0,null,!1,!1,"",SO);return e._reactRootContainer=d,e[Vo]=d.current,Df(e.nodeType===8?e.parentNode:e),wc(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var p=r;r=function(){var _=xv(g);p.call(_)}}var g=tk(e,0,!1,null,null,!1,!1,"",SO);return e._reactRootContainer=g,e[Vo]=g.current,Df(e.nodeType===8?e.parentNode:e),wc(function(){r_(n,g,t,r)}),g}function s_(e,n,t,r,s){var u=t._reactRootContainer;if(u){var d=u;if(typeof s=="function"){var p=s;s=function(){var g=xv(d);p.call(g)}}r_(n,d,e,s)}else d=Jne(t,n,e,s,r);return xv(d)}jM=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=ef(n.pendingLanes);t!==0&&(k3(n,t|1),da(n,xr()),(yt&6)===0&&(rh=xr()+500,su()))}break;case 13:wc(function(){var r=Wo(e,1);if(r!==null){var s=Gi();Es(r,e,1,s)}}),rk(e,1)}};S3=function(e){if(e.tag===13){var n=Wo(e,134217728);if(n!==null){var t=Gi();Es(n,e,134217728,t)}rk(e,134217728)}};GM=function(e){if(e.tag===13){var n=Gl(e),t=Wo(e,n);if(t!==null){var r=Gi();Es(t,e,n,r)}rk(e,n)}};$M=function(){return Ht};VM=function(e,n){var t=Ht;try{return Ht=e,n()}finally{Ht=t}};C2=function(e,n,t){switch(n){case"input":if(b2(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var s=Yv(r);if(!s)throw Error(nn(90));xM(r),b2(r,s)}}}break;case"textarea":SM(e,t);break;case"select":n=t.value,n!=null&&jd(e,!!t.multiple,n,!1)}};RM=Z3;MM=wc;var ete={usingClientEntryPoint:!1,Events:[i0,Md,Yv,OM,AM,Z3]},Bp={findFiberByHostInstance:ic,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nte={bundleType:Bp.bundleType,version:Bp.version,rendererPackageName:Bp.rendererPackageName,rendererConfig:Bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LM(e),e===null?null:e.stateNode},findFiberByHostInstance:Bp.findFiberByHostInstance||Zne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{Vv=vm.inject(nte),Zs=vm}catch{}}Oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ete;Oa.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ak(n))throw Error(nn(200));return Xne(e,n,null,t)};Oa.createRoot=function(e,n){if(!ak(e))throw Error(nn(299));var t=!1,r="",s=gU;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),n=tk(e,1,!1,null,null,t,!1,r,s),e[Vo]=n.current,Df(e.nodeType===8?e.parentNode:e),new ik(n)};Oa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(nn(188)):(e=Object.keys(e).join(","),Error(nn(268,e)));return e=LM(n),e=e===null?null:e.stateNode,e};Oa.flushSync=function(e){return wc(e)};Oa.hydrate=function(e,n,t){if(!a_(n))throw Error(nn(200));return s_(null,e,n,!0,t)};Oa.hydrateRoot=function(e,n,t){if(!ak(e))throw Error(nn(405));var r=t!=null&&t.hydratedSources||null,s=!1,u="",d=gU;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),n=fU(n,null,e,1,t!=null?t:null,s,!1,u,d),e[Vo]=n.current,Df(e),r)for(e=0;e<r.length;e++)t=r[e],s=t._getVersion,s=s(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,s]:n.mutableSourceEagerHydrationData.push(t,s);return new i_(n)};Oa.render=function(e,n,t){if(!a_(n))throw Error(nn(200));return s_(null,e,n,!1,t)};Oa.unmountComponentAtNode=function(e){if(!a_(e))throw Error(nn(40));return e._reactRootContainer?(wc(function(){s_(null,null,e,!1,function(){e._reactRootContainer=null,e[Vo]=null})}),!0):!1};Oa.unstable_batchedUpdates=Z3;Oa.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!a_(t))throw Error(nn(200));if(e==null||e._reactInternals===void 0)throw Error(nn(38));return s_(e,n,t,!1,r)};Oa.version="18.2.0-next-9e3b772b8-20220608";(function(e){function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}n(),e.exports=Oa})(mh);var CO=mh.exports;h2.createRoot=CO.createRoot,h2.hydrateRoot=CO.hydrateRoot;function UE(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.addEventListener&&e.addEventListener.apply(e,n)}function LE(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e&&e.removeEventListener&&e.removeEventListener.apply(e,n)}var mU=typeof window<"u",TO=function(e){var n=window.history,t=n[e];n[e]=function(r){var s=t.apply(this,arguments),u=new Event(e.toLowerCase());return u.state=r,window.dispatchEvent(u),s}};mU&&(TO("pushState"),TO("replaceState"));var tte=function(){return{trigger:"load",length:1}},_m=function(e){var n=window.history,t=n.state,r=n.length,s=window.location,u=s.hash,d=s.host,p=s.hostname,g=s.href,_=s.origin,y=s.pathname,E=s.port,x=s.protocol,k=s.search;return{trigger:e,state:t,length:r,hash:u,host:d,hostname:p,href:g,origin:_,pathname:y,port:E,protocol:x,search:k}},rte=function(){var e=de.exports.useState(_m("load")),n=e[0],t=e[1];return de.exports.useEffect(function(){var r=function(){return t(_m("popstate"))},s=function(){return t(_m("pushstate"))},u=function(){return t(_m("replacestate"))};return UE(window,"popstate",r),UE(window,"pushstate",s),UE(window,"replacestate",u),function(){LE(window,"popstate",r),LE(window,"pushstate",s),LE(window,"replacestate",u)}},[]),n},ite=typeof Event=="function";const ate=mU&&ite?rte:tte;var sk={exports:{}},o_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ste=de.exports,ote=Symbol.for("react.element"),lte=Symbol.for("react.fragment"),ute=Object.prototype.hasOwnProperty,cte=ste.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dte={key:!0,ref:!0,__self:!0,__source:!0};function vU(e,n,t){var r,s={},u=null,d=null;t!==void 0&&(u=""+t),n.key!==void 0&&(u=""+n.key),n.ref!==void 0&&(d=n.ref);for(r in n)ute.call(n,r)&&!dte.hasOwnProperty(r)&&(s[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)s[r]===void 0&&(s[r]=n[r]);return{$$typeof:ote,type:e,key:u,ref:d,props:s,_owner:cte.current}}o_.Fragment=lte;o_.jsx=vU;o_.jsxs=vU;(function(e){e.exports=o_})(sk);const se=sk.exports.jsx,nr=sk.exports.jsxs;var Vl=function(){return Vl=Object.assign||function(n){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u])}return n},Vl.apply(this,arguments)};function di(e,n,t,r){function s(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function p(y){try{_(r.next(y))}catch(E){d(E)}}function g(y){try{_(r.throw(y))}catch(E){d(E)}}function _(y){y.done?u(y.value):s(y.value).then(p,g)}_((r=r.apply(e,n||[])).next())})}function hi(e,n){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,s,u,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(_){return function(y){return g([_,y])}}function g(_){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(u=_[0]&2?s.return:_[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,_[1])).done)return u;switch(s=0,u&&(_=[_[0]&2,u.value]),_[0]){case 0:case 1:u=_;break;case 4:return t.label++,{value:_[1],done:!1};case 5:t.label++,s=_[1],_=[0];continue;case 7:_=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(_[0]===6||_[0]===2)){t=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){t.label=_[1];break}if(_[0]===6&&t.label<u[1]){t.label=u[1],u=_;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(_);break}u[2]&&t.ops.pop(),t.trys.pop();continue}_=n.call(e,t)}catch(y){_=[6,y],s=0}finally{r=u=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}function la(e,n,t){if(t||arguments.length===2)for(var r=0,s=n.length,u;r<s;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return e.concat(u||Array.prototype.slice.call(n))}var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jt={exports:{}};(function(e,n){(function(t,r){r(n)})(PE,function(t){function r(a,o){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),i.push.apply(i,l)}return i}function s(a){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?r(Object(i),!0).forEach(function(l){E(a,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(i,l))})}return a}function u(){u=function(){return a};var a={},o=Object.prototype,i=o.hasOwnProperty,l=Object.defineProperty||function(Ve,Ge,on){Ve[Ge]=on.value},c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",m=c.toStringTag||"@@toStringTag";function v(Ve,Ge,on){return Object.defineProperty(Ve,Ge,{value:on,enumerable:!0,configurable:!0,writable:!0}),Ve[Ge]}try{v({},"")}catch{v=function(Ge,on,Tn){return Ge[on]=Tn}}function b(Ve,Ge,on,Tn){var _n=Ge&&Ge.prototype instanceof H?Ge:H,vt=Object.create(_n.prototype),nt=new we(Tn||[]);return l(vt,"_invoke",{value:te(Ve,on,nt)}),vt}function w(Ve,Ge,on){try{return{type:"normal",arg:Ve.call(Ge,on)}}catch(Tn){return{type:"throw",arg:Tn}}}a.wrap=b;var C={};function H(){}function F(){}function $(){}var B={};v(B,h,function(){return this});var W=Object.getPrototypeOf,ie=W&&W(W(Be([])));ie&&ie!==o&&i.call(ie,h)&&(B=ie);var Z=$.prototype=H.prototype=Object.create(B);function pe(Ve){["next","throw","return"].forEach(function(Ge){v(Ve,Ge,function(on){return this._invoke(Ge,on)})})}function Oe(Ve,Ge){function on(_n,vt,nt,Br){var ni=w(Ve[_n],Ve,vt);if(ni.type!=="throw"){var xo=ni.arg,El=xo.value;return El&&typeof El=="object"&&i.call(El,"__await")?Ge.resolve(El.__await).then(function(Fa){on("next",Fa,nt,Br)},function(Fa){on("throw",Fa,nt,Br)}):Ge.resolve(El).then(function(Fa){xo.value=Fa,nt(xo)},function(Fa){return on("throw",Fa,nt,Br)})}Br(ni.arg)}var Tn;l(this,"_invoke",{value:function(_n,vt){function nt(){return new Ge(function(Br,ni){on(_n,vt,Br,ni)})}return Tn=Tn?Tn.then(nt,nt):nt()}})}function te(Ve,Ge,on){var Tn="suspendedStart";return function(_n,vt){if(Tn==="executing")throw new Error("Generator is already running");if(Tn==="completed"){if(_n==="throw")throw vt;return mt()}for(on.method=_n,on.arg=vt;;){var nt=on.delegate;if(nt){var Br=X(nt,on);if(Br){if(Br===C)continue;return Br}}if(on.method==="next")on.sent=on._sent=on.arg;else if(on.method==="throw"){if(Tn==="suspendedStart")throw Tn="completed",on.arg;on.dispatchException(on.arg)}else on.method==="return"&&on.abrupt("return",on.arg);Tn="executing";var ni=w(Ve,Ge,on);if(ni.type==="normal"){if(Tn=on.done?"completed":"suspendedYield",ni.arg===C)continue;return{value:ni.arg,done:on.done}}ni.type==="throw"&&(Tn="completed",on.method="throw",on.arg=ni.arg)}}}function X(Ve,Ge){var on=Ge.method,Tn=Ve.iterator[on];if(Tn===void 0)return Ge.delegate=null,on==="throw"&&Ve.iterator.return&&(Ge.method="return",Ge.arg=void 0,X(Ve,Ge),Ge.method==="throw")||on!=="return"&&(Ge.method="throw",Ge.arg=new TypeError("The iterator does not provide a '"+on+"' method")),C;var _n=w(Tn,Ve.iterator,Ge.arg);if(_n.type==="throw")return Ge.method="throw",Ge.arg=_n.arg,Ge.delegate=null,C;var vt=_n.arg;return vt?vt.done?(Ge[Ve.resultName]=vt.value,Ge.next=Ve.nextLoc,Ge.method!=="return"&&(Ge.method="next",Ge.arg=void 0),Ge.delegate=null,C):vt:(Ge.method="throw",Ge.arg=new TypeError("iterator result is not an object"),Ge.delegate=null,C)}function Se(Ve){var Ge={tryLoc:Ve[0]};1 in Ve&&(Ge.catchLoc=Ve[1]),2 in Ve&&(Ge.finallyLoc=Ve[2],Ge.afterLoc=Ve[3]),this.tryEntries.push(Ge)}function xe(Ve){var Ge=Ve.completion||{};Ge.type="normal",delete Ge.arg,Ve.completion=Ge}function we(Ve){this.tryEntries=[{tryLoc:"root"}],Ve.forEach(Se,this),this.reset(!0)}function Be(Ve){if(Ve){var Ge=Ve[h];if(Ge)return Ge.call(Ve);if(typeof Ve.next=="function")return Ve;if(!isNaN(Ve.length)){var on=-1,Tn=function _n(){for(;++on<Ve.length;)if(i.call(Ve,on))return _n.value=Ve[on],_n.done=!1,_n;return _n.value=void 0,_n.done=!0,_n};return Tn.next=Tn}}return{next:mt}}function mt(){return{value:void 0,done:!0}}return F.prototype=$,l(Z,"constructor",{value:$,configurable:!0}),l($,"constructor",{value:F,configurable:!0}),F.displayName=v($,m,"GeneratorFunction"),a.isGeneratorFunction=function(Ve){var Ge=typeof Ve=="function"&&Ve.constructor;return!!Ge&&(Ge===F||(Ge.displayName||Ge.name)==="GeneratorFunction")},a.mark=function(Ve){return Object.setPrototypeOf?Object.setPrototypeOf(Ve,$):(Ve.__proto__=$,v(Ve,m,"GeneratorFunction")),Ve.prototype=Object.create(Z),Ve},a.awrap=function(Ve){return{__await:Ve}},pe(Oe.prototype),v(Oe.prototype,f,function(){return this}),a.AsyncIterator=Oe,a.async=function(Ve,Ge,on,Tn,_n){_n===void 0&&(_n=Promise);var vt=new Oe(b(Ve,Ge,on,Tn),_n);return a.isGeneratorFunction(Ge)?vt:vt.next().then(function(nt){return nt.done?nt.value:vt.next()})},pe(Z),v(Z,m,"Generator"),v(Z,h,function(){return this}),v(Z,"toString",function(){return"[object Generator]"}),a.keys=function(Ve){var Ge=Object(Ve),on=[];for(var Tn in Ge)on.push(Tn);return on.reverse(),function _n(){for(;on.length;){var vt=on.pop();if(vt in Ge)return _n.value=vt,_n.done=!1,_n}return _n.done=!0,_n}},a.values=Be,we.prototype={constructor:we,reset:function(Ve){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(xe),!Ve)for(var Ge in this)Ge.charAt(0)==="t"&&i.call(this,Ge)&&!isNaN(+Ge.slice(1))&&(this[Ge]=void 0)},stop:function(){this.done=!0;var Ve=this.tryEntries[0].completion;if(Ve.type==="throw")throw Ve.arg;return this.rval},dispatchException:function(Ve){if(this.done)throw Ve;var Ge=this;function on(ni,xo){return vt.type="throw",vt.arg=Ve,Ge.next=ni,xo&&(Ge.method="next",Ge.arg=void 0),!!xo}for(var Tn=this.tryEntries.length-1;Tn>=0;--Tn){var _n=this.tryEntries[Tn],vt=_n.completion;if(_n.tryLoc==="root")return on("end");if(_n.tryLoc<=this.prev){var nt=i.call(_n,"catchLoc"),Br=i.call(_n,"finallyLoc");if(nt&&Br){if(this.prev<_n.catchLoc)return on(_n.catchLoc,!0);if(this.prev<_n.finallyLoc)return on(_n.finallyLoc)}else if(nt){if(this.prev<_n.catchLoc)return on(_n.catchLoc,!0)}else{if(!Br)throw new Error("try statement without catch or finally");if(this.prev<_n.finallyLoc)return on(_n.finallyLoc)}}}},abrupt:function(Ve,Ge){for(var on=this.tryEntries.length-1;on>=0;--on){var Tn=this.tryEntries[on];if(Tn.tryLoc<=this.prev&&i.call(Tn,"finallyLoc")&&this.prev<Tn.finallyLoc){var _n=Tn;break}}_n&&(Ve==="break"||Ve==="continue")&&_n.tryLoc<=Ge&&Ge<=_n.finallyLoc&&(_n=null);var vt=_n?_n.completion:{};return vt.type=Ve,vt.arg=Ge,_n?(this.method="next",this.next=_n.finallyLoc,C):this.complete(vt)},complete:function(Ve,Ge){if(Ve.type==="throw")throw Ve.arg;return Ve.type==="break"||Ve.type==="continue"?this.next=Ve.arg:Ve.type==="return"?(this.rval=this.arg=Ve.arg,this.method="return",this.next="end"):Ve.type==="normal"&&Ge&&(this.next=Ge),C},finish:function(Ve){for(var Ge=this.tryEntries.length-1;Ge>=0;--Ge){var on=this.tryEntries[Ge];if(on.finallyLoc===Ve)return this.complete(on.completion,on.afterLoc),xe(on),C}},catch:function(Ve){for(var Ge=this.tryEntries.length-1;Ge>=0;--Ge){var on=this.tryEntries[Ge];if(on.tryLoc===Ve){var Tn=on.completion;if(Tn.type==="throw"){var _n=Tn.arg;xe(on)}return _n}}throw new Error("illegal catch attempt")},delegateYield:function(Ve,Ge,on){return this.delegate={iterator:Be(Ve),resultName:Ge,nextLoc:on},this.method==="next"&&(this.arg=void 0),C}},a}function d(a,o,i,l,c,h,f){try{var m=a[h](f),v=m.value}catch(b){return void i(b)}m.done?o(v):Promise.resolve(v).then(l,c)}function p(a){return function(){var o=this,i=arguments;return new Promise(function(l,c){var h=a.apply(o,i);function f(v){d(h,l,c,f,m,"next",v)}function m(v){d(h,l,c,f,m,"throw",v)}f(void 0)})}}function g(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function _(a,o){for(var i=0;i<o.length;i++){var l=o[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,ye(l.key),l)}}function y(a,o,i){return o&&_(a.prototype,o),i&&_(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}function E(a,o,i){return(o=ye(o))in a?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,a}function x(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&T(a,o)}function k(a){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},k(a)}function T(a,o){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},T(a,o)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(a,o,i){return P=I()?Reflect.construct.bind():function(l,c,h){var f=[null];f.push.apply(f,c);var m=new(Function.bind.apply(l,f));return h&&T(m,h.prototype),m},P.apply(null,arguments)}function N(a){var o=typeof Map=="function"?new Map:void 0;return N=function(i){if(i===null||!function(c){return Function.toString.call(c).indexOf("[native code]")!==-1}(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(i))return o.get(i);o.set(i,l)}function l(){return P(i,arguments,k(this).constructor)}return l.prototype=Object.create(i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),T(l,i)},N(a)}function O(a,o){if(a==null)return{};var i,l,c=function(f,m){if(f==null)return{};var v,b,w={},C=Object.keys(f);for(b=0;b<C.length;b++)v=C[b],m.indexOf(v)>=0||(w[v]=f[v]);return w}(a,o);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(l=0;l<h.length;l++)i=h[l],o.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(a,i)&&(c[i]=a[i])}return c}function U(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function L(a){var o=I();return function(){var i,l=k(a);if(o){var c=k(this).constructor;i=Reflect.construct(l,arguments,c)}else i=l.apply(this,arguments);return function(h,f){if(f&&(typeof f=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(h)}(this,i)}}function ee(a){return function(o){if(Array.isArray(o))return J(o)}(a)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(a)||V(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V(a,o){if(a){if(typeof a=="string")return J(a,o);var i=Object.prototype.toString.call(a).slice(8,-1);return i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set"?Array.from(a):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?J(a,o):void 0}}function J(a,o){(o==null||o>a.length)&&(o=a.length);for(var i=0,l=new Array(o);i<o;i++)l[i]=a[i];return l}function Y(a,o){var i=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!i){if(Array.isArray(a)||(i=V(a))||o&&a&&typeof a.length=="number"){i&&(a=i);var l=0,c=function(){};return{s:c,n:function(){return l>=a.length?{done:!0}:{done:!1,value:a[l++]}},e:function(v){throw v},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,f=!0,m=!1;return{s:function(){i=i.call(a)},n:function(){var v=i.next();return f=v.done,v},e:function(v){m=!0,h=v},f:function(){try{f||i.return==null||i.return()}finally{if(m)throw h}}}}function ye(a){var o=function(i,l){if(typeof i!="object"||i===null)return i;var c=i[Symbol.toPrimitive];if(c!==void 0){var h=c.call(i,l||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(i)}(a,"string");return typeof o=="symbol"?o:String(o)}var ve,Ue=new Uint8Array(16);function Ne(){if(!ve&&!(ve=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ve(Ue)}var ce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ee(a){return typeof a=="string"&&ce.test(a)}for(var ge=[],je=0;je<256;++je)ge.push((je+256).toString(16).substr(1));function Xe(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(ge[a[o+0]]+ge[a[o+1]]+ge[a[o+2]]+ge[a[o+3]]+"-"+ge[a[o+4]]+ge[a[o+5]]+"-"+ge[a[o+6]]+ge[a[o+7]]+"-"+ge[a[o+8]]+ge[a[o+9]]+"-"+ge[a[o+10]]+ge[a[o+11]]+ge[a[o+12]]+ge[a[o+13]]+ge[a[o+14]]+ge[a[o+15]]).toLowerCase();if(!Ee(i))throw TypeError("Stringified UUID is invalid");return i}var Te="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ze="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ze(a,o,i){function l(c,h,f,m){if(typeof c=="string"&&(c=function(w){w=unescape(encodeURIComponent(w));for(var C=[],H=0;H<w.length;++H)C.push(w.charCodeAt(H));return C}(c)),typeof h=="string"&&(h=function(w){if(!Ee(w))throw TypeError("Invalid UUID");var C,H=new Uint8Array(16);return H[0]=(C=parseInt(w.slice(0,8),16))>>>24,H[1]=C>>>16&255,H[2]=C>>>8&255,H[3]=255&C,H[4]=(C=parseInt(w.slice(9,13),16))>>>8,H[5]=255&C,H[6]=(C=parseInt(w.slice(14,18),16))>>>8,H[7]=255&C,H[8]=(C=parseInt(w.slice(19,23),16))>>>8,H[9]=255&C,H[10]=(C=parseInt(w.slice(24,36),16))/1099511627776&255,H[11]=C/4294967296&255,H[12]=C>>>24&255,H[13]=C>>>16&255,H[14]=C>>>8&255,H[15]=255&C,H}(h)),h.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var v=new Uint8Array(16+c.length);if(v.set(h),v.set(c,h.length),(v=i(v))[6]=15&v[6]|o,v[8]=63&v[8]|128,f){m=m||0;for(var b=0;b<16;++b)f[m+b]=v[b];return f}return Xe(v)}try{l.name=a}catch{}return l.DNS=Te,l.URL=ze,l}function oe(a){return 14+(a+64>>>9<<4)+1}function ne(a,o){var i=(65535&a)+(65535&o);return(a>>16)+(o>>16)+(i>>16)<<16|65535&i}function ke(a,o,i,l,c,h){return ne((f=ne(ne(o,a),ne(l,h)))<<(m=c)|f>>>32-m,i);var f,m}function en(a,o,i,l,c,h,f){return ke(o&i|~o&l,a,o,c,h,f)}function Fe(a,o,i,l,c,h,f){return ke(o&l|i&~l,a,o,c,h,f)}function Me(a,o,i,l,c,h,f){return ke(o^i^l,a,o,c,h,f)}function Ie(a,o,i,l,c,h,f){return ke(i^(o|~l),a,o,c,h,f)}function Ye(a,o,i){var l=(a=a||{}).random||(a.rng||Ne)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,o){i=i||0;for(var c=0;c<16;++c)o[i+c]=l[c];return o}return Xe(l)}function ln(a,o,i,l){switch(a){case 0:return o&i^~o&l;case 1:case 3:return o^i^l;case 2:return o&i^o&l^i&l}}function xn(a,o){return a<<o|a>>>32-o}Ze("v3",48,function(a){if(typeof a=="string"){var o=unescape(encodeURIComponent(a));a=new Uint8Array(o.length);for(var i=0;i<o.length;++i)a[i]=o.charCodeAt(i)}return function(l){for(var c=[],h=32*l.length,f="0123456789abcdef",m=0;m<h;m+=8){var v=l[m>>5]>>>m%32&255,b=parseInt(f.charAt(v>>>4&15)+f.charAt(15&v),16);c.push(b)}return c}(function(l,c){l[c>>5]|=128<<c%32,l[oe(c)-1]=c;for(var h=1732584193,f=-271733879,m=-1732584194,v=271733878,b=0;b<l.length;b+=16){var w=h,C=f,H=m,F=v;h=en(h,f,m,v,l[b],7,-680876936),v=en(v,h,f,m,l[b+1],12,-389564586),m=en(m,v,h,f,l[b+2],17,606105819),f=en(f,m,v,h,l[b+3],22,-1044525330),h=en(h,f,m,v,l[b+4],7,-176418897),v=en(v,h,f,m,l[b+5],12,1200080426),m=en(m,v,h,f,l[b+6],17,-1473231341),f=en(f,m,v,h,l[b+7],22,-45705983),h=en(h,f,m,v,l[b+8],7,1770035416),v=en(v,h,f,m,l[b+9],12,-1958414417),m=en(m,v,h,f,l[b+10],17,-42063),f=en(f,m,v,h,l[b+11],22,-1990404162),h=en(h,f,m,v,l[b+12],7,1804603682),v=en(v,h,f,m,l[b+13],12,-40341101),m=en(m,v,h,f,l[b+14],17,-1502002290),h=Fe(h,f=en(f,m,v,h,l[b+15],22,1236535329),m,v,l[b+1],5,-165796510),v=Fe(v,h,f,m,l[b+6],9,-1069501632),m=Fe(m,v,h,f,l[b+11],14,643717713),f=Fe(f,m,v,h,l[b],20,-373897302),h=Fe(h,f,m,v,l[b+5],5,-701558691),v=Fe(v,h,f,m,l[b+10],9,38016083),m=Fe(m,v,h,f,l[b+15],14,-660478335),f=Fe(f,m,v,h,l[b+4],20,-405537848),h=Fe(h,f,m,v,l[b+9],5,568446438),v=Fe(v,h,f,m,l[b+14],9,-1019803690),m=Fe(m,v,h,f,l[b+3],14,-187363961),f=Fe(f,m,v,h,l[b+8],20,1163531501),h=Fe(h,f,m,v,l[b+13],5,-1444681467),v=Fe(v,h,f,m,l[b+2],9,-51403784),m=Fe(m,v,h,f,l[b+7],14,1735328473),h=Me(h,f=Fe(f,m,v,h,l[b+12],20,-1926607734),m,v,l[b+5],4,-378558),v=Me(v,h,f,m,l[b+8],11,-2022574463),m=Me(m,v,h,f,l[b+11],16,1839030562),f=Me(f,m,v,h,l[b+14],23,-35309556),h=Me(h,f,m,v,l[b+1],4,-1530992060),v=Me(v,h,f,m,l[b+4],11,1272893353),m=Me(m,v,h,f,l[b+7],16,-155497632),f=Me(f,m,v,h,l[b+10],23,-1094730640),h=Me(h,f,m,v,l[b+13],4,681279174),v=Me(v,h,f,m,l[b],11,-358537222),m=Me(m,v,h,f,l[b+3],16,-722521979),f=Me(f,m,v,h,l[b+6],23,76029189),h=Me(h,f,m,v,l[b+9],4,-640364487),v=Me(v,h,f,m,l[b+12],11,-421815835),m=Me(m,v,h,f,l[b+15],16,530742520),h=Ie(h,f=Me(f,m,v,h,l[b+2],23,-995338651),m,v,l[b],6,-198630844),v=Ie(v,h,f,m,l[b+7],10,1126891415),m=Ie(m,v,h,f,l[b+14],15,-1416354905),f=Ie(f,m,v,h,l[b+5],21,-57434055),h=Ie(h,f,m,v,l[b+12],6,1700485571),v=Ie(v,h,f,m,l[b+3],10,-1894986606),m=Ie(m,v,h,f,l[b+10],15,-1051523),f=Ie(f,m,v,h,l[b+1],21,-2054922799),h=Ie(h,f,m,v,l[b+8],6,1873313359),v=Ie(v,h,f,m,l[b+15],10,-30611744),m=Ie(m,v,h,f,l[b+6],15,-1560198380),f=Ie(f,m,v,h,l[b+13],21,1309151649),h=Ie(h,f,m,v,l[b+4],6,-145523070),v=Ie(v,h,f,m,l[b+11],10,-1120210379),m=Ie(m,v,h,f,l[b+2],15,718787259),f=Ie(f,m,v,h,l[b+9],21,-343485551),h=ne(h,w),f=ne(f,C),m=ne(m,H),v=ne(v,F)}return[h,f,m,v]}(function(l){if(l.length===0)return[];for(var c=8*l.length,h=new Uint32Array(oe(c)),f=0;f<c;f+=8)h[f>>5]|=(255&l[f/8])<<f%32;return h}(a),8*a.length))}),Ze("v5",80,function(a){var o=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){var l=unescape(encodeURIComponent(a));a=[];for(var c=0;c<l.length;++c)a.push(l.charCodeAt(c))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);for(var h=a.length/4+2,f=Math.ceil(h/16),m=new Array(f),v=0;v<f;++v){for(var b=new Uint32Array(16),w=0;w<16;++w)b[w]=a[64*v+4*w]<<24|a[64*v+4*w+1]<<16|a[64*v+4*w+2]<<8|a[64*v+4*w+3];m[v]=b}m[f-1][14]=8*(a.length-1)/Math.pow(2,32),m[f-1][14]=Math.floor(m[f-1][14]),m[f-1][15]=8*(a.length-1)&4294967295;for(var C=0;C<f;++C){for(var H=new Uint32Array(80),F=0;F<16;++F)H[F]=m[C][F];for(var $=16;$<80;++$)H[$]=xn(H[$-3]^H[$-8]^H[$-14]^H[$-16],1);for(var B=i[0],W=i[1],ie=i[2],Z=i[3],pe=i[4],Oe=0;Oe<80;++Oe){var te=Math.floor(Oe/20),X=xn(B,5)+ln(te,W,ie,Z)+pe+o[te]+H[Oe]>>>0;pe=Z,Z=ie,ie=xn(W,30)>>>0,W=B,B=X}i[0]=i[0]+B>>>0,i[1]=i[1]+W>>>0,i[2]=i[2]+ie>>>0,i[3]=i[3]+Z>>>0,i[4]=i[4]+pe>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]});var Fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof PE<"u"?PE:typeof self<"u"?self:{},dn=function(a){try{return!!a()}catch{return!0}},Un=!dn(function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),gn=Un,zn=Function.prototype,kn=zn.call,Mn=gn&&zn.bind.bind(kn,kn),j=gn?Mn:function(a){return function(){return kn.apply(a,arguments)}},M=j,D=M({}.toString),Q=M("".slice),le=function(a){return Q(D(a),8,-1)},Ae=dn,Le=le,Sn=Object,bn=j("".split),un=Ae(function(){return!Sn("z").propertyIsEnumerable(0)})?function(a){return Le(a)=="String"?bn(a,""):Sn(a)}:Sn,Ke=function(a){return a==null},Dn=Ke,St=TypeError,rt=function(a){if(Dn(a))throw St("Can't call method on "+a);return a},Rr=un,vi=rt,_i=function(a){return Rr(vi(a))},lu=function(a){return a&&a.Math==Math&&a},zt=lu(typeof globalThis=="object"&&globalThis)||lu(typeof window=="object"&&window)||lu(typeof self=="object"&&self)||lu(typeof Fn=="object"&&Fn)||function(){return this}()||Function("return this")(),so={exports:{}},Dc=zt,m0=Object.defineProperty,Os=function(a,o){try{m0(Dc,a,{value:o,configurable:!0,writable:!0})}catch{Dc[a]=o}return o},Zo=Os,uu="__core-js_shared__",oo=zt[uu]||Zo(uu,{}),lo=oo;(so.exports=function(a,o){return lo[a]||(lo[a]=o!==void 0?o:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var fr,uo,Ch=rt,Th=Object,Ra=function(a){return Th(Ch(a))},v0=Ra,_0=j({}.hasOwnProperty),Mr=Object.hasOwn||function(a,o){return _0(v0(a),o)},Uc=j,Jo=0,Lc=Math.random(),Ih=Uc(1 .toString),cu=function(a){return"Symbol("+(a===void 0?"":a)+")_"+Ih(++Jo+Lc,36)},co=typeof navigator<"u"&&String(navigator.userAgent)||"",Pc=zt,du=co,Fc=Pc.process,As=Pc.Deno,hu=Fc&&Fc.versions||As&&As.version,el=hu&&hu.v8;el&&(uo=(fr=el.split("."))[0]>0&&fr[0]<4?1:+(fr[0]+fr[1])),!uo&&du&&(!(fr=du.match(/Edge\/(\d+)/))||fr[1]>=74)&&(fr=du.match(/Chrome\/(\d+)/))&&(uo=+fr[1]);var Ma=uo,nl=Ma,Hc=dn,pu=!!Object.getOwnPropertySymbols&&!Hc(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&nl&&nl<41}),zc=pu&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Nh=zt,Oh=so.exports,qc=Mr,Ah=cu,Rh=pu,Bc=zc,as=Nh.Symbol,fu=Oh("wks"),Mh=Bc?as.for||as:as&&as.withoutSetter||Ah,tr=function(a){return qc(fu,a)||(fu[a]=Rh&&qc(as,a)?as[a]:Mh("Symbol."+a)),fu[a]},gu=typeof document=="object"&&document.all,mu={all:gu,IS_HTMLDDA:gu===void 0&&gu!==void 0},Dh=mu.all,jt=mu.IS_HTMLDDA?function(a){return typeof a=="function"||a===Dh}:function(a){return typeof a=="function"},jc=jt,b0=mu.all,kr=mu.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:jc(a)||a===b0}:function(a){return typeof a=="object"?a!==null:jc(a)},y0=kr,ht=String,Wn=TypeError,De=function(a){if(y0(a))return a;throw Wn(ht(a)+" is not an object")},Re={},mn=!dn(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),qn=mn&&dn(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),et={},ct=kr,ss=zt.document,I_=ct(ss)&&ct(ss.createElement),E0=function(a){return I_?ss.createElement(a):{}},bP=E0,rS=!mn&&!dn(function(){return Object.defineProperty(bP("div"),"a",{get:function(){return 7}}).a!=7}),yP=Un,w0=Function.prototype.call,Hr=yP?w0.bind(w0):function(){return w0.apply(w0,arguments)},N_=zt,EP=jt,vu=function(a,o){return arguments.length<2?(i=N_[a],EP(i)?i:void 0):N_[a]&&N_[a][o];var i},Uh=j({}.isPrototypeOf),wP=vu,xP=jt,kP=Uh,SP=Object,O_=zc?function(a){return typeof a=="symbol"}:function(a){var o=wP("Symbol");return xP(o)&&kP(o.prototype,SP(a))},CP=String,Lh=function(a){try{return CP(a)}catch{return"Object"}},TP=jt,IP=Lh,NP=TypeError,Rs=function(a){if(TP(a))return a;throw NP(IP(a)+" is not a function")},OP=Rs,AP=Ke,Ph=function(a,o){var i=a[o];return AP(i)?void 0:OP(i)},A_=Hr,R_=jt,M_=kr,RP=TypeError,MP=Hr,iS=kr,aS=O_,DP=Ph,UP=function(a,o){var i,l;if(o==="string"&&R_(i=a.toString)&&!M_(l=A_(i,a))||R_(i=a.valueOf)&&!M_(l=A_(i,a))||o!=="string"&&R_(i=a.toString)&&!M_(l=A_(i,a)))return l;throw RP("Can't convert object to primitive value")},LP=TypeError,PP=tr("toPrimitive"),sS=function(a,o){if(!iS(a)||aS(a))return a;var i,l=DP(a,PP);if(l){if(o===void 0&&(o="default"),i=MP(l,a,o),!iS(i)||aS(i))return i;throw LP("Can't convert object to primitive value")}return o===void 0&&(o="number"),UP(a,o)},FP=sS,HP=O_,D_=function(a){var o=FP(a,"string");return HP(o)?o:o+""},zP=mn,qP=rS,BP=qn,x0=De,oS=D_,jP=TypeError,U_=Object.defineProperty,GP=Object.getOwnPropertyDescriptor,L_="enumerable",P_="configurable",F_="writable";et.f=zP?BP?function(a,o,i){if(x0(a),o=oS(o),x0(i),typeof a=="function"&&o==="prototype"&&"value"in i&&F_ in i&&!i[F_]){var l=GP(a,o);l&&l[F_]&&(a[o]=i.value,i={configurable:P_ in i?i[P_]:l[P_],enumerable:L_ in i?i[L_]:l[L_],writable:!1})}return U_(a,o,i)}:U_:function(a,o,i){if(x0(a),o=oS(o),x0(i),qP)try{return U_(a,o,i)}catch{}if("get"in i||"set"in i)throw jP("Accessors not supported");return"value"in i&&(a[o]=i.value),a};var $P=Math.ceil,VP=Math.floor,WP=Math.trunc||function(a){var o=+a;return(o>0?VP:$P)(o)},KP=WP,Gc=function(a){var o=+a;return o!=o||o===0?0:KP(o)},QP=Gc,YP=Math.max,XP=Math.min,k0=function(a,o){var i=QP(a);return i<0?YP(i+o,0):XP(i,o)},ZP=Gc,JP=Math.min,S0=function(a){return a>0?JP(ZP(a),9007199254740991):0},e7=S0,tl=function(a){return e7(a.length)},n7=_i,t7=k0,r7=tl,lS=function(a){return function(o,i,l){var c,h=n7(o),f=r7(h),m=t7(l,f);if(a&&i!=i){for(;f>m;)if((c=h[m++])!=c)return!0}else for(;f>m;m++)if((a||m in h)&&h[m]===i)return a||m||0;return!a&&-1}},H_={includes:lS(!0),indexOf:lS(!1)},C0={},z_=Mr,i7=_i,a7=H_.indexOf,s7=C0,uS=j([].push),cS=function(a,o){var i,l=i7(a),c=0,h=[];for(i in l)!z_(s7,i)&&z_(l,i)&&uS(h,i);for(;o.length>c;)z_(l,i=o[c++])&&(~a7(h,i)||uS(h,i));return h},q_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],o7=cS,l7=q_,B_=Object.keys||function(a){return o7(a,l7)},u7=mn,c7=qn,d7=et,h7=De,p7=_i,f7=B_;Re.f=u7&&!c7?Object.defineProperties:function(a,o){h7(a);for(var i,l=p7(o),c=f7(o),h=c.length,f=0;h>f;)d7.f(a,i=c[f++],l[i]);return a};var T0,dS=vu("document","documentElement"),g7=so.exports,m7=cu,hS=g7("keys"),j_=function(a){return hS[a]||(hS[a]=m7(a))},v7=De,_7=Re,pS=q_,b7=C0,y7=dS,E7=E0,G_="prototype",$_="script",fS=j_("IE_PROTO"),V_=function(){},gS=function(a){return"<"+$_+">"+a+"</"+$_+">"},mS=function(a){a.write(gS("")),a.close();var o=a.parentWindow.Object;return a=null,o},I0=function(){try{T0=new ActiveXObject("htmlfile")}catch{}var a,o,i;I0=typeof document<"u"?document.domain&&T0?mS(T0):(o=E7("iframe"),i="java"+$_+":",o.style.display="none",y7.appendChild(o),o.src=String(i),(a=o.contentWindow.document).open(),a.write(gS("document.F=Object")),a.close(),a.F):mS(T0);for(var l=pS.length;l--;)delete I0[G_][pS[l]];return I0()};b7[fS]=!0;var N0=Object.create||function(a,o){var i;return a!==null?(V_[G_]=v7(a),i=new V_,V_[G_]=null,i[fS]=a):i=I0(),o===void 0?i:_7.f(i,o)},w7=tr,x7=N0,k7=et.f,W_=w7("unscopables"),K_=Array.prototype;K_[W_]==null&&k7(K_,W_,{configurable:!0,value:x7(null)});var O0,Fh,A0,R0=function(a){K_[W_][a]=!0},Hh={},S7=jt,vS=zt.WeakMap,C7=S7(vS)&&/native code/.test(String(vS)),M0=function(a,o){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:o}},T7=et,I7=M0,$c=mn?function(a,o,i){return T7.f(a,o,I7(1,i))}:function(a,o,i){return a[o]=i,a},N7=C7,_S=zt,O7=kr,A7=$c,Q_=Mr,Y_=oo,R7=j_,M7=C0,bS="Object already initialized",X_=_S.TypeError,D7=_S.WeakMap;if(N7||Y_.state){var Ms=Y_.state||(Y_.state=new D7);Ms.get=Ms.get,Ms.has=Ms.has,Ms.set=Ms.set,O0=function(a,o){if(Ms.has(a))throw X_(bS);return o.facade=a,Ms.set(a,o),o},Fh=function(a){return Ms.get(a)||{}},A0=function(a){return Ms.has(a)}}else{var Vc=R7("state");M7[Vc]=!0,O0=function(a,o){if(Q_(a,Vc))throw X_(bS);return o.facade=a,A7(a,Vc,o),o},Fh=function(a){return Q_(a,Vc)?a[Vc]:{}},A0=function(a){return Q_(a,Vc)}}var rl={set:O0,get:Fh,has:A0,enforce:function(a){return A0(a)?Fh(a):O0(a,{})},getterFor:function(a){return function(o){var i;if(!O7(o)||(i=Fh(o)).type!==a)throw X_("Incompatible receiver, "+a+" required");return i}}},zh={},Z_={},yS={}.propertyIsEnumerable,ES=Object.getOwnPropertyDescriptor,U7=ES&&!yS.call({1:2},1);Z_.f=U7?function(a){var o=ES(this,a);return!!o&&o.enumerable}:yS;var L7=mn,P7=Hr,F7=Z_,H7=M0,z7=_i,q7=D_,B7=Mr,j7=rS,wS=Object.getOwnPropertyDescriptor;zh.f=L7?wS:function(a,o){if(a=z7(a),o=q7(o),j7)try{return wS(a,o)}catch{}if(B7(a,o))return H7(!P7(F7.f,a,o),a[o])};var J_={exports:{}},eb=mn,G7=Mr,xS=Function.prototype,$7=eb&&Object.getOwnPropertyDescriptor,nb=G7(xS,"name"),D0={EXISTS:nb,PROPER:nb&&function(){}.name==="something",CONFIGURABLE:nb&&(!eb||eb&&$7(xS,"name").configurable)},V7=jt,tb=oo,W7=j(Function.toString);V7(tb.inspectSource)||(tb.inspectSource=function(a){return W7(a)});var rb=tb.inspectSource,ib=j,K7=dn,Q7=jt,U0=Mr,ab=mn,Y7=D0.CONFIGURABLE,X7=rb,Z7=rl.enforce,J7=rl.get,kS=String,L0=Object.defineProperty,eF=ib("".slice),nF=ib("".replace),tF=ib([].join),rF=ab&&!K7(function(){return L0(function(){},"length",{value:8}).length!==8}),iF=String(String).split("String"),aF=J_.exports=function(a,o,i){eF(kS(o),0,7)==="Symbol("&&(o="["+nF(kS(o),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(o="get "+o),i&&i.setter&&(o="set "+o),(!U0(a,"name")||Y7&&a.name!==o)&&(ab?L0(a,"name",{value:o,configurable:!0}):a.name=o),rF&&i&&U0(i,"arity")&&a.length!==i.arity&&L0(a,"length",{value:i.arity});try{i&&U0(i,"constructor")&&i.constructor?ab&&L0(a,"prototype",{writable:!1}):a.prototype&&(a.prototype=void 0)}catch{}var l=Z7(a);return U0(l,"source")||(l.source=tF(iF,typeof o=="string"?o:"")),a};Function.prototype.toString=aF(function(){return Q7(this)&&J7(this).source||X7(this)},"toString");var sF=jt,oF=et,lF=J_.exports,uF=Os,Ds=function(a,o,i,l){l||(l={});var c=l.enumerable,h=l.name!==void 0?l.name:o;if(sF(i)&&lF(i,h,l),l.global)c?a[o]=i:uF(o,i);else{try{l.unsafe?a[o]&&(c=!0):delete a[o]}catch{}c?a[o]=i:oF.f(a,o,{value:i,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return a},qh={},cF=cS,dF=q_.concat("length","prototype");qh.f=Object.getOwnPropertyNames||function(a){return cF(a,dF)};var sb={};sb.f=Object.getOwnPropertySymbols;var _u,SS,CS,hF=vu,pF=qh,fF=sb,gF=De,mF=j([].concat),vF=hF("Reflect","ownKeys")||function(a){var o=pF.f(gF(a)),i=fF.f;return i?mF(o,i(a)):o},TS=Mr,_F=vF,bF=zh,yF=et,EF=dn,wF=jt,xF=/#|\.prototype\./,Bh=function(a,o){var i=SF[kF(a)];return i==TF||i!=CF&&(wF(o)?EF(o):!!o)},kF=Bh.normalize=function(a){return String(a).replace(xF,".").toLowerCase()},SF=Bh.data={},CF=Bh.NATIVE="N",TF=Bh.POLYFILL="P",P0=Bh,ob=zt,IF=zh.f,NF=$c,OF=Ds,AF=Os,RF=function(a,o,i){for(var l=_F(o),c=yF.f,h=bF.f,f=0;f<l.length;f++){var m=l[f];TS(a,m)||i&&TS(i,m)||c(a,m,h(o,m))}},MF=P0,Gt=function(a,o){var i,l,c,h,f,m=a.target,v=a.global,b=a.stat;if(i=v?ob:b?ob[m]||AF(m,{}):(ob[m]||{}).prototype)for(l in o){if(h=o[l],c=a.dontCallGetSet?(f=IF(i,l))&&f.value:i[l],!MF(v?l:m+(b?".":"#")+l,a.forced)&&c!==void 0){if(typeof h==typeof c)continue;RF(h,c)}(a.sham||c&&c.sham)&&NF(h,"sham",!0),OF(i,l,h,a)}},DF=!dn(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),UF=Mr,LF=jt,PF=Ra,FF=DF,IS=j_("IE_PROTO"),lb=Object,HF=lb.prototype,NS=FF?lb.getPrototypeOf:function(a){var o=PF(a);if(UF(o,IS))return o[IS];var i=o.constructor;return LF(i)&&o instanceof i?i.prototype:o instanceof lb?HF:null},zF=dn,qF=jt,BF=kr,OS=NS,jF=Ds,ub=tr("iterator"),AS=!1;[].keys&&("next"in(CS=[].keys())?(SS=OS(OS(CS)))!==Object.prototype&&(_u=SS):AS=!0);var GF=!BF(_u)||zF(function(){var a={};return _u[ub].call(a)!==a});GF&&(_u={}),qF(_u[ub])||jF(_u,ub,function(){return this});var cb={IteratorPrototype:_u,BUGGY_SAFARI_ITERATORS:AS},$F=et.f,VF=Mr,RS=tr("toStringTag"),F0=function(a,o,i){a&&!i&&(a=a.prototype),a&&!VF(a,RS)&&$F(a,RS,{configurable:!0,value:o})},WF=cb.IteratorPrototype,KF=N0,QF=M0,YF=F0,XF=Hh,ZF=function(){return this},JF=j,e9=Rs,n9=jt,t9=String,r9=TypeError,i9=function(a,o,i){try{return JF(e9(Object.getOwnPropertyDescriptor(a,o)[i]))}catch{}},a9=De,s9=function(a){if(typeof a=="object"||n9(a))return a;throw r9("Can't set "+t9(a)+" as a prototype")},db=Object.setPrototypeOf||("__proto__"in{}?function(){var a,o=!1,i={};try{(a=i9(Object.prototype,"__proto__","set"))(i,[]),o=i instanceof Array}catch{}return function(l,c){return a9(l),s9(c),o?a(l,c):l.__proto__=c,l}}():void 0),o9=Gt,l9=Hr,u9=jt,c9=function(a,o,i,l){var c=o+" Iterator";return a.prototype=KF(WF,{next:QF(+!l,i)}),YF(a,c,!1),XF[c]=ZF,a},MS=NS,DS=db,d9=F0,h9=$c,hb=Ds,p9=Hh,f9=D0.PROPER,g9=D0.CONFIGURABLE,US=cb.IteratorPrototype,H0=cb.BUGGY_SAFARI_ITERATORS,jh=tr("iterator"),LS="keys",Gh="values",PS="entries",m9=function(){return this},pb=function(a,o,i,l,c,h,f){c9(i,o,l);var m,v,b,w=function(ie){if(ie===c&&B)return B;if(!H0&&ie in F)return F[ie];switch(ie){case LS:case Gh:case PS:return function(){return new i(this,ie)}}return function(){return new i(this)}},C=o+" Iterator",H=!1,F=a.prototype,$=F[jh]||F["@@iterator"]||c&&F[c],B=!H0&&$||w(c),W=o=="Array"&&F.entries||$;if(W&&(m=MS(W.call(new a)))!==Object.prototype&&m.next&&(MS(m)!==US&&(DS?DS(m,US):u9(m[jh])||hb(m,jh,m9)),d9(m,C,!0)),f9&&c==Gh&&$&&$.name!==Gh&&(g9?h9(F,"name",Gh):(H=!0,B=function(){return l9($,this)})),c)if(v={values:w(Gh),keys:h?B:w(LS),entries:w(PS)},f)for(b in v)(H0||H||!(b in F))&&hb(F,b,v[b]);else o9({target:o,proto:!0,forced:H0||H},v);return F[jh]!==B&&hb(F,jh,B,{name:c}),p9[o]=B,v},fb=function(a,o){return{value:a,done:o}},v9=_i,gb=R0,FS=Hh,HS=rl,_9=et.f,b9=pb,zS=fb,y9=mn,qS="Array Iterator",E9=HS.set,w9=HS.getterFor(qS),x9=b9(Array,"Array",function(a,o){E9(this,{type:qS,target:v9(a),index:0,kind:o})},function(){var a=w9(this),o=a.target,i=a.kind,l=a.index++;return!o||l>=o.length?(a.target=void 0,zS(void 0,!0)):zS(i=="keys"?l:i=="values"?o[l]:[l,o[l]],!1)},"values"),BS=FS.Arguments=FS.Array;if(gb("keys"),gb("values"),gb("entries"),y9&&BS.name!=="values")try{_9(BS,"name",{value:"values"})}catch{}var jS={};jS[tr("toStringTag")]="z";var mb=String(jS)==="[object z]",k9=mb,S9=jt,z0=le,C9=tr("toStringTag"),T9=Object,I9=z0(function(){return arguments}())=="Arguments",q0=k9?z0:function(a){var o,i,l;return a===void 0?"Undefined":a===null?"Null":typeof(i=function(c,h){try{return c[h]}catch{}}(o=T9(a),C9))=="string"?i:I9?z0(o):(l=z0(o))=="Object"&&S9(o.callee)?"Arguments":l},N9=q0,O9=mb?{}.toString:function(){return"[object "+N9(this)+"]"};mb||Ds(Object.prototype,"toString",O9,{unsafe:!0});var $h=typeof process<"u"&&le(process)=="process",GS=J_.exports,A9=et,$S=function(a,o,i){return i.get&&GS(i.get,o,{getter:!0}),i.set&&GS(i.set,o,{setter:!0}),A9.f(a,o,i)},R9=vu,M9=$S,D9=mn,VS=tr("species"),WS=function(a){var o=R9(a);D9&&o&&!o[VS]&&M9(o,VS,{configurable:!0,get:function(){return this}})},U9=Uh,L9=TypeError,vb=function(a,o){if(U9(o,a))return a;throw L9("Incorrect invocation")},P9=j,F9=dn,KS=jt,H9=q0,z9=rb,QS=function(){},q9=[],YS=vu("Reflect","construct"),_b=/^\s*(?:class|function)\b/,B9=P9(_b.exec),j9=!_b.exec(QS),Vh=function(a){if(!KS(a))return!1;try{return YS(QS,q9,a),!0}catch{return!1}},XS=function(a){if(!KS(a))return!1;switch(H9(a)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return j9||!!B9(_b,z9(a))}catch{return!0}};XS.sham=!0;var Wh,Wc,ZS,bb,yb=!YS||F9(function(){var a;return Vh(Vh.call)||!Vh(Object)||!Vh(function(){a=!0})||a})?XS:Vh,G9=yb,$9=Lh,V9=TypeError,JS=De,W9=function(a){if(G9(a))return a;throw V9($9(a)+" is not a constructor")},K9=Ke,Q9=tr("species"),Y9=Un,eC=Function.prototype,nC=eC.apply,tC=eC.call,rC=typeof Reflect=="object"&&Reflect.apply||(Y9?tC.bind(nC):function(){return tC.apply(nC,arguments)}),X9=le,Z9=j,B0=function(a){if(X9(a)==="Function")return Z9(a)},J9=Rs,eH=Un,nH=B0(B0.bind),Kh=function(a,o){return J9(a),o===void 0?a:eH?nH(a,o):function(){return a.apply(o,arguments)}},iC=j([].slice),tH=TypeError,aC=/(?:ipad|iphone|ipod).*applewebkit/i.test(co),fa=zt,rH=rC,iH=Kh,sC=jt,aH=Mr,oC=dn,lC=dS,sH=iC,uC=E0,oH=function(a,o){if(a<o)throw tH("Not enough arguments");return a},lH=aC,uH=$h,Eb=fa.setImmediate,wb=fa.clearImmediate,cH=fa.process,xb=fa.Dispatch,dH=fa.Function,cC=fa.MessageChannel,hH=fa.String,kb=0,Qh={},dC="onreadystatechange";oC(function(){Wh=fa.location});var Sb=function(a){if(aH(Qh,a)){var o=Qh[a];delete Qh[a],o()}},Cb=function(a){return function(){Sb(a)}},hC=function(a){Sb(a.data)},pC=function(a){fa.postMessage(hH(a),Wh.protocol+"//"+Wh.host)};Eb&&wb||(Eb=function(a){oH(arguments.length,1);var o=sC(a)?a:dH(a),i=sH(arguments,1);return Qh[++kb]=function(){rH(o,void 0,i)},Wc(kb),kb},wb=function(a){delete Qh[a]},uH?Wc=function(a){cH.nextTick(Cb(a))}:xb&&xb.now?Wc=function(a){xb.now(Cb(a))}:cC&&!lH?(bb=(ZS=new cC).port2,ZS.port1.onmessage=hC,Wc=iH(bb.postMessage,bb)):fa.addEventListener&&sC(fa.postMessage)&&!fa.importScripts&&Wh&&Wh.protocol!=="file:"&&!oC(pC)?(Wc=pC,fa.addEventListener("message",hC,!1)):Wc=dC in uC("script")?function(a){lC.appendChild(uC("script"))[dC]=function(){lC.removeChild(this),Sb(a)}}:function(a){setTimeout(Cb(a),0)});var fC={set:Eb,clear:wb},gC=function(){this.head=null,this.tail=null};gC.prototype={add:function(a){var o={item:a,next:null},i=this.tail;i?i.next=o:this.head=o,this.tail=o},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}};var Kc,Tb,Ib,Nb,mC,vC=gC,pH=/ipad|iphone|ipod/i.test(co)&&typeof Pebble<"u",fH=/web0s(?!.*chrome)/i.test(co),bu=zt,_C=Kh,gH=zh.f,Ob=fC.set,mH=vC,vH=aC,_H=pH,bH=fH,Ab=$h,bC=bu.MutationObserver||bu.WebKitMutationObserver,yC=bu.document,EC=bu.process,j0=bu.Promise,wC=gH(bu,"queueMicrotask"),Rb=wC&&wC.value;if(!Rb){var G0=new mH,$0=function(){var a,o;for(Ab&&(a=EC.domain)&&a.exit();o=G0.get();)try{o()}catch(i){throw G0.head&&Kc(),i}a&&a.enter()};vH||Ab||bH||!bC||!yC?!_H&&j0&&j0.resolve?((Nb=j0.resolve(void 0)).constructor=j0,mC=_C(Nb.then,Nb),Kc=function(){mC($0)}):Ab?Kc=function(){EC.nextTick($0)}:(Ob=_C(Ob,bu),Kc=function(){Ob($0)}):(Tb=!0,Ib=yC.createTextNode(""),new bC($0).observe(Ib,{characterData:!0}),Kc=function(){Ib.data=Tb=!Tb}),Rb=function(a){G0.head||Kc(),G0.add(a)}}var yH=Rb,V0=function(a){try{return{error:!1,value:a()}}catch(o){return{error:!0,value:o}}},W0=zt.Promise,xC=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",EH=!xC&&!$h&&typeof window=="object"&&typeof document=="object",wH=zt,Yh=W0,xH=jt,kH=P0,SH=rb,CH=tr,TH=EH,IH=xC,Mb=Ma;Yh&&Yh.prototype;var NH=CH("species"),kC=!1,SC=xH(wH.PromiseRejectionEvent),OH=kH("Promise",function(){var a=SH(Yh),o=a!==String(Yh);if(!o&&Mb===66)return!0;if(!Mb||Mb<51||!/native code/.test(a)){var i=new Yh(function(c){c(1)}),l=function(c){c(function(){},function(){})};if((i.constructor={})[NH]=l,!(kC=i.then(function(){})instanceof l))return!0}return!o&&(TH||IH)&&!SC}),yu={CONSTRUCTOR:OH,REJECTION_EVENT:SC,SUBCLASSING:kC},Eu={},CC=Rs,AH=TypeError,RH=function(a){var o,i;this.promise=new a(function(l,c){if(o!==void 0||i!==void 0)throw AH("Bad Promise constructor");o=l,i=c}),this.resolve=CC(o),this.reject=CC(i)};Eu.f=function(a){return new RH(a)};var Db,TC,IC,MH=Gt,K0=$h,il=zt,Qc=Hr,NC=Ds,OC=db,DH=F0,UH=WS,LH=Rs,Q0=jt,PH=kr,FH=vb,HH=function(a,o){var i,l=JS(a).constructor;return l===void 0||K9(i=JS(l)[Q9])?o:W9(i)},AC=fC.set,Ub=yH,zH=function(a,o){try{arguments.length==1?console.error(a):console.error(a,o)}catch{}},qH=V0,BH=vC,RC=rl,Y0=W0,MC=Eu,X0="Promise",DC=yu.CONSTRUCTOR,jH=yu.REJECTION_EVENT,GH=yu.SUBCLASSING,Lb=RC.getterFor(X0),$H=RC.set,Yc=Y0&&Y0.prototype,Xc=Y0,Z0=Yc,UC=il.TypeError,Pb=il.document,Fb=il.process,Hb=MC.f,VH=Hb,WH=!!(Pb&&Pb.createEvent&&il.dispatchEvent),LC="unhandledrejection",PC=function(a){var o;return!(!PH(a)||!Q0(o=a.then))&&o},FC=function(a,o){var i,l,c,h=o.value,f=o.state==1,m=f?a.ok:a.fail,v=a.resolve,b=a.reject,w=a.domain;try{m?(f||(o.rejection===2&&QH(o),o.rejection=1),m===!0?i=h:(w&&w.enter(),i=m(h),w&&(w.exit(),c=!0)),i===a.promise?b(UC("Promise-chain cycle")):(l=PC(i))?Qc(l,i,v,b):v(i)):b(h)}catch(C){w&&!c&&w.exit(),b(C)}},HC=function(a,o){a.notified||(a.notified=!0,Ub(function(){for(var i,l=a.reactions;i=l.get();)FC(i,a);a.notified=!1,o&&!a.rejection&&KH(a)}))},zC=function(a,o,i){var l,c;WH?((l=Pb.createEvent("Event")).promise=o,l.reason=i,l.initEvent(a,!1,!0),il.dispatchEvent(l)):l={promise:o,reason:i},!jH&&(c=il["on"+a])?c(l):a===LC&&zH("Unhandled promise rejection",i)},KH=function(a){Qc(AC,il,function(){var o,i=a.facade,l=a.value;if(qC(a)&&(o=qH(function(){K0?Fb.emit("unhandledRejection",l,i):zC(LC,i,l)}),a.rejection=K0||qC(a)?2:1,o.error))throw o.value})},qC=function(a){return a.rejection!==1&&!a.parent},QH=function(a){Qc(AC,il,function(){var o=a.facade;K0?Fb.emit("rejectionHandled",o):zC("rejectionhandled",o,a.value)})},Zc=function(a,o,i){return function(l){a(o,l,i)}},Jc=function(a,o,i){a.done||(a.done=!0,i&&(a=i),a.value=o,a.state=2,HC(a,!0))},zb=function(a,o,i){if(!a.done){a.done=!0,i&&(a=i);try{if(a.facade===o)throw UC("Promise can't be resolved itself");var l=PC(o);l?Ub(function(){var c={done:!1};try{Qc(l,o,Zc(zb,c,a),Zc(Jc,c,a))}catch(h){Jc(c,h,a)}}):(a.value=o,a.state=1,HC(a,!1))}catch(c){Jc({done:!1},c,a)}}};if(DC&&(Z0=(Xc=function(a){FH(this,Z0),LH(a),Qc(Db,this);var o=Lb(this);try{a(Zc(zb,o),Zc(Jc,o))}catch(i){Jc(o,i)}}).prototype,(Db=function(a){$H(this,{type:X0,done:!1,notified:!1,parent:!1,reactions:new BH,rejection:!1,state:0,value:void 0})}).prototype=NC(Z0,"then",function(a,o){var i=Lb(this),l=Hb(HH(this,Xc));return i.parent=!0,l.ok=!Q0(a)||a,l.fail=Q0(o)&&o,l.domain=K0?Fb.domain:void 0,i.state==0?i.reactions.add(l):Ub(function(){FC(l,i)}),l.promise}),TC=function(){var a=new Db,o=Lb(a);this.promise=a,this.resolve=Zc(zb,o),this.reject=Zc(Jc,o)},MC.f=Hb=function(a){return a===Xc||a===void 0?new TC(a):VH(a)},Q0(Y0)&&Yc!==Object.prototype)){IC=Yc.then,GH||NC(Yc,"then",function(a,o){var i=this;return new Xc(function(l,c){Qc(IC,i,l,c)}).then(a,o)},{unsafe:!0});try{delete Yc.constructor}catch{}OC&&OC(Yc,Z0)}MH({global:!0,constructor:!0,wrap:!0,forced:DC},{Promise:Xc}),DH(Xc,X0,!1),UH(X0);var YH=Hh,XH=tr("iterator"),ZH=Array.prototype,JH=q0,BC=Ph,ez=Ke,nz=Hh,tz=tr("iterator"),jC=function(a){if(!ez(a))return BC(a,tz)||BC(a,"@@iterator")||nz[JH(a)]},rz=Hr,iz=Rs,az=De,sz=Lh,oz=jC,lz=TypeError,uz=Hr,GC=De,cz=Ph,dz=Kh,hz=Hr,pz=De,fz=Lh,gz=function(a){return a!==void 0&&(YH.Array===a||ZH[XH]===a)},mz=tl,$C=Uh,vz=function(a,o){var i=arguments.length<2?oz(a):o;if(iz(i))return az(rz(i,a));throw lz(sz(a)+" is not iterable")},_z=jC,VC=function(a,o,i){var l,c;GC(a);try{if(!(l=cz(a,"return"))){if(o==="throw")throw i;return i}l=uz(l,a)}catch(h){c=!0,l=h}if(o==="throw")throw i;if(c)throw l;return GC(l),i},bz=TypeError,J0=function(a,o){this.stopped=a,this.result=o},WC=J0.prototype,Xh=function(a,o,i){var l,c,h,f,m,v,b,w=i&&i.that,C=!(!i||!i.AS_ENTRIES),H=!(!i||!i.IS_RECORD),F=!(!i||!i.IS_ITERATOR),$=!(!i||!i.INTERRUPTED),B=dz(o,w),W=function(Z){return l&&VC(l,"normal",Z),new J0(!0,Z)},ie=function(Z){return C?(pz(Z),$?B(Z[0],Z[1],W):B(Z[0],Z[1])):$?B(Z,W):B(Z)};if(H)l=a.iterator;else if(F)l=a;else{if(!(c=_z(a)))throw bz(fz(a)+" is not iterable");if(gz(c)){for(h=0,f=mz(a);f>h;h++)if((m=ie(a[h]))&&$C(WC,m))return m;return new J0(!1)}l=vz(a,c)}for(v=H?a.next:l.next;!(b=hz(v,l)).done;){try{m=ie(b.value)}catch(Z){VC(l,"throw",Z)}if(typeof m=="object"&&m&&$C(WC,m))return m}return new J0(!1)},KC=tr("iterator"),QC=!1;try{var yz=0,YC={next:function(){return{done:!!yz++}},return:function(){QC=!0}};YC[KC]=function(){return this},Array.from(YC,function(){throw 2})}catch{}var XC=function(a,o){if(!o&&!QC)return!1;var i=!1;try{var l={};l[KC]=function(){return{next:function(){return{done:i=!0}}}},a(l)}catch{}return i},Ez=W0,qb=yu.CONSTRUCTOR||!XC(function(a){Ez.all(a).then(void 0,function(){})}),wz=Hr,xz=Rs,kz=Eu,Sz=V0,Cz=Xh;Gt({target:"Promise",stat:!0,forced:qb},{all:function(a){var o=this,i=kz.f(o),l=i.resolve,c=i.reject,h=Sz(function(){var f=xz(o.resolve),m=[],v=0,b=1;Cz(a,function(w){var C=v++,H=!1;b++,wz(f,o,w).then(function(F){H||(H=!0,m[C]=F,--b||l(m))},c)}),--b||l(m)});return h.error&&c(h.value),i.promise}});var Tz=Gt,Iz=yu.CONSTRUCTOR,Bb=W0,Nz=vu,Oz=jt,Az=Ds,ZC=Bb&&Bb.prototype;if(Tz({target:"Promise",proto:!0,forced:Iz,real:!0},{catch:function(a){return this.then(void 0,a)}}),Oz(Bb)){var JC=Nz("Promise").prototype.catch;ZC.catch!==JC&&Az(ZC,"catch",JC,{unsafe:!0})}var Rz=Hr,Mz=Rs,Dz=Eu,Uz=V0,Lz=Xh;Gt({target:"Promise",stat:!0,forced:qb},{race:function(a){var o=this,i=Dz.f(o),l=i.reject,c=Uz(function(){var h=Mz(o.resolve);Lz(a,function(f){Rz(h,o,f).then(i.resolve,l)})});return c.error&&l(c.value),i.promise}});var Pz=Hr,Fz=Eu;Gt({target:"Promise",stat:!0,forced:yu.CONSTRUCTOR},{reject:function(a){var o=Fz.f(this);return Pz(o.reject,void 0,a),o.promise}});var Hz=De,zz=kr,qz=Eu,Bz=Gt,jz=yu.CONSTRUCTOR,Gz=function(a,o){if(Hz(a),zz(o)&&o.constructor===a)return o;var i=qz.f(a);return(0,i.resolve)(o),i.promise};vu("Promise"),Bz({target:"Promise",stat:!0,forced:jz},{resolve:function(a){return Gz(this,a)}});var $z=q0,Vz=String,os=function(a){if($z(a)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Vz(a)},jb=j,Wz=Gc,Kz=os,Qz=rt,Yz=jb("".charAt),eT=jb("".charCodeAt),Xz=jb("".slice),nT=function(a){return function(o,i){var l,c,h=Kz(Qz(o)),f=Wz(i),m=h.length;return f<0||f>=m?a?"":void 0:(l=eT(h,f))<55296||l>56319||f+1===m||(c=eT(h,f+1))<56320||c>57343?a?Yz(h,f):l:a?Xz(h,f,f+2):c-56320+(l-55296<<10)+65536}},tT={codeAt:nT(!1),charAt:nT(!0)},Zz=tT.charAt,Jz=os,rT=rl,eq=pb,iT=fb,aT="String Iterator",nq=rT.set,tq=rT.getterFor(aT);eq(String,"String",function(a){nq(this,{type:aT,string:Jz(a),index:0})},function(){var a,o=tq(this),i=o.string,l=o.index;return l>=i.length?iT(void 0,!0):(a=Zz(i,l),o.index+=a.length,iT(a,!1))});var sT={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Gb=E0("span").classList,oT=Gb&&Gb.constructor&&Gb.constructor.prototype,lT=oT===Object.prototype?void 0:oT,uT=zt,cT=sT,rq=lT,Zh=x9,$b=$c,dT=tr,Vb=dT("iterator"),hT=dT("toStringTag"),Wb=Zh.values,pT=function(a,o){if(a){if(a[Vb]!==Wb)try{$b(a,Vb,Wb)}catch{a[Vb]=Wb}if(a[hT]||$b(a,hT,o),cT[o]){for(var i in Zh)if(a[i]!==Zh[i])try{$b(a,i,Zh[i])}catch{a[i]=Zh[i]}}}};for(var Kb in cT)pT(uT[Kb]&&uT[Kb].prototype,Kb);pT(rq,"DOMTokenList");var iq=le,eg=Array.isArray||function(a){return iq(a)=="Array"},fT=eg,aq=yb,sq=kr,oq=tr("species"),gT=Array,lq=function(a){var o;return fT(a)&&(o=a.constructor,(aq(o)&&(o===gT||fT(o.prototype))||sq(o)&&(o=o[oq])===null)&&(o=void 0)),o===void 0?gT:o},Qb=function(a,o){return new(lq(a))(o===0?0:o)},uq=Kh,cq=un,dq=Ra,hq=tl,pq=Qb,mT=j([].push),al=function(a){var o=a==1,i=a==2,l=a==3,c=a==4,h=a==6,f=a==7,m=a==5||h;return function(v,b,w,C){for(var H,F,$=dq(v),B=cq($),W=uq(b,w),ie=hq(B),Z=0,pe=C||pq,Oe=o?pe(v,ie):i||f?pe(v,0):void 0;ie>Z;Z++)if((m||Z in B)&&(F=W(H=B[Z],Z,$),a))if(o)Oe[Z]=F;else if(F)switch(a){case 3:return!0;case 5:return H;case 6:return Z;case 2:mT(Oe,H)}else switch(a){case 4:return!1;case 7:mT(Oe,H)}return h?-1:l||c?c:Oe}},Jh={forEach:al(0),map:al(1),filter:al(2),some:al(3),every:al(4),find:al(5),findIndex:al(6),filterReject:al(7)},fq=dn,gq=Ma,mq=tr("species"),ep=function(a){return gq>=51||!fq(function(){var o=[];return(o.constructor={})[mq]=function(){return{foo:1}},o[a](Boolean).foo!==1})},vq=Jh.map;Gt({target:"Array",proto:!0,forced:!ep("map")},{map:function(a){return vq(this,a,arguments.length>1?arguments[1]:void 0)}});var ng=y(function a(){g(this,a)}),vT=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.call(this)}return y(i,[{key:"getApiOption",value:function(){return{auth:this.getAuth(),path:this.getPath(),method:this.getMethod(),body:this.getData(),headers:this.getHeaders()}}},{key:"getAuth",value:function(){return!0}},{key:"getHeaders",value:function(){return{}}}]),i}(ng),qt=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.call(this)}return y(i,[{key:"getPath",value:function(){return"/v1".concat(this.getSubPath())}}]),i}(vT),pn=function(a){return a.CREATE="create",a.UPDATE="update",a.GET="get",a.DELETE="delete",a.QUERY="query",a.READY="ready",a.START="start",a.ENTER_HOST="enter_host",a.GET_HOSTS="get_hosts",a.EXIT_HOST="exit_host",a.HOST_ALIVE="host_alive",a.AUDIO="audio",a.VIDEO="video",a.HOST_CREATE_STREAM="host_create_stream",a.HOST_PUT_STREAM="host_put_stream",a.HOST_DELETE_STREAM="host_delete_stream",a.HOST_CONNECTED="host_connected",a.ENTER="enter",a.EXIT="exit",a.ALIVE="alive",a.GET_PARTICIPANTS="get_participants",a.CREATE_STREAM="create_stream",a.PUT_STREAM="put_stream",a.DELETE_STREAM="delete_stream",a.CREATE_RTMP_STREAM="create_rtmp_stream",a.DELETE_RTMP_STREAM="delete_rtmp_stream",a.CONNECTED="connected",a.ATTACH="attach",a.CUSTOM_ITEMS_GET="custom_items_get",a.CUSTOM_ITEMS_UPDATE="custom_items_update",a.CUSTOM_ITEMS_DELETE="custom_items_delete",a.LIVE_EVENT_READY="live_event_ready",a.LIVE_EVENT_STARTED="live_event_started",a.LIVE_EVENT_ENDED="live_event_ended",a.LIVE_EVENT_UPDATED="live_event_updated",a.HOST_ENTERED="host_entered",a.HOST_EXITED="host_exited",a.HOST_DISCONNECTED="host_disconnected",a.HOST_AUDIO_STATUS_CHANGED="host_audio_status_changed",a.HOST_VIDEO_STATUS_CHANGED="host_video_status_changed",a.PARTICIPANT_ENTERED="participant_entered",a.PARTICIPANT_EXITED="participant_exited",a}({}),_q=function(a){return a.SINGLE_HOST="single_host",a.MULTIPLE_HOST="multiple_host",a}({}),$t=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i)}(function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),(c=o.call(this)).payload=c.parseData(l),c}return y(i)}(ng));function ls(a){return{liveEventId:a.live_event_id,createdAt:a.created_at,setReadyAt:a.set_ready_at,startedAt:a.started_at,endedAt:a.ended_at,state:a.state,isHostStreaming:a.is_host_streaming,createdBy:a.created_by,setReadyBy:a.set_ready_by,startedBy:a.started_by,endedBy:a.ended_by,duration:a.duration,host:a.host?us(a.host):void 0,participantCount:a.participant_count,peakParticipantCount:a.peak_participant_count,cumulativeParticipantCount:a.cumulative_participant_count,userIdsForHost:a.user_ids_for_host,customItems:a.custom_items,title:a.title,coverUrl:a.cover_url}}function us(a){return{hostId:a.host_id,userId:a.user.user_id,nickname:a.user.nickname,profileURL:a.user.profile_url,enteredAt:a.entered_at,connectedAt:a.connected_at,disconnectedAt:a.disconnected_at,exitedAt:a.exited_at,duration:a.duration,state:a.state,isAudioOn:a.is_audio_on,isVideoOn:a.is_video_on,liveEventId:a.live_event_id,streamType:a.stream_type,rtmpStream:a.rtmp_stream?bq(a.rtmp_stream):void 0}}function bq(a){return{rtmpStreamId:a.rtmp_stream_id,rtmpHostUrl:a.rtmp_host_url,streamKey:a.stream_key,createdAt:a.created_at}}function np(a){return{id:a.rtcstream_id}}function tp(a){return{participantId:a.participant_id,userId:a.user.user_id,nickname:a.user.nickname,profileURL:a.user.profile_url,enteredAt:a.entered_at,exitedAt:a.exited_at,duration:a.duration,state:a.state,liveEventId:a.live_event_id}}var yq=Jh.filter;Gt({target:"Array",proto:!0,forced:!ep("filter")},{filter:function(a){return yq(this,a,arguments.length>1?arguments[1]:void 0)}});var Eq=Ra,_T=B_;Gt({target:"Object",stat:!0,forced:dn(function(){_T(1)})},{keys:function(a){return _T(Eq(a))}});var wq=TypeError,bT=function(a){if(a>9007199254740991)throw wq("Maximum allowed index exceeded");return a},xq=D_,kq=et,Sq=M0,tg=function(a,o,i){var l=xq(o);l in a?kq.f(a,l,Sq(0,i)):a[l]=i},Cq=Gt,Tq=dn,Iq=eg,Nq=kr,Oq=Ra,Aq=tl,yT=bT,ET=tg,Rq=Qb,Mq=ep,Dq=Ma,wT=tr("isConcatSpreadable"),Uq=Dq>=51||!Tq(function(){var a=[];return a[wT]=!1,a.concat()[0]!==a}),Lq=function(a){if(!Nq(a))return!1;var o=a[wT];return o!==void 0?!!o:Iq(a)};Cq({target:"Array",proto:!0,arity:1,forced:!Uq||!Mq("concat")},{concat:function(a){var o,i,l,c,h,f=Oq(this),m=Rq(f,0),v=0;for(o=-1,l=arguments.length;o<l;o++)if(Lq(h=o===-1?f:arguments[o]))for(c=Aq(h),yT(v+c),i=0;i<c;i++,v++)i in h&&ET(m,v,h[i]);else yT(v+1),ET(m,v++,h);return m.length=v,m}});var Pq=De,xT=function(){var a=Pq(this),o="";return a.hasIndices&&(o+="d"),a.global&&(o+="g"),a.ignoreCase&&(o+="i"),a.multiline&&(o+="m"),a.dotAll&&(o+="s"),a.unicode&&(o+="u"),a.unicodeSets&&(o+="v"),a.sticky&&(o+="y"),o},Fq=Hr,Hq=Mr,zq=Uh,qq=xT,kT=RegExp.prototype,Bq=D0.PROPER,jq=Ds,Gq=De,ST=os,$q=dn,Vq=function(a){var o=a.flags;return o!==void 0||"flags"in kT||Hq(a,"flags")||!zq(kT,a)?o:Fq(qq,a)},Yb="toString",CT=RegExp.prototype[Yb],Wq=$q(function(){return CT.call({source:"a",flags:"b"})!="/a/b"}),Kq=Bq&&CT.name!=Yb;function Qq(a){return Object.keys(a).filter(function(o){return a[o]!=null}).map(function(o){return"".concat(encodeURIComponent(o),"=").concat(function(i){return Array.isArray(i)?i.map(function(l){return encodeURIComponent(l.toString())}).join(","):encodeURIComponent(i.toString())}(a[o]))}).join("&")}(Wq||Kq)&&jq(RegExp.prototype,Yb,function(){var a=Gq(this);return"/"+ST(a.source)+"/"+ST(Vq(a))},{unsafe:!0});var Yq=function(a){x(i,a);var o=L(i);function i(l,c,h){var f;return g(this,i),E(U(f=o.call(this)),"type",pn.QUERY),f.params=f._normalizeParams(l),f.prevToken=c,f.nextToken=h,f}return y(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events?".concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_normalizeParams",value:function(l){var c=l.hostType,h=l.liveEventState,f=l.createdAtRange,m=l.participantCountRange,v=l.durationRange,b=l.liveEventIds,w=l.createdByUserIds,C=l.limit;return{hostType:c,liveEventState:h,createdAtRange:f,participantCountRange:m,durationRange:v,liveEventIds:b,createdByUserIds:w,limit:C!=null?Math.min(Math.max(1,C),100):void 0}}},{key:"_createQuery",value:function(){var l,c,h,f,m,v;return Qq({host_type:this.params.hostType,state:this.params.liveEventState,created_at_start_date:(l=this.params.createdAtRange)===null||l===void 0?void 0:l[0],created_at_end_date:(c=this.params.createdAtRange)===null||c===void 0?void 0:c[0],participant_count_gte:(h=this.params.participantCountRange)===null||h===void 0?void 0:h[0],participant_count_lte:(f=this.params.participantCountRange)===null||f===void 0?void 0:f[1],duration_range_gte:(m=this.params.durationRange)===null||m===void 0?void 0:m[0],duration_range_lte:(v=this.params.durationRange)===null||v===void 0?void 0:v[1],live_event_ids:this.params.liveEventIds,created_by_user_ids:this.params.createdByUserIds,limit:this.params.limit,prev:this.prevToken,next:this.nextToken})}}]),i}(qt),Xq=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){var c;return{liveEvents:(c=l.live_events)===null||c===void 0?void 0:c.map(ls),prev:l.prev,next:l.next}}}]),i}($t),Zq=dn,Xb=function(a,o){var i=[][a];return!!i&&Zq(function(){i.call(null,o||function(){return 1},1)})},Jq=Gt,eB=H_.indexOf,nB=Xb,Zb=B0([].indexOf),TT=!!Zb&&1/Zb([1],1,-0)<0;Jq({target:"Array",proto:!0,forced:TT||!nB("indexOf")},{indexOf:function(a){var o=arguments.length>1?arguments[1]:void 0;return TT?Zb(this,a,o)||0:eB(this,a,o)}});var tB=mn,rB=eg,iB=TypeError,aB=Object.getOwnPropertyDescriptor,sB=tB&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}()?function(a,o){if(rB(a)&&!aB(a,"length").writable)throw iB("Cannot set read only .length");return a.length=o}:function(a,o){return a.length=o},IT=Lh,oB=TypeError,lB=Gt,uB=Ra,cB=k0,dB=Gc,hB=tl,pB=sB,fB=bT,gB=Qb,mB=tg,Jb=function(a,o){if(!delete a[o])throw oB("Cannot delete property "+IT(o)+" of "+IT(a))},vB=ep("splice"),_B=Math.max,bB=Math.min;lB({target:"Array",proto:!0,forced:!vB},{splice:function(a,o){var i,l,c,h,f,m,v=uB(this),b=hB(v),w=cB(a,b),C=arguments.length;for(C===0?i=l=0:C===1?(i=0,l=b-w):(i=C-2,l=bB(_B(dB(o),0),b-w)),fB(b+i-l),c=gB(v,l),h=0;h<l;h++)(f=w+h)in v&&mB(c,h,v[f]);if(c.length=l,i<l){for(h=w;h<b-l;h++)m=h+i,(f=h+l)in v?v[m]=v[f]:Jb(v,m);for(h=b;h>b-l+i;h--)Jb(v,h-1)}else if(i>l)for(h=b-l;h>w;h--)m=h+i-1,(f=h+l-1)in v?v[m]=v[f]:Jb(v,m);for(h=0;h<i;h++)v[h+w]=arguments[h+2];return pB(v,b-l+i),c}});var Li=function(a){return a.VERBOSE="VERBOSE",a.DEBUG="DEBUG",a.INFO="INFO",a.WARNING="WARNING",a.ERROR="ERROR",a.NONE="NONE",a}({}),yB=function(){function a(){g(this,a),this._listeners=[]}return y(a,[{key:"verbose",value:function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];this._log.apply(this,[Li.VERBOSE].concat(i))}},{key:"debug",value:function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];this._log.apply(this,[Li.DEBUG].concat(i))}},{key:"info",value:function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];this._log.apply(this,[Li.INFO].concat(i))}},{key:"warning",value:function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];this._log.apply(this,[Li.WARNING].concat(i))}},{key:"error",value:function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];this._log.apply(this,[Li.ERROR].concat(i))}},{key:"_log",value:function(o){for(var i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];var h,f=Y(this._listeners);try{for(f.s();!(h=f.n()).done;){var m=h.value;m._permit.apply(m,[o].concat(l))}}catch(v){f.e(v)}finally{f.f()}}},{key:"addListener",value:function(o){this._listeners.push(o)}},{key:"removeListener",value:function(o){var i=this._listeners.indexOf(o);i!==-1&&this._listeners.splice(i,1)}},{key:"removeAllListener",value:function(){this._listeners=[]}}]),a}(),fn=new yB,EB=function(){function a(c,h,f){g(this,a),this.isLoading=!1,this.params=c,this.sender=h,this.prevToken=null,this.nextToken=null,this.liveEventManager=f}var o,i,l;return y(a,[{key:"hasPrev",get:function(){return!!this.prevToken}},{key:"hasNext",get:function(){return!this.prevToken&&!this.nextToken||!!this.nextToken}},{key:"next",value:(l=p(u().mark(function c(){return u().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.isLoading){h.next=2;break}throw new Error("query is in progress");case 2:if(this.hasNext){h.next=4;break}return h.abrupt("return",[]);case 4:return h.abrupt("return",this._sendQueryCommand(null,this.nextToken));case 5:case"end":return h.stop()}},c,this)})),function(){return l.apply(this,arguments)})},{key:"prev",value:(i=p(u().mark(function c(){return u().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.isLoading){h.next=2;break}throw new Error("query is in progress");case 2:if(this.hasPrev){h.next=4;break}return h.abrupt("return",[]);case 4:return h.abrupt("return",this._sendQueryCommand(this.prevToken,null));case 5:case"end":return h.stop()}},c,this)})),function(){return i.apply(this,arguments)})},{key:"_sendQueryCommand",value:(o=p(u().mark(function c(h,f){var m,v,b,w=this;return u().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!h||!f){C.next=2;break}throw new Error("internal error while creating LiveEventListQueryCommand");case 2:return this.isLoading=!0,m=new Yq(this.params,h,f),C.next=6,this.sender.send(m);case 6:return v=C.sent,b=v.payload,this.prevToken=b.prev,this.nextToken=b.next,this.isLoading=!1,C.prev=11,C.abrupt("return",Promise.all(b.liveEvents.map(function(H){return w.liveEventManager.deserializeLiveEvent(H)})));case 15:return C.prev=15,C.t0=C.catch(11),fn.error(C.t0),C.abrupt("return",b.liveEvents);case 19:case"end":return C.stop()}},c,this,[[11,15]])})),function(c,h){return o.apply(this,arguments)})}]),a}(),wB=Gt,xB=Jh.find,kB=R0,ey="find",NT=!0;ey in[]&&Array(1)[ey](function(){NT=!1}),wB({target:"Array",proto:!0,forced:NT},{find:function(a){return xB(this,a,arguments.length>1?arguments[1]:void 0)}}),kB(ey);var SB=Gt,CB=Jh.findIndex,TB=R0,ny="findIndex",OT=!0;ny in[]&&Array(1)[ny](function(){OT=!1}),SB({target:"Array",proto:!0,forced:OT},{findIndex:function(a){return CB(this,a,arguments.length>1?arguments[1]:void 0)}}),TB(ny);var ty={exports:{}},AT={},RT=k0,IB=tl,NB=tg,OB=Array,AB=Math.max,RB=le,MB=_i,MT=qh.f,DB=function(a,o,i){for(var l=IB(a),c=RT(o,l),h=RT(i===void 0?l:i,l),f=OB(AB(h-c,0)),m=0;c<h;c++,m++)NB(f,m,a[c]);return f.length=m,f},DT=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];AT.f=function(a){return DT&&RB(a)=="Window"?function(o){try{return MT(o)}catch{return DB(DT)}}(a):MT(MB(a))};var UB=dn(function(){if(typeof ArrayBuffer=="function"){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}}),LB=dn,PB=kr,FB=le,UT=UB,rg=Object.isExtensible,HB=LB(function(){rg(1)})||UT?function(a){return!!PB(a)&&(!UT||FB(a)!="ArrayBuffer")&&(!rg||rg(a))}:rg,zB=!dn(function(){return Object.isExtensible(Object.preventExtensions({}))}),qB=Gt,BB=j,jB=C0,GB=kr,ry=Mr,$B=et.f,LT=qh,VB=AT,iy=HB,WB=zB,PT=!1,ho=cu("meta"),KB=0,ay=function(a){$B(a,ho,{value:{objectID:"O"+KB++,weakData:{}}})},QB=ty.exports={enable:function(){QB.enable=function(){},PT=!0;var a=LT.f,o=BB([].splice),i={};i[ho]=1,a(i).length&&(LT.f=function(l){for(var c=a(l),h=0,f=c.length;h<f;h++)if(c[h]===ho){o(c,h,1);break}return c},qB({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:VB.f}))},fastKey:function(a,o){if(!GB(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!ry(a,ho)){if(!iy(a))return"F";if(!o)return"E";ay(a)}return a[ho].objectID},getWeakData:function(a,o){if(!ry(a,ho)){if(!iy(a))return!0;if(!o)return!1;ay(a)}return a[ho].weakData},onFreeze:function(a){return WB&&PT&&iy(a)&&!ry(a,ho)&&ay(a),a}};jB[ho]=!0;var YB=jt,XB=kr,FT=db,HT=function(a,o,i){var l,c;return FT&&YB(l=o.constructor)&&l!==i&&XB(c=l.prototype)&&c!==i.prototype&&FT(a,c),a},ZB=Gt,JB=zt,ej=j,zT=P0,nj=Ds,tj=ty.exports,rj=Xh,ij=vb,aj=jt,sj=Ke,sy=kr,oy=dn,oj=XC,lj=F0,uj=HT,cj=Ds,dj=N0,hj=$S,qT=function(a,o,i){for(var l in o)cj(a,l,o[l],i);return a},pj=Kh,fj=vb,gj=Ke,mj=Xh,vj=pb,BT=fb,_j=WS,rp=mn,jT=ty.exports.fastKey,GT=rl.set,ly=rl.getterFor,bj={getConstructor:function(a,o,i,l){var c=a(function(b,w){fj(b,h),GT(b,{type:o,index:dj(null),first:void 0,last:void 0,size:0}),rp||(b.size=0),gj(w)||mj(w,b[l],{that:b,AS_ENTRIES:i})}),h=c.prototype,f=ly(o),m=function(b,w,C){var H,F,$=f(b),B=v(b,w);return B?B.value=C:($.last=B={index:F=jT(w,!0),key:w,value:C,previous:H=$.last,next:void 0,removed:!1},$.first||($.first=B),H&&(H.next=B),rp?$.size++:b.size++,F!=="F"&&($.index[F]=B)),b},v=function(b,w){var C,H=f(b),F=jT(w);if(F!=="F")return H.index[F];for(C=H.first;C;C=C.next)if(C.key==w)return C};return qT(h,{clear:function(){for(var b=f(this),w=b.index,C=b.first;C;)C.removed=!0,C.previous&&(C.previous=C.previous.next=void 0),delete w[C.index],C=C.next;b.first=b.last=void 0,rp?b.size=0:this.size=0},delete:function(b){var w=this,C=f(w),H=v(w,b);if(H){var F=H.next,$=H.previous;delete C.index[H.index],H.removed=!0,$&&($.next=F),F&&(F.previous=$),C.first==H&&(C.first=F),C.last==H&&(C.last=$),rp?C.size--:w.size--}return!!H},forEach:function(b){for(var w,C=f(this),H=pj(b,arguments.length>1?arguments[1]:void 0);w=w?w.next:C.first;)for(H(w.value,w.key,this);w&&w.removed;)w=w.previous},has:function(b){return!!v(this,b)}}),qT(h,i?{get:function(b){var w=v(this,b);return w&&w.value},set:function(b,w){return m(this,b===0?0:b,w)}}:{add:function(b){return m(this,b=b===0?0:b,b)}}),rp&&hj(h,"size",{configurable:!0,get:function(){return f(this).size}}),c},setStrong:function(a,o,i){var l=o+" Iterator",c=ly(o),h=ly(l);vj(a,o,function(f,m){GT(this,{type:l,target:f,state:c(f),kind:m,last:void 0})},function(){for(var f=h(this),m=f.kind,v=f.last;v&&v.removed;)v=v.previous;return f.target&&(f.last=v=v?v.next:f.state.first)?BT(m=="keys"?v.key:m=="values"?v.value:[v.key,v.value],!1):(f.target=void 0,BT(void 0,!0))},i?"entries":"values",!i,!0),_j(o)}};(function(a,o,i){var l=a.indexOf("Map")!==-1,c=a.indexOf("Weak")!==-1,h=l?"set":"add",f=JB[a],m=f&&f.prototype,v=f,b={},w=function(W){var ie=ej(m[W]);nj(m,W,W=="add"?function(Z){return ie(this,Z===0?0:Z),this}:W=="delete"?function(Z){return!(c&&!sy(Z))&&ie(this,Z===0?0:Z)}:W=="get"?function(Z){return c&&!sy(Z)?void 0:ie(this,Z===0?0:Z)}:W=="has"?function(Z){return!(c&&!sy(Z))&&ie(this,Z===0?0:Z)}:function(Z,pe){return ie(this,Z===0?0:Z,pe),this})};if(zT(a,!aj(f)||!(c||m.forEach&&!oy(function(){new f().entries().next()}))))v=i.getConstructor(o,a,l,h),tj.enable();else if(zT(a,!0)){var C=new v,H=C[h](c?{}:-0,1)!=C,F=oy(function(){C.has(1)}),$=oj(function(W){new f(W)}),B=!c&&oy(function(){for(var W=new f,ie=5;ie--;)W[h](ie,ie);return!W.has(-0)});$||((v=o(function(W,ie){ij(W,m);var Z=uj(new f,W,v);return sj(ie)||rj(ie,Z[h],{that:Z,AS_ENTRIES:l}),Z})).prototype=m,m.constructor=v),(F||B)&&(w("delete"),w("has"),l&&w("get")),(B||H)&&w(h),c&&m.clear&&delete m.clear}b[a]=v,ZB({global:!0,constructor:!0,forced:v!=f},b),lj(v,a),c||i.setStrong(v,a,l)})("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},bj);var $T=mn,yj=j,Ej=Hr,wj=dn,uy=B_,xj=sb,kj=Z_,Sj=Ra,Cj=un,ed=Object.assign,VT=Object.defineProperty,Tj=yj([].concat),Ij=!ed||wj(function(){if($T&&ed({b:1},ed(VT({},"a",{enumerable:!0,get:function(){VT(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},o={},i=Symbol(),l="abcdefghijklmnopqrst";return a[i]=7,l.split("").forEach(function(c){o[c]=c}),ed({},a)[i]!=7||uy(ed({},o)).join("")!=l})?function(a,o){for(var i=Sj(a),l=arguments.length,c=1,h=xj.f,f=kj.f;l>c;)for(var m,v=Cj(arguments[c++]),b=h?Tj(uy(v),h(v)):uy(v),w=b.length,C=0;w>C;)m=b[C++],$T&&!Ej(f,v,m)||(i[m]=v[m]);return i}:ed,WT=Ij;Gt({target:"Object",stat:!0,arity:2,forced:Object.assign!==WT},{assign:WT});var Nj=H_.includes,Oj=R0;Gt({target:"Array",proto:!0,forced:dn(function(){return!Array(1).includes()})},{includes:function(a){return Nj(this,a,arguments.length>1?arguments[1]:void 0)}}),Oj("includes");var Aj=kr,Rj=le,Mj=tr("match"),Dj=function(a){var o;return Aj(a)&&((o=a[Mj])!==void 0?!!o:Rj(a)=="RegExp")},Uj=TypeError,Lj=tr("match"),Pj=Gt,Fj=function(a){if(Dj(a))throw Uj("The method doesn't accept regular expressions");return a},Hj=rt,KT=os,zj=function(a){var o=/./;try{"/./"[a](o)}catch{try{return o[Lj]=!1,"/./"[a](o)}catch{}}return!1},qj=j("".indexOf);Pj({target:"String",proto:!0,forced:!zj("includes")},{includes:function(a){return!!~qj(KT(Hj(this)),KT(Fj(a)),arguments.length>1?arguments[1]:void 0)}});var ig=function(a){return a.HOST="host",a.PARTICIPANT="participant",a}({}),QT=function(a){return a.CREATED="created",a.READY="ready",a.ONGOING="ongoing",a.PAUSED="paused",a.ENDED="ended",a}({}),YT=function(a){return a.ENTERED="entered",a.CONNECTED="connected",a.DISCONNECTED="disconnected",a.EXITED="exited",a}({}),Bj=function(a){return a.ENTERED="entered",a.EXITED="exited",a}({}),jj=function(a){x(i,a);var o=L(i);function i(l,c,h){var f;return g(this,i),(f=o.call(this)).appId=l,f.userId=c,f.accessToken=h,f}return y(i,[{key:"getAuth",value:function(){return!1}},{key:"getData",value:function(){return{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}},{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/login")}},{key:"getMethod",value:function(){return"POST"}}]),i}(vT),Vt=function(a){return a.POST="POST",a.GET="GET",a.DELETE="DELETE",a.OPTION="OPTION",a.PUT="PUT",a}({}),Gj=function(a){x(i,a);var o=L(i);function i(l,c,h,f,m,v){var b;return g(this,i),E(U(b=o.call(this)),"type",pn.CREATE),b.hostType=l,b.hostIds=Array.isArray(c)?c:[c],b.title=h===null?"":h,b.coverUrl=f===null?"":f,b.coverFile=m===null?"":m,b.customItems=v,b}return y(i,[{key:"getData",value:function(){var l=function(h,f,m,v){m!==void 0&&c.set(f,m)},c=new FormData;return l(0,"host_type",this.hostType),l(0,"user_ids_for_host",String(this.hostIds)),l(0,"title",this.title),l(0,"cover_url",this.coverUrl),l(0,"cover_file",this.coverFile),l(0,"customItems",JSON.stringify(this.customItems)),c}},{key:"getSubPath",value:function(){return"/live-events"}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),$j=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEvent:ls(l.live_event)}}}]),i}($t),Vj=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this)),"type",pn.GET),c.liveEventId=l,c}return y(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Vt.GET}}]),i}(qt),Wj=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEvent:ls(l.live_event)}}}]),i}($t),Kj=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this)),"type",pn.ENTER_HOST),E(U(h),"mediaOption",{turnAudioOn:!0,turnVideoOn:!0}),h.liveEventId=l,h.mediaOption=c,h}return y(i,[{key:"getData",value:function(){return{is_audio_on:this.mediaOption.turnAudioOn,is_video_on:this.mediaOption.turnVideoOn}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),Qj=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{host:us(l.host)}}}]),i}($t),Yj=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this)),"type",pn.READY),c.liveEventId=l,c}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/ready")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),Xj=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEvent:ls(l.live_event)}}}]),i}($t),Zj=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this)),"type",pn.START),c.liveEventId=l,c}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/start")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),Jj=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEvent:ls(l.live_event)}}}]),i}($t),eG=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this)),"type",pn.EXIT_HOST),h.liveEventId=l,h.hostId=c,h}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId)}},{key:"getMethod",value:function(){return Vt.DELETE}}]),i}(qt),nG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{host:us(l.host)}}}]),i}($t),tG=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this)),"type",pn.DELETE),c.liveEventId=l,c}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Vt.DELETE}}]),i}(qt),rG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEvent:ls(l.live_event)}}}]),i}($t),iG=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this)),"type",pn.ENTER),c.liveEventId=l,c}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),aG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{participant:tp(l.participant)}}}]),i}($t),sG=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this)),"type",pn.EXIT),h.liveEventId=l,h.participantId=c,h}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId)}},{key:"getMethod",value:function(){return Vt.DELETE}}]),i}(qt),oG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{participant:tp(l.participant)}}}]),i}($t),lG=function(a){x(i,a);var o=L(i);function i(l,c,h){var f;return g(this,i),E(U(f=o.call(this)),"type",pn.CONNECTED),f.liveEventId=l,f.participantId=c,f.endpointId=h,f}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),uG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{endpoint:np(l.rtcstream)}}}]),i}($t),cG=function(a){x(i,a);var o=L(i);function i(l,c,h){var f;return g(this,i),E(U(f=o.call(this)),"type",pn.HOST_CONNECTED),f.liveEventId=l,f.hostId=c,f.endpointId=h,f}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),dG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{endpoint:np(l.rtcstream)}}}]),i}($t),hG=function(a){x(i,a);var o=L(i);function i(l,c,h){var f;return g(this,i),E(U(f=o.call(this)),"type",pn.DELETE_STREAM),f.liveEventId=l,f.participantId=c,f.endpointId=h,f}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Vt.DELETE}}]),i}(qt),pG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{}}}]),i}($t),fG=function(a){x(i,a);var o=L(i);function i(l,c,h){var f;return g(this,i),E(U(f=o.call(this)),"type",pn.HOST_DELETE_STREAM),f.liveEventId=l,f.hostId=c,f.endpointId=h,f}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Vt.DELETE}}]),i}(qt),gG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{}}}]),i}($t),mG=function(a){x(i,a);var o=L(i);function i(l,c,h,f){var m;return g(this,i),E(U(m=o.call(this)),"type",pn.ATTACH),m.liveEventId=l,m.participantId=c,m.endpointId=h,m.attachTo=f,m}return y(i,[{key:"getData",value:function(){return{attach_to:this.attachTo}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/attach")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),vG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{endpoint:np(l.rtcstream)}}}]),i}($t),Qi=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),(c=o.call(this)).type=l.type,c.version=l.version,c.messageId=l.message_id,c.payload=c.parseData(l.payload),c}return y(i)}(ng),XT=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:ls(l.live_event)}}}]),i}(Qi),ZT=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:ls(l.live_event)}}}]),i}(Qi),JT=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:ls(l.live_event)}}}]),i}(Qi),eI=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:us(l.host)}}}]),i}(Qi),nI=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:us(l.host)}}}]),i}(Qi),tI=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:us(l.host)}}}]),i}(Qi),cy=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:us(l.host)}}}]),i}(Qi),dy=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:us(l.host)}}}]),i}(Qi),rI=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,participant:tp(l.participant),participantCount:l.participant_count,peakParticipantCount:l.peak_participant_count,cumulativeParticipantCount:l.cumulative_participant_count}}}]),i}(Qi),iI=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,participant:tp(l.participant),participantCount:l.participant_count,peakParticipantCount:l.peak_participant_count,cumulativeParticipantCount:l.cumulative_participant_count}}}]),i}(Qi),_G=function(a){x(i,a);var o=L(i);function i(l,c,h,f,m){var v;return g(this,i),E(U(v=o.call(this)),"type",pn.CREATE_STREAM),v.liveEventId=l,v.participantId=c,v.sdp=h,v.audioAttr=f,v.videoAttr=m,v}return y(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),bG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{sdp:l.sdp,endpoint:np(l.rtcstream)}}}]),i}($t),yG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{hosts:l.hosts.map(us)}}}]),i}($t),EG=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this)),"type",pn.HOST_ALIVE),h.liveEventId=l,h.hostId=c,h}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/alive")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),wG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{}}}]),i}($t),xG=function(a){x(i,a);var o=L(i);function i(l,c,h,f,m){var v;return g(this,i),E(U(v=o.call(this)),"type",pn.HOST_CREATE_STREAM),v.liveEventId=l,v.hostId=c,v.sdp=h,v.audioAttr=f,v.videoAttr=m,v}return y(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),kG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{sdp:l.sdp,endpoint:np(l.rtcstream)}}}]),i}($t),SG=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this)),"type",pn.ALIVE),h.liveEventId=l,h.participantId=c,h}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/alive")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),CG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{}}}]),i}($t),TG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{participant:tp(l.participant)}}}]),i}($t),IG=function(a){x(i,a);var o=L(i);function i(l,c,h){var f;return g(this,i),E(U(f=o.call(this)),"type",pn.AUDIO),f.liveEventId=l,f.hostId=c,f.on=h,f}return y(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/audio")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),NG=function(a){x(i,a);var o=L(i);function i(l,c,h){var f;return g(this,i),E(U(f=o.call(this)),"type",pn.VIDEO),f.liveEventId=l,f.hostId=c,f.on=h,f}return y(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/video")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),aI=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,host:us(l.host)}}}]),i}(Qi),OG=function(a){x(i,a);var o=L(i);function i(l,c,h,f,m){var v;return g(this,i),E(U(v=o.call(this)),"type",pn.UPDATE),v.liveEventId=l,v.hostIds=c===null?"":Array.isArray(c)?c:[c],v.title=h===null?"":h,v.coverUrl=f===null?"":f,v.coverFile=m===null?"":m,v}return y(i,[{key:"getData",value:function(){var l=function(h,f,m,v){m!==void 0&&c.set(f,m)},c=new FormData;return l(0,"user_ids_for_host",String(this.hostIds)),l(0,"title",this.title),l(0,"cover_url",this.coverUrl),l(0,"cover_file",this.coverFile),c}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Vt.PUT}}]),i}(qt),AG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEvent:ls(l.live_event)}}}]),i}($t),sI=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,liveEvent:ls(l.live_event)}}}]),i}(Qi),RG=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this)),"type",pn.CUSTOM_ITEMS_GET),c.liveEventId=l,c}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Vt.GET}}]),i}(qt),MG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{customItems:l.custom_items}}}]),i}($t),DG=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this)),"type",pn.CUSTOM_ITEMS_UPDATE),h.liveEventId=l,h.customItems=c,h}return y(i,[{key:"getData",value:function(){return this.customItems}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Vt.PUT}}]),i}(qt),UG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{customItems:l.custom_items,updatedKeys:l.updated_keys,updatedAt:l.updated_at}}}]),i}($t),LG=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this)),"type",pn.CUSTOM_ITEMS_DELETE),h.liveEventId=l,h.keys=c,h}return y(i,[{key:"getData",value:function(){return this.keys}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Vt.DELETE}}]),i}(qt),PG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{customItems:l.custom_items,deletedKeys:l.deleted_keys,deletedAt:l.deleted_at}}}]),i}($t),oI=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,updatedAt:l.updated_at,customItems:l.custom_items,updatedKeys:l.updated_keys}}}]),i}(Qi),lI=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{liveEventId:l.live_event_id,deletedAt:l.deleted_at,customItems:l.custom_items,deletedKeys:l.deleted_keys}}}]),i}(Qi),FG=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this)),"type",pn.CUSTOM_ITEMS_DELETE),c.liveEventId=l,c}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Vt.DELETE}}]),i}(qt),HG=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this)),"type",pn.CREATE_RTMP_STREAM),c.liveEventId=l,c}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams")}},{key:"getMethod",value:function(){return Vt.POST}}]),i}(qt),zG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{host:us(l.host)}}}]),i}($t),qG=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this)),"type",pn.DELETE_RTMP_STREAM),h.liveEventId=l,h.rtmpStreamId=c,h}return y(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams/").concat(this.rtmpStreamId)}},{key:"getMethod",value:function(){return Vt.DELETE}}]),i}(qt),BG=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"parseData",value:function(l){return{}}}]),i}($t),Ot=function(){function a(){g(this,a)}return y(a,null,[{key:"createAuth",value:function(o,i,l){return new jj(o,i,l)}},{key:"createLiveEvent",value:function(o,i,l,c,h,f){return new Gj(o,i,l,c,h,f)}},{key:"updateLiveEvent",value:function(o,i,l,c,h){return new OG(o,i,l,c,h)}},{key:"createGetLiveEvent",value:function(o){return new Vj(o)}},{key:"createEnterHost",value:function(o,i){return new Kj(o,i)}},{key:"createReady",value:function(o){return new Yj(o)}},{key:"createStart",value:function(o){return new Zj(o)}},{key:"createExitHost",value:function(o,i){return new eG(o,i)}},{key:"createEndLiveEvent",value:function(o){return new tG(o)}},{key:"createEnter",value:function(o){return new iG(o)}},{key:"createExit",value:function(o,i){return new sG(o,i)}},{key:"createConnected",value:function(o,i,l){return new lG(o,i,l)}},{key:"createHostConnected",value:function(o,i,l){return new cG(o,i,l)}},{key:"createStream",value:function(o,i,l,c,h){return new _G(o,i,l,c,h)}},{key:"createHostCreateStream",value:function(o,i,l,c,h){return new xG(o,i,l,c,h)}},{key:"createDeleteStream",value:function(o,i,l){return new hG(o,i,l)}},{key:"createHostDeleteStream",value:function(o,i,l){return new fG(o,i,l)}},{key:"createRTMPStream",value:function(o){return new HG(o)}},{key:"deleteRTMPStream",value:function(o,i){return new qG(o,i)}},{key:"createAttach",value:function(o,i,l,c){return new mG(o,i,l,c)}},{key:"createAudio",value:function(o,i,l){return new IG(o,i,l)}},{key:"createVideo",value:function(o,i,l){return new NG(o,i,l)}},{key:"createAlive",value:function(o,i){return new SG(o,i)}},{key:"createHostAlive",value:function(o,i){return new EG(o,i)}},{key:"createGetCustomItems",value:function(o){return new RG(o)}},{key:"createUpdateCustomItems",value:function(o,i){return new DG(o,i)}},{key:"createDeleteCustomItems",value:function(o,i){return new LG(o,i)}},{key:"createDeleteAllCustomItems",value:function(o){return new FG(o)}},{key:"parseResponse",value:function(o,i){try{switch(o.type){case pn.CREATE:return new $j(i);case pn.GET:return new Wj(i);case pn.DELETE:return new rG(i);case pn.QUERY:return new Xq(i);case pn.READY:return new Xj(i);case pn.START:return new Jj(i);case pn.ENTER_HOST:return new Qj(i);case pn.GET_HOSTS:return new yG(i);case pn.EXIT_HOST:return new nG(i);case pn.HOST_ALIVE:return new wG(i);case pn.AUDIO:return new cy(i);case pn.VIDEO:return new dy(i);case pn.HOST_CREATE_STREAM:return new kG(i);case pn.HOST_DELETE_STREAM:return new gG(i);case pn.HOST_CONNECTED:return new dG(i);case pn.ENTER:return new aG(i);case pn.EXIT:return new oG(i);case pn.ALIVE:return new CG(i);case pn.GET_PARTICIPANTS:return new TG(i);case pn.CREATE_STREAM:return new bG(i);case pn.DELETE_STREAM:return new pG(i);case pn.CONNECTED:return new uG(i);case pn.ATTACH:return new vG(i);case pn.UPDATE:return new AG(i);case pn.CUSTOM_ITEMS_GET:return new MG(i);case pn.CUSTOM_ITEMS_UPDATE:return new UG(i);case pn.CUSTOM_ITEMS_DELETE:return new PG(i);case pn.CREATE_RTMP_STREAM:return new zG(i);case pn.DELETE_RTMP_STREAM:return new BG(i)}}catch{return}}},{key:"parse",value:function(o){if(o.call_type==="live")try{switch(o.type){case pn.LIVE_EVENT_READY:return new XT(o);case pn.LIVE_EVENT_STARTED:return new ZT(o);case pn.LIVE_EVENT_ENDED:return new JT(o);case pn.LIVE_EVENT_UPDATED:return new sI(o);case pn.HOST_ENTERED:return new eI(o);case pn.HOST_EXITED:return new nI(o);case pn.HOST_CONNECTED:return new tI(o);case pn.HOST_DISCONNECTED:return new aI(o);case pn.HOST_AUDIO_STATUS_CHANGED:return new cy(o);case pn.HOST_VIDEO_STATUS_CHANGED:return new dy(o);case pn.PARTICIPANT_ENTERED:return new rI(o);case pn.PARTICIPANT_EXITED:return new iI(o);case pn.CUSTOM_ITEMS_UPDATE:return new oI(o);case pn.CUSTOM_ITEMS_DELETE:return new lI(o)}}catch{return}}}]),a}(),jG=Jh.forEach,GG=Xb("forEach")?[].forEach:function(a){return jG(this,a,arguments.length>1?arguments[1]:void 0)},uI=zt,cI=sT,$G=lT,hy=GG,VG=$c,dI=function(a){if(a&&a.forEach!==hy)try{VG(a,"forEach",hy)}catch{a.forEach=hy}};for(var py in cI)cI[py]&&dI(uI[py]&&uI[py].prototype);dI($G);var WG=Gt,hI=eg,KG=yb,QG=kr,pI=k0,YG=tl,XG=_i,ZG=tg,JG=tr,e$=iC,n$=ep("slice"),t$=JG("species"),fy=Array,r$=Math.max;WG({target:"Array",proto:!0,forced:!n$},{slice:function(a,o){var i,l,c,h=XG(this),f=YG(h),m=pI(a,f),v=pI(o===void 0?f:o,f);if(hI(h)&&(i=h.constructor,(KG(i)&&(i===fy||hI(i.prototype))||QG(i)&&(i=i[t$])===null)&&(i=void 0),i===fy||i===void 0))return e$(h,m,v);for(l=new(i===void 0?fy:i)(r$(v-m,0)),c=0;m<v;m++,c++)m in h&&ZG(l,c,h[m]);return l.length=c,l}});var fI,gy,po=function(){function a(){g(this,a),E(this,"_listeners",{}),E(this,"on",this.addEventListener),E(this,"off",this.removeEventListener)}return y(a,[{key:"addEventListener",value:function(o,i){var l=this;return o in this._listeners||(this._listeners[o]=[]),this._listeners[o].push(i),function(){return l.removeEventListener(o,i)}}},{key:"once",value:function(o,i){var l=this;return this.on(o,function c(){i.apply(void 0,arguments),l.removeEventListener(o,c)})}},{key:"removeEventListener",value:function(o,i){if(o in this._listeners){for(var l=this._listeners[o],c=0,h=l.length;c<h;c++)if(l[c]===i)return void l.splice(c,1)}}},{key:"removeAllEventListeners",value:function(){this._listeners={}}},{key:"_dispatchEvent",value:function(o){if(o in this._listeners){for(var i=this._listeners[o].slice(),l=arguments.length,c=new Array(l>1?l-1:0),h=1;h<l;h++)c[h-1]=arguments[h];for(var f=0,m=i.length;f<m;f++){var v;(v=i[f]).call.apply(v,[this].concat(c))}}}}]),a}(),my=dn,vy=zt.RegExp,_y=my(function(){var a=vy("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),i$=_y||my(function(){return!vy("a","y").sticky}),a$=_y||my(function(){var a=vy("^r","gy");return a.lastIndex=2,a.exec("str")!=null}),s$={BROKEN_CARET:a$,MISSED_STICKY:i$,UNSUPPORTED_Y:_y},o$=dn,l$=zt.RegExp,u$=o$(function(){var a=l$(".","s");return!(a.dotAll&&a.exec(`
`)&&a.flags==="s")}),c$=dn,d$=zt.RegExp,h$=c$(function(){var a=d$("(?<a>b)","g");return a.exec("b").groups.a!=="b"||"b".replace(a,"$<a>c")!=="bc"}),nd=Hr,ag=j,p$=os,f$=xT,g$=s$,m$=so.exports,v$=N0,_$=rl.get,b$=u$,y$=h$,E$=m$("native-string-replace",String.prototype.replace),sg=RegExp.prototype.exec,by=sg,w$=ag("".charAt),x$=ag("".indexOf),k$=ag("".replace),yy=ag("".slice),Ey=(gy=/b*/g,nd(sg,fI=/a/,"a"),nd(sg,gy,"a"),fI.lastIndex!==0||gy.lastIndex!==0),gI=g$.BROKEN_CARET,wy=/()??/.exec("")[1]!==void 0;(Ey||wy||gI||b$||y$)&&(by=function(a){var o,i,l,c,h,f,m,v=this,b=_$(v),w=p$(a),C=b.raw;if(C)return C.lastIndex=v.lastIndex,o=nd(by,C,w),v.lastIndex=C.lastIndex,o;var H=b.groups,F=gI&&v.sticky,$=nd(f$,v),B=v.source,W=0,ie=w;if(F&&($=k$($,"y",""),x$($,"g")===-1&&($+="g"),ie=yy(w,v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&w$(w,v.lastIndex-1)!==`
`)&&(B="(?: "+B+")",ie=" "+ie,W++),i=new RegExp("^(?:"+B+")",$)),wy&&(i=new RegExp("^"+B+"$(?!\\s)",$)),Ey&&(l=v.lastIndex),c=nd(sg,F?i:v,ie),F?c?(c.input=yy(c.input,W),c[0]=yy(c[0],W),c.index=v.lastIndex,v.lastIndex+=c[0].length):v.lastIndex=0:Ey&&c&&(v.lastIndex=v.global?c.index+c[0].length:l),wy&&c&&c.length>1&&nd(E$,c[0],i,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(c[h]=void 0)}),c&&H)for(c.groups=f=v$(null),h=0;h<H.length;h++)f[(m=H[h])[0]]=c[m[1]];return c});var og=by;Gt({target:"RegExp",proto:!0,forced:/./.exec!==og},{exec:og});var mI=B0,vI=Ds,S$=og,_I=dn,bI=tr,C$=$c,T$=bI("species"),xy=RegExp.prototype,yI=function(a,o,i,l){var c=bI(a),h=!_I(function(){var b={};return b[c]=function(){return 7},""[a](b)!=7}),f=h&&!_I(function(){var b=!1,w=/a/;return a==="split"&&((w={}).constructor={},w.constructor[T$]=function(){return w},w.flags="",w[c]=/./[c]),w.exec=function(){return b=!0,null},w[c](""),!b});if(!h||!f||i){var m=mI(/./[c]),v=o(c,""[a],function(b,w,C,H,F){var $=mI(b),B=w.exec;return B===S$||B===xy.exec?h&&!F?{done:!0,value:m(w,C,H)}:{done:!0,value:$(C,w,H)}:{done:!1}});vI(String.prototype,a,v[0]),vI(xy,c,v[1])}l&&C$(xy[c],"sham",!0)},I$=tT.charAt,EI=function(a,o,i){return o+(i?I$(a,o).length:1)},ky=j,N$=Ra,O$=Math.floor,Sy=ky("".charAt),A$=ky("".replace),Cy=ky("".slice),R$=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M$=/\$([$&'`]|\d{1,2})/g,wI=Hr,D$=De,U$=jt,L$=le,P$=og,F$=TypeError,xI=function(a,o){var i=a.exec;if(U$(i)){var l=wI(i,a,o);return l!==null&&D$(l),l}if(L$(a)==="RegExp")return wI(P$,a,o);throw F$("RegExp#exec called on incompatible receiver")},H$=rC,kI=Hr,lg=j,z$=yI,q$=dn,B$=De,j$=jt,G$=Ke,$$=Gc,V$=S0,td=os,W$=rt,K$=EI,Q$=Ph,Y$=function(a,o,i,l,c,h){var f=i+a.length,m=l.length,v=M$;return c!==void 0&&(c=N$(c),v=R$),A$(h,v,function(b,w){var C;switch(Sy(w,0)){case"$":return"$";case"&":return a;case"`":return Cy(o,0,i);case"'":return Cy(o,f);case"<":C=c[Cy(w,1,-1)];break;default:var H=+w;if(H===0)return b;if(H>m){var F=O$(H/10);return F===0?b:F<=m?l[F-1]===void 0?Sy(w,1):l[F-1]+Sy(w,1):b}C=l[H-1]}return C===void 0?"":C})},X$=xI,Ty=tr("replace"),Z$=Math.max,J$=Math.min,eV=lg([].concat),Iy=lg([].push),SI=lg("".indexOf),CI=lg("".slice),nV=function(a){return a===void 0?a:String(a)},tV="a".replace(/./,"$0")==="$0",TI=!!/./[Ty]&&/./[Ty]("a","$0")==="",rV=!q$(function(){var a=/./;return a.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(a,"$<a>")!=="7"});z$("replace",function(a,o,i){var l=TI?"$":"$0";return[function(c,h){var f=W$(this),m=G$(c)?void 0:Q$(c,Ty);return m?kI(m,c,f,h):kI(o,td(f),c,h)},function(c,h){var f=B$(this),m=td(c);if(typeof h=="string"&&SI(h,l)===-1&&SI(h,"$<")===-1){var v=i(o,f,m,h);if(v.done)return v.value}var b=j$(h);b||(h=td(h));var w=f.global;if(w){var C=f.unicode;f.lastIndex=0}for(var H=[];;){var F=X$(f,m);if(F===null||(Iy(H,F),!w))break;td(F[0])===""&&(f.lastIndex=K$(m,V$(f.lastIndex),C))}for(var $="",B=0,W=0;W<H.length;W++){for(var ie=td((F=H[W])[0]),Z=Z$(J$($$(F.index),m.length),0),pe=[],Oe=1;Oe<F.length;Oe++)Iy(pe,nV(F[Oe]));var te=F.groups;if(b){var X=eV([ie],pe,Z,m);te!==void 0&&Iy(X,te);var Se=td(H$(h,void 0,X))}else Se=Y$(ie,m,Z,pe,te,h);Z>=B&&($+=CI(m,B,Z)+Se,B=Z+ie.length)}return $+CI(m,B)}]},!rV||!tV||TI);var iV=zt,aV=j(1 .valueOf),II=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,sV=rt,oV=os,Ny=II,NI=j("".replace),lV=RegExp("^["+Ny+"]+"),uV=RegExp("(^|[^"+Ny+"])["+Ny+"]+$"),Oy=function(a){return function(o){var i=oV(sV(o));return 1&a&&(i=NI(i,lV,"")),2&a&&(i=NI(i,uV,"$1")),i}},OI={start:Oy(1),end:Oy(2),trim:Oy(3)},cV=Gt,dV=mn,AI=zt,RI=iV,MI=j,hV=P0,DI=Mr,pV=HT,fV=Uh,gV=O_,UI=sS,mV=dn,vV=qh.f,_V=zh.f,bV=et.f,yV=aV,EV=OI.trim,ug="Number",rd=AI[ug];RI[ug];var Ay=rd.prototype,wV=AI.TypeError,xV=MI("".slice),cg=MI("".charCodeAt),kV=function(a){var o,i,l,c,h,f,m,v,b=UI(a,"number");if(gV(b))throw wV("Cannot convert a Symbol value to a number");if(typeof b=="string"&&b.length>2){if(b=EV(b),(o=cg(b,0))===43||o===45){if((i=cg(b,2))===88||i===120)return NaN}else if(o===48){switch(cg(b,1)){case 66:case 98:l=2,c=49;break;case 79:case 111:l=8,c=55;break;default:return+b}for(f=(h=xV(b,2)).length,m=0;m<f;m++)if((v=cg(h,m))<48||v>c)return NaN;return parseInt(h,l)}}return+b},Ry=hV(ug,!rd(" 0o1")||!rd("0b1")||rd("+0x1")),dg=function(a){var o,i=arguments.length<1?0:rd(function(l){var c=UI(l,"number");return typeof c=="bigint"?c:kV(c)}(a));return fV(Ay,o=this)&&mV(function(){yV(o)})?pV(Object(i),this,dg):i};dg.prototype=Ay,Ry&&(Ay.constructor=dg),cV({global:!0,constructor:!0,wrap:!0,forced:Ry},{Number:dg}),Ry&&function(a,o){for(var i,l=dV?vV(o):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),c=0;l.length>c;c++)DI(o,i=l[c])&&!DI(a,i)&&bV(a,i,_V(o,i))}(RI[ug],rd);var My=function(a){Object.keys(a).forEach(function(o){var i;((i=a[o])===void 0||Number.isNaN(i)||i===""||Array.isArray(i)&&i.length===0)&&delete a[o]})},SV=function(){var a=p(u().mark(function o(i){var l,c,h,f,m,v,b,w,C,H,F,$,B;return u().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(i){W.next=2;break}throw new Error("'getCandidateInfo()' is called without rtcConnection");case 2:return W.next=4,i.getStats();case 4:l=W.sent,h=l.entries(),f=0;case 7:if(!(f<l.size)){W.next=18;break}if(m=h.next(),v=m.value){W.next=11;break}return W.abrupt("continue",15);case 11:if((b=v[1]).type!=="candidate-pair"||b.state!=="succeeded"){W.next=15;break}return c=b.localCandidateId,W.abrupt("break",18);case 15:f++,W.next=7;break;case 18:if(!(f<l.size)){W.next=28;break}if(w=h.next(),C=w.value){W.next=22;break}return W.abrupt("continue",25);case 22:if((H=C[1]).type!=="local-candidate"||H.id!==c){W.next=25;break}return W.abrupt("return",{connectionType:(F=H.candidateType)!==null&&F!==void 0?F:"",protocol:($=H.protocol)!==null&&$!==void 0?$:"",relayProtocol:(B=H.relayProtocol)!==null&&B!==void 0?B:""});case 25:f++,W.next=18;break;case 28:return W.abrupt("return",null);case 29:case"end":return W.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),CV=function(){var a=p(u().mark(function o(i){var l,c,h,f,m,v,b;return u().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return l={},c={},h={},f={},m=new Map,v=new Map,i.forEach(function(C){C.type==="codec"&&m.set(C.id,C),C.type==="candidate-pair"&&C.state==="succeeded"&&(b=C.localCandidateId,l.webrtc_timestamp=C.time),C.type==="media-source"&&v.set(C.kind,C)}),i.forEach(function(C){if(C.type==="local-candidate"&&C.id===b&&(c.network_type=C.networkType,c.protocol=C.protocol,c.candidate_type=C.candidateType),C.kind==="audio"||C.mediaType==="audio"){var H;if(C.type==="outbound-rtp"&&(h.codec=(H=m.get(C.codecId))===null||H===void 0?void 0:H.mimeType,h.total_packets_sent=C.packetsSent,h.retransmitted_packets_sent=C.retransmittedPacketsSent),C.type==="remote-inbound-rtp"&&(h.rtt=1e3*C.roundTripTime),C.type==="inbound-rtp"){var F=C.packetsLost/(C.packetsLost+C.packetsReceived)*100;h.total_packets_received=C.packetsReceived,h.total_packets_lost_rate=F,h.total_packets_lost=C.packetsLost,h.jitter=1e3*C.jitter}C.type==="track"&&C.remoteSource&&(h.jitter_buffer_delay=C.jitterBufferDelay,h.jitter_buffer_emitted_count=C.jitterBufferDelayEmittedCount)}if(C.kind==="video"||C.mediaType==="video"){var $,B,W,ie;if(f.video_source_width=($=v.get("video"))===null||$===void 0?void 0:$.width,f.video_source_height=(B=v.get("video"))===null||B===void 0?void 0:B.height,f.video_source_frames_per_second=(W=v.get("video"))===null||W===void 0?void 0:W.framesPerSecond,C.type==="outbound-rtp"&&(f.codec=(ie=m.get(C.codecId))===null||ie===void 0?void 0:ie.mimeType,f.fir_count=C.firCount,f.pli_count=C.pliCount,f.nack_count=C.nackCount,f.qp_sum=C.qpSum,f.retransmitted_packets_sent=C.retransmittedBytesSent,f.quality_limitation_reason=C.qualityLimitationReason,f.quality_limitation_resolution_changes=C.qualityLimitationResolutionChanges),C.type==="remote-inbound-rtp"&&(f.rtt=1e3*C.roundTripTime),C.type==="inbound-rtp"){f.header_bytes_received=C.headerBytesReceived,f.key_frames_decoded=C.keyFramesDecoded,f.total_decode_time=C.totalDecodeTime,f.total_inter_frame_delay=C.totalInterFrameDelay,f.total_squared_inter_frame_delay=C.totalSquaredInterFrameDelay;var Z=C.packetsLost/(C.packetsLost+C.packetsReceived)*100;f.total_packets_lost=C.packetsLost,f.total_packets_received=C.packetsReceived,f.total_packets_lost_rate=Z}C.type==="track"&&(C.remoteSource?(f.jitter_buffer_delay=C.jitterBufferDelay,f.jitter_buffer_emitted_count=C.jitterBufferDelayEmittedCount,f.received_frame_width=C.frameWidth,f.received_frame_height=C.frameHeight,f.frames_received=C.framesReceived,f.frames_decoded=C.framesDecoded,f.frames_dropped=C.framesDropped,f.freeze_count=C.freezeCount,f.pause_count=C.pauseCount,f.total_freezes_duration=C.totalFreezesDuration,f.total_pauses_duration=C.totalPausesDuration,f.total_frames_duration=C.totalFramesDuration,f.sum_of_squared_frames_duration=C.sumOfSquaredFramesDuration):(f.sent_frame_width=C.frameWidth,f.sent_frame_height=C.frameHeight))}}),My(c),My(h),My(f),l.transport_info=c,l.audio=h,l.video=f,w.abrupt("return",l);case 15:case"end":return w.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),TV=function(){var a=p(u().mark(function o(i){var l;return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i){c.next=2;break}throw new Error("'getStats()' is called without rtcConnection");case 2:return c.next=4,i.getStats();case 4:return l=c.sent,c.abrupt("return",CV(l));case 6:case"end":return c.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),LI=function(){function a(o){g(this,a),this._context=o}return y(a,[{key:"state",get:function(){return this._state}},{key:"_changeState",value:function(o){this._state&&this._state.type===o.type||(this._state&&this._state.destroy(),this._state=o,this._state.context=this._context,this._state.start())}}]),a}(),PI=function(){function a(o){g(this,a),this._stateMutator=o}return y(a,[{key:"context",set:function(o){this._context=o}},{key:"start",value:function(){this._onStart()}},{key:"destroy",value:function(){this._onDestroy()}}]),a}(),FI=function(){function a(o,i){g(this,a),this._context=o,this._stateMutator=i,this._context=o,this._stateMutator=i}return y(a,[{key:"state",get:function(){return this._stateMutator.state}}]),a}(),sl=function(a){x(i,a);var o=L(i);function i(l){return g(this,i),o.call(this,l)}return y(i)}(PI),Ct=function(a){return a.IDLE="idle",a.OFFERING="offering",a.ANSWERING="answering",a.CONNECTED="connected",a.RECONNECTING="reconnecting",a.ICE_RESTART_OFFERING="iceRestartOffering",a.ICE_RESTART_ANSWERING="iceRestartAnswering",a.CLOSED="closed",a}({}),IV=function(a){x(l,a);var o,i=L(l);function l(c,h){var f;return g(this,l),E(U(f=i.call(this,c)),"type",Ct.ANSWERING),f._offerCommand=h,f}return y(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("answering"),this._context.createRTCConnection(),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(o=p(u().mark(function c(h){return u().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._context.setRemoteDescription("offer",h.payload.sdp);case 2:this._context.prepareSessionDescription(),this._context.sendAnswer().catch(function(m){});case 4:case"end":return f.stop()}},c,this)})),function(c){return o.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(sl),NV=function(a){x(i,a);var o=L(i);function i(){var l;g(this,i);for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return E(U(l=o.call.apply(o,[this].concat(h))),"type",Ct.CLOSED),l}return y(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(sl),OV=function(a){x(l,a);var o,i=L(l);function l(c,h){var f;return g(this,l),E(U(f=i.call(this,c)),"type",Ct.CONNECTED),f._isReconnected=h,f}return y(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(o=p(u().mark(function c(h){return u().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:this._stateMutator.toReconnecting(h);case 1:case"end":return f.stop()}},c,this)})),function(c){return o.apply(this,arguments)})},{key:"onIceDisconnected",value:function(){this._stateMutator.toReconnecting()}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(sl),AV=function(a){x(l,a);var o,i=L(l);function l(c,h){var f;return g(this,l),E(U(f=i.call(this,c)),"type",Ct.ICE_RESTART_ANSWERING),f._offerCommand=h,f}return y(l,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartAnswering"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(o=p(u().mark(function c(h){return u().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._context.setRemoteDescription("offer",h.payload.sdp);case 2:this._context.sendAnswer().catch(function(m){});case 3:case"end":return f.stop()}},c,this)})),function(c){return o.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(sl),RV=function(a){x(i,a);var o=L(i);function i(){var l;g(this,i);for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return E(U(l=o.call.apply(o,[this].concat(h))),"type",Ct.ICE_RESTART_OFFERING),l}return y(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartOffering"),this._context.sendOffer(!0)}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(l){this._context.setRemoteDescription("answer",l.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(sl),MV=function(a){x(l,a);var o,i=L(l);function l(){var c;g(this,l);for(var h=arguments.length,f=new Array(h),m=0;m<h;m++)f[m]=arguments[m];return E(U(c=i.call.apply(i,[this].concat(f))),"type",Ct.IDLE),c}return y(l,[{key:"_onStart",value:function(){}},{key:"_onDestroy",value:function(){}},{key:"createOffer",value:function(){this._stateMutator.toOffering()}},{key:"onOfferReceived",value:(o=p(u().mark(function c(h){return u().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:this._stateMutator.toAnswering(h);case 1:case"end":return f.stop()}},c,this)})),function(c){return o.apply(this,arguments)})},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),l}(sl),DV=function(a){x(i,a);var o=L(i);function i(){var l;g(this,i);for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return E(U(l=o.call.apply(o,[this].concat(h))),"type",Ct.OFFERING),l}return y(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("offering"),this._context.createRTCConnection(),this._context.prepareSessionDescription()}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(l){this._context.setRemoteDescription("answer",l.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(sl),UV=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this,l)),"type",Ct.RECONNECTING),h._offerCommand=c,h}return y(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("reconnecting"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(l){this._stateMutator.toIceRestartAnswering(l)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(sl),LV=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toIdle",value:function(){this._changeState(new MV(this))}},{key:"toOffering",value:function(){this._changeState(new DV(this))}},{key:"toAnswering",value:function(l){this._changeState(new IV(this,l))}},{key:"toConnected",value:function(l){this._changeState(new OV(this,l))}},{key:"toReconnecting",value:function(l){this._changeState(new UV(this,l))}},{key:"toIceRestartOffering",value:function(){this._changeState(new RV(this))}},{key:"toIceRestartAnswering",value:function(l){this._changeState(new AV(this,l))}},{key:"toClosed",value:function(){this._changeState(new NV(this))}}]),i}(LI),PV=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),(c=o.call(this,l,new LV(l)))._stateMutator.toIdle(),c}return y(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onOfferReceived",value:function(l){fn.verbose("[".concat(this.state.type,"] onOfferReceived"));var c=this.state;switch(c.type){case Ct.IDLE:case Ct.ANSWERING:case Ct.CONNECTED:case Ct.RECONNECTING:case Ct.ICE_RESTART_ANSWERING:c.onOfferReceived(l);break;default:fn.error("[".concat(this.state.type,"] onOfferReceived"))}}},{key:"onAnswerReceived",value:function(l){fn.verbose("[".concat(this.state.type,"] onAnswerReceived"));var c=this.state;switch(c.type){case Ct.OFFERING:case Ct.ICE_RESTART_OFFERING:c.onAnswerReceived(l);break;default:fn.error("[".concat(this.state.type,"] onAnswerReceived"))}}},{key:"onClose",value:function(){fn.verbose("[".concat(this.state.type,"] onClose"));var l=this.state;switch(l.type){case Ct.IDLE:case Ct.OFFERING:case Ct.ANSWERING:case Ct.CONNECTED:case Ct.RECONNECTING:case Ct.ICE_RESTART_OFFERING:case Ct.ICE_RESTART_ANSWERING:l.onClose();break;default:fn.error("[".concat(this.state.type,"] onClose"))}}},{key:"createOffer",value:function(){fn.verbose("[".concat(this.state.type,"] createOffer"));var l=this.state;l.type===Ct.IDLE?l.createOffer():fn.error("[".concat(this.state.type,"] createOffer"))}},{key:"onIceConnected",value:function(){fn.verbose("[".concat(this.state.type,"] onIceConnected"));var l=this.state;switch(l.type){case Ct.OFFERING:case Ct.ANSWERING:case Ct.RECONNECTING:case Ct.ICE_RESTART_OFFERING:case Ct.ICE_RESTART_ANSWERING:l.onIceConnected();break;default:fn.error("[".concat(this.state.type,"] onIceConnected"))}}},{key:"onIceDisconnected",value:function(){fn.verbose("[".concat(this.state.type,"] onIceDisconnected"));var l=this.state;l.type===Ct.CONNECTED?l.onIceDisconnected():fn.error("[".concat(this.state.type,"] onIceDisconnected"))}},{key:"onIceFailed",value:function(){fn.verbose("[".concat(this.state.type,"] onIceFailed"));var l=this.state;switch(l.type){case Ct.CONNECTED:case Ct.RECONNECTING:l.onIceFailed();break;default:fn.error("[".concat(this.state.type,"] onIceFailed"))}}}]),i}(FI),FV=function(a){return a.RELAY="relay",a.ALL="all",a}({}),HV=function(a){x(f,a);var o,i,l,c,h=L(f);function f(m,v,b,w,C,H,F,$){var B;return g(this,f),(B=h.call(this))._ctx=m,B.id=v,B._signalingClient=b,B._localStream=w,B._isInitiator=C,B._turnCredential=H,B._mediaDirections=F,B._isDisposable=$,B._stateMachine=new PV({dispatchEvent:B._dispatchEvent.bind(U(B)),isInitiator:B._isInitiator,setRemoteDescription:B._setRemoteDescription.bind(U(B)),sendAnswer:B._sendAnswer.bind(U(B)),sendOffer:B._sendOffer.bind(U(B)),createRTCConnection:B._createRTCConnection.bind(U(B)),prepareSessionDescription:B._prepareSessionDescription.bind(U(B)),isDisposable:B._isDisposable}),w&&w.on("streamChanged",function(W){return B.onLocalStream(W)}),B}return y(f,[{key:"_state",get:function(){return this._stateMachine.state}},{key:"rtcConnection",get:function(){return this._rtcConnection}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"signalingClient",get:function(){return this._signalingClient}},{key:"onEvent",value:function(m){switch(m.type){case Dy.CANDIDATE:return void this._receiveCandidate(m);case Dy.OFFER:this._stateMachine.onOfferReceived(m);break;case Dy.ANSWER:this._stateMachine.onAnswerReceived(m);break;default:fn.error(new Error("unhandled call event ".concat(m)))}}},{key:"createOffer",value:function(){this._stateMachine.createOffer()}},{key:"close",value:function(){this._closeRTCConnection(),this._stateMachine.onClose()}},{key:"onLocalStream",value:function(m){if(this._rtcConnection){var v,b=Y(m.getTracks());try{for(b.s();!(v=b.n()).done;){var w=v.value;this._replaceTrack(w)}}catch(C){b.e(C)}finally{b.f()}}}},{key:"getCandidateInfo",value:(c=p(u().mark(function m(){return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",SV(this.rtcConnection));case 1:case"end":return v.stop()}},m,this)})),function(){return c.apply(this,arguments)})},{key:"getStatsLog",value:(l=p(u().mark(function m(){return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",TV(this.rtcConnection));case 1:case"end":return v.stop()}},m,this)})),function(){return l.apply(this,arguments)})},{key:"_replaceTrack",value:function(m){var v,b=Y(this._rtcConnection.getSenders());try{for(b.s();!(v=b.n()).done;){var w=v.value;w.track&&w.track.kind===m.kind&&w.replaceTrack(m)}}catch(C){b.e(C)}finally{b.f()}}},{key:"_createRTCConnection",value:function(){var m,v=this;this._turnCredential&&(m={iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:this._turnCredential.transportPolicy||FV.ALL});var b=new RTCPeerConnection(m);b.onnegotiationneeded=function(){v._sendOffer(!1)},b.onicecandidate=function(w){var C,H;w.candidate&&((C=(H=v._signalingClient).sendCandidate)===null||C===void 0||C.call(H,w.candidate))},b.onconnectionstatechange=function(){return v._handleConnectionStateChange(b)},b.oniceconnectionstatechange=function(){return v._handleIceConnectionStateChange(b)},b.ontrack=function(w){return v._onRemoteTrack(w)},this._rtcConnection=b}},{key:"_closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null,delete this._remoteStream)}},{key:"_prepareSessionDescription",value:function(){var m=this._mediaDirections,v=m.audio,b=m.video,w={sendrecv:[],sendonly:[],recvonly:[],none:[]};w[v].push("audio"),w[b].push("video"),w.sendrecv.length&&this._addTracks(w.sendrecv),w.sendonly.length&&this._addSendOnlyTransceivers(w.sendonly),w.recvonly.length&&this._addReceiveOnlyTransceivers(w.recvonly)}},{key:"_addTracks",value:function(m){var v=this;fn.debug("_addTracks()");var b=this._localStream.localStream;b.getTracks().forEach(function(w){m.includes(w.kind)&&v._rtcConnection.addTrack(w,b)})}},{key:"_addReceiveOnlyTransceivers",value:function(m){var v=this;m.forEach(function(b){v._rtcConnection.addTransceiver(b,{direction:"recvonly"})})}},{key:"_addSendOnlyTransceivers",value:function(m){var v=this,b=this._localStream.localStream;m.forEach(function(w){b.getTracks().forEach(function(C){C.kind===w&&v._rtcConnection.addTransceiver(C,{direction:"sendonly",streams:[b]})})})}},{key:"_setRemoteDescription",value:function(m,v){var b=v.replace(/a=extmap:0 ulpfec\r\n/,""),w=new RTCSessionDescription({type:m,sdp:b});return this._rtcConnection.setRemoteDescription(w)}},{key:"_sendOffer",value:(i=p(u().mark(function m(v){var b,w;return u().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return b={iceRestart:v||!1},C.next=3,this._rtcConnection.createOffer(b);case 3:return w=C.sent,C.next=6,this._rtcConnection.setLocalDescription(w);case 6:return C.abrupt("return",this._signalingClient.sendOfferSdp(this._rtcConnection.localDescription));case 7:case"end":return C.stop()}},m,this)})),function(m){return i.apply(this,arguments)})},{key:"_sendAnswer",value:(o=p(u().mark(function m(){var v;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._rtcConnection.createAnswer();case 2:return(v=b.sent).sdp=v.sdp.replace("actpass","active"),b.next=6,this._rtcConnection.setLocalDescription(v);case 6:return b.abrupt("return",this._signalingClient.sendAnswerSdp(this._rtcConnection.localDescription));case 7:case"end":return b.stop()}},m,this)})),function(){return o.apply(this,arguments)})},{key:"_handleIceConnectionStateChange",value:function(m){switch(fn.verbose("[".concat(this._state.type,"] iceConnectionState ").concat(m.iceConnectionState)),m.iceConnectionState){case"connected":this._stateMachine.onIceConnected();break;case"disconnected":this._stateMachine.onIceDisconnected();break;case"failed":this._dispatchEvent("iceFailed")}}},{key:"_handleConnectionStateChange",value:function(m){fn.verbose("[".concat(this._state.type,"] connectionState ").concat(m.connectionState)),m.connectionState==="failed"&&this._dispatchEvent("iceFailed")}},{key:"_receiveCandidate",value:function(m){var v=m.payload.candidate;this._rtcConnection.addIceCandidate({sdpMLineIndex:v.sdpMLineIndex,sdpMid:v.sdpMid,candidate:v.sdp}).catch(function(b){fn.error(b)})}},{key:"_onRemoteTrack",value:function(m){this._remoteStream=m.streams[0],this._dispatchEvent("remoteStream",this._remoteStream)}}]),f}(po),Dy=function(a){return a.OFFER="offer",a.ANSWER="answer",a.CANDIDATE="candidate",a}({}),Uy=y(function a(){var o=this;g(this,a),this.promise=new Promise(function(i,l){o.resolve=i,o.reject=l})}),Ly=function(){var a=p(u().mark(function o(i,l,c){var h,f,m,v,b,w,C,H,F=arguments;return u().wrap(function($){for(;;)switch($.prev=$.next){case 0:return h=F.length>3&&F[3]!==void 0?F[3]:{count:0,deferred:new Uy},f=h.deferred,m=h.count,$.prev=2,$.next=5,l();case 5:b=$.sent,m>0&&((v=c.onRecover)===null||v===void 0||v.call(c)),f.resolve(b),$.next=19;break;case 10:if($.prev=10,$.t0=$.catch(2),(w=c.onError)===null||w===void 0||w.call(c,$.t0),!((C=i.calcTimeout(m+1))>=0)){$.next=18;break}return(H=c.onRetrial)===null||H===void 0||H.call(c,m+1,$.t0),setTimeout(function(){Ly(i,l,c,{count:m+1,deferred:f})},C),$.abrupt("return",f.promise);case 18:f.reject($.t0);case 19:return $.abrupt("return",f.promise);case 20:case"end":return $.stop()}},o,null,[[2,10]])}));return function(o,i,l){return a.apply(this,arguments)}}(),zV=function(){function a(){g(this,a)}return y(a,[{key:"calcTimeout",value:function(o){switch(o){case 1:return 1e3;case 2:return 2e3;case 3:return 3e3;default:return-1}}}]),a}(),HI=function(){function a(o,i,l){g(this,a),this.interval=o,this.noise=i,this.maxRetrial=l}return y(a,[{key:"calcTimeout",value:function(o){return o>this.maxRetrial?-1:this.interval+(Math.random()-.5)*this.noise*2}}]),a}(),zI=function(){function a(o){g(this,a),this._requests=new Map,this.timeoutTime=o}return y(a,[{key:"has",value:function(o){return this._requests.has(o)}},{key:"get",value:function(o){return this._requests.get(o)}},{key:"register",value:function(o){if(!o)throw new Error("invalid request id");if(this._requests.has(o))throw new Error("duplicate requests");var i=new Uy;return this._requests.set(o,{deferred:i,timer:this._createTimeoutTimer(o)}),i}},{key:"unregister",value:function(o){if(!this._requests.has(o))return null;var i=this._requests.get(o),l=i.timer,c=i.deferred;return clearTimeout(l),this._requests.delete(o),c}},{key:"_createTimeoutTimer",value:function(o){var i=this;return setTimeout(function(){i.unregister(o).reject(new Error("no response due to timeout"))},this._getTimeoutTime())}},{key:"rejectAll",value:function(o){var i,l=Y(this._requests.keys());try{for(l.s();!(i=l.n()).done;){var c=i.value,h=this._requests.get(c);clearTimeout(h.timer),h.deferred.reject(o)}}catch(f){l.e(f)}finally{l.f()}this._requests.clear()}},{key:"_getTimeoutTime",value:function(){return this.timeoutTime}}]),a}(),qV=function(){function a(c,h,f,m){g(this,a),E(this,"_timeoutTime",6e4),this._ctx=c,this._participantId=h,this._mediaDirections=f,this._endpointId=m,this._requestMap=new zI(this._timeoutTime)}var o,i,l;return y(a,[{key:"sendOfferSdp",value:(l=p(u().mark(function c(h){return u().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this._endpointId){f.next=5;break}return f.next=3,this._sendOfferAndUnregisterCreateEndpointRequest(h);case 3:f.next=7;break;case 5:return f.next=7,this._sendOfferAndUnregisterPutEndpointRequest(h);case 7:case"end":return f.stop()}},c,this)})),function(c){return l.apply(this,arguments)})},{key:"_sendOfferAndUnregisterCreateEndpointRequest",value:(i=p(u().mark(function c(h){var f,m;return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return f=this._requestMap.unregister("".concat(this._participantId,":create-endpoint-request")),v.prev=1,v.next=4,this._sendCreateEndpoint(h);case 4:return m=v.sent,f&&f.resolve(m),v.abrupt("return",m);case 9:throw v.prev=9,v.t0=v.catch(1),f&&f.reject(v.t0),v.t0;case 13:case"end":return v.stop()}},c,this,[[1,9]])})),function(c){return i.apply(this,arguments)})},{key:"_sendOfferAndUnregisterPutEndpointRequest",value:(o=p(u().mark(function c(h){var f,m;return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return f=this._requestMap.unregister("".concat(this._participantId,":put-endpoint-request")),v.prev=1,v.next=4,this._sendPutEndpoint(h);case 4:return m=v.sent,f&&f.resolve(m),v.abrupt("return",m);case 9:throw v.prev=9,v.t0=v.catch(1),f&&f.reject(v.t0),v.t0;case 13:case"end":return v.stop()}},c,this,[[1,9]])})),function(c){return o.apply(this,arguments)})},{key:"registerCreateEndpointRequest",value:function(){if(this._endpointId)throw new Error("Cannot register create endpoint request on endpoint recycle");return this._requestMap.register("".concat(this._participantId,":create-endpoint-request"))}},{key:"registerPutEndpointRequest",value:function(){if(!this._endpointId)throw new Error("Cannot register put endpoint request without endpoint id");return this._requestMap.register("".concat(this._participantId,":put-endpoint-request"))}},{key:"_sendCreateEndpoint",value:function(c){return this._ctx.sendCreateEndpoint(c)}},{key:"_sendPutEndpoint",value:function(c){return this._ctx.sendPutEndpoint(c)}}]),a}(),ol=function(a){x(i,a);var o=L(i);function i(l){return g(this,i),o.call(this,l)}return y(i)}(PI),gt=function(a){return a.IDLE="idle",a.OFFERING="offering",a.ESTABLISHED="established",a.CONNECTED="connected",a.DISCONNECTED="disconnected",a.RECONNECTING="reconnecting",a.RELEASING="releasing",a.CLOSED="closed",a}({}),BV=function(a){x(i,a);var o=L(i);function i(){var l;g(this,i);for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return E(U(l=o.call.apply(o,[this].concat(h))),"type",gt.CLOSED),l}return y(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(ol),jV=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this,l)),"type",gt.CONNECTED),c}return y(i,[{key:"_onStart",value:function(){var l=this._context.reconnectCount>0;this._context.dispatchEvent("connected",l)}},{key:"_onDestroy",value:function(){}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!0)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(ol),GV=function(a){x(i,a);var o=L(i);function i(l,c,h){var f;return g(this,i),E(U(f=o.call(this,l)),"type",gt.ESTABLISHED),f._sdp=c,f._hasPendingAttach=h,f}return y(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("established"),this._context.setRemoteDescription(this._sdp),this._hasPendingAttach&&this.onAttach()}},{key:"_onDestroy",value:function(){}},{key:"onPCConnected",value:function(){this._stateMutator.toConnected()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(ol),$V=function(a){x(i,a);var o=L(i);function i(){var l;g(this,i);for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return E(U(l=o.call.apply(o,[this].concat(h))),"type",gt.IDLE),l}return y(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("idle"),this._stateMutator.toOffering()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(ol),VV=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this,l)),"type",gt.OFFERING),c}return y(i,[{key:"_onStart",value:function(){this._request()}},{key:"_onDestroy",value:function(){this._requestTimeout&&clearTimeout(this._requestTimeout),delete this._requestTimeout}},{key:"_request",value:function(){this._context.createSession(),this._context.requestCreateOrPutEndpoint()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onEndpointRequestSucceeded",value:function(l){this._stateMutator.toEstablished(l,this._hasPendingAttach)}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._hasPendingAttach=!0}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(ol),WV=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this,l)),"type",gt.DISCONNECTED),h.shouldDispatchEvent=c,h}return y(i,[{key:"_onStart",value:function(){this.shouldDispatchEvent&&this._context.dispatchEvent("disconnected"),this._stateMutator.toReconnecting()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(ol),KV=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this,l)),"type",gt.RECONNECTING),c}return y(i,[{key:"_onStart",value:function(){var l=this;this._context.reconnectCount+=1,setTimeout(function(){l._stateMutator.toOffering()},5e3+1e3*Math.random())}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(ol),QV=function(a){x(i,a);var o=L(i);function i(){var l;g(this,i);for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return E(U(l=o.call.apply(o,[this].concat(h))),"type",gt.RELEASING),l}return y(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("releasing"),this._context.closePeerConnection(),this._context.endpoint.id&&this._context.requestRelease()}},{key:"_onDestroy",value:function(){}},{key:"onEndpointRequestSucceeded",value:function(){this._context.requestRelease()}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toClosed()}},{key:"onReleased",value:function(){this._stateMutator.toClosed()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(ol),YV=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"Endpoint"}},{key:"toIdle",value:function(){this._changeState(new $V(this))}},{key:"toOffering",value:function(){this._changeState(new VV(this))}},{key:"toEstablished",value:function(l,c){this._changeState(new GV(this,l,c))}},{key:"toConnected",value:function(){this._changeState(new jV(this))}},{key:"toDisconnected",value:function(l){this._changeState(new WV(this,l))}},{key:"toReconnecting",value:function(){this._changeState(new KV(this))}},{key:"toReleasing",value:function(){this._changeState(new QV(this))}},{key:"toClosed",value:function(){this._changeState(new BV(this))}}]),i}(LI),XV=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),(c=o.call(this,l,new YV(l)))._stateMutator.toIdle(),c}return y(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onEndpointRequestSucceeded",value:function(l){fn.verbose("[".concat(this.state.type,"] onEndpointRequestSucceeded"));var c=this.state;switch(c.type){case gt.OFFERING:c.onEndpointRequestSucceeded(l);break;case gt.RELEASING:c.onEndpointRequestSucceeded();break;default:fn.error("[".concat(this.state.type,"] onEndpointRequestSucceeded"))}}},{key:"onEndpointRequestFailed",value:function(){fn.verbose("[".concat(this.state.type,"] onEndpointCreateFailed"));var l=this.state;switch(l.type){case gt.OFFERING:case gt.RELEASING:l.onEndpointRequestFailed();break;default:fn.error("[".concat(this.state.type,"] onEndpointCreateFailed"))}}},{key:"onICEFailed",value:function(){fn.verbose("[".concat(this.state.type,"] onICEFailed"));var l=this.state;switch(l.type){case gt.OFFERING:case gt.ESTABLISHED:case gt.CONNECTED:l.onICEFailed();break;default:fn.error("[".concat(this.state.type,"] onICEFailed"))}}},{key:"onPCConnected",value:function(){fn.verbose("[".concat(this.state.type,"] onPCConnected"));var l=this.state;l.type===gt.ESTABLISHED?l.onPCConnected():fn.error("[".concat(this.state.type,"] onPCConnected"))}},{key:"onAttach",value:function(){fn.verbose("[".concat(this.state.type,"] onAttach"));var l=this.state;switch(l.type){case gt.OFFERING:case gt.ESTABLISHED:case gt.CONNECTED:l.onAttach();break;default:fn.error("[".concat(this.state.type,"] onAttach"))}}},{key:"onRelease",value:function(){fn.verbose("[".concat(this.state.type,"] onRelease"));var l=this.state;switch(l.type){case gt.IDLE:case gt.OFFERING:case gt.ESTABLISHED:case gt.CONNECTED:case gt.DISCONNECTED:case gt.RECONNECTING:l.onRelease();break;default:fn.error("[".concat(this.state.type,"] onRelease"))}}},{key:"onReleased",value:function(){fn.verbose("[".concat(this.state.type,"] onReleased"));var l=this.state;l.type===gt.RELEASING?l.onReleased():fn.error("[".concat(this.state.type,"] onReleased"))}},{key:"onExit",value:function(){fn.verbose("[".concat(this.state.type,"] onExit"));var l=this.state;switch(l.type){case gt.RELEASING:case gt.IDLE:case gt.CONNECTED:case gt.ESTABLISHED:case gt.OFFERING:case gt.DISCONNECTED:case gt.RECONNECTING:l.onExit();break;default:fn.error("[".concat(this.state.type,"] onExit"))}}}]),i}(FI),Py=function(a){x(i,a);var o=L(i);function i(){return g(this,i),o.apply(this,arguments)}return y(i)}(function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),(c=o.call(this)).payload=l.payload||{},c}return y(i)}(ng)),Fy=function(a){return a.OFFER="offer",a.ANSWER="answer",a.CANDIDATE="candidate",a}({}),ZV=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this,{payload:l})),"type",Fy.ANSWER),c}return y(i)}(Py),JV=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this,{payload:l})),"type",Fy.CANDIDATE),c}return y(i)}(Py),eW=function(a){x(i,a);var o=L(i);function i(l){var c;return g(this,i),E(U(c=o.call(this,{payload:l})),"type",Fy.OFFER),c}return y(i)}(Py),nW=function(){function a(){g(this,a)}return y(a,null,[{key:"createOffer",value:function(o,i){return new eW({peerConnectionId:o,sdp:i})}},{key:"createAnswer",value:function(o,i){return new ZV({peerConnectionId:o,sdp:i})}},{key:"createCandidate",value:function(o,i){return new JV({peerConnectionId:o,candidate:i})}}]),a}(),qI=function(a){x(i,a);var o=L(i);function i(l,c,h,f){var m;return g(this,i),E(U(m=o.call(this)),"tmpId",Ye()),E(U(m),"_createSession",function(){switch(fn.debug("_createSession()"),m.type){case"master":m._createMasterSession();break;case"viewer":m._createViewerSession();break;default:fn.error("Not supported endpoint type : ",m.type)}}),E(U(m),"_closePeerConnection",function(){var v,b;fn.debug("_closePeerConnection()"),(v=m._pc)===null||v===void 0||v.removeAllEventListeners(),(b=m._pc)===null||b===void 0||b.close(),m._pc=null}),E(U(m),"_requestCreateOrPutEndpoint",function(){fn.debug("_requestCreateOrPutEndpoint()");var v,b=m._pc;v=m.id?b.signalingClient.registerPutEndpointRequest():b.signalingClient.registerCreateEndpointRequest(),b.createOffer(),v.promise.then(function(w){m.id=w.payload.endpoint.id,m._stateMachine.onEndpointRequestSucceeded(w.payload.sdp)}).catch(function(w){fn.error("Endpoint request failed",w),m._stateMachine.onEndpointRequestFailed()})}),E(U(m),"_requestAttach",function(){Ly(new HI(5e3,1e3,8),function(){return m._sendAttach(m.attachedTo)},{onError:function(v){fn.error("Fail attach endpoint endpointId = ".concat(m.id,", to = ").concat(m.attachedTo," ErrorCode = ").concat(v.code))}}).then(function(){m._dispatchEvent("attached",m.attachedTo)})}),E(U(m),"_requestRelease",function(){fn.debug("_requestRelease()"),m._sendReleaseEndpoint().then(function(){m._stateMachine.onReleased()}).catch(function(v){fn.error("Release request failed",v),m._stateMachine.onReleased()})}),E(U(m),"_setRemoteDescription",function(v){fn.debug("_setRemoteDescription()");var b=m._pc,w=nW.createAnswer(void 0,v);b.onEvent(w),b.once("connected",function(){m._stateMachine.onPCConnected(),m._sendConnected()}),b.once("iceFailed",function(){m._stateMachine.onICEFailed()})}),m._ctx=l,m._localStream=c,m._participantId=f,m.type=h,m._stateMachine=new XV({endpoint:U(m),dispatchEvent:m._dispatchEvent.bind(U(m)),createSession:m._createSession,requestCreateOrPutEndpoint:m._requestCreateOrPutEndpoint,setRemoteDescription:m._setRemoteDescription,closePeerConnection:m._closePeerConnection,requestAttach:m._requestAttach,requestRelease:m._requestRelease,trialCount:0,reconnectCount:0}),m}return y(i,[{key:"remoteStream",get:function(){var l;return(l=this._pc)===null||l===void 0?void 0:l.remoteStream}},{key:"_state",get:function(){return this._stateMachine.state}},{key:"_masterSessionDirection",get:function(){return this._ctx.masterSessionDirection}},{key:"_viewerSessionDirection",get:function(){return this._ctx.viewerSessionDirection}},{key:"attach",value:function(l){fn.debug("attach()"),this.attachedTo=l,this._stateMachine.onAttach()}},{key:"release",value:function(){fn.debug("release()"),this._stateMachine.onRelease()}},{key:"exit",value:function(){fn.debug("exit()"),this._closePeerConnection(),this._stateMachine.onExit()}},{key:"_createMasterSession",value:function(){fn.debug("_createMasterSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._masterSessionDirection,this._localStream)}},{key:"_createViewerSession",value:function(){fn.debug("_createViewerSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._viewerSessionDirection,void 0)}},{key:"_createPeerConnection",value:function(l,c){var h=this;fn.debug("_createPeerConnection()");var f=new qV(this._ctx,this._participantId,l,this.id);this._pc=new HV(this._ctx,void 0,f,c,!0,void 0,l,!0),this._pc.on("remoteStream",function(m){h._dispatchEvent("remoteStream",m)}),this._dispatchEvent("pcChanged",this._pc)}},{key:"_sendConnected",value:function(){return this._ctx.sendConnected(this)}},{key:"_sendReleaseEndpoint",value:function(){return this._ctx.sendReleaseEndpoint(this)}},{key:"_sendAttach",value:function(l){return this._ctx.sendAttach(this,l)}}]),i}(po),tW=Hr,rW=Rs,iW=Eu,aW=V0,sW=Xh;Gt({target:"Promise",stat:!0,forced:qb},{allSettled:function(a){var o=this,i=iW.f(o),l=i.resolve,c=i.reject,h=aW(function(){var f=rW(o.resolve),m=[],v=0,b=1;sW(a,function(w){var C=v++,H=!1;b++,tW(f,o,w).then(function(F){H||(H=!0,m[C]={status:"fulfilled",value:F},--b||l(m))},function(F){H||(H=!0,m[C]={status:"rejected",reason:F},--b||l(m))})}),--b||l(m)});return h.error&&c(h.value),i.promise}});var id=function(a){return a.TOP_LEFT="top_left",a.TOP_RIGHT="top_right",a.BOTTOM_LEFT="bottom_left",a.BOTTOM_RIGHT="bottom_right",a.HIDDEN="hidden",a}({}),oW=function(a){x(l,a);var o,i=L(l);function l(){return g(this,l),i.call(this)}return y(l,[{key:"stream",get:function(){return this._stream}},{key:"isSharing",get:function(){return!!this._stream}},{key:"startStream",value:(o=p(u().mark(function c(){var h,f=this;return u().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 3:h=m.sent,this._stream=h,this._stream.getVideoTracks()[0].onended=function(){f._releaseStream(),f._dispatchEvent("streamStopped")},m.next=19;break;case 8:m.prev=8,m.t0=m.catch(0),m.t1=m.t0.name,m.next=m.t1==="InvalidStateError"?13:m.t1==="NotAllowedError"?14:m.t1==="NotFoundError"?15:m.t1==="NotReadableError"?16:17;break;case 13:case 14:case 15:case 16:return m.abrupt("break",18);case 17:throw new Error("");case 18:throw new Error("failed to start screen share");case 19:case"end":return m.stop()}},c,this,[[0,8]])})),function(){return o.apply(this,arguments)})},{key:"stopStream",value:function(){this._releaseStream(),this._dispatchEvent("streamStopped")}},{key:"_releaseStream",value:function(){if(this._stream){var c,h=Y(this._stream.getTracks());try{for(h.s();!(c=h.n()).done;)c.value.stop()}catch(f){h.e(f)}finally{h.f()}delete this._stream}}}]),l}(po),ad=null;function lW(a,o){var i=[];ad||(ad=new(window.AudioContext||window.webkitAudioContext));var l=ad.createGain();if(l.gain.value=1,a){var c=new MediaStream;c.addTrack(a),i.push(ad.createMediaStreamSource(c).connect(l))}if(o){var h=new MediaStream;h.addTrack(o),i.push(ad.createMediaStreamSource(h).connect(l))}for(var f=ad.createMediaStreamDestination(),m=0,v=i;m<v.length;m++)v[m].connect(f);return f.stream.getAudioTracks()[0]}var uW=function(a){x(m,a);var o,i,l,c,h,f=L(m);function m(v){var b,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{audio:!0,video:!0},C=arguments.length>2?arguments[2]:void 0;return g(this,m),E(U(b=f.call(this)),"isCustomStreaming",!1),E(U(b),"_checkScreenSharePrerequisites",function(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("screen share is not supported in this browser")}),b._deviceManager=v,b._mediaConstraints=w,b._screenShareOptions=C,b._screenShare=new oW,b._screenShare.on("streamStopped",function(){b._releaseMergedStream(),b._dispatchEvent("screenShareStreamStopped")}),b}return y(m,[{key:"mediaConstraints",set:function(v){this._mediaConstraints=v}},{key:"screenShareOptions",set:function(v){var b=this;this._screenShareOptions=v,this._screenShare.isSharing&&v!=null&&v.frameRate&&(this._releaseMergedStream(!1),this._mergeOverlayingScreenShareStream().then(function(){b._dispatchEvent("streamChanged",b.localStream)}))}},{key:"hasPermission",get:function(){var v;return(v=this._mediaAccess)===null||v===void 0?void 0:v.hasPermission}},{key:"localStream",get:function(){return this.isCustomStreaming?this._customStream:this.isScreenSharing?this._mergedStream:this.getLocalMediaStream()}},{key:"mergedStream",get:function(){return this._mergedStream}},{key:"screenStream",get:function(){return this._screenShare.stream}},{key:"customStream",get:function(){return this._customStream}},{key:"isScreenSharing",get:function(){return this._screenShare.isSharing}},{key:"useScreenStream",value:(h=p(u().mark(function v(){return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return this._checkScreenSharePrerequisites(),b.next=3,this._screenShare.startStream();case 3:this._mergeScreenShareStream(),this._dispatchEvent("streamChanged",this.localStream);case 5:case"end":return b.stop()}},v,this)})),function(){return h.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._screenShare.isSharing&&this._screenShare.stopStream()}},{key:"startOverlayingScreenStream",value:(c=p(u().mark(function v(b){return u().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return b&&(this._screenShareOptions=b),this._checkScreenSharePrerequisites(),w.next=4,this._screenShare.startStream();case 4:return w.next=6,this._mergeOverlayingScreenShareStream();case 6:this._dispatchEvent("streamChanged",this.localStream);case 7:case"end":return w.stop()}},v,this)})),function(v){return c.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(l=p(u().mark(function v(b){return u().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.prev=0,this._streamProcessor=b,w.next=4,this._applyStreamProcessor();case 4:this.isCustomStreaming=!0,this._dispatchEvent("streamChanged",this.localStream),w.next=11;break;case 8:w.prev=8,w.t0=w.catch(0),fn.error("failed to use custom stream",w.t0);case 11:case"end":return w.stop()}},v,this,[[0,8]])})),function(v){return l.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this.isCustomStreaming&&(this._releaseCustomStream(!1),this.isCustomStreaming=!1,this._dispatchEvent("streamChanged",this.localStream))}},{key:"getLocalMediaStream",value:function(){return this._mediaAccess||this._grantMediaAccess(this._mediaConstraints),this._mediaAccess.stream}},{key:"revokeMediaAccess",value:function(){this._mediaAccess&&(this._mediaAccess.dispose(),this._mediaAccess=null)}},{key:"release",value:function(){this.stopScreenShare(),this.revokeMediaAccess()}},{key:"_grantMediaAccess",value:function(v){var b=this;this._mediaAccess=this._deviceManager.useMedia(v);var w=[];this._mediaAccess.on("streamChanged",function(){b._screenShare.isSharing&&w.push(b._mergeOverlayingScreenShareStream()),b.isCustomStreaming&&w.push(b._applyStreamProcessor()),w.length>0?Promise.allSettled(w).then(function(){return b._dispatchEvent("streamChanged",b.localStream)}):b._dispatchEvent("streamChanged",b.localStream)}),this._mediaAccess.on("audioOutputChanged",function(){return b._dispatchEvent("audioOutputChanged")})}},{key:"_mergeScreenShareStream",value:function(){if(this._screenShare.isSharing){var v=new MediaStream;this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&v.addTrack(this._mediaAccess.stream.getAudioTracks()[0]),v.addTrack(this.screenStream.getVideoTracks()[0]),this._mergedStream=v}}},{key:"_mergeOverlayingScreenShareStream",value:(i=p(u().mark(function v(){var b,w,C,H,F,$,B,W,ie,Z,pe,Oe,te,X=this;return u().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(this._screenShare.isSharing){Se.next=2;break}return Se.abrupt("return");case 2:return w=!1,C=document.createElement("canvas"),(H=document.createElement("video")).srcObject=this.screenStream,H.muted=!0,Se.next=9,H.play();case 9:return(F=document.createElement("video")).srcObject=this.getLocalMediaStream(),F.muted=!0,Se.next=14,F.play();case 14:$=H.videoWidth,B=H.videoHeight,C.width=$,C.height=B,W=C.getContext("2d"),ie=setInterval(function(){var xe;if(!w){w=!0;var we=H.videoWidth,Be=H.videoHeight,mt=F.videoWidth,Ve=F.videoHeight;(B<Be||$<we)&&($=we,B=Be,C.width=we,C.height=Be,W.fillRect(0,0,$,B)),H.width=we,H.height=Be,W.drawImage(H,0,0,we,Be);var Ge=X.enumToPosition((xe=X._screenShareOptions)===null||xe===void 0?void 0:xe.cameraOverlayPosition,mt,Ve,C.width,C.height),on=Ge.dx,Tn=Ge.dy,_n=Ge.dw,vt=Ge.dh;W.drawImage(F,on,Tn,_n,vt),w=!1}},(b=this._screenShareOptions)!==null&&b!==void 0&&b.frameRate?1e3/this._screenShareOptions.frameRate:1e3/24),Z=C.captureStream(),this.mergeInterval=ie,this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&(pe=this._mediaAccess.stream.getAudioTracks()[0]),this.screenStream&&this.screenStream.getAudioTracks().length>0&&(Oe=this.screenStream.getAudioTracks()[0]),te=lW(pe,Oe),Z.addTrack(te),this._mergedStream=Z;case 27:case"end":return Se.stop()}},v,this)})),function(){return i.apply(this,arguments)})},{key:"_applyStreamProcessor",value:(o=p(u().mark(function v(){var b;return u().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if((b=this._mediaAccess)===null||b===void 0||!b.stream){w.next=4;break}return w.next=3,this._streamProcessor(this._mediaAccess.stream);case 3:this._customStream=w.sent;case 4:case"end":return w.stop()}},v,this)})),function(){return o.apply(this,arguments)})},{key:"_releaseMergedStream",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._mergedStream&&(this._mergedStream.removeTrack(this._mergedStream.getAudioTracks()[0]),delete this._mergedStream,this.mergeInterval&&(clearInterval(this.mergeInterval),delete this.mergeInterval),v&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"_releaseCustomStream",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._customStream&&(delete this._customStream,delete this._streamProcessor,v&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"enumToPosition",value:function(v,b,w,C,H){var F=b/w,$=.2*H,B=.2*C*(1/F),W=Math.min($,B),ie=W*F,Z=Math.min(.05*C,.05*H),pe=C-ie-Z,Oe=H-W-Z;switch(v){case id.HIDDEN:return{dx:0,dy:0,dw:0,dh:0};case id.TOP_LEFT:return{dx:Z,dy:Z,dw:ie,dh:W};case id.TOP_RIGHT:return{dx:pe,dy:Z,dw:ie,dh:W};case id.BOTTOM_LEFT:return{dx:Z,dy:Oe,dw:ie,dh:W};case id.BOTTOM_RIGHT:default:return{dx:pe,dy:Oe,dw:ie,dh:W}}}}]),m}(po),Hy=function(){function a(f,m,v,b,w){g(this,a),this._liveEvent=f,this._sender=v,this._deviceManager=m,this._mediaOption=b,this._screenShareOptions=w}var o,i,l,c,h;return y(a,[{key:"mediaView",get:function(){return this._mediaView},set:function(f){this._mediaView!==f&&(this._mediaView&&(this._mediaView=null),f?this.isHostStream?this._mediaView=this._updateMediaViewStream(f,this.localStream):this._mediaView=this._updateMediaViewStream(f,this.remoteStream):delete this._mediaView)}},{key:"localStream",get:function(){var f;return(f=this._localStream)===null||f===void 0?void 0:f.localStream}},{key:"remoteStream",get:function(){var f;return(f=this._endpoint)===null||f===void 0?void 0:f.remoteStream}},{key:"isHostStream",get:function(){return this._mediaOption}},{key:"_createLocalStream",value:function(){var f=this;this._localStream=new uW(this._deviceManager,{audio:!0,video:!0},this._screenShareOptions),this._localStream.on("streamChanged",function(){f._onLocalStream()}),this._mediaOption.streamProcessor&&this._localStream.startUsingExternalVideo(this._mediaOption.streamProcessor)}},{key:"_createEndpoint",value:function(){var f=this;if(this.isHostStream)return this._localStream||this._createLocalStream(),new qI({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},this._localStream,"master",this._liveEvent.host.hostId);var m=new qI({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},void 0,"viewer",this._liveEvent.currentLiveUser.participantId);return m.on("remoteStream",function(v){f._onStream()}),m.on("connected",function(v){v&&f._onEndpointReconnected()}),m}},{key:"openStream",value:function(){this._endpoint&&this._teardown(),this._endpoint=this._createEndpoint()}},{key:"closeStream",value:function(f){f&&(this._endpoint.release(),this._endpoint.removeAllEventListeners()),this._teardown()}},{key:"attach",value:function(f){this._endpoint.attach(f)}},{key:"toggleAudio",value:function(f){var m,v,b;(m=this.localStream.getAudioTracks())===null||m===void 0||m.forEach(function(w){w.enabled=f}),(v=this._localStream.getLocalMediaStream())===null||v===void 0||(b=v.getAudioTracks())===null||b===void 0||b.forEach(function(w){w.enabled=f}),this._mediaOption.turnAudioOn=f}},{key:"toggleVideo",value:function(f){var m,v,b;(m=this.localStream.getVideoTracks())===null||m===void 0||m.forEach(function(w){w.enabled=f}),(v=this._localStream.getLocalMediaStream())===null||v===void 0||(b=v.getVideoTracks())===null||b===void 0||b.forEach(function(w){w.enabled=f}),this._mediaOption.turnVideoOn=f}},{key:"startUsingExternalVideo",value:(h=p(u().mark(function f(m){return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this._localStream.startUsingExternalVideo(m);case 2:case"end":return v.stop()}},f,this)})),function(f){return h.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this._localStream.stopUsingExternalVideo()}},{key:"startScreenShare",value:(c=p(u().mark(function f(m){return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return this._screenShareOptions=m,v.next=3,this._localStream.startOverlayingScreenStream(m);case 3:case"end":return v.stop()}},f,this)})),function(f){return c.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._localStream.stopScreenShare()}},{key:"setScreenShareOptions",value:function(f){this._screenShareOptions=f,this._localStream&&(this._localStream.screenShareOptions=f)}},{key:"chooseMediaDevice",value:function(f,m){this._deviceManager.selectDevice(f,m)}},{key:"_onLocalStream",value:function(){this.toggleAudio(this._mediaOption.turnAudioOn),this.toggleVideo(this._mediaOption.turnVideoOn),this._mediaView&&this._updateMediaViewStream(this._mediaView,this.localStream)}},{key:"_onStream",value:function(){var f=this.remoteStream;this._mediaView&&this._updateMediaViewStream(this._mediaView,f)}},{key:"_onEndpointReconnected",value:function(){var f=this._endpoint;f.type==="viewer"&&f.attachedTo&&this.attach(f.attachedTo)}},{key:"_updateMediaViewStream",value:function(f,m){return m&&(f.srcObject=m),f}},{key:"_sendConnected",value:(l=p(u().mark(function f(m){var v;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return v=this.isHostStream?Ot.createHostConnected(this._liveEvent.liveEventId,this._liveEvent.host.hostId,m.id):Ot.createConnected(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.id),b.abrupt("return",this._sender.send(v));case 2:case"end":return b.stop()}},f,this)})),function(f){return l.apply(this,arguments)})},{key:"_sendReleaseEndpoint",value:function(f){var m;return m=this.isHostStream?Ot.createHostDeleteStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,f.id):Ot.createDeleteStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,f.id),this._sender.sendWithRetry(m)}},{key:"_sendAttach",value:function(f,m){var v=Ot.createAttach(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,f.id,m);return this._sender.sendWithRetry(v)}},{key:"_sendCreateEndpoint",value:(i=p(u().mark(function f(m){var v,b;return u().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!this.isHostStream){w.next=5;break}return v=Ot.createHostCreateStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,m.sdp,"sendonly","sendonly"),w.abrupt("return",this._sender.send(v));case 5:return b=Ot.createStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,m.sdp,"recvonly","recvonly"),w.abrupt("return",this._sender.send(b));case 7:case"end":return w.stop()}},f,this)})),function(f){return i.apply(this,arguments)})},{key:"_sendPutEndpoint",value:(o=p(u().mark(function f(m){return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,this._sendReleaseEndpoint(this._endpoint);case 3:v.next=8;break;case 5:v.prev=5,v.t0=v.catch(0),fn.error("failed to remove endpoint");case 8:return v.abrupt("return",this._sendCreateEndpoint(m));case 9:case"end":return v.stop()}},f,this,[[0,5]])})),function(f){return o.apply(this,arguments)})},{key:"_teardown",value:function(){var f,m;(f=this._endpoint)===null||f===void 0||f.exit(),(m=this._endpoint)===null||m===void 0||m.removeAllEventListeners(),this._endpoint=null}}]),a}(),bi=function(a){return a[a.ERR_REQUEST_FAILED=1800200]="ERR_REQUEST_FAILED",a[a.ERR_WEBSOCKET_CONNECTION_NOT_OPENED=1800201]="ERR_WEBSOCKET_CONNECTION_NOT_OPENED",a[a.ERR_WEBSOCKET_CONNECTION_FAILED=1800202]="ERR_WEBSOCKET_CONNECTION_FAILED",a[a.ERR_NO_RESPONSE_DUE_TO_TIMEOUT=1800203]="ERR_NO_RESPONSE_DUE_TO_TIMEOUT",a[a.ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST=1800204]="ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST",a[a.ERR_WRONG_RESPONSE=1800205]="ERR_WRONG_RESPONSE",a[a.ERR_QUERY_IN_PROGRESS=1800206]="ERR_QUERY_IN_PROGRESS",a[a.INTERNAL_SERVER_ERROR=1800207]="INTERNAL_SERVER_ERROR",a[a.ERR_MALFORMED_DATA=1800208]="ERR_MALFORMED_DATA",a[a.LIVE_EVENT_ID_NOT_FOUND=2800100]="LIVE_EVENT_ID_NOT_FOUND",a[a.ACTION_NOT_ALLOWED_IN_CURRENT_STATE=2800101]="ACTION_NOT_ALLOWED_IN_CURRENT_STATE",a[a.ACTION_NOT_ALLOWED_FOR_PARTICIPANT=2800102]="ACTION_NOT_ALLOWED_FOR_PARTICIPANT",a[a.USER_NOT_ENTERED_LIVE_EVENT=2800103]="USER_NOT_ENTERED_LIVE_EVENT",a[a.STREAM_NOT_STARTED=2800104]="STREAM_NOT_STARTED",a[a.CONNECTION_TO_MEDIA_STREAM_FAILED=2800105]="CONNECTION_TO_MEDIA_STREAM_FAILED",a[a.UNKNOWN_NETWORK_ERROR=2800400]="UNKNOWN_NETWORK_ERROR",a[a.QUERY_IN_PROGRESS=2800900]="QUERY_IN_PROGRESS",a[a.OPEN_CHANNEL_NOT_FETCHED=2800901]="OPEN_CHANNEL_NOT_FETCHED",a}({}),cW=function(){function a(){g(this,a)}return y(a,null,[{key:"getErrorMessage",value:function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.invalidParameter;var l=i.methodName,c=l===void 0?"":l;switch(o){case bi.LIVE_EVENT_ID_NOT_FOUND:return"The live event ID is not found.";case bi.ACTION_NOT_ALLOWED_IN_CURRENT_STATE:return"The user is trying to perform actions such as calling the ".concat(c,", ").concat(c,", ").concat(c," methods for a live event that is not in the 'ongoing' or 'ready' state.");case bi.ACTION_NOT_ALLOWED_FOR_PARTICIPANT:return"The participant is trying to perform actions that are only allowed for a host.";case bi.USER_NOT_ENTERED_LIVE_EVENT:return"The user is trying to perform actions on a live event without entering the event.";case bi.STREAM_NOT_STARTED:return"The user is trying to end a stream that doesn't exist.";case bi.CONNECTION_TO_MEDIA_STREAM_FAILED:return"The connection to media stream failed to establish.";case bi.UNKNOWN_NETWORK_ERROR:return"An unknown network error has occured.";case bi.QUERY_IN_PROGRESS:return"The last query is in progress.";case bi.OPEN_CHANNEL_NOT_FETCHED:return"The open channel for the live event is not fetched.";default:return""}}}]),a}(),dW=["message","error"],ll=function(a){x(i,a);var o=L(i);function i(l){var c,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=h.message,m=h.error,v=O(h,dW);g(this,i);var b=f||cW.getErrorMessage(l,v);return(c=o.call(this,b)).code=l,c._error=m,c}return y(i)}(N(Error)),zy=function(a){x(Oe,a);var o,i,l,c,h,f,m,v,b,w,C,H,F,$,B,W,ie,Z,pe=L(Oe);function Oe(te){var X,Se=te.deviceManager,xe=te.sender,we=te.sb,Be=te.userId,mt=te.info;return g(this,Oe),E(U(X=pe.call(this)),"_customItemsUpdatedAt",0),X._deviceManager=Se,X._sender=xe,X._sb=we,X._userId=Be,X._streams=new Map,X._customItems=null,mt&&Object.assign(U(X),mt),X._unsubscriber=X._sender.on("command",function(Ve){X._onEvent(Ve)}),X}return y(Oe,[{key:"customItems",get:function(){return s({},this._customItems)},set:function(te){this._customItems=te}},{key:"myRole",get:function(){return this.userIdsForHost.includes(this._userId)?ig.HOST:ig.PARTICIPANT}},{key:"isHost",get:function(){return this.myRole===ig.HOST}},{key:"isActiveHost",get:function(){return this.isHost&&!(this==null||!this.currentLiveUser.isHost)}},{key:"duration",get:function(){return this._duration>0?this._duration:Date.now()-this.startedAt},set:function(te){this._duration=te}},{key:"fetchOpenChannel",value:(Z=p(u().mark(function te(){var X,Se;return u().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,this._sb.openChannel.getChannelWithoutCache(this.liveEventId);case 2:return X=xe.sent,Se=this._sb.openChannel.buildOpenChannelFromSerializedData(X),this.openChannel=Se,xe.abrupt("return",Se);case 6:case"end":return xe.stop()}},te,this)})),function(){return Z.apply(this,arguments)})},{key:"_getOpenChannel",value:(ie=p(u().mark(function te(){return u().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!this.openChannel){X.next=2;break}return X.abrupt("return",this.openChannel);case 2:return X.abrupt("return",this.fetchOpenChannel());case 3:case"end":return X.stop()}},te,this)})),function(){return ie.apply(this,arguments)})},{key:"enterAsHost",value:(W=p(u().mark(function te(X){var Se,xe,we;return u().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,this._getOpenChannel();case 2:return Se=Be.sent,Be.next=5,Se.enter();case 5:return Be.prev=5,Be.next=8,this._sender.send(Ot.createEnterHost(this.liveEventId,X));case 8:xe=Be.sent,we=xe.payload.host,X&&this._streams.set(we.hostId,new Hy(this,this._deviceManager,this._sender,X,this._screenShareOptions)),this.upsert({host:we}),this.upsert({currentLiveUser:we}),Be.next=20;break;case 15:return Be.prev=15,Be.t0=Be.catch(5),Be.next=19,Se.exit();case 19:throw Be.t0;case 20:this._startToSendAlive();case 21:case"end":return Be.stop()}},te,this,[[5,15]])})),function(te){return W.apply(this,arguments)})},{key:"setEventReady",value:(B=p(u().mark(function te(){var X,Se;return u().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(this.isHost){xe.next=2;break}throw new Error("host only action");case 2:return xe.next=4,this._sender.send(Ot.createReady(this.liveEventId));case 4:X=xe.sent,Se=X.payload.liveEvent,this.upsert(Se);case 7:case"end":return xe.stop()}},te,this)})),function(){return B.apply(this,arguments)})},{key:"startEvent",value:($=p(u().mark(function te(X){var Se,xe;return u().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(this.isHost){we.next=2;break}throw new Error("host only action");case 2:return we.next=4,this._sender.send(Ot.createStart(this.liveEventId));case 4:Se=we.sent,xe=Se.payload.liveEvent,this.upsert(xe),!this.isHostStreaming&&this.isActiveHost&&this.startStreaming(X),typeof(X==null?void 0:X.turnAudioOn)=="boolean"&&this._toggleAudio(X.turnAudioOn),typeof(X==null?void 0:X.turnVideoOn)=="boolean"&&this._toggleVideo(X.turnVideoOn);case 10:case"end":return we.stop()}},te,this)})),function(te){return $.apply(this,arguments)})},{key:"startStreaming",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{turnAudioOn:!0,turnVideoOn:!0};if(!this.isActiveHost)throw new Error("current host only action");var X=this._streams.get(this.host.hostId);X||(X=new Hy(this,this._deviceManager,this._sender,te,this._screenShareOptions),this._streams.set(this.host.hostId,X)),X.openStream()}},{key:"endStreaming",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var te=this._streams.get(this.host.hostId);te&&(this._streams.delete(this.host.hostId),te.closeStream(!0))}},{key:"createRTMPStream",value:(F=p(u().mark(function te(){var X,Se;return u().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(this.isHost){xe.next=2;break}throw new ll(bi.ACTION_NOT_ALLOWED_FOR_PARTICIPANT);case 2:return xe.next=4,this._sender.send(Ot.createRTMPStream(this.liveEventId));case 4:return X=xe.sent,Se=X.payload.host,this.upsert({host:Se}),xe.abrupt("return",Se.rtmpStream);case 8:case"end":return xe.stop()}},te,this)})),function(){return F.apply(this,arguments)})},{key:"deleteRTMPStream",value:(H=p(u().mark(function te(){var X;return u().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(this.isHost){Se.next=2;break}throw new Error("host only action");case 2:if((X=this.host)!==null&&X!==void 0&&X.rtmpStream){Se.next=4;break}throw new Error("no rtmp stream");case 4:return Se.next=6,this._sender.send(Ot.deleteRTMPStream(this.liveEventId,this.host.rtmpStream.rtmpStreamId));case 6:Se.sent,this.upsert({host:null});case 8:case"end":return Se.stop()}},te,this)})),function(){return H.apply(this,arguments)})},{key:"exitAsHost",value:(C=p(u().mark(function te(){var X,Se,xe;return u().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(this.isActiveHost){we.next=2;break}throw new Error("current host only action");case 2:return X=this.host.hostId,we.next=5,this._sender.send(Ot.createExitHost(this.liveEventId,X));case 5:Se=we.sent,xe=Se.payload.host,this.upsert({host:xe}),this.teardown();case 9:case"end":return we.stop()}},te,this)})),function(){return C.apply(this,arguments)})},{key:"endEvent",value:(w=p(u().mark(function te(){var X,Se;return u().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,this._sender.send(Ot.createEndLiveEvent(this.liveEventId));case 2:X=xe.sent,Se=X.payload.liveEvent,this.upsert(Se),this.teardown();case 6:case"end":return xe.stop()}},te,this)})),function(){return w.apply(this,arguments)})},{key:"muteAudioInput",value:function(){this._toggleAudio(!1)}},{key:"unmuteAudioInput",value:function(){this._toggleAudio(!0)}},{key:"_toggleAudio",value:function(te){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleAudio(te),this._sender.send(Ot.createAudio(this.liveEventId,this.host.hostId,te))}},{key:"stopVideo",value:function(){this._toggleVideo(!1)}},{key:"startVideo",value:function(){this._toggleVideo(!0)}},{key:"_toggleVideo",value:function(te){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleVideo(te),this._sender.send(Ot.createVideo(this.liveEventId,this.host.hostId,te))}},{key:"selectAudioInput",value:function(te){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("audioinput",te)}},{key:"selectVideoInput",value:function(te){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("videoinput",te)}},{key:"enter",value:(b=p(u().mark(function te(){var X,Se,xe;return u().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,this._getOpenChannel();case 2:return X=we.sent,we.next=5,X.enter();case 5:return we.prev=5,we.next=8,this._sender.send(Ot.createEnter(this.liveEventId));case 8:Se=we.sent,xe=Se.payload.participant,this.upsert({currentLiveUser:xe}),this._tryOpen(),we.next=19;break;case 14:return we.prev=14,we.t0=we.catch(5),we.next=18,X.exit();case 18:throw we.t0;case 19:this._startToSendAlive();case 20:case"end":return we.stop()}},te,this,[[5,14]])})),function(){return b.apply(this,arguments)})},{key:"exit",value:(v=p(u().mark(function te(){return u().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this._sender.send(Ot.createExit(this.liveEventId,this.currentLiveUser.participantId));case 2:X.sent.payload.participant,this.teardown();case 5:case"end":return X.stop()}},te,this)})),function(){return v.apply(this,arguments)})},{key:"setVideoViewForLiveEvent",value:function(te,X){var Se=this._streams.get(X);Se&&(Se.mediaView=te)}},{key:"updateLiveEventInfo",value:(m=p(u().mark(function te(X){var Se,xe,we;return u().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Se=Ot.updateLiveEvent(this.liveEventId,X.userIdsForHost,X.title,X.coverUrl,X.coverFile),Be.next=3,this._sender.send(Se);case 3:xe=Be.sent,we=xe.payload.liveEvent,this.upsert(we);case 6:case"end":return Be.stop()}},te,this)})),function(te){return m.apply(this,arguments)})},{key:"fetchCustomItems",value:(f=p(u().mark(function te(){var X,Se,xe;return u().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return X=Ot.createGetCustomItems(this.liveEventId),we.prev=1,we.next=4,this._sender.send(X);case 4:return Se=we.sent,xe=Se.payload,this._setCustomItems(xe.customItems),we.abrupt("return",xe);case 10:throw we.prev=10,we.t0=we.catch(1),fn.error("failed to update customItems"),we.t0;case 14:case"end":return we.stop()}},te,this,[[1,10]])})),function(){return f.apply(this,arguments)})},{key:"updateCustomItems",value:(h=p(u().mark(function te(X){var Se,xe,we;return u().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(!Object.keys(X).some(function(mt){return typeof X[mt]!="string"})){Be.next=2;break}throw new Error("invalid parameter");case 2:return Se=Ot.createUpdateCustomItems(this.liveEventId,X),Be.prev=3,Be.next=6,this._sender.send(Se);case 6:return xe=Be.sent,we=xe.payload,this._setCustomItems(we.customItems,we.updatedAt),Be.abrupt("return",we);case 12:throw Be.prev=12,Be.t0=Be.catch(3),fn.error("failed to update customItems"),Be.t0;case 16:case"end":return Be.stop()}},te,this,[[3,12]])})),function(te){return h.apply(this,arguments)})},{key:"deleteCustomItems",value:(c=p(u().mark(function te(X){var Se,xe,we;return u().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(!X.some(function(mt){return typeof mt!="string"})){Be.next=2;break}throw new Error("invalid parameter");case 2:return Se=Ot.createDeleteCustomItems(this.liveEventId,X),Be.prev=3,Be.next=6,this._sender.send(Se);case 6:return xe=Be.sent,we=xe.payload,this._setCustomItems(we.customItems,we.deletedAt),Be.abrupt("return",we);case 12:throw Be.prev=12,Be.t0=Be.catch(3),fn.error("failed to delete customItems"),Be.t0;case 16:case"end":return Be.stop()}},te,this,[[3,12]])})),function(te){return c.apply(this,arguments)})},{key:"deleteAllCustomItems",value:(l=p(u().mark(function te(){var X,Se,xe;return u().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return X=Ot.createDeleteAllCustomItems(this.liveEventId),we.prev=1,we.next=4,this._sender.send(X);case 4:return Se=we.sent,xe=Se.payload,this._setCustomItems(xe.customItems,xe.deletedAt),we.abrupt("return",xe);case 10:throw we.prev=10,we.t0=we.catch(1),fn.error("failed to delete all customItems"),we.t0;case 14:case"end":return we.stop()}},te,this,[[1,10]])})),function(){return l.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(i=p(u().mark(function te(X){var Se;return u().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(this.isActiveHost){xe.next=2;break}throw new Error("current host only action");case 2:if(Se=this._streams.get(this.host.hostId)){xe.next=5;break}throw new Error("no current stream");case 5:return xe.next=7,Se.startUsingExternalVideo(X);case 7:case"end":return xe.stop()}},te,this)})),function(te){return i.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var te=this._streams.get(this.host.hostId);if(!te)throw new Error("no current stream");te.stopUsingExternalVideo()}},{key:"startScreenShare",value:(o=p(u().mark(function te(X){var Se;return u().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(this.isActiveHost){xe.next=2;break}throw new Error("current host only action");case 2:if(Se=this._streams.get(this.host.hostId)){xe.next=5;break}throw new Error("no current stream");case 5:return xe.next=7,Se.startScreenShare(X);case 7:case"end":return xe.stop()}},te,this)})),function(te){return o.apply(this,arguments)})},{key:"stopScreenShare",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var te=this._streams.get(this.host.hostId);if(!te)throw new Error("no current stream");te.stopScreenShare()}},{key:"setScreenShareOptions",value:function(te){this._screenShareOptions=te;var X=this._streams.get(this.host.hostId);X&&X.setScreenShareOptions(te)}},{key:"upsert",value:function(te){Object.assign(this,te),te.currentLiveUser&&(te.currentLiveUser.hostId?(this.currentLiveUser.isHost=!0,this.currentLiveUser.liveUserId=this.currentLiveUser.hostId):(this.currentLiveUser.isHost=!1,this.currentLiveUser.liveUserId=this.currentLiveUser.participantId))}},{key:"teardown",value:function(){var te;(te=this.openChannel)===null||te===void 0||te.exit();var X,Se=Y(this._streams.values());try{for(Se.s();!(X=Se.n()).done;)X.value.closeStream()}catch(xe){Se.e(xe)}finally{Se.f()}this._streams.clear(),this._stopToSendAlive(),this.upsert({currentLiveUser:void 0})}},{key:"_setCustomItems",value:function(te,X){return(X===void 0||X>this._customItemsUpdatedAt)&&(this._customItemsUpdatedAt=X,this._customItems=te||{},!0)}},{key:"_onEvent",value:function(te){if(this.liveEventId===te.payload.liveEventId)if(te instanceof XT)this._onReady(te);else if(te instanceof ZT)this._onStarted(te);else if(te instanceof JT)this._onEnded(te);else if(te instanceof sI)this._onUpdated(te);else if(te instanceof eI)this._onHostEntered(te);else if(te instanceof nI)this._onHostExited(te);else if(te instanceof tI)this._onHostConnected(te);else if(te instanceof aI)this._onHostDisconnected(te);else if(te instanceof cy)this._onHostAudioStatusChanged(te);else if(te instanceof dy)this._onHostVideoStatusChanged(te);else if(te instanceof rI)this._onParticipantEntered(te);else if(te instanceof iI)this._onParticipantExited(te);else if(te instanceof oI)this._onUpdateCustomItems(te);else{if(!(te instanceof lI))throw new Error("unknown event is received");this._onDeleteCustomItems(te)}}},{key:"_onReady",value:function(te){var X=te.payload.liveEvent;this.upsert(X),this._dispatchEvent("liveEventReady",this)}},{key:"_onStarted",value:function(te){var X=te.payload.liveEvent;this.upsert(X),this._dispatchEvent("liveEventStarted",this),this._tryOpen()}},{key:"_onEnded",value:function(te){var X=te.payload.liveEvent;this.upsert(X),this._dispatchEvent("liveEventEnded",this),this.teardown()}},{key:"_onUpdated",value:function(te){var X=te.payload.liveEvent;this.upsert(X),this._dispatchEvent("liveEventUpdated",this)}},{key:"_onHostEntered",value:function(te){var X=te.payload.host;this.upsert({host:X}),this._dispatchEvent("hostEntered",this,this.host)}},{key:"_onHostExited",value:function(te){var X=te.payload.host;this.upsert({host:void 0}),this._dispatchEvent("hostExited",this,X)}},{key:"_onHostConnected",value:function(te){var X=te.payload.host;this.upsert({host:X}),this._dispatchEvent("hostConnected",this,this.host),this._tryOpen()}},{key:"_onHostDisconnected",value:function(te){var X=te.payload.host;this.upsert({host:X}),this._dispatchEvent("hostDisconnected",this,this.host)}},{key:"_onHostAudioStatusChanged",value:function(te){var X=te.payload.host;this.upsert({host:X}),X.isAudioOn&&this._dispatchEvent("hostUnmutedAudio",this,this.host),X.isAudioOn||this._dispatchEvent("hostMutedAudio",this,this.host)}},{key:"_onHostVideoStatusChanged",value:function(te){var X=te.payload.host;this.upsert({host:X}),X.isVideoOn&&this._dispatchEvent("hostStartedVideo",this,this.host),X.isVideoOn||this._dispatchEvent("hostStoppedVideo",this,this.host)}},{key:"_onParticipantEntered",value:function(te){var X=te.payload,Se=X.participant,xe=X.participantCount,we=X.peakParticipantCount,Be=X.cumulativeParticipantCount;this.upsert({participantCount:xe,peakParticipantCount:we,cumulativeParticipantCount:Be}),this._dispatchEvent("participantEntered",this,Se)}},{key:"_onParticipantExited",value:function(te){var X=te.payload,Se=X.participant,xe=X.participantCount,we=X.peakParticipantCount,Be=X.cumulativeParticipantCount;this.upsert({participantCount:xe,peakParticipantCount:we,cumulativeParticipantCount:Be}),this._dispatchEvent("participantExited",this,Se)}},{key:"_onUpdateCustomItems",value:function(te){var X=te.payload,Se=X.customItems,xe=X.updatedAt;X.updatedKeys,this._setCustomItems(Se,xe)&&this._dispatchEvent("customItemsUpdated",Se,xe)}},{key:"_onDeleteCustomItems",value:function(te){var X=te.payload,Se=X.customItems,xe=X.deletedAt;X.deletedKeys,this._setCustomItems(Se,xe)&&this._dispatchEvent("customItemsDeleted",Se,xe)}},{key:"onDisconnected",value:function(){this._dispatchEvent("disconnected",this,new ll(bi.LIVE_EVENT_ID_NOT_FOUND)),this.teardown()}},{key:"_tryOpen",value:function(){if(this.host&&this.currentLiveUser&&this.host.state===YT.CONNECTED&&this.state===QT.ONGOING){var te,X=this.host.hostId;this._streams.has(X)?te=this._streams.get(X):(te=new Hy(this,this._deviceManager,this._sender),this._streams.set(X,te)),te.openStream(),te.attach(X)}}},{key:"_tryClose",value:function(){}},{key:"_startToSendAlive",value:function(){var te=this;this.isActiveHost?this._aliveIntervalId=setInterval(function(){var X=Ot.createHostAlive(te.liveEventId,te.host.hostId);te._sender.send(X)},3e3):this._aliveIntervalId=setInterval(function(){var X=Ot.createAlive(te.liveEventId,te.currentLiveUser.participantId);te._sender.send(X)},9e4)}},{key:"_stopToSendAlive",value:function(){this._aliveIntervalId&&(clearInterval(this._aliveIntervalId),delete this._aliveIntervalId)}}]),Oe}(po),qy=function(a,o){return qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])},qy(a,o)};function K(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=a}qy(a,o),a.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var he=function(){return he=Object.assign||function(a){for(var o,i=1,l=arguments.length;i<l;i++)for(var c in o=arguments[i])Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c]);return a},he.apply(this,arguments)};function q(a,o,i,l){return new(i||(i=Promise))(function(c,h){function f(b){try{v(l.next(b))}catch(w){h(w)}}function m(b){try{v(l.throw(b))}catch(w){h(w)}}function v(b){var w;b.done?c(b.value):(w=b.value,w instanceof i?w:new i(function(C){C(w)})).then(f,m)}v((l=l.apply(a,o||[])).next())})}function z(a,o){var i,l,c,h,f={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(b){return function(w){if(i)throw new TypeError("Generator is already executing.");for(;f;)try{if(i=1,l&&(c=2&w[0]?l.return:w[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,w[1])).done)return c;switch(l=0,c&&(w=[2&w[0],c.value]),w[0]){case 0:case 1:c=w;break;case 4:return f.label++,{value:w[1],done:!1};case 5:f.label++,l=w[1],w=[0];continue;case 7:w=f.ops.pop(),f.trys.pop();continue;default:if(!((c=(c=f.trys).length>0&&c[c.length-1])||w[0]!==6&&w[0]!==2)){f=0;continue}if(w[0]===3&&(!c||w[1]>c[0]&&w[1]<c[3])){f.label=w[1];break}if(w[0]===6&&f.label<c[1]){f.label=c[1],c=w;break}if(c&&f.label<c[2]){f.label=c[2],f.ops.push(w);break}c[2]&&f.ops.pop(),f.trys.pop();continue}w=o.call(a,f)}catch(C){w=[6,C],l=0}finally{i=c=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([v,b])}}}function Rn(a){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&a[o],l=0;if(i)return i.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mt(a,o){var i=typeof Symbol=="function"&&a[Symbol.iterator];if(!i)return a;var l,c,h=i.call(a),f=[];try{for(;(o===void 0||o-- >0)&&!(l=h.next()).done;)f.push(l.value)}catch(m){c={error:m}}finally{try{l&&!l.done&&(i=h.return)&&i.call(h)}finally{if(c)throw c.error}}return f}function Wt(a,o,i){if(i||arguments.length===2)for(var l,c=0,h=o.length;c<h;c++)!l&&c in o||(l||(l=Array.prototype.slice.call(o,0,c)),l[c]=o[c]);return a.concat(l||Array.prototype.slice.call(o))}var Gn,wu=function(){function a(){}return Object.defineProperty(a,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(a,"SDK_VERSION",{get:function(){return"4.5.0"},enumerable:!1,configurable:!0}),Object.defineProperty(a,"SDK_MAJOR_VERSION",{get:function(){return a.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(a,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(a,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),a}();(function(a){a[a.NON_AUTHORIZED=400108]="NON_AUTHORIZED",a[a.INVALID_TOKEN=400111]="INVALID_TOKEN",a[a.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",a[a.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",a[a.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",a[a.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",a[a.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",a[a.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",a[a.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",a[a.LOST_INSTANCE=700100]="LOST_INSTANCE",a[a.CONNECTION_RENEW=700102]="CONNECTION_RENEW",a[a.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",a[a.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",a[a.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",a[a.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",a[a.INVALID_PARAMETER=800110]="INVALID_PARAMETER",a[a.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",a[a.NETWORK_ERROR=800120]="NETWORK_ERROR",a[a.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",a[a.MALFORMED_DATA=800130]="MALFORMED_DATA",a[a.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",a[a.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",a[a.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",a[a.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",a[a.ACK_TIMEOUT=800180]="ACK_TIMEOUT",a[a.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",a[a.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",a[a.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",a[a.REQUEST_FAILED=800220]="REQUEST_FAILED",a[a.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",a[a.REQUEST_CANCELED=800240]="REQUEST_CANCELED",a[a.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",a[a.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",a[a.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",a[a.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",a[a.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED"})(Gn||(Gn={}));var Qe,xu=function(a){return!(a instanceof be&&!a.shouldThrowOutside)},be=function(a){function o(i){var l=i.code,c=l===void 0?0:l,h=i.message,f=a.call(this,h)||this;return f.shouldThrowOutside=!1,f.name="SendbirdError",f.code=c,Object.setPrototypeOf(f,o.prototype),f}return K(o,a),Object.defineProperty(o.prototype,"isInvalidTokenError",{get:function(){return this.code===Gn.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Gn.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Gn.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(o,"debugModeRequired",{get:function(){return new o({code:Gn.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"lostInstance",{get:function(){return new o({code:Gn.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionRenew",{get:function(){return new o({code:Gn.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"invalidConnectionStateTransition",{get:function(){return new o({code:Gn.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionRequired",{get:function(){return new o({code:Gn.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionCanceled",{get:function(){return new o({code:Gn.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"invalidParameters",{get:function(){return new o({code:Gn.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"notSupportedError",{get:function(){return new o({code:Gn.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"networkError",{get:function(){return new o({code:Gn.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"markAsReadAllRateLimitExceeded",{get:function(){return new o({code:Gn.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"queryInProgress",{get:function(){return new o({code:Gn.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"noAckTimeout",{get:function(){return new o({code:Gn.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"loginTimeout",{get:function(){return new o({code:Gn.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"connectionClosed",{get:function(){return new o({code:Gn.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"requestFailed",{get:function(){return new o({code:Gn.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"fileUploadCanceled",{get:function(){return new o({code:Gn.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"requestCanceled",{get:function(){return new o({code:Gn.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sessionTokenRefreshFailed",{get:function(){return new o({code:Gn.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"sessionTokenRequestFailed",{get:function(){return new o({code:Gn.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),o.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},o}(Error),hW=[Gn.CONNECTION_REQUIRED,Gn.NETWORK_ERROR,Gn.ACK_TIMEOUT,Gn.WEBSOCKET_CONNECTION_CLOSED,Gn.WEBSOCKET_CONNECTION_FAILED,Gn.FILE_UPLOAD_CANCEL_FAILED,Gn.REQUEST_CANCELED,Gn.INTERNAL_SERVER_ERROR,Gn.RATE_LIMIT_EXCEEDED,Gn.UNKNOWN_SERVER_ERROR],pW=[Gn.WEBSOCKET_CONNECTION_CLOSED,Gn.WEBSOCKET_CONNECTION_FAILED,Gn.CONNECTION_REQUIRED],BI=function(a,o){if(a!==o){var i=he({},a),l=he({},o);return!(i.hasOwnProperty("messageId")&&l.hasOwnProperty("messageId")&&i.messageId!==l.messageId||i.hasOwnProperty("reqId")&&l.hasOwnProperty("reqId")&&i.reqId!==l.reqId||(i.hasOwnProperty("messageId")&&delete i.messageId,i.hasOwnProperty("reqId")&&delete i.reqId,l.hasOwnProperty("messageId")&&delete l.messageId,l.hasOwnProperty("reqId")&&delete l.reqId,JSON.stringify(i)!==JSON.stringify(l)))}return!0},fe=function(a,o,i){return i===void 0&&(i=!1),!(!i||o!=null)||(typeof a!="string"?typeof a=="object"?Dt(a,o):fW(a,o):typeof o===a)},Dt=function(a,o,i){return i===void 0&&(i=!1),!(!i||o!=null)||Object.values(a).includes(o)},fW=function(a,o){return o instanceof a},it=function(a,o,i){return i===void 0&&(i=!1),!(!i||o!=null)||Array.isArray(o)&&o.every(function(l){return fe(a,l)})},hg=function(a){return a>0&&pW.indexOf(a)>=0},ga=function(a,o){if(o===void 0&&(o=!1),o&&a===null)return!0;var i=fe("object",a)&&a!==null&&a.hasOwnProperty("name")&&typeof a.name=="string"&&a.hasOwnProperty("uri")&&typeof a.uri=="string"&&a.hasOwnProperty("type")&&typeof a.type=="string";if(!i){if(typeof Blob<"u")return a instanceof Blob;if(typeof File<"u")return a instanceof File}return i},jI=function(){function a(o){var i=o===void 0?{}:o,l=i.useMemberInfoInMessage,c=l===void 0||l,h=i.typingIndicatorInvalidateTime,f=h===void 0?1e4:h,m=i.typingIndicatorThrottle,v=m===void 0?1e3:m,b=i.websocketResponseTimeout,w=b===void 0?1e4:b,C=i.websocketPayloadDecompression,H=C===void 0||C,F=i.sessionTokenRefreshTimeout,$=F===void 0?60:F;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=c,this._typingIndicatorInvalidateTime=f,this._typingIndicatorThrottle=v,this._websocketResponseTimeout=w,this._sessionTokenRefreshTimeout=$,this.websocketPayloadDecompression=H}return Object.defineProperty(a.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(o){fe("boolean",o)&&(this._useMemberInfoInMessage=o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(o){fe("number",o)&&(this._typingIndicatorInvalidateTime=o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(o){fe("number",o)&&o>=1e3&&o<=9e3&&(this._typingIndicatorThrottle=o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(o){fe("number",o)&&o>=5e3&&o<=3e4&&(this._websocketResponseTimeout=o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(o){fe("number",o)&&(o<60?o=60:o>1800&&(o=1800),this._sessionTokenRefreshTimeout=o)},enumerable:!1,configurable:!0}),a}(),GI={encrypt:function(a){return a},decrypt:function(a){return a}},gW=function(){function a(o){var i=o.store;this._preference=new Map,this._store=i}return a.prototype._savePreferenceKeys=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,this._store.set({key:this._keysAddress,value:Wt([],Mt(this._preference.keys()),!1),generation:1})];case 1:return o.sent(),[2]}})})},a.prototype.init=function(o){var i;return q(this,void 0,void 0,function(){var l,c,h,f,m,v,b,w;return z(this,function(C){switch(C.label){case 0:return this._keysAddress=o,[4,this._store.get(o)];case 1:l=(i=C.sent())!==null&&i!==void 0?i:[],C.label=2;case 2:C.trys.push([2,7,8,9]),c=Rn(l),h=c.next(),C.label=3;case 3:return h.done?[3,6]:(f=h.value,[4,this._store.get(f)]);case 4:(m=C.sent())&&this._preference.set(f,m),C.label=5;case 5:return h=c.next(),[3,3];case 6:return[3,9];case 7:return v=C.sent(),b={error:v},[3,9];case 8:try{h&&!h.done&&(w=c.return)&&w.call(c)}finally{if(b)throw b.error}return[7];case 9:return[2]}})})},a.prototype.get=function(o){var i;return q(this,void 0,void 0,function(){return z(this,function(l){return[2,(i=this._preference.get(o))!==null&&i!==void 0?i:null]})})},a.prototype.set=function(o,i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=!this._preference.has(o),[4,this._store.set({key:o,value:i,generation:1})];case 1:return c.sent(),this._preference.set(o,i),l?[4,this._savePreferenceKeys()]:[3,3];case 2:c.sent(),c.label=3;case 3:return[2]}})})},a.prototype.remove=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this._store.remove(o)];case 1:return i.sent(),this._preference.delete(o),[4,this._savePreferenceKeys()];case 2:return i.sent(),[2]}})})},a.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,this._store.removeMany(Wt([],Mt(this._preference.keys()),!1))];case 1:return o.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return o.sent(),[2]}})})},a}(),mW=function(a){var o=a.encryption,i=o===void 0?null:o,l=a.store,c=l===void 0?null:l,h=a.localCacheEnabled,f=h===void 0||h;this.nestdb=null,this.store=c,this.preference=new gW({store:c}),this.encryption=i!=null?i:GI,this.localCacheEnabled=f},vW=function(){function a(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(a.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),a.prototype.clear=function(){this.authToken=null,this.sessionKey=null},a}(),sd=function(){var a=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var i=(a+16*Math.random())%16|0;return a=Math.floor(a/16),(o==="x"?i:3&i|8).toString(16)})},$I=function(){function a(o){var i=o.container;this._container={},this._container=i,this.key=sd()}return a.prototype._register=function(o,i,l){return o in this._container||(this._container[o]=new Map),this._container[o].set(this.key,{occurence:i,handler:l}),this},a.prototype.on=function(o,i){return this._register(o,-1,i)},a.prototype.once=function(o,i){return this._register(o,1,i)},a.prototype.close=function(){for(var o in this._container)this._container[o].delete(this.key)},a}(),ip=function(){function a(){this._container={}}return a.prototype.on=function(o,i){return new $I({container:this._container}).on(o,i)},a.prototype.once=function(o,i){return new $I({container:this._container}).once(o,i)},a.prototype.dispatch=function(o,i){var l,c,h=this._container[o];if(h){var f=[];try{for(var m=Rn(h.keys()),v=m.next();!v.done;v=m.next()){var b=v.value,w=h.get(b);w.handler(i),w.occurence>0&&(w.occurence--,w.occurence===0&&f.push(b))}}catch(C){l={error:C}}finally{try{v&&!v.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}f.forEach(function(C){return h.delete(C)})}},a}(),_W=function(){function a(){this._dispatcher=new ip}return a.prototype.on=function(o){return this._dispatcher.on("event",o)},a.prototype.once=function(o){return this._dispatcher.once("event",o)},a.prototype.dispatch=function(o){this._dispatcher.dispatch("event",o)},a}(),Sr=function(){},Ln=function(a){var o={};return a&&Object.keys(a).forEach(function(i){a[i]!==void 0&&a[i]!==NaN&&a[i]!==null&&(o[i]=a[i])}),o};(function(a){a.GET="GET",a.POST="POST",a.PUT="PUT",a.DELETE="DELETE"})(Qe||(Qe={}));var pg,Je=function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i.params={},i.requireAuth=!0,i.headers={},i.requestId=sd(),i}return K(o,a),o.prototype.stringifyParams=function(i){return typeof i!="object"||Array.isArray(i)?String(i):i?JSON.stringify(i):""},o.prototype.encodeParams=function(i){var l=this;return i==null||i===""?encodeURIComponent(""):Array.isArray(i)?i.map(function(c){return l.encodeParams(c)}).join(","):encodeURIComponent(typeof i=="object"?JSON.stringify(i):String(i))},Object.defineProperty(o.prototype,"query",{get:function(){var i=this,l=Ln(this.params);return"?".concat(Object.keys(l).map(function(c){return"".concat(encodeURIComponent(c),"=").concat(i.encodeParams(l[c]))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"payload",{get:function(){var i=this,l=Ln(this.params);if(Object.keys(l).some(function(h){return ga(l[h])})){var c=new FormData;return Object.keys(l).forEach(function(h){var f,m=l[h];if(ga(m)){var v=m;c.append(h,v,(f=v.name)!==null&&f!==void 0?f:"filename")}else c.append(h,i.stringifyParams(m))}),c}return JSON.stringify(l)},enumerable:!1,configurable:!0}),o}(Sr),rn=function(a){function o(i,l){var c=a.call(this)||this;return c._iid=i,c._payload=l,c}return K(o,a),Object.defineProperty(o.prototype,"payload",{get:function(){return he({},this._payload)},enumerable:!1,configurable:!0}),o.prototype.as=function(i){return new i(this._iid,this.payload)},o}(Sr),bW=function(a){function o(i){var l=a.call(this)||this;return l.requestId=i,l}return K(o,a),o}(Sr),fg=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return K(o,a),o}(Sr),By=function(a){function o(i){var l=a.call(this)||this;return l.statLog=i,l}return K(o,a),o}(Sr);(function(a){a.WEBSOCKET_CONNECT="ws:connect",a.API_RESULT="api:result"})(pg||(pg={}));var ap=function(){function a(o){var i=o.type,l=o.data,c=o.ts,h=c===void 0?Date.now():c;this.type=i,this.createdAt=h,this.data=l}return a.payloadify=function(o){return Ln({stat_type:o.type,ts:o.createdAt,data:Ln(o.data)})},a}(),yW=function(){function a(o,i){var l=i.auth,c=i.sdkState,h=i.dispatcher,f=i.logger,m=this;this._abortControl=new Map,this._iid=o,this._auth=l,this._sdkState=c,this._dispatcher=h,this._dispatcher.on(function(v){v instanceof bW&&m.cancel(v.requestId)}),this._logger=f}return Object.defineProperty(a.prototype,"_userAgentWithExtension",{get:function(){var o=this._sdkState.extensions,i=typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"?"reactnative":"JS",l=o.sb_syncmanager?"s".concat(o.sb_syncmanager):"",c=o.sb_uikit?"u".concat(o.sb_uikit):"",h=o["device-os-platform"]?"o".concat(o["device-os-platform"]):"";return"".concat(i,"/c").concat(wu.SDK_VERSION,"/").concat(l,"/").concat(c,"/").concat(h)},enumerable:!1,configurable:!0}),a.prototype._createHeader=function(o,i){i===void 0&&(i=null);var l=this._sdkState,c=l.appId,h=l.appVersion,f=he(he({},o.headers),{SendBird:"JS,".concat(wu.OS_VERSION,",").concat(wu.SDK_VERSION,",").concat(c).concat(h?",".concat(h):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return i||(f["Content-Type"]="application/json; charset=utf-8"),o.requireAuth&&this._auth.hasSession&&(f["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(f["App-Id"]=c,f["Access-Token"]=this._auth.authToken),f},a.prototype._statLogApiResult=function(o,i,l){this._dispatcher.dispatch(new By(new ap({type:pg.API_RESULT,data:{endpoint:o.path,method:o.method,success:!l,latency:Date.now()-i,error_code:l==null?void 0:l.code,error_description:l==null?void 0:l.message}})))},a.prototype.send=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w,C,H,F,$,B,W;return z(this,function(ie){switch(ie.label){case 0:i=o.path,l=o.method,c=![Qe.GET,Qe.DELETE].includes(l),h=this._sdkState.api,f="".concat(h.host).concat(i).concat(c?"":o.query),m=c?o.payload:null,v=this._createHeader(o,m instanceof FormData?m:null),b=new AbortController,w=b.signal,this._abortControl.set(o.requestId,b),C=Date.now(),ie.label=1;case 1:return ie.trys.push([1,4,,5]),[4,fetch(f,{method:l,body:m,headers:v,signal:w})];case 2:return[4,(H=ie.sent()).json()];case 3:if(F=ie.sent(),H.ok||H.redirected)return this._logger.debug("receive api response",o.requestId),this._statLogApiResult(o,C,null),[2,new rn(this._iid,F)];throw F?($=new be(F),!o.requireAuth&&$.isSessionKeyExpiredError&&this._dispatcher.dispatch(new fg),this._statLogApiResult(o,C,$),$):($=be.requestFailed,this._statLogApiResult(o,C,$),$);case 4:throw B=ie.sent(),this._statLogApiResult(o,C,B),B instanceof be?(this._logger.debug("fail api request",B),B):B.name==="AbortError"?be.requestCanceled:(W=be.networkError,this._logger.debug("fail api request",W),W);case 5:return[2]}})})},a.prototype.cancel=function(o){this._abortControl.has(o)&&(this._abortControl.get(o).abort(),this._abortControl.delete(o))},a.prototype.cancelAll=function(){var o,i;try{for(var l=Rn(this._abortControl.values()),c=l.next();!c.done;c=l.next())c.value.abort()}catch(h){o={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}this._abortControl.clear()},a}(),Xt=function(a){function o(i,l,c,h){h===void 0&&(h="");var f=a.call(this)||this;return f._iid=i,f.code=l,f.payload=c,f.requestId=c?c.req_id:h,f}return K(o,a),o.createFromRawMessage=function(i,l){var c=l.substring(0,4),h=null;try{h=JSON.parse(l.substring(4))}catch{c="NOOP"}finally{return new o(i,c,h)}},o.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},o.prototype.as=function(i){return new i(this._iid,this.code,this.payload)},o}(Sr),$n=function(){};function od(a){let o=a.length;for(;--o>=0;)a[o]=0}const jy=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),gg=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),EW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),VI=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fo=new Array(576);od(fo);const sp=new Array(60);od(sp);const op=new Array(512);od(op);const lp=new Array(256);od(lp);const Gy=new Array(29);od(Gy);const mg=new Array(30);function $y(a,o,i,l,c){this.static_tree=a,this.extra_bits=o,this.extra_base=i,this.elems=l,this.max_length=c,this.has_stree=a&&a.length}let WI,KI,QI;function Vy(a,o){this.dyn_tree=a,this.max_code=0,this.stat_desc=o}od(mg);const YI=a=>a<256?op[a]:op[256+(a>>>7)],up=(a,o)=>{a.pending_buf[a.pending++]=255&o,a.pending_buf[a.pending++]=o>>>8&255},Yi=(a,o,i)=>{a.bi_valid>16-i?(a.bi_buf|=o<<a.bi_valid&65535,up(a,a.bi_buf),a.bi_buf=o>>16-a.bi_valid,a.bi_valid+=i-16):(a.bi_buf|=o<<a.bi_valid&65535,a.bi_valid+=i)},Us=(a,o,i)=>{Yi(a,i[2*o],i[2*o+1])},XI=(a,o)=>{let i=0;do i|=1&a,a>>>=1,i<<=1;while(--o>0);return i>>>1},ZI=(a,o,i)=>{const l=new Array(16);let c,h,f=0;for(c=1;c<=15;c++)f=f+i[c-1]<<1,l[c]=f;for(h=0;h<=o;h++){let m=a[2*h+1];m!==0&&(a[2*h]=XI(l[m]++,m))}},JI=a=>{let o;for(o=0;o<286;o++)a.dyn_ltree[2*o]=0;for(o=0;o<30;o++)a.dyn_dtree[2*o]=0;for(o=0;o<19;o++)a.bl_tree[2*o]=0;a.dyn_ltree[512]=1,a.opt_len=a.static_len=0,a.sym_next=a.matches=0},eN=a=>{a.bi_valid>8?up(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},nN=(a,o,i,l)=>{const c=2*o,h=2*i;return a[c]<a[h]||a[c]===a[h]&&l[o]<=l[i]},Wy=(a,o,i)=>{const l=a.heap[i];let c=i<<1;for(;c<=a.heap_len&&(c<a.heap_len&&nN(o,a.heap[c+1],a.heap[c],a.depth)&&c++,!nN(o,l,a.heap[c],a.depth));)a.heap[i]=a.heap[c],i=c,c<<=1;a.heap[i]=l},tN=(a,o,i)=>{let l,c,h,f,m=0;if(a.sym_next!==0)do l=255&a.pending_buf[a.sym_buf+m++],l+=(255&a.pending_buf[a.sym_buf+m++])<<8,c=a.pending_buf[a.sym_buf+m++],l===0?Us(a,c,o):(h=lp[c],Us(a,h+256+1,o),f=jy[h],f!==0&&(c-=Gy[h],Yi(a,c,f)),l--,h=YI(l),Us(a,h,i),f=gg[h],f!==0&&(l-=mg[h],Yi(a,l,f)));while(m<a.sym_next);Us(a,256,o)},Ky=(a,o)=>{const i=o.dyn_tree,l=o.stat_desc.static_tree,c=o.stat_desc.has_stree,h=o.stat_desc.elems;let f,m,v,b=-1;for(a.heap_len=0,a.heap_max=573,f=0;f<h;f++)i[2*f]!==0?(a.heap[++a.heap_len]=b=f,a.depth[f]=0):i[2*f+1]=0;for(;a.heap_len<2;)v=a.heap[++a.heap_len]=b<2?++b:0,i[2*v]=1,a.depth[v]=0,a.opt_len--,c&&(a.static_len-=l[2*v+1]);for(o.max_code=b,f=a.heap_len>>1;f>=1;f--)Wy(a,i,f);v=h;do f=a.heap[1],a.heap[1]=a.heap[a.heap_len--],Wy(a,i,1),m=a.heap[1],a.heap[--a.heap_max]=f,a.heap[--a.heap_max]=m,i[2*v]=i[2*f]+i[2*m],a.depth[v]=(a.depth[f]>=a.depth[m]?a.depth[f]:a.depth[m])+1,i[2*f+1]=i[2*m+1]=v,a.heap[1]=v++,Wy(a,i,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],((w,C)=>{const H=C.dyn_tree,F=C.max_code,$=C.stat_desc.static_tree,B=C.stat_desc.has_stree,W=C.stat_desc.extra_bits,ie=C.stat_desc.extra_base,Z=C.stat_desc.max_length;let pe,Oe,te,X,Se,xe,we=0;for(X=0;X<=15;X++)w.bl_count[X]=0;for(H[2*w.heap[w.heap_max]+1]=0,pe=w.heap_max+1;pe<573;pe++)Oe=w.heap[pe],X=H[2*H[2*Oe+1]+1]+1,X>Z&&(X=Z,we++),H[2*Oe+1]=X,Oe>F||(w.bl_count[X]++,Se=0,Oe>=ie&&(Se=W[Oe-ie]),xe=H[2*Oe],w.opt_len+=xe*(X+Se),B&&(w.static_len+=xe*($[2*Oe+1]+Se)));if(we!==0){do{for(X=Z-1;w.bl_count[X]===0;)X--;w.bl_count[X]--,w.bl_count[X+1]+=2,w.bl_count[Z]--,we-=2}while(we>0);for(X=Z;X!==0;X--)for(Oe=w.bl_count[X];Oe!==0;)te=w.heap[--pe],te>F||(H[2*te+1]!==X&&(w.opt_len+=(X-H[2*te+1])*H[2*te],H[2*te+1]=X),Oe--)}})(a,o),ZI(i,b,a.bl_count)},rN=(a,o,i)=>{let l,c,h=-1,f=o[1],m=0,v=7,b=4;for(f===0&&(v=138,b=3),o[2*(i+1)+1]=65535,l=0;l<=i;l++)c=f,f=o[2*(l+1)+1],++m<v&&c===f||(m<b?a.bl_tree[2*c]+=m:c!==0?(c!==h&&a.bl_tree[2*c]++,a.bl_tree[32]++):m<=10?a.bl_tree[34]++:a.bl_tree[36]++,m=0,h=c,f===0?(v=138,b=3):c===f?(v=6,b=3):(v=7,b=4))},iN=(a,o,i)=>{let l,c,h=-1,f=o[1],m=0,v=7,b=4;for(f===0&&(v=138,b=3),l=0;l<=i;l++)if(c=f,f=o[2*(l+1)+1],!(++m<v&&c===f)){if(m<b)do Us(a,c,a.bl_tree);while(--m!=0);else c!==0?(c!==h&&(Us(a,c,a.bl_tree),m--),Us(a,16,a.bl_tree),Yi(a,m-3,2)):m<=10?(Us(a,17,a.bl_tree),Yi(a,m-3,3)):(Us(a,18,a.bl_tree),Yi(a,m-11,7));m=0,h=c,f===0?(v=138,b=3):c===f?(v=6,b=3):(v=7,b=4)}};let aN=!1;const sN=(a,o,i,l)=>{Yi(a,0+(l?1:0),3),eN(a),up(a,i),up(a,~i),i&&a.pending_buf.set(a.window.subarray(o,o+i),a.pending),a.pending+=i};var wW={_tr_init:a=>{aN||((()=>{let o,i,l,c,h;const f=new Array(16);for(l=0,c=0;c<28;c++)for(Gy[c]=l,o=0;o<1<<jy[c];o++)lp[l++]=c;for(lp[l-1]=c,h=0,c=0;c<16;c++)for(mg[c]=h,o=0;o<1<<gg[c];o++)op[h++]=c;for(h>>=7;c<30;c++)for(mg[c]=h<<7,o=0;o<1<<gg[c]-7;o++)op[256+h++]=c;for(i=0;i<=15;i++)f[i]=0;for(o=0;o<=143;)fo[2*o+1]=8,o++,f[8]++;for(;o<=255;)fo[2*o+1]=9,o++,f[9]++;for(;o<=279;)fo[2*o+1]=7,o++,f[7]++;for(;o<=287;)fo[2*o+1]=8,o++,f[8]++;for(ZI(fo,287,f),o=0;o<30;o++)sp[2*o+1]=5,sp[2*o]=XI(o,5);WI=new $y(fo,jy,257,286,15),KI=new $y(sp,gg,0,30,15),QI=new $y(new Array(0),EW,0,19,7)})(),aN=!0),a.l_desc=new Vy(a.dyn_ltree,WI),a.d_desc=new Vy(a.dyn_dtree,KI),a.bl_desc=new Vy(a.bl_tree,QI),a.bi_buf=0,a.bi_valid=0,JI(a)},_tr_stored_block:sN,_tr_flush_block:(a,o,i,l)=>{let c,h,f=0;a.level>0?(a.strm.data_type===2&&(a.strm.data_type=(m=>{let v,b=4093624447;for(v=0;v<=31;v++,b>>>=1)if(1&b&&m.dyn_ltree[2*v]!==0)return 0;if(m.dyn_ltree[18]!==0||m.dyn_ltree[20]!==0||m.dyn_ltree[26]!==0)return 1;for(v=32;v<256;v++)if(m.dyn_ltree[2*v]!==0)return 1;return 0})(a)),Ky(a,a.l_desc),Ky(a,a.d_desc),f=(m=>{let v;for(rN(m,m.dyn_ltree,m.l_desc.max_code),rN(m,m.dyn_dtree,m.d_desc.max_code),Ky(m,m.bl_desc),v=18;v>=3&&m.bl_tree[2*VI[v]+1]===0;v--);return m.opt_len+=3*(v+1)+5+5+4,v})(a),c=a.opt_len+3+7>>>3,h=a.static_len+3+7>>>3,h<=c&&(c=h)):c=h=i+5,i+4<=c&&o!==-1?sN(a,o,i,l):a.strategy===4||h===c?(Yi(a,2+(l?1:0),3),tN(a,fo,sp)):(Yi(a,4+(l?1:0),3),((m,v,b,w)=>{let C;for(Yi(m,v-257,5),Yi(m,b-1,5),Yi(m,w-4,4),C=0;C<w;C++)Yi(m,m.bl_tree[2*VI[C]+1],3);iN(m,m.dyn_ltree,v-1),iN(m,m.dyn_dtree,b-1)})(a,a.l_desc.max_code+1,a.d_desc.max_code+1,f+1),tN(a,a.dyn_ltree,a.dyn_dtree)),JI(a),l&&eN(a)},_tr_tally:(a,o,i)=>(a.pending_buf[a.sym_buf+a.sym_next++]=o,a.pending_buf[a.sym_buf+a.sym_next++]=o>>8,a.pending_buf[a.sym_buf+a.sym_next++]=i,o===0?a.dyn_ltree[2*i]++:(a.matches++,o--,a.dyn_ltree[2*(lp[i]+256+1)]++,a.dyn_dtree[2*YI(o)]++),a.sym_next===a.sym_end),_tr_align:a=>{Yi(a,2,3),Us(a,256,fo),(o=>{o.bi_valid===16?(up(o,o.bi_buf),o.bi_buf=0,o.bi_valid=0):o.bi_valid>=8&&(o.pending_buf[o.pending++]=255&o.bi_buf,o.bi_buf>>=8,o.bi_valid-=8)})(a)}},cp=(a,o,i,l)=>{let c=65535&a|0,h=a>>>16&65535|0,f=0;for(;i!==0;){f=i>2e3?2e3:i,i-=f;do c=c+o[l++]|0,h=h+c|0;while(--f);c%=65521,h%=65521}return c|h<<16|0};const xW=new Uint32Array((()=>{let a,o=[];for(var i=0;i<256;i++){a=i;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;o[i]=a}return o})());var zr=(a,o,i,l)=>{const c=xW,h=l+i;a^=-1;for(let f=l;f<h;f++)a=a>>>8^c[255&(a^o[f])];return-1^a},ku={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Su={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:kW,_tr_stored_block:Qy,_tr_flush_block:SW,_tr_tally:ul,_tr_align:CW}=wW,{Z_NO_FLUSH:cl,Z_PARTIAL_FLUSH:TW,Z_FULL_FLUSH:IW,Z_FINISH:Da,Z_BLOCK:oN,Z_OK:Yr,Z_STREAM_END:lN,Z_STREAM_ERROR:Ls,Z_DATA_ERROR:NW,Z_BUF_ERROR:Yy,Z_DEFAULT_COMPRESSION:OW,Z_FILTERED:AW,Z_HUFFMAN_ONLY:vg,Z_RLE:RW,Z_FIXED:MW,Z_DEFAULT_STRATEGY:DW,Z_UNKNOWN:UW,Z_DEFLATED:_g}=Su,Cu=(a,o)=>(a.msg=ku[o],o),uN=a=>2*a-(a>4?9:0),dl=a=>{let o=a.length;for(;--o>=0;)a[o]=0},LW=a=>{let o,i,l,c=a.w_size;o=a.hash_size,l=o;do i=a.head[--l],a.head[l]=i>=c?i-c:0;while(--o);o=c,l=o;do i=a.prev[--l],a.prev[l]=i>=c?i-c:0;while(--o)};let hl=(a,o,i)=>(o<<a.hash_shift^i)&a.hash_mask;const ma=a=>{const o=a.state;let i=o.pending;i>a.avail_out&&(i=a.avail_out),i!==0&&(a.output.set(o.pending_buf.subarray(o.pending_out,o.pending_out+i),a.next_out),a.next_out+=i,o.pending_out+=i,a.total_out+=i,a.avail_out-=i,o.pending-=i,o.pending===0&&(o.pending_out=0))},va=(a,o)=>{SW(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,o),a.block_start=a.strstart,ma(a.strm)},Tt=(a,o)=>{a.pending_buf[a.pending++]=o},dp=(a,o)=>{a.pending_buf[a.pending++]=o>>>8&255,a.pending_buf[a.pending++]=255&o},Xy=(a,o,i,l)=>{let c=a.avail_in;return c>l&&(c=l),c===0?0:(a.avail_in-=c,o.set(a.input.subarray(a.next_in,a.next_in+c),i),a.state.wrap===1?a.adler=cp(a.adler,o,c,i):a.state.wrap===2&&(a.adler=zr(a.adler,o,c,i)),a.next_in+=c,a.total_in+=c,c)},cN=(a,o)=>{let i,l,c=a.max_chain_length,h=a.strstart,f=a.prev_length,m=a.nice_match;const v=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,b=a.window,w=a.w_mask,C=a.prev,H=a.strstart+258;let F=b[h+f-1],$=b[h+f];a.prev_length>=a.good_match&&(c>>=2),m>a.lookahead&&(m=a.lookahead);do if(i=o,b[i+f]===$&&b[i+f-1]===F&&b[i]===b[h]&&b[++i]===b[h+1]){h+=2,i++;do;while(b[++h]===b[++i]&&b[++h]===b[++i]&&b[++h]===b[++i]&&b[++h]===b[++i]&&b[++h]===b[++i]&&b[++h]===b[++i]&&b[++h]===b[++i]&&b[++h]===b[++i]&&h<H);if(l=258-(H-h),h=H-258,l>f){if(a.match_start=o,f=l,l>=m)break;F=b[h+f-1],$=b[h+f]}}while((o=C[o&w])>v&&--c!=0);return f<=a.lookahead?f:a.lookahead},ld=a=>{const o=a.w_size;let i,l,c;do{if(l=a.window_size-a.lookahead-a.strstart,a.strstart>=o+(o-262)&&(a.window.set(a.window.subarray(o,o+o-l),0),a.match_start-=o,a.strstart-=o,a.block_start-=o,a.insert>a.strstart&&(a.insert=a.strstart),LW(a),l+=o),a.strm.avail_in===0)break;if(i=Xy(a.strm,a.window,a.strstart+a.lookahead,l),a.lookahead+=i,a.lookahead+a.insert>=3)for(c=a.strstart-a.insert,a.ins_h=a.window[c],a.ins_h=hl(a,a.ins_h,a.window[c+1]);a.insert&&(a.ins_h=hl(a,a.ins_h,a.window[c+3-1]),a.prev[c&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=c,c++,a.insert--,!(a.lookahead+a.insert<3)););}while(a.lookahead<262&&a.strm.avail_in!==0)},dN=(a,o)=>{let i,l,c,h=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,f=0,m=a.strm.avail_in;do{if(i=65535,c=a.bi_valid+42>>3,a.strm.avail_out<c||(c=a.strm.avail_out-c,l=a.strstart-a.block_start,i>l+a.strm.avail_in&&(i=l+a.strm.avail_in),i>c&&(i=c),i<h&&(i===0&&o!==Da||o===cl||i!==l+a.strm.avail_in)))break;f=o===Da&&i===l+a.strm.avail_in?1:0,Qy(a,0,0,f),a.pending_buf[a.pending-4]=i,a.pending_buf[a.pending-3]=i>>8,a.pending_buf[a.pending-2]=~i,a.pending_buf[a.pending-1]=~i>>8,ma(a.strm),l&&(l>i&&(l=i),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+l),a.strm.next_out),a.strm.next_out+=l,a.strm.avail_out-=l,a.strm.total_out+=l,a.block_start+=l,i-=l),i&&(Xy(a.strm,a.strm.output,a.strm.next_out,i),a.strm.next_out+=i,a.strm.avail_out-=i,a.strm.total_out+=i)}while(f===0);return m-=a.strm.avail_in,m&&(m>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=m&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-m,a.strm.next_in),a.strstart),a.strstart+=m,a.insert+=m>a.w_size-a.insert?a.w_size-a.insert:m),a.block_start=a.strstart),a.high_water<a.strstart&&(a.high_water=a.strstart),f?4:o!==cl&&o!==Da&&a.strm.avail_in===0&&a.strstart===a.block_start?2:(c=a.window_size-a.strstart,a.strm.avail_in>c&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,c+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart)),c>a.strm.avail_in&&(c=a.strm.avail_in),c&&(Xy(a.strm,a.window,a.strstart,c),a.strstart+=c,a.insert+=c>a.w_size-a.insert?a.w_size-a.insert:c),a.high_water<a.strstart&&(a.high_water=a.strstart),c=a.bi_valid+42>>3,c=a.pending_buf_size-c>65535?65535:a.pending_buf_size-c,h=c>a.w_size?a.w_size:c,l=a.strstart-a.block_start,(l>=h||(l||o===Da)&&o!==cl&&a.strm.avail_in===0&&l<=c)&&(i=l>c?c:l,f=o===Da&&a.strm.avail_in===0&&i===l?1:0,Qy(a,a.block_start,i,f),a.block_start+=i,ma(a.strm)),f?3:1)},Zy=(a,o)=>{let i,l;for(;;){if(a.lookahead<262){if(ld(a),a.lookahead<262&&o===cl)return 1;if(a.lookahead===0)break}if(i=0,a.lookahead>=3&&(a.ins_h=hl(a,a.ins_h,a.window[a.strstart+3-1]),i=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),i!==0&&a.strstart-i<=a.w_size-262&&(a.match_length=cN(a,i)),a.match_length>=3)if(l=ul(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=3){a.match_length--;do a.strstart++,a.ins_h=hl(a,a.ins_h,a.window[a.strstart+3-1]),i=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!=0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=hl(a,a.ins_h,a.window[a.strstart+1]);else l=ul(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(l&&(va(a,!1),a.strm.avail_out===0))return 1}return a.insert=a.strstart<2?a.strstart:2,o===Da?(va(a,!0),a.strm.avail_out===0?3:4):a.sym_next&&(va(a,!1),a.strm.avail_out===0)?1:2},ud=(a,o)=>{let i,l,c;for(;;){if(a.lookahead<262){if(ld(a),a.lookahead<262&&o===cl)return 1;if(a.lookahead===0)break}if(i=0,a.lookahead>=3&&(a.ins_h=hl(a,a.ins_h,a.window[a.strstart+3-1]),i=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=2,i!==0&&a.prev_length<a.max_lazy_match&&a.strstart-i<=a.w_size-262&&(a.match_length=cN(a,i),a.match_length<=5&&(a.strategy===AW||a.match_length===3&&a.strstart-a.match_start>4096)&&(a.match_length=2)),a.prev_length>=3&&a.match_length<=a.prev_length){c=a.strstart+a.lookahead-3,l=ul(a,a.strstart-1-a.prev_match,a.prev_length-3),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=c&&(a.ins_h=hl(a,a.ins_h,a.window[a.strstart+3-1]),i=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!=0);if(a.match_available=0,a.match_length=2,a.strstart++,l&&(va(a,!1),a.strm.avail_out===0))return 1}else if(a.match_available){if(l=ul(a,0,a.window[a.strstart-1]),l&&va(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return 1}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(l=ul(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<2?a.strstart:2,o===Da?(va(a,!0),a.strm.avail_out===0?3:4):a.sym_next&&(va(a,!1),a.strm.avail_out===0)?1:2};function Ps(a,o,i,l,c){this.good_length=a,this.max_lazy=o,this.nice_length=i,this.max_chain=l,this.func=c}const hp=[new Ps(0,0,0,0,dN),new Ps(4,4,8,4,Zy),new Ps(4,5,16,8,Zy),new Ps(4,6,32,32,Zy),new Ps(4,4,16,16,ud),new Ps(8,16,32,32,ud),new Ps(8,16,128,128,ud),new Ps(8,32,128,256,ud),new Ps(32,128,258,1024,ud),new Ps(32,258,258,4096,ud)];function PW(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dl(this.dyn_ltree),dl(this.dyn_dtree),dl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dl(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const pp=a=>{if(!a)return 1;const o=a.state;return!o||o.strm!==a||o.status!==42&&o.status!==57&&o.status!==69&&o.status!==73&&o.status!==91&&o.status!==103&&o.status!==113&&o.status!==666?1:0},hN=a=>{if(pp(a))return Cu(a,Ls);a.total_in=a.total_out=0,a.data_type=UW;const o=a.state;return o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap===2?57:o.wrap?42:113,a.adler=o.wrap===2?0:1,o.last_flush=-2,kW(o),Yr},pN=a=>{const o=hN(a);var i;return o===Yr&&((i=a.state).window_size=2*i.w_size,dl(i.head),i.max_lazy_match=hp[i.level].max_lazy,i.good_match=hp[i.level].good_length,i.nice_match=hp[i.level].nice_length,i.max_chain_length=hp[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),o},fN=(a,o,i,l,c,h)=>{if(!a)return Ls;let f=1;if(o===OW&&(o=6),l<0?(f=0,l=-l):l>15&&(f=2,l-=16),c<1||c>9||i!==_g||l<8||l>15||o<0||o>9||h<0||h>MW||l===8&&f!==1)return Cu(a,Ls);l===8&&(l=9);const m=new PW;return a.state=m,m.strm=a,m.status=42,m.wrap=f,m.gzhead=null,m.w_bits=l,m.w_size=1<<m.w_bits,m.w_mask=m.w_size-1,m.hash_bits=c+7,m.hash_size=1<<m.hash_bits,m.hash_mask=m.hash_size-1,m.hash_shift=~~((m.hash_bits+3-1)/3),m.window=new Uint8Array(2*m.w_size),m.head=new Uint16Array(m.hash_size),m.prev=new Uint16Array(m.w_size),m.lit_bufsize=1<<c+6,m.pending_buf_size=4*m.lit_bufsize,m.pending_buf=new Uint8Array(m.pending_buf_size),m.sym_buf=m.lit_bufsize,m.sym_end=3*(m.lit_bufsize-1),m.level=o,m.strategy=h,m.method=i,pN(a)};var fp={deflateInit:(a,o)=>fN(a,o,_g,15,8,DW),deflateInit2:fN,deflateReset:pN,deflateResetKeep:hN,deflateSetHeader:(a,o)=>pp(a)||a.state.wrap!==2?Ls:(a.state.gzhead=o,Yr),deflate:(a,o)=>{if(pp(a)||o>oN||o<0)return a?Cu(a,Ls):Ls;const i=a.state;if(!a.output||a.avail_in!==0&&!a.input||i.status===666&&o!==Da)return Cu(a,a.avail_out===0?Yy:Ls);const l=i.last_flush;if(i.last_flush=o,i.pending!==0){if(ma(a),a.avail_out===0)return i.last_flush=-1,Yr}else if(a.avail_in===0&&uN(o)<=uN(l)&&o!==Da)return Cu(a,Yy);if(i.status===666&&a.avail_in!==0)return Cu(a,Yy);if(i.status===42&&i.wrap===0&&(i.status=113),i.status===42){let c=_g+(i.w_bits-8<<4)<<8,h=-1;if(h=i.strategy>=vg||i.level<2?0:i.level<6?1:i.level===6?2:3,c|=h<<6,i.strstart!==0&&(c|=32),c+=31-c%31,dp(i,c),i.strstart!==0&&(dp(i,a.adler>>>16),dp(i,65535&a.adler)),a.adler=1,i.status=113,ma(a),i.pending!==0)return i.last_flush=-1,Yr}if(i.status===57){if(a.adler=0,Tt(i,31),Tt(i,139),Tt(i,8),i.gzhead)Tt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Tt(i,255&i.gzhead.time),Tt(i,i.gzhead.time>>8&255),Tt(i,i.gzhead.time>>16&255),Tt(i,i.gzhead.time>>24&255),Tt(i,i.level===9?2:i.strategy>=vg||i.level<2?4:0),Tt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Tt(i,255&i.gzhead.extra.length),Tt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(a.adler=zr(a.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(Tt(i,0),Tt(i,0),Tt(i,0),Tt(i,0),Tt(i,0),Tt(i,i.level===9?2:i.strategy>=vg||i.level<2?4:0),Tt(i,3),i.status=113,ma(a),i.pending!==0)return i.last_flush=-1,Yr}if(i.status===69){if(i.gzhead.extra){let c=i.pending,h=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+h>i.pending_buf_size;){let m=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+m),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>c&&(a.adler=zr(a.adler,i.pending_buf,i.pending-c,c)),i.gzindex+=m,ma(a),i.pending!==0)return i.last_flush=-1,Yr;c=0,h-=m}let f=new Uint8Array(i.gzhead.extra);i.pending_buf.set(f.subarray(i.gzindex,i.gzindex+h),i.pending),i.pending+=h,i.gzhead.hcrc&&i.pending>c&&(a.adler=zr(a.adler,i.pending_buf,i.pending-c,c)),i.gzindex=0}i.status=73}if(i.status===73){if(i.gzhead.name){let c,h=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>h&&(a.adler=zr(a.adler,i.pending_buf,i.pending-h,h)),ma(a),i.pending!==0)return i.last_flush=-1,Yr;h=0}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Tt(i,c)}while(c!==0);i.gzhead.hcrc&&i.pending>h&&(a.adler=zr(a.adler,i.pending_buf,i.pending-h,h)),i.gzindex=0}i.status=91}if(i.status===91){if(i.gzhead.comment){let c,h=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>h&&(a.adler=zr(a.adler,i.pending_buf,i.pending-h,h)),ma(a),i.pending!==0)return i.last_flush=-1,Yr;h=0}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Tt(i,c)}while(c!==0);i.gzhead.hcrc&&i.pending>h&&(a.adler=zr(a.adler,i.pending_buf,i.pending-h,h))}i.status=103}if(i.status===103){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(ma(a),i.pending!==0))return i.last_flush=-1,Yr;Tt(i,255&a.adler),Tt(i,a.adler>>8&255),a.adler=0}if(i.status=113,ma(a),i.pending!==0)return i.last_flush=-1,Yr}if(a.avail_in!==0||i.lookahead!==0||o!==cl&&i.status!==666){let c=i.level===0?dN(i,o):i.strategy===vg?((h,f)=>{let m;for(;;){if(h.lookahead===0&&(ld(h),h.lookahead===0)){if(f===cl)return 1;break}if(h.match_length=0,m=ul(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++,m&&(va(h,!1),h.strm.avail_out===0))return 1}return h.insert=0,f===Da?(va(h,!0),h.strm.avail_out===0?3:4):h.sym_next&&(va(h,!1),h.strm.avail_out===0)?1:2})(i,o):i.strategy===RW?((h,f)=>{let m,v,b,w;const C=h.window;for(;;){if(h.lookahead<=258){if(ld(h),h.lookahead<=258&&f===cl)return 1;if(h.lookahead===0)break}if(h.match_length=0,h.lookahead>=3&&h.strstart>0&&(b=h.strstart-1,v=C[b],v===C[++b]&&v===C[++b]&&v===C[++b])){w=h.strstart+258;do;while(v===C[++b]&&v===C[++b]&&v===C[++b]&&v===C[++b]&&v===C[++b]&&v===C[++b]&&v===C[++b]&&v===C[++b]&&b<w);h.match_length=258-(w-b),h.match_length>h.lookahead&&(h.match_length=h.lookahead)}if(h.match_length>=3?(m=ul(h,1,h.match_length-3),h.lookahead-=h.match_length,h.strstart+=h.match_length,h.match_length=0):(m=ul(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++),m&&(va(h,!1),h.strm.avail_out===0))return 1}return h.insert=0,f===Da?(va(h,!0),h.strm.avail_out===0?3:4):h.sym_next&&(va(h,!1),h.strm.avail_out===0)?1:2})(i,o):hp[i.level].func(i,o);if(c!==3&&c!==4||(i.status=666),c===1||c===3)return a.avail_out===0&&(i.last_flush=-1),Yr;if(c===2&&(o===TW?CW(i):o!==oN&&(Qy(i,0,0,!1),o===IW&&(dl(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),ma(a),a.avail_out===0))return i.last_flush=-1,Yr}return o!==Da?Yr:i.wrap<=0?lN:(i.wrap===2?(Tt(i,255&a.adler),Tt(i,a.adler>>8&255),Tt(i,a.adler>>16&255),Tt(i,a.adler>>24&255),Tt(i,255&a.total_in),Tt(i,a.total_in>>8&255),Tt(i,a.total_in>>16&255),Tt(i,a.total_in>>24&255)):(dp(i,a.adler>>>16),dp(i,65535&a.adler)),ma(a),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Yr:lN)},deflateEnd:a=>{if(pp(a))return Ls;const o=a.state.status;return a.state=null,o===113?Cu(a,NW):Yr},deflateSetDictionary:(a,o)=>{let i=o.length;if(pp(a))return Ls;const l=a.state,c=l.wrap;if(c===2||c===1&&l.status!==42||l.lookahead)return Ls;if(c===1&&(a.adler=cp(a.adler,o,i,0)),l.wrap=0,i>=l.w_size){c===0&&(dl(l.head),l.strstart=0,l.block_start=0,l.insert=0);let v=new Uint8Array(l.w_size);v.set(o.subarray(i-l.w_size,i),0),o=v,i=l.w_size}const h=a.avail_in,f=a.next_in,m=a.input;for(a.avail_in=i,a.next_in=0,a.input=o,ld(l);l.lookahead>=3;){let v=l.strstart,b=l.lookahead-2;do l.ins_h=hl(l,l.ins_h,l.window[v+3-1]),l.prev[v&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=v,v++;while(--b);l.strstart=v,l.lookahead=2,ld(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=2,l.match_available=0,a.next_in=f,a.input=m,a.avail_in=h,l.wrap=c,Yr},deflateInfo:"pako deflate (from Nodeca project)"};const FW=(a,o)=>Object.prototype.hasOwnProperty.call(a,o);var gN=function(a){const o=Array.prototype.slice.call(arguments,1);for(;o.length;){const i=o.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const l in i)FW(i,l)&&(a[l]=i[l])}}return a},mN=a=>{let o=0;for(let l=0,c=a.length;l<c;l++)o+=a[l].length;const i=new Uint8Array(o);for(let l=0,c=0,h=a.length;l<h;l++){let f=a[l];i.set(f,c),c+=f.length}return i};let vN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{vN=!1}const gp=new Uint8Array(256);for(let a=0;a<256;a++)gp[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;gp[254]=gp[254]=1;var Jy=a=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let o,i,l,c,h,f=a.length,m=0;for(c=0;c<f;c++)i=a.charCodeAt(c),(64512&i)==55296&&c+1<f&&(l=a.charCodeAt(c+1),(64512&l)==56320&&(i=65536+(i-55296<<10)+(l-56320),c++)),m+=i<128?1:i<2048?2:i<65536?3:4;for(o=new Uint8Array(m),h=0,c=0;h<m;c++)i=a.charCodeAt(c),(64512&i)==55296&&c+1<f&&(l=a.charCodeAt(c+1),(64512&l)==56320&&(i=65536+(i-55296<<10)+(l-56320),c++)),i<128?o[h++]=i:i<2048?(o[h++]=192|i>>>6,o[h++]=128|63&i):i<65536?(o[h++]=224|i>>>12,o[h++]=128|i>>>6&63,o[h++]=128|63&i):(o[h++]=240|i>>>18,o[h++]=128|i>>>12&63,o[h++]=128|i>>>6&63,o[h++]=128|63&i);return o},HW=(a,o)=>{const i=o||a.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,o));let l,c;const h=new Array(2*i);for(c=0,l=0;l<i;){let f=a[l++];if(f<128){h[c++]=f;continue}let m=gp[f];if(m>4)h[c++]=65533,l+=m-1;else{for(f&=m===2?31:m===3?15:7;m>1&&l<i;)f=f<<6|63&a[l++],m--;m>1?h[c++]=65533:f<65536?h[c++]=f:(f-=65536,h[c++]=55296|f>>10&1023,h[c++]=56320|1023&f)}}return((f,m)=>{if(m<65534&&f.subarray&&vN)return String.fromCharCode.apply(null,f.length===m?f:f.subarray(0,m));let v="";for(let b=0;b<m;b++)v+=String.fromCharCode(f[b]);return v})(h,c)},zW=(a,o)=>{(o=o||a.length)>a.length&&(o=a.length);let i=o-1;for(;i>=0&&(192&a[i])==128;)i--;return i<0||i===0?o:i+gp[a[i]]>o?i:o},_N=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const bN=Object.prototype.toString,{Z_NO_FLUSH:qW,Z_SYNC_FLUSH:BW,Z_FULL_FLUSH:jW,Z_FINISH:GW,Z_OK:bg,Z_STREAM_END:$W,Z_DEFAULT_COMPRESSION:VW,Z_DEFAULT_STRATEGY:WW,Z_DEFLATED:KW}=Su;function mp(a){this.options=gN({level:VW,method:KW,chunkSize:16384,windowBits:15,memLevel:8,strategy:WW},a||{});let o=this.options;o.raw&&o.windowBits>0?o.windowBits=-o.windowBits:o.gzip&&o.windowBits>0&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _N,this.strm.avail_out=0;let i=fp.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(i!==bg)throw new Error(ku[i]);if(o.header&&fp.deflateSetHeader(this.strm,o.header),o.dictionary){let l;if(l=typeof o.dictionary=="string"?Jy(o.dictionary):bN.call(o.dictionary)==="[object ArrayBuffer]"?new Uint8Array(o.dictionary):o.dictionary,i=fp.deflateSetDictionary(this.strm,l),i!==bg)throw new Error(ku[i]);this._dict_set=!0}}function e1(a,o){const i=new mp(o);if(i.push(a,!0),i.err)throw i.msg||ku[i.err];return i.result}mp.prototype.push=function(a,o){const i=this.strm,l=this.options.chunkSize;let c,h;if(this.ended)return!1;for(h=o===~~o?o:o===!0?GW:qW,typeof a=="string"?i.input=Jy(a):bN.call(a)==="[object ArrayBuffer]"?i.input=new Uint8Array(a):i.input=a,i.next_in=0,i.avail_in=i.input.length;;)if(i.avail_out===0&&(i.output=new Uint8Array(l),i.next_out=0,i.avail_out=l),(h===BW||h===jW)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(c=fp.deflate(i,h),c===$W)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),c=fp.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===bg;if(i.avail_out!==0){if(h>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(i.avail_in===0)break}else this.onData(i.output)}return!0},mp.prototype.onData=function(a){this.chunks.push(a)},mp.prototype.onEnd=function(a){a===bg&&(this.result=mN(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};var QW={Deflate:mp,deflate:e1,deflateRaw:function(a,o){return(o=o||{}).raw=!0,e1(a,o)},gzip:function(a,o){return(o=o||{}).gzip=!0,e1(a,o)},constants:Su},YW=function(a,o){let i,l,c,h,f,m,v,b,w,C,H,F,$,B,W,ie,Z,pe,Oe,te,X,Se,xe,we;const Be=a.state;i=a.next_in,xe=a.input,l=i+(a.avail_in-5),c=a.next_out,we=a.output,h=c-(o-a.avail_out),f=c+(a.avail_out-257),m=Be.dmax,v=Be.wsize,b=Be.whave,w=Be.wnext,C=Be.window,H=Be.hold,F=Be.bits,$=Be.lencode,B=Be.distcode,W=(1<<Be.lenbits)-1,ie=(1<<Be.distbits)-1;e:do{F<15&&(H+=xe[i++]<<F,F+=8,H+=xe[i++]<<F,F+=8),Z=$[H&W];n:for(;;){if(pe=Z>>>24,H>>>=pe,F-=pe,pe=Z>>>16&255,pe===0)we[c++]=65535&Z;else{if(!(16&pe)){if((64&pe)==0){Z=$[(65535&Z)+(H&(1<<pe)-1)];continue n}if(32&pe){Be.mode=16191;break e}a.msg="invalid literal/length code",Be.mode=16209;break e}Oe=65535&Z,pe&=15,pe&&(F<pe&&(H+=xe[i++]<<F,F+=8),Oe+=H&(1<<pe)-1,H>>>=pe,F-=pe),F<15&&(H+=xe[i++]<<F,F+=8,H+=xe[i++]<<F,F+=8),Z=B[H&ie];t:for(;;){if(pe=Z>>>24,H>>>=pe,F-=pe,pe=Z>>>16&255,!(16&pe)){if((64&pe)==0){Z=B[(65535&Z)+(H&(1<<pe)-1)];continue t}a.msg="invalid distance code",Be.mode=16209;break e}if(te=65535&Z,pe&=15,F<pe&&(H+=xe[i++]<<F,F+=8,F<pe&&(H+=xe[i++]<<F,F+=8)),te+=H&(1<<pe)-1,te>m){a.msg="invalid distance too far back",Be.mode=16209;break e}if(H>>>=pe,F-=pe,pe=c-h,te>pe){if(pe=te-pe,pe>b&&Be.sane){a.msg="invalid distance too far back",Be.mode=16209;break e}if(X=0,Se=C,w===0){if(X+=v-pe,pe<Oe){Oe-=pe;do we[c++]=C[X++];while(--pe);X=c-te,Se=we}}else if(w<pe){if(X+=v+w-pe,pe-=w,pe<Oe){Oe-=pe;do we[c++]=C[X++];while(--pe);if(X=0,w<Oe){pe=w,Oe-=pe;do we[c++]=C[X++];while(--pe);X=c-te,Se=we}}}else if(X+=w-pe,pe<Oe){Oe-=pe;do we[c++]=C[X++];while(--pe);X=c-te,Se=we}for(;Oe>2;)we[c++]=Se[X++],we[c++]=Se[X++],we[c++]=Se[X++],Oe-=3;Oe&&(we[c++]=Se[X++],Oe>1&&(we[c++]=Se[X++]))}else{X=c-te;do we[c++]=we[X++],we[c++]=we[X++],we[c++]=we[X++],Oe-=3;while(Oe>2);Oe&&(we[c++]=we[X++],Oe>1&&(we[c++]=we[X++]))}break}}break}}while(i<l&&c<f);Oe=F>>3,i-=Oe,F-=Oe<<3,H&=(1<<F)-1,a.next_in=i,a.next_out=c,a.avail_in=i<l?l-i+5:5-(i-l),a.avail_out=c<f?f-c+257:257-(c-f),Be.hold=H,Be.bits=F};const XW=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ZW=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),JW=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eK=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var vp=(a,o,i,l,c,h,f,m)=>{const v=m.bits;let b,w,C,H,F,$,B=0,W=0,ie=0,Z=0,pe=0,Oe=0,te=0,X=0,Se=0,xe=0,we=null;const Be=new Uint16Array(16),mt=new Uint16Array(16);let Ve,Ge,on,Tn=null;for(B=0;B<=15;B++)Be[B]=0;for(W=0;W<l;W++)Be[o[i+W]]++;for(pe=v,Z=15;Z>=1&&Be[Z]===0;Z--);if(pe>Z&&(pe=Z),Z===0)return c[h++]=20971520,c[h++]=20971520,m.bits=1,0;for(ie=1;ie<Z&&Be[ie]===0;ie++);for(pe<ie&&(pe=ie),X=1,B=1;B<=15;B++)if(X<<=1,X-=Be[B],X<0)return-1;if(X>0&&(a===0||Z!==1))return-1;for(mt[1]=0,B=1;B<15;B++)mt[B+1]=mt[B]+Be[B];for(W=0;W<l;W++)o[i+W]!==0&&(f[mt[o[i+W]]++]=W);if(a===0?(we=Tn=f,$=20):a===1?(we=XW,Tn=ZW,$=257):(we=JW,Tn=eK,$=0),xe=0,W=0,B=ie,F=h,Oe=pe,te=0,C=-1,Se=1<<pe,H=Se-1,a===1&&Se>852||a===2&&Se>592)return 1;for(;;){Ve=B-te,f[W]+1<$?(Ge=0,on=f[W]):f[W]>=$?(Ge=Tn[f[W]-$],on=we[f[W]-$]):(Ge=96,on=0),b=1<<B-te,w=1<<Oe,ie=w;do w-=b,c[F+(xe>>te)+w]=Ve<<24|Ge<<16|on|0;while(w!==0);for(b=1<<B-1;xe&b;)b>>=1;if(b!==0?(xe&=b-1,xe+=b):xe=0,W++,--Be[B]==0){if(B===Z)break;B=o[i+f[W]]}if(B>pe&&(xe&H)!==C){for(te===0&&(te=pe),F+=ie,Oe=B-te,X=1<<Oe;Oe+te<Z&&(X-=Be[Oe+te],!(X<=0));)Oe++,X<<=1;if(Se+=1<<Oe,a===1&&Se>852||a===2&&Se>592)return 1;C=xe&H,c[C]=pe<<24|Oe<<16|F-h|0}}return xe!==0&&(c[F+xe]=B-te<<24|64<<16|0),m.bits=pe,0};const{Z_FINISH:yN,Z_BLOCK:nK,Z_TREES:yg,Z_OK:Tu,Z_STREAM_END:tK,Z_NEED_DICT:rK,Z_STREAM_ERROR:Ua,Z_DATA_ERROR:EN,Z_MEM_ERROR:wN,Z_BUF_ERROR:iK,Z_DEFLATED:xN}=Su,or=16209,kN=a=>(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24);function aK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Iu=a=>{if(!a)return 1;const o=a.state;return!o||o.strm!==a||o.mode<16180||o.mode>16211?1:0},SN=a=>{if(Iu(a))return Ua;const o=a.state;return a.total_in=a.total_out=o.total=0,a.msg="",o.wrap&&(a.adler=1&o.wrap),o.mode=16180,o.last=0,o.havedict=0,o.flags=-1,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new Int32Array(852),o.distcode=o.distdyn=new Int32Array(592),o.sane=1,o.back=-1,Tu},CN=a=>{if(Iu(a))return Ua;const o=a.state;return o.wsize=0,o.whave=0,o.wnext=0,SN(a)},TN=(a,o)=>{let i;if(Iu(a))return Ua;const l=a.state;return o<0?(i=0,o=-o):(i=5+(o>>4),o<48&&(o&=15)),o&&(o<8||o>15)?Ua:(l.window!==null&&l.wbits!==o&&(l.window=null),l.wrap=i,l.wbits=o,CN(a))},IN=(a,o)=>{if(!a)return Ua;const i=new aK;a.state=i,i.strm=a,i.window=null,i.mode=16180;const l=TN(a,o);return l!==Tu&&(a.state=null),l};let n1,t1,NN=!0;const sK=a=>{if(NN){n1=new Int32Array(512),t1=new Int32Array(32);let o=0;for(;o<144;)a.lens[o++]=8;for(;o<256;)a.lens[o++]=9;for(;o<280;)a.lens[o++]=7;for(;o<288;)a.lens[o++]=8;for(vp(1,a.lens,0,288,n1,0,a.work,{bits:9}),o=0;o<32;)a.lens[o++]=5;vp(2,a.lens,0,32,t1,0,a.work,{bits:5}),NN=!1}a.lencode=n1,a.lenbits=9,a.distcode=t1,a.distbits=5},ON=(a,o,i,l)=>{let c;const h=a.state;return h.window===null&&(h.wsize=1<<h.wbits,h.wnext=0,h.whave=0,h.window=new Uint8Array(h.wsize)),l>=h.wsize?(h.window.set(o.subarray(i-h.wsize,i),0),h.wnext=0,h.whave=h.wsize):(c=h.wsize-h.wnext,c>l&&(c=l),h.window.set(o.subarray(i-l,i-l+c),h.wnext),(l-=c)?(h.window.set(o.subarray(i-l,i),0),h.wnext=l,h.whave=h.wsize):(h.wnext+=c,h.wnext===h.wsize&&(h.wnext=0),h.whave<h.wsize&&(h.whave+=c))),0};var go={inflateReset:CN,inflateReset2:TN,inflateResetKeep:SN,inflateInit:a=>IN(a,15),inflateInit2:IN,inflate:(a,o)=>{let i,l,c,h,f,m,v,b,w,C,H,F,$,B,W,ie,Z,pe,Oe,te,X,Se,xe=0;const we=new Uint8Array(4);let Be,mt;const Ve=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Iu(a)||!a.output||!a.input&&a.avail_in!==0)return Ua;i=a.state,i.mode===16191&&(i.mode=16192),f=a.next_out,c=a.output,v=a.avail_out,h=a.next_in,l=a.input,m=a.avail_in,b=i.hold,w=i.bits,C=m,H=v,Se=Tu;e:for(;;)switch(i.mode){case 16180:if(i.wrap===0){i.mode=16192;break}for(;w<16;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if(2&i.wrap&&b===35615){i.wbits===0&&(i.wbits=15),i.check=0,we[0]=255&b,we[1]=b>>>8&255,i.check=zr(i.check,we,2,0),b=0,w=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&b)<<8)+(b>>8))%31){a.msg="incorrect header check",i.mode=or;break}if((15&b)!==xN){a.msg="unknown compression method",i.mode=or;break}if(b>>>=4,w-=4,X=8+(15&b),i.wbits===0&&(i.wbits=X),X>15||X>i.wbits){a.msg="invalid window size",i.mode=or;break}i.dmax=1<<i.wbits,i.flags=0,a.adler=i.check=1,i.mode=512&b?16189:16191,b=0,w=0;break;case 16181:for(;w<16;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if(i.flags=b,(255&i.flags)!==xN){a.msg="unknown compression method",i.mode=or;break}if(57344&i.flags){a.msg="unknown header flags set",i.mode=or;break}i.head&&(i.head.text=b>>8&1),512&i.flags&&4&i.wrap&&(we[0]=255&b,we[1]=b>>>8&255,i.check=zr(i.check,we,2,0)),b=0,w=0,i.mode=16182;case 16182:for(;w<32;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}i.head&&(i.head.time=b),512&i.flags&&4&i.wrap&&(we[0]=255&b,we[1]=b>>>8&255,we[2]=b>>>16&255,we[3]=b>>>24&255,i.check=zr(i.check,we,4,0)),b=0,w=0,i.mode=16183;case 16183:for(;w<16;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}i.head&&(i.head.xflags=255&b,i.head.os=b>>8),512&i.flags&&4&i.wrap&&(we[0]=255&b,we[1]=b>>>8&255,i.check=zr(i.check,we,2,0)),b=0,w=0,i.mode=16184;case 16184:if(1024&i.flags){for(;w<16;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}i.length=b,i.head&&(i.head.extra_len=b),512&i.flags&&4&i.wrap&&(we[0]=255&b,we[1]=b>>>8&255,i.check=zr(i.check,we,2,0)),b=0,w=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(F=i.length,F>m&&(F=m),F&&(i.head&&(X=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(l.subarray(h,h+F),X)),512&i.flags&&4&i.wrap&&(i.check=zr(i.check,l,F,h)),m-=F,h+=F,i.length-=F),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(m===0)break e;F=0;do X=l[h+F++],i.head&&X&&i.length<65536&&(i.head.name+=String.fromCharCode(X));while(X&&F<m);if(512&i.flags&&4&i.wrap&&(i.check=zr(i.check,l,F,h)),m-=F,h+=F,X)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(m===0)break e;F=0;do X=l[h+F++],i.head&&X&&i.length<65536&&(i.head.comment+=String.fromCharCode(X));while(X&&F<m);if(512&i.flags&&4&i.wrap&&(i.check=zr(i.check,l,F,h)),m-=F,h+=F,X)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;w<16;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if(4&i.wrap&&b!==(65535&i.check)){a.msg="header crc mismatch",i.mode=or;break}b=0,w=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),a.adler=i.check=0,i.mode=16191;break;case 16189:for(;w<32;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}a.adler=i.check=kN(b),b=0,w=0,i.mode=16190;case 16190:if(i.havedict===0)return a.next_out=f,a.avail_out=v,a.next_in=h,a.avail_in=m,i.hold=b,i.bits=w,rK;a.adler=i.check=1,i.mode=16191;case 16191:if(o===nK||o===yg)break e;case 16192:if(i.last){b>>>=7&w,w-=7&w,i.mode=16206;break}for(;w<3;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}switch(i.last=1&b,b>>>=1,w-=1,3&b){case 0:i.mode=16193;break;case 1:if(sK(i),i.mode=16199,o===yg){b>>>=2,w-=2;break e}break;case 2:i.mode=16196;break;case 3:a.msg="invalid block type",i.mode=or}b>>>=2,w-=2;break;case 16193:for(b>>>=7&w,w-=7&w;w<32;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if((65535&b)!=(b>>>16^65535)){a.msg="invalid stored block lengths",i.mode=or;break}if(i.length=65535&b,b=0,w=0,i.mode=16194,o===yg)break e;case 16194:i.mode=16195;case 16195:if(F=i.length,F){if(F>m&&(F=m),F>v&&(F=v),F===0)break e;c.set(l.subarray(h,h+F),f),m-=F,h+=F,v-=F,f+=F,i.length-=F;break}i.mode=16191;break;case 16196:for(;w<14;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if(i.nlen=257+(31&b),b>>>=5,w-=5,i.ndist=1+(31&b),b>>>=5,w-=5,i.ncode=4+(15&b),b>>>=4,w-=4,i.nlen>286||i.ndist>30){a.msg="too many length or distance symbols",i.mode=or;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;w<3;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}i.lens[Ve[i.have++]]=7&b,b>>>=3,w-=3}for(;i.have<19;)i.lens[Ve[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Be={bits:i.lenbits},Se=vp(0,i.lens,0,19,i.lencode,0,i.work,Be),i.lenbits=Be.bits,Se){a.msg="invalid code lengths set",i.mode=or;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;xe=i.lencode[b&(1<<i.lenbits)-1],W=xe>>>24,ie=xe>>>16&255,Z=65535&xe,!(W<=w);){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if(Z<16)b>>>=W,w-=W,i.lens[i.have++]=Z;else{if(Z===16){for(mt=W+2;w<mt;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if(b>>>=W,w-=W,i.have===0){a.msg="invalid bit length repeat",i.mode=or;break}X=i.lens[i.have-1],F=3+(3&b),b>>>=2,w-=2}else if(Z===17){for(mt=W+3;w<mt;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}b>>>=W,w-=W,X=0,F=3+(7&b),b>>>=3,w-=3}else{for(mt=W+7;w<mt;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}b>>>=W,w-=W,X=0,F=11+(127&b),b>>>=7,w-=7}if(i.have+F>i.nlen+i.ndist){a.msg="invalid bit length repeat",i.mode=or;break}for(;F--;)i.lens[i.have++]=X}}if(i.mode===or)break;if(i.lens[256]===0){a.msg="invalid code -- missing end-of-block",i.mode=or;break}if(i.lenbits=9,Be={bits:i.lenbits},Se=vp(1,i.lens,0,i.nlen,i.lencode,0,i.work,Be),i.lenbits=Be.bits,Se){a.msg="invalid literal/lengths set",i.mode=or;break}if(i.distbits=6,i.distcode=i.distdyn,Be={bits:i.distbits},Se=vp(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Be),i.distbits=Be.bits,Se){a.msg="invalid distances set",i.mode=or;break}if(i.mode=16199,o===yg)break e;case 16199:i.mode=16200;case 16200:if(m>=6&&v>=258){a.next_out=f,a.avail_out=v,a.next_in=h,a.avail_in=m,i.hold=b,i.bits=w,YW(a,H),f=a.next_out,c=a.output,v=a.avail_out,h=a.next_in,l=a.input,m=a.avail_in,b=i.hold,w=i.bits,i.mode===16191&&(i.back=-1);break}for(i.back=0;xe=i.lencode[b&(1<<i.lenbits)-1],W=xe>>>24,ie=xe>>>16&255,Z=65535&xe,!(W<=w);){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if(ie&&(240&ie)==0){for(pe=W,Oe=ie,te=Z;xe=i.lencode[te+((b&(1<<pe+Oe)-1)>>pe)],W=xe>>>24,ie=xe>>>16&255,Z=65535&xe,!(pe+W<=w);){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}b>>>=pe,w-=pe,i.back+=pe}if(b>>>=W,w-=W,i.back+=W,i.length=Z,ie===0){i.mode=16205;break}if(32&ie){i.back=-1,i.mode=16191;break}if(64&ie){a.msg="invalid literal/length code",i.mode=or;break}i.extra=15&ie,i.mode=16201;case 16201:if(i.extra){for(mt=i.extra;w<mt;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}i.length+=b&(1<<i.extra)-1,b>>>=i.extra,w-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;xe=i.distcode[b&(1<<i.distbits)-1],W=xe>>>24,ie=xe>>>16&255,Z=65535&xe,!(W<=w);){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if((240&ie)==0){for(pe=W,Oe=ie,te=Z;xe=i.distcode[te+((b&(1<<pe+Oe)-1)>>pe)],W=xe>>>24,ie=xe>>>16&255,Z=65535&xe,!(pe+W<=w);){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}b>>>=pe,w-=pe,i.back+=pe}if(b>>>=W,w-=W,i.back+=W,64&ie){a.msg="invalid distance code",i.mode=or;break}i.offset=Z,i.extra=15&ie,i.mode=16203;case 16203:if(i.extra){for(mt=i.extra;w<mt;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}i.offset+=b&(1<<i.extra)-1,b>>>=i.extra,w-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){a.msg="invalid distance too far back",i.mode=or;break}i.mode=16204;case 16204:if(v===0)break e;if(F=H-v,i.offset>F){if(F=i.offset-F,F>i.whave&&i.sane){a.msg="invalid distance too far back",i.mode=or;break}F>i.wnext?(F-=i.wnext,$=i.wsize-F):$=i.wnext-F,F>i.length&&(F=i.length),B=i.window}else B=c,$=f-i.offset,F=i.length;F>v&&(F=v),v-=F,i.length-=F;do c[f++]=B[$++];while(--F);i.length===0&&(i.mode=16200);break;case 16205:if(v===0)break e;c[f++]=i.length,v--,i.mode=16200;break;case 16206:if(i.wrap){for(;w<32;){if(m===0)break e;m--,b|=l[h++]<<w,w+=8}if(H-=v,a.total_out+=H,i.total+=H,4&i.wrap&&H&&(a.adler=i.check=i.flags?zr(i.check,c,H,f-H):cp(i.check,c,H,f-H)),H=v,4&i.wrap&&(i.flags?b:kN(b))!==i.check){a.msg="incorrect data check",i.mode=or;break}b=0,w=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;w<32;){if(m===0)break e;m--,b+=l[h++]<<w,w+=8}if(4&i.wrap&&b!==(4294967295&i.total)){a.msg="incorrect length check",i.mode=or;break}b=0,w=0}i.mode=16208;case 16208:Se=tK;break e;case or:Se=EN;break e;case 16210:return wN;default:return Ua}return a.next_out=f,a.avail_out=v,a.next_in=h,a.avail_in=m,i.hold=b,i.bits=w,(i.wsize||H!==a.avail_out&&i.mode<or&&(i.mode<16206||o!==yN))&&ON(a,a.output,a.next_out,H-a.avail_out),C-=a.avail_in,H-=a.avail_out,a.total_in+=C,a.total_out+=H,i.total+=H,4&i.wrap&&H&&(a.adler=i.check=i.flags?zr(i.check,c,H,a.next_out-H):cp(i.check,c,H,a.next_out-H)),a.data_type=i.bits+(i.last?64:0)+(i.mode===16191?128:0)+(i.mode===16199||i.mode===16194?256:0),(C===0&&H===0||o===yN)&&Se===Tu&&(Se=iK),Se},inflateEnd:a=>{if(Iu(a))return Ua;let o=a.state;return o.window&&(o.window=null),a.state=null,Tu},inflateGetHeader:(a,o)=>{if(Iu(a))return Ua;const i=a.state;return(2&i.wrap)==0?Ua:(i.head=o,o.done=!1,Tu)},inflateSetDictionary:(a,o)=>{const i=o.length;let l,c,h;return Iu(a)?Ua:(l=a.state,l.wrap!==0&&l.mode!==16190?Ua:l.mode===16190&&(c=1,c=cp(c,o,i,0),c!==l.check)?EN:(h=ON(a,o,i,i),h?(l.mode=16210,wN):(l.havedict=1,Tu)))},inflateInfo:"pako inflate (from Nodeca project)"},oK=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const AN=Object.prototype.toString,{Z_NO_FLUSH:lK,Z_FINISH:uK,Z_OK:_p,Z_STREAM_END:r1,Z_NEED_DICT:i1,Z_STREAM_ERROR:cK,Z_DATA_ERROR:RN,Z_MEM_ERROR:dK}=Su;function bp(a){this.options=gN({chunkSize:65536,windowBits:15,to:""},a||{});const o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),!(o.windowBits>=0&&o.windowBits<16)||a&&a.windowBits||(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(15&o.windowBits)==0&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _N,this.strm.avail_out=0;let i=go.inflateInit2(this.strm,o.windowBits);if(i!==_p)throw new Error(ku[i]);if(this.header=new oK,go.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=Jy(o.dictionary):AN.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(i=go.inflateSetDictionary(this.strm,o.dictionary),i!==_p)))throw new Error(ku[i])}function a1(a,o){const i=new bp(o);if(i.push(a),i.err)throw i.msg||ku[i.err];return i.result}bp.prototype.push=function(a,o){const i=this.strm,l=this.options.chunkSize,c=this.options.dictionary;let h,f,m;if(this.ended)return!1;for(f=o===~~o?o:o===!0?uK:lK,AN.call(a)==="[object ArrayBuffer]"?i.input=new Uint8Array(a):i.input=a,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(l),i.next_out=0,i.avail_out=l),h=go.inflate(i,f),h===i1&&c&&(h=go.inflateSetDictionary(i,c),h===_p?h=go.inflate(i,f):h===RN&&(h=i1));i.avail_in>0&&h===r1&&i.state.wrap>0&&a[i.next_in]!==0;)go.inflateReset(i),h=go.inflate(i,f);switch(h){case cK:case RN:case i1:case dK:return this.onEnd(h),this.ended=!0,!1}if(m=i.avail_out,i.next_out&&(i.avail_out===0||h===r1))if(this.options.to==="string"){let v=zW(i.output,i.next_out),b=i.next_out-v,w=HW(i.output,v);i.next_out=b,i.avail_out=l-b,b&&i.output.set(i.output.subarray(v,v+b),0),this.onData(w)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(h!==_p||m!==0){if(h===r1)return h=go.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,!0;if(i.avail_in===0)break}}return!0},bp.prototype.onData=function(a){this.chunks.push(a)},bp.prototype.onEnd=function(a){a===_p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=mN(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};var hK={Inflate:bp,inflate:a1,inflateRaw:function(a,o){return(o=o||{}).raw=!0,a1(a,o)},ungzip:a1,constants:Su};const{Deflate:pK,deflate:fK,deflateRaw:gK,gzip:mK}=QW,{Inflate:vK,inflate:_K,inflateRaw:bK,ungzip:yK}=hK;var Fs,EK={Deflate:pK,deflate:fK,deflateRaw:gK,gzip:mK,Inflate:vK,inflate:_K,inflateRaw:bK,ungzip:yK,constants:Su};(function(a){a.CONNECTING="CONNECTING",a.OPEN="OPEN",a.CLOSED="CLOSED"})(Fs||(Fs={}));var Et,wK=function(a){function o(i,l){var c=l.sdkState,h=l.dispatcher,f=l.logger,m=a.call(this)||this;return m.lastActive=0,m._iid=i,m._sdkState=c,m._dispatcher=h,m._logger=f,m}return K(o,a),Object.defineProperty(o.prototype,"isOpen",{get:function(){return this.connectionState===Fs.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Fs.CONNECTING;case 1:return Fs.OPEN}return Fs.CLOSED},enumerable:!1,configurable:!0}),o.prototype._handleMessage=function(i){var l=this;i.split(`
`).forEach(function(c){if(c){var h=Xt.createFromRawMessage(l._iid,c);l._logger.debug("receive websocket event",h),h.code==="LOGI"?l.dispatch("message",h):h.code==="PONG"?l.dispatch("pong"):h.code==="EXPR"?h.payload&&h.payload.expires_in>=0&&l._dispatcher.dispatch(new fg):h.code==="NOOP"||l.dispatch("message",h)}})},o.prototype.connect=function(i){var l=this;this._ws=new WebSocket(i),this._ws.onopen=function(){l._logger.debug("websocket open"),l.dispatch("open")},this._ws.onmessage=function(c){return q(l,void 0,void 0,function(){var h,f,m=this;return z(this,function(v){return!((f=this._sdkState.websocket)===null||f===void 0)&&f.compression?c.data instanceof Blob?((h=new FileReader).readAsArrayBuffer(c.data),h.onloadend=function(){return q(m,void 0,void 0,function(){var b;return z(this,function(w){switch(w.label){case 0:return[4,(C=h.result,q(void 0,void 0,void 0,function(){var H;return z(this,function(F){return H=EK.ungzip(C),[2,String.fromCharCode.apply(null,H)]})}))];case 1:return b=w.sent(),this._handleMessage(b),[2]}var C})})}):typeof c.data=="string"&&this._handleMessage(c.data):this._handleMessage(c.data),[2]})})},this._ws.onerror=function(){l._logger.debug("websocket error"),l.dispatch("error",be.networkError)},this._ws.onclose=function(){l._logger.debug("websocket close"),l.dispatch("close")},this.lastActive=Date.now()},o.prototype.disconnect=function(){var i=this;return new Promise(function(l){i._logger.debug("websocket disconnect"),i._ws&&i.connectionState!==Fs.CLOSED?(i._ws.onopen=$n,i._ws.onmessage=$n,i._ws.onerror=$n,i._ws.onclose=function(){i.dispatch("close"),l()},i._ws.close(),i._ws=null):l()})},o.prototype.send=function(i){if(!this._ws)throw be.connectionClosed;i.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",i),this._ws.send(i.convertToMessage())},o.prototype.error=function(i){this._logger.debug("websocket error",i),this.dispatch("error",i)},o}(ip),cs=function(a){function o(i){var l,c=i.code,h=i.ackRequired,f=i.payload,m=f===void 0?null:f,v=this;return(v=a.call(this)||this).code=c,v.payload=m,v.requestId=(l=v.payload.req_id)!==null&&l!==void 0?l:sd(),v.ackRequired=h,v.payload.req_id=v.requestId,v}return K(o,a),o.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},o}(Sr),MN=function(a){function o(i){var l=i.all,c=i.custom_types,h=i.ts,f=a.call(this)||this;return f.all=l,f.customTypes=c,f.ts=h,f}return K(o,a),o}(Sr),Pi=function(){var a=this;this.promise=new Promise(function(o,i){a.resolve=o,a.reject=i})},xK=function(){function a(o,i){var l=i.auth,c=i.sdkState,h=i.dispatcher,f=i.logger,m=this;this._ackStateMap=new Map,this._sdkState=c,this._dispatcher=h,this._logger=f,this.apiClient=new yW(o,{auth:l,sdkState:c,dispatcher:h,logger:f}),this.websocketClient=new wK(o,{sdkState:c,dispatcher:h,logger:f}),this.websocketClient.on("message",function(v){if(v.payload.unread_cnt&&m._dispatcher.dispatch(new MN(v.payload.unread_cnt)),v.requestId){if(m._ackStateMap.has(v.requestId)){var b=m._ackStateMap.get(v.requestId);v.code!=="EROR"?b.resolve(v):b.reject(new be({code:v.payload.code,message:v.payload.message}))}}else m._dispatcher.dispatch(v)}).on("close",function(){m._ackStateMap.forEach(function(v){v.reject(be.connectionClosed)}),m._ackStateMap.clear()})}return a.prototype._sendApiRequest=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this.apiClient.send(o)];case 1:return[2,i.sent()]}})})},a.prototype._sendWebsocketRequest=function(o){return q(this,void 0,void 0,function(){var i,l,c,h=this;return z(this,function(f){if(i=new Pi,o.ackRequired){l=null,c=function(m,v){m===void 0&&(m=null),v===void 0&&(v=null),h._ackStateMap.has(o.requestId)&&(h._ackStateMap.delete(o.requestId),l&&(clearTimeout(l),l=null),m?(h._logger.debug("fail websocket request",m),i.reject(m)):(h._logger.debug("receive websocket ack",o.requestId),i.resolve(v)))};try{l=setTimeout(function(){return c(be.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(o.requestId,{resolve:function(m){return c(null,m)},reject:function(m){return c(m)}}),this.websocketClient.send(o)}catch(m){c(m)}}else try{this.websocketClient.send(o),i.resolve(null)}catch(m){i.reject(m)}return[2,i.promise]})})},a.prototype.send=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return o instanceof Je?[4,this._sendApiRequest(o)]:[3,2];case 1:case 3:return[2,i.sent()];case 2:return o instanceof cs?[4,this._sendWebsocketRequest(o)]:[3,4];case 4:throw be.invalidParameters}})})},a.prototype.cancel=function(o){this.apiClient.cancel(o)},a.prototype.cancelAll=function(){this.apiClient.cancelAll()},a}();(function(a){a[a.NONE=0]="NONE",a[a.INITIALIZED=1]="INITIALIZED",a[a.CONNECTING=2]="CONNECTING",a[a.CONNECTED=3]="CONNECTED",a[a.RECONNECTING=4]="RECONNECTING",a[a.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",a[a.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",a[a.LOGOUT=7]="LOGOUT"})(Et||(Et={}));var Nu=function(a){function o(i){var l=i.stateType,c=a.call(this)||this;return c.stateType=l,c}return K(o,a),o}(Sr),kK=function(){function a(o,i){var l=i.auth,c=i.sdkState,h=i.dispatcher,f=i.logger,m=this;this._currentConnectionStateType=Et.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new xK(o,{auth:l,sdkState:c,dispatcher:h,logger:f}),this._auth=l,this._logger=f,this._dispatcher=h,this._dispatcher.on(function(v){if(v instanceof Nu){var b=v.stateType;switch(m._currentConnectionStateType=b,b){case Et.CONNECTED:var w=m._lazyCallQueue;m._lazyCallQueue=[],w.forEach(function(C){return q(m,void 0,void 0,function(){var H,F,$,B,W;return z(this,function(ie){switch(ie.label){case 0:H=C.command,F=C.deferred,$=C.timeout,clearTimeout($),ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,this.send(H)];case 2:return B=ie.sent(),F.resolve(B),[3,4];case 3:return W=ie.sent(),F.reject(W),[3,4];case 4:return[2]}})})});break;case Et.INITIALIZED:case Et.INTERNAL_DISCONNECTED:case Et.EXTERNAL_DISCONNECTED:case Et.LOGOUT:w=m._lazyCallQueue,m._lazyCallQueue=[],w.forEach(function(C){return q(m,void 0,void 0,function(){var H,F;return z(this,function($){return H=C.deferred,F=C.timeout,clearTimeout(F),this._auth&&this._auth.hasSession?H.reject(be.connectionClosed):H.reject(be.connectionRequired),[2]})})})}}})}return Object.defineProperty(a.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Et.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Et.CONNECTING||this._currentConnectionStateType===Et.RECONNECTING},enumerable:!1,configurable:!0}),a.prototype.send=function(o){return q(this,void 0,void 0,function(){var i,l,c=this;return z(this,function(h){switch(h.label){case 0:return o instanceof cs?this.isReady?(this._logger.debug("send websocket request",o),[4,this.commandRouter.send(o)]):[3,2]:[3,4];case 1:case 5:return[2,h.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",o),i=new Pi,this._lazyCallQueue.push({command:o,deferred:i,timeout:setTimeout(function(){return c.timeout(o.requestId)},1e4)}),[2,i.promise];throw this._logger.debug("fail websocket request"),be.connectionRequired;case 3:return[3,7];case 4:return o instanceof Je?this._auth.hasSession?(this._logger.debug("send api request",o),[4,this.commandRouter.send(o)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",o),i=new Pi,this._lazyCallQueue.push({command:o,deferred:i,timeout:setTimeout(function(){return c.timeout(o.requestId)},1e4)}),[2,i.promise];throw l=be.connectionRequired,this._logger.debug("fail api request",l),l;case 7:return[2]}})})},a.prototype.forceSend=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return this._logger.debug("send forced request",o),[4,this.commandRouter.send(o)];case 1:return[2,i.sent()]}})})},a.prototype.timeout=function(o){this._logger.debug("timeout request",o);var i=this._lazyCallQueue.findIndex(function(l){return l.command.requestId===o});i>-1&&(this._lazyCallQueue[i].deferred.reject(be.connectionRequired),this._lazyCallQueue.splice(i,1))},a.prototype.cancel=function(o){this._logger.debug("cancel api request",o),this.commandRouter.cancel(o)},a.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},a}(),s1=function(){function a(o){var i=o.type,l=o.token;this.type=i,this.token=l}return a.payloadify=function(o){return{type:o.type,token:o.token}},a}(),dt="/".concat("v3","/users"),SK="/".concat("v3","/storage/file"),DN="/".concat("v3","/group_channels"),Ou="/".concat("v3","/open_channels"),CK="/".concat("v3","/sdk/open_channels"),TK="/".concat("v3","/search"),o1="/".concat("v3","/report"),IK="/".concat("v3","/emojis"),UN="/".concat("v3","/emoji_categories"),ds="/".concat("v3","/polls"),NK="/".concat("v3","/sdk/statistics"),OK=function(a){function o(i){var l=i.userId,c=i.authToken,h=i.expiringSession,f=h===void 0||h,m=a.call(this)||this;return m.path="".concat(dt,"/").concat(l,"/session_key"),m.method=Qe.POST,m.params={token:c,expiring_session:!!f},m.requireAuth=!1,m}return K(o,a),o}(Je),AK=function(a){function o(i){var l=i.authToken,c=i.expiringSession,h=c===void 0||c,f=i.requestId,m=f===void 0?null:f;return a.call(this,{code:"LOGI",payload:{token:l,expiring_session:h?1:0,req_id:m},ackRequired:!0})||this}return K(o,a),o}(cs),RK=function(a){function o(i,l){var c=a.call(this,i,l)||this,h=l.key;return c.key=h,c}return K(o,a),o}(rn),MK=function(a){function o(i,l,c){var h=a.call(this,i,"LOGI",c)||this;return h.error=null,h.newKey=c.new_key,h.error=c.error?new be(c.error):null,h}return K(o,a),o}(Xt),LN=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return K(o,a),o}(Sr),Hs=function(a){return q(void 0,void 0,void 0,function(){return z(this,function(o){return[2,new Promise(function(i){return setTimeout(i,a)})]})})},PN=function(){function a(){}return a.prototype.calcTimeout=function(){return 0},a}(),l1=function(a,o,i){return i===void 0&&(i=new PN),q(void 0,void 0,void 0,function(){var l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:l=0,c=null,h=function(w){return w===void 0&&(w=null),c=w!=null?w:new Error("Halted")},f=function(){l=0},b.label=1;case 1:if(!(o===-1||l<o))return[3,9];b.label=2;case 2:return b.trys.push([2,4,,8]),[4,a(h,f)];case 3:if(m=b.sent(),c)throw c;return[2,m];case 4:if(v=b.sent(),c)return[3,6];if(++l===o)throw v;return[4,Hs(i.calcTimeout(l))];case 5:return b.sent(),[3,7];case 6:throw c;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},Zn=function(a){return q(void 0,void 0,void 0,function(){var o;return z(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a()];case 1:return i.sent(),[3,3];case 2:if(!((o=i.sent())instanceof be))throw o;return o.throwOutside(),[3,3];case 3:return[2]}})})},cd=function(a){return q(void 0,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,a()];case 1:case 2:return o.sent(),[3,3];case 3:return[2]}})})},u1=new WeakMap,DK=function(a){function o(i){var l=i.auth,c=i.cacheContext,h=i.sdkState,f=i.dispatcher,m=i.requestQueue,v=i.logger,b=a.call(this)||this;return b._currentConnectionStateType=Et.INITIALIZED,b._deviceTokenCacheEnabled=!1,b._isRefreshingAuthToken=!1,b._isRefreshingSessionKey=!1,b.auth=l,b._cacheContext=c,b._sdkState=h,b._dispatcher=f,b._requestQueue=m,b._logger=v,b._deviceTokens=[],b._dispatcher.on(function(w){if(w instanceof Nu){var C=w.stateType;b._currentConnectionStateType=C}else w instanceof fg&&b.handler&&(b._logger.debug("session expired"),b.handler.onSessionExpired(),b.refresh())}),b}return K(o,a),Object.defineProperty(o.prototype,"ekey",{get:function(){return u1.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),o.prototype.indexOfDeviceToken=function(i,l){return this._deviceTokens.findIndex(function(c){return c.type===i&&c.token===l})},o.prototype.hasDeviceToken=function(i,l){return!1},o.prototype.createRefreshWebsocketCommand=function(i,l){return l===void 0&&(l=null),new AK({authToken:i,expiringSession:!0,requestId:l})},o.prototype._refreshSessionKeyByWebSocket=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return l=this.createRefreshWebsocketCommand(i),[4,this._requestQueue.forceSend(l)];case 1:if(c=v.sent(),h=c.as(MK),f=h.newKey,m=h.error)throw m;return this.auth.sessionKey=f!=null?f:this.auth.sessionKey,[2]}})})},o.prototype._refreshSessionKeyByApi=function(i){return q(this,void 0,void 0,function(){var l,c=this;return z(this,function(h){switch(h.label){case 0:return l=new OK({userId:this._sdkState.userId,authToken:i,expiringSession:!0}),[4,l1(function(f){return q(c,void 0,void 0,function(){var m,v,b;return z(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(l)];case 1:return m=w.sent(),v=m.as(RK).key,this.auth.sessionKey=v,[3,3];case 2:if(b=w.sent(),!this._isSessionRelatedError(b))throw b;return f(b),[3,3];case 3:return[2]}})})},3)];case 1:return h.sent(),[2]}})})},o.prototype._refreshSessionKey=function(i,l){return l===void 0&&(l=!0),q(this,void 0,void 0,function(){var c,h,f,m;return z(this,function(v){switch(v.label){case 0:if(this._currentConnectionStateType!==Et.CONNECTED)return[3,10];v.label=1;case 1:return v.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(i)];case 2:return v.sent(),this.complete(),[2];case 3:return c=v.sent(),this._isSessionRelatedError(c)&&l?(h=this.auth,[4,this._receiveNewAuthToken()]):[3,9];case 4:return h.authToken=v.sent(),this.auth.authToken?[4,this._refreshSessionKey(this.auth.authToken,!1)]:[3,6];case 5:return v.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:v.sent(),this.close(),v.label=8;case 8:return[2];case 9:return[3,10];case 10:return v.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(i)];case 11:return v.sent(),this.complete(),[3,22];case 12:return f=v.sent(),this._isSessionRelatedError(f)?l?(m=this.auth,[4,this._receiveNewAuthToken()]):[3,18]:[3,20];case 13:return m.authToken=v.sent(),this.auth.authToken?[4,this._refreshSessionKeyByApi(this.auth.authToken)]:[3,15];case 14:return v.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:v.sent(),this.close(),v.label=17;case 17:return[3,19];case 18:throw f;case 19:return[3,21];case 20:throw f;case 21:return[3,22];case 22:return[2]}})})},o.prototype._receiveNewAuthToken=function(){var i=this,l=new Pi;return Zn(function(){return q(i,void 0,void 0,function(){var c,h,f=this;return z(this,function(m){return this._isRefreshingAuthToken=!0,this.auth.clear(),c=null,h=function(){c&&(clearTimeout(c),c=null)},c=setTimeout(function(){f._isRefreshingAuthToken=!1,l.reject()},1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired(function(v){h(),f._isRefreshingAuthToken&&(f._isRefreshingAuthToken=!1,f.dispatch("refresh-authtoken"),l.resolve(v))},function(v){h(),f._isRefreshingAuthToken=!1,l.reject(v)}),[2]})})}),l.promise},o.prototype._isSessionRelatedError=function(i){return i instanceof be&&(i.isSessionKeyExpiredError||i.isSessionTokenExpiredError)},Object.defineProperty(o.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),o.prototype.login=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return this.auth.sessionKey=i.key,u1.set(this,i.ekey),l=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,l.get("sendbird@devicetokens")]:[3,4];case 1:return!(c=h.sent())||c.lastDeletedAt<i.deviceTokenLastDeletedAt?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=i.deviceTokenLastDeletedAt,[4,this.saveDeviceToken()]):[3,3];case 2:return h.sent(),[3,4];case 3:this._deviceTokens=c.tokens.map(function(f){return new s1(s1.payloadify(f))}),this._deviceTokenLastDeletedAt=c.lastDeletedAt,h.label=4;case 4:return[2]}})})},o.prototype.complete=function(){var i=this;this.dispatch("refresh"),Zn(function(){return q(i,void 0,void 0,function(){return z(this,function(l){return this._logger.debug("session refreshed"),this.handler.onSessionRefreshed(),[2]})})})},o.prototype.error=function(i){var l=this;Zn(function(){return q(l,void 0,void 0,function(){return z(this,function(c){return this.handler.onSessionError(i),[2]})})})},o.prototype.close=function(){var i=this;this.dispatch("close"),Zn(function(){return q(i,void 0,void 0,function(){return z(this,function(l){return this._logger.debug("session closed"),this.handler.onSessionClosed(),[2]})})})},o.prototype.refresh=function(){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];c.label=1;case 1:return c.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(i=c.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=i,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return c.sent(),this.close(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw c.sent(),l=be.sessionTokenRequestFailed,this._dispatcher.dispatch(new LN),this.error(l),this._isRefreshingSessionKey=!1,l;case 7:return c.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return c.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw c.sent(),l=be.sessionTokenRefreshFailed,this._dispatcher.dispatch(new LN),this.error(l),this._isRefreshingSessionKey=!1,l;case 10:return[2]}})})},o.prototype.setDeviceToken=function(i,l){return this.indexOfDeviceToken(i,l)<0&&(this._deviceTokens.push(new s1({type:i,token:l})),!0)},o.prototype.unsetDeviceToken=function(i,l){var c=this.indexOfDeviceToken(i,l);c>=0&&this._deviceTokens.splice(c,1)},o.prototype.unsetDeviceTokens=function(i){this._deviceTokens=this._deviceTokens.filter(function(l){return l.type!==i})},o.prototype.setDeviceTokenDeletedAt=function(i){i>0&&(this._deviceTokenLastDeletedAt=i)},o.prototype.saveDeviceToken=function(){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set("sendbird@devicetokens",{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},o.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return this.currentUser=null,this.auth.clear(),u1.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return i.sent(),[2]}})})},o}(ip),Au=function(){function a(){this.type=Et.NONE,this.name="none"}return a.prototype.run=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){return[2]})})},a.prototype.onConnect=function(o,i){return q(this,void 0,void 0,function(){return z(this,function(l){return[2]})})},a.prototype.onReconnect=function(o,i){return i.resetReconnectCount,q(this,void 0,void 0,function(){return z(this,function(l){return[2]})})},a.prototype.onDisconnect=function(o,i){return i.error,i.autoReconnect,q(this,void 0,void 0,function(){return z(this,function(l){return[2]})})},a.prototype.onDisconnectWebSocket=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){return[2]})})},a.prototype.onLogout=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){return[2]})})},a}(),Ru=function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i.type=Et.LOGOUT,i.name="logout",i}return K(o,a),o.prototype.run=function(i){return q(this,void 0,void 0,function(){var l,c,h=this;return z(this,function(f){switch(f.label){case 0:return l=Date.now(),c=i.sdkState.userId,[4,i.logout()];case 1:return f.sent(),[4,i.changeState(new c1,l)];case 2:return f.sent(),Zn(function(){return q(h,void 0,void 0,function(){return z(this,function(m){return i.connectionHandlers.forEach(function(v){v.onDisconnected(c)}),[2]})})}),[2]}})})},o}(Au),Eg=function(a){function o(){var i=a.call(this)||this;return i.type=Et.EXTERNAL_DISCONNECTED,i.name="externaldisconnected",i}return K(o,a),o.prototype.run=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){switch(l.label){case 0:return[4,i.disconnect()];case 1:return l.sent(),[2]}})})},o.prototype.onConnect=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=Date.now(),[4,i.disconnect()];case 1:return h.sent(),[4,i.changeState(new kg({authToken:l}),c)];case 2:return h.sent(),[2]}})})},o.prototype.onReconnect=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,i.changeState(new xg,l)];case 1:return c.sent(),[2]}})})},o.prototype.onLogout=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,i.changeState(new Ru,l)];case 1:return c.sent(),[2]}})})},o}(Au),wg=function(a){function o(i){var l=i.autoReconnect,c=a.call(this)||this;return c.type=Et.INTERNAL_DISCONNECTED,c.name="internaldisconnected",c._autoReconnect=!1,c._autoReconnect=l,c}return K(o,a),o.prototype.run=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,i.disconnect()];case 1:return c.sent(),this._autoReconnect?[4,i.changeState(new xg,l)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[2]}})})},o.prototype.onConnect=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=Date.now(),[4,i.disconnect()];case 1:return h.sent(),[4,i.changeState(new kg({authToken:l}),c)];case 2:return h.sent(),[2]}})})},o.prototype.onReconnect=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,i.changeState(new xg,l)];case 1:return c.sent(),[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,i.changeState(new Eg,l)];case 1:return c.sent(),[2]}})})},o.prototype.onLogout=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,i.changeState(new Ru,l)];case 1:return c.sent(),[2]}})})},o}(Au),xg=function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i.type=Et.RECONNECTING,i.name="reconnecting",i._haltConnect=null,i._resetConnect=null,i._callbacks=[],i}return K(o,a),o.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=null)},o.prototype._flushCallbacks=function(i){i===void 0&&(i=null),this._haltConnect=null,this._resetConnect=null,this._callbacks.forEach(function(l){return l(i)})},o.prototype.run=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v,b=this;return z(this,function(w){switch(w.label){case 0:l=Date.now(),c=new Pi,this._callbacks.push(function(C){return C?c.reject(C):c.resolve()}),Zn(function(){return q(b,void 0,void 0,function(){return z(this,function(C){return i.connectionHandlers.forEach(function(H){H.onReconnectStarted()}),[2]})})}),w.label=1;case 1:return w.trys.push([1,4,,9]),h=i.sdkState.websocket,f=h.reconnectMaxRetry,m=h.reconnectRetryStrategy,[4,l1(function(C,H){return q(b,void 0,void 0,function(){var F;return z(this,function($){switch($.label){case 0:this._haltConnect=C,this._resetConnect=H,$.label=1;case 1:return $.trys.push([1,3,,4]),[4,i.connect()];case 2:return $.sent(),[3,4];case 3:if(F=$.sent(),i.clearLoginTimer(),F instanceof be&&F.code===Gn.CONNECTION_CANCELED)return C(F),[2];throw F;case 4:return[2]}})})},f,m)];case 2:return w.sent(),[4,i.changeState(new FN,l)];case 3:return w.sent(),Zn(function(){return q(b,void 0,void 0,function(){return z(this,function(C){return this._flushCallbacks(null),i.connectionHandlers.forEach(function(H){H.onReconnectSucceeded()}),[2]})})}),[3,9];case 4:return v=w.sent(),xu(v)?[3,7]:v instanceof be?v.code===Gn.CONNECTION_CANCELED?[3,6]:[4,i.changeState(new wg({autoReconnect:!1}),l)]:[3,6];case 5:w.sent(),w.label=6;case 6:return Zn(function(){return q(b,void 0,void 0,function(){return z(this,function(C){return this._flushCallbacks(v),i.connectionHandlers.forEach(function(H){H.onReconnectFailed()}),[2]})})}),[3,8];case 7:throw v;case 8:return[3,9];case 9:return[2,c.promise]}})})},o.prototype.onConnect=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){return c=new Pi,this._halt(be.connectionCanceled),i.cancelConnectForRetry(),this._callbacks.push(function(){var f=Date.now();i.changeState(new kg({authToken:l}),f).then(function(){c.resolve()}).catch(function(m){c.reject(m)})}),[2,c.promise]})})},o.prototype.onReconnect=function(i,l){var c=l.resetReconnectCount,h=c!==void 0&&c;return q(this,void 0,void 0,function(){var f;return z(this,function(m){return f=new Pi,this._resetConnect&&h&&this._resetConnect(),this._callbacks.push(function(v){return v?f.reject(v):f.resolve()}),[2,f.promise]})})},o.prototype.onDisconnect=function(i,l){l.error;var c=l.autoReconnect,h=c===void 0||c;return q(this,void 0,void 0,function(){var f;return z(this,function(m){switch(m.label){case 0:return f=Date.now(),this._halt(be.connectionCanceled),[4,i.changeState(new wg({autoReconnect:h}),f)];case 1:return m.sent(),[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),this._halt(be.connectionCanceled),[4,i.changeState(new Eg,l)];case 1:return c.sent(),[2]}})})},o.prototype.onLogout=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),this._halt(be.connectionCanceled),[4,i.changeState(new Ru,l)];case 1:return c.sent(),[2]}})})},o}(Au),FN=function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i.type=Et.CONNECTED,i.name="connected",i}return K(o,a),o.prototype.onReconnect=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,i.disconnect()];case 1:return c.sent(),[4,i.changeState(new xg,l)];case 2:return c.sent(),[2]}})})},o.prototype.onDisconnect=function(i,l){var c=l.autoReconnect;return q(this,void 0,void 0,function(){var h;return z(this,function(f){switch(f.label){case 0:return h=Date.now(),[4,i.changeState(new wg({autoReconnect:c}),h)];case 1:return f.sent(),[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,i.changeState(new Eg,l)];case 1:return c.sent(),[2]}})})},o.prototype.onLogout=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),[4,i.changeState(new Ru,l)];case 1:return c.sent(),[2]}})})},o}(Au),kg=function(a){function o(i){var l=i.authToken,c=a.call(this)||this;return c.type=Et.CONNECTING,c.name="connecting",c._authToken="",c._haltConnect=null,c._callbacks=[],c._authToken=l,c}return K(o,a),o.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=null)},o.prototype._flushCallbacks=function(i){i===void 0&&(i=null),this._haltConnect=null,this._callbacks.forEach(function(l){return l(i)})},o.prototype.run=function(i){return q(this,void 0,void 0,function(){var l,c,h,f=this;return z(this,function(m){switch(m.label){case 0:l=Date.now(),c=new Pi,this._callbacks.push(function(v){return v?c.reject(v):c.resolve()}),m.label=1;case 1:return m.trys.push([1,4,,10]),[4,l1(function(v){return q(f,void 0,void 0,function(){var b;return z(this,function(w){switch(w.label){case 0:this._haltConnect=v,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,i.connect(this._authToken)];case 2:return w.sent(),[3,4];case 3:if(b=w.sent(),i.clearLoginTimer(),b instanceof be&&b.code===Gn.CONNECTION_CANCELED)return v(b),[2];throw b;case 4:return[2]}})})},i.sdkState.websocket.connectMaxRetry)];case 2:return m.sent(),[4,i.changeState(new FN,l)];case 3:return m.sent(),Zn(function(){return q(f,void 0,void 0,function(){return z(this,function(v){return this._flushCallbacks(null),i.connectionHandlers.forEach(function(b){b.onConnected(i.sdkState.userId)}),[2]})})}),[3,10];case 4:return h=m.sent(),xu(h)?[3,8]:[4,i.disconnect()];case 5:return m.sent(),h instanceof be?h.code===Gn.CONNECTION_CANCELED?[3,7]:[4,i.changeState(new c1,l)]:[3,7];case 6:m.sent(),m.label=7;case 7:return Zn(function(){return q(f,void 0,void 0,function(){return z(this,function(v){return this._flushCallbacks(h),[2]})})}),[3,9];case 8:throw h;case 9:return[3,10];case 10:return[2,c.promise]}})})},o.prototype.onConnect=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){return l=new Pi,this._callbacks.push(function(h){return h?l.reject(h):l.resolve()}),[2,l.promise]})})},o.prototype.onDisconnect=function(i,l){var c=l.error,h=c===void 0?null:c,f=l.autoReconnect;return q(this,void 0,void 0,function(){var m;return z(this,function(v){switch(v.label){case 0:return m=Date.now(),this._halt(h!=null?h:be.connectionCanceled),i.hasSession?[4,i.changeState(new wg({autoReconnect:f}),m)]:[3,2];case 1:return v.sent(),[3,4];case 2:return[4,i.changeState(new Ru,m)];case 3:v.sent(),v.label=4;case 4:return[2]}})})},o.prototype.onDisconnectWebSocket=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),this._halt(be.connectionCanceled),i.hasSession?[4,i.changeState(new Eg,l)]:[3,2];case 1:return c.sent(),[3,4];case 2:return[4,i.changeState(new Ru,l)];case 3:c.sent(),c.label=4;case 4:return[2]}})})},o.prototype.onLogout=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=Date.now(),this._halt(be.connectionCanceled),[4,i.changeState(new Ru,l)];case 1:return c.sent(),[2]}})})},o}(Au),c1=function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i.type=Et.INITIALIZED,i.name="initialized",i}return K(o,a),o.prototype.onConnect=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=Date.now(),[4,i.changeState(new kg({authToken:l}),c)];case 1:return h.sent(),[2]}})})},o}(Au),UK=function(a){function o(){return a.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return K(o,a),o}(cs),LK=function(){function a(o){var i=o.pingDelegate,l=o.sdkState,c=o.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=i,this.sdkState=l,this._logger=c}return Object.defineProperty(a.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),a.prototype.ping=function(){var o,i=this,l=new UK;try{var c=(o=this.sdkState.websocket.pongTimeout)!==null&&o!==void 0?o:5e3;this._pingTimeoutTimer=setTimeout(function(){i._logger.debug("pinger.ping() timeout"),i.pingDelegate.error(null)},c),this.pingDelegate.send(l),this._logger.debug("pinger.ping()")}catch(h){this._logger.debug("pinger.ping() error",h),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return l},a.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},a.prototype.refreshTimer=function(){var o,i=this;this._logger.debug("pinger.refreshTimer()");var l=(o=this.sdkState.websocket.pingInterval)!==null&&o!==void 0?o:15e3;this.stop(),this._pingTimer=setInterval(function(){i.ping()},l)},a.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},a.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},a}(),HN=function(){function a(o){o===void 0&&(o={}),this.emojiHash=o.emoji_hash||"",this.uploadSizeLimit=o.file_upload_size_limit?1048576*o.file_upload_size_limit:Number.MAX_SAFE_INTEGER,this.useReaction=!!o.use_reaction,this.applicationAttributes=o.application_attributes||[],this.premiumFeatureList=o.premium_feature_list||[],this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history")}return a.payloadify=function(o){return{emoji_hash:o.emojiHash,file_upload_size_limit:o.uploadSizeLimit/1048576,application_attributes:o.applicationAttributes,premium_feature_list:o.premiumFeatureList,use_reaction:o.useReaction}},a}(),zs=function(){function a(o){this._iid="",this._iid=o}return a.payloadify=function(o){return o?{}:null},a}(),PK=function(a){function o(i){var l=i.userId,c=i.metadata,h=a.call(this)||this;return h.method=Qe.POST,h.path="".concat(dt,"/").concat(l,"/metadata"),h.params={metadata:c},h}return K(o,a),o}(Je),FK=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.metaData=l,c}return K(o,a),o}(rn),HK=function(a){function o(i){var l=i.userId,c=i.metadata,h=i.upsert,f=a.call(this)||this;return f.method=Qe.PUT,f.path="".concat(dt,"/").concat(l,"/metadata"),f.params={metadata:c,upsert:h},f}return K(o,a),o}(Je),zK=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.metadata=l,c}return K(o,a),o}(rn),qK=function(a){function o(i){var l=i.userId,c=i.metadataKey,h=a.call(this)||this;return h.method=Qe.DELETE,h.path="".concat(dt,"/").concat(l,"/metadata/").concat(c),h}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var BK=function(a){function o(i){var l=i.userId,c=a.call(this)||this;return c.method=Qe.DELETE,c.path="".concat(dt,"/").concat(l,"/metadata"),c}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var dd,Sg=function(a,o){o===void 0&&(o=null);var i=JSON.parse(JSON.stringify(a));return i._iid&&delete i._iid,o&&o(i),i},yp=function(a,o){o===void 0&&(o=null);var i=JSON.parse(JSON.stringify(a));return o&&o(i),i},an=function(a){return{do:function(o){a||o()},throw:function(o){if(!a)throw o}}};(function(a){a.ONLINE="online",a.OFFLINE="offline",a.NON_AVAILABLE="nonavailable"})(dd||(dd={}));var Mu,Vn=function(a){function o(i,l){var c,h,f,m,v,b,w,C,H,F,$,B,W=this;return(W=a.call(this,i)||this).userId=(h=(c=l.guest_id)!==null&&c!==void 0?c:l.user_id)!==null&&h!==void 0?h:"",W.nickname=(m=(f=l.nickname)!==null&&f!==void 0?f:l.name)!==null&&m!==void 0?m:"",W.plainProfileUrl=(b=(v=l.profile_url)!==null&&v!==void 0?v:l.image)!==null&&b!==void 0?b:"",W.requireAuth=(w=l.require_auth_for_profile_image)!==null&&w!==void 0&&w,W.metaData=(C=l.metadata)!==null&&C!==void 0?C:{},W.connectionStatus=dd.NON_AVAILABLE,Dt(dd,l.is_online)?W.connectionStatus=l.is_online:fe("boolean",l.is_online)&&(W.connectionStatus=l.is_online?dd.ONLINE:dd.OFFLINE),W.isActive=(H=l.is_active)===null||H===void 0||H,W.lastSeenAt=(F=l.last_seen_at)!==null&&F!==void 0?F:null,W.preferredLanguages=l.preferred_languages?Wt([],Mt(l.preferred_languages),!1):null,W.friendDiscoveryKey=($=l.friend_discovery_key)!==null&&$!==void 0?$:null,W.friendName=(B=l.friend_name)!==null&&B!==void 0?B:null,W}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),{user_id:i.userId,nickname:i.nickname,profile_url:i.plainProfileUrl,require_auth_for_profile_image:i.requireAuth,metadata:i.metaData,is_online:i.connectionStatus,is_active:i.isActive,last_seen_at:i.lastSeenAt,preferred_languages:i.preferredLanguages,friend_discovery_key:i.friendDiscoveryKey,friend_name:i.friendName})):null},Object.defineProperty(o.prototype,"profileUrl",{get:function(){var i=Ce.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(i.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),o.prototype.serialize=function(){return Sg(this)},o.prototype._isValidMetaData=function(i){return!Array.isArray(i)&&Object.keys(i).length>0&&Object.keys(i).map(function(l){return i[l]}).every(function(l){return fe("string",l)})},o.prototype._applyMetaData=function(i,l){var c=this;l===void 0&&(l=!1),Object.keys(i).forEach(function(h){l?delete c.metaData[h]:c.metaData[h]=i[h]})},o.prototype.createMetaData=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:return an(this._isValidMetaData(i)).throw(be.invalidParameters),l=Ce.of(this._iid),c=l.sdkState,h=l.requestQueue,f=new PK({userId:c.userId,metadata:i}),[4,h.send(f)];case 1:return m=b.sent(),v=m.as(FK).metaData,this._applyMetaData(v),[2,this.metaData]}})})},o.prototype.updateMetaData=function(i,l){return l===void 0&&(l=!1),q(this,void 0,void 0,function(){var c,h,f,m,v,b;return z(this,function(w){switch(w.label){case 0:return an(this._isValidMetaData(i)).throw(be.invalidParameters),c=Ce.of(this._iid),h=c.sdkState,f=c.requestQueue,m=new HK({userId:h.userId,metadata:i,upsert:l}),[4,f.send(m)];case 1:return v=w.sent(),b=v.as(zK).metadata,this._applyMetaData(b),[2,this.metaData]}})})},o.prototype.deleteMetaData=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return an(fe("string",i)).throw(be.invalidParameters),l=Ce.of(this._iid),c=l.sdkState,h=l.requestQueue,f=new qK({userId:c.userId,metadataKey:i}),[4,h.send(f)];case 1:return v.sent(),this._applyMetaData(((m={})[i]=!0,m),!0),[2,this.metaData]}})})},o.prototype.deleteAllMetaData=function(){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new BK({userId:l.userId}),[4,c.send(h)];case 1:return f.sent(),this.metaData={},[2]}})})},o}(zs),zN=function(a){function o(i){var l=i.userProfile,c=a.call(this)||this;return c.userProfile=l,c}return K(o,a),o}(Sr),d1=function(){function a(o,i){var l,c,h,f,m,v,b,w,C,H,F,$,B,W;this._iid=o,this.appInfo=new HN(i),this.user=new Vn(o,i),this.connectedAt=(l=i.login_ts)!==null&&l!==void 0?l:0,this.firstConnectedAt=0,this.pingInterval=(c=i.ping_interval)!==null&&c!==void 0?c:15e3,this.pongTimeout=(h=i.pong_timeout)!==null&&h!==void 0?h:5e3,this.reconnectInterval=(m=(f=i.reconnect)===null||f===void 0?void 0:f.interval)!==null&&m!==void 0?m:3e3,this.reconnectMaxInterval=(b=(v=i.reconnect)===null||v===void 0?void 0:v.max_interval)!==null&&b!==void 0?b:6e4,this.reconnectRetryCount=(C=(w=i.reconnect)===null||w===void 0?void 0:w.retry_cnt)!==null&&C!==void 0?C:5,this.reconnectIntervalMultiple=(F=(H=i.reconnect)===null||H===void 0?void 0:H.mul)!==null&&F!==void 0?F:2,this.maxUnreadCountOnSuperGroup=($=i.max_unread_cnt_on_super_group)!==null&&$!==void 0?$:100,this.profileImageEncryption=!!i.profile_image_encryption,this.concurrentCallLimit=(B=i.concurrent_call_limit)!==null&&B!==void 0?B:5,this.backOffDelay=(W=i.back_off_delay)!==null&&W!==void 0?W:100}return a.payloadify=function(o){return he(he(he({},Vn.payloadify(o.user)),HN.payloadify(o.appInfo)),{login_ts:o.connectedAt,ping_interval:o.pingInterval,pong_timeout:o.pongTimeout,reconnect:{interval:o.reconnectInterval,max_interval:o.reconnectMaxInterval,retry_cnt:o.reconnectRetryCount,mul:o.reconnectIntervalMultiple},max_unread_cnt_on_super_group:o.maxUnreadCountOnSuperGroup,profile_image_encryption:o.profileImageEncryption,concurrent_call_limit:o.concurrentCallLimit,back_off_delay:o.backOffDelay})},a.prototype.apply=function(){var o=this.reconnectInterval,i=this.reconnectMaxInterval,l=this.reconnectIntervalMultiple,c=Ce.of(this._iid);c.sdkState.websocket.pingInterval=1e3*this.pingInterval,c.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,c.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,c.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(h){return h>0?1e3*Math.min(o*Math.pow(l,h-1),i):10}},c.appInfo=this.appInfo,c.sessionManager.currentUser=this.user,c.connectedAt=this.connectedAt,this.firstConnectedAt||(c.firstConnectedAt=this.connectedAt),c.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,c.concurrentCallLimit=this.concurrentCallLimit,c.backOffDelay=this.backOffDelay,c.dispatcher.dispatch(new zN({userProfile:this}))},a}(),Cg=function(a){function o(i,l,c){var h,f=this;return(f=a.call(this,i,l,c)||this).error=null,f.userProfile=new d1(i,c),f.deviceTokenLastDeletedAt=c.device_token_last_deleted_at,f.key=c.key,f.ekey=(h=c.ekey)!==null&&h!==void 0?h:"",f.error=c.error?new be(c):null,f}return K(o,a),o.asError=function(i){return new o(null,"LOGI",he({user_id:null,error:!0},i))},o.prototype.applyTo=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return this.error?[3,4]:(l=Ce.of(i))?[4,l.sessionManager.login(this)]:[3,2];case 1:return c.sent(),this.userProfile.apply(),[3,3];case 2:throw be.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}})})},o}(Xt),qN=function(a){function o(i){var l=a.call(this)||this;return l.enabled=i,l}return K(o,a),o}(Sr),jK=function(a){function o(i,l){var c=l.sdkState,h=l.cacheContext,f=l.connectionHandlers,m=l.sessionManager,v=l.websocketClient,b=l.dispatcher,w=l.logger,C=l.entryState,H=C===void 0?new c1:C,F=a.call(this)||this;return F._currentState=null,F._loginTimer=null,F._unresolvedLogi=null,F._stateUpdatedAt=0,F._connectingAt=0,F._connectionRequestQueue=[],F._iid=i,F.sdkState=c,F.cacheContext=h,F.connectionHandlers=f,F._sessionManager=m,F._websocketClient=v,F._dispatcher=b,F._logger=w,F._currentState=H,F.sdkState.websocket.pingerDisabled||(F._pinger=new LK({pingDelegate:{send:function($){return F._websocketClient.send($)},error:function($){return F._websocketClient.error($)}},sdkState:F.sdkState,logger:w})),F._websocketClient.on("open",function(){F._tryResolveConnectionRequest()}).on("message",function($){$.code==="LOGI"&&(F.clearLoginTimer(),F._dispatcher.dispatch($.as(Cg)))}).on("ping-refresh",function(){var $;return($=F._pinger)===null||$===void 0?void 0:$.refreshTimer()}).on("pong",function(){var $;return($=F._pinger)===null||$===void 0?void 0:$.pong()}).on("error",function(){var $;return($=F._pinger)===null||$===void 0?void 0:$.stop()}).on("close",function(){return F._rejectConnectionRequest(be.networkError)}),F._dispatcher.on(function($){$ instanceof Cg&&(F._unresolvedLogi=$,F._tryResolveConnectionRequest())}),F}return K(o,a),Object.defineProperty(o.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),o.prototype.changeState=function(i,l){return q(this,void 0,void 0,function(){return z(this,function(c){switch(c.label){case 0:return l>=this._stateUpdatedAt?(this._currentState=i,this._stateUpdatedAt=l,this._dispatcher.dispatch(new Nu({stateType:i.type})),this._logger.debug("connection state changes to ".concat(i.name)),[4,this._currentState.run(this)]):[3,2];case 1:return c.sent(),[2,!0];case 2:return[2,!1]}})})},o.prototype._tryResolveConnectionRequest=function(){var i;return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return l=this._unresolvedLogi,this._websocketClient.isOpen&&l?(this._unresolvedLogi=null,l.error?[3,2]:[4,l.applyTo(this._iid)]):[3,3];case 1:return h.sent(),c=l.userProfile,this._enableStatLog(c.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),this._statLogConnection(null),(i=this._pinger)===null||i===void 0||i.start(),this._connectionRequestQueue.forEach(function(f){return f.resolve()}),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=null,(l.error.isSessionKeyExpiredError||l.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new fg),this._rejectConnectionRequest(l.error),h.label=3;case 3:return[2]}})})},o.prototype._rejectConnectionRequest=function(i){var l;(l=this._pinger)===null||l===void 0||l.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0&&(this._connectionRequestQueue.forEach(function(c){return c.reject(i)}),this._connectionRequestQueue=[],this._statLogConnection(i))},o.prototype._url=function(i){var l;i===void 0&&(i="");var c=this.sdkState,h=c.appId,f=c.appVersion,m=c.userId,v=c.extensions,b=this.cacheContext.localCacheEnabled,w=this._sessionManager.auth,C=(l=this.sdkState.websocket)===null||l===void 0?void 0:l.compression,H=v.sb_syncmanager?"s".concat(v.sb_syncmanager):"",F=v.sb_uikit?"u".concat(v.sb_uikit):"",$="JS/c".concat(wu.SDK_VERSION,"/").concat(H,"/").concat(F);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(wu.OS_VERSION),"&sv=").concat(encodeURIComponent(wu.SDK_VERSION),"&ai=").concat(h).concat(f?"&av=".concat(f):"").concat(w.hasSession?"&key=".concat(encodeURIComponent(w.sessionKey)):"&user_id=".concat(encodeURIComponent(m),"&access_token=").concat(encodeURIComponent(i)),"&pmce=").concat(C?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat($,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(b?1:0,"&include_poll_details=1")},o.prototype._enableStatLog=function(i){this._dispatcher.dispatch(new qN(i))},o.prototype._statLogConnection=function(i){this._dispatcher.dispatch(new By(new ap({type:pg.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!i,latency:Date.now()-this._connectingAt,error_code:i==null?void 0:i.code,error_description:i==null?void 0:i.message}})))},o.prototype.connect=function(i){return i===void 0&&(i=""),q(this,void 0,void 0,function(){var l,c,h=this;return z(this,function(f){return l=this._url(i),c=new Pi,this._connectionRequestQueue.push(c),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){h._loginTimer=null,h._dispatcher.dispatch(Cg.asError(be.loginTimeout))},this.sdkState.websocket.responseTimeout),this._sessionManager.auth.authToken=i,this._websocketClient.connect(l)),[2,c.promise]})})},o.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(Cg.asError(be.connectionRenew))},o.prototype.disconnect=function(){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return i.sent(),[2]}})})},o.prototype.logout=function(){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return this.sdkState.userId=null,this._unresolvedLogi=null,[4,this._sessionManager.clear()];case 1:return i.sent(),[4,this.disconnect()];case 2:return i.sent(),[2]}})})},o.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=null)},o}(ip),GK=function(){function a(o,i){var l=i.sdkState,c=i.cacheContext,h=i.connectionHandlers,f=i.sessionManager,m=i.websocketClient,v=i.dispatcher,b=i.logger,w=i.disableWebSocketCloseEventHandling,C=w!==void 0&&w;this._context=null,this._disableWebSocketCloseEventHandling=!1,this._logger=b,this._disableWebSocketCloseEventHandling=C,this._context=new jK(o,{sdkState:l,cacheContext:c,connectionHandlers:h,sessionManager:f,websocketClient:m,dispatcher:v,logger:b}),this._sdkState=l,this._sessionManager=f,this._websocketClient=m}return a.prototype._registerEventDispatcher=function(){var o=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",function(){o.isConnected||(o._logger.debug("try reconnect by session token refresh"),o.reconnect())}).on("refresh",function(){o.isConnecting||o.isConnected||(o._logger.debug("try reconnect by session key refresh"),o.reconnect())}),this._websocketEventDispatcherContext=this._websocketClient.on("close",function(){o._sdkState.appState==="foreground"&&(o._sessionManager.isRefreshingAuthToken||(o._logger.debug("try reconnect by websocket connection closed"),o.reconnect()))}))},a.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=null),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=null)},Object.defineProperty(a.prototype,"isConnected",{get:function(){return this._context.currentState.type===Et.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isConnecting",{get:function(){var o=this._context.currentState;return o.type===Et.CONNECTING||o.type===Et.RECONNECTING},enumerable:!1,configurable:!0}),a.prototype.connect=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this._context.currentState.onConnect(this._context,o)];case 1:return i.sent(),this._registerEventDispatcher(),[2]}})})},a.prototype.reconnect=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return o.sent(),[2]}})})},a.prototype.resetAndReconnect=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return o.sent(),[2]}})})},a.prototype.background=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return o.sent(),[2]}})})},a.prototype.disconnect=function(o){return o===void 0&&(o=null),q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:o,autoReconnect:!0})];case 1:return i.sent(),[2]}})})},a.prototype.disconnectWebSocket=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,this._context.currentState.onDisconnectWebSocket(this._context)];case 1:return o.sent(),[2]}})})},a.prototype.logout=function(){return q(this,void 0,void 0,function(){var o;return z(this,function(i){switch(i.label){case 0:return o=this._context.currentState,this._clearEventDispatcher(),[4,o.onLogout(this._context)];case 1:return i.sent(),[2]}})})},a}(),$K=function(a){function o(i){var l=i.deviceId,c=i.statLogs,h=a.call(this)||this;return h.method=Qe.POST,h.path="".concat(NK),h.params={device_id:l,log_entries:c.map(function(f){return ap.payloadify(f)})},h}return K(o,a),o}(Je);(function(a){a[a.PENDING=0]="PENDING",a[a.ENABLED=1]="ENABLED",a[a.DISABLED=2]="DISABLED"})(Mu||(Mu={}));var mo,VK=function(){function a(o){var i=o.cacheContext,l=o.requestQueue,c=o.dispatcher,h=o.baseLimit,f=h===void 0?100:h,m=o.maxLimit,v=m===void 0?1e3:m,b=o.minLimit,w=b===void 0?10:b;this.queue=[],this.enabledstate=Mu.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=sd(),this.cacheContext=i,this.requestQueue=l,this.dispatcher=c,this.baseLimit=f,this.limit=f,this.maxLimit=v,this.minLimit=w}return Object.defineProperty(a.prototype,"isEnabled",{get:function(){return this.enabledstate===Mu.ENABLED},enumerable:!1,configurable:!0}),a.prototype._save=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(i){return ap.payloadify(i)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},a.prototype._flush=function(){return q(this,void 0,void 0,function(){var o,i;return z(this,function(l){switch(l.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,l.label=1;case 1:return l.trys.push([1,5,6,7]),(o=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(i=new $K({deviceId:this.deviceId,statLogs:o}),[4,this.requestQueue.send(i)]):[3,4];case 2:return l.sent(),this.queue=this.queue.slice(o.length),[4,this._save()];case 3:l.sent(),l.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return l.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},a.prototype.init=function(o){return q(this,void 0,void 0,function(){var i,l,c=this;return z(this,function(h){switch(h.label){case 0:return this.key=o,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(i=h.sent())?(this.deviceId=i.deviceId,this.queue=i.statLogs.map(function(f){return new ap({type:f.stat_type,ts:f.ts,data:f.data})}),this.generation=i.generation,this.lastFlushedAt=i.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(l=Math.min(Math.floor(18e4*Math.random()),100),[4,Hs(l)]):[3,4]):[3,4];case 2:return h.sent(),[4,this._flush()];case 3:h.sent(),h.label=4;case 4:return this.dispatcher.on(function(f){if(f instanceof By){var m=f.statLog;c.put(m)}else f instanceof qN&&(c.enabledstate=f.enabled?Mu.ENABLED:Mu.DISABLED,c.isEnabled?c.queue.length>=c.limit&&c._flush():c.clear())}),[2]}})})},a.prototype.put=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return this.enabledstate===Mu.DISABLED?[3,3]:(this.queue.push(o),[4,this._save()]);case 1:return i.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},a.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return o.sent(),[2]}})})},a}();(function(a){a[a.NONE=0]="NONE",a[a.VERBOSE=1]="VERBOSE",a[a.DEBUG=2]="DEBUG",a[a.INFO=3]="INFO",a[a.WARN=4]="WARN",a[a.ERROR=5]="ERROR"})(mo||(mo={}));var rr,_a,Tg,yi,ba,pl,Kt,WK=function(){function a(){this.level=mo.WARN}return a.prototype.verbose=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=mo.VERBOSE&&console.log.apply(console,Wt(["[verbose]"],Mt(o),!1))},a.prototype.debug=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=mo.DEBUG&&console.log.apply(console,Wt(["[debug]"],Mt(o),!1))},a.prototype.info=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=mo.INFO&&console.log.apply(console,Wt(["[info]"],Mt(o),!1))},a.prototype.warn=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=mo.WARN&&console.warn.apply(console,Wt(["[warn]"],Mt(o),!1))},a.prototype.error=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];this.level<=mo.ERROR&&console.error.apply(console,Wt(["[error]"],Mt(o),!1))},a}(),Du={},Ce=function(){function a(o,i){var l,c,h,f,m,v,b,w,C;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!Du[o]){Du[o]=this;var H=(l=i.options)!==null&&l!==void 0?l:new jI,F=this.sdkState={appId:i.appId,appVersion:(c=i.appVersion)!==null&&c!==void 0?c:"",appState:"foreground",userId:null,extensions:{},api:{host:(h=i.apiHost)!==null&&h!==void 0?h:"https://api-".concat(i.appId,".sendbird.com")},websocket:{host:(f=i.websocketHost)!==null&&f!==void 0?f:"wss://ws-".concat(i.appId,".sendbird.com"),pingerDisabled:!!i.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new PN,responseTimeout:H.websocketResponseTimeout},sessionTokenRefreshTimeout:H.sessionTokenRefreshTimeout};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var $=this.logger=new WK;this.logger.level=(m=i.logLevel)!==null&&m!==void 0?m:mo.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var B=this.cacheContext=new mW({encryption:i.encryption,store:i.store,localCacheEnabled:(v=i.localCacheEnabled)!==null&&v!==void 0&&v});this.debugMode=(b=i.debugMode)!==null&&b!==void 0&&b,this.maxSuperGroupChannelUnreadCount=wu.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=H.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=H.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=H.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var W=this.dispatcher=new _W,ie=new vW;this.requestQueue=new kK(o,{auth:ie,sdkState:F,dispatcher:W,logger:$}),this.sessionManager=new DK({auth:ie,cacheContext:B,sdkState:F,dispatcher:W,requestQueue:this.requestQueue,logger:$}),this.connectionManager=new GK(o,{sdkState:F,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:W,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(w=i.disableWebSocketCloseEventHandling)!==null&&w!==void 0&&w,logger:$}),this.statLogCollector=new VK({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:W}),this.appStateToggleEnabled=(C=i.appStateToggleEnabled)===null||C===void 0||C}return Du[o]}return a.of=function(o){if(Du[o])return Du[o];throw be.lostInstance},a.clear=function(o){Du[o]&&delete Du[o]},a}(),h1=function(){function a(){}return a.prototype.init=function(o,i){var l=i.sdkState,c=i.dispatcher,h=i.sessionManager,f=i.requestQueue,m=i.logger;i.onlineDetector;var v=i.cacheContext,b=v===void 0?null:v;this._iid=o,this._cacheContext=b,this._sdkState=l,this._dispatcher=c,this._sessionManager=h,this._requestQueue=f,this._logger=m},a}(),KK=function(a){function o(i){var l=a.call(this)||this;if(l.method=Qe.POST,l.path="".concat(SK),l.params=Ln({file:i.file,channel_url:i.channelUrl}),i.thumbnailSizes)for(var c=0;c<i.thumbnailSizes.length;c++){var h=i.thumbnailSizes[c],f=h.maxWidth,m=h.maxHeight;l.params["thumbnail".concat(c+1)]="".concat(f,",").concat(m)}return l.requestId=i.requestId,l}return K(o,a),o}(Je),QK=function(a){function o(i,l){var c,h,f,m=this;return(m=a.call(this,i,l)||this).url=l.url,m.fileSize=(c=l.file_size)!==null&&c!==void 0?c:0,m.thumbnailSizes=(h=l.thumbnails)!==null&&h!==void 0?h:[],m.requireAuth=(f=l.require_auth)!==null&&f!==void 0&&f,m}return K(o,a),o}(rn);(function(a){a.BASE="base",a.USER="user",a.FILE="file",a.ADMIN="admin"})(rr||(rr={})),function(a){a.ALL="",a.USER="MESG",a.FILE="FILE",a.ADMIN="ADMM"}(_a||(_a={})),function(a){a.USER="MESG",a.FILE="FILE",a.ADMIN="ADMM"}(Tg||(Tg={})),function(a){a.USERS="users",a.CHANNEL="channel"}(yi||(yi={})),function(a){a.ALL="all",a.NONE="none",a.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(ba||(ba={})),function(a){a.DEFAULT="default",a.SUPPRESS="suppress"}(pl||(pl={})),function(a){a.PENDING="pending",a.SCHEDULED="scheduled",a.SUCCEEDED="succeeded",a.FAILED="failed",a.CANCELED="canceled"}(Kt||(Kt={}));var Ep,p1=function(a){function o(i,l){var c,h,f,m=this;return(m=a.call(this,i)||this).replyCount=0,m.mostRepliedUsers=null,m.lastRepliedAt=0,m.updatedAt=0,m.replyCount=(c=l.reply_count)!==null&&c!==void 0?c:0,m.mostRepliedUsers=l.hasOwnProperty("most_replies")&&it("object",l.most_replies)?l.most_replies.map(function(v){return new Vn(m._iid,v)}):[],m.lastRepliedAt=(h=l.last_replied_at)!==null&&h!==void 0?h:0,m.updatedAt=(f=l.updated_at)!==null&&f!==void 0?f:0,m}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),{reply_count:i.replyCount,most_replies:Array.isArray(i.mostRepliedUsers)?i.mostRepliedUsers.map(function(l){return Vn.payloadify(l)}):[],last_replied_at:i.lastRepliedAt,updated_at:i.updatedAt})):null},o}(zs);(function(a){a.ADD="add",a.DELETE="delete"})(Ep||(Ep={}));var Qt,Ig,BN,fl,f1=function(a){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var o=fe("string",a.msg_id)?parseInt(a.msg_id):a.msg_id,i=a.user_id,l=a.operation?a.operation.toLowerCase():null,c=a.reaction,h=a.updated_at;o&&fe("string",i)&&fe("string",l)&&Dt(Ep,l)&&fe("string",c)&&c&&fe("number",h)&&(this.messageId=o,this.userId=i,this.key=c,this.operation=l,this.updatedAt=h)},Ng=function(){function a(o){var i,l,c,h=o.key,f=(c=Wt([],Mt(o.user_ids),!1))!==null&&c!==void 0?c:[],m=o.updated_at;fe("string",h)&&h&&it("string",f)&&f.length>0&&fe("number",m)&&(this.key=h,this.userIds=f,this.updatedAt=m);var v={};try{for(var b=Rn(this.userIds),w=b.next();!w.done;w=b.next())v[w.value]=this.updatedAt}catch(C){i={error:C}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(i)throw i.error}}this._version=v}return Object.defineProperty(a.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),a.payloadify=function(o){return o?Ln({key:o.key,user_ids:o.userIds,updated_at:o.updatedAt}):null},a.prototype.applyEvent=function(o){if(o.key===this.key&&this.updatedAt<=o.updatedAt){if(!this._version[o.userId]||this._version[o.userId]<=o.updatedAt){var i=this.userIds.indexOf(o.userId);switch(o.operation){case Ep.ADD:i<0&&this.userIds.push(o.userId);break;case Ep.DELETE:i>=0&&this.userIds.splice(i,1)}this._version[o.userId]=o.updatedAt}this.updatedAt=Math.max(this.updatedAt,o.updatedAt)}},a}(),ya=function(){function a(o){this.key=o.key,this.value=it("string",o.value)?Wt([],Mt(o.value),!1):[]}return a.payloadify=function(o){var i;return o?Ln({key:o.key,value:(i=o.value)!==null&&i!==void 0?i:[]}):null},a}(),jN=function(){function a(o){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=o.url,o.hasOwnProperty("secure_url")&&(this.secureUrl=o.secure_url),o.hasOwnProperty("type")&&(this.type=o.type),o.hasOwnProperty("width")&&(this.width=o.width),o.hasOwnProperty("height")&&(this.height=o.height),o.hasOwnProperty("alt")&&(this.alt=o.alt)}return a.payloadify=function(o){var i,l;return o?Ln({url:o.url,secure_url:o.secureUrl,type:o.type,width:(i=o.width)!==null&&i!==void 0?i:0,height:(l=o.height)!==null&&l!==void 0?l:0,alt:o.alt}):null},a}(),GN=function(){function a(o){this.title=null,this.url=null,this.description=null,this.defaultImage=null,o.hasOwnProperty("og:title")&&(this.title=o["og:title"]),o.hasOwnProperty("og:url")&&(this.url=o["og:url"]),o.hasOwnProperty("og:description")&&(this.description=o["og:description"]),o.hasOwnProperty("og:image")&&(this.defaultImage=new jN(o["og:image"]))}return a.payloadify=function(o){return o?Ln({"og:title":o.title,"og:url":o.url,"og:description":o.description,"og:image":o.defaultImage?jN.payloadify(o.defaultImage):null}):null},a}(),gl=function(){function a(o){var i,l;this.name=null,this.volume=0,this.name=(i=o.name)!==null&&i!==void 0?i:"default",this.volume=(l=o.volume)!==null&&l!==void 0?l:1}return a.prototype.serialize=function(){return{name:this.name,volume:this.volume}},a.payloadify=function(o){return o?Ln({name:o.name,volume:o.volume}):null},a}();(function(a){a.BASE="base",a.GROUP="group",a.OPEN="open"})(Qt||(Qt={})),function(a){a.OPERATOR="operator",a.NONE="none"}(Ig||(Ig={})),function(a){a.PENDING="pending",a.SENT="sent",a.FAILED="failed",a.CANCELED="canceled"}(BN||(BN={})),function(a){a.PENDING="pending",a.IN_QUEUE="in_queue",a.SENT="sent",a.FAILED="failed",a.CANCELED="canceled",a.REMOVED="removed"}(fl||(fl={}));var ml,YK=function(a){switch(a){case rr.BASE:return"";case rr.USER:return"MESG";case rr.FILE:return"FILE";case rr.ADMIN:return"ADMM"}},vo=function(a){function o(i,l){var c,h,f,m,v,b,w,C,H,F,$,B,W,ie,Z=this;(Z=a.call(this,i)||this).channelUrl=null,Z.channelType=Qt.BASE,Z.messageId=0,Z.parentMessageId=null,Z.parentMessage=null,Z.silent=!1,Z.isOperatorMessage=!1,Z.messageType=rr.BASE,Z.data=null,Z.customType=null,Z.mentionType=null,Z.mentionedUsers=[],Z.mentionedUserIds=[],Z.mentionedMessageTemplate=null,Z.threadInfo=null,Z.reactions=[],Z.metaArrays=[],Z.ogMetaData=null,Z.appleCriticalAlertOptions=null,Z.createdAt=0,Z.updatedAt=0,Z.scheduledInfo=null,Z.extendedMessage={},Z._scheduledStatus=null,Z.messageId=(h=(c=l.msg_id)!==null&&c!==void 0?c:l.message_id)!==null&&h!==void 0?h:0,Z.channelUrl=l.channel_url,Z.channelType=Dt(Qt,l.channel_type)?l.channel_type:Qt.GROUP,l.channel&&(l.channel.channel_url&&(Z.channelUrl=l.channel.channel_url),l.channel.channel_type&&(Z.channelType=l.channel.channel_type)),Z.parentMessageId=(f=typeof l.parent_message_id=="string"?parseInt(l.parent_message_id):l.parent_message_id)!==null&&f!==void 0?f:0,Z.data=(m=l.data)!==null&&m!==void 0?m:"",Z.customType=(v=l.custom_type)!==null&&v!==void 0?v:"",Z.mentionType=Dt(yi,l.mention_type)?l.mention_type:null;var pe=l.mentioned_users;Z.mentionedUsers=pe?pe.map(function(we){return new Vn(Z._iid,we)}):null;var Oe=l.mentioned_user_ids;Z.mentionedUserIds=Oe!=null?Oe:null,Z.mentionedUsers&&!Z.mentionedUserIds&&(Z.mentionedUserIds=Z.mentionedUsers.map(function(we){return we.userId})),Z.mentionedMessageTemplate=(b=l.mentioned_message_template)!==null&&b!==void 0?b:"",Z.threadInfo=l.thread_info?new p1(Z._iid,l.thread_info):null,Z.reactions=l.reactions?l.reactions.map(function(we){return new Ng(we)}):[];for(var te=(w=l.metaarray)!==null&&w!==void 0?w:{},X=(C=l.metaarray_key_order)!==null&&C!==void 0?C:Object.keys(te).sort(function(we,Be){return we.localeCompare(Be)}),Se=0;Se<X.length;Se++){var xe=X[Se];Z.metaArrays.push(new ya({key:xe,value:te[xe]||[]}))}return l.sorted_metaarray&&(Z.metaArrays=l.sorted_metaarray.map(function(we){return new ya(we)})),Z.ogMetaData=l.og_tag?new GN(l.og_tag):null,Z.silent=(H=l.silent)!==null&&H!==void 0&&H,Z.isOperatorMessage=(F=l.is_op_msg)!==null&&F!==void 0&&F,Z.appleCriticalAlertOptions=l.apple_critical_alert_options?new gl(l.apple_critical_alert_options):null,Z.createdAt=(B=($=l.created_at)!==null&&$!==void 0?$:l.ts)!==null&&B!==void 0?B:0,Z.updatedAt=(W=l.updated_at)!==null&&W!==void 0?W:0,typeof l.scheduled_message_id=="number"&&typeof l.scheduled_at=="number"&&l.scheduled_status&&(Z.scheduledInfo={scheduledMessageId:l.scheduled_message_id,scheduledAt:l.scheduled_at},Z._scheduledStatus=l.scheduled_status),Z.extendedMessage=(ie=l.extended_message)!==null&&ie!==void 0?ie:{},Z}return K(o,a),o.payloadify=function(i){var l,c,h,f;return i?Ln(he(he({},a.payloadify.call(this,i)),{channel_url:i.channelUrl,channel_type:i.channelType,message_id:i.messageId,type:YK(i.messageType),parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,mentioned_user_ids:i.mentionedUserIds,mentioned_users:(l=i.mentionedUsers)===null||l===void 0?void 0:l.map(function(m){return Vn.payloadify(m)}),mentioned_message_template:i.mentionedMessageTemplate,thread_info:i.threadInfo?p1.payloadify(i.threadInfo):null,reactions:i.reactions.map(function(m){return Ng.payloadify(m)}),sorted_metaarray:(c=i.metaArrays)===null||c===void 0?void 0:c.map(function(m){return ya.payloadify(m)}),og_tag:GN.payloadify(i.ogMetaData),silent:i.silent,is_op_msg:i.isOperatorMessage,apple_critical_alert_options:gl.payloadify(i.appleCriticalAlertOptions),created_at:i.createdAt,updated_at:i.updatedAt,scheduled_message_id:(h=i.scheduledInfo)===null||h===void 0?void 0:h.scheduledMessageId,scheduled_at:(f=i.scheduledInfo)===null||f===void 0?void 0:f.scheduledAt,scheduled_status:i._scheduledStatus,extended_message:i.extendedMessage})):null},o.prototype.isIdentical=function(i){return this.messageId===i.messageId},o.prototype.isEqual=function(i){return BI(this,i)},o.prototype.isUserMessage=function(){return this.messageType===rr.USER},o.prototype.isFileMessage=function(){return this.messageType===rr.FILE},o.prototype.isAdminMessage=function(){return this.messageType===rr.ADMIN},o.prototype.serialize=function(){return Sg(this)},o.prototype.getMetaArraysByKeys=function(i){return this.metaArrays.filter(function(l){return i.includes(l.key)})},o.prototype.applyThreadInfoUpdateEvent=function(i){return this.messageId===i.targetMessageId&&(this.threadInfo=i.threadInfo),!1},o.prototype.applyReactionEvent=function(i){if(this.messageId===i.messageId){for(var l=!1,c=0;c<this.reactions.length;c++)if(this.reactions[c].key===i.key){this.reactions[c].applyEvent(i),this.reactions[c].isEmpty&&this.reactions.splice(c,1),l=!0;break}l||i.operation!=="add"||this.reactions.push(new Ng(Ng.payloadify({key:i.key,userIds:[i.userId],updatedAt:i.updatedAt})))}},o.prototype.applyParentMessage=function(i){if(this.parentMessageId===i.messageId){var l=this.parentMessage.updatedAt;if(i.updatedAt>=l)return this.parentMessage=i,!0}return!1},o}(zs),wp=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.role=null,c.isBlockedByMe=!1,c.role=Dt(Ig,l.role)?l.role:Ig.NONE,l.hasOwnProperty("is_blocked_by_me")&&(c.isBlockedByMe=l.is_blocked_by_me),c}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),{role:i.role,is_blocked_by_me:i.isBlockedByMe})):null},o}(Vn),xp=function(a){function o(i,l){var c,h,f,m,v=this;if((v=a.call(this,i,l)||this).sender=null,v.reqId="",v.replyToChannel=!1,v.sendingStatus=null,v.errorCode=0,v.sender=l.user?new wp(v._iid,l.user):l.sender_id,v.reqId=(h=(c=l.req_id)!==null&&c!==void 0?c:l.request_id)!==null&&h!==void 0?h:"",v.replyToChannel=(f=l.is_reply_to_channel)!==null&&f!==void 0&&f,l.request_state&&Dt(Kt,l.request_state)&&(v.sendingStatus=l.request_state),!v.sendingStatus)if(v.messageId>0)v.sendingStatus=Kt.SUCCEEDED;else if(v.scheduledInfo)switch(v._scheduledStatus=l.scheduled_status,l.scheduled_status){case fl.SENT:case fl.IN_QUEUE:v.sendingStatus=Kt.SUCCEEDED;break;case fl.PENDING:v.sendingStatus=Kt.SCHEDULED;break;case fl.FAILED:case fl.REMOVED:v.sendingStatus=Kt.FAILED;break;case fl.CANCELED:v.sendingStatus=Kt.CANCELED}else v.sendingStatus=Kt.PENDING;return v.errorCode=(m=l.error_code)!==null&&m!==void 0?m:0,v}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),{user:wp.payloadify(i.sender),req_id:i.reqId,is_reply_to_channel:i.replyToChannel,request_state:i.sendingStatus,error_code:i.errorCode})):null},Object.defineProperty(o.prototype,"isResendable",{get:function(){return this.sendingStatus===Kt.FAILED&&(i=this.errorCode)>0&&hW.indexOf(i)>=0;var i},enumerable:!1,configurable:!0}),o.prototype.isIdentical=function(i){return this.messageId>0&&i.messageId>0?this.messageId===i.messageId:this.reqId===i.reqId},o}(vo),g1=function(){function a(o){var i,l;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=o.url,this.width=o.width,this.height=o.height,this.realWidth=(i=o.real_width)!==null&&i!==void 0?i:o.width,this.realHeight=(l=o.real_height)!==null&&l!==void 0?l:o.height}return a.payloadify=function(o){return o?Ln({url:"",width:o.maxWidth,height:o.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(a.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),a}(),Og={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:_a.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},m1=function(a){return fe("number",a.prevResultSize)&&fe("number",a.nextResultSize)&&fe("boolean",a.isInclusive)&&fe("boolean",a.reverse)&&fe("string",a.messageTypeFilter)&&Dt(_a,a.messageTypeFilter)&&it("string",a.customTypesFilter,!0)&&it("string",a.senderUserIdsFilter,!0)&&fe("boolean",a.includeMetaArray)&&fe("boolean",a.includeReactions)&&fe("boolean",a.includeParentMessageInfo)},hd=function(a){function o(i,l){var c,h,f,m,v=this;if((v=a.call(this,i,l)||this).message=null,v.translations={},v.message=(c=l.message)!==null&&c!==void 0?c:"",v.messageType=rr.ADMIN,v.translations=(h=l.translations)!==null&&h!==void 0?h:{},l.parent_message_info){var b=l.parent_message_info,w=he(he({},b),{message_id:v.parentMessageId,channel_url:v.channelUrl,channel_type:v.channelType,file:b.file,url:(f=b.file)===null||f===void 0?void 0:f.url,require_auth:(m=b.file)===null||m===void 0?void 0:m.require_auth});v.parentMessage=vl(i,w)}return v}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),{message:i.message,translations:i.translations,parent_message_info:_1(i.parentMessage)})):null},o.prototype.getThreadedMessagesByTimestamp=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=he(he({},Og),l),an(this.messageId>0&&fe("number",i)&&m1(c)).throw(be.invalidParameters),[4,Fi.of(this._iid).getThreadedMessagesByTimestamp(this,i,c)];case 1:return[2,h.sent()]}})})},o}(vo),$N=function(){function a(o){var i,l;this.type=null,this.vendor=null,this.detail={},this.type=(i=o.type)!==null&&i!==void 0?i:"",this.vendor=(l=o.vendor)!==null&&l!==void 0?l:"",o.hasOwnProperty("detail")&&fe("object",o.detail)&&!Array.isArray(o.detail)&&(this.detail=o.detail)}return a.payloadify=function(o){return o?Ln({type:o.type,vendor:o.vendor,detail:o.detail}):null},a}();(function(a){a.OPEN="open",a.CLOSED="closed"})(ml||(ml={}));var Xr,v1=function(a){switch(a){case ml.OPEN:return ml.OPEN;case ml.CLOSED:return ml.CLOSED}},VN=function(a){return!a||a.text&&fe("string",a.text)},Ag=function(a){function o(i,l){var c,h,f,m,v,b,w,C=this;return(C=a.call(this,i)||this).pollId=0,C.id=0,C.text=null,C.voteCount=0,C.createdBy=null,C.createdAt=0,C.updatedAt=0,C._lastVotedAt=0,C.pollId=(c=l.poll_id)!==null&&c!==void 0?c:0,C.id=(h=l.id)!==null&&h!==void 0?h:0,C.text=(f=l.text)!==null&&f!==void 0?f:null,C.voteCount=(m=l.vote_count)!==null&&m!==void 0?m:0,C.createdBy=(v=l.created_by)!==null&&v!==void 0?v:null,C.createdAt=(b=l.created_at)!==null&&b!==void 0?b:0,C.updatedAt=(w=l.updated_at)!==null&&w!==void 0?w:0,C}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),{vote_count:i.voteCount,poll_id:i.pollId,text:i.text,created_at:i.createdAt,id:i.id,created_by:i.createdBy,updated_at:i.updatedAt})):null},o}(zs),La=function(a){function o(i,l){var c,h,f,m,v,b,w,C,H,F,$,B,W,ie=this;return(ie=a.call(this,i)||this).id=0,ie.title=null,ie.createdAt=0,ie.updatedAt=0,ie.closeAt=-1,ie.status=ml.CLOSED,ie.messageId=0,ie.data=null,ie.voterCount=-1,ie.options=[],ie.createdBy=null,ie.allowUserSuggestion=!1,ie.allowMultipleVotes=!1,ie.votedPollOptionIds=[],ie.id=(c=l.id)!==null&&c!==void 0?c:0,ie.title=(h=l.title)!==null&&h!==void 0?h:null,ie.createdAt=(f=l.created_at)!==null&&f!==void 0?f:0,ie.updatedAt=(m=l.updated_at)!==null&&m!==void 0?m:0,ie.closeAt=(v=l.close_at)!==null&&v!==void 0?v:-1,ie.status=(b=v1(l.status))!==null&&b!==void 0?b:ml.CLOSED,ie.messageId=(w=l.message_id)!==null&&w!==void 0?w:0,ie.data=(C=l.data)!==null&&C!==void 0?C:null,ie.voterCount=(H=l.voter_count)!==null&&H!==void 0?H:-1,ie.options=l.options?l.options.map(function(Z){return new Ag(ie._iid,Z)}):[],ie.createdBy=(F=l.created_by)!==null&&F!==void 0?F:null,ie.allowUserSuggestion=($=l.allow_user_suggestion)!==null&&$!==void 0&&$,ie.allowMultipleVotes=(B=l.allow_multiple_votes)!==null&&B!==void 0&&B,ie.votedPollOptionIds=(W=l.voted_option_ids)!==null&&W!==void 0?W:[],ie}return K(o,a),o.prototype._applyPollUpdatePayload=function(i){var l,c,h,f,m,v,b,w,C=this;this.title=(l=i.title)!==null&&l!==void 0?l:this.title,this.updatedAt=(c=i.updated_at)!==null&&c!==void 0?c:this.updatedAt,this.closeAt=(h=i.close_at)!==null&&h!==void 0?h:this.closeAt,this.status=(f=v1(i.status))!==null&&f!==void 0?f:this.status,this.data=(m=i.data)!==null&&m!==void 0?m:this.data,this.voterCount=(v=i.voter_count)!==null&&v!==void 0?v:this.voterCount,i.options&&(this.options=i.options.map(function(H){return new Ag(C._iid,H)}),this.votedPollOptionIds=i.options.filter(function(H){return H.vote_count>0}).map(function(H){return H.id})),this.allowUserSuggestion=(b=i.allow_user_suggestion)!==null&&b!==void 0?b:this.allowUserSuggestion,this.allowMultipleVotes=(w=i.allow_multiple_votes)!==null&&w!==void 0?w:this.allowMultipleVotes},o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),{id:i.id,title:i.title,created_at:i.createdAt,updated_at:i.updatedAt,close_at:i.closeAt,status:i.status,message_id:i.messageId,data:i.data,voter_count:i.voterCount,options:i.options.map(function(l){return Ag.payloadify(l)}),created_by:i.createdBy,allow_user_suggestion:i.allowUserSuggestion,allow_multiple_votes:i.allowMultipleVotes,voted_option_ids:i.votedPollOptionIds})):null},o.prototype.applyPollUpdateEvent=function(i){var l=i._payload.poll;return!(!l||this.id!==l.id||l.updated_at<this.updatedAt||(this._applyPollUpdatePayload(l),0))},o.prototype.applyPollVoteEvent=function(i){if(this.id!==i.pollId)return!1;var l=this.options,c=l.map(function(m){return m.id}),h=i._payload,f=Math.floor(h.ts/1e3);return h.updated_vote_counts.forEach(function(m){var v=c.indexOf(m.option_id);if(v>-1){var b=l[v];f>=b._lastVotedAt&&(b.voteCount=m.vote_count,b._lastVotedAt=f)}}),h.req_id&&h.voted_option_ids&&(this.votedPollOptionIds=h.voted_option_ids),!0},o.prototype.serialize=function(){return Sg(this)},o}(zs),Ei=function(a){function o(i,l){var c,h,f,m,v,b,w,C=this;if((C=a.call(this,i,l)||this).message="",C.messageParams=null,C.translations={},C.translationTargetLanguages=[],C.messageSurvivalSeconds=-1,C.plugins=[],C._poll=null,C.message=l.message,C.messageType=rr.USER,C.translations=(f=l.translations)!==null&&f!==void 0?f:{},C.translationTargetLanguages=(m=l.target_langs)!==null&&m!==void 0?m:[],Object.keys(C.translations).length===0&&C.translationTargetLanguages.length>0)try{for(var H=Rn(C.translationTargetLanguages),F=H.next();!F.done;F=H.next()){var $=F.value;C.translations[$]=""}}catch(ie){c={error:ie}}finally{try{F&&!F.done&&(h=H.return)&&h.call(H)}finally{if(c)throw c.error}}if(C.messageSurvivalSeconds=(v=l.message_survival_seconds)!==null&&v!==void 0?v:-1,C.plugins=l.plugins?l.plugins.map(function(ie){return new $N(ie)}):[],C._poll=l.poll?new La(C._iid,l.poll):null,l.parent_message_info){var B=l.parent_message_info,W=he(he({},B),{created_at:B.ts,message_id:C.parentMessageId,channel_url:C.channelUrl,channel_type:C.channelType,file:B.file,url:(b=B.file)===null||b===void 0?void 0:b.url,require_auth:(w=B.file)===null||w===void 0?void 0:w.require_auth});C.parentMessage=vl(i,Ln(W))}return C}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),{message:i.message,translations:i.translations,message_survival_seconds:i.messageSurvivalSeconds,plugins:i.plugins.map(function(l){return $N.payloadify(l)}),poll:La.payloadify(i._poll),parent_message_info:_1(i.parentMessage)})):null},o.prototype.getThreadedMessagesByTimestamp=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=he(he({},Og),l),an(this.messageId>0&&fe("number",i)&&m1(c)).throw(be.invalidParameters),[4,Fi.of(this._iid).getThreadedMessagesByTimestamp(this,i,c)];case 1:return[2,h.sent()]}})})},o.prototype.applyPoll=function(i){return!(this._poll&&this._poll.id===i.id&&this._poll.updatedAt>i.updatedAt||(this._poll=i,0))},Object.defineProperty(o.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),o}(xp),_1=function(a){if(a)switch(a.messageType){case rr.USER:return Ei.payloadify(a);case rr.FILE:return gr.payloadify(a);case rr.ADMIN:return hd.payloadify(a)}return null},vl=function(a,o){switch(o.type){case"MESG":return new Ei(a,o);case"FILE":return new gr(a,o);case"ADMM":case"BRDM":return new hd(a,o)}return null},gr=function(a){function o(i,l){var c,h,f,m,v,b,w,C,H,F,$,B,W,ie,Z,pe=this;(pe=a.call(this,i,l)||this).messageParams=null,pe.plainUrl="",pe.requireAuth=!1,pe.name=null,pe.size=0,pe.type=null,pe.thumbnails=[],pe.messageSurvivalSeconds=-1,pe.messageType=rr.FILE;var Oe=(c=l.file)!==null&&c!==void 0?c:null;pe.plainUrl=((f=(h=Oe==null?void 0:Oe.url)!==null&&h!==void 0?h:l.url)!==null&&f!==void 0?f:"").split("?auth=")[0],pe.name=(v=(m=Oe==null?void 0:Oe.name)!==null&&m!==void 0?m:l.name)!==null&&v!==void 0?v:"File",pe.size=(w=(b=Oe==null?void 0:Oe.size)!==null&&b!==void 0?b:l.size)!==null&&w!==void 0?w:0,pe.data=(H=(C=Oe==null?void 0:Oe.data)!==null&&C!==void 0?C:l.custom)!==null&&H!==void 0?H:"",pe.type=Oe?(F=Oe.type)!==null&&F!==void 0?F:"":($=l.type)!==null&&$!==void 0?$:"";var te=Ce.of(pe._iid).sessionManager;if(pe.requireAuth=(B=l.require_auth)!==null&&B!==void 0&&B,pe.thumbnails=l.thumbnails?l.thumbnails.map(function(xe){return new g1(he(he({},xe),{url:"".concat(xe.url.split("?auth=")[0]).concat(pe.requireAuth?"?auth=".concat(te.ekey):"")}))}):[],pe.messageSurvivalSeconds=(W=l.message_survival_seconds)!==null&&W!==void 0?W:-1,l.parent_message_info){var X=l.parent_message_info,Se=he(he({},X),{message_id:pe.parentMessageId,channel_url:pe.channelUrl,channel_type:pe.channelType,file:X.file,url:(ie=X.file)===null||ie===void 0?void 0:ie.url,require_auth:(Z=X.file)===null||Z===void 0?void 0:Z.require_auth});pe.parentMessage=vl(i,Se)}return pe}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),{url:i.plainUrl,require_auth:i.requireAuth,file:{name:i.name,size:i.size,type:i.type,data:i.data},thumbnails:i.thumbnails.map(function(l){return{url:l.url,width:l.width,height:l.height,real_width:l.realWidth,real_height:l.realHeight}}),message_survival_seconds:i.messageSurvivalSeconds,parent_message_info:_1(i.parentMessage)})):null},Object.defineProperty(o.prototype,"url",{get:function(){var i=Ce.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(i.ekey):this.plainUrl},enumerable:!1,configurable:!0}),o.prototype.getThreadedMessagesByTimestamp=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=he(he({},Og),l),an(this.messageId>0&&fe("number",i)&&m1(c)).throw(be.invalidParameters),[4,Fi.of(this._iid).getThreadedMessagesByTimestamp(this,i,c)];case 1:return[2,h.sent()]}})})},o}(xp),wt=function(a){switch(a){case Qt.GROUP:return DN;case Qt.OPEN:return Ou;default:return null}},WN=function(a){switch(a){case Qt.GROUP:return"".concat(o1,"/group_channels");case Qt.OPEN:return"".concat(o1,"/open_channels");default:return null}},pd=function(a,o,i){var l,c;switch(a){case yi.CHANNEL:return!0;case yi.USERS:if(o)try{for(var h=Rn(o),f=h.next();!f.done;f=h.next())if(f.value===i)return!0}catch(m){l={error:m}}finally{try{f&&!f.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}}return!1},b1=function(a,o,i){var l=pd(a.mentionType,a.mentionedUserIds,i),c=pd(o.mentionType,o.mentionedUserIds,i);return!l&&c?1:l&&!c?-1:0},XK=function(a){function o(i){var l,c,h,f=[];return i.mentionType===yi.USERS&&(i.mentionedUserIds?f=i.mentionedUserIds:i.mentionedUsers&&(f=i.mentionedUsers.map(function(m){return m.userId}))),a.call(this,{code:"FILE",ackRequired:!0,payload:Ln({channel_url:i.channelUrl,url:i.url,name:(l=i.fileName)!==null&&l!==void 0?l:"",type:(c=i.mimeType)!==null&&c!==void 0?c:"",size:(h=i.fileSize)!==null&&h!==void 0?h:0,custom:i.data,custom_type:i.customType,thumbnails:i.thumbnailSizes,require_auth:i.requireAuth,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:f,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==pl.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId>0?i.parentMessageId:null,req_id:i.reqId,pin_message:i.isPinnedMessage})})||this}return K(o,a),o}(cs),ZK=function(a){function o(i){var l,c=this;c=a.call(this)||this;var h=[];return i.mentionType===yi.USERS&&(i.mentionedUserIds?h=i.mentionedUserIds:i.mentionedUsers&&(h=i.mentionedUsers.map(function(f){return f.userId}))),c.method=Qe.POST,c.path="".concat(wt(i.channelType),"/").concat(encodeURIComponent(i.channelUrl),"/messages"),c.params=Ln({message_type:rr.FILE,user_id:i.userId,url:i.fileUrl,mention_type:i.mentionType,mentioned_user_ids:h,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,data:i.data,custom_type:i.customType,thumbnails:i.thumbnailSizes.map(function(f){return g1.payloadify(f)}),require_auth:i.requireAuth,sorted_metaarray:(l=i.metaArrays)===null||l===void 0?void 0:l.map(function(f){return ya.payloadify(f)}),push_option:i.pushNotificationDeliveryOption,parent_message_id:i.parentMessageId>0?i.parentMessageId:null,apple_critical_alert_options:gl.payloadify(i.appleCriticalAlertOptions),reply_to_channel:i.isReplyToChannel,req_id:i.reqId,pin_message:i.isPinnedMessage}),c}return K(o,a),o}(Je),KN=function(a){function o(i,l,c){var h,f,m,v=this;(v=a.call(this,i,"FILE",c)||this).message=new gr(i,c);var b=Ce.of(i).sdkState;return v.isMentioned=pd(v.message.mentionType,(h=v.message.mentionedUserIds)!==null&&h!==void 0?h:(f=v.message.mentionedUsers)===null||f===void 0?void 0:f.map(function(w){return w.userId}),b.userId),v.forceUpdateLastMessage=(m=c.force_update_last_message)!==null&&m!==void 0&&m,v}return K(o,a),o}(Xt),JK=function(a){function o(i,l){var c,h,f=this;(f=a.call(this,i,l)||this).message=new gr(i,l);var m=Ce.of(i).sdkState;return f.isMentioned=pd(f.message.mentionType,(c=f.message.mentionedUserIds)!==null&&c!==void 0?c:f.message.mentionedUsers.map(function(v){return v.userId}),m.userId),f.forceUpdateLastMessage=(h=l.force_update_last_message)!==null&&h!==void 0&&h,f}return K(o,a),o}(rn);(function(a){a[a.PENDING=0]="PENDING",a[a.UPLOADING=1]="UPLOADING",a[a.UPLOADED=2]="UPLOADED",a[a.SENDING=3]="SENDING",a[a.FAILED=4]="FAILED"})(Xr||(Xr={}));var mr,eQ=function(){function a(o,i){var l=i.sdkState,c=i.dispatcher,h=i.requestQueue,f=i.onlineDetector,m=i.cacheContext,v=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=o,this._sdkState=l,this._requestQueue=h,this._cacheContext=m,this._dispatcher=c,this._dispatcher.on(function(b){b instanceof Nu&&(v._connectionState=b.stateType)}),this._onlineDetector=f}return Object.defineProperty(a.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Et.CONNECTED||this._connectionState===Et.CONNECTING||this._connectionState===Et.RECONNECTING},enumerable:!1,configurable:!0}),a.prototype._sendFileMessage=function(o,i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return this._shouldSendThroughWebSocket?(l=new XK(he(he({},i.params),{channelUrl:o.url,channelType:o.channelType,url:i.params.fileUrl,requireAuth:i.requireAuth,reqId:i.requestId})),[4,this._requestQueue.send(l)]):[3,2];case 1:return[2,c.sent().as(KN).message];case 2:return l=new ZK(he(he({},i.params),{channelUrl:o.url,channelType:o.channelType,url:i.params.fileUrl,userId:this._sdkState.userId,requireAuth:i.requireAuth,reqId:i.requestId})),[4,this._requestQueue.send(l)];case 3:return[2,c.sent().as(JK).message]}})})},a.prototype._resolveMessageQueue=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w,C,H,F;return z(this,function($){switch($.label){case 0:if(!(i=this._queueMap.get(o.url)))return[3,21];if(i.isResolving)return[3,20];i.isResolving=!0,l=[],c=!0,$.label=1;case 1:$.trys.push([1,15,16,17]),h=Rn(i.messageQueue),f=h.next(),$.label=2;case 2:if(f.done)return[3,14];switch((m=f.value).state){case Xr.PENDING:case Xr.UPLOADING:return[3,3];case Xr.UPLOADED:return[3,4];case Xr.FAILED:return[3,12]}return[3,13];case 3:return c=!1,l.push(m),[3,13];case 4:if(!c)return[3,10];$.label=5;case 5:return $.trys.push([5,8,,9]),m.state=Xr.SENDING,[4,this._sendFileMessage(o,m)];case 6:return v=$.sent(),m.deferred.resolve(v),[4,Hs(100)];case 7:return $.sent(),[3,9];case 8:return b=$.sent(),m.deferred.reject(b),[3,9];case 9:return[3,11];case 10:l.push(m),$.label=11;case 11:return[3,13];case 12:return m.deferred.reject(m.error.code===Gn.REQUEST_CANCELED?be.fileUploadCanceled:m.error),[3,13];case 13:return f=h.next(),[3,2];case 14:return[3,17];case 15:return w=$.sent(),H={error:w},[3,17];case 16:try{f&&!f.done&&(F=h.return)&&F.call(h)}finally{if(H)throw H.error}return[7];case 17:return C=i.isResolveRequestPending,i.messageQueue=l,i.isResolving=!1,i.isResolveRequestPending=!1,C?[4,this._resolveMessageQueue(o)]:[3,19];case 18:$.sent(),$.label=19;case 19:return[3,21];case 20:i.isResolveRequestPending=!0,$.label=21;case 21:return[2]}})})},a.prototype._uploadNextPendingItem=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w,C,H,F,$,B;return z(this,function(W){switch(W.label){case 0:return i=this._queueMap.get(o.url),(l=i.messageQueue.find(function(ie){return ie.state===Xr.PENDING}))?ga(l.params.file)?i.uploadQueue.length<6?(l.state=Xr.UPLOADING,i.uploadQueue.push(l),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!W.sent())return[3,8];W.label=2;case 2:return W.trys.push([2,4,5,7]),c=new KK({file:l.params.file,channelUrl:o.url,thumbnailSizes:l.params.thumbnailSizes,requestId:l.requestId}),[4,this._requestQueue.send(c)];case 3:return h=W.sent(),f=h.as(QK),m=f.url,v=f.fileSize,b=v===void 0?l.params.fileSize:v,w=f.thumbnailSizes,C=w===void 0?l.params.thumbnailSizes:w,H=f.requireAuth,F=H!==void 0&&H,l.params.fileUrl=m,l.params.fileSize=b,l.params.thumbnailSizes=C,l.params.requireAuth=F,l.requireAuth=F,l.state=Xr.UPLOADED,[3,7];case 4:return($=W.sent()).code===Gn.REQUEST_FAILED?l.error=new be({code:Gn.NETWORK_ERROR,message:"Failed to upload a file."}):l.error=$,l.state=Xr.FAILED,[3,7];case 5:return(B=i.uploadQueue.findIndex(function(ie){return ie.requestId===l.requestId}))>=0&&(i.uploadQueue.splice(B,1),this._uploadNextPendingItem(o)),[4,this._resolveMessageQueue(o)];case 6:return W.sent(),[7];case 7:return[3,10];case 8:return l.state=Xr.FAILED,l.error=be.connectionRequired,(B=i.uploadQueue.findIndex(function(ie){return ie.requestId===l.requestId}))>=0&&(i.uploadQueue.splice(B,1),this._uploadNextPendingItem(o)),[4,this._resolveMessageQueue(o)];case 9:W.sent(),W.label=10;case 10:return[3,13];case 11:return l.params.thumbnailSizes=[],l.state=Xr.UPLOADED,[4,this._resolveMessageQueue(o)];case 12:W.sent(),W.label=13;case 13:return[2]}})})},a.prototype.request=function(o,i,l){var c,h,f;return q(this,void 0,void 0,function(){var m;return z(this,function(v){return m=new Pi,ga(l.file)&&(l.fileName=(c=l.fileName)!==null&&c!==void 0?c:l.file.name,l.mimeType=(h=l.mimeType)!==null&&h!==void 0?h:l.file.type,l.fileSize=(f=l.fileSize)!==null&&f!==void 0?f:l.file.size),this._queueMap.has(o.url)||this._queueMap.set(o.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(o.url).messageQueue.push({requestId:i,params:l,state:Xr.PENDING,deferred:m,requireAuth:l.requireAuth}),this._uploadNextPendingItem(o),[2,m.promise]})})},a.prototype.cancel=function(o,i){var l,c;i===void 0&&(i=null);var h=this._queueMap.get(o.url);if(h){var f=i?[h.messageQueue.find(function(w){return w.requestId===i})]:Wt([],Mt(h.messageQueue),!1);try{for(var m=Rn(f),v=m.next();!v.done;v=m.next()){var b=v.value;if(b)switch(b.state){case Xr.PENDING:b.state=Xr.FAILED,b.error=be.requestCanceled,this._resolveMessageQueue(o);break;case Xr.UPLOADING:this._requestQueue.cancel(b.requestId)}}}catch(w){l={error:w}}finally{try{v&&!v.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}}},a}(),Rg={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:_a.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:ba.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},QN=function(a){return fe("number",a.prevResultSize)&&fe("number",a.nextResultSize)&&fe("boolean",a.isInclusive)&&fe("boolean",a.reverse)&&fe("string",a.messageTypeFilter)&&Dt(_a,a.messageTypeFilter)&&it("string",a.customTypesFilter,!0)&&it("string",a.senderUserIdsFilter,!0)&&Dt(ba,a.replyType)&&fe("boolean",a.includeMetaArray)&&fe("boolean",a.includeReactions)&&fe("boolean",a.includeParentMessageInfo)&&fe("boolean",a.includeThreadInfo)&&fe("boolean",a.showSubchannelMessagesOnly)},y1={replyType:ba.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},YN=function(a){return Dt(ba,a.replyType)&&fe("boolean",a.includeReactions)&&fe("boolean",a.includeMetaArray)&&fe("boolean",a.includeParentMessageInfo)&&fe("boolean",a.includeThreadInfo)};(function(a){a.UNKNOWN="UNKNOWN",a.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",a.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",a.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",a.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",a.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",a.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",a.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",a.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",a.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",a.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",a.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",a.REQUEST_MESSAGE="REQUEST_MESSAGE",a.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",a.EVENT_POLL_VOTED="EVENT_POLL_VOTED",a.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",a.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",a.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",a.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",a.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",a.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",a.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",a.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",a.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",a.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",a.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(mr||(mr={}));var kp,Xi=function(a){function o(i){var l=i.messages,c=i.source,h=a.call(this)||this;return h.messages=l,h.source=c,h}return K(o,a),o}(Sr),nQ=function(a){function o(i){var l=i.messageIds,c=i.source,h=a.call(this)||this;return h.messageIds=l,h.source=c,h}return K(o,a),o}(Sr);(function(a){function o(i){var l=i.reqId,c=i.source,h=a.call(this)||this;return h.reqId=l,h.source=c,h}K(o,a)})(Sr);var tQ=function(a){function o(i){var l=i.polls,c=i.source,h=a.call(this)||this;return h.polls=l,h.source=c,h}return K(o,a),o}(Sr),rQ=function(a){function o(i){var l=i.event,c=i.source,h=a.call(this)||this;return h.event=l,h.source=c,h}return K(o,a),o}(Sr),XN=function(a){function o(i){var l=i.event,c=i.source,h=a.call(this)||this;return h.event=null,h.source=null,h.event=l,h.source=c,h}return K(o,a),o}(Sr),iQ=function(a){function o(i){var l=i.channelType,c=i.channelUrl,h=i.messageId,f=i.includeMetaArray,m=i.includeReactions,v=i.includeThreadInfo,b=i.includeParentMessageInfo,w=a.call(this)||this;return w.method=Qe.GET,w.path="".concat(wt(l),"/").concat(encodeURIComponent(c),"/messages/").concat(encodeURIComponent(h)),w.params={is_sdk:!0,with_sorted_meta_array:f,include_reactions:m,include_thread_info:v,include_parent_message_info:b,include_poll_details:!0},w}return K(o,a),o}(Je),aQ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.message=l?vl(i,he({},l)):null,c}return K(o,a),o}(rn),E1=function(a){function o(i){var l=i.channelType,c=i.channelUrl,h=i.timestamp,f=h===void 0?null:h,m=i.token,v=m===void 0?null:m,b=i.prevResultSize,w=i.nextResultSize,C=i.isInclusive,H=i.reverse,F=i.messageTypeFilter,$=i.customTypesFilter,B=i.senderUserIdsFilter,W=i.replyType,ie=i.includeMetaArray,Z=i.includeReactions,pe=i.parentMessageId,Oe=i.includeThreadInfo,te=i.includeParentMessageInfo,X=i.showSubchannelMessagesOnly,Se=a.call(this)||this;return Se.method=Qe.GET,Se.path="".concat(wt(l),"/").concat(encodeURIComponent(c),"/messages"),Se.params=Ln({is_sdk:!0,prev_limit:b,next_limit:w,include:C,reverse:H,message_ts:f,message_id:v,message_type:F!=null?F:null,custom_types:$,sender_ids:B,include_reply_type:W,with_sorted_meta_array:ie,include_reactions:Z,parent_message_id:pe,include_thread_info:Oe,include_parent_message_info:te,show_subchannel_message_only:X,include_poll_details:!0}),Se}return K(o,a),o}(Je),w1=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.messages=l.messages.map(function(h){return vl(i,h)}),c}return K(o,a),o}(rn),sQ=function(a){function o(i){var l=i.channelType,c=i.channelUrl,h=i.timestamp,f=i.token,m=i.replyType,v=i.includeMetaArray,b=i.includeReactions,w=i.includeThreadInfo,C=i.includeParentMessageInfo,H=a.call(this)||this;return H.method=Qe.GET,H.path="".concat(wt(l),"/").concat(encodeURIComponent(c),"/messages/changelogs"),H.params={change_ts:h,token:f,with_sorted_meta_array:v,include_reactions:b,include_thread_info:w,include_reply_type:m,include_parent_message_info:C,include_poll_details:!0},H}return K(o,a),o}(Je),oQ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.updatedMessages=l.updated.map(function(h){return vl(i,h)}),c.deletedMessagesInfo=l.deleted.map(function(h){return{messageId:h.message_id,deletedAt:h.deleted_at}}),c.hasMore=l.has_more,c.nextToken=l.next,c}return K(o,a),o}(rn),lQ=function(a){function o(i){var l=i.channelUrl,c=i.scheduledMessageId,h=a.call(this)||this;return h.method=Qe.GET,h.path="".concat(DN,"/").concat(encodeURIComponent(l),"/scheduled_messages/").concat(encodeURIComponent(c)),h.params={},h}return K(o,a),o}(Je),uQ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.message=l?vl(i,he({},l)):null,c}return K(o,a),o}(rn),ZN={},Fi=function(){function a(o,i){var l=i.sdkState,c=i.dispatcher,h=i.requestQueue,f=i.onlineDetector,m=i.cacheContext;this._iid=o,this._sdkState=l,this._requestQueue=h,this._dispatcher=c,this._cacheContext=m,this.fileMessageQueue=new eQ(o,{sdkState:l,dispatcher:c,requestQueue:h,onlineDetector:f,cacheContext:m}),ZN[o]=this}return a.of=function(o){return ZN[o]},a.prototype.buildMessageFromSerializedData=function(o){var i=yp(o);switch(i.messageType){case rr.USER:return new Ei(this._iid,Ei.payloadify(i));case rr.FILE:return new gr(this._iid,gr.payloadify(i));case rr.ADMIN:return new hd(this._iid,hd.payloadify(i))}return null},a.prototype.buildUserMessageCreateParamsFromSerializedData=function(o,i){return Ln({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:o.isReplyToChannel,pushNotificationDeliveryOption:o.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,message:i.message,translationTargetLanguages:Object.keys(i.translations),pollId:o.pollId})},a.prototype.buildFileMessageCreateParamsFromSerializedData=function(o,i){return Ln({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:o.isReplyToChannel,pushNotificationDeliveryOption:o.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,file:o.file,fileKey:o.fileKey,fileUrl:i.plainUrl,fileName:i.name,fileSize:i.size,mimeType:i.type,thumbnailSizes:i.thumbnails.map(function(l){return{maxWidth:l.width,maxHeight:l.height}}),fileType:o.fileType,requireAuth:i.requireAuth})},a.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(o,i){return he(he({},this.buildUserMessageCreateParamsFromSerializedData(o,i)),{scheduledAt:o.scheduledAt})},a.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(o,i){return he(he({},this.buildFileMessageCreateParamsFromSerializedData(o,i)),{scheduledAt:o.scheduledAt})},a.prototype.buildSenderFromSerializedData=function(o){var i=yp(o);return new wp(this._iid,wp.payloadify(i))},a.prototype.getMessage=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return i=new iQ(o),[4,this._requestQueue.send(i)];case 1:return[2,l.sent().as(aQ).message]}})})},a.prototype.getScheduledMessage=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return i=new lQ(o),[4,this._requestQueue.send(i)];case 1:return[2,l.sent().as(uQ).message]}})})},a.prototype.getMessagesByMessageId=function(o,i,l,c,h){return h===void 0&&(h=mr.REQUEST_MESSAGE),q(this,void 0,void 0,function(){var f,m,v;return z(this,function(b){switch(b.label){case 0:return f=new E1(he(he({channelType:i,channelUrl:o,token:String(l)},Rg),c)),[4,this._requestQueue.send(f)];case 1:return m=b.sent(),v=m.as(w1).messages,this._dispatcher.dispatch(new Xi({messages:v,source:h})),[2,v]}})})},a.prototype.getMessagesByTimestamp=function(o,i,l,c,h){return h===void 0&&(h=mr.REQUEST_MESSAGE),q(this,void 0,void 0,function(){var f,m,v;return z(this,function(b){switch(b.label){case 0:return f=new E1(he(he({channelType:i,channelUrl:o,timestamp:l},Rg),c)),[4,this._requestQueue.send(f)];case 1:return m=b.sent(),v=m.as(w1).messages,this._dispatcher.dispatch(new Xi({messages:v,source:h})),[2,v]}})})},a.prototype.getThreadedMessagesByTimestamp=function(o,i,l,c){return c===void 0&&(c=mr.REQUEST_THREADED_MESSAGE),q(this,void 0,void 0,function(){var h,f,m,v;return z(this,function(b){switch(b.label){case 0:return h=new E1(he(he(he({channelUrl:o.channelUrl,channelType:o.channelType,timestamp:i},Og),l),{replyType:ba.ALL,parentMessageId:o.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(h)];case 1:return f=b.sent(),m=f.as(w1).messages,(v=m.slice(1)).forEach(function(w){w.parentMessage=o}),this._dispatcher.dispatch(new Xi({messages:v,source:c})),[2,{parentMessage:m[0],threadedMessages:v}]}})})},a.prototype.getMessageChangelogs=function(o,i,l,c,h){return h===void 0&&(h=mr.REQUEST_MESSAGE_CHANGELOGS),q(this,void 0,void 0,function(){var f,m,v,b,w,C,H,F;return z(this,function($){switch($.label){case 0:return f=new sQ(Ln(he(he({channelType:i,channelUrl:o,timestamp:typeof l=="number"?l:null,token:typeof l=="string"?l:null},y1),c))),[4,this._requestQueue.send(f)];case 1:return m=$.sent(),v=m.as(oQ),b=v.updatedMessages,w=v.deletedMessagesInfo,C=v.hasMore,H=v.nextToken,F=w.map(function(B){return B.messageId}),b.length>0&&this._dispatcher.dispatch(new Xi({messages:b,source:h})),F.length>0&&this._dispatcher.dispatch(new nQ({messageIds:F,source:h})),[2,{updatedMessages:b,deletedMessageIds:F,hasMore:C,token:H}]}})})},a}(),x1=function(){function a(){this._onPending=$n,this._onFailed=$n,this._onSucceeded=$n}return a.prototype._trigger=function(o,i){switch(i.sendingStatus){case Kt.PENDING:i.errorCode===0&&this._onPending(i);break;case Kt.FAILED:case Kt.CANCELED:this._onFailed(o,i.scheduledInfo?null:i);break;case Kt.SCHEDULED:case Kt.SUCCEEDED:this._onSucceeded(i)}},a.prototype.onPending=function(o){return this._onPending=o,this},a.prototype.onFailed=function(o){return this._onFailed=o,this},a.prototype.onSucceeded=function(o){return this._onSucceeded=o,this},a}(),cQ=function(a){function o(i,l){var c=a.call(this,i)||this;c.threadInfo=null,c.targetMessageId=0,c.channelUrl=null,c.channelType=null;var h=l.thread_info,f=l.parent_message_id,m=l.channel_url,v=l.channel_type;return h&&fe("object",h)&&fe("number",f)&&fe("string",m)&&fe("string",v)&&(c.threadInfo=new p1(i,h),c.targetMessageId=f,c.channelUrl=m,c.channelType=v),c}return K(o,a),o}(zs),dQ={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},fd=function(){function a(o,i){var l;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=o,this.limit=(l=i.limit)!==null&&l!==void 0?l:20}return Object.defineProperty(a.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),a.prototype._validate=function(){return fe("number",this.limit)&&this.limit>0},a}(),hQ=function(a){function o(i){var l=i.channelCustomType,c=i.keyword,h=i.limit,f=i.reverse,m=i.exactMatch,v=i.channelUrl,b=i.order,w=i.messageTimestampFrom,C=i.messageTimestampTo,H=i.advancedQuery,F=i.targetFields,$=i.nextToken,B=a.call(this)||this;return B.method=Qe.GET,B.path="".concat(TK,"/messages"),B.params={custom_type:l,query:c,limit:h,reverse:f,exact_match:m,channel_url:v,message_ts_from:w,message_ts_to:C,sort_field:b,advanced_query:H,target_fields:F,after:$},B}return K(o,a),o}(Je),pQ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.messages=l.results.map(function(h){return vl(i,h)}),c.hasNext=l.has_next,c.nextToken=l.end_cursor,c.totalCount=l.total_count,c}return K(o,a),o}(rn);(function(a){a.SCORE="score",a.TIMESTAMP="ts"})(kp||(kp={}));var wi,k1,br,S1,fQ=function(a){function o(i,l){var c,h,f,m,v,b,w,C,H,F=this;return(F=a.call(this,i,l)||this).keyword="",F.reverse=!1,F.exactMatch=!1,F.channelUrl="",F.channelCustomType="",F.messageTimestampFrom=null,F.messageTimestampTo=null,F.order=kp.SCORE,F.advancedQuery=!1,F.targetFields=null,F._nextToken="",F.totalCount=-1,F.keyword=l.keyword,F.reverse=(c=l.reverse)!==null&&c!==void 0&&c,F.exactMatch=(h=l.exactMatch)!==null&&h!==void 0&&h,F.channelUrl=(f=l.channelUrl)!==null&&f!==void 0?f:"",F.channelCustomType=(m=l.channelCustomType)!==null&&m!==void 0?m:"",F.messageTimestampFrom=(v=l.messageTimestampFrom)!==null&&v!==void 0?v:null,F.messageTimestampTo=(b=l.messageTimestampTo)!==null&&b!==void 0?b:null,F.order=(w=l.order)!==null&&w!==void 0?w:kp.SCORE,F.advancedQuery=(C=l.advancedQuery)!==null&&C!==void 0&&C,F.targetFields=(H=l.targetFields)!==null&&H!==void 0?H:null,F}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)&&fe("string",this.keyword)&&this.keyword.length>0&&fe("boolean",this.reverse)&&fe("boolean",this.exactMatch)&&fe("string",this.channelUrl)&&fe("string",this.channelCustomType)&&(fe("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(fe("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&Dt(kp,this.order)&&fe("boolean",this.advancedQuery)&&it("string",this.targetFields,!0)},o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b;return z(this,function(w){switch(w.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid).requestQueue,l=new hQ(he(he({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,i.send(l)]):[3,2]:[3,5];case 1:return c=w.sent(),h=c.as(pQ),f=h.messages,m=h.hasNext,v=h.nextToken,b=h.totalCount,this._nextToken=v,this._hasNext=m,this._isLoading=!1,this.totalCount=b,[2,f];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(fd),Uu=function(a){function o(i,l,c,h){var f=a.call(this,i,h)||this;return f.channelUrl=l,f.channelType=c,f}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)&&fe("string",this.channelUrl)&&Dt(Qt,this.channelType)},o}(fd),gQ=function(a){function o(i,l,c,h){var f,m,v,b,w,C,H,F,$,B,W=this;return(W=a.call(this,i,l,c,h)||this).reverse=!1,W.messageTypeFilter=_a.ALL,W.customTypesFilter=null,W.senderUserIdsFilter=null,W.replyType=ba.NONE,W.includeMetaArray=!1,W.includeReactions=!1,W.includeParentMessageInfo=!1,W.includeThreadInfo=!1,W.showSubchannelMessagesOnly=!1,W._edge=Number.MAX_SAFE_INTEGER,W.reverse=(f=h.reverse)!==null&&f!==void 0&&f,W.messageTypeFilter=(m=h.messageTypeFilter)!==null&&m!==void 0?m:_a.ALL,W.customTypesFilter=(v=h.customTypesFilter)!==null&&v!==void 0?v:null,W.senderUserIdsFilter=(b=h.senderUserIdsFilter)!==null&&b!==void 0?b:null,W.replyType=(w=h.replyType)!==null&&w!==void 0?w:ba.NONE,W.includeMetaArray=(C=h.includeMetaArray)!==null&&C!==void 0&&C,W.includeReactions=(H=h.includeReactions)!==null&&H!==void 0&&H,W.includeParentMessageInfo=(F=h.includeParentMessageInfo)!==null&&F!==void 0&&F,W.includeThreadInfo=($=h.includeThreadInfo)!==null&&$!==void 0&&$,W.showSubchannelMessagesOnly=(B=h.showSubchannelMessagesOnly)!==null&&B!==void 0&&B,W}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)&&fe("boolean",this.reverse)&&Dt(_a,this.messageTypeFilter)&&Dt(ba,this.replyType)&&it("string",this.customTypesFilter,!0)&&it("string",this.senderUserIdsFilter,!0)&&fe("boolean",this.includeMetaArray)&&fe("boolean",this.includeReactions)&&fe("boolean",this.includeParentMessageInfo)&&fe("boolean",this.includeThreadInfo)&&fe("boolean",this.showSubchannelMessagesOnly)},o.prototype.load=function(){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Fi.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return i=l.sent(),this._edge=Math.min.apply(Math,Wt([Number.MAX_SAFE_INTEGER],Mt(i.map(function(c){return c.createdAt})),!1)),this._hasNext=i.length>=this.limit,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(Uu),mQ={channelUrl:null,scheduledMessageId:0},vQ=function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i.name="message",i}return K(o,a),o.prototype.init=function(i,l){var c=l.sdkState,h=l.dispatcher,f=l.sessionManager,m=l.requestQueue,v=l.logger,b=l.onlineDetector,w=l.cacheContext;a.prototype.init.call(this,i,{sdkState:c,dispatcher:h,sessionManager:f,requestQueue:m,logger:v,onlineDetector:b,cacheContext:w}),this._manager=new Fi(i,{sdkState:c,dispatcher:h,requestQueue:m,onlineDetector:b,cacheContext:w})},o.prototype.buildMessageFromSerializedData=function(i){return this._manager.buildMessageFromSerializedData(i)},o.prototype.buildSenderFromSerializedData=function(i){return this._manager.buildSenderFromSerializedData(i)},o.prototype.getMessage=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){return l=he(he({},dQ),i),an(function(h){return fe("string",h.channelUrl)&&fe("string",h.channelType)&&Dt(Qt,h.channelType)&&fe("number",h.messageId)&&fe("boolean",h.includeMetaArray)&&fe("boolean",h.includeParentMessageInfo)&&fe("boolean",h.includeThreadInfo)}(l)).throw(be.invalidParameters),[2,this._manager.getMessage(l)]})})},o.prototype.getScheduledMessage=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){return l=he(he({},mQ),i),an(function(h){return fe("string",h.channelUrl)&&fe("number",h.scheduledMessageId)}(l)).throw(be.invalidParameters),[2,this._manager.getScheduledMessage(l)]})})},o}(h1);(function(a){a.SUCCESS="success",a.PENDING="pending",a.ERROR="error"})(wi||(wi={})),function(a){a.DEFAULT="default",a.ALL="all",a.MENTION_ONLY="mention_only",a.OFF="off"}(k1||(k1={})),function(a){a.FCM="gcm",a.APNS="apns",a.UNKNOWN="unknown"}(br||(br={})),function(a){a.ALTERNATIVE="alternative",a.DEFAULT="default"}(S1||(S1={}));var _l,JN,e6,_Q=function(a){function o(i){var l=i.title,c=i.optionTexts,h=i.data,f=i.allowUserSuggestion,m=i.allowMultipleVotes,v=i.closeAt,b=a.call(this)||this;return b.method=Qe.POST,b.path=ds,b.params={title:l,options:c,data:h,allow_user_suggestion:f,allow_multiple_votes:m,close_at:v},b}return K(o,a),o}(Je),bQ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.poll=new La(i,l),c}return K(o,a),o}(rn),yQ=function(a){function o(i){var l=i.channelUrl,c=i.channelType,h=i.pollId,f=a.call(this)||this;return f.method=Qe.GET,f.path="".concat(ds,"/").concat(encodeURIComponent(h)),f.params={channel_url:l,channel_type:c},f}return K(o,a),o}(Je),EQ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.poll=new La(i,l),c}return K(o,a),o}(rn),wQ=function(a){function o(i){var l=i.channelUrl,c=i.channelType,h=i.pollId,f=i.pollOptionId,m=a.call(this)||this;return m.method=Qe.GET,m.path="".concat(ds,"/").concat(encodeURIComponent(h),"/options/").concat(encodeURIComponent(f)),m.params={channel_url:l,channel_type:c},m}return K(o,a),o}(Je),xQ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.pollOption=new Ag(i,l),c}return K(o,a),o}(rn),kQ=function(a){function o(i){var l=i.channelType,c=i.channelUrl,h=i.timestamp,f=i.token,m=a.call(this)||this;return m.method=Qe.GET,m.path="".concat(wt(l),"/").concat(encodeURIComponent(c),"/polls/changelogs"),m.params=Ln({change_ts:h,token:f}),m}return K(o,a),o}(Je),SQ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.updatedPolls=l.updated.map(function(h){return function(f,m){return m?new La(f,m):null}(i,h)}),c.deletedPollIds=l.deleted.map(function(h){return h}),c.hasMore=l.has_more,c.nextToken=l.next,c}return K(o,a),o}(rn),CQ={title:null,optionTexts:null,data:null,allowUserSuggestion:null,allowMultipleVotes:null,closeAt:-1},n6=function(a){return fe("string",a.title)&&function(o){return it("string",o)&&o.every(function(i){return i.trim()!==""})}(a.optionTexts)&&VN(a.data)&&fe("boolean",a.allowUserSuggestion,!0)&&fe("boolean",a.allowMultipleVotes,!0)&&fe("number",a.closeAt,!0)},TQ={channelUrl:null,channelType:null,pollId:null,pollOptionId:null},t6=function(a){return fe("string",a.channelUrl)&&Dt(Qt,a.channelType)&&fe("number",a.pollId)&&fe("number",a.pollOptionId)},IQ={channelUrl:null,channelType:null,pollId:null},r6=function(a){return fe("string",a.channelUrl)&&a.channelUrl!==""&&Dt(Qt,a.channelType)&&fe("number",a.pollId)},i6={},C1=function(){function a(o,i){var l=i.sdkState,c=i.dispatcher,h=i.sessionManager,f=i.requestQueue,m=i.logger;this._iid=o,this._sdkState=l,this._sessionManager=h,this._requestQueue=f,this._dispatcher=c,this._logger=m,i6[o]=this}return a.of=function(o){return i6[o]},a.prototype.buildPollFromSerializedData=function(o){var i=yp(o);return new La(this._iid,La.payloadify(i))},a.prototype.get=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return an(r6(o)).throw(be.invalidParameters),i=new yQ(he({},o)),[4,this._requestQueue.send(i)];case 1:return[2,l.sent().as(EQ).poll]}})})},a.prototype.create=function(o){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:return an(n6(o)).throw(be.invalidParameters),i=o.data,l=new _Q(he(he({},o),{data:i})),[4,this._requestQueue.send(l)];case 1:return[2,c.sent().as(bQ).poll]}})})},a.prototype.getOption=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return an(t6(o)).throw(be.invalidParameters),i=new wQ(he({},o)),[4,this._requestQueue.send(i)];case 1:return[2,l.sent().as(xQ).pollOption]}})})},a.prototype.getPollChangeLogs=function(o,i,l,c){return c===void 0&&(c=mr.SYNC_POLL_CHANGELOGS),q(this,void 0,void 0,function(){var h,f,m,v,b,w,C;return z(this,function(H){switch(H.label){case 0:return h=new kQ(Ln({channelType:i,channelUrl:o,timestamp:typeof l=="number"?l:null,token:typeof l=="string"?l:null})),[4,this._requestQueue.send(h)];case 1:return f=H.sent(),m=f.as(SQ),v=m.updatedPolls,b=m.deletedPollIds,w=m.hasMore,C=m.nextToken,v.length>0&&this._dispatcher.dispatch(new tQ({polls:v,source:c})),[2,{updatedPolls:v,deletedPollIds:b,hasMore:w,token:C}]}})})},a}(),NQ=function(a,o){this.pollId=0,this.messageId=0,this.pollId=o.poll.id,this.messageId=o.poll.message_id,this._iid=a,this._payload=o},OQ=function(a){this.pollId=0,this.messageId=0,this.pollId=a.poll_id,this.messageId=a.message_id,this._payload=a},AQ=function(a){function o(i){var l=i.channelUrl,c=i.channelType,h=i.token,f=i.limit,m=a.call(this)||this;return m.method=Qe.GET,m.path=ds,m.params={channel_url:l,channel_type:c,token:h,limit:f},m}return K(o,a),o}(Je),RQ=function(a){function o(i,l){var c,h=this;return(h=a.call(this,i,l)||this).polls=((c=l.polls)!==null&&c!==void 0?c:[]).map(function(f){return new La(i,f)}),h.token=l.next,h}return K(o,a),o}(rn),a6=function(a){function o(i,l){return a.call(this,i,l.channelUrl,l.channelType,l)||this}return K(o,a),o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid).requestQueue,l=new AQ(he(he({},this),{token:this._token})),[4,i.send(l)]):[3,2]:[3,5];case 1:return c=v.sent(),h=c.as(RQ),f=h.polls,m=h.token,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(Uu),MQ=function(a){function o(i){var l=i.channelUrl,c=i.channelType,h=i.pollId,f=i.pollOptionId,m=i.token,v=i.limit,b=a.call(this)||this;return b.method=Qe.GET,b.path="".concat(ds,"/").concat(encodeURIComponent(h),"/options/").concat(encodeURIComponent(f),"/voters"),b.params={channel_url:l,channel_type:c,token:m,limit:v},b}return K(o,a),o}(Je),DQ=function(a){function o(i,l){var c,h=this;return(h=a.call(this,i,l)||this).voters=((c=l.voters)!==null&&c!==void 0?c:[]).map(function(f){return new Vn(i,f)}),h.token=l.next,h}return K(o,a),o}(rn),s6=function(a){function o(i,l){var c=a.call(this,i,l.channelUrl,l.channelType,l)||this;return c.pollId=l.pollId,c.pollOptionId=l.pollOptionId,c}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)&&fe("number",this.pollId)&&fe("number",this.pollOptionId)},o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid).requestQueue,l=new MQ(he(he({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,i.send(l)]):[3,2]:[3,5];case 1:return c=v.sent(),h=c.as(DQ),f=h.voters,m=h.token,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(Uu),UQ=function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i.name="poll",i}return K(o,a),o.prototype.init=function(i,l){var c=l.sdkState,h=l.dispatcher,f=l.sessionManager,m=l.requestQueue,v=l.logger,b=l.onlineDetector,w=l.cacheContext;a.prototype.init.call(this,i,{sdkState:c,dispatcher:h,sessionManager:f,requestQueue:m,logger:v,onlineDetector:b,cacheContext:w}),this._manager=new C1(i,{sdkState:c,dispatcher:h,sessionManager:f,requestQueue:m,logger:v,onlineDetector:b,cacheContext:w})},o.prototype.create=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){return l=he(he({},CQ),i),an(n6(l)).throw(be.invalidParameters),[2,this._manager.create(l)]})})},o.prototype.get=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){return l=he(he({},IQ),i),an(r6(l)).throw(be.invalidParameters),[2,this._manager.get(l)]})})},o.prototype.getOption=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){return l=he(he({},TQ),i),an(t6(l)).throw(be.invalidParameters),[2,this._manager.getOption(l)]})})},o.prototype.buildPollFromSerializedData=function(i){return this._manager.buildPollFromSerializedData(i)},o}(h1),LQ={profileImage:null,profileUrl:null,nickname:null},PQ=function(a){function o(i){i===void 0&&(i={});var l=a.call(this)||this;return Object.keys(i).forEach(function(c){l.hasOwnProperty(c)&&(l[c]=i[c])}),l}return K(o,a),o}(function(){this.onSessionExpired=$n,this.onSessionTokenRequired=function(a){return a(null)},this.onSessionError=$n,this.onSessionRefreshed=$n,this.onSessionClosed=$n}),FQ=function(a){function o(i){i===void 0&&(i={});var l=a.call(this)||this;return Object.keys(i).forEach(function(c){l.hasOwnProperty(c)&&(l[c]=i[c])}),l}return K(o,a),o}(function(){this.onConnected=$n,this.onReconnectStarted=$n,this.onReconnectSucceeded=$n,this.onReconnectFailed=$n,this.onDisconnected=$n}),HQ=function(a){function o(i){i===void 0&&(i={});var l=a.call(this)||this;return Object.keys(i).forEach(function(c){l.hasOwnProperty(c)&&(l[c]=i[c])}),l}return K(o,a),o}(function(){this.onFriendsDiscovered=$n,this.onTotalUnreadMessageCountUpdated=$n});(function(a){a.LATEST_LAST_MESSAGE="latest_last_message",a.CHRONOLOGICAL="chronological",a.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",a.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(_l||(_l={})),function(a){a.CHRONOLOGICAL="chronological",a.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",a.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(JN||(JN={})),function(a){a.CREATED_AT="created_at",a.SCHEDULED_AT="scheduled_at"}(e6||(e6={}));var qr,T1=function(a){switch(a){case _l.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case _l.CHRONOLOGICAL:return["-createdAt","syncIndex"];case _l.CHANNEL_NAME_ALPHABETICAL:return["name"]}},Mg=function(){function a(){this.messageTypeFilter=_a.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=ba.NONE}return a.prototype.clone=function(){var o=new a,i=JSON.parse(JSON.stringify(this));return Object.keys(i).forEach(function(l){o[l]=i[l]}),o},a.prototype.match=function(o){switch(this.messageTypeFilter){case _a.USER:if(o.messageType!==rr.USER)return!1;break;case _a.FILE:if(o.messageType!==rr.FILE)return!1;break;case _a.ADMIN:if(o.messageType!==rr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(o.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(o instanceof xp)||!this.senderUserIdsFilter.includes(o.sender.userId)))return!1;switch(this.replyType){case ba.NONE:if(o.parentMessageId>0)return!1;break;case ba.ONLY_REPLY_TO_CHANNEL:if(o instanceof xp&&o.parentMessageId>0&&!o.replyToChannel)return!1}return!0},a}();(function(a){a.CHANNEL_LATEST="channel_latest",a.NEWEST_CHILD_MESSAGE="newest_child_message"})(qr||(qr={}));var gd,_o=function(a){switch(a){case qr.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case qr.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},I1={data:null,customType:null,mentionType:yi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null,isPinnedMessage:!1},o6=function(a){return fe("string",a.data,!0)&&fe("string",a.customType,!0)&&Dt(yi,a.mentionType)&&it("string",a.mentionedUserIds,!0)&&it(Vn,a.mentionedUsers,!0)&&fe("string",a.mentionedMessageTemplate,!0)&&it(ya,a.metaArrays,!0)&&fe("number",a.parentMessageId,!0)&&fe("boolean",a.isReplyToChannel)&&Dt(pl,a.pushNotificationDeliveryOption,!0)&&fe(gl,a.appleCriticalAlertOptions,!0)&&fe("boolean",a.isPinnedMessage,!0)},l6=function(a){return a?{isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption,pollId:a.pollId}:null},u6=he(he({},I1),{message:null,translationTargetLanguages:null,pollId:null});(function(a){a.FILE="file",a.BLOB="blob",a.BLOB_LIKE_OBJECT="blobLikeObject",a.URL="url"})(gd||(gd={}));var N1=function(a){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&a instanceof Blob},c6=function(a){return a===gd.BLOB||a===gd.FILE},d6=function(a){return a?{file:a.file,fileKey:a.fileKey,fileType:a.fileType,isReplyToChannel:a.isReplyToChannel,pushNotificationDeliveryOption:a.pushNotificationDeliveryOption}:null},h6=he(he({},I1),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),p6=function(a){return o6(a)&&(ga(a.file)||fe("string",a.fileUrl))&&fe("string",a.fileName,!0)&&fe("string",a.mimeType,!0)&&fe("number",a.fileSize,!0)&&(a.thumbnailSizes===null||Array.isArray(a.thumbnailSizes)&&a.thumbnailSizes.every(function(o){return fe("object",o)&&o.maxWidth>0&&o.maxHeight>0}))},bo=typeof document<"u"&&typeof navigator<"u";bo&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var zQ=bo&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");bo&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),bo&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),bo&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var Sp,Zr,qQ=bo&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),f6=function(){var a=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var i=(a+16*Math.random())%16|0;return a=Math.floor(a/16),(o==="x"?i:3&i|8).toString(16)})};(function(a){a[a.PROCESSING=0]="PROCESSING",a[a.DONE=1]="DONE"})(Sp||(Sp={})),function(a){a.NEWNODE="newnode",a.REMOVENODE="removenode",a.CLAIM_HOST="claimhost",a.SYNC_HOST="synchost",a.REQUEST_LOCK="requestlock",a.ACQUIRE_LOCK="acquirelock",a.RELEASE_LOCK="releaselock"}(Zr||(Zr={}));var O1,A1={},R1=function(){function a(o,i){i===void 0&&(i={});var l=this;return this._state=Sp.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],A1[o]&&!i.forceCreate||(this.nodeId=f6(),this.key=o,bo&&(i.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&l.claimHost()}),window.addEventListener("message",function(c){var h,f,m=c.data,v=m.nodeId,b=m.requestId,w=m.key,C=m.op,H=m.data;if(v!==l.nodeId&&w===l.key)switch(C){case Zr.NEWNODE:l._sendSync();break;case Zr.CLAIM_HOST:l._sendSync(),l._hostId=v;break;case Zr.SYNC_HOST:if(!l.isInSync){l._activationTimeout&&clearTimeout(l._activationTimeout);var F=H,$=F.currentItemRequestId,B=F.queue,W=function(Oe){l._queue.findIndex(function(te){return te.requestId===Oe.requestId})<0&&l._requestLock({nodeId:Oe.nodeId,requestId:Oe.requestId,key:l.key,op:Zr.REQUEST_LOCK,ts:Oe.ts})};try{for(var ie=Rn(B),Z=ie.next();!Z.done;Z=ie.next())W(Z.value)}catch(Oe){h={error:Oe}}finally{try{Z&&!Z.done&&(f=ie.return)&&f.call(ie)}finally{if(h)throw h.error}}l._currentItem=l._queue.find(function(Oe){return Oe.requestId===$}),l._completeSync()}break;case Zr.REMOVENODE:l._queue=l._queue.filter(function(Oe){return Oe.nodeId!==m.nodeId}),l._currentItem&&l._currentItem.nodeId===m.nodeId&&(l._currentItem=null,l._acquire(l._queue[0]));break;case Zr.REQUEST_LOCK:l._requestLock(m);break;case Zr.ACQUIRE_LOCK:var pe=l._queue.find(function(Oe){return Oe.requestId===b});l._acquire(pe);break;case Zr.RELEASE_LOCK:l._release(b)}}),window.addEventListener("beforeunload",function(){l._send(Zr.REMOVENODE)})),A1[o]=this),A1[o]}return Object.defineProperty(a.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isInSync",{get:function(){return this._state==Sp.DONE},enumerable:!1,configurable:!0}),a.prototype._send=function(o,i){var l,c;i===void 0&&(i={});var h={nodeId:this.nodeId,requestId:(l=i==null?void 0:i.requestId)!==null&&l!==void 0?l:f6(),key:this.key,op:o,data:(c=i.data)!==null&&c!==void 0?c:null,ts:Date.now()};return bo&&window.postMessage(h,"*"),h},a.prototype._acquire=function(o){o===void 0&&(o=null),o?(this._currentItem=o,this._currentItem.onAcquired(o.requestId)):this._currentItem=null},a.prototype._release=function(o){if(this._currentItem&&this._currentItem.requestId===o){var i=this._currentItem;this._currentItem=null,i.nodeId===this.nodeId&&this._send(Zr.RELEASE_LOCK,{requestId:i.requestId});var l=this._queue.findIndex(function(c){return c.requestId===o});l>-1&&this._queue.splice(l,1),i.onReleased(o)}},a.prototype._requestLock=function(o){var i=this;return new Promise(function(l){var c={nodeId:o.nodeId,requestId:o.requestId,ts:o.ts,onAcquired:function(m){i.isHost&&i._send(Zr.ACQUIRE_LOCK,{requestId:m}),l()},onReleased:function(){i._acquire(i._queue[0])}},h=!1;for(var f in i._queue)if(i._queue[f].ts>c.ts){i._queue.splice(parseInt(f),0,c),h=!0;break}h||i._queue.push(c),i._currentItem||i._acquire(i._queue[0])})},a.prototype._sendSync=function(){var o;this.isHost&&this._send(Zr.SYNC_HOST,{data:{currentItemRequestId:(o=this._currentItem)===null||o===void 0?void 0:o.requestId,queue:this._queue.map(function(i){return{nodeId:i.nodeId,requestId:i.requestId,ts:i.ts}})}})},a.prototype._waitUntilSyncCompleted=function(){return q(this,void 0,void 0,function(){var o=this;return z(this,function(i){return this.isHost&&!this.isInSync?[2,new Promise(function(l){o._activationQueue.push(l)})]:[2]})})},a.prototype._waitSync=function(){var o=this;this.isInSync||(this._activationTimeout=setTimeout(function(){o._completeSync()},8))},a.prototype._completeSync=function(){this.isInSync||(this._state=Sp.DONE,this._activationQueue.forEach(function(o){return o()}),this._activationQueue=[])},a.prototype.registerNode=function(){this._send(Zr.NEWNODE),this._waitSync()},a.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(Zr.CLAIM_HOST),this._waitSync()},a.prototype.lock=function(){return q(this,void 0,void 0,function(){var o;return z(this,function(i){switch(i.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return i.sent(),o=this._send(Zr.REQUEST_LOCK),[4,this._requestLock(o)];case 2:return i.sent(),[2]}})})},a.prototype.unlock=function(){var o;this._release((o=this._currentItem)===null||o===void 0?void 0:o.requestId)},a}();he(he({},u6),{scheduledAt:null}),he(he({},I1),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1});var g6={},m6=function(a){function o(i,l){var c=l.sdkState,h=l.cacheContext,f=a.call(this,i)||this;return f._sdkState=c,f._cacheContext=h,g6[i]=f,f._mutex=new R1("unsendmessagecache.lock"),f}return K(o,a),o.of=function(i){return g6[i]},Object.defineProperty(o.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb;return i&&i.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),o.prototype._serialize=function(i){if(i.messageId>0)throw be.invalidParameters;var l,c=he({},i.serialize());return i instanceof Ei?(i.messageParams&&(c.messageParams=l6(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(c.scheduledInfo.scheduledMessageParams=(l=i.scheduledInfo.scheduledMessageParams,he(he({},l6(l)),{scheduledAt:l.scheduledAt})))):i instanceof gr&&(i.messageParams&&(c.messageParams=d6(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(c.scheduledInfo.scheduledMessageParams=function(h){return he(he({},d6(h)),{scheduledAt:h.scheduledAt})}(i.scheduledInfo.scheduledMessageParams))),c},o.prototype._deserialize=function(i){return i?(i=he(he({},i),{messageId:parseInt(i.messageId)}),Fi.of(this._iid).buildMessageFromSerializedData(i)):null},o.prototype._deserializeWithMessageCreateParams=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:return l=Fi.of(this._iid),c=this._deserialize(i),i.messageParams?c instanceof Ei?(h=i.messageParams,c.messageParams=l.buildUserMessageCreateParamsFromSerializedData(h,c),[3,4]):[3,1]:[3,4];case 1:return c instanceof gr?(h=i.messageParams).fileKey&&typeof h.fileKey=="string"&&c6(h.fileType)?(f=h,[4,this.collection.getBlob(h.fileKey)]):[3,3]:[3,4];case 2:f.file=b.sent(),b.label=3;case 3:c.messageParams=l.buildFileMessageCreateParamsFromSerializedData(h,c),b.label=4;case 4:return c.scheduledInfo&&i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams?c instanceof Ei?(m=i.scheduledInfo.scheduledMessageParams,c.scheduledInfo.scheduledMessageParams=l.buildScheduledUserMessageCreateParamsFromSerializedData(m,c),[3,8]):[3,5]:[3,8];case 5:return c instanceof gr?(m=i.scheduledInfo.scheduledMessageParams).fileKey&&typeof m.fileKey=="string"&&c6(m.fileType)?(v=m,[4,this.collection.getBlob(m.fileKey)]):[3,7]:[3,8];case 6:v.file=b.sent(),b.label=7;case 7:c.scheduledInfo.scheduledMessageParams=l.buildScheduledFileMessageCreateParamsFromSerializedData(m,c),b.label=8;case 8:return[2,c]}})})},o.prototype.get=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(l=c.sent())return[2,this._deserializeWithMessageCreateParams(l)];c.label=2;case 2:return[2,null]}})})},o.prototype.fetch=function(i){var l=i.channelUrl,c=l===void 0?null:l,h=i.filter,f=h===void 0?new Mg:h,m=i.order,v=m===void 0?qr.CHANNEL_LATEST:m,b=i.sendingStatus,w=b===void 0?null:b,C=i.backward,H=C!==void 0&&C,F=i.parentMessageId,$=F===void 0?null:F;return q(this,void 0,void 0,function(){var B,W,ie,Z,pe=this;return z(this,function(Oe){switch(Oe.label){case 0:return this.localCacheEnabled?(B=_o(v),W={"/where":function(te){return!!(v!==qr.NEWEST_CHILD_MESSAGE||$&&te.parentMessageId!==0&&te.parentMessageId===$)&&f.match(pe._deserialize(te))}},c&&(W.channelUrl=c),w&&(W.sendingStatus=w),ie={where:W,index:B,backward:H},[4,this.collection.query(ie)]):[3,3];case 1:return[4,Oe.sent().fetch({})];case 2:return Z=Oe.sent(),[2,Promise.all(Z.map(function(te){return q(pe,void 0,void 0,function(){return z(this,function(X){switch(X.label){case 0:return[4,this._deserializeWithMessageCreateParams(te)];case 1:return[2,X.sent()]}})})}))];case 3:return[2,[]]}})})},o.prototype.getAllChildMessages=function(i,l){return l===void 0&&(l=new Mg),q(this,void 0,void 0,function(){return z(this,function(c){switch(c.label){case 0:return[4,this.fetch({filter:l,order:qr.NEWEST_CHILD_MESSAGE,channelUrl:i.channelUrl,backward:!1,parentMessageId:i.messageId})];case 1:return[2,c.sent()]}})})},o.prototype.upsert=function(i){return q(this,void 0,void 0,function(){var l=this;return z(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(h){return q(l,void 0,void 0,function(){var f;return z(this,function(m){switch(m.label){case 0:return h instanceof gr?[4,this._mutex.lock()]:[3,4];case 1:return m.sent(),[4,this.saveBlob(h)];case 2:return m.sent(),[4,this._mutex.unlock()];case 3:m.sent(),m.label=4;case 4:return f=this._serialize(h),[4,this.collection.upsertOne(f)];case 5:return m.sent(),[2]}})})}))]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},o.prototype.upsertChildMessages=function(i){return q(this,void 0,void 0,function(){var l=this;return z(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(h){return q(l,void 0,void 0,function(){var f,m;return z(this,function(v){switch(v.label){case 0:return f=[],((m=h.threadInfo)===null||m===void 0?void 0:m.replyCount)>0?[4,this.getAllChildMessages(h)]:[3,2];case 1:f=v.sent(),v.label=2;case 2:return f.length>0?(f.forEach(function(b){return b.applyParentMessage(h)}),[4,this.upsert(f)]):[3,4];case 3:v.sent(),v.label=4;case 4:return[2]}})})}))]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},o.prototype.remove=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:if(!this.localCacheEnabled)return[3,8];b.label=1;case 1:b.trys.push([1,6,7,8]),l=Rn(i),c=l.next(),b.label=2;case 2:return c.done?[3,5]:(h=c.value,[4,this.collection.remove(h)]);case 3:b.sent(),b.label=4;case 4:return c=l.next(),[3,2];case 5:return[3,8];case 6:return f=b.sent(),m={error:f},[3,8];case 7:try{c&&!c.done&&(v=l.return)&&v.call(l)}finally{if(m)throw m.error}return[7];case 8:return[2]}})})},o.prototype.removeMessagesOfChannel=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){switch(l.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i}})]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},o.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},o.prototype.saveBlob=function(i){return q(this,void 0,void 0,function(){var l,c,h;return z(this,function(f){switch(f.label){case 0:return i instanceof gr?i.messageParams&&(l=i.messageParams).file&&N1(l.file)?[4,this.collection.saveBlob(l.file,i.reqId)]:[3,2]:[3,4];case 1:h=f.sent(),l.fileKey=h,l.fileType=gd.BLOB,f.label=2;case 2:return i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(c=i.scheduledInfo.scheduledMessageParams).file&&N1(c.file)?[4,this.collection.saveBlob(c.file,i.reqId)]:[3,4];case 3:h=f.sent(),c.fileKey=h,c.fileType=gd.BLOB,f.label=4;case 4:return[2]}})})},o}(zs),v6={},BQ=function(a){function o(i,l){var c=l.sdkState,h=l.cacheContext,f=l.unsentMessageCache,m=a.call(this,i)||this;return m._sdkState=c,m._cacheContext=h,m._unsentMessageCache=f,v6[i]=m,m}return K(o,a),o.of=function(i){return v6[i]},Object.defineProperty(o.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb;return i?i.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),o.prototype._serialize=function(i){return he(he({},i.serialize()),{messageId:"".concat(i.messageId)})},o.prototype._deserialize=function(i){return i=he(he({},i),{messageId:parseInt(i.messageId)}),Fi.of(this._iid).buildMessageFromSerializedData(i)},o.prototype.get=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(l=c.sent())return[2,this._deserialize(l)];c.label=2;case 2:return[2,null]}})})},o.prototype.fetch=function(i){var l=i.channelUrl,c=i.token,h=i.limit,f=h===void 0?100:h,m=i.filter,v=m===void 0?new Mg:m,b=i.order,w=b===void 0?qr.CHANNEL_LATEST:b,C=i.backward,H=C!==void 0&&C,F=i.parentMessageId,$=F===void 0?null:F,B=i.isPollOnly,W=B!==void 0&&B;return q(this,void 0,void 0,function(){var ie,Z,pe,Oe=this;return z(this,function(te){switch(te.label){case 0:return this.localCacheEnabled?(ie=_o(w),Z={where:{channelUrl:l,"/where":function(X){if(c)switch(w){case qr.CHANNEL_LATEST:if(!H&&X.createdAt>c||H&&X.createdAt<c)return!1;break;case qr.NEWEST_CHILD_MESSAGE:if(!$||X.parentMessageId===0||X.parentMessageId!==$)return!1}return!(W&&!X._poll)&&v.match(Oe._deserialize(X))}},index:ie,backward:H},[4,this.collection.query(Z)]):[3,3];case 1:return[4,te.sent().fetch({limit:f})];case 2:return pe=te.sent(),[2,Promise.all(pe.map(function(X){return q(Oe,void 0,void 0,function(){return z(this,function(Se){return[2,this._deserialize(X)]})})}))];case 3:return[2,[]]}})})},o.prototype.getAllChildMessages=function(i,l){return l===void 0&&(l=new Mg),q(this,void 0,void 0,function(){return z(this,function(c){switch(c.label){case 0:return[4,this.fetch({channelUrl:i.channelUrl,token:Date.now(),limit:null,backward:!1,filter:l,order:qr.NEWEST_CHILD_MESSAGE,parentMessageId:i.messageId})];case 1:return[2,c.sent()]}})})},o.prototype.upsert=function(i){return q(this,void 0,void 0,function(){var l,c=this;return z(this,function(h){switch(h.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(i)]:[3,5];case 1:return h.sent(),l=i.map(function(f){return c._serialize(f)}),[4,this.collection.upsertMany(l)];case 2:return h.sent(),[4,this.upsertChildMessages(i)];case 3:return h.sent(),[4,this._unsentMessageCache.upsertChildMessages(i)];case 4:h.sent(),h.label=5;case 5:return[2]}})})},o.prototype.upsertChildMessages=function(i){return q(this,void 0,void 0,function(){var l=this;return z(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(h){return q(l,void 0,void 0,function(){var f,m;return z(this,function(v){switch(v.label){case 0:return f=[],((m=h.threadInfo)===null||m===void 0?void 0:m.replyCount)>0?[4,this.getAllChildMessages(h)]:[3,2];case 1:f=v.sent(),v.label=2;case 2:return f.length>0?(f.forEach(function(b){return b.applyParentMessage(h)}),[4,this.upsert(f)]):[3,4];case 3:v.sent(),v.label=4;case 4:return[2]}})})}))]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},o.prototype.remove=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:if(!this.localCacheEnabled)return[3,8];b.label=1;case 1:b.trys.push([1,6,7,8]),l=Rn(i),c=l.next(),b.label=2;case 2:return c.done?[3,5]:(h=c.value,[4,this.collection.remove("".concat(h))]);case 3:b.sent(),b.label=4;case 4:return c=l.next(),[3,2];case 5:return[3,8];case 6:return f=b.sent(),m={error:f},[3,8];case 7:try{c&&!c.done&&(v=l.return)&&v.call(l)}finally{if(m)throw m.error}return[7];case 8:return[2]}})})},o.prototype.removeMessagesOfChannel=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i},index:_o(qr.CHANNEL_LATEST)})]:[3,6];case 1:return c.sent(),[4,(l=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync"))];case 2:return c.sent(),[4,l.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync.meta"))];case 3:return c.sent(),[4,l.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs"))];case 4:return c.sent(),[4,l.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs.meta"))];case 5:c.sent(),c.label=6;case 6:return[2]}})})},o.prototype.removeUnderOffset=function(i,l){return q(this,void 0,void 0,function(){return z(this,function(c){switch(c.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i,createdAt:{"<":l}},index:_o(qr.CHANNEL_LATEST)})]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},o.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},o.prototype.countBetween=function(i,l,c){return q(this,void 0,void 0,function(){var h,f=this;return z(this,function(m){switch(m.label){case 0:return this.localCacheEnabled?(h=_o(qr.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:i,"/where":function(v){var b=f._deserialize(v);return c.includes(b.createdAt)&&l.match(b)}},index:h}).count()]):[3,2];case 1:return[2,m.sent()];case 2:return[2,0]}})})},o.prototype.saveBlobs=function(i){return q(this,void 0,void 0,function(){var l=this;return z(this,function(c){switch(c.label){case 0:return[4,Promise.all(i.map(function(h){return q(l,void 0,void 0,function(){var f,m;return z(this,function(v){switch(v.label){case 0:return h instanceof gr&&h.messageParams&&(f=h.messageParams).file&&N1(f.file)?[4,this.collection.saveBlob(f.file,h.reqId)]:[3,2];case 1:m=v.sent(),f.fileKey=m,v.label=2;case 2:return[2]}})})}))];case 1:return c.sent(),[2]}})})},o}(zs),jQ=function(a){function o(i){i===void 0&&(i=!0);var l=a.call(this)||this;return l._pauseDelayTimer=null,l._currentState="visible",l._isEnabled=i,l._toggleState=l._toggleState.bind(l),l}return K(o,a),Object.defineProperty(o.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),o.prototype._toggleState=function(){var i=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){i._pauseDelayTimer=null,i.dispatch("pause")},3e4)),this._currentState=document.visibilityState},o.prototype.start=function(){this._isEnabled&&this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState,{capture:!0})},o.prototype.stop=function(){this._isEnabled&&this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState,{capture:!0})},o}(ip),GQ=function(){function a(o){var i=o.logger,l=o.connectionDelegate,c=l===void 0?null:l,h=this;this._onlineWorker=function(){var f;return(f=h.connectionDelegate)===null||f===void 0?void 0:f.reconnect()},this._offlineWorker=function(){var f;return(f=h.connectionDelegate)===null||f===void 0?void 0:f.disconnect()},this.unsubscribes=[],this._onlineListener=function(f){if(h.isAvailableOnWeb)return window.addEventListener("online",f),function(){return window.removeEventListener("online",f,!1)}},this._offlineListener=function(f){if(h.isAvailableOnWeb)return window.addEventListener("offline",f),function(){return window.removeEventListener("offline",f,!1)}},this.logger=i,c&&(this.connectionDelegate=c)}return Object.defineProperty(a.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),a.prototype.setOnlineListener=function(o){Boolean(o)&&typeof o=="function"&&(this._onlineListener=o)},a.prototype.setOfflineListener=function(o){Boolean(o)&&typeof o=="function"&&(this._offlineListener=o)},a.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},a.prototype.stop=function(){var o=this;this.unsubscribes.forEach(function(i){try{i==null||i()}catch(l){o.logger.warn(l.message)}}),this.unsubscribes=[]},a.prototype.isOnline=function(){return q(this,void 0,void 0,function(){return z(this,function(o){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise(function(i){fetch("https://www.google.com",{method:Qe.GET,mode:"no-cors"}).then(function(){return i(!0)}).catch(function(){return i(!1)})})]})})},a}(),$Q=function(a){function o(i){var l=i.message,c=a.call(this)||this;return c.message=l,c}return K(o,a),o}(Sr),M1={},VQ=function(){function a(o,i){var l=i.localCacheEnabled,c=i.dispatcher,h=i.sdkState,f=i.logger,m=this;M1[o]=this,this._iid=o,M1[o]=this,this._localCacheEnabled=l,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=c,this._logger=f,this._sdkState=h,this._localCacheEnabled&&c.on(function(v){if(v instanceof Nu)switch(v.stateType){case Et.CONNECTED:m._isProcessingAutoResend||m.processAutoResendRegisteredPendingMessages().then(function(){return m._processNextAutoResend()});break;case Et.INTERNAL_DISCONNECTED:case Et.EXTERNAL_DISCONNECTED:m._isProcessingAutoResend=!1}})}return a.of=function(o){return M1[o]},a.prototype.processNonAutoResendRegisteredPendingMessages=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h,f;return z(this,function(m){switch(m.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:o=m.sent();try{for(i=Rn(o),l=i.next();!l.done;l=i.next())(c=l.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",c.reqId),c.sendingStatus=Kt.FAILED,c.errorCode=Gn.ACK_TIMEOUT,this._dispatcher.dispatch(new Xi({messages:[c],source:mr.LOCAL_MESSAGE_FAILED})))}catch(v){h={error:v}}finally{try{l&&!l.done&&(f=i.return)&&f.call(i)}finally{if(h)throw h.error}}return[2]}})})},a.prototype.processAutoResendRegisteredPendingMessages=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:o=b.sent();try{for(i=Rn(o),l=i.next();!l.done;l=i.next())(c=l.value).errorCode&&hg(c.errorCode)&&(h=new Date().getTime(),f=c.createdAt+2592e5,h<=f?this._autoResendQueue.map(function(w){return w.reqId}).indexOf(c.reqId)<0&&this._autoResendQueue.push(c):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(f).toLocaleString()),c.sendingStatus=Kt.FAILED,this._dispatcher.dispatch(new Xi({messages:[c],source:mr.LOCAL_MESSAGE_FAILED}))))}catch(w){m={error:w}}finally{try{l&&!l.done&&(v=i.return)&&v.call(i)}finally{if(m)throw m.error}}return[2]}})})},a.prototype.completeCurrentAndProcessNextAutoResend=function(o){if(this._localCacheEnabled&&(o.sendingStatus===Kt.SUCCEEDED||o.sendingStatus===Kt.FAILED&&!hg(o.errorCode))){var i=this.indexOf(o);i>=0&&this._autoResendQueue.splice(i,1),i===0&&this._processNextAutoResend()}},a.prototype._fetchAllCachedPendingMessages=function(){return q(this,void 0,void 0,function(){var o,i;return z(this,function(l){switch(l.label){case 0:return(o=m6.of(this._iid))?[4,o.fetch({sendingStatus:Kt.PENDING,backward:!0})]:[3,2];case 1:return i=l.sent(),[3,3];case 2:i=[],l.label=3;case 3:return[2,i]}})})},a.prototype.indexOf=function(o){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(i){return i.reqId}).indexOf(o.reqId):-1},a.prototype._isNotInQueue=function(o){return this._autoResendQueue.map(function(i){return i.reqId}).indexOf(o.reqId)===-1},a.prototype._processNextAutoResend=function(){return q(this,void 0,void 0,function(){var o;return z(this,function(i){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),o=this._autoResendQueue[0],this._dispatcher.dispatch(new $Q({message:o})),this._logger.debug("processing auto-resend for message request id: ",o.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(l){this._logger.warn("process auto-resend error: ",l),this._isProcessingAutoResend=!1}return[2]})})},a}();(function(a){a[a.USER_BLOCK=20001]="USER_BLOCK",a[a.USER_UNBLOCK=2e4]="USER_UNBLOCK",a[a.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(O1||(O1={}));var _6=function(){function a(o){this.category=o.cat,this.data=o.data}return a.getDataAsUserBlockEvent=function(o,i){var l=i.data,c=l.blocker,h=l.blockee;return{blocker:new Vn(o,c),blockee:new Vn(o,h)}},a.getDataAsFriendDiscoveredEvent=function(o,i){var l=i.data.friend_discoveries;return{friendDiscoveries:Array.isArray(l)?l.map(function(c){return new Vn(o,c)}):[]}},a}(),WQ=function(a){function o(i,l){var c=l.userId,h=a.call(this)||this;return h._iid=i,h.userId=c,h}return K(o,a),o}(Sr),KQ=function(a){function o(i,l,c){var h=a.call(this,i,"USEV",c)||this;return h.event=new _6(c),h}return K(o,a),o}(Xt),b6=function(a){function o(i){var l=i.userId,c=i.nickname,h=c===void 0?null:c,f=i.profileUrl,m=f===void 0?null:f,v=i.profileImage,b=v===void 0?null:v,w=i.preferredLanguages,C=w===void 0?null:w,H=a.call(this)||this;return H.method=Qe.PUT,H.path="".concat(dt,"/").concat(encodeURIComponent(l)),H.params=Ln({nickname:h,profile_url:m,profile_file:b,preferred_languages:C}),H}return K(o,a),o}(Je),y6=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.user=null,c.user=new Vn(i,he({},l)),c}return K(o,a),o}(rn),QQ=function(a){function o(i){var l=i.userId,c=i.token,h=a.call(this)||this;return h.method=Qe.POST,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push/apns"),h.params={apns_device_token:c,always_push:!0},h}return K(o,a),o}(Je);(function(a){K(function(o,i){var l=a.call(this,o,i)||this;return l.token=i.token,l.type=i.type?br[i.type.toLowerCase()]:br.UNKNOWN,l.user=new Vn(o,i.user),l},a)})(rn);var YQ=function(a){function o(i){var l=i.userId,c=i.token,h=a.call(this)||this;return h.method=Qe.POST,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push/gcm"),h.params={gcm_reg_token:c,always_push:!0},h}return K(o,a),o}(Je);(function(a){K(function(o,i){var l=a.call(this,o,i)||this;return l.token=i.token,l.type=i.type?br[i.type.toLowerCase()]:br.UNKNOWN,l.user=new Vn(o,i.user),l},a)})(rn);var XQ=function(a){function o(i){var l=i.userId,c=i.token,h=a.call(this)||this;return h.method=Qe.DELETE,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push/apns/").concat(encodeURIComponent(c)),h}return K(o,a),o}(Je);(function(a){K(function(o,i){var l=a.call(this,o,i)||this;return l.token=i.token,l.user=new Vn(o,i.user),l.lastDeletedAt=i.device_token_last_deleted_at,l},a)})(rn);var ZQ=function(a){function o(i){var l=i.userId,c=i.token,h=a.call(this)||this;return h.method=Qe.DELETE,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push/gcm/").concat(encodeURIComponent(c)),h}return K(o,a),o}(Je);(function(a){K(function(o,i){var l=a.call(this,o,i)||this;return l.token=i.token,l.user=new Vn(o,i.user),l.lastDeletedAt=i.device_token_last_deleted_at,l},a)})(rn);var JQ=function(a){function o(i){var l=i.userId,c=a.call(this)||this;return c.method=Qe.DELETE,c.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push/apns"),c}return K(o,a),o}(Je);(function(a){K(function(o,i){var l=a.call(this,o,i)||this;return l.type=i.type?br[i.type.toLowerCase()]:br.UNKNOWN,l.user=new Vn(o,i.user),l.lastDeletedAt=i.device_token_last_deleted_at,l},a)})(rn);var eY=function(a){function o(i){var l=i.userId,c=a.call(this)||this;return c.method=Qe.DELETE,c.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push/gcm"),c}return K(o,a),o}(Je);(function(a){K(function(o,i){var l=a.call(this,o,i)||this;return l.type=i.type?br[i.type.toLowerCase()]:br.UNKNOWN,l.user=new Vn(o,i.user),l.lastDeletedAt=i.device_token_last_deleted_at,l},a)})(rn);var nY=function(a){function o(i){var l=i.userId,c=i.type,h=i.token,f=i.ts,m=a.call(this)||this;return m.method=Qe.GET,m.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push/").concat(encodeURIComponent(c),"/device_tokens"),m.params={created_ts:f,token:h},m}return K(o,a),o}(Je),tY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.pushTokens={type:l.type?br[l.type.toLowerCase()]:br.UNKNOWN,deviceTokens:l.device_tokens,hasMore:l.has_more,token:l.token},c}return K(o,a),o}(rn),rY=function(a){function o(i){var l=i.userId,c=a.call(this)||this;return c.method=Qe.GET,c.path="".concat(dt,"/").concat(encodeURIComponent(l),"/channel_invitation_preference"),c}return K(o,a),o}(Je),iY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.autoAccept=l.auto_accept,c}return K(o,a),o}(rn),aY=function(a){function o(i){var l=i.userId,c=i.willAutoAccept,h=a.call(this)||this;return h.method=Qe.PUT,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/channel_invitation_preference"),h.params={auto_accept:c},h}return K(o,a),o}(Je),sY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.autoAccept=l.auto_accept,c}return K(o,a),o}(rn),oY=function(a){function o(i){var l=i.userId,c=a.call(this)||this;return c.method=Qe.GET,c.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push_preference"),c}return K(o,a),o}(Je),lY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.preference={doNotDisturbOn:l.do_not_disturb,startHour:l.start_hour,startMin:l.start_min,endHour:l.end_hour,endMin:l.end_min,timezone:l.timezone},c}return K(o,a),o}(rn),uY=function(a){function o(i){var l=i.userId,c=i.doNotDisturbOn,h=i.startHour,f=i.startMin,m=i.endHour,v=i.endMin,b=i.timezone,w=a.call(this)||this;return w.method=Qe.PUT,w.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push_preference"),w.params={do_not_disturb:c,start_hour:h,start_min:f,end_hour:m,end_min:v,timezone:b},w}return K(o,a),o}(Je),cY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.preference={doNotDisturbOn:l.do_not_disturb,startHour:l.start_hour,startMin:l.start_min,endHour:l.end_hour,endMin:l.end_min,timezone:l.timezone},c}return K(o,a),o}(rn),dY=function(a){function o(i){var l=i.userId,c=a.call(this)||this;return c.method=Qe.GET,c.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push_preference"),c}return K(o,a),o}(Je),hY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.snoozePeriod={isSnoozeOn:l.snooze_enabled},typeof l.snooze_start_ts=="number"&&(c.snoozePeriod.startTs=l.snooze_start_ts),typeof l.snooze_end_ts=="number"&&(c.snoozePeriod.endTs=l.snooze_end_ts),c}return K(o,a),o}(rn),pY=function(a){function o(i){var l=i.userId,c=i.snoozeOn,h=i.startTs,f=i.endTs,m=a.call(this)||this;return m.method=Qe.PUT,m.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push_preference"),m.params={snooze_enabled:c,snooze_start_ts:h,snooze_end_ts:f},m}return K(o,a),o}(Je),fY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.snoozePeriod={isSnoozeOn:l.snooze_enabled},typeof l.snooze_start_ts=="number"&&(c.snoozePeriod.startTs=l.snooze_start_ts),typeof l.snooze_end_ts=="number"&&(c.snoozePeriod.endTs=l.snooze_end_ts),c}return K(o,a),o}(rn),gY=function(a){function o(i){var l=i.userId,c=i.blockedUserId,h=a.call(this)||this;return h.method=Qe.POST,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/block"),h.params={target_id:c},h}return K(o,a),o}(Je);(function(a){K(function(o,i){var l=a.call(this,o,i)||this;return l.user=new Vn(o,i),l},a)})(rn);var mY=function(a){function o(i){var l=i.userId,c=i.unblockedUserId,h=a.call(this)||this;return h.method=Qe.DELETE,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/block/").concat(encodeURIComponent(c)),h}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var vY=function(a){function o(i){var l=i.userId,c=a.call(this)||this;return c.method=Qe.GET,c.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push_preference"),c}return K(o,a),o}(Je),_Y=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.pushTriggerOption=l.push_trigger_option,c}return K(o,a),o}(rn),bY=function(a){function o(i){var l=i.userId,c=i.pushTriggerOption,h=a.call(this)||this;return h.method=Qe.PUT,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push_preference"),h.params={push_trigger_option:c},h}return K(o,a),o}(Je),yY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.pushTriggerOption=l.push_trigger_option,c}return K(o,a),o}(rn),EY=function(a){function o(i){var l=i.userId,c=a.call(this)||this;return c.method=Qe.GET,c.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push/template"),c}return K(o,a),o}(Je),wY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.name=l.name,c}return K(o,a),o}(rn),xY=function(a){function o(i){var l=i.userId,c=i.templateName,h=a.call(this)||this;return h.method=Qe.PUT,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/push/template"),h.params={name:c},h}return K(o,a),o}(Je),kY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.name=l.name,c}return K(o,a),o}(rn),SY=function(a){function o(i){var l=i.userId,c=i.token,h=a.call(this)||this;return h.method=Qe.GET,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/friends/changelogs"),h.params={token:c},h}return K(o,a),o}(Je),CY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.changelogs={addedUsers:l.added.map(function(h){return new Vn(i,h)}),updatedUsers:l.updated.map(function(h){return new Vn(i,h)}),deletedUserIds:l.deleted,hasMore:l.has_more,token:l.next},c}return K(o,a),o}(rn),TY=function(a){function o(i){var l=i.userId,c=i.discoveries,h=a.call(this)||this;return h.method=Qe.PUT,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/friend_discoveries"),h.params={friend_discoveries:c.map(function(f){return{friend_discovery_key:f.friendDiscoveryKey,friend_name:f.friendName}})},h}return K(o,a),o}(Je),IY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.friendDiscoveryRequestId=l.friend_discovery_request_id,c}return K(o,a),o}(rn),NY=function(a){function o(i){var l=i.userId,c=i.discoveryKeys,h=a.call(this)||this;return h.method=Qe.DELETE,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/friend_discoveries"),h.params={friend_discovery_keys:c},h}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var OY=function(a){function o(i){var l=i.userId,c=i.userIds,h=a.call(this)||this;return h.method=Qe.POST,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/friends"),h.params={user_ids:c},h}return K(o,a),o}(Je),AY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.users=l.users.map(function(h){return new Vn(i,h)}),c}return K(o,a),o}(rn),RY=function(a){function o(i){var l=i.userId,c=i.userIds,h=a.call(this)||this;return h.method=Qe.DELETE,h.path="".concat(dt,"/").concat(encodeURIComponent(l),"/friends"),h.params={user_ids:c},h}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var MY=function(a){function o(i){var l=i.userId,c=a.call(this)||this;return c.method=Qe.GET,c.path="".concat(dt,"/").concat(l,"/allow_friend_discovery"),c.params={},c}return K(o,a),o}(Je),DY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.allowFriendDiscovery=l.allow_friend_discovery,c}return K(o,a),o}(rn),UY=function(a){function o(i){var l=i.userId,c=i.allowFriendDiscovery,h=a.call(this)||this;return h.method=Qe.PUT,h.path="".concat(dt,"/").concat(l,"/allow_friend_discovery"),h.params={allow_friend_discovery:c},h}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var At,E6=function(a){this.key=null,this.url=null,this.key=a.key,this.url=a.url},w6=function(a){var o,i,l;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(o=a.id)!==null&&o!==void 0?o:0,this.name=(i=a.name)!==null&&i!==void 0?i:"",this.url=(l=a.url)!==null&&l!==void 0?l:"",this.emojis=a.emojis?a.emojis.map(function(c){return new E6(c)}):[]},LY=function(a){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=a.emoji_hash||"",this.emojiCategories=a.emoji_categories?a.emoji_categories.map(function(o){return new w6(o)}):[]},PY=function(a){function o(){var i=a.call(this)||this;return i.method=Qe.GET,i.path=UN,i}return K(o,a),o}(Je),FY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.emojiContainer=new LY(l),c}return K(o,a),o}(rn),HY=function(a){function o(i){var l=i.categoryId,c=a.call(this)||this;return c.method=Qe.GET,c.path="".concat(UN,"/").concat(l),c}return K(o,a),o}(Je),zY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.emojiCategory=new w6(l),c}return K(o,a),o}(rn),qY=function(a){function o(i){var l=i.key,c=a.call(this)||this;return c.method=Qe.GET,c.path="".concat(IK,"/").concat(l),c}return K(o,a),o}(Je),BY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.emoji=new E6(l),c}return K(o,a),o}(rn),jY=function(a){function o(i){var l=i.limit,c=i.token,h=i.userIdsFilter,f=i.metaDataKeyFilter,m=i.metaDataValuesFilter,v=i.nicknameStartsWithFilter,b=a.call(this)||this;return b.method=Qe.GET,b.path=dt,b.params=Ln({limit:l,token:c,user_ids:h,metadatakey:f,metadatavalues_in:m,nickname_startswith:v}),b}return K(o,a),o}(Je),GY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.users=l.users.map(function(h){return new Vn(i,h)}),c.next=l.next,c}return K(o,a),o}(rn),$Y=function(a){function o(i,l){var c,h,f,m=this;return(m=a.call(this,i,l)||this).userIdsFilter=null,m.metaDataKeyFilter=null,m.metaDataValuesFilter=null,m.nicknameStartsWithFilter=null,m.userIdsFilter=(c=l.userIdsFilter)!==null&&c!==void 0?c:null,m.metaDataKeyFilter=(h=l.metaDataKeyFilter)!==null&&h!==void 0?h:null,m.metaDataValuesFilter=(f=l.metaDataValuesFilter)!==null&&f!==void 0?f:null,m.nicknameStartsWithFilter=l.nicknameStartsWithFilter||null,m}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)&&it("string",this.userIdsFilter,!0)&&fe("string",this.metaDataKeyFilter,!0)&&it("string",this.metaDataValuesFilter,!0)&&fe("string",this.metaDataKeyFilter,!0)},o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid).requestQueue,l=new jY(he(he({},this),{token:this._token})),[4,i.send(l)]):[3,2]:[3,5];case 1:return c=v.sent(),h=c.as(GY),f=h.users,m=h.next,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(fd),VY=function(a){function o(i){var l=i.userId,c=i.limit,h=i.token,f=i.userIdsFilter,m=a.call(this)||this;return m.method=Qe.GET,m.path="".concat(dt,"/").concat(l,"/block"),m.params=Ln({limit:c,token:h,user_ids:f}),m}return K(o,a),o}(Je),WY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.users=l.users.map(function(h){return new Vn(i,h)}),c.next=l.next,c}return K(o,a),o}(rn),KY=function(a){function o(i,l){var c,h=this;return(h=a.call(this,i,l)||this).userIdsFilter=null,h.userIdsFilter=(c=l.userIdsFilter)!==null&&c!==void 0?c:null,h}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)&&it("string",this.userIdsFilter,!0)},o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b;return z(this,function(w){switch(w.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new VY(he(he({},this),{userId:l.userId,token:this._token})),[4,c.send(h)]):[3,2]:[3,5];case 1:return f=w.sent(),m=f.as(WY),v=m.users,b=m.next,this._token=b,this._hasNext=!!b,this._isLoading=!1,[2,v];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(fd),QY=function(a){function o(i){var l=i.userId,c=i.limit,h=i.token,f=a.call(this)||this;return f.method=Qe.GET,f.path="".concat(dt,"/").concat(encodeURIComponent(l),"/friends"),f.params={limit:c,token:h},f}return K(o,a),o}(Je),YY=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.hasMore=l.has_more,c.users=l.users.map(function(h){return new Vn(i,h)}),c.next=l.next,c}return K(o,a),o}(rn),XY=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)},o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w;return z(this,function(C){switch(C.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new QY(he(he({},this),{userId:l.userId,token:this._token})),[4,c.send(h)]):[3,2]:[3,5];case 1:return f=C.sent(),m=f.as(YY),v=m.users,b=m.hasMore,w=m.next,this._token=w,this._hasNext=b,this._isLoading=!1,[2,v];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(fd),Dg={},Ug=function(){function a(o){var i=o.dbname,l=o.itemSizeLimit,c=l===void 0?1048576:l,h=o.cacheLimit,f=h===void 0?256:h,m=o.blockHashBase,v=m===void 0?2:m,b=o.blockHashMultiplier,w=b===void 0?10:b,C=o.blockHashConstant,H=C===void 0?11:C,F=o.transactionApplyDelay,$=F===void 0?200:F,B=o.disableLogger,W=B!==void 0&&B;return Dg[i]||(this.itemSizeLimit=c,this.cacheLimit=f,this.blockHashBase=v,this.blockHashMultiplier=w,this.blockHashConstant=H,this.transactionApplyDelay=$,this.disableLogger=W,Dg[i]=this),Dg[i]}return a.get=function(o){return Dg[o]},a}();(function(a){a[a.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",a[a.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",a[a.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",a[a.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",a[a.STORE_IS_FULL=61001003]="STORE_IS_FULL",a[a.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",a[a.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",a[a.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",a[a.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",a[a.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",a[a.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",a[a.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",a[a.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",a[a.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",a[a.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",a[a.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",a[a.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",a[a.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",a[a.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",a[a.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",a[a.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",a[a.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",a[a.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",a[a.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",a[a.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(At||(At={}));var md,Ut=function(a){function o(i){var l=i.code,c=l===void 0?At.UNKNOWN_ERROR:l,h=i.message,f=h===void 0?"Unknown error occurred.":h,m=a.call(this,f)||this;return m.code=c,Object.setPrototypeOf(m,o.prototype),m}return K(o,a),Object.defineProperty(o,"storeNotDefined",{get:function(){return new o({code:At.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeNotAvailable",{get:function(){return new o({code:At.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeNotAvailableInPrivateBrowsing",{get:function(){return new o({code:At.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeIsFull",{get:function(){return new o({code:At.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeKeyTypeIsInvalid",{get:function(){return new o({code:At.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeBrokenIntegrity",{get:function(){return new o({code:At.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeBrokenBlob",{get:function(){return new o({code:At.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeEncryptionInvalid",{get:function(){return new o({code:At.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeItemSizeExceeded",{get:function(){return new o({code:At.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeReadFailed",{get:function(){return new o({code:At.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"storeWriteFailed",{get:function(){return new o({code:At.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"databaseSchemaNotOnUpgrade",{get:function(){return new o({code:At.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionNotReady",{get:function(){return new o({code:At.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionKeyNotMatch",{get:function(){return new o({code:At.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionQueryNotValid",{get:function(){return new o({code:At.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionInsertDuplicate",{get:function(){return new o({code:At.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionKeyNotFound",{get:function(){return new o({code:At.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionKeyNotGiven",{get:function(){return new o({code:At.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionWriteFailed",{get:function(){return new o({code:At.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"collectionItemSizeExceeded",{get:function(){return new o({code:At.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"indexTableIsRequired",{get:function(){return new o({code:At.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"indexTypesNotMatch",{get:function(){return new o({code:At.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"compareTypesNotMatch",{get:function(){return new o({code:At.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(o,"circularReferenceFound",{get:function(){return new o({code:At.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),o}(Error);(function(a){a.INIT="init",a.READY="ready",a.CLOSED="closed"})(md||(md={}));var x6,Hi=function(a,o){if(o===void 0&&(o=new WeakMap),typeof a=="object"&&a!==null){if(o.has(a))throw Ut.circularReferenceFound;o.set(a,!0);var i=null;if(Array.isArray(a))i=a.map(function(c){return Hi(c,o)});else if(a instanceof RegExp)i=a;else if(a instanceof Date)i=a;else for(var l in i={},a)i[l]=Hi(a[l],o);return o.delete(a),i}return a},yo=function(a,o){if(o==null)return 1;if(a==null)return-1;if(typeof a!=typeof o)throw Ut.compareTypesNotMatch;var i=0;switch(typeof a){case"boolean":case"number":i=a-o;break;case"string":i=a.localeCompare(o)}return i},k6=function(a,o){for(var i=0,l=0;l<a.length;l++)i=a.charCodeAt(l)+(i<<6)+(i<<16)-i;return(i>>>0)%o},Lg=function(a){return new Promise(function(o){setTimeout(function(){return o()},a)})},Lu=function(a,o){if(!o)return!1;if(typeof a!="function"){for(var i in a)if(["/and","&&"].includes(i)){if(a[i].some(function(v){return!Lu(v,o)}))return!1}else if(["/or","||"].includes(i)){if(a[i].every(function(v){return!Lu(v,o)}))return!1}else if(i==="/where"){if(!(0,a[i])(o))return!1}else{var l=i;if(typeof a[l]=="object"){var c=a[l];for(var h in c)switch(h){case"/eq":case"=":if((f=o[l])!==(m=c[h]))return!1;break;case"/neq":case"!=":if((f=o[l])===(m=c[h]))return!1;break;case"/gt":case">":var f=o[l],m=c[h];if(!(yo(f,m)>0))return!1;break;case"/gte":case">=":if(f=o[l],m=c[h],!(yo(f,m)>=0))return!1;break;case"/lt":case"<":if(f=o[l],m=c[h],!(yo(f,m)<0))return!1;break;case"/lte":case"<=":if(f=o[l],m=c[h],!(yo(f,m)<=0))return!1;break;case"/in":if(f=o[l],!(m=c[h]).includes(f))return!1;break;case"/nin":if(f=o[l],(m=c[h]).includes(f))return!1;break;case"/contain":if(f=o[l],m=c[h],!f.includes(m))return!1;break;case"/regex":if(f=o[l],!(m=c[h]).test(f))return!1;break;case"/where":if(f=o[l],!(0,c[h])(f))return!1}}else if(typeof a[l]=="function"){if(!a[l](o[l]))return!1}else if(a[l]!==o[l])return!1}return!0}return a(o)},Pg=function(){},S6=function(){return Promise.resolve()},ZY=function(a){return a},C6=function(a,o){o(null)};(function(a){a[a.FORWARD=0]="FORWARD",a[a.BACKWARD=1]="BACKWARD"})(x6||(x6={}));var Pu,Jr,qs,JY=function(){function a(o){var i=o.initialPrevValue,l=i===void 0?null:i,c=o.initialNextValue,h=c===void 0?null:c,f=o.iterator,m=o.map,v=m===void 0?ZY:m,b=o.backward,w=b===void 0?S6:b,C=o.forward,H=C===void 0?S6:C,F=o.complete,$=F===void 0?Pg:F;this._prevValue=l,this._nextValue=h,this._error=null,this._map=v,this._backward=w,this._forward=H,this._iterator=f,this._complete=$}return Object.defineProperty(a.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),a.prototype.prev=function(){return q(this,void 0,void 0,function(){var o,i,l;return z(this,function(c){switch(c.label){case 0:if(!this.hasPrevious)return[3,6];c.label=1;case 1:return c.trys.push([1,3,,4]),o=this._prevValue,i=this,[4,this._backward()];case 2:return i._prevValue=c.sent()||null,this._nextValue=o,[3,4];case 3:return l=c.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,c.sent()];case 6:this._complete(),c.label=7;case 7:return[2]}})})},a.prototype.next=function(){return q(this,void 0,void 0,function(){var o,i,l;return z(this,function(c){switch(c.label){case 0:if(!this.hasNext)return[3,6];c.label=1;case 1:return c.trys.push([1,3,,4]),o=this._nextValue,i=this,[4,this._forward()];case 2:return i._nextValue=c.sent()||null,this._prevValue=o,[3,4];case 3:return l=c.sent(),this._error=l,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,c.sent()];case 6:this._complete(),c.label=7;case 7:return[2]}})})},a.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},a}(),D1=function(){function a(o){var i=o.condition,l=i===void 0?{}:i,c=o.backward,h=c!==void 0&&c,f=o.blockManager,m=o.indexer;this.condition=l,this.backward=h,this._blockManager=f,this._indexer=m}return a.prototype.findOptimizedStartPosition=function(){var o=this,i=["=","/eq",">",">=","/gt","/gte"],l=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var c=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var h in this._indexer.fields){var f=this._indexer.fields[h],m=1;if(f[0]==="-"&&(f=f.slice(1),m=-1),this.condition[f]){if(typeof this.condition[f]=="object"){var v=m>0?l:i;for(var b in this.condition[f])if(v.includes(b)){for(var w=c;w>=0;w--)if(m*yo(this._indexer.origin[w].columnValues[h],this.condition[f][b])<=0){c=w;break}}}else for(w=c;w>=0;w--)if(m*yo(this._indexer.origin[w].columnValues[h],this.condition[f])<=0){c=w;break}}}return Math.min(c+1,this._indexer.origin.length-1)}var C=0;if(typeof this.condition!="function"){var H=function($){var B=F._indexer.fields[$],W=1;if(B[0]==="-"&&(B=B.slice(1),W=-1),F.condition[B]){if(typeof F.condition[B]=="object")Object.keys(F.condition[B]).forEach(function(Z){if((W>0?i:l).includes(Z)){for(var pe=C;pe<o._indexer.origin.length;pe++)if(W*yo(o._indexer.origin[pe].columnValues[$],o.condition[B][Z])>=0){C=pe;break}}});else for(var ie=C;ie<F._indexer.origin.length;ie++)if(W*yo(F._indexer.origin[ie].columnValues[$],F.condition[B])>=0){C=ie;break}}},F=this;for(h=0;h<this._indexer.fields.length;h++)H(h)}return Math.max(C-1,0)},a.prototype.each=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b=this;return z(this,function(w){switch(w.label){case 0:if(i=this.findOptimizedStartPosition(),l=0,this.backward&&this._indexer.origin[i]&&(l=this._indexer.origin[i].keys.length-1),c=function(){if(b._indexer.origin[i]){if(!b._indexer.origin[i].keys[++l]){if(!b._indexer.origin[++i])return!1;l=0}return!0}return!1},h=function(){if(b._indexer.origin[i]){if(!b._indexer.origin[i].keys[--l]){if(!b._indexer.origin[--i])return!1;l=b._indexer.origin[i].keys.length-1}return!0}return!1},f=null,!this._indexer.origin[i])return[3,4];m=this.backward?h:c,w.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[l])];case 2:if(v=w.sent(),Lu(this.condition,v))return f=v,[3,4];w.label=3;case 3:if(m())return[3,1];w.label=4;case 4:return[4,new Promise(function(C){var H=new JY({initialNextValue:Hi(f),iterator:o,forward:function(){return q(b,void 0,void 0,function(){var F,$;return z(this,function(B){switch(B.label){case 0:F=this.backward?h:c,B.label=1;case 1:return F()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[l])]:[3,3];case 2:return $=B.sent(),Lu(this.condition,$)?[2,Hi($)]:[3,1];case 3:return[2,null]}})})},backward:function(){return q(b,void 0,void 0,function(){var F,$;return z(this,function(B){switch(B.label){case 0:F=this.backward?c:h,B.label=1;case 1:return F()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[l])]:[3,3];case 2:return $=B.sent(),Lu(this.condition,$)?[2,Hi($)]:[3,1];case 3:return[2,null]}})})},complete:C});o(H)})];case 5:return[2,w.sent()]}})})},a}(),eX=function(){function a(o){var i=o.condition,l=i===void 0?{}:i,c=o.backward,h=c!==void 0&&c,f=o.mutex,m=o.blockManager,v=o.indexer;this._mutex=f,this._iterator=new D1({condition:l,backward:h,blockManager:m,indexer:v})}return a.prototype.fetch=function(o){return o===void 0&&(o={}),q(this,void 0,void 0,function(){var i,l,c,h,f=this;return z(this,function(m){switch(m.label){case 0:if(i=Math.max(o.offset||0,0),(l=typeof o.limit=="number"?o.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(l<0)throw Ut.collectionQueryNotValid;m.label=1;case 1:return m.trys.push([1,4,,5]),c=[],[4,this._mutex.lock()];case 2:return m.sent(),[4,this._iterator.each(function(v){return q(f,void 0,void 0,function(){return z(this,function(b){return v.error?v.stop():v.hasNext?i===0?(c.push(v.nextValue),0<l&&l<=c.length?v.stop():v.next()):(i--,v.next()):v.stop(),[2]})})})];case 3:return m.sent(),this._mutex.unlock(),[2,c];case 4:throw h=m.sent(),this._mutex.unlock(),h;case 5:return[2]}})})},a.prototype.count=function(){return q(this,void 0,void 0,function(){var o,i,l=this;return z(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),o=0,[4,this._mutex.lock()];case 1:return c.sent(),[4,this._iterator.each(function(h){return q(l,void 0,void 0,function(){return z(this,function(f){return h.error?h.stop():h.hasNext?(o++,h.next()):h.stop(),[2]})})})];case 2:return c.sent(),this._mutex.unlock(),[2,o];case 3:throw i=c.sent(),this._mutex.unlock(),i;case 4:return[2]}})})},a}(),U1=function(a){return"".concat("nest","@").concat(a)},Fu=function(a,o){return"".concat(U1(a),"/").concat(o)},L1=function(a,o){return"".concat(Fu(a,o),".metadata")},P1=function(a,o){return"".concat(Fu(a,o),"/block.")},T6=function(a,o){return"".concat(Fu(a,o),"/blob.")},nX=function(){function a(o){var i=o.dbname,l=o.collectionName,c=o.store;this.dbname=i,this.collectionName=l,this.store=c}return a.prototype.get=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w;return z(this,function(C){switch(C.label){case 0:return[4,this.store.get(o)];case 1:return(i=C.sent())?(l=i.data,c=i.type,typeof fetch>"u"?[3,4]:[4,fetch(l)]):[3,5];case 2:return[4,C.sent().blob()];case 3:return[2,C.sent()];case 4:for(h=[],f=atob(l.split(",")[1]),m=0;m<f.length;m+=512){for(v=f.slice(m,m+512),b=new Array(v.length),w=0;w<v.length;w++)b[w]=v.charCodeAt(w);h.push(new Uint8Array(b))}return[2,new Blob(h,{type:c})];case 5:return[2,null]}})})},a.prototype.save=function(o,i){return i===void 0&&(i="".concat(Date.now())),q(this,void 0,void 0,function(){var l,c,h,f,m=this;return z(this,function(v){switch(v.label){case 0:return[4,new Promise(function(b){var w=function(H,F,$,B){return B===void 0&&(B=0),"".concat(T6(H,F)).concat($,".").concat(B)}(m.dbname,m.collectionName,i),C=new FileReader;C.onload=function(){b({blobId:w,data:C.result,type:o.type})},C.readAsDataURL(o)})];case 1:return l=v.sent(),c=l.blobId,h=l.data,f=l.type,[4,this.store.set({key:c,value:{data:h,type:f},generation:1})];case 2:return v.sent(),[2,c]}})})},a.prototype.remove=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this.store.remove(o)];case 1:return i.sent(),[2]}})})},a.prototype.clear=function(){return q(this,void 0,void 0,function(){var o,i,l=this;return z(this,function(c){switch(c.label){case 0:return o=T6(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return i=c.sent(),[4,Promise.all(i.filter(function(h){return h.startsWith(o)}).map(function(h){return q(l,void 0,void 0,function(){return z(this,function(f){switch(f.label){case 0:return[4,this.store.remove(h)];case 1:return[2,f.sent()]}})})}))];case 2:return c.sent(),[2]}})})},a}();(function(a){a[a.COMMIT=0]="COMMIT",a[a.WRITE=1]="WRITE",a[a.ERROR=2]="ERROR"})(Pu||(Pu={})),function(a){a.PENDING="pending",a.PERSISTENT="persistent",a.VOLATILE="volatile"}(Jr||(Jr={})),function(a){a[a.NO_CACHE=0]="NO_CACHE",a[a.DEFAULT=1]="DEFAULT",a[a.PERSISTENT=2]="PERSISTENT"}(qs||(qs={}));var I6=[Jr.PENDING,Jr.VOLATILE],Fg={},Pa=function(){function a(o){var i=o.dbname,l=o.limit,c=l===void 0?256:l;return Fg[i]||(this.dbname=i,this._items=[],this._limit=c,Fg[i]=this),Fg[i]}return a.get=function(o){return Fg[o]},Object.defineProperty(a.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),a.prototype.find=function(o,i,l){return l===void 0&&(l=qs.DEFAULT),q(this,void 0,void 0,function(){var c,h;return z(this,function(f){switch(f.label){case 0:return(c=this.get(i))?[3,2]:[4,o.get(i)];case 1:return(h=f.sent())&&(c={key:i,value:h,generation:1,state:l===qs.PERSISTENT?Jr.PERSISTENT:Jr.VOLATILE},this.put(c)),[3,3];case 2:l===qs.PERSISTENT&&(c.state=Jr.PERSISTENT),f.label=3;case 3:return[2,c]}})})},a.prototype.get=function(o,i){i===void 0&&(i=qs.DEFAULT);var l=this._items.map(function(h){return h.key}).indexOf(o);if(l>-1){var c=this._items[l];return i===qs.PERSISTENT&&(c.state=Jr.PERSISTENT),i!==qs.NO_CACHE&&this.put(c),c}return null},a.prototype.put=function(o){var i,l;if(this._limit>0){var c=this._items.map(function(C){return C.key}).indexOf(o.key);if(c>-1)I6.includes(this._items[c].state)&&I6.includes(o.state)?(this._items.splice(c,1),this._items.push(o)):(this._items[c].state=o.state,this._items[c].generation=o.generation,this._items[c].value=o.value);else{this._items.push(o);var h=this._items.filter(function(C){return C.state===Jr.VOLATILE}),f=h.length-this._limit;if(f>0){var m=[];try{for(var v=Rn(this._items),b=v.next();!b.done;b=v.next()){var w=b.value;w.state===Jr.VOLATILE&&f>0?f--:m.push(w)}}catch(C){i={error:C}}finally{try{b&&!b.done&&(l=v.return)&&l.call(v)}finally{if(i)throw i.error}}this._items=m}}}},a.prototype.remove=function(o){var i=this._items.map(function(l){return l.key}).indexOf(o);i>-1&&this._items.splice(i,1)},a.prototype.clearByCondition=function(o){this._items=this._items.filter(function(i){return!o(i)})},a.prototype.clear=function(o){o===void 0&&(o=!1),this._items=o?[]:this._items.filter(function(i){return i.state!==Jr.VOLATILE})},a}(),tX=function(){function a(o){var i=o.dbname,l=o.collectionName,c=o.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=i,this.collectionName=l,this.metadataKey=function(h,f){return"".concat(Fu(h,f),"/trans.metadata")}(i,l),this.recordsetKey=function(h,f){return"".concat(Fu(h,f),"/trans.recordset")}(i,l),this._store=c}return Object.defineProperty(a.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),a.prototype._getReducedRecordset=function(o){return o===void 0&&(o=[]),q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(i=l.sent()||[]).push.apply(i,Wt([],Mt(o),!1)),[2,this._reduceRecordSet(i)]}})})},a.prototype._reduceRecordSet=function(o){for(var i=[],l={},c=o.length-1;c>=0;c--){for(var h=o[c],f=[],m=h.requests.length-1;m>=0;m--){var v=h.requests[m],b=v.data;l[b.key]||(f.unshift(v),l[b.key]=!0)}f.length>0&&(h.requests=f,i.unshift(h))}return i},a.prototype._applyRecord=function(o,i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v,b,w,C;return z(this,function(H){switch(H.label){case 0:l=Pa.get(this.dbname),c=i.generation,h=i.requests,f=null,H.label=1;case 1:return H.trys.push([1,3,,4]),[4,this._store.setMany(h.map(function(F){return he(he({},F.data),{generation:c})}))];case 2:for(m=H.sent(),v=0;v<h.length;v++)m[v]instanceof Error&&(f||(f=m[v]),b=h[v].data,l.put(he(he({},b),{generation:c,state:Jr.PERSISTENT})));return[3,4];case 3:return w=H.sent(),f=w,[3,4];case 4:return f?[3,6]:(C=o.filter(function(F){return F.generation!==c}),[4,this._store.set({key:this.recordsetKey,value:C,generation:c})]);case 5:return H.sent(),this._onWrite.forEach(function(F){F(h.map(function($){return $.data}))}),[3,7];case 6:this._onError.forEach(function(F){return F(f)}),H.label=7;case 7:return[2]}})})},a.prototype.init=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:return o=this,[4,this._store.get(this.metadataKey)];case 1:return o._metadata=b.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:i=b.sent(),b.label=3;case 3:b.trys.push([3,8,9,10]),l=Rn(i),c=l.next(),b.label=4;case 4:return c.done?[3,7]:(h=c.value,[4,this._applyRecord(i,h)]);case 5:b.sent(),b.label=6;case 6:return c=l.next(),[3,4];case 7:return[3,10];case 8:return f=b.sent(),m={error:f},[3,10];case 9:try{c&&!c.done&&(v=l.return)&&v.call(l)}finally{if(m)throw m.error}return[7];case 10:return[2]}})})},a.prototype.on=function(o,i,l){switch(o){case Pu.COMMIT:this._onCommit.set(i,l);break;case Pu.WRITE:this._onWrite.set(i,l);break;case Pu.ERROR:this._onError.set(i,l)}},a.prototype.requestWrite=function(o,i){i===void 0&&(i=null),this._requests.push({data:o,options:i}),Pa.get(this.dbname).put(he({state:Jr.PENDING,generation:this.generation},o))},a.prototype.requestMultipleWrite=function(o,i){var l,c;i===void 0&&(i=null);var h=Pa.get(this.dbname);try{for(var f=Rn(o),m=f.next();!m.done;m=f.next()){var v=m.value;this._requests.push({data:v,options:i}),h.put(he({state:Jr.PENDING,generation:this.generation},v))}}catch(b){l={error:b}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}},a.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(o){return Pa.get(this.dbname).clearByCondition(function(i){return i.state===Jr.PENDING}),this._requests=[],[2]})})},a.prototype.commit=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h,f,m,v,b,w,C,H,F=this;return z(this,function($){switch($.label){case 0:if(!((o=this._requests).length>0))return[3,4];for(i=[],l={},v=o.length-1;v>=0;v--)c=o[v],w=c.data,l[w.key]||(l[w.key]=!0,i.unshift(c));return h={generation:this.generation,requests:i},[4,this._getReducedRecordset([h])];case 1:return f=$.sent(),[4,this._store.set({key:this.recordsetKey,value:f,generation:this.generation})];case 2:return $.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for($.sent(),m=Pa.get(this.dbname),v=0;v<i.length;v++)b=i[v],w=b.data,C=b.options,m.put(he(he({},w),{generation:h.generation,state:C&&C.persistent?Jr.PERSISTENT:Jr.VOLATILE}));this._requests=[],this._onCommit.forEach(function(B){B(o.map(function(W){return W.data}))}),H=Ug.get(this.dbname),setTimeout(function(){try{F._applyRecord(f,h)}catch(B){F._onError.forEach(function(W){return W(B)})}},H.transactionApplyDelay),$.label=4;case 4:return[2]}})})},a}(),Hg=function(){function a(o){var i=o.blockId,l=o.keyName,c=o.items,h=c===void 0?[]:c,f=o.limit;this.blockId=i,this.keyName=l,this.limit=f,this._items=Wt([],Mt(h),!1)}return a.createFromCacheItem=function(o){return o?new a(o.value):null},Object.defineProperty(a.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),a.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},a.prototype.getItemByKey=function(o){var i=this;return this._items.find(function(l){var c=l[i.keyName];return o===c})},a.prototype.has=function(o){var i=this;return this._items.map(function(l){return l[i.keyName]}).includes(o)},a.prototype.add=function(o){var i=this,l=this._items.map(function(c){return c[i.keyName]}).indexOf(o[this.keyName]);return l<0?this._items.length<this.limit&&(this._items.push(o),!0):(this._items[l]=o,!0)},a.prototype.remove=function(o){for(var i in this._items)if(this._items[i][this.keyName]===o)return this._items.splice(parseInt(i),1),!0;return!1},a.prototype.clear=function(){this._items=[]},a}(),rX=function(){function a(o){var i=o.dbname,l=o.collectionName,c=o.metadata,h=o.hashFunction,f=h===void 0?k6:h,m=o.transaction,v=o.store;this.dbname=i,this.collectionName=l,this.hashFunction=f,this.metadata=c,this._transaction=m,this._store=v}return Object.defineProperty(a.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),a.prototype.createBlockId=function(o,i){return i===void 0&&(i=this.metadata.blockLevel),l=this.dbname,c=this.collectionName,h=i,f="".concat(function(m,v,b){var w=b.base*Math.pow(b.multiplier,v)+b.constant;return(b.hashFunction||k6)(m,w)}(o,i,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(P1(l,c)).concat(h,".").concat(f);var l,c,h,f},a.prototype._findBlock=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f;return z(this,function(m){switch(m.label){case 0:i=Pa.get(this.dbname),l=this.metadata.blockLevel,m.label=1;case 1:return l>0?(c=this.createBlockId(o,l),[4,i.find(this._store,c)]):[3,4];case 2:if((h=m.sent())&&(f=Hg.createFromCacheItem(h)).getItemByKey(o))return[2,f];m.label=3;case 3:return l--,[3,1];case 4:return[2,null]}})})},a.prototype.getFromBlock=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return[4,this._findBlock(o)];case 1:return[2,(i=l.sent())?i.getItemByKey(o):null]}})})},a.prototype.putToBlock=function(o,i){return q(this,void 0,void 0,function(){var l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return l=Ug.get(this.dbname),c=this.createBlockId(o),h=Math.floor(this._store.itemSizeLimit/l.itemSizeLimit),[4,Pa.get(this.dbname).find(this._store,c)];case 1:return f=v.sent(),(m=f?Hg.createFromCacheItem(f):new Hg({blockId:c,keyName:this.keyName,items:[],limit:h})).add(i)?(this._transaction.requestWrite({key:m.blockId,value:m.serialize()}),[2,!0]):[2,!1]}})})},a.prototype.removeFromBlock=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return[4,this._findBlock(o)];case 1:return(i=l.sent())&&i.remove(o)?(this._transaction.requestWrite({key:i.blockId,value:i.serialize()}),[2,!0]):[2,!1]}})})},a.prototype.clearAllBlocks=function(){return q(this,void 0,void 0,function(){var o,i,l;return z(this,function(c){switch(c.label){case 0:return o=P1(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return i=c.sent(),l=i.filter(function(h){return h.startsWith(o)}),[4,this._store.removeMany(l)];case 2:return c.sent(),[4,this._transaction.clear()];case 3:return c.sent(),Pa.get(this.dbname).clearByCondition(function(h){return h.key.startsWith(o)}),[2]}})})},a}(),vd={},bl=function(){function a(o){var i=o.dbname,l=o.collectionName,c=o.keyName,h=o.fields,f=o.transaction,m=o.store,v=this;this._origin=[],this._table=[];var b=function(w,C,H){return"".concat(Fu(w,C),"/index.").concat(H)}(i,l,h.join(">"));return vd[b]||(this.dbname=i,this.collectionName=l,this.keyName=c,this.fields=h,this.indexerKey=b,this._transaction=f,this._store=m,this._transaction.on(Pu.COMMIT,this.indexerKey,function(){return v.commit()}),this._transaction.on(Pu.ERROR,this.indexerKey,function(){return v.abort()})),vd[b]}return a.createKey=function(o){return o.join(">")},a.parseKey=function(o){return o.split(">")},a.clearIndexerMap=function(){for(var o in vd)delete vd[o]},a.prototype._addItem=function(o){var i=o[this.keyName],l=this.getColumnValues(o),c=Mt(this.indexOf(l),2),h=c[0];return c[1]?!this._table[h].keys.includes(i)&&(this._table[h].keys.push(i),!0):(this._table.splice(h,0,{columnValues:l,keys:[i]}),!0)},a.prototype._removeItem=function(o){var i=o[this.keyName],l=this.getColumnValues(o),c=Mt(this.indexOf(l),2),h=c[0];if(c[1]){var f=this._table[h].keys.indexOf(i);if(f>-1)return this._table[h].keys.splice(f,1),this._table[h].keys.length===0&&this._table.splice(h,1),!0}return!1},Object.defineProperty(a.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),a.prototype.getColumnValues=function(o){var i,l,c,h,f=[];try{for(var m=Rn(this.fields),v=m.next();!v.done;v=m.next()){var b=v.value;if(b[0]==="-"&&(b=b.slice(1)),c=o[b],h=typeof c,c!==null&&h!=="undefined"&&h!=="boolean"&&h!=="number"&&h!=="string")throw Ut.indexTypesNotMatch;f.push(o[b])}}catch(w){i={error:w}}finally{try{v&&!v.done&&(l=m.return)&&l.call(m)}finally{if(i)throw i.error}}return f},a.prototype.diff=function(o,i){for(var l in this.fields){var c=this.fields[l][0]==="-"?-1:1,h=yo(o[l],i[l]);if(h!==0)return c*h}return 0},a.prototype.indexOf=function(o){if(this._table.length>0){for(var i=0,l=this._table.length-1;i<=l;){var c=Math.floor((i+l)/2),h=this.diff(o,this._table[c].columnValues);if(h>0)i=c+1;else{if(!(h<0))return[c,!0];l=c-1}}return[i,!1]}return[0,!1]},a.prototype.ensure=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h,f,m,v,b,w,C,H,F,$,B,W,ie;return z(this,function(Z){switch(Z.label){case 0:return[4,(o=Pa.get(this.dbname)).find(this._store,this.indexerKey,qs.PERSISTENT)];case 1:return(i=Z.sent())?[3,11]:(l=P1(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:c=Z.sent(),Z.label=3;case 3:Z.trys.push([3,8,9,10]),h=Rn(c),f=h.next(),Z.label=4;case 4:return f.done?[3,7]:(m=f.value).startsWith(l)?[4,o.find(this._store,m,qs.NO_CACHE)]:[3,6];case 5:v=Z.sent(),b=Hg.createFromCacheItem(v);try{for(W=void 0,w=Rn(b.items),C=w.next();!C.done;C=w.next())H=C.value,this._addItem(H)}catch(pe){W={error:pe}}finally{try{C&&!C.done&&(ie=w.return)&&ie.call(w)}finally{if(W)throw W.error}}Z.label=6;case 6:return f=h.next(),[3,4];case 7:return[3,10];case 8:return F=Z.sent(),$={error:F},[3,10];case 9:try{f&&!f.done&&(B=h.return)&&B.call(h)}finally{if($)throw $.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=i.value,this._table=Hi(this._origin),Z.label=12;case 12:return vd[this.indexerKey]=this,[2]}})})},a.prototype.drop=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return Pa.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return o.sent(),delete vd[this.indexerKey],[2]}})})},a.prototype.addItem=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){return this._addItem(o)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},a.prototype.removeItem=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){return this._removeItem(o)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},a.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(o){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},a.prototype.commit=function(){this._origin=this._table,this._table=Hi(this._origin)},a.prototype.abort=function(){this._table=Hi(this._origin)},a}(),F1=function(){function a(o){var i=o.dbname,l=o.collectionName,c=o.keyName,h=o.keyHash,f=o.indexes,m=o.store,v=this;this._state=md.INIT,this._metadata=null,this._indexers=[],this.dbname=i,this.name=l,this.keyName=c,this.indexes=Wt([[c]],Mt(f.filter(function(b){return bl.createKey(b)!==v.keyName})),!1),this._keyHash=h,this._store=m,this._mutex=new R1(function(b,w){return"".concat(Fu(b,w),".lock")}(i,l)),this._blobContainer=new nX({dbname:i,collectionName:l,store:m}),this._transaction=new tX({dbname:i,collectionName:l,store:m})}return a.metadataOf=function(o,i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=L1(o,i),[4,l.get(c)];case 1:return[2,h.sent()]}})})},Object.defineProperty(a.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isReady",{get:function(){return this._state===md.READY},enumerable:!1,configurable:!0}),a.prototype.init=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h,f,m,v,b,w,C,H,F,$,B=this;return z(this,function(W){switch(W.label){case 0:return[4,this._mutex.lock()];case 1:W.sent(),W.label=2;case 2:return W.trys.push([2,9,,10]),o=Ug.get(this.dbname),[4,a.metadataOf(this.dbname,this.name,this._store)];case 3:return i=W.sent(),this._metadata=i||{keyName:this.keyName,blockLevel:1,blockHashBase:o.blockHashBase,blockHashMultiplier:o.blockHashMultiplier,blockHashConstant:o.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:W.sent(),this._blockManager=new rX({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),l=Wt([],Mt(this.indexes),!1),c=[],h=l.map(function(ie){return bl.createKey(ie)}),f=i?i.indexes.map(function(ie){return bl.createKey(ie)}):[];try{for(m=Rn(f),v=m.next();!v.done;v=m.next())b=v.value,h.includes(b)||c.push(bl.parseKey(b))}catch(ie){F={error:ie}}finally{try{v&&!v.done&&($=m.return)&&$.call(m)}finally{if(F)throw F.error}}return(w=[]).push.apply(w,Wt([],Mt(l.map(function(ie){var Z=new bl({dbname:B.dbname,collectionName:B.name,keyName:B.keyName,fields:ie,transaction:B._transaction,store:B._store});return B._indexers.push(Z),Z.ensure()})),!1)),w.push.apply(w,Wt([],Mt(c.map(function(ie){return new bl({dbname:B.dbname,collectionName:B.name,keyName:B.keyName,fields:ie,transaction:B._transaction,store:B._store}).drop()})),!1)),[4,Promise.all(w)];case 5:return W.sent(),[4,this._transaction.commit()];case 6:return W.sent(),h.sort().join(",")===f.sort().join(",")?[3,8]:(C=L1(this.dbname,this.name),this._metadata.indexes=l,[4,this._store.set({key:C,value:this._metadata,generation:1})]);case 7:W.sent(),W.label=8;case 8:return this._state=md.READY,this._mutex.unlock(),[3,10];case 9:throw H=W.sent(),this._mutex.unlock(),H;case 10:return[2]}})})},a.prototype.close=function(){this._state=md.CLOSED},a.prototype._hasPropertyOfKeyName=function(o){var i=o[this.keyName];return typeof i=="string"&&!!i},a.prototype._getIndexerBy=function(o){var i,l;o===void 0&&(o=null),o||(o=[this.keyName]);var c=bl.createKey(o);try{for(var h=Rn(this._indexers),f=h.next();!f.done;f=h.next()){var m=f.value;if(c===bl.createKey(m.fields))return m}}catch(v){i={error:v}}finally{try{f&&!f.done&&(l=h.return)&&l.call(h)}finally{if(i)throw i.error}}return null},a.prototype._upgradeBlockLevel=function(){return q(this,void 0,void 0,function(){var o;return z(this,function(i){switch(i.label){case 0:return o=L1(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:o,value:this._metadata,generation:1})];case 1:return i.sent(),[2]}})})},a.prototype._requestInsert=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return i=o[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return v.sent()?[3,13]:[4,this._blockManager.putToBlock(i,o)];case 2:return v.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return v.sent(),[4,this._blockManager.putToBlock(i,o)];case 4:v.sent(),v.label=5;case 5:v.trys.push([5,10,11,12]),l=Rn(this._indexers),c=l.next(),v.label=6;case 6:return c.done?[3,9]:[4,c.value.addItem(o)];case 7:v.sent(),v.label=8;case 8:return c=l.next(),[3,6];case 9:return[3,12];case 10:return h=v.sent(),f={error:h},[3,12];case 11:try{c&&!c.done&&(m=l.return)&&m.call(l)}finally{if(f)throw f.error}return[7];case 12:return[3,14];case 13:throw Ut.collectionInsertDuplicate;case 14:return[2]}})})},a.prototype._requestUpsert=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w,C,H,F,$;return z(this,function(B){switch(B.label){case 0:return i=o[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(l=B.sent())?[3,13]:[4,this._blockManager.putToBlock(i,o)];case 2:return B.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return B.sent(),[4,this._blockManager.putToBlock(i,o)];case 4:B.sent(),B.label=5;case 5:B.trys.push([5,10,11,12]),c=Rn(this._indexers),h=c.next(),B.label=6;case 6:return h.done?[3,9]:[4,(b=h.value).addItem(o)];case 7:B.sent(),B.label=8;case 8:return h=c.next(),[3,6];case 9:return[3,12];case 10:return f=B.sent(),C={error:f},[3,12];case 11:try{h&&!h.done&&(H=c.return)&&H.call(c)}finally{if(C)throw C.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(i,o)];case 14:B.sent(),B.label=15;case 15:B.trys.push([15,21,22,23]),m=Rn(this._indexers),v=m.next(),B.label=16;case 16:return v.done?[3,20]:(b=v.value).diff(b.getColumnValues(l),b.getColumnValues(o))===0?[3,19]:[4,b.removeItem(l)];case 17:return B.sent(),[4,b.addItem(o)];case 18:B.sent(),B.label=19;case 19:return v=m.next(),[3,16];case 20:return[3,23];case 21:return w=B.sent(),F={error:w},[3,23];case 22:try{v&&!v.done&&($=m.return)&&$.call(m)}finally{if(F)throw F.error}return[7];case 23:return[2]}})})},a.prototype._requestUpdate=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b;return z(this,function(w){switch(w.label){case 0:return i=o[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(l=w.sent())?[4,this._blockManager.putToBlock(i,o)]:[3,11];case 2:w.sent(),w.label=3;case 3:w.trys.push([3,9,10,11]),c=Rn(this._indexers),h=c.next(),w.label=4;case 4:return h.done?[3,8]:(f=h.value).diff(f.getColumnValues(l),f.getColumnValues(o))===0?[3,7]:[4,f.removeItem(l)];case 5:return w.sent(),[4,f.addItem(o)];case 6:w.sent(),w.label=7;case 7:return h=c.next(),[3,4];case 8:return[3,11];case 9:return m=w.sent(),v={error:m},[3,11];case 10:try{h&&!h.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 11:return[2]}})})},a.prototype._requestRemove=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return[4,this._blockManager.getFromBlock(o)];case 1:return(i=v.sent())?[4,this._blockManager.removeFromBlock(o)]:[3,10];case 2:v.sent(),v.label=3;case 3:v.trys.push([3,8,9,10]),l=Rn(this._indexers),c=l.next(),v.label=4;case 4:return c.done?[3,7]:[4,c.value.removeItem(i)];case 5:v.sent(),v.label=6;case 6:return c=l.next(),[3,4];case 7:return[3,10];case 8:return h=v.sent(),f={error:h},[3,10];case 9:try{c&&!c.done&&(m=l.return)&&m.call(l)}finally{if(f)throw f.error}return[7];case 10:return[2]}})})},a.prototype._requestClear=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h;return z(this,function(f){switch(f.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:f.sent(),f.label=2;case 2:f.trys.push([2,7,8,9]),o=Rn(this._indexers),i=o.next(),f.label=3;case 3:return i.done?[3,6]:[4,i.value.clear()];case 4:f.sent(),f.label=5;case 5:return i=o.next(),[3,3];case 6:return[3,9];case 7:return l=f.sent(),c={error:l},[3,9];case 8:try{i&&!i.done&&(h=o.return)&&h.call(o)}finally{if(c)throw c.error}return[7];case 9:return[2]}})})},a.prototype.getByKey=function(o){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(o)];case 3:return i=c.sent(),this._mutex.unlock(),[2,Hi(i)];case 4:throw l=c.sent(),this._mutex.unlock(),l;case 5:return[3,7];case 6:throw Ut.collectionNotReady;case 7:return[2]}})})},a.prototype.query=function(o){return o===void 0&&(o={}),this.isReady?new eX({condition:o.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(o.index),backward:!!o.backward}):null},a.prototype.insertOne=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(o))throw Ut.collectionKeyNotGiven;return[4,this._requestInsert(Hi(o))];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,o];case 5:return i=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Ut.collectionNotReady;case 9:return[2]}})})},a.prototype.insertMany=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b=this;return z(this,function(w){switch(w.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:w.sent(),w.label=2;case 2:if(w.trys.push([2,12,,14]),o.some(function(C){return!b._hasPropertyOfKeyName(C)}))throw Ut.collectionKeyNotGiven;w.label=3;case 3:w.trys.push([3,8,9,10]),i=Rn(o),l=i.next(),w.label=4;case 4:return l.done?[3,7]:(c=l.value,[4,this._requestInsert(Hi(c))]);case 5:w.sent(),w.label=6;case 6:return l=i.next(),[3,4];case 7:return[3,10];case 8:return h=w.sent(),m={error:h},[3,10];case 9:try{l&&!l.done&&(v=i.return)&&v.call(i)}finally{if(m)throw m.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return w.sent(),this._mutex.unlock(),[2,o];case 12:return f=w.sent(),[4,this._transaction.clear()];case 13:throw w.sent(),this._mutex.unlock(),f;case 14:return[3,16];case 15:throw Ut.collectionNotReady;case 16:return[2]}})})},a.prototype.upsertOne=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(o))throw Ut.collectionKeyNotGiven;return[4,this._requestUpsert(Hi(o))];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,o];case 5:return i=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Ut.collectionNotReady;case 9:return[2]}})})},a.prototype.upsertMany=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b=this;return z(this,function(w){switch(w.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:w.sent(),w.label=2;case 2:if(w.trys.push([2,12,,14]),o.some(function(C){return!b._hasPropertyOfKeyName(C)}))throw Ut.collectionKeyNotGiven;w.label=3;case 3:w.trys.push([3,8,9,10]),i=Rn(o),l=i.next(),w.label=4;case 4:return l.done?[3,7]:(c=l.value,[4,this._requestUpsert(Hi(c))]);case 5:w.sent(),w.label=6;case 6:return l=i.next(),[3,4];case 7:return[3,10];case 8:return h=w.sent(),m={error:h},[3,10];case 9:try{l&&!l.done&&(v=i.return)&&v.call(i)}finally{if(m)throw m.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return w.sent(),this._mutex.unlock(),[2,o];case 12:return f=w.sent(),[4,this._transaction.clear()];case 13:throw w.sent(),this._mutex.unlock(),f;case 14:return[3,16];case 15:throw Ut.collectionNotReady;case 16:return[2]}})})},a.prototype.update=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(o))throw Ut.collectionKeyNotGiven;return[4,this._requestUpdate(Hi(o))];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[2,o];case 5:return i=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Ut.collectionNotReady;case 9:return[2]}})})},a.prototype.updateIf=function(o,i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v,b,w,C,H,F,$,B,W,ie=this;return z(this,function(Z){switch(Z.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:Z.sent(),Z.label=2;case 2:return Z.trys.push([2,13,,15]),l=o.where,c=l===void 0?{}:l,h=o.index,f=h===void 0?null:h,m=o.backward,v=m!==void 0&&m,b=[],[4,new D1({condition:c,blockManager:this._blockManager,backward:v,indexer:this._getIndexerBy(f)}).each(function(pe){return q(ie,void 0,void 0,function(){var Oe,te;return z(this,function(X){if(pe.error)throw pe.stop(),pe.error;if(pe.hasNext){if(Oe=pe.nextValue,Lu(c,Oe)&&i.set){if(typeof i.set!="function")for(te in i.set)Oe[te]=i.set[te];else i.set(Oe);b.push(Oe)}pe.next()}else pe.stop();return[2]})})})];case 3:Z.sent(),Z.label=4;case 4:Z.trys.push([4,9,10,11]),w=Rn(b),C=w.next(),Z.label=5;case 5:return C.done?[3,8]:(H=C.value,[4,this._requestUpdate(Hi(H))]);case 6:Z.sent(),Z.label=7;case 7:return C=w.next(),[3,5];case 8:return[3,11];case 9:return F=Z.sent(),B={error:F},[3,11];case 10:try{C&&!C.done&&(W=w.return)&&W.call(w)}finally{if(B)throw B.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return Z.sent(),this._mutex.unlock(),[2,b];case 13:return $=Z.sent(),[4,this._transaction.clear()];case 14:throw Z.sent(),this._mutex.unlock(),$;case 15:return[3,17];case 16:throw this._transaction.clear(),Ut.collectionNotReady;case 17:return[2]}})})},a.prototype.remove=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this._requestRemove(o)];case 3:return l.sent(),[4,this._transaction.commit()];case 4:return l.sent(),this._mutex.unlock(),[3,7];case 5:return i=l.sent(),[4,this._transaction.clear()];case 6:throw l.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Ut.collectionNotReady;case 9:return[2]}})})},a.prototype.removeIf=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w,C,H,F,$,B,W=this;return z(this,function(ie){switch(ie.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:ie.sent(),ie.label=2;case 2:return ie.trys.push([2,13,,14]),i=o.where,l=i===void 0?{}:i,c=o.index,h=c===void 0?null:c,f=o.backward,m=f!==void 0&&f,v=[],[4,new D1({condition:l,blockManager:this._blockManager,backward:m,indexer:this._getIndexerBy(h)}).each(function(Z){return q(W,void 0,void 0,function(){var pe,Oe;return z(this,function(te){if(Z.error)throw Z.stop(),Z.error;return Z.hasNext?(pe=Z.nextValue,Lu(l,pe)&&(Oe=pe[this.keyName],v.push(Oe)),Z.next()):Z.stop(),[2]})})})];case 3:ie.sent(),ie.label=4;case 4:ie.trys.push([4,9,10,11]),b=Rn(v),w=b.next(),ie.label=5;case 5:return w.done?[3,8]:(C=w.value,[4,this._requestRemove(C)]);case 6:ie.sent(),ie.label=7;case 7:return w=b.next(),[3,5];case 8:return[3,11];case 9:return H=ie.sent(),$={error:H},[3,11];case 10:try{w&&!w.done&&(B=b.return)&&B.call(b)}finally{if($)throw $.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return ie.sent(),this._mutex.unlock(),[2,v];case 13:throw F=ie.sent(),this._mutex.unlock(),F;case 14:return[3,16];case 15:throw this._transaction.clear(),Ut.collectionNotReady;case 16:return[2]}})})},a.prototype.clear=function(){return q(this,void 0,void 0,function(){var o;return z(this,function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return i.sent(),[4,this._transaction.commit()];case 4:return i.sent(),this._mutex.unlock(),[3,7];case 5:return o=i.sent(),[4,this._transaction.clear()];case 6:throw i.sent(),this._mutex.unlock(),o;case 7:return[3,9];case 8:throw Ut.collectionNotReady;case 9:return[2]}})})},a.prototype.getBlob=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.get(o)];case 1:return[2,i.sent()]}})})},a.prototype.saveBlob=function(o,i){return i===void 0&&(i=null),q(this,void 0,void 0,function(){return z(this,function(l){switch(l.label){case 0:return[4,this._blobContainer.save(o,i)];case 1:return[2,l.sent()]}})})},a.prototype.removeBlob=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.remove(o)];case 1:return i.sent(),[2]}})})},a.prototype.removeAllBlobs=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,this._blobContainer.clear()];case 1:return o.sent(),[2]}})})},a}(),zg=function(){function a(o){var i,l,c;this.encryption=(i=o.encryption)!==null&&i!==void 0?i:GI,this.itemSizeLimit=(l=o.itemSizeLimit)!==null&&l!==void 0?l:4194304,this.metadataBuffer=(c=o.metadataBuffer)!==null&&c!==void 0?c:256}return a.prototype._getRawKey=function(o,i){return i===void 0&&(i=""),"".concat(o).concat(i)},a.prototype._generateShardPostfixArray=function(o){return o===void 0&&(o=1),Wt([],Mt(Array(o).keys()),!1)},a.prototype._shardify=function(o){var i=this,l=o.key,c=o.value,h=JSON.stringify(this.encryption.encrypt(c)),f=Math.ceil(h.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(f).map(function(m){var v={key:i._getRawKey(l,".".concat(m)),data:h.substring(m*i.adjustedItemSizeLimit,(m+1)*i.adjustedItemSizeLimit)};return m===0&&(v.metadata={shards:f}),v})},Object.defineProperty(a.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),a.prototype.usage=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h,f,m,v,b;return z(this,function(w){switch(w.label){case 0:return o=0,[4,this._getAllRawKeys()];case 1:i=w.sent(),w.label=2;case 2:w.trys.push([2,7,8,9]),l=Rn(i),c=l.next(),w.label=3;case 3:return c.done?[3,6]:(h=c.value,[4,this._getRaw(h)]);case 4:(f=w.sent())&&(o+=JSON.stringify(f).length),w.label=5;case 5:return c=l.next(),[3,3];case 6:return[3,9];case 7:return m=w.sent(),v={error:m},[3,9];case 8:try{c&&!c.done&&(b=l.return)&&b.call(l)}finally{if(v)throw v.error}return[7];case 9:return[2,o]}})})},a.prototype.getAllKeys=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,o.sent().filter(function(i){return i.endsWith(".0")}).map(function(i){return i.replace(/\.0$/,"")})]}})})},a.prototype.get=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v=this;return z(this,function(b){switch(b.label){case 0:return i=this._getRawKey(o,".0"),[4,this._getRaw(i)];case 1:if(!(l=b.sent()))return[3,7];b.label=2;case 2:return b.trys.push([2,6,,7]),c=l.data,((h=l.metadata)==null?void 0:h.shards)>1?[4,Promise.all(this._generateShardPostfixArray(h==null?void 0:h.shards).map(function(w){return q(v,void 0,void 0,function(){var C,H;return z(this,function(F){switch(F.label){case 0:return w>0?(C=this._getRawKey(o,".".concat(w)),[4,this._getRaw(C)]):[3,2];case 1:if(!(H=F.sent()))throw Ut.storeBrokenIntegrity;return[2,H.data];case 2:return[2,c]}})})}))]:[3,4];case 3:return m=b.sent(),[3,5];case 4:m=[c],b.label=5;case 5:return f=m,[2,this.encryption.decrypt(JSON.parse(f.join("")))];case 6:return b.sent(),[2,null];case 7:return[2,null]}})})},a.prototype.set=function(o){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return i=this._shardify(o),[4,this._setRaw(i)];case 1:return l.sent(),[2,he({},o.value)]}})})},a.prototype.setMany=function(o){return q(this,void 0,void 0,function(){var i=this;return z(this,function(l){switch(l.label){case 0:return[4,this._setRaw([].concat.apply([],Wt([],Mt(o.map(function(c){return i._shardify(c)})),!1)))];case 1:return l.sent(),[2,o.map(function(c){return c.value})]}})})},a.prototype.remove=function(o){return q(this,void 0,void 0,function(){var i,l,c,h=this;return z(this,function(f){switch(f.label){case 0:return i=this._getRawKey(o,".0"),[4,this._getRaw(i)];case 1:return(l=f.sent())?(c=l.metadata,[4,this._removeRaw(this._generateShardPostfixArray(c==null?void 0:c.shards).map(function(m){return h._getRawKey(o,".".concat(m))}))]):[3,3];case 2:return f.sent(),[2,!0];case 3:return[2,!1]}})})},a.prototype.removeMany=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w,C=this;return z(this,function(H){switch(H.label){case 0:i=[],l=function(F){var $,B,W;return z(this,function(ie){switch(ie.label){case 0:return $=c._getRawKey(F,".0"),[4,c._getRaw($)];case 1:return(B=ie.sent())&&(W=B.metadata,i.push.apply(i,Wt([],Mt(c._generateShardPostfixArray(W==null?void 0:W.shards).map(function(Z){return C._getRawKey(F,".".concat(Z))})),!1))),[2]}})},c=this,H.label=1;case 1:H.trys.push([1,6,7,8]),h=Rn(o),f=h.next(),H.label=2;case 2:return f.done?[3,5]:(m=f.value,[5,l(m)]);case 3:H.sent(),H.label=4;case 4:return f=h.next(),[3,2];case 5:return[3,8];case 6:return v=H.sent(),b={error:v},[3,8];case 7:try{f&&!f.done&&(w=h.return)&&w.call(h)}finally{if(b)throw b.error}return[7];case 8:return i.length>0?[4,this._removeRaw(i)]:[3,10];case 9:H.sent(),H.label=10;case 10:return[2,o]}})})},a}(),Zi={},qg=function(a){function o(i){i===void 0&&(i={});var l,c=this;c=a.call(this,he(he({},i),{itemSizeLimit:(l=i.itemSizeLimit)!==null&&l!==void 0?l:4194304}))||this;var h=i.delay,f=h===void 0?1:h;return c.delay=f,c.observer={},c}return K(o,a),Object.defineProperty(o.prototype,"rawData",{get:function(){return Zi[this.dbname]},set:function(i){Zi[this.dbname]=i},enumerable:!1,configurable:!0}),o.prototype._getAllRawKeys=function(){return q(this,void 0,void 0,function(){return z(this,function(i){if(Zi[this.dbname])return[2,Object.keys(Zi[this.dbname])];throw Ut.storeNotAvailable})})},o.prototype._getRaw=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){switch(l.label){case 0:return Zi[this.dbname]?[4,Lg(this.delay)]:[3,2];case 1:return l.sent(),[2,Zi[this.dbname][i]?he({key:i},Zi[this.dbname][i]):null];case 2:throw Ut.storeNotAvailable}})})},o.prototype._setRaw=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v,b,w;return z(this,function(C){switch(C.label){case 0:return Zi[this.dbname]?[4,Lg(this.delay)]:[3,2];case 1:C.sent();try{for(l=Rn(i),c=l.next();!c.done;c=l.next())h=c.value,f=h.key,m=h.data,v=h.metadata,Zi[this.dbname][f]=Object.freeze({data:m,metadata:v})}catch(H){b={error:H}}finally{try{c&&!c.done&&(w=l.return)&&w.call(l)}finally{if(b)throw b.error}}return[3,3];case 2:throw Ut.storeNotAvailable;case 3:return[2]}})})},o.prototype._removeRaw=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return Zi[this.dbname]?[4,Lg(this.delay)]:[3,2];case 1:v.sent();try{for(l=Rn(i),c=l.next();!c.done;c=l.next())h=c.value,Zi[this.dbname][h]&&delete Zi[this.dbname][h]}catch(b){f={error:b}}finally{try{c&&!c.done&&(m=l.return)&&m.call(l)}finally{if(f)throw f.error}}return[3,3];case 2:throw Ut.storeNotAvailable;case 3:return[2]}})})},o.prototype.observe=function(i,l,c){var h=this;this.observer[i]||(this.observer[i]={}),l.forEach(function(f){return h.observer[i][f]=c})},o.prototype.isAvailable=function(){return q(this,void 0,void 0,function(){return z(this,function(i){return[2,!0]})})},o.prototype.init=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){return this.dbname=i,Zi[this.dbname]={},[2]})})},o.prototype.set=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){if(this.observer[i.key]&&typeof this.observer[i.key].set=="function"&&(l=this.observer[i.key].set()))throw l;return[2,a.prototype.set.call(this,i)]})})},o.prototype.setMany=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v;return z(this,function(b){try{for(l=Rn(i),c=l.next();!c.done;c=l.next())if(h=c.value,this.observer[h.key]&&typeof this.observer[h.key].set=="function"&&(f=this.observer[h.key].set()))throw f}catch(w){m={error:w}}finally{try{c&&!c.done&&(v=l.return)&&v.call(l)}finally{if(m)throw m.error}}return[2,a.prototype.setMany.call(this,i)]})})},o.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,Lg(this.delay)];case 1:return i.sent(),Zi[this.dbname]={},[2]}})})},o}(zg),iX=function(a){function o(i){i===void 0&&(i={});var l,c=this;return(c=a.call(this,he(he({},i),{itemSizeLimit:(l=i.itemSizeLimit)!==null&&l!==void 0?l:104857600}))||this)._storeName="NestDBStore",c._window=typeof window<"u"?window:null,c._indexedDb=c._window?c._window.indexedDB||c._window.mozIndexedDB||c._window.webkitIndexedDB||c._window.msIndexedDB:null,c}return K(o,a),o.prototype._getObjectStore=function(i){return this._database.transaction(this._storeName,i).objectStore(this._storeName)},o.prototype._getAllRawKeys=function(){return q(this,void 0,void 0,function(){var i=this;return z(this,function(l){switch(l.label){case 0:return[4,new Promise(function(c,h){var f=i._getObjectStore("readonly").getAllKeys();f.addEventListener("success",function(m){c(m.target.result)}),f.addEventListener("error",function(m){return h(m.target.error)})})];case 1:return[2,l.sent()]}})})},o.prototype._getRaw=function(i){return q(this,void 0,void 0,function(){var l=this;return z(this,function(c){switch(c.label){case 0:return[4,new Promise(function(h,f){var m=l._getObjectStore("readonly").get(i);m.addEventListener("success",function(v){var b;h((b=v==null?void 0:v.target)===null||b===void 0?void 0:b.result)}),m.addEventListener("error",function(v){return f(v.target.error)})})];case 1:return[2,c.sent()]}})})},o.prototype._setRaw=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=this._getObjectStore("readwrite"),[4,Promise.all(i.map(function(h){return new Promise(function(f,m){var v=l.put(h);v.addEventListener("success",function(b){f(b.target.result)}),v.addEventListener("error",function(){m("Failed to write.")})})}))];case 1:return c.sent(),[2]}})})},o.prototype._removeRaw=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return l=this._getObjectStore("readwrite"),[4,Promise.all(i.map(function(h){return new Promise(function(f,m){var v=l.delete(h);v.addEventListener("success",function(){return f(h)}),v.addEventListener("error",function(b){return m(b.target.error)})})}))];case 1:return c.sent(),[2]}})})},o.prototype.isAvailable=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f=this;return z(this,function(m){switch(m.label){case 0:if(!(((i=typeof window<"u"?window:null)==null?void 0:i.indexedDB)||(i==null?void 0:i.mozIndexedDB)||(i==null?void 0:i.webkitIndexedDB)||(i==null?void 0:i.msIndexedDB)))return[3,4];m.label=1;case 1:return m.trys.push([1,3,,4]),this._indexedDb=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,l=typeof document<"u"&&typeof navigator<"u",c=navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/"),h=navigator.userAgent&&navigator.userAgent.includes("Edge/"),[4,new Promise(function(v,b){if(l)if(c){var w=f._indexedDb.open("_testMozilla");w.onerror=function(){return b("Private browsing mode.")},w.onsuccess=function(){return v()}}else h?(i.PointerEvent||i.MSPointerEvent)&&b("Private browsing mode."):v()})];case 2:return m.sent(),[2,!0];case 3:return m.sent(),[2,!1];case 4:return[2,!1]}})})},o.prototype.init=function(i){return q(this,void 0,void 0,function(){var l,c=this;return z(this,function(h){switch(h.label){case 0:return this.dbname=i,[4,new Promise(function(f,m){if(c._window&&bo)if(zQ){var v=c._indexedDb.open("_testMozilla");v.onerror=function(){return m(Ut.storeNotAvailableInPrivateBrowsing)},v.onsuccess=function(){return f()}}else qQ?c._window.indexedDB||!c._window.PointerEvent&&!c._window.MSPointerEvent||m(Ut.storeNotAvailableInPrivateBrowsing):f();else m(Ut.storeNotAvailable)})];case 1:return h.sent(),l=this,[4,new Promise(function(f,m){var v=c._indexedDb.open(i);v.addEventListener("upgradeneeded",function(b){b.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),v.addEventListener("success",function(b){return f(b.target.result)}),v.addEventListener("error",function(b){return m(b.target.error)})})];case 2:return l._database=h.sent(),[2]}})})},o.prototype.clear=function(){return q(this,void 0,void 0,function(){var i=this;return z(this,function(l){switch(l.label){case 0:return[4,new Promise(function(c,h){var f=i._getObjectStore("readwrite").clear();f.addEventListener("success",function(){return c()}),f.addEventListener("error",function(m){return h(m.target.error)})})];case 1:return[2,l.sent()]}})})},o}(zg),aX=function(a){function o(i){var l=this,c=i.AsyncStorage,h=i.itemSizeLimit,f=h===void 0?6291456:h,m=function(v,b){var w={};for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&b.indexOf(C)<0&&(w[C]=v[C]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var H=0;for(C=Object.getOwnPropertySymbols(v);H<C.length;H++)b.indexOf(C[H])<0&&Object.prototype.propertyIsEnumerable.call(v,C[H])&&(w[C[H]]=v[C[H]])}return w}(i,["AsyncStorage","itemSizeLimit"]);return(l=a.call(this,he(he({},m),{itemSizeLimit:f}))||this)._asyncStorage=c,l}return K(o,a),o.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},o.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},o.prototype._getAllRawKeys=function(){return q(this,void 0,void 0,function(){var i=this;return z(this,function(l){switch(l.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return[2,l.sent().filter(function(c){return i._isBelonging(c)}).map(function(c){return c.substring("".concat(i.dbname,"/").length)})]}})})},o.prototype._getRaw=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(i))];case 1:return[2,(l=c.sent())?JSON.parse(l):null]}})})},o.prototype._setRaw=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v,b;return z(this,function(w){switch(w.label){case 0:l=[];try{for(c=Rn(i),h=c.next();!h.done;h=c.next())f=h.value,m=f.key,f.data.length<=this.adjustedItemSizeLimit&&l.push([this._getActualKey(m),JSON.stringify(f)])}catch(C){v={error:C}}finally{try{h&&!h.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}}return[4,this._asyncStorage.multiSet(l)];case 1:return w.sent(),[2]}})})},o.prototype._removeRaw=function(i){return q(this,void 0,void 0,function(){var l=this;return z(this,function(c){switch(c.label){case 0:return[4,this._asyncStorage.multiRemove(i.map(function(h){return l._getActualKey(h)}))];case 1:return c.sent(),[2]}})})},o.prototype.isAvailable=function(){return q(this,void 0,void 0,function(){return z(this,function(i){return[2,!!this._asyncStorage]})})},o.prototype.init=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){return this.dbname=i,[2]})})},o.prototype.clear=function(){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return[4,this.getAllKeys()];case 1:return i=l.sent(),[4,this.removeMany(i)];case 2:return l.sent(),[2]}})})},o}(zg);(function(a){function o(i){var l,c=this;return(c=a.call(this,he(he({},i),{itemSizeLimit:(l=i.itemSizeLimit)!==null&&l!==void 0?l:6291456}))||this)._mmkv=i.MMKV,c}K(o,a),o.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},o.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},o.prototype._getAllRawKeys=function(){return q(this,void 0,void 0,function(){var i=this;return z(this,function(l){switch(l.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return[2,l.sent().filter(function(c){return i._isBelonging(c)}).map(function(c){return c.substring("".concat(i.dbname,"/").length)})]}})})},o.prototype._getRaw=function(i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:return[4,this._mmkv.getString(this._getActualKey(i))];case 1:return[2,(l=c.sent())?JSON.parse(l):null]}})})},o.prototype._setRaw=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v;return z(this,function(b){try{for(l=Rn(i),c=l.next();!c.done;c=l.next())h=c.value,f=h.key,h.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(f),JSON.stringify(h))}catch(w){m={error:w}}finally{try{c&&!c.done&&(v=l.return)&&v.call(l)}finally{if(m)throw m.error}}return[2]})})},o.prototype._removeRaw=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m;return z(this,function(v){try{for(l=Rn(i),c=l.next();!c.done;c=l.next())h=c.value,this._mmkv.delete(this._getActualKey(h))}catch(b){f={error:b}}finally{try{c&&!c.done&&(m=l.return)&&m.call(l)}finally{if(f)throw f.error}}return[2]})})},o.prototype.isAvailable=function(){return q(this,void 0,void 0,function(){return z(this,function(i){return[2,!!this._mmkv]})})},o.prototype.init=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){return this.dbname=i,[2]})})},o.prototype.clear=function(){return q(this,void 0,void 0,function(){var i;return z(this,function(l){switch(l.label){case 0:return[4,this.getAllKeys()];case 1:return i=l.sent(),[4,this.removeMany(i)];case 2:return l.sent(),[2]}})})}})(zg);var Eo,Bg=!0,Hu=function(){function a(){}return a.off=function(){Bg=!1},a.log=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];Bg&&console.log.apply(console,Wt(["".concat("[NESTDB]","[LOG]")],Mt(o),!1))},a.warning=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];Bg&&console.warn.apply(console,Wt(["".concat("[NESTDB]","[WARNING]")],Mt(o),!1))},a.error=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];Bg&&console.error.apply(console,Wt(["".concat("[NESTDB]","[ERROR]")],Mt(o),!1))},a}();(function(a){a.INIT="INIT",a.OPENING="OPENING",a.OPENED="OPENED",a.CLOSED="CLOSED"})(Eo||(Eo={}));var H1,sX=function(){function a(o){var i=o.name,l=o.version,c=o.store,h=o.config;this.name=i,this._version=l,this._state=Eo.INIT,this._config=h||new Ug({dbname:i}),this._store=c,this._event={success:Pg,error:Pg,upgrade:C6},this._collections=new Map,this._globalMutex=new R1("".concat(this.name,".lock")),this._config.disableLogger&&Hu.off(),new Pa({dbname:i,limit:this._config.cacheLimit})}return Object.defineProperty(a.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),a.prototype.estimateUsage=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,(i=this._store,q(void 0,void 0,void 0,function(){return z(this,function(l){switch(l.label){case 0:return[4,i.usage()];case 1:return[2,l.sent()]}})}))];case 1:return[2,o.sent()]}var i})})},a.prototype.commitSchema=function(o){return q(this,void 0,void 0,function(){var i=this;return z(this,function(l){switch(l.label){case 0:return this._state!==Eo.OPENING?[3,2]:[4,Promise.all(o.map(function(c){return q(i,void 0,void 0,function(){var h,f,m,v;return z(this,function(b){switch(b.label){case 0:return h=c.collectionName,f=c.keyName,m=c.index,v=m===void 0?[]:m,this._collections.has(h)||this._collections.set(h,new F1({dbname:this.name,collectionName:h,keyName:f,indexes:v,store:this._store})),[4,this._collections.get(h).init()];case 1:return b.sent(),[2]}})})}))];case 1:return l.sent(),[3,3];case 2:throw Ut.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},a.prototype.open=function(){var o;return q(this,void 0,void 0,function(){var i,l,c,h,f=this;return z(this,function(m){switch(m.label){case 0:return[4,this._globalMutex.lock()];case 1:if(m.sent(),this._state===Eo.OPENED)return[3,15];this._state=Eo.OPENING,m.label=2;case 2:return m.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return m.sent(),v=this.name,i="".concat(U1(v),".metadata"),l={version:0,collectionNames:[]},[4,this._store.get(i)];case 4:return c=(o=m.sent())!==null&&o!==void 0?o:l,[2,new Promise(function(b,w){var C=function(F){c.version<f._version?f._event.upgrade(c.version,function($){return q(f,void 0,void 0,function(){var B;return z(this,function(W){switch(W.label){case 0:if($)return[3,5];c.version++,c.collectionNames=Array.from(this._collections.keys()),W.label=1;case 1:return W.trys.push([1,3,,4]),[4,this._store.set({key:i,value:c,generation:this._version})];case 2:return W.sent(),F({continued:!0}),[3,4];case 3:return B=W.sent(),F({continued:!1,err:B}),[3,4];case 4:return[3,6];case 5:F({continued:!1,err:$}),W.label=6;case 6:return[2]}})})}):F({continued:!1})},H=function(F){var $=F.continued,B=$!==void 0&&$,W=F.err,ie=W===void 0?null:W;if(B)setTimeout(function(){return C(H)},10);else if(ie)Hu.error(ie.message),f._globalMutex.unlock(),f._event.error(ie),w(ie);else{var Z=[];c.collectionNames.forEach(function(pe){f._collections.has(pe)||Z.push(q(f,void 0,void 0,function(){var Oe,te;return z(this,function(X){switch(X.label){case 0:return[4,F1.metadataOf(this.name,pe,this._store)];case 1:return(Oe=X.sent())?(te=new F1({dbname:this.name,collectionName:pe,keyName:Oe.keyName,indexes:Oe.indexes,store:this._store}),this._collections.set(pe,te),[4,te.init()]):[3,3];case 2:X.sent(),X.label=3;case 3:return[2]}})}))}),Promise.all(Z).then(function(){f._state=Eo.OPENED,f._globalMutex.unlock(),f._event.success(),b()}).catch(function(pe){Hu.error(pe.message),f._globalMutex.unlock(),f._event.error(pe),w(pe)})}};C(H)})];case 5:switch((h=m.sent()).code){case At.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case At.STORE_NOT_AVAILABLE:return[3,8];case At.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return Hu.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new qg({}),this._globalMutex.unlock(),this._event.error(h),[4,this.open()];case 7:return m.sent(),[3,14];case 8:return Hu.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new qg({}),this._globalMutex.unlock(),this._event.error(h),[4,this.open()];case 9:return m.sent(),[3,14];case 10:return Hu.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return m.sent(),this._globalMutex.unlock(),this._event.error(h),[4,this.open()];case 12:return m.sent(),[3,14];case 13:throw Hu.error(h.message),this._globalMutex.unlock(),this._event.error(h),h;case 14:return[3,15];case 15:return[2]}var v})})},a.prototype.close=function(){this._collections.forEach(function(o){return o.close()}),this._state=Eo.CLOSED},a.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(o){switch(o.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(i){return i.clear()}))];case 1:return o.sent(),[2]}})})},a.prototype.reset=function(){return q(this,void 0,void 0,function(){var o,i=this;return z(this,function(l){switch(l.label){case 0:return this.close(),(o=Pa.get(this.name))&&o.clearByCondition(function(c){return c.key.startsWith(U1(i.name))}),[4,this._store.clear()];case 1:return l.sent(),[2]}})})},a.prototype.on=function(o,i){this._event[o]=i},a.prototype.off=function(o){typeof this._event[o]=="function"&&(this._event[o]=o==="upgrade"?C6:Pg)},a.prototype.collection=function(o){return this._collections.get(o)||null},a}();(function(a){a.MUTED="muted",a.BANNED="banned"})(H1||(H1={}));var Cp,N6=function(){function a(o){var i,l,c;this.restrictionType=null,this.description=null,this.endAt=-1,Dt(H1,o.restriction_type)&&(this.restrictionType=o.restriction_type),this.description=(i=o.description)!==null&&i!==void 0?i:null,this.endAt=(c=(l=o.end_at)!==null&&l!==void 0?l:o.muted_end_at)!==null&&c!==void 0?c:-1}return a.payloadify=function(o){return o?Ln({restriction_type:o.restrictionType,description:o.description,end_at:o.endAt}):null},a}(),_d=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.restrictionInfo=null,c.restrictionInfo=new N6(l),c}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},a.payloadify.call(this,i)),N6.payloadify(i.restrictionInfo))):null},o}(Vn),O6={data:null,customType:null,mentionType:yi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},A6=function(a){return fe("string",a.data,!0)&&fe("string",a.customType,!0)&&Dt(yi,a.mentionType)&&it("string",a.mentionedUserIds,!0)&&it(Vn,a.mentionedUsers,!0)&&fe("string",a.mentionedMessageTemplate,!0)&&it(ya,a.metaArrays,!0)&&Dt(pl,a.pushNotificationDeliveryOption,!0)&&fe(gl,a.appleCriticalAlertOptions,!0)},oX=he(he({},O6),{message:null,translationTargetLanguages:null,pollId:null}),lX=he({},O6),uX=function(a){function o(i){var l=i.channelUrl,c=i.channelType,h=i.token,f=i.limit,m=a.call(this)||this;return m.method=Qe.GET,m.path="".concat(wt(c),"/").concat(encodeURIComponent(l),"/operators"),m.params={token:h,limit:f},m}return K(o,a),o}(Je),cX=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.operators=l.operators.map(function(h){return new Vn(i,h)}),c.token=l.next,c}return K(o,a),o}(rn),dX=function(a){function o(i,l,c,h){return a.call(this,i,l,c,h)||this}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)},o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:(i=[],this._hasNext?(this._isLoading=!0,l=Ce.of(this._iid).requestQueue,c=new uX(he(he({},this),{channelUrl:this.channelUrl,token:this._token})),[4,l.send(c)]):[3,2]):[3,5];case 1:return h=b.sent(),f=h.as(cX),m=f.operators,v=f.token,this._token=v,this._hasNext=!!v,this._isLoading=!1,[2,m];case 2:return[2,i];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(Uu),hX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.limit,m=i.token;return(l=a.call(this)||this).method=Qe.GET,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/mute"),l.params={limit:f,token:m},l}return K(o,a),o}(Je),pX=function(a){function o(i,l){var c=a.call(this,i,l)||this;c.token=null,c.mutedUsers=[];var h=l.next,f=l.muted_list;return c.token=h,f&&f.length>0&&(c.mutedUsers=f.map(function(m){return new _d(i,m)})),c}return K(o,a),o}(rn),fX=function(a){function o(i,l,c,h){return a.call(this,i,l,c,h)||this}return K(o,a),o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid).requestQueue,l=new hX(he(he({},this),{token:this._token})),[4,i.send(l)]):[3,2]:[3,5];case 1:return c=v.sent(),h=c.as(pX),f=h.mutedUsers,m=h.token,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(Uu),gX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.limit,m=i.token;return(l=a.call(this)||this).method=Qe.GET,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/ban"),l.params=Ln({limit:f,token:m}),l}return K(o,a),o}(Je),mX=function(a){function o(i,l){var c=a.call(this,i,l)||this;c.token=null,c.bannedUsers=[];var h=l.next,f=l.banned_list;return c.token=h,f&&f.length>0&&(c.bannedUsers=f.map(function(m){return new _d(i,m.user)})),c}return K(o,a),o}(rn),vX=function(a){function o(i,l,c,h){return a.call(this,i,l,c,h)||this}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)},o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid).requestQueue,l=new gX(he(he({},this),{token:this._token})),[4,i.send(l)]):[3,2]:[3,5];case 1:return c=v.sent(),h=c.as(mX),f=h.bannedUsers,m=h.token,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(Uu);(function(a){a.SPAM="spam",a.HARASSING="harassing",a.SUSPICIOUS="suspicious",a.INAPPROPRIATE="inappropriate"})(Cp||(Cp={}));var _X=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.operatorUserIds;return(l=a.call(this)||this).method=Qe.POST,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/operators"),l.params={operator_ids:f},l}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var bX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.operatorUserIds;return(l=a.call(this)||this).method=Qe.DELETE,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/operators"),l.params={operator_ids:f},l}return K(o,a),o}(Je);(function(a){K(function(o,i){return a.call(this,o,i)||this},a)})(rn);var yX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.userId;return(l=a.call(this)||this).method=Qe.GET,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/mute/").concat(f),l}return K(o,a),o}(Je),EX=function(a){function o(i,l){var c=a.call(this,i,l)||this;c.isMuted=!1,c.startAt=null,c.endAt=null,c.remainingDuration=null,c.description=null;var h=l.is_muted,f=l.start_at,m=l.end_at,v=l.remaining_duration,b=l.description;return c.isMuted=h,c.startAt=f,c.endAt=m,c.remainingDuration=v,c.description=b,c}return K(o,a),o}(rn),R6=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.keys;return(l=a.call(this)||this).method=Qe.GET,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metadata"),l.params={keys:f,include_ts:!0},l}return K(o,a),o}(Je),M6=function(a){function o(i,l){var c=a.call(this,i,l)||this;c.ts=null;var h=l.metadata,f=l.ts;return c.metadata=h,c.ts=f!=null?f:null,c}return K(o,a),o}(rn),wX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.metadata;return(l=a.call(this)||this).method=Qe.POST,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metadata"),l.params={metadata:f,include_ts:!0},l}return K(o,a),o}(Je),xX=function(a){function o(i,l){var c,h,f=this;return(f=a.call(this,i,l)||this).metaData=(c=l.metadata)!==null&&c!==void 0?c:{},f.ts=(h=l.ts)!==null&&h!==void 0?h:null,f}return K(o,a),o}(rn),kX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.metadata,m=i.upsert;return(l=a.call(this)||this).method=Qe.PUT,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metadata"),l.params={metadata:f,include_ts:!0,upsert:m!=null&&m},l}return K(o,a),o}(Je),SX=function(a){function o(i,l){var c=a.call(this,i,l)||this;c.ts=null;var h=l.metadata,f=l.ts;return c.metadata=h,c.ts=f!=null?f:null,c}return K(o,a),o}(rn),CX=function(a){function o(i,l,c){var h=a.call(this,i,"SYEV",c)||this;return h.created=null,h.updated=null,h.deleted=null,c.data&&(h.created=c.data.created,h.updated=c.data.updated,h.deleted=c.data.deleted),h}return K(o,a),o}(Xt),TX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.key;return(l=a.call(this)||this).method=Qe.DELETE,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metadata/").concat(f),l.params={include_ts:!0},l}return K(o,a),o}(Je),IX=function(a){function o(i,l){var c=a.call(this,i,l)||this;c.ts=null;var h=l.ts;return c.ts=h!=null?h:null,c}return K(o,a),o}(rn),NX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType;return(l=a.call(this)||this).method=Qe.DELETE,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metadata"),l.params={include_ts:!0},l}return K(o,a),o}(Je),OX=function(a){function o(i,l){var c=a.call(this,i,l)||this;c.ts=null;var h=l.ts;return c.ts=h!=null?h:null,c}return K(o,a),o}(rn),D6=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.keys;return(l=a.call(this)||this).method=Qe.GET,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metacounter"),l.params={keys:f},l}return K(o,a),o}(Je),U6=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.metaCounter=l,c}return K(o,a),o}(rn),AX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.metaCounter;return(l=a.call(this)||this).method=Qe.POST,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metacounter"),l.params={metacounter:f},l}return K(o,a),o}(Je),RX=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.metaCounter=l,c}return K(o,a),o}(rn),z1=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.metaCounter,m=i.upsert,v=m!==void 0&&m,b=i.mode,w=b===void 0?"set":b;return(l=a.call(this)||this).method=Qe.PUT,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metacounter"),l.params={metacounter:f,upsert:v,mode:w},l}return K(o,a),o}(Je),q1=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.metaCounter=l,c}return K(o,a),o}(rn),MX=function(a){function o(i,l,c){var h=a.call(this,i,"SYEV",c)||this;return h.created=null,h.updated=null,h.deleted=null,c.data&&(h.created=c.data.created,h.updated=c.data.updated,h.deleted=c.data.deleted),h}return K(o,a),o}(Xt),DX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.key;return(l=a.call(this)||this).method=Qe.DELETE,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metacounter/").concat(f),l.params=null,l}return K(o,a),o}(Je);(function(a){K(function(o,i){return a.call(this,o,i)||this},a)})(rn);var UX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType;return(l=a.call(this)||this).method=Qe.DELETE,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/metacounter"),l.params=null,l}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var LX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.userId,m=i.seconds,v=i.description;return(l=a.call(this)||this).method=Qe.POST,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/mute"),l.params={user_id:f,seconds:m,description:v},l}return K(o,a),o}(Je);(function(a){K(function(o,i){return a.call(this,o,i)||this},a)})(rn);var PX=function(a){function o(i,l,c){var h=a.call(this,i,"SYEV",c)||this;return h.user=new _d(i,c.data),h}return K(o,a),o}(Xt),FX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.userId;return(l=a.call(this)||this).method=Qe.DELETE,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/mute/").concat(encodeURIComponent(f)),l}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var HX=function(a){function o(i,l,c){var h=a.call(this,i,"SYEV",c)||this;return h.user=new _d(i,c.data),h}return K(o,a),o}(Xt),zX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.userId,m=i.seconds,v=i.description;return(l=a.call(this)||this).method=Qe.POST,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/ban"),l.params=Ln({user_id:f,seconds:m,description:v}),l}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var qX=function(a){function o(i,l,c){var h=a.call(this,i,"SYEV",c)||this;return h.memberCount=null,h.joinedMemberCount=null,h.user=new _d(i,c.data),c.data.member_count&&(h.memberCount=c.data.member_count),c.data.joined_member_count&&(h.joinedMemberCount=c.data.joined_member_count),h}return K(o,a),o}(Xt),BX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.userId;return(l=a.call(this)||this).method=Qe.DELETE,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/ban/").concat(encodeURIComponent(f)),l}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var jX=function(a){function o(i,l,c){var h=a.call(this,i,"SYEV",c)||this;return h.user=new _d(i,c.data),h}return K(o,a),o}(Xt),L6=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.freezing;return(l=a.call(this)||this).method=Qe.PUT,l.path="".concat(wt(h),"/").concat(encodeURIComponent(c),"/freeze"),l.params={freeze:f},l}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var GX=function(a){function o(i,l,c){var h=a.call(this,i,"SYEV",c)||this;return h.freeze=c.data.freeze,h}return K(o,a),o}(Xt),$X=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.category,m=i.userId,v=i.description;return(l=a.call(this)||this).method=Qe.POST,l.path="".concat(WN(h),"/").concat(encodeURIComponent(c)),l.params={report_category:f,reporting_user_id:m,report_description:v},l}return K(o,a),o}(Je),VX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.category,m=i.userId,v=i.offendingUserId,b=i.description;return(l=a.call(this)||this).method=Qe.POST,l.path="".concat(o1,"/users/").concat(v),l.params={channel_url:c,channel_type:h===Qt.OPEN?"open_channels":"group_channels",report_category:f,reporting_user_id:m,report_description:b},l}return K(o,a),o}(Je),WX=function(a){function o(i){var l=this,c=i.channelUrl,h=i.channelType,f=i.category,m=i.userId,v=i.offendingUserId,b=i.messageId,w=i.description;return(l=a.call(this)||this).method=Qe.POST,l.path="".concat(WN(h),"/").concat(encodeURIComponent(c),"/messages/").concat(b),l.params={report_category:f,reporting_user_id:m,report_description:w,offending_user_id:v},l}return K(o,a),o}(Je),KX=function(a){function o(i){var l=[];return i.mentionType===yi.USERS&&(i.mentionedUserIds?l=i.mentionedUserIds:i.mentionedUsers&&(l=i.mentionedUsers.map(function(c){return c.userId}))),a.call(this,{code:"MESG",ackRequired:!0,payload:Ln({channel_url:i.channelUrl,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:l,mentioned_message_template:i.mentionedMessageTemplate,target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==pl.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId>0?i.parentMessageId:null,req_id:i.reqId,poll_id:i.pollId,pin_message:i.isPinnedMessage})})||this}return K(o,a),o}(cs),P6=function(a){function o(i,l,c){var h,f,m,v=this;(v=a.call(this,i,"MESG",c)||this).message=new Ei(i,c);var b=Ce.of(i).sdkState;return v.isMentioned=pd(v.message.mentionType,(h=v.message.mentionedUserIds)!==null&&h!==void 0?h:(f=v.message.mentionedUsers)===null||f===void 0?void 0:f.map(function(w){return w.userId}),b.userId),v.forceUpdateLastMessage=(m=c.force_update_last_message)!==null&&m!==void 0&&m,v}return K(o,a),o}(Xt),F6=function(a){function o(i){var l,c=null;return i.mentionType===yi.USERS&&(i.mentionedUserIds?c=i.mentionedUserIds:i.mentionedUsers&&(c=i.mentionedUsers.map(function(h){return h.userId}))),a.call(this,{code:"MEDI",ackRequired:!0,payload:Ln({channel_url:i.channelUrl,msg_id:i.messageId,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:c,mentioned_message_template:i.mentionedMessageTemplate,apple_critical_alert_options:(l=i.appleCriticalAlertOptions)===null||l===void 0?void 0:l.serialize(),poll_id:i.pollId})})||this}return K(o,a),o}(cs),B1=function(a){function o(i,l,c){var h,f,m,v,b,w,C=this;(C=a.call(this,i,"MEDI",c)||this).message=new Ei(i,c);var H=Ce.of(i).sdkState;return C.mentionCountChange=b1({mentionType:(f=(h=c.old_values)===null||h===void 0?void 0:h.mention_type)!==null&&f!==void 0?f:null,mentionedUserIds:(v=(m=c.old_values)===null||m===void 0?void 0:m.mentioned_user_ids)!==null&&v!==void 0?v:[]},{mentionType:C.message.mentionType,mentionedUserIds:(b=C.message.mentionedUserIds)!==null&&b!==void 0?b:(w=C.message.mentionedUsers)===null||w===void 0?void 0:w.map(function(F){return F.userId})},H.userId),C}return K(o,a),o}(Xt),H6=function(a){function o(i){var l=null;return i.mentionType===yi.USERS&&(i.mentionedUserIds?l=i.mentionedUserIds:i.mentionedUsers&&(l=i.mentionedUsers.map(function(c){return c.userId}))),a.call(this,{code:"FEDI",ackRequired:!0,payload:Ln({channel_url:i.channelUrl,msg_id:i.messageId,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:l,apple_critical_alert_options:i.appleCriticalAlertOptions})})||this}return K(o,a),o}(cs),j1=function(a){function o(i,l,c){var h,f,m,v,b,w,C=this;(C=a.call(this,i,"FEDI",c)||this).message=new gr(i,c);var H=Ce.of(i).sdkState;return C.mentionCountChange=b1({mentionType:(f=(h=c.old_values)===null||h===void 0?void 0:h.mention_type)!==null&&f!==void 0?f:null,mentionedUserIds:(v=(m=c.old_values)===null||m===void 0?void 0:m.mentioned_user_ids)!==null&&v!==void 0?v:[]},{mentionType:C.message.mentionType,mentionedUserIds:(b=C.message.mentionedUserIds)!==null&&b!==void 0?b:(w=C.message.mentionedUsers)===null||w===void 0?void 0:w.map(function(F){return F.userId})},H.userId),C}return K(o,a),o}(Xt),QX=function(a){function o(i){var l=a.call(this)||this;return l.method=Qe.DELETE,l.path="".concat(wt(i.channelType),"/").concat(i.channelUrl,"/messages/").concat(i.messageId),l}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var YX=function(a){function o(i,l,c){var h=a.call(this,i,"DELM",c)||this;return h.channelUrl=c.channel_url,h.channelType=c.channel_type,h.messageId=Number(c.msg_id),h}return K(o,a),o}(Xt),XX=function(a){function o(i){var l=i.channelType,c=i.channelUrl,h=i.messageId,f=i.reactionKey,m=a.call(this)||this;return m.method=Qe.POST,m.path="".concat(wt(l),"/").concat(encodeURIComponent(c),"/messages/").concat(h,"/reactions"),m.params={reaction:f},m}return K(o,a),o}(Je),ZX=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.reactionEvent=new f1(l),c}return K(o,a),o}(rn),JX=function(a){function o(i){var l=i.channelType,c=i.channelUrl,h=i.messageId,f=i.reactionKey,m=a.call(this)||this;return m.method=Qe.DELETE,m.path="".concat(wt(l),"/").concat(encodeURIComponent(c),"/messages/").concat(h,"/reactions"),m.params={reaction:f},m}return K(o,a),o}(Je),eZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.reactionEvent=new f1(he({},l)),c}return K(o,a),o}(rn),nZ=function(a){function o(i){var l=i.channelType,c=i.channelUrl,h=i.messageId,f=i.translationTargetLanguages,m=a.call(this)||this;return m.method=Qe.POST,m.path="".concat(wt(l),"/").concat(encodeURIComponent(c),"/messages/").concat(encodeURIComponent(h),"/translation"),m.params={target_langs:f},m}return K(o,a),o}(Je),tZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.message=new Ei(i,l),c}return K(o,a),o}(rn),rZ=function(a){function o(i){var l,c=this;c=a.call(this)||this;var h=[];i.mentionType===yi.USERS&&(i.mentionedUserIds?h=i.mentionedUserIds:i.mentionedUsers&&(h=i.mentionedUsers.map(function(v){return v.userId})));var f=i.channelType,m=i.channelUrl;return c.method=Qe.POST,c.path="".concat(wt(f),"/").concat(encodeURIComponent(m),"/scheduled_messages"),c.params={req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:Tg.USER,message:i.message,custom_type:i.customType,data:i.data,mention_type:i.mentionType,mentioned_user_ids:h,sorted_metaarray:(l=i.metaArrays)===null||l===void 0?void 0:l.map(function(v){return ya.payloadify(v)}),apple_critical_alert_options:gl.payloadify(i.appleCriticalAlertOptions),target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption},c}return K(o,a),o}(Je),iZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.message=new Ei(i,l),c}return K(o,a),o}(rn),aZ=function(a){function o(i){var l,c=this;c=a.call(this)||this;var h=[];i.mentionType===yi.USERS&&(i.mentionedUserIds?h=i.mentionedUserIds:i.mentionedUsers&&(h=i.mentionedUsers.map(function(v){return v.userId})));var f=i.channelType,m=i.channelUrl;return c.method=Qe.POST,c.path="".concat(wt(f),"/").concat(encodeURIComponent(m),"/scheduled_messages"),c.params={req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:Tg.FILE,url:i.fileUrl,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function(v){return g1.payloadify(v)}):[],custom_type:i.customType,data:i.data,require_auth:i.requireAuth,mention_type:i.mentionType,mentioned_user_ids:h,sorted_metaarray:(l=i.metaArrays)===null||l===void 0?void 0:l.map(function(v){return ya.payloadify(v)}),apple_critical_alert_options:gl.payloadify(i.appleCriticalAlertOptions),push_option:i.pushNotificationDeliveryOption},c}return K(o,a),o}(Je),sZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.message=new gr(i,l),c}return K(o,a),o}(rn),oZ=function(a){function o(i){var l=i.pollId,c=i.title,h=i.data,f=i.allowUserSuggestion,m=i.allowMultipleVotes,v=i.closeAt,b=a.call(this)||this;return b.method=Qe.PUT,b.path="".concat(ds,"/").concat(encodeURIComponent(l)),b.params={title:c,data:h,allow_user_suggestion:f,allow_multiple_votes:m,close_at:v},b}return K(o,a),o}(Je),lZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.poll=new La(i,l),c}return K(o,a),o}(rn),uZ=function(a){function o(i){var l=i.pollId,c=a.call(this)||this;return c.method=Qe.DELETE,c.path="".concat(ds,"/").concat(encodeURIComponent(l)),c}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var cZ=function(a){function o(i){var l=i.pollId,c=a.call(this)||this;return c.method=Qe.PUT,c.path="".concat(ds,"/").concat(encodeURIComponent(l),"/close"),c}return K(o,a),o}(Je),dZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.poll=new La(i,l),c}return K(o,a),o}(rn),hZ=function(a){function o(i){var l=i.channelUrl,c=i.channelType,h=i.pollId,f=i.optionText,m=a.call(this)||this;return m.method=Qe.POST,m.path="".concat(ds,"/").concat(encodeURIComponent(h),"/options"),m.params={channel_url:l,channel_type:c,text:f},m}return K(o,a),o}(Je),pZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.poll=new La(i,l),c}return K(o,a),o}(rn),fZ=function(a){function o(i){var l=i.pollId,c=i.pollOptionId,h=i.optionText,f=a.call(this)||this;return f.method=Qe.PUT,f.path="".concat(ds,"/").concat(encodeURIComponent(l),"/options/").concat(encodeURIComponent(c)),f.params={text:h},f}return K(o,a),o}(Je),gZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.poll=new La(i,l),c}return K(o,a),o}(rn),mZ=function(a){function o(i){var l=i.pollId,c=i.pollOptionId,h=a.call(this)||this;return h.method=Qe.DELETE,h.path="".concat(ds,"/").concat(encodeURIComponent(l),"/options/").concat(encodeURIComponent(c)),h}return K(o,a),o}(Je);(function(a){K(function(){return a!==null&&a.apply(this,arguments)||this},a)})(rn);var ei,vZ=function(a){function o(i){var l=i.reqId,c=i.channelType,h=i.channelUrl,f=i.pollId,m=i.pollOptionIds;return a.call(this,{code:"VOTE",ackRequired:!0,payload:Ln({req_id:l,channel_type:c===Qt.OPEN?"open_channels":"group_channels",channel_url:h,poll_id:f,option_ids:m})})||this}return K(o,a),o}(cs),z6=function(a){function o(i,l,c){var h=a.call(this,i,"VOTE",c)||this;return h.event=null,h.channelUrl=null,h.channelType=null,h.event=new OQ(c),h.channelUrl=c.channel_url,h.channelType=c.channel_type,h}return K(o,a),o}(Xt),q6=function(a){function o(i,l){var c,h,f,m,v=this;return(v=a.call(this,i)||this).url="",v.channelType=Qt.BASE,v.name="",v.coverUrl="",v.customType="",v.data="",v.isFrozen=!1,v.isEphemeral=!1,v.creator=null,v.createdAt=0,v.url=l.channel_url,v.name=(c=l.name)!==null&&c!==void 0?c:"",v.coverUrl=(h=l.cover_url)!==null&&h!==void 0?h:"",v.customType=(f=l.custom_type)!==null&&f!==void 0?f:"",v.data=(m=l.data)!==null&&m!==void 0?m:"",v.isFrozen=!!fe("boolean",l.freeze)&&l.freeze,v.isEphemeral=!!fe("boolean",l.is_ephemeral)&&l.is_ephemeral,v.creator=l.created_by?new Vn(v._iid,l.created_by):null,v.createdAt=1e3*l.created_at,v._cachedMetaData=new Map,l.metadata&&l.ts&&Object.keys(l.metadata).forEach(function(b){v._cachedMetaData.set(b,{value:l.metadata[b],isRemoved:!1,updatedAt:l.ts})}),v}return K(o,a),o.payloadify=function(i){return Ln(he(he({},a.payloadify.call(this,i)),{channel_url:i.url,name:i.name,cover_url:i.coverUrl,custom_type:i.customType,data:i.data,freeze:i.isFrozen,is_ephemeral:i.isEphemeral,created_by:Vn.payloadify(i.creator),created_at:i.createdAt/1e3}))},o.prototype.isGroupChannel=function(){return this.channelType===Qt.GROUP},o.prototype.isOpenChannel=function(){return this.channelType===Qt.OPEN},Object.defineProperty(o.prototype,"cachedMetaData",{get:function(){var i={};return this._cachedMetaData.forEach(function(l,c){l.isRemoved||(i[c]=l.value)}),i},enumerable:!1,configurable:!0}),o.prototype._upsertCachedMetaData=function(i,l){var c=this;Object.keys(i).forEach(function(h){var f=c._cachedMetaData.get(h);(!f||f.updatedAt<=l)&&c._cachedMetaData.set(h,{value:i[h],isRemoved:!1,updatedAt:l})})},o.prototype._removeFromCachedMetaData=function(i,l){var c=this;i.forEach(function(h){var f=c._cachedMetaData.get(h);f&&f.updatedAt<l&&(f.isRemoved=!1,f.updatedAt=l)})},o.prototype._generateRequestId=function(){return"rq-".concat(sd())},o.prototype.isIdentical=function(i){return i&&this.url===i.url},o.prototype.isEqual=function(i){return BI(this,i)},o.prototype.createOperatorListQuery=function(i){return i===void 0&&(i={}),new dX(this._iid,this.url,this.channelType,i)},o.prototype.createMutedUserListQuery=function(i){return i===void 0&&(i={}),new fX(this._iid,this.url,this.channelType,i)},o.prototype.createBannedUserListQuery=function(i){return i===void 0&&(i={}),new vX(this._iid,this.url,this.channelType,i)},o.prototype.createPreviousMessageListQuery=function(i){return i===void 0&&(i={}),new gQ(this._iid,this.url,this.channelType,i)},o.prototype.addOperators=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return an(it("string",i)).throw(be.invalidParameters),l=Ce.of(this._iid).requestQueue,c=new _X({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,l.send(c)];case 1:return h.sent(),[2]}})})},o.prototype.removeOperators=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return an(it("string",i)).throw(be.invalidParameters),l=Ce.of(this._iid).requestQueue,c=new bX({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,l.send(c)];case 1:return h.sent(),[2]}})})},o.prototype.getMyMutedInfo=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w,C,H;return z(this,function(F){switch(F.label){case 0:return i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new yX({channelUrl:this.url,channelType:this.channelType,userId:l.userId}),[4,c.send(h)];case 1:return f=F.sent(),m=f.as(EX),v=m.isMuted,b=m.startAt,w=m.endAt,C=m.remainingDuration,H=m.description,[2,{isMuted:v,startAt:b,endAt:w,remainingDuration:C,description:H}]}})})},o.prototype.getMetaData=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:return an(it("string",i)).throw(be.invalidParameters),l=Ce.of(this._iid).requestQueue,c=new R6({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,l.send(c)];case 1:return h=b.sent(),f=h.as(M6),m=f.metadata,v=f.ts,this._upsertCachedMetaData(m,v),[2,m]}})})},o.prototype.getAllMetaData=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new R6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(l)];case 1:return c=v.sent(),h=c.as(M6),f=h.metadata,m=h.ts,this._upsertCachedMetaData(f,m),[2,f]}})})},o.prototype.createMetaData=function(i){return q(this,void 0,void 0,function(){var l,c,h,f;return z(this,function(m){switch(m.label){case 0:return l=Ce.of(this._iid).requestQueue,c=new wX({channelUrl:this.url,channelType:this.channelType,metadata:i}),[4,l.send(c)];case 1:return h=m.sent(),f=h.as(xX).metaData,this._upsertCachedMetaData(f,0),[2,f]}})})},o.prototype.updateMetaData=function(i,l){return l===void 0&&(l=!1),q(this,void 0,void 0,function(){var c,h,f,m,v,b;return z(this,function(w){switch(w.label){case 0:return c=Ce.of(this._iid).requestQueue,h=new kX({channelUrl:this.url,channelType:this.channelType,metadata:i,upsert:l}),[4,c.send(h)];case 1:return f=w.sent(),m=f.as(SX),v=m.metadata,b=m.ts,this._upsertCachedMetaData(v,b),[2,v]}})})},o.prototype.deleteMetaData=function(i){return q(this,void 0,void 0,function(){var l,c,h,f;return z(this,function(m){switch(m.label){case 0:return an(fe("string",i)).throw(be.invalidParameters),l=Ce.of(this._iid).requestQueue,c=new TX({channelUrl:this.url,channelType:this.channelType,key:i}),[4,l.send(c)];case 1:return h=m.sent(),f=h.as(IX).ts,this._removeFromCachedMetaData([i],f),[2]}})})},o.prototype.deleteAllMetaData=function(){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new NX({channelUrl:this.url,channelType:this.channelType}),[4,i.send(l)];case 1:return c=f.sent(),h=c.as(OX).ts,this._removeFromCachedMetaData(Wt([],Mt(this._cachedMetaData.keys()),!1),h),[2]}})})},o.prototype.getMetaCounters=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return an(it("string",i)).throw(be.invalidParameters),l=Ce.of(this._iid).requestQueue,c=new D6({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,l.send(c)];case 1:return[2,h.sent().as(U6).metaCounter]}})})},o.prototype.getAllMetaCounters=function(){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new D6({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(l)];case 1:return[2,c.sent().as(U6).metaCounter]}})})},o.prototype.createMetaCounters=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return l=Ce.of(this._iid).requestQueue,c=new AX({channelUrl:this.url,channelType:this.channelType,metaCounter:i}),[4,l.send(c)];case 1:return[2,h.sent().as(RX).metaCounter]}})})},o.prototype.updateMetaCounters=function(i,l){return l===void 0&&(l=!1),q(this,void 0,void 0,function(){var c,h;return z(this,function(f){switch(f.label){case 0:return c=Ce.of(this._iid).requestQueue,h=new z1({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:l}),[4,c.send(h)];case 1:return[2,f.sent().as(q1).metaCounter]}})})},o.prototype.increaseMetaCounters=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return l=Ce.of(this._iid).requestQueue,c=new z1({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"increase"}),[4,l.send(c)];case 1:return[2,h.sent().as(q1).metaCounter]}})})},o.prototype.decreaseMetaCounters=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return l=Ce.of(this._iid).requestQueue,c=new z1({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"decrease"}),[4,l.send(c)];case 1:return[2,h.sent().as(q1).metaCounter]}})})},o.prototype.deleteMetaCounter=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return an(fe("string",i)).throw(be.invalidParameters),l=Ce.of(this._iid).requestQueue,c=new DX({channelUrl:this.url,channelType:this.channelType,key:i}),[4,l.send(c)];case 1:return h.sent(),[2]}})})},o.prototype.deleteAllMetaCounters=function(){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new UX({channelUrl:this.url,channelType:this.channelType}),[4,i.send(l)];case 1:return c.sent(),[2]}})})},o.prototype.muteUser=function(i,l,c){return q(this,void 0,void 0,function(){return z(this,function(h){return[2,this.muteUserWithUserId(i.userId,l,c)]})})},o.prototype.muteUserWithUserId=function(i,l,c){return q(this,void 0,void 0,function(){var h,f;return z(this,function(m){switch(m.label){case 0:return an(fe("string",i)&&fe("number",l,!0)&&fe("string",c,!0)).throw(be.invalidParameters),h=Ce.of(this._iid).requestQueue,f=new LX({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:l,description:c}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},o.prototype.unmuteUser=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){return[2,this.unmuteUserWithUserId(i.userId)]})})},o.prototype.unmuteUserWithUserId=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return an(fe("string",i)).throw(be.invalidParameters),l=Ce.of(this._iid).requestQueue,c=new FX({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,l.send(c)];case 1:return h.sent(),[2]}})})},o.prototype.banUser=function(i,l,c){return q(this,void 0,void 0,function(){return z(this,function(h){return[2,this.banUserWithUserId(i.userId,l,c)]})})},o.prototype.banUserWithUserId=function(i,l,c){return q(this,void 0,void 0,function(){var h,f;return z(this,function(m){switch(m.label){case 0:return an(fe("string",i)&&fe("number",l,!0)&&fe("string",c,!0)).throw(be.invalidParameters),h=Ce.of(this._iid).requestQueue,f=new zX({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:l,description:c}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},o.prototype.unbanUser=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){return[2,this.unbanUserWithUserId(i.userId)]})})},o.prototype.unbanUserWithUserId=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return an(fe("string",i)).throw(be.invalidParameters),l=Ce.of(this._iid).requestQueue,c=new BX({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,l.send(c)];case 1:return h.sent(),[2]}})})},o.prototype.freeze=function(){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new L6({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,i.send(l)];case 1:return c.sent(),this.isFrozen=!0,[2]}})})},o.prototype.unfreeze=function(){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new L6({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,i.send(l)];case 1:return c.sent(),this.isFrozen=!1,[2]}})})},o.prototype.getMessagesByMessageId=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=he(he({},Rg),l),an(fe("number",i)&&QN(c)).throw(be.invalidParameters),[4,Fi.of(this._iid).getMessagesByMessageId(this.url,this.channelType,i,c)];case 1:return[2,h.sent()]}})})},o.prototype.getMessagesByTimestamp=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=he(he({},Rg),l),an(fe("number",i)&&QN(c)).throw(be.invalidParameters),[4,Fi.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,i,c)];case 1:return[2,h.sent()]}})})},o.prototype.getMessageChangeLogsSinceTimestamp=function(i,l){return l===void 0&&(l={}),q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=he(he({},y1),l),an(fe("number",i)&&YN(c)).throw(be.invalidParameters),[4,Fi.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,c)];case 1:return[2,h.sent()]}})})},o.prototype.getMessageChangeLogsSinceToken=function(i,l){return l===void 0&&(l={}),q(this,void 0,void 0,function(){var c;return z(this,function(h){switch(h.label){case 0:return c=he(he({},y1),l),an(fe("string",i)&&YN(c)).throw(be.invalidParameters),[4,Fi.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,c)];case 1:return[2,h.sent()]}})})},o.prototype._createPendingSendableMessagePayload=function(i,l,c){var h=Ce.of(this._iid).sessionManager;return Ln({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,sorted_metaarray:i.metaArrays?i.metaArrays.map(function(f){return ya.payloadify(f)}):null,apple_critical_alert_options:i.appleCriticalAlertOptions?gl.payloadify(i.appleCriticalAlertOptions):null,created_at:c,user:wp.payloadify(h.currentUser),req_id:l,request_state:Kt.PENDING,mentioned_user_ids:i.mentionedUserIds,mentioned_users:i.mentionedUsers})},o.prototype._createPendingUserMessage=function(i,l,c){var h,f,m={};if(i.translationTargetLanguages)try{for(var v=Rn(i.translationTargetLanguages),b=v.next();!b.done;b=v.next())m[b.value]=""}catch(H){h={error:H}}finally{try{b&&!b.done&&(f=v.return)&&f.call(v)}finally{if(h)throw h.error}}var w=Ln(he(he({},this._createPendingSendableMessagePayload(i,l,c)),{type:rr.USER,message:i.message,translations:m})),C=new Ei(this._iid,w);return C.messageParams=i,C},o.prototype._createPendingScheduledUserMessage=function(i,l,c){var h=this._createPendingUserMessage(i,l,c);return h.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},h},o.prototype._createPendingFileMessage=function(i,l,c){var h=Ln(he(he({},this._createPendingSendableMessagePayload(i,l,c)),{type:rr.FILE,url:i.fileUrl,file:{name:i.fileName,size:i.fileSize,type:i.mimeType,data:i.data},thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function(m){return{url:"",width:m.maxWidth,height:m.maxHeight}}):[]})),f=new gr(this._iid,h);return f.messageParams=i,f},o.prototype._createPendingScheduledFileMessage=function(i,l,c){var h=this._createPendingFileMessage(i,l,c);return h.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},h},o.prototype._markMessageAsFailed=function(i,l,c){c===void 0&&(c=!1),i.errorCode=l.code,l.code===Gn.REQUEST_CANCELED?i.sendingStatus=Kt.CANCELED:c||(i.sendingStatus=Kt.FAILED)},o.prototype.sendUserMessage=function(i){var l=he(he({},u6),i);return an(function(c){return o6(c)&&fe("string",c.message)&&it("string",c.translationTargetLanguages,!0)&&fe("number",c.pollId,!0)}(l)).throw(be.invalidParameters),this._sendUserMessage(l)},o.prototype._sendUserMessage=function(i,l){var c=this;l===void 0&&(l=null);var h=Ce.of(this._iid),f=h.dispatcher,m=h.requestQueue,v=l,b=Date.now(),w=new x1;if(!v){v=this._generateRequestId();var C=Ce.of(this._iid).dispatcher;Hs(2).then(function(){var F=c._createPendingUserMessage(i,v,b);C.dispatch(new Xi({messages:[F],source:mr.EVENT_MESSAGE_SENT_PENDING})),Zn(function(){return q(c,void 0,void 0,function(){return z(this,function($){return[2,w._trigger(null,F)]})})})})}var H=new KX(he(he({},i),{channelUrl:this.url,channelType:this.channelType,reqId:v}));return m.send(H).then(function(F){var $=F.as(P6).message;f.dispatch(new Xi({messages:[$],source:mr.EVENT_MESSAGE_SENT_SUCCESS})),Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(B){return[2,w._trigger(null,$)]})})})}).catch(function(F){if(xu(F))throw F;Hs(2).then(function(){var $=c._createPendingUserMessage(i,v,b),B=Ce.of(c._iid).cacheContext.localCacheEnabled&&hg(F.code);c._markMessageAsFailed($,F,B),f.dispatch(new Xi({messages:[$],source:$.sendingStatus===Kt.PENDING?mr.REQUEST_RESEND_MESSAGE:mr.EVENT_MESSAGE_SENT_FAILED})),Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(W){return[2,w._trigger(F,$)]})})})})}),w},o.prototype._autoResendUserMessage=function(i){return an(i instanceof Ei).throw(be.invalidParameters),this._sendUserMessage(i.messageParams,i.reqId)},o.prototype.resendUserMessage=function(i){var l;return q(this,void 0,void 0,function(){var c,h;return z(this,function(f){return an(i instanceof Ei&&!i.scheduledInfo).throw(be.invalidParameters),c=new Pi,h=(l=i.messageParams)!==null&&l!==void 0?l:function(m){var v;return Ln({data:m.data,customType:m.customType,mentionType:m.mentionType,mentionedUsers:m.mentionedUsers,mentionedUserIds:m.mentionedUserIds,mentionedMessageTemplate:m.mentionedMessageTemplate,metaArrays:m.metaArrays,pollId:(v=m.poll)===null||v===void 0?void 0:v.id,parentMessageId:m.parentMessageId,appleCriticalAlertOptions:m.appleCriticalAlertOptions,message:m.message,translationTargetLanguages:Object.keys(m.translations)})}(i),this._sendUserMessage(h,i.reqId).onFailed(function(m){return c.reject(m)}).onSucceeded(function(m){return c.resolve(m)}),[2,c.promise]})})},o.prototype.updateUserMessage=function(i,l){return q(this,void 0,void 0,function(){var c,h,f;return z(this,function(m){switch(m.label){case 0:return c=he(he({},oX),l),an(fe("number",i)&&function(v){return A6(v)&&fe("string",v.message,!0)&&it("string",v.translationTargetLanguages,!0)&&fe("number",v.pollId,!0)}(c)).throw(be.invalidParameters),h=Ce.of(this._iid).requestQueue,f=new F6(he({channelType:this.channelType,channelUrl:this.url,messageId:i},c)),[4,h.send(f)];case 1:return[2,m.sent().as(B1).message]}})})},o.prototype.copyUserMessage=function(i,l){var c,h,f;return q(this,void 0,void 0,function(){var m,v;return z(this,function(b){return an(i instanceof o&&l instanceof Ei&&l.sendingStatus===Kt.SUCCEEDED&&this.url===l.channelUrl&&!l.scheduledInfo).throw(be.invalidParameters),an(!l.poll).throw(be.notSupportedError),m=new Pi,v=(c=l.messageParams)!==null&&c!==void 0?c:he(he({},l),{mentionType:l.mentionType,mentionedUserIds:(h=l.mentionedUserIds)!==null&&h!==void 0?h:(f=l.mentionedUsers)===null||f===void 0?void 0:f.map(function(w){return w.userId}),translationTargetLanguages:Object.keys(l.translations),pushNotificationDeliveryOption:pl.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}),i._sendUserMessage(v).onSucceeded(function(w){m.resolve(w)}).onFailed(function(w){return m.reject(w)}),[2,m.promise]})})},o.prototype.translateUserMessage=function(i,l){return q(this,void 0,void 0,function(){var c,h;return z(this,function(f){switch(f.label){case 0:return an(i instanceof Ei&&i.messageId>0&&it("string",l)).throw(be.invalidParameters),c=Ce.of(this._iid).requestQueue,h=new nZ({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,translationTargetLanguages:l}),[4,c.send(h)];case 1:return[2,f.sent().as(tZ).message]}})})},o.prototype._createScheduledUserMessage=function(i,l){var c=this,h=Ce.of(this._iid).requestQueue,f=Date.now(),m=this._generateRequestId();Hs(2).then(function(){var b=c._createPendingScheduledUserMessage(i,m,f);Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(w){return[2,l._trigger(null,b)]})})})});var v=new rZ(he({reqId:m,channelType:this.channelType,channelUrl:this.url},i));h.send(v).then(function(b){var w=b.as(iZ).message;Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(C){return[2,l._trigger(null,w)]})})})}).catch(function(b){if(xu(b))throw b;Hs(2).then(function(){var w=c._createPendingScheduledUserMessage(i,m,f);c._markMessageAsFailed(w,b),Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(C){return[2,l._trigger(b,w)]})})})})})},o.prototype.sendFileMessage=function(i){var l=he(he({},h6),i);return an(p6(l)).throw(be.invalidParameters),this._sendFileMessage(l)},o.prototype._sendFileMessage=function(i,l){var c=this;l===void 0&&(l=null);var h=Ce.of(this._iid).dispatcher,f=Fi.of(this._iid).fileMessageQueue,m=l,v=Date.now(),b=new x1;return m||(m=this._generateRequestId(),Hs(2).then(function(){var w=c._createPendingFileMessage(i,m,v);h.dispatch(new Xi({messages:[w],source:mr.EVENT_MESSAGE_SENT_PENDING})),Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(C){return[2,b._trigger(null,w)]})})})})),f.request(this,m,i).then(function(w){h.dispatch(new Xi({messages:[w],source:mr.EVENT_MESSAGE_SENT_SUCCESS})),Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(C){return[2,b._trigger(null,w)]})})})}).catch(function(w){if(xu(w))throw w;Hs(2).then(function(){var C=c._createPendingFileMessage(i,m,v),H=Ce.of(c._iid).cacheContext.localCacheEnabled&&hg(w.code);c._markMessageAsFailed(C,w,H),h.dispatch(new Xi({messages:[C],source:C.sendingStatus===Kt.PENDING?mr.REQUEST_RESEND_MESSAGE:mr.EVENT_MESSAGE_SENT_FAILED})),Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(F){return[2,b._trigger(w,C)]})})})})}),b},o.prototype._autoResendFileMessage=function(i){an(i instanceof gr).throw(be.invalidParameters);var l=Ce.of(this._iid).logger;return l.debug("autoResendFileMessage pending",i),this._sendFileMessage(i.messageParams,i.reqId).onFailed(function(c){l.debug("autoResendFileMessage failed",c)}).onSucceeded(function(c){l.debug("autoResendFileMessage success",c)})},o.prototype._createScheduledFileMessage=function(i,l,c,h){var f=this,m=Ce.of(this._iid).requestQueue,v=new aZ(he(he({reqId:c,channelType:this.channelType,channelUrl:this.url},i),{fileUrl:i.fileUrl,requireAuth:i.requireAuth}));m.send(v).then(function(b){var w=b.as(sZ).message;Zn(function(){return q(f,void 0,void 0,function(){return z(this,function(C){return[2,l._trigger(null,w)]})})})}).catch(function(b){if(xu(b))throw b;Hs(2).then(function(){var w=f._createPendingScheduledFileMessage(i,c,h);f._markMessageAsFailed(w,b),Zn(function(){return q(f,void 0,void 0,function(){return z(this,function(C){return[2,l._trigger(b,w)]})})})})})},o.prototype.sendFileMessages=function(i){var l,c;an(i.every(function(b){return p6(he(he({},h6),b))})).throw(be.invalidParameters);var h=new x1;try{for(var f=Rn(i),m=f.next();!m.done;m=f.next()){var v=m.value;this.sendFileMessage(v).onPending(function(b){return h._trigger(null,b)}).onFailed(function(b,w){return h._trigger(b,w)}).onSucceeded(function(b){return h._trigger(null,b)})}}catch(b){l={error:b}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return h},o.prototype.resendFileMessage=function(i,l){var c;return q(this,void 0,void 0,function(){var h,f,m;return z(this,function(v){return h=Boolean(i.url)||ga(l)||ga((c=i.messageParams)===null||c===void 0?void 0:c.file),an(i instanceof gr&&h&&!i.scheduledInfo).throw(be.invalidParameters),f=new Pi,m=function(b,w){var C;return w===void 0&&(w=null),b.messageParams?(!b.url&&ga(w)&&(b.messageParams.file=w),b.messageParams):Ln({data:b.data,customType:b.customType,mentionType:b.mentionType,mentionedUsers:b.mentionedUsers,mentionedUserIds:b.mentionedUserIds,metaArrays:b.metaArrays,parentMessageId:b.parentMessageId,appleCriticalAlertOptions:b.appleCriticalAlertOptions,file:w!=null?w:(C=b.messageParams)===null||C===void 0?void 0:C.file,fileUrl:b.url,fileName:b.name,fileSize:b.size,mimeType:b.type,thumbnailSizes:b.thumbnails.map(function(H){return{maxWidth:H.width,maxHeight:H.height}})})}(i,l),this._sendFileMessage(m,i.reqId).onFailed(function(b){return f.reject(b)}).onSucceeded(function(b){return f.resolve(b)}),[2,f.promise]})})},o.prototype.updateFileMessage=function(i,l){return q(this,void 0,void 0,function(){var c,h,f;return z(this,function(m){switch(m.label){case 0:return c=he(he({},lX),l),an(fe("number",i)&&function(v){return A6(v)}(c)).throw(be.invalidParameters),h=Ce.of(this._iid).requestQueue,f=new H6(he({channelType:this.channelType,channelUrl:this.url,messageId:i},c)),[4,h.send(f)];case 1:return[2,m.sent().as(j1).message]}})})},o.prototype.cancelUploadingFileMessage=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){return an(fe("string",i)).throw(be.invalidParameters),Fi.of(this._iid).fileMessageQueue.cancel(this,i),[2,!0]})})},o.prototype.copyFileMessage=function(i,l){var c,h;return q(this,void 0,void 0,function(){var f,m;return z(this,function(v){return an(i instanceof o&&l instanceof gr&&l.sendingStatus===Kt.SUCCEEDED&&this.url===l.channelUrl&&!l.scheduledInfo).throw(be.invalidParameters),f=new Pi,m=he(he({},l),{fileUrl:l.url,fileName:l.name,fileSize:l.size,mimeType:l.type,mentionType:l.mentionType,mentionedUserIds:(c=l.mentionedUserIds)!==null&&c!==void 0?c:(h=l.mentionedUsers)===null||h===void 0?void 0:h.map(function(b){return b.userId}),pushNotificationDeliveryOption:pl.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:l.thumbnails.map(function(b){return{maxWidth:b.width,maxHeight:b.height}}),requireAuth:l.requireAuth,isPinnedMessage:!1}),i._sendFileMessage(m).onSucceeded(function(b){return f.resolve(b)}).onFailed(function(b){return f.reject(b)}),[2,f.promise]})})},o.prototype.deleteMessage=function(i){return q(this,void 0,void 0,function(){var l,c;return z(this,function(h){switch(h.label){case 0:return an(i instanceof vo).throw(be.invalidParameters),i.messageId>0?(l=Ce.of(this._iid).requestQueue,c=new QX({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId}),[4,l.send(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})},o.prototype.addReaction=function(i,l){return q(this,void 0,void 0,function(){var c,h;return z(this,function(f){switch(f.label){case 0:return an(i instanceof vo&&i.messageId>0&&fe("string",l)).throw(be.invalidParameters),c=Ce.of(this._iid).requestQueue,h=new XX({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:l}),[4,c.send(h)];case 1:return[2,f.sent().as(ZX).reactionEvent]}})})},o.prototype.deleteReaction=function(i,l){return q(this,void 0,void 0,function(){var c,h;return z(this,function(f){switch(f.label){case 0:return an(i instanceof vo&&i.messageId>0&&fe("string",l)).throw(be.invalidParameters),c=Ce.of(this._iid).requestQueue,h=new JX({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:l}),[4,c.send(h)];case 1:return[2,f.sent().as(eZ).reactionEvent]}})})},o.prototype._updateUserMessageMetaArray=function(i,l,c,h){return q(this,void 0,void 0,function(){var f,m,v,b,w,C;return z(this,function(H){switch(H.label){case 0:return f=Ce.of(this._iid),m=f.dispatcher,v=f.requestQueue,b=new F6({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:l,mode:c,upsert:h}}),[4,v.send(b)];case 1:return w=H.sent(),C=w.as(B1).message,m.dispatch(new Xi({messages:[C],source:mr.EVENT_MESSAGE_UPDATED})),[2,C]}})})},o.prototype._updateFileMessageMetaArray=function(i,l,c,h){return q(this,void 0,void 0,function(){var f,m,v,b,w,C;return z(this,function(H){switch(H.label){case 0:return f=Ce.of(this._iid),m=f.dispatcher,v=f.requestQueue,b=new H6({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:l,mode:c,upsert:h}}),[4,v.send(b)];case 1:return w=H.sent(),C=w.as(j1).message,m.dispatch(new Xi({messages:[C],source:mr.EVENT_MESSAGE_UPDATED})),[2,C]}})})},o.prototype.createMessageMetaArrayKeys=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){return an(i instanceof vo&&i.messageId>0&&it("string",l)).throw(be.invalidParameters),c=l.map(function(f){return new ya({key:f})}),i instanceof gr?[2,this._updateFileMessageMetaArray(i.messageId,c,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,c,"add",!0)]})})},o.prototype.deleteMessageMetaArrayKeys=function(i,l){return q(this,void 0,void 0,function(){var c;return z(this,function(h){return an(i instanceof vo&&i.messageId>0&&it("string",l)).throw(be.invalidParameters),c=l.map(function(f){return new ya({key:f})}),i instanceof gr?[2,this._updateFileMessageMetaArray(i.messageId,c,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,c,"remove",!0)]})})},o.prototype.addMessageMetaArrayValues=function(i,l){return q(this,void 0,void 0,function(){return z(this,function(c){return an(i instanceof vo&&i.messageId>0&&l.every(function(h){return h instanceof ya})).throw(be.invalidParameters),i instanceof gr?[2,this._updateFileMessageMetaArray(i.messageId,l,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,l,"add",!0)]})})},o.prototype.removeMessageMetaArrayValues=function(i,l){return q(this,void 0,void 0,function(){return z(this,function(c){return an(i instanceof vo&&i.messageId>0&&l.every(function(h){return h instanceof ya})).throw(be.invalidParameters),i instanceof gr?[2,this._updateFileMessageMetaArray(i.messageId,l,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,l,"remove",!0)]})})},o.prototype.report=function(i,l){return q(this,void 0,void 0,function(){var c,h,f,m;return z(this,function(v){switch(v.label){case 0:return an(Dt(Cp,i)&&fe("string",l)).throw(be.invalidParameters),c=Ce.of(this._iid),h=c.sdkState,f=c.requestQueue,m=new $X({channelUrl:this.url,channelType:this.channelType,userId:h.userId,category:i,description:l}),[4,f.send(m)];case 1:return v.sent(),[2]}})})},o.prototype.reportUser=function(i,l,c){return q(this,void 0,void 0,function(){var h,f,m,v;return z(this,function(b){switch(b.label){case 0:return an(i instanceof Vn&&Dt(Cp,l)&&fe("string",c)).throw(be.invalidParameters),h=Ce.of(this._iid),f=h.sdkState,m=h.requestQueue,v=new VX({channelUrl:this.url,channelType:this.channelType,userId:f.userId,offendingUserId:i.userId,category:l,description:c}),[4,m.send(v)];case 1:return b.sent(),[2]}})})},o.prototype.reportMessage=function(i,l,c){return q(this,void 0,void 0,function(){var h,f,m,v;return z(this,function(b){switch(b.label){case 0:return an(i instanceof xp&&Dt(Cp,l)&&fe("string",c)).throw(be.invalidParameters),h=Ce.of(this._iid),f=h.sdkState,m=h.requestQueue,v=new WX({channelUrl:this.url,channelType:this.channelType,userId:f.userId,offendingUserId:i.sender.userId,messageId:i.messageId,category:l,description:c}),[4,m.send(v)];case 1:return b.sent(),[2]}})})},o.prototype.updatePoll=function(i,l){return q(this,void 0,void 0,function(){var c,h;return z(this,function(f){switch(f.label){case 0:return an(fe("number",i)&&function(m){return fe("string",m.title,!0)&&VN(m.data)&&fe("boolean",m.allowUserSuggestion,!0)&&fe("boolean",m.allowMultipleVotes,!0)&&fe("number",m.closeAt,!0)}(l)).throw(be.invalidParameters),c=Ce.of(this._iid).requestQueue,h=new oZ(he({pollId:i},l)),[4,c.send(h)];case 1:return[2,f.sent().as(lZ).poll]}})})},o.prototype.deletePoll=function(i){return q(this,void 0,void 0,function(){var l,c,h;return z(this,function(f){switch(f.label){case 0:return l=fe("number",i),an(l).throw(be.invalidParameters),c=Ce.of(this._iid).requestQueue,h=new uZ({pollId:i}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},o.prototype.closePoll=function(i){return q(this,void 0,void 0,function(){var l,c,h;return z(this,function(f){switch(f.label){case 0:return l=fe("number",i),an(l).throw(be.invalidParameters),c=Ce.of(this._iid).requestQueue,h=new cZ({pollId:i}),[4,c.send(h)];case 1:return[2,f.sent().as(dZ).poll]}})})},o.prototype.addPollOption=function(i,l){return q(this,void 0,void 0,function(){var c,h,f;return z(this,function(m){switch(m.label){case 0:return c=fe("number",i)&&fe("string",l)&&l.trim()!=="",an(c).throw(be.invalidParameters),h=Ce.of(this._iid).requestQueue,f=new hZ({channelUrl:this.url,channelType:this.channelType,pollId:i,optionText:l}),[4,h.send(f)];case 1:return[2,m.sent().as(pZ).poll]}})})},o.prototype.updatePollOption=function(i,l,c){return q(this,void 0,void 0,function(){var h,f,m;return z(this,function(v){switch(v.label){case 0:return h=fe("number",i)&&fe("number",l)&&fe("string",c)&&c.trim()!=="",an(h).throw(be.invalidParameters),f=Ce.of(this._iid).requestQueue,m=new fZ({pollId:i,pollOptionId:l,optionText:c}),[4,f.send(m)];case 1:return[2,v.sent().as(gZ).poll]}})})},o.prototype.deletePollOption=function(i,l){return q(this,void 0,void 0,function(){var c,h,f;return z(this,function(m){switch(m.label){case 0:return c=fe("number",i)&&fe("number",l),an(c).throw(be.invalidParameters),h=Ce.of(this._iid).requestQueue,f=new mZ({pollId:i,pollOptionId:l}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},o.prototype.votePoll=function(i,l){return q(this,void 0,void 0,function(){var c,h,f,m,v,b,w;return z(this,function(C){switch(C.label){case 0:return c=fe("number",i)&&it("number",l),an(c).throw(be.invalidParameters),h=Ce.of(this._iid),f=h.requestQueue,m=h.dispatcher,v=new vZ({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionIds:l}),[4,f.send(v)];case 1:return b=C.sent(),w=b.as(z6).event,m.dispatch(new XN({event:w,source:mr.EVENT_POLL_VOTED})),[2,w]}})})},o.prototype.getPollChangeLogsSinceTimestamp=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){switch(l.label){case 0:return an(fe("number",i)).throw(be.invalidParameters),[4,C1.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,l.sent()]}})})},o.prototype.getPollChangeLogsSinceToken=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){switch(l.label){case 0:return an(fe("string",i,!0)),[4,C1.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,l.sent()]}})})},o.prototype.createPollListQuery=function(i){return i===void 0&&(i=10),new a6(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:i})},o.prototype.createPollVoterListQuery=function(i,l,c){return c===void 0&&(c=20),new s6(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionId:l,limit:c})},o}(zs),_Z=function(a){function o(i,l){var c,h=this;return(h=a.call(this,i,l)||this).isMuted=!1,h.isMuted=(c=l.is_muted)!==null&&c!==void 0&&c,h}return K(o,a),o}(Vn),Tp=null,bZ=function(){function a(o,i,l){var c=this;this._fcmPushToken=null,this._apnsPushToken=null,this._iid=o,this.options=i;var h=Ce.of(o),f=h.sdkState,m=h.cacheContext,v=h.dispatcher,b=h.sessionManager,w=h.requestQueue,C=h.logger,H=h.userEventHandlers,F=h.appStateToggleEnabled;this._onlineDetector=new GQ({logger:C,connectionDelegate:{reconnect:function(){var B=Ce.of(o),W=B.sdkState,ie=B.connectionManager,Z=B.sessionManager;Z.auth.hasSession?W.appState==="foreground"&&ie.resetAndReconnect():ie.connect(Z.auth.authToken)},disconnect:function(){Ce.of(o).connectionManager.disconnect()}}});var $=new VQ(o,{localCacheEnabled:m.localCacheEnabled,dispatcher:v,sdkState:f,logger:C});l.forEach(function(B){B.init(o,{sdkState:f,cacheContext:m,dispatcher:v,sessionManager:b,requestQueue:w,logger:C,onlineDetector:c._onlineDetector}),c[B.name]=B}),this._appStateChangeDetector=new jQ(F),this._appStateChangeDetector.on("resume",function(){C.debug("the page resumes from freeze"),c.setForegroundState()}).on("pause",function(){C.debug("the page freezes"),c.setBackgroundState()}),v.on(function(B){if(B instanceof Nu)B.stateType===Et.CONNECTED&&$.processNonAutoResendRegisteredPendingMessages();else if(B instanceof Xt){if(B.code==="USEV"){var W=B.as(KQ).event;if(W.category===O1.FRIEND_DISCOVERED){var ie=_6.getDataAsFriendDiscoveredEvent(o,W).friendDiscoveries;Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(X){return[2,H.forEach(function(Se){Se.onFriendsDiscovered(ie)})]})})})}}}else if(B instanceof MN){var Z=Ce.of(c._iid).subscribedUnreadMessageCount,pe=!1,Oe=B.ts;if(typeof Oe=="number"&&Oe>Z.ts){if(Z.all!==B.all&&(pe=!0),Z.all=B.all>=0?B.all:0,B.customTypes)for(var te in B.customTypes)Z.customTypes[te]!==B.customTypes[te]&&(pe=!0),Z.customTypes[te]=B.customTypes[te];pe=pe&&Z.ts>0,Z.ts=Oe}pe&&Zn(function(){return q(c,void 0,void 0,function(){return z(this,function(X){return[2,H.forEach(function(Se){Se.onTotalUnreadMessageCountUpdated(Z.all,Z.customTypes)})]})})})}else B instanceof zN&&m.localCacheEnabled&&m.preference.set(c._getUserProfileCacheKey(f.userId),d1.payloadify(B.userProfile))})}return a.init=function(o){var i=o.appId,l=o.appVersion,c=l===void 0?null:l,h=o.modules,f=h===void 0?[]:h,m=o.options,v=m===void 0?new jI:m,b=o.debugMode,w=b!==void 0&&b,C=o.customApiHost,H=o.customWebSocketHost,F=o.newInstance,$=F!==void 0&&F,B=o.logLevel,W=o.localCacheEnabled,ie=W!==void 0&&W,Z=o.localCacheEncryption,pe=o.useAsyncStorageStore,Oe=pe===void 0?null:pe,te=o.appStateToggleEnabled,X=te===void 0||te;if(!Tp||$){var Se="su-".concat(sd()),xe=Z!=null?Z:{encrypt:function(Ve){return Ve},decrypt:function(Ve){return Ve}},we=new qg({encryption:xe});w||(we=Oe?new aX({AsyncStorage:Oe,encryption:xe}):new iX({encryption:xe})),new Ce(Se,{appId:i,appVersion:c,options:v,apiHost:C!=null?C:"https://api-".concat(i,".sendbird.com"),websocketHost:H!=null?H:"wss://ws-".concat(i,".sendbird.com"),store:we,encryption:xe,logLevel:B,localCacheEnabled:ie,debugMode:w,appStateToggleEnabled:X});var Be=[new vQ,new UQ],mt=new a(Se,v,Wt(Wt([],Mt(f),!1),Mt(Be),!1));return Tp||(Tp=mt),mt}return Tp},Object.defineProperty(a,"instance",{get:function(){return Tp},enumerable:!1,configurable:!0}),Object.defineProperty(a,"version",{get:function(){return"4.5.0"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"appId",{get:function(){return Ce.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"appInfo",{get:function(){return Ce.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"appVersion",{get:function(){var o;return(o=Ce.of(this._iid).sdkState.appVersion)!==null&&o!==void 0?o:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"debugMode",{get:function(){return Ce.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"logLevel",{get:function(){return Ce.of(this._iid).logger.level},set:function(o){Ce.of(this._iid).logger.level=o},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isCacheEnabled",{get:function(){return Ce.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ekey",{get:function(){return Ce.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"currentUser",{get:function(){var o;return(o=Ce.of(this._iid).sessionManager.currentUser)!==null&&o!==void 0?o:null},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"connectionState",{get:function(){var o=Ce.of(this._iid).connectionManager;return o.isConnected?Fs.OPEN:o.isConnecting?Fs.CONNECTING:Fs.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lastConnectedAt",{get:function(){var o=Ce.of(this._iid),i=o.connectedAt;return o.connectionManager.isConnected?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),a.prototype._getPreferenceCacheKey=function(o){return"sendbird@".concat(this.appId,"/").concat(o,".pref")},a.prototype._getUserProfileCacheKey=function(o){return"sendbird@".concat(this.appId,"/").concat(o,".profile")},a.prototype.getMemoryStoreForDebugging=function(){var o=Ce.of(this._iid),i=o.debugMode,l=o.cacheContext;if(i)return l.store instanceof qg?l.store:null;throw be.debugModeRequired},a.prototype.addExtension=function(o,i){var l=Ce.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(o)>-1&&(l.extensions[o]=i)},a.prototype.setOnlineListener=function(o){this._onlineDetector.setOnlineListener(o)},a.prototype.setOfflineListener=function(o){this._onlineDetector.setOfflineListener(o)},a.prototype.initializeCache=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b;return z(this,function(w){switch(w.label){case 0:return i=Ce.of(this._iid),l=i.sdkState,c=i.cacheContext,h=i.connectionManager,f=i.dispatcher,l.userId&&l.userId===o?[3,9]:[4,h.logout()];case 1:return w.sent(),l.userId=o,m="sendbird@".concat(l.appId,"/").concat(o,".db"),c.localCacheEnabled?c.nestdb&&c.nestdb.state!==Eo.CLOSED&&c.nestdb.name===m?[3,3]:((v=c.nestdb=new sX({name:"sendbird@".concat(l.appId,"/").concat(o,".db"),version:2,store:c.store})).on("upgrade",function(C,H){return function(F,$){F===1?C.clear().then(function(){H.clear().then(function(){(function(B){return q(void 0,void 0,void 0,function(){return z(this,function(W){return[2,B.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[T1(_l.LATEST_LAST_MESSAGE),T1(_l.CHRONOLOGICAL),T1(_l.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:"Message",keyName:"messageId",index:[_o(qr.CHANNEL_LATEST),_o(qr.NEWEST_CHILD_MESSAGE)]},{collectionName:"UnsentMessage",keyName:"reqId",index:[_o(qr.CHANNEL_LATEST),_o(qr.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}])]})})})(C).then(function(){return $()}).catch(function(B){return $(B)})}).catch(function(B){return $(B)})}).catch(function(B){return $(B)}):$()}}(v,c.store)),[4,v.open()]):[3,4];case 2:w.sent(),f.dispatch(new WQ(this._iid,{userId:o})),w.label=3;case 3:return[3,6];case 4:return[4,c.store.init(m)];case 5:w.sent(),w.label=6;case 6:return[4,c.preference.init(this._getPreferenceCacheKey(o))];case 7:return w.sent(),[4,c.preference.get(this._getUserProfileCacheKey(o))];case 8:(b=w.sent())&&new d1(this._iid,b).apply(),w.label=9;case 9:return[2]}})})},a.prototype.clearCachedData=function(){return q(this,void 0,void 0,function(){var o;return z(this,function(i){switch(i.label){case 0:return(o=Ce.of(this._iid).cacheContext).localCacheEnabled&&o.nestdb?[4,o.nestdb.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,o.preference.clear()];case 3:return i.sent(),[2]}})})},a.prototype.clearCachedMessages=function(o){return q(this,void 0,void 0,function(){var i,l,c=this;return z(this,function(h){switch(h.label){case 0:return an(it("string",o)).throw(be.invalidParameters),i=BQ.of(this._iid),l=m6.of(this._iid),i&&l?[4,Promise.all(o.map(function(f){return q(c,void 0,void 0,function(){return z(this,function(m){switch(m.label){case 0:return[4,i.removeMessagesOfChannel(f)];case 1:return m.sent(),[4,l.removeMessagesOfChannel(f)];case 2:return m.sent(),[2]}})})}))]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})},a.prototype.connect=function(o,i){return i===void 0&&(i=null),q(this,void 0,void 0,function(){var l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:an(fe("string",o)&&fe("string",i,!0)).throw(be.invalidParameters),l=Ce.of(this._iid),c=l.sdkState,h=l.cacheContext,f=l.connectionManager,m=l.statLogCollector,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.initializeCache(o)];case 2:return b.sent(),[3,4];case 3:return b.sent(),v=Ce.of(this._iid).logger,h.localCacheEnabled=!1,v.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,m.init("sendbird@".concat(c.appId,"/").concat(o,".statlog"))];case 5:return b.sent(),this._onlineDetector.start(),this._appStateChangeDetector.start(),[4,f.connect(i)];case 6:return b.sent(),[2,this.currentUser]}})})},a.prototype.reconnect=function(){var o=Ce.of(this._iid),i=o.connectionManager,l=o.sdkState,c=o.sessionManager.auth.hasSession;return c&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),i.resetAndReconnect().then(function(){l.appState="foreground"}).catch(function(){})),c},a.prototype.disconnect=function(){return q(this,void 0,void 0,function(){var o,i,l;return z(this,function(c){switch(c.label){case 0:return o=Ce.of(this._iid),i=o.connectionManager,l=o.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),l.cancelAll(),[4,i.logout()];case 1:return c.sent(),[4,this.clearCachedData()];case 2:return c.sent(),[2]}})})},a.prototype.disconnectWebSocket=function(){return q(this,void 0,void 0,function(){var o,i,l;return z(this,function(c){switch(c.label){case 0:return o=Ce.of(this._iid),i=o.connectionManager,l=o.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),l.cancelAll(),[4,i.disconnectWebSocket()];case 1:return c.sent(),[2]}})})},a.prototype.setBackgroundState=function(){var o=Ce.of(this._iid),i=o.connectionManager,l=o.sdkState,c=o.logger;l.appState==="foreground"&&(l.appState="background",c.debug("going background state"),i.background())},a.prototype.setForegroundState=function(){var o=Ce.of(this._iid),i=o.connectionManager,l=o.sdkState,c=o.logger;l.appState==="background"&&(l.appState="foreground",c.debug("going foreground state"),i.resetAndReconnect())},a.prototype.setSessionHandler=function(o){an(o instanceof PQ).throw(be.invalidParameters),Ce.of(this._iid).sessionManager.handler=o},a.prototype.addUserEventHandler=function(o,i){an(fe("string",o)&&i instanceof HQ).throw(be.invalidParameters),Ce.of(this._iid).userEventHandlers.set(o,i)},a.prototype.removeUserEventHandler=function(o){Ce.of(this._iid).userEventHandlers.delete(o)},a.prototype.removeAllUserEventHandler=function(){Ce.of(this._iid).userEventHandlers.clear()},a.prototype.addConnectionHandler=function(o,i){an(fe("string",o)&&i instanceof FQ).throw(be.invalidParameters),Ce.of(this._iid).connectionHandlers.set(o,i)},a.prototype.removeConnectionHandler=function(o){Ce.of(this._iid).connectionHandlers.delete(o)},a.prototype.removeAllConnectionHandler=function(){Ce.of(this._iid).connectionHandlers.clear()},a.prototype.createApplicationUserListQuery=function(o){return o===void 0&&(o={}),new $Y(this._iid,o)},a.prototype.createBlockedUserListQuery=function(o){return o===void 0&&(o={}),new KY(this._iid,o)},a.prototype.createFriendListQuery=function(o){return o===void 0&&(o={}),new XY(this._iid,o)},a.prototype.createMessageSearchQuery=function(o){return new fQ(this._iid,o)},a.prototype.createPollListQuery=function(o){return new a6(this._iid,he({},o))},a.prototype.createPollVoterListQuery=function(o){return new s6(this._iid,he({},o))},a.prototype.buildUserFromSerializedData=function(o){var i=yp(o);return new Vn(this._iid,Vn.payloadify(i))},a.prototype.updateCurrentUserInfo=function(o){return o===void 0&&(o={}),q(this,void 0,void 0,function(){var i,l,c,h,f,m,v;return z(this,function(b){switch(b.label){case 0:return i=he(he({},LQ),o),an(function(w){return ga(w.profileImage,!0)&&fe("string",w.profileUrl,!0)&&fe("string",w.nickname,!0)}(i)).throw(be.invalidParameters),this.currentUser?(l=Ce.of(this._iid),c=l.sdkState,h=l.requestQueue,f=new b6(he({userId:c.userId},i)),[4,h.send(f)]):[3,2];case 1:return m=b.sent(),v=m.as(y6).user,this.currentUser&&(i.nickname&&(this.currentUser.nickname=v.nickname),(i.profileUrl||i.profileImage)&&(this.currentUser.plainProfileUrl=v.profileUrl)),[2,v];case 2:throw be.connectionRequired}})})},a.prototype.updateCurrentUserInfoWithPreferredLanguages=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return an(it("string",o)).throw(be.invalidParameters),this.currentUser?(i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new b6({userId:l.userId,preferredLanguages:o}),[4,c.send(h)]):[3,2];case 1:return f=v.sent(),m=f.as(y6).user,this.currentUser&&(this.currentUser.preferredLanguages=m.preferredLanguages),[2,m];case 2:throw be.connectionRequired}})})},a.prototype.registerFCMPushTokenForCurrentUser=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m=this;return z(this,function(v){switch(v.label){case 0:if(an(fe("string",o)).throw(be.invalidParameters),!this.currentUser)return[3,6];v.label=1;case 1:return v.trys.push([1,4,,5]),i=Ce.of(this._iid),l=i.sessionManager,c=i.sdkState,h=i.requestQueue,l.hasDeviceToken(br.FCM,o)?[2,wi.SUCCESS]:(f=new YQ({userId:c.userId,token:o}),[4,h.send(f)]);case 2:return v.sent(),[4,cd(function(){return q(m,void 0,void 0,function(){return z(this,function(b){switch(b.label){case 0:return l.setDeviceToken(br.FCM,o),[4,l.saveDeviceToken()];case 1:return b.sent(),[2]}})})})];case 3:return v.sent(),this._fcmPushToken="",[2,wi.SUCCESS];case 4:return v.sent(),[2,wi.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=o,[2,wi.PENDING];case 7:return[2]}})})},a.prototype.unregisterFCMPushTokenForCurrentUser=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v=this;return z(this,function(b){switch(b.label){case 0:if(an(fe("string",o)).throw(be.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=Ce.of(this._iid),l=i.sessionManager,c=i.sdkState,h=i.requestQueue,f=new ZQ({userId:c.userId,token:o}),[4,h.send(f)];case 2:return m=b.sent().lastDeletedAt,[4,cd(function(){return q(v,void 0,void 0,function(){return z(this,function(w){switch(w.label){case 0:return l.unsetDeviceToken(br.FCM,o),l.setDeviceTokenDeletedAt(m),[4,l.saveDeviceToken()];case 1:return w.sent(),[2]}})})})];case 3:return b.sent(),this._fcmPushToken="",[2,wi.SUCCESS];case 4:return b.sent(),[2,wi.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=o,[2,wi.PENDING];case 7:return[2]}})})},a.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h,f,m=this;return z(this,function(v){switch(v.label){case 0:return this.currentUser?(o=Ce.of(this._iid),i=o.sessionManager,l=o.sdkState,c=o.requestQueue,h=new eY({userId:l.userId}),[4,c.send(h)]):[3,3];case 1:return f=v.sent().lastDeletedAt,[4,cd(function(){return q(m,void 0,void 0,function(){return z(this,function(b){switch(b.label){case 0:return i.unsetDeviceTokens(br.FCM),i.setDeviceTokenDeletedAt(f),[4,i.saveDeviceToken()];case 1:return b.sent(),[2]}})})})];case 2:v.sent(),v.label=3;case 3:return[2]}})})},a.prototype.registerAPNSPushTokenForCurrentUser=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m=this;return z(this,function(v){switch(v.label){case 0:if(an(fe("string",o)).throw(be.invalidParameters),!this.currentUser)return[3,6];v.label=1;case 1:return v.trys.push([1,4,,5]),i=Ce.of(this._iid),l=i.sessionManager,c=i.sdkState,h=i.requestQueue,l.hasDeviceToken(br.APNS,o)?[2,wi.SUCCESS]:(f=new QQ({userId:c.userId,token:o}),[4,h.send(f)]);case 2:return v.sent(),[4,cd(function(){return q(m,void 0,void 0,function(){return z(this,function(b){switch(b.label){case 0:return l.setDeviceToken(br.APNS,o),[4,l.saveDeviceToken()];case 1:return b.sent(),[2]}})})})];case 3:return v.sent(),this._apnsPushToken="",[2,wi.SUCCESS];case 4:return v.sent(),[2,wi.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=o,[2,wi.PENDING];case 7:return[2]}})})},a.prototype.unregisterAPNSPushTokenForCurrentUser=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v=this;return z(this,function(b){switch(b.label){case 0:if(an(fe("string",o)).throw(be.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=Ce.of(this._iid),l=i.sessionManager,c=i.sdkState,h=i.requestQueue,f=new XQ({userId:c.userId,token:o}),[4,h.send(f)];case 2:return m=b.sent().lastDeletedAt,[4,cd(function(){return q(v,void 0,void 0,function(){return z(this,function(w){switch(w.label){case 0:return l.unsetDeviceToken(br.APNS,o),l.setDeviceTokenDeletedAt(m),[4,l.saveDeviceToken()];case 1:return w.sent(),[2]}})})})];case 3:return b.sent(),this._apnsPushToken="",[2,wi.SUCCESS];case 4:return b.sent(),[2,wi.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=o,[2,wi.PENDING];case 7:return[2]}})})},a.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return q(this,void 0,void 0,function(){var o,i,l,c,h,f,m=this;return z(this,function(v){switch(v.label){case 0:return this.currentUser?(o=Ce.of(this._iid),i=o.sessionManager,l=o.sdkState,c=o.requestQueue,h=new JQ({userId:l.userId}),[4,c.send(h)]):[3,3];case 1:return f=v.sent().lastDeletedAt,[4,cd(function(){return q(m,void 0,void 0,function(){return z(this,function(b){switch(b.label){case 0:return i.unsetDeviceTokens(br.APNS),i.setDeviceTokenDeletedAt(f),[4,i.saveDeviceToken()];case 1:return b.sent(),[2]}})})})];case 2:v.sent(),v.label=3;case 3:return[2]}})})},a.prototype.getChannelInvitationPreference=function(){return q(this,void 0,void 0,function(){var o,i,l,c;return z(this,function(h){switch(h.label){case 0:return o=Ce.of(this._iid),i=o.sdkState,l=o.requestQueue,c=new rY({userId:i.userId}),[4,l.send(c)];case 1:return[2,{autoAccept:h.sent().as(iY).autoAccept}]}})})},a.prototype.setChannelInvitationPreference=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(fe("boolean",o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new aY({userId:l.userId,willAutoAccept:o}),[4,c.send(h)];case 1:return[2,{autoAccept:f.sent().as(sY).autoAccept}]}})})},a.prototype.getDoNotDisturb=function(){return q(this,void 0,void 0,function(){var o,i,l,c;return z(this,function(h){switch(h.label){case 0:return o=Ce.of(this._iid),i=o.sdkState,l=o.requestQueue,c=new oY({userId:i.userId}),[4,l.send(c)];case 1:return[2,h.sent().as(lY).preference]}})})},a.prototype.setDoNotDisturb=function(o,i,l,c,h,f){return i===void 0&&(i=0),l===void 0&&(l=0),c===void 0&&(c=0),h===void 0&&(h=0),f===void 0&&(f=""),q(this,void 0,void 0,function(){var m,v,b,w;return z(this,function(C){switch(C.label){case 0:return an(fe("boolean",o)&&fe("number",i)&&fe("number",l)&&fe("number",c)&&fe("number",h)&&fe("string",f)).throw(be.invalidParameters),m=Ce.of(this._iid),v=m.sdkState,b=m.requestQueue,w=new uY({userId:v.userId,doNotDisturbOn:o,startHour:i,startMin:l,endHour:c,endMin:h,timezone:f}),[4,b.send(w)];case 1:return[2,C.sent().as(cY).preference]}})})},a.prototype.getSnoozePeriod=function(){return q(this,void 0,void 0,function(){var o,i,l,c;return z(this,function(h){switch(h.label){case 0:return o=Ce.of(this._iid),i=o.sdkState,l=o.requestQueue,c=new dY({userId:i.userId}),[4,l.send(c)];case 1:return[2,h.sent().as(hY).snoozePeriod]}})})},a.prototype.setSnoozePeriod=function(o,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),q(this,void 0,void 0,function(){var c,h,f,m;return z(this,function(v){switch(v.label){case 0:return an(fe("boolean",o)&&fe("number",i)&&fe("number",l)).throw(be.invalidParameters),c=Ce.of(this._iid),h=c.sdkState,f=c.requestQueue,m=new pY({userId:h.userId,snoozeOn:o,startTs:i,endTs:l}),[4,f.send(m)];case 1:return[2,v.sent().as(fY).snoozePeriod]}})})},a.prototype.getMyPushTokensByToken=function(o,i){return q(this,void 0,void 0,function(){var l,c,h,f,m,v,b,w,C,H,F,$;return z(this,function(B){switch(B.label){case 0:return an(fe("string",o)&&Dt(br,i)).throw(be.invalidParameters),l=Ce.of(this._iid),c=l.sdkState,h=l.requestQueue,f=l.sessionManager,m=new nY({userId:c.userId,type:i,token:o}),[4,h.send(m)];case 1:v=B.sent(),b=v.as(tY).pushTokens;try{for(w=Rn(b.deviceTokens),C=w.next();!C.done;C=w.next())H=C.value,f.setDeviceToken(b.type,H)}catch(W){F={error:W}}finally{try{C&&!C.done&&($=w.return)&&$.call(w)}finally{if(F)throw F.error}}return[4,f.saveDeviceToken()];case 2:return B.sent(),[2,b]}})})},a.prototype.getPushTriggerOption=function(){return q(this,void 0,void 0,function(){var o,i,l,c;return z(this,function(h){switch(h.label){case 0:return o=Ce.of(this._iid),i=o.sdkState,l=o.requestQueue,c=new vY({userId:i.userId}),[4,l.send(c)];case 1:return[2,h.sent().as(_Y).pushTriggerOption]}})})},a.prototype.setPushTriggerOption=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(Dt(k1,o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new bY({userId:l.userId,pushTriggerOption:o}),[4,c.send(h)];case 1:return[2,f.sent().as(yY).pushTriggerOption]}})})},a.prototype.getPushTemplate=function(){return q(this,void 0,void 0,function(){var o,i,l,c;return z(this,function(h){switch(h.label){case 0:return o=Ce.of(this._iid),i=o.sdkState,l=o.requestQueue,c=new EY({userId:i.userId}),[4,l.send(c)];case 1:return[2,h.sent().as(wY).name]}})})},a.prototype.setPushTemplate=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(Dt(S1,o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new xY({userId:l.userId,templateName:o}),[4,c.send(h)];case 1:return[2,f.sent().as(kY).name]}})})},a.prototype.blockUser=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(o instanceof Vn||fe("string",o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new gY({userId:l.userId,blockedUserId:o instanceof Vn?o.userId:o}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},a.prototype.blockUserWithUserId=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){return[2,this.blockUser(o)]})})},a.prototype.unblockUser=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(o instanceof Vn||fe("string",o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new mY({userId:l.userId,unblockedUserId:o instanceof Vn?o.userId:o}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},a.prototype.unblockUserWithUserId=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){return[2,this.unblockUser(o)]})})},a.prototype.getFriendChangeLogsByToken=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(fe("string",o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new SY({userId:l.userId,token:o}),[4,c.send(h)];case 1:return[2,f.sent().as(CY).changelogs]}})})},a.prototype.getAllowFriendDiscovery=function(){return q(this,void 0,void 0,function(){var o,i,l,c;return z(this,function(h){switch(h.label){case 0:return o=Ce.of(this._iid),i=o.sdkState,l=o.requestQueue,c=new MY({userId:i.userId}),[4,l.send(c)];case 1:return[2,h.sent().as(DY).allowFriendDiscovery]}})})},a.prototype.setAllowFriendDiscovery=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(fe("boolean",o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new UY({userId:l.userId,allowFriendDiscovery:o}),[4,c.send(h)];case 1:return f.sent(),[2,o]}})})},a.prototype.uploadFriendDiscoveries=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new TY({userId:l.userId,discoveries:o}),[4,c.send(h)];case 1:return[2,f.sent().as(IY).friendDiscoveryRequestId]}})})},a.prototype.deleteFriendDiscovery=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){return[2,this.deleteFriendDiscoveries([o])]})})},a.prototype.deleteFriendDiscoveries=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(it("string",o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new NY({userId:l.userId,discoveryKeys:o}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},a.prototype.addFriends=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(it("string",o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new OY({userId:l.userId,userIds:o}),[4,c.send(h)];case 1:return[2,f.sent().as(AY).users]}})})},a.prototype.deleteFriend=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){return[2,this.deleteFriends([o])]})})},a.prototype.deleteFriends=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return an(it("string",o)).throw(be.invalidParameters),i=Ce.of(this._iid),l=i.sdkState,c=i.requestQueue,h=new RY({userId:l.userId,userIds:o}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},a.prototype.getAllEmoji=function(){return q(this,void 0,void 0,function(){var o,i;return z(this,function(l){switch(l.label){case 0:return o=Ce.of(this._iid).requestQueue,i=new PY,[4,o.send(i)];case 1:return[2,l.sent().as(FY).emojiContainer]}})})},a.prototype.getEmojiCategory=function(o){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new HY({categoryId:o}),[4,i.send(l)];case 1:return[2,c.sent().as(zY).emojiCategory]}})})},a.prototype.getEmoji=function(o){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new qY({key:o}),[4,i.send(l)];case 1:return[2,c.sent().as(BY).emoji]}})})},a}();(function(a){a[a.NONE=0]="NONE",a[a.CHANNEL_ENTER=10102]="CHANNEL_ENTER",a[a.CHANNEL_EXIT=10103]="CHANNEL_EXIT",a[a.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",a[a.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",a[a.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",a[a.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",a[a.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",a[a.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",a[a.TYPING_START=10900]="TYPING_START",a[a.TYPING_END=10901]="TYPING_END",a[a.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",a[a.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",a[a.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",a[a.CHANNEL_INVITE=10020]="CHANNEL_INVITE",a[a.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",a[a.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",a[a.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",a[a.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",a[a.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",a[a.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",a[a.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",a[a.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",a[a.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(ei||(ei={}));var yZ=function(){function a(o){this.channelUrl=o.channel_url,this.channelType=o.channel_type,this.category=o.cat,this.data=o.data,this.ts=o.ts}return Object.defineProperty(a.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Qt.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Qt.OPEN},enumerable:!1,configurable:!0}),a}(),jg=function(a){function o(i,l,c){var h=a.call(this,i,"SYEV",c)||this;return h.event=new yZ(c),h}return K(o,a),o}(Xt),EZ=function(a){function o(i,l,c){var h=a.call(this,i,l,c)||this,f=c.data.operators,m=f===void 0?[]:f;return h.operators=m.map(function(v){return new Vn(h._iid,v)}),h}return K(o,a),o}(jg),wZ=function(a){function o(i,l,c){var h=a.call(this,i,"MCNT",c)||this;return h.groupChannelMemberCounts=c.group_channels.map(function(f){return{channelUrl:f.channel_url,memberCount:f.member_count,joinedMemberCount:f.joined_member_count,updatedAt:f.ts}}),h.openChannelMemberCounts=c.open_channels.map(function(f){return{channelUrl:f.channel_url,participantCount:f.participant_count,updatedAt:f.ts}}),h}return K(o,a),o}(Xt),xZ=function(a){function o(i,l,c){var h,f,m,v=this;(v=a.call(this,i,"ADMM",c)||this).message=new hd(i,c);var b=Ce.of(i).sdkState;return v.isMentioned=pd(v.message.mentionType,(h=v.message.mentionedUserIds)!==null&&h!==void 0?h:(f=v.message.mentionedUsers)===null||f===void 0?void 0:f.map(function(w){return w.userId}),b.userId),v.forceUpdateLastMessage=(m=c.force_update_last_message)!==null&&m!==void 0&&m,v}return K(o,a),o}(Xt),kZ=function(a){function o(i,l,c){var h,f,m,v,b,w,C=this;(C=a.call(this,i,"AEDI",c)||this).message=new hd(i,c);var H=Ce.of(i).sdkState;return C.mentionCountChange=b1({mentionType:(f=(h=c.old_values)===null||h===void 0?void 0:h.mention_type)!==null&&f!==void 0?f:null,mentionedUserIds:(v=(m=c.old_values)===null||m===void 0?void 0:m.mentioned_user_ids)!==null&&v!==void 0?v:[]},{mentionType:C.message.mentionType,mentionedUserIds:(b=C.message.mentionedUserIds)!==null&&b!==void 0?b:(w=C.message.mentionedUsers)===null||w===void 0?void 0:w.map(function(F){return F.userId})},H.userId),C}return K(o,a),o}(Xt),SZ=function(a){function o(i,l,c){var h=a.call(this,i,"MRCT",c)||this;return h.channelUrl=c.channel_url,h.channelType=c.channel_type,h.event=new f1(c),h}return K(o,a),o}(Xt),CZ=function(a){function o(i,l,c){var h=a.call(this,i,"MTHD",c)||this;return h.event=new cQ(i,c),h}return K(o,a),o}(Xt),TZ=function(a){function o(i,l,c){var h=a.call(this,i,"PEDI",c)||this;return h.event=null,h.status=null,h.channelUrl=null,h.channelType=null,h.event=new NQ(i,c),h.status=v1(c.poll.status)||c.poll.status,h.channelUrl=c.channel_url,h.channelType=c.channel_type,h}return K(o,a),o}(Xt),IZ=function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i._channels=new Map,i._enteredChannelUrls=[],i}return K(o,a),Object.defineProperty(o.prototype,"enteredChannels",{get:function(){var i=this;return this._enteredChannelUrls.map(function(l){return i._channels.get(l)}).filter(function(l){return l!==null})},enumerable:!1,configurable:!0}),o.prototype.isEnteredChannel=function(i){return this._enteredChannelUrls.includes(i)},o.prototype.enter=function(i){this._enteredChannelUrls.indexOf(i)<0&&this._enteredChannelUrls.push(i)},o.prototype.exit=function(i){var l=this._enteredChannelUrls.indexOf(i);l>=0&&this._enteredChannelUrls.splice(l,1)},o.prototype.exitAll=function(){this._enteredChannelUrls=[]},o.prototype.get=function(i){var l;return q(this,void 0,void 0,function(){return z(this,function(c){return[2,(l=this._channels.get(i))!==null&&l!==void 0?l:null]})})},o.prototype.upsert=function(i){return q(this,void 0,void 0,function(){var l=this;return z(this,function(c){return i.forEach(function(h){if(l._channels.has(h.url)){var f=l._channels.get(h.url);Object.assign(f,h)}else l._channels.set(h.url,h)}),[2]})})},o.prototype.remove=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){return this._channels.delete(i),this.exit(i),[2]})})},o.prototype.clear=function(){return q(this,void 0,void 0,function(){return z(this,function(i){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},o}(zs),B6={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},NZ=function(a){function o(i){var l=i.channelUrl,c=i.isInternalCall,h=a.call(this)||this;return h.method=Qe.GET,h.path="".concat(c?CK:Ou,"/").concat(encodeURIComponent(l)),h}return K(o,a),o}(Je),j6=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.channel=null,c.channel=new bd(i,l),c}return K(o,a),o}(rn),OZ=function(a){function o(i){var l=this,c=i.channelUrl,h=i.coverUrlOrImage,f=i.name,m=i.data,v=i.customType,b=i.operatorUserIds;return(l=a.call(this)||this).method=Qe.POST,l.path=Ou,l.params=Ln({channel_url:c,cover_url:fe("string",h)?h:null,cover_file:ga(h)?h:null,name:f,data:m,custom_type:v,operators:b}),l}return K(o,a),o}(Je);(function(a){K(function(o,i){var l=a.call(this,o,i)||this;return l.channel=new bd(o,i),l},a)})(rn);var AZ=function(a){function o(i){var l=i.channelUrl;return a.call(this,{code:"ENTR",payload:{channel_url:l},ackRequired:!0})||this}return K(o,a),o}(cs),G6=function(a){function o(i,l,c){var h,f,m=this;return m=a.call(this,i,"SYEV",c)||this,c.data&&(m.participantCount=(h=c.data.participant_count)!==null&&h!==void 0?h:0,m.user=new Vn(i,c.data),m.ts=(f=c.data.edge_ts)!==null&&f!==void 0?f:0),m}return K(o,a),o}(jg),RZ=function(a){function o(i){var l=i.channelUrl;return a.call(this,{code:"EXIT",payload:{channel_url:l},ackRequired:!0})||this}return K(o,a),o}(cs),$6=function(a){function o(i,l,c){var h,f,m=this;return m=a.call(this,i,"EXIT",c)||this,c.data&&(m.participantCount=(h=c.data.participant_count)!==null&&h!==void 0?h:0,m.user=new Vn(i,c.data),m.ts=(f=c.data.edge_ts)!==null&&f!==void 0?f:0),m}return K(o,a),o}(jg),Gg={},zu=function(){function a(o,i){var l=i.sdkState,c=i.dispatcher,h=i.requestQueue,f=this;return Gg[o]||(this._iid=o,this._sdkState=l,this._requestQueue=h,this._dispatcher=c,this._openChannelCache=new IZ(o),this._openChannelHandlers=new Map,this._dispatcher.on(function(m){var v,b;if(m instanceof Xt)f._handleEvent(m);else if(m instanceof Nu&&m.stateType===Et.CONNECTED){var w=f._openChannelCache.enteredChannels;try{for(var C=Rn(w),H=C.next();!H.done;H=C.next())H.value.enter()}catch(F){v={error:F}}finally{try{H&&!H.done&&(b=C.return)&&b.call(C)}finally{if(v)throw v.error}}}}),Gg[o]=this),Gg[o]}return a.of=function(o){return Gg[o]},a.prototype.buildOpenChannelFromSerializedData=function(o){var i=yp(o);return new bd(this._iid,bd.payloadify(i))},a.prototype.getChannelFromCache=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this._openChannelCache.get(o)];case 1:return[2,i.sent()]}})})},a.prototype.upsertChannelsToCache=function(o){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this._openChannelCache.upsert(o)];case 1:return i.sent(),[2]}})})},a.prototype.removeChannelsFromCache=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:v.trys.push([0,5,6,7]),i=Rn(o),l=i.next(),v.label=1;case 1:return l.done?[3,4]:(c=l.value,[4,this._openChannelCache.remove(c)]);case 2:v.sent(),v.label=3;case 3:return l=i.next(),[3,1];case 4:return[3,7];case 5:return h=v.sent(),f={error:h},[3,7];case 6:try{l&&!l.done&&(m=i.return)&&m.call(i)}finally{if(f)throw f.error}return[7];case 7:return[2]}})})},a.prototype.setEnteredToCache=function(o){this._openChannelCache.enter(o.url)},a.prototype.setExitedToCache=function(o){this._openChannelCache.exit(o.url)},a.prototype._handleEvent=function(o){return q(this,void 0,void 0,function(){var i,l,c,h,f,m,v,b,w,C,H,F,$,B,W,ie,Z,pe,Oe,te,X,Se,xe,we,Be,mt,Ve,Ge,on,Tn,_n,vt,nt,Br,ni,xo,El,Fa,Q1,yd,f4,g4,Yg,Y1,X1,Z1,J1,eE,nE,tE,Ap,rE,Xg,m4,$u,Zg,Rp,Mp,Dp,Jg,em,iE,aE,sE,oE,lE,v4,Dr=this;return z(this,function(pt){switch(pt.label){case 0:switch(pt.trys.push([0,55,,56]),o.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,29];case"SYEV":return[3,31]}return[3,54];case 1:return h=null,o.code==="MESG"?h=o.as(P6):o.code==="FILE"?h=o.as(KN):o.code!=="ADMM"&&o.code!="BRDM"||(h=o.as(xZ)),h?(i=h.message,l=h.isMentioned,i.channelType!==Qt.OPEN?[3,3]:[4,this.getChannel(i.channelUrl,!0)]):[3,3];case 2:c=pt.sent(),Zn(function(){return q(Dr,void 0,void 0,function(){var yn,sn,xt,It,jr;return z(this,function(Ha){try{for(yn=Rn(this._openChannelHandlers.values()),sn=yn.next();!sn.done;sn=yn.next())xt=sn.value,this._openChannelCache.isEnteredChannel(c.url)&&(xt.onMessageReceived(c,i),l&&xt.onMentionReceived(c,i))}catch(ko){It={error:ko}}finally{try{sn&&!sn.done&&(jr=yn.return)&&jr.call(yn)}finally{if(It)throw It.error}}return[2]})})}),pt.label=3;case 3:return[3,54];case 4:return h=null,o.code==="MEDI"?h=o.as(B1):o.code==="FEDI"?h=o.as(j1):o.code==="AEDI"&&(h=o.as(kZ)),h?(f=h.message,m=h.mentionCountChange,f.channelType!==Qt.OPEN?[3,6]:[4,this.getChannel(f.channelUrl,!0)]):[3,6];case 5:v=pt.sent(),Zn(function(){return q(Dr,void 0,void 0,function(){var yn,sn,xt,It,jr;return z(this,function(Ha){try{for(yn=Rn(this._openChannelHandlers.values()),sn=yn.next();!sn.done;sn=yn.next())xt=sn.value,this._openChannelCache.isEnteredChannel(v.url)&&(xt.onMessageUpdated(v,f),m>0&&xt.onMentionReceived(v,f))}catch(ko){It={error:ko}}finally{try{sn&&!sn.done&&(jr=yn.return)&&jr.call(yn)}finally{if(It)throw It.error}}return[2]})})}),pt.label=6;case 6:return[3,54];case 7:return b=o.as(YX),Tn=b.channelUrl,_n=b.channelType,w=b.messageId,_n!==Qt.OPEN?[3,9]:[4,this.getChannel(Tn,!0)];case 8:C=pt.sent(),Zn(function(){return q(Dr,void 0,void 0,function(){var yn,sn,xt,It,jr;return z(this,function(Ha){try{for(yn=Rn(this._openChannelHandlers.values()),sn=yn.next();!sn.done;sn=yn.next())xt=sn.value,this._openChannelCache.isEnteredChannel(C.url)&&xt.onMessageDeleted(C,w)}catch(ko){It={error:ko}}finally{try{sn&&!sn.done&&(jr=yn.return)&&jr.call(yn)}finally{if(It)throw It.error}}return[2]})})}),pt.label=9;case 9:return[3,54];case 10:return H=o.as(SZ),Tn=H.channelUrl,_n=H.channelType,F=H.event,_n!==Qt.OPEN?[3,12]:[4,this.getChannel(Tn,!0)];case 11:$=pt.sent(),Zn(function(){return q(Dr,void 0,void 0,function(){var yn,sn,xt,It,jr;return z(this,function(Ha){try{for(yn=Rn(this._openChannelHandlers.values()),sn=yn.next();!sn.done;sn=yn.next())xt=sn.value,this._openChannelCache.isEnteredChannel($.url)&&xt.onReactionUpdated($,F)}catch(ko){It={error:ko}}finally{try{sn&&!sn.done&&(jr=yn.return)&&jr.call(yn)}finally{if(It)throw It.error}}return[2]})})}),pt.label=12;case 12:return[3,54];case 13:return(B=o.as(CZ).event).channelType!==Qt.OPEN?[3,15]:[4,this.getChannel(B.channelUrl,!0)];case 14:W=pt.sent(),Zn(function(){return q(Dr,void 0,void 0,function(){var yn,sn,xt,It,jr;return z(this,function(Ha){try{for(yn=Rn(this._openChannelHandlers.values()),sn=yn.next();!sn.done;sn=yn.next())xt=sn.value,this._openChannelCache.isEnteredChannel(W.url)&&xt.onThreadInfoUpdated(W,B)}catch(ko){It={error:ko}}finally{try{sn&&!sn.done&&(jr=yn.return)&&jr.call(yn)}finally{if(It)throw It.error}}return[2]})})}),pt.label=15;case 15:return[3,54];case 16:ie=o.as(wZ).openChannelMemberCounts,Z=[],pt.label=17;case 17:pt.trys.push([17,22,23,24]),pe=Rn(ie),Oe=pe.next(),pt.label=18;case 18:return Oe.done?[3,21]:(te=Oe.value,Tn=te.channelUrl,yd=te.participantCount,X=te.updatedAt,[4,this.getChannelFromCache(Tn)]);case 19:(Se=pt.sent())&&Se._updateParticipantCount(yd,X)&&Z.push(Se),pt.label=20;case 20:return Oe=pe.next(),[3,18];case 21:return[3,24];case 22:return xe=pt.sent(),lE={error:xe},[3,24];case 23:try{Oe&&!Oe.done&&(v4=pe.return)&&v4.call(pe)}finally{if(lE)throw lE.error}return[7];case 24:return Z.length>0?[4,this.upsertChannelsToCache(Z)]:[3,26];case 25:pt.sent(),Zn(function(){return q(Dr,void 0,void 0,function(){var yn,sn,xt,It;return z(this,function(jr){try{for(yn=Rn(this._openChannelHandlers.values()),sn=yn.next();!sn.done;sn=yn.next())sn.value.onChannelMemberCountChanged(Z)}catch(Ha){xt={error:Ha}}finally{try{sn&&!sn.done&&(It=yn.return)&&It.call(yn)}finally{if(xt)throw xt.error}}return[2]})})}),pt.label=26;case 26:return[3,54];case 27:return we=o.as(TZ),Be=we.event,mt=we.status,Tn=we.channelUrl,_n=we.channelType,Tn&&_n?[4,this.getChannel(Tn,!0)]:[3,54];case 28:return Ve=pt.sent(),this._dispatcher.dispatch(new rQ({event:Be,source:mr.EVENT_POLL_UPDATED})),Zn(mt==="removed"?function(){return q(Dr,void 0,void 0,function(){var yn,sn,xt,It;return z(this,function(jr){try{for(yn=Rn(this._openChannelHandlers.values()),sn=yn.next();!sn.done;sn=yn.next())sn.value.onPollDeleted(Ve,Be.pollId)}catch(Ha){xt={error:Ha}}finally{try{sn&&!sn.done&&(It=yn.return)&&It.call(yn)}finally{if(xt)throw xt.error}}return[2]})})}:function(){return q(Dr,void 0,void 0,function(){var yn,sn,xt,It;return z(this,function(jr){try{for(yn=Rn(this._openChannelHandlers.values()),sn=yn.next();!sn.done;sn=yn.next())sn.value.onPollUpdated(Ve,Be)}catch(Ha){xt={error:Ha}}finally{try{sn&&!sn.done&&(It=yn.return)&&It.call(yn)}finally{if(xt)throw xt.error}}return[2]})})}),[3,54];case 29:return Ge=o.as(z6),on=Ge.event,Tn=Ge.channelUrl,_n=Ge.channelType,Tn&&_n?[4,this.getChannel(Tn,!0)]:[3,54];case 30:return vt=pt.sent(),this._dispatcher.dispatch(new XN({event:on,source:mr.EVENT_POLL_VOTED})),Zn(function(){return q(Dr,void 0,void 0,function(){var yn,sn,xt,It;return z(this,function(jr){try{for(yn=Rn(this._openChannelHandlers.values()),sn=yn.next();!sn.done;sn=yn.next())sn.value.onPollVoted(vt,on)}catch(Ha){xt={error:Ha}}finally{try{sn&&!sn.done&&(It=yn.return)&&It.call(yn)}finally{if(xt)throw xt.error}}return[2]})})}),[3,54];case 31:if(!(nt=o.as(jg).event).isOpenChannelEvent)return[3,53];switch(nt.category){case ei.CHANNEL_ENTER:return[3,32];case ei.CHANNEL_EXIT:return[3,34];case ei.CHANNEL_OPERATOR_UPDATE:return[3,36];case ei.USER_CHANNEL_MUTE:case ei.USER_CHANNEL_UNMUTE:return[3,38];case ei.USER_CHANNEL_BAN:case ei.USER_CHANNEL_UNBAN:return[3,40];case ei.CHANNEL_FREEZE:case ei.CHANNEL_UNFREEZE:return[3,42];case ei.CHANNEL_DELETED:return[3,44];case ei.CHANNEL_PROP_CHANGED:return[3,47];case ei.CHANNEL_META_DATA_CHANGED:return[3,49];case ei.CHANNEL_META_COUNTERS_CHANGED:return[3,51]}return[3,53];case 32:return[4,this.getChannel(nt.channelUrl,!0)];case 33:return Br=pt.sent(),ni=o.as(G6),yd=ni.participantCount,xo=ni.user,El=Br._updateParticipantCount(yd,nt.ts),Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){sn.onUserEntered(Br,xo),El&&sn.onChannelParticipantCountChanged(Br)}),[2]})})}),[3,53];case 34:return[4,this.getChannel(nt.channelUrl,!0)];case 35:return Fa=pt.sent(),Q1=o.as($6),yd=Q1.participantCount,f4=Q1.user,g4=Fa._updateParticipantCount(yd,nt.ts),Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){sn.onUserExited(Fa,f4),g4&&sn.onChannelParticipantCountChanged(Fa)}),[2]})})}),[3,53];case 36:return[4,this.getChannel(nt.channelUrl,!0)];case 37:return Yg=pt.sent(),Y1=o.as(EZ).operators,Yg.operators=Y1,this.upsertChannelsToCache([Yg]),Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){sn.onOperatorUpdated(Yg,Y1)}),[2]})})}),[3,53];case 38:return[4,this.getChannel(nt.channelUrl,!0)];case 39:return X1=pt.sent(),Z1=nt.category===ei.USER_CHANNEL_MUTE,J1=o.as(Z1?PX:HX).user,Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){Z1?sn.onUserMuted(X1,J1):sn.onUserUnmuted(X1,J1)}),[2]})})}),[3,53];case 40:return[4,this.getChannel(nt.channelUrl,!0)];case 41:return eE=pt.sent(),nE=nt.category===ei.USER_CHANNEL_BAN,tE=o.as(nE?qX:jX).user,Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){nE?sn.onUserBanned(eE,tE):sn.onUserUnbanned(eE,tE)}),[2]})})}),[3,53];case 42:return[4,this.getChannel(nt.channelUrl,!0)];case 43:return Ap=pt.sent(),rE=o.as(GX).freeze,Ap.isFrozen=rE,this.upsertChannelsToCache([Ap]),Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){rE?sn.onChannelFrozen(Ap):sn.onChannelUnfrozen(Ap)}),[2]})})}),[3,53];case 44:return[4,this.getChannel(nt.channelUrl,!0)];case 45:return Xg=pt.sent(),[4,this.removeChannelsFromCache([Xg.url])];case 46:return pt.sent(),Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){sn.onChannelDeleted(Xg.url,Xg.channelType)}),[2]})})}),[3,53];case 47:return[4,this.getChannelWithoutCache(nt.channelUrl,!0)];case 48:return m4=pt.sent(),Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){sn.onChannelChanged(m4)}),[2]})})}),[3,53];case 49:return[4,this.getChannel(nt.channelUrl,!0)];case 50:return $u=pt.sent(),Zg=o.as(CX),Rp=Zg.created,Mp=Zg.updated,Dp=Zg.deleted,Rp&&$u._upsertCachedMetaData(Rp,nt.ts),Mp&&$u._upsertCachedMetaData(Mp,nt.ts),Dp&&$u._removeFromCachedMetaData(Dp,nt.ts),Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){Rp&&sn.onMetaDataCreated($u,Rp),Mp&&sn.onMetaDataUpdated($u,Mp),Dp&&sn.onMetaDataDeleted($u,Dp)}),[2]})})}),[3,53];case 51:return[4,this.getChannel(nt.channelUrl,!0)];case 52:return Jg=pt.sent(),em=o.as(MX),iE=em.created,aE=em.updated,sE=em.deleted,Zn(function(){return q(Dr,void 0,void 0,function(){return z(this,function(yn){return this._openChannelHandlers.forEach(function(sn){iE&&sn.onMetaCounterCreated(Jg,iE),aE&&sn.onMetaCounterUpdated(Jg,aE),sE&&sn.onMetaCounterDeleted(Jg,sE)}),[2]})})}),[3,53];case 53:return[3,54];case 54:return[3,56];case 55:if(oE=pt.sent(),xu(oE))throw oE;return[3,56];case 56:return[2]}})})},a.prototype.addHandler=function(o,i){this._openChannelHandlers.set(o,i)},a.prototype.removeHandler=function(o){this._openChannelHandlers.delete(o)},a.prototype.clearHandler=function(){this._openChannelHandlers.clear()},a.prototype.getChannel=function(o,i){return q(this,void 0,void 0,function(){var l;return z(this,function(c){switch(c.label){case 0:an(fe("string",o)).throw(be.invalidParameters),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.getChannelFromCache(o)];case 2:return(l=c.sent())?[2,l]:[3,4];case 3:return c.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(o)];case 5:return[2,c.sent()]}})})},a.prototype.getChannelWithoutCache=function(o,i){return i===void 0&&(i=!1),q(this,void 0,void 0,function(){var l,c,h;return z(this,function(f){switch(f.label){case 0:return an(fe("string",o)).throw(be.invalidParameters),l=new NZ({channelUrl:o,isInternalCall:i}),[4,this._requestQueue.send(l)];case 1:return c=f.sent(),h=c.as(j6).channel,[4,this.upsertChannelsToCache([h])];case 2:return f.sent(),[2,h]}})})},a.prototype.createChannel=function(o){return q(this,void 0,void 0,function(){var i,l,c,h;return z(this,function(f){switch(f.label){case 0:return i=he(he({},B6),o),an(function(m){return it("string",m.operatorUserIds,!0)&&(fe("string",m.coverUrlOrImage)||ga(m.coverUrlOrImage)||m.coverUrlOrImage===null)&&fe("string",m.name,!0)&&fe("string",m.data,!0)&&fe("string",m.customType,!0)&&(fe("string",m.channelUrl)&&/^\w+$/.test(m.channelUrl)||m.channelUrl===null)}(i)).throw(be.invalidParameters),l=new OZ(i),[4,this._requestQueue.send(l)];case 1:return c=f.sent(),h=c.as(j6).channel,this.upsertChannelsToCache([h]),[2,h]}})})},a}(),V6={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},MZ=function(a){function o(i){var l=this,c=i.channelUrl,h=i.token,f=i.limit;return(l=a.call(this)||this).method=Qe.GET,l.path="".concat(Ou,"/").concat(encodeURIComponent(c),"/participants"),l.params={token:h,limit:f},l}return K(o,a),o}(Je),DZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;c.token=null,c.participants=[];var h=l.next,f=l.participants;return c.token=h,c.participants=f.map(function(m){return new _Z(i,m)}),c}return K(o,a),o}(rn),UZ=function(a){function o(i,l,c){return a.call(this,i,l,Qt.OPEN,c)||this}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)},o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid).requestQueue,l=new MZ(he(he({},this),{token:this._token})),[4,i.send(l)]):[3,2]:[3,5];case 1:return c=v.sent(),h=c.as(DZ),f=h.participants,m=h.token,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw be.queryInProgress;case 4:return[3,6];case 5:throw be.invalidParameters;case 6:return[2]}})})},o}(Uu),LZ=function(a){function o(i){var l=this,c=i.channelUrl,h=i.coverUrlOrImage,f=i.name,m=i.data,v=i.customType,b=i.operatorUserIds;return(l=a.call(this)||this).method=Qe.PUT,l.path="".concat(Ou,"/").concat(encodeURIComponent(c)),l.params=Ln({cover_url:fe("string",h)?h:null,cover_file:ga(h)?h:null,name:f,data:m,custom_type:v,operators:b}),l}return K(o,a),o}(Je),PZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;return c.channel=new bd(i,l),c}return K(o,a),o}(rn),FZ=function(a){function o(i){var l=this,c=i.channelUrl;return(l=a.call(this)||this).method=Qe.DELETE,l.path="".concat(Ou,"/").concat(encodeURIComponent(c)),l}return K(o,a),o}(Je);(function(a){K(function(o,i){return a.call(this,o,i)||this},a)})(rn);var bd=function(a){function o(i,l){var c,h=this;return(h=a.call(this,i,l)||this)._lastParticipantCountUpdated=0,h.participantCount=0,h.operators=[],h.channelType=Qt.OPEN,h.participantCount=(c=l.participant_count)!==null&&c!==void 0?c:0,h.operators=Array.isArray(l.operators)?l.operators.map(function(f){return new Vn(i,f)}):[],h}return K(o,a),o.payloadify=function(i){return i?Ln(he(he({},q6.payloadify(i)),{participant_count:i.participantCount,operators:i.operators.map(function(l){return Vn.payloadify(l)})})):null},o.prototype.serialize=function(){return Sg(this)},o.prototype.isOperator=function(i){return i instanceof Vn?this.isOperator(i.userId):this.operators.some(function(l){return l.userId===i})},o.prototype._updateParticipantCount=function(i,l){return l>this._lastParticipantCountUpdated&&(this.participantCount=i,this._lastParticipantCountUpdated=l,!0)},o.prototype.createParticipantListQuery=function(i){return new UZ(this._iid,this.url,i)},o.prototype.refresh=function(){return q(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,zu.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,i.sent()]}})})},o.prototype.enter=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new AZ({channelUrl:this.url}),[4,i.send(l)];case 1:return c=v.sent(),h=c.as(G6),f=h.participantCount,m=h.ts,this._updateParticipantCount(f,m),zu.of(this._iid).setEnteredToCache(this),[2]}})})},o.prototype.exit=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new RZ({channelUrl:this.url}),[4,i.send(l)];case 1:return c=v.sent(),h=c.as($6),f=h.participantCount,m=h.ts,this._updateParticipantCount(f,m),zu.of(this._iid).setExitedToCache(this),Fi.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},o.prototype.updateChannel=function(i){return q(this,void 0,void 0,function(){var l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return l=he(he({},V6),i),an(function(b){return it("string",b.operatorUserIds,!0)&&(fe("string",b.coverUrlOrImage)||ga(b.coverUrlOrImage)||b.coverUrlOrImage===null)&&fe("string",b.name,!0)&&fe("string",b.data,!0)&&fe("string",b.customType,!0)}(l)).throw(be.invalidParameters),c=Ce.of(this._iid).requestQueue,h=new LZ(he({channelUrl:this.url},l)),[4,c.send(h)];case 1:return f=v.sent(),m=f.as(PZ).channel,[4,zu.of(this._iid).upsertChannelsToCache([m])];case 2:return v.sent(),[2,m]}})})},o.prototype.updateChannelWithOperatorUserIds=function(i,l,c,h,f){return q(this,void 0,void 0,function(){var m;return z(this,function(v){return m=he(he({},V6),{name:i,coverUrlOrImage:l,data:c,operatorUserIds:h,customType:f}),[2,this.updateChannel(m)]})})},o.prototype.delete=function(){return q(this,void 0,void 0,function(){var i,l;return z(this,function(c){switch(c.label){case 0:return i=Ce.of(this._iid).requestQueue,l=new FZ({channelUrl:this.url}),[4,i.send(l)];case 1:return c.sent(),[4,zu.of(this._iid).removeChannelsFromCache([this.url])];case 2:return c.sent(),[2]}})})},o.prototype.sendUserMessage=function(i){return an(!i.isPinnedMessage).throw(be.notSupportedError),a.prototype.sendUserMessage.call(this,i)},o.prototype.sendFileMessage=function(i){return an(!i.isPinnedMessage).throw(be.notSupportedError),a.prototype.sendFileMessage.call(this,i)},o}(q6),HZ=function(a){function o(i){i===void 0&&(i={});var l=a.call(this)||this;return Object.keys(i).forEach(function(c){l.hasOwnProperty(c)&&(l[c]=i[c])}),l}return K(o,a),o}(function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i.onUserEntered=$n,i.onUserExited=$n,i.onChannelParticipantCountChanged=$n,i.onPollUpdated=$n,i.onPollVoted=$n,i.onPollDeleted=$n,i}return K(o,a),o}(function(){this.onUserMuted=$n,this.onUserUnmuted=$n,this.onUserBanned=$n,this.onUserUnbanned=$n,this.onChannelChanged=$n,this.onChannelDeleted=$n,this.onChannelFrozen=$n,this.onChannelUnfrozen=$n,this.onOperatorUpdated=$n,this.onChannelMemberCountChanged=$n,this.onMetaDataCreated=$n,this.onMetaDataUpdated=$n,this.onMetaDataDeleted=$n,this.onMetaCounterCreated=$n,this.onMetaCounterUpdated=$n,this.onMetaCounterDeleted=$n,this.onMessageReceived=$n,this.onMessageUpdated=$n,this.onMessageDeleted=$n,this.onMentionReceived=$n,this.onReactionUpdated=$n,this.onThreadInfoUpdated=$n})),zZ=function(a){function o(i){var l=this,c=i.token,h=i.limit,f=i.nameKeyword,m=i.urlKeyword,v=i.customTypes,b=i.includeFrozen,w=i.includeMetaData;return(l=a.call(this)||this).method=Qe.GET,l.path=Ou,l.params=Ln({token:c,limit:h,name_contains:f,url_contains:m,custom_types:v,show_frozen:b,show_metadata:w}),l}return K(o,a),o}(Je),qZ=function(a){function o(i,l){var c=a.call(this,i,l)||this;c.token=null,c.channels=[],c.ts=null;var h=l.next,f=l.channels,m=l.ts;return c.token=h,f&&f.length>0&&(c.channels=f.map(function(v){return new bd(i,v)})),c.ts=typeof m=="number"?m:null,c}return K(o,a),o}(rn),BZ=function(a){function o(i,l){var c,h,f,m,v,b=this;return(b=a.call(this,i,l)||this).includeFrozen=!0,b.includeMetaData=!0,b.nameKeyword=null,b.urlKeyword=null,b.customTypes=null,b.includeFrozen=(c=l.includeFrozen)===null||c===void 0||c,b.includeMetaData=(h=l.includeMetaData)===null||h===void 0||h,b.nameKeyword=(f=l.nameKeyword)!==null&&f!==void 0?f:null,b.urlKeyword=(m=l.urlKeyword)!==null&&m!==void 0?m:null,b.customTypes=(v=l.customTypes)!==null&&v!==void 0?v:null,b}return K(o,a),o.prototype._validate=function(){return a.prototype._validate.call(this)&&fe("boolean",this.includeFrozen)&&fe("boolean",this.includeMetaData)&&fe("string",this.nameKeyword,!0)&&fe("string",this.urlKeyword,!0)&&it("string",this.customTypes,!0)},o.prototype.next=function(){return q(this,void 0,void 0,function(){var i,l,c,h,f,m;return z(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,i=Ce.of(this._iid).requestQueue,l=new zZ(he(he({},this),{token:this._token})),[4,i.send(l)]):[3,3]:[3,6];case 1:return c=v.sent(),h=c.as(qZ),f=h.channels,m=h.token,this._token=m,this._hasNext=!!m,[4,zu.of(this._iid).upsertChannelsToCache(f)];case 2:return v.sent(),this._isLoading=!1,[2,f];case 3:return[2,[]];case 4:throw be.queryInProgress;case 5:return[3,7];case 6:throw be.invalidParameters;case 7:return[2]}})})},o}(fd),jZ=function(a){function o(){var i=a!==null&&a.apply(this,arguments)||this;return i.name="openChannel",i}return K(o,a),o.prototype.init=function(i,l){var c=l.sdkState,h=l.dispatcher,f=l.sessionManager,m=l.requestQueue,v=l.logger,b=l.onlineDetector,w=l.cacheContext;a.prototype.init.call(this,i,{sdkState:c,dispatcher:h,sessionManager:f,requestQueue:m,logger:v,onlineDetector:b,cacheContext:w}),this._manager=new zu(i,{sdkState:c,dispatcher:h,requestQueue:m})},o.prototype.createOpenChannelListQuery=function(i){return i===void 0&&(i={}),new BZ(this._iid,i)},o.prototype.addOpenChannelHandler=function(i,l){this._manager.addHandler(i,l)},o.prototype.removeOpenChannelHandler=function(i){this._manager.removeHandler(i)},o.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},o.prototype.buildOpenChannelFromSerializedData=function(i){return this._manager.buildOpenChannelFromSerializedData(i)},o.prototype.getChannel=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){return[2,this._manager.getChannel(i)]})})},o.prototype.getChannelWithoutCache=function(i){return q(this,void 0,void 0,function(){return z(this,function(l){return[2,this._manager.getChannelWithoutCache(i)]})})},o.prototype.createChannel=function(i){return i===void 0&&(i={}),q(this,void 0,void 0,function(){return z(this,function(l){return[2,this._manager.createChannel(i)]})})},o.prototype.createChannelWithOperatorUserIds=function(i,l,c,h,f){return q(this,void 0,void 0,function(){var m;return z(this,function(v){return(m=he({},B6)).name=i,m.coverUrlOrImage=l,m.data=c,m.operatorUserIds=h,m.customType=f,[2,this._manager.createChannel(m)]})})},o}(h1),W6="LIVE_EVENT_MANAGER",GZ=function(){function a(c){var h=this;g(this,a),this._liveEvents=[],this._ctx=c,this._ctx.sb.openChannel.addOpenChannelHandler(W6,new HZ({onUserBanned:function(f,m){if(m.userId===h._ctx.sb.currentUser.userId){var v=h._liveEvents.find(function(b){var w;return((w=b.openChannel)===null||w===void 0?void 0:w.url)===f.url});v&&v.onDisconnected()}}}))}var o,i,l;return y(a,[{key:"createLiveEvent",value:(l=p(u().mark(function c(h){var f,m,v,b;return u().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return f=Ot.createLiveEvent(_q.SINGLE_HOST,h.userIdsForHost?[].concat(ee(h.userIdsForHost),[this.userId]):[this.userId],h.title,h.coverUrl,h.coverFile,h.customItems),w.next=3,this._ctx.commandRouter.send(f);case 3:return m=w.sent,v=m.payload.liveEvent,b=new zy({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:v}),w.prev=6,w.next=9,b.fetchOpenChannel();case 9:w.next=14;break;case 11:w.prev=11,w.t0=w.catch(6),fn.error("failed to fetch initial open channel");case 14:return this._liveEvents.push(b),w.abrupt("return",b);case 16:case"end":return w.stop()}},c,this,[[6,11]])})),function(c){return l.apply(this,arguments)})},{key:"getLiveEvent",value:(i=p(u().mark(function c(h){var f,m,v;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f=Ot.createGetLiveEvent(h),b.next=3,this._ctx.commandRouter.send(f);case 3:return m=b.sent,v=m.payload.liveEvent,b.abrupt("return",this.deserializeLiveEvent(v));case 6:case"end":return b.stop()}},c,this)})),function(c){return i.apply(this,arguments)})},{key:"deserializeLiveEvent",value:(o=p(u().mark(function c(h){var f,m,v;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(f=this._liveEvents.findIndex(function(w){return w.liveEventId===h.liveEventId}),!(f>-1)){b.next=15;break}return(m=this._liveEvents[f]).upsert(h),b.prev=4,b.next=7,m.fetchOpenChannel();case 7:b.next=12;break;case 9:b.prev=9,b.t0=b.catch(4),fn.error("failed to fetch initial open channel");case 12:return b.abrupt("return",m);case 15:return v=new zy({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:h}),b.prev=16,b.next=19,v.fetchOpenChannel();case 19:b.next=24;break;case 21:b.prev=21,b.t1=b.catch(16),fn.error("failed to fetch initial open channel");case 24:return this._liveEvents.push(v),b.abrupt("return",v);case 26:case"end":return b.stop()}},c,this,[[4,9],[16,21]])})),function(c){return o.apply(this,arguments)})},{key:"clear",value:function(){this._liveEvents=[],this._ctx.sb.openChannel.removeOpenChannelHandler(W6);var c,h=Y(this._liveEvents);try{for(h.s();!(c=h.n()).done;)c.value.teardown()}catch(f){h.e(f)}finally{h.f()}}}]),a}(),$Z=Rs,VZ=Ra,WZ=un,KZ=tl,QZ=TypeError,K6=function(a){return function(o,i,l,c){$Z(i);var h=VZ(o),f=WZ(h),m=KZ(h),v=a?m-1:0,b=a?-1:1;if(l<2)for(;;){if(v in f){c=f[v],v+=b;break}if(v+=b,a?v<0:m<=v)throw QZ("Reduce of empty array with no initial value")}for(;a?v>=0:m>v;v+=b)v in f&&(c=i(c,f[v],v,h));return c}},YZ={left:K6(!1),right:K6(!0)}.left;Gt({target:"Array",proto:!0,forced:!$h&&Ma>79&&Ma<83||!Xb("reduce")},{reduce:function(a){var o=arguments.length;return YZ(this,a,o,o>1?arguments[1]:void 0)}});var wo=function(){function a(o,i){g(this,a),this.key=o,this.value=i}return y(a,[{key:"toString",value:function(){return this.key}},{key:"equals",value:function(o){return this.value.width===o.value.width&&this.value.height===o.value.height}}]),a}();E(wo,"_720P",new wo("_720P",{width:1280,height:720})),E(wo,"_540P",new wo("_540P",{width:960,height:540})),E(wo,"_480P",new wo("_480P",{width:848,height:480})),E(wo,"_360P",new wo("_360P",{width:640,height:360}));var Q6=wo._720P,XZ=function(a){x(i,a);var o=L(i);function i(l,c){var h;return g(this,i),E(U(h=o.call(this)),"hasPermission",!1),h._streamManger=l,h.constraints=c,h}return y(i,[{key:"stream",get:function(){return this._streamManger.stream}},{key:"dispose",value:function(){var l;this.removeAllEventListeners(),(l=this.onDisposed)===null||l===void 0||l.call(this)}},{key:"streamChanged",value:function(l){this._dispatchEvent("streamChanged",l)}},{key:"audioOutputChanged",value:function(){this._dispatchEvent("audioOutputChanged")}}]),i}(po),ZZ=Hr,JZ=De,eJ=Ke,nJ=S0,G1=os,tJ=rt,rJ=Ph,iJ=EI,Y6=xI;yI("match",function(a,o,i){return[function(l){var c=tJ(this),h=eJ(l)?void 0:rJ(l,a);return h?ZZ(h,l,c):new RegExp(l)[a](G1(c))},function(l){var c=JZ(this),h=G1(l),f=i(o,c,h);if(f.done)return f.value;if(!c.global)return Y6(c,h);var m=c.unicode;c.lastIndex=0;for(var v,b=[],w=0;(v=Y6(c,h))!==null;){var C=G1(v[0]);b[w]=C,C===""&&(c.lastIndex=iJ(h,nJ(c.lastIndex),m)),w++}return w===0?null:b}]});var $1,yl,qu,Ip,$g,Vg,X6=zt,aJ=dn,sJ=j,oJ=os,lJ=OI.trim,Z6=II,Np=X6.parseInt,J6=X6.Symbol,e4=J6&&J6.iterator,n4=/^[+-]?0x/i,uJ=sJ(n4.exec),t4=Np(Z6+"08")!==8||Np(Z6+"0x16")!==22||e4&&!aJ(function(){Np(Object(e4))})?function(a,o){var i=lJ(oJ(a));return Np(i,o>>>0||(uJ(n4,i)?16:10))}:Np;Gt({global:!0,forced:parseInt!=t4},{parseInt:t4});var r4=function(a,o){o.audio&&a.getAudioTracks().length===0&&a.addTrack(function(){$1||($1=new(window.AudioContext||window.webkitAudioContext));var i=$1;yl=i.createOscillator();var l=i.createMediaStreamDestination(),c=i.createGain();return c.gain.setValueAtTime(0,i.currentTime),yl.connect(c),c.connect(l),yl.start(),$g=l.stream.getAudioTracks()[0],l.stream.getAudioTracks()[0]}()),o.video&&a.getVideoTracks().length===0&&a.addTrack(function(i){var l=i.width,c=i.height,h=i.frameRate;qu||(qu=document.createElement("canvas")),qu.width=l,qu.height=c,qu.getContext("2d").fillRect(0,0,l,c),Ip||(Ip=setInterval(function(){qu.getContext("2d").fillRect(0,0,l,c)},1e3));var f=qu.captureStream(h);return Vg=f.getVideoTracks()[0],f.getVideoTracks()[0]}(s(s({},Q6.value),{},{frameRate:24})))};function i4(){$g&&$g.stop(),Vg&&Vg.stop(),$g=null,Vg=null,Ip&&(clearInterval(Ip),Ip=null),yl&&(yl.onended=function(){yl.disconnect(),yl=null},yl.stop())}function V1(a){if(a){var o,i=Y(a.getTracks());try{for(i.s();!(o=i.n()).done;)o.value.stop()}catch(l){i.e(l)}finally{i.f()}}}var Wg=function(a,o,i){var l=a.match(o);return l&&l.length>=i&&parseInt(l[i],10)},a4=function(){var a={browser:null,version:null};if(typeof window>"u"||!window.navigator)return a.browser="Not a browser.",a;var o=window.navigator;if(o.mozGetUserMedia)a.browser="firefox",a.version=Wg(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)a.browser="chrome",a.version=Wg(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(o.mediaDevices&&o.userAgent.match(/Edge\/(\d+).(\d+)$/))a.browser="edge",a.version=Wg(o.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!o.userAgent.match(/AppleWebKit\/(\d+)\./))return a.browser="Not a supported browser.",a;a.browser="safari",a.version=Wg(o.userAgent,/AppleWebKit\/(\d+)\./,1),a.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return a}().browser==="safari",cJ=function(){function a(l){g(this,a),this._deviceManager=l,this._updateQueued=!1}var o,i;return y(a,[{key:"_getUserMedia",value:(i=p(u().mark(function l(c){var h,f,m,v;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,navigator.mediaDevices.getUserMedia(c);case 3:return h=b.sent,i4(),b.abrupt("return",h);case 8:return b.prev=8,b.t0=b.catch(0),fn.warning("Failed to first 'getUserMedia()' call Error[".concat(b.t0,"]")),f=new MediaStream,b.prev=12,b.next=15,navigator.mediaDevices.getUserMedia({audio:c.audio});case 15:m=b.sent,f.addTrack(m.getAudioTracks()[0]),b.next=22;break;case 19:b.prev=19,b.t1=b.catch(12),fn.warning("Failed to get local audio stream Error[".concat(b.t1,"]"));case 22:return b.prev=22,b.next=25,navigator.mediaDevices.getUserMedia({video:c.video});case 25:v=b.sent,f.addTrack(v.getVideoTracks()[0]),b.next=32;break;case 29:b.prev=29,b.t2=b.catch(22),fn.warning("Failed to get local video stream Error[".concat(b.t2,"]"));case 32:return b.abrupt("return",f);case 33:case"end":return b.stop()}},l,null,[[0,8],[12,19],[22,29]])})),function(l){return i.apply(this,arguments)})},{key:"updateStream",value:(o=p(u().mark(function l(){var c,h,f,m,v,b,w,C,H,F;return u().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!this._updateAt){$.next=3;break}return this._updateQueued=!0,$.abrupt("return");case 3:if(c=this._deviceManager.mediaAccesses.some(function(B){return B.constraints.audio}),h=this._deviceManager.mediaAccesses.some(function(B){return B.constraints.video}),c||h){$.next=9;break}return V1(this.stream),i4(),$.abrupt("return");case 9:return this._updateAt=Date.now(),(f=this.stream)||(m=new MediaStream,r4(m,{audio:c,video:h}),this.stream=m),a4&&V1(f),$.next=15,this._deviceManager.getMediaConstraints({usingAudio:c,usingVideo:h});case 15:return v=$.sent,$.next=18,this._getUserMedia(v);case 18:if((b=$.sent).getVideoTracks().length>0){w=Y(this._deviceManager.mediaAccesses);try{for(w.s();!(C=w.n()).done;)C.value.hasPermission=!0}catch(B){w.e(B)}finally{w.f()}}r4(b,{audio:c,video:h}),a4||V1(f),this.stream=b,H=Y(this._deviceManager.mediaAccesses);try{for(H.s();!(F=H.n()).done;)F.value.streamChanged(this.stream)}catch(B){H.e(B)}finally{H.f()}delete this._updateAt,this._updateQueued?(this._updateQueued=!1,this.updateStream()):this._deviceManager.refreshMediaDevices({audio:c,video:h},!0);case 27:case"end":return $.stop()}},l,this)})),function(){return o.apply(this,arguments)})}]),a}();function s4(a,o){return(a==null?void 0:a.deviceId)===(o==null?void 0:o.deviceId)&&(a==null?void 0:a.label)===(o==null?void 0:o.label)&&(a==null?void 0:a.groupId)===(o==null?void 0:o.groupId)}var dJ=function(){function a(){var h=this;g(this,a),this.mediaAccesses=[],this._availableMediaDevices={audioinput:[],audiooutput:[],videoinput:[]},this._currentMediaDevices={audioinput:void 0,audiooutput:void 0,videoinput:void 0},this._sendbirdCallListeners=new Map,this._streamManager=new cJ(this),navigator.mediaDevices.ondevicechange=function(){return h._onDeviceChanged()}}var o,i,l,c;return y(a,[{key:"_onDeviceChanged",value:function(){this.mediaAccesses.length!==0&&this.refreshMediaDevices({audio:this.mediaAccesses.some(function(h){return h.constraints.audio}),video:this.mediaAccesses.some(function(h){return h.constraints.video})})}},{key:"addSendBirdCallListener",value:function(h,f){this._sendbirdCallListeners.set(h,f)}},{key:"removeSendBirdCallListener",value:function(h){this._sendbirdCallListeners.delete(h)}},{key:"removeAllSendBirdCallListener",value:function(){this._sendbirdCallListeners.clear()}},{key:"getCurrentAudioInputDevice",value:function(){return this._currentMediaDevices.audioinput}},{key:"getCurrentAudioOutputDevice",value:function(){return this._currentMediaDevices.audiooutput}},{key:"getCurrentVideoInputDevice",value:function(){return this._currentMediaDevices.videoinput}},{key:"getAvailableAudioInputDevices",value:function(){return this._availableMediaDevices.audioinput}},{key:"getAvailableAudioOutputDevices",value:function(){return this._availableMediaDevices.audiooutput}},{key:"getAvailableVideoInputDevices",value:function(){return this._availableMediaDevices.videoinput}},{key:"updateStream",value:(c=p(u().mark(function h(){return u().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",this._streamManager.updateStream());case 1:case"end":return f.stop()}},h,this)})),function(){return c.apply(this,arguments)})},{key:"_registerMediaAccess",value:function(h){var f=this;this.mediaAccesses.push(h),h.onDisposed=function(){return f.stopMedia(h)}}},{key:"useMedia",value:function(h){if(h.audio||h.video){var f=new XZ(this._streamManager,h);return this._registerMediaAccess(f),this.updateStream(),f}fn.error(new Error("you should set true for at least 1 media type."))}},{key:"stopMedia",value:function(h){this.mediaAccesses.splice(this.mediaAccesses.indexOf(h),1),this.updateStream()}},{key:"fetchMediaDevices",value:(l=p(u().mark(function h(){var f;return u().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,navigator.mediaDevices.enumerateDevices();case 2:return f=m.sent,m.abrupt("return",f.reduce(function(v,b){return v[b.kind].push(b),v},{audioinput:[],audiooutput:[],videoinput:[]}));case 4:case"end":return m.stop()}},h)})),function(){return l.apply(this,arguments)})},{key:"getMediaConstraints",value:(i=p(u().mark(function h(f){var m,v,b,w,C,H,F,$;return u().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return m=f.usingAudio,v=f.usingVideo,b={audio:!1,video:!1},B.next=4,this.fetchMediaDevices();case 4:return w=B.sent,C=w.audioinput,H=w.videoinput,m&&C.length&&(F=this.getCurrentAudioInputDevice(),b.audio={deviceId:F==null?void 0:F.deviceId}),v&&H.length&&($=this.getCurrentVideoInputDevice(),b.video=s(s({deviceId:$==null?void 0:$.deviceId},Q6.value),{},{frameRate:24})),B.abrupt("return",b);case 10:case"end":return B.stop()}},h,this)})),function(h){return i.apply(this,arguments)})},{key:"_updateCurrentMediaDevice",value:function(h,f){var m,v=this._availableMediaDevices[h],b=this._currentMediaDevices[h],w=v.find(function(C){return C.deviceId===(f==null?void 0:f.deviceId)});return w||(fn.warning("Selected device is unavailable. fallback to default device."),w=((m=w)!==null&&m!==void 0?m:v.length>0)?v[0]:null),this._currentMediaDevices[h]=w,!s4(b,w)}},{key:"_onAudioOutputChanged",value:function(){var h,f=Y(this.mediaAccesses);try{for(f.s();!(h=f.n()).done;){var m=h.value;m.constraints.audio&&m.audioOutputChanged()}}catch(v){f.e(v)}finally{f.f()}}},{key:"selectDevice",value:function(h,f){f.kind===h?this._updateCurrentMediaDevice(h,f)&&(h!=="audioinput"&&h!=="videoinput"||this.updateStream(),h==="audiooutput"&&this._onAudioOutputChanged()):fn.error(new Error("Tried to select invalid device of type"))}},{key:"_updateAvailableDevices",value:function(h,f){var m,v,b,w=this._currentMediaDevices[h],C=!function(ie,Z){if(ie.length!==Z.length)return!1;for(var pe=0;pe<Z.length;pe++)if(!s4(ie[pe],Z[pe]))return!1;return!0}(this._availableMediaDevices[h],f);if(!C)return!1;var H;this._availableMediaDevices[h]=f,H=this._updateCurrentMediaDevice(h,w);var F,$=Y(this._sendbirdCallListeners.values());try{for($.s();!(F=$.n()).done;){var B=F.value,W=this._currentMediaDevices[h];switch(h){case"audioinput":(m=B.onAudioInputDeviceChanged)===null||m===void 0||m.call(B,W,f);break;case"audiooutput":(v=B.onAudioOutputDeviceChanged)===null||v===void 0||v.call(B,W,f);break;case"videoinput":(b=B.onVideoInputDeviceChanged)===null||b===void 0||b.call(B,W,f)}}}catch(ie){$.e(ie)}finally{$.f()}return H}},{key:"refreshMediaDevices",value:(o=p(u().mark(function h(f){var m,v,b,w,C,H,F,$,B,W=arguments;return u().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(m=f.audio,v=f.video,b=W.length>1&&W[1]!==void 0&&W[1],m||v){ie.next=4;break}throw new Error("at least one of the audio or video must be true");case 4:return ie.next=6,this.fetchMediaDevices();case 6:w=ie.sent,C=w.audioinput,H=w.audiooutput,F=w.videoinput,$=!1,B=!1,m&&($=this._updateAvailableDevices("audioinput",C),B=this._updateAvailableDevices("audiooutput",H)),v&&($=this._updateAvailableDevices("videoinput",F)||$),!b&&$&&this.updateStream(),B&&this._onAudioOutputChanged();case 16:case"end":return ie.stop()}},h,this)})),function(h){return o.apply(this,arguments)})}]),a}(),o4="v1.0.0-beta.8",hJ=function(){function a(o){g(this,a),this._parse=o}return y(a,[{key:"parseToJson",value:function(o){try{return JSON.parse(o)}catch{return{}}}},{key:"validate",value:function(o){var i=o.cmd,l=o.request_id,c=o.call_type;return!!(l||i||c)}},{key:"parseCommand",value:function(o){return o.error?{isValid:!0,error:{requestId:o.request_id,message:o.message,code:o.code}}:{isValid:!0,command:this._parse(o)}}},{key:"parse",value:function(o){var i=this.parseToJson(o);return this.validate(i)?this.parseCommand(i):{isValid:!1}}}]),a}(),pJ=function(a){x(i,a);var o=L(i);function i(l){var c,h;return g(this,i),(h=o.call(this))._ctx=l,h._ws=null,h._retryTimer=null,h._closed=!0,h._sessionKey=null,h._requestMap=new zI(h._getTimeoutTime()),h._messageParser=new hJ(h._ctx.parse),h._hostUrl=(c=h._ctx.websocketHost)!==null&&c!==void 0?c:"wss://ws-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",h._ctx.appId),h}return y(i,[{key:"connect",value:function(){var l=this;return new Promise(function(c,h){var f;l._sessionKey||h(new Error("tried to connect to websocket server without auth")),((f=l._ws)===null||f===void 0?void 0:f.readyState)===0&&h(new Error("websocket is reconnecting already")),l._disconnect(),l._ws=l._createWebSocket(),l._closed=!1,l._ws.onopen=function(){l._onOpen(),c(null)},l._ws.onmessage=function(m){var v=l._messageParser.parse(m.data),b=v.isValid,w=v.error,C=v.command;b&&(w?l._processError(w):l.processCommand(C))},l._ws.onerror=function(m){return l._onError(m)},l._ws.onclose=function(){l._onClose(),h(new Error("websocket connection failed"))}})}},{key:"_processError",value:function(l){var c=l.requestId,h=l.code,f=l.message,m=this._requestMap.unregister(c);m&&(fn.debug(c,l.message),m.reject(new ll(h,{message:f})))}},{key:"processCommand",value:function(l){this._dispatchEvent("command",l)}},{key:"setSessionKey",value:function(l){this._sessionKey=l}},{key:"clearSessionKey",value:function(){this._disconnect(),this._sessionKey=null}},{key:"_disconnect",value:function(){this._ws&&(this._closed=!0,this._removeRetryTimer(),this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close(),this._requestMap.rejectAll(new Error("request failed due to websocket connection lost")),this._ws=null)}},{key:"isConnected",get:function(){return!!this._ws&&this._ws.readyState===1}},{key:"_onOpen",value:function(){}},{key:"_onError",value:function(l){}},{key:"_onClose",value:function(){this.startToReconnect()}},{key:"_createWebSocket",value:function(){var l="/?sbcall_session_token=".concat(encodeURIComponent(this._sessionKey),"&sbcall_client_id=").concat(encodeURIComponent(this._ctx.clientId),"&sendbird=").concat(encodeURIComponent(this._getVersion()));return new WebSocket(this._getHost()+l)}},{key:"_getVersion",value:function(){return"JS,".concat(this._getOsVersion(),",").concat(o4)}},{key:"_getHost",value:function(){return this._hostUrl}},{key:"startToReconnect",value:function(){this._closed||this._retryTimer||(this._retryTimer=setTimeout(this._reconnect.bind(this),this._getRetryTime()))}},{key:"_reconnect",value:function(){var l=this;this._removeRetryTimer(),Ly(new HI(5e3,1e3,void 0),function(){return l.connect()},{onError:function(c){fn.error("Fail reconnect WebSocket ErrorCode = ".concat(c.code))}})}},{key:"_removeRetryTimer",value:function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_getRetryTime",value:function(){return 2e3}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),i}(po),fJ=function(){function a(i){var l;g(this,a),this._ctx=i,this._fetch=function(){var c;return(c=window).fetch.apply(c,arguments)},this._sessionKey=null,this._hostUrl=(l=this._ctx.apiHost)!==null&&l!==void 0?l:"https://api-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",this._ctx.appId)}var o;return y(a,[{key:"setSessionKey",value:function(i){this._sessionKey=i}},{key:"clearSessionKey",value:function(){this._sessionKey=null}},{key:"send",value:(o=p(u().mark(function i(l){var c,h,f,m,v,b;return u().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(l.getApiOption){w.next=2;break}throw new Error("invalid api request ".concat(JSON.stringify(l)));case 2:if(!(c=l.getApiOption()).auth||this._sessionKey){w.next=5;break}throw new Error("tried to call private api without auth");case 5:return h=s({},c.headers),c.body instanceof FormData||(h["Content-Type"]="application/json"),h.SendBird="JS,".concat(this._getOsVersion(),",").concat(o4),h["SBCall-Client-Id"]=this._ctx.clientId,this._sessionKey&&(h["SBCall-Session-Token"]=this._sessionKey),w.next=12,this._fetch("".concat(this._getHost()).concat(c.path),{method:c.method,body:c.body instanceof FormData?c.body:JSON.stringify(c.body),headers:h});case 12:return f=w.sent,w.next=15,f.text();case 15:m=w.sent,v=null,w.prev=17,v=JSON.parse(m),w.next=24;break;case 21:throw w.prev=21,w.t0=w.catch(17),new ll(bi.ERR_MALFORMED_DATA);case 24:if(f.ok){w.next=34;break}if(!v.error){w.next=29;break}throw new ll(v.code,{message:v.message});case 29:if(f.status!==500){w.next=31;break}throw new ll(bi.INTERNAL_SERVER_ERROR);case 31:if(!(f.status>=300&&f.status<400)){w.next=33;break}throw new ll(bi.ERR_MALFORMED_DATA);case 33:throw new ll(bi.ERR_REQUEST_FAILED);case 34:if(w.prev=34,!(b=this._ctx.parseResponse(l,v))){w.next=38;break}return w.abrupt("return",b);case 38:w.next=43;break;case 40:return w.prev=40,w.t1=w.catch(34),w.abrupt("return",v);case 43:return w.abrupt("return",v);case 44:case"end":return w.stop()}},i,this,[[17,21],[34,40]])})),function(i){return o.apply(this,arguments)})},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),a}(),gJ=function(a){x(h,a);var o,i,l,c=L(h);function h(f){var m;return g(this,h),(m=c.call(this))._ctx=f,m.wsClient=new pJ(s(s({},f),{},{parse:function(v){return Ot.parse(v)}})),m.apiClient=new fJ(s(s({},f),{},{parseResponse:function(v,b){return Ot.parseResponse(v,b)}})),m._unsubscriber=m.wsClient.on("command",function(v){m._dispatchEvent("command",v)}),m}return y(h,[{key:"connectWs",value:function(){return this.wsClient.connect()}},{key:"reconnectWs",value:function(){return this.wsClient.startToReconnect()}},{key:"sendAPI",value:function(f){return this.apiClient.send(f)}},{key:"send",value:(l=p(u().mark(function f(m){return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this.sendAPI(m));case 1:case"end":return v.stop()}},f,this)})),function(f){return l.apply(this,arguments)})},{key:"sendWithRetry",value:(i=p(u().mark(function f(m){var v,b,w,C,H,F,$=this,B=arguments;return u().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return v=B.length>1&&B[1]!==void 0?B[1]:new zV,b=B.length>2&&B[2]!==void 0?B[2]:{count:0,deferred:new Uy},w=b.deferred,C=b.count,W.prev=3,W.next=6,this.send(m);case 6:H=W.sent,w.resolve(H),W.next=14;break;case 10:W.prev=10,W.t0=W.catch(3),(F=v.calcTimeout(C))>0?setTimeout(function(){$.sendWithRetry(m,v,{count:C+1,deferred:w})},F):w.reject(W.t0);case 14:return W.abrupt("return",w.promise);case 15:case"end":return W.stop()}},f,this,[[3,10]])})),function(f){return i.apply(this,arguments)})},{key:"_setSessionKey",value:function(f){this.apiClient.setSessionKey(f),this.wsClient.setSessionKey(f)}},{key:"authenticate",value:(o=p(u().mark(function f(m){var v,b,w,C;return u().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return v=m.userId,b=m.accessToken,H.prev=1,H.next=4,this._ctx.sb.connect(v,b);case 4:return w=Ot.createAuth(this._ctx.appId,v,b),H.next=7,this.send(w);case 7:C=H.sent,this._setSessionKey(C.sbcall_session_token),this._ctx.liveEventManager.userId=C.user.user_id,H.next=16;break;case 12:throw H.prev=12,H.t0=H.catch(1),fn.error("failed to authenticate user ".concat(v)),H.t0;case 16:case"end":return H.stop()}},f,this,[[1,12]])})),function(f){return o.apply(this,arguments)})},{key:"deauthenticate",value:function(){this.apiClient.clearSessionKey(),this.wsClient.clearSessionKey()}}]),h}(po),mJ=Gc,vJ=os,_J=rt,bJ=RangeError,l4=j,yJ=S0,u4=os,EJ=function(a){var o=vJ(_J(this)),i="",l=mJ(a);if(l<0||l==1/0)throw bJ("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))1&l&&(i+=o);return i},wJ=rt,xJ=l4(EJ),kJ=l4("".slice),SJ=Math.ceil,c4=function(a){return function(o,i,l){var c,h,f=u4(wJ(o)),m=yJ(i),v=f.length,b=l===void 0?" ":u4(l);return m<=v||b==""?f:((h=xJ(b,SJ((c=m-v)/b.length))).length>c&&(h=kJ(h,0,c)),a?f+h:h+f)}},CJ={start:c4(!1),end:c4(!0)},TJ=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(co),IJ=CJ.start;Gt({target:"String",proto:!0,forced:TJ},{padStart:function(a){return IJ(this,a,arguments.length>1?arguments[1]:void 0)}});var W1={VERBOSE:{level:-1,name:Li.VERBOSE,public:!1},DEBUG:{level:1,name:Li.DEBUG,public:!1},INFO:{level:2,name:Li.INFO,public:!0},WARNING:{level:3,name:Li.WARNING,public:!0},ERROR:{level:4,name:Li.ERROR,public:!0},NONE:{level:100,name:Li.NONE,public:!0}},NJ=function(a){x(i,a);var o=L(i);function i(l){return g(this,i),o.call(this,l)}return y(i,[{key:"_getLogType",value:function(l){switch(l){case Li.ERROR:return"error";case Li.WARNING:return"warn";default:return"log"}}},{key:"_getTimeString",value:function(l){var c=l.getFullYear().toString().padStart(2,"0"),h=(l.getMonth()+1).toString().padStart(2,"0"),f=l.getDate().toString().padStart(2,"0"),m=l.getHours().toString().padStart(2,"0"),v=l.getMinutes().toString().padStart(2,"0"),b=l.getSeconds().toString().padStart(2,"0"),w=l.getMilliseconds().toString().padStart(2,"0");return"[".concat(c,".").concat(h,".").concat(f," ").concat(m,":").concat(v,":").concat(b,":").concat(w,"]")}},{key:"_permit",value:function(l){var c=this._getLogType(l),h=new Date;if(this._enabledFor(l)&&console&&console[c]){for(var f,m="".concat(this._getTimeString(h)," [").concat(l,"]"),v=arguments.length,b=new Array(v>1?v-1:0),w=1;w<v;w++)b[w-1]=arguments[w];(f=console)[c].apply(f,[m].concat(b))}}}]),i}(function(){function a(o){g(this,a),this.level=o||Li.NONE}return y(a,[{key:"setLoggerLevel",value:function(o){var i;return(i=W1[o])!==null&&i!==void 0&&i.public&&(this.level=o),this.level}},{key:"_enabledFor",value:function(o){try{return W1[this.level].level<=W1[o].level}catch{return!1}}}]),a}());/*!
 Copyright 2018 Google Inc. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*//*! lifecycle.mjs v0.1.1 */let Kg;try{new EventTarget,Kg=!0}catch{Kg=!1}var OJ=Kg?EventTarget:class{constructor(){this.e={}}addEventListener(a,o,i=!1){this.t(a).push(o)}removeEventListener(a,o,i=!1){const l=this.t(a),c=l.indexOf(o);c>-1&&l.splice(c,1)}dispatchEvent(a){return a.target=this,Object.freeze(a),this.t(a.type).forEach(o=>o(a)),!0}t(a){return this.e[a]=this.e[a]||[]}},AJ=Kg?Event:class{constructor(a){this.type=a}};class RJ extends AJ{constructor(o,i){super(o),this.newState=i.newState,this.oldState=i.oldState,this.originalEvent=i.originalEvent}}const Bu="active",Op="passive",ju="hidden",Gu="frozen",K1="terminated",d4=typeof safari=="object"&&safari.pushNotification,MJ=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],h4=a=>(a.preventDefault(),a.returnValue="Are you sure?"),DJ=[[Bu,Op,ju,K1],[Bu,Op,ju,Gu],[ju,Op,Bu],[Gu,ju],[Gu,Bu],[Gu,Op]].map(a=>a.reduce((o,i,l)=>(o[i]=l,o),{})),Qg=()=>document.visibilityState===ju?ju:document.hasFocus()?Bu:Op;var p4=new class extends OJ{constructor(){super();const a=Qg();this.s=a,this.i=[],this.a=this.a.bind(this),MJ.forEach(o=>addEventListener(o,this.a,!0)),d4&&addEventListener("beforeunload",o=>{this.n=setTimeout(()=>{o.defaultPrevented||o.returnValue.length>0||this.r(o,ju)},0)})}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(a){!this.i.indexOf(a)>-1&&(this.i.length===0&&addEventListener("beforeunload",h4),this.i.push(a))}removeUnsavedChanges(a){const o=this.i.indexOf(a);o>-1&&(this.i.splice(o,1),this.i.length===0&&removeEventListener("beforeunload",h4))}r(a,o){if(o!==this.s){const i=((l,c)=>{for(let h,f=0;h=DJ[f];++f){const m=h[l],v=h[c];if(m>=0&&v>=0&&v>m)return Object.keys(h).slice(m,v+1)}return[]})(this.s,o);for(let l=0;l<i.length-1;++l){const c=i[l],h=i[l+1];this.s=h,this.dispatchEvent(new RJ("statechange",{oldState:c,newState:h,originalEvent:a}))}}}a(a){switch(d4&&clearTimeout(this.n),a.type){case"pageshow":case"resume":this.r(a,Qg());break;case"focus":this.r(a,Bu);break;case"blur":this.s===Bu&&this.r(a,Qg());break;case"pagehide":case"unload":this.r(a,a.persisted?Gu:K1);break;case"visibilitychange":this.s!==Gu&&this.s!==K1&&this.r(a,Qg());break;case"freeze":this.r(a,Gu)}}},UJ=function(a){x(i,a);var o=L(i);function i(){var l;return g(this,i),(l=o.call(this))._currentState="active",l}return y(i,[{key:"_onStateChanged",value:function(l){l.newState!=="hidden"?this._currentState==="hidden"&&this._dispatchEvent("resume"):this._currentState!=="hidden"&&this._dispatchEvent("pause"),this._currentState=l.newState}},{key:"start",value:function(){var l=this;p4.addEventListener("statechange",function(c){return l._onStateChanged(c)})}},{key:"stop",value:function(){var l=this;p4.removeEventListener("statechange",function(c){return l._onStateChanged(c)})}}]),i}(po),LJ=function(){function a(){g(this,a),E(this,"_ctx",{})}var o,i,l,c;return y(a,[{key:"init",value:function(h){var f=h.appId,m=h.chatInstance;this._ctx.sb=m||bZ.init({appId:f,modules:[new jZ]}),this._visibilityDetector=new UJ,this._consoleLogListener=new NJ(Li.NONE),fn.addListener(this._consoleLogListener),this._ctx.appId=f,this._ctx.clientId=Ye(),this._ctx.commandRouter=new gJ(this._ctx),this._ctx.deviceManager=new dJ,this._ctx.liveEventManager=new GZ(this._ctx)}},{key:"setLoggerLevel",value:function(h){return this._consoleLogListener.setLoggerLevel(h)}},{key:"authenticate",value:(c=p(u().mark(function h(f,m){var v=this;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._ctx.commandRouter.authenticate({userId:f,accessToken:m});case 2:return b.next=4,this._ctx.commandRouter.connectWs();case 4:this._visibilityDetector.start(),this._visibilityDetector.on("resume",function(){v._ctx.commandRouter.reconnectWs(),v._ctx.deviceManager.updateStream()});case 6:case"end":return b.stop()}},h,this)})),function(h,f){return c.apply(this,arguments)})},{key:"deauthenticate",value:(l=p(u().mark(function h(){return u().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._ctx.sb.disconnect();case 2:this._ctx.commandRouter.deauthenticate(),this._ctx.liveEventManager.clear(),this._visibilityDetector.stop(),this._visibilityDetector.removeAllEventListeners(),fn.removeAllListener();case 7:case"end":return f.stop()}},h,this)})),function(){return l.apply(this,arguments)})},{key:"createLiveEvent",value:(i=p(u().mark(function h(f){return u().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",this._ctx.liveEventManager.createLiveEvent(f));case 1:case"end":return m.stop()}},h,this)})),function(h){return i.apply(this,arguments)})},{key:"getLiveEvent",value:(o=p(u().mark(function h(f){return u().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",this._ctx.liveEventManager.getLiveEvent(f));case 1:case"end":return m.stop()}},h,this)})),function(h){return o.apply(this,arguments)})},{key:"createLiveEventListQuery",value:function(h){return new EB(h,this._ctx.commandRouter,this._ctx.liveEventManager)}},{key:"useMedia",value:function(h){return this._ctx.deviceManager.useMedia(h)}},{key:"updateMediaDevices",value:function(h){return this._ctx.deviceManager.refreshMediaDevices(h)}},{key:"getCurrentAudioInputDevice",value:function(){return this._ctx.deviceManager.getCurrentAudioInputDevice()}},{key:"getAvailableAudioInputDevices",value:function(){return this._ctx.deviceManager.getAvailableAudioInputDevices()}},{key:"selectAudioInput",value:function(h){return this._ctx.deviceManager.selectDevice("audioinput",h)}},{key:"setAudioInputDeviceChanged",value:function(h){var f=this;if(this._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED"),h)return this._ctx.deviceManager.addSendBirdCallListener("AUDIO_DEVICE_CHANGED",{onAudioInputDeviceChanged:h}),function(){f._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED")}}},{key:"getCurrentVideoInputDevice",value:function(){return this._ctx.deviceManager.getCurrentVideoInputDevice()}},{key:"getAvailableVideoInputDevices",value:function(){return this._ctx.deviceManager.getAvailableVideoInputDevices()}},{key:"selectVideoInput",value:function(h){return this._ctx.deviceManager.selectDevice("videoinput",h)}},{key:"setVideoInputDeviceChanged",value:function(h){var f=this;if(this._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED"),h)return this._ctx.deviceManager.addSendBirdCallListener("VIDEO_DEVICE_CHANGED",{onVideoInputDeviceChanged:h}),function(){f._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED")}}}],[{key:"CameraOverlayPosition",get:function(){return id}}]),a}(),PJ=new LJ;t.ErrorCode=bi,t.HostState=YT,t.LiveEvent=zy,t.LiveEventRole=ig,t.LiveEventState=QT,t.ParticipantState=Bj,t.SendbirdLive=PJ,Object.defineProperty(t,"__esModule",{value:!0})})})(Jt,Jt.exports);var hte="sendbird-modal-root";function gi(e,n){n===void 0&&(n={});var t=n.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var pte=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbird-modal__mask {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-modal__mask {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__mask {
  background-color: var(--sendbird-dark-overlay-02);
}

.sendbird-modal__container {
  position: relative;
  z-index: 100001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px 24px 24px 24px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-modal__container {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__container {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}

.sendbird-modal__wrapper {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal--header {
  position: relative;
  margin-bottom: 16px;
}
.sendbird-modal--header .sendbird-modal--close {
  display: inline-block;
  position: absolute;
  right: 0;
  top: 0;
}

.sendbird-modal--footer {
  margin-top: 32px;
  text-align: right;
}
.sendbird-modal--footer .sendbird-button:last-child {
  margin-left: 8px;
}`;gi(pte);var fte=function(e){var n=e.children,t=e.isOpen,r=t===void 0?!1:t;e.close;var s=e.modalRoot,u=s===void 0?hte:s,d=e.className,p=d===void 0?"":d,g=e.modalClassName,_=g===void 0?"":g;if(!r)return null;var y=document.getElementById(u);return mh.exports.createPortal(S.createElement("div",{className:"sendbird-modal__wrapper ".concat(p)},S.createElement("div",{className:"sendbird-modal__mask"}),S.createElement("div",{className:"sendbird-modal__container ".concat(_)},n)),y)},Wl=function(e,n){var t=de.exports.useState(!1),r=t[0],s=t[1],u=de.exports.useCallback(function(){return s(!0)},[s]),d=de.exports.useCallback(function(){return s(!1)},[s]),p=function(g){var _=g.children;return S.createElement(fte,{isOpen:r,close:d,className:e,modalClassName:n},_)};return[p,u,d]};function IO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function ur(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?IO(Object(t),!0).forEach(function(r){gte(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):IO(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function gte(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Do(e,n){return vte(e)||bte(e,n)||_U(e,n)||Ete()}function oc(e){return mte(e)||_te(e)||_U(e)||yte()}function mte(e){if(Array.isArray(e))return aw(e)}function vte(e){if(Array.isArray(e))return e}function _te(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bte(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],s=!0,u=!1,d,p;try{for(t=t.call(e);!(s=(d=t.next()).done)&&(r.push(d.value),!(n&&r.length===n));s=!0);}catch(g){u=!0,p=g}finally{try{!s&&t.return!=null&&t.return()}finally{if(u)throw p}}return r}}function _U(e,n){if(!!e){if(typeof e=="string")return aw(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return aw(e,n)}}function aw(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ete(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e={exports:{}},FE,NO;function wte(){if(NO)return FE;NO=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return FE=e,FE}var HE,OO;function xte(){if(OO)return HE;OO=1;var e=wte();function n(){}function t(){}return t.resetWarningCache=n,HE=function(){function r(d,p,g,_,y,E){if(E!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function s(){return r}var u={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:n};return u.PropTypes=u,u},HE}_e.exports=xte()();var ok=S.createContext(),kte=function(n,t){var r=function(d){return S.createElement(ok.Consumer,null,function(p){t&&typeof t!="function"&&console.warn("Second parameter to withSendbirdContext must be a pure function");var g=ur(t&&typeof t=="function"?ur({},t(p)):ur({},p),d);return S.createElement(n,g)})},s=n.displayName||n.name||"Component";return r.displayName="SendbirdAware".concat(s),r};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sw=function(e,n){return sw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},sw(e,n)};function G(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}sw(e,n),e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var ae=function(){return ae=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},ae.apply(this,arguments)};function A(e,n,t,r){return new(t||(t=Promise))(function(s,u){function d(_){try{g(r.next(_))}catch(y){u(y)}}function p(_){try{g(r.throw(_))}catch(y){u(y)}}function g(_){var y;_.done?s(_.value):(y=_.value,y instanceof t?y:new t(function(E){E(y)})).then(d,p)}g((r=r.apply(e,n||[])).next())})}function R(e,n){var t,r,s,u,d={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(g){return function(_){return function(y){if(t)throw new TypeError("Generator is already executing.");for(;d;)try{if(t=1,r&&(s=2&y[0]?r.return:y[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,y[1])).done)return s;switch(r=0,s&&(y=[2&y[0],s.value]),y[0]){case 0:case 1:s=y;break;case 4:return d.label++,{value:y[1],done:!1};case 5:d.label++,r=y[1],y=[0];continue;case 7:y=d.ops.pop(),d.trys.pop();continue;default:if(s=d.trys,!((s=s.length>0&&s[s.length-1])||y[0]!==6&&y[0]!==2)){d=0;continue}if(y[0]===3&&(!s||y[1]>s[0]&&y[1]<s[3])){d.label=y[1];break}if(y[0]===6&&d.label<s[1]){d.label=s[1],s=y;break}if(s&&d.label<s[2]){d.label=s[2],d.ops.push(y);break}s[2]&&d.ops.pop(),d.trys.pop();continue}y=n.call(e,d)}catch(E){y=[6,E],r=0}finally{t=s=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([g,_])}}}function tn(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function wn(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r,s,u=t.call(e),d=[];try{for(;(n===void 0||n-- >0)&&!(r=u.next()).done;)d.push(r.value)}catch(p){s={error:p}}finally{try{r&&!r.done&&(t=u.return)&&t.call(u)}finally{if(s)throw s.error}}return d}function En(e,n,t){if(t||arguments.length===2)for(var r,s=0,u=n.length;s<u;s++)!r&&s in n||(r||(r=Array.prototype.slice.call(n,0,s)),r[s]=n[s]);return e.concat(r||Array.prototype.slice.call(n))}var Yn,Ste="4.0.4",hc=function(){function e(){}return Object.defineProperty(e,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_VERSION",{get:function(){return"4.0.4"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_MAJOR_VERSION",{get:function(){return e.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),e}();(function(e){e[e.INVALID_TOKEN=400111]="INVALID_TOKEN",e[e.SESSION_KEY_EXPIRED=400302]="SESSION_KEY_EXPIRED",e[e.SESSION_TOKEN_EXPIRED=400309]="SESSION_TOKEN_EXPIRED",e[e.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",e[e.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",e[e.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",e[e.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",e[e.LOST_INSTANCE=700100]="LOST_INSTANCE",e[e.CONNECTION_RENEW=700102]="CONNECTION_RENEW",e[e.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",e[e.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",e[e.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",e[e.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",e[e.INVALID_PARAMETER=800110]="INVALID_PARAMETER",e[e.NETWORK_ERROR=800120]="NETWORK_ERROR",e[e.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",e[e.MALFORMED_DATA=800130]="MALFORMED_DATA",e[e.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",e[e.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",e[e.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",e[e.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",e[e.ACK_TIMEOUT=800180]="ACK_TIMEOUT",e[e.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",e[e.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",e[e.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",e[e.REQUEST_FAILED=800220]="REQUEST_FAILED",e[e.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",e[e.REQUEST_CANCELED=800240]="REQUEST_CANCELED",e[e.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",e[e.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",e[e.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",e[e.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",e[e.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED"})(Yn||(Yn={}));var Pe,bs=function(e){return!(e instanceof me&&!e.shouldThrowOutside)},me=function(e){function n(t){var r=t.code,s=r===void 0?0:r,u=t.message,d=e.call(this,u)||this;return d.shouldThrowOutside=!1,d.name="SendbirdError",d.code=s,Object.setPrototypeOf(d,n.prototype),d}return G(n,e),Object.defineProperty(n.prototype,"isInvalidTokenError",{get:function(){return this.code===Yn.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Yn.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Yn.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(n,"debugModeRequired",{get:function(){return new n({code:Yn.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"lostInstance",{get:function(){return new n({code:Yn.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRenew",{get:function(){return new n({code:Yn.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidConnectionStateTransition",{get:function(){return new n({code:Yn.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionRequired",{get:function(){return new n({code:Yn.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionCanceled",{get:function(){return new n({code:Yn.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"invalidParameters",{get:function(){return new n({code:Yn.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"networkError",{get:function(){return new n({code:Yn.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"markAsReadAllRateLimitExceeded",{get:function(){return new n({code:Yn.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"queryInProgress",{get:function(){return new n({code:Yn.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"noAckTimeout",{get:function(){return new n({code:Yn.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"loginTimeout",{get:function(){return new n({code:Yn.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"connectionClosed",{get:function(){return new n({code:Yn.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestFailed",{get:function(){return new n({code:Yn.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"fileUploadCanceled",{get:function(){return new n({code:Yn.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"requestCanceled",{get:function(){return new n({code:Yn.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRefreshFailed",{get:function(){return new n({code:Yn.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"sessionTokenRequestFailed",{get:function(){return new n({code:Yn.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),n.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},n}(Error),Cte=[Yn.CONNECTION_REQUIRED,Yn.NETWORK_ERROR,Yn.ACK_TIMEOUT,Yn.WEBSOCKET_CONNECTION_CLOSED,Yn.WEBSOCKET_CONNECTION_FAILED,Yn.FILE_UPLOAD_CANCEL_FAILED,Yn.REQUEST_CANCELED,Yn.INTERNAL_SERVER_ERROR,Yn.RATE_LIMIT_EXCEEDED,Yn.UNKNOWN_SERVER_ERROR],Tte=[Yn.WEBSOCKET_CONNECTION_CLOSED,Yn.WEBSOCKET_CONNECTION_FAILED,Yn.CONNECTION_REQUIRED],bU=function(e,n){if(e!==n){var t=ae({},e),r=ae({},n);return(!t.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||t.messageId===r.messageId)&&(!t.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||t.reqId===r.reqId)&&(t.hasOwnProperty("messageId")&&delete t.messageId,t.hasOwnProperty("reqId")&&delete t.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(t)===JSON.stringify(r))}return!0},re=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||(typeof e!="string"?typeof e=="object"?On(e,n):Ite(e,n):typeof n===e)},On=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||Object.values(e).includes(n)},Ite=function(e,n){return n instanceof e},An=function(e,n,t){return t===void 0&&(t=!1),!(!t||n!=null)||Array.isArray(n)&&n.every(function(r){return re(e,r)})},kv=function(e){return e>0&&Tte.indexOf(e)>=0},li=function(e,n){if(n===void 0&&(n=!1),n&&e===null)return!0;var t=re("object",e)&&e!==null&&e.hasOwnProperty("name")&&typeof e.name=="string"&&e.hasOwnProperty("uri")&&typeof e.uri=="string"&&e.hasOwnProperty("type")&&typeof e.type=="string";if(!t){if(typeof Blob<"u")return e instanceof Blob;if(typeof File<"u")return e instanceof File}return t},Nte=function(e,n){if(e===n)return!0;if(e==null||n==null||e.length!==n.length)return!1;for(var t=En([],wn(e),!1).sort(),r=En([],wn(n),!1).sort(),s=0;s<t.length;++s)if(t[s]!==r[s])return!1;return!0},yU=function(){function e(n){var t=n===void 0?{}:n,r=t.useMemberInfoInMessage,s=r!==void 0&&r,u=t.typingIndicatorInvalidateTime,d=u===void 0?1e4:u,p=t.typingIndicatorThrottle,g=p===void 0?1e3:p,_=t.websocketResponseTimeout,y=_===void 0?1e4:_;this._useMemberInfoInMessage=!1,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._useMemberInfoInMessage=s,this._typingIndicatorInvalidateTime=d,this._typingIndicatorThrottle=g,this._websocketResponseTimeout=y}return Object.defineProperty(e.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(n){re("boolean",n)&&(this._useMemberInfoInMessage=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(n){re("number",n)&&(this._typingIndicatorInvalidateTime=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(n){re("number",n)&&n>=1e3&&n<=9e3&&(this._typingIndicatorThrottle=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(n){re("number",n)&&n>=5e3&&n<=3e4&&(this._websocketResponseTimeout=n)},enumerable:!1,configurable:!0}),e}(),si={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},l_={encrypt:function(e){return e},decrypt:function(e){return e}},Ote=function(){function e(n){var t=n.store;this._preference=new Map,this._store=t}return e.prototype._savePreferenceKeys=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,this._store.set({key:this._keysAddress,value:En([],wn(this._preference.keys()),!1),generation:1})];case 1:return n.sent(),[2]}})})},e.prototype.init=function(n){var t;return A(this,void 0,void 0,function(){var r,s,u,d,p,g,_,y;return R(this,function(E){switch(E.label){case 0:return this._keysAddress=n,[4,this._store.get(n)];case 1:r=(t=E.sent())!==null&&t!==void 0?t:[],E.label=2;case 2:E.trys.push([2,7,8,9]),s=tn(r),u=s.next(),E.label=3;case 3:return u.done?[3,6]:(d=u.value,[4,this._store.get(d)]);case 4:(p=E.sent())&&this._preference.set(d,p),E.label=5;case 5:return u=s.next(),[3,3];case 6:return[3,9];case 7:return g=E.sent(),_={error:g},[3,9];case 8:try{u&&!u.done&&(y=s.return)&&y.call(s)}finally{if(_)throw _.error}return[7];case 9:return[2]}})})},e.prototype.get=function(n){var t;return A(this,void 0,void 0,function(){return R(this,function(r){return[2,(t=this._preference.get(n))!==null&&t!==void 0?t:null]})})},e.prototype.set=function(n,t){return A(this,void 0,void 0,function(){var r;return R(this,function(s){switch(s.label){case 0:return r=!this._preference.has(n),[4,this._store.set({key:n,value:t,generation:1})];case 1:return s.sent(),this._preference.set(n,t),r?[4,this._savePreferenceKeys()]:[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},e.prototype.remove=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._store.remove(n)];case 1:return t.sent(),this._preference.delete(n),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}})})},e.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,this._store.removeMany(En([],wn(this._preference.keys()),!1))];case 1:return n.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return n.sent(),[2]}})})},e}(),Ate=function(e){var n=e.encryption,t=n===void 0?null:n,r=e.store,s=r===void 0?null:r,u=e.localCacheEnabled,d=u===void 0||u;this.nestdb=null,this.store=s,this.preference=new Ote({store:s}),this.encryption=t!=null?t:l_,this.localCacheEnabled=d},Rte=function(){function e(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(e.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.authToken=null,this.sessionKey=null},e}(),Qa=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(n==="x"?t:3&t|8).toString(16)})},AO=function(){function e(n){var t=n.container;this._container={},this._container=t,this.key=Qa()}return e.prototype._register=function(n,t,r){return n in this._container||(this._container[n]=new Map),this._container[n].set(this.key,{occurence:t,handler:r}),this},e.prototype.on=function(n,t){return this._register(n,-1,t)},e.prototype.once=function(n,t){return this._register(n,1,t)},e.prototype.close=function(){for(var n in this._container)this._container[n].delete(this.key)},e}(),s0=function(){function e(){this._container={}}return e.prototype.on=function(n,t){return new AO({container:this._container}).on(n,t)},e.prototype.once=function(n,t){return new AO({container:this._container}).once(n,t)},e.prototype.dispatch=function(n,t){var r,s,u=this._container[n];if(u){var d=[];try{for(var p=tn(u.keys()),g=p.next();!g.done;g=p.next()){var _=g.value,y=u.get(_);y.handler(t),y.occurence>0&&(y.occurence--,y.occurence===0&&d.push(_))}}catch(E){r={error:E}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(r)throw r.error}}d.forEach(function(E){return u.delete(E)})}},e}(),Mte=function(){function e(){this._dispatcher=new s0}return e.prototype.on=function(n){return this._dispatcher.on("event",n)},e.prototype.once=function(n){return this._dispatcher.once("event",n)},e.prototype.dispatch=function(n){this._dispatcher.dispatch("event",n)},e}(),Fr=function(){},In=function(e){var n={};return e&&Object.keys(e).forEach(function(t){e[t]!==void 0&&e[t]!==NaN&&e[t]!==null&&(n[t]=e[t])}),n};(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(Pe||(Pe={}));var Sv,He=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.params={},t.requireAuth=!0,t.headers={},t.requestId=Qa(),t}return G(n,e),n.prototype.stringifyParams=function(t){return typeof t!="object"||Array.isArray(t)?String(t):t?JSON.stringify(t):""},Object.defineProperty(n.prototype,"query",{get:function(){var t=this,r=In(this.params);return"?".concat(Object.keys(r).map(function(s){return"".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(t.stringifyParams(r[s])))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"payload",{get:function(){var t=this,r=In(this.params);if(Object.keys(r).some(function(u){return li(r[u])})){var s=new FormData;return Object.keys(r).forEach(function(u){var d,p=r[u];if(li(p)){var g=p;s.append(u,g,(d=g.name)!==null&&d!==void 0?d:"filename")}else s.append(u,t.stringifyParams(p))}),s}return JSON.stringify(r)},enumerable:!1,configurable:!0}),n}(Fr),$e=function(e){function n(t,r){var s=e.call(this)||this;return s._iid=t,s._payload=r,s}return G(n,e),Object.defineProperty(n.prototype,"payload",{get:function(){return ae({},this._payload)},enumerable:!1,configurable:!0}),n.prototype.as=function(t){return new t(this._iid,this.payload)},n}(Fr),Dte=function(e){function n(t){var r=e.call(this)||this;return r.requestId=t,r}return G(n,e),n}(Fr),u_=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return G(n,e),n}(Fr),lk=function(e){function n(t){var r=e.call(this)||this;return r.statLog=t,r}return G(n,e),n}(Fr);(function(e){e.WEBSOCKET_CONNECT="ws:connect",e.API_RESULT="api:result"})(Sv||(Sv={}));var Kl,jf=function(){function e(n){var t=n.type,r=n.data,s=n.ts,u=s===void 0?Date.now():s;this.type=t,this.createdAt=u,this.data=r}return e.payloadify=function(n){return In({stat_type:n.type,ts:n.createdAt,data:In(n.data)})},e}(),Gs=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},Ute=function(){function e(n,t){var r=t.auth,s=t.sdkState,u=t.dispatcher,d=t.logger,p=this;this._abortControl=new Map,this._iid=n,this._auth=r,this._sdkState=s,this._dispatcher=u,this._dispatcher.on(function(g){g instanceof Dte&&p.cancel(g.requestId)}),this._logger=d}return Object.defineProperty(e.prototype,"_userAgentWithExtension",{get:function(){var n=this._sdkState.extensions,t=Gs()?"reactnative":"JS",r=n.sb_syncmanager?"s".concat(n.sb_syncmanager):"",s=n.sb_uikit?"u".concat(n.sb_uikit):"",u=n["device-os-platform"]?"o".concat(n["device-os-platform"]):"";return"".concat(t,"/c").concat(hc.SDK_VERSION,"/").concat(r,"/").concat(s,"/").concat(u)},enumerable:!1,configurable:!0}),e.prototype._createHeader=function(n,t){t===void 0&&(t=null);var r=this._sdkState,s=r.appId,u=r.appVersion,d=ae(ae({},n.headers),{SendBird:"JS,".concat(hc.OS_VERSION,",").concat(hc.SDK_VERSION,",").concat(s).concat(u?",".concat(u):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return t||(d["Content-Type"]="application/json; charset=utf-8"),n.requireAuth&&this._auth.hasSession&&(d["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(d["App-Id"]=s,d["Access-Token"]=this._auth.authToken),d},e.prototype._statLogApiResult=function(n,t,r){this._dispatcher.dispatch(new lk(new jf({type:Sv.API_RESULT,data:{endpoint:n.path,method:n.method,success:!r,latency:Date.now()-t,error_code:r==null?void 0:r.code,error_description:r==null?void 0:r.message}})))},e.prototype.send=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y,E,x,k,T,I,P;return R(this,function(N){switch(N.label){case 0:t=n.path,r=n.method,s=![Pe.GET,Pe.DELETE].includes(r),u=this._sdkState.api,d="".concat(u.host).concat(t).concat(s?"":n.query),p=s?n.payload:null,g=this._createHeader(n,p instanceof FormData?p:null),_=new AbortController,y=_.signal,this._abortControl.set(n.requestId,_),E=Date.now(),N.label=1;case 1:return N.trys.push([1,4,,5]),[4,fetch(d,{method:r,body:p,headers:g,signal:y})];case 2:return[4,(x=N.sent()).json()];case 3:if(k=N.sent(),x.ok||x.redirected)return this._logger.debug("receive api response",n.requestId),this._statLogApiResult(n,E,null),[2,new $e(this._iid,k)];throw k?((T=new me(k)).isSessionKeyExpiredError&&this._dispatcher.dispatch(new u_),this._statLogApiResult(n,E,T),T):(T=me.requestFailed,this._statLogApiResult(n,E,T),T);case 4:throw I=N.sent(),this._statLogApiResult(n,E,I),I instanceof me?(this._logger.debug("fail api request",I),I):I.name==="AbortError"?me.requestCanceled:(P=me.networkError,this._logger.debug("fail api request",P),P);case 5:return[2]}})})},e.prototype.cancel=function(n){this._abortControl.has(n)&&(this._abortControl.get(n).abort(),this._abortControl.delete(n))},e.prototype.cancelAll=function(){var n,t;try{for(var r=tn(this._abortControl.values()),s=r.next();!s.done;s=r.next())s.value.abort()}catch(u){n={error:u}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}this._abortControl.clear()},e}(),kt=function(e){function n(t,r,s,u){u===void 0&&(u="");var d,p=this;return(p=e.call(this)||this)._iid=t,p.code=r,p.payload=s,p.requestId=s?(d=s.req_id)!==null&&d!==void 0?d:u:"",p}return G(n,e),n.createFromRawMessage=function(t,r){var s=r.substring(0,4),u=null;try{u=JSON.parse(r.substring(4))}catch{s="NOOP"}finally{return new n(t,s,u)}},n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n.prototype.as=function(t){return new t(this._iid,this.code,this.payload)},n}(Fr),pa=function(e){function n(t){var r,s=t.code,u=t.ackRequired,d=t.payload,p=d===void 0?null:d,g=this;return(g=e.call(this)||this).code=s,g.payload=p,g.requestId=(r=g.payload.req_id)!==null&&r!==void 0?r:Qa(),g.ackRequired=u,g.payload.req_id=g.requestId,g}return G(n,e),n.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},n}(Fr),Lte=function(e){function n(){return e.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return G(n,e),n}(pa),Pte=function(){function e(n){var t=n.pingDelegate,r=n.sdkState,s=n.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=t,this.sdkState=r,this._logger=s}return Object.defineProperty(e.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),e.prototype.ping=function(){var n,t=this,r=new Lte;try{var s=(n=this.sdkState.websocket.pongTimeout)!==null&&n!==void 0?n:5e3;this._pingTimeoutTimer=setTimeout(function(){t._logger.debug("pinger.ping() timeout"),t.pingDelegate.error(null)},s),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(u){this._logger.debug("pinger.ping() error",u),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return r},e.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e.prototype.refreshTimer=function(){var n,t=this;this._logger.debug("pinger.refreshTimer()");var r=(n=this.sdkState.websocket.pingInterval)!==null&&n!==void 0?n:15e3;this.stop(),this._pingTimer=setInterval(function(){t.ping()},r)},e.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},e.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},e}(),Hn=function(){};(function(e){e.CONNECTING="CONNECTING",e.OPEN="OPEN",e.CLOSED="CLOSED"})(Kl||(Kl={}));var _t,Fte=function(e){function n(t,r){var s=r.sdkState,u=r.dispatcher,d=r.logger,p=e.call(this)||this;return p._pinger=null,p.lastActive=0,p._iid=t,p._sdkState=s,p._dispatcher=u,p._logger=d,p._sdkState.websocket.pingerDisabled||(p._pinger=new Pte({pingDelegate:{send:function(g){return p.send(g)},error:function(g){return p.error(g)}},sdkState:p._sdkState,logger:d})),p}return G(n,e),Object.defineProperty(n.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return Kl.CONNECTING;case 1:return Kl.OPEN}return Kl.CLOSED},enumerable:!1,configurable:!0}),n.prototype.connect=function(t){var r=this;this._ws=new WebSocket(t),this._ws.onopen=function(){r._logger.debug("websocket open"),r.dispatch("open")},this._ws.onmessage=function(s){s.data.split(`
`).forEach(function(u){if(u&&re("string",u)){var d=kt.createFromRawMessage(r._iid,u);r._logger.debug("receive websocket event",d),d.code==="LOGI"?(d.payload&&!d.payload.error&&r._pinger&&r._pinger.start(),r.dispatch("message",d)):d.code==="PONG"?r._pinger&&r._pinger.pong():d.code==="EXPR"?d.payload&&d.payload.expires_in>0&&r._dispatcher.dispatch(new u_):d.code==="NOOP"||r.dispatch("message",d)}})},this._ws.onerror=function(){r._logger.debug("websocket error"),r._pinger&&r._pinger.stop(),r.dispatch("error",me.networkError)},this._ws.onclose=function(){r._logger.debug("websocket close"),r._pinger&&r._pinger.stop(),r.dispatch("close")},this.lastActive=Date.now()},n.prototype.disconnect=function(){var t=this;this._logger.debug("websocket disconnect"),this._pinger&&this._pinger.stop(),this._ws&&(this._ws.onopen=Hn,this._ws.onmessage=Hn,this._ws.onerror=Hn,this._ws.onclose=function(){t.dispatch("close")},this._ws.close(),this._ws=null)},n.prototype.send=function(t){if(!this._ws)throw me.connectionClosed;t.code!=="PING"?this._pinger&&this._pinger.refreshTimer():this._logger.debug("send ping",t),this._ws.send(t.convertToMessage())},n.prototype.error=function(t){this._logger.debug("websocket error",t),this._pinger&&this._pinger.stop(),this.dispatch("error",t)},n}(s0),EU=function(e){function n(t){var r=t.all,s=t.custom_types,u=t.ts,d=e.call(this)||this;return d.all=r,d.customTypes=s,d.ts=u,d}return G(n,e),n}(Fr),ji=function(){var e=this;this.promise=new Promise(function(n,t){e.resolve=n,e.reject=t})},Hte=function(){function e(n,t){var r=t.auth,s=t.sdkState,u=t.dispatcher,d=t.logger,p=this;this._ackStateMap=new Map,this._sdkState=s,this._dispatcher=u,this._logger=d,this.apiClient=new Ute(n,{auth:r,sdkState:s,dispatcher:u,logger:d}),this.websocketClient=new Fte(n,{sdkState:s,dispatcher:u,logger:d}),this.websocketClient.on("message",function(g){if(g.payload.unread_cnt&&p._dispatcher.dispatch(new EU(g.payload.unread_cnt)),g.requestId){if(p._ackStateMap.has(g.requestId)){var _=p._ackStateMap.get(g.requestId);g.code!=="EROR"?_.resolve(g):_.reject(new me({code:g.payload.code,message:g.payload.message}))}}else p._dispatcher.dispatch(g)}).on("close",function(){p._ackStateMap.forEach(function(g){g.reject(me.connectionClosed)}),p._ackStateMap.clear()})}return e.prototype._sendApiRequest=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this.apiClient.send(n)];case 1:return[2,t.sent()]}})})},e.prototype._sendWebsocketRequest=function(n){return A(this,void 0,void 0,function(){var t,r,s,u=this;return R(this,function(d){if(t=new ji,n.ackRequired){r=null,s=function(p,g){p===void 0&&(p=null),g===void 0&&(g=null),u._ackStateMap.has(n.requestId)&&(u._ackStateMap.delete(n.requestId),r&&(clearTimeout(r),r=null),p?(u._logger.debug("fail websocket request",p),t.reject(p)):(u._logger.debug("receive websocket ack",n.requestId),t.resolve(g)))};try{r=setTimeout(function(){return s(me.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(n.requestId,{resolve:function(p){return s(null,p)},reject:function(p){return s(p)}}),this.websocketClient.send(n)}catch(p){s(p)}}else try{this.websocketClient.send(n),t.resolve(null)}catch(p){t.reject(p)}return[2,t.promise]})})},e.prototype.send=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return n instanceof He?[4,this._sendApiRequest(n)]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return n instanceof pa?[4,this._sendWebsocketRequest(n)]:[3,4];case 4:throw me.invalidParameters}})})},e.prototype.cancel=function(n){this.apiClient.cancel(n)},e.prototype.cancelAll=function(){this.apiClient.cancelAll()},e}();(function(e){e[e.NONE=0]="NONE",e[e.INITIALIZED=1]="INITIALIZED",e[e.CONNECTING=2]="CONNECTING",e[e.CONNECTED=3]="CONNECTED",e[e.RECONNECTING=4]="RECONNECTING",e[e.DISCONNECTED=5]="DISCONNECTED",e[e.LOGOUT=6]="LOGOUT"})(_t||(_t={}));var ft,Ya,sr,Wr,ih,Qr,Mi,Zl,Nt,Cs=function(e){function n(t){var r=t.stateType,s=e.call(this)||this;return s.stateType=r,s}return G(n,e),n}(Fr),zte=function(){function e(n,t){var r=t.auth,s=t.sdkState,u=t.dispatcher,d=t.logger,p=this;this._currentConnectionStateType=_t.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new Hte(n,{auth:r,sdkState:s,dispatcher:u,logger:d}),this._auth=r,this._logger=d,this._dispatcher=u,this._dispatcher.on(function(g){if(g instanceof Cs){var _=g.stateType;switch(p._currentConnectionStateType=_,_){case _t.CONNECTED:var y=p._lazyCallQueue;p._lazyCallQueue=[],y.forEach(function(E){return A(p,void 0,void 0,function(){var x,k,T,I,P;return R(this,function(N){switch(N.label){case 0:x=E.command,k=E.deferred,T=E.timeout,clearTimeout(T),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,this.send(x)];case 2:return I=N.sent(),k.resolve(I),[3,4];case 3:return P=N.sent(),k.reject(P),[3,4];case 4:return[2]}})})});break;case _t.INITIALIZED:case _t.DISCONNECTED:case _t.LOGOUT:y=p._lazyCallQueue,p._lazyCallQueue=[],y.forEach(function(E){return A(p,void 0,void 0,function(){var x,k;return R(this,function(T){return x=E.deferred,k=E.timeout,clearTimeout(k),this._auth&&this._auth.hasSession?x.reject(me.connectionClosed):x.reject(me.connectionRequired),[2]})})})}}})}return Object.defineProperty(e.prototype,"isReady",{get:function(){return this._currentConnectionStateType===_t.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===_t.CONNECTING||this._currentConnectionStateType===_t.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.send=function(n){return A(this,void 0,void 0,function(){var t,r,s=this;return R(this,function(u){switch(u.label){case 0:return n instanceof pa?this.isReady?(this._logger.debug("send websocket request",n),[4,this.commandRouter.send(n)]):[3,2]:[3,4];case 1:case 5:return[2,u.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",n),t=new ji,this._lazyCallQueue.push({command:n,deferred:t,timeout:setTimeout(function(){return s.timeout(n.requestId)},1e4)}),[2,t.promise];throw this._logger.debug("fail websocket request"),me.connectionRequired;case 3:return[3,7];case 4:return n instanceof He?this._auth.hasSession?(this._logger.debug("send api request",n),[4,this.commandRouter.send(n)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",n),t=new ji,this._lazyCallQueue.push({command:n,deferred:t,timeout:setTimeout(function(){return s.timeout(n.requestId)},1e4)}),[2,t.promise];throw r=me.connectionRequired,this._logger.debug("fail api request",r),r;case 7:return[2]}})})},e.prototype.forceSend=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return this._logger.debug("send websocket request (forced)",n),[4,this.commandRouter.send(n)];case 1:return[2,t.sent()]}})})},e.prototype.timeout=function(n){this._logger.debug("timeout request",n);var t=this._lazyCallQueue.findIndex(function(r){return r.command.requestId===n});t>-1&&(this._lazyCallQueue[t].deferred.reject(me.connectionRequired),this._lazyCallQueue.splice(t,1))},e.prototype.cancel=function(n){this._logger.debug("cancel api request",n),this.commandRouter.cancel(n)},e.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},e}(),qte=function(e){function n(t){var r=t.userId,s=t.authToken,u=t.expiringSession,d=u===void 0||u,p=e.call(this)||this;return p.path="/users/".concat(r,"/session_key"),p.method=Pe.POST,p.params={token:s,expiring_session:!!d},p.requireAuth=!1,p}return G(n,e),n}(He),Bte=function(e){function n(t){var r=t.authToken,s=t.expiringSession,u=s===void 0||s;return e.call(this,{code:"LOGI",payload:{token:r,expiring_session:u?1:0},ackRequired:!0})||this}return G(n,e),n}(pa),jte=function(e){function n(t,r){var s=e.call(this,t,r)||this,u=r.key;return s.key=u,s}return G(n,e),n}($e),Gte=function(e){function n(t,r,s){var u=e.call(this,t,"LOGI",s)||this;return u.error=null,u.newKey=s.new_key,u.error=s.error?new me(s.error):null,u}return G(n,e),n}(kt),$te=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return G(n,e),n}(Fr),ja=function(e){return A(void 0,void 0,void 0,function(){return R(this,function(n){return[2,new Promise(function(t){return setTimeout(t,e)})]})})},wU=function(){function e(){}return e.prototype.calcTimeout=function(){return 0},e}(),c_=function(e,n,t){return t===void 0&&(t=new wU),A(void 0,void 0,void 0,function(){var r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:r=0,s=null,u=function(y){return y===void 0&&(y=null),s=y!=null?y:new Error("Halted")},d=function(){r=0},_.label=1;case 1:if(!(n===-1||r<n))return[3,9];_.label=2;case 2:return _.trys.push([2,4,,8]),[4,e(u,d)];case 3:if(p=_.sent(),s)throw s;return[2,p];case 4:if(g=_.sent(),s)return[3,6];if(++r===n)throw g;return[4,ja(t.calcTimeout(r))];case 5:return _.sent(),[3,7];case 6:throw s;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},cn=function(e){return A(void 0,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:return t.sent(),[3,3];case 2:if(!((n=t.sent())instanceof me))throw n;return n.throwOutside(),[3,3];case 3:return[2]}})})},Xa=function(e){return A(void 0,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})},Vte=function(){function e(n){var t=n.auth,r=n.sdkState,s=n.dispatcher,u=n.requestQueue,d=n.logger,p=this;this._currentConnectionStateType=_t.INITIALIZED,this.auth=t,this._sdkState=r,this._dispatcher=s,this._requestQueue=u,this._logger=d,this._dispatcher.on(function(g){if(g instanceof Cs){var _=g.stateType;p._currentConnectionStateType=_}else g instanceof u_&&p.refresh()})}return e.prototype.createRefreshWebsocketCommand=function(n){return new Bte({authToken:n,expiringSession:!0})},e.prototype._refreshSessionKey=function(n,t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g,_,y=this;return R(this,function(E){switch(E.label){case 0:if(this._currentConnectionStateType!==_t.CONNECTED)return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),r=this.createRefreshWebsocketCommand(n),[4,this._requestQueue.forceSend(r)];case 2:if(s=E.sent(),u=s.as(Gte),d=u.newKey,p=u.error)throw p;return this.auth.sessionKey=d!=null?d:this.auth.sessionKey,this._logger.debug("session refreshed"),cn(function(){return A(y,void 0,void 0,function(){return R(this,function(x){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2];case 3:if(g=E.sent(),bs(g))throw g;return g.isSessionTokenExpiredError?(this._handleError(t),[2]):[3,4];case 4:return E.trys.push([4,6,,7]),_=new qte({userId:this._sdkState.userId,authToken:n,expiringSession:!0}),[4,c_(function(x){return A(y,void 0,void 0,function(){var k,T,I;return R(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(_)];case 1:return k=P.sent(),T=k.as(jte).key,this.auth.sessionKey=T,[3,3];case 2:throw(I=P.sent()).isSessionTokenExpiredError&&x(me.sessionTokenRefreshFailed),I;case 3:return[2]}})})},3)];case 5:return E.sent(),this._logger.debug("session refreshed"),[3,7];case 6:return E.sent(),this._handleError(t),[2];case 7:return cn(function(){return A(y,void 0,void 0,function(){return R(this,function(x){return this.handler.onSessionRefreshed(),[2]})})}),t&&t.resolve(),[2]}})})},e.prototype._handleError=function(n){var t=this,r=me.sessionTokenRefreshFailed;cn(function(){return A(t,void 0,void 0,function(){return R(this,function(s){return this.handler.onSessionError(r),[2]})})}),n&&n.reject(r)},e.prototype.refresh=function(){return A(this,void 0,void 0,function(){var n,t,r,s=this;return R(this,function(u){return this.handler?(n=new ji,t=function(d){d?(s._logger.debug("session refreshing.."),s.auth.authToken=d,s._refreshSessionKey(d,n)):(s._logger.debug("session closed"),cn(function(){return A(s,void 0,void 0,function(){return R(this,function(p){return this.handler.onSessionClosed(),[2]})})}),n.resolve())},r=function(){s._dispatcher.dispatch(new $te);var d=me.sessionTokenRequestFailed;s.handler&&(cn(function(){return A(s,void 0,void 0,function(){return R(this,function(p){return this.handler.onSessionError(d),[2]})})}),n.reject(d))},this._logger.debug("session expired"),this.handler.onSessionExpired(),this.auth.authToken?this._refreshSessionKey(this.auth.authToken,n):cn(function(){return A(s,void 0,void 0,function(){return R(this,function(d){return this.handler.onSessionTokenRequired(t,r),[2]})})}),[2,n.promise]):[2]})})},e}(),bh=function(){function e(){this.type=_t.NONE,this.name="none"}return e.prototype.run=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){return[2]})})},e.prototype.onConnect=function(n,t){return A(this,void 0,void 0,function(){return R(this,function(r){return[2]})})},e.prototype.onReconnect=function(n,t){return t.resetReconnectCount,A(this,void 0,void 0,function(){return R(this,function(r){return[2]})})},e.prototype.onDisconnect=function(n,t){return t.error,t.autoReconnect,A(this,void 0,void 0,function(){return R(this,function(r){return[2]})})},e.prototype.onLogout=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){return[2]})})},e}(),Gf=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=_t.LOGOUT,t.name="logout",t}return G(n,e),n.prototype.run=function(t){return A(this,void 0,void 0,function(){var r,s=this;return R(this,function(u){switch(u.label){case 0:return r=t.sdkState.userId,t.logout(),cn(function(){return A(s,void 0,void 0,function(){return R(this,function(d){return t.connectionHandlers.forEach(function(p){p.onDisconnected(r)}),[2]})})}),[4,t.changeState(new uk)];case 1:return u.sent(),[2]}})})},n}(bh),ow=function(e){function n(t){var r=t.autoReconnect,s=e.call(this)||this;return s.type=_t.DISCONNECTED,s.name="disconnected",s._autoReconnect=!1,s._autoReconnect=r,s}return G(n,e),n.prototype.run=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return t.disconnect(),this._autoReconnect?[4,t.changeState(new lw)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},n.prototype.onConnect=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return t.disconnect(),[4,t.changeState(new kU({authToken:r}))];case 1:return s.sent(),[2]}})})},n.prototype.onReconnect=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,t.changeState(new lw)];case 1:return r.sent(),[2]}})})},n.prototype.onLogout=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,t.changeState(new Gf)];case 1:return r.sent(),[2]}})})},n}(bh),lw=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=_t.RECONNECTING,t.name="reconnecting",t._haltConnect=null,t._resetConnect=null,t._callbacks=[],t}return G(n,e),n.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},n.prototype.run=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g=this;return R(this,function(_){switch(_.label){case 0:r=new ji,this._callbacks.push(function(y){return y?r.reject(y):r.resolve()}),cn(function(){return A(g,void 0,void 0,function(){return R(this,function(y){return t.connectionHandlers.forEach(function(E){E.onReconnectStarted()}),[2]})})}),_.label=1;case 1:return _.trys.push([1,4,,9]),s=t.sdkState.websocket,u=s.reconnectMaxRetry,d=s.reconnectRetryStrategy,[4,c_(function(y,E){return A(g,void 0,void 0,function(){var x;return R(this,function(k){switch(k.label){case 0:this._haltConnect=y,this._resetConnect=E,k.label=1;case 1:return k.trys.push([1,3,,4]),[4,t.connect()];case 2:return k.sent(),[3,4];case 3:if((x=k.sent())instanceof me&&x.code===Yn.CONNECTION_CANCELED)return y(x),[2];throw x;case 4:return[2]}})})},u,d)];case 2:return _.sent(),[4,t.changeState(new xU)];case 3:return _.sent(),cn(function(){return A(g,void 0,void 0,function(){return R(this,function(y){return t.connectionHandlers.forEach(function(E){E.onReconnectSucceeded()}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return p=_.sent(),bs(p)?[3,7]:p instanceof me?p.code===Yn.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new ow({autoReconnect:!1}))]:[3,6];case 5:_.sent(),_.label=6;case 6:return cn(function(){return A(g,void 0,void 0,function(){return R(this,function(y){return t.connectionHandlers.forEach(function(E){E.onReconnectFailed()}),this.flushCallbacks(p),[2]})})}),[3,8];case 7:throw p;case 8:return[3,9];case 9:return[2,r.promise]}})})},n.prototype.onConnect=function(t,r){return A(this,void 0,void 0,function(){var s;return R(this,function(u){return s=new ji,this._resetConnect&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(d){return d?s.reject(d):s.resolve()}),[2,s.promise]})})},n.prototype.onReconnect=function(t,r){var s=r.resetReconnectCount,u=s!==void 0&&s;return A(this,void 0,void 0,function(){var d;return R(this,function(p){return d=new ji,this._resetConnect&&u&&this._resetConnect(),t.cancelConnectForRetry(),this._callbacks.push(function(g){return g?d.reject(g):d.resolve()}),[2,d.promise]})})},n.prototype.onDisconnect=function(t,r){var s=r.error,u=s===void 0?null:s,d=r.autoReconnect,p=d===void 0||d;return A(this,void 0,void 0,function(){return R(this,function(g){switch(g.label){case 0:return this._haltConnect&&this._haltConnect(u!=null?u:me.connectionCanceled),[4,t.changeState(new ow({autoReconnect:p}))];case 1:return g.sent(),[2]}})})},n.prototype.onLogout=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(me.connectionCanceled),[4,t.changeState(new Gf)];case 1:return r.sent(),[2]}})})},n}(bh),xU=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=_t.CONNECTED,t.name="connected",t}return G(n,e),n.prototype.onReconnect=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return t.disconnect(),[4,t.changeState(new lw)];case 1:return r.sent(),[2]}})})},n.prototype.onDisconnect=function(t,r){var s=r.autoReconnect;return A(this,void 0,void 0,function(){return R(this,function(u){switch(u.label){case 0:return[4,t.changeState(new ow({autoReconnect:s}))];case 1:return u.sent(),[2]}})})},n.prototype.onLogout=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,t.changeState(new Gf)];case 1:return r.sent(),[2]}})})},n}(bh),kU=function(e){function n(t){var r=t.authToken,s=e.call(this)||this;return s.type=_t.CONNECTING,s.name="connecting",s._authToken="",s._haltConnect=null,s._callbacks=[],s._authToken=r,s}return G(n,e),n.prototype.flushCallbacks=function(t){t===void 0&&(t=null),this._callbacks.forEach(function(r){return r(t)})},n.prototype.run=function(t){return A(this,void 0,void 0,function(){var r,s,u=this;return R(this,function(d){switch(d.label){case 0:r=new ji,this._callbacks.push(function(p){return p?r.reject(p):r.resolve()}),d.label=1;case 1:return d.trys.push([1,4,,9]),[4,c_(function(p){return A(u,void 0,void 0,function(){var g;return R(this,function(_){switch(_.label){case 0:this._haltConnect=p,_.label=1;case 1:return _.trys.push([1,3,,4]),[4,t.connect(this._authToken)];case 2:return _.sent(),[3,4];case 3:if((g=_.sent())instanceof me&&g.code===Yn.CONNECTION_CANCELED)return p(g),[2];throw g;case 4:return[2]}})})},t.sdkState.websocket.connectMaxRetry)];case 2:return d.sent(),[4,t.changeState(new xU)];case 3:return d.sent(),cn(function(){return A(u,void 0,void 0,function(){return R(this,function(p){return t.connectionHandlers.forEach(function(g){g.onConnected(t.sdkState.userId)}),this.flushCallbacks(null),[2]})})}),[3,9];case 4:return s=d.sent(),bs(s)?[3,7]:(t.disconnect(),s instanceof me?s.code===Yn.CONNECTION_CANCELED?[3,6]:[4,t.changeState(new uk)]:[3,6]);case 5:d.sent(),d.label=6;case 6:return cn(function(){return A(u,void 0,void 0,function(){return R(this,function(p){return this.flushCallbacks(s),[2]})})}),[3,8];case 7:throw s;case 8:return[3,9];case 9:return[2,r.promise]}})})},n.prototype.onConnect=function(t){return A(this,void 0,void 0,function(){var r;return R(this,function(s){return r=new ji,this._callbacks.push(function(u){return u?r.reject(u):r.resolve()}),[2,r.promise]})})},n.prototype.onDisconnect=function(t,r){var s=r.error,u=s===void 0?null:s;return A(this,void 0,void 0,function(){return R(this,function(d){switch(d.label){case 0:return this._haltConnect&&this._haltConnect(u!=null?u:me.connectionCanceled),[4,t.changeState(new Gf)];case 1:return d.sent(),[2]}})})},n.prototype.onLogout=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return this._haltConnect&&this._haltConnect(me.connectionCanceled),[4,t.changeState(new Gf)];case 1:return r.sent(),[2]}})})},n}(bh),uk=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=_t.INITIALIZED,t.name="initialized",t}return G(n,e),n.prototype.onConnect=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return[4,t.changeState(new kU({authToken:r}))];case 1:return s.sent(),[2]}})})},n}(bh),RO=new Map,$f=function(e,n){var t;return n===void 0&&(n=null),n!==null&&RO.set(e,n),(t=RO.get(e))!==null&&t!==void 0?t:""},Wte=function(e){e===void 0&&(e={}),this.emojiHash=e.emoji_hash||"",this.uploadSizeLimit=e.file_upload_size_limit?1048576*e.file_upload_size_limit:Number.MAX_VALUE,this.useReaction=!!e.use_reaction,this.applicationAttributes=e.application_attributes||[],this.premiumFeatureList=e.premium_feature_list||[]},Ts=function(){function e(n){this._iid="",this._iid=n}return e.payloadify=function(n){return n?{}:null},e}(),Xn="/".concat("v3","/users"),Kte="/".concat("v3","/storage/file"),mi="/".concat("v3","/group_channels"),Qte="/".concat("v3","/sdk/group_channels"),Nc="/".concat("v3","/open_channels"),Yte="/".concat("v3","/sdk/open_channels"),Xte="/".concat("v3","/search"),MO="/".concat("v3","/report"),Zte="/".concat("v3","/emojis"),SU="/".concat("v3","/emoji_categories"),CU="/".concat("v3","/scheduled_messages"),Jte="/".concat("v3","/sdk/statistics"),ere=function(e){function n(t){var r=t.userId,s=t.metadata,u=e.call(this)||this;return u.method=Pe.POST,u.path="".concat(Xn,"/").concat(r,"/metadata"),u.params={metadata:s},u}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.metadata=r,s}G(n,e)})($e),function(e){e.BASE="base",e.GROUP="group",e.OPEN="open"}(ft||(ft={})),function(e){e.OPERATOR="operator",e.NONE="none"}(Ya||(Ya={})),function(e){e.BASE="base",e.USER="user",e.FILE="file",e.ADMIN="admin"}(sr||(sr={})),function(e){e.ALL="",e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(Wr||(Wr={})),function(e){e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(ih||(ih={})),function(e){e.USERS="users",e.CHANNEL="channel"}(Qr||(Qr={})),function(e){e.ALL="all",e.NONE="none",e.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(Mi||(Mi={})),function(e){e.DEFAULT="default",e.SUPPRESS="suppress"}(Zl||(Zl={})),function(e){e.PENDING="pending",e.SCHEDULED="scheduled",e.SUCCEEDED="succeeded",e.FAILED="failed",e.CANCELED="canceled"}(Nt||(Nt={}));var ut=function(e){switch(e){case ft.GROUP:return mi;case ft.OPEN:return Nc;default:return null}},TU=function(e){switch(e){case ft.GROUP:return"".concat(MO,"/group_channels");case ft.OPEN:return"".concat(MO,"/open_channels");default:return null}},ah=function(e,n,t){var r,s;switch(e){case Qr.CHANNEL:return!0;case Qr.USERS:if(n)try{for(var u=tn(n),d=u.next();!d.done;d=u.next())if(d.value===t)return!0}catch(p){r={error:p}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}}return!1},ck=function(e,n,t){var r=ah(e.mentionType,e.mentionedUserIds,t),s=ah(n.mentionType,n.mentionedUserIds,t);return!r&&s?1:r&&!s?-1:0},nre=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.metadata;return(r=e.call(this)||this).method=Pe.POST,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metadata"),r.params={metadata:d,include_ts:!0},r}return G(n,e),n}(He),IU=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.metaData=r!=null?r:{},s}return G(n,e),n}($e),tre=function(e){function n(t){var r=t.userId,s=t.metadata,u=t.upsert,d=e.call(this)||this;return d.method=Pe.PUT,d.path="".concat(Xn,"/").concat(r,"/metadata"),d.params={metadata:s,upsert:u},d}return G(n,e),n}(He),rre=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.metadata=r,s}return G(n,e),n}($e),ire=function(e){function n(t){var r=t.userId,s=t.metadataKey,u=e.call(this)||this;return u.method=Pe.DELETE,u.path="".concat(Xn,"/").concat(r,"/metadata/").concat(s),u}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var are=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.DELETE,s.path="".concat(Xn,"/").concat(r,"/metadata"),s}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var zd,o0=function(e,n){n===void 0&&(n=null);var t=JSON.parse(JSON.stringify(e));return t._iid&&delete t._iid,n&&n(t),t},pc=function(e,n){n===void 0&&(n=null);var t=JSON.parse(JSON.stringify(e));return n&&n(t),t},We=function(e){return{do:function(n){e||n()},throw:function(n){if(!e)throw n}}};(function(e){e.ONLINE="online",e.OFFLINE="offline",e.NON_AVAILABLE="nonavailable"})(zd||(zd={}));var Ju,Pn=function(e){function n(t,r){var s,u,d,p,g,_,y,E,x,k,T,I,P=this;return(P=e.call(this,t)||this).userId=(u=(s=r.guest_id)!==null&&s!==void 0?s:r.user_id)!==null&&u!==void 0?u:"",P.nickname=(p=(d=r.nickname)!==null&&d!==void 0?d:r.name)!==null&&p!==void 0?p:"",P.plainProfileUrl=(_=(g=r.profile_url)!==null&&g!==void 0?g:r.image)!==null&&_!==void 0?_:"",P.requireAuth=(y=r.require_auth_for_profile_image)!==null&&y!==void 0&&y,P.metaData=(E=r.metadata)!==null&&E!==void 0?E:{},P.connectionStatus=zd.NON_AVAILABLE,On(zd,r.is_online)?P.connectionStatus=r.is_online:re("boolean",r.is_online)&&(P.connectionStatus=r.is_online?zd.ONLINE:zd.OFFLINE),P.isActive=(x=r.is_active)===null||x===void 0||x,P.lastSeenAt=(k=r.last_seen_at)!==null&&k!==void 0?k:null,P.preferredLanguages=r.preferred_languages?En([],wn(r.preferred_languages),!1):null,P.friendDiscoveryKey=(T=r.friend_discovery_key)!==null&&T!==void 0?T:null,P.friendName=(I=r.friend_name)!==null&&I!==void 0?I:null,P}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),{user_id:t.userId,nickname:t.nickname,profile_url:t.plainProfileUrl,require_auth_for_profile_image:t.requireAuth,metadata:t.metaData,is_online:t.connectionStatus,is_active:t.isActive,last_seen_at:t.lastSeenAt,preferred_languages:t.preferredLanguages,friend_discovery_key:t.friendDiscoveryKey,friend_name:t.friendName})):null},Object.defineProperty(n.prototype,"profileUrl",{get:function(){return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat($f(this._iid)):this.plainProfileUrl},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return o0(this)},n.prototype._isValidMetaData=function(t){return!Array.isArray(t)&&Object.keys(t).length>0&&Object.keys(t).map(function(r){return t[r]}).every(function(r){return re("string",r)})},n.prototype._applyMetaData=function(t,r){var s=this;r===void 0&&(r=!1),Object.keys(t).forEach(function(u){r?delete s.metaData[u]:s.metaData[u]=t[u]})},n.prototype.createMetaData=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return We(this._isValidMetaData(t)).throw(me.invalidParameters),r=ue.of(this._iid),s=r.sdkState,u=r.requestQueue,d=new ere({userId:s.userId,metadata:t}),[4,u.send(d)];case 1:return p=_.sent(),g=p.as(IU).metaData,this._applyMetaData(g),[2,this.metaData]}})})},n.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),A(this,void 0,void 0,function(){var s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return We(this._isValidMetaData(t)).throw(me.invalidParameters),s=ue.of(this._iid),u=s.sdkState,d=s.requestQueue,p=new tre({userId:u.userId,metadata:t,upsert:r}),[4,d.send(p)];case 1:return g=y.sent(),_=g.as(rre).metadata,this._applyMetaData(_),[2,this.metaData]}})})},n.prototype.deleteMetaData=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return We(re("string",t)).throw(me.invalidParameters),r=ue.of(this._iid),s=r.sdkState,u=r.requestQueue,d=new ire({userId:s.userId,metadataKey:t}),[4,u.send(d)];case 1:return g.sent(),this._applyMetaData(((p={})[t]=!0,p),!0),[2,this.metaData]}})})},n.prototype.deleteAllMetaData=function(){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new are({userId:r.userId}),[4,s.send(u)];case 1:return d.sent(),this.metaData={},[2]}})})},n}(Ts),NU=function(e){function n(t){var r=t.userProfile,s=e.call(this)||this;return s.userProfile=r,s}return G(n,e),n}(Fr),uw=function(){function e(n,t){var r,s,u,d,p,g,_,y,E,x,k,T,I,P;this._iid=n,this.appInfo=new Wte(t),this.user=new Pn(n,t),this.connectedAt=1e3*((r=t.login_ts)!==null&&r!==void 0?r:0),this.firstConnectedAt=0,this.pingInterval=(s=t.ping_interval)!==null&&s!==void 0?s:15e3,this.pongTimeout=(u=t.pong_timeout)!==null&&u!==void 0?u:5e3,this.reconnectInterval=(p=(d=t.reconnect)===null||d===void 0?void 0:d.interval)!==null&&p!==void 0?p:3e3,this.reconnectMaxInterval=(_=(g=t.reconnect)===null||g===void 0?void 0:g.max_interval)!==null&&_!==void 0?_:6e4,this.reconnectRetryCount=(E=(y=t.reconnect)===null||y===void 0?void 0:y.retry_cnt)!==null&&E!==void 0?E:5,this.reconnectIntervalMultiple=(k=(x=t.reconnect)===null||x===void 0?void 0:x.mul)!==null&&k!==void 0?k:2,this.maxUnreadCountOnSuperGroup=(T=t.max_unread_cnt_on_super_group)!==null&&T!==void 0?T:100,this.profileImageEncryption=!!t.profile_image_encryption,this.concurrentCallLimit=(I=t.concurrent_call_limit)!==null&&I!==void 0?I:5,this.backOffDelay=(P=t.back_off_delay)!==null&&P!==void 0?P:100}return e.payloadify=function(n){return ae(ae({},Pn.payloadify(n.user)),{emoji_hash:n.appInfo.emojiHash,file_upload_size_limit:n.appInfo.uploadSizeLimit,application_attributes:n.appInfo.applicationAttributes,premium_feature_list:n.appInfo.premiumFeatureList,login_ts:n.connectedAt/1e3,ping_interval:n.pingInterval,pong_timeout:n.pongTimeout,reconnect:{interval:n.reconnectInterval,max_interval:n.reconnectMaxInterval,retry_cnt:n.reconnectRetryCount,mul:n.reconnectIntervalMultiple},max_unread_cnt_on_super_group:n.maxUnreadCountOnSuperGroup,profile_image_encryption:n.profileImageEncryption,concurrent_call_limit:n.concurrentCallLimit,back_off_delay:n.backOffDelay})},e.prototype.apply=function(){var n=this.reconnectInterval,t=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,s=ue.of(this._iid);s.sdkState.websocket.pingInterval=1e3*this.pingInterval,s.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,s.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,s.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(u){return u>0?1e3*Math.min(n*Math.pow(r,u-1),t):10}},s.appInfo=this.appInfo,s.sessionManager.currentUser=this.user,s.connectedAt=this.connectedAt,this.firstConnectedAt||(s.firstConnectedAt=this.connectedAt),s.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,s.concurrentCallLimit=this.concurrentCallLimit,s.backOffDelay=this.backOffDelay,s.dispatcher.dispatch(new NU({userProfile:this}))},e}(),zE=function(e){function n(t,r,s){var u,d=this;return(d=e.call(this,t,r,s)||this).error=null,d.userProfile=new uw(t,s),d.key=s.key,d.ekey=(u=s.ekey)!==null&&u!==void 0?u:"",d.error=s.error?new me(s):null,d}return G(n,e),n.asError=function(t){return new n(null,"LOGI",ae({user_id:null,error:!0},t))},n.prototype.applyTo=function(t){if(this.error)throw this.error;var r=ue.of(t);if(!r)throw me.lostInstance;r.sessionManager.auth.sessionKey=this.key,$f(t,this.ekey),this.userProfile.apply()},n}(kt),OU=function(e){function n(t){var r=e.call(this)||this;return r.enabled=t,r}return G(n,e),n}(Fr),sre=function(e){function n(t,r){var s=r.sdkState,u=r.connectionHandlers,d=r.sessionManager,p=r.websocketClient,g=r.dispatcher,_=r.logger,y=r.entryState,E=y===void 0?new uk:y,x=e.call(this)||this;return x._currentState=null,x._loginTimer=null,x._connectingAt=0,x._connectionRequestQueue=[],x._iid=t,x.sdkState=s,x.connectionHandlers=u,x._sessionManager=d,x._websocketClient=p,x._dispatcher=g,x._logger=_,x._currentState=E,x._websocketClient.on("message",function(k){if(k.code==="LOGI"){x._loginTimer&&(clearTimeout(x._loginTimer),x._loginTimer=null);var T=k.as(zE);if(T.error)T.error.isSessionKeyExpiredError&&x._dispatcher.dispatch(new u_),x._connectionRequestQueue.forEach(function(P){return P.reject(T.error)}),x._statLogConnection(T.error);else{T.applyTo(x._iid),x._connectionRequestQueue.forEach(function(P){return P.resolve()});var I=T.userProfile;x._enableStatLog(I.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),x._statLogConnection(null)}x._connectionRequestQueue=[]}}).on("close",function(){x._connectionRequestQueue.length>0&&(x._connectionRequestQueue.forEach(function(k){return k.reject(me.networkError)}),x._connectionRequestQueue=[],x._statLogConnection(me.networkError))}),x}return G(n,e),Object.defineProperty(n.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),n.prototype.changeState=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return this._currentState=t,this._dispatcher.dispatch(new Cs({stateType:t.type})),this._logger.debug("connection state changes to ".concat(t.name)),[4,this._currentState.run(this)];case 1:return r.sent(),[2]}})})},n.prototype._url=function(t){t===void 0&&(t="");var r=this.sdkState,s=r.appId,u=r.appVersion,d=r.userId,p=r.extensions,g=this._sessionManager.auth,_=p.sb_syncmanager?"s".concat(p.sb_syncmanager):"",y=p.sb_uikit?"u".concat(p.sb_uikit):"",E="JS/c".concat(hc.SDK_VERSION,"/").concat(_,"/").concat(y);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(hc.OS_VERSION),"&sv=").concat(encodeURIComponent(hc.SDK_VERSION),"&ai=").concat(s).concat(u?"&av=".concat(u):"").concat(g.hasSession?"&key=".concat(encodeURIComponent(g.sessionKey)):"&user_id=".concat(encodeURIComponent(d),"&access_token=").concat(encodeURIComponent(t)),"&active=1&SB-User-Agent=").concat(E,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=1")},n.prototype._enableStatLog=function(t){this._dispatcher.dispatch(new OU(t))},n.prototype._statLogConnection=function(t){this._dispatcher.dispatch(new lk(new jf({type:Sv.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!t,latency:Date.now()-this._connectingAt,error_code:t==null?void 0:t.code,error_description:t==null?void 0:t.message}})))},n.prototype.connect=function(t){return t===void 0&&(t=""),A(this,void 0,void 0,function(){var r,s,u=this;return R(this,function(d){return r=this._url(t),s=new ji,this._connectionRequestQueue.push(s),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){u._loginTimer=null,u._dispatcher.dispatch(zE.asError(me.loginTimeout))},this.sdkState.websocket.responseTimeout),this._websocketClient.connect(r)),[2,s.promise]})})},n.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(zE.asError(me.connectionRenew))},n.prototype.disconnect=function(){this._websocketClient.disconnect()},n.prototype.logout=function(){this.sdkState.userId=null,this._sessionManager.currentUser=null,this._sessionManager.auth.clear(),this.disconnect()},n}(s0),ore=function(){function e(n,t){var r=t.sdkState,s=t.connectionHandlers,u=t.sessionManager,d=t.websocketClient,p=t.dispatcher,g=t.logger,_=t.disableAutoReconnect,y=_!==void 0&&_,E=this;this._context=null,this._logger=g,this._context=new sre(n,{sdkState:r,connectionHandlers:s,sessionManager:u,websocketClient:d,dispatcher:p,logger:g}),y||d.on("close",function(){r.appState==="foreground"&&setTimeout(function(){E._logger.debug("try reconnect by websocket connection closed"),E.reconnect()},100)})}return Object.defineProperty(e.prototype,"isConnected",{get:function(){return this._context.currentState.type===_t.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnecting",{get:function(){var n=this._context.currentState;return n.type===_t.CONNECTING||n.type===_t.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype.connect=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onConnect(this._context,n)];case 1:return t.sent(),[2]}})})},e.prototype.reconnect=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return n.sent(),[2]}})})},e.prototype.resetAndReconnect=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return n.sent(),[2]}})})},e.prototype.background=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(n){return n===void 0&&(n=null),A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:n,autoReconnect:!0})];case 1:return t.sent(),[2]}})})},e.prototype.logout=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,this._context.currentState.onLogout(this._context)];case 1:return n.sent(),[2]}})})},e}(),lre=function(e){function n(t){var r=t.deviceId,s=t.statLogs,u=e.call(this)||this;return u.method=Pe.POST,u.path="".concat(Jte),u.params={device_id:r,log_entries:s.map(function(d){return jf.payloadify(d)})},u}return G(n,e),n}(He);(function(e){e[e.PENDING=0]="PENDING",e[e.ENABLED=1]="ENABLED",e[e.DISABLED=2]="DISABLED"})(Ju||(Ju={}));var Oo,ure=function(){function e(n){var t=n.cacheContext,r=n.requestQueue,s=n.dispatcher,u=n.baseLimit,d=u===void 0?100:u,p=n.maxLimit,g=p===void 0?1e3:p,_=n.minLimit,y=_===void 0?10:_;this.queue=[],this.enabledstate=Ju.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=Qa(),this.cacheContext=t,this.requestQueue=r,this.dispatcher=s,this.baseLimit=d,this.limit=d,this.maxLimit=g,this.minLimit=y}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.enabledstate===Ju.ENABLED},enumerable:!1,configurable:!0}),e.prototype._save=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(t){return jf.payloadify(t)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype._flush=function(){return A(this,void 0,void 0,function(){var n,t;return R(this,function(r){switch(r.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,r.label=1;case 1:return r.trys.push([1,5,6,7]),(n=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(t=new lre({deviceId:this.deviceId,statLogs:n}),[4,this.requestQueue.send(t)]):[3,4];case 2:return r.sent(),this.queue=this.queue.slice(n.length),[4,this._save()];case 3:r.sent(),r.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return r.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},e.prototype.init=function(n){return A(this,void 0,void 0,function(){var t,r,s=this;return R(this,function(u){switch(u.label){case 0:return this.key=n,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(t=u.sent())?(this.deviceId=t.deviceId,this.queue=t.statLogs.map(function(d){return new jf({type:d.stat_type,ts:d.ts,data:d.data})}),this.generation=t.generation,this.lastFlushedAt=t.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(r=Math.min(Math.floor(18e4*Math.random()),100),[4,ja(r)]):[3,4]):[3,4];case 2:return u.sent(),[4,this._flush()];case 3:u.sent(),u.label=4;case 4:return this.dispatcher.on(function(d){if(d instanceof lk){var p=d.statLog;s.put(p)}else d instanceof OU&&(s.enabledstate=d.enabled?Ju.ENABLED:Ju.DISABLED,s.isEnabled?s.queue.length>=s.limit&&s._flush():s.clear())}),[2]}})})},e.prototype.put=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return this.enabledstate===Ju.DISABLED?[3,3]:(this.queue.push(n),[4,this._save()]);case 1:return t.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return n.sent(),[2]}})})},e}();(function(e){e[e.NONE=0]="NONE",e[e.VERBOSE=1]="VERBOSE",e[e.DEBUG=2]="DEBUG",e[e.INFO=3]="INFO",e[e.WARN=4]="WARN",e[e.ERROR=5]="ERROR"})(Oo||(Oo={}));var Vf,cre=function(){function e(){this.level=Oo.WARN}return e.prototype.verbose=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=Oo.VERBOSE&&console.log.apply(console,En(["[verbose]"],wn(n),!1))},e.prototype.debug=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=Oo.DEBUG&&console.log.apply(console,En(["[debug]"],wn(n),!1))},e.prototype.info=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=Oo.INFO&&console.log.apply(console,En(["[info]"],wn(n),!1))},e.prototype.warn=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=Oo.WARN&&console.warn.apply(console,En(["[warn]"],wn(n),!1))},e.prototype.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.level<=Oo.ERROR&&console.error.apply(console,En(["[error]"],wn(n),!1))},e}(),jp={},ue=function(){function e(n,t){var r,s,u,d,p,g,_;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!jp[n]){jp[n]=this;var y=(r=t.options)!==null&&r!==void 0?r:new yU,E=this.sdkState={appId:t.appId,appVersion:(s=t.appVersion)!==null&&s!==void 0?s:"",appState:"foreground",userId:null,extensions:{},api:{host:(u=t.apiHost)!==null&&u!==void 0?u:"https://api-".concat(t.appId,".sendbird.com")},websocket:{host:(d=t.websocketHost)!==null&&d!==void 0?d:"wss://ws-".concat(t.appId,".sendbird.com"),pingerDisabled:!!t.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,reconnectMaxRetry:-1,reconnectRetryStrategy:new wU,responseTimeout:y.websocketResponseTimeout}};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var x=this.logger=new cre;this.logger.level=(p=t.logLevel)!==null&&p!==void 0?p:Oo.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,this.cacheContext=new Ate({encryption:t.encryption,store:t.store,localCacheEnabled:(g=t.localCacheEnabled)!==null&&g!==void 0&&g}),this.debugMode=(_=t.debugMode)!==null&&_!==void 0&&_,this.maxSuperGroupChannelUnreadCount=hc.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=y.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=y.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=y.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var k=this.dispatcher=new Mte,T=new Rte;this.requestQueue=new zte(n,{auth:T,sdkState:E,dispatcher:k,logger:x}),this.sessionManager=new Vte({auth:T,sdkState:E,dispatcher:k,requestQueue:this.requestQueue,logger:x}),this.connectionManager=new ore(n,{sdkState:E,connectionHandlers:this.connectionHandlers,dispatcher:k,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,logger:x}),this.statLogCollector=new ure({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:k})}return jp[n]}return e.of=function(n){if(jp[n])return jp[n];throw me.lostInstance},e}(),dk=function(){function e(){}return e.prototype.init=function(n,t){var r=t.sdkState,s=t.dispatcher,u=t.sessionManager,d=t.requestQueue,p=t.logger;t.onlineDetector;var g=t.cacheContext,_=g===void 0?null:g;this._iid=n,this._cacheContext=_,this._sdkState=r,this._dispatcher=s,this._sessionManager=u,this._requestQueue=d,this._logger=p},e}(),AU=function(e){function n(t){var r=e.call(this)||this;if(r.method=Pe.POST,r.path="".concat(Kte),r.params=In({file:t.file,channel_url:t.channelUrl}),t.thumbnailSizes)for(var s=0;s<t.thumbnailSizes.length;s++){var u=t.thumbnailSizes[s],d=u.maxWidth,p=u.maxHeight;r.params["thumbnail".concat(s+1)]="".concat(d,",").concat(p)}return r.requestId=t.requestId,r}return G(n,e),n}(He),RU=function(e){function n(t,r){var s,u,d,p=this;return(p=e.call(this,t,r)||this).url=r.url,p.fileSize=(s=r.file_size)!==null&&s!==void 0?s:0,p.thumbnailSizes=(u=r.thumbnails)!==null&&u!==void 0?u:[],p.requireAuth=(d=r.require_auth)!==null&&d!==void 0&&d,p}return G(n,e),n}($e),cw=function(e){function n(t,r){var s,u,d,p=this;return(p=e.call(this,t)||this).replyCount=0,p.mostRepliedUsers=null,p.lastRepliedAt=0,p.updatedAt=0,p.replyCount=(s=r.reply_count)!==null&&s!==void 0?s:0,p.mostRepliedUsers=r.hasOwnProperty("most_replies")&&An("object",r.most_replies)?r.most_replies.map(function(g){return new Pn(p._iid,g)}):[],p.lastRepliedAt=(u=r.last_replied_at)!==null&&u!==void 0?u:0,p.updatedAt=(d=r.updated_at)!==null&&d!==void 0?d:0,p}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),{reply_count:t.replyCount,most_replies:Array.isArray(t.mostRepliedUsers)?t.mostRepliedUsers.map(function(r){return Pn.payloadify(r)}):[],last_replied_at:t.lastRepliedAt,updated_at:t.updatedAt})):null},n}(Ts);(function(e){e.ADD="add",e.DELETE="delete"})(Vf||(Vf={}));var Dl,aa,hk=function(e){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var n=re("string",e.msg_id)?parseInt(e.msg_id):e.msg_id,t=e.user_id,r=e.operation?e.operation.toLowerCase():null,s=e.reaction,u=e.updated_at;n&&re("string",t)&&re("string",r)&&On(Vf,r)&&re("string",s)&&s&&re("number",u)&&(this.messageId=n,this.userId=t,this.key=s,this.operation=r,this.updatedAt=u)},bm=function(){function e(n){var t,r,s,u=n.key,d=(s=En([],wn(n.user_ids),!1))!==null&&s!==void 0?s:[],p=n.updated_at;re("string",u)&&u&&An("string",d)&&d.length>0&&re("number",p)&&(this.key=u,this.userIds=d,this.updatedAt=p);var g={};try{for(var _=tn(this.userIds),y=_.next();!y.done;y=_.next())g[y.value]=this.updatedAt}catch(E){t={error:E}}finally{try{y&&!y.done&&(r=_.return)&&r.call(_)}finally{if(t)throw t.error}}this._version=g}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),e.payloadify=function(n){return n?In({key:n.key,user_ids:n.userIds,updated_at:n.updatedAt}):null},e.prototype.applyEvent=function(n){if(n.key===this.key&&this.updatedAt<=n.updatedAt){if(!this._version[n.userId]||this._version[n.userId]<=n.updatedAt){var t=this.userIds.indexOf(n.userId);switch(n.operation){case Vf.ADD:t<0&&this.userIds.push(n.userId);break;case Vf.DELETE:t>=0&&this.userIds.splice(t,1)}this._version[n.userId]=n.updatedAt}this.updatedAt=Math.max(this.updatedAt,n.updatedAt)}},e}(),Bi=function(){function e(n){this.key=n.key,this.value=An("string",n.value)?En([],wn(n.value),!1):[]}return e.payloadify=function(n){var t;return n?In({key:n.key,value:(t=n.value)!==null&&t!==void 0?t:[]}):null},e}(),DO=function(){function e(n){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=n.url,n.hasOwnProperty("secure_url")&&(this.secureUrl=n.secure_url),n.hasOwnProperty("type")&&(this.type=n.type),n.hasOwnProperty("width")&&(this.width=n.width),n.hasOwnProperty("height")&&(this.height=n.height),n.hasOwnProperty("alt")&&(this.alt=n.alt)}return e.payloadify=function(n){var t,r;return n?In({url:n.url,secure_url:n.secureUrl,type:n.type,width:(t=n.width)!==null&&t!==void 0?t:0,height:(r=n.height)!==null&&r!==void 0?r:0,alt:n.alt}):null},e}(),UO=function(){function e(n){this.title=null,this.url=null,this.description=null,this.defaultImage=null,n.hasOwnProperty("og:title")&&(this.title=n["og:title"]),n.hasOwnProperty("og:url")&&(this.url=n["og:url"]),n.hasOwnProperty("og:description")&&(this.description=n["og:description"]),n.hasOwnProperty("og:image")&&(this.defaultImage=new DO(n["og:image"]))}return e.payloadify=function(n){return n?In({"og:title":n.title,"og:url":n.url,"og:description":n.description,"og:image":n.defaultImage?DO.payloadify(n.defaultImage):null}):null},e}(),eo=function(){function e(n){var t,r;this.name=null,this.volume=0,this.name=(t=n.name)!==null&&t!==void 0?t:"default",this.volume=(r=n.volume)!==null&&r!==void 0?r:1}return e.payloadify=function(n){return n?In({name:n.name,volume:n.volume}):null},e}();(function(e){e.PENDING="pending",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled"})(Dl||(Dl={})),function(e){e.PENDING="pending",e.IN_QUEUE="in_queue",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled",e.REMOVED="removed"}(aa||(aa={}));var ri,dre=function(e){switch(e){case sr.BASE:return"";case sr.USER:return"MESG";case sr.FILE:return"FILE";case sr.ADMIN:return"ADMM"}},Cv=function(e){function n(t,r){var s,u,d,p,g,_,y,E,x,k,T,I,P,N=this;(N=e.call(this,t)||this).channelUrl=null,N.channelType=ft.BASE,N.messageId=0,N.parentMessageId=null,N.parentMessage=null,N.silent=!1,N.isOperatorMessage=!1,N.messageType=sr.BASE,N.data=null,N.customType=null,N.mentionType=null,N.mentionedUsers=[],N.mentionedUserIds=[],N.mentionedMessageTemplate=null,N.threadInfo=null,N.reactions=[],N.metaArrays=[],N.ogMetaData=null,N.appleCriticalAlertOptions=null,N.createdAt=0,N.updatedAt=0,N.scheduledInfo=null,N._scheduledStatus=aa.PENDING,N.messageId=(u=(s=r.msg_id)!==null&&s!==void 0?s:r.message_id)!==null&&u!==void 0?u:0,N.channelUrl=r.channel_url,N.channelType=On(ft,r.channel_type)?r.channel_type:ft.GROUP,r.channel&&(r.channel.channel_url&&(N.channelUrl=r.channel.channel_url),r.channel.channel_type&&(N.channelType=r.channel.channel_type)),N.parentMessageId=(d=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&d!==void 0?d:0,N.data=(p=r.data)!==null&&p!==void 0?p:"",N.customType=(g=r.custom_type)!==null&&g!==void 0?g:"",N.mentionType=On(Qr,r.mention_type)?r.mention_type:null;var O=r.mentioned_users;N.mentionedUsers=O?O.map(function(Y){return new Pn(N._iid,Y)}):null;var U=r.mentioned_user_ids;N.mentionedUserIds=U!=null?U:null,N.mentionedMessageTemplate=(_=r.mentioned_message_template)!==null&&_!==void 0?_:"",N.threadInfo=r.thread_info?new cw(N._iid,r.thread_info):null,N.reactions=r.reactions?r.reactions.map(function(Y){return new bm(Y)}):[];for(var L=(y=r.metaarray)!==null&&y!==void 0?y:{},ee=(E=r.metaarray_key_order)!==null&&E!==void 0?E:Object.keys(L).sort(function(Y,ye){return Y.localeCompare(ye)}),V=0;V<ee.length;V++){var J=ee[V];N.metaArrays.push(new Bi({key:J,value:L[J]||[]}))}return r.sorted_metaarray&&(N.metaArrays=r.sorted_metaarray.map(function(Y){return new Bi(Y)})),N.ogMetaData=r.og_tag?new UO(r.og_tag):null,N.silent=(x=r.silent)!==null&&x!==void 0&&x,N.isOperatorMessage=(k=r.is_op_msg)!==null&&k!==void 0&&k,N.appleCriticalAlertOptions=r.apple_critical_alert_options?new eo(r.apple_critical_alert_options):null,N.createdAt=(I=(T=r.created_at)!==null&&T!==void 0?T:r.ts)!==null&&I!==void 0?I:0,N.updatedAt=(P=r.updated_at)!==null&&P!==void 0?P:0,typeof r.scheduled_message_id=="number"&&r.scheduled_at&&r.scheduled_status&&(N.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},N._scheduledStatus=r.scheduled_status),N}return G(n,e),n.payloadify=function(t){var r,s,u,d;return t?In(ae(ae({},e.payloadify.call(this,t)),{channel_url:t.channelUrl,channel_type:t.channelType,message_id:t.messageId,type:dre(t.messageType),parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,mentioned_user_ids:t.mentionedUserIds,mentioned_users:(r=t.mentionedUsers)===null||r===void 0?void 0:r.map(function(p){return Pn.payloadify(p)}),mentioned_message_template:t.mentionedMessageTemplate,thread_info:t.threadInfo?cw.payloadify(t.threadInfo):null,reactions:t.reactions.map(function(p){return bm.payloadify(p)}),sorted_metaarray:(s=t.metaArrays)===null||s===void 0?void 0:s.map(function(p){return Bi.payloadify(p)}),og_tag:UO.payloadify(t.ogMetaData),silent:t.silent,is_op_msg:t.isOperatorMessage,apple_critical_alert_options:eo.payloadify(t.appleCriticalAlertOptions),created_at:t.createdAt,updated_at:t.updatedAt,scheduled_message_id:(u=t.scheduledInfo)===null||u===void 0?void 0:u.scheduledMessageId,scheduled_at:(d=t.scheduledInfo)===null||d===void 0?void 0:d.scheduledAt,scheduled_status:t._scheduledStatus})):null},n.prototype.isIdentical=function(t){return this.messageId===t.messageId},n.prototype.isEqual=function(t){return bU(this,t)},n.prototype.isUserMessage=function(){return this.messageType===sr.USER},n.prototype.isFileMessage=function(){return this.messageType===sr.FILE},n.prototype.isAdminMessage=function(){return this.messageType===sr.ADMIN},n.prototype.serialize=function(){return o0(this)},n.prototype.getMetaArraysByKeys=function(t){return this.metaArrays.filter(function(r){return t.includes(r.key)})},n.prototype.applyThreadInfoUpdateEvent=function(t){return this.parentMessageId===t.targetMessageId&&(this.threadInfo=t.threadInfo),!1},n.prototype.applyReactionEvent=function(t){if(this.messageId===t.messageId){for(var r=!1,s=0;s<this.reactions.length;s++)if(this.reactions[s].key===t.key){this.reactions[s].applyEvent(t),this.reactions[s].isEmpty&&this.reactions.splice(s,1),r=!0;break}r||t.operation!=="add"||this.reactions.push(new bm(bm.payloadify({key:t.key,userIds:[t.userId],updatedAt:t.updatedAt})))}},n.prototype.applyParentMessage=function(t){if(this.parentMessageId===t.messageId){var r=this.parentMessage.updatedAt;if(t.updatedAt>=r)return this.parentMessage=t,!0}return!1},n}(Ts),Wf=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.role=null,s.isBlockedByMe=!1,s.role=On(Ya,r.role)?r.role:Ya.NONE,r.hasOwnProperty("is_blocked_by_me")&&(s.isBlockedByMe=r.is_blocked_by_me),s}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),{role:t.role,is_blocked_by_me:t.isBlockedByMe})):null},n}(Pn),Tr=function(e){function n(t,r){var s,u,d,p,g=this;if((g=e.call(this,t,r)||this).sender=null,g.reqId="",g.replyToChannel=!1,g.sendingStatus=Nt.PENDING,g.errorCode=0,g.sender=r.user?new Wf(g._iid,r.user):r.sender_id,g.reqId=(u=(s=r.req_id)!==null&&s!==void 0?s:r.request_id)!==null&&u!==void 0?u:"",g.replyToChannel=(d=r.is_reply_to_channel)!==null&&d!==void 0&&d,g.sendingStatus=g.messageId>0?Nt.SUCCEEDED:Nt.FAILED,r.request_state&&On(Nt,r.request_state)&&(g.sendingStatus=r.request_state),r.scheduled_status)switch(r.scheduled_status){case aa.SENT:case aa.IN_QUEUE:g.sendingStatus=Nt.SUCCEEDED;break;case aa.PENDING:g.sendingStatus=Nt.SCHEDULED;break;case aa.FAILED:case aa.REMOVED:g.sendingStatus=Nt.FAILED;break;case aa.CANCELED:g.sendingStatus=Nt.CANCELED}return g.errorCode=(p=r.error_code)!==null&&p!==void 0?p:0,g}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),{user:Wf.payloadify(t.sender),req_id:t.reqId,is_reply_to_channel:t.replyToChannel,request_state:t.sendingStatus,error_code:t.errorCode})):null},Object.defineProperty(n.prototype,"isResendable",{get:function(){return this.sendingStatus===Nt.FAILED&&(t=this.errorCode)>0&&Cte.indexOf(t)>=0;var t},enumerable:!1,configurable:!0}),n.prototype.isIdentical=function(t){return this.messageId>0&&t.messageId>0?this.messageId===t.messageId:this.reqId===t.reqId},n}(Cv),d_=function(){function e(n){var t,r;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=n.url,this.width=n.width,this.height=n.height,this.realWidth=(t=n.real_width)!==null&&t!==void 0?t:n.width,this.realHeight=(r=n.real_height)!==null&&r!==void 0?r:n.height}return e.payloadify=function(n){return n?In({url:"",width:n.maxWidth,height:n.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(e.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),e}(),h_={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Wr.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},pk=function(e){return re("number",e.prevResultSize)&&re("number",e.nextResultSize)&&re("boolean",e.isInclusive)&&re("boolean",e.reverse)&&re("string",e.messageTypeFilter)&&On(Wr,e.messageTypeFilter)&&An("string",e.customTypesFilter,!0)&&An("string",e.senderUserIdsFilter,!0)&&re("boolean",e.includeMetaArray)&&re("boolean",e.includeReactions)&&re("boolean",e.includeParentMessageInfo)},sh=function(e){function n(t,r){var s,u,d,p,g=this;if((g=e.call(this,t,r)||this).message=null,g.translations={},g.message=(s=r.message)!==null&&s!==void 0?s:"",g.messageType=sr.ADMIN,g.translations=(u=r.translations)!==null&&u!==void 0?u:{},r.parent_message_info){var _=r.parent_message_info,y=ae(ae({},_),{message_id:g.parentMessageId,channel_url:g.channelUrl,channel_type:g.channelType,file:_.file,url:(d=_.file)===null||d===void 0?void 0:d.url,require_auth:(p=_.file)===null||p===void 0?void 0:p.require_auth});g.parentMessage=rs(t,y)}return g}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,parent_message_info:p_(t.parentMessage)})):null},n.prototype.getThreadedMessagesByTimestamp=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return r=ae(ae({},h_),r),We(this.messageId>0&&re("number",t)&&pk(r)).throw(me.invalidParameters),[4,Vr.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,s.sent()]}})})},n}(Cv),LO=function(){function e(n){var t,r;this.type=null,this.vendor=null,this.detail={},this.type=(t=n.type)!==null&&t!==void 0?t:"",this.vendor=(r=n.vendor)!==null&&r!==void 0?r:"",n.hasOwnProperty("detail")&&re("object",n.detail)&&!Array.isArray(n.detail)&&(this.detail=n.detail)}return e.payloadify=function(n){return n?In({type:n.type,vendor:n.vendor,detail:n.detail}):null},e}(),Lr=function(e){function n(t,r){var s,u,d,p,g,_,y,E=this;if((E=e.call(this,t,r)||this).message="",E.messageParams=null,E.translations={},E.translationTargetLanguages=[],E.messageSurvivalSeconds=-1,E.plugins=[],E.message=r.message,E.messageType=sr.USER,E.translations=(d=r.translations)!==null&&d!==void 0?d:{},E.translationTargetLanguages=(p=r.target_langs)!==null&&p!==void 0?p:[],E.translations==={}&&E.translationTargetLanguages.length>0)try{for(var x=tn(E.translationTargetLanguages),k=x.next();!k.done;k=x.next()){var T=k.value;E.translations[T]=""}}catch(N){s={error:N}}finally{try{k&&!k.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}if(E.messageSurvivalSeconds=(g=r.message_survival_seconds)!==null&&g!==void 0?g:-1,E.plugins=r.plugins?r.plugins.map(function(N){return new LO(N)}):[],r.parent_message_info){var I=r.parent_message_info,P=ae(ae({},I),{created_at:I.ts,message_id:E.parentMessageId,channel_url:E.channelUrl,channel_type:E.channelType,file:I.file,url:(_=I.file)===null||_===void 0?void 0:_.url,require_auth:(y=I.file)===null||y===void 0?void 0:y.require_auth});E.parentMessage=rs(t,In(P))}return E}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),{message:t.message,translations:t.translations,message_survival_seconds:t.messageSurvivalSeconds,plugins:t.plugins.map(function(r){return LO.payloadify(r)}),parent_message_info:p_(t.parentMessage)})):null},n.prototype.getThreadedMessagesByTimestamp=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return r=ae(ae({},h_),r),We(this.messageId>0&&re("number",t)&&pk(r)).throw(me.invalidParameters),[4,Vr.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,s.sent()]}})})},n}(Tr),p_=function(e){if(e)switch(e.messageType){case sr.USER:return Lr.payloadify(e);case sr.FILE:return Or.payloadify(e);case sr.ADMIN:return sh.payloadify(e)}return null},rs=function(e,n){switch(n.type){case"MESG":return new Lr(e,n);case"FILE":return new Or(e,n);case"ADMM":case"BRDM":return new sh(e,n)}return null},Or=function(e){function n(t,r){var s,u,d,p,g,_,y,E,x,k,T,I,P,N,O,U=this;(U=e.call(this,t,r)||this).messageParams=null,U.plainUrl="",U.requireAuth=!1,U.name=null,U.size=0,U.type=null,U.thumbnails=[],U.messageSurvivalSeconds=-1,U.messageType=sr.FILE;var L=(s=r.file)!==null&&s!==void 0?s:null;if(U.plainUrl=((d=(u=L==null?void 0:L.url)!==null&&u!==void 0?u:r.url)!==null&&d!==void 0?d:"").split("?auth=")[0],U.name=(g=(p=L==null?void 0:L.name)!==null&&p!==void 0?p:r.name)!==null&&g!==void 0?g:"File",U.size=(y=(_=L==null?void 0:L.size)!==null&&_!==void 0?_:r.size)!==null&&y!==void 0?y:0,U.data=(x=(E=L==null?void 0:L.data)!==null&&E!==void 0?E:r.custom)!==null&&x!==void 0?x:"",U.type=L?(k=L.type)!==null&&k!==void 0?k:"":(T=r.type)!==null&&T!==void 0?T:"",U.requireAuth=(I=r.require_auth)!==null&&I!==void 0&&I,U.thumbnails=r.thumbnails?r.thumbnails.map(function(J){return new d_(ae(ae({},J),{url:"".concat(J.url.split("?auth=")[0]).concat(U.requireAuth?"?auth=".concat($f(U._iid)):"")}))}):[],U.messageSurvivalSeconds=(P=r.message_survival_seconds)!==null&&P!==void 0?P:-1,r.parent_message_info){var ee=r.parent_message_info,V=ae(ae({},ee),{message_id:U.parentMessageId,channel_url:U.channelUrl,channel_type:U.channelType,file:ee.file,url:(N=ee.file)===null||N===void 0?void 0:N.url,require_auth:(O=ee.file)===null||O===void 0?void 0:O.require_auth});U.parentMessage=rs(t,V)}return U}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),{url:t.plainUrl,require_auth:t.requireAuth,file:{name:t.name,size:t.size,type:t.type,data:t.data},thumbnails:t.thumbnails.map(function(r){return{url:r.url,width:r.width,height:r.height,real_width:r.realWidth,real_height:r.realHeight}}),message_survival_seconds:t.messageSurvivalSeconds,parent_message_info:p_(t.parentMessage)})):null},Object.defineProperty(n.prototype,"url",{get:function(){return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat($f(this._iid)):this.plainUrl},enumerable:!1,configurable:!0}),n.prototype.getThreadedMessagesByTimestamp=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return r=ae(ae({},h_),r),We(this.messageId>0&&re("number",t)&&pk(r)).throw(me.invalidParameters),[4,Vr.of(this._iid).getThreadedMessagesByTimestamp(this,t,r)];case 1:return[2,s.sent()]}})})},n}(Tr),hre=function(e){function n(t){var r,s,u,d=[];return t.mentionType===Qr.USERS&&(t.mentionedUserIds?d=t.mentionedUserIds:t.mentionedUsers&&(d=t.mentionedUsers.map(function(p){return p.userId}))),e.call(this,{code:"FILE",ackRequired:!0,payload:In({channel_url:t.channelUrl,url:t.url,name:(r=t.fileName)!==null&&r!==void 0?r:"",type:(s=t.mimeType)!==null&&s!==void 0?s:"",size:(u=t.fileSize)!==null&&u!==void 0?u:0,custom:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes,require_auth:t.requireAuth,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:d,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==Zl.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return G(n,e),n}(pa),pre=function(e){function n(t){var r,s=this;s=e.call(this)||this;var u=[];return t.mentionType===Qr.USERS&&(t.mentionedUserIds?u=t.mentionedUserIds:t.mentionedUsers&&(u=t.mentionedUsers.map(function(d){return d.userId}))),s.method=Pe.POST,s.path="".concat(ut(t.channelType),"/").concat(encodeURIComponent(t.channelUrl),"/messages"),s.params=In({message_type:sr.FILE,user_id:t.userId,url:t.fileUrl,mention_type:t.mentionType,mentioned_user_ids:u,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,data:t.data,custom_type:t.customType,thumbnails:t.thumbnailSizes.map(function(d){return d_.payloadify(d)}),require_auth:t.requireAuth,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(d){return Bi.payloadify(d)}),push_option:t.pushNotificationDeliveryOption,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,apple_critical_alert_options:eo.payloadify(t.appleCriticalAlertOptions),reply_to_channel:t.isReplyToChannel,req_id:t.reqId}),s}return G(n,e),n}(He),fk=function(e){function n(t,r,s){var u,d,p,g=this;(g=e.call(this,t,"FILE",s)||this).message=new Or(t,s);var _=ue.of(t).sdkState;return g.isMentioned=ah(g.message.mentionType,(u=g.message.mentionedUserIds)!==null&&u!==void 0?u:(d=g.message.mentionedUsers)===null||d===void 0?void 0:d.map(function(y){return y.userId}),_.userId),g.forceUpdateLastMessage=(p=s.force_update_last_message)!==null&&p!==void 0&&p,g}return G(n,e),n}(kt),fre=function(e){function n(t,r){var s,u,d=this;(d=e.call(this,t,r)||this).message=new Or(t,r);var p=ue.of(t).sdkState;return d.isMentioned=ah(d.message.mentionType,(s=d.message.mentionedUserIds)!==null&&s!==void 0?s:d.message.mentionedUsers.map(function(g){return g.userId}),p.userId),d.forceUpdateLastMessage=(u=r.force_update_last_message)!==null&&u!==void 0&&u,d}return G(n,e),n}($e);(function(e){e[e.PENDING=0]="PENDING",e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.SENDING=3]="SENDING",e[e.FAILED=4]="FAILED"})(ri||(ri={}));var Cn,gre=function(){function e(n,t){var r=t.sdkState,s=t.dispatcher,u=t.requestQueue,d=t.onlineDetector,p=t.cacheContext,g=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=n,this._sdkState=r,this._requestQueue=u,this._cacheContext=p,this._dispatcher=s,this._dispatcher.on(function(_){_ instanceof Cs&&(g._connectionState=_.stateType)}),this._onlineDetector=d}return Object.defineProperty(e.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===_t.CONNECTED||this._connectionState===_t.CONNECTING||this._connectionState===_t.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype._sendFileMessage=function(n,t){return A(this,void 0,void 0,function(){var r,s;return R(this,function(u){switch(u.label){case 0:return this._shouldSendThroughWebSocket?(r=new hre(ae(ae({channelUrl:n.url,channelType:n.channelType,url:t.params.fileUrl,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)]):[3,2];case 1:return s=u.sent(),[2,s.as(fk).message];case 2:return r=new pre(ae(ae({channelUrl:n.url,channelType:n.channelType,url:t.params.fileUrl,userId:this._sdkState.userId,requireAuth:t.requireAuth},t.params),{reqId:t.requestId})),[4,this._requestQueue.send(r)];case 3:return s=u.sent(),[2,s.as(fre).message]}})})},e.prototype._resolveMessageQueue=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y,E,x,k;return R(this,function(T){switch(T.label){case 0:if(!(t=this._queueMap.get(n.url)))return[3,21];if(t.isResolving)return[3,20];t.isResolving=!0,r=[],s=!0,T.label=1;case 1:T.trys.push([1,15,16,17]),u=tn(t.messageQueue),d=u.next(),T.label=2;case 2:if(d.done)return[3,14];switch(p=d.value,p.state){case ri.PENDING:case ri.UPLOADING:return[3,3];case ri.UPLOADED:return[3,4];case ri.FAILED:return[3,12]}return[3,13];case 3:return s=!1,r.push(p),[3,13];case 4:if(!s)return[3,10];T.label=5;case 5:return T.trys.push([5,8,,9]),p.state=ri.SENDING,[4,this._sendFileMessage(n,p)];case 6:return g=T.sent(),p.deferred.resolve(g),[4,ja(100)];case 7:return T.sent(),[3,9];case 8:return _=T.sent(),p.deferred.reject(_),[3,9];case 9:return[3,11];case 10:r.push(p),T.label=11;case 11:return[3,13];case 12:return p.deferred.reject(p.error.code===Yn.REQUEST_CANCELED?me.fileUploadCanceled:p.error),[3,13];case 13:return d=u.next(),[3,2];case 14:return[3,17];case 15:return y=T.sent(),x={error:y},[3,17];case 16:try{d&&!d.done&&(k=u.return)&&k.call(u)}finally{if(x)throw x.error}return[7];case 17:return E=t.isResolveRequestPending,t.messageQueue=r,t.isResolving=!1,t.isResolveRequestPending=!1,E?[4,this._resolveMessageQueue(n)]:[3,19];case 18:T.sent(),T.label=19;case 19:return[3,21];case 20:t.isResolveRequestPending=!0,T.label=21;case 21:return[2]}})})},e.prototype._uploadNextPendingItem=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y,E,x,k,T,I;return R(this,function(P){switch(P.label){case 0:return t=this._queueMap.get(n.url),(r=t.messageQueue.find(function(N){return N.state===ri.PENDING}))?li(r.params.file)?t.uploadQueue.length<6?(r.state=ri.UPLOADING,t.uploadQueue.push(r),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!P.sent())return[3,8];P.label=2;case 2:return P.trys.push([2,4,5,7]),s=new AU({file:r.params.file,channelUrl:n.url,thumbnailSizes:r.params.thumbnailSizes,requestId:r.requestId}),[4,this._requestQueue.send(s)];case 3:return u=P.sent(),d=u.as(RU),p=d.url,g=d.fileSize,_=g===void 0?r.params.fileSize:g,y=d.thumbnailSizes,E=y===void 0?r.params.thumbnailSizes:y,x=d.requireAuth,k=x!==void 0&&x,r.params.fileUrl=p,r.params.fileSize=_,r.params.thumbnailSizes=E,r.params.requireAuth=k,r.requireAuth=k,r.state=ri.UPLOADED,[3,7];case 4:return T=P.sent(),r.state=ri.FAILED,r.error=T,[3,7];case 5:return(I=t.uploadQueue.findIndex(function(N){return N.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(I,1),this._uploadNextPendingItem(n)),[4,this._resolveMessageQueue(n)];case 6:return P.sent(),[7];case 7:return[3,10];case 8:return r.state=ri.FAILED,r.error=me.connectionRequired,(I=t.uploadQueue.findIndex(function(N){return N.requestId===r.requestId}))>=0&&(t.uploadQueue.splice(I,1),this._uploadNextPendingItem(n)),[4,this._resolveMessageQueue(n)];case 9:P.sent(),P.label=10;case 10:return[3,13];case 11:return r.params.thumbnailSizes=[],r.state=ri.UPLOADED,[4,this._resolveMessageQueue(n)];case 12:P.sent(),P.label=13;case 13:return[2]}})})},e.prototype.request=function(n,t,r){var s,u,d;return A(this,void 0,void 0,function(){var p;return R(this,function(g){return p=new ji,li(r.file)&&(r.fileName=(s=r.fileName)!==null&&s!==void 0?s:r.file.name,r.mimeType=(u=r.mimeType)!==null&&u!==void 0?u:r.file.type,r.fileSize=(d=r.fileSize)!==null&&d!==void 0?d:r.file.size),this._queueMap.has(n.url)||this._queueMap.set(n.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(n.url).messageQueue.push({requestId:t,params:r,state:ri.PENDING,deferred:p,requireAuth:r.requireAuth}),this._uploadNextPendingItem(n),[2,p.promise]})})},e.prototype.cancel=function(n,t){var r,s;t===void 0&&(t=null);var u=this._queueMap.get(n.url);if(u){var d=t?[u.messageQueue.find(function(y){return y.requestId===t})]:En([],wn(u.messageQueue),!1);try{for(var p=tn(d),g=p.next();!g.done;g=p.next()){var _=g.value;if(_)switch(_.state){case ri.PENDING:_.state=ri.FAILED,_.error=me.requestCanceled,this._resolveMessageQueue(n);break;case ri.UPLOADING:this._requestQueue.cancel(_.requestId)}}}catch(y){r={error:y}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(r)throw r.error}}}},e}(),MU={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Wr.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:Mi.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},mre=function(e){return re("number",e.prevResultSize)&&re("number",e.nextResultSize)&&re("boolean",e.isInclusive)&&re("boolean",e.reverse)&&re("string",e.messageTypeFilter)&&On(Wr,e.messageTypeFilter)&&An("string",e.customTypesFilter,!0)&&An("string",e.senderUserIdsFilter,!0)&&On(Mi,e.replyType)&&re("boolean",e.includeMetaArray)&&re("boolean",e.includeReactions)&&re("boolean",e.includeParentMessageInfo)&&re("boolean",e.includeThreadInfo)&&re("boolean",e.showSubchannelMessagesOnly)},dw={replyType:Mi.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includePollDetails:!1},PO=function(e){return On(Mi,e.replyType)&&re("boolean",e.includeReactions)&&re("boolean",e.includeMetaArray)&&re("boolean",e.includeParentMessageInfo)&&re("boolean",e.includeThreadInfo)&&re("boolean",e.includePollDetails)};(function(e){e.UNKNOWN="UNKNOWN",e.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",e.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",e.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",e.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",e.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",e.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",e.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",e.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",e.REQUEST_MESSAGE="REQUEST_MESSAGE",e.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",e.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",e.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",e.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",e.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",e.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",e.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",e.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",e.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",e.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(Cn||(Cn={}));var mf,ym=function(e){return e.startsWith("EVENT_")||e===Cn.SYNC_MESSAGE_FILL||e===Cn.SYNC_MESSAGE_CHANGELOGS},Yt=function(e){function n(t){var r=t.messages,s=t.source,u=e.call(this)||this;return u.messages=r,u.source=s,u}return G(n,e),n}(Fr),gk=function(e){function n(t){var r=t.messageIds,s=t.source,u=e.call(this)||this;return u.messageIds=r,u.source=s,u}return G(n,e),n}(Fr),DU=function(e){function n(t){var r=t.reqId,s=t.source,u=e.call(this)||this;return u.reqId=r,u.source=s,u}return G(n,e),n}(Fr),vre=function(e){function n(t){var r=t.channelType,s=t.channelUrl,u=t.messageId,d=t.includeMetaArray,p=t.includeReactions,g=t.includeThreadInfo,_=t.includeParentMessageInfo,y=t.includePollDetails,E=e.call(this)||this;return E.method=Pe.GET,E.path="".concat(ut(r),"/").concat(encodeURIComponent(s),"/messages/").concat(encodeURIComponent(u)),E.params={is_sdk:!0,with_sorted_meta_array:d,include_reactions:p,include_thread_info:g,include_parent_message_info:_,include_poll_details:y},E}return G(n,e),n}(He),_re=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.message=r?rs(t,ae({},r)):null,s}return G(n,e),n}($e),FO=function(e){function n(t){var r=t.channelType,s=t.channelUrl,u=t.timestamp,d=u===void 0?null:u,p=t.token,g=p===void 0?null:p,_=t.prevResultSize,y=t.nextResultSize,E=t.isInclusive,x=t.reverse,k=t.messageTypeFilter,T=t.customTypesFilter,I=t.senderUserIdsFilter,P=t.replyType,N=t.includeMetaArray,O=t.includeReactions,U=t.parentMessageId,L=t.includeThreadInfo,ee=t.includeParentMessageInfo,V=t.showSubchannelMessagesOnly,J=t.includePollDetails,Y=e.call(this)||this;return Y.method=Pe.GET,Y.path="".concat(ut(r),"/").concat(encodeURIComponent(s),"/messages"),Y.params=In({is_sdk:!0,prev_limit:_,next_limit:y,include:E,reverse:x,message_ts:d,message_id:g,message_type:k!=null?k:null,custom_types:T,sender_ids:I,include_reply_type:P,with_sorted_meta_array:N,include_reactions:O,parent_message_id:U,include_thread_info:L,include_parent_message_info:ee,show_subchannel_message_only:V,include_poll_details:J}),Y}return G(n,e),n}(He),HO=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.messages=r.messages.map(function(u){return rs(t,u)}),s}return G(n,e),n}($e),bre=function(e){function n(t){var r=t.channelType,s=t.channelUrl,u=t.timestamp,d=t.token,p=t.replyType,g=t.includeMetaArray,_=t.includeReactions,y=t.includeThreadInfo,E=t.includeParentMessageInfo,x=t.includePollDetails,k=e.call(this)||this;return k.method=Pe.GET,k.path="".concat(ut(r),"/").concat(encodeURIComponent(s),"/messages/changelogs"),k.params={change_ts:u,token:d,with_sorted_meta_array:g,include_reactions:_,include_thread_info:y,include_reply_type:p,include_parent_message_info:E,include_poll_details:x},k}return G(n,e),n}(He),yre=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.updatedMessages=r.updated.map(function(u){return rs(t,u)}),s.deletedMessagesInfo=r.deleted.map(function(u){return{messageId:u.message_id,deletedAt:u.deleted_at}}),s.hasMore=r.has_more,s.nextToken=r.next,s}return G(n,e),n}($e),Ere=function(e){function n(t){var r=t.channelUrl,s=t.scheduledMessageId,u=e.call(this)||this;return u.method=Pe.GET,u.path="".concat(mi,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(s)),u.params={},u}return G(n,e),n}(He),wre=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.message=r?rs(t,ae({},r)):null,s}return G(n,e),n}($e),zO={},Vr=function(){function e(n,t){var r=t.sdkState,s=t.dispatcher,u=t.requestQueue,d=t.onlineDetector,p=t.cacheContext;this._iid=n,this._sdkState=r,this._requestQueue=u,this._dispatcher=s,this._onlineDetector=d,this._cacheContext=p,this.fileMessageQueue=new gre(n,{sdkState:r,dispatcher:s,requestQueue:u,onlineDetector:d,cacheContext:p}),zO[n]=this}return e.of=function(n){return zO[n]},e.prototype.buildMessageFromSerializedData=function(n){var t=pc(n);switch(t.messageType){case sr.USER:return new Lr(this._iid,Lr.payloadify(t));case sr.FILE:return new Or(this._iid,Or.payloadify(t));case sr.ADMIN:return new sh(this._iid,sh.payloadify(t))}return null},e.prototype.buildUserMessageCreateParamsFromSerializedData=function(n,t){return In({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,message:t.message,translationTargetLanguages:Object.keys(t.translations)})},e.prototype.buildFileMessageCreateParamsFromSerializedData=function(n,t){return In({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,file:n.file,fileKey:n.fileKey,fileUrl:t.url,fileName:t.name,fileSize:t.size,mimeType:t.type,thumbnailSizes:t.thumbnails.map(function(r){return{maxWidth:r.width,maxHeight:r.height}}),fileType:n.fileType,requireAuth:t.requireAuth})},e.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(n,t){return ae(ae({},this.buildUserMessageCreateParamsFromSerializedData(n,t)),{scheduledAt:n.scheduledAt})},e.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(n,t){return ae(ae({},this.buildFileMessageCreateParamsFromSerializedData(n,t)),{scheduledAt:n.scheduledAt})},e.prototype.buildSenderFromSerializedData=function(n){var t=pc(n);return new Wf(this._iid,Wf.payloadify(t))},e.prototype.getMessage=function(n){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return t=new vre(n),[4,this._requestQueue.send(t)];case 1:return r=s.sent(),[2,r.as(_re).message]}})})},e.prototype.getScheduledMessage=function(n){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return t=new Ere(n),[4,this._requestQueue.send(t)];case 1:return r=s.sent(),[2,r.as(wre).message]}})})},e.prototype.getMessagesByTimestamp=function(n,t,r,s,u){return u===void 0&&(u=Cn.REQUEST_MESSAGE),A(this,void 0,void 0,function(){var d,p,g;return R(this,function(_){switch(_.label){case 0:return d=new FO(ae(ae({channelType:t,channelUrl:n,timestamp:r},MU),s)),[4,this._requestQueue.send(d)];case 1:return p=_.sent(),g=p.as(HO).messages,this._dispatcher.dispatch(new Yt({messages:g,source:u})),[2,g]}})})},e.prototype.getThreadedMessagesByTimestamp=function(n,t,r,s){return s===void 0&&(s=Cn.REQUEST_THREADED_MESSAGE),A(this,void 0,void 0,function(){var u,d,p,g;return R(this,function(_){switch(_.label){case 0:return u=new FO(ae(ae(ae({channelUrl:n.channelUrl,channelType:n.channelType,timestamp:t},h_),r),{replyType:Mi.ALL,parentMessageId:n.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(u)];case 1:return d=_.sent(),p=d.as(HO).messages,(g=p.slice(1)).forEach(function(y){y.parentMessage=n}),this._dispatcher.dispatch(new Yt({messages:g,source:s})),[2,{parentMessage:p[0],threadedMessages:g}]}})})},e.prototype.getMessageChangelogs=function(n,t,r,s,u){return u===void 0&&(u=Cn.REQUEST_MESSAGE_CHANGELOGS),A(this,void 0,void 0,function(){var d,p,g,_,y,E,x,k;return R(this,function(T){switch(T.label){case 0:return d=new bre(In(ae(ae({channelType:t,channelUrl:n,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},dw),s))),[4,this._requestQueue.send(d)];case 1:return p=T.sent(),g=p.as(yre),_=g.updatedMessages,y=g.deletedMessagesInfo,E=g.hasMore,x=g.nextToken,k=y.map(function(I){return I.messageId}),_.length>0&&this._dispatcher.dispatch(new Yt({messages:_,source:u})),k.length>0&&this._dispatcher.dispatch(new gk({messageIds:k,source:u})),[2,{updatedMessages:_,deletedMessageIds:k,hasMore:E,token:x}]}})})},e}(),Ao=function(){function e(){this._onPending=Hn,this._onFailed=Hn,this._onSucceeded=Hn}return e.prototype._trigger=function(n,t){switch(t.sendingStatus){case Nt.PENDING:this._onPending(t);break;case Nt.FAILED:case Nt.CANCELED:this._onFailed(n,t.isResendable?t:null);break;case Nt.SCHEDULED:case Nt.SUCCEEDED:this._onSucceeded(t)}},e.prototype.onPending=function(n){return this._onPending=n,this},e.prototype.onFailed=function(n){return this._onFailed=n,this},e.prototype.onSucceeded=function(n){return this._onSucceeded=n,this},e}(),xre=function(e){function n(t,r){var s=e.call(this,t)||this;s.threadInfo=null,s.targetMessageId=0,s.channelUrl=null,s.channelType=null;var u=r.thread_info,d=r.root_message_id,p=r.channel_url,g=r.channel_type;return u&&re("object",u)&&re("number",d)&&re("string",p)&&re("string",g)&&(s.threadInfo=new cw(t,u),s.targetMessageId=d,s.channelUrl=p,s.channelType=g),s}return G(n,e),n}(Ts),kre={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,includePollDetails:!1},Yo=function(){function e(n,t){var r;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=n,this.limit=(r=t.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),e.prototype._validate=function(){return re("number",this.limit)&&this.limit>0},e}(),Sre=function(e){function n(t){var r=t.channelCustomType,s=t.keyword,u=t.limit,d=t.reverse,p=t.exactMatch,g=t.channelUrl,_=t.order,y=t.messageTimestampFrom,E=t.messageTimestampTo,x=t.advancedQuery,k=t.targetFields,T=t.nextToken,I=e.call(this)||this;return I.method=Pe.GET,I.path="".concat(Xte,"/messages"),I.params={custom_type:r,query:s,limit:u,reverse:d,exact_match:p,channel_url:g,message_ts_from:y,message_ts_to:E,sort_field:_,advanced_query:x,target_fields:k,after:T},I}return G(n,e),n}(He),Cre=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.messages=r.results.map(function(u){return rs(t,u)}),s.hasNext=r.has_next,s.nextToken=r.end_cursor,s}return G(n,e),n}($e);(function(e){e.SCORE="score",e.TIMESTAMP="ts"})(mf||(mf={}));var Tre=function(e){function n(t,r){var s,u,d,p,g,_,y,E,x,k=this;return(k=e.call(this,t,r)||this).keyword="",k.reverse=!1,k.exactMatch=!1,k.channelUrl="",k.channelCustomType="",k.messageTimestampFrom=null,k.messageTimestampTo=null,k.order=mf.SCORE,k.advancedQuery=!1,k.targetFields=null,k._nextToken="",k.keyword=r.keyword,k.reverse=(s=r.reverse)!==null&&s!==void 0&&s,k.exactMatch=(u=r.exactMatch)!==null&&u!==void 0&&u,k.channelUrl=(d=r.channelUrl)!==null&&d!==void 0?d:"",k.channelCustomType=(p=r.channelCustomType)!==null&&p!==void 0?p:"",k.messageTimestampFrom=(g=r.messageTimestampFrom)!==null&&g!==void 0?g:null,k.messageTimestampTo=(_=r.messageTimestampTo)!==null&&_!==void 0?_:null,k.order=(y=r.order)!==null&&y!==void 0?y:mf.SCORE,k.advancedQuery=(E=r.advancedQuery)!==null&&E!==void 0&&E,k.targetFields=(x=r.targetFields)!==null&&x!==void 0?x:null,k}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&re("string",this.keyword)&&this.keyword.length>0&&re("boolean",this.reverse)&&re("boolean",this.exactMatch)&&re("string",this.channelUrl)&&re("string",this.channelCustomType)&&(re("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(re("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&On(mf,this.order)&&re("boolean",this.advancedQuery)&&An("string",this.targetFields,!0)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid).requestQueue,r=new Sre(ae(ae({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,t.send(r)]):[3,2]:[3,5];case 1:return s=_.sent(),u=s.as(Cre),d=u.messages,p=u.hasNext,g=u.nextToken,this._nextToken=g,this._hasNext=p,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(Yo),yh=function(e){function n(t,r,s,u){var d=e.call(this,t,u)||this;return d.channelUrl=r,d.channelType=s,d}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&re("string",this.channelUrl)&&On(ft,this.channelType)},n}(Yo),Ire=function(e){function n(t,r,s,u){var d,p,g,_,y,E,x,k,T,I,P=this;return(P=e.call(this,t,r,s,u)||this).reverse=!1,P.messageTypeFilter=Wr.ALL,P.customTypesFilter=null,P.senderUserIdsFilter=null,P.replyType=Mi.NONE,P.includeMetaArray=!1,P.includeReactions=!1,P.includeParentMessageInfo=!1,P.includeThreadInfo=!1,P.showSubchannelMessagesOnly=!1,P._edge=Number.MAX_SAFE_INTEGER,P.reverse=(d=u.reverse)!==null&&d!==void 0&&d,P.messageTypeFilter=(p=u.messageTypeFilter)!==null&&p!==void 0?p:Wr.ALL,P.customTypesFilter=(g=u.customTypesFilter)!==null&&g!==void 0?g:null,P.senderUserIdsFilter=(_=u.senderUserIdsFilter)!==null&&_!==void 0?_:null,P.replyType=(y=u.replyType)!==null&&y!==void 0?y:Mi.NONE,P.includeMetaArray=(E=u.includeMetaArray)!==null&&E!==void 0&&E,P.includeReactions=(x=u.includeReactions)!==null&&x!==void 0&&x,P.includeParentMessageInfo=(k=u.includeParentMessageInfo)!==null&&k!==void 0&&k,P.includeThreadInfo=(T=u.includeThreadInfo)!==null&&T!==void 0&&T,P.showSubchannelMessagesOnly=(I=u.showSubchannelMessagesOnly)!==null&&I!==void 0&&I,P}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&re("boolean",this.reverse)&&On(Wr,this.messageTypeFilter)&&On(Mi,this.replyType)&&An("string",this.customTypesFilter,!0)&&An("string",this.senderUserIdsFilter,!0)&&re("boolean",this.includeMetaArray)&&re("boolean",this.includeReactions)&&re("boolean",this.includeParentMessageInfo)&&re("boolean",this.includeThreadInfo)&&re("boolean",this.showSubchannelMessagesOnly)},n.prototype.load=function(){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Vr.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return t=r.sent(),this._edge=Math.min.apply(Math,En([Number.MAX_SAFE_INTEGER],wn(t.map(function(s){return s.createdAt})),!1)),this._hasNext=t.length>=this.limit,this._isLoading=!1,[2,t];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(yh),Nre={channelUrl:null,scheduledMessageId:0},Ore=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="message",t}return G(n,e),n.prototype.init=function(t,r){var s=r.sdkState,u=r.dispatcher,d=r.sessionManager,p=r.requestQueue,g=r.logger,_=r.onlineDetector,y=r.cacheContext;e.prototype.init.call(this,t,{sdkState:s,dispatcher:u,sessionManager:d,requestQueue:p,logger:g,onlineDetector:_,cacheContext:y}),this._manager=new Vr(t,{sdkState:s,dispatcher:u,requestQueue:p,onlineDetector:_,cacheContext:y})},n.prototype.buildMessageFromSerializedData=function(t){return this._manager.buildMessageFromSerializedData(t)},n.prototype.buildSenderFromSerializedData=function(t){return this._manager.buildSenderFromSerializedData(t)},n.prototype.getMessage=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return t=ae(ae({},kre),t),We(function(s){return re("string",s.channelUrl)&&re("string",s.channelType)&&On(ft,s.channelType)&&re("number",s.messageId)&&re("boolean",s.includeMetaArray)&&re("boolean",s.includeParentMessageInfo)&&re("boolean",s.includeThreadInfo)&&re("boolean",s.includePollDetails)}(t)).throw(me.invalidParameters),[2,this._manager.getMessage(t)]})})},n.prototype.getScheduledMessage=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return t=ae(ae({},Nre),t),We(function(s){return re("string",s.channelUrl)&&re("number",s.scheduledMessageId)}(t)).throw(me.invalidParameters),[2,this._manager.getScheduledMessage(t)]})})},n}(dk),oh,mk={data:null,customType:null,mentionType:Qr.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},vk=function(e){return re("string",e.data,!0)&&re("string",e.customType,!0)&&On(Qr,e.mentionType)&&An("string",e.mentionedUserIds,!0)&&An(Pn,e.mentionedUsers,!0)&&re("string",e.mentionedMessageTemplate,!0)&&An(Bi,e.metaArrays,!0)&&re("number",e.parentMessageId,!0)&&re("boolean",e.isReplyToChannel)&&On(Zl,e.pushNotificationDeliveryOption,!0)&&re(eo,e.appleCriticalAlertOptions,!0)},qO=function(e){return e?{isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}:null},UU=ae(ae({},mk),{message:null,translationTargetLanguages:null}),LU=function(e){return vk(e)&&re("string",e.message)&&An("string",e.translationTargetLanguages,!0)};(function(e){e.FILE="file",e.BLOB="blob",e.BLOB_LIKE_OBJECT="blobLikeObject",e.URL="url"})(oh||(oh={}));var hw,pw=function(e){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&e instanceof Blob},fw=function(e){return e===oh.BLOB||e===oh.FILE},BO=function(e){return e?{file:e.file,fileKey:e.fileKey,fileType:e.fileType,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}:null},jO=ae(ae({},mk),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),GO=function(e){return vk(e)&&(li(e.file)||re("string",e.fileUrl))&&re("string",e.fileName,!0)&&re("string",e.mimeType,!0)&&re("number",e.fileSize,!0)&&(e.thumbnailSizes===null||Array.isArray(e.thumbnailSizes)&&e.thumbnailSizes.every(function(n){return re("object",n)&&n.maxWidth>0&&n.maxHeight>0}))};(function(e){e.MUTED="muted",e.BANNED="banned"})(hw||(hw={}));var vf,$O=function(){function e(n){var t,r,s;this.restrictionType=null,this.description=null,this.endAt=-1,On(hw,n.restriction_type)&&(this.restrictionType=n.restriction_type),this.description=(t=n.description)!==null&&t!==void 0?t:null,this.endAt=(s=(r=n.end_at)!==null&&r!==void 0?r:n.muted_end_at)!==null&&s!==void 0?s:-1}return e.payloadify=function(n){return n?In({restriction_type:n.restrictionType,description:n.description,end_at:n.endAt}):null},e}(),Oc=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.restrictionInfo=null,s.restrictionInfo=new $O(r),s}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),$O.payloadify(t.restrictionInfo))):null},n}(Pn),_k={data:null,customType:null,mentionType:Qr.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},bk=function(e){return re("string",e.data,!0)&&re("string",e.customType,!0)&&On(Qr,e.mentionType)&&An("string",e.mentionedUserIds,!0)&&An(Pn,e.mentionedUsers,!0)&&re("string",e.mentionedMessageTemplate,!0)&&An(Bi,e.metaArrays,!0)&&On(Zl,e.pushNotificationDeliveryOption,!0)&&re(eo,e.appleCriticalAlertOptions,!0)},PU=ae(ae({},_k),{message:null,translationTargetLanguages:null}),FU=function(e){return bk(e)&&re("string",e.message,!0)&&An("string",e.translationTargetLanguages,!0)},Are=ae({},_k),Rre=function(e){function n(t){var r=t.channelUrl,s=t.channelType,u=t.token,d=t.limit,p=e.call(this)||this;return p.method=Pe.GET,p.path="".concat(ut(s),"/").concat(encodeURIComponent(r),"/operators"),p.params={token:u,limit:d},p}return G(n,e),n}(He),Mre=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.operators=r.operators.map(function(u){return new Pn(t,u)}),s.token=r.next,s}return G(n,e),n}($e),Dre=function(e){function n(t,r,s,u){return e.call(this,t,r,s,u)||this}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=ue.of(this._iid).requestQueue,s=new Rre(ae(ae({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(s)]):[3,2]):[3,5];case 1:return u=_.sent(),d=u.as(Mre),p=d.operators,g=d.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,p];case 2:return[2,t];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(yh),Ure=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.limit,p=t.token;return(r=e.call(this)||this).method=Pe.GET,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/mute"),r.params={limit:d,token:p},r}return G(n,e),n}(He),Lre=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.token=null,s.mutedUsers=[];var u=r.next,d=r.muted_list;return s.token=u,d&&d.length>0&&(s.mutedUsers=d.map(function(p){return new Oc(t,p)})),s}return G(n,e),n}($e),Pre=function(e){function n(t,r,s,u){return e.call(this,t,r,s,u)||this}return G(n,e),n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid).requestQueue,r=new Ure(ae(ae({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return s=g.sent(),u=s.as(Lre),d=u.mutedUsers,p=u.token,this._token=p,this._hasNext=!!p,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(yh),Fre=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.limit,p=t.token;return(r=e.call(this)||this).method=Pe.GET,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/ban"),r.params=In({limit:d,token:p}),r}return G(n,e),n}(He),Hre=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.token=null,s.bannedUsers=[];var u=r.next,d=r.banned_list;return s.token=u,d&&d.length>0&&(s.bannedUsers=d.map(function(p){return new Oc(t,p.user)})),s}return G(n,e),n}($e),zre=function(e){function n(t,r,s,u){return e.call(this,t,r,s,u)||this}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid).requestQueue,r=new Fre(ae(ae({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return s=g.sent(),u=s.as(Hre),d=u.bannedUsers,p=u.token,this._token=p,this._hasNext=!!p,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(yh);(function(e){e.SPAM="spam",e.HARASSING="harassing",e.SUSPICIOUS="suspicious",e.INAPPROPRIATE="inappropriate"})(vf||(vf={}));var qre=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.operatorUserIds;return(r=e.call(this)||this).method=Pe.POST,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/operators"),r.params={operator_ids:d},r}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var Bre=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.operatorUserIds;return(r=e.call(this)||this).method=Pe.DELETE,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/operators"),r.params={operator_ids:d},r}return G(n,e),n}(He);(function(e){function n(t,r){return e.call(this,t,r)||this}G(n,e)})($e);var jre=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.userId;return(r=e.call(this)||this).method=Pe.GET,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/mute/").concat(d),r}return G(n,e),n}(He),Gre=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.isMuted=!1,s.startAt=null,s.endAt=null,s.remainingDuration=null,s.description=null;var u=r.is_muted,d=r.start_at,p=r.end_at,g=r.remaining_duration,_=r.description;return s.isMuted=u,s.startAt=d,s.endAt=p,s.remainingDuration=g,s.description=_,s}return G(n,e),n}($e),VO=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.keys;return(r=e.call(this)||this).method=Pe.GET,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metadata"),r.params={keys:d,include_ts:!0},r}return G(n,e),n}(He),WO=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.ts=null;var u=r.metadata,d=r.ts;return s.metadata=u,s.ts=d!=null?d:null,s}return G(n,e),n}($e),$re=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.metadata,p=t.upsert;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metadata"),r.params={metadata:d,include_ts:!0,upsert:p!=null&&p},r}return G(n,e),n}(He),Vre=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.ts=null;var u=r.metadata,d=r.ts;return s.metadata=u,s.ts=d!=null?d:null,s}return G(n,e),n}($e),HU=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.created=null,u.updated=null,u.deleted=null,s.data&&(u.created=s.data.created,u.updated=s.data.updated,u.deleted=s.data.deleted),u}return G(n,e),n}(kt),Wre=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.key;return(r=e.call(this)||this).method=Pe.DELETE,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metadata/").concat(d),r.params={include_ts:!0},r}return G(n,e),n}(He),Kre=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.ts=null;var u=r.ts;return s.ts=u!=null?u:null,s}return G(n,e),n}($e),Qre=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metadata"),r.params={include_ts:!0},r}return G(n,e),n}(He),Yre=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.ts=null;var u=r.ts;return s.ts=u!=null?u:null,s}return G(n,e),n}($e),KO=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.keys;return(r=e.call(this)||this).method=Pe.GET,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metacounter"),r.params={keys:d},r}return G(n,e),n}(He),QO=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.metaCounter=r,s}return G(n,e),n}($e),Xre=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.metaCounter;return(r=e.call(this)||this).method=Pe.POST,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metacounter"),r.params={metacounter:d},r}return G(n,e),n}(He),Zre=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.metaCounter=r,s}return G(n,e),n}($e),qE=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.metaCounter,p=t.upsert,g=p!==void 0&&p,_=t.mode,y=_===void 0?"set":_;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metacounter"),r.params={metacounter:d,upsert:g,mode:y},r}return G(n,e),n}(He),BE=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.metaCounter=r,s}return G(n,e),n}($e),zU=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.created=null,u.updated=null,u.deleted=null,s.data&&(u.created=s.data.created,u.updated=s.data.updated,u.deleted=s.data.deleted),u}return G(n,e),n}(kt),Jre=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.key;return(r=e.call(this)||this).method=Pe.DELETE,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metacounter/").concat(d),r.params=null,r}return G(n,e),n}(He);(function(e){function n(t,r){return e.call(this,t,r)||this}G(n,e)})($e);var eie=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType;return(r=e.call(this)||this).method=Pe.DELETE,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/metacounter"),r.params=null,r}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var nie=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.userId,p=t.seconds,g=t.description;return(r=e.call(this)||this).method=Pe.POST,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/mute"),r.params={user_id:d,seconds:p,description:g},r}return G(n,e),n}(He);(function(e){function n(t,r){return e.call(this,t,r)||this}G(n,e)})($e);var qU=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.user=new Oc(t,s.data),u}return G(n,e),n}(kt),tie=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.userId;return(r=e.call(this)||this).method=Pe.DELETE,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/mute/").concat(encodeURIComponent(d)),r}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var BU=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.user=new Oc(t,s.data),u}return G(n,e),n}(kt),rie=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.userId,p=t.seconds,g=t.description;return(r=e.call(this)||this).method=Pe.POST,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/ban"),r.params=In({user_id:d,seconds:p,description:g}),r}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var jU=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.memberCount=null,u.joinedMemberCount=null,u.user=new Oc(t,s.data),s.data.member_count&&(u.memberCount=s.data.member_count),s.data.joined_member_count&&(u.joinedMemberCount=s.data.joined_member_count),u}return G(n,e),n}(kt),iie=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.userId;return(r=e.call(this)||this).method=Pe.DELETE,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/ban/").concat(encodeURIComponent(d)),r}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var GU=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.user=new Oc(t,s.data),u}return G(n,e),n}(kt),YO=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.freezing;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(ut(u),"/").concat(encodeURIComponent(s),"/freeze"),r.params={freeze:d},r}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var $U=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.freeze=s.data.freeze,u}return G(n,e),n}(kt),aie=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.category,p=t.userId,g=t.description;return(r=e.call(this)||this).method=Pe.POST,r.path="".concat(TU(u),"/").concat(encodeURIComponent(s)),r.params={report_category:d,reporting_user_id:p,report_description:g},r}return G(n,e),n}(He),sie=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.category,p=t.userId,g=t.offendingUserId,_=t.description;return(r=e.call(this)||this).method=Pe.POST,r.path="/report/users/".concat(g),r.params={channel_url:s,channel_type:u===ft.OPEN?"open_channels":"group_channels",report_category:d,reporting_user_id:p,report_description:_},r}return G(n,e),n}(He),oie=function(e){function n(t){var r=this,s=t.channelUrl,u=t.channelType,d=t.category,p=t.userId,g=t.offendingUserId,_=t.messageId,y=t.description;return(r=e.call(this)||this).method=Pe.POST,r.path="".concat(TU(u),"/").concat(encodeURIComponent(s),"/messages/").concat(_),r.params={report_category:d,reporting_user_id:p,report_description:y,offending_user_id:g},r}return G(n,e),n}(He),lie=function(e){function n(t){var r=[];return t.mentionType===Qr.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(s){return s.userId}))),e.call(this,{code:"MESG",ackRequired:!0,payload:In({channel_url:t.channelUrl,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==Zl.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId>0?t.parentMessageId:null,req_id:t.reqId})})||this}return G(n,e),n}(pa),yk=function(e){function n(t,r,s){var u,d,p,g=this;(g=e.call(this,t,"MESG",s)||this).message=new Lr(t,s);var _=ue.of(t).sdkState;return g.isMentioned=ah(g.message.mentionType,(u=g.message.mentionedUserIds)!==null&&u!==void 0?u:(d=g.message.mentionedUsers)===null||d===void 0?void 0:d.map(function(y){return y.userId}),_.userId),g.forceUpdateLastMessage=(p=s.force_update_last_message)!==null&&p!==void 0&&p,g}return G(n,e),n}(kt),XO=function(e){function n(t){var r=[];return t.mentionType===Qr.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(s){return s.userId}))),e.call(this,{code:"MEDI",ackRequired:!0,payload:In({channel_url:t.channelUrl,msg_id:t.messageId,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,mentioned_message_template:t.mentionedMessageTemplate,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return G(n,e),n}(pa),Tv=function(e){function n(t,r,s){var u,d,p,g,_,y,E=this;(E=e.call(this,t,"MEDI",s)||this).message=new Lr(t,s);var x=ue.of(t).sdkState;return E.mentionCountChange=ck({mentionType:(d=(u=s.old_values)===null||u===void 0?void 0:u.mention_type)!==null&&d!==void 0?d:null,mentionedUserIds:(g=(p=s.old_values)===null||p===void 0?void 0:p.mentioned_user_ids)!==null&&g!==void 0?g:[]},{mentionType:E.message.mentionType,mentionedUserIds:(_=E.message.mentionedUserIds)!==null&&_!==void 0?_:(y=E.message.mentionedUsers)===null||y===void 0?void 0:y.map(function(k){return k.userId})},x.userId),E}return G(n,e),n}(kt),uie=function(e){function n(t){var r=[];return t.mentionType===Qr.USERS&&(t.mentionedUserIds?r=t.mentionedUserIds:t.mentionedUsers&&(r=t.mentionedUsers.map(function(s){return s.userId}))),e.call(this,{code:"FEDI",ackRequired:!0,payload:In({channel_url:t.channelUrl,msg_id:t.messageId,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:r,apple_critical_alert_options:t.appleCriticalAlertOptions})})||this}return G(n,e),n}(pa),Ek=function(e){function n(t,r,s){var u,d,p,g,_,y,E=this;(E=e.call(this,t,"FEDI",s)||this).message=new Or(t,s);var x=ue.of(t).sdkState;return E.mentionCountChange=ck({mentionType:(d=(u=s.old_values)===null||u===void 0?void 0:u.mention_type)!==null&&d!==void 0?d:null,mentionedUserIds:(g=(p=s.old_values)===null||p===void 0?void 0:p.mentioned_user_ids)!==null&&g!==void 0?g:[]},{mentionType:E.message.mentionType,mentionedUserIds:(_=E.message.mentionedUserIds)!==null&&_!==void 0?_:(y=E.message.mentionedUsers)===null||y===void 0?void 0:y.map(function(k){return k.userId})},x.userId),E}return G(n,e),n}(kt),cie=function(e){function n(t){var r=e.call(this)||this;return r.method=Pe.DELETE,r.path="".concat(ut(t.channelType),"/").concat(t.channelUrl,"/messages/").concat(t.messageId),r}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var VU=function(e){function n(t,r,s){var u=e.call(this,t,"DELM",s)||this;return u.channelUrl=s.channel_url,u.channelType=s.channel_type,u.messageId=Number(s.msg_id),u}return G(n,e),n}(kt),die=function(e){function n(t){var r=t.channelType,s=t.channelUrl,u=t.messageId,d=t.reactionKey,p=e.call(this)||this;return p.method=Pe.POST,p.path="".concat(ut(r),"/").concat(encodeURIComponent(s),"/messages/").concat(u,"/reactions"),p.params={reaction:d},p}return G(n,e),n}(He),hie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.reactionEvent=new hk(r),s}return G(n,e),n}($e),pie=function(e){function n(t){var r=t.channelType,s=t.channelUrl,u=t.messageId,d=t.reactionKey,p=e.call(this)||this;return p.method=Pe.DELETE,p.path="".concat(ut(r),"/").concat(encodeURIComponent(s),"/messages/").concat(u,"/reactions"),p.params={reaction:d},p}return G(n,e),n}(He),fie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.reactionEvent=new hk(ae({},r)),s}return G(n,e),n}($e),gie=function(e){function n(t){var r=t.channelType,s=t.channelUrl,u=t.messageId,d=t.translationTargetLanguages,p=e.call(this)||this;return p.method=Pe.POST,p.path="".concat(ut(r),"/").concat(encodeURIComponent(s),"/messages/").concat(encodeURIComponent(u),"/translation"),p.params={target_langs:d},p}return G(n,e),n}(He),mie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.message=new Lr(t,r),s}return G(n,e),n}($e),vie=function(e){function n(t){var r,s=this;s=e.call(this)||this;var u=[];t.mentionType===Qr.USERS&&(t.mentionedUserIds?u=t.mentionedUserIds:t.mentionedUsers&&(u=t.mentionedUsers.map(function(g){return g.userId})));var d=t.channelType,p=t.channelUrl;return s.method=Pe.POST,s.path="".concat(ut(d),"/").concat(encodeURIComponent(p),"/scheduled_messages"),s.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:ih.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:u,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(g){return Bi.payloadify(g)}),apple_critical_alert_options:eo.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},s}return G(n,e),n}(He),WU=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.message=new Lr(t,r),s}return G(n,e),n}($e),_ie=function(e){function n(t){var r,s=this;s=e.call(this)||this;var u=[];t.mentionType===Qr.USERS&&(t.mentionedUserIds?u=t.mentionedUserIds:t.mentionedUsers&&(u=t.mentionedUsers.map(function(g){return g.userId})));var d=t.channelType,p=t.channelUrl;return s.method=Pe.POST,s.path="".concat(ut(d),"/").concat(encodeURIComponent(p),"/scheduled_messages"),s.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:ih.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(g){return d_.payloadify(g)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:u,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(g){return Bi.payloadify(g)}),apple_critical_alert_options:eo.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},s}return G(n,e),n}(He),bie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.message=new Or(t,r),s}return G(n,e),n}($e),yie=2,gw=function(e){function n(t,r){var s,u,d,p,g=this;return(g=e.call(this,t)||this).url="",g.channelType=ft.BASE,g.name="",g.coverUrl="",g.customType="",g.data="",g.isFrozen=!1,g.isEphemeral=!1,g.creator=null,g.createdAt=0,g.url=r.channel_url,g.name=(s=r.name)!==null&&s!==void 0?s:"",g.coverUrl=(u=r.cover_url)!==null&&u!==void 0?u:"",g.customType=(d=r.custom_type)!==null&&d!==void 0?d:"",g.data=(p=r.data)!==null&&p!==void 0?p:"",g.isFrozen=!!re("boolean",r.freeze)&&r.freeze,g.isEphemeral=!!re("boolean",r.is_ephemeral)&&r.is_ephemeral,g.creator=r.created_by?new Pn(g._iid,r.created_by):null,g.createdAt=1e3*r.created_at,g._cachedMetaData=new Map,r.metadata&&r.ts&&Object.keys(r.metadata).forEach(function(_){g._cachedMetaData.set(_,{value:r.metadata[_],isRemoved:!1,updatedAt:r.ts})}),g}return G(n,e),n.payloadify=function(t){return In(ae(ae({},e.payloadify.call(this,t)),{channel_url:t.url,name:t.name,cover_url:t.coverUrl,custom_type:t.customType,data:t.data,freeze:t.isFrozen,is_ephemeral:t.isEphemeral,created_by:Pn.payloadify(t.creator),created_at:t.createdAt/1e3}))},n.prototype.isGroupChannel=function(){return this.channelType===ft.GROUP},n.prototype.isOpenChannel=function(){return this.channelType===ft.OPEN},Object.defineProperty(n.prototype,"cachedMetaData",{get:function(){var t={};return this._cachedMetaData.forEach(function(r,s){r.isRemoved||(t[s]=r.value)}),t},enumerable:!1,configurable:!0}),n.prototype._upsertCachedMetaData=function(t,r){var s=this;Object.keys(t).forEach(function(u){var d=s._cachedMetaData.get(u);(!d||d.updatedAt<=r)&&s._cachedMetaData.set(u,{value:t[u],isRemoved:!1,updatedAt:r})})},n.prototype._removeFromCachedMetaData=function(t,r){var s=this;t.forEach(function(u){var d=s._cachedMetaData.get(u);d&&d.updatedAt<r&&(d.isRemoved=!1,d.updatedAt=r)})},n.prototype._generateRequestId=function(){return"rq-".concat(Qa())},n.prototype.isIdentical=function(t){return t&&this.url===t.url},n.prototype.isEqual=function(t){return bU(this,t)},n.prototype.createOperatorListQuery=function(t){return t===void 0&&(t={}),new Dre(this._iid,this.url,this.channelType,t)},n.prototype.createMutedUserListQuery=function(t){return t===void 0&&(t={}),new Pre(this._iid,this.url,this.channelType,t)},n.prototype.createBannedUserListQuery=function(t){return t===void 0&&(t={}),new zre(this._iid,this.url,this.channelType,t)},n.prototype.createPreviousMessageListQuery=function(t){return t===void 0&&(t={}),new Ire(this._iid,this.url,this.channelType,t)},n.prototype.addOperators=function(t){return A(this,void 0,void 0,function(){var r,s;return R(this,function(u){switch(u.label){case 0:return We(An("string",t)).throw(me.invalidParameters),r=ue.of(this._iid).requestQueue,s=new qre({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(s)];case 1:return u.sent(),[2]}})})},n.prototype.removeOperators=function(t){return A(this,void 0,void 0,function(){var r,s;return R(this,function(u){switch(u.label){case 0:return We(An("string",t)).throw(me.invalidParameters),r=ue.of(this._iid).requestQueue,s=new Bre({channelUrl:this.url,channelType:this.channelType,operatorUserIds:t}),[4,r.send(s)];case 1:return u.sent(),[2]}})})},n.prototype.getMyMutedInfo=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y,E,x;return R(this,function(k){switch(k.label){case 0:return t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new jre({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,s.send(u)];case 1:return d=k.sent(),p=d.as(Gre),g=p.isMuted,_=p.startAt,y=p.endAt,E=p.remainingDuration,x=p.description,[2,{isMuted:g,startAt:_,endAt:y,remainingDuration:E,description:x}]}})})},n.prototype.getMetaData=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return We(An("string",t)).throw(me.invalidParameters),r=ue.of(this._iid).requestQueue,s=new VO({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(s)];case 1:return u=_.sent(),d=u.as(WO),p=d.metadata,g=d.ts,this._upsertCachedMetaData(p,g),[2,p]}})})},n.prototype.getAllMetaData=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return t=ue.of(this._iid).requestQueue,r=new VO({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return s=g.sent(),u=s.as(WO),d=u.metadata,p=u.ts,this._upsertCachedMetaData(d,p),[2,d]}})})},n.prototype.createMetaData=function(t){return A(this,void 0,void 0,function(){var r,s,u,d;return R(this,function(p){switch(p.label){case 0:return r=ue.of(this._iid).requestQueue,s=new nre({channelUrl:this.url,channelType:this.channelType,metadata:t}),[4,r.send(s)];case 1:return u=p.sent(),d=u.as(IU).metaData,this._upsertCachedMetaData(d,0),[2,d]}})})},n.prototype.updateMetaData=function(t,r){return r===void 0&&(r=!1),A(this,void 0,void 0,function(){var s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return s=ue.of(this._iid).requestQueue,u=new $re({channelUrl:this.url,channelType:this.channelType,metadata:t,upsert:r}),[4,s.send(u)];case 1:return d=y.sent(),p=d.as(Vre),g=p.metadata,_=p.ts,this._upsertCachedMetaData(g,_),[2,g]}})})},n.prototype.deleteMetaData=function(t){return A(this,void 0,void 0,function(){var r,s,u,d;return R(this,function(p){switch(p.label){case 0:return We(re("string",t)).throw(me.invalidParameters),r=ue.of(this._iid).requestQueue,s=new Wre({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(s)];case 1:return u=p.sent(),d=u.as(Kre).ts,this._removeFromCachedMetaData([t],d),[2]}})})},n.prototype.deleteAllMetaData=function(){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return t=ue.of(this._iid).requestQueue,r=new Qre({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return s=d.sent(),u=s.as(Yre).ts,this._removeFromCachedMetaData(En([],wn(this._cachedMetaData.keys()),!1),u),[2]}})})},n.prototype.getMetaCounters=function(t){return A(this,void 0,void 0,function(){var r,s,u;return R(this,function(d){switch(d.label){case 0:return We(An("string",t)).throw(me.invalidParameters),r=ue.of(this._iid).requestQueue,s=new KO({channelUrl:this.url,channelType:this.channelType,keys:t}),[4,r.send(s)];case 1:return u=d.sent(),[2,u.as(QO).metaCounter]}})})},n.prototype.getAllMetaCounters=function(){return A(this,void 0,void 0,function(){var t,r,s;return R(this,function(u){switch(u.label){case 0:return t=ue.of(this._iid).requestQueue,r=new KO({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,t.send(r)];case 1:return s=u.sent(),[2,s.as(QO).metaCounter]}})})},n.prototype.createMetaCounters=function(t){return A(this,void 0,void 0,function(){var r,s,u;return R(this,function(d){switch(d.label){case 0:return r=ue.of(this._iid).requestQueue,s=new Xre({channelUrl:this.url,channelType:this.channelType,metaCounter:t}),[4,r.send(s)];case 1:return u=d.sent(),[2,u.as(Zre).metaCounter]}})})},n.prototype.updateMetaCounters=function(t,r){return r===void 0&&(r=!1),A(this,void 0,void 0,function(){var s,u,d;return R(this,function(p){switch(p.label){case 0:return s=ue.of(this._iid).requestQueue,u=new qE({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:r}),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(BE).metaCounter]}})})},n.prototype.increaseMetaCounters=function(t){return A(this,void 0,void 0,function(){var r,s,u;return R(this,function(d){switch(d.label){case 0:return r=ue.of(this._iid).requestQueue,s=new qE({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"increase"}),[4,r.send(s)];case 1:return u=d.sent(),[2,u.as(BE).metaCounter]}})})},n.prototype.decreaseMetaCounters=function(t){return A(this,void 0,void 0,function(){var r,s,u;return R(this,function(d){switch(d.label){case 0:return r=ue.of(this._iid).requestQueue,s=new qE({channelUrl:this.url,channelType:this.channelType,metaCounter:t,upsert:!1,mode:"decrease"}),[4,r.send(s)];case 1:return u=d.sent(),[2,u.as(BE).metaCounter]}})})},n.prototype.deleteMetaCounter=function(t){return A(this,void 0,void 0,function(){var r,s;return R(this,function(u){switch(u.label){case 0:return We(re("string",t)).throw(me.invalidParameters),r=ue.of(this._iid).requestQueue,s=new Jre({channelUrl:this.url,channelType:this.channelType,key:t}),[4,r.send(s)];case 1:return u.sent(),[2]}})})},n.prototype.deleteAllMetaCounters=function(){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return t=ue.of(this._iid).requestQueue,r=new eie({channelUrl:this.url,channelType:this.channelType}),[4,t.send(r)];case 1:return s.sent(),[2]}})})},n.prototype.muteUser=function(t,r,s){return A(this,void 0,void 0,function(){return R(this,function(u){return[2,this.muteUserWithUserId(t.userId,r,s)]})})},n.prototype.muteUserWithUserId=function(t,r,s){return A(this,void 0,void 0,function(){var u,d;return R(this,function(p){switch(p.label){case 0:return We(re("string",t)&&re("number",r,!0)&&re("string",s,!0)).throw(me.invalidParameters),u=ue.of(this._iid).requestQueue,d=new nie({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:s}),[4,u.send(d)];case 1:return p.sent(),[2]}})})},n.prototype.unmuteUser=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return[2,this.unmuteUserWithUserId(t.userId)]})})},n.prototype.unmuteUserWithUserId=function(t){return A(this,void 0,void 0,function(){var r,s;return R(this,function(u){switch(u.label){case 0:return We(re("string",t)).throw(me.invalidParameters),r=ue.of(this._iid).requestQueue,s=new tie({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(s)];case 1:return u.sent(),[2]}})})},n.prototype.banUser=function(t,r,s){return A(this,void 0,void 0,function(){return R(this,function(u){return[2,this.banUserWithUserId(t.userId,r,s)]})})},n.prototype.banUserWithUserId=function(t,r,s){return A(this,void 0,void 0,function(){var u,d;return R(this,function(p){switch(p.label){case 0:return We(re("string",t)&&re("number",r,!0)&&re("string",s,!0)).throw(me.invalidParameters),u=ue.of(this._iid).requestQueue,d=new rie({channelUrl:this.url,channelType:this.channelType,userId:t,seconds:r,description:s}),[4,u.send(d)];case 1:return p.sent(),[2]}})})},n.prototype.unbanUser=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return[2,this.unbanUserWithUserId(t.userId)]})})},n.prototype.unbanUserWithUserId=function(t){return A(this,void 0,void 0,function(){var r,s;return R(this,function(u){switch(u.label){case 0:return We(re("string",t)).throw(me.invalidParameters),r=ue.of(this._iid).requestQueue,s=new iie({channelUrl:this.url,channelType:this.channelType,userId:t}),[4,r.send(s)];case 1:return u.sent(),[2]}})})},n.prototype.freeze=function(){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return t=ue.of(this._iid).requestQueue,r=new YO({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,t.send(r)];case 1:return s.sent(),this.isFrozen=!0,[2]}})})},n.prototype.unfreeze=function(){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return t=ue.of(this._iid).requestQueue,r=new YO({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,t.send(r)];case 1:return s.sent(),this.isFrozen=!1,[2]}})})},n.prototype.getMessagesByTimestamp=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return r=ae(ae({},MU),r),We(re("number",t)&&mre(r)).throw(me.invalidParameters),[4,Vr.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.getMessageChangeLogsSinceTimestamp=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return r=ae(ae({},dw),r),We(re("number",t)&&PO(r)).throw(me.invalidParameters),[4,Vr.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.getMessageChangeLogsSinceToken=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return r=ae(ae({},dw),r),We(re("string",t)&&PO(r)).throw(me.invalidParameters),[4,Vr.of(this._iid).getMessageChangelogs(this.url,this.channelType,t,r)];case 1:return[2,s.sent()]}})})},n.prototype._createPendingSendableMessagePayload=function(t,r,s){var u=ue.of(this._iid).sessionManager;return In({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,sorted_metaarray:t.metaArrays?t.metaArrays.map(function(d){return Bi.payloadify(d)}):null,apple_critical_alert_options:t.appleCriticalAlertOptions?eo.payloadify(t.appleCriticalAlertOptions):null,created_at:s,user:Wf.payloadify(u.currentUser),req_id:r,request_state:Nt.PENDING,mentioned_user_ids:t.mentionedUserIds,mentioned_users:t.mentionedUsers})},n.prototype._createPendingUserMessage=function(t,r,s){var u,d,p={};if(t.translationTargetLanguages)try{for(var g=tn(t.translationTargetLanguages),_=g.next();!_.done;_=g.next())p[_.value]=""}catch(x){u={error:x}}finally{try{_&&!_.done&&(d=g.return)&&d.call(g)}finally{if(u)throw u.error}}var y=In(ae(ae({},this._createPendingSendableMessagePayload(t,r,s)),{type:sr.USER,message:t.message,translations:p})),E=new Lr(this._iid,y);return E.messageParams=t,E},n.prototype._createPendingScheduledUserMessage=function(t,r,s){var u=this._createPendingUserMessage(t,r,s);return u.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},u},n.prototype._createPendingFileMessage=function(t,r,s){var u=In(ae(ae({},this._createPendingSendableMessagePayload(t,r,s)),{type:sr.FILE,url:t.fileUrl,file:{name:t.fileName,size:t.fileSize,type:t.mimeType,data:t.data},thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(p){return{url:"",width:p.maxWidth,height:p.maxHeight}}):[]})),d=new Or(this._iid,u);return d.messageParams=t,d},n.prototype._createPendingScheduledFileMessage=function(t,r,s){var u=this._createPendingFileMessage(t,r,s);return u.scheduledInfo={scheduledMessageId:0,scheduledAt:t.scheduledAt,scheduledMessageParams:t},u},n.prototype._markMessageAsFailed=function(t,r,s){s===void 0&&(s=!1),t.errorCode=r.code,r.code===Yn.REQUEST_CANCELED?t.sendingStatus=Nt.CANCELED:s||(t.sendingStatus=Nt.FAILED)},n.prototype.sendUserMessage=function(t){return t=ae(ae({},UU),t),We(LU(t)).throw(me.invalidParameters),this._sendUserMessage(t)},n.prototype._sendUserMessage=function(t,r,s){var u=this;r===void 0&&(r=Date.now()),s===void 0&&(s=null);var d=ue.of(this._iid),p=d.dispatcher,g=d.requestQueue,_=s,y=new Ao;if(!_){_=this._generateRequestId();var E=ue.of(this._iid).dispatcher;ja(2).then(function(){var k=u._createPendingUserMessage(t,_,r);E.dispatch(new Yt({messages:[k],source:Cn.EVENT_MESSAGE_SENT_PENDING})),cn(function(){return A(u,void 0,void 0,function(){return R(this,function(T){return[2,y._trigger(null,k)]})})})})}var x=new lie(ae({channelUrl:this.url,channelType:this.channelType,reqId:_},t));return g.send(x).then(function(k){var T=k.as(yk).message;p.dispatch(new Yt({messages:[T],source:Cn.EVENT_MESSAGE_SENT_SUCCESS})),cn(function(){return A(u,void 0,void 0,function(){return R(this,function(I){return[2,y._trigger(null,T)]})})})}).catch(function(k){if(bs(k))throw k;ja(2).then(function(){var T=u._createPendingUserMessage(t,_,r),I=ue.of(u._iid).cacheContext.localCacheEnabled&&kv(k.code);u._markMessageAsFailed(T,k,I),p.dispatch(new Yt({messages:[T],source:T.sendingStatus===Nt.PENDING?Cn.REQUEST_RESEND_MESSAGE:Cn.EVENT_MESSAGE_SENT_FAILED})),cn(function(){return A(u,void 0,void 0,function(){return R(this,function(P){return[2,y._trigger(k,T)]})})})})}),y},n.prototype._autoResendUserMessage=function(t){return We(t instanceof Lr).throw(me.invalidParameters),this._sendUserMessage(t.messageParams,t.createdAt,t.reqId)},n.prototype.resendUserMessage=function(t){var r;return A(this,void 0,void 0,function(){var s,u;return R(this,function(d){var p;return We(t instanceof Lr&&!t.scheduledInfo).throw(me.invalidParameters),s=new ji,u=(r=t.messageParams)!==null&&r!==void 0?r:In({data:(p=t).data,customType:p.customType,mentionType:p.mentionType,mentionedUsers:p.mentionedUsers,mentionedUserIds:p.mentionedUserIds,mentionedMessageTemplate:p.mentionedMessageTemplate,metaArrays:p.metaArrays,parentMessageId:p.parentMessageId,appleCriticalAlertOptions:p.appleCriticalAlertOptions,message:p.message,translationTargetLanguages:Object.keys(p.translations)}),this._sendUserMessage(u).onFailed(function(g){return s.reject(g)}).onSucceeded(function(g){return s.resolve(g)}),[2,s.promise]})})},n.prototype.updateUserMessage=function(t,r){return A(this,void 0,void 0,function(){var s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return r=ae(ae({},PU),r),We(re("number",t)&&FU(r)).throw(me.invalidParameters),s=ue.of(this._iid),u=s.dispatcher,d=s.requestQueue,p=new XO(ae({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,d.send(p)];case 1:return g=y.sent(),_=g.as(Tv).message,u.dispatch(new Yt({messages:[_],source:Cn.EVENT_MESSAGE_UPDATED})),[2,_]}})})},n.prototype.copyUserMessage=function(t,r){var s,u,d;return A(this,void 0,void 0,function(){var p,g;return R(this,function(_){return We(t instanceof n&&r instanceof Lr&&r.sendingStatus===Nt.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(me.invalidParameters),p=new ji,g=(s=r.messageParams)!==null&&s!==void 0?s:ae(ae({},r),{mentionType:r.mentionType,mentionedUserIds:(u=r.mentionedUserIds)!==null&&u!==void 0?u:(d=r.mentionedUsers)===null||d===void 0?void 0:d.map(function(y){return y.userId}),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:Zl.DEFAULT,parentMessageId:null,isReplyToChannel:!1}),t._sendUserMessage(g).onSucceeded(function(y){return p.resolve(y)}).onFailed(function(y){return p.reject(y)}),[2,p.promise]})})},n.prototype.translateUserMessage=function(t,r){return A(this,void 0,void 0,function(){var s,u,d;return R(this,function(p){switch(p.label){case 0:return We(t instanceof Lr&&t.messageId>0&&An("string",r)).throw(me.invalidParameters),s=ue.of(this._iid).requestQueue,u=new gie({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,translationTargetLanguages:r}),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(mie).message]}})})},n.prototype._createScheduledUserMessage=function(t,r){var s=this,u=ue.of(this._iid),d=u.dispatcher,p=u.requestQueue,g=Date.now(),_=this._generateRequestId();ja(2).then(function(){var E=s._createPendingScheduledUserMessage(t,_,g);d.dispatch(new Yt({messages:[E],source:Cn.EVENT_MESSAGE_SENT_PENDING})),cn(function(){return A(s,void 0,void 0,function(){return R(this,function(x){return[2,r._trigger(null,E)]})})})});var y=new vie(ae({reqId:_,channelType:this.channelType,channelUrl:this.url},t));p.send(y).then(function(E){var x=E.as(WU).message;d.dispatch(new Yt({messages:[x],source:Cn.EVENT_MESSAGE_SENT_SUCCESS})),cn(function(){return A(s,void 0,void 0,function(){return R(this,function(k){return[2,r._trigger(null,x)]})})})}).catch(function(E){if(bs(E))throw E;ja(2).then(function(){var x=s._createPendingScheduledUserMessage(t,_,g);s._markMessageAsFailed(x,E),d.dispatch(new Yt({messages:[x],source:Cn.EVENT_MESSAGE_SENT_FAILED})),cn(function(){return A(s,void 0,void 0,function(){return R(this,function(k){return[2,r._trigger(E,x)]})})})})})},n.prototype.sendFileMessage=function(t){return t=ae(ae({},jO),t),We(GO(t)).throw(me.invalidParameters),this._sendFileMessage(t)},n.prototype._sendFileMessage=function(t,r,s){var u=this;r===void 0&&(r=Date.now()),s===void 0&&(s=null);var d=ue.of(this._iid).dispatcher,p=Vr.of(this._iid).fileMessageQueue,g=s,_=new Ao;return g||(g=this._generateRequestId(),ja(2).then(function(){var y=u._createPendingFileMessage(t,g,r);d.dispatch(new Yt({messages:[y],source:Cn.EVENT_MESSAGE_SENT_PENDING})),cn(function(){return A(u,void 0,void 0,function(){return R(this,function(E){return[2,_._trigger(null,y)]})})})})),p.request(this,g,t).then(function(y){d.dispatch(new Yt({messages:[y],source:Cn.EVENT_MESSAGE_SENT_SUCCESS})),cn(function(){return A(u,void 0,void 0,function(){return R(this,function(E){return[2,_._trigger(null,y)]})})})}).catch(function(y){if(bs(y))throw y;ja(2).then(function(){var E=u._createPendingFileMessage(t,g,r),x=ue.of(u._iid).cacheContext.localCacheEnabled&&kv(y.code);u._markMessageAsFailed(E,y,x),d.dispatch(new Yt({messages:[E],source:E.sendingStatus===Nt.PENDING?Cn.REQUEST_RESEND_MESSAGE:Cn.EVENT_MESSAGE_SENT_FAILED})),cn(function(){return A(u,void 0,void 0,function(){return R(this,function(k){return[2,_._trigger(y,E)]})})})})}),_},n.prototype._autoResendFileMessage=function(t){We(t instanceof Or).throw(me.invalidParameters);var r=ue.of(this._iid).logger;return r.debug("autoResendFileMessage pending",t),this._sendFileMessage(t.messageParams,t.createdAt,t.reqId).onFailed(function(s){r.debug("autoResendFileMessage failed",s)}).onSucceeded(function(s){r.debug("autoResendFileMessage success",s)})},n.prototype._createScheduledFileMessage=function(t,r,s,u){var d=this,p=ue.of(this._iid),g=p.dispatcher,_=p.requestQueue,y=new _ie(ae(ae({reqId:s,channelType:this.channelType,channelUrl:this.url},t),{fileUrl:t.fileUrl,requireAuth:t.requireAuth}));_.send(y).then(function(E){var x=E.as(bie).message;g.dispatch(new Yt({messages:[x],source:Cn.EVENT_MESSAGE_SENT_SUCCESS})),cn(function(){return A(d,void 0,void 0,function(){return R(this,function(k){return[2,r._trigger(null,x)]})})})}).catch(function(E){if(bs(E))throw E;ja(2).then(function(){var x=d._createPendingScheduledFileMessage(t,s,u);d._markMessageAsFailed(x,E),g.dispatch(new Yt({messages:[x],source:Cn.EVENT_MESSAGE_SENT_FAILED})),cn(function(){return A(d,void 0,void 0,function(){return R(this,function(k){return[2,r._trigger(E,x)]})})})})})},n.prototype.sendFileMessages=function(t){var r,s;We(t.every(function(_){return GO(ae(ae({},jO),_))})).throw(me.invalidParameters);var u=new Ao;try{for(var d=tn(t),p=d.next();!p.done;p=d.next()){var g=p.value;this.sendFileMessage(g).onPending(function(_){return u._trigger(null,_)}).onFailed(function(_,y){return u._trigger(_,y)}).onSucceeded(function(_){return u._trigger(null,_)})}}catch(_){r={error:_}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}return u},n.prototype.resendFileMessage=function(t,r){var s;return A(this,void 0,void 0,function(){var u,d;return R(this,function(p){return We(t instanceof Or&&r instanceof Blob&&!t.scheduledInfo).throw(me.invalidParameters),u=new ji,d=(s=t.messageParams)!==null&&s!==void 0?s:function(g,_){return _===void 0&&(_=null),In({data:g.data,customType:g.customType,mentionType:g.mentionType,mentionedUsers:g.mentionedUsers,mentionedUserIds:g.mentionedUserIds,metaArrays:g.metaArrays,parentMessageId:g.parentMessageId,appleCriticalAlertOptions:g.appleCriticalAlertOptions,file:_,fileUrl:g.url,fileName:g.name,fileSize:g.size,mimeType:g.type,thumbnailSizes:g.thumbnails.map(function(y){return{maxWidth:y.width,maxHeight:y.height}})})}(t,r),this._sendFileMessage(d).onFailed(function(g){return u.reject(g)}).onSucceeded(function(g){return u.resolve(g)}),[2,u.promise]})})},n.prototype.updateFileMessage=function(t,r){return A(this,void 0,void 0,function(){var s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return r=ae(ae({},Are),r),We(re("number",t)&&function(E){return bk(E)}(r)).throw(me.invalidParameters),s=ue.of(this._iid),u=s.dispatcher,d=s.requestQueue,p=new uie(ae({channelType:this.channelType,channelUrl:this.url,messageId:t},r)),[4,d.send(p)];case 1:return g=y.sent(),_=g.as(Ek).message,u.dispatch(new Yt({messages:[_],source:Cn.EVENT_MESSAGE_UPDATED})),[2,_]}})})},n.prototype.cancelUploadingFileMessage=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return We(re("string",t)).throw(me.invalidParameters),Vr.of(this._iid).fileMessageQueue.cancel(this,t),[2,!0]})})},n.prototype.copyFileMessage=function(t,r){var s,u;return A(this,void 0,void 0,function(){var d,p;return R(this,function(g){return We(t instanceof n&&r instanceof Or&&r.sendingStatus===Nt.SUCCEEDED&&t.url===r.channelUrl&&!r.scheduledInfo).throw(me.invalidParameters),d=new ji,p=ae(ae({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(s=r.mentionedUserIds)!==null&&s!==void 0?s:(u=r.mentionedUsers)===null||u===void 0?void 0:u.map(function(_){return _.userId}),pushNotificationDeliveryOption:Zl.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:r.thumbnails.map(function(_){return{maxWidth:_.width,maxHeight:_.height}}),requireAuth:r.requireAuth}),t._sendFileMessage(p).onSucceeded(function(_){return d.resolve(_)}).onFailed(function(_){return d.reject(_)}),[2,d.promise]})})},n.prototype.deleteMessage=function(t){return A(this,void 0,void 0,function(){var r,s;return R(this,function(u){switch(u.label){case 0:return We(t instanceof Tr).throw(me.invalidParameters),t.messageId>0?(r=ue.of(this._iid).requestQueue,s=new cie({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId}),[4,r.send(s)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},n.prototype.addReaction=function(t,r){return A(this,void 0,void 0,function(){var s,u,d;return R(this,function(p){switch(p.label){case 0:return We(t instanceof Cv&&t.messageId>0&&re("string",r)).throw(me.invalidParameters),s=ue.of(this._iid).requestQueue,u=new die({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(hie).reactionEvent]}})})},n.prototype.deleteReaction=function(t,r){return A(this,void 0,void 0,function(){var s,u,d;return R(this,function(p){switch(p.label){case 0:return We(t instanceof Cv&&t.messageId>0&&re("string",r)).throw(me.invalidParameters),s=ue.of(this._iid).requestQueue,u=new pie({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:r}),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(fie).reactionEvent]}})})},n.prototype._updateMessageMetaArray=function(t,r,s,u){return A(this,void 0,void 0,function(){var d,p,g,_,y,E;return R(this,function(x){switch(x.label){case 0:return d=ue.of(this._iid),p=d.dispatcher,g=d.requestQueue,_=new XO({channelType:this.channelType,channelUrl:this.url,messageId:t,metaArrayParams:{array:r,mode:s,upsert:u}}),[4,g.send(_)];case 1:return y=x.sent(),E=y.as(Tv).message,p.dispatch(new Yt({messages:[E],source:Cn.EVENT_MESSAGE_UPDATED})),[2,E]}})})},n.prototype.createMessageMetaArrayKeys=function(t,r){return A(this,void 0,void 0,function(){var s;return R(this,function(u){return We(t instanceof Tr&&t.messageId>0&&An("string",r)).throw(me.invalidParameters),s=r.map(function(d){return new Bi({key:d})}),[2,this._updateMessageMetaArray(t.messageId,s,"add",!0)]})})},n.prototype.deleteMessageMetaArrayKeys=function(t,r){return A(this,void 0,void 0,function(){var s;return R(this,function(u){return We(t instanceof Tr&&t.messageId>0&&An("string",r)).throw(me.invalidParameters),s=r.map(function(d){return new Bi({key:d})}),[2,this._updateMessageMetaArray(t.messageId,s,"remove",!0)]})})},n.prototype.addMessageMetaArrayValues=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){return We(t instanceof Tr&&t.messageId>0&&r.every(function(u){return u instanceof Bi})).throw(me.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"add",!0)]})})},n.prototype.removeMessageMetaArrayValues=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){return We(t instanceof Tr&&t.messageId>0&&r.every(function(u){return u instanceof Bi})).throw(me.invalidParameters),[2,this._updateMessageMetaArray(t.messageId,r,"remove",!0)]})})},n.prototype.report=function(t,r){return A(this,void 0,void 0,function(){var s,u,d,p;return R(this,function(g){switch(g.label){case 0:return We(On(vf,t)&&re("string",r)).throw(me.invalidParameters),s=ue.of(this._iid),u=s.sdkState,d=s.requestQueue,p=new aie({channelUrl:this.url,channelType:this.channelType,userId:u.userId,category:t,description:r}),[4,d.send(p)];case 1:return g.sent(),[2]}})})},n.prototype.reportUser=function(t,r,s){return A(this,void 0,void 0,function(){var u,d,p,g;return R(this,function(_){switch(_.label){case 0:return We(t instanceof Pn&&On(vf,r)&&re("string",s)).throw(me.invalidParameters),u=ue.of(this._iid),d=u.sdkState,p=u.requestQueue,g=new sie({channelUrl:this.url,channelType:this.channelType,userId:d.userId,offendingUserId:t.userId,category:r,description:s}),[4,p.send(g)];case 1:return _.sent(),[2]}})})},n.prototype.reportMessage=function(t,r,s){return A(this,void 0,void 0,function(){var u,d,p,g;return R(this,function(_){switch(_.label){case 0:return We(t instanceof Tr&&On(vf,r)&&re("string",s)).throw(me.invalidParameters),u=ue.of(this._iid),d=u.sdkState,p=u.requestQueue,g=new oie({channelUrl:this.url,channelType:this.channelType,userId:d.userId,offendingUserId:t.sender.userId,messageId:t.messageId,category:r,description:s}),[4,p.send(g)];case 1:return _.sent(),[2]}})})},n}(Ts),ea,lc,Ta,mw;(function(e){e.SUCCESS="success",e.PENDING="pending",e.ERROR="error"})(ea||(ea={})),function(e){e.DEFAULT="default",e.ALL="all",e.MENTION_ONLY="mention_only",e.OFF="off"}(lc||(lc={})),function(e){e.FCM="gcm",e.APNS="apns",e.UNKNOWN="unknown"}(Ta||(Ta={})),function(e){e.ALTERNATIVE="alternative",e.DEFAULT="default"}(mw||(mw={}));var Ar,_f,vw,KU=100,QU="GroupChannel",Eie="url",YU=100,wie="Message",xie="messageId";(function(e){e.LATEST_LAST_MESSAGE="latest_last_message",e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(Ar||(Ar={})),function(e){e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(_f||(_f={})),function(e){e.CREATED_AT="created_at",e.SCHEDULED_AT="scheduled_at"}(vw||(vw={}));var $r,jm=function(e){switch(e){case Ar.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Ar.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Ar.CHANNEL_NAME_ALPHABETICAL:return["name"]}},Kf=function(){function e(){this.messageTypeFilter=Wr.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=Mi.NONE}return e.prototype.clone=function(){var n=new e,t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){n[r]=t[r]}),n},e.prototype.match=function(n){switch(this.messageTypeFilter){case Wr.USER:if(n.messageType!==sr.USER)return!1;break;case Wr.FILE:if(n.messageType!==sr.FILE)return!1;break;case Wr.ADMIN:if(n.messageType!==sr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(n.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(n instanceof Tr)||!this.senderUserIdsFilter.includes(n.sender.userId)))return!1;switch(this.replyType){case Mi.NONE:if(n.parentMessageId>0)return!1;break;case Mi.ONLY_REPLY_TO_CHANNEL:if(n instanceof Tr&&n.parentMessageId>0&&!n.replyToChannel)return!1}return!0},e}();(function(e){e.CHANNEL_LATEST="channel_latest",e.NEWEST_CHILD_MESSAGE="newest_child_message"})($r||($r={}));var Qf,zo=function(e){switch(e){case $r.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case $r.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},kie=ae(ae({},UU),{scheduledAt:null}),Sie=function(e){return LU(e)&&re("number",e.scheduledAt,!0)},Cie=ae(ae({},mk),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Tie=function(e){return vk(e)&&re("number",e.scheduledAt)&&(li(e.file)||re("string",e.fileUrl))&&re("string",e.fileName,!0)&&re("string",e.mimeType,!0)&&re("number",e.fileSize,!0)&&(e.thumbnailSizes===null||e.thumbnailSizes.every(function(n){return re("object",n)&&n.maxWidth>0&&n.maxHeight>0}))},Iie="UnsentMessage",Nie="reqId",ZO={},wk=function(e){function n(t,r){var s=r.sdkState,u=r.cacheContext,d=e.call(this,t)||this;return d._sdkState=s,d._cacheContext=u,ZO[t]=d,d}return G(n,e),n.of=function(t){return ZO[t]},Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t&&t.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t){if(t.messageId>0)throw me.invalidParameters;var r,s=ae({},t.serialize());return t instanceof Lr?(t.messageParams&&(s.messageParams=qO(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(s.scheduledInfo.scheduledMessageParams=(r=t.scheduledInfo.scheduledMessageParams,ae(ae({},qO(r)),{scheduledAt:r.scheduledAt})))):t instanceof Or&&(t.messageParams&&(s.messageParams=BO(t.messageParams)),t.scheduledInfo&&t.scheduledInfo.scheduledMessageParams&&(s.scheduledInfo.scheduledMessageParams=function(u){return ae(ae({},BO(u)),{scheduledAt:u.scheduledAt})}(t.scheduledInfo.scheduledMessageParams))),s},n.prototype._deserialize=function(t){return t?(t=ae(ae({},t),{messageId:parseInt(t.messageId)}),Vr.of(this._iid).buildMessageFromSerializedData(t)):null},n.prototype.get=function(t){return A(this,void 0,void 0,function(){var r;return R(this,function(s){switch(s.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=s.sent())return[2,this._deserialize(r)];s.label=2;case 2:return[2,null]}})})},n.prototype.fetch=function(t){var r=t.channelUrl,s=r===void 0?null:r,u=t.filter,d=u===void 0?new Kf:u,p=t.order,g=p===void 0?$r.CHANNEL_LATEST:p,_=t.sendingStatus,y=_===void 0?null:_,E=t.backward,x=E!==void 0&&E,k=t.parentMessageId,T=k===void 0?null:k;return A(this,void 0,void 0,function(){var I,P,N,O,U=this;return R(this,function(L){switch(L.label){case 0:return this.localCacheEnabled?(I=zo(g),P={"/where":function(ee){return!!(g!==$r.NEWEST_CHILD_MESSAGE||T&&ee.parentMessageId!==0&&ee.parentMessageId===T)&&d.match(U._deserialize(ee))}},s&&(P.channelUrl=s),y&&(P.sendingStatus=y),N={where:P,index:I,backward:x},[4,this.collection.query(N)]):[3,3];case 1:return[4,L.sent().fetch({})];case 2:return O=L.sent(),[2,Promise.all(O.map(function(ee){return A(U,void 0,void 0,function(){var V,J,Y,ye,ve,Ue;return R(this,function(Ne){switch(Ne.label){case 0:return V=Vr.of(this._iid),J=this._deserialize(ee),(Y=ee.messageParams)?J instanceof Lr?(J.messageParams=V.buildUserMessageCreateParamsFromSerializedData(Y,J),[3,4]):[3,1]:[3,4];case 1:return J instanceof Or?Y.fileKey&&typeof Y.fileKey=="string"&&fw(Y.fileType)?(ye=Y,[4,this.collection.getBlob(Y.fileKey)]):[3,3]:[3,4];case 2:ye.file=Ne.sent(),Ne.label=3;case 3:J.messageParams=V.buildFileMessageCreateParamsFromSerializedData(Y,J),Ne.label=4;case 4:return J.scheduledInfo&&ee.scheduledInfo&&ee.scheduledInfo.scheduledMessageParams?J instanceof Lr?(ve=ee.scheduledInfo.scheduledMessageParams,J.scheduledInfo.scheduledMessageParams=V.buildScheduledUserMessageCreateParamsFromSerializedData(ve,J),[3,8]):[3,5]:[3,8];case 5:return J instanceof Or?(ve=ee.scheduledInfo.scheduledMessageParams).fileKey&&typeof ve.fileKey=="string"&&fw(ve.fileType)?(Ue=ve,[4,this.collection.getBlob(ve.fileKey)]):[3,7]:[3,8];case 6:Ue.file=Ne.sent(),Ne.label=7;case 7:J.scheduledInfo.scheduledMessageParams=V.buildScheduledFileMessageCreateParamsFromSerializedData(ve,J),Ne.label=8;case 8:return[2,J]}})})}))];case 3:return[2,[]]}})})},n.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new Kf),A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return[4,this.fetch({filter:r,order:$r.NEWEST_CHILD_MESSAGE,channelUrl:t.channelUrl,backward:!1,parentMessageId:t.messageId})];case 1:return[2,s.sent()]}})})},n.prototype.upsert=function(t){return A(this,void 0,void 0,function(){var r,s=this;return R(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,3];case 1:return u.sent(),r=t.map(function(d){return s._serialize(d)}),[4,this.collection.upsertMany(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})},n.prototype.upsertChildMessages=function(t){return A(this,void 0,void 0,function(){var r=this;return R(this,function(s){switch(s.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(u){return A(r,void 0,void 0,function(){var d,p;return R(this,function(g){switch(g.label){case 0:return d=[],((p=u.threadInfo)===null||p===void 0?void 0:p.replyCount)>0?[4,this.getAllChildMessages(u)]:[3,2];case 1:d=g.sent(),g.label=2;case 2:return d.length>0?(d.forEach(function(_){return _.applyParentMessage(u)}),[4,this.upsert(d)]):[3,4];case 3:g.sent(),g.label=4;case 4:return[2]}})})}))]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:if(!this.localCacheEnabled)return[3,8];_.label=1;case 1:_.trys.push([1,6,7,8]),r=tn(t),s=r.next(),_.label=2;case 2:return s.done?[3,5]:(u=s.value,[4,this.collection.remove(u)]);case 3:_.sent(),_.label=4;case 4:return s=r.next(),[3,2];case 5:return[3,8];case 6:return d=_.sent(),p={error:d},[3,8];case 7:try{s&&!s.done&&(g=r.return)&&g.call(r)}finally{if(p)throw p.error}return[7];case 8:return[2]}})})},n.prototype.removeMessagesOfChannel=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},n.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.saveBlobs=function(t){return A(this,void 0,void 0,function(){var r=this;return R(this,function(s){switch(s.label){case 0:return[4,Promise.all(t.map(function(u){return A(r,void 0,void 0,function(){var d,p,g;return R(this,function(_){switch(_.label){case 0:return u instanceof Or?u.messageParams&&(d=u.messageParams).file&&pw(d.file)?[4,this.collection.saveBlob(d.file,u.reqId)]:[3,2]:[3,4];case 1:g=_.sent(),d.fileKey=g,d.fileType=oh.BLOB,_.label=2;case 2:return u.scheduledInfo&&u.scheduledInfo.scheduledMessageParams&&(p=u.scheduledInfo.scheduledMessageParams).file&&pw(p.file)?[4,this.collection.saveBlob(p.file,u.reqId)]:[3,4];case 3:g=_.sent(),p.fileKey=g,p.fileType=oh.BLOB,_.label=4;case 4:return[2]}})})}))];case 1:return s.sent(),[2]}})})},n}(Ts),JO={},XU=function(e){function n(t,r){var s=r.sdkState,u=r.cacheContext,d=r.unsentMessageCache,p=e.call(this,t)||this;return p._sdkState=s,p._cacheContext=u,p._unsentMessageCache=d,JO[t]=p,p}return G(n,e),n.of=function(t){return JO[t]},Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t){return ae(ae({},t.serialize()),{messageId:"".concat(t.messageId)})},n.prototype._deserialize=function(t){return t=ae(ae({},t),{messageId:parseInt(t.messageId)}),Vr.of(this._iid).buildMessageFromSerializedData(t)},n.prototype.get=function(t){return A(this,void 0,void 0,function(){var r;return R(this,function(s){switch(s.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(t))]:[3,2];case 1:if(r=s.sent())return[2,this._deserialize(r)];s.label=2;case 2:return[2,null]}})})},n.prototype.fetch=function(t){var r=t.channelUrl,s=t.token,u=t.limit,d=u===void 0?100:u,p=t.filter,g=p===void 0?new Kf:p,_=t.order,y=_===void 0?$r.CHANNEL_LATEST:_,E=t.backward,x=E!==void 0&&E,k=t.parentMessageId,T=k===void 0?null:k;return A(this,void 0,void 0,function(){var I,P,N,O=this;return R(this,function(U){switch(U.label){case 0:return this.localCacheEnabled?(I=zo(y),P={where:{channelUrl:r,"/where":function(L){if(s)switch(y){case $r.CHANNEL_LATEST:if(!x&&L.createdAt>s||x&&L.createdAt<s)return!1;break;case $r.NEWEST_CHILD_MESSAGE:if(!T||L.parentMessageId===0||L.parentMessageId!==T)return!1}return g.match(O._deserialize(L))}},index:I,backward:x},[4,this.collection.query(P)]):[3,3];case 1:return[4,U.sent().fetch({limit:d})];case 2:return N=U.sent(),[2,Promise.all(N.map(function(L){return A(O,void 0,void 0,function(){var ee,V,J;return R(this,function(Y){switch(Y.label){case 0:return ee=this._deserialize(L),(V=L.messageParams)?ee instanceof Lr?(ee.messageParams=V,[3,4]):[3,1]:[3,4];case 1:return ee instanceof Or?V.fileKey&&typeof V.fileKey=="string"&&fw(V.fileType)?(J=V,[4,this.collection.getBlob(V.fileKey)]):[3,3]:[3,4];case 2:J.file=Y.sent(),Y.label=3;case 3:ee.messageParams=V,Y.label=4;case 4:return[2,ee]}})})}))];case 3:return[2,[]]}})})},n.prototype.getAllChildMessages=function(t,r){return r===void 0&&(r=new Kf),A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return[4,this.fetch({channelUrl:t.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:$r.NEWEST_CHILD_MESSAGE,parentMessageId:t.messageId})];case 1:return[2,s.sent()]}})})},n.prototype.upsert=function(t){return A(this,void 0,void 0,function(){var r,s=this;return R(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(t)]:[3,5];case 1:return u.sent(),r=t.map(function(d){return s._serialize(d)}),[4,this.collection.upsertMany(r)];case 2:return u.sent(),[4,this.upsertChildMessages(t)];case 3:return u.sent(),[4,this._unsentMessageCache.upsertChildMessages(t)];case 4:u.sent(),u.label=5;case 5:return[2]}})})},n.prototype.upsertChildMessages=function(t){return A(this,void 0,void 0,function(){var r=this;return R(this,function(s){switch(s.label){case 0:return this.localCacheEnabled?[4,Promise.all(t.map(function(u){return A(r,void 0,void 0,function(){var d,p;return R(this,function(g){switch(g.label){case 0:return d=[],((p=u.threadInfo)===null||p===void 0?void 0:p.replyCount)>0?[4,this.getAllChildMessages(u)]:[3,2];case 1:d=g.sent(),g.label=2;case 2:return d.length>0?(d.forEach(function(_){return _.applyParentMessage(u)}),[4,this.upsert(d)]):[3,4];case 3:g.sent(),g.label=4;case 4:return[2]}})})}))]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:if(!this.localCacheEnabled)return[3,8];_.label=1;case 1:_.trys.push([1,6,7,8]),r=tn(t),s=r.next(),_.label=2;case 2:return s.done?[3,5]:(u=s.value,[4,this.collection.remove("".concat(u))]);case 3:_.sent(),_.label=4;case 4:return s=r.next(),[3,2];case 5:return[3,8];case 6:return d=_.sent(),p={error:d},[3,8];case 7:try{s&&!s.done&&(g=r.return)&&g.call(r)}finally{if(p)throw p.error}return[7];case 8:return[2]}})})},n.prototype.removeMessagesOfChannel=function(t){return A(this,void 0,void 0,function(){var r;return R(this,function(s){switch(s.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t},index:zo($r.CHANNEL_LATEST)})]:[3,6];case 1:return s.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync"))];case 2:return s.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/sync.meta"))];case 3:return s.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs"))];case 4:return s.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(t,"/message/changelogs.meta"))];case 5:s.sent(),s.label=6;case 6:return[2]}})})},n.prototype.removeUnderOffset=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:t,createdAt:{"<":r}},index:zo($r.CHANNEL_LATEST)})]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},n.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.countBetween=function(t,r,s){return A(this,void 0,void 0,function(){var u,d=this;return R(this,function(p){switch(p.label){case 0:return this.localCacheEnabled?(u=zo($r.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:t,"/where":function(g){var _=d._deserialize(g);return s.includes(_.createdAt)&&r.match(_)}},index:u}).count()]):[3,2];case 1:return[2,p.sent()];case 2:return[2,0]}})})},n.prototype.saveBlobs=function(t){return A(this,void 0,void 0,function(){var r=this;return R(this,function(s){switch(s.label){case 0:return[4,Promise.all(t.map(function(u){return A(r,void 0,void 0,function(){var d,p;return R(this,function(g){switch(g.label){case 0:return u instanceof Or&&u.messageParams&&(d=u.messageParams).file&&pw(d.file)?[4,this.collection.saveBlob(d.file,u.reqId)]:[3,2];case 1:p=g.sent(),d.fileKey=p,g.label=2;case 2:return[2]}})})}))];case 1:return s.sent(),[2]}})})},n}(Ts),ZU=function(e){function n(t){var r=t.message,s=e.call(this)||this;return s.message=r,s}return G(n,e),n}(Fr),jE={},qd=function(){function e(n,t){var r=t.localCacheEnabled,s=t.dispatcher,u=t.sdkState,d=t.logger,p=this;jE[n]=this,this._iid=n,jE[n]=this,this._localCacheEnabled=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=s,this._logger=d,this._sdkState=u,this._localCacheEnabled&&s.on(function(g){if(g instanceof Cs)switch(g.stateType){case _t.CONNECTED:p._isProcessingAutoResend||p.processAutoResendRegisteredPendingMessages().then(function(){return p._processNextAutoResend()});break;case _t.DISCONNECTED:p._isProcessingAutoResend=!1}})}return e.of=function(n){return jE[n]},e.prototype.processNonAutoResendRegisteredPendingMessages=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d;return R(this,function(p){switch(p.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:n=p.sent();try{for(t=tn(n),r=t.next();!r.done;r=t.next())(s=r.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",s.reqId),s.sendingStatus=Nt.FAILED,s.errorCode=Yn.ACK_TIMEOUT,this._dispatcher.dispatch(new Yt({messages:[s],source:Cn.LOCAL_MESSAGE_FAILED})))}catch(g){u={error:g}}finally{try{r&&!r.done&&(d=t.return)&&d.call(t)}finally{if(u)throw u.error}}return[2]}})})},e.prototype.processAutoResendRegisteredPendingMessages=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:n=_.sent();try{for(t=tn(n),r=t.next();!r.done;r=t.next())(s=r.value).errorCode&&kv(s.errorCode)&&(u=new Date().getTime(),d=s.createdAt+2592e5,u<=d?this._autoResendQueue.map(function(y){return y.reqId}).indexOf(s.reqId)<0&&this._autoResendQueue.push(s):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(d).toLocaleString()),s.sendingStatus=Nt.FAILED,this._dispatcher.dispatch(new Yt({messages:[s],source:Cn.LOCAL_MESSAGE_FAILED}))))}catch(y){p={error:y}}finally{try{r&&!r.done&&(g=t.return)&&g.call(t)}finally{if(p)throw p.error}}return[2]}})})},e.prototype.completeCurrentAndProcessNextAutoResend=function(n){if(this._localCacheEnabled&&(n.sendingStatus===Nt.SUCCEEDED||n.sendingStatus===Nt.FAILED&&!kv(n.errorCode))){var t=this.indexOf(n);t>=0&&this._autoResendQueue.splice(t,1),t===0&&this._processNextAutoResend()}},e.prototype._fetchAllCachedPendingMessages=function(){return A(this,void 0,void 0,function(){var n,t;return R(this,function(r){switch(r.label){case 0:return(n=wk.of(this._iid))?[4,n.fetch({sendingStatus:Nt.PENDING,backward:!0})]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=[],r.label=3;case 3:return[2,t]}})})},e.prototype.indexOf=function(n){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(t){return t.reqId}).indexOf(n.reqId):-1},e.prototype._isNotInQueue=function(n){return this._autoResendQueue.map(function(t){return t.reqId}).indexOf(n.reqId)===-1},e.prototype._processNextAutoResend=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),n=this._autoResendQueue[0],this._dispatcher.dispatch(new ZU({message:n})),this._logger.debug("processing auto-resend for message request id: ",n.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]})})},e}();(function(e){e[e.USER_BLOCK=20001]="USER_BLOCK",e[e.USER_UNBLOCK=2e4]="USER_UNBLOCK",e[e.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(Qf||(Qf={}));var Iv=function(){function e(n){this.category=n.cat,this.data=n.data}return e.getDataAsUserBlockEvent=function(n,t){var r=t.data,s=r.blocker,u=r.blockee;return{blocker:new Pn(n,s),blockee:new Pn(n,u)}},e.getDataAsFriendDiscoveredEvent=function(n,t){var r=t.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map(function(s){return new Pn(n,s)}):[]}},e}(),JU=function(e){function n(t,r){var s=r.userId,u=e.call(this)||this;return u._iid=t,u.userId=s,u}return G(n,e),n}(Fr),eL=function(e){function n(t,r,s){var u=e.call(this,t,"USEV",s)||this;return u.event=new Iv(s),u}return G(n,e),n}(kt),nL=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.GET,s.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push_preference"),s}return G(n,e),n}(He),tL=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.pushTriggerOption=r.push_trigger_option,s}return G(n,e),n}($e),rL=function(e){function n(t){var r=t.userId,s=t.pushTriggerOption,u=e.call(this)||this;return u.method=Pe.PUT,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push_preference"),u.params={push_trigger_option:s},u}return G(n,e),n}(He),iL=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.pushTriggerOption=r.push_trigger_option,s}return G(n,e),n}($e),Oie={profileImage:null,profileUrl:null,nickname:null},Aie=function(){this.onSessionExpired=Hn,this.onSessionTokenRequired=function(e){return e(null)},this.onSessionError=Hn,this.onSessionRefreshed=Hn,this.onSessionClosed=Hn},aL=function(){this.onConnected=Hn,this.onReconnectStarted=Hn,this.onReconnectSucceeded=Hn,this.onReconnectFailed=Hn,this.onDisconnected=Hn},Rie=function(){this.onFriendsDiscovered=Hn,this.onTotalUnreadMessageCountUpdated=Hn};(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})(Ts);var Mie=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._pauseDelayTimer=null,t._currentState="visible",t}return G(n,e),Object.defineProperty(n.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener},enumerable:!1,configurable:!0}),n.prototype._toggleState=function(){var t=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){t._pauseDelayTimer=null,t.dispatch("pause")},3e4)),this._currentState=document.visibilityState},n.prototype.start=function(){this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},n.prototype.stop=function(){this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState.bind(this),{capture:!0})},n}(s0),Die=function(){function e(n){var t=n.logger,r=n.connectionDelegate,s=r===void 0?null:r;this.logger=t,s&&(this.connectionDelegate=s),this._onlineWorker=this._onlineWorker.bind(this),this._offlineWorker=this._offlineWorker.bind(this)}return Object.defineProperty(e.prototype,"isAvailable",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),e.prototype._onlineWorker=function(){this.connectionDelegate.reconnect()},e.prototype._offlineWorker=function(){this.connectionDelegate.disconnect()},e.prototype.start=function(){this.isAvailable&&(window.addEventListener("online",this._onlineWorker),window.addEventListener("offline",this._offlineWorker))},e.prototype.stop=function(){this.isAvailable&&(window.removeEventListener("online",this._onlineWorker,!1),window.removeEventListener("offline",this._offlineWorker,!1))},e.prototype.isOnline=function(){return A(this,void 0,void 0,function(){return R(this,function(n){return this.isAvailable?[2,navigator.onLine]:[2,new Promise(function(t,r){fetch("https://www.google.com",{method:Pe.GET}).then(function(){return t(!0)}).catch(function(){return t(!1)})})]})})},e}(),eA=function(e){function n(t){var r=t.userId,s=t.nickname,u=s===void 0?null:s,d=t.profileUrl,p=d===void 0?null:d,g=t.profileImage,_=g===void 0?null:g,y=t.preferredLanguages,E=y===void 0?null:y,x=e.call(this)||this;return x.method=Pe.PUT,x.path="".concat(Xn,"/").concat(encodeURIComponent(r)),x.params=In({nickname:u,profile_url:p,profile_file:_,preferred_languages:E}),x}return G(n,e),n}(He),nA=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.user=null,s.user=new Pn(t,ae({},r)),s}return G(n,e),n}($e),Uie=function(e){function n(t){var r=t.userId,s=t.token,u=e.call(this)||this;return u.method=Pe.POST,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push/apns"),u.params={apns_device_token:s,always_push:!0},u}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.token=r.token,s.type=r.type?Ta[r.type.toLowerCase()]:Ta.UNKNOWN,s.user=new Pn(t,r.user),s}G(n,e)})($e);var Lie=function(e){function n(t){var r=t.userId,s=t.token,u=e.call(this)||this;return u.method=Pe.POST,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push/gcm"),u.params={gcm_reg_token:s,always_push:!0},u}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.token=r.token,s.type=r.type?Ta[r.type.toLowerCase()]:Ta.UNKNOWN,s.user=new Pn(t,r.user),s}G(n,e)})($e);var Pie=function(e){function n(t){var r=t.userId,s=t.token,u=e.call(this)||this;return u.method=Pe.DELETE,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(s)),u}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.token=r.token,s.user=new Pn(t,r.user),s}G(n,e)})($e);var Fie=function(e){function n(t){var r=t.userId,s=t.token,u=e.call(this)||this;return u.method=Pe.DELETE,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(s)),u}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.token=r.token,s.user=new Pn(t,r.user),s}G(n,e)})($e);var Hie=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.DELETE,s.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push/apns"),s}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.type=r.type?Ta[r.type.toLowerCase()]:Ta.UNKNOWN,s.user=new Pn(t,r.user),s}G(n,e)})($e);var zie=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.DELETE,s.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push/gcm"),s}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.type=r.type?Ta[r.type.toLowerCase()]:Ta.UNKNOWN,s.user=new Pn(t,r.user),s}G(n,e)})($e);var qie=function(e){function n(t){var r=t.userId,s=t.type,u=t.token,d=t.ts,p=e.call(this)||this;return p.method=Pe.GET,p.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(s),"/device_tokens"),p.params={created_ts:d,token:u},p}return G(n,e),n}(He),Bie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.pushTokens={type:r.type?Ta[r.type.toLowerCase()]:Ta.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},s}return G(n,e),n}($e),jie=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.GET,s.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),s}return G(n,e),n}(He),Gie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.autoAccept=r.auto_accept,s}return G(n,e),n}($e),$ie=function(e){function n(t){var r=t.userId,s=t.willAutoAccept,u=e.call(this)||this;return u.method=Pe.PUT,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),u.params={auto_accept:s},u}return G(n,e),n}(He),Vie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.autoAccept=r.auto_accept,s}return G(n,e),n}($e),Wie=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.GET,s.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push_preference"),s}return G(n,e),n}(He),Kie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},s}return G(n,e),n}($e),Qie=function(e){function n(t){var r=t.userId,s=t.doNotDisturbOn,u=t.startHour,d=t.startMin,p=t.endHour,g=t.endMin,_=t.timezone,y=e.call(this)||this;return y.method=Pe.PUT,y.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push_preference"),y.params={do_not_disturb:s,start_hour:u,start_min:d,end_hour:p,end_min:g,timezone:_},y}return G(n,e),n}(He),Yie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},s}return G(n,e),n}($e),Xie=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.GET,s.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push_preference"),s}return G(n,e),n}(He),Zie=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(s.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(s.snoozePeriod.endTs=r.snooze_end_ts),s}return G(n,e),n}($e),Jie=function(e){function n(t){var r=t.userId,s=t.snoozeOn,u=t.startTs,d=t.endTs,p=e.call(this)||this;return p.method=Pe.PUT,p.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push_preference"),p.params={snooze_enabled:s,snooze_start_ts:u,snooze_end_ts:d},p}return G(n,e),n}(He),eae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(s.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(s.snoozePeriod.endTs=r.snooze_end_ts),s}return G(n,e),n}($e),nae=function(e){function n(t){var r=t.userId,s=t.blockedUserId,u=e.call(this)||this;return u.method=Pe.POST,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/block"),u.params={target_id:s},u}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.user=new Pn(t,r),s}G(n,e)})($e);var tae=function(e){function n(t){var r=t.userId,s=t.unblockedUserId,u=e.call(this)||this;return u.method=Pe.DELETE,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(s)),u}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var rae=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.GET,s.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push/template"),s}return G(n,e),n}(He),iae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.name=r.name,s}return G(n,e),n}($e),aae=function(e){function n(t){var r=t.userId,s=t.templateName,u=e.call(this)||this;return u.method=Pe.PUT,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/push/template"),u.params={name:s},u}return G(n,e),n}(He),sae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.name=r.name,s}return G(n,e),n}($e),oae=function(e){function n(t){var r=t.userId,s=t.token,u=e.call(this)||this;return u.method=Pe.GET,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/friends/changelogs"),u.params={token:s},u}return G(n,e),n}(He),lae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.changelogs={addedUsers:r.added.map(function(u){return new Pn(t,u)}),updatedUsers:r.updated.map(function(u){return new Pn(t,u)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},s}return G(n,e),n}($e),uae=function(e){function n(t){var r=t.userId,s=t.discoveries,u=e.call(this)||this;return u.method=Pe.PUT,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/friend_discoveries"),u.params={friend_discoveries:s.map(function(d){return{friend_discovery_key:d.friendDiscoveryKey,friend_name:d.friendName}})},u}return G(n,e),n}(He),cae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.friendDiscoveryRequestId=r.friend_discovery_request_id,s}return G(n,e),n}($e),dae=function(e){function n(t){var r=t.userId,s=t.discoveryKeys,u=e.call(this)||this;return u.method=Pe.DELETE,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/friend_discoveries"),u.params={friend_discovery_keys:s},u}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var hae=function(e){function n(t){var r=t.userId,s=t.userIds,u=e.call(this)||this;return u.method=Pe.POST,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/friends"),u.params={user_ids:s},u}return G(n,e),n}(He),pae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.users=r.users.map(function(u){return new Pn(t,u)}),s}return G(n,e),n}($e),fae=function(e){function n(t){var r=t.userId,s=t.userIds,u=e.call(this)||this;return u.method=Pe.DELETE,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/friends"),u.params={user_ids:s},u}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var gae=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.GET,s.path="".concat(Xn,"/").concat(r,"/allow_friend_discovery"),s.params={},s}return G(n,e),n}(He),mae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.allowFriendDiscovery=r.allow_friend_discovery,s}return G(n,e),n}($e),vae=function(e){function n(t){var r=t.userId,s=t.allowFriendDiscovery,u=e.call(this)||this;return u.method=Pe.PUT,u.path="".concat(Xn,"/").concat(r,"/allow_friend_discovery"),u.params={allow_friend_discovery:s},u}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var Rt,sL=function(e){this.key=null,this.url=null,this.key=e.key,this.url=e.url},oL=function(e){var n,t,r;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(n=e.id)!==null&&n!==void 0?n:0,this.name=(t=e.name)!==null&&t!==void 0?t:"",this.url=(r=e.url)!==null&&r!==void 0?r:"",this.emojis=e.emojis?e.emojis.map(function(s){return new sL(s)}):[]},_ae=function(e){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map(function(n){return new oL(n)}):[]},bae=function(e){function n(){var t=e.call(this)||this;return t.method=Pe.GET,t.path=SU,t}return G(n,e),n}(He),yae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.emojiContainer=new _ae(r),s}return G(n,e),n}($e),Eae=function(e){function n(t){var r=t.categoryId,s=e.call(this)||this;return s.method=Pe.GET,s.path="".concat(SU,"/").concat(r),s}return G(n,e),n}(He),wae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.emojiCategory=new oL(r),s}return G(n,e),n}($e),xae=function(e){function n(t){var r=t.key,s=e.call(this)||this;return s.method=Pe.GET,s.path="".concat(Zte,"/").concat(r),s}return G(n,e),n}(He),kae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.emoji=new sL(r),s}return G(n,e),n}($e),Sae=function(e){function n(t){var r=t.limit,s=t.token,u=t.userIdsFilter,d=t.metaDataKeyFilter,p=t.metaDataValuesFilter,g=t.nicknameStartsWithFilter,_=e.call(this)||this;return _.method=Pe.GET,_.path=Xn,_.params=In({limit:r,token:s,user_ids:u,metadatakey:d,metadatavalues_in:p,nickname_startswith:g}),_}return G(n,e),n}(He),Cae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.users=r.users.map(function(u){return new Pn(t,u)}),s.next=r.next,s}return G(n,e),n}($e),Tae=function(e){function n(t,r){var s,u,d,p=this;return(p=e.call(this,t,r)||this).userIdsFilter=null,p.metaDataKeyFilter=null,p.metaDataValuesFilter=null,p.nicknameStartsWithFilter=null,p.userIdsFilter=(s=r.userIdsFilter)!==null&&s!==void 0?s:null,p.metaDataKeyFilter=(u=r.metaDataKeyFilter)!==null&&u!==void 0?u:null,p.metaDataValuesFilter=(d=r.metaDataValuesFilter)!==null&&d!==void 0?d:null,p.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,p}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&An("string",this.userIdsFilter,!0)&&re("string",this.metaDataKeyFilter,!0)&&An("string",this.metaDataValuesFilter,!0)&&re("string",this.metaDataKeyFilter,!0)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid).requestQueue,r=new Sae(ae(ae({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return s=g.sent(),u=s.as(Cae),d=u.users,p=u.next,this._token=p,this._hasNext=!!p,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(Yo),Iae=function(e){function n(t){var r=t.userId,s=t.limit,u=t.token,d=t.userIdsFilter,p=e.call(this)||this;return p.method=Pe.GET,p.path="".concat(Xn,"/").concat(r,"/block"),p.params=In({limit:s,token:u,user_ids:d}),p}return G(n,e),n}(He),Nae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.users=r.users.map(function(u){return new Pn(t,u)}),s.next=r.next,s}return G(n,e),n}($e),Oae=function(e){function n(t,r){var s,u=this;return(u=e.call(this,t,r)||this).userIdsFilter=null,u.userIdsFilter=(s=r.userIdsFilter)!==null&&s!==void 0?s:null,u}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&An("string",this.userIdsFilter,!0)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new Iae(ae(ae({},this),{userId:r.userId,token:this._token})),[4,s.send(u)]):[3,2]:[3,5];case 1:return d=y.sent(),p=d.as(Nae),g=p.users,_=p.next,this._token=_,this._hasNext=!!_,this._isLoading=!1,[2,g];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(Yo),Aae=function(e){function n(t){var r=t.userId,s=t.limit,u=t.token,d=e.call(this)||this;return d.method=Pe.GET,d.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/friends"),d.params={limit:s,token:u},d}return G(n,e),n}(He),Rae=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.hasMore=r.has_more,s.users=r.users.map(function(u){return new Pn(t,u)}),s.next=r.next,s}return G(n,e),n}($e),Mae=function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y;return R(this,function(E){switch(E.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new Aae(ae(ae({},this),{userId:r.userId,token:this._token})),[4,s.send(u)]):[3,2]:[3,5];case 1:return d=E.sent(),p=d.as(Rae),g=p.users,_=p.hasMore,y=p.next,this._token=y,this._hasNext=_,this._isLoading=!1,[2,g];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(Yo),Em={},f_=function(){function e(n){var t=n.dbname,r=n.itemSizeLimit,s=r===void 0?1048576:r,u=n.cacheLimit,d=u===void 0?256:u,p=n.blockHashBase,g=p===void 0?2:p,_=n.blockHashMultiplier,y=_===void 0?10:_,E=n.blockHashConstant,x=E===void 0?11:E,k=n.transactionApplyDelay,T=k===void 0?200:k,I=n.disableLogger,P=I!==void 0&&I;return Em[t]||(this.itemSizeLimit=s,this.cacheLimit=d,this.blockHashBase=g,this.blockHashMultiplier=y,this.blockHashConstant=x,this.transactionApplyDelay=T,this.disableLogger=P,Em[t]=this),Em[t]}return e.get=function(n){return Em[n]},e}();(function(e){e[e.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",e[e.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",e[e.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",e[e.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",e[e.STORE_IS_FULL=61001003]="STORE_IS_FULL",e[e.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",e[e.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",e[e.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",e[e.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",e[e.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",e[e.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",e[e.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",e[e.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",e[e.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",e[e.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",e[e.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",e[e.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",e[e.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",e[e.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",e[e.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",e[e.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",e[e.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",e[e.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",e[e.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",e[e.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(Rt||(Rt={}));var Bd,st=function(e){function n(t){var r=t.code,s=r===void 0?Rt.UNKNOWN_ERROR:r,u=t.message,d=u===void 0?"Unknown error occurred.":u,p=e.call(this,d)||this;return p.code=s,Object.setPrototypeOf(p,n.prototype),p}return G(n,e),Object.defineProperty(n,"storeNotDefined",{get:function(){return new n({code:Rt.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailable",{get:function(){return new n({code:Rt.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeNotAvailableInPrivateBrowsing",{get:function(){return new n({code:Rt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeIsFull",{get:function(){return new n({code:Rt.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeKeyTypeIsInvalid",{get:function(){return new n({code:Rt.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenIntegrity",{get:function(){return new n({code:Rt.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeBrokenBlob",{get:function(){return new n({code:Rt.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeEncryptionInvalid",{get:function(){return new n({code:Rt.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeItemSizeExceeded",{get:function(){return new n({code:Rt.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeReadFailed",{get:function(){return new n({code:Rt.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"storeWriteFailed",{get:function(){return new n({code:Rt.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"databaseSchemaNotOnUpgrade",{get:function(){return new n({code:Rt.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionNotReady",{get:function(){return new n({code:Rt.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotMatch",{get:function(){return new n({code:Rt.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionQueryNotValid",{get:function(){return new n({code:Rt.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionInsertDuplicate",{get:function(){return new n({code:Rt.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotFound",{get:function(){return new n({code:Rt.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionKeyNotGiven",{get:function(){return new n({code:Rt.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionWriteFailed",{get:function(){return new n({code:Rt.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"collectionItemSizeExceeded",{get:function(){return new n({code:Rt.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTableIsRequired",{get:function(){return new n({code:Rt.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"indexTypesNotMatch",{get:function(){return new n({code:Rt.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"compareTypesNotMatch",{get:function(){return new n({code:Rt.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(n,"circularReferenceFound",{get:function(){return new n({code:Rt.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),n}(Error);(function(e){e.INIT="init",e.READY="ready",e.CLOSED="closed"})(Bd||(Bd={}));var tA,qi=function(e,n){if(n===void 0&&(n=new WeakMap),typeof e=="object"&&e!==null){if(n.has(e))throw st.circularReferenceFound;n.set(e,!0);var t=null;if(Array.isArray(e))t=e.map(function(s){return qi(s,n)});else if(e instanceof RegExp)t=e;else if(e instanceof Date)t=e;else for(var r in t={},e)t[r]=qi(e[r],n);return n.delete(e),t}return e},qo=function(e,n){if(n==null)return 1;if(e==null)return-1;if(typeof e!=typeof n)throw st.compareTypesNotMatch;var t=0;switch(typeof e){case"boolean":case"number":t=e-n;break;case"string":t=e.localeCompare(n)}return t},rA=function(e,n){for(var t=0,r=0;r<e.length;r++)t=e.charCodeAt(r)+(t<<6)+(t<<16)-t;return(t>>>0)%n},wd=function(e){return new Promise(function(n){setTimeout(function(){return n()},e)})},fc=function(e,n){if(!n)return!1;if(typeof e!="function"){for(var t in e)if(["/and","&&"].includes(t)){if(e[t].some(function(g){return!fc(g,n)}))return!1}else if(["/or","||"].includes(t)){if(e[t].every(function(g){return!fc(g,n)}))return!1}else if(t==="/where"){if(!(0,e[t])(n))return!1}else{var r=t;if(typeof e[r]=="object"){var s=e[r];for(var u in s)switch(u){case"/eq":case"=":if((d=n[r])!==(p=s[u]))return!1;break;case"/neq":case"!=":if((d=n[r])===(p=s[u]))return!1;break;case"/gt":case">":var d=n[r],p=s[u];if(!(qo(d,p)>0))return!1;break;case"/gte":case">=":if(d=n[r],p=s[u],!(qo(d,p)>=0))return!1;break;case"/lt":case"<":if(d=n[r],p=s[u],!(qo(d,p)<0))return!1;break;case"/lte":case"<=":if(d=n[r],p=s[u],!(qo(d,p)<=0))return!1;break;case"/in":if(d=n[r],!(p=s[u]).includes(d))return!1;break;case"/nin":if(d=n[r],(p=s[u]).includes(d))return!1;break;case"/contain":if(d=n[r],p=s[u],!d.includes(p))return!1;break;case"/regex":if(d=n[r],!(p=s[u]).test(d))return!1;break;case"/where":if(d=n[r],!(0,s[u])(d))return!1}}else if(typeof e[r]=="function"){if(!e[r](n[r]))return!1}else if(e[r]!==n[r])return!1}return!0}return e(n)},Gm=function(){},iA=function(){return Promise.resolve()},Dae=function(e){return e},aA=function(e,n){n(null)};(function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"})(tA||(tA={}));var gc,oi,Ws,Uae=function(){function e(n){var t=n.initialPrevValue,r=t===void 0?null:t,s=n.initialNextValue,u=s===void 0?null:s,d=n.iterator,p=n.map,g=p===void 0?Dae:p,_=n.backward,y=_===void 0?iA:_,E=n.forward,x=E===void 0?iA:E,k=n.complete,T=k===void 0?Gm:k;this._prevValue=r,this._nextValue=u,this._error=null,this._map=g,this._backward=y,this._forward=x,this._iterator=d,this._complete=T}return Object.defineProperty(e.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return A(this,void 0,void 0,function(){var n,t,r;return R(this,function(s){switch(s.label){case 0:if(!this.hasPrevious)return[3,6];s.label=1;case 1:return s.trys.push([1,3,,4]),n=this._prevValue,t=this,[4,this._backward()];case 2:return t._prevValue=s.sent()||null,this._nextValue=n,[3,4];case 3:return r=s.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,s.sent()];case 6:this._complete(),s.label=7;case 7:return[2]}})})},e.prototype.next=function(){return A(this,void 0,void 0,function(){var n,t,r;return R(this,function(s){switch(s.label){case 0:if(!this.hasNext)return[3,6];s.label=1;case 1:return s.trys.push([1,3,,4]),n=this._nextValue,t=this,[4,this._forward()];case 2:return t._nextValue=s.sent()||null,this._prevValue=n,[3,4];case 3:return r=s.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,s.sent()];case 6:this._complete(),s.label=7;case 7:return[2]}})})},e.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},e}(),_w=function(){function e(n){var t=n.condition,r=t===void 0?{}:t,s=n.backward,u=s!==void 0&&s,d=n.blockManager,p=n.indexer;this.condition=r,this.backward=u,this._blockManager=d,this._indexer=p}return e.prototype.findOptimizedStartPosition=function(){var n=this,t=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var s=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var u in this._indexer.fields){var d=this._indexer.fields[u],p=1;if(d[0]==="-"&&(d=d.slice(1),p=-1),this.condition[d]){if(typeof this.condition[d]=="object"){var g=p>0?r:t;for(var _ in this.condition[d])if(g.includes(_)){for(var y=s;y>=0;y--)if(p*qo(this._indexer.origin[y].columnValues[u],this.condition[d][_])<=0){s=y;break}}}else for(y=s;y>=0;y--)if(p*qo(this._indexer.origin[y].columnValues[u],this.condition[d])<=0){s=y;break}}}return Math.min(s+1,this._indexer.origin.length-1)}var E=0;if(typeof this.condition!="function")for(var x=function(I){var P=k._indexer.fields[I],N=1;if(P[0]==="-"&&(P=P.slice(1),N=-1),k.condition[P]){if(typeof k.condition[P]=="object")Object.keys(k.condition[P]).forEach(function(U){if((N>0?t:r).includes(U)){for(var L=E;L<n._indexer.origin.length;L++)if(N*qo(n._indexer.origin[L].columnValues[I],n.condition[P][U])>=0){E=L;break}}});else for(var O=E;O<k._indexer.origin.length;O++)if(N*qo(k._indexer.origin[O].columnValues[I],k.condition[P])>=0){E=O;break}}},k=this,u=0;u<this._indexer.fields.length;u++)x(u);return Math.max(E-1,0)},e.prototype.each=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_=this;return R(this,function(y){switch(y.label){case 0:if(t=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[t]&&(r=this._indexer.origin[t].keys.length-1),s=function(){if(_._indexer.origin[t]){if(!_._indexer.origin[t].keys[++r]){if(!_._indexer.origin[++t])return!1;r=0}return!0}return!1},u=function(){if(_._indexer.origin[t]){if(!_._indexer.origin[t].keys[--r]){if(!_._indexer.origin[--t])return!1;r=_._indexer.origin[t].keys.length-1}return!0}return!1},d=null,!this._indexer.origin[t])return[3,4];p=this.backward?u:s,y.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])];case 2:if(g=y.sent(),fc(this.condition,g))return d=g,[3,4];y.label=3;case 3:if(p())return[3,1];y.label=4;case 4:return[4,new Promise(function(E){var x=new Uae({initialNextValue:qi(d),iterator:n,forward:function(){return A(_,void 0,void 0,function(){var k,T;return R(this,function(I){switch(I.label){case 0:k=this.backward?u:s,I.label=1;case 1:return k()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return T=I.sent(),fc(this.condition,T)?[2,qi(T)]:[3,1];case 3:return[2,null]}})})},backward:function(){return A(_,void 0,void 0,function(){var k,T;return R(this,function(I){switch(I.label){case 0:k=this.backward?s:u,I.label=1;case 1:return k()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[r])]:[3,3];case 2:return T=I.sent(),fc(this.condition,T)?[2,qi(T)]:[3,1];case 3:return[2,null]}})})},complete:E});n(x)})];case 5:return[2,y.sent()]}})})},e}(),Lae=function(){function e(n){var t=n.condition,r=t===void 0?{}:t,s=n.backward,u=s!==void 0&&s,d=n.mutex,p=n.blockManager,g=n.indexer;this._mutex=d,this._iterator=new _w({condition:r,backward:u,blockManager:p,indexer:g})}return e.prototype.fetch=function(n){return n===void 0&&(n={}),A(this,void 0,void 0,function(){var t,r,s,u,d=this;return R(this,function(p){switch(p.label){case 0:if(t=Math.max(n.offset||0,0),(r=typeof n.limit=="number"?n.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw st.collectionQueryNotValid;p.label=1;case 1:return p.trys.push([1,4,,5]),s=[],[4,this._mutex.lock()];case 2:return p.sent(),[4,this._iterator.each(function(g){return A(d,void 0,void 0,function(){return R(this,function(_){return g.error?g.stop():g.hasNext?t===0?(s.push(g.nextValue),0<r&&r<=s.length?g.stop():g.next()):(t--,g.next()):g.stop(),[2]})})})];case 3:return p.sent(),this._mutex.unlock(),[2,s];case 4:throw u=p.sent(),this._mutex.unlock(),u;case 5:return[2]}})})},e.prototype.count=function(){return A(this,void 0,void 0,function(){var n,t,r=this;return R(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),n=0,[4,this._mutex.lock()];case 1:return s.sent(),[4,this._iterator.each(function(u){return A(r,void 0,void 0,function(){return R(this,function(d){return u.error?u.stop():u.hasNext?(n++,u.next()):u.stop(),[2]})})})];case 2:return s.sent(),this._mutex.unlock(),[2,n];case 3:throw t=s.sent(),this._mutex.unlock(),t;case 4:return[2]}})})},e}(),bw=function(e){return"".concat("nest","@").concat(e)},xc=function(e,n){return"".concat(bw(e),"/").concat(n)},GE=function(e,n){return"".concat(xc(e,n),".metadata")},yw=function(e,n){return"".concat(xc(e,n),"/block.")},lL=function(e,n){return"".concat(xc(e,n),"/blob.")},$E=function(e,n,t,r){return r===void 0&&(r=0),"".concat(lL(e,n)).concat(t,".").concat(r)},Pae=function(){function e(n){var t=n.dbname,r=n.collectionName,s=n.store;this.dbname=t,this.collectionName=r,this._store=s}return e.prototype._makeShards=function(n,t){var r=Math.max(this._store.itemSizeLimit-1024,0);if(r>0){for(var s=Math.ceil(n.data.length/r),u="".concat(s,".").concat(n.type,".").concat(t),d=[],p=0;p<n.data.length;p+=r){var g=n.data.slice(p,p+r);d.push(g)}return{blobId:u,shards:d}}return{blobId:null,shards:null}},e.prototype._encode=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r){var s=new FileReader;s.onload=function(){r({data:s.result,type:n.type})},s.readAsDataURL(n)})];case 1:return[2,t.sent()]}})})},e.prototype._decode=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return typeof fetch>"u"?[3,3]:[4,fetch(n.data)];case 1:return[4,g.sent().blob()];case 2:return[2,g.sent()];case 3:for(t=[],r=atob(n.data.split(",")[1]),s=0;s<r.length;s+=512){for(u=r.slice(s,s+512),d=new Array(u.length),p=0;p<u.length;p++)d[p]=u.charCodeAt(p);t.push(new Uint8Array(d))}return[2,new Blob(t,{type:n.type})]}})})},e.prototype.get=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:if(t=[],r=wn(n.split("."),2),s=r[0],u=r[1],!((d=parseInt(s))>0))return[3,6];p=0,y.label=1;case 1:return p<d?(g=$E(this.dbname,this.collectionName,n,p),[4,this._store.get(g)]):[3,4];case 2:if(!(_=y.sent())||!_.d)throw st.storeBrokenBlob;t.push(_.d),y.label=3;case 3:return p++,[3,1];case 4:return[4,this._decode({data:t.join(""),type:u})];case 5:return[2,y.sent()];case 6:return[2,null]}})})},e.prototype.save=function(n,t){return t===void 0&&(t="".concat(Date.now())),A(this,void 0,void 0,function(){var r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return r=[],[4,this._encode(n)];case 1:if(s=y.sent(),u=this._makeShards(s,t),d=u.blobId,p=u.shards,!d)return[3,3];for(g=0;g<p.length;g++)_=$E(this.dbname,this.collectionName,d,g),r.push({key:_,value:{d:p[g]},generation:1});return[4,this._store.setMany(r)];case 2:if(y.sent().some(function(E){return E instanceof Error}))throw st.storeWriteFailed;return[2,d];case 3:return[2,null]}})})},e.prototype.remove=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){switch(p.label){case 0:if(t=[],r=wn(n.split("."),1),s=r[0],!((u=parseInt(s))>0))return[3,2];for(d=0;d<u;d++)t.push($E(this.dbname,this.collectionName,n,d));return[4,this._store.removeMany(t)];case 1:p.sent(),p.label=2;case 2:return[2]}})})},e.prototype.clear=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return n=lL(this.dbname,this.collectionName),t=[],[4,this._store.getAllKeys()];case 1:r=_.sent();try{for(s=tn(r),u=s.next();!u.done;u=s.next())(d=u.value).startsWith(n)&&t.push(d)}catch(y){p={error:y}}finally{try{u&&!u.done&&(g=s.return)&&g.call(s)}finally{if(p)throw p.error}}return[4,this._store.removeMany(r)];case 2:return _.sent(),[2]}})})},e}();(function(e){e[e.COMMIT=0]="COMMIT",e[e.WRITE=1]="WRITE",e[e.ERROR=2]="ERROR"})(gc||(gc={})),function(e){e.PENDING="pending",e.PERSISTENT="persistent",e.VOLATILE="volatile"}(oi||(oi={})),function(e){e[e.NO_CACHE=0]="NO_CACHE",e[e.DEFAULT=1]="DEFAULT",e[e.PERSISTENT=2]="PERSISTENT"}(Ws||(Ws={}));var sA=[oi.PENDING,oi.VOLATILE],wm={},Wa=function(){function e(n){var t=n.dbname,r=n.limit,s=r===void 0?256:r;return wm[t]||(this.dbname=t,this._items=[],this._limit=s,wm[t]=this),wm[t]}return e.get=function(n){return wm[n]},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.find=function(n,t,r){return r===void 0&&(r=Ws.DEFAULT),A(this,void 0,void 0,function(){var s,u;return R(this,function(d){switch(d.label){case 0:return(s=this.get(t))?[3,2]:[4,n.get(t)];case 1:return(u=d.sent())&&(s={key:t,value:u,generation:1,state:r===Ws.PERSISTENT?oi.PERSISTENT:oi.VOLATILE},this.put(s)),[3,3];case 2:r===Ws.PERSISTENT&&(s.state=oi.PERSISTENT),d.label=3;case 3:return[2,s]}})})},e.prototype.get=function(n,t){t===void 0&&(t=Ws.DEFAULT);var r=this._items.map(function(u){return u.key}).indexOf(n);if(r>-1){var s=this._items[r];return t===Ws.PERSISTENT&&(s.state=oi.PERSISTENT),t!==Ws.NO_CACHE&&this.put(s),s}return null},e.prototype.put=function(n){var t,r;if(this._limit>0){var s=this._items.map(function(E){return E.key}).indexOf(n.key);if(s>-1)sA.includes(this._items[s].state)&&sA.includes(n.state)?(this._items.splice(s,1),this._items.push(n)):(this._items[s].state=n.state,this._items[s].generation=n.generation,this._items[s].value=n.value);else{this._items.push(n);var u=this._items.filter(function(E){return E.state===oi.VOLATILE}),d=u.length-this._limit;if(d>0){var p=[];try{for(var g=tn(this._items),_=g.next();!_.done;_=g.next()){var y=_.value;y.state===oi.VOLATILE&&d>0?d--:p.push(y)}}catch(E){t={error:E}}finally{try{_&&!_.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}this._items=p}}}},e.prototype.remove=function(n){var t=this._items.map(function(r){return r.key}).indexOf(n);t>-1&&this._items.splice(t,1)},e.prototype.clearByCondition=function(n){this._items=this._items.filter(function(t){return!n(t)})},e.prototype.clear=function(n){n===void 0&&(n=!1),this._items=n?[]:this._items.filter(function(t){return t.state!==oi.VOLATILE})},e}(),Fae=function(){function e(n){var t=n.dbname,r=n.collectionName,s=n.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=t,this.collectionName=r,this.metadataKey=function(u,d){return"".concat(xc(u,d),"/trans.metadata")}(t,r),this.recordsetKey=function(u,d){return"".concat(xc(u,d),"/trans.recordset")}(t,r),this._store=s}return Object.defineProperty(e.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),e.prototype._getReducedRecordset=function(n){return n===void 0&&(n=[]),A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(t=r.sent()||[]).push.apply(t,En([],wn(n),!1)),[2,this._reduceRecordSet(t)]}})})},e.prototype._reduceRecordSet=function(n){for(var t=[],r={},s=n.length-1;s>=0;s--){for(var u=n[s],d=[],p=u.requests.length-1;p>=0;p--){var g=u.requests[p],_=g.data;r[_.key]||(d.unshift(g),r[_.key]=!0)}d.length>0&&(u.requests=d,t.unshift(u))}return t},e.prototype._applyRecord=function(n,t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g,_,y,E;return R(this,function(x){switch(x.label){case 0:r=Wa.get(this.dbname),s=t.generation,u=t.requests,d=null,x.label=1;case 1:return x.trys.push([1,3,,4]),[4,this._store.setMany(u.map(function(k){return ae(ae({},k.data),{generation:s})}))];case 2:for(p=x.sent(),g=0;g<u.length;g++)p[g]instanceof Error&&(d||(d=p[g]),_=u[g].data,r.put(ae(ae({},_),{generation:s,state:oi.PERSISTENT})));return[3,4];case 3:return y=x.sent(),d=y,[3,4];case 4:return d?[3,6]:(E=n.filter(function(k){return k.generation!==s}),[4,this._store.set({key:this.recordsetKey,value:E,generation:s})]);case 5:return x.sent(),this._onWrite.forEach(function(k){k(u.map(function(T){return T.data}))}),[3,7];case 6:this._onError.forEach(function(k){return k(d)}),x.label=7;case 7:return[2]}})})},e.prototype.init=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return n=this,[4,this._store.get(this.metadataKey)];case 1:return n._metadata=_.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:t=_.sent(),_.label=3;case 3:_.trys.push([3,8,9,10]),r=tn(t),s=r.next(),_.label=4;case 4:return s.done?[3,7]:(u=s.value,[4,this._applyRecord(t,u)]);case 5:_.sent(),_.label=6;case 6:return s=r.next(),[3,4];case 7:return[3,10];case 8:return d=_.sent(),p={error:d},[3,10];case 9:try{s&&!s.done&&(g=r.return)&&g.call(r)}finally{if(p)throw p.error}return[7];case 10:return[2]}})})},e.prototype.on=function(n,t,r){switch(n){case gc.COMMIT:this._onCommit.set(t,r);break;case gc.WRITE:this._onWrite.set(t,r);break;case gc.ERROR:this._onError.set(t,r)}},e.prototype.requestWrite=function(n,t){t===void 0&&(t=null),this._requests.push({data:n,options:t}),Wa.get(this.dbname).put(ae({state:oi.PENDING,generation:this.generation},n))},e.prototype.requestMultipleWrite=function(n,t){var r,s;t===void 0&&(t=null);var u=Wa.get(this.dbname);try{for(var d=tn(n),p=d.next();!p.done;p=d.next()){var g=p.value;this._requests.push({data:g,options:t}),u.put(ae({state:oi.PENDING,generation:this.generation},g))}}catch(_){r={error:_}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}},e.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(n){return Wa.get(this.dbname).clearByCondition(function(t){return t.state===oi.PENDING}),this._requests=[],[2]})})},e.prototype.commit=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d,p,g,_,y,E,x,k=this;return R(this,function(T){switch(T.label){case 0:if(!((n=this._requests).length>0))return[3,4];for(t=[],r={},g=n.length-1;g>=0;g--)s=n[g],y=s.data,r[y.key]||(r[y.key]=!0,t.unshift(s));return u={generation:this.generation,requests:t},[4,this._getReducedRecordset([u])];case 1:return d=T.sent(),[4,this._store.set({key:this.recordsetKey,value:d,generation:this.generation})];case 2:return T.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(T.sent(),p=Wa.get(this.dbname),g=0;g<t.length;g++)_=t[g],y=_.data,E=_.options,p.put(ae(ae({},y),{generation:u.generation,state:E&&E.persistent?oi.PERSISTENT:oi.VOLATILE}));this._requests=[],this._onCommit.forEach(function(I){I(n.map(function(P){return P.data}))}),x=f_.get(this.dbname),setTimeout(function(){try{k._applyRecord(d,u)}catch(I){k._onError.forEach(function(P){return P(I)})}},x.transactionApplyDelay),T.label=4;case 4:return[2]}})})},e}(),$m=function(){function e(n){var t=n.blockId,r=n.keyName,s=n.items,u=s===void 0?[]:s,d=n.limit;this.blockId=t,this.keyName=r,this.limit=d,this._items=En([],wn(u),!1)}return e.createFromCacheItem=function(n){return n?new e(n.value):null},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},e.prototype.getItemByKey=function(n){var t=this;return this._items.find(function(r){var s=r[t.keyName];return n===s})},e.prototype.has=function(n){var t=this;return this._items.map(function(r){return r[t.keyName]}).includes(n)},e.prototype.add=function(n){var t=this,r=this._items.map(function(s){return s[t.keyName]}).indexOf(n[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(n),!0):(this._items[r]=n,!0)},e.prototype.remove=function(n){for(var t in this._items)if(this._items[t][this.keyName]===n)return this._items.splice(parseInt(t),1),!0;return!1},e.prototype.clear=function(){this._items=[]},e}(),Hae=function(){function e(n){var t=n.dbname,r=n.collectionName,s=n.metadata,u=n.hashFunction,d=u===void 0?rA:u,p=n.transaction,g=n.store;this.dbname=t,this.collectionName=r,this.hashFunction=d,this.metadata=s,this._transaction=p,this._store=g}return Object.defineProperty(e.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),e.prototype.createBlockId=function(n,t){return t===void 0&&(t=this.metadata.blockLevel),r=this.dbname,s=this.collectionName,u=t,d="".concat(function(p,g,_){var y=_.base*Math.pow(_.multiplier,g)+_.constant;return(_.hashFunction||rA)(p,y)}(n,t,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(yw(r,s)).concat(u,".").concat(d);var r,s,u,d},e.prototype._findBlock=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){switch(p.label){case 0:t=Wa.get(this.dbname),r=this.metadata.blockLevel,p.label=1;case 1:return r>0?(s=this.createBlockId(n,r),[4,t.find(this._store,s)]):[3,4];case 2:if((u=p.sent())&&(d=$m.createFromCacheItem(u),d.getItemByKey(n)))return[2,d];p.label=3;case 3:return r--,[3,1];case 4:return[2,null]}})})},e.prototype.getFromBlock=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return[2,(t=r.sent())?t.getItemByKey(n):null]}})})},e.prototype.putToBlock=function(n,t){return A(this,void 0,void 0,function(){var r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return r=f_.get(this.dbname),s=this.createBlockId(n),u=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,Wa.get(this.dbname).find(this._store,s)];case 1:return d=g.sent(),(p=d?$m.createFromCacheItem(d):new $m({blockId:s,keyName:this.keyName,items:[],limit:u})).add(t)?(this._transaction.requestWrite({key:p.blockId,value:p.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.removeFromBlock=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return[4,this._findBlock(n)];case 1:return(t=r.sent())&&t.remove(n)?(this._transaction.requestWrite({key:t.blockId,value:t.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.clearAllBlocks=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return n=yw(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return t=y.sent(),r=t.filter(function(E){return E.startsWith(n)}),[4,this._store.removeMany(r)];case 2:y.sent(),s=Wa.get(this.dbname);try{for(u=tn(r),d=u.next();!d.done;d=u.next())p=d.value,s.remove(p)}catch(E){g={error:E}}finally{try{d&&!d.done&&(_=u.return)&&_.call(u)}finally{if(g)throw g.error}}return[2]}})})},e}(),xl=function(){function e(n){var t=n.dbname,r=n.collectionName,s=n.keyName,u=n.fields,d=n.transaction,p=n.store,g=this;this._origin=[],this._table=[],this.dbname=t,this.collectionName=r,this.keyName=s,this.fields=u,this.indexerKey=function(_,y,E){return"".concat(xc(_,y),"/index.").concat(E)}(this.dbname,this.collectionName,this.fields.join(">")),this._transaction=d,this._store=p,this._transaction.on(gc.COMMIT,this.indexerKey,function(){return g.commit()}),this._transaction.on(gc.ERROR,this.indexerKey,function(){return g.abort()})}return e.createKey=function(n){return n.join(">")},e.parseKey=function(n){return n.split(">")},e.prototype._addItem=function(n){var t=n[this.keyName],r=this.getColumnValues(n),s=wn(this.indexOf(r),2),u=s[0];return s[1]?!this._table[u].keys.includes(t)&&(this._table[u].keys.push(t),!0):(this._table.splice(u,0,{columnValues:r,keys:[t]}),!0)},e.prototype._removeItem=function(n){var t=n[this.keyName],r=this.getColumnValues(n),s=wn(this.indexOf(r),2),u=s[0];if(s[1]){var d=this._table[u].keys.indexOf(t);if(d>-1)return this._table[u].keys.splice(d,1),this._table[u].keys.length===0&&this._table.splice(u,1),!0}return!1},Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e.prototype.getColumnValues=function(n){var t,r,s,u,d=[];try{for(var p=tn(this.fields),g=p.next();!g.done;g=p.next()){var _=g.value;if(_[0]==="-"&&(_=_.slice(1)),s=n[_],u=void 0,u=typeof s,s!==null&&u!=="undefined"&&u!=="boolean"&&u!=="number"&&u!=="string")throw st.indexTypesNotMatch;d.push(n[_])}}catch(y){t={error:y}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return d},e.prototype.diff=function(n,t){for(var r in this.fields){var s=this.fields[r][0]==="-"?-1:1,u=qo(n[r],t[r]);if(u!==0)return s*u}return 0},e.prototype.indexOf=function(n){if(this._table.length>0){for(var t=0,r=this._table.length-1;t<=r;){var s=Math.floor((t+r)/2),u=this.diff(n,this._table[s].columnValues);if(u>0)t=s+1;else{if(!(u<0))return[s,!0];r=s-1}}return[t,!1]}return[0,!1]},e.prototype.ensure=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d,p,g,_,y,E,x,k,T,I,P,N;return R(this,function(O){switch(O.label){case 0:return[4,(n=Wa.get(this.dbname)).find(this._store,this.indexerKey,Ws.PERSISTENT)];case 1:return(t=O.sent())?[3,11]:(r=yw(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:s=O.sent(),O.label=3;case 3:O.trys.push([3,8,9,10]),u=tn(s),d=u.next(),O.label=4;case 4:return d.done?[3,7]:(p=d.value).startsWith(r)?[4,n.find(this._store,p,Ws.NO_CACHE)]:[3,6];case 5:g=O.sent(),_=$m.createFromCacheItem(g);try{for(P=void 0,y=tn(_.items),E=y.next();!E.done;E=y.next())x=E.value,this._addItem(x)}catch(U){P={error:U}}finally{try{E&&!E.done&&(N=y.return)&&N.call(y)}finally{if(P)throw P.error}}O.label=6;case 6:return d=u.next(),[3,4];case 7:return[3,10];case 8:return k=O.sent(),T={error:k},[3,10];case 9:try{d&&!d.done&&(I=u.return)&&I.call(u)}finally{if(T)throw T.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=t.value,this._table=qi(this._origin),O.label=12;case 12:return[2]}})})},e.prototype.drop=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return Wa.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return n.sent(),[2]}})})},e.prototype.addItem=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){return this._addItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.removeItem=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){return this._removeItem(n)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(n){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.commit=function(){this._origin=this._table,this._table=qi(this._origin)},e.prototype.abort=function(){this._table=qi(this._origin)},e}(),jo=typeof document<"u"&&typeof navigator<"u";jo&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var zae=jo&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");jo&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),jo&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),jo&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var bf,ii,qae=jo&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),oA=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(n==="x"?t:3&t|8).toString(16)})};(function(e){e[e.PROCESSING=0]="PROCESSING",e[e.DONE=1]="DONE"})(bf||(bf={})),function(e){e.NEWNODE="newnode",e.REMOVENODE="removenode",e.CLAIM_HOST="claimhost",e.SYNC_HOST="synchost",e.REQUEST_LOCK="requestlock",e.ACQUIRE_LOCK="acquirelock",e.RELEASE_LOCK="releaselock"}(ii||(ii={}));var Ro,VE={},uL=function(){function e(n,t){t===void 0&&(t={});var r=this;return this._state=bf.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],VE[n]&&!t.forceCreate||(this.nodeId=oA(),this.key=n,jo&&(t.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&r.claimHost()}),window.addEventListener("message",function(s){var u,d,p=s.data,g=p.nodeId,_=p.requestId,y=p.key,E=p.op,x=p.data;if(g!==r.nodeId&&y===r.key)switch(E){case ii.NEWNODE:r._sendSync();break;case ii.CLAIM_HOST:r._sendSync(),r._hostId=g;break;case ii.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var k=x,T=k.currentItemRequestId,I=k.queue,P=function(L){var ee=r._queue.findIndex(function(V){return V.requestId===L.requestId});ee<0&&r._requestLock({nodeId:L.nodeId,requestId:L.requestId,key:r.key,op:ii.REQUEST_LOCK,ts:L.ts})};try{for(var N=tn(I),O=N.next();!O.done;O=N.next())P(O.value)}catch(L){u={error:L}}finally{try{O&&!O.done&&(d=N.return)&&d.call(N)}finally{if(u)throw u.error}}r._currentItem=r._queue.find(function(L){return L.requestId===T}),r._completeSync()}break;case ii.REMOVENODE:r._queue=r._queue.filter(function(L){return L.nodeId!==p.nodeId}),r._currentItem&&r._currentItem.nodeId===p.nodeId&&(r._currentItem=null,r._acquire(r._queue[0]));break;case ii.REQUEST_LOCK:r._requestLock(p);break;case ii.ACQUIRE_LOCK:var U=r._queue.find(function(L){return L.requestId===_});r._acquire(U);break;case ii.RELEASE_LOCK:r._release(_)}}),window.addEventListener("beforeunload",function(){r._send(ii.REMOVENODE)})),VE[n]=this),VE[n]}return Object.defineProperty(e.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInSync",{get:function(){return this._state==bf.DONE},enumerable:!1,configurable:!0}),e.prototype._send=function(n,t){var r,s;t===void 0&&(t={});var u={nodeId:this.nodeId,requestId:(r=t==null?void 0:t.requestId)!==null&&r!==void 0?r:oA(),key:this.key,op:n,data:(s=t.data)!==null&&s!==void 0?s:null,ts:Date.now()};return jo&&window.postMessage(u,"*"),u},e.prototype._acquire=function(n){n===void 0&&(n=null),n?(this._currentItem=n,this._currentItem.onAcquired(n.requestId)):this._currentItem=null},e.prototype._release=function(n){if(this._currentItem&&this._currentItem.requestId===n){var t=this._currentItem;this._currentItem=null,t.nodeId===this.nodeId&&this._send(ii.RELEASE_LOCK,{requestId:t.requestId});var r=this._queue.findIndex(function(s){return s.requestId===n});r>-1&&this._queue.splice(r,1),t.onReleased(n)}},e.prototype._requestLock=function(n){var t=this;return new Promise(function(r){var s={nodeId:n.nodeId,requestId:n.requestId,ts:n.ts,onAcquired:function(p){t.isHost&&t._send(ii.ACQUIRE_LOCK,{requestId:p}),r()},onReleased:function(){t._acquire(t._queue[0])}},u=!1;for(var d in t._queue)if(t._queue[d].ts>s.ts){t._queue.splice(parseInt(d),0,s),u=!0;break}u||t._queue.push(s),t._currentItem||t._acquire(t._queue[0])})},e.prototype._sendSync=function(){var n;this.isHost&&this._send(ii.SYNC_HOST,{data:{currentItemRequestId:(n=this._currentItem)===null||n===void 0?void 0:n.requestId,queue:this._queue.map(function(t){return{nodeId:t.nodeId,requestId:t.requestId,ts:t.ts}})}})},e.prototype._waitUntilSyncCompleted=function(){return A(this,void 0,void 0,function(){var n=this;return R(this,function(t){return this.isHost&&!this.isInSync?[2,new Promise(function(r){n._activationQueue.push(r)})]:[2]})})},e.prototype._waitSync=function(){var n=this;this.isInSync||(this._activationTimeout=setTimeout(function(){n._completeSync()},8))},e.prototype._completeSync=function(){this.isInSync||(this._state=bf.DONE,this._activationQueue.forEach(function(n){return n()}),this._activationQueue=[])},e.prototype.registerNode=function(){this._send(ii.NEWNODE),this._waitSync()},e.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(ii.CLAIM_HOST),this._waitSync()},e.prototype.lock=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return t.sent(),n=this._send(ii.REQUEST_LOCK),[4,this._requestLock(n)];case 2:return t.sent(),[2]}})})},e.prototype.unlock=function(){var n;this._release((n=this._currentItem)===null||n===void 0?void 0:n.requestId)},e}(),WE=function(){function e(n){var t=n.dbname,r=n.collectionName,s=n.keyName,u=n.keyHash,d=n.indexes,p=n.store,g=this;this._state=Bd.INIT,this._metadata=null,this._indexers=[],this.dbname=t,this.name=r,this.keyName=s,this.indexes=En([[s]],wn(d.filter(function(_){return xl.createKey(_)!==g.keyName})),!1),this._keyHash=u,this._store=p,this._mutex=new uL(function(_,y){return"".concat(xc(_,y),".lock")}(t,r)),this._blobContainer=new Pae({dbname:t,collectionName:r,store:p}),this._transaction=new Fae({dbname:t,collectionName:r,store:p})}return e.metadataOf=function(n,t,r){return A(this,void 0,void 0,function(){var s;return R(this,function(u){switch(u.label){case 0:return s=GE(n,t),[4,r.get(s)];case 1:return[2,u.sent()]}})})},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this._state===Bd.READY},enumerable:!1,configurable:!0}),e.prototype.init=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d,p,g,_,y,E,x,k,T,I=this;return R(this,function(P){switch(P.label){case 0:return[4,this._mutex.lock()];case 1:P.sent(),P.label=2;case 2:return P.trys.push([2,9,,10]),n=f_.get(this.dbname),[4,e.metadataOf(this.dbname,this.name,this._store)];case 3:return t=P.sent(),this._metadata=t||{keyName:this.keyName,blockLevel:1,blockHashBase:n.blockHashBase,blockHashMultiplier:n.blockHashMultiplier,blockHashConstant:n.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:P.sent(),this._blockManager=new Hae({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=En([],wn(this.indexes),!1),s=[],u=r.map(function(N){return xl.createKey(N)}),d=t?t.indexes.map(function(N){return xl.createKey(N)}):[];try{for(p=tn(d),g=p.next();!g.done;g=p.next())_=g.value,u.includes(_)||s.push(xl.parseKey(_))}catch(N){k={error:N}}finally{try{g&&!g.done&&(T=p.return)&&T.call(p)}finally{if(k)throw k.error}}return(y=[]).push.apply(y,En([],wn(r.map(function(N){var O=new xl({dbname:I.dbname,collectionName:I.name,keyName:I.keyName,fields:N,transaction:I._transaction,store:I._store});return I._indexers.push(O),O.ensure()})),!1)),y.push.apply(y,En([],wn(s.map(function(N){return new xl({dbname:I.dbname,collectionName:I.name,keyName:I.keyName,fields:N,transaction:I._transaction,store:I._store}).drop()})),!1)),[4,Promise.all(y)];case 5:return P.sent(),[4,this._transaction.commit()];case 6:return P.sent(),u.sort().join(",")===d.sort().join(",")?[3,8]:(E=GE(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:E,value:this._metadata,generation:1})]);case 7:P.sent(),P.label=8;case 8:return this._state=Bd.READY,this._mutex.unlock(),[3,10];case 9:throw x=P.sent(),this._mutex.unlock(),x;case 10:return[2]}})})},e.prototype.close=function(){this._state=Bd.CLOSED},e.prototype._hasPropertyOfKeyName=function(n){var t=n[this.keyName];return typeof t=="string"&&!!t},e.prototype._getIndexerBy=function(n){var t,r;n===void 0&&(n=null),n||(n=[this.keyName]);var s=xl.createKey(n);try{for(var u=tn(this._indexers),d=u.next();!d.done;d=u.next()){var p=d.value;if(s===xl.createKey(p.fields))return p}}catch(g){t={error:g}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return null},e.prototype._upgradeBlockLevel=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return n=GE(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:n,value:this._metadata,generation:1})];case 1:return t.sent(),[2]}})})},e.prototype._requestInsert=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return g.sent()?[3,13]:[4,this._blockManager.putToBlock(t,n)];case 2:return g.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return g.sent(),[4,this._blockManager.putToBlock(t,n)];case 4:g.sent(),g.label=5;case 5:g.trys.push([5,10,11,12]),r=tn(this._indexers),s=r.next(),g.label=6;case 6:return s.done?[3,9]:[4,s.value.addItem(n)];case 7:g.sent(),g.label=8;case 8:return s=r.next(),[3,6];case 9:return[3,12];case 10:return u=g.sent(),d={error:u},[3,12];case 11:try{s&&!s.done&&(p=r.return)&&p.call(r)}finally{if(d)throw d.error}return[7];case 12:return[3,14];case 13:throw st.collectionInsertDuplicate;case 14:return[2]}})})},e.prototype._requestUpsert=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y,E,x,k,T;return R(this,function(I){switch(I.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=I.sent())?[3,13]:[4,this._blockManager.putToBlock(t,n)];case 2:return I.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return I.sent(),[4,this._blockManager.putToBlock(t,n)];case 4:I.sent(),I.label=5;case 5:I.trys.push([5,10,11,12]),s=tn(this._indexers),u=s.next(),I.label=6;case 6:return u.done?[3,9]:[4,(_=u.value).addItem(n)];case 7:I.sent(),I.label=8;case 8:return u=s.next(),[3,6];case 9:return[3,12];case 10:return d=I.sent(),E={error:d},[3,12];case 11:try{u&&!u.done&&(x=s.return)&&x.call(s)}finally{if(E)throw E.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(t,n)];case 14:I.sent(),I.label=15;case 15:I.trys.push([15,21,22,23]),p=tn(this._indexers),g=p.next(),I.label=16;case 16:return g.done?[3,20]:(_=g.value).diff(_.getColumnValues(r),_.getColumnValues(n))===0?[3,19]:[4,_.removeItem(r)];case 17:return I.sent(),[4,_.addItem(n)];case 18:I.sent(),I.label=19;case 19:return g=p.next(),[3,16];case 20:return[3,23];case 21:return y=I.sent(),k={error:y},[3,23];case 22:try{g&&!g.done&&(T=p.return)&&T.call(p)}finally{if(k)throw k.error}return[7];case 23:return[2]}})})},e.prototype._requestUpdate=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return t=n[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(r=y.sent())?[4,this._blockManager.putToBlock(t,n)]:[3,11];case 2:y.sent(),y.label=3;case 3:y.trys.push([3,9,10,11]),s=tn(this._indexers),u=s.next(),y.label=4;case 4:return u.done?[3,8]:(d=u.value).diff(d.getColumnValues(r),d.getColumnValues(n))===0?[3,7]:[4,d.removeItem(r)];case 5:return y.sent(),[4,d.addItem(n)];case 6:y.sent(),y.label=7;case 7:return u=s.next(),[3,4];case 8:return[3,11];case 9:return p=y.sent(),g={error:p},[3,11];case 10:try{u&&!u.done&&(_=s.return)&&_.call(s)}finally{if(g)throw g.error}return[7];case 11:return[2]}})})},e.prototype._requestRemove=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return[4,this._blockManager.getFromBlock(n)];case 1:return(t=g.sent())?[4,this._blockManager.removeFromBlock(n)]:[3,10];case 2:g.sent(),g.label=3;case 3:g.trys.push([3,8,9,10]),r=tn(this._indexers),s=r.next(),g.label=4;case 4:return s.done?[3,7]:[4,s.value.removeItem(t)];case 5:g.sent(),g.label=6;case 6:return s=r.next(),[3,4];case 7:return[3,10];case 8:return u=g.sent(),d={error:u},[3,10];case 9:try{s&&!s.done&&(p=r.return)&&p.call(r)}finally{if(d)throw d.error}return[7];case 10:return[2]}})})},e.prototype._requestClear=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u;return R(this,function(d){switch(d.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:d.sent(),d.label=2;case 2:d.trys.push([2,7,8,9]),n=tn(this._indexers),t=n.next(),d.label=3;case 3:return t.done?[3,6]:[4,t.value.clear()];case 4:d.sent(),d.label=5;case 5:return t=n.next(),[3,3];case 6:return[3,9];case 7:return r=d.sent(),s={error:r},[3,9];case 8:try{t&&!t.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}return[7];case 9:return[2]}})})},e.prototype.getByKey=function(n){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(n)];case 3:return t=s.sent(),this._mutex.unlock(),[2,qi(t)];case 4:throw r=s.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw st.collectionNotReady;case 7:return[2]}})})},e.prototype.query=function(n){return n===void 0&&(n={}),this.isReady?new Lae({condition:n.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(n.index),backward:!!n.backward}):null},e.prototype.insertOne=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw st.collectionKeyNotGiven;return[4,this._requestInsert(qi(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw st.collectionNotReady;case 9:return[2]}})})},e.prototype.insertMany=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_=this;return R(this,function(y){switch(y.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:y.sent(),y.label=2;case 2:if(y.trys.push([2,12,,14]),n.some(function(E){return!_._hasPropertyOfKeyName(E)}))throw st.collectionKeyNotGiven;y.label=3;case 3:y.trys.push([3,8,9,10]),t=tn(n),r=t.next(),y.label=4;case 4:return r.done?[3,7]:(s=r.value,[4,this._requestInsert(qi(s))]);case 5:y.sent(),y.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return u=y.sent(),p={error:u},[3,10];case 9:try{r&&!r.done&&(g=t.return)&&g.call(t)}finally{if(p)throw p.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return y.sent(),this._mutex.unlock(),[2,n];case 12:return d=y.sent(),[4,this._transaction.clear()];case 13:throw y.sent(),this._mutex.unlock(),d;case 14:return[3,16];case 15:throw st.collectionNotReady;case 16:return[2]}})})},e.prototype.upsertOne=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw st.collectionKeyNotGiven;return[4,this._requestUpsert(qi(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw st.collectionNotReady;case 9:return[2]}})})},e.prototype.upsertMany=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_=this;return R(this,function(y){switch(y.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:y.sent(),y.label=2;case 2:if(y.trys.push([2,12,,14]),n.some(function(E){return!_._hasPropertyOfKeyName(E)}))throw st.collectionKeyNotGiven;y.label=3;case 3:y.trys.push([3,8,9,10]),t=tn(n),r=t.next(),y.label=4;case 4:return r.done?[3,7]:(s=r.value,[4,this._requestUpsert(qi(s))]);case 5:y.sent(),y.label=6;case 6:return r=t.next(),[3,4];case 7:return[3,10];case 8:return u=y.sent(),p={error:u},[3,10];case 9:try{r&&!r.done&&(g=t.return)&&g.call(t)}finally{if(p)throw p.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return y.sent(),this._mutex.unlock(),[2,n];case 12:return d=y.sent(),[4,this._transaction.clear()];case 13:throw y.sent(),this._mutex.unlock(),d;case 14:return[3,16];case 15:throw st.collectionNotReady;case 16:return[2]}})})},e.prototype.update=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(n))throw st.collectionKeyNotGiven;return[4,this._requestUpdate(qi(n))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,n];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw st.collectionNotReady;case 9:return[2]}})})},e.prototype.updateIf=function(n,t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g,_,y,E,x,k,T,I,P,N=this;return R(this,function(O){switch(O.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:O.sent(),O.label=2;case 2:return O.trys.push([2,13,,15]),r=n.where,s=r===void 0?{}:r,u=n.index,d=u===void 0?null:u,p=n.backward,g=p!==void 0&&p,_=[],[4,new _w({condition:s,blockManager:this._blockManager,backward:g,indexer:this._getIndexerBy(d)}).each(function(U){return A(N,void 0,void 0,function(){var L,ee;return R(this,function(V){if(U.error)throw U.stop(),U.error;if(U.hasNext){if(L=U.nextValue,fc(s,L)&&t.set){if(typeof t.set!="function")for(ee in t.set)L[ee]=t.set[ee];else t.set(L);_.push(L)}U.next()}else U.stop();return[2]})})})];case 3:O.sent(),O.label=4;case 4:O.trys.push([4,9,10,11]),y=tn(_),E=y.next(),O.label=5;case 5:return E.done?[3,8]:(x=E.value,[4,this._requestUpdate(qi(x))]);case 6:O.sent(),O.label=7;case 7:return E=y.next(),[3,5];case 8:return[3,11];case 9:return k=O.sent(),I={error:k},[3,11];case 10:try{E&&!E.done&&(P=y.return)&&P.call(y)}finally{if(I)throw I.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return O.sent(),this._mutex.unlock(),[2,_];case 13:return T=O.sent(),[4,this._transaction.clear()];case 14:throw O.sent(),this._mutex.unlock(),T;case 15:return[3,17];case 16:throw this._transaction.clear(),st.collectionNotReady;case 17:return[2]}})})},e.prototype.remove=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(n)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return t=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw st.collectionNotReady;case 9:return[2]}})})},e.prototype.removeIf=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y,E,x,k,T,I,P=this;return R(this,function(N){switch(N.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:N.sent(),N.label=2;case 2:return N.trys.push([2,13,,14]),t=n.where,r=t===void 0?{}:t,s=n.index,u=s===void 0?null:s,d=n.backward,p=d!==void 0&&d,g=[],[4,new _w({condition:r,blockManager:this._blockManager,backward:p,indexer:this._getIndexerBy(u)}).each(function(O){return A(P,void 0,void 0,function(){var U,L;return R(this,function(ee){if(O.error)throw O.stop(),O.error;return O.hasNext?(U=O.nextValue,fc(r,U)&&(L=U[this.keyName],g.push(L)),O.next()):O.stop(),[2]})})})];case 3:N.sent(),N.label=4;case 4:N.trys.push([4,9,10,11]),_=tn(g),y=_.next(),N.label=5;case 5:return y.done?[3,8]:(E=y.value,[4,this._requestRemove(E)]);case 6:N.sent(),N.label=7;case 7:return y=_.next(),[3,5];case 8:return[3,11];case 9:return x=N.sent(),T={error:x},[3,11];case 10:try{y&&!y.done&&(I=_.return)&&I.call(_)}finally{if(T)throw T.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return N.sent(),this._mutex.unlock(),[2,g];case 13:throw k=N.sent(),this._mutex.unlock(),k;case 14:return[3,16];case 15:throw this._transaction.clear(),st.collectionNotReady;case 16:return[2]}})})},e.prototype.clear=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return t.sent(),[4,this._transaction.commit()];case 4:return t.sent(),this._mutex.unlock(),[3,7];case 5:return n=t.sent(),[4,this._transaction.clear()];case 6:throw t.sent(),this._mutex.unlock(),n;case 7:return[3,9];case 8:throw st.collectionNotReady;case 9:return[2]}})})},e.prototype.getBlob=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.saveBlob=function(n,t){return t===void 0&&(t=null),A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,this._blobContainer.save(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.removeBlob=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.remove(n)];case 1:return t.sent(),[2]}})})},e.prototype.removeAllBlobs=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,this._blobContainer.clear()];case 1:return n.sent(),[2]}})})},e}(),Ji={},Nv=function(){function e(n){n===void 0&&(n={});var t=n.itemSizeLimit,r=t===void 0?4194304:t,s=n.delay,u=s===void 0?1:s,d=n.encryption,p=d===void 0?l_:d;this._encryption=p,this.itemSizeLimit=r,this.delay=u,this.observer={}}return Object.defineProperty(e.prototype,"rawData",{get:function(){return Ji[this.dbname]},set:function(n){Ji[this.dbname]=n},enumerable:!1,configurable:!0}),e.prototype.observe=function(n,t,r){var s=this;this.observer[n]={},t.forEach(function(u){return s.observer[n][u]=r})},e.prototype.init=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:this.dbname=n,Ji[this.dbname]={},r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(si.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(si.value))throw st.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(si)];case 4:return r.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return A(this,void 0,void 0,function(){return R(this,function(n){return[2,Object.keys(Ji[this.dbname]).filter(function(t){return t!==si.key})]})})},e.prototype.get=function(n){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return[4,wd(this.delay)];case 1:if(s.sent(),t=this.observer[n],r=t&&t.get?t.get(n):null)throw r;return[2,Ji[this.dbname][n]?this._encryption.decrypt(Ji[this.dbname][n]):null]}})})},e.prototype.set=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return[4,wd(this.delay)];case 1:if(g.sent(),t=n.key,r=n.value,s=this.observer[t],u=s&&s.set?s.set(t):null)throw u;if(d=this._encryption.encrypt(r),p=JSON.stringify(d),t===si.key||p.length<this.itemSizeLimit)return Ji[this.dbname][t]=d,[2,Ji[this.dbname][t]];throw st.storeItemSizeExceeded}})})},e.prototype.setMany=function(n){return A(this,void 0,void 0,function(){var t,r=this;return R(this,function(s){switch(s.label){case 0:return[4,wd(this.delay)];case 1:return s.sent(),t=[],n.forEach(function(u){var d=u.key,p=u.value,g=r.observer[d];if(g&&g.set&&g.set(d))t.push(st.collectionWriteFailed);else{var _=r._encryption.encrypt(p),y=JSON.stringify(_);d===si.key||y.length<r.itemSizeLimit?(Ji[r.dbname][d]=_,t.push(p)):t.push(st.storeItemSizeExceeded)}}),[2,t]}})})},e.prototype.remove=function(n){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return[4,wd(this.delay)];case 1:if(s.sent(),t=this.observer[n],r=t&&t.remove?t.remove(n):null)throw r;return Ji[this.dbname][n]&&delete Ji[this.dbname][n],[2,n]}})})},e.prototype.removeMany=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return[4,wd(this.delay)];case 1:_.sent();try{for(t=tn(n),r=t.next();!r.done;r=t.next()){if(s=r.value,u=this.observer[s],d=u&&u.remove?u.remove(s):null)throw d;Ji[this.dbname][s]&&delete Ji[this.dbname][s]}}catch(y){p={error:y}}finally{try{r&&!r.done&&(g=t.return)&&g.call(t)}finally{if(p)throw p.error}}return[2,n]}})})},e.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,wd(this.delay)];case 1:return n.sent(),Ji[this.dbname]={},[2]}})})},e}(),Bae=function(){function e(n){n===void 0&&(n={}),this.itemSizeLimit=104857600;var t=n.encryption,r=t===void 0?l_:t;this._window=typeof window<"u"?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=r}return e.prototype.init=function(n){return A(this,void 0,void 0,function(){var t,r,s=this;return R(this,function(u){switch(u.label){case 0:return this.dbname=n,[4,new Promise(function(d,p){if(s._window&&jo)if(zae){var g=s._indexedDB.open("_testMozilla");g.onerror=function(){return p(st.storeNotAvailableInPrivateBrowsing)},g.onsuccess=function(){return d()}}else qae?s._window.indexedDB||!s._window.PointerEvent&&!s._window.MSPointerEvent||p(st.storeNotAvailableInPrivateBrowsing):d();else p(st.storeNotAvailable)})];case 1:return u.sent(),t=this,[4,new Promise(function(d,p){var g=s._indexedDB.open(n);g.addEventListener("upgradeneeded",function(_){_.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),g.addEventListener("success",function(_){return d(_.target.result)}),g.addEventListener("error",function(_){return p(_.target.error)})})];case 2:t._database=u.sent(),u.label=3;case 3:return u.trys.push([3,,5,7]),[4,this.get(si.key)];case 4:if((r=u.sent())&&JSON.stringify(r)!==JSON.stringify(si.value))throw st.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(si)];case 6:return u.sent(),[7];case 7:return[2]}})})},e.prototype.getAllKeys=function(){return A(this,void 0,void 0,function(){var n=this;return R(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,s){var u=n._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").getAllKeys();u.addEventListener("success",function(d){r(d.target.result.filter(function(p){return p!==si.key}))}),u.addEventListener("error",function(d){return s(d.target.error)})})];case 1:return[2,t.sent()]}})})},e.prototype.get=function(n){return A(this,void 0,void 0,function(){var t=this;return R(this,function(r){switch(r.label){case 0:return[4,new Promise(function(s,u){var d=t._database.transaction("NestDBStore","readonly").objectStore("NestDBStore").get(n);d.addEventListener("success",function(p){return s(p.target.result?t._encryption.decrypt(p.target.result.value):null)}),d.addEventListener("error",function(p){return u(p.target.error)})})];case 1:return[2,r.sent()]}})})},e.prototype.set=function(n){return A(this,void 0,void 0,function(){var t,r,s=this;return R(this,function(u){switch(u.label){case 0:return t=n.key,r=n.value,[4,new Promise(function(d,p){var g=s._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").put({key:t,value:s._encryption.encrypt(r)});g.addEventListener("success",function(_){d(_.target.result)}),g.addEventListener("error",function(_){return p(_.target.error)})})];case 1:return u.sent(),[2,r]}})})},e.prototype.setMany=function(n){return A(this,void 0,void 0,function(){var t,r,s=this;return R(this,function(u){switch(u.label){case 0:return t=[],r=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),n.forEach(function(d){var p=d.key,g=d.value;t.push(new Promise(function(_){var y=r.put({key:p,value:s._encryption.encrypt(g)});y.addEventListener("success",function(E){_(E.target.result)}),y.addEventListener("error",function(){_(st.collectionWriteFailed)})}))}),[4,Promise.all(t)];case 1:return u.sent(),[2,n.map(function(d){return d.value})]}})})},e.prototype.remove=function(n){return A(this,void 0,void 0,function(){var t=this;return R(this,function(r){switch(r.label){case 0:return[4,new Promise(function(s,u){var d=t._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").delete(n);d.addEventListener("success",function(){return s(n)}),d.addEventListener("error",function(p){return u(p.target.error)})})];case 1:return[2,r.sent()]}})})},e.prototype.removeMany=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return t=this._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore"),[4,Promise.all(n.map(function(s){return new Promise(function(u,d){var p=t.delete(s);p.addEventListener("success",function(){return u(s)}),p.addEventListener("error",function(g){return d(g.target.error)})})}))];case 1:return[2,r.sent()]}})})},e.prototype.clear=function(){return A(this,void 0,void 0,function(){var n=this;return R(this,function(t){switch(t.label){case 0:return[4,new Promise(function(r,s){var u=n._database.transaction("NestDBStore","readwrite").objectStore("NestDBStore").clear();u.addEventListener("success",function(){return r()}),u.addEventListener("error",function(d){return s(d.target.error)})})];case 1:return[2,t.sent()]}})})},e}(),jae=function(){function e(n){var t=n.AsyncStorage,r=n.encryption,s=r===void 0?l_:r;this.itemSizeLimit=6291456,this._asyncStorage=t,this._encryption=s}return e.prototype._isBelonging=function(n){return n.startsWith("".concat(this.dbname,"/"))},e.prototype._getActualKey=function(n){return"".concat(this.dbname,"/").concat(n)},e.prototype.init=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:this.dbname=n,r.label=1;case 1:return r.trys.push([1,,3,5]),[4,this.get(si.key)];case 2:if((t=r.sent())&&JSON.stringify(t)!==JSON.stringify(si.value))throw st.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(si)];case 4:return r.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return A(this,void 0,void 0,function(){var n,t,r=this;return R(this,function(s){switch(s.label){case 0:return n=this._getActualKey(si.key),[4,this._asyncStorage.getAllKeys()];case 1:return t=s.sent(),[2,t.filter(function(u){return r._isBelonging(u)&&u!==n}).map(function(u){return u.substring("".concat(r.dbname,"/").length)})]}})})},e.prototype.get=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(n))];case 1:return[2,(t=r.sent())?this._encryption.decrypt(JSON.parse(t)):null]}})})},e.prototype.set=function(n){return A(this,void 0,void 0,function(){var t,r,s;return R(this,function(u){switch(u.label){case 0:return t=n.key,r=n.value,s=JSON.stringify(this._encryption.encrypt(r)),t===si.key||s.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(t),s)]:[3,2];case 1:return u.sent(),[2,JSON.parse(s)];case 2:throw st.storeItemSizeExceeded}})})},e.prototype.setMany=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y,E;return R(this,function(x){switch(x.label){case 0:t=[],r=[];try{for(s=tn(n),u=s.next();!u.done;u=s.next()){d=u.value;try{p=d.key,g=d.value,_=JSON.stringify(this._encryption.encrypt(g)),p===si.key||_.length<this.itemSizeLimit?(r.push([this._getActualKey(p),_]),t.push(g)):t.push(st.storeItemSizeExceeded)}catch{t.push(st.collectionWriteFailed)}}}catch(k){y={error:k}}finally{try{u&&!u.done&&(E=s.return)&&E.call(s)}finally{if(y)throw y.error}}x.label=1;case 1:return x.trys.push([1,3,,4]),[4,this._asyncStorage.multiSet(r)];case 2:return x.sent(),[3,4];case 3:return x.sent(),[2,new Array(t.length).fill(st.collectionWriteFailed)];case 4:return[2,t]}})})},e.prototype.remove=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(n))];case 1:return t.sent(),[2,n]}})})},e.prototype.removeMany=function(n){return A(this,void 0,void 0,function(){var t=this;return R(this,function(r){switch(r.label){case 0:return[4,this._asyncStorage.multiRemove(n.map(function(s){return t._getActualKey(s)}))];case 1:return r.sent(),[2,n]}})})},e.prototype.clear=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return n=t.sent(),[4,this.removeMany(n)];case 2:return t.sent(),[4,this.remove(si.key)];case 3:return t.sent(),[2]}})})},e}(),xm=!0,Vu=function(){function e(){}return e.off=function(){xm=!1},e.log=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];xm&&console.log.apply(console,En(["".concat("[NESTDB]","[LOG]")],wn(n),!1))},e.warning=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];xm&&console.warn.apply(console,En(["".concat("[NESTDB]","[WARNING]")],wn(n),!1))},e.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];xm&&console.error.apply(console,En(["".concat("[NESTDB]","[ERROR]")],wn(n),!1))},e}();(function(e){e.INIT="INIT",e.OPENING="OPENING",e.OPENED="OPENED",e.CLOSED="CLOSED"})(Ro||(Ro={}));var Gae=function(){function e(n){var t=n.name,r=n.version,s=n.store,u=n.config;this.name=t,this._version=r,this._state=Ro.INIT,this._config=u||new f_({dbname:t}),this._store=s,this._event={success:Gm,error:Gm,upgrade:aA},this._collections=new Map,this._globalMutex=new uL("".concat(this.name,".lock")),this._config.disableLogger&&Vu.off(),new Wa({dbname:t,limit:this._config.cacheLimit})}return Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.commitSchema=function(n){return A(this,void 0,void 0,function(){var t=this;return R(this,function(r){switch(r.label){case 0:return this._state!==Ro.OPENING?[3,2]:[4,Promise.all(n.map(function(s){return A(t,void 0,void 0,function(){var u,d,p,g;return R(this,function(_){switch(_.label){case 0:return u=s.collectionName,d=s.keyName,p=s.index,g=p===void 0?[]:p,this._collections.has(u)||this._collections.set(u,new WE({dbname:this.name,collectionName:u,keyName:d,keyHash:s.keyHash||null,indexes:g,store:this._store})),[4,this._collections.get(u).init()];case 1:return _.sent(),[2]}})})}))];case 1:return r.sent(),[3,3];case 2:throw st.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},e.prototype.open=function(){var n;return A(this,void 0,void 0,function(){var t,r,s,u,d=this;return R(this,function(p){switch(p.label){case 0:return[4,this._globalMutex.lock()];case 1:if(p.sent(),this._state===Ro.OPENED)return[3,15];this._state=Ro.OPENING,p.label=2;case 2:return p.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return p.sent(),g=this.name,t="".concat(bw(g),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(t)];case 4:return s=(n=p.sent())!==null&&n!==void 0?n:r,[2,new Promise(function(_,y){var E=function(k){s.version<d._version?d._event.upgrade(s.version,function(T){return A(d,void 0,void 0,function(){var I;return R(this,function(P){switch(P.label){case 0:if(T)return[3,5];s.version++,s.collectionNames=Array.from(this._collections.keys()),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,this._store.set({key:t,value:s,generation:this._version})];case 2:return P.sent(),k({continued:!0}),[3,4];case 3:return I=P.sent(),k({continued:!1,err:I}),[3,4];case 4:return[3,6];case 5:k({continued:!1,err:T}),P.label=6;case 6:return[2]}})})}):k({continued:!1})},x=function(k){var T=k.continued,I=T!==void 0&&T,P=k.err,N=P===void 0?null:P;if(I)setTimeout(function(){return E(x)},10);else if(N)Vu.error(N.message),d._globalMutex.unlock(),d._event.error(N),y(N);else{var O=[];s.collectionNames.forEach(function(U){d._collections.has(U)||O.push(A(d,void 0,void 0,function(){var L,ee;return R(this,function(V){switch(V.label){case 0:return[4,WE.metadataOf(this.name,U,this._store)];case 1:return(L=V.sent())?(ee=new WE({dbname:this.name,collectionName:U,keyName:L.keyName,indexes:L.indexes,store:this._store}),this._collections.set(U,ee),[4,ee.init()]):[3,3];case 2:V.sent(),V.label=3;case 3:return[2]}})}))}),Promise.all(O).then(function(){d._state=Ro.OPENED,d._globalMutex.unlock(),d._event.success(),_()}).catch(function(U){Vu.error(U.message),d._globalMutex.unlock(),d._event.error(U),y(U)})}};E(x)})];case 5:switch(u=p.sent(),u.code){case Rt.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Rt.STORE_NOT_AVAILABLE:return[3,8];case Rt.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return Vu.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new Nv({}),this._globalMutex.unlock(),this._event.error(u),[4,this.open()];case 7:return p.sent(),[3,14];case 8:return Vu.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Nv({}),this._globalMutex.unlock(),this._event.error(u),[4,this.open()];case 9:return p.sent(),[3,14];case 10:return Vu.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return p.sent(),this._globalMutex.unlock(),this._event.error(u),[4,this.open()];case 12:return p.sent(),[3,14];case 13:throw Vu.error(u.message),this._globalMutex.unlock(),this._event.error(u),u;case 14:return[3,15];case 15:return[2]}var g})})},e.prototype.close=function(){this._collections.forEach(function(n){return n.close()}),this._state=Ro.CLOSED},e.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(t){return t.clear()}))];case 1:return n.sent(),[2]}})})},e.prototype.reset=function(){return A(this,void 0,void 0,function(){var n,t=this;return R(this,function(r){switch(r.label){case 0:return this.close(),(n=Wa.get(this.name))&&n.clearByCondition(function(s){return s.key.startsWith(bw(t.name))}),[4,this._store.clear()];case 1:return r.sent(),[2]}})})},e.prototype.on=function(n,t){this._event[n]=t},e.prototype.off=function(n){typeof this._event[n]=="function"&&(n==="upgrade"?this._event[n]=aA:this._event[n]=Gm)},e.prototype.collection=function(n){return this._collections.get(n)||null},e}(),Gp=null,$ae=function(){function e(n,t,r){var s=this;this._fcmPushToken=null,this._apnsPushToken=null,this._iid=n,this.options=t;var u=ue.of(n),d=u.sdkState,p=u.cacheContext,g=u.dispatcher,_=u.sessionManager,y=u.requestQueue,E=u.logger,x=u.userEventHandlers;this._onlineDetector=new Die({logger:E,connectionDelegate:{reconnect:function(){var k=ue.of(n),T=k.sdkState,I=k.connectionManager;T.appState==="foreground"&&I.resetAndReconnect()},disconnect:function(){ue.of(n).connectionManager.disconnect()}}}),new qd(n,{localCacheEnabled:p.localCacheEnabled,dispatcher:g,sdkState:d,logger:E}),r.forEach(function(k){k.init(n,{sdkState:d,cacheContext:p,dispatcher:g,sessionManager:_,requestQueue:y,logger:E,onlineDetector:s._onlineDetector}),s[k.name]=k}),this._appStateChangeDetector=new Mie,this._appStateChangeDetector.on("resume",function(){E.debug("the page resumes from freeze"),s.setForegroundState()}).on("pause",function(){E.debug("the page freezes"),s.setBackgroundState()}),g.on(function(k){if(k instanceof kt){if(k.code==="USEV"){var T=k.as(eL).event;if(T.category===Qf.FRIEND_DISCOVERED){var I=Iv.getDataAsFriendDiscoveredEvent(n,T).friendDiscoveries;cn(function(){return A(s,void 0,void 0,function(){return R(this,function(L){return[2,x.forEach(function(ee){ee.onFriendsDiscovered(I)})]})})})}}}else if(k instanceof EU){var P=ue.of(s._iid).subscribedUnreadMessageCount,N=!1,O=k.ts;if(typeof O=="number"&&O>P.ts){if(P.all!==k.all&&(N=!0),P.all=k.all>=0?k.all:0,k.customTypes)for(var U in k.customTypes)P.customTypes[U]!==k.customTypes[U]&&(N=!0),P.customTypes[U]=k.customTypes[U];N=N&&P.ts>0,P.ts=O}N&&cn(function(){return A(s,void 0,void 0,function(){return R(this,function(L){return[2,x.forEach(function(ee){ee.onTotalUnreadMessageCountUpdated(P.all,P.customTypes)})]})})})}else k instanceof NU&&p.localCacheEnabled&&p.preference.set(s._getUserProfileCacheKey(d.userId),uw.payloadify(k.userProfile))})}return e.init=function(n){var t=n.appId,r=n.appVersion,s=r===void 0?null:r,u=n.modules,d=u===void 0?[]:u,p=n.options,g=p===void 0?new yU:p,_=n.debugMode,y=_!==void 0&&_,E=n.customApiHost,x=n.customWebSocketHost,k=n.newInstance,T=k!==void 0&&k,I=n.logLevel,P=n.localCacheEnabled,N=P!==void 0&&P,O=n.localCacheEncryption,U=n.useAsyncStorageStore,L=U===void 0?null:U;if(!Gp||T){var ee="su-".concat(Qa()),V=O!=null?O:{encrypt:function(ye){return ye},decrypt:function(ye){return ye}},J=new Nv({encryption:V});y||(J=L?new jae({AsyncStorage:L,encryption:V}):new Bae({encryption:V})),new ue(ee,{appId:t,appVersion:s,options:g,apiHost:E!=null?E:"https://api-".concat(t,".sendbird.com"),websocketHost:x!=null?x:"wss://ws-".concat(t,".sendbird.com"),store:J,encryption:V,logLevel:I,localCacheEnabled:N,debugMode:y});var Y=new e(ee,g,En(En([],wn(d),!1),[new Ore],!1));return Gp||(Gp=Y),Y}return Gp},Object.defineProperty(e,"instance",{get:function(){return Gp},enumerable:!1,configurable:!0}),Object.defineProperty(e,"version",{get:function(){return Ste},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appId",{get:function(){return ue.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appInfo",{get:function(){return ue.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appVersion",{get:function(){var n;return(n=ue.of(this._iid).sdkState.appVersion)!==null&&n!==void 0?n:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugMode",{get:function(){return ue.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return ue.of(this._iid).logger.level},set:function(n){ue.of(this._iid).logger.level=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCacheEnabled",{get:function(){return ue.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ekey",{get:function(){return $f(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){var n;return(n=ue.of(this._iid).sessionManager.currentUser)!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){var n=ue.of(this._iid).connectionManager;return n.isConnected?Kl.OPEN:n.isConnecting?Kl.CONNECTING:Kl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastConnectedAt",{get:function(){var n=ue.of(this._iid),t=n.connectedAt;return n.connectionManager.isConnected?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),e.prototype._getPreferenceCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".pref")},e.prototype._getUserProfileCacheKey=function(n){return"sendbird@".concat(this.appId,"/").concat(n,".profile")},e.prototype.getMemoryStoreForDebugging=function(){var n=ue.of(this._iid),t=n.debugMode,r=n.cacheContext;if(t)return r.store instanceof Nv?r.store:null;throw me.debugModeRequired},e.prototype.addExtension=function(n,t){var r=ue.of(this._iid).sdkState;["sb_uikit","sb_syncmanager"].indexOf(n)>-1&&(r.extensions[n]=t)},e.prototype.initializeCache=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return t=ue.of(this._iid),r=t.sdkState,s=t.cacheContext,u=t.connectionManager,d=t.dispatcher,r.userId&&r.userId===n?[3,6]:[4,u.logout()];case 1:return y.sent(),r.userId=n,s.localCacheEnabled?(p="sendbird@".concat(r.appId,"/").concat(n,".db"),s.nestdb&&s.nestdb.state!==Ro.CLOSED&&s.nestdb.name===p?[3,3]:((g=s.nestdb=new Gae({name:"sendbird@".concat(r.appId,"/").concat(n,".db"),version:1,store:s.store})).on("upgrade",function(E){return function(x,k){x===0?E.commitSchema([{collectionName:QU,keyName:Eie,index:[jm(Ar.LATEST_LAST_MESSAGE),jm(Ar.CHRONOLOGICAL),jm(Ar.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:wie,keyName:xie,index:[zo($r.CHANNEL_LATEST),zo($r.NEWEST_CHILD_MESSAGE)]},{collectionName:Iie,keyName:Nie,index:[zo($r.CHANNEL_LATEST),zo($r.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}]).then(function(){return k()}).catch(function(T){return k(T)}):k()}}(g)),[4,g.open()])):[3,6];case 2:y.sent(),d.dispatch(new JU(this._iid,{userId:n})),y.label=3;case 3:return[4,s.preference.init(this._getPreferenceCacheKey(n))];case 4:return y.sent(),[4,s.preference.get(this._getUserProfileCacheKey(n))];case 5:(_=y.sent())&&new uw(this._iid,_).apply(),y.label=6;case 6:return[2]}})})},e.prototype.clearCachedData=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return(n=ue.of(this._iid).cacheContext).localCacheEnabled?(n.nestdb&&n.nestdb.clear(),[4,n.preference.clear()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.clearCachedMessages=function(n){return A(this,void 0,void 0,function(){var t,r,s=this;return R(this,function(u){switch(u.label){case 0:return We(An("string",n)).throw(me.invalidParameters),t=XU.of(this._iid),r=wk.of(this._iid),t&&r?[4,Promise.all(n.map(function(d){return A(s,void 0,void 0,function(){return R(this,function(p){switch(p.label){case 0:return[4,t.removeMessagesOfChannel(d)];case 1:return p.sent(),[4,r.removeMessagesOfChannel(d)];case 2:return p.sent(),[2]}})})}))]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},e.prototype.connect=function(n,t){return t===void 0&&(t=null),A(this,void 0,void 0,function(){var r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:r=ue.of(this._iid),s=r.sdkState,u=r.cacheContext,d=r.connectionManager,p=r.statLogCollector,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.initializeCache(n)];case 2:return y.sent(),[3,4];case 3:return y.sent(),g=ue.of(this._iid).logger,u.localCacheEnabled=!1,g.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,p.init("sendbird@".concat(s.appId,"/").concat(n,".statlog"))];case 5:return y.sent(),[4,d.connect(t)];case 6:return y.sent(),this._appStateChangeDetector.start(),s.appState="foreground",[4,(_=qd.of(this._iid))==null?void 0:_.processNonAutoResendRegisteredPendingMessages()];case 7:return y.sent(),this._onlineDetector.start(),[2,this.currentUser]}})})},e.prototype.reconnect=function(){var n=ue.of(this._iid),t=n.connectionManager,r=n.sdkState,s=n.sessionManager.auth.hasSession;return s&&t.resetAndReconnect().then(function(){r.appState="foreground"}).catch(function(){}),s},e.prototype.disconnect=function(){return A(this,void 0,void 0,function(){var n,t,r,s;return R(this,function(u){switch(u.label){case 0:return n=ue.of(this._iid),t=n.connectionManager,r=n.cacheContext,s=n.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),s.cancelAll(),[4,t.logout()];case 1:return u.sent(),r.localCacheEnabled?[4,this.clearCachedData()]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2]}})})},e.prototype.setBackgroundState=function(){var n=ue.of(this._iid),t=n.connectionManager,r=n.sdkState,s=n.logger;r.appState==="foreground"&&(r.appState="background",s.debug("going background state"),t.background())},e.prototype.setForegroundState=function(){var n=ue.of(this._iid),t=n.connectionManager,r=n.sdkState,s=n.logger;r.appState==="background"&&(r.appState="foreground",s.debug("going foreground state"),t.resetAndReconnect())},e.prototype.setSessionHandler=function(n){We(n instanceof Aie).throw(me.invalidParameters),ue.of(this._iid).sessionManager.handler=n},e.prototype.addUserEventHandler=function(n,t){We(re("string",n)&&t instanceof Rie).throw(me.invalidParameters),ue.of(this._iid).userEventHandlers.set(n,t)},e.prototype.removeUserEventHandler=function(n){ue.of(this._iid).userEventHandlers.delete(n)},e.prototype.removeAllUserEventHandler=function(){ue.of(this._iid).userEventHandlers.clear()},e.prototype.addConnectionHandler=function(n,t){We(re("string",n)&&t instanceof aL).throw(me.invalidParameters),ue.of(this._iid).connectionHandlers.set(n,t)},e.prototype.removeConnectionHandler=function(n){ue.of(this._iid).connectionHandlers.delete(n)},e.prototype.removeAllConnectionHandler=function(){ue.of(this._iid).connectionHandlers.clear()},e.prototype.createApplicationUserListQuery=function(n){return n===void 0&&(n={}),new Tae(this._iid,n)},e.prototype.createBlockedUserListQuery=function(n){return n===void 0&&(n={}),new Oae(this._iid,n)},e.prototype.createFriendListQuery=function(n){return n===void 0&&(n={}),new Mae(this._iid,n)},e.prototype.createMessageSearchQuery=function(n){return new Tre(this._iid,n)},e.prototype.buildUserFromSerializedData=function(n){var t=pc(n);return new Pn(this._iid,Pn.payloadify(t))},e.prototype.updateCurrentUserInfo=function(n){return n===void 0&&(n={}),A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return n=ae(ae({},Oie),n),We(function(_){return li(_.profileImage,!0)&&re("string",_.profileUrl,!0)&&re("string",_.nickname,!0)}(n)).throw(me.invalidParameters),this.currentUser?(t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new eA(ae({userId:r.userId},n)),[4,s.send(u)]):[3,2];case 1:return d=g.sent(),p=d.as(nA).user,this.currentUser&&(n.nickname&&(this.currentUser.nickname=p.nickname),(n.profileUrl||n.profileImage)&&(this.currentUser.plainProfileUrl=p.profileUrl)),[2,p];case 2:throw me.connectionRequired}})})},e.prototype.updateCurrentUserInfoWithPreferredLanguages=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return We(An("string",n)).throw(me.invalidParameters),this.currentUser?(t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new eA({userId:r.userId,preferredLanguages:n}),[4,s.send(u)]):[3,2];case 1:return d=g.sent(),p=d.as(nA).user,this.currentUser&&(this.currentUser.preferredLanguages=p.preferredLanguages),[2,p];case 2:throw me.connectionRequired}})})},e.prototype.registerFCMPushTokenForCurrentUser=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:if(We(re("string",n)).throw(me.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new Lie({userId:r.userId,token:n}),[4,s.send(u)];case 2:return d.sent(),this._fcmPushToken="",[2,ea.SUCCESS];case 3:return d.sent(),[2,ea.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,ea.PENDING];case 6:return[2]}})})},e.prototype.unregisterFCMPushTokenForCurrentUser=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:if(We(re("string",n)).throw(me.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new Fie({userId:r.userId,token:n}),[4,s.send(u)];case 2:return d.sent(),this._fcmPushToken="",[2,ea.SUCCESS];case 3:return d.sent(),[2,ea.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,ea.PENDING];case 6:return[2]}})})},e.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return A(this,void 0,void 0,function(){var n,t,r,s;return R(this,function(u){switch(u.label){case 0:return this.currentUser?(n=ue.of(this._iid),t=n.sdkState,r=n.requestQueue,s=new zie({userId:t.userId}),[4,r.send(s)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},e.prototype.registerAPNSPushTokenForCurrentUser=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:if(We(re("string",n)).throw(me.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new Uie({userId:r.userId,token:n}),[4,s.send(u)];case 2:return d.sent(),this._fcmPushToken="",[2,ea.SUCCESS];case 3:return d.sent(),[2,ea.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,ea.PENDING];case 6:return[2]}})})},e.prototype.unregisterAPNSPushTokenForCurrentUser=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:if(We(re("string",n)).throw(me.invalidParameters),!this.currentUser)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new Pie({userId:r.userId,token:n}),[4,s.send(u)];case 2:return d.sent(),this._fcmPushToken="",[2,ea.SUCCESS];case 3:return d.sent(),[2,ea.ERROR];case 4:return[3,6];case 5:return this._fcmPushToken=n,[2,ea.PENDING];case 6:return[2]}})})},e.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return A(this,void 0,void 0,function(){var n,t,r,s;return R(this,function(u){switch(u.label){case 0:return this.currentUser?(n=ue.of(this._iid),t=n.sdkState,r=n.requestQueue,s=new Hie({userId:t.userId}),[4,r.send(s)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},e.prototype.getChannelInvitationPreference=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u;return R(this,function(d){switch(d.label){case 0:return n=ue.of(this._iid),t=n.sdkState,r=n.requestQueue,s=new jie({userId:t.userId}),[4,r.send(s)];case 1:return u=d.sent(),[2,{autoAccept:u.as(Gie).autoAccept}]}})})},e.prototype.setChannelInvitationPreference=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){switch(p.label){case 0:return We(re("boolean",n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new $ie({userId:r.userId,willAutoAccept:n}),[4,s.send(u)];case 1:return d=p.sent(),[2,{autoAccept:d.as(Vie).autoAccept}]}})})},e.prototype.getDoNotDisturb=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u;return R(this,function(d){switch(d.label){case 0:return n=ue.of(this._iid),t=n.sdkState,r=n.requestQueue,s=new Wie({userId:t.userId}),[4,r.send(s)];case 1:return u=d.sent(),[2,u.as(Kie).preference]}})})},e.prototype.setDoNotDisturb=function(n,t,r,s,u,d){return t===void 0&&(t=0),r===void 0&&(r=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=""),A(this,void 0,void 0,function(){var p,g,_,y,E;return R(this,function(x){switch(x.label){case 0:return We(re("boolean",n)&&re("number",t)&&re("number",r)&&re("number",s)&&re("number",u)&&re("string",d)).throw(me.invalidParameters),p=ue.of(this._iid),g=p.sdkState,_=p.requestQueue,y=new Qie({userId:g.userId,doNotDisturbOn:n,startHour:t,startMin:r,endHour:s,endMin:u,timezone:d}),[4,_.send(y)];case 1:return E=x.sent(),[2,E.as(Yie).preference]}})})},e.prototype.getSnoozePeriod=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u;return R(this,function(d){switch(d.label){case 0:return n=ue.of(this._iid),t=n.sdkState,r=n.requestQueue,s=new Xie({userId:t.userId}),[4,r.send(s)];case 1:return u=d.sent(),[2,u.as(Zie).snoozePeriod]}})})},e.prototype.setSnoozePeriod=function(n,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),A(this,void 0,void 0,function(){var s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return We(re("boolean",n)&&re("number",t)&&re("number",r)).throw(me.invalidParameters),s=ue.of(this._iid),u=s.sdkState,d=s.requestQueue,p=new Jie({userId:u.userId,snoozeOn:n,startTs:t,endTs:r}),[4,d.send(p)];case 1:return g=_.sent(),[2,g.as(eae).snoozePeriod]}})})},e.prototype.getMyPushTokensByToken=function(n,t){return A(this,void 0,void 0,function(){var r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return We(re("string",n)&&On(Ta,t)).throw(me.invalidParameters),r=ue.of(this._iid),s=r.sdkState,u=r.requestQueue,d=new qie({userId:s.userId,type:t,token:n}),[4,u.send(d)];case 1:return p=g.sent(),[2,p.as(Bie).pushTokens]}})})},e.prototype.getPushTriggerOption=function(){return A(this,void 0,void 0,function(){var n,t,r,s;return R(this,function(u){switch(u.label){case 0:return n=ue.of(this._iid),t=n.sdkState,r=n.requestQueue,s=new nL({userId:t.userId}),[4,r.send(s)];case 1:return[2,u.sent().as(tL).pushTriggerOption]}})})},e.prototype.setPushTriggerOption=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return We(On(lc,n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new rL({userId:r.userId,pushTriggerOption:n}),[4,s.send(u)];case 1:return[2,d.sent().as(iL).pushTriggerOption]}})})},e.prototype.getPushTemplate=function(){return A(this,void 0,void 0,function(){var n,t,r,s;return R(this,function(u){switch(u.label){case 0:return n=ue.of(this._iid),t=n.sdkState,r=n.requestQueue,s=new rae({userId:t.userId}),[4,r.send(s)];case 1:return[2,u.sent().as(iae).name]}})})},e.prototype.setPushTemplate=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return We(On(mw,n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new aae({userId:r.userId,templateName:n}),[4,s.send(u)];case 1:return[2,d.sent().as(sae).name]}})})},e.prototype.blockUser=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return We(n instanceof Pn||re("string",n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new nae({userId:r.userId,blockedUserId:n instanceof Pn?n.userId:n}),[4,s.send(u)];case 1:return d.sent(),[2]}})})},e.prototype.blockUserWithUserId=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){return[2,this.blockUser(n)]})})},e.prototype.unblockUser=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return We(n instanceof Pn||re("string",n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new tae({userId:r.userId,unblockedUserId:n instanceof Pn?n.userId:n}),[4,s.send(u)];case 1:return d.sent(),[2]}})})},e.prototype.unblockUserWithUserId=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){return[2,this.unblockUser(n)]})})},e.prototype.getFriendChangeLogsByToken=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){switch(p.label){case 0:return We(re("string",n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new oae({userId:r.userId,token:n}),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(lae).changelogs]}})})},e.prototype.getAllowFriendDiscovery=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u;return R(this,function(d){switch(d.label){case 0:return n=ue.of(this._iid),t=n.sdkState,r=n.requestQueue,s=new gae({userId:t.userId}),[4,r.send(s)];case 1:return u=d.sent(),[2,u.as(mae).allowFriendDiscovery]}})})},e.prototype.setAllowFriendDiscovery=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return We(re("boolean",n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new vae({userId:r.userId,allowFriendDiscovery:n}),[4,s.send(u)];case 1:return d.sent(),[2,n]}})})},e.prototype.uploadFriendDiscoveries=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){switch(p.label){case 0:return t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new uae({userId:r.userId,discoveries:n}),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(cae).friendDiscoveryRequestId]}})})},e.prototype.deleteFriendDiscovery=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){return[2,this.deleteFriendDiscoveries([n])]})})},e.prototype.deleteFriendDiscoveries=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return We(An("string",n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new dae({userId:r.userId,discoveryKeys:n}),[4,s.send(u)];case 1:return d.sent(),[2]}})})},e.prototype.addFriends=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){switch(p.label){case 0:return We(An("string",n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new hae({userId:r.userId,userIds:n}),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(pae).users]}})})},e.prototype.deleteFriend=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){return[2,this.deleteFriends([n])]})})},e.prototype.deleteFriends=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return We(An("string",n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new fae({userId:r.userId,userIds:n}),[4,s.send(u)];case 1:return d.sent(),[2]}})})},e.prototype.getAllEmoji=function(){return A(this,void 0,void 0,function(){var n,t,r;return R(this,function(s){switch(s.label){case 0:return n=ue.of(this._iid).requestQueue,t=new bae,[4,n.send(t)];case 1:return r=s.sent(),[2,r.as(yae).emojiContainer]}})})},e.prototype.getEmojiCategory=function(n){return A(this,void 0,void 0,function(){var t,r,s;return R(this,function(u){switch(u.label){case 0:return t=ue.of(this._iid).requestQueue,r=new Eae({categoryId:n}),[4,t.send(r)];case 1:return s=u.sent(),[2,s.as(wae).emojiCategory]}})})},e.prototype.getEmoji=function(n){return A(this,void 0,void 0,function(){var t,r,s;return R(this,function(u){switch(u.label){case 0:return t=ue.of(this._iid).requestQueue,r=new xae({key:n}),[4,t.send(r)];case 1:return s=u.sent(),[2,s.as(kae).emoji]}})})},e}(),at;(function(e){e[e.NONE=0]="NONE",e[e.CHANNEL_ENTER=10102]="CHANNEL_ENTER",e[e.CHANNEL_EXIT=10103]="CHANNEL_EXIT",e[e.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",e[e.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",e[e.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",e[e.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",e[e.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",e[e.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",e[e.TYPING_START=10900]="TYPING_START",e[e.TYPING_END=10901]="TYPING_END",e[e.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",e[e.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",e[e.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",e[e.CHANNEL_INVITE=10020]="CHANNEL_INVITE",e[e.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",e[e.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",e[e.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",e[e.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",e[e.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",e[e.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",e[e.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",e[e.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE"})(at||(at={}));var Vae=function(){function e(n){this.channelUrl=n.channel_url,this.channelType=n.channel_type,this.category=n.cat,this.data=n.data,this.ts=n.ts}return Object.defineProperty(e.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===ft.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===ft.OPEN},enumerable:!1,configurable:!0}),e}(),Ac=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.event=new Vae(s),u}return G(n,e),n}(kt),cL=function(e){function n(t,r,s){var u=e.call(this,t,r,s)||this,d=s.data.operators,p=d===void 0?[]:d;return u.operators=p.map(function(g){return new Pn(u._iid,g)}),u}return G(n,e),n}(Ac),dL=function(e){function n(t,r,s){var u=e.call(this,t,"MCNT",s)||this;return u.groupChannelMemberCounts=s.group_channels.map(function(d){return{channelUrl:d.channel_url,memberCount:d.member_count,joinedMemberCount:d.joined_member_count,updatedAt:d.ts}}),u.openChannelMemberCounts=s.open_channels.map(function(d){return{channelUrl:d.channel_url,participantCount:d.participant_count,updatedAt:d.ts}}),u}return G(n,e),n}(kt),hL=function(e){function n(t,r,s){var u,d,p,g=this;(g=e.call(this,t,"ADMM",s)||this).message=new sh(t,s);var _=ue.of(t).sdkState;return g.isMentioned=ah(g.message.mentionType,(u=g.message.mentionedUserIds)!==null&&u!==void 0?u:(d=g.message.mentionedUsers)===null||d===void 0?void 0:d.map(function(y){return y.userId}),_.userId),g.forceUpdateLastMessage=(p=s.force_update_last_message)!==null&&p!==void 0&&p,g}return G(n,e),n}(kt),pL=function(e){function n(t,r,s){var u,d,p,g,_,y,E=this;(E=e.call(this,t,"AEDI",s)||this).message=new sh(t,s);var x=ue.of(t).sdkState;return E.mentionCountChange=ck({mentionType:(d=(u=s.old_values)===null||u===void 0?void 0:u.mention_type)!==null&&d!==void 0?d:null,mentionedUserIds:(g=(p=s.old_values)===null||p===void 0?void 0:p.mentioned_user_ids)!==null&&g!==void 0?g:[]},{mentionType:E.message.mentionType,mentionedUserIds:(_=E.message.mentionedUserIds)!==null&&_!==void 0?_:(y=E.message.mentionedUsers)===null||y===void 0?void 0:y.map(function(k){return k.userId})},x.userId),E}return G(n,e),n}(kt),fL=function(e){function n(t,r,s){var u=e.call(this,t,"MRCT",s)||this;return u.channelUrl=s.channel_url,u.channelType=s.channel_type,u.event=new hk(s),u}return G(n,e),n}(kt),gL=function(e){function n(t,r,s){var u=e.call(this,t,"MTHD",s)||this;return u.event=new xre(t,s),u}return G(n,e),n}(kt),mL=function(){this.onUserMuted=Hn,this.onUserUnmuted=Hn,this.onUserBanned=Hn,this.onUserUnbanned=Hn,this.onChannelChanged=Hn,this.onChannelDeleted=Hn,this.onChannelFrozen=Hn,this.onChannelUnfrozen=Hn,this.onOperatorUpdated=Hn,this.onChannelMemberCountChanged=Hn,this.onMetaDataCreated=Hn,this.onMetaDataUpdated=Hn,this.onMetaDataDeleted=Hn,this.onMetaCounterCreated=Hn,this.onMetaCounterUpdated=Hn,this.onMetaCounterDeleted=Hn,this.onMessageReceived=Hn,this.onMessageUpdated=Hn,this.onMessageDeleted=Hn,this.onMentionReceived=Hn,this.onReactionUpdated=Hn,this.onThreadInfoUpdated=Hn},Wae=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._channels=new Map,t._enteredChannelUrls=[],t}return G(n,e),Object.defineProperty(n.prototype,"enteredChannels",{get:function(){var t=this;return this._enteredChannelUrls.map(function(r){return t._channels.get(r)}).filter(function(r){return r!==null})},enumerable:!1,configurable:!0}),n.prototype.isEnteredChannel=function(t){return this._enteredChannelUrls.includes(t)},n.prototype.enter=function(t){this._enteredChannelUrls.indexOf(t)<0&&this._enteredChannelUrls.push(t)},n.prototype.exit=function(t){var r=this._enteredChannelUrls.indexOf(t);r>=0&&this._enteredChannelUrls.splice(r,1)},n.prototype.exitAll=function(){this._enteredChannelUrls=[]},n.prototype.get=function(t){var r;return A(this,void 0,void 0,function(){return R(this,function(s){return[2,(r=this._channels.get(t))!==null&&r!==void 0?r:null]})})},n.prototype.upsert=function(t){return A(this,void 0,void 0,function(){var r=this;return R(this,function(s){return t.forEach(function(u){if(r._channels.has(u.url)){var d=r._channels.get(u.url);Object.assign(d,u)}else r._channels.set(u.url,u)}),[2]})})},n.prototype.remove=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return this._channels.delete(t),this.exit(t),[2]})})},n.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(t){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},n}(Ts),vL={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},Kae=function(e){function n(t){var r=t.channelUrl,s=t.isInternalCall,u=e.call(this)||this;return u.method=Pe.GET,u.path="".concat(s?Yte:Nc,"/").concat(encodeURIComponent(r)),u}return G(n,e),n}(He),lA=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=null,s.channel=new lh(t,r),s}return G(n,e),n}($e),Qae=function(e){function n(t){var r=this,s=t.channelUrl,u=t.coverUrlOrImage,d=t.name,p=t.data,g=t.customType,_=t.operatorUserIds;return(r=e.call(this)||this).method=Pe.POST,r.path=Nc,r.params=In({channel_url:s,cover_url:re("string",u)?u:null,cover_file:li(u)?u:null,name:d,data:p,custom_type:g,operators:_}),r}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=new lh(t,r),s}G(n,e)})($e);var Yae=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return G(n,e),n}(pa),_L=function(e){function n(t,r,s){var u,d,p=this;return p=e.call(this,t,"ENTR",s)||this,s.data&&(p.participantCount=(u=s.data.participant_count)!==null&&u!==void 0?u:0,p.user=new Pn(t,s.data),p.ts=(d=s.data.edge_ts)!==null&&d!==void 0?d:0),p}return G(n,e),n}(kt),Xae=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return G(n,e),n}(pa),bL=function(e){function n(t,r,s){var u,d,p=this;return p=e.call(this,t,"EXIT",s)||this,s.data&&(p.participantCount=(u=s.data.participant_count)!==null&&u!==void 0?u:0,p.user=new Pn(t,s.data),p.ts=(d=s.data.edge_ts)!==null&&d!==void 0?d:0),p}return G(n,e),n}(kt),uA={},ec=function(){function e(n,t){var r=t.sdkState,s=t.dispatcher,u=t.requestQueue,d=this;this._sdkState=r,this._requestQueue=u,this._dispatcher=s,this._openChannelCache=new Wae(n),this._openChannelHandlers=new Map,this._dispatcher.on(function(p){var g,_;if(p instanceof kt)d._handleEvent(p);else if(p instanceof Cs&&p.stateType===_t.CONNECTED){var y=d._openChannelCache.enteredChannels;try{for(var E=tn(y),x=E.next();!x.done;x=E.next())x.value.enter()}catch(k){g={error:k}}finally{try{x&&!x.done&&(_=E.return)&&_.call(E)}finally{if(g)throw g.error}}}}),uA[n]=this}return e.of=function(n){return uA[n]},e.prototype.buildOpenChannelFromSerializedData=function(n){var t=pc(n);return new lh(t._iid,lh.payloadify(t))},e.prototype.getChannelFromCache=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.upsertChannelsToCache=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._openChannelCache.upsert(n)];case 1:return t.sent(),[2]}})})},e.prototype.removeChannelsFromCache=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:g.trys.push([0,5,6,7]),t=tn(n),r=t.next(),g.label=1;case 1:return r.done?[3,4]:(s=r.value,[4,this._openChannelCache.remove(s)]);case 2:g.sent(),g.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return u=g.sent(),d={error:u},[3,7];case 6:try{r&&!r.done&&(p=t.return)&&p.call(t)}finally{if(d)throw d.error}return[7];case 7:return[2]}})})},e.prototype.setEnteredToCache=function(n){this._openChannelCache.enter(n.url)},e.prototype.setExitedToCache=function(n){this._openChannelCache.exit(n.url)},e.prototype._handleEvent=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y,E,x,k,T,I,P,N,O,U,L,ee,V,J,Y,ye,ve,Ue,Ne,ce,Ee,ge,je,Xe,Te,ze,Ze,oe,ne,ke,en,Fe,Me,Ie,Ye,ln,xn,Fn,dn,Un,gn,zn,kn,Mn,j,M,D,Q,le,Ae,Le,Sn=this;return R(this,function(bn){switch(bn.label){case 0:switch(bn.trys.push([0,51,,52]),n.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"SYEV":return[3,27]}return[3,50];case 1:return u=null,n.code==="MESG"?u=n.as(yk):n.code==="FILE"?u=n.as(fk):n.code!=="ADMM"&&n.code!="BRDM"||(u=n.as(hL)),u?(t=u.message,r=u.isMentioned,t.channelType!==ft.OPEN?[3,3]:[4,this.getChannel(t.channelUrl,!0)]):[3,3];case 2:s=bn.sent(),cn(function(){return A(Sn,void 0,void 0,function(){var un,Ke,Dn,St,rt;return R(this,function(Rr){try{for(un=tn(this._openChannelHandlers.values()),Ke=un.next();!Ke.done;Ke=un.next())Dn=Ke.value,this._openChannelCache.isEnteredChannel(s.url)&&Dn.onMessageReceived(s,t),r&&Dn.onMentionReceived(s,t)}catch(vi){St={error:vi}}finally{try{Ke&&!Ke.done&&(rt=un.return)&&rt.call(un)}finally{if(St)throw St.error}}return[2]})})}),bn.label=3;case 3:return[3,50];case 4:return u=null,n.code==="MEDI"?u=n.as(Tv):n.code==="FEDI"?u=n.as(Ek):n.code==="AEDI"&&(u=n.as(pL)),u?(d=u.message).channelType!==ft.OPEN?[3,6]:[4,this.getChannel(d.channelUrl,!0)]:[3,6];case 5:p=bn.sent(),cn(function(){return A(Sn,void 0,void 0,function(){var un,Ke,Dn,St,rt;return R(this,function(Rr){try{for(un=tn(this._openChannelHandlers.values()),Ke=un.next();!Ke.done;Ke=un.next())Dn=Ke.value,this._openChannelCache.isEnteredChannel(p.url)&&Dn.onMessageUpdated(p,d)}catch(vi){St={error:vi}}finally{try{Ke&&!Ke.done&&(rt=un.return)&&rt.call(un)}finally{if(St)throw St.error}}return[2]})})}),bn.label=6;case 6:return[3,50];case 7:return g=n.as(VU),V=g.channelUrl,x=g.channelType,_=g.messageId,x!==ft.OPEN?[3,9]:[4,this.getChannel(V,!0)];case 8:y=bn.sent(),cn(function(){return A(Sn,void 0,void 0,function(){var un,Ke,Dn,St,rt;return R(this,function(Rr){try{for(un=tn(this._openChannelHandlers.values()),Ke=un.next();!Ke.done;Ke=un.next())Dn=Ke.value,this._openChannelCache.isEnteredChannel(y.url)&&Dn.onMessageDeleted(y,_)}catch(vi){St={error:vi}}finally{try{Ke&&!Ke.done&&(rt=un.return)&&rt.call(un)}finally{if(St)throw St.error}}return[2]})})}),bn.label=9;case 9:return[3,50];case 10:return E=n.as(fL),V=E.channelUrl,x=E.channelType,k=E.event,x!==ft.OPEN?[3,12]:[4,this.getChannel(V,!0)];case 11:T=bn.sent(),cn(function(){return A(Sn,void 0,void 0,function(){var un,Ke,Dn,St;return R(this,function(rt){try{for(un=tn(this._openChannelHandlers.values()),Ke=un.next();!Ke.done;Ke=un.next())Ke.value.onReactionUpdated(T,k)}catch(Rr){Dn={error:Rr}}finally{try{Ke&&!Ke.done&&(St=un.return)&&St.call(un)}finally{if(Dn)throw Dn.error}}return[2]})})}),bn.label=12;case 12:return[3,50];case 13:return(I=n.as(gL).event).channelType!==ft.OPEN?[3,15]:[4,this.getChannel(I.channelUrl,!0)];case 14:P=bn.sent(),cn(function(){return A(Sn,void 0,void 0,function(){var un,Ke,Dn,St;return R(this,function(rt){try{for(un=tn(this._openChannelHandlers.values()),Ke=un.next();!Ke.done;Ke=un.next())Ke.value.onThreadInfoUpdated(P,I)}catch(Rr){Dn={error:Rr}}finally{try{Ke&&!Ke.done&&(St=un.return)&&St.call(un)}finally{if(Dn)throw Dn.error}}return[2]})})}),bn.label=15;case 15:return[3,50];case 16:N=n.as(dL).openChannelMemberCounts,O=[],bn.label=17;case 17:bn.trys.push([17,22,23,24]),U=tn(N),L=U.next(),bn.label=18;case 18:return L.done?[3,21]:(ee=L.value,V=ee.channelUrl,Xe=ee.participantCount,J=ee.updatedAt,[4,this.getChannelFromCache(V)]);case 19:(Y=bn.sent())&&Y._updateParticipantCount(Xe,J)&&O.push(Y),bn.label=20;case 20:return L=U.next(),[3,18];case 21:return[3,24];case 22:return ye=bn.sent(),Ae={error:ye},[3,24];case 23:try{L&&!L.done&&(Le=U.return)&&Le.call(U)}finally{if(Ae)throw Ae.error}return[7];case 24:return O.length>0?[4,this.upsertChannelsToCache(O)]:[3,26];case 25:bn.sent(),cn(function(){return A(Sn,void 0,void 0,function(){var un,Ke,Dn,St;return R(this,function(rt){try{for(un=tn(this._openChannelHandlers.values()),Ke=un.next();!Ke.done;Ke=un.next())Ke.value.onChannelMemberCountChanged(O)}catch(Rr){Dn={error:Rr}}finally{try{Ke&&!Ke.done&&(St=un.return)&&St.call(un)}finally{if(Dn)throw Dn.error}}return[2]})})}),bn.label=26;case 26:return[3,50];case 27:if(!(ve=n.as(Ac).event).isOpenChannelEvent)return[3,49];switch(ve.category){case at.CHANNEL_ENTER:return[3,28];case at.CHANNEL_EXIT:return[3,30];case at.CHANNEL_OPERATOR_UPDATE:return[3,32];case at.USER_CHANNEL_MUTE:case at.USER_CHANNEL_UNMUTE:return[3,34];case at.USER_CHANNEL_BAN:case at.USER_CHANNEL_UNBAN:return[3,36];case at.CHANNEL_FREEZE:case at.CHANNEL_UNFREEZE:return[3,38];case at.CHANNEL_DELETED:return[3,40];case at.CHANNEL_PROP_CHANGED:return[3,43];case at.CHANNEL_META_DATA_CHANGED:return[3,45];case at.CHANNEL_META_COUNTERS_CHANGED:return[3,47]}return[3,49];case 28:return[4,this.getChannel(ve.channelUrl,!0)];case 29:return Ue=bn.sent(),Ne=n.as(_L),Xe=Ne.participantCount,ce=Ne.user,Ee=Ue._updateParticipantCount(Xe,ve.ts),cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){Ke.onUserEntered(Ue,ce),Ee&&Ke.onChannelParticipantCountChanged(Ue)}),[2]})})}),[3,49];case 30:return[4,this.getChannel(ve.channelUrl,!0)];case 31:return ge=bn.sent(),je=n.as(bL),Xe=je.participantCount,Te=je.user,ze=ge._updateParticipantCount(Xe,ve.ts),cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){Ke.onUserExited(ge,Te),ze&&Ke.onChannelParticipantCountChanged(ge)}),[2]})})}),[3,49];case 32:return[4,this.getChannel(ve.channelUrl,!0)];case 33:return Ze=bn.sent(),oe=n.as(cL).operators,Ze.operators=oe,this.upsertChannelsToCache([Ze]),cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){Ke.onOperatorUpdated(Ze,oe)}),[2]})})}),[3,49];case 34:return[4,this.getChannel(ve.channelUrl,!0)];case 35:return ne=bn.sent(),ke=ve.category===at.USER_CHANNEL_MUTE,en=n.as(ke?qU:BU).user,cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){ke?Ke.onUserMuted(ne,en):Ke.onUserUnmuted(ne,en)}),[2]})})}),[3,49];case 36:return[4,this.getChannel(ve.channelUrl,!0)];case 37:return Fe=bn.sent(),Me=ve.category===at.USER_CHANNEL_BAN,Ie=n.as(Me?jU:GU).user,cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){Me?Ke.onUserBanned(Fe,Ie):Ke.onUserUnbanned(Fe,Ie)}),[2]})})}),[3,49];case 38:return[4,this.getChannel(ve.channelUrl,!0)];case 39:return Ye=bn.sent(),ln=n.as($U).freeze,Ye.isFrozen=ln,this.upsertChannelsToCache([Ye]),cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){ln?Ke.onChannelFrozen(Ye):Ke.onChannelUnfrozen(Ye)}),[2]})})}),[3,49];case 40:return[4,this.getChannel(ve.channelUrl,!0)];case 41:return xn=bn.sent(),[4,this.removeChannelsFromCache([xn.url])];case 42:return bn.sent(),cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){Ke.onChannelDeleted(xn.url,xn.channelType)}),[2]})})}),[3,49];case 43:return[4,this.getChannelWithoutCache(ve.channelUrl,!0)];case 44:return Fn=bn.sent(),cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){Ke.onChannelChanged(Fn)}),[2]})})}),[3,49];case 45:return[4,this.getChannel(ve.channelUrl,!0)];case 46:return dn=bn.sent(),Un=n.as(HU),gn=Un.created,zn=Un.updated,kn=Un.deleted,gn&&dn._upsertCachedMetaData(gn,ve.ts),zn&&dn._upsertCachedMetaData(zn,ve.ts),kn&&dn._removeFromCachedMetaData(kn,ve.ts),cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){gn&&Ke.onMetaDataCreated(dn,gn),zn&&Ke.onMetaDataUpdated(dn,zn),kn&&Ke.onMetaDataDeleted(dn,kn)}),[2]})})}),[3,49];case 47:return[4,this.getChannel(ve.channelUrl,!0)];case 48:return Mn=bn.sent(),j=n.as(zU),M=j.created,D=j.updated,Q=j.deleted,cn(function(){return A(Sn,void 0,void 0,function(){return R(this,function(un){return this._openChannelHandlers.forEach(function(Ke){M&&Ke.onMetaCounterCreated(Mn,M),D&&Ke.onMetaCounterUpdated(Mn,D),Q&&Ke.onMetaCounterDeleted(Mn,Q)}),[2]})})}),[3,49];case 49:return[3,50];case 50:return[3,52];case 51:if(le=bn.sent(),bs(le))throw le;return[3,52];case 52:return[2]}})})},e.prototype.addHandler=function(n,t){this._openChannelHandlers.set(n,t)},e.prototype.removeHandler=function(n){this._openChannelHandlers.delete(n)},e.prototype.clearHandler=function(){this._openChannelHandlers.clear()},e.prototype.getChannel=function(n,t){return A(this,void 0,void 0,function(){var r;return R(this,function(s){switch(s.label){case 0:We(re("string",n)).throw(me.invalidParameters),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.getChannelFromCache(n)];case 2:return(r=s.sent())?[2,r]:[3,4];case 3:return s.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(n)];case 5:return[2,s.sent()]}})})},e.prototype.getChannelWithoutCache=function(n,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var r,s,u;return R(this,function(d){switch(d.label){case 0:return We(re("string",n)).throw(me.invalidParameters),r=new Kae({channelUrl:n,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:return s=d.sent(),u=s.as(lA).channel,[4,this.upsertChannelsToCache([u])];case 2:return d.sent(),[2,u]}})})},e.prototype.createChannel=function(n){return A(this,void 0,void 0,function(){var t,r,s;return R(this,function(u){switch(u.label){case 0:return n=ae(ae({},vL),n),We(function(d){return An("string",d.operatorUserIds,!0)&&(re("string",d.coverUrlOrImage)||li(d.coverUrlOrImage)||d.coverUrlOrImage===null)&&re("string",d.name,!0)&&re("string",d.data,!0)&&re("string",d.customType,!0)&&(re("string",d.channelUrl)&&/^\w+$/.test(d.channelUrl)||d.channelUrl===null)}(n)).throw(me.invalidParameters),t=new Qae(n),[4,this._requestQueue.send(t)];case 1:return r=u.sent(),s=r.as(lA).channel,this.upsertChannelsToCache([s]),[2,s]}})})},e}(),cA={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},Zae=function(e){function n(t){var r=this,s=t.channelUrl,u=t.token,d=t.limit;return(r=e.call(this)||this).method=Pe.GET,r.path="".concat(Nc,"/").concat(encodeURIComponent(s),"/participants"),r.params={token:u,limit:d},r}return G(n,e),n}(He),Jae=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.token=null,s.participants=[];var u=r.next,d=r.participants;return s.token=u,s.participants=d.map(function(p){return new Pn(t,p)}),s}return G(n,e),n}($e),ese=function(e){function n(t,r,s){return e.call(this,t,r,ft.OPEN,s)||this}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid).requestQueue,r=new Zae(ae(ae({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return s=g.sent(),u=s.as(Jae),d=u.participants,p=u.token,this._token=p,this._hasNext=!!p,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(yh),nse=function(e){function n(t){var r=this,s=t.channelUrl,u=t.coverUrlOrImage,d=t.name,p=t.data,g=t.customType,_=t.operatorUserIds;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(Nc,"/").concat(encodeURIComponent(s)),r.params=In({cover_url:re("string",u)?u:null,cover_file:li(u)?u:null,name:d,data:p,custom_type:g,operators:_}),r}return G(n,e),n}(He),tse=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=new lh(t,r),s}return G(n,e),n}($e),rse=function(e){function n(t){var r=this,s=t.channelUrl;return(r=e.call(this)||this).method=Pe.DELETE,r.path="".concat(Nc,"/").concat(encodeURIComponent(s)),r}return G(n,e),n}(He);(function(e){function n(t,r){return e.call(this,t,r)||this}G(n,e)})($e);var lh=function(e){function n(t,r){var s,u=this;return(u=e.call(this,t,r)||this)._lastParticipantCountUpdated=0,u.participantCount=0,u.operators=[],u.channelType=ft.OPEN,u.participantCount=(s=r.participant_count)!==null&&s!==void 0?s:0,u.operators=Array.isArray(r.operators)?r.operators.map(function(d){return new Pn(t,d)}):[],u}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},gw.payloadify(t)),{participant_count:t.participantCount,operators:t.operators.map(function(r){return Pn.payloadify(r)})})):null},n.prototype.serialize=function(){return o0(this)},n.prototype.isOperator=function(t){return t instanceof Pn?this.isOperator(t.userId):this.operators.some(function(r){return r.userId===t})},n.prototype._updateParticipantCount=function(t,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=t,this._lastParticipantCountUpdated=r,!0)},n.prototype.createParticipantListQuery=function(t){return new ese(this._iid,this.url,t)},n.prototype.refresh=function(){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,ec.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,t.sent()]}})})},n.prototype.enter=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return t=ue.of(this._iid).requestQueue,r=new Yae({channelUrl:this.url}),[4,t.send(r)];case 1:return s=g.sent(),u=s.as(_L),d=u.participantCount,p=u.ts,this._updateParticipantCount(d,p),ec.of(this._iid).setEnteredToCache(this),[2]}})})},n.prototype.exit=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return t=ue.of(this._iid).requestQueue,r=new Xae({channelUrl:this.url}),[4,t.send(r)];case 1:return s=g.sent(),u=s.as(bL),d=u.participantCount,p=u.ts,this._updateParticipantCount(d,p),ec.of(this._iid).setExitedToCache(this),Vr.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},n.prototype.updateChannel=function(t){return A(this,void 0,void 0,function(){var r,s,u,d;return R(this,function(p){switch(p.label){case 0:return t=ae(ae({},cA),t),We(function(g){return An("string",g.operatorUserIds,!0)&&(re("string",g.coverUrlOrImage)||li(g.coverUrlOrImage)||g.coverUrlOrImage===null)&&re("string",g.name,!0)&&re("string",g.data,!0)&&re("string",g.customType,!0)}(t)).throw(me.invalidParameters),r=ue.of(this._iid).requestQueue,s=new nse(ae({channelUrl:this.url},t)),[4,r.send(s)];case 1:return u=p.sent(),d=u.as(tse).channel,[4,ec.of(this._iid).upsertChannelsToCache([d])];case 2:return p.sent(),[2,d]}})})},n.prototype.updateChannelWithOperatorUserIds=function(t,r,s,u,d){return A(this,void 0,void 0,function(){var p;return R(this,function(g){return p=ae(ae({},cA),{name:t,coverUrlOrImage:r,data:s,operatorUserIds:u,customType:d}),[2,this.updateChannel(p)]})})},n.prototype.delete=function(){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return t=ue.of(this._iid).requestQueue,r=new rse({channelUrl:this.url}),[4,t.send(r)];case 1:return s.sent(),[4,ec.of(this._iid).removeChannelsFromCache([this.url])];case 2:return s.sent(),[2]}})})},n}(gw),ise=function(e){function n(t){t===void 0&&(t={});var r=e.call(this)||this;return Object.keys(t).forEach(function(s){r.hasOwnProperty(s)&&(r[s]=t[s])}),r}return G(n,e),n}(function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.onUserEntered=Hn,t.onUserExited=Hn,t.onChannelParticipantCountChanged=Hn,t}return G(n,e),n}(mL)),ase=function(e){function n(t){var r=this,s=t.token,u=t.limit,d=t.nameKeyword,p=t.urlKeyword,g=t.customTypes,_=t.includeFrozen,y=t.includeMetaData;return(r=e.call(this)||this).method=Pe.GET,r.path=Nc,r.params=In({token:s,limit:u,name_contains:d,url_contains:p,custom_types:g,show_frozen:_,show_metadata:y}),r}return G(n,e),n}(He),sse=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.token=null,s.channels=[],s.ts=null;var u=r.next,d=r.channels,p=r.ts;return s.token=u,d&&d.length>0&&(s.channels=d.map(function(g){return new lh(t,g)})),s.ts=typeof p=="number"?p:null,s}return G(n,e),n}($e),ose=function(e){function n(t,r){var s,u,d,p,g,_=this;return(_=e.call(this,t,r)||this).includeFrozen=!0,_.includeMetaData=!0,_.nameKeyword=null,_.urlKeyword=null,_.customTypes=null,_.includeFrozen=(s=r.includeFrozen)===null||s===void 0||s,_.includeMetaData=(u=r.includeMetaData)===null||u===void 0||u,_.nameKeyword=(d=r.nameKeyword)!==null&&d!==void 0?d:null,_.urlKeyword=(p=r.urlKeyword)!==null&&p!==void 0?p:null,_.customTypes=(g=r.customTypes)!==null&&g!==void 0?g:null,_}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&re("boolean",this.includeFrozen)&&re("boolean",this.includeMetaData)&&re("string",this.nameKeyword,!0)&&re("string",this.urlKeyword,!0)&&An("string",this.customTypes,!0)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid).requestQueue,r=new ase(ae(ae({},this),{token:this._token})),[4,t.send(r)]):[3,3]:[3,6];case 1:return s=g.sent(),u=s.as(sse),d=u.channels,p=u.token,this._token=p,this._hasNext=!!p,[4,ec.of(this._iid).upsertChannelsToCache(d)];case 2:return g.sent(),this._isLoading=!1,[2,d];case 3:return[2,[]];case 4:throw me.queryInProgress;case 5:return[3,7];case 6:throw me.invalidParameters;case 7:return[2]}})})},n}(Yo),lse=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="openChannel",t}return G(n,e),n.prototype.init=function(t,r){var s=r.sdkState,u=r.dispatcher,d=r.sessionManager,p=r.requestQueue,g=r.logger,_=r.onlineDetector,y=r.cacheContext;e.prototype.init.call(this,t,{sdkState:s,dispatcher:u,sessionManager:d,requestQueue:p,logger:g,onlineDetector:_,cacheContext:y}),this._manager=new ec(t,{sdkState:s,dispatcher:u,requestQueue:p})},n.prototype.createOpenChannelListQuery=function(t){return t===void 0&&(t={}),new ose(this._iid,t)},n.prototype.addOpenChannelHandler=function(t,r){this._manager.addHandler(t,r)},n.prototype.removeOpenChannelHandler=function(t){this._manager.removeHandler(t)},n.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildOpenChannelFromSerializedData=function(t){return this._manager.buildOpenChannelFromSerializedData(t)},n.prototype.getChannel=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return[2,this._manager.getChannel(t)]})})},n.prototype.getChannelWithoutCache=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return[2,this._manager.getChannelWithoutCache(t)]})})},n.prototype.createChannel=function(t){return t===void 0&&(t={}),A(this,void 0,void 0,function(){return R(this,function(r){return[2,this._manager.createChannel(t)]})})},n.prototype.createChannelWithOperatorUserIds=function(t,r,s,u,d){return A(this,void 0,void 0,function(){var p;return R(this,function(g){return(p=ae({},vL)).name=t,p.coverUrlOrImage=r,p.data=s,p.operatorUserIds=u,p.customType=d,[2,this._manager.createChannel(p)]})})},n}(dk),_r;(function(e){e.NONE="none",e.JOINED="joined",e.INVITED="invited"})(_r||(_r={}));var Go,sa,ha,mc,Ys,Ov,Ql,Yf,ws=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.state=null,s.role=null,s.isMuted=!1,s.isBlockedByMe=!1,s.isBlockingMe=!1,s.state=On(_r,r.state)?r.state:null,s.role=On(Ya,r.role)?r.role:null,r.hasOwnProperty("is_muted")&&(s.isMuted=r.is_muted),r.hasOwnProperty("is_blocked_by_me")&&(s.isBlockedByMe=r.is_blocked_by_me),r.hasOwnProperty("is_blocking_me")&&(s.isBlockingMe=r.is_blocking_me),s}return G(n,e),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),{state:t.state,role:t.role,is_muted:t.isMuted,is_blocked_by_me:t.isBlockedByMe,is_blocking_me:t.isBlockingMe})):null},n}(Oc),yL=function(e){function n(t,r){var s,u,d=this;return(d=e.call(this,t)||this).channelUrl=(s=r.channel_url)!==null&&s!==void 0?s:"",d.channelType=(u=r.channel_type)!==null&&u!==void 0?u:ft.GROUP,d.reader=new Pn(d._iid,r.user),d.readAt=r.ts,d}return G(n,e),n}(Ts);(function(e){e.ALL="all",e.PUBLIC="public",e.PRIVATE="private"})(Go||(Go={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(sa||(sa={})),function(e){e.ALL="all",e.SUPER="super",e.NON_SUPER="nonsuper",e.BROADCAST_ONLY="broadcast_only",e.EXCLUSIVE_ONLY="exclusive_only"}(ha||(ha={})),function(e){e.ALL="all",e.UNREAD_MESSAGE="unread_message"}(mc||(mc={})),function(e){e.ALL="all",e.UNHIDDEN="unhidden_only",e.HIDDEN="hidden_only",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Ys||(Ys={})),function(e){e.ALL="all",e.OPERATOR="operator",e.NONOPERATOR="nonoperator"}(Ov||(Ov={})),function(e){e.AND="AND",e.OR="OR"}(Ql||(Ql={})),function(e){e.MEMBER_NICKNAME="member_nickname",e.CHANNEL_NAME="channel_name"}(Yf||(Yf={}));var yr,EL=function(){function e(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.myMemberStateFilter=sa.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=ha.ALL,this.publicChannelFilter=Go.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=mc.ALL,this.hiddenChannelFilter=Ys.UNHIDDEN,this.includeFrozen=!0}return e.prototype._isFriend=function(n){return!!n.friendDiscoveryKey||!!n.friendName},Object.defineProperty(e.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),e.prototype.setSearchFilter=function(n,t){Array.isArray(n)&&n.length!==0&&typeof t=="string"&&t&&(this._searchFilter={query:t,fields:n})},Object.defineProperty(e.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),e.prototype.setUserIdsFilter=function(n,t,r){r===void 0&&(r=Ql.AND),this._userIdsFilter={userIds:n,includeMode:t,queryType:r}},e.prototype.clone=function(){var n=new e;this.searchFilter&&n.setSearchFilter(this.searchFilter.fields,this.searchFilter.query),this.userIdsFilter&&n.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var t=JSON.parse(JSON.stringify(this));return Object.keys(t).forEach(function(r){n[r]=t[r]}),n},e.prototype.match=function(n,t){if(this._searchFilter){var r=this._searchFilter,s=r.query,u=r.fields;if(s&&u&&u.length>0&&!u.some(function(x){switch(x){case Yf.CHANNEL_NAME:return n.name.toLowerCase().includes(s.toLowerCase());case Yf.MEMBER_NICKNAME:return n.members.some(function(k){return k.nickname.toLowerCase().includes(s.toLowerCase())});default:return!0}}))return!1}if(this._userIdsFilter){var d=this._userIdsFilter,p=d.userIds,g=d.includeMode,_=d.queryType,y=n.members.map(function(x){return x.userId});if(g){if(p.length>0)switch(_){case Ql.AND:if(p.some(function(x){return!y.includes(x)}))return!1;break;case Ql.OR:if(p.every(function(x){return!y.includes(x)}))return!1}}else if(p.includes(t)||p.push(t),n.members.length>p.length||!Nte(p,y))return!1}if(!this.includeEmpty&&!n.lastMessage||!this.includeFrozen&&n.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(n.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(n.customType)||this.channelNameContainsFilter&&!n.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var E=this.nicknameContainsFilter.toLowerCase();if(n.members.every(function(x){return!x.nickname.toLowerCase().includes(E)}))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(n.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case sa.JOINED:if(n.myMemberState!=="joined")return!1;break;case sa.INVITED:if(n.myMemberState!=="invited")return!1;break;case sa.INVITED_BY_FRIEND:if(n.myMemberState!=="invited"||!this._isFriend(n.inviter))return!1;break;case sa.INVITED_BY_NON_FRIEND:if(n.myMemberState!=="invited"||this._isFriend(n.inviter))return!1;break;case sa.ALL:if(n.myMemberState==="none")return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case Ys.UNHIDDEN:if(n.isHidden||n.hiddenState!=="unhidden")return!1;break;case Ys.HIDDEN:if(!n.isHidden)return!1;break;case Ys.HIDDEN_ALLOW_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case Ys.HIDDEN_PREVENT_AUTO_UNHIDE:if(!n.isHidden||n.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===mc.UNREAD_MESSAGE&&n.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case Go.PUBLIC:if(!n.isPublic)return!1;break;case Go.PRIVATE:if(n.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case ha.SUPER:if(!n.isSuper)return!1;break;case ha.NON_SUPER:if(n.isSuper)return!1}return!0},e}(),use=function(e){function n(t,r){var s=r.sdkState,u=r.cacheContext,d=e.call(this,t)||this;return d._channels=new Map,d._sdkState=s,d._cacheContext=u,d}return G(n,e),Object.defineProperty(n.prototype,"collection",{get:function(){var t=this._cacheContext.nestdb;return t?t.collection(QU):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),n.prototype._serialize=function(t,r){return r===void 0&&(r=0),ae(ae({},t.serialize()),{lastMessageUpdatedAt:t.lastMessage?t.lastMessage.createdAt:0,syncIndex:r})},n.prototype._deserialize=function(t){return Ir.of(this._iid).buildGroupChannelFromSerializedData(t)},Object.defineProperty(n.prototype,"channels",{get:function(){return En([],wn(this._channels.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.isCachedInMemory=function(t){return this._channels.has(t)},n.prototype.get=function(t){return A(this,void 0,void 0,function(){var r,s;return R(this,function(u){switch(u.label){case 0:return this._channels.has(t)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(t)]:[3,2];case 1:if(r=u.sent())return s=this._deserialize(r),this._channels.set(t,s),[2,s];u.label=2;case 2:return[2,null];case 3:return[2,this._channels.get(t)]}})})},n.prototype.fetch=function(t){var r=t.token,s=t.limit,u=s===void 0?KU:s,d=t.backward,p=d!==void 0&&d,g=t.filter,_=g===void 0?new EL:g,y=t.order,E=y===void 0?Ar.LATEST_LAST_MESSAGE:y;return A(this,void 0,void 0,function(){var x,k,T,I,P=this;return R(this,function(N){switch(N.label){case 0:return this.localCacheEnabled?(x=jm(E),k={where:function(O){if(r)switch(E){case Ar.CHANNEL_NAME_ALPHABETICAL:if(!p&&O.name.localeCompare(r)<0||p&&O.name.localeCompare(r)>0)return!1;break;case Ar.CHRONOLOGICAL:if(!p&&O.createdAt>r||p&&O.createdAt<r)return!1;break;case Ar.LATEST_LAST_MESSAGE:if(!p&&O.lastMessageUpdatedAt>r||p&&O.lastMessageUpdatedAt<r)return!1}return _.match(P._deserialize(O),P._sdkState.userId)},index:x,backward:p},[4,this.collection.query(k)]):[3,3];case 1:return[4,N.sent().fetch({limit:u})];case 2:return T=N.sent(),(I=T.map(function(O){return P._deserialize(O)})).forEach(function(O){P._channels.has(O.url)||P._channels.set(O.url,O)}),[2,I];case 3:return[2,[]]}})})},n.prototype.upsert=function(t){return A(this,void 0,void 0,function(){var r,s,u=this;return R(this,function(d){switch(d.label){case 0:if(t.forEach(function(p){if(u._channels.has(p.url)){var g=u._channels.get(p.url);Object.assign(g,p,{_iid:u._iid})}else u._channels.set(p.url,p)}),!this.localCacheEnabled)return[3,2];for(s in r=[],t)r.push(this._serialize(t[s],parseInt(s)));return[4,this.collection.upsertMany(r)];case 1:d.sent(),d.label=2;case 2:return[2]}})})},n.prototype.remove=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:_.trys.push([0,5,6,7]),r=tn(t),s=r.next(),_.label=1;case 1:return s.done?[3,4]:(u=s.value,this._channels.delete(u),this.localCacheEnabled?[4,this.collection.remove(u)]:[3,3]);case 2:_.sent(),_.label=3;case 3:return s=r.next(),[3,1];case 4:return[3,7];case 5:return d=_.sent(),p={error:d},[3,7];case 6:try{s&&!s.done&&(g=r.return)&&g.call(r)}finally{if(p)throw p.error}return[7];case 7:return[2]}})})},n.prototype.clear=function(){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.clearMemoryCache=function(){this._channels.clear()},n.prototype._setBlockStateOfAllChannels=function(t,r,s){return A(this,void 0,void 0,function(){var u,d,p,g,_,y,E,x,k,T,I,P,N,O,U,L,ee,V,J;return R(this,function(Y){switch(Y.label){case 0:if(u=[],t===this._sdkState.userId)try{for(d=tn(this._channels.values()),p=d.next();!p.done;p=d.next()){x=p.value;try{for(O=void 0,g=tn(x.members),_=g.next();!_.done;_=g.next())if((I=_.value).userId===r){I.isBlockedByMe=s,u.push(x);break}}catch(ye){O={error:ye}}finally{try{_&&!_.done&&(U=g.return)&&U.call(g)}finally{if(O)throw O.error}}}}catch(ye){P={error:ye}}finally{try{p&&!p.done&&(N=d.return)&&N.call(d)}finally{if(P)throw P.error}}else if(r===this._sdkState.userId)try{for(y=tn(this._channels.values()),E=y.next();!E.done;E=y.next()){x=E.value;try{for(V=void 0,k=tn(x.members),T=k.next();!T.done;T=k.next())if((I=T.value).userId===t){I.isBlockingMe=s,u.push(x);break}}catch(ye){V={error:ye}}finally{try{T&&!T.done&&(J=k.return)&&J.call(k)}finally{if(V)throw V.error}}}}catch(ye){L={error:ye}}finally{try{E&&!E.done&&(ee=y.return)&&ee.call(y)}finally{if(L)throw L.error}}return u.length>0?[4,this.upsert(u)]:[3,2];case 1:Y.sent(),Y.label=2;case 2:return[2]}})})},n.prototype.block=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!0)];case 1:return s.sent(),[2]}})})},n.prototype.unblock=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return[4,this._setBlockStateOfAllChannels(t,r,!1)];case 1:return s.sent(),[2]}})})},n.prototype.markAsRead=function(t,r){return r===void 0&&(r=En([],wn(this._channels.keys()),!1)),A(this,void 0,void 0,function(){var s,u,d,p,g,_,y,E;return R(this,function(x){switch(x.label){case 0:s=[],x.label=1;case 1:x.trys.push([1,6,7,8]),u=tn(r),d=u.next(),x.label=2;case 2:return d.done?[3,5]:(p=d.value,[4,this.get(p)]);case 3:(g=x.sent())._updateUnreadMemberState(this._sdkState.userId,t)&&(g._updateUnreadCount(0,0),s.push(g)),x.label=4;case 4:return d=u.next(),[3,2];case 5:return[3,8];case 6:return _=x.sent(),y={error:_},[3,8];case 7:try{d&&!d.done&&(E=u.return)&&E.call(u)}finally{if(y)throw y.error}return[7];case 8:return s.length>0?[4,this.upsert(s)]:[3,10];case 9:x.sent(),x.label=10;case 10:return[2]}})})},n}(Ts),Vm={invitedUserIds:null,channelUrl:null,coverUrl:null,coverImage:null,isDistinct:null,isSuper:null,isBroadcast:null,isExclusive:null,isPublic:null,isDiscoverable:null,isStrict:null,isEphemeral:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},Ew=function(e){return An("string",e.invitedUserIds,!0)&&re("string",e.channelUrl,!0)&&re("string",e.coverUrl,!0)&&(li(e.coverImage)||re("string",e.coverImage)||e.coverImage===null)&&re("boolean",e.isDistinct,!0)&&re("boolean",e.isSuper,!0)&&re("boolean",e.isBroadcast,!0)&&re("boolean",e.isExclusive,!0)&&re("boolean",e.isPublic,!0)&&re("boolean",e.isStrict,!0)&&re("boolean",e.isDiscoverable,!0)&&re("boolean",e.isEphemeral,!0)&&re("string",e.accessCode,!0)&&re("string",e.name,!0)&&re("string",e.data,!0)&&re("string",e.customType,!0)&&An("string",e.operatorUserIds,!0)&&re("number",e.messageSurvivalSeconds,!0)},Av={customTypes:null,includeEmpty:!1,includeFrozen:!0},ww=function(e){return An("string",e.customTypes,!0)&&re("boolean",e.includeEmpty)&&re("boolean",e.includeFrozen)},wL={myMemberStateFilter:sa.ALL},xL=function(e){return On(sa,e.myMemberStateFilter)};(function(e){e.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",e.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",e.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",e.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",e.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",e.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",e.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",e.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",e.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(yr||(yr={}));var Nn,cse={keys:[]},dse={channelCustomTypesFilter:null,superChannelFilter:ha.ALL},hse={channelUrl:null,scheduledStatus:null,messageTypeFilter:Wr.ALL};(function(e){e.UNKNOWN="UNKNOWN",e.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",e.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",e.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",e.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",e.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",e.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",e.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",e.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",e.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",e.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",e.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",e.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",e.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",e.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",e.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",e.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",e.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",e.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",e.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",e.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",e.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.REQUEST_CHANNEL="REQUEST_CHANNEL",e.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",e.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",e.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS"})(Nn||(Nn={}));var dA=function(e){return e.startsWith("EVENT_")||e===Nn.SYNC_CHANNEL_BACKGROUND||e===Nn.SYNC_CHANNEL_CHANGELOGS},Jn=function(e){function n(t){var r=t.channels,s=t.source,u=e.call(this)||this;return u.channels=r,u.source=s,u}return G(n,e),n}(Fr),tf=function(e){function n(t){var r=t.channelUrls,s=t.source,u=e.call(this)||this;return u.channelUrls=r,u.source=s,u}return G(n,e),n}(Fr),pse=function(){function e(n){var t=n.groupChannelCache,r=n.messageCache,s=n.unsentMessageCache,u=n.dispatcher,d=this;this._observers=new Map,u.on(function(p){return A(d,void 0,void 0,function(){var g,_,y,E,x=this;return R(this,function(k){switch(k.label){case 0:return p instanceof Jn?(g=p.channels,E=p.source,_=g.filter(function(T){return T instanceof Ia}),[4,t.upsert(_)]):[3,2];case 1:return k.sent(),this._broadcastUpdateEvent(_,E),[3,7];case 2:return p instanceof tf?(y=p.channelUrls,E=p.source,[4,t.remove(y)]):[3,5];case 3:return k.sent(),[4,Xa(function(){return A(x,void 0,void 0,function(){var T,I,P,N,O,U;return R(this,function(L){switch(L.label){case 0:L.trys.push([0,6,7,8]),T=tn(y),I=T.next(),L.label=1;case 1:return I.done?[3,5]:(P=I.value,[4,r.removeMessagesOfChannel(P)]);case 2:return L.sent(),[4,s.removeMessagesOfChannel(P)];case 3:L.sent(),L.label=4;case 4:return I=T.next(),[3,1];case 5:return[3,8];case 6:return N=L.sent(),O={error:N},[3,8];case 7:try{I&&!I.done&&(U=T.return)&&U.call(T)}finally{if(O)throw O.error}return[7];case 8:return[2]}})})})];case 4:return k.sent(),this._broadcastRemoveEvent(y,E),[3,7];case 5:return p instanceof JU?[4,t.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,7];case 6:k.sent(),k.label=7;case 7:return[2]}})})})}return e.prototype._broadcastUpdateEvent=function(n,t){var r,s;try{for(var u=tn(this._observers.values()),d=u.next();!d.done;d=u.next())d.value.onUpdate(n,t)}catch(p){r={error:p}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveEvent=function(n,t){var r,s;try{for(var u=tn(this._observers.values()),d=u.next();!d.done;d=u.next())d.value.onRemove(n,t)}catch(p){r={error:p}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}},e.prototype.subscribe=function(n,t){this._observers.set(n,t)},e.prototype.unsubscribe=function(n){this._observers.delete(n)},e}(),fse=function(){function e(n){var t=n.messageCache,r=n.unsentMessageCache,s=n.dispatcher,u=n.logger,d=this;this._observers=new Map,this._logger=null,this._logger=u,s.on(function(p){return A(d,void 0,void 0,function(){var g,_,y,E,x,k,T=this;return R(this,function(I){switch(I.label){case 0:return p instanceof Yt?(g=p.messages,k=p.source,_=g.filter(function(P){return P.messageId>0}),y=g.filter(function(P){return P.messageId===0}),_.length>0?[4,Xa(function(){return A(T,void 0,void 0,function(){return R(this,function(P){switch(P.label){case 0:return[4,t.upsert(_)];case 1:return P.sent(),[4,r.remove(_.map(function(N){return N instanceof Tr?N.reqId:null}).filter(function(N){return N!==null}))];case 2:return P.sent(),[2]}})})})]:[3,2]):[3,5];case 1:I.sent(),this._broadcastUpdateEvent(_,k),I.label=2;case 2:return y.length>0?[4,Xa(function(){return A(T,void 0,void 0,function(){return R(this,function(P){switch(P.label){case 0:return[4,r.upsert(y)];case 1:return P.sent(),[2]}})})})]:[3,4];case 3:I.sent(),this._broadcastUpdateEvent(y,k),I.label=4;case 4:return[3,9];case 5:return p instanceof gk?(E=p.messageIds,k=p.source,[4,Xa(function(){return A(T,void 0,void 0,function(){return R(this,function(P){switch(P.label){case 0:return[4,t.remove(E)];case 1:return P.sent(),[2]}})})})]):[3,7];case 6:return I.sent(),this._broadcastRemoveEvent(E,k),[3,9];case 7:return p instanceof DU?(x=p.reqId,k=p.source,[4,Xa(function(){return A(T,void 0,void 0,function(){return R(this,function(P){switch(P.label){case 0:return[4,r.remove([x])];case 1:return P.sent(),[2]}})})})]):[3,9];case 8:I.sent(),this._broadcastRemoveUnsentEvent(x,k),I.label=9;case 9:return[2]}})})})}return e.prototype._broadcastUpdateEvent=function(n,t){var r,s;try{for(var u=tn(this._observers.values()),d=u.next();!d.done;d=u.next())d.value.onUpdate(n,t)}catch(p){r={error:p}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveEvent=function(n,t){var r,s;try{for(var u=tn(this._observers.values()),d=u.next();!d.done;d=u.next())d.value.onRemove(n,t)}catch(p){r={error:p}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}},e.prototype._broadcastRemoveUnsentEvent=function(n,t){var r,s;try{for(var u=tn(this._observers.values()),d=u.next();!d.done;d=u.next())d.value.onRemoveUnsent(n,t)}catch(p){r={error:p}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}},e.prototype.subscribe=function(n,t){this._observers.set(n,t)},e.prototype.unsubscribe=function(n){this._observers.delete(n)},e}(),gse=function(e){function n(t){var r=t.userId,s=t.ts,u=t.token,d=t.filter,p=e.call(this)||this,g=ae(ae({},Av),d),_=g.customTypes,y=g.includeEmpty,E=g.includeFrozen;return p.method=Pe.GET,p.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),p.params=In({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:s,token:u,custom_types:_,show_empty:y,show_frozen:E}),p}return G(n,e),n}(He),mse=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.updatedChannels=r.updated.map(function(u){return new Ia(t,u)}),s.deletedChannelUrls=r.deleted,s.hasMore=r.has_more,s.token=r.next,s}return G(n,e),n}($e),kL=function(e){function n(t){var r=t.channelUrl,s=t.isInternalCall,u=e.call(this)||this;return u.method=Pe.GET,u.path="".concat(s?Qte:mi,"/").concat(encodeURIComponent(r)),u.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},u}return G(n,e),n}(He),SL=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=null,s.channel=new Ia(t,r),s}return G(n,e),n}($e),vse=function(e){function n(t){var r=this,s=t.userId,u=t.token,d=t.limit,p=t.order,g=t.includeEmpty,_=t.myMemberStateFilter,y=t.superChannelFilter,E=t.publicChannelFilter,x=t.unreadChannelFilter,k=t.nicknameContainsFilter,T=t.channelNameContainsFilter,I=t.channelUrlsFilter,P=t.customTypesFilter,N=t.customTypeStartsWithFilter,O=t.hiddenChannelFilter,U=t.metadataOrderKeyFilter,L=t.metadataKey,ee=t.metadataValues,V=t.metadataValueStartsWith,J=t.includeFrozen,Y=t.includeMetaData,ye=t.searchFilter,ve=t.userIdsFilter;return(r=e.call(this)||this).method=Pe.GET,r.path="".concat(Xn,"/").concat(encodeURIComponent(s),"/my_group_channels"),r.params=In({token:u,limit:d,order:p,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:g,member_state_filter:_,super_mode:y,public_mode:E,unread_filter:x,members_nickname_contains:k,name_contains:T,channel_urls:I,custom_types:P,custom_type_startswith:N,hidden_mode:O,metadata_order_key:U,metadata_key:L,metadata_values:ee,metadata_value_startswith:V,show_frozen:J,show_metadata:Y}),ye&&ye.query&&ye.fields&&(r.params.search_query=ye.query,r.params.search_fields=ye.fields),ve&&ve.userIds&&ve.userIds.length>0&&(ve.includeMode?(r.params.members_include_in=ve.userIds,r.params.query_type=ve.queryType.toUpperCase()):r.params.members_exactly_in=ve.userIds),r}return G(n,e),n}(He),_se=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.token=null,s.channels=[],s.ts=null;var u=r.next,d=r.channels,p=r.ts;return s.token=u,d&&d.length>0&&(s.channels=d.map(function(g){return g.ts=p,new Ia(t,g)})),s.ts=p!=null?p:null,s}return G(n,e),n}($e),bse=function(e){function n(t){var r=t.userId,s=t.filter,u=e.call(this)||this,d=s.myMemberStateFilter;return u.method=Pe.GET,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/group_channel_count"),u.params={state:d!=null?d:sa.ALL},u}return G(n,e),n}(He),yse=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.groupChannelCount=r.group_channel_count,s}return G(n,e),n}($e),Ese=function(e){function n(t){var r=t.userId,s=t.filter,u=e.call(this)||this,d=s.keys;return u.method=Pe.GET,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/unread_item_count"),u.params={item_keys:d},u}return G(n,e),n}(He),wse=function(e){function n(t,r){var s=e.call(this,t,r)||this;return typeof r[yr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(s.groupChannelUnreadMentionCount=r[yr.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[yr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(s.groupChannelUnreadMessageCount=r[yr.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[yr.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(s.groupChannelInvitationCount=r[yr.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[yr.SUPER_UNREAD_MENTION_COUNT]=="number"&&(s.superGroupChannelUnreadMentionCount=r[yr.SUPER_UNREAD_MENTION_COUNT]),typeof r[yr.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(s.superGroupChannelUnreadMessageCount=r[yr.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[yr.SUPER_INVITATION_COUNT]=="number"&&(s.superGroupChannelInvitationCount=r[yr.SUPER_INVITATION_COUNT]),typeof r[yr.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(s.nonSuperGroupChannelUnreadMentionCount=r[yr.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[yr.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(s.nonSuperGroupChannelUnreadMessageCount=r[yr.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[yr.NONSUPER_INVITATION_COUNT]=="number"&&(s.nonSuperGroupChannelInvitationCount=r[yr.NONSUPER_INVITATION_COUNT]),s}return G(n,e),n}($e),xse=function(e){function n(t){var r=t.userId,s=e.call(this)||this;return s.method=Pe.GET,s.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/unread_channel_count"),s}return G(n,e),n}(He),kse=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.unreadCount=r.unread_count,s}return G(n,e),n}($e),Sse=function(e){function n(t){var r=t.userId,s=t.filter,u=e.call(this)||this,d=s.channelCustomTypesFilter,p=s.superChannelFilter;return u.method=Pe.GET,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/unread_message_count"),u.params={super_mode:p!=null?p:ha.ALL,custom_types:d},u}return G(n,e),n}(He),Cse=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.unreadCount=r.unread_count,s}return G(n,e),n}($e),Tse=function(e){function n(t){var r=t.channelUrl,s=t.scheduledStatus,u=t.messageTypeFilter,d=e.call(this)||this;return d.method=Pe.GET,d.path="".concat(CU,"/count"),d.params={channel_url:r,status:Nse(s)},u&&(d.params.message_type=u),d}return G(n,e),n}(He),Ise=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.count=r.count,s}return G(n,e),n}($e),Nse=function(e){if(e){var n=[];e.forEach(function(t){switch(t){case Dl.PENDING:n.push(aa.PENDING);break;case Dl.SENT:n.push(aa.IN_QUEUE),n.push(aa.SENT);break;case Dl.CANCELED:n.push(aa.CANCELED);break;case Dl.FAILED:n.push(aa.FAILED)}})}},Ose=function(e){function n(t){var r=this,s=t.userId,u=t.channelUrl,d=t.coverUrl,p=t.coverImage,g=t.isDistinct,_=t.isSuper,y=t.isBroadcast,E=t.isPublic,x=t.isExclusive,k=t.isDiscoverable,T=t.isStrict,I=t.isEphemeral,P=t.accessCode,N=t.name,O=t.data,U=t.customType,L=t.messageSurvivalSeconds,ee=t.invitedUserIds,V=t.operatorUserIds;return(r=e.call(this)||this).method=Pe.POST,r.path=mi,r.params=In({user_ids:En([s],wn(ee!=null?ee:[]),!1).filter(function(J,Y,ye){return Y===ye.indexOf(J)}),channel_url:u,cover_url:d,cover_file:p,is_distinct:g,is_super:_,is_broadcast:y,is_exclusive:x,is_public:E,is_discoverable:k,strict:T,is_ephemeral:I,access_code:P,name:N,data:O,custom_type:U,operator_ids:V,message_survival_seconds:L}),r}return G(n,e),n}(He),Ase=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=new Ia(t,r),s.isCreated=r.is_created,s}return G(n,e),n}($e),hA=function(e){function n(t){var r=t.userId,s=t.channelUrls,u=e.call(this)||this;return u.method=Pe.PUT,u.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),u.params={channel_urls:s},u}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var Rse=function(e){function n(t){var r=this,s=t.channelUrl,u=t.userId,d=t.accessCode;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(mi,"/").concat(encodeURIComponent(s),"/join"),r.params={user_id:u,access_code:d},r}return G(n,e),n}(He),Mse=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=new Ia(t,r),s}return G(n,e),n}($e),Dse=function(e){function n(t,r,s){var u=e.call(this,t,r,s)||this,d=s.data,p=d.member_count,g=p===void 0?null:p,_=d.joined_member_count,y=_===void 0?null:_,E=d.users,x=E===void 0?null:E;return u.memberCount=g,u.joinedMemberCount=y,u.members=Array.isArray(x)?x.map(function(k){return new ws(t,k)}):[new ws(t,s.data)],u}return G(n,e),n}(Ac),Use=function(e){function n(t){var r=this,s=t.channelUrl,u=t.userId,d=t.shouldRemoveOperatorStatus;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(mi,"/").concat(encodeURIComponent(s),"/leave"),r.params={user_id:u,should_remove_operator_status:d},r}return G(n,e),n}(He);(function(e){function n(t,r){return e.call(this,t,r)||this}G(n,e)})($e);var Lse=function(e){function n(t,r,s){var u=e.call(this,t,r,s)||this,d=s.data,p=d.member_count,g=p===void 0?null:p,_=d.joined_member_count,y=_===void 0?null:_;return u.memberCount=g,u.joinedMemberCount=y,u.member=new ws(u._iid,s.data),u}return G(n,e),n}(Ac),Pse=function(e){function n(t){var r=this,s=t.channelUrl,u=t.userIds;return(r=e.call(this)||this).method=Pe.POST,r.path="".concat(mi,"/").concat(encodeURIComponent(s),"/invite"),r.params={user_ids:u},r}return G(n,e),n}(He),Fse=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=new Ia(t,r),s}return G(n,e),n}($e),Hse=function(e){function n(t,r,s){var u=e.call(this,t,r,s)||this,d=s.data,p=d.member_count,g=p===void 0?null:p,_=d.joined_member_count,y=_===void 0?null:_,E=d.inviter,x=E===void 0?null:E,k=d.invitees,T=k===void 0?[]:k;return u.memberCount=g,u.joinedMemberCount=y,u.inviter=x?new Pn(t,x):null,u.invitees=T.map(function(I){return new ws(t,I)}),u}return G(n,e),n}(Ac),zse=function(e){function n(t){var r=this,s=t.channelUrl,u=t.userId;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(mi,"/").concat(encodeURIComponent(s),"/decline"),r.params={user_id:u},r}return G(n,e),n}(He),qse=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=new Ia(t,r),s.channel.myMemberState=_r.NONE,s}return G(n,e),n}($e),Bse=function(e){function n(t,r,s){var u=e.call(this,t,r,s)||this,d=s.data,p=d.member_count,g=p===void 0?null:p,_=d.joined_member_count,y=_===void 0?null:_,E=d.inviter,x=E===void 0?null:E,k=d.invitee,T=k===void 0?null:k;return u.memberCount=g,u.joinedMemberCount=y,u.inviter=x?new Pn(t,x):null,u.invitee=T?new ws(t,T):null,u}return G(n,e),n}(Ac),jse=function(e){function n(t){var r=t.channelUrl;return e.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return G(n,e),n}(pa),CL=function(e){function n(t,r,s){var u=e.call(this,t,"READ",s)||this;return u.readStatus=new yL(t,s),u}return G(n,e),n}(kt),Gse=function(e){function n(t){var r=t.channelUrl,s=t.userId,u=e.call(this)||this;return(u=e.call(this)||this).method=Pe.PUT,u.path="".concat(mi,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),u.params=In({userId:s}),u}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var Io,$se=function(e){function n(t,r,s){var u=e.call(this,t,"DLVR",s)||this;return u.channelUrl=s.channel_url,u.deliveredStateUpdate=s.updated,u}return G(n,e),n}(kt),Vse=function(e){function n(t){var r=this,s=t.channelUrl,u=t.userId,d=t.hidePreviousMessages,p=t.allowAutoUnhide;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(mi,"/").concat(encodeURIComponent(s),"/hide"),r.params={user_id:u,hide_previous_messages:d,allow_auto_unhide:p},r}return G(n,e),n}(He),Wse=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.messageOffsetTimestamp=null;var u=r.ts_message_offset;return s.messageOffsetTimestamp=u!=null?u:null,s}return G(n,e),n}($e),Kse=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.allowAutoUnhide=null,u.hidePreviousMessages=null,u.messageOffsetTimestamp=null,s.data&&(u.allowAutoUnhide=s.data.allow_auto_unhide,u.hidePreviousMessages=s.data.hide_previous_messages),u.messageOffsetTimestamp=s.ts_message_offset,u}return G(n,e),n}(kt),Qse=function(e){function n(t){var r=t.channelUrl,s=t.time;return e.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:s}})||this}return G(n,e),n}(pa),Yse=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.user=new Pn(t,s.data),u}return G(n,e),n}(kt),Xse=function(e){function n(t){var r=t.channelUrl,s=t.time;return e.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:s}})||this}return G(n,e),n}(pa),Zse=function(e){function n(t,r,s){var u=e.call(this,t,"SYEV",s)||this;return u.user=new Pn(t,s.data),u}return G(n,e),n}(kt),Jse=function(e){function n(t){var r=t.channelUrl,s=t.messageId;return e.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:s}})||this}return G(n,e),n}(pa),TL=function(e){function n(t,r){var s,u,d,p,g,_,y,E,x,k,T,I,P,N,O,U,L,ee,V,J,Y=this;return(Y=e.call(this,t,r)||this).includeEmpty=!1,Y.includeFrozen=!0,Y.includeMetaData=!0,Y.channelUrlsFilter=null,Y.customTypesFilter=null,Y.customTypeStartsWithFilter=null,Y.nicknameContainsFilter="",Y.channelNameContainsFilter="",Y.myMemberStateFilter=sa.ALL,Y.unreadChannelFilter=mc.ALL,Y.superChannelFilter=ha.ALL,Y.publicChannelFilter=Go.ALL,Y.hiddenChannelFilter=Ys.UNHIDDEN,Y.searchFilter={fields:[],query:null},Y.userIdsFilter={userIds:[],includeMode:!0,queryType:Ql.AND},Y.metadataKey=null,Y.metadataValues=null,Y.metadataOrderKeyFilter=null,Y.metadataValueStartsWith=null,Y.order=Ar.LATEST_LAST_MESSAGE,Y.includeEmpty=(s=r.includeEmpty)!==null&&s!==void 0&&s,Y.includeFrozen=(u=r.includeFrozen)===null||u===void 0||u,Y.includeMetaData=(d=r.includeMetaData)===null||d===void 0||d,Y.channelUrlsFilter=(p=r.channelUrlsFilter)!==null&&p!==void 0?p:null,Y.customTypesFilter=(g=r.customTypesFilter)!==null&&g!==void 0?g:null,Y.customTypeStartsWithFilter=(_=r.customTypeStartsWithFilter)!==null&&_!==void 0?_:"",Y.nicknameContainsFilter=(y=r.nicknameContainsFilter)!==null&&y!==void 0?y:"",Y.channelNameContainsFilter=(E=r.channelNameContainsFilter)!==null&&E!==void 0?E:"",Y.myMemberStateFilter=(x=r.myMemberStateFilter)!==null&&x!==void 0?x:sa.ALL,Y.unreadChannelFilter=(k=r.unreadChannelFilter)!==null&&k!==void 0?k:mc.ALL,Y.superChannelFilter=(T=r.superChannelFilter)!==null&&T!==void 0?T:ha.ALL,Y.publicChannelFilter=(I=r.publicChannelFilter)!==null&&I!==void 0?I:Go.ALL,Y.hiddenChannelFilter=(P=r.hiddenChannelFilter)!==null&&P!==void 0?P:Ys.UNHIDDEN,Y.searchFilter=(N=r.searchFilter)!==null&&N!==void 0?N:{fields:[],query:null},Y.userIdsFilter=(O=r.userIdsFilter)!==null&&O!==void 0?O:{userIds:[],includeMode:!0,queryType:Ql.AND},Y.metadataKey=(U=r.metadataKey)!==null&&U!==void 0?U:null,Y.metadataValues=(L=r.metadataValues)!==null&&L!==void 0?L:null,Y.metadataOrderKeyFilter=(ee=r.metadataOrderKeyFilter)!==null&&ee!==void 0?ee:null,Y.metadataValueStartsWith=(V=r.metadataValueStartsWith)!==null&&V!==void 0?V:null,Y.order=(J=r.order)!==null&&J!==void 0?J:Ar.LATEST_LAST_MESSAGE,Y}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&re("boolean",this.includeEmpty)&&re("boolean",this.includeFrozen)&&re("boolean",this.includeMetaData)&&re("string",this.channelNameContainsFilter)&&An("string",this.channelUrlsFilter,!0)&&An("string",this.customTypesFilter,!0)&&re("string",this.customTypeStartsWithFilter)&&re("string",this.nicknameContainsFilter)&&On(sa,this.myMemberStateFilter)&&On(ha,this.superChannelFilter)&&On(Go,this.publicChannelFilter)&&On(mc,this.unreadChannelFilter)&&On(Ys,this.hiddenChannelFilter)&&An(Yf,this.searchFilter.fields)&&re("string",this.searchFilter.query,!0)&&An("string",this.userIdsFilter.userIds)&&re("boolean",this.userIdsFilter.includeMode)&&On(Ql,this.userIdsFilter.queryType)&&On(Ar,this.order)&&re("string",this.metadataOrderKeyFilter,!0)&&re("string",this.metadataKey,!0)&&An("string",this.metadataValues,!0)&&re("string",this.metadataValueStartsWith,!0)},n.prototype.serialize=function(){return o0(this)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s;return R(this,function(u){switch(u.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Ir.of(this._iid).getMyGroupChannels(this._token,this,this.limit)]):[3,2]:[3,5];case 1:return t=u.sent(),r=t.channels,s=t.token,this._token=s,this._hasNext=!!s,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(Yo),Xf=function(){function e(n){var t=n.top,r=t===void 0?Number.MAX_SAFE_INTEGER:t,s=n.bottom,u=s===void 0?0:s;this.top=r,this.bottom=u}return e.prototype.includes=function(){for(var n=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.every(function(s){return n.top<=s&&s<=n.bottom})},e.prototype.overlap=function(n){return this.includes(n.top)||this.includes(n.bottom)},e.prototype.extends=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.top=Math.min.apply(Math,En([this.top],wn(n),!1)),this.bottom=Math.max.apply(Math,En([this.bottom],wn(n),!1))},e}(),pA={},Ir=function(){function e(n,t){var r=t.sdkState,s=t.cacheContext,u=t.dispatcher,d=t.sessionManager,p=t.requestQueue,g=t.logger,_=this;this._leftChannels=new Map,this._markAsReadAllLastSentAt=0,this._iid=n,this._sdkState=r,this._sessionManager=d,this._requestQueue=p,this._dispatcher=u,this._logger=g,this._groupChannelHandlers=new Map,this._groupChannelCache=new use(this._iid,{sdkState:r,cacheContext:s}),this._unsentMessageCache=new wk(this._iid,{sdkState:r,cacheContext:s}),this._messageCache=new XU(this._iid,{sdkState:r,cacheContext:s,unsentMessageCache:this._unsentMessageCache}),this._groupChannelBroadcast=new pse({groupChannelCache:this._groupChannelCache,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:u}),this._messageBroadcast=new fse({messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:u,logger:g}),setInterval(function(){var y,E,x=function(I){I.invalidateTypingStatus()&&(_._dispatcher.dispatch(new Jn({channels:[I],source:Nn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),_._groupChannelHandlers.forEach(function(P){P.onTypingStatusUpdated(I)}))};try{for(var k=tn(_._groupChannelCache.channels),T=k.next();!T.done;T=k.next())x(T.value)}catch(I){y={error:I}}finally{try{T&&!T.done&&(E=k.return)&&E.call(k)}finally{if(y)throw y.error}}},1e3),this._dispatcher.on(function(y){y instanceof kt?_._handleEvent(y):y instanceof ZU&&A(_,void 0,void 0,function(){var E,x;return R(this,function(k){switch(k.label){case 0:return E=y.message,[4,this.getChannel(E.channelUrl,!0)];case 1:return x=k.sent(),E instanceof Lr?x._autoResendUserMessage(E):E instanceof Or&&x._autoResendFileMessage(E),[2]}})})}),pA[n]=this}return e.of=function(n){return pA[n]},Object.defineProperty(e.prototype,"handlers",{get:function(){return En([],wn(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),e.prototype.buildGroupChannelFromSerializedData=function(n){var t=pc(n);return new Ia(this._iid,Ia.payloadify(t))},e.prototype.buildGroupChannelListQueryFromSerializedData=function(n){var t=pc(n);return new TL(this._iid,t)},e.prototype.buildMemberFromSerializedData=function(n){var t=pc(n);return new ws(this._iid,ws.payloadify(t))},e.prototype.getChannelFromCache=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._groupChannelCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.getChannelsFromCache=function(n,t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return[4,this._groupChannelCache.fetch({token:n,filter:t,order:r})];case 1:return[2,s.sent()]}})})},e.prototype._handleEvent=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y,E,x,k,T,I,P,N,O,U,L,ee,V,J,Y,ye,ve,Ue,Ne,ce,Ee,ge,je,Xe,Te,ze,Ze,oe,ne,ke,en,Fe,Me,Ie,Ye,ln,xn,Fn,dn,Un,gn,zn,kn,Mn,j,M,D,Q,le,Ae,Le,Sn,bn,un,Ke,Dn,St,rt,Rr,vi,_i,lu,zt,so,Dc,m0,Os,Zo,uu,oo,lo,fr,uo,Ch,Th,Ra,v0,_0,Mr,Uc,Jo,Lc,Ih,cu,co,Pc,du,Fc,As,hu,el,Ma,nl,Hc,pu,zc,Nh,Oh,qc,Ah,Rh,Bc,as,fu,Mh,tr,gu,mu,Dh,jt,jc,b0,kr,y0,ht=this;return R(this,function(Wn){switch(Wn.label){case 0:switch(Wn.trys.push([0,72,,73]),n.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"SYEV":return[3,32];case"USEV":return[3,70]}return[3,71];case 1:return _=null,n.code==="MESG"?_=n.as(yk):n.code==="FILE"?_=n.as(fk):n.code!=="ADMM"&&n.code!="BRDM"||(_=n.as(hL)),_?(t=_.message,r=_.isMentioned,s=_.forceUpdateLastMessage,t.channelType!==ft.GROUP?[3,3]:(Xa(function(){return A(ht,void 0,void 0,function(){var De;return R(this,function(Re){return De=new Jse(t),this._requestQueue.send(De),[2]})})}),Y=this._groupChannelCache.isCachedInMemory(t.channelUrl),k=t instanceof Tr&&t.sender.userId===this._sdkState.userId,[4,this.getChannel(t.channelUrl,!0)])):[3,3];case 2:if((u=Wn.sent()).hiddenState=ra.UNHIDDEN,t instanceof Tr){d=ue.of(this._iid).useMemberInfoInMessage;try{for(p=tn(u.members),g=p.next();!g.done;g=p.next())if((fr=g.value).userId===t.sender.userId){d?(t.sender.nickname=fr.nickname,t.sender.plainProfileUrl=fr.plainProfileUrl,t.sender.metaData=fr.metaData,t.sender.isBlockedByMe=fr.isBlockedByMe):(fr.nickname=t.sender.nickname,fr.plainProfileUrl=t.sender.plainProfileUrl,fr.metaData=t.sender.metaData,fr.isBlockedByMe=t.sender.isBlockedByMe);break}}catch(De){Mh={error:De}}finally{try{g&&!g.done&&(tr=p.return)&&tr.call(p)}finally{if(Mh)throw Mh.error}}d&&r&&t.mentionedUsers.forEach(function(De){var Re,mn;try{for(var qn=tn(u.members),et=qn.next();!et.done;et=qn.next()){var ct=et.value;if(De.userId===ct.userId){De.nickname=ct.nickname,De.plainProfileUrl=ct.plainProfileUrl,De.metaData=ct.metaData;break}}}catch(ss){Re={error:ss}}finally{try{et&&!et.done&&(mn=qn.return)&&mn.call(qn)}finally{if(Re)throw Re.error}}}),k&&(I=this._sessionManager.currentUser)&&(I.nickname=t.sender.nickname,I.plainProfileUrl=t.sender.plainProfileUrl,I.metaData=t.sender.metaData)}t.silent&&!k||(u.isEphemeral||Y)&&((!u.lastMessage||u.lastMessage.createdAt<t.createdAt)&&(u.lastMessage=t),k||u._updateUnreadCount(u.unreadMessageCount+1,u.unreadMentionCount+(r?1:0))),s&&(!u.lastMessage||u.lastMessage.createdAt<t.createdAt)&&(u.lastMessage=t),this._dispatcher.dispatch(new Jn({channels:[u],source:Nn.EVENT_MESSAGE_RECEIVED})),t.silent&&!k||cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onChannelChanged(u)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})}),this._dispatcher.dispatch(new Yt({messages:[t],source:Cn.EVENT_MESSAGE_RECEIVED})),cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn,et;return R(this,function(ct){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())(mn=Re.value).onMessageReceived(u,t),r&&mn.onMentionReceived(u,t)}catch(ss){qn={error:ss}}finally{try{Re&&!Re.done&&(et=De.return)&&et.call(De)}finally{if(qn)throw qn.error}}return[2]})})}),Wn.label=3;case 3:return[3,71];case 4:return _=null,n.code==="MEDI"?_=n.as(Tv):n.code==="FEDI"?_=n.as(Ek):n.code==="AEDI"&&(_=n.as(pL)),_?(y=_.message,E=_.mentionCountChange,y.channelType!==ft.GROUP?[3,6]:(Y=this._groupChannelCache.isCachedInMemory(y.channelUrl),[4,this.getChannel(y.channelUrl,!0)])):[3,6];case 5:x=Wn.sent(),k=y instanceof Tr&&y.sender.userId===this._sdkState.userId,T=!1,k?(I=this._sessionManager.currentUser)&&(I.nickname=y.sender.nickname,I.plainProfileUrl=y.sender.plainProfileUrl,I.metaData=y.sender.metaData):x.isReadMessage(y)&&E!==0&&!y.silent&&Y&&(x._updateUnreadCount(x.unreadMessageCount,x.unreadMentionCount+E),T=!0),!x.lastMessage||x.lastMessage.createdAt<y.createdAt?(x.lastMessage=y,T=!0):x.lastMessage.isIdentical(y)&&(Y?x.lastMessage.updatedAt<y.updatedAt&&(x.lastMessage=y,T=!0):T=!0),T&&(this._dispatcher.dispatch(new Jn({channels:[x],source:Nn.EVENT_MESSAGE_UPDATED})),y.silent&&!k||cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onChannelChanged(x)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})})),this._dispatcher.dispatch(new Yt({messages:[y],source:Cn.EVENT_MESSAGE_UPDATED})),cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn,et;return R(this,function(ct){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())(mn=Re.value).onMessageUpdated(x,y),E!==0&&mn.onMentionReceived(x,y)}catch(ss){qn={error:ss}}finally{try{Re&&!Re.done&&(et=De.return)&&et.call(De)}finally{if(qn)throw qn.error}}return[2]})})}),Wn.label=6;case 6:return[3,71];case 7:return P=n.as(VU),ke=P.channelUrl,Ne=P.channelType,N=P.messageId,Ne!==ft.GROUP?[3,9]:[4,this.getChannel(ke,!0)];case 8:O=Wn.sent(),this._dispatcher.dispatch(new gk({messageIds:[N],source:Cn.EVENT_MESSAGE_DELETED})),cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onMessageDeleted(O,N)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})}),Wn.label=9;case 9:return[3,71];case 10:return(U=n.as(CL).readStatus).channelType!==ft.GROUP?[3,12]:(Y=this._groupChannelCache.isCachedInMemory(U.channelUrl),[4,this.getChannel(U.channelUrl,!0)]);case 11:L=Wn.sent(),Y&&L._updateUnreadMemberState(U.reader.userId,U.readAt),U.reader.userId===this._sdkState.userId?Y?(L.unreadMessageCount>0||L.unreadMentionCount>0)&&(L._updateUnreadCount(0,0),this._dispatcher.dispatch(new Jn({channels:[L],source:Nn.EVENT_CHANNEL_READ})),cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onChannelChanged(L)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})})):L.unreadMessageCount!==0&&L.unreadMentionCount!==0||(this._dispatcher.dispatch(new Jn({channels:[L],source:Nn.EVENT_CHANNEL_READ})),cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onChannelChanged(L)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})})):(this._dispatcher.dispatch(new Jn({channels:[L],source:Nn.EVENT_CHANNEL_READ})),cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onUnreadMemberStatusUpdated(L)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})})),Wn.label=12;case 12:return[3,71];case 13:return ee=n.as($se),ke=ee.channelUrl,V=ee.deliveredStateUpdate,J=V===void 0?{}:V,Y=this._groupChannelCache.isCachedInMemory(ke),[4,this.getChannel(ke,!0)];case 14:if(ye=Wn.sent(),Y)for(ve in J)ye._updateUndeliveredMemberState(ve,J[ve]);return this._dispatcher.dispatch(new Jn({channels:[ye],source:Nn.EVENT_CHANNEL_DELIVERED})),Object.keys(J).some(function(De){return De!==ht._sdkState.userId})&&cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onUndeliveredMemberStatusUpdated(ye)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})}),[3,71];case 15:return Ue=n.as(fL),ke=Ue.channelUrl,Ne=Ue.channelType,ce=Ue.event,Ne!==ft.GROUP?[3,18]:[4,this.getChannel(ke,!0)];case 16:return Ee=Wn.sent(),[4,this.getMessageFromCache(ce.messageId)];case 17:(Xe=Wn.sent())&&(Xe.applyReactionEvent(ce),this._dispatcher.dispatch(new Yt({messages:[Xe],source:Cn.EVENT_MESSAGE_REACTION_UPDATED}))),cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onReactionUpdated(Ee,ce)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})}),Wn.label=18;case 18:return[3,71];case 19:return(ge=n.as(gL).event).channelType!==ft.GROUP?[3,22]:[4,this.getChannel(ge.channelUrl,!0)];case 20:return je=Wn.sent(),[4,this.getMessageFromCache(ge.targetMessageId)];case 21:(Xe=Wn.sent())&&(Xe.applyThreadInfoUpdateEvent(ge),this._dispatcher.dispatch(new Yt({messages:[Xe],source:Cn.EVENT_MESSAGE_THREADINFO_UPDATED}))),cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onThreadInfoUpdated(je,ge)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})}),Wn.label=22;case 22:return[3,71];case 23:Te=n.as(dL).groupChannelMemberCounts,ze=[],Wn.label=24;case 24:Wn.trys.push([24,29,30,31]),Ze=tn(Te),oe=Ze.next(),Wn.label=25;case 25:return oe.done?[3,28]:(ne=oe.value,ke=ne.channelUrl,vi=ne.memberCount,_i=ne.joinedMemberCount,en=ne.updatedAt,[4,this.getChannelFromCache(ke)]);case 26:(Fe=Wn.sent())&&Fe._setLatestMemberCount(vi,_i,en)&&ze.push(Fe),Wn.label=27;case 27:return oe=Ze.next(),[3,25];case 28:return[3,31];case 29:return Me=Wn.sent(),gu={error:Me},[3,31];case 30:try{oe&&!oe.done&&(mu=Ze.return)&&mu.call(Ze)}finally{if(gu)throw gu.error}return[7];case 31:return ze.length>0&&(this._dispatcher.dispatch(new Jn({channels:ze,source:Nn.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),cn(function(){return A(ht,void 0,void 0,function(){var De,Re,mn,qn;return R(this,function(et){try{for(De=tn(this._groupChannelHandlers.values()),Re=De.next();!Re.done;Re=De.next())Re.value.onChannelMemberCountChanged(ze)}catch(ct){mn={error:ct}}finally{try{Re&&!Re.done&&(qn=De.return)&&qn.call(De)}finally{if(mn)throw mn.error}}return[2]})})})),[3,71];case 32:if(!(Ie=n.as(Ac).event).isGroupChannelEvent)return[3,69];switch(Ie.category){case at.CHANNEL_JOIN:return[3,33];case at.CHANNEL_LEAVE:return[3,35];case at.CHANNEL_OPERATOR_UPDATE:return[3,39];case at.CHANNEL_INVITE:return[3,41];case at.CHANNEL_DECLINE_INVITE:return[3,43];case at.TYPING_START:case at.TYPING_END:return[3,45];case at.USER_CHANNEL_MUTE:case at.USER_CHANNEL_UNMUTE:return[3,47];case at.USER_CHANNEL_BAN:return[3,49];case at.USER_CHANNEL_UNBAN:return[3,53];case at.CHANNEL_FREEZE:case at.CHANNEL_UNFREEZE:return[3,55];case at.CHANNEL_HIDE:return[3,57];case at.CHANNEL_UNHIDE:return[3,59];case at.CHANNEL_DELETED:return[3,61];case at.CHANNEL_PROP_CHANGED:return[3,63];case at.CHANNEL_META_DATA_CHANGED:return[3,65];case at.CHANNEL_META_COUNTERS_CHANGED:return[3,67]}return[3,69];case 33:return[4,this.getChannel(Ie.channelUrl,!0)];case 34:return Ye=Wn.sent(),ln=n.as(Dse),xn=ln.memberCount,Fn=ln.joinedMemberCount,dn=ln.members,Un=!1,dn.forEach(function(De){Ye.isExclusive||Ye.isSuper||Ye.isBroadcast?Un=Un||Ye._setLatestMemberCount(xn,Fn,Ie.ts):(De.state=_r.JOINED,Ye.addMember(De,Ie.ts),ht._updateJoinedMemberCount(Ye)),De.userId===ht._sdkState.userId&&(Ye.myMemberState=_r.JOINED)}),this._dispatcher.dispatch(new Jn({channels:[Ye],source:Nn.EVENT_CHANNEL_JOINED})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){var mn,qn;try{for(var et=tn(dn),ct=et.next();!ct.done;ct=et.next()){var ss=ct.value;Re.onUserJoined(Ye,ss)}}catch(I_){mn={error:I_}}finally{try{ct&&!ct.done&&(qn=et.return)&&qn.call(et)}finally{if(mn)throw mn.error}}Ye.isBroadcast&&Un&&Re.onChannelMemberCountChanged([Ye])}),[2]})})}),[3,69];case 35:return(uo=this._leftChannels.get(Ie.channelUrl))?(zn=uo.channel,[3,38]):[3,36];case 36:return[4,this.getChannel(Ie.channelUrl,!0)];case 37:zn=Wn.sent(),Wn.label=38;case 38:return gn=zn,kn=n.as(Lse),vi=kn.memberCount,_i=kn.joinedMemberCount,Mn=kn.member,j=!1,gn.isExclusive||gn.isSuper||gn.isBroadcast?j=gn._setLatestMemberCount(vi,_i,Ie.ts):(gn.removeMember(Mn),this._updateJoinedMemberCount(gn)),Mn.userId===this._sdkState.userId?gn.isPublic?(gn.myMemberState=_r.NONE,gn.invitedAt=0,gn.joinedAt=0,gn._updateUnreadCount(0,0),this._dispatcher.dispatch(new Jn({channels:[gn],source:Nn.EVENT_CHANNEL_LEFT}))):(this._markAsLeave(gn),this._dispatcher.dispatch(new tf({channelUrls:[gn.url],source:Nn.EVENT_CHANNEL_LEFT}))):this._dispatcher.dispatch(new Jn({channels:[gn],source:Nn.EVENT_CHANNEL_LEFT})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onUserLeft(gn,Mn),gn.isBroadcast&&j&&Re.onChannelMemberCountChanged([gn])}),[2]})})}),[3,69];case 39:return[4,this.getChannel(Ie.channelUrl,!0)];case 40:M=Wn.sent(),D=n.as(cL).operators,Q=D.map(function(De){return De.userId});try{for(le=tn(M.members),Ae=le.next();!Ae.done;Ae=le.next())(fr=Ae.value).role=Q.includes(fr.userId)?Ya.OPERATOR:Ya.NONE}catch(De){Dh={error:De}}finally{try{Ae&&!Ae.done&&(jt=le.return)&&jt.call(le)}finally{if(Dh)throw Dh.error}}return M.myRole=Q.includes(this._sdkState.userId)?Ya.OPERATOR:Ya.NONE,this._dispatcher.dispatch(new Jn({channels:[M],source:Nn.EVENT_CHANNEL_OPERATOR_UPDATED})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onOperatorUpdated(M,D)}),[2]})})}),[3,69];case 41:return[4,this.getChannel(Ie.channelUrl,!0)];case 42:Le=Wn.sent(),Sn=n.as(Hse),vi=Sn.memberCount,_i=Sn.joinedMemberCount,bn=Sn.inviter,(un=Sn.invitees).forEach(function(De){return De.state=_r.INVITED});try{for(Ke=tn(un),Dn=Ke.next();!Dn.done;Dn=Ke.next())St=Dn.value,Le.isExclusive||Le.isSuper||Le.isBroadcast?Le._setLatestMemberCount(vi,_i,Ie.ts):Le.addMember(St,Ie.ts),this._sdkState.userId===St.userId&&(Le.hiddenState=ra.UNHIDDEN,Le.myMemberState!==_r.JOINED&&(Le.myMemberState=_r.INVITED),Le.invitedAt=Ie.ts)}catch(De){jc={error:De}}finally{try{Dn&&!Dn.done&&(b0=Ke.return)&&b0.call(Ke)}finally{if(jc)throw jc.error}}return this._dispatcher.dispatch(new Jn({channels:[Le],source:Nn.EVENT_CHANNEL_INVITED})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onUserReceivedInvitation(Le,bn,un)}),[2]})})}),[3,69];case 43:return[4,this.getChannel(Ie.channelUrl,!0)];case 44:return rt=Wn.sent(),Rr=n.as(Bse),vi=Rr.memberCount,_i=Rr.joinedMemberCount,lu=Rr.inviter,zt=Rr.invitee,rt.isExclusive||rt.isSuper||rt.isBroadcast?rt._setLatestMemberCount(vi,_i,Ie.ts):rt.removeMember(zt),this._sdkState.userId===zt.userId?(rt.invitedAt=0,rt.myMemberState=_r.NONE,rt.isPublic?this._dispatcher.dispatch(new Jn({channels:[rt],source:Nn.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new tf({channelUrls:[rt.url],source:Nn.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new Jn({channels:[rt],source:Nn.EVENT_CHANNEL_DECLINED_INVITE})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onUserDeclinedInvitation(rt,lu,zt)}),[2]})})}),[3,69];case 45:return[4,this.getChannel(Ie.channelUrl,!0)];case 46:return so=Wn.sent(),Dc=Ie.category===at.TYPING_START,m0=n.as(Dc?Yse:Zse).user,so._updateTypingStatus(m0,Dc?Ie.ts:0),this._dispatcher.dispatch(new Jn({channels:[so],source:Nn.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onTypingStatusUpdated(so)}),[2]})})}),[3,69];case 47:return[4,this.getChannel(Ie.channelUrl,!0)];case 48:Os=Wn.sent(),Zo=Ie.category===at.USER_CHANNEL_MUTE,(uu=n.as(Zo?qU:BU).user).userId===this._sdkState.userId&&(Os.myMutedState=Zo?Uo.MUTED:Uo.UNMUTED);try{for(oo=tn(Os.members),lo=oo.next();!lo.done;lo=oo.next())if((fr=lo.value).userId===uu.userId){fr.isMuted=Zo;break}}catch(De){kr={error:De}}finally{try{lo&&!lo.done&&(y0=oo.return)&&y0.call(oo)}finally{if(kr)throw kr.error}}return this._dispatcher.dispatch(new Jn({channels:[Os],source:Zo?Nn.EVENT_CHANNEL_MUTED:Nn.EVENT_CHANNEL_UNMUTED})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Zo?Re.onUserMuted(Os,uu):Re.onUserUnmuted(Os,uu)}),[2]})})}),[3,69];case 49:return(uo=this._leftChannels.get(Ie.channelUrl))?(Th=uo.channel,[3,52]):[3,50];case 50:return[4,this.getChannel(Ie.channelUrl,!0)];case 51:Th=Wn.sent(),Wn.label=52;case 52:return Ch=Th,this._markAsLeave(Ch),Ra=n.as(jU).user,cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onUserBanned(Ch,Ra)}),[2]})})}),[3,69];case 53:return[4,this.getChannel(Ie.channelUrl,!0)];case 54:return v0=Wn.sent(),_0=n.as(GU).user,cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onUserUnbanned(v0,_0)}),[2]})})}),[3,69];case 55:return[4,this.getChannel(Ie.channelUrl,!0)];case 56:return Mr=Wn.sent(),Uc=n.as($U).freeze,Mr.isFrozen=Uc,this._dispatcher.dispatch(new Jn({channels:[Mr],source:Uc?Nn.EVENT_CHANNEL_FROZEN:Nn.EVENT_CHANNEL_UNFROZEN})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Uc?Re.onChannelFrozen(Mr):Re.onChannelUnfrozen(Mr)}),[2]})})}),[3,69];case 57:return[4,this.getChannel(Ie.channelUrl,!0)];case 58:return Jo=Wn.sent(),Lc=n.as(Kse),Ih=Lc.allowAutoUnhide,cu=Lc.hidePreviousMessages,co=Lc.messageOffsetTimestamp,Ih!==null&&(Jo.hiddenState=Ih?ra.HIDDEN_ALLOW_AUTO_UNHIDE:ra.HIDDEN_PREVENT_AUTO_UNHIDE),cu!==null&&cu&&Jo._updateUnreadCount(0,0),co!==null&&(Jo.messageOffsetTimestamp=co),this._dispatcher.dispatch(new Jn({channels:[Jo],source:Nn.EVENT_CHANNEL_HIDDEN})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onChannelHidden(Jo)}),[2]})})}),[3,69];case 59:return[4,this.getChannel(Ie.channelUrl,!0)];case 60:return(Pc=Wn.sent()).hiddenState=ra.UNHIDDEN,this._dispatcher.dispatch(new Jn({channels:[Pc],source:Nn.EVENT_CHANNEL_UNHIDDEN})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onChannelChanged(Pc)}),[2]})})}),[3,69];case 61:return[4,this.getChannel(Ie.channelUrl,!0)];case 62:return du=Wn.sent(),this._dispatcher.dispatch(new tf({channelUrls:[Ie.channelUrl],source:Nn.EVENT_CHANNEL_DELETED})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onChannelDeleted(du.url,du.channelType)}),[2]})})}),[3,69];case 63:return[4,this.getChannelWithoutCache(Ie.channelUrl,!0)];case 64:return Fc=Wn.sent(),this._dispatcher.dispatch(new Jn({channels:[Fc],source:Nn.EVENT_CHANNEL_UPDATED})),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){Re.onChannelChanged(Fc)}),[2]})})}),[3,69];case 65:return[4,this.getChannel(Ie.channelUrl,!0)];case 66:return As=Wn.sent(),hu=n.as(HU),el=hu.created,Ma=hu.updated,nl=hu.deleted,el&&As._upsertCachedMetaData(el,Ie.ts),Ma&&As._upsertCachedMetaData(Ma,Ie.ts),nl&&As._removeFromCachedMetaData(nl,Ie.ts),cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){el&&Re.onMetaDataCreated(As,el),Ma&&Re.onMetaDataUpdated(As,Ma),nl&&Re.onMetaDataDeleted(As,nl)}),[2]})})}),[3,69];case 67:return[4,this.getChannel(Ie.channelUrl,!0)];case 68:return Hc=Wn.sent(),pu=n.as(zU),zc=pu.created,Nh=pu.updated,Oh=pu.deleted,cn(function(){return A(ht,void 0,void 0,function(){return R(this,function(De){return this._groupChannelHandlers.forEach(function(Re){zc&&Re.onMetaCounterCreated(Hc,zc),Nh&&Re.onMetaCounterUpdated(Hc,Nh),Oh&&Re.onMetaCounterDeleted(Hc,Oh)}),[2]})})}),[3,69];case 69:return[3,71];case 70:switch((qc=n.as(eL).event).category){case Qf.USER_BLOCK:Ah=Iv.getDataAsUserBlockEvent(this._iid,qc),Bc=Ah.blocker,as=Ah.blockee,this._groupChannelCache.block(Bc.userId,as.userId);break;case Qf.USER_UNBLOCK:Rh=Iv.getDataAsUserBlockEvent(this._iid,qc),Bc=Rh.blocker,as=Rh.blockee,this._groupChannelCache.unblock(Bc.userId,as.userId)}return[3,71];case 71:return[3,73];case 72:if(fu=Wn.sent(),bs(fu))throw fu;return[3,73];case 73:return[2]}})})},e.prototype._markAsLeave=function(n){var t,r=this,s=(t=this._leftChannels.get(n.url))!==null&&t!==void 0?t:{channel:n,ref:0};s.ref++,this._leftChannels.set(n.url,s),setTimeout(function(){s.ref--,s.ref===0&&r._leftChannels.delete(n.url)},1e4)},e.prototype.addHandler=function(n,t){this._groupChannelHandlers.set(n,t)},e.prototype.removeHandler=function(n){this._groupChannelHandlers.delete(n)},e.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},e.prototype.subscribeGroupChannelEvent=function(n,t){this._groupChannelBroadcast.subscribe(n,t)},e.prototype.unsubscribeGroupChannelEvent=function(n){this._groupChannelBroadcast.unsubscribe(n)},e.prototype.subscribeMessageEvent=function(n,t){this._messageBroadcast.subscribe(n,t)},e.prototype.unsubscribeMessageEvent=function(n){this._messageBroadcast.unsubscribe(n)},e.prototype._updateJoinedMemberCount=function(n){n.joinedMemberCount=n.members.filter(function(t){return t.state===_r.JOINED}).length},e.prototype.getChannel=function(n,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var r;return R(this,function(s){switch(s.label){case 0:We(re("string",n)).throw(me.invalidParameters),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.getChannelFromCache(n)];case 2:return(r=s.sent())?[2,r]:[3,4];case 3:return s.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(n,t)];case 5:return[2,s.sent()]}})})},e.prototype.getChannelWithoutCache=function(n,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return We(re("string",n)).throw(me.invalidParameters),r=new kL({channelUrl:n,isInternalCall:t}),[4,this._requestQueue.send(r)];case 1:switch(s=g.sent(),u=s.as(SL).channel,d=u.unreadMessageCount,p=u.unreadMentionCount,u.myCountPreference){case ta.UNREAD_MESSAGE_COUNT_ONLY:p=0;break;case ta.UNREAD_MENTION_COUNT_ONLY:d=0;break;case ta.OFF:d=0,p=0}return u._updateUnreadCount(d,p),[4,this._groupChannelCache.upsert([u])];case 2:return g.sent(),[2,u]}})})},e.prototype.getMyGroupChannels=function(n,t,r,s){return s===void 0&&(s=Nn.REQUEST_CHANNEL),A(this,void 0,void 0,function(){var u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return u=new vse(ae(ae({},t),{userId:this._sdkState.userId,token:n,limit:r})),[4,this._requestQueue.send(u)];case 1:return d=y.sent(),p=d.as(_se),g=p.channels,_=p.token,this._dispatcher.dispatch(new Jn({channels:g,source:s})),[2,{channels:g,token:_}]}})})},e.prototype.getMessageFromCache=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._messageCache.get(n)];case 1:return[2,t.sent()]}})})},e.prototype.getMessagesFromCache=function(n,t,r,s,u){return u===void 0&&(u=YU),A(this,void 0,void 0,function(){return R(this,function(d){switch(d.label){case 0:return[4,this._messageCache.fetch({channelUrl:n,token:t,limit:u,filter:s,backward:r==="next"})];case 1:return[2,d.sent()]}})})},e.prototype.getAllFailedMessagesFromCache=function(n,t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:n,filter:t,sendingStatus:Nt.FAILED})];case 1:return[2,r.sent()]}})})},e.prototype.removeFailedMessageFromCache=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._unsentMessageCache.remove([n])];case 1:return t.sent(),[2]}})})},e.prototype.getCachedMessageCountBetween=function(n,t,r,s){return A(this,void 0,void 0,function(){return R(this,function(u){switch(u.label){case 0:return[4,this._messageCache.countBetween(n,t,new Xf({top:r,bottom:s}))];case 1:return[2,u.sent()]}})})},e.prototype.getMyGroupChannelChangeLogs=function(n,t,r){return r===void 0&&(r=Nn.REQUEST_CHANNEL_CHANGELOGS),A(this,void 0,void 0,function(){var s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return t=ae(ae({},Av),t),We(re("string",n)&&ww(t)).throw(me.invalidParameters),s=new gse(In({userId:this._sdkState.userId,ts:typeof n=="number"?n:null,token:typeof n=="string"?n:null,filter:t})),[4,this._requestQueue.send(s)];case 1:return u=_.sent(),d=u.as(mse),p=d.updatedChannels,g=d.deletedChannelUrls,p.length>0&&this._dispatcher.dispatch(new Jn({channels:p,source:r})),g.length>0&&this._dispatcher.dispatch(new tf({channelUrls:g,source:r})),[2,d]}})})},e.prototype.getGroupChannelCount=function(n){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return n=ae(ae({},wL),n),We(xL(n)).throw(me.invalidParameters),t=new bse({userId:this._sdkState.userId,filter:n}),[4,this._requestQueue.send(t)];case 1:return r=s.sent(),[2,r.as(yse).groupChannelCount]}})})},e.prototype.getUnreadItemCount=function(n){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return n=ae(ae({},cse),n),We(function(p){return An(yr,p.keys)}(n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new Ese({userId:r.userId,filter:n}),[4,s.send(u)];case 1:return[2,d.sent().as(wse)]}})})},e.prototype.getTotalUnreadChannelCount=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u;return R(this,function(d){switch(d.label){case 0:return n=ue.of(this._iid),t=n.sdkState,r=n.requestQueue,s=new xse({userId:t.userId}),[4,r.send(s)];case 1:return u=d.sent(),[2,u.as(kse).unreadCount]}})})},e.prototype.getTotalUnreadMessageCount=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){switch(p.label){case 0:return n=ae(ae({},dse),n),We(function(g){return An("string",g.channelCustomTypesFilter)&&On(ha,g.superChannelFilter)}(n)).throw(me.invalidParameters),t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new Sse({userId:r.userId,filter:n}),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(Cse).unreadCount]}})})},e.prototype.getTotalScheduledMessageCount=function(n){return n===void 0&&(n={}),A(this,void 0,void 0,function(){var t,r,s;return R(this,function(u){switch(u.label){case 0:return n=ae(ae({},hse),n),We(function(d){return re("string",d.channelUrl,!0)&&An(Dl,d.scheduledStatus,!0)&&On(Wr,d.messageTypeFilter)}(n)).throw(me.invalidParameters),t=ue.of(this._iid).requestQueue,r=new Tse(n),[4,t.send(r)];case 1:return s=u.sent(),[2,s.as(Ise).count]}})})},e.prototype.getSubscribedTotalUnreadMessageCount=function(){var n=ue.of(this._iid).subscribedUnreadMessageCount;return n.all>=0?n.all:0},e.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var n=0,t=ue.of(this._iid).subscribedUnreadMessageCount;for(var r in t.customTypes)n+=t.customTypes[r];return n},e.prototype.getSubscribedCustomTypeUnreadMessageCount=function(n){var t;return(t=ue.of(this._iid).subscribedUnreadMessageCount.customTypes[n])!==null&&t!==void 0?t:0},e.prototype.createChannel=function(n){return A(this,void 0,void 0,function(){var t,r,s;return R(this,function(u){switch(u.label){case 0:return n=ae(ae({},Vm),n),We(Ew(n)).throw(me.invalidParameters),n.isPublic||(n.accessCode=null),t=new Ose(ae({userId:this._sdkState.userId},n)),[4,this._requestQueue.send(t)];case 1:return r=u.sent(),s=r.as(Ase).channel,[4,this._groupChannelCache.upsert([s])];case 2:return u.sent(),[2,s]}})})},e.prototype.markAsReadAll=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return n=Date.now(),We(n-this._markAsReadAllLastSentAt>=1e3).throw(me.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=n,t=new hA({userId:this._sdkState.userId}),[4,this._requestQueue.send(t)];case 1:_.sent(),r=this._groupChannelCache.channels;try{for(s=tn(r),u=s.next();!u.done;u=s.next())(d=u.value)._updateUnreadMemberState(this._sdkState.userId,n),d._updateUnreadCount(0,0)}catch(y){p={error:y}}finally{try{u&&!u.done&&(g=s.return)&&g.call(s)}finally{if(p)throw p.error}}return r.length>0?[4,this._groupChannelCache.upsert(r)]:[3,3];case 2:_.sent(),_.label=3;case 3:return[2]}})})},e.prototype.markAsReadWithChannelUrls=function(n){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y;return R(this,function(E){switch(E.label){case 0:return t=Date.now(),We(An("string",n)&&t-this._markAsReadAllLastSentAt>=1e3).throw(me.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,r=new hA({userId:this._sdkState.userId,channelUrls:n}),[4,this._requestQueue.send(r)];case 1:E.sent(),s=this._groupChannelCache.channels,u=[];try{for(d=tn(s),p=d.next();!p.done;p=d.next())g=p.value,n.includes(g.url)&&(g._updateUnreadMemberState(this._sdkState.userId,t),g._updateUnreadCount(0,0),u.push(g))}catch(x){_={error:x}}finally{try{p&&!p.done&&(y=d.return)&&y.call(d)}finally{if(_)throw _.error}}return u.length>0?[4,this._groupChannelCache.upsert(u)]:[3,3];case 2:E.sent(),E.label=3;case 3:return[2]}})})},e.prototype.markAsDelivered=function(n){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this.getChannel(n)];case 1:return[4,t.sent().markAsDelivered()];case 2:return t.sent(),[2]}})})},e}(),kl=new Map,Wu=new Map,fA=new Map,eoe=function(){function e(n){var t=n.key,r=n.concurrentCallLimit,s=r===void 0?2:r,u=n.backOffDelay,d=u===void 0?0:u,p=this;this._holdersKey=e.createSemaphoreHoldersKey(t),this._resolversKey=e.createSemaphoreResolversKey(t),this._chainProcessStateKey=e.createChainProcessStateKey(t),this._numLocks=s,this._backOffDelay=d,this._localAcquiredKeys=[],this._localResolversData=[],Gs()?(kl[this._holdersKey]||(kl[this._holdersKey]=[]),Wu[this._resolversKey]||(Wu[this._resolversKey]=[])):(window.addEventListener("storage",function(g){return A(p,void 0,void 0,function(){var _,y;return R(this,function(E){if(this._localResolversData.length>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()&&this._hasHighestPriorityResolver())switch(g.key){case this._holdersKey:if(_=JSON.parse(g.oldValue),y=JSON.parse(g.newValue),!_||!y||y.length>=_.length)return[2];this._processChainResolve();break;case this._chainProcessStateKey:if(JSON.parse(g.newValue))return[2];this._processChainResolve();break;default:return[2]}return[2]})})}),window.addEventListener("beforeunload",function(){var g=p._getLocalResolversData(),_=p._localResolversData.map(function(E){return E.key}),y=g.filter(function(E){return _.indexOf(E.key)<0});window.localStorage.setItem(p._resolversKey,JSON.stringify(y)),p._localAcquiredKeys.forEach(function(E){return p.release(E)})}))}return e.createSemaphoreHoldersKey=function(n){return"collection@semaphore_holders_for:"+n},e.createSemaphoreResolversKey=function(n){return"collection@semaphore_resolvers_for:"+n},e.createChainProcessStateKey=function(n){return"collection@semaphore_chain_process_state_for:"+n},Object.defineProperty(e.prototype,"numLocks",{get:function(){return this._numLocks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backOffDelay",{get:function(){return this._backOffDelay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numLocksAvailable",{get:function(){if(Gs())return this.numLocks-kl[this._holdersKey].length;var n=this._getLocalHoldersData();return this.numLocks-n.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waitCount",{get:function(){return Gs()?Wu[this._resolversKey].length:this._getLocalResolversData().length},enumerable:!1,configurable:!0}),e.prototype._hasHighestPriorityResolver=function(){var n=this._getLocalResolversData();return n.length>0&&this._localResolversData.map(function(t){return t.key}).indexOf(n[0].key)>=0},e.prototype._isProcessChainAcquireRunning=function(){if(Gs())return fA[this._chainProcessStateKey];var n=window.localStorage[this._chainProcessStateKey];return n!==void 0&&JSON.parse(n)},e.prototype._setProcessChainAcquireRunning=function(n){Gs()?fA[this._chainProcessStateKey]=n:n?window.localStorage.setItem(this._chainProcessStateKey,JSON.stringify(n)):window.localStorage.removeItem(this._chainProcessStateKey)},e.prototype._processChainResolve=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return this.waitCount>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()?(this._setProcessChainAcquireRunning(!0),this._tryResolve()?[4,ja(this._backOffDelay)]:[3,2]):[3,3];case 1:t.sent(),t.label=2;case 2:this._setProcessChainAcquireRunning(!1),Gs()?this._processChainResolve():(n=new StorageEvent("storage",{key:this._chainProcessStateKey,oldValue:JSON.stringify(!0),newValue:JSON.stringify(!1)}),dispatchEvent(n)),t.label=3;case 3:return[2]}})})},e.prototype.acquire=function(n){return n===void 0&&(n=0),A(this,void 0,void 0,function(){var t,r=this;return R(this,function(s){return Gs()?[2,new Promise(function(u){for(var d={key:Qa(),resolver:function(y){return u(y)},priority:n},p=Wu[r._resolversKey],g=-1,_=0;_<p.length;_++)if(n>p[_].priority){g=_;break}g>=0?Wu[r._resolversKey].splice(g,0,d):Wu[r._resolversKey].push(d),r._processChainResolve()})]:(t=this._getLocalResolversData(),[2,new Promise(function(u){for(var d=Qa(),p={key:d,priority:n},g={key:d,resolver:function(E){return u(E)},priority:n},_=-1,y=0;y<t.length;y++)if(n>t[y].priority){_=y;break}_>=0?(t.splice(_,0,p),r._localResolversData.splice(_,0,g)):(t.push(p),r._localResolversData.push(g)),window.localStorage.setItem(r._resolversKey,JSON.stringify(t)),r._processChainResolve()})])})})},e.prototype.release=function(n){if(Gs()){if((t=kl[this._holdersKey].indexOf(n))>=0)return kl[this._holdersKey].splice(t,1),this._processChainResolve(),!0}else if(window.localStorage[this._holdersKey]){var t,r=JSON.parse(window.localStorage[this._holdersKey]),s=En([],wn(r),!1);if((t=r.indexOf(n))>=0){r.splice(t,1),window.localStorage.setItem(this._holdersKey,JSON.stringify(r)),this._localAcquiredKeys.splice(this._localAcquiredKeys.indexOf(n),1);var u=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(s),newValue:JSON.stringify(r)});return dispatchEvent(u),!0}}return!1},e.prototype._tryResolve=function(){if(Gs()){if(kl[this._holdersKey].length<this.numLocks){var n=Qa();return kl[this._holdersKey]=En(En([],wn(kl[this._holdersKey]),!1),[n],!1),(r=Wu[this._resolversKey].shift()).resolver(n),!0}}else{var t=this._getLocalHoldersData();if(t.length<this.numLocks){n=Qa();var r=this._localResolversData.shift(),s=this._getLocalResolversData(),u=s.map(function(p){return p.key}).indexOf(r.key);s.splice(u,1),window.localStorage.setItem(this._resolversKey,JSON.stringify(s)),window.localStorage.setItem(this._holdersKey,JSON.stringify(En(En([],wn(t),!1),[n],!1))),this._localAcquiredKeys.push(n);var d=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(En([],wn(t),!1)),newValue:JSON.stringify(En(En([],wn(t),!1),[n],!1))});return dispatchEvent(d),(0,r.resolver)(n),!0}}return!1},e.prototype._getLocalHoldersData=function(){var n=window.localStorage[this._holdersKey];return n!==void 0?JSON.parse(n):[]},e.prototype._getLocalResolversData=function(){var n=window.localStorage[this._resolversKey];return n!==void 0?JSON.parse(n):[]},e}();(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.END=2]="END"})(Io||(Io={}));var xw,kc=function(e){function n(t,r,s,u){s===void 0&&(s=2),u===void 0&&(u=10);var d=e.call(this)||this;return d._worker=null,d._state=Io.IDLE,d._semaphore=null,d._retryCount=0,d._retryLimit=3,d.priority=0,d._worker=r,d._semaphore=new eoe({key:t,concurrentCallLimit:s,backOffDelay:u}),d}return G(n,e),Object.defineProperty(n.prototype,"isIdle",{get:function(){return this._state===Io.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRunning",{get:function(){return this._state===Io.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDone",{get:function(){return this._state===Io.END},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),n.prototype._run=function(t){return A(this,void 0,void 0,function(){var r,s;return R(this,function(u){switch(u.label){case 0:if(!this.isRunning)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this._worker(t)];case 2:return r=u.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return s=u.sent(),this.dispatch("error",s),this._retryCount<this._retryLimit?(this._retryCount++,this._run(t)):this.stop(),[3,4];case 4:return[2]}})})},n.prototype.start=function(t){this.isIdle&&(this._state=Io.RUNNING,this._run(t))},n.prototype.stop=function(){this._state=Io.IDLE,this.dispatch("stop")},n.prototype.end=function(){this._state=Io.END,this.dispatch("end")},n}(s0),Rv=function(e){this.source=e},KE=function(e){this.source=e},$p={},QE=function(){function e(n){var t=n._iid,r=n.channel,s=this;this._prevSync=null,this._nextSync=null,this._metadata=null,this._iid=t,this._channel=r;var u,d,p=ue.of(this._iid),g=p.sdkState,_=p.logger;this._metadataKey=(u=g.userId,d=r.url,"sendbird:".concat(u,"@groupchannel/").concat(d,"/message/sync.meta"));var y=function(E,x){return"sendbird:".concat(E,"@groupchannel/").concat(x,"/message/sync")}(g.userId,r.url);this._prevSync=new kc(y,function(E){return A(s,void 0,void 0,function(){var x,k,T,I,P,N;return R(this,function(O){switch(O.label){case 0:return x={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:if(O.sent(),_.debug("message background prev sync from",(I=this._metadata)===null||I===void 0?void 0:I.range.top),this._metadata.previousComplete)return[3,9];O.label=2;case 2:return O.trys.push([2,5,,8]),[4,Vr.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(N=(P=this._metadata.range)===null||P===void 0?void 0:P.top)!==null&&N!==void 0?N:E,{prevResultSize:100,nextResultSize:0,replyType:Mi.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},Cn.SYNC_MESSAGE_BACKGROUND)];case 3:return k=O.sent(),this.extendRange(k),x.hasNext=k.length>=100,x.nextToken=this._metadata.range.top,this._metadata.previousComplete=!x.hasNext,_.debug("message background prev sync progress",x),[4,this.saveMetadata()];case 4:return O.sent(),[3,8];case 5:return(T=O.sent())instanceof me&&T.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:O.sent(),O.label=7;case 7:return x.hasNext=!1,x.nextToken=0,[3,8];case 8:return[3,10];case 9:x.hasNext=!1,O.label=10;case 10:return[2,x]}})})}),this._nextSync=new kc(y,function(E){return A(s,void 0,void 0,function(){var x,k,T,I,P;return R(this,function(N){switch(N.label){case 0:return x={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return N.sent(),_.debug("message background next sync from",(T=this._metadata)===null||T===void 0?void 0:T.range.bottom),[4,Vr.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(P=(I=this._metadata.range)===null||I===void 0?void 0:I.bottom)!==null&&P!==void 0?P:E,{prevResultSize:0,nextResultSize:100,replyType:Mi.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},Cn.SYNC_MESSAGE_BACKGROUND)];case 2:return k=N.sent(),this.extendRange(k),x.hasNext=k.length>=100,x.nextToken=this._metadata.range.bottom,_.debug("message background next sync progress",x),[4,this.saveMetadata()];case 3:return N.sent(),[2,x]}})})})}return e.of=function(n,t){if($p[n]||($p[n]={}),!$p[n][t.url]){var r=$p[n][t.url]=new e({_iid:n,channel:t});ue.of(n).dispatcher.on(function(s){s instanceof Cs&&(s.stateType===_t.CONNECTED?r.resume():r.pause())})}return $p[n][t.url]},Object.defineProperty(e.prototype,"range",{get:function(){var n;return(n=this._metadata)===null||n===void 0?void 0:n.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousComplete",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.previousComplete)},enumerable:!1,configurable:!0}),e.prototype.isWrappingMessages=function(n){var t;return(t=this.range)===null||t===void 0?void 0:t.includes.apply(t,En([],wn(n.map(function(r){return r.createdAt})),!1))},e.prototype.extendRange=function(n){var t;this._metadata&&(t=this._metadata.range).extends.apply(t,En([],wn(n.map(function(r){return r.createdAt})),!1))},e.prototype.loadMetadata=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,ue.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=t.sent(),this._metadata={range:new Xf(n?n.range:{top:Number.MAX_SAFE_INTEGER,bottom:Number.MAX_SAFE_INTEGER}),previousComplete:!!n&&n.previousComplete},t.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return this._metadata?[4,ue.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return A(this,void 0,void 0,function(){return R(this,function(n){return ue.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){var n,t,r,s;ue.of(this._iid).logger.debug("message background sync resume()"),this._metadata&&this._metadata.previousComplete||this._prevSync.start((t=(n=this._metadata)===null||n===void 0?void 0:n.range.top)!==null&&t!==void 0?t:Date.now()),this._nextSync.start((s=(r=this._metadata)===null||r===void 0?void 0:r.range.bottom)!==null&&s!==void 0?s:Date.now())},e.prototype.pause=function(){ue.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},e}(),Vp={},noe=function(){function e(n){var t=n._iid,r=n.channel,s=this;this._sync=null,this._metadata=null,this._iid=t,this._channel=r;var u,d,p=ue.of(this._iid).sdkState;this._metadataKey=(u=p.userId,d=r.url,"sendbird:".concat(u,"@groupchannel/").concat(d,"/message/changelogs.meta"));var g=function(_,y){return"sendbird:".concat(_,"@groupchannel/").concat(y,"/message/changelogs")}(p.userId,this._channel.url);this._sync=new kc(g,function(){return A(s,void 0,void 0,function(){var _,y,E,x,k;return R(this,function(T){switch(T.label){case 0:return _={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:T.sent(),T.label=2;case 2:return T.trys.push([2,5,,8]),[4,Vr.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:Mi.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includePollDetails:!0},Cn.SYNC_MESSAGE_CHANGELOGS)];case 3:return y=T.sent(),E=y.hasMore,x=y.token,_.hasNext=E,_.nextToken=x,this._metadata.token=x,[4,this.saveMetadata()];case 4:return T.sent(),[3,8];case 5:return(k=T.sent())instanceof me&&k.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:T.sent(),T.label=7;case 7:return _.hasNext=!1,_.nextToken="",[3,8];case 8:return[2,_]}})})})}return e.of=function(n,t){if(Vp[n]||(Vp[n]={}),!Vp[n][t.url]){var r=Vp[n][t.url]=new e({_iid:n,channel:t});ue.of(n).dispatcher.on(function(s){s instanceof Cs&&(s.stateType===_t.CONNECTED?r.resume():r.pause())})}return Vp[n][t.url]},e.prototype.loadMetadata=function(){return A(this,void 0,void 0,function(){var n,t,r,s;return R(this,function(u){switch(u.label){case 0:return this._metadata?[3,2]:(n=ue.of(this._iid),t=n.cacheContext,r=n.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:s=u.sent(),this._metadata={token:s?s.token:r/1e3},u.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return this._metadata?[4,ue.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return A(this,void 0,void 0,function(){return R(this,function(n){return ue.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e}(),toe=function(e){function n(t){var r,s,u,d,p,g,_=this;return(_=e.call(this)||this).method=Pe.GET,_.path="".concat(ut(t.channelType),"/").concat(t.channelUrl,"/messages_gap"),_.params=In({prev_start_ts:t.prevStart,prev_end_ts:t.prevEnd,prev_cache_count:t.prevCount,next_start_ts:t.nextStart,next_end_ts:t.nextEnd,next_cache_count:t.nextCount,huge_gap_threshold:(r=t.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(s=t.customTypes)!==null&&s!==void 0?s:["*"],message_type:(u=t.messageType)!==null&&u!==void 0?u:null,include_reactions:(d=t.includeReactions)===null||d===void 0||d,with_sorted_meta_array:(p=t.includeMetaArray)===null||p===void 0||p,show_subchannel_messages_only:(g=t.showSubchannelMessagesOnly)!==null&&g!==void 0&&g}),_}return G(n,e),n}(He),roe=function(e){function n(t,r){var s,u,d,p,g=this;return(g=e.call(this,t,r)||this).isHugeGap=r.is_huge_gap,g.prevMessages=((s=r.prev_messages)!==null&&s!==void 0?s:[]).map(function(_){return rs(t,_)}),g.prevHasMore=(u=r.prev_hasmore)!==null&&u!==void 0&&u,g.nextMessages=((d=r.next_messages)!==null&&d!==void 0?d:[]).map(function(_){return rs(t,_)}),g.nextHasmore=(p=r.next_hasmore)!==null&&p!==void 0&&p,g}return G(n,e),n}($e),IL=function(e,n){return e.findIndex(function(t){return t.isIdentical(n)})},gA=function(e,n,t){if(e.length>0){var r=IL(e,n);if(r<0){for(var s=0,u=e.length-1,d=Math.floor((s+u)/2);s<u;){var p=mA(e[d],n,t);if(p>0)u=d,d=Math.floor((s+u)/2);else{if(!(p<0))return{place:d,contains:e[d].isIdentical(n)};s=d+1,d=Math.floor((s+u)/2)}}return{place:mA(e[d],n,t)>0?d:d+1,contains:!1}}return{place:r,contains:!0}}return{place:e.length,contains:!1}},mA=function(e,n,t){switch(t){case Ar.LATEST_LAST_MESSAGE:return e.lastMessage&&n.lastMessage?n.lastMessage.createdAt-e.lastMessage.createdAt:e.lastMessage?-1:n.lastMessage?1:n.createdAt-e.createdAt;case Ar.CHRONOLOGICAL:return n.createdAt-e.createdAt;case Ar.CHANNEL_NAME_ALPHABETICAL:return e.name.localeCompare(n.name)}},Ku=function(e,n){if(n instanceof Tr)return e.findIndex(function(t){return t instanceof Tr&&n.isIdentical(t)});e.findIndex(function(t){return t.isIdentical(n)})},vA=function(e,n){if(e.length>0){for(var t=0,r=e.length-1,s=Math.floor((t+r)/2);t<r;){var u=e[s].createdAt-n.createdAt;if(u>0)r=s,s=Math.floor((t+r)/2);else{if(!(u<0))return s;t=s+1,s=Math.floor((t+r)/2)}}return e[s].createdAt>n.createdAt?s:s+1}return e.length};(function(e){e.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(xw||(xw={}));var yf,Ef,wf,ioe=function(){function e(){}return e.prototype._invokeResponse=function(n,t,r){var s=this;cn(function(){return A(s,void 0,void 0,function(){return R(this,function(u){switch(n){case"local":this._onCacheResult(t,r);break;case"remote":this._onApiResult(t,r)}return[2]})})})},e.prototype.onCacheResult=function(n){return this._onCacheResult=n,this},e.prototype.onApiResult=function(n){return this._onApiResult=n,this},e}(),aoe=function(){function e(n,t){var r=t.channel,s=t.filter,u=t.startingPoint,d=t.limit,p=this;this._channel=null,this._messages=[],this._unsentMessages=[],this._readReceiptMap=new Map,this._deliveryReceiptMap=new Map,this._iid=n,this._key="mc-".concat(Qa()),this.filter=s!=null?s:new Kf,this._channel=r,this._syncRange=new Xf({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=u||Date.now()+6e5,this._limit=d||YU;var g=Ir.of(this._iid);g.subscribeGroupChannelEvent(this._key,{onUpdate:function(k,T){var I,P,N,O,U=IL(k,p._channel);if(U>=0)switch(cn(function(){return A(p,void 0,void 0,function(){var ge;return R(this,function(je){return ge=new Rv(T),this._channel=k[U],this._handler.onChannelUpdated(ge,this.channel),[2]})})}),T){case Nn.EVENT_CHANNEL_UPDATED:var L=!1;for(var ee in p._messages)if((Ue=p._messages[ee]).createdAt>=p._channel.messageOffsetTimestamp){L=!0;var V=parseInt(ee);if(V>0){var J=p._messages.splice(0,V);p._removeMessagesFromView(J.map(function(ge){return ge.messageId}),Cn.EVENT_MESSAGE_OFFSET_UPDATED)}break}!L&&p._messages.length>0&&p._removeMessagesFromView(p._messages.map(function(ge){return ge.messageId}),Cn.EVENT_MESSAGE_OFFSET_UPDATED);break;case Nn.EVENT_CHANNEL_READ:var Y=[];try{for(var ye=tn(p._messages),ve=ye.next();!ve.done;ve=ye.next()){var Ue=ve.value;(Ee=p._readReceiptMap.get(Ue.messageId))>0&&Ee!==p._channel.getUnreadMemberCount(Ue)&&Y.push(Ue)}}catch(ge){I={error:ge}}finally{try{ve&&!ve.done&&(P=ye.return)&&P.call(ye)}finally{if(I)throw I.error}}Y.length>0&&p._updateMessagesToView(Y,Cn.EVENT_MESSAGE_READ);break;case Nn.EVENT_CHANNEL_DELIVERED:Y=[];try{for(var Ne=tn(p._messages),ce=Ne.next();!ce.done;ce=Ne.next()){var Ee;Ue=ce.value,(Ee=p._deliveryReceiptMap.get(Ue.messageId))>0&&Ee!==p._channel.getUndeliveredMemberCount(Ue)&&Y.push(Ue)}}catch(ge){N={error:ge}}finally{try{ce&&!ce.done&&(O=Ne.return)&&O.call(Ne)}finally{if(N)throw N.error}}Y.length>0&&p._updateMessagesToView(Y,Cn.EVENT_MESSAGE_READ)}},onRemove:function(k,T){k.indexOf(p.channel.url)>=0&&cn(function(){return A(p,void 0,void 0,function(){var I;return R(this,function(P){return I=new Rv(T),this._handler.onChannelDeleted(I,this.channel.url),[2]})})})}}),g.subscribeMessageEvent(this._key,{onUpdate:function(k,T){var I,P,N=[],O=[];try{for(var U=tn(k),L=U.next();!L.done;L=U.next()){var ee=L.value;ee.channelUrl===p._channel.url&&(p.filter.match(ee)?N.push(ee):O.push(ee.messageId))}}catch(V){I={error:V}}finally{try{L&&!L.done&&(P=U.return)&&P.call(U)}finally{if(I)throw I.error}}if(ym(T)){if(N.length>0)switch(T){case Cn.EVENT_MESSAGE_SENT_FAILED:case Cn.EVENT_MESSAGE_SENT_SUCCESS:case Cn.EVENT_MESSAGE_UPDATED:case Cn.EVENT_MESSAGE_THREADINFO_UPDATED:case Cn.EVENT_MESSAGE_REACTION_UPDATED:case Cn.SYNC_MESSAGE_CHANGELOGS:p._updateMessagesToView(N,T);break;case Cn.EVENT_MESSAGE_SENT_PENDING:case Cn.EVENT_MESSAGE_RECEIVED:case Cn.SYNC_MESSAGE_FILL:p._addMessagesToView(N,T)}O.length>0&&p._removeMessagesFromView(O,T)}},onRemove:function(k,T){p._removeMessagesFromView(k,T)},onRemoveUnsent:function(k,T){p._removeUnsentMessageFromView(k,T)}});var _=ue.of(this._iid).cacheContext;!this._channel.isSuper&&_.localCacheEnabled&&QE.of(this._iid,this._channel).resume(),noe.of(this._iid,this._channel).resume(),this._prevFill=new kc(this._key,function(k){return A(p,void 0,void 0,function(){var T,I;return R(this,function(P){switch(P.label){case 0:return[4,this._getRemoteMessages(k,{prevLimit:this._limit,source:Cn.SYNC_MESSAGE_FILL})];case 1:return(T=P.sent()).length>0?(I=Math.min.apply(Math,En([],wn(T.map(function(N){return N.createdAt})),!1)),this._syncRange.extends(I),[2,{hasNext:T.length>=this._limit&&this.viewTop<I,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._nextFill=new kc(this._key,function(k){return A(p,void 0,void 0,function(){var T,I;return R(this,function(P){switch(P.label){case 0:return[4,this._getRemoteMessages(k,{nextLimit:this._limit,source:Cn.SYNC_MESSAGE_FILL})];case 1:return(T=P.sent()).length>0?(I=Math.max.apply(Math,En([],wn(T.map(function(N){return N.createdAt})),!1)),this._syncRange.extends(I),[2,{hasNext:!(T.length>=this._limit&&this._hasNext)||this.viewBottom>I,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}})})});var y=ue.of(this._iid),E=y.dispatcher,x=y.logger;E.on(function(k){k instanceof Cs&&(k.stateType===_t.CONNECTED?(x.debug("check huge gap"),p._checkHugeGap()):(p._prevFill.stop(),p._nextFill.stop()))})}return Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"succeededMessages",{get:function(){return En([],wn(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter(function(n){return n.sendingStatus===Nt.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter(function(n){return n.sendingStatus===Nt.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewTop",{get:function(){return Math.min.apply(Math,En(En([],wn(this._messages.map(function(n){return n.createdAt})),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,En(En([],wn(this._messages.map(function(n){return n.createdAt})),!1),[0],!1))},enumerable:!1,configurable:!0}),e.prototype.setMessageCollectionHandler=function(n){this._handler=n},e.prototype._filterUnderOffsetMessage=function(n){var t=this;return n.filter(function(r){return r.createdAt>=t._channel.messageOffsetTimestamp})},e.prototype._addMessagesToView=function(n,t){var r,s,u=this,d=this._filterUnderOffsetMessage(n),p=[],g=[];try{for(var _=tn(d),y=_.next();!y.done;y=_.next()){var E=y.value;if(E.messageId>0){if((I=Ku(this._messages,E))<0){var x=Ku(this._unsentMessages,E);x<0?p.push(E):(this._unsentMessages.splice(x,1),g.push(E));var k=vA(this._messages,E);this._messages.splice(k,0,E)}else g.push(E),this._messages[I]=E;if(this._readReceiptMap.set(E.messageId,this._channel.getUnreadMemberCount(E)),this._deliveryReceiptMap.set(E.messageId,this._channel.getUndeliveredMemberCount(E)),E.updatedAt>0){var T=this._updateChildMessagesInView(E);g.push.apply(g,En([],wn(T),!1))}}else{var I;E instanceof Tr&&((I=Ku(this._unsentMessages,E))<0?Ku(this._messages,E)<0&&(this._unsentMessages.push(E),p.push(E)):(g.push(E),this._unsentMessages[I]=E))}}}catch(P){r={error:P}}finally{try{y&&!y.done&&(s=_.return)&&s.call(_)}finally{if(r)throw r.error}}ym(t)&&cn(function(){return A(u,void 0,void 0,function(){var P;return R(this,function(N){return P=new KE(t),p.length>0&&this._handler.onMessagesAdded(P,this.channel,p),g.length>0&&this._handler.onMessagesUpdated(P,this.channel,g),[2]})})})},e.prototype._updateChildMessagesInView=function(n){var t=[];return this._messages.forEach(function(r){r.applyParentMessage(n)&&t.push(r)}),t},e.prototype._updateMessagesToView=function(n,t){var r,s,u=this,d=[];try{for(var p=tn(n),g=p.next();!g.done;g=p.next()){var _,y=g.value;if(y.messageId>0)if((_=Ku(this._messages,y))>=0)d.push(y),this._messages[_]=y;else{var E=Ku(this._unsentMessages,y);if(E>=0){d.push(y),this._unsentMessages.splice(E,1);var x=vA(this._messages,y);this._messages.splice(x,0,y)}}else y instanceof Tr&&(_=Ku(this._unsentMessages,y))>=0&&(d.push(y),this._unsentMessages[_]=y)}}catch(k){r={error:k}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(r)throw r.error}}return ym(t)&&cn(function(){return A(u,void 0,void 0,function(){var k;return R(this,function(T){return k=new KE(t),d.length>0&&this._handler.onMessagesUpdated(k,this.channel,d),[2]})})}),d},e.prototype._removeMessagesFromView=function(n,t){var r,s,u=this,d=[],p=function(E){var x=g._messages.findIndex(function(k){return k.messageId===E});x>=0&&(d.push(g._messages[x].messageId),g._messages.splice(x,1))},g=this;try{for(var _=tn(n),y=_.next();!y.done;y=_.next())p(y.value)}catch(E){r={error:E}}finally{try{y&&!y.done&&(s=_.return)&&s.call(_)}finally{if(r)throw r.error}}return ym(t)&&d.length>0&&cn(function(){return A(u,void 0,void 0,function(){var E;return R(this,function(x){return E=new KE(t),d.length>0&&this._handler.onMessagesDeleted(E,this.channel,d),[2]})})}),d},e.prototype._removeUnsentMessageFromView=function(n,t){var r=this._unsentMessages.findIndex(function(s){return s.reqId===n});r>=0&&this._unsentMessages.splice(r,1)},e.prototype._getLocalMessages=function(n,t){var r=t.prevLimit,s=r===void 0?0:r,u=t.nextLimit,d=u===void 0?0:u;return A(this,void 0,void 0,function(){var p,g,_,y,E,x,k;return R(this,function(T){switch(T.label){case 0:return p=Ir.of(this._iid),s>0?[4,p.getMessagesFromCache(this._channel.url,n,"prev",this.filter,this._limit)]:[3,2];case 1:return _=T.sent(),[3,3];case 2:_=[],T.label=3;case 3:return g=_,d>0?[4,p.getMessagesFromCache(this._channel.url,n,"next",this.filter,this._limit)]:[3,5];case 4:return E=T.sent(),[3,6];case 5:E=[],T.label=6;case 6:if(y=E,g.length>0&&y.length){for(k in x=g.map(function(I){return I.messageId}),y)if(x.includes(y[k].messageId)){y.splice(parseInt(k),1);break}}return[2,En(En([],wn(g),!1),wn(y),!1).sort(function(I,P){return P.createdAt-I.createdAt})]}})})},e.prototype._getRemoteMessages=function(n,t){var r=t.prevLimit,s=r===void 0?0:r,u=t.nextLimit,d=u===void 0?0:u,p=t.source,g=p===void 0?Cn.REQUEST_MESSAGE:p;return A(this,void 0,void 0,function(){var _,y;return R(this,function(E){switch(E.label){case 0:return _=Vr.of(this._iid),s>0||d>0?[4,_.getMessagesByTimestamp(this._channel.url,this._channel.channelType,n,ae(ae({},this.filter),{prevResultSize:s,nextResultSize:d,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0}),g)]:[3,2];case 1:return y=E.sent(),[3,3];case 2:y=[],E.label=3;case 3:return[2,y]}})})},e.prototype._checkHugeGap=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u,d,p,g,_,y,E=this;return R(this,function(x){switch(x.label){case 0:return this._messages.length>0?(n=this.viewTop,t=this._syncRange.top,r=this._syncRange.bottom,s=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,(u=Ir.of(this._iid)).getCachedMessageCountBetween(this._channel.url,this.filter,n,t)]):[3,4];case 1:return d=x.sent(),[4,u.getCachedMessageCountBetween(this._channel.url,this.filter,r,s)];case 2:return p=x.sent(),[4,c_(function(){return A(E,void 0,void 0,function(){var k,T,I,P,N,O,U,L,ee,V,J,Y,ye,ve,Ue,Ne,ce,Ee=this;return R(this,function(ge){switch(ge.label){case 0:return k=ue.of(this._iid),T=k.dispatcher,I=k.requestQueue,P=new toe(ae({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:n,prevEnd:t,prevCount:d,nextStart:r,nextEnd:s,nextCount:p},this.filter)),[4,I.send(P)];case 1:return N=ge.sent(),O=N.as(roe),U=O.isHugeGap,L=O.prevMessages,ee=L===void 0?[]:L,V=O.prevHasMore,J=O.nextMessages,Y=J===void 0?[]:J,ye=O.nextHasmore,U?cn(function(){return A(Ee,void 0,void 0,function(){return R(this,function(je){return this._handler.onHugeGapDetected(),[2]})})}):(this._hasPrevious=V,this._hasNext=ye,ve=this.viewTop,Ue=this.viewBottom,Ne=Math.min.apply(Math,En([Number.MAX_SAFE_INTEGER],wn(ee.map(function(je){return je.createdAt})),!1)),ce=Math.max.apply(Math,En([0],wn(Y.map(function(je){return je.createdAt})),!1)),T.dispatch(new Yt({messages:ee,source:Cn.SYNC_MESSAGE_FILL})),T.dispatch(new Yt({messages:Y,source:Cn.SYNC_MESSAGE_FILL})),this._syncRange.extends(Ne,ce),ve<Ne&&this._prevFill.start(Ne),Ue>ce&&this._nextFill.start(ce)),[2]}})})},1)];case 3:return x.sent(),[3,6];case 4:return g=Math.floor(this._limit/2),[4,this._getRemoteMessages(Date.now(),{prevLimit:g,nextLimit:g,source:Cn.SYNC_MESSAGE_FILL})];case 5:(_=x.sent()).length>0&&((y=this._syncRange).extends.apply(y,En([],wn(_.map(function(k){return k.createdAt})),!1)),_.length<g&&(this._hasPrevious=!1,this._hasNext=!1)),x.label=6;case 6:return[2]}})})},e.prototype._loadAllFailedMessages=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return[4,Ir.of(this._iid).getAllFailedMessagesFromCache(this._channel.url,this.filter)];case 1:return n=t.sent(),this._unsentMessages=n,[2,n]}})})},e.prototype.initialize=function(n){var t=this,r=new ioe;this._messages=[],this._unsentMessages=[],this._syncRange=new Xf({}),this._hasNext=!0,this._hasPrevious=!0;var s=Math.floor(this._limit/2);return n===xw.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:s,nextLimit:s}).then(function(u){var d=t._filterUnderOffsetMessage(u);t._addMessagesToView(d,Cn.REQUEST_MESSAGE),r._invokeResponse("local",null,d)}).catch(function(u){if(bs(u))throw u;r._invokeResponse("local",u,null)}).finally(function(){t._loadAllFailedMessages(),t._getRemoteMessages(t._startingPoint,{prevLimit:s,nextLimit:s}).then(function(u){var d;t._messages=[];var p=t._filterUnderOffsetMessage(u);p.length<s&&(t._hasPrevious=!1,t._hasNext=!1),p.length>0&&((d=t._syncRange).extends.apply(d,En([],wn(p.map(function(g){return g.createdAt})),!1)),t._addMessagesToView(p,Cn.REQUEST_MESSAGE)),r._invokeResponse("remote",null,p)}).catch(function(u){if(bs(u))throw u;r._invokeResponse("remote",u,null)})}),r},e.prototype.loadPrevious=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u=this;return R(this,function(d){switch(d.label){case 0:return this._hasPrevious?(n=this.viewTop,t=[],[4,Xa(function(){return A(u,void 0,void 0,function(){var p;return R(this,function(g){switch(g.label){case 0:return p=this._filterUnderOffsetMessage,[4,this._getLocalMessages(n,{prevLimit:this._limit})];case 1:return t=p.apply(this,[g.sent()]),[2]}})})})]):[3,5];case 1:return d.sent(),r=QE.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,Xa(function(){return A(u,void 0,void 0,function(){var p,g;return R(this,function(_){switch(_.label){case 0:return p=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(n,{prevLimit:this._limit})];case 1:return t=p.apply(this,[_.sent()]),this._hasPrevious=t.length>=this._limit,t.length>0&&((g=this._syncRange).extends.apply(g,En([],wn(t.map(function(y){return y.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.top)),[2]}})})})];case 2:return d.sent(),this._addMessagesToView(t,Cn.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=t.length>=this._limit,t.length>0&&((s=this._syncRange).extends.apply(s,En([],wn(t.map(function(p){return p.createdAt})),!1)),this._addMessagesToView(t,Cn.REQUEST_MESSAGE)),d.label=4;case 4:return[2,t];case 5:return[2,[]]}})})},e.prototype.loadNext=function(){return A(this,void 0,void 0,function(){var n,t,r,s,u=this;return R(this,function(d){switch(d.label){case 0:return n=this.viewBottom,t=[],[4,Xa(function(){return A(u,void 0,void 0,function(){var p;return R(this,function(g){switch(g.label){case 0:return p=this._filterUnderOffsetMessage,[4,this._getLocalMessages(n,{nextLimit:this._limit})];case 1:return t=p.apply(this,[g.sent()]),[2]}})})})];case 1:return d.sent(),r=QE.of(this._iid,this._channel),t.length!==0&&r.isWrappingMessages(t)?[3,3]:[4,Xa(function(){return A(u,void 0,void 0,function(){var p,g;return R(this,function(_){switch(_.label){case 0:return p=this._filterUnderOffsetMessage,[4,this._getRemoteMessages(n,{nextLimit:this._limit})];case 1:return t=p.apply(this,[_.sent()]),this._hasNext=t.length>=this._limit,t.length>0&&((g=this._syncRange).extends.apply(g,En([],wn(t.map(function(y){return y.createdAt})),!1)),r.range.overlap(this._syncRange)&&r.range.extends(this._syncRange.bottom)),[2]}})})})];case 2:return d.sent(),this._addMessagesToView(t,Cn.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=t.length>=this._limit,t.length>0&&((s=this._syncRange).extends.apply(s,En([],wn(t.map(function(p){return p.createdAt})),!1)),this._addMessagesToView(t,Cn.REQUEST_MESSAGE)),d.label=4;case 4:return[2,t]}})})},e.prototype.removeFailedMessage=function(n){return A(this,void 0,void 0,function(){var t;return R(this,function(r){switch(r.label){case 0:return[4,Ir.of(this._iid).removeFailedMessageFromCache(n)];case 1:return r.sent(),(t=this._unsentMessages.findIndex(function(s){return s.reqId===n}))>-1&&this._unsentMessages.splice(t,1),[2]}})})},e.prototype.dispose=function(){var n=Ir.of(this._iid);n.unsubscribeGroupChannelEvent(this._key),n.unsubscribeMessageEvent(this._key)},e}(),soe={coverUrl:null,coverImage:null,isDistinct:null,isPublic:null,isDiscoverable:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},ooe={hidePreviousMessages:!1,allowAutoUnhide:!0},loe=function(e){function n(t){var r=this,s=t.channelUrl,u=t.token,d=t.limit,p=t.order,g=t.mutedMemberFilter,_=t.memberStateFilter,y=t.nicknameStartsWithFilter,E=t.operatorFilter;return(r=e.call(this)||this).method=Pe.GET,r.path="".concat(mi,"/").concat(encodeURIComponent(s),"/members"),r.params={token:u,limit:d,order:p,muted_member_filter:g,member_state_filter:_,nickname_startswith:y,operator_filter:E,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return G(n,e),n}(He),uoe=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.token=null,s.members=[];var u=r.next,d=r.members;return s.token=u,d&&d.length>0&&(s.members=d.map(function(p){return new ws(t,p)})),s}return G(n,e),n}($e);(function(e){e.ALL="all",e.MUTED="muted",e.UNMUTED="unmuted"})(yf||(yf={})),function(e){e.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",e.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(Ef||(Ef={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(wf||(wf={}));var coe=function(e){function n(t,r,s){var u,d,p,g,_=this;return(_=e.call(this,t,r,ft.GROUP,s)||this).mutedMemberFilter=yf.ALL,_.memberStateFilter=wf.ALL,_.nicknameStartsWithFilter=null,_.operatorFilter=Ov.ALL,_.order=Ef.MEMBER_NICKNAME_ALPHABETICAL,_.mutedMemberFilter=(u=s.mutedMemberFilter)!==null&&u!==void 0?u:yf.ALL,_.memberStateFilter=(d=s.memberStateFilter)!==null&&d!==void 0?d:wf.ALL,_.nicknameStartsWithFilter=(p=s.nicknameStartsWithFilter)!==null&&p!==void 0?p:null,_.order=(g=s.order)!==null&&g!==void 0?g:Ef.MEMBER_NICKNAME_ALPHABETICAL,_}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&On(yf,this.mutedMemberFilter)&&On(wf,this.memberStateFilter)&&(re("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&On(Ov,this.operatorFilter)&&On(Ef,this.order)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid).requestQueue,r=new loe(ae(ae({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return s=g.sent(),u=s.as(uoe),d=u.members,p=u.token,this._token=p,this._hasNext=!!p,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(yh),doe=function(e){function n(t){var r=this,s=t.channelUrl,u=t.userId,d=t.accessCode;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(mi,"/").concat(encodeURIComponent(s),"/accept"),r.params={user_id:u,access_code:d},r}return G(n,e),n}(He),hoe=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=new Ia(t,r),s.channel.myMemberState=_r.JOINED,s}return G(n,e),n}($e),poe=function(e){function n(t){var r=this,s=t.channelUrl,u=t.isDistinct,d=t.isPublic,p=t.isDiscoverable,g=t.coverUrl,_=t.coverImage,y=t.accessCode,E=t.name,x=t.data,k=t.customType,T=t.operatorUserIds,I=t.messageSurvivalSeconds;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(mi,"/").concat(encodeURIComponent(s)),r.params=In({is_distinct:u,is_public:d,is_discoverable:p,name:E,data:x,custom_type:k,cover_url:g,cover_file:_,access_code:y,operator_ids:T,message_survival_seconds:I}),r}return G(n,e),n}(He),foe=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.channel=new Ia(t,r),s}return G(n,e),n}($e),goe=function(e){function n(t){var r=this,s=t.channelUrl;return(r=e.call(this)||this).method=Pe.DELETE,r.path="".concat(mi,"/").concat(encodeURIComponent(s)),r}return G(n,e),n}(He);(function(e){function n(t,r){return e.call(this,t,r)||this}G(n,e)})($e);var moe=function(e){function n(t){var r=this,s=t.channelUrl;return(r=e.call(this)||this).method=Pe.DELETE,r.path="".concat(mi,"/").concat(encodeURIComponent(s),"/hide"),r}return G(n,e),n}(He);(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}G(n,e)})($e);var voe=function(e){function n(t){var r=t.userId,s=t.channelUrl,u=t.countPreference,d=e.call(this)||this;return d.method=Pe.PUT,d.path="".concat(Xn,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(s)),d.params={count_preference:u},d}return G(n,e),n}(He),_oe=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.countPreference=ta[r.count_preference],s}return G(n,e),n}($e),boe=function(e){function n(t){var r=this,s=t.channelUrl;return(r=e.call(this)||this).method=Pe.PUT,r.path="".concat(mi,"/").concat(encodeURIComponent(s),"/reset_user_history"),r}return G(n,e),n}(He),yoe=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.messageOffsetTimestamp=null;var u=r.ts_message_offset;return s.messageOffsetTimestamp=u!=null?u:null,s}return G(n,e),n}($e),Eoe=ae(ae({},_k),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),woe=ae(ae({},PU),{scheduledAt:null}),xoe=function(e){function n(t){var r,s=this;s=e.call(this)||this;var u=[];t.mentionType===Qr.USERS&&(t.mentionedUserIds?u=t.mentionedUserIds:t.mentionedUsers&&(u=t.mentionedUsers.map(function(_){return _.userId})));var d=t.channelType,p=t.channelUrl,g=t.scheduledMessageId;return s.method=Pe.PUT,s.path="".concat(ut(d),"/").concat(encodeURIComponent(p),"/scheduled_messages/").concat(encodeURIComponent(g)),s.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:ih.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map(function(_){return d_.payloadify(_)}):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:u,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(_){return Bi.payloadify(_)}),apple_critical_alert_options:eo.payloadify(t.appleCriticalAlertOptions),push_option:t.pushNotificationDeliveryOption},s}return G(n,e),n}(He),koe=function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.message=new Or(t,r),s}return G(n,e),n}($e),Soe=function(e){function n(t){var r,s=this;s=e.call(this)||this;var u=[];t.mentionType===Qr.USERS&&(t.mentionedUserIds?u=t.mentionedUserIds:t.mentionedUsers&&(u=t.mentionedUsers.map(function(_){return _.userId})));var d=t.channelType,p=t.channelUrl,g=t.scheduledMessageId;return s.method=Pe.PUT,s.path="".concat(ut(d),"/").concat(encodeURIComponent(p),"/scheduled_messages/").concat(encodeURIComponent(g)),s.params={req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:ih.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:u,sorted_metaarray:(r=t.metaArrays)===null||r===void 0?void 0:r.map(function(_){return Bi.payloadify(_)}),apple_critical_alert_options:eo.payloadify(t.appleCriticalAlertOptions),target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption},s}return G(n,e),n}(He);(function(e){function n(t,r){var s=e.call(this,t,r)||this;return s.message=new Lr(t,r),s}G(n,e)})($e);var ta,Uo,ra,Coe=function(e){function n(t){var r=e.call(this)||this,s=t.channelType,u=t.channelUrl,d=t.scheduledMessageId;return r.method=Pe.DELETE,r.path="".concat(ut(s),"/").concat(encodeURIComponent(u),"/scheduled_messages/").concat(encodeURIComponent(d)),r}return G(n,e),n}(He),Toe=function(e){function n(t){var r=e.call(this)||this,s=t.channelType,u=t.channelUrl,d=t.scheduledMessageId;return r.method=Pe.POST,r.path="".concat(ut(s),"/").concat(encodeURIComponent(u),"/scheduled_messages/").concat(encodeURIComponent(d),"/send_now"),r}return G(n,e),n}(He);(function(e){e.ALL="all",e.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",e.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",e.OFF="off"})(ta||(ta={})),function(e){e.MUTED="muted",e.UNMUTED="unmuted"}(Uo||(Uo={})),function(e){e.UNHIDDEN="unhidden",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(ra||(ra={}));var xf,Ia=function(e){function n(t,r){var s,u,d,p,g,_,y,E,x,k,T,I,P,N,O,U,L,ee,V=this;return(V=e.call(this,t,r)||this)._unreadMemberStateMap=new Map,V._undeliveredMemberStateMap=new Map,V._typingStatus=new Map,V._lastMemberCountUpdated=0,V._typingStarted=0,V._typingEnded=0,V.isDistinct=!1,V.isSuper=!1,V.isBroadcast=!1,V.isExclusive=!1,V.isPublic=!1,V.isDiscoverable=!0,V.isAccessCodeRequired=!1,V.isPushEnabled=!1,V.unreadMessageCount=0,V.unreadMentionCount=0,V.members=[],V.memberCount=0,V.joinedMemberCount=0,V.hiddenState=ra.UNHIDDEN,V.lastMessage=null,V.messageOffsetTimestamp=0,V.messageSurvivalSeconds=-1,V.myMemberState=_r.NONE,V.myRole=Ya.NONE,V.myMutedState=Uo.UNMUTED,V.myLastRead=0,V.myCountPreference=ta.ALL,V.myPushTriggerOption=lc.DEFAULT,V.inviter=null,V.invitedAt=0,V.joinedAt=0,V.channelType=ft.GROUP,V.isDistinct=(u=r.is_distinct)!==null&&u!==void 0&&u,V.isSuper=(d=r.is_super)!==null&&d!==void 0&&d,V.isBroadcast=(p=r.is_broadcast)!==null&&p!==void 0&&p,V.isExclusive=(g=r.is_exclusive)!==null&&g!==void 0&&g,V.isPublic=(_=r.is_public)!==null&&_!==void 0&&_,V.isDiscoverable=(y=r.is_discoverable)!==null&&y!==void 0?y:V.isPublic,V.isAccessCodeRequired=(E=r.is_access_code_required)!==null&&E!==void 0&&E,V.isPushEnabled=(x=r.is_push_enabled)!==null&&x!==void 0&&x,Array.isArray(r.members)&&(s=V.members).push.apply(s,En([],wn(r.members.map(function(J){return new ws(V._iid,J)})),!1)),V.memberCount=(k=r.member_count)!==null&&k!==void 0?k:0,V.joinedMemberCount=(T=r.joined_member_count)!==null&&T!==void 0?T:0,V.hiddenState=On(ra,r.hidden_state)?r.hidden_state:ra.UNHIDDEN,V.messageOffsetTimestamp=(I=r.ts_message_offset)!==null&&I!==void 0?I:0,V.messageSurvivalSeconds=(P=r.message_survival_seconds)!==null&&P!==void 0?P:-1,V.lastMessage=r.last_message?rs(V._iid,ae({channel_type:V.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach(function(J){re("number",r.read_receipt[J])&&V._updateUnreadMemberState(J,r.read_receipt[J])}),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach(function(J){re("number",r.delivery_receipt[J])&&V._updateUndeliveredMemberState(J,r.delivery_receipt[J])}),V.myMemberState=On(_r,r.member_state)?r.member_state:_r.NONE,V.myRole=On(Ya,r.my_role)?r.my_role:Ya.NONE,On(Uo,r.is_muted)?V.myMutedState=r.is_muted:re("boolean",r.is_muted)?V.myMutedState=r.is_muted?Uo.MUTED:Uo.UNMUTED:V.myMutedState=Uo.UNMUTED,V.myCountPreference=On(ta,r.count_preference)?r.count_preference:ta.ALL,V.myPushTriggerOption=On(lc,r.push_trigger_option)?r.push_trigger_option:lc.ALL,V.myLastRead=(N=r.user_last_read)!==null&&N!==void 0?N:0,V.inviter=r.inviter?new Pn(V._iid,r.inviter):null,V.invitedAt=(O=r.invited_at)!==null&&O!==void 0?O:0,V.joinedAt=(U=r.joined_ts)!==null&&U!==void 0?U:0,V._updateUnreadCount((L=r.unread_message_count)!==null&&L!==void 0?L:0,(ee=r.unread_mention_count)!==null&&ee!==void 0?ee:0),V}return G(n,e),Object.defineProperty(n.prototype,"isHidden",{get:function(){return this.hiddenState!==ra.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isTyping",{get:function(){return Object.keys(this._typingStatus).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUnreadMemberState",{get:function(){var t,r,s={};try{for(var u=tn(this._unreadMemberStateMap),d=u.next();!d.done;d=u.next()){var p=wn(d.value,2),g=p[0],_=p[1];s[g]=_}}catch(y){t={error:y}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedUndeliveredMemberState",{get:function(){var t,r,s={};try{for(var u=tn(this._undeliveredMemberStateMap),d=u.next();!d.done;d=u.next()){var p=wn(d.value,2),g=p[0],_=p[1];s[g]=_}}catch(y){t={error:y}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},enumerable:!1,configurable:!0}),n.payloadify=function(t){return t?In(ae(ae({},e.payloadify.call(this,t)),{is_access_code_required:t.isAccessCodeRequired,is_distinct:t.isDistinct,is_super:t.isSuper,is_broadcast:t.isBroadcast,is_exclusive:t.isExclusive,is_public:t.isPublic,is_discoverable:t.isDiscoverable,is_muted:t.myMutedState,is_push_enabled:t.isPushEnabled,unread_message_count:t.unreadMessageCount,unread_mention_count:t.unreadMentionCount,push_trigger_option:t.myPushTriggerOption,count_preference:t.myCountPreference,hidden_state:t.hiddenState,member_count:t.memberCount,joined_member_count:t.joinedMemberCount,member_state:t.myMemberState,my_role:t.myRole,user_last_read:t.myLastRead,ts_message_offset:t.messageOffsetTimestamp,message_survival_seconds:t.messageSurvivalSeconds,read_receipt:t.cachedUnreadMemberState,delivery_receipt:t.cachedUndeliveredMemberState,members:t.members.map(function(r){return ws.payloadify(r)}),last_message:p_(t.lastMessage),inviter:t.inviter?Pn.payloadify(t.inviter):null,invited_at:t.invitedAt,joined_ts:t.joinedAt})):null},n.prototype._updateUnreadCount=function(t,r){if(typeof t=="number"&&t>=0)if(this.myCountPreference===ta.ALL||this.myCountPreference===ta.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var s=ue.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=s&&t>=s?s:t}else this.unreadMessageCount=t;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===ta.ALL||this.myCountPreference===ta.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},n.prototype._updateUnreadMemberState=function(t,r){var s=this._unreadMemberStateMap.get(t);return(!s||s<r)&&(this._unreadMemberStateMap.set(t,r),ue.of(this._iid).sdkState.userId===t&&(this.myLastRead=r),!0)},n.prototype._updateUndeliveredMemberState=function(t,r){var s=this._undeliveredMemberStateMap.get(t);(!s||s<r)&&this._undeliveredMemberStateMap.set(t,r)},n.prototype._updateTypingStatus=function(t,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus[t.userId]={user:t,ts:r}:delete this._typingStatus[t.userId]},n.prototype._invalidateTypingStatus=function(){var t=new Date().getTime(),r=!1;for(var s in this._typingStatus)t-this._typingStatus[s].ts>=1e4&&(delete this._typingStatus[s],r=!0);return r},n.prototype._setLatestMemberCount=function(t,r,s){var u=!1;return s>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=s,u=t!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=t,this.joinedMemberCount=r),u},n.prototype.isReadMessage=function(t){var r=ue.of(this._iid).sdkState,s=this._unreadMemberStateMap.get(r.userId);return s&&s>=t.createdAt},n.prototype.serialize=function(){var t=this;return o0(this,function(r){r.cachedUnreadMemberState=t.cachedUnreadMemberState,r.cachedUndeliveredMemberState=t.cachedUndeliveredMemberState})},n.prototype.createMessageCollection=function(t){return t===void 0&&(t={}),new aoe(this._iid,ae({channel:this},t))},n.prototype.createMemberListQuery=function(t){return t===void 0&&(t={}),new coe(this._iid,this.url,t)},n.prototype.addMember=function(t,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var s=this.members.findIndex(function(d){return d.userId===t.userId});if(s>-1){var u=this.members[s];u.state===_r.JOINED&&(t.state=u.state),this.members.splice(s,1),this.memberCount--}this.members.push(t),this.memberCount++,this._updateUnreadMemberState(t.userId,r),this._updateUndeliveredMemberState(t.userId,r)}},n.prototype.removeMember=function(t){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=this.members.findIndex(function(s){return s.userId===t.userId});if(r>-1)return this.members.splice(r,1),this.memberCount--,!0}return!1},n.prototype.getUnreadMemberCount=function(t){var r,s;if(t instanceof Tr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var u=ue.of(this._iid).sdkState,d=t.createdAt,p=0;try{for(var g=tn(this.members),_=g.next();!_.done;_=g.next()){var y=_.value;u.userId!==y.userId&&y.state===_r.JOINED&&t.sender.userId!==y.userId&&(this.cachedUnreadMemberState[y.userId]||0)<d&&p++}}catch(E){r={error:E}}finally{try{_&&!_.done&&(s=g.return)&&s.call(g)}finally{if(r)throw r.error}}return p}return 0},n.prototype.getUndeliveredMemberCount=function(t){var r,s;if(t instanceof Tr&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var u=ue.of(this._iid).sdkState,d=t.createdAt,p=0;try{for(var g=tn(this.members),_=g.next();!_.done;_=g.next()){var y=_.value;u.userId!==y.userId&&y.state===_r.JOINED&&t.sender.userId!==y.userId&&(this.cachedUndeliveredMemberState[y.userId]||0)<d&&p++}}catch(E){r={error:E}}finally{try{_&&!_.done&&(s=g.return)&&s.call(g)}finally{if(r)throw r.error}}return p}return 0},n.prototype.getReadMembers=function(t,r){var s=this;r===void 0&&(r=!1);var u=ue.of(this._iid).sdkState;if(!u.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var d=[];return this.members.forEach(function(p){(r||p.userId!==u.userId&&p.userId!==t.sender.userId)&&s._unreadMemberStateMap.get(p.userId)>=t.createdAt&&d.push(p)}),d},n.prototype.getUnreadMembers=function(t,r){var s=this;r===void 0&&(r=!1);var u=ue.of(this._iid).sdkState;if(!u.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var d=[];return this.members.forEach(function(p){(r||p.userId!==u.userId&&p.userId!==t.sender.userId)&&s._unreadMemberStateMap.get(p.userId)<t.createdAt&&d.push(p)}),d},n.prototype.getReadStatus=function(t){var r=this;t===void 0&&(t=!1);var s=ue.of(this._iid).sdkState;if(!s.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var u={};return this.members.forEach(function(d){if(t||d.userId!==s.userId){var p=r._unreadMemberStateMap.get(d.userId);u[d.userId]=new yL(r._iid,{channel_url:r.url,channel_type:r.channelType,user:ws.payloadify(d),ts:p})}}),u},n.prototype.getTypingUsers=function(){var t=[];for(var r in this._typingStatus){var s=this._typingStatus[r].user;t.push(s)}return t},n.prototype.invalidateTypingStatus=function(){var t=ue.of(this._iid).typingIndicatorInvalidateTime,r=new Date().getTime(),s=!1;for(var u in this._typingStatus)r-this._typingStatus[u].ts>=t&&(delete this._typingStatus[u],s=!0);return s},n.prototype.refresh=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return t=ue.of(this._iid),r=t.requestQueue,s=t.dispatcher,u=new kL({channelUrl:this.url}),[4,r.send(u)];case 1:return d=g.sent(),p=d.as(SL).channel,s.dispatch(new Jn({channels:[p],source:Nn.REQUEST_CHANNEL})),[2,p]}})})},n.prototype.freeze=function(){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,e.prototype.freeze.call(this)];case 1:return t.sent(),ue.of(this._iid).dispatcher.dispatch(new Jn({channels:[this],source:Nn.EVENT_CHANNEL_HIDDEN})),[2]}})})},n.prototype.unfreeze=function(){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,e.prototype.unfreeze.call(this)];case 1:return t.sent(),ue.of(this._iid).dispatcher.dispatch(new Jn({channels:[this],source:Nn.EVENT_CHANNEL_UNHIDDEN})),[2]}})})},n.prototype.updateChannel=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return t=ae(ae({},soe),t),We(function(y){return re("string",y.coverUrl,!0)&&(li(y.coverImage)||re("string",y.coverImage)||y.coverImage===null)&&re("boolean",y.isDistinct,!0)&&re("boolean",y.isPublic,!0)&&re("boolean",y.isDiscoverable,!0)&&re("string",y.accessCode,!0)&&re("string",y.name,!0)&&re("string",y.data,!0)&&re("string",y.customType,!0)&&An("string",y.operatorUserIds,!0)&&re("number",y.messageSurvivalSeconds,!0)}(t)).throw(me.invalidParameters),r=ue.of(this._iid),s=r.dispatcher,u=r.requestQueue,d=new poe(ae({channelUrl:this.url},t)),[4,u.send(d)];case 1:return p=_.sent(),g=p.as(foe).channel,s.dispatch(new Jn({channels:[g],source:Nn.EVENT_CHANNEL_UPDATED})),[2,g]}})})},n.prototype.invite=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return We(t.every(function(s){return s instanceof Pn})).throw(me.invalidParameters),[2,this.inviteWithUserIds(t.map(function(s){return s.userId}))]})})},n.prototype.inviteWithUserIds=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g;return R(this,function(_){switch(_.label){case 0:return We(An("string",t)).throw(me.invalidParameters),r=ue.of(this._iid),s=r.dispatcher,u=r.requestQueue,d=new Pse({channelUrl:this.url,userIds:t}),[4,u.send(d)];case 1:return p=_.sent(),g=p.as(Fse).channel,s.dispatch(new Jn({channels:[g],source:Nn.EVENT_CHANNEL_INVITED})),[2,g]}})})},n.prototype.join=function(t){return t===void 0&&(t=null),A(this,void 0,void 0,function(){var r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return We(re("string",t)||t===null).throw(me.invalidParameters),r=ue.of(this._iid),s=r.dispatcher,u=r.sdkState,d=r.requestQueue,p=new Rse({channelUrl:this.url,userId:u.userId,accessCode:t}),[4,d.send(p)];case 1:return g=y.sent(),(_=g.as(Mse).channel).myMemberState=_r.JOINED,s.dispatch(new Jn({channels:[_],source:Nn.EVENT_CHANNEL_JOINED})),[2,this]}})})},n.prototype.leave=function(t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var r,s,u,d;return R(this,function(p){switch(p.label){case 0:return r=ue.of(this._iid),s=r.sdkState,u=r.requestQueue,d=new Use({channelUrl:this.url,userId:s.userId,shouldRemoveOperatorStatus:t}),[4,u.send(d)];case 1:return p.sent(),[2]}})})},n.prototype.acceptInvitation=function(t){return t===void 0&&(t=null),A(this,void 0,void 0,function(){var r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return We(re("string",t)||t===null).throw(me.invalidParameters),r=ue.of(this._iid),s=r.dispatcher,u=r.sdkState,d=r.requestQueue,p=new doe({channelUrl:this.url,userId:u.userId,accessCode:t}),[4,d.send(p)];case 1:return g=y.sent(),(_=g.as(hoe).channel).myMemberState=_r.JOINED,s.dispatch(new Jn({channels:[_],source:Nn.EVENT_CHANNEL_ACCEPTED_INVITE})),[2,_]}})})},n.prototype.declineInvitation=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new zse({channelUrl:this.url,userId:r.userId}),[4,s.send(u)];case 1:return d=g.sent(),(p=d.as(qse).channel).myMemberState=_r.NONE,[2,p]}})})},n.prototype.sendUserMessage=function(t){var r=this,s=new Ao,u=ue.of(this._iid).dispatcher,d=qd.of(this._iid);return e.prototype.sendUserMessage.call(this,t).onPending(function(p){d.completeCurrentAndProcessNextAutoResend(p),s._trigger(null,p)}).onFailed(function(p,g){g&&d.completeCurrentAndProcessNextAutoResend(g),s._trigger(p,g)}).onSucceeded(function(p){var g=Ir.of(r._iid);d.completeCurrentAndProcessNextAutoResend(p),r.lastMessage=p,g.handlers.map(function(_){return _.onChannelChanged(r)}),u.dispatch(new Jn({channels:[r],source:Nn.EVENT_MESSAGE_SENT})),s._trigger(null,p)}),s},n.prototype._autoResendUserMessage=function(t){var r=this,s=new Ao,u=ue.of(this._iid).dispatcher,d=qd.of(this._iid);return e.prototype._autoResendUserMessage.call(this,t).onPending(function(p){d.completeCurrentAndProcessNextAutoResend(p),s._trigger(null,p)}).onFailed(function(p,g){d.completeCurrentAndProcessNextAutoResend(g),s._trigger(p,g)}).onSucceeded(function(p){var g=Ir.of(r._iid);d.completeCurrentAndProcessNextAutoResend(p),r.lastMessage=p,g.handlers.map(function(_){return _.onChannelChanged(r)}),u.dispatch(new Jn({channels:[r],source:Nn.EVENT_MESSAGE_SENT})),s._trigger(null,p)}),s},n.prototype.sendFileMessage=function(t){var r=this,s=new Ao,u=ue.of(this._iid).dispatcher,d=qd.of(this._iid);return e.prototype.sendFileMessage.call(this,t).onPending(function(p){d.completeCurrentAndProcessNextAutoResend(p),s._trigger(null,p)}).onFailed(function(p,g){g&&d.completeCurrentAndProcessNextAutoResend(g),s._trigger(p,g)}).onSucceeded(function(p){var g=Ir.of(r._iid);d.completeCurrentAndProcessNextAutoResend(p),r.lastMessage=p,g.handlers.map(function(_){return _.onChannelChanged(r)}),u.dispatch(new Jn({channels:[r],source:Nn.EVENT_MESSAGE_SENT})),s._trigger(null,p)}),s},n.prototype._autoResendFileMessage=function(t){var r=this,s=new Ao,u=ue.of(this._iid).dispatcher,d=qd.of(this._iid);return e.prototype._autoResendFileMessage.call(this,t).onPending(function(p){d.completeCurrentAndProcessNextAutoResend(p),s._trigger(null,p)}).onFailed(function(p,g){d.completeCurrentAndProcessNextAutoResend(g),s._trigger(p,g)}).onSucceeded(function(p){var g=Ir.of(r._iid);d.completeCurrentAndProcessNextAutoResend(p),r.lastMessage=p,g.handlers.map(function(_){return _.onChannelChanged(r)}),u.dispatch(new Jn({channels:[r],source:Nn.EVENT_MESSAGE_SENT})),s._trigger(null,p)}),s},n.prototype.deleteMessage=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,e.prototype.deleteMessage.call(this,t)];case 1:return r.sent(),t.messageId===0&&ue.of(this._iid).dispatcher.dispatch(new DU({reqId:t.reqId,source:Cn.EVENT_MESSAGE_DELETED})),[2]}})})},n.prototype.hide=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return t=ae(ae({},ooe),t),We(function(E){return re("boolean",E.hidePreviousMessages)&&re("boolean",E.allowAutoUnhide)}(t)).throw(me.invalidParameters),r=ue.of(this._iid),s=r.dispatcher,u=r.sdkState,d=r.requestQueue,p=new Vse(ae({channelUrl:this.url,userId:u.userId},t)),[4,d.send(p)];case 1:return g=y.sent(),_=g.as(Wse).messageOffsetTimestamp,this.hiddenState=t.allowAutoUnhide?ra.HIDDEN_ALLOW_AUTO_UNHIDE:ra.HIDDEN_PREVENT_AUTO_UNHIDE,t.hidePreviousMessages&&this._updateUnreadCount(0,0),_&&(this.messageOffsetTimestamp=_),s.dispatch(new Jn({channels:[this],source:Nn.EVENT_CHANNEL_HIDDEN})),[2,this]}})})},n.prototype.unhide=function(){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return t=ue.of(this._iid),r=t.dispatcher,s=t.requestQueue,u=new moe({channelUrl:this.url}),[4,s.send(u)];case 1:return d.sent(),this.hiddenState=ra.UNHIDDEN,r.dispatch(new Jn({channels:[this],source:Nn.EVENT_CHANNEL_UNHIDDEN})),[2,this]}})})},n.prototype.delete=function(){return A(this,void 0,void 0,function(){var t,r;return R(this,function(s){switch(s.label){case 0:return t=ue.of(this._iid).requestQueue,r=new goe({channelUrl:this.url}),[4,t.send(r)];case 1:return s.sent(),[2]}})})},n.prototype.markAsRead=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_=this;return R(this,function(y){switch(y.label){case 0:return t=ue.of(this._iid),r=t.sdkState,s=t.dispatcher,u=t.requestQueue,d=new jse({channelUrl:this.url}),[4,u.send(d)];case 1:return p=y.sent(),g=p.as(CL).readStatus,this._updateUnreadMemberState(r.userId,g.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),Ir.of(this._iid).handlers.map(function(E){return E.onChannelChanged(_)})),s.dispatch(new Jn({channels:[this],source:Nn.EVENT_CHANNEL_READ})),[2]}})})},n.prototype.markAsDelivered=function(){return A(this,void 0,void 0,function(){var t,r,s,u;return R(this,function(d){switch(d.label){case 0:return t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new Gse({channelUrl:this.url,userId:r.userId}),[4,s.send(u)];case 1:return d.sent(),[2]}})})},n.prototype.startTyping=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){return t=ue.of(this._iid),r=t.requestQueue,s=t.typingIndicatorThrottle,(u=new Date().getTime())-this._typingStarted>=s&&(this._typingStarted=u,this._typingEnded=0,d=new Qse({channelUrl:this.url,time:this._typingStarted}),r.send(d)),[2]})})},n.prototype.endTyping=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){return t=ue.of(this._iid),r=t.requestQueue,s=t.typingIndicatorThrottle,(u=new Date().getTime())-this._typingEnded>=s&&(this._typingStarted=0,this._typingEnded=u,d=new Xse({channelUrl:this.url,time:this._typingStarted}),r.send(d)),[2]})})},n.prototype.createScheduledUserMessage=function(t){t=ae(ae({},kie),t),We(Sie(t)).throw(me.invalidParameters);var r=new Ao;return this._createScheduledUserMessage(t,r),r},n.prototype.updateScheduledUserMessage=function(t,r){return A(this,void 0,void 0,function(){var s,u,d;return R(this,function(p){switch(p.label){case 0:return r=ae(ae({},woe),r),We(function(g){return FU(g)&&re("number",g.scheduledAt,!0)}(r)).throw(me.invalidParameters),s=ue.of(this._iid).requestQueue,u=new Soe(ae({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r)),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(WU).message]}})})},n.prototype.createScheduledFileMessage=function(t){var r=this;t=ae(ae({},Cie),t),We(Tie(t)).throw(me.invalidParameters);var s=ue.of(this._iid).dispatcher,u=Date.now(),d=this._generateRequestId(),p=new Ao;return ja(yie).then(function(){var g=r._createPendingScheduledFileMessage(t,d,u);s.dispatch(new Yt({messages:[g],source:Cn.EVENT_MESSAGE_SENT_PENDING})),cn(function(){return A(r,void 0,void 0,function(){return R(this,function(_){return[2,p._trigger(null,g)]})})})}),li(t.file)?this._uploadFileAndUpdateParams(t).then(function(){return r._createScheduledFileMessage(t,p,d,u)}):this._createScheduledFileMessage(t,p,d,u),p},n.prototype.updateScheduledFileMessage=function(t,r){return A(this,void 0,void 0,function(){var s,u;return R(this,function(d){switch(d.label){case 0:return r=ae(ae({},Eoe),r),We(function(p){return bk(p)&&re("number",p.scheduledAt,!0)&&(li(p.file)||re("string",p.fileUrl))&&re("string",p.fileName,!0)&&re("string",p.mimeType,!0)&&re("number",p.fileSize,!0)&&(p.thumbnailSizes===null||p.thumbnailSizes.every(function(g){return re("object",g)&&g.maxWidth>0&&g.maxHeight>0}))}(r)).throw(me.invalidParameters),li(r.file)?[4,this._uploadFileAndUpdateParams(r)]:[3,2];case 1:d.sent(),d.label=2;case 2:return s=new xoe(ae(ae({reqId:this._generateRequestId(),scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url},r),{fileUrl:r.fileUrl,requireAuth:r.requireAuth})),[4,ue.of(this._iid).requestQueue.send(s)];case 3:return u=d.sent(),[2,u.as(koe).message]}})})},n.prototype.cancelScheduledMessage=function(t){return A(this,void 0,void 0,function(){var r;return R(this,function(s){switch(s.label){case 0:return r=new Coe({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,ue.of(this._iid).requestQueue.send(r)];case 1:return s.sent(),[2]}})})},n.prototype.sendScheduledMessageNow=function(t){return A(this,void 0,void 0,function(){var r;return R(this,function(s){switch(s.label){case 0:return r=new Toe({scheduledMessageId:t,channelType:this.channelType,channelUrl:this.url}),[4,ue.of(this._iid).requestQueue.send(r)];case 1:return s.sent(),[2]}})})},n.prototype.getMyPushTriggerOption=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d;return R(this,function(p){switch(p.label){case 0:return t=ue.of(this._iid),r=t.sdkState,s=t.requestQueue,u=new nL({userId:r.userId}),[4,s.send(u)];case 1:return d=p.sent(),[2,d.as(tL).pushTriggerOption]}})})},n.prototype.setMyPushTriggerOption=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return We(On(lc,t)).throw(me.invalidParameters),r=ue.of(this._iid),s=r.sdkState,u=r.requestQueue,d=new rL({userId:s.userId,pushTriggerOption:t}),[4,u.send(d)];case 1:return p=g.sent(),[2,p.as(iL).pushTriggerOption]}})})},n.prototype.setMyCountPreference=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g,_;return R(this,function(y){switch(y.label){case 0:return We(On(ta,t)).throw(me.invalidParameters),r=ue.of(this._iid),s=r.dispatcher,u=r.sdkState,d=r.requestQueue,p=new voe({channelUrl:this.url,userId:u.userId,countPreference:t}),[4,d.send(p)];case 1:return g=y.sent(),_=g.as(_oe).countPreference,this.myCountPreference=_,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),s.dispatch(new Jn({channels:[this],source:Nn.EVENT_CHANNEL_CREATED})),[2,_]}})})},n.prototype.resetMyHistory=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return t=ue.of(this._iid),r=t.dispatcher,s=t.requestQueue,u=new boe({channelUrl:this.url}),[4,s.send(u)];case 1:return d=g.sent(),p=d.as(yoe).messageOffsetTimestamp,this.messageOffsetTimestamp=p,r.dispatch(new Jn({channels:[this],source:Nn.EVENT_CHANNEL_RESET_HISTORY})),[2,this]}})})},n.prototype._uploadFileAndUpdateParams=function(t){return A(this,void 0,void 0,function(){var r,s,u,d,p,g,_,y,E,x,k;return R(this,function(T){switch(T.label){case 0:return li(t.file)?(r=ue.of(this._iid).requestQueue,s=new AU({file:t.file,channelUrl:this.url,thumbnailSizes:t.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(s)]):[3,2];case 1:u=T.sent(),d=u.as(RU),p=d.url,g=d.fileSize,_=g===void 0?t.fileSize:g,y=d.thumbnailSizes,E=y===void 0?t.thumbnailSizes:y,x=d.requireAuth,k=x!==void 0&&x,t.fileUrl=p,t.fileSize=_,t.thumbnailSizes=E,t.requireAuth=k,T.label=2;case 2:return[2]}})})},n}(gw),YE={},_A=function(){function e(n){var t=n._iid,r=this;this._sync=null,this._metadata=null,this._iid=t;var s,u=ue.of(this._iid),d=u.sdkState,p=u.logger;this._metadataKey=(s=d.userId,"sendbird:".concat(s,"@groupchannel/sync.meta"));var g=function(_){return"sendbird:".concat(_,"@groupchannel/sync")}(d.userId);this._sync=new kc(g,function(){return A(r,void 0,void 0,function(){var _,y,E,x,k,T;return R(this,function(I){switch(I.label){case 0:return _={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(I.sent(),p.debug("channel background sync from",this._metadata.token),this._metadata.completed)return[3,9];I.label=2;case 2:return I.trys.push([2,5,,8]),[4,Ir.of(this._iid).getMyGroupChannels(this._metadata.token,{includeEmpty:!0,order:Ar.CHRONOLOGICAL},100,Nn.SYNC_CHANNEL_BACKGROUND)];case 3:return y=I.sent(),E=y.channels,x=y.token,_.hasNext=E.length>=100&&!!x,_.nextToken=x,this._metadata.token=x,(T=this._metadata.range).extends.apply(T,En([],wn(E.map(function(P){return P.createdAt})),!1)),this._metadata.completed=!_.hasNext,p.debug("channel background sync progress",_),[4,this.saveMetadata()];case 4:return I.sent(),[3,8];case 5:return(k=I.sent())instanceof me&&k.isInvalidTokenError?[4,this.clearMetaData()]:[3,7];case 6:I.sent(),I.label=7;case 7:return _.hasNext=!1,_.nextToken="",[3,8];case 8:return[3,10];case 9:_.hasNext=!1,_.nextToken="",I.label=10;case 10:return[2,_]}})})})}return e.of=function(n){if(!YE[n]){var t=YE[n]=new e({_iid:n});ue.of(n).dispatcher.on(function(r){r instanceof Cs&&(r.stateType===_t.CONNECTED?t.resume():t.pause())})}return YE[n]},Object.defineProperty(e.prototype,"range",{get:function(){var n;return(n=this._metadata)===null||n===void 0?void 0:n.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){var n;return!!(!((n=this._metadata)===null||n===void 0)&&n.completed)},enumerable:!1,configurable:!0}),e.prototype.loadMetadata=function(){return A(this,void 0,void 0,function(){var n;return R(this,function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,ue.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:n=t.sent(),this._metadata={token:n?n.token:"",range:new Xf(n?n.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!n&&n.completed},t.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return this._metadata?[4,ue.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetaData=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,ue.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return n.sent(),[2]}})})},e.prototype.resume=function(){var n,t;ue.of(this._iid).logger.debug("channel background sync resume()"),this._sync.start((t=(n=this._metadata)===null||n===void 0?void 0:n.token)!==null&&t!==void 0?t:"")},e.prototype.pause=function(){ue.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},e}(),XE={},Ioe=function(){function e(n){var t=n._iid,r=this;this._sync=null,this._metadataKey=null,this._metadata=null,this._iid=t;var s,u=ue.of(this._iid).sdkState;this._metadataKey=(s=u.userId,"sendbird:".concat(s,"@groupchannel/changelogs.meta"));var d=function(p){return"sendbird:".concat(p,"@groupchannel/changelogs")}(u.userId);this._sync=new kc(d,function(){return A(r,void 0,void 0,function(){var p,g,_,y,E;return R(this,function(x){switch(x.label){case 0:return p={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:x.sent(),x.label=2;case 2:return x.trys.push([2,5,,8]),[4,Ir.of(this._iid).getMyGroupChannelChangeLogs(this._metadata.token,{},Nn.SYNC_CHANNEL_CHANGELOGS)];case 3:return g=x.sent(),_=g.hasMore,y=g.token,p.hasNext=_,p.nextToken=y,this._metadata.token=y,[4,this.saveMetadata()];case 4:return x.sent(),[3,8];case 5:return(E=x.sent())instanceof me&&E.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:x.sent(),x.label=7;case 7:return p.hasNext=!1,p.nextToken="",[3,8];case 8:return[2,p]}})})})}return e.of=function(n){if(!XE[n]){var t=XE[n]=new e({_iid:n});ue.of(n).dispatcher.on(function(r){r instanceof Cs&&(r.stateType===_t.CONNECTED?t.resume():t.pause())})}return XE[n]},e.prototype.loadMetadata=function(){return A(this,void 0,void 0,function(){var n,t,r,s;return R(this,function(u){switch(u.label){case 0:return this._metadata?[3,2]:(n=ue.of(this._iid),t=n.cacheContext,r=n.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:s=u.sent(),this._metadata={token:s?s.token:r/1e3},u.label=2;case 2:return[2]}})})},e.prototype.saveMetadata=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return this._metadata?[4,ue.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.clearMetadata=function(){return A(this,void 0,void 0,function(){return R(this,function(n){return ue.of(this._iid).cacheContext.preference.remove(this._metadataKey),[2]})})},e.prototype.resume=function(){this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e}(),Noe=function(){function e(n,t){var r=t.filter,s=t.order,u=t.limit,d=this;this.channels=[],this._iid=n,this._key="gcc-".concat(Qa()),this.filter=r!=null?r:new EL,this.order=s!=null?s:Ar.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=u!=null?u:KU;var p=ue.of(this._iid),g=p.sdkState;p.cacheContext.localCacheEnabled&&_A.of(n).resume(),Ioe.of(n).resume(),Ir.of(this._iid).subscribeGroupChannelEvent(this._key,{onUpdate:function(_,y){var E=_.filter(function(k){return d.filter.match(k,g.userId)}),x=_.filter(function(k){return!d.filter.match(k,g.userId)}).map(function(k){return k.url});E.length>0&&d._addChannelsToView(E,y),x.length>0&&d._removeChannelsFromView(x,y)},onRemove:function(_,y){d._removeChannelsFromView(_,y)}})}return Object.defineProperty(e.prototype,"hasMore",{get:function(){return this._hasMore},enumerable:!1,configurable:!0}),e.prototype.setGroupChannelCollectionHandler=function(n){this._handler=n},e.prototype._addChannelsToView=function(n,t,r){var s,u,d=this;r===void 0&&(r=!1);var p=[],g=[];try{for(var _=tn(n),y=_.next();!y.done;y=_.next()){var E=y.value,x=gA(this.channels,E,this.order),k=x.place;if(x.contains)switch(g.push(E),t){case Nn.EVENT_CHANNEL_UPDATED:case Nn.EVENT_MESSAGE_RECEIVED:this.channels.splice(k,1);var T=gA(this.channels,E,this.order).place;this.channels.splice(T,0,E);break;default:this.channels[k]=E}else if(k===this.channels.length){var I=_A.of(this._iid);(r||I.completed)&&(p.push(E),this.channels.push(E))}else p.push(E),this.channels.splice(k,0,E)}}catch(P){s={error:P}}finally{try{y&&!y.done&&(u=_.return)&&u.call(_)}finally{if(s)throw s.error}}dA(t)&&cn(function(){return A(d,void 0,void 0,function(){var P;return R(this,function(N){return P=new Rv(t),p.length>0&&this._handler.onChannelsAdded(P,p),g.length>0&&this._handler.onChannelsUpdated(P,g),[2]})})})},e.prototype._removeChannelsFromView=function(n,t){var r,s,u=this,d=[],p=function(E){var x=g.channels.findIndex(function(k){return k.url===E});x>=0&&(d.push(g.channels[x].url),g.channels.splice(x,1))},g=this;try{for(var _=tn(n),y=_.next();!y.done;y=_.next())p(y.value)}catch(E){r={error:E}}finally{try{y&&!y.done&&(s=_.return)&&s.call(_)}finally{if(r)throw r.error}}return dA(t)&&d.length>0&&cn(function(){return A(u,void 0,void 0,function(){var E;return R(this,function(x){return E=new Rv(t),this._handler.onChannelsDeleted(E,d),[2]})})}),d},e.prototype._getLocalChannels=function(){return A(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,Ir.of(this._iid).getChannelsFromCache(this._token,this.filter,this.order)];case 1:return[2,n.sent()]}})})},e.prototype._getRemoteChannels=function(){return A(this,void 0,void 0,function(){var n,t,r;return R(this,function(s){switch(s.label){case 0:return[4,Ir.of(this._iid).getMyGroupChannels(this._token,ae(ae({},this.filter),{order:this.order}),this._limit)];case 1:return n=s.sent(),t=n.channels,r=n.token,this._token=r,[2,t]}})})},e.prototype.loadMore=function(){return A(this,void 0,void 0,function(){var n,t=this;return R(this,function(r){switch(r.label){case 0:return this._hasMore?(n=[],[4,Xa(function(){return A(t,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return[4,this._getLocalChannels()];case 1:return n=s.sent(),[2]}})})})]):[3,3];case 1:return r.sent(),[4,Xa(function(){return A(t,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return[4,this._getRemoteChannels()];case 1:return n=s.sent(),[2]}})})})];case 2:return r.sent(),this._addChannelsToView(n,Nn.REQUEST_CHANNEL,!0),[2,n];case 3:return[2,[]]}})})},e.prototype.dispose=function(){Ir.of(this._iid).unsubscribeGroupChannelEvent(this._key)},e}(),Ooe=function(e){function n(t){var r=this,s=t.token,u=t.limit,d=t.order,p=t.includeEmpty,g=t.membershipFilter,_=t.channelNameContainsFilter,y=t.channelUrlsFilter,E=t.customTypesFilter,x=t.customTypeStartsWithFilter,k=t.superChannelFilter,T=t.metadataOrderKeyFilter,I=t.metadataKey,P=t.metadataValues,N=t.metadataValueStartsWith,O=t.includeFrozen,U=t.includeMetaData;return(r=e.call(this)||this).method=Pe.GET,r.path=mi,r.params=In({token:s,limit:u,order:d,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:p,public_mode:Go.PUBLIC,public_membership_mode:g,name_contains:_,channel_urls:y,custom_types:E,custom_type_startswith:x,super_mode:k,metadata_order_key:T,metadata_key:I,metadata_values:P,metadata_value_startswith:N,show_frozen:O,show_metadata:U}),r}return G(n,e),n}(He),Aoe=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.token=null,s.channels=[],s.ts=null;var u=r.next,d=r.channels,p=r.ts;return s.token=u,d&&d.length>0&&(s.channels=d.map(function(g){return g.ts=p,new Ia(t,g)})),s.ts=typeof p=="number"?p:null,s}return G(n,e),n}($e);(function(e){e.ALL="all",e.JOINED="joined"})(xf||(xf={}));var Roe=function(e){function n(t,r){var s,u,d,p,g,_,y,E,x,k,T,I,P,N,O=this;return(O=e.call(this,t,r)||this).includeEmpty=!1,O.includeFrozen=!0,O.includeMetaData=!0,O.channelUrlsFilter=null,O.customTypesFilter=null,O.customTypeStartsWithFilter=null,O.nicknameContainsFilter=null,O.channelNameContainsFilter=null,O.membershipFilter=xf.ALL,O.superChannelFilter=ha.ALL,O.metadataKey=null,O.metadataValues=null,O.metadataOrderKeyFilter=null,O.metadataValueStartsWith=null,O.order=_f.CHRONOLOGICAL,O.includeEmpty=(s=r.includeEmpty)!==null&&s!==void 0&&s,O.includeFrozen=(u=r.includeFrozen)===null||u===void 0||u,O.includeMetaData=(d=r.includeMetaData)===null||d===void 0||d,O.channelUrlsFilter=(p=r.channelUrlsFilter)!==null&&p!==void 0?p:null,O.customTypesFilter=(g=r.customTypesFilter)!==null&&g!==void 0?g:null,O.customTypeStartsWithFilter=(_=r.customTypeStartsWithFilter)!==null&&_!==void 0?_:null,O.channelNameContainsFilter=(y=r.channelNameContainsFilter)!==null&&y!==void 0?y:null,O.membershipFilter=(E=r.membershipFilter)!==null&&E!==void 0?E:xf.ALL,O.superChannelFilter=(x=r.superChannelFilter)!==null&&x!==void 0?x:ha.ALL,O.metadataKey=(k=r.metadataKey)!==null&&k!==void 0?k:null,O.metadataValues=(T=r.metadataValues)!==null&&T!==void 0?T:null,O.metadataOrderKeyFilter=(I=r.metadataOrderKeyFilter)!==null&&I!==void 0?I:null,O.metadataValueStartsWith=(P=r.metadataValueStartsWith)!==null&&P!==void 0?P:null,O.order=(N=r.order)!==null&&N!==void 0?N:_f.CHRONOLOGICAL,O}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&re("boolean",this.includeEmpty)&&re("boolean",this.includeFrozen)&&re("boolean",this.includeMetaData)&&re("string",this.channelNameContainsFilter,!0)&&An("string",this.channelUrlsFilter,!0)&&An("string",this.customTypesFilter,!0)&&re("string",this.customTypeStartsWithFilter,!0)&&On(xf,this.membershipFilter)&&On(ha,this.superChannelFilter)&&On(_f,this.order)&&re("string",this.metadataOrderKeyFilter,!0)&&re("string",this.metadataKey,!0)&&An("string",this.metadataValues,!0)&&re("string",this.metadataValueStartsWith,!0)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p,g,_,y;return R(this,function(E){switch(E.label){case 0:return this._validate()?this._isLoading?[3,3]:(t=[],this._hasNext?(this._isLoading=!0,r=ue.of(this._iid),s=r.requestQueue,u=r.dispatcher,d=new Ooe(ae(ae({},this),{token:this._token})),[4,s.send(d)]):[3,2]):[3,5];case 1:return p=E.sent(),g=p.as(Aoe),_=g.channels,y=g.token,this._token=y,this._hasNext=!!y,u.dispatch(new Jn({channels:_,source:Nn.REQUEST_CHANNEL})),this._isLoading=!1,[2,_];case 2:return[2,t];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(Yo),Moe=function(e){function n(t){t===void 0&&(t={});var r=e.call(this)||this;return Object.keys(t).forEach(function(s){r.hasOwnProperty(s)&&(r[s]=t[s])}),r}return G(n,e),n}(function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.onUserJoined=Hn,t.onUserLeft=Hn,t.onUserReceivedInvitation=Hn,t.onUserDeclinedInvitation=Hn,t.onChannelHidden=Hn,t.onUnreadMemberStatusUpdated=Hn,t.onUndeliveredMemberStatusUpdated=Hn,t.onTypingStatusUpdated=Hn,t}return G(n,e),n}(mL)),Doe=function(e){function n(t){var r=this,s=t.token,u=t.limit,d=t.order,p=t.reverse,g=t.channelUrl,_=t.messageTypeFilter,y=t.scheduledStatus;return(r=e.call(this)||this).method=Pe.GET,r.path="".concat(CU),r.params=In({limit:u,reverse:p,channel_url:g,order:d,status:y}),s&&(r.params.token=s),_&&(r.params.message_type_filter=_),r}return G(n,e),n}(He),Uoe=function(e){function n(t,r){var s=e.call(this,t,r)||this;s.token=null,s.scheduledMessages=[];var u=r.next,d=r.scheduled_messages;return s.token=u,s.scheduledMessages=d.map(function(p){return rs(t,p)}),s}return G(n,e),n}($e),Loe=function(e){function n(t,r){var s,u,d,p,g,_=this;return(_=e.call(this,t,r)||this).channelUrl=null,_.order=null,_.reverse=!1,_.scheduledStatus=null,_.messageTypeFilter=Wr.ALL,_.channelUrl=(s=r.channelUrl)!==null&&s!==void 0?s:null,_.order=(u=r.order)!==null&&u!==void 0?u:null,_.reverse=(d=r.reverse)!==null&&d!==void 0&&d,_.scheduledStatus=(p=r.scheduledStatus)!==null&&p!==void 0?p:null,_.messageTypeFilter=(g=r.messageTypeFilter)!==null&&g!==void 0?g:Wr.ALL,_}return G(n,e),n.prototype._validate=function(){return e.prototype._validate.call(this)&&re("string",this.channelUrl,!0)&&(On(vw,this.order)||this.order===null)&&re("boolean",this.reverse)&&(An(Dl,this.scheduledStatus)||this.scheduledStatus===null)&&On(Wr,this.messageTypeFilter)},n.prototype.next=function(){return A(this,void 0,void 0,function(){var t,r,s,u,d,p;return R(this,function(g){switch(g.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,t=ue.of(this._iid).requestQueue,r=new Doe(ae(ae({},this),{token:this._token})),[4,t.send(r)]):[3,2]:[3,5];case 1:return s=g.sent(),u=s.as(Uoe),d=u.scheduledMessages,p=u.token,this._token=p,this._hasNext=!!p,this._isLoading=!1,[2,d];case 2:return[2,[]];case 3:throw me.queryInProgress;case 4:return[3,6];case 5:throw me.invalidParameters;case 6:return[2]}})})},n}(Yo),Poe=function(e){function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="groupChannel",t}return G(n,e),n.prototype.init=function(t,r){var s=r.sdkState,u=r.dispatcher,d=r.sessionManager,p=r.requestQueue,g=r.logger,_=r.onlineDetector,y=r.cacheContext;e.prototype.init.call(this,t,{sdkState:s,dispatcher:u,sessionManager:d,requestQueue:p,logger:g,onlineDetector:_,cacheContext:y}),this._manager=new Ir(t,{sdkState:s,cacheContext:y,dispatcher:u,sessionManager:d,requestQueue:p,logger:g})},n.prototype.createGroupChannelCollection=function(t){return t===void 0&&(t={}),new Noe(this._iid,t)},n.prototype.createMyGroupChannelListQuery=function(t){return t===void 0&&(t={}),new TL(this._iid,t)},n.prototype.createPublicGroupChannelListQuery=function(t){return t===void 0&&(t={}),new Roe(this._iid,t)},n.prototype.createScheduledMessageListQuery=function(t){return t===void 0&&(t={}),new Loe(this._iid,t)},n.prototype.addGroupChannelHandler=function(t,r){We(re("string",t)&&r instanceof Moe).throw(me.invalidParameters),this._manager.addHandler(t,r)},n.prototype.removeGroupChannelHandler=function(t){We(re("string",t)).throw(me.invalidParameters),this._manager.removeHandler(t)},n.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},n.prototype.buildGroupChannelFromSerializedData=function(t){return this._manager.buildGroupChannelFromSerializedData(t)},n.prototype.buildGroupChannelListQueryFromSerializedData=function(t){return this._manager.buildGroupChannelListQueryFromSerializedData(t)},n.prototype.buildMemberFromSerializedData=function(t){return this._manager.buildMemberFromSerializedData(t)},n.prototype.getChannel=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return We(re("string",t)).throw(me.invalidParameters),[2,this._manager.getChannel(t)]})})},n.prototype.getChannelWithoutCache=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return We(re("string",t)).throw(me.invalidParameters),[2,this._manager.getChannelWithoutCache(t)]})})},n.prototype.getMyGroupChannelChangeLogsByToken=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return r=ae(ae({},Av),r),We(re("string",t)&&ww(r)).throw(me.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,s.sent()]}})})},n.prototype.getMyGroupChannelChangeLogsByTimestamp=function(t,r){return A(this,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return r=ae(ae({},Av),r),We(re("number",t)&&ww(r)).throw(me.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(t,r)];case 1:return[2,s.sent()]}})})},n.prototype.getGroupChannelCount=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return t=ae(ae({},wL),t),We(xL(t)).throw(me.invalidParameters),[2,this._manager.getGroupChannelCount(t)]})})},n.prototype.getUnreadItemCount=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getTotalUnreadChannelCount=function(){return A(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,t.sent()]}})})},n.prototype.getTotalUnreadMessageCount=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getTotalScheduledMessageCount=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(t)];case 1:return[2,r.sent()]}})})},n.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(t){return this._manager.getSubscribedCustomTypeUnreadMessageCount(t)},n.prototype.createChannel=function(t){return t===void 0&&(t={}),A(this,void 0,void 0,function(){return R(this,function(r){return t=ae(ae({},Vm),t),We(Ew(t)).throw(me.invalidParameters),[2,this._manager.createChannel(t)]})})},n.prototype.createDistinctChannelIfNotExist=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return t=ae(ae({},Vm),t),We(Ew(t)).throw(me.invalidParameters),t&&(t.isDistinct=!0),[2,this.createChannel(t)]})})},n.prototype.createChannelWithUserIds=function(t,r,s,u,d,p){return r===void 0&&(r=!1),s===void 0&&(s=null),u===void 0&&(u=null),d===void 0&&(d=""),p===void 0&&(p=""),A(this,void 0,void 0,function(){var g;return R(this,function(_){return g=ae(ae({},Vm),{invitedUserIds:t,isDistinct:r,name:s,data:d,customType:p}),typeof u=="string"?g.coverUrl=u:g.coverImage=u,[2,this.createChannel(g)]})})},n.prototype.markAsReadAll=function(){return A(this,void 0,void 0,function(){return R(this,function(t){return this._manager.markAsReadAll(),[2]})})},n.prototype.markAsReadWithChannelUrls=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){return We(An("string",t)).throw(me.invalidParameters),this._manager.markAsReadWithChannelUrls(t),[2]})})},n.prototype.markAsDelivered=function(t){return A(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return We(re("string",t)).throw(me.invalidParameters),[4,this.getChannel(t)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},n}(dk),NL="INIT_USER",xk="RESET_USER",OL="UPDATE_USER_INFO";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kw=function(e,n){return kw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},kw(e,n)};function Foe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");kw(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var hn=function(){return hn=Object.assign||function(n){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u])}return n},hn.apply(this,arguments)};function Bn(e,n,t){if(t||arguments.length===2)for(var r=0,s=n.length,u;r<s;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return e.concat(u||Array.prototype.slice.call(n))}var AL={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"]},Hoe={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},zoe={NONE:"NONE",PENDING:"PENDING",SENT:"SENT",FAILED:"FAILED",DELIVERED:"DELIVERED",READ:"READ"},bA=function(n){return n===""||n===null},RL=function(n){return AL.IMAGE.indexOf(n)>=0},ML=function(n){return AL.VIDEO.indexOf(n)>=0},yA=function(n){return RL(n)||ML(n)},DL=function(){return hn({},zoe)},UL=function(){return hn({},Hoe)},qoe=function(n,t){return Array.isArray(t)?Bn(Bn([],n,!0),t,!0):(n.push(t),n)},Sw=function(n){return Array.isArray(n)?n.reduce(qoe,[]).join(" "):n},Boe=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,EA=function(n){return Boe.test(n)},Mo;(function(e){e[e.normal=0]="normal",e[e.mention=1]="mention",e[e.url=2]="url"})(Mo||(Mo={}));var joe=function(n,t,r){for(var s=t||[],u=r||"@",d=[],p=RegExp("".concat(u,"{(").concat(s.map(function(x){return x==null?void 0:x.userId}).join("|"),")}"),"g"),g,_=0,y=function(){var k=g[0],T=g[1],I=p.lastIndex,P=I-k.length,N=n.slice(_,P);d.push({type:EA(N)?Mo.url:Mo.normal,value:N});var O=s.find(function(U){return(U==null?void 0:U.userId)===T});O?d.push({type:Mo.mention,value:(O==null?void 0:O.nickname)||"(No name)",userId:T}):d.push({type:Mo.normal,value:k}),_=I};(g=p.exec(n))!==null;)y();if(_<n.length){var E=n.slice(_);d.push({type:EA(E)?Mo.url:Mo.normal,value:E})}return d},Goe=function(n,t){if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}return!1};/*!
* css-vars-ponyfill
* v2.4.8
* https://jhildenbiddle.github.io/css-vars-ponyfill/
* (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
* MIT license
*/function na(){return na=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},na.apply(this,arguments)}/*!
* get-css-data
* v2.1.0
* https://github.com/jhildenbiddle/get-css-data
* (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
* MIT license
*/function wA(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.isArray(e)?e:[e],s=Array.apply(null,Array(r.length)).map(function(_){return null});function u(_){var y=typeof _=="string",E=y&&_.trim().charAt(0)==="<";return y&&!E}function d(_,y){t.onError(_,r[y],y)}function p(_,y){var E=t.onSuccess(_,r[y],y);_=E===!1?"":E||_,s[y]=_,s.indexOf(null)===-1&&t.onComplete(s)}var g=document.createElement("a");r.forEach(function(_,y){g.setAttribute("href",_),g.href=String(g.href);var E=Boolean(document.all&&!window.atob),x=E&&g.host.split(":")[0]!==location.host.split(":")[0];if(x){var k=g.protocol===location.protocol;if(k){var T=new XDomainRequest;T.open("GET",_),T.timeout=0,T.onprogress=Function.prototype,T.ontimeout=Function.prototype,T.onload=function(){var P=T.responseText;u(P)?p(P,y):d(T,y)},T.onerror=function(P){d(T,y)},setTimeout(function(){T.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(_,")")),d(null,y)}else{var I=new XMLHttpRequest;I.open("GET",_),t.mimeType&&I.overrideMimeType&&I.overrideMimeType(t.mimeType),t.onBeforeSend(I,_,y),I.onreadystatechange=function(){if(I.readyState===4){var P=I.responseText;I.status<400&&u(P)||I.status===0&&u(P)?p(P,y):d(I,y)}},I.send()}})}/**
* Gets CSS data from <style> and <link> nodes (including @imports), then
* returns data in order processed by DOM. Allows specifying nodes to
* include/exclude and filtering CSS data using RegEx.
*
* @preserve
* @param {object}   [options] The options object
* @param {object}   [options.rootElement=document] Root element to traverse for
*                   <link> and <style> nodes.
* @param {string}   [options.include] CSS selector matching <link> and <style>
*                   nodes to include
* @param {string}   [options.exclude] CSS selector matching <link> and <style>
*                   nodes to exclude
* @param {object}   [options.filter] Regular expression used to filter node CSS
*                   data. Each block of CSS data is tested against the filter,
*                   and only matching data is included.
* @param {boolean}  [options.skipDisabled=true] Determines if disabled
*                   stylesheets will be skipped while collecting CSS data.
* @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
*                   collected from a stylesheet's runtime values instead of its
*                   text content. This is required to get accurate CSS data
*                   when a stylesheet has been modified using the deleteRule()
*                   or insertRule() methods because these modifications will
*                   not be reflected in the stylesheet's text content.
* @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
*                   1) the XHR object, 2) source node reference, and 3) the
*                   source URL as arguments.
* @param {function} [options.onSuccess] Callback on each CSS node read. Passes
*                   1) CSS text, 2) source node reference, and 3) the source
*                   URL as arguments.
* @param {function} [options.onError] Callback on each error. Passes 1) the XHR
*                   object for inspection, 2) soure node reference, and 3) the
*                   source URL that failed (either a <link> href or an @import)
*                   as arguments
* @param {function} [options.onComplete] Callback after all nodes have been
*                   processed. Passes 1) concatenated CSS text, 2) an array of
*                   CSS text in DOM order, and 3) an array of nodes in DOM
*                   order as arguments.
*
* @example
*
*   getCssData({
*     rootElement : document,
*     include     : 'style,link[rel="stylesheet"]',
*     exclude     : '[href="skip.css"]',
*     filter      : /red/,
*     skipDisabled: true,
*     useCSSOM    : false,
*     onBeforeSend(xhr, node, url) {
*       // ...
*     }
*     onSuccess(cssText, node, url) {
*       // ...
*     }
*     onError(xhr, node, url) {
*       // ...
*     },
*     onComplete(cssText, cssArray, nodeArray) {
*       // ...
*     }
*   });
*/function xA(e){var n={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},t={rootElement:e.rootElement||document,include:e.include||'style,link[rel="stylesheet"]',exclude:e.exclude||null,filter:e.filter||null,skipDisabled:e.skipDisabled!==!1,useCSSOM:e.useCSSOM||!1,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},r=Array.apply(null,t.rootElement.querySelectorAll(t.include)).filter(function(_){return!$oe(_,t.exclude)}),s=Array.apply(null,Array(r.length)).map(function(_){return null});function u(){var _=s.indexOf(null)===-1;if(_){s.reduce(function(E,x,k){return x===""&&E.push(k),E},[]).reverse().forEach(function(E){return[r,s].forEach(function(x){return x.splice(E,1)})});var y=s.join("");t.onComplete(y,s,r)}}function d(_,y,E,x){var k=t.onSuccess(_,E,x);_=k!==void 0&&Boolean(k)===!1?"":k||_,g(_,E,x,function(T,I){s[y]===null&&(I.forEach(function(P){return t.onError(P.xhr,E,P.url)}),!t.filter||t.filter.test(T)?s[y]=T:s[y]="",u())})}function p(_,y){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],x={};return x.rules=(_.replace(n.cssComments,"").match(n.cssImports)||[]).filter(function(k){return E.indexOf(k)===-1}),x.urls=x.rules.map(function(k){return k.replace(n.cssImports,"$1")}),x.absoluteUrls=x.urls.map(function(k){return ZE(k,y)}),x.absoluteRules=x.rules.map(function(k,T){var I=x.urls[T],P=ZE(x.absoluteUrls[T],y);return k.replace(I,P)}),x}function g(_,y,E,x){var k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],I=p(_,E,T);I.rules.length?wA(I.absoluteUrls,{onBeforeSend:function(N,O,U){t.onBeforeSend(N,y,O)},onSuccess:function(N,O,U){var L=t.onSuccess(N,y,O);N=L===!1?"":L||N;var ee=p(N,O,T);return ee.rules.forEach(function(V,J){N=N.replace(V,ee.absoluteRules[J])}),N},onError:function(N,O,U){k.push({xhr:N,url:O}),T.push(I.rules[U]),g(_,y,E,x,k,T)},onComplete:function(N){N.forEach(function(O,U){_=_.replace(I.rules[U],O)}),g(_,y,E,x,k,T)}}):x(_,k)}r.length?r.forEach(function(_,y){var E=_.getAttribute("href"),x=_.getAttribute("rel"),k=_.nodeName.toLowerCase()==="link"&&E&&x&&x.toLowerCase().indexOf("stylesheet")!==-1,T=t.skipDisabled===!1?!1:_.disabled,I=_.nodeName.toLowerCase()==="style";if(k&&!T){var P=E.indexOf("data:text/css")!==-1;if(P){var N=decodeURIComponent(E.substring(E.indexOf(",")+1));t.useCSSOM&&(N=Array.apply(null,_.sheet.cssRules).map(function(U){return U.cssText}).join("")),d(N,y,_,location.href)}else wA(E,{mimeType:"text/css",onBeforeSend:function(L,ee,V){t.onBeforeSend(L,_,ee)},onSuccess:function(L,ee,V){var J=ZE(E);d(L,y,_,J)},onError:function(L,ee,V){s[y]="",t.onError(L,_,ee),u()}})}else if(I&&!T){var O=_.textContent;t.useCSSOM&&(O=Array.apply(null,_.sheet.cssRules).map(function(U){return U.cssText}).join("")),d(O,y,_,location.href)}else s[y]="",u()}):t.onComplete("",[])}function ZE(e,n){var t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),s=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(s),r.href=n||document.baseURI||(document.querySelector("base")||{}).href||location.href,s.href=e,s.href}function $oe(e,n){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;return t.call(e,n)}var LL=PL;function PL(e,n,t){e instanceof RegExp&&(e=kA(e,t)),n instanceof RegExp&&(n=kA(n,t));var r=FL(e,n,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+e.length,r[1]),post:t.slice(r[1]+n.length)}}function kA(e,n){var t=n.match(e);return t?t[0]:null}PL.range=FL;function FL(e,n,t){var r,s,u,d,p,g=t.indexOf(e),_=t.indexOf(n,g+1),y=g;if(g>=0&&_>0){if(e===n)return[g,_];for(r=[],u=t.length;y>=0&&!p;)y==g?(r.push(y),g=t.indexOf(e,y+1)):r.length==1?p=[r.pop(),_]:(s=r.pop(),s<u&&(u=s,d=_),_=t.indexOf(n,y+1)),y=g<_&&g>=0?g:_;r.length&&(p=[u,d])}return p}function kk(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,removeComments:!1},r=na({},t,n),s=[];function u(ce){throw new Error("CSS parse error: ".concat(ce))}function d(ce){var Ee=ce.exec(e);if(Ee)return e=e.slice(Ee[0].length),Ee}function p(){return d(/^{\s*/)}function g(){return d(/^}/)}function _(){d(/^\s*/)}function y(){if(_(),!(e[0]!=="/"||e[1]!=="*")){for(var ce=2;e[ce]&&(e[ce]!=="*"||e[ce+1]!=="/");)ce++;if(!e[ce])return u("end of comment is missing");var Ee=e.slice(2,ce);return e=e.slice(ce+2),{type:"comment",comment:Ee}}}function E(){for(var ce=[],Ee;Ee=y();)ce.push(Ee);return r.removeComments?[]:ce}function x(){for(_();e[0]==="}";)u("extra closing bracket");var ce=d(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(ce){var Ee=ce[0].trim(),ge,je=/\/\*/.test(Ee);je&&(Ee=Ee.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var Xe=/["']\w*,\w*["']/.test(Ee);Xe&&(Ee=Ee.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(ze){return ze.replace(/,/g,"\u200C")}));var Te=/,/.test(Ee);return Te?ge=Ee.split(/\s*(?![^(]*\)),\s*/):ge=[Ee],Xe&&(ge=ge.map(function(ze){return ze.replace(/\u200C/g,",")})),ge}}function k(){if(e[0]==="@")return ve();d(/^([;\s]*)+/);var ce=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ee=d(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(!!Ee){if(Ee=Ee[0].trim(),!d(/^:\s*/))return u("property missing ':'");var ge=d(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),je={type:"declaration",property:Ee.replace(ce,""),value:ge?ge[0].replace(ce,"").trim():""};return d(/^[;\s]*/),je}}function T(){if(!p())return u("missing '{'");for(var ce,Ee=E();ce=k();)Ee.push(ce),Ee=Ee.concat(E());return g()?Ee:u("missing '}'")}function I(){_();for(var ce=[],Ee;Ee=d(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)ce.push(Ee[1]),d(/^,\s*/);if(ce.length)return{type:"keyframe",values:ce,declarations:T()}}function P(){var ce=d(/^@([-\w]+)?keyframes\s*/);if(!!ce){var Ee=ce[1];if(ce=d(/^([-\w]+)\s*/),!ce)return u("@keyframes missing name");var ge=ce[1];if(!p())return u("@keyframes missing '{'");for(var je,Xe=E();je=I();)Xe.push(je),Xe=Xe.concat(E());return g()?{type:"keyframes",name:ge,vendor:Ee,keyframes:Xe}:u("@keyframes missing '}'")}}function N(){var ce=d(/^@page */);if(ce){var Ee=x()||[];return{type:"page",selectors:Ee,declarations:T()}}}function O(){var ce=d(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(ce){var Ee="".concat(ce[1],"-").concat(ce[2])+(ce[3]?"-".concat(ce[3]):"");return{type:"page-margin-box",name:Ee,declarations:T()}}}function U(){var ce=d(/^@font-face\s*/);if(ce)return{type:"font-face",declarations:T()}}function L(){var ce=d(/^@supports *([^{]+)/);if(ce)return{type:"supports",supports:ce[1].trim(),rules:Ne()}}function ee(){var ce=d(/^@host\s*/);if(ce)return{type:"host",rules:Ne()}}function V(){var ce=d(/^@media([^{]+)*/);if(ce)return{type:"media",media:(ce[1]||"").trim(),rules:Ne()}}function J(){var ce=d(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(ce)return{type:"custom-media",name:ce[1].trim(),media:ce[2].trim()}}function Y(){var ce=d(/^@([-\w]+)?document *([^{]+)/);if(ce)return{type:"document",document:ce[2].trim(),vendor:ce[1]?ce[1].trim():null,rules:Ne()}}function ye(){var ce=d(/^@(import|charset|namespace)\s*([^;]+);/);if(ce)return{type:ce[1],name:ce[2].trim()}}function ve(){if(_(),e[0]==="@"){var ce=ye()||U()||V()||P()||L()||Y()||J()||ee()||N()||O();if(ce&&!r.preserveStatic){var Ee=!1;if(ce.declarations)Ee=ce.declarations.some(function(je){return/var\(/.test(je.value)});else{var ge=ce.keyframes||ce.rules||[];Ee=ge.some(function(je){return(je.declarations||[]).some(function(Xe){return/var\(/.test(Xe.value)})})}return Ee?ce:{}}return ce}}function Ue(){if(!r.preserveStatic){var ce=LL("{","}",e);if(ce){var Ee=/:(?:root|host)(?![.:#(])/.test(ce.pre)&&/--\S*\s*:/.test(ce.body),ge=/var\(/.test(ce.body);if(!Ee&&!ge)return e=e.slice(ce.end+1),{}}}var je=x()||[],Xe=r.preserveStatic?T():T().filter(function(Te){var ze=je.some(function(oe){return/:(?:root|host)(?![.:#(])/.test(oe)})&&/^--\S/.test(Te.property),Ze=/var\(/.test(Te.value);return ze||Ze});return je.length||u("selector missing"),{type:"rule",selectors:je,declarations:Xe}}function Ne(ce){if(!ce&&!p())return u("missing '{'");for(var Ee,ge=E();e.length&&(ce||e[0]!=="}")&&(Ee=ve()||Ue());)Ee.type&&ge.push(Ee),ge=ge.concat(E());return!ce&&!g()?u("missing '}'"):ge}return{type:"stylesheet",stylesheet:{rules:Ne(!0),errors:s}}}function SA(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={parseHost:!1,store:{},onWarning:function(){}},r=na({},t,n),s=new RegExp(":".concat(r.parseHost?"host":"root","$"));return typeof e=="string"&&(e=kk(e,r)),e.stylesheet.rules.forEach(function(u){u.type!=="rule"||!u.selectors.some(function(d){return s.test(d)})||u.declarations.forEach(function(d,p){var g=d.property,_=d.value;g&&g.indexOf("--")===0&&(r.store[g]=_)})}),r.store}function HL(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,r={charset:function(d){return"@charset "+d.name+";"},comment:function(d){return d.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+d.comment+"*/":""},"custom-media":function(d){return"@custom-media "+d.name+" "+d.media+";"},declaration:function(d){return d.property+":"+d.value+";"},document:function(d){return"@"+(d.vendor||"")+"document "+d.document+"{"+s(d.rules)+"}"},"font-face":function(d){return"@font-face{"+s(d.declarations)+"}"},host:function(d){return"@host{"+s(d.rules)+"}"},import:function(d){return"@import "+d.name+";"},keyframe:function(d){return d.values.join(",")+"{"+s(d.declarations)+"}"},keyframes:function(d){return"@"+(d.vendor||"")+"keyframes "+d.name+"{"+s(d.keyframes)+"}"},media:function(d){return"@media "+d.media+"{"+s(d.rules)+"}"},namespace:function(d){return"@namespace "+d.name+";"},page:function(d){return"@page "+(d.selectors.length?d.selectors.join(", "):"")+"{"+s(d.declarations)+"}"},"page-margin-box":function(d){return"@"+d.name+"{"+s(d.declarations)+"}"},rule:function(d){var p=d.declarations;if(p.length)return d.selectors.join(",")+"{"+s(p)+"}"},supports:function(d){return"@supports "+d.supports+"{"+s(d.rules)+"}"}};function s(u){for(var d="",p=0;p<u.length;p++){var g=u[p];t&&t(g);var _=r[g.type](g);_&&(d+=_,_.length&&g.selectors&&(d+=n))}return d}return s(e.stylesheet.rules)}function zL(e,n){e.rules.forEach(function(t){if(t.rules){zL(t,n);return}if(t.keyframes){t.keyframes.forEach(function(r){r.type==="keyframe"&&n(r.declarations,t)});return}!t.declarations||n(t.declarations,e)})}var Voe="--",Woe="var";function Koe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=na({},t,n);return typeof e=="string"&&(e=kk(e,r)),zL(e.stylesheet,function(s,u){for(var d=0;d<s.length;d++){var p=s[d],g=p.type,_=p.property,y=p.value;if(g==="declaration"){if(!r.preserveVars&&_&&_.indexOf(Voe)===0){s.splice(d,1),d--;continue}if(y.indexOf(Woe+"(")!==-1){var E=rf(y,r);E!==p.value&&(E=Qoe(E),r.preserveVars?(s.splice(d,0,{type:g,property:_,value:E}),d++):p.value=E)}}}}),HL(e)}function Qoe(e){var n=/calc\(([^)]+)\)/g;return(e.match(n)||[]).forEach(function(t){var r="calc".concat(t.split("calc").join(""));e=e.replace(t,r)}),e}function rf(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;if(e.indexOf("var(")===-1)return e;var r=LL("(",")",e);function s(d){var p=d.split(",")[0].replace(/[\s\n\t]/g,""),g=(d.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],_=Object.prototype.hasOwnProperty.call(n.variables,p)?String(n.variables[p]):void 0,y=_||(g?String(g):void 0),E=t||d;return _||n.onWarning('variable "'.concat(p,'" is undefined')),y&&y!=="undefined"&&y.length>0?rf(y,n,E):"var(".concat(E,")")}if(r)if(r.pre.slice(-3)==="var"){var u=r.body.trim().length===0;return u?(n.onWarning("var() must contain a non-whitespace string"),e):r.pre.slice(0,-3)+s(r.body)+rf(r.post,n)}else return r.pre+"(".concat(rf(r.body,n),")")+rf(r.post,n);else return e.indexOf("var(")!==-1&&n.onWarning('missing closing ")" in the value "'.concat(e,'"')),e}var g_=typeof window<"u",CA=g_&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),nc={group:0,job:0},km={rootElement:g_?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},Ks={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},Er={dom:{},job:{},user:{}},Wm=!1,xa=null,af=0,Cw=null,Tw=!1;/**
* Fetches, parses, and transforms CSS custom properties from specified
* <style> and <link> elements into static values, then appends a new <style>
* element with static values to the DOM to provide CSS custom property
* compatibility for legacy browsers. Also provides a single interface for
* live updates of runtime values in both modern and legacy browsers.
*
* @preserve
* @param {object}   [options] Options object
* @param {object}   [options.rootElement=document] Root element to traverse for
*                   <link> and <style> nodes
* @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
*                   and <style> nodes will be processed.
* @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
*                   matching <link re="stylesheet"> and <style> nodes to
*                   process
* @param {string}   [options.exclude] CSS selector matching <link
*                   rel="stylehseet"> and <style> nodes to exclude from those
*                   matches by options.include
* @param {object}   [options.variables] A map of custom property name/value
*                   pairs. Property names can omit or include the leading
*                   double-hyphen (), and values specified will override
*                   previous values
* @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
*                   only generate legacy-compatible CSS in browsers that lack
*                   native support (i.e., legacy browsers)
* @param {boolean}  [options.preserveStatic=true] Determines if CSS
*                   declarations that do not reference a custom property will
*                   be preserved in the transformed CSS
* @param {boolean}  [options.preserveVars=false] Determines if CSS custom
*                   property declarations will be preserved in the transformed
*                   CSS
* @param {boolean}  [options.silent=false] Determines if warning and error
*                   messages will be displayed on the console
* @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
*                   update the DOM after processing CSS custom properties
* @param {boolean}  [options.updateURLs=true] Determines if relative url()
*                   paths will be converted to absolute urls in external CSS
* @param {boolean}  [options.watch=false] Determines if a MutationObserver will
*                   be created that will execute the ponyfill when a <link> or
*                   <style> DOM mutation is observed
* @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
*                   1) the XHR object, 2) source node reference, and 3) the
*                   source URL as arguments
* @param {function} [options.onError] Callback after a CSS parsing error has
*                   occurred or an XHR request has failed. Passes 1) an error
*                   message, and 2) source node reference, 3) xhr, and 4 url as
*                   arguments.
* @param {function} [options.onWarning] Callback after each CSS parsing warning
*                   has occurred. Passes 1) a warning message as an argument.
* @param {function} [options.onSuccess] Callback after CSS data has been
*                   collected from each node and before CSS custom properties
*                   have been transformed. Allows modifying the CSS data before
*                   it is transformed by returning any string value (or false
*                   to skip). Passes 1) CSS text, 2) source node reference, and
*                   3) the source URL as arguments.
* @param {function} [options.onComplete] Callback after all CSS has been
*                   processed, legacy-compatible CSS has been generated, and
*                   (optionally) the DOM has been updated. Passes 1) a CSS
*                   string with CSS variable values resolved, 2) an array of
*                   output <style> node references that have been appended to
*                   the DOM, 3) an object containing all custom properies names
*                   and values, and 4) the ponyfill execution time in
*                   milliseconds.
* @param {function} [options.onFinally] Callback in modern and legacy browsers
*                   after the ponyfill has finished all tasks. Passes 1) a
*                   boolean indicating if the last ponyfill call resulted in a
*                   style change, 2) a boolean indicating if the current
*                   browser provides native support for CSS custom properties,
*                   and 3) the ponyfill execution time in milliseconds.
* @example
*
*   cssVars({
*     rootElement   : document,
*     shadowDOM     : false,
*     include       : 'style,link[rel="stylesheet"]',
*     exclude       : '',
*     variables     : {},
*     onlyLegacy    : true,
*     preserveStatic: true,
*     preserveVars  : false,
*     silent        : false,
*     updateDOM     : true,
*     updateURLs    : true,
*     watch         : false,
*     onBeforeSend(xhr, node, url) {},
*     onError(message, node, xhr, url) {},
*     onWarning(message) {},
*     onSuccess(cssText, node, url) {},
*     onComplete(cssText, styleNode, cssVariables, benchmark) {},
*     onFinally(hasChanged, hasNativeSupport, benchmark)
*   });
*/function Lo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n="cssVars(): ",t=na({},km,e);function r(y,E,x,k){!t.silent&&window.console&&console.error("".concat(n).concat(y,`
`),E),t.onError(y,E,x,k)}function s(y){!t.silent&&window.console&&console.warn("".concat(n).concat(y)),t.onWarning(y)}function u(y){t.onFinally(Boolean(y),CA,JE()-t.__benchmark)}if(!!g_){if(t.watch){t.watch=km.watch,Yoe(t),Lo(t);return}else t.watch===!1&&xa&&(xa.disconnect(),xa=null);if(!t.__benchmark){if(Wm===t.rootElement){Xoe(e);return}var d=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(t.__benchmark=JE(),t.exclude=[xa?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",t.exclude].filter(function(y){return y}).join(","),t.variables=ele(t.variables),d.forEach(function(y){var E=y.nodeName.toLowerCase()==="style"&&y.__cssVars.text,x=E&&y.textContent!==y.__cssVars.text;E&&x&&(y.sheet&&(y.sheet.disabled=!1),y.setAttribute("data-cssvars",""))}),!xa){var p=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars="out"]'));p.forEach(function(y){var E=y.getAttribute("data-cssvars-group"),x=E?t.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(E,'"]')):null;x||y.parentNode.removeChild(y)}),af&&d.length<af&&(af=d.length,Er.dom={})}}if(document.readyState!=="loading")if(CA&&t.onlyLegacy){var g=!1;if(t.updateDOM){var _=t.rootElement.host||(t.rootElement===document?document.documentElement:t.rootElement);Object.keys(t.variables).forEach(function(y){var E=t.variables[y];g=g||E!==getComputedStyle(_).getPropertyValue(y),_.style.setProperty(y,E)})}u(g)}else!Tw&&(t.shadowDOM||t.rootElement.shadowRoot||t.rootElement.host)?xA({rootElement:km.rootElement,include:km.include,exclude:t.exclude,skipDisabled:!1,onSuccess:function(E,x,k){var T=(x.sheet||{}).disabled&&!x.__cssVars;return T?!1:(E=E.replace(Ks.cssComments,"").replace(Ks.cssMediaQueries,""),E=(E.match(Ks.cssVarDeclRules)||[]).join(""),E||!1)},onComplete:function(E,x,k){SA(E,{store:Er.dom,onWarning:s}),Tw=!0,Lo(t)}}):(Wm=t.rootElement,xA({rootElement:t.rootElement,include:t.include,exclude:t.exclude,skipDisabled:!1,onBeforeSend:t.onBeforeSend,onError:function(E,x,k){var T=E.responseURL||qL(k,location.href),I=E.statusText?"(".concat(E.statusText,")"):"Unspecified Error"+(E.status===0?" (possibly CORS related)":""),P="CSS XHR Error: ".concat(T," ").concat(E.status," ").concat(I);r(P,x,E,T)},onSuccess:function(E,x,k){var T=(x.sheet||{}).disabled&&!x.__cssVars;if(T)return!1;var I=x.nodeName.toLowerCase()==="link",P=x.nodeName.toLowerCase()==="style"&&E!==x.textContent,N=t.onSuccess(E,x,k);return E=N!==void 0&&Boolean(N)===!1?"":N||E,t.updateURLs&&(I||P)&&(E=Joe(E,k)),E},onComplete:function(E,x){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],T=na({},Er.dom,Er.user),I=!1;if(Er.job={},k.forEach(function(J,Y){var ye=x[Y];if(J.__cssVars=J.__cssVars||{},J.__cssVars.text=ye,Ks.cssVars.test(ye))try{var ve=kk(ye,{preserveStatic:t.preserveStatic,removeComments:!0});SA(ve,{parseHost:Boolean(t.rootElement.host),store:Er.dom,onWarning:s}),J.__cssVars.tree=ve}catch(Ue){r(Ue.message,J)}}),na(Er.job,Er.dom),t.updateDOM?(na(Er.user,t.variables),na(Er.job,Er.user)):(na(Er.job,Er.user,t.variables),na(T,t.variables)),I=nc.job>0&&Boolean(Object.keys(Er.job).length>Object.keys(T).length||Boolean(Object.keys(T).length&&Object.keys(Er.job).some(function(J){return Er.job[J]!==T[J]}))),I)Iw(t.rootElement),Lo(t);else{var P=[],N=[],O=!1;if(t.updateDOM&&nc.job++,k.forEach(function(J,Y){var ye=!J.__cssVars.tree;if(J.__cssVars.tree)try{Koe(J.__cssVars.tree,na({},t,{variables:Er.job,onWarning:s}));var ve=HL(J.__cssVars.tree);if(t.updateDOM){var Ue=x[Y],Ne=Ks.cssVarFunc.test(Ue);if(J.getAttribute("data-cssvars")||J.setAttribute("data-cssvars","src"),ve.length&&Ne){var ce=J.getAttribute("data-cssvars-group")||++nc.group,Ee=ve.replace(/\s/g,""),ge=t.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(ce,'"]'))||document.createElement("style");O=O||Ks.cssKeyframes.test(ve),t.preserveStatic&&J.sheet&&(J.sheet.disabled=!0),ge.hasAttribute("data-cssvars")||ge.setAttribute("data-cssvars","out"),Ee===J.textContent.replace(/\s/g,"")?(ye=!0,ge&&ge.parentNode&&(J.removeAttribute("data-cssvars-group"),ge.parentNode.removeChild(ge))):Ee!==ge.textContent.replace(/\s/g,"")&&([J,ge].forEach(function(je){je.setAttribute("data-cssvars-job",nc.job),je.setAttribute("data-cssvars-group",ce)}),ge.textContent=ve,P.push(ve),N.push(ge),ge.parentNode||J.parentNode.insertBefore(ge,J.nextSibling))}}else J.textContent.replace(/\s/g,"")!==ve&&P.push(ve)}catch(je){r(je.message,J)}ye&&J.setAttribute("data-cssvars","skip"),J.hasAttribute("data-cssvars-job")||J.setAttribute("data-cssvars-job",nc.job)}),af=t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,t.shadowDOM){for(var U=[].concat(t.rootElement).concat([].slice.call(t.rootElement.querySelectorAll("*"))),L=0,ee;ee=U[L];++L)if(ee.shadowRoot&&ee.shadowRoot.querySelector("style")){var V=na({},t,{rootElement:ee.shadowRoot});Lo(V)}}t.updateDOM&&O&&Zoe(t.rootElement),Wm=!1,t.onComplete(P.join(""),N,JSON.parse(JSON.stringify(Er.job)),JE()-t.__benchmark),u(N.length)}}}));else document.addEventListener("DOMContentLoaded",function y(E){Lo(e),document.removeEventListener("DOMContentLoaded",y)})}}Lo.reset=function(){nc.job=0,nc.group=0,Wm=!1,xa&&(xa.disconnect(),xa=null),af=0,Cw=null,Tw=!1;for(var e in Er)Er[e]={}};function Yoe(e){function n(g){var _=t(g)&&g.hasAttribute("disabled"),y=(g.sheet||{}).disabled;return _||y}function t(g){var _=g.nodeName.toLowerCase()==="link"&&(g.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return _}function r(g){return g.nodeName.toLowerCase()==="style"}function s(g){var _=!1;if(g.type==="attributes"&&t(g.target)&&!n(g.target)){var y=g.attributeName==="disabled",E=g.attributeName==="href",x=g.target.getAttribute("data-cssvars")==="skip",k=g.target.getAttribute("data-cssvars")==="src";y?_=!x&&!k:E&&(x?g.target.setAttribute("data-cssvars",""):k&&Iw(e.rootElement,!0),_=!0)}return _}function u(g){var _=!1;if(g.type==="childList"){var y=r(g.target),E=g.target.getAttribute("data-cssvars")==="out";_=y&&!E}return _}function d(g){var _=!1;return g.type==="childList"&&(_=[].slice.call(g.addedNodes).some(function(y){var E=y.nodeType===1,x=E&&y.hasAttribute("data-cssvars"),k=r(y)&&Ks.cssVars.test(y.textContent),T=!x&&(t(y)||k);return T&&!n(y)})),_}function p(g){var _=!1;return g.type==="childList"&&(_=[].slice.call(g.removedNodes).some(function(y){var E=y.nodeType===1,x=E&&y.getAttribute("data-cssvars")==="out",k=E&&y.getAttribute("data-cssvars")==="src",T=k;if(k||x){var I=y.getAttribute("data-cssvars-group"),P=e.rootElement.querySelector('[data-cssvars-group="'.concat(I,'"]'));k&&Iw(e.rootElement,!0),P&&P.parentNode.removeChild(P)}return T})),_}!window.MutationObserver||(xa&&(xa.disconnect(),xa=null),xa=new MutationObserver(function(g){var _=g.some(function(y){return s(y)||u(y)||d(y)||p(y)});_&&Lo(e)}),xa.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function Xoe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(Cw),Cw=setTimeout(function(){e.__benchmark=null,Lo(e)},n)}function Zoe(e){var n=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(x){return getComputedStyle(document.body)[x]})[0];if(n){for(var t=[].slice.call(e.querySelectorAll("*")),r=[],s="__CSSVARSPONYFILL-KEYFRAMES__",u=0,d=t.length;u<d;u++){var p=t[u],g=getComputedStyle(p)[n];g!=="none"&&(p.style[n]+=s,r.push(p))}document.body.offsetHeight;for(var _=0,y=r.length;_<y;_++){var E=r[_].style;E[n]=E[n].replace(s,"")}}}function Joe(e,n){var t=e.replace(Ks.cssComments,"").match(Ks.cssUrls)||[];return t.forEach(function(r){var s=r.replace(Ks.cssUrls,"$1"),u=qL(s,n);e=e.replace(r,r.replace(s,u))}),e}function ele(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=/^-{2}/;return Object.keys(e).reduce(function(t,r){var s=n.test(r)?r:"--".concat(r.replace(/^-+/,""));return t[s]=e[r],t},{})}function qL(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),s=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(s),r.href=n,s.href=e,s.href}function JE(){return g_&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function Iw(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=[].slice.call(e.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));t.forEach(function(r){return r.setAttribute("data-cssvars","")}),n&&(Er.dom={})}var vc=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,r=n==="x"?t:t&3|8;return r.toString(16)})},Nw=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",t={en:{OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",TRYING_TO_CONNECT:"Trying to connect\u2026",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you are being muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BADGE__OVER:"+",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTEC:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times per message.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message"}};return t[n]},Sm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function nle(e,n,t){t=t||{};var r;return typeof Sm[e]=="string"?r=Sm[e]:n===1?r=Sm[e].one:r=Sm[e].other.replace("{{count}}",n),t.addSuffix?t.comparison>0?"in "+r:r+" ago":r}function e2(e){return function(n){var t=n||{},r=t.width?String(t.width):e.defaultWidth,s=e.formats[r]||e.formats[e.defaultWidth];return s}}var tle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ile={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ale={date:e2({formats:tle,defaultWidth:"full"}),time:e2({formats:rle,defaultWidth:"full"}),dateTime:e2({formats:ile,defaultWidth:"full"})},sle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ole(e,n,t,r){return sle[e]}function Wp(e){return function(n,t){var r=t||{},s=r.context?String(r.context):"standalone",u;if(s==="formatting"&&e.formattingValues){var d=e.defaultFormattingWidth||e.defaultWidth,p=r.width?String(r.width):d;u=e.formattingValues[p]||e.formattingValues[d]}else{var g=e.defaultWidth,_=r.width?String(r.width):e.defaultWidth;u=e.values[_]||e.values[g]}var y=e.argumentCallback?e.argumentCallback(n):n;return u[y]}}var lle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ule={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ple={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function fle(e,n){var t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}var gle={ordinalNumber:fle,era:Wp({values:lle,defaultWidth:"wide"}),quarter:Wp({values:ule,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Wp({values:cle,defaultWidth:"wide"}),day:Wp({values:dle,defaultWidth:"wide"}),dayPeriod:Wp({values:hle,defaultWidth:"wide",formattingValues:ple,defaultFormattingWidth:"wide"})};function mle(e){return function(n,t){var r=String(n),s=t||{},u=r.match(e.matchPattern);if(!u)return null;var d=u[0],p=r.match(e.parsePattern);if(!p)return null;var g=e.valueCallback?e.valueCallback(p[0]):p[0];return g=s.valueCallback?s.valueCallback(g):g,{value:g,rest:r.slice(d.length)}}}function Kp(e){return function(n,t){var r=String(n),s=t||{},u=s.width,d=u&&e.matchPatterns[u]||e.matchPatterns[e.defaultMatchWidth],p=r.match(d);if(!p)return null;var g=p[0],_=u&&e.parsePatterns[u]||e.parsePatterns[e.defaultParseWidth],y;return Object.prototype.toString.call(_)==="[object Array]"?y=_le(_,function(E){return E.test(g)}):y=vle(_,function(E){return E.test(g)}),y=e.valueCallback?e.valueCallback(y):y,y=s.valueCallback?s.valueCallback(y):y,{value:y,rest:r.slice(g.length)}}}function vle(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function _le(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}var ble=/^(\d+)(th|st|nd|rd)?/i,yle=/\d+/i,Ele={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wle={any:[/^b/i,/^(a|c)/i]},xle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kle={any:[/1/i,/2/i,/3/i,/4/i]},Sle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ile={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ole={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ale={ordinalNumber:mle({matchPattern:ble,parsePattern:yle,valueCallback:function(e){return parseInt(e,10)}}),era:Kp({matchPatterns:Ele,defaultMatchWidth:"wide",parsePatterns:wle,defaultParseWidth:"any"}),quarter:Kp({matchPatterns:xle,defaultMatchWidth:"wide",parsePatterns:kle,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Kp({matchPatterns:Sle,defaultMatchWidth:"wide",parsePatterns:Cle,defaultParseWidth:"any"}),day:Kp({matchPatterns:Tle,defaultMatchWidth:"wide",parsePatterns:Ile,defaultParseWidth:"any"}),dayPeriod:Kp({matchPatterns:Nle,defaultMatchWidth:"any",parsePatterns:Ole,defaultParseWidth:"any"})},Rle={code:"en-US",formatDistance:nle,formatLong:ale,formatRelative:ole,localize:gle,match:Ale,options:{weekStartsOn:0,firstWeekContainsDate:1}},BL=Rle,Is=S.createContext({stringSet:Nw("en"),dateLocale:BL}),Mle=function(n){var t=n.children;return S.createElement(Is.Provider,{value:n},t)},l0=function(){return S.useContext(Is)},jL="INIT_SDK",Sk="SET_SDK_LOADING",Ck="RESET_SDK",Ow="SDK_ERROR",Dle="3.1.3",Ule=function(n){var t=n.sdkDispatcher,r=n.userDispatcher,s=n.sdk,u=n.onDisconnect;t({type:Sk,payload:!0}),s&&s.disconnect?s.disconnect().then(function(){t({type:Ck}),r({type:xk})}).finally(function(){u()}):u()},TA=function(n,t){var r=n.userId,s=n.appId,u=n.nickname,d=n.profileUrl,p=n.accessToken,g=n.configureSession,_=n.customApiHost,y=n.customWebSocketHost,E=n.sdk,x=n.logger,k=t.sdkDispatcher,T=t.userDispatcher;Ule({sdkDispatcher:k,userDispatcher:T,sdk:E,logger:x,onDisconnect:function(){x.info("Setup connection");var P=null;if(k({type:Sk,payload:!0}),r&&s){var N={appId:s,modules:[new Poe,new lse]};_&&(N.customApiHost=_),y&&(N.customWebSocketHost=y);var O=$ae.init(N);g&&typeof g=="function"&&(P=g(O),O.setSessionHandler(P)),O.addExtension("sb_uikit",Dle);var U=function(V){k({type:jL,payload:O}),T({type:NL,payload:V}),(u!==V.nickname||d!==V.profileUrl)&&!(bA(u)&&bA(d))&&O.updateCurrentUserInfo({nickname:u||V.nickname,profileUrl:d||V.profileUrl}).then(function(J){T({type:OL,payload:J})})},L=function(V){x.error("Connection failed","".concat(V)),k({type:Ck}),k({type:xk}),k({type:Ow})};p?O.connect(r,p).then(function(ee){return U(ee)}).catch(function(ee){return L(ee)}):O.connect(r).then(function(ee){return U(ee)}).catch(function(ee){return L(ee)})}else k({type:Ow}),x.warning("Connection failed","UserId or appId missing")}})},Lle=function(n){if(n==null)return!0;for(var t in n)if(n.hasOwnProperty(t))return!1;return JSON.stringify(n)===JSON.stringify({})},Ple=function(n){de.exports.useLayoutEffect(function(){Lle(n)||Lo({variables:hn({"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},n)})},[n])},GL={initialized:!1,loading:!1,sdk:{},error:!1};function Fle(e,n){switch(n.type){case Sk:return ur(ur({},e),{},{initialized:!1,loading:n.payload});case Ow:return ur(ur({},e),{},{initialized:!1,loading:!1,error:!0});case jL:return{sdk:n.payload,initialized:!0,loading:!1,error:!1};case Ck:return GL;default:return e}}var $L={initialized:!1,loading:!1,user:{}};function Hle(e,n){switch(n.type){case NL:return{initialized:!0,loading:!1,user:n.payload};case xk:return $L;case OL:return ur(ur({},e),{},{user:n.payload});default:return e}}function zle(e,n){var t=de.exports.useState(!0),r=Do(t,2),s=r[0],u=r[1];return de.exports.useEffect(function(){var d=vc();try{n.warning("sdk changed",d);var p=new aL;p.onDisconnected=function(){n.warning("onDisconnected",{isOnline:s})},p.onReconnectStarted=function(){u(!1),n.warning("onReconnectStarted",{isOnline:s})},p.onReconnectSucceeded=function(){u(!0),n.warning("onReconnectSucceeded",{isOnline:s})},p.onReconnectFailed=function(){e.reconnect(),n.warning("onReconnectFailed")},n.info("Added ConnectionHandler",d),e!=null&&e.addConnectionHandler&&e.addConnectionHandler(d,p)}catch{}return function(){try{e.removeConnectionHandler(d),n.info("Removed ConnectionHandler",d)}catch{}}},[e]),de.exports.useEffect(function(){var d=function(){try{n.warning("Try reconnecting SDK"),e.connectionState!=="OPEN"&&e.reconnect()}catch{}};return window.addEventListener("online",d),function(){window.removeEventListener("online",d)}},[e]),de.exports.useEffect(function(){var d=document.querySelector("body");if(s)try{d.classList.remove("sendbird__offline"),n.info("Removed class sendbird__offline from body")}catch{}else try{d.classList.add("sendbird__offline"),n.info("Added class sendbird__offline to body")}catch{}},[s]),s}var Ea={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},qle=function(n){switch(n){case Ea.WARNING:return"color: Orange";case Ea.ERROR:return"color: Red";default:return"color: Gray"}},Ble=function(n){var t=n.level,r=n.title,s=n.description,u=s===void 0?"":s;console.log("%c SendbirdUIKit | ".concat(t," | ").concat(new Date().toISOString()," | ").concat(r," ").concat(u&&"|"),qle(t),u)},jle=function(){return{info:function(){},error:function(){},warning:function(){}}},IA=function(n,t){var r=t||Ble,s=Array.isArray(n)?n:[n],u=function(g){return function(_,y){return r({level:g,title:_,description:y})}},d=s.reduce(function(p,g){return g===Ea.DEBUG||g===Ea.ALL?ur(ur({},p),{},{info:u(Ea.INFO),error:u(Ea.ERROR),warning:u(Ea.WARNING)}):g===Ea.INFO?ur(ur({},p),{},{info:u(Ea.INFO)}):g===Ea.ERROR?ur(ur({},p),{},{error:u(Ea.ERROR)}):g===Ea.WARNING?ur(ur({},p),{},{warning:u(Ea.WARNING)}):ur({},p)},jle());return d},Gle=function(){var e={},n=e.hasOwnProperty;return{__getTopics:function(){return e},subscribe:function(r,s){n.call(e,r)||(e[r]=[]);var u=e[r].push(s)-1;return{remove:function(){delete e[r][u]}}},publish:function(r,s){!n.call(e,r)||e[r].forEach(function(u){u(s!==void 0?s:{})})}}};function $le(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;de.exports.useEffect(function(){var t=document.querySelector(n);return e.forEach(function(r){var s=document.createElement("div");s.setAttribute("id",r),t.appendChild(s)}),function(){e.forEach(function(r){var s=document.getElementById(r);s&&t.removeChild(s)})}},[])}function Tk(e){var n=e.userId,t=e.dateLocale,r=e.appId,s=e.accessToken,u=e.configureSession,d=e.customApiHost,p=e.customWebSocketHost,g=e.children,_=e.disableUserProfile,y=e.renderUserProfile,E=e.allowProfileEdit,x=e.theme,k=e.nickname,T=e.profileUrl,I=e.userListQuery,P=e.config,N=P===void 0?{}:P,O=e.colorSet,U=e.stringSet,L=e.imageCompression,ee=e.isReactionEnabled,V=e.isMentionEnabled,J=e.isTypingIndicatorEnabledOnChannelList,Y=e.isMessageReceiptStatusEnabledOnChannelList,ye=N.logLevel,ve=ye===void 0?"":ye,Ue=N.userMention,Ne=Ue===void 0?{}:Ue,ce=N.isREMUnitEnabled,Ee=ce===void 0?!1:ce,ge=de.exports.useState(IA(ve)),je=Do(ge,2),Xe=je[0],Te=je[1],ze=de.exports.useState(),Ze=Do(ze,2),oe=Ze[0],ne=Ze[1],ke=de.exports.useReducer(Fle,GL),en=Do(ke,2),Fe=en[0],Me=en[1],Ie=de.exports.useReducer(Hle,$L),Ye=Do(Ie,2),ln=Ye[0],xn=Ye[1];Ple(O),de.exports.useEffect(function(){ne(Gle())},[]),de.exports.useEffect(function(){Xe.info("App Init"),TA({userId:n,appId:r,accessToken:s,sdkStore:Fe,nickname:k,profileUrl:T,configureSession:u,customApiHost:d,customWebSocketHost:p,sdk:Fe.sdk,logger:Xe},{sdkDispatcher:Me,userDispatcher:xn})},[n,r,s]),de.exports.useEffect(function(){Te(IA(ve))},[ve]),$le(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");var Fn=de.exports.useState(x),dn=Do(Fn,2),Un=dn[0],gn=dn[1];de.exports.useEffect(function(){gn(x)},[x]),de.exports.useEffect(function(){var Mn=document.querySelector("body");Mn.classList.remove("sendbird-experimental__rem__units"),Ee&&Mn.classList.add("sendbird-experimental__rem__units")},[Ee]),de.exports.useEffect(function(){Xe.info("Setup theme","Theme: ".concat(Un));try{var Mn=document.querySelector("body");Mn.classList.remove("sendbird-theme--light"),Mn.classList.remove("sendbird-theme--dark"),Mn.classList.add("sendbird-theme--".concat(Un||"light")),Xe.info("Finish setup theme")}catch(j){Xe.warning("Setup theme failed","".concat(j))}return function(){try{var j=document.querySelector("body");j.classList.remove("sendbird-theme--light"),j.classList.remove("sendbird-theme--dark")}catch{}}},[Un]);var zn=zle(Fe.sdk,Xe),kn=S.useMemo(function(){return U?ur(ur({},Nw("en")),U):Nw("en")},[U]);return S.createElement(ok.Provider,{value:{stores:{sdkStore:Fe,userStore:ln},dispatchers:{sdkDispatcher:Me,userDispatcher:xn,reconnect:function(){TA({userId:n,appId:r,accessToken:s,sdkStore:Fe,nickname:k,profileUrl:T,logger:Xe,sdk:Fe.sdk},{sdkDispatcher:Me,userDispatcher:xn})}},config:{disableUserProfile:_,renderUserProfile:y,allowProfileEdit:E,isOnline:zn,userId:n,appId:r,accessToken:s,theme:Un,setCurrenttheme:gn,userListQuery:I,logger:Xe,pubSub:oe,imageCompression:L,isReactionEnabled:ee,isMentionEnabled:V||!1,userMention:{maxMentionCount:(Ne==null?void 0:Ne.maxMentionCount)||10,maxSuggestionCount:(Ne==null?void 0:Ne.maxSuggestionCount)||15},isTypingIndicatorEnabledOnChannelList:J,isMessageReceiptStatusEnabledOnChannelList:Y}}},S.createElement(Mle,{stringSet:kn,dateLocale:t},g))}Tk.propTypes={userId:_e.exports.string.isRequired,appId:_e.exports.string.isRequired,accessToken:_e.exports.string,customApiHost:_e.exports.string,customWebSocketHost:_e.exports.string,configureSession:_e.exports.func,children:_e.exports.oneOfType([_e.exports.element,_e.exports.arrayOf(_e.exports.element),_e.exports.any]).isRequired,theme:_e.exports.string,nickname:_e.exports.string,dateLocale:_e.exports.shape({}),profileUrl:_e.exports.string,disableUserProfile:_e.exports.bool,renderUserProfile:_e.exports.func,allowProfileEdit:_e.exports.bool,userListQuery:_e.exports.func,config:_e.exports.shape({logLevel:_e.exports.oneOfType([_e.exports.string,_e.exports.arrayOf(_e.exports.string)]),pubSub:_e.exports.shape({subscribe:_e.exports.func,publish:_e.exports.func}),userMention:_e.exports.shape({maxMentionCount:_e.exports.number,maxSuggestionCount:_e.exports.number}),isREMUnitEnabled:_e.exports.bool}),stringSet:_e.exports.objectOf(_e.exports.string),colorSet:_e.exports.objectOf(_e.exports.string),isReactionEnabled:_e.exports.bool,isMentionEnabled:_e.exports.bool,imageCompression:_e.exports.shape({compressionRate:_e.exports.number,resizingWidth:_e.exports.oneOfType([_e.exports.number,_e.exports.string]),resizingHeight:_e.exports.oneOfType([_e.exports.number,_e.exports.string])}),isTypingIndicatorEnabledOnChannelList:_e.exports.bool,isMessageReceiptStatusEnabledOnChannelList:_e.exports.bool};Tk.defaultProps={accessToken:"",customApiHost:null,customWebSocketHost:null,configureSession:null,theme:"light",nickname:"",dateLocale:null,profileUrl:"",disableUserProfile:!1,renderUserProfile:null,allowProfileEdit:!1,userListQuery:null,config:{},stringSet:null,colorSet:null,imageCompression:{},isReactionEnabled:!0,isMentionEnabled:!1,isTypingIndicatorEnabledOnChannelList:!1,isMessageReceiptStatusEnabledOnChannelList:!1};var Vle=`.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        margin-left: 8px;
        margin-bottom: 12px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap");
:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50:  #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50:  #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }

:root {
  --sendbird-iconbutton-color: #825eeb;
  --sendbird-message-input-border-active: #7B53EF;
  --sendbird-selected-reaction-button-border-hover: #9E8CF5;
  --sendbird-add-reaction-button-border-hover: #9E8CF5;
  --sendbird-tooltip-background: #000000;
  --sendbird-tooltip-text-color: rgba(255, 255, 255, 0.88);
  --sendbird-button-border-focus: #FFFFFF;
  --sendbird-file-message-icon-background: #FFFFFF;
  --sendbird-font-family-default: 'Roboto', sans-serif;
  --sendbird-message-balloon-width: 404px; }

.sendbird-experimental__rem__units .sendbird-label--h-1 {
  font-size: 1.25rem; }

.sendbird-experimental__rem__units .sendbird-label--h-2 {
  font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-1 {
  font-size: 1rem; }

.sendbird-experimental__rem__units .sendbird-label--subtitle-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--body-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--button-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--button-2 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-1 {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-2 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-label--caption-3 {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-checkbox {
  font-size: 1.375rem; }

.sendbird-experimental__rem__units .sendbird-mention-user-label {
  font-size: .875rem; }
  .sendbird-experimental__rem__units .sendbird-mention-user-label.purple {
    font-size: 1.125rem; }

.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--textarea,
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-input .sendbird-input__input,
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__placeholder {
  font-size: .875rem; }

.sendbird-experimental__rem__units .sendbird-tooltip__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  font-size: .75rem; }

.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message__file-message {
  font-size: .75rem; }

.sendbird-channel-list {
  width: 320px;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-list {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-list {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-channel-list__header {
  height: 64px;
  min-height: 64px; }

.sendbird-channel-list__body {
  flex: 1 1 0;
  -ms-flex: 1;
  overflow-y: auto;
  overflow-x: hidden; }

[class*=sendbird-label] {
  font-family: var(--sendbird-font-family-default); }

.sendbird-label--h-1 {
  font-size: 20px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.4;
  letter-spacing: -0.2px; }

.sendbird-label--h-2 {
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-1 {
  font-size: 16px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.38;
  letter-spacing: -0.2px; }

.sendbird-label--subtitle-2 {
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.14;
  letter-spacing: -0.2px; }

.sendbird-label--body-1 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--body-2 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal; }

.sendbird-label--button-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--button-2 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }

.sendbird-label--caption-2 {
  font-size: 12px;
  font-weight: bold;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-label--caption-3 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal; }

.sendbird-theme--light .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-iconbutton {
  color: var(--sendbird-iconbutton-color);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 3px;
  background-color: transparent;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  border: 1px solid transparent;
  border-radius: 4px;
  outline: 0px; }
  .sendbird-iconbutton .sendbird-iconbutton__inner {
    height: 100%; }
    .sendbird-theme--light .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-iconbutton .sendbird-iconbutton__inner svg {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-iconbutton:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-iconbutton:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-iconbutton:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-iconbutton:active {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-iconbutton:disabled {
    cursor: not-allowed !important; }
    .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
      fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-channel-header {
  position: relative;
  height: 64px;
  min-height: 64px;
  width: 320px;
  padding: 8px 64px 8px 8px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-header.sendbird-channel-header--allow-edit .sendbird-channel-header__title {
    cursor: pointer; }
  .sendbird-channel-header .sendbird-channel-header__title {
    display: flex;
    flex-direction: row;
    width: 260px;
    height: 48px;
    border-radius: 4px; }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:hover {
      background: var(--sendbird-dark-background-500); }
    .sendbird-channel-header .sendbird-channel-header__title:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:focus {
        background: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:active {
      border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__left {
      width: 48px;
      padding: 8px;
      box-sizing: border-box; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right {
      margin-left: 4px;
      padding-top: 8px; }
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__name,
    .sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__user-id {
      display: block;
      max-width: 200px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-channel-header .sendbird-channel-header__right-icon {
    position: absolute;
    right: 16px;
    top: 16px; }

.sendbird-image-renderer {
  overflow: hidden;
  position: relative; }

.sendbird-image-renderer__hidden-image-loader {
  display: none; }

.sendbird-icon {
  display: inline-block; }
  .sendbird-icon:focus {
    outline: none; }

.sendbird-theme--light .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='fill'] {
  fill: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-light-primary-300);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--dark .sendbird-icon-color--primary [class*='stroke'] {
  stroke: var(--sendbird-dark-primary-200);
  stroke-width: 2px;
  stroke-linejoin: round; }

.sendbird-theme--light .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--secondary [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-icon-color--content [class*='fill'] {
  fill: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--content-inverse [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-icon-color--white [class*='fill'] {
  fill: #ffffff; }

.sendbird-icon-color--gray [class*='fill'] {
  fill: var(--sendbird-light-onlight-04); }

.sendbird-theme--light .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--sent [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-icon-color--read [class*='fill'] {
  fill: var(--sendbird-dark-secondary-200); }

.sendbird-theme--light .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-icon-color--on-background-1 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-icon-color--on-background-2 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-icon-color--on-background-3 [class*='fill'] {
  fill: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-light-background-300); }

.sendbird-theme--dark .sendbird-icon-color--background-3 [class*='fill'] {
  fill: var(--sendbird-dark-background-400); }

.sendbird-theme--light .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-icon-color--error [class*='fill'] {
  fill: var(--sendbird-dark-error-200); }

.sendbird-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  position: relative; }
  .sendbird-avatar:focus {
    outline: none; }
  .sendbird-avatar .sendbird-avatar-img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:first-child {
    transform: translate(2%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:last-child {
    transform: translate(-102%, -50%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--upper .sendbird-avatar-img:first-child {
    transform: translate(-50%, -102%); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:first-child {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:first-child {
    transform: translate(-77%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(2) {
    transform: translate(-23%, -77%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(3) {
    transform: translate(-77%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:last-child {
    transform: translate(-23%, -23%) scale(0.5); }
  .sendbird-avatar .sendbird-avatar-img--default {
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-light-background-300); }
    .sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img--default {
      background-color: var(--sendbird-dark-background-300); }

.sendbird-add-channel__rectangle-wrap {
  margin-top: 26px; }

.sendbird-add-channel__rectangle-footer {
  text-align: right;
  margin-top: 32px; }

.sendbird-add-channel__rectangle {
  width: 432px;
  height: 72px;
  border-radius: 4px;
  margin-bottom: 8px;
  padding: 25px 72px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-add-channel__rectangle {
    border: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-add-channel__rectangle .sendbird-icon {
    position: absolute;
    left: 22px;
    top: 24px; }

.sendbird-create-channel--content {
  width: 480px;
  max-height: 552px; }

.sendbird-create-channel--scroll {
  height: 360px;
  overflow-y: auto; }

.sendbird-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center; }

.sendbird-modal__content {
  width: 480px;
  border-radius: 4px;
  z-index: 10001;
  padding: 18px 24px 24px 24px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-modal__content {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-04); }
  .sendbird-theme--dark .sendbird-modal__content {
    background-color: var(--sendbird-dark-background-500);
    box-shadow: var(--sendbird-dark-shadow-04); }
  .sendbird-modal__content .sendbird-modal__close {
    position: absolute;
    top: 16px;
    right: 16px;
    cursor: pointer; }
    .sendbird-theme--light .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-modal__content .sendbird-modal__close path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-modal__content .sendbird-modal__header {
    margin-bottom: 16px; }
  .sendbird-modal__content .sendbird-modal__body {
    height: calc(100% - 116px); }
  .sendbird-modal__content .sendbird-modal__footer {
    margin-top: 32px;
    text-align: right; }
    .sendbird-modal__content .sendbird-modal__footer .sendbird-button:last-child {
      margin-left: 8px;
      width: 80px;
      height: 40px; }

.sendbird-modal__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0; }
  .sendbird-theme--light .sendbird-modal__backdrop {
    background-color: var(--sendbird-light-overlay-02); }
  .sendbird-theme--dark .sendbird-modal__backdrop {
    background-color: var(--sendbird-dark-overlay-02); }

.sendbird-button {
  display: inline-block;
  box-shadow: none;
  border-radius: 4px;
  padding: 0px;
  font-family: var(--sendbird-font-family-default);
  cursor: pointer; }
  .sendbird-button:hover {
    box-shadow: none; }
  .sendbird-button:focus {
    outline: none; }
  .sendbird-button:active {
    box-shadow: none; }
  .sendbird-button.sendbird-button__disabled {
    cursor: not-allowed; }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled {
      border: none;
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button.sendbird-button__disabled:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-button--big {
  height: 40px; }
  .sendbird-button--big .sendbird-button__text {
    margin: 10px 16px; }

.sendbird-button--small {
  height: 32px; }
  .sendbird-button--small .sendbird-button__text {
    margin: 6px 16px; }

.sendbird-theme--light .sendbird-button--primary {
  border: 1px solid var(--sendbird-light-primary-300);
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-button--primary {
  border: 1px solid var(--sendbird-dark-primary-200);
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--primary:hover {
  background-color: var(--sendbird-light-primary-400);
  border-color: var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:hover {
  background-color: var(--sendbird-dark-primary-300);
  border-color: var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-button-border-focus); }

.sendbird-theme--light .sendbird-button--primary:active {
  background-color: var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:active {
  background-color: var(--sendbird-dark-primary-400); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-400); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-300); }

.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-500); }

.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-400); }

.sendbird-button--secondary {
  background-color: transparent; }
  .sendbird-theme--light .sendbird-button--secondary {
    border: 1px solid var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-button--secondary {
    border: 1px solid var(--sendbird-dark-ondark-03); }
  .sendbird-theme--light .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-button--secondary .sendbird-button__text {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:hover {
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary.sendbird-button__disabled {
    cursor: not-allowed;
    border: none; }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled {
      background-color: var(--sendbird-dark-background-400); }
    .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-light-onlight-02); }
    .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
      color: var(--sendbird-dark-ondark-02); }
    .sendbird-button--secondary.sendbird-button__disabled:hover {
      border: none; }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover {
        background-color: var(--sendbird-dark-background-400); }
      .sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-light-onlight-02); }
      .sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
        color: var(--sendbird-dark-ondark-02); }
  .sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
    color: var(--sendbird-dark-primary-200); }
  .sendbird-button--secondary:focus {
    border: 1px solid transparent;
    background-color: transparent; }
    .sendbird-theme--light .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-light-primary-300) 0px 0px 0px 2px; }
    .sendbird-theme--dark .sendbird-button--secondary:focus {
      box-shadow: var(--sendbird-dark-primary-200) 0px 0px 0px 2px; }
    .sendbird-theme--light .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-button--secondary:focus .sendbird-button__text {
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-button--secondary:active {
    box-shadow: none; }
    .sendbird-theme--light .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active {
      border: 1px solid var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-button--secondary:active .sendbird-button__text {
      color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-button--danger {
  border: 1px solid var(--sendbird-light-error-300);
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-button--danger {
  border: 1px solid var(--sendbird-dark-error-200);
  background-color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-button--danger:hover {
  background-color: var(--sendbird-light-error-400);
  border-color: var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover {
  background-color: var(--sendbird-dark-error-400);
  border-color: var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-theme--dark .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-300);
  border-color: var(--sendbird-button-border-focus); }

.sendbird-button--danger:active {
  box-shadow: none; }
  .sendbird-theme--light .sendbird-button--danger:active {
    background-color: var(--sendbird-light-error-500); }
  .sendbird-theme--dark .sendbird-button--danger:active {
    background-color: var(--sendbird-dark-error-500); }

.sendbird-theme--light .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-400); }

.sendbird-theme--dark .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-400); }

.sendbird-theme--light .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-500); }

.sendbird-theme--dark .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-500); }

.sendbird-button--disabled {
  border: 1px solid transparent;
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-button--disabled {
    background-color: var(--sendbird-light-background-200);
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-button--disabled {
    background-color: var(--sendbird-dark-background-400);
    color: var(--sendbird-dark-onlight-01); }

.sendbird-user-list-item {
  display: block;
  position: relative;
  box-sizing: border-box;
  width: 432px;
  height: 56px; }
  .sendbird-theme--light .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-user-list-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item .sendbird-user-list-item__avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    cursor: pointer; }
  .sendbird-user-list-item .sendbird-muted-avatar {
    position: absolute;
    top: 8px;
    left: 0px;
    pointer-events: none; }
  .sendbird-user-list-item .sendbird-user-list-item__title {
    position: absolute;
    top: 17px;
    left: 56px;
    max-width: 250px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item .sendbird-user-list-item__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item .sendbird-user-list-item__action {
    position: absolute;
    right: 0;
    top: 10px; }
  .sendbird-user-list-item .sendbird-user-list-item__operator {
    position: absolute;
    right: 40px;
    top: 22px; }
    .sendbird-user-list-item .sendbird-user-list-item__operator.checkbox {
      right: 66px; }

.sendbird-muted-avatar {
  border-radius: 50%;
  display: inline-block; }
  .sendbird-muted-avatar .sendbird-muted-avatar__icon {
    position: relative; }
    .sendbird-muted-avatar .sendbird-muted-avatar__icon .sendbird-icon {
      position: absolute;
      top: 4px;
      left: 4px; }
  .sendbird-muted-avatar .sendbird-muted-avatar__bg {
    opacity: .5;
    position: absolute;
    border-radius: 50%;
    top: 0;
    left: 0; }
    .sendbird-theme--light .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-muted-avatar .sendbird-muted-avatar__bg {
      background-color: var(--sendbird-dark-primary-300); }

.sendbird-checkbox {
  display: inline-block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none; }

.sendbird-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0; }

.sendbird-checkbox--checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  border-radius: 2px;
  background-color: inherit; }
  .sendbird-theme--light .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-light-background-400); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark {
    border: solid 2px var(--sendbird-dark-background-300); }
  .sendbird-theme--light .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-checkbox--checkmark.disabled {
    border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-light-primary-300);
  border: solid 2px var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-dark-primary-200);
  border: solid 2px var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-light-onlight-04);
  border: solid 2px var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-dark-ondark-04);
  border: solid 2px var(--sendbird-dark-ondark-04); }

.sendbird-checkbox--checkmark:after {
  content: "";
  position: absolute;
  display: none; }

.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark:after {
  display: block; }

.sendbird-theme--light .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-light-background-50);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird-theme--dark .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-dark-background-600);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg); }

.sendbird__user-profile {
  width: 320px;
  border-radius: 4px;
  padding: 24px;
  box-sizing: border-box;
  text-align: center; }
  .sendbird-theme--light .sendbird__user-profile {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird__user-profile {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird__user-profile .sendbird__user-profile-avatar {
    margin: 8px 0px; }
  .sendbird__user-profile .sendbird__user-profile-name {
    max-width: 250px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis; }
  .sendbird__user-profile .sendbird__user-profile-message {
    margin-top: 20px; }
    .sendbird__user-profile .sendbird__user-profile-message button {
      width: 272px; }
  .sendbird__user-profile .sendbird__user-profile-separator {
    margin: 24px 0px;
    height: 1px; }
    .sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-separator {
      background-color: var(--sendbird-dark-ondark-04); }
  .sendbird__user-profile .sendbird__user-profile-userId--label,
  .sendbird__user-profile .sendbird__user-profile-userId--value {
    display: block;
    text-align: left; }
  .sendbird__user-profile .sendbird__user-profile-userId--label {
    margin-bottom: 8px; }

.sendbird-context-menu {
  display: 'inline'; }

.sendbird__offline .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: not-allowed; }

.sendbird-dropdown__menu {
  z-index: 99999;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 140px;
  margin: 0px;
  padding: 8px 0px;
  border-radius: 4px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__menu {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
    cursor: pointer;
    white-space: nowrap;
    padding: 8px 16px; }
    .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
        background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
      background-color: var(--sendbird-dark-background-400); }

.sendbird-dropdown__reaction-bar {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 44px;
  max-width: 352px;
  max-height: 208px;
  overflow-y: scroll;
  margin: 0px;
  padding: 8px;
  border-radius: 8px;
  list-style: none; }
  .sendbird-theme--light .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-light-shadow-02);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-dropdown__reaction-bar {
    box-shadow: var(--sendbird-dark-shadow-02);
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button, .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button--selected {
    margin: 4px; }

.sendbird-dropdown__menu-backdrop {
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; }

.sendbird-sort-by-row {
  display: flex;
  justify-content: flex-start;
  align-items: center; }

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed; }

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px; }
  .sendbird-theme--light .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-preview {
    border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-preview:focus {
    outline: none; }
  .sendbird-channel-preview .sendbird-channel-preview__avatar {
    width: 56px;
    height: 56px; }
  .sendbird-channel-preview .sendbird-channel-preview__content {
    width: 100%;
    height: 100%;
    margin-left: 16px; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
      display: flex;
      justify-content: space-between;
      width: 216px;
      height: 16px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
        display: flex;
        justify-content: flex-start;
        overflow: hidden;
        text-overflow: ellipsis; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
          padding-right: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 128px;
          word-break: break-all;
          white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
          margin-top: 2px;
          margin-left: 4px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
          padding-left: 4px; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
        margin-left: 4px;
        margin-bottom: 4px;
        white-space: nowrap; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at.sendbird-message-status {
          max-width: 74px;
          justify-content: flex-end; }
    .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
      margin-top: 8px;
      width: 216px;
      height: 32px;
      display: flex;
      justify-content: space-between; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
        overflow: hidden;
        text-overflow: ellipsis; }
      .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
        display: flex;
        align-items: center;
        margin-left: 8px;
        margin-bottom: 12px; }
        .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count .sendbird-channel-preview__content__lower__unread-message-count__mention {
          display: inline-flex;
          align-items: center;
          margin-right: 4px; }
  .sendbird-channel-preview .sendbird-channel-preview__action {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-block; }
    .sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
      display: none; }
  .sendbird-theme--light .sendbird-channel-preview:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-channel-preview:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
    display: inline-block; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
    display: none; }
  .sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
    display: none; }

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px; }
  .sendbird-theme--light .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-light-primary-300);
    border-bottom: solid 1px var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-channel-preview--active {
    border-left: solid 4px var(--sendbird-dark-primary-200);
    border-bottom: solid 1px var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
    color: var(--sendbird-dark-primary-200); }

.sendbird-chat-header--default-avatar {
  width: 56px;
  height: 56px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-light-secondary-300); }
  .sendbird-theme--dark .sendbird-chat-header--default-avatar {
    background-color: var(--sendbird-dark-secondary-200); }

.sendbird-badge {
  height: 20px;
  min-width: 20px;
  border-radius: 10px;
  display: inline-block; }
  .sendbird-theme--light .sendbird-badge {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-badge {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-badge .sendbird-badge__text {
    margin: 0px 6px; }

.sendbird-mention-user-label {
  display: inline-block;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal; }
  .sendbird-mention-user-label:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-mention-user-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-mention-user-label {
    color: var(--sendbird-dark-ondark-01); }
  .sendbird-theme--light .sendbird-mention-user-label.reverse {
    color: var(--sendbird-light-ondark-01); }
  .sendbird-theme--dark .sendbird-mention-user-label.reverse {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-mention-user-label.purple {
    font-family: Roboto;
    font-size: 18px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: normal;
    letter-spacing: normal; }
    .sendbird-theme--light .sendbird-mention-user-label.purple {
      color: var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-mention-user-label.purple {
      color: var(--sendbird-dark-primary-200); }

.sendbird-reaction-button {
  border-radius: 8px;
  display: inline-block;
  border: solid 1px transparent;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-light-background-100);
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-button:hover {
    border: solid 1px var(--sendbird-dark-background-400);
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-reaction-button__inner {
    margin: 3px; }

.sendbird-reaction-button--selected {
  cursor: pointer;
  border-radius: 8px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-light-primary-100);
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-button--selected {
    border: solid 1px var(--sendbird-dark-primary-400);
    background-color: var(--sendbird-dark-primary-400); }
  .sendbird-reaction-button--selected:hover {
    border: solid 1px var(--sendbird-selected-reaction-button-border-hover); }
  .sendbird-reaction-button--selected__inner {
    margin: 3px; }
  .sendbird-reaction-button--selected.sendbird-reactions--pressed {
    display: block !important; }

.sendbird-message-status {
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  width: 100%;
  height: 100%; }
  .sendbird-message-status .sendbird-message-status__icon {
    position: relative;
    display: inline-block;
    top: -2px; }
    .sendbird-message-status .sendbird-message-status__icon.hide-icon {
      display: none; }
  .sendbird-message-status .sendbird-message-status__text {
    position: relative;
    display: inline-block;
    margin-left: 4px; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again:hover {
        cursor: pointer; }
    .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete {
      text-decoration: underline; }
      .sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete:hover {
        cursor: pointer; }

.sendbird-loader {
  display: inline-block;
  -webkit-animation: 1s infinite linear;
          animation: 1s infinite linear;
  -webkit-animation-name: rotate;
          animation-name: rotate; }

@-webkit-keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

@keyframes rotate {
  from {
    transform: rotate(0); }
  to {
    transform: rotate(360deg); } }

.sendbird-edit-user-profile section {
  margin-top: 16px; }
  .sendbird-edit-user-profile section .sendbird-input-label {
    display: block;
    margin-bottom: 12px; }

.sendbird-edit-user-profile .sendbird-edit-user-profile__img .sendbird-input-label {
  margin-bottom: 12px; }

.sendbird-edit-user-profile__img {
  position: relative; }

.sendbird-edit-user-profile__img__avatar-button {
  position: absolute;
  top: 50px;
  left: 96px; }

.sendbird-edit-user-profile__theme__theme-icon .sendbird-icon {
  cursor: pointer; }

.sendbird-input {
  display: inline-block;
  width: 100%;
  height: 40px;
  position: relative; }
  .sendbird-input .sendbird-input__input {
    width: 100%;
    height: 100%;
    border-radius: 4px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    letter-spacing: normal;
    padding: 10px 16px;
    box-sizing: border-box;
    background-color: inherit; }
    .sendbird-theme--light .sendbird-input .sendbird-input__input {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03); }
    .sendbird-input .sendbird-input__input:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-light-onlight-01);
        border: solid 2px var(--sendbird-light-primary-300); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:focus {
        box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
        color: var(--sendbird-dark-ondark-01);
        border: solid 2px var(--sendbird-dark-primary-200); }
    .sendbird-theme--light .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-light-onlight-01);
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__input:active {
      box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
      color: var(--sendbird-dark-ondark-01);
      border: solid 1px var(--sendbird-dark-primary-200); }
    .sendbird-input .sendbird-input__input:disabled {
      cursor: not-allowed; }
      .sendbird-theme--light .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-light-background-100);
        color: var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-input .sendbird-input__input:disabled {
        background-color: var(--sendbird-dark-background-500);
        color: var(--sendbird-dark-ondark-03); }
  .sendbird-input .sendbird-input__placeholder {
    position: absolute;
    pointer-events: none;
    top: 10px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-input .sendbird-input__placeholder {
      color: var(--sendbird-dark-ondark-03); }

.sendbird-input-label {
  margin: 4px 0; }

.sendbird-textbutton {
  text-decoration: underline;
  cursor: pointer;
  display: inline-block; }

.sendbird-textbutton--not-underline {
  text-decoration: none;
  cursor: pointer; }

.sendbird-textbutton--disabled {
  cursor: not-allowed; }
  .sendbird-theme--light .sendbird-textbutton--disabled {
    color: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-textbutton--disabled {
    color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-color--onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-color--onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-color--onbackground-4 {
  color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4 {
  color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-light-onlight-04); }

.sendbird-theme--dark .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-dark-ondark-04); }

.sendbird-theme--light .sendbird-color--oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-color--primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--primary--background-color {
  background-color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-color--primary--background-color {
  background-color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-color--error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-color--error--background-color {
  background-color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-color--error--background-color {
  background-color: var(--sendbird-dark-error-300); }

.sendbird-place-holder {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%; }
  .sendbird-place-holder .sendbird-place-holder__body {
    display: flex;
    flex-direction: column;
    height: 104px;
    align-items: center; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__icon {
      margin-bottom: 10px; }
    .sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__text {
      margin-top: 10px; }
  .sendbird-place-holder .sendbird-place-holder__body__reconnect {
    margin-top: 18px;
    display: flex;
    flex-direction: row;
    cursor: pointer; }
    .sendbird-place-holder .sendbird-place-holder__body__reconnect .sendbird-place-holder__body__reconnect__icon {
      margin-right: 4px; }
  .sendbird-place-holder .sendbird-place-holder__body--align-top {
    position: absolute;
    top: 24px;
    display: flex;
    width: 100%;
    flex-direction: column;
    justify-content: center; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text {
      display: flex;
      flex-direction: row;
      justify-content: center;
      padding-left: 16px;
      padding-right: 16px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__search-in {
        display: flex;
        min-width: 60px;
        margin-right: 2px; }
      .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__channel-name {
        display: block;
        max-width: calc(100% - 62px);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__searching,
    .sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__no-result {
      display: flex;
      justify-content: center; }

.sendbird-conversation {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-conversation {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-conversation {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-conversation__messages {
  overflow-y: auto;
  flex: 1 1 0;
  order: 2; }

.sendbird-conversation__messages-list {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-end; }

.sendbird-conversation__footer {
  width: 100%;
  order: 3;
  padding: 0px 0px 24px 0px; }

@-webkit-keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@keyframes sbHighlight {
  0% {
    background-color: #FFF2B6; }
  99% {
    background-color: #FFF2B6; } }

@-webkit-keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01); }
  99% {
    color: var(--sendbird-dark-onlight-01); } }

@-webkit-keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

@keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6; }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6; } }

.sendbird-msg-hoc__animated .sendbird-message-content {
  -webkit-animation: bounce 1s ease;
          animation: bounce 1s ease; }

@-webkit-keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

@keyframes bounce {
  50% {
    transform: translateY(-10px); }
  60% {
    transform: translateY(0); }
  90% {
    transform: translateY(-10px); }
  100% {
    transform: translateY(0); } }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body__message,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body__file-name__text {
  -webkit-animation-name: sbTextHighlight;
          animation-name: sbTextHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-thumbnail-message-item-body
.sendbird-thumbnail-message-item-body__image-cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-og-message-item-body
.sendbird-og-message-item-body__cover {
  display: block;
  -webkit-animation-name: sbHighlightBlock;
          animation-name: sbHighlightBlock;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-msg-hoc__highlighted .sendbird-message-content-reactions {
  -webkit-animation-name: sbHighlight;
          animation-name: sbHighlight;
  -webkit-animation-duration: 1.6s;
          animation-duration: 1.6s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards; }

.sendbird-conversation__scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column; }
  .sendbird-conversation__scroll-container .sendbird-conversation__padding {
    flex: 1 1 0; }

.sendbird-conversation__footer {
  position: relative;
  box-sizing: border-box;
  margin-top: 6px; }
  .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator {
    position: absolute;
    display: inline-flex;
    bottom: 8px; }
    .sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator .sendbird-conversation__footer__typing-indicator__text {
      margin-left: 24px;
      margin-right: 10px; }

.sendbird-connection-status {
  display: flex;
  align-items: center;
  padding-top: 5px; }

.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-chat-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-chat-header__left {
    margin-right: 24px; }
  .sendbird-chat-header__left, .sendbird-chat-header__right {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center; }
  .sendbird-chat-header .sendbird-chat-header__left__title {
    margin-left: 8px;
    margin-right: 16px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 780px; }
  .sendbird-chat-header .sendbird-chat-header__left__subtitle {
    max-width: 240px;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-chat-header .sendbird-chat-header__right__mute {
    margin-right: 26px; }
  .sendbird-chat-header .sendbird-iconbutton--pressed {
    background-color: inherit; }
  .sendbird-chat-header .sendbird-chat-header__right__info {
    margin-left: 16px; }

.sendbird-conversation__messages .sendbird-conversation__messages-padding {
  padding-left: 24px;
  padding-right: 24px;
  height: 100%;
  overflow: scroll; }

.sendbird-conversation__messages .sendbird-separator,
.sendbird-conversation__messages .sendbird-admin-message {
  padding-top: 8px;
  padding-bottom: 8px; }

.sendbird-conversation__scroll-bottom-button {
  position: -webkit-sticky;
  position: sticky;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 30px;
  left: calc(100% - 65px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
  z-index: 1; }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-light-background-50);
    box-shadow: var(--sendbird-light-shadow-05); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button {
    background-color: var(--sendbird-dark-background-400);
    box-shadow: var(--sendbird-dark-shadow-05); }
  .sendbird-conversation__scroll-bottom-button:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:hover {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:active {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-conversation__scroll-bottom-button:focus {
    outline: none; }

.sendbird-mention-suggest-list {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 56px);
  max-height: 260px;
  overflow: scroll;
  margin-left: 28px;
  margin-right: 28px; }
  .sendbird-theme--light .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-mention-suggest-list {
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__avatar {
      position: relative;
      display: inline-block; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
      position: relative;
      display: inline-block;
      margin-left: 16px;
      max-width: calc(100% - 250px);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
      position: absolute;
      display: inline-block;
      right: 16px;
      max-width: 180px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
  .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 16px 8px; }
    .sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
      background-color: var(--sendbird-dark-background-600); }
    .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item .sendbird-mention-suggest-list__notice-item__icon {
      margin-right: 4px; }

.sendbird-separator {
  width: 100%;
  display: flex;
  align-items: center; }
  .sendbird-separator .sendbird-separator__left {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__right {
    border: none;
    height: 1px;
    display: inline-block;
    width: 100%; }
  .sendbird-separator .sendbird-separator__text {
    margin: 0px 16px;
    display: flex;
    white-space: nowrap; }

.sendbird-message-input {
  display: inline-block;
  width: 100%;
  position: relative; }
  .sendbird-message-input .sendbird-message-input--textarea {
    width: 100%;
    border-radius: 4px;
    font-size: 14px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.43;
    height: 56px;
    overflow-y: hidden;
    letter-spacing: normal;
    padding: 18px 64px 18px 16px;
    box-sizing: border-box;
    resize: none;
    font-family: var(--sendbird-font-family-default);
    background-color: inherit;
    white-space: pre-wrap; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-light-onlight-01);
      caret-color: var(--sendbird-light-primary-300);
      border: solid 1px var(--sendbird-light-onlight-03);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea {
      color: var(--sendbird-dark-ondark-01);
      caret-color: var(--sendbird-dark-primary-200);
      border: solid 1px var(--sendbird-dark-ondark-03);
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-message-input .sendbird-message-input--textarea:focus {
      outline: none; }
      .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-light-onlight-01);
        border: solid 1px var(--sendbird-light-primary-300);
        box-shadow: var(--sendbird-light-shadow-message-input); }
      .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:focus {
        color: var(--sendbird-dark-ondark-01);
        border: solid 1px var(--sendbird-dark-primary-200);
        box-shadow: var(--sendbird-dark-shadow-message-input); }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:active {
      border: solid 1px var(--sendbird-message-input-border-active);
      color: var(--sendbird-dark-ondark-01); }
  .sendbird-message-input .sendbird-message-input--placeholder {
    position: absolute;
    pointer-events: none;
    top: 18px;
    left: 16px;
    font-family: var(--sendbird-font-family-default);
    font-size: 14px;
    line-height: 1.43; }
    .sendbird-theme--light .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input .sendbird-message-input--placeholder {
      color: var(--sendbird-dark-ondark-03); }
  .sendbird-message-input .sendbird-message-input--attach {
    position: absolute;
    right: 12px;
    bottom: 18px;
    padding: 6px; }
  .sendbird-message-input .sendbird-message-input--send {
    position: absolute;
    padding: 6px;
    right: 16px;
    bottom: 16px; }
  .sendbird-message-input .sendbird-message-input--attach-input {
    display: none; }

.sendbird-message-input__edit {
  padding: 16px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-input__edit {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-message-input__edit {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-input--edit-action {
  text-align: right;
  margin-top: 4px; }
  .sendbird-message-input--edit-action button:last-child {
    margin-left: 8px; }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
    width: 80px; }
    .sendbird-theme--light .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-light-onlight-03); }
    .sendbird-theme--dark .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
      border: solid 1px var(--sendbird-dark-ondark-03); }
  .sendbird-message-input--edit-action .sendbird-message-input--edit-action__save {
    width: 80px; }

.sendbird-message-input-form__disabled {
  cursor: not-allowed; }

.sendbird-message-input__disabled {
  pointer-events: none;
  cursor: disabled; }
  .sendbird-theme--light .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-input__disabled .sendbird-message-input--textarea {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-input__disabled svg {
    fill: var(--sendbird-light-onlight-03); }
  .sendbird-theme--dark .sendbird-message-input__disabled svg {
    fill: var(--sendbird-dark-ondark-03); }

.sendbird-message-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%; }
  .sendbird-message-content.incoming {
    justify-content: flex-start; }
  .sendbird-message-content.outgoing {
    justify-content: flex-end; }
  .sendbird-message-content .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.use-quote {
    margin-top: -8px;
    bottom: -8px; }

.sendbird-message-content.incoming .sendbird-message-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px; }
  .sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar {
    position: absolute;
    left: 0px;
    bottom: 2px; }

.sendbird-message-content.incoming .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-start; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
    position: absolute;
    bottom: 6px;
    right: -84px;
    white-space: nowrap;
    display: flex;
    flex-direction: row;
    min-width: 80px; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
      display: none; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__sender-name {
    position: relative;
    margin-left: 12px;
    margin-bottom: 4px; }
  .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }

.sendbird-message-content.incoming .sendbird-message-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.use-reactions {
    width: 70px; }
  .sendbird-message-content.incoming .sendbird-message-content__right.chain-top {
    padding-top: 2px; }
    .sendbird-message-content.incoming .sendbird-message-content__right.chain-top.use-quote {
      padding-top: 18px; }
  .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu {
    position: relative;
    flex-direction: row;
    height: 32px;
    display: none; }
    .sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__right .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content.outgoing .sendbird-message-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-reactions {
    width: 70px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left.use-quote .sendbird-message-content-menu {
    top: 18px; }
  .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu {
    position: absolute;
    top: 2px;
    right: 4px;
    flex-direction: row;
    display: none; }
    .sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu.supposed-hover {
      display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  max-width: 400px;
  align-items: flex-end; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
    position: relative;
    width: 100%;
    display: inline-flex; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
      justify-content: flex-end; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
      justify-content: flex-start; }
  .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container {
    position: relative;
    width: -webkit-fit-content;
    width: -moz-fit-content;
    width: fit-content; }
    .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
      position: absolute;
      bottom: 2px;
      left: -84px;
      white-space: nowrap;
      display: flex;
      justify-content: flex-end;
      box-sizing: content-box;
      min-width: 80px;
      min-height: 16px; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.supposed-hover {
        display: none; }
      .sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at .sendbird-message-content__middle__body-container__created-at__component-container {
        position: relative;
        display: inline-flex; }

.sendbird-message-content.outgoing .sendbird-message-content__right {
  display: none; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__left .sendbird-message-content-menu {
  display: inline-flex; }

.sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none; }

.sendbird-message-content__middle__body-container {
  position: relative;
  width: -webkit-fit-content;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column; }
  .sendbird-message-content__middle__body-container .sendbird-message-content__middle__message-item-body {
    width: 100%;
    box-sizing: border-box; }

.sendbird-message-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px; }
  .sendbird-theme--light .sendbird-message-content-reactions {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-content-reactions {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-message-content-reactions.primary {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-message-content-reactions:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-message-content-reactions:hover.primary {
    background-color: var(--sendbird-dark-primary-300); }

.sendbird-message-item-menu__list__menu-item:focus-visible {
  outline: none; }

.sendbird-text {
  color: var(--primary-1); }

.sendbird-emoji-reactions {
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  border-radius: 16px;
  box-sizing: border-box;
  width: 100%;
  max-width: var(--sendbird-message-balloon-width);
  min-height: 24px;
  padding: 7px 5px 3px 5px; }
  .sendbird-theme--light .sendbird-emoji-reactions {
    background-color: var(--sendbird-light-background-50);
    border: 1px solid var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-emoji-reactions {
    background-color: var(--sendbird-dark-background-600);
    border: 1px solid var(--sendbird-dark-background-500); }
  .sendbird-emoji-reactions .sendbird-emoji-reactions__reaction-badge {
    display: inline-flex;
    margin-left: 2px;
    margin-right: 2px;
    margin-bottom: 4px; }
  .sendbird-emoji-reactions:focus {
    outline: none; }

.sendbird-emoji-reactions__add-reaction-badge {
  display: inline-flex;
  width: 36px;
  height: 24px; }

.sendbird-tooltip {
  position: relative;
  display: inline-flex;
  justify-content: center;
  max-width: 200px;
  border-radius: 8px;
  padding: 8px 16px; }
  .sendbird-theme--light .sendbird-tooltip {
    background-color: var(--sendbird-light-background-700); }
  .sendbird-theme--dark .sendbird-tooltip {
    background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip::after {
    content: '';
    position: absolute;
    bottom: -4px;
    width: 8px;
    height: 8px;
    transform: rotate(45deg); }
    .sendbird-theme--light .sendbird-tooltip::after {
      background-color: var(--sendbird-light-background-700); }
    .sendbird-theme--dark .sendbird-tooltip::after {
      background-color: var(--sendbird-dark-background-300); }
  .sendbird-tooltip__text {
    font-family: var(--sendbird-font-family-default);
    font-size: 12px;
    font-weight: bold;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.33;
    letter-spacing: normal; }

.sendbird-tooltip-wrapper {
  position: relative;
  display: inline-flex; }
  .sendbird-tooltip-wrapper__hover-tooltip {
    position: absolute;
    display: inline-flex;
    width: 200px; }
    .sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container {
      position: relative;
      display: inline-flex; }

.sendbird-reaction-badge {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge--is-add {
  display: inline-block;
  border-radius: 15px;
  width: 36px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-light-background-100);
    border: solid 1px var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--is-add {
    background-color: var(--sendbird-dark-background-500);
    border: solid 1px var(--sendbird-dark-background-500); }
  .sendbird-reaction-badge--is-add:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--is-add:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }
  .sendbird-reaction-badge--is-add .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    left: 8px; }

.sendbird-reaction-badge--selected {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px; }
  .sendbird-theme--light .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-light-primary-100);
    border: solid 1px var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-reaction-badge--selected {
    background-color: var(--sendbird-dark-primary-400);
    border: solid 1px var(--sendbird-dark-primary-400); }
  .sendbird-reaction-badge--selected:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-light-primary-300); }
    .sendbird-theme--dark .sendbird-reaction-badge--selected:hover {
      border: solid 1px var(--sendbird-dark-primary-200); }

.sendbird-reaction-badge__inner {
  position: relative;
  display: flex;
  height: 24px;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-left: 20px;
  padding-right: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
    position: absolute;
    top: 2px;
    left: 4px; }
  .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__count {
    margin-left: 4px; }

.sendbird-admin-message {
  display: flex;
  justify-content: center;
  align-items: center; }
  .sendbird-admin-message .sendbird-admin-message__text {
    display: flex; }

.sendbird-text-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: content-box;
  padding: 8px 12px;
  border-radius: 16px;
  white-space: pre-line;
  word-break: break-word; }
  .sendbird-text-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-text-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-text-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-text-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-text-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-text-message-item-body .sendbird-text-message-item-body__text-bubble__message {
    display: inline;
    margin: 0px 2px; }

div.sendbird-text-message-item-body {
  margin: 0px; }

.sendbird-word {
  display: inline-flex;
  margin-right: 4px;
  height: -webkit-fit-content;
  height: -moz-fit-content;
  height: fit-content; }
  .sendbird-word .sendbird-word__url,
  .sendbird-word .sendbird-word__normal {
    display: inline-block; }

.sendbird-link-label {
  text-decoration: unset; }
  .sendbird-link-label:hover {
    cursor: pointer;
    text-decoration: underline; }
  .sendbird-link-label:focus {
    outline: none; }
  .sendbird-link-label__label {
    display: inline; }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200); }

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300); }

.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200); }

.sendbird-word .sendbird-word__mention {
  display: inline-block; }
  .sendbird-word .sendbird-word__mention:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
    background-color: var(--sendbird-highlight-100); }
  .sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
    color: var(--sendbird-dark-onlight-01); }

.sendbird-file-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  align-items: center;
  border-radius: 16px; }
  .sendbird-file-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-file-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-file-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-file-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-file-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
    width: 28px;
    height: 28px;
    min-width: 28px;
    min-height: 28px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    margin-right: 8px; }
    .sendbird-theme--light .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-file-message-item-body .sendbird-file-message-item-body__file-name {
    position: relative;
    top: -6px; }

.sendbird-thumbnail-message-item-body {
  position: relative;
  display: block;
  box-sizing: border-box;
  overflow: hidden;
  width: 100%;
  min-width: 360px;
  max-width: 400px;
  height: 270px;
  border-radius: 16px; }
  .sendbird-thumbnail-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--light .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--dark .sendbird-thumbnail-message-item-body:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__thumbnail {
    position: absolute;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder .sendbird-thumbnail-message-item-body__placeholder__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
    position: absolute;
    top: 0px;
    display: none;
    width: 100%;
    height: 270px;
    border-radius: 16px;
    background-color: var(--sendbird-light-overlay-01); }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__video {
    position: absolute;
    width: 100%;
    height: 270px;
    border-radius: 16px; }
  .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper {
    position: absolute;
    width: 100%;
    height: 270px;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper .sendbird-thumbnail-message-item-body__icon-wrapper__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--sendbird-light-background-50); }

.sendbird-thumbnail-message-item-body:hover {
  cursor: pointer; }
  .sendbird-thumbnail-message-item-body:hover .sendbird-thumbnail-message-item-body__image-cover {
    display: inline-flex; }

.sendbird-og-message-item-body {
  position: relative;
  display: inline-block;
  width: 100%;
  min-width: 320px;
  max-width: 400px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble {
    position: relative;
    padding: 8px 12px;
    box-sizing: border-box;
    border-radius: 16px 16px 0px 0px;
    word-break: break-word; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble .sendbird-og-message-item-body__text-bubble__message {
      display: inline;
      margin: 0px 2px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail {
    position: relative;
    overflow: hidden; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail .sendbird-og-message-item-body__og-thumbnail__image {
      width: 100%;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center; }
  .sendbird-og-message-item-body.reactions .sendbird-og-message-item-body__description {
    border-radius: 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    padding: 8px 12px;
    display: flex;
    flex-direction: column;
    border-radius: 0px 0px 16px 16px; }
    .sendbird-theme--light .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__title,
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__description {
      margin-bottom: 4px;
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block; }
    .sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__url {
      width: 100%;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      display: inline-block;
      margin: 4px 0px; }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail:hover,
  .sendbird-og-message-item-body .sendbird-og-message-item-body__description:hover {
    cursor: pointer; }
  .sendbird-theme--light .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--light .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--dark .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
    display: none;
    position: absolute;
    top: 0%;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 16px 16px 0px 0px; }

div.sendbird-og-message-item-body__text-bubble {
  margin: 0px; }

.sendbird-unknown-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  border-radius: 16px; }
  .sendbird-unknown-message-item-body.reactions {
    border-radius: 16px 16px 0px 0px; }
  .sendbird-theme--light .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.outgoing {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.incoming {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-light-primary-400); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.outgoing {
    background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.incoming {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__header {
    display: block; }
  .sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__description {
    display: block; }

.sendbird-quote-message {
  position: relative;
  display: inline-flex;
  box-sizing: border-box;
  flex-direction: column;
  max-width: 400px; }
  .sendbird-quote-message.incoming {
    align-items: flex-start; }
  .sendbird-quote-message.outgoing {
    align-items: flex-end; }
  .sendbird-quote-message .sendbird-quote-message__replied-to {
    position: relative;
    display: inline-flex;
    flex-direction: row;
    align-items: center;
    height: 16px;
    padding: 0px 12px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__icon {
      position: relative;
      margin-bottom: 4px;
      margin-right: 4px; }
    .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
      position: relative;
      max-width: 360px;
      overflow: hidden;
      overflow-x: hidden;
      white-space: nowrap;
      word-break: keep-all;
      text-overflow: ellipsis;
      font-size: 12px; }
  .sendbird-quote-message .sendbird-quote-message__replied-message {
    position: relative;
    display: inline-flex; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
      position: relative;
      white-space: pre-wrap;
      word-break: break-all;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message .sendbird-quote-message__replied-message__text-message__word {
        position: relative;
        display: inline-flex;
        max-height: 30px;
        overflow: hidden;
        text-overflow: ellipsis; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
      position: relative;
      width: 144px;
      height: 108px;
      border-radius: 6.4px;
      overflow: hidden; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__video,
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__image {
        position: absolute;
        top: 0px;
        display: inline-flex;
        width: 100%;
        height: 100%;
        opacity: 0.5; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center; }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder .sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon {
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
        position: absolute;
        display: inline-flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center;
        top: 0px; }
        .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
          background-color: rgba(255, 255, 255, 0.4); }
        .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
          position: relative;
          display: inline-flex;
          justify-content: center;
          align-items: center;
          width: 22px;
          height: 22px;
          border-radius: 50%; }
          .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
          .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
            background-color: white; }
    .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
      position: relative;
      display: inline-flex;
      flex-direction: row;
      font-size: 12px;
      padding: 8px 12px 16px 12px;
      border-radius: 16px;
      opacity: 0.5; }
      .sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message .sendbird-quote-message__replied-message__file-message__type-icon {
        margin-right: 2px; }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center; }
  .sendbird-theme--light .sendbird-notification {
    background-color: var(--sendbird-light-primary-300); }
  .sendbird-theme--dark .sendbird-notification {
    background-color: var(--sendbird-dark-primary-200); }
  .sendbird-notification:hover {
    cursor: pointer; }
    .sendbird-theme--light .sendbird-notification:hover {
      background-color: var(--sendbird-light-primary-400); }
    .sendbird-theme--dark .sendbird-notification:hover {
      background-color: var(--sendbird-dark-primary-300); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
    background-color: var(--sendbird-dark-information-100); }
  .sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
    color: var(--sendbird-dark-onlight-01); }
  .sendbird-notification .sendbird-notification__text {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 8px; }

.sendbird-message-input-wrapper {
  position: relative;
  width: 100%; }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
    position: relative;
    width: 100%; }
    .sendbird-theme--light .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
      border-top: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-message-input-wrapper .sendbird-message-input-wrapper__message-input {
    position: relative;
    width: 100%;
    box-sizing: border-box;
    padding-left: 24px;
    padding-right: 24px; }

.sendbird-quote_message_input {
  position: relative;
  padding: 16px 80px 16px 40px;
  width: 100%;
  height: 76px;
  display: flex;
  flex-direction: row;
  box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
    width: 44px;
    min-width: 44px;
    height: 44px;
    min-height: 44px;
    position: relative;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center; }
    .sendbird-theme--light .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-light-background-100); }
    .sendbird-theme--dark .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
      background-color: var(--sendbird-dark-background-500); }
  .sendbird-quote_message_input .sendbird-quote_message_input__body {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    overflow: hidden; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__sender-name {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box;
      margin-bottom: 8px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__message-content {
      position: relative;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box; }
  .sendbird-quote_message_input .sendbird-quote_message_input__close-button {
    position: absolute;
    top: 26px;
    right: 40px; }
    .sendbird-quote_message_input .sendbird-quote_message_input__close-button:hover {
      cursor: pointer; }

.sendbird-channel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-channel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-channel-settings .sendbird-channel-settings__header-icon {
    cursor: pointer;
    position: absolute;
    top: 16px;
    right: 16px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-channel-settings .sendbird-channel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-channel-settings .sendbird-channel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-channel-settings .sendbird-channel-settings__scroll-area {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    height: calc(100% - 64px);
    overflow-y: auto; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-item {
    cursor: pointer;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item:focus {
      outline: none; }
    .sendbird-channel-settings .sendbird-channel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left,
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    position: absolute;
    top: 10px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-left {
    left: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
    right: 16px; }
  .sendbird-channel-settings .sendbird-channel-settings__panel-icon--open {
    transform: rotate(90deg); }
  .sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-light-onlight-01); }
  .sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
    fill: var(--sendbird-dark-ondark-01); }

.sendbird-channel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-channel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-channel-profile .sendbird-channel-profile--inner {
    height: 92px; }
  .sendbird-channel-profile .sendbird-channel-profile__avatar {
    margin-bottom: 16px;
    display: flex;
    justify-content: center; }
  .sendbird-channel-profile .sendbird-channel-profile__title {
    display: block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-channel-profile .sendbird-channel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }

.channel-profile-form .channel-profile-form__img-section {
  position: relative; }

.channel-profile-form .channel-profile-form__avatar-button {
  position: absolute;
  top: 54px;
  left: 96px; }

.channel-profile-form .channel-profile-form__avatar {
  margin-top: 16px; }

.channel-profile-form .channel-profile-form__name-section {
  margin-top: 12px; }
  .channel-profile-form .channel-profile-form__name-section .sendbird-input {
    height: 40px; }

.sendbird-channel-settings__operator .sendbird-channel-settings__accordion-icon {
  position: absolute;
  left: 14px; }

.sendbird-channel-settings__operator .sendbird-accordion__panel-heder {
  position: relative; }

.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow: scroll; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
    right: 72px; }
  .sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
    max-width: 240px; }

.sendbird-channel-settings__empty-list {
  text-align: center;
  margin-top: 12px;
  margin-bottom: 4px;
  display: block; }

.sendbird-channel-settings-accordion__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px; }
  .sendbird-channel-settings-accordion__footer .sendbird-button:nth-child(2) {
    margin-left: 8px; }

.sendbird-channel-settings__freeze {
  max-width: 320px;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-channel-settings__freeze {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }

.sendbird-channel-settings__frozen-icon {
  position: absolute;
  right: 20px;
  top: 12px; }
  .sendbird-channel-settings__frozen-icon .sendbird-icon {
    cursor: pointer; }

.sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-channel-settings__members .sendbird-badge {
  position: absolute;
  right: 44px;
  top: 12px; }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-light-background-200); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--light
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-light-onlight-02); }
  .sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label, .sendbird-theme--dark
  .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
    color: var(--sendbird-dark-ondark-02); }

.sendbird-accordion {
  padding: 8px 0px 16px 0px;
  position: relative;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-accordion {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-accordion .sendbird-accordion__member {
    position: relative;
    padding: 12px 0px 12px 44px;
    height: 40px;
    box-sizing: border-box; }
  .sendbird-accordion .sendbird-accordion__footer {
    display: flex;
    justify-content: flex-start;
    margin-top: 8px; }

.sendbird-accordion__panel-header {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px; }
  .sendbird-theme--light .sendbird-accordion__panel-header {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-accordion__panel-header {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-accordion__panel-header:focus {
    outline: none; }
  .sendbird-accordion__panel-header.sendbird-accordion__panel-item__disabled {
    cursor: not-allowed; }

.sendbird-accordion__panel-icon-left,
.sendbird-accordion__panel-icon-right {
  position: absolute;
  top: 10px; }

.sendbird-accordion__panel-icon-left {
  left: 16px; }

.sendbird-accordion__panel-icon-right {
  right: 16px; }

.sendbird-accordion__panel-icon--open {
  transform: rotate(90deg); }

.sendbird-theme--light .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01); }

.sendbird-theme--dark .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01); }

.sendbird-theme--light .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-light-error-300); }

.sendbird-theme--dark .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-dark-error-300); }

.sendbird-user-list-item--small {
  display: block;
  position: relative;
  box-sizing: border-box;
  height: 40px; }
  .sendbird-user-list-item--small__avatar {
    cursor: pointer;
    position: absolute;
    top: 10px;
    left: 12px; }
  .sendbird-user-list-item--small .sendbird-muted-avatar {
    position: absolute;
    top: 10px;
    left: 12px;
    z-index: 2;
    pointer-events: none; }
  .sendbird-user-list-item--small__title {
    position: absolute;
    top: 10px;
    left: 54px;
    width: 160px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__subtitle {
    position: absolute;
    top: 23px;
    left: 140px;
    max-width: 237px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; }
  .sendbird-user-list-item--small__checkbox {
    position: absolute;
    top: 16px;
    right: 16px; }
  .sendbird-user-list-item--small__action {
    display: none;
    position: absolute;
    right: 10px;
    top: 4px; }
  .sendbird-user-list-item--small__operator {
    position: absolute;
    right: 24px;
    top: 10px; }
  .sendbird-theme--light .sendbird-user-list-item--small:hover, .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small:hover, .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__action, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__action {
    display: block; }
  .sendbird-user-list-item--small:hover .sendbird-user-list-item--small__operator, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__operator {
    display: none; }
  .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
    background-color: var(--sendbird-dark-background-700); }

.sendbird-message-search-pannel {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100%;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-message-search-pannel {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-pannel {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
    position: absolute;
    top: 14px;
    left: 48px;
    margin: 0px;
    padding: 0px;
    border: 0px;
    outline: none;
    font-size: 14px;
    width: calc(100% - 90px); }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-light-onlight-01);
      background-color: var(--sendbird-light-background-50); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
      color: var(--sendbird-dark-ondark-01);
      background-color: var(--sendbird-dark-background-600); }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
    position: relative;
    display: flex;
    width: 100%;
    height: 64px;
    min-height: 64px;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__title {
      position: absolute;
      top: 20px;
      left: 24px;
      width: calc(100% - 74px);
      overflow-x: hidden;
      word-break: keep-all;
      text-overflow: ellipsis; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__close-button {
      position: absolute;
      top: 16px;
      right: 16px; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__input {
    display: flex;
    position: relative;
    padding: 16px;
    box-sizing: border-box; }
    .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
      position: relative;
      border-radius: 4px;
      width: 100%;
      height: 44px; }
      .sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-light-onlight-03); }
      .sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
        border: 1px solid var(--sendbird-dark-ondark-03); }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__search-icon {
        position: absolute;
        top: 10px;
        left: 16px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__spinner {
        position: absolute;
        top: 12px;
        right: 12px; }
      .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button {
        position: absolute;
        top: 12px;
        right: 12px; }
        .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button:hover {
          cursor: pointer; }
  .sendbird-message-search-pannel .sendbird-message-search-pannel__message-search {
    position: relative;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    overflow-y: hidden; }

.sendbird-message-search {
  position: relative;
  height: 100%;
  overflow: scroll; }
  .sendbird-theme--light .sendbird-message-search {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search {
    background-color: var(--sendbird-dark-background-600); }

.sendbird-message-search-item {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  position: relative;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-item .sendbird-message-search-item__left {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-item .sendbird-message-search-item__right {
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__sender-name {
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 12px; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-text {
      box-sizing: border-box;
      display: flex;
      width: inherit;
      height: 32px;
      overflow: hidden;
      text-overflow: ellipsis;
      position: absolute;
      top: 36px;
      word-break: break-word; }
    .sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-created-at {
      position: absolute;
      top: 12px;
      right: 18px; }
  .sendbird-message-search-item .sendbird-message-search-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-message-search-file-item {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  cursor: pointer; }
  .sendbird-theme--light .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-message-search-file-item {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-message-search-file-item:hover {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__left {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 80px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: calc(100% - 106px); }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__sender-name {
      position: absolute;
      top: 12px;
      display: flex;
      max-width: 280px;
      height: 16px;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content {
      position: absolute;
      top: 36px;
      box-sizing: border-box;
      width: 100%;
      height: 32px;
      display: flex;
      flex-direction: row;
      align-items: center; }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
        position: relative;
        margin-right: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 26px;
        min-width: 26px;
        height: 26px;
        border-radius: 8px; }
        .sendbird-theme--light .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-light-background-100); }
        .sendbird-theme--dark .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
          background-color: var(--sendbird-dark-background-500); }
      .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__url {
        height: 16px;
        position: relative;
        display: flex;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: keep-all;
        white-space: nowrap; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__message-created-at {
    position: absolute;
    top: 12px;
    right: 18px; }
  .sendbird-message-search-file-item .sendbird-message-search-file-item__right-footer {
    width: 16px; }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-light-primary-100); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-dark-background-700); }

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200); }

.sendbird-app__wrap {
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box; }
  .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
    width: 320px;
    overflow-y: scroll;
    box-sizing: border-box; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-app__wrap .sendbird-app__conversation-wrap {
    flex: 1;
    position: relative;
    width: calc(100% - 320px); }
  .sendbird-app__wrap .sendbird-app__channellist-wrap {
    max-width: 320px; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-left: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__channellist-wrap {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-left: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-chat-header__search {
    margin-right: 16px; }
  .sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-light-primary-100); }
  .sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
    background-color: var(--sendbird-dark-background-700); }
  .sendbird-app__wrap .sendbird-channel-settings {
    border-left: none; }
    .sendbird-theme--light .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-light-onlight-04);
      border-right: 1px solid var(--sendbird-light-onlight-04);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-app__wrap .sendbird-channel-settings {
      border-top: 1px solid var(--sendbird-dark-background-600);
      border-right: 1px solid var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-background-600); }
    .sendbird-app__wrap .sendbird-channel-settings .sendbird-channel-settings__header {
      height: 64px; }

.sendbird-openchannel-conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-conversation {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-conversation {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll {
    overflow-y: auto;
    flex: 1 1 0;
    order: 2;
    width: 100%; }
  .sendbird-openchannel-conversation .sendbird-openchannel-footer {
    order: 3;
    padding: 12px 24px 24px 24px; }
  .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container {
    display: flex;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    flex-direction: column; }
    .sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container .sendbird-openchannel-conversation-scroll-padding {
      flex: 1 1 0; }

.sendbird-frozen-channel-notification {
  position: relative;
  margin-top: 8px;
  margin-right: 24px;
  margin-left: 24px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-light-information-100); }
  .sendbird-theme--dark .sendbird-frozen-channel-notification {
    background-color: var(--sendbird-dark-information-100); }

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 120px); }
  .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
    position: absolute;
    left: 20px;
    top: 16px; }
  .sendbird-openchannel-conversation-header__left__title {
    position: absolute;
    left: 60px;
    top: 12px; }
  .sendbird-openchannel-conversation-header__left__sub-title {
    position: absolute;
    left: 60px;
    top: 36px; }
  .sendbird-openchannel-conversation-header__right {
    position: absolute;
    top: 0px;
    right: 0px;
    width: 64px;
    height: 64px; }
    .sendbird-openchannel-conversation-header__right__trigger {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      justify-content: center; }

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%; }
  .sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-light-background-300); }
  .sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
    background-color: var(--sendbird-dark-background-300); }

.sendbird-openchannel-conversation-scroll {
  position: relative;
  width: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container {
    position: -webkit-sticky;
    position: sticky;
    width: 100%;
    bottom: 0px;
    height: 100%;
    overflow: hidden; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__padding {
      height: 8px; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container {
      width: 100%;
      height: 100%;
      overflow: scroll; }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages {
      width: 100%;
      height: 100%; }
      .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages .sendbird-openchannel-conversation-scroll__container__place-holder {
        width: 100%;
        height: 100%; }
  .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    bottom: 8px;
    left: calc(50% - 20px);
    width: 40px;
    height: 40px;
    border-radius: 24px;
    z-index: 1; }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-light-primary-300);
      box-shadow: var(--sendbird-light-shadow-05); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
      background-color: var(--sendbird-dark-primary-200);
      box-shadow: var(--sendbird-dark-shadow-05); }
    .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
      cursor: pointer; }
      .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-light-primary-400); }
      .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
        background-color: var(--sendbird-dark-primary-300); }
    .sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-light-primary-500); }
    .sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
      background-color: var(--sendbird-dark-primary-400); }

.sendbird-openchannel-user-message {
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-user-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-user-message:hover .sendbird-openchannel-user-message__context-menu {
    display: block; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__left .sendbird-openchannel-user-message__left__avatar {
      position: relative;
      display: flex;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 8px 24px 8px 12px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top {
      position: relative;
      display: flex;
      margin-bottom: 2px; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom {
      position: relative;
      display: flex;
      width: 100%; }
      .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom .sendbird-openchannel-user-message__right__bottom__message {
        position: relative;
        word-break: break-all; }
    .sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu {
    position: absolute;
    right: 16px;
    display: none; }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-openchannel-admin-message {
  position: relative;
  margin: 16px 24px;
  padding: 12px 16px;
  border-radius: 4px; }
  .sendbird-theme--light .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message {
    background-color: var(--sendbird-dark-background-500); }
  .sendbird-theme--light .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-admin-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-admin-message .sendbird-openchannel-admin-message__text {
    word-wrap: break-word; }

.sendbird-openchannel-og-message {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%; }
  .sendbird-theme--light .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-og-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-og-message:hover .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
    display: block; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top {
    box-sizing: border-box;
    position: relative;
    display: flex;
    flex-direction: row; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left {
      position: relative;
      display: flex;
      width: 52px;
      min-width: 52px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left .sendbird-openchannel-og-message__top__left__avatar {
        position: absolute;
        display: flex;
        top: 8px;
        left: 24px; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right {
      position: relative;
      display: flex;
      box-sizing: border-box;
      flex-direction: column;
      margin: 8px 24px 8px 12px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title {
        position: relative;
        display: flex;
        margin-bottom: 2px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sender-name {
          position: relative;
          display: flex; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sent-at {
          position: relative;
          display: flex;
          margin-left: 4px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message {
        position: relative;
        display: inline;
        white-space: pre-wrap;
        word-break: break-all; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
      position: absolute;
      right: 16px;
      display: none; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-light-background-200); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-light-primary-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
        background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom {
    position: relative;
    display: inline;
    margin-bottom: 8px;
    width: 100%; }
    .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
      position: relative;
      display: inline-block;
      box-sizing: border-box;
      width: calc(100% - 64px);
      max-width: 360px;
      left: 64px;
      padding: 12px 12px 4px 12px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-light-onlight-04);
        background-color: var(--sendbird-light-background-100); }
      .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
        border: solid 1px var(--sendbird-dark-ondark-04);
        background-color: var(--sendbird-dark-background-500); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__url {
        position: relative;
        display: block;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-bottom: 8px;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title {
        position: relative;
        display: inline-block;
        white-space: pre-wrap;
        overflow-wrap: normal;
        margin-bottom: 8px;
        max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-light-primary-300); }
          .sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
            color: var(--sendbird-dark-primary-200); }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__description {
        position: relative;
        display: block;
        white-space: pre-wrap;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: break-all;
        max-height: 32px;
        margin-bottom: 8px;
        width: 100%;
        max-width: 336px; }
      .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail {
        box-sizing: border-box;
        position: relative;
        display: block;
        margin-top: 4px;
        margin-bottom: 8px;
        width: 100%; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail:hover {
          cursor: pointer; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
        .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder {
          border-radius: 8px;
          width: 100%;
          min-width: 200px;
          max-width: 336px; }
  .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top__right__tail {
    position: relative;
    left: 64px;
    top: 2px; }

.sendbird-openchannel-og-message--word {
  display: inline;
  margin: 0px 2px;
  word-break: break-all; }

.sendbird-theme--light .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-light-primary-300); }

.sendbird-theme--dark .sendbird-openchannel-og-message--word--link {
  color: var(--sendbird-dark-primary-200); }

.sendbird-openchannel-thumbnail-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu {
    display: block; }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
      background-color: var(--sendbird-dark-background-700); }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left .sendbird-openchannel-thumbnail-message__left__avatar {
      position: absolute;
      display: inline;
      margin-top: 8px;
      margin-left: 28px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-top: 8px;
    margin-bottom: 8px;
    margin-left: 12px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title {
      position: relative;
      display: inline;
      margin-bottom: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sender-name {
        position: relative;
        display: inline;
        margin-right: 4px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sent-at {
        position: relative;
        display: inline; }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body {
      position: relative;
      display: flex;
      border-radius: 8px; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body:hover .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
        opacity: 1; }
      .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap {
        position: relative;
        box-sizing: content-box; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
          position: absolute;
          opacity: 0;
          width: 100%;
          height: 100%;
          max-width: 360px;
          top: 0px;
          left: 0px;
          border-radius: 8px;
          cursor: pointer; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-light-overlay-02); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
            background-color: var(--sendbird-dark-overlay-02); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video {
          max-width: 360px;
          max-height: 360px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video:hover {
            cursor: pointer; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__video {
            max-width: 360px;
            max-height: 360px;
            border-radius: 8px; }
          .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon {
            position: absolute;
            top: calc(50% - 28px);
            left: calc(50% - 28px); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image {
          border-radius: 8px; }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
            background-color: var(--sendbird-dark-background-500); }
        .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
          padding: 107px 152px 107px 152px;
          border-radius: 8px; }
          .sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-light-background-100); }
          .sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
            background-color: var(--sendbird-dark-background-500); }
    .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__tail {
      position: relative;
      top: 2px; }
  .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }

.sendbird-openchannel-file-message {
  position: relative;
  display: flex;
  flex-direction: row; }
  .sendbird-theme--light .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-light-background-100); }
  .sendbird-theme--dark .sendbird-openchannel-file-message:hover {
    background-color: var(--sendbird-dark-background-400); }
  .sendbird-openchannel-file-message:hover .sendbird-openchannel-file-message__context-menu {
    display: block; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left {
    position: relative;
    display: flex;
    width: 52px;
    min-width: 52px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__left .sendbird-openchannel-file-message__left__avatar {
      position: absolute;
      display: block;
      margin-top: 8px;
      margin-left: 24px; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-left: 12px;
    margin-bottom: 4px;
    width: calc(100% - 64px); }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title {
      position: relative;
      display: flex;
      margin-top: 8px; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sender-name {
        position: relative;
        display: flex; }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sent-at {
        position: relative;
        display: flex;
        margin-left: 4px; }
    .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
      position: relative;
      display: flex;
      margin-top: 4px;
      margin-bottom: 4px;
      border-radius: 8px; }
      .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-light-background-100);
        border: solid 1px var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
        background-color: var(--sendbird-dark-background-500);
        border: solid 1px var(--sendbird-dark-ondark-04); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
        position: relative;
        display: inline-block;
        margin: 8px;
        border-radius: 8.6px; }
        .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-light-background-50); }
        .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
          background-color: var(--sendbird-dark-background-600); }
      .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__file-name {
        position: relative;
        display: flex;
        margin-top: 22px;
        margin-right: 16px;
        margin-left: 4px;
        overflow: hidden;
        height: 20px;
        max-height: 20px;
        text-overflow: ellipsis;
        white-space: nowrap; }
  .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu {
    position: absolute;
    display: none;
    top: 8px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-light-background-200); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
      background-color: var(--sendbird-dark-background-500); }
    .sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-light-primary-100); }
    .sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
      background-color: var(--sendbird-dark-background-700); }

.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer; }
  .sendbird-fileviewer__header__right__actions__download .disabled,
  .sendbird-fileviewer__header__right__actions__delete .disabled,
  .sendbird-fileviewer__header__right__actions__close .disabled {
    cursor: not-allowed; }

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000; }
  .sendbird-theme--light .sendbird-fileviewer {
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-fileviewer {
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-fileviewer .sendbird-fileviewer__header {
    height: 64px;
    min-height: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between; }
    .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 64px;
      padding: 16px 20px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
        margin-right: 8px; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
        max-width: 500px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-flex;
        margin-left: 8px;
        padding-top: 5px; }
    .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
      display: flex;
      width: 160px;
      justify-content: flex-end; }
      .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
        right: 0;
        display: flex;
        flex-direction: row; }
      .sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-light-onlight-04); }
      .sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
        border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-fileviewer .sendbird-fileviewer__content {
    height: calc(100% - 72px);
    margin-top: 8px;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
      max-width: 100%;
      max-height: 100%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
      max-width: 90%;
      max-height: 90%; }
    .sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
      max-width: 100%;
      max-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center; }

.sendbird-openchannel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  overflow-y: scroll;
  position: relative; }
  .sendbird-theme--light .sendbird-openchannel-settings {
    background-color: var(--sendbird-light-background-50);
    border-left: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings {
    background-color: var(--sendbird-dark-background-600);
    border-left: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-participants-accordion__footer {
    text-align: left;
    padding-top: 16px;
    padding-left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__operator-accordion-icon {
    position: absolute;
    left: 14px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__accordion-icon,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-icon__delete {
    position: absolute;
    left: 16px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__participant {
    height: 100%; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__participant-list {
      padding-top: 64px;
      height: calc(100% - 64px);
      overflow-y: scroll; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
      display: block;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0; }
      .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-light-background-50); }
      .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
        background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-settings .sendbird-participants-accordion,
  .sendbird-openchannel-settings .sendbird-openchannel-settings__delete-channel {
    text-align: left; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__members .sendbird-badge__text {
    margin-top: -2px; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
    height: 64px;
    min-height: 64px;
    position: relative;
    padding: 20px 24px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
      border-bottom: solid 1px var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon {
    cursor: pointer;
    position: absolute;
    top: 20px;
    right: 16px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-light-onlight-01); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
      fill: var(--sendbird-dark-ondark-01); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__placeholder {
    margin-top: 40%; }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    padding: 16px;
    box-sizing: border-box;
    position: relative; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url:hover .sendbird-openchannel-settings__copy-icon {
      display: inline-block; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__copy-icon {
      cursor: pointer;
      position: absolute;
      display: none;
      top: 10px;
      right: 18px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
      margin-top: 8px; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value,
    .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-label {
      text-align: left;
      display: block;
      word-wrap: break-word; }
  .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-light-background-50);
    border-bottom: 1px solid var(--sendbird-light-onlight-04); }
  .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
    background-color: var(--sendbird-dark-background-600);
    border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
  .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
    display: block;
    cursor: pointer;
    box-sizing: border-box;
    position: relative;
    padding: 12px 22px 10px 56px; }
    .sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-light-background-50);
      border-bottom: 1px solid var(--sendbird-light-onlight-04); }
    .sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
      background-color: var(--sendbird-dark-background-600);
      border-bottom: 1px solid var(--sendbird-dark-ondark-04); }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item:focus {
      outline: none; }
    .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
      cursor: not-allowed; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member {
    position: relative;
    padding: 12px 0px 12px 56px;
    width: 100%;
    height: 40px;
    box-sizing: border-box;
    text-align: left; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-label {
      max-width: 190px;
      display: inline-block;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.user-id {
      position: absolute;
      right: 16px; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__action {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.operator,
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.user-id {
      display: none; }
    .sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__action {
      display: inline-block; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member-avatar {
    position: absolute;
    left: 16px;
    top: 10px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-participants-accordion__member__action {
    position: absolute;
    display: none;
    top: 4px;
    right: 8px;
    cursor: pointer; }
  .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer,
  .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer,
  .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer {
    padding-top: 16px;
    display: flex;
    justify-content: left;
    padding-left: 12px; }
    .sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer .sendbird-button:nth-child(2),
    .sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer .sendbird-button:nth-child(2) {
      margin-left: 8px; }

.sendbird-more-users__popup-scroll {
  max-height: 420px;
  overflow: scroll; }

.sendbird-openchannel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px; }
  .sendbird-theme--light .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-light-onlight-04);
    background-color: var(--sendbird-light-background-50); }
  .sendbird-theme--dark .sendbird-openchannel-profile {
    border-bottom: 1px solid var(--sendbird-dark-ondark-04);
    background-color: var(--sendbird-dark-background-600); }
  .sendbird-openchannel-profile .sendbird-openchannel-profile--inner {
    height: 116px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__avatar {
    margin-bottom: 16px;
    text-align: center; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__title {
    display: inline-block;
    max-width: 240px;
    white-space: nowrap;
    overflow-x: hidden;
    text-overflow: ellipsis;
    height: 18px; }
  .sendbird-openchannel-profile .sendbird-openchannel-profile__edit {
    position: absolute;
    top: 10px;
    right: 16px; }`;gi(Vle);var Wle=function(e){var n=e.userId,t=e.appId,r=e.accessToken,s=e.chatInstance;return di(void 0,void 0,void 0,function(){var u;return hi(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),Jt.exports.SendbirdLive.init({appId:t,chatInstance:s}),[4,Jt.exports.SendbirdLive.authenticate(n,r)];case 1:return d.sent(),[3,3];case 2:return u=d.sent(),console.error(u),[3,3];case 3:return[2]}})})},Kle=function(){function e(){this._topics={},this._topics={}}return e.prototype.subscribe=function(n,t){var r=this;this._topics[n]||(this._topics[n]=[]);var s=this._topics[n].push(t)-1;return{remove:function(){delete r._topics[n][s]}}},e.prototype.publish=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];!this._topics[n]||this._topics[n].forEach(function(s){s.apply(void 0,t)})},e}(),to=S.createContext({});function Eh(){var e=de.exports.useContext(ok);return e}function Qle(e){var n=this,t,r,s,u,d=e.userId,p=e.appId,g=e.accessToken,_=e.customApiHost,y=e.customWebSocketHost,E=e.children,x=e.theme,k=e.colorSet,T=e.stringSet,I=e.imageSet,P=e.fontSet,N=de.exports.useState(!1),O=N[0],U=N[1],L=de.exports.useState(),ee=L[0],V=L[1],J=Eh(),Y=(r=(t=J==null?void 0:J.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,ye=(u=(s=J==null?void 0:J.stores)===null||s===void 0?void 0:s.sdkStore)===null||u===void 0?void 0:u.initialized;return de.exports.useEffect(function(){var ve=function(){return di(n,void 0,void 0,function(){return hi(this,function(Ue){switch(Ue.label){case 0:return ye?[4,Wle({userId:d,appId:p,accessToken:g,chatInstance:Y})]:[2];case 1:return Ue.sent(),V(new Kle),U(!0),[2]}})})};ve()},[d,p,g,ye]),S.createElement(to.Provider,{value:{userId:d,appId:p,accessToken:g,customApiHost:_,customWebSocketHost:y,children:E,theme:x,colorSet:k,stringSet:T,imageSet:I,fontSet:P,pubSub:ee}},O?E:S.createElement("div",null))}var NA=function(){return{LIST_HEADER_TITLE:"Live events",LIST_HEADER_BUTTON:"Create",LIST_EMPTY_DESCRIPTION:"No live events",NO_LIVE_EVENT_TITLE:"No live events selected",NO_LIVE_EVENT_DESCRIPTION:"Select a live event from the list or create a live event",EVENT_STATUS_CREATED:"UPCOMING",EVENT_STATUS_READY:"OPEN",EVENT_STATUS_ONGOING:"LIVE",EVENT_STATUS_ENDED:"ENDED",PARTICIPANT_COUNT:function(e){return"".concat(e,"K")},LIST_HOST_NICKNAME_PLACEHOLDER:"\u2014",LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE:"Choose your role",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST:"Host",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT:"Participant",LIVE_EVENT_ENTER_ALERT_TITLE:"Can't enter yet",LIVE_EVENT_ENTER_ALERT_DESCRIPTION:"This live event will open soon.",LIVE_EVENT_CREATE_HEADER_TITLE:"New live event",LIVE_EVENT_CREATE_EVENT_TITLE:"Title",LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER:"Add a title",CREATE_EVENT_DEFAULT_TITLE:"Live event",LIVE_EVENT_CREATE_EVENT_USERS_FOR_HOST:"Users who can be host",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE:"Cover image",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON:"Upload photo",LIVE_EVENT_CREATE_HEADER_BUTTON:"Create",LIST_USERS_FOR_HOST_HEADER_TITLE:"Users who can be host",ADD_USERS_FOR_HOST_HEADER_TITLE:"Users",ADD_USERS_FOR_HOST_HEADER_BUTTON:"Add ${}",USER_FOR_HOST_NICKNAME:function(e){return"".concat(e," (You)")},USER_ID_PLACEHOLDER:"Enter user ID",ADD_USERS_FOR_HOST_DIALOG_TITLE:"Add user",NICKNAME:"Nickname",USER_ID:"User ID",USER_SEARCH_USER_COUNT_LIMIT:function(e){return" / 10 users"},USER_SEARCH_USER_COUNT_DESCRIPTION:"You can add up to 10 users to be host.",USER_SEARCH_EXACT_MATCH_DESCRIPTION:"Only an exact match can be found.",USER_SEARCH_NO_MATCH_DESCRIPTION:function(e){return'No matches found with "{keyword}"'},USER_SEARCH_NO_USERS_DESCRIPTION:"There are no users.",USER_SEARCH_ERROR_DESCRIPTION:"Something went wrong. Try again.",USER_SEARCH_COUNT_EXCEED_DESCRIPTION:"Can't add more than 10 users",START_LIVE_EVENT_HEADER_BUTTON:"Start live event",LIVE_EVENT_PARTICIPANT_COUNT:function(e){return"".concat(e)},LIVE_EVENT_MESSAGE_INPUT_PLACEHOLDER:"Enter message",LIVE_EVENT_INFORMATION_TITLE:"Live event information",HOST:"Host",PARTICIPANTS:"Participants",FREEZE_CHAT:"Freeze chat",FREEZE_CHAT_DESCRIPTION:"Only operators can send a message. This doesn't stop the live event.",LIVE_EVENT_ID:"Live event ID",CREATED_AT:"Created on",CREATED_BY:"Created by",STARTED_AT:"Started on",STARTED_BY:"Started by",EDIT_EVENT:"Edit this event?",CHANGE_TITLE:"Change title",CHANGE_COVER_IMAGE:"Change cover image",CHANGE_EVENT_TITLE:"Change event title",CHANGE_EVENT_TITLE_PLACEHOLDER:"Enter title",CHANGE_EVENT_INFO_TITLE:"Edit live event information",TITLE:"Title",COVER_IMAGE:"Cover image",UPLOAD_IMAGE:"Upload photo",EDIT_LIVE_EVENT_USERS_FOR_HOST:"Users who can be host",REMOVE_IMAGE:"Remove photo",CHOOSE_IMAGE:"Choose photo",HOSTS:"Host",HOST_LABEL:"Host",USERS_FOR_HOST:"Users who can be host",USERS_FOR_HOST_DESCRIPTION:"Any one of the users in the list below can act as a host for the live event. If the current host leaves the event, another user can act as the host.",PARTICIPANT_LIST_HEADER_TITLE:"Participants",LIVE_EVENT_END_DIALOG_TITLE:"End live event?",LIVE_EVENT_END_DIALOG_DESCRIPTION:"Do you want to end this live event?",LIVE_EVENT_END_DIALOG_OPTION_END:"End live event",LIVE_EVENT_END_DIALOG_OPTION_EXIT:"Exit without ending",TOTAL_PARTICIPANTS_COUNT:"Total participants",LIVE_EVENT_SUMMARY_DIALOG_TITLE:"Live event ended",PEAK_CONCURRENT_PARTICIPANTS_COUNT:"Peak concurrent participants",DURATION:"Duration",LIVE_EVENT_DISCONNECTED_ALERT_TITLE:"Disconnected temporarily",LIVE_EVENT_DISCONNECTED_ALERT_DESCRIPTION:"Try entering the live event again.",LIVE_EVENT_LIVE_PARTICIPANT_COUNT_DURATION:"1,282 watching now \u2219 Started 30 mins ago",LIVE_EVENT_READY_BANNER_DESCRIPTION:"Live event will begin soon.",LIVE_EVENT_LIVE_BANNER_HOST_MUTED_DESCRIPTION:"Host is muted.",LIVE_EVENT_LIVE_BANNER_HOST_UNAVAILABLE_DESCRIPTION:"Host is temporarily unavailable.",LIVE_EVENT_ENDED_DESCRIPTION:"Live event has ended.",LIVE_EVENT_ENDED_DIALOG_DESCRIPTION:"Host has ended this live event.",LIVE_EVENT_ENDED_ENTER_DIALOG_DESCRIPTION:"Can't enter an ended live event.",UNKNOWN_ERROR_ALERT_TITLE:"Oops!",UNKNOWN_ERROR_ALERT_DESCRIPTION:"Something went wrong."}};function Yle(e){var n=e.userId,t=e.appId,r=e.nickname,s=e.accessToken;e.customApiHost,e.customWebSocketHost,e.children,e.theme;var u=e.colorSet,d=e.stringSet,p=de.exports.useMemo(function(){return d?Vl(Vl({},NA()),d):NA()},[d]);return S.createElement(Tk,{userId:n,appId:t,nickname:r,accessToken:s,colorSet:u},S.createElement(Qle,Vl({},e,{stringSet:p})))}var OA,AA,RA;function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Aw.apply(this,arguments)}var Xle=function(n){return nr("svg",{...Aw({width:112,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:[OA||(OA=nr("defs",{children:[se("clipPath",{id:"img-thumbnail-default-1_svg__a",children:se("path",{d:"M1368 0v1600H0V0h1368z"})}),se("clipPath",{id:"img-thumbnail-default-1_svg__b",children:se("path",{d:"M112 0v64H0V0h112z"})}),se("clipPath",{id:"img-thumbnail-default-1_svg__c",children:se("path",{d:"M13.333 10.667A2.667 2.667 0 0 1 15 15.415v11.149c-.544.067-1.099.102-1.661.103h-.01c-.564 0-1.118-.036-1.662-.103V15.415a2.667 2.667 0 0 1 1.667-4.748zm0-10.667c7.364 0 13.334 5.97 13.334 13.333 0 6.092-4.086 11.23-9.667 12.823V22.64a10.004 10.004 0 0 0 6.333-9.307c0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.229 2.625 7.844 6.334 9.307v3.516C4.086 24.563 0 19.426 0 13.333 0 5.97 5.97 0 13.333 0zm0 5.333A8 8 0 0 1 17 20.445V16.22a4.667 4.667 0 1 0-7.333 0v4.225a8 8 0 0 1 3.667-15.112z"})})]})),AA||(AA=se("path",{fill:"#FFF",d:"M-64-876h1368V724H-64z"})),RA||(RA=se("g",{clipPath:"url(#img-thumbnail-default-1_svg__a)",transform:"translate(-64 -876)",children:nr("g",{clipPath:"url(#img-thumbnail-default-1_svg__b)",transform:"translate(64 876)",children:[se("path",{fill:"#5858D3",d:"M0 0h112v64H0V0z"}),se("g",{clipPath:"url(#img-thumbnail-default-1_svg__c)",transform:"translate(42.667 18.667)",children:se("path",{fill:"#FFF",d:"M0 0h26.667v26.667H0V0z"})})]})}))]})},Zle=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.live-event-list-view {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100vh;
  border: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.live-event-list-view .header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  box-sizing: border-box;
  height: 80px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .header .title {
  width: 92px;
  height: 21px;
  margin: 0 13px 0 24px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.live-event-list-view .header .refresh {
  cursor: pointer;
  width: 22px;
  height: 22px;
  object-fit: contain;
}
.live-event-list-view .header .create-button {
  cursor: pointer;
  height: 24px;
  margin: 0 16px 0 auto;
  padding: 2px 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  color: #742ddd;
}
.live-event-list-view .list {
  overflow-y: scroll;
}
.live-event-list-view .list .live-event-elem {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  height: 80px;
  padding: 8px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .list .cover-image__wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  width: 112px;
  height: 64px;
  margin: 7px 12px 7px 8px;
}
.live-event-list-view .list .cover-image__wrapper .cover-image {
  max-width: 100%;
  max-height: 100%;
}
.live-event-list-view .list .detail {
  width: 100%;
}
.live-event-list-view .list .detail .title__wrapper {
  margin: 7px 12px 2px 12px;
  display: flex;
  height: 16px;
}
.live-event-list-view .list .detail .title__wrapper .title {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  background-color: #de360b;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey {
  background-color: #bdbdbd;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-count {
  width: 32px;
  height: 100%;
}
.live-event-list-view .list .detail .created-by {
  height: 16px;
  margin: 2px 4px 10px 12px;
  font-size: 12px;
  line-height: 1.33;
  color: rgba(0, 0, 0, 0.5);
}
.live-event-list-view .list .detail .event-state, .live-event-list-view .list .detail .event-state--ended, .live-event-list-view .list .detail .event-state--ongoing, .live-event-list-view .list .detail .event-state--ready, .live-event-list-view .list .detail .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin: 10px 0 0 12px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.live-event-list-view .list .detail .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.live-event-list-view .list .detail .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.live-event-list-view .list .detail .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.live-event-list-view .list .detail .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}`;gi(Zle);function Jle(e){var n,t,r=e.liveEvent,s=e.onClick,u=e.showHostNickname,d=u===void 0?!0:u,p=e.showStatusLabel,g=p===void 0?!0:p,_=de.exports.useContext(to).stringSet,y=function(E){switch(E){case"created":return _.EVENT_STATUS_CREATED;case"ready":return _.EVENT_STATUS_READY;case"ongoing":return _.EVENT_STATUS_ONGOING;case"ended":return _.EVENT_STATUS_ENDED}};return S.createElement("div",{className:"live-event-elem",onClick:function(){return s(r)}},S.createElement("div",{className:"cover-image__wrapper"},r.coverUrl?S.createElement("img",{src:r.coverUrl,alt:"cover_image",className:"cover-image"}):S.createElement(Xle,{viewBox:"0 0 112 64",width:112,height:64})),S.createElement("div",{className:"detail"},S.createElement("div",{className:"title__wrapper"},S.createElement("div",{className:"title"},r.title?r.title:_.CREATE_EVENT_DEFAULT_TITLE),S.createElement("div",{className:"participant-count__wrapper"},r.state===Jt.exports.LiveEventState.ONGOING?S.createElement("div",{className:"participant-icon--red"}):S.createElement("div",{className:"participant-icon--grey"}),S.createElement("div",{className:"participant-count"},(n=r.participantCount)!==null&&n!==void 0?n:0))),d&&S.createElement("div",{className:"created-by"},r.host?(t=r.host.nickname)!==null&&t!==void 0?t:"HOST":_.LIST_HOST_NICKNAME_PLACEHOLDER),g&&S.createElement("div",{className:"event-state--".concat(r.state)},y(r.state))))}var MA;function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Rw.apply(this,arguments)}var eue=function(n){return se("svg",{...Rw({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:MA||(MA=se("path",{d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.667 2.667 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.667 2.667 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 1 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fillRule:"evenodd"}))})};function nue(e){var n=this,t=e.onClickCreate,r=e.onClickElem,s=e.queryParams,u=e.renderTitle,d=e.renderCreateButton,p=e.renderLiveEventElem,g=e.showStatusLabel,_=g===void 0?!0:g,y=e.showHostNickname,E=y===void 0?!0:y,x=de.exports.useContext(to).stringSet,k=s||{limit:20},T=de.exports.useState(Jt.exports.SendbirdLive.createLiveEventListQuery(k)),I=T[0],P=T[1],N=de.exports.useRef(null),O=de.exports.useState([]),U=O[0],L=O[1],ee=function(){return di(n,void 0,void 0,function(){return hi(this,function(Y){switch(Y.label){case 0:return P(Jt.exports.SendbirdLive.createLiveEventListQuery(k)),N.current&&(N.current.scrollTop=0),[4,V(!0)];case 1:return Y.sent(),[2]}})})},V=function(Y){return di(n,void 0,void 0,function(){var ye;return hi(this,function(ve){switch(ve.label){case 0:if(!I.hasNext)return[2];ve.label=1;case 1:return ve.trys.push([1,3,,4]),[4,I.next()];case 2:return ye=ve.sent(),Y?L(ye):(P(I),L(la(la([],U,!0),ye,!0))),[3,4];case 3:return ve.sent(),[3,4];case 4:return[2]}})})},J=function(){if(N.current){var Y=N.current,ye=Y.scrollTop,ve=Y.scrollHeight,Ue=Y.clientHeight;ye+Ue===ve&&V(!1)}};return de.exports.useEffect(function(){ee()},[s]),S.createElement("div",{className:"live-event-list-view"},S.createElement("div",{className:"header"},(u==null?void 0:u())||S.createElement("div",{className:"title"},x.LIST_HEADER_TITLE),S.createElement("div",{className:"refresh",onClick:ee},S.createElement(eue,{viewBox:"0 0 64 64",width:22,height:22})),(d==null?void 0:d())||S.createElement("div",{className:"create-button",onClick:t},x.LIST_HEADER_BUTTON)),S.createElement("div",{className:"list",ref:N,onScroll:J},U.map(function(Y){return(p==null?void 0:p({liveEvent:Y,onClick:r}))||S.createElement(Jle,{key:Y.liveEventId,liveEvent:Y,showStatusLabel:_,showHostNickname:E,onClick:r})})))}var Mv="SEND_MESSAGE_START",Dv="SEND_USER_MESSAGE",Uv="SEND_FILE_MESSAGE",Mw="UPDATE_USER_MESSAGE",Dw="DELETE_MESSAGE",tue="CREATE_CHANNEL",Km=function(){},u0=S.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null}),Ik=function(n){var t=n.children;return S.createElement(u0.Provider,{value:n},t)};Ik.propTypes={children:_e.exports.oneOfType([_e.exports.element,_e.exports.arrayOf(_e.exports.element),_e.exports.any]).isRequired,isOpenChannel:_e.exports.bool,disableUserProfile:_e.exports.bool,renderUserProfile:_e.exports.func};Ik.defaultProps={isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null};var za={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},$s={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function rue(e){switch(e){case za.H_1:return"sendbird-label--h-1";case za.H_2:return"sendbird-label--h-2";case za.SUBTITLE_1:return"sendbird-label--subtitle-1";case za.SUBTITLE_2:return"sendbird-label--subtitle-2";case za.BODY_1:return"sendbird-label--body-1";case za.BODY_2:return"sendbird-label--body-2";case za.BUTTON_1:return"sendbird-label--button-1";case za.BUTTON_2:return"sendbird-label--button-2";case za.CAPTION_1:return"sendbird-label--caption-1";case za.CAPTION_2:return"sendbird-label--caption-2";case za.CAPTION_3:return"sendbird-label--caption-3";default:return null}}function VL(e){switch(e){case $s.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case $s.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case $s.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case $s.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case $s.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case $s.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case $s.PRIMARY:return"sendbird-label--color-primary";case $s.ERROR:return"sendbird-label--color-error";case $s.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return null}}function Qn(e){var n=e.className,t=e.type,r=e.color,s=e.children;return S.createElement("span",{className:[].concat(oc(Array.isArray(n)?n:[n]),["sendbird-label",t?rue(t):"",r?VL(r):""]).join(" ")},s)}Qn.propTypes={className:_e.exports.oneOfType([_e.exports.string,_e.exports.arrayOf(_e.exports.string)]),type:_e.exports.oneOf(["H_1","H_2","SUBTITLE_1","SUBTITLE_2","BODY_1","BODY_2","BUTTON_1","BUTTON_2","CAPTION_1","CAPTION_2","CAPTION_3"]),color:_e.exports.oneOf(["ONBACKGROUND_1","ONBACKGROUND_2","ONBACKGROUND_3","ONBACKGROUND_4","ONCONTENT_1","ONCONTENT_2","PRIMARY","ERROR","SECONDARY_3"]),children:_e.exports.oneOfType([_e.exports.string,_e.exports.number,_e.exports.element,_e.exports.any])};Qn.defaultProps={className:[],type:"",color:"",children:null};var Kn=za,jn=$s,Jl=S.forwardRef(function(e,n){var t=e.className,r=t===void 0?"":t,s=e.children,u=e.disabled,d=u===void 0?!1:u,p=e.width,g=p===void 0?"56px":p,_=e.height,y=_===void 0?"56px":_,E=e.type,x=E===void 0?"button":E,k=e.style,T=k===void 0?{}:k,I=e.onBlur,P=I===void 0?function(){}:I,N=e.onClick,O=N===void 0?function(){}:N,U=de.exports.useState(!1),L=U[0],ee=U[1];return S.createElement("button",{className:Bn(Bn([],Array.isArray(r)?r:[r],!0),["sendbird-iconbutton",L?"sendbird-iconbutton--pressed":""],!1).join(" "),disabled:d,ref:n,type:x,style:hn(hn({},T),{height:y,width:g}),onClick:function(J){d||(ee(!0),O==null||O(J))},onBlur:function(J){ee(!1),P==null||P(J)}},S.createElement("span",{className:"sendbird-iconbutton__inner"},s))}),qa=function(n){var t=n.className,r=t===void 0?"":t,s=n.url,u=n.alt,d=u===void 0?"":u,p=n.width,g=p===void 0?null:p,_=n.height,y=_===void 0?null:_,E=n.circle,x=E===void 0?!1:E,k=n.fixedSize,T=k===void 0?!1:k,I=n.placeHolder,P=I===void 0?null:I,N=n.defaultComponent,O=N===void 0?null:N,U=n.onLoad,L=U===void 0?function(){}:U,ee=n.onError,V=ee===void 0?function(){}:ee,J=de.exports.useState(!1),Y=J[0],ye=J[1],ve=de.exports.useState(!0),Ue=ve[0],Ne=ve[1],ce=de.exports.useMemo(function(){return typeof O=="function"?O():O},[O]),Ee=de.exports.useMemo(function(){return P&&typeof P=="function"?P({style:{width:"100%",minWidth:g,maxWidth:T?g:"400px",height:y,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):null},[P]),ge=de.exports.useMemo(function(){return ye(!1),S.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:s,alt:d,onLoad:function(){Ne(!1),L()},onError:function(){ye(!0),V()}})},[s]);return S.createElement("div",{className:Bn(Bn([],Array.isArray(r)?r:[r],!0),["sendbird-image-renderer"],!1).join(" "),style:{width:"100%",minWidth:g,maxWidth:T?g:"400px",height:y}},Ue&&Ee,Y?ce:S.createElement("div",{className:"sendbird-image-renderer__image",style:{width:"100%",minWidth:g,maxWidth:T?g:"400px",height:y,position:"absolute",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat(s,")"),borderRadius:x?"50%":null}}),ge)},qe={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"},DA;function Uw(){return Uw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Uw.apply(this,arguments)}function iue(e){return se("svg",{...Uw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:DA||(DA=se("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"}))})}var UA;function Lw(){return Lw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Lw.apply(this,arguments)}function aue(e){return se("svg",{...Lw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:UA||(UA=se("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"}))})}var LA;function Pw(){return Pw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Pw.apply(this,arguments)}function sue(e){return se("svg",{...Pw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:LA||(LA=se("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"}))})}var PA;function Fw(){return Fw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Fw.apply(this,arguments)}function oue(e){return se("svg",{...Fw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:PA||(PA=se("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"}))})}var FA;function Hw(){return Hw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Hw.apply(this,arguments)}function lue(e){return se("svg",{...Hw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:FA||(FA=se("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"}))})}var HA;function zw(){return zw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},zw.apply(this,arguments)}function uue(e){return se("svg",{...zw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:HA||(HA=se("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"}))})}var zA;function qw(){return qw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qw.apply(this,arguments)}function cue(e){return se("svg",{...qw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:zA||(zA=se("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"}))})}var qA;function Bw(){return Bw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Bw.apply(this,arguments)}function due(e){return se("svg",{...Bw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:qA||(qA=se("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"}))})}var BA;function jw(){return jw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},jw.apply(this,arguments)}function hue(e){return se("svg",{...jw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:BA||(BA=se("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"}))})}var jA;function Gw(){return Gw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Gw.apply(this,arguments)}function pue(e){return se("svg",{...Gw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:jA||(jA=se("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"}))})}var GA;function $w(){return $w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$w.apply(this,arguments)}function fue(e){return se("svg",{...$w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:GA||(GA=se("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"}))})}var $A;function Vw(){return Vw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vw.apply(this,arguments)}function gue(e){return se("svg",{...Vw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:$A||($A=se("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"}))})}var VA;function Ww(){return Ww=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ww.apply(this,arguments)}function mue(e){return se("svg",{...Ww({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:VA||(VA=se("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"}))})}var WA;function Kw(){return Kw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Kw.apply(this,arguments)}function vue(e){return se("svg",{...Kw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:WA||(WA=se("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"}))})}var KA;function Qw(){return Qw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Qw.apply(this,arguments)}function _ue(e){return se("svg",{...Qw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:KA||(KA=se("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"}))})}var QA;function Yw(){return Yw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yw.apply(this,arguments)}function bue(e){return se("svg",{...Yw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:QA||(QA=se("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"}))})}var YA;function Xw(){return Xw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Xw.apply(this,arguments)}function yue(e){return se("svg",{...Xw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:YA||(YA=se("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"}))})}var XA;function Zw(){return Zw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Zw.apply(this,arguments)}function Eue(e){return se("svg",{...Zw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:XA||(XA=se("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"}))})}var ZA;function Jw(){return Jw=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Jw.apply(this,arguments)}function wue(e){return se("svg",{...Jw({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:ZA||(ZA=se("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"}))})}var JA;function ex(){return ex=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ex.apply(this,arguments)}function xue(e){return se("svg",{...ex({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:JA||(JA=se("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"}))})}var e5;function nx(){return nx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},nx.apply(this,arguments)}function kue(e){return se("svg",{...nx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:e5||(e5=se("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"}))})}var n5;function tx(){return tx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},tx.apply(this,arguments)}function Sue(e){return se("svg",{...tx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},e),children:n5||(n5=se("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"}))})}var t5;function rx(){return rx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rx.apply(this,arguments)}function Cue(e){return se("svg",{...rx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:t5||(t5=se("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"}))})}var r5;function ix(){return ix=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ix.apply(this,arguments)}function Tue(e){return se("svg",{...ix({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:r5||(r5=se("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"}))})}var i5;function ax(){return ax=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ax.apply(this,arguments)}function Iue(e){return se("svg",{...ax({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:i5||(i5=se("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"}))})}var a5;function sx(){return sx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},sx.apply(this,arguments)}function Nue(e){return se("svg",{...sx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:a5||(a5=se("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"}))})}var s5;function ox(){return ox=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ox.apply(this,arguments)}function Oue(e){return se("svg",{...ox({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:s5||(s5=se("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"}))})}var o5;function lx(){return lx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},lx.apply(this,arguments)}function Aue(e){return se("svg",{...lx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:o5||(o5=se("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"}))})}var l5;function ux(){return ux=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ux.apply(this,arguments)}function Rue(e){return se("svg",{...ux({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:l5||(l5=se("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"}))})}var u5;function cx(){return cx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cx.apply(this,arguments)}function Mue(e){return se("svg",{...cx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:u5||(u5=se("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"}))})}var c5;function dx(){return dx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},dx.apply(this,arguments)}function Due(e){return se("svg",{...dx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:c5||(c5=se("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"}))})}var d5;function hx(){return hx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hx.apply(this,arguments)}function Uue(e){return se("svg",{...hx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:d5||(d5=se("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"}))})}var h5;function px(){return px=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},px.apply(this,arguments)}function Lue(e){return se("svg",{...px({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:h5||(h5=se("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"}))})}var p5;function fx(){return fx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fx.apply(this,arguments)}function Pue(e){return se("svg",{...fx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:p5||(p5=se("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"}))})}var f5;function gx(){return gx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},gx.apply(this,arguments)}function Fue(e){return se("svg",{...gx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:f5||(f5=se("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"}))})}var g5;function mx(){return mx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},mx.apply(this,arguments)}function Hue(e){return se("svg",{...mx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:g5||(g5=se("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"}))})}var m5;function vx(){return vx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},vx.apply(this,arguments)}function zue(e){return se("svg",{...vx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:m5||(m5=se("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"}))})}var v5;function _x(){return _x=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_x.apply(this,arguments)}function que(e){return se("svg",{..._x({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:v5||(v5=se("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"}))})}var _5;function bx(){return bx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},bx.apply(this,arguments)}function Bue(e){return se("svg",{...bx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:_5||(_5=se("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"}))})}var b5;function yx(){return yx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},yx.apply(this,arguments)}function jue(e){return se("svg",{...yx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:b5||(b5=se("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"}))})}var y5;function Ex(){return Ex=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ex.apply(this,arguments)}function Gue(e){return se("svg",{...Ex({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:y5||(y5=se("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"}))})}var E5;function wx(){return wx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},wx.apply(this,arguments)}function $ue(e){return se("svg",{...wx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:E5||(E5=se("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"}))})}var w5;function xx(){return xx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},xx.apply(this,arguments)}function Vue(e){return se("svg",{...xx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:w5||(w5=se("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"}))})}var x5;function kx(){return kx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},kx.apply(this,arguments)}function Wue(e){return se("svg",{...kx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:x5||(x5=se("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"}))})}var k5;function Sx(){return Sx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Sx.apply(this,arguments)}function Kue(e){return se("svg",{...Sx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:k5||(k5=se("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"}))})}var S5;function Cx(){return Cx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Cx.apply(this,arguments)}function Que(e){return se("svg",{...Cx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},e),children:S5||(S5=se("path",{className:"icon-reply-filled_svg__fill",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",fill:"#000",fillRule:"evenodd"}))})}var C5;function Tx(){return Tx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Tx.apply(this,arguments)}function Yue(e){return se("svg",{...Tx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:C5||(C5=se("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"}))})}var T5;function Ix(){return Ix=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ix.apply(this,arguments)}function Xue(e){return se("svg",{...Ix({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:T5||(T5=se("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"}))})}var I5;function Nx(){return Nx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Nx.apply(this,arguments)}function Zue(e){return se("svg",{...Nx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:I5||(I5=se("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"}))})}var N5;function Ox(){return Ox=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ox.apply(this,arguments)}function Jue(e){return se("svg",{...Ox({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:N5||(N5=se("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"}))})}var O5;function Ax(){return Ax=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ax.apply(this,arguments)}function ece(e){return se("svg",{...Ax({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:O5||(O5=se("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"}))})}var A5;function Rx(){return Rx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Rx.apply(this,arguments)}function nce(e){return se("svg",{...Rx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:A5||(A5=se("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"}))})}var R5;function Mx(){return Mx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Mx.apply(this,arguments)}function tce(e){return se("svg",{...Mx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},e),children:R5||(R5=nr("g",{fill:"none",fillRule:"evenodd",children:[se("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),se("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),se("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),se("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"})]}))})}var M5;function Dx(){return Dx=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Dx.apply(this,arguments)}function rce(e){return se("svg",{...Dx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},e),children:M5||(M5=nr("g",{fill:"none",fillRule:"evenodd",children:[se("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),se("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),se("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),se("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"})]}))})}var D5;function Ux(){return Ux=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ux.apply(this,arguments)}function ice(e){return se("svg",{...Ux({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),children:D5||(D5=se("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"}))})}var Ai={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",GRAY:"GRAY",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function ace(e){switch(e){case Ai.PRIMARY:return"sendbird-icon-color--primary";case Ai.SECONDARY:return"sendbird-icon-color--secondary";case Ai.CONTENT:return"sendbird-icon-color--content";case Ai.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case Ai.WHITE:return"sendbird-icon-color--white";case Ai.GRAY:return"sendbird-icon-color--gray";case Ai.SENT:return"sendbird-icon-color--sent";case Ai.READ:return"sendbird-icon-color--read";case Ai.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case Ai.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case Ai.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case Ai.BACKGROUND_3:return"sendbird-icon-color--background-3";case Ai.ERROR:return"sendbird-icon-color--error";default:return""}}function sce(e){switch(e){case qe.ADD:return S.createElement(iue,null);case qe.ARROW_LEFT:return S.createElement(aue,null);case qe.ATTACH:return S.createElement(sue,null);case qe.BAN:return S.createElement(oue,null);case qe.BROADCAST:return S.createElement(lue,null);case qe.CAMERA:return S.createElement(uue,null);case qe.CHANNELS:return S.createElement(cue,null);case qe.CHAT:return S.createElement(due,null);case qe.CHAT_FILLED:return S.createElement(hue,null);case qe.CHEVRON_DOWN:return S.createElement(pue,null);case qe.CHEVRON_RIGHT:return S.createElement(fue,null);case qe.CLOSE:return S.createElement(gue,null);case qe.COLLAPSE:return S.createElement(mue,null);case qe.COPY:return S.createElement(vue,null);case qe.CREATE:return S.createElement(_ue,null);case qe.DELETE:return S.createElement(bue,null);case qe.DISCONNECTED:return S.createElement(yue,null);case qe.DOCUMENT:return S.createElement(Eue,null);case qe.DONE:return S.createElement(wue,null);case qe.DONE_ALL:return S.createElement(xue,null);case qe.DOWNLOAD:return S.createElement(kue,null);case qe.EDIT:return S.createElement(Sue,null);case qe.EMOJI_MORE:return S.createElement(Cue,null);case qe.ERROR:return S.createElement(Tue,null);case qe.EXPAND:return S.createElement(Iue,null);case qe.FILE_AUDIO:return S.createElement(Nue,null);case qe.FILE_DOCUMENT:return S.createElement(Oue,null);case qe.FREEZE:return S.createElement(Aue,null);case qe.GIF:return S.createElement(Rue,null);case qe.INFO:return S.createElement(Mue,null);case qe.LEAVE:return S.createElement(Due,null);case qe.MEMBERS:return S.createElement(Uue,null);case qe.MESSAGE:return S.createElement(Lue,null);case qe.MODERATIONS:return S.createElement(Pue,null);case qe.MORE:return S.createElement(Fue,null);case qe.MUTE:return S.createElement(Hue,null);case qe.NOTIFICATIONS:return S.createElement(zue,null);case qe.NOTIFICATIONS_OFF_FILLED:return S.createElement(que,null);case qe.OPERATOR:return S.createElement(Bue,null);case qe.PHOTO:return S.createElement(jue,null);case qe.PLAY:return S.createElement(Gue,null);case qe.PLUS:return S.createElement($ue,null);case qe.QUESTION:return S.createElement(Vue,null);case qe.REFRESH:return S.createElement(Wue,null);case qe.REMOVE:return S.createElement(Kue,null);case qe.REPLY:return S.createElement(Que,null);case qe.SEARCH:return S.createElement(Yue,null);case qe.SEND:return S.createElement(Xue,null);case qe.SETTINGS_FILLED:return S.createElement(Zue,null);case qe.SPINNER:return S.createElement(Jue,null);case qe.SUPERGROUP:return S.createElement(ece,null);case qe.THUMBNAIL_NONE:return S.createElement(nce,null);case qe.TOGGLE_OFF:return S.createElement(tce,null);case qe.TOGGLE_ON:return S.createElement(rce,null);case qe.USER:return S.createElement(ice,null);default:return"icon"}}function oce(e){switch(e){case qe.ADD:return"sendbird-icon-add";case qe.ARROW_LEFT:return"sendbird-icon-arrow-left";case qe.ATTACH:return"sendbird-icon-attach";case qe.BAN:return"sendbird-icon-ban";case qe.BROADCAST:return"sendbird-icon-broadcast";case qe.CAMERA:return"sendbird-icon-camera";case qe.CHANNELS:return"sendbird-icon-channels";case qe.CHAT:return"sendbird-icon-chat";case qe.CHAT_FILLED:return"sendbird-icon-chat-filled";case qe.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case qe.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case qe.CLOSE:return"sendbird-icon-close";case qe.COLLAPSE:return"sendbird-icon-collapse";case qe.COPY:return"sendbird-icon-copy";case qe.CREATE:return"sendbird-icon-create";case qe.DELETE:return"sendbird-icon-delete";case qe.DISCONNECTED:return"sendbird-icon-disconnected";case qe.DOCUMENT:return"sendbird-icon-document";case qe.DONE:return"sendbird-icon-done";case qe.DONE_ALL:return"sendbird-icon-done-all";case qe.DOWNLOAD:return"sendbird-icon-down-load";case qe.EDIT:return"sendbird-icon-edit";case qe.EMOJI_MORE:return"sendbird-icon-emoji-more";case qe.ERROR:return"sendbird-icon-error";case qe.EXPAND:return"sendbird-icon-expand";case qe.FILE_AUDIO:return"sendbird-icon-file-audio";case qe.FILE_DOCUMENT:return"sendbird-icon-file-document";case qe.FREEZE:return"sendbird-icon-freeze";case qe.GIF:return"sendbird-icon-gif";case qe.INFO:return"sendbird-icon-info";case qe.LEAVE:return"sendbird-icon-leave";case qe.MEMBERS:return"sendbird-icon-members";case qe.MESSAGE:return"sendbird-icon-message";case qe.MODERATIONS:return"sendbird-icon-moderations";case qe.MORE:return"sendbird-icon-more";case qe.MUTE:return"sendbird-icon-mute";case qe.NOTIFICATIONS:return"sendbird-icon-notifications";case qe.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case qe.OPERATOR:return"sendbird-icon-operator";case qe.PHOTO:return"sendbird-icon-photo";case qe.PLAY:return"sendbird-icon-play";case qe.PLUS:return"sendbird-iconn-plus";case qe.QUESTION:return"sendbird-icon-question";case qe.REFRESH:return"sendbird-icon-refresh";case qe.REMOVE:return"sendbird-icon-remove";case qe.REPLY:return"sendbird-icon-reply";case qe.SEARCH:return"sendbird-icon-search";case qe.SEND:return"sendbird-icon-send";case qe.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case qe.SPINNER:return"sendbird-icon-spinner";case qe.SUPERGROUP:return"sendbird-icon-supergroup";case qe.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case qe.TOGGLE_OFF:return"sendbird-icon-toggle-off";case qe.TOGGLE_ON:return"sendbird-icon-toggle-on";case qe.USER:return"sendbird-icon-user";default:return"sendbird-icon-unknown"}}function ot(e){var n=e.className,t=e.type,r=e.fillColor,s=e.width,u=e.height,d=e.onClick,p=e.children,g={width:typeof s=="string"?s:"".concat(s,"px"),minWidth:typeof s=="string"?s:"".concat(s,"px"),height:typeof u=="string"?u:"".concat(u,"px"),minHeight:typeof u=="string"?u:"".concat(u,"px")};return S.createElement("div",{className:[].concat(oc(Array.isArray(n)?n:[n]),["sendbird-icon",oce(t),ace(r)]).join(" "),role:"button",onClick:d,onKeyDown:d,tabIndex:"0",style:g},p||sce(t))}ot.propTypes={className:_e.exports.oneOfType([_e.exports.string,_e.exports.arrayOf(_e.exports.string)]),type:_e.exports.oneOfType([_e.exports.oneOf(Object.keys(qe)),_e.exports.string]).isRequired,fillColor:_e.exports.oneOf(Object.keys(Ai)),width:_e.exports.oneOfType([_e.exports.string,_e.exports.number]),height:_e.exports.oneOfType([_e.exports.string,_e.exports.number]),onClick:_e.exports.func,children:_e.exports.element};ot.defaultProps={className:"",fillColor:Ai.DEFAULT,width:26,height:26,onClick:function(){},children:null};var tt=qe,bt=Ai,U5=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var n=Number.parseFloat(e);if(!Number.isNaN(n))return n}return null},So="sendbird-avatar-img",lce=function(n){var t=n.width,r=n.height,s=U5(t),u=U5(r);return typeof s=="number"&&(s*=.575),typeof u=="number"&&(u*=.575),S.createElement("div",{className:"sendbird-avatar-img--default",style:{width:t,height:r}},S.createElement(ot,{type:tt.USER,fillColor:bt.CONTENT,width:s,height:u}))},uce=function(n){var t=n.width,r=n.height;return S.createElement(lce,{width:t,height:r})},cce=function(n){var t=n.src,r=t===void 0?"":t,s=n.alt,u=s===void 0?"":s,d=n.height,p=n.width,g=n.customDefaultComponent,_=function(){return g?g({width:p,height:d}):uce({width:p,height:d})};return typeof r=="string"?S.createElement(qa,{className:So,url:r,height:d,width:p,alt:u,defaultComponent:_}):r&&r.length?r.length===1?S.createElement(qa,{className:So,url:r[0],height:d,width:p,alt:u,defaultComponent:_}):r.length===2?S.createElement("div",{className:"sendbird-avatar--inner__two-child"},S.createElement(qa,{className:So,url:r[0],height:d,width:p,alt:u,defaultComponent:_}),S.createElement(qa,{className:So,url:r[1],height:d,width:p,alt:u,defaultComponent:_})):r.length===3?S.createElement(S.Fragment,null,S.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},S.createElement(qa,{className:So,url:r[0],height:d,width:p,alt:u,defaultComponent:_})),S.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},S.createElement(qa,{className:So,url:r[1],height:d,width:p,alt:u,defaultComponent:_}),S.createElement(qa,{className:So,url:r[2],height:d,width:p,alt:u,defaultComponent:_}))):S.createElement("div",{className:"sendbird-avatar--inner__four-child"},r.slice(0,4).map(function(y){return S.createElement(qa,{className:So,url:y,height:d,width:p,alt:u,key:vc(),defaultComponent:_})})):S.createElement(qa,{className:So,url:"",height:d,width:p,alt:u,defaultComponent:_})};function dce(e,n){var t=e.className,r=t===void 0?"":t,s=e.src,u=s===void 0?"":s,d=e.alt,p=d===void 0?"":d,g=e.width,_=g===void 0?"56px":g,y=e.height,E=y===void 0?"56px":y,x=e.onClick,k=e.customDefaultComponent;return S.createElement("div",{className:Bn(Bn([],Array.isArray(r)?r:[r],!0),["sendbird-avatar"],!1).join(" "),role:"button",ref:n,style:{height:E,width:_},onClick:x,onKeyDown:x,tabIndex:0},S.createElement(cce,{src:u,width:_,height:E,alt:p,customDefaultComponent:k}))}var Rc=S.forwardRef(dce),Xo=function(n){var t=n.stores,r=t===void 0?{}:t,s=r.sdkStore,u=s===void 0?{}:s,d=u.sdk;return d},ou=function(n){var t=n.config,r=t===void 0?{}:t,s=r.pubSub;return s},hce=function(n){return function(t,r){return new Promise(function(s,u){var d=Xo(n);d||u(new Error("Sdk not found")),(d==null?void 0:d.connect)&&typeof d.connect=="function"||u(new Error('Not found the function "connect')),r?d.connect(t,r).then(function(p){return s(p)}).catch(function(p){return u(p)}):d.connect(t).then(function(p){return s(p)}).catch(function(p){return u(p)})})}},pce=function(n){return function(){return new Promise(function(t,r){var s=Xo(n);s||r(new Error("Sdk not found")),s.disconnect&&typeof s.disconnect=="function"||r(new Error('Not found the function "disconnect')),s.disconnect().then(function(u){return t(u)}).catch(function(u){return r(u)})})}},fce=function(n){return function(t,r){return new Promise(function(s,u){var d=Xo(n);d||u(new Error("Sdk not found")),d.updateCurrentUserInfo&&typeof d.updateCurrentUserInfo=="function"||u(new Error('Not found the function "updateCurrentUserInfo"'));var p={nickname:t};r&&(p.profileUrl=r),d.updateCurrentUserInfo(p).then(function(g){return s(g)}).catch(function(g){return u(g)})})}},WL=function(n){return function(t){return new Promise(function(r,s){var u=Xo(n),d=ou(n);u||s(new Error("Sdk not found")),u.groupChannel||s(new Error("Not found GroupChannelModule")),u.groupChannel.createChannel&&typeof u.groupChannel.createChannel=="function"||s(new Error('Not found the function "createChannel"')),u.groupChannel.createChannel(t).then(function(p){r(p),d.publish(tue,{channel:p})}).catch(s)})}},gce=function(n){return function(t){return new Promise(function(r,s){var u=Xo(n);u||s(new Error("Sdk not found")),u.openChannel||s(new Error("Not found OpenChannelModule")),u.openChannel.createChannel&&typeof u.openChannel.createChannel=="function"||s(new Error('Not found the function "createChannel"')),u.openChannel.createChannel(t).then(function(d){r(d)}).catch(s)})}},KL=function(n){return function(t){return new Promise(function(r,s){var u=Xo(n);u||s(new Error("Sdk not found")),u.groupChannel||s(new Error("Not found GroupChannelModule")),u.groupChannel.getChannel&&typeof u.groupChannel.getChannel=="function"||s(new Error('Not found the function "getChannel"')),u.groupChannel.getChannel(t).then(function(d){r(d)}).catch(s)})}},Nk=function(n){return function(t){return new Promise(function(r,s){var u=Xo(n);u||s(new Error("Sdk not found")),u.openChannel||s(new Error("Not found OpenChannelModule")),u.openChannel.getChannel&&typeof u.openChannel.getChannel=="function"||s(new Error('Not found the function "getChannel"')),u.openChannel.getChannel(t).then(function(d){r(d)}).catch(s)})}},mce=function(n){return function(t){return new Promise(function(r,s){var u;(u=KL(n))===null||u===void 0||u(t).then(function(d){d.leave().then(function(){r()}).catch(s)}).catch(s)})}},vce=function(n){return function(t){return new Promise(function(r,s){var u;(u=Nk(n))===null||u===void 0||u(t).then(function(d){d.enter().then(function(){r(d)}).catch(s)}).catch(s)})}},_ce=function(n){return function(t){return new Promise(function(r,s){var u;(u=Nk(n))===null||u===void 0||u(t).then(function(d){d.exit().then(function(){r(d)}).catch(s)}).catch(s)})}},bce=function(){return function(n){return new Promise(function(t,r){n.freeze&&typeof(n==null?void 0:n.freeze)=="function"||r(new Error('Not found the function "freeze"')),n.freeze().then(function(){t()}).catch(r)})}},yce=function(){return function(n){return new Promise(function(t,r){n.unfreeze&&typeof(n==null?void 0:n.unfreeze)=="function"||r(new Error('Not found the function "unfreeze"')),n.unfreeze().then(function(){t()}).catch(r)})}},QL=function(){function e(){this._onPending=Km,this._onFailed=Km,this._onSucceeded=Km}return e.prototype.triggerPending=function(n){this._onPending(n)},e.prototype.triggerFailed=function(n,t){this._onFailed(n,t.isResendable?t:null)},e.prototype.triggerSucceeded=function(n){this._onSucceeded(n)},e.prototype.onPending=function(n){return typeof n=="function"&&(this._onPending=n),this},e.prototype.onFailed=function(n){return typeof n=="function"&&(this._onFailed=n),this},e.prototype.onSucceeded=function(n){return typeof n=="function"&&(this._onSucceeded=n),this},e}(),Ece=function(n){return function(t,r){var s=new QL,u=ou(n);return t.sendUserMessage(r).onFailed(function(d,p){return s.triggerFailed(d,p)}).onPending(function(d){u.publish(Mv,{message:d,channel:t}),s.triggerPending(d)}).onSucceeded(function(d){u.publish(Dv,{message:d,channel:t}),s.triggerSucceeded(d)}),s}},wce=function(n){return function(t,r){var s=new QL,u=ou(n);return t.sendFileMessage(r).onFailed(function(d,p){return s.triggerFailed(d,p)}).onPending(function(d){u.publish(Mv,{message:d,channel:t}),s.triggerPending(d)}).onSucceeded(function(d){u.publish(Uv,{message:d,channel:t}),s.triggerSucceeded(d)}),s}},xce=function(n){return function(t,r,s){return new Promise(function(u,d){var p=ou(n);t.updateUserMessage(r,s).then(function(g){p.publish(Mw,{message:g,channel:t,fromSelector:!0}),u(g)}).catch(d)})}},kce=function(n){return function(t,r){return new Promise(function(s,u){var d=ou(n),p=r.messageId;t.deleteMessage(r).then(function(){d.publish(Dw,{messageId:p,channel:t}),s(r)}).catch(u)})}},Sce=function(n){return function(t,r){return new Promise(function(s,u){var d=ou(n);t.resendUserMessage(r).then(function(p){d.publish(Dv,{message:p,channel:t}),s(p)}).catch(u)})}},Cce=function(n){return function(t,r,s){return new Promise(function(u,d){var p=ou(n);t.resendFileMessage(r,s).then(function(g){p.publish(Uv,{message:g,channel:t}),u(g)}).catch(d)})}},Ok={getSdk:Xo,getPubSub:ou,getConnect:hce,getDisconnect:pce,getUpdateUserInfo:fce,getCreateGroupChannel:WL,getCreateOpenChannel:gce,getGetGroupChannel:KL,getGetOpenChannel:Nk,getLeaveGroupChannel:mce,getEnterOpenChannel:vce,getExitOpenChannel:_ce,getFreezeChannel:bce,getUnfreezeChannel:yce,getSendUserMessage:Ece,getSendFileMessage:wce,getUpdateUserMessage:xce,getDeleteMessage:kce,getResendUserMessage:Sce,getResendFileMessage:Cce},L5;(function(e){e.GROUP="group",e.SUPERGROUP="supergroup",e.BROADCAST="broadcast"})(L5||(L5={}));var YL="sendbird-modal-root",Ul;(function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY",e[e.DANGER=2]="DANGER",e[e.DISABLED=3]="DISABLED"})(Ul||(Ul={}));var uh;(function(e){e[e.BIG=0]="BIG",e[e.SMALL=1]="SMALL"})(uh||(uh={}));function Tce(e){switch(e){case Ul.PRIMARY:return"sendbird-button--primary";case Ul.SECONDARY:return"sendbird-button--secondary";case Ul.DANGER:return"sendbird-button--danger";case Ul.DISABLED:return"sendbird-button--disabled";default:return null}}function Ice(e){switch(e){case uh.BIG:return"sendbird-button--big";case uh.SMALL:return"sendbird-button--small";default:return null}}function Zf(e){var n=e.className,t=e.type,r=t===void 0?Ul.PRIMARY:t,s=e.size,u=s===void 0?uh.BIG:s,d=e.children,p=d===void 0?"Button":d,g=e.disabled,_=g===void 0?!1:g,y=e.onClick,E=y===void 0?function(){}:y,x=Bn(Bn([],Array.isArray(n)?n:[n],!0),["sendbird-button",_?"sendbird-button__disabled":"",Tce(r),Ice(u)],!1).join(" ");return S.createElement("button",{className:x,type:"button",onClick:E,disabled:_},S.createElement(Qn,{className:"sendbird-button__text",type:Kn.BUTTON_1,color:jn.ONCONTENT_1},p))}var ch=Ul,P5=uh,Nce=function(n){var t=n.titleText;return S.createElement("div",{className:"sendbird-modal__header"},S.createElement(Qn,{type:Kn.H_1,color:jn.ONBACKGROUND_1},t))},Oce=function(n){var t=n.children;return S.createElement("div",{className:"sendbird-modal__body"},S.createElement(Qn,{type:Kn.SUBTITLE_1,color:jn.ONBACKGROUND_2},t))},Ace=function(n){var t=n.submitText,r=n.disabled,s=r===void 0?!1:r,u=n.type,d=u===void 0?ch.DANGER:u,p=n.onSubmit,g=n.onCancel,_=de.exports.useContext(Is).stringSet;return S.createElement("div",{className:"sendbird-modal__footer"},S.createElement(Zf,{type:ch.SECONDARY,onClick:g},S.createElement(Qn,{type:Kn.BUTTON_1,color:jn.ONBACKGROUND_1},_.BUTTON__CANCEL)),S.createElement(Zf,{type:d,disabled:s,onClick:p},t))};function Rce(e){var n=e.children,t=n===void 0?null:n,r=e.titleText,s=e.submitText,u=e.disabled,d=u===void 0?!1:u,p=e.hideFooter,g=p===void 0?!1:p,_=e.type,y=_===void 0?ch.DANGER:_,E=e.onCancel,x=E===void 0?function(){}:E,k=e.onSubmit,T=k===void 0?function(){}:k;return mh.exports.createPortal(S.createElement("div",{className:"sendbird-modal"},S.createElement("div",{className:"sendbird-modal__content"},S.createElement(Nce,{titleText:r}),S.createElement(Oce,null,t),!g&&S.createElement(Ace,{disabled:d,onCancel:x,onSubmit:T,submitText:s,type:y}),S.createElement("div",{className:"sendbird-modal__close"},S.createElement(Jl,{width:"32px",height:"32px",onClick:x},S.createElement(ot,{type:tt.CLOSE,fillColor:bt.DEFAULT,width:"24px",height:"24px"})))),S.createElement("div",{className:"sendbird-modal__backdrop"})),document.getElementById(YL))}function Mce(e){var n=e.user,t=e.currentUserId,r=e.logger,s=e.disableMessaging,u=s===void 0?!1:s,d=e.createChannel,p=e.onSuccess,g=de.exports.useContext(Is).stringSet;return S.createElement("div",{className:"sendbird__user-profile"},S.createElement("section",{className:"sendbird__user-profile-avatar"},S.createElement(Rc,{height:"80px",width:"80px",src:n==null?void 0:n.profileUrl})),S.createElement("section",{className:"sendbird__user-profile-name"},S.createElement(Qn,{type:Kn.H_2,color:jn.ONBACKGROUND_1},(n==null?void 0:n.nickname)||g.NO_NAME)),(n==null?void 0:n.userId)!==t&&!u&&S.createElement("section",{className:"sendbird__user-profile-message"},S.createElement(Zf,{type:ch.SECONDARY,onClick:function(){var y={isDistinct:!0,invitedUserIds:[n==null?void 0:n.userId]};p(),d(y).then(function(E){r.info("UserProfile, channel create",E)})}},g.USER_PROFILE__MESSAGE)),S.createElement("div",{className:"sendbird__user-profile-separator"}),S.createElement("section",{className:"sendbird__user-profile-userId"},S.createElement(Qn,{className:"sendbird__user-profile-userId--label",type:Kn.CAPTION_2,color:jn.ONBACKGROUND_2},g.USER_PROFILE__USER_ID),S.createElement(Qn,{className:"sendbird__user-profile-userId--value",type:Kn.BODY_1,color:jn.ONBACKGROUND_1},n==null?void 0:n.userId)))}var Dce=function(n){return{sdk:Xo(n),createChannel:WL(n),logger:n.config.logger,pubsub:n.config.pubSub}},m_=kte(Mce,Dce),Uce=function(e){Foe(n,e);function n(t){var r=e.call(this,t)||this;return r.menuRef=S.createRef(),r.setupEvents=function(){var s=r.props.closeDropdown,u=r.menuRef,d=function(g){var _,y;(u==null?void 0:u.current)&&!(!((y=(_=u==null?void 0:u.current)===null||_===void 0?void 0:_.contains)===null||y===void 0)&&y.call(_,g.target))&&(s==null||s())};r.setState({handleClickOutside:d}),document.addEventListener("mousedown",d)},r.cleanUpEvents=function(){var s=r.state.handleClickOutside;document.removeEventListener("mousedown",s)},r.getMenuPosition=function(){var s,u,d=r.props,p=d.parentRef,g=d.openLeft,_=(u=(s=p==null?void 0:p.current)===null||s===void 0?void 0:s.getBoundingClientRect)===null||u===void 0?void 0:u.call(s),y=(_==null?void 0:_.x)||(_==null?void 0:_.left)||0,E=(_==null?void 0:_.y)||(_==null?void 0:_.top)||0,x={top:E,left:y};if(!r.menuRef.current)return x;var k=window.innerWidth,T=window.innerHeight,I=r.menuRef.current.getBoundingClientRect();if(E+I.height>T&&(x.top-=I.height),y+I.width>k&&!g&&(x.left-=I.width),x.top<0&&(x.top=I.height<T?(T-I.height)/2:0),x.left<0&&(x.left=I.width<k?(k-I.width)/2:0),x.top+=32,g){var P=Number.isNaN(I.width-30)?108:I.width-30;x.left-=P}return r.setState({menuStyle:x}),x},r.state={menuStyle:{},handleClickOutside:function(){}},r}return n.prototype.componentDidMount=function(){this.setupEvents(),this.getMenuPosition()},n.prototype.componentWillUnmount=function(){this.cleanUpEvents()},n.prototype.render=function(){var t=this.state.menuStyle,r=this.props,s=r.children,u=r.style;return mh.exports.createPortal(S.createElement(S.Fragment,null,S.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),S.createElement("ul",{className:"sendbird-dropdown__menu",ref:this.menuRef,style:hn({display:"inline-block",position:"fixed",left:"".concat(Math.round(t.left),"px"),top:"".concat(Math.round(t.top),"px")},u)},s)),document.getElementById("sendbird-dropdown-portal"))},n}(S.Component),Lce=13,eu=Uce,Za=function(n){var t=n.className,r=t===void 0?"":t,s=n.children,u=n.onClick,d=n.disable,p=d===void 0?!1:d,g=function(y){!p&&u&&(u==null||u(y))};return S.createElement("li",{className:Sw([r,"sendbird-dropdown__menu-item",p?"disable":""]),role:"menuitem",onClick:g,onKeyPress:function(y){y.keyCode===Lce&&g(y)},tabIndex:0},S.createElement(Qn,{className:"sendbird-dropdown__menu-item__text",type:Kn.SUBTITLE_2,color:p?jn.ONBACKGROUND_4:jn.ONBACKGROUND_1},s))};function nu(e){var n=e.menuTrigger,t=e.menuItems,r=de.exports.useState(!1),s=r[0],u=r[1];return S.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},n(function(){return u(!s)}),s&&t(function(){return u(!1)}))}function Ui(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function Ns(e){Ui(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Pce(e){Ui(1,arguments);var n=Ns(e);return!isNaN(n)}function Ja(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function Fce(e,n){Ui(2,arguments);var t=Ns(e).getTime(),r=Ja(n);return new Date(t+r)}function Hce(e,n){Ui(2,arguments);var t=Ja(n);return Fce(e,-t)}function Lt(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}var Sl={y:function(e,n){var t=e.getUTCFullYear(),r=t>0?t:1-t;return Lt(n==="yy"?r%100:r,n.length)},M:function(e,n){var t=e.getUTCMonth();return n==="M"?String(t+1):Lt(t+1,2)},d:function(e,n){return Lt(e.getUTCDate(),n.length)},a:function(e,n){var t=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(e,n){return Lt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Lt(e.getUTCHours(),n.length)},m:function(e,n){return Lt(e.getUTCMinutes(),n.length)},s:function(e,n){return Lt(e.getUTCSeconds(),n.length)},S:function(e,n){var t=n.length,r=e.getUTCMilliseconds(),s=Math.floor(r*Math.pow(10,t-3));return Lt(s,n.length)}},zce=864e5;function qce(e){Ui(1,arguments);var n=Ns(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),s=t-r;return Math.floor(s/zce)+1}function Lv(e){Ui(1,arguments);var n=1,t=Ns(e),r=t.getUTCDay(),s=(r<n?7:0)+r-n;return t.setUTCDate(t.getUTCDate()-s),t.setUTCHours(0,0,0,0),t}function XL(e){Ui(1,arguments);var n=Ns(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var s=Lv(r),u=new Date(0);u.setUTCFullYear(t,0,4),u.setUTCHours(0,0,0,0);var d=Lv(u);return n.getTime()>=s.getTime()?t+1:n.getTime()>=d.getTime()?t:t-1}function Bce(e){Ui(1,arguments);var n=XL(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var r=Lv(t);return r}var jce=6048e5;function Gce(e){Ui(1,arguments);var n=Ns(e),t=Lv(n).getTime()-Bce(n).getTime();return Math.round(t/jce)+1}function Pv(e,n){Ui(1,arguments);var t=n||{},r=t.locale,s=r&&r.options&&r.options.weekStartsOn,u=s==null?0:Ja(s),d=t.weekStartsOn==null?u:Ja(t.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ns(e),g=p.getUTCDay(),_=(g<d?7:0)+g-d;return p.setUTCDate(p.getUTCDate()-_),p.setUTCHours(0,0,0,0),p}function ZL(e,n){Ui(1,arguments);var t=Ns(e,n),r=t.getUTCFullYear(),s=n||{},u=s.locale,d=u&&u.options&&u.options.firstWeekContainsDate,p=d==null?1:Ja(d),g=s.firstWeekContainsDate==null?p:Ja(s.firstWeekContainsDate);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(r+1,0,g),_.setUTCHours(0,0,0,0);var y=Pv(_,n),E=new Date(0);E.setUTCFullYear(r,0,g),E.setUTCHours(0,0,0,0);var x=Pv(E,n);return t.getTime()>=y.getTime()?r+1:t.getTime()>=x.getTime()?r:r-1}function $ce(e,n){Ui(1,arguments);var t=n||{},r=t.locale,s=r&&r.options&&r.options.firstWeekContainsDate,u=s==null?1:Ja(s),d=t.firstWeekContainsDate==null?u:Ja(t.firstWeekContainsDate),p=ZL(e,n),g=new Date(0);g.setUTCFullYear(p,0,d),g.setUTCHours(0,0,0,0);var _=Pv(g,n);return _}var Vce=6048e5;function Wce(e,n){Ui(1,arguments);var t=Ns(e),r=Pv(t,n).getTime()-$ce(t,n).getTime();return Math.round(r/Vce)+1}var xd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kce={G:function(e,n,t){var r=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){var r=e.getUTCFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return Sl.y(e,n)},Y:function(e,n,t,r){var s=ZL(e,r),u=s>0?s:1-s;if(n==="YY"){var d=u%100;return Lt(d,2)}return n==="Yo"?t.ordinalNumber(u,{unit:"year"}):Lt(u,n.length)},R:function(e,n){var t=XL(e);return Lt(t,n.length)},u:function(e,n){var t=e.getUTCFullYear();return Lt(t,n.length)},Q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Lt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Lt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){var r=e.getUTCMonth();switch(n){case"M":case"MM":return Sl.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){var r=e.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return Lt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){var s=Wce(e,r);return n==="wo"?t.ordinalNumber(s,{unit:"week"}):Lt(s,n.length)},I:function(e,n,t){var r=Gce(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Lt(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getUTCDate(),{unit:"date"}):Sl.d(e,n)},D:function(e,n,t){var r=qce(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Lt(r,n.length)},E:function(e,n,t){var r=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){var s=e.getUTCDay(),u=(s-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(u);case"ee":return Lt(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){var s=e.getUTCDay(),u=(s-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(u);case"cc":return Lt(u,n.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,t){var r=e.getUTCDay(),s=r===0?7:r;switch(n){case"i":return String(s);case"ii":return Lt(s,n.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){var r=e.getUTCHours(),s=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,t){var r=e.getUTCHours(),s;switch(r===12?s=xd.noon:r===0?s=xd.midnight:s=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,t){var r=e.getUTCHours(),s;switch(r>=17?s=xd.evening:r>=12?s=xd.afternoon:r>=4?s=xd.morning:s=xd.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Sl.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Sl.H(e,n)},K:function(e,n,t){var r=e.getUTCHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Lt(r,n.length)},k:function(e,n,t){var r=e.getUTCHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Lt(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Sl.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Sl.s(e,n)},S:function(e,n){return Sl.S(e,n)},X:function(e,n,t,r){var s=r._originalDate||e,u=s.getTimezoneOffset();if(u===0)return"Z";switch(n){case"X":return H5(u);case"XXXX":case"XX":return Xu(u);case"XXXXX":case"XXX":default:return Xu(u,":")}},x:function(e,n,t,r){var s=r._originalDate||e,u=s.getTimezoneOffset();switch(n){case"x":return H5(u);case"xxxx":case"xx":return Xu(u);case"xxxxx":case"xxx":default:return Xu(u,":")}},O:function(e,n,t,r){var s=r._originalDate||e,u=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+F5(u,":");case"OOOO":default:return"GMT"+Xu(u,":")}},z:function(e,n,t,r){var s=r._originalDate||e,u=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+F5(u,":");case"zzzz":default:return"GMT"+Xu(u,":")}},t:function(e,n,t,r){var s=r._originalDate||e,u=Math.floor(s.getTime()/1e3);return Lt(u,n.length)},T:function(e,n,t,r){var s=r._originalDate||e,u=s.getTime();return Lt(u,n.length)}};function F5(e,n){var t=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),u=r%60;if(u===0)return t+String(s);var d=n||"";return t+String(s)+d+Lt(u,2)}function H5(e,n){if(e%60===0){var t=e>0?"-":"+";return t+Lt(Math.abs(e)/60,2)}return Xu(e,n)}function Xu(e,n){var t=n||"",r=e>0?"-":"+",s=Math.abs(e),u=Lt(Math.floor(s/60),2),d=Lt(s%60,2);return r+u+t+d}var Qce=Kce;function z5(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}}function JL(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}}function Yce(e,n){var t=e.match(/(P+)(p+)?/),r=t[1],s=t[2];if(!s)return z5(e,n);var u;switch(r){case"P":u=n.dateTime({width:"short"});break;case"PP":u=n.dateTime({width:"medium"});break;case"PPP":u=n.dateTime({width:"long"});break;case"PPPP":default:u=n.dateTime({width:"full"});break}return u.replace("{{date}}",z5(r,n)).replace("{{time}}",JL(s,n))}var Xce={p:JL,P:Yce},Zce=Xce;function Jce(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}var ede=["D","DD"],nde=["YY","YYYY"];function tde(e){return ede.indexOf(e)!==-1}function rde(e){return nde.indexOf(e)!==-1}function q5(e,n,t){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var ide=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ade=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sde=/^'([^]*?)'?$/,ode=/''/g,lde=/[a-zA-Z]/;function wh(e,n,t){Ui(2,arguments);var r=String(n),s=t||{},u=s.locale||BL,d=u.options&&u.options.firstWeekContainsDate,p=d==null?1:Ja(d),g=s.firstWeekContainsDate==null?p:Ja(s.firstWeekContainsDate);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=u.options&&u.options.weekStartsOn,y=_==null?0:Ja(_),E=s.weekStartsOn==null?y:Ja(s.weekStartsOn);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var x=Ns(e);if(!Pce(x))throw new RangeError("Invalid time value");var k=Jce(x),T=Hce(x,k),I={firstWeekContainsDate:g,weekStartsOn:E,locale:u,_originalDate:x},P=r.match(ade).map(function(N){var O=N[0];if(O==="p"||O==="P"){var U=Zce[O];return U(N,u.formatLong,I)}return N}).join("").match(ide).map(function(N){if(N==="''")return"'";var O=N[0];if(O==="'")return ude(N);var U=Qce[O];if(U)return!s.useAdditionalWeekYearTokens&&rde(N)&&q5(N,n,e),!s.useAdditionalDayOfYearTokens&&tde(N)&&q5(N,n,e),U(T,N,u.localize,I);if(O.match(lde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return N}).join("");return P}function ude(e){return e.match(sde)[1].replace(ode,"'")}function B5(e){Ui(1,arguments);var n=Ns(e);return n.setHours(0,0,0,0),n}function cde(e,n){Ui(2,arguments);var t=B5(e),r=B5(n);return t.getTime()===r.getTime()}function j5(e){var n=e.className,t=n===void 0?"":n,r=e.children,s=e.isReverse,u=s===void 0?!1:s,d=e.color,p=e.userId;return S.createElement("span",{className:"sendbird-mention-user-label ".concat(t," ").concat(u?"reverse":""," ").concat(d),contentEditable:!1,"data-userid":p},r)}var G5=function(n){return n==null};function Co(e,n){if(G5(e)||G5(n))return!1;var t=e.toString(),r=n.toString();return t===r}var kd="@";DL();var Ak=UL();Ak.SUCCEEDED;Ak.FAILED;Ak.PENDING;var Rk=UL();Rk.SUCCEEDED;Rk.FAILED;Rk.PENDING;function c0(e){var n=e.className,t=n===void 0?"":n,r=e.width,s=r===void 0?"26px":r,u=e.height,d=u===void 0?"26px":u,p=e.children;return S.createElement("div",{className:Bn(Bn([],Array.isArray(t)?t:[t],!0),["sendbird-loader"],!1).join(" "),style:{width:typeof s=="string"?s:"".concat(s,"px"),height:typeof d=="string"?d:"".concat(d,"px")}},p||S.createElement(ot,{type:tt.SPINNER,width:"26px",height:"26px"}))}DL();_e.exports.bool,_e.exports.func.isRequired;var ms;(function(e){e[e.ONBACKGROUND_1=0]="ONBACKGROUND_1",e[e.ONBACKGROUND_2=1]="ONBACKGROUND_2",e[e.ONBACKGROUND_3=2]="ONBACKGROUND_3",e[e.ONBACKGROUND_4=3]="ONBACKGROUND_4",e[e.ONCONTENT_1=4]="ONCONTENT_1",e[e.ONCONTENT_2=5]="ONCONTENT_2",e[e.PRIMARY=6]="PRIMARY",e[e.ERROR=7]="ERROR"})(ms||(ms={}));var Lx=function(n){switch(n){case ms.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case ms.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case ms.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case ms.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case ms.ONCONTENT_1:return"sendbird-color--oncontent-1";case ms.PRIMARY:return"sendbird-color--primary";case ms.ERROR:return"sendbird-color--error";default:return null}},dde=function(n){var t=n.className,r=t===void 0?"":t,s=n.color,u=s===void 0?ms.ONBACKGROUND_1:s,d=n.disabled,p=d===void 0?!1:d,g=n.disableUnderline,_=g===void 0?!1:g,y=n.onClick,E=y===void 0?function(){}:y,x=n.children;return S.createElement("div",{className:Bn(Bn([],Array.isArray(r)?r:[r],!0),[Lx(u),_?"sendbird-textbutton--not-underline":"sendbird-textbutton",p?"sendbird-textbutton--disabled":""],!1).join(" "),role:"button",tabIndex:0,onClick:function(T){return E(T)},onKeyPress:function(T){return E(T)}},x)};function hde(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}var pde=hde(),Cr=pde;function Qm(e){var n=e.className,t=n===void 0?"":n,r=e.type,s=e.searchInString,u=s===void 0?"":s,d=e.retryToConnect,p=d===void 0?null:d,g=de.exports.useContext(Is).stringSet;return S.createElement("div",{className:Bn(Bn([],Array.isArray(t)?t:[t],!0),["sendbird-place-holder"],!1).join(" ")},r===Cr.LOADING&&S.createElement(c0,{width:"48px",height:"48px"},S.createElement(ot,{type:tt.SPINNER,fillColor:bt.PRIMARY,width:"48px",height:"48px"})),(r===Cr.NO_CHANNELS||r===Cr.NO_MESSAGES||r===Cr.WRONG)&&S.createElement("div",{className:"sendbird-place-holder__body"},r===Cr.NO_CHANNELS&&S.createElement(ot,{className:"sendbird-place-holder__body__icon",type:tt.CHAT,fillColor:bt.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===Cr.WRONG&&S.createElement(ot,{className:"sendbird-place-holder__body__icon",type:tt.ERROR,fillColor:bt.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===Cr.NO_MESSAGES&&S.createElement(ot,{className:"sendbird-place-holder__body__icon",type:tt.MESSAGE,fillColor:bt.ON_BACKGROUND_3,width:"64px",height:"64px"}),S.createElement(Qn,{className:"sendbird-place-holder__body__text",type:Kn.BODY_1,color:jn.ONBACKGROUND_2},r===Cr.NO_CHANNELS&&g.PLACE_HOLDER__NO_CHANNEL,r===Cr.WRONG&&g.PLACE_HOLDER__WRONG,r===Cr.NO_MESSAGES&&g.PLACE_HOLDER__NO_MESSAGES),p&&S.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:p,onKeyPress:p,tabIndex:0},S.createElement(ot,{className:"sendbird-place-holder__body__reconnect__icon",type:tt.REFRESH,fillColor:bt.PRIMARY,width:"20px",height:"20px"}),S.createElement(Qn,{className:"sendbird-place-holder__body__reconnect__text",type:Kn.BUTTON_1,color:jn.PRIMARY},g.PLACE_HOLDER__RETRY_TO_CONNECT))),(r===Cr.NO_RESULTS||r===Cr.SEARCH_IN||r===Cr.SEARCHING)&&S.createElement("div",{className:"sendbird-place-holder__body--align-top"},r===Cr.SEARCH_IN&&S.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},S.createElement(Qn,{className:"sendbird-place-holder__body--align-top__text__search-in",type:Kn.BUTTON_2,color:jn.ONBACKGROUND_2},g.SEARCH_IN),S.createElement(Qn,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:Kn.BUTTON_2,color:jn.PRIMARY},"'".concat(u)),S.createElement(Qn,{className:"sendbird-place-holder__body--align-top__text__quote",type:Kn.BUTTON_2,color:jn.PRIMARY},"'")),r===Cr.SEARCHING&&S.createElement(Qn,{className:"sendbird-place-hlder__body--align-top__searching",type:Kn.BODY_1,color:jn.ONBACKGROUND_2},g.SEARCHING),r===Cr.NO_RESULTS&&S.createElement(Qn,{className:"sendbird-place-hlder__body--align-top__no-result",type:Kn.BODY_1,color:jn.ONBACKGROUND_2},g.NO_SEARCHED_MESSAGE)))}var $5={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},Sd={ElementNode:1,TextNode:3},Cm={Span:"SPAN",Br:"BR",Div:"DIV"},fde=function(n){var t=n.children,r=t===void 0?null:t,s=n.className,u=s===void 0?"":s,d=n.separatorColor,p=d===void 0?ms.ONBACKGROUND_4:d;return S.createElement("div",{className:Bn(Bn([],Array.isArray(u)?u:[u],!0),["sendbird-separator"],!1).join(" ")},S.createElement("div",{className:["sendbird-separator__left","".concat(Lx(p),"--background-color")].join(" ")}),S.createElement("div",{className:"sendbird-separator__text"},r||S.createElement(Qn,{type:Kn.CAPTION_2,color:jn.ONBACKGROUND_2},"Date Separator")),S.createElement("div",{className:["sendbird-separator__right","".concat(Lx(p),"--background-color")].join(" ")}))},Px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gde(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var e8={exports:{}},xh={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V5=Object.getOwnPropertySymbols,mde=Object.prototype.hasOwnProperty,vde=Object.prototype.propertyIsEnumerable;function _de(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function bde(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(n).map(function(u){return n[u]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(u){s[u]=u}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var yde=bde()?Object.assign:function(e,n){for(var t,r=_de(e),s,u=1;u<arguments.length;u++){t=Object(arguments[u]);for(var d in t)mde.call(t,d)&&(r[d]=t[d]);if(V5){s=V5(t);for(var p=0;p<s.length;p++)vde.call(t,s[p])&&(r[s[p]]=t[s[p]])}}return r},d0={exports:{}},Qd=typeof Reflect=="object"?Reflect:null,W5=Qd&&typeof Qd.apply=="function"?Qd.apply:function(n,t,r){return Function.prototype.apply.call(n,t,r)},Ym;Qd&&typeof Qd.ownKeys=="function"?Ym=Qd.ownKeys:Object.getOwnPropertySymbols?Ym=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Ym=function(n){return Object.getOwnPropertyNames(n)};function Ede(e){console&&console.warn&&console.warn(e)}var n8=Number.isNaN||function(n){return n!==n};function Bt(){Bt.init.call(this)}d0.exports=Bt;d0.exports.once=Sde;Bt.EventEmitter=Bt;Bt.prototype._events=void 0;Bt.prototype._eventsCount=0;Bt.prototype._maxListeners=void 0;var K5=10;function v_(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Bt,"defaultMaxListeners",{enumerable:!0,get:function(){return K5},set:function(e){if(typeof e!="number"||e<0||n8(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");K5=e}});Bt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Bt.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||n8(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function t8(e){return e._maxListeners===void 0?Bt.defaultMaxListeners:e._maxListeners}Bt.prototype.getMaxListeners=function(){return t8(this)};Bt.prototype.emit=function(n){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var s=n==="error",u=this._events;if(u!==void 0)s=s&&u.error===void 0;else if(!s)return!1;if(s){var d;if(t.length>0&&(d=t[0]),d instanceof Error)throw d;var p=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw p.context=d,p}var g=u[n];if(g===void 0)return!1;if(typeof g=="function")W5(g,this,t);else for(var _=g.length,y=o8(g,_),r=0;r<_;++r)W5(y[r],this,t);return!0};function r8(e,n,t,r){var s,u,d;if(v_(t),u=e._events,u===void 0?(u=e._events=Object.create(null),e._eventsCount=0):(u.newListener!==void 0&&(e.emit("newListener",n,t.listener?t.listener:t),u=e._events),d=u[n]),d===void 0)d=u[n]=t,++e._eventsCount;else if(typeof d=="function"?d=u[n]=r?[t,d]:[d,t]:r?d.unshift(t):d.push(t),s=t8(e),s>0&&d.length>s&&!d.warned){d.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=n,p.count=d.length,Ede(p)}return e}Bt.prototype.addListener=function(n,t){return r8(this,n,t,!1)};Bt.prototype.on=Bt.prototype.addListener;Bt.prototype.prependListener=function(n,t){return r8(this,n,t,!0)};function wde(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i8(e,n,t){var r={fired:!1,wrapFn:void 0,target:e,type:n,listener:t},s=wde.bind(r);return s.listener=t,r.wrapFn=s,s}Bt.prototype.once=function(n,t){return v_(t),this.on(n,i8(this,n,t)),this};Bt.prototype.prependOnceListener=function(n,t){return v_(t),this.prependListener(n,i8(this,n,t)),this};Bt.prototype.removeListener=function(n,t){var r,s,u,d,p;if(v_(t),s=this._events,s===void 0)return this;if(r=s[n],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete s[n],s.removeListener&&this.emit("removeListener",n,r.listener||t));else if(typeof r!="function"){for(u=-1,d=r.length-1;d>=0;d--)if(r[d]===t||r[d].listener===t){p=r[d].listener,u=d;break}if(u<0)return this;u===0?r.shift():xde(r,u),r.length===1&&(s[n]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",n,p||t)}return this};Bt.prototype.off=Bt.prototype.removeListener;Bt.prototype.removeAllListeners=function(n){var t,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[n]),this;if(arguments.length===0){var u=Object.keys(r),d;for(s=0;s<u.length;++s)d=u[s],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[n],typeof t=="function")this.removeListener(n,t);else if(t!==void 0)for(s=t.length-1;s>=0;s--)this.removeListener(n,t[s]);return this};function a8(e,n,t){var r=e._events;if(r===void 0)return[];var s=r[n];return s===void 0?[]:typeof s=="function"?t?[s.listener||s]:[s]:t?kde(s):o8(s,s.length)}Bt.prototype.listeners=function(n){return a8(this,n,!0)};Bt.prototype.rawListeners=function(n){return a8(this,n,!1)};Bt.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):s8.call(e,n)};Bt.prototype.listenerCount=s8;function s8(e){var n=this._events;if(n!==void 0){var t=n[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Bt.prototype.eventNames=function(){return this._eventsCount>0?Ym(this._events):[]};function o8(e,n){for(var t=new Array(n),r=0;r<n;++r)t[r]=e[r];return t}function xde(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}function kde(e){for(var n=new Array(e.length),t=0;t<n.length;++t)n[t]=e[t].listener||e[t];return n}function Sde(e,n){return new Promise(function(t,r){function s(d){e.removeListener(n,u),r(d)}function u(){typeof e.removeListener=="function"&&e.removeListener("error",s),t([].slice.call(arguments))}l8(e,n,u,{once:!0}),n!=="error"&&Cde(e,s,{once:!0})})}function Cde(e,n,t){typeof e.on=="function"&&l8(e,"error",n,t)}function l8(e,n,t,r){if(typeof e.on=="function")r.once?e.once(n,t):e.on(n,t);else if(typeof e.addEventListener=="function")e.addEventListener(n,function s(u){r.once&&e.removeEventListener(n,s),t(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var kh=d0.exports,ro={},Tde=function(n){return n instanceof Buffer},Fx={exports:{}},Hx={exports:{}};typeof Object.create=="function"?Hx.exports=function(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:Hx.exports=function(n,t){n.super_=t;var r=function(){};r.prototype=t.prototype,n.prototype=new r,n.prototype.constructor=n};try{var Q5=ro;if(typeof Q5.inherits!="function")throw"";Fx.exports=Q5.inherits}catch{Fx.exports=Hx.exports}(function(e){var n=Object.getOwnPropertyDescriptors||function(ne){for(var ke=Object.keys(ne),en={},Fe=0;Fe<ke.length;Fe++)en[ke[Fe]]=Object.getOwnPropertyDescriptor(ne,ke[Fe]);return en},t=/%[sdj%]/g;e.format=function(oe){if(!L(oe)){for(var ne=[],ke=0;ke<arguments.length;ke++)ne.push(u(arguments[ke]));return ne.join(" ")}for(var ke=1,en=arguments,Fe=en.length,Me=String(oe).replace(t,function(Ye){if(Ye==="%%")return"%";if(ke>=Fe)return Ye;switch(Ye){case"%s":return String(en[ke++]);case"%d":return Number(en[ke++]);case"%j":try{return JSON.stringify(en[ke++])}catch{return"[Circular]"}default:return Ye}}),Ie=en[ke];ke<Fe;Ie=en[++ke])N(Ie)||!Y(Ie)?Me+=" "+Ie:Me+=" "+u(Ie);return Me},e.deprecate=function(oe,ne){if(typeof process<"u"&&process.noDeprecation===!0)return oe;if(typeof process>"u")return function(){return e.deprecate(oe,ne).apply(this,arguments)};var ke=!1;function en(){if(!ke){if(process.throwDeprecation)throw new Error(ne);process.traceDeprecation?console.trace(ne):console.error(ne),ke=!0}return oe.apply(this,arguments)}return en};var r={},s;e.debuglog=function(oe){if(V(s)&&(s={}.NODE_DEBUG||""),oe=oe.toUpperCase(),!r[oe])if(new RegExp("\\b"+oe+"\\b","i").test(s)){var ne=process.pid;r[oe]=function(){var ke=e.format.apply(e,arguments);console.error("%s %d: %s",oe,ne,ke)}}else r[oe]=function(){};return r[oe]};function u(oe,ne){var ke={seen:[],stylize:p};return arguments.length>=3&&(ke.depth=arguments[2]),arguments.length>=4&&(ke.colors=arguments[3]),P(ne)?ke.showHidden=ne:ne&&e._extend(ke,ne),V(ke.showHidden)&&(ke.showHidden=!1),V(ke.depth)&&(ke.depth=2),V(ke.colors)&&(ke.colors=!1),V(ke.customInspect)&&(ke.customInspect=!0),ke.colors&&(ke.stylize=d),_(ke,oe,ke.depth)}e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(oe,ne){var ke=u.styles[ne];return ke?"\x1B["+u.colors[ke][0]+"m"+oe+"\x1B["+u.colors[ke][1]+"m":oe}function p(oe,ne){return oe}function g(oe){var ne={};return oe.forEach(function(ke,en){ne[ke]=!0}),ne}function _(oe,ne,ke){if(oe.customInspect&&ne&&Ue(ne.inspect)&&ne.inspect!==e.inspect&&!(ne.constructor&&ne.constructor.prototype===ne)){var en=ne.inspect(ke,oe);return L(en)||(en=_(oe,en,ke)),en}var Fe=y(oe,ne);if(Fe)return Fe;var Me=Object.keys(ne),Ie=g(Me);if(oe.showHidden&&(Me=Object.getOwnPropertyNames(ne)),ve(ne)&&(Me.indexOf("message")>=0||Me.indexOf("description")>=0))return E(ne);if(Me.length===0){if(Ue(ne)){var Ye=ne.name?": "+ne.name:"";return oe.stylize("[Function"+Ye+"]","special")}if(J(ne))return oe.stylize(RegExp.prototype.toString.call(ne),"regexp");if(ye(ne))return oe.stylize(Date.prototype.toString.call(ne),"date");if(ve(ne))return E(ne)}var ln="",xn=!1,Fn=["{","}"];if(I(ne)&&(xn=!0,Fn=["[","]"]),Ue(ne)){var dn=ne.name?": "+ne.name:"";ln=" [Function"+dn+"]"}if(J(ne)&&(ln=" "+RegExp.prototype.toString.call(ne)),ye(ne)&&(ln=" "+Date.prototype.toUTCString.call(ne)),ve(ne)&&(ln=" "+E(ne)),Me.length===0&&(!xn||ne.length==0))return Fn[0]+ln+Fn[1];if(ke<0)return J(ne)?oe.stylize(RegExp.prototype.toString.call(ne),"regexp"):oe.stylize("[Object]","special");oe.seen.push(ne);var Un;return xn?Un=x(oe,ne,ke,Ie,Me):Un=Me.map(function(gn){return k(oe,ne,ke,Ie,gn,xn)}),oe.seen.pop(),T(Un,ln,Fn)}function y(oe,ne){if(V(ne))return oe.stylize("undefined","undefined");if(L(ne)){var ke="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return oe.stylize(ke,"string")}if(U(ne))return oe.stylize(""+ne,"number");if(P(ne))return oe.stylize(""+ne,"boolean");if(N(ne))return oe.stylize("null","null")}function E(oe){return"["+Error.prototype.toString.call(oe)+"]"}function x(oe,ne,ke,en,Fe){for(var Me=[],Ie=0,Ye=ne.length;Ie<Ye;++Ie)Xe(ne,String(Ie))?Me.push(k(oe,ne,ke,en,String(Ie),!0)):Me.push("");return Fe.forEach(function(ln){ln.match(/^\d+$/)||Me.push(k(oe,ne,ke,en,ln,!0))}),Me}function k(oe,ne,ke,en,Fe,Me){var Ie,Ye,ln;if(ln=Object.getOwnPropertyDescriptor(ne,Fe)||{value:ne[Fe]},ln.get?ln.set?Ye=oe.stylize("[Getter/Setter]","special"):Ye=oe.stylize("[Getter]","special"):ln.set&&(Ye=oe.stylize("[Setter]","special")),Xe(en,Fe)||(Ie="["+Fe+"]"),Ye||(oe.seen.indexOf(ln.value)<0?(N(ke)?Ye=_(oe,ln.value,null):Ye=_(oe,ln.value,ke-1),Ye.indexOf(`
`)>-1&&(Me?Ye=Ye.split(`
`).map(function(xn){return"  "+xn}).join(`
`).substr(2):Ye=`
`+Ye.split(`
`).map(function(xn){return"   "+xn}).join(`
`))):Ye=oe.stylize("[Circular]","special")),V(Ie)){if(Me&&Fe.match(/^\d+$/))return Ye;Ie=JSON.stringify(""+Fe),Ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ie=Ie.substr(1,Ie.length-2),Ie=oe.stylize(Ie,"name")):(Ie=Ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ie=oe.stylize(Ie,"string"))}return Ie+": "+Ye}function T(oe,ne,ke){var en=oe.reduce(function(Fe,Me){return Me.indexOf(`
`)>=0,Fe+Me.replace(/\u001b\[\d\d?m/g,"").length+1},0);return en>60?ke[0]+(ne===""?"":ne+`
 `)+" "+oe.join(`,
  `)+" "+ke[1]:ke[0]+ne+" "+oe.join(", ")+" "+ke[1]}function I(oe){return Array.isArray(oe)}e.isArray=I;function P(oe){return typeof oe=="boolean"}e.isBoolean=P;function N(oe){return oe===null}e.isNull=N;function O(oe){return oe==null}e.isNullOrUndefined=O;function U(oe){return typeof oe=="number"}e.isNumber=U;function L(oe){return typeof oe=="string"}e.isString=L;function ee(oe){return typeof oe=="symbol"}e.isSymbol=ee;function V(oe){return oe===void 0}e.isUndefined=V;function J(oe){return Y(oe)&&ce(oe)==="[object RegExp]"}e.isRegExp=J;function Y(oe){return typeof oe=="object"&&oe!==null}e.isObject=Y;function ye(oe){return Y(oe)&&ce(oe)==="[object Date]"}e.isDate=ye;function ve(oe){return Y(oe)&&(ce(oe)==="[object Error]"||oe instanceof Error)}e.isError=ve;function Ue(oe){return typeof oe=="function"}e.isFunction=Ue;function Ne(oe){return oe===null||typeof oe=="boolean"||typeof oe=="number"||typeof oe=="string"||typeof oe=="symbol"||typeof oe>"u"}e.isPrimitive=Ne,e.isBuffer=Tde;function ce(oe){return Object.prototype.toString.call(oe)}function Ee(oe){return oe<10?"0"+oe.toString(10):oe.toString(10)}var ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function je(){var oe=new Date,ne=[Ee(oe.getHours()),Ee(oe.getMinutes()),Ee(oe.getSeconds())].join(":");return[oe.getDate(),ge[oe.getMonth()],ne].join(" ")}e.log=function(){console.log("%s - %s",je(),e.format.apply(e,arguments))},e.inherits=Fx.exports,e._extend=function(oe,ne){if(!ne||!Y(ne))return oe;for(var ke=Object.keys(ne),en=ke.length;en--;)oe[ke[en]]=ne[ke[en]];return oe};function Xe(oe,ne){return Object.prototype.hasOwnProperty.call(oe,ne)}var Te=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(ne){if(typeof ne!="function")throw new TypeError('The "original" argument must be of type Function');if(Te&&ne[Te]){var ke=ne[Te];if(typeof ke!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ke,Te,{value:ke,enumerable:!1,writable:!1,configurable:!0}),ke}function ke(){for(var en,Fe,Me=new Promise(function(ln,xn){en=ln,Fe=xn}),Ie=[],Ye=0;Ye<arguments.length;Ye++)Ie.push(arguments[Ye]);Ie.push(function(ln,xn){ln?Fe(ln):en(xn)});try{ne.apply(this,Ie)}catch(ln){Fe(ln)}return Me}return Object.setPrototypeOf(ke,Object.getPrototypeOf(ne)),Te&&Object.defineProperty(ke,Te,{value:ke,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ke,n(ne))},e.promisify.custom=Te;function ze(oe,ne){if(!oe){var ke=new Error("Promise was rejected with a falsy value");ke.reason=oe,oe=ke}return ne(oe)}function Ze(oe){if(typeof oe!="function")throw new TypeError('The "original" argument must be of type Function');function ne(){for(var ke=[],en=0;en<arguments.length;en++)ke.push(arguments[en]);var Fe=ke.pop();if(typeof Fe!="function")throw new TypeError("The last argument must be of type Function");var Me=this,Ie=function(){return Fe.apply(Me,arguments)};oe.apply(this,ke).then(function(Ye){process.nextTick(Ie,null,Ye)},function(Ye){process.nextTick(ze,Ye,Ie)})}return Object.setPrototypeOf(ne,Object.getPrototypeOf(oe)),Object.defineProperties(ne,n(oe)),ne}e.callbackify=Ze})(ro);var is=Px.process,tu={},__={};__.byteLength=Ode;__.toByteArray=Rde;__.fromByteArray=Ude;var Xs=[],Ba=[],Ide=typeof Uint8Array<"u"?Uint8Array:Array,n2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Cd=0,Nde=n2.length;Cd<Nde;++Cd)Xs[Cd]=n2[Cd],Ba[n2.charCodeAt(Cd)]=Cd;Ba["-".charCodeAt(0)]=62;Ba["_".charCodeAt(0)]=63;function u8(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=n);var r=t===n?0:4-t%4;return[t,r]}function Ode(e){var n=u8(e),t=n[0],r=n[1];return(t+r)*3/4-r}function Ade(e,n,t){return(n+t)*3/4-t}function Rde(e){var n,t=u8(e),r=t[0],s=t[1],u=new Ide(Ade(e,r,s)),d=0,p=s>0?r-4:r,g;for(g=0;g<p;g+=4)n=Ba[e.charCodeAt(g)]<<18|Ba[e.charCodeAt(g+1)]<<12|Ba[e.charCodeAt(g+2)]<<6|Ba[e.charCodeAt(g+3)],u[d++]=n>>16&255,u[d++]=n>>8&255,u[d++]=n&255;return s===2&&(n=Ba[e.charCodeAt(g)]<<2|Ba[e.charCodeAt(g+1)]>>4,u[d++]=n&255),s===1&&(n=Ba[e.charCodeAt(g)]<<10|Ba[e.charCodeAt(g+1)]<<4|Ba[e.charCodeAt(g+2)]>>2,u[d++]=n>>8&255,u[d++]=n&255),u}function Mde(e){return Xs[e>>18&63]+Xs[e>>12&63]+Xs[e>>6&63]+Xs[e&63]}function Dde(e,n,t){for(var r,s=[],u=n;u<t;u+=3)r=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(e[u+2]&255),s.push(Mde(r));return s.join("")}function Ude(e){for(var n,t=e.length,r=t%3,s=[],u=16383,d=0,p=t-r;d<p;d+=u)s.push(Dde(e,d,d+u>p?p:d+u));return r===1?(n=e[t-1],s.push(Xs[n>>2]+Xs[n<<4&63]+"==")):r===2&&(n=(e[t-2]<<8)+e[t-1],s.push(Xs[n>>10]+Xs[n>>4&63]+Xs[n<<2&63]+"=")),s.join("")}var Mk={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Mk.read=function(e,n,t,r,s){var u,d,p=s*8-r-1,g=(1<<p)-1,_=g>>1,y=-7,E=t?s-1:0,x=t?-1:1,k=e[n+E];for(E+=x,u=k&(1<<-y)-1,k>>=-y,y+=p;y>0;u=u*256+e[n+E],E+=x,y-=8);for(d=u&(1<<-y)-1,u>>=-y,y+=r;y>0;d=d*256+e[n+E],E+=x,y-=8);if(u===0)u=1-_;else{if(u===g)return d?NaN:(k?-1:1)*(1/0);d=d+Math.pow(2,r),u=u-_}return(k?-1:1)*d*Math.pow(2,u-r)};Mk.write=function(e,n,t,r,s,u){var d,p,g,_=u*8-s-1,y=(1<<_)-1,E=y>>1,x=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=r?0:u-1,T=r?1:-1,I=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(p=isNaN(n)?1:0,d=y):(d=Math.floor(Math.log(n)/Math.LN2),n*(g=Math.pow(2,-d))<1&&(d--,g*=2),d+E>=1?n+=x/g:n+=x*Math.pow(2,1-E),n*g>=2&&(d++,g/=2),d+E>=y?(p=0,d=y):d+E>=1?(p=(n*g-1)*Math.pow(2,s),d=d+E):(p=n*Math.pow(2,E-1)*Math.pow(2,s),d=0));s>=8;e[t+k]=p&255,k+=T,p/=256,s-=8);for(d=d<<s|p,_+=s;_>0;e[t+k]=d&255,k+=T,d/=256,_-=8);e[t+k-T]|=I*128};var Lde={}.toString,Pde=Array.isArray||function(e){return Lde.call(e)=="[object Array]"};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/(function(e){var n=__,t=Mk,r=Pde;e.Buffer=p,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=Px.TYPED_ARRAY_SUPPORT!==void 0?Px.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=u();function s(){try{var j=new Uint8Array(1);return j.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},j.foo()===42&&typeof j.subarray=="function"&&j.subarray(1,1).byteLength===0}catch{return!1}}function u(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(j,M){if(u()<M)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(j=new Uint8Array(M),j.__proto__=p.prototype):(j===null&&(j=new p(M)),j.length=M),j}function p(j,M,D){if(!p.TYPED_ARRAY_SUPPORT&&!(this instanceof p))return new p(j,M,D);if(typeof j=="number"){if(typeof M=="string")throw new Error("If encoding is specified then the first argument must be a string");return E(this,j)}return g(this,j,M,D)}p.poolSize=8192,p._augment=function(j){return j.__proto__=p.prototype,j};function g(j,M,D,Q){if(typeof M=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer?T(j,M,D,Q):typeof M=="string"?x(j,M,D):I(j,M)}p.from=function(j,M,D){return g(null,j,M,D)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0}));function _(j){if(typeof j!="number")throw new TypeError('"size" argument must be a number');if(j<0)throw new RangeError('"size" argument must not be negative')}function y(j,M,D,Q){return _(M),M<=0?d(j,M):D!==void 0?typeof Q=="string"?d(j,M).fill(D,Q):d(j,M).fill(D):d(j,M)}p.alloc=function(j,M,D){return y(null,j,M,D)};function E(j,M){if(_(M),j=d(j,M<0?0:P(M)|0),!p.TYPED_ARRAY_SUPPORT)for(var D=0;D<M;++D)j[D]=0;return j}p.allocUnsafe=function(j){return E(null,j)},p.allocUnsafeSlow=function(j){return E(null,j)};function x(j,M,D){if((typeof D!="string"||D==="")&&(D="utf8"),!p.isEncoding(D))throw new TypeError('"encoding" must be a valid string encoding');var Q=O(M,D)|0;j=d(j,Q);var le=j.write(M,D);return le!==Q&&(j=j.slice(0,le)),j}function k(j,M){var D=M.length<0?0:P(M.length)|0;j=d(j,D);for(var Q=0;Q<D;Q+=1)j[Q]=M[Q]&255;return j}function T(j,M,D,Q){if(M.byteLength,D<0||M.byteLength<D)throw new RangeError("'offset' is out of bounds");if(M.byteLength<D+(Q||0))throw new RangeError("'length' is out of bounds");return D===void 0&&Q===void 0?M=new Uint8Array(M):Q===void 0?M=new Uint8Array(M,D):M=new Uint8Array(M,D,Q),p.TYPED_ARRAY_SUPPORT?(j=M,j.__proto__=p.prototype):j=k(j,M),j}function I(j,M){if(p.isBuffer(M)){var D=P(M.length)|0;return j=d(j,D),j.length===0||M.copy(j,0,0,D),j}if(M){if(typeof ArrayBuffer<"u"&&M.buffer instanceof ArrayBuffer||"length"in M)return typeof M.length!="number"||Mn(M.length)?d(j,0):k(j,M);if(M.type==="Buffer"&&r(M.data))return k(j,M.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function P(j){if(j>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return j|0}function N(j){return+j!=j&&(j=0),p.alloc(+j)}p.isBuffer=function(M){return!!(M!=null&&M._isBuffer)},p.compare=function(M,D){if(!p.isBuffer(M)||!p.isBuffer(D))throw new TypeError("Arguments must be Buffers");if(M===D)return 0;for(var Q=M.length,le=D.length,Ae=0,Le=Math.min(Q,le);Ae<Le;++Ae)if(M[Ae]!==D[Ae]){Q=M[Ae],le=D[Ae];break}return Q<le?-1:le<Q?1:0},p.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(M,D){if(!r(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return p.alloc(0);var Q;if(D===void 0)for(D=0,Q=0;Q<M.length;++Q)D+=M[Q].length;var le=p.allocUnsafe(D),Ae=0;for(Q=0;Q<M.length;++Q){var Le=M[Q];if(!p.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(le,Ae),Ae+=Le.length}return le};function O(j,M){if(p.isBuffer(j))return j.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(j)||j instanceof ArrayBuffer))return j.byteLength;typeof j!="string"&&(j=""+j);var D=j.length;if(D===0)return 0;for(var Q=!1;;)switch(M){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":case void 0:return dn(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return zn(j).length;default:if(Q)return dn(j).length;M=(""+M).toLowerCase(),Q=!0}}p.byteLength=O;function U(j,M,D){var Q=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,M>>>=0,D<=M))return"";for(j||(j="utf8");;)switch(j){case"hex":return ze(this,M,D);case"utf8":case"utf-8":return Ee(this,M,D);case"ascii":return Xe(this,M,D);case"latin1":case"binary":return Te(this,M,D);case"base64":return ce(this,M,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ze(this,M,D);default:if(Q)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),Q=!0}}p.prototype._isBuffer=!0;function L(j,M,D){var Q=j[M];j[M]=j[D],j[D]=Q}p.prototype.swap16=function(){var M=this.length;if(M%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<M;D+=2)L(this,D,D+1);return this},p.prototype.swap32=function(){var M=this.length;if(M%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<M;D+=4)L(this,D,D+3),L(this,D+1,D+2);return this},p.prototype.swap64=function(){var M=this.length;if(M%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<M;D+=8)L(this,D,D+7),L(this,D+1,D+6),L(this,D+2,D+5),L(this,D+3,D+4);return this},p.prototype.toString=function(){var M=this.length|0;return M===0?"":arguments.length===0?Ee(this,0,M):U.apply(this,arguments)},p.prototype.equals=function(M){if(!p.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M?!0:p.compare(this,M)===0},p.prototype.inspect=function(){var M="",D=e.INSPECT_MAX_BYTES;return this.length>0&&(M=this.toString("hex",0,D).match(/.{2}/g).join(" "),this.length>D&&(M+=" ... ")),"<Buffer "+M+">"},p.prototype.compare=function(M,D,Q,le,Ae){if(!p.isBuffer(M))throw new TypeError("Argument must be a Buffer");if(D===void 0&&(D=0),Q===void 0&&(Q=M?M.length:0),le===void 0&&(le=0),Ae===void 0&&(Ae=this.length),D<0||Q>M.length||le<0||Ae>this.length)throw new RangeError("out of range index");if(le>=Ae&&D>=Q)return 0;if(le>=Ae)return-1;if(D>=Q)return 1;if(D>>>=0,Q>>>=0,le>>>=0,Ae>>>=0,this===M)return 0;for(var Le=Ae-le,Sn=Q-D,bn=Math.min(Le,Sn),un=this.slice(le,Ae),Ke=M.slice(D,Q),Dn=0;Dn<bn;++Dn)if(un[Dn]!==Ke[Dn]){Le=un[Dn],Sn=Ke[Dn];break}return Le<Sn?-1:Sn<Le?1:0};function ee(j,M,D,Q,le){if(j.length===0)return-1;if(typeof D=="string"?(Q=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,isNaN(D)&&(D=le?0:j.length-1),D<0&&(D=j.length+D),D>=j.length){if(le)return-1;D=j.length-1}else if(D<0)if(le)D=0;else return-1;if(typeof M=="string"&&(M=p.from(M,Q)),p.isBuffer(M))return M.length===0?-1:V(j,M,D,Q,le);if(typeof M=="number")return M=M&255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(j,M,D):Uint8Array.prototype.lastIndexOf.call(j,M,D):V(j,[M],D,Q,le);throw new TypeError("val must be string, number or Buffer")}function V(j,M,D,Q,le){var Ae=1,Le=j.length,Sn=M.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(j.length<2||M.length<2)return-1;Ae=2,Le/=2,Sn/=2,D/=2}function bn(rt,Rr){return Ae===1?rt[Rr]:rt.readUInt16BE(Rr*Ae)}var un;if(le){var Ke=-1;for(un=D;un<Le;un++)if(bn(j,un)===bn(M,Ke===-1?0:un-Ke)){if(Ke===-1&&(Ke=un),un-Ke+1===Sn)return Ke*Ae}else Ke!==-1&&(un-=un-Ke),Ke=-1}else for(D+Sn>Le&&(D=Le-Sn),un=D;un>=0;un--){for(var Dn=!0,St=0;St<Sn;St++)if(bn(j,un+St)!==bn(M,St)){Dn=!1;break}if(Dn)return un}return-1}p.prototype.includes=function(M,D,Q){return this.indexOf(M,D,Q)!==-1},p.prototype.indexOf=function(M,D,Q){return ee(this,M,D,Q,!0)},p.prototype.lastIndexOf=function(M,D,Q){return ee(this,M,D,Q,!1)};function J(j,M,D,Q){D=Number(D)||0;var le=j.length-D;Q?(Q=Number(Q),Q>le&&(Q=le)):Q=le;var Ae=M.length;if(Ae%2!==0)throw new TypeError("Invalid hex string");Q>Ae/2&&(Q=Ae/2);for(var Le=0;Le<Q;++Le){var Sn=parseInt(M.substr(Le*2,2),16);if(isNaN(Sn))return Le;j[D+Le]=Sn}return Le}function Y(j,M,D,Q){return kn(dn(M,j.length-D),j,D,Q)}function ye(j,M,D,Q){return kn(Un(M),j,D,Q)}function ve(j,M,D,Q){return ye(j,M,D,Q)}function Ue(j,M,D,Q){return kn(zn(M),j,D,Q)}function Ne(j,M,D,Q){return kn(gn(M,j.length-D),j,D,Q)}p.prototype.write=function(M,D,Q,le){if(D===void 0)le="utf8",Q=this.length,D=0;else if(Q===void 0&&typeof D=="string")le=D,Q=this.length,D=0;else if(isFinite(D))D=D|0,isFinite(Q)?(Q=Q|0,le===void 0&&(le="utf8")):(le=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ae=this.length-D;if((Q===void 0||Q>Ae)&&(Q=Ae),M.length>0&&(Q<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");for(var Le=!1;;)switch(le){case"hex":return J(this,M,D,Q);case"utf8":case"utf-8":return Y(this,M,D,Q);case"ascii":return ye(this,M,D,Q);case"latin1":case"binary":return ve(this,M,D,Q);case"base64":return Ue(this,M,D,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,M,D,Q);default:if(Le)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Le=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(j,M,D){return M===0&&D===j.length?n.fromByteArray(j):n.fromByteArray(j.slice(M,D))}function Ee(j,M,D){D=Math.min(j.length,D);for(var Q=[],le=M;le<D;){var Ae=j[le],Le=null,Sn=Ae>239?4:Ae>223?3:Ae>191?2:1;if(le+Sn<=D){var bn,un,Ke,Dn;switch(Sn){case 1:Ae<128&&(Le=Ae);break;case 2:bn=j[le+1],(bn&192)===128&&(Dn=(Ae&31)<<6|bn&63,Dn>127&&(Le=Dn));break;case 3:bn=j[le+1],un=j[le+2],(bn&192)===128&&(un&192)===128&&(Dn=(Ae&15)<<12|(bn&63)<<6|un&63,Dn>2047&&(Dn<55296||Dn>57343)&&(Le=Dn));break;case 4:bn=j[le+1],un=j[le+2],Ke=j[le+3],(bn&192)===128&&(un&192)===128&&(Ke&192)===128&&(Dn=(Ae&15)<<18|(bn&63)<<12|(un&63)<<6|Ke&63,Dn>65535&&Dn<1114112&&(Le=Dn))}}Le===null?(Le=65533,Sn=1):Le>65535&&(Le-=65536,Q.push(Le>>>10&1023|55296),Le=56320|Le&1023),Q.push(Le),le+=Sn}return je(Q)}var ge=4096;function je(j){var M=j.length;if(M<=ge)return String.fromCharCode.apply(String,j);for(var D="",Q=0;Q<M;)D+=String.fromCharCode.apply(String,j.slice(Q,Q+=ge));return D}function Xe(j,M,D){var Q="";D=Math.min(j.length,D);for(var le=M;le<D;++le)Q+=String.fromCharCode(j[le]&127);return Q}function Te(j,M,D){var Q="";D=Math.min(j.length,D);for(var le=M;le<D;++le)Q+=String.fromCharCode(j[le]);return Q}function ze(j,M,D){var Q=j.length;(!M||M<0)&&(M=0),(!D||D<0||D>Q)&&(D=Q);for(var le="",Ae=M;Ae<D;++Ae)le+=Fn(j[Ae]);return le}function Ze(j,M,D){for(var Q=j.slice(M,D),le="",Ae=0;Ae<Q.length;Ae+=2)le+=String.fromCharCode(Q[Ae]+Q[Ae+1]*256);return le}p.prototype.slice=function(M,D){var Q=this.length;M=~~M,D=D===void 0?Q:~~D,M<0?(M+=Q,M<0&&(M=0)):M>Q&&(M=Q),D<0?(D+=Q,D<0&&(D=0)):D>Q&&(D=Q),D<M&&(D=M);var le;if(p.TYPED_ARRAY_SUPPORT)le=this.subarray(M,D),le.__proto__=p.prototype;else{var Ae=D-M;le=new p(Ae,void 0);for(var Le=0;Le<Ae;++Le)le[Le]=this[Le+M]}return le};function oe(j,M,D){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+M>D)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUIntLE=function(M,D,Q){M=M|0,D=D|0,Q||oe(M,D,this.length);for(var le=this[M],Ae=1,Le=0;++Le<D&&(Ae*=256);)le+=this[M+Le]*Ae;return le},p.prototype.readUIntBE=function(M,D,Q){M=M|0,D=D|0,Q||oe(M,D,this.length);for(var le=this[M+--D],Ae=1;D>0&&(Ae*=256);)le+=this[M+--D]*Ae;return le},p.prototype.readUInt8=function(M,D){return D||oe(M,1,this.length),this[M]},p.prototype.readUInt16LE=function(M,D){return D||oe(M,2,this.length),this[M]|this[M+1]<<8},p.prototype.readUInt16BE=function(M,D){return D||oe(M,2,this.length),this[M]<<8|this[M+1]},p.prototype.readUInt32LE=function(M,D){return D||oe(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+this[M+3]*16777216},p.prototype.readUInt32BE=function(M,D){return D||oe(M,4,this.length),this[M]*16777216+(this[M+1]<<16|this[M+2]<<8|this[M+3])},p.prototype.readIntLE=function(M,D,Q){M=M|0,D=D|0,Q||oe(M,D,this.length);for(var le=this[M],Ae=1,Le=0;++Le<D&&(Ae*=256);)le+=this[M+Le]*Ae;return Ae*=128,le>=Ae&&(le-=Math.pow(2,8*D)),le},p.prototype.readIntBE=function(M,D,Q){M=M|0,D=D|0,Q||oe(M,D,this.length);for(var le=D,Ae=1,Le=this[M+--le];le>0&&(Ae*=256);)Le+=this[M+--le]*Ae;return Ae*=128,Le>=Ae&&(Le-=Math.pow(2,8*D)),Le},p.prototype.readInt8=function(M,D){return D||oe(M,1,this.length),this[M]&128?(255-this[M]+1)*-1:this[M]},p.prototype.readInt16LE=function(M,D){D||oe(M,2,this.length);var Q=this[M]|this[M+1]<<8;return Q&32768?Q|4294901760:Q},p.prototype.readInt16BE=function(M,D){D||oe(M,2,this.length);var Q=this[M+1]|this[M]<<8;return Q&32768?Q|4294901760:Q},p.prototype.readInt32LE=function(M,D){return D||oe(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},p.prototype.readInt32BE=function(M,D){return D||oe(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},p.prototype.readFloatLE=function(M,D){return D||oe(M,4,this.length),t.read(this,M,!0,23,4)},p.prototype.readFloatBE=function(M,D){return D||oe(M,4,this.length),t.read(this,M,!1,23,4)},p.prototype.readDoubleLE=function(M,D){return D||oe(M,8,this.length),t.read(this,M,!0,52,8)},p.prototype.readDoubleBE=function(M,D){return D||oe(M,8,this.length),t.read(this,M,!1,52,8)};function ne(j,M,D,Q,le,Ae){if(!p.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>le||M<Ae)throw new RangeError('"value" argument is out of bounds');if(D+Q>j.length)throw new RangeError("Index out of range")}p.prototype.writeUIntLE=function(M,D,Q,le){if(M=+M,D=D|0,Q=Q|0,!le){var Ae=Math.pow(2,8*Q)-1;ne(this,M,D,Q,Ae,0)}var Le=1,Sn=0;for(this[D]=M&255;++Sn<Q&&(Le*=256);)this[D+Sn]=M/Le&255;return D+Q},p.prototype.writeUIntBE=function(M,D,Q,le){if(M=+M,D=D|0,Q=Q|0,!le){var Ae=Math.pow(2,8*Q)-1;ne(this,M,D,Q,Ae,0)}var Le=Q-1,Sn=1;for(this[D+Le]=M&255;--Le>=0&&(Sn*=256);)this[D+Le]=M/Sn&255;return D+Q},p.prototype.writeUInt8=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,1,255,0),p.TYPED_ARRAY_SUPPORT||(M=Math.floor(M)),this[D]=M&255,D+1};function ke(j,M,D,Q){M<0&&(M=65535+M+1);for(var le=0,Ae=Math.min(j.length-D,2);le<Ae;++le)j[D+le]=(M&255<<8*(Q?le:1-le))>>>(Q?le:1-le)*8}p.prototype.writeUInt16LE=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[D]=M&255,this[D+1]=M>>>8):ke(this,M,D,!0),D+2},p.prototype.writeUInt16BE=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[D]=M>>>8,this[D+1]=M&255):ke(this,M,D,!1),D+2};function en(j,M,D,Q){M<0&&(M=4294967295+M+1);for(var le=0,Ae=Math.min(j.length-D,4);le<Ae;++le)j[D+le]=M>>>(Q?le:3-le)*8&255}p.prototype.writeUInt32LE=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[D+3]=M>>>24,this[D+2]=M>>>16,this[D+1]=M>>>8,this[D]=M&255):en(this,M,D,!0),D+4},p.prototype.writeUInt32BE=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[D]=M>>>24,this[D+1]=M>>>16,this[D+2]=M>>>8,this[D+3]=M&255):en(this,M,D,!1),D+4},p.prototype.writeIntLE=function(M,D,Q,le){if(M=+M,D=D|0,!le){var Ae=Math.pow(2,8*Q-1);ne(this,M,D,Q,Ae-1,-Ae)}var Le=0,Sn=1,bn=0;for(this[D]=M&255;++Le<Q&&(Sn*=256);)M<0&&bn===0&&this[D+Le-1]!==0&&(bn=1),this[D+Le]=(M/Sn>>0)-bn&255;return D+Q},p.prototype.writeIntBE=function(M,D,Q,le){if(M=+M,D=D|0,!le){var Ae=Math.pow(2,8*Q-1);ne(this,M,D,Q,Ae-1,-Ae)}var Le=Q-1,Sn=1,bn=0;for(this[D+Le]=M&255;--Le>=0&&(Sn*=256);)M<0&&bn===0&&this[D+Le+1]!==0&&(bn=1),this[D+Le]=(M/Sn>>0)-bn&255;return D+Q},p.prototype.writeInt8=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,1,127,-128),p.TYPED_ARRAY_SUPPORT||(M=Math.floor(M)),M<0&&(M=255+M+1),this[D]=M&255,D+1},p.prototype.writeInt16LE=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[D]=M&255,this[D+1]=M>>>8):ke(this,M,D,!0),D+2},p.prototype.writeInt16BE=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[D]=M>>>8,this[D+1]=M&255):ke(this,M,D,!1),D+2},p.prototype.writeInt32LE=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[D]=M&255,this[D+1]=M>>>8,this[D+2]=M>>>16,this[D+3]=M>>>24):en(this,M,D,!0),D+4},p.prototype.writeInt32BE=function(M,D,Q){return M=+M,D=D|0,Q||ne(this,M,D,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),p.TYPED_ARRAY_SUPPORT?(this[D]=M>>>24,this[D+1]=M>>>16,this[D+2]=M>>>8,this[D+3]=M&255):en(this,M,D,!1),D+4};function Fe(j,M,D,Q,le,Ae){if(D+Q>j.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function Me(j,M,D,Q,le){return le||Fe(j,M,D,4),t.write(j,M,D,Q,23,4),D+4}p.prototype.writeFloatLE=function(M,D,Q){return Me(this,M,D,!0,Q)},p.prototype.writeFloatBE=function(M,D,Q){return Me(this,M,D,!1,Q)};function Ie(j,M,D,Q,le){return le||Fe(j,M,D,8),t.write(j,M,D,Q,52,8),D+8}p.prototype.writeDoubleLE=function(M,D,Q){return Ie(this,M,D,!0,Q)},p.prototype.writeDoubleBE=function(M,D,Q){return Ie(this,M,D,!1,Q)},p.prototype.copy=function(M,D,Q,le){if(Q||(Q=0),!le&&le!==0&&(le=this.length),D>=M.length&&(D=M.length),D||(D=0),le>0&&le<Q&&(le=Q),le===Q||M.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("sourceStart out of bounds");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),M.length-D<le-Q&&(le=M.length-D+Q);var Ae=le-Q,Le;if(this===M&&Q<D&&D<le)for(Le=Ae-1;Le>=0;--Le)M[Le+D]=this[Le+Q];else if(Ae<1e3||!p.TYPED_ARRAY_SUPPORT)for(Le=0;Le<Ae;++Le)M[Le+D]=this[Le+Q];else Uint8Array.prototype.set.call(M,this.subarray(Q,Q+Ae),D);return Ae},p.prototype.fill=function(M,D,Q,le){if(typeof M=="string"){if(typeof D=="string"?(le=D,D=0,Q=this.length):typeof Q=="string"&&(le=Q,Q=this.length),M.length===1){var Ae=M.charCodeAt(0);Ae<256&&(M=Ae)}if(le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!p.isEncoding(le))throw new TypeError("Unknown encoding: "+le)}else typeof M=="number"&&(M=M&255);if(D<0||this.length<D||this.length<Q)throw new RangeError("Out of range index");if(Q<=D)return this;D=D>>>0,Q=Q===void 0?this.length:Q>>>0,M||(M=0);var Le;if(typeof M=="number")for(Le=D;Le<Q;++Le)this[Le]=M;else{var Sn=p.isBuffer(M)?M:dn(new p(M,le).toString()),bn=Sn.length;for(Le=0;Le<Q-D;++Le)this[Le+D]=Sn[Le%bn]}return this};var Ye=/[^+\/0-9A-Za-z-_]/g;function ln(j){if(j=xn(j).replace(Ye,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function xn(j){return j.trim?j.trim():j.replace(/^\s+|\s+$/g,"")}function Fn(j){return j<16?"0"+j.toString(16):j.toString(16)}function dn(j,M){M=M||1/0;for(var D,Q=j.length,le=null,Ae=[],Le=0;Le<Q;++Le){if(D=j.charCodeAt(Le),D>55295&&D<57344){if(!le){if(D>56319){(M-=3)>-1&&Ae.push(239,191,189);continue}else if(Le+1===Q){(M-=3)>-1&&Ae.push(239,191,189);continue}le=D;continue}if(D<56320){(M-=3)>-1&&Ae.push(239,191,189),le=D;continue}D=(le-55296<<10|D-56320)+65536}else le&&(M-=3)>-1&&Ae.push(239,191,189);if(le=null,D<128){if((M-=1)<0)break;Ae.push(D)}else if(D<2048){if((M-=2)<0)break;Ae.push(D>>6|192,D&63|128)}else if(D<65536){if((M-=3)<0)break;Ae.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((M-=4)<0)break;Ae.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return Ae}function Un(j){for(var M=[],D=0;D<j.length;++D)M.push(j.charCodeAt(D)&255);return M}function gn(j,M){for(var D,Q,le,Ae=[],Le=0;Le<j.length&&!((M-=2)<0);++Le)D=j.charCodeAt(Le),Q=D>>8,le=D%256,Ae.push(le),Ae.push(Q);return Ae}function zn(j){return n.toByteArray(ln(j))}function kn(j,M,D,Q){for(var le=0;le<Q&&!(le+D>=M.length||le>=j.length);++le)M[le+D]=j[le];return le}function Mn(j){return j!==j}})(tu);function Mc(){this.head=null,this.tail=null,this.length=0}Mc.prototype.push=function(e){var n={data:e,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length};Mc.prototype.unshift=function(e){var n={data:e,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length};Mc.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}};Mc.prototype.clear=function(){this.head=this.tail=null,this.length=0};Mc.prototype.join=function(e){if(this.length===0)return"";for(var n=this.head,t=""+n.data;n=n.next;)t+=e+n.data;return t};Mc.prototype.concat=function(e){if(this.length===0)return tu.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var n=tu.Buffer.allocUnsafe(e>>>0),t=this.head,r=0;t;)t.data.copy(n,r),r+=t.data.length,t=t.next;return n};var zx={exports:{}};(function(e,n){var t=tu,r=t.Buffer;function s(d,p){for(var g in d)p[g]=d[g]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=t:(s(t,n),n.Buffer=u);function u(d,p,g){return r(d,p,g)}s(r,u),u.from=function(d,p,g){if(typeof d=="number")throw new TypeError("Argument must not be a number");return r(d,p,g)},u.alloc=function(d,p,g){if(typeof d!="number")throw new TypeError("Argument must be a number");var _=r(d);return p!==void 0?typeof g=="string"?_.fill(p,g):_.fill(p):_.fill(0),_},u.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r(d)},u.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(d)}})(zx,zx.exports);var Dk=zx.exports.Buffer,Y5=Dk.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Fde(e){if(!e)return"utf8";for(var n;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(n)return;e=(""+e).toLowerCase(),n=!0}}function Hde(e){var n=Fde(e);if(typeof n!="string"&&(Dk.isEncoding===Y5||!Y5(e)))throw new Error("Unknown encoding: "+e);return n||e}var c8=h0;function h0(e){this.encoding=Hde(e);var n;switch(this.encoding){case"utf16le":this.text=$de,this.end=Vde,n=4;break;case"utf8":this.fillLast=Bde,n=4;break;case"base64":this.text=Wde,this.end=Kde,n=3;break;default:this.write=Qde,this.end=Yde;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Dk.allocUnsafe(n)}h0.prototype.write=function(e){if(e.length===0)return"";var n,t;if(this.lastNeed){if(n=this.fillLast(e),n===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<e.length?n?n+this.text(e,t):this.text(e,t):n||""};h0.prototype.end=Gde;h0.prototype.text=jde;h0.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function t2(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function zde(e,n,t){var r=n.length-1;if(r<t)return 0;var s=t2(n[r]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--r<t||s===-2?0:(s=t2(n[r]),s>=0?(s>0&&(e.lastNeed=s-2),s):--r<t||s===-2?0:(s=t2(n[r]),s>=0?(s>0&&(s===2?s=0:e.lastNeed=s-3),s):0))}function qde(e,n,t){if((n[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&n.length>1){if((n[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&n.length>2&&(n[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Bde(e){var n=this.lastTotal-this.lastNeed,t=qde(this,e);if(t!==void 0)return t;if(this.lastNeed<=e.length)return e.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,n,0,e.length),this.lastNeed-=e.length}function jde(e,n){var t=zde(this,e,n);if(!this.lastNeed)return e.toString("utf8",n);this.lastTotal=t;var r=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",n,r)}function Gde(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+"\uFFFD":n}function $de(e,n){if((e.length-n)%2===0){var t=e.toString("utf16le",n);if(t){var r=t.charCodeAt(t.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",n,e.length-1)}function Vde(e){var n=e&&e.length?this.write(e):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return n+this.lastChar.toString("utf16le",0,t)}return n}function Wde(e,n){var t=(e.length-n)%3;return t===0?e.toString("base64",n):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",n,e.length-t))}function Kde(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+this.lastChar.toString("base64",0,3-this.lastNeed):n}function Qde(e){return e.toString(this.encoding)}function Yde(e){return e&&e.length?this.write(e):""}pr.ReadableState=d8;var Ft=ro.debuglog("stream");ro.inherits(pr,kh);function Xde(e,n,t){if(typeof e.prependListener=="function")return e.prependListener(n,t);!e._events||!e._events[n]?e.on(n,t):Array.isArray(e._events[n])?e._events[n].unshift(t):e._events[n]=[t,e._events[n]]}function Zde(e,n){return e.listeners(n).length}function d8(e,n){e=e||{},this.objectMode=!!e.objectMode,n instanceof Na&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var t=e.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new Mc,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new c8(e.encoding),this.encoding=e.encoding)}function pr(e){if(!(this instanceof pr))return new pr(e);this._readableState=new d8(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),kh.call(this)}pr.prototype.push=function(e,n){var t=this._readableState;return!t.objectMode&&typeof e=="string"&&(n=n||t.defaultEncoding,n!==t.encoding&&(e=Buffer.from(e,n),n="")),h8(this,t,e,n,!1)};pr.prototype.unshift=function(e){var n=this._readableState;return h8(this,n,e,"",!0)};pr.prototype.isPaused=function(){return this._readableState.flowing===!1};function h8(e,n,t,r,s){var u=nhe(n,t);if(u)e.emit("error",u);else if(t===null)n.reading=!1,the(e,n);else if(n.objectMode||t&&t.length>0)if(n.ended&&!s){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(n.endEmitted&&s){var p=new Error("stream.unshift() after end event");e.emit("error",p)}else{var g;n.decoder&&!s&&!r&&(t=n.decoder.write(t),g=!n.objectMode&&t.length===0),s||(n.reading=!1),g||(n.flowing&&n.length===0&&!n.sync?(e.emit("data",t),e.read(0)):(n.length+=n.objectMode?1:t.length,s?n.buffer.unshift(t):n.buffer.push(t),n.needReadable&&b_(e))),rhe(e,n)}else s||(n.reading=!1);return Jde(n)}function Jde(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}pr.prototype.setEncoding=function(e){return this._readableState.decoder=new c8(e),this._readableState.encoding=e,this};var X5=8388608;function ehe(e){return e>=X5?e=X5:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Z5(e,n){return e<=0||n.length===0&&n.ended?0:n.objectMode?1:e!==e?n.flowing&&n.length?n.buffer.head.data.length:n.length:(e>n.highWaterMark&&(n.highWaterMark=ehe(e)),e<=n.length?e:n.ended?n.length:(n.needReadable=!0,0))}pr.prototype.read=function(e){Ft("read",e),e=parseInt(e,10);var n=this._readableState,t=e;if(e!==0&&(n.emittedReadable=!1),e===0&&n.needReadable&&(n.length>=n.highWaterMark||n.ended))return Ft("read: emitReadable",n.length,n.ended),n.length===0&&n.ended?r2(this):b_(this),null;if(e=Z5(e,n),e===0&&n.ended)return n.length===0&&r2(this),null;var r=n.needReadable;Ft("need readable",r),(n.length===0||n.length-e<n.highWaterMark)&&(r=!0,Ft("length less than watermark",r)),n.ended||n.reading?(r=!1,Ft("reading or ended",r)):r&&(Ft("do read"),n.reading=!0,n.sync=!0,n.length===0&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(e=Z5(t,n)));var s;return e>0?s=p8(e,n):s=null,s===null?(n.needReadable=!0,e=0):n.length-=e,n.length===0&&(n.ended||(n.needReadable=!0),t!==e&&n.ended&&r2(this)),s!==null&&this.emit("data",s),s};function nhe(e,n){var t=null;return!Buffer.isBuffer(n)&&typeof n!="string"&&n!==null&&n!==void 0&&!e.objectMode&&(t=new TypeError("Invalid non-string/buffer chunk")),t}function the(e,n){if(!n.ended){if(n.decoder){var t=n.decoder.end();t&&t.length&&(n.buffer.push(t),n.length+=n.objectMode?1:t.length)}n.ended=!0,b_(e)}}function b_(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(Ft("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?is.nextTick(J5,e):J5(e))}function J5(e){Ft("emit readable"),e.emit("readable"),Uk(e)}function rhe(e,n){n.readingMore||(n.readingMore=!0,is.nextTick(ihe,e,n))}function ihe(e,n){for(var t=n.length;!n.reading&&!n.flowing&&!n.ended&&n.length<n.highWaterMark&&(Ft("maybeReadMore read 0"),e.read(0),t!==n.length);)t=n.length;n.readingMore=!1}pr.prototype._read=function(e){this.emit("error",new Error("not implemented"))};pr.prototype.pipe=function(e,n){var t=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e);break}r.pipesCount+=1,Ft("pipe count=%d opts=%j",r.pipesCount,n);var s=!n||n.end!==!1,u=s?p:y;r.endEmitted?is.nextTick(u):t.once("end",u),e.on("unpipe",d);function d(N){Ft("onunpipe"),N===t&&y()}function p(){Ft("onend"),e.end()}var g=ahe(t);e.on("drain",g);var _=!1;function y(){Ft("cleanup"),e.removeListener("close",T),e.removeListener("finish",I),e.removeListener("drain",g),e.removeListener("error",k),e.removeListener("unpipe",d),t.removeListener("end",p),t.removeListener("end",y),t.removeListener("data",x),_=!0,r.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&g()}var E=!1;t.on("data",x);function x(N){Ft("ondata"),E=!1;var O=e.write(N);O===!1&&!E&&((r.pipesCount===1&&r.pipes===e||r.pipesCount>1&&f8(r.pipes,e)!==-1)&&!_&&(Ft("false write response, pause",t._readableState.awaitDrain),t._readableState.awaitDrain++,E=!0),t.pause())}function k(N){Ft("onerror",N),P(),e.removeListener("error",k),Zde(e,"error")===0&&e.emit("error",N)}Xde(e,"error",k);function T(){e.removeListener("finish",I),P()}e.once("close",T);function I(){Ft("onfinish"),e.removeListener("close",T),P()}e.once("finish",I);function P(){Ft("unpipe"),t.unpipe(e)}return e.emit("pipe",t),r.flowing||(Ft("pipe resume"),t.resume()),e};function ahe(e){return function(){var n=e._readableState;Ft("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,n.awaitDrain===0&&e.listeners("data").length&&(n.flowing=!0,Uk(e))}}pr.prototype.unpipe=function(e){var n=this._readableState;if(n.pipesCount===0)return this;if(n.pipesCount===1)return e&&e!==n.pipes?this:(e||(e=n.pipes),n.pipes=null,n.pipesCount=0,n.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var t=n.pipes,r=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var s=0;s<r;s++)t[s].emit("unpipe",this);return this}var u=f8(n.pipes,e);return u===-1?this:(n.pipes.splice(u,1),n.pipesCount-=1,n.pipesCount===1&&(n.pipes=n.pipes[0]),e.emit("unpipe",this),this)};pr.prototype.on=function(e,n){var t=kh.prototype.on.call(this,e,n);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var r=this._readableState;!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&b_(this):is.nextTick(she,this))}return t};pr.prototype.addListener=pr.prototype.on;function she(e){Ft("readable nexttick read 0"),e.read(0)}pr.prototype.resume=function(){var e=this._readableState;return e.flowing||(Ft("resume"),e.flowing=!0,ohe(this,e)),this};function ohe(e,n){n.resumeScheduled||(n.resumeScheduled=!0,is.nextTick(lhe,e,n))}function lhe(e,n){n.reading||(Ft("resume read 0"),e.read(0)),n.resumeScheduled=!1,n.awaitDrain=0,e.emit("resume"),Uk(e),n.flowing&&!n.reading&&e.read(0)}pr.prototype.pause=function(){return Ft("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ft("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Uk(e){var n=e._readableState;for(Ft("flow",n.flowing);n.flowing&&e.read()!==null;);}pr.prototype.wrap=function(e){var n=this._readableState,t=!1,r=this;e.on("end",function(){if(Ft("wrapped end"),n.decoder&&!n.ended){var d=n.decoder.end();d&&d.length&&r.push(d)}r.push(null)}),e.on("data",function(d){if(Ft("wrapped data"),n.decoder&&(d=n.decoder.write(d)),!(n.objectMode&&d==null)&&!(!n.objectMode&&(!d||!d.length))){var p=r.push(d);p||(t=!0,e.pause())}});for(var s in e)this[s]===void 0&&typeof e[s]=="function"&&(this[s]=function(d){return function(){return e[d].apply(e,arguments)}}(s));var u=["error","close","destroy","pause","resume"];return phe(u,function(d){e.on(d,r.emit.bind(r,d))}),r._read=function(d){Ft("wrapped _read",d),t&&(t=!1,e.resume())},r};pr._fromList=p8;function p8(e,n){if(n.length===0)return null;var t;return n.objectMode?t=n.buffer.shift():!e||e>=n.length?(n.decoder?t=n.buffer.join(""):n.buffer.length===1?t=n.buffer.head.data:t=n.buffer.concat(n.length),n.buffer.clear()):t=uhe(e,n.buffer,n.decoder),t}function uhe(e,n,t){var r;return e<n.head.data.length?(r=n.head.data.slice(0,e),n.head.data=n.head.data.slice(e)):e===n.head.data.length?r=n.shift():r=t?che(e,n):dhe(e,n),r}function che(e,n){var t=n.head,r=1,s=t.data;for(e-=s.length;t=t.next;){var u=t.data,d=e>u.length?u.length:e;if(d===u.length?s+=u:s+=u.slice(0,e),e-=d,e===0){d===u.length?(++r,t.next?n.head=t.next:n.head=n.tail=null):(n.head=t,t.data=u.slice(d));break}++r}return n.length-=r,s}function dhe(e,n){var t=Buffer.allocUnsafe(e),r=n.head,s=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var u=r.data,d=e>u.length?u.length:e;if(u.copy(t,t.length-e,0,d),e-=d,e===0){d===u.length?(++s,r.next?n.head=r.next:n.head=n.tail=null):(n.head=r,r.data=u.slice(d));break}++s}return n.length-=s,t}function r2(e){var n=e._readableState;if(n.length>0)throw new Error('"endReadable()" called on non-empty stream');n.endEmitted||(n.ended=!0,is.nextTick(hhe,n,e))}function hhe(e,n){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,n.readable=!1,n.emit("end"))}function phe(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}function f8(e,n){for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1}pi.WritableState=Lk;ro.inherits(pi,d0.exports.EventEmitter);function fhe(){}function ghe(e,n,t){this.chunk=e,this.encoding=n,this.callback=t,this.next=null}function Lk(e,n){Object.defineProperty(this,"buffer",{get:ro.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,n instanceof Na&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var t=e.highWaterMark,r=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=e.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){whe(n,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new _8(this)}Lk.prototype.getBuffer=function(){for(var n=this.bufferedRequest,t=[];n;)t.push(n),n=n.next;return t};function pi(e){if(!(this instanceof pi)&&!(this instanceof Na))return new pi(e);this._writableState=new Lk(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),d0.exports.EventEmitter.call(this)}pi.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function mhe(e,n){var t=new Error("write after end");e.emit("error",t),is.nextTick(n,t)}function vhe(e,n,t,r){var s=!0,u=!1;return t===null?u=new TypeError("May not write null values to stream"):!tu.Buffer.isBuffer(t)&&typeof t!="string"&&t!==void 0&&!n.objectMode&&(u=new TypeError("Invalid non-string/buffer chunk")),u&&(e.emit("error",u),is.nextTick(r,u),s=!1),s}pi.prototype.write=function(e,n,t){var r=this._writableState,s=!1;return typeof n=="function"&&(t=n,n=null),tu.Buffer.isBuffer(e)?n="buffer":n||(n=r.defaultEncoding),typeof t!="function"&&(t=fhe),r.ended?mhe(this,t):vhe(this,r,e,t)&&(r.pendingcb++,s=bhe(this,r,e,n,t)),s};pi.prototype.cork=function(){var e=this._writableState;e.corked++};pi.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&g8(this,e))};pi.prototype.setDefaultEncoding=function(n){if(typeof n=="string"&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this};function _he(e,n,t){return!e.objectMode&&e.decodeStrings!==!1&&typeof n=="string"&&(n=tu.Buffer.from(n,t)),n}function bhe(e,n,t,r,s){t=_he(n,t,r),tu.Buffer.isBuffer(t)&&(r="buffer");var u=n.objectMode?1:t.length;n.length+=u;var d=n.length<n.highWaterMark;if(d||(n.needDrain=!0),n.writing||n.corked){var p=n.lastBufferedRequest;n.lastBufferedRequest=new ghe(t,r,s),p?p.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else qx(e,n,!1,u,t,r,s);return d}function qx(e,n,t,r,s,u,d){n.writelen=r,n.writecb=d,n.writing=!0,n.sync=!0,t?e._writev(s,n.onwrite):e._write(s,u,n.onwrite),n.sync=!1}function yhe(e,n,t,r,s){--n.pendingcb,t?is.nextTick(s,r):s(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function Ehe(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function whe(e,n){var t=e._writableState,r=t.sync,s=t.writecb;if(Ehe(t),n)yhe(e,t,r,n,s);else{var u=m8(t);!u&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&g8(e,t),r?is.nextTick(eR,e,t,u,s):eR(e,t,u,s)}}function eR(e,n,t,r){t||xhe(e,n),n.pendingcb--,r(),v8(e,n)}function xhe(e,n){n.length===0&&n.needDrain&&(n.needDrain=!1,e.emit("drain"))}function g8(e,n){n.bufferProcessing=!0;var t=n.bufferedRequest;if(e._writev&&t&&t.next){var r=n.bufferedRequestCount,s=new Array(r),u=n.corkedRequestsFree;u.entry=t;for(var d=0;t;)s[d]=t,t=t.next,d+=1;qx(e,n,!0,n.length,s,"",u.finish),n.pendingcb++,n.lastBufferedRequest=null,u.next?(n.corkedRequestsFree=u.next,u.next=null):n.corkedRequestsFree=new _8(n)}else{for(;t;){var p=t.chunk,g=t.encoding,_=t.callback,y=n.objectMode?1:p.length;if(qx(e,n,!1,y,p,g,_),t=t.next,n.writing)break}t===null&&(n.lastBufferedRequest=null)}n.bufferedRequestCount=0,n.bufferedRequest=t,n.bufferProcessing=!1}pi.prototype._write=function(e,n,t){t(new Error("not implemented"))};pi.prototype._writev=null;pi.prototype.end=function(e,n,t){var r=this._writableState;typeof e=="function"?(t=e,e=null,n=null):typeof n=="function"&&(t=n,n=null),e!=null&&this.write(e,n),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&khe(this,r,t)};function m8(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function nR(e,n){n.prefinished||(n.prefinished=!0,e.emit("prefinish"))}function v8(e,n){var t=m8(n);return t&&(n.pendingcb===0?(nR(e,n),n.finished=!0,e.emit("finish")):nR(e,n)),t}function khe(e,n,t){n.ending=!0,v8(e,n),t&&(n.finished?is.nextTick(t):e.once("finish",t)),n.ended=!0,e.writable=!1}function _8(e){var n=this;this.next=null,this.entry=null,this.finish=function(t){var r=n.entry;for(n.entry=null;r;){var s=r.callback;e.pendingcb--,s(t),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=n:e.corkedRequestsFree=n}}ro.inherits(Na,pr);var tR=Object.keys(pi.prototype);for(var i2=0;i2<tR.length;i2++){var a2=tR[i2];Na.prototype[a2]||(Na.prototype[a2]=pi.prototype[a2])}function Na(e){if(!(this instanceof Na))return new Na(e);pr.call(this,e),pi.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",She)}function She(){this.allowHalfOpen||this._writableState.ended||is.nextTick(Che,this)}function Che(e){e.end()}ro.inherits(ks,Na);function The(e){this.afterTransform=function(n,t){return Ihe(e,n,t)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Ihe(e,n,t){var r=e._transformState;r.transforming=!1;var s=r.writecb;if(!s)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,t!=null&&e.push(t),s(n);var u=e._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&e._read(u.highWaterMark)}function ks(e){if(!(this instanceof ks))return new ks(e);Na.call(this,e),this._transformState=new The(this);var n=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(t){rR(n,t)}):rR(n)})}ks.prototype.push=function(e,n){return this._transformState.needTransform=!1,Na.prototype.push.call(this,e,n)};ks.prototype._transform=function(e,n,t){throw new Error("Not implemented")};ks.prototype._write=function(e,n,t){var r=this._transformState;if(r.writecb=t,r.writechunk=e,r.writeencoding=n,!r.transforming){var s=this._readableState;(r.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};ks.prototype._read=function(e){var n=this._transformState;n.writechunk!==null&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0};function rR(e,n){if(n)return e.emit("error",n);var t=e._writableState,r=e._transformState;if(t.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}ro.inherits(dh,ks);function dh(e){if(!(this instanceof dh))return new dh(e);ks.call(this,e)}dh.prototype._transform=function(e,n,t){t(null,e)};ro.inherits(Ss,kh);Ss.Readable=pr;Ss.Writable=pi;Ss.Duplex=Na;Ss.Transform=ks;Ss.PassThrough=dh;Ss.Stream=Ss;function Ss(){kh.call(this)}Ss.prototype.pipe=function(e,n){var t=this;function r(y){e.writable&&e.write(y)===!1&&t.pause&&t.pause()}t.on("data",r);function s(){t.readable&&t.resume&&t.resume()}e.on("drain",s),!e._isStdio&&(!n||n.end!==!1)&&(t.on("end",d),t.on("close",p));var u=!1;function d(){u||(u=!0,e.end())}function p(){u||(u=!0,typeof e.destroy=="function"&&e.destroy())}function g(y){if(_(),kh.listenerCount(this,"error")===0)throw y}t.on("error",g),e.on("error",g);function _(){t.removeListener("data",r),e.removeListener("drain",s),t.removeListener("end",d),t.removeListener("close",p),t.removeListener("error",g),e.removeListener("error",g),t.removeListener("end",_),t.removeListener("close",_),e.removeListener("close",_)}return t.on("end",_),t.on("close",_),e.on("close",_),e.emit("pipe",t),e};var Nhe=Object.freeze({__proto__:null,default:Ss,Readable:pr,Writable:pi,Duplex:Na,Transform:ks,PassThrough:dh,Stream:Ss}),Ohe=gde(Nhe);/** @license React v17.0.2
* react-dom-server.node.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var _s=yde,Po=S,Ahe=Ohe;function wr(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pk=60106,Fv=60107,Fk=60108,Hk=60114,Hv=60109,zk=60110,qk=60112,zv=60113,Bk=60120,jk=60115,Gk=60116,b8=60121,y8=60117,E8=60119,w8=60129,x8=60131;if(typeof Symbol=="function"&&Symbol.for){var Si=Symbol.for;Pk=Si("react.portal"),Fv=Si("react.fragment"),Fk=Si("react.strict_mode"),Hk=Si("react.profiler"),Hv=Si("react.provider"),zk=Si("react.context"),qk=Si("react.forward_ref"),zv=Si("react.suspense"),Bk=Si("react.suspense_list"),jk=Si("react.memo"),Gk=Si("react.lazy"),b8=Si("react.block"),y8=Si("react.fundamental"),E8=Si("react.scope"),w8=Si("react.debug_trace_mode"),x8=Si("react.legacy_hidden")}function kf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fv:return"Fragment";case Pk:return"Portal";case Hk:return"Profiler";case Fk:return"StrictMode";case zv:return"Suspense";case Bk:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zk:return(e.displayName||"Context")+".Consumer";case Hv:return(e._context.displayName||"Context")+".Provider";case qk:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case jk:return kf(e.type);case b8:return kf(e._render);case Gk:n=e._payload,e=e._init;try{return kf(e(n))}catch{}}return null}var Rhe=Po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k8={};function Jf(e,n){for(var t=e._threadCount|0;t<=n;t++)e[t]=e._currentValue2,e._threadCount=t+1}function Mhe(e,n,t,r){if(r&&(r=e.contextType,typeof r=="object"&&r!==null))return Jf(r,t),r[t];if(e=e.contextTypes){t={};for(var s in e)t[s]=n[s];n=t}else n=k8;return n}for(var Oi=new Uint16Array(16),Tm=0;15>Tm;Tm++)Oi[Tm]=Tm+1;Oi[15]=0;var Dhe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iR=Object.prototype.hasOwnProperty,aR={},sR={};function S8(e){return iR.call(sR,e)?!0:iR.call(aR,e)?!1:Dhe.test(e)?sR[e]=!0:(aR[e]=!0,!1)}function Uhe(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lhe(e,n,t,r){if(n===null||typeof n>"u"||Uhe(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Wi(e,n,t,r,s,u,d){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=u,this.removeEmptyString=d}var fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fi[e]=new Wi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];fi[n]=new Wi(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fi[e]=new Wi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fi[e]=new Wi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fi[e]=new Wi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fi[e]=new Wi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fi[e]=new Wi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fi[e]=new Wi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fi[e]=new Wi(e,5,!1,e.toLowerCase(),null,!1,!1)});var $k=/[\-:]([a-z])/g;function Vk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace($k,Vk);fi[n]=new Wi(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace($k,Vk);fi[n]=new Wi(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace($k,Vk);fi[n]=new Wi(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fi[e]=new Wi(e,1,!1,e.toLowerCase(),null,!1,!1)});fi.xlinkHref=new Wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fi[e]=new Wi(e,1,!1,e.toLowerCase(),null,!0,!0)});var Phe=/["'&<>]/;function tc(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var n=Phe.exec(e);if(n){var t="",r,s=0;for(r=n.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==r&&(t+=e.substring(s,r)),s=r+1,t+=n}e=s!==r?t+e.substring(s,r):t}return e}function Fhe(e,n){var t=fi.hasOwnProperty(e)?fi[e]:null,r;return(r=e!=="style")&&(r=t!==null?t.type===0:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")),r||Lhe(e,n,t,!1)?"":t!==null?(e=t.attributeName,r=t.type,r===3||r===4&&n===!0?e+'=""':(t.sanitizeURL&&(n=""+n),e+'="'+(tc(n)+'"'))):S8(e)?e+'="'+(tc(n)+'"'):""}function Hhe(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var zhe=typeof Object.is=="function"?Object.is:Hhe,no=null,Xm=null,Zt=null,sf=!1,qv=!1,Ll=null,y_=0;function rc(){if(no===null)throw Error(wr(321));return no}function oR(){if(0<y_)throw Error(wr(312));return{memoizedState:null,queue:null,next:null}}function Wk(){return Zt===null?Xm===null?(sf=!1,Xm=Zt=oR()):(sf=!0,Zt=Xm):Zt.next===null?(sf=!1,Zt=Zt.next=oR()):(sf=!0,Zt=Zt.next),Zt}function C8(e,n,t,r){for(;qv;)qv=!1,y_+=1,Zt=null,t=e(n,r);return T8(),t}function T8(){no=null,qv=!1,Xm=null,y_=0,Zt=Ll=null}function I8(e,n){return typeof n=="function"?n(e):n}function lR(e,n,t){if(no=rc(),Zt=Wk(),sf){var r=Zt.queue;if(n=r.dispatch,Ll!==null&&(t=Ll.get(r),t!==void 0)){Ll.delete(r),r=Zt.memoizedState;do r=e(r,t.action),t=t.next;while(t!==null);return Zt.memoizedState=r,[r,n]}return[Zt.memoizedState,n]}return e=e===I8?typeof n=="function"?n():n:t!==void 0?t(n):n,Zt.memoizedState=e,e=Zt.queue={last:null,dispatch:null},e=e.dispatch=qhe.bind(null,no,e),[Zt.memoizedState,e]}function uR(e,n){if(no=rc(),Zt=Wk(),n=n===void 0?null:n,Zt!==null){var t=Zt.memoizedState;if(t!==null&&n!==null){var r=t[1];e:if(r===null)r=!1;else{for(var s=0;s<r.length&&s<n.length;s++)if(!zhe(n[s],r[s])){r=!1;break e}r=!0}if(r)return t[0]}}return e=e(),Zt.memoizedState=[e,n],e}function qhe(e,n,t){if(!(25>y_))throw Error(wr(301));if(e===no)if(qv=!0,e={action:t,next:null},Ll===null&&(Ll=new Map),t=Ll.get(n),t===void 0)Ll.set(n,e);else{for(n=t;n.next!==null;)n=n.next;n.next=e}}function s2(){}var uc=null,Bhe={readContext:function(e){var n=uc.threadID;return Jf(e,n),e[n]},useContext:function(e){rc();var n=uc.threadID;return Jf(e,n),e[n]},useMemo:uR,useReducer:lR,useRef:function(e){no=rc(),Zt=Wk();var n=Zt.memoizedState;return n===null?(e={current:e},Zt.memoizedState=e):n},useState:function(e){return lR(I8,e)},useLayoutEffect:function(){},useCallback:function(e,n){return uR(function(){return e},n)},useImperativeHandle:s2,useEffect:s2,useDebugValue:s2,useDeferredValue:function(e){return rc(),e},useTransition:function(){return rc(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(uc.identifierPrefix||"")+"R:"+(uc.uniqueID++).toString(36)},useMutableSource:function(e,n){return rc(),n(e._source)}},jhe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ghe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var N8={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},$he=_s({menuitem:!0},N8),Sf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vhe=["Webkit","ms","Moz","O"];Object.keys(Sf).forEach(function(e){Vhe.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Sf[n]=Sf[e]})});var Whe=/([A-Z])/g,Khe=/^ms-/,Cl=Po.Children.toArray,o2=Rhe.ReactCurrentDispatcher,Qhe={listing:!0,pre:!0,textarea:!0},Yhe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,cR={},l2={};function Xhe(e){if(e==null)return e;var n="";return Po.Children.forEach(e,function(t){t!=null&&(n+=t)}),n}var Zhe=Object.prototype.hasOwnProperty,Jhe={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function dR(e,n){if(e===void 0)throw Error(wr(152,kf(n)||"Component"))}function epe(e,n,t){function r(d,p){var g=p.prototype&&p.prototype.isReactComponent,_=Mhe(p,n,t,g),y=[],E=!1,x={isMounted:function(){return!1},enqueueForceUpdate:function(){if(y===null)return null},enqueueReplaceState:function(U,L){E=!0,y=[L]},enqueueSetState:function(U,L){if(y===null)return null;y.push(L)}};if(g){if(g=new p(d.props,_,x),typeof p.getDerivedStateFromProps=="function"){var k=p.getDerivedStateFromProps.call(null,d.props,g.state);k!=null&&(g.state=_s({},g.state,k))}}else if(no={},g=p(d.props,_,x),g=C8(p,d.props,g,_),g==null||g.render==null){e=g,dR(e,p);return}if(g.props=d.props,g.context=_,g.updater=x,x=g.state,x===void 0&&(g.state=x=null),typeof g.UNSAFE_componentWillMount=="function"||typeof g.componentWillMount=="function")if(typeof g.componentWillMount=="function"&&typeof p.getDerivedStateFromProps!="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&typeof p.getDerivedStateFromProps!="function"&&g.UNSAFE_componentWillMount(),y.length){x=y;var T=E;if(y=null,E=!1,T&&x.length===1)g.state=x[0];else{k=T?x[0]:g.state;var I=!0;for(T=T?1:0;T<x.length;T++){var P=x[T];P=typeof P=="function"?P.call(g,k,d.props,_):P,P!=null&&(I?(I=!1,k=_s({},k,P)):_s(k,P))}g.state=k}}else y=null;if(e=g.render(),dR(e,p),typeof g.getChildContext=="function"&&(d=p.childContextTypes,typeof d=="object")){var N=g.getChildContext();for(var O in N)if(!(O in d))throw Error(wr(108,kf(p)||"Unknown",O))}N&&(n=_s({},n,N))}for(;Po.isValidElement(e);){var s=e,u=s.type;if(typeof u!="function")break;r(s,u)}return{child:e,context:n}}var Kk=function(){function e(t,r,s){Po.isValidElement(t)?t.type!==Fv?t=[t]:(t=t.props.children,t=Po.isValidElement(t)?[t]:Cl(t)):t=Cl(t),t={type:null,domNamespace:jhe.html,children:t,childIndex:0,context:k8,footer:""};var u=Oi[0];if(u===0){var d=Oi;u=d.length;var p=2*u;if(!(65536>=p))throw Error(wr(304));var g=new Uint16Array(p);for(g.set(d),Oi=g,Oi[0]=u+1,d=u;d<p-1;d++)Oi[d]=d+1;Oi[p-1]=0}else Oi[0]=Oi[u];this.threadID=u,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=r,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=s&&s.identifierPrefix||""}var n=e.prototype;return n.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;Oi[t]=Oi[0],Oi[0]=t}},n.pushProvider=function(t){var r=++this.contextIndex,s=t.type._context,u=this.threadID;Jf(s,u);var d=s[u];this.contextStack[r]=s,this.contextValueStack[r]=d,s[u]=t.props.value},n.popProvider=function(){var t=this.contextIndex,r=this.contextStack[t],s=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,r[this.threadID]=s},n.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},n.read=function(t){if(this.exhausted)return null;var r=uc;uc=this;var s=o2.current;o2.current=Bhe;try{for(var u=[""],d=!1;u[0].length<t;){if(this.stack.length===0){this.exhausted=!0;var p=this.threadID;Oi[p]=Oi[0],Oi[0]=p;break}var g=this.stack[this.stack.length-1];if(d||g.childIndex>=g.children.length){var _=g.footer;if(_!==""&&(this.previousWasTextNode=!1),this.stack.pop(),g.type==="select")this.currentSelectValue=null;else if(g.type!=null&&g.type.type!=null&&g.type.type.$$typeof===Hv)this.popProvider(g.type);else if(g.type===zv){this.suspenseDepth--;var y=u.pop();if(d){d=!1;var E=g.fallbackFrame;if(!E)throw Error(wr(303));this.stack.push(E),u[this.suspenseDepth]+="<!--$!-->";continue}else u[this.suspenseDepth]+=y}u[this.suspenseDepth]+=_}else{var x=g.children[g.childIndex++],k="";try{k+=this.render(x,g.context,g.domNamespace)}catch(T){throw T!=null&&typeof T.then=="function"?Error(wr(294)):T}finally{}u.length<=this.suspenseDepth&&u.push(""),u[this.suspenseDepth]+=k}}return u[0]}finally{o2.current=s,uc=r,T8()}},n.render=function(t,r,s){if(typeof t=="string"||typeof t=="number")return s=""+t,s===""?"":this.makeStaticMarkup?tc(s):this.previousWasTextNode?"<!-- -->"+tc(s):(this.previousWasTextNode=!0,tc(s));if(r=epe(t,r,this.threadID),t=r.child,r=r.context,t===null||t===!1)return"";if(!Po.isValidElement(t)){if(t!=null&&t.$$typeof!=null)throw s=t.$$typeof,Error(s===Pk?wr(257):wr(258,s.toString()));return t=Cl(t),this.stack.push({type:null,domNamespace:s,children:t,childIndex:0,context:r,footer:""}),""}var u=t.type;if(typeof u=="string")return this.renderDOM(t,r,s);switch(u){case x8:case w8:case Fk:case Hk:case Bk:case Fv:return t=Cl(t.props.children),this.stack.push({type:null,domNamespace:s,children:t,childIndex:0,context:r,footer:""}),"";case zv:throw Error(wr(294));case E8:throw Error(wr(343))}if(typeof u=="object"&&u!==null)switch(u.$$typeof){case qk:no={};var d=u.render(t.props,t.ref);return d=C8(u.render,t.props,d,t.ref),d=Cl(d),this.stack.push({type:null,domNamespace:s,children:d,childIndex:0,context:r,footer:""}),"";case jk:return t=[Po.createElement(u.type,_s({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:s,children:t,childIndex:0,context:r,footer:""}),"";case Hv:return u=Cl(t.props.children),s={type:t,domNamespace:s,children:u,childIndex:0,context:r,footer:""},this.pushProvider(t),this.stack.push(s),"";case zk:u=t.type,d=t.props;var p=this.threadID;return Jf(u,p),u=Cl(d.children(u[p])),this.stack.push({type:t,domNamespace:s,children:u,childIndex:0,context:r,footer:""}),"";case y8:throw Error(wr(338));case Gk:return u=t.type,d=u._init,u=d(u._payload),t=[Po.createElement(u,_s({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:s,children:t,childIndex:0,context:r,footer:""}),""}throw Error(wr(130,u==null?u:typeof u,""))},n.renderDOM=function(t,r,s){var u=t.type.toLowerCase();if(!cR.hasOwnProperty(u)){if(!Yhe.test(u))throw Error(wr(65,u));cR[u]=!0}var d=t.props;if(u==="input")d=_s({type:void 0},d,{defaultChecked:void 0,defaultValue:void 0,value:d.value!=null?d.value:d.defaultValue,checked:d.checked!=null?d.checked:d.defaultChecked});else if(u==="textarea"){var p=d.value;if(p==null){p=d.defaultValue;var g=d.children;if(g!=null){if(p!=null)throw Error(wr(92));if(Array.isArray(g)){if(!(1>=g.length))throw Error(wr(93));g=g[0]}p=""+g}p==null&&(p="")}d=_s({},d,{value:void 0,children:""+p})}else if(u==="select")this.currentSelectValue=d.value!=null?d.value:d.defaultValue,d=_s({},d,{value:void 0});else if(u==="option"){g=this.currentSelectValue;var _=Xhe(d.children);if(g!=null){var y=d.value!=null?d.value+"":_;if(p=!1,Array.isArray(g)){for(var E=0;E<g.length;E++)if(""+g[E]===y){p=!0;break}}else p=""+g===y;d=_s({selected:void 0,children:void 0},d,{selected:p,children:_})}}if(p=d){if($he[u]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(wr(137,u));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(wr(60));if(!(typeof p.dangerouslySetInnerHTML=="object"&&"__html"in p.dangerouslySetInnerHTML))throw Error(wr(61))}if(p.style!=null&&typeof p.style!="object")throw Error(wr(62))}p=d,g=this.makeStaticMarkup,_=this.stack.length===1,y="<"+t.type;e:if(u.indexOf("-")===-1)E=typeof p.is=="string";else switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":E=!1;break e;default:E=!0}for(L in p)if(Zhe.call(p,L)){var x=p[L];if(x!=null){if(L==="style"){var k=void 0,T="",I="";for(k in x)if(x.hasOwnProperty(k)){var P=k.indexOf("--")===0,N=x[k];if(N!=null){if(P)var O=k;else if(O=k,l2.hasOwnProperty(O))O=l2[O];else{var U=O.replace(Whe,"-$1").toLowerCase().replace(Khe,"-ms-");O=l2[O]=U}T+=I+O+":",I=k,P=N==null||typeof N=="boolean"||N===""?"":P||typeof N!="number"||N===0||Sf.hasOwnProperty(I)&&Sf[I]?(""+N).trim():N+"px",T+=P,I=";"}}x=T||null}k=null,E?Jhe.hasOwnProperty(L)||(k=L,k=S8(k)&&x!=null?k+'="'+(tc(x)+'"'):""):k=Fhe(L,x),k&&(y+=" "+k)}}g||_&&(y+=' data-reactroot=""');var L=y;p="",N8.hasOwnProperty(u)?L+="/>":(L+=">",p="</"+t.type+">");e:{if(g=d.dangerouslySetInnerHTML,g!=null){if(g.__html!=null){g=g.__html;break e}}else if(g=d.children,typeof g=="string"||typeof g=="number"){g=tc(g);break e}g=null}return g!=null?(d=[],Qhe.hasOwnProperty(u)&&g.charAt(0)===`
`&&(L+=`
`),L+=g):d=Cl(d.children),t=t.type,s=s==null||s==="http://www.w3.org/1999/xhtml"?Ghe(t):s==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":s,this.stack.push({domNamespace:s,type:u,children:d,childIndex:0,context:r,footer:p}),this.previousWasTextNode=!1,L},e}();function npe(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var O8=function(e){function n(r,s,u){var d=e.call(this,{})||this;return d.partialRenderer=new Kk(r,s,u),d}npe(n,e);var t=n.prototype;return t._destroy=function(r,s){this.partialRenderer.destroy(),s(r)},t._read=function(r){try{this.push(this.partialRenderer.read(r))}catch(s){this.destroy(s)}},n}(Ahe.Readable);xh.renderToNodeStream=function(e,n){return new O8(e,!1,n)};xh.renderToStaticMarkup=function(e,n){e=new Kk(e,!0,n);try{return e.read(1/0)}finally{e.destroy()}};xh.renderToStaticNodeStream=function(e,n){return new O8(e,!0,n)};xh.renderToString=function(e,n){e=new Kk(e,!1,n);try{return e.read(1/0)}finally{e.destroy()}};xh.version="17.0.2";e8.exports=xh;var hR=e8.exports,Qp="sendbird-message-input-text-field",tpe=76,js=function(){},rpe=function(n){return function(t){t.target.files&&t.target.files[0]&&n(t.target.files[0]),t.target.value=""}},pR={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},E_=S.forwardRef(function(e,n){var t=e.className,r=e.isEdit,s=e.isMentionEnabled,u=e.disabled,d=e.message,p=e.placeholder,g=e.maxLength,_=e.onFileUpload,y=e.onSendMessage,E=e.onUpdateMessage,x=e.onCancelEdit,k=e.onStartTyping,T=e.channelUrl,I=e.mentionSelectedUser,P=e.onUserMentioned,N=e.onMentionStringChange,O=e.onMentionedUserIdsUpdated,U=e.onKeyUp,L=e.onKeyDown,ee=de.exports.useContext(Is),V=ee.stringSet,J=de.exports.useRef(null),Y=de.exports.useState(!1),ye=Do(Y,2),ve=ye[0],Ue=ye[1],Ne=de.exports.useState([]),ce=Do(Ne,2),Ee=ce[0],ge=ce[1],je=de.exports.useState(ur({},pR)),Xe=Do(je,2),Te=Xe[0],ze=Xe[1],Ze=de.exports.useMemo(function(){return function(){try{var Fe=n.current,Me=window.document.body.offsetHeight*.6;Fe&&Fe.scrollHeight>=tpe?Me<Fe.scrollHeight?(Fe.style.height="auto",Fe.style.height="".concat(Me,"px")):(Fe.style.height="auto",Fe.style.height="".concat(Fe.scrollHeight,"px")):Fe.style.height=""}catch{}}},[]);de.exports.useEffect(function(){r||(Ue(!1),document.getElementById(Qp).innerHTML="")},[T]),de.exports.useEffect(function(){if(r&&d!==null&&d!==void 0&&d.messageId){var Fe,Me,Ie,Ye=n.current;if(s&&(d==null||(Fe=d.mentionedUsers)===null||Fe===void 0?void 0:Fe.length)>0&&(d==null||(Me=d.mentionedMessageTemplate)===null||Me===void 0?void 0:Me.length)>0){var ln,xn=d.mentionedUsers,Fn=xn===void 0?[]:xn;Ye.innerHTML=d==null||(ln=d.mentionedMessageTemplate)===null||ln===void 0?void 0:ln.split(" ").map(function(dn){return joe(dn,Fn).map(function(Un){var gn=Un.type,zn=Un.value,kn=Un.userId;if(gn===Mo.mention&&Fn.some(function(j){return(j==null?void 0:j.userId)===kn})){var Mn;return hR.renderToString(S.createElement(j5,{userId:kn},"".concat(kd).concat(((Mn=Fn.find(function(j){return(j==null?void 0:j.userId)===kn}))===null||Mn===void 0?void 0:Mn.nickname)||zn||V.MENTION_NAME__NO_NAME)))}return zn}).join("")}).join(" ")}else Ye.innerHTML=d==null?void 0:d.message,ge([]);Ue((Ye==null||(Ie=Ye.innerText)===null||Ie===void 0?void 0:Ie.length)>0),Ze()}},[r,d]);var oe=de.exports.useCallback(function(){var Fe=n.current;if(s){var Me=oc(Fe.getElementsByClassName("sendbird-mention-user-label")).map(function(Ie){var Ye;return Ie==null||(Ye=Ie.dataset)===null||Ye===void 0?void 0:Ye.userid});(!Goe(Ee,Me)||Me.length===0)&&(O(Me),ge(Me))}Ue(Fe.innerText.length>0)},[Te,s]);de.exports.useEffect(function(){if(s&&I){var Fe=Te.targetString,Me=Te.startNodeIndex,Ie=Te.startOffsetIndex,Ye=Te.endNodeIndex,ln=Te.endOffsetIndex;if(Fe&&Me!==null&&Ie!==null){var xn,Fn,dn,Un,gn=n.current,zn=oc(gn==null?void 0:gn.childNodes),kn=(xn=document)===null||xn===void 0?void 0:xn.createTextNode((Fn=zn[Me])===null||Fn===void 0?void 0:Fn.textContent.slice(0,Ie)),Mn=(dn=document)===null||dn===void 0?void 0:dn.createTextNode("\xA0".concat((Un=zn[Ye])===null||Un===void 0?void 0:Un.textContent.slice(ln))),j=hR.renderToString(S.createElement(j5,{userId:I==null?void 0:I.userId},"".concat(kd).concat((I==null?void 0:I.nickname)||V.MENTION_NAME__NO_NAME))),M=document.createElement("div");M.innerHTML=j;var D=[].concat(oc(zn.slice(0,Me)),[kn,M.childNodes[0],Mn],oc(zn.slice(Ye+1)));if(gn.innerHTML="",D.forEach(function(Ae){gn.appendChild(Ae)}),P(I),window.getSelection||document.getSelection){var Q=window.getSelection()||document.getSelection();Q.removeAllRanges();var le=new Range;le.selectNodeContents(gn),le.setStart(gn.childNodes[Me+2],1),le.setEnd(gn.childNodes[Me+2],1),le.collapse(!1),Q.addRange(le),gn.focus()}ze(ur({},pR)),Ze(),oe()}}},[I,s]);var ne=de.exports.useCallback(function(){var Fe,Me,Ie,Ye,ln=((Fe=window)===null||Fe===void 0||(Me=Fe.getSelection)===null||Me===void 0?void 0:Me.call(Fe))||((Ie=document)===null||Ie===void 0||(Ye=Ie.getSelection)===null||Ye===void 0?void 0:Ye.call(Ie)),xn=n.current;if(ln.anchorNode===xn&&N(""),s&&ln&&ln.anchorNode===ln.focusNode&&ln.anchorOffset===ln.focusOffset)for(var Fn="",dn=null,Un=null,gn=0;gn<xn.childNodes.length;gn+=1){var zn=xn.childNodes[gn];if(zn.nodeType===Sd.TextNode){var kn=zn===ln.anchorNode?(zn==null?void 0:zn.textContent.slice(0,ln.anchorOffset))||"":(zn==null?void 0:zn.textContent)||"";if(Fn.length>0)Fn+=kn;else{for(var Mn=kn.lastIndexOf(kd),j=Mn-1;j>-1&&kn[j]===kd;j-=1)Mn=j;Mn>-1&&(Fn=kn,dn=gn,Un=Mn)}}else Fn="",dn=null,Un=null;if(zn===ln.anchorNode){var M=Fn?Fn.slice(Un):"";ze({targetString:M,startNodeIndex:dn,startOffsetIndex:Un,endNodeIndex:gn,endOffsetIndex:ln.anchorOffset}),N(M);return}}},[s]),ke=function(){var Me=n.current;if(!r&&Me!==null&&Me!==void 0&&Me.innerText){var Ie="",Ye="";Me.childNodes.forEach(function(xn){if(xn.nodeType===Sd.ElementNode&&xn.nodeName===Cm.Span){var Fn=xn.innerText,dn=xn.dataset,Un=dn===void 0?{}:dn,gn=Un.userid,zn=gn===void 0?"":gn;Ie+=Fn,Ye+="".concat(kd,"{").concat(zn,"}")}else if(xn.nodeType===Sd.ElementNode&&xn.nodeName===Cm.Br)Ie+=`
`,Ye+=`
`;else{var kn=xn.textContent,Mn=kn===void 0?"":kn;Ie+=Mn,Ye+=Mn}});var ln={message:Ie,mentionTemplate:Ye};y(ln),document.getElementById(Qp).innerHTML="",Ue(!1),Ze()}},en=function(){var Me=n.current,Ie=d==null?void 0:d.messageId;if(r&&Ie){var Ye="",ln="";Me.childNodes.forEach(function(Fn){if(Fn.nodeType===Sd.ElementNode&&Fn.nodeName===Cm.Span){var dn=Fn.innerText,Un=Fn.dataset,gn=Un===void 0?{}:Un,zn=gn.userid,kn=zn===void 0?"":zn;Ye+=dn,ln+="".concat(kd,"{").concat(kn,"}")}else if(Fn.nodeType===Sd.ElementNode&&Fn.nodeName===Cm.Span)Ye+=`
`,ln+=`
`;else{var Mn=Fn.textContent,j=Mn===void 0?"":Mn;Ye+=j,ln+=j}});var xn={messageId:Ie,message:Ye,mentionTemplate:ln};E(xn),document.getElementById(Qp).innerHTML=""}};return S.createElement("form",{className:Sw([t,r?"sendbird-message-input__edit":"",u?"sendbird-message-input-form__disabled":""])},S.createElement("div",{className:Sw(["sendbird-message-input",u?"sendbird-message-input__disabled":""])},S.createElement("div",{id:"".concat(Qp).concat(r?d==null?void 0:d.messageId:""),className:"sendbird-message-input--textarea",contentEditable:!u,role:"textbox","aria-label":"Text Input",disabled:u,ref:n,maxLength:g,onKeyDown:function(Me){var Ie=L(Me);if(Ie)Me.preventDefault();else{var Ye,ln,xn,Fn,dn,Un,gn,zn;!Me.shiftKey&&Me.key===$5.Enter&&(Me==null||(Ye=Me.nativeEvent)===null||Ye===void 0?void 0:Ye.isComposing)!==!0&&(Me.preventDefault(),ke()),Me.key===$5.Backspace&&(n==null||(ln=n.current)===null||ln===void 0||(xn=ln.childNodes)===null||xn===void 0?void 0:xn.length)===2&&!(n!=null&&(Fn=n.current)!==null&&Fn!==void 0&&(dn=Fn.childNodes)!==null&&dn!==void 0&&(Un=dn[0])!==null&&Un!==void 0&&Un.textContent)&&((gn=n.current.childNodes)===null||gn===void 0||(zn=gn[1])===null||zn===void 0?void 0:zn.nodeType)===Sd.ElementNode&&n.current.removeChild(n.current.childNodes[1])}},onKeyUp:function(Me){var Ie=U(Me);Ie?Me.preventDefault():ne()},onClick:function(){ne()},onInput:function(){var Me,Ie,Ye,ln;Ze(),k(),Ue(((Me=document)===null||Me===void 0||(Ie=Me.getElementById)===null||Ie===void 0||(Ye=Ie.call(Me,Qp))===null||Ye===void 0||(ln=Ye.innerText)===null||ln===void 0?void 0:ln.length)>0),oe()},onPaste:function(Me){Me.preventDefault(),document.execCommand("insertHTML",!1,Me==null?void 0:Me.clipboardData.getData("text"))}}),!ve&&S.createElement(Qn,{className:"sendbird-message-input--placeholder",type:Kn.BODY_1,color:jn.ONBACKGROUND_3},p||V.MESSAGE_INPUT__PLACE_HOLDER),!r&&ve&&S.createElement(Jl,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:function(){return ke()}},S.createElement(ot,{type:tt.SEND,fillColor:bt.PRIMARY,width:"20px",height:"20px"})),!r&&!ve&&S.createElement(Jl,{className:"sendbird-message-input--attach",height:"32px",width:"32px",onClick:function(){J.current.click()}},S.createElement(ot,{type:tt.ATTACH,fillColor:bt.CONTENT_INVERSE,width:"20px",height:"20px"}),S.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:J,onChange:rpe(_)}))),r&&S.createElement("div",{className:"sendbird-message-input--edit-action"},S.createElement(Zf,{className:"sendbird-message-input--edit-action__cancel",type:ch.SECONDARY,size:P5.SMALL,onClick:x},V.BUTTON__CANCEL),S.createElement(Zf,{className:"sendbird-message-input--edit-action__save",type:ch.PRIMARY,size:P5.SMALL,onClick:function(){return en()}},V.BUTTON__SAVE)))});E_.propTypes={className:_e.exports.oneOfType([_e.exports.string,_e.exports.arrayOf(_e.exports.string)]),placeholder:_e.exports.oneOfType([_e.exports.string,_e.exports.bool]),isEdit:_e.exports.bool,isMentionEnabled:_e.exports.bool,message:_e.exports.shape({messageId:_e.exports.oneOfType([_e.exports.string,_e.exports.number]),message:_e.exports.string,mentionedMessageTemplate:_e.exports.string,mentionedUsers:_e.exports.arrayOf(_e.exports.shape({}))}),disabled:_e.exports.bool,maxLength:_e.exports.number,onFileUpload:_e.exports.func,onSendMessage:_e.exports.func,onUpdateMessage:_e.exports.func,onStartTyping:_e.exports.func,onCancelEdit:_e.exports.func,channelUrl:_e.exports.string,mentionSelectedUser:_e.exports.shape({userId:_e.exports.string,nickname:_e.exports.string}),onUserMentioned:_e.exports.func,onMentionStringChange:_e.exports.func,onMentionedUserIdsUpdated:_e.exports.func,onKeyUp:_e.exports.func,onKeyDown:_e.exports.func};E_.defaultProps={className:"",channelUrl:"",onSendMessage:js,onUpdateMessage:js,message:null,isEdit:!1,isMentionEnabled:!1,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:js,onCancelEdit:js,onStartTyping:js,mentionSelectedUser:null,onUserMentioned:js,onMentionStringChange:js,onMentionedUserIdsUpdated:js,onKeyUp:js,onKeyDown:js};var ipe=/https?:\/\//;function Bv(e){var n=e.className,t=e.src,r=e.type,s=e.color,u=e.children,d=ipe.test(t)?t:"http://".concat(t);return S.createElement("a",{className:[].concat(oc(Array.isArray(n)?n:[n]),["sendbird-link-label",s?VL(s):""]).join(" "),href:d,target:"_blank",rel:"noopener noreferrer"},S.createElement(Qn,{className:"sendbird-link-label__label",type:r,color:s},u))}Bv.propTypes={className:_e.exports.oneOfType([_e.exports.string,_e.exports.arrayOf(_e.exports.string)]),src:_e.exports.string.isRequired,type:_e.exports.oneOf(Object.keys(Kn)).isRequired,color:_e.exports.oneOf(Object.keys(jn)).isRequired,children:_e.exports.oneOfType([_e.exports.string,_e.exports.element,_e.exports.arrayOf(_e.exports.string),_e.exports.arrayOf(_e.exports.element)]).isRequired};Bv.defaultProps={className:""};var A8=S.createContext({opened:"",setOpened:Km});A8.Consumer;A8.Provider;var fR;(function(e){e.SCORE="score",e.TIMESTAMP="ts"})(fR||(fR={}));_e.exports.string.isRequired,_e.exports.string.isRequired,_e.exports.string,_e.exports.string,_e.exports.string,_e.exports.string,_e.exports.func,_e.exports.string,_e.exports.string,_e.exports.bool,_e.exports.bool,_e.exports.func,_e.exports.func,_e.exports.shape({}),_e.exports.shape({logLevel:_e.exports.oneOfType([_e.exports.string,_e.exports.arrayOf(_e.exports.string)]),isREMUnitEnabled:_e.exports.bool}),_e.exports.bool,_e.exports.oneOf(["NONE","QUOTE_REPLY","THREAD"]),_e.exports.bool,_e.exports.bool,_e.exports.objectOf(_e.exports.string),_e.exports.objectOf(_e.exports.string),_e.exports.shape({compressionRate:_e.exports.number,resizingWidth:_e.exports.oneOfType([_e.exports.number,_e.exports.string]),resizingHeight:_e.exports.oneOfType([_e.exports.number,_e.exports.string])}),_e.exports.bool,_e.exports.bool,_e.exports.bool,_e.exports.bool;var gR=function(n){return wh(n.createdAt,"p")},ape=function(n,t){return typeof t!="number"||typeof t=="number"&&t>n},Sc=function e(n){n===void 0&&(n=0);var t=10,r=n;if(!(r>t))try{var s=document.querySelector(".sendbird-openchannel-conversation-scroll__container__item-container");s.scrollTop=s.scrollHeight}catch{setTimeout(function(){e(r+1)},500*r)}},mR=function(n,t){var r,s,u,d;if(!(n&&t&&(n==null?void 0:n.messageType)&&n.messageType!=="admin"&&(t==null?void 0:t.messageType)&&t.messageType!=="admin"&&(n==null?void 0:n.sender)&&(t==null?void 0:t.sender)&&(n==null?void 0:n.createdAt)&&(t==null?void 0:t.createdAt)&&((r=n==null?void 0:n.sender)===null||r===void 0?void 0:r.userId)&&((s=t==null?void 0:t.sender)===null||s===void 0?void 0:s.userId)))return!1;var p=n,g=t;return(p==null?void 0:p.sendingStatus)===(g==null?void 0:g.sendingStatus)&&((u=p==null?void 0:p.sender)===null||u===void 0?void 0:u.userId)===((d=g==null?void 0:g.sender)===null||d===void 0?void 0:d.userId)&&gR(n)===gR(t)},spe=function(n,t,r){return[mR(n,t),mR(t,r)]},ope=function(n){return Math.abs(n)>999999?"".concat((Math.abs(n)/1e6).toFixed(1),"M"):Math.abs(n)>999?"".concat((Math.abs(n)/1e3).toFixed(1),"K"):"".concat(n)},lpe=function(n,t){var r=n==null?void 0:n.operators;return!(r.map(function(s){return s.userId}).indexOf(t)<0)},upe=function(n,t){var r=n==null?void 0:n.isFrozen;return r&&!lpe(n,t)},cpe=function(n,t){return n.indexOf(t)>-1},u2=function(n,t,r){var s=function u(d){var p=d.hasNext;p?d.next().then(function(g){r(g),u(d)}).catch(function(g){t.warning("OpenChannel | FetchUserList failed",g)}):t.info("OpenChannel | FetchUserList finished")};t.info("OpenChannel | FetchUserList start",n),s(n)},Im=function(n){if(typeof n=="number")return n;if(typeof n=="string"){var t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null},R8="SET_CURRENT_CHANNEL",Bx="SET_CHANNEL_INVALID",M8="RESET_MESSAGES",D8="EXIT_CURRENT_CHANNEL",U8="GET_PREV_MESSAGES_START",Qk="GET_PREV_MESSAGES_SUCESS",jv="GET_PREV_MESSAGES_FAIL",hh="SENDING_MESSAGE_FAILED",ru="SENDING_MESSAGE_SUCCEEDED",e0="SENDING_MESSAGE_START",L8="RESENDING_MESSAGE_START",P8="FETCH_PARTICIPANT_LIST",F8="FETCH_BANNED_USER_LIST",jx="FETCH_MUTED_USER_LIST",H8="TRIM_MESSAGE_LIST",z8="ON_MESSAGE_RECEIVED",w_="ON_MESSAGE_UPDATED",x_="ON_MESSAGE_DELETED",q8="ON_MESSAGE_DELETED_BY_REQ_ID",B8="ON_OPERATOR_UPDATED",j8="ON_USER_ENTERED",G8="ON_USER_EXITED",Yk="ON_USER_MUTED",$8="ON_USER_UNMUTED",V8="ON_USER_BANNED",W8="ON_USER_UNBANNED",K8="ON_CHANNEL_FROZEN",Q8="ON_CHANNEL_UNFROZEN",Y8="ON_CHANNEL_CHANGED",X8="ON_CHANNEL_DELETED",Z8="ON_META_DATA_CREATED",J8="ON_META_DATA_UPDATED",eP="ON_META_DATA_DELETED",nP="ON_META_COUNTERS_CREATED",tP="ON_META_COUNTERS_UPDATED",rP="ON_META_COUNTERS_DELETED",iP="ON_MENTION_RECEIVED";function dpe(e,n){var t,r,s;switch(n.type){case M8:return hn(hn({},e),{allMessages:[]});case D8:return((t=n.payload)===null||t===void 0?void 0:t.url)===((r=e.currentOpenChannel)===null||r===void 0?void 0:r.url)?hn(hn({},e),{currentOpenChannel:null}):e;case R8:{var u=n.payload,d=u.operators;return!e.isInvalid&&e.currentOpenChannel&&e.currentOpenChannel.url&&e.currentOpenChannel.url===u.url?e:hn(hn({},e),{currentOpenChannel:u,isInvalid:!1,operators:d,participants:d,bannedParticipantIds:[],mutedParticipantIds:[]})}case Bx:return hn(hn({},e),{isInvalid:!0});case U8:return hn(hn({},e),{loading:!0});case Qk:case jv:{var p=n.type===jv,g=n.payload,_=g.currentOpenChannel,y=_===void 0?{}:_,E=g.messages,x=E===void 0?[]:E,k=g.hasMore,T=g.lastMessageTimestamp,I=y.url,P=p?[]:x,N=p?!1:k,O=p?0:T,U=e.currentOpenChannel,L=U.url;if(I!==L)return e;var ee=e.allMessages.filter(function(kn){return!P.find(function(Mn){var j=Mn.messageId;return Co(j,kn.messageId)})});return hn(hn({},e),{loading:!1,initialized:!0,hasMore:N,lastMessageTimestamp:O,allMessages:Bn(Bn([],P,!0),ee,!0)})}case e0:{var V=n.payload,J=V.message,Y=V.channel;return(Y==null?void 0:Y.url)!==e.currentOpenChannel.url||e.allMessages.some(function(kn){return kn.reqId===J.reqId})?e:hn(hn({},e),{allMessages:Bn(Bn([],e.allMessages,!0),[J],!1)})}case ru:{var ye=n.payload,ve=e.allMessages.map(function(kn){return Co(kn.reqId,ye.reqId)?ye:kn});return hn(hn({},e),{allMessages:ve})}case hh:{var Ue=n.payload;return Ue.sendingStatus="failed",e.allMessages.some(function(kn){return(kn==null?void 0:kn.reqId)===(Ue==null?void 0:Ue.reqId)})?hn(hn({},e),{allMessages:e.allMessages.map(function(kn){return Co(kn.reqId,Ue.reqId)?Ue:kn})}):hn(hn({},e),{allMessages:Bn(Bn([],e.allMessages.filter(function(kn){return!Co(kn.reqId,Ue)}),!0),[Ue],!1)})}case H8:{var Ne=e.allMessages,ce=(s=n.payload)===null||s===void 0?void 0:s.messageLimit;if(ce&&ce>0&&(Ne==null?void 0:Ne.length)>ce){var Ee=Ne.length-ce;return hn(hn({},e),{allMessages:Ne.slice(Ee)})}return e}case L8:{var ge=n.payload.channel,je=n.payload.message;return ge.url!==e.currentOpenChannel.url?e:hn(hn({},e),{allMessages:e.allMessages.map(function(kn){return Co(kn.reqId,je.reqId)?je:kn})})}case P8:{var ge=n.payload.channel,Xe=n.payload.users;return ge.url!==e.currentOpenChannel.url?e:hn(hn({},e),{participants:Bn(Bn([],e.participants,!0),Xe,!0)})}case F8:{var ge=n.payload.channel,Te=n.payload.users;return ge.url!==e.currentOpenChannel.url||!Te.every(function(Mn){return typeof Mn.userId=="string"})?e:hn(hn({},e),{bannedParticipantIds:Bn(Bn([],e.bannedParticipantIds,!0),Te.map(function(Mn){return Mn.userId}),!0)})}case jx:{var ge=n.payload.channel,ze=n.payload.users;return ge.url!==e.currentOpenChannel.url||!ze.every(function(Mn){return typeof Mn.userId=="string"})?e:hn(hn({},e),{mutedParticipantIds:Bn(Bn([],e.mutedParticipantIds,!0),ze.map(function(Mn){return Mn.userId}),!0)})}case z8:{var ge=n.payload.channel,Ze=n.payload.message,y=e.currentOpenChannel;return!Co(ge.url,y.url)||!(e.allMessages.map(function(j){return j.messageId}).indexOf(Ze.messageId)<0)?e:hn(hn({},e),{allMessages:Bn(Bn([],e.allMessages,!0),[Ze],!1)})}case w_:{var ge=n.payload.channel,oe=n.payload.message,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==ge.url?e:hn(hn({},e),{allMessages:e.allMessages.map(function(Mn){return Mn.isIdentical(oe)?oe:Mn})})}case x_:{var ge=n.payload.channel,ke=n.payload.messageId,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==ge.url?e:hn(hn({},e),{allMessages:e.allMessages.filter(function(j){return!Co(j.messageId,ke)})})}case q8:return hn(hn({},e),{allMessages:e.allMessages.filter(function(kn){return!Co(kn.reqId,n.payload)})});case B8:{var ge=n.payload.channel,en=n.payload.operators,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==ge.url?e:hn(hn({},e),{currentOpenChannel:ge,operators:en})}case j8:{var ge=n.payload.channel,Fe=n.payload.user,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==ge.url?e:hn(hn({},e),{participants:Bn(Bn([],e.participants,!0),[Fe],!1)})}case G8:{var ge=n.payload.channel,Me=n.payload.user,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==ge.url?e:hn(hn({},e),{participants:e.participants.filter(function(j){return!Co(j.userId,Me.userId)})})}case Yk:{var ge=n.payload.channel,Ie=n.payload.user,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==ge.url||e.mutedParticipantIds.indexOf(Ie.userId)>=0?e:hn(hn({},e),{mutedParticipantIds:Bn(Bn([],e.mutedParticipantIds,!0),[Ie.userId],!1)})}case $8:{var ge=n.payload.channel,Ye=n.payload.user,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==ge.url||e.mutedParticipantIds.indexOf(Ye.userId)<0?e:hn(hn({},e),{mutedParticipantIds:e.mutedParticipantIds.filter(function(j){return j!==Ye.userId})})}case V8:{var ge=n.payload.channel,ln=n.payload.user,xn=n.payload.currentUser,ne=e.currentOpenChannel;return(ne==null?void 0:ne.url)===(ge==null?void 0:ge.url)&&(ln==null?void 0:ln.userId)===(xn==null?void 0:xn.userId)?hn(hn({},e),{currentOpenChannel:null}):(ne==null?void 0:ne.url)===(ge==null?void 0:ge.url)?hn(hn({},e),{bannedParticipantIds:Bn(Bn([],e.bannedParticipantIds,!0),[ln.userId],!1)}):e}case W8:{var ge=n.payload.channel,Fn=n.payload.user,ne=e.currentOpenChannel;return(ne==null?void 0:ne.url)===(ge==null?void 0:ge.url)?hn(hn({},e),{bannedParticipantIds:e.bannedParticipantIds.filter(function(j){return j!==Fn.userId})}):e}case K8:{var dn=n.payload,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==dn.url?e:hn(hn({},e),{frozen:!0})}case Q8:{var Un=n.payload,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==Un.url?e:hn(hn({},e),{frozen:!1})}case Y8:{var gn=n.payload,ne=e.currentOpenChannel;return!ne||ne.url&&ne.url!==gn.url?e:hn(hn({},e),{currentOpenChannel:gn})}case X8:{var zn=n.payload,ne=e==null?void 0:e.currentOpenChannel;return(ne==null?void 0:ne.url)===zn?hn(hn({},e),{currentOpenChannel:null}):e}case Z8:return e;case J8:return e;case eP:return e;case nP:return e;case tP:return e;case rP:return e;case iP:return e;default:return e}}var hpe={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function ppe(e,n){var t=e.channelUrl,r=e.sdkInit,s=e.fetchingParticipants,u=e.userId,d=e.currentOpenChannel,p=n.sdk,g=n.logger,_=n.messagesDispatcher;de.exports.useEffect(function(){var y;t&&r&&(p==null?void 0:p.openChannel)&&(d&&(d==null?void 0:d.exit)&&((y=d.exit)===null||y===void 0||y.call(d).then(function(){g.info("OpenChannel | useSetChannel: Exit from the previous open channel",d==null?void 0:d.url),_({type:D8,payload:d})})),g.info("OpenChannel | useSetChannel: Fetching channel",t),p.openChannel.getChannel(t).then(function(E){g.info("OpenChannel | useSetChannel: Succeeded to fetch channel",E),_({type:R8,payload:E}),E.enter().then(function(){if(E.isOperator(u)){var x=E.createBannedUserListQuery(),k=E.createMutedUserListQuery();u2(x,g,function(I){_({type:F8,payload:{channel:E,users:I}})}),u2(k,g,function(I){_({type:jx,payload:{channel:E,users:I}})})}else E.getMyMutedInfo().then(function(I){I!=null&&I.isMuted&&_({type:jx,payload:{channel:E,users:[p==null?void 0:p.currentUser]}})});if(s){var T=E.createParticipantListQuery({limit:E.participantCount});u2(T,g,function(I){_({type:P8,payload:{channel:E,users:I}})})}}).catch(function(x){g.warning("OpenChannel | useSetChannel: Failed to enter channel",{channelUrl:t,error:x}),_({type:Bx,payload:null})})}).catch(function(E){g.warning("OpenChannel | useSetChannel: Failed to fetch channel",{channelUrl:t,error:E}),_({type:Bx,payload:null})}))},[t,r,s])}function fpe(e,n){var t=e.currentOpenChannel,r=e.checkScrollBottom,s=n.sdk,u=n.logger,d=n.messagesDispatcher;de.exports.useEffect(function(){var p,g,_=vc();if(t&&t.url&&((p=s==null?void 0:s.openChannel)===null||p===void 0?void 0:p.addOpenChannelHandler)){u.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",_);var y={onMessageReceived:function(k,T){var I=r(),P=k==null?void 0:k.url;if(u.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:P,message:T}),d({type:z8,payload:{channel:k,message:T}}),I)try{setTimeout(function(){Sc()})}catch{u.warning("OpenChannel | onMessageReceived | scroll to end failed")}},onMessageUpdated:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:I,message:T}),d({type:w_,payload:{channel:k,message:T}})},onMessageDeleted:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:I,messageId:T}),d({type:x_,payload:{channel:k,messageId:T}})},onOperatorUpdated:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:I,operators:T}),d({type:B8,payload:{channel:k,operators:T}})},onUserEntered:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:I,user:T}),d({type:j8,payload:{channel:k,user:T}})},onUserExited:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:I,user:T}),d({type:G8,payload:{channel:k,user:T}})},onUserMuted:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:I,user:T}),d({type:Yk,payload:{channel:k,user:T}})},onUserUnmuted:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:I,user:T}),d({type:$8,payload:{channel:k,user:T}})},onUserBanned:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:I,user:T}),d({type:V8,payload:{channel:k,user:T,currentUser:s==null?void 0:s.currentUser}})},onUserUnbanned:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:I,user:T}),d({type:W8,payload:{channel:k,user:T}})},onChannelFrozen:function(k){u.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",k),d({type:K8,payload:k})},onChannelUnfrozen:function(k){u.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",k),d({type:Q8,payload:k})},onChannelChanged:function(k){u.info("OpenChannel | useHandleChannelEvents: onChannelChanged",k),d({type:Y8,payload:k})},onMetaDataCreated:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:I,metaData:T}),d({type:Z8,payload:{channel:k,metaData:T}})},onMetaDataUpdated:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:I,metaData:T}),d({type:J8,payload:{channel:k,metaData:T}})},onMetaDataDeleted:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:I,metaDataKeys:T}),d({type:eP,payload:{channel:k,metaDataKeys:T}})},onMetaCounterCreated:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:I,metaCounter:T}),d({type:nP,payload:{channel:k,metaCounter:T}})},onMetaCounterUpdated:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:I,metaCounter:T}),d({type:tP,payload:{channel:k,metaCounter:T}})},onMetaCounterDeleted:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:I,metaCounterKeys:T}),d({type:rP,payload:{channel:k,metaCounterKeys:T}})},onMentionReceived:function(k,T){var I=k==null?void 0:k.url;u.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:I,message:T}),d({type:iP,payload:{channel:k,message:T}})},onChannelDeleted:function(k,T){T===ft.OPEN&&(t==null?void 0:t.url)===k&&d({type:X8,payload:k})}},E=new ise(y);(g=s==null?void 0:s.openChannel)===null||g===void 0||g.addOpenChannelHandler(_,E)}return function(){var x;!((x=s==null?void 0:s.openChannel)===null||x===void 0)&&x.removeOpenChannelHandler&&(u.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",_),s.openChannel.removeOpenChannelHandler(_))}},[t])}function gpe(e,n){var t=e.currentOpenChannel,r=e.userFilledMessageListParams,s=n.logger,u=n.messagesDispatcher;de.exports.useEffect(function(){if(s.info("OpenChannel | useInitialMessagesFetch: Setup started",t),u({type:M8,payload:null}),t&&t.getMessagesByTimestamp){var d={nextResultSize:0,prevResultSize:30,isInclusive:!0,includeReactions:!1};r&&(Object.keys(r).forEach(function(p){d[p]=r[p]}),s.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),s.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:t,messageListParams:d}),u({type:U8,payload:null}),t.getMessagesByTimestamp(new Date().getTime(),d).then(function(p){s.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",p);var g=p&&p.length>0,_=g?p[0].createdAt:null;u({type:Qk,payload:{currentOpenChannel:t,messages:p,hasMore:g,lastMessageTimestamp:_}}),setTimeout(function(){Sc()})}).catch(function(p){s.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",p),u({type:jv,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r])}function mpe(e,n){var t=e.currentOpenChannel,r=e.lastMessageTimestamp,s=e.fetchMore,u=n.sdk,d=n.logger,p=n.messagesDispatcher,g=n.hasMore,_=n.userFilledMessageListParams;return de.exports.useCallback(function(y){if(s&&g){d.info("OpenChannel | useScrollCallback: start");var E={prevResultSize:30,includeReactions:!1,nextResultSize:0};_&&(Object.keys(_).forEach(function(x){E[x]=_[x]}),d.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",_)),d.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:t,messageListParams:E}),t.getMessagesByTimestamp(r||new Date().getTime(),E).then(function(x){d.info("OpenChannel | useScrollCallback: Fetching messages succeeded",x);var k=x&&x.length>0,T=k?x[0].createdAt:null;p({type:Qk,payload:{currentOpenChannel:t,messages:x,hasMore:k,lastMessageTimestamp:T}}),setTimeout(function(){y()})}).catch(function(x){d.error("OpenChannel | useScrollCallback: Fetching messages failed",x),p({type:jv,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[t,r,s,u])}function vpe(e,n){var t=e.conversationScrollRef,r=n.logger;return de.exports.useCallback(function(){var s=!0;if(t&&(t==null?void 0:t.current))try{var u=t.current;s=u.scrollHeight<=u.scrollTop+u.clientHeight}catch(d){r.error("OpenChannel | useCheckScrollBottom",d)}return s},[t])}function _pe(e,n){var t=e.currentOpenChannel,r=e.onBeforeSendUserMessage,s=e.checkScrollBottom,u=e.messageInputRef,d=n.sdk,p=n.logger,g=n.messagesDispatcher;return de.exports.useCallback(function(){if(d){var _=u.current.innerText,y=function(P){var N=typeof P=="string"?P.trim():P.toString(10).trim(),O={message:N};return O},E=r&&typeof r=="function";E&&p.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",r);var x=r?r(_):y(_);p.info("OpenChannel | useSendMessageCallback: Sending message has started",x);var k=s(),T=null;t.sendUserMessage(x).onPending(function(I){g({type:e0,payload:{message:I,channel:t}}),T=I}).onSucceeded(function(I){p.info("OpenChannel | useSendMessageCallback: Sending message succeeded",I),g({type:ru,payload:I}),k&&setTimeout(function(){Sc()})}).onFailed(function(I){p.warning("OpenChannel | useSendMessageCallback: Sending message failed",I),g({type:hh,payload:T}),(I==null?void 0:I.code)===900041&&g({type:Yk,payload:{channel:t,user:d.currentUser}})})}},[t,r,s,u])}function bpe(e,n){var t=e.currentOpenChannel,r=e.checkScrollBottom,s=e.imageCompression,u=s===void 0?{}:s,d=e.onBeforeSendFileMessage,p=n.sdk,g=n.logger,_=n.messagesDispatcher;return de.exports.useCallback(function(y){if(p){var E=u.compressionRate,x=u.resizingWidth,k=u.resizingHeight,T=d&&typeof d=="function",I=y.type==="image/jpg"||y.type==="image/png"||y.type==="image/jpeg",P=E>0&&E<1,N=Im(x)||Im(k),O=I&&(P||N),U=function(Y){var ye={};return ye.file=Y,ye};if(O)try{var L=document.createElement("img");L.src=URL.createObjectURL(y),L.onload=function(){URL.revokeObjectURL(L.src);var J=document.createElement("canvas"),Y=L.naturalWidth||L.width,ye=L.naturalHeight||L.height,ve=Im(x)||Y,Ue=Im(k)||ye;y.type==="image/png"&&!N&&(ve*=E,Ue*=E),J.width=ve,J.height=Ue;var Ne=J.getContext("2d");Ne.drawImage(L,0,0,ve,Ue),Ne.canvas.toBlob(function(ce){var Ee=new File([ce],y.name,{type:y.type});T&&g.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",d);var ge=d?d(Ee):U(Ee);g.info("OpenChannel | useFileUploadCallback: Uploading file message start",ge);var je=r();t.sendFileMessage(ge).onPending(function(Xe){_({type:e0,payload:{message:hn(hn({},Xe),{url:URL.createObjectURL(y),requestState:"pending"}),channel:t}})}).onSucceeded(function(Xe){g.info("OpenChannel | useFileUploadCallback: Sending message succeeded",Xe),_({type:ru,payload:Xe}),je&&setTimeout(function(){Sc()})}).onFailed(function(Xe,Te){g.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:Te,error:Xe}),Te.localUrl=URL.createObjectURL(y),Te.file=y,_({type:hh,payload:Te})})},y.type,E)}}catch(J){g.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",J)}else{T&&g.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",d);var ee=d?d(y):U(y);g.info("OpenChannel | useFileUploadCallback: Uploading file message start",ee);var V=r();t.sendFileMessage(ee).onPending(function(J){_({type:e0,payload:{message:hn(hn({},J),{url:URL.createObjectURL(y),requestState:"pending"}),channel:t}})}).onSucceeded(function(J){g.info("OpenChannel | useFileUploadCallback: Sending message succeeded",J),_({type:ru,payload:J}),V&&setTimeout(function(){Sc()})}).onFailed(function(J,Y){g.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:Y,error:J}),Y.localUrl=URL.createObjectURL(y),Y.file=y,_({type:hh,payload:Y})})}}},[t,d,r,u])}function ype(e,n){var t=e.currentOpenChannel,r=e.onBeforeSendUserMessage,s=n.logger,u=n.messagesDispatcher;return de.exports.useCallback(function(d,p,g){var _=function(x){var k={message:x};return k};r&&typeof r=="function"&&s.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");var y=r?r(p):_(p);t.updateUserMessage(d,y).then(function(E){g&&g(),s.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:E,params:y}),u({type:w_,payload:{channel:t,message:E}})})},[t,r])}function Epe(e,n){var t=e.currentOpenChannel,r=n.logger,s=n.messagesDispatcher;return de.exports.useCallback(function(u,d){r.info("OpenChannel | useDeleteMessageCallback: Deleting message",u);var p=u.sendingStatus;if(r.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",p),p==="failed"||p==="pending")r.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",u),s({type:q8,payload:u.reqId}),d&&d();else{if(!(u.messageType==="file"||u.messageType==="user"))return;var g=u;t.deleteMessage(g).then(function(){r.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",p),d&&d(),r.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",u),s({type:x_,payload:{channel:t,messageId:u.messageId}})}).catch(function(_){r.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",_)})}},[t])}function wpe(e,n){var t=e.currentOpenChannel,r=n.logger,s=n.messagesDispatcher;return de.exports.useCallback(function(u){r.info("OpenChannel | useResendMessageCallback: Resending message has started",u);var d=u,p=d.messageType,g=d.file;u&&typeof u.isResendable=="function"&&u.isResendable?(u.requestState="pending",s({type:L8,payload:{channel:t,message:u}}),p==="user"&&u.messageType==="user"&&t.resendUserMessage(u).then(function(_){r.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",_),s({type:ru,payload:_})}).catch(function(_){r.warning("OpenChannel | useResendMessageCallback: Resending message failed",_),u.requestState="failed",s({type:hh,payload:u})}),p==="file"&&u.messageType==="file"&&t.resendFileMessage(u,g).then(function(_){r.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",_),s({type:ru,payload:_})}).catch(function(_){r.warning("OpenChannel | useResendMessageCallback: Resending file message failed",_),u.requestState="failed",s({type:hh,payload:u})})):(console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),r.warning("OpenChannel | useResendMessageCallback: Message is not resendable",u))},[t])}var xpe=5e3;function kpe(e,n){var t=e.messagesLength,r=e.messageLimit,s=n.messagesDispatcher,u=n.logger,d=de.exports.useState(!1),p=d[0],g=d[1];de.exports.useEffect(function(){p||(typeof t=="number"&&t>r&&(u.info("Trimming MessageList"),s({type:H8,payload:{messageLimit:r}})),g(!0),setTimeout(function(){g(!1)},xpe))},[t,r])}var aP=S.createContext(void 0),Spe=function(n){var t,r,s,u,d,p,g=n.channelUrl,_=n.children,y=n.isMessageGroupingEnabled,E=y===void 0?!0:y,x=n.queries,k=n.onBeforeSendUserMessage,T=n.messageLimit,I=n.onBeforeSendFileMessage,P=n.onChatHeaderActionClick,N=!1,O=Eh(),U=(r=(t=O==null?void 0:O.stores)===null||t===void 0?void 0:t.sdkStore)===null||r===void 0?void 0:r.sdk,L=(u=(s=O==null?void 0:O.stores)===null||s===void 0?void 0:s.sdkStore)===null||u===void 0?void 0:u.initialized,ee=(p=(d=O==null?void 0:O.stores)===null||d===void 0?void 0:d.userStore)===null||p===void 0?void 0:p.user,V=O==null?void 0:O.config,J=V.userId,Y=V.isOnline,ye=V.logger,ve=V.pubSub,Ue=V.imageCompression,Ne=de.exports.useReducer(dpe,hpe),ce=Ne[0],Ee=Ne[1],ge=ce.allMessages,je=ce.loading,Xe=ce.initialized,Te=ce.currentOpenChannel,ze=ce.isInvalid,Ze=ce.hasMore,oe=ce.lastMessageTimestamp,ne=ce.operators,ke=ce.bannedParticipantIds,en=ce.mutedParticipantIds,Fe=de.exports.useRef(null),Me=de.exports.useRef(null),Ie=x==null?void 0:x.messageListParams,Ye=!Xe||!Y||upe(Te,J)||cpe(en,J),ln=de.exports.useMemo(function(){return ke.indexOf(ee.userId)>=0},[g,ke,ee]),xn=de.exports.useMemo(function(){return en.indexOf(ee.userId)>=0},[g,en,ee]),Fn=de.exports.useMemo(function(){return ne.map(function(D){return D.userId}).indexOf(ee.userId)>=0},[g,ne,ee]);ppe({channelUrl:g,sdkInit:L,fetchingParticipants:N,userId:J,currentOpenChannel:Te},{sdk:U,logger:ye,messagesDispatcher:Ee});var dn=vpe({conversationScrollRef:Me},{logger:ye});fpe({currentOpenChannel:Te,checkScrollBottom:dn},{sdk:U,logger:ye,messagesDispatcher:Ee}),gpe({currentOpenChannel:Te,userFilledMessageListParams:Ie},{logger:ye,messagesDispatcher:Ee});var Un=ape(ge==null?void 0:ge.length,T),gn=mpe({currentOpenChannel:Te,lastMessageTimestamp:oe,fetchMore:Un},{sdk:U,logger:ye,messagesDispatcher:Ee,hasMore:Ze,userFilledMessageListParams:Ie}),zn=_pe({currentOpenChannel:Te,onBeforeSendUserMessage:k,checkScrollBottom:dn,messageInputRef:Fe},{sdk:U,logger:ye,messagesDispatcher:Ee}),kn=bpe({currentOpenChannel:Te,onBeforeSendFileMessage:I,checkScrollBottom:dn,imageCompression:Ue},{sdk:U,logger:ye,messagesDispatcher:Ee}),Mn=ype({currentOpenChannel:Te,onBeforeSendUserMessage:k},{logger:ye,messagesDispatcher:Ee}),j=Epe({currentOpenChannel:Te},{logger:ye,messagesDispatcher:Ee}),M=wpe({currentOpenChannel:Te},{logger:ye,messagesDispatcher:Ee});return kpe({messagesLength:ge==null?void 0:ge.length,messageLimit:T},{messagesDispatcher:Ee,logger:ye}),de.exports.useEffect(function(){var D=new Map;if(!(!ve||!ve.subscribe))return D.set(Dv,ve.subscribe(Dv,function(Q){var le=Q.channel,Ae=Q.message;Sc(),le&&g===(le==null?void 0:le.url)&&Ee({type:ru,payload:Ae})})),D.set(Mv,ve.subscribe(Mv,function(Q){var le=Q.channel,Ae=Q.message;le&&g===(le==null?void 0:le.url)&&Ee({type:e0,payload:{message:Ae,channel:le}})})),D.set(Uv,ve.subscribe(Uv,function(Q){var le=Q.channel,Ae=Q.message;Sc(),le&&g===(le==null?void 0:le.url)&&Ee({type:ru,payload:{message:Ae,channel:le}})})),D.set(Mw,ve.subscribe(Mw,function(Q){var le=Q.channel,Ae=Q.message,Le=Q.fromSelector;Le&&le&&g===(le==null?void 0:le.url)&&Ee({type:w_,payload:{channel:le,message:Ae}})})),D.set(Dw,ve.subscribe(Dw,function(Q){var le=Q.channel,Ae=Q.messageId;le&&g===(le==null?void 0:le.url)&&Ee({type:x_,payload:Ae})})),function(){D&&D.forEach(function(Q){try{Q.remove()}catch{}})}},[g,L]),S.createElement(aP.Provider,{value:{channelUrl:g,children:_,isMessageGroupingEnabled:E,queries:x,onBeforeSendUserMessage:k,messageLimit:T,onBeforeSendFileMessage:I,onChatHeaderActionClick:P,allMessages:ge,loading:je,initialized:Xe,currentOpenChannel:Te,isInvalid:ze,hasMore:Ze,lastMessageTimestamp:oe,operators:ne,bannedParticipantIds:ke,mutedParticipantIds:en,messageInputRef:Fe,conversationScrollRef:Me,disabled:Ye,amIBanned:ln,amIMuted:xn,amIOperator:Fn,checkScrollBottom:dn,fetchMore:Un,onScroll:gn,handleSendMessage:zn,handleFileUpload:kn,updateMessage:Mn,deleteMessage:j,resendMessage:M}},S.createElement(Ik,{isOpenChannel:!0,renderUserProfile:n==null?void 0:n.renderUserProfile,disableUserProfile:n==null?void 0:n.disableUserProfile},_))},p0=function(){return S.useContext(aP)},Cpe=function(n,t){var r=p0(),s=r.currentOpenChannel,u=r.disabled,d=r.handleSendMessage,p=r.handleFileUpload,g=s;if(!!g){var _=de.exports.useContext(Is).stringSet;return S.createElement("div",{className:"sendbird-openchannel-footer"},S.createElement(E_,{ref:t,disabled:u,onSendMessage:d,onFileUpload:p,placeholder:u&&_.MESSAGE_INPUT__PLACE_HOLDER__DISABLED}))}},Tpe=S.forwardRef(Cpe),Ipe=function(){var n=de.exports.useContext(Is).stringSet;return S.createElement("div",{className:"sendbird-frozen-channel-notification"},S.createElement(Qn,{className:"sendbird-frozen-channel-notification__text",type:Kn.CAPTION_2},n.CHANNEL_FROZEN))};function Npe(){var e=de.exports.useContext(Is).stringSet,n=p0(),t=n.currentOpenChannel,r=n.onChatHeaderActionClick,s=n.amIOperator,u=t==null?void 0:t.name,d="".concat(ope(t==null?void 0:t.participantCount)," ").concat(e.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS),p=t==null?void 0:t.coverUrl;return S.createElement("div",{className:"sendbird-openchannel-conversation-header"},S.createElement("div",{className:"sendbird-openchannel-conversation-header__left"},p?S.createElement(Rc,{className:"sendbird-openchannel-conversation-header__left__cover-image",src:p,alt:"channel cover image",width:"32px",height:"32px"}):S.createElement("div",{className:"sendbird-openchannel-conversation-header__left__cover-image--icon",style:{width:32,height:32}},S.createElement(ot,{type:tt.CHANNELS,fillColor:bt.CONTENT,width:"18px",height:"18px"})),S.createElement(Qn,{className:"sendbird-openchannel-conversation-header__left__title",type:Kn.H_2,color:jn.ONBACKGROUND_1},u||e.NO_TITLE),S.createElement(Qn,{className:"sendbird-openchannel-conversation-header__left__sub-title",type:Kn.BODY_2,color:jn.ONBACKGROUND_2},d||e.NO_TITLE)),S.createElement("div",{className:"sendbird-openchannel-conversation-header__right"},S.createElement(Jl,{className:"sendbird-openchannel-conversation-header__right__trigger",width:"32px",height:"32px",onClick:r},S.createElement(ot,{type:s?tt.INFO:tt.MEMBERS,fillColor:bt.PRIMARY,width:"24px",height:"24px"}))))}var sP=function(n){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",n);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=n,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1},Xk={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},f0=function(n){return n.sender||n._sender},oP=function(n){return n===Xk.SUCCEEDED},k_=function(n){return n===Xk.PENDING},g0=function(n){return n===Xk.FAILED},Zk=function(n,t){return f0(n).userId===t},Jk=function(n){var t,r=n.message;return(r==null?void 0:r.messageType)==="user"&&((t=r==null?void 0:r.message)===null||t===void 0?void 0:t.length)>0},ph=function(n){var t=n.message,r=n.status,s=n.userId;return Zk(t,s)&&g0(r)&&(t==null?void 0:t.isResendable())},eS=function(n){var t=n.message,r=n.status,s=n.userId;return Zk(t,s)&&oP(r)},fh=function(n){var t=n.message,r=n.userId;return Zk(t,r)},S_=function(n){var t=n.message,r=n.status,s=n.userId;return t.messageType==="user"?fh({message:t,status:r,userId:s})||eS({message:t,status:r,userId:s})||Jk({message:t,status:r,userId:s})||ph({message:t,status:r,userId:s}):fh({message:t,status:r,userId:s})||ph({message:t,status:r,userId:s})};function Ope(e){var n=e.className,t=e.message,r=e.isOperator,s=e.userId,u=e.resendMessage,d=e.disabled,p=e.showEdit,g=e.showRemove,_=e.chainTop;if(!t||t.messageType!=="user")return null;var y=l0(),E=y.stringSet,x=y.dateLocale,k=de.exports.useContext(u0),T=k.disableUserProfile,I=k.renderUserProfile,P=de.exports.useRef(null),N=de.exports.useRef(null),O=de.exports.useRef(null),U=de.exports.useState({}),L=U[0],ee=U[1],V=t==null?void 0:t.sendingStatus,J=k_(V),Y=g0(V),ye=f0(t),ve=de.exports.useMemo(function(){return function(){var Ue=t.message.split(/\r/),Ne=Ue.map(function(ce){return ce!==""?ce:S.createElement("br",null)});return t.updatedAt>0&&Ne.push(S.createElement(Qn,{key:vc(),type:Kn.BODY_1,color:jn.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"}," ".concat(E.MESSAGE_EDITED," "))),Ne}},[t,t.updatedAt]);return de.exports.useEffect(function(){var Ue;((Ue=P==null?void 0:P.current)===null||Ue===void 0?void 0:Ue.clientHeight)>36?ee({top:"8px "}):ee({top:"2px"})},[window.innerWidth]),S.createElement("div",{className:Bn(Bn([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-user-message"],!1).join(" "),ref:P},S.createElement("div",{className:"sendbird-openchannel-user-message__left"},!_&&S.createElement(nu,{menuTrigger:function(Ne){return S.createElement(Rc,{className:"sendbird-openchannel-user-message__left__avatar",src:ye.profileUrl||"",ref:N,width:"28px",height:"28px",onClick:function(){T||Ne()}})},menuItems:function(Ne){return S.createElement(eu,{parentRef:N,parentContainRef:N,closeDropdown:Ne,style:{paddingTop:0,paddingBottom:0}},I?I({user:ye,close:Ne}):S.createElement(m_,{user:ye,onSuccess:Ne,disableMessaging:!0}))}})),S.createElement("div",{className:"sendbird-openchannel-user-message__right"},!_&&S.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},S.createElement(Qn,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:Kn.CAPTION_2,color:r?jn.SECONDARY_3:jn.ONBACKGROUND_2},ye&&(ye.friendName||ye.nickname||ye.userId)),S.createElement(Qn,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:Kn.CAPTION_3,color:jn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&wh(t==null?void 0:t.createdAt,"p",{locale:x}))),S.createElement("div",{className:"sendbird-openchannel-user-message__right__bottom"},S.createElement(Qn,{className:"sendbird-openchannel-user-message__right__bottom__message",type:Kn.BODY_1,color:jn.ONBACKGROUND_1},ve())),(J||Y)&&S.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},J&&S.createElement(c0,{width:"16px",height:"16px"},S.createElement(ot,{className:"sendbird-openchannel-user-message__right__tail__pending",type:tt.SPINNER,fillColor:bt.PRIMARY,width:"16px",height:"16px"})),Y&&S.createElement(ot,{className:"sendbird-openchannel-user-message__right__tail__failed",type:tt.ERROR,fillColor:bt.ERROR,width:"16px",height:"16px"}))),S.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:O,style:L},S.createElement(nu,{menuTrigger:function(Ne){return S_({message:t,userId:s,status:V})&&S.createElement(Jl,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:function(){Ne()}},S.createElement(ot,{type:tt.MORE,fillColor:bt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(Ne){return S.createElement(eu,{parentRef:O,parentContainRef:O,closeDropdown:Ne,openLeft:!0},Jk({message:t,userId:s,status:V})&&S.createElement(Za,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:function(){sP(t.message),Ne()}},E.CONTEXT_MENU_DROPDOWN__COPY),eS({message:t,userId:s,status:V})&&S.createElement(Za,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:function(){d||(p(!0),Ne())}},E.CONTEXT_MENU_DROPDOWN__EDIT),ph({message:t,userId:s,status:V})&&S.createElement(Za,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:function(){u(t),Ne()}},E.CONTEXT_MENU_DROPDOWN__RESEND),fh({message:t,userId:s,status:V})&&S.createElement(Za,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:function(){d||(g(!0),Ne())}},E.CONTEXT_MENU_DROPDOWN__DELETE))}})))}function Ape(e){var n=e.className,t=e.message;return S.createElement("div",{className:Bn(Bn([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-admin-message"],!1).join(" ")},S.createElement(Qn,{className:"sendbird-openchannel-admin-message__text",type:Kn.CAPTION_2,color:jn.ONBACKGROUND_2},t.message||""))}var Rpe=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Mpe=function(n){return function(t){return n.test(t)}},Dpe=function(n){var t=n.ogMetaData;if(!t)return!1;var r=t.url;return!!r};function Upe(e){var n=e.message,t=e.isOperator,r=e.className,s=e.disabled,u=e.showEdit,d=e.showRemove,p=e.resendMessage,g=e.chainTop,_=e.userId;if(!n||n.messageType!=="user")return null;var y=n==null?void 0:n.sendingStatus,E=n.ogMetaData,x=E.defaultImage,k=l0(),T=k.stringSet,I=k.dateLocale,P=de.exports.useContext(u0),N=P.disableUserProfile,O=P.renderUserProfile,U=de.exports.useState({}),L=U[0],ee=U[1],V=de.exports.useRef(null),J=de.exports.useRef(null),Y=de.exports.useRef(null),ye=Mpe(Rpe),ve=k_(y),Ue=g0(y),Ne=f0(n),ce=de.exports.useMemo(function(){return function(){var ge="sendbird-openchannel-og-message--word",je=n.message.split(" "),Xe=je.map(function(Te){return ye(Te)?S.createElement(Bv,{key:vc(),className:[ge,"sendbird-openchannel-og-message--word--link"],src:Te,type:Kn.BODY_1,color:jn.PRIMARY},Te):S.createElement(Qn,{key:vc(),className:ge,type:Kn.BODY_1,color:jn.ONBACKGROUND_1},Te)});return n.updatedAt>0&&Xe.push(S.createElement(Qn,{key:vc(),className:ge,type:Kn.BODY_1,color:jn.ONBACKGROUND_2},T.MESSAGE_EDITED)),Xe}},[n,n.updatedAt]),Ee=function(){if(Dpe(n)){var je=E.url;window.open(je)}};return de.exports.useEffect(function(){var ge;((ge=V==null?void 0:V.current)===null||ge===void 0?void 0:ge.clientHeight)>36?ee({top:"8px "}):ee({top:"2px"})},[window.innerWidth]),S.createElement("div",{className:Bn(Bn([],Array.isArray(r)?r:[r],!0),["sendbird-openchannel-og-message"],!1).join(" "),ref:V},S.createElement("div",{className:"sendbird-openchannel-og-message__top"},S.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!g&&S.createElement(nu,{menuTrigger:function(je){return S.createElement(Rc,{className:"sendbird-openchannel-og-message__top__left__avatar",src:Ne.profileUrl||"",ref:Y,width:"28px",height:"28px",onClick:function(){N||je()}})},menuItems:function(je){return S.createElement(eu,{parentRef:Y,parentContainRef:Y,closeDropdown:je,style:{paddingTop:0,paddingBottom:0}},O?O({user:Ne,close:je}):S.createElement(m_,{user:Ne,onSuccess:je,disableMessaging:!0}))}})),S.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!g&&S.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},S.createElement(Qn,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:Kn.CAPTION_2,color:t?jn.SECONDARY_3:jn.ONBACKGROUND_2},Ne&&(Ne.friendName||Ne.nickname||Ne.userId)),S.createElement(Qn,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:Kn.CAPTION_3,color:jn.ONBACKGROUND_3},(n==null?void 0:n.createdAt)&&wh(n==null?void 0:n.createdAt,"p",{locale:I}))),S.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},S.createElement(Qn,{className:"sendbird-openchannel-og-message__top__right__description__message",type:Kn.BODY_1,color:jn.ONBACKGROUND_1},ce()))),S.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:J,style:L},S.createElement(nu,{menuTrigger:function(je){return S_({message:n,userId:_,status:y})&&S.createElement(Jl,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:function(){je()}},S.createElement(ot,{type:tt.MORE,fillColor:bt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(je){return S.createElement(eu,{parentRef:J,parentContainRef:J,closeDropdown:je,openLeft:!0},Jk({message:n,userId:_,status:y})&&S.createElement(Za,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:function(){sP(n.message),je()}},T.CONTEXT_MENU_DROPDOWN__COPY),eS({message:n,userId:_,status:y})&&S.createElement(Za,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:function(){s||(u(!0),je())}},T.CONTEXT_MENU_DROPDOWN__EDIT),ph({message:n,userId:_,status:y})&&S.createElement(Za,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:function(){p(n),je()}},T.CONTEXT_MENU_DROPDOWN__RESEND),fh({message:n,userId:_,status:y})&&S.createElement(Za,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:function(){s||(d(!0),je())}},T.CONTEXT_MENU_DROPDOWN__DELETE))}}))),S.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},S.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag"},E.url&&S.createElement(Qn,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:Kn.CAPTION_3,color:jn.ONBACKGROUND_2},E.url),E.title&&S.createElement(Bv,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:E.url,type:Kn.SUBTITLE_2,color:jn.PRIMARY},E.title),E.description&&S.createElement(Qn,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:Kn.BODY_2,color:jn.ONBACKGROUND_1},E.description),E.url&&S.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:Ee,onKeyDown:Ee,tabIndex:0},x&&S.createElement(qa,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:x.url||"",alt:x.alt||"",height:"189px",defaultComponent:S.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},S.createElement(ot,{type:tt.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(ve||Ue)&&S.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},ve&&S.createElement(c0,{width:"16px",height:"16px"},S.createElement(ot,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:tt.SPINNER,fillColor:bt.PRIMARY,width:"16px",height:"16px"})),Ue&&S.createElement(ot,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:tt.ERROR,fillColor:bt.ERROR,width:"16px",height:"16px"}))))}var Yd={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},vR={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Lpe=function(n){return vR.IMAGE.indexOf(n)>=0?Yd.IMAGE:vR.VIDEO.indexOf(n)>=0?Yd.VIDEO:Yd.UNSUPPORTED};function Ppe(e){var n,t=e.className,r=e.message,s=e.isOperator,u=e.disabled,d=e.userId,p=e.chainTop,g=e.onClick,_=e.showRemove,y=e.resendMessage,E=r.type,x=r.url,k=r.thumbnails,T=r.localUrl,I=r==null?void 0:r.sendingStatus,P=k&&k.length>0&&k[0].url||null,N=l0(),O=N.stringSet,U=N.dateLocale,L=de.exports.useContext(u0),ee=L.disableUserProfile,V=L.renderUserProfile,J=de.exports.useState(360),Y=J[0],ye=J[1],ve=de.exports.useRef(null),Ue=de.exports.useRef(null),Ne=de.exports.useRef(null),ce=de.exports.useMemo(function(){return function(Te){return function(ze){var Ze=ze.style;return S.createElement("div",{style:Ze},S.createElement(ot,{type:Te,fillColor:bt.ON_BACKGROUND_2,width:"56px",height:"56px"}))}}},[]),Ee=oP(I),ge=k_(I),je=g0(I),Xe=f0(r);return de.exports.useEffect(function(){var Te,ze=((Te=ve==null?void 0:ve.current)===null||Te===void 0?void 0:Te.clientWidth)-80;ye(ze>360?360:ze)},[]),S.createElement("div",{className:Bn(Bn([],Array.isArray(t)?t:[t],!0),["sendbird-openchannel-thumbnail-message"],!1).join(" "),ref:ve},S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!p&&S.createElement(nu,{menuTrigger:function(ze){return S.createElement(Rc,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:Xe.profileUrl||"",ref:Ne,width:"28px",height:"28px",onClick:function(){ee||ze()}})},menuItems:function(ze){return S.createElement(eu,{parentRef:Ne,parentContainRef:Ne,closeDropdown:ze,style:{paddingTop:0,paddingBottom:0}},V?V({user:Xe,close:ze}):S.createElement(m_,{user:Xe,onSuccess:ze,disableMessaging:!0}))}})),S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!p&&S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},S.createElement(Qn,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:Kn.CAPTION_2,color:s?jn.SECONDARY_3:jn.ONBACKGROUND_2},Xe&&(Xe.friendName||Xe.nickname||Xe.userId)),S.createElement(Qn,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:Kn.CAPTION_3,color:jn.ONBACKGROUND_3},(r==null?void 0:r.createdAt)&&wh(r.createdAt,"p",{locale:U}))),S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body"},S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:function(){Ee&&g(!0)},onKeyDown:function(){Ee&&g(!0)},tabIndex:0},S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),(n={},n[Yd.VIDEO]=x||T?S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},P?S.createElement(qa,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:P,width:Y,height:"270px",alt:"image",placeHolder:ce(tt.PLAY)}):S.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},S.createElement("source",{src:x||T,type:E})),S.createElement(ot,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:tt.PLAY,fillColor:bt.ON_BACKGROUND_2,width:"56px",height:"56px"})):S.createElement(ot,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:tt.PHOTO,fillColor:bt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[Yd.IMAGE]=x||T?S.createElement(qa,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:P||x||T,alt:"image",width:Y,height:"270px",placeHolder:ce(tt.PHOTO)}):S.createElement(ot,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:tt.PHOTO,fillColor:bt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n[Yd.UNSUPPORTED]=S.createElement(ot,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:tt.PHOTO,fillColor:bt.ON_BACKGROUND_2,width:"56px",height:"56px"}),n)[Lpe(E)])),(ge||je)&&S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},ge&&S.createElement(c0,{width:"16px",height:"16px"},S.createElement(ot,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:tt.SPINNER,fillColor:bt.PRIMARY,width:"16px",height:"16px"})),je&&S.createElement(ot,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:tt.ERROR,fillColor:bt.ERROR,width:"16px",height:"16px"}))),S.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:Ue},S.createElement(nu,{menuTrigger:function(ze){return S_({message:r,userId:d,status:I})&&S.createElement(Jl,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:ze},S.createElement(ot,{type:tt.MORE,fillColor:bt.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(ze){return S.createElement(eu,{parentRef:Ue,parentContainRef:Ue,closeDropdown:ze,openLeft:!0},ph({message:r,userId:d,status:I})&&S.createElement(Za,{onClick:function(){y(r),ze()}},O.CONTEXT_MENU_DROPDOWN__RESEND),fh({message:r,userId:d,status:I})&&S.createElement(Za,{onClick:function(){u||(_(!0),ze())}},O.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var _R=function(n){var t=/(\.mp3)$/i,r=/(\.gif)$/i;return t.test(n)?tt.FILE_AUDIO:r.test(n)?tt.GIF:tt.FILE_DOCUMENT},Fpe=function(n,t){if(n==null)return"";if(n.length<=t)return n;var r="...",s=r.length,u=t-s,d=Math.ceil(u/2),p=Math.floor(u/2);return n.substr(0,d)+r+n.substr(n.length-p)};function Hpe(e){var n=e.className,t=e.message,r=e.isOperator,s=e.userId,u=e.disabled,d=e.chainTop,p=e.showRemove,g=e.resendMessage,_=t==null?void 0:t.sendingStatus,y=l0(),E=y.dateLocale,x=y.stringSet,k=de.exports.useRef(null),T=de.exports.useRef(null),I=de.exports.useContext(u0),P=I.disableUserProfile,N=I.renderUserProfile,O=function(){window.open(t.url)},U=k_(_),L=g0(_),ee=f0(t);return S.createElement("div",{className:Bn(Bn([],Array.isArray(n)?n:[n],!0),["sendbird-openchannel-file-message"],!1).join(" ")},S.createElement("div",{className:"sendbird-openchannel-file-message__left"},!d&&S.createElement(nu,{menuTrigger:function(J){return S.createElement(Rc,{className:"sendbird-openchannel-file-message__left__avatar",src:ee.profileUrl||"",ref:T,width:"28px",height:"28px",onClick:function(){P||J()}})},menuItems:function(J){return S.createElement(eu,{parentRef:T,parentContainRef:T,closeDropdown:J,style:{paddingTop:0,paddingBottom:0}},N?N({user:ee,close:J}):S.createElement(m_,{user:ee,onSuccess:J,disableMessaging:!0}))}})),S.createElement("div",{className:"sendbird-openchannel-file-message__right"},!d&&S.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},S.createElement(Qn,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:Kn.CAPTION_2,color:r?jn.SECONDARY_3:jn.ONBACKGROUND_2},ee&&(ee.friendName||ee.nickname||ee.userId)),S.createElement(Qn,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:Kn.CAPTION_3,color:jn.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&wh(t.createdAt,"p",{locale:E}))),S.createElement("div",{className:"sendbird-openchannel-file-message__right__body"},_R(t.url)&&S.createElement(ot,{className:"sendbird-openchannel-file-message__right__body__icon",type:_R(t.url),fillColor:bt.PRIMARY,width:"48px",height:"48px"}),S.createElement(dde,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:O},S.createElement(Qn,{type:Kn.BODY_1,color:jn.ONBACKGROUND_1},Fpe(t.name||t.url,40)))),(U||L)&&S.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},U&&S.createElement(c0,{width:"16px",height:"16px"},S.createElement(ot,{className:"sendbird-openchannel-file-message__right__tail__pending",type:tt.SPINNER,fillColor:bt.PRIMARY,width:"16px",height:"16px"})),L&&S.createElement(ot,{className:"sendbird-openchannel-file-message__right__tail__failed",type:tt.ERROR,fillColor:bt.ERROR,width:"16px",height:"16px"}))),S.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:k},S.createElement(nu,{menuTrigger:function(J){return S_({message:t,userId:s,status:_})&&S.createElement(Jl,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:J},S.createElement(ot,{type:tt.MORE,width:"24px",height:"24px"}))},menuItems:function(J){return S.createElement(eu,{parentRef:k,parentContainRef:k,closeDropdown:J,openLeft:!0},ph({message:t,userId:s,status:_})&&S.createElement(Za,{onClick:function(){u||(g(t),J())}},x.CONTEXT_MENU_DROPDOWN__RESEND),fh({message:t,userId:s,status:_})&&S.createElement(Za,{onClick:function(){u||(p(!0),J())}},x.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var zpe=function(n){var t=n.profileUrl,r=n.nickname,s=n.name,u=n.type,d=n.url,p=n.isByMe,g=p===void 0?!0:p,_=n.disableDelete,y=_===void 0?!1:_,E=n.onClose,x=n.onDelete,k=de.exports.useContext(Is).stringSet;return S.createElement("div",{className:"sendbird-fileviewer"},S.createElement("div",{className:"sendbird-fileviewer__header"},S.createElement("div",{className:"sendbird-fileviewer__header__left"},S.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},S.createElement(Rc,{height:"32px",width:"32px",src:t})),S.createElement(Qn,{className:"sendbird-fileviewer__header__left__filename",type:Kn.H_2,color:jn.ONBACKGROUND_1},s),S.createElement(Qn,{className:"sendbird-fileviewer__header__left__sender-name",type:Kn.BODY_1,color:jn.ONBACKGROUND_2},r)),S.createElement("div",{className:"sendbird-fileviewer__header__right"},yA(u)&&S.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},S.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:d,target:"_blank"},S.createElement(ot,{type:tt.DOWNLOAD,fillColor:bt.ON_BACKGROUND_1,height:"24px",width:"24px"})),x&&g&&S.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete"},S.createElement(ot,{className:y?"disabled":"",type:tt.DELETE,fillColor:y?bt.GRAY:bt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(I){y||x==null||x(I)}}))),S.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},S.createElement(ot,{type:tt.CLOSE,fillColor:bt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:function(I){return E==null?void 0:E(I)}})))),S.createElement("div",{className:"sendbird-fileviewer__content"},ML(u)&&S.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},S.createElement("source",{src:d,type:u})),RL(u)&&S.createElement("img",{src:d,alt:s,className:"sendbird-fileviewer__content__img"}),!yA(u)&&S.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},S.createElement(Qn,{type:Kn.H_1,color:jn.ONBACKGROUND_1},(k==null?void 0:k.UI__FILE_VIEWER__UNSUPPORT)||"Unsupported message"))))};function qpe(e){var n,t,r,s=e.message,u=e.isByMe,d=u===void 0?!1:u,p=e.onClose,g=e.onDelete;return mh.exports.createPortal(S.createElement(zpe,{profileUrl:(n=s==null?void 0:s.sender)===null||n===void 0?void 0:n.profileUrl,nickname:(t=s==null?void 0:s.sender)===null||t===void 0?void 0:t.nickname,name:s==null?void 0:s.name,type:s==null?void 0:s.type,url:s==null?void 0:s.url,isByMe:d,disableDelete:((r=s==null?void 0:s.threadInfo)===null||r===void 0?void 0:r.replyCount)>0,onClose:p,onDelete:g}),document.getElementById(YL))}function Bpe(e){var n=e.onCloseModal,t=e.onDeleteMessage,r=de.exports.useContext(Is).stringSet;return S.createElement(Rce,{onCancel:n,onSubmit:t,submitText:r.MESSAGE_MENU__DELETE,titleText:r.MODAL__DELETE_MESSAGE__TITLE})}var nS={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},jpe=function(n){return nS.IMAGE.indexOf(n)>=0},Gpe=function(n){return nS.VIDEO.indexOf(n)>=0};hn({},nS);var Va={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},bR={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},$pe=function(n){var t,r;return((t=n==null?void 0:n.isUserMessage)===null||t===void 0?void 0:t.call(n))||(n==null?void 0:n.messageType)==="user"?n!=null&&n.ogMetaData?Va.OG:Va.USER:!((r=n==null?void 0:n.isAdminMessage)===null||r===void 0)&&r.call(n)?Va.ADMIN:(n==null?void 0:n.messageType)==="file"?jpe(n.type)||Gpe(n.type)?Va.THUMBNAIL:Va.FILE:Va.UNKNOWN};function Vpe(e){var n,t,r=e.message,s=e.chainTop,u=e.chainBottom,d=e.hasSeparator,p=e.renderMessage,g=p0(),_=g.currentOpenChannel,y=g.deleteMessage,E=g.updateMessage,x=g.resendMessage,k=l0().dateLocale,T=_==null?void 0:_.isFrozen,I=Eh(),P=(t=I==null?void 0:I.config)===null||t===void 0?void 0:t.userId,N=null;(r==null?void 0:r.messageType)!=="admin"&&(N=r==null?void 0:r.sender);var O=de.exports.useMemo(function(){return function(Ee){return S.createElement(S.Fragment,null,p?p(Ee):null)}},[r,p]),U=de.exports.useState(!1),L=U[0],ee=U[1],V=de.exports.useState(!1),J=V[0],Y=V[1],ye=de.exports.useState(!1),ve=ye[0],Ue=ye[1],Ne=de.exports.useRef(null),ce=!1;return N&&(r==null?void 0:r.messageType)!=="admin"&&(ce=P===N.userId||(r==null?void 0:r.sendingStatus)===bR.PENDING||(r==null?void 0:r.sendingStatus)===bR.FAILED),p&&O?S.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},S.createElement(O,{message:r,chainTop:s,chainBottom:u})):(r==null?void 0:r.messageType)==="user"&&L?S.createElement(E_,{isEdit:!0,disabled:T,ref:Ne,message:r,name:r==null?void 0:r.messageId,onUpdateMessage:function(ge){var je=ge.messageId,Xe=ge.message;E(je,Xe),ee(!1)},onCancelEdit:function(){ee(!1)}}):S.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},d&&(r==null?void 0:r.createdAt)&&S.createElement(fde,null,S.createElement(Qn,{type:Kn.CAPTION_2,color:jn.ONBACKGROUND_2},wh(r==null?void 0:r.createdAt,"MMMM dd, yyyy",{locale:k}))),(n={},n[Va.ADMIN]=function(){if((r==null?void 0:r.messageType)==="admin")return S.createElement(Ape,{message:r})}(),n[Va.FILE]=function(){var Ee;if((r==null?void 0:r.messageType)==="file")return S.createElement(Hpe,{message:r,isOperator:_==null?void 0:_.isOperator((Ee=r==null?void 0:r.sender)===null||Ee===void 0?void 0:Ee.userId),disabled:T,userId:P,showRemove:Y,resendMessage:x,chainTop:s,chainBottom:u})}(),n[Va.OG]=function(){var Ee;if((r==null?void 0:r.messageType)==="user")return S.createElement(Upe,{message:r,isOperator:_==null?void 0:_.isOperator((Ee=r==null?void 0:r.sender)===null||Ee===void 0?void 0:Ee.userId),userId:P,showEdit:ee,disabled:T,showRemove:Y,resendMessage:x,chainTop:s,chainBottom:u})}(),n[Va.THUMBNAIL]=function(){var Ee;if((r==null?void 0:r.messageType)==="file")return S.createElement(Ppe,{message:r,isOperator:_==null?void 0:_.isOperator((Ee=r==null?void 0:r.sender)===null||Ee===void 0?void 0:Ee.userId),disabled:T,userId:P,showRemove:Y,resendMessage:x,onClick:Ue,chainTop:s,chainBottom:u})}(),n[Va.USER]=function(){var Ee;if((r==null?void 0:r.messageType)==="user")return S.createElement(Ope,{message:r,isOperator:_==null?void 0:_.isOperator((Ee=r==null?void 0:r.sender)===null||Ee===void 0?void 0:Ee.userId),userId:P,disabled:T,showEdit:ee,showRemove:Y,resendMessage:x,chainTop:s,chainBottom:u})}(),n[Va.UNKNOWN]=function(){}(),n)[$pe(r)],J&&S.createElement(Bpe,{onCloseModal:function(){return Y(!1)},onDeleteMessage:function(){(r==null?void 0:r.messageType)!=="admin"&&y(r)}}),ve&&(r==null?void 0:r.messageType)==="file"&&S.createElement(qpe,{onClose:function(){return Ue(!1)},message:r,onDelete:function(){return y(r)},isByMe:ce}))}function Wpe(e,n){var t,r=p0(),s=r.isMessageGroupingEnabled,u=s===void 0?!0:s,d=r.allMessages,p=r.hasMore,g=r.onScroll,_=n||de.exports.useRef(null),y=de.exports.useState(!1),E=y[0],x=y[1],k=function(N){var O=N.target,U=O.scrollTop,L=O.scrollHeight,ee=O.clientHeight;if(L>U+ee+1?x(!0):x(!1),!!p&&U===0){var V=_.current.querySelectorAll(".sendbird-msg--scroll-ref"),J=V&&V[0];g(function(){try{J.scrollIntoView()}catch{}})}},T=function(){_&&_.current&&(_.current.scrollTo(0,_.current.scrollHeight),x(!1))},I=de.exports.useMemo(function(){return d.length>0},[d.length]);return S.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},S.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},S.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),S.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",I?"":"no-messages"].join(" "),onScroll:k,ref:_},I?d.map(function(P,N){var O=d[N-1],U=d[N-1],L=O&&O.createdAt,ee=P==null?void 0:P.createdAt,V=!(L&&cde(ee,L)),J=u?spe(O,P,U):[!1,!1],Y=J[0],ye=J[1];return S.createElement(Vpe,{key:(P==null?void 0:P.messageId)||(P==null?void 0:P.reqId),message:P,chainTop:Y,chainBottom:ye,hasSeparator:V,renderMessage:e==null?void 0:e.renderMessage})}):((t=e==null?void 0:e.renderPlaceHolderEmptyList)===null||t===void 0?void 0:t.call(e))||S.createElement(Qm,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:Cr.NO_MESSAGES}))),E&&S.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:T,onKeyDown:T,tabIndex:0,role:"button"},S.createElement(ot,{width:"24px",height:"24px",type:tt.CHEVRON_DOWN,fillColor:bt.CONTENT})))}var Kpe=S.forwardRef(Wpe),Nm="sendbird-openchannel-conversation",Qpe=function(n){var t=n.renderMessage,r=n.renderHeader,s=n.renderInput,u=n.renderPlaceHolderEmptyList,d=n.renderPlaceHolderError,p=n.renderPlaceHolderLoading,g=p0(),_=g.currentOpenChannel,y=g.amIBanned,E=g.loading,x=g.isInvalid,k=g.messageInputRef;return!_||!(_!=null&&_.url)||y?(d==null?void 0:d())||S.createElement("div",{className:Nm},S.createElement(Qm,{type:Cr.NO_CHANNELS})):E?(p==null?void 0:p())||S.createElement("div",{className:Nm},S.createElement(Qm,{type:Cr.LOADING})):x?(d==null?void 0:d())||S.createElement("div",{className:Nm},S.createElement(Qm,{type:Cr.WRONG})):S.createElement("div",{className:Nm},(r==null?void 0:r())||S.createElement(Npe,null),(_==null?void 0:_.isFrozen)&&S.createElement(Ipe,null),S.createElement(Kpe,{renderMessage:t,renderPlaceHolderEmptyList:u}),(s==null?void 0:s())||S.createElement(Tpe,{ref:k}))},Ype=function(n){return S.createElement(Spe,{channelUrl:n==null?void 0:n.channelUrl,isMessageGroupingEnabled:n==null?void 0:n.isMessageGroupingEnabled,queries:n==null?void 0:n.queries,messageLimit:n==null?void 0:n.messageLimit,onBeforeSendUserMessage:n==null?void 0:n.onBeforeSendUserMessage,onBeforeSendFileMessage:n==null?void 0:n.onBeforeSendFileMessage,onChatHeaderActionClick:n==null?void 0:n.onChatHeaderActionClick,disableUserProfile:n==null?void 0:n.disableUserProfile,renderUserProfile:n==null?void 0:n.renderUserProfile},S.createElement(Qpe,{renderMessage:n==null?void 0:n.renderMessage,renderHeader:n==null?void 0:n.renderHeader,renderInput:n==null?void 0:n.renderInput,renderPlaceHolderEmptyList:n==null?void 0:n.renderPlaceHolderEmptyList,renderPlaceHolderError:n==null?void 0:n.renderPlaceHolderError,renderPlaceHolderLoading:n==null?void 0:n.renderPlaceHolderLoading}))};let Om;const Xpe=new Uint8Array(16);function Zpe(){if(!Om&&(Om=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Om))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Om(Xpe)}var Jpe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function efe(e){return typeof e=="string"&&Jpe.test(e)}const ti=[];for(let e=0;e<256;++e)ti.push((e+256).toString(16).slice(1));function lP(e,n=0){return(ti[e[n+0]]+ti[e[n+1]]+ti[e[n+2]]+ti[e[n+3]]+"-"+ti[e[n+4]]+ti[e[n+5]]+"-"+ti[e[n+6]]+ti[e[n+7]]+"-"+ti[e[n+8]]+ti[e[n+9]]+"-"+ti[e[n+10]]+ti[e[n+11]]+ti[e[n+12]]+ti[e[n+13]]+ti[e[n+14]]+ti[e[n+15]]).toLowerCase()}function nfe(e){if(!efe(e))throw TypeError("Invalid UUID");let n;const t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}function tfe(e){e=unescape(encodeURIComponent(e));const n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}const rfe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ife="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function uP(e,n,t){function r(s,u,d,p){var g;if(typeof s=="string"&&(s=tfe(s)),typeof u=="string"&&(u=nfe(u)),((g=u)===null||g===void 0?void 0:g.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let _=new Uint8Array(16+s.length);if(_.set(u),_.set(s,u.length),_=t(_),_[6]=_[6]&15|n,_[8]=_[8]&63|128,d){p=p||0;for(let y=0;y<16;++y)d[p+y]=_[y];return d}return lP(_)}try{r.name=e}catch{}return r.DNS=rfe,r.URL=ife,r}function afe(e){if(typeof e=="string"){const n=unescape(encodeURIComponent(e));e=new Uint8Array(n.length);for(let t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return sfe(ofe(lfe(e),e.length*8))}function sfe(e){const n=[],t=e.length*32,r="0123456789abcdef";for(let s=0;s<t;s+=8){const u=e[s>>5]>>>s%32&255,d=parseInt(r.charAt(u>>>4&15)+r.charAt(u&15),16);n.push(d)}return n}function cP(e){return(e+64>>>9<<4)+14+1}function ofe(e,n){e[n>>5]|=128<<n%32,e[cP(n)-1]=n;let t=1732584193,r=-271733879,s=-1732584194,u=271733878;for(let d=0;d<e.length;d+=16){const p=t,g=r,_=s,y=u;t=Ci(t,r,s,u,e[d],7,-680876936),u=Ci(u,t,r,s,e[d+1],12,-389564586),s=Ci(s,u,t,r,e[d+2],17,606105819),r=Ci(r,s,u,t,e[d+3],22,-1044525330),t=Ci(t,r,s,u,e[d+4],7,-176418897),u=Ci(u,t,r,s,e[d+5],12,1200080426),s=Ci(s,u,t,r,e[d+6],17,-1473231341),r=Ci(r,s,u,t,e[d+7],22,-45705983),t=Ci(t,r,s,u,e[d+8],7,1770035416),u=Ci(u,t,r,s,e[d+9],12,-1958414417),s=Ci(s,u,t,r,e[d+10],17,-42063),r=Ci(r,s,u,t,e[d+11],22,-1990404162),t=Ci(t,r,s,u,e[d+12],7,1804603682),u=Ci(u,t,r,s,e[d+13],12,-40341101),s=Ci(s,u,t,r,e[d+14],17,-1502002290),r=Ci(r,s,u,t,e[d+15],22,1236535329),t=Ti(t,r,s,u,e[d+1],5,-165796510),u=Ti(u,t,r,s,e[d+6],9,-1069501632),s=Ti(s,u,t,r,e[d+11],14,643717713),r=Ti(r,s,u,t,e[d],20,-373897302),t=Ti(t,r,s,u,e[d+5],5,-701558691),u=Ti(u,t,r,s,e[d+10],9,38016083),s=Ti(s,u,t,r,e[d+15],14,-660478335),r=Ti(r,s,u,t,e[d+4],20,-405537848),t=Ti(t,r,s,u,e[d+9],5,568446438),u=Ti(u,t,r,s,e[d+14],9,-1019803690),s=Ti(s,u,t,r,e[d+3],14,-187363961),r=Ti(r,s,u,t,e[d+8],20,1163531501),t=Ti(t,r,s,u,e[d+13],5,-1444681467),u=Ti(u,t,r,s,e[d+2],9,-51403784),s=Ti(s,u,t,r,e[d+7],14,1735328473),r=Ti(r,s,u,t,e[d+12],20,-1926607734),t=Ii(t,r,s,u,e[d+5],4,-378558),u=Ii(u,t,r,s,e[d+8],11,-2022574463),s=Ii(s,u,t,r,e[d+11],16,1839030562),r=Ii(r,s,u,t,e[d+14],23,-35309556),t=Ii(t,r,s,u,e[d+1],4,-1530992060),u=Ii(u,t,r,s,e[d+4],11,1272893353),s=Ii(s,u,t,r,e[d+7],16,-155497632),r=Ii(r,s,u,t,e[d+10],23,-1094730640),t=Ii(t,r,s,u,e[d+13],4,681279174),u=Ii(u,t,r,s,e[d],11,-358537222),s=Ii(s,u,t,r,e[d+3],16,-722521979),r=Ii(r,s,u,t,e[d+6],23,76029189),t=Ii(t,r,s,u,e[d+9],4,-640364487),u=Ii(u,t,r,s,e[d+12],11,-421815835),s=Ii(s,u,t,r,e[d+15],16,530742520),r=Ii(r,s,u,t,e[d+2],23,-995338651),t=Ni(t,r,s,u,e[d],6,-198630844),u=Ni(u,t,r,s,e[d+7],10,1126891415),s=Ni(s,u,t,r,e[d+14],15,-1416354905),r=Ni(r,s,u,t,e[d+5],21,-57434055),t=Ni(t,r,s,u,e[d+12],6,1700485571),u=Ni(u,t,r,s,e[d+3],10,-1894986606),s=Ni(s,u,t,r,e[d+10],15,-1051523),r=Ni(r,s,u,t,e[d+1],21,-2054922799),t=Ni(t,r,s,u,e[d+8],6,1873313359),u=Ni(u,t,r,s,e[d+15],10,-30611744),s=Ni(s,u,t,r,e[d+6],15,-1560198380),r=Ni(r,s,u,t,e[d+13],21,1309151649),t=Ni(t,r,s,u,e[d+4],6,-145523070),u=Ni(u,t,r,s,e[d+11],10,-1120210379),s=Ni(s,u,t,r,e[d+2],15,718787259),r=Ni(r,s,u,t,e[d+9],21,-343485551),t=Pl(t,p),r=Pl(r,g),s=Pl(s,_),u=Pl(u,y)}return[t,r,s,u]}function lfe(e){if(e.length===0)return[];const n=e.length*8,t=new Uint32Array(cP(n));for(let r=0;r<n;r+=8)t[r>>5]|=(e[r/8]&255)<<r%32;return t}function Pl(e,n){const t=(e&65535)+(n&65535);return(e>>16)+(n>>16)+(t>>16)<<16|t&65535}function ufe(e,n){return e<<n|e>>>32-n}function C_(e,n,t,r,s,u){return Pl(ufe(Pl(Pl(n,e),Pl(r,u)),s),t)}function Ci(e,n,t,r,s,u,d){return C_(n&t|~n&r,e,n,s,u,d)}function Ti(e,n,t,r,s,u,d){return C_(n&r|t&~r,e,n,s,u,d)}function Ii(e,n,t,r,s,u,d){return C_(n^t^r,e,n,s,u,d)}function Ni(e,n,t,r,s,u,d){return C_(t^(n|~r),e,n,s,u,d)}uP("v3",48,afe);const cfe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var yR={randomUUID:cfe};function dfe(e,n,t){if(yR.randomUUID&&!n&&!e)return yR.randomUUID();e=e||{};const r=e.random||(e.rng||Zpe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(let s=0;s<16;++s)n[t+s]=r[s];return n}return lP(r)}function hfe(e,n,t,r){switch(e){case 0:return n&t^~n&r;case 1:return n^t^r;case 2:return n&t^n&r^t&r;case 3:return n^t^r}}function c2(e,n){return e<<n|e>>>32-n}function pfe(e){const n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const d=unescape(encodeURIComponent(e));e=[];for(let p=0;p<d.length;++p)e.push(d.charCodeAt(p))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,s=Math.ceil(r/16),u=new Array(s);for(let d=0;d<s;++d){const p=new Uint32Array(16);for(let g=0;g<16;++g)p[g]=e[d*64+g*4]<<24|e[d*64+g*4+1]<<16|e[d*64+g*4+2]<<8|e[d*64+g*4+3];u[d]=p}u[s-1][14]=(e.length-1)*8/Math.pow(2,32),u[s-1][14]=Math.floor(u[s-1][14]),u[s-1][15]=(e.length-1)*8&4294967295;for(let d=0;d<s;++d){const p=new Uint32Array(80);for(let k=0;k<16;++k)p[k]=u[d][k];for(let k=16;k<80;++k)p[k]=c2(p[k-3]^p[k-8]^p[k-14]^p[k-16],1);let g=t[0],_=t[1],y=t[2],E=t[3],x=t[4];for(let k=0;k<80;++k){const T=Math.floor(k/20),I=c2(g,5)+hfe(T,_,y,E)+x+n[T]+p[k]>>>0;x=E,E=y,y=c2(_,30)>>>0,_=g,g=I}t[0]=t[0]+g>>>0,t[1]=t[1]+_>>>0,t[2]=t[2]+y>>>0,t[3]=t[3]+E>>>0,t[4]=t[4]+x>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}uP("v5",80,pfe);var ffe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.create-event-view {
  position: relative;
  width: 480px;
  padding: 20px;
}
.create-event-view .title {
  font-size: 20px;
  font-weight: 700;
}
.create-event-view .section-title {
  font-size: 12px;
  margin: 20px 0 10px 0;
}
.create-event-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
}
.create-event-view .close:hover {
  cursor: pointer;
}
.create-event-view .title-form {
  width: 100%;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 10px 16px;
  box-sizing: border-box;
}
.create-event-view .cover-image-box {
  display: flex;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image-container {
  display: flex;
  width: 136px;
  height: 80px;
  background: #bbb;
  margin-right: 16px;
  justify-content: center;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image {
  width: 136px;
  height: 80px;
}
.create-event-view .cover-image-box .cover-image-file {
  width: 0;
  height: 0;
}
.create-event-view .cover-image-box .cover-image-upload {
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-dark-primary-300);
}
.create-event-view .cover-image-box .cover-image-upload:hover {
  cursor: pointer;
}
.create-event-view .cover-image-box .cover-image-remove {
  margin-left: 16px;
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-dark-error-300);
}
.create-event-view .cover-image-box .cover-image-remove:hover {
  cursor: pointer;
}
.create-event-view .button-box {
  display: flex;
  justify-content: right;
}
.create-event-view .button-box .minor-button, .create-event-view .button-box .major-button {
  padding: 10px 12px;
  margin: 5px;
  border-radius: 4px;
}
.create-event-view .button-box .minor-button:hover, .create-event-view .button-box .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.create-event-view .button-box .major-button {
  color: #fff;
}
.sendbird-theme--light .create-event-view .button-box .major-button {
  background-color: var(--sendbird-light-primary-400);
  border: 1px var(--sendbird-light-primary-400) solid;
}
.sendbird-theme--dark .create-event-view .button-box .major-button {
  background-color: var(--sendbird-dark-primary-300);
  border: 1px var(--sendbird-dark-primary-300) solid;
}
.create-event-view .button-box .major-button:disabled,
.create-event-view .button-box .major-button[disabled] {
  border: 1px #eee solid;
  background: #eee;
  color: rgba(0, 0, 0, 0.12);
}
.create-event-view .button-box .minor-button {
  color: #333;
  border: 1px #333 solid;
  background-color: #fff;
}

.event-host-form .input {
  display: flex;
  max-height: 154px;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 6px 12px;
  box-sizing: border-box;
  align-content: flex-start;
  overflow-y: auto;
}
.event-host-form .input .search-type-panel .search-type {
  margin: 4px 4px 0 0;
  padding: 4px 6px;
  border: 0;
}
.event-host-form .input .form {
  flex: 1;
}
.event-host-form .input .form .host-form {
  min-width: 240px;
  margin: 4px;
  border: 0;
}
.event-host-form .input .form .host-form:focus {
  outline: none;
}
.event-host-form .search-result {
  position: relative;
  top: -45px;
}
.event-host-form .search-result .users, .event-host-form .search-result .status {
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.event-host-form .search-result .status {
  display: flex;
  position: absolute;
  height: 104px;
  top: 0;
  left: 0;
  right: 0;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
}
.event-host-form .search-result .status .no-result {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.5);
}
.event-host-form .search-result .status .error {
  font-size: 14px;
  color: #de360b;
}
.event-host-form .search-result .users {
  position: absolute;
  max-height: 104px;
  top: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.event-host-status {
  display: flex;
  padding: 6px 4px;
  margin-bottom: 10px;
}
.event-host-status .message {
  flex: 1;
  font-size: 12px;
  color: #666;
}
.event-host-status .error {
  color: #de360b;
}
.event-host-status .count {
  font-size: 12px;
  color: #666;
  margin: 0 0 0 8px;
}

.event-host {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  background: #eee;
  border-radius: 16px;
  overflow: hidden;
  margin: 4px;
  vertical-align: middle;
}
.event-host .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  margin-right: -4px;
  background: #fff;
}
.event-host .nickname {
  font-size: 12px;
  padding: 6px 10px;
}
.event-host .remove-button {
  width: 18px;
  height: 18px;
  border-radius: 12px;
}
.event-host .remove-button:hover {
  cursor: pointer;
}

.searched-user {
  display: flex;
  flex-direction: row;
  background: #fff;
  padding: 8px;
}
.searched-user:hover {
  cursor: pointer;
  background: #eee;
}
.searched-user .profile-image {
  width: 32px;
  height: 32px;
  border-radius: 20px;
  margin-right: 12px;
  background-color: #bdbdbd;
}
.searched-user .info {
  flex: 1;
  align-items: center;
}
.searched-user .info .nickname {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.88);
}
.searched-user .info .user-id {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.5);
}`;gi(ffe);var ER,wR;function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Gx.apply(this,arguments)}var Sh=function(n){return nr("svg",{...Gx({width:24,height:24,viewBox:"-4 -4 20 20",xmlns:"http://www.w3.org/2000/svg"},n),children:[ER||(ER=nr("defs",{children:[se("clipPath",{id:"icons-user_svg__a",children:se("path",{d:"M1368 0v4600H0V0h1368z"})}),se("clipPath",{id:"icons-user_svg__b",children:se("path",{d:"M6.19 5.714c1.28 0 2.325 1.01 2.38 2.278l.001.103v.953a.476.476 0 0 1-.949.055l-.003-.055v-.953a1.43 1.43 0 0 0-1.345-1.426l-.084-.002H2.381c-.76 0-1.383.594-1.426 1.344l-.003.084v.953a.476.476 0 0 1-.949.055L0 9.048v-.953c0-1.28 1.01-2.324 2.278-2.379l.103-.002h3.81zM4.286 0a2.381 2.381 0 1 1 0 4.762 2.381 2.381 0 0 1 0-4.762zm0 .952a1.429 1.429 0 1 0 0 2.858 1.429 1.429 0 0 0 0-2.858z"})})]})),wR||(wR=se("g",{clipPath:"url(#icons-user_svg__a)",transform:"translate(-531 -1699)",children:se("g",{clipPath:"url(#icons-user_svg__b)",transform:"translate(532.714 1700.238)",children:se("path",{fill:"rgba(210, 210, 210, 0.88)",d:"M0 0h8.571v9.524H0V0z"})})}))]})},xR;function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$x.apply(this,arguments)}var io=function(n){return se("svg",{...$x({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:xR||(xR=se("path",{d:"M52.552 11.448a2.667 2.667 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 35.771 15.219 52.552a2.667 2.667 0 0 1-3.993-3.52l.222-.251L28.228 32l-16.78-16.781a2.667 2.667 0 0 1 3.52-3.993l.251.222 16.78 16.78 16.782-16.78a2.667 2.667 0 0 1 3.771 0z",fillRule:"evenodd"}))})};function tS(e){var n=e.key,t=e.userId,r=e.disabled,s=r===void 0?!1:r,u=e.nickname,d=u===void 0?"":u,p=e.profileUrl,g=p===void 0?"":p,_=e.hideProfile,y=_===void 0?!1:_,E=e.onRemove,x=E===void 0?function(){}:E,k=g?S.createElement("img",{src:g,className:"profile-image"}):S.createElement(Sh,{fill:"#ccc",className:"profile-image"});return S.createElement("div",{className:"event-host",key:n},y?null:k,S.createElement("div",{className:"nickname"},d),S.createElement("div",{className:"remove-button",onClick:function(){s||x(t)}},S.createElement(io,{viewBox:"0 -17 100 100",fill:"#888",width:18,height:18})))}var kR;function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vx.apply(this,arguments)}var gfe=function(n){return se("svg",{...Vx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:kR||(kR=se("path",{d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1h3.334zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fillRule:"evenodd"}))})};function dP(e){var n=e.message,t=e.count,r=e.maxLength,s=e.error,u=s===void 0?!1:s;return S.createElement("div",{className:"event-host-status"},S.createElement("div",{className:"message ".concat(u?"error":"")},n),S.createElement("div",{className:"count"},S.createElement("span",{className:"value ".concat(u?"error":"")},t)," / ",r," users"),S.createElement(gfe,{width:24,height:24,viewBox:"-32 0 100 100",fill:"#666"}))}var SR;function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Wx.apply(this,arguments)}var mfe=function(n){return se("svg",{...Wx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:SR||(SR=se("path",{d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.839 2.839 0 1 0 5.677 0C8.344 18.935 18.935 8.344 32 8.344S55.656 18.935 55.656 32 45.065 55.656 32 55.656a2.839 2.839 0 1 0 0 5.677z",fillRule:"evenodd"}))})};function vfe(e){var n=e.userId,t=e.nickname,r=t===void 0?"":t,s=e.profileUrl,u=s===void 0?"":s,d=e.onClick,p=d===void 0?function(){}:d,g=u?S.createElement("img",{src:u,className:"profile-image"}):S.createElement(Sh,{fill:"#fff",className:"profile-image"});return S.createElement("div",{className:"searched-user",onClick:function(){return p()}},g,S.createElement("div",{className:"info"},S.createElement("div",{className:"nickname"},r),S.createElement("div",{className:"user-id"},n)))}function _fe(e){var n=e.initialHostUsers,t=n===void 0?[]:n,r=e.maxHostLength,s=r===void 0?hP:r,u=e.renderCustomEventHostView,d=u===void 0?tS:u,p=e.onUpdateHost,g=p===void 0?function(){}:p,_=de.exports.useState([]),y=_[0],E=_[1],x=de.exports.useState(0),k=x[0],T=x[1],I=de.exports.useState(!1),P=I[0],N=I[1],O=de.exports.useState(!1),U=O[0],L=O[1],ee=de.exports.useState(t),V=ee[0],J=ee[1],Y=de.exports.useState("nickname"),ye=Y[0],ve=Y[1],Ue=de.exports.useState(""),Ne=Ue[0],ce=Ue[1],Ee=de.exports.useState(""),ge=Ee[0],je=Ee[1],Xe=de.exports.useState(!1),Te=Xe[0],ze=Xe[1],Ze=Eh();de.exports.useEffect(function(){J(t)},[t]),de.exports.useEffect(function(){V.length>s?(ze(!0),je("The number of users allowed has exceeded.")):(ze(!1),je(""))},[V]);var oe=function(ne,ke){var en=Ok.getSdk(Ze);if(en&&ke){var Fe=null;switch(ne){case"nickname":{Fe=en.createApplicationUserListQuery({nicknameStartsWithFilter:ke});break}case"user ID":{Fe=en.createApplicationUserListQuery({userIdsFilter:[ke]});break}}if(Fe){var Me=k+1;T(Me),N(!0),L(!1),Fe.next().then(function(Ie){Me>=k&&(E(Ie),N(!1),L(!1),T(Me))}).catch(function(Ie){Me>=k&&(N(!1),L(!0),T(Me))})}}};return S.createElement("div",{className:"event-host-form"},S.createElement("div",{className:"input"},S.createElement("div",{className:"search-type-panel"},S.createElement("select",{className:"search-type",value:ye,onChange:function(ne){var ke=ne.target.value;switch(ve(ke),ke){case"user ID":je("Only an exact match can be found.");break;default:je("")}ze(!1),oe(ke,Ne)}},S.createElement("option",{value:"nickname"},"Nickname"),S.createElement("option",{value:"user ID"},"User ID"))),S.createElement("div",{className:"form"},V.map(function(ne){return d({key:ne.userId,userId:ne.userId,disabled:t.map(function(ke){return ke.userId}).includes(ne.userId),nickname:ne.nickname,profileUrl:ne.profileUrl,onRemove:function(ke){var en=V.filter(function(Fe){return Fe.userId!==ke});J(en),g(en.map(function(Fe){return Fe.userId}))}})}),S.createElement("input",{type:"text",placeholder:"Enter ".concat(ye),className:"host-form",value:Ne,onChange:function(ne){var ke=ne.target.value;ce(ke),oe(ye,ke)}}))),S.createElement(dP,{message:ge,error:Te,count:V.length,maxLength:s}),Ne?S.createElement("div",{className:"search-result"},y.length>0?S.createElement("div",{className:"users"},y.map(function(ne){return S.createElement(vfe,{key:ne.userId,userId:ne.userId,nickname:ne.nickname,profileUrl:ne.profileUrl,onClick:function(){if(!V.map(function(en){return en.userId}).includes(ne.userId)){var ke=la(la([],V,!0),[ne],!1);J(ke),g(ke.map(function(en){return en.userId}))}ce(""),E([]),L(!1),N(!1)}})})):S.createElement("div",{className:"status"},P?S.createElement(mfe,{width:24,height:24,viewBox:"-18 -18 100 100",fill:"#333",className:"spin"}):null,!P&&!U&&y.length===0?S.createElement("div",{className:"no-result"},"No matches found with ",Ne):null,U?S.createElement("div",{className:"error"},"Search request failed."):null)):null)}function bfe(e){var n=e.initialHostUsers,t=n===void 0?[]:n,r=e.maxHostLength,s=r===void 0?hP:r,u=e.renderCustomEventHostView,d=u===void 0?tS:u,p=e.onUpdateHost,g=p===void 0?function(){}:p,_=de.exports.useState([]),y=_[0],E=_[1],x=de.exports.useState(""),k=x[0],T=x[1],I=de.exports.useState(""),P=I[0],N=I[1],O=de.exports.useState(!1),U=O[0],L=O[1];return de.exports.useEffect(function(){E(t.map(function(ee){return ee.userId}))},[t]),de.exports.useEffect(function(){y.length>s?(L(!0),N("The number of users allowed has exceeded.")):(L(!1),N("If the ACL attributes are turned on, you can access user list information from the SDK."))},[y]),S.createElement("div",{className:"event-host-form"},S.createElement("div",{className:"input"},S.createElement("div",{className:"form"},y.map(function(ee){return d({key:ee,userId:ee,disabled:t.map(function(V){return V.userId}).includes(ee),nickname:ee,hideProfile:!0,onRemove:function(V){var J=y.filter(function(Y){return Y!==V});E(J),g(J)}})}),S.createElement("input",{type:"text",placeholder:"Separate each user ID with a comma.",className:"host-form",value:k,onChange:function(ee){var V,J=ee.target.value,Y=J.split(",");T((V=Y.pop())!==null&&V!==void 0?V:"");var ye=Y.filter(function(Ue,Ne){return Ue.length>0&&!y.includes(Ue)&&Y.indexOf(Ue)===Ne});if(ye.length>0){var ve=la(la([],y,!0),ye,!0);E(ve),g(ve)}}}))),S.createElement(dP,{message:P,error:U,count:y.length,maxLength:s}))}var CR,TR;function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Kx.apply(this,arguments)}var yfe=function(n){return nr("svg",{...Kx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:[CR||(CR=nr("defs",{children:[se("clipPath",{id:"icons-live_svg__a",children:se("path",{d:"M1368 0v1600H0V0h1368z"})}),se("clipPath",{id:"icons-live_svg__b",children:se("path",{d:"M26.667 21.333A5.333 5.333 0 0 1 30 30.83v22.297a26.923 26.923 0 0 1-3.323.206h-.02a26.81 26.81 0 0 1-3.324-.206V30.83a5.333 5.333 0 0 1 3.333-9.497zm0-21.333c14.727 0 26.666 11.94 26.666 26.667 0 12.184-8.171 22.46-19.333 25.645V45.28c7.418-2.924 12.667-10.155 12.667-18.612 0-11.046-8.955-20-20-20-11.046 0-20 8.954-20 20 0 8.457 5.249 15.688 12.666 18.612v7.033C8.172 49.127 0 38.851 0 26.667 0 11.939 11.94 0 26.667 0zm0 10.667c8.836 0 16 7.163 16 16 0 6.193-3.52 11.565-8.667 14.224v-8.45a9.294 9.294 0 0 0 2-5.774 9.333 9.333 0 1 0-18.667 0c0 2.18.748 4.185 2 5.774v8.45c-5.147-2.66-8.666-8.03-8.666-14.224 0-8.837 7.163-16 16-16z"})})]})),TR||(TR=se("g",{clipPath:"url(#icons-live_svg__a)",transform:"translate(-1216 -336)",children:se("g",{clipPath:"url(#icons-live_svg__b)",transform:"translate(1221.333 341.333)",children:se("path",{fill:"rgba(255, 255, 255, 1)",d:"M0 0h53.333v53.333H0V0z"})})}))]})},hP=10;function Efe(e){var n=this,t,r,s=e.showUserIdsForHostSelectionView,u=s===void 0?!0:s,d=e.disableAcl,p=d===void 0?!1:d,g=e.renderCustomEventHostView,_=g===void 0?tS:g,y=e.onClose,E=y===void 0?function(){}:y,x=de.exports.useState(""),k=x[0],T=x[1],I=de.exports.useState(""),P=I[0],N=I[1],O=de.exports.useRef(null),U=de.exports.useRef(null),L=de.exports.useContext(to).stringSet,ee=Eh(),V=Ok.getSdk(ee),J=de.exports.useState([]),Y=J[0],ye=J[1];de.exports.useEffect(function(){u&&V!=null&&V.currentUser&&ye([V.currentUser])},[V==null?void 0:V.currentUser]);var ve=de.exports.useState(Y.map(function(ce){return ce.userId})),Ue=ve[0],Ne=ve[1];return S.createElement("div",{className:"create-event-view"},S.createElement("div",{className:"close",onClick:function(){return E()}},S.createElement(io,{width:22,height:22,viewBox:"0 0 60 60"})),S.createElement("div",{className:"title"},L.LIVE_EVENT_CREATE_HEADER_TITLE),S.createElement("div",{className:"section-title"},L.LIVE_EVENT_CREATE_EVENT_TITLE),S.createElement("div",null,S.createElement("input",{type:"text",placeholder:L.LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER,className:"title-form",value:k,onChange:function(ce){T(ce.target.value)}})),S.createElement("div",{className:"section-title"},L.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE),S.createElement("div",{className:"cover-image-box"},S.createElement("div",{className:"cover-image-container",ref:O},P?S.createElement("img",{src:P,alt:"Cover image",className:"cover-image"}):S.createElement(yfe,{viewBox:"0 0 64 64",width:32,height:32,fill:"#fff"})),S.createElement("input",{type:"file",className:"cover-image-file",ref:U,accept:"image/*",onChange:function(){var ce,Ee=U.current,ge=(ce=Ee==null?void 0:Ee.files)!==null&&ce!==void 0?ce:[];if(ge.length===1){var je=new FileReader;je.onload=function(){O.current&&N(je.result)},je.readAsDataURL(ge[0])}}}),S.createElement("div",{className:"cover-image-upload",onClick:function(){U.current.click()}},L.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON),S.createElement("div",{className:"cover-image-remove",onClick:function(){U.current&&(U.current.value=""),N("")}},!((r=(t=U.current)===null||t===void 0?void 0:t.files)===null||r===void 0)&&r.length?L.REMOVE_IMAGE:"")),S.createElement("div",{className:"section-title"},L.LIST_USERS_FOR_HOST_HEADER_TITLE),p?S.createElement(bfe,{initialHostUsers:Y,renderCustomEventHostView:_,onUpdateHost:function(ce){return Ne(ce)}}):S.createElement(_fe,{initialHostUsers:Y,renderCustomEventHostView:_,onUpdateHost:function(ce){return Ne(ce)}}),S.createElement("div",{className:"button-box"},S.createElement("input",{type:"button",className:"minor-button",value:"Cancel",onClick:function(){return E()}}),S.createElement("input",{type:"button",className:"major-button",value:L.LIVE_EVENT_CREATE_HEADER_BUTTON,onClick:function(){return di(n,void 0,void 0,function(){var ce,Ee,ge,je,Xe,Te;return hi(this,function(ze){switch(ze.label){case 0:return ce=(Te=(Xe=U==null?void 0:U.current)===null||Xe===void 0?void 0:Xe.files)===null||Te===void 0?void 0:Te[0],Ee=null,ce&&(ge=ce.slice(0,ce.size,ce.type),Ee=new File([ge],"".concat(dfe(),".").concat(ce.type.split("/").pop()),{type:ce.type})),[4,Jt.exports.SendbirdLive.createLiveEvent({userIdsForHost:la([],Ue,!0),title:k,coverFile:Ee!=null?Ee:void 0})];case 1:return je=ze.sent(),[4,je.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return ze.sent(),E(je),[2]}})})}})))}var wfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background {
  background: var(--sendbird-dark-background-500) !important;
}

.host-view {
  display: flex;
  flex-grow: 1;
}
.host-view .host-view__main {
  width: 100%;
  height: 100%;
  background-color: var(--sendbird-dark-background-700);
}
.host-view .host-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.host-view .host-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.host-view .host-view__main .video-wrapper .host-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.host-view .host-view__main .host-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-dark-background-600);
}
.host-view .host-view__main .host-view__info .host-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.host-view .host-view__main .host-view__info .host-view__profile .host-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper {
  display: flex;
  align-items: center;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper .host-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.5);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__host-name {
  margin-top: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}`;gi(wfe);var IR;function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Qx.apply(this,arguments)}var xfe=function(n){return se("svg",{...Qx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:IR||(IR=se("path",{d:"M32 2.667A5.333 5.333 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.333 5.333 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56a5.333 5.333 0 1 1 0 10.666h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.333 5.333 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.333 5.333 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.333 5.333 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.333 5.333 0 0 1 32 2.667zM32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"}))})},NR,OR;function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yx.apply(this,arguments)}var kfe=function(n){return nr("svg",{...Yx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:[NR||(NR=nr("defs",{children:[se("clipPath",{id:"icons-camera-filled_svg__a",children:se("path",{d:"M1368 0v1600H0V0h1368z"})}),se("clipPath",{id:"icons-camera-filled_svg__b",children:se("path",{d:"M37.333 0a5.333 5.333 0 0 1 5.334 5.333v8L56.594 4.05a1.333 1.333 0 0 1 2.073 1.109v32.35a1.333 1.333 0 0 1-2.073 1.11l-13.927-9.285v8a5.333 5.333 0 0 1-5.334 5.334h-32A5.333 5.333 0 0 1 0 37.333v-32A5.333 5.333 0 0 1 5.333 0h32z"})})]})),OR||(OR=se("g",{clipPath:"url(#icons-camera-filled_svg__a)",transform:"translate(-208 -336)",children:se("g",{clipPath:"url(#icons-camera-filled_svg__b)",transform:"translate(210.667 346.667)",children:se("path",{d:"M0 0h58.667v42.667H0V0z"})})}))]})},AR,RR;function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Xx.apply(this,arguments)}var Sfe=function(n){return nr("svg",{...Xx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:[AR||(AR=nr("defs",{children:[se("clipPath",{id:"icons-camera-off-filled_svg__a",children:se("path",{d:"M1368 0v1600H0V0h1368z"})}),se("clipPath",{id:"icons-camera-off-filled_svg__b",children:se("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.007-11.008a5.335 5.335 0 0 1-5.238 4.325h-32A5.333 5.333 0 0 1 0 45.333v-32c0-2.6 1.862-4.767 4.325-5.238L.781 4.552A2.667 2.667 0 0 1 4.301.56zM37.333 8a5.333 5.333 0 0 1 5.334 5.333v8l13.927-9.284a1.333 1.333 0 0 1 2.073 1.109v32.35c0 .195-.042.379-.116.545L20.497 8h16.836z"})})]})),RR||(RR=se("g",{clipPath:"url(#icons-camera-off-filled_svg__a)",transform:"translate(-352 -336)",children:se("g",{clipPath:"url(#icons-camera-off-filled_svg__b)",transform:"translate(354.667 338.667)",children:se("path",{d:"M0 0h58.667v58.13H0V0z"})})}))]})},MR,DR;function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Zx.apply(this,arguments)}var Cfe=function(n){return nr("svg",{...Zx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:[MR||(MR=nr("defs",{children:[se("clipPath",{id:"icons-mic-filled_svg__a",children:se("path",{d:"M1368 0v1600H0V0h1368z"})}),se("clipPath",{id:"icons-mic-filled_svg__b",children:se("path",{d:"M34.667 24a2.667 2.667 0 0 1 2.648 2.356l.018.31V32c0 9.408-6.96 17.19-16.01 18.48l.01.187v2.666h5.334a2.667 2.667 0 0 1 .31 5.316l-.31.018h-16a2.667 2.667 0 0 1-.311-5.316l.31-.018H16v-2.666c0-.064.002-.127.007-.19C7.164 49.218.319 41.759.01 32.643L0 32v-5.333a2.667 2.667 0 0 1 5.315-.311l.018.31V32c0 7.364 5.97 13.333 13.334 13.333 7.17 0 13.018-5.66 13.32-12.755L32 32v-5.333A2.667 2.667 0 0 1 34.667 24zm-16-24a8 8 0 0 1 8 8v24a8 8 0 1 1-16 0V8a8 8 0 0 1 8-8z"})})]})),DR||(DR=se("g",{clipPath:"url(#icons-mic-filled_svg__a)",transform:"translate(-496 -336)",children:se("g",{clipPath:"url(#icons-mic-filled_svg__b)",transform:"translate(509.79 339.124)",children:se("path",{d:"M0 0h37.333v58.667H0V0z"})})}))]})},UR,LR;function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Jx.apply(this,arguments)}var Tfe=function(n){return nr("svg",{...Jx({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:[UR||(UR=nr("defs",{children:[se("clipPath",{id:"icons-mic-off-filled_svg__a",children:se("path",{d:"M1368 0v1600H0V0h1368z"})}),se("clipPath",{id:"icons-mic-off-filled_svg__b",children:se("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.152-11.152a18.602 18.602 0 0 1-9.98 4.739l.012.187v2.667h5.333a2.667 2.667 0 0 1 .31 5.315l-.31.018h-16a2.667 2.667 0 0 1-.311-5.315l.31-.018h5.334v-2.667c0-.063.002-.126.007-.189-8.843-1.26-15.688-8.72-15.996-17.836l-.01-.641v-5.334a2.667 2.667 0 0 1 5.315-.31l.018.31v5.334c0 7.363 5.97 13.333 13.333 13.333 3.4 0 6.504-1.273 8.86-3.37l-3.783-3.781a8 8 0 0 1-13.078-6.182V25.56L.781 4.552A2.667 2.667 0 0 1 4.301.56zm41.49 23.898a2.667 2.667 0 0 1 2.649 2.355l.018.311v5.334c0 1.099-.095 2.176-.278 3.223l-5.056-5.055v-3.502a2.667 2.667 0 0 1 2.667-2.666zm-16-24a8 8 0 0 1 8 8v16.834l-16-16v-.834a8 8 0 0 1 8-8z"})})]})),LR||(LR=se("g",{clipPath:"url(#icons-mic-off-filled_svg__a)",transform:"translate(-640 -336)",children:se("g",{clipPath:"url(#icons-mic-off-filled_svg__b)",transform:"translate(642.667 338.667)",children:se("path",{d:"M0 0h58.13v59.124H0V0z"})})}))]})},PR,FR;function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},e3.apply(this,arguments)}var Ife=function(n){return nr("svg",{...e3({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),children:[PR||(PR=se("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.917 4.583a2.75 2.75 0 0 1 2.75-2.75h14.666a2.75 2.75 0 0 1 2.75 2.75v9.167a2.75 2.75 0 0 1-2.75 2.75H3.667a2.75 2.75 0 0 1-2.75-2.75V4.584Zm10.632.901a.916.916 0 0 0-.54-.175l-.059.002a.917.917 0 0 0-.276.06.87.87 0 0 0-.321.203L7.603 8.33a.92.92 0 1 0 1.301 1.3l1.182-1.184-.003 3.96a.92.92 0 0 0 .92.922l.059-.002a.92.92 0 0 0 .862-.917l.003-3.957 1.176 1.178a.918.918 0 1 0 1.302-1.3l-2.74-2.745a1.048 1.048 0 0 0-.074-.067l-.023-.018-.02-.015Z",fill:"#fff",fillOpacity:.88})),FR||(FR=se("path",{d:"M.917 18.334a.917.917 0 0 0 0 1.833h20.166a.917.917 0 1 0 0-1.834H.917Z",fill:"#fff",fillOpacity:.88}))]})},HR;function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n3.apply(this,arguments)}var Nfe=function(n){return se("svg",{...n3({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),children:HR||(HR=se("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.917 3.667a3 3 0 0 0-3 3v8.666a3 3 0 0 0 3 3h14.166a3 3 0 0 0 3-3V6.667a3 3 0 0 0-3-3H3.917Zm9 7.333a1 1 0 0 0-1 1v3.5a1 1 0 0 0 1 1h5.333a1 1 0 0 0 1-1V12a1 1 0 0 0-1-1h-5.334Z",fill:"#fff",fillOpacity:.88}))})},Ofe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background__screen-share {
  background: var(--sendbird-dark-background-500) !important;
}

.control-bar {
  display: flex;
  align-items: center;
  background-color: var(--sendbird-dark-background-600);
}
.control-bar .control-bar__left-buttons {
  display: flex;
  margin-left: 16px;
}
.control-bar .control-bar__left-buttons .control-bar__settings {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__video {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper {
  display: flex;
  margin: 12px 27px 0 0;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper .control-bar__audio {
  margin-right: 27px;
  width: 22px;
  height: 22px;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share {
  display: flex;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share svg {
  margin-right: 27px;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share .control-bar__screen-share__stop {
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  align-items: center;
  padding: 6px 16px;
  width: 160px;
  height: 32px;
  border: 1px solid rgba(255, 255, 255, 0.38);
  border-radius: 4px;
  font-weight: 500;
  font-size: 14px;
  line-height: 20px;
  color: #FFFFFF;
}
.control-bar .control-bar__right-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 16px;
}
.control-bar .control-bar__right-buttons .participant-icon, .control-bar .control-bar__right-buttons .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.control-bar .control-bar__right-buttons .participant-icon--red {
  background-color: var(--sendbird-dark-error-300);
}
.control-bar .control-bar__right-buttons .control-bar__duration {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}
.control-bar .control-bar__right-buttons .control-bar__start-live, .control-bar .control-bar__right-buttons .control-bar__end-live {
  padding: 6px 16px;
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  cursor: pointer;
}
.control-bar .control-bar__right-buttons .control-bar__end-live {
  background-color: var(--sendbird-dark-primary-200);
}
.control-bar .control-bar__right-buttons .control-bar__start-live {
  background-color: var(--sendbird-dark-error-200);
}`;gi(Ofe);var zR,qR;function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t3.apply(this,arguments)}var Afe=function(n){return nr("svg",{...t3({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),children:[zR||(zR=se("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),qR||(qR=se("rect",{x:20,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88}))]})},BR,jR;function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r3.apply(this,arguments)}var Rfe=function(n){return nr("svg",{...r3({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),children:[BR||(BR=se("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),jR||(jR=se("rect",{x:4,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88}))]})},GR,$R;function i3(){return i3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i3.apply(this,arguments)}var Mfe=function(n){return nr("svg",{...i3({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),children:[GR||(GR=se("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),$R||($R=se("rect",{x:20,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88}))]})},VR,WR;function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a3.apply(this,arguments)}var Dfe=function(n){return nr("svg",{...a3({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),children:[VR||(VR=se("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),WR||(WR=se("rect",{x:4,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88}))]})},KR;function s3(){return s3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s3.apply(this,arguments)}var Ufe=function(n){return se("svg",{...s3({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),children:KR||(KR=se("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88}))})},Lfe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.screen-share {
  width: 480px;
  padding: 18px 24px;
  background-color: var(--sendbird-dark-background-500);
  color: #fff;
}
.screen-share .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 20px;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
  margin-bottom: 8px;
  font-style: normal;
  font-weight: 400;
}
.screen-share .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
}
.screen-share .screen-share__preview__container {
  overflow: auto;
  max-width: 100%;
  box-sizing: border-box;
  margin-bottom: 24px;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen {
  position: relative;
  background: var(--sendbird-dark-background-600);
  width: 100%;
  aspect-ratio: 16/9;
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  line-height: 300px;
  color: rgba(255, 255, 255, 0.5);
  text-align: center;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen p {
  line-height: normal;
  display: inline-block;
  vertical-align: middle;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 20%;
  aspect-ratio: 16/9;
  background-color: var(--sendbird-dark-background-700);
  line-height: 1;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  top: 75%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left {
  top: 75%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right {
  top: 5%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left {
  top: 5%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--hidden {
  display: none;
}
.screen-share .screen-share__layout-container {
  display: flex;
}
.screen-share .screen-share__layout-container svg {
  margin-right: 8px;
  padding: 3px;
  background: var(--sendbird-dark-background-500);
  border: 1px solid #161616;
  border-radius: 4px;
}
.screen-share .screen-share__layout-container svg:hover {
  cursor: pointer;
  background: var(--sendbird-dark-background-700);
}
.screen-share .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 30px;
}
.screen-share .buttons .major-button, .screen-share .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.screen-share .buttons .major-button:hover, .screen-share .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.screen-share .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.screen-share .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .screen-share .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .screen-share .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;gi(Lfe);function Pfe(e){var n=this,t=e.liveEvent,r=e.onClose,s={TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",HIDDEN:"hidden"},u=de.exports.useState(s.BOTTOM_RIGHT),d=u[0],p=u[1];return S.createElement("div",{className:"screen-share"},S.createElement("div",{className:"close",onClick:function(){return r()}},S.createElement(io,{width:22,height:22,viewBox:"0 0 60 60"})),S.createElement("div",{className:"title"},"Share screen"),S.createElement("div",{className:"screen-share__label"},"Preview"),S.createElement("div",{className:"screen-share__preview__container"},S.createElement("div",{className:"screen-share__preview__screen"},S.createElement("div",{className:"screen-share__preview__camera--".concat(d)},"Camera"),S.createElement("p",null,"The screen you chose to share will be shown here."))),S.createElement("div",{className:"screen-share__label"},"Layout"),S.createElement("div",{className:"screen-share__layout-container"},S.createElement(Afe,{width:32,height:32,fill:"#000",onClick:function(){return p(s.BOTTOM_RIGHT)}}),S.createElement(Rfe,{width:32,height:32,fill:"#000",onClick:function(){return p(s.BOTTOM_LEFT)}}),S.createElement(Mfe,{width:32,height:32,fill:"#000",onClick:function(){return p(s.TOP_RIGHT)}}),S.createElement(Dfe,{width:32,height:32,fill:"#000",onClick:function(){return p(s.TOP_LEFT)}}),S.createElement(Ufe,{width:32,height:32,fill:"#000",onClick:function(){return p(s.HIDDEN)}})),S.createElement("div",{className:"buttons"},S.createElement("div",{className:"minor-button",onClick:function(){return r()}},"Cancel"),S.createElement("div",{className:"major-button",onClick:function(){return di(n,void 0,void 0,function(){return hi(this,function(g){switch(g.label){case 0:return[4,t.setScreenShareOptions({cameraOverlayPosition:d})];case 1:return g.sent(),r(),[2]}})})}},"Save")))}function Ffe(e){var n=e.liveEvent,t=de.exports.useState(0),r=t[0],s=t[1];de.exports.useEffect(function(){var p=setInterval(function(){s(n.duration)},1e3);return function(){return clearInterval(p)}},[]);function u(p){return p.toString().padStart(2,"0")}function d(p){var g=Math.floor(p/1e3),_=Math.floor(g/60),y=Math.floor(_/60);return g=g%60,_=_%60,"".concat(u(y),":").concat(u(_),":").concat(u(g))}return S.createElement("div",{className:"control-bar__duration"},d(r))}function Hfe(e){var n=this,t=e.liveEvent,r=e.onStart,s=e.onEnd,u=e.onSettings,d=de.exports.useState(t.state===Jt.exports.LiveEventState.ONGOING),p=d[0],g=d[1],_=de.exports.useState(!0),y=_[0],E=_[1],x=de.exports.useState(!0),k=x[0],T=x[1],I=de.exports.useState(!1),P=I[0],N=I[1];Wl("");var O=Wl("","dark-background__screen-share"),U=O[0],L=O[1],ee=O[2],V=de.exports.useContext(to).stringSet,J=function(){return di(n,void 0,void 0,function(){return hi(this,function(Ne){switch(Ne.label){case 0:return[4,t.startEvent({turnAudioOn:!0,turnVideoOn:!0})];case 1:return Ne.sent(),g(!0),r(t),[2]}})})},Y=function(Ne){Ne?t.startVideo():t.stopVideo(),T(Ne)},ye=function(Ne){Ne?t.unmuteAudioInput():t.muteAudioInput(),E(Ne)},ve=function(){return di(n,void 0,void 0,function(){return hi(this,function(Ne){switch(Ne.label){case 0:return[4,t.startScreenShare()];case 1:return Ne.sent(),N(!0),[2]}})})},Ue=function(){t.stopScreenShare(),N(!1)};return S.createElement("div",{className:"control-bar"},S.createElement("div",{className:"control-bar__left-buttons"},S.createElement("div",{className:"control-bar__settings"},S.createElement(xfe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return u(t)}})),S.createElement("div",{className:"control-bar__video"},k?S.createElement(kfe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return Y(!1)}}):S.createElement(Sfe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return Y(!0)}})),S.createElement("div",{className:"control-bar__audio__wrapper"},S.createElement("div",{className:"control-bar__audio"},y?S.createElement(Cfe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return ye(!1)}}):S.createElement(Tfe,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return ye(!0)}})),S.createElement("div",{className:"control-bar__volume"})),S.createElement("div",{className:"control-bar__screen-share"},S.createElement(Ife,{width:22,height:22,fill:"#ccc",onClick:function(){return ve()}}),S.createElement(Nfe,{width:22,height:22,fill:"#ccc",onClick:function(){return L()}}),P&&S.createElement("div",{className:"control-bar__screen-share__stop",onClick:function(){return Ue()}},"Stop ScreenShare"))),S.createElement("div",{className:"control-bar__right-buttons"},p&&S.createElement("div",{className:"participant-icon--red"}),p&&S.createElement(Ffe,{liveEvent:t}),p?S.createElement("div",{className:"control-bar__end-live",onClick:function(){s(t)}},V.LIVE_EVENT_END_DIALOG_OPTION_END):S.createElement("div",{className:"control-bar__start-live",onClick:J},V.START_LIVE_EVENT_HEADER_BUTTON)),S.createElement(U,null,S.createElement(Pfe,{liveEvent:t,onClose:function(){ee()}})))}var zfe=`.confirm-end-dialog {
  width: 480px;
  padding: 18px 24px;
  background: #333;
  color: #fff;
}
.confirm-end-dialog .header {
  display: flex;
  align-items: center;
}
.confirm-end-dialog .header .title {
  flex: 1;
  font-size: 18px;
}
.confirm-end-dialog .header .close:hover {
  cursor: pointer;
}
.confirm-end-dialog .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.confirm-end-dialog .buttons .major-button, .confirm-end-dialog .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.confirm-end-dialog .buttons .major-button:hover, .confirm-end-dialog .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.confirm-end-dialog .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.confirm-end-dialog .buttons .major-button {
  background-color: #f66161;
}`;gi(zfe);function qfe(e){var n=e.onExit,t=n===void 0?function(){}:n,r=e.onClose,s=r===void 0?function(){}:r,u=de.exports.useContext(to).stringSet;return S.createElement("div",{className:"confirm-end-dialog"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},u.LIVE_EVENT_END_DIALOG_DESCRIPTION),S.createElement("div",{className:"close",onClick:function(){return s()}},S.createElement(io,{width:22,height:22,viewBox:"0 0 60 60",fill:"#fff"}))),S.createElement("div",{className:"buttons"},S.createElement("div",{className:"minor-button",onClick:function(){return s()}},"Cancel"),S.createElement("div",{className:"minor-button",onClick:function(){return t(!1)}},u.LIVE_EVENT_END_DIALOG_OPTION_EXIT),S.createElement("div",{className:"major-button",onClick:function(){return t(!0)}},u.LIVE_EVENT_END_DIALOG_OPTION_END)))}function Cc(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function Ki(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function Zm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zm=function(t){return typeof t}:Zm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function ao(e){Ki(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||Zm(e)==="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Bfe(e,n){Ki(2,arguments);var t=ao(e).getTime(),r=Cc(n);return new Date(t+r)}var jfe={};function T_(){return jfe}function Gfe(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}function Jm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jm=function(t){return typeof t}:Jm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function $fe(e){return Ki(1,arguments),e instanceof Date||Jm(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vfe(e){if(Ki(1,arguments),!$fe(e)&&typeof e!="number")return!1;var n=ao(e);return!isNaN(Number(n))}function Wfe(e,n){Ki(2,arguments);var t=Cc(n);return Bfe(e,-t)}var Kfe=864e5;function Qfe(e){Ki(1,arguments);var n=ao(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime(),s=t-r;return Math.floor(s/Kfe)+1}function Gv(e){Ki(1,arguments);var n=1,t=ao(e),r=t.getUTCDay(),s=(r<n?7:0)+r-n;return t.setUTCDate(t.getUTCDate()-s),t.setUTCHours(0,0,0,0),t}function pP(e){Ki(1,arguments);var n=ao(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var s=Gv(r),u=new Date(0);u.setUTCFullYear(t,0,4),u.setUTCHours(0,0,0,0);var d=Gv(u);return n.getTime()>=s.getTime()?t+1:n.getTime()>=d.getTime()?t:t-1}function Yfe(e){Ki(1,arguments);var n=pP(e),t=new Date(0);t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0);var r=Gv(t);return r}var Xfe=6048e5;function Zfe(e){Ki(1,arguments);var n=ao(e),t=Gv(n).getTime()-Yfe(n).getTime();return Math.round(t/Xfe)+1}function $v(e,n){var t,r,s,u,d,p,g,_;Ki(1,arguments);var y=T_(),E=Cc((t=(r=(s=(u=n==null?void 0:n.weekStartsOn)!==null&&u!==void 0?u:n==null||(d=n.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&s!==void 0?s:y.weekStartsOn)!==null&&r!==void 0?r:(g=y.locale)===null||g===void 0||(_=g.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&t!==void 0?t:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=ao(e),k=x.getUTCDay(),T=(k<E?7:0)+k-E;return x.setUTCDate(x.getUTCDate()-T),x.setUTCHours(0,0,0,0),x}function fP(e,n){var t,r,s,u,d,p,g,_;Ki(1,arguments);var y=ao(e),E=y.getUTCFullYear(),x=T_(),k=Cc((t=(r=(s=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(d=n.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:x.firstWeekContainsDate)!==null&&r!==void 0?r:(g=x.locale)===null||g===void 0||(_=g.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(E+1,0,k),T.setUTCHours(0,0,0,0);var I=$v(T,n),P=new Date(0);P.setUTCFullYear(E,0,k),P.setUTCHours(0,0,0,0);var N=$v(P,n);return y.getTime()>=I.getTime()?E+1:y.getTime()>=N.getTime()?E:E-1}function Jfe(e,n){var t,r,s,u,d,p,g,_;Ki(1,arguments);var y=T_(),E=Cc((t=(r=(s=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(d=n.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:y.firstWeekContainsDate)!==null&&r!==void 0?r:(g=y.locale)===null||g===void 0||(_=g.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&t!==void 0?t:1),x=fP(e,n),k=new Date(0);k.setUTCFullYear(x,0,E),k.setUTCHours(0,0,0,0);var T=$v(k,n);return T}var e0e=6048e5;function n0e(e,n){Ki(1,arguments);var t=ao(e),r=$v(t,n).getTime()-Jfe(t,n).getTime();return Math.round(r/e0e)+1}function Pt(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}var Tl={y:function(n,t){var r=n.getUTCFullYear(),s=r>0?r:1-r;return Pt(t==="yy"?s%100:s,t.length)},M:function(n,t){var r=n.getUTCMonth();return t==="M"?String(r+1):Pt(r+1,2)},d:function(n,t){return Pt(n.getUTCDate(),t.length)},a:function(n,t){var r=n.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(n,t){return Pt(n.getUTCHours()%12||12,t.length)},H:function(n,t){return Pt(n.getUTCHours(),t.length)},m:function(n,t){return Pt(n.getUTCMinutes(),t.length)},s:function(n,t){return Pt(n.getUTCSeconds(),t.length)},S:function(n,t){var r=t.length,s=n.getUTCMilliseconds(),u=Math.floor(s*Math.pow(10,r-3));return Pt(u,t.length)}},Td={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},t0e={G:function(n,t,r){var s=n.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(n,t,r){if(t==="yo"){var s=n.getUTCFullYear(),u=s>0?s:1-s;return r.ordinalNumber(u,{unit:"year"})}return Tl.y(n,t)},Y:function(n,t,r,s){var u=fP(n,s),d=u>0?u:1-u;if(t==="YY"){var p=d%100;return Pt(p,2)}return t==="Yo"?r.ordinalNumber(d,{unit:"year"}):Pt(d,t.length)},R:function(n,t){var r=pP(n);return Pt(r,t.length)},u:function(n,t){var r=n.getUTCFullYear();return Pt(r,t.length)},Q:function(n,t,r){var s=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Pt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,t,r){var s=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Pt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,t,r){var s=n.getUTCMonth();switch(t){case"M":case"MM":return Tl.M(n,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(n,t,r){var s=n.getUTCMonth();switch(t){case"L":return String(s+1);case"LL":return Pt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(n,t,r,s){var u=n0e(n,s);return t==="wo"?r.ordinalNumber(u,{unit:"week"}):Pt(u,t.length)},I:function(n,t,r){var s=Zfe(n);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Pt(s,t.length)},d:function(n,t,r){return t==="do"?r.ordinalNumber(n.getUTCDate(),{unit:"date"}):Tl.d(n,t)},D:function(n,t,r){var s=Qfe(n);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Pt(s,t.length)},E:function(n,t,r){var s=n.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(n,t,r,s){var u=n.getUTCDay(),d=(u-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(d);case"ee":return Pt(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(u,{width:"short",context:"formatting"});case"eeee":default:return r.day(u,{width:"wide",context:"formatting"})}},c:function(n,t,r,s){var u=n.getUTCDay(),d=(u-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(d);case"cc":return Pt(d,t.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(u,{width:"narrow",context:"standalone"});case"cccccc":return r.day(u,{width:"short",context:"standalone"});case"cccc":default:return r.day(u,{width:"wide",context:"standalone"})}},i:function(n,t,r){var s=n.getUTCDay(),u=s===0?7:s;switch(t){case"i":return String(u);case"ii":return Pt(u,t.length);case"io":return r.ordinalNumber(u,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(n,t,r){var s=n.getUTCHours(),u=s/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(n,t,r){var s=n.getUTCHours(),u;switch(s===12?u=Td.noon:s===0?u=Td.midnight:u=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(n,t,r){var s=n.getUTCHours(),u;switch(s>=17?u=Td.evening:s>=12?u=Td.afternoon:s>=4?u=Td.morning:u=Td.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(n,t,r){if(t==="ho"){var s=n.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Tl.h(n,t)},H:function(n,t,r){return t==="Ho"?r.ordinalNumber(n.getUTCHours(),{unit:"hour"}):Tl.H(n,t)},K:function(n,t,r){var s=n.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Pt(s,t.length)},k:function(n,t,r){var s=n.getUTCHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Pt(s,t.length)},m:function(n,t,r){return t==="mo"?r.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):Tl.m(n,t)},s:function(n,t,r){return t==="so"?r.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):Tl.s(n,t)},S:function(n,t){return Tl.S(n,t)},X:function(n,t,r,s){var u=s._originalDate||n,d=u.getTimezoneOffset();if(d===0)return"Z";switch(t){case"X":return YR(d);case"XXXX":case"XX":return Zu(d);case"XXXXX":case"XXX":default:return Zu(d,":")}},x:function(n,t,r,s){var u=s._originalDate||n,d=u.getTimezoneOffset();switch(t){case"x":return YR(d);case"xxxx":case"xx":return Zu(d);case"xxxxx":case"xxx":default:return Zu(d,":")}},O:function(n,t,r,s){var u=s._originalDate||n,d=u.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+QR(d,":");case"OOOO":default:return"GMT"+Zu(d,":")}},z:function(n,t,r,s){var u=s._originalDate||n,d=u.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+QR(d,":");case"zzzz":default:return"GMT"+Zu(d,":")}},t:function(n,t,r,s){var u=s._originalDate||n,d=Math.floor(u.getTime()/1e3);return Pt(d,t.length)},T:function(n,t,r,s){var u=s._originalDate||n,d=u.getTime();return Pt(d,t.length)}};function QR(e,n){var t=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),u=r%60;if(u===0)return t+String(s);var d=n||"";return t+String(s)+d+Pt(u,2)}function YR(e,n){if(e%60===0){var t=e>0?"-":"+";return t+Pt(Math.abs(e)/60,2)}return Zu(e,n)}function Zu(e,n){var t=n||"",r=e>0?"-":"+",s=Math.abs(e),u=Pt(Math.floor(s/60),2),d=Pt(s%60,2);return r+u+t+d}var r0e=t0e,XR=function(n,t){switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gP=function(n,t){switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},i0e=function(n,t){var r=n.match(/(P+)(p+)?/)||[],s=r[1],u=r[2];if(!u)return XR(n,t);var d;switch(s){case"P":d=t.dateTime({width:"short"});break;case"PP":d=t.dateTime({width:"medium"});break;case"PPP":d=t.dateTime({width:"long"});break;case"PPPP":default:d=t.dateTime({width:"full"});break}return d.replace("{{date}}",XR(s,t)).replace("{{time}}",gP(u,t))},a0e={p:gP,P:i0e},s0e=a0e,o0e=["D","DD"],l0e=["YY","YYYY"];function u0e(e){return o0e.indexOf(e)!==-1}function c0e(e){return l0e.indexOf(e)!==-1}function ZR(e,n,t){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var d0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h0e=function(n,t,r){var s,u=d0e[n];return typeof u=="string"?s=u:t===1?s=u.one:s=u.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function d2(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.width?String(n.width):e.defaultWidth,r=e.formats[t]||e.formats[e.defaultWidth];return r}}var p0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m0e={date:d2({formats:p0e,defaultWidth:"full"}),time:d2({formats:f0e,defaultWidth:"full"}),dateTime:d2({formats:g0e,defaultWidth:"full"})},v0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_0e=function(n,t,r,s){return v0e[n]};function Yp(e){return function(n,t){var r=t!=null&&t.context?String(t.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var u=e.defaultFormattingWidth||e.defaultWidth,d=t!=null&&t.width?String(t.width):u;s=e.formattingValues[d]||e.formattingValues[u]}else{var p=e.defaultWidth,g=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[g]||e.values[p]}var _=e.argumentCallback?e.argumentCallback(n):n;return s[_]}}var b0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},E0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},w0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},x0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},S0e=function(n,t){var r=Number(n),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},C0e={ordinalNumber:S0e,era:Yp({values:b0e,defaultWidth:"wide"}),quarter:Yp({values:y0e,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Yp({values:E0e,defaultWidth:"wide"}),day:Yp({values:w0e,defaultWidth:"wide"}),dayPeriod:Yp({values:x0e,defaultWidth:"wide",formattingValues:k0e,defaultFormattingWidth:"wide"})};function Xp(e){return function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],u=n.match(s);if(!u)return null;var d=u[0],p=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(p)?I0e(p,function(E){return E.test(d)}):T0e(p,function(E){return E.test(d)}),_;_=e.valueCallback?e.valueCallback(g):g,_=t.valueCallback?t.valueCallback(_):_;var y=n.slice(d.length);return{value:_,rest:y}}}function T0e(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}function I0e(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}function N0e(e){return function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.match(e.matchPattern);if(!r)return null;var s=r[0],u=n.match(e.parsePattern);if(!u)return null;var d=e.valueCallback?e.valueCallback(u[0]):u[0];d=t.valueCallback?t.valueCallback(d):d;var p=n.slice(s.length);return{value:d,rest:p}}}var O0e=/^(\d+)(th|st|nd|rd)?/i,A0e=/\d+/i,R0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},M0e={any:[/^b/i,/^(a|c)/i]},D0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},U0e={any:[/1/i,/2/i,/3/i,/4/i]},L0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},P0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},z0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},q0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B0e={ordinalNumber:N0e({matchPattern:O0e,parsePattern:A0e,valueCallback:function(n){return parseInt(n,10)}}),era:Xp({matchPatterns:R0e,defaultMatchWidth:"wide",parsePatterns:M0e,defaultParseWidth:"any"}),quarter:Xp({matchPatterns:D0e,defaultMatchWidth:"wide",parsePatterns:U0e,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:Xp({matchPatterns:L0e,defaultMatchWidth:"wide",parsePatterns:P0e,defaultParseWidth:"any"}),day:Xp({matchPatterns:F0e,defaultMatchWidth:"wide",parsePatterns:H0e,defaultParseWidth:"any"}),dayPeriod:Xp({matchPatterns:z0e,defaultMatchWidth:"any",parsePatterns:q0e,defaultParseWidth:"any"})},j0e={code:"en-US",formatDistance:h0e,formatLong:m0e,formatRelative:_0e,localize:C0e,match:B0e,options:{weekStartsOn:0,firstWeekContainsDate:1}},G0e=j0e,$0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,V0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,W0e=/^'([^]*?)'?$/,K0e=/''/g,Q0e=/[a-zA-Z]/;function JR(e,n,t){var r,s,u,d,p,g,_,y,E,x,k,T,I,P,N,O,U,L;Ki(2,arguments);var ee=String(n),V=T_(),J=(r=(s=t==null?void 0:t.locale)!==null&&s!==void 0?s:V.locale)!==null&&r!==void 0?r:G0e,Y=Cc((u=(d=(p=(g=t==null?void 0:t.firstWeekContainsDate)!==null&&g!==void 0?g:t==null||(_=t.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&p!==void 0?p:V.firstWeekContainsDate)!==null&&d!==void 0?d:(E=V.locale)===null||E===void 0||(x=E.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(Y>=1&&Y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ye=Cc((k=(T=(I=(P=t==null?void 0:t.weekStartsOn)!==null&&P!==void 0?P:t==null||(N=t.locale)===null||N===void 0||(O=N.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&I!==void 0?I:V.weekStartsOn)!==null&&T!==void 0?T:(U=V.locale)===null||U===void 0||(L=U.options)===null||L===void 0?void 0:L.weekStartsOn)!==null&&k!==void 0?k:0);if(!(ye>=0&&ye<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!J.localize)throw new RangeError("locale must contain localize property");if(!J.formatLong)throw new RangeError("locale must contain formatLong property");var ve=ao(e);if(!Vfe(ve))throw new RangeError("Invalid time value");var Ue=Gfe(ve),Ne=Wfe(ve,Ue),ce={firstWeekContainsDate:Y,weekStartsOn:ye,locale:J,_originalDate:ve},Ee=ee.match(V0e).map(function(ge){var je=ge[0];if(je==="p"||je==="P"){var Xe=s0e[je];return Xe(ge,J.formatLong)}return ge}).join("").match($0e).map(function(ge){if(ge==="''")return"'";var je=ge[0];if(je==="'")return Y0e(ge);var Xe=r0e[je];if(Xe)return!(t!=null&&t.useAdditionalWeekYearTokens)&&c0e(ge)&&ZR(ge,n,String(e)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&u0e(ge)&&ZR(ge,n,String(e)),Xe(Ne,ge,J.localize,ce);if(je.match(Q0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+je+"`");return ge}).join("");return Ee}function Y0e(e){var n=e.match(W0e);return n?n[1].replace(K0e,"'"):e}var eM;function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o3.apply(this,arguments)}var nM=function(n){return se("svg",{...o3({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:eM||(eM=se("path",{d:"M22.114 46.114a2.667 2.667 0 0 0 3.772 3.772l16-16a2.667 2.667 0 0 0 0-3.772l-16-16a2.667 2.667 0 0 0-3.772 3.772L36.23 32 22.114 46.114z",fillRule:"evenodd"}))})},tM;function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l3.apply(this,arguments)}var X0e=function(n){return se("svg",{...l3({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},n),children:tM||(tM=nr("g",{fillRule:"evenodd",children:[se("rect",{x:4,y:4,width:80,height:40,rx:20}),se("circle",{fill:"#FFF",cx:64,cy:24,r:12}),se("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),se("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"})]}))})},rM;function u3(){return u3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u3.apply(this,arguments)}var Z0e=function(n){return se("svg",{...u3({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},n),children:rM||(rM=nr("g",{fillRule:"evenodd",children:[se("rect",{x:4,y:4,width:80,height:40,rx:20}),se("circle",{fill:"#FFF",cx:24,cy:24,r:12}),se("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),se("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"})]}))})},iM;function c3(){return c3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c3.apply(this,arguments)}var mP=function(n){return se("svg",{...c3({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:iM||(iM=se("path",{d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.667 2.667 0 0 1 50.667 56H13.333a2.667 2.667 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 1 1 0 10.667A5.333 5.333 0 0 1 32 32z",fillRule:"evenodd"}))})},aM;function d3(){return d3=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d3.apply(this,arguments)}var vP=function(n){return se("svg",{...d3({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},n),children:aM||(aM=se("path",{d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333a8 8 0 0 0-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.315.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.334 13.334 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 0 1 54 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 0 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167zM24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"}))})},sM,J0e=function(n){return se("svg",{width:64,height:64,xmlns:"http://www.w3.org/2000/svg",...n,children:sM||(sM=se("path",{d:"m41.636 3.226.251.222a2.667 2.667 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.667 2.667 0 0 1 1.952 2.938l-.067.328a2.667 2.667 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 0 1 2.937 1.952l.067.328a2.667 2.667 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.667 2.667 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.667 2.667 0 0 1-3.52.222l-.251-.222a2.667 2.667 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.667 2.667 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.667 2.667 0 0 1-1.953-2.937l.067-.328a2.667 2.667 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.667 2.667 0 0 1-2.937-1.952l-.067-.328a2.667 2.667 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.667 2.667 0 0 1 3.52-3.993l.251.222 6.114 6.112 6.115-6.112a2.667 2.667 0 0 1 3.52-.222z",fillRule:"evenodd"}))})},ege=`.event-detail-view {
  position: relative;
  max-width: 400px;
  background: #fff;
}
.event-detail-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .header .title {
  flex: 1;
  font-size: 18px;
}
.event-detail-view .header .close:hover {
  cursor: pointer;
}
.event-detail-view .event-summary {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-summary .profile {
  width: 80px;
  height: 80px;
  background: #eee;
  border-radius: 60px;
  margin-bottom: 8px;
}
.event-detail-view .event-summary .title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}
.event-detail-view .event-menu {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-menu .icon {
  margin-right: 16px;
}
.event-detail-view .event-menu .label {
  flex: 1;
}
.event-detail-view .event-menu .count {
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.event-detail-view .event-menu .guide {
  flex-basis: 100%;
  color: #999;
  line-height: 1.43;
  padding: 8px 4px 10px 4px;
}
.event-detail-view .event-info {
  padding: 16px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-info .label {
  font-size: 12px;
  font-weight: bold;
  color: #999;
  margin-bottom: 8px;
}
.event-detail-view .event-info .value {
  font-size: 14px;
  color: #333;
  line-height: 1.43;
}
.event-detail-view .button:hover {
  cursor: pointer;
  background: #eee;
}`;gi(ege);function nge(e){var n=e.liveEvent,t=e.onHostsClick,r=t===void 0?function(){}:t,s=e.onParticipantsClick,u=s===void 0?function(){}:s,d=e.onClose,p=d===void 0?function(){}:d,g=n.openChannel,_=de.exports.useState(""),y=_[0],E=_[1],x=de.exports.useState(g.isFrozen),k=x[0],T=x[1],I=de.exports.useState(n.userIdsForHost.length),P=I[0],N=I[1],O=de.exports.useState("".concat(g.participantCount)),U=O[0],L=O[1];return de.exports.useEffect(function(){E(g.name||"Untitled")},[g.name]),de.exports.useEffect(function(){N(g.operators.length)},[n.userIdsForHost.length]),de.exports.useEffect(function(){g.participantCount>1e3?L("".concat(Math.floor(g.participantCount/1e3),"k")):L("".concat(g.participantCount))},[g.participantCount]),de.exports.useEffect(function(){T(n.openChannel.isFrozen)},[g.isFrozen]),S.createElement("div",{className:"event-detail-view"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},"Live event information"),S.createElement("div",{className:"close",onClick:function(){return p()}},S.createElement(io,{width:22,height:22,viewBox:"0 0 60 60"}))),S.createElement("div",{className:"event-summary"},S.createElement("div",{className:"profile"},n.host?S.createElement("img",{src:n.host.profileURL}):S.createElement(Sh,{width:80,height:80,viewBox:"-4 -4 20 20",fill:"#fff"})),S.createElement("div",{className:"title"},y)),S.createElement("div",{className:"event-menu button",onClick:function(){return r()}},S.createElement(mP,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),S.createElement("div",{className:"label"},"Hosts"),S.createElement("div",{className:"count"},P),S.createElement(nM,{width:24,height:24,viewBox:"-10 -10 80 80"})),S.createElement("div",{className:"event-menu button",onClick:function(){return u()}},S.createElement(vP,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),S.createElement("div",{className:"label"},"Participants"),S.createElement("div",{className:"count"},U),S.createElement(nM,{width:24,height:24,viewBox:"-10 -10 80 80"})),S.createElement("div",{className:"event-menu"},S.createElement(J0e,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),S.createElement("div",{className:"label"},"Freeze channel"),S.createElement("div",{className:"toggle"},k?S.createElement(X0e,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#C2A9FA"}):S.createElement(Z0e,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#777"})),S.createElement("div",{className:"guide"},"Freezing a channel lets only operators to communicate in the channel.")),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Live event ID"),S.createElement("div",{className:"value"},n.liveEventId)),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Created on"),S.createElement("div",{className:"value"},JR(n.createdAt,"PPp"))),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Created by"),S.createElement("div",{className:"value"},n.createdBy)),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Started on"),S.createElement("div",{className:"value"},n.startedAt?JR(n.startedAt,"PPp"):"")),S.createElement("div",{className:"event-info"},S.createElement("div",{className:"label"},"Started by"),S.createElement("div",{className:"value"},n.startedBy?n.startedBy:"")))}var tge=`.user-list-view {
  position: relative;
  display: flex;
  flex-direction: column;
  max-width: 400px;
  max-height: 100vh;
  background: #fff;
  overflow: hidden;
}
.user-list-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.user-list-view .header .title {
  flex: 1;
  font-size: 18px;
}
.user-list-view .header .title .count {
  display: inline-block;
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.user-list-view .header .close:hover {
  cursor: pointer;
}
.user-list-view .list {
  flex: 1;
  padding: 8px 0;
  overflow-y: auto;
}

.user-view {
  display: flex;
  flex-direction: row;
  align-items: center;
  background: #fff;
  padding: 8px 16px;
}
.user-view .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  background: #eee;
  margin-right: 16px;
}
.user-view .nickname {
  font-size: 14px;
  color: #333;
}`;gi(tge);function rge(e){var n=e.nickname,t=n===void 0?"":n,r=e.profileUrl,s=r===void 0?"":r,u=s?S.createElement("img",{src:s,className:"profile-image"}):S.createElement(Sh,{fill:"#fff",className:"profile-image"});return S.createElement("div",{className:"user-view"},u,S.createElement("div",{className:"nickname"},t))}function oM(e){var n=e.title,t=e.count,r=e.query,s=e.onClose,u=s===void 0?function(){}:s,d=de.exports.useRef(null),p=de.exports.useState([]),g=p[0],_=p[1],y=de.exports.useState(!0),E=y[0],x=y[1];de.exports.useEffect(function(){r().then(function(T){var I=T.result,P=T.hasNext;_(la([],I,!0)),x(P)})},[]);var k=function(){if(d.current){var T=d.current,I=T.scrollTop,P=T.scrollHeight,N=T.clientHeight;I+N===P&&E&&r().then(function(O){var U=O.result,L=O.hasNext;_(la(la([],g,!0),U,!0)),x(L)})}};return S.createElement("div",{className:"user-list-view"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},n," ",S.createElement("span",{className:"count"},t)),S.createElement("div",{className:"close",onClick:function(){return u()}},S.createElement(io,{width:22,height:22,viewBox:"0 0 60 60"}))),S.createElement("div",{className:"list",ref:d,onScroll:k},g.map(function(T){return S.createElement(rge,{key:T.userId,userId:T.userId,nickname:T.nickname,profileUrl:T.profileUrl})})))}var ige=`.sendbirdlive-right__wrapper {
  width: 400px;
  height: 100vh;
}`;gi(ige);var ps;(function(e){e[e.CHAT=0]="CHAT",e[e.EVENT_INFO=1]="EVENT_INFO",e[e.HOST_LIST=2]="HOST_LIST",e[e.PARTICIPANT_LIST=3]="PARTICIPANT_LIST"})(ps||(ps={}));function _P(e){var n=this,t=e.liveEvent,r=e.initialViewStack,s=r===void 0?[ps.CHAT]:r,u=t.openChannel,d=Eh(),p=Ok.getSdk(d),g=de.exports.useState(la([],s,!0)),_=g[0],y=g[1],E=de.exports.useState(s[s.length-1]),x=E[0],k=E[1],T=function(P){y(la(la([],_,!0),[P],!1))},I=function(){_.length>1&&y(_.slice(0,-1))};return de.exports.useEffect(function(){t.openChannel,y(la([],s,!0))},[t]),de.exports.useEffect(function(){k(_[_.length-1])},[_]),S.createElement("div",{className:"sendbirdlive-right__wrapper"},x===ps.CHAT?S.createElement(Ype,{channelUrl:t.liveEventId,useMessageGrouping:!0,onChatHeaderActionClick:function(){var P;((P=t.host)===null||P===void 0?void 0:P.userId)===(p==null?void 0:p.currentUser.userId)?T(ps.EVENT_INFO):T(ps.PARTICIPANT_LIST)}}):null,x===ps.EVENT_INFO?S.createElement(nge,{liveEvent:t,onHostsClick:function(){return T(ps.HOST_LIST)},onParticipantsClick:function(){return T(ps.PARTICIPANT_LIST)},onClose:function(){return I()}}):null,x===ps.HOST_LIST?S.createElement(oM,{title:"Hosts",count:u.operators.length,query:function(){return di(n,void 0,void 0,function(){return hi(this,function(P){return[2,{result:u.operators,hasNext:!1}]})})},onClose:function(){return I()}}):null,x===ps.PARTICIPANT_LIST?S.createElement(oM,{title:"Participants",count:u.participantCount,query:function(){return di(n,void 0,void 0,function(){var P,N,O,U;return hi(this,function(L){switch(L.label){case 0:return P=u.createParticipantListQuery({}),P?[4,P.next()]:[3,2];case 1:return O=L.sent(),[3,3];case 2:O=[],L.label=3;case 3:return N=O,U=P==null?void 0:P.hasNext,[2,{result:N,hasNext:U}]}})})},onClose:function(){return I()}}):null)}var age=`.settings {
  width: 480px;
}
.settings .title {
  font-size: 20px;
  font-weight: 700;
}
.settings .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.settings .settings__select-container {
  margin-top: 20px;
}
.settings .settings__select-container .settings__select-label {
  font-size: 12px;
  line-height: 1;
}
.settings .settings__select-container .settings__select-button {
  width: 100%;
  height: 40px;
  margin-top: 8px;
  padding: 10px 12px 10px 16px;
  border-radius: 4px;
  border: solid 1px rgba(255, 255, 255, 0.38);
}`;gi(age);function sge(e){var n=e.liveEvent,t=e.onClose,r=de.exports.useState([]),s=r[0],u=r[1],d=de.exports.useState([]),p=d[0],g=d[1];return de.exports.useEffect(function(){var _=Jt.exports.SendbirdLive.useMedia({audio:!0,video:!0});return u(Jt.exports.SendbirdLive.getAvailableAudioInputDevices()),g(Jt.exports.SendbirdLive.getAvailableVideoInputDevices()),Jt.exports.SendbirdLive.setAudioInputDeviceChanged(function(y,E){console.log("audio input updated",E),u(E)}),Jt.exports.SendbirdLive.setVideoInputDeviceChanged(function(y,E){console.log("video input updated",E),g(E)}),Jt.exports.SendbirdLive.updateMediaDevices({audio:!0,video:!0}),function(){_&&_.dispose()}}),S.createElement("div",{className:"settings"},S.createElement("div",{className:"close",onClick:function(){return t()}},S.createElement(io,{width:22,height:22,viewBox:"0 0 60 60"})),S.createElement("div",{className:"title"},"Settings"),S.createElement("div",{className:"settings__select-container"},S.createElement("div",{className:"settings__select-label"},"Camera"),S.createElement("select",{id:"camera-select",className:"settings__select-button",onChange:function(_){var y=_.target.value,E=p.find(function(x){return x.deviceId===y});E&&n.selectVideoInput(E)}},p.map(function(_){return S.createElement("option",{key:_.deviceId,value:_.deviceId},_.label)}))),S.createElement("div",{className:"settings__select-container"},S.createElement("div",{className:"settings__select-label"},"Microphone"),S.createElement("select",{id:"microphone-select",className:"settings__select-button",onChange:function(_){var y=_.target.value,E=s.find(function(x){return x.deviceId===y});E&&n.selectAudioInput(E)}},s.map(function(_){return S.createElement("option",{key:_.deviceId,value:_.deviceId},_.label)}))))}var oge=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function lge(e){var n=this,t=e.liveEvent;e.showDuration,e.onEndEventClick,e.showStatusLabel,e.showParticipantCount,e.eventEndViewDisplayTime,e.allowExitWithoutEnding,e.showEventSummaryView;var r=e.onClose,s=de.exports.useContext(to).stringSet,u=de.exports.useRef(null),d=de.exports.useState(t.title),p=d[0],g=d[1],_=de.exports.useState(t.coverUrl),y=_[0],E=_[1],x=de.exports.useState(t.state),k=x[0],T=x[1],I=de.exports.useState(t.participantCount||0),P=I[0],N=I[1],O=Wl("","dark-background"),U=O[0],L=O[1],ee=O[2],V=Wl(""),J=V[0],Y=V[1],ye=V[2],ve=function(Ne){switch(Ne){case"created":return s.EVENT_STATUS_CREATED;case"ready":return s.EVENT_STATUS_READY;case"ongoing":return s.EVENT_STATUS_ONGOING;case"ended":return s.EVENT_STATUS_ENDED}};de.exports.useEffect(function(){var Ne=function(){return di(n,void 0,void 0,function(){return hi(this,function(ce){switch(ce.label){case 0:return t.state!==Jt.exports.LiveEventState.CREATED?[3,2]:[4,t.setEventReady()];case 1:ce.sent(),ce.label=2;case 2:return t.state===Jt.exports.LiveEventState.ONGOING&&!t.isHostStreaming?[4,t.startStreaming({turnVideoOn:!0,turnAudioOn:!0})]:[3,4];case 3:ce.sent(),t.setVideoViewForLiveEvent(u.current,t.host.hostId),ce.label=4;case 4:return[2]}})})};Ne()},[t]),de.exports.useEffect(function(){var Ne=[t.on("participantEntered",function(ce,Ee){N(t.participantCount)}),t.on("participantExited",function(){N(t.participantCount)}),t.on("liveEventUpdated",function(){g(t.title),E(t.coverUrl)}),t.on("disconnected",function(){r(t)})];return function(){Ne.map(function(ce){return ce()})}},[t]);function Ue(Ne){var ce=Math.floor(Ne/1e3),Ee=Math.floor(ce/60);return Ee=Ee%60,"".concat(Ee<0?0:Ee)}return S.createElement("div",{className:"host-view"},S.createElement("div",{className:"host-view__main"},S.createElement("div",{className:"video-wrapper"},S.createElement("video",{className:"host-view__video",ref:u,playsInline:!0,autoPlay:!0,muted:!0,controls:oge()})),S.createElement("div",{className:"host-view__info"},S.createElement("div",{className:"host-view__profile"},t.coverUrl?S.createElement("img",{src:y,alt:"cover image",className:"host-view__profile__cover-image"}):S.createElement(Sh,{viewBox:"-4 -4 20 20",width:56,height:56})),S.createElement("div",{className:"host-view__info__wrapper"},S.createElement("div",{className:"host-view__title__wrapper"},S.createElement("div",{className:"event-state--".concat(k)},ve(k)),S.createElement("div",{className:"host-view__title"},p||s.CREATE_EVENT_DEFAULT_TITLE)),S.createElement("div",{className:"host-view__detail"},P!=null?P:0," watching now ",k===Jt.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(Ue(t.duration)," mins ago"):""),S.createElement("div",{className:"host-view__host-name"},t.host?t.host.nickname:"No Host"))),S.createElement(Hfe,{liveEvent:t,onStart:function(Ne){Ne.setVideoViewForLiveEvent(u.current,Ne.host.hostId),T(k)},onEnd:function(){L()},onSettings:function(){Y()}}),S.createElement(U,null,S.createElement(qfe,{onExit:function(Ne){return di(n,void 0,void 0,function(){return hi(this,function(ce){switch(ce.label){case 0:return Ne?[4,t.endEvent()]:[3,2];case 1:return ce.sent(),[3,4];case 2:return[4,t.exitAsHost()];case 3:ce.sent(),ce.label=4;case 4:return ee(),r(t),[2]}})})},onClose:function(){ee()}})),S.createElement(J,null,S.createElement(sge,{liveEvent:t,onClose:function(){ye()}}))),S.createElement(_P,{liveEvent:t}))}var uge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbirdlive-app__wrapper {
  display: flex;
}

.sendbirdlive-app__no-event {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  width: 100%;
}
.sendbird-theme--light .sendbirdlive-app__no-event {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbirdlive-app__no-event {
  background-color: var(--sendbird-dark-background-500);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__title {
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__description {
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  padding: 6px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  cursor: pointer;
}
.sendbird-theme--light .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-dark-primary-200);
}`;gi(uge);var cge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.participant-view {
  display: flex;
  flex-grow: 1;
}
.participant-view .participant-view__main {
  width: 100%;
  background-color: var(--sendbird-light-background-100);
}
.participant-view .participant-view__main .toast-container {
  position: absolute;
  top: 10px;
  z-index: 5000;
}
.participant-view .participant-view__main .toast-container .toast {
  width: 500px;
  margin: auto;
  padding: 10px 0 10px 0;
  background-color: var(--sendbird-dark-information-100);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  text-align: center;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.participant-view .participant-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.participant-view .participant-view__main .video-wrapper .participant-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.participant-view .participant-view__main .participant-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-light-background-50);
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile .participant-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper {
  display: flex;
  align-items: center;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper .participant-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__host-name {
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.88);
}`;gi(cge);var dge=function(e){var n=e.message;return S.createElement("div",{className:"toast-container"},n&&S.createElement("div",{className:"toast"},n))},hge=function(){var e=de.exports.useState(void 0),n=e[0],t=e[1],r=de.exports.useState(void 0),s=r[0],u=r[1],d=function(_,y){y===void 0&&(y=1e6),t(_);var E=setTimeout(function(){p()},y);u(E)},p=function(){clearTimeout(s),u(void 0),t(void 0)},g=function(){return S.createElement(dge,{message:n})};return[g,d,p]},pge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.ended-modal {
  width: 480px;
  padding: 18px 24px;
}
.ended-modal .header {
  display: flex;
  align-items: center;
}
.ended-modal .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.ended-modal .header .close:hover {
  cursor: pointer;
}
.ended-modal .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.ended-modal .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.ended-modal .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.ended-modal .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .ended-modal .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .ended-modal .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;gi(pge);function fge(e){var n=e.onClose;return S.createElement("div",{className:"ended-modal"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},"Host has ended this live event."),S.createElement("div",{className:"close",onClick:n},S.createElement(io,{width:22,height:22,viewBox:"0 0 60 60",fill:"#000"}))),S.createElement("div",{className:"buttons"},S.createElement("div",{className:"major-button",onClick:n},"End live")))}var gge=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function mge(e){var n=this,t=e.liveEvent,r=e.onClose;e.showDuration,e.onEndEventClick,e.showStatusLabel,e.showParticipantCount;var s=e.eventEndViewDisplayTime,u=de.exports.useRef(null),d=hge(),p=d[0],g=d[1],_=de.exports.useState(t.host),y=_[0],E=_[1],x=de.exports.useState(t.title),k=x[0],T=x[1],I=de.exports.useState(t.coverUrl),P=I[0],N=I[1],O=de.exports.useState(t.state),U=O[0],L=O[1],ee=de.exports.useState(t.participantCount||0),V=ee[0],J=ee[1],Y=Wl("",""),ye=Y[0],ve=Y[1],Ue=Y[2],Ne=de.exports.useState(),ce=Ne[0],Ee=Ne[1],ge=de.exports.useContext(to).stringSet,je=function(oe){switch(oe){case"created":return ge.EVENT_STATUS_CREATED;case"ready":return ge.EVENT_STATUS_READY;case"ongoing":return ge.EVENT_STATUS_ONGOING;case"ended":return ge.EVENT_STATUS_ENDED}},Xe=function(){return di(n,void 0,void 0,function(){return hi(this,function(oe){return y&&t.setVideoViewForLiveEvent(u.current,y.hostId),[2]})})},Te=function(){ve();var oe=setTimeout(function(){ze()},s!=null?s:3e3);Ee(oe)},ze=function(){return di(n,void 0,void 0,function(){return hi(this,function(oe){return clearTimeout(ce),Ee(void 0),Ue(),r(t),[2]})})};de.exports.useEffect(function(){Xe()},[y,U]),de.exports.useEffect(function(){t.state===Jt.exports.LiveEventState.CREATED&&g("Live event will begin soon.");var oe=[t.on("liveEventStarted",function(){L(t.state)}),t.on("liveEventEnded",function(){L(t.state),Te()}),t.on("hostEntered",function(){g("Host Entered"),E(t.host)}),t.on("hostConnected",function(ne,ke){g("Host Connected"),E(ne.host)}),t.on("hostDisconnected",function(){g("Host Disconnected"),E(t.host)}),t.on("hostExited",function(){g("Host Exited"),E(t.host)}),t.on("hostMutedAudio",function(){g("Host is muted"),E(t.host)}),t.on("hostUnmutedAudio",function(){g("Host is unmuted"),E(t.host)}),t.on("participantEntered",function(){J(t.participantCount)}),t.on("participantExited",function(){J(t.participantCount)}),t.on("liveEventUpdated",function(){T(t.title),N(t.coverUrl)}),t.on("disconnected",function(){r(t)})];return function(){oe.map(function(ne){return ne()})}},[t]);function Ze(oe){var ne=Math.floor(oe/1e3),ke=Math.floor(ne/60);return ke=ke%60,"".concat(ke<0?0:ke)}return S.createElement("div",{className:"participant-view"},S.createElement("div",{className:"participant-view__main"},S.createElement(p,null),S.createElement("div",{className:"video-wrapper"},S.createElement("video",{className:"participant-view__video",ref:u,playsInline:!0,autoPlay:!0,controls:gge()})),S.createElement("div",{className:"participant-view__info"},S.createElement("div",{className:"participant-view__profile"},P?S.createElement("img",{src:P,alt:"cover image",className:"participant-view__profile__cover-image"}):S.createElement(Sh,{viewBox:"-4 -4 20 20",width:56,height:56})),S.createElement("div",{className:"participant-view__info__wrapper"},S.createElement("div",{className:"participant-view__title__wrapper"},S.createElement("div",{className:"event-state--".concat(U)},je(U)),S.createElement("div",{className:"participant-view__title"},k||ge.CREATE_EVENT_DEFAULT_TITLE)),S.createElement("div",{className:"participant-view__detail"},V!=null?V:0," watching now ",U===Jt.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(Ze(t.duration)," mins ago"):""),S.createElement("div",{className:"participant-view__host-name"},y?y.nickname||" ":"No Host")))),S.createElement(_P,{liveEvent:t}),S.createElement(ye,null,S.createElement(fge,{onClose:ze})))}var vge=`.enter-view {
  width: 480px;
}
.enter-view .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 26px;
}
.enter-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.enter-view .enter-view__item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  border-radius: 4px;
  border: solid 1px rgba(0, 0, 0, 0.12);
  padding: 22px 24px 22px 22px;
  cursor: pointer;
}
.enter-view .enter-view__item .enter-view__item__icon {
  width: 28px;
  height: 28px;
  margin-right: 22px;
}
.enter-view .enter-view__item .enter-view__item__text {
  font-size: 16px;
  line-height: 1.38;
  color: rgba(0, 0, 0, 0.88);
}`;gi(vge);function _ge(e){var n=this,t=e.liveEventId,r=e.onClose,s=de.exports.useContext(to).stringSet,u=function(){return di(n,void 0,void 0,function(){var p;return hi(this,function(g){switch(g.label){case 0:return[4,Jt.exports.SendbirdLive.getLiveEvent(t)];case 1:return p=g.sent(),[4,p.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return g.sent(),r(p,!0),[2]}})})},d=function(){return di(n,void 0,void 0,function(){var p;return hi(this,function(g){switch(g.label){case 0:return[4,Jt.exports.SendbirdLive.getLiveEvent(t)];case 1:return p=g.sent(),[4,p.enter()];case 2:return g.sent(),r(p,!1),[2]}})})};return S.createElement("div",{className:"enter-view"},S.createElement("div",{className:"close",onClick:function(){return r()}},S.createElement(io,{width:22,height:22,viewBox:"0 0 60 60"})),S.createElement("div",{className:"title"},s.LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE),S.createElement("div",{className:"enter-view__item",onClick:u},S.createElement("div",{className:"enter-view__item__icon"},S.createElement(mP,{viewBox:"0 0 64 64",width:28,height:28})),S.createElement("div",{className:"enter-view__item__text"},s.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST)),S.createElement("div",{className:"enter-view__item",onClick:d},S.createElement("div",{className:"enter-view__item__icon"},S.createElement(vP,{viewBox:"0 0 64 64",width:28,height:28})),S.createElement("div",{className:"enter-view__item__text"},s.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT)))}var bge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.enter-error-view {
  width: 480px;
}
.enter-error-view .header {
  display: flex;
  align-items: center;
}
.enter-error-view .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: bold;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.enter-error-view .header .close:hover {
  cursor: pointer;
}
.enter-error-view .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.enter-error-view .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.enter-error-view .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.enter-error-view .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
  background-color: #742ddd;
}`;gi(bge);function yge(e){var n=e.liveEvent,t=e.onClose,r=de.exports.useContext(to).stringSet,s=de.exports.useMemo(function(){return n&&n.state===Jt.exports.LiveEventState.CREATED?r.LIVE_EVENT_ENTER_ALERT_DESCRIPTION:(console.log(n),r.UNKNOWN_ERROR_ALERT_DESCRIPTION)},[n]);return S.createElement("div",{className:"enter-error-view"},S.createElement("div",{className:"header"},S.createElement("div",{className:"title"},s),S.createElement("div",{className:"close",onClick:function(){return t()}},S.createElement(io,{width:22,height:22,viewBox:"0 0 60 60"}))),S.createElement("div",{className:"buttons"},S.createElement("div",{className:"major-button",onClick:function(){return t()}},"OK")))}function Ege(e){var n=this,t=e.userId,r=e.appId,s=e.nickname,u=e.accessToken,d=e.customApiHost,p=e.customWebSocketHost,g=e.theme,_=e.colorSet,y=e.stringSet,E=e.customize,x=de.exports.useState(!1),k=x[0],T=x[1],I=de.exports.useState(""),P=I[0],N=I[1],O=de.exports.useState(),U=O[0],L=O[1],ee=Wl(""),V=ee[0],J=ee[1],Y=ee[2],ye=Wl(""),ve=ye[0],Ue=ye[1],Ne=ye[2],ce=Wl(""),Ee=ce[0],ge=ce[1],je=ce[2],Xe=Vl(Vl({},E==null?void 0:E.liveEventList),{onClickCreate:function(){J()},onClickElem:function(ze){return di(n,void 0,void 0,function(){var Ze;return hi(this,function(oe){switch(oe.label){case 0:return oe.trys.push([0,8,,9]),[4,Jt.exports.SendbirdLive.getLiveEvent(ze.liveEventId)];case 1:return Ze=oe.sent(),Ze.state===Jt.exports.LiveEventState.ENDED?(ge(),[2]):Ze.isHost&&!Ze.host?Ze.state!==Jt.exports.LiveEventState.CREATED?[3,3]:[4,Ze.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})]:[3,5];case 2:return oe.sent(),T(!0),L(Ze),[3,4];case 3:N(ze.liveEventId),Ue(),oe.label=4;case 4:return[3,7];case 5:return[4,Ze.enter()];case 6:oe.sent(),L(Ze),oe.label=7;case 7:return[3,9];case 8:return oe.sent(),ge(),[3,9];case 9:return[2]}})})}}),Te=function(ze){var Ze=ze.onClose;return U?k?S.createElement(lge,{liveEvent:U,onClose:Ze}):S.createElement(mge,{liveEvent:U,onClose:Ze}):S.createElement("div",{className:"sendbirdlive-app__no-event"},S.createElement("div",{className:"sendbirdlive-app__no-event__title"},"No live events selected"),S.createElement("div",{className:"sendbirdlive-app__no-event__description"},"Select a live event from the list or create a live event."),S.createElement("div",{className:"sendbirdlive-app__no-event__button",onClick:J},"Create"))};return S.createElement(Yle,{userId:t,appId:r,nickname:s,accessToken:u,customApiHost:d,customWebSocketHost:p,theme:g,colorSet:_,stringSet:y},S.createElement("div",{className:"sendbirdlive-app__wrapper"},S.createElement("div",{className:"sendbirdlive-app__liveeventlist__wrapper"},!k&&S.createElement(nue,Vl({},Xe))),S.createElement(Ee,null,S.createElement(yge,{liveEvent:U,onClose:je})),S.createElement(ve,null,S.createElement(_ge,{liveEventId:P,onClose:function(ze,Ze){L(ze),ze&&Ze&&T(!0),Ne()}})),S.createElement(V,null,S.createElement(Efe,{onClose:function(ze){L(ze),ze!=null&&ze.isHost&&T(!0),Y()}})),S.createElement(Te,{onClose:function(){T(!1),L(void 0)}})))}function wge(){const[e,n]=de.exports.useState(""),[t,r]=de.exports.useState(""),[s,u]=de.exports.useState(""),[d,p]=de.exports.useState(!1),g=new URLSearchParams(ate().search);return de.exports.useEffect(()=>{let _={};const y=g.get("q");if(y)try{_=JSON.parse(atob(y)),_.app_id&&n(_.app_id),_.user_id&&r(_.user_id),_.access_token&&u(_.access_token),p(!0)}catch{console.error("incorrect auth query")}},[]),se("div",{className:"App",children:d?se(Ege,{appId:e,userId:t,nickname:t,accessToken:s||null}):nr("div",{className:"login-panel",children:[se("img",{src:"./logo.png",className:"logo"}),nr("div",{className:"login-form",children:[se("div",{className:"section",children:"Application ID"}),se("input",{type:"text",className:"input",placeholder:"Application ID",value:e,onChange:_=>n(_.target.value)}),se("div",{className:"section",children:"User ID"}),se("input",{type:"text",className:"input",placeholder:"User ID",value:t,onChange:_=>r(_.target.value)}),se("div",{className:"section",children:"Access token (optional)"}),se("input",{type:"password",className:"input",placeholder:"Access token (optional)",value:s,onChange:_=>u(_.target.value)}),se("input",{type:"button",className:"submit",value:"Sign in",onClick:()=>p(!0)})]}),se("img",{src:"./logo-b.png",className:"logo-horizontal"})]})})}h2.createRoot(document.getElementById("root")).render(se(S.StrictMode,{children:se(wge,{})}));
