(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function ote(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Oe={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_=Symbol.for("react.element"),lte=Symbol.for("react.portal"),dte=Symbol.for("react.fragment"),cte=Symbol.for("react.strict_mode"),ute=Symbol.for("react.profiler"),hte=Symbol.for("react.provider"),pte=Symbol.for("react.context"),fte=Symbol.for("react.forward_ref"),_te=Symbol.for("react.suspense"),mte=Symbol.for("react.memo"),vte=Symbol.for("react.lazy"),rA=Symbol.iterator;function gte(n){return n===null||typeof n!="object"?null:(n=rA&&n[rA]||n["@@iterator"],typeof n=="function"?n:null)}var w7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x7=Object.assign,k7={};function N0(n,t,e){this.props=n,this.context=t,this.refs=k7,this.updater=e||w7}N0.prototype.isReactComponent={};N0.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};N0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function S7(){}S7.prototype=N0.prototype;function v6(n,t,e){this.props=n,this.context=t,this.refs=k7,this.updater=e||w7}var g6=v6.prototype=new S7;g6.constructor=v6;x7(g6,N0.prototype);g6.isPureReactComponent=!0;var iA=Array.isArray,T7=Object.prototype.hasOwnProperty,b6={current:null},C7={key:!0,ref:!0,__self:!0,__source:!0};function I7(n,t,e){var r,a={},o=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(o=""+t.key),t)T7.call(t,r)&&!C7.hasOwnProperty(r)&&(a[r]=t[r]);var h=arguments.length-2;if(h===1)a.children=e;else if(1<h){for(var f=Array(h),m=0;m<h;m++)f[m]=arguments[m+2];a.children=f}if(n&&n.defaultProps)for(r in h=n.defaultProps,h)a[r]===void 0&&(a[r]=h[r]);return{$$typeof:k_,type:n,key:o,ref:c,props:a,_owner:b6.current}}function bte(n,t){return{$$typeof:k_,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function y6(n){return typeof n=="object"&&n!==null&&n.$$typeof===k_}function yte(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var aA=/\/+/g;function jE(n,t){return typeof n=="object"&&n!==null&&n.key!=null?yte(""+n.key):t.toString(36)}function rg(n,t,e,r,a){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var c=!1;if(n===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case k_:case lte:c=!0}}if(c)return c=n,a=a(c),n=r===""?"."+jE(c,0):r,iA(a)?(e="",n!=null&&(e=n.replace(aA,"$&/")+"/"),rg(a,t,e,"",function(m){return m})):a!=null&&(y6(a)&&(a=bte(a,e+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(aA,"$&/")+"/")+n)),t.push(a)),1;if(c=0,r=r===""?".":r+":",iA(n))for(var h=0;h<n.length;h++){o=n[h];var f=r+jE(o,h);c+=rg(o,t,e,f,a)}else if(f=gte(n),typeof f=="function")for(n=f.call(n),h=0;!(o=n.next()).done;)o=o.value,f=r+jE(o,h++),c+=rg(o,t,e,f,a);else if(o==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function fv(n,t,e){if(n==null)return n;var r=[],a=0;return rg(n,r,"","",function(o){return t.call(e,o,a++)}),r}function Ete(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Ka={current:null},ig={transition:null},wte={ReactCurrentDispatcher:Ka,ReactCurrentBatchConfig:ig,ReactCurrentOwner:b6};er.Children={map:fv,forEach:function(n,t,e){fv(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return fv(n,function(){t++}),t},toArray:function(n){return fv(n,function(t){return t})||[]},only:function(n){if(!y6(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};er.Component=N0;er.Fragment=dte;er.Profiler=ute;er.PureComponent=v6;er.StrictMode=cte;er.Suspense=_te;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wte;er.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=x7({},n.props),a=n.key,o=n.ref,c=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,c=b6.current),t.key!==void 0&&(a=""+t.key),n.type&&n.type.defaultProps)var h=n.type.defaultProps;for(f in t)T7.call(t,f)&&!C7.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&h!==void 0?h[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=e;else if(1<f){h=Array(f);for(var m=0;m<f;m++)h[m]=arguments[m+2];r.children=h}return{$$typeof:k_,type:n.type,key:a,ref:o,props:r,_owner:c}};er.createContext=function(n){return n={$$typeof:pte,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:hte,_context:n},n.Consumer=n};er.createElement=I7;er.createFactory=function(n){var t=I7.bind(null,n);return t.type=n,t};er.createRef=function(){return{current:null}};er.forwardRef=function(n){return{$$typeof:fte,render:n}};er.isValidElement=y6;er.lazy=function(n){return{$$typeof:vte,_payload:{_status:-1,_result:n},_init:Ete}};er.memo=function(n,t){return{$$typeof:mte,type:n,compare:t===void 0?null:t}};er.startTransition=function(n){var t=ig.transition;ig.transition={};try{n()}finally{ig.transition=t}};er.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};er.useCallback=function(n,t){return Ka.current.useCallback(n,t)};er.useContext=function(n){return Ka.current.useContext(n)};er.useDebugValue=function(){};er.useDeferredValue=function(n){return Ka.current.useDeferredValue(n)};er.useEffect=function(n,t){return Ka.current.useEffect(n,t)};er.useId=function(){return Ka.current.useId()};er.useImperativeHandle=function(n,t,e){return Ka.current.useImperativeHandle(n,t,e)};er.useInsertionEffect=function(n,t){return Ka.current.useInsertionEffect(n,t)};er.useLayoutEffect=function(n,t){return Ka.current.useLayoutEffect(n,t)};er.useMemo=function(n,t){return Ka.current.useMemo(n,t)};er.useReducer=function(n,t,e){return Ka.current.useReducer(n,t,e)};er.useRef=function(n){return Ka.current.useRef(n)};er.useState=function(n){return Ka.current.useState(n)};er.useSyncExternalStore=function(n,t,e){return Ka.current.useSyncExternalStore(n,t,e)};er.useTransition=function(){return Ka.current.useTransition()};er.version="18.2.0";(function(n){n.exports=er})(Oe);const R=ote(Oe.exports);var _w={},A0={exports:{}},Ds={},N7={exports:{}},A7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(ie,se){var me=ie.length;ie.push(se);e:for(;0<me;){var Me=me-1>>>1,de=ie[Me];if(0<a(de,se))ie[Me]=se,ie[me]=de,me=Me;else break e}}function e(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var se=ie[0],me=ie.pop();if(me!==se){ie[0]=me;e:for(var Me=0,de=ie.length,ue=de>>>1;Me<ue;){var V=2*(Me+1)-1,Q=ie[V],$=V+1,ne=ie[$];if(0>a(Q,me))$<de&&0>a(ne,Q)?(ie[Me]=ne,ie[$]=me,Me=$):(ie[Me]=Q,ie[V]=me,Me=V);else if($<de&&0>a(ne,me))ie[Me]=ne,ie[$]=me,Me=$;else break e}}return se}function a(ie,se){var me=ie.sortIndex-se.sortIndex;return me!==0?me:ie.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],v=1,y=null,w=3,x=!1,C=!1,A=!1,L=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ie){for(var se=e(m);se!==null;){if(se.callback===null)r(m);else if(se.startTime<=ie)r(m),se.sortIndex=se.expirationTime,t(f,se);else break;se=e(m)}}function O(ie){if(A=!1,N(ie),!C)if(e(f)!==null)C=!0,j(H);else{var se=e(m);se!==null&&_e(O,se.startTime-ie)}}function H(ie,se){C=!1,A&&(A=!1,S(M),M=-1),x=!0;var me=w;try{for(N(se),y=e(f);y!==null&&(!(y.expirationTime>se)||ie&&!te());){var Me=y.callback;if(typeof Me=="function"){y.callback=null,w=y.priorityLevel;var de=Me(y.expirationTime<=se);se=n.unstable_now(),typeof de=="function"?y.callback=de:y===e(f)&&r(f),N(se)}else r(f);y=e(f)}if(y!==null)var ue=!0;else{var V=e(m);V!==null&&_e(O,V.startTime-se),ue=!1}return ue}finally{y=null,w=me,x=!1}}var D=!1,T=null,M=-1,q=5,z=-1;function te(){return!(n.unstable_now()-z<q)}function he(){if(T!==null){var ie=n.unstable_now();z=ie;var se=!0;try{se=T(!0,ie)}finally{se?B():(D=!1,T=null)}}else D=!1}var B;if(typeof k=="function")B=function(){k(he)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,re=W.port2;W.port1.onmessage=he,B=function(){re.postMessage(null)}}else B=function(){L(he,0)};function j(ie){T=ie,D||(D=!0,B())}function _e(ie,se){M=L(function(){ie(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){C||x||(C=!0,j(H))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(ie){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var me=w;w=se;try{return ie()}finally{w=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,se){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var me=w;w=ie;try{return se()}finally{w=me}},n.unstable_scheduleCallback=function(ie,se,me){var Me=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,ie){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=me+de,ie={id:v++,callback:se,priorityLevel:ie,startTime:me,expirationTime:de,sortIndex:-1},me>Me?(ie.sortIndex=me,t(m,ie),e(f)===null&&ie===e(m)&&(A?(S(M),M=-1):A=!0,_e(O,me-Me))):(ie.sortIndex=de,t(f,ie),C||x||(C=!0,j(H))),ie},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(ie){var se=w;return function(){var me=w;w=se;try{return ie.apply(this,arguments)}finally{w=me}}}})(A7);(function(n){n.exports=A7})(N7);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O7=Oe.exports,Rs=N7.exports;function Ln(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R7=new Set,Wf={};function ju(n,t){p0(n,t),p0(n+"Capture",t)}function p0(n,t){for(Wf[n]=t,n=0;n<t.length;n++)R7.add(t[n])}var ad=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mw=Object.prototype.hasOwnProperty,xte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sA={},oA={};function kte(n){return mw.call(oA,n)?!0:mw.call(sA,n)?!1:xte.test(n)?oA[n]=!0:(sA[n]=!0,!1)}function Ste(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Tte(n,t,e,r){if(t===null||typeof t>"u"||Ste(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wa(n,t,e,r,a,o,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=c}var pa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){pa[n]=new Wa(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];pa[t]=new Wa(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){pa[n]=new Wa(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){pa[n]=new Wa(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){pa[n]=new Wa(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){pa[n]=new Wa(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){pa[n]=new Wa(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){pa[n]=new Wa(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){pa[n]=new Wa(n,5,!1,n.toLowerCase(),null,!1,!1)});var E6=/[\-:]([a-z])/g;function w6(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(E6,w6);pa[t]=new Wa(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(E6,w6);pa[t]=new Wa(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(E6,w6);pa[t]=new Wa(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){pa[n]=new Wa(n,1,!1,n.toLowerCase(),null,!1,!1)});pa.xlinkHref=new Wa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){pa[n]=new Wa(n,1,!1,n.toLowerCase(),null,!0,!0)});function x6(n,t,e,r){var a=pa.hasOwnProperty(t)?pa[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tte(t,e,a,r)&&(e=null),r||a===null?kte(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):a.mustUseProperty?n[a.propertyName]=e===null?a.type===3?!1:"":e:(t=a.attributeName,r=a.attributeNamespace,e===null?n.removeAttribute(t):(a=a.type,e=a===3||a===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var cd=O7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_v=Symbol.for("react.element"),zh=Symbol.for("react.portal"),Vh=Symbol.for("react.fragment"),k6=Symbol.for("react.strict_mode"),vw=Symbol.for("react.profiler"),M7=Symbol.for("react.provider"),D7=Symbol.for("react.context"),S6=Symbol.for("react.forward_ref"),gw=Symbol.for("react.suspense"),bw=Symbol.for("react.suspense_list"),T6=Symbol.for("react.memo"),jd=Symbol.for("react.lazy"),L7=Symbol.for("react.offscreen"),lA=Symbol.iterator;function Fp(n){return n===null||typeof n!="object"?null:(n=lA&&n[lA]||n["@@iterator"],typeof n=="function"?n:null)}var hi=Object.assign,KE;function af(n){if(KE===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);KE=t&&t[1]||""}return`
`+KE+n}var WE=!1;function QE(n,t){if(!n||WE)return"";WE=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(n,[],t)}else{try{t.call()}catch(m){r=m}n.call(t.prototype)}else{try{throw Error()}catch(m){r=m}n()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),o=r.stack.split(`
`),c=a.length-1,h=o.length-1;1<=c&&0<=h&&a[c]!==o[h];)h--;for(;1<=c&&0<=h;c--,h--)if(a[c]!==o[h]){if(c!==1||h!==1)do if(c--,h--,0>h||a[c]!==o[h]){var f=`
`+a[c].replace(" at new "," at ");return n.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",n.displayName)),f}while(1<=c&&0<=h);break}}}finally{WE=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?af(n):""}function Cte(n){switch(n.tag){case 5:return af(n.type);case 16:return af("Lazy");case 13:return af("Suspense");case 19:return af("SuspenseList");case 0:case 2:case 15:return n=QE(n.type,!1),n;case 11:return n=QE(n.type.render,!1),n;case 1:return n=QE(n.type,!0),n;default:return""}}function yw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Vh:return"Fragment";case zh:return"Portal";case vw:return"Profiler";case k6:return"StrictMode";case gw:return"Suspense";case bw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D7:return(n.displayName||"Context")+".Consumer";case M7:return(n._context.displayName||"Context")+".Provider";case S6:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case T6:return t=n.displayName||null,t!==null?t:yw(n.type)||"Memo";case jd:t=n._payload,n=n._init;try{return yw(n(t))}catch{}}return null}function Ite(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yw(t);case 8:return t===k6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function U7(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nte(n){var t=U7(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var a=e.get,o=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return a.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function mv(n){n._valueTracker||(n._valueTracker=Nte(n))}function P7(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=U7(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function Rg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ew(n,t){var e=t.checked;return hi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e!=null?e:n._wrapperState.initialChecked})}function dA(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=gc(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function F7(n,t){t=t.checked,t!=null&&x6(n,"checked",t,!1)}function ww(n,t){F7(n,t);var e=gc(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?xw(n,t.type,e):t.hasOwnProperty("defaultValue")&&xw(n,t.type,gc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function cA(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function xw(n,t,e){(t!=="number"||Rg(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var sf=Array.isArray;function a0(n,t,e,r){if(n=n.options,t){t={};for(var a=0;a<e.length;a++)t["$"+e[a]]=!0;for(e=0;e<n.length;e++)a=t.hasOwnProperty("$"+n[e].value),n[e].selected!==a&&(n[e].selected=a),a&&r&&(n[e].defaultSelected=!0)}else{for(e=""+gc(e),t=null,a=0;a<n.length;a++){if(n[a].value===e){n[a].selected=!0,r&&(n[a].defaultSelected=!0);return}t!==null||n[a].disabled||(t=n[a])}t!==null&&(t.selected=!0)}}function kw(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ln(91));return hi({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function uA(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Ln(92));if(sf(e)){if(1<e.length)throw Error(Ln(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:gc(e)}}function H7(n,t){var e=gc(t.value),r=gc(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function hA(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function B7(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sw(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?B7(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var vv,$7=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,a){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,a)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(vv=vv||document.createElement("div"),vv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function Qf(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var vf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ate=["Webkit","ms","Moz","O"];Object.keys(vf).forEach(function(n){Ate.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),vf[t]=vf[n]})});function z7(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||vf.hasOwnProperty(n)&&vf[n]?(""+t).trim():t+"px"}function V7(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,a=z7(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,a):n[e]=a}}var Ote=hi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tw(n,t){if(t){if(Ote[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ln(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ln(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ln(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ln(62))}}function Cw(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iw=null;function C6(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Nw=null,s0=null,o0=null;function pA(n){if(n=C_(n)){if(typeof Nw!="function")throw Error(Ln(280));var t=n.stateNode;t&&(t=Nb(t),Nw(n.stateNode,n.type,t))}}function G7(n){s0?o0?o0.push(n):o0=[n]:s0=n}function q7(){if(s0){var n=s0,t=o0;if(o0=s0=null,pA(n),t)for(n=0;n<t.length;n++)pA(t[n])}}function j7(n,t){return n(t)}function K7(){}var YE=!1;function W7(n,t,e){if(YE)return n(t,e);YE=!0;try{return j7(n,t,e)}finally{YE=!1,(s0!==null||o0!==null)&&(K7(),q7())}}function Yf(n,t){var e=n.stateNode;if(e===null)return null;var r=Nb(e);if(r===null)return null;e=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(Ln(231,t,typeof e));return e}var Aw=!1;if(ad)try{var Hp={};Object.defineProperty(Hp,"passive",{get:function(){Aw=!0}}),window.addEventListener("test",Hp,Hp),window.removeEventListener("test",Hp,Hp)}catch{Aw=!1}function Rte(n,t,e,r,a,o,c,h,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(e,m)}catch(v){this.onError(v)}}var gf=!1,Mg=null,Dg=!1,Ow=null,Mte={onError:function(n){gf=!0,Mg=n}};function Dte(n,t,e,r,a,o,c,h,f){gf=!1,Mg=null,Rte.apply(Mte,arguments)}function Lte(n,t,e,r,a,o,c,h,f){if(Dte.apply(this,arguments),gf){if(gf){var m=Mg;gf=!1,Mg=null}else throw Error(Ln(198));Dg||(Dg=!0,Ow=m)}}function Ku(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,(t.flags&4098)!==0&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function Q7(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function fA(n){if(Ku(n)!==n)throw Error(Ln(188))}function Ute(n){var t=n.alternate;if(!t){if(t=Ku(n),t===null)throw Error(Ln(188));return t!==n?null:n}for(var e=n,r=t;;){var a=e.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){e=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===e)return fA(a),n;if(o===r)return fA(a),t;o=o.sibling}throw Error(Ln(188))}if(e.return!==r.return)e=a,r=o;else{for(var c=!1,h=a.child;h;){if(h===e){c=!0,e=a,r=o;break}if(h===r){c=!0,r=a,e=o;break}h=h.sibling}if(!c){for(h=o.child;h;){if(h===e){c=!0,e=o,r=a;break}if(h===r){c=!0,r=o,e=a;break}h=h.sibling}if(!c)throw Error(Ln(189))}}if(e.alternate!==r)throw Error(Ln(190))}if(e.tag!==3)throw Error(Ln(188));return e.stateNode.current===e?n:t}function Y7(n){return n=Ute(n),n!==null?X7(n):null}function X7(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=X7(n);if(t!==null)return t;n=n.sibling}return null}var Z7=Rs.unstable_scheduleCallback,_A=Rs.unstable_cancelCallback,Pte=Rs.unstable_shouldYield,Fte=Rs.unstable_requestPaint,ki=Rs.unstable_now,Hte=Rs.unstable_getCurrentPriorityLevel,I6=Rs.unstable_ImmediatePriority,J7=Rs.unstable_UserBlockingPriority,Lg=Rs.unstable_NormalPriority,Bte=Rs.unstable_LowPriority,eD=Rs.unstable_IdlePriority,Sb=null,ul=null;function $te(n){if(ul&&typeof ul.onCommitFiberRoot=="function")try{ul.onCommitFiberRoot(Sb,n,void 0,(n.current.flags&128)===128)}catch{}}var Io=Math.clz32?Math.clz32:Gte,zte=Math.log,Vte=Math.LN2;function Gte(n){return n>>>=0,n===0?32:31-(zte(n)/Vte|0)|0}var gv=64,bv=4194304;function of(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ug(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,a=n.suspendedLanes,o=n.pingedLanes,c=e&268435455;if(c!==0){var h=c&~a;h!==0?r=of(h):(o&=c,o!==0&&(r=of(o)))}else c=e&~a,c!==0?r=of(c):o!==0&&(r=of(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&a)===0&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-Io(t),a=1<<e,r|=n[e],t&=~a;return r}function qte(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jte(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,a=n.expirationTimes,o=n.pendingLanes;0<o;){var c=31-Io(o),h=1<<c,f=a[c];f===-1?((h&e)===0||(h&r)!==0)&&(a[c]=qte(h,t)):f<=t&&(n.expiredLanes|=h),o&=~h}}function Rw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function nD(){var n=gv;return gv<<=1,(gv&4194240)===0&&(gv=64),n}function XE(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function S_(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Io(t),n[t]=e}function Kte(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var a=31-Io(e),o=1<<a;t[a]=0,r[a]=-1,n[a]=-1,e&=~o}}function N6(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-Io(e),a=1<<r;a&t|n[r]&t&&(n[r]|=t),e&=~a}}var Or=0;function tD(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var rD,A6,iD,aD,sD,Mw=!1,yv=[],rc=null,ic=null,ac=null,Xf=new Map,Zf=new Map,Wd=[],Wte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mA(n,t){switch(n){case"focusin":case"focusout":rc=null;break;case"dragenter":case"dragleave":ic=null;break;case"mouseover":case"mouseout":ac=null;break;case"pointerover":case"pointerout":Xf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zf.delete(t.pointerId)}}function Bp(n,t,e,r,a,o){return n===null||n.nativeEvent!==o?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=C_(t),t!==null&&A6(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),n)}function Qte(n,t,e,r,a){switch(t){case"focusin":return rc=Bp(rc,n,t,e,r,a),!0;case"dragenter":return ic=Bp(ic,n,t,e,r,a),!0;case"mouseover":return ac=Bp(ac,n,t,e,r,a),!0;case"pointerover":var o=a.pointerId;return Xf.set(o,Bp(Xf.get(o)||null,n,t,e,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Zf.set(o,Bp(Zf.get(o)||null,n,t,e,r,a)),!0}return!1}function oD(n){var t=bu(n.target);if(t!==null){var e=Ku(t);if(e!==null){if(t=e.tag,t===13){if(t=Q7(e),t!==null){n.blockedOn=t,sD(n.priority,function(){iD(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ag(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Dw(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);Iw=r,e.target.dispatchEvent(r),Iw=null}else return t=C_(e),t!==null&&A6(t),n.blockedOn=e,!1;t.shift()}return!0}function vA(n,t,e){ag(n)&&e.delete(t)}function Yte(){Mw=!1,rc!==null&&ag(rc)&&(rc=null),ic!==null&&ag(ic)&&(ic=null),ac!==null&&ag(ac)&&(ac=null),Xf.forEach(vA),Zf.forEach(vA)}function $p(n,t){n.blockedOn===t&&(n.blockedOn=null,Mw||(Mw=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,Yte)))}function Jf(n){function t(a){return $p(a,n)}if(0<yv.length){$p(yv[0],n);for(var e=1;e<yv.length;e++){var r=yv[e];r.blockedOn===n&&(r.blockedOn=null)}}for(rc!==null&&$p(rc,n),ic!==null&&$p(ic,n),ac!==null&&$p(ac,n),Xf.forEach(t),Zf.forEach(t),e=0;e<Wd.length;e++)r=Wd[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<Wd.length&&(e=Wd[0],e.blockedOn===null);)oD(e),e.blockedOn===null&&Wd.shift()}var l0=cd.ReactCurrentBatchConfig,Pg=!0;function Xte(n,t,e,r){var a=Or,o=l0.transition;l0.transition=null;try{Or=1,O6(n,t,e,r)}finally{Or=a,l0.transition=o}}function Zte(n,t,e,r){var a=Or,o=l0.transition;l0.transition=null;try{Or=4,O6(n,t,e,r)}finally{Or=a,l0.transition=o}}function O6(n,t,e,r){if(Pg){var a=Dw(n,t,e,r);if(a===null)o3(n,t,r,Fg,e),mA(n,r);else if(Qte(a,n,t,e,r))r.stopPropagation();else if(mA(n,r),t&4&&-1<Wte.indexOf(n)){for(;a!==null;){var o=C_(a);if(o!==null&&rD(o),o=Dw(n,t,e,r),o===null&&o3(n,t,r,Fg,e),o===a)break;a=o}a!==null&&r.stopPropagation()}else o3(n,t,r,null,e)}}var Fg=null;function Dw(n,t,e,r){if(Fg=null,n=C6(r),n=bu(n),n!==null)if(t=Ku(n),t===null)n=null;else if(e=t.tag,e===13){if(n=Q7(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Fg=n,null}function lD(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hte()){case I6:return 1;case J7:return 4;case Lg:case Bte:return 16;case eD:return 536870912;default:return 16}default:return 16}}var Xd=null,R6=null,sg=null;function dD(){if(sg)return sg;var n,t=R6,e=t.length,r,a="value"in Xd?Xd.value:Xd.textContent,o=a.length;for(n=0;n<e&&t[n]===a[n];n++);var c=e-n;for(r=1;r<=c&&t[e-r]===a[o-r];r++);return sg=a.slice(n,1<r?1-r:void 0)}function og(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Ev(){return!0}function gA(){return!1}function Ls(n){function t(e,r,a,o,c){this._reactName=e,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var h in n)n.hasOwnProperty(h)&&(e=n[h],this[h]=e?e(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ev:gA,this.isPropagationStopped=gA,this}return hi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Ev)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Ev)},persist:function(){},isPersistent:Ev}),t}var O0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M6=Ls(O0),T_=hi({},O0,{view:0,detail:0}),Jte=Ls(T_),ZE,JE,zp,Tb=hi({},T_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D6,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zp&&(zp&&n.type==="mousemove"?(ZE=n.screenX-zp.screenX,JE=n.screenY-zp.screenY):JE=ZE=0,zp=n),ZE)},movementY:function(n){return"movementY"in n?n.movementY:JE}}),bA=Ls(Tb),ere=hi({},Tb,{dataTransfer:0}),nre=Ls(ere),tre=hi({},T_,{relatedTarget:0}),e3=Ls(tre),rre=hi({},O0,{animationName:0,elapsedTime:0,pseudoElement:0}),ire=Ls(rre),are=hi({},O0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sre=Ls(are),ore=hi({},O0,{data:0}),yA=Ls(ore),lre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ure(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=cre[n])?!!t[n]:!1}function D6(){return ure}var hre=hi({},T_,{key:function(n){if(n.key){var t=lre[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=og(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dre[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D6,charCode:function(n){return n.type==="keypress"?og(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?og(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pre=Ls(hre),fre=hi({},Tb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EA=Ls(fre),_re=hi({},T_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D6}),mre=Ls(_re),vre=hi({},O0,{propertyName:0,elapsedTime:0,pseudoElement:0}),gre=Ls(vre),bre=hi({},Tb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),yre=Ls(bre),Ere=[9,13,27,32],L6=ad&&"CompositionEvent"in window,bf=null;ad&&"documentMode"in document&&(bf=document.documentMode);var wre=ad&&"TextEvent"in window&&!bf,cD=ad&&(!L6||bf&&8<bf&&11>=bf),wA=String.fromCharCode(32),xA=!1;function uD(n,t){switch(n){case"keyup":return Ere.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hD(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gh=!1;function xre(n,t){switch(n){case"compositionend":return hD(t);case"keypress":return t.which!==32?null:(xA=!0,wA);case"textInput":return n=t.data,n===wA&&xA?null:n;default:return null}}function kre(n,t){if(Gh)return n==="compositionend"||!L6&&uD(n,t)?(n=dD(),sg=R6=Xd=null,Gh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cD&&t.locale!=="ko"?null:t.data;default:return null}}var Sre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kA(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!Sre[n.type]:t==="textarea"}function pD(n,t,e,r){G7(r),t=Hg(t,"onChange"),0<t.length&&(e=new M6("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var yf=null,e_=null;function Tre(n){kD(n,0)}function Cb(n){var t=Kh(n);if(P7(t))return n}function Cre(n,t){if(n==="change")return t}var fD=!1;if(ad){var n3;if(ad){var t3="oninput"in document;if(!t3){var SA=document.createElement("div");SA.setAttribute("oninput","return;"),t3=typeof SA.oninput=="function"}n3=t3}else n3=!1;fD=n3&&(!document.documentMode||9<document.documentMode)}function TA(){yf&&(yf.detachEvent("onpropertychange",_D),e_=yf=null)}function _D(n){if(n.propertyName==="value"&&Cb(e_)){var t=[];pD(t,e_,n,C6(n)),W7(Tre,t)}}function Ire(n,t,e){n==="focusin"?(TA(),yf=t,e_=e,yf.attachEvent("onpropertychange",_D)):n==="focusout"&&TA()}function Nre(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cb(e_)}function Are(n,t){if(n==="click")return Cb(t)}function Ore(n,t){if(n==="input"||n==="change")return Cb(t)}function Rre(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Ao=typeof Object.is=="function"?Object.is:Rre;function n_(n,t){if(Ao(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var a=e[r];if(!mw.call(t,a)||!Ao(n[a],t[a]))return!1}return!0}function CA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function IA(n,t){var e=CA(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=CA(e)}}function mD(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?mD(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function vD(){for(var n=window,t=Rg();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=Rg(n.document)}return t}function U6(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function Mre(n){var t=vD(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&mD(e.ownerDocument.documentElement,e)){if(r!==null&&U6(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var a=e.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!n.extend&&o>r&&(a=r,r=o,o=a),a=IA(e,o);var c=IA(e,r);a&&c&&(n.rangeCount!==1||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==c.node||n.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),n.removeAllRanges(),o>r?(n.addRange(t),n.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Dre=ad&&"documentMode"in document&&11>=document.documentMode,qh=null,Lw=null,Ef=null,Uw=!1;function NA(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Uw||qh==null||qh!==Rg(r)||(r=qh,"selectionStart"in r&&U6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ef&&n_(Ef,r)||(Ef=r,r=Hg(Lw,"onSelect"),0<r.length&&(t=new M6("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=qh)))}function wv(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var jh={animationend:wv("Animation","AnimationEnd"),animationiteration:wv("Animation","AnimationIteration"),animationstart:wv("Animation","AnimationStart"),transitionend:wv("Transition","TransitionEnd")},r3={},gD={};ad&&(gD=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);function Ib(n){if(r3[n])return r3[n];if(!jh[n])return n;var t=jh[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in gD)return r3[n]=t[e];return n}var bD=Ib("animationend"),yD=Ib("animationiteration"),ED=Ib("animationstart"),wD=Ib("transitionend"),xD=new Map,AA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kc(n,t){xD.set(n,t),ju(t,[n])}for(var i3=0;i3<AA.length;i3++){var a3=AA[i3],Lre=a3.toLowerCase(),Ure=a3[0].toUpperCase()+a3.slice(1);kc(Lre,"on"+Ure)}kc(bD,"onAnimationEnd");kc(yD,"onAnimationIteration");kc(ED,"onAnimationStart");kc("dblclick","onDoubleClick");kc("focusin","onFocus");kc("focusout","onBlur");kc(wD,"onTransitionEnd");p0("onMouseEnter",["mouseout","mouseover"]);p0("onMouseLeave",["mouseout","mouseover"]);p0("onPointerEnter",["pointerout","pointerover"]);p0("onPointerLeave",["pointerout","pointerover"]);ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pre=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function OA(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,Lte(r,t,void 0,n),n.currentTarget=null}function kD(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],f=h.instance,m=h.currentTarget;if(h=h.listener,f!==o&&a.isPropagationStopped())break e;OA(a,h,m),o=f}else for(c=0;c<r.length;c++){if(h=r[c],f=h.instance,m=h.currentTarget,h=h.listener,f!==o&&a.isPropagationStopped())break e;OA(a,h,m),o=f}}}if(Dg)throw n=Ow,Dg=!1,Ow=null,n}function Yr(n,t){var e=t[$w];e===void 0&&(e=t[$w]=new Set);var r=n+"__bubble";e.has(r)||(SD(t,n,2,!1),e.add(r))}function s3(n,t,e){var r=0;t&&(r|=4),SD(e,n,r,t)}var xv="_reactListening"+Math.random().toString(36).slice(2);function t_(n){if(!n[xv]){n[xv]=!0,R7.forEach(function(e){e!=="selectionchange"&&(Pre.has(e)||s3(e,!1,n),s3(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[xv]||(t[xv]=!0,s3("selectionchange",!1,t))}}function SD(n,t,e,r){switch(lD(t)){case 1:var a=Xte;break;case 4:a=Zte;break;default:a=O6}e=a.bind(null,t,e,n),a=void 0,!Aw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?n.addEventListener(t,e,{capture:!0,passive:a}):n.addEventListener(t,e,!0):a!==void 0?n.addEventListener(t,e,{passive:a}):n.addEventListener(t,e,!1)}function o3(n,t,e,r,a){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(c===4)for(c=r.return;c!==null;){var f=c.tag;if((f===3||f===4)&&(f=c.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;c=c.return}for(;h!==null;){if(c=bu(h),c===null)return;if(f=c.tag,f===5||f===6){r=o=c;continue e}h=h.parentNode}}r=r.return}W7(function(){var m=o,v=C6(e),y=[];e:{var w=xD.get(n);if(w!==void 0){var x=M6,C=n;switch(n){case"keypress":if(og(e)===0)break e;case"keydown":case"keyup":x=pre;break;case"focusin":C="focus",x=e3;break;case"focusout":C="blur",x=e3;break;case"beforeblur":case"afterblur":x=e3;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=bA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=nre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=mre;break;case bD:case yD:case ED:x=ire;break;case wD:x=gre;break;case"scroll":x=Jte;break;case"wheel":x=yre;break;case"copy":case"cut":case"paste":x=sre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=EA}var A=(t&4)!==0,L=!A&&n==="scroll",S=A?w!==null?w+"Capture":null:w;A=[];for(var k=m,N;k!==null;){N=k;var O=N.stateNode;if(N.tag===5&&O!==null&&(N=O,S!==null&&(O=Yf(k,S),O!=null&&A.push(r_(k,O,N)))),L)break;k=k.return}0<A.length&&(w=new x(w,C,null,e,v),y.push({event:w,listeners:A}))}}if((t&7)===0){e:{if(w=n==="mouseover"||n==="pointerover",x=n==="mouseout"||n==="pointerout",w&&e!==Iw&&(C=e.relatedTarget||e.fromElement)&&(bu(C)||C[sd]))break e;if((x||w)&&(w=v.window===v?v:(w=v.ownerDocument)?w.defaultView||w.parentWindow:window,x?(C=e.relatedTarget||e.toElement,x=m,C=C?bu(C):null,C!==null&&(L=Ku(C),C!==L||C.tag!==5&&C.tag!==6)&&(C=null)):(x=null,C=m),x!==C)){if(A=bA,O="onMouseLeave",S="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(A=EA,O="onPointerLeave",S="onPointerEnter",k="pointer"),L=x==null?w:Kh(x),N=C==null?w:Kh(C),w=new A(O,k+"leave",x,e,v),w.target=L,w.relatedTarget=N,O=null,bu(v)===m&&(A=new A(S,k+"enter",C,e,v),A.target=N,A.relatedTarget=L,O=A),L=O,x&&C)n:{for(A=x,S=C,k=0,N=A;N;N=Mh(N))k++;for(N=0,O=S;O;O=Mh(O))N++;for(;0<k-N;)A=Mh(A),k--;for(;0<N-k;)S=Mh(S),N--;for(;k--;){if(A===S||S!==null&&A===S.alternate)break n;A=Mh(A),S=Mh(S)}A=null}else A=null;x!==null&&RA(y,w,x,A,!1),C!==null&&L!==null&&RA(y,L,C,A,!0)}}e:{if(w=m?Kh(m):window,x=w.nodeName&&w.nodeName.toLowerCase(),x==="select"||x==="input"&&w.type==="file")var H=Cre;else if(kA(w))if(fD)H=Ore;else{H=Nre;var D=Ire}else(x=w.nodeName)&&x.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(H=Are);if(H&&(H=H(n,m))){pD(y,H,e,v);break e}D&&D(n,w,m),n==="focusout"&&(D=w._wrapperState)&&D.controlled&&w.type==="number"&&xw(w,"number",w.value)}switch(D=m?Kh(m):window,n){case"focusin":(kA(D)||D.contentEditable==="true")&&(qh=D,Lw=m,Ef=null);break;case"focusout":Ef=Lw=qh=null;break;case"mousedown":Uw=!0;break;case"contextmenu":case"mouseup":case"dragend":Uw=!1,NA(y,e,v);break;case"selectionchange":if(Dre)break;case"keydown":case"keyup":NA(y,e,v)}var T;if(L6)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Gh?uD(n,e)&&(M="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(M="onCompositionStart");M&&(cD&&e.locale!=="ko"&&(Gh||M!=="onCompositionStart"?M==="onCompositionEnd"&&Gh&&(T=dD()):(Xd=v,R6="value"in Xd?Xd.value:Xd.textContent,Gh=!0)),D=Hg(m,M),0<D.length&&(M=new yA(M,n,null,e,v),y.push({event:M,listeners:D}),T?M.data=T:(T=hD(e),T!==null&&(M.data=T)))),(T=wre?xre(n,e):kre(n,e))&&(m=Hg(m,"onBeforeInput"),0<m.length&&(v=new yA("onBeforeInput","beforeinput",null,e,v),y.push({event:v,listeners:m}),v.data=T))}kD(y,t)})}function r_(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Hg(n,t){for(var e=t+"Capture",r=[];n!==null;){var a=n,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Yf(n,e),o!=null&&r.unshift(r_(n,o,a)),o=Yf(n,t),o!=null&&r.push(r_(n,o,a))),n=n.return}return r}function Mh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function RA(n,t,e,r,a){for(var o=t._reactName,c=[];e!==null&&e!==r;){var h=e,f=h.alternate,m=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&m!==null&&(h=m,a?(f=Yf(e,o),f!=null&&c.unshift(r_(e,f,h))):a||(f=Yf(e,o),f!=null&&c.push(r_(e,f,h)))),e=e.return}c.length!==0&&n.push({event:t,listeners:c})}var Fre=/\r\n?/g,Hre=/\u0000|\uFFFD/g;function MA(n){return(typeof n=="string"?n:""+n).replace(Fre,`
`).replace(Hre,"")}function kv(n,t,e){if(t=MA(t),MA(n)!==t&&e)throw Error(Ln(425))}function Bg(){}var Pw=null,Fw=null;function Hw(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bw=typeof setTimeout=="function"?setTimeout:void 0,Bre=typeof clearTimeout=="function"?clearTimeout:void 0,DA=typeof Promise=="function"?Promise:void 0,$re=typeof queueMicrotask=="function"?queueMicrotask:typeof DA<"u"?function(n){return DA.resolve(null).then(n).catch(zre)}:Bw;function zre(n){setTimeout(function(){throw n})}function l3(n,t){var e=t,r=0;do{var a=e.nextSibling;if(n.removeChild(e),a&&a.nodeType===8)if(e=a.data,e==="/$"){if(r===0){n.removeChild(a),Jf(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=a}while(e);Jf(t)}function sc(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function LA(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var R0=Math.random().toString(36).slice(2),il="__reactFiber$"+R0,i_="__reactProps$"+R0,sd="__reactContainer$"+R0,$w="__reactEvents$"+R0,Vre="__reactListeners$"+R0,Gre="__reactHandles$"+R0;function bu(n){var t=n[il];if(t)return t;for(var e=n.parentNode;e;){if(t=e[sd]||e[il]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=LA(n);n!==null;){if(e=n[il])return e;n=LA(n)}return t}n=e,e=n.parentNode}return null}function C_(n){return n=n[il]||n[sd],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Kh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ln(33))}function Nb(n){return n[i_]||null}var zw=[],Wh=-1;function Sc(n){return{current:n}}function Zr(n){0>Wh||(n.current=zw[Wh],zw[Wh]=null,Wh--)}function jr(n,t){Wh++,zw[Wh]=n.current,n.current=t}var bc={},Ma=Sc(bc),ds=Sc(!1),Lu=bc;function f0(n,t){var e=n.type.contextTypes;if(!e)return bc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in e)a[o]=t[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=a),a}function cs(n){return n=n.childContextTypes,n!=null}function $g(){Zr(ds),Zr(Ma)}function UA(n,t,e){if(Ma.current!==bc)throw Error(Ln(168));jr(Ma,t),jr(ds,e)}function TD(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ln(108,Ite(n)||"Unknown",a));return hi({},e,r)}function zg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||bc,Lu=Ma.current,jr(Ma,n),jr(ds,ds.current),!0}function PA(n,t,e){var r=n.stateNode;if(!r)throw Error(Ln(169));e?(n=TD(n,t,Lu),r.__reactInternalMemoizedMergedChildContext=n,Zr(ds),Zr(Ma),jr(Ma,n)):Zr(ds),jr(ds,e)}var ql=null,Ab=!1,d3=!1;function CD(n){ql===null?ql=[n]:ql.push(n)}function qre(n){Ab=!0,CD(n)}function Tc(){if(!d3&&ql!==null){d3=!0;var n=0,t=Or;try{var e=ql;for(Or=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}ql=null,Ab=!1}catch(a){throw ql!==null&&(ql=ql.slice(n+1)),Z7(I6,Tc),a}finally{Or=t,d3=!1}}return null}var Qh=[],Yh=0,Vg=null,Gg=0,Ws=[],Qs=0,Uu=null,Xl=1,Zl="";function du(n,t){Qh[Yh++]=Gg,Qh[Yh++]=Vg,Vg=n,Gg=t}function ID(n,t,e){Ws[Qs++]=Xl,Ws[Qs++]=Zl,Ws[Qs++]=Uu,Uu=n;var r=Xl;n=Zl;var a=32-Io(r)-1;r&=~(1<<a),e+=1;var o=32-Io(t)+a;if(30<o){var c=a-a%5;o=(r&(1<<c)-1).toString(32),r>>=c,a-=c,Xl=1<<32-Io(t)+a|e<<a|r,Zl=o+n}else Xl=1<<o|e<<a|r,Zl=n}function P6(n){n.return!==null&&(du(n,1),ID(n,1,0))}function F6(n){for(;n===Vg;)Vg=Qh[--Yh],Qh[Yh]=null,Gg=Qh[--Yh],Qh[Yh]=null;for(;n===Uu;)Uu=Ws[--Qs],Ws[Qs]=null,Zl=Ws[--Qs],Ws[Qs]=null,Xl=Ws[--Qs],Ws[Qs]=null}var Os=null,As=null,si=!1,To=null;function ND(n,t){var e=Js(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function FA(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,Os=n,As=sc(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,Os=n,As=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Uu!==null?{id:Xl,overflow:Zl}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Js(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,Os=n,As=null,!0):!1;default:return!1}}function Vw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Gw(n){if(si){var t=As;if(t){var e=t;if(!FA(n,t)){if(Vw(n))throw Error(Ln(418));t=sc(e.nextSibling);var r=Os;t&&FA(n,t)?ND(r,e):(n.flags=n.flags&-4097|2,si=!1,Os=n)}}else{if(Vw(n))throw Error(Ln(418));n.flags=n.flags&-4097|2,si=!1,Os=n}}}function HA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Os=n}function Sv(n){if(n!==Os)return!1;if(!si)return HA(n),si=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Hw(n.type,n.memoizedProps)),t&&(t=As)){if(Vw(n))throw AD(),Error(Ln(418));for(;t;)ND(n,t),t=sc(t.nextSibling)}if(HA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ln(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){As=sc(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}As=null}}else As=Os?sc(n.stateNode.nextSibling):null;return!0}function AD(){for(var n=As;n;)n=sc(n.nextSibling)}function _0(){As=Os=null,si=!1}function H6(n){To===null?To=[n]:To.push(n)}var jre=cd.ReactCurrentBatchConfig;function xo(n,t){if(n&&n.defaultProps){t=hi({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}var qg=Sc(null),jg=null,Xh=null,B6=null;function $6(){B6=Xh=jg=null}function z6(n){var t=qg.current;Zr(qg),n._currentValue=t}function qw(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function d0(n,t){jg=n,B6=Xh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&t)!==0&&(os=!0),n.firstContext=null)}function io(n){var t=n._currentValue;if(B6!==n)if(n={context:n,memoizedValue:t,next:null},Xh===null){if(jg===null)throw Error(Ln(308));Xh=n,jg.dependencies={lanes:0,firstContext:n}}else Xh=Xh.next=n;return t}var yu=null;function V6(n){yu===null?yu=[n]:yu.push(n)}function OD(n,t,e,r){var a=t.interleaved;return a===null?(e.next=e,V6(t)):(e.next=a.next,a.next=e),t.interleaved=e,od(n,r)}function od(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var Kd=!1;function G6(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RD(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function nd(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function oc(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(or&2)!==0){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,od(n,e)}return a=r.interleaved,a===null?(t.next=t,V6(r)):(t.next=a.next,a.next=t),r.interleaved=t,od(n,e)}function lg(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,N6(n,e)}}function BA(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var a=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var c={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?a=o=c:o=o.next=c,e=e.next}while(e!==null);o===null?a=o=t:o=o.next=t}else a=o=t;e={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function Kg(n,t,e,r){var a=n.updateQueue;Kd=!1;var o=a.firstBaseUpdate,c=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var f=h,m=f.next;f.next=null,c===null?o=m:c.next=m,c=f;var v=n.alternate;v!==null&&(v=v.updateQueue,h=v.lastBaseUpdate,h!==c&&(h===null?v.firstBaseUpdate=m:h.next=m,v.lastBaseUpdate=f))}if(o!==null){var y=a.baseState;c=0,v=m=f=null,h=o;do{var w=h.lane,x=h.eventTime;if((r&w)===w){v!==null&&(v=v.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var C=n,A=h;switch(w=t,x=e,A.tag){case 1:if(C=A.payload,typeof C=="function"){y=C.call(x,y,w);break e}y=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=A.payload,w=typeof C=="function"?C.call(x,y,w):C,w==null)break e;y=hi({},y,w);break e;case 2:Kd=!0}}h.callback!==null&&h.lane!==0&&(n.flags|=64,w=a.effects,w===null?a.effects=[h]:w.push(h))}else x={eventTime:x,lane:w,tag:h.tag,payload:h.payload,callback:h.callback,next:null},v===null?(m=v=x,f=y):v=v.next=x,c|=w;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;w=h,h=w.next,w.next=null,a.lastBaseUpdate=w,a.shared.pending=null}}while(1);if(v===null&&(f=y),a.baseState=f,a.firstBaseUpdate=m,a.lastBaseUpdate=v,t=a.shared.interleaved,t!==null){a=t;do c|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Fu|=c,n.lanes=c,n.memoizedState=y}}function $A(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],a=r.callback;if(a!==null){if(r.callback=null,r=e,typeof a!="function")throw Error(Ln(191,a));a.call(r)}}}var MD=new O7.Component().refs;function jw(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:hi({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var Ob={isMounted:function(n){return(n=n._reactInternals)?Ku(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Ga(),a=dc(n),o=nd(r,a);o.payload=t,e!=null&&(o.callback=e),t=oc(n,o,a),t!==null&&(No(t,n,a,r),lg(t,n,a))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Ga(),a=dc(n),o=nd(r,a);o.tag=1,o.payload=t,e!=null&&(o.callback=e),t=oc(n,o,a),t!==null&&(No(t,n,a,r),lg(t,n,a))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Ga(),r=dc(n),a=nd(e,r);a.tag=2,t!=null&&(a.callback=t),t=oc(n,a,r),t!==null&&(No(t,n,r,e),lg(t,n,r))}};function zA(n,t,e,r,a,o,c){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,c):t.prototype&&t.prototype.isPureReactComponent?!n_(e,r)||!n_(a,o):!0}function DD(n,t,e){var r=!1,a=bc,o=t.contextType;return typeof o=="object"&&o!==null?o=io(o):(a=cs(t)?Lu:Ma.current,r=t.contextTypes,o=(r=r!=null)?f0(n,a):bc),t=new t(e,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ob,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=o),t}function VA(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&Ob.enqueueReplaceState(t,t.state,null)}function Kw(n,t,e,r){var a=n.stateNode;a.props=e,a.state=n.memoizedState,a.refs=MD,G6(n);var o=t.contextType;typeof o=="object"&&o!==null?a.context=io(o):(o=cs(t)?Lu:Ma.current,a.context=f0(n,o)),a.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jw(n,t,o,e),a.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ob.enqueueReplaceState(a,a.state,null),Kg(n,e,a,r),a.state=n.memoizedState),typeof a.componentDidMount=="function"&&(n.flags|=4194308)}function Vp(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Ln(309));var r=e.stateNode}if(!r)throw Error(Ln(147,n));var a=r,o=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(c){var h=a.refs;h===MD&&(h=a.refs={}),c===null?delete h[o]:h[o]=c},t._stringRef=o,t)}if(typeof n!="string")throw Error(Ln(284));if(!e._owner)throw Error(Ln(290,n))}return n}function Tv(n,t){throw n=Object.prototype.toString.call(t),Error(Ln(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function GA(n){var t=n._init;return t(n._payload)}function LD(n){function t(S,k){if(n){var N=S.deletions;N===null?(S.deletions=[k],S.flags|=16):N.push(k)}}function e(S,k){if(!n)return null;for(;k!==null;)t(S,k),k=k.sibling;return null}function r(S,k){for(S=new Map;k!==null;)k.key!==null?S.set(k.key,k):S.set(k.index,k),k=k.sibling;return S}function a(S,k){return S=cc(S,k),S.index=0,S.sibling=null,S}function o(S,k,N){return S.index=N,n?(N=S.alternate,N!==null?(N=N.index,N<k?(S.flags|=2,k):N):(S.flags|=2,k)):(S.flags|=1048576,k)}function c(S){return n&&S.alternate===null&&(S.flags|=2),S}function h(S,k,N,O){return k===null||k.tag!==6?(k=m3(N,S.mode,O),k.return=S,k):(k=a(k,N),k.return=S,k)}function f(S,k,N,O){var H=N.type;return H===Vh?v(S,k,N.props.children,O,N.key):k!==null&&(k.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===jd&&GA(H)===k.type)?(O=a(k,N.props),O.ref=Vp(S,k,N),O.return=S,O):(O=fg(N.type,N.key,N.props,null,S.mode,O),O.ref=Vp(S,k,N),O.return=S,O)}function m(S,k,N,O){return k===null||k.tag!==4||k.stateNode.containerInfo!==N.containerInfo||k.stateNode.implementation!==N.implementation?(k=v3(N,S.mode,O),k.return=S,k):(k=a(k,N.children||[]),k.return=S,k)}function v(S,k,N,O,H){return k===null||k.tag!==7?(k=Iu(N,S.mode,O,H),k.return=S,k):(k=a(k,N),k.return=S,k)}function y(S,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return k=m3(""+k,S.mode,N),k.return=S,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _v:return N=fg(k.type,k.key,k.props,null,S.mode,N),N.ref=Vp(S,null,k),N.return=S,N;case zh:return k=v3(k,S.mode,N),k.return=S,k;case jd:var O=k._init;return y(S,O(k._payload),N)}if(sf(k)||Fp(k))return k=Iu(k,S.mode,N,null),k.return=S,k;Tv(S,k)}return null}function w(S,k,N,O){var H=k!==null?k.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return H!==null?null:h(S,k,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _v:return N.key===H?f(S,k,N,O):null;case zh:return N.key===H?m(S,k,N,O):null;case jd:return H=N._init,w(S,k,H(N._payload),O)}if(sf(N)||Fp(N))return H!==null?null:v(S,k,N,O,null);Tv(S,N)}return null}function x(S,k,N,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(N)||null,h(k,S,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _v:return S=S.get(O.key===null?N:O.key)||null,f(k,S,O,H);case zh:return S=S.get(O.key===null?N:O.key)||null,m(k,S,O,H);case jd:var D=O._init;return x(S,k,N,D(O._payload),H)}if(sf(O)||Fp(O))return S=S.get(N)||null,v(k,S,O,H,null);Tv(k,O)}return null}function C(S,k,N,O){for(var H=null,D=null,T=k,M=k=0,q=null;T!==null&&M<N.length;M++){T.index>M?(q=T,T=null):q=T.sibling;var z=w(S,T,N[M],O);if(z===null){T===null&&(T=q);break}n&&T&&z.alternate===null&&t(S,T),k=o(z,k,M),D===null?H=z:D.sibling=z,D=z,T=q}if(M===N.length)return e(S,T),si&&du(S,M),H;if(T===null){for(;M<N.length;M++)T=y(S,N[M],O),T!==null&&(k=o(T,k,M),D===null?H=T:D.sibling=T,D=T);return si&&du(S,M),H}for(T=r(S,T);M<N.length;M++)q=x(T,S,M,N[M],O),q!==null&&(n&&q.alternate!==null&&T.delete(q.key===null?M:q.key),k=o(q,k,M),D===null?H=q:D.sibling=q,D=q);return n&&T.forEach(function(te){return t(S,te)}),si&&du(S,M),H}function A(S,k,N,O){var H=Fp(N);if(typeof H!="function")throw Error(Ln(150));if(N=H.call(N),N==null)throw Error(Ln(151));for(var D=H=null,T=k,M=k=0,q=null,z=N.next();T!==null&&!z.done;M++,z=N.next()){T.index>M?(q=T,T=null):q=T.sibling;var te=w(S,T,z.value,O);if(te===null){T===null&&(T=q);break}n&&T&&te.alternate===null&&t(S,T),k=o(te,k,M),D===null?H=te:D.sibling=te,D=te,T=q}if(z.done)return e(S,T),si&&du(S,M),H;if(T===null){for(;!z.done;M++,z=N.next())z=y(S,z.value,O),z!==null&&(k=o(z,k,M),D===null?H=z:D.sibling=z,D=z);return si&&du(S,M),H}for(T=r(S,T);!z.done;M++,z=N.next())z=x(T,S,M,z.value,O),z!==null&&(n&&z.alternate!==null&&T.delete(z.key===null?M:z.key),k=o(z,k,M),D===null?H=z:D.sibling=z,D=z);return n&&T.forEach(function(he){return t(S,he)}),si&&du(S,M),H}function L(S,k,N,O){if(typeof N=="object"&&N!==null&&N.type===Vh&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case _v:e:{for(var H=N.key,D=k;D!==null;){if(D.key===H){if(H=N.type,H===Vh){if(D.tag===7){e(S,D.sibling),k=a(D,N.props.children),k.return=S,S=k;break e}}else if(D.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===jd&&GA(H)===D.type){e(S,D.sibling),k=a(D,N.props),k.ref=Vp(S,D,N),k.return=S,S=k;break e}e(S,D);break}else t(S,D);D=D.sibling}N.type===Vh?(k=Iu(N.props.children,S.mode,O,N.key),k.return=S,S=k):(O=fg(N.type,N.key,N.props,null,S.mode,O),O.ref=Vp(S,k,N),O.return=S,S=O)}return c(S);case zh:e:{for(D=N.key;k!==null;){if(k.key===D)if(k.tag===4&&k.stateNode.containerInfo===N.containerInfo&&k.stateNode.implementation===N.implementation){e(S,k.sibling),k=a(k,N.children||[]),k.return=S,S=k;break e}else{e(S,k);break}else t(S,k);k=k.sibling}k=v3(N,S.mode,O),k.return=S,S=k}return c(S);case jd:return D=N._init,L(S,k,D(N._payload),O)}if(sf(N))return C(S,k,N,O);if(Fp(N))return A(S,k,N,O);Tv(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,k!==null&&k.tag===6?(e(S,k.sibling),k=a(k,N),k.return=S,S=k):(e(S,k),k=m3(N,S.mode,O),k.return=S,S=k),c(S)):e(S,k)}return L}var m0=LD(!0),UD=LD(!1),I_={},hl=Sc(I_),a_=Sc(I_),s_=Sc(I_);function Eu(n){if(n===I_)throw Error(Ln(174));return n}function q6(n,t){switch(jr(s_,t),jr(a_,n),jr(hl,I_),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sw(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Sw(t,n)}Zr(hl),jr(hl,t)}function v0(){Zr(hl),Zr(a_),Zr(s_)}function PD(n){Eu(s_.current);var t=Eu(hl.current),e=Sw(t,n.type);t!==e&&(jr(a_,n),jr(hl,e))}function j6(n){a_.current===n&&(Zr(hl),Zr(a_))}var li=Sc(0);function Wg(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var c3=[];function K6(){for(var n=0;n<c3.length;n++)c3[n]._workInProgressVersionPrimary=null;c3.length=0}var dg=cd.ReactCurrentDispatcher,u3=cd.ReactCurrentBatchConfig,Pu=0,ui=null,Li=null,qi=null,Qg=!1,wf=!1,o_=0,Kre=0;function xa(){throw Error(Ln(321))}function W6(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Ao(n[e],t[e]))return!1;return!0}function Q6(n,t,e,r,a,o){if(Pu=o,ui=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dg.current=n===null||n.memoizedState===null?Xre:Zre,n=e(r,a),wf){o=0;do{if(wf=!1,o_=0,25<=o)throw Error(Ln(301));o+=1,qi=Li=null,t.updateQueue=null,dg.current=Jre,n=e(r,a)}while(wf)}if(dg.current=Yg,t=Li!==null&&Li.next!==null,Pu=0,qi=Li=ui=null,Qg=!1,t)throw Error(Ln(300));return n}function Y6(){var n=o_!==0;return o_=0,n}function Jo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qi===null?ui.memoizedState=qi=n:qi=qi.next=n,qi}function ao(){if(Li===null){var n=ui.alternate;n=n!==null?n.memoizedState:null}else n=Li.next;var t=qi===null?ui.memoizedState:qi.next;if(t!==null)qi=t,Li=n;else{if(n===null)throw Error(Ln(310));Li=n,n={memoizedState:Li.memoizedState,baseState:Li.baseState,baseQueue:Li.baseQueue,queue:Li.queue,next:null},qi===null?ui.memoizedState=qi=n:qi=qi.next=n}return qi}function l_(n,t){return typeof t=="function"?t(n):t}function h3(n){var t=ao(),e=t.queue;if(e===null)throw Error(Ln(311));e.lastRenderedReducer=n;var r=Li,a=r.baseQueue,o=e.pending;if(o!==null){if(a!==null){var c=a.next;a.next=o.next,o.next=c}r.baseQueue=a=o,e.pending=null}if(a!==null){o=a.next,r=r.baseState;var h=c=null,f=null,m=o;do{var v=m.lane;if((Pu&v)===v)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:n(r,m.action);else{var y={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(h=f=y,c=r):f=f.next=y,ui.lanes|=v,Fu|=v}m=m.next}while(m!==null&&m!==o);f===null?c=r:f.next=h,Ao(r,t.memoizedState)||(os=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=f,e.lastRenderedState=r}if(n=e.interleaved,n!==null){a=n;do o=a.lane,ui.lanes|=o,Fu|=o,a=a.next;while(a!==n)}else a===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function p3(n){var t=ao(),e=t.queue;if(e===null)throw Error(Ln(311));e.lastRenderedReducer=n;var r=e.dispatch,a=e.pending,o=t.memoizedState;if(a!==null){e.pending=null;var c=a=a.next;do o=n(o,c.action),c=c.next;while(c!==a);Ao(o,t.memoizedState)||(os=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,r]}function FD(){}function HD(n,t){var e=ui,r=ao(),a=t(),o=!Ao(r.memoizedState,a);if(o&&(r.memoizedState=a,os=!0),r=r.queue,X6(zD.bind(null,e,r,n),[n]),r.getSnapshot!==t||o||qi!==null&&qi.memoizedState.tag&1){if(e.flags|=2048,d_(9,$D.bind(null,e,r,a,t),void 0,null),Qi===null)throw Error(Ln(349));(Pu&30)!==0||BD(e,t,a)}return a}function BD(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=ui.updateQueue,t===null?(t={lastEffect:null,stores:null},ui.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function $D(n,t,e,r){t.value=e,t.getSnapshot=r,VD(t)&&GD(n)}function zD(n,t,e){return e(function(){VD(t)&&GD(n)})}function VD(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Ao(n,e)}catch{return!0}}function GD(n){var t=od(n,1);t!==null&&No(t,n,1,-1)}function qA(n){var t=Jo();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:n},t.queue=n,n=n.dispatch=Yre.bind(null,ui,n),[t.memoizedState,n]}function d_(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=ui.updateQueue,t===null?(t={lastEffect:null,stores:null},ui.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function qD(){return ao().memoizedState}function cg(n,t,e,r){var a=Jo();ui.flags|=n,a.memoizedState=d_(1|t,e,void 0,r===void 0?null:r)}function Rb(n,t,e,r){var a=ao();r=r===void 0?null:r;var o=void 0;if(Li!==null){var c=Li.memoizedState;if(o=c.destroy,r!==null&&W6(r,c.deps)){a.memoizedState=d_(t,e,o,r);return}}ui.flags|=n,a.memoizedState=d_(1|t,e,o,r)}function jA(n,t){return cg(8390656,8,n,t)}function X6(n,t){return Rb(2048,8,n,t)}function jD(n,t){return Rb(4,2,n,t)}function KD(n,t){return Rb(4,4,n,t)}function WD(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function QD(n,t,e){return e=e!=null?e.concat([n]):null,Rb(4,4,WD.bind(null,t,n),e)}function Z6(){}function YD(n,t){var e=ao();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&W6(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function XD(n,t){var e=ao();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&W6(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function ZD(n,t,e){return(Pu&21)===0?(n.baseState&&(n.baseState=!1,os=!0),n.memoizedState=e):(Ao(e,t)||(e=nD(),ui.lanes|=e,Fu|=e,n.baseState=!0),t)}function Wre(n,t){var e=Or;Or=e!==0&&4>e?e:4,n(!0);var r=u3.transition;u3.transition={};try{n(!1),t()}finally{Or=e,u3.transition=r}}function JD(){return ao().memoizedState}function Qre(n,t,e){var r=dc(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},eL(n))nL(t,e);else if(e=OD(n,t,e,r),e!==null){var a=Ga();No(e,n,r,a),tL(e,t,r)}}function Yre(n,t,e){var r=dc(n),a={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(eL(n))nL(t,a);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var c=t.lastRenderedState,h=o(c,e);if(a.hasEagerState=!0,a.eagerState=h,Ao(h,c)){var f=t.interleaved;f===null?(a.next=a,V6(t)):(a.next=f.next,f.next=a),t.interleaved=a;return}}catch{}finally{}e=OD(n,t,a,r),e!==null&&(a=Ga(),No(e,n,r,a),tL(e,t,r))}}function eL(n){var t=n.alternate;return n===ui||t!==null&&t===ui}function nL(n,t){wf=Qg=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function tL(n,t,e){if((e&4194240)!==0){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,N6(n,e)}}var Yg={readContext:io,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},Xre={readContext:io,useCallback:function(n,t){return Jo().memoizedState=[n,t===void 0?null:t],n},useContext:io,useEffect:jA,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,cg(4194308,4,WD.bind(null,t,n),e)},useLayoutEffect:function(n,t){return cg(4194308,4,n,t)},useInsertionEffect:function(n,t){return cg(4,2,n,t)},useMemo:function(n,t){var e=Jo();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=Jo();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=Qre.bind(null,ui,n),[r.memoizedState,n]},useRef:function(n){var t=Jo();return n={current:n},t.memoizedState=n},useState:qA,useDebugValue:Z6,useDeferredValue:function(n){return Jo().memoizedState=n},useTransition:function(){var n=qA(!1),t=n[0];return n=Wre.bind(null,n[1]),Jo().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=ui,a=Jo();if(si){if(e===void 0)throw Error(Ln(407));e=e()}else{if(e=t(),Qi===null)throw Error(Ln(349));(Pu&30)!==0||BD(r,t,e)}a.memoizedState=e;var o={value:e,getSnapshot:t};return a.queue=o,jA(zD.bind(null,r,o,n),[n]),r.flags|=2048,d_(9,$D.bind(null,r,o,e,t),void 0,null),e},useId:function(){var n=Jo(),t=Qi.identifierPrefix;if(si){var e=Zl,r=Xl;e=(r&~(1<<32-Io(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=o_++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=Kre++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},Zre={readContext:io,useCallback:YD,useContext:io,useEffect:X6,useImperativeHandle:QD,useInsertionEffect:jD,useLayoutEffect:KD,useMemo:XD,useReducer:h3,useRef:qD,useState:function(){return h3(l_)},useDebugValue:Z6,useDeferredValue:function(n){var t=ao();return ZD(t,Li.memoizedState,n)},useTransition:function(){var n=h3(l_)[0],t=ao().memoizedState;return[n,t]},useMutableSource:FD,useSyncExternalStore:HD,useId:JD,unstable_isNewReconciler:!1},Jre={readContext:io,useCallback:YD,useContext:io,useEffect:X6,useImperativeHandle:QD,useInsertionEffect:jD,useLayoutEffect:KD,useMemo:XD,useReducer:p3,useRef:qD,useState:function(){return p3(l_)},useDebugValue:Z6,useDeferredValue:function(n){var t=ao();return Li===null?t.memoizedState=n:ZD(t,Li.memoizedState,n)},useTransition:function(){var n=p3(l_)[0],t=ao().memoizedState;return[n,t]},useMutableSource:FD,useSyncExternalStore:HD,useId:JD,unstable_isNewReconciler:!1};function g0(n,t){try{var e="",r=t;do e+=Cte(r),r=r.return;while(r);var a=e}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:a,digest:null}}function f3(n,t,e){return{value:n,source:null,stack:e!=null?e:null,digest:t!=null?t:null}}function Ww(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var eie=typeof WeakMap=="function"?WeakMap:Map;function rL(n,t,e){e=nd(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){Zg||(Zg=!0,ix=r),Ww(n,t)},e}function iL(n,t,e){e=nd(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;e.payload=function(){return r(a)},e.callback=function(){Ww(n,t)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Ww(n,t),typeof r!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),e}function KA(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new eie;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(e)||(a.add(e),n=fie.bind(null,n,t,e),t.then(n,n))}function WA(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function QA(n,t,e,r,a){return(n.mode&1)===0?(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=nd(-1,1),t.tag=2,oc(e,t,1))),e.lanes|=1),n):(n.flags|=65536,n.lanes=a,n)}var nie=cd.ReactCurrentOwner,os=!1;function Ba(n,t,e,r){t.child=n===null?UD(t,null,e,r):m0(t,n.child,e,r)}function YA(n,t,e,r,a){e=e.render;var o=t.ref;return d0(t,a),r=Q6(n,t,e,r,o,a),e=Y6(),n!==null&&!os?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~a,ld(n,t,a)):(si&&e&&P6(t),t.flags|=1,Ba(n,t,r,a),t.child)}function XA(n,t,e,r,a){if(n===null){var o=e.type;return typeof o=="function"&&!sk(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=o,aL(n,t,o,r,a)):(n=fg(e.type,null,r,t,t.mode,a),n.ref=t.ref,n.return=t,t.child=n)}if(o=n.child,(n.lanes&a)===0){var c=o.memoizedProps;if(e=e.compare,e=e!==null?e:n_,e(c,r)&&n.ref===t.ref)return ld(n,t,a)}return t.flags|=1,n=cc(o,r),n.ref=t.ref,n.return=t,t.child=n}function aL(n,t,e,r,a){if(n!==null){var o=n.memoizedProps;if(n_(o,r)&&n.ref===t.ref)if(os=!1,t.pendingProps=r=o,(n.lanes&a)!==0)(n.flags&131072)!==0&&(os=!0);else return t.lanes=n.lanes,ld(n,t,a)}return Qw(n,t,e,r,a)}function sL(n,t,e){var r=t.pendingProps,a=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jr(Jh,ks),ks|=e;else{if((e&1073741824)===0)return n=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,jr(Jh,ks),ks|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:e,jr(Jh,ks),ks|=r}else o!==null?(r=o.baseLanes|e,t.memoizedState=null):r=e,jr(Jh,ks),ks|=r;return Ba(n,t,a,e),t.child}function oL(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Qw(n,t,e,r,a){var o=cs(e)?Lu:Ma.current;return o=f0(t,o),d0(t,a),e=Q6(n,t,e,r,o,a),r=Y6(),n!==null&&!os?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~a,ld(n,t,a)):(si&&r&&P6(t),t.flags|=1,Ba(n,t,e,a),t.child)}function ZA(n,t,e,r,a){if(cs(e)){var o=!0;zg(t)}else o=!1;if(d0(t,a),t.stateNode===null)ug(n,t),DD(t,e,r),Kw(t,e,r,a),r=!0;else if(n===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var f=c.context,m=e.contextType;typeof m=="object"&&m!==null?m=io(m):(m=cs(e)?Lu:Ma.current,m=f0(t,m));var v=e.getDerivedStateFromProps,y=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function";y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||f!==m)&&VA(t,c,r,m),Kd=!1;var w=t.memoizedState;c.state=w,Kg(t,r,c,a),f=t.memoizedState,h!==r||w!==f||ds.current||Kd?(typeof v=="function"&&(jw(t,e,v,r),f=t.memoizedState),(h=Kd||zA(t,e,h,r,w,f,m))?(y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),c.props=r,c.state=f,c.context=m,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,RD(n,t),h=t.memoizedProps,m=t.type===t.elementType?h:xo(t.type,h),c.props=m,y=t.pendingProps,w=c.context,f=e.contextType,typeof f=="object"&&f!==null?f=io(f):(f=cs(e)?Lu:Ma.current,f=f0(t,f));var x=e.getDerivedStateFromProps;(v=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==y||w!==f)&&VA(t,c,r,f),Kd=!1,w=t.memoizedState,c.state=w,Kg(t,r,c,a);var C=t.memoizedState;h!==y||w!==C||ds.current||Kd?(typeof x=="function"&&(jw(t,e,x,r),C=t.memoizedState),(m=Kd||zA(t,e,m,r,w,C,f)||!1)?(v||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,C,f),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,C,f)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),c.props=r,c.state=C,c.context=f,r=m):(typeof c.componentDidUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&w===n.memoizedState||(t.flags|=1024),r=!1)}return Yw(n,t,e,r,o,a)}function Yw(n,t,e,r,a,o){oL(n,t);var c=(t.flags&128)!==0;if(!r&&!c)return a&&PA(t,e,!1),ld(n,t,o);r=t.stateNode,nie.current=t;var h=c&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&c?(t.child=m0(t,n.child,null,o),t.child=m0(t,null,h,o)):Ba(n,t,h,o),t.memoizedState=r.state,a&&PA(t,e,!0),t.child}function lL(n){var t=n.stateNode;t.pendingContext?UA(n,t.pendingContext,t.pendingContext!==t.context):t.context&&UA(n,t.context,!1),q6(n,t.containerInfo)}function JA(n,t,e,r,a){return _0(),H6(a),t.flags|=256,Ba(n,t,e,r),t.child}var Xw={dehydrated:null,treeContext:null,retryLane:0};function Zw(n){return{baseLanes:n,cachePool:null,transitions:null}}function dL(n,t,e){var r=t.pendingProps,a=li.current,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=n!==null&&n.memoizedState===null?!1:(a&2)!==0),h?(o=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(a|=1),jr(li,a&1),n===null)return Gw(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((t.mode&1)===0?t.lanes=1:n.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(c=r.children,n=r.fallback,o?(r=t.mode,o=t.child,c={mode:"hidden",children:c},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Lb(c,r,0,null),n=Iu(n,r,e,null),o.return=t,n.return=t,o.sibling=n,t.child=o,t.child.memoizedState=Zw(e),t.memoizedState=Xw,n):J6(t,c));if(a=n.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return tie(n,t,c,r,h,a,e);if(o){o=r.fallback,c=t.mode,a=n.child,h=a.sibling;var f={mode:"hidden",children:r.children};return(c&1)===0&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=cc(a,f),r.subtreeFlags=a.subtreeFlags&14680064),h!==null?o=cc(h,o):(o=Iu(o,c,e,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,c=n.child.memoizedState,c=c===null?Zw(e):{baseLanes:c.baseLanes|e,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=n.childLanes&~e,t.memoizedState=Xw,r}return o=n.child,n=o.sibling,r=cc(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function J6(n,t){return t=Lb({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Cv(n,t,e,r){return r!==null&&H6(r),m0(t,n.child,null,e),n=J6(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function tie(n,t,e,r,a,o,c){if(e)return t.flags&256?(t.flags&=-257,r=f3(Error(Ln(422))),Cv(n,t,c,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Lb({mode:"visible",children:r.children},a,0,null),o=Iu(o,a,c,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&m0(t,n.child,null,c),t.child.memoizedState=Zw(c),t.memoizedState=Xw,o);if((t.mode&1)===0)return Cv(n,t,c,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var h=r.dgst;return r=h,o=Error(Ln(419)),r=f3(o,r,void 0),Cv(n,t,c,r)}if(h=(c&n.childLanes)!==0,os||h){if(r=Qi,r!==null){switch(c&-c){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(r.suspendedLanes|c))!==0?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,od(n,a),No(r,n,a,-1))}return ak(),r=f3(Error(Ln(421))),Cv(n,t,c,r)}return a.data==="$?"?(t.flags|=128,t.child=n.child,t=_ie.bind(null,n),a._reactRetry=t,null):(n=o.treeContext,As=sc(a.nextSibling),Os=t,si=!0,To=null,n!==null&&(Ws[Qs++]=Xl,Ws[Qs++]=Zl,Ws[Qs++]=Uu,Xl=n.id,Zl=n.overflow,Uu=t),t=J6(t,r.children),t.flags|=4096,t)}function eO(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),qw(n.return,t,e)}function _3(n,t,e,r,a){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=e,o.tailMode=a)}function cL(n,t,e){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Ba(n,t,r.children,e),r=li.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&eO(n,e,t);else if(n.tag===19)eO(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(jr(li,r),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(e=t.child,a=null;e!==null;)n=e.alternate,n!==null&&Wg(n)===null&&(a=e),e=e.sibling;e=a,e===null?(a=t.child,t.child=null):(a=e.sibling,e.sibling=null),_3(t,!1,a,e,o);break;case"backwards":for(e=null,a=t.child,t.child=null;a!==null;){if(n=a.alternate,n!==null&&Wg(n)===null){t.child=a;break}n=a.sibling,a.sibling=e,e=a,a=n}_3(t,!0,e,null,o);break;case"together":_3(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ug(n,t){(t.mode&1)===0&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function ld(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Fu|=t.lanes,(e&t.childLanes)===0)return null;if(n!==null&&t.child!==n.child)throw Error(Ln(153));if(t.child!==null){for(n=t.child,e=cc(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=cc(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function rie(n,t,e){switch(t.tag){case 3:lL(t),_0();break;case 5:PD(t);break;case 1:cs(t.type)&&zg(t);break;case 4:q6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;jr(qg,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(jr(li,li.current&1),t.flags|=128,null):(e&t.child.childLanes)!==0?dL(n,t,e):(jr(li,li.current&1),n=ld(n,t,e),n!==null?n.sibling:null);jr(li,li.current&1);break;case 19:if(r=(e&t.childLanes)!==0,(n.flags&128)!==0){if(r)return cL(n,t,e);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),jr(li,li.current),r)break;return null;case 22:case 23:return t.lanes=0,sL(n,t,e)}return ld(n,t,e)}var uL,Jw,hL,pL;uL=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Jw=function(){};hL=function(n,t,e,r){var a=n.memoizedProps;if(a!==r){n=t.stateNode,Eu(hl.current);var o=null;switch(e){case"input":a=Ew(n,a),r=Ew(n,r),o=[];break;case"select":a=hi({},a,{value:void 0}),r=hi({},r,{value:void 0}),o=[];break;case"textarea":a=kw(n,a),r=kw(n,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Bg)}Tw(e,r);var c;e=null;for(m in a)if(!r.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var h=a[m];for(c in h)h.hasOwnProperty(c)&&(e||(e={}),e[c]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Wf.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in r){var f=r[m];if(h=a!=null?a[m]:void 0,r.hasOwnProperty(m)&&f!==h&&(f!=null||h!=null))if(m==="style")if(h){for(c in h)!h.hasOwnProperty(c)||f&&f.hasOwnProperty(c)||(e||(e={}),e[c]="");for(c in f)f.hasOwnProperty(c)&&h[c]!==f[c]&&(e||(e={}),e[c]=f[c])}else e||(o||(o=[]),o.push(m,e)),e=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(o=o||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Wf.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Yr("scroll",n),o||h===f||(o=[])):(o=o||[]).push(m,f))}e&&(o=o||[]).push("style",e);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};pL=function(n,t,e,r){e!==r&&(t.flags|=4)};function Gp(n,t){if(!si)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function ka(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var a=n.child;a!==null;)e|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=n,a=a.sibling;else for(a=n.child;a!==null;)e|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=n,a=a.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function iie(n,t,e){var r=t.pendingProps;switch(F6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ka(t),null;case 1:return cs(t.type)&&$g(),ka(t),null;case 3:return r=t.stateNode,v0(),Zr(ds),Zr(Ma),K6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Sv(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,To!==null&&(ox(To),To=null))),Jw(n,t),ka(t),null;case 5:j6(t);var a=Eu(s_.current);if(e=t.type,n!==null&&t.stateNode!=null)hL(n,t,e,r,a),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ln(166));return ka(t),null}if(n=Eu(hl.current),Sv(t)){r=t.stateNode,e=t.type;var o=t.memoizedProps;switch(r[il]=t,r[i_]=o,n=(t.mode&1)!==0,e){case"dialog":Yr("cancel",r),Yr("close",r);break;case"iframe":case"object":case"embed":Yr("load",r);break;case"video":case"audio":for(a=0;a<lf.length;a++)Yr(lf[a],r);break;case"source":Yr("error",r);break;case"img":case"image":case"link":Yr("error",r),Yr("load",r);break;case"details":Yr("toggle",r);break;case"input":dA(r,o),Yr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Yr("invalid",r);break;case"textarea":uA(r,o),Yr("invalid",r)}Tw(e,o),a=null;for(var c in o)if(o.hasOwnProperty(c)){var h=o[c];c==="children"?typeof h=="string"?r.textContent!==h&&(o.suppressHydrationWarning!==!0&&kv(r.textContent,h,n),a=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&kv(r.textContent,h,n),a=["children",""+h]):Wf.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&Yr("scroll",r)}switch(e){case"input":mv(r),cA(r,o,!0);break;case"textarea":mv(r),hA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bg)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=a.nodeType===9?a:a.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=B7(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=c.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=c.createElement(e,{is:r.is}):(n=c.createElement(e),e==="select"&&(c=n,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):n=c.createElementNS(n,e),n[il]=t,n[i_]=r,uL(n,t,!1,!1),t.stateNode=n;e:{switch(c=Cw(e,r),e){case"dialog":Yr("cancel",n),Yr("close",n),a=r;break;case"iframe":case"object":case"embed":Yr("load",n),a=r;break;case"video":case"audio":for(a=0;a<lf.length;a++)Yr(lf[a],n);a=r;break;case"source":Yr("error",n),a=r;break;case"img":case"image":case"link":Yr("error",n),Yr("load",n),a=r;break;case"details":Yr("toggle",n),a=r;break;case"input":dA(n,r),a=Ew(n,r),Yr("invalid",n);break;case"option":a=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},a=hi({},r,{value:void 0}),Yr("invalid",n);break;case"textarea":uA(n,r),a=kw(n,r),Yr("invalid",n);break;default:a=r}Tw(e,a),h=a;for(o in h)if(h.hasOwnProperty(o)){var f=h[o];o==="style"?V7(n,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&$7(n,f)):o==="children"?typeof f=="string"?(e!=="textarea"||f!=="")&&Qf(n,f):typeof f=="number"&&Qf(n,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wf.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Yr("scroll",n):f!=null&&x6(n,o,f,c))}switch(e){case"input":mv(n),cA(n,r,!1);break;case"textarea":mv(n),hA(n);break;case"option":r.value!=null&&n.setAttribute("value",""+gc(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?a0(n,!!r.multiple,o,!1):r.defaultValue!=null&&a0(n,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=Bg)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ka(t),null;case 6:if(n&&t.stateNode!=null)pL(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ln(166));if(e=Eu(s_.current),Eu(hl.current),Sv(t)){if(r=t.stateNode,e=t.memoizedProps,r[il]=t,(o=r.nodeValue!==e)&&(n=Os,n!==null))switch(n.tag){case 3:kv(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&kv(r.nodeValue,e,(n.mode&1)!==0)}o&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[il]=t,t.stateNode=r}return ka(t),null;case 13:if(Zr(li),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(si&&As!==null&&(t.mode&1)!==0&&(t.flags&128)===0)AD(),_0(),t.flags|=98560,o=!1;else if(o=Sv(t),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(Ln(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ln(317));o[il]=t}else _0(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ka(t),o=!1}else To!==null&&(ox(To),To=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(n===null||(li.current&1)!==0?Pi===0&&(Pi=3):ak())),t.updateQueue!==null&&(t.flags|=4),ka(t),null);case 4:return v0(),Jw(n,t),n===null&&t_(t.stateNode.containerInfo),ka(t),null;case 10:return z6(t.type._context),ka(t),null;case 17:return cs(t.type)&&$g(),ka(t),null;case 19:if(Zr(li),o=t.memoizedState,o===null)return ka(t),null;if(r=(t.flags&128)!==0,c=o.rendering,c===null)if(r)Gp(o,!1);else{if(Pi!==0||n!==null&&(n.flags&128)!==0)for(n=t.child;n!==null;){if(c=Wg(n),c!==null){for(t.flags|=128,Gp(o,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)o=e,n=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,n=c.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return jr(li,li.current&1|2),t.child}n=n.sibling}o.tail!==null&&ki()>b0&&(t.flags|=128,r=!0,Gp(o,!1),t.lanes=4194304)}else{if(!r)if(n=Wg(c),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Gp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!si)return ka(t),null}else 2*ki()-o.renderingStartTime>b0&&e!==1073741824&&(t.flags|=128,r=!0,Gp(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ki(),t.sibling=null,e=li.current,jr(li,r?e&1|2:e&1),t):(ka(t),null);case 22:case 23:return ik(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(ks&1073741824)!==0&&(ka(t),t.subtreeFlags&6&&(t.flags|=8192)):ka(t),null;case 24:return null;case 25:return null}throw Error(Ln(156,t.tag))}function aie(n,t){switch(F6(t),t.tag){case 1:return cs(t.type)&&$g(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return v0(),Zr(ds),Zr(Ma),K6(),n=t.flags,(n&65536)!==0&&(n&128)===0?(t.flags=n&-65537|128,t):null;case 5:return j6(t),null;case 13:if(Zr(li),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(Ln(340));_0()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Zr(li),null;case 4:return v0(),null;case 10:return z6(t.type._context),null;case 22:case 23:return ik(),null;case 24:return null;default:return null}}var Iv=!1,Aa=!1,sie=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Zh(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){vi(n,t,r)}else e.current=null}function ex(n,t,e){try{e()}catch(r){vi(n,t,r)}}var nO=!1;function oie(n,t){if(Pw=Pg,n=vD(),U6(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var c=0,h=-1,f=-1,m=0,v=0,y=n,w=null;n:for(;;){for(var x;y!==e||a!==0&&y.nodeType!==3||(h=c+a),y!==o||r!==0&&y.nodeType!==3||(f=c+r),y.nodeType===3&&(c+=y.nodeValue.length),(x=y.firstChild)!==null;)w=y,y=x;for(;;){if(y===n)break n;if(w===e&&++m===a&&(h=c),w===o&&++v===r&&(f=c),(x=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=x}e=h===-1||f===-1?null:{start:h,end:f}}else e=null}e=e||{start:0,end:0}}else e=null;for(Fw={focusedElem:n,selectionRange:e},Pg=!1,ot=t;ot!==null;)if(t=ot,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,ot=n;else for(;ot!==null;){t=ot;try{var C=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var A=C.memoizedProps,L=C.memoizedState,S=t.stateNode,k=S.getSnapshotBeforeUpdate(t.elementType===t.type?A:xo(t.type,A),L);S.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ln(163))}}catch(O){vi(t,t.return,O)}if(n=t.sibling,n!==null){n.return=t.return,ot=n;break}ot=t.return}return C=nO,nO=!1,C}function xf(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var o=a.destroy;a.destroy=void 0,o!==void 0&&ex(t,e,o)}a=a.next}while(a!==r)}}function Mb(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function nx(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function fL(n){var t=n.alternate;t!==null&&(n.alternate=null,fL(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[il],delete t[i_],delete t[$w],delete t[Vre],delete t[Gre])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function _L(n){return n.tag===5||n.tag===3||n.tag===4}function tO(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_L(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tx(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Bg));else if(r!==4&&(n=n.child,n!==null))for(tx(n,t,e),n=n.sibling;n!==null;)tx(n,t,e),n=n.sibling}function rx(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(rx(n,t,e),n=n.sibling;n!==null;)rx(n,t,e),n=n.sibling}var la=null,ko=!1;function Hd(n,t,e){for(e=e.child;e!==null;)mL(n,t,e),e=e.sibling}function mL(n,t,e){if(ul&&typeof ul.onCommitFiberUnmount=="function")try{ul.onCommitFiberUnmount(Sb,e)}catch{}switch(e.tag){case 5:Aa||Zh(e,t);case 6:var r=la,a=ko;la=null,Hd(n,t,e),la=r,ko=a,la!==null&&(ko?(n=la,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):la.removeChild(e.stateNode));break;case 18:la!==null&&(ko?(n=la,e=e.stateNode,n.nodeType===8?l3(n.parentNode,e):n.nodeType===1&&l3(n,e),Jf(n)):l3(la,e.stateNode));break;case 4:r=la,a=ko,la=e.stateNode.containerInfo,ko=!0,Hd(n,t,e),la=r,ko=a;break;case 0:case 11:case 14:case 15:if(!Aa&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,c=o.destroy;o=o.tag,c!==void 0&&((o&2)!==0||(o&4)!==0)&&ex(e,t,c),a=a.next}while(a!==r)}Hd(n,t,e);break;case 1:if(!Aa&&(Zh(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(h){vi(e,t,h)}Hd(n,t,e);break;case 21:Hd(n,t,e);break;case 22:e.mode&1?(Aa=(r=Aa)||e.memoizedState!==null,Hd(n,t,e),Aa=r):Hd(n,t,e);break;default:Hd(n,t,e)}}function rO(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new sie),t.forEach(function(r){var a=mie.bind(null,n,r);e.has(r)||(e.add(r),r.then(a,a))})}}function _o(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var a=e[r];try{var o=n,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:la=h.stateNode,ko=!1;break e;case 3:la=h.stateNode.containerInfo,ko=!0;break e;case 4:la=h.stateNode.containerInfo,ko=!0;break e}h=h.return}if(la===null)throw Error(Ln(160));mL(o,c,a),la=null,ko=!1;var f=a.alternate;f!==null&&(f.return=null),a.return=null}catch(m){vi(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vL(t,n),t=t.sibling}function vL(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_o(t,n),Qo(n),r&4){try{xf(3,n,n.return),Mb(3,n)}catch(A){vi(n,n.return,A)}try{xf(5,n,n.return)}catch(A){vi(n,n.return,A)}}break;case 1:_o(t,n),Qo(n),r&512&&e!==null&&Zh(e,e.return);break;case 5:if(_o(t,n),Qo(n),r&512&&e!==null&&Zh(e,e.return),n.flags&32){var a=n.stateNode;try{Qf(a,"")}catch(A){vi(n,n.return,A)}}if(r&4&&(a=n.stateNode,a!=null)){var o=n.memoizedProps,c=e!==null?e.memoizedProps:o,h=n.type,f=n.updateQueue;if(n.updateQueue=null,f!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&F7(a,o),Cw(h,c);var m=Cw(h,o);for(c=0;c<f.length;c+=2){var v=f[c],y=f[c+1];v==="style"?V7(a,y):v==="dangerouslySetInnerHTML"?$7(a,y):v==="children"?Qf(a,y):x6(a,v,y,m)}switch(h){case"input":ww(a,o);break;case"textarea":H7(a,o);break;case"select":var w=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?a0(a,!!o.multiple,x,!1):w!==!!o.multiple&&(o.defaultValue!=null?a0(a,!!o.multiple,o.defaultValue,!0):a0(a,!!o.multiple,o.multiple?[]:"",!1))}a[i_]=o}catch(A){vi(n,n.return,A)}}break;case 6:if(_o(t,n),Qo(n),r&4){if(n.stateNode===null)throw Error(Ln(162));a=n.stateNode,o=n.memoizedProps;try{a.nodeValue=o}catch(A){vi(n,n.return,A)}}break;case 3:if(_o(t,n),Qo(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{Jf(t.containerInfo)}catch(A){vi(n,n.return,A)}break;case 4:_o(t,n),Qo(n);break;case 13:_o(t,n),Qo(n),a=n.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(tk=ki())),r&4&&rO(n);break;case 22:if(v=e!==null&&e.memoizedState!==null,n.mode&1?(Aa=(m=Aa)||v,_o(t,n),Aa=m):_o(t,n),Qo(n),r&8192){if(m=n.memoizedState!==null,(n.stateNode.isHidden=m)&&!v&&(n.mode&1)!==0)for(ot=n,v=n.child;v!==null;){for(y=ot=v;ot!==null;){switch(w=ot,x=w.child,w.tag){case 0:case 11:case 14:case 15:xf(4,w,w.return);break;case 1:Zh(w,w.return);var C=w.stateNode;if(typeof C.componentWillUnmount=="function"){r=w,e=w.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(A){vi(r,e,A)}}break;case 5:Zh(w,w.return);break;case 22:if(w.memoizedState!==null){aO(y);continue}}x!==null?(x.return=w,ot=x):aO(y)}v=v.sibling}e:for(v=null,y=n;;){if(y.tag===5){if(v===null){v=y;try{a=y.stateNode,m?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=y.stateNode,f=y.memoizedProps.style,c=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=z7("display",c))}catch(A){vi(n,n.return,A)}}}else if(y.tag===6){if(v===null)try{y.stateNode.nodeValue=m?"":y.memoizedProps}catch(A){vi(n,n.return,A)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===n)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;v===y&&(v=null),y=y.return}v===y&&(v=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:_o(t,n),Qo(n),r&4&&rO(n);break;case 21:break;default:_o(t,n),Qo(n)}}function Qo(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if(_L(e)){var r=e;break e}e=e.return}throw Error(Ln(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Qf(a,""),r.flags&=-33);var o=tO(n);rx(n,o,a);break;case 3:case 4:var c=r.stateNode.containerInfo,h=tO(n);tx(n,h,c);break;default:throw Error(Ln(161))}}catch(f){vi(n,n.return,f)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function lie(n,t,e){ot=n,gL(n)}function gL(n,t,e){for(var r=(n.mode&1)!==0;ot!==null;){var a=ot,o=a.child;if(a.tag===22&&r){var c=a.memoizedState!==null||Iv;if(!c){var h=a.alternate,f=h!==null&&h.memoizedState!==null||Aa;h=Iv;var m=Aa;if(Iv=c,(Aa=f)&&!m)for(ot=a;ot!==null;)c=ot,f=c.child,c.tag===22&&c.memoizedState!==null?sO(a):f!==null?(f.return=c,ot=f):sO(a);for(;o!==null;)ot=o,gL(o),o=o.sibling;ot=a,Iv=h,Aa=m}iO(n)}else(a.subtreeFlags&8772)!==0&&o!==null?(o.return=a,ot=o):iO(n)}}function iO(n){for(;ot!==null;){var t=ot;if((t.flags&8772)!==0){var e=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Aa||Mb(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Aa)if(e===null)r.componentDidMount();else{var a=t.elementType===t.type?e.memoizedProps:xo(t.type,e.memoizedProps);r.componentDidUpdate(a,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$A(t,o,r);break;case 3:var c=t.updateQueue;if(c!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}$A(t,c,e)}break;case 5:var h=t.stateNode;if(e===null&&t.flags&4){e=h;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&e.focus();break;case"img":f.src&&(e.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var y=v.dehydrated;y!==null&&Jf(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ln(163))}Aa||t.flags&512&&nx(t)}catch(w){vi(t,t.return,w)}}if(t===n){ot=null;break}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function aO(n){for(;ot!==null;){var t=ot;if(t===n){ot=null;break}var e=t.sibling;if(e!==null){e.return=t.return,ot=e;break}ot=t.return}}function sO(n){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{Mb(4,t)}catch(f){vi(t,e,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(f){vi(t,a,f)}}var o=t.return;try{nx(t)}catch(f){vi(t,o,f)}break;case 5:var c=t.return;try{nx(t)}catch(f){vi(t,c,f)}}}catch(f){vi(t,t.return,f)}if(t===n){ot=null;break}var h=t.sibling;if(h!==null){h.return=t.return,ot=h;break}ot=t.return}}var die=Math.ceil,Xg=cd.ReactCurrentDispatcher,ek=cd.ReactCurrentOwner,to=cd.ReactCurrentBatchConfig,or=0,Qi=null,Ni=null,ha=0,ks=0,Jh=Sc(0),Pi=0,c_=null,Fu=0,Db=0,nk=0,kf=null,as=null,tk=0,b0=1/0,Bl=null,Zg=!1,ix=null,lc=null,Nv=!1,Zd=null,Jg=0,Sf=0,ax=null,hg=-1,pg=0;function Ga(){return(or&6)!==0?ki():hg!==-1?hg:hg=ki()}function dc(n){return(n.mode&1)===0?1:(or&2)!==0&&ha!==0?ha&-ha:jre.transition!==null?(pg===0&&(pg=nD()),pg):(n=Or,n!==0||(n=window.event,n=n===void 0?16:lD(n.type)),n)}function No(n,t,e,r){if(50<Sf)throw Sf=0,ax=null,Error(Ln(185));S_(n,e,r),((or&2)===0||n!==Qi)&&(n===Qi&&((or&2)===0&&(Db|=e),Pi===4&&Qd(n,ha)),us(n,r),e===1&&or===0&&(t.mode&1)===0&&(b0=ki()+500,Ab&&Tc()))}function us(n,t){var e=n.callbackNode;jte(n,t);var r=Ug(n,n===Qi?ha:0);if(r===0)e!==null&&_A(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&_A(e),t===1)n.tag===0?qre(oO.bind(null,n)):CD(oO.bind(null,n)),$re(function(){(or&6)===0&&Tc()}),e=null;else{switch(tD(r)){case 1:e=I6;break;case 4:e=J7;break;case 16:e=Lg;break;case 536870912:e=eD;break;default:e=Lg}e=TL(e,bL.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function bL(n,t){if(hg=-1,pg=0,(or&6)!==0)throw Error(Ln(327));var e=n.callbackNode;if(c0()&&n.callbackNode!==e)return null;var r=Ug(n,n===Qi?ha:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||t)t=eb(n,r);else{t=r;var a=or;or|=2;var o=EL();(Qi!==n||ha!==t)&&(Bl=null,b0=ki()+500,Cu(n,t));do try{hie();break}catch(h){yL(n,h)}while(1);$6(),Xg.current=o,or=a,Ni!==null?t=0:(Qi=null,ha=0,t=Pi)}if(t!==0){if(t===2&&(a=Rw(n),a!==0&&(r=a,t=sx(n,a))),t===1)throw e=c_,Cu(n,0),Qd(n,r),us(n,ki()),e;if(t===6)Qd(n,r);else{if(a=n.current.alternate,(r&30)===0&&!cie(a)&&(t=eb(n,r),t===2&&(o=Rw(n),o!==0&&(r=o,t=sx(n,o))),t===1))throw e=c_,Cu(n,0),Qd(n,r),us(n,ki()),e;switch(n.finishedWork=a,n.finishedLanes=r,t){case 0:case 1:throw Error(Ln(345));case 2:cu(n,as,Bl);break;case 3:if(Qd(n,r),(r&130023424)===r&&(t=tk+500-ki(),10<t)){if(Ug(n,0)!==0)break;if(a=n.suspendedLanes,(a&r)!==r){Ga(),n.pingedLanes|=n.suspendedLanes&a;break}n.timeoutHandle=Bw(cu.bind(null,n,as,Bl),t);break}cu(n,as,Bl);break;case 4:if(Qd(n,r),(r&4194240)===r)break;for(t=n.eventTimes,a=-1;0<r;){var c=31-Io(r);o=1<<c,c=t[c],c>a&&(a=c),r&=~o}if(r=a,r=ki()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*die(r/1960))-r,10<r){n.timeoutHandle=Bw(cu.bind(null,n,as,Bl),r);break}cu(n,as,Bl);break;case 5:cu(n,as,Bl);break;default:throw Error(Ln(329))}}}return us(n,ki()),n.callbackNode===e?bL.bind(null,n):null}function sx(n,t){var e=kf;return n.current.memoizedState.isDehydrated&&(Cu(n,t).flags|=256),n=eb(n,t),n!==2&&(t=as,as=e,t!==null&&ox(t)),n}function ox(n){as===null?as=n:as.push.apply(as,n)}function cie(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var a=e[r],o=a.getSnapshot;a=a.value;try{if(!Ao(o(),a))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qd(n,t){for(t&=~nk,t&=~Db,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Io(t),r=1<<e;n[e]=-1,t&=~r}}function oO(n){if((or&6)!==0)throw Error(Ln(327));c0();var t=Ug(n,0);if((t&1)===0)return us(n,ki()),null;var e=eb(n,t);if(n.tag!==0&&e===2){var r=Rw(n);r!==0&&(t=r,e=sx(n,r))}if(e===1)throw e=c_,Cu(n,0),Qd(n,t),us(n,ki()),e;if(e===6)throw Error(Ln(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,cu(n,as,Bl),us(n,ki()),null}function rk(n,t){var e=or;or|=1;try{return n(t)}finally{or=e,or===0&&(b0=ki()+500,Ab&&Tc())}}function Hu(n){Zd!==null&&Zd.tag===0&&(or&6)===0&&c0();var t=or;or|=1;var e=to.transition,r=Or;try{if(to.transition=null,Or=1,n)return n()}finally{Or=r,to.transition=e,or=t,(or&6)===0&&Tc()}}function ik(){ks=Jh.current,Zr(Jh)}function Cu(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,Bre(e)),Ni!==null)for(e=Ni.return;e!==null;){var r=e;switch(F6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$g();break;case 3:v0(),Zr(ds),Zr(Ma),K6();break;case 5:j6(r);break;case 4:v0();break;case 13:Zr(li);break;case 19:Zr(li);break;case 10:z6(r.type._context);break;case 22:case 23:ik()}e=e.return}if(Qi=n,Ni=n=cc(n.current,null),ha=ks=t,Pi=0,c_=null,nk=Db=Fu=0,as=kf=null,yu!==null){for(t=0;t<yu.length;t++)if(e=yu[t],r=e.interleaved,r!==null){e.interleaved=null;var a=r.next,o=e.pending;if(o!==null){var c=o.next;o.next=a,r.next=c}e.pending=r}yu=null}return n}function yL(n,t){do{var e=Ni;try{if($6(),dg.current=Yg,Qg){for(var r=ui.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Qg=!1}if(Pu=0,qi=Li=ui=null,wf=!1,o_=0,ek.current=null,e===null||e.return===null){Pi=1,c_=t,Ni=null;break}e:{var o=n,c=e.return,h=e,f=t;if(t=ha,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,v=h,y=v.tag;if((v.mode&1)===0&&(y===0||y===11||y===15)){var w=v.alternate;w?(v.updateQueue=w.updateQueue,v.memoizedState=w.memoizedState,v.lanes=w.lanes):(v.updateQueue=null,v.memoizedState=null)}var x=WA(c);if(x!==null){x.flags&=-257,QA(x,c,h,o,t),x.mode&1&&KA(o,m,t),t=x,f=m;var C=t.updateQueue;if(C===null){var A=new Set;A.add(f),t.updateQueue=A}else C.add(f);break e}else{if((t&1)===0){KA(o,m,t),ak();break e}f=Error(Ln(426))}}else if(si&&h.mode&1){var L=WA(c);if(L!==null){(L.flags&65536)===0&&(L.flags|=256),QA(L,c,h,o,t),H6(g0(f,h));break e}}o=f=g0(f,h),Pi!==4&&(Pi=2),kf===null?kf=[o]:kf.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var S=rL(o,f,t);BA(o,S);break e;case 1:h=f;var k=o.type,N=o.stateNode;if((o.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(lc===null||!lc.has(N)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=iL(o,h,t);BA(o,O);break e}}o=o.return}while(o!==null)}xL(e)}catch(H){t=H,Ni===e&&e!==null&&(Ni=e=e.return);continue}break}while(1)}function EL(){var n=Xg.current;return Xg.current=Yg,n===null?Yg:n}function ak(){(Pi===0||Pi===3||Pi===2)&&(Pi=4),Qi===null||(Fu&268435455)===0&&(Db&268435455)===0||Qd(Qi,ha)}function eb(n,t){var e=or;or|=2;var r=EL();(Qi!==n||ha!==t)&&(Bl=null,Cu(n,t));do try{uie();break}catch(a){yL(n,a)}while(1);if($6(),or=e,Xg.current=r,Ni!==null)throw Error(Ln(261));return Qi=null,ha=0,Pi}function uie(){for(;Ni!==null;)wL(Ni)}function hie(){for(;Ni!==null&&!Pte();)wL(Ni)}function wL(n){var t=SL(n.alternate,n,ks);n.memoizedProps=n.pendingProps,t===null?xL(n):Ni=t,ek.current=null}function xL(n){var t=n;do{var e=t.alternate;if(n=t.return,(t.flags&32768)===0){if(e=iie(e,t,ks),e!==null){Ni=e;return}}else{if(e=aie(e,t),e!==null){e.flags&=32767,Ni=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Pi=6,Ni=null;return}}if(t=t.sibling,t!==null){Ni=t;return}Ni=t=n}while(t!==null);Pi===0&&(Pi=5)}function cu(n,t,e){var r=Or,a=to.transition;try{to.transition=null,Or=1,pie(n,t,e,r)}finally{to.transition=a,Or=r}return null}function pie(n,t,e,r){do c0();while(Zd!==null);if((or&6)!==0)throw Error(Ln(327));e=n.finishedWork;var a=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(Ln(177));n.callbackNode=null,n.callbackPriority=0;var o=e.lanes|e.childLanes;if(Kte(n,o),n===Qi&&(Ni=Qi=null,ha=0),(e.subtreeFlags&2064)===0&&(e.flags&2064)===0||Nv||(Nv=!0,TL(Lg,function(){return c0(),null})),o=(e.flags&15990)!==0,(e.subtreeFlags&15990)!==0||o){o=to.transition,to.transition=null;var c=Or;Or=1;var h=or;or|=4,ek.current=null,oie(n,e),vL(e,n),Mre(Fw),Pg=!!Pw,Fw=Pw=null,n.current=e,lie(e),Fte(),or=h,Or=c,to.transition=o}else n.current=e;if(Nv&&(Nv=!1,Zd=n,Jg=a),o=n.pendingLanes,o===0&&(lc=null),$te(e.stateNode),us(n,ki()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)a=t[e],r(a.value,{componentStack:a.stack,digest:a.digest});if(Zg)throw Zg=!1,n=ix,ix=null,n;return(Jg&1)!==0&&n.tag!==0&&c0(),o=n.pendingLanes,(o&1)!==0?n===ax?Sf++:(Sf=0,ax=n):Sf=0,Tc(),null}function c0(){if(Zd!==null){var n=tD(Jg),t=to.transition,e=Or;try{if(to.transition=null,Or=16>n?16:n,Zd===null)var r=!1;else{if(n=Zd,Zd=null,Jg=0,(or&6)!==0)throw Error(Ln(331));var a=or;for(or|=4,ot=n.current;ot!==null;){var o=ot,c=o.child;if((ot.flags&16)!==0){var h=o.deletions;if(h!==null){for(var f=0;f<h.length;f++){var m=h[f];for(ot=m;ot!==null;){var v=ot;switch(v.tag){case 0:case 11:case 15:xf(8,v,o)}var y=v.child;if(y!==null)y.return=v,ot=y;else for(;ot!==null;){v=ot;var w=v.sibling,x=v.return;if(fL(v),v===m){ot=null;break}if(w!==null){w.return=x,ot=w;break}ot=x}}}var C=o.alternate;if(C!==null){var A=C.child;if(A!==null){C.child=null;do{var L=A.sibling;A.sibling=null,A=L}while(A!==null)}}ot=o}}if((o.subtreeFlags&2064)!==0&&c!==null)c.return=o,ot=c;else e:for(;ot!==null;){if(o=ot,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:xf(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,ot=S;break e}ot=o.return}}var k=n.current;for(ot=k;ot!==null;){c=ot;var N=c.child;if((c.subtreeFlags&2064)!==0&&N!==null)N.return=c,ot=N;else e:for(c=k;ot!==null;){if(h=ot,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:Mb(9,h)}}catch(H){vi(h,h.return,H)}if(h===c){ot=null;break e}var O=h.sibling;if(O!==null){O.return=h.return,ot=O;break e}ot=h.return}}if(or=a,Tc(),ul&&typeof ul.onPostCommitFiberRoot=="function")try{ul.onPostCommitFiberRoot(Sb,n)}catch{}r=!0}return r}finally{Or=e,to.transition=t}}return!1}function lO(n,t,e){t=g0(e,t),t=rL(n,t,1),n=oc(n,t,1),t=Ga(),n!==null&&(S_(n,1,t),us(n,t))}function vi(n,t,e){if(n.tag===3)lO(n,n,e);else for(;t!==null;){if(t.tag===3){lO(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lc===null||!lc.has(r))){n=g0(e,n),n=iL(t,n,1),t=oc(t,n,1),n=Ga(),t!==null&&(S_(t,1,n),us(t,n));break}}t=t.return}}function fie(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=Ga(),n.pingedLanes|=n.suspendedLanes&e,Qi===n&&(ha&e)===e&&(Pi===4||Pi===3&&(ha&130023424)===ha&&500>ki()-tk?Cu(n,0):nk|=e),us(n,t)}function kL(n,t){t===0&&((n.mode&1)===0?t=1:(t=bv,bv<<=1,(bv&130023424)===0&&(bv=4194304)));var e=Ga();n=od(n,t),n!==null&&(S_(n,t,e),us(n,e))}function _ie(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),kL(n,e)}function mie(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,a=n.memoizedState;a!==null&&(e=a.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ln(314))}r!==null&&r.delete(t),kL(n,e)}var SL;SL=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||ds.current)os=!0;else{if((n.lanes&e)===0&&(t.flags&128)===0)return os=!1,rie(n,t,e);os=(n.flags&131072)!==0}else os=!1,si&&(t.flags&1048576)!==0&&ID(t,Gg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ug(n,t),n=t.pendingProps;var a=f0(t,Ma.current);d0(t,e),a=Q6(null,t,r,n,a,e);var o=Y6();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cs(r)?(o=!0,zg(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,G6(t),a.updater=Ob,t.stateNode=a,a._reactInternals=t,Kw(t,r,n,e),t=Yw(null,t,r,!0,o,e)):(t.tag=0,si&&o&&P6(t),Ba(null,t,a,e),t=t.child),t;case 16:r=t.elementType;e:{switch(ug(n,t),n=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=gie(r),n=xo(r,n),a){case 0:t=Qw(null,t,r,n,e);break e;case 1:t=ZA(null,t,r,n,e);break e;case 11:t=YA(null,t,r,n,e);break e;case 14:t=XA(null,t,r,xo(r.type,n),e);break e}throw Error(Ln(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xo(r,a),Qw(n,t,r,a,e);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xo(r,a),ZA(n,t,r,a,e);case 3:e:{if(lL(t),n===null)throw Error(Ln(387));r=t.pendingProps,o=t.memoizedState,a=o.element,RD(n,t),Kg(t,r,null,e);var c=t.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=g0(Error(Ln(423)),t),t=JA(n,t,r,e,a);break e}else if(r!==a){a=g0(Error(Ln(424)),t),t=JA(n,t,r,e,a);break e}else for(As=sc(t.stateNode.containerInfo.firstChild),Os=t,si=!0,To=null,e=UD(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(_0(),r===a){t=ld(n,t,e);break e}Ba(n,t,r,e)}t=t.child}return t;case 5:return PD(t),n===null&&Gw(t),r=t.type,a=t.pendingProps,o=n!==null?n.memoizedProps:null,c=a.children,Hw(r,a)?c=null:o!==null&&Hw(r,o)&&(t.flags|=32),oL(n,t),Ba(n,t,c,e),t.child;case 6:return n===null&&Gw(t),null;case 13:return dL(n,t,e);case 4:return q6(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=m0(t,null,r,e):Ba(n,t,r,e),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xo(r,a),YA(n,t,r,a,e);case 7:return Ba(n,t,t.pendingProps,e),t.child;case 8:return Ba(n,t,t.pendingProps.children,e),t.child;case 12:return Ba(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,c=a.value,jr(qg,r._currentValue),r._currentValue=c,o!==null)if(Ao(o.value,c)){if(o.children===a.children&&!ds.current){t=ld(n,t,e);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var h=o.dependencies;if(h!==null){c=o.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=nd(-1,e&-e),f.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?f.next=f:(f.next=v.next,v.next=f),m.pending=f}}o.lanes|=e,f=o.alternate,f!==null&&(f.lanes|=e),qw(o.return,e,t),h.lanes|=e;break}f=f.next}}else if(o.tag===10)c=o.type===t.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(Ln(341));c.lanes|=e,h=c.alternate,h!==null&&(h.lanes|=e),qw(c,e,t),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===t){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Ba(n,t,a.children,e),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,d0(t,e),a=io(a),r=r(a),t.flags|=1,Ba(n,t,r,e),t.child;case 14:return r=t.type,a=xo(r,t.pendingProps),a=xo(r.type,a),XA(n,t,r,a,e);case 15:return aL(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xo(r,a),ug(n,t),t.tag=1,cs(r)?(n=!0,zg(t)):n=!1,d0(t,e),DD(t,r,a),Kw(t,r,a,e),Yw(null,t,r,!0,n,e);case 19:return cL(n,t,e);case 22:return sL(n,t,e)}throw Error(Ln(156,t.tag))};function TL(n,t){return Z7(n,t)}function vie(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(n,t,e,r){return new vie(n,t,e,r)}function sk(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gie(n){if(typeof n=="function")return sk(n)?1:0;if(n!=null){if(n=n.$$typeof,n===S6)return 11;if(n===T6)return 14}return 2}function cc(n,t){var e=n.alternate;return e===null?(e=Js(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function fg(n,t,e,r,a,o){var c=2;if(r=n,typeof n=="function")sk(n)&&(c=1);else if(typeof n=="string")c=5;else e:switch(n){case Vh:return Iu(e.children,a,o,t);case k6:c=8,a|=8;break;case vw:return n=Js(12,e,t,a|2),n.elementType=vw,n.lanes=o,n;case gw:return n=Js(13,e,t,a),n.elementType=gw,n.lanes=o,n;case bw:return n=Js(19,e,t,a),n.elementType=bw,n.lanes=o,n;case L7:return Lb(e,a,o,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M7:c=10;break e;case D7:c=9;break e;case S6:c=11;break e;case T6:c=14;break e;case jd:c=16,r=null;break e}throw Error(Ln(130,n==null?n:typeof n,""))}return t=Js(c,e,t,a),t.elementType=n,t.type=r,t.lanes=o,t}function Iu(n,t,e,r){return n=Js(7,n,r,t),n.lanes=e,n}function Lb(n,t,e,r){return n=Js(22,n,r,t),n.elementType=L7,n.lanes=e,n.stateNode={isHidden:!1},n}function m3(n,t,e){return n=Js(6,n,null,t),n.lanes=e,n}function v3(n,t,e){return t=Js(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function bie(n,t,e,r,a){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=XE(0),this.expirationTimes=XE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=XE(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ok(n,t,e,r,a,o,c,h,f){return n=new bie(n,t,e,h,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Js(3,null,null,t),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},G6(o),n}function yie(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zh,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function CL(n){if(!n)return bc;n=n._reactInternals;e:{if(Ku(n)!==n||n.tag!==1)throw Error(Ln(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ln(171))}if(n.tag===1){var e=n.type;if(cs(e))return TD(n,e,t)}return t}function IL(n,t,e,r,a,o,c,h,f){return n=ok(e,r,!0,n,a,o,c,h,f),n.context=CL(null),e=n.current,r=Ga(),a=dc(e),o=nd(r,a),o.callback=t!=null?t:null,oc(e,o,a),n.current.lanes=a,S_(n,a,r),us(n,r),n}function Ub(n,t,e,r){var a=t.current,o=Ga(),c=dc(a);return e=CL(e),t.context===null?t.context=e:t.pendingContext=e,t=nd(o,c),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=oc(a,t,c),n!==null&&(No(n,a,c,o),lg(n,a,c)),c}function nb(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function dO(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function lk(n,t){dO(n,t),(n=n.alternate)&&dO(n,t)}function Eie(){return null}var NL=typeof reportError=="function"?reportError:function(n){console.error(n)};function dk(n){this._internalRoot=n}Pb.prototype.render=dk.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(Ln(409));Ub(n,t,null,null)};Pb.prototype.unmount=dk.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Hu(function(){Ub(null,n,null,null)}),t[sd]=null}};function Pb(n){this._internalRoot=n}Pb.prototype.unstable_scheduleHydration=function(n){if(n){var t=aD();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Wd.length&&t!==0&&t<Wd[e].priority;e++);Wd.splice(e,0,n),e===0&&oD(n)}};function ck(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Fb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function cO(){}function wie(n,t,e,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var m=nb(c);o.call(m)}}var c=IL(t,r,n,0,null,!1,!1,"",cO);return n._reactRootContainer=c,n[sd]=c.current,t_(n.nodeType===8?n.parentNode:n),Hu(),c}for(;a=n.lastChild;)n.removeChild(a);if(typeof r=="function"){var h=r;r=function(){var m=nb(f);h.call(m)}}var f=ok(n,0,!1,null,null,!1,!1,"",cO);return n._reactRootContainer=f,n[sd]=f.current,t_(n.nodeType===8?n.parentNode:n),Hu(function(){Ub(t,f,e,r)}),f}function Hb(n,t,e,r,a){var o=e._reactRootContainer;if(o){var c=o;if(typeof a=="function"){var h=a;a=function(){var f=nb(c);h.call(f)}}Ub(t,c,n,a)}else c=wie(e,t,n,a,r);return nb(c)}rD=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=of(t.pendingLanes);e!==0&&(N6(t,e|1),us(t,ki()),(or&6)===0&&(b0=ki()+500,Tc()))}break;case 13:Hu(function(){var r=od(n,1);if(r!==null){var a=Ga();No(r,n,1,a)}}),lk(n,1)}};A6=function(n){if(n.tag===13){var t=od(n,134217728);if(t!==null){var e=Ga();No(t,n,134217728,e)}lk(n,134217728)}};iD=function(n){if(n.tag===13){var t=dc(n),e=od(n,t);if(e!==null){var r=Ga();No(e,n,t,r)}lk(n,t)}};aD=function(){return Or};sD=function(n,t){var e=Or;try{return Or=n,t()}finally{Or=e}};Nw=function(n,t,e){switch(t){case"input":if(ww(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var a=Nb(r);if(!a)throw Error(Ln(90));P7(r),ww(r,a)}}}break;case"textarea":H7(n,e);break;case"select":t=e.value,t!=null&&a0(n,!!e.multiple,t,!1)}};j7=rk;K7=Hu;var xie={usingClientEntryPoint:!1,Events:[C_,Kh,Nb,G7,q7,rk]},qp={findFiberByHostInstance:bu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kie={bundleType:qp.bundleType,version:qp.version,rendererPackageName:qp.rendererPackageName,rendererConfig:qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cd.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Y7(n),n===null?null:n.stateNode},findFiberByHostInstance:qp.findFiberByHostInstance||Eie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Av=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Av.isDisabled&&Av.supportsFiber)try{Sb=Av.inject(kie),ul=Av}catch{}}Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xie;Ds.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ck(t))throw Error(Ln(200));return yie(n,t,null,e)};Ds.createRoot=function(n,t){if(!ck(n))throw Error(Ln(299));var e=!1,r="",a=NL;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ok(n,1,!1,null,null,e,!1,r,a),n[sd]=t.current,t_(n.nodeType===8?n.parentNode:n),new dk(t)};Ds.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(Ln(188)):(n=Object.keys(n).join(","),Error(Ln(268,n)));return n=Y7(t),n=n===null?null:n.stateNode,n};Ds.flushSync=function(n){return Hu(n)};Ds.hydrate=function(n,t,e){if(!Fb(t))throw Error(Ln(200));return Hb(null,n,t,!0,e)};Ds.hydrateRoot=function(n,t,e){if(!ck(n))throw Error(Ln(405));var r=e!=null&&e.hydratedSources||null,a=!1,o="",c=NL;if(e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(c=e.onRecoverableError)),t=IL(t,null,n,1,e!=null?e:null,a,!1,o,c),n[sd]=t.current,t_(n),r)for(n=0;n<r.length;n++)e=r[n],a=e._getVersion,a=a(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,a]:t.mutableSourceEagerHydrationData.push(e,a);return new Pb(t)};Ds.render=function(n,t,e){if(!Fb(t))throw Error(Ln(200));return Hb(null,n,t,!1,e)};Ds.unmountComponentAtNode=function(n){if(!Fb(n))throw Error(Ln(40));return n._reactRootContainer?(Hu(function(){Hb(null,null,n,!1,function(){n._reactRootContainer=null,n[sd]=null})}),!0):!1};Ds.unstable_batchedUpdates=rk;Ds.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!Fb(e))throw Error(Ln(200));if(n==null||n._reactInternals===void 0)throw Error(Ln(38));return Hb(n,t,e,!1,r)};Ds.version="18.2.0-next-9e3b772b8-20220608";(function(n){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}t(),n.exports=Ds})(A0);var uO=A0.exports;_w.createRoot=uO.createRoot,_w.hydrateRoot=uO.hydrateRoot;function g3(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.addEventListener&&n.addEventListener.apply(n,t)}function b3(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n&&n.removeEventListener&&n.removeEventListener.apply(n,t)}var AL=typeof window<"u",hO=function(n){var t=window.history,e=t[n];t[n]=function(r){var a=e.apply(this,arguments),o=new Event(n.toLowerCase());return o.state=r,window.dispatchEvent(o),a}};AL&&(hO("pushState"),hO("replaceState"));var Sie=function(){return{trigger:"load",length:1}},Ov=function(n){var t=window.history,e=t.state,r=t.length,a=window.location,o=a.hash,c=a.host,h=a.hostname,f=a.href,m=a.origin,v=a.pathname,y=a.port,w=a.protocol,x=a.search;return{trigger:n,state:e,length:r,hash:o,host:c,hostname:h,href:f,origin:m,pathname:v,port:y,protocol:w,search:x}},Tie=function(){var n=Oe.exports.useState(Ov("load")),t=n[0],e=n[1];return Oe.exports.useEffect(function(){var r=function(){return e(Ov("popstate"))},a=function(){return e(Ov("pushstate"))},o=function(){return e(Ov("replacestate"))};return g3(window,"popstate",r),g3(window,"pushstate",a),g3(window,"replacestate",o),function(){b3(window,"popstate",r),b3(window,"pushstate",a),b3(window,"replacestate",o)}},[]),t},Cie=typeof Event=="function";const Iie=AL&&Cie?Tie:Sie;var uk={exports:{}},Bb={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nie=Oe.exports,Aie=Symbol.for("react.element"),Oie=Symbol.for("react.fragment"),Rie=Object.prototype.hasOwnProperty,Mie=Nie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Die={key:!0,ref:!0,__self:!0,__source:!0};function OL(n,t,e){var r,a={},o=null,c=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)Rie.call(t,r)&&!Die.hasOwnProperty(r)&&(a[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Aie,type:n,key:o,ref:c,props:a,_owner:Mie.current}}Bb.Fragment=Oie;Bb.jsx=OL;Bb.jsxs=OL;(function(n){n.exports=Bb})(uk);const Re=uk.exports.jsx,Dr=uk.exports.jsxs;function Lie(n,t){return t.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if(r!=="default"&&!(r in n)){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(n)}var uc=function(){return uc=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},uc.apply(this,arguments)};function fa(n,t,e,r){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function h(v){try{m(r.next(v))}catch(y){c(y)}}function f(v){try{m(r.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):a(v.value).then(h,f)}m((r=r.apply(n,t||[])).next())})}function _a(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(v){return f([m,v])}}function f(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,a&&(o=m[0]&2?a.return:m[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,m[1])).done)return o;switch(a=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,a=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){e=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(m[0]===6&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(n,e)}catch(v){m=[6,v],a=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function ls(n,t,e){if(e||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))}var _g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={exports:{}};(function(n,t){(function(e,r){r(t)})(_g,function(e){function r(s,l){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);l&&(d=d.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,d)}return i}function a(s){for(var l=1;l<arguments.length;l++){var i=arguments[l]!=null?arguments[l]:{};l%2?r(Object(i),!0).forEach(function(d){y(s,d,i[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(i,d))})}return s}function o(){o=function(){return s};var s={},l=Object.prototype,i=l.hasOwnProperty,d=Object.defineProperty||function(Cn,Tn,Vn){Cn[Tn]=Vn.value},u=typeof Symbol=="function"?Symbol:{},p=u.iterator||"@@iterator",_=u.asyncIterator||"@@asyncIterator",g=u.toStringTag||"@@toStringTag";function b(Cn,Tn,Vn){return Object.defineProperty(Cn,Tn,{value:Vn,enumerable:!0,configurable:!0,writable:!0}),Cn[Tn]}try{b({},"")}catch{b=function(Tn,Vn,_t){return Tn[Vn]=_t}}function E(Cn,Tn,Vn,_t){var dt=Tn&&Tn.prototype instanceof Y?Tn:Y,sr=Object.create(dt.prototype),Kt=new Ye(_t||[]);return d(sr,"_invoke",{value:Ce(Cn,Vn,Kt)}),sr}function I(Cn,Tn,Vn){try{return{type:"normal",arg:Cn.call(Tn,Vn)}}catch(_t){return{type:"throw",arg:_t}}}s.wrap=E;var U={};function Y(){}function K(){}function ce(){}var ae={};b(ae,p,function(){return this});var pe=Object.getPrototypeOf,Ne=pe&&pe(pe(kn([])));Ne&&Ne!==l&&i.call(Ne,p)&&(ae=Ne);var Ee=ce.prototype=Y.prototype=Object.create(ae);function ze(Cn){["next","throw","return"].forEach(function(Tn){b(Cn,Tn,function(Vn){return this._invoke(Tn,Vn)})})}function dn(Cn,Tn){function Vn(dt,sr,Kt,$i){var ra=I(Cn[dt],Cn,sr);if(ra.type!=="throw"){var Ll=ra.arg,Fd=Ll.value;return Fd&&typeof Fd=="object"&&i.call(Fd,"__await")?Tn.resolve(Fd.__await).then(function(zs){Vn("next",zs,Kt,$i)},function(zs){Vn("throw",zs,Kt,$i)}):Tn.resolve(Fd).then(function(zs){Ll.value=zs,Kt(Ll)},function(zs){return Vn("throw",zs,Kt,$i)})}$i(ra.arg)}var _t;d(this,"_invoke",{value:function(dt,sr){function Kt(){return new Tn(function($i,ra){Vn(dt,sr,$i,ra)})}return _t=_t?_t.then(Kt,Kt):Kt()}})}function Ce(Cn,Tn,Vn){var _t="suspendedStart";return function(dt,sr){if(_t==="executing")throw new Error("Generator is already running");if(_t==="completed"){if(dt==="throw")throw sr;return ar()}for(Vn.method=dt,Vn.arg=sr;;){var Kt=Vn.delegate;if(Kt){var $i=be(Kt,Vn);if($i){if($i===U)continue;return $i}}if(Vn.method==="next")Vn.sent=Vn._sent=Vn.arg;else if(Vn.method==="throw"){if(_t==="suspendedStart")throw _t="completed",Vn.arg;Vn.dispatchException(Vn.arg)}else Vn.method==="return"&&Vn.abrupt("return",Vn.arg);_t="executing";var ra=I(Cn,Tn,Vn);if(ra.type==="normal"){if(_t=Vn.done?"completed":"suspendedYield",ra.arg===U)continue;return{value:ra.arg,done:Vn.done}}ra.type==="throw"&&(_t="completed",Vn.method="throw",Vn.arg=ra.arg)}}}function be(Cn,Tn){var Vn=Tn.method,_t=Cn.iterator[Vn];if(_t===void 0)return Tn.delegate=null,Vn==="throw"&&Cn.iterator.return&&(Tn.method="return",Tn.arg=void 0,be(Cn,Tn),Tn.method==="throw")||Vn!=="return"&&(Tn.method="throw",Tn.arg=new TypeError("The iterator does not provide a '"+Vn+"' method")),U;var dt=I(_t,Cn.iterator,Tn.arg);if(dt.type==="throw")return Tn.method="throw",Tn.arg=dt.arg,Tn.delegate=null,U;var sr=dt.arg;return sr?sr.done?(Tn[Cn.resultName]=sr.value,Tn.next=Cn.nextLoc,Tn.method!=="return"&&(Tn.method="next",Tn.arg=void 0),Tn.delegate=null,U):sr:(Tn.method="throw",Tn.arg=new TypeError("iterator result is not an object"),Tn.delegate=null,U)}function rn(Cn){var Tn={tryLoc:Cn[0]};1 in Cn&&(Tn.catchLoc=Cn[1]),2 in Cn&&(Tn.finallyLoc=Cn[2],Tn.afterLoc=Cn[3]),this.tryEntries.push(Tn)}function Je(Cn){var Tn=Cn.completion||{};Tn.type="normal",delete Tn.arg,Cn.completion=Tn}function Ye(Cn){this.tryEntries=[{tryLoc:"root"}],Cn.forEach(rn,this),this.reset(!0)}function kn(Cn){if(Cn){var Tn=Cn[p];if(Tn)return Tn.call(Cn);if(typeof Cn.next=="function")return Cn;if(!isNaN(Cn.length)){var Vn=-1,_t=function dt(){for(;++Vn<Cn.length;)if(i.call(Cn,Vn))return dt.value=Cn[Vn],dt.done=!1,dt;return dt.value=void 0,dt.done=!0,dt};return _t.next=_t}}return{next:ar}}function ar(){return{value:void 0,done:!0}}return K.prototype=ce,d(Ee,"constructor",{value:ce,configurable:!0}),d(ce,"constructor",{value:K,configurable:!0}),K.displayName=b(ce,g,"GeneratorFunction"),s.isGeneratorFunction=function(Cn){var Tn=typeof Cn=="function"&&Cn.constructor;return!!Tn&&(Tn===K||(Tn.displayName||Tn.name)==="GeneratorFunction")},s.mark=function(Cn){return Object.setPrototypeOf?Object.setPrototypeOf(Cn,ce):(Cn.__proto__=ce,b(Cn,g,"GeneratorFunction")),Cn.prototype=Object.create(Ee),Cn},s.awrap=function(Cn){return{__await:Cn}},ze(dn.prototype),b(dn.prototype,_,function(){return this}),s.AsyncIterator=dn,s.async=function(Cn,Tn,Vn,_t,dt){dt===void 0&&(dt=Promise);var sr=new dn(E(Cn,Tn,Vn,_t),dt);return s.isGeneratorFunction(Tn)?sr:sr.next().then(function(Kt){return Kt.done?Kt.value:sr.next()})},ze(Ee),b(Ee,g,"Generator"),b(Ee,p,function(){return this}),b(Ee,"toString",function(){return"[object Generator]"}),s.keys=function(Cn){var Tn=Object(Cn),Vn=[];for(var _t in Tn)Vn.push(_t);return Vn.reverse(),function dt(){for(;Vn.length;){var sr=Vn.pop();if(sr in Tn)return dt.value=sr,dt.done=!1,dt}return dt.done=!0,dt}},s.values=kn,Ye.prototype={constructor:Ye,reset:function(Cn){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Je),!Cn)for(var Tn in this)Tn.charAt(0)==="t"&&i.call(this,Tn)&&!isNaN(+Tn.slice(1))&&(this[Tn]=void 0)},stop:function(){this.done=!0;var Cn=this.tryEntries[0].completion;if(Cn.type==="throw")throw Cn.arg;return this.rval},dispatchException:function(Cn){if(this.done)throw Cn;var Tn=this;function Vn(ra,Ll){return sr.type="throw",sr.arg=Cn,Tn.next=ra,Ll&&(Tn.method="next",Tn.arg=void 0),!!Ll}for(var _t=this.tryEntries.length-1;_t>=0;--_t){var dt=this.tryEntries[_t],sr=dt.completion;if(dt.tryLoc==="root")return Vn("end");if(dt.tryLoc<=this.prev){var Kt=i.call(dt,"catchLoc"),$i=i.call(dt,"finallyLoc");if(Kt&&$i){if(this.prev<dt.catchLoc)return Vn(dt.catchLoc,!0);if(this.prev<dt.finallyLoc)return Vn(dt.finallyLoc)}else if(Kt){if(this.prev<dt.catchLoc)return Vn(dt.catchLoc,!0)}else{if(!$i)throw new Error("try statement without catch or finally");if(this.prev<dt.finallyLoc)return Vn(dt.finallyLoc)}}}},abrupt:function(Cn,Tn){for(var Vn=this.tryEntries.length-1;Vn>=0;--Vn){var _t=this.tryEntries[Vn];if(_t.tryLoc<=this.prev&&i.call(_t,"finallyLoc")&&this.prev<_t.finallyLoc){var dt=_t;break}}dt&&(Cn==="break"||Cn==="continue")&&dt.tryLoc<=Tn&&Tn<=dt.finallyLoc&&(dt=null);var sr=dt?dt.completion:{};return sr.type=Cn,sr.arg=Tn,dt?(this.method="next",this.next=dt.finallyLoc,U):this.complete(sr)},complete:function(Cn,Tn){if(Cn.type==="throw")throw Cn.arg;return Cn.type==="break"||Cn.type==="continue"?this.next=Cn.arg:Cn.type==="return"?(this.rval=this.arg=Cn.arg,this.method="return",this.next="end"):Cn.type==="normal"&&Tn&&(this.next=Tn),U},finish:function(Cn){for(var Tn=this.tryEntries.length-1;Tn>=0;--Tn){var Vn=this.tryEntries[Tn];if(Vn.finallyLoc===Cn)return this.complete(Vn.completion,Vn.afterLoc),Je(Vn),U}},catch:function(Cn){for(var Tn=this.tryEntries.length-1;Tn>=0;--Tn){var Vn=this.tryEntries[Tn];if(Vn.tryLoc===Cn){var _t=Vn.completion;if(_t.type==="throw"){var dt=_t.arg;Je(Vn)}return dt}}throw new Error("illegal catch attempt")},delegateYield:function(Cn,Tn,Vn){return this.delegate={iterator:kn(Cn),resultName:Tn,nextLoc:Vn},this.method==="next"&&(this.arg=void 0),U}},s}function c(s,l,i,d,u,p,_){try{var g=s[p](_),b=g.value}catch(E){return void i(E)}g.done?l(b):Promise.resolve(b).then(d,u)}function h(s){return function(){var l=this,i=arguments;return new Promise(function(d,u){var p=s.apply(l,i);function _(b){c(p,d,u,_,g,"next",b)}function g(b){c(p,d,u,_,g,"throw",b)}_(void 0)})}}function f(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function m(s,l){for(var i=0;i<l.length;i++){var d=l[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,q(d.key),d)}}function v(s,l,i){return l&&m(s.prototype,l),i&&m(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}function y(s,l,i){return(l=q(l))in s?Object.defineProperty(s,l,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[l]=i,s}function w(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),l&&C(s,l)}function x(s){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},x(s)}function C(s,l){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,d){return i.__proto__=d,i},C(s,l)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(s,l,i){return L=A()?Reflect.construct.bind():function(d,u,p){var _=[null];_.push.apply(_,u);var g=new(Function.bind.apply(d,_));return p&&C(g,p.prototype),g},L.apply(null,arguments)}function S(s){var l=typeof Map=="function"?new Map:void 0;return S=function(i){if(i===null||!function(u){return Function.toString.call(u).indexOf("[native code]")!==-1}(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(l!==void 0){if(l.has(i))return l.get(i);l.set(i,d)}function d(){return L(i,arguments,x(this).constructor)}return d.prototype=Object.create(i.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),C(d,i)},S(s)}function k(s,l){if(s==null)return{};var i,d,u=function(_,g){if(_==null)return{};var b,E,I={},U=Object.keys(_);for(E=0;E<U.length;E++)b=U[E],g.indexOf(b)>=0||(I[b]=_[b]);return I}(s,l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(s);for(d=0;d<p.length;d++)i=p[d],l.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(s,i)&&(u[i]=s[i])}return u}function N(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function O(s){var l=A();return function(){var i,d=x(s);if(l){var u=x(this).constructor;i=Reflect.construct(d,arguments,u)}else i=d.apply(this,arguments);return function(p,_){if(_&&(typeof _=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(p)}(this,i)}}function H(s){return function(l){if(Array.isArray(l))return T(l)}(s)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(s)||D(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(s,l){if(s){if(typeof s=="string")return T(s,l);var i=Object.prototype.toString.call(s).slice(8,-1);return i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set"?Array.from(s):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?T(s,l):void 0}}function T(s,l){(l==null||l>s.length)&&(l=s.length);for(var i=0,d=new Array(l);i<l;i++)d[i]=s[i];return d}function M(s,l){var i=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!i){if(Array.isArray(s)||(i=D(s))||l&&s&&typeof s.length=="number"){i&&(s=i);var d=0,u=function(){};return{s:u,n:function(){return d>=s.length?{done:!0}:{done:!1,value:s[d++]}},e:function(b){throw b},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,_=!0,g=!1;return{s:function(){i=i.call(s)},n:function(){var b=i.next();return _=b.done,b},e:function(b){g=!0,p=b},f:function(){try{_||i.return==null||i.return()}finally{if(g)throw p}}}}function q(s){var l=function(i,d){if(typeof i!="object"||i===null)return i;var u=i[Symbol.toPrimitive];if(u!==void 0){var p=u.call(i,d||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(i)}(s,"string");return typeof l=="symbol"?l:String(l)}var z,te=new Uint8Array(16);function he(){if(!z&&!(z=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(te)}var B=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function W(s){return typeof s=="string"&&B.test(s)}for(var re=[],j=0;j<256;++j)re.push((j+256).toString(16).substr(1));function _e(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(re[s[l+0]]+re[s[l+1]]+re[s[l+2]]+re[s[l+3]]+"-"+re[s[l+4]]+re[s[l+5]]+"-"+re[s[l+6]]+re[s[l+7]]+"-"+re[s[l+8]]+re[s[l+9]]+"-"+re[s[l+10]]+re[s[l+11]]+re[s[l+12]]+re[s[l+13]]+re[s[l+14]]+re[s[l+15]]).toLowerCase();if(!W(i))throw TypeError("Stringified UUID is invalid");return i}var ie="6ba7b810-9dad-11d1-80b4-00c04fd430c8",se="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function me(s,l,i){function d(u,p,_,g){if(typeof u=="string"&&(u=function(I){I=unescape(encodeURIComponent(I));for(var U=[],Y=0;Y<I.length;++Y)U.push(I.charCodeAt(Y));return U}(u)),typeof p=="string"&&(p=function(I){if(!W(I))throw TypeError("Invalid UUID");var U,Y=new Uint8Array(16);return Y[0]=(U=parseInt(I.slice(0,8),16))>>>24,Y[1]=U>>>16&255,Y[2]=U>>>8&255,Y[3]=255&U,Y[4]=(U=parseInt(I.slice(9,13),16))>>>8,Y[5]=255&U,Y[6]=(U=parseInt(I.slice(14,18),16))>>>8,Y[7]=255&U,Y[8]=(U=parseInt(I.slice(19,23),16))>>>8,Y[9]=255&U,Y[10]=(U=parseInt(I.slice(24,36),16))/1099511627776&255,Y[11]=U/4294967296&255,Y[12]=U>>>24&255,Y[13]=U>>>16&255,Y[14]=U>>>8&255,Y[15]=255&U,Y}(p)),p.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var b=new Uint8Array(16+u.length);if(b.set(p),b.set(u,p.length),(b=i(b))[6]=15&b[6]|l,b[8]=63&b[8]|128,_){g=g||0;for(var E=0;E<16;++E)_[g+E]=b[E];return _}return _e(b)}try{d.name=s}catch{}return d.DNS=ie,d.URL=se,d}function Me(s){return 14+(s+64>>>9<<4)+1}function de(s,l){var i=(65535&s)+(65535&l);return(s>>16)+(l>>16)+(i>>16)<<16|65535&i}function ue(s,l,i,d,u,p){return de((_=de(de(l,s),de(d,p)))<<(g=u)|_>>>32-g,i);var _,g}function V(s,l,i,d,u,p,_){return ue(l&i|~l&d,s,l,u,p,_)}function Q(s,l,i,d,u,p,_){return ue(l&d|i&~d,s,l,u,p,_)}function $(s,l,i,d,u,p,_){return ue(l^i^d,s,l,u,p,_)}function ne(s,l,i,d,u,p,_){return ue(i^(l|~d),s,l,u,p,_)}function De(s,l,i){var d=(s=s||{}).random||(s.rng||he)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,l){i=i||0;for(var u=0;u<16;++u)l[i+u]=d[u];return l}return _e(d)}function We(s,l,i,d){switch(s){case 0:return l&i^~l&d;case 1:case 3:return l^i^d;case 2:return l&i^l&d^i&d}}function Ae(s,l){return s<<l|s>>>32-l}me("v3",48,function(s){if(typeof s=="string"){var l=unescape(encodeURIComponent(s));s=new Uint8Array(l.length);for(var i=0;i<l.length;++i)s[i]=l.charCodeAt(i)}return function(d){for(var u=[],p=32*d.length,_="0123456789abcdef",g=0;g<p;g+=8){var b=d[g>>5]>>>g%32&255,E=parseInt(_.charAt(b>>>4&15)+_.charAt(15&b),16);u.push(E)}return u}(function(d,u){d[u>>5]|=128<<u%32,d[Me(u)-1]=u;for(var p=1732584193,_=-271733879,g=-1732584194,b=271733878,E=0;E<d.length;E+=16){var I=p,U=_,Y=g,K=b;p=V(p,_,g,b,d[E],7,-680876936),b=V(b,p,_,g,d[E+1],12,-389564586),g=V(g,b,p,_,d[E+2],17,606105819),_=V(_,g,b,p,d[E+3],22,-1044525330),p=V(p,_,g,b,d[E+4],7,-176418897),b=V(b,p,_,g,d[E+5],12,1200080426),g=V(g,b,p,_,d[E+6],17,-1473231341),_=V(_,g,b,p,d[E+7],22,-45705983),p=V(p,_,g,b,d[E+8],7,1770035416),b=V(b,p,_,g,d[E+9],12,-1958414417),g=V(g,b,p,_,d[E+10],17,-42063),_=V(_,g,b,p,d[E+11],22,-1990404162),p=V(p,_,g,b,d[E+12],7,1804603682),b=V(b,p,_,g,d[E+13],12,-40341101),g=V(g,b,p,_,d[E+14],17,-1502002290),p=Q(p,_=V(_,g,b,p,d[E+15],22,1236535329),g,b,d[E+1],5,-165796510),b=Q(b,p,_,g,d[E+6],9,-1069501632),g=Q(g,b,p,_,d[E+11],14,643717713),_=Q(_,g,b,p,d[E],20,-373897302),p=Q(p,_,g,b,d[E+5],5,-701558691),b=Q(b,p,_,g,d[E+10],9,38016083),g=Q(g,b,p,_,d[E+15],14,-660478335),_=Q(_,g,b,p,d[E+4],20,-405537848),p=Q(p,_,g,b,d[E+9],5,568446438),b=Q(b,p,_,g,d[E+14],9,-1019803690),g=Q(g,b,p,_,d[E+3],14,-187363961),_=Q(_,g,b,p,d[E+8],20,1163531501),p=Q(p,_,g,b,d[E+13],5,-1444681467),b=Q(b,p,_,g,d[E+2],9,-51403784),g=Q(g,b,p,_,d[E+7],14,1735328473),p=$(p,_=Q(_,g,b,p,d[E+12],20,-1926607734),g,b,d[E+5],4,-378558),b=$(b,p,_,g,d[E+8],11,-2022574463),g=$(g,b,p,_,d[E+11],16,1839030562),_=$(_,g,b,p,d[E+14],23,-35309556),p=$(p,_,g,b,d[E+1],4,-1530992060),b=$(b,p,_,g,d[E+4],11,1272893353),g=$(g,b,p,_,d[E+7],16,-155497632),_=$(_,g,b,p,d[E+10],23,-1094730640),p=$(p,_,g,b,d[E+13],4,681279174),b=$(b,p,_,g,d[E],11,-358537222),g=$(g,b,p,_,d[E+3],16,-722521979),_=$(_,g,b,p,d[E+6],23,76029189),p=$(p,_,g,b,d[E+9],4,-640364487),b=$(b,p,_,g,d[E+12],11,-421815835),g=$(g,b,p,_,d[E+15],16,530742520),p=ne(p,_=$(_,g,b,p,d[E+2],23,-995338651),g,b,d[E],6,-198630844),b=ne(b,p,_,g,d[E+7],10,1126891415),g=ne(g,b,p,_,d[E+14],15,-1416354905),_=ne(_,g,b,p,d[E+5],21,-57434055),p=ne(p,_,g,b,d[E+12],6,1700485571),b=ne(b,p,_,g,d[E+3],10,-1894986606),g=ne(g,b,p,_,d[E+10],15,-1051523),_=ne(_,g,b,p,d[E+1],21,-2054922799),p=ne(p,_,g,b,d[E+8],6,1873313359),b=ne(b,p,_,g,d[E+15],10,-30611744),g=ne(g,b,p,_,d[E+6],15,-1560198380),_=ne(_,g,b,p,d[E+13],21,1309151649),p=ne(p,_,g,b,d[E+4],6,-145523070),b=ne(b,p,_,g,d[E+11],10,-1120210379),g=ne(g,b,p,_,d[E+2],15,718787259),_=ne(_,g,b,p,d[E+9],21,-343485551),p=de(p,I),_=de(_,U),g=de(g,Y),b=de(b,K)}return[p,_,g,b]}(function(d){if(d.length===0)return[];for(var u=8*d.length,p=new Uint32Array(Me(u)),_=0;_<u;_+=8)p[_>>5]|=(255&d[_/8])<<_%32;return p}(s),8*s.length))}),me("v5",80,function(s){var l=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var d=unescape(encodeURIComponent(s));s=[];for(var u=0;u<d.length;++u)s.push(d.charCodeAt(u))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var p=s.length/4+2,_=Math.ceil(p/16),g=new Array(_),b=0;b<_;++b){for(var E=new Uint32Array(16),I=0;I<16;++I)E[I]=s[64*b+4*I]<<24|s[64*b+4*I+1]<<16|s[64*b+4*I+2]<<8|s[64*b+4*I+3];g[b]=E}g[_-1][14]=8*(s.length-1)/Math.pow(2,32),g[_-1][14]=Math.floor(g[_-1][14]),g[_-1][15]=8*(s.length-1)&4294967295;for(var U=0;U<_;++U){for(var Y=new Uint32Array(80),K=0;K<16;++K)Y[K]=g[U][K];for(var ce=16;ce<80;++ce)Y[ce]=Ae(Y[ce-3]^Y[ce-8]^Y[ce-14]^Y[ce-16],1);for(var ae=i[0],pe=i[1],Ne=i[2],Ee=i[3],ze=i[4],dn=0;dn<80;++dn){var Ce=Math.floor(dn/20),be=Ae(ae,5)+We(Ce,pe,Ne,Ee)+ze+l[Ce]+Y[dn]>>>0;ze=Ee,Ee=Ne,Ne=Ae(pe,30)>>>0,pe=ae,ae=be}i[0]=i[0]+ae>>>0,i[1]=i[1]+pe>>>0,i[2]=i[2]+Ne>>>0,i[3]=i[3]+Ee>>>0,i[4]=i[4]+ze>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]});var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof _g<"u"?_g:typeof self<"u"?self:{},Ue=function(s){try{return!!s()}catch{return!0}},He=!Ue(function(){var s=function(){}.bind();return typeof s!="function"||s.hasOwnProperty("prototype")}),en=He,nn=Function.prototype,un=nn.call,mn=en&&nn.bind.bind(un,un),ln=en?mn:function(s){return function(){return un.apply(s,arguments)}},Bn=ln,Gn=Bn({}.toString),G=Bn("".slice),J=function(s){return G(Gn(s),8,-1)},En=Ue,In=J,Zn=Object,jn=ln("".split),zn=En(function(){return!Zn("z").propertyIsEnumerable(0)})?function(s){return In(s)=="String"?jn(s,""):Zn(s)}:Zn,Rn=function(s){return s==null},ft=Rn,Xn=TypeError,xn=function(s){if(ft(s))throw Xn("Can't call method on "+s);return s},Ct=zn,vt=xn,Kn=function(s){return Ct(vt(s))},Dn=function(s){return s&&s.Math==Math&&s},an=Dn(typeof globalThis=="object"&&globalThis)||Dn(typeof window=="object"&&window)||Dn(typeof self=="object"&&self)||Dn(typeof we=="object"&&we)||function(){return this}()||Function("return this")(),lt={exports:{}},pt=an,xt=Object.defineProperty,Et=function(s,l){try{xt(pt,s,{value:l,configurable:!0,writable:!0})}catch{pt[s]=l}return l},pr=Et,ei="__core-js_shared__",Rr=an[ei]||pr(ei,{}),Xa=Rr;(lt.exports=function(s,l){return Xa[s]||(Xa[s]=l!==void 0?l:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Kr,Xi,Oi=xn,le=Object,oe=function(s){return le(Oi(s))},xe=oe,Ie=ln({}.hasOwnProperty),Fe=Object.hasOwn||function(s,l){return Ie(xe(s),l)},ve=ln,Be=0,Ge=Math.random(),Pe=ve(1 .toString),tn=function(s){return"Symbol("+(s===void 0?"":s)+")_"+Pe(++Be+Ge,36)},qe=typeof navigator<"u"&&String(navigator.userAgent)||"",on=an,An=qe,at=on.process,Ke=on.Deno,ke=at&&at.versions||Ke&&Ke.version,Te=ke&&ke.v8;Te&&(Xi=(Kr=Te.split("."))[0]>0&&Kr[0]<4?1:+(Kr[0]+Kr[1])),!Xi&&An&&(!(Kr=An.match(/Edge\/(\d+)/))||Kr[1]>=74)&&(Kr=An.match(/Chrome\/(\d+)/))&&(Xi=+Kr[1]);var Xe=Xi,Wn=Xe,fn=Ue,Un=!!Object.getOwnPropertySymbols&&!fn(function(){var s=Symbol();return!String(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&Wn&&Wn<41}),cn=Un&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Jn=an,zt=lt.exports,Mn=Fe,gt=tn,It=Un,dr=cn,Wr=Jn.Symbol,yr=zt("wks"),fr=dr?Wr.for||Wr:Wr&&Wr.withoutSetter||gt,Ht=function(s){return Mn(yr,s)||(yr[s]=It&&Mn(Wr,s)?Wr[s]:fr("Symbol."+s)),yr[s]},gi=typeof document=="object"&&document.all,Lr={all:gi,IS_HTMLDDA:gi===void 0&&gi!==void 0},Fi=Lr.all,jt=Lr.IS_HTMLDDA?function(s){return typeof s=="function"||s===Fi}:function(s){return typeof s=="function"},fi=jt,Da=Lr.all,Ur=Lr.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:fi(s)||s===Da}:function(s){return typeof s=="object"?s!==null:fi(s)},El=Ur,fd=String,wl=TypeError,oi=function(s){if(El(s))return s;throw wl(fd(s)+" is not an object")},_r={},bi=!Ue(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),_d=bi&&Ue(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Si={},xl=Ur,Lo=an.document,Uo=xl(Lo)&&xl(Lo.createElement),Po=function(s){return Uo?Lo.createElement(s):{}},ni=Po,Fo=!bi&&!Ue(function(){return Object.defineProperty(ni("div"),"a",{get:function(){return 7}}).a!=7}),md=He,Rt=Function.prototype.call,Qn=md?Rt.bind(Rt):function(){return Rt.apply(Rt,arguments)},Ze=an,je=jt,qn=function(s,l){return arguments.length<2?(i=Ze[s],je(i)?i:void 0):Ze[s]&&Ze[s][l];var i},et=ln({}.isPrototypeOf),Zt=qn,Nt=jt,La=et,vd=Object,gd=cn?function(s){return typeof s=="symbol"}:function(s){var l=Zt("Symbol");return Nt(l)&&La(l.prototype,vd(s))},WP=String,H0=function(s){try{return WP(s)}catch{return"Object"}},QP=jt,YP=H0,XP=TypeError,Ho=function(s){if(QP(s))return s;throw XP(YP(s)+" is not a function")},ZP=Ho,JP=Rn,B0=function(s,l){var i=s[l];return JP(i)?void 0:ZP(i)},f1=Qn,_1=jt,m1=Ur,eF=TypeError,nF=Qn,Vk=Ur,Gk=gd,tF=B0,rF=function(s,l){var i,d;if(l==="string"&&_1(i=s.toString)&&!m1(d=f1(i,s))||_1(i=s.valueOf)&&!m1(d=f1(i,s))||l!=="string"&&_1(i=s.toString)&&!m1(d=f1(i,s)))return d;throw eF("Can't convert object to primitive value")},iF=TypeError,aF=Ht("toPrimitive"),qk=function(s,l){if(!Vk(s)||Gk(s))return s;var i,d=tF(s,aF);if(d){if(l===void 0&&(l="default"),i=nF(d,s,l),!Vk(i)||Gk(i))return i;throw iF("Can't convert object to primitive value")}return l===void 0&&(l="number"),rF(s,l)},sF=qk,oF=gd,v1=function(s){var l=sF(s,"string");return oF(l)?l:l+""},lF=bi,dF=Fo,cF=_d,U_=oi,jk=v1,uF=TypeError,g1=Object.defineProperty,hF=Object.getOwnPropertyDescriptor,b1="enumerable",y1="configurable",E1="writable";Si.f=lF?cF?function(s,l,i){if(U_(s),l=jk(l),U_(i),typeof s=="function"&&l==="prototype"&&"value"in i&&E1 in i&&!i[E1]){var d=hF(s,l);d&&d[E1]&&(s[l]=i.value,i={configurable:y1 in i?i[y1]:d[y1],enumerable:b1 in i?i[b1]:d[b1],writable:!1})}return g1(s,l,i)}:g1:function(s,l,i){if(U_(s),l=jk(l),U_(i),dF)try{return g1(s,l,i)}catch{}if("get"in i||"set"in i)throw uF("Accessors not supported");return"value"in i&&(s[l]=i.value),s};var pF=Math.ceil,fF=Math.floor,_F=Math.trunc||function(s){var l=+s;return(l>0?fF:pF)(l)},mF=_F,th=function(s){var l=+s;return l!=l||l===0?0:mF(l)},vF=th,gF=Math.max,bF=Math.min,P_=function(s,l){var i=vF(s);return i<0?gF(i+l,0):bF(i,l)},yF=th,EF=Math.min,F_=function(s){return s>0?EF(yF(s),9007199254740991):0},wF=F_,bd=function(s){return wF(s.length)},xF=Kn,kF=P_,SF=bd,Kk=function(s){return function(l,i,d){var u,p=xF(l),_=SF(p),g=kF(d,_);if(s&&i!=i){for(;_>g;)if((u=p[g++])!=u)return!0}else for(;_>g;g++)if((s||g in p)&&p[g]===i)return s||g||0;return!s&&-1}},w1={includes:Kk(!0),indexOf:Kk(!1)},H_={},x1=Fe,TF=Kn,CF=w1.indexOf,IF=H_,Wk=ln([].push),Qk=function(s,l){var i,d=TF(s),u=0,p=[];for(i in d)!x1(IF,i)&&x1(d,i)&&Wk(p,i);for(;l.length>u;)x1(d,i=l[u++])&&(~CF(p,i)||Wk(p,i));return p},k1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],NF=Qk,AF=k1,S1=Object.keys||function(s){return NF(s,AF)},OF=bi,RF=_d,MF=Si,DF=oi,LF=Kn,UF=S1;_r.f=OF&&!RF?Object.defineProperties:function(s,l){DF(s);for(var i,d=LF(l),u=UF(l),p=u.length,_=0;p>_;)MF.f(s,i=u[_++],d[i]);return s};var B_,Yk=qn("document","documentElement"),PF=lt.exports,FF=tn,Xk=PF("keys"),T1=function(s){return Xk[s]||(Xk[s]=FF(s))},HF=oi,BF=_r,Zk=k1,$F=H_,zF=Yk,VF=Po,C1="prototype",I1="script",Jk=T1("IE_PROTO"),N1=function(){},eS=function(s){return"<"+I1+">"+s+"</"+I1+">"},nS=function(s){s.write(eS("")),s.close();var l=s.parentWindow.Object;return s=null,l},$_=function(){try{B_=new ActiveXObject("htmlfile")}catch{}var s,l,i;$_=typeof document<"u"?document.domain&&B_?nS(B_):(l=VF("iframe"),i="java"+I1+":",l.style.display="none",zF.appendChild(l),l.src=String(i),(s=l.contentWindow.document).open(),s.write(eS("document.F=Object")),s.close(),s.F):nS(B_);for(var d=Zk.length;d--;)delete $_[C1][Zk[d]];return $_()};$F[Jk]=!0;var z_=Object.create||function(s,l){var i;return s!==null?(N1[C1]=HF(s),i=new N1,N1[C1]=null,i[Jk]=s):i=$_(),l===void 0?i:BF.f(i,l)},GF=Ht,qF=z_,jF=Si.f,A1=GF("unscopables"),O1=Array.prototype;O1[A1]==null&&jF(O1,A1,{configurable:!0,value:qF(null)});var V_,$0,G_,q_=function(s){O1[A1][s]=!0},z0={},KF=jt,tS=an.WeakMap,WF=KF(tS)&&/native code/.test(String(tS)),j_=function(s,l){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:l}},QF=Si,YF=j_,rh=bi?function(s,l,i){return QF.f(s,l,YF(1,i))}:function(s,l,i){return s[l]=i,s},XF=WF,rS=an,ZF=Ur,JF=rh,R1=Fe,M1=Rr,eH=T1,nH=H_,iS="Object already initialized",D1=rS.TypeError,tH=rS.WeakMap;if(XF||M1.state){var Bo=M1.state||(M1.state=new tH);Bo.get=Bo.get,Bo.has=Bo.has,Bo.set=Bo.set,V_=function(s,l){if(Bo.has(s))throw D1(iS);return l.facade=s,Bo.set(s,l),l},$0=function(s){return Bo.get(s)||{}},G_=function(s){return Bo.has(s)}}else{var ih=eH("state");nH[ih]=!0,V_=function(s,l){if(R1(s,ih))throw D1(iS);return l.facade=s,JF(s,ih,l),l},$0=function(s){return R1(s,ih)?s[ih]:{}},G_=function(s){return R1(s,ih)}}var yd={set:V_,get:$0,has:G_,enforce:function(s){return G_(s)?$0(s):V_(s,{})},getterFor:function(s){return function(l){var i;if(!ZF(l)||(i=$0(l)).type!==s)throw D1("Incompatible receiver, "+s+" required");return i}}},V0={},L1={},aS={}.propertyIsEnumerable,sS=Object.getOwnPropertyDescriptor,rH=sS&&!aS.call({1:2},1);L1.f=rH?function(s){var l=sS(this,s);return!!l&&l.enumerable}:aS;var iH=bi,aH=Qn,sH=L1,oH=j_,lH=Kn,dH=v1,cH=Fe,uH=Fo,oS=Object.getOwnPropertyDescriptor;V0.f=iH?oS:function(s,l){if(s=lH(s),l=dH(l),uH)try{return oS(s,l)}catch{}if(cH(s,l))return oH(!aH(sH.f,s,l),s[l])};var U1={exports:{}},P1=bi,hH=Fe,lS=Function.prototype,pH=P1&&Object.getOwnPropertyDescriptor,F1=hH(lS,"name"),K_={EXISTS:F1,PROPER:F1&&function(){}.name==="something",CONFIGURABLE:F1&&(!P1||P1&&pH(lS,"name").configurable)},fH=jt,H1=Rr,_H=ln(Function.toString);fH(H1.inspectSource)||(H1.inspectSource=function(s){return _H(s)});var B1=H1.inspectSource,$1=ln,mH=Ue,vH=jt,W_=Fe,z1=bi,gH=K_.CONFIGURABLE,bH=B1,yH=yd.enforce,EH=yd.get,dS=String,Q_=Object.defineProperty,wH=$1("".slice),xH=$1("".replace),kH=$1([].join),SH=z1&&!mH(function(){return Q_(function(){},"length",{value:8}).length!==8}),TH=String(String).split("String"),CH=U1.exports=function(s,l,i){wH(dS(l),0,7)==="Symbol("&&(l="["+xH(dS(l),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(l="get "+l),i&&i.setter&&(l="set "+l),(!W_(s,"name")||gH&&s.name!==l)&&(z1?Q_(s,"name",{value:l,configurable:!0}):s.name=l),SH&&i&&W_(i,"arity")&&s.length!==i.arity&&Q_(s,"length",{value:i.arity});try{i&&W_(i,"constructor")&&i.constructor?z1&&Q_(s,"prototype",{writable:!1}):s.prototype&&(s.prototype=void 0)}catch{}var d=yH(s);return W_(d,"source")||(d.source=kH(TH,typeof l=="string"?l:"")),s};Function.prototype.toString=CH(function(){return vH(this)&&EH(this).source||bH(this)},"toString");var IH=jt,NH=Si,AH=U1.exports,OH=Et,$o=function(s,l,i,d){d||(d={});var u=d.enumerable,p=d.name!==void 0?d.name:l;if(IH(i)&&AH(i,p,d),d.global)u?s[l]=i:OH(l,i);else{try{d.unsafe?s[l]&&(u=!0):delete s[l]}catch{}u?s[l]=i:NH.f(s,l,{value:i,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return s},G0={},RH=Qk,MH=k1.concat("length","prototype");G0.f=Object.getOwnPropertyNames||function(s){return RH(s,MH)};var V1={};V1.f=Object.getOwnPropertySymbols;var Ac,cS,uS,DH=qn,LH=G0,UH=V1,PH=oi,FH=ln([].concat),HH=DH("Reflect","ownKeys")||function(s){var l=LH.f(PH(s)),i=UH.f;return i?FH(l,i(s)):l},hS=Fe,BH=HH,$H=V0,zH=Si,VH=Ue,GH=jt,qH=/#|\.prototype\./,q0=function(s,l){var i=KH[jH(s)];return i==QH||i!=WH&&(GH(l)?VH(l):!!l)},jH=q0.normalize=function(s){return String(s).replace(qH,".").toLowerCase()},KH=q0.data={},WH=q0.NATIVE="N",QH=q0.POLYFILL="P",Y_=q0,G1=an,YH=V0.f,XH=rh,ZH=$o,JH=Et,eB=function(s,l,i){for(var d=BH(l),u=zH.f,p=$H.f,_=0;_<d.length;_++){var g=d[_];hS(s,g)||i&&hS(i,g)||u(s,g,p(l,g))}},nB=Y_,Pr=function(s,l){var i,d,u,p,_,g=s.target,b=s.global,E=s.stat;if(i=b?G1:E?G1[g]||JH(g,{}):(G1[g]||{}).prototype)for(d in l){if(p=l[d],u=s.dontCallGetSet?(_=YH(i,d))&&_.value:i[d],!nB(b?d:g+(E?".":"#")+d,s.forced)&&u!==void 0){if(typeof p==typeof u)continue;eB(p,u)}(s.sham||u&&u.sham)&&XH(p,"sham",!0),ZH(i,d,p,s)}},tB=!Ue(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}),rB=Fe,iB=jt,aB=oe,sB=tB,pS=T1("IE_PROTO"),q1=Object,oB=q1.prototype,fS=sB?q1.getPrototypeOf:function(s){var l=aB(s);if(rB(l,pS))return l[pS];var i=l.constructor;return iB(i)&&l instanceof i?i.prototype:l instanceof q1?oB:null},lB=Ue,dB=jt,cB=Ur,_S=fS,uB=$o,j1=Ht("iterator"),mS=!1;[].keys&&("next"in(uS=[].keys())?(cS=_S(_S(uS)))!==Object.prototype&&(Ac=cS):mS=!0);var hB=!cB(Ac)||lB(function(){var s={};return Ac[j1].call(s)!==s});hB&&(Ac={}),dB(Ac[j1])||uB(Ac,j1,function(){return this});var K1={IteratorPrototype:Ac,BUGGY_SAFARI_ITERATORS:mS},pB=Si.f,fB=Fe,vS=Ht("toStringTag"),X_=function(s,l,i){s&&!i&&(s=s.prototype),s&&!fB(s,vS)&&pB(s,vS,{configurable:!0,value:l})},_B=K1.IteratorPrototype,mB=z_,vB=j_,gB=X_,bB=z0,yB=function(){return this},EB=ln,wB=Ho,xB=jt,kB=String,SB=TypeError,TB=function(s,l,i){try{return EB(wB(Object.getOwnPropertyDescriptor(s,l)[i]))}catch{}},CB=oi,IB=function(s){if(typeof s=="object"||xB(s))return s;throw SB("Can't set "+kB(s)+" as a prototype")},W1=Object.setPrototypeOf||("__proto__"in{}?function(){var s,l=!1,i={};try{(s=TB(Object.prototype,"__proto__","set"))(i,[]),l=i instanceof Array}catch{}return function(d,u){return CB(d),IB(u),l?s(d,u):d.__proto__=u,d}}():void 0),NB=Pr,AB=Qn,OB=jt,RB=function(s,l,i,d){var u=l+" Iterator";return s.prototype=mB(_B,{next:vB(+!d,i)}),gB(s,u,!1),bB[u]=yB,s},gS=fS,bS=W1,MB=X_,DB=rh,Q1=$o,LB=z0,UB=K_.PROPER,PB=K_.CONFIGURABLE,yS=K1.IteratorPrototype,Z_=K1.BUGGY_SAFARI_ITERATORS,j0=Ht("iterator"),ES="keys",K0="values",wS="entries",FB=function(){return this},Y1=function(s,l,i,d,u,p,_){RB(i,l,d);var g,b,E,I=function(Ne){if(Ne===u&&ae)return ae;if(!Z_&&Ne in K)return K[Ne];switch(Ne){case ES:case K0:case wS:return function(){return new i(this,Ne)}}return function(){return new i(this)}},U=l+" Iterator",Y=!1,K=s.prototype,ce=K[j0]||K["@@iterator"]||u&&K[u],ae=!Z_&&ce||I(u),pe=l=="Array"&&K.entries||ce;if(pe&&(g=gS(pe.call(new s)))!==Object.prototype&&g.next&&(gS(g)!==yS&&(bS?bS(g,yS):OB(g[j0])||Q1(g,j0,FB)),MB(g,U,!0)),UB&&u==K0&&ce&&ce.name!==K0&&(PB?DB(K,"name",K0):(Y=!0,ae=function(){return AB(ce,this)})),u)if(b={values:I(K0),keys:p?ae:I(ES),entries:I(wS)},_)for(E in b)(Z_||Y||!(E in K))&&Q1(K,E,b[E]);else NB({target:l,proto:!0,forced:Z_||Y},b);return K[j0]!==ae&&Q1(K,j0,ae,{name:u}),LB[l]=ae,b},X1=function(s,l){return{value:s,done:l}},HB=Kn,Z1=q_,xS=z0,kS=yd,BB=Si.f,$B=Y1,SS=X1,zB=bi,TS="Array Iterator",VB=kS.set,GB=kS.getterFor(TS),qB=$B(Array,"Array",function(s,l){VB(this,{type:TS,target:HB(s),index:0,kind:l})},function(){var s=GB(this),l=s.target,i=s.kind,d=s.index++;return!l||d>=l.length?(s.target=void 0,SS(void 0,!0)):SS(i=="keys"?d:i=="values"?l[d]:[d,l[d]],!1)},"values"),CS=xS.Arguments=xS.Array;if(Z1("keys"),Z1("values"),Z1("entries"),zB&&CS.name!=="values")try{BB(CS,"name",{value:"values"})}catch{}var IS={};IS[Ht("toStringTag")]="z";var J1=String(IS)==="[object z]",jB=J1,KB=jt,J_=J,WB=Ht("toStringTag"),QB=Object,YB=J_(function(){return arguments}())=="Arguments",em=jB?J_:function(s){var l,i,d;return s===void 0?"Undefined":s===null?"Null":typeof(i=function(u,p){try{return u[p]}catch{}}(l=QB(s),WB))=="string"?i:YB?J_(l):(d=J_(l))=="Object"&&KB(l.callee)?"Arguments":d},XB=em,ZB=J1?{}.toString:function(){return"[object "+XB(this)+"]"};J1||$o(Object.prototype,"toString",ZB,{unsafe:!0});var W0=typeof process<"u"&&J(process)=="process",NS=U1.exports,JB=Si,AS=function(s,l,i){return i.get&&NS(i.get,l,{getter:!0}),i.set&&NS(i.set,l,{setter:!0}),JB.f(s,l,i)},e$=qn,n$=AS,t$=bi,OS=Ht("species"),RS=function(s){var l=e$(s);t$&&l&&!l[OS]&&n$(l,OS,{configurable:!0,get:function(){return this}})},r$=et,i$=TypeError,ey=function(s,l){if(r$(l,s))return s;throw i$("Incorrect invocation")},a$=ln,s$=Ue,MS=jt,o$=em,l$=B1,DS=function(){},d$=[],LS=qn("Reflect","construct"),ny=/^\s*(?:class|function)\b/,c$=a$(ny.exec),u$=!ny.exec(DS),Q0=function(s){if(!MS(s))return!1;try{return LS(DS,d$,s),!0}catch{return!1}},US=function(s){if(!MS(s))return!1;switch(o$(s)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u$||!!c$(ny,l$(s))}catch{return!0}};US.sham=!0;var Y0,ah,PS,ty,ry=!LS||s$(function(){var s;return Q0(Q0.call)||!Q0(Object)||!Q0(function(){s=!0})||s})?US:Q0,h$=ry,p$=H0,f$=TypeError,FS=oi,_$=function(s){if(h$(s))return s;throw f$(p$(s)+" is not a constructor")},m$=Rn,v$=Ht("species"),g$=He,HS=Function.prototype,BS=HS.apply,$S=HS.call,zS=typeof Reflect=="object"&&Reflect.apply||(g$?$S.bind(BS):function(){return $S.apply(BS,arguments)}),b$=J,y$=ln,nm=function(s){if(b$(s)==="Function")return y$(s)},E$=Ho,w$=He,x$=nm(nm.bind),X0=function(s,l){return E$(s),l===void 0?s:w$?x$(s,l):function(){return s.apply(l,arguments)}},VS=ln([].slice),k$=TypeError,GS=/(?:ipad|iphone|ipod).*applewebkit/i.test(qe),fs=an,S$=zS,T$=X0,qS=jt,C$=Fe,jS=Ue,KS=Yk,I$=VS,WS=Po,N$=function(s,l){if(s<l)throw k$("Not enough arguments");return s},A$=GS,O$=W0,iy=fs.setImmediate,ay=fs.clearImmediate,R$=fs.process,sy=fs.Dispatch,M$=fs.Function,QS=fs.MessageChannel,D$=fs.String,oy=0,Z0={},YS="onreadystatechange";jS(function(){Y0=fs.location});var ly=function(s){if(C$(Z0,s)){var l=Z0[s];delete Z0[s],l()}},dy=function(s){return function(){ly(s)}},XS=function(s){ly(s.data)},ZS=function(s){fs.postMessage(D$(s),Y0.protocol+"//"+Y0.host)};iy&&ay||(iy=function(s){N$(arguments.length,1);var l=qS(s)?s:M$(s),i=I$(arguments,1);return Z0[++oy]=function(){S$(l,void 0,i)},ah(oy),oy},ay=function(s){delete Z0[s]},O$?ah=function(s){R$.nextTick(dy(s))}:sy&&sy.now?ah=function(s){sy.now(dy(s))}:QS&&!A$?(ty=(PS=new QS).port2,PS.port1.onmessage=XS,ah=T$(ty.postMessage,ty)):fs.addEventListener&&qS(fs.postMessage)&&!fs.importScripts&&Y0&&Y0.protocol!=="file:"&&!jS(ZS)?(ah=ZS,fs.addEventListener("message",XS,!1)):ah=YS in WS("script")?function(s){KS.appendChild(WS("script"))[YS]=function(){KS.removeChild(this),ly(s)}}:function(s){setTimeout(dy(s),0)});var JS={set:iy,clear:ay},eT=function(){this.head=null,this.tail=null};eT.prototype={add:function(s){var l={item:s,next:null},i=this.tail;i?i.next=l:this.head=l,this.tail=l},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}};var sh,cy,uy,hy,nT,tT=eT,L$=/ipad|iphone|ipod/i.test(qe)&&typeof Pebble<"u",U$=/web0s(?!.*chrome)/i.test(qe),Oc=an,rT=X0,P$=V0.f,py=JS.set,F$=tT,H$=GS,B$=L$,$$=U$,fy=W0,iT=Oc.MutationObserver||Oc.WebKitMutationObserver,aT=Oc.document,sT=Oc.process,tm=Oc.Promise,oT=P$(Oc,"queueMicrotask"),_y=oT&&oT.value;if(!_y){var rm=new F$,im=function(){var s,l;for(fy&&(s=sT.domain)&&s.exit();l=rm.get();)try{l()}catch(i){throw rm.head&&sh(),i}s&&s.enter()};H$||fy||$$||!iT||!aT?!B$&&tm&&tm.resolve?((hy=tm.resolve(void 0)).constructor=tm,nT=rT(hy.then,hy),sh=function(){nT(im)}):fy?sh=function(){sT.nextTick(im)}:(py=rT(py,Oc),sh=function(){py(im)}):(cy=!0,uy=aT.createTextNode(""),new iT(im).observe(uy,{characterData:!0}),sh=function(){uy.data=cy=!cy}),_y=function(s){rm.head||sh(),rm.add(s)}}var z$=_y,am=function(s){try{return{error:!1,value:s()}}catch(l){return{error:!0,value:l}}},sm=an.Promise,lT=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",V$=!lT&&!W0&&typeof window=="object"&&typeof document=="object",G$=an,J0=sm,q$=jt,j$=Y_,K$=B1,W$=Ht,Q$=V$,Y$=lT,my=Xe;J0&&J0.prototype;var X$=W$("species"),dT=!1,cT=q$(G$.PromiseRejectionEvent),Z$=j$("Promise",function(){var s=K$(J0),l=s!==String(J0);if(!l&&my===66)return!0;if(!my||my<51||!/native code/.test(s)){var i=new J0(function(u){u(1)}),d=function(u){u(function(){},function(){})};if((i.constructor={})[X$]=d,!(dT=i.then(function(){})instanceof d))return!0}return!l&&(Q$||Y$)&&!cT}),Rc={CONSTRUCTOR:Z$,REJECTION_EVENT:cT,SUBCLASSING:dT},Mc={},uT=Ho,J$=TypeError,ez=function(s){var l,i;this.promise=new s(function(d,u){if(l!==void 0||i!==void 0)throw J$("Bad Promise constructor");l=d,i=u}),this.resolve=uT(l),this.reject=uT(i)};Mc.f=function(s){return new ez(s)};var vy,hT,pT,nz=Pr,om=W0,Ed=an,oh=Qn,fT=$o,_T=W1,tz=X_,rz=RS,iz=Ho,lm=jt,az=Ur,sz=ey,oz=function(s,l){var i,d=FS(s).constructor;return d===void 0||m$(i=FS(d)[v$])?l:_$(i)},mT=JS.set,gy=z$,lz=function(s,l){try{arguments.length==1?console.error(s):console.error(s,l)}catch{}},dz=am,cz=tT,vT=yd,dm=sm,gT=Mc,cm="Promise",bT=Rc.CONSTRUCTOR,uz=Rc.REJECTION_EVENT,hz=Rc.SUBCLASSING,by=vT.getterFor(cm),pz=vT.set,lh=dm&&dm.prototype,dh=dm,um=lh,yT=Ed.TypeError,yy=Ed.document,Ey=Ed.process,wy=gT.f,fz=wy,_z=!!(yy&&yy.createEvent&&Ed.dispatchEvent),ET="unhandledrejection",wT=function(s){var l;return!(!az(s)||!lm(l=s.then))&&l},xT=function(s,l){var i,d,u,p=l.value,_=l.state==1,g=_?s.ok:s.fail,b=s.resolve,E=s.reject,I=s.domain;try{g?(_||(l.rejection===2&&vz(l),l.rejection=1),g===!0?i=p:(I&&I.enter(),i=g(p),I&&(I.exit(),u=!0)),i===s.promise?E(yT("Promise-chain cycle")):(d=wT(i))?oh(d,i,b,E):b(i)):E(p)}catch(U){I&&!u&&I.exit(),E(U)}},kT=function(s,l){s.notified||(s.notified=!0,gy(function(){for(var i,d=s.reactions;i=d.get();)xT(i,s);s.notified=!1,l&&!s.rejection&&mz(s)}))},ST=function(s,l,i){var d,u;_z?((d=yy.createEvent("Event")).promise=l,d.reason=i,d.initEvent(s,!1,!0),Ed.dispatchEvent(d)):d={promise:l,reason:i},!uz&&(u=Ed["on"+s])?u(d):s===ET&&lz("Unhandled promise rejection",i)},mz=function(s){oh(mT,Ed,function(){var l,i=s.facade,d=s.value;if(TT(s)&&(l=dz(function(){om?Ey.emit("unhandledRejection",d,i):ST(ET,i,d)}),s.rejection=om||TT(s)?2:1,l.error))throw l.value})},TT=function(s){return s.rejection!==1&&!s.parent},vz=function(s){oh(mT,Ed,function(){var l=s.facade;om?Ey.emit("rejectionHandled",l):ST("rejectionhandled",l,s.value)})},ch=function(s,l,i){return function(d){s(l,d,i)}},uh=function(s,l,i){s.done||(s.done=!0,i&&(s=i),s.value=l,s.state=2,kT(s,!0))},xy=function(s,l,i){if(!s.done){s.done=!0,i&&(s=i);try{if(s.facade===l)throw yT("Promise can't be resolved itself");var d=wT(l);d?gy(function(){var u={done:!1};try{oh(d,l,ch(xy,u,s),ch(uh,u,s))}catch(p){uh(u,p,s)}}):(s.value=l,s.state=1,kT(s,!1))}catch(u){uh({done:!1},u,s)}}};if(bT&&(um=(dh=function(s){sz(this,um),iz(s),oh(vy,this);var l=by(this);try{s(ch(xy,l),ch(uh,l))}catch(i){uh(l,i)}}).prototype,(vy=function(s){pz(this,{type:cm,done:!1,notified:!1,parent:!1,reactions:new cz,rejection:!1,state:0,value:void 0})}).prototype=fT(um,"then",function(s,l){var i=by(this),d=wy(oz(this,dh));return i.parent=!0,d.ok=!lm(s)||s,d.fail=lm(l)&&l,d.domain=om?Ey.domain:void 0,i.state==0?i.reactions.add(d):gy(function(){xT(d,i)}),d.promise}),hT=function(){var s=new vy,l=by(s);this.promise=s,this.resolve=ch(xy,l),this.reject=ch(uh,l)},gT.f=wy=function(s){return s===dh||s===void 0?new hT(s):fz(s)},lm(dm)&&lh!==Object.prototype)){pT=lh.then,hz||fT(lh,"then",function(s,l){var i=this;return new dh(function(d,u){oh(pT,i,d,u)}).then(s,l)},{unsafe:!0});try{delete lh.constructor}catch{}_T&&_T(lh,um)}nz({global:!0,constructor:!0,wrap:!0,forced:bT},{Promise:dh}),tz(dh,cm,!1),rz(cm);var gz=z0,bz=Ht("iterator"),yz=Array.prototype,Ez=em,CT=B0,wz=Rn,xz=z0,kz=Ht("iterator"),IT=function(s){if(!wz(s))return CT(s,kz)||CT(s,"@@iterator")||xz[Ez(s)]},Sz=Qn,Tz=Ho,Cz=oi,Iz=H0,Nz=IT,Az=TypeError,Oz=Qn,NT=oi,Rz=B0,Mz=X0,Dz=Qn,Lz=oi,Uz=H0,Pz=function(s){return s!==void 0&&(gz.Array===s||yz[bz]===s)},Fz=bd,AT=et,Hz=function(s,l){var i=arguments.length<2?Nz(s):l;if(Tz(i))return Cz(Sz(i,s));throw Az(Iz(s)+" is not iterable")},Bz=IT,OT=function(s,l,i){var d,u;NT(s);try{if(!(d=Rz(s,"return"))){if(l==="throw")throw i;return i}d=Oz(d,s)}catch(p){u=!0,d=p}if(l==="throw")throw i;if(u)throw d;return NT(d),i},$z=TypeError,hm=function(s,l){this.stopped=s,this.result=l},RT=hm.prototype,ep=function(s,l,i){var d,u,p,_,g,b,E,I=i&&i.that,U=!(!i||!i.AS_ENTRIES),Y=!(!i||!i.IS_RECORD),K=!(!i||!i.IS_ITERATOR),ce=!(!i||!i.INTERRUPTED),ae=Mz(l,I),pe=function(Ee){return d&&OT(d,"normal",Ee),new hm(!0,Ee)},Ne=function(Ee){return U?(Lz(Ee),ce?ae(Ee[0],Ee[1],pe):ae(Ee[0],Ee[1])):ce?ae(Ee,pe):ae(Ee)};if(Y)d=s.iterator;else if(K)d=s;else{if(!(u=Bz(s)))throw $z(Uz(s)+" is not iterable");if(Pz(u)){for(p=0,_=Fz(s);_>p;p++)if((g=Ne(s[p]))&&AT(RT,g))return g;return new hm(!1)}d=Hz(s,u)}for(b=Y?s.next:d.next;!(E=Dz(b,d)).done;){try{g=Ne(E.value)}catch(Ee){OT(d,"throw",Ee)}if(typeof g=="object"&&g&&AT(RT,g))return g}return new hm(!1)},MT=Ht("iterator"),DT=!1;try{var zz=0,LT={next:function(){return{done:!!zz++}},return:function(){DT=!0}};LT[MT]=function(){return this},Array.from(LT,function(){throw 2})}catch{}var UT=function(s,l){if(!l&&!DT)return!1;var i=!1;try{var d={};d[MT]=function(){return{next:function(){return{done:i=!0}}}},s(d)}catch{}return i},Vz=sm,ky=Rc.CONSTRUCTOR||!UT(function(s){Vz.all(s).then(void 0,function(){})}),Gz=Qn,qz=Ho,jz=Mc,Kz=am,Wz=ep;Pr({target:"Promise",stat:!0,forced:ky},{all:function(s){var l=this,i=jz.f(l),d=i.resolve,u=i.reject,p=Kz(function(){var _=qz(l.resolve),g=[],b=0,E=1;Wz(s,function(I){var U=b++,Y=!1;E++,Gz(_,l,I).then(function(K){Y||(Y=!0,g[U]=K,--E||d(g))},u)}),--E||d(g)});return p.error&&u(p.value),i.promise}});var Qz=Pr,Yz=Rc.CONSTRUCTOR,Sy=sm,Xz=qn,Zz=jt,Jz=$o,PT=Sy&&Sy.prototype;if(Qz({target:"Promise",proto:!0,forced:Yz,real:!0},{catch:function(s){return this.then(void 0,s)}}),Zz(Sy)){var FT=Xz("Promise").prototype.catch;PT.catch!==FT&&Jz(PT,"catch",FT,{unsafe:!0})}var eV=Qn,nV=Ho,tV=Mc,rV=am,iV=ep;Pr({target:"Promise",stat:!0,forced:ky},{race:function(s){var l=this,i=tV.f(l),d=i.reject,u=rV(function(){var p=nV(l.resolve);iV(s,function(_){eV(p,l,_).then(i.resolve,d)})});return u.error&&d(u.value),i.promise}});var aV=Qn,sV=Mc;Pr({target:"Promise",stat:!0,forced:Rc.CONSTRUCTOR},{reject:function(s){var l=sV.f(this);return aV(l.reject,void 0,s),l.promise}});var oV=oi,lV=Ur,dV=Mc,cV=Pr,uV=Rc.CONSTRUCTOR,hV=function(s,l){if(oV(s),lV(l)&&l.constructor===s)return l;var i=dV.f(s);return(0,i.resolve)(l),i.promise};qn("Promise"),cV({target:"Promise",stat:!0,forced:uV},{resolve:function(s){return hV(this,s)}});var pV=em,fV=String,co=function(s){if(pV(s)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return fV(s)},Ty=ln,_V=th,mV=co,vV=xn,gV=Ty("".charAt),HT=Ty("".charCodeAt),bV=Ty("".slice),BT=function(s){return function(l,i){var d,u,p=mV(vV(l)),_=_V(i),g=p.length;return _<0||_>=g?s?"":void 0:(d=HT(p,_))<55296||d>56319||_+1===g||(u=HT(p,_+1))<56320||u>57343?s?gV(p,_):d:s?bV(p,_,_+2):u-56320+(d-55296<<10)+65536}},$T={codeAt:BT(!1),charAt:BT(!0)},yV=$T.charAt,EV=co,zT=yd,wV=Y1,VT=X1,GT="String Iterator",xV=zT.set,kV=zT.getterFor(GT);wV(String,"String",function(s){xV(this,{type:GT,string:EV(s),index:0})},function(){var s,l=kV(this),i=l.string,d=l.index;return d>=i.length?VT(void 0,!0):(s=yV(i,d),l.index+=s.length,VT(s,!1))});var qT={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Cy=Po("span").classList,jT=Cy&&Cy.constructor&&Cy.constructor.prototype,KT=jT===Object.prototype?void 0:jT,WT=an,QT=qT,SV=KT,np=qB,Iy=rh,YT=Ht,Ny=YT("iterator"),XT=YT("toStringTag"),Ay=np.values,ZT=function(s,l){if(s){if(s[Ny]!==Ay)try{Iy(s,Ny,Ay)}catch{s[Ny]=Ay}if(s[XT]||Iy(s,XT,l),QT[l]){for(var i in np)if(s[i]!==np[i])try{Iy(s,i,np[i])}catch{s[i]=np[i]}}}};for(var Oy in QT)ZT(WT[Oy]&&WT[Oy].prototype,Oy);ZT(SV,"DOMTokenList");var TV=J,pm=Array.isArray||function(s){return TV(s)=="Array"},JT=pm,CV=ry,IV=Ur,NV=Ht("species"),e5=Array,AV=function(s){var l;return JT(s)&&(l=s.constructor,(CV(l)&&(l===e5||JT(l.prototype))||IV(l)&&(l=l[NV])===null)&&(l=void 0)),l===void 0?e5:l},Ry=function(s,l){return new(AV(s))(l===0?0:l)},OV=X0,RV=zn,MV=oe,DV=bd,LV=Ry,n5=ln([].push),wd=function(s){var l=s==1,i=s==2,d=s==3,u=s==4,p=s==6,_=s==7,g=s==5||p;return function(b,E,I,U){for(var Y,K,ce=MV(b),ae=RV(ce),pe=OV(E,I),Ne=DV(ae),Ee=0,ze=U||LV,dn=l?ze(b,Ne):i||_?ze(b,0):void 0;Ne>Ee;Ee++)if((g||Ee in ae)&&(K=pe(Y=ae[Ee],Ee,ce),s))if(l)dn[Ee]=K;else if(K)switch(s){case 3:return!0;case 5:return Y;case 6:return Ee;case 2:n5(dn,Y)}else switch(s){case 4:return!1;case 7:n5(dn,Y)}return p?-1:d||u?u:dn}},tp={forEach:wd(0),map:wd(1),filter:wd(2),some:wd(3),every:wd(4),find:wd(5),findIndex:wd(6),filterReject:wd(7)},UV=Ue,PV=Xe,FV=Ht("species"),rp=function(s){return PV>=51||!UV(function(){var l=[];return(l.constructor={})[FV]=function(){return{foo:1}},l[s](Boolean).foo!==1})},HV=tp.map;Pr({target:"Array",proto:!0,forced:!rp("map")},{map:function(s){return HV(this,s,arguments.length>1?arguments[1]:void 0)}});var fm=v(function s(){f(this,s)}),t5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.call(this)}return v(i,[{key:"getApiOption",value:function(){return{auth:this.getAuth(),path:this.getPath(),method:this.getMethod(),body:this.getData(),headers:this.getHeaders()}}},{key:"getAuth",value:function(){return!0}},{key:"getHeaders",value:function(){return{}}}]),i}(fm),Mr=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.call(this)}return v(i,[{key:"getPath",value:function(){return"/v1".concat(this.getSubPath())}}]),i}(t5),rt=function(s){return s.CREATE="create",s.UPDATE="update",s.GET="get",s.DELETE="delete",s.QUERY="query",s.READY="ready",s.START="start",s.ENTER_HOST="enter_host",s.GET_HOSTS="get_hosts",s.EXIT_HOST="exit_host",s.HOST_ALIVE="host_alive",s.AUDIO="audio",s.VIDEO="video",s.HOST_CREATE_STREAM="host_create_stream",s.HOST_PUT_STREAM="host_put_stream",s.HOST_DELETE_STREAM="host_delete_stream",s.HOST_CONNECTED="host_connected",s.ENTER="enter",s.EXIT="exit",s.ALIVE="alive",s.GET_PARTICIPANTS="get_participants",s.CREATE_STREAM="create_stream",s.PUT_STREAM="put_stream",s.DELETE_STREAM="delete_stream",s.CREATE_RTMP_STREAM="create_rtmp_stream",s.DELETE_RTMP_STREAM="delete_rtmp_stream",s.CONNECTED="connected",s.ATTACH="attach",s.CUSTOM_ITEMS_GET="custom_items_get",s.CUSTOM_ITEMS_UPDATE="custom_items_update",s.CUSTOM_ITEMS_DELETE="custom_items_delete",s.LIVE_EVENT_READY="live_event_ready",s.LIVE_EVENT_STARTED="live_event_started",s.LIVE_EVENT_ENDED="live_event_ended",s.LIVE_EVENT_UPDATED="live_event_updated",s.HOST_ENTERED="host_entered",s.HOST_EXITED="host_exited",s.HOST_DISCONNECTED="host_disconnected",s.HOST_AUDIO_STATUS_CHANGED="host_audio_status_changed",s.HOST_VIDEO_STATUS_CHANGED="host_video_status_changed",s.PARTICIPANT_ENTERED="participant_entered",s.PARTICIPANT_EXITED="participant_exited",s}({}),BV=function(s){return s.SINGLE_HOST="single_host",s.MULTIPLE_HOST="multiple_host",s}({}),Fr=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i)}(function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),(u=l.call(this)).payload=u.parseData(d),u}return v(i)}(fm));function uo(s){return{liveEventId:s.live_event_id,createdAt:s.created_at,setReadyAt:s.set_ready_at,startedAt:s.started_at,endedAt:s.ended_at,state:s.state,isHostStreaming:s.is_host_streaming,createdBy:s.created_by,setReadyBy:s.set_ready_by,startedBy:s.started_by,endedBy:s.ended_by,duration:s.duration,host:s.host?ho(s.host):void 0,participantCount:s.participant_count,peakParticipantCount:s.peak_participant_count,cumulativeParticipantCount:s.cumulative_participant_count,userIdsForHost:s.user_ids_for_host,customItems:s.custom_items,title:s.title,coverUrl:s.cover_url}}function ho(s){return{hostId:s.host_id,userId:s.user.user_id,nickname:s.user.nickname,profileURL:s.user.profile_url,enteredAt:s.entered_at,connectedAt:s.connected_at,disconnectedAt:s.disconnected_at,exitedAt:s.exited_at,duration:s.duration,state:s.state,isAudioOn:s.is_audio_on,isVideoOn:s.is_video_on,liveEventId:s.live_event_id,streamType:s.stream_type,rtmpStream:s.rtmp_stream?$V(s.rtmp_stream):void 0}}function $V(s){return{rtmpStreamId:s.rtmp_stream_id,rtmpHostUrl:s.rtmp_host_url,streamKey:s.stream_key,createdAt:s.created_at}}function ip(s){return{id:s.rtcstream_id}}function ap(s){return{participantId:s.participant_id,userId:s.user.user_id,nickname:s.user.nickname,profileURL:s.user.profile_url,enteredAt:s.entered_at,exitedAt:s.exited_at,duration:s.duration,state:s.state,liveEventId:s.live_event_id}}var zV=tp.filter;Pr({target:"Array",proto:!0,forced:!rp("filter")},{filter:function(s){return zV(this,s,arguments.length>1?arguments[1]:void 0)}});var VV=oe,r5=S1;Pr({target:"Object",stat:!0,forced:Ue(function(){r5(1)})},{keys:function(s){return r5(VV(s))}});var GV=TypeError,i5=function(s){if(s>9007199254740991)throw GV("Maximum allowed index exceeded");return s},qV=v1,jV=Si,KV=j_,_m=function(s,l,i){var d=qV(l);d in s?jV.f(s,d,KV(0,i)):s[d]=i},WV=Pr,QV=Ue,YV=pm,XV=Ur,ZV=oe,JV=bd,a5=i5,s5=_m,eG=Ry,nG=rp,tG=Xe,o5=Ht("isConcatSpreadable"),rG=tG>=51||!QV(function(){var s=[];return s[o5]=!1,s.concat()[0]!==s}),iG=function(s){if(!XV(s))return!1;var l=s[o5];return l!==void 0?!!l:YV(s)};WV({target:"Array",proto:!0,arity:1,forced:!rG||!nG("concat")},{concat:function(s){var l,i,d,u,p,_=ZV(this),g=eG(_,0),b=0;for(l=-1,d=arguments.length;l<d;l++)if(iG(p=l===-1?_:arguments[l]))for(u=JV(p),a5(b+u),i=0;i<u;i++,b++)i in p&&s5(g,b,p[i]);else a5(b+1),s5(g,b++,p);return g.length=b,g}});var aG=oi,l5=function(){var s=aG(this),l="";return s.hasIndices&&(l+="d"),s.global&&(l+="g"),s.ignoreCase&&(l+="i"),s.multiline&&(l+="m"),s.dotAll&&(l+="s"),s.unicode&&(l+="u"),s.unicodeSets&&(l+="v"),s.sticky&&(l+="y"),l},sG=Qn,oG=Fe,lG=et,dG=l5,d5=RegExp.prototype,cG=K_.PROPER,uG=$o,hG=oi,c5=co,pG=Ue,fG=function(s){var l=s.flags;return l!==void 0||"flags"in d5||oG(s,"flags")||!lG(d5,s)?l:sG(dG,s)},My="toString",u5=RegExp.prototype[My],_G=pG(function(){return u5.call({source:"a",flags:"b"})!="/a/b"}),mG=cG&&u5.name!=My;function vG(s){return Object.keys(s).filter(function(l){return s[l]!=null}).map(function(l){return"".concat(encodeURIComponent(l),"=").concat(function(i){return Array.isArray(i)?i.map(function(d){return encodeURIComponent(d.toString())}).join(","):encodeURIComponent(i.toString())}(s[l]))}).join("&")}(_G||mG)&&uG(RegExp.prototype,My,function(){var s=hG(this);return"/"+c5(s.source)+"/"+c5(fG(s))},{unsafe:!0});var gG=function(s){w(i,s);var l=O(i);function i(d,u,p){var _;return f(this,i),y(N(_=l.call(this)),"type",rt.QUERY),_.params=_._normalizeParams(d),_.prevToken=u,_.nextToken=p,_}return v(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events?".concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_normalizeParams",value:function(d){var u=d.hostType,p=d.liveEventState,_=d.createdAtRange,g=d.participantCountRange,b=d.durationRange,E=d.liveEventIds,I=d.createdByUserIds,U=d.limit;return{hostType:u,liveEventState:p,createdAtRange:_,participantCountRange:g,durationRange:b,liveEventIds:E,createdByUserIds:I,limit:U!=null?Math.min(Math.max(1,U),100):void 0}}},{key:"_createQuery",value:function(){var d,u,p,_,g,b;return vG({host_type:this.params.hostType,state:this.params.liveEventState,created_at_start_date:(d=this.params.createdAtRange)===null||d===void 0?void 0:d[0],created_at_end_date:(u=this.params.createdAtRange)===null||u===void 0?void 0:u[0],participant_count_gte:(p=this.params.participantCountRange)===null||p===void 0?void 0:p[0],participant_count_lte:(_=this.params.participantCountRange)===null||_===void 0?void 0:_[1],duration_range_gte:(g=this.params.durationRange)===null||g===void 0?void 0:g[0],duration_range_lte:(b=this.params.durationRange)===null||b===void 0?void 0:b[1],live_event_ids:this.params.liveEventIds,created_by_user_ids:this.params.createdByUserIds,limit:this.params.limit,prev:this.prevToken,next:this.nextToken})}}]),i}(Mr),bG=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){var u;return{liveEvents:(u=d.live_events)===null||u===void 0?void 0:u.map(uo),prev:d.prev,next:d.next}}}]),i}(Fr),yG=Ue,Dy=function(s,l){var i=[][s];return!!i&&yG(function(){i.call(null,l||function(){return 1},1)})},EG=Pr,wG=w1.indexOf,xG=Dy,Ly=nm([].indexOf),h5=!!Ly&&1/Ly([1],1,-0)<0;EG({target:"Array",proto:!0,forced:h5||!xG("indexOf")},{indexOf:function(s){var l=arguments.length>1?arguments[1]:void 0;return h5?Ly(this,s,l)||0:wG(this,s,l)}});var kG=bi,SG=pm,TG=TypeError,CG=Object.getOwnPropertyDescriptor,IG=kG&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}()?function(s,l){if(SG(s)&&!CG(s,"length").writable)throw TG("Cannot set read only .length");return s.length=l}:function(s,l){return s.length=l},p5=H0,NG=TypeError,AG=Pr,OG=oe,RG=P_,MG=th,DG=bd,LG=IG,UG=i5,PG=Ry,FG=_m,Uy=function(s,l){if(!delete s[l])throw NG("Cannot delete property "+p5(l)+" of "+p5(s))},HG=rp("splice"),BG=Math.max,$G=Math.min;AG({target:"Array",proto:!0,forced:!HG},{splice:function(s,l){var i,d,u,p,_,g,b=OG(this),E=DG(b),I=RG(s,E),U=arguments.length;for(U===0?i=d=0:U===1?(i=0,d=E-I):(i=U-2,d=$G(BG(MG(l),0),E-I)),UG(E+i-d),u=PG(b,d),p=0;p<d;p++)(_=I+p)in b&&FG(u,p,b[_]);if(u.length=d,i<d){for(p=I;p<E-d;p++)g=p+i,(_=p+d)in b?b[g]=b[_]:Uy(b,g);for(p=E;p>E-d+i;p--)Uy(b,p-1)}else if(i>d)for(p=E-d;p>I;p--)g=p+i-1,(_=p+d-1)in b?b[g]=b[_]:Uy(b,g);for(p=0;p<i;p++)b[p+I]=arguments[p+2];return LG(b,E-d+i),u}});var Ua=function(s){return s.VERBOSE="VERBOSE",s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.NONE="NONE",s}({}),zG=function(){function s(){f(this,s),this._listeners=[]}return v(s,[{key:"verbose",value:function(){for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];this._log.apply(this,[Ua.VERBOSE].concat(i))}},{key:"debug",value:function(){for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];this._log.apply(this,[Ua.DEBUG].concat(i))}},{key:"info",value:function(){for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];this._log.apply(this,[Ua.INFO].concat(i))}},{key:"warning",value:function(){for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];this._log.apply(this,[Ua.WARNING].concat(i))}},{key:"error",value:function(){for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];this._log.apply(this,[Ua.ERROR].concat(i))}},{key:"_log",value:function(l){for(var i=arguments.length,d=new Array(i>1?i-1:0),u=1;u<i;u++)d[u-1]=arguments[u];var p,_=M(this._listeners);try{for(_.s();!(p=_.n()).done;){var g=p.value;g._permit.apply(g,[l].concat(d))}}catch(b){_.e(b)}finally{_.f()}}},{key:"addListener",value:function(l){this._listeners.push(l)}},{key:"removeListener",value:function(l){var i=this._listeners.indexOf(l);i!==-1&&this._listeners.splice(i,1)}},{key:"removeAllListener",value:function(){this._listeners=[]}}]),s}(),it=new zG,VG=function(){function s(u,p,_){f(this,s),this.isLoading=!1,this.params=u,this.sender=p,this.prevToken=null,this.nextToken=null,this.liveEventManager=_}var l,i,d;return v(s,[{key:"hasPrev",get:function(){return!!this.prevToken}},{key:"hasNext",get:function(){return!this.prevToken&&!this.nextToken||!!this.nextToken}},{key:"next",value:(d=h(o().mark(function u(){return o().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasNext){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(null,this.nextToken));case 5:case"end":return p.stop()}},u,this)})),function(){return d.apply(this,arguments)})},{key:"prev",value:(i=h(o().mark(function u(){return o().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!this.isLoading){p.next=2;break}throw new Error("query is in progress");case 2:if(this.hasPrev){p.next=4;break}return p.abrupt("return",[]);case 4:return p.abrupt("return",this._sendQueryCommand(this.prevToken,null));case 5:case"end":return p.stop()}},u,this)})),function(){return i.apply(this,arguments)})},{key:"_sendQueryCommand",value:(l=h(o().mark(function u(p,_){var g,b,E,I=this;return o().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!p||!_){U.next=2;break}throw new Error("internal error while creating LiveEventListQueryCommand");case 2:return this.isLoading=!0,g=new gG(this.params,p,_),U.next=6,this.sender.send(g);case 6:return b=U.sent,E=b.payload,this.prevToken=E.prev,this.nextToken=E.next,this.isLoading=!1,U.prev=11,U.abrupt("return",Promise.all(E.liveEvents.map(function(Y){return I.liveEventManager.deserializeLiveEvent(Y)})));case 15:return U.prev=15,U.t0=U.catch(11),it.error(U.t0),U.abrupt("return",E.liveEvents);case 19:case"end":return U.stop()}},u,this,[[11,15]])})),function(u,p){return l.apply(this,arguments)})}]),s}(),GG=Pr,qG=tp.find,jG=q_,Py="find",f5=!0;Py in[]&&Array(1)[Py](function(){f5=!1}),GG({target:"Array",proto:!0,forced:f5},{find:function(s){return qG(this,s,arguments.length>1?arguments[1]:void 0)}}),jG(Py);var KG=Pr,WG=tp.findIndex,QG=q_,Fy="findIndex",_5=!0;Fy in[]&&Array(1)[Fy](function(){_5=!1}),KG({target:"Array",proto:!0,forced:_5},{findIndex:function(s){return WG(this,s,arguments.length>1?arguments[1]:void 0)}}),QG(Fy);var Hy={exports:{}},m5={},v5=P_,YG=bd,XG=_m,ZG=Array,JG=Math.max,eq=J,nq=Kn,g5=G0.f,tq=function(s,l,i){for(var d=YG(s),u=v5(l,d),p=v5(i===void 0?d:i,d),_=ZG(JG(p-u,0)),g=0;u<p;u++,g++)XG(_,g,s[u]);return _.length=g,_},b5=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];m5.f=function(s){return b5&&eq(s)=="Window"?function(l){try{return g5(l)}catch{return tq(b5)}}(s):g5(nq(s))};var rq=Ue(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}}),iq=Ue,aq=Ur,sq=J,y5=rq,mm=Object.isExtensible,oq=iq(function(){mm(1)})||y5?function(s){return!!aq(s)&&(!y5||sq(s)!="ArrayBuffer")&&(!mm||mm(s))}:mm,lq=!Ue(function(){return Object.isExtensible(Object.preventExtensions({}))}),dq=Pr,cq=ln,uq=H_,hq=Ur,By=Fe,pq=Si.f,E5=G0,fq=m5,$y=oq,_q=lq,w5=!1,kl=tn("meta"),mq=0,zy=function(s){pq(s,kl,{value:{objectID:"O"+mq++,weakData:{}}})},vq=Hy.exports={enable:function(){vq.enable=function(){},w5=!0;var s=E5.f,l=cq([].splice),i={};i[kl]=1,s(i).length&&(E5.f=function(d){for(var u=s(d),p=0,_=u.length;p<_;p++)if(u[p]===kl){l(u,p,1);break}return u},dq({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:fq.f}))},fastKey:function(s,l){if(!hq(s))return typeof s=="symbol"?s:(typeof s=="string"?"S":"P")+s;if(!By(s,kl)){if(!$y(s))return"F";if(!l)return"E";zy(s)}return s[kl].objectID},getWeakData:function(s,l){if(!By(s,kl)){if(!$y(s))return!0;if(!l)return!1;zy(s)}return s[kl].weakData},onFreeze:function(s){return _q&&w5&&$y(s)&&!By(s,kl)&&zy(s),s}};uq[kl]=!0;var gq=jt,bq=Ur,x5=W1,k5=function(s,l,i){var d,u;return x5&&gq(d=l.constructor)&&d!==i&&bq(u=d.prototype)&&u!==i.prototype&&x5(s,u),s},yq=Pr,Eq=an,wq=ln,S5=Y_,xq=$o,kq=Hy.exports,Sq=ep,Tq=ey,Cq=jt,Iq=Rn,Vy=Ur,Gy=Ue,Nq=UT,Aq=X_,Oq=k5,Rq=$o,Mq=z_,Dq=AS,T5=function(s,l,i){for(var d in l)Rq(s,d,l[d],i);return s},Lq=X0,Uq=ey,Pq=Rn,Fq=ep,Hq=Y1,C5=X1,Bq=RS,sp=bi,I5=Hy.exports.fastKey,N5=yd.set,qy=yd.getterFor,$q={getConstructor:function(s,l,i,d){var u=s(function(E,I){Uq(E,p),N5(E,{type:l,index:Mq(null),first:void 0,last:void 0,size:0}),sp||(E.size=0),Pq(I)||Fq(I,E[d],{that:E,AS_ENTRIES:i})}),p=u.prototype,_=qy(l),g=function(E,I,U){var Y,K,ce=_(E),ae=b(E,I);return ae?ae.value=U:(ce.last=ae={index:K=I5(I,!0),key:I,value:U,previous:Y=ce.last,next:void 0,removed:!1},ce.first||(ce.first=ae),Y&&(Y.next=ae),sp?ce.size++:E.size++,K!=="F"&&(ce.index[K]=ae)),E},b=function(E,I){var U,Y=_(E),K=I5(I);if(K!=="F")return Y.index[K];for(U=Y.first;U;U=U.next)if(U.key==I)return U};return T5(p,{clear:function(){for(var E=_(this),I=E.index,U=E.first;U;)U.removed=!0,U.previous&&(U.previous=U.previous.next=void 0),delete I[U.index],U=U.next;E.first=E.last=void 0,sp?E.size=0:this.size=0},delete:function(E){var I=this,U=_(I),Y=b(I,E);if(Y){var K=Y.next,ce=Y.previous;delete U.index[Y.index],Y.removed=!0,ce&&(ce.next=K),K&&(K.previous=ce),U.first==Y&&(U.first=K),U.last==Y&&(U.last=ce),sp?U.size--:I.size--}return!!Y},forEach:function(E){for(var I,U=_(this),Y=Lq(E,arguments.length>1?arguments[1]:void 0);I=I?I.next:U.first;)for(Y(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(E){return!!b(this,E)}}),T5(p,i?{get:function(E){var I=b(this,E);return I&&I.value},set:function(E,I){return g(this,E===0?0:E,I)}}:{add:function(E){return g(this,E=E===0?0:E,E)}}),sp&&Dq(p,"size",{configurable:!0,get:function(){return _(this).size}}),u},setStrong:function(s,l,i){var d=l+" Iterator",u=qy(l),p=qy(d);Hq(s,l,function(_,g){N5(this,{type:d,target:_,state:u(_),kind:g,last:void 0})},function(){for(var _=p(this),g=_.kind,b=_.last;b&&b.removed;)b=b.previous;return _.target&&(_.last=b=b?b.next:_.state.first)?C5(g=="keys"?b.key:g=="values"?b.value:[b.key,b.value],!1):(_.target=void 0,C5(void 0,!0))},i?"entries":"values",!i,!0),Bq(l)}};(function(s,l,i){var d=s.indexOf("Map")!==-1,u=s.indexOf("Weak")!==-1,p=d?"set":"add",_=Eq[s],g=_&&_.prototype,b=_,E={},I=function(pe){var Ne=wq(g[pe]);xq(g,pe,pe=="add"?function(Ee){return Ne(this,Ee===0?0:Ee),this}:pe=="delete"?function(Ee){return!(u&&!Vy(Ee))&&Ne(this,Ee===0?0:Ee)}:pe=="get"?function(Ee){return u&&!Vy(Ee)?void 0:Ne(this,Ee===0?0:Ee)}:pe=="has"?function(Ee){return!(u&&!Vy(Ee))&&Ne(this,Ee===0?0:Ee)}:function(Ee,ze){return Ne(this,Ee===0?0:Ee,ze),this})};if(S5(s,!Cq(_)||!(u||g.forEach&&!Gy(function(){new _().entries().next()}))))b=i.getConstructor(l,s,d,p),kq.enable();else if(S5(s,!0)){var U=new b,Y=U[p](u?{}:-0,1)!=U,K=Gy(function(){U.has(1)}),ce=Nq(function(pe){new _(pe)}),ae=!u&&Gy(function(){for(var pe=new _,Ne=5;Ne--;)pe[p](Ne,Ne);return!pe.has(-0)});ce||((b=l(function(pe,Ne){Tq(pe,g);var Ee=Oq(new _,pe,b);return Iq(Ne)||Sq(Ne,Ee[p],{that:Ee,AS_ENTRIES:d}),Ee})).prototype=g,g.constructor=b),(K||ae)&&(I("delete"),I("has"),d&&I("get")),(ae||Y)&&I(p),u&&g.clear&&delete g.clear}E[s]=b,yq({global:!0,constructor:!0,forced:b!=_},E),Aq(b,s),u||i.setStrong(b,s,d)})("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},$q);var A5=bi,zq=ln,Vq=Qn,Gq=Ue,jy=S1,qq=V1,jq=L1,Kq=oe,Wq=zn,hh=Object.assign,O5=Object.defineProperty,Qq=zq([].concat),Yq=!hh||Gq(function(){if(A5&&hh({b:1},hh(O5({},"a",{enumerable:!0,get:function(){O5(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var s={},l={},i=Symbol(),d="abcdefghijklmnopqrst";return s[i]=7,d.split("").forEach(function(u){l[u]=u}),hh({},s)[i]!=7||jy(hh({},l)).join("")!=d})?function(s,l){for(var i=Kq(s),d=arguments.length,u=1,p=qq.f,_=jq.f;d>u;)for(var g,b=Wq(arguments[u++]),E=p?Qq(jy(b),p(b)):jy(b),I=E.length,U=0;I>U;)g=E[U++],A5&&!Vq(_,b,g)||(i[g]=b[g]);return i}:hh,R5=Yq;Pr({target:"Object",stat:!0,arity:2,forced:Object.assign!==R5},{assign:R5});var Xq=w1.includes,Zq=q_;Pr({target:"Array",proto:!0,forced:Ue(function(){return!Array(1).includes()})},{includes:function(s){return Xq(this,s,arguments.length>1?arguments[1]:void 0)}}),Zq("includes");var Jq=Ur,ej=J,nj=Ht("match"),tj=function(s){var l;return Jq(s)&&((l=s[nj])!==void 0?!!l:ej(s)=="RegExp")},rj=TypeError,ij=Ht("match"),aj=Pr,sj=function(s){if(tj(s))throw rj("The method doesn't accept regular expressions");return s},oj=xn,M5=co,lj=function(s){var l=/./;try{"/./"[s](l)}catch{try{return l[ij]=!1,"/./"[s](l)}catch{}}return!1},dj=ln("".indexOf);aj({target:"String",proto:!0,forced:!lj("includes")},{includes:function(s){return!!~dj(M5(oj(this)),M5(sj(s)),arguments.length>1?arguments[1]:void 0)}});var vm=function(s){return s.HOST="host",s.PARTICIPANT="participant",s}({}),D5=function(s){return s.CREATED="created",s.READY="ready",s.ONGOING="ongoing",s.PAUSED="paused",s.ENDED="ended",s}({}),L5=function(s){return s.ENTERED="entered",s.CONNECTED="connected",s.DISCONNECTED="disconnected",s.EXITED="exited",s}({}),cj=function(s){return s.ENTERED="entered",s.EXITED="exited",s}({}),uj=function(s){w(i,s);var l=O(i);function i(d,u,p){var _;return f(this,i),(_=l.call(this)).appId=d,_.userId=u,_.accessToken=p,_}return v(i,[{key:"getAuth",value:function(){return!1}},{key:"getData",value:function(){return{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}},{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/login")}},{key:"getMethod",value:function(){return"POST"}}]),i}(t5),Hr=function(s){return s.POST="POST",s.GET="GET",s.DELETE="DELETE",s.OPTION="OPTION",s.PUT="PUT",s}({}),hj=function(s){w(i,s);var l=O(i);function i(d,u,p,_,g,b){var E;return f(this,i),y(N(E=l.call(this)),"type",rt.CREATE),E.hostType=d,E.hostIds=Array.isArray(u)?u:[u],E.title=p===null?"":p,E.coverUrl=_===null?"":_,E.coverFile=g===null?"":g,E.customItems=b,E}return v(i,[{key:"getData",value:function(){var d=function(p,_,g,b){g!==void 0&&u.set(_,g)},u=new FormData;return d(0,"host_type",this.hostType),d(0,"user_ids_for_host",String(this.hostIds)),d(0,"title",this.title),d(0,"cover_url",this.coverUrl),d(0,"cover_file",this.coverFile),d(0,"customItems",JSON.stringify(this.customItems)),u}},{key:"getSubPath",value:function(){return"/live-events"}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),pj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEvent:uo(d.live_event)}}}]),i}(Fr),fj=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this)),"type",rt.GET),u.liveEventId=d,u}return v(i,[{key:"getData",value:function(){}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Hr.GET}}]),i}(Mr),_j=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEvent:uo(d.live_event)}}}]),i}(Fr),mj=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this)),"type",rt.ENTER_HOST),y(N(p),"mediaOption",{turnAudioOn:!0,turnVideoOn:!0}),p.liveEventId=d,p.mediaOption=u,p}return v(i,[{key:"getData",value:function(){return{is_audio_on:this.mediaOption.turnAudioOn,is_video_on:this.mediaOption.turnVideoOn}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),vj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{host:ho(d.host)}}}]),i}(Fr),gj=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this)),"type",rt.READY),u.liveEventId=d,u}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/ready")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),bj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEvent:uo(d.live_event)}}}]),i}(Fr),yj=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this)),"type",rt.START),u.liveEventId=d,u}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/start")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),Ej=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEvent:uo(d.live_event)}}}]),i}(Fr),wj=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this)),"type",rt.EXIT_HOST),p.liveEventId=d,p.hostId=u,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Mr),xj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{host:ho(d.host)}}}]),i}(Fr),kj=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this)),"type",rt.DELETE),u.liveEventId=d,u}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Mr),Sj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEvent:uo(d.live_event)}}}]),i}(Fr),Tj=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this)),"type",rt.ENTER),u.liveEventId=d,u}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),Cj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{participant:ap(d.participant)}}}]),i}(Fr),Ij=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this)),"type",rt.EXIT),p.liveEventId=d,p.participantId=u,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Mr),Nj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{participant:ap(d.participant)}}}]),i}(Fr),Aj=function(s){w(i,s);var l=O(i);function i(d,u,p){var _;return f(this,i),y(N(_=l.call(this)),"type",rt.CONNECTED),_.liveEventId=d,_.participantId=u,_.endpointId=p,_}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),Oj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{endpoint:ip(d.rtcstream)}}}]),i}(Fr),Rj=function(s){w(i,s);var l=O(i);function i(d,u,p){var _;return f(this,i),y(N(_=l.call(this)),"type",rt.HOST_CONNECTED),_.liveEventId=d,_.hostId=u,_.endpointId=p,_}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId,"/connected")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),Mj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{endpoint:ip(d.rtcstream)}}}]),i}(Fr),Dj=function(s){w(i,s);var l=O(i);function i(d,u,p){var _;return f(this,i),y(N(_=l.call(this)),"type",rt.DELETE_STREAM),_.liveEventId=d,_.participantId=u,_.endpointId=p,_}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Mr),Lj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{}}}]),i}(Fr),Uj=function(s){w(i,s);var l=O(i);function i(d,u,p){var _;return f(this,i),y(N(_=l.call(this)),"type",rt.HOST_DELETE_STREAM),_.liveEventId=d,_.hostId=u,_.endpointId=p,_}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams/").concat(this.endpointId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Mr),Pj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{}}}]),i}(Fr),Fj=function(s){w(i,s);var l=O(i);function i(d,u,p,_){var g;return f(this,i),y(N(g=l.call(this)),"type",rt.ATTACH),g.liveEventId=d,g.participantId=u,g.endpointId=p,g.attachTo=_,g}return v(i,[{key:"getData",value:function(){return{attach_to:this.attachTo}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams/").concat(this.endpointId,"/attach")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),Hj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{endpoint:ip(d.rtcstream)}}}]),i}(Fr),Za=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),(u=l.call(this)).type=d.type,u.version=d.version,u.messageId=d.message_id,u.payload=u.parseData(d.payload),u}return v(i)}(fm),U5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,liveEvent:uo(d.live_event)}}}]),i}(Za),P5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,liveEvent:uo(d.live_event)}}}]),i}(Za),F5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,liveEvent:uo(d.live_event)}}}]),i}(Za),H5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,host:ho(d.host)}}}]),i}(Za),B5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,host:ho(d.host)}}}]),i}(Za),$5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,host:ho(d.host)}}}]),i}(Za),Ky=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,host:ho(d.host)}}}]),i}(Za),Wy=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,host:ho(d.host)}}}]),i}(Za),z5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,participant:ap(d.participant),participantCount:d.participant_count,peakParticipantCount:d.peak_participant_count,cumulativeParticipantCount:d.cumulative_participant_count}}}]),i}(Za),V5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,participant:ap(d.participant),participantCount:d.participant_count,peakParticipantCount:d.peak_participant_count,cumulativeParticipantCount:d.cumulative_participant_count}}}]),i}(Za),Bj=function(s){w(i,s);var l=O(i);function i(d,u,p,_,g){var b;return f(this,i),y(N(b=l.call(this)),"type",rt.CREATE_STREAM),b.liveEventId=d,b.participantId=u,b.sdp=p,b.audioAttr=_,b.videoAttr=g,b}return v(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/rtcstreams")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),$j=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{sdp:d.sdp,endpoint:ip(d.rtcstream)}}}]),i}(Fr),zj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{hosts:d.hosts.map(ho)}}}]),i}(Fr),Vj=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this)),"type",rt.HOST_ALIVE),p.liveEventId=d,p.hostId=u,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/alive")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),Gj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{}}}]),i}(Fr),qj=function(s){w(i,s);var l=O(i);function i(d,u,p,_,g){var b;return f(this,i),y(N(b=l.call(this)),"type",rt.HOST_CREATE_STREAM),b.liveEventId=d,b.hostId=u,b.sdp=p,b.audioAttr=_,b.videoAttr=g,b}return v(i,[{key:"getData",value:function(){return{sdp:this.sdp,audio_attr:this.audioAttr,video_attr:this.videoAttr}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/rtcstreams")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),jj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{sdp:d.sdp,endpoint:ip(d.rtcstream)}}}]),i}(Fr),Kj=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this)),"type",rt.ALIVE),p.liveEventId=d,p.participantId=u,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/participants/").concat(this.participantId,"/alive")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),Wj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{}}}]),i}(Fr),Qj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{participant:ap(d.participant)}}}]),i}(Fr),Yj=function(s){w(i,s);var l=O(i);function i(d,u,p){var _;return f(this,i),y(N(_=l.call(this)),"type",rt.AUDIO),_.liveEventId=d,_.hostId=u,_.on=p,_}return v(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/audio")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),Xj=function(s){w(i,s);var l=O(i);function i(d,u,p){var _;return f(this,i),y(N(_=l.call(this)),"type",rt.VIDEO),_.liveEventId=d,_.hostId=u,_.on=p,_}return v(i,[{key:"getData",value:function(){return{on:this.on}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/hosts/").concat(this.hostId,"/video")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),G5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,host:ho(d.host)}}}]),i}(Za),Zj=function(s){w(i,s);var l=O(i);function i(d,u,p,_,g){var b;return f(this,i),y(N(b=l.call(this)),"type",rt.UPDATE),b.liveEventId=d,b.hostIds=u===null?"":Array.isArray(u)?u:[u],b.title=p===null?"":p,b.coverUrl=_===null?"":_,b.coverFile=g===null?"":g,b}return v(i,[{key:"getData",value:function(){var d=function(p,_,g,b){g!==void 0&&u.set(_,g)},u=new FormData;return d(0,"user_ids_for_host",String(this.hostIds)),d(0,"title",this.title),d(0,"cover_url",this.coverUrl),d(0,"cover_file",this.coverFile),u}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId)}},{key:"getMethod",value:function(){return Hr.PUT}}]),i}(Mr),Jj=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEvent:uo(d.live_event)}}}]),i}(Fr),q5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,liveEvent:uo(d.live_event)}}}]),i}(Za),eK=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this)),"type",rt.CUSTOM_ITEMS_GET),u.liveEventId=d,u}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Hr.GET}}]),i}(Mr),nK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{customItems:d.custom_items}}}]),i}(Fr),tK=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this)),"type",rt.CUSTOM_ITEMS_UPDATE),p.liveEventId=d,p.customItems=u,p}return v(i,[{key:"getData",value:function(){return this.customItems}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Hr.PUT}}]),i}(Mr),rK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{customItems:d.custom_items,updatedKeys:d.updated_keys,updatedAt:d.updated_at}}}]),i}(Fr),iK=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this)),"type",rt.CUSTOM_ITEMS_DELETE),p.liveEventId=d,p.keys=u,p}return v(i,[{key:"getData",value:function(){return this.keys}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Mr),aK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{customItems:d.custom_items,deletedKeys:d.deleted_keys,deletedAt:d.deleted_at}}}]),i}(Fr),j5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,updatedAt:d.updated_at,customItems:d.custom_items,updatedKeys:d.updated_keys}}}]),i}(Za),K5=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{liveEventId:d.live_event_id,deletedAt:d.deleted_at,customItems:d.custom_items,deletedKeys:d.deleted_keys}}}]),i}(Za),sK=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this)),"type",rt.CUSTOM_ITEMS_DELETE),u.liveEventId=d,u}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/custom-items")}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Mr),oK=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this)),"type",rt.CREATE_RTMP_STREAM),u.liveEventId=d,u}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams")}},{key:"getMethod",value:function(){return Hr.POST}}]),i}(Mr),lK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{host:ho(d.host)}}}]),i}(Fr),dK=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this)),"type",rt.DELETE_RTMP_STREAM),p.liveEventId=d,p.rtmpStreamId=u,p}return v(i,[{key:"getData",value:function(){return{}}},{key:"getSubPath",value:function(){return"/live-events/".concat(this.liveEventId,"/rtmp-streams/").concat(this.rtmpStreamId)}},{key:"getMethod",value:function(){return Hr.DELETE}}]),i}(Mr),cK=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"parseData",value:function(d){return{}}}]),i}(Fr),Er=function(){function s(){f(this,s)}return v(s,null,[{key:"createAuth",value:function(l,i,d){return new uj(l,i,d)}},{key:"createLiveEvent",value:function(l,i,d,u,p,_){return new hj(l,i,d,u,p,_)}},{key:"updateLiveEvent",value:function(l,i,d,u,p){return new Zj(l,i,d,u,p)}},{key:"createGetLiveEvent",value:function(l){return new fj(l)}},{key:"createEnterHost",value:function(l,i){return new mj(l,i)}},{key:"createReady",value:function(l){return new gj(l)}},{key:"createStart",value:function(l){return new yj(l)}},{key:"createExitHost",value:function(l,i){return new wj(l,i)}},{key:"createEndLiveEvent",value:function(l){return new kj(l)}},{key:"createEnter",value:function(l){return new Tj(l)}},{key:"createExit",value:function(l,i){return new Ij(l,i)}},{key:"createConnected",value:function(l,i,d){return new Aj(l,i,d)}},{key:"createHostConnected",value:function(l,i,d){return new Rj(l,i,d)}},{key:"createStream",value:function(l,i,d,u,p){return new Bj(l,i,d,u,p)}},{key:"createHostCreateStream",value:function(l,i,d,u,p){return new qj(l,i,d,u,p)}},{key:"createDeleteStream",value:function(l,i,d){return new Dj(l,i,d)}},{key:"createHostDeleteStream",value:function(l,i,d){return new Uj(l,i,d)}},{key:"createRTMPStream",value:function(l){return new oK(l)}},{key:"deleteRTMPStream",value:function(l,i){return new dK(l,i)}},{key:"createAttach",value:function(l,i,d,u){return new Fj(l,i,d,u)}},{key:"createAudio",value:function(l,i,d){return new Yj(l,i,d)}},{key:"createVideo",value:function(l,i,d){return new Xj(l,i,d)}},{key:"createAlive",value:function(l,i){return new Kj(l,i)}},{key:"createHostAlive",value:function(l,i){return new Vj(l,i)}},{key:"createGetCustomItems",value:function(l){return new eK(l)}},{key:"createUpdateCustomItems",value:function(l,i){return new tK(l,i)}},{key:"createDeleteCustomItems",value:function(l,i){return new iK(l,i)}},{key:"createDeleteAllCustomItems",value:function(l){return new sK(l)}},{key:"parseResponse",value:function(l,i){try{switch(l.type){case rt.CREATE:return new pj(i);case rt.GET:return new _j(i);case rt.DELETE:return new Sj(i);case rt.QUERY:return new bG(i);case rt.READY:return new bj(i);case rt.START:return new Ej(i);case rt.ENTER_HOST:return new vj(i);case rt.GET_HOSTS:return new zj(i);case rt.EXIT_HOST:return new xj(i);case rt.HOST_ALIVE:return new Gj(i);case rt.AUDIO:return new Ky(i);case rt.VIDEO:return new Wy(i);case rt.HOST_CREATE_STREAM:return new jj(i);case rt.HOST_DELETE_STREAM:return new Pj(i);case rt.HOST_CONNECTED:return new Mj(i);case rt.ENTER:return new Cj(i);case rt.EXIT:return new Nj(i);case rt.ALIVE:return new Wj(i);case rt.GET_PARTICIPANTS:return new Qj(i);case rt.CREATE_STREAM:return new $j(i);case rt.DELETE_STREAM:return new Lj(i);case rt.CONNECTED:return new Oj(i);case rt.ATTACH:return new Hj(i);case rt.UPDATE:return new Jj(i);case rt.CUSTOM_ITEMS_GET:return new nK(i);case rt.CUSTOM_ITEMS_UPDATE:return new rK(i);case rt.CUSTOM_ITEMS_DELETE:return new aK(i);case rt.CREATE_RTMP_STREAM:return new lK(i);case rt.DELETE_RTMP_STREAM:return new cK(i)}}catch{return}}},{key:"parse",value:function(l){if(l.call_type==="live")try{switch(l.type){case rt.LIVE_EVENT_READY:return new U5(l);case rt.LIVE_EVENT_STARTED:return new P5(l);case rt.LIVE_EVENT_ENDED:return new F5(l);case rt.LIVE_EVENT_UPDATED:return new q5(l);case rt.HOST_ENTERED:return new H5(l);case rt.HOST_EXITED:return new B5(l);case rt.HOST_CONNECTED:return new $5(l);case rt.HOST_DISCONNECTED:return new G5(l);case rt.HOST_AUDIO_STATUS_CHANGED:return new Ky(l);case rt.HOST_VIDEO_STATUS_CHANGED:return new Wy(l);case rt.PARTICIPANT_ENTERED:return new z5(l);case rt.PARTICIPANT_EXITED:return new V5(l);case rt.CUSTOM_ITEMS_UPDATE:return new j5(l);case rt.CUSTOM_ITEMS_DELETE:return new K5(l)}}catch{return}}}]),s}(),uK=tp.forEach,hK=Dy("forEach")?[].forEach:function(s){return uK(this,s,arguments.length>1?arguments[1]:void 0)},W5=an,Q5=qT,pK=KT,Qy=hK,fK=rh,Y5=function(s){if(s&&s.forEach!==Qy)try{fK(s,"forEach",Qy)}catch{s.forEach=Qy}};for(var Yy in Q5)Q5[Yy]&&Y5(W5[Yy]&&W5[Yy].prototype);Y5(pK);var _K=Pr,X5=pm,mK=ry,vK=Ur,Z5=P_,gK=bd,bK=Kn,yK=_m,EK=Ht,wK=VS,xK=rp("slice"),kK=EK("species"),Xy=Array,SK=Math.max;_K({target:"Array",proto:!0,forced:!xK},{slice:function(s,l){var i,d,u,p=bK(this),_=gK(p),g=Z5(s,_),b=Z5(l===void 0?_:l,_);if(X5(p)&&(i=p.constructor,(mK(i)&&(i===Xy||X5(i.prototype))||vK(i)&&(i=i[kK])===null)&&(i=void 0),i===Xy||i===void 0))return wK(p,g,b);for(d=new(i===void 0?Xy:i)(SK(b-g,0)),u=0;g<b;g++,u++)g in p&&yK(d,u,p[g]);return d.length=u,d}});var J5,Zy,Sl=function(){function s(){f(this,s),y(this,"_listeners",{}),y(this,"on",this.addEventListener),y(this,"off",this.removeEventListener)}return v(s,[{key:"addEventListener",value:function(l,i){var d=this;return l in this._listeners||(this._listeners[l]=[]),this._listeners[l].push(i),function(){return d.removeEventListener(l,i)}}},{key:"once",value:function(l,i){var d=this;return this.on(l,function u(){i.apply(void 0,arguments),d.removeEventListener(l,u)})}},{key:"removeEventListener",value:function(l,i){if(l in this._listeners){for(var d=this._listeners[l],u=0,p=d.length;u<p;u++)if(d[u]===i)return void d.splice(u,1)}}},{key:"removeAllEventListeners",value:function(){this._listeners={}}},{key:"_dispatchEvent",value:function(l){if(l in this._listeners){for(var i=this._listeners[l].slice(),d=arguments.length,u=new Array(d>1?d-1:0),p=1;p<d;p++)u[p-1]=arguments[p];for(var _=0,g=i.length;_<g;_++){var b;(b=i[_]).call.apply(b,[this].concat(u))}}}}]),s}(),Jy=Ue,e2=an.RegExp,n2=Jy(function(){var s=e2("a","y");return s.lastIndex=2,s.exec("abcd")!=null}),TK=n2||Jy(function(){return!e2("a","y").sticky}),CK=n2||Jy(function(){var s=e2("^r","gy");return s.lastIndex=2,s.exec("str")!=null}),IK={BROKEN_CARET:CK,MISSED_STICKY:TK,UNSUPPORTED_Y:n2},NK=Ue,AK=an.RegExp,OK=NK(function(){var s=AK(".","s");return!(s.dotAll&&s.exec(`
`)&&s.flags==="s")}),RK=Ue,MK=an.RegExp,DK=RK(function(){var s=MK("(?<a>b)","g");return s.exec("b").groups.a!=="b"||"b".replace(s,"$<a>c")!=="bc"}),ph=Qn,gm=ln,LK=co,UK=l5,PK=IK,FK=lt.exports,HK=z_,BK=yd.get,$K=OK,zK=DK,VK=FK("native-string-replace",String.prototype.replace),bm=RegExp.prototype.exec,t2=bm,GK=gm("".charAt),qK=gm("".indexOf),jK=gm("".replace),r2=gm("".slice),i2=(Zy=/b*/g,ph(bm,J5=/a/,"a"),ph(bm,Zy,"a"),J5.lastIndex!==0||Zy.lastIndex!==0),eC=PK.BROKEN_CARET,a2=/()??/.exec("")[1]!==void 0;(i2||a2||eC||$K||zK)&&(t2=function(s){var l,i,d,u,p,_,g,b=this,E=BK(b),I=LK(s),U=E.raw;if(U)return U.lastIndex=b.lastIndex,l=ph(t2,U,I),b.lastIndex=U.lastIndex,l;var Y=E.groups,K=eC&&b.sticky,ce=ph(UK,b),ae=b.source,pe=0,Ne=I;if(K&&(ce=jK(ce,"y",""),qK(ce,"g")===-1&&(ce+="g"),Ne=r2(I,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&GK(I,b.lastIndex-1)!==`
`)&&(ae="(?: "+ae+")",Ne=" "+Ne,pe++),i=new RegExp("^(?:"+ae+")",ce)),a2&&(i=new RegExp("^"+ae+"$(?!\\s)",ce)),i2&&(d=b.lastIndex),u=ph(bm,K?i:b,Ne),K?u?(u.input=r2(u.input,pe),u[0]=r2(u[0],pe),u.index=b.lastIndex,b.lastIndex+=u[0].length):b.lastIndex=0:i2&&u&&(b.lastIndex=b.global?u.index+u[0].length:d),a2&&u&&u.length>1&&ph(VK,u[0],i,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(u[p]=void 0)}),u&&Y)for(u.groups=_=HK(null),p=0;p<Y.length;p++)_[(g=Y[p])[0]]=u[g[1]];return u});var ym=t2;Pr({target:"RegExp",proto:!0,forced:/./.exec!==ym},{exec:ym});var nC=nm,tC=$o,KK=ym,rC=Ue,iC=Ht,WK=rh,QK=iC("species"),s2=RegExp.prototype,aC=function(s,l,i,d){var u=iC(s),p=!rC(function(){var E={};return E[u]=function(){return 7},""[s](E)!=7}),_=p&&!rC(function(){var E=!1,I=/a/;return s==="split"&&((I={}).constructor={},I.constructor[QK]=function(){return I},I.flags="",I[u]=/./[u]),I.exec=function(){return E=!0,null},I[u](""),!E});if(!p||!_||i){var g=nC(/./[u]),b=l(u,""[s],function(E,I,U,Y,K){var ce=nC(E),ae=I.exec;return ae===KK||ae===s2.exec?p&&!K?{done:!0,value:g(I,U,Y)}:{done:!0,value:ce(U,I,Y)}:{done:!1}});tC(String.prototype,s,b[0]),tC(s2,u,b[1])}d&&WK(s2[u],"sham",!0)},YK=$T.charAt,sC=function(s,l,i){return l+(i?YK(s,l).length:1)},o2=ln,XK=oe,ZK=Math.floor,l2=o2("".charAt),JK=o2("".replace),d2=o2("".slice),eW=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,nW=/\$([$&'`]|\d{1,2})/g,oC=Qn,tW=oi,rW=jt,iW=J,aW=ym,sW=TypeError,lC=function(s,l){var i=s.exec;if(rW(i)){var d=oC(i,s,l);return d!==null&&tW(d),d}if(iW(s)==="RegExp")return oC(aW,s,l);throw sW("RegExp#exec called on incompatible receiver")},oW=zS,dC=Qn,Em=ln,lW=aC,dW=Ue,cW=oi,uW=jt,hW=Rn,pW=th,fW=F_,fh=co,_W=xn,mW=sC,vW=B0,gW=function(s,l,i,d,u,p){var _=i+s.length,g=d.length,b=nW;return u!==void 0&&(u=XK(u),b=eW),JK(p,b,function(E,I){var U;switch(l2(I,0)){case"$":return"$";case"&":return s;case"`":return d2(l,0,i);case"'":return d2(l,_);case"<":U=u[d2(I,1,-1)];break;default:var Y=+I;if(Y===0)return E;if(Y>g){var K=ZK(Y/10);return K===0?E:K<=g?d[K-1]===void 0?l2(I,1):d[K-1]+l2(I,1):E}U=d[Y-1]}return U===void 0?"":U})},bW=lC,c2=Ht("replace"),yW=Math.max,EW=Math.min,wW=Em([].concat),u2=Em([].push),cC=Em("".indexOf),uC=Em("".slice),xW=function(s){return s===void 0?s:String(s)},kW="a".replace(/./,"$0")==="$0",hC=!!/./[c2]&&/./[c2]("a","$0")==="",SW=!dW(function(){var s=/./;return s.exec=function(){var l=[];return l.groups={a:"7"},l},"".replace(s,"$<a>")!=="7"});lW("replace",function(s,l,i){var d=hC?"$":"$0";return[function(u,p){var _=_W(this),g=hW(u)?void 0:vW(u,c2);return g?dC(g,u,_,p):dC(l,fh(_),u,p)},function(u,p){var _=cW(this),g=fh(u);if(typeof p=="string"&&cC(p,d)===-1&&cC(p,"$<")===-1){var b=i(l,_,g,p);if(b.done)return b.value}var E=uW(p);E||(p=fh(p));var I=_.global;if(I){var U=_.unicode;_.lastIndex=0}for(var Y=[];;){var K=bW(_,g);if(K===null||(u2(Y,K),!I))break;fh(K[0])===""&&(_.lastIndex=mW(g,fW(_.lastIndex),U))}for(var ce="",ae=0,pe=0;pe<Y.length;pe++){for(var Ne=fh((K=Y[pe])[0]),Ee=yW(EW(pW(K.index),g.length),0),ze=[],dn=1;dn<K.length;dn++)u2(ze,xW(K[dn]));var Ce=K.groups;if(E){var be=wW([Ne],ze,Ee,g);Ce!==void 0&&u2(be,Ce);var rn=fh(oW(p,void 0,be))}else rn=gW(Ne,g,Ee,ze,Ce,p);Ee>=ae&&(ce+=uC(g,ae,Ee)+rn,ae=Ee+Ne.length)}return ce+uC(g,ae)}]},!SW||!kW||hC);var TW=an,CW=ln(1 .valueOf),pC=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,IW=xn,NW=co,h2=pC,fC=ln("".replace),AW=RegExp("^["+h2+"]+"),OW=RegExp("(^|[^"+h2+"])["+h2+"]+$"),p2=function(s){return function(l){var i=NW(IW(l));return 1&s&&(i=fC(i,AW,"")),2&s&&(i=fC(i,OW,"$1")),i}},_C={start:p2(1),end:p2(2),trim:p2(3)},RW=Pr,MW=bi,mC=an,vC=TW,gC=ln,DW=Y_,bC=Fe,LW=k5,UW=et,PW=gd,yC=qk,FW=Ue,HW=G0.f,BW=V0.f,$W=Si.f,zW=CW,VW=_C.trim,wm="Number",_h=mC[wm];vC[wm];var f2=_h.prototype,GW=mC.TypeError,qW=gC("".slice),xm=gC("".charCodeAt),jW=function(s){var l,i,d,u,p,_,g,b,E=yC(s,"number");if(PW(E))throw GW("Cannot convert a Symbol value to a number");if(typeof E=="string"&&E.length>2){if(E=VW(E),(l=xm(E,0))===43||l===45){if((i=xm(E,2))===88||i===120)return NaN}else if(l===48){switch(xm(E,1)){case 66:case 98:d=2,u=49;break;case 79:case 111:d=8,u=55;break;default:return+E}for(_=(p=qW(E,2)).length,g=0;g<_;g++)if((b=xm(p,g))<48||b>u)return NaN;return parseInt(p,d)}}return+E},_2=DW(wm,!_h(" 0o1")||!_h("0b1")||_h("+0x1")),km=function(s){var l,i=arguments.length<1?0:_h(function(d){var u=yC(d,"number");return typeof u=="bigint"?u:jW(u)}(s));return UW(f2,l=this)&&FW(function(){zW(l)})?LW(Object(i),this,km):i};km.prototype=f2,_2&&(f2.constructor=km),RW({global:!0,constructor:!0,wrap:!0,forced:_2},{Number:km}),_2&&function(s,l){for(var i,d=MW?HW(l):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),u=0;d.length>u;u++)bC(l,i=d[u])&&!bC(s,i)&&$W(s,i,BW(l,i))}(vC[wm],_h);var m2=function(s){Object.keys(s).forEach(function(l){var i;((i=s[l])===void 0||Number.isNaN(i)||i===""||Array.isArray(i)&&i.length===0)&&delete s[l]})},KW=function(){var s=h(o().mark(function l(i){var d,u,p,_,g,b,E,I,U,Y,K,ce,ae;return o().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(i){pe.next=2;break}throw new Error("'getCandidateInfo()' is called without rtcConnection");case 2:return pe.next=4,i.getStats();case 4:d=pe.sent,p=d.entries(),_=0;case 7:if(!(_<d.size)){pe.next=18;break}if(g=p.next(),b=g.value){pe.next=11;break}return pe.abrupt("continue",15);case 11:if((E=b[1]).type!=="candidate-pair"||E.state!=="succeeded"){pe.next=15;break}return u=E.localCandidateId,pe.abrupt("break",18);case 15:_++,pe.next=7;break;case 18:if(!(_<d.size)){pe.next=28;break}if(I=p.next(),U=I.value){pe.next=22;break}return pe.abrupt("continue",25);case 22:if((Y=U[1]).type!=="local-candidate"||Y.id!==u){pe.next=25;break}return pe.abrupt("return",{connectionType:(K=Y.candidateType)!==null&&K!==void 0?K:"",protocol:(ce=Y.protocol)!==null&&ce!==void 0?ce:"",relayProtocol:(ae=Y.relayProtocol)!==null&&ae!==void 0?ae:""});case 25:_++,pe.next=18;break;case 28:return pe.abrupt("return",null);case 29:case"end":return pe.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),WW=function(){var s=h(o().mark(function l(i){var d,u,p,_,g,b,E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return d={},u={},p={},_={},g=new Map,b=new Map,i.forEach(function(U){U.type==="codec"&&g.set(U.id,U),U.type==="candidate-pair"&&U.state==="succeeded"&&(E=U.localCandidateId,d.webrtc_timestamp=U.time),U.type==="media-source"&&b.set(U.kind,U)}),i.forEach(function(U){if(U.type==="local-candidate"&&U.id===E&&(u.network_type=U.networkType,u.protocol=U.protocol,u.candidate_type=U.candidateType),U.kind==="audio"||U.mediaType==="audio"){var Y;if(U.type==="outbound-rtp"&&(p.codec=(Y=g.get(U.codecId))===null||Y===void 0?void 0:Y.mimeType,p.total_packets_sent=U.packetsSent,p.retransmitted_packets_sent=U.retransmittedPacketsSent),U.type==="remote-inbound-rtp"&&(p.rtt=1e3*U.roundTripTime),U.type==="inbound-rtp"){var K=U.packetsLost/(U.packetsLost+U.packetsReceived)*100;p.total_packets_received=U.packetsReceived,p.total_packets_lost_rate=K,p.total_packets_lost=U.packetsLost,p.jitter=1e3*U.jitter}U.type==="track"&&U.remoteSource&&(p.jitter_buffer_delay=U.jitterBufferDelay,p.jitter_buffer_emitted_count=U.jitterBufferDelayEmittedCount)}if(U.kind==="video"||U.mediaType==="video"){var ce,ae,pe,Ne;if(_.video_source_width=(ce=b.get("video"))===null||ce===void 0?void 0:ce.width,_.video_source_height=(ae=b.get("video"))===null||ae===void 0?void 0:ae.height,_.video_source_frames_per_second=(pe=b.get("video"))===null||pe===void 0?void 0:pe.framesPerSecond,U.type==="outbound-rtp"&&(_.codec=(Ne=g.get(U.codecId))===null||Ne===void 0?void 0:Ne.mimeType,_.fir_count=U.firCount,_.pli_count=U.pliCount,_.nack_count=U.nackCount,_.qp_sum=U.qpSum,_.retransmitted_packets_sent=U.retransmittedBytesSent,_.quality_limitation_reason=U.qualityLimitationReason,_.quality_limitation_resolution_changes=U.qualityLimitationResolutionChanges),U.type==="remote-inbound-rtp"&&(_.rtt=1e3*U.roundTripTime),U.type==="inbound-rtp"){_.header_bytes_received=U.headerBytesReceived,_.key_frames_decoded=U.keyFramesDecoded,_.total_decode_time=U.totalDecodeTime,_.total_inter_frame_delay=U.totalInterFrameDelay,_.total_squared_inter_frame_delay=U.totalSquaredInterFrameDelay;var Ee=U.packetsLost/(U.packetsLost+U.packetsReceived)*100;_.total_packets_lost=U.packetsLost,_.total_packets_received=U.packetsReceived,_.total_packets_lost_rate=Ee}U.type==="track"&&(U.remoteSource?(_.jitter_buffer_delay=U.jitterBufferDelay,_.jitter_buffer_emitted_count=U.jitterBufferDelayEmittedCount,_.received_frame_width=U.frameWidth,_.received_frame_height=U.frameHeight,_.frames_received=U.framesReceived,_.frames_decoded=U.framesDecoded,_.frames_dropped=U.framesDropped,_.freeze_count=U.freezeCount,_.pause_count=U.pauseCount,_.total_freezes_duration=U.totalFreezesDuration,_.total_pauses_duration=U.totalPausesDuration,_.total_frames_duration=U.totalFramesDuration,_.sum_of_squared_frames_duration=U.sumOfSquaredFramesDuration):(_.sent_frame_width=U.frameWidth,_.sent_frame_height=U.frameHeight))}}),m2(u),m2(p),m2(_),d.transport_info=u,d.audio=p,d.video=_,I.abrupt("return",d);case 15:case"end":return I.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),QW=function(){var s=h(o().mark(function l(i){var d;return o().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i){u.next=2;break}throw new Error("'getStats()' is called without rtcConnection");case 2:return u.next=4,i.getStats();case 4:return d=u.sent,u.abrupt("return",WW(d));case 6:case"end":return u.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),EC=function(){function s(l){f(this,s),this._context=l}return v(s,[{key:"state",get:function(){return this._state}},{key:"_changeState",value:function(l){this._state&&this._state.type===l.type||(this._state&&this._state.destroy(),this._state=l,this._state.context=this._context,this._state.start())}}]),s}(),wC=function(){function s(l){f(this,s),this._stateMutator=l}return v(s,[{key:"context",set:function(l){this._context=l}},{key:"start",value:function(){this._onStart()}},{key:"destroy",value:function(){this._onDestroy()}}]),s}(),xC=function(){function s(l,i){f(this,s),this._context=l,this._stateMutator=i,this._context=l,this._stateMutator=i}return v(s,[{key:"state",get:function(){return this._stateMutator.state}}]),s}(),xd=function(s){w(i,s);var l=O(i);function i(d){return f(this,i),l.call(this,d)}return v(i)}(wC),mr=function(s){return s.IDLE="idle",s.OFFERING="offering",s.ANSWERING="answering",s.CONNECTED="connected",s.RECONNECTING="reconnecting",s.ICE_RESTART_OFFERING="iceRestartOffering",s.ICE_RESTART_ANSWERING="iceRestartAnswering",s.CLOSED="closed",s}({}),YW=function(s){w(d,s);var l,i=O(d);function d(u,p){var _;return f(this,d),y(N(_=i.call(this,u)),"type",mr.ANSWERING),_._offerCommand=p,_}return v(d,[{key:"_onStart",value:function(){this._context.dispatchEvent("answering"),this._context.createRTCConnection(),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(l=h(o().mark(function u(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.prepareSessionDescription(),this._context.sendAnswer().catch(function(g){});case 4:case"end":return _.stop()}},u,this)})),function(u){return l.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),d}(xd),XW=function(s){w(i,s);var l=O(i);function i(){var d;f(this,i);for(var u=arguments.length,p=new Array(u),_=0;_<u;_++)p[_]=arguments[_];return y(N(d=l.call.apply(l,[this].concat(p))),"type",mr.CLOSED),d}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(xd),ZW=function(s){w(d,s);var l,i=O(d);function d(u,p){var _;return f(this,d),y(N(_=i.call(this,u)),"type",mr.CONNECTED),_._isReconnected=p,_}return v(d,[{key:"_onStart",value:function(){this._context.dispatchEvent("connected")}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(l=h(o().mark(function u(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:this._stateMutator.toReconnecting(p);case 1:case"end":return _.stop()}},u,this)})),function(u){return l.apply(this,arguments)})},{key:"onIceDisconnected",value:function(){this._stateMutator.toReconnecting()}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),d}(xd),JW=function(s){w(d,s);var l,i=O(d);function d(u,p){var _;return f(this,d),y(N(_=i.call(this,u)),"type",mr.ICE_RESTART_ANSWERING),_._offerCommand=p,_}return v(d,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartAnswering"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:(l=h(o().mark(function u(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._context.setRemoteDescription("offer",p.payload.sdp);case 2:this._context.sendAnswer().catch(function(g){});case 3:case"end":return _.stop()}},u,this)})),function(u){return l.apply(this,arguments)})},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),d}(xd),eQ=function(s){w(i,s);var l=O(i);function i(){var d;f(this,i);for(var u=arguments.length,p=new Array(u),_=0;_<u;_++)p[_]=arguments[_];return y(N(d=l.call.apply(l,[this].concat(p))),"type",mr.ICE_RESTART_OFFERING),d}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("iceRestartOffering"),this._context.sendOffer(!0)}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(d){this._context.setRemoteDescription("answer",d.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(xd),nQ=function(s){w(d,s);var l,i=O(d);function d(){var u;f(this,d);for(var p=arguments.length,_=new Array(p),g=0;g<p;g++)_[g]=arguments[g];return y(N(u=i.call.apply(i,[this].concat(_))),"type",mr.IDLE),u}return v(d,[{key:"_onStart",value:function(){}},{key:"_onDestroy",value:function(){}},{key:"createOffer",value:function(){this._stateMutator.toOffering()}},{key:"onOfferReceived",value:(l=h(o().mark(function u(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:this._stateMutator.toAnswering(p);case 1:case"end":return _.stop()}},u,this)})),function(u){return l.apply(this,arguments)})},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),d}(xd),tQ=function(s){w(i,s);var l=O(i);function i(){var d;f(this,i);for(var u=arguments.length,p=new Array(u),_=0;_<u;_++)p[_]=arguments[_];return y(N(d=l.call.apply(l,[this].concat(p))),"type",mr.OFFERING),d}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("offering"),this._context.createRTCConnection(),this._context.prepareSessionDescription()}},{key:"_onDestroy",value:function(){}},{key:"onAnswerReceived",value:function(d){this._context.setRemoteDescription("answer",d.payload.sdp)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!1)}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(xd),rQ=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this,d)),"type",mr.RECONNECTING),p._offerCommand=u,p}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("reconnecting"),this._offerCommand&&this.onOfferReceived(this._offerCommand)}},{key:"_onDestroy",value:function(){}},{key:"onOfferReceived",value:function(d){this._stateMutator.toIceRestartAnswering(d)}},{key:"onIceConnected",value:function(){this._stateMutator.toConnected(!0)}},{key:"onIceFailed",value:function(){this._context.isDisposable&&this.onClose(),this._context.isInitiator?this._stateMutator.toIceRestartOffering():this._stateMutator.toIceRestartAnswering()}},{key:"onClose",value:function(){this._stateMutator.toClosed()}}]),i}(xd),iQ=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"PeerConnection"}},{key:"toIdle",value:function(){this._changeState(new nQ(this))}},{key:"toOffering",value:function(){this._changeState(new tQ(this))}},{key:"toAnswering",value:function(d){this._changeState(new YW(this,d))}},{key:"toConnected",value:function(d){this._changeState(new ZW(this,d))}},{key:"toReconnecting",value:function(d){this._changeState(new rQ(this,d))}},{key:"toIceRestartOffering",value:function(){this._changeState(new eQ(this))}},{key:"toIceRestartAnswering",value:function(d){this._changeState(new JW(this,d))}},{key:"toClosed",value:function(){this._changeState(new XW(this))}}]),i}(EC),aQ=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),(u=l.call(this,d,new iQ(d)))._stateMutator.toIdle(),u}return v(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onOfferReceived",value:function(d){it.verbose("[".concat(this.state.type,"] onOfferReceived"));var u=this.state;switch(u.type){case mr.IDLE:case mr.ANSWERING:case mr.CONNECTED:case mr.RECONNECTING:case mr.ICE_RESTART_ANSWERING:u.onOfferReceived(d);break;default:it.error("[".concat(this.state.type,"] onOfferReceived"))}}},{key:"onAnswerReceived",value:function(d){it.verbose("[".concat(this.state.type,"] onAnswerReceived"));var u=this.state;switch(u.type){case mr.OFFERING:case mr.ICE_RESTART_OFFERING:u.onAnswerReceived(d);break;default:it.error("[".concat(this.state.type,"] onAnswerReceived"))}}},{key:"onClose",value:function(){it.verbose("[".concat(this.state.type,"] onClose"));var d=this.state;switch(d.type){case mr.IDLE:case mr.OFFERING:case mr.ANSWERING:case mr.CONNECTED:case mr.RECONNECTING:case mr.ICE_RESTART_OFFERING:case mr.ICE_RESTART_ANSWERING:d.onClose();break;default:it.error("[".concat(this.state.type,"] onClose"))}}},{key:"createOffer",value:function(){it.verbose("[".concat(this.state.type,"] createOffer"));var d=this.state;d.type===mr.IDLE?d.createOffer():it.error("[".concat(this.state.type,"] createOffer"))}},{key:"onIceConnected",value:function(){it.verbose("[".concat(this.state.type,"] onIceConnected"));var d=this.state;switch(d.type){case mr.OFFERING:case mr.ANSWERING:case mr.RECONNECTING:case mr.ICE_RESTART_OFFERING:case mr.ICE_RESTART_ANSWERING:d.onIceConnected();break;default:it.error("[".concat(this.state.type,"] onIceConnected"))}}},{key:"onIceDisconnected",value:function(){it.verbose("[".concat(this.state.type,"] onIceDisconnected"));var d=this.state;d.type===mr.CONNECTED?d.onIceDisconnected():it.error("[".concat(this.state.type,"] onIceDisconnected"))}},{key:"onIceFailed",value:function(){it.verbose("[".concat(this.state.type,"] onIceFailed"));var d=this.state;switch(d.type){case mr.CONNECTED:case mr.RECONNECTING:d.onIceFailed();break;default:it.error("[".concat(this.state.type,"] onIceFailed"))}}}]),i}(xC),sQ=function(s){return s.RELAY="relay",s.ALL="all",s}({}),oQ=function(s){w(_,s);var l,i,d,u,p=O(_);function _(g,b,E,I,U,Y,K,ce){var ae;return f(this,_),(ae=p.call(this))._ctx=g,ae.id=b,ae._signalingClient=E,ae._localStream=I,ae._isInitiator=U,ae._turnCredential=Y,ae._mediaDirections=K,ae._isDisposable=ce,ae._stateMachine=new aQ({dispatchEvent:ae._dispatchEvent.bind(N(ae)),isInitiator:ae._isInitiator,setRemoteDescription:ae._setRemoteDescription.bind(N(ae)),sendAnswer:ae._sendAnswer.bind(N(ae)),sendOffer:ae._sendOffer.bind(N(ae)),createRTCConnection:ae._createRTCConnection.bind(N(ae)),prepareSessionDescription:ae._prepareSessionDescription.bind(N(ae)),isDisposable:ae._isDisposable}),I&&I.on("streamChanged",function(pe){return ae.onLocalStream(pe)}),ae}return v(_,[{key:"_state",get:function(){return this._stateMachine.state}},{key:"rtcConnection",get:function(){return this._rtcConnection}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"signalingClient",get:function(){return this._signalingClient}},{key:"onEvent",value:function(g){switch(g.type){case v2.CANDIDATE:return void this._receiveCandidate(g);case v2.OFFER:this._stateMachine.onOfferReceived(g);break;case v2.ANSWER:this._stateMachine.onAnswerReceived(g);break;default:it.error(new Error("unhandled call event ".concat(g)))}}},{key:"createOffer",value:function(){this._stateMachine.createOffer()}},{key:"close",value:function(){this._closeRTCConnection(),this._stateMachine.onClose()}},{key:"onLocalStream",value:function(g){if(this._rtcConnection){var b,E=M(g.getTracks());try{for(E.s();!(b=E.n()).done;){var I=b.value;this._replaceTrack(I)}}catch(U){E.e(U)}finally{E.f()}}}},{key:"getCandidateInfo",value:(u=h(o().mark(function g(){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",KW(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return u.apply(this,arguments)})},{key:"getStatsLog",value:(d=h(o().mark(function g(){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",QW(this.rtcConnection));case 1:case"end":return b.stop()}},g,this)})),function(){return d.apply(this,arguments)})},{key:"_replaceTrack",value:function(g){var b,E=M(this._rtcConnection.getSenders());try{for(E.s();!(b=E.n()).done;){var I=b.value;I.track&&I.track.kind===g.kind&&I.replaceTrack(g)}}catch(U){E.e(U)}finally{E.f()}}},{key:"_createRTCConnection",value:function(){var g,b=this;this._turnCredential&&(g={iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:this._turnCredential.transportPolicy||sQ.ALL});var E=new RTCPeerConnection(g);E.onnegotiationneeded=function(){b._sendOffer(!1)},E.onicecandidate=function(I){var U,Y;I.candidate&&((U=(Y=b._signalingClient).sendCandidate)===null||U===void 0||U.call(Y,I.candidate))},E.onconnectionstatechange=function(){return b._handleConnectionStateChange(E)},E.oniceconnectionstatechange=function(){return b._handleIceConnectionStateChange(E)},E.ontrack=function(I){return b._onRemoteTrack(I)},this._rtcConnection=E}},{key:"_closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null,delete this._remoteStream)}},{key:"_prepareSessionDescription",value:function(){var g=this._mediaDirections,b=g.audio,E=g.video,I={sendrecv:[],sendonly:[],recvonly:[],none:[]};I[b].push("audio"),I[E].push("video"),I.sendrecv.length&&this._addTracks(I.sendrecv),I.sendonly.length&&this._addSendOnlyTransceivers(I.sendonly),I.recvonly.length&&this._addReceiveOnlyTransceivers(I.recvonly)}},{key:"_addTracks",value:function(g){var b=this;it.debug("_addTracks()");var E=this._localStream.localStream;E.getTracks().forEach(function(I){g.includes(I.kind)&&b._rtcConnection.addTrack(I,E)})}},{key:"_addReceiveOnlyTransceivers",value:function(g){var b=this;g.forEach(function(E){b._rtcConnection.addTransceiver(E,{direction:"recvonly"})})}},{key:"_addSendOnlyTransceivers",value:function(g){var b=this,E=this._localStream.localStream;g.forEach(function(I){E.getTracks().forEach(function(U){U.kind===I&&b._rtcConnection.addTransceiver(U,{direction:"sendonly",streams:[E]})})})}},{key:"_setRemoteDescription",value:function(g,b){var E=b.replace(/a=extmap:0 ulpfec\r\n/,""),I=new RTCSessionDescription({type:g,sdp:E});return this._rtcConnection.setRemoteDescription(I)}},{key:"_sendOffer",value:(i=h(o().mark(function g(b){var E,I;return o().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return E={iceRestart:b||!1},U.next=3,this._rtcConnection.createOffer(E);case 3:return I=U.sent,U.next=6,this._rtcConnection.setLocalDescription(I);case 6:return U.abrupt("return",this._signalingClient.sendOfferSdp(this._rtcConnection.localDescription));case 7:case"end":return U.stop()}},g,this)})),function(g){return i.apply(this,arguments)})},{key:"_sendAnswer",value:(l=h(o().mark(function g(){var b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this._rtcConnection.createAnswer();case 2:return(b=E.sent).sdp=b.sdp.replace("actpass","active"),E.next=6,this._rtcConnection.setLocalDescription(b);case 6:return E.abrupt("return",this._signalingClient.sendAnswerSdp(this._rtcConnection.localDescription));case 7:case"end":return E.stop()}},g,this)})),function(){return l.apply(this,arguments)})},{key:"_handleIceConnectionStateChange",value:function(g){switch(it.verbose("[".concat(this._state.type,"] iceConnectionState ").concat(g.iceConnectionState)),g.iceConnectionState){case"connected":this._stateMachine.onIceConnected();break;case"disconnected":this._stateMachine.onIceDisconnected();break;case"failed":this._dispatchEvent("iceFailed")}}},{key:"_handleConnectionStateChange",value:function(g){it.verbose("[".concat(this._state.type,"] connectionState ").concat(g.connectionState)),g.connectionState==="failed"&&this._dispatchEvent("iceFailed")}},{key:"_receiveCandidate",value:function(g){var b=g.payload.candidate;this._rtcConnection.addIceCandidate({sdpMLineIndex:b.sdpMLineIndex,sdpMid:b.sdpMid,candidate:b.sdp}).catch(function(E){it.error(E)})}},{key:"_onRemoteTrack",value:function(g){this._remoteStream=g.streams[0],this._dispatchEvent("remoteStream",this._remoteStream)}}]),_}(Sl),v2=function(s){return s.OFFER="offer",s.ANSWER="answer",s.CANDIDATE="candidate",s}({}),g2=v(function s(){var l=this;f(this,s),this.promise=new Promise(function(i,d){l.resolve=i,l.reject=d})}),b2=function(){var s=h(o().mark(function l(i,d,u){var p,_,g,b,E,I,U,Y,K=arguments;return o().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return p=K.length>3&&K[3]!==void 0?K[3]:{count:0,deferred:new g2},_=p.deferred,g=p.count,ce.prev=2,ce.next=5,d();case 5:E=ce.sent,g>0&&((b=u.onRecover)===null||b===void 0||b.call(u)),_.resolve(E),ce.next=19;break;case 10:if(ce.prev=10,ce.t0=ce.catch(2),(I=u.onError)===null||I===void 0||I.call(u,ce.t0),!((U=i.calcTimeout(g+1))>=0)){ce.next=18;break}return(Y=u.onRetrial)===null||Y===void 0||Y.call(u,g+1,ce.t0),setTimeout(function(){b2(i,d,u,{count:g+1,deferred:_})},U),ce.abrupt("return",_.promise);case 18:_.reject(ce.t0);case 19:return ce.abrupt("return",_.promise);case 20:case"end":return ce.stop()}},l,null,[[2,10]])}));return function(l,i,d){return s.apply(this,arguments)}}(),lQ=function(){function s(){f(this,s)}return v(s,[{key:"calcTimeout",value:function(l){switch(l){case 1:return 1e3;case 2:return 2e3;case 3:return 3e3;default:return-1}}}]),s}(),kC=function(){function s(l,i,d){f(this,s),this.interval=l,this.noise=i,this.maxRetrial=d}return v(s,[{key:"calcTimeout",value:function(l){return l>this.maxRetrial?-1:this.interval+(Math.random()-.5)*this.noise*2}}]),s}(),SC=function(){function s(l){f(this,s),this._requests=new Map,this.timeoutTime=l}return v(s,[{key:"has",value:function(l){return this._requests.has(l)}},{key:"get",value:function(l){return this._requests.get(l)}},{key:"register",value:function(l){if(!l)throw new Error("invalid request id");if(this._requests.has(l))throw new Error("duplicate requests");var i=new g2;return this._requests.set(l,{deferred:i,timer:this._createTimeoutTimer(l)}),i}},{key:"unregister",value:function(l){if(!this._requests.has(l))return null;var i=this._requests.get(l),d=i.timer,u=i.deferred;return clearTimeout(d),this._requests.delete(l),u}},{key:"_createTimeoutTimer",value:function(l){var i=this;return setTimeout(function(){i.unregister(l).reject(new Error("no response due to timeout"))},this._getTimeoutTime())}},{key:"rejectAll",value:function(l){var i,d=M(this._requests.keys());try{for(d.s();!(i=d.n()).done;){var u=i.value,p=this._requests.get(u);clearTimeout(p.timer),p.deferred.reject(l)}}catch(_){d.e(_)}finally{d.f()}this._requests.clear()}},{key:"_getTimeoutTime",value:function(){return this.timeoutTime}}]),s}(),dQ=function(){function s(u,p,_,g){f(this,s),y(this,"_timeoutTime",6e4),this._ctx=u,this._participantId=p,this._mediaDirections=_,this._endpointId=g,this._requestMap=new SC(this._timeoutTime)}var l,i,d;return v(s,[{key:"sendOfferSdp",value:(d=h(o().mark(function u(p){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(this._endpointId){_.next=5;break}return _.next=3,this._sendOfferAndUnregisterCreateEndpointRequest(p);case 3:_.next=7;break;case 5:return _.next=7,this._sendOfferAndUnregisterPutEndpointRequest(p);case 7:case"end":return _.stop()}},u,this)})),function(u){return d.apply(this,arguments)})},{key:"_sendOfferAndUnregisterCreateEndpointRequest",value:(i=h(o().mark(function u(p){var _,g;return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return _=this._requestMap.unregister("".concat(this._participantId,":create-endpoint-request")),b.prev=1,b.next=4,this._sendCreateEndpoint(p);case 4:return g=b.sent,_&&_.resolve(g),b.abrupt("return",g);case 9:throw b.prev=9,b.t0=b.catch(1),_&&_.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},u,this,[[1,9]])})),function(u){return i.apply(this,arguments)})},{key:"_sendOfferAndUnregisterPutEndpointRequest",value:(l=h(o().mark(function u(p){var _,g;return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return _=this._requestMap.unregister("".concat(this._participantId,":put-endpoint-request")),b.prev=1,b.next=4,this._sendPutEndpoint(p);case 4:return g=b.sent,_&&_.resolve(g),b.abrupt("return",g);case 9:throw b.prev=9,b.t0=b.catch(1),_&&_.reject(b.t0),b.t0;case 13:case"end":return b.stop()}},u,this,[[1,9]])})),function(u){return l.apply(this,arguments)})},{key:"registerCreateEndpointRequest",value:function(){if(this._endpointId)throw new Error("Cannot register create endpoint request on endpoint recycle");return this._requestMap.register("".concat(this._participantId,":create-endpoint-request"))}},{key:"registerPutEndpointRequest",value:function(){if(!this._endpointId)throw new Error("Cannot register put endpoint request without endpoint id");return this._requestMap.register("".concat(this._participantId,":put-endpoint-request"))}},{key:"_sendCreateEndpoint",value:function(u){return this._ctx.sendCreateEndpoint(u)}},{key:"_sendPutEndpoint",value:function(u){return this._ctx.sendPutEndpoint(u)}}]),s}(),kd=function(s){w(i,s);var l=O(i);function i(d){return f(this,i),l.call(this,d)}return v(i)}(wC),ir=function(s){return s.IDLE="idle",s.OFFERING="offering",s.ESTABLISHED="established",s.CONNECTED="connected",s.DISCONNECTED="disconnected",s.RECONNECTING="reconnecting",s.RELEASING="releasing",s.CLOSED="closed",s}({}),cQ=function(s){w(i,s);var l=O(i);function i(){var d;f(this,i);for(var u=arguments.length,p=new Array(u),_=0;_<u;_++)p[_]=arguments[_];return y(N(d=l.call.apply(l,[this].concat(p))),"type",ir.CLOSED),d}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("closed")}},{key:"_onDestroy",value:function(){}}]),i}(kd),uQ=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this,d)),"type",ir.CONNECTED),u}return v(i,[{key:"_onStart",value:function(){var d=this._context.reconnectCount>0;this._context.dispatchEvent("connected",d)}},{key:"_onDestroy",value:function(){}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!0)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(kd),hQ=function(s){w(i,s);var l=O(i);function i(d,u,p){var _;return f(this,i),y(N(_=l.call(this,d)),"type",ir.ESTABLISHED),_._sdp=u,_._hasPendingAttach=p,_}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("established"),this._context.setRemoteDescription(this._sdp),this._hasPendingAttach&&this.onAttach()}},{key:"_onDestroy",value:function(){}},{key:"onPCConnected",value:function(){this._stateMutator.toConnected()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._context.requestAttach()}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(kd),pQ=function(s){w(i,s);var l=O(i);function i(){var d;f(this,i);for(var u=arguments.length,p=new Array(u),_=0;_<u;_++)p[_]=arguments[_];return y(N(d=l.call.apply(l,[this].concat(p))),"type",ir.IDLE),d}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("idle"),this._stateMutator.toOffering()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(kd),fQ=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this,d)),"type",ir.OFFERING),u}return v(i,[{key:"_onStart",value:function(){this._request()}},{key:"_onDestroy",value:function(){this._requestTimeout&&clearTimeout(this._requestTimeout),delete this._requestTimeout}},{key:"_request",value:function(){this._context.createSession(),this._context.requestCreateOrPutEndpoint()}},{key:"onICEFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onEndpointRequestSucceeded",value:function(d){this._stateMutator.toEstablished(d,this._hasPendingAttach)}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toDisconnected(!1)}},{key:"onAttach",value:function(){this._hasPendingAttach=!0}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(kd),_Q=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this,d)),"type",ir.DISCONNECTED),p.shouldDispatchEvent=u,p}return v(i,[{key:"_onStart",value:function(){this.shouldDispatchEvent&&this._context.dispatchEvent("disconnected"),this._stateMutator.toReconnecting()}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(kd),mQ=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this,d)),"type",ir.RECONNECTING),u}return v(i,[{key:"_onStart",value:function(){var d=this;this._context.reconnectCount+=1,setTimeout(function(){d._stateMutator.toOffering()},5e3+1e3*Math.random())}},{key:"_onDestroy",value:function(){}},{key:"onRelease",value:function(){this._stateMutator.toReleasing()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(kd),vQ=function(s){w(i,s);var l=O(i);function i(){var d;f(this,i);for(var u=arguments.length,p=new Array(u),_=0;_<u;_++)p[_]=arguments[_];return y(N(d=l.call.apply(l,[this].concat(p))),"type",ir.RELEASING),d}return v(i,[{key:"_onStart",value:function(){this._context.dispatchEvent("releasing"),this._context.closePeerConnection(),this._context.endpoint.id&&this._context.requestRelease()}},{key:"_onDestroy",value:function(){}},{key:"onEndpointRequestSucceeded",value:function(){this._context.requestRelease()}},{key:"onEndpointRequestFailed",value:function(){this._stateMutator.toClosed()}},{key:"onReleased",value:function(){this._stateMutator.toClosed()}},{key:"onExit",value:function(){this._stateMutator.toClosed()}}]),i}(kd),gQ=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i,[{key:"state",get:function(){return this._state}},{key:"name",get:function(){return"Endpoint"}},{key:"toIdle",value:function(){this._changeState(new pQ(this))}},{key:"toOffering",value:function(){this._changeState(new fQ(this))}},{key:"toEstablished",value:function(d,u){this._changeState(new hQ(this,d,u))}},{key:"toConnected",value:function(){this._changeState(new uQ(this))}},{key:"toDisconnected",value:function(d){this._changeState(new _Q(this,d))}},{key:"toReconnecting",value:function(){this._changeState(new mQ(this))}},{key:"toReleasing",value:function(){this._changeState(new vQ(this))}},{key:"toClosed",value:function(){this._changeState(new cQ(this))}}]),i}(EC),bQ=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),(u=l.call(this,d,new gQ(d)))._stateMutator.toIdle(),u}return v(i,[{key:"state",get:function(){return this._stateMutator.state}},{key:"onEndpointRequestSucceeded",value:function(d){it.verbose("[".concat(this.state.type,"] onEndpointRequestSucceeded"));var u=this.state;switch(u.type){case ir.OFFERING:u.onEndpointRequestSucceeded(d);break;case ir.RELEASING:u.onEndpointRequestSucceeded();break;default:it.error("[".concat(this.state.type,"] onEndpointRequestSucceeded"))}}},{key:"onEndpointRequestFailed",value:function(){it.verbose("[".concat(this.state.type,"] onEndpointCreateFailed"));var d=this.state;switch(d.type){case ir.OFFERING:case ir.RELEASING:d.onEndpointRequestFailed();break;default:it.error("[".concat(this.state.type,"] onEndpointCreateFailed"))}}},{key:"onICEFailed",value:function(){it.verbose("[".concat(this.state.type,"] onICEFailed"));var d=this.state;switch(d.type){case ir.OFFERING:case ir.ESTABLISHED:case ir.CONNECTED:d.onICEFailed();break;default:it.error("[".concat(this.state.type,"] onICEFailed"))}}},{key:"onPCConnected",value:function(){it.verbose("[".concat(this.state.type,"] onPCConnected"));var d=this.state;d.type===ir.ESTABLISHED?d.onPCConnected():it.error("[".concat(this.state.type,"] onPCConnected"))}},{key:"onAttach",value:function(){it.verbose("[".concat(this.state.type,"] onAttach"));var d=this.state;switch(d.type){case ir.OFFERING:case ir.ESTABLISHED:case ir.CONNECTED:d.onAttach();break;default:it.error("[".concat(this.state.type,"] onAttach"))}}},{key:"onRelease",value:function(){it.verbose("[".concat(this.state.type,"] onRelease"));var d=this.state;switch(d.type){case ir.IDLE:case ir.OFFERING:case ir.ESTABLISHED:case ir.CONNECTED:case ir.DISCONNECTED:case ir.RECONNECTING:d.onRelease();break;default:it.error("[".concat(this.state.type,"] onRelease"))}}},{key:"onReleased",value:function(){it.verbose("[".concat(this.state.type,"] onReleased"));var d=this.state;d.type===ir.RELEASING?d.onReleased():it.error("[".concat(this.state.type,"] onReleased"))}},{key:"onExit",value:function(){it.verbose("[".concat(this.state.type,"] onExit"));var d=this.state;switch(d.type){case ir.RELEASING:case ir.IDLE:case ir.CONNECTED:case ir.ESTABLISHED:case ir.OFFERING:case ir.DISCONNECTED:case ir.RECONNECTING:d.onExit();break;default:it.error("[".concat(this.state.type,"] onExit"))}}}]),i}(xC),y2=function(s){w(i,s);var l=O(i);function i(){return f(this,i),l.apply(this,arguments)}return v(i)}(function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),(u=l.call(this)).payload=d.payload||{},u}return v(i)}(fm)),E2=function(s){return s.OFFER="offer",s.ANSWER="answer",s.CANDIDATE="candidate",s}({}),yQ=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this,{payload:d})),"type",E2.ANSWER),u}return v(i)}(y2),wQ=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this,{payload:d})),"type",E2.CANDIDATE),u}return v(i)}(y2),xQ=function(s){w(i,s);var l=O(i);function i(d){var u;return f(this,i),y(N(u=l.call(this,{payload:d})),"type",E2.OFFER),u}return v(i)}(y2),kQ=function(){function s(){f(this,s)}return v(s,null,[{key:"createOffer",value:function(l,i){return new xQ({peerConnectionId:l,sdp:i})}},{key:"createAnswer",value:function(l,i){return new yQ({peerConnectionId:l,sdp:i})}},{key:"createCandidate",value:function(l,i){return new wQ({peerConnectionId:l,candidate:i})}}]),s}(),TC=function(s){w(i,s);var l=O(i);function i(d,u,p,_){var g;return f(this,i),y(N(g=l.call(this)),"tmpId",De()),y(N(g),"_createSession",function(){switch(it.debug("_createSession()"),g.type){case"master":g._createMasterSession();break;case"viewer":g._createViewerSession();break;default:it.error("Not supported endpoint type : ",g.type)}}),y(N(g),"_closePeerConnection",function(){var b,E;it.debug("_closePeerConnection()"),(b=g._pc)===null||b===void 0||b.removeAllEventListeners(),(E=g._pc)===null||E===void 0||E.close(),g._pc=null}),y(N(g),"_requestCreateOrPutEndpoint",function(){it.debug("_requestCreateOrPutEndpoint()");var b,E=g._pc;b=g.id?E.signalingClient.registerPutEndpointRequest():E.signalingClient.registerCreateEndpointRequest(),E.createOffer(),b.promise.then(function(I){g.id=I.payload.endpoint.id,g._stateMachine.onEndpointRequestSucceeded(I.payload.sdp)}).catch(function(I){it.error("Endpoint request failed",I),g._stateMachine.onEndpointRequestFailed()})}),y(N(g),"_requestAttach",function(){b2(new kC(5e3,1e3,8),function(){return g._sendAttach(g.attachedTo)},{onError:function(b){it.error("Fail attach endpoint endpointId = ".concat(g.id,", to = ").concat(g.attachedTo," ErrorCode = ").concat(b.code))}}).then(function(){g._dispatchEvent("attached",g.attachedTo)})}),y(N(g),"_requestRelease",function(){it.debug("_requestRelease()"),g._sendReleaseEndpoint().then(function(){g._stateMachine.onReleased()}).catch(function(b){it.error("Release request failed",b),g._stateMachine.onReleased()})}),y(N(g),"_setRemoteDescription",function(b){it.debug("_setRemoteDescription()");var E=g._pc,I=kQ.createAnswer(void 0,b);E.onEvent(I),E.once("connected",function(){g._stateMachine.onPCConnected(),g._sendConnected()}),E.once("iceFailed",function(){g._stateMachine.onICEFailed()})}),g._ctx=d,g._localStream=u,g._participantId=_,g.type=p,g._stateMachine=new bQ({endpoint:N(g),dispatchEvent:g._dispatchEvent.bind(N(g)),createSession:g._createSession,requestCreateOrPutEndpoint:g._requestCreateOrPutEndpoint,setRemoteDescription:g._setRemoteDescription,closePeerConnection:g._closePeerConnection,requestAttach:g._requestAttach,requestRelease:g._requestRelease,trialCount:0,reconnectCount:0}),g}return v(i,[{key:"remoteStream",get:function(){var d;return(d=this._pc)===null||d===void 0?void 0:d.remoteStream}},{key:"_state",get:function(){return this._stateMachine.state}},{key:"_masterSessionDirection",get:function(){return this._ctx.masterSessionDirection}},{key:"_viewerSessionDirection",get:function(){return this._ctx.viewerSessionDirection}},{key:"attach",value:function(d){it.debug("attach()"),this.attachedTo=d,this._stateMachine.onAttach()}},{key:"release",value:function(){it.debug("release()"),this._stateMachine.onRelease()}},{key:"exit",value:function(){it.debug("exit()"),this._closePeerConnection(),this._stateMachine.onExit()}},{key:"_createMasterSession",value:function(){it.debug("_createMasterSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._masterSessionDirection,this._localStream)}},{key:"_createViewerSession",value:function(){it.debug("_createViewerSession()"),this._pc&&this._closePeerConnection(),this._createPeerConnection(this._viewerSessionDirection,void 0)}},{key:"_createPeerConnection",value:function(d,u){var p=this;it.debug("_createPeerConnection()");var _=new dQ(this._ctx,this._participantId,d,this.id);this._pc=new oQ(this._ctx,void 0,_,u,!0,void 0,d,!0),this._pc.on("remoteStream",function(g){p._dispatchEvent("remoteStream",g)}),this._dispatchEvent("pcChanged",this._pc)}},{key:"_sendConnected",value:function(){return this._ctx.sendConnected(this)}},{key:"_sendReleaseEndpoint",value:function(){return this._ctx.sendReleaseEndpoint(this)}},{key:"_sendAttach",value:function(d){return this._ctx.sendAttach(this,d)}}]),i}(Sl),SQ=Qn,TQ=Ho,CQ=Mc,IQ=am,NQ=ep;Pr({target:"Promise",stat:!0,forced:ky},{allSettled:function(s){var l=this,i=CQ.f(l),d=i.resolve,u=i.reject,p=IQ(function(){var _=TQ(l.resolve),g=[],b=0,E=1;NQ(s,function(I){var U=b++,Y=!1;E++,SQ(_,l,I).then(function(K){Y||(Y=!0,g[U]={status:"fulfilled",value:K},--E||d(g))},function(K){Y||(Y=!0,g[U]={status:"rejected",reason:K},--E||d(g))})}),--E||d(g)});return p.error&&u(p.value),i.promise}});var mh=function(s){return s.TOP_LEFT="top_left",s.TOP_RIGHT="top_right",s.BOTTOM_LEFT="bottom_left",s.BOTTOM_RIGHT="bottom_right",s.HIDDEN="hidden",s}({}),AQ=function(s){w(d,s);var l,i=O(d);function d(){return f(this,d),i.call(this)}return v(d,[{key:"stream",get:function(){return this._stream}},{key:"isSharing",get:function(){return!!this._stream}},{key:"startStream",value:(l=h(o().mark(function u(){var p,_=this;return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 3:p=g.sent,this._stream=p,this._stream.getVideoTracks()[0].onended=function(){_._releaseStream(),_._dispatchEvent("streamStopped")},g.next=19;break;case 8:g.prev=8,g.t0=g.catch(0),g.t1=g.t0.name,g.next=g.t1==="InvalidStateError"?13:g.t1==="NotAllowedError"?14:g.t1==="NotFoundError"?15:g.t1==="NotReadableError"?16:17;break;case 13:case 14:case 15:case 16:return g.abrupt("break",18);case 17:throw new Error("");case 18:throw new Error("failed to start screen share");case 19:case"end":return g.stop()}},u,this,[[0,8]])})),function(){return l.apply(this,arguments)})},{key:"stopStream",value:function(){this._releaseStream(),this._dispatchEvent("streamStopped")}},{key:"_releaseStream",value:function(){if(this._stream){var u,p=M(this._stream.getTracks());try{for(p.s();!(u=p.n()).done;)u.value.stop()}catch(_){p.e(_)}finally{p.f()}delete this._stream}}}]),d}(Sl),vh=null;function OQ(s,l){var i=[];vh||(vh=new(window.AudioContext||window.webkitAudioContext));var d=vh.createGain();if(d.gain.value=1,s){var u=new MediaStream;u.addTrack(s),i.push(vh.createMediaStreamSource(u).connect(d))}if(l){var p=new MediaStream;p.addTrack(l),i.push(vh.createMediaStreamSource(p).connect(d))}for(var _=vh.createMediaStreamDestination(),g=0,b=i;g<b.length;g++)b[g].connect(_);return _.stream.getAudioTracks()[0]}var RQ=function(s){w(g,s);var l,i,d,u,p,_=O(g);function g(b){var E,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{audio:!0,video:!0},U=arguments.length>2?arguments[2]:void 0;return f(this,g),y(N(E=_.call(this)),"isCustomStreaming",!1),y(N(E),"_checkScreenSharePrerequisites",function(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("screen share is not supported in this browser")}),E._deviceManager=b,E._mediaConstraints=I,E._screenShareOptions=U,E._screenShare=new AQ,E._screenShare.on("streamStopped",function(){E._releaseMergedStream(),E._dispatchEvent("screenShareStreamStopped")}),E}return v(g,[{key:"mediaConstraints",set:function(b){this._mediaConstraints=b}},{key:"screenShareOptions",set:function(b){var E=this;this._screenShareOptions=b,this._screenShare.isSharing&&b!=null&&b.frameRate&&(this._releaseMergedStream(!1),this._mergeOverlayingScreenShareStream().then(function(){E._dispatchEvent("streamChanged",E.localStream)}))}},{key:"hasPermission",get:function(){var b;return(b=this._mediaAccess)===null||b===void 0?void 0:b.hasPermission}},{key:"localStream",get:function(){return this.isCustomStreaming?this._customStream:this.isScreenSharing?this._mergedStream:this.getLocalMediaStream()}},{key:"mergedStream",get:function(){return this._mergedStream}},{key:"screenStream",get:function(){return this._screenShare.stream}},{key:"customStream",get:function(){return this._customStream}},{key:"isScreenSharing",get:function(){return this._screenShare.isSharing}},{key:"useScreenStream",value:(p=h(o().mark(function b(){return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return this._checkScreenSharePrerequisites(),E.next=3,this._screenShare.startStream();case 3:this._mergeScreenShareStream(),this._dispatchEvent("streamChanged",this.localStream);case 5:case"end":return E.stop()}},b,this)})),function(){return p.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._screenShare.isSharing&&this._screenShare.stopStream()}},{key:"startOverlayingScreenStream",value:(u=h(o().mark(function b(E){return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return E&&(this._screenShareOptions=E),this._checkScreenSharePrerequisites(),I.next=4,this._screenShare.startStream();case 4:return I.next=6,this._mergeOverlayingScreenShareStream();case 6:this._dispatchEvent("streamChanged",this.localStream);case 7:case"end":return I.stop()}},b,this)})),function(b){return u.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(d=h(o().mark(function b(E){return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,this._streamProcessor=E,I.next=4,this._applyStreamProcessor();case 4:this.isCustomStreaming=!0,this._dispatchEvent("streamChanged",this.localStream),I.next=11;break;case 8:I.prev=8,I.t0=I.catch(0),it.error("failed to use custom stream",I.t0);case 11:case"end":return I.stop()}},b,this,[[0,8]])})),function(b){return d.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this.isCustomStreaming&&(this._releaseCustomStream(!1),this.isCustomStreaming=!1,this._dispatchEvent("streamChanged",this.localStream))}},{key:"getLocalMediaStream",value:function(){return this._mediaAccess||this._grantMediaAccess(this._mediaConstraints),this._mediaAccess.stream}},{key:"revokeMediaAccess",value:function(){this._mediaAccess&&(this._mediaAccess.dispose(),this._mediaAccess=null)}},{key:"release",value:function(){this.stopScreenShare(),this.revokeMediaAccess()}},{key:"_grantMediaAccess",value:function(b){var E=this;this._mediaAccess=this._deviceManager.useMedia(b);var I=[];this._mediaAccess.on("streamChanged",function(){E._screenShare.isSharing&&I.push(E._mergeOverlayingScreenShareStream()),E.isCustomStreaming&&I.push(E._applyStreamProcessor()),I.length>0?Promise.allSettled(I).then(function(){return E._dispatchEvent("streamChanged",E.localStream)}):E._dispatchEvent("streamChanged",E.localStream)}),this._mediaAccess.on("audioOutputChanged",function(){return E._dispatchEvent("audioOutputChanged")})}},{key:"_mergeScreenShareStream",value:function(){if(this._screenShare.isSharing){var b=new MediaStream;this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&b.addTrack(this._mediaAccess.stream.getAudioTracks()[0]),b.addTrack(this.screenStream.getVideoTracks()[0]),this._mergedStream=b}}},{key:"_mergeOverlayingScreenShareStream",value:(i=h(o().mark(function b(){var E,I,U,Y,K,ce,ae,pe,Ne,Ee,ze,dn,Ce,be=this;return o().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(this._screenShare.isSharing){rn.next=2;break}return rn.abrupt("return");case 2:return I=!1,U=document.createElement("canvas"),(Y=document.createElement("video")).srcObject=this.screenStream,Y.muted=!0,rn.next=9,Y.play();case 9:return(K=document.createElement("video")).srcObject=this.getLocalMediaStream(),K.muted=!0,rn.next=14,K.play();case 14:ce=Y.videoWidth,ae=Y.videoHeight,U.width=ce,U.height=ae,pe=U.getContext("2d"),Ne=setInterval(function(){var Je;if(!I){I=!0;var Ye=Y.videoWidth,kn=Y.videoHeight,ar=K.videoWidth,Cn=K.videoHeight;(ae<kn||ce<Ye)&&(ce=Ye,ae=kn,U.width=Ye,U.height=kn,pe.fillRect(0,0,ce,ae)),Y.width=Ye,Y.height=kn,pe.drawImage(Y,0,0,Ye,kn);var Tn=be.enumToPosition((Je=be._screenShareOptions)===null||Je===void 0?void 0:Je.cameraOverlayPosition,ar,Cn,U.width,U.height),Vn=Tn.dx,_t=Tn.dy,dt=Tn.dw,sr=Tn.dh;pe.drawImage(K,Vn,_t,dt,sr),I=!1}},(E=this._screenShareOptions)!==null&&E!==void 0&&E.frameRate?1e3/this._screenShareOptions.frameRate:1e3/24),Ee=U.captureStream(),this.mergeInterval=Ne,this._mediaAccess.stream&&this._mediaAccess.stream.getAudioTracks().length>0&&(ze=this._mediaAccess.stream.getAudioTracks()[0]),this.screenStream&&this.screenStream.getAudioTracks().length>0&&(dn=this.screenStream.getAudioTracks()[0]),Ce=OQ(ze,dn),Ee.addTrack(Ce),this._mergedStream=Ee;case 27:case"end":return rn.stop()}},b,this)})),function(){return i.apply(this,arguments)})},{key:"_applyStreamProcessor",value:(l=h(o().mark(function b(){var E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if((E=this._mediaAccess)===null||E===void 0||!E.stream){I.next=4;break}return I.next=3,this._streamProcessor(this._mediaAccess.stream);case 3:this._customStream=I.sent;case 4:case"end":return I.stop()}},b,this)})),function(){return l.apply(this,arguments)})},{key:"_releaseMergedStream",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._mergedStream&&(this._mergedStream.removeTrack(this._mergedStream.getAudioTracks()[0]),delete this._mergedStream,this.mergeInterval&&(clearInterval(this.mergeInterval),delete this.mergeInterval),b&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"_releaseCustomStream",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._customStream&&(delete this._customStream,delete this._streamProcessor,b&&this._dispatchEvent("streamChanged",this.localStream))}},{key:"enumToPosition",value:function(b,E,I,U,Y){var K=E/I,ce=.2*Y,ae=.2*U*(1/K),pe=Math.min(ce,ae),Ne=pe*K,Ee=Math.min(.05*U,.05*Y),ze=U-Ne-Ee,dn=Y-pe-Ee;switch(b){case mh.HIDDEN:return{dx:0,dy:0,dw:0,dh:0};case mh.TOP_LEFT:return{dx:Ee,dy:Ee,dw:Ne,dh:pe};case mh.TOP_RIGHT:return{dx:ze,dy:Ee,dw:Ne,dh:pe};case mh.BOTTOM_LEFT:return{dx:Ee,dy:dn,dw:Ne,dh:pe};case mh.BOTTOM_RIGHT:default:return{dx:ze,dy:dn,dw:Ne,dh:pe}}}}]),g}(Sl),w2=function(){function s(_,g,b,E,I){f(this,s),this._liveEvent=_,this._sender=b,this._deviceManager=g,this._mediaOption=E,this._screenShareOptions=I}var l,i,d,u,p;return v(s,[{key:"mediaView",get:function(){return this._mediaView},set:function(_){this._mediaView!==_&&(this._mediaView&&(this._mediaView=null),_?this.isHostStream?this._mediaView=this._updateMediaViewStream(_,this.localStream):this._mediaView=this._updateMediaViewStream(_,this.remoteStream):delete this._mediaView)}},{key:"localStream",get:function(){var _;return(_=this._localStream)===null||_===void 0?void 0:_.localStream}},{key:"remoteStream",get:function(){var _;return(_=this._endpoint)===null||_===void 0?void 0:_.remoteStream}},{key:"isHostStream",get:function(){return this._mediaOption}},{key:"_createLocalStream",value:function(){var _=this;this._localStream=new RQ(this._deviceManager,{audio:!0,video:!0},this._screenShareOptions),this._localStream.on("streamChanged",function(){_._onLocalStream()}),this._mediaOption.streamProcessor&&this._localStream.startUsingExternalVideo(this._mediaOption.streamProcessor)}},{key:"_createEndpoint",value:function(){var _=this;if(this.isHostStream)return this._localStream||this._createLocalStream(),new TC({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},this._localStream,"master",this._liveEvent.host.hostId);var g=new TC({masterSessionDirection:{audio:"sendonly",video:"sendonly"},viewerSessionDirection:{audio:"recvonly",video:"recvonly"},sender:this._sender,sendConnected:this._sendConnected.bind(this),sendReleaseEndpoint:this._sendReleaseEndpoint.bind(this),sendAttach:this._sendAttach.bind(this),sendCreateEndpoint:this._sendCreateEndpoint.bind(this),sendPutEndpoint:this._sendPutEndpoint.bind(this)},void 0,"viewer",this._liveEvent.currentLiveUser.participantId);return g.on("remoteStream",function(b){_._onStream()}),g.on("connected",function(b){b&&_._onEndpointReconnected()}),g}},{key:"openStream",value:function(){this._endpoint&&this._teardown(),this._endpoint=this._createEndpoint()}},{key:"closeStream",value:function(_){_&&(this._endpoint.release(),this._endpoint.removeAllEventListeners()),this._teardown()}},{key:"attach",value:function(_){this._endpoint.attach(_)}},{key:"toggleAudio",value:function(_){var g,b,E;(g=this.localStream.getAudioTracks())===null||g===void 0||g.forEach(function(I){I.enabled=_}),(b=this._localStream.getLocalMediaStream())===null||b===void 0||(E=b.getAudioTracks())===null||E===void 0||E.forEach(function(I){I.enabled=_}),this._mediaOption.turnAudioOn=_}},{key:"toggleVideo",value:function(_){var g,b,E;(g=this.localStream.getVideoTracks())===null||g===void 0||g.forEach(function(I){I.enabled=_}),(b=this._localStream.getLocalMediaStream())===null||b===void 0||(E=b.getVideoTracks())===null||E===void 0||E.forEach(function(I){I.enabled=_}),this._mediaOption.turnVideoOn=_}},{key:"startUsingExternalVideo",value:(p=h(o().mark(function _(g){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._localStream.startUsingExternalVideo(g);case 2:case"end":return b.stop()}},_,this)})),function(_){return p.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){this._localStream.stopUsingExternalVideo()}},{key:"startScreenShare",value:(u=h(o().mark(function _(g){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return this._screenShareOptions=g,b.next=3,this._localStream.startOverlayingScreenStream(g);case 3:case"end":return b.stop()}},_,this)})),function(_){return u.apply(this,arguments)})},{key:"stopScreenShare",value:function(){this._localStream.stopScreenShare()}},{key:"setScreenShareOptions",value:function(_){this._screenShareOptions=_,this._localStream&&(this._localStream.screenShareOptions=_)}},{key:"chooseMediaDevice",value:function(_,g){this._deviceManager.selectDevice(_,g)}},{key:"_onLocalStream",value:function(){this.toggleAudio(this._mediaOption.turnAudioOn),this.toggleVideo(this._mediaOption.turnVideoOn),this._mediaView&&this._updateMediaViewStream(this._mediaView,this.localStream)}},{key:"_onStream",value:function(){var _=this.remoteStream;this._mediaView&&this._updateMediaViewStream(this._mediaView,_)}},{key:"_onEndpointReconnected",value:function(){var _=this._endpoint;_.type==="viewer"&&_.attachedTo&&this.attach(_.attachedTo)}},{key:"_updateMediaViewStream",value:function(_,g){return g&&(_.srcObject=g),_}},{key:"_sendConnected",value:(d=h(o().mark(function _(g){var b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return b=this.isHostStream?Er.createHostConnected(this._liveEvent.liveEventId,this._liveEvent.host.hostId,g.id):Er.createConnected(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,g.id),E.abrupt("return",this._sender.send(b));case 2:case"end":return E.stop()}},_,this)})),function(_){return d.apply(this,arguments)})},{key:"_sendReleaseEndpoint",value:function(_){var g;return g=this.isHostStream?Er.createHostDeleteStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,_.id):Er.createDeleteStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,_.id),this._sender.sendWithRetry(g)}},{key:"_sendAttach",value:function(_,g){var b=Er.createAttach(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,_.id,g);return this._sender.sendWithRetry(b)}},{key:"_sendCreateEndpoint",value:(i=h(o().mark(function _(g){var b,E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!this.isHostStream){I.next=5;break}return b=Er.createHostCreateStream(this._liveEvent.liveEventId,this._liveEvent.host.hostId,g.sdp,"sendonly","sendonly"),I.abrupt("return",this._sender.send(b));case 5:return E=Er.createStream(this._liveEvent.liveEventId,this._liveEvent.currentLiveUser.participantId,g.sdp,"recvonly","recvonly"),I.abrupt("return",this._sender.send(E));case 7:case"end":return I.stop()}},_,this)})),function(_){return i.apply(this,arguments)})},{key:"_sendPutEndpoint",value:(l=h(o().mark(function _(g){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,this._sendReleaseEndpoint(this._endpoint);case 3:b.next=8;break;case 5:b.prev=5,b.t0=b.catch(0),it.error("failed to remove endpoint");case 8:return b.abrupt("return",this._sendCreateEndpoint(g));case 9:case"end":return b.stop()}},_,this,[[0,5]])})),function(_){return l.apply(this,arguments)})},{key:"_teardown",value:function(){var _,g;(_=this._endpoint)===null||_===void 0||_.exit(),(g=this._endpoint)===null||g===void 0||g.removeAllEventListeners(),this._endpoint=null}}]),s}(),ba=function(s){return s[s.ERR_REQUEST_FAILED=1800200]="ERR_REQUEST_FAILED",s[s.ERR_WEBSOCKET_CONNECTION_NOT_OPENED=1800201]="ERR_WEBSOCKET_CONNECTION_NOT_OPENED",s[s.ERR_WEBSOCKET_CONNECTION_FAILED=1800202]="ERR_WEBSOCKET_CONNECTION_FAILED",s[s.ERR_NO_RESPONSE_DUE_TO_TIMEOUT=1800203]="ERR_NO_RESPONSE_DUE_TO_TIMEOUT",s[s.ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST=1800204]="ERR_REQUEST_FAILED_DUE_TO_WEBSOCKET_CONNECTION_LOST",s[s.ERR_WRONG_RESPONSE=1800205]="ERR_WRONG_RESPONSE",s[s.ERR_QUERY_IN_PROGRESS=1800206]="ERR_QUERY_IN_PROGRESS",s[s.INTERNAL_SERVER_ERROR=1800207]="INTERNAL_SERVER_ERROR",s[s.ERR_MALFORMED_DATA=1800208]="ERR_MALFORMED_DATA",s[s.LIVE_EVENT_ID_NOT_FOUND=2800100]="LIVE_EVENT_ID_NOT_FOUND",s[s.ACTION_NOT_ALLOWED_IN_CURRENT_STATE=2800101]="ACTION_NOT_ALLOWED_IN_CURRENT_STATE",s[s.ACTION_NOT_ALLOWED_FOR_PARTICIPANT=2800102]="ACTION_NOT_ALLOWED_FOR_PARTICIPANT",s[s.USER_NOT_ENTERED_LIVE_EVENT=2800103]="USER_NOT_ENTERED_LIVE_EVENT",s[s.STREAM_NOT_STARTED=2800104]="STREAM_NOT_STARTED",s[s.CONNECTION_TO_MEDIA_STREAM_FAILED=2800105]="CONNECTION_TO_MEDIA_STREAM_FAILED",s[s.UNKNOWN_NETWORK_ERROR=2800400]="UNKNOWN_NETWORK_ERROR",s[s.QUERY_IN_PROGRESS=2800900]="QUERY_IN_PROGRESS",s[s.OPEN_CHANNEL_NOT_FETCHED=2800901]="OPEN_CHANNEL_NOT_FETCHED",s}({}),MQ=function(){function s(){f(this,s)}return v(s,null,[{key:"getErrorMessage",value:function(l){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.invalidParameter;var d=i.methodName,u=d===void 0?"":d;switch(l){case ba.LIVE_EVENT_ID_NOT_FOUND:return"The live event ID is not found.";case ba.ACTION_NOT_ALLOWED_IN_CURRENT_STATE:return"The user is trying to perform actions such as calling the ".concat(u,", ").concat(u,", ").concat(u," methods for a live event that is not in the 'ongoing' or 'ready' state.");case ba.ACTION_NOT_ALLOWED_FOR_PARTICIPANT:return"The participant is trying to perform actions that are only allowed for a host.";case ba.USER_NOT_ENTERED_LIVE_EVENT:return"The user is trying to perform actions on a live event without entering the event.";case ba.STREAM_NOT_STARTED:return"The user is trying to end a stream that doesn't exist.";case ba.CONNECTION_TO_MEDIA_STREAM_FAILED:return"The connection to media stream failed to establish.";case ba.UNKNOWN_NETWORK_ERROR:return"An unknown network error has occured.";case ba.QUERY_IN_PROGRESS:return"The last query is in progress.";case ba.OPEN_CHANNEL_NOT_FETCHED:return"The open channel for the live event is not fetched.";default:return""}}}]),s}(),DQ=["message","error"],Sd=function(s){w(i,s);var l=O(i);function i(d){var u,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=p.message,g=p.error,b=k(p,DQ);f(this,i);var E=_||MQ.getErrorMessage(d,b);return(u=l.call(this,E)).code=d,u._error=g,u}return v(i)}(S(Error)),x2=function(s){w(dn,s);var l,i,d,u,p,_,g,b,E,I,U,Y,K,ce,ae,pe,Ne,Ee,ze=O(dn);function dn(Ce){var be,rn=Ce.deviceManager,Je=Ce.sender,Ye=Ce.sb,kn=Ce.userId,ar=Ce.info;return f(this,dn),y(N(be=ze.call(this)),"_customItemsUpdatedAt",0),be._deviceManager=rn,be._sender=Je,be._sb=Ye,be._userId=kn,be._streams=new Map,be._customItems=null,ar&&Object.assign(N(be),ar),be._unsubscriber=be._sender.on("command",function(Cn){be._onEvent(Cn)}),be}return v(dn,[{key:"customItems",get:function(){return a({},this._customItems)},set:function(Ce){this._customItems=Ce}},{key:"myRole",get:function(){return this.userIdsForHost.includes(this._userId)?vm.HOST:vm.PARTICIPANT}},{key:"isHost",get:function(){return this.myRole===vm.HOST}},{key:"isActiveHost",get:function(){return this.isHost&&!(this==null||!this.currentLiveUser.isHost)}},{key:"duration",get:function(){return this._duration>0?this._duration:Date.now()-this.startedAt},set:function(Ce){this._duration=Ce}},{key:"fetchOpenChannel",value:(Ee=h(o().mark(function Ce(){var be,rn;return o().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=2,this._sb.openChannel.getChannelWithoutCache(this.liveEventId);case 2:return be=Je.sent,rn=this._sb.openChannel.buildOpenChannelFromSerializedData(be),this.openChannel=rn,Je.abrupt("return",rn);case 6:case"end":return Je.stop()}},Ce,this)})),function(){return Ee.apply(this,arguments)})},{key:"_getOpenChannel",value:(Ne=h(o().mark(function Ce(){return o().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!this.openChannel){be.next=2;break}return be.abrupt("return",this.openChannel);case 2:return be.abrupt("return",this.fetchOpenChannel());case 3:case"end":return be.stop()}},Ce,this)})),function(){return Ne.apply(this,arguments)})},{key:"enterAsHost",value:(pe=h(o().mark(function Ce(be){var rn,Je,Ye;return o().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:return kn.next=2,this._getOpenChannel();case 2:return rn=kn.sent,kn.next=5,rn.enter();case 5:return kn.prev=5,kn.next=8,this._sender.send(Er.createEnterHost(this.liveEventId,be));case 8:Je=kn.sent,Ye=Je.payload.host,be&&this._streams.set(Ye.hostId,new w2(this,this._deviceManager,this._sender,be,this._screenShareOptions)),this.upsert({host:Ye}),this.upsert({currentLiveUser:Ye}),kn.next=20;break;case 15:return kn.prev=15,kn.t0=kn.catch(5),kn.next=19,rn.exit();case 19:throw kn.t0;case 20:this._startToSendAlive();case 21:case"end":return kn.stop()}},Ce,this,[[5,15]])})),function(Ce){return pe.apply(this,arguments)})},{key:"setEventReady",value:(ae=h(o().mark(function Ce(){var be,rn;return o().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:if(this.isHost){Je.next=2;break}throw new Error("host only action");case 2:return Je.next=4,this._sender.send(Er.createReady(this.liveEventId));case 4:be=Je.sent,rn=be.payload.liveEvent,this.upsert(rn);case 7:case"end":return Je.stop()}},Ce,this)})),function(){return ae.apply(this,arguments)})},{key:"startEvent",value:(ce=h(o().mark(function Ce(be){var rn,Je;return o().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(this.isHost){Ye.next=2;break}throw new Error("host only action");case 2:return Ye.next=4,this._sender.send(Er.createStart(this.liveEventId));case 4:rn=Ye.sent,Je=rn.payload.liveEvent,this.upsert(Je),!this.isHostStreaming&&this.isActiveHost&&this.startStreaming(be),typeof(be==null?void 0:be.turnAudioOn)=="boolean"&&this._toggleAudio(be.turnAudioOn),typeof(be==null?void 0:be.turnVideoOn)=="boolean"&&this._toggleVideo(be.turnVideoOn);case 10:case"end":return Ye.stop()}},Ce,this)})),function(Ce){return ce.apply(this,arguments)})},{key:"startStreaming",value:function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{turnAudioOn:!0,turnVideoOn:!0};if(!this.isActiveHost)throw new Error("current host only action");var be=this._streams.get(this.host.hostId);be||(be=new w2(this,this._deviceManager,this._sender,Ce,this._screenShareOptions),this._streams.set(this.host.hostId,be)),be.openStream()}},{key:"endStreaming",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var Ce=this._streams.get(this.host.hostId);Ce&&(this._streams.delete(this.host.hostId),Ce.closeStream(!0))}},{key:"createRTMPStream",value:(K=h(o().mark(function Ce(){var be,rn;return o().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:if(this.isHost){Je.next=2;break}throw new Sd(ba.ACTION_NOT_ALLOWED_FOR_PARTICIPANT);case 2:return Je.next=4,this._sender.send(Er.createRTMPStream(this.liveEventId));case 4:return be=Je.sent,rn=be.payload.host,this.upsert({host:rn}),Je.abrupt("return",rn.rtmpStream);case 8:case"end":return Je.stop()}},Ce,this)})),function(){return K.apply(this,arguments)})},{key:"deleteRTMPStream",value:(Y=h(o().mark(function Ce(){var be;return o().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(this.isHost){rn.next=2;break}throw new Error("host only action");case 2:if((be=this.host)!==null&&be!==void 0&&be.rtmpStream){rn.next=4;break}throw new Error("no rtmp stream");case 4:return rn.next=6,this._sender.send(Er.deleteRTMPStream(this.liveEventId,this.host.rtmpStream.rtmpStreamId));case 6:rn.sent,this.upsert({host:null});case 8:case"end":return rn.stop()}},Ce,this)})),function(){return Y.apply(this,arguments)})},{key:"exitAsHost",value:(U=h(o().mark(function Ce(){var be,rn,Je;return o().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(this.isActiveHost){Ye.next=2;break}throw new Error("current host only action");case 2:return be=this.host.hostId,Ye.next=5,this._sender.send(Er.createExitHost(this.liveEventId,be));case 5:rn=Ye.sent,Je=rn.payload.host,this.upsert({host:Je}),this.teardown();case 9:case"end":return Ye.stop()}},Ce,this)})),function(){return U.apply(this,arguments)})},{key:"endEvent",value:(I=h(o().mark(function Ce(){var be,rn;return o().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=2,this._sender.send(Er.createEndLiveEvent(this.liveEventId));case 2:be=Je.sent,rn=be.payload.liveEvent,this.upsert(rn),this.teardown();case 6:case"end":return Je.stop()}},Ce,this)})),function(){return I.apply(this,arguments)})},{key:"muteAudioInput",value:function(){this._toggleAudio(!1)}},{key:"unmuteAudioInput",value:function(){this._toggleAudio(!0)}},{key:"_toggleAudio",value:function(Ce){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleAudio(Ce),this._sender.send(Er.createAudio(this.liveEventId,this.host.hostId,Ce))}},{key:"stopVideo",value:function(){this._toggleVideo(!1)}},{key:"startVideo",value:function(){this._toggleVideo(!0)}},{key:"_toggleVideo",value:function(Ce){if(!this.isActiveHost)throw new Error("current host only action");this._streams.get(this.host.hostId).toggleVideo(Ce),this._sender.send(Er.createVideo(this.liveEventId,this.host.hostId,Ce))}},{key:"selectAudioInput",value:function(Ce){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("audioinput",Ce)}},{key:"selectVideoInput",value:function(Ce){if(!this.isActiveHost)throw new Error("current host only action");return this._deviceManager.selectDevice("videoinput",Ce)}},{key:"enter",value:(E=h(o().mark(function Ce(){var be,rn,Je;return o().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.next=2,this._getOpenChannel();case 2:return be=Ye.sent,Ye.next=5,be.enter();case 5:return Ye.prev=5,Ye.next=8,this._sender.send(Er.createEnter(this.liveEventId));case 8:rn=Ye.sent,Je=rn.payload.participant,this.upsert({currentLiveUser:Je}),this._tryOpen(),Ye.next=19;break;case 14:return Ye.prev=14,Ye.t0=Ye.catch(5),Ye.next=18,be.exit();case 18:throw Ye.t0;case 19:this._startToSendAlive();case 20:case"end":return Ye.stop()}},Ce,this,[[5,14]])})),function(){return E.apply(this,arguments)})},{key:"exit",value:(b=h(o().mark(function Ce(){return o().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.next=2,this._sender.send(Er.createExit(this.liveEventId,this.currentLiveUser.participantId));case 2:be.sent.payload.participant,this.teardown();case 5:case"end":return be.stop()}},Ce,this)})),function(){return b.apply(this,arguments)})},{key:"setVideoViewForLiveEvent",value:function(Ce,be){var rn=this._streams.get(be);rn&&(rn.mediaView=Ce)}},{key:"updateLiveEventInfo",value:(g=h(o().mark(function Ce(be){var rn,Je,Ye;return o().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:return rn=Er.updateLiveEvent(this.liveEventId,be.userIdsForHost,be.title,be.coverUrl,be.coverFile),kn.next=3,this._sender.send(rn);case 3:Je=kn.sent,Ye=Je.payload.liveEvent,this.upsert(Ye);case 6:case"end":return kn.stop()}},Ce,this)})),function(Ce){return g.apply(this,arguments)})},{key:"fetchCustomItems",value:(_=h(o().mark(function Ce(){var be,rn,Je;return o().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return be=Er.createGetCustomItems(this.liveEventId),Ye.prev=1,Ye.next=4,this._sender.send(be);case 4:return rn=Ye.sent,Je=rn.payload,this._setCustomItems(Je.customItems),Ye.abrupt("return",Je);case 10:throw Ye.prev=10,Ye.t0=Ye.catch(1),it.error("failed to update customItems"),Ye.t0;case 14:case"end":return Ye.stop()}},Ce,this,[[1,10]])})),function(){return _.apply(this,arguments)})},{key:"updateCustomItems",value:(p=h(o().mark(function Ce(be){var rn,Je,Ye;return o().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:if(!Object.keys(be).some(function(ar){return typeof be[ar]!="string"})){kn.next=2;break}throw new Error("invalid parameter");case 2:return rn=Er.createUpdateCustomItems(this.liveEventId,be),kn.prev=3,kn.next=6,this._sender.send(rn);case 6:return Je=kn.sent,Ye=Je.payload,this._setCustomItems(Ye.customItems,Ye.updatedAt),kn.abrupt("return",Ye);case 12:throw kn.prev=12,kn.t0=kn.catch(3),it.error("failed to update customItems"),kn.t0;case 16:case"end":return kn.stop()}},Ce,this,[[3,12]])})),function(Ce){return p.apply(this,arguments)})},{key:"deleteCustomItems",value:(u=h(o().mark(function Ce(be){var rn,Je,Ye;return o().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:if(!be.some(function(ar){return typeof ar!="string"})){kn.next=2;break}throw new Error("invalid parameter");case 2:return rn=Er.createDeleteCustomItems(this.liveEventId,be),kn.prev=3,kn.next=6,this._sender.send(rn);case 6:return Je=kn.sent,Ye=Je.payload,this._setCustomItems(Ye.customItems,Ye.deletedAt),kn.abrupt("return",Ye);case 12:throw kn.prev=12,kn.t0=kn.catch(3),it.error("failed to delete customItems"),kn.t0;case 16:case"end":return kn.stop()}},Ce,this,[[3,12]])})),function(Ce){return u.apply(this,arguments)})},{key:"deleteAllCustomItems",value:(d=h(o().mark(function Ce(){var be,rn,Je;return o().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return be=Er.createDeleteAllCustomItems(this.liveEventId),Ye.prev=1,Ye.next=4,this._sender.send(be);case 4:return rn=Ye.sent,Je=rn.payload,this._setCustomItems(Je.customItems,Je.deletedAt),Ye.abrupt("return",Je);case 10:throw Ye.prev=10,Ye.t0=Ye.catch(1),it.error("failed to delete all customItems"),Ye.t0;case 14:case"end":return Ye.stop()}},Ce,this,[[1,10]])})),function(){return d.apply(this,arguments)})},{key:"startUsingExternalVideo",value:(i=h(o().mark(function Ce(be){var rn;return o().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:if(this.isActiveHost){Je.next=2;break}throw new Error("current host only action");case 2:if(rn=this._streams.get(this.host.hostId)){Je.next=5;break}throw new Error("no current stream");case 5:return Je.next=7,rn.startUsingExternalVideo(be);case 7:case"end":return Je.stop()}},Ce,this)})),function(Ce){return i.apply(this,arguments)})},{key:"stopUsingExternalVideo",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var Ce=this._streams.get(this.host.hostId);if(!Ce)throw new Error("no current stream");Ce.stopUsingExternalVideo()}},{key:"startScreenShare",value:(l=h(o().mark(function Ce(be){var rn;return o().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:if(this.isActiveHost){Je.next=2;break}throw new Error("current host only action");case 2:if(rn=this._streams.get(this.host.hostId)){Je.next=5;break}throw new Error("no current stream");case 5:return Je.next=7,rn.startScreenShare(be);case 7:case"end":return Je.stop()}},Ce,this)})),function(Ce){return l.apply(this,arguments)})},{key:"stopScreenShare",value:function(){if(!this.isActiveHost)throw new Error("current host only action");var Ce=this._streams.get(this.host.hostId);if(!Ce)throw new Error("no current stream");Ce.stopScreenShare()}},{key:"setScreenShareOptions",value:function(Ce){this._screenShareOptions=Ce;var be=this._streams.get(this.host.hostId);be&&be.setScreenShareOptions(Ce)}},{key:"upsert",value:function(Ce){Object.assign(this,Ce),Ce.currentLiveUser&&(Ce.currentLiveUser.hostId?(this.currentLiveUser.isHost=!0,this.currentLiveUser.liveUserId=this.currentLiveUser.hostId):(this.currentLiveUser.isHost=!1,this.currentLiveUser.liveUserId=this.currentLiveUser.participantId))}},{key:"teardown",value:function(){var Ce;(Ce=this.openChannel)===null||Ce===void 0||Ce.exit();var be,rn=M(this._streams.values());try{for(rn.s();!(be=rn.n()).done;)be.value.closeStream()}catch(Je){rn.e(Je)}finally{rn.f()}this._streams.clear(),this._stopToSendAlive(),this.upsert({currentLiveUser:void 0})}},{key:"_setCustomItems",value:function(Ce,be){return(be===void 0||be>this._customItemsUpdatedAt)&&(this._customItemsUpdatedAt=be,this._customItems=Ce||{},!0)}},{key:"_onEvent",value:function(Ce){if(this.liveEventId===Ce.payload.liveEventId)if(Ce instanceof U5)this._onReady(Ce);else if(Ce instanceof P5)this._onStarted(Ce);else if(Ce instanceof F5)this._onEnded(Ce);else if(Ce instanceof q5)this._onUpdated(Ce);else if(Ce instanceof H5)this._onHostEntered(Ce);else if(Ce instanceof B5)this._onHostExited(Ce);else if(Ce instanceof $5)this._onHostConnected(Ce);else if(Ce instanceof G5)this._onHostDisconnected(Ce);else if(Ce instanceof Ky)this._onHostAudioStatusChanged(Ce);else if(Ce instanceof Wy)this._onHostVideoStatusChanged(Ce);else if(Ce instanceof z5)this._onParticipantEntered(Ce);else if(Ce instanceof V5)this._onParticipantExited(Ce);else if(Ce instanceof j5)this._onUpdateCustomItems(Ce);else{if(!(Ce instanceof K5))throw new Error("unknown event is received");this._onDeleteCustomItems(Ce)}}},{key:"_onReady",value:function(Ce){var be=Ce.payload.liveEvent;this.upsert(be),this._dispatchEvent("liveEventReady",this)}},{key:"_onStarted",value:function(Ce){var be=Ce.payload.liveEvent;this.upsert(be),this._dispatchEvent("liveEventStarted",this),this._tryOpen()}},{key:"_onEnded",value:function(Ce){var be=Ce.payload.liveEvent;this.upsert(be),this._dispatchEvent("liveEventEnded",this),this.teardown()}},{key:"_onUpdated",value:function(Ce){var be=Ce.payload.liveEvent;this.upsert(be),this._dispatchEvent("liveEventUpdated",this)}},{key:"_onHostEntered",value:function(Ce){var be=Ce.payload.host;this.upsert({host:be}),this._dispatchEvent("hostEntered",this,this.host)}},{key:"_onHostExited",value:function(Ce){var be=Ce.payload.host;this.upsert({host:void 0}),this._dispatchEvent("hostExited",this,be)}},{key:"_onHostConnected",value:function(Ce){var be=Ce.payload.host;this.upsert({host:be}),this._dispatchEvent("hostConnected",this,this.host),this._tryOpen()}},{key:"_onHostDisconnected",value:function(Ce){var be=Ce.payload.host;this.upsert({host:be}),this._dispatchEvent("hostDisconnected",this,this.host)}},{key:"_onHostAudioStatusChanged",value:function(Ce){var be=Ce.payload.host;this.upsert({host:be}),be.isAudioOn&&this._dispatchEvent("hostUnmutedAudio",this,this.host),be.isAudioOn||this._dispatchEvent("hostMutedAudio",this,this.host)}},{key:"_onHostVideoStatusChanged",value:function(Ce){var be=Ce.payload.host;this.upsert({host:be}),be.isVideoOn&&this._dispatchEvent("hostStartedVideo",this,this.host),be.isVideoOn||this._dispatchEvent("hostStoppedVideo",this,this.host)}},{key:"_onParticipantEntered",value:function(Ce){var be=Ce.payload,rn=be.participant,Je=be.participantCount,Ye=be.peakParticipantCount,kn=be.cumulativeParticipantCount;this.upsert({participantCount:Je,peakParticipantCount:Ye,cumulativeParticipantCount:kn}),this._dispatchEvent("participantEntered",this,rn)}},{key:"_onParticipantExited",value:function(Ce){var be=Ce.payload,rn=be.participant,Je=be.participantCount,Ye=be.peakParticipantCount,kn=be.cumulativeParticipantCount;this.upsert({participantCount:Je,peakParticipantCount:Ye,cumulativeParticipantCount:kn}),this._dispatchEvent("participantExited",this,rn)}},{key:"_onUpdateCustomItems",value:function(Ce){var be=Ce.payload,rn=be.customItems,Je=be.updatedAt;be.updatedKeys,this._setCustomItems(rn,Je)&&this._dispatchEvent("customItemsUpdated",rn,Je)}},{key:"_onDeleteCustomItems",value:function(Ce){var be=Ce.payload,rn=be.customItems,Je=be.deletedAt;be.deletedKeys,this._setCustomItems(rn,Je)&&this._dispatchEvent("customItemsDeleted",rn,Je)}},{key:"onDisconnected",value:function(){this._dispatchEvent("disconnected",this,new Sd(ba.LIVE_EVENT_ID_NOT_FOUND)),this.teardown()}},{key:"_tryOpen",value:function(){if(this.host&&this.currentLiveUser&&this.host.state===L5.CONNECTED&&this.state===D5.ONGOING){var Ce,be=this.host.hostId;this._streams.has(be)?Ce=this._streams.get(be):(Ce=new w2(this,this._deviceManager,this._sender),this._streams.set(be,Ce)),Ce.openStream(),Ce.attach(be)}}},{key:"_tryClose",value:function(){}},{key:"_startToSendAlive",value:function(){var Ce=this;this.isActiveHost?this._aliveIntervalId=setInterval(function(){var be=Er.createHostAlive(Ce.liveEventId,Ce.host.hostId);Ce._sender.send(be)},3e3):this._aliveIntervalId=setInterval(function(){var be=Er.createAlive(Ce.liveEventId,Ce.currentLiveUser.participantId);Ce._sender.send(be)},9e4)}},{key:"_stopToSendAlive",value:function(){this._aliveIntervalId&&(clearInterval(this._aliveIntervalId),delete this._aliveIntervalId)}}]),dn}(Sl),k2=function(s,l){return k2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(i[u]=d[u])},k2(s,l)};function fe(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function i(){this.constructor=s}k2(s,l),s.prototype=l===null?Object.create(l):(i.prototype=l.prototype,new i)}var $e=function(){return $e=Object.assign||function(s){for(var l,i=1,d=arguments.length;i<d;i++)for(var u in l=arguments[i])Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u]);return s},$e.apply(this,arguments)};function Z(s,l,i,d){return new(i||(i=Promise))(function(u,p){function _(E){try{b(d.next(E))}catch(I){p(I)}}function g(E){try{b(d.throw(E))}catch(I){p(I)}}function b(E){var I;E.done?u(E.value):(I=E.value,I instanceof i?I:new i(function(U){U(I)})).then(_,g)}b((d=d.apply(s,l||[])).next())})}function X(s,l){var i,d,u,p,_={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(E){return function(I){if(i)throw new TypeError("Generator is already executing.");for(;_;)try{if(i=1,d&&(u=2&I[0]?d.return:I[0]?d.throw||((u=d.return)&&u.call(d),0):d.next)&&!(u=u.call(d,I[1])).done)return u;switch(d=0,u&&(I=[2&I[0],u.value]),I[0]){case 0:case 1:u=I;break;case 4:return _.label++,{value:I[1],done:!1};case 5:_.label++,d=I[1],I=[0];continue;case 7:I=_.ops.pop(),_.trys.pop();continue;default:if(!((u=(u=_.trys).length>0&&u[u.length-1])||I[0]!==6&&I[0]!==2)){_=0;continue}if(I[0]===3&&(!u||I[1]>u[0]&&I[1]<u[3])){_.label=I[1];break}if(I[0]===6&&_.label<u[1]){_.label=u[1],u=I;break}if(u&&_.label<u[2]){_.label=u[2],_.ops.push(I);break}u[2]&&_.ops.pop(),_.trys.pop();continue}I=l.call(s,_)}catch(U){I=[6,U],d=0}finally{i=u=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([b,E])}}}function wt(s){var l=typeof Symbol=="function"&&Symbol.iterator,i=l&&s[l],d=0;if(i)return i.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&d>=s.length&&(s=void 0),{value:s&&s[d++],done:!s}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(s,l){var i=typeof Symbol=="function"&&s[Symbol.iterator];if(!i)return s;var d,u,p=i.call(s),_=[];try{for(;(l===void 0||l-- >0)&&!(d=p.next()).done;)_.push(d.value)}catch(g){u={error:g}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(u)throw u.error}}return _}function Br(s,l,i){if(i||arguments.length===2)for(var d,u=0,p=l.length;u<p;u++)!d&&u in l||(d||(d=Array.prototype.slice.call(l,0,u)),d[u]=l[u]);return s.concat(d||Array.prototype.slice.call(l))}var Mt,Dc=function(){function s(){}return Object.defineProperty(s,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(s,"SDK_VERSION",{get:function(){return"4.5.0"},enumerable:!1,configurable:!0}),Object.defineProperty(s,"SDK_MAJOR_VERSION",{get:function(){return s.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(s,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),s}();(function(s){s[s.NON_AUTHORIZED=400108]="NON_AUTHORIZED",s[s.INVALID_TOKEN=400111]="INVALID_TOKEN",s[s.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",s[s.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",s[s.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",s[s.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",s[s.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",s[s.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",s[s.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",s[s.LOST_INSTANCE=700100]="LOST_INSTANCE",s[s.CONNECTION_RENEW=700102]="CONNECTION_RENEW",s[s.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",s[s.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",s[s.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",s[s.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",s[s.INVALID_PARAMETER=800110]="INVALID_PARAMETER",s[s.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",s[s.NETWORK_ERROR=800120]="NETWORK_ERROR",s[s.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",s[s.MALFORMED_DATA=800130]="MALFORMED_DATA",s[s.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",s[s.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",s[s.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",s[s.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",s[s.ACK_TIMEOUT=800180]="ACK_TIMEOUT",s[s.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",s[s.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",s[s.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",s[s.REQUEST_FAILED=800220]="REQUEST_FAILED",s[s.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",s[s.REQUEST_CANCELED=800240]="REQUEST_CANCELED",s[s.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",s[s.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",s[s.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",s[s.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",s[s.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED"})(Mt||(Mt={}));var Nn,Lc=function(s){return!(s instanceof Qe&&!s.shouldThrowOutside)},Qe=function(s){function l(i){var d=i.code,u=d===void 0?0:d,p=i.message,_=s.call(this,p)||this;return _.shouldThrowOutside=!1,_.name="SendbirdError",_.code=u,Object.setPrototypeOf(_,l.prototype),_}return fe(l,s),Object.defineProperty(l.prototype,"isInvalidTokenError",{get:function(){return this.code===Mt.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===Mt.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===Mt.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(l,"debugModeRequired",{get:function(){return new l({code:Mt.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"lostInstance",{get:function(){return new l({code:Mt.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"connectionRenew",{get:function(){return new l({code:Mt.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"invalidConnectionStateTransition",{get:function(){return new l({code:Mt.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"connectionRequired",{get:function(){return new l({code:Mt.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"connectionCanceled",{get:function(){return new l({code:Mt.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"invalidParameters",{get:function(){return new l({code:Mt.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"notSupportedError",{get:function(){return new l({code:Mt.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"networkError",{get:function(){return new l({code:Mt.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"markAsReadAllRateLimitExceeded",{get:function(){return new l({code:Mt.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"queryInProgress",{get:function(){return new l({code:Mt.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"noAckTimeout",{get:function(){return new l({code:Mt.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"loginTimeout",{get:function(){return new l({code:Mt.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"connectionClosed",{get:function(){return new l({code:Mt.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"requestFailed",{get:function(){return new l({code:Mt.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"fileUploadCanceled",{get:function(){return new l({code:Mt.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"requestCanceled",{get:function(){return new l({code:Mt.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"sessionTokenRefreshFailed",{get:function(){return new l({code:Mt.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"sessionTokenRequestFailed",{get:function(){return new l({code:Mt.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),l.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},l}(Error),LQ=[Mt.CONNECTION_REQUIRED,Mt.NETWORK_ERROR,Mt.ACK_TIMEOUT,Mt.WEBSOCKET_CONNECTION_CLOSED,Mt.WEBSOCKET_CONNECTION_FAILED,Mt.FILE_UPLOAD_CANCEL_FAILED,Mt.REQUEST_CANCELED,Mt.INTERNAL_SERVER_ERROR,Mt.RATE_LIMIT_EXCEEDED,Mt.UNKNOWN_SERVER_ERROR],UQ=[Mt.WEBSOCKET_CONNECTION_CLOSED,Mt.WEBSOCKET_CONNECTION_FAILED,Mt.CONNECTION_REQUIRED],CC=function(s,l){if(s!==l){var i=$e({},s),d=$e({},l);return!(i.hasOwnProperty("messageId")&&d.hasOwnProperty("messageId")&&i.messageId!==d.messageId||i.hasOwnProperty("reqId")&&d.hasOwnProperty("reqId")&&i.reqId!==d.reqId||(i.hasOwnProperty("messageId")&&delete i.messageId,i.hasOwnProperty("reqId")&&delete i.reqId,d.hasOwnProperty("messageId")&&delete d.messageId,d.hasOwnProperty("reqId")&&delete d.reqId,JSON.stringify(i)!==JSON.stringify(d)))}return!0},Ve=function(s,l,i){return i===void 0&&(i=!1),!(!i||l!=null)||(typeof s!="string"?typeof s=="object"?Sr(s,l):PQ(s,l):typeof l===s)},Sr=function(s,l,i){return i===void 0&&(i=!1),!(!i||l!=null)||Object.values(s).includes(l)},PQ=function(s,l){return l instanceof s},Yt=function(s,l,i){return i===void 0&&(i=!1),!(!i||l!=null)||Array.isArray(l)&&l.every(function(d){return Ve(s,d)})},Sm=function(s){return s>0&&UQ.indexOf(s)>=0},_s=function(s,l){if(l===void 0&&(l=!1),l&&s===null)return!0;var i=Ve("object",s)&&s!==null&&s.hasOwnProperty("name")&&typeof s.name=="string"&&s.hasOwnProperty("uri")&&typeof s.uri=="string"&&s.hasOwnProperty("type")&&typeof s.type=="string";if(!i){if(typeof Blob<"u")return s instanceof Blob;if(typeof File<"u")return s instanceof File}return i},IC=function(){function s(l){var i=l===void 0?{}:l,d=i.useMemberInfoInMessage,u=d===void 0||d,p=i.typingIndicatorInvalidateTime,_=p===void 0?1e4:p,g=i.typingIndicatorThrottle,b=g===void 0?1e3:g,E=i.websocketResponseTimeout,I=E===void 0?1e4:E,U=i.websocketPayloadDecompression,Y=U===void 0||U,K=i.sessionTokenRefreshTimeout,ce=K===void 0?60:K;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=u,this._typingIndicatorInvalidateTime=_,this._typingIndicatorThrottle=b,this._websocketResponseTimeout=I,this._sessionTokenRefreshTimeout=ce,this.websocketPayloadDecompression=Y}return Object.defineProperty(s.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(l){Ve("boolean",l)&&(this._useMemberInfoInMessage=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(l){Ve("number",l)&&(this._typingIndicatorInvalidateTime=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(l){Ve("number",l)&&l>=1e3&&l<=9e3&&(this._typingIndicatorThrottle=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(l){Ve("number",l)&&l>=5e3&&l<=3e4&&(this._websocketResponseTimeout=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(l){Ve("number",l)&&(l<60?l=60:l>1800&&(l=1800),this._sessionTokenRefreshTimeout=l)},enumerable:!1,configurable:!0}),s}(),NC={encrypt:function(s){return s},decrypt:function(s){return s}},FQ=function(){function s(l){var i=l.store;this._preference=new Map,this._store=i}return s.prototype._savePreferenceKeys=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,this._store.set({key:this._keysAddress,value:Br([],kr(this._preference.keys()),!1),generation:1})];case 1:return l.sent(),[2]}})})},s.prototype.init=function(l){var i;return Z(this,void 0,void 0,function(){var d,u,p,_,g,b,E,I;return X(this,function(U){switch(U.label){case 0:return this._keysAddress=l,[4,this._store.get(l)];case 1:d=(i=U.sent())!==null&&i!==void 0?i:[],U.label=2;case 2:U.trys.push([2,7,8,9]),u=wt(d),p=u.next(),U.label=3;case 3:return p.done?[3,6]:(_=p.value,[4,this._store.get(_)]);case 4:(g=U.sent())&&this._preference.set(_,g),U.label=5;case 5:return p=u.next(),[3,3];case 6:return[3,9];case 7:return b=U.sent(),E={error:b},[3,9];case 8:try{p&&!p.done&&(I=u.return)&&I.call(u)}finally{if(E)throw E.error}return[7];case 9:return[2]}})})},s.prototype.get=function(l){var i;return Z(this,void 0,void 0,function(){return X(this,function(d){return[2,(i=this._preference.get(l))!==null&&i!==void 0?i:null]})})},s.prototype.set=function(l,i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=!this._preference.has(l),[4,this._store.set({key:l,value:i,generation:1})];case 1:return u.sent(),this._preference.set(l,i),d?[4,this._savePreferenceKeys()]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2]}})})},s.prototype.remove=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._store.remove(l)];case 1:return i.sent(),this._preference.delete(l),[4,this._savePreferenceKeys()];case 2:return i.sent(),[2]}})})},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,this._store.removeMany(Br([],kr(this._preference.keys()),!1))];case 1:return l.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return l.sent(),[2]}})})},s}(),HQ=function(s){var l=s.encryption,i=l===void 0?null:l,d=s.store,u=d===void 0?null:d,p=s.localCacheEnabled,_=p===void 0||p;this.nestdb=null,this.store=u,this.preference=new FQ({store:u}),this.encryption=i!=null?i:NC,this.localCacheEnabled=_},BQ=function(){function s(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(s.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),s.prototype.clear=function(){this.authToken=null,this.sessionKey=null},s}(),gh=function(){var s=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var i=(s+16*Math.random())%16|0;return s=Math.floor(s/16),(l==="x"?i:3&i|8).toString(16)})},AC=function(){function s(l){var i=l.container;this._container={},this._container=i,this.key=gh()}return s.prototype._register=function(l,i,d){return l in this._container||(this._container[l]=new Map),this._container[l].set(this.key,{occurence:i,handler:d}),this},s.prototype.on=function(l,i){return this._register(l,-1,i)},s.prototype.once=function(l,i){return this._register(l,1,i)},s.prototype.close=function(){for(var l in this._container)this._container[l].delete(this.key)},s}(),op=function(){function s(){this._container={}}return s.prototype.on=function(l,i){return new AC({container:this._container}).on(l,i)},s.prototype.once=function(l,i){return new AC({container:this._container}).once(l,i)},s.prototype.dispatch=function(l,i){var d,u,p=this._container[l];if(p){var _=[];try{for(var g=wt(p.keys()),b=g.next();!b.done;b=g.next()){var E=b.value,I=p.get(E);I.handler(i),I.occurence>0&&(I.occurence--,I.occurence===0&&_.push(E))}}catch(U){d={error:U}}finally{try{b&&!b.done&&(u=g.return)&&u.call(g)}finally{if(d)throw d.error}}_.forEach(function(U){return p.delete(U)})}},s}(),$Q=function(){function s(){this._dispatcher=new op}return s.prototype.on=function(l){return this._dispatcher.on("event",l)},s.prototype.once=function(l){return this._dispatcher.once("event",l)},s.prototype.dispatch=function(l){this._dispatcher.dispatch("event",l)},s}(),Ti=function(){},Tt=function(s){var l={};return s&&Object.keys(s).forEach(function(i){s[i]!==void 0&&s[i]!==NaN&&s[i]!==null&&(l[i]=s[i])}),l};(function(s){s.GET="GET",s.POST="POST",s.PUT="PUT",s.DELETE="DELETE"})(Nn||(Nn={}));var Tm,On=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.params={},i.requireAuth=!0,i.headers={},i.requestId=gh(),i}return fe(l,s),l.prototype.stringifyParams=function(i){return typeof i!="object"||Array.isArray(i)?String(i):i?JSON.stringify(i):""},l.prototype.encodeParams=function(i){var d=this;return i==null||i===""?encodeURIComponent(""):Array.isArray(i)?i.map(function(u){return d.encodeParams(u)}).join(","):encodeURIComponent(typeof i=="object"?JSON.stringify(i):String(i))},Object.defineProperty(l.prototype,"query",{get:function(){var i=this,d=Tt(this.params);return"?".concat(Object.keys(d).map(function(u){return"".concat(encodeURIComponent(u),"=").concat(i.encodeParams(d[u]))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"payload",{get:function(){var i=this,d=Tt(this.params);if(Object.keys(d).some(function(p){return _s(d[p])})){var u=new FormData;return Object.keys(d).forEach(function(p){var _,g=d[p];if(_s(g)){var b=g;u.append(p,b,(_=b.name)!==null&&_!==void 0?_:"filename")}else u.append(p,i.stringifyParams(g))}),u}return JSON.stringify(d)},enumerable:!1,configurable:!0}),l}(Ti),Pn=function(s){function l(i,d){var u=s.call(this)||this;return u._iid=i,u._payload=d,u}return fe(l,s),Object.defineProperty(l.prototype,"payload",{get:function(){return $e({},this._payload)},enumerable:!1,configurable:!0}),l.prototype.as=function(i){return new i(this._iid,this.payload)},l}(Ti),zQ=function(s){function l(i){var d=s.call(this)||this;return d.requestId=i,d}return fe(l,s),l}(Ti),Cm=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return fe(l,s),l}(Ti),S2=function(s){function l(i){var d=s.call(this)||this;return d.statLog=i,d}return fe(l,s),l}(Ti);(function(s){s.WEBSOCKET_CONNECT="ws:connect",s.API_RESULT="api:result"})(Tm||(Tm={}));var lp=function(){function s(l){var i=l.type,d=l.data,u=l.ts,p=u===void 0?Date.now():u;this.type=i,this.createdAt=p,this.data=d}return s.payloadify=function(l){return Tt({stat_type:l.type,ts:l.createdAt,data:Tt(l.data)})},s}(),VQ=function(){function s(l,i){var d=i.auth,u=i.sdkState,p=i.dispatcher,_=i.logger,g=this;this._abortControl=new Map,this._iid=l,this._auth=d,this._sdkState=u,this._dispatcher=p,this._dispatcher.on(function(b){b instanceof zQ&&g.cancel(b.requestId)}),this._logger=_}return Object.defineProperty(s.prototype,"_userAgentWithExtension",{get:function(){var l=this._sdkState.extensions,i=typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"?"reactnative":"JS",d=l.sb_syncmanager?"s".concat(l.sb_syncmanager):"",u=l.sb_uikit?"u".concat(l.sb_uikit):"",p=l["device-os-platform"]?"o".concat(l["device-os-platform"]):"";return"".concat(i,"/c").concat(Dc.SDK_VERSION,"/").concat(d,"/").concat(u,"/").concat(p)},enumerable:!1,configurable:!0}),s.prototype._createHeader=function(l,i){i===void 0&&(i=null);var d=this._sdkState,u=d.appId,p=d.appVersion,_=$e($e({},l.headers),{SendBird:"JS,".concat(Dc.OS_VERSION,",").concat(Dc.SDK_VERSION,",").concat(u).concat(p?",".concat(p):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return i||(_["Content-Type"]="application/json; charset=utf-8"),l.requireAuth&&this._auth.hasSession&&(_["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(_["App-Id"]=u,_["Access-Token"]=this._auth.authToken),_},s.prototype._statLogApiResult=function(l,i,d){this._dispatcher.dispatch(new S2(new lp({type:Tm.API_RESULT,data:{endpoint:l.path,method:l.method,success:!d,latency:Date.now()-i,error_code:d==null?void 0:d.code,error_description:d==null?void 0:d.message}})))},s.prototype.send=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I,U,Y,K,ce,ae,pe;return X(this,function(Ne){switch(Ne.label){case 0:i=l.path,d=l.method,u=![Nn.GET,Nn.DELETE].includes(d),p=this._sdkState.api,_="".concat(p.host).concat(i).concat(u?"":l.query),g=u?l.payload:null,b=this._createHeader(l,g instanceof FormData?g:null),E=new AbortController,I=E.signal,this._abortControl.set(l.requestId,E),U=Date.now(),Ne.label=1;case 1:return Ne.trys.push([1,4,,5]),[4,fetch(_,{method:d,body:g,headers:b,signal:I})];case 2:return[4,(Y=Ne.sent()).json()];case 3:if(K=Ne.sent(),Y.ok||Y.redirected)return this._logger.debug("receive api response",l.requestId),this._statLogApiResult(l,U,null),[2,new Pn(this._iid,K)];throw K?(ce=new Qe(K),!l.requireAuth&&ce.isSessionKeyExpiredError&&this._dispatcher.dispatch(new Cm),this._statLogApiResult(l,U,ce),ce):(ce=Qe.requestFailed,this._statLogApiResult(l,U,ce),ce);case 4:throw ae=Ne.sent(),this._statLogApiResult(l,U,ae),ae instanceof Qe?(this._logger.debug("fail api request",ae),ae):ae.name==="AbortError"?Qe.requestCanceled:(pe=Qe.networkError,this._logger.debug("fail api request",pe),pe);case 5:return[2]}})})},s.prototype.cancel=function(l){this._abortControl.has(l)&&(this._abortControl.get(l).abort(),this._abortControl.delete(l))},s.prototype.cancelAll=function(){var l,i;try{for(var d=wt(this._abortControl.values()),u=d.next();!u.done;u=d.next())u.value.abort()}catch(p){l={error:p}}finally{try{u&&!u.done&&(i=d.return)&&i.call(d)}finally{if(l)throw l.error}}this._abortControl.clear()},s}(),Vr=function(s){function l(i,d,u,p){p===void 0&&(p="");var _=s.call(this)||this;return _._iid=i,_.code=d,_.payload=u,_.requestId=u?u.req_id:p,_}return fe(l,s),l.createFromRawMessage=function(i,d){var u=d.substring(0,4),p=null;try{p=JSON.parse(d.substring(4))}catch{u="NOOP"}finally{return new l(i,u,p)}},l.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},l.prototype.as=function(i){return new i(this._iid,this.code,this.payload)},l}(Ti),Dt=function(){};function bh(s){let l=s.length;for(;--l>=0;)s[l]=0}const T2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Im=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),GQ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),OC=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tl=new Array(576);bh(Tl);const dp=new Array(60);bh(dp);const cp=new Array(512);bh(cp);const up=new Array(256);bh(up);const C2=new Array(29);bh(C2);const Nm=new Array(30);function I2(s,l,i,d,u){this.static_tree=s,this.extra_bits=l,this.extra_base=i,this.elems=d,this.max_length=u,this.has_stree=s&&s.length}let RC,MC,DC;function N2(s,l){this.dyn_tree=s,this.max_code=0,this.stat_desc=l}bh(Nm);const LC=s=>s<256?cp[s]:cp[256+(s>>>7)],hp=(s,l)=>{s.pending_buf[s.pending++]=255&l,s.pending_buf[s.pending++]=l>>>8&255},Ja=(s,l,i)=>{s.bi_valid>16-i?(s.bi_buf|=l<<s.bi_valid&65535,hp(s,s.bi_buf),s.bi_buf=l>>16-s.bi_valid,s.bi_valid+=i-16):(s.bi_buf|=l<<s.bi_valid&65535,s.bi_valid+=i)},zo=(s,l,i)=>{Ja(s,i[2*l],i[2*l+1])},UC=(s,l)=>{let i=0;do i|=1&s,s>>>=1,i<<=1;while(--l>0);return i>>>1},PC=(s,l,i)=>{const d=new Array(16);let u,p,_=0;for(u=1;u<=15;u++)_=_+i[u-1]<<1,d[u]=_;for(p=0;p<=l;p++){let g=s[2*p+1];g!==0&&(s[2*p]=UC(d[g]++,g))}},FC=s=>{let l;for(l=0;l<286;l++)s.dyn_ltree[2*l]=0;for(l=0;l<30;l++)s.dyn_dtree[2*l]=0;for(l=0;l<19;l++)s.bl_tree[2*l]=0;s.dyn_ltree[512]=1,s.opt_len=s.static_len=0,s.sym_next=s.matches=0},HC=s=>{s.bi_valid>8?hp(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0},BC=(s,l,i,d)=>{const u=2*l,p=2*i;return s[u]<s[p]||s[u]===s[p]&&d[l]<=d[i]},A2=(s,l,i)=>{const d=s.heap[i];let u=i<<1;for(;u<=s.heap_len&&(u<s.heap_len&&BC(l,s.heap[u+1],s.heap[u],s.depth)&&u++,!BC(l,d,s.heap[u],s.depth));)s.heap[i]=s.heap[u],i=u,u<<=1;s.heap[i]=d},$C=(s,l,i)=>{let d,u,p,_,g=0;if(s.sym_next!==0)do d=255&s.pending_buf[s.sym_buf+g++],d+=(255&s.pending_buf[s.sym_buf+g++])<<8,u=s.pending_buf[s.sym_buf+g++],d===0?zo(s,u,l):(p=up[u],zo(s,p+256+1,l),_=T2[p],_!==0&&(u-=C2[p],Ja(s,u,_)),d--,p=LC(d),zo(s,p,i),_=Im[p],_!==0&&(d-=Nm[p],Ja(s,d,_)));while(g<s.sym_next);zo(s,256,l)},O2=(s,l)=>{const i=l.dyn_tree,d=l.stat_desc.static_tree,u=l.stat_desc.has_stree,p=l.stat_desc.elems;let _,g,b,E=-1;for(s.heap_len=0,s.heap_max=573,_=0;_<p;_++)i[2*_]!==0?(s.heap[++s.heap_len]=E=_,s.depth[_]=0):i[2*_+1]=0;for(;s.heap_len<2;)b=s.heap[++s.heap_len]=E<2?++E:0,i[2*b]=1,s.depth[b]=0,s.opt_len--,u&&(s.static_len-=d[2*b+1]);for(l.max_code=E,_=s.heap_len>>1;_>=1;_--)A2(s,i,_);b=p;do _=s.heap[1],s.heap[1]=s.heap[s.heap_len--],A2(s,i,1),g=s.heap[1],s.heap[--s.heap_max]=_,s.heap[--s.heap_max]=g,i[2*b]=i[2*_]+i[2*g],s.depth[b]=(s.depth[_]>=s.depth[g]?s.depth[_]:s.depth[g])+1,i[2*_+1]=i[2*g+1]=b,s.heap[1]=b++,A2(s,i,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],((I,U)=>{const Y=U.dyn_tree,K=U.max_code,ce=U.stat_desc.static_tree,ae=U.stat_desc.has_stree,pe=U.stat_desc.extra_bits,Ne=U.stat_desc.extra_base,Ee=U.stat_desc.max_length;let ze,dn,Ce,be,rn,Je,Ye=0;for(be=0;be<=15;be++)I.bl_count[be]=0;for(Y[2*I.heap[I.heap_max]+1]=0,ze=I.heap_max+1;ze<573;ze++)dn=I.heap[ze],be=Y[2*Y[2*dn+1]+1]+1,be>Ee&&(be=Ee,Ye++),Y[2*dn+1]=be,dn>K||(I.bl_count[be]++,rn=0,dn>=Ne&&(rn=pe[dn-Ne]),Je=Y[2*dn],I.opt_len+=Je*(be+rn),ae&&(I.static_len+=Je*(ce[2*dn+1]+rn)));if(Ye!==0){do{for(be=Ee-1;I.bl_count[be]===0;)be--;I.bl_count[be]--,I.bl_count[be+1]+=2,I.bl_count[Ee]--,Ye-=2}while(Ye>0);for(be=Ee;be!==0;be--)for(dn=I.bl_count[be];dn!==0;)Ce=I.heap[--ze],Ce>K||(Y[2*Ce+1]!==be&&(I.opt_len+=(be-Y[2*Ce+1])*Y[2*Ce],Y[2*Ce+1]=be),dn--)}})(s,l),PC(i,E,s.bl_count)},zC=(s,l,i)=>{let d,u,p=-1,_=l[1],g=0,b=7,E=4;for(_===0&&(b=138,E=3),l[2*(i+1)+1]=65535,d=0;d<=i;d++)u=_,_=l[2*(d+1)+1],++g<b&&u===_||(g<E?s.bl_tree[2*u]+=g:u!==0?(u!==p&&s.bl_tree[2*u]++,s.bl_tree[32]++):g<=10?s.bl_tree[34]++:s.bl_tree[36]++,g=0,p=u,_===0?(b=138,E=3):u===_?(b=6,E=3):(b=7,E=4))},VC=(s,l,i)=>{let d,u,p=-1,_=l[1],g=0,b=7,E=4;for(_===0&&(b=138,E=3),d=0;d<=i;d++)if(u=_,_=l[2*(d+1)+1],!(++g<b&&u===_)){if(g<E)do zo(s,u,s.bl_tree);while(--g!=0);else u!==0?(u!==p&&(zo(s,u,s.bl_tree),g--),zo(s,16,s.bl_tree),Ja(s,g-3,2)):g<=10?(zo(s,17,s.bl_tree),Ja(s,g-3,3)):(zo(s,18,s.bl_tree),Ja(s,g-11,7));g=0,p=u,_===0?(b=138,E=3):u===_?(b=6,E=3):(b=7,E=4)}};let GC=!1;const qC=(s,l,i,d)=>{Ja(s,0+(d?1:0),3),HC(s),hp(s,i),hp(s,~i),i&&s.pending_buf.set(s.window.subarray(l,l+i),s.pending),s.pending+=i};var qQ={_tr_init:s=>{GC||((()=>{let l,i,d,u,p;const _=new Array(16);for(d=0,u=0;u<28;u++)for(C2[u]=d,l=0;l<1<<T2[u];l++)up[d++]=u;for(up[d-1]=u,p=0,u=0;u<16;u++)for(Nm[u]=p,l=0;l<1<<Im[u];l++)cp[p++]=u;for(p>>=7;u<30;u++)for(Nm[u]=p<<7,l=0;l<1<<Im[u]-7;l++)cp[256+p++]=u;for(i=0;i<=15;i++)_[i]=0;for(l=0;l<=143;)Tl[2*l+1]=8,l++,_[8]++;for(;l<=255;)Tl[2*l+1]=9,l++,_[9]++;for(;l<=279;)Tl[2*l+1]=7,l++,_[7]++;for(;l<=287;)Tl[2*l+1]=8,l++,_[8]++;for(PC(Tl,287,_),l=0;l<30;l++)dp[2*l+1]=5,dp[2*l]=UC(l,5);RC=new I2(Tl,T2,257,286,15),MC=new I2(dp,Im,0,30,15),DC=new I2(new Array(0),GQ,0,19,7)})(),GC=!0),s.l_desc=new N2(s.dyn_ltree,RC),s.d_desc=new N2(s.dyn_dtree,MC),s.bl_desc=new N2(s.bl_tree,DC),s.bi_buf=0,s.bi_valid=0,FC(s)},_tr_stored_block:qC,_tr_flush_block:(s,l,i,d)=>{let u,p,_=0;s.level>0?(s.strm.data_type===2&&(s.strm.data_type=(g=>{let b,E=4093624447;for(b=0;b<=31;b++,E>>>=1)if(1&E&&g.dyn_ltree[2*b]!==0)return 0;if(g.dyn_ltree[18]!==0||g.dyn_ltree[20]!==0||g.dyn_ltree[26]!==0)return 1;for(b=32;b<256;b++)if(g.dyn_ltree[2*b]!==0)return 1;return 0})(s)),O2(s,s.l_desc),O2(s,s.d_desc),_=(g=>{let b;for(zC(g,g.dyn_ltree,g.l_desc.max_code),zC(g,g.dyn_dtree,g.d_desc.max_code),O2(g,g.bl_desc),b=18;b>=3&&g.bl_tree[2*OC[b]+1]===0;b--);return g.opt_len+=3*(b+1)+5+5+4,b})(s),u=s.opt_len+3+7>>>3,p=s.static_len+3+7>>>3,p<=u&&(u=p)):u=p=i+5,i+4<=u&&l!==-1?qC(s,l,i,d):s.strategy===4||p===u?(Ja(s,2+(d?1:0),3),$C(s,Tl,dp)):(Ja(s,4+(d?1:0),3),((g,b,E,I)=>{let U;for(Ja(g,b-257,5),Ja(g,E-1,5),Ja(g,I-4,4),U=0;U<I;U++)Ja(g,g.bl_tree[2*OC[U]+1],3);VC(g,g.dyn_ltree,b-1),VC(g,g.dyn_dtree,E-1)})(s,s.l_desc.max_code+1,s.d_desc.max_code+1,_+1),$C(s,s.dyn_ltree,s.dyn_dtree)),FC(s),d&&HC(s)},_tr_tally:(s,l,i)=>(s.pending_buf[s.sym_buf+s.sym_next++]=l,s.pending_buf[s.sym_buf+s.sym_next++]=l>>8,s.pending_buf[s.sym_buf+s.sym_next++]=i,l===0?s.dyn_ltree[2*i]++:(s.matches++,l--,s.dyn_ltree[2*(up[i]+256+1)]++,s.dyn_dtree[2*LC(l)]++),s.sym_next===s.sym_end),_tr_align:s=>{Ja(s,2,3),zo(s,256,Tl),(l=>{l.bi_valid===16?(hp(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0):l.bi_valid>=8&&(l.pending_buf[l.pending++]=255&l.bi_buf,l.bi_buf>>=8,l.bi_valid-=8)})(s)}},pp=(s,l,i,d)=>{let u=65535&s|0,p=s>>>16&65535|0,_=0;for(;i!==0;){_=i>2e3?2e3:i,i-=_;do u=u+l[d++]|0,p=p+u|0;while(--_);u%=65521,p%=65521}return u|p<<16|0};const jQ=new Uint32Array((()=>{let s,l=[];for(var i=0;i<256;i++){s=i;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[i]=s}return l})());var Hi=(s,l,i,d)=>{const u=jQ,p=d+i;s^=-1;for(let _=d;_<p;_++)s=s>>>8^u[255&(s^l[_])];return-1^s},Uc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Pc={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:KQ,_tr_stored_block:R2,_tr_flush_block:WQ,_tr_tally:Td,_tr_align:QQ}=qQ,{Z_NO_FLUSH:Cd,Z_PARTIAL_FLUSH:YQ,Z_FULL_FLUSH:XQ,Z_FINISH:Fs,Z_BLOCK:jC,Z_OK:Zi,Z_STREAM_END:KC,Z_STREAM_ERROR:Vo,Z_DATA_ERROR:ZQ,Z_BUF_ERROR:M2,Z_DEFAULT_COMPRESSION:JQ,Z_FILTERED:eY,Z_HUFFMAN_ONLY:Am,Z_RLE:nY,Z_FIXED:tY,Z_DEFAULT_STRATEGY:rY,Z_UNKNOWN:iY,Z_DEFLATED:Om}=Pc,Fc=(s,l)=>(s.msg=Uc[l],l),WC=s=>2*s-(s>4?9:0),Id=s=>{let l=s.length;for(;--l>=0;)s[l]=0},aY=s=>{let l,i,d,u=s.w_size;l=s.hash_size,d=l;do i=s.head[--d],s.head[d]=i>=u?i-u:0;while(--l);l=u,d=l;do i=s.prev[--d],s.prev[d]=i>=u?i-u:0;while(--l)};let Nd=(s,l,i)=>(l<<s.hash_shift^i)&s.hash_mask;const ms=s=>{const l=s.state;let i=l.pending;i>s.avail_out&&(i=s.avail_out),i!==0&&(s.output.set(l.pending_buf.subarray(l.pending_out,l.pending_out+i),s.next_out),s.next_out+=i,l.pending_out+=i,s.total_out+=i,s.avail_out-=i,l.pending-=i,l.pending===0&&(l.pending_out=0))},vs=(s,l)=>{WQ(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,l),s.block_start=s.strstart,ms(s.strm)},vr=(s,l)=>{s.pending_buf[s.pending++]=l},fp=(s,l)=>{s.pending_buf[s.pending++]=l>>>8&255,s.pending_buf[s.pending++]=255&l},D2=(s,l,i,d)=>{let u=s.avail_in;return u>d&&(u=d),u===0?0:(s.avail_in-=u,l.set(s.input.subarray(s.next_in,s.next_in+u),i),s.state.wrap===1?s.adler=pp(s.adler,l,u,i):s.state.wrap===2&&(s.adler=Hi(s.adler,l,u,i)),s.next_in+=u,s.total_in+=u,u)},QC=(s,l)=>{let i,d,u=s.max_chain_length,p=s.strstart,_=s.prev_length,g=s.nice_match;const b=s.strstart>s.w_size-262?s.strstart-(s.w_size-262):0,E=s.window,I=s.w_mask,U=s.prev,Y=s.strstart+258;let K=E[p+_-1],ce=E[p+_];s.prev_length>=s.good_match&&(u>>=2),g>s.lookahead&&(g=s.lookahead);do if(i=l,E[i+_]===ce&&E[i+_-1]===K&&E[i]===E[p]&&E[++i]===E[p+1]){p+=2,i++;do;while(E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&E[++p]===E[++i]&&p<Y);if(d=258-(Y-p),p=Y-258,d>_){if(s.match_start=l,_=d,d>=g)break;K=E[p+_-1],ce=E[p+_]}}while((l=U[l&I])>b&&--u!=0);return _<=s.lookahead?_:s.lookahead},yh=s=>{const l=s.w_size;let i,d,u;do{if(d=s.window_size-s.lookahead-s.strstart,s.strstart>=l+(l-262)&&(s.window.set(s.window.subarray(l,l+l-d),0),s.match_start-=l,s.strstart-=l,s.block_start-=l,s.insert>s.strstart&&(s.insert=s.strstart),aY(s),d+=l),s.strm.avail_in===0)break;if(i=D2(s.strm,s.window,s.strstart+s.lookahead,d),s.lookahead+=i,s.lookahead+s.insert>=3)for(u=s.strstart-s.insert,s.ins_h=s.window[u],s.ins_h=Nd(s,s.ins_h,s.window[u+1]);s.insert&&(s.ins_h=Nd(s,s.ins_h,s.window[u+3-1]),s.prev[u&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=u,u++,s.insert--,!(s.lookahead+s.insert<3)););}while(s.lookahead<262&&s.strm.avail_in!==0)},YC=(s,l)=>{let i,d,u,p=s.pending_buf_size-5>s.w_size?s.w_size:s.pending_buf_size-5,_=0,g=s.strm.avail_in;do{if(i=65535,u=s.bi_valid+42>>3,s.strm.avail_out<u||(u=s.strm.avail_out-u,d=s.strstart-s.block_start,i>d+s.strm.avail_in&&(i=d+s.strm.avail_in),i>u&&(i=u),i<p&&(i===0&&l!==Fs||l===Cd||i!==d+s.strm.avail_in)))break;_=l===Fs&&i===d+s.strm.avail_in?1:0,R2(s,0,0,_),s.pending_buf[s.pending-4]=i,s.pending_buf[s.pending-3]=i>>8,s.pending_buf[s.pending-2]=~i,s.pending_buf[s.pending-1]=~i>>8,ms(s.strm),d&&(d>i&&(d=i),s.strm.output.set(s.window.subarray(s.block_start,s.block_start+d),s.strm.next_out),s.strm.next_out+=d,s.strm.avail_out-=d,s.strm.total_out+=d,s.block_start+=d,i-=d),i&&(D2(s.strm,s.strm.output,s.strm.next_out,i),s.strm.next_out+=i,s.strm.avail_out-=i,s.strm.total_out+=i)}while(_===0);return g-=s.strm.avail_in,g&&(g>=s.w_size?(s.matches=2,s.window.set(s.strm.input.subarray(s.strm.next_in-s.w_size,s.strm.next_in),0),s.strstart=s.w_size,s.insert=s.strstart):(s.window_size-s.strstart<=g&&(s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,s.insert>s.strstart&&(s.insert=s.strstart)),s.window.set(s.strm.input.subarray(s.strm.next_in-g,s.strm.next_in),s.strstart),s.strstart+=g,s.insert+=g>s.w_size-s.insert?s.w_size-s.insert:g),s.block_start=s.strstart),s.high_water<s.strstart&&(s.high_water=s.strstart),_?4:l!==Cd&&l!==Fs&&s.strm.avail_in===0&&s.strstart===s.block_start?2:(u=s.window_size-s.strstart,s.strm.avail_in>u&&s.block_start>=s.w_size&&(s.block_start-=s.w_size,s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,u+=s.w_size,s.insert>s.strstart&&(s.insert=s.strstart)),u>s.strm.avail_in&&(u=s.strm.avail_in),u&&(D2(s.strm,s.window,s.strstart,u),s.strstart+=u,s.insert+=u>s.w_size-s.insert?s.w_size-s.insert:u),s.high_water<s.strstart&&(s.high_water=s.strstart),u=s.bi_valid+42>>3,u=s.pending_buf_size-u>65535?65535:s.pending_buf_size-u,p=u>s.w_size?s.w_size:u,d=s.strstart-s.block_start,(d>=p||(d||l===Fs)&&l!==Cd&&s.strm.avail_in===0&&d<=u)&&(i=d>u?u:d,_=l===Fs&&s.strm.avail_in===0&&i===d?1:0,R2(s,s.block_start,i,_),s.block_start+=i,ms(s.strm)),_?3:1)},L2=(s,l)=>{let i,d;for(;;){if(s.lookahead<262){if(yh(s),s.lookahead<262&&l===Cd)return 1;if(s.lookahead===0)break}if(i=0,s.lookahead>=3&&(s.ins_h=Nd(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),i!==0&&s.strstart-i<=s.w_size-262&&(s.match_length=QC(s,i)),s.match_length>=3)if(d=Td(s,s.strstart-s.match_start,s.match_length-3),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=3){s.match_length--;do s.strstart++,s.ins_h=Nd(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!=0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=Nd(s,s.ins_h,s.window[s.strstart+1]);else d=Td(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(d&&(vs(s,!1),s.strm.avail_out===0))return 1}return s.insert=s.strstart<2?s.strstart:2,l===Fs?(vs(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(vs(s,!1),s.strm.avail_out===0)?1:2},Eh=(s,l)=>{let i,d,u;for(;;){if(s.lookahead<262){if(yh(s),s.lookahead<262&&l===Cd)return 1;if(s.lookahead===0)break}if(i=0,s.lookahead>=3&&(s.ins_h=Nd(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=2,i!==0&&s.prev_length<s.max_lazy_match&&s.strstart-i<=s.w_size-262&&(s.match_length=QC(s,i),s.match_length<=5&&(s.strategy===eY||s.match_length===3&&s.strstart-s.match_start>4096)&&(s.match_length=2)),s.prev_length>=3&&s.match_length<=s.prev_length){u=s.strstart+s.lookahead-3,d=Td(s,s.strstart-1-s.prev_match,s.prev_length-3),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=u&&(s.ins_h=Nd(s,s.ins_h,s.window[s.strstart+3-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!=0);if(s.match_available=0,s.match_length=2,s.strstart++,d&&(vs(s,!1),s.strm.avail_out===0))return 1}else if(s.match_available){if(d=Td(s,0,s.window[s.strstart-1]),d&&vs(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return 1}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(d=Td(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<2?s.strstart:2,l===Fs?(vs(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(vs(s,!1),s.strm.avail_out===0)?1:2};function Go(s,l,i,d,u){this.good_length=s,this.max_lazy=l,this.nice_length=i,this.max_chain=d,this.func=u}const _p=[new Go(0,0,0,0,YC),new Go(4,4,8,4,L2),new Go(4,5,16,8,L2),new Go(4,6,32,32,L2),new Go(4,4,16,16,Eh),new Go(8,16,32,32,Eh),new Go(8,16,128,128,Eh),new Go(8,32,128,256,Eh),new Go(32,128,258,1024,Eh),new Go(32,258,258,4096,Eh)];function sY(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Om,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Id(this.dyn_ltree),Id(this.dyn_dtree),Id(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Id(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Id(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const mp=s=>{if(!s)return 1;const l=s.state;return!l||l.strm!==s||l.status!==42&&l.status!==57&&l.status!==69&&l.status!==73&&l.status!==91&&l.status!==103&&l.status!==113&&l.status!==666?1:0},XC=s=>{if(mp(s))return Fc(s,Vo);s.total_in=s.total_out=0,s.data_type=iY;const l=s.state;return l.pending=0,l.pending_out=0,l.wrap<0&&(l.wrap=-l.wrap),l.status=l.wrap===2?57:l.wrap?42:113,s.adler=l.wrap===2?0:1,l.last_flush=-2,KQ(l),Zi},ZC=s=>{const l=XC(s);var i;return l===Zi&&((i=s.state).window_size=2*i.w_size,Id(i.head),i.max_lazy_match=_p[i.level].max_lazy,i.good_match=_p[i.level].good_length,i.nice_match=_p[i.level].nice_length,i.max_chain_length=_p[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),l},JC=(s,l,i,d,u,p)=>{if(!s)return Vo;let _=1;if(l===JQ&&(l=6),d<0?(_=0,d=-d):d>15&&(_=2,d-=16),u<1||u>9||i!==Om||d<8||d>15||l<0||l>9||p<0||p>tY||d===8&&_!==1)return Fc(s,Vo);d===8&&(d=9);const g=new sY;return s.state=g,g.strm=s,g.status=42,g.wrap=_,g.gzhead=null,g.w_bits=d,g.w_size=1<<g.w_bits,g.w_mask=g.w_size-1,g.hash_bits=u+7,g.hash_size=1<<g.hash_bits,g.hash_mask=g.hash_size-1,g.hash_shift=~~((g.hash_bits+3-1)/3),g.window=new Uint8Array(2*g.w_size),g.head=new Uint16Array(g.hash_size),g.prev=new Uint16Array(g.w_size),g.lit_bufsize=1<<u+6,g.pending_buf_size=4*g.lit_bufsize,g.pending_buf=new Uint8Array(g.pending_buf_size),g.sym_buf=g.lit_bufsize,g.sym_end=3*(g.lit_bufsize-1),g.level=l,g.strategy=p,g.method=i,ZC(s)};var vp={deflateInit:(s,l)=>JC(s,l,Om,15,8,rY),deflateInit2:JC,deflateReset:ZC,deflateResetKeep:XC,deflateSetHeader:(s,l)=>mp(s)||s.state.wrap!==2?Vo:(s.state.gzhead=l,Zi),deflate:(s,l)=>{if(mp(s)||l>jC||l<0)return s?Fc(s,Vo):Vo;const i=s.state;if(!s.output||s.avail_in!==0&&!s.input||i.status===666&&l!==Fs)return Fc(s,s.avail_out===0?M2:Vo);const d=i.last_flush;if(i.last_flush=l,i.pending!==0){if(ms(s),s.avail_out===0)return i.last_flush=-1,Zi}else if(s.avail_in===0&&WC(l)<=WC(d)&&l!==Fs)return Fc(s,M2);if(i.status===666&&s.avail_in!==0)return Fc(s,M2);if(i.status===42&&i.wrap===0&&(i.status=113),i.status===42){let u=Om+(i.w_bits-8<<4)<<8,p=-1;if(p=i.strategy>=Am||i.level<2?0:i.level<6?1:i.level===6?2:3,u|=p<<6,i.strstart!==0&&(u|=32),u+=31-u%31,fp(i,u),i.strstart!==0&&(fp(i,s.adler>>>16),fp(i,65535&s.adler)),s.adler=1,i.status=113,ms(s),i.pending!==0)return i.last_flush=-1,Zi}if(i.status===57){if(s.adler=0,vr(i,31),vr(i,139),vr(i,8),i.gzhead)vr(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),vr(i,255&i.gzhead.time),vr(i,i.gzhead.time>>8&255),vr(i,i.gzhead.time>>16&255),vr(i,i.gzhead.time>>24&255),vr(i,i.level===9?2:i.strategy>=Am||i.level<2?4:0),vr(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(vr(i,255&i.gzhead.extra.length),vr(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(s.adler=Hi(s.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(vr(i,0),vr(i,0),vr(i,0),vr(i,0),vr(i,0),vr(i,i.level===9?2:i.strategy>=Am||i.level<2?4:0),vr(i,3),i.status=113,ms(s),i.pending!==0)return i.last_flush=-1,Zi}if(i.status===69){if(i.gzhead.extra){let u=i.pending,p=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+p>i.pending_buf_size;){let g=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+g),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>u&&(s.adler=Hi(s.adler,i.pending_buf,i.pending-u,u)),i.gzindex+=g,ms(s),i.pending!==0)return i.last_flush=-1,Zi;u=0,p-=g}let _=new Uint8Array(i.gzhead.extra);i.pending_buf.set(_.subarray(i.gzindex,i.gzindex+p),i.pending),i.pending+=p,i.gzhead.hcrc&&i.pending>u&&(s.adler=Hi(s.adler,i.pending_buf,i.pending-u,u)),i.gzindex=0}i.status=73}if(i.status===73){if(i.gzhead.name){let u,p=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>p&&(s.adler=Hi(s.adler,i.pending_buf,i.pending-p,p)),ms(s),i.pending!==0)return i.last_flush=-1,Zi;p=0}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,vr(i,u)}while(u!==0);i.gzhead.hcrc&&i.pending>p&&(s.adler=Hi(s.adler,i.pending_buf,i.pending-p,p)),i.gzindex=0}i.status=91}if(i.status===91){if(i.gzhead.comment){let u,p=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>p&&(s.adler=Hi(s.adler,i.pending_buf,i.pending-p,p)),ms(s),i.pending!==0)return i.last_flush=-1,Zi;p=0}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,vr(i,u)}while(u!==0);i.gzhead.hcrc&&i.pending>p&&(s.adler=Hi(s.adler,i.pending_buf,i.pending-p,p))}i.status=103}if(i.status===103){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(ms(s),i.pending!==0))return i.last_flush=-1,Zi;vr(i,255&s.adler),vr(i,s.adler>>8&255),s.adler=0}if(i.status=113,ms(s),i.pending!==0)return i.last_flush=-1,Zi}if(s.avail_in!==0||i.lookahead!==0||l!==Cd&&i.status!==666){let u=i.level===0?YC(i,l):i.strategy===Am?((p,_)=>{let g;for(;;){if(p.lookahead===0&&(yh(p),p.lookahead===0)){if(_===Cd)return 1;break}if(p.match_length=0,g=Td(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++,g&&(vs(p,!1),p.strm.avail_out===0))return 1}return p.insert=0,_===Fs?(vs(p,!0),p.strm.avail_out===0?3:4):p.sym_next&&(vs(p,!1),p.strm.avail_out===0)?1:2})(i,l):i.strategy===nY?((p,_)=>{let g,b,E,I;const U=p.window;for(;;){if(p.lookahead<=258){if(yh(p),p.lookahead<=258&&_===Cd)return 1;if(p.lookahead===0)break}if(p.match_length=0,p.lookahead>=3&&p.strstart>0&&(E=p.strstart-1,b=U[E],b===U[++E]&&b===U[++E]&&b===U[++E])){I=p.strstart+258;do;while(b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&b===U[++E]&&E<I);p.match_length=258-(I-E),p.match_length>p.lookahead&&(p.match_length=p.lookahead)}if(p.match_length>=3?(g=Td(p,1,p.match_length-3),p.lookahead-=p.match_length,p.strstart+=p.match_length,p.match_length=0):(g=Td(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++),g&&(vs(p,!1),p.strm.avail_out===0))return 1}return p.insert=0,_===Fs?(vs(p,!0),p.strm.avail_out===0?3:4):p.sym_next&&(vs(p,!1),p.strm.avail_out===0)?1:2})(i,l):_p[i.level].func(i,l);if(u!==3&&u!==4||(i.status=666),u===1||u===3)return s.avail_out===0&&(i.last_flush=-1),Zi;if(u===2&&(l===YQ?QQ(i):l!==jC&&(R2(i,0,0,!1),l===XQ&&(Id(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),ms(s),s.avail_out===0))return i.last_flush=-1,Zi}return l!==Fs?Zi:i.wrap<=0?KC:(i.wrap===2?(vr(i,255&s.adler),vr(i,s.adler>>8&255),vr(i,s.adler>>16&255),vr(i,s.adler>>24&255),vr(i,255&s.total_in),vr(i,s.total_in>>8&255),vr(i,s.total_in>>16&255),vr(i,s.total_in>>24&255)):(fp(i,s.adler>>>16),fp(i,65535&s.adler)),ms(s),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Zi:KC)},deflateEnd:s=>{if(mp(s))return Vo;const l=s.state.status;return s.state=null,l===113?Fc(s,ZQ):Zi},deflateSetDictionary:(s,l)=>{let i=l.length;if(mp(s))return Vo;const d=s.state,u=d.wrap;if(u===2||u===1&&d.status!==42||d.lookahead)return Vo;if(u===1&&(s.adler=pp(s.adler,l,i,0)),d.wrap=0,i>=d.w_size){u===0&&(Id(d.head),d.strstart=0,d.block_start=0,d.insert=0);let b=new Uint8Array(d.w_size);b.set(l.subarray(i-d.w_size,i),0),l=b,i=d.w_size}const p=s.avail_in,_=s.next_in,g=s.input;for(s.avail_in=i,s.next_in=0,s.input=l,yh(d);d.lookahead>=3;){let b=d.strstart,E=d.lookahead-2;do d.ins_h=Nd(d,d.ins_h,d.window[b+3-1]),d.prev[b&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=b,b++;while(--E);d.strstart=b,d.lookahead=2,yh(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=2,d.match_available=0,s.next_in=_,s.input=g,s.avail_in=p,d.wrap=u,Zi},deflateInfo:"pako deflate (from Nodeca project)"};const oY=(s,l)=>Object.prototype.hasOwnProperty.call(s,l);var eI=function(s){const l=Array.prototype.slice.call(arguments,1);for(;l.length;){const i=l.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const d in i)oY(i,d)&&(s[d]=i[d])}}return s},nI=s=>{let l=0;for(let d=0,u=s.length;d<u;d++)l+=s[d].length;const i=new Uint8Array(l);for(let d=0,u=0,p=s.length;d<p;d++){let _=s[d];i.set(_,u),u+=_.length}return i};let tI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tI=!1}const gp=new Uint8Array(256);for(let s=0;s<256;s++)gp[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;gp[254]=gp[254]=1;var U2=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let l,i,d,u,p,_=s.length,g=0;for(u=0;u<_;u++)i=s.charCodeAt(u),(64512&i)==55296&&u+1<_&&(d=s.charCodeAt(u+1),(64512&d)==56320&&(i=65536+(i-55296<<10)+(d-56320),u++)),g+=i<128?1:i<2048?2:i<65536?3:4;for(l=new Uint8Array(g),p=0,u=0;p<g;u++)i=s.charCodeAt(u),(64512&i)==55296&&u+1<_&&(d=s.charCodeAt(u+1),(64512&d)==56320&&(i=65536+(i-55296<<10)+(d-56320),u++)),i<128?l[p++]=i:i<2048?(l[p++]=192|i>>>6,l[p++]=128|63&i):i<65536?(l[p++]=224|i>>>12,l[p++]=128|i>>>6&63,l[p++]=128|63&i):(l[p++]=240|i>>>18,l[p++]=128|i>>>12&63,l[p++]=128|i>>>6&63,l[p++]=128|63&i);return l},lY=(s,l)=>{const i=l||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,l));let d,u;const p=new Array(2*i);for(u=0,d=0;d<i;){let _=s[d++];if(_<128){p[u++]=_;continue}let g=gp[_];if(g>4)p[u++]=65533,d+=g-1;else{for(_&=g===2?31:g===3?15:7;g>1&&d<i;)_=_<<6|63&s[d++],g--;g>1?p[u++]=65533:_<65536?p[u++]=_:(_-=65536,p[u++]=55296|_>>10&1023,p[u++]=56320|1023&_)}}return((_,g)=>{if(g<65534&&_.subarray&&tI)return String.fromCharCode.apply(null,_.length===g?_:_.subarray(0,g));let b="";for(let E=0;E<g;E++)b+=String.fromCharCode(_[E]);return b})(p,u)},dY=(s,l)=>{(l=l||s.length)>s.length&&(l=s.length);let i=l-1;for(;i>=0&&(192&s[i])==128;)i--;return i<0||i===0?l:i+gp[s[i]]>l?i:l},rI=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const iI=Object.prototype.toString,{Z_NO_FLUSH:cY,Z_SYNC_FLUSH:uY,Z_FULL_FLUSH:hY,Z_FINISH:pY,Z_OK:Rm,Z_STREAM_END:fY,Z_DEFAULT_COMPRESSION:_Y,Z_DEFAULT_STRATEGY:mY,Z_DEFLATED:vY}=Pc;function bp(s){this.options=eI({level:_Y,method:vY,chunkSize:16384,windowBits:15,memLevel:8,strategy:mY},s||{});let l=this.options;l.raw&&l.windowBits>0?l.windowBits=-l.windowBits:l.gzip&&l.windowBits>0&&l.windowBits<16&&(l.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rI,this.strm.avail_out=0;let i=vp.deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(i!==Rm)throw new Error(Uc[i]);if(l.header&&vp.deflateSetHeader(this.strm,l.header),l.dictionary){let d;if(d=typeof l.dictionary=="string"?U2(l.dictionary):iI.call(l.dictionary)==="[object ArrayBuffer]"?new Uint8Array(l.dictionary):l.dictionary,i=vp.deflateSetDictionary(this.strm,d),i!==Rm)throw new Error(Uc[i]);this._dict_set=!0}}function P2(s,l){const i=new bp(l);if(i.push(s,!0),i.err)throw i.msg||Uc[i.err];return i.result}bp.prototype.push=function(s,l){const i=this.strm,d=this.options.chunkSize;let u,p;if(this.ended)return!1;for(p=l===~~l?l:l===!0?pY:cY,typeof s=="string"?i.input=U2(s):iI.call(s)==="[object ArrayBuffer]"?i.input=new Uint8Array(s):i.input=s,i.next_in=0,i.avail_in=i.input.length;;)if(i.avail_out===0&&(i.output=new Uint8Array(d),i.next_out=0,i.avail_out=d),(p===uY||p===hY)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(u=vp.deflate(i,p),u===fY)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),u=vp.deflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===Rm;if(i.avail_out!==0){if(p>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(i.avail_in===0)break}else this.onData(i.output)}return!0},bp.prototype.onData=function(s){this.chunks.push(s)},bp.prototype.onEnd=function(s){s===Rm&&(this.result=nI(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};var gY={Deflate:bp,deflate:P2,deflateRaw:function(s,l){return(l=l||{}).raw=!0,P2(s,l)},gzip:function(s,l){return(l=l||{}).gzip=!0,P2(s,l)},constants:Pc},bY=function(s,l){let i,d,u,p,_,g,b,E,I,U,Y,K,ce,ae,pe,Ne,Ee,ze,dn,Ce,be,rn,Je,Ye;const kn=s.state;i=s.next_in,Je=s.input,d=i+(s.avail_in-5),u=s.next_out,Ye=s.output,p=u-(l-s.avail_out),_=u+(s.avail_out-257),g=kn.dmax,b=kn.wsize,E=kn.whave,I=kn.wnext,U=kn.window,Y=kn.hold,K=kn.bits,ce=kn.lencode,ae=kn.distcode,pe=(1<<kn.lenbits)-1,Ne=(1<<kn.distbits)-1;e:do{K<15&&(Y+=Je[i++]<<K,K+=8,Y+=Je[i++]<<K,K+=8),Ee=ce[Y&pe];n:for(;;){if(ze=Ee>>>24,Y>>>=ze,K-=ze,ze=Ee>>>16&255,ze===0)Ye[u++]=65535&Ee;else{if(!(16&ze)){if((64&ze)==0){Ee=ce[(65535&Ee)+(Y&(1<<ze)-1)];continue n}if(32&ze){kn.mode=16191;break e}s.msg="invalid literal/length code",kn.mode=16209;break e}dn=65535&Ee,ze&=15,ze&&(K<ze&&(Y+=Je[i++]<<K,K+=8),dn+=Y&(1<<ze)-1,Y>>>=ze,K-=ze),K<15&&(Y+=Je[i++]<<K,K+=8,Y+=Je[i++]<<K,K+=8),Ee=ae[Y&Ne];t:for(;;){if(ze=Ee>>>24,Y>>>=ze,K-=ze,ze=Ee>>>16&255,!(16&ze)){if((64&ze)==0){Ee=ae[(65535&Ee)+(Y&(1<<ze)-1)];continue t}s.msg="invalid distance code",kn.mode=16209;break e}if(Ce=65535&Ee,ze&=15,K<ze&&(Y+=Je[i++]<<K,K+=8,K<ze&&(Y+=Je[i++]<<K,K+=8)),Ce+=Y&(1<<ze)-1,Ce>g){s.msg="invalid distance too far back",kn.mode=16209;break e}if(Y>>>=ze,K-=ze,ze=u-p,Ce>ze){if(ze=Ce-ze,ze>E&&kn.sane){s.msg="invalid distance too far back",kn.mode=16209;break e}if(be=0,rn=U,I===0){if(be+=b-ze,ze<dn){dn-=ze;do Ye[u++]=U[be++];while(--ze);be=u-Ce,rn=Ye}}else if(I<ze){if(be+=b+I-ze,ze-=I,ze<dn){dn-=ze;do Ye[u++]=U[be++];while(--ze);if(be=0,I<dn){ze=I,dn-=ze;do Ye[u++]=U[be++];while(--ze);be=u-Ce,rn=Ye}}}else if(be+=I-ze,ze<dn){dn-=ze;do Ye[u++]=U[be++];while(--ze);be=u-Ce,rn=Ye}for(;dn>2;)Ye[u++]=rn[be++],Ye[u++]=rn[be++],Ye[u++]=rn[be++],dn-=3;dn&&(Ye[u++]=rn[be++],dn>1&&(Ye[u++]=rn[be++]))}else{be=u-Ce;do Ye[u++]=Ye[be++],Ye[u++]=Ye[be++],Ye[u++]=Ye[be++],dn-=3;while(dn>2);dn&&(Ye[u++]=Ye[be++],dn>1&&(Ye[u++]=Ye[be++]))}break}}break}}while(i<d&&u<_);dn=K>>3,i-=dn,K-=dn<<3,Y&=(1<<K)-1,s.next_in=i,s.next_out=u,s.avail_in=i<d?d-i+5:5-(i-d),s.avail_out=u<_?_-u+257:257-(u-_),kn.hold=Y,kn.bits=K};const yY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),EY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var yp=(s,l,i,d,u,p,_,g)=>{const b=g.bits;let E,I,U,Y,K,ce,ae=0,pe=0,Ne=0,Ee=0,ze=0,dn=0,Ce=0,be=0,rn=0,Je=0,Ye=null;const kn=new Uint16Array(16),ar=new Uint16Array(16);let Cn,Tn,Vn,_t=null;for(ae=0;ae<=15;ae++)kn[ae]=0;for(pe=0;pe<d;pe++)kn[l[i+pe]]++;for(ze=b,Ee=15;Ee>=1&&kn[Ee]===0;Ee--);if(ze>Ee&&(ze=Ee),Ee===0)return u[p++]=20971520,u[p++]=20971520,g.bits=1,0;for(Ne=1;Ne<Ee&&kn[Ne]===0;Ne++);for(ze<Ne&&(ze=Ne),be=1,ae=1;ae<=15;ae++)if(be<<=1,be-=kn[ae],be<0)return-1;if(be>0&&(s===0||Ee!==1))return-1;for(ar[1]=0,ae=1;ae<15;ae++)ar[ae+1]=ar[ae]+kn[ae];for(pe=0;pe<d;pe++)l[i+pe]!==0&&(_[ar[l[i+pe]]++]=pe);if(s===0?(Ye=_t=_,ce=20):s===1?(Ye=yY,_t=EY,ce=257):(Ye=wY,_t=xY,ce=0),Je=0,pe=0,ae=Ne,K=p,dn=ze,Ce=0,U=-1,rn=1<<ze,Y=rn-1,s===1&&rn>852||s===2&&rn>592)return 1;for(;;){Cn=ae-Ce,_[pe]+1<ce?(Tn=0,Vn=_[pe]):_[pe]>=ce?(Tn=_t[_[pe]-ce],Vn=Ye[_[pe]-ce]):(Tn=96,Vn=0),E=1<<ae-Ce,I=1<<dn,Ne=I;do I-=E,u[K+(Je>>Ce)+I]=Cn<<24|Tn<<16|Vn|0;while(I!==0);for(E=1<<ae-1;Je&E;)E>>=1;if(E!==0?(Je&=E-1,Je+=E):Je=0,pe++,--kn[ae]==0){if(ae===Ee)break;ae=l[i+_[pe]]}if(ae>ze&&(Je&Y)!==U){for(Ce===0&&(Ce=ze),K+=Ne,dn=ae-Ce,be=1<<dn;dn+Ce<Ee&&(be-=kn[dn+Ce],!(be<=0));)dn++,be<<=1;if(rn+=1<<dn,s===1&&rn>852||s===2&&rn>592)return 1;U=Je&Y,u[U]=ze<<24|dn<<16|K-p|0}}return Je!==0&&(u[K+Je]=ae-Ce<<24|64<<16|0),g.bits=ze,0};const{Z_FINISH:aI,Z_BLOCK:kY,Z_TREES:Mm,Z_OK:Hc,Z_STREAM_END:SY,Z_NEED_DICT:TY,Z_STREAM_ERROR:Hs,Z_DATA_ERROR:sI,Z_MEM_ERROR:oI,Z_BUF_ERROR:CY,Z_DEFLATED:lI}=Pc,ti=16209,dI=s=>(s>>>24&255)+(s>>>8&65280)+((65280&s)<<8)+((255&s)<<24);function IY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bc=s=>{if(!s)return 1;const l=s.state;return!l||l.strm!==s||l.mode<16180||l.mode>16211?1:0},cI=s=>{if(Bc(s))return Hs;const l=s.state;return s.total_in=s.total_out=l.total=0,s.msg="",l.wrap&&(s.adler=1&l.wrap),l.mode=16180,l.last=0,l.havedict=0,l.flags=-1,l.dmax=32768,l.head=null,l.hold=0,l.bits=0,l.lencode=l.lendyn=new Int32Array(852),l.distcode=l.distdyn=new Int32Array(592),l.sane=1,l.back=-1,Hc},uI=s=>{if(Bc(s))return Hs;const l=s.state;return l.wsize=0,l.whave=0,l.wnext=0,cI(s)},hI=(s,l)=>{let i;if(Bc(s))return Hs;const d=s.state;return l<0?(i=0,l=-l):(i=5+(l>>4),l<48&&(l&=15)),l&&(l<8||l>15)?Hs:(d.window!==null&&d.wbits!==l&&(d.window=null),d.wrap=i,d.wbits=l,uI(s))},pI=(s,l)=>{if(!s)return Hs;const i=new IY;s.state=i,i.strm=s,i.window=null,i.mode=16180;const d=hI(s,l);return d!==Hc&&(s.state=null),d};let F2,H2,fI=!0;const NY=s=>{if(fI){F2=new Int32Array(512),H2=new Int32Array(32);let l=0;for(;l<144;)s.lens[l++]=8;for(;l<256;)s.lens[l++]=9;for(;l<280;)s.lens[l++]=7;for(;l<288;)s.lens[l++]=8;for(yp(1,s.lens,0,288,F2,0,s.work,{bits:9}),l=0;l<32;)s.lens[l++]=5;yp(2,s.lens,0,32,H2,0,s.work,{bits:5}),fI=!1}s.lencode=F2,s.lenbits=9,s.distcode=H2,s.distbits=5},_I=(s,l,i,d)=>{let u;const p=s.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new Uint8Array(p.wsize)),d>=p.wsize?(p.window.set(l.subarray(i-p.wsize,i),0),p.wnext=0,p.whave=p.wsize):(u=p.wsize-p.wnext,u>d&&(u=d),p.window.set(l.subarray(i-d,i-d+u),p.wnext),(d-=u)?(p.window.set(l.subarray(i-d,i),0),p.wnext=d,p.whave=p.wsize):(p.wnext+=u,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=u))),0};var Cl={inflateReset:uI,inflateReset2:hI,inflateResetKeep:cI,inflateInit:s=>pI(s,15),inflateInit2:pI,inflate:(s,l)=>{let i,d,u,p,_,g,b,E,I,U,Y,K,ce,ae,pe,Ne,Ee,ze,dn,Ce,be,rn,Je=0;const Ye=new Uint8Array(4);let kn,ar;const Cn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bc(s)||!s.output||!s.input&&s.avail_in!==0)return Hs;i=s.state,i.mode===16191&&(i.mode=16192),_=s.next_out,u=s.output,b=s.avail_out,p=s.next_in,d=s.input,g=s.avail_in,E=i.hold,I=i.bits,U=g,Y=b,rn=Hc;e:for(;;)switch(i.mode){case 16180:if(i.wrap===0){i.mode=16192;break}for(;I<16;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if(2&i.wrap&&E===35615){i.wbits===0&&(i.wbits=15),i.check=0,Ye[0]=255&E,Ye[1]=E>>>8&255,i.check=Hi(i.check,Ye,2,0),E=0,I=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&E)<<8)+(E>>8))%31){s.msg="incorrect header check",i.mode=ti;break}if((15&E)!==lI){s.msg="unknown compression method",i.mode=ti;break}if(E>>>=4,I-=4,be=8+(15&E),i.wbits===0&&(i.wbits=be),be>15||be>i.wbits){s.msg="invalid window size",i.mode=ti;break}i.dmax=1<<i.wbits,i.flags=0,s.adler=i.check=1,i.mode=512&E?16189:16191,E=0,I=0;break;case 16181:for(;I<16;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if(i.flags=E,(255&i.flags)!==lI){s.msg="unknown compression method",i.mode=ti;break}if(57344&i.flags){s.msg="unknown header flags set",i.mode=ti;break}i.head&&(i.head.text=E>>8&1),512&i.flags&&4&i.wrap&&(Ye[0]=255&E,Ye[1]=E>>>8&255,i.check=Hi(i.check,Ye,2,0)),E=0,I=0,i.mode=16182;case 16182:for(;I<32;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}i.head&&(i.head.time=E),512&i.flags&&4&i.wrap&&(Ye[0]=255&E,Ye[1]=E>>>8&255,Ye[2]=E>>>16&255,Ye[3]=E>>>24&255,i.check=Hi(i.check,Ye,4,0)),E=0,I=0,i.mode=16183;case 16183:for(;I<16;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}i.head&&(i.head.xflags=255&E,i.head.os=E>>8),512&i.flags&&4&i.wrap&&(Ye[0]=255&E,Ye[1]=E>>>8&255,i.check=Hi(i.check,Ye,2,0)),E=0,I=0,i.mode=16184;case 16184:if(1024&i.flags){for(;I<16;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}i.length=E,i.head&&(i.head.extra_len=E),512&i.flags&&4&i.wrap&&(Ye[0]=255&E,Ye[1]=E>>>8&255,i.check=Hi(i.check,Ye,2,0)),E=0,I=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(K=i.length,K>g&&(K=g),K&&(i.head&&(be=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(d.subarray(p,p+K),be)),512&i.flags&&4&i.wrap&&(i.check=Hi(i.check,d,K,p)),g-=K,p+=K,i.length-=K),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(g===0)break e;K=0;do be=d[p+K++],i.head&&be&&i.length<65536&&(i.head.name+=String.fromCharCode(be));while(be&&K<g);if(512&i.flags&&4&i.wrap&&(i.check=Hi(i.check,d,K,p)),g-=K,p+=K,be)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(g===0)break e;K=0;do be=d[p+K++],i.head&&be&&i.length<65536&&(i.head.comment+=String.fromCharCode(be));while(be&&K<g);if(512&i.flags&&4&i.wrap&&(i.check=Hi(i.check,d,K,p)),g-=K,p+=K,be)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;I<16;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if(4&i.wrap&&E!==(65535&i.check)){s.msg="header crc mismatch",i.mode=ti;break}E=0,I=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),s.adler=i.check=0,i.mode=16191;break;case 16189:for(;I<32;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}s.adler=i.check=dI(E),E=0,I=0,i.mode=16190;case 16190:if(i.havedict===0)return s.next_out=_,s.avail_out=b,s.next_in=p,s.avail_in=g,i.hold=E,i.bits=I,TY;s.adler=i.check=1,i.mode=16191;case 16191:if(l===kY||l===Mm)break e;case 16192:if(i.last){E>>>=7&I,I-=7&I,i.mode=16206;break}for(;I<3;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}switch(i.last=1&E,E>>>=1,I-=1,3&E){case 0:i.mode=16193;break;case 1:if(NY(i),i.mode=16199,l===Mm){E>>>=2,I-=2;break e}break;case 2:i.mode=16196;break;case 3:s.msg="invalid block type",i.mode=ti}E>>>=2,I-=2;break;case 16193:for(E>>>=7&I,I-=7&I;I<32;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if((65535&E)!=(E>>>16^65535)){s.msg="invalid stored block lengths",i.mode=ti;break}if(i.length=65535&E,E=0,I=0,i.mode=16194,l===Mm)break e;case 16194:i.mode=16195;case 16195:if(K=i.length,K){if(K>g&&(K=g),K>b&&(K=b),K===0)break e;u.set(d.subarray(p,p+K),_),g-=K,p+=K,b-=K,_+=K,i.length-=K;break}i.mode=16191;break;case 16196:for(;I<14;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if(i.nlen=257+(31&E),E>>>=5,I-=5,i.ndist=1+(31&E),E>>>=5,I-=5,i.ncode=4+(15&E),E>>>=4,I-=4,i.nlen>286||i.ndist>30){s.msg="too many length or distance symbols",i.mode=ti;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;I<3;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}i.lens[Cn[i.have++]]=7&E,E>>>=3,I-=3}for(;i.have<19;)i.lens[Cn[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,kn={bits:i.lenbits},rn=yp(0,i.lens,0,19,i.lencode,0,i.work,kn),i.lenbits=kn.bits,rn){s.msg="invalid code lengths set",i.mode=ti;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;Je=i.lencode[E&(1<<i.lenbits)-1],pe=Je>>>24,Ne=Je>>>16&255,Ee=65535&Je,!(pe<=I);){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if(Ee<16)E>>>=pe,I-=pe,i.lens[i.have++]=Ee;else{if(Ee===16){for(ar=pe+2;I<ar;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if(E>>>=pe,I-=pe,i.have===0){s.msg="invalid bit length repeat",i.mode=ti;break}be=i.lens[i.have-1],K=3+(3&E),E>>>=2,I-=2}else if(Ee===17){for(ar=pe+3;I<ar;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}E>>>=pe,I-=pe,be=0,K=3+(7&E),E>>>=3,I-=3}else{for(ar=pe+7;I<ar;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}E>>>=pe,I-=pe,be=0,K=11+(127&E),E>>>=7,I-=7}if(i.have+K>i.nlen+i.ndist){s.msg="invalid bit length repeat",i.mode=ti;break}for(;K--;)i.lens[i.have++]=be}}if(i.mode===ti)break;if(i.lens[256]===0){s.msg="invalid code -- missing end-of-block",i.mode=ti;break}if(i.lenbits=9,kn={bits:i.lenbits},rn=yp(1,i.lens,0,i.nlen,i.lencode,0,i.work,kn),i.lenbits=kn.bits,rn){s.msg="invalid literal/lengths set",i.mode=ti;break}if(i.distbits=6,i.distcode=i.distdyn,kn={bits:i.distbits},rn=yp(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,kn),i.distbits=kn.bits,rn){s.msg="invalid distances set",i.mode=ti;break}if(i.mode=16199,l===Mm)break e;case 16199:i.mode=16200;case 16200:if(g>=6&&b>=258){s.next_out=_,s.avail_out=b,s.next_in=p,s.avail_in=g,i.hold=E,i.bits=I,bY(s,Y),_=s.next_out,u=s.output,b=s.avail_out,p=s.next_in,d=s.input,g=s.avail_in,E=i.hold,I=i.bits,i.mode===16191&&(i.back=-1);break}for(i.back=0;Je=i.lencode[E&(1<<i.lenbits)-1],pe=Je>>>24,Ne=Je>>>16&255,Ee=65535&Je,!(pe<=I);){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if(Ne&&(240&Ne)==0){for(ze=pe,dn=Ne,Ce=Ee;Je=i.lencode[Ce+((E&(1<<ze+dn)-1)>>ze)],pe=Je>>>24,Ne=Je>>>16&255,Ee=65535&Je,!(ze+pe<=I);){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}E>>>=ze,I-=ze,i.back+=ze}if(E>>>=pe,I-=pe,i.back+=pe,i.length=Ee,Ne===0){i.mode=16205;break}if(32&Ne){i.back=-1,i.mode=16191;break}if(64&Ne){s.msg="invalid literal/length code",i.mode=ti;break}i.extra=15&Ne,i.mode=16201;case 16201:if(i.extra){for(ar=i.extra;I<ar;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}i.length+=E&(1<<i.extra)-1,E>>>=i.extra,I-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;Je=i.distcode[E&(1<<i.distbits)-1],pe=Je>>>24,Ne=Je>>>16&255,Ee=65535&Je,!(pe<=I);){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if((240&Ne)==0){for(ze=pe,dn=Ne,Ce=Ee;Je=i.distcode[Ce+((E&(1<<ze+dn)-1)>>ze)],pe=Je>>>24,Ne=Je>>>16&255,Ee=65535&Je,!(ze+pe<=I);){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}E>>>=ze,I-=ze,i.back+=ze}if(E>>>=pe,I-=pe,i.back+=pe,64&Ne){s.msg="invalid distance code",i.mode=ti;break}i.offset=Ee,i.extra=15&Ne,i.mode=16203;case 16203:if(i.extra){for(ar=i.extra;I<ar;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}i.offset+=E&(1<<i.extra)-1,E>>>=i.extra,I-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){s.msg="invalid distance too far back",i.mode=ti;break}i.mode=16204;case 16204:if(b===0)break e;if(K=Y-b,i.offset>K){if(K=i.offset-K,K>i.whave&&i.sane){s.msg="invalid distance too far back",i.mode=ti;break}K>i.wnext?(K-=i.wnext,ce=i.wsize-K):ce=i.wnext-K,K>i.length&&(K=i.length),ae=i.window}else ae=u,ce=_-i.offset,K=i.length;K>b&&(K=b),b-=K,i.length-=K;do u[_++]=ae[ce++];while(--K);i.length===0&&(i.mode=16200);break;case 16205:if(b===0)break e;u[_++]=i.length,b--,i.mode=16200;break;case 16206:if(i.wrap){for(;I<32;){if(g===0)break e;g--,E|=d[p++]<<I,I+=8}if(Y-=b,s.total_out+=Y,i.total+=Y,4&i.wrap&&Y&&(s.adler=i.check=i.flags?Hi(i.check,u,Y,_-Y):pp(i.check,u,Y,_-Y)),Y=b,4&i.wrap&&(i.flags?E:dI(E))!==i.check){s.msg="incorrect data check",i.mode=ti;break}E=0,I=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;I<32;){if(g===0)break e;g--,E+=d[p++]<<I,I+=8}if(4&i.wrap&&E!==(4294967295&i.total)){s.msg="incorrect length check",i.mode=ti;break}E=0,I=0}i.mode=16208;case 16208:rn=SY;break e;case ti:rn=sI;break e;case 16210:return oI;default:return Hs}return s.next_out=_,s.avail_out=b,s.next_in=p,s.avail_in=g,i.hold=E,i.bits=I,(i.wsize||Y!==s.avail_out&&i.mode<ti&&(i.mode<16206||l!==aI))&&_I(s,s.output,s.next_out,Y-s.avail_out),U-=s.avail_in,Y-=s.avail_out,s.total_in+=U,s.total_out+=Y,i.total+=Y,4&i.wrap&&Y&&(s.adler=i.check=i.flags?Hi(i.check,u,Y,s.next_out-Y):pp(i.check,u,Y,s.next_out-Y)),s.data_type=i.bits+(i.last?64:0)+(i.mode===16191?128:0)+(i.mode===16199||i.mode===16194?256:0),(U===0&&Y===0||l===aI)&&rn===Hc&&(rn=CY),rn},inflateEnd:s=>{if(Bc(s))return Hs;let l=s.state;return l.window&&(l.window=null),s.state=null,Hc},inflateGetHeader:(s,l)=>{if(Bc(s))return Hs;const i=s.state;return(2&i.wrap)==0?Hs:(i.head=l,l.done=!1,Hc)},inflateSetDictionary:(s,l)=>{const i=l.length;let d,u,p;return Bc(s)?Hs:(d=s.state,d.wrap!==0&&d.mode!==16190?Hs:d.mode===16190&&(u=1,u=pp(u,l,i,0),u!==d.check)?sI:(p=_I(s,l,i,i),p?(d.mode=16210,oI):(d.havedict=1,Hc)))},inflateInfo:"pako inflate (from Nodeca project)"},AY=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const mI=Object.prototype.toString,{Z_NO_FLUSH:OY,Z_FINISH:RY,Z_OK:Ep,Z_STREAM_END:B2,Z_NEED_DICT:$2,Z_STREAM_ERROR:MY,Z_DATA_ERROR:vI,Z_MEM_ERROR:DY}=Pc;function wp(s){this.options=eI({chunkSize:65536,windowBits:15,to:""},s||{});const l=this.options;l.raw&&l.windowBits>=0&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),!(l.windowBits>=0&&l.windowBits<16)||s&&s.windowBits||(l.windowBits+=32),l.windowBits>15&&l.windowBits<48&&(15&l.windowBits)==0&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rI,this.strm.avail_out=0;let i=Cl.inflateInit2(this.strm,l.windowBits);if(i!==Ep)throw new Error(Uc[i]);if(this.header=new AY,Cl.inflateGetHeader(this.strm,this.header),l.dictionary&&(typeof l.dictionary=="string"?l.dictionary=U2(l.dictionary):mI.call(l.dictionary)==="[object ArrayBuffer]"&&(l.dictionary=new Uint8Array(l.dictionary)),l.raw&&(i=Cl.inflateSetDictionary(this.strm,l.dictionary),i!==Ep)))throw new Error(Uc[i])}function z2(s,l){const i=new wp(l);if(i.push(s),i.err)throw i.msg||Uc[i.err];return i.result}wp.prototype.push=function(s,l){const i=this.strm,d=this.options.chunkSize,u=this.options.dictionary;let p,_,g;if(this.ended)return!1;for(_=l===~~l?l:l===!0?RY:OY,mI.call(s)==="[object ArrayBuffer]"?i.input=new Uint8Array(s):i.input=s,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(d),i.next_out=0,i.avail_out=d),p=Cl.inflate(i,_),p===$2&&u&&(p=Cl.inflateSetDictionary(i,u),p===Ep?p=Cl.inflate(i,_):p===vI&&(p=$2));i.avail_in>0&&p===B2&&i.state.wrap>0&&s[i.next_in]!==0;)Cl.inflateReset(i),p=Cl.inflate(i,_);switch(p){case MY:case vI:case $2:case DY:return this.onEnd(p),this.ended=!0,!1}if(g=i.avail_out,i.next_out&&(i.avail_out===0||p===B2))if(this.options.to==="string"){let b=dY(i.output,i.next_out),E=i.next_out-b,I=lY(i.output,b);i.next_out=E,i.avail_out=d-E,E&&i.output.set(i.output.subarray(b,b+E),0),this.onData(I)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(p!==Ep||g!==0){if(p===B2)return p=Cl.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,!0;if(i.avail_in===0)break}}return!0},wp.prototype.onData=function(s){this.chunks.push(s)},wp.prototype.onEnd=function(s){s===Ep&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=nI(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};var LY={Inflate:wp,inflate:z2,inflateRaw:function(s,l){return(l=l||{}).raw=!0,z2(s,l)},ungzip:z2,constants:Pc};const{Deflate:UY,deflate:PY,deflateRaw:FY,gzip:HY}=gY,{Inflate:BY,inflate:$Y,inflateRaw:zY,ungzip:VY}=LY;var qo,GY={Deflate:UY,deflate:PY,deflateRaw:FY,gzip:HY,Inflate:BY,inflate:$Y,inflateRaw:zY,ungzip:VY,constants:Pc};(function(s){s.CONNECTING="CONNECTING",s.OPEN="OPEN",s.CLOSED="CLOSED"})(qo||(qo={}));var cr,qY=function(s){function l(i,d){var u=d.sdkState,p=d.dispatcher,_=d.logger,g=s.call(this)||this;return g.lastActive=0,g._iid=i,g._sdkState=u,g._dispatcher=p,g._logger=_,g}return fe(l,s),Object.defineProperty(l.prototype,"isOpen",{get:function(){return this.connectionState===qo.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return qo.CONNECTING;case 1:return qo.OPEN}return qo.CLOSED},enumerable:!1,configurable:!0}),l.prototype._handleMessage=function(i){var d=this;i.split(`
`).forEach(function(u){if(u){var p=Vr.createFromRawMessage(d._iid,u);d._logger.debug("receive websocket event",p),p.code==="LOGI"?d.dispatch("message",p):p.code==="PONG"?d.dispatch("pong"):p.code==="EXPR"?p.payload&&p.payload.expires_in>=0&&d._dispatcher.dispatch(new Cm):p.code==="NOOP"||d.dispatch("message",p)}})},l.prototype.connect=function(i){var d=this;this._ws=new WebSocket(i),this._ws.onopen=function(){d._logger.debug("websocket open"),d.dispatch("open")},this._ws.onmessage=function(u){return Z(d,void 0,void 0,function(){var p,_,g=this;return X(this,function(b){return!((_=this._sdkState.websocket)===null||_===void 0)&&_.compression?u.data instanceof Blob?((p=new FileReader).readAsArrayBuffer(u.data),p.onloadend=function(){return Z(g,void 0,void 0,function(){var E;return X(this,function(I){switch(I.label){case 0:return[4,(U=p.result,Z(void 0,void 0,void 0,function(){var Y;return X(this,function(K){return Y=GY.ungzip(U),[2,String.fromCharCode.apply(null,Y)]})}))];case 1:return E=I.sent(),this._handleMessage(E),[2]}var U})})}):typeof u.data=="string"&&this._handleMessage(u.data):this._handleMessage(u.data),[2]})})},this._ws.onerror=function(){d._logger.debug("websocket error"),d.dispatch("error",Qe.networkError)},this._ws.onclose=function(){d._logger.debug("websocket close"),d.dispatch("close")},this.lastActive=Date.now()},l.prototype.disconnect=function(){var i=this;return new Promise(function(d){i._logger.debug("websocket disconnect"),i._ws&&i.connectionState!==qo.CLOSED?(i._ws.onopen=Dt,i._ws.onmessage=Dt,i._ws.onerror=Dt,i._ws.onclose=function(){i.dispatch("close"),d()},i._ws.close(),i._ws=null):d()})},l.prototype.send=function(i){if(!this._ws)throw Qe.connectionClosed;i.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",i),this._ws.send(i.convertToMessage())},l.prototype.error=function(i){this._logger.debug("websocket error",i),this.dispatch("error",i)},l}(op),po=function(s){function l(i){var d,u=i.code,p=i.ackRequired,_=i.payload,g=_===void 0?null:_,b=this;return(b=s.call(this)||this).code=u,b.payload=g,b.requestId=(d=b.payload.req_id)!==null&&d!==void 0?d:gh(),b.ackRequired=p,b.payload.req_id=b.requestId,b}return fe(l,s),l.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},l}(Ti),gI=function(s){function l(i){var d=i.all,u=i.custom_types,p=i.ts,_=s.call(this)||this;return _.all=d,_.customTypes=u,_.ts=p,_}return fe(l,s),l}(Ti),Pa=function(){var s=this;this.promise=new Promise(function(l,i){s.resolve=l,s.reject=i})},jY=function(){function s(l,i){var d=i.auth,u=i.sdkState,p=i.dispatcher,_=i.logger,g=this;this._ackStateMap=new Map,this._sdkState=u,this._dispatcher=p,this._logger=_,this.apiClient=new VQ(l,{auth:d,sdkState:u,dispatcher:p,logger:_}),this.websocketClient=new qY(l,{sdkState:u,dispatcher:p,logger:_}),this.websocketClient.on("message",function(b){if(b.payload.unread_cnt&&g._dispatcher.dispatch(new gI(b.payload.unread_cnt)),b.requestId){if(g._ackStateMap.has(b.requestId)){var E=g._ackStateMap.get(b.requestId);b.code!=="EROR"?E.resolve(b):E.reject(new Qe({code:b.payload.code,message:b.payload.message}))}}else g._dispatcher.dispatch(b)}).on("close",function(){g._ackStateMap.forEach(function(b){b.reject(Qe.connectionClosed)}),g._ackStateMap.clear()})}return s.prototype._sendApiRequest=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this.apiClient.send(l)];case 1:return[2,i.sent()]}})})},s.prototype._sendWebsocketRequest=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p=this;return X(this,function(_){if(i=new Pa,l.ackRequired){d=null,u=function(g,b){g===void 0&&(g=null),b===void 0&&(b=null),p._ackStateMap.has(l.requestId)&&(p._ackStateMap.delete(l.requestId),d&&(clearTimeout(d),d=null),g?(p._logger.debug("fail websocket request",g),i.reject(g)):(p._logger.debug("receive websocket ack",l.requestId),i.resolve(b)))};try{d=setTimeout(function(){return u(Qe.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(l.requestId,{resolve:function(g){return u(null,g)},reject:function(g){return u(g)}}),this.websocketClient.send(l)}catch(g){u(g)}}else try{this.websocketClient.send(l),i.resolve(null)}catch(g){i.reject(g)}return[2,i.promise]})})},s.prototype.send=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return l instanceof On?[4,this._sendApiRequest(l)]:[3,2];case 1:case 3:return[2,i.sent()];case 2:return l instanceof po?[4,this._sendWebsocketRequest(l)]:[3,4];case 4:throw Qe.invalidParameters}})})},s.prototype.cancel=function(l){this.apiClient.cancel(l)},s.prototype.cancelAll=function(){this.apiClient.cancelAll()},s}();(function(s){s[s.NONE=0]="NONE",s[s.INITIALIZED=1]="INITIALIZED",s[s.CONNECTING=2]="CONNECTING",s[s.CONNECTED=3]="CONNECTED",s[s.RECONNECTING=4]="RECONNECTING",s[s.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",s[s.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",s[s.LOGOUT=7]="LOGOUT"})(cr||(cr={}));var $c=function(s){function l(i){var d=i.stateType,u=s.call(this)||this;return u.stateType=d,u}return fe(l,s),l}(Ti),KY=function(){function s(l,i){var d=i.auth,u=i.sdkState,p=i.dispatcher,_=i.logger,g=this;this._currentConnectionStateType=cr.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new jY(l,{auth:d,sdkState:u,dispatcher:p,logger:_}),this._auth=d,this._logger=_,this._dispatcher=p,this._dispatcher.on(function(b){if(b instanceof $c){var E=b.stateType;switch(g._currentConnectionStateType=E,E){case cr.CONNECTED:var I=g._lazyCallQueue;g._lazyCallQueue=[],I.forEach(function(U){return Z(g,void 0,void 0,function(){var Y,K,ce,ae,pe;return X(this,function(Ne){switch(Ne.label){case 0:Y=U.command,K=U.deferred,ce=U.timeout,clearTimeout(ce),Ne.label=1;case 1:return Ne.trys.push([1,3,,4]),[4,this.send(Y)];case 2:return ae=Ne.sent(),K.resolve(ae),[3,4];case 3:return pe=Ne.sent(),K.reject(pe),[3,4];case 4:return[2]}})})});break;case cr.INITIALIZED:case cr.INTERNAL_DISCONNECTED:case cr.EXTERNAL_DISCONNECTED:case cr.LOGOUT:I=g._lazyCallQueue,g._lazyCallQueue=[],I.forEach(function(U){return Z(g,void 0,void 0,function(){var Y,K;return X(this,function(ce){return Y=U.deferred,K=U.timeout,clearTimeout(K),this._auth&&this._auth.hasSession?Y.reject(Qe.connectionClosed):Y.reject(Qe.connectionRequired),[2]})})})}}})}return Object.defineProperty(s.prototype,"isReady",{get:function(){return this._currentConnectionStateType===cr.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===cr.CONNECTING||this._currentConnectionStateType===cr.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype.send=function(l){return Z(this,void 0,void 0,function(){var i,d,u=this;return X(this,function(p){switch(p.label){case 0:return l instanceof po?this.isReady?(this._logger.debug("send websocket request",l),[4,this.commandRouter.send(l)]):[3,2]:[3,4];case 1:case 5:return[2,p.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",l),i=new Pa,this._lazyCallQueue.push({command:l,deferred:i,timeout:setTimeout(function(){return u.timeout(l.requestId)},1e4)}),[2,i.promise];throw this._logger.debug("fail websocket request"),Qe.connectionRequired;case 3:return[3,7];case 4:return l instanceof On?this._auth.hasSession?(this._logger.debug("send api request",l),[4,this.commandRouter.send(l)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",l),i=new Pa,this._lazyCallQueue.push({command:l,deferred:i,timeout:setTimeout(function(){return u.timeout(l.requestId)},1e4)}),[2,i.promise];throw d=Qe.connectionRequired,this._logger.debug("fail api request",d),d;case 7:return[2]}})})},s.prototype.forceSend=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this._logger.debug("send forced request",l),[4,this.commandRouter.send(l)];case 1:return[2,i.sent()]}})})},s.prototype.timeout=function(l){this._logger.debug("timeout request",l);var i=this._lazyCallQueue.findIndex(function(d){return d.command.requestId===l});i>-1&&(this._lazyCallQueue[i].deferred.reject(Qe.connectionRequired),this._lazyCallQueue.splice(i,1))},s.prototype.cancel=function(l){this._logger.debug("cancel api request",l),this.commandRouter.cancel(l)},s.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},s}(),V2=function(){function s(l){var i=l.type,d=l.token;this.type=i,this.token=d}return s.payloadify=function(l){return{type:l.type,token:l.token}},s}(),nr="/".concat("v3","/users"),WY="/".concat("v3","/storage/file"),bI="/".concat("v3","/group_channels"),zc="/".concat("v3","/open_channels"),QY="/".concat("v3","/sdk/open_channels"),YY="/".concat("v3","/search"),G2="/".concat("v3","/report"),XY="/".concat("v3","/emojis"),yI="/".concat("v3","/emoji_categories"),fo="/".concat("v3","/polls"),ZY="/".concat("v3","/sdk/statistics"),JY=function(s){function l(i){var d=i.userId,u=i.authToken,p=i.expiringSession,_=p===void 0||p,g=s.call(this)||this;return g.path="".concat(nr,"/").concat(d,"/session_key"),g.method=Nn.POST,g.params={token:u,expiring_session:!!_},g.requireAuth=!1,g}return fe(l,s),l}(On),eX=function(s){function l(i){var d=i.authToken,u=i.expiringSession,p=u===void 0||u,_=i.requestId,g=_===void 0?null:_;return s.call(this,{code:"LOGI",payload:{token:d,expiring_session:p?1:0,req_id:g},ackRequired:!0})||this}return fe(l,s),l}(po),nX=function(s){function l(i,d){var u=s.call(this,i,d)||this,p=d.key;return u.key=p,u}return fe(l,s),l}(Pn),tX=function(s){function l(i,d,u){var p=s.call(this,i,"LOGI",u)||this;return p.error=null,p.newKey=u.new_key,p.error=u.error?new Qe(u.error):null,p}return fe(l,s),l}(Vr),EI=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return fe(l,s),l}(Ti),jo=function(s){return Z(void 0,void 0,void 0,function(){return X(this,function(l){return[2,new Promise(function(i){return setTimeout(i,s)})]})})},wI=function(){function s(){}return s.prototype.calcTimeout=function(){return 0},s}(),q2=function(s,l,i){return i===void 0&&(i=new wI),Z(void 0,void 0,void 0,function(){var d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:d=0,u=null,p=function(I){return I===void 0&&(I=null),u=I!=null?I:new Error("Halted")},_=function(){d=0},E.label=1;case 1:if(!(l===-1||d<l))return[3,9];E.label=2;case 2:return E.trys.push([2,4,,8]),[4,s(p,_)];case 3:if(g=E.sent(),u)throw u;return[2,g];case 4:if(b=E.sent(),u)return[3,6];if(++d===l)throw b;return[4,jo(i.calcTimeout(d))];case 5:return E.sent(),[3,7];case 6:throw u;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},Bt=function(s){return Z(void 0,void 0,void 0,function(){var l;return X(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s()];case 1:return i.sent(),[3,3];case 2:if(!((l=i.sent())instanceof Qe))throw l;return l.throwOutside(),[3,3];case 3:return[2]}})})},wh=function(s){return Z(void 0,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,s()];case 1:case 2:return l.sent(),[3,3];case 3:return[2]}})})},j2=new WeakMap,rX=function(s){function l(i){var d=i.auth,u=i.cacheContext,p=i.sdkState,_=i.dispatcher,g=i.requestQueue,b=i.logger,E=s.call(this)||this;return E._currentConnectionStateType=cr.INITIALIZED,E._deviceTokenCacheEnabled=!1,E._isRefreshingAuthToken=!1,E._isRefreshingSessionKey=!1,E.auth=d,E._cacheContext=u,E._sdkState=p,E._dispatcher=_,E._requestQueue=g,E._logger=b,E._deviceTokens=[],E._dispatcher.on(function(I){if(I instanceof $c){var U=I.stateType;E._currentConnectionStateType=U}else I instanceof Cm&&E.handler&&(E._logger.debug("session expired"),E.handler.onSessionExpired(),E.refresh())}),E}return fe(l,s),Object.defineProperty(l.prototype,"ekey",{get:function(){return j2.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),l.prototype.indexOfDeviceToken=function(i,d){return this._deviceTokens.findIndex(function(u){return u.type===i&&u.token===d})},l.prototype.hasDeviceToken=function(i,d){return!1},l.prototype.createRefreshWebsocketCommand=function(i,d){return d===void 0&&(d=null),new eX({authToken:i,expiringSession:!0,requestId:d})},l.prototype._refreshSessionKeyByWebSocket=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return d=this.createRefreshWebsocketCommand(i),[4,this._requestQueue.forceSend(d)];case 1:if(u=b.sent(),p=u.as(tX),_=p.newKey,g=p.error)throw g;return this.auth.sessionKey=_!=null?_:this.auth.sessionKey,[2]}})})},l.prototype._refreshSessionKeyByApi=function(i){return Z(this,void 0,void 0,function(){var d,u=this;return X(this,function(p){switch(p.label){case 0:return d=new JY({userId:this._sdkState.userId,authToken:i,expiringSession:!0}),[4,q2(function(_){return Z(u,void 0,void 0,function(){var g,b,E;return X(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(d)];case 1:return g=I.sent(),b=g.as(nX).key,this.auth.sessionKey=b,[3,3];case 2:if(E=I.sent(),!this._isSessionRelatedError(E))throw E;return _(E),[3,3];case 3:return[2]}})})},3)];case 1:return p.sent(),[2]}})})},l.prototype._refreshSessionKey=function(i,d){return d===void 0&&(d=!0),Z(this,void 0,void 0,function(){var u,p,_,g;return X(this,function(b){switch(b.label){case 0:if(this._currentConnectionStateType!==cr.CONNECTED)return[3,10];b.label=1;case 1:return b.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(i)];case 2:return b.sent(),this.complete(),[2];case 3:return u=b.sent(),this._isSessionRelatedError(u)&&d?(p=this.auth,[4,this._receiveNewAuthToken()]):[3,9];case 4:return p.authToken=b.sent(),this.auth.authToken?[4,this._refreshSessionKey(this.auth.authToken,!1)]:[3,6];case 5:return b.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:b.sent(),this.close(),b.label=8;case 8:return[2];case 9:return[3,10];case 10:return b.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(i)];case 11:return b.sent(),this.complete(),[3,22];case 12:return _=b.sent(),this._isSessionRelatedError(_)?d?(g=this.auth,[4,this._receiveNewAuthToken()]):[3,18]:[3,20];case 13:return g.authToken=b.sent(),this.auth.authToken?[4,this._refreshSessionKeyByApi(this.auth.authToken)]:[3,15];case 14:return b.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:b.sent(),this.close(),b.label=17;case 17:return[3,19];case 18:throw _;case 19:return[3,21];case 20:throw _;case 21:return[3,22];case 22:return[2]}})})},l.prototype._receiveNewAuthToken=function(){var i=this,d=new Pa;return Bt(function(){return Z(i,void 0,void 0,function(){var u,p,_=this;return X(this,function(g){return this._isRefreshingAuthToken=!0,this.auth.clear(),u=null,p=function(){u&&(clearTimeout(u),u=null)},u=setTimeout(function(){_._isRefreshingAuthToken=!1,d.reject()},1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired(function(b){p(),_._isRefreshingAuthToken&&(_._isRefreshingAuthToken=!1,_.dispatch("refresh-authtoken"),d.resolve(b))},function(b){p(),_._isRefreshingAuthToken=!1,d.reject(b)}),[2]})})}),d.promise},l.prototype._isSessionRelatedError=function(i){return i instanceof Qe&&(i.isSessionKeyExpiredError||i.isSessionTokenExpiredError)},Object.defineProperty(l.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),l.prototype.login=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return this.auth.sessionKey=i.key,j2.set(this,i.ekey),d=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,d.get("sendbird@devicetokens")]:[3,4];case 1:return!(u=p.sent())||u.lastDeletedAt<i.deviceTokenLastDeletedAt?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=i.deviceTokenLastDeletedAt,[4,this.saveDeviceToken()]):[3,3];case 2:return p.sent(),[3,4];case 3:this._deviceTokens=u.tokens.map(function(_){return new V2(V2.payloadify(_))}),this._deviceTokenLastDeletedAt=u.lastDeletedAt,p.label=4;case 4:return[2]}})})},l.prototype.complete=function(){var i=this;this.dispatch("refresh"),Bt(function(){return Z(i,void 0,void 0,function(){return X(this,function(d){return this._logger.debug("session refreshed"),this.handler.onSessionRefreshed(),[2]})})})},l.prototype.error=function(i){var d=this;Bt(function(){return Z(d,void 0,void 0,function(){return X(this,function(u){return this.handler.onSessionError(i),[2]})})})},l.prototype.close=function(){var i=this;this.dispatch("close"),Bt(function(){return Z(i,void 0,void 0,function(){return X(this,function(d){return this._logger.debug("session closed"),this.handler.onSessionClosed(),[2]})})})},l.prototype.refresh=function(){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];u.label=1;case 1:return u.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(i=u.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=i,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return u.sent(),this.close(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw u.sent(),d=Qe.sessionTokenRequestFailed,this._dispatcher.dispatch(new EI),this.error(d),this._isRefreshingSessionKey=!1,d;case 7:return u.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return u.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw u.sent(),d=Qe.sessionTokenRefreshFailed,this._dispatcher.dispatch(new EI),this.error(d),this._isRefreshingSessionKey=!1,d;case 10:return[2]}})})},l.prototype.setDeviceToken=function(i,d){return this.indexOfDeviceToken(i,d)<0&&(this._deviceTokens.push(new V2({type:i,token:d})),!0)},l.prototype.unsetDeviceToken=function(i,d){var u=this.indexOfDeviceToken(i,d);u>=0&&this._deviceTokens.splice(u,1)},l.prototype.unsetDeviceTokens=function(i){this._deviceTokens=this._deviceTokens.filter(function(d){return d.type!==i})},l.prototype.setDeviceTokenDeletedAt=function(i){i>0&&(this._deviceTokenLastDeletedAt=i)},l.prototype.saveDeviceToken=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set("sendbird@devicetokens",{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},l.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.currentUser=null,this.auth.clear(),j2.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return i.sent(),[2]}})})},l}(op),Vc=function(){function s(){this.type=cr.NONE,this.name="none"}return s.prototype.run=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2]})})},s.prototype.onConnect=function(l,i){return Z(this,void 0,void 0,function(){return X(this,function(d){return[2]})})},s.prototype.onReconnect=function(l,i){return i.resetReconnectCount,Z(this,void 0,void 0,function(){return X(this,function(d){return[2]})})},s.prototype.onDisconnect=function(l,i){return i.error,i.autoReconnect,Z(this,void 0,void 0,function(){return X(this,function(d){return[2]})})},s.prototype.onDisconnectWebSocket=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2]})})},s.prototype.onLogout=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2]})})},s}(),Gc=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=cr.LOGOUT,i.name="logout",i}return fe(l,s),l.prototype.run=function(i){return Z(this,void 0,void 0,function(){var d,u,p=this;return X(this,function(_){switch(_.label){case 0:return d=Date.now(),u=i.sdkState.userId,[4,i.logout()];case 1:return _.sent(),[4,i.changeState(new K2,d)];case 2:return _.sent(),Bt(function(){return Z(p,void 0,void 0,function(){return X(this,function(g){return i.connectionHandlers.forEach(function(b){b.onDisconnected(u)}),[2]})})}),[2]}})})},l}(Vc),Dm=function(s){function l(){var i=s.call(this)||this;return i.type=cr.EXTERNAL_DISCONNECTED,i.name="externaldisconnected",i}return fe(l,s),l.prototype.run=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){switch(d.label){case 0:return[4,i.disconnect()];case 1:return d.sent(),[2]}})})},l.prototype.onConnect=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Date.now(),[4,i.disconnect()];case 1:return p.sent(),[4,i.changeState(new Pm({authToken:d}),u)];case 2:return p.sent(),[2]}})})},l.prototype.onReconnect=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),[4,i.changeState(new Um,d)];case 1:return u.sent(),[2]}})})},l.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),[4,i.changeState(new Gc,d)];case 1:return u.sent(),[2]}})})},l}(Vc),Lm=function(s){function l(i){var d=i.autoReconnect,u=s.call(this)||this;return u.type=cr.INTERNAL_DISCONNECTED,u.name="internaldisconnected",u._autoReconnect=!1,u._autoReconnect=d,u}return fe(l,s),l.prototype.run=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),[4,i.disconnect()];case 1:return u.sent(),this._autoReconnect?[4,i.changeState(new Um,d)]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2]}})})},l.prototype.onConnect=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Date.now(),[4,i.disconnect()];case 1:return p.sent(),[4,i.changeState(new Pm({authToken:d}),u)];case 2:return p.sent(),[2]}})})},l.prototype.onReconnect=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),[4,i.changeState(new Um,d)];case 1:return u.sent(),[2]}})})},l.prototype.onDisconnectWebSocket=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),[4,i.changeState(new Dm,d)];case 1:return u.sent(),[2]}})})},l.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),[4,i.changeState(new Gc,d)];case 1:return u.sent(),[2]}})})},l}(Vc),Um=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=cr.RECONNECTING,i.name="reconnecting",i._haltConnect=null,i._resetConnect=null,i._callbacks=[],i}return fe(l,s),l.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=null)},l.prototype._flushCallbacks=function(i){i===void 0&&(i=null),this._haltConnect=null,this._resetConnect=null,this._callbacks.forEach(function(d){return d(i)})},l.prototype.run=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b,E=this;return X(this,function(I){switch(I.label){case 0:d=Date.now(),u=new Pa,this._callbacks.push(function(U){return U?u.reject(U):u.resolve()}),Bt(function(){return Z(E,void 0,void 0,function(){return X(this,function(U){return i.connectionHandlers.forEach(function(Y){Y.onReconnectStarted()}),[2]})})}),I.label=1;case 1:return I.trys.push([1,4,,9]),p=i.sdkState.websocket,_=p.reconnectMaxRetry,g=p.reconnectRetryStrategy,[4,q2(function(U,Y){return Z(E,void 0,void 0,function(){var K;return X(this,function(ce){switch(ce.label){case 0:this._haltConnect=U,this._resetConnect=Y,ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,i.connect()];case 2:return ce.sent(),[3,4];case 3:if(K=ce.sent(),i.clearLoginTimer(),K instanceof Qe&&K.code===Mt.CONNECTION_CANCELED)return U(K),[2];throw K;case 4:return[2]}})})},_,g)];case 2:return I.sent(),[4,i.changeState(new xI,d)];case 3:return I.sent(),Bt(function(){return Z(E,void 0,void 0,function(){return X(this,function(U){return this._flushCallbacks(null),i.connectionHandlers.forEach(function(Y){Y.onReconnectSucceeded()}),[2]})})}),[3,9];case 4:return b=I.sent(),Lc(b)?[3,7]:b instanceof Qe?b.code===Mt.CONNECTION_CANCELED?[3,6]:[4,i.changeState(new Lm({autoReconnect:!1}),d)]:[3,6];case 5:I.sent(),I.label=6;case 6:return Bt(function(){return Z(E,void 0,void 0,function(){return X(this,function(U){return this._flushCallbacks(b),i.connectionHandlers.forEach(function(Y){Y.onReconnectFailed()}),[2]})})}),[3,8];case 7:throw b;case 8:return[3,9];case 9:return[2,u.promise]}})})},l.prototype.onConnect=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){return u=new Pa,this._halt(Qe.connectionCanceled),i.cancelConnectForRetry(),this._callbacks.push(function(){var _=Date.now();i.changeState(new Pm({authToken:d}),_).then(function(){u.resolve()}).catch(function(g){u.reject(g)})}),[2,u.promise]})})},l.prototype.onReconnect=function(i,d){var u=d.resetReconnectCount,p=u!==void 0&&u;return Z(this,void 0,void 0,function(){var _;return X(this,function(g){return _=new Pa,this._resetConnect&&p&&this._resetConnect(),this._callbacks.push(function(b){return b?_.reject(b):_.resolve()}),[2,_.promise]})})},l.prototype.onDisconnect=function(i,d){d.error;var u=d.autoReconnect,p=u===void 0||u;return Z(this,void 0,void 0,function(){var _;return X(this,function(g){switch(g.label){case 0:return _=Date.now(),this._halt(Qe.connectionCanceled),[4,i.changeState(new Lm({autoReconnect:p}),_)];case 1:return g.sent(),[2]}})})},l.prototype.onDisconnectWebSocket=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),this._halt(Qe.connectionCanceled),[4,i.changeState(new Dm,d)];case 1:return u.sent(),[2]}})})},l.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),this._halt(Qe.connectionCanceled),[4,i.changeState(new Gc,d)];case 1:return u.sent(),[2]}})})},l}(Vc),xI=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=cr.CONNECTED,i.name="connected",i}return fe(l,s),l.prototype.onReconnect=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),[4,i.disconnect()];case 1:return u.sent(),[4,i.changeState(new Um,d)];case 2:return u.sent(),[2]}})})},l.prototype.onDisconnect=function(i,d){var u=d.autoReconnect;return Z(this,void 0,void 0,function(){var p;return X(this,function(_){switch(_.label){case 0:return p=Date.now(),[4,i.changeState(new Lm({autoReconnect:u}),p)];case 1:return _.sent(),[2]}})})},l.prototype.onDisconnectWebSocket=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),[4,i.changeState(new Dm,d)];case 1:return u.sent(),[2]}})})},l.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),[4,i.changeState(new Gc,d)];case 1:return u.sent(),[2]}})})},l}(Vc),Pm=function(s){function l(i){var d=i.authToken,u=s.call(this)||this;return u.type=cr.CONNECTING,u.name="connecting",u._authToken="",u._haltConnect=null,u._callbacks=[],u._authToken=d,u}return fe(l,s),l.prototype._halt=function(i){this._haltConnect&&(this._haltConnect(i),this._haltConnect=null)},l.prototype._flushCallbacks=function(i){i===void 0&&(i=null),this._haltConnect=null,this._callbacks.forEach(function(d){return d(i)})},l.prototype.run=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_=this;return X(this,function(g){switch(g.label){case 0:d=Date.now(),u=new Pa,this._callbacks.push(function(b){return b?u.reject(b):u.resolve()}),g.label=1;case 1:return g.trys.push([1,4,,10]),[4,q2(function(b){return Z(_,void 0,void 0,function(){var E;return X(this,function(I){switch(I.label){case 0:this._haltConnect=b,I.label=1;case 1:return I.trys.push([1,3,,4]),[4,i.connect(this._authToken)];case 2:return I.sent(),[3,4];case 3:if(E=I.sent(),i.clearLoginTimer(),E instanceof Qe&&E.code===Mt.CONNECTION_CANCELED)return b(E),[2];throw E;case 4:return[2]}})})},i.sdkState.websocket.connectMaxRetry)];case 2:return g.sent(),[4,i.changeState(new xI,d)];case 3:return g.sent(),Bt(function(){return Z(_,void 0,void 0,function(){return X(this,function(b){return this._flushCallbacks(null),i.connectionHandlers.forEach(function(E){E.onConnected(i.sdkState.userId)}),[2]})})}),[3,10];case 4:return p=g.sent(),Lc(p)?[3,8]:[4,i.disconnect()];case 5:return g.sent(),p instanceof Qe?p.code===Mt.CONNECTION_CANCELED?[3,7]:[4,i.changeState(new K2,d)]:[3,7];case 6:g.sent(),g.label=7;case 7:return Bt(function(){return Z(_,void 0,void 0,function(){return X(this,function(b){return this._flushCallbacks(p),[2]})})}),[3,9];case 8:throw p;case 9:return[3,10];case 10:return[2,u.promise]}})})},l.prototype.onConnect=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){return d=new Pa,this._callbacks.push(function(p){return p?d.reject(p):d.resolve()}),[2,d.promise]})})},l.prototype.onDisconnect=function(i,d){var u=d.error,p=u===void 0?null:u,_=d.autoReconnect;return Z(this,void 0,void 0,function(){var g;return X(this,function(b){switch(b.label){case 0:return g=Date.now(),this._halt(p!=null?p:Qe.connectionCanceled),i.hasSession?[4,i.changeState(new Lm({autoReconnect:_}),g)]:[3,2];case 1:return b.sent(),[3,4];case 2:return[4,i.changeState(new Gc,g)];case 3:b.sent(),b.label=4;case 4:return[2]}})})},l.prototype.onDisconnectWebSocket=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),this._halt(Qe.connectionCanceled),i.hasSession?[4,i.changeState(new Dm,d)]:[3,2];case 1:return u.sent(),[3,4];case 2:return[4,i.changeState(new Gc,d)];case 3:u.sent(),u.label=4;case 4:return[2]}})})},l.prototype.onLogout=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=Date.now(),this._halt(Qe.connectionCanceled),[4,i.changeState(new Gc,d)];case 1:return u.sent(),[2]}})})},l}(Vc),K2=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.type=cr.INITIALIZED,i.name="initialized",i}return fe(l,s),l.prototype.onConnect=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=Date.now(),[4,i.changeState(new Pm({authToken:d}),u)];case 1:return p.sent(),[2]}})})},l}(Vc),iX=function(s){function l(){return s.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return fe(l,s),l}(po),aX=function(){function s(l){var i=l.pingDelegate,d=l.sdkState,u=l.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=i,this.sdkState=d,this._logger=u}return Object.defineProperty(s.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),s.prototype.ping=function(){var l,i=this,d=new iX;try{var u=(l=this.sdkState.websocket.pongTimeout)!==null&&l!==void 0?l:5e3;this._pingTimeoutTimer=setTimeout(function(){i._logger.debug("pinger.ping() timeout"),i.pingDelegate.error(null)},u),this.pingDelegate.send(d),this._logger.debug("pinger.ping()")}catch(p){this._logger.debug("pinger.ping() error",p),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return d},s.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},s.prototype.refreshTimer=function(){var l,i=this;this._logger.debug("pinger.refreshTimer()");var d=(l=this.sdkState.websocket.pingInterval)!==null&&l!==void 0?l:15e3;this.stop(),this._pingTimer=setInterval(function(){i.ping()},d)},s.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},s.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},s}(),kI=function(){function s(l){l===void 0&&(l={}),this.emojiHash=l.emoji_hash||"",this.uploadSizeLimit=l.file_upload_size_limit?1048576*l.file_upload_size_limit:Number.MAX_SAFE_INTEGER,this.useReaction=!!l.use_reaction,this.applicationAttributes=l.application_attributes||[],this.premiumFeatureList=l.premium_feature_list||[],this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history")}return s.payloadify=function(l){return{emoji_hash:l.emojiHash,file_upload_size_limit:l.uploadSizeLimit/1048576,application_attributes:l.applicationAttributes,premium_feature_list:l.premiumFeatureList,use_reaction:l.useReaction}},s}(),Ko=function(){function s(l){this._iid="",this._iid=l}return s.payloadify=function(l){return l?{}:null},s}(),sX=function(s){function l(i){var d=i.userId,u=i.metadata,p=s.call(this)||this;return p.method=Nn.POST,p.path="".concat(nr,"/").concat(d,"/metadata"),p.params={metadata:u},p}return fe(l,s),l}(On),oX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.metaData=d,u}return fe(l,s),l}(Pn),lX=function(s){function l(i){var d=i.userId,u=i.metadata,p=i.upsert,_=s.call(this)||this;return _.method=Nn.PUT,_.path="".concat(nr,"/").concat(d,"/metadata"),_.params={metadata:u,upsert:p},_}return fe(l,s),l}(On),dX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.metadata=d,u}return fe(l,s),l}(Pn),cX=function(s){function l(i){var d=i.userId,u=i.metadataKey,p=s.call(this)||this;return p.method=Nn.DELETE,p.path="".concat(nr,"/").concat(d,"/metadata/").concat(u),p}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var uX=function(s){function l(i){var d=i.userId,u=s.call(this)||this;return u.method=Nn.DELETE,u.path="".concat(nr,"/").concat(d,"/metadata"),u}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var xh,Fm=function(s,l){l===void 0&&(l=null);var i=JSON.parse(JSON.stringify(s));return i._iid&&delete i._iid,l&&l(i),i},xp=function(s,l){l===void 0&&(l=null);var i=JSON.parse(JSON.stringify(s));return l&&l(i),i},Fn=function(s){return{do:function(l){s||l()},throw:function(l){if(!s)throw l}}};(function(s){s.ONLINE="online",s.OFFLINE="offline",s.NON_AVAILABLE="nonavailable"})(xh||(xh={}));var qc,Lt=function(s){function l(i,d){var u,p,_,g,b,E,I,U,Y,K,ce,ae,pe=this;return(pe=s.call(this,i)||this).userId=(p=(u=d.guest_id)!==null&&u!==void 0?u:d.user_id)!==null&&p!==void 0?p:"",pe.nickname=(g=(_=d.nickname)!==null&&_!==void 0?_:d.name)!==null&&g!==void 0?g:"",pe.plainProfileUrl=(E=(b=d.profile_url)!==null&&b!==void 0?b:d.image)!==null&&E!==void 0?E:"",pe.requireAuth=(I=d.require_auth_for_profile_image)!==null&&I!==void 0&&I,pe.metaData=(U=d.metadata)!==null&&U!==void 0?U:{},pe.connectionStatus=xh.NON_AVAILABLE,Sr(xh,d.is_online)?pe.connectionStatus=d.is_online:Ve("boolean",d.is_online)&&(pe.connectionStatus=d.is_online?xh.ONLINE:xh.OFFLINE),pe.isActive=(Y=d.is_active)===null||Y===void 0||Y,pe.lastSeenAt=(K=d.last_seen_at)!==null&&K!==void 0?K:null,pe.preferredLanguages=d.preferred_languages?Br([],kr(d.preferred_languages),!1):null,pe.friendDiscoveryKey=(ce=d.friend_discovery_key)!==null&&ce!==void 0?ce:null,pe.friendName=(ae=d.friend_name)!==null&&ae!==void 0?ae:null,pe}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),{user_id:i.userId,nickname:i.nickname,profile_url:i.plainProfileUrl,require_auth_for_profile_image:i.requireAuth,metadata:i.metaData,is_online:i.connectionStatus,is_active:i.isActive,last_seen_at:i.lastSeenAt,preferred_languages:i.preferredLanguages,friend_discovery_key:i.friendDiscoveryKey,friend_name:i.friendName})):null},Object.defineProperty(l.prototype,"profileUrl",{get:function(){var i=sn.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(i.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),l.prototype.serialize=function(){return Fm(this)},l.prototype._isValidMetaData=function(i){return!Array.isArray(i)&&Object.keys(i).length>0&&Object.keys(i).map(function(d){return i[d]}).every(function(d){return Ve("string",d)})},l.prototype._applyMetaData=function(i,d){var u=this;d===void 0&&(d=!1),Object.keys(i).forEach(function(p){d?delete u.metaData[p]:u.metaData[p]=i[p]})},l.prototype.createMetaData=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:return Fn(this._isValidMetaData(i)).throw(Qe.invalidParameters),d=sn.of(this._iid),u=d.sdkState,p=d.requestQueue,_=new sX({userId:u.userId,metadata:i}),[4,p.send(_)];case 1:return g=E.sent(),b=g.as(oX).metaData,this._applyMetaData(b),[2,this.metaData]}})})},l.prototype.updateMetaData=function(i,d){return d===void 0&&(d=!1),Z(this,void 0,void 0,function(){var u,p,_,g,b,E;return X(this,function(I){switch(I.label){case 0:return Fn(this._isValidMetaData(i)).throw(Qe.invalidParameters),u=sn.of(this._iid),p=u.sdkState,_=u.requestQueue,g=new lX({userId:p.userId,metadata:i,upsert:d}),[4,_.send(g)];case 1:return b=I.sent(),E=b.as(dX).metadata,this._applyMetaData(E),[2,this.metaData]}})})},l.prototype.deleteMetaData=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return Fn(Ve("string",i)).throw(Qe.invalidParameters),d=sn.of(this._iid),u=d.sdkState,p=d.requestQueue,_=new cX({userId:u.userId,metadataKey:i}),[4,p.send(_)];case 1:return b.sent(),this._applyMetaData(((g={})[i]=!0,g),!0),[2,this.metaData]}})})},l.prototype.deleteAllMetaData=function(){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new uX({userId:d.userId}),[4,u.send(p)];case 1:return _.sent(),this.metaData={},[2]}})})},l}(Ko),SI=function(s){function l(i){var d=i.userProfile,u=s.call(this)||this;return u.userProfile=d,u}return fe(l,s),l}(Ti),W2=function(){function s(l,i){var d,u,p,_,g,b,E,I,U,Y,K,ce,ae,pe;this._iid=l,this.appInfo=new kI(i),this.user=new Lt(l,i),this.connectedAt=(d=i.login_ts)!==null&&d!==void 0?d:0,this.firstConnectedAt=0,this.pingInterval=(u=i.ping_interval)!==null&&u!==void 0?u:15e3,this.pongTimeout=(p=i.pong_timeout)!==null&&p!==void 0?p:5e3,this.reconnectInterval=(g=(_=i.reconnect)===null||_===void 0?void 0:_.interval)!==null&&g!==void 0?g:3e3,this.reconnectMaxInterval=(E=(b=i.reconnect)===null||b===void 0?void 0:b.max_interval)!==null&&E!==void 0?E:6e4,this.reconnectRetryCount=(U=(I=i.reconnect)===null||I===void 0?void 0:I.retry_cnt)!==null&&U!==void 0?U:5,this.reconnectIntervalMultiple=(K=(Y=i.reconnect)===null||Y===void 0?void 0:Y.mul)!==null&&K!==void 0?K:2,this.maxUnreadCountOnSuperGroup=(ce=i.max_unread_cnt_on_super_group)!==null&&ce!==void 0?ce:100,this.profileImageEncryption=!!i.profile_image_encryption,this.concurrentCallLimit=(ae=i.concurrent_call_limit)!==null&&ae!==void 0?ae:5,this.backOffDelay=(pe=i.back_off_delay)!==null&&pe!==void 0?pe:100}return s.payloadify=function(l){return $e($e($e({},Lt.payloadify(l.user)),kI.payloadify(l.appInfo)),{login_ts:l.connectedAt,ping_interval:l.pingInterval,pong_timeout:l.pongTimeout,reconnect:{interval:l.reconnectInterval,max_interval:l.reconnectMaxInterval,retry_cnt:l.reconnectRetryCount,mul:l.reconnectIntervalMultiple},max_unread_cnt_on_super_group:l.maxUnreadCountOnSuperGroup,profile_image_encryption:l.profileImageEncryption,concurrent_call_limit:l.concurrentCallLimit,back_off_delay:l.backOffDelay})},s.prototype.apply=function(){var l=this.reconnectInterval,i=this.reconnectMaxInterval,d=this.reconnectIntervalMultiple,u=sn.of(this._iid);u.sdkState.websocket.pingInterval=1e3*this.pingInterval,u.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,u.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,u.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(p){return p>0?1e3*Math.min(l*Math.pow(d,p-1),i):10}},u.appInfo=this.appInfo,u.sessionManager.currentUser=this.user,u.connectedAt=this.connectedAt,this.firstConnectedAt||(u.firstConnectedAt=this.connectedAt),u.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,u.concurrentCallLimit=this.concurrentCallLimit,u.backOffDelay=this.backOffDelay,u.dispatcher.dispatch(new SI({userProfile:this}))},s}(),Hm=function(s){function l(i,d,u){var p,_=this;return(_=s.call(this,i,d,u)||this).error=null,_.userProfile=new W2(i,u),_.deviceTokenLastDeletedAt=u.device_token_last_deleted_at,_.key=u.key,_.ekey=(p=u.ekey)!==null&&p!==void 0?p:"",_.error=u.error?new Qe(u):null,_}return fe(l,s),l.asError=function(i){return new l(null,"LOGI",$e({user_id:null,error:!0},i))},l.prototype.applyTo=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return this.error?[3,4]:(d=sn.of(i))?[4,d.sessionManager.login(this)]:[3,2];case 1:return u.sent(),this.userProfile.apply(),[3,3];case 2:throw Qe.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}})})},l}(Vr),TI=function(s){function l(i){var d=s.call(this)||this;return d.enabled=i,d}return fe(l,s),l}(Ti),hX=function(s){function l(i,d){var u=d.sdkState,p=d.cacheContext,_=d.connectionHandlers,g=d.sessionManager,b=d.websocketClient,E=d.dispatcher,I=d.logger,U=d.entryState,Y=U===void 0?new K2:U,K=s.call(this)||this;return K._currentState=null,K._loginTimer=null,K._unresolvedLogi=null,K._stateUpdatedAt=0,K._connectingAt=0,K._connectionRequestQueue=[],K._iid=i,K.sdkState=u,K.cacheContext=p,K.connectionHandlers=_,K._sessionManager=g,K._websocketClient=b,K._dispatcher=E,K._logger=I,K._currentState=Y,K.sdkState.websocket.pingerDisabled||(K._pinger=new aX({pingDelegate:{send:function(ce){return K._websocketClient.send(ce)},error:function(ce){return K._websocketClient.error(ce)}},sdkState:K.sdkState,logger:I})),K._websocketClient.on("open",function(){K._tryResolveConnectionRequest()}).on("message",function(ce){ce.code==="LOGI"&&(K.clearLoginTimer(),K._dispatcher.dispatch(ce.as(Hm)))}).on("ping-refresh",function(){var ce;return(ce=K._pinger)===null||ce===void 0?void 0:ce.refreshTimer()}).on("pong",function(){var ce;return(ce=K._pinger)===null||ce===void 0?void 0:ce.pong()}).on("error",function(){var ce;return(ce=K._pinger)===null||ce===void 0?void 0:ce.stop()}).on("close",function(){return K._rejectConnectionRequest(Qe.networkError)}),K._dispatcher.on(function(ce){ce instanceof Hm&&(K._unresolvedLogi=ce,K._tryResolveConnectionRequest())}),K}return fe(l,s),Object.defineProperty(l.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),l.prototype.changeState=function(i,d){return Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return d>=this._stateUpdatedAt?(this._currentState=i,this._stateUpdatedAt=d,this._dispatcher.dispatch(new $c({stateType:i.type})),this._logger.debug("connection state changes to ".concat(i.name)),[4,this._currentState.run(this)]):[3,2];case 1:return u.sent(),[2,!0];case 2:return[2,!1]}})})},l.prototype._tryResolveConnectionRequest=function(){var i;return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return d=this._unresolvedLogi,this._websocketClient.isOpen&&d?(this._unresolvedLogi=null,d.error?[3,2]:[4,d.applyTo(this._iid)]):[3,3];case 1:return p.sent(),u=d.userProfile,this._enableStatLog(u.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish")),this._statLogConnection(null),(i=this._pinger)===null||i===void 0||i.start(),this._connectionRequestQueue.forEach(function(_){return _.resolve()}),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=null,(d.error.isSessionKeyExpiredError||d.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new Cm),this._rejectConnectionRequest(d.error),p.label=3;case 3:return[2]}})})},l.prototype._rejectConnectionRequest=function(i){var d;(d=this._pinger)===null||d===void 0||d.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0&&(this._connectionRequestQueue.forEach(function(u){return u.reject(i)}),this._connectionRequestQueue=[],this._statLogConnection(i))},l.prototype._url=function(i){var d;i===void 0&&(i="");var u=this.sdkState,p=u.appId,_=u.appVersion,g=u.userId,b=u.extensions,E=this.cacheContext.localCacheEnabled,I=this._sessionManager.auth,U=(d=this.sdkState.websocket)===null||d===void 0?void 0:d.compression,Y=b.sb_syncmanager?"s".concat(b.sb_syncmanager):"",K=b.sb_uikit?"u".concat(b.sb_uikit):"",ce="JS/c".concat(Dc.SDK_VERSION,"/").concat(Y,"/").concat(K);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Dc.OS_VERSION),"&sv=").concat(encodeURIComponent(Dc.SDK_VERSION),"&ai=").concat(p).concat(_?"&av=".concat(_):"").concat(I.hasSession?"&key=".concat(encodeURIComponent(I.sessionKey)):"&user_id=".concat(encodeURIComponent(g),"&access_token=").concat(encodeURIComponent(i)),"&pmce=").concat(U?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(ce,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(E?1:0,"&include_poll_details=1")},l.prototype._enableStatLog=function(i){this._dispatcher.dispatch(new TI(i))},l.prototype._statLogConnection=function(i){this._dispatcher.dispatch(new S2(new lp({type:Tm.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!i,latency:Date.now()-this._connectingAt,error_code:i==null?void 0:i.code,error_description:i==null?void 0:i.message}})))},l.prototype.connect=function(i){return i===void 0&&(i=""),Z(this,void 0,void 0,function(){var d,u,p=this;return X(this,function(_){return d=this._url(i),u=new Pa,this._connectionRequestQueue.push(u),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){p._loginTimer=null,p._dispatcher.dispatch(Hm.asError(Qe.loginTimeout))},this.sdkState.websocket.responseTimeout),this._sessionManager.auth.authToken=i,this._websocketClient.connect(d)),[2,u.promise]})})},l.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(Hm.asError(Qe.connectionRenew))},l.prototype.disconnect=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return i.sent(),[2]}})})},l.prototype.logout=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.sdkState.userId=null,this._unresolvedLogi=null,[4,this._sessionManager.clear()];case 1:return i.sent(),[4,this.disconnect()];case 2:return i.sent(),[2]}})})},l.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=null)},l}(op),pX=function(){function s(l,i){var d=i.sdkState,u=i.cacheContext,p=i.connectionHandlers,_=i.sessionManager,g=i.websocketClient,b=i.dispatcher,E=i.logger,I=i.disableWebSocketCloseEventHandling,U=I!==void 0&&I;this._context=null,this._disableWebSocketCloseEventHandling=!1,this._logger=E,this._disableWebSocketCloseEventHandling=U,this._context=new hX(l,{sdkState:d,cacheContext:u,connectionHandlers:p,sessionManager:_,websocketClient:g,dispatcher:b,logger:E}),this._sdkState=d,this._sessionManager=_,this._websocketClient=g}return s.prototype._registerEventDispatcher=function(){var l=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",function(){l.isConnected||(l._logger.debug("try reconnect by session token refresh"),l.reconnect())}).on("refresh",function(){l.isConnecting||l.isConnected||(l._logger.debug("try reconnect by session key refresh"),l.reconnect())}),this._websocketEventDispatcherContext=this._websocketClient.on("close",function(){l._sdkState.appState==="foreground"&&(l._sessionManager.isRefreshingAuthToken||(l._logger.debug("try reconnect by websocket connection closed"),l.reconnect()))}))},s.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=null),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=null)},Object.defineProperty(s.prototype,"isConnected",{get:function(){return this._context.currentState.type===cr.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isConnecting",{get:function(){var l=this._context.currentState;return l.type===cr.CONNECTING||l.type===cr.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype.connect=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._context.currentState.onConnect(this._context,l)];case 1:return i.sent(),this._registerEventDispatcher(),[2]}})})},s.prototype.reconnect=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{})];case 1:return l.sent(),[2]}})})},s.prototype.resetAndReconnect=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,this._context.currentState.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return l.sent(),[2]}})})},s.prototype.background=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{autoReconnect:!1})];case 1:return l.sent(),[2]}})})},s.prototype.disconnect=function(l){return l===void 0&&(l=null),Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:l,autoReconnect:!0})];case 1:return i.sent(),[2]}})})},s.prototype.disconnectWebSocket=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,this._context.currentState.onDisconnectWebSocket(this._context)];case 1:return l.sent(),[2]}})})},s.prototype.logout=function(){return Z(this,void 0,void 0,function(){var l;return X(this,function(i){switch(i.label){case 0:return l=this._context.currentState,this._clearEventDispatcher(),[4,l.onLogout(this._context)];case 1:return i.sent(),[2]}})})},s}(),fX=function(s){function l(i){var d=i.deviceId,u=i.statLogs,p=s.call(this)||this;return p.method=Nn.POST,p.path="".concat(ZY),p.params={device_id:d,log_entries:u.map(function(_){return lp.payloadify(_)})},p}return fe(l,s),l}(On);(function(s){s[s.PENDING=0]="PENDING",s[s.ENABLED=1]="ENABLED",s[s.DISABLED=2]="DISABLED"})(qc||(qc={}));var Il,_X=function(){function s(l){var i=l.cacheContext,d=l.requestQueue,u=l.dispatcher,p=l.baseLimit,_=p===void 0?100:p,g=l.maxLimit,b=g===void 0?1e3:g,E=l.minLimit,I=E===void 0?10:E;this.queue=[],this.enabledstate=qc.PENDING,this.isFlushing=!1,this.generation=1,this.lastFlushedAt=0,this.deviceId=gh(),this.cacheContext=i,this.requestQueue=d,this.dispatcher=u,this.baseLimit=_,this.limit=_,this.maxLimit=b,this.minLimit=I}return Object.defineProperty(s.prototype,"isEnabled",{get:function(){return this.enabledstate===qc.ENABLED},enumerable:!1,configurable:!0}),s.prototype._save=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(i){return lp.payloadify(i)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},s.prototype._flush=function(){return Z(this,void 0,void 0,function(){var l,i;return X(this,function(d){switch(d.label){case 0:if(!this.isEnabled)return[3,7];if(this.isFlushing)return[3,7];this.isFlushing=!0,d.label=1;case 1:return d.trys.push([1,5,6,7]),(l=this.queue.slice(0,Math.min(this.limit,this.maxLimit))).length>0?(i=new fX({deviceId:this.deviceId,statLogs:l}),[4,this.requestQueue.send(i)]):[3,4];case 2:return d.sent(),this.queue=this.queue.slice(l.length),[4,this._save()];case 3:d.sent(),d.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,7];case 5:return d.sent(),this.limit=this.limit+20,[3,7];case 6:return this.isFlushing=!1,[7];case 7:return[2]}})})},s.prototype.init=function(l){return Z(this,void 0,void 0,function(){var i,d,u=this;return X(this,function(p){switch(p.label){case 0:return this.key=l,this.cacheContext.localCacheEnabled?[4,this.cacheContext.preference.get(this.key)]:[3,4];case 1:return(i=p.sent())?(this.deviceId=i.deviceId,this.queue=i.statLogs.map(function(_){return new lp({type:_.stat_type,ts:_.ts,data:_.data})}),this.generation=i.generation,this.lastFlushedAt=i.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(d=Math.min(Math.floor(18e4*Math.random()),100),[4,jo(d)]):[3,4]):[3,4];case 2:return p.sent(),[4,this._flush()];case 3:p.sent(),p.label=4;case 4:return this.dispatcher.on(function(_){if(_ instanceof S2){var g=_.statLog;u.put(g)}else _ instanceof TI&&(u.enabledstate=_.enabled?qc.ENABLED:qc.DISABLED,u.isEnabled?u.queue.length>=u.limit&&u._flush():u.clear())}),[2]}})})},s.prototype.put=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.enabledstate===qc.DISABLED?[3,3]:(this.queue.push(l),[4,this._save()]);case 1:return i.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return l.sent(),[2]}})})},s}();(function(s){s[s.NONE=0]="NONE",s[s.VERBOSE=1]="VERBOSE",s[s.DEBUG=2]="DEBUG",s[s.INFO=3]="INFO",s[s.WARN=4]="WARN",s[s.ERROR=5]="ERROR"})(Il||(Il={}));var Qr,gs,Bm,ya,bs,Ad,$r,mX=function(){function s(){this.level=Il.WARN}return s.prototype.verbose=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Il.VERBOSE&&console.log.apply(console,Br(["[verbose]"],kr(l),!1))},s.prototype.debug=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Il.DEBUG&&console.log.apply(console,Br(["[debug]"],kr(l),!1))},s.prototype.info=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Il.INFO&&console.log.apply(console,Br(["[info]"],kr(l),!1))},s.prototype.warn=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Il.WARN&&console.warn.apply(console,Br(["[warn]"],kr(l),!1))},s.prototype.error=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.level<=Il.ERROR&&console.error.apply(console,Br(["[error]"],kr(l),!1))},s}(),jc={},sn=function(){function s(l,i){var d,u,p,_,g,b,E,I,U;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!jc[l]){jc[l]=this;var Y=(d=i.options)!==null&&d!==void 0?d:new IC,K=this.sdkState={appId:i.appId,appVersion:(u=i.appVersion)!==null&&u!==void 0?u:"",appState:"foreground",userId:null,extensions:{},api:{host:(p=i.apiHost)!==null&&p!==void 0?p:"https://api-".concat(i.appId,".sendbird.com")},websocket:{host:(_=i.websocketHost)!==null&&_!==void 0?_:"wss://ws-".concat(i.appId,".sendbird.com"),pingerDisabled:!!i.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new wI,responseTimeout:Y.websocketResponseTimeout},sessionTokenRefreshTimeout:Y.sessionTokenRefreshTimeout};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var ce=this.logger=new mX;this.logger.level=(g=i.logLevel)!==null&&g!==void 0?g:Il.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var ae=this.cacheContext=new HQ({encryption:i.encryption,store:i.store,localCacheEnabled:(b=i.localCacheEnabled)!==null&&b!==void 0&&b});this.debugMode=(E=i.debugMode)!==null&&E!==void 0&&E,this.maxSuperGroupChannelUnreadCount=Dc.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=Y.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=Y.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=Y.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var pe=this.dispatcher=new $Q,Ne=new BQ;this.requestQueue=new KY(l,{auth:Ne,sdkState:K,dispatcher:pe,logger:ce}),this.sessionManager=new rX({auth:Ne,cacheContext:ae,sdkState:K,dispatcher:pe,requestQueue:this.requestQueue,logger:ce}),this.connectionManager=new pX(l,{sdkState:K,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:pe,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(I=i.disableWebSocketCloseEventHandling)!==null&&I!==void 0&&I,logger:ce}),this.statLogCollector=new _X({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:pe}),this.appStateToggleEnabled=(U=i.appStateToggleEnabled)===null||U===void 0||U}return jc[l]}return s.of=function(l){if(jc[l])return jc[l];throw Qe.lostInstance},s.clear=function(l){jc[l]&&delete jc[l]},s}(),Q2=function(){function s(){}return s.prototype.init=function(l,i){var d=i.sdkState,u=i.dispatcher,p=i.sessionManager,_=i.requestQueue,g=i.logger;i.onlineDetector;var b=i.cacheContext,E=b===void 0?null:b;this._iid=l,this._cacheContext=E,this._sdkState=d,this._dispatcher=u,this._sessionManager=p,this._requestQueue=_,this._logger=g},s}(),vX=function(s){function l(i){var d=s.call(this)||this;if(d.method=Nn.POST,d.path="".concat(WY),d.params=Tt({file:i.file,channel_url:i.channelUrl}),i.thumbnailSizes)for(var u=0;u<i.thumbnailSizes.length;u++){var p=i.thumbnailSizes[u],_=p.maxWidth,g=p.maxHeight;d.params["thumbnail".concat(u+1)]="".concat(_,",").concat(g)}return d.requestId=i.requestId,d}return fe(l,s),l}(On),gX=function(s){function l(i,d){var u,p,_,g=this;return(g=s.call(this,i,d)||this).url=d.url,g.fileSize=(u=d.file_size)!==null&&u!==void 0?u:0,g.thumbnailSizes=(p=d.thumbnails)!==null&&p!==void 0?p:[],g.requireAuth=(_=d.require_auth)!==null&&_!==void 0&&_,g}return fe(l,s),l}(Pn);(function(s){s.BASE="base",s.USER="user",s.FILE="file",s.ADMIN="admin"})(Qr||(Qr={})),function(s){s.ALL="",s.USER="MESG",s.FILE="FILE",s.ADMIN="ADMM"}(gs||(gs={})),function(s){s.USER="MESG",s.FILE="FILE",s.ADMIN="ADMM"}(Bm||(Bm={})),function(s){s.USERS="users",s.CHANNEL="channel"}(ya||(ya={})),function(s){s.ALL="all",s.NONE="none",s.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(bs||(bs={})),function(s){s.DEFAULT="default",s.SUPPRESS="suppress"}(Ad||(Ad={})),function(s){s.PENDING="pending",s.SCHEDULED="scheduled",s.SUCCEEDED="succeeded",s.FAILED="failed",s.CANCELED="canceled"}($r||($r={}));var kp,Y2=function(s){function l(i,d){var u,p,_,g=this;return(g=s.call(this,i)||this).replyCount=0,g.mostRepliedUsers=null,g.lastRepliedAt=0,g.updatedAt=0,g.replyCount=(u=d.reply_count)!==null&&u!==void 0?u:0,g.mostRepliedUsers=d.hasOwnProperty("most_replies")&&Yt("object",d.most_replies)?d.most_replies.map(function(b){return new Lt(g._iid,b)}):[],g.lastRepliedAt=(p=d.last_replied_at)!==null&&p!==void 0?p:0,g.updatedAt=(_=d.updated_at)!==null&&_!==void 0?_:0,g}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),{reply_count:i.replyCount,most_replies:Array.isArray(i.mostRepliedUsers)?i.mostRepliedUsers.map(function(d){return Lt.payloadify(d)}):[],last_replied_at:i.lastRepliedAt,updated_at:i.updatedAt})):null},l}(Ko);(function(s){s.ADD="add",s.DELETE="delete"})(kp||(kp={}));var zr,$m,CI,Od,X2=function(s){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var l=Ve("string",s.msg_id)?parseInt(s.msg_id):s.msg_id,i=s.user_id,d=s.operation?s.operation.toLowerCase():null,u=s.reaction,p=s.updated_at;l&&Ve("string",i)&&Ve("string",d)&&Sr(kp,d)&&Ve("string",u)&&u&&Ve("number",p)&&(this.messageId=l,this.userId=i,this.key=u,this.operation=d,this.updatedAt=p)},zm=function(){function s(l){var i,d,u,p=l.key,_=(u=Br([],kr(l.user_ids),!1))!==null&&u!==void 0?u:[],g=l.updated_at;Ve("string",p)&&p&&Yt("string",_)&&_.length>0&&Ve("number",g)&&(this.key=p,this.userIds=_,this.updatedAt=g);var b={};try{for(var E=wt(this.userIds),I=E.next();!I.done;I=E.next())b[I.value]=this.updatedAt}catch(U){i={error:U}}finally{try{I&&!I.done&&(d=E.return)&&d.call(E)}finally{if(i)throw i.error}}this._version=b}return Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),s.payloadify=function(l){return l?Tt({key:l.key,user_ids:l.userIds,updated_at:l.updatedAt}):null},s.prototype.applyEvent=function(l){if(l.key===this.key&&this.updatedAt<=l.updatedAt){if(!this._version[l.userId]||this._version[l.userId]<=l.updatedAt){var i=this.userIds.indexOf(l.userId);switch(l.operation){case kp.ADD:i<0&&this.userIds.push(l.userId);break;case kp.DELETE:i>=0&&this.userIds.splice(i,1)}this._version[l.userId]=l.updatedAt}this.updatedAt=Math.max(this.updatedAt,l.updatedAt)}},s}(),ys=function(){function s(l){this.key=l.key,this.value=Yt("string",l.value)?Br([],kr(l.value),!1):[]}return s.payloadify=function(l){var i;return l?Tt({key:l.key,value:(i=l.value)!==null&&i!==void 0?i:[]}):null},s}(),II=function(){function s(l){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=l.url,l.hasOwnProperty("secure_url")&&(this.secureUrl=l.secure_url),l.hasOwnProperty("type")&&(this.type=l.type),l.hasOwnProperty("width")&&(this.width=l.width),l.hasOwnProperty("height")&&(this.height=l.height),l.hasOwnProperty("alt")&&(this.alt=l.alt)}return s.payloadify=function(l){var i,d;return l?Tt({url:l.url,secure_url:l.secureUrl,type:l.type,width:(i=l.width)!==null&&i!==void 0?i:0,height:(d=l.height)!==null&&d!==void 0?d:0,alt:l.alt}):null},s}(),NI=function(){function s(l){this.title=null,this.url=null,this.description=null,this.defaultImage=null,l.hasOwnProperty("og:title")&&(this.title=l["og:title"]),l.hasOwnProperty("og:url")&&(this.url=l["og:url"]),l.hasOwnProperty("og:description")&&(this.description=l["og:description"]),l.hasOwnProperty("og:image")&&(this.defaultImage=new II(l["og:image"]))}return s.payloadify=function(l){return l?Tt({"og:title":l.title,"og:url":l.url,"og:description":l.description,"og:image":l.defaultImage?II.payloadify(l.defaultImage):null}):null},s}(),Rd=function(){function s(l){var i,d;this.name=null,this.volume=0,this.name=(i=l.name)!==null&&i!==void 0?i:"default",this.volume=(d=l.volume)!==null&&d!==void 0?d:1}return s.prototype.serialize=function(){return{name:this.name,volume:this.volume}},s.payloadify=function(l){return l?Tt({name:l.name,volume:l.volume}):null},s}();(function(s){s.BASE="base",s.GROUP="group",s.OPEN="open"})(zr||(zr={})),function(s){s.OPERATOR="operator",s.NONE="none"}($m||($m={})),function(s){s.PENDING="pending",s.SENT="sent",s.FAILED="failed",s.CANCELED="canceled"}(CI||(CI={})),function(s){s.PENDING="pending",s.IN_QUEUE="in_queue",s.SENT="sent",s.FAILED="failed",s.CANCELED="canceled",s.REMOVED="removed"}(Od||(Od={}));var Md,bX=function(s){switch(s){case Qr.BASE:return"";case Qr.USER:return"MESG";case Qr.FILE:return"FILE";case Qr.ADMIN:return"ADMM"}},Nl=function(s){function l(i,d){var u,p,_,g,b,E,I,U,Y,K,ce,ae,pe,Ne,Ee=this;(Ee=s.call(this,i)||this).channelUrl=null,Ee.channelType=zr.BASE,Ee.messageId=0,Ee.parentMessageId=null,Ee.parentMessage=null,Ee.silent=!1,Ee.isOperatorMessage=!1,Ee.messageType=Qr.BASE,Ee.data=null,Ee.customType=null,Ee.mentionType=null,Ee.mentionedUsers=[],Ee.mentionedUserIds=[],Ee.mentionedMessageTemplate=null,Ee.threadInfo=null,Ee.reactions=[],Ee.metaArrays=[],Ee.ogMetaData=null,Ee.appleCriticalAlertOptions=null,Ee.createdAt=0,Ee.updatedAt=0,Ee.scheduledInfo=null,Ee.extendedMessage={},Ee._scheduledStatus=null,Ee.messageId=(p=(u=d.msg_id)!==null&&u!==void 0?u:d.message_id)!==null&&p!==void 0?p:0,Ee.channelUrl=d.channel_url,Ee.channelType=Sr(zr,d.channel_type)?d.channel_type:zr.GROUP,d.channel&&(d.channel.channel_url&&(Ee.channelUrl=d.channel.channel_url),d.channel.channel_type&&(Ee.channelType=d.channel.channel_type)),Ee.parentMessageId=(_=typeof d.parent_message_id=="string"?parseInt(d.parent_message_id):d.parent_message_id)!==null&&_!==void 0?_:0,Ee.data=(g=d.data)!==null&&g!==void 0?g:"",Ee.customType=(b=d.custom_type)!==null&&b!==void 0?b:"",Ee.mentionType=Sr(ya,d.mention_type)?d.mention_type:null;var ze=d.mentioned_users;Ee.mentionedUsers=ze?ze.map(function(Ye){return new Lt(Ee._iid,Ye)}):null;var dn=d.mentioned_user_ids;Ee.mentionedUserIds=dn!=null?dn:null,Ee.mentionedUsers&&!Ee.mentionedUserIds&&(Ee.mentionedUserIds=Ee.mentionedUsers.map(function(Ye){return Ye.userId})),Ee.mentionedMessageTemplate=(E=d.mentioned_message_template)!==null&&E!==void 0?E:"",Ee.threadInfo=d.thread_info?new Y2(Ee._iid,d.thread_info):null,Ee.reactions=d.reactions?d.reactions.map(function(Ye){return new zm(Ye)}):[];for(var Ce=(I=d.metaarray)!==null&&I!==void 0?I:{},be=(U=d.metaarray_key_order)!==null&&U!==void 0?U:Object.keys(Ce).sort(function(Ye,kn){return Ye.localeCompare(kn)}),rn=0;rn<be.length;rn++){var Je=be[rn];Ee.metaArrays.push(new ys({key:Je,value:Ce[Je]||[]}))}return d.sorted_metaarray&&(Ee.metaArrays=d.sorted_metaarray.map(function(Ye){return new ys(Ye)})),Ee.ogMetaData=d.og_tag?new NI(d.og_tag):null,Ee.silent=(Y=d.silent)!==null&&Y!==void 0&&Y,Ee.isOperatorMessage=(K=d.is_op_msg)!==null&&K!==void 0&&K,Ee.appleCriticalAlertOptions=d.apple_critical_alert_options?new Rd(d.apple_critical_alert_options):null,Ee.createdAt=(ae=(ce=d.created_at)!==null&&ce!==void 0?ce:d.ts)!==null&&ae!==void 0?ae:0,Ee.updatedAt=(pe=d.updated_at)!==null&&pe!==void 0?pe:0,typeof d.scheduled_message_id=="number"&&typeof d.scheduled_at=="number"&&d.scheduled_status&&(Ee.scheduledInfo={scheduledMessageId:d.scheduled_message_id,scheduledAt:d.scheduled_at},Ee._scheduledStatus=d.scheduled_status),Ee.extendedMessage=(Ne=d.extended_message)!==null&&Ne!==void 0?Ne:{},Ee}return fe(l,s),l.payloadify=function(i){var d,u,p,_;return i?Tt($e($e({},s.payloadify.call(this,i)),{channel_url:i.channelUrl,channel_type:i.channelType,message_id:i.messageId,type:bX(i.messageType),parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,mentioned_user_ids:i.mentionedUserIds,mentioned_users:(d=i.mentionedUsers)===null||d===void 0?void 0:d.map(function(g){return Lt.payloadify(g)}),mentioned_message_template:i.mentionedMessageTemplate,thread_info:i.threadInfo?Y2.payloadify(i.threadInfo):null,reactions:i.reactions.map(function(g){return zm.payloadify(g)}),sorted_metaarray:(u=i.metaArrays)===null||u===void 0?void 0:u.map(function(g){return ys.payloadify(g)}),og_tag:NI.payloadify(i.ogMetaData),silent:i.silent,is_op_msg:i.isOperatorMessage,apple_critical_alert_options:Rd.payloadify(i.appleCriticalAlertOptions),created_at:i.createdAt,updated_at:i.updatedAt,scheduled_message_id:(p=i.scheduledInfo)===null||p===void 0?void 0:p.scheduledMessageId,scheduled_at:(_=i.scheduledInfo)===null||_===void 0?void 0:_.scheduledAt,scheduled_status:i._scheduledStatus,extended_message:i.extendedMessage})):null},l.prototype.isIdentical=function(i){return this.messageId===i.messageId},l.prototype.isEqual=function(i){return CC(this,i)},l.prototype.isUserMessage=function(){return this.messageType===Qr.USER},l.prototype.isFileMessage=function(){return this.messageType===Qr.FILE},l.prototype.isAdminMessage=function(){return this.messageType===Qr.ADMIN},l.prototype.serialize=function(){return Fm(this)},l.prototype.getMetaArraysByKeys=function(i){return this.metaArrays.filter(function(d){return i.includes(d.key)})},l.prototype.applyThreadInfoUpdateEvent=function(i){return this.messageId===i.targetMessageId&&(this.threadInfo=i.threadInfo),!1},l.prototype.applyReactionEvent=function(i){if(this.messageId===i.messageId){for(var d=!1,u=0;u<this.reactions.length;u++)if(this.reactions[u].key===i.key){this.reactions[u].applyEvent(i),this.reactions[u].isEmpty&&this.reactions.splice(u,1),d=!0;break}d||i.operation!=="add"||this.reactions.push(new zm(zm.payloadify({key:i.key,userIds:[i.userId],updatedAt:i.updatedAt})))}},l.prototype.applyParentMessage=function(i){if(this.parentMessageId===i.messageId){var d=this.parentMessage.updatedAt;if(i.updatedAt>=d)return this.parentMessage=i,!0}return!1},l}(Ko),Sp=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.role=null,u.isBlockedByMe=!1,u.role=Sr($m,d.role)?d.role:$m.NONE,d.hasOwnProperty("is_blocked_by_me")&&(u.isBlockedByMe=d.is_blocked_by_me),u}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),{role:i.role,is_blocked_by_me:i.isBlockedByMe})):null},l}(Lt),Tp=function(s){function l(i,d){var u,p,_,g,b=this;if((b=s.call(this,i,d)||this).sender=null,b.reqId="",b.replyToChannel=!1,b.sendingStatus=null,b.errorCode=0,b.sender=d.user?new Sp(b._iid,d.user):d.sender_id,b.reqId=(p=(u=d.req_id)!==null&&u!==void 0?u:d.request_id)!==null&&p!==void 0?p:"",b.replyToChannel=(_=d.is_reply_to_channel)!==null&&_!==void 0&&_,d.request_state&&Sr($r,d.request_state)&&(b.sendingStatus=d.request_state),!b.sendingStatus)if(b.messageId>0)b.sendingStatus=$r.SUCCEEDED;else if(b.scheduledInfo)switch(b._scheduledStatus=d.scheduled_status,d.scheduled_status){case Od.SENT:case Od.IN_QUEUE:b.sendingStatus=$r.SUCCEEDED;break;case Od.PENDING:b.sendingStatus=$r.SCHEDULED;break;case Od.FAILED:case Od.REMOVED:b.sendingStatus=$r.FAILED;break;case Od.CANCELED:b.sendingStatus=$r.CANCELED}else b.sendingStatus=$r.PENDING;return b.errorCode=(g=d.error_code)!==null&&g!==void 0?g:0,b}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),{user:Sp.payloadify(i.sender),req_id:i.reqId,is_reply_to_channel:i.replyToChannel,request_state:i.sendingStatus,error_code:i.errorCode})):null},Object.defineProperty(l.prototype,"isResendable",{get:function(){return this.sendingStatus===$r.FAILED&&(i=this.errorCode)>0&&LQ.indexOf(i)>=0;var i},enumerable:!1,configurable:!0}),l.prototype.isIdentical=function(i){return this.messageId>0&&i.messageId>0?this.messageId===i.messageId:this.reqId===i.reqId},l}(Nl),Z2=function(){function s(l){var i,d;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=l.url,this.width=l.width,this.height=l.height,this.realWidth=(i=l.real_width)!==null&&i!==void 0?i:l.width,this.realHeight=(d=l.real_height)!==null&&d!==void 0?d:l.height}return s.payloadify=function(l){return l?Tt({url:"",width:l.maxWidth,height:l.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(s.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),s}(),Vm={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:gs.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},J2=function(s){return Ve("number",s.prevResultSize)&&Ve("number",s.nextResultSize)&&Ve("boolean",s.isInclusive)&&Ve("boolean",s.reverse)&&Ve("string",s.messageTypeFilter)&&Sr(gs,s.messageTypeFilter)&&Yt("string",s.customTypesFilter,!0)&&Yt("string",s.senderUserIdsFilter,!0)&&Ve("boolean",s.includeMetaArray)&&Ve("boolean",s.includeReactions)&&Ve("boolean",s.includeParentMessageInfo)},kh=function(s){function l(i,d){var u,p,_,g,b=this;if((b=s.call(this,i,d)||this).message=null,b.translations={},b.message=(u=d.message)!==null&&u!==void 0?u:"",b.messageType=Qr.ADMIN,b.translations=(p=d.translations)!==null&&p!==void 0?p:{},d.parent_message_info){var E=d.parent_message_info,I=$e($e({},E),{message_id:b.parentMessageId,channel_url:b.channelUrl,channel_type:b.channelType,file:E.file,url:(_=E.file)===null||_===void 0?void 0:_.url,require_auth:(g=E.file)===null||g===void 0?void 0:g.require_auth});b.parentMessage=Dd(i,I)}return b}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),{message:i.message,translations:i.translations,parent_message_info:nE(i.parentMessage)})):null},l.prototype.getThreadedMessagesByTimestamp=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=$e($e({},Vm),d),Fn(this.messageId>0&&Ve("number",i)&&J2(u)).throw(Qe.invalidParameters),[4,Fa.of(this._iid).getThreadedMessagesByTimestamp(this,i,u)];case 1:return[2,p.sent()]}})})},l}(Nl),AI=function(){function s(l){var i,d;this.type=null,this.vendor=null,this.detail={},this.type=(i=l.type)!==null&&i!==void 0?i:"",this.vendor=(d=l.vendor)!==null&&d!==void 0?d:"",l.hasOwnProperty("detail")&&Ve("object",l.detail)&&!Array.isArray(l.detail)&&(this.detail=l.detail)}return s.payloadify=function(l){return l?Tt({type:l.type,vendor:l.vendor,detail:l.detail}):null},s}();(function(s){s.OPEN="open",s.CLOSED="closed"})(Md||(Md={}));var Ji,eE=function(s){switch(s){case Md.OPEN:return Md.OPEN;case Md.CLOSED:return Md.CLOSED}},OI=function(s){return!s||s.text&&Ve("string",s.text)},Gm=function(s){function l(i,d){var u,p,_,g,b,E,I,U=this;return(U=s.call(this,i)||this).pollId=0,U.id=0,U.text=null,U.voteCount=0,U.createdBy=null,U.createdAt=0,U.updatedAt=0,U._lastVotedAt=0,U.pollId=(u=d.poll_id)!==null&&u!==void 0?u:0,U.id=(p=d.id)!==null&&p!==void 0?p:0,U.text=(_=d.text)!==null&&_!==void 0?_:null,U.voteCount=(g=d.vote_count)!==null&&g!==void 0?g:0,U.createdBy=(b=d.created_by)!==null&&b!==void 0?b:null,U.createdAt=(E=d.created_at)!==null&&E!==void 0?E:0,U.updatedAt=(I=d.updated_at)!==null&&I!==void 0?I:0,U}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),{vote_count:i.voteCount,poll_id:i.pollId,text:i.text,created_at:i.createdAt,id:i.id,created_by:i.createdBy,updated_at:i.updatedAt})):null},l}(Ko),Bs=function(s){function l(i,d){var u,p,_,g,b,E,I,U,Y,K,ce,ae,pe,Ne=this;return(Ne=s.call(this,i)||this).id=0,Ne.title=null,Ne.createdAt=0,Ne.updatedAt=0,Ne.closeAt=-1,Ne.status=Md.CLOSED,Ne.messageId=0,Ne.data=null,Ne.voterCount=-1,Ne.options=[],Ne.createdBy=null,Ne.allowUserSuggestion=!1,Ne.allowMultipleVotes=!1,Ne.votedPollOptionIds=[],Ne.id=(u=d.id)!==null&&u!==void 0?u:0,Ne.title=(p=d.title)!==null&&p!==void 0?p:null,Ne.createdAt=(_=d.created_at)!==null&&_!==void 0?_:0,Ne.updatedAt=(g=d.updated_at)!==null&&g!==void 0?g:0,Ne.closeAt=(b=d.close_at)!==null&&b!==void 0?b:-1,Ne.status=(E=eE(d.status))!==null&&E!==void 0?E:Md.CLOSED,Ne.messageId=(I=d.message_id)!==null&&I!==void 0?I:0,Ne.data=(U=d.data)!==null&&U!==void 0?U:null,Ne.voterCount=(Y=d.voter_count)!==null&&Y!==void 0?Y:-1,Ne.options=d.options?d.options.map(function(Ee){return new Gm(Ne._iid,Ee)}):[],Ne.createdBy=(K=d.created_by)!==null&&K!==void 0?K:null,Ne.allowUserSuggestion=(ce=d.allow_user_suggestion)!==null&&ce!==void 0&&ce,Ne.allowMultipleVotes=(ae=d.allow_multiple_votes)!==null&&ae!==void 0&&ae,Ne.votedPollOptionIds=(pe=d.voted_option_ids)!==null&&pe!==void 0?pe:[],Ne}return fe(l,s),l.prototype._applyPollUpdatePayload=function(i){var d,u,p,_,g,b,E,I,U=this;this.title=(d=i.title)!==null&&d!==void 0?d:this.title,this.updatedAt=(u=i.updated_at)!==null&&u!==void 0?u:this.updatedAt,this.closeAt=(p=i.close_at)!==null&&p!==void 0?p:this.closeAt,this.status=(_=eE(i.status))!==null&&_!==void 0?_:this.status,this.data=(g=i.data)!==null&&g!==void 0?g:this.data,this.voterCount=(b=i.voter_count)!==null&&b!==void 0?b:this.voterCount,i.options&&(this.options=i.options.map(function(Y){return new Gm(U._iid,Y)}),this.votedPollOptionIds=i.options.filter(function(Y){return Y.vote_count>0}).map(function(Y){return Y.id})),this.allowUserSuggestion=(E=i.allow_user_suggestion)!==null&&E!==void 0?E:this.allowUserSuggestion,this.allowMultipleVotes=(I=i.allow_multiple_votes)!==null&&I!==void 0?I:this.allowMultipleVotes},l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),{id:i.id,title:i.title,created_at:i.createdAt,updated_at:i.updatedAt,close_at:i.closeAt,status:i.status,message_id:i.messageId,data:i.data,voter_count:i.voterCount,options:i.options.map(function(d){return Gm.payloadify(d)}),created_by:i.createdBy,allow_user_suggestion:i.allowUserSuggestion,allow_multiple_votes:i.allowMultipleVotes,voted_option_ids:i.votedPollOptionIds})):null},l.prototype.applyPollUpdateEvent=function(i){var d=i._payload.poll;return!(!d||this.id!==d.id||d.updated_at<this.updatedAt||(this._applyPollUpdatePayload(d),0))},l.prototype.applyPollVoteEvent=function(i){if(this.id!==i.pollId)return!1;var d=this.options,u=d.map(function(g){return g.id}),p=i._payload,_=Math.floor(p.ts/1e3);return p.updated_vote_counts.forEach(function(g){var b=u.indexOf(g.option_id);if(b>-1){var E=d[b];_>=E._lastVotedAt&&(E.voteCount=g.vote_count,E._lastVotedAt=_)}}),p.req_id&&p.voted_option_ids&&(this.votedPollOptionIds=p.voted_option_ids),!0},l.prototype.serialize=function(){return Fm(this)},l}(Ko),Ea=function(s){function l(i,d){var u,p,_,g,b,E,I,U=this;if((U=s.call(this,i,d)||this).message="",U.messageParams=null,U.translations={},U.translationTargetLanguages=[],U.messageSurvivalSeconds=-1,U.plugins=[],U._poll=null,U.message=d.message,U.messageType=Qr.USER,U.translations=(_=d.translations)!==null&&_!==void 0?_:{},U.translationTargetLanguages=(g=d.target_langs)!==null&&g!==void 0?g:[],Object.keys(U.translations).length===0&&U.translationTargetLanguages.length>0)try{for(var Y=wt(U.translationTargetLanguages),K=Y.next();!K.done;K=Y.next()){var ce=K.value;U.translations[ce]=""}}catch(Ne){u={error:Ne}}finally{try{K&&!K.done&&(p=Y.return)&&p.call(Y)}finally{if(u)throw u.error}}if(U.messageSurvivalSeconds=(b=d.message_survival_seconds)!==null&&b!==void 0?b:-1,U.plugins=d.plugins?d.plugins.map(function(Ne){return new AI(Ne)}):[],U._poll=d.poll?new Bs(U._iid,d.poll):null,d.parent_message_info){var ae=d.parent_message_info,pe=$e($e({},ae),{created_at:ae.ts,message_id:U.parentMessageId,channel_url:U.channelUrl,channel_type:U.channelType,file:ae.file,url:(E=ae.file)===null||E===void 0?void 0:E.url,require_auth:(I=ae.file)===null||I===void 0?void 0:I.require_auth});U.parentMessage=Dd(i,Tt(pe))}return U}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),{message:i.message,translations:i.translations,message_survival_seconds:i.messageSurvivalSeconds,plugins:i.plugins.map(function(d){return AI.payloadify(d)}),poll:Bs.payloadify(i._poll),parent_message_info:nE(i.parentMessage)})):null},l.prototype.getThreadedMessagesByTimestamp=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=$e($e({},Vm),d),Fn(this.messageId>0&&Ve("number",i)&&J2(u)).throw(Qe.invalidParameters),[4,Fa.of(this._iid).getThreadedMessagesByTimestamp(this,i,u)];case 1:return[2,p.sent()]}})})},l.prototype.applyPoll=function(i){return!(this._poll&&this._poll.id===i.id&&this._poll.updatedAt>i.updatedAt||(this._poll=i,0))},Object.defineProperty(l.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),l}(Tp),nE=function(s){if(s)switch(s.messageType){case Qr.USER:return Ea.payloadify(s);case Qr.FILE:return _i.payloadify(s);case Qr.ADMIN:return kh.payloadify(s)}return null},Dd=function(s,l){switch(l.type){case"MESG":return new Ea(s,l);case"FILE":return new _i(s,l);case"ADMM":case"BRDM":return new kh(s,l)}return null},_i=function(s){function l(i,d){var u,p,_,g,b,E,I,U,Y,K,ce,ae,pe,Ne,Ee,ze=this;(ze=s.call(this,i,d)||this).messageParams=null,ze.plainUrl="",ze.requireAuth=!1,ze.name=null,ze.size=0,ze.type=null,ze.thumbnails=[],ze.messageSurvivalSeconds=-1,ze.messageType=Qr.FILE;var dn=(u=d.file)!==null&&u!==void 0?u:null;ze.plainUrl=((_=(p=dn==null?void 0:dn.url)!==null&&p!==void 0?p:d.url)!==null&&_!==void 0?_:"").split("?auth=")[0],ze.name=(b=(g=dn==null?void 0:dn.name)!==null&&g!==void 0?g:d.name)!==null&&b!==void 0?b:"File",ze.size=(I=(E=dn==null?void 0:dn.size)!==null&&E!==void 0?E:d.size)!==null&&I!==void 0?I:0,ze.data=(Y=(U=dn==null?void 0:dn.data)!==null&&U!==void 0?U:d.custom)!==null&&Y!==void 0?Y:"",ze.type=dn?(K=dn.type)!==null&&K!==void 0?K:"":(ce=d.type)!==null&&ce!==void 0?ce:"";var Ce=sn.of(ze._iid).sessionManager;if(ze.requireAuth=(ae=d.require_auth)!==null&&ae!==void 0&&ae,ze.thumbnails=d.thumbnails?d.thumbnails.map(function(Je){return new Z2($e($e({},Je),{url:"".concat(Je.url.split("?auth=")[0]).concat(ze.requireAuth?"?auth=".concat(Ce.ekey):"")}))}):[],ze.messageSurvivalSeconds=(pe=d.message_survival_seconds)!==null&&pe!==void 0?pe:-1,d.parent_message_info){var be=d.parent_message_info,rn=$e($e({},be),{message_id:ze.parentMessageId,channel_url:ze.channelUrl,channel_type:ze.channelType,file:be.file,url:(Ne=be.file)===null||Ne===void 0?void 0:Ne.url,require_auth:(Ee=be.file)===null||Ee===void 0?void 0:Ee.require_auth});ze.parentMessage=Dd(i,rn)}return ze}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),{url:i.plainUrl,require_auth:i.requireAuth,file:{name:i.name,size:i.size,type:i.type,data:i.data},thumbnails:i.thumbnails.map(function(d){return{url:d.url,width:d.width,height:d.height,real_width:d.realWidth,real_height:d.realHeight}}),message_survival_seconds:i.messageSurvivalSeconds,parent_message_info:nE(i.parentMessage)})):null},Object.defineProperty(l.prototype,"url",{get:function(){var i=sn.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(i.ekey):this.plainUrl},enumerable:!1,configurable:!0}),l.prototype.getThreadedMessagesByTimestamp=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=$e($e({},Vm),d),Fn(this.messageId>0&&Ve("number",i)&&J2(u)).throw(Qe.invalidParameters),[4,Fa.of(this._iid).getThreadedMessagesByTimestamp(this,i,u)];case 1:return[2,p.sent()]}})})},l}(Tp),ur=function(s){switch(s){case zr.GROUP:return bI;case zr.OPEN:return zc;default:return null}},RI=function(s){switch(s){case zr.GROUP:return"".concat(G2,"/group_channels");case zr.OPEN:return"".concat(G2,"/open_channels");default:return null}},Sh=function(s,l,i){var d,u;switch(s){case ya.CHANNEL:return!0;case ya.USERS:if(l)try{for(var p=wt(l),_=p.next();!_.done;_=p.next())if(_.value===i)return!0}catch(g){d={error:g}}finally{try{_&&!_.done&&(u=p.return)&&u.call(p)}finally{if(d)throw d.error}}}return!1},tE=function(s,l,i){var d=Sh(s.mentionType,s.mentionedUserIds,i),u=Sh(l.mentionType,l.mentionedUserIds,i);return!d&&u?1:d&&!u?-1:0},yX=function(s){function l(i){var d,u,p,_=[];return i.mentionType===ya.USERS&&(i.mentionedUserIds?_=i.mentionedUserIds:i.mentionedUsers&&(_=i.mentionedUsers.map(function(g){return g.userId}))),s.call(this,{code:"FILE",ackRequired:!0,payload:Tt({channel_url:i.channelUrl,url:i.url,name:(d=i.fileName)!==null&&d!==void 0?d:"",type:(u=i.mimeType)!==null&&u!==void 0?u:"",size:(p=i.fileSize)!==null&&p!==void 0?p:0,custom:i.data,custom_type:i.customType,thumbnails:i.thumbnailSizes,require_auth:i.requireAuth,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:_,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==Ad.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId>0?i.parentMessageId:null,req_id:i.reqId,pin_message:i.isPinnedMessage})})||this}return fe(l,s),l}(po),EX=function(s){function l(i){var d,u=this;u=s.call(this)||this;var p=[];return i.mentionType===ya.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(_){return _.userId}))),u.method=Nn.POST,u.path="".concat(ur(i.channelType),"/").concat(encodeURIComponent(i.channelUrl),"/messages"),u.params=Tt({message_type:Qr.FILE,user_id:i.userId,url:i.fileUrl,mention_type:i.mentionType,mentioned_user_ids:p,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,data:i.data,custom_type:i.customType,thumbnails:i.thumbnailSizes.map(function(_){return Z2.payloadify(_)}),require_auth:i.requireAuth,sorted_metaarray:(d=i.metaArrays)===null||d===void 0?void 0:d.map(function(_){return ys.payloadify(_)}),push_option:i.pushNotificationDeliveryOption,parent_message_id:i.parentMessageId>0?i.parentMessageId:null,apple_critical_alert_options:Rd.payloadify(i.appleCriticalAlertOptions),reply_to_channel:i.isReplyToChannel,req_id:i.reqId,pin_message:i.isPinnedMessage}),u}return fe(l,s),l}(On),MI=function(s){function l(i,d,u){var p,_,g,b=this;(b=s.call(this,i,"FILE",u)||this).message=new _i(i,u);var E=sn.of(i).sdkState;return b.isMentioned=Sh(b.message.mentionType,(p=b.message.mentionedUserIds)!==null&&p!==void 0?p:(_=b.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(I){return I.userId}),E.userId),b.forceUpdateLastMessage=(g=u.force_update_last_message)!==null&&g!==void 0&&g,b}return fe(l,s),l}(Vr),wX=function(s){function l(i,d){var u,p,_=this;(_=s.call(this,i,d)||this).message=new _i(i,d);var g=sn.of(i).sdkState;return _.isMentioned=Sh(_.message.mentionType,(u=_.message.mentionedUserIds)!==null&&u!==void 0?u:_.message.mentionedUsers.map(function(b){return b.userId}),g.userId),_.forceUpdateLastMessage=(p=d.force_update_last_message)!==null&&p!==void 0&&p,_}return fe(l,s),l}(Pn);(function(s){s[s.PENDING=0]="PENDING",s[s.UPLOADING=1]="UPLOADING",s[s.UPLOADED=2]="UPLOADED",s[s.SENDING=3]="SENDING",s[s.FAILED=4]="FAILED"})(Ji||(Ji={}));var mi,xX=function(){function s(l,i){var d=i.sdkState,u=i.dispatcher,p=i.requestQueue,_=i.onlineDetector,g=i.cacheContext,b=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=l,this._sdkState=d,this._requestQueue=p,this._cacheContext=g,this._dispatcher=u,this._dispatcher.on(function(E){E instanceof $c&&(b._connectionState=E.stateType)}),this._onlineDetector=_}return Object.defineProperty(s.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===cr.CONNECTED||this._connectionState===cr.CONNECTING||this._connectionState===cr.RECONNECTING},enumerable:!1,configurable:!0}),s.prototype._sendFileMessage=function(l,i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return this._shouldSendThroughWebSocket?(d=new yX($e($e({},i.params),{channelUrl:l.url,channelType:l.channelType,url:i.params.fileUrl,requireAuth:i.requireAuth,reqId:i.requestId})),[4,this._requestQueue.send(d)]):[3,2];case 1:return[2,u.sent().as(MI).message];case 2:return d=new EX($e($e({},i.params),{channelUrl:l.url,channelType:l.channelType,url:i.params.fileUrl,userId:this._sdkState.userId,requireAuth:i.requireAuth,reqId:i.requestId})),[4,this._requestQueue.send(d)];case 3:return[2,u.sent().as(wX).message]}})})},s.prototype._resolveMessageQueue=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I,U,Y,K;return X(this,function(ce){switch(ce.label){case 0:if(!(i=this._queueMap.get(l.url)))return[3,21];if(i.isResolving)return[3,20];i.isResolving=!0,d=[],u=!0,ce.label=1;case 1:ce.trys.push([1,15,16,17]),p=wt(i.messageQueue),_=p.next(),ce.label=2;case 2:if(_.done)return[3,14];switch((g=_.value).state){case Ji.PENDING:case Ji.UPLOADING:return[3,3];case Ji.UPLOADED:return[3,4];case Ji.FAILED:return[3,12]}return[3,13];case 3:return u=!1,d.push(g),[3,13];case 4:if(!u)return[3,10];ce.label=5;case 5:return ce.trys.push([5,8,,9]),g.state=Ji.SENDING,[4,this._sendFileMessage(l,g)];case 6:return b=ce.sent(),g.deferred.resolve(b),[4,jo(100)];case 7:return ce.sent(),[3,9];case 8:return E=ce.sent(),g.deferred.reject(E),[3,9];case 9:return[3,11];case 10:d.push(g),ce.label=11;case 11:return[3,13];case 12:return g.deferred.reject(g.error.code===Mt.REQUEST_CANCELED?Qe.fileUploadCanceled:g.error),[3,13];case 13:return _=p.next(),[3,2];case 14:return[3,17];case 15:return I=ce.sent(),Y={error:I},[3,17];case 16:try{_&&!_.done&&(K=p.return)&&K.call(p)}finally{if(Y)throw Y.error}return[7];case 17:return U=i.isResolveRequestPending,i.messageQueue=d,i.isResolving=!1,i.isResolveRequestPending=!1,U?[4,this._resolveMessageQueue(l)]:[3,19];case 18:ce.sent(),ce.label=19;case 19:return[3,21];case 20:i.isResolveRequestPending=!0,ce.label=21;case 21:return[2]}})})},s.prototype._uploadNextPendingItem=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I,U,Y,K,ce,ae;return X(this,function(pe){switch(pe.label){case 0:return i=this._queueMap.get(l.url),(d=i.messageQueue.find(function(Ne){return Ne.state===Ji.PENDING}))?_s(d.params.file)?i.uploadQueue.length<6?(d.state=Ji.UPLOADING,i.uploadQueue.push(d),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!pe.sent())return[3,8];pe.label=2;case 2:return pe.trys.push([2,4,5,7]),u=new vX({file:d.params.file,channelUrl:l.url,thumbnailSizes:d.params.thumbnailSizes,requestId:d.requestId}),[4,this._requestQueue.send(u)];case 3:return p=pe.sent(),_=p.as(gX),g=_.url,b=_.fileSize,E=b===void 0?d.params.fileSize:b,I=_.thumbnailSizes,U=I===void 0?d.params.thumbnailSizes:I,Y=_.requireAuth,K=Y!==void 0&&Y,d.params.fileUrl=g,d.params.fileSize=E,d.params.thumbnailSizes=U,d.params.requireAuth=K,d.requireAuth=K,d.state=Ji.UPLOADED,[3,7];case 4:return(ce=pe.sent()).code===Mt.REQUEST_FAILED?d.error=new Qe({code:Mt.NETWORK_ERROR,message:"Failed to upload a file."}):d.error=ce,d.state=Ji.FAILED,[3,7];case 5:return(ae=i.uploadQueue.findIndex(function(Ne){return Ne.requestId===d.requestId}))>=0&&(i.uploadQueue.splice(ae,1),this._uploadNextPendingItem(l)),[4,this._resolveMessageQueue(l)];case 6:return pe.sent(),[7];case 7:return[3,10];case 8:return d.state=Ji.FAILED,d.error=Qe.connectionRequired,(ae=i.uploadQueue.findIndex(function(Ne){return Ne.requestId===d.requestId}))>=0&&(i.uploadQueue.splice(ae,1),this._uploadNextPendingItem(l)),[4,this._resolveMessageQueue(l)];case 9:pe.sent(),pe.label=10;case 10:return[3,13];case 11:return d.params.thumbnailSizes=[],d.state=Ji.UPLOADED,[4,this._resolveMessageQueue(l)];case 12:pe.sent(),pe.label=13;case 13:return[2]}})})},s.prototype.request=function(l,i,d){var u,p,_;return Z(this,void 0,void 0,function(){var g;return X(this,function(b){return g=new Pa,_s(d.file)&&(d.fileName=(u=d.fileName)!==null&&u!==void 0?u:d.file.name,d.mimeType=(p=d.mimeType)!==null&&p!==void 0?p:d.file.type,d.fileSize=(_=d.fileSize)!==null&&_!==void 0?_:d.file.size),this._queueMap.has(l.url)||this._queueMap.set(l.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(l.url).messageQueue.push({requestId:i,params:d,state:Ji.PENDING,deferred:g,requireAuth:d.requireAuth}),this._uploadNextPendingItem(l),[2,g.promise]})})},s.prototype.cancel=function(l,i){var d,u;i===void 0&&(i=null);var p=this._queueMap.get(l.url);if(p){var _=i?[p.messageQueue.find(function(I){return I.requestId===i})]:Br([],kr(p.messageQueue),!1);try{for(var g=wt(_),b=g.next();!b.done;b=g.next()){var E=b.value;if(E)switch(E.state){case Ji.PENDING:E.state=Ji.FAILED,E.error=Qe.requestCanceled,this._resolveMessageQueue(l);break;case Ji.UPLOADING:this._requestQueue.cancel(E.requestId)}}}catch(I){d={error:I}}finally{try{b&&!b.done&&(u=g.return)&&u.call(g)}finally{if(d)throw d.error}}}},s}(),qm={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:gs.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:bs.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},DI=function(s){return Ve("number",s.prevResultSize)&&Ve("number",s.nextResultSize)&&Ve("boolean",s.isInclusive)&&Ve("boolean",s.reverse)&&Ve("string",s.messageTypeFilter)&&Sr(gs,s.messageTypeFilter)&&Yt("string",s.customTypesFilter,!0)&&Yt("string",s.senderUserIdsFilter,!0)&&Sr(bs,s.replyType)&&Ve("boolean",s.includeMetaArray)&&Ve("boolean",s.includeReactions)&&Ve("boolean",s.includeParentMessageInfo)&&Ve("boolean",s.includeThreadInfo)&&Ve("boolean",s.showSubchannelMessagesOnly)},rE={replyType:bs.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},LI=function(s){return Sr(bs,s.replyType)&&Ve("boolean",s.includeReactions)&&Ve("boolean",s.includeMetaArray)&&Ve("boolean",s.includeParentMessageInfo)&&Ve("boolean",s.includeThreadInfo)};(function(s){s.UNKNOWN="UNKNOWN",s.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",s.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",s.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",s.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",s.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",s.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",s.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",s.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",s.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",s.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",s.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",s.REQUEST_MESSAGE="REQUEST_MESSAGE",s.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",s.EVENT_POLL_VOTED="EVENT_POLL_VOTED",s.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",s.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",s.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",s.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",s.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",s.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",s.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",s.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",s.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",s.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",s.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(mi||(mi={}));var Cp,es=function(s){function l(i){var d=i.messages,u=i.source,p=s.call(this)||this;return p.messages=d,p.source=u,p}return fe(l,s),l}(Ti),kX=function(s){function l(i){var d=i.messageIds,u=i.source,p=s.call(this)||this;return p.messageIds=d,p.source=u,p}return fe(l,s),l}(Ti);(function(s){function l(i){var d=i.reqId,u=i.source,p=s.call(this)||this;return p.reqId=d,p.source=u,p}fe(l,s)})(Ti);var SX=function(s){function l(i){var d=i.polls,u=i.source,p=s.call(this)||this;return p.polls=d,p.source=u,p}return fe(l,s),l}(Ti),TX=function(s){function l(i){var d=i.event,u=i.source,p=s.call(this)||this;return p.event=d,p.source=u,p}return fe(l,s),l}(Ti),UI=function(s){function l(i){var d=i.event,u=i.source,p=s.call(this)||this;return p.event=null,p.source=null,p.event=d,p.source=u,p}return fe(l,s),l}(Ti),CX=function(s){function l(i){var d=i.channelType,u=i.channelUrl,p=i.messageId,_=i.includeMetaArray,g=i.includeReactions,b=i.includeThreadInfo,E=i.includeParentMessageInfo,I=s.call(this)||this;return I.method=Nn.GET,I.path="".concat(ur(d),"/").concat(encodeURIComponent(u),"/messages/").concat(encodeURIComponent(p)),I.params={is_sdk:!0,with_sorted_meta_array:_,include_reactions:g,include_thread_info:b,include_parent_message_info:E,include_poll_details:!0},I}return fe(l,s),l}(On),IX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.message=d?Dd(i,$e({},d)):null,u}return fe(l,s),l}(Pn),iE=function(s){function l(i){var d=i.channelType,u=i.channelUrl,p=i.timestamp,_=p===void 0?null:p,g=i.token,b=g===void 0?null:g,E=i.prevResultSize,I=i.nextResultSize,U=i.isInclusive,Y=i.reverse,K=i.messageTypeFilter,ce=i.customTypesFilter,ae=i.senderUserIdsFilter,pe=i.replyType,Ne=i.includeMetaArray,Ee=i.includeReactions,ze=i.parentMessageId,dn=i.includeThreadInfo,Ce=i.includeParentMessageInfo,be=i.showSubchannelMessagesOnly,rn=s.call(this)||this;return rn.method=Nn.GET,rn.path="".concat(ur(d),"/").concat(encodeURIComponent(u),"/messages"),rn.params=Tt({is_sdk:!0,prev_limit:E,next_limit:I,include:U,reverse:Y,message_ts:_,message_id:b,message_type:K!=null?K:null,custom_types:ce,sender_ids:ae,include_reply_type:pe,with_sorted_meta_array:Ne,include_reactions:Ee,parent_message_id:ze,include_thread_info:dn,include_parent_message_info:Ce,show_subchannel_message_only:be,include_poll_details:!0}),rn}return fe(l,s),l}(On),aE=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.messages=d.messages.map(function(p){return Dd(i,p)}),u}return fe(l,s),l}(Pn),NX=function(s){function l(i){var d=i.channelType,u=i.channelUrl,p=i.timestamp,_=i.token,g=i.replyType,b=i.includeMetaArray,E=i.includeReactions,I=i.includeThreadInfo,U=i.includeParentMessageInfo,Y=s.call(this)||this;return Y.method=Nn.GET,Y.path="".concat(ur(d),"/").concat(encodeURIComponent(u),"/messages/changelogs"),Y.params={change_ts:p,token:_,with_sorted_meta_array:b,include_reactions:E,include_thread_info:I,include_reply_type:g,include_parent_message_info:U,include_poll_details:!0},Y}return fe(l,s),l}(On),AX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.updatedMessages=d.updated.map(function(p){return Dd(i,p)}),u.deletedMessagesInfo=d.deleted.map(function(p){return{messageId:p.message_id,deletedAt:p.deleted_at}}),u.hasMore=d.has_more,u.nextToken=d.next,u}return fe(l,s),l}(Pn),OX=function(s){function l(i){var d=i.channelUrl,u=i.scheduledMessageId,p=s.call(this)||this;return p.method=Nn.GET,p.path="".concat(bI,"/").concat(encodeURIComponent(d),"/scheduled_messages/").concat(encodeURIComponent(u)),p.params={},p}return fe(l,s),l}(On),RX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.message=d?Dd(i,$e({},d)):null,u}return fe(l,s),l}(Pn),PI={},Fa=function(){function s(l,i){var d=i.sdkState,u=i.dispatcher,p=i.requestQueue,_=i.onlineDetector,g=i.cacheContext;this._iid=l,this._sdkState=d,this._requestQueue=p,this._dispatcher=u,this._cacheContext=g,this.fileMessageQueue=new xX(l,{sdkState:d,dispatcher:u,requestQueue:p,onlineDetector:_,cacheContext:g}),PI[l]=this}return s.of=function(l){return PI[l]},s.prototype.buildMessageFromSerializedData=function(l){var i=xp(l);switch(i.messageType){case Qr.USER:return new Ea(this._iid,Ea.payloadify(i));case Qr.FILE:return new _i(this._iid,_i.payloadify(i));case Qr.ADMIN:return new kh(this._iid,kh.payloadify(i))}return null},s.prototype.buildUserMessageCreateParamsFromSerializedData=function(l,i){return Tt({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:l.isReplyToChannel,pushNotificationDeliveryOption:l.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,message:i.message,translationTargetLanguages:Object.keys(i.translations),pollId:l.pollId})},s.prototype.buildFileMessageCreateParamsFromSerializedData=function(l,i){return Tt({data:i.data,customType:i.customType,mentionType:i.mentionType,mentionedUserIds:i.mentionedUserIds,mentionedUsers:i.mentionedUsers,mentionedMessageTemplate:i.mentionedMessageTemplate,metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,isReplyToChannel:l.isReplyToChannel,pushNotificationDeliveryOption:l.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,reqId:i.reqId,file:l.file,fileKey:l.fileKey,fileUrl:i.plainUrl,fileName:i.name,fileSize:i.size,mimeType:i.type,thumbnailSizes:i.thumbnails.map(function(d){return{maxWidth:d.width,maxHeight:d.height}}),fileType:l.fileType,requireAuth:i.requireAuth})},s.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(l,i){return $e($e({},this.buildUserMessageCreateParamsFromSerializedData(l,i)),{scheduledAt:l.scheduledAt})},s.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(l,i){return $e($e({},this.buildFileMessageCreateParamsFromSerializedData(l,i)),{scheduledAt:l.scheduledAt})},s.prototype.buildSenderFromSerializedData=function(l){var i=xp(l);return new Sp(this._iid,Sp.payloadify(i))},s.prototype.getMessage=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return i=new CX(l),[4,this._requestQueue.send(i)];case 1:return[2,d.sent().as(IX).message]}})})},s.prototype.getScheduledMessage=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return i=new OX(l),[4,this._requestQueue.send(i)];case 1:return[2,d.sent().as(RX).message]}})})},s.prototype.getMessagesByMessageId=function(l,i,d,u,p){return p===void 0&&(p=mi.REQUEST_MESSAGE),Z(this,void 0,void 0,function(){var _,g,b;return X(this,function(E){switch(E.label){case 0:return _=new iE($e($e({channelType:i,channelUrl:l,token:String(d)},qm),u)),[4,this._requestQueue.send(_)];case 1:return g=E.sent(),b=g.as(aE).messages,this._dispatcher.dispatch(new es({messages:b,source:p})),[2,b]}})})},s.prototype.getMessagesByTimestamp=function(l,i,d,u,p){return p===void 0&&(p=mi.REQUEST_MESSAGE),Z(this,void 0,void 0,function(){var _,g,b;return X(this,function(E){switch(E.label){case 0:return _=new iE($e($e({channelType:i,channelUrl:l,timestamp:d},qm),u)),[4,this._requestQueue.send(_)];case 1:return g=E.sent(),b=g.as(aE).messages,this._dispatcher.dispatch(new es({messages:b,source:p})),[2,b]}})})},s.prototype.getThreadedMessagesByTimestamp=function(l,i,d,u){return u===void 0&&(u=mi.REQUEST_THREADED_MESSAGE),Z(this,void 0,void 0,function(){var p,_,g,b;return X(this,function(E){switch(E.label){case 0:return p=new iE($e($e($e({channelUrl:l.channelUrl,channelType:l.channelType,timestamp:i},Vm),d),{replyType:bs.ALL,parentMessageId:l.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(p)];case 1:return _=E.sent(),g=_.as(aE).messages,(b=g.slice(1)).forEach(function(I){I.parentMessage=l}),this._dispatcher.dispatch(new es({messages:b,source:u})),[2,{parentMessage:g[0],threadedMessages:b}]}})})},s.prototype.getMessageChangelogs=function(l,i,d,u,p){return p===void 0&&(p=mi.REQUEST_MESSAGE_CHANGELOGS),Z(this,void 0,void 0,function(){var _,g,b,E,I,U,Y,K;return X(this,function(ce){switch(ce.label){case 0:return _=new NX(Tt($e($e({channelType:i,channelUrl:l,timestamp:typeof d=="number"?d:null,token:typeof d=="string"?d:null},rE),u))),[4,this._requestQueue.send(_)];case 1:return g=ce.sent(),b=g.as(AX),E=b.updatedMessages,I=b.deletedMessagesInfo,U=b.hasMore,Y=b.nextToken,K=I.map(function(ae){return ae.messageId}),E.length>0&&this._dispatcher.dispatch(new es({messages:E,source:p})),K.length>0&&this._dispatcher.dispatch(new kX({messageIds:K,source:p})),[2,{updatedMessages:E,deletedMessageIds:K,hasMore:U,token:Y}]}})})},s}(),sE=function(){function s(){this._onPending=Dt,this._onFailed=Dt,this._onSucceeded=Dt}return s.prototype._trigger=function(l,i){switch(i.sendingStatus){case $r.PENDING:i.errorCode===0&&this._onPending(i);break;case $r.FAILED:case $r.CANCELED:this._onFailed(l,i.scheduledInfo?null:i);break;case $r.SCHEDULED:case $r.SUCCEEDED:this._onSucceeded(i)}},s.prototype.onPending=function(l){return this._onPending=l,this},s.prototype.onFailed=function(l){return this._onFailed=l,this},s.prototype.onSucceeded=function(l){return this._onSucceeded=l,this},s}(),MX=function(s){function l(i,d){var u=s.call(this,i)||this;u.threadInfo=null,u.targetMessageId=0,u.channelUrl=null,u.channelType=null;var p=d.thread_info,_=d.parent_message_id,g=d.channel_url,b=d.channel_type;return p&&Ve("object",p)&&Ve("number",_)&&Ve("string",g)&&Ve("string",b)&&(u.threadInfo=new Y2(i,p),u.targetMessageId=_,u.channelUrl=g,u.channelType=b),u}return fe(l,s),l}(Ko),DX={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},Th=function(){function s(l,i){var d;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=l,this.limit=(d=i.limit)!==null&&d!==void 0?d:20}return Object.defineProperty(s.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),s.prototype._validate=function(){return Ve("number",this.limit)&&this.limit>0},s}(),LX=function(s){function l(i){var d=i.channelCustomType,u=i.keyword,p=i.limit,_=i.reverse,g=i.exactMatch,b=i.channelUrl,E=i.order,I=i.messageTimestampFrom,U=i.messageTimestampTo,Y=i.advancedQuery,K=i.targetFields,ce=i.nextToken,ae=s.call(this)||this;return ae.method=Nn.GET,ae.path="".concat(YY,"/messages"),ae.params={custom_type:d,query:u,limit:p,reverse:_,exact_match:g,channel_url:b,message_ts_from:I,message_ts_to:U,sort_field:E,advanced_query:Y,target_fields:K,after:ce},ae}return fe(l,s),l}(On),UX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.messages=d.results.map(function(p){return Dd(i,p)}),u.hasNext=d.has_next,u.nextToken=d.end_cursor,u.totalCount=d.total_count,u}return fe(l,s),l}(Pn);(function(s){s.SCORE="score",s.TIMESTAMP="ts"})(Cp||(Cp={}));var wa,oE,yi,lE,PX=function(s){function l(i,d){var u,p,_,g,b,E,I,U,Y,K=this;return(K=s.call(this,i,d)||this).keyword="",K.reverse=!1,K.exactMatch=!1,K.channelUrl="",K.channelCustomType="",K.messageTimestampFrom=null,K.messageTimestampTo=null,K.order=Cp.SCORE,K.advancedQuery=!1,K.targetFields=null,K._nextToken="",K.totalCount=-1,K.keyword=d.keyword,K.reverse=(u=d.reverse)!==null&&u!==void 0&&u,K.exactMatch=(p=d.exactMatch)!==null&&p!==void 0&&p,K.channelUrl=(_=d.channelUrl)!==null&&_!==void 0?_:"",K.channelCustomType=(g=d.channelCustomType)!==null&&g!==void 0?g:"",K.messageTimestampFrom=(b=d.messageTimestampFrom)!==null&&b!==void 0?b:null,K.messageTimestampTo=(E=d.messageTimestampTo)!==null&&E!==void 0?E:null,K.order=(I=d.order)!==null&&I!==void 0?I:Cp.SCORE,K.advancedQuery=(U=d.advancedQuery)!==null&&U!==void 0&&U,K.targetFields=(Y=d.targetFields)!==null&&Y!==void 0?Y:null,K}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("string",this.keyword)&&this.keyword.length>0&&Ve("boolean",this.reverse)&&Ve("boolean",this.exactMatch)&&Ve("string",this.channelUrl)&&Ve("string",this.channelCustomType)&&(Ve("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(Ve("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&Sr(Cp,this.order)&&Ve("boolean",this.advancedQuery)&&Yt("string",this.targetFields,!0)},l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E;return X(this,function(I){switch(I.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid).requestQueue,d=new LX($e($e({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,i.send(d)]):[3,2]:[3,5];case 1:return u=I.sent(),p=u.as(UX),_=p.messages,g=p.hasNext,b=p.nextToken,E=p.totalCount,this._nextToken=b,this._hasNext=g,this._isLoading=!1,this.totalCount=E,[2,_];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Th),Kc=function(s){function l(i,d,u,p){var _=s.call(this,i,p)||this;return _.channelUrl=d,_.channelType=u,_}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("string",this.channelUrl)&&Sr(zr,this.channelType)},l}(Th),FX=function(s){function l(i,d,u,p){var _,g,b,E,I,U,Y,K,ce,ae,pe=this;return(pe=s.call(this,i,d,u,p)||this).reverse=!1,pe.messageTypeFilter=gs.ALL,pe.customTypesFilter=null,pe.senderUserIdsFilter=null,pe.replyType=bs.NONE,pe.includeMetaArray=!1,pe.includeReactions=!1,pe.includeParentMessageInfo=!1,pe.includeThreadInfo=!1,pe.showSubchannelMessagesOnly=!1,pe._edge=Number.MAX_SAFE_INTEGER,pe.reverse=(_=p.reverse)!==null&&_!==void 0&&_,pe.messageTypeFilter=(g=p.messageTypeFilter)!==null&&g!==void 0?g:gs.ALL,pe.customTypesFilter=(b=p.customTypesFilter)!==null&&b!==void 0?b:null,pe.senderUserIdsFilter=(E=p.senderUserIdsFilter)!==null&&E!==void 0?E:null,pe.replyType=(I=p.replyType)!==null&&I!==void 0?I:bs.NONE,pe.includeMetaArray=(U=p.includeMetaArray)!==null&&U!==void 0&&U,pe.includeReactions=(Y=p.includeReactions)!==null&&Y!==void 0&&Y,pe.includeParentMessageInfo=(K=p.includeParentMessageInfo)!==null&&K!==void 0&&K,pe.includeThreadInfo=(ce=p.includeThreadInfo)!==null&&ce!==void 0&&ce,pe.showSubchannelMessagesOnly=(ae=p.showSubchannelMessagesOnly)!==null&&ae!==void 0&&ae,pe}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("boolean",this.reverse)&&Sr(gs,this.messageTypeFilter)&&Sr(bs,this.replyType)&&Yt("string",this.customTypesFilter,!0)&&Yt("string",this.senderUserIdsFilter,!0)&&Ve("boolean",this.includeMetaArray)&&Ve("boolean",this.includeReactions)&&Ve("boolean",this.includeParentMessageInfo)&&Ve("boolean",this.includeThreadInfo)&&Ve("boolean",this.showSubchannelMessagesOnly)},l.prototype.load=function(){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Fa.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return i=d.sent(),this._edge=Math.min.apply(Math,Br([Number.MAX_SAFE_INTEGER],kr(i.map(function(u){return u.createdAt})),!1)),this._hasNext=i.length>=this.limit,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Kc),HX={channelUrl:null,scheduledMessageId:0},BX=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="message",i}return fe(l,s),l.prototype.init=function(i,d){var u=d.sdkState,p=d.dispatcher,_=d.sessionManager,g=d.requestQueue,b=d.logger,E=d.onlineDetector,I=d.cacheContext;s.prototype.init.call(this,i,{sdkState:u,dispatcher:p,sessionManager:_,requestQueue:g,logger:b,onlineDetector:E,cacheContext:I}),this._manager=new Fa(i,{sdkState:u,dispatcher:p,requestQueue:g,onlineDetector:E,cacheContext:I})},l.prototype.buildMessageFromSerializedData=function(i){return this._manager.buildMessageFromSerializedData(i)},l.prototype.buildSenderFromSerializedData=function(i){return this._manager.buildSenderFromSerializedData(i)},l.prototype.getMessage=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){return d=$e($e({},DX),i),Fn(function(p){return Ve("string",p.channelUrl)&&Ve("string",p.channelType)&&Sr(zr,p.channelType)&&Ve("number",p.messageId)&&Ve("boolean",p.includeMetaArray)&&Ve("boolean",p.includeParentMessageInfo)&&Ve("boolean",p.includeThreadInfo)}(d)).throw(Qe.invalidParameters),[2,this._manager.getMessage(d)]})})},l.prototype.getScheduledMessage=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){return d=$e($e({},HX),i),Fn(function(p){return Ve("string",p.channelUrl)&&Ve("number",p.scheduledMessageId)}(d)).throw(Qe.invalidParameters),[2,this._manager.getScheduledMessage(d)]})})},l}(Q2);(function(s){s.SUCCESS="success",s.PENDING="pending",s.ERROR="error"})(wa||(wa={})),function(s){s.DEFAULT="default",s.ALL="all",s.MENTION_ONLY="mention_only",s.OFF="off"}(oE||(oE={})),function(s){s.FCM="gcm",s.APNS="apns",s.UNKNOWN="unknown"}(yi||(yi={})),function(s){s.ALTERNATIVE="alternative",s.DEFAULT="default"}(lE||(lE={}));var Ld,FI,HI,$X=function(s){function l(i){var d=i.title,u=i.optionTexts,p=i.data,_=i.allowUserSuggestion,g=i.allowMultipleVotes,b=i.closeAt,E=s.call(this)||this;return E.method=Nn.POST,E.path=fo,E.params={title:d,options:u,data:p,allow_user_suggestion:_,allow_multiple_votes:g,close_at:b},E}return fe(l,s),l}(On),zX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.poll=new Bs(i,d),u}return fe(l,s),l}(Pn),VX=function(s){function l(i){var d=i.channelUrl,u=i.channelType,p=i.pollId,_=s.call(this)||this;return _.method=Nn.GET,_.path="".concat(fo,"/").concat(encodeURIComponent(p)),_.params={channel_url:d,channel_type:u},_}return fe(l,s),l}(On),GX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.poll=new Bs(i,d),u}return fe(l,s),l}(Pn),qX=function(s){function l(i){var d=i.channelUrl,u=i.channelType,p=i.pollId,_=i.pollOptionId,g=s.call(this)||this;return g.method=Nn.GET,g.path="".concat(fo,"/").concat(encodeURIComponent(p),"/options/").concat(encodeURIComponent(_)),g.params={channel_url:d,channel_type:u},g}return fe(l,s),l}(On),jX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.pollOption=new Gm(i,d),u}return fe(l,s),l}(Pn),KX=function(s){function l(i){var d=i.channelType,u=i.channelUrl,p=i.timestamp,_=i.token,g=s.call(this)||this;return g.method=Nn.GET,g.path="".concat(ur(d),"/").concat(encodeURIComponent(u),"/polls/changelogs"),g.params=Tt({change_ts:p,token:_}),g}return fe(l,s),l}(On),WX=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.updatedPolls=d.updated.map(function(p){return function(_,g){return g?new Bs(_,g):null}(i,p)}),u.deletedPollIds=d.deleted.map(function(p){return p}),u.hasMore=d.has_more,u.nextToken=d.next,u}return fe(l,s),l}(Pn),QX={title:null,optionTexts:null,data:null,allowUserSuggestion:null,allowMultipleVotes:null,closeAt:-1},BI=function(s){return Ve("string",s.title)&&function(l){return Yt("string",l)&&l.every(function(i){return i.trim()!==""})}(s.optionTexts)&&OI(s.data)&&Ve("boolean",s.allowUserSuggestion,!0)&&Ve("boolean",s.allowMultipleVotes,!0)&&Ve("number",s.closeAt,!0)},YX={channelUrl:null,channelType:null,pollId:null,pollOptionId:null},$I=function(s){return Ve("string",s.channelUrl)&&Sr(zr,s.channelType)&&Ve("number",s.pollId)&&Ve("number",s.pollOptionId)},XX={channelUrl:null,channelType:null,pollId:null},zI=function(s){return Ve("string",s.channelUrl)&&s.channelUrl!==""&&Sr(zr,s.channelType)&&Ve("number",s.pollId)},VI={},dE=function(){function s(l,i){var d=i.sdkState,u=i.dispatcher,p=i.sessionManager,_=i.requestQueue,g=i.logger;this._iid=l,this._sdkState=d,this._sessionManager=p,this._requestQueue=_,this._dispatcher=u,this._logger=g,VI[l]=this}return s.of=function(l){return VI[l]},s.prototype.buildPollFromSerializedData=function(l){var i=xp(l);return new Bs(this._iid,Bs.payloadify(i))},s.prototype.get=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return Fn(zI(l)).throw(Qe.invalidParameters),i=new VX($e({},l)),[4,this._requestQueue.send(i)];case 1:return[2,d.sent().as(GX).poll]}})})},s.prototype.create=function(l){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:return Fn(BI(l)).throw(Qe.invalidParameters),i=l.data,d=new $X($e($e({},l),{data:i})),[4,this._requestQueue.send(d)];case 1:return[2,u.sent().as(zX).poll]}})})},s.prototype.getOption=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return Fn($I(l)).throw(Qe.invalidParameters),i=new qX($e({},l)),[4,this._requestQueue.send(i)];case 1:return[2,d.sent().as(jX).pollOption]}})})},s.prototype.getPollChangeLogs=function(l,i,d,u){return u===void 0&&(u=mi.SYNC_POLL_CHANGELOGS),Z(this,void 0,void 0,function(){var p,_,g,b,E,I,U;return X(this,function(Y){switch(Y.label){case 0:return p=new KX(Tt({channelType:i,channelUrl:l,timestamp:typeof d=="number"?d:null,token:typeof d=="string"?d:null})),[4,this._requestQueue.send(p)];case 1:return _=Y.sent(),g=_.as(WX),b=g.updatedPolls,E=g.deletedPollIds,I=g.hasMore,U=g.nextToken,b.length>0&&this._dispatcher.dispatch(new SX({polls:b,source:u})),[2,{updatedPolls:b,deletedPollIds:E,hasMore:I,token:U}]}})})},s}(),ZX=function(s,l){this.pollId=0,this.messageId=0,this.pollId=l.poll.id,this.messageId=l.poll.message_id,this._iid=s,this._payload=l},JX=function(s){this.pollId=0,this.messageId=0,this.pollId=s.poll_id,this.messageId=s.message_id,this._payload=s},eZ=function(s){function l(i){var d=i.channelUrl,u=i.channelType,p=i.token,_=i.limit,g=s.call(this)||this;return g.method=Nn.GET,g.path=fo,g.params={channel_url:d,channel_type:u,token:p,limit:_},g}return fe(l,s),l}(On),nZ=function(s){function l(i,d){var u,p=this;return(p=s.call(this,i,d)||this).polls=((u=d.polls)!==null&&u!==void 0?u:[]).map(function(_){return new Bs(i,_)}),p.token=d.next,p}return fe(l,s),l}(Pn),GI=function(s){function l(i,d){return s.call(this,i,d.channelUrl,d.channelType,d)||this}return fe(l,s),l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid).requestQueue,d=new eZ($e($e({},this),{token:this._token})),[4,i.send(d)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(nZ),_=p.polls,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Kc),tZ=function(s){function l(i){var d=i.channelUrl,u=i.channelType,p=i.pollId,_=i.pollOptionId,g=i.token,b=i.limit,E=s.call(this)||this;return E.method=Nn.GET,E.path="".concat(fo,"/").concat(encodeURIComponent(p),"/options/").concat(encodeURIComponent(_),"/voters"),E.params={channel_url:d,channel_type:u,token:g,limit:b},E}return fe(l,s),l}(On),rZ=function(s){function l(i,d){var u,p=this;return(p=s.call(this,i,d)||this).voters=((u=d.voters)!==null&&u!==void 0?u:[]).map(function(_){return new Lt(i,_)}),p.token=d.next,p}return fe(l,s),l}(Pn),qI=function(s){function l(i,d){var u=s.call(this,i,d.channelUrl,d.channelType,d)||this;return u.pollId=d.pollId,u.pollOptionId=d.pollOptionId,u}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("number",this.pollId)&&Ve("number",this.pollOptionId)},l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid).requestQueue,d=new tZ($e($e({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,i.send(d)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(rZ),_=p.voters,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Kc),iZ=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="poll",i}return fe(l,s),l.prototype.init=function(i,d){var u=d.sdkState,p=d.dispatcher,_=d.sessionManager,g=d.requestQueue,b=d.logger,E=d.onlineDetector,I=d.cacheContext;s.prototype.init.call(this,i,{sdkState:u,dispatcher:p,sessionManager:_,requestQueue:g,logger:b,onlineDetector:E,cacheContext:I}),this._manager=new dE(i,{sdkState:u,dispatcher:p,sessionManager:_,requestQueue:g,logger:b,onlineDetector:E,cacheContext:I})},l.prototype.create=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){return d=$e($e({},QX),i),Fn(BI(d)).throw(Qe.invalidParameters),[2,this._manager.create(d)]})})},l.prototype.get=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){return d=$e($e({},XX),i),Fn(zI(d)).throw(Qe.invalidParameters),[2,this._manager.get(d)]})})},l.prototype.getOption=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){return d=$e($e({},YX),i),Fn($I(d)).throw(Qe.invalidParameters),[2,this._manager.getOption(d)]})})},l.prototype.buildPollFromSerializedData=function(i){return this._manager.buildPollFromSerializedData(i)},l}(Q2),aZ={profileImage:null,profileUrl:null,nickname:null},sZ=function(s){function l(i){i===void 0&&(i={});var d=s.call(this)||this;return Object.keys(i).forEach(function(u){d.hasOwnProperty(u)&&(d[u]=i[u])}),d}return fe(l,s),l}(function(){this.onSessionExpired=Dt,this.onSessionTokenRequired=function(s){return s(null)},this.onSessionError=Dt,this.onSessionRefreshed=Dt,this.onSessionClosed=Dt}),oZ=function(s){function l(i){i===void 0&&(i={});var d=s.call(this)||this;return Object.keys(i).forEach(function(u){d.hasOwnProperty(u)&&(d[u]=i[u])}),d}return fe(l,s),l}(function(){this.onConnected=Dt,this.onReconnectStarted=Dt,this.onReconnectSucceeded=Dt,this.onReconnectFailed=Dt,this.onDisconnected=Dt}),lZ=function(s){function l(i){i===void 0&&(i={});var d=s.call(this)||this;return Object.keys(i).forEach(function(u){d.hasOwnProperty(u)&&(d[u]=i[u])}),d}return fe(l,s),l}(function(){this.onFriendsDiscovered=Dt,this.onTotalUnreadMessageCountUpdated=Dt});(function(s){s.LATEST_LAST_MESSAGE="latest_last_message",s.CHRONOLOGICAL="chronological",s.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",s.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(Ld||(Ld={})),function(s){s.CHRONOLOGICAL="chronological",s.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",s.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(FI||(FI={})),function(s){s.CREATED_AT="created_at",s.SCHEDULED_AT="scheduled_at"}(HI||(HI={}));var Bi,cE=function(s){switch(s){case Ld.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case Ld.CHRONOLOGICAL:return["-createdAt","syncIndex"];case Ld.CHANNEL_NAME_ALPHABETICAL:return["name"]}},jm=function(){function s(){this.messageTypeFilter=gs.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=bs.NONE}return s.prototype.clone=function(){var l=new s,i=JSON.parse(JSON.stringify(this));return Object.keys(i).forEach(function(d){l[d]=i[d]}),l},s.prototype.match=function(l){switch(this.messageTypeFilter){case gs.USER:if(l.messageType!==Qr.USER)return!1;break;case gs.FILE:if(l.messageType!==Qr.FILE)return!1;break;case gs.ADMIN:if(l.messageType!==Qr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(l.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(l instanceof Tp)||!this.senderUserIdsFilter.includes(l.sender.userId)))return!1;switch(this.replyType){case bs.NONE:if(l.parentMessageId>0)return!1;break;case bs.ONLY_REPLY_TO_CHANNEL:if(l instanceof Tp&&l.parentMessageId>0&&!l.replyToChannel)return!1}return!0},s}();(function(s){s.CHANNEL_LATEST="channel_latest",s.NEWEST_CHILD_MESSAGE="newest_child_message"})(Bi||(Bi={}));var Ch,Al=function(s){switch(s){case Bi.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case Bi.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},uE={data:null,customType:null,mentionType:ya.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null,isPinnedMessage:!1},jI=function(s){return Ve("string",s.data,!0)&&Ve("string",s.customType,!0)&&Sr(ya,s.mentionType)&&Yt("string",s.mentionedUserIds,!0)&&Yt(Lt,s.mentionedUsers,!0)&&Ve("string",s.mentionedMessageTemplate,!0)&&Yt(ys,s.metaArrays,!0)&&Ve("number",s.parentMessageId,!0)&&Ve("boolean",s.isReplyToChannel)&&Sr(Ad,s.pushNotificationDeliveryOption,!0)&&Ve(Rd,s.appleCriticalAlertOptions,!0)&&Ve("boolean",s.isPinnedMessage,!0)},KI=function(s){return s?{isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption,pollId:s.pollId}:null},WI=$e($e({},uE),{message:null,translationTargetLanguages:null,pollId:null});(function(s){s.FILE="file",s.BLOB="blob",s.BLOB_LIKE_OBJECT="blobLikeObject",s.URL="url"})(Ch||(Ch={}));var hE=function(s){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&s instanceof Blob},QI=function(s){return s===Ch.BLOB||s===Ch.FILE},YI=function(s){return s?{file:s.file,fileKey:s.fileKey,fileType:s.fileType,isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption}:null},XI=$e($e({},uE),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),ZI=function(s){return jI(s)&&(_s(s.file)||Ve("string",s.fileUrl))&&Ve("string",s.fileName,!0)&&Ve("string",s.mimeType,!0)&&Ve("number",s.fileSize,!0)&&(s.thumbnailSizes===null||Array.isArray(s.thumbnailSizes)&&s.thumbnailSizes.every(function(l){return Ve("object",l)&&l.maxWidth>0&&l.maxHeight>0}))},Ol=typeof document<"u"&&typeof navigator<"u";Ol&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var dZ=Ol&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");Ol&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),Ol&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),Ol&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var Ip,ea,cZ=Ol&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),JI=function(){var s=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var i=(s+16*Math.random())%16|0;return s=Math.floor(s/16),(l==="x"?i:3&i|8).toString(16)})};(function(s){s[s.PROCESSING=0]="PROCESSING",s[s.DONE=1]="DONE"})(Ip||(Ip={})),function(s){s.NEWNODE="newnode",s.REMOVENODE="removenode",s.CLAIM_HOST="claimhost",s.SYNC_HOST="synchost",s.REQUEST_LOCK="requestlock",s.ACQUIRE_LOCK="acquirelock",s.RELEASE_LOCK="releaselock"}(ea||(ea={}));var pE,fE={},_E=function(){function s(l,i){i===void 0&&(i={});var d=this;return this._state=Ip.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],fE[l]&&!i.forceCreate||(this.nodeId=JI(),this.key=l,Ol&&(i.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&d.claimHost()}),window.addEventListener("message",function(u){var p,_,g=u.data,b=g.nodeId,E=g.requestId,I=g.key,U=g.op,Y=g.data;if(b!==d.nodeId&&I===d.key)switch(U){case ea.NEWNODE:d._sendSync();break;case ea.CLAIM_HOST:d._sendSync(),d._hostId=b;break;case ea.SYNC_HOST:if(!d.isInSync){d._activationTimeout&&clearTimeout(d._activationTimeout);var K=Y,ce=K.currentItemRequestId,ae=K.queue,pe=function(dn){d._queue.findIndex(function(Ce){return Ce.requestId===dn.requestId})<0&&d._requestLock({nodeId:dn.nodeId,requestId:dn.requestId,key:d.key,op:ea.REQUEST_LOCK,ts:dn.ts})};try{for(var Ne=wt(ae),Ee=Ne.next();!Ee.done;Ee=Ne.next())pe(Ee.value)}catch(dn){p={error:dn}}finally{try{Ee&&!Ee.done&&(_=Ne.return)&&_.call(Ne)}finally{if(p)throw p.error}}d._currentItem=d._queue.find(function(dn){return dn.requestId===ce}),d._completeSync()}break;case ea.REMOVENODE:d._queue=d._queue.filter(function(dn){return dn.nodeId!==g.nodeId}),d._currentItem&&d._currentItem.nodeId===g.nodeId&&(d._currentItem=null,d._acquire(d._queue[0]));break;case ea.REQUEST_LOCK:d._requestLock(g);break;case ea.ACQUIRE_LOCK:var ze=d._queue.find(function(dn){return dn.requestId===E});d._acquire(ze);break;case ea.RELEASE_LOCK:d._release(E)}}),window.addEventListener("beforeunload",function(){d._send(ea.REMOVENODE)})),fE[l]=this),fE[l]}return Object.defineProperty(s.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isInSync",{get:function(){return this._state==Ip.DONE},enumerable:!1,configurable:!0}),s.prototype._send=function(l,i){var d,u;i===void 0&&(i={});var p={nodeId:this.nodeId,requestId:(d=i==null?void 0:i.requestId)!==null&&d!==void 0?d:JI(),key:this.key,op:l,data:(u=i.data)!==null&&u!==void 0?u:null,ts:Date.now()};return Ol&&window.postMessage(p,"*"),p},s.prototype._acquire=function(l){l===void 0&&(l=null),l?(this._currentItem=l,this._currentItem.onAcquired(l.requestId)):this._currentItem=null},s.prototype._release=function(l){if(this._currentItem&&this._currentItem.requestId===l){var i=this._currentItem;this._currentItem=null,i.nodeId===this.nodeId&&this._send(ea.RELEASE_LOCK,{requestId:i.requestId});var d=this._queue.findIndex(function(u){return u.requestId===l});d>-1&&this._queue.splice(d,1),i.onReleased(l)}},s.prototype._requestLock=function(l){var i=this;return new Promise(function(d){var u={nodeId:l.nodeId,requestId:l.requestId,ts:l.ts,onAcquired:function(g){i.isHost&&i._send(ea.ACQUIRE_LOCK,{requestId:g}),d()},onReleased:function(){i._acquire(i._queue[0])}},p=!1;for(var _ in i._queue)if(i._queue[_].ts>u.ts){i._queue.splice(parseInt(_),0,u),p=!0;break}p||i._queue.push(u),i._currentItem||i._acquire(i._queue[0])})},s.prototype._sendSync=function(){var l;this.isHost&&this._send(ea.SYNC_HOST,{data:{currentItemRequestId:(l=this._currentItem)===null||l===void 0?void 0:l.requestId,queue:this._queue.map(function(i){return{nodeId:i.nodeId,requestId:i.requestId,ts:i.ts}})}})},s.prototype._waitUntilSyncCompleted=function(){return Z(this,void 0,void 0,function(){var l=this;return X(this,function(i){return this.isHost&&!this.isInSync?[2,new Promise(function(d){l._activationQueue.push(d)})]:[2]})})},s.prototype._waitSync=function(){var l=this;this.isInSync||(this._activationTimeout=setTimeout(function(){l._completeSync()},8))},s.prototype._completeSync=function(){this.isInSync||(this._state=Ip.DONE,this._activationQueue.forEach(function(l){return l()}),this._activationQueue=[])},s.prototype.registerNode=function(){this._send(ea.NEWNODE),this._waitSync()},s.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(ea.CLAIM_HOST),this._waitSync()},s.prototype.lock=function(){return Z(this,void 0,void 0,function(){var l;return X(this,function(i){switch(i.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return i.sent(),l=this._send(ea.REQUEST_LOCK),[4,this._requestLock(l)];case 2:return i.sent(),[2]}})})},s.prototype.unlock=function(){var l;this._release((l=this._currentItem)===null||l===void 0?void 0:l.requestId)},s}();$e($e({},WI),{scheduledAt:null}),$e($e({},uE),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1});var eN={},nN=function(s){function l(i,d){var u=d.sdkState,p=d.cacheContext,_=s.call(this,i)||this;return _._sdkState=u,_._cacheContext=p,eN[i]=_,_._mutex=new _E("unsendmessagecache.lock"),_}return fe(l,s),l.of=function(i){return eN[i]},Object.defineProperty(l.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb;return i&&i.collection("UnsentMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),l.prototype._serialize=function(i){if(i.messageId>0)throw Qe.invalidParameters;var d,u=$e({},i.serialize());return i instanceof Ea?(i.messageParams&&(u.messageParams=KI(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(u.scheduledInfo.scheduledMessageParams=(d=i.scheduledInfo.scheduledMessageParams,$e($e({},KI(d)),{scheduledAt:d.scheduledAt})))):i instanceof _i&&(i.messageParams&&(u.messageParams=YI(i.messageParams)),i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(u.scheduledInfo.scheduledMessageParams=function(p){return $e($e({},YI(p)),{scheduledAt:p.scheduledAt})}(i.scheduledInfo.scheduledMessageParams))),u},l.prototype._deserialize=function(i){return i?(i=$e($e({},i),{messageId:parseInt(i.messageId)}),Fa.of(this._iid).buildMessageFromSerializedData(i)):null},l.prototype._deserializeWithMessageCreateParams=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:return d=Fa.of(this._iid),u=this._deserialize(i),i.messageParams?u instanceof Ea?(p=i.messageParams,u.messageParams=d.buildUserMessageCreateParamsFromSerializedData(p,u),[3,4]):[3,1]:[3,4];case 1:return u instanceof _i?(p=i.messageParams).fileKey&&typeof p.fileKey=="string"&&QI(p.fileType)?(_=p,[4,this.collection.getBlob(p.fileKey)]):[3,3]:[3,4];case 2:_.file=E.sent(),E.label=3;case 3:u.messageParams=d.buildFileMessageCreateParamsFromSerializedData(p,u),E.label=4;case 4:return u.scheduledInfo&&i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams?u instanceof Ea?(g=i.scheduledInfo.scheduledMessageParams,u.scheduledInfo.scheduledMessageParams=d.buildScheduledUserMessageCreateParamsFromSerializedData(g,u),[3,8]):[3,5]:[3,8];case 5:return u instanceof _i?(g=i.scheduledInfo.scheduledMessageParams).fileKey&&typeof g.fileKey=="string"&&QI(g.fileType)?(b=g,[4,this.collection.getBlob(g.fileKey)]):[3,7]:[3,8];case 6:b.file=E.sent(),E.label=7;case 7:u.scheduledInfo.scheduledMessageParams=d.buildScheduledFileMessageCreateParamsFromSerializedData(g,u),E.label=8;case 8:return[2,u]}})})},l.prototype.get=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(d=u.sent())return[2,this._deserializeWithMessageCreateParams(d)];u.label=2;case 2:return[2,null]}})})},l.prototype.fetch=function(i){var d=i.channelUrl,u=d===void 0?null:d,p=i.filter,_=p===void 0?new jm:p,g=i.order,b=g===void 0?Bi.CHANNEL_LATEST:g,E=i.sendingStatus,I=E===void 0?null:E,U=i.backward,Y=U!==void 0&&U,K=i.parentMessageId,ce=K===void 0?null:K;return Z(this,void 0,void 0,function(){var ae,pe,Ne,Ee,ze=this;return X(this,function(dn){switch(dn.label){case 0:return this.localCacheEnabled?(ae=Al(b),pe={"/where":function(Ce){return!!(b!==Bi.NEWEST_CHILD_MESSAGE||ce&&Ce.parentMessageId!==0&&Ce.parentMessageId===ce)&&_.match(ze._deserialize(Ce))}},u&&(pe.channelUrl=u),I&&(pe.sendingStatus=I),Ne={where:pe,index:ae,backward:Y},[4,this.collection.query(Ne)]):[3,3];case 1:return[4,dn.sent().fetch({})];case 2:return Ee=dn.sent(),[2,Promise.all(Ee.map(function(Ce){return Z(ze,void 0,void 0,function(){return X(this,function(be){switch(be.label){case 0:return[4,this._deserializeWithMessageCreateParams(Ce)];case 1:return[2,be.sent()]}})})}))];case 3:return[2,[]]}})})},l.prototype.getAllChildMessages=function(i,d){return d===void 0&&(d=new jm),Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return[4,this.fetch({filter:d,order:Bi.NEWEST_CHILD_MESSAGE,channelUrl:i.channelUrl,backward:!1,parentMessageId:i.messageId})];case 1:return[2,u.sent()]}})})},l.prototype.upsert=function(i){return Z(this,void 0,void 0,function(){var d=this;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return Z(d,void 0,void 0,function(){var _;return X(this,function(g){switch(g.label){case 0:return p instanceof _i?[4,this._mutex.lock()]:[3,4];case 1:return g.sent(),[4,this.saveBlob(p)];case 2:return g.sent(),[4,this._mutex.unlock()];case 3:g.sent(),g.label=4;case 4:return _=this._serialize(p),[4,this.collection.upsertOne(_)];case 5:return g.sent(),[2]}})})}))]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},l.prototype.upsertChildMessages=function(i){return Z(this,void 0,void 0,function(){var d=this;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return Z(d,void 0,void 0,function(){var _,g;return X(this,function(b){switch(b.label){case 0:return _=[],((g=p.threadInfo)===null||g===void 0?void 0:g.replyCount)>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:_=b.sent(),b.label=2;case 2:return _.length>0?(_.forEach(function(E){return E.applyParentMessage(p)}),[4,this.upsert(_)]):[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}})})}))]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},l.prototype.remove=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:if(!this.localCacheEnabled)return[3,8];E.label=1;case 1:E.trys.push([1,6,7,8]),d=wt(i),u=d.next(),E.label=2;case 2:return u.done?[3,5]:(p=u.value,[4,this.collection.remove(p)]);case 3:E.sent(),E.label=4;case 4:return u=d.next(),[3,2];case 5:return[3,8];case 6:return _=E.sent(),g={error:_},[3,8];case 7:try{u&&!u.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}return[7];case 8:return[2]}})})},l.prototype.removeMessagesOfChannel=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){switch(d.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i}})]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},l.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},l.prototype.saveBlob=function(i){return Z(this,void 0,void 0,function(){var d,u,p;return X(this,function(_){switch(_.label){case 0:return i instanceof _i?i.messageParams&&(d=i.messageParams).file&&hE(d.file)?[4,this.collection.saveBlob(d.file,i.reqId)]:[3,2]:[3,4];case 1:p=_.sent(),d.fileKey=p,d.fileType=Ch.BLOB,_.label=2;case 2:return i.scheduledInfo&&i.scheduledInfo.scheduledMessageParams&&(u=i.scheduledInfo.scheduledMessageParams).file&&hE(u.file)?[4,this.collection.saveBlob(u.file,i.reqId)]:[3,4];case 3:p=_.sent(),u.fileKey=p,u.fileType=Ch.BLOB,_.label=4;case 4:return[2]}})})},l}(Ko),tN={},uZ=function(s){function l(i,d){var u=d.sdkState,p=d.cacheContext,_=d.unsentMessageCache,g=s.call(this,i)||this;return g._sdkState=u,g._cacheContext=p,g._unsentMessageCache=_,tN[i]=g,g}return fe(l,s),l.of=function(i){return tN[i]},Object.defineProperty(l.prototype,"collection",{get:function(){var i=this._cacheContext.nestdb;return i?i.collection("Message"):null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),l.prototype._serialize=function(i){return $e($e({},i.serialize()),{messageId:"".concat(i.messageId)})},l.prototype._deserialize=function(i){return i=$e($e({},i),{messageId:parseInt(i.messageId)}),Fa.of(this._iid).buildMessageFromSerializedData(i)},l.prototype.get=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(i))]:[3,2];case 1:if(d=u.sent())return[2,this._deserialize(d)];u.label=2;case 2:return[2,null]}})})},l.prototype.fetch=function(i){var d=i.channelUrl,u=i.token,p=i.limit,_=p===void 0?100:p,g=i.filter,b=g===void 0?new jm:g,E=i.order,I=E===void 0?Bi.CHANNEL_LATEST:E,U=i.backward,Y=U!==void 0&&U,K=i.parentMessageId,ce=K===void 0?null:K,ae=i.isPollOnly,pe=ae!==void 0&&ae;return Z(this,void 0,void 0,function(){var Ne,Ee,ze,dn=this;return X(this,function(Ce){switch(Ce.label){case 0:return this.localCacheEnabled?(Ne=Al(I),Ee={where:{channelUrl:d,"/where":function(be){if(u)switch(I){case Bi.CHANNEL_LATEST:if(!Y&&be.createdAt>u||Y&&be.createdAt<u)return!1;break;case Bi.NEWEST_CHILD_MESSAGE:if(!ce||be.parentMessageId===0||be.parentMessageId!==ce)return!1}return!(pe&&!be._poll)&&b.match(dn._deserialize(be))}},index:Ne,backward:Y},[4,this.collection.query(Ee)]):[3,3];case 1:return[4,Ce.sent().fetch({limit:_})];case 2:return ze=Ce.sent(),[2,Promise.all(ze.map(function(be){return Z(dn,void 0,void 0,function(){return X(this,function(rn){return[2,this._deserialize(be)]})})}))];case 3:return[2,[]]}})})},l.prototype.getAllChildMessages=function(i,d){return d===void 0&&(d=new jm),Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return[4,this.fetch({channelUrl:i.channelUrl,token:Date.now(),limit:null,backward:!1,filter:d,order:Bi.NEWEST_CHILD_MESSAGE,parentMessageId:i.messageId})];case 1:return[2,u.sent()]}})})},l.prototype.upsert=function(i){return Z(this,void 0,void 0,function(){var d,u=this;return X(this,function(p){switch(p.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(i)]:[3,5];case 1:return p.sent(),d=i.map(function(_){return u._serialize(_)}),[4,this.collection.upsertMany(d)];case 2:return p.sent(),[4,this.upsertChildMessages(i)];case 3:return p.sent(),[4,this._unsentMessageCache.upsertChildMessages(i)];case 4:p.sent(),p.label=5;case 5:return[2]}})})},l.prototype.upsertChildMessages=function(i){return Z(this,void 0,void 0,function(){var d=this;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,Promise.all(i.map(function(p){return Z(d,void 0,void 0,function(){var _,g;return X(this,function(b){switch(b.label){case 0:return _=[],((g=p.threadInfo)===null||g===void 0?void 0:g.replyCount)>0?[4,this.getAllChildMessages(p)]:[3,2];case 1:_=b.sent(),b.label=2;case 2:return _.length>0?(_.forEach(function(E){return E.applyParentMessage(p)}),[4,this.upsert(_)]):[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}})})}))]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},l.prototype.remove=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:if(!this.localCacheEnabled)return[3,8];E.label=1;case 1:E.trys.push([1,6,7,8]),d=wt(i),u=d.next(),E.label=2;case 2:return u.done?[3,5]:(p=u.value,[4,this.collection.remove("".concat(p))]);case 3:E.sent(),E.label=4;case 4:return u=d.next(),[3,2];case 5:return[3,8];case 6:return _=E.sent(),g={error:_},[3,8];case 7:try{u&&!u.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}return[7];case 8:return[2]}})})},l.prototype.removeMessagesOfChannel=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i},index:Al(Bi.CHANNEL_LATEST)})]:[3,6];case 1:return u.sent(),[4,(d=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync"))];case 2:return u.sent(),[4,d.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/sync.meta"))];case 3:return u.sent(),[4,d.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs"))];case 4:return u.sent(),[4,d.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(i,"/message/changelogs.meta"))];case 5:u.sent(),u.label=6;case 6:return[2]}})})},l.prototype.removeUnderOffset=function(i,d){return Z(this,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:i,createdAt:{"<":d}},index:Al(Bi.CHANNEL_LATEST)})]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},l.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},l.prototype.countBetween=function(i,d,u){return Z(this,void 0,void 0,function(){var p,_=this;return X(this,function(g){switch(g.label){case 0:return this.localCacheEnabled?(p=Al(Bi.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:i,"/where":function(b){var E=_._deserialize(b);return u.includes(E.createdAt)&&d.match(E)}},index:p}).count()]):[3,2];case 1:return[2,g.sent()];case 2:return[2,0]}})})},l.prototype.saveBlobs=function(i){return Z(this,void 0,void 0,function(){var d=this;return X(this,function(u){switch(u.label){case 0:return[4,Promise.all(i.map(function(p){return Z(d,void 0,void 0,function(){var _,g;return X(this,function(b){switch(b.label){case 0:return p instanceof _i&&p.messageParams&&(_=p.messageParams).file&&hE(_.file)?[4,this.collection.saveBlob(_.file,p.reqId)]:[3,2];case 1:g=b.sent(),_.fileKey=g,b.label=2;case 2:return[2]}})})}))];case 1:return u.sent(),[2]}})})},l}(Ko),hZ=function(s){function l(i){i===void 0&&(i=!0);var d=s.call(this)||this;return d._pauseDelayTimer=null,d._currentState="visible",d._isEnabled=i,d._toggleState=d._toggleState.bind(d),d}return fe(l,s),Object.defineProperty(l.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),l.prototype._toggleState=function(){var i=this;document.visibilityState!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){i._pauseDelayTimer=null,i.dispatch("pause")},3e4)),this._currentState=document.visibilityState},l.prototype.start=function(){this._isEnabled&&this.isAvailable&&window.addEventListener("visibilitychange",this._toggleState,{capture:!0})},l.prototype.stop=function(){this._isEnabled&&this.isAvailable&&window.removeEventListener("visibilitychange",this._toggleState,{capture:!0})},l}(op),pZ=function(){function s(l){var i=l.logger,d=l.connectionDelegate,u=d===void 0?null:d,p=this;this._onlineWorker=function(){var _;return(_=p.connectionDelegate)===null||_===void 0?void 0:_.reconnect()},this._offlineWorker=function(){var _;return(_=p.connectionDelegate)===null||_===void 0?void 0:_.disconnect()},this.unsubscribes=[],this._onlineListener=function(_){if(p.isAvailableOnWeb)return window.addEventListener("online",_),function(){return window.removeEventListener("online",_,!1)}},this._offlineListener=function(_){if(p.isAvailableOnWeb)return window.addEventListener("offline",_),function(){return window.removeEventListener("offline",_,!1)}},this.logger=i,u&&(this.connectionDelegate=u)}return Object.defineProperty(s.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),s.prototype.setOnlineListener=function(l){Boolean(l)&&typeof l=="function"&&(this._onlineListener=l)},s.prototype.setOfflineListener=function(l){Boolean(l)&&typeof l=="function"&&(this._offlineListener=l)},s.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},s.prototype.stop=function(){var l=this;this.unsubscribes.forEach(function(i){try{i==null||i()}catch(d){l.logger.warn(d.message)}}),this.unsubscribes=[]},s.prototype.isOnline=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise(function(i){fetch("https://www.google.com",{method:Nn.GET,mode:"no-cors"}).then(function(){return i(!0)}).catch(function(){return i(!1)})})]})})},s}(),fZ=function(s){function l(i){var d=i.message,u=s.call(this)||this;return u.message=d,u}return fe(l,s),l}(Ti),mE={},_Z=function(){function s(l,i){var d=i.localCacheEnabled,u=i.dispatcher,p=i.sdkState,_=i.logger,g=this;mE[l]=this,this._iid=l,mE[l]=this,this._localCacheEnabled=d,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=u,this._logger=_,this._sdkState=p,this._localCacheEnabled&&u.on(function(b){if(b instanceof $c)switch(b.stateType){case cr.CONNECTED:g._isProcessingAutoResend||g.processAutoResendRegisteredPendingMessages().then(function(){return g._processNextAutoResend()});break;case cr.INTERNAL_DISCONNECTED:case cr.EXTERNAL_DISCONNECTED:g._isProcessingAutoResend=!1}})}return s.of=function(l){return mE[l]},s.prototype.processNonAutoResendRegisteredPendingMessages=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p,_;return X(this,function(g){switch(g.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:l=g.sent();try{for(i=wt(l),d=i.next();!d.done;d=i.next())(u=d.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",u.reqId),u.sendingStatus=$r.FAILED,u.errorCode=Mt.ACK_TIMEOUT,this._dispatcher.dispatch(new es({messages:[u],source:mi.LOCAL_MESSAGE_FAILED})))}catch(b){p={error:b}}finally{try{d&&!d.done&&(_=i.return)&&_.call(i)}finally{if(p)throw p.error}}return[2]}})})},s.prototype.processAutoResendRegisteredPendingMessages=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:l=E.sent();try{for(i=wt(l),d=i.next();!d.done;d=i.next())(u=d.value).errorCode&&Sm(u.errorCode)&&(p=new Date().getTime(),_=u.createdAt+2592e5,p<=_?this._autoResendQueue.map(function(I){return I.reqId}).indexOf(u.reqId)<0&&this._autoResendQueue.push(u):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(_).toLocaleString()),u.sendingStatus=$r.FAILED,this._dispatcher.dispatch(new es({messages:[u],source:mi.LOCAL_MESSAGE_FAILED}))))}catch(I){g={error:I}}finally{try{d&&!d.done&&(b=i.return)&&b.call(i)}finally{if(g)throw g.error}}return[2]}})})},s.prototype.completeCurrentAndProcessNextAutoResend=function(l){if(this._localCacheEnabled&&(l.sendingStatus===$r.SUCCEEDED||l.sendingStatus===$r.FAILED&&!Sm(l.errorCode))){var i=this.indexOf(l);i>=0&&this._autoResendQueue.splice(i,1),i===0&&this._processNextAutoResend()}},s.prototype._fetchAllCachedPendingMessages=function(){return Z(this,void 0,void 0,function(){var l,i;return X(this,function(d){switch(d.label){case 0:return(l=nN.of(this._iid))?[4,l.fetch({sendingStatus:$r.PENDING,backward:!0})]:[3,2];case 1:return i=d.sent(),[3,3];case 2:i=[],d.label=3;case 3:return[2,i]}})})},s.prototype.indexOf=function(l){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(i){return i.reqId}).indexOf(l.reqId):-1},s.prototype._isNotInQueue=function(l){return this._autoResendQueue.map(function(i){return i.reqId}).indexOf(l.reqId)===-1},s.prototype._processNextAutoResend=function(){return Z(this,void 0,void 0,function(){var l;return X(this,function(i){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),l=this._autoResendQueue[0],this._dispatcher.dispatch(new fZ({message:l})),this._logger.debug("processing auto-resend for message request id: ",l.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(d){this._logger.warn("process auto-resend error: ",d),this._isProcessingAutoResend=!1}return[2]})})},s}();(function(s){s[s.USER_BLOCK=20001]="USER_BLOCK",s[s.USER_UNBLOCK=2e4]="USER_UNBLOCK",s[s.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(pE||(pE={}));var rN=function(){function s(l){this.category=l.cat,this.data=l.data}return s.getDataAsUserBlockEvent=function(l,i){var d=i.data,u=d.blocker,p=d.blockee;return{blocker:new Lt(l,u),blockee:new Lt(l,p)}},s.getDataAsFriendDiscoveredEvent=function(l,i){var d=i.data.friend_discoveries;return{friendDiscoveries:Array.isArray(d)?d.map(function(u){return new Lt(l,u)}):[]}},s}(),mZ=function(s){function l(i,d){var u=d.userId,p=s.call(this)||this;return p._iid=i,p.userId=u,p}return fe(l,s),l}(Ti),vZ=function(s){function l(i,d,u){var p=s.call(this,i,"USEV",u)||this;return p.event=new rN(u),p}return fe(l,s),l}(Vr),iN=function(s){function l(i){var d=i.userId,u=i.nickname,p=u===void 0?null:u,_=i.profileUrl,g=_===void 0?null:_,b=i.profileImage,E=b===void 0?null:b,I=i.preferredLanguages,U=I===void 0?null:I,Y=s.call(this)||this;return Y.method=Nn.PUT,Y.path="".concat(nr,"/").concat(encodeURIComponent(d)),Y.params=Tt({nickname:p,profile_url:g,profile_file:E,preferred_languages:U}),Y}return fe(l,s),l}(On),aN=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.user=null,u.user=new Lt(i,$e({},d)),u}return fe(l,s),l}(Pn),gZ=function(s){function l(i){var d=i.userId,u=i.token,p=s.call(this)||this;return p.method=Nn.POST,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push/apns"),p.params={apns_device_token:u,always_push:!0},p}return fe(l,s),l}(On);(function(s){fe(function(l,i){var d=s.call(this,l,i)||this;return d.token=i.token,d.type=i.type?yi[i.type.toLowerCase()]:yi.UNKNOWN,d.user=new Lt(l,i.user),d},s)})(Pn);var bZ=function(s){function l(i){var d=i.userId,u=i.token,p=s.call(this)||this;return p.method=Nn.POST,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push/gcm"),p.params={gcm_reg_token:u,always_push:!0},p}return fe(l,s),l}(On);(function(s){fe(function(l,i){var d=s.call(this,l,i)||this;return d.token=i.token,d.type=i.type?yi[i.type.toLowerCase()]:yi.UNKNOWN,d.user=new Lt(l,i.user),d},s)})(Pn);var yZ=function(s){function l(i){var d=i.userId,u=i.token,p=s.call(this)||this;return p.method=Nn.DELETE,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push/apns/").concat(encodeURIComponent(u)),p}return fe(l,s),l}(On);(function(s){fe(function(l,i){var d=s.call(this,l,i)||this;return d.token=i.token,d.user=new Lt(l,i.user),d.lastDeletedAt=i.device_token_last_deleted_at,d},s)})(Pn);var EZ=function(s){function l(i){var d=i.userId,u=i.token,p=s.call(this)||this;return p.method=Nn.DELETE,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push/gcm/").concat(encodeURIComponent(u)),p}return fe(l,s),l}(On);(function(s){fe(function(l,i){var d=s.call(this,l,i)||this;return d.token=i.token,d.user=new Lt(l,i.user),d.lastDeletedAt=i.device_token_last_deleted_at,d},s)})(Pn);var wZ=function(s){function l(i){var d=i.userId,u=s.call(this)||this;return u.method=Nn.DELETE,u.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push/apns"),u}return fe(l,s),l}(On);(function(s){fe(function(l,i){var d=s.call(this,l,i)||this;return d.type=i.type?yi[i.type.toLowerCase()]:yi.UNKNOWN,d.user=new Lt(l,i.user),d.lastDeletedAt=i.device_token_last_deleted_at,d},s)})(Pn);var xZ=function(s){function l(i){var d=i.userId,u=s.call(this)||this;return u.method=Nn.DELETE,u.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push/gcm"),u}return fe(l,s),l}(On);(function(s){fe(function(l,i){var d=s.call(this,l,i)||this;return d.type=i.type?yi[i.type.toLowerCase()]:yi.UNKNOWN,d.user=new Lt(l,i.user),d.lastDeletedAt=i.device_token_last_deleted_at,d},s)})(Pn);var kZ=function(s){function l(i){var d=i.userId,u=i.type,p=i.token,_=i.ts,g=s.call(this)||this;return g.method=Nn.GET,g.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push/").concat(encodeURIComponent(u),"/device_tokens"),g.params={created_ts:_,token:p},g}return fe(l,s),l}(On),SZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.pushTokens={type:d.type?yi[d.type.toLowerCase()]:yi.UNKNOWN,deviceTokens:d.device_tokens,hasMore:d.has_more,token:d.token},u}return fe(l,s),l}(Pn),TZ=function(s){function l(i){var d=i.userId,u=s.call(this)||this;return u.method=Nn.GET,u.path="".concat(nr,"/").concat(encodeURIComponent(d),"/channel_invitation_preference"),u}return fe(l,s),l}(On),CZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.autoAccept=d.auto_accept,u}return fe(l,s),l}(Pn),IZ=function(s){function l(i){var d=i.userId,u=i.willAutoAccept,p=s.call(this)||this;return p.method=Nn.PUT,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/channel_invitation_preference"),p.params={auto_accept:u},p}return fe(l,s),l}(On),NZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.autoAccept=d.auto_accept,u}return fe(l,s),l}(Pn),AZ=function(s){function l(i){var d=i.userId,u=s.call(this)||this;return u.method=Nn.GET,u.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push_preference"),u}return fe(l,s),l}(On),OZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.preference={doNotDisturbOn:d.do_not_disturb,startHour:d.start_hour,startMin:d.start_min,endHour:d.end_hour,endMin:d.end_min,timezone:d.timezone},u}return fe(l,s),l}(Pn),RZ=function(s){function l(i){var d=i.userId,u=i.doNotDisturbOn,p=i.startHour,_=i.startMin,g=i.endHour,b=i.endMin,E=i.timezone,I=s.call(this)||this;return I.method=Nn.PUT,I.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push_preference"),I.params={do_not_disturb:u,start_hour:p,start_min:_,end_hour:g,end_min:b,timezone:E},I}return fe(l,s),l}(On),MZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.preference={doNotDisturbOn:d.do_not_disturb,startHour:d.start_hour,startMin:d.start_min,endHour:d.end_hour,endMin:d.end_min,timezone:d.timezone},u}return fe(l,s),l}(Pn),DZ=function(s){function l(i){var d=i.userId,u=s.call(this)||this;return u.method=Nn.GET,u.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push_preference"),u}return fe(l,s),l}(On),LZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.snoozePeriod={isSnoozeOn:d.snooze_enabled},typeof d.snooze_start_ts=="number"&&(u.snoozePeriod.startTs=d.snooze_start_ts),typeof d.snooze_end_ts=="number"&&(u.snoozePeriod.endTs=d.snooze_end_ts),u}return fe(l,s),l}(Pn),UZ=function(s){function l(i){var d=i.userId,u=i.snoozeOn,p=i.startTs,_=i.endTs,g=s.call(this)||this;return g.method=Nn.PUT,g.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push_preference"),g.params={snooze_enabled:u,snooze_start_ts:p,snooze_end_ts:_},g}return fe(l,s),l}(On),PZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.snoozePeriod={isSnoozeOn:d.snooze_enabled},typeof d.snooze_start_ts=="number"&&(u.snoozePeriod.startTs=d.snooze_start_ts),typeof d.snooze_end_ts=="number"&&(u.snoozePeriod.endTs=d.snooze_end_ts),u}return fe(l,s),l}(Pn),FZ=function(s){function l(i){var d=i.userId,u=i.blockedUserId,p=s.call(this)||this;return p.method=Nn.POST,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/block"),p.params={target_id:u},p}return fe(l,s),l}(On);(function(s){fe(function(l,i){var d=s.call(this,l,i)||this;return d.user=new Lt(l,i),d},s)})(Pn);var HZ=function(s){function l(i){var d=i.userId,u=i.unblockedUserId,p=s.call(this)||this;return p.method=Nn.DELETE,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/block/").concat(encodeURIComponent(u)),p}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var BZ=function(s){function l(i){var d=i.userId,u=s.call(this)||this;return u.method=Nn.GET,u.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push_preference"),u}return fe(l,s),l}(On),$Z=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.pushTriggerOption=d.push_trigger_option,u}return fe(l,s),l}(Pn),zZ=function(s){function l(i){var d=i.userId,u=i.pushTriggerOption,p=s.call(this)||this;return p.method=Nn.PUT,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push_preference"),p.params={push_trigger_option:u},p}return fe(l,s),l}(On),VZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.pushTriggerOption=d.push_trigger_option,u}return fe(l,s),l}(Pn),GZ=function(s){function l(i){var d=i.userId,u=s.call(this)||this;return u.method=Nn.GET,u.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push/template"),u}return fe(l,s),l}(On),qZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.name=d.name,u}return fe(l,s),l}(Pn),jZ=function(s){function l(i){var d=i.userId,u=i.templateName,p=s.call(this)||this;return p.method=Nn.PUT,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/push/template"),p.params={name:u},p}return fe(l,s),l}(On),KZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.name=d.name,u}return fe(l,s),l}(Pn),WZ=function(s){function l(i){var d=i.userId,u=i.token,p=s.call(this)||this;return p.method=Nn.GET,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/friends/changelogs"),p.params={token:u},p}return fe(l,s),l}(On),QZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.changelogs={addedUsers:d.added.map(function(p){return new Lt(i,p)}),updatedUsers:d.updated.map(function(p){return new Lt(i,p)}),deletedUserIds:d.deleted,hasMore:d.has_more,token:d.next},u}return fe(l,s),l}(Pn),YZ=function(s){function l(i){var d=i.userId,u=i.discoveries,p=s.call(this)||this;return p.method=Nn.PUT,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/friend_discoveries"),p.params={friend_discoveries:u.map(function(_){return{friend_discovery_key:_.friendDiscoveryKey,friend_name:_.friendName}})},p}return fe(l,s),l}(On),XZ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.friendDiscoveryRequestId=d.friend_discovery_request_id,u}return fe(l,s),l}(Pn),ZZ=function(s){function l(i){var d=i.userId,u=i.discoveryKeys,p=s.call(this)||this;return p.method=Nn.DELETE,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/friend_discoveries"),p.params={friend_discovery_keys:u},p}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var JZ=function(s){function l(i){var d=i.userId,u=i.userIds,p=s.call(this)||this;return p.method=Nn.POST,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/friends"),p.params={user_ids:u},p}return fe(l,s),l}(On),eJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.users=d.users.map(function(p){return new Lt(i,p)}),u}return fe(l,s),l}(Pn),nJ=function(s){function l(i){var d=i.userId,u=i.userIds,p=s.call(this)||this;return p.method=Nn.DELETE,p.path="".concat(nr,"/").concat(encodeURIComponent(d),"/friends"),p.params={user_ids:u},p}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var tJ=function(s){function l(i){var d=i.userId,u=s.call(this)||this;return u.method=Nn.GET,u.path="".concat(nr,"/").concat(d,"/allow_friend_discovery"),u.params={},u}return fe(l,s),l}(On),rJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.allowFriendDiscovery=d.allow_friend_discovery,u}return fe(l,s),l}(Pn),iJ=function(s){function l(i){var d=i.userId,u=i.allowFriendDiscovery,p=s.call(this)||this;return p.method=Nn.PUT,p.path="".concat(nr,"/").concat(d,"/allow_friend_discovery"),p.params={allow_friend_discovery:u},p}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var wr,sN=function(s){this.key=null,this.url=null,this.key=s.key,this.url=s.url},oN=function(s){var l,i,d;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(l=s.id)!==null&&l!==void 0?l:0,this.name=(i=s.name)!==null&&i!==void 0?i:"",this.url=(d=s.url)!==null&&d!==void 0?d:"",this.emojis=s.emojis?s.emojis.map(function(u){return new sN(u)}):[]},aJ=function(s){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=s.emoji_hash||"",this.emojiCategories=s.emoji_categories?s.emoji_categories.map(function(l){return new oN(l)}):[]},sJ=function(s){function l(){var i=s.call(this)||this;return i.method=Nn.GET,i.path=yI,i}return fe(l,s),l}(On),oJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.emojiContainer=new aJ(d),u}return fe(l,s),l}(Pn),lJ=function(s){function l(i){var d=i.categoryId,u=s.call(this)||this;return u.method=Nn.GET,u.path="".concat(yI,"/").concat(d),u}return fe(l,s),l}(On),dJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.emojiCategory=new oN(d),u}return fe(l,s),l}(Pn),cJ=function(s){function l(i){var d=i.key,u=s.call(this)||this;return u.method=Nn.GET,u.path="".concat(XY,"/").concat(d),u}return fe(l,s),l}(On),uJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.emoji=new sN(d),u}return fe(l,s),l}(Pn),hJ=function(s){function l(i){var d=i.limit,u=i.token,p=i.userIdsFilter,_=i.metaDataKeyFilter,g=i.metaDataValuesFilter,b=i.nicknameStartsWithFilter,E=s.call(this)||this;return E.method=Nn.GET,E.path=nr,E.params=Tt({limit:d,token:u,user_ids:p,metadatakey:_,metadatavalues_in:g,nickname_startswith:b}),E}return fe(l,s),l}(On),pJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.users=d.users.map(function(p){return new Lt(i,p)}),u.next=d.next,u}return fe(l,s),l}(Pn),fJ=function(s){function l(i,d){var u,p,_,g=this;return(g=s.call(this,i,d)||this).userIdsFilter=null,g.metaDataKeyFilter=null,g.metaDataValuesFilter=null,g.nicknameStartsWithFilter=null,g.userIdsFilter=(u=d.userIdsFilter)!==null&&u!==void 0?u:null,g.metaDataKeyFilter=(p=d.metaDataKeyFilter)!==null&&p!==void 0?p:null,g.metaDataValuesFilter=(_=d.metaDataValuesFilter)!==null&&_!==void 0?_:null,g.nicknameStartsWithFilter=d.nicknameStartsWithFilter||null,g}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&Yt("string",this.userIdsFilter,!0)&&Ve("string",this.metaDataKeyFilter,!0)&&Yt("string",this.metaDataValuesFilter,!0)&&Ve("string",this.metaDataKeyFilter,!0)},l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid).requestQueue,d=new hJ($e($e({},this),{token:this._token})),[4,i.send(d)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(pJ),_=p.users,g=p.next,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Th),_J=function(s){function l(i){var d=i.userId,u=i.limit,p=i.token,_=i.userIdsFilter,g=s.call(this)||this;return g.method=Nn.GET,g.path="".concat(nr,"/").concat(d,"/block"),g.params=Tt({limit:u,token:p,user_ids:_}),g}return fe(l,s),l}(On),mJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.users=d.users.map(function(p){return new Lt(i,p)}),u.next=d.next,u}return fe(l,s),l}(Pn),vJ=function(s){function l(i,d){var u,p=this;return(p=s.call(this,i,d)||this).userIdsFilter=null,p.userIdsFilter=(u=d.userIdsFilter)!==null&&u!==void 0?u:null,p}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&Yt("string",this.userIdsFilter,!0)},l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E;return X(this,function(I){switch(I.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new _J($e($e({},this),{userId:d.userId,token:this._token})),[4,u.send(p)]):[3,2]:[3,5];case 1:return _=I.sent(),g=_.as(mJ),b=g.users,E=g.next,this._token=E,this._hasNext=!!E,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Th),gJ=function(s){function l(i){var d=i.userId,u=i.limit,p=i.token,_=s.call(this)||this;return _.method=Nn.GET,_.path="".concat(nr,"/").concat(encodeURIComponent(d),"/friends"),_.params={limit:u,token:p},_}return fe(l,s),l}(On),bJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.hasMore=d.has_more,u.users=d.users.map(function(p){return new Lt(i,p)}),u.next=d.next,u}return fe(l,s),l}(Pn),yJ=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)},l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I;return X(this,function(U){switch(U.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new gJ($e($e({},this),{userId:d.userId,token:this._token})),[4,u.send(p)]):[3,2]:[3,5];case 1:return _=U.sent(),g=_.as(bJ),b=g.users,E=g.hasMore,I=g.next,this._token=I,this._hasNext=E,this._isLoading=!1,[2,b];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Th),Km={},Wm=function(){function s(l){var i=l.dbname,d=l.itemSizeLimit,u=d===void 0?1048576:d,p=l.cacheLimit,_=p===void 0?256:p,g=l.blockHashBase,b=g===void 0?2:g,E=l.blockHashMultiplier,I=E===void 0?10:E,U=l.blockHashConstant,Y=U===void 0?11:U,K=l.transactionApplyDelay,ce=K===void 0?200:K,ae=l.disableLogger,pe=ae!==void 0&&ae;return Km[i]||(this.itemSizeLimit=u,this.cacheLimit=_,this.blockHashBase=b,this.blockHashMultiplier=I,this.blockHashConstant=Y,this.transactionApplyDelay=ce,this.disableLogger=pe,Km[i]=this),Km[i]}return s.get=function(l){return Km[l]},s}();(function(s){s[s.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",s[s.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",s[s.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",s[s.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",s[s.STORE_IS_FULL=61001003]="STORE_IS_FULL",s[s.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",s[s.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",s[s.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",s[s.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",s[s.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",s[s.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",s[s.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",s[s.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",s[s.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",s[s.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",s[s.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",s[s.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",s[s.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",s[s.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",s[s.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",s[s.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",s[s.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",s[s.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",s[s.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",s[s.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(wr||(wr={}));var Ih,Tr=function(s){function l(i){var d=i.code,u=d===void 0?wr.UNKNOWN_ERROR:d,p=i.message,_=p===void 0?"Unknown error occurred.":p,g=s.call(this,_)||this;return g.code=u,Object.setPrototypeOf(g,l.prototype),g}return fe(l,s),Object.defineProperty(l,"storeNotDefined",{get:function(){return new l({code:wr.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeNotAvailable",{get:function(){return new l({code:wr.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeNotAvailableInPrivateBrowsing",{get:function(){return new l({code:wr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeIsFull",{get:function(){return new l({code:wr.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeKeyTypeIsInvalid",{get:function(){return new l({code:wr.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeBrokenIntegrity",{get:function(){return new l({code:wr.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeBrokenBlob",{get:function(){return new l({code:wr.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeEncryptionInvalid",{get:function(){return new l({code:wr.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeItemSizeExceeded",{get:function(){return new l({code:wr.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeReadFailed",{get:function(){return new l({code:wr.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"storeWriteFailed",{get:function(){return new l({code:wr.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"databaseSchemaNotOnUpgrade",{get:function(){return new l({code:wr.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionNotReady",{get:function(){return new l({code:wr.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionKeyNotMatch",{get:function(){return new l({code:wr.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionQueryNotValid",{get:function(){return new l({code:wr.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionInsertDuplicate",{get:function(){return new l({code:wr.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionKeyNotFound",{get:function(){return new l({code:wr.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionKeyNotGiven",{get:function(){return new l({code:wr.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionWriteFailed",{get:function(){return new l({code:wr.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"collectionItemSizeExceeded",{get:function(){return new l({code:wr.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"indexTableIsRequired",{get:function(){return new l({code:wr.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"indexTypesNotMatch",{get:function(){return new l({code:wr.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"compareTypesNotMatch",{get:function(){return new l({code:wr.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(l,"circularReferenceFound",{get:function(){return new l({code:wr.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),l}(Error);(function(s){s.INIT="init",s.READY="ready",s.CLOSED="closed"})(Ih||(Ih={}));var lN,Ha=function(s,l){if(l===void 0&&(l=new WeakMap),typeof s=="object"&&s!==null){if(l.has(s))throw Tr.circularReferenceFound;l.set(s,!0);var i=null;if(Array.isArray(s))i=s.map(function(u){return Ha(u,l)});else if(s instanceof RegExp)i=s;else if(s instanceof Date)i=s;else for(var d in i={},s)i[d]=Ha(s[d],l);return l.delete(s),i}return s},Rl=function(s,l){if(l==null)return 1;if(s==null)return-1;if(typeof s!=typeof l)throw Tr.compareTypesNotMatch;var i=0;switch(typeof s){case"boolean":case"number":i=s-l;break;case"string":i=s.localeCompare(l)}return i},dN=function(s,l){for(var i=0,d=0;d<s.length;d++)i=s.charCodeAt(d)+(i<<6)+(i<<16)-i;return(i>>>0)%l},Qm=function(s){return new Promise(function(l){setTimeout(function(){return l()},s)})},Wc=function(s,l){if(!l)return!1;if(typeof s!="function"){for(var i in s)if(["/and","&&"].includes(i)){if(s[i].some(function(b){return!Wc(b,l)}))return!1}else if(["/or","||"].includes(i)){if(s[i].every(function(b){return!Wc(b,l)}))return!1}else if(i==="/where"){if(!(0,s[i])(l))return!1}else{var d=i;if(typeof s[d]=="object"){var u=s[d];for(var p in u)switch(p){case"/eq":case"=":if((_=l[d])!==(g=u[p]))return!1;break;case"/neq":case"!=":if((_=l[d])===(g=u[p]))return!1;break;case"/gt":case">":var _=l[d],g=u[p];if(!(Rl(_,g)>0))return!1;break;case"/gte":case">=":if(_=l[d],g=u[p],!(Rl(_,g)>=0))return!1;break;case"/lt":case"<":if(_=l[d],g=u[p],!(Rl(_,g)<0))return!1;break;case"/lte":case"<=":if(_=l[d],g=u[p],!(Rl(_,g)<=0))return!1;break;case"/in":if(_=l[d],!(g=u[p]).includes(_))return!1;break;case"/nin":if(_=l[d],(g=u[p]).includes(_))return!1;break;case"/contain":if(_=l[d],g=u[p],!_.includes(g))return!1;break;case"/regex":if(_=l[d],!(g=u[p]).test(_))return!1;break;case"/where":if(_=l[d],!(0,u[p])(_))return!1}}else if(typeof s[d]=="function"){if(!s[d](l[d]))return!1}else if(s[d]!==l[d])return!1}return!0}return s(l)},Ym=function(){},cN=function(){return Promise.resolve()},EJ=function(s){return s},uN=function(s,l){l(null)};(function(s){s[s.FORWARD=0]="FORWARD",s[s.BACKWARD=1]="BACKWARD"})(lN||(lN={}));var Qc,na,Wo,wJ=function(){function s(l){var i=l.initialPrevValue,d=i===void 0?null:i,u=l.initialNextValue,p=u===void 0?null:u,_=l.iterator,g=l.map,b=g===void 0?EJ:g,E=l.backward,I=E===void 0?cN:E,U=l.forward,Y=U===void 0?cN:U,K=l.complete,ce=K===void 0?Ym:K;this._prevValue=d,this._nextValue=p,this._error=null,this._map=b,this._backward=I,this._forward=Y,this._iterator=_,this._complete=ce}return Object.defineProperty(s.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),s.prototype.prev=function(){return Z(this,void 0,void 0,function(){var l,i,d;return X(this,function(u){switch(u.label){case 0:if(!this.hasPrevious)return[3,6];u.label=1;case 1:return u.trys.push([1,3,,4]),l=this._prevValue,i=this,[4,this._backward()];case 2:return i._prevValue=u.sent()||null,this._nextValue=l,[3,4];case 3:return d=u.sent(),this._error=d,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,u.sent()];case 6:this._complete(),u.label=7;case 7:return[2]}})})},s.prototype.next=function(){return Z(this,void 0,void 0,function(){var l,i,d;return X(this,function(u){switch(u.label){case 0:if(!this.hasNext)return[3,6];u.label=1;case 1:return u.trys.push([1,3,,4]),l=this._nextValue,i=this,[4,this._forward()];case 2:return i._nextValue=u.sent()||null,this._prevValue=l,[3,4];case 3:return d=u.sent(),this._error=d,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,u.sent()];case 6:this._complete(),u.label=7;case 7:return[2]}})})},s.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},s}(),vE=function(){function s(l){var i=l.condition,d=i===void 0?{}:i,u=l.backward,p=u!==void 0&&u,_=l.blockManager,g=l.indexer;this.condition=d,this.backward=p,this._blockManager=_,this._indexer=g}return s.prototype.findOptimizedStartPosition=function(){var l=this,i=["=","/eq",">",">=","/gt","/gte"],d=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var u=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var p in this._indexer.fields){var _=this._indexer.fields[p],g=1;if(_[0]==="-"&&(_=_.slice(1),g=-1),this.condition[_]){if(typeof this.condition[_]=="object"){var b=g>0?d:i;for(var E in this.condition[_])if(b.includes(E)){for(var I=u;I>=0;I--)if(g*Rl(this._indexer.origin[I].columnValues[p],this.condition[_][E])<=0){u=I;break}}}else for(I=u;I>=0;I--)if(g*Rl(this._indexer.origin[I].columnValues[p],this.condition[_])<=0){u=I;break}}}return Math.min(u+1,this._indexer.origin.length-1)}var U=0;if(typeof this.condition!="function"){var Y=function(ce){var ae=K._indexer.fields[ce],pe=1;if(ae[0]==="-"&&(ae=ae.slice(1),pe=-1),K.condition[ae]){if(typeof K.condition[ae]=="object")Object.keys(K.condition[ae]).forEach(function(Ee){if((pe>0?i:d).includes(Ee)){for(var ze=U;ze<l._indexer.origin.length;ze++)if(pe*Rl(l._indexer.origin[ze].columnValues[ce],l.condition[ae][Ee])>=0){U=ze;break}}});else for(var Ne=U;Ne<K._indexer.origin.length;Ne++)if(pe*Rl(K._indexer.origin[Ne].columnValues[ce],K.condition[ae])>=0){U=Ne;break}}},K=this;for(p=0;p<this._indexer.fields.length;p++)Y(p)}return Math.max(U-1,0)},s.prototype.each=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E=this;return X(this,function(I){switch(I.label){case 0:if(i=this.findOptimizedStartPosition(),d=0,this.backward&&this._indexer.origin[i]&&(d=this._indexer.origin[i].keys.length-1),u=function(){if(E._indexer.origin[i]){if(!E._indexer.origin[i].keys[++d]){if(!E._indexer.origin[++i])return!1;d=0}return!0}return!1},p=function(){if(E._indexer.origin[i]){if(!E._indexer.origin[i].keys[--d]){if(!E._indexer.origin[--i])return!1;d=E._indexer.origin[i].keys.length-1}return!0}return!1},_=null,!this._indexer.origin[i])return[3,4];g=this.backward?p:u,I.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[d])];case 2:if(b=I.sent(),Wc(this.condition,b))return _=b,[3,4];I.label=3;case 3:if(g())return[3,1];I.label=4;case 4:return[4,new Promise(function(U){var Y=new wJ({initialNextValue:Ha(_),iterator:l,forward:function(){return Z(E,void 0,void 0,function(){var K,ce;return X(this,function(ae){switch(ae.label){case 0:K=this.backward?p:u,ae.label=1;case 1:return K()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[d])]:[3,3];case 2:return ce=ae.sent(),Wc(this.condition,ce)?[2,Ha(ce)]:[3,1];case 3:return[2,null]}})})},backward:function(){return Z(E,void 0,void 0,function(){var K,ce;return X(this,function(ae){switch(ae.label){case 0:K=this.backward?u:p,ae.label=1;case 1:return K()?[4,this._blockManager.getFromBlock(this._indexer.origin[i].keys[d])]:[3,3];case 2:return ce=ae.sent(),Wc(this.condition,ce)?[2,Ha(ce)]:[3,1];case 3:return[2,null]}})})},complete:U});l(Y)})];case 5:return[2,I.sent()]}})})},s}(),xJ=function(){function s(l){var i=l.condition,d=i===void 0?{}:i,u=l.backward,p=u!==void 0&&u,_=l.mutex,g=l.blockManager,b=l.indexer;this._mutex=_,this._iterator=new vE({condition:d,backward:p,blockManager:g,indexer:b})}return s.prototype.fetch=function(l){return l===void 0&&(l={}),Z(this,void 0,void 0,function(){var i,d,u,p,_=this;return X(this,function(g){switch(g.label){case 0:if(i=Math.max(l.offset||0,0),(d=typeof l.limit=="number"?l.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(d<0)throw Tr.collectionQueryNotValid;g.label=1;case 1:return g.trys.push([1,4,,5]),u=[],[4,this._mutex.lock()];case 2:return g.sent(),[4,this._iterator.each(function(b){return Z(_,void 0,void 0,function(){return X(this,function(E){return b.error?b.stop():b.hasNext?i===0?(u.push(b.nextValue),0<d&&d<=u.length?b.stop():b.next()):(i--,b.next()):b.stop(),[2]})})})];case 3:return g.sent(),this._mutex.unlock(),[2,u];case 4:throw p=g.sent(),this._mutex.unlock(),p;case 5:return[2]}})})},s.prototype.count=function(){return Z(this,void 0,void 0,function(){var l,i,d=this;return X(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),l=0,[4,this._mutex.lock()];case 1:return u.sent(),[4,this._iterator.each(function(p){return Z(d,void 0,void 0,function(){return X(this,function(_){return p.error?p.stop():p.hasNext?(l++,p.next()):p.stop(),[2]})})})];case 2:return u.sent(),this._mutex.unlock(),[2,l];case 3:throw i=u.sent(),this._mutex.unlock(),i;case 4:return[2]}})})},s}(),gE=function(s){return"".concat("nest","@").concat(s)},Yc=function(s,l){return"".concat(gE(s),"/").concat(l)},bE=function(s,l){return"".concat(Yc(s,l),".metadata")},yE=function(s,l){return"".concat(Yc(s,l),"/block.")},hN=function(s,l){return"".concat(Yc(s,l),"/blob.")},kJ=function(){function s(l){var i=l.dbname,d=l.collectionName,u=l.store;this.dbname=i,this.collectionName=d,this.store=u}return s.prototype.get=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I;return X(this,function(U){switch(U.label){case 0:return[4,this.store.get(l)];case 1:return(i=U.sent())?(d=i.data,u=i.type,typeof fetch>"u"?[3,4]:[4,fetch(d)]):[3,5];case 2:return[4,U.sent().blob()];case 3:return[2,U.sent()];case 4:for(p=[],_=atob(d.split(",")[1]),g=0;g<_.length;g+=512){for(b=_.slice(g,g+512),E=new Array(b.length),I=0;I<b.length;I++)E[I]=b.charCodeAt(I);p.push(new Uint8Array(E))}return[2,new Blob(p,{type:u})];case 5:return[2,null]}})})},s.prototype.save=function(l,i){return i===void 0&&(i="".concat(Date.now())),Z(this,void 0,void 0,function(){var d,u,p,_,g=this;return X(this,function(b){switch(b.label){case 0:return[4,new Promise(function(E){var I=function(Y,K,ce,ae){return ae===void 0&&(ae=0),"".concat(hN(Y,K)).concat(ce,".").concat(ae)}(g.dbname,g.collectionName,i),U=new FileReader;U.onload=function(){E({blobId:I,data:U.result,type:l.type})},U.readAsDataURL(l)})];case 1:return d=b.sent(),u=d.blobId,p=d.data,_=d.type,[4,this.store.set({key:u,value:{data:p,type:_},generation:1})];case 2:return b.sent(),[2,u]}})})},s.prototype.remove=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this.store.remove(l)];case 1:return i.sent(),[2]}})})},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){var l,i,d=this;return X(this,function(u){switch(u.label){case 0:return l=hN(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return i=u.sent(),[4,Promise.all(i.filter(function(p){return p.startsWith(l)}).map(function(p){return Z(d,void 0,void 0,function(){return X(this,function(_){switch(_.label){case 0:return[4,this.store.remove(p)];case 1:return[2,_.sent()]}})})}))];case 2:return u.sent(),[2]}})})},s}();(function(s){s[s.COMMIT=0]="COMMIT",s[s.WRITE=1]="WRITE",s[s.ERROR=2]="ERROR"})(Qc||(Qc={})),function(s){s.PENDING="pending",s.PERSISTENT="persistent",s.VOLATILE="volatile"}(na||(na={})),function(s){s[s.NO_CACHE=0]="NO_CACHE",s[s.DEFAULT=1]="DEFAULT",s[s.PERSISTENT=2]="PERSISTENT"}(Wo||(Wo={}));var pN=[na.PENDING,na.VOLATILE],Xm={},$s=function(){function s(l){var i=l.dbname,d=l.limit,u=d===void 0?256:d;return Xm[i]||(this.dbname=i,this._items=[],this._limit=u,Xm[i]=this),Xm[i]}return s.get=function(l){return Xm[l]},Object.defineProperty(s.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),s.prototype.find=function(l,i,d){return d===void 0&&(d=Wo.DEFAULT),Z(this,void 0,void 0,function(){var u,p;return X(this,function(_){switch(_.label){case 0:return(u=this.get(i))?[3,2]:[4,l.get(i)];case 1:return(p=_.sent())&&(u={key:i,value:p,generation:1,state:d===Wo.PERSISTENT?na.PERSISTENT:na.VOLATILE},this.put(u)),[3,3];case 2:d===Wo.PERSISTENT&&(u.state=na.PERSISTENT),_.label=3;case 3:return[2,u]}})})},s.prototype.get=function(l,i){i===void 0&&(i=Wo.DEFAULT);var d=this._items.map(function(p){return p.key}).indexOf(l);if(d>-1){var u=this._items[d];return i===Wo.PERSISTENT&&(u.state=na.PERSISTENT),i!==Wo.NO_CACHE&&this.put(u),u}return null},s.prototype.put=function(l){var i,d;if(this._limit>0){var u=this._items.map(function(U){return U.key}).indexOf(l.key);if(u>-1)pN.includes(this._items[u].state)&&pN.includes(l.state)?(this._items.splice(u,1),this._items.push(l)):(this._items[u].state=l.state,this._items[u].generation=l.generation,this._items[u].value=l.value);else{this._items.push(l);var p=this._items.filter(function(U){return U.state===na.VOLATILE}),_=p.length-this._limit;if(_>0){var g=[];try{for(var b=wt(this._items),E=b.next();!E.done;E=b.next()){var I=E.value;I.state===na.VOLATILE&&_>0?_--:g.push(I)}}catch(U){i={error:U}}finally{try{E&&!E.done&&(d=b.return)&&d.call(b)}finally{if(i)throw i.error}}this._items=g}}}},s.prototype.remove=function(l){var i=this._items.map(function(d){return d.key}).indexOf(l);i>-1&&this._items.splice(i,1)},s.prototype.clearByCondition=function(l){this._items=this._items.filter(function(i){return!l(i)})},s.prototype.clear=function(l){l===void 0&&(l=!1),this._items=l?[]:this._items.filter(function(i){return i.state!==na.VOLATILE})},s}(),SJ=function(){function s(l){var i=l.dbname,d=l.collectionName,u=l.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=i,this.collectionName=d,this.metadataKey=function(p,_){return"".concat(Yc(p,_),"/trans.metadata")}(i,d),this.recordsetKey=function(p,_){return"".concat(Yc(p,_),"/trans.recordset")}(i,d),this._store=u}return Object.defineProperty(s.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),s.prototype._getReducedRecordset=function(l){return l===void 0&&(l=[]),Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(i=d.sent()||[]).push.apply(i,Br([],kr(l),!1)),[2,this._reduceRecordSet(i)]}})})},s.prototype._reduceRecordSet=function(l){for(var i=[],d={},u=l.length-1;u>=0;u--){for(var p=l[u],_=[],g=p.requests.length-1;g>=0;g--){var b=p.requests[g],E=b.data;d[E.key]||(_.unshift(b),d[E.key]=!0)}_.length>0&&(p.requests=_,i.unshift(p))}return i},s.prototype._applyRecord=function(l,i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b,E,I,U;return X(this,function(Y){switch(Y.label){case 0:d=$s.get(this.dbname),u=i.generation,p=i.requests,_=null,Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,this._store.setMany(p.map(function(K){return $e($e({},K.data),{generation:u})}))];case 2:for(g=Y.sent(),b=0;b<p.length;b++)g[b]instanceof Error&&(_||(_=g[b]),E=p[b].data,d.put($e($e({},E),{generation:u,state:na.PERSISTENT})));return[3,4];case 3:return I=Y.sent(),_=I,[3,4];case 4:return _?[3,6]:(U=l.filter(function(K){return K.generation!==u}),[4,this._store.set({key:this.recordsetKey,value:U,generation:u})]);case 5:return Y.sent(),this._onWrite.forEach(function(K){K(p.map(function(ce){return ce.data}))}),[3,7];case 6:this._onError.forEach(function(K){return K(_)}),Y.label=7;case 7:return[2]}})})},s.prototype.init=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:return l=this,[4,this._store.get(this.metadataKey)];case 1:return l._metadata=E.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:i=E.sent(),E.label=3;case 3:E.trys.push([3,8,9,10]),d=wt(i),u=d.next(),E.label=4;case 4:return u.done?[3,7]:(p=u.value,[4,this._applyRecord(i,p)]);case 5:E.sent(),E.label=6;case 6:return u=d.next(),[3,4];case 7:return[3,10];case 8:return _=E.sent(),g={error:_},[3,10];case 9:try{u&&!u.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}return[7];case 10:return[2]}})})},s.prototype.on=function(l,i,d){switch(l){case Qc.COMMIT:this._onCommit.set(i,d);break;case Qc.WRITE:this._onWrite.set(i,d);break;case Qc.ERROR:this._onError.set(i,d)}},s.prototype.requestWrite=function(l,i){i===void 0&&(i=null),this._requests.push({data:l,options:i}),$s.get(this.dbname).put($e({state:na.PENDING,generation:this.generation},l))},s.prototype.requestMultipleWrite=function(l,i){var d,u;i===void 0&&(i=null);var p=$s.get(this.dbname);try{for(var _=wt(l),g=_.next();!g.done;g=_.next()){var b=g.value;this._requests.push({data:b,options:i}),p.put($e({state:na.PENDING,generation:this.generation},b))}}catch(E){d={error:E}}finally{try{g&&!g.done&&(u=_.return)&&u.call(_)}finally{if(d)throw d.error}}},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){return $s.get(this.dbname).clearByCondition(function(i){return i.state===na.PENDING}),this._requests=[],[2]})})},s.prototype.commit=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p,_,g,b,E,I,U,Y,K=this;return X(this,function(ce){switch(ce.label){case 0:if(!((l=this._requests).length>0))return[3,4];for(i=[],d={},b=l.length-1;b>=0;b--)u=l[b],I=u.data,d[I.key]||(d[I.key]=!0,i.unshift(u));return p={generation:this.generation,requests:i},[4,this._getReducedRecordset([p])];case 1:return _=ce.sent(),[4,this._store.set({key:this.recordsetKey,value:_,generation:this.generation})];case 2:return ce.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(ce.sent(),g=$s.get(this.dbname),b=0;b<i.length;b++)E=i[b],I=E.data,U=E.options,g.put($e($e({},I),{generation:p.generation,state:U&&U.persistent?na.PERSISTENT:na.VOLATILE}));this._requests=[],this._onCommit.forEach(function(ae){ae(l.map(function(pe){return pe.data}))}),Y=Wm.get(this.dbname),setTimeout(function(){try{K._applyRecord(_,p)}catch(ae){K._onError.forEach(function(pe){return pe(ae)})}},Y.transactionApplyDelay),ce.label=4;case 4:return[2]}})})},s}(),Zm=function(){function s(l){var i=l.blockId,d=l.keyName,u=l.items,p=u===void 0?[]:u,_=l.limit;this.blockId=i,this.keyName=d,this.limit=_,this._items=Br([],kr(p),!1)}return s.createFromCacheItem=function(l){return l?new s(l.value):null},Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),s.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},s.prototype.getItemByKey=function(l){var i=this;return this._items.find(function(d){var u=d[i.keyName];return l===u})},s.prototype.has=function(l){var i=this;return this._items.map(function(d){return d[i.keyName]}).includes(l)},s.prototype.add=function(l){var i=this,d=this._items.map(function(u){return u[i.keyName]}).indexOf(l[this.keyName]);return d<0?this._items.length<this.limit&&(this._items.push(l),!0):(this._items[d]=l,!0)},s.prototype.remove=function(l){for(var i in this._items)if(this._items[i][this.keyName]===l)return this._items.splice(parseInt(i),1),!0;return!1},s.prototype.clear=function(){this._items=[]},s}(),TJ=function(){function s(l){var i=l.dbname,d=l.collectionName,u=l.metadata,p=l.hashFunction,_=p===void 0?dN:p,g=l.transaction,b=l.store;this.dbname=i,this.collectionName=d,this.hashFunction=_,this.metadata=u,this._transaction=g,this._store=b}return Object.defineProperty(s.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),s.prototype.createBlockId=function(l,i){return i===void 0&&(i=this.metadata.blockLevel),d=this.dbname,u=this.collectionName,p=i,_="".concat(function(g,b,E){var I=E.base*Math.pow(E.multiplier,b)+E.constant;return(E.hashFunction||dN)(g,I)}(l,i,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(yE(d,u)).concat(p,".").concat(_);var d,u,p,_},s.prototype._findBlock=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_;return X(this,function(g){switch(g.label){case 0:i=$s.get(this.dbname),d=this.metadata.blockLevel,g.label=1;case 1:return d>0?(u=this.createBlockId(l,d),[4,i.find(this._store,u)]):[3,4];case 2:if((p=g.sent())&&(_=Zm.createFromCacheItem(p)).getItemByKey(l))return[2,_];g.label=3;case 3:return d--,[3,1];case 4:return[2,null]}})})},s.prototype.getFromBlock=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return[4,this._findBlock(l)];case 1:return[2,(i=d.sent())?i.getItemByKey(l):null]}})})},s.prototype.putToBlock=function(l,i){return Z(this,void 0,void 0,function(){var d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return d=Wm.get(this.dbname),u=this.createBlockId(l),p=Math.floor(this._store.itemSizeLimit/d.itemSizeLimit),[4,$s.get(this.dbname).find(this._store,u)];case 1:return _=b.sent(),(g=_?Zm.createFromCacheItem(_):new Zm({blockId:u,keyName:this.keyName,items:[],limit:p})).add(i)?(this._transaction.requestWrite({key:g.blockId,value:g.serialize()}),[2,!0]):[2,!1]}})})},s.prototype.removeFromBlock=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return[4,this._findBlock(l)];case 1:return(i=d.sent())&&i.remove(l)?(this._transaction.requestWrite({key:i.blockId,value:i.serialize()}),[2,!0]):[2,!1]}})})},s.prototype.clearAllBlocks=function(){return Z(this,void 0,void 0,function(){var l,i,d;return X(this,function(u){switch(u.label){case 0:return l=yE(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return i=u.sent(),d=i.filter(function(p){return p.startsWith(l)}),[4,this._store.removeMany(d)];case 2:return u.sent(),[4,this._transaction.clear()];case 3:return u.sent(),$s.get(this.dbname).clearByCondition(function(p){return p.key.startsWith(l)}),[2]}})})},s}(),Nh={},Ud=function(){function s(l){var i=l.dbname,d=l.collectionName,u=l.keyName,p=l.fields,_=l.transaction,g=l.store,b=this;this._origin=[],this._table=[];var E=function(I,U,Y){return"".concat(Yc(I,U),"/index.").concat(Y)}(i,d,p.join(">"));return Nh[E]||(this.dbname=i,this.collectionName=d,this.keyName=u,this.fields=p,this.indexerKey=E,this._transaction=_,this._store=g,this._transaction.on(Qc.COMMIT,this.indexerKey,function(){return b.commit()}),this._transaction.on(Qc.ERROR,this.indexerKey,function(){return b.abort()})),Nh[E]}return s.createKey=function(l){return l.join(">")},s.parseKey=function(l){return l.split(">")},s.clearIndexerMap=function(){for(var l in Nh)delete Nh[l]},s.prototype._addItem=function(l){var i=l[this.keyName],d=this.getColumnValues(l),u=kr(this.indexOf(d),2),p=u[0];return u[1]?!this._table[p].keys.includes(i)&&(this._table[p].keys.push(i),!0):(this._table.splice(p,0,{columnValues:d,keys:[i]}),!0)},s.prototype._removeItem=function(l){var i=l[this.keyName],d=this.getColumnValues(l),u=kr(this.indexOf(d),2),p=u[0];if(u[1]){var _=this._table[p].keys.indexOf(i);if(_>-1)return this._table[p].keys.splice(_,1),this._table[p].keys.length===0&&this._table.splice(p,1),!0}return!1},Object.defineProperty(s.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),s.prototype.getColumnValues=function(l){var i,d,u,p,_=[];try{for(var g=wt(this.fields),b=g.next();!b.done;b=g.next()){var E=b.value;if(E[0]==="-"&&(E=E.slice(1)),u=l[E],p=typeof u,u!==null&&p!=="undefined"&&p!=="boolean"&&p!=="number"&&p!=="string")throw Tr.indexTypesNotMatch;_.push(l[E])}}catch(I){i={error:I}}finally{try{b&&!b.done&&(d=g.return)&&d.call(g)}finally{if(i)throw i.error}}return _},s.prototype.diff=function(l,i){for(var d in this.fields){var u=this.fields[d][0]==="-"?-1:1,p=Rl(l[d],i[d]);if(p!==0)return u*p}return 0},s.prototype.indexOf=function(l){if(this._table.length>0){for(var i=0,d=this._table.length-1;i<=d;){var u=Math.floor((i+d)/2),p=this.diff(l,this._table[u].columnValues);if(p>0)i=u+1;else{if(!(p<0))return[u,!0];d=u-1}}return[i,!1]}return[0,!1]},s.prototype.ensure=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p,_,g,b,E,I,U,Y,K,ce,ae,pe,Ne;return X(this,function(Ee){switch(Ee.label){case 0:return[4,(l=$s.get(this.dbname)).find(this._store,this.indexerKey,Wo.PERSISTENT)];case 1:return(i=Ee.sent())?[3,11]:(d=yE(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:u=Ee.sent(),Ee.label=3;case 3:Ee.trys.push([3,8,9,10]),p=wt(u),_=p.next(),Ee.label=4;case 4:return _.done?[3,7]:(g=_.value).startsWith(d)?[4,l.find(this._store,g,Wo.NO_CACHE)]:[3,6];case 5:b=Ee.sent(),E=Zm.createFromCacheItem(b);try{for(pe=void 0,I=wt(E.items),U=I.next();!U.done;U=I.next())Y=U.value,this._addItem(Y)}catch(ze){pe={error:ze}}finally{try{U&&!U.done&&(Ne=I.return)&&Ne.call(I)}finally{if(pe)throw pe.error}}Ee.label=6;case 6:return _=p.next(),[3,4];case 7:return[3,10];case 8:return K=Ee.sent(),ce={error:K},[3,10];case 9:try{_&&!_.done&&(ae=p.return)&&ae.call(p)}finally{if(ce)throw ce.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=i.value,this._table=Ha(this._origin),Ee.label=12;case 12:return Nh[this.indexerKey]=this,[2]}})})},s.prototype.drop=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return $s.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return l.sent(),delete Nh[this.indexerKey],[2]}})})},s.prototype.addItem=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){return this._addItem(l)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.removeItem=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){return this._removeItem(l)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},s.prototype.commit=function(){this._origin=this._table,this._table=Ha(this._origin)},s.prototype.abort=function(){this._table=Ha(this._origin)},s}(),EE=function(){function s(l){var i=l.dbname,d=l.collectionName,u=l.keyName,p=l.keyHash,_=l.indexes,g=l.store,b=this;this._state=Ih.INIT,this._metadata=null,this._indexers=[],this.dbname=i,this.name=d,this.keyName=u,this.indexes=Br([[u]],kr(_.filter(function(E){return Ud.createKey(E)!==b.keyName})),!1),this._keyHash=p,this._store=g,this._mutex=new _E(function(E,I){return"".concat(Yc(E,I),".lock")}(i,d)),this._blobContainer=new kJ({dbname:i,collectionName:d,store:g}),this._transaction=new SJ({dbname:i,collectionName:d,store:g})}return s.metadataOf=function(l,i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=bE(l,i),[4,d.get(u)];case 1:return[2,p.sent()]}})})},Object.defineProperty(s.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isReady",{get:function(){return this._state===Ih.READY},enumerable:!1,configurable:!0}),s.prototype.init=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p,_,g,b,E,I,U,Y,K,ce,ae=this;return X(this,function(pe){switch(pe.label){case 0:return[4,this._mutex.lock()];case 1:pe.sent(),pe.label=2;case 2:return pe.trys.push([2,9,,10]),l=Wm.get(this.dbname),[4,s.metadataOf(this.dbname,this.name,this._store)];case 3:return i=pe.sent(),this._metadata=i||{keyName:this.keyName,blockLevel:1,blockHashBase:l.blockHashBase,blockHashMultiplier:l.blockHashMultiplier,blockHashConstant:l.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:pe.sent(),this._blockManager=new TJ({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),d=Br([],kr(this.indexes),!1),u=[],p=d.map(function(Ne){return Ud.createKey(Ne)}),_=i?i.indexes.map(function(Ne){return Ud.createKey(Ne)}):[];try{for(g=wt(_),b=g.next();!b.done;b=g.next())E=b.value,p.includes(E)||u.push(Ud.parseKey(E))}catch(Ne){K={error:Ne}}finally{try{b&&!b.done&&(ce=g.return)&&ce.call(g)}finally{if(K)throw K.error}}return(I=[]).push.apply(I,Br([],kr(d.map(function(Ne){var Ee=new Ud({dbname:ae.dbname,collectionName:ae.name,keyName:ae.keyName,fields:Ne,transaction:ae._transaction,store:ae._store});return ae._indexers.push(Ee),Ee.ensure()})),!1)),I.push.apply(I,Br([],kr(u.map(function(Ne){return new Ud({dbname:ae.dbname,collectionName:ae.name,keyName:ae.keyName,fields:Ne,transaction:ae._transaction,store:ae._store}).drop()})),!1)),[4,Promise.all(I)];case 5:return pe.sent(),[4,this._transaction.commit()];case 6:return pe.sent(),p.sort().join(",")===_.sort().join(",")?[3,8]:(U=bE(this.dbname,this.name),this._metadata.indexes=d,[4,this._store.set({key:U,value:this._metadata,generation:1})]);case 7:pe.sent(),pe.label=8;case 8:return this._state=Ih.READY,this._mutex.unlock(),[3,10];case 9:throw Y=pe.sent(),this._mutex.unlock(),Y;case 10:return[2]}})})},s.prototype.close=function(){this._state=Ih.CLOSED},s.prototype._hasPropertyOfKeyName=function(l){var i=l[this.keyName];return typeof i=="string"&&!!i},s.prototype._getIndexerBy=function(l){var i,d;l===void 0&&(l=null),l||(l=[this.keyName]);var u=Ud.createKey(l);try{for(var p=wt(this._indexers),_=p.next();!_.done;_=p.next()){var g=_.value;if(u===Ud.createKey(g.fields))return g}}catch(b){i={error:b}}finally{try{_&&!_.done&&(d=p.return)&&d.call(p)}finally{if(i)throw i.error}}return null},s.prototype._upgradeBlockLevel=function(){return Z(this,void 0,void 0,function(){var l;return X(this,function(i){switch(i.label){case 0:return l=bE(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:l,value:this._metadata,generation:1})];case 1:return i.sent(),[2]}})})},s.prototype._requestInsert=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return i=l[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return b.sent()?[3,13]:[4,this._blockManager.putToBlock(i,l)];case 2:return b.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return b.sent(),[4,this._blockManager.putToBlock(i,l)];case 4:b.sent(),b.label=5;case 5:b.trys.push([5,10,11,12]),d=wt(this._indexers),u=d.next(),b.label=6;case 6:return u.done?[3,9]:[4,u.value.addItem(l)];case 7:b.sent(),b.label=8;case 8:return u=d.next(),[3,6];case 9:return[3,12];case 10:return p=b.sent(),_={error:p},[3,12];case 11:try{u&&!u.done&&(g=d.return)&&g.call(d)}finally{if(_)throw _.error}return[7];case 12:return[3,14];case 13:throw Tr.collectionInsertDuplicate;case 14:return[2]}})})},s.prototype._requestUpsert=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I,U,Y,K,ce;return X(this,function(ae){switch(ae.label){case 0:return i=l[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(d=ae.sent())?[3,13]:[4,this._blockManager.putToBlock(i,l)];case 2:return ae.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return ae.sent(),[4,this._blockManager.putToBlock(i,l)];case 4:ae.sent(),ae.label=5;case 5:ae.trys.push([5,10,11,12]),u=wt(this._indexers),p=u.next(),ae.label=6;case 6:return p.done?[3,9]:[4,(E=p.value).addItem(l)];case 7:ae.sent(),ae.label=8;case 8:return p=u.next(),[3,6];case 9:return[3,12];case 10:return _=ae.sent(),U={error:_},[3,12];case 11:try{p&&!p.done&&(Y=u.return)&&Y.call(u)}finally{if(U)throw U.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(i,l)];case 14:ae.sent(),ae.label=15;case 15:ae.trys.push([15,21,22,23]),g=wt(this._indexers),b=g.next(),ae.label=16;case 16:return b.done?[3,20]:(E=b.value).diff(E.getColumnValues(d),E.getColumnValues(l))===0?[3,19]:[4,E.removeItem(d)];case 17:return ae.sent(),[4,E.addItem(l)];case 18:ae.sent(),ae.label=19;case 19:return b=g.next(),[3,16];case 20:return[3,23];case 21:return I=ae.sent(),K={error:I},[3,23];case 22:try{b&&!b.done&&(ce=g.return)&&ce.call(g)}finally{if(K)throw K.error}return[7];case 23:return[2]}})})},s.prototype._requestUpdate=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E;return X(this,function(I){switch(I.label){case 0:return i=l[this.keyName],[4,this._blockManager.getFromBlock(i)];case 1:return(d=I.sent())?[4,this._blockManager.putToBlock(i,l)]:[3,11];case 2:I.sent(),I.label=3;case 3:I.trys.push([3,9,10,11]),u=wt(this._indexers),p=u.next(),I.label=4;case 4:return p.done?[3,8]:(_=p.value).diff(_.getColumnValues(d),_.getColumnValues(l))===0?[3,7]:[4,_.removeItem(d)];case 5:return I.sent(),[4,_.addItem(l)];case 6:I.sent(),I.label=7;case 7:return p=u.next(),[3,4];case 8:return[3,11];case 9:return g=I.sent(),b={error:g},[3,11];case 10:try{p&&!p.done&&(E=u.return)&&E.call(u)}finally{if(b)throw b.error}return[7];case 11:return[2]}})})},s.prototype._requestRemove=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return[4,this._blockManager.getFromBlock(l)];case 1:return(i=b.sent())?[4,this._blockManager.removeFromBlock(l)]:[3,10];case 2:b.sent(),b.label=3;case 3:b.trys.push([3,8,9,10]),d=wt(this._indexers),u=d.next(),b.label=4;case 4:return u.done?[3,7]:[4,u.value.removeItem(i)];case 5:b.sent(),b.label=6;case 6:return u=d.next(),[3,4];case 7:return[3,10];case 8:return p=b.sent(),_={error:p},[3,10];case 9:try{u&&!u.done&&(g=d.return)&&g.call(d)}finally{if(_)throw _.error}return[7];case 10:return[2]}})})},s.prototype._requestClear=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p;return X(this,function(_){switch(_.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:_.sent(),_.label=2;case 2:_.trys.push([2,7,8,9]),l=wt(this._indexers),i=l.next(),_.label=3;case 3:return i.done?[3,6]:[4,i.value.clear()];case 4:_.sent(),_.label=5;case 5:return i=l.next(),[3,3];case 6:return[3,9];case 7:return d=_.sent(),u={error:d},[3,9];case 8:try{i&&!i.done&&(p=l.return)&&p.call(l)}finally{if(u)throw u.error}return[7];case 9:return[2]}})})},s.prototype.getByKey=function(l){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(l)];case 3:return i=u.sent(),this._mutex.unlock(),[2,Ha(i)];case 4:throw d=u.sent(),this._mutex.unlock(),d;case 5:return[3,7];case 6:throw Tr.collectionNotReady;case 7:return[2]}})})},s.prototype.query=function(l){return l===void 0&&(l={}),this.isReady?new xJ({condition:l.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(l.index),backward:!!l.backward}):null},s.prototype.insertOne=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:d.sent(),d.label=2;case 2:if(d.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(l))throw Tr.collectionKeyNotGiven;return[4,this._requestInsert(Ha(l))];case 3:return d.sent(),[4,this._transaction.commit()];case 4:return d.sent(),this._mutex.unlock(),[2,l];case 5:return i=d.sent(),[4,this._transaction.clear()];case 6:throw d.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Tr.collectionNotReady;case 9:return[2]}})})},s.prototype.insertMany=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E=this;return X(this,function(I){switch(I.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:I.sent(),I.label=2;case 2:if(I.trys.push([2,12,,14]),l.some(function(U){return!E._hasPropertyOfKeyName(U)}))throw Tr.collectionKeyNotGiven;I.label=3;case 3:I.trys.push([3,8,9,10]),i=wt(l),d=i.next(),I.label=4;case 4:return d.done?[3,7]:(u=d.value,[4,this._requestInsert(Ha(u))]);case 5:I.sent(),I.label=6;case 6:return d=i.next(),[3,4];case 7:return[3,10];case 8:return p=I.sent(),g={error:p},[3,10];case 9:try{d&&!d.done&&(b=i.return)&&b.call(i)}finally{if(g)throw g.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return I.sent(),this._mutex.unlock(),[2,l];case 12:return _=I.sent(),[4,this._transaction.clear()];case 13:throw I.sent(),this._mutex.unlock(),_;case 14:return[3,16];case 15:throw Tr.collectionNotReady;case 16:return[2]}})})},s.prototype.upsertOne=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:d.sent(),d.label=2;case 2:if(d.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(l))throw Tr.collectionKeyNotGiven;return[4,this._requestUpsert(Ha(l))];case 3:return d.sent(),[4,this._transaction.commit()];case 4:return d.sent(),this._mutex.unlock(),[2,l];case 5:return i=d.sent(),[4,this._transaction.clear()];case 6:throw d.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Tr.collectionNotReady;case 9:return[2]}})})},s.prototype.upsertMany=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E=this;return X(this,function(I){switch(I.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:I.sent(),I.label=2;case 2:if(I.trys.push([2,12,,14]),l.some(function(U){return!E._hasPropertyOfKeyName(U)}))throw Tr.collectionKeyNotGiven;I.label=3;case 3:I.trys.push([3,8,9,10]),i=wt(l),d=i.next(),I.label=4;case 4:return d.done?[3,7]:(u=d.value,[4,this._requestUpsert(Ha(u))]);case 5:I.sent(),I.label=6;case 6:return d=i.next(),[3,4];case 7:return[3,10];case 8:return p=I.sent(),g={error:p},[3,10];case 9:try{d&&!d.done&&(b=i.return)&&b.call(i)}finally{if(g)throw g.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return I.sent(),this._mutex.unlock(),[2,l];case 12:return _=I.sent(),[4,this._transaction.clear()];case 13:throw I.sent(),this._mutex.unlock(),_;case 14:return[3,16];case 15:throw Tr.collectionNotReady;case 16:return[2]}})})},s.prototype.update=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:d.sent(),d.label=2;case 2:if(d.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(l))throw Tr.collectionKeyNotGiven;return[4,this._requestUpdate(Ha(l))];case 3:return d.sent(),[4,this._transaction.commit()];case 4:return d.sent(),this._mutex.unlock(),[2,l];case 5:return i=d.sent(),[4,this._transaction.clear()];case 6:throw d.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Tr.collectionNotReady;case 9:return[2]}})})},s.prototype.updateIf=function(l,i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b,E,I,U,Y,K,ce,ae,pe,Ne=this;return X(this,function(Ee){switch(Ee.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:Ee.sent(),Ee.label=2;case 2:return Ee.trys.push([2,13,,15]),d=l.where,u=d===void 0?{}:d,p=l.index,_=p===void 0?null:p,g=l.backward,b=g!==void 0&&g,E=[],[4,new vE({condition:u,blockManager:this._blockManager,backward:b,indexer:this._getIndexerBy(_)}).each(function(ze){return Z(Ne,void 0,void 0,function(){var dn,Ce;return X(this,function(be){if(ze.error)throw ze.stop(),ze.error;if(ze.hasNext){if(dn=ze.nextValue,Wc(u,dn)&&i.set){if(typeof i.set!="function")for(Ce in i.set)dn[Ce]=i.set[Ce];else i.set(dn);E.push(dn)}ze.next()}else ze.stop();return[2]})})})];case 3:Ee.sent(),Ee.label=4;case 4:Ee.trys.push([4,9,10,11]),I=wt(E),U=I.next(),Ee.label=5;case 5:return U.done?[3,8]:(Y=U.value,[4,this._requestUpdate(Ha(Y))]);case 6:Ee.sent(),Ee.label=7;case 7:return U=I.next(),[3,5];case 8:return[3,11];case 9:return K=Ee.sent(),ae={error:K},[3,11];case 10:try{U&&!U.done&&(pe=I.return)&&pe.call(I)}finally{if(ae)throw ae.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return Ee.sent(),this._mutex.unlock(),[2,E];case 13:return ce=Ee.sent(),[4,this._transaction.clear()];case 14:throw Ee.sent(),this._mutex.unlock(),ce;case 15:return[3,17];case 16:throw this._transaction.clear(),Tr.collectionNotReady;case 17:return[2]}})})},s.prototype.remove=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:d.sent(),d.label=2;case 2:return d.trys.push([2,5,,7]),[4,this._requestRemove(l)];case 3:return d.sent(),[4,this._transaction.commit()];case 4:return d.sent(),this._mutex.unlock(),[3,7];case 5:return i=d.sent(),[4,this._transaction.clear()];case 6:throw d.sent(),this._mutex.unlock(),i;case 7:return[3,9];case 8:throw Tr.collectionNotReady;case 9:return[2]}})})},s.prototype.removeIf=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I,U,Y,K,ce,ae,pe=this;return X(this,function(Ne){switch(Ne.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:Ne.sent(),Ne.label=2;case 2:return Ne.trys.push([2,13,,14]),i=l.where,d=i===void 0?{}:i,u=l.index,p=u===void 0?null:u,_=l.backward,g=_!==void 0&&_,b=[],[4,new vE({condition:d,blockManager:this._blockManager,backward:g,indexer:this._getIndexerBy(p)}).each(function(Ee){return Z(pe,void 0,void 0,function(){var ze,dn;return X(this,function(Ce){if(Ee.error)throw Ee.stop(),Ee.error;return Ee.hasNext?(ze=Ee.nextValue,Wc(d,ze)&&(dn=ze[this.keyName],b.push(dn)),Ee.next()):Ee.stop(),[2]})})})];case 3:Ne.sent(),Ne.label=4;case 4:Ne.trys.push([4,9,10,11]),E=wt(b),I=E.next(),Ne.label=5;case 5:return I.done?[3,8]:(U=I.value,[4,this._requestRemove(U)]);case 6:Ne.sent(),Ne.label=7;case 7:return I=E.next(),[3,5];case 8:return[3,11];case 9:return Y=Ne.sent(),ce={error:Y},[3,11];case 10:try{I&&!I.done&&(ae=E.return)&&ae.call(E)}finally{if(ce)throw ce.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return Ne.sent(),this._mutex.unlock(),[2,b];case 13:throw K=Ne.sent(),this._mutex.unlock(),K;case 14:return[3,16];case 15:throw this._transaction.clear(),Tr.collectionNotReady;case 16:return[2]}})})},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){var l;return X(this,function(i){switch(i.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return i.sent(),[4,this._transaction.commit()];case 4:return i.sent(),this._mutex.unlock(),[3,7];case 5:return l=i.sent(),[4,this._transaction.clear()];case 6:throw i.sent(),this._mutex.unlock(),l;case 7:return[3,9];case 8:throw Tr.collectionNotReady;case 9:return[2]}})})},s.prototype.getBlob=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.get(l)];case 1:return[2,i.sent()]}})})},s.prototype.saveBlob=function(l,i){return i===void 0&&(i=null),Z(this,void 0,void 0,function(){return X(this,function(d){switch(d.label){case 0:return[4,this._blobContainer.save(l,i)];case 1:return[2,d.sent()]}})})},s.prototype.removeBlob=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._blobContainer.remove(l)];case 1:return i.sent(),[2]}})})},s.prototype.removeAllBlobs=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,this._blobContainer.clear()];case 1:return l.sent(),[2]}})})},s}(),Jm=function(){function s(l){var i,d,u;this.encryption=(i=l.encryption)!==null&&i!==void 0?i:NC,this.itemSizeLimit=(d=l.itemSizeLimit)!==null&&d!==void 0?d:4194304,this.metadataBuffer=(u=l.metadataBuffer)!==null&&u!==void 0?u:256}return s.prototype._getRawKey=function(l,i){return i===void 0&&(i=""),"".concat(l).concat(i)},s.prototype._generateShardPostfixArray=function(l){return l===void 0&&(l=1),Br([],kr(Array(l).keys()),!1)},s.prototype._shardify=function(l){var i=this,d=l.key,u=l.value,p=JSON.stringify(this.encryption.encrypt(u)),_=Math.ceil(p.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(_).map(function(g){var b={key:i._getRawKey(d,".".concat(g)),data:p.substring(g*i.adjustedItemSizeLimit,(g+1)*i.adjustedItemSizeLimit)};return g===0&&(b.metadata={shards:_}),b})},Object.defineProperty(s.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),s.prototype.usage=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p,_,g,b,E;return X(this,function(I){switch(I.label){case 0:return l=0,[4,this._getAllRawKeys()];case 1:i=I.sent(),I.label=2;case 2:I.trys.push([2,7,8,9]),d=wt(i),u=d.next(),I.label=3;case 3:return u.done?[3,6]:(p=u.value,[4,this._getRaw(p)]);case 4:(_=I.sent())&&(l+=JSON.stringify(_).length),I.label=5;case 5:return u=d.next(),[3,3];case 6:return[3,9];case 7:return g=I.sent(),b={error:g},[3,9];case 8:try{u&&!u.done&&(E=d.return)&&E.call(d)}finally{if(b)throw b.error}return[7];case 9:return[2,l]}})})},s.prototype.getAllKeys=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,l.sent().filter(function(i){return i.endsWith(".0")}).map(function(i){return i.replace(/\.0$/,"")})]}})})},s.prototype.get=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b=this;return X(this,function(E){switch(E.label){case 0:return i=this._getRawKey(l,".0"),[4,this._getRaw(i)];case 1:if(!(d=E.sent()))return[3,7];E.label=2;case 2:return E.trys.push([2,6,,7]),u=d.data,((p=d.metadata)==null?void 0:p.shards)>1?[4,Promise.all(this._generateShardPostfixArray(p==null?void 0:p.shards).map(function(I){return Z(b,void 0,void 0,function(){var U,Y;return X(this,function(K){switch(K.label){case 0:return I>0?(U=this._getRawKey(l,".".concat(I)),[4,this._getRaw(U)]):[3,2];case 1:if(!(Y=K.sent()))throw Tr.storeBrokenIntegrity;return[2,Y.data];case 2:return[2,u]}})})}))]:[3,4];case 3:return g=E.sent(),[3,5];case 4:g=[u],E.label=5;case 5:return _=g,[2,this.encryption.decrypt(JSON.parse(_.join("")))];case 6:return E.sent(),[2,null];case 7:return[2,null]}})})},s.prototype.set=function(l){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return i=this._shardify(l),[4,this._setRaw(i)];case 1:return d.sent(),[2,$e({},l.value)]}})})},s.prototype.setMany=function(l){return Z(this,void 0,void 0,function(){var i=this;return X(this,function(d){switch(d.label){case 0:return[4,this._setRaw([].concat.apply([],Br([],kr(l.map(function(u){return i._shardify(u)})),!1)))];case 1:return d.sent(),[2,l.map(function(u){return u.value})]}})})},s.prototype.remove=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p=this;return X(this,function(_){switch(_.label){case 0:return i=this._getRawKey(l,".0"),[4,this._getRaw(i)];case 1:return(d=_.sent())?(u=d.metadata,[4,this._removeRaw(this._generateShardPostfixArray(u==null?void 0:u.shards).map(function(g){return p._getRawKey(l,".".concat(g))}))]):[3,3];case 2:return _.sent(),[2,!0];case 3:return[2,!1]}})})},s.prototype.removeMany=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I,U=this;return X(this,function(Y){switch(Y.label){case 0:i=[],d=function(K){var ce,ae,pe;return X(this,function(Ne){switch(Ne.label){case 0:return ce=u._getRawKey(K,".0"),[4,u._getRaw(ce)];case 1:return(ae=Ne.sent())&&(pe=ae.metadata,i.push.apply(i,Br([],kr(u._generateShardPostfixArray(pe==null?void 0:pe.shards).map(function(Ee){return U._getRawKey(K,".".concat(Ee))})),!1))),[2]}})},u=this,Y.label=1;case 1:Y.trys.push([1,6,7,8]),p=wt(l),_=p.next(),Y.label=2;case 2:return _.done?[3,5]:(g=_.value,[5,d(g)]);case 3:Y.sent(),Y.label=4;case 4:return _=p.next(),[3,2];case 5:return[3,8];case 6:return b=Y.sent(),E={error:b},[3,8];case 7:try{_&&!_.done&&(I=p.return)&&I.call(p)}finally{if(E)throw E.error}return[7];case 8:return i.length>0?[4,this._removeRaw(i)]:[3,10];case 9:Y.sent(),Y.label=10;case 10:return[2,l]}})})},s}(),ns={},ev=function(s){function l(i){i===void 0&&(i={});var d,u=this;u=s.call(this,$e($e({},i),{itemSizeLimit:(d=i.itemSizeLimit)!==null&&d!==void 0?d:4194304}))||this;var p=i.delay,_=p===void 0?1:p;return u.delay=_,u.observer={},u}return fe(l,s),Object.defineProperty(l.prototype,"rawData",{get:function(){return ns[this.dbname]},set:function(i){ns[this.dbname]=i},enumerable:!1,configurable:!0}),l.prototype._getAllRawKeys=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){if(ns[this.dbname])return[2,Object.keys(ns[this.dbname])];throw Tr.storeNotAvailable})})},l.prototype._getRaw=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){switch(d.label){case 0:return ns[this.dbname]?[4,Qm(this.delay)]:[3,2];case 1:return d.sent(),[2,ns[this.dbname][i]?$e({key:i},ns[this.dbname][i]):null];case 2:throw Tr.storeNotAvailable}})})},l.prototype._setRaw=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b,E,I;return X(this,function(U){switch(U.label){case 0:return ns[this.dbname]?[4,Qm(this.delay)]:[3,2];case 1:U.sent();try{for(d=wt(i),u=d.next();!u.done;u=d.next())p=u.value,_=p.key,g=p.data,b=p.metadata,ns[this.dbname][_]=Object.freeze({data:g,metadata:b})}catch(Y){E={error:Y}}finally{try{u&&!u.done&&(I=d.return)&&I.call(d)}finally{if(E)throw E.error}}return[3,3];case 2:throw Tr.storeNotAvailable;case 3:return[2]}})})},l.prototype._removeRaw=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return ns[this.dbname]?[4,Qm(this.delay)]:[3,2];case 1:b.sent();try{for(d=wt(i),u=d.next();!u.done;u=d.next())p=u.value,ns[this.dbname][p]&&delete ns[this.dbname][p]}catch(E){_={error:E}}finally{try{u&&!u.done&&(g=d.return)&&g.call(d)}finally{if(_)throw _.error}}return[3,3];case 2:throw Tr.storeNotAvailable;case 3:return[2]}})})},l.prototype.observe=function(i,d,u){var p=this;this.observer[i]||(this.observer[i]={}),d.forEach(function(_){return p.observer[i][_]=u})},l.prototype.isAvailable=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,!0]})})},l.prototype.init=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){return this.dbname=i,ns[this.dbname]={},[2]})})},l.prototype.set=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){if(this.observer[i.key]&&typeof this.observer[i.key].set=="function"&&(d=this.observer[i.key].set()))throw d;return[2,s.prototype.set.call(this,i)]})})},l.prototype.setMany=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b;return X(this,function(E){try{for(d=wt(i),u=d.next();!u.done;u=d.next())if(p=u.value,this.observer[p.key]&&typeof this.observer[p.key].set=="function"&&(_=this.observer[p.key].set()))throw _}catch(I){g={error:I}}finally{try{u&&!u.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}}return[2,s.prototype.setMany.call(this,i)]})})},l.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,Qm(this.delay)];case 1:return i.sent(),ns[this.dbname]={},[2]}})})},l}(Jm),CJ=function(s){function l(i){i===void 0&&(i={});var d,u=this;return(u=s.call(this,$e($e({},i),{itemSizeLimit:(d=i.itemSizeLimit)!==null&&d!==void 0?d:104857600}))||this)._storeName="NestDBStore",u._window=typeof window<"u"?window:null,u._indexedDb=u._window?u._window.indexedDB||u._window.mozIndexedDB||u._window.webkitIndexedDB||u._window.msIndexedDB:null,u}return fe(l,s),l.prototype._getObjectStore=function(i){return this._database.transaction(this._storeName,i).objectStore(this._storeName)},l.prototype._getAllRawKeys=function(){return Z(this,void 0,void 0,function(){var i=this;return X(this,function(d){switch(d.label){case 0:return[4,new Promise(function(u,p){var _=i._getObjectStore("readonly").getAllKeys();_.addEventListener("success",function(g){u(g.target.result)}),_.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,d.sent()]}})})},l.prototype._getRaw=function(i){return Z(this,void 0,void 0,function(){var d=this;return X(this,function(u){switch(u.label){case 0:return[4,new Promise(function(p,_){var g=d._getObjectStore("readonly").get(i);g.addEventListener("success",function(b){var E;p((E=b==null?void 0:b.target)===null||E===void 0?void 0:E.result)}),g.addEventListener("error",function(b){return _(b.target.error)})})];case 1:return[2,u.sent()]}})})},l.prototype._setRaw=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=this._getObjectStore("readwrite"),[4,Promise.all(i.map(function(p){return new Promise(function(_,g){var b=d.put(p);b.addEventListener("success",function(E){_(E.target.result)}),b.addEventListener("error",function(){g("Failed to write.")})})}))];case 1:return u.sent(),[2]}})})},l.prototype._removeRaw=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return d=this._getObjectStore("readwrite"),[4,Promise.all(i.map(function(p){return new Promise(function(_,g){var b=d.delete(p);b.addEventListener("success",function(){return _(p)}),b.addEventListener("error",function(E){return g(E.target.error)})})}))];case 1:return u.sent(),[2]}})})},l.prototype.isAvailable=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_=this;return X(this,function(g){switch(g.label){case 0:if(!(((i=typeof window<"u"?window:null)==null?void 0:i.indexedDB)||(i==null?void 0:i.mozIndexedDB)||(i==null?void 0:i.webkitIndexedDB)||(i==null?void 0:i.msIndexedDB)))return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),this._indexedDb=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,d=typeof document<"u"&&typeof navigator<"u",u=navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/"),p=navigator.userAgent&&navigator.userAgent.includes("Edge/"),[4,new Promise(function(b,E){if(d)if(u){var I=_._indexedDb.open("_testMozilla");I.onerror=function(){return E("Private browsing mode.")},I.onsuccess=function(){return b()}}else p?(i.PointerEvent||i.MSPointerEvent)&&E("Private browsing mode."):b()})];case 2:return g.sent(),[2,!0];case 3:return g.sent(),[2,!1];case 4:return[2,!1]}})})},l.prototype.init=function(i){return Z(this,void 0,void 0,function(){var d,u=this;return X(this,function(p){switch(p.label){case 0:return this.dbname=i,[4,new Promise(function(_,g){if(u._window&&Ol)if(dZ){var b=u._indexedDb.open("_testMozilla");b.onerror=function(){return g(Tr.storeNotAvailableInPrivateBrowsing)},b.onsuccess=function(){return _()}}else cZ?u._window.indexedDB||!u._window.PointerEvent&&!u._window.MSPointerEvent||g(Tr.storeNotAvailableInPrivateBrowsing):_();else g(Tr.storeNotAvailable)})];case 1:return p.sent(),d=this,[4,new Promise(function(_,g){var b=u._indexedDb.open(i);b.addEventListener("upgradeneeded",function(E){E.target.result.createObjectStore("NestDBStore",{keyPath:"key"})}),b.addEventListener("success",function(E){return _(E.target.result)}),b.addEventListener("error",function(E){return g(E.target.error)})})];case 2:return d._database=p.sent(),[2]}})})},l.prototype.clear=function(){return Z(this,void 0,void 0,function(){var i=this;return X(this,function(d){switch(d.label){case 0:return[4,new Promise(function(u,p){var _=i._getObjectStore("readwrite").clear();_.addEventListener("success",function(){return u()}),_.addEventListener("error",function(g){return p(g.target.error)})})];case 1:return[2,d.sent()]}})})},l}(Jm),IJ=function(s){function l(i){var d=this,u=i.AsyncStorage,p=i.itemSizeLimit,_=p===void 0?6291456:p,g=function(b,E){var I={};for(var U in b)Object.prototype.hasOwnProperty.call(b,U)&&E.indexOf(U)<0&&(I[U]=b[U]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function"){var Y=0;for(U=Object.getOwnPropertySymbols(b);Y<U.length;Y++)E.indexOf(U[Y])<0&&Object.prototype.propertyIsEnumerable.call(b,U[Y])&&(I[U[Y]]=b[U[Y]])}return I}(i,["AsyncStorage","itemSizeLimit"]);return(d=s.call(this,$e($e({},g),{itemSizeLimit:_}))||this)._asyncStorage=u,d}return fe(l,s),l.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},l.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},l.prototype._getAllRawKeys=function(){return Z(this,void 0,void 0,function(){var i=this;return X(this,function(d){switch(d.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return[2,d.sent().filter(function(u){return i._isBelonging(u)}).map(function(u){return u.substring("".concat(i.dbname,"/").length)})]}})})},l.prototype._getRaw=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(i))];case 1:return[2,(d=u.sent())?JSON.parse(d):null]}})})},l.prototype._setRaw=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b,E;return X(this,function(I){switch(I.label){case 0:d=[];try{for(u=wt(i),p=u.next();!p.done;p=u.next())_=p.value,g=_.key,_.data.length<=this.adjustedItemSizeLimit&&d.push([this._getActualKey(g),JSON.stringify(_)])}catch(U){b={error:U}}finally{try{p&&!p.done&&(E=u.return)&&E.call(u)}finally{if(b)throw b.error}}return[4,this._asyncStorage.multiSet(d)];case 1:return I.sent(),[2]}})})},l.prototype._removeRaw=function(i){return Z(this,void 0,void 0,function(){var d=this;return X(this,function(u){switch(u.label){case 0:return[4,this._asyncStorage.multiRemove(i.map(function(p){return d._getActualKey(p)}))];case 1:return u.sent(),[2]}})})},l.prototype.isAvailable=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,!!this._asyncStorage]})})},l.prototype.init=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){return this.dbname=i,[2]})})},l.prototype.clear=function(){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return[4,this.getAllKeys()];case 1:return i=d.sent(),[4,this.removeMany(i)];case 2:return d.sent(),[2]}})})},l}(Jm);(function(s){function l(i){var d,u=this;return(u=s.call(this,$e($e({},i),{itemSizeLimit:(d=i.itemSizeLimit)!==null&&d!==void 0?d:6291456}))||this)._mmkv=i.MMKV,u}fe(l,s),l.prototype._isBelonging=function(i){return i.startsWith("".concat(this.dbname,"/"))},l.prototype._getActualKey=function(i){return"".concat(this.dbname,"/").concat(i)},l.prototype._getAllRawKeys=function(){return Z(this,void 0,void 0,function(){var i=this;return X(this,function(d){switch(d.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return[2,d.sent().filter(function(u){return i._isBelonging(u)}).map(function(u){return u.substring("".concat(i.dbname,"/").length)})]}})})},l.prototype._getRaw=function(i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:return[4,this._mmkv.getString(this._getActualKey(i))];case 1:return[2,(d=u.sent())?JSON.parse(d):null]}})})},l.prototype._setRaw=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b;return X(this,function(E){try{for(d=wt(i),u=d.next();!u.done;u=d.next())p=u.value,_=p.key,p.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(_),JSON.stringify(p))}catch(I){g={error:I}}finally{try{u&&!u.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}}return[2]})})},l.prototype._removeRaw=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g;return X(this,function(b){try{for(d=wt(i),u=d.next();!u.done;u=d.next())p=u.value,this._mmkv.delete(this._getActualKey(p))}catch(E){_={error:E}}finally{try{u&&!u.done&&(g=d.return)&&g.call(d)}finally{if(_)throw _.error}}return[2]})})},l.prototype.isAvailable=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,!!this._mmkv]})})},l.prototype.init=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){return this.dbname=i,[2]})})},l.prototype.clear=function(){return Z(this,void 0,void 0,function(){var i;return X(this,function(d){switch(d.label){case 0:return[4,this.getAllKeys()];case 1:return i=d.sent(),[4,this.removeMany(i)];case 2:return d.sent(),[2]}})})}})(Jm);var Ml,nv=!0,Xc=function(){function s(){}return s.off=function(){nv=!1},s.log=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];nv&&console.log.apply(console,Br(["".concat("[NESTDB]","[LOG]")],kr(l),!1))},s.warning=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];nv&&console.warn.apply(console,Br(["".concat("[NESTDB]","[WARNING]")],kr(l),!1))},s.error=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];nv&&console.error.apply(console,Br(["".concat("[NESTDB]","[ERROR]")],kr(l),!1))},s}();(function(s){s.INIT="INIT",s.OPENING="OPENING",s.OPENED="OPENED",s.CLOSED="CLOSED"})(Ml||(Ml={}));var wE,NJ=function(){function s(l){var i=l.name,d=l.version,u=l.store,p=l.config;this.name=i,this._version=d,this._state=Ml.INIT,this._config=p||new Wm({dbname:i}),this._store=u,this._event={success:Ym,error:Ym,upgrade:uN},this._collections=new Map,this._globalMutex=new _E("".concat(this.name,".lock")),this._config.disableLogger&&Xc.off(),new $s({dbname:i,limit:this._config.cacheLimit})}return Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),s.prototype.estimateUsage=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,(i=this._store,Z(void 0,void 0,void 0,function(){return X(this,function(d){switch(d.label){case 0:return[4,i.usage()];case 1:return[2,d.sent()]}})}))];case 1:return[2,l.sent()]}var i})})},s.prototype.commitSchema=function(l){return Z(this,void 0,void 0,function(){var i=this;return X(this,function(d){switch(d.label){case 0:return this._state!==Ml.OPENING?[3,2]:[4,Promise.all(l.map(function(u){return Z(i,void 0,void 0,function(){var p,_,g,b;return X(this,function(E){switch(E.label){case 0:return p=u.collectionName,_=u.keyName,g=u.index,b=g===void 0?[]:g,this._collections.has(p)||this._collections.set(p,new EE({dbname:this.name,collectionName:p,keyName:_,indexes:b,store:this._store})),[4,this._collections.get(p).init()];case 1:return E.sent(),[2]}})})}))];case 1:return d.sent(),[3,3];case 2:throw Tr.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},s.prototype.open=function(){var l;return Z(this,void 0,void 0,function(){var i,d,u,p,_=this;return X(this,function(g){switch(g.label){case 0:return[4,this._globalMutex.lock()];case 1:if(g.sent(),this._state===Ml.OPENED)return[3,15];this._state=Ml.OPENING,g.label=2;case 2:return g.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return g.sent(),b=this.name,i="".concat(gE(b),".metadata"),d={version:0,collectionNames:[]},[4,this._store.get(i)];case 4:return u=(l=g.sent())!==null&&l!==void 0?l:d,[2,new Promise(function(E,I){var U=function(K){u.version<_._version?_._event.upgrade(u.version,function(ce){return Z(_,void 0,void 0,function(){var ae;return X(this,function(pe){switch(pe.label){case 0:if(ce)return[3,5];u.version++,u.collectionNames=Array.from(this._collections.keys()),pe.label=1;case 1:return pe.trys.push([1,3,,4]),[4,this._store.set({key:i,value:u,generation:this._version})];case 2:return pe.sent(),K({continued:!0}),[3,4];case 3:return ae=pe.sent(),K({continued:!1,err:ae}),[3,4];case 4:return[3,6];case 5:K({continued:!1,err:ce}),pe.label=6;case 6:return[2]}})})}):K({continued:!1})},Y=function(K){var ce=K.continued,ae=ce!==void 0&&ce,pe=K.err,Ne=pe===void 0?null:pe;if(ae)setTimeout(function(){return U(Y)},10);else if(Ne)Xc.error(Ne.message),_._globalMutex.unlock(),_._event.error(Ne),I(Ne);else{var Ee=[];u.collectionNames.forEach(function(ze){_._collections.has(ze)||Ee.push(Z(_,void 0,void 0,function(){var dn,Ce;return X(this,function(be){switch(be.label){case 0:return[4,EE.metadataOf(this.name,ze,this._store)];case 1:return(dn=be.sent())?(Ce=new EE({dbname:this.name,collectionName:ze,keyName:dn.keyName,indexes:dn.indexes,store:this._store}),this._collections.set(ze,Ce),[4,Ce.init()]):[3,3];case 2:be.sent(),be.label=3;case 3:return[2]}})}))}),Promise.all(Ee).then(function(){_._state=Ml.OPENED,_._globalMutex.unlock(),_._event.success(),E()}).catch(function(ze){Xc.error(ze.message),_._globalMutex.unlock(),_._event.error(ze),I(ze)})}};U(Y)})];case 5:switch((p=g.sent()).code){case wr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case wr.STORE_NOT_AVAILABLE:return[3,8];case wr.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return Xc.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new ev({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 7:return g.sent(),[3,14];case 8:return Xc.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new ev({}),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 9:return g.sent(),[3,14];case 10:return Xc.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return g.sent(),this._globalMutex.unlock(),this._event.error(p),[4,this.open()];case 12:return g.sent(),[3,14];case 13:throw Xc.error(p.message),this._globalMutex.unlock(),this._event.error(p),p;case 14:return[3,15];case 15:return[2]}var b})})},s.prototype.close=function(){this._collections.forEach(function(l){return l.close()}),this._state=Ml.CLOSED},s.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(l){switch(l.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(i){return i.clear()}))];case 1:return l.sent(),[2]}})})},s.prototype.reset=function(){return Z(this,void 0,void 0,function(){var l,i=this;return X(this,function(d){switch(d.label){case 0:return this.close(),(l=$s.get(this.name))&&l.clearByCondition(function(u){return u.key.startsWith(gE(i.name))}),[4,this._store.clear()];case 1:return d.sent(),[2]}})})},s.prototype.on=function(l,i){this._event[l]=i},s.prototype.off=function(l){typeof this._event[l]=="function"&&(this._event[l]=l==="upgrade"?uN:Ym)},s.prototype.collection=function(l){return this._collections.get(l)||null},s}();(function(s){s.MUTED="muted",s.BANNED="banned"})(wE||(wE={}));var Np,fN=function(){function s(l){var i,d,u;this.restrictionType=null,this.description=null,this.endAt=-1,Sr(wE,l.restriction_type)&&(this.restrictionType=l.restriction_type),this.description=(i=l.description)!==null&&i!==void 0?i:null,this.endAt=(u=(d=l.end_at)!==null&&d!==void 0?d:l.muted_end_at)!==null&&u!==void 0?u:-1}return s.payloadify=function(l){return l?Tt({restriction_type:l.restrictionType,description:l.description,end_at:l.endAt}):null},s}(),Ah=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.restrictionInfo=null,u.restrictionInfo=new fN(d),u}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},s.payloadify.call(this,i)),fN.payloadify(i.restrictionInfo))):null},l}(Lt),_N={data:null,customType:null,mentionType:ya.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},mN=function(s){return Ve("string",s.data,!0)&&Ve("string",s.customType,!0)&&Sr(ya,s.mentionType)&&Yt("string",s.mentionedUserIds,!0)&&Yt(Lt,s.mentionedUsers,!0)&&Ve("string",s.mentionedMessageTemplate,!0)&&Yt(ys,s.metaArrays,!0)&&Sr(Ad,s.pushNotificationDeliveryOption,!0)&&Ve(Rd,s.appleCriticalAlertOptions,!0)},AJ=$e($e({},_N),{message:null,translationTargetLanguages:null,pollId:null}),OJ=$e({},_N),RJ=function(s){function l(i){var d=i.channelUrl,u=i.channelType,p=i.token,_=i.limit,g=s.call(this)||this;return g.method=Nn.GET,g.path="".concat(ur(u),"/").concat(encodeURIComponent(d),"/operators"),g.params={token:p,limit:_},g}return fe(l,s),l}(On),MJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.operators=d.operators.map(function(p){return new Lt(i,p)}),u.token=d.next,u}return fe(l,s),l}(Pn),DJ=function(s){function l(i,d,u,p){return s.call(this,i,d,u,p)||this}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)},l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:return this._validate()?this._isLoading?[3,3]:(i=[],this._hasNext?(this._isLoading=!0,d=sn.of(this._iid).requestQueue,u=new RJ($e($e({},this),{channelUrl:this.channelUrl,token:this._token})),[4,d.send(u)]):[3,2]):[3,5];case 1:return p=E.sent(),_=p.as(MJ),g=_.operators,b=_.token,this._token=b,this._hasNext=!!b,this._isLoading=!1,[2,g];case 2:return[2,i];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Kc),LJ=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.limit,g=i.token;return(d=s.call(this)||this).method=Nn.GET,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/mute"),d.params={limit:_,token:g},d}return fe(l,s),l}(On),UJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;u.token=null,u.mutedUsers=[];var p=d.next,_=d.muted_list;return u.token=p,_&&_.length>0&&(u.mutedUsers=_.map(function(g){return new Ah(i,g)})),u}return fe(l,s),l}(Pn),PJ=function(s){function l(i,d,u,p){return s.call(this,i,d,u,p)||this}return fe(l,s),l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid).requestQueue,d=new LJ($e($e({},this),{token:this._token})),[4,i.send(d)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(UJ),_=p.mutedUsers,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Kc),FJ=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.limit,g=i.token;return(d=s.call(this)||this).method=Nn.GET,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/ban"),d.params=Tt({limit:_,token:g}),d}return fe(l,s),l}(On),HJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;u.token=null,u.bannedUsers=[];var p=d.next,_=d.banned_list;return u.token=p,_&&_.length>0&&(u.bannedUsers=_.map(function(g){return new Ah(i,g.user)})),u}return fe(l,s),l}(Pn),BJ=function(s){function l(i,d,u,p){return s.call(this,i,d,u,p)||this}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)},l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid).requestQueue,d=new FJ($e($e({},this),{token:this._token})),[4,i.send(d)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(HJ),_=p.bannedUsers,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Kc);(function(s){s.SPAM="spam",s.HARASSING="harassing",s.SUSPICIOUS="suspicious",s.INAPPROPRIATE="inappropriate"})(Np||(Np={}));var $J=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.operatorUserIds;return(d=s.call(this)||this).method=Nn.POST,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/operators"),d.params={operator_ids:_},d}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var zJ=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.operatorUserIds;return(d=s.call(this)||this).method=Nn.DELETE,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/operators"),d.params={operator_ids:_},d}return fe(l,s),l}(On);(function(s){fe(function(l,i){return s.call(this,l,i)||this},s)})(Pn);var VJ=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.userId;return(d=s.call(this)||this).method=Nn.GET,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/mute/").concat(_),d}return fe(l,s),l}(On),GJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;u.isMuted=!1,u.startAt=null,u.endAt=null,u.remainingDuration=null,u.description=null;var p=d.is_muted,_=d.start_at,g=d.end_at,b=d.remaining_duration,E=d.description;return u.isMuted=p,u.startAt=_,u.endAt=g,u.remainingDuration=b,u.description=E,u}return fe(l,s),l}(Pn),vN=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.keys;return(d=s.call(this)||this).method=Nn.GET,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metadata"),d.params={keys:_,include_ts:!0},d}return fe(l,s),l}(On),gN=function(s){function l(i,d){var u=s.call(this,i,d)||this;u.ts=null;var p=d.metadata,_=d.ts;return u.metadata=p,u.ts=_!=null?_:null,u}return fe(l,s),l}(Pn),qJ=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.metadata;return(d=s.call(this)||this).method=Nn.POST,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metadata"),d.params={metadata:_,include_ts:!0},d}return fe(l,s),l}(On),jJ=function(s){function l(i,d){var u,p,_=this;return(_=s.call(this,i,d)||this).metaData=(u=d.metadata)!==null&&u!==void 0?u:{},_.ts=(p=d.ts)!==null&&p!==void 0?p:null,_}return fe(l,s),l}(Pn),KJ=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.metadata,g=i.upsert;return(d=s.call(this)||this).method=Nn.PUT,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metadata"),d.params={metadata:_,include_ts:!0,upsert:g!=null&&g},d}return fe(l,s),l}(On),WJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;u.ts=null;var p=d.metadata,_=d.ts;return u.metadata=p,u.ts=_!=null?_:null,u}return fe(l,s),l}(Pn),QJ=function(s){function l(i,d,u){var p=s.call(this,i,"SYEV",u)||this;return p.created=null,p.updated=null,p.deleted=null,u.data&&(p.created=u.data.created,p.updated=u.data.updated,p.deleted=u.data.deleted),p}return fe(l,s),l}(Vr),YJ=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.key;return(d=s.call(this)||this).method=Nn.DELETE,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metadata/").concat(_),d.params={include_ts:!0},d}return fe(l,s),l}(On),XJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;u.ts=null;var p=d.ts;return u.ts=p!=null?p:null,u}return fe(l,s),l}(Pn),ZJ=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType;return(d=s.call(this)||this).method=Nn.DELETE,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metadata"),d.params={include_ts:!0},d}return fe(l,s),l}(On),JJ=function(s){function l(i,d){var u=s.call(this,i,d)||this;u.ts=null;var p=d.ts;return u.ts=p!=null?p:null,u}return fe(l,s),l}(Pn),bN=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.keys;return(d=s.call(this)||this).method=Nn.GET,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metacounter"),d.params={keys:_},d}return fe(l,s),l}(On),yN=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.metaCounter=d,u}return fe(l,s),l}(Pn),eee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.metaCounter;return(d=s.call(this)||this).method=Nn.POST,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metacounter"),d.params={metacounter:_},d}return fe(l,s),l}(On),nee=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.metaCounter=d,u}return fe(l,s),l}(Pn),xE=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.metaCounter,g=i.upsert,b=g!==void 0&&g,E=i.mode,I=E===void 0?"set":E;return(d=s.call(this)||this).method=Nn.PUT,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metacounter"),d.params={metacounter:_,upsert:b,mode:I},d}return fe(l,s),l}(On),kE=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.metaCounter=d,u}return fe(l,s),l}(Pn),tee=function(s){function l(i,d,u){var p=s.call(this,i,"SYEV",u)||this;return p.created=null,p.updated=null,p.deleted=null,u.data&&(p.created=u.data.created,p.updated=u.data.updated,p.deleted=u.data.deleted),p}return fe(l,s),l}(Vr),ree=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.key;return(d=s.call(this)||this).method=Nn.DELETE,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metacounter/").concat(_),d.params=null,d}return fe(l,s),l}(On);(function(s){fe(function(l,i){return s.call(this,l,i)||this},s)})(Pn);var iee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType;return(d=s.call(this)||this).method=Nn.DELETE,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/metacounter"),d.params=null,d}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var aee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.userId,g=i.seconds,b=i.description;return(d=s.call(this)||this).method=Nn.POST,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/mute"),d.params={user_id:_,seconds:g,description:b},d}return fe(l,s),l}(On);(function(s){fe(function(l,i){return s.call(this,l,i)||this},s)})(Pn);var see=function(s){function l(i,d,u){var p=s.call(this,i,"SYEV",u)||this;return p.user=new Ah(i,u.data),p}return fe(l,s),l}(Vr),oee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.userId;return(d=s.call(this)||this).method=Nn.DELETE,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/mute/").concat(encodeURIComponent(_)),d}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var lee=function(s){function l(i,d,u){var p=s.call(this,i,"SYEV",u)||this;return p.user=new Ah(i,u.data),p}return fe(l,s),l}(Vr),dee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.userId,g=i.seconds,b=i.description;return(d=s.call(this)||this).method=Nn.POST,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/ban"),d.params=Tt({user_id:_,seconds:g,description:b}),d}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var cee=function(s){function l(i,d,u){var p=s.call(this,i,"SYEV",u)||this;return p.memberCount=null,p.joinedMemberCount=null,p.user=new Ah(i,u.data),u.data.member_count&&(p.memberCount=u.data.member_count),u.data.joined_member_count&&(p.joinedMemberCount=u.data.joined_member_count),p}return fe(l,s),l}(Vr),uee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.userId;return(d=s.call(this)||this).method=Nn.DELETE,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/ban/").concat(encodeURIComponent(_)),d}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var hee=function(s){function l(i,d,u){var p=s.call(this,i,"SYEV",u)||this;return p.user=new Ah(i,u.data),p}return fe(l,s),l}(Vr),EN=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.freezing;return(d=s.call(this)||this).method=Nn.PUT,d.path="".concat(ur(p),"/").concat(encodeURIComponent(u),"/freeze"),d.params={freeze:_},d}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var pee=function(s){function l(i,d,u){var p=s.call(this,i,"SYEV",u)||this;return p.freeze=u.data.freeze,p}return fe(l,s),l}(Vr),fee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.category,g=i.userId,b=i.description;return(d=s.call(this)||this).method=Nn.POST,d.path="".concat(RI(p),"/").concat(encodeURIComponent(u)),d.params={report_category:_,reporting_user_id:g,report_description:b},d}return fe(l,s),l}(On),_ee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.category,g=i.userId,b=i.offendingUserId,E=i.description;return(d=s.call(this)||this).method=Nn.POST,d.path="".concat(G2,"/users/").concat(b),d.params={channel_url:u,channel_type:p===zr.OPEN?"open_channels":"group_channels",report_category:_,reporting_user_id:g,report_description:E},d}return fe(l,s),l}(On),mee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.channelType,_=i.category,g=i.userId,b=i.offendingUserId,E=i.messageId,I=i.description;return(d=s.call(this)||this).method=Nn.POST,d.path="".concat(RI(p),"/").concat(encodeURIComponent(u),"/messages/").concat(E),d.params={report_category:_,reporting_user_id:g,report_description:I,offending_user_id:b},d}return fe(l,s),l}(On),vee=function(s){function l(i){var d=[];return i.mentionType===ya.USERS&&(i.mentionedUserIds?d=i.mentionedUserIds:i.mentionedUsers&&(d=i.mentionedUsers.map(function(u){return u.userId}))),s.call(this,{code:"MESG",ackRequired:!0,payload:Tt({channel_url:i.channelUrl,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrays,mention_type:i.mentionType,mentioned_user_ids:d,mentioned_message_template:i.mentionedMessageTemplate,target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==Ad.DEFAULT?i.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:i.appleCriticalAlertOptions,silent:i.silent,reply_to_channel:i.isReplyToChannel,parent_message_id:i.parentMessageId>0?i.parentMessageId:null,req_id:i.reqId,poll_id:i.pollId,pin_message:i.isPinnedMessage})})||this}return fe(l,s),l}(po),wN=function(s){function l(i,d,u){var p,_,g,b=this;(b=s.call(this,i,"MESG",u)||this).message=new Ea(i,u);var E=sn.of(i).sdkState;return b.isMentioned=Sh(b.message.mentionType,(p=b.message.mentionedUserIds)!==null&&p!==void 0?p:(_=b.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(I){return I.userId}),E.userId),b.forceUpdateLastMessage=(g=u.force_update_last_message)!==null&&g!==void 0&&g,b}return fe(l,s),l}(Vr),xN=function(s){function l(i){var d,u=null;return i.mentionType===ya.USERS&&(i.mentionedUserIds?u=i.mentionedUserIds:i.mentionedUsers&&(u=i.mentionedUsers.map(function(p){return p.userId}))),s.call(this,{code:"MEDI",ackRequired:!0,payload:Tt({channel_url:i.channelUrl,msg_id:i.messageId,message:i.message,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:u,mentioned_message_template:i.mentionedMessageTemplate,apple_critical_alert_options:(d=i.appleCriticalAlertOptions)===null||d===void 0?void 0:d.serialize(),poll_id:i.pollId})})||this}return fe(l,s),l}(po),SE=function(s){function l(i,d,u){var p,_,g,b,E,I,U=this;(U=s.call(this,i,"MEDI",u)||this).message=new Ea(i,u);var Y=sn.of(i).sdkState;return U.mentionCountChange=tE({mentionType:(_=(p=u.old_values)===null||p===void 0?void 0:p.mention_type)!==null&&_!==void 0?_:null,mentionedUserIds:(b=(g=u.old_values)===null||g===void 0?void 0:g.mentioned_user_ids)!==null&&b!==void 0?b:[]},{mentionType:U.message.mentionType,mentionedUserIds:(E=U.message.mentionedUserIds)!==null&&E!==void 0?E:(I=U.message.mentionedUsers)===null||I===void 0?void 0:I.map(function(K){return K.userId})},Y.userId),U}return fe(l,s),l}(Vr),kN=function(s){function l(i){var d=null;return i.mentionType===ya.USERS&&(i.mentionedUserIds?d=i.mentionedUserIds:i.mentionedUsers&&(d=i.mentionedUsers.map(function(u){return u.userId}))),s.call(this,{code:"FEDI",ackRequired:!0,payload:Tt({channel_url:i.channelUrl,msg_id:i.messageId,data:i.data,custom_type:i.customType,metaarray:i.metaArrayParams,mention_type:i.mentionType,mentioned_user_ids:d,apple_critical_alert_options:i.appleCriticalAlertOptions})})||this}return fe(l,s),l}(po),TE=function(s){function l(i,d,u){var p,_,g,b,E,I,U=this;(U=s.call(this,i,"FEDI",u)||this).message=new _i(i,u);var Y=sn.of(i).sdkState;return U.mentionCountChange=tE({mentionType:(_=(p=u.old_values)===null||p===void 0?void 0:p.mention_type)!==null&&_!==void 0?_:null,mentionedUserIds:(b=(g=u.old_values)===null||g===void 0?void 0:g.mentioned_user_ids)!==null&&b!==void 0?b:[]},{mentionType:U.message.mentionType,mentionedUserIds:(E=U.message.mentionedUserIds)!==null&&E!==void 0?E:(I=U.message.mentionedUsers)===null||I===void 0?void 0:I.map(function(K){return K.userId})},Y.userId),U}return fe(l,s),l}(Vr),gee=function(s){function l(i){var d=s.call(this)||this;return d.method=Nn.DELETE,d.path="".concat(ur(i.channelType),"/").concat(i.channelUrl,"/messages/").concat(i.messageId),d}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var bee=function(s){function l(i,d,u){var p=s.call(this,i,"DELM",u)||this;return p.channelUrl=u.channel_url,p.channelType=u.channel_type,p.messageId=Number(u.msg_id),p}return fe(l,s),l}(Vr),yee=function(s){function l(i){var d=i.channelType,u=i.channelUrl,p=i.messageId,_=i.reactionKey,g=s.call(this)||this;return g.method=Nn.POST,g.path="".concat(ur(d),"/").concat(encodeURIComponent(u),"/messages/").concat(p,"/reactions"),g.params={reaction:_},g}return fe(l,s),l}(On),Eee=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.reactionEvent=new X2(d),u}return fe(l,s),l}(Pn),wee=function(s){function l(i){var d=i.channelType,u=i.channelUrl,p=i.messageId,_=i.reactionKey,g=s.call(this)||this;return g.method=Nn.DELETE,g.path="".concat(ur(d),"/").concat(encodeURIComponent(u),"/messages/").concat(p,"/reactions"),g.params={reaction:_},g}return fe(l,s),l}(On),xee=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.reactionEvent=new X2($e({},d)),u}return fe(l,s),l}(Pn),kee=function(s){function l(i){var d=i.channelType,u=i.channelUrl,p=i.messageId,_=i.translationTargetLanguages,g=s.call(this)||this;return g.method=Nn.POST,g.path="".concat(ur(d),"/").concat(encodeURIComponent(u),"/messages/").concat(encodeURIComponent(p),"/translation"),g.params={target_langs:_},g}return fe(l,s),l}(On),See=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.message=new Ea(i,d),u}return fe(l,s),l}(Pn),Tee=function(s){function l(i){var d,u=this;u=s.call(this)||this;var p=[];i.mentionType===ya.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(b){return b.userId})));var _=i.channelType,g=i.channelUrl;return u.method=Nn.POST,u.path="".concat(ur(_),"/").concat(encodeURIComponent(g),"/scheduled_messages"),u.params={req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:Bm.USER,message:i.message,custom_type:i.customType,data:i.data,mention_type:i.mentionType,mentioned_user_ids:p,sorted_metaarray:(d=i.metaArrays)===null||d===void 0?void 0:d.map(function(b){return ys.payloadify(b)}),apple_critical_alert_options:Rd.payloadify(i.appleCriticalAlertOptions),target_langs:i.translationTargetLanguages,push_option:i.pushNotificationDeliveryOption},u}return fe(l,s),l}(On),Cee=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.message=new Ea(i,d),u}return fe(l,s),l}(Pn),Iee=function(s){function l(i){var d,u=this;u=s.call(this)||this;var p=[];i.mentionType===ya.USERS&&(i.mentionedUserIds?p=i.mentionedUserIds:i.mentionedUsers&&(p=i.mentionedUsers.map(function(b){return b.userId})));var _=i.channelType,g=i.channelUrl;return u.method=Nn.POST,u.path="".concat(ur(_),"/").concat(encodeURIComponent(g),"/scheduled_messages"),u.params={req_id:i.reqId,scheduled_at:i.scheduledAt,message_type:Bm.FILE,url:i.fileUrl,file_name:i.fileName,file_size:i.fileSize,file_type:i.mimeType,thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function(b){return Z2.payloadify(b)}):[],custom_type:i.customType,data:i.data,require_auth:i.requireAuth,mention_type:i.mentionType,mentioned_user_ids:p,sorted_metaarray:(d=i.metaArrays)===null||d===void 0?void 0:d.map(function(b){return ys.payloadify(b)}),apple_critical_alert_options:Rd.payloadify(i.appleCriticalAlertOptions),push_option:i.pushNotificationDeliveryOption},u}return fe(l,s),l}(On),Nee=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.message=new _i(i,d),u}return fe(l,s),l}(Pn),Aee=function(s){function l(i){var d=i.pollId,u=i.title,p=i.data,_=i.allowUserSuggestion,g=i.allowMultipleVotes,b=i.closeAt,E=s.call(this)||this;return E.method=Nn.PUT,E.path="".concat(fo,"/").concat(encodeURIComponent(d)),E.params={title:u,data:p,allow_user_suggestion:_,allow_multiple_votes:g,close_at:b},E}return fe(l,s),l}(On),Oee=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.poll=new Bs(i,d),u}return fe(l,s),l}(Pn),Ree=function(s){function l(i){var d=i.pollId,u=s.call(this)||this;return u.method=Nn.DELETE,u.path="".concat(fo,"/").concat(encodeURIComponent(d)),u}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var Mee=function(s){function l(i){var d=i.pollId,u=s.call(this)||this;return u.method=Nn.PUT,u.path="".concat(fo,"/").concat(encodeURIComponent(d),"/close"),u}return fe(l,s),l}(On),Dee=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.poll=new Bs(i,d),u}return fe(l,s),l}(Pn),Lee=function(s){function l(i){var d=i.channelUrl,u=i.channelType,p=i.pollId,_=i.optionText,g=s.call(this)||this;return g.method=Nn.POST,g.path="".concat(fo,"/").concat(encodeURIComponent(p),"/options"),g.params={channel_url:d,channel_type:u,text:_},g}return fe(l,s),l}(On),Uee=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.poll=new Bs(i,d),u}return fe(l,s),l}(Pn),Pee=function(s){function l(i){var d=i.pollId,u=i.pollOptionId,p=i.optionText,_=s.call(this)||this;return _.method=Nn.PUT,_.path="".concat(fo,"/").concat(encodeURIComponent(d),"/options/").concat(encodeURIComponent(u)),_.params={text:p},_}return fe(l,s),l}(On),Fee=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.poll=new Bs(i,d),u}return fe(l,s),l}(Pn),Hee=function(s){function l(i){var d=i.pollId,u=i.pollOptionId,p=s.call(this)||this;return p.method=Nn.DELETE,p.path="".concat(fo,"/").concat(encodeURIComponent(d),"/options/").concat(encodeURIComponent(u)),p}return fe(l,s),l}(On);(function(s){fe(function(){return s!==null&&s.apply(this,arguments)||this},s)})(Pn);var ta,Bee=function(s){function l(i){var d=i.reqId,u=i.channelType,p=i.channelUrl,_=i.pollId,g=i.pollOptionIds;return s.call(this,{code:"VOTE",ackRequired:!0,payload:Tt({req_id:d,channel_type:u===zr.OPEN?"open_channels":"group_channels",channel_url:p,poll_id:_,option_ids:g})})||this}return fe(l,s),l}(po),SN=function(s){function l(i,d,u){var p=s.call(this,i,"VOTE",u)||this;return p.event=null,p.channelUrl=null,p.channelType=null,p.event=new JX(u),p.channelUrl=u.channel_url,p.channelType=u.channel_type,p}return fe(l,s),l}(Vr),TN=function(s){function l(i,d){var u,p,_,g,b=this;return(b=s.call(this,i)||this).url="",b.channelType=zr.BASE,b.name="",b.coverUrl="",b.customType="",b.data="",b.isFrozen=!1,b.isEphemeral=!1,b.creator=null,b.createdAt=0,b.url=d.channel_url,b.name=(u=d.name)!==null&&u!==void 0?u:"",b.coverUrl=(p=d.cover_url)!==null&&p!==void 0?p:"",b.customType=(_=d.custom_type)!==null&&_!==void 0?_:"",b.data=(g=d.data)!==null&&g!==void 0?g:"",b.isFrozen=!!Ve("boolean",d.freeze)&&d.freeze,b.isEphemeral=!!Ve("boolean",d.is_ephemeral)&&d.is_ephemeral,b.creator=d.created_by?new Lt(b._iid,d.created_by):null,b.createdAt=1e3*d.created_at,b._cachedMetaData=new Map,d.metadata&&d.ts&&Object.keys(d.metadata).forEach(function(E){b._cachedMetaData.set(E,{value:d.metadata[E],isRemoved:!1,updatedAt:d.ts})}),b}return fe(l,s),l.payloadify=function(i){return Tt($e($e({},s.payloadify.call(this,i)),{channel_url:i.url,name:i.name,cover_url:i.coverUrl,custom_type:i.customType,data:i.data,freeze:i.isFrozen,is_ephemeral:i.isEphemeral,created_by:Lt.payloadify(i.creator),created_at:i.createdAt/1e3}))},l.prototype.isGroupChannel=function(){return this.channelType===zr.GROUP},l.prototype.isOpenChannel=function(){return this.channelType===zr.OPEN},Object.defineProperty(l.prototype,"cachedMetaData",{get:function(){var i={};return this._cachedMetaData.forEach(function(d,u){d.isRemoved||(i[u]=d.value)}),i},enumerable:!1,configurable:!0}),l.prototype._upsertCachedMetaData=function(i,d){var u=this;Object.keys(i).forEach(function(p){var _=u._cachedMetaData.get(p);(!_||_.updatedAt<=d)&&u._cachedMetaData.set(p,{value:i[p],isRemoved:!1,updatedAt:d})})},l.prototype._removeFromCachedMetaData=function(i,d){var u=this;i.forEach(function(p){var _=u._cachedMetaData.get(p);_&&_.updatedAt<d&&(_.isRemoved=!1,_.updatedAt=d)})},l.prototype._generateRequestId=function(){return"rq-".concat(gh())},l.prototype.isIdentical=function(i){return i&&this.url===i.url},l.prototype.isEqual=function(i){return CC(this,i)},l.prototype.createOperatorListQuery=function(i){return i===void 0&&(i={}),new DJ(this._iid,this.url,this.channelType,i)},l.prototype.createMutedUserListQuery=function(i){return i===void 0&&(i={}),new PJ(this._iid,this.url,this.channelType,i)},l.prototype.createBannedUserListQuery=function(i){return i===void 0&&(i={}),new BJ(this._iid,this.url,this.channelType,i)},l.prototype.createPreviousMessageListQuery=function(i){return i===void 0&&(i={}),new FX(this._iid,this.url,this.channelType,i)},l.prototype.addOperators=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return Fn(Yt("string",i)).throw(Qe.invalidParameters),d=sn.of(this._iid).requestQueue,u=new $J({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,d.send(u)];case 1:return p.sent(),[2]}})})},l.prototype.removeOperators=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return Fn(Yt("string",i)).throw(Qe.invalidParameters),d=sn.of(this._iid).requestQueue,u=new zJ({channelUrl:this.url,channelType:this.channelType,operatorUserIds:i}),[4,d.send(u)];case 1:return p.sent(),[2]}})})},l.prototype.getMyMutedInfo=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I,U,Y;return X(this,function(K){switch(K.label){case 0:return i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new VJ({channelUrl:this.url,channelType:this.channelType,userId:d.userId}),[4,u.send(p)];case 1:return _=K.sent(),g=_.as(GJ),b=g.isMuted,E=g.startAt,I=g.endAt,U=g.remainingDuration,Y=g.description,[2,{isMuted:b,startAt:E,endAt:I,remainingDuration:U,description:Y}]}})})},l.prototype.getMetaData=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:return Fn(Yt("string",i)).throw(Qe.invalidParameters),d=sn.of(this._iid).requestQueue,u=new vN({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,d.send(u)];case 1:return p=E.sent(),_=p.as(gN),g=_.metadata,b=_.ts,this._upsertCachedMetaData(g,b),[2,g]}})})},l.prototype.getAllMetaData=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return i=sn.of(this._iid).requestQueue,d=new vN({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(d)];case 1:return u=b.sent(),p=u.as(gN),_=p.metadata,g=p.ts,this._upsertCachedMetaData(_,g),[2,_]}})})},l.prototype.createMetaData=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_;return X(this,function(g){switch(g.label){case 0:return d=sn.of(this._iid).requestQueue,u=new qJ({channelUrl:this.url,channelType:this.channelType,metadata:i}),[4,d.send(u)];case 1:return p=g.sent(),_=p.as(jJ).metaData,this._upsertCachedMetaData(_,0),[2,_]}})})},l.prototype.updateMetaData=function(i,d){return d===void 0&&(d=!1),Z(this,void 0,void 0,function(){var u,p,_,g,b,E;return X(this,function(I){switch(I.label){case 0:return u=sn.of(this._iid).requestQueue,p=new KJ({channelUrl:this.url,channelType:this.channelType,metadata:i,upsert:d}),[4,u.send(p)];case 1:return _=I.sent(),g=_.as(WJ),b=g.metadata,E=g.ts,this._upsertCachedMetaData(b,E),[2,b]}})})},l.prototype.deleteMetaData=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_;return X(this,function(g){switch(g.label){case 0:return Fn(Ve("string",i)).throw(Qe.invalidParameters),d=sn.of(this._iid).requestQueue,u=new YJ({channelUrl:this.url,channelType:this.channelType,key:i}),[4,d.send(u)];case 1:return p=g.sent(),_=p.as(XJ).ts,this._removeFromCachedMetaData([i],_),[2]}})})},l.prototype.deleteAllMetaData=function(){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return i=sn.of(this._iid).requestQueue,d=new ZJ({channelUrl:this.url,channelType:this.channelType}),[4,i.send(d)];case 1:return u=_.sent(),p=u.as(JJ).ts,this._removeFromCachedMetaData(Br([],kr(this._cachedMetaData.keys()),!1),p),[2]}})})},l.prototype.getMetaCounters=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return Fn(Yt("string",i)).throw(Qe.invalidParameters),d=sn.of(this._iid).requestQueue,u=new bN({channelUrl:this.url,channelType:this.channelType,keys:i}),[4,d.send(u)];case 1:return[2,p.sent().as(yN).metaCounter]}})})},l.prototype.getAllMetaCounters=function(){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:return i=sn.of(this._iid).requestQueue,d=new bN({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,i.send(d)];case 1:return[2,u.sent().as(yN).metaCounter]}})})},l.prototype.createMetaCounters=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return d=sn.of(this._iid).requestQueue,u=new eee({channelUrl:this.url,channelType:this.channelType,metaCounter:i}),[4,d.send(u)];case 1:return[2,p.sent().as(nee).metaCounter]}})})},l.prototype.updateMetaCounters=function(i,d){return d===void 0&&(d=!1),Z(this,void 0,void 0,function(){var u,p;return X(this,function(_){switch(_.label){case 0:return u=sn.of(this._iid).requestQueue,p=new xE({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:d}),[4,u.send(p)];case 1:return[2,_.sent().as(kE).metaCounter]}})})},l.prototype.increaseMetaCounters=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return d=sn.of(this._iid).requestQueue,u=new xE({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"increase"}),[4,d.send(u)];case 1:return[2,p.sent().as(kE).metaCounter]}})})},l.prototype.decreaseMetaCounters=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return d=sn.of(this._iid).requestQueue,u=new xE({channelUrl:this.url,channelType:this.channelType,metaCounter:i,upsert:!1,mode:"decrease"}),[4,d.send(u)];case 1:return[2,p.sent().as(kE).metaCounter]}})})},l.prototype.deleteMetaCounter=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return Fn(Ve("string",i)).throw(Qe.invalidParameters),d=sn.of(this._iid).requestQueue,u=new ree({channelUrl:this.url,channelType:this.channelType,key:i}),[4,d.send(u)];case 1:return p.sent(),[2]}})})},l.prototype.deleteAllMetaCounters=function(){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:return i=sn.of(this._iid).requestQueue,d=new iee({channelUrl:this.url,channelType:this.channelType}),[4,i.send(d)];case 1:return u.sent(),[2]}})})},l.prototype.muteUser=function(i,d,u){return Z(this,void 0,void 0,function(){return X(this,function(p){return[2,this.muteUserWithUserId(i.userId,d,u)]})})},l.prototype.muteUserWithUserId=function(i,d,u){return Z(this,void 0,void 0,function(){var p,_;return X(this,function(g){switch(g.label){case 0:return Fn(Ve("string",i)&&Ve("number",d,!0)&&Ve("string",u,!0)).throw(Qe.invalidParameters),p=sn.of(this._iid).requestQueue,_=new aee({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:d,description:u}),[4,p.send(_)];case 1:return g.sent(),[2]}})})},l.prototype.unmuteUser=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){return[2,this.unmuteUserWithUserId(i.userId)]})})},l.prototype.unmuteUserWithUserId=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return Fn(Ve("string",i)).throw(Qe.invalidParameters),d=sn.of(this._iid).requestQueue,u=new oee({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,d.send(u)];case 1:return p.sent(),[2]}})})},l.prototype.banUser=function(i,d,u){return Z(this,void 0,void 0,function(){return X(this,function(p){return[2,this.banUserWithUserId(i.userId,d,u)]})})},l.prototype.banUserWithUserId=function(i,d,u){return Z(this,void 0,void 0,function(){var p,_;return X(this,function(g){switch(g.label){case 0:return Fn(Ve("string",i)&&Ve("number",d,!0)&&Ve("string",u,!0)).throw(Qe.invalidParameters),p=sn.of(this._iid).requestQueue,_=new dee({channelUrl:this.url,channelType:this.channelType,userId:i,seconds:d,description:u}),[4,p.send(_)];case 1:return g.sent(),[2]}})})},l.prototype.unbanUser=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){return[2,this.unbanUserWithUserId(i.userId)]})})},l.prototype.unbanUserWithUserId=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return Fn(Ve("string",i)).throw(Qe.invalidParameters),d=sn.of(this._iid).requestQueue,u=new uee({channelUrl:this.url,channelType:this.channelType,userId:i}),[4,d.send(u)];case 1:return p.sent(),[2]}})})},l.prototype.freeze=function(){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:return i=sn.of(this._iid).requestQueue,d=new EN({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,i.send(d)];case 1:return u.sent(),this.isFrozen=!0,[2]}})})},l.prototype.unfreeze=function(){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:return i=sn.of(this._iid).requestQueue,d=new EN({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,i.send(d)];case 1:return u.sent(),this.isFrozen=!1,[2]}})})},l.prototype.getMessagesByMessageId=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=$e($e({},qm),d),Fn(Ve("number",i)&&DI(u)).throw(Qe.invalidParameters),[4,Fa.of(this._iid).getMessagesByMessageId(this.url,this.channelType,i,u)];case 1:return[2,p.sent()]}})})},l.prototype.getMessagesByTimestamp=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=$e($e({},qm),d),Fn(Ve("number",i)&&DI(u)).throw(Qe.invalidParameters),[4,Fa.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,i,u)];case 1:return[2,p.sent()]}})})},l.prototype.getMessageChangeLogsSinceTimestamp=function(i,d){return d===void 0&&(d={}),Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=$e($e({},rE),d),Fn(Ve("number",i)&&LI(u)).throw(Qe.invalidParameters),[4,Fa.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,u)];case 1:return[2,p.sent()]}})})},l.prototype.getMessageChangeLogsSinceToken=function(i,d){return d===void 0&&(d={}),Z(this,void 0,void 0,function(){var u;return X(this,function(p){switch(p.label){case 0:return u=$e($e({},rE),d),Fn(Ve("string",i)&&LI(u)).throw(Qe.invalidParameters),[4,Fa.of(this._iid).getMessageChangelogs(this.url,this.channelType,i,u)];case 1:return[2,p.sent()]}})})},l.prototype._createPendingSendableMessagePayload=function(i,d,u){var p=sn.of(this._iid).sessionManager;return Tt({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:i.parentMessageId,data:i.data,custom_type:i.customType,mention_type:i.mentionType,sorted_metaarray:i.metaArrays?i.metaArrays.map(function(_){return ys.payloadify(_)}):null,apple_critical_alert_options:i.appleCriticalAlertOptions?Rd.payloadify(i.appleCriticalAlertOptions):null,created_at:u,user:Sp.payloadify(p.currentUser),req_id:d,request_state:$r.PENDING,mentioned_user_ids:i.mentionedUserIds,mentioned_users:i.mentionedUsers})},l.prototype._createPendingUserMessage=function(i,d,u){var p,_,g={};if(i.translationTargetLanguages)try{for(var b=wt(i.translationTargetLanguages),E=b.next();!E.done;E=b.next())g[E.value]=""}catch(Y){p={error:Y}}finally{try{E&&!E.done&&(_=b.return)&&_.call(b)}finally{if(p)throw p.error}}var I=Tt($e($e({},this._createPendingSendableMessagePayload(i,d,u)),{type:Qr.USER,message:i.message,translations:g})),U=new Ea(this._iid,I);return U.messageParams=i,U},l.prototype._createPendingScheduledUserMessage=function(i,d,u){var p=this._createPendingUserMessage(i,d,u);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},p},l.prototype._createPendingFileMessage=function(i,d,u){var p=Tt($e($e({},this._createPendingSendableMessagePayload(i,d,u)),{type:Qr.FILE,url:i.fileUrl,file:{name:i.fileName,size:i.fileSize,type:i.mimeType,data:i.data},thumbnails:i.thumbnailSizes?i.thumbnailSizes.map(function(g){return{url:"",width:g.maxWidth,height:g.maxHeight}}):[]})),_=new _i(this._iid,p);return _.messageParams=i,_},l.prototype._createPendingScheduledFileMessage=function(i,d,u){var p=this._createPendingFileMessage(i,d,u);return p.scheduledInfo={scheduledMessageId:0,scheduledAt:i.scheduledAt,scheduledMessageParams:i},p},l.prototype._markMessageAsFailed=function(i,d,u){u===void 0&&(u=!1),i.errorCode=d.code,d.code===Mt.REQUEST_CANCELED?i.sendingStatus=$r.CANCELED:u||(i.sendingStatus=$r.FAILED)},l.prototype.sendUserMessage=function(i){var d=$e($e({},WI),i);return Fn(function(u){return jI(u)&&Ve("string",u.message)&&Yt("string",u.translationTargetLanguages,!0)&&Ve("number",u.pollId,!0)}(d)).throw(Qe.invalidParameters),this._sendUserMessage(d)},l.prototype._sendUserMessage=function(i,d){var u=this;d===void 0&&(d=null);var p=sn.of(this._iid),_=p.dispatcher,g=p.requestQueue,b=d,E=Date.now(),I=new sE;if(!b){b=this._generateRequestId();var U=sn.of(this._iid).dispatcher;jo(2).then(function(){var K=u._createPendingUserMessage(i,b,E);U.dispatch(new es({messages:[K],source:mi.EVENT_MESSAGE_SENT_PENDING})),Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(ce){return[2,I._trigger(null,K)]})})})})}var Y=new vee($e($e({},i),{channelUrl:this.url,channelType:this.channelType,reqId:b}));return g.send(Y).then(function(K){var ce=K.as(wN).message;_.dispatch(new es({messages:[ce],source:mi.EVENT_MESSAGE_SENT_SUCCESS})),Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(ae){return[2,I._trigger(null,ce)]})})})}).catch(function(K){if(Lc(K))throw K;jo(2).then(function(){var ce=u._createPendingUserMessage(i,b,E),ae=sn.of(u._iid).cacheContext.localCacheEnabled&&Sm(K.code);u._markMessageAsFailed(ce,K,ae),_.dispatch(new es({messages:[ce],source:ce.sendingStatus===$r.PENDING?mi.REQUEST_RESEND_MESSAGE:mi.EVENT_MESSAGE_SENT_FAILED})),Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(pe){return[2,I._trigger(K,ce)]})})})})}),I},l.prototype._autoResendUserMessage=function(i){return Fn(i instanceof Ea).throw(Qe.invalidParameters),this._sendUserMessage(i.messageParams,i.reqId)},l.prototype.resendUserMessage=function(i){var d;return Z(this,void 0,void 0,function(){var u,p;return X(this,function(_){return Fn(i instanceof Ea&&!i.scheduledInfo).throw(Qe.invalidParameters),u=new Pa,p=(d=i.messageParams)!==null&&d!==void 0?d:function(g){var b;return Tt({data:g.data,customType:g.customType,mentionType:g.mentionType,mentionedUsers:g.mentionedUsers,mentionedUserIds:g.mentionedUserIds,mentionedMessageTemplate:g.mentionedMessageTemplate,metaArrays:g.metaArrays,pollId:(b=g.poll)===null||b===void 0?void 0:b.id,parentMessageId:g.parentMessageId,appleCriticalAlertOptions:g.appleCriticalAlertOptions,message:g.message,translationTargetLanguages:Object.keys(g.translations)})}(i),this._sendUserMessage(p,i.reqId).onFailed(function(g){return u.reject(g)}).onSucceeded(function(g){return u.resolve(g)}),[2,u.promise]})})},l.prototype.updateUserMessage=function(i,d){return Z(this,void 0,void 0,function(){var u,p,_;return X(this,function(g){switch(g.label){case 0:return u=$e($e({},AJ),d),Fn(Ve("number",i)&&function(b){return mN(b)&&Ve("string",b.message,!0)&&Yt("string",b.translationTargetLanguages,!0)&&Ve("number",b.pollId,!0)}(u)).throw(Qe.invalidParameters),p=sn.of(this._iid).requestQueue,_=new xN($e({channelType:this.channelType,channelUrl:this.url,messageId:i},u)),[4,p.send(_)];case 1:return[2,g.sent().as(SE).message]}})})},l.prototype.copyUserMessage=function(i,d){var u,p,_;return Z(this,void 0,void 0,function(){var g,b;return X(this,function(E){return Fn(i instanceof l&&d instanceof Ea&&d.sendingStatus===$r.SUCCEEDED&&this.url===d.channelUrl&&!d.scheduledInfo).throw(Qe.invalidParameters),Fn(!d.poll).throw(Qe.notSupportedError),g=new Pa,b=(u=d.messageParams)!==null&&u!==void 0?u:$e($e({},d),{mentionType:d.mentionType,mentionedUserIds:(p=d.mentionedUserIds)!==null&&p!==void 0?p:(_=d.mentionedUsers)===null||_===void 0?void 0:_.map(function(I){return I.userId}),translationTargetLanguages:Object.keys(d.translations),pushNotificationDeliveryOption:Ad.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}),i._sendUserMessage(b).onSucceeded(function(I){g.resolve(I)}).onFailed(function(I){return g.reject(I)}),[2,g.promise]})})},l.prototype.translateUserMessage=function(i,d){return Z(this,void 0,void 0,function(){var u,p;return X(this,function(_){switch(_.label){case 0:return Fn(i instanceof Ea&&i.messageId>0&&Yt("string",d)).throw(Qe.invalidParameters),u=sn.of(this._iid).requestQueue,p=new kee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,translationTargetLanguages:d}),[4,u.send(p)];case 1:return[2,_.sent().as(See).message]}})})},l.prototype._createScheduledUserMessage=function(i,d){var u=this,p=sn.of(this._iid).requestQueue,_=Date.now(),g=this._generateRequestId();jo(2).then(function(){var E=u._createPendingScheduledUserMessage(i,g,_);Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(I){return[2,d._trigger(null,E)]})})})});var b=new Tee($e({reqId:g,channelType:this.channelType,channelUrl:this.url},i));p.send(b).then(function(E){var I=E.as(Cee).message;Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(U){return[2,d._trigger(null,I)]})})})}).catch(function(E){if(Lc(E))throw E;jo(2).then(function(){var I=u._createPendingScheduledUserMessage(i,g,_);u._markMessageAsFailed(I,E),Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(U){return[2,d._trigger(E,I)]})})})})})},l.prototype.sendFileMessage=function(i){var d=$e($e({},XI),i);return Fn(ZI(d)).throw(Qe.invalidParameters),this._sendFileMessage(d)},l.prototype._sendFileMessage=function(i,d){var u=this;d===void 0&&(d=null);var p=sn.of(this._iid).dispatcher,_=Fa.of(this._iid).fileMessageQueue,g=d,b=Date.now(),E=new sE;return g||(g=this._generateRequestId(),jo(2).then(function(){var I=u._createPendingFileMessage(i,g,b);p.dispatch(new es({messages:[I],source:mi.EVENT_MESSAGE_SENT_PENDING})),Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(U){return[2,E._trigger(null,I)]})})})})),_.request(this,g,i).then(function(I){p.dispatch(new es({messages:[I],source:mi.EVENT_MESSAGE_SENT_SUCCESS})),Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(U){return[2,E._trigger(null,I)]})})})}).catch(function(I){if(Lc(I))throw I;jo(2).then(function(){var U=u._createPendingFileMessage(i,g,b),Y=sn.of(u._iid).cacheContext.localCacheEnabled&&Sm(I.code);u._markMessageAsFailed(U,I,Y),p.dispatch(new es({messages:[U],source:U.sendingStatus===$r.PENDING?mi.REQUEST_RESEND_MESSAGE:mi.EVENT_MESSAGE_SENT_FAILED})),Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(K){return[2,E._trigger(I,U)]})})})})}),E},l.prototype._autoResendFileMessage=function(i){Fn(i instanceof _i).throw(Qe.invalidParameters);var d=sn.of(this._iid).logger;return d.debug("autoResendFileMessage pending",i),this._sendFileMessage(i.messageParams,i.reqId).onFailed(function(u){d.debug("autoResendFileMessage failed",u)}).onSucceeded(function(u){d.debug("autoResendFileMessage success",u)})},l.prototype._createScheduledFileMessage=function(i,d,u,p){var _=this,g=sn.of(this._iid).requestQueue,b=new Iee($e($e({reqId:u,channelType:this.channelType,channelUrl:this.url},i),{fileUrl:i.fileUrl,requireAuth:i.requireAuth}));g.send(b).then(function(E){var I=E.as(Nee).message;Bt(function(){return Z(_,void 0,void 0,function(){return X(this,function(U){return[2,d._trigger(null,I)]})})})}).catch(function(E){if(Lc(E))throw E;jo(2).then(function(){var I=_._createPendingScheduledFileMessage(i,u,p);_._markMessageAsFailed(I,E),Bt(function(){return Z(_,void 0,void 0,function(){return X(this,function(U){return[2,d._trigger(E,I)]})})})})})},l.prototype.sendFileMessages=function(i){var d,u;Fn(i.every(function(E){return ZI($e($e({},XI),E))})).throw(Qe.invalidParameters);var p=new sE;try{for(var _=wt(i),g=_.next();!g.done;g=_.next()){var b=g.value;this.sendFileMessage(b).onPending(function(E){return p._trigger(null,E)}).onFailed(function(E,I){return p._trigger(E,I)}).onSucceeded(function(E){return p._trigger(null,E)})}}catch(E){d={error:E}}finally{try{g&&!g.done&&(u=_.return)&&u.call(_)}finally{if(d)throw d.error}}return p},l.prototype.resendFileMessage=function(i,d){var u;return Z(this,void 0,void 0,function(){var p,_,g;return X(this,function(b){return p=Boolean(i.url)||_s(d)||_s((u=i.messageParams)===null||u===void 0?void 0:u.file),Fn(i instanceof _i&&p&&!i.scheduledInfo).throw(Qe.invalidParameters),_=new Pa,g=function(E,I){var U;return I===void 0&&(I=null),E.messageParams?(!E.url&&_s(I)&&(E.messageParams.file=I),E.messageParams):Tt({data:E.data,customType:E.customType,mentionType:E.mentionType,mentionedUsers:E.mentionedUsers,mentionedUserIds:E.mentionedUserIds,metaArrays:E.metaArrays,parentMessageId:E.parentMessageId,appleCriticalAlertOptions:E.appleCriticalAlertOptions,file:I!=null?I:(U=E.messageParams)===null||U===void 0?void 0:U.file,fileUrl:E.url,fileName:E.name,fileSize:E.size,mimeType:E.type,thumbnailSizes:E.thumbnails.map(function(Y){return{maxWidth:Y.width,maxHeight:Y.height}})})}(i,d),this._sendFileMessage(g,i.reqId).onFailed(function(E){return _.reject(E)}).onSucceeded(function(E){return _.resolve(E)}),[2,_.promise]})})},l.prototype.updateFileMessage=function(i,d){return Z(this,void 0,void 0,function(){var u,p,_;return X(this,function(g){switch(g.label){case 0:return u=$e($e({},OJ),d),Fn(Ve("number",i)&&function(b){return mN(b)}(u)).throw(Qe.invalidParameters),p=sn.of(this._iid).requestQueue,_=new kN($e({channelType:this.channelType,channelUrl:this.url,messageId:i},u)),[4,p.send(_)];case 1:return[2,g.sent().as(TE).message]}})})},l.prototype.cancelUploadingFileMessage=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){return Fn(Ve("string",i)).throw(Qe.invalidParameters),Fa.of(this._iid).fileMessageQueue.cancel(this,i),[2,!0]})})},l.prototype.copyFileMessage=function(i,d){var u,p;return Z(this,void 0,void 0,function(){var _,g;return X(this,function(b){return Fn(i instanceof l&&d instanceof _i&&d.sendingStatus===$r.SUCCEEDED&&this.url===d.channelUrl&&!d.scheduledInfo).throw(Qe.invalidParameters),_=new Pa,g=$e($e({},d),{fileUrl:d.url,fileName:d.name,fileSize:d.size,mimeType:d.type,mentionType:d.mentionType,mentionedUserIds:(u=d.mentionedUserIds)!==null&&u!==void 0?u:(p=d.mentionedUsers)===null||p===void 0?void 0:p.map(function(E){return E.userId}),pushNotificationDeliveryOption:Ad.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:d.thumbnails.map(function(E){return{maxWidth:E.width,maxHeight:E.height}}),requireAuth:d.requireAuth,isPinnedMessage:!1}),i._sendFileMessage(g).onSucceeded(function(E){return _.resolve(E)}).onFailed(function(E){return _.reject(E)}),[2,_.promise]})})},l.prototype.deleteMessage=function(i){return Z(this,void 0,void 0,function(){var d,u;return X(this,function(p){switch(p.label){case 0:return Fn(i instanceof Nl).throw(Qe.invalidParameters),i.messageId>0?(d=sn.of(this._iid).requestQueue,u=new gee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId}),[4,d.send(u)]):[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},l.prototype.addReaction=function(i,d){return Z(this,void 0,void 0,function(){var u,p;return X(this,function(_){switch(_.label){case 0:return Fn(i instanceof Nl&&i.messageId>0&&Ve("string",d)).throw(Qe.invalidParameters),u=sn.of(this._iid).requestQueue,p=new yee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:d}),[4,u.send(p)];case 1:return[2,_.sent().as(Eee).reactionEvent]}})})},l.prototype.deleteReaction=function(i,d){return Z(this,void 0,void 0,function(){var u,p;return X(this,function(_){switch(_.label){case 0:return Fn(i instanceof Nl&&i.messageId>0&&Ve("string",d)).throw(Qe.invalidParameters),u=sn.of(this._iid).requestQueue,p=new wee({channelType:this.channelType,channelUrl:this.url,messageId:i.messageId,reactionKey:d}),[4,u.send(p)];case 1:return[2,_.sent().as(xee).reactionEvent]}})})},l.prototype._updateUserMessageMetaArray=function(i,d,u,p){return Z(this,void 0,void 0,function(){var _,g,b,E,I,U;return X(this,function(Y){switch(Y.label){case 0:return _=sn.of(this._iid),g=_.dispatcher,b=_.requestQueue,E=new xN({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:d,mode:u,upsert:p}}),[4,b.send(E)];case 1:return I=Y.sent(),U=I.as(SE).message,g.dispatch(new es({messages:[U],source:mi.EVENT_MESSAGE_UPDATED})),[2,U]}})})},l.prototype._updateFileMessageMetaArray=function(i,d,u,p){return Z(this,void 0,void 0,function(){var _,g,b,E,I,U;return X(this,function(Y){switch(Y.label){case 0:return _=sn.of(this._iid),g=_.dispatcher,b=_.requestQueue,E=new kN({channelType:this.channelType,channelUrl:this.url,messageId:i,metaArrayParams:{array:d,mode:u,upsert:p}}),[4,b.send(E)];case 1:return I=Y.sent(),U=I.as(TE).message,g.dispatch(new es({messages:[U],source:mi.EVENT_MESSAGE_UPDATED})),[2,U]}})})},l.prototype.createMessageMetaArrayKeys=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){return Fn(i instanceof Nl&&i.messageId>0&&Yt("string",d)).throw(Qe.invalidParameters),u=d.map(function(_){return new ys({key:_})}),i instanceof _i?[2,this._updateFileMessageMetaArray(i.messageId,u,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,u,"add",!0)]})})},l.prototype.deleteMessageMetaArrayKeys=function(i,d){return Z(this,void 0,void 0,function(){var u;return X(this,function(p){return Fn(i instanceof Nl&&i.messageId>0&&Yt("string",d)).throw(Qe.invalidParameters),u=d.map(function(_){return new ys({key:_})}),i instanceof _i?[2,this._updateFileMessageMetaArray(i.messageId,u,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,u,"remove",!0)]})})},l.prototype.addMessageMetaArrayValues=function(i,d){return Z(this,void 0,void 0,function(){return X(this,function(u){return Fn(i instanceof Nl&&i.messageId>0&&d.every(function(p){return p instanceof ys})).throw(Qe.invalidParameters),i instanceof _i?[2,this._updateFileMessageMetaArray(i.messageId,d,"add",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,d,"add",!0)]})})},l.prototype.removeMessageMetaArrayValues=function(i,d){return Z(this,void 0,void 0,function(){return X(this,function(u){return Fn(i instanceof Nl&&i.messageId>0&&d.every(function(p){return p instanceof ys})).throw(Qe.invalidParameters),i instanceof _i?[2,this._updateFileMessageMetaArray(i.messageId,d,"remove",!0)]:[2,this._updateUserMessageMetaArray(i.messageId,d,"remove",!0)]})})},l.prototype.report=function(i,d){return Z(this,void 0,void 0,function(){var u,p,_,g;return X(this,function(b){switch(b.label){case 0:return Fn(Sr(Np,i)&&Ve("string",d)).throw(Qe.invalidParameters),u=sn.of(this._iid),p=u.sdkState,_=u.requestQueue,g=new fee({channelUrl:this.url,channelType:this.channelType,userId:p.userId,category:i,description:d}),[4,_.send(g)];case 1:return b.sent(),[2]}})})},l.prototype.reportUser=function(i,d,u){return Z(this,void 0,void 0,function(){var p,_,g,b;return X(this,function(E){switch(E.label){case 0:return Fn(i instanceof Lt&&Sr(Np,d)&&Ve("string",u)).throw(Qe.invalidParameters),p=sn.of(this._iid),_=p.sdkState,g=p.requestQueue,b=new _ee({channelUrl:this.url,channelType:this.channelType,userId:_.userId,offendingUserId:i.userId,category:d,description:u}),[4,g.send(b)];case 1:return E.sent(),[2]}})})},l.prototype.reportMessage=function(i,d,u){return Z(this,void 0,void 0,function(){var p,_,g,b;return X(this,function(E){switch(E.label){case 0:return Fn(i instanceof Tp&&Sr(Np,d)&&Ve("string",u)).throw(Qe.invalidParameters),p=sn.of(this._iid),_=p.sdkState,g=p.requestQueue,b=new mee({channelUrl:this.url,channelType:this.channelType,userId:_.userId,offendingUserId:i.sender.userId,messageId:i.messageId,category:d,description:u}),[4,g.send(b)];case 1:return E.sent(),[2]}})})},l.prototype.updatePoll=function(i,d){return Z(this,void 0,void 0,function(){var u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Ve("number",i)&&function(g){return Ve("string",g.title,!0)&&OI(g.data)&&Ve("boolean",g.allowUserSuggestion,!0)&&Ve("boolean",g.allowMultipleVotes,!0)&&Ve("number",g.closeAt,!0)}(d)).throw(Qe.invalidParameters),u=sn.of(this._iid).requestQueue,p=new Aee($e({pollId:i},d)),[4,u.send(p)];case 1:return[2,_.sent().as(Oee).poll]}})})},l.prototype.deletePoll=function(i){return Z(this,void 0,void 0,function(){var d,u,p;return X(this,function(_){switch(_.label){case 0:return d=Ve("number",i),Fn(d).throw(Qe.invalidParameters),u=sn.of(this._iid).requestQueue,p=new Ree({pollId:i}),[4,u.send(p)];case 1:return _.sent(),[2]}})})},l.prototype.closePoll=function(i){return Z(this,void 0,void 0,function(){var d,u,p;return X(this,function(_){switch(_.label){case 0:return d=Ve("number",i),Fn(d).throw(Qe.invalidParameters),u=sn.of(this._iid).requestQueue,p=new Mee({pollId:i}),[4,u.send(p)];case 1:return[2,_.sent().as(Dee).poll]}})})},l.prototype.addPollOption=function(i,d){return Z(this,void 0,void 0,function(){var u,p,_;return X(this,function(g){switch(g.label){case 0:return u=Ve("number",i)&&Ve("string",d)&&d.trim()!=="",Fn(u).throw(Qe.invalidParameters),p=sn.of(this._iid).requestQueue,_=new Lee({channelUrl:this.url,channelType:this.channelType,pollId:i,optionText:d}),[4,p.send(_)];case 1:return[2,g.sent().as(Uee).poll]}})})},l.prototype.updatePollOption=function(i,d,u){return Z(this,void 0,void 0,function(){var p,_,g;return X(this,function(b){switch(b.label){case 0:return p=Ve("number",i)&&Ve("number",d)&&Ve("string",u)&&u.trim()!=="",Fn(p).throw(Qe.invalidParameters),_=sn.of(this._iid).requestQueue,g=new Pee({pollId:i,pollOptionId:d,optionText:u}),[4,_.send(g)];case 1:return[2,b.sent().as(Fee).poll]}})})},l.prototype.deletePollOption=function(i,d){return Z(this,void 0,void 0,function(){var u,p,_;return X(this,function(g){switch(g.label){case 0:return u=Ve("number",i)&&Ve("number",d),Fn(u).throw(Qe.invalidParameters),p=sn.of(this._iid).requestQueue,_=new Hee({pollId:i,pollOptionId:d}),[4,p.send(_)];case 1:return g.sent(),[2]}})})},l.prototype.votePoll=function(i,d){return Z(this,void 0,void 0,function(){var u,p,_,g,b,E,I;return X(this,function(U){switch(U.label){case 0:return u=Ve("number",i)&&Yt("number",d),Fn(u).throw(Qe.invalidParameters),p=sn.of(this._iid),_=p.requestQueue,g=p.dispatcher,b=new Bee({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionIds:d}),[4,_.send(b)];case 1:return E=U.sent(),I=E.as(SN).event,g.dispatch(new UI({event:I,source:mi.EVENT_POLL_VOTED})),[2,I]}})})},l.prototype.getPollChangeLogsSinceTimestamp=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){switch(d.label){case 0:return Fn(Ve("number",i)).throw(Qe.invalidParameters),[4,dE.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,d.sent()]}})})},l.prototype.getPollChangeLogsSinceToken=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){switch(d.label){case 0:return Fn(Ve("string",i,!0)),[4,dE.of(this._iid).getPollChangeLogs(this.url,this.channelType,i)];case 1:return[2,d.sent()]}})})},l.prototype.createPollListQuery=function(i){return i===void 0&&(i=10),new GI(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:i})},l.prototype.createPollVoterListQuery=function(i,d,u){return u===void 0&&(u=20),new qI(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:i,pollOptionId:d,limit:u})},l}(Ko),$ee=function(s){function l(i,d){var u,p=this;return(p=s.call(this,i,d)||this).isMuted=!1,p.isMuted=(u=d.is_muted)!==null&&u!==void 0&&u,p}return fe(l,s),l}(Lt),Ap=null,zee=function(){function s(l,i,d){var u=this;this._fcmPushToken=null,this._apnsPushToken=null,this._iid=l,this.options=i;var p=sn.of(l),_=p.sdkState,g=p.cacheContext,b=p.dispatcher,E=p.sessionManager,I=p.requestQueue,U=p.logger,Y=p.userEventHandlers,K=p.appStateToggleEnabled;this._onlineDetector=new pZ({logger:U,connectionDelegate:{reconnect:function(){var ae=sn.of(l),pe=ae.sdkState,Ne=ae.connectionManager,Ee=ae.sessionManager;Ee.auth.hasSession?pe.appState==="foreground"&&Ne.resetAndReconnect():Ne.connect(Ee.auth.authToken)},disconnect:function(){sn.of(l).connectionManager.disconnect()}}});var ce=new _Z(l,{localCacheEnabled:g.localCacheEnabled,dispatcher:b,sdkState:_,logger:U});d.forEach(function(ae){ae.init(l,{sdkState:_,cacheContext:g,dispatcher:b,sessionManager:E,requestQueue:I,logger:U,onlineDetector:u._onlineDetector}),u[ae.name]=ae}),this._appStateChangeDetector=new hZ(K),this._appStateChangeDetector.on("resume",function(){U.debug("the page resumes from freeze"),u.setForegroundState()}).on("pause",function(){U.debug("the page freezes"),u.setBackgroundState()}),b.on(function(ae){if(ae instanceof $c)ae.stateType===cr.CONNECTED&&ce.processNonAutoResendRegisteredPendingMessages();else if(ae instanceof Vr){if(ae.code==="USEV"){var pe=ae.as(vZ).event;if(pe.category===pE.FRIEND_DISCOVERED){var Ne=rN.getDataAsFriendDiscoveredEvent(l,pe).friendDiscoveries;Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(be){return[2,Y.forEach(function(rn){rn.onFriendsDiscovered(Ne)})]})})})}}}else if(ae instanceof gI){var Ee=sn.of(u._iid).subscribedUnreadMessageCount,ze=!1,dn=ae.ts;if(typeof dn=="number"&&dn>Ee.ts){if(Ee.all!==ae.all&&(ze=!0),Ee.all=ae.all>=0?ae.all:0,ae.customTypes)for(var Ce in ae.customTypes)Ee.customTypes[Ce]!==ae.customTypes[Ce]&&(ze=!0),Ee.customTypes[Ce]=ae.customTypes[Ce];ze=ze&&Ee.ts>0,Ee.ts=dn}ze&&Bt(function(){return Z(u,void 0,void 0,function(){return X(this,function(be){return[2,Y.forEach(function(rn){rn.onTotalUnreadMessageCountUpdated(Ee.all,Ee.customTypes)})]})})})}else ae instanceof SI&&g.localCacheEnabled&&g.preference.set(u._getUserProfileCacheKey(_.userId),W2.payloadify(ae.userProfile))})}return s.init=function(l){var i=l.appId,d=l.appVersion,u=d===void 0?null:d,p=l.modules,_=p===void 0?[]:p,g=l.options,b=g===void 0?new IC:g,E=l.debugMode,I=E!==void 0&&E,U=l.customApiHost,Y=l.customWebSocketHost,K=l.newInstance,ce=K!==void 0&&K,ae=l.logLevel,pe=l.localCacheEnabled,Ne=pe!==void 0&&pe,Ee=l.localCacheEncryption,ze=l.useAsyncStorageStore,dn=ze===void 0?null:ze,Ce=l.appStateToggleEnabled,be=Ce===void 0||Ce;if(!Ap||ce){var rn="su-".concat(gh()),Je=Ee!=null?Ee:{encrypt:function(Cn){return Cn},decrypt:function(Cn){return Cn}},Ye=new ev({encryption:Je});I||(Ye=dn?new IJ({AsyncStorage:dn,encryption:Je}):new CJ({encryption:Je})),new sn(rn,{appId:i,appVersion:u,options:b,apiHost:U!=null?U:"https://api-".concat(i,".sendbird.com"),websocketHost:Y!=null?Y:"wss://ws-".concat(i,".sendbird.com"),store:Ye,encryption:Je,logLevel:ae,localCacheEnabled:Ne,debugMode:I,appStateToggleEnabled:be});var kn=[new BX,new iZ],ar=new s(rn,b,Br(Br([],kr(_),!1),kr(kn),!1));return Ap||(Ap=ar),ar}return Ap},Object.defineProperty(s,"instance",{get:function(){return Ap},enumerable:!1,configurable:!0}),Object.defineProperty(s,"version",{get:function(){return"4.5.0"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appId",{get:function(){return sn.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appInfo",{get:function(){return sn.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"appVersion",{get:function(){var l;return(l=sn.of(this._iid).sdkState.appVersion)!==null&&l!==void 0?l:""},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"debugMode",{get:function(){return sn.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"logLevel",{get:function(){return sn.of(this._iid).logger.level},set:function(l){sn.of(this._iid).logger.level=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isCacheEnabled",{get:function(){return sn.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ekey",{get:function(){return sn.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentUser",{get:function(){var l;return(l=sn.of(this._iid).sessionManager.currentUser)!==null&&l!==void 0?l:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connectionState",{get:function(){var l=sn.of(this._iid).connectionManager;return l.isConnected?qo.OPEN:l.isConnecting?qo.CONNECTING:qo.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"lastConnectedAt",{get:function(){var l=sn.of(this._iid),i=l.connectedAt;return l.connectionManager.isConnected?i:0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),s.prototype._getPreferenceCacheKey=function(l){return"sendbird@".concat(this.appId,"/").concat(l,".pref")},s.prototype._getUserProfileCacheKey=function(l){return"sendbird@".concat(this.appId,"/").concat(l,".profile")},s.prototype.getMemoryStoreForDebugging=function(){var l=sn.of(this._iid),i=l.debugMode,d=l.cacheContext;if(i)return d.store instanceof ev?d.store:null;throw Qe.debugModeRequired},s.prototype.addExtension=function(l,i){var d=sn.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(l)>-1&&(d.extensions[l]=i)},s.prototype.setOnlineListener=function(l){this._onlineDetector.setOnlineListener(l)},s.prototype.setOfflineListener=function(l){this._onlineDetector.setOfflineListener(l)},s.prototype.initializeCache=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E;return X(this,function(I){switch(I.label){case 0:return i=sn.of(this._iid),d=i.sdkState,u=i.cacheContext,p=i.connectionManager,_=i.dispatcher,d.userId&&d.userId===l?[3,9]:[4,p.logout()];case 1:return I.sent(),d.userId=l,g="sendbird@".concat(d.appId,"/").concat(l,".db"),u.localCacheEnabled?u.nestdb&&u.nestdb.state!==Ml.CLOSED&&u.nestdb.name===g?[3,3]:((b=u.nestdb=new NJ({name:"sendbird@".concat(d.appId,"/").concat(l,".db"),version:2,store:u.store})).on("upgrade",function(U,Y){return function(K,ce){K===1?U.clear().then(function(){Y.clear().then(function(){(function(ae){return Z(void 0,void 0,void 0,function(){return X(this,function(pe){return[2,ae.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[cE(Ld.LATEST_LAST_MESSAGE),cE(Ld.CHRONOLOGICAL),cE(Ld.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:"Message",keyName:"messageId",index:[Al(Bi.CHANNEL_LATEST),Al(Bi.NEWEST_CHILD_MESSAGE)]},{collectionName:"UnsentMessage",keyName:"reqId",index:[Al(Bi.CHANNEL_LATEST),Al(Bi.NEWEST_CHILD_MESSAGE)]},{collectionName:"Poll",keyName:"pollId"}])]})})})(U).then(function(){return ce()}).catch(function(ae){return ce(ae)})}).catch(function(ae){return ce(ae)})}).catch(function(ae){return ce(ae)}):ce()}}(b,u.store)),[4,b.open()]):[3,4];case 2:I.sent(),_.dispatch(new mZ(this._iid,{userId:l})),I.label=3;case 3:return[3,6];case 4:return[4,u.store.init(g)];case 5:I.sent(),I.label=6;case 6:return[4,u.preference.init(this._getPreferenceCacheKey(l))];case 7:return I.sent(),[4,u.preference.get(this._getUserProfileCacheKey(l))];case 8:(E=I.sent())&&new W2(this._iid,E).apply(),I.label=9;case 9:return[2]}})})},s.prototype.clearCachedData=function(){return Z(this,void 0,void 0,function(){var l;return X(this,function(i){switch(i.label){case 0:return(l=sn.of(this._iid).cacheContext).localCacheEnabled&&l.nestdb?[4,l.nestdb.clear()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,l.preference.clear()];case 3:return i.sent(),[2]}})})},s.prototype.clearCachedMessages=function(l){return Z(this,void 0,void 0,function(){var i,d,u=this;return X(this,function(p){switch(p.label){case 0:return Fn(Yt("string",l)).throw(Qe.invalidParameters),i=uZ.of(this._iid),d=nN.of(this._iid),i&&d?[4,Promise.all(l.map(function(_){return Z(u,void 0,void 0,function(){return X(this,function(g){switch(g.label){case 0:return[4,i.removeMessagesOfChannel(_)];case 1:return g.sent(),[4,d.removeMessagesOfChannel(_)];case 2:return g.sent(),[2]}})})}))]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})},s.prototype.connect=function(l,i){return i===void 0&&(i=null),Z(this,void 0,void 0,function(){var d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:Fn(Ve("string",l)&&Ve("string",i,!0)).throw(Qe.invalidParameters),d=sn.of(this._iid),u=d.sdkState,p=d.cacheContext,_=d.connectionManager,g=d.statLogCollector,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this.initializeCache(l)];case 2:return E.sent(),[3,4];case 3:return E.sent(),b=sn.of(this._iid).logger,p.localCacheEnabled=!1,b.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,g.init("sendbird@".concat(u.appId,"/").concat(l,".statlog"))];case 5:return E.sent(),this._onlineDetector.start(),this._appStateChangeDetector.start(),[4,_.connect(i)];case 6:return E.sent(),[2,this.currentUser]}})})},s.prototype.reconnect=function(){var l=sn.of(this._iid),i=l.connectionManager,d=l.sdkState,u=l.sessionManager.auth.hasSession;return u&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),i.resetAndReconnect().then(function(){d.appState="foreground"}).catch(function(){})),u},s.prototype.disconnect=function(){return Z(this,void 0,void 0,function(){var l,i,d;return X(this,function(u){switch(u.label){case 0:return l=sn.of(this._iid),i=l.connectionManager,d=l.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),d.cancelAll(),[4,i.logout()];case 1:return u.sent(),[4,this.clearCachedData()];case 2:return u.sent(),[2]}})})},s.prototype.disconnectWebSocket=function(){return Z(this,void 0,void 0,function(){var l,i,d;return X(this,function(u){switch(u.label){case 0:return l=sn.of(this._iid),i=l.connectionManager,d=l.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),d.cancelAll(),[4,i.disconnectWebSocket()];case 1:return u.sent(),[2]}})})},s.prototype.setBackgroundState=function(){var l=sn.of(this._iid),i=l.connectionManager,d=l.sdkState,u=l.logger;d.appState==="foreground"&&(d.appState="background",u.debug("going background state"),i.background())},s.prototype.setForegroundState=function(){var l=sn.of(this._iid),i=l.connectionManager,d=l.sdkState,u=l.logger;d.appState==="background"&&(d.appState="foreground",u.debug("going foreground state"),i.resetAndReconnect())},s.prototype.setSessionHandler=function(l){Fn(l instanceof sZ).throw(Qe.invalidParameters),sn.of(this._iid).sessionManager.handler=l},s.prototype.addUserEventHandler=function(l,i){Fn(Ve("string",l)&&i instanceof lZ).throw(Qe.invalidParameters),sn.of(this._iid).userEventHandlers.set(l,i)},s.prototype.removeUserEventHandler=function(l){sn.of(this._iid).userEventHandlers.delete(l)},s.prototype.removeAllUserEventHandler=function(){sn.of(this._iid).userEventHandlers.clear()},s.prototype.addConnectionHandler=function(l,i){Fn(Ve("string",l)&&i instanceof oZ).throw(Qe.invalidParameters),sn.of(this._iid).connectionHandlers.set(l,i)},s.prototype.removeConnectionHandler=function(l){sn.of(this._iid).connectionHandlers.delete(l)},s.prototype.removeAllConnectionHandler=function(){sn.of(this._iid).connectionHandlers.clear()},s.prototype.createApplicationUserListQuery=function(l){return l===void 0&&(l={}),new fJ(this._iid,l)},s.prototype.createBlockedUserListQuery=function(l){return l===void 0&&(l={}),new vJ(this._iid,l)},s.prototype.createFriendListQuery=function(l){return l===void 0&&(l={}),new yJ(this._iid,l)},s.prototype.createMessageSearchQuery=function(l){return new PX(this._iid,l)},s.prototype.createPollListQuery=function(l){return new GI(this._iid,$e({},l))},s.prototype.createPollVoterListQuery=function(l){return new qI(this._iid,$e({},l))},s.prototype.buildUserFromSerializedData=function(l){var i=xp(l);return new Lt(this._iid,Lt.payloadify(i))},s.prototype.updateCurrentUserInfo=function(l){return l===void 0&&(l={}),Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b;return X(this,function(E){switch(E.label){case 0:return i=$e($e({},aZ),l),Fn(function(I){return _s(I.profileImage,!0)&&Ve("string",I.profileUrl,!0)&&Ve("string",I.nickname,!0)}(i)).throw(Qe.invalidParameters),this.currentUser?(d=sn.of(this._iid),u=d.sdkState,p=d.requestQueue,_=new iN($e({userId:u.userId},i)),[4,p.send(_)]):[3,2];case 1:return g=E.sent(),b=g.as(aN).user,this.currentUser&&(i.nickname&&(this.currentUser.nickname=b.nickname),(i.profileUrl||i.profileImage)&&(this.currentUser.plainProfileUrl=b.profileUrl)),[2,b];case 2:throw Qe.connectionRequired}})})},s.prototype.updateCurrentUserInfoWithPreferredLanguages=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return Fn(Yt("string",l)).throw(Qe.invalidParameters),this.currentUser?(i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new iN({userId:d.userId,preferredLanguages:l}),[4,u.send(p)]):[3,2];case 1:return _=b.sent(),g=_.as(aN).user,this.currentUser&&(this.currentUser.preferredLanguages=g.preferredLanguages),[2,g];case 2:throw Qe.connectionRequired}})})},s.prototype.registerFCMPushTokenForCurrentUser=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g=this;return X(this,function(b){switch(b.label){case 0:if(Fn(Ve("string",l)).throw(Qe.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=sn.of(this._iid),d=i.sessionManager,u=i.sdkState,p=i.requestQueue,d.hasDeviceToken(yi.FCM,l)?[2,wa.SUCCESS]:(_=new bZ({userId:u.userId,token:l}),[4,p.send(_)]);case 2:return b.sent(),[4,wh(function(){return Z(g,void 0,void 0,function(){return X(this,function(E){switch(E.label){case 0:return d.setDeviceToken(yi.FCM,l),[4,d.saveDeviceToken()];case 1:return E.sent(),[2]}})})})];case 3:return b.sent(),this._fcmPushToken="",[2,wa.SUCCESS];case 4:return b.sent(),[2,wa.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=l,[2,wa.PENDING];case 7:return[2]}})})},s.prototype.unregisterFCMPushTokenForCurrentUser=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b=this;return X(this,function(E){switch(E.label){case 0:if(Fn(Ve("string",l)).throw(Qe.invalidParameters),!this.currentUser)return[3,6];E.label=1;case 1:return E.trys.push([1,4,,5]),i=sn.of(this._iid),d=i.sessionManager,u=i.sdkState,p=i.requestQueue,_=new EZ({userId:u.userId,token:l}),[4,p.send(_)];case 2:return g=E.sent().lastDeletedAt,[4,wh(function(){return Z(b,void 0,void 0,function(){return X(this,function(I){switch(I.label){case 0:return d.unsetDeviceToken(yi.FCM,l),d.setDeviceTokenDeletedAt(g),[4,d.saveDeviceToken()];case 1:return I.sent(),[2]}})})})];case 3:return E.sent(),this._fcmPushToken="",[2,wa.SUCCESS];case 4:return E.sent(),[2,wa.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=l,[2,wa.PENDING];case 7:return[2]}})})},s.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p,_,g=this;return X(this,function(b){switch(b.label){case 0:return this.currentUser?(l=sn.of(this._iid),i=l.sessionManager,d=l.sdkState,u=l.requestQueue,p=new xZ({userId:d.userId}),[4,u.send(p)]):[3,3];case 1:return _=b.sent().lastDeletedAt,[4,wh(function(){return Z(g,void 0,void 0,function(){return X(this,function(E){switch(E.label){case 0:return i.unsetDeviceTokens(yi.FCM),i.setDeviceTokenDeletedAt(_),[4,i.saveDeviceToken()];case 1:return E.sent(),[2]}})})})];case 2:b.sent(),b.label=3;case 3:return[2]}})})},s.prototype.registerAPNSPushTokenForCurrentUser=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g=this;return X(this,function(b){switch(b.label){case 0:if(Fn(Ve("string",l)).throw(Qe.invalidParameters),!this.currentUser)return[3,6];b.label=1;case 1:return b.trys.push([1,4,,5]),i=sn.of(this._iid),d=i.sessionManager,u=i.sdkState,p=i.requestQueue,d.hasDeviceToken(yi.APNS,l)?[2,wa.SUCCESS]:(_=new gZ({userId:u.userId,token:l}),[4,p.send(_)]);case 2:return b.sent(),[4,wh(function(){return Z(g,void 0,void 0,function(){return X(this,function(E){switch(E.label){case 0:return d.setDeviceToken(yi.APNS,l),[4,d.saveDeviceToken()];case 1:return E.sent(),[2]}})})})];case 3:return b.sent(),this._apnsPushToken="",[2,wa.SUCCESS];case 4:return b.sent(),[2,wa.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=l,[2,wa.PENDING];case 7:return[2]}})})},s.prototype.unregisterAPNSPushTokenForCurrentUser=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b=this;return X(this,function(E){switch(E.label){case 0:if(Fn(Ve("string",l)).throw(Qe.invalidParameters),!this.currentUser)return[3,6];E.label=1;case 1:return E.trys.push([1,4,,5]),i=sn.of(this._iid),d=i.sessionManager,u=i.sdkState,p=i.requestQueue,_=new yZ({userId:u.userId,token:l}),[4,p.send(_)];case 2:return g=E.sent().lastDeletedAt,[4,wh(function(){return Z(b,void 0,void 0,function(){return X(this,function(I){switch(I.label){case 0:return d.unsetDeviceToken(yi.APNS,l),d.setDeviceTokenDeletedAt(g),[4,d.saveDeviceToken()];case 1:return I.sent(),[2]}})})})];case 3:return E.sent(),this._apnsPushToken="",[2,wa.SUCCESS];case 4:return E.sent(),[2,wa.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=l,[2,wa.PENDING];case 7:return[2]}})})},s.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return Z(this,void 0,void 0,function(){var l,i,d,u,p,_,g=this;return X(this,function(b){switch(b.label){case 0:return this.currentUser?(l=sn.of(this._iid),i=l.sessionManager,d=l.sdkState,u=l.requestQueue,p=new wZ({userId:d.userId}),[4,u.send(p)]):[3,3];case 1:return _=b.sent().lastDeletedAt,[4,wh(function(){return Z(g,void 0,void 0,function(){return X(this,function(E){switch(E.label){case 0:return i.unsetDeviceTokens(yi.APNS),i.setDeviceTokenDeletedAt(_),[4,i.saveDeviceToken()];case 1:return E.sent(),[2]}})})})];case 2:b.sent(),b.label=3;case 3:return[2]}})})},s.prototype.getChannelInvitationPreference=function(){return Z(this,void 0,void 0,function(){var l,i,d,u;return X(this,function(p){switch(p.label){case 0:return l=sn.of(this._iid),i=l.sdkState,d=l.requestQueue,u=new TZ({userId:i.userId}),[4,d.send(u)];case 1:return[2,{autoAccept:p.sent().as(CZ).autoAccept}]}})})},s.prototype.setChannelInvitationPreference=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Ve("boolean",l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new IZ({userId:d.userId,willAutoAccept:l}),[4,u.send(p)];case 1:return[2,{autoAccept:_.sent().as(NZ).autoAccept}]}})})},s.prototype.getDoNotDisturb=function(){return Z(this,void 0,void 0,function(){var l,i,d,u;return X(this,function(p){switch(p.label){case 0:return l=sn.of(this._iid),i=l.sdkState,d=l.requestQueue,u=new AZ({userId:i.userId}),[4,d.send(u)];case 1:return[2,p.sent().as(OZ).preference]}})})},s.prototype.setDoNotDisturb=function(l,i,d,u,p,_){return i===void 0&&(i=0),d===void 0&&(d=0),u===void 0&&(u=0),p===void 0&&(p=0),_===void 0&&(_=""),Z(this,void 0,void 0,function(){var g,b,E,I;return X(this,function(U){switch(U.label){case 0:return Fn(Ve("boolean",l)&&Ve("number",i)&&Ve("number",d)&&Ve("number",u)&&Ve("number",p)&&Ve("string",_)).throw(Qe.invalidParameters),g=sn.of(this._iid),b=g.sdkState,E=g.requestQueue,I=new RZ({userId:b.userId,doNotDisturbOn:l,startHour:i,startMin:d,endHour:u,endMin:p,timezone:_}),[4,E.send(I)];case 1:return[2,U.sent().as(MZ).preference]}})})},s.prototype.getSnoozePeriod=function(){return Z(this,void 0,void 0,function(){var l,i,d,u;return X(this,function(p){switch(p.label){case 0:return l=sn.of(this._iid),i=l.sdkState,d=l.requestQueue,u=new DZ({userId:i.userId}),[4,d.send(u)];case 1:return[2,p.sent().as(LZ).snoozePeriod]}})})},s.prototype.setSnoozePeriod=function(l,i,d){return i===void 0&&(i=0),d===void 0&&(d=0),Z(this,void 0,void 0,function(){var u,p,_,g;return X(this,function(b){switch(b.label){case 0:return Fn(Ve("boolean",l)&&Ve("number",i)&&Ve("number",d)).throw(Qe.invalidParameters),u=sn.of(this._iid),p=u.sdkState,_=u.requestQueue,g=new UZ({userId:p.userId,snoozeOn:l,startTs:i,endTs:d}),[4,_.send(g)];case 1:return[2,b.sent().as(PZ).snoozePeriod]}})})},s.prototype.getMyPushTokensByToken=function(l,i){return Z(this,void 0,void 0,function(){var d,u,p,_,g,b,E,I,U,Y,K,ce;return X(this,function(ae){switch(ae.label){case 0:return Fn(Ve("string",l)&&Sr(yi,i)).throw(Qe.invalidParameters),d=sn.of(this._iid),u=d.sdkState,p=d.requestQueue,_=d.sessionManager,g=new kZ({userId:u.userId,type:i,token:l}),[4,p.send(g)];case 1:b=ae.sent(),E=b.as(SZ).pushTokens;try{for(I=wt(E.deviceTokens),U=I.next();!U.done;U=I.next())Y=U.value,_.setDeviceToken(E.type,Y)}catch(pe){K={error:pe}}finally{try{U&&!U.done&&(ce=I.return)&&ce.call(I)}finally{if(K)throw K.error}}return[4,_.saveDeviceToken()];case 2:return ae.sent(),[2,E]}})})},s.prototype.getPushTriggerOption=function(){return Z(this,void 0,void 0,function(){var l,i,d,u;return X(this,function(p){switch(p.label){case 0:return l=sn.of(this._iid),i=l.sdkState,d=l.requestQueue,u=new BZ({userId:i.userId}),[4,d.send(u)];case 1:return[2,p.sent().as($Z).pushTriggerOption]}})})},s.prototype.setPushTriggerOption=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Sr(oE,l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new zZ({userId:d.userId,pushTriggerOption:l}),[4,u.send(p)];case 1:return[2,_.sent().as(VZ).pushTriggerOption]}})})},s.prototype.getPushTemplate=function(){return Z(this,void 0,void 0,function(){var l,i,d,u;return X(this,function(p){switch(p.label){case 0:return l=sn.of(this._iid),i=l.sdkState,d=l.requestQueue,u=new GZ({userId:i.userId}),[4,d.send(u)];case 1:return[2,p.sent().as(qZ).name]}})})},s.prototype.setPushTemplate=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Sr(lE,l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new jZ({userId:d.userId,templateName:l}),[4,u.send(p)];case 1:return[2,_.sent().as(KZ).name]}})})},s.prototype.blockUser=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(l instanceof Lt||Ve("string",l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new FZ({userId:d.userId,blockedUserId:l instanceof Lt?l.userId:l}),[4,u.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.blockUserWithUserId=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,this.blockUser(l)]})})},s.prototype.unblockUser=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(l instanceof Lt||Ve("string",l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new HZ({userId:d.userId,unblockedUserId:l instanceof Lt?l.userId:l}),[4,u.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.unblockUserWithUserId=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,this.unblockUser(l)]})})},s.prototype.getFriendChangeLogsByToken=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Ve("string",l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new WZ({userId:d.userId,token:l}),[4,u.send(p)];case 1:return[2,_.sent().as(QZ).changelogs]}})})},s.prototype.getAllowFriendDiscovery=function(){return Z(this,void 0,void 0,function(){var l,i,d,u;return X(this,function(p){switch(p.label){case 0:return l=sn.of(this._iid),i=l.sdkState,d=l.requestQueue,u=new tJ({userId:i.userId}),[4,d.send(u)];case 1:return[2,p.sent().as(rJ).allowFriendDiscovery]}})})},s.prototype.setAllowFriendDiscovery=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Ve("boolean",l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new iJ({userId:d.userId,allowFriendDiscovery:l}),[4,u.send(p)];case 1:return _.sent(),[2,l]}})})},s.prototype.uploadFriendDiscoveries=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new YZ({userId:d.userId,discoveries:l}),[4,u.send(p)];case 1:return[2,_.sent().as(XZ).friendDiscoveryRequestId]}})})},s.prototype.deleteFriendDiscovery=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,this.deleteFriendDiscoveries([l])]})})},s.prototype.deleteFriendDiscoveries=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Yt("string",l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new ZZ({userId:d.userId,discoveryKeys:l}),[4,u.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.addFriends=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Yt("string",l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new JZ({userId:d.userId,userIds:l}),[4,u.send(p)];case 1:return[2,_.sent().as(eJ).users]}})})},s.prototype.deleteFriend=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){return[2,this.deleteFriends([l])]})})},s.prototype.deleteFriends=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Yt("string",l)).throw(Qe.invalidParameters),i=sn.of(this._iid),d=i.sdkState,u=i.requestQueue,p=new nJ({userId:d.userId,userIds:l}),[4,u.send(p)];case 1:return _.sent(),[2]}})})},s.prototype.getAllEmoji=function(){return Z(this,void 0,void 0,function(){var l,i;return X(this,function(d){switch(d.label){case 0:return l=sn.of(this._iid).requestQueue,i=new sJ,[4,l.send(i)];case 1:return[2,d.sent().as(oJ).emojiContainer]}})})},s.prototype.getEmojiCategory=function(l){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:return i=sn.of(this._iid).requestQueue,d=new lJ({categoryId:l}),[4,i.send(d)];case 1:return[2,u.sent().as(dJ).emojiCategory]}})})},s.prototype.getEmoji=function(l){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:return i=sn.of(this._iid).requestQueue,d=new cJ({key:l}),[4,i.send(d)];case 1:return[2,u.sent().as(uJ).emoji]}})})},s}();(function(s){s[s.NONE=0]="NONE",s[s.CHANNEL_ENTER=10102]="CHANNEL_ENTER",s[s.CHANNEL_EXIT=10103]="CHANNEL_EXIT",s[s.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",s[s.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",s[s.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",s[s.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",s[s.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",s[s.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",s[s.TYPING_START=10900]="TYPING_START",s[s.TYPING_END=10901]="TYPING_END",s[s.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",s[s.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",s[s.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",s[s.CHANNEL_INVITE=10020]="CHANNEL_INVITE",s[s.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",s[s.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",s[s.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",s[s.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",s[s.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",s[s.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",s[s.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",s[s.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",s[s.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(ta||(ta={}));var Vee=function(){function s(l){this.channelUrl=l.channel_url,this.channelType=l.channel_type,this.category=l.cat,this.data=l.data,this.ts=l.ts}return Object.defineProperty(s.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===zr.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===zr.OPEN},enumerable:!1,configurable:!0}),s}(),tv=function(s){function l(i,d,u){var p=s.call(this,i,"SYEV",u)||this;return p.event=new Vee(u),p}return fe(l,s),l}(Vr),Gee=function(s){function l(i,d,u){var p=s.call(this,i,d,u)||this,_=u.data.operators,g=_===void 0?[]:_;return p.operators=g.map(function(b){return new Lt(p._iid,b)}),p}return fe(l,s),l}(tv),qee=function(s){function l(i,d,u){var p=s.call(this,i,"MCNT",u)||this;return p.groupChannelMemberCounts=u.group_channels.map(function(_){return{channelUrl:_.channel_url,memberCount:_.member_count,joinedMemberCount:_.joined_member_count,updatedAt:_.ts}}),p.openChannelMemberCounts=u.open_channels.map(function(_){return{channelUrl:_.channel_url,participantCount:_.participant_count,updatedAt:_.ts}}),p}return fe(l,s),l}(Vr),jee=function(s){function l(i,d,u){var p,_,g,b=this;(b=s.call(this,i,"ADMM",u)||this).message=new kh(i,u);var E=sn.of(i).sdkState;return b.isMentioned=Sh(b.message.mentionType,(p=b.message.mentionedUserIds)!==null&&p!==void 0?p:(_=b.message.mentionedUsers)===null||_===void 0?void 0:_.map(function(I){return I.userId}),E.userId),b.forceUpdateLastMessage=(g=u.force_update_last_message)!==null&&g!==void 0&&g,b}return fe(l,s),l}(Vr),Kee=function(s){function l(i,d,u){var p,_,g,b,E,I,U=this;(U=s.call(this,i,"AEDI",u)||this).message=new kh(i,u);var Y=sn.of(i).sdkState;return U.mentionCountChange=tE({mentionType:(_=(p=u.old_values)===null||p===void 0?void 0:p.mention_type)!==null&&_!==void 0?_:null,mentionedUserIds:(b=(g=u.old_values)===null||g===void 0?void 0:g.mentioned_user_ids)!==null&&b!==void 0?b:[]},{mentionType:U.message.mentionType,mentionedUserIds:(E=U.message.mentionedUserIds)!==null&&E!==void 0?E:(I=U.message.mentionedUsers)===null||I===void 0?void 0:I.map(function(K){return K.userId})},Y.userId),U}return fe(l,s),l}(Vr),Wee=function(s){function l(i,d,u){var p=s.call(this,i,"MRCT",u)||this;return p.channelUrl=u.channel_url,p.channelType=u.channel_type,p.event=new X2(u),p}return fe(l,s),l}(Vr),Qee=function(s){function l(i,d,u){var p=s.call(this,i,"MTHD",u)||this;return p.event=new MX(i,u),p}return fe(l,s),l}(Vr),Yee=function(s){function l(i,d,u){var p=s.call(this,i,"PEDI",u)||this;return p.event=null,p.status=null,p.channelUrl=null,p.channelType=null,p.event=new ZX(i,u),p.status=eE(u.poll.status)||u.poll.status,p.channelUrl=u.channel_url,p.channelType=u.channel_type,p}return fe(l,s),l}(Vr),Xee=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i._channels=new Map,i._enteredChannelUrls=[],i}return fe(l,s),Object.defineProperty(l.prototype,"enteredChannels",{get:function(){var i=this;return this._enteredChannelUrls.map(function(d){return i._channels.get(d)}).filter(function(d){return d!==null})},enumerable:!1,configurable:!0}),l.prototype.isEnteredChannel=function(i){return this._enteredChannelUrls.includes(i)},l.prototype.enter=function(i){this._enteredChannelUrls.indexOf(i)<0&&this._enteredChannelUrls.push(i)},l.prototype.exit=function(i){var d=this._enteredChannelUrls.indexOf(i);d>=0&&this._enteredChannelUrls.splice(d,1)},l.prototype.exitAll=function(){this._enteredChannelUrls=[]},l.prototype.get=function(i){var d;return Z(this,void 0,void 0,function(){return X(this,function(u){return[2,(d=this._channels.get(i))!==null&&d!==void 0?d:null]})})},l.prototype.upsert=function(i){return Z(this,void 0,void 0,function(){var d=this;return X(this,function(u){return i.forEach(function(p){if(d._channels.has(p.url)){var _=d._channels.get(p.url);Object.assign(_,p)}else d._channels.set(p.url,p)}),[2]})})},l.prototype.remove=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){return this._channels.delete(i),this.exit(i),[2]})})},l.prototype.clear=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},l}(Ko),CN={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},Zee=function(s){function l(i){var d=i.channelUrl,u=i.isInternalCall,p=s.call(this)||this;return p.method=Nn.GET,p.path="".concat(u?QY:zc,"/").concat(encodeURIComponent(d)),p}return fe(l,s),l}(On),IN=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.channel=null,u.channel=new Oh(i,d),u}return fe(l,s),l}(Pn),Jee=function(s){function l(i){var d=this,u=i.channelUrl,p=i.coverUrlOrImage,_=i.name,g=i.data,b=i.customType,E=i.operatorUserIds;return(d=s.call(this)||this).method=Nn.POST,d.path=zc,d.params=Tt({channel_url:u,cover_url:Ve("string",p)?p:null,cover_file:_s(p)?p:null,name:_,data:g,custom_type:b,operators:E}),d}return fe(l,s),l}(On);(function(s){fe(function(l,i){var d=s.call(this,l,i)||this;return d.channel=new Oh(l,i),d},s)})(Pn);var ene=function(s){function l(i){var d=i.channelUrl;return s.call(this,{code:"ENTR",payload:{channel_url:d},ackRequired:!0})||this}return fe(l,s),l}(po),NN=function(s){function l(i,d,u){var p,_,g=this;return g=s.call(this,i,"SYEV",u)||this,u.data&&(g.participantCount=(p=u.data.participant_count)!==null&&p!==void 0?p:0,g.user=new Lt(i,u.data),g.ts=(_=u.data.edge_ts)!==null&&_!==void 0?_:0),g}return fe(l,s),l}(tv),nne=function(s){function l(i){var d=i.channelUrl;return s.call(this,{code:"EXIT",payload:{channel_url:d},ackRequired:!0})||this}return fe(l,s),l}(po),AN=function(s){function l(i,d,u){var p,_,g=this;return g=s.call(this,i,"EXIT",u)||this,u.data&&(g.participantCount=(p=u.data.participant_count)!==null&&p!==void 0?p:0,g.user=new Lt(i,u.data),g.ts=(_=u.data.edge_ts)!==null&&_!==void 0?_:0),g}return fe(l,s),l}(tv),rv={},Zc=function(){function s(l,i){var d=i.sdkState,u=i.dispatcher,p=i.requestQueue,_=this;return rv[l]||(this._iid=l,this._sdkState=d,this._requestQueue=p,this._dispatcher=u,this._openChannelCache=new Xee(l),this._openChannelHandlers=new Map,this._dispatcher.on(function(g){var b,E;if(g instanceof Vr)_._handleEvent(g);else if(g instanceof $c&&g.stateType===cr.CONNECTED){var I=_._openChannelCache.enteredChannels;try{for(var U=wt(I),Y=U.next();!Y.done;Y=U.next())Y.value.enter()}catch(K){b={error:K}}finally{try{Y&&!Y.done&&(E=U.return)&&E.call(U)}finally{if(b)throw b.error}}}}),rv[l]=this),rv[l]}return s.of=function(l){return rv[l]},s.prototype.buildOpenChannelFromSerializedData=function(l){var i=xp(l);return new Oh(this._iid,Oh.payloadify(i))},s.prototype.getChannelFromCache=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._openChannelCache.get(l)];case 1:return[2,i.sent()]}})})},s.prototype.upsertChannelsToCache=function(l){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this._openChannelCache.upsert(l)];case 1:return i.sent(),[2]}})})},s.prototype.removeChannelsFromCache=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:b.trys.push([0,5,6,7]),i=wt(l),d=i.next(),b.label=1;case 1:return d.done?[3,4]:(u=d.value,[4,this._openChannelCache.remove(u)]);case 2:b.sent(),b.label=3;case 3:return d=i.next(),[3,1];case 4:return[3,7];case 5:return p=b.sent(),_={error:p},[3,7];case 6:try{d&&!d.done&&(g=i.return)&&g.call(i)}finally{if(_)throw _.error}return[7];case 7:return[2]}})})},s.prototype.setEnteredToCache=function(l){this._openChannelCache.enter(l.url)},s.prototype.setExitedToCache=function(l){this._openChannelCache.exit(l.url)},s.prototype._handleEvent=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g,b,E,I,U,Y,K,ce,ae,pe,Ne,Ee,ze,dn,Ce,be,rn,Je,Ye,kn,ar,Cn,Tn,Vn,_t,dt,sr,Kt,$i,ra,Ll,Fd,zs,RE,Rh,JN,eA,dv,ME,DE,LE,UE,PE,FE,HE,Dp,BE,cv,nA,ru,uv,Lp,Up,Pp,hv,pv,$E,zE,VE,GE,qE,tA,Ri=this;return X(this,function(tr){switch(tr.label){case 0:switch(tr.trys.push([0,55,,56]),l.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,29];case"SYEV":return[3,31]}return[3,54];case 1:return p=null,l.code==="MESG"?p=l.as(wN):l.code==="FILE"?p=l.as(MI):l.code!=="ADMM"&&l.code!="BRDM"||(p=l.as(jee)),p?(i=p.message,d=p.isMentioned,i.channelType!==zr.OPEN?[3,3]:[4,this.getChannel(i.channelUrl,!0)]):[3,3];case 2:u=tr.sent(),Bt(function(){return Z(Ri,void 0,void 0,function(){var ht,Hn,hr,gr,zi;return X(this,function(Vs){try{for(ht=wt(this._openChannelHandlers.values()),Hn=ht.next();!Hn.done;Hn=ht.next())hr=Hn.value,this._openChannelCache.isEnteredChannel(u.url)&&(hr.onMessageReceived(u,i),d&&hr.onMentionReceived(u,i))}catch(Ul){gr={error:Ul}}finally{try{Hn&&!Hn.done&&(zi=ht.return)&&zi.call(ht)}finally{if(gr)throw gr.error}}return[2]})})}),tr.label=3;case 3:return[3,54];case 4:return p=null,l.code==="MEDI"?p=l.as(SE):l.code==="FEDI"?p=l.as(TE):l.code==="AEDI"&&(p=l.as(Kee)),p?(_=p.message,g=p.mentionCountChange,_.channelType!==zr.OPEN?[3,6]:[4,this.getChannel(_.channelUrl,!0)]):[3,6];case 5:b=tr.sent(),Bt(function(){return Z(Ri,void 0,void 0,function(){var ht,Hn,hr,gr,zi;return X(this,function(Vs){try{for(ht=wt(this._openChannelHandlers.values()),Hn=ht.next();!Hn.done;Hn=ht.next())hr=Hn.value,this._openChannelCache.isEnteredChannel(b.url)&&(hr.onMessageUpdated(b,_),g>0&&hr.onMentionReceived(b,_))}catch(Ul){gr={error:Ul}}finally{try{Hn&&!Hn.done&&(zi=ht.return)&&zi.call(ht)}finally{if(gr)throw gr.error}}return[2]})})}),tr.label=6;case 6:return[3,54];case 7:return E=l.as(bee),_t=E.channelUrl,dt=E.channelType,I=E.messageId,dt!==zr.OPEN?[3,9]:[4,this.getChannel(_t,!0)];case 8:U=tr.sent(),Bt(function(){return Z(Ri,void 0,void 0,function(){var ht,Hn,hr,gr,zi;return X(this,function(Vs){try{for(ht=wt(this._openChannelHandlers.values()),Hn=ht.next();!Hn.done;Hn=ht.next())hr=Hn.value,this._openChannelCache.isEnteredChannel(U.url)&&hr.onMessageDeleted(U,I)}catch(Ul){gr={error:Ul}}finally{try{Hn&&!Hn.done&&(zi=ht.return)&&zi.call(ht)}finally{if(gr)throw gr.error}}return[2]})})}),tr.label=9;case 9:return[3,54];case 10:return Y=l.as(Wee),_t=Y.channelUrl,dt=Y.channelType,K=Y.event,dt!==zr.OPEN?[3,12]:[4,this.getChannel(_t,!0)];case 11:ce=tr.sent(),Bt(function(){return Z(Ri,void 0,void 0,function(){var ht,Hn,hr,gr,zi;return X(this,function(Vs){try{for(ht=wt(this._openChannelHandlers.values()),Hn=ht.next();!Hn.done;Hn=ht.next())hr=Hn.value,this._openChannelCache.isEnteredChannel(ce.url)&&hr.onReactionUpdated(ce,K)}catch(Ul){gr={error:Ul}}finally{try{Hn&&!Hn.done&&(zi=ht.return)&&zi.call(ht)}finally{if(gr)throw gr.error}}return[2]})})}),tr.label=12;case 12:return[3,54];case 13:return(ae=l.as(Qee).event).channelType!==zr.OPEN?[3,15]:[4,this.getChannel(ae.channelUrl,!0)];case 14:pe=tr.sent(),Bt(function(){return Z(Ri,void 0,void 0,function(){var ht,Hn,hr,gr,zi;return X(this,function(Vs){try{for(ht=wt(this._openChannelHandlers.values()),Hn=ht.next();!Hn.done;Hn=ht.next())hr=Hn.value,this._openChannelCache.isEnteredChannel(pe.url)&&hr.onThreadInfoUpdated(pe,ae)}catch(Ul){gr={error:Ul}}finally{try{Hn&&!Hn.done&&(zi=ht.return)&&zi.call(ht)}finally{if(gr)throw gr.error}}return[2]})})}),tr.label=15;case 15:return[3,54];case 16:Ne=l.as(qee).openChannelMemberCounts,Ee=[],tr.label=17;case 17:tr.trys.push([17,22,23,24]),ze=wt(Ne),dn=ze.next(),tr.label=18;case 18:return dn.done?[3,21]:(Ce=dn.value,_t=Ce.channelUrl,Rh=Ce.participantCount,be=Ce.updatedAt,[4,this.getChannelFromCache(_t)]);case 19:(rn=tr.sent())&&rn._updateParticipantCount(Rh,be)&&Ee.push(rn),tr.label=20;case 20:return dn=ze.next(),[3,18];case 21:return[3,24];case 22:return Je=tr.sent(),qE={error:Je},[3,24];case 23:try{dn&&!dn.done&&(tA=ze.return)&&tA.call(ze)}finally{if(qE)throw qE.error}return[7];case 24:return Ee.length>0?[4,this.upsertChannelsToCache(Ee)]:[3,26];case 25:tr.sent(),Bt(function(){return Z(Ri,void 0,void 0,function(){var ht,Hn,hr,gr;return X(this,function(zi){try{for(ht=wt(this._openChannelHandlers.values()),Hn=ht.next();!Hn.done;Hn=ht.next())Hn.value.onChannelMemberCountChanged(Ee)}catch(Vs){hr={error:Vs}}finally{try{Hn&&!Hn.done&&(gr=ht.return)&&gr.call(ht)}finally{if(hr)throw hr.error}}return[2]})})}),tr.label=26;case 26:return[3,54];case 27:return Ye=l.as(Yee),kn=Ye.event,ar=Ye.status,_t=Ye.channelUrl,dt=Ye.channelType,_t&&dt?[4,this.getChannel(_t,!0)]:[3,54];case 28:return Cn=tr.sent(),this._dispatcher.dispatch(new TX({event:kn,source:mi.EVENT_POLL_UPDATED})),Bt(ar==="removed"?function(){return Z(Ri,void 0,void 0,function(){var ht,Hn,hr,gr;return X(this,function(zi){try{for(ht=wt(this._openChannelHandlers.values()),Hn=ht.next();!Hn.done;Hn=ht.next())Hn.value.onPollDeleted(Cn,kn.pollId)}catch(Vs){hr={error:Vs}}finally{try{Hn&&!Hn.done&&(gr=ht.return)&&gr.call(ht)}finally{if(hr)throw hr.error}}return[2]})})}:function(){return Z(Ri,void 0,void 0,function(){var ht,Hn,hr,gr;return X(this,function(zi){try{for(ht=wt(this._openChannelHandlers.values()),Hn=ht.next();!Hn.done;Hn=ht.next())Hn.value.onPollUpdated(Cn,kn)}catch(Vs){hr={error:Vs}}finally{try{Hn&&!Hn.done&&(gr=ht.return)&&gr.call(ht)}finally{if(hr)throw hr.error}}return[2]})})}),[3,54];case 29:return Tn=l.as(SN),Vn=Tn.event,_t=Tn.channelUrl,dt=Tn.channelType,_t&&dt?[4,this.getChannel(_t,!0)]:[3,54];case 30:return sr=tr.sent(),this._dispatcher.dispatch(new UI({event:Vn,source:mi.EVENT_POLL_VOTED})),Bt(function(){return Z(Ri,void 0,void 0,function(){var ht,Hn,hr,gr;return X(this,function(zi){try{for(ht=wt(this._openChannelHandlers.values()),Hn=ht.next();!Hn.done;Hn=ht.next())Hn.value.onPollVoted(sr,Vn)}catch(Vs){hr={error:Vs}}finally{try{Hn&&!Hn.done&&(gr=ht.return)&&gr.call(ht)}finally{if(hr)throw hr.error}}return[2]})})}),[3,54];case 31:if(!(Kt=l.as(tv).event).isOpenChannelEvent)return[3,53];switch(Kt.category){case ta.CHANNEL_ENTER:return[3,32];case ta.CHANNEL_EXIT:return[3,34];case ta.CHANNEL_OPERATOR_UPDATE:return[3,36];case ta.USER_CHANNEL_MUTE:case ta.USER_CHANNEL_UNMUTE:return[3,38];case ta.USER_CHANNEL_BAN:case ta.USER_CHANNEL_UNBAN:return[3,40];case ta.CHANNEL_FREEZE:case ta.CHANNEL_UNFREEZE:return[3,42];case ta.CHANNEL_DELETED:return[3,44];case ta.CHANNEL_PROP_CHANGED:return[3,47];case ta.CHANNEL_META_DATA_CHANGED:return[3,49];case ta.CHANNEL_META_COUNTERS_CHANGED:return[3,51]}return[3,53];case 32:return[4,this.getChannel(Kt.channelUrl,!0)];case 33:return $i=tr.sent(),ra=l.as(NN),Rh=ra.participantCount,Ll=ra.user,Fd=$i._updateParticipantCount(Rh,Kt.ts),Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){Hn.onUserEntered($i,Ll),Fd&&Hn.onChannelParticipantCountChanged($i)}),[2]})})}),[3,53];case 34:return[4,this.getChannel(Kt.channelUrl,!0)];case 35:return zs=tr.sent(),RE=l.as(AN),Rh=RE.participantCount,JN=RE.user,eA=zs._updateParticipantCount(Rh,Kt.ts),Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){Hn.onUserExited(zs,JN),eA&&Hn.onChannelParticipantCountChanged(zs)}),[2]})})}),[3,53];case 36:return[4,this.getChannel(Kt.channelUrl,!0)];case 37:return dv=tr.sent(),ME=l.as(Gee).operators,dv.operators=ME,this.upsertChannelsToCache([dv]),Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){Hn.onOperatorUpdated(dv,ME)}),[2]})})}),[3,53];case 38:return[4,this.getChannel(Kt.channelUrl,!0)];case 39:return DE=tr.sent(),LE=Kt.category===ta.USER_CHANNEL_MUTE,UE=l.as(LE?see:lee).user,Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){LE?Hn.onUserMuted(DE,UE):Hn.onUserUnmuted(DE,UE)}),[2]})})}),[3,53];case 40:return[4,this.getChannel(Kt.channelUrl,!0)];case 41:return PE=tr.sent(),FE=Kt.category===ta.USER_CHANNEL_BAN,HE=l.as(FE?cee:hee).user,Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){FE?Hn.onUserBanned(PE,HE):Hn.onUserUnbanned(PE,HE)}),[2]})})}),[3,53];case 42:return[4,this.getChannel(Kt.channelUrl,!0)];case 43:return Dp=tr.sent(),BE=l.as(pee).freeze,Dp.isFrozen=BE,this.upsertChannelsToCache([Dp]),Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){BE?Hn.onChannelFrozen(Dp):Hn.onChannelUnfrozen(Dp)}),[2]})})}),[3,53];case 44:return[4,this.getChannel(Kt.channelUrl,!0)];case 45:return cv=tr.sent(),[4,this.removeChannelsFromCache([cv.url])];case 46:return tr.sent(),Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){Hn.onChannelDeleted(cv.url,cv.channelType)}),[2]})})}),[3,53];case 47:return[4,this.getChannelWithoutCache(Kt.channelUrl,!0)];case 48:return nA=tr.sent(),Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){Hn.onChannelChanged(nA)}),[2]})})}),[3,53];case 49:return[4,this.getChannel(Kt.channelUrl,!0)];case 50:return ru=tr.sent(),uv=l.as(QJ),Lp=uv.created,Up=uv.updated,Pp=uv.deleted,Lp&&ru._upsertCachedMetaData(Lp,Kt.ts),Up&&ru._upsertCachedMetaData(Up,Kt.ts),Pp&&ru._removeFromCachedMetaData(Pp,Kt.ts),Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){Lp&&Hn.onMetaDataCreated(ru,Lp),Up&&Hn.onMetaDataUpdated(ru,Up),Pp&&Hn.onMetaDataDeleted(ru,Pp)}),[2]})})}),[3,53];case 51:return[4,this.getChannel(Kt.channelUrl,!0)];case 52:return hv=tr.sent(),pv=l.as(tee),$E=pv.created,zE=pv.updated,VE=pv.deleted,Bt(function(){return Z(Ri,void 0,void 0,function(){return X(this,function(ht){return this._openChannelHandlers.forEach(function(Hn){$E&&Hn.onMetaCounterCreated(hv,$E),zE&&Hn.onMetaCounterUpdated(hv,zE),VE&&Hn.onMetaCounterDeleted(hv,VE)}),[2]})})}),[3,53];case 53:return[3,54];case 54:return[3,56];case 55:if(GE=tr.sent(),Lc(GE))throw GE;return[3,56];case 56:return[2]}})})},s.prototype.addHandler=function(l,i){this._openChannelHandlers.set(l,i)},s.prototype.removeHandler=function(l){this._openChannelHandlers.delete(l)},s.prototype.clearHandler=function(){this._openChannelHandlers.clear()},s.prototype.getChannel=function(l,i){return Z(this,void 0,void 0,function(){var d;return X(this,function(u){switch(u.label){case 0:Fn(Ve("string",l)).throw(Qe.invalidParameters),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.getChannelFromCache(l)];case 2:return(d=u.sent())?[2,d]:[3,4];case 3:return u.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(l)];case 5:return[2,u.sent()]}})})},s.prototype.getChannelWithoutCache=function(l,i){return i===void 0&&(i=!1),Z(this,void 0,void 0,function(){var d,u,p;return X(this,function(_){switch(_.label){case 0:return Fn(Ve("string",l)).throw(Qe.invalidParameters),d=new Zee({channelUrl:l,isInternalCall:i}),[4,this._requestQueue.send(d)];case 1:return u=_.sent(),p=u.as(IN).channel,[4,this.upsertChannelsToCache([p])];case 2:return _.sent(),[2,p]}})})},s.prototype.createChannel=function(l){return Z(this,void 0,void 0,function(){var i,d,u,p;return X(this,function(_){switch(_.label){case 0:return i=$e($e({},CN),l),Fn(function(g){return Yt("string",g.operatorUserIds,!0)&&(Ve("string",g.coverUrlOrImage)||_s(g.coverUrlOrImage)||g.coverUrlOrImage===null)&&Ve("string",g.name,!0)&&Ve("string",g.data,!0)&&Ve("string",g.customType,!0)&&(Ve("string",g.channelUrl)&&/^\w+$/.test(g.channelUrl)||g.channelUrl===null)}(i)).throw(Qe.invalidParameters),d=new Jee(i),[4,this._requestQueue.send(d)];case 1:return u=_.sent(),p=u.as(IN).channel,this.upsertChannelsToCache([p]),[2,p]}})})},s}(),ON={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},tne=function(s){function l(i){var d=this,u=i.channelUrl,p=i.token,_=i.limit;return(d=s.call(this)||this).method=Nn.GET,d.path="".concat(zc,"/").concat(encodeURIComponent(u),"/participants"),d.params={token:p,limit:_},d}return fe(l,s),l}(On),rne=function(s){function l(i,d){var u=s.call(this,i,d)||this;u.token=null,u.participants=[];var p=d.next,_=d.participants;return u.token=p,u.participants=_.map(function(g){return new $ee(i,g)}),u}return fe(l,s),l}(Pn),ine=function(s){function l(i,d,u){return s.call(this,i,d,zr.OPEN,u)||this}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)},l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid).requestQueue,d=new tne($e($e({},this),{token:this._token})),[4,i.send(d)]):[3,2]:[3,5];case 1:return u=b.sent(),p=u.as(rne),_=p.participants,g=p.token,this._token=g,this._hasNext=!!g,this._isLoading=!1,[2,_];case 2:return[2,[]];case 3:throw Qe.queryInProgress;case 4:return[3,6];case 5:throw Qe.invalidParameters;case 6:return[2]}})})},l}(Kc),ane=function(s){function l(i){var d=this,u=i.channelUrl,p=i.coverUrlOrImage,_=i.name,g=i.data,b=i.customType,E=i.operatorUserIds;return(d=s.call(this)||this).method=Nn.PUT,d.path="".concat(zc,"/").concat(encodeURIComponent(u)),d.params=Tt({cover_url:Ve("string",p)?p:null,cover_file:_s(p)?p:null,name:_,data:g,custom_type:b,operators:E}),d}return fe(l,s),l}(On),sne=function(s){function l(i,d){var u=s.call(this,i,d)||this;return u.channel=new Oh(i,d),u}return fe(l,s),l}(Pn),one=function(s){function l(i){var d=this,u=i.channelUrl;return(d=s.call(this)||this).method=Nn.DELETE,d.path="".concat(zc,"/").concat(encodeURIComponent(u)),d}return fe(l,s),l}(On);(function(s){fe(function(l,i){return s.call(this,l,i)||this},s)})(Pn);var Oh=function(s){function l(i,d){var u,p=this;return(p=s.call(this,i,d)||this)._lastParticipantCountUpdated=0,p.participantCount=0,p.operators=[],p.channelType=zr.OPEN,p.participantCount=(u=d.participant_count)!==null&&u!==void 0?u:0,p.operators=Array.isArray(d.operators)?d.operators.map(function(_){return new Lt(i,_)}):[],p}return fe(l,s),l.payloadify=function(i){return i?Tt($e($e({},TN.payloadify(i)),{participant_count:i.participantCount,operators:i.operators.map(function(d){return Lt.payloadify(d)})})):null},l.prototype.serialize=function(){return Fm(this)},l.prototype.isOperator=function(i){return i instanceof Lt?this.isOperator(i.userId):this.operators.some(function(d){return d.userId===i})},l.prototype._updateParticipantCount=function(i,d){return d>this._lastParticipantCountUpdated&&(this.participantCount=i,this._lastParticipantCountUpdated=d,!0)},l.prototype.createParticipantListQuery=function(i){return new ine(this._iid,this.url,i)},l.prototype.refresh=function(){return Z(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,Zc.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,i.sent()]}})})},l.prototype.enter=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return i=sn.of(this._iid).requestQueue,d=new ene({channelUrl:this.url}),[4,i.send(d)];case 1:return u=b.sent(),p=u.as(NN),_=p.participantCount,g=p.ts,this._updateParticipantCount(_,g),Zc.of(this._iid).setEnteredToCache(this),[2]}})})},l.prototype.exit=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return i=sn.of(this._iid).requestQueue,d=new nne({channelUrl:this.url}),[4,i.send(d)];case 1:return u=b.sent(),p=u.as(AN),_=p.participantCount,g=p.ts,this._updateParticipantCount(_,g),Zc.of(this._iid).setExitedToCache(this),Fa.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},l.prototype.updateChannel=function(i){return Z(this,void 0,void 0,function(){var d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return d=$e($e({},ON),i),Fn(function(E){return Yt("string",E.operatorUserIds,!0)&&(Ve("string",E.coverUrlOrImage)||_s(E.coverUrlOrImage)||E.coverUrlOrImage===null)&&Ve("string",E.name,!0)&&Ve("string",E.data,!0)&&Ve("string",E.customType,!0)}(d)).throw(Qe.invalidParameters),u=sn.of(this._iid).requestQueue,p=new ane($e({channelUrl:this.url},d)),[4,u.send(p)];case 1:return _=b.sent(),g=_.as(sne).channel,[4,Zc.of(this._iid).upsertChannelsToCache([g])];case 2:return b.sent(),[2,g]}})})},l.prototype.updateChannelWithOperatorUserIds=function(i,d,u,p,_){return Z(this,void 0,void 0,function(){var g;return X(this,function(b){return g=$e($e({},ON),{name:i,coverUrlOrImage:d,data:u,operatorUserIds:p,customType:_}),[2,this.updateChannel(g)]})})},l.prototype.delete=function(){return Z(this,void 0,void 0,function(){var i,d;return X(this,function(u){switch(u.label){case 0:return i=sn.of(this._iid).requestQueue,d=new one({channelUrl:this.url}),[4,i.send(d)];case 1:return u.sent(),[4,Zc.of(this._iid).removeChannelsFromCache([this.url])];case 2:return u.sent(),[2]}})})},l.prototype.sendUserMessage=function(i){return Fn(!i.isPinnedMessage).throw(Qe.notSupportedError),s.prototype.sendUserMessage.call(this,i)},l.prototype.sendFileMessage=function(i){return Fn(!i.isPinnedMessage).throw(Qe.notSupportedError),s.prototype.sendFileMessage.call(this,i)},l}(TN),lne=function(s){function l(i){i===void 0&&(i={});var d=s.call(this)||this;return Object.keys(i).forEach(function(u){d.hasOwnProperty(u)&&(d[u]=i[u])}),d}return fe(l,s),l}(function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.onUserEntered=Dt,i.onUserExited=Dt,i.onChannelParticipantCountChanged=Dt,i.onPollUpdated=Dt,i.onPollVoted=Dt,i.onPollDeleted=Dt,i}return fe(l,s),l}(function(){this.onUserMuted=Dt,this.onUserUnmuted=Dt,this.onUserBanned=Dt,this.onUserUnbanned=Dt,this.onChannelChanged=Dt,this.onChannelDeleted=Dt,this.onChannelFrozen=Dt,this.onChannelUnfrozen=Dt,this.onOperatorUpdated=Dt,this.onChannelMemberCountChanged=Dt,this.onMetaDataCreated=Dt,this.onMetaDataUpdated=Dt,this.onMetaDataDeleted=Dt,this.onMetaCounterCreated=Dt,this.onMetaCounterUpdated=Dt,this.onMetaCounterDeleted=Dt,this.onMessageReceived=Dt,this.onMessageUpdated=Dt,this.onMessageDeleted=Dt,this.onMentionReceived=Dt,this.onReactionUpdated=Dt,this.onThreadInfoUpdated=Dt})),dne=function(s){function l(i){var d=this,u=i.token,p=i.limit,_=i.nameKeyword,g=i.urlKeyword,b=i.customTypes,E=i.includeFrozen,I=i.includeMetaData;return(d=s.call(this)||this).method=Nn.GET,d.path=zc,d.params=Tt({token:u,limit:p,name_contains:_,url_contains:g,custom_types:b,show_frozen:E,show_metadata:I}),d}return fe(l,s),l}(On),cne=function(s){function l(i,d){var u=s.call(this,i,d)||this;u.token=null,u.channels=[],u.ts=null;var p=d.next,_=d.channels,g=d.ts;return u.token=p,_&&_.length>0&&(u.channels=_.map(function(b){return new Oh(i,b)})),u.ts=typeof g=="number"?g:null,u}return fe(l,s),l}(Pn),une=function(s){function l(i,d){var u,p,_,g,b,E=this;return(E=s.call(this,i,d)||this).includeFrozen=!0,E.includeMetaData=!0,E.nameKeyword=null,E.urlKeyword=null,E.customTypes=null,E.includeFrozen=(u=d.includeFrozen)===null||u===void 0||u,E.includeMetaData=(p=d.includeMetaData)===null||p===void 0||p,E.nameKeyword=(_=d.nameKeyword)!==null&&_!==void 0?_:null,E.urlKeyword=(g=d.urlKeyword)!==null&&g!==void 0?g:null,E.customTypes=(b=d.customTypes)!==null&&b!==void 0?b:null,E}return fe(l,s),l.prototype._validate=function(){return s.prototype._validate.call(this)&&Ve("boolean",this.includeFrozen)&&Ve("boolean",this.includeMetaData)&&Ve("string",this.nameKeyword,!0)&&Ve("string",this.urlKeyword,!0)&&Yt("string",this.customTypes,!0)},l.prototype.next=function(){return Z(this,void 0,void 0,function(){var i,d,u,p,_,g;return X(this,function(b){switch(b.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,i=sn.of(this._iid).requestQueue,d=new dne($e($e({},this),{token:this._token})),[4,i.send(d)]):[3,3]:[3,6];case 1:return u=b.sent(),p=u.as(cne),_=p.channels,g=p.token,this._token=g,this._hasNext=!!g,[4,Zc.of(this._iid).upsertChannelsToCache(_)];case 2:return b.sent(),this._isLoading=!1,[2,_];case 3:return[2,[]];case 4:throw Qe.queryInProgress;case 5:return[3,7];case 6:throw Qe.invalidParameters;case 7:return[2]}})})},l}(Th),hne=function(s){function l(){var i=s!==null&&s.apply(this,arguments)||this;return i.name="openChannel",i}return fe(l,s),l.prototype.init=function(i,d){var u=d.sdkState,p=d.dispatcher,_=d.sessionManager,g=d.requestQueue,b=d.logger,E=d.onlineDetector,I=d.cacheContext;s.prototype.init.call(this,i,{sdkState:u,dispatcher:p,sessionManager:_,requestQueue:g,logger:b,onlineDetector:E,cacheContext:I}),this._manager=new Zc(i,{sdkState:u,dispatcher:p,requestQueue:g})},l.prototype.createOpenChannelListQuery=function(i){return i===void 0&&(i={}),new une(this._iid,i)},l.prototype.addOpenChannelHandler=function(i,d){this._manager.addHandler(i,d)},l.prototype.removeOpenChannelHandler=function(i){this._manager.removeHandler(i)},l.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},l.prototype.buildOpenChannelFromSerializedData=function(i){return this._manager.buildOpenChannelFromSerializedData(i)},l.prototype.getChannel=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){return[2,this._manager.getChannel(i)]})})},l.prototype.getChannelWithoutCache=function(i){return Z(this,void 0,void 0,function(){return X(this,function(d){return[2,this._manager.getChannelWithoutCache(i)]})})},l.prototype.createChannel=function(i){return i===void 0&&(i={}),Z(this,void 0,void 0,function(){return X(this,function(d){return[2,this._manager.createChannel(i)]})})},l.prototype.createChannelWithOperatorUserIds=function(i,d,u,p,_){return Z(this,void 0,void 0,function(){var g;return X(this,function(b){return(g=$e({},CN)).name=i,g.coverUrlOrImage=d,g.data=u,g.operatorUserIds=p,g.customType=_,[2,this._manager.createChannel(g)]})})},l}(Q2),RN="LIVE_EVENT_MANAGER",pne=function(){function s(u){var p=this;f(this,s),this._liveEvents=[],this._ctx=u,this._ctx.sb.openChannel.addOpenChannelHandler(RN,new lne({onUserBanned:function(_,g){if(g.userId===p._ctx.sb.currentUser.userId){var b=p._liveEvents.find(function(E){var I;return((I=E.openChannel)===null||I===void 0?void 0:I.url)===_.url});b&&b.onDisconnected()}}}))}var l,i,d;return v(s,[{key:"createLiveEvent",value:(d=h(o().mark(function u(p){var _,g,b,E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return _=Er.createLiveEvent(BV.SINGLE_HOST,p.userIdsForHost?[].concat(H(p.userIdsForHost),[this.userId]):[this.userId],p.title,p.coverUrl,p.coverFile,p.customItems),I.next=3,this._ctx.commandRouter.send(_);case 3:return g=I.sent,b=g.payload.liveEvent,E=new x2({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:b}),I.prev=6,I.next=9,E.fetchOpenChannel();case 9:I.next=14;break;case 11:I.prev=11,I.t0=I.catch(6),it.error("failed to fetch initial open channel");case 14:return this._liveEvents.push(E),I.abrupt("return",E);case 16:case"end":return I.stop()}},u,this,[[6,11]])})),function(u){return d.apply(this,arguments)})},{key:"getLiveEvent",value:(i=h(o().mark(function u(p){var _,g,b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return _=Er.createGetLiveEvent(p),E.next=3,this._ctx.commandRouter.send(_);case 3:return g=E.sent,b=g.payload.liveEvent,E.abrupt("return",this.deserializeLiveEvent(b));case 6:case"end":return E.stop()}},u,this)})),function(u){return i.apply(this,arguments)})},{key:"deserializeLiveEvent",value:(l=h(o().mark(function u(p){var _,g,b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(_=this._liveEvents.findIndex(function(I){return I.liveEventId===p.liveEventId}),!(_>-1)){E.next=15;break}return(g=this._liveEvents[_]).upsert(p),E.prev=4,E.next=7,g.fetchOpenChannel();case 7:E.next=12;break;case 9:E.prev=9,E.t0=E.catch(4),it.error("failed to fetch initial open channel");case 12:return E.abrupt("return",g);case 15:return b=new x2({deviceManager:this._ctx.deviceManager,sender:this._ctx.commandRouter,sb:this._ctx.sb,userId:this.userId,info:p}),E.prev=16,E.next=19,b.fetchOpenChannel();case 19:E.next=24;break;case 21:E.prev=21,E.t1=E.catch(16),it.error("failed to fetch initial open channel");case 24:return this._liveEvents.push(b),E.abrupt("return",b);case 26:case"end":return E.stop()}},u,this,[[4,9],[16,21]])})),function(u){return l.apply(this,arguments)})},{key:"clear",value:function(){this._liveEvents=[],this._ctx.sb.openChannel.removeOpenChannelHandler(RN);var u,p=M(this._liveEvents);try{for(p.s();!(u=p.n()).done;)u.value.teardown()}catch(_){p.e(_)}finally{p.f()}}}]),s}(),fne=Ho,_ne=oe,mne=zn,vne=bd,gne=TypeError,MN=function(s){return function(l,i,d,u){fne(i);var p=_ne(l),_=mne(p),g=vne(p),b=s?g-1:0,E=s?-1:1;if(d<2)for(;;){if(b in _){u=_[b],b+=E;break}if(b+=E,s?b<0:g<=b)throw gne("Reduce of empty array with no initial value")}for(;s?b>=0:g>b;b+=E)b in _&&(u=i(u,_[b],b,p));return u}},bne={left:MN(!1),right:MN(!0)}.left;Pr({target:"Array",proto:!0,forced:!W0&&Xe>79&&Xe<83||!Dy("reduce")},{reduce:function(s){var l=arguments.length;return bne(this,s,l,l>1?arguments[1]:void 0)}});var Dl=function(){function s(l,i){f(this,s),this.key=l,this.value=i}return v(s,[{key:"toString",value:function(){return this.key}},{key:"equals",value:function(l){return this.value.width===l.value.width&&this.value.height===l.value.height}}]),s}();y(Dl,"_720P",new Dl("_720P",{width:1280,height:720})),y(Dl,"_540P",new Dl("_540P",{width:960,height:540})),y(Dl,"_480P",new Dl("_480P",{width:848,height:480})),y(Dl,"_360P",new Dl("_360P",{width:640,height:360}));var DN=Dl._720P,yne=function(s){w(i,s);var l=O(i);function i(d,u){var p;return f(this,i),y(N(p=l.call(this)),"hasPermission",!1),p._streamManger=d,p.constraints=u,p}return v(i,[{key:"stream",get:function(){return this._streamManger.stream}},{key:"dispose",value:function(){var d;this.removeAllEventListeners(),(d=this.onDisposed)===null||d===void 0||d.call(this)}},{key:"streamChanged",value:function(d){this._dispatchEvent("streamChanged",d)}},{key:"audioOutputChanged",value:function(){this._dispatchEvent("audioOutputChanged")}}]),i}(Sl),Ene=Qn,wne=oi,xne=Rn,kne=F_,CE=co,Sne=xn,Tne=B0,Cne=sC,LN=lC;aC("match",function(s,l,i){return[function(d){var u=Sne(this),p=xne(d)?void 0:Tne(d,s);return p?Ene(p,d,u):new RegExp(d)[s](CE(u))},function(d){var u=wne(this),p=CE(d),_=i(l,u,p);if(_.done)return _.value;if(!u.global)return LN(u,p);var g=u.unicode;u.lastIndex=0;for(var b,E=[],I=0;(b=LN(u,p))!==null;){var U=CE(b[0]);E[I]=U,U===""&&(u.lastIndex=Cne(p,kne(u.lastIndex),g)),I++}return I===0?null:E}]});var IE,Pd,Jc,Op,iv,av,UN=an,Ine=Ue,Nne=ln,Ane=co,One=_C.trim,PN=pC,Rp=UN.parseInt,FN=UN.Symbol,HN=FN&&FN.iterator,BN=/^[+-]?0x/i,Rne=Nne(BN.exec),$N=Rp(PN+"08")!==8||Rp(PN+"0x16")!==22||HN&&!Ine(function(){Rp(Object(HN))})?function(s,l){var i=One(Ane(s));return Rp(i,l>>>0||(Rne(BN,i)?16:10))}:Rp;Pr({global:!0,forced:parseInt!=$N},{parseInt:$N});var zN=function(s,l){l.audio&&s.getAudioTracks().length===0&&s.addTrack(function(){IE||(IE=new(window.AudioContext||window.webkitAudioContext));var i=IE;Pd=i.createOscillator();var d=i.createMediaStreamDestination(),u=i.createGain();return u.gain.setValueAtTime(0,i.currentTime),Pd.connect(u),u.connect(d),Pd.start(),iv=d.stream.getAudioTracks()[0],d.stream.getAudioTracks()[0]}()),l.video&&s.getVideoTracks().length===0&&s.addTrack(function(i){var d=i.width,u=i.height,p=i.frameRate;Jc||(Jc=document.createElement("canvas")),Jc.width=d,Jc.height=u,Jc.getContext("2d").fillRect(0,0,d,u),Op||(Op=setInterval(function(){Jc.getContext("2d").fillRect(0,0,d,u)},1e3));var _=Jc.captureStream(p);return av=_.getVideoTracks()[0],_.getVideoTracks()[0]}(a(a({},DN.value),{},{frameRate:24})))};function VN(){iv&&iv.stop(),av&&av.stop(),iv=null,av=null,Op&&(clearInterval(Op),Op=null),Pd&&(Pd.onended=function(){Pd.disconnect(),Pd=null},Pd.stop())}function NE(s){if(s){var l,i=M(s.getTracks());try{for(i.s();!(l=i.n()).done;)l.value.stop()}catch(d){i.e(d)}finally{i.f()}}}var sv=function(s,l,i){var d=s.match(l);return d&&d.length>=i&&parseInt(d[i],10)},GN=function(){var s={browser:null,version:null};if(typeof window>"u"||!window.navigator)return s.browser="Not a browser.",s;var l=window.navigator;if(l.mozGetUserMedia)s.browser="firefox",s.version=sv(l.userAgent,/Firefox\/(\d+)\./,1);else if(l.webkitGetUserMedia||window.isSecureContext===!1&&window.webkitRTCPeerConnection&&!window.RTCIceGatherer)s.browser="chrome",s.version=sv(l.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(l.mediaDevices&&l.userAgent.match(/Edge\/(\d+).(\d+)$/))s.browser="edge",s.version=sv(l.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.RTCPeerConnection||!l.userAgent.match(/AppleWebKit\/(\d+)\./))return s.browser="Not a supported browser.",s;s.browser="safari",s.version=sv(l.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return s}().browser==="safari",Mne=function(){function s(d){f(this,s),this._deviceManager=d,this._updateQueued=!1}var l,i;return v(s,[{key:"_getUserMedia",value:(i=h(o().mark(function d(u){var p,_,g,b;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,navigator.mediaDevices.getUserMedia(u);case 3:return p=E.sent,VN(),E.abrupt("return",p);case 8:return E.prev=8,E.t0=E.catch(0),it.warning("Failed to first 'getUserMedia()' call Error[".concat(E.t0,"]")),_=new MediaStream,E.prev=12,E.next=15,navigator.mediaDevices.getUserMedia({audio:u.audio});case 15:g=E.sent,_.addTrack(g.getAudioTracks()[0]),E.next=22;break;case 19:E.prev=19,E.t1=E.catch(12),it.warning("Failed to get local audio stream Error[".concat(E.t1,"]"));case 22:return E.prev=22,E.next=25,navigator.mediaDevices.getUserMedia({video:u.video});case 25:b=E.sent,_.addTrack(b.getVideoTracks()[0]),E.next=32;break;case 29:E.prev=29,E.t2=E.catch(22),it.warning("Failed to get local video stream Error[".concat(E.t2,"]"));case 32:return E.abrupt("return",_);case 33:case"end":return E.stop()}},d,null,[[0,8],[12,19],[22,29]])})),function(d){return i.apply(this,arguments)})},{key:"updateStream",value:(l=h(o().mark(function d(){var u,p,_,g,b,E,I,U,Y,K;return o().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(!this._updateAt){ce.next=3;break}return this._updateQueued=!0,ce.abrupt("return");case 3:if(u=this._deviceManager.mediaAccesses.some(function(ae){return ae.constraints.audio}),p=this._deviceManager.mediaAccesses.some(function(ae){return ae.constraints.video}),u||p){ce.next=9;break}return NE(this.stream),VN(),ce.abrupt("return");case 9:return this._updateAt=Date.now(),(_=this.stream)||(g=new MediaStream,zN(g,{audio:u,video:p}),this.stream=g),GN&&NE(_),ce.next=15,this._deviceManager.getMediaConstraints({usingAudio:u,usingVideo:p});case 15:return b=ce.sent,ce.next=18,this._getUserMedia(b);case 18:if((E=ce.sent).getVideoTracks().length>0){I=M(this._deviceManager.mediaAccesses);try{for(I.s();!(U=I.n()).done;)U.value.hasPermission=!0}catch(ae){I.e(ae)}finally{I.f()}}zN(E,{audio:u,video:p}),GN||NE(_),this.stream=E,Y=M(this._deviceManager.mediaAccesses);try{for(Y.s();!(K=Y.n()).done;)K.value.streamChanged(this.stream)}catch(ae){Y.e(ae)}finally{Y.f()}delete this._updateAt,this._updateQueued?(this._updateQueued=!1,this.updateStream()):this._deviceManager.refreshMediaDevices({audio:u,video:p},!0);case 27:case"end":return ce.stop()}},d,this)})),function(){return l.apply(this,arguments)})}]),s}();function qN(s,l){return(s==null?void 0:s.deviceId)===(l==null?void 0:l.deviceId)&&(s==null?void 0:s.label)===(l==null?void 0:l.label)&&(s==null?void 0:s.groupId)===(l==null?void 0:l.groupId)}var Dne=function(){function s(){var p=this;f(this,s),this.mediaAccesses=[],this._availableMediaDevices={audioinput:[],audiooutput:[],videoinput:[]},this._currentMediaDevices={audioinput:void 0,audiooutput:void 0,videoinput:void 0},this._sendbirdCallListeners=new Map,this._streamManager=new Mne(this),navigator.mediaDevices.ondevicechange=function(){return p._onDeviceChanged()}}var l,i,d,u;return v(s,[{key:"_onDeviceChanged",value:function(){this.mediaAccesses.length!==0&&this.refreshMediaDevices({audio:this.mediaAccesses.some(function(p){return p.constraints.audio}),video:this.mediaAccesses.some(function(p){return p.constraints.video})})}},{key:"addSendBirdCallListener",value:function(p,_){this._sendbirdCallListeners.set(p,_)}},{key:"removeSendBirdCallListener",value:function(p){this._sendbirdCallListeners.delete(p)}},{key:"removeAllSendBirdCallListener",value:function(){this._sendbirdCallListeners.clear()}},{key:"getCurrentAudioInputDevice",value:function(){return this._currentMediaDevices.audioinput}},{key:"getCurrentAudioOutputDevice",value:function(){return this._currentMediaDevices.audiooutput}},{key:"getCurrentVideoInputDevice",value:function(){return this._currentMediaDevices.videoinput}},{key:"getAvailableAudioInputDevices",value:function(){return this._availableMediaDevices.audioinput}},{key:"getAvailableAudioOutputDevices",value:function(){return this._availableMediaDevices.audiooutput}},{key:"getAvailableVideoInputDevices",value:function(){return this._availableMediaDevices.videoinput}},{key:"updateStream",value:(u=h(o().mark(function p(){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",this._streamManager.updateStream());case 1:case"end":return _.stop()}},p,this)})),function(){return u.apply(this,arguments)})},{key:"_registerMediaAccess",value:function(p){var _=this;this.mediaAccesses.push(p),p.onDisposed=function(){return _.stopMedia(p)}}},{key:"useMedia",value:function(p){if(p.audio||p.video){var _=new yne(this._streamManager,p);return this._registerMediaAccess(_),this.updateStream(),_}it.error(new Error("you should set true for at least 1 media type."))}},{key:"stopMedia",value:function(p){this.mediaAccesses.splice(this.mediaAccesses.indexOf(p),1),this.updateStream()}},{key:"fetchMediaDevices",value:(d=h(o().mark(function p(){var _;return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,navigator.mediaDevices.enumerateDevices();case 2:return _=g.sent,g.abrupt("return",_.reduce(function(b,E){return b[E.kind].push(E),b},{audioinput:[],audiooutput:[],videoinput:[]}));case 4:case"end":return g.stop()}},p)})),function(){return d.apply(this,arguments)})},{key:"getMediaConstraints",value:(i=h(o().mark(function p(_){var g,b,E,I,U,Y,K,ce;return o().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return g=_.usingAudio,b=_.usingVideo,E={audio:!1,video:!1},ae.next=4,this.fetchMediaDevices();case 4:return I=ae.sent,U=I.audioinput,Y=I.videoinput,g&&U.length&&(K=this.getCurrentAudioInputDevice(),E.audio={deviceId:K==null?void 0:K.deviceId}),b&&Y.length&&(ce=this.getCurrentVideoInputDevice(),E.video=a(a({deviceId:ce==null?void 0:ce.deviceId},DN.value),{},{frameRate:24})),ae.abrupt("return",E);case 10:case"end":return ae.stop()}},p,this)})),function(p){return i.apply(this,arguments)})},{key:"_updateCurrentMediaDevice",value:function(p,_){var g,b=this._availableMediaDevices[p],E=this._currentMediaDevices[p],I=b.find(function(U){return U.deviceId===(_==null?void 0:_.deviceId)});return I||(it.warning("Selected device is unavailable. fallback to default device."),I=((g=I)!==null&&g!==void 0?g:b.length>0)?b[0]:null),this._currentMediaDevices[p]=I,!qN(E,I)}},{key:"_onAudioOutputChanged",value:function(){var p,_=M(this.mediaAccesses);try{for(_.s();!(p=_.n()).done;){var g=p.value;g.constraints.audio&&g.audioOutputChanged()}}catch(b){_.e(b)}finally{_.f()}}},{key:"selectDevice",value:function(p,_){_.kind===p?this._updateCurrentMediaDevice(p,_)&&(p!=="audioinput"&&p!=="videoinput"||this.updateStream(),p==="audiooutput"&&this._onAudioOutputChanged()):it.error(new Error("Tried to select invalid device of type"))}},{key:"_updateAvailableDevices",value:function(p,_){var g,b,E,I=this._currentMediaDevices[p],U=!function(Ne,Ee){if(Ne.length!==Ee.length)return!1;for(var ze=0;ze<Ee.length;ze++)if(!qN(Ne[ze],Ee[ze]))return!1;return!0}(this._availableMediaDevices[p],_);if(!U)return!1;var Y;this._availableMediaDevices[p]=_,Y=this._updateCurrentMediaDevice(p,I);var K,ce=M(this._sendbirdCallListeners.values());try{for(ce.s();!(K=ce.n()).done;){var ae=K.value,pe=this._currentMediaDevices[p];switch(p){case"audioinput":(g=ae.onAudioInputDeviceChanged)===null||g===void 0||g.call(ae,pe,_);break;case"audiooutput":(b=ae.onAudioOutputDeviceChanged)===null||b===void 0||b.call(ae,pe,_);break;case"videoinput":(E=ae.onVideoInputDeviceChanged)===null||E===void 0||E.call(ae,pe,_)}}}catch(Ne){ce.e(Ne)}finally{ce.f()}return Y}},{key:"refreshMediaDevices",value:(l=h(o().mark(function p(_){var g,b,E,I,U,Y,K,ce,ae,pe=arguments;return o().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(g=_.audio,b=_.video,E=pe.length>1&&pe[1]!==void 0&&pe[1],g||b){Ne.next=4;break}throw new Error("at least one of the audio or video must be true");case 4:return Ne.next=6,this.fetchMediaDevices();case 6:I=Ne.sent,U=I.audioinput,Y=I.audiooutput,K=I.videoinput,ce=!1,ae=!1,g&&(ce=this._updateAvailableDevices("audioinput",U),ae=this._updateAvailableDevices("audiooutput",Y)),b&&(ce=this._updateAvailableDevices("videoinput",K)||ce),!E&&ce&&this.updateStream(),ae&&this._onAudioOutputChanged();case 16:case"end":return Ne.stop()}},p,this)})),function(p){return l.apply(this,arguments)})}]),s}(),jN="v1.0.0-beta.8",Lne=function(){function s(l){f(this,s),this._parse=l}return v(s,[{key:"parseToJson",value:function(l){try{return JSON.parse(l)}catch{return{}}}},{key:"validate",value:function(l){var i=l.cmd,d=l.request_id,u=l.call_type;return!!(d||i||u)}},{key:"parseCommand",value:function(l){return l.error?{isValid:!0,error:{requestId:l.request_id,message:l.message,code:l.code}}:{isValid:!0,command:this._parse(l)}}},{key:"parse",value:function(l){var i=this.parseToJson(l);return this.validate(i)?this.parseCommand(i):{isValid:!1}}}]),s}(),Une=function(s){w(i,s);var l=O(i);function i(d){var u,p;return f(this,i),(p=l.call(this))._ctx=d,p._ws=null,p._retryTimer=null,p._closed=!0,p._sessionKey=null,p._requestMap=new SC(p._getTimeoutTime()),p._messageParser=new Lne(p._ctx.parse),p._hostUrl=(u=p._ctx.websocketHost)!==null&&u!==void 0?u:"wss://ws-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",p._ctx.appId),p}return v(i,[{key:"connect",value:function(){var d=this;return new Promise(function(u,p){var _;d._sessionKey||p(new Error("tried to connect to websocket server without auth")),((_=d._ws)===null||_===void 0?void 0:_.readyState)===0&&p(new Error("websocket is reconnecting already")),d._disconnect(),d._ws=d._createWebSocket(),d._closed=!1,d._ws.onopen=function(){d._onOpen(),u(null)},d._ws.onmessage=function(g){var b=d._messageParser.parse(g.data),E=b.isValid,I=b.error,U=b.command;E&&(I?d._processError(I):d.processCommand(U))},d._ws.onerror=function(g){return d._onError(g)},d._ws.onclose=function(){d._onClose(),p(new Error("websocket connection failed"))}})}},{key:"_processError",value:function(d){var u=d.requestId,p=d.code,_=d.message,g=this._requestMap.unregister(u);g&&(it.debug(u,d.message),g.reject(new Sd(p,{message:_})))}},{key:"processCommand",value:function(d){this._dispatchEvent("command",d)}},{key:"setSessionKey",value:function(d){this._sessionKey=d}},{key:"clearSessionKey",value:function(){this._disconnect(),this._sessionKey=null}},{key:"_disconnect",value:function(){this._ws&&(this._closed=!0,this._removeRetryTimer(),this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close(),this._requestMap.rejectAll(new Error("request failed due to websocket connection lost")),this._ws=null)}},{key:"isConnected",get:function(){return!!this._ws&&this._ws.readyState===1}},{key:"_onOpen",value:function(){}},{key:"_onError",value:function(d){}},{key:"_onClose",value:function(){this.startToReconnect()}},{key:"_createWebSocket",value:function(){var d="/?sbcall_session_token=".concat(encodeURIComponent(this._sessionKey),"&sbcall_client_id=").concat(encodeURIComponent(this._ctx.clientId),"&sendbird=").concat(encodeURIComponent(this._getVersion()));return new WebSocket(this._getHost()+d)}},{key:"_getVersion",value:function(){return"JS,".concat(this._getOsVersion(),",").concat(jN)}},{key:"_getHost",value:function(){return this._hostUrl}},{key:"startToReconnect",value:function(){this._closed||this._retryTimer||(this._retryTimer=setTimeout(this._reconnect.bind(this),this._getRetryTime()))}},{key:"_reconnect",value:function(){var d=this;this._removeRetryTimer(),b2(new kC(5e3,1e3,void 0),function(){return d.connect()},{onError:function(u){it.error("Fail reconnect WebSocket ErrorCode = ".concat(u.code))}})}},{key:"_removeRetryTimer",value:function(){this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null)}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_getRetryTime",value:function(){return 2e3}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),i}(Sl),Pne=function(){function s(i){var d;f(this,s),this._ctx=i,this._fetch=function(){var u;return(u=window).fetch.apply(u,arguments)},this._sessionKey=null,this._hostUrl=(d=this._ctx.apiHost)!==null&&d!==void 0?d:"https://api-IDENTIFIER.calls.sendbird.com".replace("IDENTIFIER",this._ctx.appId)}var l;return v(s,[{key:"setSessionKey",value:function(i){this._sessionKey=i}},{key:"clearSessionKey",value:function(){this._sessionKey=null}},{key:"send",value:(l=h(o().mark(function i(d){var u,p,_,g,b,E;return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(d.getApiOption){I.next=2;break}throw new Error("invalid api request ".concat(JSON.stringify(d)));case 2:if(!(u=d.getApiOption()).auth||this._sessionKey){I.next=5;break}throw new Error("tried to call private api without auth");case 5:return p=a({},u.headers),u.body instanceof FormData||(p["Content-Type"]="application/json"),p.SendBird="JS,".concat(this._getOsVersion(),",").concat(jN),p["SBCall-Client-Id"]=this._ctx.clientId,this._sessionKey&&(p["SBCall-Session-Token"]=this._sessionKey),I.next=12,this._fetch("".concat(this._getHost()).concat(u.path),{method:u.method,body:u.body instanceof FormData?u.body:JSON.stringify(u.body),headers:p});case 12:return _=I.sent,I.next=15,_.text();case 15:g=I.sent,b=null,I.prev=17,b=JSON.parse(g),I.next=24;break;case 21:throw I.prev=21,I.t0=I.catch(17),new Sd(ba.ERR_MALFORMED_DATA);case 24:if(_.ok){I.next=34;break}if(!b.error){I.next=29;break}throw new Sd(b.code,{message:b.message});case 29:if(_.status!==500){I.next=31;break}throw new Sd(ba.INTERNAL_SERVER_ERROR);case 31:if(!(_.status>=300&&_.status<400)){I.next=33;break}throw new Sd(ba.ERR_MALFORMED_DATA);case 33:throw new Sd(ba.ERR_REQUEST_FAILED);case 34:if(I.prev=34,!(E=this._ctx.parseResponse(d,b))){I.next=38;break}return I.abrupt("return",E);case 38:I.next=43;break;case 40:return I.prev=40,I.t1=I.catch(34),I.abrupt("return",b);case 43:return I.abrupt("return",b);case 44:case"end":return I.stop()}},i,this,[[17,21],[34,40]])})),function(i){return l.apply(this,arguments)})},{key:"_getHost",value:function(){return this._hostUrl}},{key:"_getOsVersion",value:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),s}(),Fne=function(s){w(p,s);var l,i,d,u=O(p);function p(_){var g;return f(this,p),(g=u.call(this))._ctx=_,g.wsClient=new Une(a(a({},_),{},{parse:function(b){return Er.parse(b)}})),g.apiClient=new Pne(a(a({},_),{},{parseResponse:function(b,E){return Er.parseResponse(b,E)}})),g._unsubscriber=g.wsClient.on("command",function(b){g._dispatchEvent("command",b)}),g}return v(p,[{key:"connectWs",value:function(){return this.wsClient.connect()}},{key:"reconnectWs",value:function(){return this.wsClient.startToReconnect()}},{key:"sendAPI",value:function(_){return this.apiClient.send(_)}},{key:"send",value:(d=h(o().mark(function _(g){return o().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",this.sendAPI(g));case 1:case"end":return b.stop()}},_,this)})),function(_){return d.apply(this,arguments)})},{key:"sendWithRetry",value:(i=h(o().mark(function _(g){var b,E,I,U,Y,K,ce=this,ae=arguments;return o().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return b=ae.length>1&&ae[1]!==void 0?ae[1]:new lQ,E=ae.length>2&&ae[2]!==void 0?ae[2]:{count:0,deferred:new g2},I=E.deferred,U=E.count,pe.prev=3,pe.next=6,this.send(g);case 6:Y=pe.sent,I.resolve(Y),pe.next=14;break;case 10:pe.prev=10,pe.t0=pe.catch(3),(K=b.calcTimeout(U))>0?setTimeout(function(){ce.sendWithRetry(g,b,{count:U+1,deferred:I})},K):I.reject(pe.t0);case 14:return pe.abrupt("return",I.promise);case 15:case"end":return pe.stop()}},_,this,[[3,10]])})),function(_){return i.apply(this,arguments)})},{key:"_setSessionKey",value:function(_){this.apiClient.setSessionKey(_),this.wsClient.setSessionKey(_)}},{key:"authenticate",value:(l=h(o().mark(function _(g){var b,E,I,U;return o().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return b=g.userId,E=g.accessToken,Y.prev=1,Y.next=4,this._ctx.sb.connect(b,E);case 4:return I=Er.createAuth(this._ctx.appId,b,E),Y.next=7,this.send(I);case 7:U=Y.sent,this._setSessionKey(U.sbcall_session_token),this._ctx.liveEventManager.userId=U.user.user_id,Y.next=16;break;case 12:throw Y.prev=12,Y.t0=Y.catch(1),it.error("failed to authenticate user ".concat(b)),Y.t0;case 16:case"end":return Y.stop()}},_,this,[[1,12]])})),function(_){return l.apply(this,arguments)})},{key:"deauthenticate",value:function(){this.apiClient.clearSessionKey(),this.wsClient.clearSessionKey()}}]),p}(Sl),Hne=th,Bne=co,$ne=xn,zne=RangeError,KN=ln,Vne=F_,WN=co,Gne=function(s){var l=Bne($ne(this)),i="",d=Hne(s);if(d<0||d==1/0)throw zne("Wrong number of repetitions");for(;d>0;(d>>>=1)&&(l+=l))1&d&&(i+=l);return i},qne=xn,jne=KN(Gne),Kne=KN("".slice),Wne=Math.ceil,QN=function(s){return function(l,i,d){var u,p,_=WN(qne(l)),g=Vne(i),b=_.length,E=d===void 0?" ":WN(d);return g<=b||E==""?_:((p=jne(E,Wne((u=g-b)/E.length))).length>u&&(p=Kne(p,0,u)),s?_+p:p+_)}},Qne={start:QN(!1),end:QN(!0)},Yne=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(qe),Xne=Qne.start;Pr({target:"String",proto:!0,forced:Yne},{padStart:function(s){return Xne(this,s,arguments.length>1?arguments[1]:void 0)}});var AE={VERBOSE:{level:-1,name:Ua.VERBOSE,public:!1},DEBUG:{level:1,name:Ua.DEBUG,public:!1},INFO:{level:2,name:Ua.INFO,public:!0},WARNING:{level:3,name:Ua.WARNING,public:!0},ERROR:{level:4,name:Ua.ERROR,public:!0},NONE:{level:100,name:Ua.NONE,public:!0}},Zne=function(s){w(i,s);var l=O(i);function i(d){return f(this,i),l.call(this,d)}return v(i,[{key:"_getLogType",value:function(d){switch(d){case Ua.ERROR:return"error";case Ua.WARNING:return"warn";default:return"log"}}},{key:"_getTimeString",value:function(d){var u=d.getFullYear().toString().padStart(2,"0"),p=(d.getMonth()+1).toString().padStart(2,"0"),_=d.getDate().toString().padStart(2,"0"),g=d.getHours().toString().padStart(2,"0"),b=d.getMinutes().toString().padStart(2,"0"),E=d.getSeconds().toString().padStart(2,"0"),I=d.getMilliseconds().toString().padStart(2,"0");return"[".concat(u,".").concat(p,".").concat(_," ").concat(g,":").concat(b,":").concat(E,":").concat(I,"]")}},{key:"_permit",value:function(d){var u=this._getLogType(d),p=new Date;if(this._enabledFor(d)&&console&&console[u]){for(var _,g="".concat(this._getTimeString(p)," [").concat(d,"]"),b=arguments.length,E=new Array(b>1?b-1:0),I=1;I<b;I++)E[I-1]=arguments[I];(_=console)[u].apply(_,[g].concat(E))}}}]),i}(function(){function s(l){f(this,s),this.level=l||Ua.NONE}return v(s,[{key:"setLoggerLevel",value:function(l){var i;return(i=AE[l])!==null&&i!==void 0&&i.public&&(this.level=l),this.level}},{key:"_enabledFor",value:function(l){try{return AE[this.level].level<=AE[l].level}catch{return!1}}}]),s}());/*!
 Copyright 2018 Google Inc. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*//*! lifecycle.mjs v0.1.1 */let ov;try{new EventTarget,ov=!0}catch{ov=!1}var Jne=ov?EventTarget:class{constructor(){this.e={}}addEventListener(s,l,i=!1){this.t(s).push(l)}removeEventListener(s,l,i=!1){const d=this.t(s),u=d.indexOf(l);u>-1&&d.splice(u,1)}dispatchEvent(s){return s.target=this,Object.freeze(s),this.t(s.type).forEach(l=>l(s)),!0}t(s){return this.e[s]=this.e[s]||[]}},ete=ov?Event:class{constructor(s){this.type=s}};class nte extends ete{constructor(l,i){super(l),this.newState=i.newState,this.oldState=i.oldState,this.originalEvent=i.originalEvent}}const eu="active",Mp="passive",nu="hidden",tu="frozen",OE="terminated",YN=typeof safari=="object"&&safari.pushNotification,tte=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],XN=s=>(s.preventDefault(),s.returnValue="Are you sure?"),rte=[[eu,Mp,nu,OE],[eu,Mp,nu,tu],[nu,Mp,eu],[tu,nu],[tu,eu],[tu,Mp]].map(s=>s.reduce((l,i,d)=>(l[i]=d,l),{})),lv=()=>document.visibilityState===nu?nu:document.hasFocus()?eu:Mp;var ZN=new class extends Jne{constructor(){super();const s=lv();this.s=s,this.i=[],this.a=this.a.bind(this),tte.forEach(l=>addEventListener(l,this.a,!0)),YN&&addEventListener("beforeunload",l=>{this.n=setTimeout(()=>{l.defaultPrevented||l.returnValue.length>0||this.r(l,nu)},0)})}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(s){!this.i.indexOf(s)>-1&&(this.i.length===0&&addEventListener("beforeunload",XN),this.i.push(s))}removeUnsavedChanges(s){const l=this.i.indexOf(s);l>-1&&(this.i.splice(l,1),this.i.length===0&&removeEventListener("beforeunload",XN))}r(s,l){if(l!==this.s){const i=((d,u)=>{for(let p,_=0;p=rte[_];++_){const g=p[d],b=p[u];if(g>=0&&b>=0&&b>g)return Object.keys(p).slice(g,b+1)}return[]})(this.s,l);for(let d=0;d<i.length-1;++d){const u=i[d],p=i[d+1];this.s=p,this.dispatchEvent(new nte("statechange",{oldState:u,newState:p,originalEvent:s}))}}}a(s){switch(YN&&clearTimeout(this.n),s.type){case"pageshow":case"resume":this.r(s,lv());break;case"focus":this.r(s,eu);break;case"blur":this.s===eu&&this.r(s,lv());break;case"pagehide":case"unload":this.r(s,s.persisted?tu:OE);break;case"visibilitychange":this.s!==tu&&this.s!==OE&&this.r(s,lv());break;case"freeze":this.r(s,tu)}}},ite=function(s){w(i,s);var l=O(i);function i(){var d;return f(this,i),(d=l.call(this))._currentState="active",d}return v(i,[{key:"_onStateChanged",value:function(d){d.newState!=="hidden"?this._currentState==="hidden"&&this._dispatchEvent("resume"):this._currentState!=="hidden"&&this._dispatchEvent("pause"),this._currentState=d.newState}},{key:"start",value:function(){var d=this;ZN.addEventListener("statechange",function(u){return d._onStateChanged(u)})}},{key:"stop",value:function(){var d=this;ZN.removeEventListener("statechange",function(u){return d._onStateChanged(u)})}}]),i}(Sl),ate=function(){function s(){f(this,s),y(this,"_ctx",{})}var l,i,d,u;return v(s,[{key:"init",value:function(p){var _=p.appId,g=p.chatInstance;this._ctx.sb=g||zee.init({appId:_,modules:[new hne]}),this._visibilityDetector=new ite,this._consoleLogListener=new Zne(Ua.NONE),it.addListener(this._consoleLogListener),this._ctx.appId=_,this._ctx.clientId=De(),this._ctx.commandRouter=new Fne(this._ctx),this._ctx.deviceManager=new Dne,this._ctx.liveEventManager=new pne(this._ctx)}},{key:"setLoggerLevel",value:function(p){return this._consoleLogListener.setLoggerLevel(p)}},{key:"authenticate",value:(u=h(o().mark(function p(_,g){var b=this;return o().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this._ctx.commandRouter.authenticate({userId:_,accessToken:g});case 2:return E.next=4,this._ctx.commandRouter.connectWs();case 4:this._visibilityDetector.start(),this._visibilityDetector.on("resume",function(){b._ctx.commandRouter.reconnectWs(),b._ctx.deviceManager.updateStream()});case 6:case"end":return E.stop()}},p,this)})),function(p,_){return u.apply(this,arguments)})},{key:"deauthenticate",value:(d=h(o().mark(function p(){return o().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this._ctx.sb.disconnect();case 2:this._ctx.commandRouter.deauthenticate(),this._ctx.liveEventManager.clear(),this._visibilityDetector.stop(),this._visibilityDetector.removeAllEventListeners(),it.removeAllListener();case 7:case"end":return _.stop()}},p,this)})),function(){return d.apply(this,arguments)})},{key:"createLiveEvent",value:(i=h(o().mark(function p(_){return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._ctx.liveEventManager.createLiveEvent(_));case 1:case"end":return g.stop()}},p,this)})),function(p){return i.apply(this,arguments)})},{key:"getLiveEvent",value:(l=h(o().mark(function p(_){return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",this._ctx.liveEventManager.getLiveEvent(_));case 1:case"end":return g.stop()}},p,this)})),function(p){return l.apply(this,arguments)})},{key:"createLiveEventListQuery",value:function(p){return new VG(p,this._ctx.commandRouter,this._ctx.liveEventManager)}},{key:"useMedia",value:function(p){return this._ctx.deviceManager.useMedia(p)}},{key:"updateMediaDevices",value:function(p){return this._ctx.deviceManager.refreshMediaDevices(p)}},{key:"getCurrentAudioInputDevice",value:function(){return this._ctx.deviceManager.getCurrentAudioInputDevice()}},{key:"getAvailableAudioInputDevices",value:function(){return this._ctx.deviceManager.getAvailableAudioInputDevices()}},{key:"selectAudioInput",value:function(p){return this._ctx.deviceManager.selectDevice("audioinput",p)}},{key:"setAudioInputDeviceChanged",value:function(p){var _=this;if(this._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED"),p)return this._ctx.deviceManager.addSendBirdCallListener("AUDIO_DEVICE_CHANGED",{onAudioInputDeviceChanged:p}),function(){_._ctx.deviceManager.removeSendBirdCallListener("AUDIO_DEVICE_CHANGED")}}},{key:"getCurrentVideoInputDevice",value:function(){return this._ctx.deviceManager.getCurrentVideoInputDevice()}},{key:"getAvailableVideoInputDevices",value:function(){return this._ctx.deviceManager.getAvailableVideoInputDevices()}},{key:"selectVideoInput",value:function(p){return this._ctx.deviceManager.selectDevice("videoinput",p)}},{key:"setVideoInputDeviceChanged",value:function(p){var _=this;if(this._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED"),p)return this._ctx.deviceManager.addSendBirdCallListener("VIDEO_DEVICE_CHANGED",{onVideoInputDeviceChanged:p}),function(){_._ctx.deviceManager.removeSendBirdCallListener("VIDEO_DEVICE_CHANGED")}}}],[{key:"CameraOverlayPosition",get:function(){return mh}}]),s}(),ste=new ate;e.ErrorCode=ba,e.HostState=L5,e.LiveEvent=x2,e.LiveEventRole=vm,e.LiveEventState=D5,e.ParticipantState=cj,e.SendbirdLive=ste,Object.defineProperty(e,"__esModule",{value:!0})})})(qr,qr.exports);var Uie="sendbird-modal-root";function ma(n,t){t===void 0&&(t={});var e=t.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var Pie=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbird-modal__mask {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-modal__mask {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__mask {
  background-color: var(--sendbird-dark-overlay-02);
}

.sendbird-modal__container {
  position: relative;
  z-index: 100001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px 24px 24px 24px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-modal__container {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__container {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}

.sendbird-modal__wrapper {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal--header {
  position: relative;
  margin-bottom: 16px;
}
.sendbird-modal--header .sendbird-modal--close {
  display: inline-block;
  position: absolute;
  right: 0;
  top: 0;
}

.sendbird-modal--footer {
  margin-top: 32px;
  text-align: right;
}
.sendbird-modal--footer .sendbird-button:last-child {
  margin-left: 8px;
}`;ma(Pie);var Fie=function(n){var t=n.children,e=n.isOpen,r=e===void 0?!1:e;n.close;var a=n.modalRoot,o=a===void 0?Uie:a,c=n.className,h=c===void 0?"":c,f=n.modalClassName,m=f===void 0?"":f;if(!r)return null;var v=document.getElementById(o);return A0.exports.createPortal(R.createElement("div",{className:"sendbird-modal__wrapper ".concat(h)},R.createElement("div",{className:"sendbird-modal__mask"}),R.createElement("div",{className:"sendbird-modal__container ".concat(m)},t)),v)},hc=function(n,t){var e=Oe.exports.useState(!1),r=e[0],a=e[1],o=Oe.exports.useCallback(function(){return a(!0)},[a]),c=Oe.exports.useCallback(function(){return a(!1)},[a]),h=function(f){var m=f.children;return R.createElement(Fie,{isOpen:r,close:c,className:n,modalClassName:t},m)};return[h,o,c]};function pO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function bn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(e),!0).forEach(function(r){Jd(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pO(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Jd(n,t,e){return t=Bie(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function y0(){return y0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},y0.apply(this,arguments)}function Hie(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Bie(n){var t=Hie(n,"string");return typeof t=="symbol"?t:String(t)}const RL=R.createContext({});/*!
 * css-vars-ponyfill
 * v2.4.8
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function rs(){return rs=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},rs.apply(this,arguments)}/*!
* get-css-data
* v2.1.0
* https://github.com/jhildenbiddle/get-css-data
* (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>
* MIT license
*/function fO(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={mimeType:t.mimeType||null,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},r=Array.isArray(n)?n:[n],a=Array.apply(null,Array(r.length)).map(function(m){return null});function o(m){var v=typeof m=="string",y=v&&m.trim().charAt(0)==="<";return v&&!y}function c(m,v){e.onError(m,r[v],v)}function h(m,v){var y=e.onSuccess(m,r[v],v);m=y===!1?"":y||m,a[v]=m,a.indexOf(null)===-1&&e.onComplete(a)}var f=document.createElement("a");r.forEach(function(m,v){f.setAttribute("href",m),f.href=String(f.href);var y=Boolean(document.all&&!window.atob),w=y&&f.host.split(":")[0]!==location.host.split(":")[0];if(w){var x=f.protocol===location.protocol;if(x){var C=new XDomainRequest;C.open("GET",m),C.timeout=0,C.onprogress=Function.prototype,C.ontimeout=Function.prototype,C.onload=function(){var L=C.responseText;o(L)?h(L,v):c(C,v)},C.onerror=function(L){c(C,v)},setTimeout(function(){C.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(m,")")),c(null,v)}else{var A=new XMLHttpRequest;A.open("GET",m),e.mimeType&&A.overrideMimeType&&A.overrideMimeType(e.mimeType),e.onBeforeSend(A,m,v),A.onreadystatechange=function(){if(A.readyState===4){var L=A.responseText;A.status<400&&o(L)||A.status===0&&o(L)?h(L,v):c(A,v)}},A.send()}})}/**
* Gets CSS data from <style> and <link> nodes (including @imports), then
* returns data in order processed by DOM. Allows specifying nodes to
* include/exclude and filtering CSS data using RegEx.
*
* @preserve
* @param {object}   [options] The options object
* @param {object}   [options.rootElement=document] Root element to traverse for
*                   <link> and <style> nodes.
* @param {string}   [options.include] CSS selector matching <link> and <style>
*                   nodes to include
* @param {string}   [options.exclude] CSS selector matching <link> and <style>
*                   nodes to exclude
* @param {object}   [options.filter] Regular expression used to filter node CSS
*                   data. Each block of CSS data is tested against the filter,
*                   and only matching data is included.
* @param {boolean}  [options.skipDisabled=true] Determines if disabled
*                   stylesheets will be skipped while collecting CSS data.
* @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
*                   collected from a stylesheet's runtime values instead of its
*                   text content. This is required to get accurate CSS data
*                   when a stylesheet has been modified using the deleteRule()
*                   or insertRule() methods because these modifications will
*                   not be reflected in the stylesheet's text content.
* @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
*                   1) the XHR object, 2) source node reference, and 3) the
*                   source URL as arguments.
* @param {function} [options.onSuccess] Callback on each CSS node read. Passes
*                   1) CSS text, 2) source node reference, and 3) the source
*                   URL as arguments.
* @param {function} [options.onError] Callback on each error. Passes 1) the XHR
*                   object for inspection, 2) soure node reference, and 3) the
*                   source URL that failed (either a <link> href or an @import)
*                   as arguments
* @param {function} [options.onComplete] Callback after all nodes have been
*                   processed. Passes 1) concatenated CSS text, 2) an array of
*                   CSS text in DOM order, and 3) an array of nodes in DOM
*                   order as arguments.
*
* @example
*
*   getCssData({
*     rootElement : document,
*     include     : 'style,link[rel="stylesheet"]',
*     exclude     : '[href="skip.css"]',
*     filter      : /red/,
*     skipDisabled: true,
*     useCSSOM    : false,
*     onBeforeSend(xhr, node, url) {
*       // ...
*     }
*     onSuccess(cssText, node, url) {
*       // ...
*     }
*     onError(xhr, node, url) {
*       // ...
*     },
*     onComplete(cssText, cssArray, nodeArray) {
*       // ...
*     }
*   });
*/function _O(n){var t={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},e={rootElement:n.rootElement||document,include:n.include||'style,link[rel="stylesheet"]',exclude:n.exclude||null,filter:n.filter||null,skipDisabled:n.skipDisabled!==!1,useCSSOM:n.useCSSOM||!1,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.apply(null,e.rootElement.querySelectorAll(e.include)).filter(function(m){return!$ie(m,e.exclude)}),a=Array.apply(null,Array(r.length)).map(function(m){return null});function o(){var m=a.indexOf(null)===-1;if(m){a.reduce(function(y,w,x){return w===""&&y.push(x),y},[]).reverse().forEach(function(y){return[r,a].forEach(function(w){return w.splice(y,1)})});var v=a.join("");e.onComplete(v,a,r)}}function c(m,v,y,w){var x=e.onSuccess(m,y,w);m=x!==void 0&&Boolean(x)===!1?"":x||m,f(m,y,w,function(C,A){a[v]===null&&(A.forEach(function(L){return e.onError(L.xhr,y,L.url)}),!e.filter||e.filter.test(C)?a[v]=C:a[v]="",o())})}function h(m,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],w={};return w.rules=(m.replace(t.cssComments,"").match(t.cssImports)||[]).filter(function(x){return y.indexOf(x)===-1}),w.urls=w.rules.map(function(x){return x.replace(t.cssImports,"$1")}),w.absoluteUrls=w.urls.map(function(x){return y3(x,v)}),w.absoluteRules=w.rules.map(function(x,C){var A=w.urls[C],L=y3(w.absoluteUrls[C],v);return x.replace(A,L)}),w}function f(m,v,y,w){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],A=h(m,y,C);A.rules.length?fO(A.absoluteUrls,{onBeforeSend:function(S,k,N){e.onBeforeSend(S,v,k)},onSuccess:function(S,k,N){var O=e.onSuccess(S,v,k);S=O===!1?"":O||S;var H=h(S,k,C);return H.rules.forEach(function(D,T){S=S.replace(D,H.absoluteRules[T])}),S},onError:function(S,k,N){x.push({xhr:S,url:k}),C.push(A.rules[N]),f(m,v,y,w,x,C)},onComplete:function(S){S.forEach(function(k,N){m=m.replace(A.rules[N],k)}),f(m,v,y,w,x,C)}}):w(m,x)}r.length?r.forEach(function(m,v){var y=m.getAttribute("href"),w=m.getAttribute("rel"),x=m.nodeName.toLowerCase()==="link"&&y&&w&&w.toLowerCase().indexOf("stylesheet")!==-1,C=e.skipDisabled===!1?!1:m.disabled,A=m.nodeName.toLowerCase()==="style";if(x&&!C){var L=y.indexOf("data:text/css")!==-1;if(L){var S=decodeURIComponent(y.substring(y.indexOf(",")+1));e.useCSSOM&&(S=Array.apply(null,m.sheet.cssRules).map(function(N){return N.cssText}).join("")),c(S,v,m,location.href)}else fO(y,{mimeType:"text/css",onBeforeSend:function(O,H,D){e.onBeforeSend(O,m,H)},onSuccess:function(O,H,D){var T=y3(y);c(O,v,m,T)},onError:function(O,H,D){a[v]="",e.onError(O,m,H),o()}})}else if(A&&!C){var k=m.textContent;e.useCSSOM&&(k=Array.apply(null,m.sheet.cssRules).map(function(N){return N.cssText}).join("")),c(k,v,m,location.href)}else a[v]="",o()}):e.onComplete("",[])}function y3(n,t){var e=document.implementation.createHTMLDocument(""),r=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(r),e.body.appendChild(a),r.href=t||document.baseURI||(document.querySelector("base")||{}).href||location.href,a.href=n,a.href}function $ie(n,t){var e=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return e.call(n,t)}var ML=DL;function DL(n,t,e){n instanceof RegExp&&(n=mO(n,e)),t instanceof RegExp&&(t=mO(t,e));var r=LL(n,t,e);return r&&{start:r[0],end:r[1],pre:e.slice(0,r[0]),body:e.slice(r[0]+n.length,r[1]),post:e.slice(r[1]+t.length)}}function mO(n,t){var e=t.match(n);return e?e[0]:null}DL.range=LL;function LL(n,t,e){var r,a,o,c,h,f=e.indexOf(n),m=e.indexOf(t,f+1),v=f;if(f>=0&&m>0){if(n===t)return[f,m];for(r=[],o=e.length;v>=0&&!h;)v==f?(r.push(v),f=e.indexOf(n,v+1)):r.length==1?h=[r.pop(),m]:(a=r.pop(),a<o&&(o=a,c=m),m=e.indexOf(t,v+1)),v=f<m&&f>=0?f:m;r.length&&(h=[o,c])}return h}function hk(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={preserveStatic:!0,removeComments:!1},r=rs({},e,t),a=[];function o(B){throw new Error("CSS parse error: ".concat(B))}function c(B){var W=B.exec(n);if(W)return n=n.slice(W[0].length),W}function h(){return c(/^{\s*/)}function f(){return c(/^}/)}function m(){c(/^\s*/)}function v(){if(m(),!(n[0]!=="/"||n[1]!=="*")){for(var B=2;n[B]&&(n[B]!=="*"||n[B+1]!=="/");)B++;if(!n[B])return o("end of comment is missing");var W=n.slice(2,B);return n=n.slice(B+2),{type:"comment",comment:W}}}function y(){for(var B=[],W;W=v();)B.push(W);return r.removeComments?[]:B}function w(){for(m();n[0]==="}";)o("extra closing bracket");var B=c(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(B){var W=B[0].trim(),re,j=/\/\*/.test(W);j&&(W=W.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var _e=/["']\w*,\w*["']/.test(W);_e&&(W=W.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(se){return se.replace(/,/g,"\u200C")}));var ie=/,/.test(W);return ie?re=W.split(/\s*(?![^(]*\)),\s*/):re=[W],_e&&(re=re.map(function(se){return se.replace(/\u200C/g,",")})),re}}function x(){if(n[0]==="@")return z();c(/^([;\s]*)+/);var B=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,W=c(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(!!W){if(W=W[0].trim(),!c(/^:\s*/))return o("property missing ':'");var re=c(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),j={type:"declaration",property:W.replace(B,""),value:re?re[0].replace(B,"").trim():""};return c(/^[;\s]*/),j}}function C(){if(!h())return o("missing '{'");for(var B,W=y();B=x();)W.push(B),W=W.concat(y());return f()?W:o("missing '}'")}function A(){m();for(var B=[],W;W=c(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)B.push(W[1]),c(/^,\s*/);if(B.length)return{type:"keyframe",values:B,declarations:C()}}function L(){var B=c(/^@([-\w]+)?keyframes\s*/);if(!!B){var W=B[1];if(B=c(/^([-\w]+)\s*/),!B)return o("@keyframes missing name");var re=B[1];if(!h())return o("@keyframes missing '{'");for(var j,_e=y();j=A();)_e.push(j),_e=_e.concat(y());return f()?{type:"keyframes",name:re,vendor:W,keyframes:_e}:o("@keyframes missing '}'")}}function S(){var B=c(/^@page */);if(B){var W=w()||[];return{type:"page",selectors:W,declarations:C()}}}function k(){var B=c(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(B){var W="".concat(B[1],"-").concat(B[2])+(B[3]?"-".concat(B[3]):"");return{type:"page-margin-box",name:W,declarations:C()}}}function N(){var B=c(/^@font-face\s*/);if(B)return{type:"font-face",declarations:C()}}function O(){var B=c(/^@supports *([^{]+)/);if(B)return{type:"supports",supports:B[1].trim(),rules:he()}}function H(){var B=c(/^@host\s*/);if(B)return{type:"host",rules:he()}}function D(){var B=c(/^@media([^{]+)*/);if(B)return{type:"media",media:(B[1]||"").trim(),rules:he()}}function T(){var B=c(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(B)return{type:"custom-media",name:B[1].trim(),media:B[2].trim()}}function M(){var B=c(/^@([-\w]+)?document *([^{]+)/);if(B)return{type:"document",document:B[2].trim(),vendor:B[1]?B[1].trim():null,rules:he()}}function q(){var B=c(/^@(import|charset|namespace)\s*([^;]+);/);if(B)return{type:B[1],name:B[2].trim()}}function z(){if(m(),n[0]==="@"){var B=q()||N()||D()||L()||O()||M()||T()||H()||S()||k();if(B&&!r.preserveStatic){var W=!1;if(B.declarations)W=B.declarations.some(function(j){return/var\(/.test(j.value)});else{var re=B.keyframes||B.rules||[];W=re.some(function(j){return(j.declarations||[]).some(function(_e){return/var\(/.test(_e.value)})})}return W?B:{}}return B}}function te(){if(!r.preserveStatic){var B=ML("{","}",n);if(B){var W=/:(?:root|host)(?![.:#(])/.test(B.pre)&&/--\S*\s*:/.test(B.body),re=/var\(/.test(B.body);if(!W&&!re)return n=n.slice(B.end+1),{}}}var j=w()||[],_e=r.preserveStatic?C():C().filter(function(ie){var se=j.some(function(Me){return/:(?:root|host)(?![.:#(])/.test(Me)})&&/^--\S/.test(ie.property),me=/var\(/.test(ie.value);return se||me});return j.length||o("selector missing"),{type:"rule",selectors:j,declarations:_e}}function he(B){if(!B&&!h())return o("missing '{'");for(var W,re=y();n.length&&(B||n[0]!=="}")&&(W=z()||te());)W.type&&re.push(W),re=re.concat(y());return!B&&!f()?o("missing '}'"):re}return{type:"stylesheet",stylesheet:{rules:he(!0),errors:a}}}function vO(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={parseHost:!1,store:{},onWarning:function(){}},r=rs({},e,t),a=new RegExp(":".concat(r.parseHost?"host":"root","$"));return typeof n=="string"&&(n=hk(n,r)),n.stylesheet.rules.forEach(function(o){o.type!=="rule"||!o.selectors.some(function(c){return a.test(c)})||o.declarations.forEach(function(c,h){var f=c.property,m=c.value;f&&f.indexOf("--")===0&&(r.store[f]=m)})}),r.store}function UL(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e=arguments.length>2?arguments[2]:void 0,r={charset:function(c){return"@charset "+c.name+";"},comment:function(c){return c.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+c.comment+"*/":""},"custom-media":function(c){return"@custom-media "+c.name+" "+c.media+";"},declaration:function(c){return c.property+":"+c.value+";"},document:function(c){return"@"+(c.vendor||"")+"document "+c.document+"{"+a(c.rules)+"}"},"font-face":function(c){return"@font-face{"+a(c.declarations)+"}"},host:function(c){return"@host{"+a(c.rules)+"}"},import:function(c){return"@import "+c.name+";"},keyframe:function(c){return c.values.join(",")+"{"+a(c.declarations)+"}"},keyframes:function(c){return"@"+(c.vendor||"")+"keyframes "+c.name+"{"+a(c.keyframes)+"}"},media:function(c){return"@media "+c.media+"{"+a(c.rules)+"}"},namespace:function(c){return"@namespace "+c.name+";"},page:function(c){return"@page "+(c.selectors.length?c.selectors.join(", "):"")+"{"+a(c.declarations)+"}"},"page-margin-box":function(c){return"@"+c.name+"{"+a(c.declarations)+"}"},rule:function(c){var h=c.declarations;if(h.length)return c.selectors.join(",")+"{"+a(h)+"}"},supports:function(c){return"@supports "+c.supports+"{"+a(c.rules)+"}"}};function a(o){for(var c="",h=0;h<o.length;h++){var f=o[h];e&&e(f);var m=r[f.type](f);m&&(c+=m,m.length&&f.selectors&&(c+=t))}return c}return a(n.stylesheet.rules)}function PL(n,t){n.rules.forEach(function(e){if(e.rules){PL(e,t);return}if(e.keyframes){e.keyframes.forEach(function(r){r.type==="keyframe"&&t(r.declarations,e)});return}!e.declarations||t(e.declarations,n)})}var zie="--",Vie="var";function Gie(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=rs({},e,t);return typeof n=="string"&&(n=hk(n,r)),PL(n.stylesheet,function(a,o){for(var c=0;c<a.length;c++){var h=a[c],f=h.type,m=h.property,v=h.value;if(f==="declaration"){if(!r.preserveVars&&m&&m.indexOf(zie)===0){a.splice(c,1),c--;continue}if(v.indexOf(Vie+"(")!==-1){var y=df(v,r);y!==h.value&&(y=qie(y),r.preserveVars?(a.splice(c,0,{type:f,property:m,value:y}),c++):h.value=y)}}}}),UL(n)}function qie(n){var t=/calc\(([^)]+)\)/g;return(n.match(t)||[]).forEach(function(e){var r="calc".concat(e.split("calc").join(""));n=n.replace(e,r)}),n}function df(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;if(n.indexOf("var(")===-1)return n;var r=ML("(",")",n);function a(c){var h=c.split(",")[0].replace(/[\s\n\t]/g,""),f=(c.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],m=Object.prototype.hasOwnProperty.call(t.variables,h)?String(t.variables[h]):void 0,v=m||(f?String(f):void 0),y=e||c;return m||t.onWarning('variable "'.concat(h,'" is undefined')),v&&v!=="undefined"&&v.length>0?df(v,t,y):"var(".concat(y,")")}if(r)if(r.pre.slice(-3)==="var"){var o=r.body.trim().length===0;return o?(t.onWarning("var() must contain a non-whitespace string"),n):r.pre.slice(0,-3)+a(r.body)+df(r.post,t)}else return r.pre+"(".concat(df(r.body,t),")")+df(r.post,t);else return n.indexOf("var(")!==-1&&t.onWarning('missing closing ")" in the value "'.concat(n,'"')),n}var $b=typeof window<"u",gO=$b&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),fu={group:0,job:0},Rv={rootElement:$b?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},nl={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},Ei={dom:{},job:{},user:{}},mg=!1,Is=null,cf=0,lx=null,dx=!1;/**
* Fetches, parses, and transforms CSS custom properties from specified
* <style> and <link> elements into static values, then appends a new <style>
* element with static values to the DOM to provide CSS custom property
* compatibility for legacy browsers. Also provides a single interface for
* live updates of runtime values in both modern and legacy browsers.
*
* @preserve
* @param {object}   [options] Options object
* @param {object}   [options.rootElement=document] Root element to traverse for
*                   <link> and <style> nodes
* @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
*                   and <style> nodes will be processed.
* @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
*                   matching <link re="stylesheet"> and <style> nodes to
*                   process
* @param {string}   [options.exclude] CSS selector matching <link
*                   rel="stylehseet"> and <style> nodes to exclude from those
*                   matches by options.include
* @param {object}   [options.variables] A map of custom property name/value
*                   pairs. Property names can omit or include the leading
*                   double-hyphen (—), and values specified will override
*                   previous values
* @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
*                   only generate legacy-compatible CSS in browsers that lack
*                   native support (i.e., legacy browsers)
* @param {boolean}  [options.preserveStatic=true] Determines if CSS
*                   declarations that do not reference a custom property will
*                   be preserved in the transformed CSS
* @param {boolean}  [options.preserveVars=false] Determines if CSS custom
*                   property declarations will be preserved in the transformed
*                   CSS
* @param {boolean}  [options.silent=false] Determines if warning and error
*                   messages will be displayed on the console
* @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
*                   update the DOM after processing CSS custom properties
* @param {boolean}  [options.updateURLs=true] Determines if relative url()
*                   paths will be converted to absolute urls in external CSS
* @param {boolean}  [options.watch=false] Determines if a MutationObserver will
*                   be created that will execute the ponyfill when a <link> or
*                   <style> DOM mutation is observed
* @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
*                   1) the XHR object, 2) source node reference, and 3) the
*                   source URL as arguments
* @param {function} [options.onError] Callback after a CSS parsing error has
*                   occurred or an XHR request has failed. Passes 1) an error
*                   message, and 2) source node reference, 3) xhr, and 4 url as
*                   arguments.
* @param {function} [options.onWarning] Callback after each CSS parsing warning
*                   has occurred. Passes 1) a warning message as an argument.
* @param {function} [options.onSuccess] Callback after CSS data has been
*                   collected from each node and before CSS custom properties
*                   have been transformed. Allows modifying the CSS data before
*                   it is transformed by returning any string value (or false
*                   to skip). Passes 1) CSS text, 2) source node reference, and
*                   3) the source URL as arguments.
* @param {function} [options.onComplete] Callback after all CSS has been
*                   processed, legacy-compatible CSS has been generated, and
*                   (optionally) the DOM has been updated. Passes 1) a CSS
*                   string with CSS variable values resolved, 2) an array of
*                   output <style> node references that have been appended to
*                   the DOM, 3) an object containing all custom properies names
*                   and values, and 4) the ponyfill execution time in
*                   milliseconds.
* @param {function} [options.onFinally] Callback in modern and legacy browsers
*                   after the ponyfill has finished all tasks. Passes 1) a
*                   boolean indicating if the last ponyfill call resulted in a
*                   style change, 2) a boolean indicating if the current
*                   browser provides native support for CSS custom properties,
*                   and 3) the ponyfill execution time in milliseconds.
* @example
*
*   cssVars({
*     rootElement   : document,
*     shadowDOM     : false,
*     include       : 'style,link[rel="stylesheet"]',
*     exclude       : '',
*     variables     : {},
*     onlyLegacy    : true,
*     preserveStatic: true,
*     preserveVars  : false,
*     silent        : false,
*     updateDOM     : true,
*     updateURLs    : true,
*     watch         : false,
*     onBeforeSend(xhr, node, url) {},
*     onError(message, node, xhr, url) {},
*     onWarning(message) {},
*     onSuccess(cssText, node, url) {},
*     onComplete(cssText, styleNode, cssVariables, benchmark) {},
*     onFinally(hasChanged, hasNativeSupport, benchmark)
*   });
*/function Ql(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="cssVars(): ",e=rs({},Rv,n);function r(v,y,w,x){!e.silent&&window.console&&console.error("".concat(t).concat(v,`
`),y),e.onError(v,y,w,x)}function a(v){!e.silent&&window.console&&console.warn("".concat(t).concat(v)),e.onWarning(v)}function o(v){e.onFinally(Boolean(v),gO,E3()-e.__benchmark)}if(!!$b){if(e.watch){e.watch=Rv.watch,jie(e),Ql(e);return}else e.watch===!1&&Is&&(Is.disconnect(),Is=null);if(!e.__benchmark){if(mg===e.rootElement){Kie(n);return}var c=[].slice.call(e.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(e.__benchmark=E3(),e.exclude=[Is?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",e.exclude].filter(function(v){return v}).join(","),e.variables=Yie(e.variables),c.forEach(function(v){var y=v.nodeName.toLowerCase()==="style"&&v.__cssVars.text,w=y&&v.textContent!==v.__cssVars.text;y&&w&&(v.sheet&&(v.sheet.disabled=!1),v.setAttribute("data-cssvars",""))}),!Is){var h=[].slice.call(e.rootElement.querySelectorAll('[data-cssvars="out"]'));h.forEach(function(v){var y=v.getAttribute("data-cssvars-group"),w=y?e.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(y,'"]')):null;w||v.parentNode.removeChild(v)}),cf&&c.length<cf&&(cf=c.length,Ei.dom={})}}if(document.readyState!=="loading")if(gO&&e.onlyLegacy){var f=!1;if(e.updateDOM){var m=e.rootElement.host||(e.rootElement===document?document.documentElement:e.rootElement);Object.keys(e.variables).forEach(function(v){var y=e.variables[v];f=f||y!==getComputedStyle(m).getPropertyValue(v),m.style.setProperty(v,y)})}o(f)}else!dx&&(e.shadowDOM||e.rootElement.shadowRoot||e.rootElement.host)?_O({rootElement:Rv.rootElement,include:Rv.include,exclude:e.exclude,skipDisabled:!1,onSuccess:function(y,w,x){var C=(w.sheet||{}).disabled&&!w.__cssVars;return C?!1:(y=y.replace(nl.cssComments,"").replace(nl.cssMediaQueries,""),y=(y.match(nl.cssVarDeclRules)||[]).join(""),y||!1)},onComplete:function(y,w,x){vO(y,{store:Ei.dom,onWarning:a}),dx=!0,Ql(e)}}):(mg=e.rootElement,_O({rootElement:e.rootElement,include:e.include,exclude:e.exclude,skipDisabled:!1,onBeforeSend:e.onBeforeSend,onError:function(y,w,x){var C=y.responseURL||FL(x,location.href),A=y.statusText?"(".concat(y.statusText,")"):"Unspecified Error"+(y.status===0?" (possibly CORS related)":""),L="CSS XHR Error: ".concat(C," ").concat(y.status," ").concat(A);r(L,w,y,C)},onSuccess:function(y,w,x){var C=(w.sheet||{}).disabled&&!w.__cssVars;if(C)return!1;var A=w.nodeName.toLowerCase()==="link",L=w.nodeName.toLowerCase()==="style"&&y!==w.textContent,S=e.onSuccess(y,w,x);return y=S!==void 0&&Boolean(S)===!1?"":S||y,e.updateURLs&&(A||L)&&(y=Qie(y,x)),y},onComplete:function(y,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],C=rs({},Ei.dom,Ei.user),A=!1;if(Ei.job={},x.forEach(function(T,M){var q=w[M];if(T.__cssVars=T.__cssVars||{},T.__cssVars.text=q,nl.cssVars.test(q))try{var z=hk(q,{preserveStatic:e.preserveStatic,removeComments:!0});vO(z,{parseHost:Boolean(e.rootElement.host),store:Ei.dom,onWarning:a}),T.__cssVars.tree=z}catch(te){r(te.message,T)}}),rs(Ei.job,Ei.dom),e.updateDOM?(rs(Ei.user,e.variables),rs(Ei.job,Ei.user)):(rs(Ei.job,Ei.user,e.variables),rs(C,e.variables)),A=fu.job>0&&Boolean(Object.keys(Ei.job).length>Object.keys(C).length||Boolean(Object.keys(C).length&&Object.keys(Ei.job).some(function(T){return Ei.job[T]!==C[T]}))),A)cx(e.rootElement),Ql(e);else{var L=[],S=[],k=!1;if(e.updateDOM&&fu.job++,x.forEach(function(T,M){var q=!T.__cssVars.tree;if(T.__cssVars.tree)try{Gie(T.__cssVars.tree,rs({},e,{variables:Ei.job,onWarning:a}));var z=UL(T.__cssVars.tree);if(e.updateDOM){var te=w[M],he=nl.cssVarFunc.test(te);if(T.getAttribute("data-cssvars")||T.setAttribute("data-cssvars","src"),z.length&&he){var B=T.getAttribute("data-cssvars-group")||++fu.group,W=z.replace(/\s/g,""),re=e.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(B,'"]'))||document.createElement("style");k=k||nl.cssKeyframes.test(z),e.preserveStatic&&T.sheet&&(T.sheet.disabled=!0),re.hasAttribute("data-cssvars")||re.setAttribute("data-cssvars","out"),W===T.textContent.replace(/\s/g,"")?(q=!0,re&&re.parentNode&&(T.removeAttribute("data-cssvars-group"),re.parentNode.removeChild(re))):W!==re.textContent.replace(/\s/g,"")&&([T,re].forEach(function(j){j.setAttribute("data-cssvars-job",fu.job),j.setAttribute("data-cssvars-group",B)}),re.textContent=z,L.push(z),S.push(re),re.parentNode||T.parentNode.insertBefore(re,T.nextSibling))}}else T.textContent.replace(/\s/g,"")!==z&&L.push(z)}catch(j){r(j.message,T)}q&&T.setAttribute("data-cssvars","skip"),T.hasAttribute("data-cssvars-job")||T.setAttribute("data-cssvars-job",fu.job)}),cf=e.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,e.shadowDOM){for(var N=[].concat(e.rootElement).concat([].slice.call(e.rootElement.querySelectorAll("*"))),O=0,H;H=N[O];++O)if(H.shadowRoot&&H.shadowRoot.querySelector("style")){var D=rs({},e,{rootElement:H.shadowRoot});Ql(D)}}e.updateDOM&&k&&Wie(e.rootElement),mg=!1,e.onComplete(L.join(""),S,JSON.parse(JSON.stringify(Ei.job)),E3()-e.__benchmark),o(S.length)}}}));else document.addEventListener("DOMContentLoaded",function v(y){Ql(n),document.removeEventListener("DOMContentLoaded",v)})}}Ql.reset=function(){fu.job=0,fu.group=0,mg=!1,Is&&(Is.disconnect(),Is=null),cf=0,lx=null,dx=!1;for(var n in Ei)Ei[n]={}};function jie(n){function t(f){var m=e(f)&&f.hasAttribute("disabled"),v=(f.sheet||{}).disabled;return m||v}function e(f){var m=f.nodeName.toLowerCase()==="link"&&(f.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return m}function r(f){return f.nodeName.toLowerCase()==="style"}function a(f){var m=!1;if(f.type==="attributes"&&e(f.target)&&!t(f.target)){var v=f.attributeName==="disabled",y=f.attributeName==="href",w=f.target.getAttribute("data-cssvars")==="skip",x=f.target.getAttribute("data-cssvars")==="src";v?m=!w&&!x:y&&(w?f.target.setAttribute("data-cssvars",""):x&&cx(n.rootElement,!0),m=!0)}return m}function o(f){var m=!1;if(f.type==="childList"){var v=r(f.target),y=f.target.getAttribute("data-cssvars")==="out";m=v&&!y}return m}function c(f){var m=!1;return f.type==="childList"&&(m=[].slice.call(f.addedNodes).some(function(v){var y=v.nodeType===1,w=y&&v.hasAttribute("data-cssvars"),x=r(v)&&nl.cssVars.test(v.textContent),C=!w&&(e(v)||x);return C&&!t(v)})),m}function h(f){var m=!1;return f.type==="childList"&&(m=[].slice.call(f.removedNodes).some(function(v){var y=v.nodeType===1,w=y&&v.getAttribute("data-cssvars")==="out",x=y&&v.getAttribute("data-cssvars")==="src",C=x;if(x||w){var A=v.getAttribute("data-cssvars-group"),L=n.rootElement.querySelector('[data-cssvars-group="'.concat(A,'"]'));x&&cx(n.rootElement,!0),L&&L.parentNode.removeChild(L)}return C})),m}!window.MutationObserver||(Is&&(Is.disconnect(),Is=null),Is=new MutationObserver(function(f){var m=f.some(function(v){return a(v)||o(v)||c(v)||h(v)});m&&Ql(n)}),Is.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function Kie(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(lx),lx=setTimeout(function(){n.__benchmark=null,Ql(n)},t)}function Wie(n){var t=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(w){return getComputedStyle(document.body)[w]})[0];if(t){for(var e=[].slice.call(n.querySelectorAll("*")),r=[],a="__CSSVARSPONYFILL-KEYFRAMES__",o=0,c=e.length;o<c;o++){var h=e[o],f=getComputedStyle(h)[t];f!=="none"&&(h.style[t]+=a,r.push(h))}document.body.offsetHeight;for(var m=0,v=r.length;m<v;m++){var y=r[m].style;y[t]=y[t].replace(a,"")}}}function Qie(n,t){var e=n.replace(nl.cssComments,"").match(nl.cssUrls)||[];return e.forEach(function(r){var a=r.replace(nl.cssUrls,"$1"),o=FL(a,t);n=n.replace(r,r.replace(a,o))}),n}function Yie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=/^-{2}/;return Object.keys(n).reduce(function(e,r){var a=t.test(r)?r:"--".concat(r.replace(/^-+/,""));return e[a]=n[r],e},{})}function FL(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,e=document.implementation.createHTMLDocument(""),r=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(r),e.body.appendChild(a),r.href=t,a.href=n,a.href}function E3(){return $b&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function cx(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=[].slice.call(n.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));e.forEach(function(r){return r.setAttribute("data-cssvars","")}),t&&(Ei.dom={})}var tb=Symbol("@ts-pattern/matcher"),bO="@ts-pattern/anonymous-select-key",yO=function(n){return Boolean(n&&typeof n=="object")},w3=function(n){return n&&!!n[tb]},Xie=function n(t,e,r){if(yO(t)){if(w3(t)){var a=t[tb]().match(e),o=a.matched,c=a.selections;return o&&c&&Object.keys(c).forEach(function(f){return r(f,c[f])}),o}if(!yO(e))return!1;if(Array.isArray(t))return!!Array.isArray(e)&&t.length===e.length&&t.every(function(f,m){return n(f,e[m],r)});if(t instanceof Map)return e instanceof Map&&Array.from(t.keys()).every(function(f){return n(t.get(f),e.get(f),r)});if(t instanceof Set){if(!(e instanceof Set))return!1;if(t.size===0)return e.size===0;if(t.size===1){var h=Array.from(t.values())[0];return w3(h)?Array.from(e.values()).every(function(f){return n(h,f,r)}):e.has(h)}return Array.from(t.values()).every(function(f){return e.has(f)})}return Object.keys(t).every(function(f){var m,v=t[f];return(f in e||w3(m=v)&&m[tb]().matcherType==="optional")&&n(v,e[f],r)})}return Object.is(e,t)};function Wu(n){var t;return(t={})[tb]=function(){return{match:function(e){return{matched:Boolean(n(e))}}}},t}Wu(function(n){return!0});Wu(function(n){return typeof n=="string"});Wu(function(n){return typeof n=="number"});Wu(function(n){return typeof n=="boolean"});Wu(function(n){return typeof n=="bigint"});Wu(function(n){return typeof n=="symbol"});Wu(function(n){return n==null});function pk(n){return new Zie(n,[])}var Zie=function(){function n(e,r){this.value=void 0,this.cases=void 0,this.value=e,this.cases=r}var t=n.prototype;return t.with=function(){var e=[].slice.call(arguments),r=e[e.length-1],a=[e[0]],o=[];return e.length===3&&typeof e[1]=="function"?(a.push(e[0]),o.push(e[1])):e.length>2&&a.push.apply(a,e.slice(1,e.length-1)),new n(this.value,this.cases.concat([{match:function(c){var h={},f=Boolean(a.some(function(m){return Xie(m,c,function(v,y){h[v]=y})})&&o.every(function(m){return m(c)}));return{matched:f,value:f&&Object.keys(h).length?bO in h?h[bO]:h:c}},handler:r}]))},t.when=function(e,r){return new n(this.value,this.cases.concat([{match:function(a){return{matched:Boolean(e(a)),value:a}},handler:r}]))},t.otherwise=function(e){return new n(this.value,this.cases.concat([{match:function(r){return{matched:!0,value:r}},handler:e}])).run()},t.exhaustive=function(){return this.run()},t.run=function(){for(var e=this.value,r=void 0,a=0;a<this.cases.length;a++){var o=this.cases[a],c=o.match(this.value);if(c.matched){e=c.value,r=o.handler;break}}if(!r){var h;try{h=JSON.stringify(this.value)}catch{h=this.value}throw new Error("Pattern matching error: no pattern matches value "+h)}return r(e,this.value)},n}();const Tf={INIT_USER:"INIT_USER",RESET_USER:"RESET_USER",UPDATE_USER_INFO:"UPDATE_USER_INFO"};var ux=function(n,t){return ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])},ux(n,t)};function ee(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}ux(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ye=function(){return ye=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n},ye.apply(this,arguments)};function Jie(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]])}return e}function F(n,t,e,r){return new(e||(e=Promise))(function(a,o){function c(m){try{f(r.next(m))}catch(v){o(v)}}function h(m){try{f(r.throw(m))}catch(v){o(v)}}function f(m){var v;m.done?a(m.value):(v=m.value,v instanceof e?v:new e(function(y){y(v)})).then(c,h)}f((r=r.apply(n,t||[])).next())})}function P(n,t){var e,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function h(f){return function(m){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,v[0]&&(c=0)),c;)try{if(e=1,r&&(a=2&v[0]?r.return:v[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,v[1])).done)return a;switch(r=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++,r=v[1],v=[0];continue;case 7:v=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||v[0]!==6&&v[0]!==2)){c=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){c.label=v[1];break}if(v[0]===6&&c.label<a[1]){c.label=a[1],a=v;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(v);break}a[2]&&c.ops.pop(),c.trys.pop();continue}v=t.call(n,c)}catch(y){v=[6,y],r=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([f,m])}}}function Sn(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yn(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r,a,o=e.call(n),c=[];try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(h){a={error:h}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(a)throw a.error}}return c}function tt(n,t,e){if(e||arguments.length===2)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return n.concat(r||Array.prototype.slice.call(t))}var kt,HL="4.8.1",Nu=function(){function n(){}return Object.defineProperty(n,"OS_VERSION",{get:function(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_VERSION",{get:function(){return HL},enumerable:!1,configurable:!0}),Object.defineProperty(n,"SDK_MAJOR_VERSION",{get:function(){return n.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(n,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),n}();(function(n){n[n.STAT_LOG_NOT_ALLOWED=400108]="STAT_LOG_NOT_ALLOWED",n[n.NON_AUTHORIZED=400108]="NON_AUTHORIZED",n[n.INVALID_TOKEN=400111]="INVALID_TOKEN",n[n.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",n[n.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",n[n.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",n[n.STAT_UPLOAD_NOT_ALLOWED=403200]="STAT_UPLOAD_NOT_ALLOWED",n[n.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",n[n.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",n[n.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",n[n.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",n[n.LOST_INSTANCE=700100]="LOST_INSTANCE",n[n.CONNECTION_RENEW=700102]="CONNECTION_RENEW",n[n.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",n[n.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",n[n.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",n[n.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",n[n.INVALID_PARAMETER=800110]="INVALID_PARAMETER",n[n.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",n[n.NETWORK_ERROR=800120]="NETWORK_ERROR",n[n.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",n[n.MALFORMED_DATA=800130]="MALFORMED_DATA",n[n.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",n[n.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",n[n.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",n[n.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",n[n.ACK_TIMEOUT=800180]="ACK_TIMEOUT",n[n.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",n[n.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",n[n.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",n[n.REQUEST_FAILED=800220]="REQUEST_FAILED",n[n.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",n[n.REQUEST_CANCELED=800240]="REQUEST_CANCELED",n[n.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",n[n.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",n[n.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",n[n.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",n[n.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED",n[n.COLLECTION_DISPOSED=800600]="COLLECTION_DISPOSED",n[n.DATABASE_ERROR=800700]="DATABASE_ERROR"})(kt||(kt={}));var Na,wu,xi,hx,Cf,cl=function(n){return!(n instanceof Le&&!n.shouldThrowOutside)},Le=function(n){function t(e){var r=e.code,a=r===void 0?0:r,o=e.message,c=n.call(this,o)||this;return c.shouldThrowOutside=!1,c.name="SendbirdError",c.code=a,Object.setPrototypeOf(c,t.prototype),c}return ee(t,n),Object.defineProperty(t.prototype,"isInvalidTokenError",{get:function(){return this.code===kt.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===kt.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===kt.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t,"debugModeRequired",{get:function(){return new t({code:kt.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"lostInstance",{get:function(){return new t({code:kt.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRenew",{get:function(){return new t({code:kt.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidConnectionStateTransition",{get:function(){return new t({code:kt.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRequired",{get:function(){return new t({code:kt.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionCanceled",{get:function(){return new t({code:kt.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidParameters",{get:function(){return new t({code:kt.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"notSupportedError",{get:function(){return new t({code:kt.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"networkError",{get:function(){return new t({code:kt.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"markAsReadAllRateLimitExceeded",{get:function(){return new t({code:kt.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"queryInProgress",{get:function(){return new t({code:kt.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noAckTimeout",{get:function(){return new t({code:kt.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"loginTimeout",{get:function(){return new t({code:kt.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionClosed",{get:function(){return new t({code:kt.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestFailed",{get:function(){return new t({code:kt.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fileUploadCanceled",{get:function(){return new t({code:kt.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestCanceled",{get:function(){return new t({code:kt.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRefreshFailed",{get:function(){return new t({code:kt.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRequestFailed",{get:function(){return new t({code:kt.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseError",{get:function(){return new t({code:kt.DATABASE_ERROR,message:"Database error."})},enumerable:!1,configurable:!0}),t.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},t}(Error),eae=[kt.CONNECTION_REQUIRED,kt.NETWORK_ERROR,kt.ACK_TIMEOUT,kt.WEBSOCKET_CONNECTION_CLOSED,kt.WEBSOCKET_CONNECTION_FAILED,kt.FILE_UPLOAD_CANCEL_FAILED,kt.REQUEST_CANCELED,kt.INTERNAL_SERVER_ERROR,kt.RATE_LIMIT_EXCEEDED,kt.UNKNOWN_SERVER_ERROR],nae=[kt.WEBSOCKET_CONNECTION_CLOSED,kt.WEBSOCKET_CONNECTION_FAILED,kt.CONNECTION_REQUIRED],BL=function(n,t){if(n!==t){var e=ye({},n),r=ye({},t);return(!e.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||e.messageId===r.messageId)&&(!e.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||e.reqId===r.reqId)&&(e.hasOwnProperty("messageId")&&delete e.messageId,e.hasOwnProperty("reqId")&&delete e.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(e)===JSON.stringify(r))}return!0},ge=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||(typeof n!="string"?typeof n=="object"?mt(n,t):tae(n,t):typeof t===n)},mt=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||Object.values(n).includes(t)},tae=function(n,t){return t instanceof n},yt=function(n,t,e){return e===void 0&&(e=!1),!(!e||t!=null)||Array.isArray(t)&&t.every(function(r){return ge(n,r)})},rae=function(n){return n>0&&eae.indexOf(n)>=0},rb=function(n){return n>0&&nae.indexOf(n)>=0},Ai=function(n,t){if(t===void 0&&(t=!1),t&&n===null)return!0;var e=ge("object",n)&&n!==null&&n.hasOwnProperty("name")&&typeof n.name=="string"&&n.hasOwnProperty("uri")&&typeof n.uri=="string"&&n.hasOwnProperty("type")&&typeof n.type=="string";if(!e){if(typeof Blob<"u")return n instanceof Blob;if(typeof File<"u")return n instanceof File}return e},iae=function(n,t){if(n===t)return!0;if(n==null||t==null||n.length!==t.length)return!1;for(var e=tt([],Yn(n),!1).sort(),r=tt([],Yn(t),!1).sort(),a=0;a<e.length;++a)if(e[a]!==r[a])return!1;return!0},$L=function(){function n(t){var e=t===void 0?{}:t,r=e.useMemberInfoInMessage,a=r===void 0||r,o=e.typingIndicatorInvalidateTime,c=o===void 0?1e4:o,h=e.typingIndicatorThrottle,f=h===void 0?1e3:h,m=e.websocketResponseTimeout,v=m===void 0?1e4:m,y=e.websocketPayloadDecompression,w=y===void 0||y,x=e.sessionTokenRefreshTimeout,C=x===void 0?60:x;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=a,this._typingIndicatorInvalidateTime=c,this._typingIndicatorThrottle=f,this._websocketResponseTimeout=v,this._sessionTokenRefreshTimeout=C,this.websocketPayloadDecompression=w}return Object.defineProperty(n.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(t){ge("boolean",t)&&(this._useMemberInfoInMessage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(t){ge("number",t)&&(this._typingIndicatorInvalidateTime=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(t){ge("number",t)&&t>=1e3&&t<=9e3&&(this._typingIndicatorThrottle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(t){ge("number",t)&&t>=5e3&&t<=3e4&&(this._websocketResponseTimeout=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(t){ge("number",t)&&(t<60?t=60:t>1800&&(t=1800),this._sessionTokenRefreshTimeout=t)},enumerable:!1,configurable:!0}),n}(),zL={encrypt:function(n){return n},decrypt:function(n){return n}},aae=function(){function n(t){var e=t.store;this._preference=new Map,this._store=e}return n.prototype._savePreferenceKeys=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._store.set({key:this._keysAddress,value:tt([],Yn(this._preference.keys()),!1),generation:1})];case 1:return t.sent(),[2]}})})},n.prototype.init=function(t,e){var r;return e===void 0&&(e=1),F(this,void 0,void 0,function(){var a,o,c,h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:return this._version=e,this._keysAddress=t,a="".concat(t,".metadata.version"),[4,this._store.get(a)];case 1:return o=C.sent(),[4,this._store.get(t)];case 2:return c=(r=C.sent())!==null&&r!==void 0?r:[],!o||o.version<this._version?[4,this._resetPreferenceData(c,a)]:[3,4];case 3:return C.sent(),[3,11];case 4:C.trys.push([4,9,10,11]),h=Sn(c),f=h.next(),C.label=5;case 5:return f.done?[3,8]:(m=f.value,[4,this._store.get(m)]);case 6:(v=C.sent())&&this._preference.set(m,v),C.label=7;case 7:return f=h.next(),[3,5];case 8:return[3,11];case 9:return y=C.sent(),w={error:y},[3,11];case 10:try{f&&!f.done&&(x=h.return)&&x.call(h)}finally{if(w)throw w.error}return[7];case 11:return[2]}})})},n.prototype._resetPreferenceData=function(t,e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this._preference=new Map,[4,this._store.removeMany(t)];case 1:return r.sent(),[4,this._store.set({key:e,value:{version:this._version},generation:1})];case 2:return r.sent(),[2]}})})},n.prototype.get=function(t){var e;return F(this,void 0,void 0,function(){return P(this,function(r){return[2,(e=this._preference.get(t))!==null&&e!==void 0?e:null]})})},n.prototype.set=function(t,e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=!this._preference.has(t),[4,this._store.set({key:t,value:e,generation:1})];case 1:return a.sent(),this._preference.set(t,e),r?[4,this._savePreferenceKeys()]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.remove=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._store.remove(t)];case 1:return e.sent(),this._preference.delete(t),[4,this._savePreferenceKeys()];case 2:return e.sent(),[2]}})})},n.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._store.removeMany(tt([],Yn(this._preference.keys()),!1))];case 1:return t.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}})})},n}(),sae=function(n){var t=n.encryption,e=t===void 0?null:t,r=n.store,a=r===void 0?null:r,o=n.localCacheEnabled,c=o===void 0||o,h=n.localCacheConfig,f=h===void 0?null:h;this.nestdb=null,this.store=a,this.preference=new aae({store:a}),this.encryption=e!=null?e:zL,this.localCacheEnabled=c,this.localCacheConfig=f};(function(n){n.SUCCESS="success",n.PENDING="pending",n.ERROR="error"})(Na||(Na={})),function(n){n.DEFAULT="default",n.ALL="all",n.MENTION_ONLY="mention_only",n.OFF="off"}(wu||(wu={})),function(n){n.FCM="gcm",n.APNS="apns",n.UNKNOWN="unknown"}(xi||(xi={})),function(n){n.ALTERNATIVE="alternative",n.DEFAULT="default"}(hx||(hx={})),function(n){n.CUSTOM="custom",n.MESSAGE_COLLECTION_ACCESSED_AT="messagecollection_accessed_at"}(Cf||(Cf={}));var pn,oae=function(){function n(t){var e=t.channel,r=t.cachedMessageCount;this._channel=null,this._cachedMessageCount=0,this._channel=e,this._cachedMessageCount=r}return Object.defineProperty(n.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedMessageCount",{get:function(){return this._cachedMessageCount},enumerable:!1,configurable:!0}),n}(),VL=function(){function n(t){var e=t===void 0?{}:t,r=e.maxSize,a=r===void 0?256:r,o=e.clearOrder,c=o===void 0?Cf.MESSAGE_COLLECTION_ACCESSED_AT:o,h=e.customClearOrderComparator,f=h===void 0?null:h;this._customClearOrderComparator=null,this._clearOrderComparatorUseMessageCollectionAccessedAt=function(m,v){return m.channel.messageCollectionLastAccessedAt===v.channel.messageCollectionLastAccessedAt?m.channel.lastMessage&&!v.channel.lastMessage?1:!m.channel.lastMessage&&v.channel.lastMessage?-1:m.channel.lastMessage.createdAt-v.channel.lastMessage.createdAt:m.channel.messageCollectionLastAccessedAt>v.channel.messageCollectionLastAccessedAt?1:-1},this._maxSize=Math.max(a,64),f?(this._clearOrder=c,this._customClearOrderComparator=f):this._clearOrder=Cf.MESSAGE_COLLECTION_ACCESSED_AT}return Object.defineProperty(n.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clearOrder",{get:function(){return this._clearOrder},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clearOrderComparator",{get:function(){var t;return this._clearOrder===Cf.MESSAGE_COLLECTION_ACCESSED_AT?this._clearOrderComparatorUseMessageCollectionAccessedAt:(t=this._customClearOrderComparator)!==null&&t!==void 0?t:this._clearOrderComparatorUseMessageCollectionAccessedAt},enumerable:!1,configurable:!0}),n}(),lae=function(){function n(){this.sessionKey=null,this.authToken=null}return Object.defineProperty(n.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),n.prototype.clear=function(){this.authToken=null,this.sessionKey=null},n}(),Cc=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(t==="x"?e:3&e|8).toString(16)})},EO=function(){function n(t){var e=t.container;this._container={},this._container=e,this.key=Cc()}return n.prototype._register=function(t,e,r){return t in this._container||(this._container[t]=new Map),this._container[t].set(this.key,{occurence:e,handler:r}),this},n.prototype.on=function(t,e){return this._register(t,-1,e)},n.prototype.once=function(t,e){return this._register(t,1,e)},n.prototype.close=function(){for(var t in this._container)this._container[t].delete(this.key)},n}(),Qu=function(){function n(){this._container={}}return n.prototype.on=function(t,e){return new EO({container:this._container}).on(t,e)},n.prototype.once=function(t,e){return new EO({container:this._container}).once(t,e)},n.prototype.dispatch=function(t,e){var r,a,o=this._container[t];if(o){var c=[];try{for(var h=Sn(o.keys()),f=h.next();!f.done;f=h.next()){var m=f.value,v=o.get(m);v.handler(e),v.occurence>0&&(v.occurence--,v.occurence===0&&c.push(m))}}catch(y){r={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}c.forEach(function(y){return o.delete(y)})}},n}(),dae=function(){function n(){this._dispatcher=new Qu}return n.prototype.on=function(t){return this._dispatcher.on("event",t)},n.prototype.once=function(t){return this._dispatcher.once("event",t)},n.prototype.dispatch=function(t){this._dispatcher.dispatch("event",t)},n}(),pi=function(){},st=function(n){var t={};return n&&Object.keys(n).forEach(function(e){n[e]===void 0||Number.isNaN(n[e])||n[e]===null||(t[e]=n[e])}),t};(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE"})(pn||(pn={}));var pl,_n=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.params={},e.requireAuth=!0,e.headers={},e.requestId=Cc(),e}return ee(t,n),t.prototype.stringifyParams=function(e){return typeof e!="object"||Array.isArray(e)?String(e):e?JSON.stringify(e):""},t.prototype.encodeParams=function(e){var r=this;return e==null||e===""?encodeURIComponent(""):Array.isArray(e)?e.map(function(a){return r.encodeParams(a)}).join(","):encodeURIComponent(typeof e=="object"?JSON.stringify(e):String(e))},Object.defineProperty(t.prototype,"query",{get:function(){var e=this,r=st(this.params);return"?".concat(Object.keys(r).map(function(a){return"".concat(encodeURIComponent(a),"=").concat(e.encodeParams(r[a]))}).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payload",{get:function(){var e=this,r=st(this.params);if(Object.keys(r).some(function(o){return Ai(r[o])})){var a=new FormData;return Object.keys(r).forEach(function(o){var c,h=r[o];if(Ai(h)){var f=h;a.append(o,f,(c=f.name)!==null&&c!==void 0?c:"filename")}else a.append(o,e.stringifyParams(h))}),a}return JSON.stringify(r)},enumerable:!1,configurable:!0}),t}(pi),gn=function(n){function t(e,r){var a=n.call(this)||this;return a._iid=e,a._payload=r,a}return ee(t,n),Object.defineProperty(t.prototype,"payload",{get:function(){return ye({},this._payload)},enumerable:!1,configurable:!0}),t.prototype.as=function(e){return new e(this._iid,this.payload)},t}(pi),cae=function(n){function t(e){var r=n.call(this)||this;return r.requestId=e,r}return ee(t,n),t}(pi),zb=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ee(t,n),t}(pi),fk=function(n){function t(e){var r=n.call(this)||this;return r.statLog=e,r}return ee(t,n),t}(pi);(function(n){n.FEATURE_LOCALCACHE="feature:local_cache",n.WEBSOCKET_CONNECT="ws:connect",n.API_RESULT="api:result"})(pl||(pl={}));var E0=function(){function n(t){var e=t.type,r=t.data,a=t.ts,o=a===void 0?Date.now():a;this.type=e,this.createdAt=o,this.data=r}return n.payloadify=function(t){return st({stat_type:t.type,ts:t.createdAt,data:st(t.data)})},n}(),GL=function(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product=="ReactNative"},uae=function(){function n(t,e){var r=e.auth,a=e.sdkState,o=e.dispatcher,c=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,m=this;this._abortControl=new Map,this._shouldImportFetchCompat=!1,this._iid=t,this._auth=r,this._sdkState=a,this._dispatcher=o,this._dispatcher.on(function(v){v instanceof cae&&m.cancel(v.requestId)}),this._logger=c,this._shouldImportFetchCompat=f}return Object.defineProperty(n.prototype,"_userAgentWithExtension",{get:function(){var t=this._sdkState.extensions,e=GL()?"reactnative":"JS",r=t.sb_syncmanager?"s".concat(t.sb_syncmanager):"",a=t.sb_uikit?"u".concat(t.sb_uikit):"",o=t["device-os-platform"]?"o".concat(t["device-os-platform"]):"";return"".concat(e,"/c").concat(Nu.SDK_VERSION,"/").concat(r,"/").concat(a,"/").concat(o)},enumerable:!1,configurable:!0}),n.prototype._createHeader=function(t,e){e===void 0&&(e=null);var r=this._sdkState,a=r.appId,o=r.appVersion,c=ye(ye({},t.headers),{SendBird:"JS,".concat(Nu.OS_VERSION,",").concat(Nu.SDK_VERSION,",").concat(a).concat(o?",".concat(o):""),"SB-User-Agent":encodeURIComponent(this._userAgentWithExtension),"Request-Sent-Timestamp":Date.now().toString()});return e||(c["Content-Type"]="application/json; charset=utf-8"),t.requireAuth&&this._auth.hasSession&&(c["Session-Key"]=this._auth.sessionKey),this._auth&&this._auth.authToken&&(c["App-Id"]=a,c["Access-Token"]=this._auth.authToken),c},n.prototype._statLogApiResult=function(t,e,r){this._dispatcher.dispatch(new fk(new E0({type:pl.API_RESULT,data:{endpoint:t.path,method:t.method,success:!r,latency:Date.now()-e,error_code:r==null?void 0:r.code,error_description:r==null?void 0:r.message}})))},n.prototype.send=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w,x,C,A,L;return P(this,function(S){switch(S.label){case 0:e=t.path,r=t.method,a=![pn.GET,pn.DELETE].includes(r),o=this._sdkState.api,c="".concat(o.host).concat(e).concat(a?"":t.query),h=a?t.payload:null,f=this._createHeader(t,h instanceof FormData?h:null),m=new AbortController,v=m.signal,this._abortControl.set(t.requestId,m),y=Date.now(),S.label=1;case 1:return S.trys.push([1,8,,9]),this._shouldImportFetchCompat&&(this._shouldImportFetchCompat=!1,(typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{fetch:null}).fetch=void 0),typeof AbortController<"u"?[3,3]:[4,Promise.resolve().then(function(){return wbe})];case 2:S.sent(),S.label=3;case 3:return typeof fetch=="function"?[3,5]:[4,Promise.resolve().then(function(){return Nbe})];case 4:S.sent(),S.label=5;case 5:return[4,fetch(c,{method:r,body:h,headers:f,signal:v})];case 6:return[4,(w=S.sent()).json()];case 7:if(x=S.sent(),w.ok||w.redirected)return this._logger.debug("receive api response",t.requestId),this._statLogApiResult(t,y,null),[2,new gn(this._iid,x)];throw x?(C=new Le(x),!t.requireAuth&&C.isSessionKeyExpiredError&&this._dispatcher.dispatch(new zb),this._statLogApiResult(t,y,C),C):(C=Le.requestFailed,this._statLogApiResult(t,y,C),C);case 8:throw A=S.sent(),this._statLogApiResult(t,y,A),A instanceof Le?(this._logger.debug("fail api request",A),A):A.name==="AbortError"?Le.requestCanceled:(L=Le.networkError,this._logger.debug("fail api request",L),L);case 9:return[2]}})})},n.prototype.cancel=function(t){this._abortControl.has(t)&&(this._abortControl.get(t).abort(),this._abortControl.delete(t))},n.prototype.cancelAll=function(){var t,e;try{for(var r=Sn(this._abortControl.values()),a=r.next();!a.done;a=r.next())a.value.abort()}catch(o){t={error:o}}finally{try{a&&!a.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this._abortControl.clear()},n}(),lr=function(n){function t(e,r,a,o){o===void 0&&(o="");var c=n.call(this)||this;return c._iid=e,c.code=r,c.payload=a,c.requestId=a?a.req_id:o,c}return ee(t,n),t.createFromRawMessage=function(e,r){var a=r.substring(0,4),o=null;try{o=JSON.parse(r.substring(4))}catch{a="NOOP"}finally{return new t(e,a,o)}},t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},t.prototype.as=function(e){return new e(this._iid,this.code,this.payload)},t}(pi),bt=function(){};function M0(n){let t=n.length;for(;--t>=0;)n[t]=0}const _k=256,qL=286,If=30,Nf=15,px=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),vg=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),hae=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),wO=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$l=new Array(576);M0($l);const Af=new Array(60);M0(Af);const u_=new Array(512);M0(u_);const Of=new Array(256);M0(Of);const mk=new Array(29);M0(mk);const ib=new Array(If);function x3(n,t,e,r,a){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=r,this.max_length=a,this.has_stree=n&&n.length}let xO,kO,SO;function k3(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}M0(ib);const jL=n=>n<256?u_[n]:u_[256+(n>>>7)],h_=(n,t)=>{n.pending_buf[n.pending++]=255&t,n.pending_buf[n.pending++]=t>>>8&255},ss=(n,t,e)=>{n.bi_valid>16-e?(n.bi_buf|=t<<n.bi_valid&65535,h_(n,n.bi_buf),n.bi_buf=t>>16-n.bi_valid,n.bi_valid+=e-16):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)},al=(n,t,e)=>{ss(n,e[2*t],e[2*t+1])},KL=(n,t)=>{let e=0;do e|=1&n,n>>>=1,e<<=1;while(--t>0);return e>>>1},WL=(n,t,e)=>{const r=new Array(16);let a,o,c=0;for(a=1;a<=Nf;a++)c=c+e[a-1]<<1,r[a]=c;for(o=0;o<=t;o++){let h=n[2*o+1];h!==0&&(n[2*o]=KL(r[h]++,h))}},QL=n=>{let t;for(t=0;t<qL;t++)n.dyn_ltree[2*t]=0;for(t=0;t<If;t++)n.dyn_dtree[2*t]=0;for(t=0;t<19;t++)n.bl_tree[2*t]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},YL=n=>{n.bi_valid>8?h_(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},TO=(n,t,e,r)=>{const a=2*t,o=2*e;return n[a]<n[o]||n[a]===n[o]&&r[t]<=r[e]},S3=(n,t,e)=>{const r=n.heap[e];let a=e<<1;for(;a<=n.heap_len&&(a<n.heap_len&&TO(t,n.heap[a+1],n.heap[a],n.depth)&&a++,!TO(t,r,n.heap[a],n.depth));)n.heap[e]=n.heap[a],e=a,a<<=1;n.heap[e]=r},CO=(n,t,e)=>{let r,a,o,c,h=0;if(n.sym_next!==0)do r=255&n.pending_buf[n.sym_buf+h++],r+=(255&n.pending_buf[n.sym_buf+h++])<<8,a=n.pending_buf[n.sym_buf+h++],r===0?al(n,a,t):(o=Of[a],al(n,o+_k+1,t),c=px[o],c!==0&&(a-=mk[o],ss(n,a,c)),r--,o=jL(r),al(n,o,e),c=vg[o],c!==0&&(r-=ib[o],ss(n,r,c)));while(h<n.sym_next);al(n,256,t)},T3=(n,t)=>{const e=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.elems;let c,h,f,m=-1;for(n.heap_len=0,n.heap_max=573,c=0;c<o;c++)e[2*c]!==0?(n.heap[++n.heap_len]=m=c,n.depth[c]=0):e[2*c+1]=0;for(;n.heap_len<2;)f=n.heap[++n.heap_len]=m<2?++m:0,e[2*f]=1,n.depth[f]=0,n.opt_len--,a&&(n.static_len-=r[2*f+1]);for(t.max_code=m,c=n.heap_len>>1;c>=1;c--)S3(n,e,c);f=o;do c=n.heap[1],n.heap[1]=n.heap[n.heap_len--],S3(n,e,1),h=n.heap[1],n.heap[--n.heap_max]=c,n.heap[--n.heap_max]=h,e[2*f]=e[2*c]+e[2*h],n.depth[f]=(n.depth[c]>=n.depth[h]?n.depth[c]:n.depth[h])+1,e[2*c+1]=e[2*h+1]=f,n.heap[1]=f++,S3(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],((v,y)=>{const w=y.dyn_tree,x=y.max_code,C=y.stat_desc.static_tree,A=y.stat_desc.has_stree,L=y.stat_desc.extra_bits,S=y.stat_desc.extra_base,k=y.stat_desc.max_length;let N,O,H,D,T,M,q=0;for(D=0;D<=Nf;D++)v.bl_count[D]=0;for(w[2*v.heap[v.heap_max]+1]=0,N=v.heap_max+1;N<573;N++)O=v.heap[N],D=w[2*w[2*O+1]+1]+1,D>k&&(D=k,q++),w[2*O+1]=D,O>x||(v.bl_count[D]++,T=0,O>=S&&(T=L[O-S]),M=w[2*O],v.opt_len+=M*(D+T),A&&(v.static_len+=M*(C[2*O+1]+T)));if(q!==0){do{for(D=k-1;v.bl_count[D]===0;)D--;v.bl_count[D]--,v.bl_count[D+1]+=2,v.bl_count[k]--,q-=2}while(q>0);for(D=k;D!==0;D--)for(O=v.bl_count[D];O!==0;)H=v.heap[--N],H>x||(w[2*H+1]!==D&&(v.opt_len+=(D-w[2*H+1])*w[2*H],w[2*H+1]=D),O--)}})(n,t),WL(e,m,n.bl_count)},IO=(n,t,e)=>{let r,a,o=-1,c=t[1],h=0,f=7,m=4;for(c===0&&(f=138,m=3),t[2*(e+1)+1]=65535,r=0;r<=e;r++)a=c,c=t[2*(r+1)+1],++h<f&&a===c||(h<m?n.bl_tree[2*a]+=h:a!==0?(a!==o&&n.bl_tree[2*a]++,n.bl_tree[32]++):h<=10?n.bl_tree[34]++:n.bl_tree[36]++,h=0,o=a,c===0?(f=138,m=3):a===c?(f=6,m=3):(f=7,m=4))},NO=(n,t,e)=>{let r,a,o=-1,c=t[1],h=0,f=7,m=4;for(c===0&&(f=138,m=3),r=0;r<=e;r++)if(a=c,c=t[2*(r+1)+1],!(++h<f&&a===c)){if(h<m)do al(n,a,n.bl_tree);while(--h!=0);else a!==0?(a!==o&&(al(n,a,n.bl_tree),h--),al(n,16,n.bl_tree),ss(n,h-3,2)):h<=10?(al(n,17,n.bl_tree),ss(n,h-3,3)):(al(n,18,n.bl_tree),ss(n,h-11,7));h=0,o=a,c===0?(f=138,m=3):a===c?(f=6,m=3):(f=7,m=4)}};let AO=!1;const XL=(n,t,e,r)=>{ss(n,0+(r?1:0),3),YL(n),h_(n,e),h_(n,~e),e&&n.pending_buf.set(n.window.subarray(t,t+e),n.pending),n.pending+=e};var pae=(n,t,e,r)=>{let a,o,c=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=(h=>{let f,m=4093624447;for(f=0;f<=31;f++,m>>>=1)if(1&m&&h.dyn_ltree[2*f]!==0)return 0;if(h.dyn_ltree[18]!==0||h.dyn_ltree[20]!==0||h.dyn_ltree[26]!==0)return 1;for(f=32;f<_k;f++)if(h.dyn_ltree[2*f]!==0)return 1;return 0})(n)),T3(n,n.l_desc),T3(n,n.d_desc),c=(h=>{let f;for(IO(h,h.dyn_ltree,h.l_desc.max_code),IO(h,h.dyn_dtree,h.d_desc.max_code),T3(h,h.bl_desc),f=18;f>=3&&h.bl_tree[2*wO[f]+1]===0;f--);return h.opt_len+=3*(f+1)+5+5+4,f})(n),a=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=a&&(a=o)):a=o=e+5,e+4<=a&&t!==-1?XL(n,t,e,r):n.strategy===4||o===a?(ss(n,2+(r?1:0),3),CO(n,$l,Af)):(ss(n,4+(r?1:0),3),((h,f,m,v)=>{let y;for(ss(h,f-257,5),ss(h,m-1,5),ss(h,v-4,4),y=0;y<v;y++)ss(h,h.bl_tree[2*wO[y]+1],3);NO(h,h.dyn_ltree,f-1),NO(h,h.dyn_dtree,m-1)})(n,n.l_desc.max_code+1,n.d_desc.max_code+1,c+1),CO(n,n.dyn_ltree,n.dyn_dtree)),QL(n),r&&YL(n)},fae={_tr_init:n=>{AO||((()=>{let t,e,r,a,o;const c=new Array(16);for(r=0,a=0;a<28;a++)for(mk[a]=r,t=0;t<1<<px[a];t++)Of[r++]=a;for(Of[r-1]=a,o=0,a=0;a<16;a++)for(ib[a]=o,t=0;t<1<<vg[a];t++)u_[o++]=a;for(o>>=7;a<If;a++)for(ib[a]=o<<7,t=0;t<1<<vg[a]-7;t++)u_[256+o++]=a;for(e=0;e<=Nf;e++)c[e]=0;for(t=0;t<=143;)$l[2*t+1]=8,t++,c[8]++;for(;t<=255;)$l[2*t+1]=9,t++,c[9]++;for(;t<=279;)$l[2*t+1]=7,t++,c[7]++;for(;t<=287;)$l[2*t+1]=8,t++,c[8]++;for(WL($l,287,c),t=0;t<If;t++)Af[2*t+1]=5,Af[2*t]=KL(t,5);xO=new x3($l,px,257,qL,Nf),kO=new x3(Af,vg,0,If,Nf),SO=new x3(new Array(0),hae,0,19,7)})(),AO=!0),n.l_desc=new k3(n.dyn_ltree,xO),n.d_desc=new k3(n.dyn_dtree,kO),n.bl_desc=new k3(n.bl_tree,SO),n.bi_buf=0,n.bi_valid=0,QL(n)},_tr_stored_block:XL,_tr_flush_block:pae,_tr_tally:(n,t,e)=>(n.pending_buf[n.sym_buf+n.sym_next++]=t,n.pending_buf[n.sym_buf+n.sym_next++]=t>>8,n.pending_buf[n.sym_buf+n.sym_next++]=e,t===0?n.dyn_ltree[2*e]++:(n.matches++,t--,n.dyn_ltree[2*(Of[e]+_k+1)]++,n.dyn_dtree[2*jL(t)]++),n.sym_next===n.sym_end),_tr_align:n=>{ss(n,2,3),al(n,256,$l),(t=>{t.bi_valid===16?(h_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(n)}},Rf=(n,t,e,r)=>{let a=65535&n|0,o=n>>>16&65535|0,c=0;for(;e!==0;){c=e>2e3?2e3:e,e-=c;do a=a+t[r++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};const _ae=new Uint32Array((()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t})());var Gi=(n,t,e,r)=>{const a=_ae,o=r+e;n^=-1;for(let c=r;c<o;c++)n=n>>>8^a[255&(n^t[c])];return-1^n},Bu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Yu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:mae,_tr_stored_block:fx,_tr_flush_block:vae,_tr_tally:pc,_tr_align:gae}=fae,{Z_NO_FLUSH:fc,Z_PARTIAL_FLUSH:bae,Z_FULL_FLUSH:yae,Z_FINISH:Xs,Z_BLOCK:OO,Z_OK:aa,Z_STREAM_END:RO,Z_STREAM_ERROR:el,Z_DATA_ERROR:Eae,Z_BUF_ERROR:C3,Z_DEFAULT_COMPRESSION:wae,Z_FILTERED:xae,Z_HUFFMAN_ONLY:Mv,Z_RLE:kae,Z_FIXED:Sae,Z_DEFAULT_STRATEGY:Tae,Z_UNKNOWN:Cae,Z_DEFLATED:ab}=Yu,xu=258,fl=262,u0=42,_u=113,uf=666,mu=(n,t)=>(n.msg=Bu[t],t),MO=n=>2*n-(n>4?9:0),Yd=n=>{let t=n.length;for(;--t>=0;)n[t]=0},Iae=n=>{let t,e,r,a=n.w_size;t=n.hash_size,r=t;do e=n.head[--r],n.head[r]=e>=a?e-a:0;while(--t);t=a,r=t;do e=n.prev[--r],n.prev[r]=e>=a?e-a:0;while(--t)};let _c=(n,t,e)=>(t<<n.hash_shift^e)&n.hash_mask;const xs=n=>{const t=n.state;let e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(n.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Ts=(n,t)=>{vae(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,xs(n.strm)},br=(n,t)=>{n.pending_buf[n.pending++]=t},jp=(n,t)=>{n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=255&t},_x=(n,t,e,r)=>{let a=n.avail_in;return a>r&&(a=r),a===0?0:(n.avail_in-=a,t.set(n.input.subarray(n.next_in,n.next_in+a),e),n.state.wrap===1?n.adler=Rf(n.adler,t,a,e):n.state.wrap===2&&(n.adler=Gi(n.adler,t,a,e)),n.next_in+=a,n.total_in+=a,a)},ZL=(n,t)=>{let e,r,a=n.max_chain_length,o=n.strstart,c=n.prev_length,h=n.nice_match;const f=n.strstart>n.w_size-fl?n.strstart-(n.w_size-fl):0,m=n.window,v=n.w_mask,y=n.prev,w=n.strstart+xu;let x=m[o+c-1],C=m[o+c];n.prev_length>=n.good_match&&(a>>=2),h>n.lookahead&&(h=n.lookahead);do if(e=t,m[e+c]===C&&m[e+c-1]===x&&m[e]===m[o]&&m[++e]===m[o+1]){o+=2,e++;do;while(m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&m[++o]===m[++e]&&o<w);if(r=xu-(w-o),o=w-xu,r>c){if(n.match_start=t,c=r,r>=h)break;x=m[o+c-1],C=m[o+c]}}while((t=y[t&v])>f&&--a!=0);return c<=n.lookahead?c:n.lookahead},e0=n=>{const t=n.w_size;let e,r,a;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-fl)&&(n.window.set(n.window.subarray(t,t+t-r),0),n.match_start-=t,n.strstart-=t,n.block_start-=t,n.insert>n.strstart&&(n.insert=n.strstart),Iae(n),r+=t),n.strm.avail_in===0)break;if(e=_x(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=e,n.lookahead+n.insert>=3)for(a=n.strstart-n.insert,n.ins_h=n.window[a],n.ins_h=_c(n,n.ins_h,n.window[a+1]);n.insert&&(n.ins_h=_c(n,n.ins_h,n.window[a+3-1]),n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<fl&&n.strm.avail_in!==0)},JL=(n,t)=>{let e,r,a,o=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,c=0,h=n.strm.avail_in;do{if(e=65535,a=n.bi_valid+42>>3,n.strm.avail_out<a||(a=n.strm.avail_out-a,r=n.strstart-n.block_start,e>r+n.strm.avail_in&&(e=r+n.strm.avail_in),e>a&&(e=a),e<o&&(e===0&&t!==Xs||t===fc||e!==r+n.strm.avail_in)))break;c=t===Xs&&e===r+n.strm.avail_in?1:0,fx(n,0,0,c),n.pending_buf[n.pending-4]=e,n.pending_buf[n.pending-3]=e>>8,n.pending_buf[n.pending-2]=~e,n.pending_buf[n.pending-1]=~e>>8,xs(n.strm),r&&(r>e&&(r=e),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+r),n.strm.next_out),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r,n.block_start+=r,e-=r),e&&(_x(n.strm,n.strm.output,n.strm.next_out,e),n.strm.next_out+=e,n.strm.avail_out-=e,n.strm.total_out+=e)}while(c===0);return h-=n.strm.avail_in,h&&(h>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=h&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-h,n.strm.next_in),n.strstart),n.strstart+=h,n.insert+=h>n.w_size-n.insert?n.w_size-n.insert:h),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),c?4:t!==fc&&t!==Xs&&n.strm.avail_in===0&&n.strstart===n.block_start?2:(a=n.window_size-n.strstart,n.strm.avail_in>a&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,a+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),a>n.strm.avail_in&&(a=n.strm.avail_in),a&&(_x(n.strm,n.window,n.strstart,a),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.high_water<n.strstart&&(n.high_water=n.strstart),a=n.bi_valid+42>>3,a=n.pending_buf_size-a>65535?65535:n.pending_buf_size-a,o=a>n.w_size?n.w_size:a,r=n.strstart-n.block_start,(r>=o||(r||t===Xs)&&t!==fc&&n.strm.avail_in===0&&r<=a)&&(e=r>a?a:r,c=t===Xs&&n.strm.avail_in===0&&e===r?1:0,fx(n,n.block_start,e,c),n.block_start+=e,xs(n.strm)),c?3:1)},I3=(n,t)=>{let e,r;for(;;){if(n.lookahead<fl){if(e0(n),n.lookahead<fl&&t===fc)return 1;if(n.lookahead===0)break}if(e=0,n.lookahead>=3&&(n.ins_h=_c(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-fl&&(n.match_length=ZL(n,e)),n.match_length>=3)if(r=pc(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){n.match_length--;do n.strstart++,n.ins_h=_c(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!=0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=_c(n,n.ins_h,n.window[n.strstart+1]);else r=pc(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Ts(n,!1),n.strm.avail_out===0))return 1}return n.insert=n.strstart<2?n.strstart:2,t===Xs?(Ts(n,!0),n.strm.avail_out===0?3:4):n.sym_next&&(Ts(n,!1),n.strm.avail_out===0)?1:2},Dh=(n,t)=>{let e,r,a;for(;;){if(n.lookahead<fl){if(e0(n),n.lookahead<fl&&t===fc)return 1;if(n.lookahead===0)break}if(e=0,n.lookahead>=3&&(n.ins_h=_c(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-fl&&(n.match_length=ZL(n,e),n.match_length<=5&&(n.strategy===xae||n.match_length===3&&n.strstart-n.match_start>4096)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){a=n.strstart+n.lookahead-3,r=pc(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=a&&(n.ins_h=_c(n,n.ins_h,n.window[n.strstart+3-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!=0);if(n.match_available=0,n.match_length=2,n.strstart++,r&&(Ts(n,!1),n.strm.avail_out===0))return 1}else if(n.match_available){if(r=pc(n,0,n.window[n.strstart-1]),r&&Ts(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=pc(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,t===Xs?(Ts(n,!0),n.strm.avail_out===0?3:4):n.sym_next&&(Ts(n,!1),n.strm.avail_out===0)?1:2};function Yo(n,t,e,r,a){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=r,this.func=a}const hf=[new Yo(0,0,0,0,JL),new Yo(4,4,8,4,I3),new Yo(4,5,16,8,I3),new Yo(4,6,32,32,I3),new Yo(4,4,16,16,Dh),new Yo(8,16,32,32,Dh),new Yo(8,16,128,128,Dh),new Yo(8,32,128,256,Dh),new Yo(32,128,258,1024,Dh),new Yo(32,258,258,4096,Dh)];function Nae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ab,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Yd(this.dyn_ltree),Yd(this.dyn_dtree),Yd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Yd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Yd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const pf=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.status!==u0&&t.status!==57&&t.status!==69&&t.status!==73&&t.status!==91&&t.status!==103&&t.status!==_u&&t.status!==uf?1:0},eU=n=>{if(pf(n))return mu(n,el);n.total_in=n.total_out=0,n.data_type=Cae;const t=n.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?57:t.wrap?u0:_u,n.adler=t.wrap===2?0:1,t.last_flush=-2,mae(t),aa},nU=n=>{const t=eU(n);var e;return t===aa&&((e=n.state).window_size=2*e.w_size,Yd(e.head),e.max_lazy_match=hf[e.level].max_lazy,e.good_match=hf[e.level].good_length,e.nice_match=hf[e.level].nice_length,e.max_chain_length=hf[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},DO=(n,t,e,r,a,o)=>{if(!n)return el;let c=1;if(t===wae&&(t=6),r<0?(c=0,r=-r):r>15&&(c=2,r-=16),a<1||a>9||e!==ab||r<8||r>15||t<0||t>9||o<0||o>Sae||r===8&&c!==1)return mu(n,el);r===8&&(r=9);const h=new Nae;return n.state=h,h.strm=n,h.status=u0,h.wrap=c,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=3*(h.lit_bufsize-1),h.level=t,h.strategy=o,h.method=e,nU(n)};var Mf={deflateInit:(n,t)=>DO(n,t,ab,15,8,Tae),deflateInit2:DO,deflateReset:nU,deflateResetKeep:eU,deflateSetHeader:(n,t)=>pf(n)||n.state.wrap!==2?el:(n.state.gzhead=t,aa),deflate:(n,t)=>{if(pf(n)||t>OO||t<0)return n?mu(n,el):el;const e=n.state;if(!n.output||n.avail_in!==0&&!n.input||e.status===uf&&t!==Xs)return mu(n,n.avail_out===0?C3:el);const r=e.last_flush;if(e.last_flush=t,e.pending!==0){if(xs(n),n.avail_out===0)return e.last_flush=-1,aa}else if(n.avail_in===0&&MO(t)<=MO(r)&&t!==Xs)return mu(n,C3);if(e.status===uf&&n.avail_in!==0)return mu(n,C3);if(e.status===u0&&e.wrap===0&&(e.status=_u),e.status===u0){let a=ab+(e.w_bits-8<<4)<<8,o=-1;if(o=e.strategy>=Mv||e.level<2?0:e.level<6?1:e.level===6?2:3,a|=o<<6,e.strstart!==0&&(a|=32),a+=31-a%31,jp(e,a),e.strstart!==0&&(jp(e,n.adler>>>16),jp(e,65535&n.adler)),n.adler=1,e.status=_u,xs(n),e.pending!==0)return e.last_flush=-1,aa}if(e.status===57){if(n.adler=0,br(e,31),br(e,139),br(e,8),e.gzhead)br(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),br(e,255&e.gzhead.time),br(e,e.gzhead.time>>8&255),br(e,e.gzhead.time>>16&255),br(e,e.gzhead.time>>24&255),br(e,e.level===9?2:e.strategy>=Mv||e.level<2?4:0),br(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(br(e,255&e.gzhead.extra.length),br(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(n.adler=Gi(n.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(br(e,0),br(e,0),br(e,0),br(e,0),br(e,0),br(e,e.level===9?2:e.strategy>=Mv||e.level<2?4:0),br(e,3),e.status=_u,xs(n),e.pending!==0)return e.last_flush=-1,aa}if(e.status===69){if(e.gzhead.extra){let a=e.pending,o=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let h=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+h),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>a&&(n.adler=Gi(n.adler,e.pending_buf,e.pending-a,a)),e.gzindex+=h,xs(n),e.pending!==0)return e.last_flush=-1,aa;a=0,o-=h}let c=new Uint8Array(e.gzhead.extra);e.pending_buf.set(c.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>a&&(n.adler=Gi(n.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=73}if(e.status===73){if(e.gzhead.name){let a,o=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>o&&(n.adler=Gi(n.adler,e.pending_buf,e.pending-o,o)),xs(n),e.pending!==0)return e.last_flush=-1,aa;o=0}a=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,br(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>o&&(n.adler=Gi(n.adler,e.pending_buf,e.pending-o,o)),e.gzindex=0}e.status=91}if(e.status===91){if(e.gzhead.comment){let a,o=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>o&&(n.adler=Gi(n.adler,e.pending_buf,e.pending-o,o)),xs(n),e.pending!==0)return e.last_flush=-1,aa;o=0}a=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,br(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>o&&(n.adler=Gi(n.adler,e.pending_buf,e.pending-o,o))}e.status=103}if(e.status===103){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(xs(n),e.pending!==0))return e.last_flush=-1,aa;br(e,255&n.adler),br(e,n.adler>>8&255),n.adler=0}if(e.status=_u,xs(n),e.pending!==0)return e.last_flush=-1,aa}if(n.avail_in!==0||e.lookahead!==0||t!==fc&&e.status!==uf){let a=e.level===0?JL(e,t):e.strategy===Mv?((o,c)=>{let h;for(;;){if(o.lookahead===0&&(e0(o),o.lookahead===0)){if(c===fc)return 1;break}if(o.match_length=0,h=pc(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,h&&(Ts(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,c===Xs?(Ts(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(Ts(o,!1),o.strm.avail_out===0)?1:2})(e,t):e.strategy===kae?((o,c)=>{let h,f,m,v;const y=o.window;for(;;){if(o.lookahead<=xu){if(e0(o),o.lookahead<=xu&&c===fc)return 1;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=3&&o.strstart>0&&(m=o.strstart-1,f=y[m],f===y[++m]&&f===y[++m]&&f===y[++m])){v=o.strstart+xu;do;while(f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&f===y[++m]&&m<v);o.match_length=xu-(v-m),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=3?(h=pc(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(h=pc(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),h&&(Ts(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,c===Xs?(Ts(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(Ts(o,!1),o.strm.avail_out===0)?1:2})(e,t):hf[e.level].func(e,t);if(a!==3&&a!==4||(e.status=uf),a===1||a===3)return n.avail_out===0&&(e.last_flush=-1),aa;if(a===2&&(t===bae?gae(e):t!==OO&&(fx(e,0,0,!1),t===yae&&(Yd(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),xs(n),n.avail_out===0))return e.last_flush=-1,aa}return t!==Xs?aa:e.wrap<=0?RO:(e.wrap===2?(br(e,255&n.adler),br(e,n.adler>>8&255),br(e,n.adler>>16&255),br(e,n.adler>>24&255),br(e,255&n.total_in),br(e,n.total_in>>8&255),br(e,n.total_in>>16&255),br(e,n.total_in>>24&255)):(jp(e,n.adler>>>16),jp(e,65535&n.adler)),xs(n),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?aa:RO)},deflateEnd:n=>{if(pf(n))return el;const t=n.state.status;return n.state=null,t===_u?mu(n,Eae):aa},deflateSetDictionary:(n,t)=>{let e=t.length;if(pf(n))return el;const r=n.state,a=r.wrap;if(a===2||a===1&&r.status!==u0||r.lookahead)return el;if(a===1&&(n.adler=Rf(n.adler,t,e,0)),r.wrap=0,e>=r.w_size){a===0&&(Yd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let f=new Uint8Array(r.w_size);f.set(t.subarray(e-r.w_size,e),0),t=f,e=r.w_size}const o=n.avail_in,c=n.next_in,h=n.input;for(n.avail_in=e,n.next_in=0,n.input=t,e0(r);r.lookahead>=3;){let f=r.strstart,m=r.lookahead-2;do r.ins_h=_c(r,r.ins_h,r.window[f+3-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++;while(--m);r.strstart=f,r.lookahead=2,e0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,n.next_in=c,n.input=h,n.avail_in=o,r.wrap=a,aa},deflateInfo:"pako deflate (from Nodeca project)"};const Aae=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var Vb={assign:function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)Aae(e,r)&&(n[r]=e[r])}}return n},flattenChunks:n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,o=n.length;r<o;r++){let c=n[r];e.set(c,a),a+=c.length}return e}};let tU=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tU=!1}const p_=new Uint8Array(256);for(let n=0;n<256;n++)p_[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;p_[254]=p_[254]=1;var f_={string2buf:n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,o,c=n.length,h=0;for(a=0;a<c;a++)e=n.charCodeAt(a),(64512&e)==55296&&a+1<c&&(r=n.charCodeAt(a+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,a=0;o<h;a++)e=n.charCodeAt(a),(64512&e)==55296&&a+1<c&&(r=n.charCodeAt(a+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|63&e):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|63&e):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|63&e);return t},buf2string:(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const o=new Array(2*e);for(a=0,r=0;r<e;){let c=n[r++];if(c<128){o[a++]=c;continue}let h=p_[c];if(h>4)o[a++]=65533,r+=h-1;else{for(c&=h===2?31:h===3?15:7;h>1&&r<e;)c=c<<6|63&n[r++],h--;h>1?o[a++]=65533:c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|1023&c)}}return((c,h)=>{if(h<65534&&c.subarray&&tU)return String.fromCharCode.apply(null,c.length===h?c:c.subarray(0,h));let f="";for(let m=0;m<h;m++)f+=String.fromCharCode(c[m]);return f})(o,a)},utf8border:(n,t)=>{(t=t||n.length)>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(192&n[e])==128;)e--;return e<0||e===0?t:e+p_[n[e]]>t?e:t}},rU=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const iU=Object.prototype.toString,{Z_NO_FLUSH:Oae,Z_SYNC_FLUSH:Rae,Z_FULL_FLUSH:Mae,Z_FINISH:Dae,Z_OK:sb,Z_STREAM_END:Lae,Z_DEFAULT_COMPRESSION:Uae,Z_DEFAULT_STRATEGY:Pae,Z_DEFLATED:Fae}=Yu;function Df(n){this.options=Vb.assign({level:Uae,method:Fae,chunkSize:16384,windowBits:15,memLevel:8,strategy:Pae},n||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rU,this.strm.avail_out=0;let e=Mf.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==sb)throw new Error(Bu[e]);if(t.header&&Mf.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(r=typeof t.dictionary=="string"?f_.string2buf(t.dictionary):iU.call(t.dictionary)==="[object ArrayBuffer]"?new Uint8Array(t.dictionary):t.dictionary,e=Mf.deflateSetDictionary(this.strm,r),e!==sb)throw new Error(Bu[e]);this._dict_set=!0}}function N3(n,t){const e=new Df(t);if(e.push(n,!0),e.err)throw e.msg||Bu[e.err];return e.result}Df.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize;let a,o;if(this.ended)return!1;for(o=t===~~t?t:t===!0?Dae:Oae,typeof n=="string"?e.input=f_.string2buf(n):iU.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;)if(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),(o===Rae||o===Mae)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(a=Mf.deflate(e,o),a===Lae)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),a=Mf.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===sb;if(e.avail_out!==0){if(o>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(e.avail_in===0)break}else this.onData(e.output)}return!0},Df.prototype.onData=function(n){this.chunks.push(n)},Df.prototype.onEnd=function(n){n===sb&&(this.result=Vb.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var Hae={Deflate:Df,deflate:N3,deflateRaw:function(n,t){return(t=t||{}).raw=!0,N3(n,t)},gzip:function(n,t){return(t=t||{}).gzip=!0,N3(n,t)},constants:Yu};const Dv=16209;var Bae=function(n,t){let e,r,a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M,q;const z=n.state;e=n.next_in,M=n.input,r=e+(n.avail_in-5),a=n.next_out,q=n.output,o=a-(t-n.avail_out),c=a+(n.avail_out-257),h=z.dmax,f=z.wsize,m=z.whave,v=z.wnext,y=z.window,w=z.hold,x=z.bits,C=z.lencode,A=z.distcode,L=(1<<z.lenbits)-1,S=(1<<z.distbits)-1;e:do{x<15&&(w+=M[e++]<<x,x+=8,w+=M[e++]<<x,x+=8),k=C[w&L];n:for(;;){if(N=k>>>24,w>>>=N,x-=N,N=k>>>16&255,N===0)q[a++]=65535&k;else{if(!(16&N)){if((64&N)==0){k=C[(65535&k)+(w&(1<<N)-1)];continue n}if(32&N){z.mode=16191;break e}n.msg="invalid literal/length code",z.mode=Dv;break e}O=65535&k,N&=15,N&&(x<N&&(w+=M[e++]<<x,x+=8),O+=w&(1<<N)-1,w>>>=N,x-=N),x<15&&(w+=M[e++]<<x,x+=8,w+=M[e++]<<x,x+=8),k=A[w&S];t:for(;;){if(N=k>>>24,w>>>=N,x-=N,N=k>>>16&255,!(16&N)){if((64&N)==0){k=A[(65535&k)+(w&(1<<N)-1)];continue t}n.msg="invalid distance code",z.mode=Dv;break e}if(H=65535&k,N&=15,x<N&&(w+=M[e++]<<x,x+=8,x<N&&(w+=M[e++]<<x,x+=8)),H+=w&(1<<N)-1,H>h){n.msg="invalid distance too far back",z.mode=Dv;break e}if(w>>>=N,x-=N,N=a-o,H>N){if(N=H-N,N>m&&z.sane){n.msg="invalid distance too far back",z.mode=Dv;break e}if(D=0,T=y,v===0){if(D+=f-N,N<O){O-=N;do q[a++]=y[D++];while(--N);D=a-H,T=q}}else if(v<N){if(D+=f+v-N,N-=v,N<O){O-=N;do q[a++]=y[D++];while(--N);if(D=0,v<O){N=v,O-=N;do q[a++]=y[D++];while(--N);D=a-H,T=q}}}else if(D+=v-N,N<O){O-=N;do q[a++]=y[D++];while(--N);D=a-H,T=q}for(;O>2;)q[a++]=T[D++],q[a++]=T[D++],q[a++]=T[D++],O-=3;O&&(q[a++]=T[D++],O>1&&(q[a++]=T[D++]))}else{D=a-H;do q[a++]=q[D++],q[a++]=q[D++],q[a++]=q[D++],O-=3;while(O>2);O&&(q[a++]=q[D++],O>1&&(q[a++]=q[D++]))}break}}break}}while(e<r&&a<c);O=x>>3,e-=O,x-=O<<3,w&=(1<<x)-1,n.next_in=e,n.next_out=a,n.avail_in=e<r?r-e+5:5-(e-r),n.avail_out=a<c?c-a+257:257-(a-c),z.hold=w,z.bits=x};const Lv=15,$ae=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),zae=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vae=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Gae=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Lf=(n,t,e,r,a,o,c,h)=>{const f=h.bits;let m,v,y,w,x,C,A=0,L=0,S=0,k=0,N=0,O=0,H=0,D=0,T=0,M=0,q=null;const z=new Uint16Array(16),te=new Uint16Array(16);let he,B,W,re=null;for(A=0;A<=Lv;A++)z[A]=0;for(L=0;L<r;L++)z[t[e+L]]++;for(N=f,k=Lv;k>=1&&z[k]===0;k--);if(N>k&&(N=k),k===0)return a[o++]=20971520,a[o++]=20971520,h.bits=1,0;for(S=1;S<k&&z[S]===0;S++);for(N<S&&(N=S),D=1,A=1;A<=Lv;A++)if(D<<=1,D-=z[A],D<0)return-1;if(D>0&&(n===0||k!==1))return-1;for(te[1]=0,A=1;A<Lv;A++)te[A+1]=te[A]+z[A];for(L=0;L<r;L++)t[e+L]!==0&&(c[te[t[e+L]]++]=L);if(n===0?(q=re=c,C=20):n===1?(q=$ae,re=zae,C=257):(q=Vae,re=Gae,C=0),M=0,L=0,A=S,x=o,O=N,H=0,y=-1,T=1<<N,w=T-1,n===1&&T>852||n===2&&T>592)return 1;for(;;){he=A-H,c[L]+1<C?(B=0,W=c[L]):c[L]>=C?(B=re[c[L]-C],W=q[c[L]-C]):(B=96,W=0),m=1<<A-H,v=1<<O,S=v;do v-=m,a[x+(M>>H)+v]=he<<24|B<<16|W|0;while(v!==0);for(m=1<<A-1;M&m;)m>>=1;if(m!==0?(M&=m-1,M+=m):M=0,L++,--z[A]==0){if(A===k)break;A=t[e+c[L]]}if(A>N&&(M&w)!==y){for(H===0&&(H=N),x+=S,O=A-H,D=1<<O;O+H<k&&(D-=z[O+H],!(D<=0));)O++,D<<=1;if(T+=1<<O,n===1&&T>852||n===2&&T>592)return 1;y=M&w,a[y]=N<<24|O<<16|x-o|0}}return M!==0&&(a[x+M]=A-H<<24|64<<16|0),h.bits=N,0};const{Z_FINISH:LO,Z_BLOCK:qae,Z_TREES:Uv,Z_OK:vu,Z_STREAM_END:jae,Z_NEED_DICT:Kae,Z_STREAM_ERROR:Ks,Z_DATA_ERROR:UO,Z_MEM_ERROR:PO,Z_BUF_ERROR:Wae,Z_DEFLATED:FO}=Yu,Gb=16180,Pv=16190,Pl=16191,A3=16192,O3=16194,Fv=16199,Hv=16200,R3=16206,ri=16209,HO=n=>(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24);function Qae(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ku=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<Gb||t.mode>16211?1:0},aU=n=>{if(ku(n))return Ks;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=1&t.wrap),t.mode=Gb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,vu},sU=n=>{if(ku(n))return Ks;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,aU(n)},oU=(n,t)=>{let e;if(ku(n))return Ks;const r=n.state;return t<0?(e=0,t=-t):(e=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Ks:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,sU(n))},BO=(n,t)=>{if(!n)return Ks;const e=new Qae;n.state=e,e.strm=n,e.window=null,e.mode=Gb;const r=oU(n,t);return r!==vu&&(n.state=null),r};let M3,D3,$O=!0;const Yae=n=>{if($O){M3=new Int32Array(512),D3=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Lf(1,n.lens,0,288,M3,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Lf(2,n.lens,0,32,D3,0,n.work,{bits:5}),$O=!1}n.lencode=M3,n.lenbits=9,n.distcode=D3,n.distbits=5},zO=(n,t,e,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(t.subarray(e-r,e-r+a),o.wnext),(r-=a)?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0};var jl={inflateReset:sU,inflateReset2:oU,inflateResetKeep:aU,inflateInit:n=>BO(n,15),inflateInit2:BO,inflate:(n,t)=>{let e,r,a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M=0;const q=new Uint8Array(4);let z,te;const he=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ku(n)||!n.output||!n.input&&n.avail_in!==0)return Ks;e=n.state,e.mode===Pl&&(e.mode=A3),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,v=e.bits,y=h,w=f,T=vu;e:for(;;)switch(e.mode){case Gb:if(e.wrap===0){e.mode=A3;break}for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(2&e.wrap&&m===35615){e.wbits===0&&(e.wbits=15),e.check=0,q[0]=255&m,q[1]=m>>>8&255,e.check=Gi(e.check,q,2,0),m=0,v=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&m)<<8)+(m>>8))%31){n.msg="incorrect header check",e.mode=ri;break}if((15&m)!==FO){n.msg="unknown compression method",e.mode=ri;break}if(m>>>=4,v-=4,D=8+(15&m),e.wbits===0&&(e.wbits=D),D>15||D>e.wbits){n.msg="invalid window size",e.mode=ri;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=512&m?16189:Pl,m=0,v=0;break;case 16181:for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(e.flags=m,(255&e.flags)!==FO){n.msg="unknown compression method",e.mode=ri;break}if(57344&e.flags){n.msg="unknown header flags set",e.mode=ri;break}e.head&&(e.head.text=m>>8&1),512&e.flags&&4&e.wrap&&(q[0]=255&m,q[1]=m>>>8&255,e.check=Gi(e.check,q,2,0)),m=0,v=0,e.mode=16182;case 16182:for(;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.head&&(e.head.time=m),512&e.flags&&4&e.wrap&&(q[0]=255&m,q[1]=m>>>8&255,q[2]=m>>>16&255,q[3]=m>>>24&255,e.check=Gi(e.check,q,4,0)),m=0,v=0,e.mode=16183;case 16183:for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.head&&(e.head.xflags=255&m,e.head.os=m>>8),512&e.flags&&4&e.wrap&&(q[0]=255&m,q[1]=m>>>8&255,e.check=Gi(e.check,q,2,0)),m=0,v=0,e.mode=16184;case 16184:if(1024&e.flags){for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.length=m,e.head&&(e.head.extra_len=m),512&e.flags&&4&e.wrap&&(q[0]=255&m,q[1]=m>>>8&255,e.check=Gi(e.check,q,2,0)),m=0,v=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(x=e.length,x>h&&(x=h),x&&(e.head&&(D=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+x),D)),512&e.flags&&4&e.wrap&&(e.check=Gi(e.check,r,x,o)),h-=x,o+=x,e.length-=x),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(h===0)break e;x=0;do D=r[o+x++],e.head&&D&&e.length<65536&&(e.head.name+=String.fromCharCode(D));while(D&&x<h);if(512&e.flags&&4&e.wrap&&(e.check=Gi(e.check,r,x,o)),h-=x,o+=x,D)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(h===0)break e;x=0;do D=r[o+x++],e.head&&D&&e.length<65536&&(e.head.comment+=String.fromCharCode(D));while(D&&x<h);if(512&e.flags&&4&e.wrap&&(e.check=Gi(e.check,r,x,o)),h-=x,o+=x,D)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(4&e.wrap&&m!==(65535&e.check)){n.msg="header crc mismatch",e.mode=ri;break}m=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Pl;break;case 16189:for(;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}n.adler=e.check=HO(m),m=0,v=0,e.mode=Pv;case Pv:if(e.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=v,Kae;n.adler=e.check=1,e.mode=Pl;case Pl:if(t===qae||t===Uv)break e;case A3:if(e.last){m>>>=7&v,v-=7&v,e.mode=R3;break}for(;v<3;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}switch(e.last=1&m,m>>>=1,v-=1,3&m){case 0:e.mode=16193;break;case 1:if(Yae(e),e.mode=Fv,t===Uv){m>>>=2,v-=2;break e}break;case 2:e.mode=16196;break;case 3:n.msg="invalid block type",e.mode=ri}m>>>=2,v-=2;break;case 16193:for(m>>>=7&v,v-=7&v;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){n.msg="invalid stored block lengths",e.mode=ri;break}if(e.length=65535&m,m=0,v=0,e.mode=O3,t===Uv)break e;case O3:e.mode=16195;case 16195:if(x=e.length,x){if(x>h&&(x=h),x>f&&(x=f),x===0)break e;a.set(r.subarray(o,o+x),c),h-=x,o+=x,f-=x,c+=x,e.length-=x;break}e.mode=Pl;break;case 16196:for(;v<14;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(e.nlen=257+(31&m),m>>>=5,v-=5,e.ndist=1+(31&m),m>>>=5,v-=5,e.ncode=4+(15&m),m>>>=4,v-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=ri;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;v<3;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.lens[he[e.have++]]=7&m,m>>>=3,v-=3}for(;e.have<19;)e.lens[he[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,z={bits:e.lenbits},T=Lf(0,e.lens,0,19,e.lencode,0,e.work,z),e.lenbits=z.bits,T){n.msg="invalid code lengths set",e.mode=ri;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;M=e.lencode[m&(1<<e.lenbits)-1],L=M>>>24,S=M>>>16&255,k=65535&M,!(L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(k<16)m>>>=L,v-=L,e.lens[e.have++]=k;else{if(k===16){for(te=L+2;v<te;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(m>>>=L,v-=L,e.have===0){n.msg="invalid bit length repeat",e.mode=ri;break}D=e.lens[e.have-1],x=3+(3&m),m>>>=2,v-=2}else if(k===17){for(te=L+3;v<te;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=L,v-=L,D=0,x=3+(7&m),m>>>=3,v-=3}else{for(te=L+7;v<te;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=L,v-=L,D=0,x=11+(127&m),m>>>=7,v-=7}if(e.have+x>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=ri;break}for(;x--;)e.lens[e.have++]=D}}if(e.mode===ri)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=ri;break}if(e.lenbits=9,z={bits:e.lenbits},T=Lf(1,e.lens,0,e.nlen,e.lencode,0,e.work,z),e.lenbits=z.bits,T){n.msg="invalid literal/lengths set",e.mode=ri;break}if(e.distbits=6,e.distcode=e.distdyn,z={bits:e.distbits},T=Lf(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,z),e.distbits=z.bits,T){n.msg="invalid distances set",e.mode=ri;break}if(e.mode=Fv,t===Uv)break e;case Fv:e.mode=Hv;case Hv:if(h>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=v,Bae(n,w),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,v=e.bits,e.mode===Pl&&(e.back=-1);break}for(e.back=0;M=e.lencode[m&(1<<e.lenbits)-1],L=M>>>24,S=M>>>16&255,k=65535&M,!(L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(S&&(240&S)==0){for(N=L,O=S,H=k;M=e.lencode[H+((m&(1<<N+O)-1)>>N)],L=M>>>24,S=M>>>16&255,k=65535&M,!(N+L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=N,v-=N,e.back+=N}if(m>>>=L,v-=L,e.back+=L,e.length=k,S===0){e.mode=16205;break}if(32&S){e.back=-1,e.mode=Pl;break}if(64&S){n.msg="invalid literal/length code",e.mode=ri;break}e.extra=15&S,e.mode=16201;case 16201:if(e.extra){for(te=e.extra;v<te;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.length+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;M=e.distcode[m&(1<<e.distbits)-1],L=M>>>24,S=M>>>16&255,k=65535&M,!(L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if((240&S)==0){for(N=L,O=S,H=k;M=e.distcode[H+((m&(1<<N+O)-1)>>N)],L=M>>>24,S=M>>>16&255,k=65535&M,!(N+L<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=N,v-=N,e.back+=N}if(m>>>=L,v-=L,e.back+=L,64&S){n.msg="invalid distance code",e.mode=ri;break}e.offset=k,e.extra=15&S,e.mode=16203;case 16203:if(e.extra){for(te=e.extra;v<te;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}e.offset+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=ri;break}e.mode=16204;case 16204:if(f===0)break e;if(x=w-f,e.offset>x){if(x=e.offset-x,x>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=ri;break}x>e.wnext?(x-=e.wnext,C=e.wsize-x):C=e.wnext-x,x>e.length&&(x=e.length),A=e.window}else A=a,C=c-e.offset,x=e.length;x>f&&(x=f),f-=x,e.length-=x;do a[c++]=A[C++];while(--x);e.length===0&&(e.mode=Hv);break;case 16205:if(f===0)break e;a[c++]=e.length,f--,e.mode=Hv;break;case R3:if(e.wrap){for(;v<32;){if(h===0)break e;h--,m|=r[o++]<<v,v+=8}if(w-=f,n.total_out+=w,e.total+=w,4&e.wrap&&w&&(n.adler=e.check=e.flags?Gi(e.check,a,w,c-w):Rf(e.check,a,w,c-w)),w=f,4&e.wrap&&(e.flags?m:HO(m))!==e.check){n.msg="incorrect data check",e.mode=ri;break}m=0,v=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(4&e.wrap&&m!==(4294967295&e.total)){n.msg="incorrect length check",e.mode=ri;break}m=0,v=0}e.mode=16208;case 16208:T=jae;break e;case ri:T=UO;break e;case 16210:return PO;default:return Ks}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=v,(e.wsize||w!==n.avail_out&&e.mode<ri&&(e.mode<R3||t!==LO))&&zO(n,n.output,n.next_out,w-n.avail_out),y-=n.avail_in,w-=n.avail_out,n.total_in+=y,n.total_out+=w,e.total+=w,4&e.wrap&&w&&(n.adler=e.check=e.flags?Gi(e.check,a,w,n.next_out-w):Rf(e.check,a,w,n.next_out-w)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Pl?128:0)+(e.mode===Fv||e.mode===O3?256:0),(y===0&&w===0||t===LO)&&T===vu&&(T=Wae),T},inflateEnd:n=>{if(ku(n))return Ks;let t=n.state;return t.window&&(t.window=null),n.state=null,vu},inflateGetHeader:(n,t)=>{if(ku(n))return Ks;const e=n.state;return(2&e.wrap)==0?Ks:(e.head=t,t.done=!1,vu)},inflateSetDictionary:(n,t)=>{const e=t.length;let r,a,o;return ku(n)?Ks:(r=n.state,r.wrap!==0&&r.mode!==Pv?Ks:r.mode===Pv&&(a=1,a=Rf(a,t,e,0),a!==r.check)?UO:(o=zO(n,t,e,e),o?(r.mode=16210,PO):(r.havedict=1,vu)))},inflateInfo:"pako inflate (from Nodeca project)"},Xae=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const lU=Object.prototype.toString,{Z_NO_FLUSH:Zae,Z_FINISH:Jae,Z_OK:Uf,Z_STREAM_END:L3,Z_NEED_DICT:U3,Z_STREAM_ERROR:ese,Z_DATA_ERROR:VO,Z_MEM_ERROR:nse}=Yu;function Pf(n){this.options=Vb.assign({chunkSize:65536,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||n&&n.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rU,this.strm.avail_out=0;let e=jl.inflateInit2(this.strm,t.windowBits);if(e!==Uf)throw new Error(Bu[e]);if(this.header=new Xae,jl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=f_.string2buf(t.dictionary):lU.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=jl.inflateSetDictionary(this.strm,t.dictionary),e!==Uf)))throw new Error(Bu[e])}function P3(n,t){const e=new Pf(t);if(e.push(n),e.err)throw e.msg||Bu[e.err];return e.result}Pf.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(c=t===~~t?t:t===!0?Jae:Zae,lU.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=jl.inflate(e,c),o===U3&&a&&(o=jl.inflateSetDictionary(e,a),o===Uf?o=jl.inflate(e,c):o===VO&&(o=U3));e.avail_in>0&&o===L3&&e.state.wrap>0&&n[e.next_in]!==0;)jl.inflateReset(e),o=jl.inflate(e,c);switch(o){case ese:case VO:case U3:case nse:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===L3))if(this.options.to==="string"){let f=f_.utf8border(e.output,e.next_out),m=e.next_out-f,v=f_.buf2string(e.output,f);e.next_out=m,e.avail_out=r-m,m&&e.output.set(e.output.subarray(f,f+m),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(o!==Uf||h!==0){if(o===L3)return o=jl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},Pf.prototype.onData=function(n){this.chunks.push(n)},Pf.prototype.onEnd=function(n){n===Uf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Vb.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var tse={Inflate:Pf,inflate:P3,inflateRaw:function(n,t){return(t=t||{}).raw=!0,P3(n,t)},ungzip:P3,constants:Yu};const{Deflate:rse,deflate:ise,deflateRaw:ase,gzip:sse}=Hae,{Inflate:ose,inflate:lse,inflateRaw:dse,ungzip:cse}=tse;var sl,use={Deflate:rse,deflate:ise,deflateRaw:ase,gzip:sse,Inflate:ose,inflate:lse,inflateRaw:dse,ungzip:cse,constants:Yu};(function(n){n.CONNECTING="CONNECTING",n.OPEN="OPEN",n.CLOSED="CLOSED"})(sl||(sl={}));var Gt,hse=function(n){function t(e,r){var a=r.sdkState,o=r.dispatcher,c=r.logger,h=n.call(this)||this;return h.lastActive=0,h._iid=e,h._sdkState=a,h._dispatcher=o,h._logger=c,h}return ee(t,n),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.connectionState===sl.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return sl.CONNECTING;case 1:return sl.OPEN}return sl.CLOSED},enumerable:!1,configurable:!0}),t.prototype._handleMessage=function(e){var r=this;e.split(`
`).forEach(function(a){if(a){var o=lr.createFromRawMessage(r._iid,a);r._logger.debug("receive websocket event",o),o.code==="LOGI"?r.dispatch("message",o):o.code==="PONG"?r.dispatch("pong"):o.code==="EXPR"?o.payload&&o.payload.expires_in>=0&&r._dispatcher.dispatch(new zb):o.code==="NOOP"||r.dispatch("message",o)}})},t.prototype.connect=function(e){var r=this;this._ws=new WebSocket(e),this._ws.onopen=function(){r._logger.debug("websocket open"),r.dispatch("open")},this._ws.onmessage=function(a){return F(r,void 0,void 0,function(){var o,c,h=this;return P(this,function(f){return!((c=this._sdkState.websocket)===null||c===void 0)&&c.compression?a.data instanceof Blob?((o=new FileReader).readAsArrayBuffer(a.data),o.onloadend=function(){return F(h,void 0,void 0,function(){var m;return P(this,function(v){switch(v.label){case 0:return[4,(y=o.result,F(void 0,void 0,void 0,function(){var w;return P(this,function(x){return w=use.ungzip(y),[2,String.fromCharCode.apply(null,w)]})}))];case 1:return m=v.sent(),this._handleMessage(m),[2]}var y})})}):typeof a.data=="string"&&this._handleMessage(a.data):this._handleMessage(a.data),[2]})})},this._ws.onerror=function(){r._logger.debug("websocket error"),r.dispatch("error",Le.networkError)},this._ws.onclose=function(){r._logger.debug("websocket close"),r.dispatch("close")},this.lastActive=Date.now()},t.prototype.disconnect=function(){var e=this;return new Promise(function(r){e._logger.debug("websocket disconnect"),e._ws&&e.connectionState!==sl.CLOSED?(e._ws.onopen=bt,e._ws.onmessage=bt,e._ws.onerror=bt,e._ws.onclose=function(){e.dispatch("close"),r()},e._ws.close(),e._ws=null):r()})},t.prototype.send=function(e){if(!this._ws)throw Le.connectionClosed;e.code!=="PING"?this.dispatch("ping-refresh"):this._logger.debug("send ping",e),this._ws.send(e.convertToMessage())},t.prototype.error=function(e){this._logger.debug("websocket error",e),this.dispatch("error",e)},t}(Qu),Qa=function(n){function t(e){var r,a=e.code,o=e.ackRequired,c=e.payload,h=c===void 0?null:c,f=this;return(f=n.call(this)||this).code=a,f.payload=h,f.requestId=(r=f.payload.req_id)!==null&&r!==void 0?r:Cc(),f.ackRequired=o,f.payload.req_id=f.requestId,f}return ee(t,n),t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),`
`)},t}(pi),dU=function(n){function t(e){var r=e.all,a=e.custom_types,o=e.ts,c=n.call(this)||this;return c.all=r,c.customTypes=a,c.ts=o,c}return ee(t,n),t}(pi),Va=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})},pse=function(){function n(t,e){var r=e.auth,a=e.sdkState,o=e.dispatcher,c=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,m=this;this._ackStateMap=new Map,this._sdkState=a,this._dispatcher=o,this._logger=c,this.apiClient=new uae(t,{auth:r,sdkState:a,dispatcher:o,logger:c,useFetchCompat:f}),this.websocketClient=new hse(t,{sdkState:a,dispatcher:o,logger:c}),this.websocketClient.on("message",function(v){if(v.payload.unread_cnt&&m._dispatcher.dispatch(new dU(v.payload.unread_cnt)),v.requestId){if(m._ackStateMap.has(v.requestId)){var y=m._ackStateMap.get(v.requestId);v.code!=="EROR"?y.resolve(v):y.reject(new Le({code:v.payload.code,message:v.payload.message}))}}else m._dispatcher.dispatch(v)}).on("close",function(){m._ackStateMap.forEach(function(v){v.reject(Le.connectionClosed)}),m._ackStateMap.clear()})}return n.prototype._sendApiRequest=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this.apiClient.send(t)];case 1:return[2,e.sent()]}})})},n.prototype._sendWebsocketRequest=function(t){return F(this,void 0,void 0,function(){var e,r,a,o=this;return P(this,function(c){if(e=new Va,t.ackRequired){r=null,a=function(h,f){h===void 0&&(h=null),f===void 0&&(f=null),o._ackStateMap.has(t.requestId)&&(o._ackStateMap.delete(t.requestId),r&&(clearTimeout(r),r=null),h?(o._logger.debug("fail websocket request",h),e.reject(h)):(o._logger.debug("receive websocket ack",t.requestId),e.resolve(f)))};try{r=setTimeout(function(){return a(Le.noAckTimeout)},this._sdkState.websocket.responseTimeout),this._ackStateMap.set(t.requestId,{resolve:function(h){return a(null,h)},reject:function(h){return a(h)}}),this.websocketClient.send(t)}catch(h){a(h)}}else try{this.websocketClient.send(t),e.resolve(null)}catch(h){e.reject(h)}return[2,e.promise]})})},n.prototype.send=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return t instanceof _n?[4,this._sendApiRequest(t)]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return t instanceof Qa?[4,this._sendWebsocketRequest(t)]:[3,4];case 4:throw Le.invalidParameters}})})},n.prototype.cancel=function(t){this.apiClient.cancel(t)},n.prototype.cancelAll=function(){this.apiClient.cancelAll()},n}();(function(n){n[n.NONE=0]="NONE",n[n.INITIALIZED=1]="INITIALIZED",n[n.CONNECTING=2]="CONNECTING",n[n.CONNECTED=3]="CONNECTED",n[n.RECONNECTING=4]="RECONNECTING",n[n.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",n[n.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",n[n.LOGOUT=7]="LOGOUT"})(Gt||(Gt={}));var ps=function(n){function t(e){var r=e.stateType,a=n.call(this)||this;return a.stateType=r,a}return ee(t,n),t}(pi),fse=function(){function n(t,e){var r=e.auth,a=e.sdkState,o=e.dispatcher,c=e.logger,h=e.useFetchCompat,f=h!==void 0&&h,m=this;this._currentConnectionStateType=Gt.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new pse(t,{auth:r,sdkState:a,dispatcher:o,logger:c,useFetchCompat:f}),this._auth=r,this._logger=c,this._dispatcher=o,this._dispatcher.on(function(v){if(v instanceof ps){var y=v.stateType;switch(m._currentConnectionStateType=y,y){case Gt.CONNECTED:var w=m._lazyCallQueue;m._lazyCallQueue=[],w.forEach(function(x){return F(m,void 0,void 0,function(){var C,A,L,S,k;return P(this,function(N){switch(N.label){case 0:C=x.command,A=x.deferred,L=x.timeout,clearTimeout(L),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,this.send(C)];case 2:return S=N.sent(),A.resolve(S),[3,4];case 3:return k=N.sent(),A.reject(k),[3,4];case 4:return[2]}})})});break;case Gt.INITIALIZED:case Gt.INTERNAL_DISCONNECTED:case Gt.EXTERNAL_DISCONNECTED:case Gt.LOGOUT:w=m._lazyCallQueue,m._lazyCallQueue=[],w.forEach(function(x){return F(m,void 0,void 0,function(){var C,A;return P(this,function(L){return C=x.deferred,A=x.timeout,clearTimeout(A),this._auth&&this._auth.hasSession?C.reject(Le.connectionClosed):C.reject(Le.connectionRequired),[2]})})})}}})}return Object.defineProperty(n.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Gt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Gt.CONNECTING||this._currentConnectionStateType===Gt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype.send=function(t){return F(this,void 0,void 0,function(){var e,r,a=this;return P(this,function(o){switch(o.label){case 0:return t instanceof Qa?this.isReady?(this._logger.debug("send websocket request",t),[4,this.commandRouter.send(t)]):[3,2]:[3,4];case 1:case 5:return[2,o.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",t),e=new Va,this._lazyCallQueue.push({command:t,deferred:e,timeout:setTimeout(function(){return a.timeout(t.requestId)},1e4)}),[2,e.promise];throw this._logger.debug("fail websocket request"),Le.connectionRequired;case 3:return[3,7];case 4:return t instanceof _n?this._auth.hasSession?(this._logger.debug("send api request",t),[4,this.commandRouter.send(t)]):[3,6]:[3,7];case 6:if(this.isLazyCallActivated)return this._logger.debug("wait api request",t),e=new Va,this._lazyCallQueue.push({command:t,deferred:e,timeout:setTimeout(function(){return a.timeout(t.requestId)},1e4)}),[2,e.promise];throw r=Le.connectionRequired,this._logger.debug("fail api request",r),r;case 7:return[2]}})})},n.prototype.forceSend=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this._logger.debug("send forced request",t),[4,this.commandRouter.send(t)];case 1:return[2,e.sent()]}})})},n.prototype.timeout=function(t){this._logger.debug("timeout request",t);var e=this._lazyCallQueue.findIndex(function(r){return r.command.requestId===t});e>-1&&(this._lazyCallQueue[e].deferred.reject(Le.connectionRequired),this._lazyCallQueue.splice(e,1))},n.prototype.cancel=function(t){this._logger.debug("cancel api request",t),this.commandRouter.cancel(t)},n.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},n}(),F3="sendbird@devicetokens",H3=function(){function n(t){var e=t.type,r=t.token;this.type=e,this.token=r}return n.payloadify=function(t){return{type:t.type,token:t.token}},n}(),Us="v3",Ut="/".concat(Us,"/users"),_se="/".concat(Us,"/storage/file"),va="/".concat(Us,"/group_channels"),mse="/".concat(Us,"/sdk/group_channels"),Xu="/".concat(Us,"/open_channels"),vse="/".concat(Us,"/sdk/open_channels"),gse="/".concat(Us,"/search"),mx="/".concat(Us,"/report"),bse="/".concat(Us,"/emojis"),cU="/".concat(Us,"/emoji_categories"),Ro="/".concat(Us,"/polls"),uU="/".concat(Us,"/scheduled_messages"),yse="/".concat(Us,"/sdk/statistics"),Ese=function(n){function t(e){var r=e.userId,a=e.authToken,o=e.expiringSession,c=o===void 0||o,h=n.call(this)||this;return h.path="".concat(Ut,"/").concat(r,"/session_key"),h.method=pn.POST,h.params={token:a,expiring_session:!!c},h.requireAuth=!1,h}return ee(t,n),t}(_n),wse=function(n){function t(e){var r=e.authToken,a=e.expiringSession,o=a===void 0||a,c=e.requestId,h=c===void 0?null:c;return n.call(this,{code:"LOGI",payload:{token:r,expiring_session:o?1:0,req_id:h},ackRequired:!0})||this}return ee(t,n),t}(Qa),xse=function(n){function t(e,r){var a=n.call(this,e,r)||this,o=r.key;return a.key=o,a}return ee(t,n),t}(gn),kse=function(n){function t(e,r,a){var o=n.call(this,e,"LOGI",a)||this;return o.error=null,o.newKey=a.new_key,o.error=a.error?new Le(a.error):null,o}return ee(t,n),t}(lr),GO=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ee(t,n),t}(pi),So=function(n){return F(void 0,void 0,void 0,function(){return P(this,function(t){return[2,new Promise(function(e){return setTimeout(e,n)})]})})},hU=function(){function n(){}return n.prototype.calcTimeout=function(){return 0},n}(),qb=function(n,t,e){return e===void 0&&(e=new hU),F(void 0,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:r=0,a=null,o=function(v){return v===void 0&&(v=null),a=v!=null?v:new Error("Halted")},c=function(){r=0},m.label=1;case 1:if(!(t===-1||r<t))return[3,9];m.label=2;case 2:return m.trys.push([2,4,,8]),[4,n(o,c)];case 3:if(h=m.sent(),a)throw a;return[2,h];case 4:if(f=m.sent(),a)return[3,6];if(++r===t)throw f;return[4,So(e.calcTimeout(r))];case 5:return m.sent(),[3,7];case 6:throw a;case 7:return[3,8];case 8:return[3,1];case 9:return[2]}})})},$n=function(n){return F(void 0,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n()];case 1:return e.sent(),[3,3];case 2:if(!((t=e.sent())instanceof Le))throw t;return t.throwOutside(),[3,3];case 3:return[2]}})})},di=function(n){return F(void 0,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,n()];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}})})},B3=new WeakMap,Sse=function(n){function t(e){var r=e.auth,a=e.cacheContext,o=e.sdkState,c=e.dispatcher,h=e.requestQueue,f=e.logger,m=n.call(this)||this;return m._currentConnectionStateType=Gt.INITIALIZED,m._isRefreshingAuthToken=!1,m._isRefreshingSessionKey=!1,m.auth=r,m._cacheContext=a,m._sdkState=o,m._dispatcher=c,m._requestQueue=h,m._logger=f,m._deviceTokens=[],m._dispatcher.on(function(v){if(v instanceof ps){var y=v.stateType;m._currentConnectionStateType=y}else v instanceof zb&&m.handler&&(m._logger.debug("session expired"),m.handler.onSessionExpired(),m.refresh())}),m}return ee(t,n),Object.defineProperty(t.prototype,"ekey",{get:function(){return B3.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),t.prototype.indexOfDeviceToken=function(e,r){return this._deviceTokens.findIndex(function(a){return a.type===e&&a.token===r})},t.prototype.hasDeviceToken=function(e,r){return this.indexOfDeviceToken(e,r)>=0},t.prototype.createRefreshWebsocketCommand=function(e,r){return r===void 0&&(r=null),new wse({authToken:e,expiringSession:!0,requestId:r})},t.prototype._refreshSessionKeyByWebSocket=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return r=this.createRefreshWebsocketCommand(e),[4,this._requestQueue.forceSend(r)];case 1:if(a=f.sent(),o=a.as(kse),c=o.newKey,h=o.error)throw h;return this.auth.sessionKey=c!=null?c:this.auth.sessionKey,[2]}})})},t.prototype._refreshSessionKeyByApi=function(e){return F(this,void 0,void 0,function(){var r,a=this;return P(this,function(o){switch(o.label){case 0:return r=new Ese({userId:this._sdkState.userId,authToken:e,expiringSession:!0}),[4,qb(function(c){return F(a,void 0,void 0,function(){var h,f,m;return P(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(r)];case 1:return h=v.sent(),f=h.as(xse).key,this.auth.sessionKey=f,[3,3];case 2:if(m=v.sent(),!this._isSessionRelatedError(m))throw m;return c(m),[3,3];case 3:return[2]}})})},3)];case 1:return o.sent(),[2]}})})},t.prototype._refreshSessionKey=function(e,r){return r===void 0&&(r=!0),F(this,void 0,void 0,function(){var a,o,c,h;return P(this,function(f){switch(f.label){case 0:if(this._currentConnectionStateType!==Gt.CONNECTED)return[3,10];f.label=1;case 1:return f.trys.push([1,3,,10]),[4,this._refreshSessionKeyByWebSocket(e)];case 2:return f.sent(),this.complete(),[2];case 3:return a=f.sent(),this._isSessionRelatedError(a)?r?(o=this.auth,[4,this._receiveNewAuthToken()]):[3,9]:[3,9];case 4:return o.authToken=f.sent(),this.auth.authToken?[4,this._refreshSessionKey(this.auth.authToken,!1)]:[3,6];case 5:return f.sent(),this.complete(),[3,8];case 6:return[4,this.clear()];case 7:f.sent(),this.close(),f.label=8;case 8:return[2];case 9:return[3,10];case 10:return f.trys.push([10,12,,22]),[4,this._refreshSessionKeyByApi(e)];case 11:return f.sent(),this.complete(),[3,22];case 12:return c=f.sent(),this._isSessionRelatedError(c)?r?(h=this.auth,[4,this._receiveNewAuthToken()]):[3,18]:[3,20];case 13:return h.authToken=f.sent(),this.auth.authToken?[4,this._refreshSessionKeyByApi(this.auth.authToken)]:[3,15];case 14:return f.sent(),this.complete(),[3,17];case 15:return[4,this.clear()];case 16:f.sent(),this.close(),f.label=17;case 17:return[3,19];case 18:throw c;case 19:return[3,21];case 20:throw c;case 21:return[3,22];case 22:return[2]}})})},t.prototype._receiveNewAuthToken=function(){var e=this,r=new Va;return $n(function(){return F(e,void 0,void 0,function(){var a,o,c=this;return P(this,function(h){return this._isRefreshingAuthToken=!0,this.auth.clear(),a=null,o=function(){a&&(clearTimeout(a),a=null)},a=setTimeout(function(){c._isRefreshingAuthToken=!1,r.reject()},1e3*this._sdkState.sessionTokenRefreshTimeout),this.handler.onSessionTokenRequired(function(f){o(),c._isRefreshingAuthToken&&(c._isRefreshingAuthToken=!1,c.dispatch("refresh-authtoken"),r.resolve(f))},function(f){o(),c._isRefreshingAuthToken=!1,r.reject(f)}),[2]})})}),r.promise},t.prototype._isSessionRelatedError=function(e){return e instanceof Le&&(e.isSessionKeyExpiredError||e.isSessionTokenExpiredError)},Object.defineProperty(t.prototype,"isSessionKeyRefreshing",{get:function(){return this._isRefreshingSessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),t.prototype.login=function(e){var r;return F(this,void 0,void 0,function(){var a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return a=e.key,o=e.ekey,c=e.userProfile,h=e.deviceTokenLastDeletedAt,f=h===void 0?0:h,this.auth.sessionKey=a,B3.set(this,o),this._deviceTokenCacheEnabled=(r=c==null?void 0:c.appInfo)===null||r===void 0?void 0:r.deviceTokenCache,m=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,m.get(F3)]:[3,5];case 1:return!(v=y.sent())||v.lastDeletedAt<f?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=f,[4,this.saveDeviceToken()]):[3,3];case 2:return y.sent(),[3,4];case 3:this._deviceTokens=v.tokens.map(function(w){return new H3(H3.payloadify(w))}),this._deviceTokenLastDeletedAt=v.lastDeletedAt,y.label=4;case 4:return[3,7];case 5:return[4,m.remove(F3)];case 6:y.sent(),y.label=7;case 7:return[2]}})})},t.prototype.complete=function(){var e=this;this.dispatch("refresh"),$n(function(){return F(e,void 0,void 0,function(){return P(this,function(r){return this._logger.debug("session refreshed"),this.handler.onSessionRefreshed(),[2]})})})},t.prototype.error=function(e){var r=this;$n(function(){return F(r,void 0,void 0,function(){return P(this,function(a){return this.handler.onSessionError(e),[2]})})})},t.prototype.close=function(){var e=this;this.dispatch("close"),$n(function(){return F(e,void 0,void 0,function(){return P(this,function(r){return this._logger.debug("session closed"),this.handler.onSessionClosed(),[2]})})})},t.prototype.refresh=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:if(!this.handler)return[3,10];if(this._isRefreshingSessionKey)return[3,10];if(this._isRefreshingSessionKey=!0,this.auth.authToken)return[3,7];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,this._receiveNewAuthToken()];case 2:return(e=a.sent())?(this._logger.debug("session refreshing.."),this.auth.authToken=e,[3,5]):[3,3];case 3:return[4,this.clear()];case 4:return a.sent(),this.close(),this._isRefreshingSessionKey=!1,[2];case 5:return[3,7];case 6:throw a.sent(),r=Le.sessionTokenRequestFailed,this._dispatcher.dispatch(new GO),this.error(r),this._isRefreshingSessionKey=!1,r;case 7:return a.trys.push([7,9,,10]),[4,this._refreshSessionKey(this.auth.authToken)];case 8:return a.sent(),this._isRefreshingSessionKey=!1,[3,10];case 9:throw a.sent(),r=Le.sessionTokenRefreshFailed,this._dispatcher.dispatch(new GO),this.error(r),this._isRefreshingSessionKey=!1,r;case 10:return[2]}})})},t.prototype.setDeviceToken=function(e,r){return this._deviceTokenCacheEnabled&&this.indexOfDeviceToken(e,r)<0?(this._deviceTokens.push(new H3({type:e,token:r})),!0):!1},t.prototype.unsetDeviceToken=function(e,r){if(this._deviceTokenCacheEnabled){var a=this.indexOfDeviceToken(e,r);a>=0&&this._deviceTokens.splice(a,1)}},t.prototype.unsetDeviceTokens=function(e){this._deviceTokenCacheEnabled&&(this._deviceTokens=e?this._deviceTokens.filter(function(r){return r.type!==e}):[])},t.prototype.setDeviceTokenDeletedAt=function(e){e>0&&(this._deviceTokenLastDeletedAt=e)},t.prototype.saveDeviceToken=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set(F3,{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.currentUser=null,this.auth.clear(),B3.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return e.sent(),[2]}})})},t}(Qu),Zu=function(){function n(){this.type=Gt.NONE,this.name="none"}return n.prototype.run=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2]})})},n.prototype.onConnect=function(t,e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2]})})},n.prototype.onReconnect=function(t,e){return e.resetReconnectCount,F(this,void 0,void 0,function(){return P(this,function(r){return[2]})})},n.prototype.onDisconnect=function(t,e){return e.error,e.autoReconnect,F(this,void 0,void 0,function(){return P(this,function(r){return[2]})})},n.prototype.onDisconnectWebSocket=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2]})})},n.prototype.onLogout=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2]})})},n}(),Au=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Gt.LOGOUT,e.name="logout",e}return ee(t,n),t.prototype.run=function(e){return F(this,void 0,void 0,function(){var r,a,o=this;return P(this,function(c){switch(c.label){case 0:return r=Date.now(),a=e.sdkState.userId,[4,e.logout()];case 1:return c.sent(),[4,e.changeState(new vk,r)];case 2:return c.sent(),$n(function(){return F(o,void 0,void 0,function(){return P(this,function(h){return e.connectionHandlers.forEach(function(f){f.onDisconnected(a)}),[2]})})}),[2]}})})},t}(Zu),jb=function(n){function t(){var e=n.call(this)||this;return e.type=Gt.EXTERNAL_DISCONNECTED,e.name="externaldisconnected",e}return ee(t,n),t.prototype.run=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,e.disconnect()];case 1:return r.sent(),[2]}})})},t.prototype.onConnect=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Date.now(),[4,e.disconnect()];case 1:return o.sent(),[4,e.changeState(new Kb({authToken:r}),a)];case 2:return o.sent(),[2]}})})},t.prototype.onReconnect=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new lb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Au,r)];case 1:return a.sent(),[2]}})})},t}(Zu),ob=function(n){function t(e){var r=e.autoReconnect,a=n.call(this)||this;return a.type=Gt.INTERNAL_DISCONNECTED,a.name="internaldisconnected",a._autoReconnect=!1,a._autoReconnect=r,a}return ee(t,n),t.prototype.run=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return a.sent(),this._autoReconnect?[4,e.changeState(new lb,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.onConnect=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Date.now(),[4,e.disconnect()];case 1:return o.sent(),[4,e.changeState(new Kb({authToken:r}),a)];case 2:return o.sent(),[2]}})})},t.prototype.onReconnect=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new lb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new jb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Au,r)];case 1:return a.sent(),[2]}})})},t}(Zu),lb=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Gt.RECONNECTING,e.name="reconnecting",e._haltConnect=null,e._resetConnect=null,e._callbacks=[],e}return ee(t,n),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=null)},t.prototype._flushCallbacks=function(e){e===void 0&&(e=null),this._haltConnect=null,this._resetConnect=null,this._callbacks.forEach(function(r){return r(e)})},t.prototype.run=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m=this;return P(this,function(v){switch(v.label){case 0:r=Date.now(),a=new Va,this._callbacks.push(function(y){return y?a.reject(y):a.resolve()}),$n(function(){return F(m,void 0,void 0,function(){return P(this,function(y){return e.connectionHandlers.forEach(function(w){w.onReconnectStarted()}),[2]})})}),v.label=1;case 1:return v.trys.push([1,4,,9]),o=e.sdkState.websocket,c=o.reconnectMaxRetry,h=o.reconnectRetryStrategy,[4,qb(function(y,w){return F(m,void 0,void 0,function(){var x;return P(this,function(C){switch(C.label){case 0:this._haltConnect=y,this._resetConnect=w,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,e.connect()];case 2:return C.sent(),[3,4];case 3:if(x=C.sent(),e.clearLoginTimer(),x instanceof Le&&x.code===kt.CONNECTION_CANCELED)return y(x),[2];throw x;case 4:return[2]}})})},c,h)];case 2:return v.sent(),[4,e.changeState(new pU,r)];case 3:return v.sent(),$n(function(){return F(m,void 0,void 0,function(){return P(this,function(y){return this._flushCallbacks(null),e.connectionHandlers.forEach(function(w){w.onReconnectSucceeded()}),[2]})})}),[3,9];case 4:return f=v.sent(),cl(f)?[3,7]:f instanceof Le?f.code===kt.CONNECTION_CANCELED?[3,6]:[4,e.changeState(new ob({autoReconnect:!1}),r)]:[3,6];case 5:v.sent(),v.label=6;case 6:return $n(function(){return F(m,void 0,void 0,function(){return P(this,function(y){return this._flushCallbacks(f),e.connectionHandlers.forEach(function(w){w.onReconnectFailed()}),[2]})})}),[3,8];case 7:throw f;case 8:return[3,9];case 9:return[2,a.promise]}})})},t.prototype.onConnect=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){return a=new Va,this._halt(Le.connectionCanceled),e.cancelConnectForRetry(),this._callbacks.push(function(){var c=Date.now();e.changeState(new Kb({authToken:r}),c).then(function(){a.resolve()}).catch(function(h){a.reject(h)})}),[2,a.promise]})})},t.prototype.onReconnect=function(e,r){var a=r.resetReconnectCount,o=a!==void 0&&a;return F(this,void 0,void 0,function(){var c;return P(this,function(h){return c=new Va,this._resetConnect&&o&&this._resetConnect(),this._callbacks.push(function(f){return f?c.reject(f):c.resolve()}),[2,c.promise]})})},t.prototype.onDisconnect=function(e,r){r.error;var a=r.autoReconnect,o=a===void 0||a;return F(this,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return c=Date.now(),this._halt(Le.connectionCanceled),[4,e.changeState(new ob({autoReconnect:o}),c)];case 1:return h.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Le.connectionCanceled),[4,e.changeState(new jb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Le.connectionCanceled),[4,e.changeState(new Au,r)];case 1:return a.sent(),[2]}})})},t}(Zu),pU=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Gt.CONNECTED,e.name="connected",e}return ee(t,n),t.prototype.onReconnect=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.disconnect()];case 1:return a.sent(),[4,e.changeState(new lb,r)];case 2:return a.sent(),[2]}})})},t.prototype.onDisconnect=function(e,r){var a=r.autoReconnect;return F(this,void 0,void 0,function(){var o;return P(this,function(c){switch(c.label){case 0:return o=Date.now(),[4,e.changeState(new ob({autoReconnect:a}),o)];case 1:return c.sent(),[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new jb,r)];case 1:return a.sent(),[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e.changeState(new Au,r)];case 1:return a.sent(),[2]}})})},t}(Zu),Kb=function(n){function t(e){var r=e.authToken,a=n.call(this)||this;return a.type=Gt.CONNECTING,a.name="connecting",a._authToken="",a._haltConnect=null,a._callbacks=[],a._authToken=r,a}return ee(t,n),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=null)},t.prototype._flushCallbacks=function(e){e===void 0&&(e=null),this._haltConnect=null,this._callbacks.forEach(function(r){return r(e)})},t.prototype.run=function(e){return F(this,void 0,void 0,function(){var r,a,o,c=this;return P(this,function(h){switch(h.label){case 0:r=Date.now(),a=new Va,this._callbacks.push(function(f){return f?a.reject(f):a.resolve()}),h.label=1;case 1:return h.trys.push([1,4,,10]),[4,qb(function(f){return F(c,void 0,void 0,function(){var m;return P(this,function(v){switch(v.label){case 0:this._haltConnect=f,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,e.connect(this._authToken)];case 2:return v.sent(),[3,4];case 3:if(m=v.sent(),e.clearLoginTimer(),m instanceof Le&&m.code===kt.CONNECTION_CANCELED)return f(m),[2];throw m;case 4:return[2]}})})},e.sdkState.websocket.connectMaxRetry)];case 2:return h.sent(),[4,e.changeState(new pU,r)];case 3:return h.sent(),$n(function(){return F(c,void 0,void 0,function(){return P(this,function(f){return this._flushCallbacks(null),e.connectionHandlers.forEach(function(m){m.onConnected(e.sdkState.userId)}),[2]})})}),[3,10];case 4:return o=h.sent(),cl(o)?[3,8]:[4,e.disconnect()];case 5:return h.sent(),o instanceof Le?o.code===kt.CONNECTION_CANCELED?[3,7]:[4,e.changeState(new vk,r)]:[3,7];case 6:h.sent(),h.label=7;case 7:return $n(function(){return F(c,void 0,void 0,function(){return P(this,function(f){return this._flushCallbacks(o),[2]})})}),[3,9];case 8:throw o;case 9:return[3,10];case 10:return[2,a.promise]}})})},t.prototype.onConnect=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=new Va,this._callbacks.push(function(o){return o?r.reject(o):r.resolve()}),[2,r.promise]})})},t.prototype.onDisconnect=function(e,r){var a=r.error,o=a===void 0?null:a,c=r.autoReconnect;return F(this,void 0,void 0,function(){var h;return P(this,function(f){switch(f.label){case 0:return h=Date.now(),this._halt(o!=null?o:Le.connectionCanceled),e.hasSession?[4,e.changeState(new ob({autoReconnect:c}),h)]:[3,2];case 1:return f.sent(),[3,4];case 2:return[4,e.changeState(new Au,h)];case 3:f.sent(),f.label=4;case 4:return[2]}})})},t.prototype.onDisconnectWebSocket=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Le.connectionCanceled),e.hasSession?[4,e.changeState(new jb,r)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,e.changeState(new Au,r)];case 3:a.sent(),a.label=4;case 4:return[2]}})})},t.prototype.onLogout=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=Date.now(),this._halt(Le.connectionCanceled),[4,e.changeState(new Au,r)];case 1:return a.sent(),[2]}})})},t}(Zu),vk=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Gt.INITIALIZED,e.name="initialized",e}return ee(t,n),t.prototype.onConnect=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=Date.now(),[4,e.changeState(new Kb({authToken:r}),a)];case 1:return o.sent(),[2]}})})},t}(Zu),Tse=function(n){function t(){return n.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return ee(t,n),t}(Qa),Cse=function(){function n(t){var e=t.pingDelegate,r=t.sdkState,a=t.logger;this._pingTimer=null,this._pingTimeoutTimer=null,this.pingDelegate=e,this.sdkState=r,this._logger=a}return Object.defineProperty(n.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),n.prototype.ping=function(){var t,e=this,r=new Tse;try{var a=(t=this.sdkState.websocket.pongTimeout)!==null&&t!==void 0?t:5e3;this._pingTimeoutTimer=setTimeout(function(){e._logger.debug("pinger.ping() timeout"),e.pingDelegate.error(null)},a),this.pingDelegate.send(r),this._logger.debug("pinger.ping()")}catch(o){this._logger.debug("pinger.ping() error",o),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null),this.pingDelegate.error(null)}return r},n.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},n.prototype.refreshTimer=function(){var t,e=this;this._logger.debug("pinger.refreshTimer()");var r=(t=this.sdkState.websocket.pingInterval)!==null&&t!==void 0?t:15e3;this.stop(),this._pingTimer=setInterval(function(){e.ping()},r)},n.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},n.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=null),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=null)},n}(),qO=1048576,jO=function(){function n(t){var e,r,a;t===void 0&&(t={}),this.emojiHash=t.emoji_hash||"",this.uploadSizeLimit=t.file_upload_size_limit?t.file_upload_size_limit*qO:Number.MAX_SAFE_INTEGER,this.useReaction=!!t.use_reaction,this.applicationAttributes=(e=t.application_attributes)!==null&&e!==void 0?e:[],this.premiumFeatureList=(r=t.premium_feature_list)!==null&&r!==void 0?r:[],this.deviceTokenCache=this.applicationAttributes.includes("sdk_device_token_cache"),this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history"),this.allowSdkStatsUpload=(a=t.allow_sdk_log_ingestion)===null||a===void 0||a}return n.payloadify=function(t){return{emoji_hash:t.emojiHash,file_upload_size_limit:t.uploadSizeLimit/qO,application_attributes:t.applicationAttributes,premium_feature_list:t.premiumFeatureList,use_reaction:t.useReaction,allow_sdk_log_ingestion:t.allowSdkStatsUpload}},n}(),Ps=function(){function n(t){this._iid="",this._iid=t}return n.payloadify=function(t){return t?{}:null},n}(),Ise=function(n){function t(e){var r=e.userId,a=e.metadata,o=n.call(this)||this;return o.method=pn.POST,o.path="".concat(Ut,"/").concat(r,"/metadata"),o.params={metadata:a},o}return ee(t,n),t}(_n),Nse=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaData=r,a}return ee(t,n),t}(gn),Ase=function(n){function t(e){var r=e.userId,a=e.metadata,o=e.upsert,c=n.call(this)||this;return c.method=pn.PUT,c.path="".concat(Ut,"/").concat(r,"/metadata"),c.params={metadata:a,upsert:o},c}return ee(t,n),t}(_n),Ose=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metadata=r,a}return ee(t,n),t}(gn),Rse=function(n){function t(e){var r=e.userId,a=e.metadataKey,o=n.call(this)||this;return o.method=pn.DELETE,o.path="".concat(Ut,"/").concat(r,"/metadata/").concat(a),o}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Mse=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.DELETE,a.path="".concat(Ut,"/").concat(r,"/metadata"),a}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var n0,D0=function(n,t){t===void 0&&(t=null);var e=JSON.parse(JSON.stringify(n));return e._iid&&delete e._iid,t&&t(e),e},mc=function(n,t){t===void 0&&(t=null);var e=JSON.parse(JSON.stringify(n));return t&&t(e),e},vn=function(n){return{do:function(t){n||t()},throw:function(t){if(!n)throw t}}};(function(n){n.ONLINE="online",n.OFFLINE="offline",n.NON_AVAILABLE="nonavailable"})(n0||(n0={}));var Eo,St=function(n){function t(e,r){var a,o,c,h,f,m,v,y,w,x,C,A,L=this;return(L=n.call(this,e)||this).userId=(o=(a=r.guest_id)!==null&&a!==void 0?a:r.user_id)!==null&&o!==void 0?o:"",L.nickname=(h=(c=r.nickname)!==null&&c!==void 0?c:r.name)!==null&&h!==void 0?h:"",L.plainProfileUrl=(m=(f=r.profile_url)!==null&&f!==void 0?f:r.image)!==null&&m!==void 0?m:"",L.requireAuth=(v=r.require_auth_for_profile_image)!==null&&v!==void 0&&v,L.metaData=(y=r.metadata)!==null&&y!==void 0?y:{},L.connectionStatus=n0.NON_AVAILABLE,mt(n0,r.is_online)?L.connectionStatus=r.is_online:ge("boolean",r.is_online)&&(L.connectionStatus=r.is_online?n0.ONLINE:n0.OFFLINE),L.isActive=(w=r.is_active)===null||w===void 0||w,L.lastSeenAt=(x=r.last_seen_at)!==null&&x!==void 0?x:null,L.preferredLanguages=r.preferred_languages?tt([],Yn(r.preferred_languages),!1):null,L.friendDiscoveryKey=(C=r.friend_discovery_key)!==null&&C!==void 0?C:null,L.friendName=(A=r.friend_name)!==null&&A!==void 0?A:null,L}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{user_id:e.userId,nickname:e.nickname,profile_url:e.plainProfileUrl,require_auth_for_profile_image:e.requireAuth,metadata:e.metaData,is_online:e.connectionStatus,is_active:e.isActive,last_seen_at:e.lastSeenAt,preferred_languages:e.preferredLanguages,friend_discovery_key:e.friendDiscoveryKey,friend_name:e.friendName})):null},Object.defineProperty(t.prototype,"profileUrl",{get:function(){var e=Se.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(e.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return D0(this)},t.prototype._isValidMetaData=function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(r){return e[r]}).every(function(r){return ge("string",r)})},t.prototype._applyMetaData=function(e,r){var a=this;r===void 0&&(r=!1),Object.keys(e).forEach(function(o){r?delete a.metaData[o]:a.metaData[o]=e[o]})},t.prototype.createMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return vn(this._isValidMetaData(e)).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.sdkState,o=r.requestQueue,c=new Ise({userId:a.userId,metadata:e}),[4,o.send(c)];case 1:return h=m.sent(),f=h.as(Nse).metaData,this._applyMetaData(f),[2,this.metaData]}})})},t.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),F(this,void 0,void 0,function(){var a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return vn(this._isValidMetaData(e)).throw(Le.invalidParameters),a=Se.of(this._iid),o=a.sdkState,c=a.requestQueue,h=new Ase({userId:o.userId,metadata:e,upsert:r}),[4,c.send(h)];case 1:return f=v.sent(),m=f.as(Ose).metadata,this._applyMetaData(m),[2,this.metaData]}})})},t.prototype.deleteMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return vn(ge("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.sdkState,o=r.requestQueue,c=new Rse({userId:a.userId,metadataKey:e}),[4,o.send(c)];case 1:return f.sent(),this._applyMetaData(((h={})[e]=!0,h),!0),[2,this.metaData]}})})},t.prototype.deleteAllMetaData=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Mse({userId:r.userId}),[4,a.send(o)];case 1:return c.sent(),this.metaData={},[2]}})})},t}(Ps),fU=function(n){function t(e){var r=e.userProfile,a=n.call(this)||this;return a.userProfile=r,a}return ee(t,n),t}(pi),vx=function(){function n(t,e){var r,a,o,c,h,f,m,v,y,w,x,C,A,L;this._iid=t,this.appInfo=new jO(e),this.user=new St(t,e),this.connectedAt=(r=e.login_ts)!==null&&r!==void 0?r:0,this.firstConnectedAt=0,this.pingInterval=(a=e.ping_interval)!==null&&a!==void 0?a:15e3,this.pongTimeout=(o=e.pong_timeout)!==null&&o!==void 0?o:5e3,this.reconnectInterval=(h=(c=e.reconnect)===null||c===void 0?void 0:c.interval)!==null&&h!==void 0?h:3e3,this.reconnectMaxInterval=(m=(f=e.reconnect)===null||f===void 0?void 0:f.max_interval)!==null&&m!==void 0?m:6e4,this.reconnectRetryCount=(y=(v=e.reconnect)===null||v===void 0?void 0:v.retry_cnt)!==null&&y!==void 0?y:5,this.reconnectIntervalMultiple=(x=(w=e.reconnect)===null||w===void 0?void 0:w.mul)!==null&&x!==void 0?x:2,this.maxUnreadCountOnSuperGroup=(C=e.max_unread_cnt_on_super_group)!==null&&C!==void 0?C:100,this.profileImageEncryption=!!e.profile_image_encryption,this.concurrentCallLimit=(A=e.concurrent_call_limit)!==null&&A!==void 0?A:5,this.backOffDelay=(L=e.back_off_delay)!==null&&L!==void 0?L:100}return n.payloadify=function(t){return ye(ye(ye({},St.payloadify(t.user)),jO.payloadify(t.appInfo)),{login_ts:t.connectedAt,ping_interval:t.pingInterval,pong_timeout:t.pongTimeout,reconnect:{interval:t.reconnectInterval,max_interval:t.reconnectMaxInterval,retry_cnt:t.reconnectRetryCount,mul:t.reconnectIntervalMultiple},max_unread_cnt_on_super_group:t.maxUnreadCountOnSuperGroup,profile_image_encryption:t.profileImageEncryption,concurrent_call_limit:t.concurrentCallLimit,back_off_delay:t.backOffDelay})},n.prototype.apply=function(){var t=this.reconnectInterval,e=this.reconnectMaxInterval,r=this.reconnectIntervalMultiple,a=Se.of(this._iid);a.sdkState.websocket.pingInterval=1e3*this.pingInterval,a.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,a.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,a.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(o){return o>0?1e3*Math.min(t*Math.pow(r,o-1),e):10}},a.appInfo=this.appInfo,a.sessionManager.currentUser=this.user,a.connectedAt=this.connectedAt,this.firstConnectedAt||(a.firstConnectedAt=this.connectedAt),a.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,a.concurrentCallLimit=this.concurrentCallLimit,a.backOffDelay=this.backOffDelay,a.dispatcher.dispatch(new fU({userProfile:this}))},n}(),Bv=function(n){function t(e,r,a){var o,c=this;return(c=n.call(this,e,r,a)||this).error=null,c.userProfile=new vx(e,a),c.deviceTokenLastDeletedAt=a.device_token_last_deleted_at,c.key=a.key,c.ekey=(o=a.ekey)!==null&&o!==void 0?o:"",c.error=a.error?new Le(a):null,c}return ee(t,n),t.asError=function(e){return new t(null,"LOGI",ye({user_id:null,error:!0},e))},t.prototype.applyTo=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return this.error?[3,4]:(r=Se.of(e))?[4,r.sessionManager.login(this)]:[3,2];case 1:return a.sent(),this.userProfile.apply(),[3,3];case 2:throw Le.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}})})},t}(lr),_U=function(n){function t(e){var r=e.request,a=r===void 0||r,o=e.features,c=o===void 0?{}:o,h=e.options,f=h===void 0?{}:h,m=n.call(this)||this;return m.request=a,m.features=ye({localCache:!0},c),m.options=ye({ingestion:!0},f),m}return ee(t,n),t}(pi),Dse=function(n){function t(e,r){var a=r.sdkState,o=r.cacheContext,c=r.connectionHandlers,h=r.sessionManager,f=r.websocketClient,m=r.dispatcher,v=r.logger,y=r.entryState,w=y===void 0?new vk:y,x=n.call(this)||this;return x._currentState=null,x._loginTimer=null,x._unresolvedLogi=null,x._stateUpdatedAt=0,x._connectingAt=0,x._connectionRequestQueue=[],x._iid=e,x.sdkState=a,x.cacheContext=o,x.connectionHandlers=c,x._sessionManager=h,x._websocketClient=f,x._dispatcher=m,x._logger=v,x._currentState=w,x.sdkState.websocket.pingerDisabled||(x._pinger=new Cse({pingDelegate:{send:function(C){return x._websocketClient.send(C)},error:function(C){return x._websocketClient.error(C)}},sdkState:x.sdkState,logger:v})),x._websocketClient.on("open",function(){x._tryResolveConnectionRequest()}).on("message",function(C){C.code==="LOGI"&&(x.clearLoginTimer(),x._dispatcher.dispatch(C.as(Bv)))}).on("ping-refresh",function(){var C;return(C=x._pinger)===null||C===void 0?void 0:C.refreshTimer()}).on("pong",function(){var C;return(C=x._pinger)===null||C===void 0?void 0:C.pong()}).on("error",function(){var C;return(C=x._pinger)===null||C===void 0?void 0:C.stop()}).on("close",function(){return x._rejectConnectionRequest(Le.networkError)}),x._dispatcher.on(function(C){C instanceof Bv&&(x._unresolvedLogi=C,x._tryResolveConnectionRequest())}),x}return ee(t,n),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSession",{get:function(){return this._sessionManager.auth.hasSession},enumerable:!1,configurable:!0}),t.prototype.changeState=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return r>=this._stateUpdatedAt?(this._currentState=e,this._stateUpdatedAt=r,this._dispatcher.dispatch(new ps({stateType:e.type})),this._logger.debug("connection state changes to ".concat(e.name)),[4,this._currentState.run(this)]):[3,2];case 1:return a.sent(),[2,!0];case 2:return[2,!1]}})})},t.prototype._tryResolveConnectionRequest=function(){var e;return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return r=this._unresolvedLogi,this._websocketClient.isOpen&&r?(this._unresolvedLogi=null,r.error?[3,2]:[4,r.applyTo(this._iid)]):[3,3];case 1:return o.sent(),a=r.userProfile,this._enableStatLog({request:a.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish"),features:{localCache:a.appInfo.applicationAttributes.includes("allow_sdk_feature_local_cache_log_publish")},options:{ingestion:a.appInfo.allowSdkStatsUpload}}),this._statLogConnection(null),(e=this._pinger)===null||e===void 0||e.start(),this._connectionRequestQueue.forEach(function(c){return c.resolve()}),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.auth.authToken=null,(r.error.isSessionKeyExpiredError||r.error.isSessionTokenExpiredError)&&this._dispatcher.dispatch(new zb),this._rejectConnectionRequest(r.error),o.label=3;case 3:return[2]}})})},t.prototype._rejectConnectionRequest=function(e){var r;if((r=this._pinger)===null||r===void 0||r.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0){var a=this._connectionRequestQueue;this._connectionRequestQueue=[],a.forEach(function(o){return o.reject(e)}),this._statLogConnection(e)}},t.prototype._url=function(e){var r;e===void 0&&(e="");var a=this.sdkState,o=a.appId,c=a.appVersion,h=a.userId,f=a.extensions,m=this.cacheContext.localCacheEnabled,v=this._sessionManager.auth,y=(r=this.sdkState.websocket)===null||r===void 0?void 0:r.compression,w=f.sb_syncmanager?"s".concat(f.sb_syncmanager):"",x=f.sb_uikit?"u".concat(f.sb_uikit):"",C="JS/c".concat(Nu.SDK_VERSION,"/").concat(w,"/").concat(x);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(Nu.OS_VERSION),"&sv=").concat(encodeURIComponent(Nu.SDK_VERSION),"&ai=").concat(o).concat(c?"&av=".concat(c):"").concat(v.hasSession?"&key=".concat(encodeURIComponent(v.sessionKey)):"&user_id=".concat(encodeURIComponent(h),"&access_token=").concat(encodeURIComponent(e)),"&pmce=").concat(y?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(C,"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"]))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(m?1:0,"&include_poll_details=1")},t.prototype._enableStatLog=function(e){var r=e.request,a=e.features,o=e.options,c=o===void 0?{}:o;this._dispatcher.dispatch(new _U({request:r,features:a,options:c}))},t.prototype._statLogConnection=function(e){this._dispatcher.dispatch(new fk(new E0({type:pl.WEBSOCKET_CONNECT,data:{host_url:this.sdkState.websocket.host,success:!e,latency:Date.now()-this._connectingAt,error_code:e==null?void 0:e.code,error_description:e==null?void 0:e.message}})))},t.prototype.connect=function(e){return e===void 0&&(e=""),F(this,void 0,void 0,function(){var r,a,o=this;return P(this,function(c){return r=this._url(e),a=new Va,this._connectionRequestQueue.push(a),this._connectionRequestQueue.length===1&&(this._connectingAt=Date.now(),this._loginTimer=setTimeout(function(){o._loginTimer=null,o._dispatcher.dispatch(Bv.asError(Le.loginTimeout))},this.sdkState.websocket.responseTimeout),e&&(this._sessionManager.auth.authToken=e),this._websocketClient.connect(r)),[2,a.promise]})})},t.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(Bv.asError(Le.connectionRenew))},t.prototype.disconnect=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return e.sent(),[2]}})})},t.prototype.logout=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.sdkState.userId=null,this._unresolvedLogi=null,[4,this._sessionManager.clear()];case 1:return e.sent(),[4,this.disconnect()];case 2:return e.sent(),[2]}})})},t.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=null)},t}(Qu),Lse=function(){function n(t,e){var r=e.sdkState,a=e.cacheContext,o=e.connectionHandlers,c=e.sessionManager,h=e.websocketClient,f=e.dispatcher,m=e.logger,v=e.disableWebSocketCloseEventHandling,y=v!==void 0&&v;this._context=null,this._disableWebSocketCloseEventHandling=!1,this._externalCalledWebSocketClose=!1,this._logger=m,this._disableWebSocketCloseEventHandling=y,this._context=new Dse(t,{sdkState:r,cacheContext:a,connectionHandlers:o,sessionManager:c,websocketClient:h,dispatcher:f,logger:m}),this._sdkState=r,this._sessionManager=c,this._websocketClient=h}return n.prototype._registerEventDispatcher=function(){var t=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh-authtoken",function(){t.isConnected||(t._logger.debug("try reconnect by session token refresh"),t.reconnect())}).on("refresh",function(){t.isConnecting||t.isConnected||(t._logger.debug("try reconnect by session key refresh"),t.reconnect())}),this._websocketEventDispatcherContext=this._websocketClient.on("close",function(){t._sdkState.appState!=="foreground"||t._externalCalledWebSocketClose||t._sessionManager.isRefreshingAuthToken||(t._logger.debug("try reconnect by websocket connection closed"),t.reconnect())}))},n.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=null),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=null)},Object.defineProperty(n.prototype,"isConnected",{get:function(){return this._context.currentState.type===Gt.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isConnecting",{get:function(){var t=this._context.currentState;return t.type===Gt.CONNECTING||t.type===Gt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype.connect=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return e=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,e.onConnect(this._context,t)];case 1:return r.sent(),this._registerEventDispatcher(),[2]}})})},n.prototype.reconnect=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,t.onReconnect(this._context,{})];case 1:return e.sent(),[2]}})})},n.prototype.resetAndReconnect=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!1,[4,t.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return e.sent(),[2]}})})},n.prototype.background=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,t.onDisconnect(this._context,{autoReconnect:!1})];case 1:return e.sent(),[2]}})})},n.prototype.disconnect=function(t){return t===void 0&&(t=null),F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:t,autoReconnect:!0})];case 1:return e.sent(),[2]}})})},n.prototype.disconnectWebSocket=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._externalCalledWebSocketClose=!0,[4,t.onDisconnectWebSocket(this._context)];case 1:return e.sent(),[2]}})})},n.prototype.logout=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=this._context.currentState,this._clearEventDispatcher(),[4,t.onLogout(this._context)];case 1:return e.sent(),[2]}})})},n}(),Su=function(n){function t(e){var r,a,o,c,h=e.type,f=e.data,m=e.ts,v=m===void 0?Date.now():m,y=n.call(this,{type:h,data:f,ts:v})||this;return y.date=new Date(v),y.key="".concat((r=y.date,a=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0"),c=String(r.getDate()).padStart(2,"0"),"".concat(a).concat(o).concat(c)),"_").concat(h),y}return ee(t,n),t}(E0),Use=function(n){function t(e){var r=e.deviceId,a=e.statLogs,o=n.call(this)||this;return o.method=pn.POST,o.path="".concat(yse),o.params={device_id:r,log_entries:a.map(function(c){return E0.payloadify(c)})},o}return ee(t,n),t}(_n),mU=function(n,t){var e,r;if(n!==null&&t!==null){var a=Object.keys(n),o=Object.keys(t),c=tt([],Yn(new Set(tt(tt([],Yn(a),!1),Yn(o),!1))),!1),h={};try{for(var f=Sn(c),m=f.next();!m.done;m=f.next()){var v=m.value,y=typeof n[v],w=typeof t[v];y==="undefined"?h[v]=t[v]:w==="undefined"?h[v]=n[v]:y!==w?h[v]=t[v]:y==="object"&&n[v]&&t[v]?h[v]=mU(n[v],t[v]):h[v]=t[v]}}catch(x){e={error:x}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return h}return t};(function(n){n[n.PENDING=0]="PENDING",n[n.COLLECT_ONLY=1]="COLLECT_ONLY",n[n.ENABLED=2]="ENABLED",n[n.DISABLED=3]="DISABLED"})(Eo||(Eo={}));var Kl,Pse=function(n){function t(e){var r=e.cacheContext,a=e.requestQueue,o=e.dispatcher,c=e.baseLimit,h=c===void 0?100:c,f=e.maxLimit,m=f===void 0?1e3:f,v=e.minLimit,y=v===void 0?10:v,w=n.call(this)||this;return w.queue=[],w.enabledState=Eo.PENDING,w.isFlushing=!1,w.generation=1,w.lastFlushedAt=0,w.commandEventContext=null,w._collectRequestStat=!0,w._collectFeatureLocalCacheStat=!0,w.deviceId=Cc(),w.cacheContext=r,w.requestQueue=a,w.dispatcher=o,w.baseLimit=h,w.limit=h,w.maxLimit=m,w.minLimit=y,w}return ee(t,n),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.enabledState===Eo.ENABLED},enumerable:!1,configurable:!0}),t.prototype._arrangeStat=function(){var e=[];this._collectRequestStat&&e.push.apply(e,tt([],Yn(this.queue.filter(function(r){return r.type===pl.API_RESULT||r.type===pl.WEBSOCKET_CONNECT})),!1)),this._collectFeatureLocalCacheStat&&e.push.apply(e,tt([],Yn(this.queue.filter(function(r){return r.type===pl.FEATURE_LOCALCACHE})),!1)),this.queue=e},t.prototype._save=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.enabledState!==Eo.ENABLED?[3,2]:[4,this.cacheContext.preference.set(this.key,{deviceId:this.deviceId,statLogs:this.queue.map(function(r){return E0.payloadify(r)}),generation:this.generation++,lastFlushedAt:this.lastFlushedAt})];case 1:e.sent(),this.dispatch("save",tt([],Yn(this.queue),!1)),e.label=2;case 2:return[2]}})})},t.prototype._flush=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c;return P(this,function(h){switch(h.label){case 0:if(!this.isEnabled)return[3,10];if(this.isFlushing)return[3,10];this.isFlushing=!0,h.label=1;case 1:return h.trys.push([1,5,9,10]),this._arrangeStat(),e=this.queue.filter(function(f){if(f instanceof Su){var m=new Date,v=Yn([f.date.getFullYear(),m.getFullYear()],2),y=v[0],w=v[1];if(y<w)return!0;if(y===w){var x=Yn([f.date.getMonth(),m.getMonth()],2),C=x[0],A=x[1];if(C<A)return!0;if(C===A){var L=Yn([f.date.getDate(),m.getDate()],2);return L[0]<L[1]}}}return!1}),r=this.queue.filter(function(f){return!(f instanceof Su)}),(a=tt(tt([],Yn(e),!1),Yn(r),!1).slice(0,Math.min(this.limit,this.maxLimit))).length>0?(o=new Use({deviceId:this.deviceId,statLogs:a}),[4,this.requestQueue.send(o)]):[3,4];case 2:return h.sent(),this.dispatch("flush",a),this.queue=tt(tt([],Yn(e),!1),Yn(r),!1).slice(a.length),[4,this._save()];case 3:h.sent(),h.label=4;case 4:return this.limit=this.baseLimit,this.lastFlushedAt=Date.now(),[3,10];case 5:return(c=h.sent())instanceof Le?c.code!==kt.STAT_LOG_NOT_ALLOWED?[3,7]:[4,this.clear()]:[3,8];case 6:return h.sent(),this.enabledState=Eo.DISABLED,[3,8];case 7:c.code===kt.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=Eo.COLLECT_ONLY),h.label=8;case 8:return this.limit=this.limit+20,[3,10];case 9:return this.isFlushing=!1,[7];case 10:return[2]}})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){var r,a,o=this;return P(this,function(c){switch(c.label){case 0:return this.key=e,[4,this.cacheContext.preference.get(this.key)];case 1:return(r=c.sent())?(this.deviceId=r.deviceId,this.queue=r.statLogs.map(function(h){return new E0({type:h.stat_type,ts:h.ts,data:h.data})}),this.generation=r.generation,this.lastFlushedAt=r.lastFlushedAt,Date.now()-this.lastFlushedAt>=108e5&&this.queue.length>=this.minLimit?(a=Math.min(Math.floor(18e4*Math.random()),100),[4,So(a)]):[3,4]):[3,4];case 2:return c.sent(),[4,this._flush()];case 3:c.sent(),c.label=4;case 4:return this.commandEventContext||(this.commandEventContext=this.dispatcher.on(function(h){if(h instanceof fk){var f=h.statLog;o.put(f)}else if(h instanceof _U){var m=h.request,v=h.features,y=h.options;o._collectRequestStat=m,o._collectFeatureLocalCacheStat=v==null?void 0:v.localCache,o._arrangeStat(),o._collectRequestStat||o._collectFeatureLocalCacheStat?o.enabledState=y.ingestion?Eo.ENABLED:Eo.COLLECT_ONLY:o.enabledState=Eo.DISABLED,o.isEnabled?o.queue.length>=o.limit&&o._flush():o.clear()}})),[2]}})})},t.prototype.put=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return this.enabledState===Eo.DISABLED?[3,3]:(e instanceof Su?this._collectFeatureLocalCacheStat&&(r=Yn(this.queue.filter(function(c){return c instanceof Su&&c.key===e.key}),1),(a=r[0])?a.data=mU(a.data,e.data):this.queue.push(e)):this._collectRequestStat&&this.queue.push(e),[4,this._save()]);case 1:return o.sent(),this.queue.length>=this.limit?[4,this._flush()]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.queue=[],this.generation=1,[4,this._save()];case 1:return e.sent(),[2]}})})},t.prototype.close=function(){this.commandEventContext&&(this.commandEventContext.close(),this.commandEventContext=null)},t}(Qu);(function(n){n[n.NONE=0]="NONE",n[n.VERBOSE=1]="VERBOSE",n[n.DEBUG=2]="DEBUG",n[n.INFO=3]="INFO",n[n.WARN=4]="WARN",n[n.ERROR=5]="ERROR"})(Kl||(Kl={}));var Jr,Wi,w0,Yi,Ra,yc,Ar,Jt,eo,ec,Fse=function(){function n(){this.level=Kl.WARN}return n.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=Kl.VERBOSE&&console.log.apply(console,tt(["[verbose]"],Yn(t),!1))},n.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=Kl.DEBUG&&console.log.apply(console,tt(["[debug]"],Yn(t),!1))},n.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=Kl.INFO&&console.log.apply(console,tt(["[info]"],Yn(t),!1))},n.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=Kl.WARN&&console.warn.apply(console,tt(["[warn]"],Yn(t),!1))},n.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level<=Kl.ERROR&&console.error.apply(console,tt(["[error]"],Yn(t),!1))},n}(),iu={},Se=function(){function n(t,e){var r,a,o,c,h,f,m,v,y,w;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!iu[t]){iu[t]=this;var x=(r=e.options)!==null&&r!==void 0?r:new $L,C=this.sdkState={appId:e.appId,appVersion:(a=e.appVersion)!==null&&a!==void 0?a:"",appState:"foreground",userId:null,extensions:{},api:{host:(o=e.apiHost)!==null&&o!==void 0?o:"https://api-".concat(e.appId,".sendbird.com")},websocket:{host:(c=e.websocketHost)!==null&&c!==void 0?c:"wss://ws-".concat(e.appId,".sendbird.com"),pingerDisabled:!!e.noPingpong,pingInterval:null,pongTimeout:null,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new hU,responseTimeout:x.websocketResponseTimeout},sessionTokenRefreshTimeout:x.sessionTokenRefreshTimeout};this.appInfo=null,this.subscribedUnreadMessageCount={all:0,customTypes:{},ts:0};var A=this.logger=new Fse;this.logger.level=(h=e.logLevel)!==null&&h!==void 0?h:Kl.WARN,this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var L=this.cacheContext=new sae({encryption:e.encryption,store:e.store,localCacheEnabled:(f=e.localCacheEnabled)!==null&&f!==void 0&&f,localCacheConfig:(m=e.localCacheConfig)!==null&&m!==void 0?m:new VL});this.debugMode=(v=e.debugMode)!==null&&v!==void 0&&v,this.maxSuperGroupChannelUnreadCount=Nu.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=x.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=x.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=x.typingIndicatorThrottle,this.concurrentCallLimit=null,this.backOffDelay=null;var S=this.dispatcher=new dae,k=new lae;this.requestQueue=new fse(t,{auth:k,sdkState:C,dispatcher:S,logger:A,useFetchCompat:e.useFetchCompat}),this.sessionManager=new Sse({auth:k,cacheContext:L,sdkState:C,dispatcher:S,requestQueue:this.requestQueue,logger:A}),this.connectionManager=new Lse(t,{sdkState:C,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:S,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:(y=e.disableWebSocketCloseEventHandling)!==null&&y!==void 0&&y,logger:A}),this.statLogCollector=new Pse({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:S}),this.appStateToggleEnabled=(w=e.appStateToggleEnabled)===null||w===void 0||w}return iu[t]}return n.of=function(t){if(iu[t])return iu[t];throw Le.lostInstance},n.clear=function(t){iu[t]&&delete iu[t]},n}(),Wb=function(){function n(){}return n.prototype.init=function(t,e){var r=e.sdkState,a=e.dispatcher,o=e.sessionManager,c=e.requestQueue,h=e.logger;e.onlineDetector;var f=e.cacheContext,m=f===void 0?null:f;this._iid=t,this._cacheContext=m,this._sdkState=r,this._dispatcher=a,this._sessionManager=o,this._requestQueue=c,this._logger=h},n}();(function(n){n.BASE="base",n.USER="user",n.FILE="file",n.ADMIN="admin"})(Jr||(Jr={})),function(n){n.ALL="",n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(Wi||(Wi={})),function(n){n.USER="MESG",n.FILE="FILE",n.ADMIN="ADMM"}(w0||(w0={})),function(n){n.USERS="users",n.CHANNEL="channel"}(Yi||(Yi={})),function(n){n.ALL="all",n.NONE="none",n.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(Ra||(Ra={})),function(n){n.DEFAULT="default",n.SUPPRESS="suppress"}(yc||(yc={})),function(n){n.PENDING="pending",n.SCHEDULED="scheduled",n.SUCCEEDED="succeeded",n.FAILED="failed",n.CANCELED="canceled"}(Ar||(Ar={})),function(n){n.BASE="base",n.GROUP="group",n.OPEN="open"}(Jt||(Jt={})),function(n){n.OPERATOR="operator",n.NONE="none"}(eo||(eo={})),function(n){n.OPEN="open",n.CLOSED="closed"}(ec||(ec={}));var ut,vU="removed",gx=function(n){switch(n){case ec.OPEN:return ec.OPEN;case ec.CLOSED:return ec.CLOSED}},gU=function(n){return!n||n.text&&ge("string",n.text)},Hse=function(n){return yt("string",n)&&n.every(function(t){return t.trim()!==""})},gg=function(n){function t(e,r){var a,o,c,h,f,m,v,y=this;return(y=n.call(this,e)||this).pollId=0,y.id=0,y.text=null,y.voteCount=0,y.createdBy=null,y.createdAt=0,y.updatedAt=0,y._lastVotedAt=0,y.pollId=(a=r.poll_id)!==null&&a!==void 0?a:0,y.id=(o=r.id)!==null&&o!==void 0?o:0,y.text=(c=r.text)!==null&&c!==void 0?c:null,y.voteCount=(h=r.vote_count)!==null&&h!==void 0?h:0,y.createdBy=(f=r.created_by)!==null&&f!==void 0?f:null,y.createdAt=(m=r.created_at)!==null&&m!==void 0?m:0,y.updatedAt=(v=r.updated_at)!==null&&v!==void 0?v:0,y}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{vote_count:e.voteCount,poll_id:e.pollId,text:e.text,created_at:e.createdAt,id:e.id,created_by:e.createdBy,updated_at:e.updatedAt})):null},t}(Ps),so=function(n){function t(e,r){var a,o,c,h,f,m,v,y,w,x,C,A,L,S=this;return(S=n.call(this,e)||this).id=0,S.title=null,S.createdAt=0,S.updatedAt=0,S.closeAt=-1,S.status=ec.CLOSED,S.messageId=0,S.data=null,S.voterCount=-1,S.options=[],S.createdBy=null,S.allowUserSuggestion=!1,S.allowMultipleVotes=!1,S.votedPollOptionIds=[],S.id=(a=r.id)!==null&&a!==void 0?a:0,S.title=(o=r.title)!==null&&o!==void 0?o:null,S.createdAt=(c=r.created_at)!==null&&c!==void 0?c:0,S.updatedAt=(h=r.updated_at)!==null&&h!==void 0?h:0,S.closeAt=(f=r.close_at)!==null&&f!==void 0?f:-1,S.status=(m=gx(r.status))!==null&&m!==void 0?m:ec.CLOSED,S.messageId=(v=r.message_id)!==null&&v!==void 0?v:0,S.data=(y=r.data)!==null&&y!==void 0?y:null,S.voterCount=(w=r.voter_count)!==null&&w!==void 0?w:-1,S.options=r.options?r.options.map(function(k){return new gg(S._iid,k)}):[],S.createdBy=(x=r.created_by)!==null&&x!==void 0?x:null,S.allowUserSuggestion=(C=r.allow_user_suggestion)!==null&&C!==void 0&&C,S.allowMultipleVotes=(A=r.allow_multiple_votes)!==null&&A!==void 0&&A,S.votedPollOptionIds=(L=r.voted_option_ids)!==null&&L!==void 0?L:[],S}return ee(t,n),t.prototype._applyPollUpdatePayload=function(e){var r,a,o,c,h,f,m,v,y=this;this.title=(r=e.title)!==null&&r!==void 0?r:this.title,this.updatedAt=(a=e.updated_at)!==null&&a!==void 0?a:this.updatedAt,this.closeAt=(o=e.close_at)!==null&&o!==void 0?o:this.closeAt,this.status=(c=gx(e.status))!==null&&c!==void 0?c:this.status,this.data=(h=e.data)!==null&&h!==void 0?h:this.data,this.voterCount=(f=e.voter_count)!==null&&f!==void 0?f:this.voterCount,e.options&&(this.options=e.options.map(function(w){return new gg(y._iid,w)}),this.votedPollOptionIds=e.options.filter(function(w){return w.vote_count>0}).map(function(w){return w.id})),this.allowUserSuggestion=(m=e.allow_user_suggestion)!==null&&m!==void 0?m:this.allowUserSuggestion,this.allowMultipleVotes=(v=e.allow_multiple_votes)!==null&&v!==void 0?v:this.allowMultipleVotes},t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{id:e.id,title:e.title,created_at:e.createdAt,updated_at:e.updatedAt,close_at:e.closeAt,status:e.status,message_id:e.messageId,data:e.data,voter_count:e.voterCount,options:e.options.map(function(r){return gg.payloadify(r)}),created_by:e.createdBy,allow_user_suggestion:e.allowUserSuggestion,allow_multiple_votes:e.allowMultipleVotes,voted_option_ids:e.votedPollOptionIds})):null},t.prototype.applyPollUpdateEvent=function(e){var r=e._payload.poll;return!(!r||this.id!==r.id||r.updated_at<this.updatedAt)&&(this._applyPollUpdatePayload(r),!0)},t.prototype.applyPollVoteEvent=function(e){if(this.id!==e.pollId)return!1;var r=this.options,a=r.map(function(h){return h.id}),o=e._payload,c=Math.floor(o.ts/1e3);return o.updated_vote_counts.forEach(function(h){var f=a.indexOf(h.option_id);if(f>-1){var m=r[f];c>=m._lastVotedAt&&(m.voteCount=h.vote_count,m._lastVotedAt=c)}}),o.req_id&&o.voted_option_ids&&(this.votedPollOptionIds=o.voted_option_ids),!0},t.prototype.serialize=function(){return D0(this)},t}(Ps),qt=function(n){switch(n){case Jt.GROUP:return va;case Jt.OPEN:return Xu;default:return null}},bU=function(n){switch(n){case Jt.GROUP:return"".concat(mx,"/group_channels");case Jt.OPEN:return"".concat(mx,"/open_channels");default:return null}},x0=function(n,t,e){var r,a;switch(n){case Yi.CHANNEL:return!0;case Yi.USERS:if(t)try{for(var o=Sn(t),c=o.next();!c.done;c=o.next())if(c.value===e)return!0}catch(h){r={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}}return!1},gk=function(n,t,e){var r=x0(n.mentionType,n.mentionedUserIds,e),a=x0(t.mentionType,t.mentionedUserIds,e);return!r&&a?1:r&&!a?-1:0};(function(n){n.UNKNOWN="UNKNOWN",n.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",n.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",n.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",n.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",n.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",n.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",n.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",n.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",n.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",n.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",n.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",n.REQUEST_MESSAGE="REQUEST_MESSAGE",n.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",n.EVENT_POLL_VOTED="EVENT_POLL_VOTED",n.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",n.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",n.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",n.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",n.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",n.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",n.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",n.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",n.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",n.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",n.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"})(ut||(ut={}));var au=function(n){return n.startsWith("EVENT_")||n===ut.SYNC_MESSAGE_FILL||n===ut.SYNC_MESSAGE_CHANGELOGS||n===ut.SYNC_POLL_CHANGELOGS},ii=function(n){function t(e){var r=e.messages,a=e.source,o=n.call(this)||this;return o.messages=r,o.source=a,o}return ee(t,n),t}(pi),bk=function(n){function t(e){var r=e.messageIds,a=e.source,o=n.call(this)||this;return o.messageIds=r,o.source=a,o}return ee(t,n),t}(pi),yU=function(n){function t(e){var r=e.reqId,a=e.source,o=n.call(this)||this;return o.reqId=r,o.source=a,o}return ee(t,n),t}(pi),EU=function(n){function t(e){var r=e.polls,a=e.source,o=n.call(this)||this;return o.polls=r,o.source=a,o}return ee(t,n),t}(pi),yk=function(n){function t(e){var r=e.event,a=e.source,o=n.call(this)||this;return o.event=r,o.source=a,o}return ee(t,n),t}(pi),Qb=function(n){function t(e){var r=e.event,a=e.source,o=n.call(this)||this;return o.event=null,o.source=null,o.event=r,o.source=a,o}return ee(t,n),t}(pi),ud=function(){function n(t,e){var r;this._iid=null,this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=t,this.limit=(r=e.limit)!==null&&r!==void 0?r:20}return Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),n.prototype._validate=function(){return ge("number",this.limit)&&this.limit>0},n}(),hd=function(n){function t(e,r,a,o){var c=n.call(this,e,o)||this;return c.channelUrl=r,c.channelType=a,c}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ge("string",this.channelUrl)&&mt(Jt,this.channelType)},t}(ud),__,wU=function(n){function t(e){var r=n.call(this)||this;if(r.method=pn.POST,r.path="".concat(_se),r.params=st({file:e.file,channel_url:e.channelUrl}),e.thumbnailSizes)for(var a=0;a<e.thumbnailSizes.length;a++){var o=e.thumbnailSizes[a],c=o.maxWidth,h=o.maxHeight;r.params["thumbnail".concat(a+1)]="".concat(c,",").concat(h)}return r.requestId=e.requestId,r}return ee(t,n),t}(_n),xU=function(n){function t(e,r){var a,o,c,h=this;return(h=n.call(this,e,r)||this).url=r.url,h.fileSize=(a=r.file_size)!==null&&a!==void 0?a:0,h.thumbnailSizes=(o=r.thumbnails)!==null&&o!==void 0?o:[],h.requireAuth=(c=r.require_auth)!==null&&c!==void 0&&c,h}return ee(t,n),t}(gn),bx=function(n){function t(e,r){var a,o,c,h=this;return(h=n.call(this,e)||this).replyCount=0,h.mostRepliedUsers=null,h.lastRepliedAt=0,h.updatedAt=0,h.replyCount=(a=r.reply_count)!==null&&a!==void 0?a:0,h.mostRepliedUsers=r.hasOwnProperty("most_replies")&&yt("object",r.most_replies)?r.most_replies.map(function(f){return new St(h._iid,f)}):[],h.lastRepliedAt=(o=r.last_replied_at)!==null&&o!==void 0?o:0,h.updatedAt=(c=r.updated_at)!==null&&c!==void 0?c:0,h}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{reply_count:e.replyCount,most_replies:Array.isArray(e.mostRepliedUsers)?e.mostRepliedUsers.map(function(r){return St.payloadify(r)}):[],last_replied_at:e.lastRepliedAt,updated_at:e.updatedAt})):null},t}(Ps);(function(n){n.ADD="add",n.DELETE="delete"})(__||(__={}));var nc,Cs,Ek=function(n){this.messageId=0,this.userId=null,this.key=null,this.operation=null,this.updatedAt=0;var t=ge("string",n.msg_id)?parseInt(n.msg_id):n.msg_id,e=n.user_id,r=n.operation?n.operation.toLowerCase():null,a=n.reaction,o=n.updated_at;t&&ge("string",e)&&ge("string",r)&&mt(__,r)&&ge("string",a)&&a&&ge("number",o)&&(this.messageId=t,this.userId=e,this.key=a,this.operation=r,this.updatedAt=o)},$v=function(){function n(t){var e,r,a,o=t.key,c=(a=tt([],Yn(t.user_ids),!1))!==null&&a!==void 0?a:[],h=t.updated_at;ge("string",o)&&o&&yt("string",c)&&c.length>0&&ge("number",h)&&(this.key=o,this.userIds=c,this.updatedAt=h);var f={};try{for(var m=Sn(this.userIds),v=m.next();!v.done;v=m.next())f[v.value]=this.updatedAt}catch(y){e={error:y}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(e)throw e.error}}this._version=f}return Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.userIds.length===0},enumerable:!1,configurable:!0}),n.payloadify=function(t){return t?st({key:t.key,user_ids:t.userIds,updated_at:t.updatedAt}):null},n.prototype.applyEvent=function(t){if(t.key===this.key&&this.updatedAt<=t.updatedAt){if(!this._version[t.userId]||this._version[t.userId]<=t.updatedAt){var e=this.userIds.indexOf(t.userId);switch(t.operation){case __.ADD:e<0&&this.userIds.push(t.userId);break;case __.DELETE:e>=0&&this.userIds.splice(e,1)}this._version[t.userId]=t.updatedAt}this.updatedAt=Math.max(this.updatedAt,t.updatedAt)}},n}(),za=function(){function n(t){this.key=t.key,this.value=yt("string",t.value)?tt([],Yn(t.value),!1):[]}return n.payloadify=function(t){var e;return t?st({key:t.key,value:(e=t.value)!==null&&e!==void 0?e:[]}):null},n}(),KO=function(){function n(t){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=t.url,t.hasOwnProperty("secure_url")&&(this.secureUrl=t.secure_url),t.hasOwnProperty("type")&&(this.type=t.type),t.hasOwnProperty("width")&&(this.width=t.width),t.hasOwnProperty("height")&&(this.height=t.height),t.hasOwnProperty("alt")&&(this.alt=t.alt)}return n.payloadify=function(t){var e,r;return t?st({url:t.url,secure_url:t.secureUrl,type:t.type,width:(e=t.width)!==null&&e!==void 0?e:0,height:(r=t.height)!==null&&r!==void 0?r:0,alt:t.alt}):null},n}(),WO=function(){function n(t){this.title=null,this.url=null,this.description=null,this.defaultImage=null,t.hasOwnProperty("og:title")&&(this.title=t["og:title"]),t.hasOwnProperty("og:url")&&(this.url=t["og:url"]),t.hasOwnProperty("og:description")&&(this.description=t["og:description"]),t.hasOwnProperty("og:image")&&(this.defaultImage=new KO(t["og:image"]))}return n.payloadify=function(t){return t?st({"og:title":t.title,"og:url":t.url,"og:description":t.description,"og:image":t.defaultImage?KO.payloadify(t.defaultImage):null}):null},n}(),_l=function(){function n(t){var e,r;this.name=null,this.volume=0,this.name=(e=t.name)!==null&&e!==void 0?e:"default",this.volume=(r=t.volume)!==null&&r!==void 0?r:1}return n.prototype.serialize=function(){return{name:this.name,volume:this.volume}},n.payloadify=function(t){return t?st({name:t.name,volume:t.volume}):null},n}();(function(n){n.PENDING="pending",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled"})(nc||(nc={})),function(n){n.PENDING="pending",n.IN_QUEUE="in_queue",n.SENT="sent",n.FAILED="failed",n.CANCELED="canceled",n.REMOVED="removed"}(Cs||(Cs={}));var sa,Bse=function(n){switch(n){case Jr.BASE:return"";case Jr.USER:return"MESG";case Jr.FILE:return"FILE";case Jr.ADMIN:return"ADMM"}},zl=function(n){function t(e,r){var a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N=this;(N=n.call(this,e)||this).channelUrl=null,N.channelType=Jt.BASE,N.messageId=0,N.parentMessageId=null,N.parentMessage=null,N.silent=!1,N.isOperatorMessage=!1,N.messageType=Jr.BASE,N.data=null,N.customType=null,N.mentionType=null,N.mentionedUsers=[],N.mentionedUserIds=[],N.mentionedMessageTemplate=null,N.threadInfo=null,N.reactions=[],N.metaArrays=[],N.ogMetaData=null,N.appleCriticalAlertOptions=null,N.createdAt=0,N.updatedAt=0,N.scheduledInfo=null,N.extendedMessage={},N._isContinuousMessages=!1,N._scheduledStatus=null,N.messageId=(o=(a=r.msg_id)!==null&&a!==void 0?a:r.message_id)!==null&&o!==void 0?o:0,N.channelUrl=r.channel_url,N.channelType=mt(Jt,r.channel_type)?r.channel_type:Jt.GROUP,r.channel&&(r.channel.channel_url&&(N.channelUrl=r.channel.channel_url),r.channel.channel_type&&(N.channelType=r.channel.channel_type)),N.parentMessageId=(c=typeof r.parent_message_id=="string"?parseInt(r.parent_message_id):r.parent_message_id)!==null&&c!==void 0?c:0,N.data=(h=r.data)!==null&&h!==void 0?h:"",N.customType=(f=r.custom_type)!==null&&f!==void 0?f:"",N.mentionType=mt(Yi,r.mention_type)?r.mention_type:null;var O=r.mentioned_users;N.mentionedUsers=O?O.map(function(z){return new St(N._iid,z)}):null;var H=r.mentioned_user_ids;N.mentionedUserIds=H!=null?H:null,N.mentionedUsers&&!N.mentionedUserIds&&(N.mentionedUserIds=N.mentionedUsers.map(function(z){return z.userId})),N.mentionedMessageTemplate=(m=r.mentioned_message_template)!==null&&m!==void 0?m:"",N.threadInfo=r.thread_info?new bx(N._iid,r.thread_info):null,N.reactions=r.reactions?r.reactions.map(function(z){return new $v(z)}):[];for(var D=(v=r.metaarray)!==null&&v!==void 0?v:{},T=(y=r.metaarray_key_order)!==null&&y!==void 0?y:Object.keys(D).sort(function(z,te){return z.localeCompare(te)}),M=0;M<T.length;M++){var q=T[M];N.metaArrays.push(new za({key:q,value:D[q]||[]}))}return r.sorted_metaarray&&(N.metaArrays=r.sorted_metaarray.map(function(z){return new za(z)})),N.ogMetaData=r.og_tag?new WO(r.og_tag):null,N.silent=(w=r.silent)!==null&&w!==void 0&&w,N.isOperatorMessage=(x=r.is_op_msg)!==null&&x!==void 0&&x,N.appleCriticalAlertOptions=r.apple_critical_alert_options?new _l(r.apple_critical_alert_options):null,N.createdAt=(A=(C=r.created_at)!==null&&C!==void 0?C:r.ts)!==null&&A!==void 0?A:0,N.updatedAt=(L=r.updated_at)!==null&&L!==void 0?L:0,typeof r.scheduled_message_id=="number"&&typeof r.scheduled_at=="number"&&r.scheduled_status&&(N.scheduledInfo={scheduledMessageId:r.scheduled_message_id,scheduledAt:r.scheduled_at},N._scheduledStatus=r.scheduled_status),N.extendedMessage=(S=r.extended_message)!==null&&S!==void 0?S:{},N._isContinuousMessages=(k=r.is_continuous_messages)!==null&&k!==void 0&&k,N}return ee(t,n),t.payloadify=function(e){var r,a,o,c;return e?st(ye(ye({},n.payloadify.call(this,e)),{channel_url:e.channelUrl,channel_type:e.channelType,message_id:e.messageId,type:Bse(e.messageType),parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,mentioned_user_ids:e.mentionedUserIds,mentioned_users:(r=e.mentionedUsers)===null||r===void 0?void 0:r.map(function(h){return St.payloadify(h)}),mentioned_message_template:e.mentionedMessageTemplate,thread_info:e.threadInfo?bx.payloadify(e.threadInfo):null,reactions:e.reactions.map(function(h){return $v.payloadify(h)}),sorted_metaarray:(a=e.metaArrays)===null||a===void 0?void 0:a.map(function(h){return za.payloadify(h)}),og_tag:WO.payloadify(e.ogMetaData),silent:e.silent,is_op_msg:e.isOperatorMessage,apple_critical_alert_options:_l.payloadify(e.appleCriticalAlertOptions),created_at:e.createdAt,updated_at:e.updatedAt,scheduled_message_id:(o=e.scheduledInfo)===null||o===void 0?void 0:o.scheduledMessageId,scheduled_at:(c=e.scheduledInfo)===null||c===void 0?void 0:c.scheduledAt,scheduled_status:e._scheduledStatus,extended_message:e.extendedMessage})):null},t.prototype.isIdentical=function(e){return this.messageId===e.messageId},t.prototype.isEqual=function(e){return BL(this,e)},t.prototype.isUserMessage=function(){return this.messageType===Jr.USER},t.prototype.isFileMessage=function(){return this.messageType===Jr.FILE},t.prototype.isAdminMessage=function(){return this.messageType===Jr.ADMIN},t.prototype.serialize=function(){return D0(this)},t.prototype.getMetaArraysByKeys=function(e){return this.metaArrays.filter(function(r){return e.includes(r.key)})},t.prototype.applyThreadInfoUpdateEvent=function(e){return this.messageId===e.targetMessageId&&(this.threadInfo=e.threadInfo),!1},t.prototype.applyReactionEvent=function(e){if(this.messageId===e.messageId){for(var r=!1,a=0;a<this.reactions.length;a++)if(this.reactions[a].key===e.key){this.reactions[a].applyEvent(e),this.reactions[a].isEmpty&&this.reactions.splice(a,1),r=!0;break}r||e.operation!=="add"||this.reactions.push(new $v($v.payloadify({key:e.key,userIds:[e.userId],updatedAt:e.updatedAt})))}},t.prototype.applyParentMessage=function(e){if(this.parentMessageId===e.messageId){var r=this.parentMessage.updatedAt;if(e.updatedAt>=r)return this.parentMessage=e,!0}return!1},t}(Ps),m_=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.role=null,a.isBlockedByMe=!1,a.role=mt(eo,r.role)?r.role:eo.NONE,r.hasOwnProperty("is_blocked_by_me")&&(a.isBlockedByMe=r.is_blocked_by_me),a}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{role:e.role,is_blocked_by_me:e.isBlockedByMe})):null},t}(St),Ii=function(n){function t(e,r){var a,o,c,h,f=this;if((f=n.call(this,e,r)||this).sender=null,f.reqId="",f.replyToChannel=!1,f.sendingStatus=null,f.errorCode=0,f.sender=r.user?new m_(f._iid,r.user):r.sender_id,f.reqId=(o=(a=r.req_id)!==null&&a!==void 0?a:r.request_id)!==null&&o!==void 0?o:"",f.replyToChannel=(c=r.is_reply_to_channel)!==null&&c!==void 0&&c,r.request_state&&mt(Ar,r.request_state)&&(f.sendingStatus=r.request_state),!f.sendingStatus)if(f.messageId>0)f.sendingStatus=Ar.SUCCEEDED;else if(f.scheduledInfo)switch(f._scheduledStatus=r.scheduled_status,r.scheduled_status){case Cs.SENT:case Cs.IN_QUEUE:f.sendingStatus=Ar.SUCCEEDED;break;case Cs.PENDING:f.sendingStatus=Ar.SCHEDULED;break;case Cs.FAILED:case Cs.REMOVED:f.sendingStatus=Ar.FAILED;break;case Cs.CANCELED:f.sendingStatus=Ar.CANCELED}else f.sendingStatus=Ar.PENDING;return f.errorCode=(h=r.error_code)!==null&&h!==void 0?h:0,f}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{user:m_.payloadify(e.sender),req_id:e.reqId,is_reply_to_channel:e.replyToChannel,request_state:e.sendingStatus,error_code:e.errorCode})):null},Object.defineProperty(t.prototype,"isResendable",{get:function(){return this.sendingStatus===Ar.FAILED&&rae(this.errorCode)},enumerable:!1,configurable:!0}),t.prototype.isIdentical=function(e){return this.messageId>0&&e.messageId>0?this.messageId===e.messageId:this.reqId===e.reqId},t}(zl),Yb=function(){function n(t){var e,r;this.url=null,this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this.url=t.url,this.width=t.width,this.height=t.height,this.realWidth=(e=t.real_width)!==null&&e!==void 0?e:t.width,this.realHeight=(r=t.real_height)!==null&&r!==void 0?r:t.height}return n.payloadify=function(t){return t?st({url:"",width:t.maxWidth,height:t.maxHeight,real_width:0,real_height:0}):null},Object.defineProperty(n.prototype,"plainUrl",{get:function(){return this.url.split("?auth=")[0]},enumerable:!1,configurable:!0}),n}(),Xb={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Wi.ALL,customTypesFilter:null,senderUserIdsFilter:null,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},wk=function(n){return ge("number",n.prevResultSize)&&ge("number",n.nextResultSize)&&ge("boolean",n.isInclusive)&&ge("boolean",n.reverse)&&ge("string",n.messageTypeFilter)&&mt(Wi,n.messageTypeFilter)&&yt("string",n.customTypesFilter,!0)&&yt("string",n.senderUserIdsFilter,!0)&&ge("boolean",n.includeMetaArray)&&ge("boolean",n.includeReactions)&&ge("boolean",n.includeParentMessageInfo)},k0=function(n){function t(e,r){var a,o,c,h,f=this;if((f=n.call(this,e,r)||this).message=null,f.translations={},f.message=(a=r.message)!==null&&a!==void 0?a:"",f.messageType=Jr.ADMIN,f.translations=(o=r.translations)!==null&&o!==void 0?o:{},r.parent_message_info){var m=r.parent_message_info,v=ye(ye({},m),{message_id:f.parentMessageId,channel_url:f.channelUrl,channel_type:f.channelType,file:m.file,url:(c=m.file)===null||c===void 0?void 0:c.url,require_auth:(h=m.file)===null||h===void 0?void 0:h.require_auth});f.parentMessage=qa(e,v)}return f}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{message:e.message,translations:e.translations,parent_message_info:v_(e.parentMessage)})):null},t.prototype.getThreadedMessagesByTimestamp=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=ye(ye({},Xb),r),vn(this.messageId>0&&ge("number",e)&&wk(a)).throw(Le.invalidParameters),[4,Ui.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,o.sent()]}})})},t}(zl),QO=function(){function n(t){var e,r;this.type=null,this.vendor=null,this.detail={},this.type=(e=t.type)!==null&&e!==void 0?e:"",this.vendor=(r=t.vendor)!==null&&r!==void 0?r:"",t.hasOwnProperty("detail")&&ge("object",t.detail)&&!Array.isArray(t.detail)&&(this.detail=t.detail)}return n.payloadify=function(t){return t?st({type:t.type,vendor:t.vendor,detail:t.detail}):null},n}(),Ki=function(n){function t(e,r){var a,o,c,h,f,m,v,y=this;if((y=n.call(this,e,r)||this).message="",y.messageParams=null,y.translations={},y.translationTargetLanguages=[],y.messageSurvivalSeconds=-1,y.plugins=[],y._poll=null,y.message=r.message,y.messageType=Jr.USER,y.translations=(c=r.translations)!==null&&c!==void 0?c:{},y.translationTargetLanguages=(h=r.target_langs)!==null&&h!==void 0?h:[],Object.keys(y.translations).length===0&&y.translationTargetLanguages.length>0)try{for(var w=Sn(y.translationTargetLanguages),x=w.next();!x.done;x=w.next()){var C=x.value;y.translations[C]=""}}catch(S){a={error:S}}finally{try{x&&!x.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(y.messageSurvivalSeconds=(f=r.message_survival_seconds)!==null&&f!==void 0?f:-1,y.plugins=r.plugins?r.plugins.map(function(S){return new QO(S)}):[],y._poll=r.poll?new so(y._iid,r.poll):null,r.parent_message_info){var A=r.parent_message_info,L=ye(ye({},A),{created_at:A.ts,message_id:y.parentMessageId,channel_url:y.channelUrl,channel_type:y.channelType,file:A.file,url:(m=A.file)===null||m===void 0?void 0:m.url,require_auth:(v=A.file)===null||v===void 0?void 0:v.require_auth});y.parentMessage=qa(e,st(L))}return y}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{message:e.message,translations:e.translations,message_survival_seconds:e.messageSurvivalSeconds,plugins:e.plugins.map(function(r){return QO.payloadify(r)}),poll:so.payloadify(e._poll),parent_message_info:v_(e.parentMessage)})):null},t.prototype.getThreadedMessagesByTimestamp=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=ye(ye({},Xb),r),vn(this.messageId>0&&ge("number",e)&&wk(a)).throw(Le.invalidParameters),[4,Ui.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,o.sent()]}})})},t.prototype.applyPoll=function(e){return!(this._poll&&this._poll.id===e.id&&this._poll.updatedAt>e.updatedAt)&&(this._poll=e,!0)},Object.defineProperty(t.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),t}(Ii),v_=function(n){if(n)switch(n.messageType){case Jr.USER:return Ki.payloadify(n);case Jr.FILE:return ai.payloadify(n);case Jr.ADMIN:return k0.payloadify(n)}return null},qa=function(n,t){switch(t.type){case"MESG":return new Ki(n,t);case"FILE":return new ai(n,t);case"ADMM":case"BRDM":return new k0(n,t)}return null},ai=function(n){function t(e,r){var a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N=this;(N=n.call(this,e,r)||this).messageParams=null,N.plainUrl="",N.requireAuth=!1,N.name=null,N.size=0,N.type=null,N.thumbnails=[],N.messageSurvivalSeconds=-1,N.messageType=Jr.FILE;var O=(a=r.file)!==null&&a!==void 0?a:null;N.plainUrl=((c=(o=O==null?void 0:O.url)!==null&&o!==void 0?o:r.url)!==null&&c!==void 0?c:"").split("?auth=")[0],N.name=(f=(h=O==null?void 0:O.name)!==null&&h!==void 0?h:r.name)!==null&&f!==void 0?f:"File",N.size=(v=(m=O==null?void 0:O.size)!==null&&m!==void 0?m:r.size)!==null&&v!==void 0?v:0,N.data=(w=(y=O==null?void 0:O.data)!==null&&y!==void 0?y:r.custom)!==null&&w!==void 0?w:"",N.type=O?(x=O.type)!==null&&x!==void 0?x:"":(C=r.type)!==null&&C!==void 0?C:"";var H=Se.of(N._iid).sessionManager;if(N.requireAuth=(A=r.require_auth)!==null&&A!==void 0&&A,N.thumbnails=r.thumbnails?r.thumbnails.map(function(M){return new Yb(ye(ye({},M),{url:"".concat(M.url.split("?auth=")[0]).concat(N.requireAuth?"?auth=".concat(H.ekey):"")}))}):[],N.messageSurvivalSeconds=(L=r.message_survival_seconds)!==null&&L!==void 0?L:-1,r.parent_message_info){var D=r.parent_message_info,T=ye(ye({},D),{message_id:N.parentMessageId,channel_url:N.channelUrl,channel_type:N.channelType,file:D.file,url:(S=D.file)===null||S===void 0?void 0:S.url,require_auth:(k=D.file)===null||k===void 0?void 0:k.require_auth});N.parentMessage=qa(e,T)}return N}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{url:e.plainUrl,require_auth:e.requireAuth,file:{name:e.name,size:e.size,type:e.type,data:e.data},thumbnails:e.thumbnails.map(function(r){return{url:r.url,width:r.width,height:r.height,real_width:r.realWidth,real_height:r.realHeight}}),message_survival_seconds:e.messageSurvivalSeconds,parent_message_info:v_(e.parentMessage)})):null},Object.defineProperty(t.prototype,"url",{get:function(){var e=Se.of(this._iid).sessionManager;return this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),t.prototype.getThreadedMessagesByTimestamp=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=ye(ye({},Xb),r),vn(this.messageId>0&&ge("number",e)&&wk(a)).throw(Le.invalidParameters),[4,Ui.of(this._iid).getThreadedMessagesByTimestamp(this,e,a)];case 1:return[2,o.sent()]}})})},t}(Ii),$se=function(n){function t(e){var r,a,o,c=[];return e.mentionType===Yi.USERS&&(e.mentionedUserIds?c=e.mentionedUserIds:e.mentionedUsers&&(c=e.mentionedUsers.map(function(h){return h.userId}))),n.call(this,{code:"FILE",ackRequired:!0,payload:st({channel_url:e.channelUrl,url:e.url,name:(r=e.fileName)!==null&&r!==void 0?r:"",type:(a=e.mimeType)!==null&&a!==void 0?a:"",size:(o=e.fileSize)!==null&&o!==void 0?o:0,custom:e.data,custom_type:e.customType,thumbnails:e.thumbnailSizes,require_auth:e.requireAuth,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:c,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==yc.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId>0?e.parentMessageId:null,req_id:e.reqId,pin_message:e.isPinnedMessage})})||this}return ee(t,n),t}(Qa),zse=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=[];return e.mentionType===Yi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(c){return c.userId}))),a.method=pn.POST,a.path="".concat(qt(e.channelType),"/").concat(encodeURIComponent(e.channelUrl),"/messages"),a.params=st({message_type:Jr.FILE,user_id:e.userId,url:e.fileUrl,mention_type:e.mentionType,mentioned_user_ids:o,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,data:e.data,custom_type:e.customType,thumbnails:e.thumbnailSizes.map(function(c){return Yb.payloadify(c)}),require_auth:e.requireAuth,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(c){return za.payloadify(c)}),push_option:e.pushNotificationDeliveryOption,parent_message_id:e.parentMessageId>0?e.parentMessageId:null,apple_critical_alert_options:_l.payloadify(e.appleCriticalAlertOptions),reply_to_channel:e.isReplyToChannel,req_id:e.reqId,pin_message:e.isPinnedMessage}),a}return ee(t,n),t}(_n),xk=function(n){function t(e,r,a){var o,c,h,f=this;(f=n.call(this,e,"FILE",a)||this).message=new ai(e,a);var m=Se.of(e).sdkState;return f.isMentioned=x0(f.message.mentionType,(o=f.message.mentionedUserIds)!==null&&o!==void 0?o:(c=f.message.mentionedUsers)===null||c===void 0?void 0:c.map(function(v){return v.userId}),m.userId),f.forceUpdateLastMessage=(h=a.force_update_last_message)!==null&&h!==void 0&&h,f}return ee(t,n),t}(lr),Vse=function(n){function t(e,r){var a,o,c=this;(c=n.call(this,e,r)||this).message=new ai(e,r);var h=Se.of(e).sdkState;return c.isMentioned=x0(c.message.mentionType,(a=c.message.mentionedUserIds)!==null&&a!==void 0?a:c.message.mentionedUsers.map(function(f){return f.userId}),h.userId),c.forceUpdateLastMessage=(o=r.force_update_last_message)!==null&&o!==void 0&&o,c}return ee(t,n),t}(gn);(function(n){n[n.PENDING=0]="PENDING",n[n.UPLOADING=1]="UPLOADING",n[n.UPLOADED=2]="UPLOADED",n[n.SENDING=3]="SENDING",n[n.FAILED=4]="FAILED"})(sa||(sa={}));var Ff,Gse=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,o=e.requestQueue,c=e.onlineDetector,h=e.cacheContext,f=this;this._queueMap=new Map,this._connectionState=null,this._onlineDetector=null,this._iid=t,this._sdkState=r,this._requestQueue=o,this._cacheContext=h,this._dispatcher=a,this._dispatcher.on(function(m){m instanceof ps&&(f._connectionState=m.stateType)}),this._onlineDetector=c}return Object.defineProperty(n.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===Gt.CONNECTED||this._connectionState===Gt.CONNECTING||this._connectionState===Gt.RECONNECTING},enumerable:!1,configurable:!0}),n.prototype._sendFileMessage=function(t,e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return this._shouldSendThroughWebSocket?(r=new $se(ye(ye({},e.params),{channelUrl:t.url,channelType:t.channelType,url:e.params.fileUrl,requireAuth:e.requireAuth,reqId:e.requestId})),[4,this._requestQueue.send(r)]):[3,2];case 1:return a=o.sent(),[2,a.as(xk).message];case 2:return r=new zse(ye(ye({},e.params),{channelUrl:t.url,channelType:t.channelType,url:e.params.fileUrl,userId:this._sdkState.userId,requireAuth:e.requireAuth,reqId:e.requestId})),[4,this._requestQueue.send(r)];case 3:return a=o.sent(),[2,a.as(Vse).message]}})})},n.prototype._resolveMessageQueue=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:if(!(e=this._queueMap.get(t.url)))return[3,21];if(e.isResolving)return[3,20];e.isResolving=!0,r=[],a=!0,C.label=1;case 1:C.trys.push([1,15,16,17]),o=Sn(e.messageQueue),c=o.next(),C.label=2;case 2:if(c.done)return[3,14];switch(h=c.value,h.state){case sa.PENDING:case sa.UPLOADING:return[3,3];case sa.UPLOADED:return[3,4];case sa.FAILED:return[3,12]}return[3,13];case 3:return a=!1,r.push(h),[3,13];case 4:if(!a)return[3,10];C.label=5;case 5:return C.trys.push([5,8,,9]),h.state=sa.SENDING,[4,this._sendFileMessage(t,h)];case 6:return f=C.sent(),h.deferred.resolve(f),[4,So(100)];case 7:return C.sent(),[3,9];case 8:return m=C.sent(),h.deferred.reject(m),[3,9];case 9:return[3,11];case 10:r.push(h),C.label=11;case 11:return[3,13];case 12:return h.deferred.reject(h.error.code===kt.REQUEST_CANCELED?Le.fileUploadCanceled:h.error),[3,13];case 13:return c=o.next(),[3,2];case 14:return[3,17];case 15:return v=C.sent(),w={error:v},[3,17];case 16:try{c&&!c.done&&(x=o.return)&&x.call(o)}finally{if(w)throw w.error}return[7];case 17:return y=e.isResolveRequestPending,e.messageQueue=r,e.isResolving=!1,e.isResolveRequestPending=!1,y?[4,this._resolveMessageQueue(t)]:[3,19];case 18:C.sent(),C.label=19;case 19:return[3,21];case 20:e.isResolveRequestPending=!0,C.label=21;case 21:return[2]}})})},n.prototype._uploadNextPendingItem=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w,x,C,A;return P(this,function(L){switch(L.label){case 0:return e=this._queueMap.get(t.url),(r=e.messageQueue.find(function(S){return S.state===sa.PENDING}))?Ai(r.params.file)?e.uploadQueue.length<6?(r.state=sa.UPLOADING,e.uploadQueue.push(r),[4,this._onlineDetector.isOnline()]):[3,10]:[3,11]:[3,13];case 1:if(!L.sent())return[3,8];L.label=2;case 2:return L.trys.push([2,4,5,7]),a=new wU({file:r.params.file,channelUrl:t.url,thumbnailSizes:r.params.thumbnailSizes,requestId:r.requestId}),[4,this._requestQueue.send(a)];case 3:return o=L.sent(),c=o.as(xU),h=c.url,f=c.fileSize,m=f===void 0?r.params.fileSize:f,v=c.thumbnailSizes,y=v===void 0?r.params.thumbnailSizes:v,w=c.requireAuth,x=w!==void 0&&w,r.params.fileUrl=h,r.params.fileSize=m,r.params.thumbnailSizes=y,r.params.requireAuth=x,r.requireAuth=x,r.state=sa.UPLOADED,[3,7];case 4:return(C=L.sent()).code===kt.REQUEST_FAILED?r.error=new Le({code:kt.NETWORK_ERROR,message:"Failed to upload a file."}):r.error=C,r.state=sa.FAILED,[3,7];case 5:return(A=e.uploadQueue.findIndex(function(S){return S.requestId===r.requestId}))>=0&&(e.uploadQueue.splice(A,1),this._uploadNextPendingItem(t)),[4,this._resolveMessageQueue(t)];case 6:return L.sent(),[7];case 7:return[3,10];case 8:return r.state=sa.FAILED,r.error=Le.connectionRequired,(A=e.uploadQueue.findIndex(function(S){return S.requestId===r.requestId}))>=0&&(e.uploadQueue.splice(A,1),this._uploadNextPendingItem(t)),[4,this._resolveMessageQueue(t)];case 9:L.sent(),L.label=10;case 10:return[3,13];case 11:return r.params.thumbnailSizes=[],r.state=sa.UPLOADED,[4,this._resolveMessageQueue(t)];case 12:L.sent(),L.label=13;case 13:return[2]}})})},n.prototype.request=function(t,e,r){var a,o,c;return F(this,void 0,void 0,function(){var h;return P(this,function(f){return h=new Va,Ai(r.file)&&(r.fileName=(a=r.fileName)!==null&&a!==void 0?a:r.file.name,r.mimeType=(o=r.mimeType)!==null&&o!==void 0?o:r.file.type,r.fileSize=(c=r.fileSize)!==null&&c!==void 0?c:r.file.size),this._queueMap.has(t.url)||this._queueMap.set(t.url,{messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1}),this._queueMap.get(t.url).messageQueue.push({requestId:e,params:r,state:sa.PENDING,deferred:h,requireAuth:r.requireAuth}),this._uploadNextPendingItem(t),[2,h.promise]})})},n.prototype.cancel=function(t,e){var r,a;e===void 0&&(e=null);var o=this._queueMap.get(t.url);if(o){var c=e?[o.messageQueue.find(function(v){return v.requestId===e})]:tt([],Yn(o.messageQueue),!1);try{for(var h=Sn(c),f=h.next();!f.done;f=h.next()){var m=f.value;if(m)switch(m.state){case sa.PENDING:m.state=sa.FAILED,m.error=Le.requestCanceled,this._resolveMessageQueue(t);break;case sa.UPLOADING:this._requestQueue.cancel(m.requestId)}}}catch(v){r={error:v}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}},n}(),Hf={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:Wi.ALL,customTypesFilter:null,senderUserIdsFilter:null,replyType:Ra.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},YO=function(n){return ge("number",n.prevResultSize)&&ge("number",n.nextResultSize)&&ge("boolean",n.isInclusive)&&ge("boolean",n.reverse)&&ge("string",n.messageTypeFilter)&&mt(Wi,n.messageTypeFilter)&&yt("string",n.customTypesFilter,!0)&&yt("string",n.senderUserIdsFilter,!0)&&mt(Ra,n.replyType)&&ge("boolean",n.includeMetaArray)&&ge("boolean",n.includeReactions)&&ge("boolean",n.includeParentMessageInfo)&&ge("boolean",n.includeThreadInfo)&&ge("boolean",n.showSubchannelMessagesOnly)},yx={replyType:Ra.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},XO=function(n){return mt(Ra,n.replyType)&&ge("boolean",n.includeReactions)&&ge("boolean",n.includeMetaArray)&&ge("boolean",n.includeParentMessageInfo)&&ge("boolean",n.includeThreadInfo)},qse=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,c=e.includeMetaArray,h=e.includeReactions,f=e.includeThreadInfo,m=e.includeParentMessageInfo,v=n.call(this)||this;return v.method=pn.GET,v.path="".concat(qt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(encodeURIComponent(o)),v.params={is_sdk:!0,with_sorted_meta_array:c,include_reactions:h,include_thread_info:f,include_parent_message_info:m,include_poll_details:!0},v}return ee(t,n),t}(_n),jse=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=r?qa(e,ye({},r)):null,a}return ee(t,n),t}(gn),zv=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.timestamp,c=o===void 0?null:o,h=e.token,f=h===void 0?null:h,m=e.prevResultSize,v=e.nextResultSize,y=e.isInclusive,w=e.reverse,x=e.messageTypeFilter,C=e.customTypesFilter,A=e.senderUserIdsFilter,L=e.replyType,S=e.includeMetaArray,k=e.includeReactions,N=e.parentMessageId,O=e.includeThreadInfo,H=e.includeParentMessageInfo,D=e.showSubchannelMessagesOnly,T=e.checkingContinuousMessages,M=n.call(this)||this;return M.method=pn.GET,M.path="".concat(qt(r),"/").concat(encodeURIComponent(a),"/messages"),M.params=st({is_sdk:!0,prev_limit:m,next_limit:v,include:y,reverse:w,message_ts:c,message_id:f,message_type:x!=null?x:null,custom_types:C,sender_ids:A,include_reply_type:L,with_sorted_meta_array:S,include_reactions:k,parent_message_id:N,include_thread_info:O,include_parent_message_info:H,show_subchannel_message_only:D,include_poll_details:!0,checking_continuous_messages:T}),M}return ee(t,n),t}(_n),Vv=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.messages=r.messages.map(function(o){return qa(e,o)}),a}return ee(t,n),t}(gn),Kse=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.timestamp,c=e.token,h=e.replyType,f=e.includeMetaArray,m=e.includeReactions,v=e.includeThreadInfo,y=e.includeParentMessageInfo,w=n.call(this)||this;return w.method=pn.GET,w.path="".concat(qt(r),"/").concat(encodeURIComponent(a),"/messages/changelogs"),w.params={change_ts:o,token:c,with_sorted_meta_array:f,include_reactions:m,include_thread_info:v,include_reply_type:h,include_parent_message_info:y,include_poll_details:!0},w}return ee(t,n),t}(_n),Wse=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedMessages=r.updated.map(function(o){return qa(e,o)}),a.deletedMessagesInfo=r.deleted.map(function(o){return{messageId:o.message_id,deletedAt:o.deleted_at}}),a.hasMore=r.has_more,a.nextToken=r.next,a}return ee(t,n),t}(gn),Qse=function(n){function t(e){var r=e.channelUrl,a=e.scheduledMessageId,o=n.call(this)||this;return o.method=pn.GET,o.path="".concat(va,"/").concat(encodeURIComponent(r),"/scheduled_messages/").concat(encodeURIComponent(a)),o.params={},o}return ee(t,n),t}(_n),Yse=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=r?qa(e,ye({},r)):null,a}return ee(t,n),t}(gn),ZO={},Ui=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,o=e.requestQueue,c=e.onlineDetector,h=e.cacheContext;this._iid=t,this._sdkState=r,this._requestQueue=o,this._dispatcher=a,this._cacheContext=h,this.fileMessageQueue=new Gse(t,{sdkState:r,dispatcher:a,requestQueue:o,onlineDetector:c,cacheContext:h}),ZO[t]=this}return n.of=function(t){return ZO[t]},n.prototype.buildMessageFromSerializedData=function(t){var e=mc(t);switch(e.messageType){case Jr.USER:return new Ki(this._iid,Ki.payloadify(e));case Jr.FILE:return new ai(this._iid,ai.payloadify(e));case Jr.ADMIN:return new k0(this._iid,k0.payloadify(e))}return null},n.prototype.buildUserMessageCreateParamsFromSerializedData=function(t,e){return st({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,message:e.message,translationTargetLanguages:Object.keys(e.translations),pollId:t.pollId})},n.prototype.buildFileMessageCreateParamsFromSerializedData=function(t,e){return st({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUserIds:e.mentionedUserIds,mentionedUsers:e.mentionedUsers,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,isReplyToChannel:t.isReplyToChannel,pushNotificationDeliveryOption:t.pushNotificationDeliveryOption,appleCriticalAlertOptions:e.appleCriticalAlertOptions,reqId:e.reqId,file:t.file,fileKey:t.fileKey,fileUrl:e.plainUrl,fileName:e.name,fileSize:e.size,mimeType:e.type,thumbnailSizes:e.thumbnails.map(function(r){return{maxWidth:r.width,maxHeight:r.height}}),fileType:t.fileType,requireAuth:e.requireAuth})},n.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(t,e){return ye(ye({},this.buildUserMessageCreateParamsFromSerializedData(t,e)),{scheduledAt:t.scheduledAt})},n.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(t,e){return ye(ye({},this.buildFileMessageCreateParamsFromSerializedData(t,e)),{scheduledAt:t.scheduledAt})},n.prototype.buildSenderFromSerializedData=function(t){var e=mc(t);return new m_(this._iid,m_.payloadify(e))},n.prototype.getMessage=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=new qse(t),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(jse).message]}})})},n.prototype.getScheduledMessage=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=new Qse(t),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(Yse).message]}})})},n.prototype.getMessagesByMessageId=function(t,e,r,a,o){return o===void 0&&(o=ut.REQUEST_MESSAGE),F(this,void 0,void 0,function(){var c,h,f;return P(this,function(m){switch(m.label){case 0:return c=new zv(ye(ye({channelType:e,channelUrl:t,token:String(r)},Hf),a)),[4,this._requestQueue.send(c)];case 1:return h=m.sent(),f=h.as(Vv).messages,this._dispatcher.dispatch(new ii({messages:f,source:o})),[2,f]}})})},n.prototype.getMessagesByTimestamp=function(t,e,r,a,o){return o===void 0&&(o=ut.REQUEST_MESSAGE),F(this,void 0,void 0,function(){var c,h,f;return P(this,function(m){switch(m.label){case 0:return c=new zv(ye(ye({channelType:e,channelUrl:t,timestamp:r},Hf),a)),[4,this._requestQueue.send(c)];case 1:return h=m.sent(),f=h.as(Vv).messages,this._dispatcher.dispatch(new ii({messages:f,source:o})),[2,f]}})})},n.prototype._getMessagesByTimestampForCollection=function(t,e,r,a,o,c){return o===void 0&&(o=ut.REQUEST_MESSAGE),F(this,void 0,void 0,function(){var h,f,m,v;return P(this,function(y){switch(y.label){case 0:return h=new zv(ye(ye(ye({channelType:e,channelUrl:t,timestamp:r},Hf),a),{checkingContinuousMessages:c})),[4,this._requestQueue.send(h)];case 1:return f=y.sent(),m=f.payload,v=f.as(Vv).messages,this._dispatcher.dispatch(new ii({messages:v,source:o})),[2,{messages:v,isContinuousMessages:m}]}})})},n.prototype.getThreadedMessagesByTimestamp=function(t,e,r,a){return a===void 0&&(a=ut.REQUEST_THREADED_MESSAGE),F(this,void 0,void 0,function(){var o,c,h,f;return P(this,function(m){switch(m.label){case 0:return o=new zv(ye(ye(ye({channelUrl:t.channelUrl,channelType:t.channelType,timestamp:e},Xb),r),{replyType:Ra.ALL,parentMessageId:t.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(o)];case 1:return c=m.sent(),h=c.as(Vv).messages,(f=h.slice(1)).forEach(function(v){v.parentMessage=t}),this._dispatcher.dispatch(new ii({messages:f,source:a})),[2,{parentMessage:h[0],threadedMessages:f}]}})})},n.prototype.getMessageChangelogs=function(t,e,r,a,o){return o===void 0&&(o=ut.REQUEST_MESSAGE_CHANGELOGS),F(this,void 0,void 0,function(){var c,h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:return c=new Kse(st(ye(ye({channelType:e,channelUrl:t,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null},yx),a))),[4,this._requestQueue.send(c)];case 1:return h=C.sent(),f=h.as(Wse),m=f.updatedMessages,v=f.deletedMessagesInfo,y=f.hasMore,w=f.nextToken,x=v.map(function(A){return A.messageId}),m.length>0&&this._dispatcher.dispatch(new ii({messages:m,source:o})),x.length>0&&this._dispatcher.dispatch(new bk({messageIds:x,source:o})),[2,{updatedMessages:m,deletedMessageIds:x,hasMore:y,token:w}]}})})},n}(),Wl=function(){function n(){this._onPending=bt,this._onFailed=bt,this._onSucceeded=bt}return n.prototype._trigger=function(t,e){switch(e.sendingStatus){case Ar.PENDING:e.errorCode===0&&this._onPending(e);break;case Ar.FAILED:case Ar.CANCELED:this._onFailed(t,e.scheduledInfo?null:e);break;case Ar.SCHEDULED:case Ar.SUCCEEDED:this._onSucceeded(e)}},n.prototype.onPending=function(t){return this._onPending=t,this},n.prototype.onFailed=function(t){return this._onFailed=t,this},n.prototype.onSucceeded=function(t){return this._onSucceeded=t,this},n}(),Xse=function(n){function t(e,r){var a=n.call(this,e)||this;a.threadInfo=null,a.targetMessageId=0,a.channelUrl=null,a.channelType=null;var o=r.thread_info,c=r.parent_message_id,h=r.channel_url,f=r.channel_type;return o&&ge("object",o)&&ge("number",c)&&ge("string",h)&&ge("string",f)&&(a.threadInfo=new bx(e,o),a.targetMessageId=c,a.channelUrl=h,a.channelType=f),a}return ee(t,n),t}(Ps),Zse={channelUrl:null,channelType:null,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},Jse=function(n){function t(e){var r=e.channelCustomType,a=e.keyword,o=e.limit,c=e.reverse,h=e.exactMatch,f=e.channelUrl,m=e.order,v=e.messageTimestampFrom,y=e.messageTimestampTo,w=e.advancedQuery,x=e.targetFields,C=e.nextToken,A=n.call(this)||this;return A.method=pn.GET,A.path="".concat(gse,"/messages"),A.params={custom_type:r,query:a,limit:o,reverse:c,exact_match:h,channel_url:f,message_ts_from:v,message_ts_to:y,sort_field:m,advanced_query:w,target_fields:x,after:C},A}return ee(t,n),t}(_n),eoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.messages=r.results.map(function(o){return qa(e,o)}),a.hasNext=r.has_next,a.nextToken=r.end_cursor,a.totalCount=r.total_count,a}return ee(t,n),t}(gn);(function(n){n.SCORE="score",n.TIMESTAMP="ts"})(Ff||(Ff={}));var noe=function(n){function t(e,r){var a,o,c,h,f,m,v,y,w,x=this;return(x=n.call(this,e,r)||this).keyword="",x.reverse=!1,x.exactMatch=!1,x.channelUrl="",x.channelCustomType="",x.messageTimestampFrom=null,x.messageTimestampTo=null,x.order=Ff.SCORE,x.advancedQuery=!1,x.targetFields=null,x._nextToken="",x.totalCount=-1,x.keyword=r.keyword,x.reverse=(a=r.reverse)!==null&&a!==void 0&&a,x.exactMatch=(o=r.exactMatch)!==null&&o!==void 0&&o,x.channelUrl=(c=r.channelUrl)!==null&&c!==void 0?c:"",x.channelCustomType=(h=r.channelCustomType)!==null&&h!==void 0?h:"",x.messageTimestampFrom=(f=r.messageTimestampFrom)!==null&&f!==void 0?f:null,x.messageTimestampTo=(m=r.messageTimestampTo)!==null&&m!==void 0?m:null,x.order=(v=r.order)!==null&&v!==void 0?v:Ff.SCORE,x.advancedQuery=(y=r.advancedQuery)!==null&&y!==void 0&&y,x.targetFields=(w=r.targetFields)!==null&&w!==void 0?w:null,x}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ge("string",this.keyword)&&this.keyword.length>0&&ge("boolean",this.reverse)&&ge("boolean",this.exactMatch)&&ge("string",this.channelUrl)&&ge("string",this.channelCustomType)&&(ge("number",this.messageTimestampFrom)||this.messageTimestampFrom===null)&&(ge("number",this.messageTimestampTo)||this.messageTimestampTo===null)&&mt(Ff,this.order)&&ge("boolean",this.advancedQuery)&&yt("string",this.targetFields,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Jse(ye(ye({},this),{nextToken:this._nextToken?this._nextToken:null})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=v.sent(),o=a.as(eoe),c=o.messages,h=o.hasNext,f=o.nextToken,m=o.totalCount,this._nextToken=f,this._hasNext=h,this._isLoading=!1,this.totalCount=m,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(ud),toe=function(n){function t(e,r,a,o){var c,h,f,m,v,y,w,x,C,A,L=this;return(L=n.call(this,e,r,a,o)||this).reverse=!1,L.messageTypeFilter=Wi.ALL,L.customTypesFilter=null,L.senderUserIdsFilter=null,L.replyType=Ra.NONE,L.includeMetaArray=!1,L.includeReactions=!1,L.includeParentMessageInfo=!1,L.includeThreadInfo=!1,L.showSubchannelMessagesOnly=!1,L._edge=Number.MAX_SAFE_INTEGER,L.reverse=(c=o.reverse)!==null&&c!==void 0&&c,L.messageTypeFilter=(h=o.messageTypeFilter)!==null&&h!==void 0?h:Wi.ALL,L.customTypesFilter=(f=o.customTypesFilter)!==null&&f!==void 0?f:null,L.senderUserIdsFilter=(m=o.senderUserIdsFilter)!==null&&m!==void 0?m:null,L.replyType=(v=o.replyType)!==null&&v!==void 0?v:Ra.NONE,L.includeMetaArray=(y=o.includeMetaArray)!==null&&y!==void 0&&y,L.includeReactions=(w=o.includeReactions)!==null&&w!==void 0&&w,L.includeParentMessageInfo=(x=o.includeParentMessageInfo)!==null&&x!==void 0&&x,L.includeThreadInfo=(C=o.includeThreadInfo)!==null&&C!==void 0&&C,L.showSubchannelMessagesOnly=(A=o.showSubchannelMessagesOnly)!==null&&A!==void 0&&A,L}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ge("boolean",this.reverse)&&mt(Wi,this.messageTypeFilter)&&mt(Ra,this.replyType)&&yt("string",this.customTypesFilter,!0)&&yt("string",this.senderUserIdsFilter,!0)&&ge("boolean",this.includeMetaArray)&&ge("boolean",this.includeReactions)&&ge("boolean",this.includeParentMessageInfo)&&ge("boolean",this.includeThreadInfo)&&ge("boolean",this.showSubchannelMessagesOnly)},t.prototype.load=function(){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Ui.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,{prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly})]):[3,2]:[3,5];case 1:return e=r.sent(),this._edge=Math.min.apply(Math,tt([Number.MAX_SAFE_INTEGER],Yn(e.map(function(a){return a.createdAt})),!1)),this._hasNext=e.length>=this.limit,this._isLoading=!1,[2,e];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(hd),roe={channelUrl:null,scheduledMessageId:0},ioe=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="message",e}return ee(t,n),t.prototype.init=function(e,r){var a=r.sdkState,o=r.dispatcher,c=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:o,sessionManager:c,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v}),this._manager=new Ui(e,{sdkState:a,dispatcher:o,requestQueue:h,onlineDetector:m,cacheContext:v})},t.prototype.buildMessageFromSerializedData=function(e){return this._manager.buildMessageFromSerializedData(e)},t.prototype.buildSenderFromSerializedData=function(e){return this._manager.buildSenderFromSerializedData(e)},t.prototype.getMessage=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=ye(ye({},Zse),e),vn(function(o){return ge("string",o.channelUrl)&&ge("string",o.channelType)&&mt(Jt,o.channelType)&&ge("number",o.messageId)&&ge("boolean",o.includeMetaArray)&&ge("boolean",o.includeParentMessageInfo)&&ge("boolean",o.includeThreadInfo)}(r)).throw(Le.invalidParameters),[2,this._manager.getMessage(r)]})})},t.prototype.getScheduledMessage=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=ye(ye({},roe),e),vn(function(o){return ge("string",o.channelUrl)&&ge("number",o.scheduledMessageId)}(r)).throw(Le.invalidParameters),[2,this._manager.getScheduledMessage(r)]})})},t}(Wb),aoe=function(n){function t(e){var r=e.title,a=e.optionTexts,o=e.data,c=e.allowUserSuggestion,h=e.allowMultipleVotes,f=e.closeAt,m=n.call(this)||this;return m.method=pn.POST,m.path=Ro,m.params={title:r,options:a,data:o,allow_user_suggestion:c,allow_multiple_votes:h,close_at:f},m}return ee(t,n),t}(_n),soe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new so(e,r),a}return ee(t,n),t}(gn),ooe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.pollId,c=n.call(this)||this;return c.method=pn.GET,c.path="".concat(Ro,"/").concat(encodeURIComponent(o)),c.params={channel_url:r,channel_type:a},c}return ee(t,n),t}(_n),loe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new so(e,r),a}return ee(t,n),t}(gn),doe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.pollId,c=e.pollOptionId,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(Ro,"/").concat(encodeURIComponent(o),"/options/").concat(encodeURIComponent(c)),h.params={channel_url:r,channel_type:a},h}return ee(t,n),t}(_n),coe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pollOption=new gg(e,r),a}return ee(t,n),t}(gn),uoe=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.timestamp,c=e.token,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(qt(r),"/").concat(encodeURIComponent(a),"/polls/changelogs"),h.params=st({change_ts:o,token:c}),h}return ee(t,n),t}(_n),hoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedPolls=r.updated.map(function(o){return function(c,h){return h?new so(c,h):null}(e,o)}),a.deletedPollIds=r.deleted.map(function(o){return o}),a.hasMore=r.has_more,a.nextToken=r.next,a}return ee(t,n),t}(gn),poe={title:null,optionTexts:null,data:null,allowUserSuggestion:null,allowMultipleVotes:null,closeAt:-1},kU=function(n){return ge("string",n.title)&&Hse(n.optionTexts)&&gU(n.data)&&ge("boolean",n.allowUserSuggestion,!0)&&ge("boolean",n.allowMultipleVotes,!0)&&ge("number",n.closeAt,!0)},foe={channelUrl:null,channelType:null,pollId:null,pollOptionId:null},SU=function(n){return ge("string",n.channelUrl)&&mt(Jt,n.channelType)&&ge("number",n.pollId)&&ge("number",n.pollOptionId)},_oe={channelUrl:null,channelType:null,pollId:null},TU=function(n){return ge("string",n.channelUrl)&&n.channelUrl!==""&&mt(Jt,n.channelType)&&ge("number",n.pollId)},JO={},db=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,o=e.sessionManager,c=e.requestQueue,h=e.logger;this._iid=t,this._sdkState=r,this._sessionManager=o,this._requestQueue=c,this._dispatcher=a,this._logger=h,JO[t]=this}return n.of=function(t){return JO[t]},n.prototype.buildPollFromSerializedData=function(t){var e=mc(t);return new so(this._iid,so.payloadify(e))},n.prototype.get=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return vn(TU(t)).throw(Le.invalidParameters),e=new ooe(ye({},t)),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(loe).poll]}})})},n.prototype.create=function(t){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return vn(kU(t)).throw(Le.invalidParameters),e=t.data,r=new aoe(ye(ye({},t),{data:e})),[4,this._requestQueue.send(r)];case 1:return a=o.sent(),[2,a.as(soe).poll]}})})},n.prototype.getOption=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return vn(SU(t)).throw(Le.invalidParameters),e=new doe(ye({},t)),[4,this._requestQueue.send(e)];case 1:return r=a.sent(),[2,r.as(coe).pollOption]}})})},n.prototype.getPollChangeLogs=function(t,e,r,a){return a===void 0&&(a=ut.SYNC_POLL_CHANGELOGS),F(this,void 0,void 0,function(){var o,c,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return o=new uoe(st({channelType:e,channelUrl:t,timestamp:typeof r=="number"?r:null,token:typeof r=="string"?r:null})),[4,this._requestQueue.send(o)];case 1:return c=w.sent(),h=c.as(hoe),f=h.updatedPolls,m=h.deletedPollIds,v=h.hasMore,y=h.nextToken,f.length>0&&this._dispatcher.dispatch(new EU({polls:f,source:a})),[2,{updatedPolls:f,deletedPollIds:m,hasMore:v,token:y}]}})})},n}(),moe=function(n,t){this.pollId=0,this.messageId=0,this.pollId=t.poll.id,this.messageId=t.poll.message_id,this._iid=n,this._payload=t},voe=function(n){this.pollId=0,this.messageId=0,this.pollId=n.poll_id,this.messageId=n.message_id,this._payload=n},goe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.token,c=e.limit,h=n.call(this)||this;return h.method=pn.GET,h.path=Ro,h.params={channel_url:r,channel_type:a,token:o,limit:c},h}return ee(t,n),t}(_n),boe=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this).polls=((a=r.polls)!==null&&a!==void 0?a:[]).map(function(c){return new so(e,c)}),o.token=r.next,o}return ee(t,n),t}(gn),CU=function(n){function t(e,r){return n.call(this,e,r.channelUrl,r.channelType,r)||this}return ee(t,n),t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new goe(ye(ye({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(boe),c=o.polls,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(hd),yoe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.pollId,c=e.pollOptionId,h=e.token,f=e.limit,m=n.call(this)||this;return m.method=pn.GET,m.path="".concat(Ro,"/").concat(encodeURIComponent(o),"/options/").concat(encodeURIComponent(c),"/voters"),m.params={channel_url:r,channel_type:a,token:h,limit:f},m}return ee(t,n),t}(_n),Eoe=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this).voters=((a=r.voters)!==null&&a!==void 0?a:[]).map(function(c){return new St(e,c)}),o.token=r.next,o}return ee(t,n),t}(gn),IU=function(n){function t(e,r){var a=n.call(this,e,r.channelUrl,r.channelType,r)||this;return a.pollId=r.pollId,a.pollOptionId=r.pollOptionId,a}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ge("number",this.pollId)&&ge("number",this.pollOptionId)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new yoe(ye(ye({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(Eoe),c=o.voters,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(hd),woe=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="poll",e}return ee(t,n),t.prototype.init=function(e,r){var a=r.sdkState,o=r.dispatcher,c=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:o,sessionManager:c,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v}),this._manager=new db(e,{sdkState:a,dispatcher:o,sessionManager:c,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v})},t.prototype.create=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=ye(ye({},poe),e),vn(kU(r)).throw(Le.invalidParameters),[2,this._manager.create(r)]})})},t.prototype.get=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=ye(ye({},_oe),e),vn(TU(r)).throw(Le.invalidParameters),[2,this._manager.get(r)]})})},t.prototype.getOption=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=ye(ye({},foe),e),vn(SU(r)).throw(Le.invalidParameters),[2,this._manager.getOption(r)]})})},t.prototype.buildPollFromSerializedData=function(e){return this._manager.buildPollFromSerializedData(e)},t}(Wb),S0,NU=100,AU="GroupChannel",xoe="url",cb=100,OU="Message",koe="messageId",Soe="Poll",Toe="pollId",kk={data:null,customType:null,mentionType:Yi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,parentMessageId:null,isReplyToChannel:!1,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null,isPinnedMessage:!1},Sk=function(n){return ge("string",n.data,!0)&&ge("string",n.customType,!0)&&mt(Yi,n.mentionType)&&yt("string",n.mentionedUserIds,!0)&&yt(St,n.mentionedUsers,!0)&&ge("string",n.mentionedMessageTemplate,!0)&&yt(za,n.metaArrays,!0)&&ge("number",n.parentMessageId,!0)&&ge("boolean",n.isReplyToChannel)&&mt(yc,n.pushNotificationDeliveryOption,!0)&&ge(_l,n.appleCriticalAlertOptions,!0)&&ge("boolean",n.isPinnedMessage,!0)},e8=function(n){return n?{isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption,pollId:n.pollId}:null},RU=ye(ye({},kk),{message:null,translationTargetLanguages:null,pollId:null}),MU=function(n){return Sk(n)&&ge("string",n.message)&&yt("string",n.translationTargetLanguages,!0)&&ge("number",n.pollId,!0)};(function(n){n.FILE="file",n.BLOB="blob",n.BLOB_LIKE_OBJECT="blobLikeObject",n.URL="url"})(S0||(S0={}));var Ex,wx=function(n){return typeof window<"u"&&"Blob"in window&&typeof Blob<"u"&&n instanceof Blob},n8=function(n){return n===S0.BLOB||n===S0.FILE},t8=function(n){return n?{file:n.file,fileKey:n.fileKey,fileType:n.fileType,isReplyToChannel:n.isReplyToChannel,pushNotificationDeliveryOption:n.pushNotificationDeliveryOption}:null},r8=ye(ye({},kk),{file:null,fileKey:null,fileUrl:null,fileName:null,fileType:null,fileSize:null,mimeType:null,thumbnailSizes:null,requireAuth:!1}),i8=function(n){return Sk(n)&&(Ai(n.file)||ge("string",n.fileUrl))&&ge("string",n.fileName,!0)&&ge("string",n.mimeType,!0)&&ge("number",n.fileSize,!0)&&(n.thumbnailSizes===null||Array.isArray(n.thumbnailSizes)&&n.thumbnailSizes.every(function(t){return ge("object",t)&&t.maxWidth>0&&t.maxHeight>0}))};(function(n){n.MUTED="muted",n.BANNED="banned"})(Ex||(Ex={}));var Bf,a8=function(){function n(t){var e,r,a,o;this.restrictionType=null,this.description=null,this.endAt=-1,this.remainingDuration=-1,mt(Ex,t.restriction_type)&&(this.restrictionType=t.restriction_type),this.description=(e=t.description)!==null&&e!==void 0?e:null,this.endAt=(a=(r=t.end_at)!==null&&r!==void 0?r:t.muted_end_at)!==null&&a!==void 0?a:-1,this.remainingDuration=(o=t.remaining_duration)!==null&&o!==void 0?o:-1}return n.payloadify=function(t){return t?st({restriction_type:t.restrictionType,description:t.description,end_at:t.endAt,remaining_duration:t.remainingDuration}):null},n}(),Ju=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.restrictionInfo=null,a.restrictionInfo=new a8(r),a}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),a8.payloadify(e.restrictionInfo))):null},t}(St),Tk={data:null,customType:null,mentionType:Yi.USERS,mentionedUserIds:null,mentionedUsers:null,mentionedMessageTemplate:null,metaArrays:null,pushNotificationDeliveryOption:null,appleCriticalAlertOptions:null},Ck=function(n){return ge("string",n.data,!0)&&ge("string",n.customType,!0)&&mt(Yi,n.mentionType)&&yt("string",n.mentionedUserIds,!0)&&yt(St,n.mentionedUsers,!0)&&ge("string",n.mentionedMessageTemplate,!0)&&yt(za,n.metaArrays,!0)&&mt(yc,n.pushNotificationDeliveryOption,!0)&&ge(_l,n.appleCriticalAlertOptions,!0)},DU=ye(ye({},Tk),{message:null,translationTargetLanguages:null,pollId:null}),LU=function(n){return Ck(n)&&ge("string",n.message,!0)&&yt("string",n.translationTargetLanguages,!0)&&ge("number",n.pollId,!0)},Coe=ye({},Tk),Ioe=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.token,c=e.limit,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(qt(a),"/").concat(encodeURIComponent(r),"/operators"),h.params={token:o,limit:c},h}return ee(t,n),t}(_n),Noe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.operators=r.operators.map(function(o){return new St(e,o)}),a.token=r.next,a}return ee(t,n),t}(gn),Aoe=function(n){function t(e,r,a,o){return n.call(this,e,r,a,o)||this}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=Se.of(this._iid).requestQueue,a=new Ioe(ye(ye({},this),{channelUrl:this.channelUrl,token:this._token})),[4,r.send(a)]):[3,2]):[3,5];case 1:return o=m.sent(),c=o.as(Noe),h=c.operators,f=c.token,this._token=f,this._hasNext=!!f,this._isLoading=!1,[2,h];case 2:return[2,e];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(hd),Ooe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.limit,h=e.token;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/mute"),r.params={limit:c,token:h},r}return ee(t,n),t}(_n),Roe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.mutedUsers=[];var o=r.next,c=r.muted_list;return a.token=o,c&&c.length>0&&(a.mutedUsers=c.map(function(h){return new Ju(e,h)})),a}return ee(t,n),t}(gn),Moe=function(n){function t(e,r,a,o){return n.call(this,e,r,a,o)||this}return ee(t,n),t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Ooe(ye(ye({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(Roe),c=o.mutedUsers,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(hd),Doe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.limit,h=e.token;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/ban"),r.params=st({limit:c,token:h}),r}return ee(t,n),t}(_n),Loe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.bannedUsers=[];var o=r.next,c=r.banned_list;return a.token=o,c&&c.length>0&&(a.bannedUsers=c.map(function(h){return new Ju(e,h.user)})),a}return ee(t,n),t}(gn),Uoe=function(n){function t(e,r,a,o){return n.call(this,e,r,a,o)||this}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Doe(ye(ye({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(Loe),c=o.bannedUsers,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(hd);(function(n){n.SPAM="spam",n.HARASSING="harassing",n.SUSPICIOUS="suspicious",n.INAPPROPRIATE="inappropriate"})(Bf||(Bf={}));var Poe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.operatorUserIds;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/operators"),r.params={operator_ids:c},r}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Foe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.operatorUserIds;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/operators"),r.params={operator_ids:c},r}return ee(t,n),t}(_n);(function(n){function t(e,r){return n.call(this,e,r)||this}ee(t,n)})(gn);var Hoe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.userId;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/mute/").concat(c),r}return ee(t,n),t}(_n),Boe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.isMuted=!1,a.startAt=null,a.endAt=null,a.remainingDuration=null,a.description=null;var o=r.is_muted,c=r.start_at,h=r.end_at,f=r.remaining_duration,m=r.description;return a.isMuted=o,a.startAt=c,a.endAt=h,a.remainingDuration=f,a.description=m,a}return ee(t,n),t}(gn),s8=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.keys;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metadata"),r.params={keys:c,include_ts:!0},r}return ee(t,n),t}(_n),o8=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var o=r.metadata,c=r.ts;return a.metadata=o,a.ts=c!=null?c:null,a}return ee(t,n),t}(gn),$oe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.metadata;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metadata"),r.params={metadata:c,include_ts:!0},r}return ee(t,n),t}(_n),zoe=function(n){function t(e,r){var a,o,c=this;return(c=n.call(this,e,r)||this).metaData=(a=r.metadata)!==null&&a!==void 0?a:{},c.ts=(o=r.ts)!==null&&o!==void 0?o:null,c}return ee(t,n),t}(gn),Voe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.metadata,h=e.upsert;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metadata"),r.params={metadata:c,include_ts:!0,upsert:h!=null&&h},r}return ee(t,n),t}(_n),Goe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var o=r.metadata,c=r.ts;return a.metadata=o,a.ts=c!=null?c:null,a}return ee(t,n),t}(gn),UU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.created=null,o.updated=null,o.deleted=null,a.data&&(o.created=a.data.created,o.updated=a.data.updated,o.deleted=a.data.deleted),o}return ee(t,n),t}(lr),qoe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.key;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metadata/").concat(c),r.params={include_ts:!0},r}return ee(t,n),t}(_n),joe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var o=r.ts;return a.ts=o!=null?o:null,a}return ee(t,n),t}(gn),Koe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metadata"),r.params={include_ts:!0},r}return ee(t,n),t}(_n),Woe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.ts=null;var o=r.ts;return a.ts=o!=null?o:null,a}return ee(t,n),t}(gn),l8=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.keys;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={keys:c},r}return ee(t,n),t}(_n),d8=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return ee(t,n),t}(gn),Qoe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.metaCounter;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={metacounter:c},r}return ee(t,n),t}(_n),Yoe=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return ee(t,n),t}(gn),$3=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.metaCounter,h=e.upsert,f=h!==void 0&&h,m=e.mode,v=m===void 0?"set":m;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metacounter"),r.params={metacounter:c,upsert:f,mode:v},r}return ee(t,n),t}(_n),z3=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.metaCounter=r,a}return ee(t,n),t}(gn),PU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.created=null,o.updated=null,o.deleted=null,a.data&&(o.created=a.data.created,o.updated=a.data.updated,o.deleted=a.data.deleted),o}return ee(t,n),t}(lr),Xoe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.key;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metacounter/").concat(c),r.params=null,r}return ee(t,n),t}(_n);(function(n){function t(e,r){return n.call(this,e,r)||this}ee(t,n)})(gn);var Zoe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/metacounter"),r.params=null,r}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Joe=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.userId,h=e.seconds,f=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/mute"),r.params={user_id:c,seconds:h,description:f},r}return ee(t,n),t}(_n);(function(n){function t(e,r){return n.call(this,e,r)||this}ee(t,n)})(gn);var FU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new Ju(e,a.data),o}return ee(t,n),t}(lr),ele=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.userId;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/mute/").concat(encodeURIComponent(c)),r}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var HU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new Ju(e,a.data),o}return ee(t,n),t}(lr),nle=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.userId,h=e.seconds,f=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/ban"),r.params=st({user_id:c,seconds:h,description:f}),r}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var BU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.memberCount=null,o.joinedMemberCount=null,o.user=new Ju(e,a.data),a.data.member_count&&(o.memberCount=a.data.member_count),a.data.joined_member_count&&(o.joinedMemberCount=a.data.joined_member_count),o}return ee(t,n),t}(lr),tle=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.userId;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/ban/").concat(encodeURIComponent(c)),r}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var $U=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new Ju(e,a.data),o}return ee(t,n),t}(lr),c8=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.freezing;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(qt(o),"/").concat(encodeURIComponent(a),"/freeze"),r.params={freeze:c},r}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var zU=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.freeze=a.data.freeze,o}return ee(t,n),t}(lr),rle=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.category,h=e.userId,f=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(bU(o),"/").concat(encodeURIComponent(a)),r.params={report_category:c,reporting_user_id:h,report_description:f},r}return ee(t,n),t}(_n),ile=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.category,h=e.userId,f=e.offendingUserId,m=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(mx,"/users/").concat(f),r.params={channel_url:a,channel_type:o===Jt.OPEN?"open_channels":"group_channels",report_category:c,reporting_user_id:h,report_description:m},r}return ee(t,n),t}(_n),ale=function(n){function t(e){var r=this,a=e.channelUrl,o=e.channelType,c=e.category,h=e.userId,f=e.offendingUserId,m=e.messageId,v=e.description;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(bU(o),"/").concat(encodeURIComponent(a),"/messages/").concat(m),r.params={report_category:c,reporting_user_id:h,report_description:v,offending_user_id:f},r}return ee(t,n),t}(_n),sle=function(n){function t(e){var r=[];return e.mentionType===Yi.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map(function(a){return a.userId}))),n.call(this,{code:"MESG",ackRequired:!0,payload:st({channel_url:e.channelUrl,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrays,mention_type:e.mentionType,mentioned_user_ids:r,mentioned_message_template:e.mentionedMessageTemplate,target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption&&e.pushNotificationDeliveryOption!==yc.DEFAULT?e.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:e.appleCriticalAlertOptions,silent:e.silent,reply_to_channel:e.isReplyToChannel,parent_message_id:e.parentMessageId>0?e.parentMessageId:null,req_id:e.reqId,poll_id:e.pollId,pin_message:e.isPinnedMessage})})||this}return ee(t,n),t}(Qa),Ik=function(n){function t(e,r,a){var o,c,h,f=this;(f=n.call(this,e,"MESG",a)||this).message=new Ki(e,a);var m=Se.of(e).sdkState;return f.isMentioned=x0(f.message.mentionType,(o=f.message.mentionedUserIds)!==null&&o!==void 0?o:(c=f.message.mentionedUsers)===null||c===void 0?void 0:c.map(function(v){return v.userId}),m.userId),f.forceUpdateLastMessage=(h=a.force_update_last_message)!==null&&h!==void 0&&h,f}return ee(t,n),t}(lr),u8=function(n){function t(e){var r,a=null;return e.mentionType===Yi.USERS&&(e.mentionedUserIds?a=e.mentionedUserIds:e.mentionedUsers&&(a=e.mentionedUsers.map(function(o){return o.userId}))),n.call(this,{code:"MEDI",ackRequired:!0,payload:st({channel_url:e.channelUrl,msg_id:e.messageId,message:e.message,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:a,mentioned_message_template:e.mentionedMessageTemplate,apple_critical_alert_options:(r=e.appleCriticalAlertOptions)===null||r===void 0?void 0:r.serialize(),poll_id:e.pollId})})||this}return ee(t,n),t}(Qa),ub=function(n){function t(e,r,a){var o,c,h,f,m,v,y=this;(y=n.call(this,e,"MEDI",a)||this).message=new Ki(e,a);var w=Se.of(e).sdkState;return y.mentionCountChange=gk({mentionType:(c=(o=a.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&c!==void 0?c:null,mentionedUserIds:(f=(h=a.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:y.message.mentionType,mentionedUserIds:(m=y.message.mentionedUserIds)!==null&&m!==void 0?m:(v=y.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId})},w.userId),y}return ee(t,n),t}(lr),h8=function(n){function t(e){var r=null;return e.mentionType===Yi.USERS&&(e.mentionedUserIds?r=e.mentionedUserIds:e.mentionedUsers&&(r=e.mentionedUsers.map(function(a){return a.userId}))),n.call(this,{code:"FEDI",ackRequired:!0,payload:st({channel_url:e.channelUrl,msg_id:e.messageId,data:e.data,custom_type:e.customType,metaarray:e.metaArrayParams,mention_type:e.mentionType,mentioned_user_ids:r,apple_critical_alert_options:e.appleCriticalAlertOptions})})||this}return ee(t,n),t}(Qa),hb=function(n){function t(e,r,a){var o,c,h,f,m,v,y=this;(y=n.call(this,e,"FEDI",a)||this).message=new ai(e,a);var w=Se.of(e).sdkState;return y.mentionCountChange=gk({mentionType:(c=(o=a.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&c!==void 0?c:null,mentionedUserIds:(f=(h=a.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:y.message.mentionType,mentionedUserIds:(m=y.message.mentionedUserIds)!==null&&m!==void 0?m:(v=y.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId})},w.userId),y}return ee(t,n),t}(lr),ole=function(n){function t(e){var r=n.call(this)||this;return r.method=pn.DELETE,r.path="".concat(qt(e.channelType),"/").concat(e.channelUrl,"/messages/").concat(e.messageId),r}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var VU=function(n){function t(e,r,a){var o=n.call(this,e,"DELM",a)||this;return o.channelUrl=a.channel_url,o.channelType=a.channel_type,o.messageId=Number(a.msg_id),o}return ee(t,n),t}(lr),lle=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,c=e.reactionKey,h=n.call(this)||this;return h.method=pn.POST,h.path="".concat(qt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(o,"/reactions"),h.params={reaction:c},h}return ee(t,n),t}(_n),dle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.reactionEvent=new Ek(r),a}return ee(t,n),t}(gn),cle=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,c=e.reactionKey,h=n.call(this)||this;return h.method=pn.DELETE,h.path="".concat(qt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(o,"/reactions"),h.params={reaction:c},h}return ee(t,n),t}(_n),ule=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.reactionEvent=new Ek(ye({},r)),a}return ee(t,n),t}(gn),hle=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,c=e.translationTargetLanguages,h=n.call(this)||this;return h.method=pn.POST,h.path="".concat(qt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(encodeURIComponent(o),"/translation"),h.params={target_langs:c},h}return ee(t,n),t}(_n),ple=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new Ki(e,r),a}return ee(t,n),t}(gn),fle=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=[];e.mentionType===Yi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(f){return f.userId})));var c=e.channelType,h=e.channelUrl;return a.method=pn.POST,a.path="".concat(qt(c),"/").concat(encodeURIComponent(h),"/scheduled_messages"),a.params={req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:w0.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(f){return za.payloadify(f)}),apple_critical_alert_options:_l.payloadify(e.appleCriticalAlertOptions),target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption},a}return ee(t,n),t}(_n),GU=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new Ki(e,r),a}return ee(t,n),t}(gn),_le=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=[];e.mentionType===Yi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(f){return f.userId})));var c=e.channelType,h=e.channelUrl;return a.method=pn.POST,a.path="".concat(qt(c),"/").concat(encodeURIComponent(h),"/scheduled_messages"),a.params={req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:w0.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(f){return Yb.payloadify(f)}):[],custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(f){return za.payloadify(f)}),apple_critical_alert_options:_l.payloadify(e.appleCriticalAlertOptions),push_option:e.pushNotificationDeliveryOption},a}return ee(t,n),t}(_n),mle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new ai(e,r),a}return ee(t,n),t}(gn),vle=function(n){function t(e){var r=e.pollId,a=e.title,o=e.data,c=e.allowUserSuggestion,h=e.allowMultipleVotes,f=e.closeAt,m=n.call(this)||this;return m.method=pn.PUT,m.path="".concat(Ro,"/").concat(encodeURIComponent(r)),m.params={title:a,data:o,allow_user_suggestion:c,allow_multiple_votes:h,close_at:f},m}return ee(t,n),t}(_n),gle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new so(e,r),a}return ee(t,n),t}(gn),ble=function(n){function t(e){var r=e.pollId,a=n.call(this)||this;return a.method=pn.DELETE,a.path="".concat(Ro,"/").concat(encodeURIComponent(r)),a}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var yle=function(n){function t(e){var r=e.pollId,a=n.call(this)||this;return a.method=pn.PUT,a.path="".concat(Ro,"/").concat(encodeURIComponent(r),"/close"),a}return ee(t,n),t}(_n),Ele=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new so(e,r),a}return ee(t,n),t}(gn),wle=function(n){function t(e){var r=e.channelUrl,a=e.channelType,o=e.pollId,c=e.optionText,h=n.call(this)||this;return h.method=pn.POST,h.path="".concat(Ro,"/").concat(encodeURIComponent(o),"/options"),h.params={channel_url:r,channel_type:a,text:c},h}return ee(t,n),t}(_n),xle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new so(e,r),a}return ee(t,n),t}(gn),kle=function(n){function t(e){var r=e.pollId,a=e.pollOptionId,o=e.optionText,c=n.call(this)||this;return c.method=pn.PUT,c.path="".concat(Ro,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(a)),c.params={text:o},c}return ee(t,n),t}(_n),Sle=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.poll=new so(e,r),a}return ee(t,n),t}(gn),Tle=function(n){function t(e){var r=e.pollId,a=e.pollOptionId,o=n.call(this)||this;return o.method=pn.DELETE,o.path="".concat(Ro,"/").concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(a)),o}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Cle=function(n){function t(e){var r=e.reqId,a=e.channelType,o=e.channelUrl,c=e.pollId,h=e.pollOptionIds;return n.call(this,{code:"VOTE",ackRequired:!0,payload:st({req_id:r,channel_type:a===Jt.OPEN?"open_channels":"group_channels",channel_url:o,poll_id:c,option_ids:h})})||this}return ee(t,n),t}(Qa),Nk=function(n){function t(e,r,a){var o=n.call(this,e,"VOTE",a)||this;return o.event=null,o.channelUrl=null,o.channelType=null,o.event=new voe(a),o.channelUrl=a.channel_url,o.channelType=a.channel_type,o}return ee(t,n),t}(lr),Ile=2,xx=function(n){function t(e,r){var a,o,c,h,f=this;return(f=n.call(this,e)||this).url="",f.channelType=Jt.BASE,f.name="",f.coverUrl="",f.customType="",f.data="",f.isFrozen=!1,f.isEphemeral=!1,f.creator=null,f.createdAt=0,f._messageCollectionLastAccessedAt=0,f.url=r.channel_url,f.name=(a=r.name)!==null&&a!==void 0?a:"",f.coverUrl=(o=r.cover_url)!==null&&o!==void 0?o:"",f.customType=(c=r.custom_type)!==null&&c!==void 0?c:"",f.data=(h=r.data)!==null&&h!==void 0?h:"",f.isFrozen=!!ge("boolean",r.freeze)&&r.freeze,f.isEphemeral=!!ge("boolean",r.is_ephemeral)&&r.is_ephemeral,f.creator=r.created_by?new St(f._iid,r.created_by):null,f.createdAt=1e3*r.created_at,f._cachedMetaData=new Map,r.metadata&&r.ts&&Object.keys(r.metadata).forEach(function(m){f._cachedMetaData.set(m,{value:r.metadata[m],isRemoved:!1,updatedAt:r.ts})}),f}return ee(t,n),t.payloadify=function(e){return st(ye(ye({},n.payloadify.call(this,e)),{channel_url:e.url,name:e.name,cover_url:e.coverUrl,custom_type:e.customType,data:e.data,freeze:e.isFrozen,is_ephemeral:e.isEphemeral,created_by:St.payloadify(e.creator),created_at:e.createdAt/1e3}))},t.prototype.isGroupChannel=function(){return this.channelType===Jt.GROUP},t.prototype.isOpenChannel=function(){return this.channelType===Jt.OPEN},Object.defineProperty(t.prototype,"cachedMetaData",{get:function(){var e={};return this._cachedMetaData.forEach(function(r,a){r.isRemoved||(e[a]=r.value)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageCollectionLastAccessedAt",{get:function(){return this._messageCollectionLastAccessedAt},enumerable:!1,configurable:!0}),t.prototype._updateMessageCollectionLastAccessedAt=function(){this._messageCollectionLastAccessedAt=Date.now()},t.prototype._upsertCachedMetaData=function(e,r){var a=this;Object.keys(e).forEach(function(o){var c=a._cachedMetaData.get(o);(!c||c.updatedAt<=r)&&a._cachedMetaData.set(o,{value:e[o],isRemoved:!1,updatedAt:r})})},t.prototype._removeFromCachedMetaData=function(e,r){var a=this;e.forEach(function(o){var c=a._cachedMetaData.get(o);c&&c.updatedAt<r&&(c.isRemoved=!1,c.updatedAt=r)})},t.prototype._generateRequestId=function(){return"rq-".concat(Cc())},t.prototype.isIdentical=function(e){return e&&this.url===e.url},t.prototype.isEqual=function(e){return BL(this,e)},t.prototype.createOperatorListQuery=function(e){return e===void 0&&(e={}),new Aoe(this._iid,this.url,this.channelType,e)},t.prototype.createMutedUserListQuery=function(e){return e===void 0&&(e={}),new Moe(this._iid,this.url,this.channelType,e)},t.prototype.createBannedUserListQuery=function(e){return e===void 0&&(e={}),new Uoe(this._iid,this.url,this.channelType,e)},t.prototype.createPreviousMessageListQuery=function(e){return e===void 0&&(e={}),new toe(this._iid,this.url,this.channelType,e)},t.prototype.addOperators=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return vn(yt("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new Poe({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.removeOperators=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return vn(yt("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new Foe({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.getMyMutedInfo=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w;return P(this,function(x){switch(x.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Hoe({channelUrl:this.url,channelType:this.channelType,userId:r.userId}),[4,a.send(o)];case 1:return c=x.sent(),h=c.as(Boe),f=h.isMuted,m=h.startAt,v=h.endAt,y=h.remainingDuration,w=h.description,[2,{isMuted:f,startAt:m,endAt:v,remainingDuration:y,description:w}]}})})},t.prototype.getMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return vn(yt("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new s8({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(a)];case 1:return o=m.sent(),c=o.as(o8),h=c.metadata,f=c.ts,this._upsertCachedMetaData(h,f),[2,h]}})})},t.prototype.getAllMetaData=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid).requestQueue,r=new s8({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return a=f.sent(),o=a.as(o8),c=o.metadata,h=o.ts,this._upsertCachedMetaData(c,h),[2,c]}})})},t.prototype.createMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,c;return P(this,function(h){switch(h.label){case 0:return r=Se.of(this._iid).requestQueue,a=new $oe({channelUrl:this.url,channelType:this.channelType,metadata:e}),[4,r.send(a)];case 1:return o=h.sent(),c=o.as(zoe).metaData,this._upsertCachedMetaData(c,0),[2,c]}})})},t.prototype.updateMetaData=function(e,r){return r===void 0&&(r=!1),F(this,void 0,void 0,function(){var a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return a=Se.of(this._iid).requestQueue,o=new Voe({channelUrl:this.url,channelType:this.channelType,metadata:e,upsert:r}),[4,a.send(o)];case 1:return c=v.sent(),h=c.as(Goe),f=h.metadata,m=h.ts,this._upsertCachedMetaData(f,m),[2,f]}})})},t.prototype.deleteMetaData=function(e){return F(this,void 0,void 0,function(){var r,a,o,c;return P(this,function(h){switch(h.label){case 0:return vn(ge("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new qoe({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(a)];case 1:return o=h.sent(),c=o.as(joe).ts,this._removeFromCachedMetaData([e],c),[2]}})})},t.prototype.deleteAllMetaData=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return e=Se.of(this._iid).requestQueue,r=new Koe({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return a=c.sent(),o=a.as(Woe).ts,this._removeFromCachedMetaData(tt([],Yn(this._cachedMetaData.keys()),!1),o),[2]}})})},t.prototype.getMetaCounters=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(c){switch(c.label){case 0:return vn(yt("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new l8({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,r.send(a)];case 1:return o=c.sent(),[2,o.as(d8).metaCounter]}})})},t.prototype.getAllMetaCounters=function(){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return e=Se.of(this._iid).requestQueue,r=new l8({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(r)];case 1:return a=o.sent(),[2,a.as(d8).metaCounter]}})})},t.prototype.createMetaCounters=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(c){switch(c.label){case 0:return r=Se.of(this._iid).requestQueue,a=new Qoe({channelUrl:this.url,channelType:this.channelType,metaCounter:e}),[4,r.send(a)];case 1:return o=c.sent(),[2,o.as(Yoe).metaCounter]}})})},t.prototype.updateMetaCounters=function(e,r){return r===void 0&&(r=!1),F(this,void 0,void 0,function(){var a,o,c;return P(this,function(h){switch(h.label){case 0:return a=Se.of(this._iid).requestQueue,o=new $3({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:r}),[4,a.send(o)];case 1:return c=h.sent(),[2,c.as(z3).metaCounter]}})})},t.prototype.increaseMetaCounters=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(c){switch(c.label){case 0:return r=Se.of(this._iid).requestQueue,a=new $3({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"increase"}),[4,r.send(a)];case 1:return o=c.sent(),[2,o.as(z3).metaCounter]}})})},t.prototype.decreaseMetaCounters=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(c){switch(c.label){case 0:return r=Se.of(this._iid).requestQueue,a=new $3({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"decrease"}),[4,r.send(a)];case 1:return o=c.sent(),[2,o.as(z3).metaCounter]}})})},t.prototype.deleteMetaCounter=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return vn(ge("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new Xoe({channelUrl:this.url,channelType:this.channelType,key:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.deleteAllMetaCounters=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new Zoe({channelUrl:this.url,channelType:this.channelType}),[4,e.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.muteUser=function(e,r,a){return F(this,void 0,void 0,function(){return P(this,function(o){return[2,this.muteUserWithUserId(e.userId,r,a)]})})},t.prototype.muteUserWithUserId=function(e,r,a){return F(this,void 0,void 0,function(){var o,c;return P(this,function(h){switch(h.label){case 0:return vn(ge("string",e)&&ge("number",r,!0)&&ge("string",a,!0)).throw(Le.invalidParameters),o=Se.of(this._iid).requestQueue,c=new Joe({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:a}),[4,o.send(c)];case 1:return h.sent(),[2]}})})},t.prototype.unmuteUser=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2,this.unmuteUserWithUserId(e.userId)]})})},t.prototype.unmuteUserWithUserId=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return vn(ge("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new ele({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.banUser=function(e,r,a){return F(this,void 0,void 0,function(){return P(this,function(o){return[2,this.banUserWithUserId(e.userId,r,a)]})})},t.prototype.banUserWithUserId=function(e,r,a){return F(this,void 0,void 0,function(){var o,c;return P(this,function(h){switch(h.label){case 0:return vn(ge("string",e)&&ge("number",r,!0)&&ge("string",a,!0)).throw(Le.invalidParameters),o=Se.of(this._iid).requestQueue,c=new nle({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:r,description:a}),[4,o.send(c)];case 1:return h.sent(),[2]}})})},t.prototype.unbanUser=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2,this.unbanUserWithUserId(e.userId)]})})},t.prototype.unbanUserWithUserId=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return vn(ge("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new tle({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.freeze=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new c8({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,e.send(r)];case 1:return a.sent(),this.isFrozen=!0,[2]}})})},t.prototype.unfreeze=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new c8({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,e.send(r)];case 1:return a.sent(),this.isFrozen=!1,[2]}})})},t.prototype.getMessagesByMessageId=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=ye(ye({},Hf),r),vn(ge("number",e)&&YO(a)).throw(Le.invalidParameters),[4,Ui.of(this._iid).getMessagesByMessageId(this.url,this.channelType,e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getMessagesByTimestamp=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=ye(ye({},Hf),r),vn(ge("number",e)&&YO(a)).throw(Le.invalidParameters),[4,Ui.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getMessageChangeLogsSinceTimestamp=function(e,r){return r===void 0&&(r={}),F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=ye(ye({},yx),r),vn(ge("number",e)&&XO(a)).throw(Le.invalidParameters),[4,Ui.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getMessageChangeLogsSinceToken=function(e,r){return r===void 0&&(r={}),F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=ye(ye({},yx),r),vn(ge("string",e)&&XO(a)).throw(Le.invalidParameters),[4,Ui.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,a)];case 1:return[2,o.sent()]}})})},t.prototype._createPendingSendableMessagePayload=function(e,r,a){var o=Se.of(this._iid).sessionManager;return st({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,sorted_metaarray:e.metaArrays?e.metaArrays.map(function(c){return za.payloadify(c)}):null,apple_critical_alert_options:e.appleCriticalAlertOptions?_l.payloadify(e.appleCriticalAlertOptions):null,created_at:a,user:m_.payloadify(o.currentUser),req_id:r,request_state:Ar.PENDING,mentioned_user_ids:e.mentionedUserIds,mentioned_users:e.mentionedUsers})},t.prototype._createPendingUserMessage=function(e,r,a){var o,c,h={};if(e.translationTargetLanguages)try{for(var f=Sn(e.translationTargetLanguages),m=f.next();!m.done;m=f.next())h[m.value]=""}catch(w){o={error:w}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(o)throw o.error}}var v=st(ye(ye({},this._createPendingSendableMessagePayload(e,r,a)),{type:Jr.USER,message:e.message,translations:h})),y=new Ki(this._iid,v);return y.messageParams=e,y},t.prototype._createPendingScheduledUserMessage=function(e,r,a){var o=this._createPendingUserMessage(e,r,a);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},o},t.prototype._createPendingFileMessage=function(e,r,a){var o=st(ye(ye({},this._createPendingSendableMessagePayload(e,r,a)),{type:Jr.FILE,url:e.fileUrl,file:{name:e.fileName,size:e.fileSize,type:e.mimeType,data:e.data},thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(h){return{url:"",width:h.maxWidth,height:h.maxHeight}}):[]})),c=new ai(this._iid,o);return c.messageParams=e,c},t.prototype._createPendingScheduledFileMessage=function(e,r,a){var o=this._createPendingFileMessage(e,r,a);return o.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},o},t.prototype._markMessageAsFailed=function(e,r,a){a===void 0&&(a=!1),e.errorCode=r.code,r.code===kt.REQUEST_CANCELED?e.sendingStatus=Ar.CANCELED:a||(e.sendingStatus=Ar.FAILED)},t.prototype.sendUserMessage=function(e){var r=ye(ye({},RU),e);return vn(MU(r)).throw(Le.invalidParameters),this._sendUserMessage(r)},t.prototype._sendUserMessage=function(e,r){var a=this;r===void 0&&(r=null);var o=Se.of(this._iid),c=o.dispatcher,h=o.requestQueue,f=r,m=Date.now(),v=new Wl;f||(f=this._generateRequestId(),So(2).then(function(){var w=a._createPendingUserMessage(e,f,m);c.dispatch(new ii({messages:[w],source:ut.EVENT_MESSAGE_SENT_PENDING})),$n(function(){return F(a,void 0,void 0,function(){return P(this,function(x){return[2,v._trigger(null,w)]})})})}));var y=new sle(ye(ye({},e),{channelUrl:this.url,channelType:this.channelType,reqId:f}));return h.send(y).then(function(w){var x=w.as(Ik).message;c.dispatch(new ii({messages:[x],source:ut.EVENT_MESSAGE_SENT_SUCCESS})),$n(function(){return F(a,void 0,void 0,function(){return P(this,function(C){return[2,v._trigger(null,x)]})})})}).catch(function(w){if(cl(w))throw w;So(2).then(function(){var x=a._createPendingUserMessage(e,f,m),C=Se.of(a._iid).cacheContext.localCacheEnabled&&rb(w.code);a._markMessageAsFailed(x,w,C),c.dispatch(new ii({messages:[x],source:x.sendingStatus===Ar.PENDING?ut.REQUEST_RESEND_MESSAGE:ut.EVENT_MESSAGE_SENT_FAILED})),$n(function(){return F(a,void 0,void 0,function(){return P(this,function(A){return[2,v._trigger(w,x)]})})})})}),v},t.prototype._autoResendUserMessage=function(e){return vn(e instanceof Ki).throw(Le.invalidParameters),this._sendUserMessage(e.messageParams,e.reqId)},t.prototype.resendUserMessage=function(e){var r;return F(this,void 0,void 0,function(){var a,o;return P(this,function(c){return vn(e instanceof Ki&&!e.scheduledInfo).throw(Le.invalidParameters),a=new Va,o=(r=e.messageParams)!==null&&r!==void 0?r:function(h){var f;return st({data:h.data,customType:h.customType,mentionType:h.mentionType,mentionedUsers:h.mentionedUsers,mentionedUserIds:h.mentionedUserIds,mentionedMessageTemplate:h.mentionedMessageTemplate,metaArrays:h.metaArrays,pollId:(f=h.poll)===null||f===void 0?void 0:f.id,parentMessageId:h.parentMessageId,appleCriticalAlertOptions:h.appleCriticalAlertOptions,message:h.message,translationTargetLanguages:Object.keys(h.translations)})}(e),this._sendUserMessage(o,e.reqId).onFailed(function(h){return a.reject(h)}).onSucceeded(function(h){return a.resolve(h)}),[2,a.promise]})})},t.prototype.updateUserMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,c,h;return P(this,function(f){switch(f.label){case 0:return a=ye(ye({},DU),r),vn(ge("number",e)&&LU(a)).throw(Le.invalidParameters),o=Se.of(this._iid).requestQueue,c=new u8(ye({channelType:this.channelType,channelUrl:this.url,messageId:e},a)),[4,o.send(c)];case 1:return h=f.sent(),[2,h.as(ub).message]}})})},t.prototype.copyUserMessage=function(e,r){var a,o,c;return F(this,void 0,void 0,function(){var h,f;return P(this,function(m){return vn(e instanceof t&&r instanceof Ki&&r.sendingStatus===Ar.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Le.invalidParameters),vn(!r.poll).throw(Le.notSupportedError),h=new Va,f=(a=r.messageParams)!==null&&a!==void 0?a:ye(ye({},r),{mentionType:r.mentionType,mentionedUserIds:(o=r.mentionedUserIds)!==null&&o!==void 0?o:(c=r.mentionedUsers)===null||c===void 0?void 0:c.map(function(v){return v.userId}),translationTargetLanguages:Object.keys(r.translations),pushNotificationDeliveryOption:yc.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}),e._sendUserMessage(f).onSucceeded(function(v){h.resolve(v)}).onFailed(function(v){return h.reject(v)}),[2,h.promise]})})},t.prototype.translateUserMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,c;return P(this,function(h){switch(h.label){case 0:return vn(e instanceof Ki&&e.messageId>0&&yt("string",r)).throw(Le.invalidParameters),a=Se.of(this._iid).requestQueue,o=new hle({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,translationTargetLanguages:r}),[4,a.send(o)];case 1:return c=h.sent(),[2,c.as(ple).message]}})})},t.prototype._createScheduledUserMessage=function(e,r){var a=this,o=Se.of(this._iid).requestQueue,c=Date.now(),h=this._generateRequestId();So(2).then(function(){var m=a._createPendingScheduledUserMessage(e,h,c);$n(function(){return F(a,void 0,void 0,function(){return P(this,function(v){return[2,r._trigger(null,m)]})})})});var f=new fle(ye({reqId:h,channelType:this.channelType,channelUrl:this.url},e));o.send(f).then(function(m){var v=m.as(GU).message;$n(function(){return F(a,void 0,void 0,function(){return P(this,function(y){return[2,r._trigger(null,v)]})})})}).catch(function(m){if(cl(m))throw m;So(2).then(function(){var v=a._createPendingScheduledUserMessage(e,h,c);a._markMessageAsFailed(v,m),$n(function(){return F(a,void 0,void 0,function(){return P(this,function(y){return[2,r._trigger(m,v)]})})})})})},t.prototype.sendFileMessage=function(e){var r=ye(ye({},r8),e);return vn(i8(r)).throw(Le.invalidParameters),this._sendFileMessage(r)},t.prototype._sendFileMessage=function(e,r){var a=this;r===void 0&&(r=null);var o=Se.of(this._iid).dispatcher,c=Ui.of(this._iid).fileMessageQueue,h=r,f=Date.now(),m=new Wl;return h||(h=this._generateRequestId(),So(2).then(function(){var v=a._createPendingFileMessage(e,h,f);o.dispatch(new ii({messages:[v],source:ut.EVENT_MESSAGE_SENT_PENDING})),$n(function(){return F(a,void 0,void 0,function(){return P(this,function(y){return[2,m._trigger(null,v)]})})})})),c.request(this,h,e).then(function(v){o.dispatch(new ii({messages:[v],source:ut.EVENT_MESSAGE_SENT_SUCCESS})),$n(function(){return F(a,void 0,void 0,function(){return P(this,function(y){return[2,m._trigger(null,v)]})})})}).catch(function(v){if(cl(v))throw v;So(2).then(function(){var y=a._createPendingFileMessage(e,h,f),w=Se.of(a._iid).cacheContext.localCacheEnabled&&rb(v.code);a._markMessageAsFailed(y,v,w),o.dispatch(new ii({messages:[y],source:y.sendingStatus===Ar.PENDING?ut.REQUEST_RESEND_MESSAGE:ut.EVENT_MESSAGE_SENT_FAILED})),$n(function(){return F(a,void 0,void 0,function(){return P(this,function(x){return[2,m._trigger(v,y)]})})})})}),m},t.prototype._autoResendFileMessage=function(e){vn(e instanceof ai).throw(Le.invalidParameters);var r=Se.of(this._iid).logger;return r.debug("autoResendFileMessage pending",e),this._sendFileMessage(e.messageParams,e.reqId).onFailed(function(a){r.debug("autoResendFileMessage failed",a)}).onSucceeded(function(a){r.debug("autoResendFileMessage success",a)})},t.prototype._createScheduledFileMessage=function(e,r,a,o){var c=this,h=Se.of(this._iid).requestQueue,f=new _le(ye(ye({reqId:a,channelType:this.channelType,channelUrl:this.url},e),{fileUrl:e.fileUrl,requireAuth:e.requireAuth}));h.send(f).then(function(m){var v=m.as(mle).message;$n(function(){return F(c,void 0,void 0,function(){return P(this,function(y){return[2,r._trigger(null,v)]})})})}).catch(function(m){if(cl(m))throw m;So(2).then(function(){var v=c._createPendingScheduledFileMessage(e,a,o);c._markMessageAsFailed(v,m),$n(function(){return F(c,void 0,void 0,function(){return P(this,function(y){return[2,r._trigger(m,v)]})})})})})},t.prototype.sendFileMessages=function(e){var r,a;vn(e.every(function(m){return i8(ye(ye({},r8),m))})).throw(Le.invalidParameters);var o=new Wl;try{for(var c=Sn(e),h=c.next();!h.done;h=c.next()){var f=h.value;this.sendFileMessage(f).onPending(function(m){return o._trigger(null,m)}).onFailed(function(m,v){return o._trigger(m,v)}).onSucceeded(function(m){return o._trigger(null,m)})}}catch(m){r={error:m}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}return o},t.prototype.resendFileMessage=function(e,r){var a;return F(this,void 0,void 0,function(){var o,c,h;return P(this,function(f){return o=Boolean(e.url)||Ai(r)||Ai((a=e.messageParams)===null||a===void 0?void 0:a.file),vn(e instanceof ai&&o&&!e.scheduledInfo).throw(Le.invalidParameters),c=new Va,h=function(m,v){var y;return v===void 0&&(v=null),m.messageParams?(!m.url&&Ai(v)&&(m.messageParams.file=v),m.messageParams):st({data:m.data,customType:m.customType,mentionType:m.mentionType,mentionedUsers:m.mentionedUsers,mentionedUserIds:m.mentionedUserIds,metaArrays:m.metaArrays,parentMessageId:m.parentMessageId,appleCriticalAlertOptions:m.appleCriticalAlertOptions,file:v!=null?v:(y=m.messageParams)===null||y===void 0?void 0:y.file,fileUrl:m.url,fileName:m.name,fileSize:m.size,mimeType:m.type,thumbnailSizes:m.thumbnails.map(function(w){return{maxWidth:w.width,maxHeight:w.height}})})}(e,r),this._sendFileMessage(h,e.reqId).onFailed(function(m){return c.reject(m)}).onSucceeded(function(m){return c.resolve(m)}),[2,c.promise]})})},t.prototype.updateFileMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,c,h;return P(this,function(f){switch(f.label){case 0:return a=ye(ye({},Coe),r),vn(ge("number",e)&&function(m){return Ck(m)}(a)).throw(Le.invalidParameters),o=Se.of(this._iid).requestQueue,c=new h8(ye({channelType:this.channelType,channelUrl:this.url,messageId:e},a)),[4,o.send(c)];case 1:return h=f.sent(),[2,h.as(hb).message]}})})},t.prototype.cancelUploadingFileMessage=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return vn(ge("string",e)).throw(Le.invalidParameters),Ui.of(this._iid).fileMessageQueue.cancel(this,e),[2,!0]})})},t.prototype.copyFileMessage=function(e,r){var a,o;return F(this,void 0,void 0,function(){var c,h;return P(this,function(f){return vn(e instanceof t&&r instanceof ai&&r.sendingStatus===Ar.SUCCEEDED&&this.url===r.channelUrl&&!r.scheduledInfo).throw(Le.invalidParameters),c=new Va,h=ye(ye({},r),{fileUrl:r.url,fileName:r.name,fileSize:r.size,mimeType:r.type,mentionType:r.mentionType,mentionedUserIds:(a=r.mentionedUserIds)!==null&&a!==void 0?a:(o=r.mentionedUsers)===null||o===void 0?void 0:o.map(function(m){return m.userId}),pushNotificationDeliveryOption:yc.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:r.thumbnails.map(function(m){return{maxWidth:m.width,maxHeight:m.height}}),requireAuth:r.requireAuth,isPinnedMessage:!1}),e._sendFileMessage(h).onSucceeded(function(m){return c.resolve(m)}).onFailed(function(m){return c.reject(m)}),[2,c.promise]})})},t.prototype.deleteMessage=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return vn(e instanceof zl).throw(Le.invalidParameters),e.messageId>0?(r=Se.of(this._iid).requestQueue,a=new ole({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId}),[4,r.send(a)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.addReaction=function(e,r){return F(this,void 0,void 0,function(){var a,o,c;return P(this,function(h){switch(h.label){case 0:return vn(e instanceof zl&&e.messageId>0&&ge("string",r)).throw(Le.invalidParameters),a=Se.of(this._iid).requestQueue,o=new lle({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,a.send(o)];case 1:return c=h.sent(),[2,c.as(dle).reactionEvent]}})})},t.prototype.deleteReaction=function(e,r){return F(this,void 0,void 0,function(){var a,o,c;return P(this,function(h){switch(h.label){case 0:return vn(e instanceof zl&&e.messageId>0&&ge("string",r)).throw(Le.invalidParameters),a=Se.of(this._iid).requestQueue,o=new cle({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:r}),[4,a.send(o)];case 1:return c=h.sent(),[2,c.as(ule).reactionEvent]}})})},t.prototype._updateUserMessageMetaArray=function(e,r,a,o){return F(this,void 0,void 0,function(){var c,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return c=Se.of(this._iid),h=c.dispatcher,f=c.requestQueue,m=new u8({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:a,upsert:o}}),[4,f.send(m)];case 1:return v=w.sent(),y=v.as(ub).message,h.dispatch(new ii({messages:[y],source:ut.EVENT_MESSAGE_UPDATED})),[2,y]}})})},t.prototype._updateFileMessageMetaArray=function(e,r,a,o){return F(this,void 0,void 0,function(){var c,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return c=Se.of(this._iid),h=c.dispatcher,f=c.requestQueue,m=new h8({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:r,mode:a,upsert:o}}),[4,f.send(m)];case 1:return v=w.sent(),y=v.as(hb).message,h.dispatch(new ii({messages:[y],source:ut.EVENT_MESSAGE_UPDATED})),[2,y]}})})},t.prototype.createMessageMetaArrayKeys=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){return vn(e instanceof zl&&e.messageId>0&&yt("string",r)).throw(Le.invalidParameters),a=r.map(function(c){return new za({key:c})}),e instanceof ai?[2,this._updateFileMessageMetaArray(e.messageId,a,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,a,"add",!0)]})})},t.prototype.deleteMessageMetaArrayKeys=function(e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){return vn(e instanceof zl&&e.messageId>0&&yt("string",r)).throw(Le.invalidParameters),a=r.map(function(c){return new za({key:c})}),e instanceof ai?[2,this._updateFileMessageMetaArray(e.messageId,a,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,a,"remove",!0)]})})},t.prototype.addMessageMetaArrayValues=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){return vn(e instanceof zl&&e.messageId>0&&r.every(function(o){return o instanceof za})).throw(Le.invalidParameters),e instanceof ai?[2,this._updateFileMessageMetaArray(e.messageId,r,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"add",!0)]})})},t.prototype.removeMessageMetaArrayValues=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){return vn(e instanceof zl&&e.messageId>0&&r.every(function(o){return o instanceof za})).throw(Le.invalidParameters),e instanceof ai?[2,this._updateFileMessageMetaArray(e.messageId,r,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,r,"remove",!0)]})})},t.prototype.report=function(e,r){return F(this,void 0,void 0,function(){var a,o,c,h;return P(this,function(f){switch(f.label){case 0:return vn(mt(Bf,e)&&ge("string",r)).throw(Le.invalidParameters),a=Se.of(this._iid),o=a.sdkState,c=a.requestQueue,h=new rle({channelUrl:this.url,channelType:this.channelType,userId:o.userId,category:e,description:r}),[4,c.send(h)];case 1:return f.sent(),[2]}})})},t.prototype.reportUser=function(e,r,a){return F(this,void 0,void 0,function(){var o,c,h,f;return P(this,function(m){switch(m.label){case 0:return vn(e instanceof St&&mt(Bf,r)&&ge("string",a)).throw(Le.invalidParameters),o=Se.of(this._iid),c=o.sdkState,h=o.requestQueue,f=new ile({channelUrl:this.url,channelType:this.channelType,userId:c.userId,offendingUserId:e.userId,category:r,description:a}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},t.prototype.reportMessage=function(e,r,a){return F(this,void 0,void 0,function(){var o,c,h,f;return P(this,function(m){switch(m.label){case 0:return vn(e instanceof Ii&&mt(Bf,r)&&ge("string",a)).throw(Le.invalidParameters),o=Se.of(this._iid),c=o.sdkState,h=o.requestQueue,f=new ale({channelUrl:this.url,channelType:this.channelType,userId:c.userId,offendingUserId:e.sender.userId,messageId:e.messageId,category:r,description:a}),[4,h.send(f)];case 1:return m.sent(),[2]}})})},t.prototype.updatePoll=function(e,r){return F(this,void 0,void 0,function(){var a,o,c;return P(this,function(h){switch(h.label){case 0:return vn(ge("number",e)&&function(f){return ge("string",f.title,!0)&&gU(f.data)&&ge("boolean",f.allowUserSuggestion,!0)&&ge("boolean",f.allowMultipleVotes,!0)&&ge("number",f.closeAt,!0)}(r)).throw(Le.invalidParameters),a=Se.of(this._iid).requestQueue,o=new vle(ye({pollId:e},r)),[4,a.send(o)];case 1:return c=h.sent(),[2,c.as(gle).poll]}})})},t.prototype.deletePoll=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(c){switch(c.label){case 0:return r=ge("number",e),vn(r).throw(Le.invalidParameters),a=Se.of(this._iid).requestQueue,o=new ble({pollId:e}),[4,a.send(o)];case 1:return c.sent(),[2]}})})},t.prototype.closePoll=function(e){return F(this,void 0,void 0,function(){var r,a,o,c;return P(this,function(h){switch(h.label){case 0:return r=ge("number",e),vn(r).throw(Le.invalidParameters),a=Se.of(this._iid).requestQueue,o=new yle({pollId:e}),[4,a.send(o)];case 1:return c=h.sent(),[2,c.as(Ele).poll]}})})},t.prototype.addPollOption=function(e,r){return F(this,void 0,void 0,function(){var a,o,c,h;return P(this,function(f){switch(f.label){case 0:return a=ge("number",e)&&ge("string",r)&&r.trim()!=="",vn(a).throw(Le.invalidParameters),o=Se.of(this._iid).requestQueue,c=new wle({channelUrl:this.url,channelType:this.channelType,pollId:e,optionText:r}),[4,o.send(c)];case 1:return h=f.sent(),[2,h.as(xle).poll]}})})},t.prototype.updatePollOption=function(e,r,a){return F(this,void 0,void 0,function(){var o,c,h,f;return P(this,function(m){switch(m.label){case 0:return o=ge("number",e)&&ge("number",r)&&ge("string",a)&&a.trim()!=="",vn(o).throw(Le.invalidParameters),c=Se.of(this._iid).requestQueue,h=new kle({pollId:e,pollOptionId:r,optionText:a}),[4,c.send(h)];case 1:return f=m.sent(),[2,f.as(Sle).poll]}})})},t.prototype.deletePollOption=function(e,r){return F(this,void 0,void 0,function(){var a,o,c;return P(this,function(h){switch(h.label){case 0:return a=ge("number",e)&&ge("number",r),vn(a).throw(Le.invalidParameters),o=Se.of(this._iid).requestQueue,c=new Tle({pollId:e,pollOptionId:r}),[4,o.send(c)];case 1:return h.sent(),[2]}})})},t.prototype.votePoll=function(e,r){return F(this,void 0,void 0,function(){var a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return a=ge("number",e)&&yt("number",r),vn(a).throw(Le.invalidParameters),o=Se.of(this._iid),c=o.requestQueue,h=o.dispatcher,f=new Cle({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionIds:r}),[4,c.send(f)];case 1:return m=y.sent(),v=m.as(Nk).event,h.dispatch(new Qb({event:v,source:ut.EVENT_POLL_VOTED})),[2,v]}})})},t.prototype.getPollChangeLogsSinceTimestamp=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return vn(ge("number",e)).throw(Le.invalidParameters),[4,db.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}})})},t.prototype.getPollChangeLogsSinceToken=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return vn(ge("string",e,!0)),[4,db.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,r.sent()]}})})},t.prototype.createPollListQuery=function(e){return e===void 0&&(e=10),new CU(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:e})},t.prototype.createPollVoterListQuery=function(e,r,a){return a===void 0&&(a=20),new IU(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionId:r,limit:a})},t}(Ps),ci,$f,kx;(function(n){n.LATEST_LAST_MESSAGE="latest_last_message",n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"})(ci||(ci={})),function(n){n.CHRONOLOGICAL="chronological",n.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",n.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}($f||($f={})),function(n){n.CREATED_AT="created_at",n.SCHEDULED_AT="scheduled_at"}(kx||(kx={}));var ji,bg=function(n){switch(n){case ci.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case ci.CHRONOLOGICAL:return["-createdAt","syncIndex"];case ci.CHANNEL_NAME_ALPHABETICAL:return["name"]}},T0=function(){function n(){this.messageTypeFilter=Wi.ALL,this.customTypesFilter=null,this.senderUserIdsFilter=null,this.replyType=Ra.NONE}return n.prototype.clone=function(){var t=new n,e=JSON.parse(JSON.stringify(this));return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},n.prototype.match=function(t){switch(this.messageTypeFilter){case Wi.USER:if(t.messageType!==Jr.USER)return!1;break;case Wi.FILE:if(t.messageType!==Jr.FILE)return!1;break;case Wi.ADMIN:if(t.messageType!==Jr.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(t.customType)||this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0&&(!(t instanceof Ii)||!this.senderUserIdsFilter.includes(t.sender.userId)))return!1;switch(this.replyType){case Ra.NONE:if(t.parentMessageId>0)return!1;break;case Ra.ONLY_REPLY_TO_CHANNEL:if(t instanceof Ii&&t.parentMessageId>0&&!t.replyToChannel)return!1}return!0},n}();(function(n){n.CHANNEL_LATEST="channel_latest",n.NEWEST_CHILD_MESSAGE="newest_child_message"})(ji||(ji={}));var Jl=function(n){switch(n){case ji.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case ji.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},td=typeof document<"u"&&typeof navigator<"u";td&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var Nle=td&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");td&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),td&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),td&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var zf,oa,Ale=td&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),p8=function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(t==="x"?e:3&e|8).toString(16)})};(function(n){n[n.PROCESSING=0]="PROCESSING",n[n.DONE=1]="DONE"})(zf||(zf={})),function(n){n.NEWNODE="newnode",n.REMOVENODE="removenode",n.CLAIM_HOST="claimhost",n.SYNC_HOST="synchost",n.REQUEST_LOCK="requestlock",n.ACQUIRE_LOCK="acquirelock",n.RELEASE_LOCK="releaselock"}(oa||(oa={}));var g_,V3={},Ak=function(){function n(t,e){e===void 0&&(e={});var r=this;return this._state=zf.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],V3[t]&&!e.forceCreate||(this.nodeId=p8(),this.key=t,td&&(e.startAsInvisible?this.registerNode():document.visibilityState==="visible"?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&r.claimHost()}),window.addEventListener("message",function(a){var o,c,h=a.data,f=h.nodeId,m=h.requestId,v=h.key,y=h.op,w=h.data;if(f!==r.nodeId&&v===r.key)switch(y){case oa.NEWNODE:r._sendSync();break;case oa.CLAIM_HOST:r._sendSync(),r._hostId=f;break;case oa.SYNC_HOST:if(!r.isInSync){r._activationTimeout&&clearTimeout(r._activationTimeout);var x=w,C=x.currentItemRequestId,A=x.queue,L=function(O){var H=r._queue.findIndex(function(D){return D.requestId===O.requestId});H<0&&r._requestLock({nodeId:O.nodeId,requestId:O.requestId,key:r.key,op:oa.REQUEST_LOCK,ts:O.ts})};try{for(var S=Sn(A),k=S.next();!k.done;k=S.next())L(k.value)}catch(O){o={error:O}}finally{try{k&&!k.done&&(c=S.return)&&c.call(S)}finally{if(o)throw o.error}}r._currentItem=r._queue.find(function(O){return O.requestId===C}),r._completeSync()}break;case oa.REMOVENODE:r._queue=r._queue.filter(function(O){return O.nodeId!==h.nodeId}),r._currentItem&&r._currentItem.nodeId===h.nodeId&&(r._currentItem=null,r._acquire(r._queue[0]));break;case oa.REQUEST_LOCK:r._requestLock(h);break;case oa.ACQUIRE_LOCK:var N=r._queue.find(function(O){return O.requestId===m});r._acquire(N);break;case oa.RELEASE_LOCK:r._release(m)}}),window.addEventListener("beforeunload",function(){r._send(oa.REMOVENODE)})),V3[t]=this),V3[t]}return Object.defineProperty(n.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isInSync",{get:function(){return this._state==zf.DONE},enumerable:!1,configurable:!0}),n.prototype._send=function(t,e){var r,a;e===void 0&&(e={});var o={nodeId:this.nodeId,requestId:(r=e==null?void 0:e.requestId)!==null&&r!==void 0?r:p8(),key:this.key,op:t,data:(a=e.data)!==null&&a!==void 0?a:null,ts:Date.now()};return td&&window.postMessage(o,"*"),o},n.prototype._acquire=function(t){t===void 0&&(t=null),t?(this._currentItem=t,this._currentItem.onAcquired(t.requestId)):this._currentItem=null},n.prototype._release=function(t){if(this._currentItem&&this._currentItem.requestId===t){var e=this._currentItem;this._currentItem=null,e.nodeId===this.nodeId&&this._send(oa.RELEASE_LOCK,{requestId:e.requestId});var r=this._queue.findIndex(function(a){return a.requestId===t});r>-1&&this._queue.splice(r,1),e.onReleased(t)}},n.prototype._requestLock=function(t){var e=this;return new Promise(function(r){var a={nodeId:t.nodeId,requestId:t.requestId,ts:t.ts,onAcquired:function(h){e.isHost&&e._send(oa.ACQUIRE_LOCK,{requestId:h}),r()},onReleased:function(){e._acquire(e._queue[0])}},o=!1;for(var c in e._queue)if(e._queue[c].ts>a.ts){e._queue.splice(parseInt(c),0,a),o=!0;break}o||e._queue.push(a),e._currentItem||e._acquire(e._queue[0])})},n.prototype._sendSync=function(){var t;this.isHost&&this._send(oa.SYNC_HOST,{data:{currentItemRequestId:(t=this._currentItem)===null||t===void 0?void 0:t.requestId,queue:this._queue.map(function(e){return{nodeId:e.nodeId,requestId:e.requestId,ts:e.ts}})}})},n.prototype._waitUntilSyncCompleted=function(){return F(this,void 0,void 0,function(){var t=this;return P(this,function(e){return this.isHost&&!this.isInSync?[2,new Promise(function(r){t._activationQueue.push(r)})]:[2]})})},n.prototype._waitSync=function(){var t=this;this.isInSync||(this._activationTimeout=setTimeout(function(){t._completeSync()},8))},n.prototype._completeSync=function(){this.isInSync||(this._state=zf.DONE,this._activationQueue.forEach(function(t){return t()}),this._activationQueue=[])},n.prototype.registerNode=function(){this._send(oa.NEWNODE),this._waitSync()},n.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(oa.CLAIM_HOST),this._waitSync()},n.prototype.lock=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return e.sent(),t=this._send(oa.REQUEST_LOCK),[4,this._requestLock(t)];case 2:return e.sent(),[2]}})})},n.prototype.unlock=function(){var t;this._release((t=this._currentItem)===null||t===void 0?void 0:t.requestId)},n}(),Ole=ye(ye({},RU),{scheduledAt:null}),Rle=function(n){return MU(n)&&ge("number",n.scheduledAt,!0)},Mle=ye(ye({},kk),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Dle=function(n){return Sk(n)&&ge("number",n.scheduledAt)&&(Ai(n.file)||ge("string",n.fileUrl))&&ge("string",n.fileName,!0)&&ge("string",n.mimeType,!0)&&ge("number",n.fileSize,!0)&&(n.thumbnailSizes===null||n.thumbnailSizes.every(function(t){return ge("object",t)&&t.maxWidth>0&&t.maxHeight>0}))},qU="UnsentMessage",Lle="reqId",f8={},Ok=function(n){function t(e,r){var a=r.sdkState,o=r.cacheContext,c=n.call(this,e)||this;return c._sdkState=a,c._cacheContext=o,f8[e]=c,c._mutex=new Ak("unsendmessagecache.lock"),c}return ee(t,n),t.of=function(e){return f8[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e&&e.collection(qU)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){if(e.messageId>0)throw Le.invalidParameters;var r,a=ye({},e.serialize());return e instanceof Ki?(e.messageParams&&(a.messageParams=e8(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a.scheduledInfo.scheduledMessageParams=(r=e.scheduledInfo.scheduledMessageParams,ye(ye({},e8(r)),{scheduledAt:r.scheduledAt})))):e instanceof ai&&(e.messageParams&&(a.messageParams=t8(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a.scheduledInfo.scheduledMessageParams=function(o){return ye(ye({},t8(o)),{scheduledAt:o.scheduledAt})}(e.scheduledInfo.scheduledMessageParams))),a},t.prototype._deserialize=function(e){return e?(e=ye(ye({},e),{messageId:parseInt(e.messageId)}),Ui.of(this._iid).buildMessageFromSerializedData(e)):null},t.prototype._deserializeWithMessageCreateParams=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return r=Ui.of(this._iid),a=this._deserialize(e),e.messageParams?a instanceof Ki?(o=e.messageParams,a.messageParams=r.buildUserMessageCreateParamsFromSerializedData(o,a),[3,4]):[3,1]:[3,4];case 1:return a instanceof ai?(o=e.messageParams).fileKey&&typeof o.fileKey=="string"&&n8(o.fileType)?(c=o,[4,this.collection.getBlob(o.fileKey)]):[3,3]:[3,4];case 2:c.file=m.sent(),m.label=3;case 3:a.messageParams=r.buildFileMessageCreateParamsFromSerializedData(o,a),m.label=4;case 4:return a.scheduledInfo&&e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams?a instanceof Ki?(h=e.scheduledInfo.scheduledMessageParams,a.scheduledInfo.scheduledMessageParams=r.buildScheduledUserMessageCreateParamsFromSerializedData(h,a),[3,8]):[3,5]:[3,8];case 5:return a instanceof ai?(h=e.scheduledInfo.scheduledMessageParams).fileKey&&typeof h.fileKey=="string"&&n8(h.fileType)?(f=h,[4,this.collection.getBlob(h.fileKey)]):[3,7]:[3,8];case 6:f.file=m.sent(),m.label=7;case 7:a.scheduledInfo.scheduledMessageParams=r.buildScheduledFileMessageCreateParamsFromSerializedData(h,a),m.label=8;case 8:return[2,a]}})})},t.prototype.get=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=a.sent())return[2,this._deserializeWithMessageCreateParams(r)];a.label=2;case 2:return[2,null]}})})},t.prototype.fetch=function(e){var r=e.channelUrl,a=r===void 0?null:r,o=e.filter,c=o===void 0?new T0:o,h=e.order,f=h===void 0?ji.CHANNEL_LATEST:h,m=e.sendingStatus,v=m===void 0?null:m,y=e.backward,w=y!==void 0&&y,x=e.parentMessageId,C=x===void 0?null:x;return F(this,void 0,void 0,function(){var A,L,S,k,N=this;return P(this,function(O){switch(O.label){case 0:return this.localCacheEnabled?(A=Jl(f),L={"/where":function(H){return!!(f!==ji.NEWEST_CHILD_MESSAGE||C&&H.parentMessageId!==0&&H.parentMessageId===C)&&c.match(N._deserialize(H))}},a&&(L.channelUrl=a),v&&(L.sendingStatus=v),S={where:L,index:A,backward:w},[4,this.collection.query(S)]):[3,3];case 1:return[4,O.sent().fetch({})];case 2:return k=O.sent(),[2,Promise.all(k.map(function(H){return F(N,void 0,void 0,function(){return P(this,function(D){switch(D.label){case 0:return[4,this._deserializeWithMessageCreateParams(H)];case 1:return[2,D.sent()]}})})}))];case 3:return[2,[]]}})})},t.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new T0),F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return[4,this.fetch({filter:r,order:ji.NEWEST_CHILD_MESSAGE,channelUrl:e.channelUrl,backward:!1,parentMessageId:e.messageId})];case 1:return[2,a.sent()]}})})},t.prototype.upsert=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(o){return F(r,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return o instanceof ai?[4,this._mutex.lock()]:[3,4];case 1:return h.sent(),[4,this.saveBlob(o)];case 2:return h.sent(),[4,this._mutex.unlock()];case 3:h.sent(),h.label=4;case 4:return c=this._serialize(o),[4,this.collection.upsertOne(c)];case 5:return h.sent(),[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.upsertChildMessages=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(o){return F(r,void 0,void 0,function(){var c,h;return P(this,function(f){switch(f.label){case 0:return c=[],((h=o.threadInfo)===null||h===void 0?void 0:h.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:c=f.sent(),f.label=2;case 2:return c.length>0?(c.forEach(function(m){return m.applyParentMessage(o)}),[4,this.upsert(c)]):[3,4];case 3:f.sent(),f.label=4;case 4:return[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:if(!this.localCacheEnabled)return[3,8];m.label=1;case 1:m.trys.push([1,6,7,8]),r=Sn(e),a=r.next(),m.label=2;case 2:return a.done?[3,5]:(o=a.value,[4,this.collection.remove(o)]);case 3:m.sent(),m.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return c=m.sent(),h={error:c},[3,8];case 7:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},t.prototype.removeMessagesOfChannel=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e}})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.saveBlob=function(e){return F(this,void 0,void 0,function(){var r,a,o;return P(this,function(c){switch(c.label){case 0:return e instanceof ai?e.messageParams&&(r=e.messageParams).file&&wx(r.file)?[4,this.collection.saveBlob(r.file,e.reqId)]:[3,2]:[3,4];case 1:o=c.sent(),r.fileKey=o,r.fileType=S0.BLOB,c.label=2;case 2:return e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(a=e.scheduledInfo.scheduledMessageParams).file&&wx(a.file)?[4,this.collection.saveBlob(a.file,e.reqId)]:[3,4];case 3:o=c.sent(),a.fileKey=o,a.fileType=S0.BLOB,c.label=4;case 4:return[2]}})})},t}(Ps),_8={},jU=function(n){function t(e,r){var a=r.sdkState,o=r.cacheContext,c=r.unsentMessageCache,h=n.call(this,e)||this;return h._sdkState=a,h._cacheContext=o,h._unsentMessageCache=c,_8[e]=h,h}return ee(t,n),t.of=function(e){return _8[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e?e.collection(OU):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){return ye(ye({},e.serialize()),{messageId:"".concat(e.messageId)})},t.prototype._deserialize=function(e){return e=ye(ye({},e),{messageId:parseInt(e.messageId)}),Ui.of(this._iid).buildMessageFromSerializedData(e)},t.prototype.get=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(r=a.sent())return[2,this._deserialize(r)];a.label=2;case 2:return[2,null]}})})},t.prototype.fetch=function(e){var r=e.channelUrl,a=e.token,o=e.limit,c=o===void 0?cb:o,h=e.filter,f=h===void 0?new T0:h,m=e.order,v=m===void 0?ji.CHANNEL_LATEST:m,y=e.backward,w=y!==void 0&&y,x=e.parentMessageId,C=x===void 0?null:x,A=e.isPollOnly,L=A!==void 0&&A;return F(this,void 0,void 0,function(){var S,k,N,O=this;return P(this,function(H){switch(H.label){case 0:return this.localCacheEnabled?(S=Jl(v),k={where:{channelUrl:r,"/where":function(D){if(a)switch(v){case ji.CHANNEL_LATEST:if(!w&&D.createdAt>a||w&&D.createdAt<a)return!1;break;case ji.NEWEST_CHILD_MESSAGE:if(!C||D.parentMessageId===0||D.parentMessageId!==C)return!1}return!(L&&!D._poll)&&f.match(O._deserialize(D))}},index:S,backward:w},[4,this.collection.query(k)]):[3,3];case 1:return[4,H.sent().fetch({limit:c})];case 2:return N=H.sent(),[2,Promise.all(N.map(function(D){return F(O,void 0,void 0,function(){return P(this,function(T){return[2,this._deserialize(D)]})})}))];case 3:return[2,[]]}})})},t.prototype.getAllChildMessages=function(e,r){return r===void 0&&(r=new T0),F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return[4,this.fetch({channelUrl:e.channelUrl,token:Date.now(),limit:null,backward:!1,filter:r,order:ji.NEWEST_CHILD_MESSAGE,parentMessageId:e.messageId})];case 1:return[2,a.sent()]}})})},t.prototype.upsert=function(e){return F(this,void 0,void 0,function(){var r,a=this;return P(this,function(o){switch(o.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(e)]:[3,5];case 1:return o.sent(),r=e.map(function(c){return a._serialize(c)}),[4,this.collection.upsertMany(r)];case 2:return o.sent(),[4,this.upsertChildMessages(e)];case 3:return o.sent(),[4,this._unsentMessageCache.upsertChildMessages(e)];case 4:o.sent(),o.label=5;case 5:return[2]}})})},t.prototype.upsertChildMessages=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map(function(o){return F(r,void 0,void 0,function(){var c,h;return P(this,function(f){switch(f.label){case 0:return c=[],((h=o.threadInfo)===null||h===void 0?void 0:h.replyCount)>0?[4,this.getAllChildMessages(o)]:[3,2];case 1:c=f.sent(),f.label=2;case 2:return c.length>0?(c.forEach(function(m){return m.applyParentMessage(o)}),[4,this.upsert(c)]):[3,4];case 3:f.sent(),f.label=4;case 4:return[2]}})})}))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:if(!this.localCacheEnabled)return[3,8];m.label=1;case 1:m.trys.push([1,6,7,8]),r=Sn(e),a=r.next(),m.label=2;case 2:return a.done?[3,5]:(o=a.value,[4,this.collection.remove("".concat(o))]);case 3:m.sent(),m.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return c=m.sent(),h={error:c},[3,8];case 7:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2]}})})},t.prototype.removeMessagesOfChannel=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e},index:Jl(ji.CHANNEL_LATEST)})]:[3,6];case 1:return a.sent(),[4,(r=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 2:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 3:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 4:return a.sent(),[4,r.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 5:a.sent(),a.label=6;case 6:return[2]}})})},t.prototype.removeUnderOffset=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e,createdAt:{"<":r}},index:Jl(ji.CHANNEL_LATEST)})]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.countBetween=function(e,r,a){return F(this,void 0,void 0,function(){var o,c=this;return P(this,function(h){switch(h.label){case 0:return this.localCacheEnabled?(o=Jl(ji.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:e,"/where":function(f){var m=c._deserialize(f);return a.includes(m.createdAt)&&r.match(m)}},index:o}).count()]):[3,2];case 1:return[2,h.sent()];case 2:return[2,0]}})})},t.prototype.saveBlobs=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return[4,Promise.all(e.map(function(o){return F(r,void 0,void 0,function(){var c,h;return P(this,function(f){switch(f.label){case 0:return o instanceof ai&&o.messageParams&&(c=o.messageParams).file&&wx(c.file)?[4,this.collection.saveBlob(c.file,o.reqId)]:[3,2];case 1:h=f.sent(),c.fileKey=h,f.label=2;case 2:return[2]}})})}))];case 1:return a.sent(),[2]}})})},t.prototype._getGroupChannelPreferenceSize=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return r=0,[4,(a=this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 1:return o=m.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 2:return c=m.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 3:return h=m.sent(),[4,a.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 4:return f=m.sent(),o&&(r+=JSON.stringify(o).length),c&&(r+=JSON.stringify(c).length),h&&(r+=JSON.stringify(h).length),f&&(r+=JSON.stringify(f).length),[2,r]}})})},t}(Ps),KU=function(n){function t(e){var r=e.message,a=n.call(this)||this;return a.message=r,a}return ee(t,n),t}(pi),m8={},ff=function(){function n(t,e){var r=e.localCacheEnabled,a=e.dispatcher,o=e.sdkState,c=e.logger,h=this;this._iid=t,m8[t]=this,this._localCacheEnabled=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=a,this._logger=c,this._sdkState=o,this._localCacheEnabled&&a.on(function(f){if(f instanceof ps)switch(f.stateType){case Gt.CONNECTED:h._isProcessingAutoResend||h.processAutoResendRegisteredPendingMessages().then(function(){return h._processNextAutoResend()});break;case Gt.INTERNAL_DISCONNECTED:case Gt.EXTERNAL_DISCONNECTED:h._isProcessingAutoResend=!1}})}return n.of=function(t){return m8[t]},n.prototype.processNonAutoResendRegisteredPendingMessages=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c;return P(this,function(h){switch(h.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:t=h.sent();try{for(e=Sn(t),r=e.next();!r.done;r=e.next())(a=r.value).errorCode===0&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",a.reqId),a.sendingStatus=Ar.FAILED,a.errorCode=kt.ACK_TIMEOUT,this._dispatcher.dispatch(new ii({messages:[a],source:ut.LOCAL_MESSAGE_FAILED})))}catch(f){o={error:f}}finally{try{r&&!r.done&&(c=e.return)&&c.call(e)}finally{if(o)throw o.error}}return[2]}})})},n.prototype.processAutoResendRegisteredPendingMessages=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:t=m.sent();try{for(e=Sn(t),r=e.next();!r.done;r=e.next())(a=r.value).errorCode&&rb(a.errorCode)&&(o=new Date().getTime(),c=a.createdAt+2592e5,o<=c?this._autoResendQueue.map(function(v){return v.reqId}).indexOf(a.reqId)<0&&this._autoResendQueue.push(a):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(c).toLocaleString()),a.sendingStatus=Ar.FAILED,this._dispatcher.dispatch(new ii({messages:[a],source:ut.LOCAL_MESSAGE_FAILED}))))}catch(v){h={error:v}}finally{try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}}return[2]}})})},n.prototype.completeCurrentAndProcessNextAutoResend=function(t){if(this._localCacheEnabled&&(t.sendingStatus===Ar.SUCCEEDED||t.sendingStatus===Ar.FAILED&&!rb(t.errorCode))){var e=this.indexOf(t);e>=0&&this._autoResendQueue.splice(e,1),e===0&&this._processNextAutoResend()}},n.prototype._fetchAllCachedPendingMessages=function(){return F(this,void 0,void 0,function(){var t,e;return P(this,function(r){switch(r.label){case 0:return(t=Ok.of(this._iid))?[4,t.fetch({sendingStatus:Ar.PENDING,backward:!0})]:[3,2];case 1:return e=r.sent(),[3,3];case 2:e=[],r.label=3;case 3:return[2,e]}})})},n.prototype.indexOf=function(t){return this._autoResendQueue.length>0?this._autoResendQueue.map(function(e){return e.reqId}).indexOf(t.reqId):-1},n.prototype._isNotInQueue=function(t){return this._autoResendQueue.map(function(e){return e.reqId}).indexOf(t.reqId)===-1},n.prototype._processNextAutoResend=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){if(this._localCacheEnabled&&this._sdkState.appState==="foreground")try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),t=this._autoResendQueue[0],this._dispatcher.dispatch(new KU({message:t})),this._logger.debug("processing auto-resend for message request id: ",t.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(r){this._logger.warn("process auto-resend error: ",r),this._isProcessingAutoResend=!1}return[2]})})},n}();(function(n){n[n.USER_BLOCK=20001]="USER_BLOCK",n[n.USER_UNBLOCK=2e4]="USER_UNBLOCK",n[n.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"})(g_||(g_={}));var nt,pb=function(){function n(t){this.category=t.cat,this.data=t.data}return n.getDataAsUserBlockEvent=function(t,e){var r=e.data,a=r.blocker,o=r.blockee;return{blocker:new St(t,a),blockee:new St(t,o)}},n.getDataAsFriendDiscoveredEvent=function(t,e){var r=e.data.friend_discoveries;return{friendDiscoveries:Array.isArray(r)?r.map(function(a){return new St(t,a)}):[]}},n}(),WU=function(n){function t(e,r){var a=r.userId,o=n.call(this)||this;return o._iid=e,o.userId=a,o}return ee(t,n),t}(pi);(function(n){n.UNKNOWN="UNKNOWN",n.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",n.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",n.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",n.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",n.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",n.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",n.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",n.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",n.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",n.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",n.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",n.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",n.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",n.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",n.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",n.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",n.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",n.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",n.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",n.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",n.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",n.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",n.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",n.EVENT_PINNED_MESSAGE_UPDATED="EVENT_PINNED_MESSAGE_UPDATED",n.REQUEST_CHANNEL="REQUEST_CHANNEL",n.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",n.REFRESH_CHANNEL="REFRESH_CHANNEL",n.CHANNEL_LASTACCESSEDAT_UPDATED="CHANNEL_LASTACCESSEDAT_UPDATED",n.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",n.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS"})(nt||(nt={}));var xr,yg=function(n){return n.startsWith("EVENT_")||n===nt.SYNC_CHANNEL_CHANGELOGS||n===nt.REFRESH_CHANNEL},At=function(n){function t(e){var r=e.channels,a=e.source,o=e.data,c=o===void 0?null:o,h=n.call(this)||this;return h.channels=r,h.source=a,h.data=c,h}return ee(t,n),t}(pi),uu=function(n){function t(e){var r=e.channelUrls,a=e.source,o=n.call(this)||this;return o.channelUrls=r,o.source=a,o}return ee(t,n),t}(pi),QU=function(n){function t(){return n.call(this)||this}return ee(t,n),t}(pi),YU=function(n){function t(e,r,a){var o=n.call(this,e,"USEV",a)||this;return o.event=new pb(a),o}return ee(t,n),t}(lr),Gv={},Zb=function(){function n(t){var e=t.dbname,r=t.itemSizeLimit,a=r===void 0?1048576:r,o=t.cacheLimit,c=o===void 0?256:o,h=t.blockHashBase,f=h===void 0?2:h,m=t.blockHashMultiplier,v=m===void 0?10:m,y=t.blockHashConstant,w=y===void 0?11:y,x=t.transactionApplyDelay,C=x===void 0?200:x,A=t.disableLogger,L=A!==void 0&&A;return Gv[e]||(this.itemSizeLimit=a,this.cacheLimit=c,this.blockHashBase=f,this.blockHashMultiplier=v,this.blockHashConstant=w,this.transactionApplyDelay=C,this.disableLogger=L,Gv[e]=this),Gv[e]}return n.get=function(t){return Gv[t]},n}();(function(n){n[n.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",n[n.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",n[n.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",n[n.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",n[n.STORE_IS_FULL=61001003]="STORE_IS_FULL",n[n.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",n[n.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",n[n.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",n[n.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",n[n.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",n[n.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",n[n.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",n[n.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",n[n.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",n[n.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",n[n.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",n[n.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",n[n.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",n[n.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",n[n.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",n[n.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",n[n.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",n[n.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",n[n.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",n[n.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"})(xr||(xr={}));var t0,Nr=function(n){function t(e){var r=e.code,a=r===void 0?xr.UNKNOWN_ERROR:r,o=e.message,c=o===void 0?"Unknown error occurred.":o,h=n.call(this,c)||this;return h.code=a,Object.setPrototypeOf(h,t.prototype),h}return ee(t,n),Object.defineProperty(t,"storeNotDefined",{get:function(){return new t({code:xr.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailable",{get:function(){return new t({code:xr.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailableInPrivateBrowsing",{get:function(){return new t({code:xr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeIsFull",{get:function(){return new t({code:xr.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeKeyTypeIsInvalid",{get:function(){return new t({code:xr.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenIntegrity",{get:function(){return new t({code:xr.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenBlob",{get:function(){return new t({code:xr.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeEncryptionInvalid",{get:function(){return new t({code:xr.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeItemSizeExceeded",{get:function(){return new t({code:xr.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeReadFailed",{get:function(){return new t({code:xr.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeWriteFailed",{get:function(){return new t({code:xr.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseSchemaNotOnUpgrade",{get:function(){return new t({code:xr.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionNotReady",{get:function(){return new t({code:xr.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotMatch",{get:function(){return new t({code:xr.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionQueryNotValid",{get:function(){return new t({code:xr.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionInsertDuplicate",{get:function(){return new t({code:xr.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotFound",{get:function(){return new t({code:xr.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotGiven",{get:function(){return new t({code:xr.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionWriteFailed",{get:function(){return new t({code:xr.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionItemSizeExceeded",{get:function(){return new t({code:xr.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTableIsRequired",{get:function(){return new t({code:xr.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTypesNotMatch",{get:function(){return new t({code:xr.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"compareTypesNotMatch",{get:function(){return new t({code:xr.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularReferenceFound",{get:function(){return new t({code:xr.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),t}(Error);(function(n){n.INIT="init",n.READY="ready",n.CLOSED="closed"})(t0||(t0={}));var v8,$a=function(n,t){if(t===void 0&&(t=new WeakMap),typeof n=="object"&&n!==null){if(t.has(n))throw Nr.circularReferenceFound;t.set(n,!0);var e=null;if(Array.isArray(n))e=n.map(function(a){return $a(a,t)});else if(n instanceof RegExp)e=n;else if(n instanceof Date)e=n;else for(var r in e={},n)e[r]=$a(n[r],t);return t.delete(n),e}return n},ed=function(n,t){if(t==null)return 1;if(n==null)return-1;if(typeof n!=typeof t)throw Nr.compareTypesNotMatch;var e=0;switch(typeof n){case"boolean":case"number":e=n-t;break;case"string":e=n.localeCompare(t)}return e},g8=function(n,t){for(var e=0,r=0;r<n.length;r++)e=n.charCodeAt(r)+(e<<6)+(e<<16)-e;return(e>>>0)%t},qv=function(n){return new Promise(function(t){setTimeout(function(){return t()},n)})},Ou=function(n,t){if(!t)return!1;if(typeof n!="function"){for(var e in n)if(["/and","&&"].includes(e)){if(n[e].some(function(f){return!Ou(f,t)}))return!1}else if(["/or","||"].includes(e)){if(n[e].every(function(f){return!Ou(f,t)}))return!1}else if(e==="/where"){if(!(0,n[e])(t))return!1}else{var r=e;if(typeof n[r]=="object"){var a=n[r];for(var o in a)switch(o){case"/eq":case"=":if((c=t[r])!==(h=a[o]))return!1;break;case"/neq":case"!=":if((c=t[r])===(h=a[o]))return!1;break;case"/gt":case">":var c=t[r],h=a[o];if(!(ed(c,h)>0))return!1;break;case"/gte":case">=":if(c=t[r],h=a[o],!(ed(c,h)>=0))return!1;break;case"/lt":case"<":if(c=t[r],h=a[o],!(ed(c,h)<0))return!1;break;case"/lte":case"<=":if(c=t[r],h=a[o],!(ed(c,h)<=0))return!1;break;case"/in":if(c=t[r],!(h=a[o]).includes(c))return!1;break;case"/nin":if(c=t[r],(h=a[o]).includes(c))return!1;break;case"/contain":if(c=t[r],h=a[o],!c.includes(h))return!1;break;case"/regex":if(c=t[r],!(h=a[o]).test(c))return!1;break;case"/where":if(c=t[r],!(0,a[o])(c))return!1}}else if(typeof n[r]=="function"){if(!n[r](t[r]))return!1}else if(n[r]!==t[r])return!1}return!0}return n(t)},Eg=function(){},b8=function(){return Promise.resolve()},Ule=function(n){return n},y8=function(n,t){t(null)};(function(n){n[n.FORWARD=0]="FORWARD",n[n.BACKWARD=1]="BACKWARD"})(v8||(v8={}));var Ru,ca,tl,Ple=function(){function n(t){var e=t.initialPrevValue,r=e===void 0?null:e,a=t.initialNextValue,o=a===void 0?null:a,c=t.iterator,h=t.map,f=h===void 0?Ule:h,m=t.backward,v=m===void 0?b8:m,y=t.forward,w=y===void 0?b8:y,x=t.complete,C=x===void 0?Eg:x;this._prevValue=r,this._nextValue=o,this._error=null,this._map=f,this._backward=v,this._forward=w,this._iterator=c,this._complete=C}return Object.defineProperty(n.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),n.prototype.prev=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:if(!this.hasPrevious)return[3,6];a.label=1;case 1:return a.trys.push([1,3,,4]),t=this._prevValue,e=this,[4,this._backward()];case 2:return e._prevValue=a.sent()||null,this._nextValue=t,[3,4];case 3:return r=a.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,a.sent()];case 6:this._complete(),a.label=7;case 7:return[2]}})})},n.prototype.next=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:if(!this.hasNext)return[3,6];a.label=1;case 1:return a.trys.push([1,3,,4]),t=this._nextValue,e=this,[4,this._forward()];case 2:return e._nextValue=a.sent()||null,this._prevValue=t,[3,4];case 3:return r=a.sent(),this._error=r,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,a.sent()];case 6:this._complete(),a.label=7;case 7:return[2]}})})},n.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},n}(),Sx=function(){function n(t){var e=t.condition,r=e===void 0?{}:e,a=t.backward,o=a!==void 0&&a,c=t.blockManager,h=t.indexer;this.condition=r,this.backward=o,this._blockManager=c,this._indexer=h}return n.prototype.findOptimizedStartPosition=function(){var t=this,e=["=","/eq",">",">=","/gt","/gte"],r=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var a=this._indexer.origin.length-1;if(typeof this.condition!="function")for(var o in this._indexer.fields){var c=this._indexer.fields[o],h=1;if(c[0]==="-"&&(c=c.slice(1),h=-1),this.condition[c]){if(typeof this.condition[c]=="object"){var f=h>0?r:e;for(var m in this.condition[c])if(f.includes(m)){for(var v=a;v>=0;v--)if(h*ed(this._indexer.origin[v].columnValues[o],this.condition[c][m])<=0){a=v;break}}}else for(v=a;v>=0;v--)if(h*ed(this._indexer.origin[v].columnValues[o],this.condition[c])<=0){a=v;break}}}return Math.min(a+1,this._indexer.origin.length-1)}var y=0;if(typeof this.condition!="function")for(var w=function(A){var L=x._indexer.fields[A],S=1;if(L[0]==="-"&&(L=L.slice(1),S=-1),x.condition[L]){if(typeof x.condition[L]=="object")Object.keys(x.condition[L]).forEach(function(N){if((S>0?e:r).includes(N)){for(var O=y;O<t._indexer.origin.length;O++)if(S*ed(t._indexer.origin[O].columnValues[A],t.condition[L][N])>=0){y=O;break}}});else for(var k=y;k<x._indexer.origin.length;k++)if(S*ed(x._indexer.origin[k].columnValues[A],x.condition[L])>=0){y=k;break}}},x=this,o=0;o<this._indexer.fields.length;o++)w(o);return Math.max(y-1,0)},n.prototype.each=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m=this;return P(this,function(v){switch(v.label){case 0:if(e=this.findOptimizedStartPosition(),r=0,this.backward&&this._indexer.origin[e]&&(r=this._indexer.origin[e].keys.length-1),a=function(){if(m._indexer.origin[e]){if(!m._indexer.origin[e].keys[++r]){if(!m._indexer.origin[++e])return!1;r=0}return!0}return!1},o=function(){if(m._indexer.origin[e]){if(!m._indexer.origin[e].keys[--r]){if(!m._indexer.origin[--e])return!1;r=m._indexer.origin[e].keys.length-1}return!0}return!1},c=null,!this._indexer.origin[e])return[3,4];h=this.backward?o:a,v.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])];case 2:if(f=v.sent(),Ou(this.condition,f))return c=f,[3,4];v.label=3;case 3:if(h())return[3,1];v.label=4;case 4:return[4,new Promise(function(y){var w=new Ple({initialNextValue:$a(c),iterator:t,forward:function(){return F(m,void 0,void 0,function(){var x,C;return P(this,function(A){switch(A.label){case 0:x=this.backward?o:a,A.label=1;case 1:return x()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return C=A.sent(),Ou(this.condition,C)?[2,$a(C)]:[3,1];case 3:return[2,null]}})})},backward:function(){return F(m,void 0,void 0,function(){var x,C;return P(this,function(A){switch(A.label){case 0:x=this.backward?a:o,A.label=1;case 1:return x()?[4,this._blockManager.getFromBlock(this._indexer.origin[e].keys[r])]:[3,3];case 2:return C=A.sent(),Ou(this.condition,C)?[2,$a(C)]:[3,1];case 3:return[2,null]}})})},complete:y});t(w)})];case 5:return[2,v.sent()]}})})},n}(),Fle=function(){function n(t){var e=t.condition,r=e===void 0?{}:e,a=t.backward,o=a!==void 0&&a,c=t.mutex,h=t.blockManager,f=t.indexer;this._mutex=c,this._iterator=new Sx({condition:r,backward:o,blockManager:h,indexer:f})}return n.prototype.fetch=function(t){return t===void 0&&(t={}),F(this,void 0,void 0,function(){var e,r,a,o,c=this;return P(this,function(h){switch(h.label){case 0:if(e=Math.max(t.offset||0,0),(r=typeof t.limit=="number"?t.limit:Number.MAX_SAFE_INTEGER)===0)return[2,[]];if(r<0)throw Nr.collectionQueryNotValid;h.label=1;case 1:return h.trys.push([1,4,,5]),a=[],[4,this._mutex.lock()];case 2:return h.sent(),[4,this._iterator.each(function(f){return F(c,void 0,void 0,function(){return P(this,function(m){return f.error?f.stop():f.hasNext?e===0?(a.push(f.nextValue),0<r&&r<=a.length?f.stop():f.next()):(e--,f.next()):f.stop(),[2]})})})];case 3:return h.sent(),this._mutex.unlock(),[2,a];case 4:throw o=h.sent(),this._mutex.unlock(),o;case 5:return[2]}})})},n.prototype.count=function(){return F(this,void 0,void 0,function(){var t,e,r=this;return P(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),t=0,[4,this._mutex.lock()];case 1:return a.sent(),[4,this._iterator.each(function(o){return F(r,void 0,void 0,function(){return P(this,function(c){return o.error?o.stop():o.hasNext?(t++,o.next()):o.stop(),[2]})})})];case 2:return a.sent(),this._mutex.unlock(),[2,t];case 3:throw e=a.sent(),this._mutex.unlock(),e;case 4:return[2]}})})},n}(),Tx=function(n){return"".concat("nest","@").concat(n)},$u=function(n,t){return"".concat(Tx(n),"/").concat(t)},G3=function(n,t){return"".concat($u(n,t),".metadata")},Cx=function(n,t){return"".concat($u(n,t),"/block.")},E8=function(n,t){return"".concat($u(n,t),"/blob.")},Hle=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.store;this.dbname=e,this.collectionName=r,this.store=a}return n.prototype.get=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return[4,this.store.get(t)];case 1:return(e=y.sent())?(r=e.data,a=e.type,typeof fetch>"u"?[3,4]:[4,fetch(r)]):[3,5];case 2:return[4,y.sent().blob()];case 3:return[2,y.sent()];case 4:for(o=[],c=atob(r.split(",")[1]),h=0;h<c.length;h+=512){for(f=c.slice(h,h+512),m=new Array(f.length),v=0;v<f.length;v++)m[v]=f.charCodeAt(v);o.push(new Uint8Array(m))}return[2,new Blob(o,{type:a})];case 5:return[2,null]}})})},n.prototype.save=function(t,e){return e===void 0&&(e="".concat(Date.now())),F(this,void 0,void 0,function(){var r,a,o,c,h=this;return P(this,function(f){switch(f.label){case 0:return[4,new Promise(function(m){var v=function(w,x,C,A){return A===void 0&&(A=0),"".concat(E8(w,x)).concat(C,".").concat(A)}(h.dbname,h.collectionName,e),y=new FileReader;y.onload=function(){m({blobId:v,data:y.result,type:t.type})},y.readAsDataURL(t)})];case 1:return r=f.sent(),a=r.blobId,o=r.data,c=r.type,[4,this.store.set({key:a,value:{data:o,type:c},generation:1})];case 2:return f.sent(),[2,a]}})})},n.prototype.remove=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this.store.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.clear=function(){return F(this,void 0,void 0,function(){var t,e,r=this;return P(this,function(a){switch(a.label){case 0:return t=E8(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return e=a.sent(),[4,Promise.all(e.filter(function(o){return o.startsWith(t)}).map(function(o){return F(r,void 0,void 0,function(){return P(this,function(c){switch(c.label){case 0:return[4,this.store.remove(o)];case 1:return[2,c.sent()]}})})}))];case 2:return a.sent(),[2]}})})},n}();(function(n){n[n.COMMIT=0]="COMMIT",n[n.WRITE=1]="WRITE",n[n.ERROR=2]="ERROR"})(Ru||(Ru={})),function(n){n.PENDING="pending",n.PERSISTENT="persistent",n.VOLATILE="volatile"}(ca||(ca={})),function(n){n[n.NO_CACHE=0]="NO_CACHE",n[n.DEFAULT=1]="DEFAULT",n[n.PERSISTENT=2]="PERSISTENT"}(tl||(tl={}));var w8=[ca.PENDING,ca.VOLATILE],jv={},Zs=function(){function n(t){var e=t.dbname,r=t.limit,a=r===void 0?256:r;return jv[e]||(this.dbname=e,this._items=[],this._limit=a,jv[e]=this),jv[e]}return n.get=function(t){return jv[t]},Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.find=function(t,e,r){return r===void 0&&(r=tl.DEFAULT),F(this,void 0,void 0,function(){var a,o;return P(this,function(c){switch(c.label){case 0:return(a=this.get(e))?[3,2]:[4,t.get(e)];case 1:return(o=c.sent())&&(a={key:e,value:o,generation:1,state:r===tl.PERSISTENT?ca.PERSISTENT:ca.VOLATILE},this.put(a)),[3,3];case 2:r===tl.PERSISTENT&&(a.state=ca.PERSISTENT),c.label=3;case 3:return[2,a]}})})},n.prototype.get=function(t,e){e===void 0&&(e=tl.DEFAULT);var r=this._items.map(function(o){return o.key}).indexOf(t);if(r>-1){var a=this._items[r];return e===tl.PERSISTENT&&(a.state=ca.PERSISTENT),e!==tl.NO_CACHE&&this.put(a),a}return null},n.prototype.put=function(t){var e,r;if(this._limit>0){var a=this._items.map(function(y){return y.key}).indexOf(t.key);if(a>-1)w8.includes(this._items[a].state)&&w8.includes(t.state)?(this._items.splice(a,1),this._items.push(t)):(this._items[a].state=t.state,this._items[a].generation=t.generation,this._items[a].value=t.value);else{this._items.push(t);var o=this._items.filter(function(y){return y.state===ca.VOLATILE}),c=o.length-this._limit;if(c>0){var h=[];try{for(var f=Sn(this._items),m=f.next();!m.done;m=f.next()){var v=m.value;v.state===ca.VOLATILE&&c>0?c--:h.push(v)}}catch(y){e={error:y}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}this._items=h}}}},n.prototype.remove=function(t){var e=this._items.map(function(r){return r.key}).indexOf(t);e>-1&&this._items.splice(e,1)},n.prototype.clearByCondition=function(t){this._items=this._items.filter(function(e){return!t(e)})},n.prototype.clear=function(t){t===void 0&&(t=!1),this._items=t?[]:this._items.filter(function(e){return e.state!==ca.VOLATILE})},n}(),Ble=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=e,this.collectionName=r,this.metadataKey=function(o,c){return"".concat($u(o,c),"/trans.metadata")}(e,r),this.recordsetKey=function(o,c){return"".concat($u(o,c),"/trans.recordset")}(e,r),this._store=a}return Object.defineProperty(n.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),n.prototype._getReducedRecordset=function(t){return t===void 0&&(t=[]),F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(e=r.sent()||[]).push.apply(e,tt([],Yn(t),!1)),[2,this._reduceRecordSet(e)]}})})},n.prototype._reduceRecordSet=function(t){for(var e=[],r={},a=t.length-1;a>=0;a--){for(var o=t[a],c=[],h=o.requests.length-1;h>=0;h--){var f=o.requests[h],m=f.data;r[m.key]||(c.unshift(f),r[m.key]=!0)}c.length>0&&(o.requests=c,e.unshift(o))}return e},n.prototype._applyRecord=function(t,e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:r=Zs.get(this.dbname),a=e.generation,o=e.requests,c=null,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,this._store.setMany(o.map(function(x){return ye(ye({},x.data),{generation:a})}))];case 2:for(h=w.sent(),f=0;f<o.length;f++)h[f]instanceof Error&&(c||(c=h[f]),m=o[f].data,r.put(ye(ye({},m),{generation:a,state:ca.PERSISTENT})));return[3,4];case 3:return v=w.sent(),c=v,[3,4];case 4:return c?[3,6]:(y=t.filter(function(x){return x.generation!==a}),[4,this._store.set({key:this.recordsetKey,value:y,generation:a})]);case 5:return w.sent(),this._onWrite.forEach(function(x){x(o.map(function(C){return C.data}))}),[3,7];case 6:this._onError.forEach(function(x){return x(c)}),w.label=7;case 7:return[2]}})})},n.prototype.init=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return t=this,[4,this._store.get(this.metadataKey)];case 1:return t._metadata=m.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:e=m.sent(),m.label=3;case 3:m.trys.push([3,8,9,10]),r=Sn(e),a=r.next(),m.label=4;case 4:return a.done?[3,7]:(o=a.value,[4,this._applyRecord(e,o)]);case 5:m.sent(),m.label=6;case 6:return a=r.next(),[3,4];case 7:return[3,10];case 8:return c=m.sent(),h={error:c},[3,10];case 9:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 10:return[2]}})})},n.prototype.on=function(t,e,r){switch(t){case Ru.COMMIT:this._onCommit.set(e,r);break;case Ru.WRITE:this._onWrite.set(e,r);break;case Ru.ERROR:this._onError.set(e,r)}},n.prototype.requestWrite=function(t,e){e===void 0&&(e=null),this._requests.push({data:t,options:e}),Zs.get(this.dbname).put(ye({state:ca.PENDING,generation:this.generation},t))},n.prototype.requestMultipleWrite=function(t,e){var r,a;e===void 0&&(e=null);var o=Zs.get(this.dbname);try{for(var c=Sn(t),h=c.next();!h.done;h=c.next()){var f=h.value;this._requests.push({data:f,options:e}),o.put(ye({state:ca.PENDING,generation:this.generation},f))}}catch(m){r={error:m}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}},n.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(t){return Zs.get(this.dbname).clearByCondition(function(e){return e.state===ca.PENDING}),this._requests=[],[2]})})},n.prototype.commit=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h,f,m,v,y,w,x=this;return P(this,function(C){switch(C.label){case 0:if(!((t=this._requests).length>0))return[3,4];for(e=[],r={},f=t.length-1;f>=0;f--)a=t[f],v=a.data,r[v.key]||(r[v.key]=!0,e.unshift(a));return o={generation:this.generation,requests:e},[4,this._getReducedRecordset([o])];case 1:return c=C.sent(),[4,this._store.set({key:this.recordsetKey,value:c,generation:this.generation})];case 2:return C.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(C.sent(),h=Zs.get(this.dbname),f=0;f<e.length;f++)m=e[f],v=m.data,y=m.options,h.put(ye(ye({},v),{generation:o.generation,state:y&&y.persistent?ca.PERSISTENT:ca.VOLATILE}));this._requests=[],this._onCommit.forEach(function(A){A(t.map(function(L){return L.data}))}),w=Zb.get(this.dbname),setTimeout(function(){try{x._applyRecord(c,o)}catch(A){x._onError.forEach(function(L){return L(A)})}},w.transactionApplyDelay),C.label=4;case 4:return[2]}})})},n}(),wg=function(){function n(t){var e=t.blockId,r=t.keyName,a=t.items,o=a===void 0?[]:a,c=t.limit;this.blockId=e,this.keyName=r,this.limit=c,this._items=tt([],Yn(o),!1)}return n.createFromCacheItem=function(t){return t?new n(t.value):null},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},n.prototype.getItemByKey=function(t){var e=this;return this._items.find(function(r){var a=r[e.keyName];return t===a})},n.prototype.has=function(t){var e=this;return this._items.map(function(r){return r[e.keyName]}).includes(t)},n.prototype.add=function(t){var e=this,r=this._items.map(function(a){return a[e.keyName]}).indexOf(t[this.keyName]);return r<0?this._items.length<this.limit&&(this._items.push(t),!0):(this._items[r]=t,!0)},n.prototype.remove=function(t){for(var e in this._items)if(this._items[e][this.keyName]===t)return this._items.splice(parseInt(e),1),!0;return!1},n.prototype.clear=function(){this._items=[]},n}(),$le=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.metadata,o=t.hashFunction,c=o===void 0?g8:o,h=t.transaction,f=t.store;this.dbname=e,this.collectionName=r,this.hashFunction=c,this.metadata=a,this._transaction=h,this._store=f}return Object.defineProperty(n.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),n.prototype.createBlockId=function(t,e){return e===void 0&&(e=this.metadata.blockLevel),r=this.dbname,a=this.collectionName,o=e,c="".concat(function(h,f,m){var v=m.base*Math.pow(m.multiplier,f)+m.constant;return(m.hashFunction||g8)(h,v)}(t,e,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(Cx(r,a)).concat(o,".").concat(c);var r,a,o,c},n.prototype._findBlock=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c;return P(this,function(h){switch(h.label){case 0:e=Zs.get(this.dbname),r=this.metadata.blockLevel,h.label=1;case 1:return r>0?(a=this.createBlockId(t,r),[4,e.find(this._store,a)]):[3,4];case 2:if((o=h.sent())&&(c=wg.createFromCacheItem(o),c.getItemByKey(t)))return[2,c];h.label=3;case 3:return r--,[3,1];case 4:return[2,null]}})})},n.prototype.getFromBlock=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this._findBlock(t)];case 1:return[2,(e=r.sent())?e.getItemByKey(t):null]}})})},n.prototype.putToBlock=function(t,e){return F(this,void 0,void 0,function(){var r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return r=Zb.get(this.dbname),a=this.createBlockId(t),o=Math.floor(this._store.itemSizeLimit/r.itemSizeLimit),[4,Zs.get(this.dbname).find(this._store,a)];case 1:return c=f.sent(),(h=c?wg.createFromCacheItem(c):new wg({blockId:a,keyName:this.keyName,items:[],limit:o})).add(e)?(this._transaction.requestWrite({key:h.blockId,value:h.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.removeFromBlock=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this._findBlock(t)];case 1:return(e=r.sent())&&e.remove(t)?(this._transaction.requestWrite({key:e.blockId,value:e.serialize()}),[2,!0]):[2,!1]}})})},n.prototype.clearAllBlocks=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return t=Cx(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return e=a.sent(),r=e.filter(function(o){return o.startsWith(t)}),[4,this._store.removeMany(r)];case 2:return a.sent(),[4,this._transaction.clear()];case 3:return a.sent(),Zs.get(this.dbname).clearByCondition(function(o){return o.key.startsWith(t)}),[2]}})})},n}(),Lh={},Bd=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.keyName,o=t.fields,c=t.transaction,h=t.store,f=this;this._origin=[],this._table=[];var m=function(v,y,w){return"".concat($u(v,y),"/index.").concat(w)}(e,r,o.join(">"));return Lh[m]||(this.dbname=e,this.collectionName=r,this.keyName=a,this.fields=o,this.indexerKey=m,this._transaction=c,this._store=h,this._transaction.on(Ru.COMMIT,this.indexerKey,function(){return f.commit()}),this._transaction.on(Ru.ERROR,this.indexerKey,function(){return f.abort()})),Lh[m]}return n.createKey=function(t){return t.join(">")},n.parseKey=function(t){return t.split(">")},n.clearIndexerMap=function(){for(var t in Lh)delete Lh[t]},n.prototype._addItem=function(t){var e=t[this.keyName],r=this.getColumnValues(t),a=Yn(this.indexOf(r),2),o=a[0];return a[1]?!this._table[o].keys.includes(e)&&(this._table[o].keys.push(e),!0):(this._table.splice(o,0,{columnValues:r,keys:[e]}),!0)},n.prototype._removeItem=function(t){var e=t[this.keyName],r=this.getColumnValues(t),a=Yn(this.indexOf(r),2),o=a[0];if(a[1]){var c=this._table[o].keys.indexOf(e);if(c>-1)return this._table[o].keys.splice(c,1),this._table[o].keys.length===0&&this._table.splice(o,1),!0}return!1},Object.defineProperty(n.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),n.prototype.getColumnValues=function(t){var e,r,a,o,c=[];try{for(var h=Sn(this.fields),f=h.next();!f.done;f=h.next()){var m=f.value;if(m[0]==="-"&&(m=m.slice(1)),a=t[m],o=void 0,o=typeof a,a!==null&&o!=="undefined"&&o!=="boolean"&&o!=="number"&&o!=="string")throw Nr.indexTypesNotMatch;c.push(t[m])}}catch(v){e={error:v}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}return c},n.prototype.diff=function(t,e){for(var r in this.fields){var a=this.fields[r][0]==="-"?-1:1,o=ed(t[r],e[r]);if(o!==0)return a*o}return 0},n.prototype.indexOf=function(t){if(this._table.length>0){for(var e=0,r=this._table.length-1;e<=r;){var a=Math.floor((e+r)/2),o=this.diff(t,this._table[a].columnValues);if(o>0)e=a+1;else{if(!(o<0))return[a,!0];r=a-1}}return[e,!1]}return[0,!1]},n.prototype.ensure=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h,f,m,v,y,w,x,C,A,L,S;return P(this,function(k){switch(k.label){case 0:return[4,(t=Zs.get(this.dbname)).find(this._store,this.indexerKey,tl.PERSISTENT)];case 1:return(e=k.sent())?[3,11]:(r=Cx(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:a=k.sent(),k.label=3;case 3:k.trys.push([3,8,9,10]),o=Sn(a),c=o.next(),k.label=4;case 4:return c.done?[3,7]:(h=c.value).startsWith(r)?[4,t.find(this._store,h,tl.NO_CACHE)]:[3,6];case 5:f=k.sent(),m=wg.createFromCacheItem(f);try{for(L=void 0,v=Sn(m.items),y=v.next();!y.done;y=v.next())w=y.value,this._addItem(w)}catch(N){L={error:N}}finally{try{y&&!y.done&&(S=v.return)&&S.call(v)}finally{if(L)throw L.error}}k.label=6;case 6:return c=o.next(),[3,4];case 7:return[3,10];case 8:return x=k.sent(),C={error:x},[3,10];case 9:try{c&&!c.done&&(A=o.return)&&A.call(o)}finally{if(C)throw C.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=e.value,this._table=$a(this._origin),k.label=12;case 12:return Lh[this.indexerKey]=this,[2]}})})},n.prototype.drop=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return Zs.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return t.sent(),delete Lh[this.indexerKey],[2]}})})},n.prototype.addItem=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return this._addItem(t)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.removeItem=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return this._removeItem(t)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(t){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},n.prototype.commit=function(){this._origin=this._table,this._table=$a(this._origin)},n.prototype.abort=function(){this._table=$a(this._origin)},n}(),q3=function(){function n(t){var e=t.dbname,r=t.collectionName,a=t.keyName,o=t.keyHash,c=t.indexes,h=t.store,f=this;this._state=t0.INIT,this._metadata=null,this._indexers=[],this.dbname=e,this.name=r,this.keyName=a,this.indexes=tt([[a]],Yn(c.filter(function(m){return Bd.createKey(m)!==f.keyName})),!1),this._keyHash=o,this._store=h,this._mutex=new Ak(function(m,v){return"".concat($u(m,v),".lock")}(e,r)),this._blobContainer=new Hle({dbname:e,collectionName:r,store:h}),this._transaction=new Ble({dbname:e,collectionName:r,store:h})}return n.metadataOf=function(t,e,r){return F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=G3(t,e),[4,r.get(a)];case 1:return[2,o.sent()]}})})},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isReady",{get:function(){return this._state===t0.READY},enumerable:!1,configurable:!0}),n.prototype.init=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h,f,m,v,y,w,x,C,A=this;return P(this,function(L){switch(L.label){case 0:return[4,this._mutex.lock()];case 1:L.sent(),L.label=2;case 2:return L.trys.push([2,9,,10]),t=Zb.get(this.dbname),[4,n.metadataOf(this.dbname,this.name,this._store)];case 3:return e=L.sent(),this._metadata=e||{keyName:this.keyName,blockLevel:1,blockHashBase:t.blockHashBase,blockHashMultiplier:t.blockHashMultiplier,blockHashConstant:t.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:L.sent(),this._blockManager=new $le({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=tt([],Yn(this.indexes),!1),a=[],o=r.map(function(S){return Bd.createKey(S)}),c=e?e.indexes.map(function(S){return Bd.createKey(S)}):[];try{for(h=Sn(c),f=h.next();!f.done;f=h.next())m=f.value,o.includes(m)||a.push(Bd.parseKey(m))}catch(S){x={error:S}}finally{try{f&&!f.done&&(C=h.return)&&C.call(h)}finally{if(x)throw x.error}}return(v=[]).push.apply(v,tt([],Yn(r.map(function(S){var k=new Bd({dbname:A.dbname,collectionName:A.name,keyName:A.keyName,fields:S,transaction:A._transaction,store:A._store});return A._indexers.push(k),k.ensure()})),!1)),v.push.apply(v,tt([],Yn(a.map(function(S){return new Bd({dbname:A.dbname,collectionName:A.name,keyName:A.keyName,fields:S,transaction:A._transaction,store:A._store}).drop()})),!1)),[4,Promise.all(v)];case 5:return L.sent(),[4,this._transaction.commit()];case 6:return L.sent(),o.sort().join(",")===c.sort().join(",")?[3,8]:(y=G3(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:y,value:this._metadata,generation:1})]);case 7:L.sent(),L.label=8;case 8:return this._state=t0.READY,this._mutex.unlock(),[3,10];case 9:throw w=L.sent(),this._mutex.unlock(),w;case 10:return[2]}})})},n.prototype.close=function(){this._state=t0.CLOSED},n.prototype._hasPropertyOfKeyName=function(t){var e=t[this.keyName];return typeof e=="string"&&!!e},n.prototype._getIndexerBy=function(t){var e,r;t===void 0&&(t=null),t||(t=[this.keyName]);var a=Bd.createKey(t);try{for(var o=Sn(this._indexers),c=o.next();!c.done;c=o.next()){var h=c.value;if(a===Bd.createKey(h.fields))return h}}catch(f){e={error:f}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return null},n.prototype._upgradeBlockLevel=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return t=G3(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:t,value:this._metadata,generation:1})];case 1:return e.sent(),[2]}})})},n.prototype._requestInsert=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return f.sent()?[3,13]:[4,this._blockManager.putToBlock(e,t)];case 2:return f.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return f.sent(),[4,this._blockManager.putToBlock(e,t)];case 4:f.sent(),f.label=5;case 5:f.trys.push([5,10,11,12]),r=Sn(this._indexers),a=r.next(),f.label=6;case 6:return a.done?[3,9]:[4,a.value.addItem(t)];case 7:f.sent(),f.label=8;case 8:return a=r.next(),[3,6];case 9:return[3,12];case 10:return o=f.sent(),c={error:o},[3,12];case 11:try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 12:return[3,14];case 13:throw Nr.collectionInsertDuplicate;case 14:return[2]}})})},n.prototype._requestUpsert=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w,x,C;return P(this,function(A){switch(A.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=A.sent())?[3,13]:[4,this._blockManager.putToBlock(e,t)];case 2:return A.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return A.sent(),[4,this._blockManager.putToBlock(e,t)];case 4:A.sent(),A.label=5;case 5:A.trys.push([5,10,11,12]),a=Sn(this._indexers),o=a.next(),A.label=6;case 6:return o.done?[3,9]:[4,(m=o.value).addItem(t)];case 7:A.sent(),A.label=8;case 8:return o=a.next(),[3,6];case 9:return[3,12];case 10:return c=A.sent(),y={error:c},[3,12];case 11:try{o&&!o.done&&(w=a.return)&&w.call(a)}finally{if(y)throw y.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(e,t)];case 14:A.sent(),A.label=15;case 15:A.trys.push([15,21,22,23]),h=Sn(this._indexers),f=h.next(),A.label=16;case 16:return f.done?[3,20]:(m=f.value).diff(m.getColumnValues(r),m.getColumnValues(t))===0?[3,19]:[4,m.removeItem(r)];case 17:return A.sent(),[4,m.addItem(t)];case 18:A.sent(),A.label=19;case 19:return f=h.next(),[3,16];case 20:return[3,23];case 21:return v=A.sent(),x={error:v},[3,23];case 22:try{f&&!f.done&&(C=h.return)&&C.call(h)}finally{if(x)throw x.error}return[7];case 23:return[2]}})})},n.prototype._requestUpdate=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return e=t[this.keyName],[4,this._blockManager.getFromBlock(e)];case 1:return(r=v.sent())?[4,this._blockManager.putToBlock(e,t)]:[3,11];case 2:v.sent(),v.label=3;case 3:v.trys.push([3,9,10,11]),a=Sn(this._indexers),o=a.next(),v.label=4;case 4:return o.done?[3,8]:(c=o.value).diff(c.getColumnValues(r),c.getColumnValues(t))===0?[3,7]:[4,c.removeItem(r)];case 5:return v.sent(),[4,c.addItem(t)];case 6:v.sent(),v.label=7;case 7:return o=a.next(),[3,4];case 8:return[3,11];case 9:return h=v.sent(),f={error:h},[3,11];case 10:try{o&&!o.done&&(m=a.return)&&m.call(a)}finally{if(f)throw f.error}return[7];case 11:return[2]}})})},n.prototype._requestRemove=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return[4,this._blockManager.getFromBlock(t)];case 1:return(e=f.sent())?[4,this._blockManager.removeFromBlock(t)]:[3,10];case 2:f.sent(),f.label=3;case 3:f.trys.push([3,8,9,10]),r=Sn(this._indexers),a=r.next(),f.label=4;case 4:return a.done?[3,7]:[4,a.value.removeItem(e)];case 5:f.sent(),f.label=6;case 6:return a=r.next(),[3,4];case 7:return[3,10];case 8:return o=f.sent(),c={error:o},[3,10];case 9:try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}return[7];case 10:return[2]}})})},n.prototype._requestClear=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(c){switch(c.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:c.sent(),c.label=2;case 2:c.trys.push([2,7,8,9]),t=Sn(this._indexers),e=t.next(),c.label=3;case 3:return e.done?[3,6]:[4,e.value.clear()];case 4:c.sent(),c.label=5;case 5:return e=t.next(),[3,3];case 6:return[3,9];case 7:return r=c.sent(),a={error:r},[3,9];case 8:try{e&&!e.done&&(o=t.return)&&o.call(t)}finally{if(a)throw a.error}return[7];case 9:return[2]}})})},n.prototype.getByKey=function(t){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(t)];case 3:return e=a.sent(),this._mutex.unlock(),[2,$a(e)];case 4:throw r=a.sent(),this._mutex.unlock(),r;case 5:return[3,7];case 6:throw Nr.collectionNotReady;case 7:return[2]}})})},n.prototype.query=function(t){return t===void 0&&(t={}),this.isReady?new Fle({condition:t.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(t.index),backward:!!t.backward}):null},n.prototype.insertOne=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw Nr.collectionKeyNotGiven;return[4,this._requestInsert($a(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Nr.collectionNotReady;case 9:return[2]}})})},n.prototype.insertMany=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m=this;return P(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),t.some(function(y){return!m._hasPropertyOfKeyName(y)}))throw Nr.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),e=Sn(t),r=e.next(),v.label=4;case 4:return r.done?[3,7]:(a=r.value,[4,this._requestInsert($a(a))]);case 5:v.sent(),v.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),h={error:o},[3,10];case 9:try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,t];case 12:return c=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),c;case 14:return[3,16];case 15:throw Nr.collectionNotReady;case 16:return[2]}})})},n.prototype.upsertOne=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw Nr.collectionKeyNotGiven;return[4,this._requestUpsert($a(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Nr.collectionNotReady;case 9:return[2]}})})},n.prototype.upsertMany=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m=this;return P(this,function(v){switch(v.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:v.sent(),v.label=2;case 2:if(v.trys.push([2,12,,14]),t.some(function(y){return!m._hasPropertyOfKeyName(y)}))throw Nr.collectionKeyNotGiven;v.label=3;case 3:v.trys.push([3,8,9,10]),e=Sn(t),r=e.next(),v.label=4;case 4:return r.done?[3,7]:(a=r.value,[4,this._requestUpsert($a(a))]);case 5:v.sent(),v.label=6;case 6:return r=e.next(),[3,4];case 7:return[3,10];case 8:return o=v.sent(),h={error:o},[3,10];case 9:try{r&&!r.done&&(f=e.return)&&f.call(e)}finally{if(h)throw h.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return v.sent(),this._mutex.unlock(),[2,t];case 12:return c=v.sent(),[4,this._transaction.clear()];case 13:throw v.sent(),this._mutex.unlock(),c;case 14:return[3,16];case 15:throw Nr.collectionNotReady;case 16:return[2]}})})},n.prototype.update=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:if(r.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(t))throw Nr.collectionKeyNotGiven;return[4,this._requestUpdate($a(t))];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[2,t];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Nr.collectionNotReady;case 9:return[2]}})})},n.prototype.updateIf=function(t,e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m,v,y,w,x,C,A,L,S=this;return P(this,function(k){switch(k.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:k.sent(),k.label=2;case 2:return k.trys.push([2,13,,15]),r=t.where,a=r===void 0?{}:r,o=t.index,c=o===void 0?null:o,h=t.backward,f=h!==void 0&&h,m=[],[4,new Sx({condition:a,blockManager:this._blockManager,backward:f,indexer:this._getIndexerBy(c)}).each(function(N){return F(S,void 0,void 0,function(){var O,H;return P(this,function(D){if(N.error)throw N.stop(),N.error;if(N.hasNext){if(O=N.nextValue,Ou(a,O)&&e.set){if(typeof e.set!="function")for(H in e.set)O[H]=e.set[H];else e.set(O);m.push(O)}N.next()}else N.stop();return[2]})})})];case 3:k.sent(),k.label=4;case 4:k.trys.push([4,9,10,11]),v=Sn(m),y=v.next(),k.label=5;case 5:return y.done?[3,8]:(w=y.value,[4,this._requestUpdate($a(w))]);case 6:k.sent(),k.label=7;case 7:return y=v.next(),[3,5];case 8:return[3,11];case 9:return x=k.sent(),A={error:x},[3,11];case 10:try{y&&!y.done&&(L=v.return)&&L.call(v)}finally{if(A)throw A.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return k.sent(),this._mutex.unlock(),[2,m];case 13:return C=k.sent(),[4,this._transaction.clear()];case 14:throw k.sent(),this._mutex.unlock(),C;case 15:return[3,17];case 16:throw this._transaction.clear(),Nr.collectionNotReady;case 17:return[2]}})})},n.prototype.remove=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this._requestRemove(t)];case 3:return r.sent(),[4,this._transaction.commit()];case 4:return r.sent(),this._mutex.unlock(),[3,7];case 5:return e=r.sent(),[4,this._transaction.clear()];case 6:throw r.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Nr.collectionNotReady;case 9:return[2]}})})},n.prototype.removeIf=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w,x,C,A,L=this;return P(this,function(S){switch(S.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:S.sent(),S.label=2;case 2:return S.trys.push([2,13,,14]),e=t.where,r=e===void 0?{}:e,a=t.index,o=a===void 0?null:a,c=t.backward,h=c!==void 0&&c,f=[],[4,new Sx({condition:r,blockManager:this._blockManager,backward:h,indexer:this._getIndexerBy(o)}).each(function(k){return F(L,void 0,void 0,function(){var N,O;return P(this,function(H){if(k.error)throw k.stop(),k.error;return k.hasNext?(N=k.nextValue,Ou(r,N)&&(O=N[this.keyName],f.push(O)),k.next()):k.stop(),[2]})})})];case 3:S.sent(),S.label=4;case 4:S.trys.push([4,9,10,11]),m=Sn(f),v=m.next(),S.label=5;case 5:return v.done?[3,8]:(y=v.value,[4,this._requestRemove(y)]);case 6:S.sent(),S.label=7;case 7:return v=m.next(),[3,5];case 8:return[3,11];case 9:return w=S.sent(),C={error:w},[3,11];case 10:try{v&&!v.done&&(A=m.return)&&A.call(m)}finally{if(C)throw C.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return S.sent(),this._mutex.unlock(),[2,f];case 13:throw x=S.sent(),this._mutex.unlock(),x;case 14:return[3,16];case 15:throw this._transaction.clear(),Nr.collectionNotReady;case 16:return[2]}})})},n.prototype.clear=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return e.sent(),[4,this._transaction.commit()];case 4:return e.sent(),this._mutex.unlock(),[3,7];case 5:return t=e.sent(),[4,this._transaction.clear()];case 6:throw e.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Nr.collectionNotReady;case 9:return[2]}})})},n.prototype.getBlob=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.saveBlob=function(t,e){return e===void 0&&(e=null),F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._blobContainer.save(t,e)];case 1:return[2,r.sent()]}})})},n.prototype.removeBlob=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeAllBlobs=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.clear()];case 1:return t.sent(),[2]}})})},n}(),Jb=function(){function n(t){var e,r,a;this.encryption=(e=t.encryption)!==null&&e!==void 0?e:zL,this.itemSizeLimit=(r=t.itemSizeLimit)!==null&&r!==void 0?r:4194304,this.metadataBuffer=(a=t.metadataBuffer)!==null&&a!==void 0?a:256}return n.prototype._getRawKey=function(t,e){return e===void 0&&(e=""),"".concat(t).concat(e)},n.prototype._generateShardPostfixArray=function(t){return t===void 0&&(t=1),tt([],Yn(Array(t).keys()),!1)},n.prototype._shardify=function(t){var e=this,r=t.key,a=t.value,o=JSON.stringify(this.encryption.encrypt(a)),c=Math.ceil(o.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(c).map(function(h){var f={key:e._getRawKey(r,".".concat(h)),data:o.substring(h*e.adjustedItemSizeLimit,(h+1)*e.adjustedItemSizeLimit)};return h===0&&(f.metadata={shards:c}),f})},Object.defineProperty(n.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),n.prototype.usage=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return t=0,[4,this._getAllRawKeys()];case 1:e=v.sent(),v.label=2;case 2:v.trys.push([2,7,8,9]),r=Sn(e),a=r.next(),v.label=3;case 3:return a.done?[3,6]:(o=a.value,[4,this._getRaw(o)]);case 4:(c=v.sent())&&(t+=JSON.stringify(c).length),v.label=5;case 5:return a=r.next(),[3,3];case 6:return[3,9];case 7:return h=v.sent(),f={error:h},[3,9];case 8:try{a&&!a.done&&(m=r.return)&&m.call(r)}finally{if(f)throw f.error}return[7];case 9:return[2,t]}})})},n.prototype.getAllKeys=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,t.sent().filter(function(e){return e.endsWith(".0")}).map(function(e){return e.replace(/\.0$/,"")})]}})})},n.prototype.get=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f=this;return P(this,function(m){switch(m.label){case 0:return e=this._getRawKey(t,".0"),[4,this._getRaw(e)];case 1:if(!(r=m.sent()))return[3,7];m.label=2;case 2:return m.trys.push([2,6,,7]),a=r.data,((o=r.metadata)==null?void 0:o.shards)>1?[4,Promise.all(this._generateShardPostfixArray(o==null?void 0:o.shards).map(function(v){return F(f,void 0,void 0,function(){var y,w;return P(this,function(x){switch(x.label){case 0:return v>0?(y=this._getRawKey(t,".".concat(v)),[4,this._getRaw(y)]):[3,2];case 1:if(!(w=x.sent()))throw Nr.storeBrokenIntegrity;return[2,w.data];case 2:return[2,a]}})})}))]:[3,4];case 3:return h=m.sent(),[3,5];case 4:h=[a],m.label=5;case 5:return c=h,[2,this.encryption.decrypt(JSON.parse(c.join("")))];case 6:return m.sent(),[2,null];case 7:return[2,null]}})})},n.prototype.set=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return e=this._shardify(t),[4,this._setRaw(e)];case 1:return r.sent(),[2,ye({},t.value)]}})})},n.prototype.setMany=function(t){return F(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,this._setRaw([].concat.apply([],tt([],Yn(t.map(function(a){return e._shardify(a)})),!1)))];case 1:return r.sent(),[2,t.map(function(a){return a.value})]}})})},n.prototype.remove=function(t){return F(this,void 0,void 0,function(){var e,r,a,o=this;return P(this,function(c){switch(c.label){case 0:return e=this._getRawKey(t,".0"),[4,this._getRaw(e)];case 1:return(r=c.sent())?(a=r.metadata,[4,this._removeRaw(this._generateShardPostfixArray(a==null?void 0:a.shards).map(function(h){return o._getRawKey(t,".".concat(h))}))]):[3,3];case 2:return c.sent(),[2,!0];case 3:return[2,!1]}})})},n.prototype.removeMany=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y=this;return P(this,function(w){switch(w.label){case 0:e=[],r=function(x){var C,A,L;return P(this,function(S){switch(S.label){case 0:return C=a._getRawKey(x,".0"),[4,a._getRaw(C)];case 1:return(A=S.sent())&&(L=A.metadata,e.push.apply(e,tt([],Yn(a._generateShardPostfixArray(L==null?void 0:L.shards).map(function(k){return y._getRawKey(x,".".concat(k))})),!1))),[2]}})},a=this,w.label=1;case 1:w.trys.push([1,6,7,8]),o=Sn(t),c=o.next(),w.label=2;case 2:return c.done?[3,5]:(h=c.value,[5,r(h)]);case 3:w.sent(),w.label=4;case 4:return c=o.next(),[3,2];case 5:return[3,8];case 6:return f=w.sent(),m={error:f},[3,8];case 7:try{c&&!c.done&&(v=o.return)&&v.call(o)}finally{if(m)throw m.error}return[7];case 8:return e.length>0?[4,this._removeRaw(e)]:[3,10];case 9:w.sent(),w.label=10;case 10:return[2,t]}})})},n}(),ts={},r0=function(n){function t(e){e===void 0&&(e={});var r,a=this;a=n.call(this,ye(ye({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:4194304}))||this;var o=e.delay,c=o===void 0?1:o;return a.delay=c,a.observer={},a}return ee(t,n),Object.defineProperty(t.prototype,"rawData",{get:function(){return ts[this.dbname]},set:function(e){ts[this.dbname]=e},enumerable:!1,configurable:!0}),t.prototype._getAllRawKeys=function(){return F(this,void 0,void 0,function(){return P(this,function(e){if(ts[this.dbname])return[2,Object.keys(ts[this.dbname])];throw Nr.storeNotAvailable})})},t.prototype._getRaw=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return ts[this.dbname]?[4,qv(this.delay)]:[3,2];case 1:return r.sent(),[2,ts[this.dbname][e]?ye({key:e},ts[this.dbname][e]):null];case 2:throw Nr.storeNotAvailable}})})},t.prototype._setRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return ts[this.dbname]?[4,qv(this.delay)]:[3,2];case 1:y.sent();try{for(r=Sn(e),a=r.next();!a.done;a=r.next())o=a.value,c=o.key,h=o.data,f=o.metadata,ts[this.dbname][c]=Object.freeze({data:h,metadata:f})}catch(w){m={error:w}}finally{try{a&&!a.done&&(v=r.return)&&v.call(r)}finally{if(m)throw m.error}}return[3,3];case 2:throw Nr.storeNotAvailable;case 3:return[2]}})})},t.prototype._removeRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return ts[this.dbname]?[4,qv(this.delay)]:[3,2];case 1:f.sent();try{for(r=Sn(e),a=r.next();!a.done;a=r.next())o=a.value,ts[this.dbname][o]&&delete ts[this.dbname][o]}catch(m){c={error:m}}finally{try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}}return[3,3];case 2:throw Nr.storeNotAvailable;case 3:return[2]}})})},t.prototype.observe=function(e,r,a){var o=this;this.observer[e]||(this.observer[e]={}),r.forEach(function(c){return o.observer[e][c]=a})},t.prototype.isAvailable=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,!0]})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return this.dbname=e,ts[this.dbname]={},[2]})})},t.prototype.set=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){if(this.observer[e.key]&&typeof this.observer[e.key].set=="function"&&(r=this.observer[e.key].set()))throw r;return[2,n.prototype.set.call(this,e)]})})},t.prototype.setMany=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){try{for(r=Sn(e),a=r.next();!a.done;a=r.next())if(o=a.value,this.observer[o.key]&&typeof this.observer[o.key].set=="function"&&(c=this.observer[o.key].set()))throw c}catch(v){h={error:v}}finally{try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}}return[2,n.prototype.setMany.call(this,e)]})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,qv(this.delay)];case 1:return e.sent(),ts[this.dbname]={},[2]}})})},t}(Jb),x8="NestDBStore",zle=function(n){function t(e){e===void 0&&(e={});var r,a=this;return(a=n.call(this,ye(ye({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:104857600}))||this)._storeName=x8,a._window=typeof window<"u"?window:null,a._indexedDb=a._window?a._window.indexedDB||a._window.mozIndexedDB||a._window.webkitIndexedDB||a._window.msIndexedDB:null,a}return ee(t,n),t.prototype._getObjectStore=function(e){return this._database.transaction(this._storeName,e).objectStore(this._storeName)},t.prototype._getAllRawKeys=function(){return F(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,new Promise(function(a,o){var c=e._getObjectStore("readonly").getAllKeys();c.addEventListener("success",function(h){a(h.target.result)}),c.addEventListener("error",function(h){return o(h.target.error)})})];case 1:return[2,r.sent()]}})})},t.prototype._getRaw=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return[4,new Promise(function(o,c){var h=r._getObjectStore("readonly").get(e);h.addEventListener("success",function(f){var m;o((m=f==null?void 0:f.target)===null||m===void 0?void 0:m.result)}),h.addEventListener("error",function(f){return c(f.target.error)})})];case 1:return[2,a.sent()]}})})},t.prototype._setRaw=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=this._getObjectStore("readwrite"),[4,Promise.all(e.map(function(o){return new Promise(function(c,h){var f=r.put(o);f.addEventListener("success",function(m){c(m.target.result)}),f.addEventListener("error",function(){h("Failed to write.")})})}))];case 1:return a.sent(),[2]}})})},t.prototype._removeRaw=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=this._getObjectStore("readwrite"),[4,Promise.all(e.map(function(o){return new Promise(function(c,h){var f=r.delete(o);f.addEventListener("success",function(){return c(o)}),f.addEventListener("error",function(m){return h(m.target.error)})})}))];case 1:return a.sent(),[2]}})})},t.prototype.isAvailable=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c=this;return P(this,function(h){switch(h.label){case 0:if(!(((e=typeof window<"u"?window:null)==null?void 0:e.indexedDB)||(e==null?void 0:e.mozIndexedDB)||(e==null?void 0:e.webkitIndexedDB)||(e==null?void 0:e.msIndexedDB)))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),this._indexedDb=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,r=typeof document<"u"&&typeof navigator<"u",a=navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/"),o=navigator.userAgent&&navigator.userAgent.includes("Edge/"),[4,new Promise(function(f,m){if(r)if(a){var v=c._indexedDb.open("_testMozilla");v.onerror=function(){return m("Private browsing mode.")},v.onsuccess=function(){return f()}}else o?(e.PointerEvent||e.MSPointerEvent)&&m("Private browsing mode."):f()})];case 2:return h.sent(),[2,!0];case 3:return h.sent(),[2,!1];case 4:return[2,!1]}})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){var r,a=this;return P(this,function(o){switch(o.label){case 0:return this.dbname=e,[4,new Promise(function(c,h){if(a._window&&td)if(Nle){var f=a._indexedDb.open("_testMozilla");f.onerror=function(){return h(Nr.storeNotAvailableInPrivateBrowsing)},f.onsuccess=function(){return c()}}else Ale?a._window.indexedDB||!a._window.PointerEvent&&!a._window.MSPointerEvent||h(Nr.storeNotAvailableInPrivateBrowsing):c();else h(Nr.storeNotAvailable)})];case 1:return o.sent(),r=this,[4,new Promise(function(c,h){var f=a._indexedDb.open(e);f.addEventListener("upgradeneeded",function(m){m.target.result.createObjectStore(x8,{keyPath:"key"})}),f.addEventListener("success",function(m){return c(m.target.result)}),f.addEventListener("error",function(m){return h(m.target.error)})})];case 2:return r._database=o.sent(),[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,new Promise(function(a,o){var c=e._getObjectStore("readwrite").clear();c.addEventListener("success",function(){return a()}),c.addEventListener("error",function(h){return o(h.target.error)})})];case 1:return[2,r.sent()]}})})},t}(Jb),Vle=function(n){function t(e){var r=this,a=e.AsyncStorage,o=e.itemSizeLimit,c=o===void 0?6291456:o,h=Jie(e,["AsyncStorage","itemSizeLimit"]);return(r=n.call(this,ye(ye({},h),{itemSizeLimit:c}))||this)._asyncStorage=a,r}return ee(t,n),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return F(this,void 0,void 0,function(){var e,r=this;return P(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return e=a.sent(),[2,e.filter(function(o){return r._isBelonging(o)}).map(function(o){return o.substring("".concat(r.dbname,"/").length)})]}})})},t.prototype._getRaw=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,(r=a.sent())?JSON.parse(r):null]}})})},t.prototype._setRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:r=[];try{for(a=Sn(e),o=a.next();!o.done;o=a.next())c=o.value,h=c.key,c.data.length<=this.adjustedItemSizeLimit&&r.push([this._getActualKey(h),JSON.stringify(c)])}catch(y){f={error:y}}finally{try{o&&!o.done&&(m=a.return)&&m.call(a)}finally{if(f)throw f.error}}return[4,this._asyncStorage.multiSet(r)];case 1:return v.sent(),[2]}})})},t.prototype._removeRaw=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){switch(a.label){case 0:return[4,this._asyncStorage.multiRemove(e.map(function(o){return r._getActualKey(o)}))];case 1:return a.sent(),[2]}})})},t.prototype.isAvailable=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,!!this._asyncStorage]})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return this.dbname=e,[2]})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this.getAllKeys()];case 1:return e=r.sent(),[4,this.removeMany(e)];case 2:return r.sent(),[2]}})})},t}(Jb);(function(n){function t(e){var r,a=this;return(a=n.call(this,ye(ye({},e),{itemSizeLimit:(r=e.itemSizeLimit)!==null&&r!==void 0?r:6291456}))||this)._mmkv=e.MMKV,a}ee(t,n),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return F(this,void 0,void 0,function(){var e,r=this;return P(this,function(a){switch(a.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return e=a.sent(),[2,e.filter(function(o){return r._isBelonging(o)}).map(function(o){return o.substring("".concat(r.dbname,"/").length)})]}})})},t.prototype._getRaw=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return[4,this._mmkv.getString(this._getActualKey(e))];case 1:return[2,(r=a.sent())?JSON.parse(r):null]}})})},t.prototype._setRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){try{for(r=Sn(e),a=r.next();!a.done;a=r.next())o=a.value,c=o.key,o.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(c),JSON.stringify(o))}catch(v){h={error:v}}finally{try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}}return[2]})})},t.prototype._removeRaw=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h;return P(this,function(f){try{for(r=Sn(e),a=r.next();!a.done;a=r.next())o=a.value,this._mmkv.delete(this._getActualKey(o))}catch(m){c={error:m}}finally{try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(c)throw c.error}}return[2]})})},t.prototype.isAvailable=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,!!this._mmkv]})})},t.prototype.init=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return this.dbname=e,[2]})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,this.getAllKeys()];case 1:return e=r.sent(),[4,this.removeMany(e)];case 2:return r.sent(),[2]}})})}})(Jb);var rl,j3="[NESTDB]",Kv=!0,su=function(){function n(){}return n.off=function(){Kv=!1},n.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Kv&&console.log.apply(console,tt(["".concat(j3,"[LOG]")],Yn(t),!1))},n.warning=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Kv&&console.warn.apply(console,tt(["".concat(j3,"[WARNING]")],Yn(t),!1))},n.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Kv&&console.error.apply(console,tt(["".concat(j3,"[ERROR]")],Yn(t),!1))},n}();(function(n){n.INIT="INIT",n.OPENING="OPENING",n.OPENED="OPENED",n.CLOSED="CLOSED"})(rl||(rl={}));var Gle=function(){function n(t){var e=t.name,r=t.version,a=t.store,o=t.config;this.name=e,this._version=r,this._state=rl.INIT,this._config=o||new Zb({dbname:e}),this._store=a,this._event={success:Eg,error:Eg,upgrade:y8},this._collections=new Map,this._globalMutex=new Ak("".concat(this.name,".lock")),this._config.disableLogger&&su.off(),new Zs({dbname:e,limit:this._config.cacheLimit})}return Object.defineProperty(n.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),n.prototype.estimateUsage=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,(e=this._store,F(void 0,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,e.usage()];case 1:return[2,r.sent()]}})}))];case 1:return[2,t.sent()]}var e})})},n.prototype.commitSchema=function(t){return F(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return this._state!==rl.OPENING?[3,2]:[4,Promise.all(t.map(function(a){return F(e,void 0,void 0,function(){var o,c,h,f;return P(this,function(m){switch(m.label){case 0:return o=a.collectionName,c=a.keyName,h=a.index,f=h===void 0?[]:h,this._collections.has(o)||this._collections.set(o,new q3({dbname:this.name,collectionName:o,keyName:c,indexes:f,store:this._store})),[4,this._collections.get(o).init()];case 1:return m.sent(),[2]}})})}))];case 1:return r.sent(),[3,3];case 2:throw Nr.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},n.prototype.open=function(){var t;return F(this,void 0,void 0,function(){var e,r,a,o,c=this;return P(this,function(h){switch(h.label){case 0:return[4,this._globalMutex.lock()];case 1:if(h.sent(),this._state===rl.OPENED)return[3,15];this._state=rl.OPENING,h.label=2;case 2:return h.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return h.sent(),f=this.name,e="".concat(Tx(f),".metadata"),r={version:0,collectionNames:[]},[4,this._store.get(e)];case 4:return a=(t=h.sent())!==null&&t!==void 0?t:r,[2,new Promise(function(m,v){var y=function(x){a.version<c._version?c._event.upgrade(a.version,function(C){return F(c,void 0,void 0,function(){var A;return P(this,function(L){switch(L.label){case 0:if(C)return[3,5];a.version++,a.collectionNames=Array.from(this._collections.keys()),L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this._store.set({key:e,value:a,generation:this._version})];case 2:return L.sent(),x({continued:!0}),[3,4];case 3:return A=L.sent(),x({continued:!1,err:A}),[3,4];case 4:return[3,6];case 5:x({continued:!1,err:C}),L.label=6;case 6:return[2]}})})}):x({continued:!1})},w=function(x){var C=x.continued,A=C!==void 0&&C,L=x.err,S=L===void 0?null:L;if(A)setTimeout(function(){return y(w)},10);else if(S)su.error(S.message),c._globalMutex.unlock(),c._event.error(S),v(S);else{var k=[];a.collectionNames.forEach(function(N){c._collections.has(N)||k.push(F(c,void 0,void 0,function(){var O,H;return P(this,function(D){switch(D.label){case 0:return[4,q3.metadataOf(this.name,N,this._store)];case 1:return(O=D.sent())?(H=new q3({dbname:this.name,collectionName:N,keyName:O.keyName,indexes:O.indexes,store:this._store}),this._collections.set(N,H),[4,H.init()]):[3,3];case 2:D.sent(),D.label=3;case 3:return[2]}})}))}),Promise.all(k).then(function(){c._state=rl.OPENED,c._globalMutex.unlock(),c._event.success(),m()}).catch(function(N){su.error(N.message),c._globalMutex.unlock(),c._event.error(N),v(N)})}};y(w)})];case 5:switch(o=h.sent(),o.code){case xr.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case xr.STORE_NOT_AVAILABLE:return[3,8];case xr.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return su.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new r0({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 7:return h.sent(),[3,14];case 8:return su.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new r0({}),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 9:return h.sent(),[3,14];case 10:return su.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return h.sent(),this._globalMutex.unlock(),this._event.error(o),[4,this.open()];case 12:return h.sent(),[3,14];case 13:throw su.error(o.message),this._globalMutex.unlock(),this._event.error(o),o;case 14:return[3,15];case 15:return[2]}var f})})},n.prototype.close=function(){this._collections.forEach(function(t){return t.close()}),this._state=rl.CLOSED},n.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map(function(e){return e.clear()}))];case 1:return t.sent(),[2]}})})},n.prototype.reset=function(){return F(this,void 0,void 0,function(){var t,e=this;return P(this,function(r){switch(r.label){case 0:return this.close(),(t=Zs.get(this.name))&&t.clearByCondition(function(a){return a.key.startsWith(Tx(e.name))}),[4,this._store.clear()];case 1:return r.sent(),[2]}})})},n.prototype.on=function(t,e){this._event[t]=e},n.prototype.off=function(t){typeof this._event[t]=="function"&&(t==="upgrade"?this._event[t]=y8:this._event[t]=Eg)},n.prototype.collection=function(t){return this._collections.get(t)||null},n}(),qle=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this).isMuted=!1,o.isMuted=(a=r.is_muted)!==null&&a!==void 0&&a,o}return ee(t,n),t}(St),jle={profileImage:null,profileUrl:null,nickname:null},Kle=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ee(t,n),t}(function(){this.onSessionExpired=bt,this.onSessionTokenRequired=function(n){return n(null)},this.onSessionError=bt,this.onSessionRefreshed=bt,this.onSessionClosed=bt}),XU=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ee(t,n),t}(function(){this.onConnected=bt,this.onReconnectStarted=bt,this.onReconnectSucceeded=bt,this.onReconnectFailed=bt,this.onDisconnected=bt}),Wle=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ee(t,n),t}(function(){this.onFriendsDiscovered=bt,this.onTotalUnreadMessageCountUpdated=bt}),Qle=function(n,t){return function(e,r){e===1?n.clear().then(function(){t.clear().then(function(){(function(a){return F(void 0,void 0,void 0,function(){return P(this,function(o){return[2,a.commitSchema([{collectionName:AU,keyName:xoe,index:[bg(ci.LATEST_LAST_MESSAGE),bg(ci.CHRONOLOGICAL),bg(ci.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:OU,keyName:koe,index:[Jl(ji.CHANNEL_LATEST),Jl(ji.NEWEST_CHILD_MESSAGE)]},{collectionName:qU,keyName:Lle,index:[Jl(ji.CHANNEL_LATEST),Jl(ji.NEWEST_CHILD_MESSAGE)]},{collectionName:Soe,keyName:Toe}])]})})})(n).then(function(){return r()}).catch(function(a){return r(a)})}).catch(function(a){return r(a)})}).catch(function(a){return r(a)}):r()}},Yle=function(){return typeof document<"u"?document.visibilityState:"visible"},Xle=function(n){function t(e){var r=e.getVisibilityState,a=r===void 0?Yle:r,o=e.initialState,c=o===void 0?"visible":o,h=e.isEnabled,f=h===void 0||h,m=e.pauseCheckDelay,v=m===void 0?3e4:m,y=n.call(this)||this;return y._pauseCheckDelay=3e4,y._pauseDelayTimer=null,y._currentState="visible",y._getVisibilityState=a,y._pauseCheckDelay=v,y._currentState=c,y._isEnabled=f,y._boundToggleState=y._toggleState.bind(y),y}return ee(t,n),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAvailable",{get:function(){return typeof window<"u"&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),t.prototype._toggleState=function(){var e=this,r=this._getVisibilityState();r!=="hidden"?this._currentState==="hidden"&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=null),this.dispatch("resume")):this._currentState!=="hidden"&&(this._pauseDelayTimer=setTimeout(function(){e._pauseDelayTimer=null,e.dispatch("pause")},this._pauseCheckDelay)),this._currentState=r},t.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},t.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},t}(Qu),Zle=function(){function n(t){var e=t.logger,r=t.connectionDelegate,a=r===void 0?null:r,o=this;this._onlineWorker=function(){var c;return(c=o.connectionDelegate)===null||c===void 0?void 0:c.reconnect()},this._offlineWorker=function(){var c;return(c=o.connectionDelegate)===null||c===void 0?void 0:c.disconnect()},this.unsubscribes=[],this._onlineListener=function(c){if(o.isAvailableOnWeb)return window.addEventListener("online",c),function(){return window.removeEventListener("online",c,!1)}},this._offlineListener=function(c){if(o.isAvailableOnWeb)return window.addEventListener("offline",c),function(){return window.removeEventListener("offline",c,!1)}},this.logger=e,a&&(this.connectionDelegate=a)}return Object.defineProperty(n.prototype,"isAvailableOnWeb",{get:function(){return typeof window<"u"&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&typeof navigator<"u"&&navigator.onLine!==void 0},enumerable:!1,configurable:!0}),n.prototype.setOnlineListener=function(t){Boolean(t)&&typeof t=="function"&&(this._onlineListener=t)},n.prototype.setOfflineListener=function(t){Boolean(t)&&typeof t=="function"&&(this._offlineListener=t)},n.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},n.prototype.stop=function(){var t=this;this.unsubscribes.forEach(function(e){try{e==null||e()}catch(r){t.logger.warn(r.message)}}),this.unsubscribes=[]},n.prototype.isOnline=function(){return F(this,void 0,void 0,function(){return P(this,function(t){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise(function(e){fetch("https://www.google.com",{method:pn.GET,mode:"no-cors"}).then(function(){return e(!0)}).catch(function(){return e(!1)})})]})})},n}(),k8=function(n){function t(e){var r=e.userId,a=e.nickname,o=a===void 0?null:a,c=e.profileUrl,h=c===void 0?null:c,f=e.profileImage,m=f===void 0?null:f,v=e.preferredLanguages,y=v===void 0?null:v,w=n.call(this)||this;return w.method=pn.PUT,w.path="".concat(Ut,"/").concat(encodeURIComponent(r)),w.params=st({nickname:o,profile_url:h,profile_file:m,preferred_languages:y}),w}return ee(t,n),t}(_n),S8=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.user=null,a.user=new St(e,ye({},r)),a}return ee(t,n),t}(gn),Jle=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=pn.POST,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push/apns"),o.params={apns_device_token:a,always_push:!0},o}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.type=r.type?xi[r.type.toLowerCase()]:xi.UNKNOWN,a.user=new St(e,r.user),a}ee(t,n)})(gn);var ede=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=pn.POST,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push/gcm"),o.params={gcm_reg_token:a,always_push:!0},o}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.type=r.type?xi[r.type.toLowerCase()]:xi.UNKNOWN,a.user=new St(e,r.user),a}ee(t,n)})(gn);var nde=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=pn.DELETE,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push/apns/").concat(encodeURIComponent(a)),o}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.user=new St(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}ee(t,n)})(gn);var tde=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=pn.DELETE,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push/gcm/").concat(encodeURIComponent(a)),o}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.token=r.token,a.user=new St(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}ee(t,n)})(gn);var rde=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.DELETE,a.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push/apns"),a}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.type=r.type?xi[r.type.toLowerCase()]:xi.UNKNOWN,a.user=new St(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}ee(t,n)})(gn);var ide=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.DELETE,a.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push/gcm"),a}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.type=r.type?xi[r.type.toLowerCase()]:xi.UNKNOWN,a.user=new St(e,r.user),a.lastDeletedAt=r.device_token_last_deleted_at,a}ee(t,n)})(gn);var ade=function(n){function t(e){var r=e.userId,a=e.type,o=e.token,c=e.ts,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push/").concat(encodeURIComponent(a),"/device_tokens"),h.params={created_ts:c,token:o},h}return ee(t,n),t}(_n),sde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTokens={type:r.type?xi[r.type.toLowerCase()]:xi.UNKNOWN,deviceTokens:r.device_tokens,hasMore:r.has_more,token:r.token},a}return ee(t,n),t}(gn),ode=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),a}return ee(t,n),t}(_n),lde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.autoAccept=r.auto_accept,a}return ee(t,n),t}(gn),dde=function(n){function t(e){var r=e.userId,a=e.willAutoAccept,o=n.call(this)||this;return o.method=pn.PUT,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/channel_invitation_preference"),o.params={auto_accept:a},o}return ee(t,n),t}(_n),cde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.autoAccept=r.auto_accept,a}return ee(t,n),t}(gn),ude=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push_preference"),a}return ee(t,n),t}(_n),hde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},a}return ee(t,n),t}(gn),pde=function(n){function t(e){var r=e.userId,a=e.doNotDisturbOn,o=e.startHour,c=e.startMin,h=e.endHour,f=e.endMin,m=e.timezone,v=n.call(this)||this;return v.method=pn.PUT,v.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push_preference"),v.params={do_not_disturb:a,start_hour:o,start_min:c,end_hour:h,end_min:f,timezone:m},v}return ee(t,n),t}(_n),fde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.preference={doNotDisturbOn:r.do_not_disturb,startHour:r.start_hour,startMin:r.start_min,endHour:r.end_hour,endMin:r.end_min,timezone:r.timezone},a}return ee(t,n),t}(gn),_de=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push_preference"),a}return ee(t,n),t}(_n),mde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=r.snooze_end_ts),a}return ee(t,n),t}(gn),vde=function(n){function t(e){var r=e.userId,a=e.snoozeOn,o=e.startTs,c=e.endTs,h=n.call(this)||this;return h.method=pn.PUT,h.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push_preference"),h.params={snooze_enabled:a,snooze_start_ts:o,snooze_end_ts:c},h}return ee(t,n),t}(_n),gde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.snoozePeriod={isSnoozeOn:r.snooze_enabled},typeof r.snooze_start_ts=="number"&&(a.snoozePeriod.startTs=r.snooze_start_ts),typeof r.snooze_end_ts=="number"&&(a.snoozePeriod.endTs=r.snooze_end_ts),a}return ee(t,n),t}(gn),bde=function(n){function t(e){var r=e.userId,a=e.blockedUserId,o=n.call(this)||this;return o.method=pn.POST,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/block"),o.params={target_id:a},o}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.user=new St(e,r),a}ee(t,n)})(gn);var yde=function(n){function t(e){var r=e.userId,a=e.unblockedUserId,o=n.call(this)||this;return o.method=pn.DELETE,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/block/").concat(encodeURIComponent(a)),o}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Ede=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push_preference"),a}return ee(t,n),t}(_n),wde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a}return ee(t,n),t}(gn),xde=function(n){function t(e){var r=e.userId,a=e.pushTriggerOption,o=n.call(this)||this;return o.method=pn.PUT,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push_preference"),o.params={push_trigger_option:a},o}return ee(t,n),t}(_n),kde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a}return ee(t,n),t}(gn),Sde=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push/template"),a}return ee(t,n),t}(_n),Tde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.name=r.name,a}return ee(t,n),t}(gn),Cde=function(n){function t(e){var r=e.userId,a=e.templateName,o=n.call(this)||this;return o.method=pn.PUT,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push/template"),o.params={name:a},o}return ee(t,n),t}(_n),Ide=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.name=r.name,a}return ee(t,n),t}(gn),Nde=function(n){function t(e){var r=e.userId,a=e.token,o=n.call(this)||this;return o.method=pn.GET,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/friends/changelogs"),o.params={token:a},o}return ee(t,n),t}(_n),Ade=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.changelogs={addedUsers:r.added.map(function(o){return new St(e,o)}),updatedUsers:r.updated.map(function(o){return new St(e,o)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next},a}return ee(t,n),t}(gn),Ode=function(n){function t(e){var r=e.userId,a=e.discoveries,o=n.call(this)||this;return o.method=pn.PUT,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discoveries:a.map(function(c){return{friend_discovery_key:c.friendDiscoveryKey,friend_name:c.friendName}})},o}return ee(t,n),t}(_n),Rde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.friendDiscoveryRequestId=r.friend_discovery_request_id,a}return ee(t,n),t}(gn),Mde=function(n){function t(e){var r=e.userId,a=e.discoveryKeys,o=n.call(this)||this;return o.method=pn.DELETE,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/friend_discoveries"),o.params={friend_discovery_keys:a},o}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Dde=function(n){function t(e){var r=e.userId,a=e.userIds,o=n.call(this)||this;return o.method=pn.POST,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:a},o}return ee(t,n),t}(_n),Lde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(o){return new St(e,o)}),a}return ee(t,n),t}(gn),Ude=function(n){function t(e){var r=e.userId,a=e.userIds,o=n.call(this)||this;return o.method=pn.DELETE,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/friends"),o.params={user_ids:a},o}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Pde=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ut,"/").concat(r,"/allow_friend_discovery"),a.params={},a}return ee(t,n),t}(_n),Fde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.allowFriendDiscovery=r.allow_friend_discovery,a}return ee(t,n),t}(gn),Hde=function(n){function t(e){var r=e.userId,a=e.allowFriendDiscovery,o=n.call(this)||this;return o.method=pn.PUT,o.path="".concat(Ut,"/").concat(r,"/allow_friend_discovery"),o.params={allow_friend_discovery:a},o}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var ZU=function(n){this.key=null,this.url=null,this.key=n.key,this.url=n.url},JU=function(n){var t,e,r;this.id=0,this.name=null,this.url=null,this.emojis=[],this.id=(t=n.id)!==null&&t!==void 0?t:0,this.name=(e=n.name)!==null&&e!==void 0?e:"",this.url=(r=n.url)!==null&&r!==void 0?r:"",this.emojis=n.emojis?n.emojis.map(function(a){return new ZU(a)}):[]},Bde=function(n){this.emojiHash=null,this.emojiCategories=[],this.emojiHash=n.emoji_hash||"",this.emojiCategories=n.emoji_categories?n.emoji_categories.map(function(t){return new JU(t)}):[]},$de=function(n){function t(){var e=n.call(this)||this;return e.method=pn.GET,e.path=cU,e}return ee(t,n),t}(_n),zde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emojiContainer=new Bde(r),a}return ee(t,n),t}(gn),Vde=function(n){function t(e){var r=e.categoryId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(cU,"/").concat(r),a}return ee(t,n),t}(_n),Gde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emojiCategory=new JU(r),a}return ee(t,n),t}(gn),qde=function(n){function t(e){var r=e.key,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(bse,"/").concat(r),a}return ee(t,n),t}(_n),jde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.emoji=new ZU(r),a}return ee(t,n),t}(gn),Kde=function(n){function t(e){var r=e.limit,a=e.token,o=e.userIdsFilter,c=e.metaDataKeyFilter,h=e.metaDataValuesFilter,f=e.nicknameStartsWithFilter,m=n.call(this)||this;return m.method=pn.GET,m.path=Ut,m.params=st({limit:r,token:a,user_ids:o,metadatakey:c,metadatavalues_in:h,nickname_startswith:f}),m}return ee(t,n),t}(_n),Wde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(o){return new St(e,o)}),a.next=r.next,a}return ee(t,n),t}(gn),Qde=function(n){function t(e,r){var a,o,c,h=this;return(h=n.call(this,e,r)||this).userIdsFilter=null,h.metaDataKeyFilter=null,h.metaDataValuesFilter=null,h.nicknameStartsWithFilter=null,h.userIdsFilter=(a=r.userIdsFilter)!==null&&a!==void 0?a:null,h.metaDataKeyFilter=(o=r.metaDataKeyFilter)!==null&&o!==void 0?o:null,h.metaDataValuesFilter=(c=r.metaDataValuesFilter)!==null&&c!==void 0?c:null,h.nicknameStartsWithFilter=r.nicknameStartsWithFilter||null,h}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&yt("string",this.userIdsFilter,!0)&&ge("string",this.metaDataKeyFilter,!0)&&yt("string",this.metaDataValuesFilter,!0)&&ge("string",this.metaDataKeyFilter,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Kde(ye(ye({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(Wde),c=o.users,h=o.next,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(ud),Yde=function(n){function t(e){var r=e.userId,a=e.limit,o=e.token,c=e.userIdsFilter,h=n.call(this)||this;return h.method=pn.GET,h.path="".concat(Ut,"/").concat(r,"/block"),h.params=st({limit:a,token:o,user_ids:c}),h}return ee(t,n),t}(_n),Xde=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.users=r.users.map(function(o){return new St(e,o)}),a.next=r.next,a}return ee(t,n),t}(gn),Zde=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this).userIdsFilter=null,o.userIdsFilter=(a=r.userIdsFilter)!==null&&a!==void 0?a:null,o}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&yt("string",this.userIdsFilter,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Yde(ye(ye({},this),{userId:r.userId,token:this._token})),[4,a.send(o)]):[3,2]:[3,5];case 1:return c=v.sent(),h=c.as(Xde),f=h.users,m=h.next,this._token=m,this._hasNext=!!m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(ud),Jde=function(n){function t(e){var r=e.userId,a=e.limit,o=e.token,c=n.call(this)||this;return c.method=pn.GET,c.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/friends"),c.params={limit:a,token:o},c}return ee(t,n),t}(_n),ece=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.hasMore=r.has_more,a.users=r.users.map(function(o){return new St(e,o)}),a.next=r.next,a}return ee(t,n),t}(gn),nce=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Jde(ye(ye({},this),{userId:r.userId,token:this._token})),[4,a.send(o)]):[3,2]:[3,5];case 1:return c=y.sent(),h=c.as(ece),f=h.users,m=h.hasMore,v=h.next,this._token=v,this._hasNext=m,this._isLoading=!1,[2,f];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(ud),Kp=null,tce=function(){function n(t,e,r){var a=this;this._storeInitialized=!1,this._fcmPushToken=null,this._apnsPushToken=null,this._iid=t,this.options=e;var o=Se.of(t),c=o.sdkState,h=o.cacheContext,f=o.dispatcher,m=o.sessionManager,v=o.requestQueue,y=o.logger,w=o.userEventHandlers,x=o.appStateToggleEnabled;this._onlineDetector=new Zle({logger:y,connectionDelegate:{reconnect:function(){var A=Se.of(t),L=A.sdkState,S=A.connectionManager,k=A.sessionManager;k.auth.hasSession?L.appState==="foreground"&&S.resetAndReconnect():S.connect(k.auth.authToken)},disconnect:function(){Se.of(t).connectionManager.disconnect()}}});var C=new ff(t,{localCacheEnabled:h.localCacheEnabled,dispatcher:f,sdkState:c,logger:y});r.forEach(function(A){A.init(t,{sdkState:c,cacheContext:h,dispatcher:f,sessionManager:m,requestQueue:v,logger:y,onlineDetector:a._onlineDetector}),a[A.name]=A}),this._appStateChangeDetector=new Xle({isEnabled:x}),this._appStateChangeDetector.on("resume",function(){y.debug("the page resumes from freeze"),a.setForegroundState()}).on("pause",function(){y.debug("the page freezes"),a.setBackgroundState()}),f.on(function(A){if(A instanceof ps)A.stateType===Gt.CONNECTED&&C.processNonAutoResendRegisteredPendingMessages();else if(A instanceof lr){if(A.code==="USEV"){var L=A.as(YU).event;if(L.category===g_.FRIEND_DISCOVERED){var S=pb.getDataAsFriendDiscoveredEvent(t,L).friendDiscoveries;$n(function(){return F(a,void 0,void 0,function(){return P(this,function(D){return[2,w.forEach(function(T){T.onFriendsDiscovered(S)})]})})})}}}else if(A instanceof dU){var k=Se.of(a._iid).subscribedUnreadMessageCount,N=!1,O=A.ts;if(typeof O=="number"&&O>k.ts){if(k.all!==A.all&&(N=!0),k.all=A.all>=0?A.all:0,A.customTypes)for(var H in A.customTypes)k.customTypes[H]!==A.customTypes[H]&&(N=!0),k.customTypes[H]=A.customTypes[H];N=N&&k.ts>0,k.ts=O}N&&$n(function(){return F(a,void 0,void 0,function(){return P(this,function(D){return[2,w.forEach(function(T){T.onTotalUnreadMessageCountUpdated(k.all,k.customTypes)})]})})})}else A instanceof fU&&h.preference.set(a._getUserProfileCacheKey(c.userId),vx.payloadify(A.userProfile))})}return n.init=function(t){var e=t.appId,r=t.appVersion,a=r===void 0?null:r,o=t.modules,c=o===void 0?[]:o,h=t.options,f=h===void 0?new $L:h,m=t.debugMode,v=m!==void 0&&m,y=t.customApiHost,w=t.customWebSocketHost,x=t.newInstance,C=x!==void 0&&x,A=t.logLevel,L=t.localCacheEnabled,S=L!==void 0&&L,k=t.localCacheConfig,N=k===void 0?new VL:k,O=t.localCacheEncryption,H=t.useAsyncStorageStore,D=H===void 0?null:H,T=t.appStateToggleEnabled,M=T===void 0||T;if(!Kp||C){var q="su-".concat(Cc()),z=O!=null?O:{encrypt:function(W){return W},decrypt:function(W){return W}},te=new r0({encryption:z});v||(te=GL()?D?new Vle({AsyncStorage:D,encryption:z}):new r0({encryption:z}):new zle({encryption:z})),new Se(q,{appId:e,appVersion:a,options:f,apiHost:y!=null?y:"https://api-".concat(e,".sendbird.com"),websocketHost:w!=null?w:"wss://ws-".concat(e,".sendbird.com"),store:te,encryption:z,logLevel:A,localCacheEnabled:S,localCacheConfig:N,debugMode:v,appStateToggleEnabled:M});var he=[new ioe,new woe],B=new n(q,f,tt(tt([],Yn(c),!1),Yn(he),!1));return Kp||(Kp=B),B}return Kp},Object.defineProperty(n,"instance",{get:function(){return Kp},enumerable:!1,configurable:!0}),Object.defineProperty(n,"version",{get:function(){return HL},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appId",{get:function(){return Se.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appInfo",{get:function(){return Se.of(this._iid).appInfo},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"appVersion",{get:function(){var t;return(t=Se.of(this._iid).sdkState.appVersion)!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"debugMode",{get:function(){return Se.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"logLevel",{get:function(){return Se.of(this._iid).logger.level},set:function(t){Se.of(this._iid).logger.level=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isCacheEnabled",{get:function(){return Se.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"localCacheConfig",{get:function(){var t=Se.of(this._iid).cacheContext;return t.localCacheEnabled?t.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ekey",{get:function(){return Se.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentUser",{get:function(){var t;return(t=Se.of(this._iid).sessionManager.currentUser)!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"connectionState",{get:function(){var t=Se.of(this._iid).connectionManager;return t.isConnected?sl.OPEN:t.isConnecting?sl.CONNECTING:sl.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastConnectedAt",{get:function(){var t=Se.of(this._iid),e=t.connectedAt;return t.connectionManager.isConnected?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fcmPushToken",{get:function(){return this._fcmPushToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"apnsPushToken",{get:function(){return this._apnsPushToken},enumerable:!1,configurable:!0}),n.prototype._getCurrentPreferenceVersion=function(){return 1},n.prototype._getPreferenceCacheKey=function(t){return"sendbird@".concat(this.appId,"/").concat(t,".pref")},n.prototype._getUserProfileCacheKey=function(t){return"sendbird@".concat(this.appId,"/").concat(t,".profile")},n.prototype.getMemoryStoreForDebugging=function(){var t=Se.of(this._iid),e=t.debugMode,r=t.cacheContext;if(e)return r.store instanceof r0?r.store:null;throw Le.debugModeRequired},n.prototype.addExtension=function(t,e){var r=Se.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(t)>-1&&(r.extensions[t]=e)},n.prototype.setOnlineListener=function(t){this._onlineDetector.setOnlineListener(t)},n.prototype.setOfflineListener=function(t){this._onlineDetector.setOfflineListener(t)},n.prototype._safeInitializeStore=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:e=Se.of(this._iid).cacheContext,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,e.store.init(t)];case 2:return r.sent(),this._storeInitialized=!0,[3,5];case 3:return r.sent(),e.store=new r0,[4,this._safeInitializeStore(t)];case 4:return r.sent(),[3,5];case 5:return[2]}})})},n.prototype.initializeCache=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.cacheContext,o=e.connectionManager,c=e.dispatcher,h=e.logger,r.userId&&r.userId===t?[3,10]:[4,o.logout()];case 1:if(y.sent(),f="sendbird@".concat(r.appId,"/").concat(t,".db"),!a.localCacheEnabled)return[3,8];y.label=2;case 2:return y.trys.push([2,5,,7]),a.nestdb&&a.nestdb.state!==rl.CLOSED&&a.nestdb.name===f?[3,4]:((m=a.nestdb=new Gle({name:"sendbird@".concat(r.appId,"/").concat(t,".db"),version:2,store:a.store})).on("upgrade",Qle(m,a.store)),[4,m.open()]);case 3:y.sent(),this._storeInitialized=!0,c.dispatch(new WU(this._iid,{userId:t})),y.label=4;case 4:return r.userId=t,[3,7];case 5:return v=y.sent(),h.warn("Nest DB Open Failed. ",v),[4,this._safeInitializeStore(f)];case 6:throw y.sent(),r.userId=t,Le.databaseError;case 7:return[3,10];case 8:return[4,this._safeInitializeStore(f)];case 9:y.sent(),r.userId=t,y.label=10;case 10:return[2]}})})},n.prototype.getCacheDataSize=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return(t=Se.of(this._iid).cacheContext).localCacheEnabled&&t.nestdb?[4,t.nestdb.estimateUsage()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,0]}})})},n.prototype.clearCachedData=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return(t=Se.of(this._iid).cacheContext).localCacheEnabled&&t.nestdb?[4,t.nestdb.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._storeInitialized?[4,t.preference.clear()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}})})},n.prototype.clearCachedMessages=function(t){return F(this,void 0,void 0,function(){var e,r,a=this;return P(this,function(o){switch(o.label){case 0:return vn(yt("string",t)).throw(Le.invalidParameters),e=jU.of(this._iid),r=Ok.of(this._iid),e&&r?[4,Promise.all(t.map(function(c){return F(a,void 0,void 0,function(){return P(this,function(h){switch(h.label){case 0:return[4,e.removeMessagesOfChannel(c)];case 1:return h.sent(),[4,r.removeMessagesOfChannel(c)];case 2:return h.sent(),[2]}})})}))]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.connect=function(t,e){return e===void 0&&(e=null),F(this,void 0,void 0,function(){var r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:vn(ge("string",t)&&ge("string",e,!0)).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.sdkState,o=r.cacheContext,c=r.connectionManager,h=r.statLogCollector,this._onlineDetector.start(),this._appStateChangeDetector.start(),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.initializeCache(t)];case 2:return v.sent(),Se.of(this._iid).dispatcher.dispatch(new QU),[3,4];case 3:return v.sent(),f=Se.of(this._iid).logger,o.localCacheEnabled=!1,f.warn("Cache initialization failed - cache is not available."),[3,4];case 4:return[4,o.preference.init(this._getPreferenceCacheKey(t),this._getCurrentPreferenceVersion())];case 5:return v.sent(),[4,o.preference.get(this._getUserProfileCacheKey(t))];case 6:return(m=v.sent())&&new vx(this._iid,m).apply(),[4,h.init("sendbird@".concat(a.appId,"/").concat(t,".statlog"))];case 7:return v.sent(),[4,c.connect(e)];case 8:return v.sent(),[2,this.currentUser]}})})},n.prototype.reconnect=function(){var t=Se.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.sessionManager.auth.hasSession;return a&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),e.resetAndReconnect().then(function(){r.appState="foreground"}).catch(function(){})),a},n.prototype.disconnect=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return t=Se.of(this._iid),e=t.connectionManager,r=t.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),r.cancelAll(),[4,e.logout()];case 1:return a.sent(),[4,this.clearCachedData()];case 2:return a.sent(),[2]}})})},n.prototype.disconnectWebSocket=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return t=Se.of(this._iid),e=t.connectionManager,r=t.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),r.cancelAll(),[4,e.disconnectWebSocket()];case 1:return a.sent(),[2]}})})},n.prototype.setBackgroundState=function(){var t=Se.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.logger;r.appState==="foreground"&&(r.appState="background",a.debug("going background state"),e.background())},n.prototype.setForegroundState=function(){var t=Se.of(this._iid),e=t.connectionManager,r=t.sdkState,a=t.logger;r.appState==="background"&&(r.appState="foreground",a.debug("going foreground state"),e.resetAndReconnect())},n.prototype.setSessionHandler=function(t){vn(t instanceof Kle).throw(Le.invalidParameters),Se.of(this._iid).sessionManager.handler=t},n.prototype.addUserEventHandler=function(t,e){vn(ge("string",t)&&e instanceof Wle).throw(Le.invalidParameters),Se.of(this._iid).userEventHandlers.set(t,e)},n.prototype.removeUserEventHandler=function(t){Se.of(this._iid).userEventHandlers.delete(t)},n.prototype.removeAllUserEventHandler=function(){Se.of(this._iid).userEventHandlers.clear()},n.prototype.addConnectionHandler=function(t,e){vn(ge("string",t)&&e instanceof XU).throw(Le.invalidParameters),Se.of(this._iid).connectionHandlers.set(t,e)},n.prototype.removeConnectionHandler=function(t){Se.of(this._iid).connectionHandlers.delete(t)},n.prototype.removeAllConnectionHandler=function(){Se.of(this._iid).connectionHandlers.clear()},n.prototype.createApplicationUserListQuery=function(t){return t===void 0&&(t={}),new Qde(this._iid,t)},n.prototype.createBlockedUserListQuery=function(t){return t===void 0&&(t={}),new Zde(this._iid,t)},n.prototype.createFriendListQuery=function(t){return t===void 0&&(t={}),new nce(this._iid,t)},n.prototype.createMessageSearchQuery=function(t){return new noe(this._iid,t)},n.prototype.createPollListQuery=function(t){return new CU(this._iid,ye({},t))},n.prototype.createPollVoterListQuery=function(t){return new IU(this._iid,ye({},t))},n.prototype.buildUserFromSerializedData=function(t){var e=mc(t);return new St(this._iid,St.payloadify(e))},n.prototype.updateCurrentUserInfo=function(t){return t===void 0&&(t={}),F(this,void 0,void 0,function(){var e,r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return e=ye(ye({},jle),t),vn(function(v){return Ai(v.profileImage,!0)&&ge("string",v.profileUrl,!0)&&ge("string",v.nickname,!0)}(e)).throw(Le.invalidParameters),this.currentUser?(r=Se.of(this._iid),a=r.sdkState,o=r.requestQueue,c=new k8(ye({userId:a.userId},e)),[4,o.send(c)]):[3,2];case 1:return h=m.sent(),f=h.as(S8).user,this.currentUser&&(e.nickname&&(this.currentUser.nickname=f.nickname),(e.profileUrl||e.profileImage)&&(this.currentUser.plainProfileUrl=f.profileUrl)),[2,f];case 2:throw Le.connectionRequired}})})},n.prototype.updateCurrentUserInfoWithPreferredLanguages=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return vn(yt("string",t)).throw(Le.invalidParameters),this.currentUser?(e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new k8({userId:r.userId,preferredLanguages:t}),[4,a.send(o)]):[3,2];case 1:return c=f.sent(),h=c.as(S8).user,this.currentUser&&(this.currentUser.preferredLanguages=h.preferredLanguages),[2,h];case 2:throw Le.connectionRequired}})})},n.prototype.registerFCMPushTokenForCurrentUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h=this;return P(this,function(f){switch(f.label){case 0:if(vn(ge("string",t)).throw(Le.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=Se.of(this._iid),r=e.sessionManager,a=e.sdkState,o=e.requestQueue,r.hasDeviceToken(xi.FCM,t)?[2,Na.SUCCESS]:(c=new ede({userId:a.userId,token:t}),[4,o.send(c)]);case 2:return f.sent(),[4,di(function(){return F(h,void 0,void 0,function(){return P(this,function(m){switch(m.label){case 0:return r.setDeviceToken(xi.FCM,t),[4,r.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 3:return f.sent(),this._fcmPushToken="",[2,Na.SUCCESS];case 4:return f.sent(),[2,Na.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=t,[2,Na.PENDING];case 7:return[2]}})})},n.prototype.unregisterFCMPushTokenForCurrentUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f=this;return P(this,function(m){switch(m.label){case 0:if(vn(ge("string",t)).throw(Le.invalidParameters),!this.currentUser)return[3,6];m.label=1;case 1:return m.trys.push([1,4,,5]),e=Se.of(this._iid),r=e.sessionManager,a=e.sdkState,o=e.requestQueue,c=new tde({userId:a.userId,token:t}),[4,o.send(c)];case 2:return h=m.sent().lastDeletedAt,[4,di(function(){return F(f,void 0,void 0,function(){return P(this,function(v){switch(v.label){case 0:return r.unsetDeviceToken(xi.FCM,t),r.setDeviceTokenDeletedAt(h),[4,r.saveDeviceToken()];case 1:return v.sent(),[2]}})})})];case 3:return m.sent(),this._fcmPushToken="",[2,Na.SUCCESS];case 4:return m.sent(),[2,Na.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=t,[2,Na.PENDING];case 7:return[2]}})})},n.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h=this;return P(this,function(f){switch(f.label){case 0:return this.currentUser?(t=Se.of(this._iid),e=t.sessionManager,r=t.sdkState,a=t.requestQueue,o=new ide({userId:r.userId}),[4,a.send(o)]):[3,3];case 1:return c=f.sent().lastDeletedAt,[4,di(function(){return F(h,void 0,void 0,function(){return P(this,function(m){switch(m.label){case 0:return e.unsetDeviceTokens(xi.FCM),e.setDeviceTokenDeletedAt(c),[4,e.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 2:f.sent(),f.label=3;case 3:return[2]}})})},n.prototype.registerAPNSPushTokenForCurrentUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h=this;return P(this,function(f){switch(f.label){case 0:if(vn(ge("string",t)).throw(Le.invalidParameters),!this.currentUser)return[3,6];f.label=1;case 1:return f.trys.push([1,4,,5]),e=Se.of(this._iid),r=e.sessionManager,a=e.sdkState,o=e.requestQueue,r.hasDeviceToken(xi.APNS,t)?[2,Na.SUCCESS]:(c=new Jle({userId:a.userId,token:t}),[4,o.send(c)]);case 2:return f.sent(),[4,di(function(){return F(h,void 0,void 0,function(){return P(this,function(m){switch(m.label){case 0:return r.setDeviceToken(xi.APNS,t),[4,r.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 3:return f.sent(),this._apnsPushToken="",[2,Na.SUCCESS];case 4:return f.sent(),[2,Na.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=t,[2,Na.PENDING];case 7:return[2]}})})},n.prototype.unregisterAPNSPushTokenForCurrentUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f=this;return P(this,function(m){switch(m.label){case 0:if(vn(ge("string",t)).throw(Le.invalidParameters),!this.currentUser)return[3,6];m.label=1;case 1:return m.trys.push([1,4,,5]),e=Se.of(this._iid),r=e.sessionManager,a=e.sdkState,o=e.requestQueue,c=new nde({userId:a.userId,token:t}),[4,o.send(c)];case 2:return h=m.sent().lastDeletedAt,[4,di(function(){return F(f,void 0,void 0,function(){return P(this,function(v){switch(v.label){case 0:return r.unsetDeviceToken(xi.APNS,t),r.setDeviceTokenDeletedAt(h),[4,r.saveDeviceToken()];case 1:return v.sent(),[2]}})})})];case 3:return m.sent(),this._apnsPushToken="",[2,Na.SUCCESS];case 4:return m.sent(),[2,Na.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=t,[2,Na.PENDING];case 7:return[2]}})})},n.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h=this;return P(this,function(f){switch(f.label){case 0:return this.currentUser?(t=Se.of(this._iid),e=t.sessionManager,r=t.sdkState,a=t.requestQueue,o=new rde({userId:r.userId}),[4,a.send(o)]):[3,3];case 1:return c=f.sent().lastDeletedAt,[4,di(function(){return F(h,void 0,void 0,function(){return P(this,function(m){switch(m.label){case 0:return e.unsetDeviceTokens(xi.APNS),e.setDeviceTokenDeletedAt(c),[4,e.saveDeviceToken()];case 1:return m.sent(),[2]}})})})];case 2:f.sent(),f.label=3;case 3:return[2]}})})},n.prototype.getChannelInvitationPreference=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(c){switch(c.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new ode({userId:e.userId}),[4,r.send(a)];case 1:return o=c.sent(),[2,{autoAccept:o.as(lde).autoAccept}]}})})},n.prototype.setChannelInvitationPreference=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c;return P(this,function(h){switch(h.label){case 0:return vn(ge("boolean",t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new dde({userId:r.userId,willAutoAccept:t}),[4,a.send(o)];case 1:return c=h.sent(),[2,{autoAccept:c.as(cde).autoAccept}]}})})},n.prototype.getDoNotDisturb=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(c){switch(c.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new ude({userId:e.userId}),[4,r.send(a)];case 1:return o=c.sent(),[2,o.as(hde).preference]}})})},n.prototype.setDoNotDisturb=function(t,e,r,a,o,c){return e===void 0&&(e=0),r===void 0&&(r=0),a===void 0&&(a=0),o===void 0&&(o=0),c===void 0&&(c=""),F(this,void 0,void 0,function(){var h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return vn(ge("boolean",t)&&ge("number",e)&&ge("number",r)&&ge("number",a)&&ge("number",o)&&ge("string",c)).throw(Le.invalidParameters),h=Se.of(this._iid),f=h.sdkState,m=h.requestQueue,v=new pde({userId:f.userId,doNotDisturbOn:t,startHour:e,startMin:r,endHour:a,endMin:o,timezone:c}),[4,m.send(v)];case 1:return y=w.sent(),[2,y.as(fde).preference]}})})},n.prototype.getSnoozePeriod=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(c){switch(c.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new _de({userId:e.userId}),[4,r.send(a)];case 1:return o=c.sent(),[2,o.as(mde).snoozePeriod]}})})},n.prototype.setSnoozePeriod=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=0),F(this,void 0,void 0,function(){var a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return vn(ge("boolean",t)&&ge("number",e)&&ge("number",r)).throw(Le.invalidParameters),a=Se.of(this._iid),o=a.sdkState,c=a.requestQueue,h=new vde({userId:o.userId,snoozeOn:t,startTs:e,endTs:r}),[4,c.send(h)];case 1:return f=m.sent(),[2,f.as(gde).snoozePeriod]}})})},n.prototype.getMyPushTokensByToken=function(t,e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m,v,y,w,x,C;return P(this,function(A){switch(A.label){case 0:return vn(ge("string",t)&&mt(xi,e)).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.sdkState,o=r.requestQueue,c=r.sessionManager,h=new ade({userId:a.userId,type:e,token:t}),[4,o.send(h)];case 1:f=A.sent(),m=f.as(sde).pushTokens;try{for(v=Sn(m.deviceTokens),y=v.next();!y.done;y=v.next())w=y.value,c.setDeviceToken(m.type,w)}catch(L){x={error:L}}finally{try{y&&!y.done&&(C=v.return)&&C.call(v)}finally{if(x)throw x.error}}return[4,c.saveDeviceToken()];case 2:return A.sent(),[2,m]}})})},n.prototype.getPushTriggerOption=function(){return F(this,void 0,void 0,function(){var t,e,r,a;return P(this,function(o){switch(o.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Ede({userId:e.userId}),[4,r.send(a)];case 1:return[2,o.sent().as(wde).pushTriggerOption]}})})},n.prototype.setPushTriggerOption=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return vn(mt(wu,t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new xde({userId:r.userId,pushTriggerOption:t}),[4,a.send(o)];case 1:return[2,c.sent().as(kde).pushTriggerOption]}})})},n.prototype.getPushTemplate=function(){return F(this,void 0,void 0,function(){var t,e,r,a;return P(this,function(o){switch(o.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Sde({userId:e.userId}),[4,r.send(a)];case 1:return[2,o.sent().as(Tde).name]}})})},n.prototype.setPushTemplate=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return vn(mt(hx,t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Cde({userId:r.userId,templateName:t}),[4,a.send(o)];case 1:return[2,c.sent().as(Ide).name]}})})},n.prototype.blockUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return vn(t instanceof St||ge("string",t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new bde({userId:r.userId,blockedUserId:t instanceof St?t.userId:t}),[4,a.send(o)];case 1:return c.sent(),[2]}})})},n.prototype.blockUserWithUserId=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,this.blockUser(t)]})})},n.prototype.unblockUser=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return vn(t instanceof St||ge("string",t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new yde({userId:r.userId,unblockedUserId:t instanceof St?t.userId:t}),[4,a.send(o)];case 1:return c.sent(),[2]}})})},n.prototype.unblockUserWithUserId=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,this.unblockUser(t)]})})},n.prototype.getFriendChangeLogsByToken=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c;return P(this,function(h){switch(h.label){case 0:return vn(ge("string",t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Nde({userId:r.userId,token:t}),[4,a.send(o)];case 1:return c=h.sent(),[2,c.as(Ade).changelogs]}})})},n.prototype.getAllowFriendDiscovery=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(c){switch(c.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Pde({userId:e.userId}),[4,r.send(a)];case 1:return o=c.sent(),[2,o.as(Fde).allowFriendDiscovery]}})})},n.prototype.setAllowFriendDiscovery=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return vn(ge("boolean",t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Hde({userId:r.userId,allowFriendDiscovery:t}),[4,a.send(o)];case 1:return c.sent(),[2,t]}})})},n.prototype.uploadFriendDiscoveries=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c;return P(this,function(h){switch(h.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Ode({userId:r.userId,discoveries:t}),[4,a.send(o)];case 1:return c=h.sent(),[2,c.as(Rde).friendDiscoveryRequestId]}})})},n.prototype.deleteFriendDiscovery=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,this.deleteFriendDiscoveries([t])]})})},n.prototype.deleteFriendDiscoveries=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return vn(yt("string",t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Mde({userId:r.userId,discoveryKeys:t}),[4,a.send(o)];case 1:return c.sent(),[2]}})})},n.prototype.addFriends=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c;return P(this,function(h){switch(h.label){case 0:return vn(yt("string",t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Dde({userId:r.userId,userIds:t}),[4,a.send(o)];case 1:return c=h.sent(),[2,c.as(Lde).users]}})})},n.prototype.deleteFriend=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){return[2,this.deleteFriends([t])]})})},n.prototype.deleteFriends=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return vn(yt("string",t)).throw(Le.invalidParameters),e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Ude({userId:r.userId,userIds:t}),[4,a.send(o)];case 1:return c.sent(),[2]}})})},n.prototype.getAllEmoji=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return t=Se.of(this._iid).requestQueue,e=new $de,[4,t.send(e)];case 1:return r=a.sent(),[2,r.as(zde).emojiContainer]}})})},n.prototype.getEmojiCategory=function(t){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return e=Se.of(this._iid).requestQueue,r=new Vde({categoryId:t}),[4,e.send(r)];case 1:return a=o.sent(),[2,a.as(Gde).emojiCategory]}})})},n.prototype.getEmoji=function(t){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return e=Se.of(this._iid).requestQueue,r=new qde({key:t}),[4,e.send(r)];case 1:return a=o.sent(),[2,a.as(jde).emoji]}})})},n}();const N_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const t=Math.random()*16|0;return(n==="x"?t:t&3|8).toString(16)});var Wt;(function(n){n[n.NONE=0]="NONE",n[n.CHANNEL_ENTER=10102]="CHANNEL_ENTER",n[n.CHANNEL_EXIT=10103]="CHANNEL_EXIT",n[n.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",n[n.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",n[n.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",n[n.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",n[n.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",n[n.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",n[n.TYPING_START=10900]="TYPING_START",n[n.TYPING_END=10901]="TYPING_END",n[n.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",n[n.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",n[n.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",n[n.CHANNEL_INVITE=10020]="CHANNEL_INVITE",n[n.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",n[n.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",n[n.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",n[n.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",n[n.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",n[n.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",n[n.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",n[n.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",n[n.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"})(Wt||(Wt={}));var rce=function(){function n(t){this.channelUrl=t.channel_url,this.channelType=t.channel_type,this.category=t.cat,this.data=t.data,this.ts=t.ts}return Object.defineProperty(n.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===Jt.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===Jt.OPEN},enumerable:!1,configurable:!0}),n}(),pd=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.event=new rce(a),o}return ee(t,n),t}(lr),e9=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,c=a.data.operators,h=c===void 0?[]:c;return o.operators=h.map(function(f){return new St(o._iid,f)}),o}return ee(t,n),t}(pd),n9=function(n){function t(e,r,a){var o=n.call(this,e,"MCNT",a)||this;return o.groupChannelMemberCounts=a.group_channels.map(function(c){return{channelUrl:c.channel_url,memberCount:c.member_count,joinedMemberCount:c.joined_member_count,updatedAt:c.ts}}),o.openChannelMemberCounts=a.open_channels.map(function(c){return{channelUrl:c.channel_url,participantCount:c.participant_count,updatedAt:c.ts}}),o}return ee(t,n),t}(lr),t9=function(n){function t(e,r,a){var o,c,h,f=this;(f=n.call(this,e,"ADMM",a)||this).message=new k0(e,a);var m=Se.of(e).sdkState;return f.isMentioned=x0(f.message.mentionType,(o=f.message.mentionedUserIds)!==null&&o!==void 0?o:(c=f.message.mentionedUsers)===null||c===void 0?void 0:c.map(function(v){return v.userId}),m.userId),f.forceUpdateLastMessage=(h=a.force_update_last_message)!==null&&h!==void 0&&h,f}return ee(t,n),t}(lr),r9=function(n){function t(e,r,a){var o,c,h,f,m,v,y=this;(y=n.call(this,e,"AEDI",a)||this).message=new k0(e,a);var w=Se.of(e).sdkState;return y.mentionCountChange=gk({mentionType:(c=(o=a.old_values)===null||o===void 0?void 0:o.mention_type)!==null&&c!==void 0?c:null,mentionedUserIds:(f=(h=a.old_values)===null||h===void 0?void 0:h.mentioned_user_ids)!==null&&f!==void 0?f:[]},{mentionType:y.message.mentionType,mentionedUserIds:(m=y.message.mentionedUserIds)!==null&&m!==void 0?m:(v=y.message.mentionedUsers)===null||v===void 0?void 0:v.map(function(x){return x.userId})},w.userId),y}return ee(t,n),t}(lr),i9=function(n){function t(e,r,a){var o=n.call(this,e,"MRCT",a)||this;return o.channelUrl=a.channel_url,o.channelType=a.channel_type,o.event=new Ek(a),o}return ee(t,n),t}(lr),a9=function(n){function t(e,r,a){var o=n.call(this,e,"MTHD",a)||this;return o.event=new Xse(e,a),o}return ee(t,n),t}(lr),s9=function(n){function t(e,r,a){var o=n.call(this,e,"PEDI",a)||this;return o.event=null,o.status=null,o.channelUrl=null,o.channelType=null,o.event=new moe(e,a),o.status=gx(a.poll.status)||a.poll.status,o.channelUrl=a.channel_url,o.channelType=a.channel_type,o}return ee(t,n),t}(lr),o9=function(){this.onUserMuted=bt,this.onUserUnmuted=bt,this.onUserBanned=bt,this.onUserUnbanned=bt,this.onChannelChanged=bt,this.onChannelDeleted=bt,this.onChannelFrozen=bt,this.onChannelUnfrozen=bt,this.onOperatorUpdated=bt,this.onChannelMemberCountChanged=bt,this.onMetaDataCreated=bt,this.onMetaDataUpdated=bt,this.onMetaDataDeleted=bt,this.onMetaCounterCreated=bt,this.onMetaCounterUpdated=bt,this.onMetaCounterDeleted=bt,this.onMessageReceived=bt,this.onMessageUpdated=bt,this.onMessageDeleted=bt,this.onMentionReceived=bt,this.onReactionUpdated=bt,this.onThreadInfoUpdated=bt},ice=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._channels=new Map,e._enteredChannelUrls=[],e}return ee(t,n),Object.defineProperty(t.prototype,"enteredChannels",{get:function(){var e=this;return this._enteredChannelUrls.map(function(r){return e._channels.get(r)}).filter(function(r){return r!==null})},enumerable:!1,configurable:!0}),t.prototype.isEnteredChannel=function(e){return this._enteredChannelUrls.includes(e)},t.prototype.enter=function(e){this._enteredChannelUrls.indexOf(e)<0&&this._enteredChannelUrls.push(e)},t.prototype.exit=function(e){var r=this._enteredChannelUrls.indexOf(e);r>=0&&this._enteredChannelUrls.splice(r,1)},t.prototype.exitAll=function(){this._enteredChannelUrls=[]},t.prototype.get=function(e){var r;return F(this,void 0,void 0,function(){return P(this,function(a){return[2,(r=this._channels.get(e))!==null&&r!==void 0?r:null]})})},t.prototype.upsert=function(e){return F(this,void 0,void 0,function(){var r=this;return P(this,function(a){return e.forEach(function(o){if(r._channels.has(o.url)){var c=r._channels.get(o.url);Object.assign(c,o)}else r._channels.set(o.url,o)}),[2]})})},t.prototype.remove=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return this._channels.delete(e),this.exit(e),[2]})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return this._channels.clear(),this._enteredChannelUrls=[],[2]})})},t}(Ps),l9={channelUrl:null,name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null,isEphemeral:null},ace=function(n){function t(e){var r=e.channelUrl,a=e.isInternalCall,o=n.call(this)||this;return o.method=pn.GET,o.path="".concat(a?vse:Xu,"/").concat(encodeURIComponent(r)),o}return ee(t,n),t}(_n),T8=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=null,a.channel=new C0(e,r),a}return ee(t,n),t}(gn),sce=function(n){function t(e){var r=this,a=e.channelUrl,o=e.coverUrlOrImage,c=e.name,h=e.data,f=e.customType,m=e.operatorUserIds,v=e.isEphemeral;return(r=n.call(this)||this).method=pn.POST,r.path=Xu,r.params=st({channel_url:a,cover_url:ge("string",o)?o:null,cover_file:Ai(o)?o:null,name:c,data:h,custom_type:f,operators:m,is_ephemeral:v}),r}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new C0(e,r),a}ee(t,n)})(gn);var oce=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"ENTR",payload:{channel_url:r},ackRequired:!0})||this}return ee(t,n),t}(Qa),d9=function(n){function t(e,r,a){var o,c,h=this;return h=n.call(this,e,"SYEV",a)||this,a.data&&(h.participantCount=(o=a.data.participant_count)!==null&&o!==void 0?o:0,h.user=new St(e,a.data),h.ts=(c=a.data.edge_ts)!==null&&c!==void 0?c:0),h}return ee(t,n),t}(pd),lce=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"EXIT",payload:{channel_url:r},ackRequired:!0})||this}return ee(t,n),t}(Qa),c9=function(n){function t(e,r,a){var o,c,h=this;return h=n.call(this,e,"EXIT",a)||this,a.data&&(h.participantCount=(o=a.data.participant_count)!==null&&o!==void 0?o:0,h.user=new St(e,a.data),h.ts=(c=a.data.edge_ts)!==null&&c!==void 0?c:0),h}return ee(t,n),t}(pd),Wv={},gu=function(){function n(t,e){var r=e.sdkState,a=e.dispatcher,o=e.requestQueue,c=this;return Wv[t]||(this._iid=t,this._sdkState=r,this._requestQueue=o,this._dispatcher=a,this._openChannelCache=new ice(t),this._openChannelHandlers=new Map,this._dispatcher.on(function(h){var f,m;if(h instanceof lr)c._handleEvent(h);else if(h instanceof ps&&h.stateType===Gt.CONNECTED){var v=c._openChannelCache.enteredChannels;try{for(var y=Sn(v),w=y.next();!w.done;w=y.next())w.value.enter()}catch(x){f={error:x}}finally{try{w&&!w.done&&(m=y.return)&&m.call(y)}finally{if(f)throw f.error}}}}),Wv[t]=this),Wv[t]}return n.of=function(t){return Wv[t]},n.prototype.buildOpenChannelFromSerializedData=function(t){var e=mc(t);return new C0(this._iid,C0.payloadify(e))},n.prototype.getChannelFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._openChannelCache.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.upsertChannelsToCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._openChannelCache.upsert(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeChannelsFromCache=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,7]),e=Sn(t),r=e.next(),f.label=1;case 1:return r.done?[3,4]:(a=r.value,[4,this._openChannelCache.remove(a)]);case 2:f.sent(),f.label=3;case 3:return r=e.next(),[3,1];case 4:return[3,7];case 5:return o=f.sent(),c={error:o},[3,7];case 6:try{r&&!r.done&&(h=e.return)&&h.call(e)}finally{if(c)throw c.error}return[7];case 7:return[2]}})})},n.prototype.setEnteredToCache=function(t){this._openChannelCache.enter(t.url)},n.prototype.setExitedToCache=function(t){this._openChannelCache.exit(t.url)},n.prototype._handleEvent=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M,q,z,te,he,B,W,re,j,_e,ie,se,me,Me,de,ue,V,Q,$,ne,De,We,Ae,we,Ue,He,en,nn,un,mn,ln,Bn,Gn,G,J,En,In,Zn,jn,zn,Rn,ft,Xn,xn,Ct,vt=this;return P(this,function(Kn){switch(Kn.label){case 0:switch(Kn.trys.push([0,55,,56]),t.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"MRCT":return[3,10];case"MTHD":return[3,13];case"MCNT":return[3,16];case"PEDI":return[3,27];case"VOTE":return[3,29];case"SYEV":return[3,31]}return[3,54];case 1:return o=null,t.code==="MESG"?o=t.as(Ik):t.code==="FILE"?o=t.as(xk):t.code!=="ADMM"&&t.code!="BRDM"||(o=t.as(t9)),o?(e=o.message,r=o.isMentioned,e.channelType!==Jt.OPEN?[3,3]:[4,this.getChannel(e.channelUrl,!0)]):[3,3];case 2:a=Kn.sent(),$n(function(){return F(vt,void 0,void 0,function(){var Dn,an,lt,pt,xt;return P(this,function(Et){try{for(Dn=Sn(this._openChannelHandlers.values()),an=Dn.next();!an.done;an=Dn.next())lt=an.value,this._openChannelCache.isEnteredChannel(a.url)&&(lt.onMessageReceived(a,e),r&&lt.onMentionReceived(a,e))}catch(pr){pt={error:pr}}finally{try{an&&!an.done&&(xt=Dn.return)&&xt.call(Dn)}finally{if(pt)throw pt.error}}return[2]})})}),Kn.label=3;case 3:return[3,54];case 4:return o=null,t.code==="MEDI"?o=t.as(ub):t.code==="FEDI"?o=t.as(hb):t.code==="AEDI"&&(o=t.as(r9)),o?(c=o.message,h=o.mentionCountChange,c.channelType!==Jt.OPEN?[3,6]:[4,this.getChannel(c.channelUrl,!0)]):[3,6];case 5:f=Kn.sent(),$n(function(){return F(vt,void 0,void 0,function(){var Dn,an,lt,pt,xt;return P(this,function(Et){try{for(Dn=Sn(this._openChannelHandlers.values()),an=Dn.next();!an.done;an=Dn.next())lt=an.value,this._openChannelCache.isEnteredChannel(f.url)&&(lt.onMessageUpdated(f,c),h>0&&lt.onMentionReceived(f,c))}catch(pr){pt={error:pr}}finally{try{an&&!an.done&&(xt=Dn.return)&&xt.call(Dn)}finally{if(pt)throw pt.error}}return[2]})})}),Kn.label=6;case 6:return[3,54];case 7:return m=t.as(VU),re=m.channelUrl,j=m.channelType,v=m.messageId,j!==Jt.OPEN?[3,9]:[4,this.getChannel(re,!0)];case 8:y=Kn.sent(),$n(function(){return F(vt,void 0,void 0,function(){var Dn,an,lt,pt,xt;return P(this,function(Et){try{for(Dn=Sn(this._openChannelHandlers.values()),an=Dn.next();!an.done;an=Dn.next())lt=an.value,this._openChannelCache.isEnteredChannel(y.url)&&lt.onMessageDeleted(y,v)}catch(pr){pt={error:pr}}finally{try{an&&!an.done&&(xt=Dn.return)&&xt.call(Dn)}finally{if(pt)throw pt.error}}return[2]})})}),Kn.label=9;case 9:return[3,54];case 10:return w=t.as(i9),re=w.channelUrl,j=w.channelType,x=w.event,j!==Jt.OPEN?[3,12]:[4,this.getChannel(re,!0)];case 11:C=Kn.sent(),$n(function(){return F(vt,void 0,void 0,function(){var Dn,an,lt,pt,xt;return P(this,function(Et){try{for(Dn=Sn(this._openChannelHandlers.values()),an=Dn.next();!an.done;an=Dn.next())lt=an.value,this._openChannelCache.isEnteredChannel(C.url)&&lt.onReactionUpdated(C,x)}catch(pr){pt={error:pr}}finally{try{an&&!an.done&&(xt=Dn.return)&&xt.call(Dn)}finally{if(pt)throw pt.error}}return[2]})})}),Kn.label=12;case 12:return[3,54];case 13:return(A=t.as(a9).event).channelType!==Jt.OPEN?[3,15]:[4,this.getChannel(A.channelUrl,!0)];case 14:L=Kn.sent(),$n(function(){return F(vt,void 0,void 0,function(){var Dn,an,lt,pt,xt;return P(this,function(Et){try{for(Dn=Sn(this._openChannelHandlers.values()),an=Dn.next();!an.done;an=Dn.next())lt=an.value,this._openChannelCache.isEnteredChannel(L.url)&&lt.onThreadInfoUpdated(L,A)}catch(pr){pt={error:pr}}finally{try{an&&!an.done&&(xt=Dn.return)&&xt.call(Dn)}finally{if(pt)throw pt.error}}return[2]})})}),Kn.label=15;case 15:return[3,54];case 16:S=t.as(n9).openChannelMemberCounts,k=[],Kn.label=17;case 17:Kn.trys.push([17,22,23,24]),N=Sn(S),O=N.next(),Kn.label=18;case 18:return O.done?[3,21]:(H=O.value,re=H.channelUrl,Q=H.participantCount,D=H.updatedAt,[4,this.getChannelFromCache(re)]);case 19:(T=Kn.sent())&&T._updateParticipantCount(Q,D)&&k.push(T),Kn.label=20;case 20:return O=N.next(),[3,18];case 21:return[3,24];case 22:return M=Kn.sent(),xn={error:M},[3,24];case 23:try{O&&!O.done&&(Ct=N.return)&&Ct.call(N)}finally{if(xn)throw xn.error}return[7];case 24:return k.length>0?[4,this.upsertChannelsToCache(k)]:[3,26];case 25:Kn.sent(),$n(function(){return F(vt,void 0,void 0,function(){var Dn,an,lt,pt;return P(this,function(xt){try{for(Dn=Sn(this._openChannelHandlers.values()),an=Dn.next();!an.done;an=Dn.next())an.value.onChannelMemberCountChanged(k)}catch(Et){lt={error:Et}}finally{try{an&&!an.done&&(pt=Dn.return)&&pt.call(Dn)}finally{if(lt)throw lt.error}}return[2]})})}),Kn.label=26;case 26:return[3,54];case 27:return q=t.as(s9),z=q.event,te=q.status,re=q.channelUrl,j=q.channelType,re&&j?[4,this.getChannel(re,!0)]:[3,54];case 28:return he=Kn.sent(),this._dispatcher.dispatch(new yk({event:z,source:ut.EVENT_POLL_UPDATED})),$n(te===vU?function(){return F(vt,void 0,void 0,function(){var Dn,an,lt,pt;return P(this,function(xt){try{for(Dn=Sn(this._openChannelHandlers.values()),an=Dn.next();!an.done;an=Dn.next())an.value.onPollDeleted(he,z.pollId)}catch(Et){lt={error:Et}}finally{try{an&&!an.done&&(pt=Dn.return)&&pt.call(Dn)}finally{if(lt)throw lt.error}}return[2]})})}:function(){return F(vt,void 0,void 0,function(){var Dn,an,lt,pt;return P(this,function(xt){try{for(Dn=Sn(this._openChannelHandlers.values()),an=Dn.next();!an.done;an=Dn.next())an.value.onPollUpdated(he,z)}catch(Et){lt={error:Et}}finally{try{an&&!an.done&&(pt=Dn.return)&&pt.call(Dn)}finally{if(lt)throw lt.error}}return[2]})})}),[3,54];case 29:return B=t.as(Nk),W=B.event,re=B.channelUrl,j=B.channelType,re&&j?[4,this.getChannel(re,!0)]:[3,54];case 30:return _e=Kn.sent(),this._dispatcher.dispatch(new Qb({event:W,source:ut.EVENT_POLL_VOTED})),$n(function(){return F(vt,void 0,void 0,function(){var Dn,an,lt,pt;return P(this,function(xt){try{for(Dn=Sn(this._openChannelHandlers.values()),an=Dn.next();!an.done;an=Dn.next())an.value.onPollVoted(_e,W)}catch(Et){lt={error:Et}}finally{try{an&&!an.done&&(pt=Dn.return)&&pt.call(Dn)}finally{if(lt)throw lt.error}}return[2]})})}),[3,54];case 31:if(!(ie=t.as(pd).event).isOpenChannelEvent)return[3,53];switch(ie.category){case Wt.CHANNEL_ENTER:return[3,32];case Wt.CHANNEL_EXIT:return[3,34];case Wt.CHANNEL_OPERATOR_UPDATE:return[3,36];case Wt.USER_CHANNEL_MUTE:case Wt.USER_CHANNEL_UNMUTE:return[3,38];case Wt.USER_CHANNEL_BAN:case Wt.USER_CHANNEL_UNBAN:return[3,40];case Wt.CHANNEL_FREEZE:case Wt.CHANNEL_UNFREEZE:return[3,42];case Wt.CHANNEL_DELETED:return[3,44];case Wt.CHANNEL_PROP_CHANGED:return[3,47];case Wt.CHANNEL_META_DATA_CHANGED:return[3,49];case Wt.CHANNEL_META_COUNTERS_CHANGED:return[3,51]}return[3,53];case 32:return[4,this.getChannel(ie.channelUrl,!0)];case 33:return se=Kn.sent(),me=t.as(d9),Q=me.participantCount,Me=me.user,de=se._updateParticipantCount(Q,ie.ts),$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){an.onUserEntered(se,Me),de&&an.onChannelParticipantCountChanged(se)}),[2]})})}),[3,53];case 34:return[4,this.getChannel(ie.channelUrl,!0)];case 35:return ue=Kn.sent(),V=t.as(c9),Q=V.participantCount,$=V.user,ne=ue._updateParticipantCount(Q,ie.ts),$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){an.onUserExited(ue,$),ne&&an.onChannelParticipantCountChanged(ue)}),[2]})})}),[3,53];case 36:return[4,this.getChannel(ie.channelUrl,!0)];case 37:return De=Kn.sent(),We=t.as(e9).operators,De.operators=We,this.upsertChannelsToCache([De]),$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){an.onOperatorUpdated(De,We)}),[2]})})}),[3,53];case 38:return[4,this.getChannel(ie.channelUrl,!0)];case 39:return Ae=Kn.sent(),we=ie.category===Wt.USER_CHANNEL_MUTE,Ue=t.as(we?FU:HU).user,$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){we?an.onUserMuted(Ae,Ue):an.onUserUnmuted(Ae,Ue)}),[2]})})}),[3,53];case 40:return[4,this.getChannel(ie.channelUrl,!0)];case 41:return He=Kn.sent(),en=ie.category===Wt.USER_CHANNEL_BAN,nn=t.as(en?BU:$U).user,$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){en?an.onUserBanned(He,nn):an.onUserUnbanned(He,nn)}),[2]})})}),[3,53];case 42:return[4,this.getChannel(ie.channelUrl,!0)];case 43:return un=Kn.sent(),mn=t.as(zU).freeze,un.isFrozen=mn,this.upsertChannelsToCache([un]),$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){mn?an.onChannelFrozen(un):an.onChannelUnfrozen(un)}),[2]})})}),[3,53];case 44:return[4,this.getChannel(ie.channelUrl,!0)];case 45:return ln=Kn.sent(),[4,this.removeChannelsFromCache([ln.url])];case 46:return Kn.sent(),$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){an.onChannelDeleted(ln.url,ln.channelType)}),[2]})})}),[3,53];case 47:return[4,this.getChannelWithoutCache(ie.channelUrl,!0)];case 48:return Bn=Kn.sent(),$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){an.onChannelChanged(Bn)}),[2]})})}),[3,53];case 49:return[4,this.getChannel(ie.channelUrl,!0)];case 50:return Gn=Kn.sent(),G=t.as(UU),J=G.created,En=G.updated,In=G.deleted,J&&Gn._upsertCachedMetaData(J,ie.ts),En&&Gn._upsertCachedMetaData(En,ie.ts),In&&Gn._removeFromCachedMetaData(In,ie.ts),$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){J&&an.onMetaDataCreated(Gn,J),En&&an.onMetaDataUpdated(Gn,En),In&&an.onMetaDataDeleted(Gn,In)}),[2]})})}),[3,53];case 51:return[4,this.getChannel(ie.channelUrl,!0)];case 52:return Zn=Kn.sent(),jn=t.as(PU),zn=jn.created,Rn=jn.updated,ft=jn.deleted,$n(function(){return F(vt,void 0,void 0,function(){return P(this,function(Dn){return this._openChannelHandlers.forEach(function(an){zn&&an.onMetaCounterCreated(Zn,zn),Rn&&an.onMetaCounterUpdated(Zn,Rn),ft&&an.onMetaCounterDeleted(Zn,ft)}),[2]})})}),[3,53];case 53:return[3,54];case 54:return[3,56];case 55:if(Xn=Kn.sent(),cl(Xn))throw Xn;return[3,56];case 56:return[2]}})})},n.prototype.addHandler=function(t,e){this._openChannelHandlers.set(t,e)},n.prototype.removeHandler=function(t){this._openChannelHandlers.delete(t)},n.prototype.clearHandler=function(){this._openChannelHandlers.clear()},n.prototype.getChannel=function(t,e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:vn(ge("string",t)).throw(Le.invalidParameters),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.getChannelFromCache(t)];case 2:return(r=a.sent())?[2,r]:[3,4];case 3:return a.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(t)];case 5:return[2,a.sent()]}})})},n.prototype.getChannelWithoutCache=function(t,e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var r,a,o;return P(this,function(c){switch(c.label){case 0:return vn(ge("string",t)).throw(Le.invalidParameters),r=new ace({channelUrl:t,isInternalCall:e}),[4,this._requestQueue.send(r)];case 1:return a=c.sent(),o=a.as(T8).channel,[4,this.upsertChannelsToCache([o])];case 2:return c.sent(),[2,o]}})})},n.prototype.createChannel=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return e=ye(ye({},l9),t),vn(function(h){return yt("string",h.operatorUserIds,!0)&&(ge("string",h.coverUrlOrImage)||Ai(h.coverUrlOrImage)||h.coverUrlOrImage===null)&&ge("string",h.name,!0)&&ge("string",h.data,!0)&&ge("string",h.customType,!0)&&(ge("string",h.channelUrl)&&/^\w+$/.test(h.channelUrl)||h.channelUrl===null)&&ge("boolean",h.isEphemeral,!0)}(e)).throw(Le.invalidParameters),r=new sce(e),[4,this._requestQueue.send(r)];case 1:return a=c.sent(),o=a.as(T8).channel,this.upsertChannelsToCache([o]),[2,o]}})})},n}(),C8={name:null,coverUrlOrImage:null,data:null,customType:null,operatorUserIds:null},dce=function(n){function t(e){var r=this,a=e.channelUrl,o=e.token,c=e.limit;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Xu,"/").concat(encodeURIComponent(a),"/participants"),r.params={token:o,limit:c},r}return ee(t,n),t}(_n),cce=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.participants=[];var o=r.next,c=r.participants;return a.token=o,a.participants=c.map(function(h){return new qle(e,h)}),a}return ee(t,n),t}(gn),uce=function(n){function t(e,r,a){return n.call(this,e,r,Jt.OPEN,a)||this}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new dce(ye(ye({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(cce),c=o.participants,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(hd),hce=function(n){function t(e){var r=this,a=e.channelUrl,o=e.coverUrlOrImage,c=e.name,h=e.data,f=e.customType,m=e.operatorUserIds;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(Xu,"/").concat(encodeURIComponent(a)),r.params=st({cover_url:ge("string",o)?o:null,cover_file:Ai(o)?o:null,name:c,data:h,custom_type:f,operators:m}),r}return ee(t,n),t}(_n),pce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new C0(e,r),a}return ee(t,n),t}(gn),fce=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(Xu,"/").concat(encodeURIComponent(a)),r}return ee(t,n),t}(_n);(function(n){function t(e,r){return n.call(this,e,r)||this}ee(t,n)})(gn);var C0=function(n){function t(e,r){var a,o=this;return(o=n.call(this,e,r)||this)._lastParticipantCountUpdated=0,o.participantCount=0,o.operators=[],o.channelType=Jt.OPEN,o.participantCount=(a=r.participant_count)!==null&&a!==void 0?a:0,o.operators=Array.isArray(r.operators)?r.operators.map(function(c){return new St(e,c)}):[],o}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},xx.payloadify(e)),{participant_count:e.participantCount,operators:e.operators.map(function(r){return St.payloadify(r)})})):null},t.prototype.serialize=function(){return D0(this)},t.prototype.isOperator=function(e){return e instanceof St?this.isOperator(e.userId):this.operators.some(function(r){return r.userId===e})},t.prototype._updateParticipantCount=function(e,r){return r>this._lastParticipantCountUpdated&&(this.participantCount=e,this._lastParticipantCountUpdated=r,!0)},t.prototype.createParticipantListQuery=function(e){return new uce(this._iid,this.url,e)},t.prototype.refresh=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,gu.of(this._iid).getChannelWithoutCache(this.url)];case 1:return[2,e.sent()]}})})},t.prototype.enter=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid).requestQueue,r=new oce({channelUrl:this.url}),[4,e.send(r)];case 1:return a=f.sent(),o=a.as(d9),c=o.participantCount,h=o.ts,this._updateParticipantCount(c,h),gu.of(this._iid).setEnteredToCache(this),[2]}})})},t.prototype.exit=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid).requestQueue,r=new lce({channelUrl:this.url}),[4,e.send(r)];case 1:return a=f.sent(),o=a.as(c9),c=o.participantCount,h=o.ts,this._updateParticipantCount(c,h),gu.of(this._iid).setExitedToCache(this),Ui.of(this._iid).fileMessageQueue.cancel(this),[2]}})})},t.prototype.updateChannel=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return r=ye(ye({},C8),e),vn(function(m){return yt("string",m.operatorUserIds,!0)&&(ge("string",m.coverUrlOrImage)||Ai(m.coverUrlOrImage)||m.coverUrlOrImage===null)&&ge("string",m.name,!0)&&ge("string",m.data,!0)&&ge("string",m.customType,!0)}(r)).throw(Le.invalidParameters),a=Se.of(this._iid).requestQueue,o=new hce(ye({channelUrl:this.url},r)),[4,a.send(o)];case 1:return c=f.sent(),h=c.as(pce).channel,[4,gu.of(this._iid).upsertChannelsToCache([h])];case 2:return f.sent(),[2,h]}})})},t.prototype.updateChannelWithOperatorUserIds=function(e,r,a,o,c){return F(this,void 0,void 0,function(){var h;return P(this,function(f){return h=ye(ye({},C8),{name:e,coverUrlOrImage:r,data:a,operatorUserIds:o,customType:c}),[2,this.updateChannel(h)]})})},t.prototype.delete=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new fce({channelUrl:this.url}),[4,e.send(r)];case 1:return a.sent(),[4,gu.of(this._iid).removeChannelsFromCache([this.url])];case 2:return a.sent(),[2]}})})},t.prototype.sendUserMessage=function(e){return vn(!e.isPinnedMessage).throw(Le.notSupportedError),n.prototype.sendUserMessage.call(this,e)},t.prototype.sendFileMessage=function(e){return vn(!e.isPinnedMessage).throw(Le.notSupportedError),n.prototype.sendFileMessage.call(this,e)},t}(xx),_ce=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ee(t,n),t}(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onUserEntered=bt,e.onUserExited=bt,e.onChannelParticipantCountChanged=bt,e.onPollUpdated=bt,e.onPollVoted=bt,e.onPollDeleted=bt,e}return ee(t,n),t}(o9)),mce=function(n){function t(e){var r=this,a=e.token,o=e.limit,c=e.nameKeyword,h=e.urlKeyword,f=e.customTypes,m=e.includeFrozen,v=e.includeMetaData;return(r=n.call(this)||this).method=pn.GET,r.path=Xu,r.params=st({token:a,limit:o,name_contains:c,url_contains:h,custom_types:f,show_frozen:m,show_metadata:v}),r}return ee(t,n),t}(_n),vce=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.channels=[],a.ts=null;var o=r.next,c=r.channels,h=r.ts;return a.token=o,c&&c.length>0&&(a.channels=c.map(function(f){return new C0(e,f)})),a.ts=typeof h=="number"?h:null,a}return ee(t,n),t}(gn),gce=function(n){function t(e,r){var a,o,c,h,f,m=this;return(m=n.call(this,e,r)||this).includeFrozen=!0,m.includeMetaData=!0,m.nameKeyword=null,m.urlKeyword=null,m.customTypes=null,m.includeFrozen=(a=r.includeFrozen)===null||a===void 0||a,m.includeMetaData=(o=r.includeMetaData)===null||o===void 0||o,m.nameKeyword=(c=r.nameKeyword)!==null&&c!==void 0?c:null,m.urlKeyword=(h=r.urlKeyword)!==null&&h!==void 0?h:null,m.customTypes=(f=r.customTypes)!==null&&f!==void 0?f:null,m}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ge("boolean",this.includeFrozen)&&ge("boolean",this.includeMetaData)&&ge("string",this.nameKeyword,!0)&&ge("string",this.urlKeyword,!0)&&yt("string",this.customTypes,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,4]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new mce(ye(ye({},this),{token:this._token})),[4,e.send(r)]):[3,3]:[3,6];case 1:return a=f.sent(),o=a.as(vce),c=o.channels,h=o.token,this._token=h,this._hasNext=!!h,[4,gu.of(this._iid).upsertChannelsToCache(c)];case 2:return f.sent(),this._isLoading=!1,[2,c];case 3:return[2,[]];case 4:throw Le.queryInProgress;case 5:return[3,7];case 6:throw Le.invalidParameters;case 7:return[2]}})})},t}(ud),bce=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="openChannel",e}return ee(t,n),t.prototype.init=function(e,r){var a=r.sdkState,o=r.dispatcher,c=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:o,sessionManager:c,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v}),this._manager=new gu(e,{sdkState:a,dispatcher:o,requestQueue:h})},t.prototype.createOpenChannelListQuery=function(e){return e===void 0&&(e={}),new gce(this._iid,e)},t.prototype.addOpenChannelHandler=function(e,r){this._manager.addHandler(e,r)},t.prototype.removeOpenChannelHandler=function(e){this._manager.removeHandler(e)},t.prototype.removeAllOpenChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildOpenChannelFromSerializedData=function(e){return this._manager.buildOpenChannelFromSerializedData(e)},t.prototype.getChannel=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2,this._manager.getChannel(e)]})})},t.prototype.getChannelWithoutCache=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return[2,this._manager.getChannelWithoutCache(e)]})})},t.prototype.createChannel=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){return P(this,function(r){return[2,this._manager.createChannel(e)]})})},t.prototype.createChannelWithOperatorUserIds=function(e,r,a,o,c){return F(this,void 0,void 0,function(){var h;return P(this,function(f){return(h=ye({},l9)).name=e,h.coverUrlOrImage=r,h.data=a,h.operatorUserIds=o,h.customType=c,[2,this._manager.createChannel(h)]})})},t}(Wb),Xr;(function(n){n.NONE="none",n.JOINED="joined",n.INVITED="invited",n.LEFT="left"})(Xr||(Xr={}));var rd,Ns,hs,Mu,ol,fb,vc,b_,no=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.state=null,a.role=null,a.isMuted=!1,a.isBlockedByMe=!1,a.isBlockingMe=!1,a.state=mt(Xr,r.state)?r.state:null,a.role=mt(eo,r.role)?r.role:null,r.hasOwnProperty("is_muted")&&(a.isMuted=r.is_muted),r.hasOwnProperty("is_blocked_by_me")&&(a.isBlockedByMe=r.is_blocked_by_me),r.hasOwnProperty("is_blocking_me")&&(a.isBlockingMe=r.is_blocking_me),a}return ee(t,n),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{state:e.state,role:e.role,is_muted:e.isMuted,is_blocked_by_me:e.isBlockedByMe,is_blocking_me:e.isBlockingMe})):null},t}(Ju),u9=function(n){function t(e,r){var a,o,c=this;return(c=n.call(this,e)||this).channelUrl=(a=r.channel_url)!==null&&a!==void 0?a:"",c.channelType=(o=r.channel_type)!==null&&o!==void 0?o:Jt.GROUP,c.reader=new St(c._iid,r.user),c.readAt=r.ts,c}return ee(t,n),t}(Ps);(function(n){n.ALL="all",n.PUBLIC="public",n.PRIVATE="private"})(rd||(rd={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(Ns||(Ns={})),function(n){n.ALL="all",n.SUPER="super",n.NON_SUPER="nonsuper",n.BROADCAST_ONLY="broadcast_only",n.EXCLUSIVE_ONLY="exclusive_only"}(hs||(hs={})),function(n){n.ALL="all",n.UNREAD_MESSAGE="unread_message"}(Mu||(Mu={})),function(n){n.ALL="all",n.UNHIDDEN="unhidden_only",n.HIDDEN="hidden_only",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(ol||(ol={})),function(n){n.ALL="all",n.OPERATOR="operator",n.NONOPERATOR="nonoperator"}(fb||(fb={})),function(n){n.AND="AND",n.OR="OR"}(vc||(vc={})),function(n){n.MEMBER_NICKNAME="member_nickname",n.CHANNEL_NAME="channel_name"}(b_||(b_={}));var wi,h9=function(){function n(){this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=!1,this.nicknameContainsFilter=null,this.nicknameStartsWithFilter=null,this.nicknameExactMatchFilter=null,this.channelNameContainsFilter="",this.myMemberStateFilter=Ns.ALL,this.customTypesFilter=null,this.channelUrlsFilter=null,this.superChannelFilter=hs.ALL,this.publicChannelFilter=rd.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Mu.ALL,this.hiddenChannelFilter=ol.UNHIDDEN,this.includeFrozen=!0}return n.prototype._isFriend=function(t){return!!t.friendDiscoveryKey||!!t.friendName},Object.defineProperty(n.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),n.prototype.setSearchFilter=function(t,e){Array.isArray(t)&&t.length!==0&&typeof e=="string"&&e&&(this._searchFilter={query:e,fields:t})},Object.defineProperty(n.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),n.prototype.setUserIdsFilter=function(t,e,r){r===void 0&&(r=vc.AND),this._userIdsFilter={userIds:t,includeMode:e,queryType:r}},n.prototype.clone=function(){var t=new n;this.searchFilter&&t.setSearchFilter(this.searchFilter.fields,this.searchFilter.query),this.userIdsFilter&&t.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var e=JSON.parse(JSON.stringify(this));return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},n.prototype.match=function(t,e){if(this._searchFilter){var r=this._searchFilter,a=r.query,o=r.fields;if(a&&o&&o.length>0&&!o.some(function(C){switch(C){case b_.CHANNEL_NAME:return t.name.toLowerCase().includes(a.toLowerCase());case b_.MEMBER_NICKNAME:return t.members.some(function(A){return A.nickname.toLowerCase().includes(a.toLowerCase())});default:return!0}}))return!1}if(this._userIdsFilter){var c=this._userIdsFilter,h=c.userIds,f=c.includeMode,m=c.queryType,v=t.members.map(function(C){return C.userId});if(f){if(h.length>0)switch(m){case vc.AND:if(h.some(function(C){return!v.includes(C)}))return!1;break;case vc.OR:if(h.every(function(C){return!v.includes(C)}))return!1}}else if(h.includes(e)||h.push(e),t.members.length>h.length||!iae(h,v))return!1}if(!this.includeEmpty&&!t.lastMessage||!this.includeFrozen&&t.isFrozen||this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes(t.customType)||this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(t.customType)||this.channelNameContainsFilter&&!t.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var y=this.nicknameContainsFilter.toLowerCase();if(!t.members.some(function(C){return C.userId!==e&&C.nickname.toLowerCase().includes(y)}))return!1}if(this.nicknameStartsWithFilter){var w=this.nicknameStartsWithFilter.toLowerCase();if(!t.members.some(function(C){return C.userId!==e&&C.nickname.toLowerCase().startsWith(w)}))return!1}if(this.nicknameExactMatchFilter){var x=this.nicknameExactMatchFilter.toLowerCase();if(!t.members.some(function(C){return C.userId!==e&&C.nickname.toLowerCase()!=x}))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(t.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case Ns.JOINED:if(t.myMemberState!=="joined")return!1;break;case Ns.INVITED:if(t.myMemberState!=="invited")return!1;break;case Ns.INVITED_BY_FRIEND:if(t.myMemberState!=="invited"||!this._isFriend(t.inviter))return!1;break;case Ns.INVITED_BY_NON_FRIEND:if(t.myMemberState!=="invited"||this._isFriend(t.inviter))return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case ol.UNHIDDEN:if(t.isHidden||t.hiddenState!=="unhidden")return!1;break;case ol.HIDDEN:if(!t.isHidden)return!1;break;case ol.HIDDEN_ALLOW_AUTO_UNHIDE:if(!t.isHidden||t.hiddenState!=="hidden_allow_auto_unhide")return!1;break;case ol.HIDDEN_PREVENT_AUTO_UNHIDE:if(!t.isHidden||t.hiddenState!=="hidden_prevent_auto_unhide")return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===Mu.UNREAD_MESSAGE&&t.unreadMessageCount===0)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case rd.PUBLIC:if(!t.isPublic)return!1;break;case rd.PRIVATE:if(t.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case hs.SUPER:if(!t.isSuper)return!1;break;case hs.NON_SUPER:if(t.isSuper)return!1}return!0},n}(),yce=function(n){function t(e,r){var a=r.sdkState,o=r.cacheContext,c=n.call(this,e)||this;return c._channels=new Map,c._sdkState=a,c._cacheContext=o,c}return ee(t,n),Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return e?e.collection(AU):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e,r){return r===void 0&&(r=0),ye(ye({},e.serialize()),{lastMessageUpdatedAt:e.lastMessage?e.lastMessage.createdAt:0,syncIndex:r})},t.prototype._deserialize=function(e){return Gr.of(this._iid).buildGroupChannelFromSerializedData(e)},Object.defineProperty(t.prototype,"channels",{get:function(){return tt([],Yn(this._channels.values()),!1)},enumerable:!1,configurable:!0}),t.prototype.isCachedInMemory=function(e){return this._channels.has(e)},t.prototype.filterOffsetChanged=function(e){var r=this;return e.filter(function(a){if(r._channels.has(a.url))return r._channels.get(a.url).messageOffsetTimestamp<a.messageOffsetTimestamp})},t.prototype.get=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return this._channels.has(e)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(r=o.sent())return a=this._deserialize(r),this._channels.set(e,a),[2,a];o.label=2;case 2:return[2,null];case 3:return[2,this._channels.get(e)]}})})},t.prototype.fetch=function(e){var r=e.token,a=e.limit,o=a===void 0?NU:a,c=e.backward,h=c!==void 0&&c,f=e.filter,m=f===void 0?new h9:f,v=e.order,y=v===void 0?ci.LATEST_LAST_MESSAGE:v,w=e.borderlineChannelUrl,x=w===void 0?null:w;return F(this,void 0,void 0,function(){var C,A,L,S,k=this;return P(this,function(N){switch(N.label){case 0:return this.localCacheEnabled?(C=bg(y),A={where:function(O){if(r)switch(y){case ci.CHANNEL_NAME_ALPHABETICAL:if(!h&&O.name.localeCompare(r)<0||h&&O.name.localeCompare(r)>0||x&&x===O.url)return!1;break;case ci.CHRONOLOGICAL:if(!h&&O.createdAt>r||h&&O.createdAt<r||x&&x===O.url)return!1;break;case ci.LATEST_LAST_MESSAGE:if(!h&&O.lastMessageUpdatedAt>r||h&&O.lastMessageUpdatedAt<r||x&&x===O.url)return!1}return m.match(k._deserialize(O),k._sdkState.userId)},index:C,backward:h},[4,this.collection.query(A)]):[3,3];case 1:return[4,N.sent().fetch({limit:o})];case 2:return L=N.sent(),(S=L.map(function(O){return k._deserialize(O)})).forEach(function(O){k._channels.has(O.url)||k._channels.set(O.url,O)}),[2,S];case 3:return[2,[]]}})})},t.prototype.upsert=function(e){return F(this,void 0,void 0,function(){var r,a,o=this;return P(this,function(c){switch(c.label){case 0:if(e.forEach(function(h){if(o._channels.has(h.url)){var f=o._channels.get(h.url);h._pinnedMessagesUpdatedAt<f._pinnedMessagesUpdatedAt&&(h._pinnedMessagesUpdatedAt=f._pinnedMessagesUpdatedAt),Object.assign(f,h,{_iid:o._iid})}else o._channels.set(h.url,h)}),!this.localCacheEnabled)return[3,2];for(a in r=[],e)r.push(this._serialize(e[a],parseInt(a)));return[4,this.collection.upsertMany(r)];case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.prototype.remove=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:m.trys.push([0,5,6,7]),r=Sn(e),a=r.next(),m.label=1;case 1:return a.done?[3,4]:(o=a.value,this._channels.delete(o),this.localCacheEnabled?[4,this.collection.remove(o)]:[3,3]);case 2:m.sent(),m.label=3;case 3:return a=r.next(),[3,1];case 4:return[3,7];case 5:return c=m.sent(),h={error:c},[3,7];case 6:try{a&&!a.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 7:return[2]}})})},t.prototype.clear=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.clearMemoryCache=function(){this._channels.clear()},t.prototype._setBlockStateOfAllChannels=function(e,r,a){return F(this,void 0,void 0,function(){var o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T;return P(this,function(M){switch(M.label){case 0:if(o=[],e===this._sdkState.userId)try{for(c=Sn(this._channels.values()),h=c.next();!h.done;h=c.next()){w=h.value;try{for(k=void 0,f=Sn(w.members),m=f.next();!m.done;m=f.next())if((A=m.value).userId===r){A.isBlockedByMe=a,o.push(w);break}}catch(q){k={error:q}}finally{try{m&&!m.done&&(N=f.return)&&N.call(f)}finally{if(k)throw k.error}}}}catch(q){L={error:q}}finally{try{h&&!h.done&&(S=c.return)&&S.call(c)}finally{if(L)throw L.error}}else if(r===this._sdkState.userId)try{for(v=Sn(this._channels.values()),y=v.next();!y.done;y=v.next()){w=y.value;try{for(D=void 0,x=Sn(w.members),C=x.next();!C.done;C=x.next())if((A=C.value).userId===e){A.isBlockingMe=a,o.push(w);break}}catch(q){D={error:q}}finally{try{C&&!C.done&&(T=x.return)&&T.call(x)}finally{if(D)throw D.error}}}}catch(q){O={error:q}}finally{try{y&&!y.done&&(H=v.return)&&H.call(v)}finally{if(O)throw O.error}}return o.length>0?[4,this.upsert(o)]:[3,2];case 1:M.sent(),M.label=2;case 2:return[2]}})})},t.prototype.block=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!0)];case 1:return a.sent(),[2]}})})},t.prototype.unblock=function(e,r){return F(this,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return[4,this._setBlockStateOfAllChannels(e,r,!1)];case 1:return a.sent(),[2]}})})},t.prototype.markAsRead=function(e,r){return r===void 0&&(r=tt([],Yn(this._channels.keys()),!1)),F(this,void 0,void 0,function(){var a,o,c,h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:a=[],w.label=1;case 1:w.trys.push([1,6,7,8]),o=Sn(r),c=o.next(),w.label=2;case 2:return c.done?[3,5]:(h=c.value,[4,this.get(h)]);case 3:(f=w.sent())._updateUnreadMemberState(this._sdkState.userId,e)&&(f._updateUnreadCount(0,0),a.push(f)),w.label=4;case 4:return c=o.next(),[3,2];case 5:return[3,8];case 6:return m=w.sent(),v={error:m},[3,8];case 7:try{c&&!c.done&&(y=o.return)&&y.call(o)}finally{if(v)throw v.error}return[7];case 8:return a.length>0?[4,this.upsert(a)]:[3,10];case 9:w.sent(),w.label=10;case 10:return[2]}})})},t}(Ps),xg={invitedUserIds:null,channelUrl:null,coverUrl:null,coverImage:null,isDistinct:null,isSuper:null,isBroadcast:null,isExclusive:null,isPublic:null,isDiscoverable:null,isStrict:null,isEphemeral:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},Ix=function(n){return yt("string",n.invitedUserIds,!0)&&ge("string",n.channelUrl,!0)&&ge("string",n.coverUrl,!0)&&(Ai(n.coverImage)||ge("string",n.coverImage)||n.coverImage===null)&&ge("boolean",n.isDistinct,!0)&&ge("boolean",n.isSuper,!0)&&ge("boolean",n.isBroadcast,!0)&&ge("boolean",n.isExclusive,!0)&&ge("boolean",n.isPublic,!0)&&ge("boolean",n.isStrict,!0)&&ge("boolean",n.isDiscoverable,!0)&&ge("boolean",n.isEphemeral,!0)&&ge("string",n.accessCode,!0)&&ge("string",n.name,!0)&&ge("string",n.data,!0)&&ge("string",n.customType,!0)&&yt("string",n.operatorUserIds,!0)&&ge("number",n.messageSurvivalSeconds,!0)},_b={customTypes:null,includeEmpty:!1,includeFrozen:!0},Nx=function(n){return yt("string",n.customTypes,!0)&&ge("boolean",n.includeEmpty)&&ge("boolean",n.includeFrozen)},p9={myMemberStateFilter:Ns.ALL},f9=function(n){return mt(Ns,n.myMemberStateFilter)};(function(n){n.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",n.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",n.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",n.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",n.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",n.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",n.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",n.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",n.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"})(wi||(wi={}));var Ece={keys:[]},wce={channelCustomTypesFilter:null,superChannelFilter:hs.ALL},xce={channelUrl:null,scheduledStatus:null,messageTypeFilter:Wi.ALL},kce=function(){function n(t){var e=t.groupChannelCache,r=t.messageCache,a=t.unsentMessageCache,o=t.dispatcher,c=this;this._observers=new Map,o.on(function(h){return F(c,void 0,void 0,function(){var f,m,v,y,w,x,C,A,L,S,k,N,O=this;return P(this,function(H){switch(H.label){case 0:if(!(h instanceof At))return[3,10];f=h.channels,S=h.source,m=h.data,v=f.filter(function(D){return D instanceof Ms}),y=e.filterOffsetChanged(v),H.label=1;case 1:H.trys.push([1,6,7,8]),w=Sn(y),x=w.next(),H.label=2;case 2:return x.done?[3,5]:(C=x.value,[4,r.removeUnderOffset(C.url,C.messageOffsetTimestamp)]);case 3:H.sent(),H.label=4;case 4:return x=w.next(),[3,2];case 5:return[3,8];case 6:return A=H.sent(),k={error:A},[3,8];case 7:try{x&&!x.done&&(N=w.return)&&N.call(w)}finally{if(k)throw k.error}return[7];case 8:return[4,e.upsert(v)];case 9:return H.sent(),this._broadcastUpdateEvent(v,S,m),[3,15];case 10:return h instanceof uu?(L=h.channelUrls,S=h.source,[4,e.remove(L)]):[3,13];case 11:return H.sent(),[4,di(function(){return F(O,void 0,void 0,function(){var D,T,M,q,z,te;return P(this,function(he){switch(he.label){case 0:he.trys.push([0,6,7,8]),D=Sn(L),T=D.next(),he.label=1;case 1:return T.done?[3,5]:(M=T.value,[4,r.removeMessagesOfChannel(M)]);case 2:return he.sent(),[4,a.removeMessagesOfChannel(M)];case 3:he.sent(),he.label=4;case 4:return T=D.next(),[3,1];case 5:return[3,8];case 6:return q=he.sent(),z={error:q},[3,8];case 7:try{T&&!T.done&&(te=D.return)&&te.call(D)}finally{if(z)throw z.error}return[7];case 8:return[2]}})})})];case 12:return H.sent(),this._broadcastRemoveEvent(L,S),[3,15];case 13:return h instanceof WU?[4,e.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,15];case 14:H.sent(),H.label=15;case 15:return[2]}})})})}return n.prototype._broadcastUpdateEvent=function(t,e,r){var a,o;try{for(var c=Sn(this._observers.values()),h=c.next();!h.done;h=c.next())h.value.onUpdate(t,e,r)}catch(f){a={error:f}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}},n.prototype._broadcastRemoveEvent=function(t,e){var r,a;try{for(var o=Sn(this._observers.values()),c=o.next();!c.done;c=o.next())c.value.onRemove(t,e)}catch(h){r={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype.subscribe=function(t,e){this._observers.set(t,e)},n.prototype.unsubscribe=function(t){this._observers.delete(t)},n.prototype.unsubscribeAll=function(){this._observers.clear()},n}(),Sce=function(){function n(t){var e=t.cacheContext,r=t.messageCache,a=t.unsentMessageCache,o=t.dispatcher,c=t.logger,h=this;this._cacheContext=null,this._observers=new Map,this._logger=null,this._cacheContext=e,this._logger=c,o.on(function(f){return F(h,void 0,void 0,function(){var m,v,y,w,x,C,A,L,S,k,N,O,H,D=this;return P(this,function(T){switch(T.label){case 0:return f instanceof ii?(m=f.messages,O=f.source,v=m.filter(function(M){return M.messageId>0}),y=m.filter(function(M){return M.messageId===0}),v.length>0?[4,di(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.upsert(v)];case 1:return M.sent(),[4,a.remove(v.map(function(q){return q instanceof Ii?q.reqId:null}).filter(function(q){return q!==null}))];case 2:return M.sent(),[2]}})})})]:[3,2]):[3,5];case 1:T.sent(),this._broadcastUpdateEvent(v,O),T.label=2;case 2:return y.length>0?[4,di(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,a.upsert(y)];case 1:return M.sent(),[2]}})})})]:[3,4];case 3:T.sent(),this._broadcastUpdateEvent(y,O),T.label=4;case 4:return[3,21];case 5:return f instanceof bk?(w=f.messageIds,O=f.source,[4,di(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.remove(w)];case 1:return M.sent(),[2]}})})})]):[3,7];case 6:return T.sent(),this._broadcastRemoveEvent(w,O),[3,21];case 7:return f instanceof yU?(x=f.reqId,O=f.source,[4,di(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,a.remove([x])];case 1:return M.sent(),[2]}})})})]):[3,9];case 8:return T.sent(),this._broadcastRemoveUnsentEvent(x,O),[3,21];case 9:return f instanceof EU?(C=f.polls,O=f.source,this._cacheContext.localCacheEnabled?(A=C.map(function(M){return M.messageId}),[4,Promise.all(A.map(function(M){return r.get(M)}))]):[3,12]):[3,13];case 10:return(L=T.sent().filter(function(M){return M})).length>0&&C.forEach(function(M){var q=L.find(function(z){return z.messageId===M.messageId});q&&q.applyPoll(M)}),[4,di(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.upsert(L)];case 1:return[2,M.sent()]}})})})];case 11:T.sent(),T.label=12;case 12:return this._broadcastPollChangeLogEvent(C,O),[3,21];case 13:return f instanceof yk?(S=f.event,O=f.source,[4,r.get(S.messageId)]):[3,17];case 14:return(k=T.sent())&&k.isUserMessage()&&k.poll&&k.poll.applyPollUpdateEvent(S)?[4,di(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.upsert([k])];case 1:return[2,M.sent()]}})})})]:[3,16];case 15:T.sent(),T.label=16;case 16:return this._broadcastPollUpdateEvent(S,O),[3,21];case 17:return f instanceof Qb?(N=f.event,O=f.source,[4,r.get(N.messageId)]):[3,21];case 18:return(H=T.sent())&&H.isUserMessage()&&H.poll&&H.poll.applyPollVoteEvent(N)?[4,di(function(){return F(D,void 0,void 0,function(){return P(this,function(M){switch(M.label){case 0:return[4,r.upsert([H])];case 1:return[2,M.sent()]}})})})]:[3,20];case 19:T.sent(),T.label=20;case 20:this._broadcastPollVoteEvent(N,O),T.label=21;case 21:return[2]}})})})}return n.prototype._broadcastUpdateEvent=function(t,e){var r,a;try{for(var o=Sn(this._observers.values()),c=o.next();!c.done;c=o.next())c.value.onUpdate(t,e)}catch(h){r={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastPollChangeLogEvent=function(t,e){var r,a;try{for(var o=Sn(this._observers.values()),c=o.next();!c.done;c=o.next())c.value.onPollChangeLogUpdate(t,e)}catch(h){r={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastPollUpdateEvent=function(t,e){var r,a;try{for(var o=Sn(this._observers.values()),c=o.next();!c.done;c=o.next())c.value.onPollUpdate(t,e)}catch(h){r={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastPollVoteEvent=function(t,e){var r,a;try{for(var o=Sn(this._observers.values()),c=o.next();!c.done;c=o.next())c.value.onPollVote(t,e)}catch(h){r={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastRemoveEvent=function(t,e){var r,a;try{for(var o=Sn(this._observers.values()),c=o.next();!c.done;c=o.next())c.value.onRemove(t,e)}catch(h){r={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype._broadcastRemoveUnsentEvent=function(t,e){var r,a;try{for(var o=Sn(this._observers.values()),c=o.next();!c.done;c=o.next())c.value.onRemoveUnsent(t,e)}catch(h){r={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},n.prototype.subscribe=function(t,e){this._observers.set(t,e)},n.prototype.unsubscribe=function(t){this._observers.delete(t)},n.prototype.unsubscribeAll=function(){this._observers.clear()},n}(),Tce=function(n){function t(e){var r=e.userId,a=e.ts,o=e.token,c=e.filter,h=n.call(this)||this,f=ye(ye({},_b),c),m=f.customTypes,v=f.includeEmpty,y=f.includeFrozen;return h.method=pn.GET,h.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),h.params=st({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:a>0?a:null,token:o,custom_types:m,show_empty:v,show_frozen:y}),h}return ee(t,n),t}(_n),Cce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.updatedChannels=r.updated.map(function(o){return new Ms(e,o)}),a.deletedChannelUrls=r.deleted,a.hasMore=r.has_more,a.token=r.next,a}return ee(t,n),t}(gn),Ax=function(n){function t(e){var r=e.channelUrl,a=e.isInternalCall,o=n.call(this)||this;return o.method=pn.GET,o.path="".concat(a?mse:va,"/").concat(encodeURIComponent(r)),o.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0},o}return ee(t,n),t}(_n),Ox=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=null,a.channel=new Ms(e,r),a}return ee(t,n),t}(gn),Ice=function(n){function t(e){var r=this,a=e.userId,o=e.token,c=e.limit,h=e.order,f=e.includeEmpty,m=e.myMemberStateFilter,v=e.superChannelFilter,y=e.publicChannelFilter,w=e.unreadChannelFilter,x=e.nicknameContainsFilter,C=e.nicknameStartsWithFilter,A=e.nicknameExactMatchFilter,L=e.channelNameContainsFilter,S=e.channelUrlsFilter,k=e.customTypesFilter,N=e.customTypeStartsWithFilter,O=e.hiddenChannelFilter,H=e.metadataOrderKeyFilter,D=e.metadataKey,T=e.metadataValues,M=e.metadataValueStartsWith,q=e.includeFrozen,z=e.includeMetaData,te=e.searchFilter,he=e.userIdsFilter;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(Ut,"/").concat(encodeURIComponent(a),"/my_group_channels"),r.params=st({token:o,limit:c,order:h,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:f,member_state_filter:m,super_mode:v,public_mode:y,unread_filter:w,members_nickname_contains:x,members_nickname_startswith:C,members_nickname:A,name_contains:L,channel_urls:S,custom_types:k,custom_type_startswith:N,hidden_mode:O,metadata_order_key:H,metadata_key:D,metadata_values:T,metadata_value_startswith:M,show_frozen:q,show_metadata:z}),te&&te.query&&te.fields&&(r.params.search_query=te.query,r.params.search_fields=te.fields),he&&he.userIds&&he.userIds.length>0&&(he.includeMode?(r.params.members_include_in=he.userIds,r.params.query_type=he.queryType.toUpperCase()):r.params.members_exactly_in=he.userIds),r}return ee(t,n),t}(_n),Nce=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.channels=[],a.ts=null;var o=r.next,c=r.channels,h=r.ts;return a.token=o,c&&c.length>0&&(a.channels=c.map(function(f){return f.ts=h,new Ms(e,f)})),a.ts=h!=null?h:null,a}return ee(t,n),t}(gn),Ace=function(n){function t(e){var r=e.userId,a=e.filter,o=n.call(this)||this,c=a.myMemberStateFilter;return o.method=pn.GET,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/group_channel_count"),o.params={state:c!=null?c:Ns.ALL},o}return ee(t,n),t}(_n),Oce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.groupChannelCount=r.group_channel_count,a}return ee(t,n),t}(gn),Rce=function(n){function t(e){var r=e.userId,a=e.filter,o=n.call(this)||this,c=a.keys;return o.method=pn.GET,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/unread_item_count"),o.params={item_keys:c},o}return ee(t,n),t}(_n),Mce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return typeof r[wi.GROUP_CHANNEL_UNREAD_MENTION_COUNT]=="number"&&(a.groupChannelUnreadMentionCount=r[wi.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),typeof r[wi.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]=="number"&&(a.groupChannelUnreadMessageCount=r[wi.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),typeof r[wi.GROUP_CHANNEL_INVITATION_COUNT]=="number"&&(a.groupChannelInvitationCount=r[wi.GROUP_CHANNEL_INVITATION_COUNT]),typeof r[wi.SUPER_UNREAD_MENTION_COUNT]=="number"&&(a.superGroupChannelUnreadMentionCount=r[wi.SUPER_UNREAD_MENTION_COUNT]),typeof r[wi.SUPER_UNREAD_MESSAGE_COUNT]=="number"&&(a.superGroupChannelUnreadMessageCount=r[wi.SUPER_UNREAD_MESSAGE_COUNT]),typeof r[wi.SUPER_INVITATION_COUNT]=="number"&&(a.superGroupChannelInvitationCount=r[wi.SUPER_INVITATION_COUNT]),typeof r[wi.NONSUPER_UNREAD_MENTION_COUNT]=="number"&&(a.nonSuperGroupChannelUnreadMentionCount=r[wi.NONSUPER_UNREAD_MENTION_COUNT]),typeof r[wi.NONSUPER_UNREAD_MESSAGE_COUNT]=="number"&&(a.nonSuperGroupChannelUnreadMessageCount=r[wi.NONSUPER_UNREAD_MESSAGE_COUNT]),typeof r[wi.NONSUPER_INVITATION_COUNT]=="number"&&(a.nonSuperGroupChannelInvitationCount=r[wi.NONSUPER_INVITATION_COUNT]),a}return ee(t,n),t}(gn),Dce=function(n){function t(e){var r=e.userId,a=n.call(this)||this;return a.method=pn.GET,a.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/unread_channel_count"),a}return ee(t,n),t}(_n),Lce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.unreadCount=r.unread_count,a}return ee(t,n),t}(gn),Uce=function(n){function t(e){var r=e.userId,a=e.filter,o=n.call(this)||this,c=a.channelCustomTypesFilter,h=a.superChannelFilter;return o.method=pn.GET,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/unread_message_count"),o.params={super_mode:h!=null?h:hs.ALL,custom_types:c},o}return ee(t,n),t}(_n),Pce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.unreadCount=r.unread_count,a}return ee(t,n),t}(gn),Fce=function(n){function t(e){var r=e.channelUrl,a=e.scheduledStatus,o=e.messageTypeFilter,c=n.call(this)||this;return c.method=pn.GET,c.path="".concat(uU,"/count"),c.params={channel_url:r,status:Bce(a)},o&&(c.params.message_type=o),c}return ee(t,n),t}(_n),Hce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.count=r.count,a}return ee(t,n),t}(gn),Bce=function(n){if(n){var t=[];return n.forEach(function(e){switch(e){case nc.PENDING:t.push(Cs.PENDING);break;case nc.SENT:t.push(Cs.IN_QUEUE),t.push(Cs.SENT);break;case nc.CANCELED:t.push(Cs.CANCELED);break;case nc.FAILED:t.push(Cs.FAILED)}}),t}},$ce=function(n){function t(e){var r=this,a=e.userId,o=e.channelUrl,c=e.coverUrl,h=e.coverImage,f=e.isDistinct,m=e.isSuper,v=e.isBroadcast,y=e.isPublic,w=e.isExclusive,x=e.isDiscoverable,C=e.isStrict,A=e.isEphemeral,L=e.accessCode,S=e.name,k=e.data,N=e.customType,O=e.messageSurvivalSeconds,H=e.invitedUserIds,D=e.operatorUserIds;return(r=n.call(this)||this).method=pn.POST,r.path=va,r.params=st({user_ids:tt([a],Yn(H!=null?H:[]),!1).filter(function(T,M,q){return M===q.indexOf(T)}),channel_url:o,cover_url:c,cover_file:h,is_distinct:f,is_super:m,is_broadcast:v,is_exclusive:w,is_public:y,is_discoverable:x,strict:C,is_ephemeral:A,access_code:L,name:S,data:k,custom_type:N,operator_ids:D,message_survival_seconds:O}),r}return ee(t,n),t}(_n),zce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ms(e,r),a.isCreated=r.is_created,a}return ee(t,n),t}(gn),I8=function(n){function t(e){var r=e.userId,a=e.channelUrls,o=n.call(this)||this;return o.method=pn.PUT,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/mark_as_read_all"),o.params={channel_urls:a},o}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Vce=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId,c=e.accessCode;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(va,"/").concat(encodeURIComponent(a),"/join"),r.params={user_id:o,access_code:c},r}return ee(t,n),t}(_n),Gce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ms(e,r),a}return ee(t,n),t}(gn),qce=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,c=a.data,h=c.member_count,f=h===void 0?null:h,m=c.joined_member_count,v=m===void 0?null:m,y=c.users,w=y===void 0?null:y;return o.memberCount=f,o.joinedMemberCount=v,o.members=Array.isArray(w)?w.map(function(x){return new no(e,x)}):[new no(e,a.data)],o}return ee(t,n),t}(pd),jce=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId,c=e.shouldRemoveOperatorStatus;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(va,"/").concat(encodeURIComponent(a),"/leave"),r.params={user_id:o,should_remove_operator_status:c},r}return ee(t,n),t}(_n);(function(n){function t(e,r){return n.call(this,e,r)||this}ee(t,n)})(gn);var Kce=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,c=a.data,h=c.member_count,f=h===void 0?null:h,m=c.joined_member_count,v=m===void 0?null:m;return o.memberCount=f,o.joinedMemberCount=v,o.member=new no(o._iid,a.data),o}return ee(t,n),t}(pd),Wce=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userIds;return(r=n.call(this)||this).method=pn.POST,r.path="".concat(va,"/").concat(encodeURIComponent(a),"/invite"),r.params={user_ids:o},r}return ee(t,n),t}(_n),Qce=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ms(e,r),a}return ee(t,n),t}(gn),Yce=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,c=a.data,h=c.member_count,f=h===void 0?null:h,m=c.joined_member_count,v=m===void 0?null:m,y=c.inviter,w=y===void 0?null:y,x=c.invitees,C=x===void 0?[]:x;return o.memberCount=f,o.joinedMemberCount=v,o.inviter=w?new St(e,w):null,o.invitees=C.map(function(A){return new no(e,A)}),o}return ee(t,n),t}(pd),Xce=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(va,"/").concat(encodeURIComponent(a),"/decline"),r.params={user_id:o},r}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ms(e,r),a.channel.myMemberState=Xr.NONE,a}ee(t,n)})(gn);var Zce=function(n){function t(e,r,a){var o=n.call(this,e,r,a)||this,c=a.data,h=c.member_count,f=h===void 0?null:h,m=c.joined_member_count,v=m===void 0?null:m,y=c.inviter,w=y===void 0?null:y,x=c.invitee,C=x===void 0?null:x;return o.memberCount=f,o.joinedMemberCount=v,o.inviter=w?new St(e,w):null,o.invitee=C?new no(e,C):null,o}return ee(t,n),t}(pd),Jce=function(n){function t(e){var r=e.channelUrl;return n.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:r}})||this}return ee(t,n),t}(Qa),_9=function(n){function t(e,r,a){var o=n.call(this,e,"READ",a)||this;return o.readStatus=new u9(e,a),o}return ee(t,n),t}(lr),eue=function(n){function t(e){var r=e.channelUrl,a=e.userId,o=n.call(this)||this;return(o=n.call(this)||this).method=pn.PUT,o.path="".concat(va,"/").concat(encodeURIComponent(r),"/messages/mark_as_delivered"),o.params=st({userId:a}),o}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Vl,nue=function(n){function t(e,r,a){var o=n.call(this,e,"DLVR",a)||this;return o.channelUrl=a.channel_url,o.deliveredStateUpdate=a.updated,o}return ee(t,n),t}(lr),tue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId,c=e.hidePreviousMessages,h=e.allowAutoUnhide;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(va,"/").concat(encodeURIComponent(a),"/hide"),r.params={user_id:o,hide_previous_messages:c,allow_auto_unhide:h},r}return ee(t,n),t}(_n),rue=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.messageOffsetTimestamp=null;var o=r.ts_message_offset;return a.messageOffsetTimestamp=o!=null?o:null,a}return ee(t,n),t}(gn),iue=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.allowAutoUnhide=null,o.hidePreviousMessages=null,o.messageOffsetTimestamp=null,a.data&&(o.allowAutoUnhide=a.data.allow_auto_unhide,o.hidePreviousMessages=a.data.hide_previous_messages),o.messageOffsetTimestamp=a.ts_message_offset,o}return ee(t,n),t}(lr),aue=function(n){function t(e){var r=e.channelUrl,a=e.time;return n.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:r,time:a}})||this}return ee(t,n),t}(Qa),sue=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new St(e,a.data),o}return ee(t,n),t}(lr),oue=function(n){function t(e){var r=e.channelUrl,a=e.time;return n.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:r,time:a}})||this}return ee(t,n),t}(Qa),lue=function(n){function t(e,r,a){var o=n.call(this,e,"SYEV",a)||this;return o.user=new St(e,a.data),o}return ee(t,n),t}(lr),due=function(n){function t(e){var r=e.channelUrl,a=e.messageId;return n.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:r,msg_id:a}})||this}return ee(t,n),t}(Qa),m9=function(n){function t(e,r){var a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M,q,z=this;return(z=n.call(this,e,r)||this).includeEmpty=!1,z.includeFrozen=!0,z.includeMetaData=!0,z.channelUrlsFilter=null,z.customTypesFilter=null,z.customTypeStartsWithFilter=null,z.nicknameContainsFilter=null,z.nicknameStartsWithFilter=null,z.nicknameExactMatchFilter=null,z.channelNameContainsFilter="",z.myMemberStateFilter=Ns.ALL,z.unreadChannelFilter=Mu.ALL,z.superChannelFilter=hs.ALL,z.publicChannelFilter=rd.ALL,z.hiddenChannelFilter=ol.UNHIDDEN,z.searchFilter={fields:[],query:null},z.userIdsFilter={userIds:[],includeMode:!0,queryType:vc.AND},z.metadataKey=null,z.metadataValues=null,z.metadataOrderKeyFilter=null,z.metadataValueStartsWith=null,z.order=ci.LATEST_LAST_MESSAGE,z.includeEmpty=(a=r.includeEmpty)!==null&&a!==void 0&&a,z.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,z.includeMetaData=(c=r.includeMetaData)===null||c===void 0||c,z.channelUrlsFilter=(h=r.channelUrlsFilter)!==null&&h!==void 0?h:null,z.customTypesFilter=(f=r.customTypesFilter)!==null&&f!==void 0?f:null,z.customTypeStartsWithFilter=(m=r.customTypeStartsWithFilter)!==null&&m!==void 0?m:"",z.nicknameContainsFilter=(v=r.nicknameContainsFilter)!==null&&v!==void 0?v:null,z.nicknameStartsWithFilter=(y=r.nicknameStartsWithFilter)!==null&&y!==void 0?y:null,z.nicknameExactMatchFilter=(w=r.nicknameExactMatchFilter)!==null&&w!==void 0?w:null,z.channelNameContainsFilter=(x=r.channelNameContainsFilter)!==null&&x!==void 0?x:"",z.myMemberStateFilter=(C=r.myMemberStateFilter)!==null&&C!==void 0?C:Ns.ALL,z.unreadChannelFilter=(A=r.unreadChannelFilter)!==null&&A!==void 0?A:Mu.ALL,z.superChannelFilter=(L=r.superChannelFilter)!==null&&L!==void 0?L:hs.ALL,z.publicChannelFilter=(S=r.publicChannelFilter)!==null&&S!==void 0?S:rd.ALL,z.hiddenChannelFilter=(k=r.hiddenChannelFilter)!==null&&k!==void 0?k:ol.UNHIDDEN,z.searchFilter=(N=r.searchFilter)!==null&&N!==void 0?N:{fields:[],query:null},z.userIdsFilter=(O=r.userIdsFilter)!==null&&O!==void 0?O:{userIds:[],includeMode:!0,queryType:vc.AND},z.metadataKey=(H=r.metadataKey)!==null&&H!==void 0?H:null,z.metadataValues=(D=r.metadataValues)!==null&&D!==void 0?D:null,z.metadataOrderKeyFilter=(T=r.metadataOrderKeyFilter)!==null&&T!==void 0?T:null,z.metadataValueStartsWith=(M=r.metadataValueStartsWith)!==null&&M!==void 0?M:null,z.order=(q=r.order)!==null&&q!==void 0?q:ci.LATEST_LAST_MESSAGE,z}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ge("boolean",this.includeEmpty)&&ge("boolean",this.includeFrozen)&&ge("boolean",this.includeMetaData)&&ge("string",this.channelNameContainsFilter)&&yt("string",this.channelUrlsFilter,!0)&&yt("string",this.customTypesFilter,!0)&&ge("string",this.customTypeStartsWithFilter)&&ge("string",this.nicknameContainsFilter,!0)&&ge("string",this.nicknameStartsWithFilter,!0)&&ge("string",this.nicknameExactMatchFilter,!0)&&mt(Ns,this.myMemberStateFilter)&&mt(hs,this.superChannelFilter)&&mt(rd,this.publicChannelFilter)&&mt(Mu,this.unreadChannelFilter)&&mt(ol,this.hiddenChannelFilter)&&yt(b_,this.searchFilter.fields)&&ge("string",this.searchFilter.query,!0)&&yt("string",this.userIdsFilter.userIds)&&ge("boolean",this.userIdsFilter.includeMode)&&mt(vc,this.userIdsFilter.queryType)&&mt(ci,this.order)&&ge("string",this.metadataOrderKeyFilter,!0)&&ge("string",this.metadataKey,!0)&&yt("string",this.metadataValues,!0)&&ge("string",this.metadataValueStartsWith,!0)},t.prototype.serialize=function(){return D0(this)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Gr.of(this._iid).getMyGroupChannels(this._token,this,this.limit)]):[3,2]:[3,5];case 1:return e=o.sent(),r=e.channels,a=e.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,r];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(ud),Yl=function(){function n(t){var e=t.top,r=e===void 0?Number.MAX_SAFE_INTEGER:e,a=t.bottom,o=a===void 0?0:a;this.top=r,this.bottom=o}return n.prototype.includes=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.every(function(a){return t.top<=a&&a<=t.bottom})},n.prototype.overlap=function(t){return this.includes(t.top)||this.includes(t.bottom)},n.prototype.intersect=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.some(function(a){return t.top<=a&&a<=t.bottom})},n.prototype.extends=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.top=Math.min.apply(Math,tt([this.top],Yn(t),!1)),this.bottom=Math.max.apply(Math,tt([this.bottom],Yn(t),!1))},n}(),cue=function(n){function t(e,r,a){var o,c=this;return(c=n.call(this,e,"SYEV",a)||this).pinnedMessageIds=[],c.latestPinnedMessage=null,c.ts=0,a.data&&(c.pinnedMessageIds=(o=a.data.pinned_message_ids)!==null&&o!==void 0?o:[],c.latestPinnedMessage=a.data.latest_pinned_message?qa(e,ye({},a.data.latest_pinned_message)):null),c.ts=a.ts,c}return ee(t,n),t}(lr),Uh={},Gr=function(){function n(t,e){var r=e.sdkState,a=e.cacheContext,o=e.dispatcher,c=e.sessionManager,h=e.requestQueue,f=e.logger,m=e.disableMack,v=m!==void 0&&m,y=this;return this._leftChannels=new Map,this._disableMack=!1,this._markAsReadAllLastSentAt=0,Uh[t]||(this._iid=t,this._sdkState=r,this._sessionManager=c,this._requestQueue=h,this._dispatcher=o,this._logger=f,this._disableMack=v,this._groupChannelHandlers=new Map,this._groupChannelCache=new yce(this._iid,{sdkState:r,cacheContext:a}),this._unsentMessageCache=new Ok(this._iid,{sdkState:r,cacheContext:a}),this._messageCache=new jU(this._iid,{sdkState:r,cacheContext:a,unsentMessageCache:this._unsentMessageCache}),this._groupChannelBroadcast=new kce({groupChannelCache:this._groupChannelCache,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o}),this._messageBroadcast=new Sce({cacheContext:a,messageCache:this._messageCache,unsentMessageCache:this._unsentMessageCache,dispatcher:o,logger:f}),setInterval(function(){var w,x,C=function(S){S.invalidateTypingStatus()&&(y._dispatcher.dispatch(new At({channels:[S],source:nt.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),y._groupChannelHandlers.forEach(function(k){k.onTypingStatusUpdated(S)}))};try{for(var A=Sn(y._groupChannelCache.channels),L=A.next();!L.done;L=A.next())C(L.value)}catch(S){w={error:S}}finally{try{L&&!L.done&&(x=A.return)&&x.call(A)}finally{if(w)throw w.error}}},1e3),this._dispatcher.on(function(w){w instanceof lr?y._handleEvent(w):w instanceof KU?F(y,void 0,void 0,function(){var x,C;return P(this,function(A){switch(A.label){case 0:return x=w.message,[4,this.getChannel(x.channelUrl,!0)];case 1:return C=A.sent(),x instanceof Ki?C._autoResendUserMessage(x):x instanceof ai&&C._autoResendFileMessage(x),[2]}})}):w instanceof QU&&y.reduceDBSize()}),Uh[t]=this),Uh[t]}return n.of=function(t){return Uh[t]},n.clear=function(t){Uh[t]&&delete Uh[t]},Object.defineProperty(n.prototype,"handlers",{get:function(){return tt([],Yn(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),n.prototype.buildGroupChannelFromSerializedData=function(t){var e=mc(t);return new Ms(this._iid,Ms.payloadify(e))},n.prototype.buildGroupChannelListQueryFromSerializedData=function(t){var e=mc(t);return new m9(this._iid,e)},n.prototype.buildMemberFromSerializedData=function(t){var e=mc(t);return new no(this._iid,no.payloadify(e))},n.prototype.getChannelFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.getChannelsFromCache=function(t,e,r,a,o){return F(this,void 0,void 0,function(){return P(this,function(c){switch(c.label){case 0:return[4,this._groupChannelCache.fetch({token:t,filter:e,order:r,limit:a,borderlineChannelUrl:o})];case 1:return[2,c.sent()]}})})},n.prototype.upsertChannelsToCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.upsert(t)];case 1:return e.sent(),[2]}})})},n.prototype.removeChannelsFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._groupChannelCache.remove(t)];case 1:return e.sent(),[2]}})})},n.prototype.clearChannelsFromCache=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this._groupChannelCache.clear()];case 1:return t.sent(),[2]}})})},n.prototype.reduceDBSize=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h,f,m,v,y,w,x,C;return P(this,function(A){switch(A.label){case 0:return t=Se.of(this._iid).cacheContext,e=t.localCacheConfig,r=t.nestdb,t.localCacheEnabled&&r&&r.state==rl.OPENED?(a=1024*e.maxSize*1024,[4,r.estimateUsage()]):[2];case 1:if((o=A.sent())<a)return[2];c=[],h=this._groupChannelCache.channels,f={},w=0,A.label=2;case 2:return w<h.length?[4,this.getMessagesFromCache(h[w].url,0,"prev",new T0)]:[3,5];case 3:m=A.sent(),f[h[w].url]=JSON.stringify(m).length,v=new oae({channel:h[w],cachedMessageCount:m.length}),c.push(v),A.label=4;case 4:return w++,[3,2];case 5:y=c.sort(e.clearOrderComparator),w=0,A.label=6;case 6:return w<y.length?[4,this._messageCache.removeMessagesOfChannel(y[w].channel.url)]:[3,10];case 7:return A.sent(),[4,this._messageCache._getGroupChannelPreferenceSize(y[w].channel.url)];case 8:if(x=A.sent(),C=f[y[w].channel.url]+x,(o-=C)<a)return[3,10];A.label=9;case 9:return w++,[3,6];case 10:return[2]}})})},n.prototype._handleEvent=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T,M,q,z,te,he,B,W,re,j,_e,ie,se,me,Me,de,ue,V,Q,$,ne,De,We,Ae,we,Ue,He,en,nn,un,mn,ln,Bn,Gn,G,J,En,In,Zn,jn,zn,Rn,ft,Xn,xn,Ct,vt,Kn,Dn,an,lt,pt,xt,Et,pr,ei,Rr,Xa,Kr,Xi,Oi,le,oe,xe,Ie,Fe,ve,Be,Ge,Pe,tn,qe,on,An,at,Ke,ke,Te,Xe,Wn,fn,Un,cn,Jn,zt,Mn,gt,It,dr,Wr,yr,fr,Ht,gi,Lr,Fi,jt,fi,Da,Ur,El,fd,wl,oi,_r,bi,_d,Si,xl,Lo,Uo,Po,ni,Fo,md,Rt=this;return P(this,function(Qn){switch(Qn.label){case 0:switch(Qn.trys.push([0,78,,79]),t.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"PEDI":return[3,32];case"VOTE":return[3,34];case"SYEV":return[3,36];case"USEV":return[3,76]}return[3,77];case 1:return m=null,t.code==="MESG"?m=t.as(Ik):t.code==="FILE"?m=t.as(xk):t.code!=="ADMM"&&t.code!="BRDM"||(m=t.as(t9)),m?(e=m.message,r=m.isMentioned,a=m.forceUpdateLastMessage,e.channelType!==Jt.GROUP?[3,3]:(this._disableMack||di(function(){return F(Rt,void 0,void 0,function(){var Ze;return P(this,function(je){return Ze=new due(e),this._requestQueue.send(Ze),[2]})})}),q=this._groupChannelCache.isCachedInMemory(e.channelUrl),x=e instanceof Ii&&e.sender.userId===this._sdkState.userId,[4,this.getChannel(e.channelUrl,!0)])):[3,3];case 2:if((o=Qn.sent()).hiddenState===da.HIDDEN_ALLOW_AUTO_UNHIDE&&(o.hiddenState=da.UNHIDDEN),e instanceof Ii){c=Se.of(this._iid).useMemberInfoInMessage;try{for(h=Sn(o.members),f=h.next();!f.done;f=h.next())if((Be=f.value).userId===e.sender.userId){c||(e.sender.nickname=Be.nickname,e.sender.plainProfileUrl=Be.plainProfileUrl,e.sender.metaData=Be.metaData,e.sender.isBlockedByMe=Be.isBlockedByMe);break}}catch(Ze){bi={error:Ze}}finally{try{f&&!f.done&&(_d=h.return)&&_d.call(h)}finally{if(bi)throw bi.error}}!c&&r&&e.mentionedUsers.forEach(function(Ze){var je,qn;try{for(var et=Sn(o.members),Zt=et.next();!Zt.done;Zt=et.next()){var Nt=Zt.value;if(Ze.userId===Nt.userId){Ze.nickname=Nt.nickname,Ze.plainProfileUrl=Nt.plainProfileUrl,Ze.metaData=Nt.metaData;break}}}catch(La){je={error:La}}finally{try{Zt&&!Zt.done&&(qn=et.return)&&qn.call(et)}finally{if(je)throw je.error}}}),x&&(A=this._sessionManager.currentUser)&&(A.nickname=e.sender.nickname,A.plainProfileUrl=e.sender.plainProfileUrl,A.metaData=e.sender.metaData)}e.silent&&!x||(o.isEphemeral||q)&&((!o.lastMessage||o.lastMessage.createdAt<e.createdAt)&&(o.lastMessage=e),x||o._updateUnreadCount(o.unreadMessageCount+1,o.unreadMentionCount+(r?1:0))),a&&(!o.lastMessage||o.lastMessage.createdAt<e.createdAt)&&(o.lastMessage=e),this._dispatcher.dispatch(new At({channels:[o],source:nt.EVENT_MESSAGE_RECEIVED})),e.silent&&!x||$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onChannelChanged(o)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})}),this._dispatcher.dispatch(new ii({messages:[e],source:ut.EVENT_MESSAGE_RECEIVED})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et,Zt;return P(this,function(Nt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())(qn=je.value).onMessageReceived(o,e),r&&qn.onMentionReceived(o,e)}catch(La){et={error:La}}finally{try{je&&!je.done&&(Zt=Ze.return)&&Zt.call(Ze)}finally{if(et)throw et.error}}return[2]})})}),Qn.label=3;case 3:return[3,77];case 4:return m=null,t.code==="MEDI"?m=t.as(ub):t.code==="FEDI"?m=t.as(hb):t.code==="AEDI"&&(m=t.as(r9)),m?(v=m.message,y=m.mentionCountChange,v.channelType!==Jt.GROUP?[3,6]:(q=this._groupChannelCache.isCachedInMemory(v.channelUrl),[4,this.getChannel(v.channelUrl,!0)])):[3,6];case 5:w=Qn.sent(),x=v instanceof Ii&&v.sender.userId===this._sdkState.userId,C=!1,x?(A=this._sessionManager.currentUser)&&(A.nickname=v.sender.nickname,A.plainProfileUrl=v.sender.plainProfileUrl,A.metaData=v.sender.metaData):w.isReadMessage(v)||y!==0&&!v.silent&&q&&(w._updateUnreadCount(w.unreadMessageCount,w.unreadMentionCount+y),C=!0),!w.lastMessage||w.lastMessage.createdAt<v.createdAt?(w.lastMessage=v,C=!0):w.lastMessage.isIdentical(v)&&(q?w.lastMessage.updatedAt<v.updatedAt&&(w.lastMessage=v,C=!0):C=!0),L=!1,w.lastPinnedMessage&&w.lastPinnedMessage.messageId===v.messageId&&(w.lastPinnedMessage=v,C=!0,L=!0),C&&(this._dispatcher.dispatch(new At({channels:[w],source:L?nt.EVENT_PINNED_MESSAGE_UPDATED:nt.EVENT_MESSAGE_UPDATED})),v.silent&&!x||$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onChannelChanged(w)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})}),L&&$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onPinnedMessageUpdated(w)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})})),this._dispatcher.dispatch(new ii({messages:[v],source:ut.EVENT_MESSAGE_UPDATED})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et,Zt;return P(this,function(Nt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())(qn=je.value).onMessageUpdated(w,v),y!==0&&qn.onMentionReceived(w,v)}catch(La){et={error:La}}finally{try{je&&!je.done&&(Zt=Ze.return)&&Zt.call(Ze)}finally{if(et)throw et.error}}return[2]})})}),Qn.label=6;case 6:return[3,77];case 7:return S=t.as(VU),Ue=S.channelUrl,He=S.channelType,k=S.messageId,He!==Jt.GROUP?[3,9]:[4,this.getChannel(Ue,!0)];case 8:N=Qn.sent(),this._dispatcher.dispatch(new bk({messageIds:[k],source:ut.EVENT_MESSAGE_DELETED})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onMessageDeleted(N,k)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})}),Qn.label=9;case 9:return[3,77];case 10:return(O=t.as(_9).readStatus).channelType!==Jt.GROUP?[3,12]:(q=this._groupChannelCache.isCachedInMemory(O.channelUrl),[4,this.getChannel(O.channelUrl,!0)]);case 11:H=Qn.sent(),q&&H._updateUnreadMemberState(O.reader.userId,O.readAt),O.reader.userId===this._sdkState.userId?q?(H.unreadMessageCount>0||H.unreadMentionCount>0)&&(H._updateUnreadCount(0,0),this._dispatcher.dispatch(new At({channels:[H],source:nt.EVENT_CHANNEL_READ})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onChannelChanged(H)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})})):H.unreadMessageCount!==0&&H.unreadMentionCount!==0||(this._dispatcher.dispatch(new At({channels:[H],source:nt.EVENT_CHANNEL_READ})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onChannelChanged(H)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})})):(this._dispatcher.dispatch(new At({channels:[H],source:nt.EVENT_CHANNEL_READ})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onUnreadMemberStatusUpdated(H)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})})),Qn.label=12;case 12:return[3,77];case 13:return D=t.as(nue),Ue=D.channelUrl,T=D.deliveredStateUpdate,M=T===void 0?{}:T,q=this._groupChannelCache.isCachedInMemory(Ue),[4,this.getChannel(Ue,!0)];case 14:if(z=Qn.sent(),q)for(te in M)z._updateUndeliveredMemberState(te,M[te]);return Object.keys(M).some(function(Ze){return Ze!==Rt._sdkState.userId})&&(this._dispatcher.dispatch(new At({channels:[z],source:nt.EVENT_CHANNEL_DELIVERED})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onUndeliveredMemberStatusUpdated(z)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})})),[3,77];case 15:return he=t.as(i9),Ue=he.channelUrl,He=he.channelType,B=he.event,He!==Jt.GROUP?[3,18]:[4,this.getChannel(Ue,!0)];case 16:return W=Qn.sent(),[4,this.getMessageFromCache(B.messageId)];case 17:(_e=Qn.sent())&&(_e.applyReactionEvent(B),this._dispatcher.dispatch(new ii({messages:[_e],source:ut.EVENT_MESSAGE_REACTION_UPDATED}))),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onReactionUpdated(W,B)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})}),Qn.label=18;case 18:return[3,77];case 19:return(re=t.as(a9).event).channelType!==Jt.GROUP?[3,22]:[4,this.getChannel(re.channelUrl,!0)];case 20:return j=Qn.sent(),[4,this.getMessageFromCache(re.targetMessageId)];case 21:(_e=Qn.sent())&&(_e.applyThreadInfoUpdateEvent(re),this._dispatcher.dispatch(new ii({messages:[_e],source:ut.EVENT_MESSAGE_THREADINFO_UPDATED}))),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onThreadInfoUpdated(j,re)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})}),Qn.label=22;case 22:return[3,77];case 23:ie=t.as(n9).groupChannelMemberCounts,se=[],Qn.label=24;case 24:Qn.trys.push([24,29,30,31]),me=Sn(ie),Me=me.next(),Qn.label=25;case 25:return Me.done?[3,28]:(de=Me.value,Ue=de.channelUrl,ei=de.memberCount,Rr=de.joinedMemberCount,ue=de.updatedAt,[4,this.getChannelFromCache(Ue)]);case 26:(V=Qn.sent())&&V._setLatestMemberCount(ei,Rr,ue)&&se.push(V),Qn.label=27;case 27:return Me=me.next(),[3,25];case 28:return[3,31];case 29:return Q=Qn.sent(),Si={error:Q},[3,31];case 30:try{Me&&!Me.done&&(xl=me.return)&&xl.call(me)}finally{if(Si)throw Si.error}return[7];case 31:return se.length>0&&(this._dispatcher.dispatch(new At({channels:se,source:nt.EVENT_CHANNEL_MEMBER_COUNT_UPDATED})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onChannelMemberCountChanged(se)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})})),[3,77];case 32:return $=t.as(s9),ne=$.event,De=$.status,Ue=$.channelUrl,He=$.channelType,Ue&&He?[4,this.getChannel(Ue,!0)]:[3,77];case 33:return We=Qn.sent(),this._dispatcher.dispatch(new yk({event:ne,source:ut.EVENT_POLL_UPDATED})),$n(De===vU?function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onPollDeleted(We,ne.pollId)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})}:function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onPollUpdated(We,ne)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})}),[3,77];case 34:return Ae=t.as(Nk),we=Ae.event,Ue=Ae.channelUrl,He=Ae.channelType,Ue&&He?[4,this.getChannel(Ue,!0)]:[3,77];case 35:return en=Qn.sent(),this._dispatcher.dispatch(new Qb({event:we,source:ut.EVENT_POLL_VOTED})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onPollVoted(en,we)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})}),[3,77];case 36:if(!(nn=t.as(pd).event).isGroupChannelEvent)return[3,75];switch(nn.category){case Wt.CHANNEL_JOIN:return[3,37];case Wt.CHANNEL_LEAVE:return[3,39];case Wt.CHANNEL_OPERATOR_UPDATE:return[3,43];case Wt.CHANNEL_INVITE:return[3,45];case Wt.CHANNEL_DECLINE_INVITE:return[3,47];case Wt.TYPING_START:case Wt.TYPING_END:return[3,49];case Wt.USER_CHANNEL_MUTE:case Wt.USER_CHANNEL_UNMUTE:return[3,51];case Wt.USER_CHANNEL_BAN:return[3,53];case Wt.USER_CHANNEL_UNBAN:return[3,57];case Wt.CHANNEL_FREEZE:case Wt.CHANNEL_UNFREEZE:return[3,59];case Wt.CHANNEL_HIDE:return[3,61];case Wt.CHANNEL_UNHIDE:return[3,63];case Wt.CHANNEL_DELETED:return[3,65];case Wt.CHANNEL_PROP_CHANGED:return[3,67];case Wt.CHANNEL_META_DATA_CHANGED:return[3,69];case Wt.CHANNEL_META_COUNTERS_CHANGED:return[3,71];case Wt.PINNED_MESSAGE_CHANGED:return[3,73]}return[3,75];case 37:return[4,this.getChannel(nn.channelUrl,!0)];case 38:return un=Qn.sent(),mn=t.as(qce),ln=mn.memberCount,Bn=mn.joinedMemberCount,Gn=mn.members,G=!1,Gn.forEach(function(Ze){un.isExclusive||un.isSuper||un.isBroadcast?G=G||un._setLatestMemberCount(ln,Bn,nn.ts):(Ze.state=Xr.JOINED,un.addMember(Ze,nn.ts),Rt._updateJoinedMemberCount(un)),Ze.userId===Rt._sdkState.userId&&(un.myMemberState=Xr.JOINED)}),this._dispatcher.dispatch(new At({channels:[un],source:nt.EVENT_CHANNEL_JOINED})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){var qn,et;try{for(var Zt=Sn(Gn),Nt=Zt.next();!Nt.done;Nt=Zt.next()){var La=Nt.value;je.onUserJoined(un,La)}}catch(vd){qn={error:vd}}finally{try{Nt&&!Nt.done&&(et=Zt.return)&&et.call(Zt)}finally{if(qn)throw qn.error}}un.isBroadcast&&G&&je.onChannelMemberCountChanged([un])}),[2]})})}),[3,75];case 39:return(Ge=this._leftChannels.get(nn.channelUrl))?(En=Ge.channel,[3,42]):[3,40];case 40:return[4,this.getChannel(nn.channelUrl,!0)];case 41:En=Qn.sent(),Qn.label=42;case 42:return J=En,In=t.as(Kce),ei=In.memberCount,Rr=In.joinedMemberCount,Zn=In.member,jn=!1,zn=Se.of(this._iid).appInfo,J.isExclusive||J.isSuper||J.isBroadcast?jn=J._setLatestMemberCount(ei,Rr,nn.ts):(zn.enabledChannelMemberShipHistory?(J.members.find(function(Ze){return Ze.userId===Zn.userId}).state=Xr.LEFT,J.memberCount=ei):J.removeMember(Zn),this._updateJoinedMemberCount(J)),Zn.userId===this._sdkState.userId?(J.myMemberState=Xr.NONE,J.invitedAt=0,J.joinedAt=0,J._updateUnreadCount(0,0),J.isPublic?this._dispatcher.dispatch(new At({channels:[J],source:nt.EVENT_CHANNEL_LEFT})):(this._markAsLeave(J),this._dispatcher.dispatch(new uu({channelUrls:[J.url],source:nt.EVENT_CHANNEL_LEFT})))):this._dispatcher.dispatch(new At({channels:[J],source:nt.EVENT_CHANNEL_LEFT})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onUserLeft(J,Zn),J.isBroadcast&&jn&&je.onChannelMemberCountChanged([J])}),[2]})})}),[3,75];case 43:return[4,this.getChannel(nn.channelUrl,!0)];case 44:Rn=Qn.sent(),ft=t.as(e9).operators,Xn=ft.map(function(Ze){return Ze.userId});try{for(xn=Sn(Rn.members),Ct=xn.next();!Ct.done;Ct=xn.next())(Be=Ct.value).role=Xn.includes(Be.userId)?eo.OPERATOR:eo.NONE}catch(Ze){Lo={error:Ze}}finally{try{Ct&&!Ct.done&&(Uo=xn.return)&&Uo.call(xn)}finally{if(Lo)throw Lo.error}}return Rn.myRole=Xn.includes(this._sdkState.userId)?eo.OPERATOR:eo.NONE,this._dispatcher.dispatch(new At({channels:[Rn],source:nt.EVENT_CHANNEL_OPERATOR_UPDATED})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onOperatorUpdated(Rn,ft)}),[2]})})}),[3,75];case 45:return[4,this.getChannel(nn.channelUrl,!0)];case 46:vt=Qn.sent(),Kn=t.as(Yce),ei=Kn.memberCount,Rr=Kn.joinedMemberCount,Dn=Kn.inviter,(an=Kn.invitees).forEach(function(Ze){return Ze.state=Xr.INVITED});try{for(lt=Sn(an),pt=lt.next();!pt.done;pt=lt.next())xt=pt.value,vt.isExclusive||vt.isSuper||vt.isBroadcast?vt._setLatestMemberCount(ei,Rr,nn.ts):vt.addMember(xt,nn.ts),this._sdkState.userId===xt.userId&&(vt.hiddenState=da.UNHIDDEN,vt.myMemberState!==Xr.JOINED&&(vt.myMemberState=Xr.INVITED),vt.invitedAt=nn.ts)}catch(Ze){Po={error:Ze}}finally{try{pt&&!pt.done&&(ni=lt.return)&&ni.call(lt)}finally{if(Po)throw Po.error}}return this._dispatcher.dispatch(new At({channels:[vt],source:nt.EVENT_CHANNEL_INVITED})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onUserReceivedInvitation(vt,Dn,an)}),[2]})})}),[3,75];case 47:return[4,this.getChannel(nn.channelUrl,!0)];case 48:return Et=Qn.sent(),pr=t.as(Zce),ei=pr.memberCount,Rr=pr.joinedMemberCount,Xa=pr.inviter,Kr=pr.invitee,Et.isExclusive||Et.isSuper||Et.isBroadcast?Et._setLatestMemberCount(ei,Rr,nn.ts):Et.removeMember(Kr),this._sdkState.userId===Kr.userId?(Et.invitedAt=0,Et.myMemberState=Xr.NONE,Et.isPublic?this._dispatcher.dispatch(new At({channels:[Et],source:nt.EVENT_CHANNEL_DECLINED_INVITE})):this._dispatcher.dispatch(new uu({channelUrls:[Et.url],source:nt.EVENT_CHANNEL_DECLINED_INVITE}))):this._dispatcher.dispatch(new At({channels:[Et],source:nt.EVENT_CHANNEL_DECLINED_INVITE})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onUserDeclinedInvitation(Et,Xa,Kr)}),[2]})})}),[3,75];case 49:return[4,this.getChannel(nn.channelUrl,!0)];case 50:return Xi=Qn.sent(),Oi=nn.category===Wt.TYPING_START,le=t.as(Oi?sue:lue).user,Xi._updateTypingStatus(le,Oi?nn.ts:0),this._dispatcher.dispatch(new At({channels:[Xi],source:nt.EVENT_CHANNEL_TYPING_STATUS_UPDATE})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onTypingStatusUpdated(Xi)}),[2]})})}),[3,75];case 51:return[4,this.getChannel(nn.channelUrl,!0)];case 52:oe=Qn.sent(),xe=nn.category===Wt.USER_CHANNEL_MUTE,(Ie=t.as(xe?FU:HU).user).userId===this._sdkState.userId&&(oe.myMutedState=xe?ll.MUTED:ll.UNMUTED,oe._myMutedRemainingTime=Ie.restrictionInfo.remainingDuration);try{for(Fe=Sn(oe.members),ve=Fe.next();!ve.done;ve=Fe.next())if((Be=ve.value).userId===Ie.userId){Be.isMuted=xe;break}}catch(Ze){Fo={error:Ze}}finally{try{ve&&!ve.done&&(md=Fe.return)&&md.call(Fe)}finally{if(Fo)throw Fo.error}}return this._dispatcher.dispatch(new At({channels:[oe],source:xe?nt.EVENT_CHANNEL_MUTED:nt.EVENT_CHANNEL_UNMUTED,data:Ie.userId})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){xe?je.onUserMuted(oe,Ie):je.onUserUnmuted(oe,Ie)}),[2]})})}),[3,75];case 53:return(Ge=this._leftChannels.get(nn.channelUrl))?(tn=Ge.channel,[3,56]):[3,54];case 54:return[4,this.getChannel(nn.channelUrl,!0)];case 55:tn=Qn.sent(),Qn.label=56;case 56:return Pe=tn,this._markAsLeave(Pe),qe=t.as(BU).user,$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onUserBanned(Pe,qe)}),[2]})})}),[3,75];case 57:return[4,this.getChannel(nn.channelUrl,!0)];case 58:return on=Qn.sent(),An=t.as($U).user,$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onUserUnbanned(on,An)}),[2]})})}),[3,75];case 59:return[4,this.getChannel(nn.channelUrl,!0)];case 60:return at=Qn.sent(),Ke=t.as(zU).freeze,at.isFrozen=Ke,this._dispatcher.dispatch(new At({channels:[at],source:Ke?nt.EVENT_CHANNEL_FROZEN:nt.EVENT_CHANNEL_UNFROZEN})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){Ke?je.onChannelFrozen(at):je.onChannelUnfrozen(at)}),[2]})})}),[3,75];case 61:return[4,this.getChannel(nn.channelUrl,!0)];case 62:return ke=Qn.sent(),Te=t.as(iue),Xe=Te.allowAutoUnhide,Wn=Te.hidePreviousMessages,fn=Te.messageOffsetTimestamp,Xe!==null&&(ke.hiddenState=Xe?da.HIDDEN_ALLOW_AUTO_UNHIDE:da.HIDDEN_PREVENT_AUTO_UNHIDE),Wn!==null&&Wn&&ke._updateUnreadCount(0,0),fn!==null&&(ke.messageOffsetTimestamp=fn),this._dispatcher.dispatch(new At({channels:[ke],source:nt.EVENT_CHANNEL_HIDDEN})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onChannelHidden(ke)}),[2]})})}),[3,75];case 63:return[4,this.getChannel(nn.channelUrl,!0)];case 64:return(Un=Qn.sent()).hiddenState=da.UNHIDDEN,this._dispatcher.dispatch(new At({channels:[Un],source:nt.EVENT_CHANNEL_UNHIDDEN})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onChannelChanged(Un)}),[2]})})}),[3,75];case 65:return[4,this.getChannel(nn.channelUrl,!0)];case 66:return cn=Qn.sent(),this._dispatcher.dispatch(new uu({channelUrls:[nn.channelUrl],source:nt.EVENT_CHANNEL_DELETED})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onChannelDeleted(cn.url,cn.channelType)}),[2]})})}),[3,75];case 67:return[4,this.getChannelWithoutCache(nn.channelUrl,!0)];case 68:return Jn=Qn.sent(),this._dispatcher.dispatch(new At({channels:[Jn],source:nt.EVENT_CHANNEL_UPDATED})),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onChannelChanged(Jn)}),[2]})})}),[3,75];case 69:return[4,this.getChannel(nn.channelUrl,!0)];case 70:return zt=Qn.sent(),Mn=t.as(UU),gt=Mn.created,It=Mn.updated,dr=Mn.deleted,gt&&zt._upsertCachedMetaData(gt,nn.ts),It&&zt._upsertCachedMetaData(It,nn.ts),dr&&zt._removeFromCachedMetaData(dr,nn.ts),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){gt&&je.onMetaDataCreated(zt,gt),It&&je.onMetaDataUpdated(zt,It),dr&&je.onMetaDataDeleted(zt,dr)}),[2]})})}),[3,75];case 71:return[4,this.getChannel(nn.channelUrl,!0)];case 72:return Wr=Qn.sent(),yr=t.as(PU),fr=yr.created,Ht=yr.updated,gi=yr.deleted,$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){fr&&je.onMetaCounterCreated(Wr,fr),Ht&&je.onMetaCounterUpdated(Wr,Ht),gi&&je.onMetaCounterDeleted(Wr,gi)}),[2]})})}),[3,75];case 73:return[4,this.getChannel(nn.channelUrl,!0)];case 74:return Lr=Qn.sent(),Fi=t.as(cue),jt=Fi.pinnedMessageIds,fi=Fi.latestPinnedMessage,(Da=Fi.ts)>Lr._pinnedMessagesUpdatedAt&&(Lr.pinnedMessageIds=jt,Lr.lastPinnedMessage=fi,Lr._pinnedMessagesUpdatedAt=Da,this._dispatcher.dispatch(new At({channels:[Lr],source:nt.EVENT_PINNED_MESSAGE_UPDATED})),$n(function(){return F(Rt,void 0,void 0,function(){var Ze,je,qn,et;return P(this,function(Zt){try{for(Ze=Sn(this._groupChannelHandlers.values()),je=Ze.next();!je.done;je=Ze.next())je.value.onChannelChanged(Lr)}catch(Nt){qn={error:Nt}}finally{try{je&&!je.done&&(et=Ze.return)&&et.call(Ze)}finally{if(qn)throw qn.error}}return[2]})})}),$n(function(){return F(Rt,void 0,void 0,function(){return P(this,function(Ze){return this._groupChannelHandlers.forEach(function(je){je.onPinnedMessageUpdated(Lr)}),[2]})})})),[3,75];case 75:return[3,77];case 76:switch((Ur=t.as(YU).event).category){case g_.USER_BLOCK:El=pb.getDataAsUserBlockEvent(this._iid,Ur),wl=El.blocker,oi=El.blockee,this._groupChannelCache.block(wl.userId,oi.userId);break;case g_.USER_UNBLOCK:fd=pb.getDataAsUserBlockEvent(this._iid,Ur),wl=fd.blocker,oi=fd.blockee,this._groupChannelCache.unblock(wl.userId,oi.userId)}return[3,77];case 77:return[3,79];case 78:if(_r=Qn.sent(),cl(_r))throw _r;return[3,79];case 79:return[2]}})})},n.prototype._markAsLeave=function(t){var e,r=this,a=(e=this._leftChannels.get(t.url))!==null&&e!==void 0?e:{channel:t,ref:0};a.ref++,this._leftChannels.set(t.url,a),setTimeout(function(){a.ref--,a.ref===0&&r._leftChannels.delete(t.url)},1e4)},n.prototype.addHandler=function(t,e){this._groupChannelHandlers.set(t,e)},n.prototype.removeHandler=function(t){this._groupChannelHandlers.delete(t)},n.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},n.prototype.subscribeGroupChannelEvent=function(t,e){this._groupChannelBroadcast.subscribe(t,e)},n.prototype.unsubscribeGroupChannelEvent=function(t){this._groupChannelBroadcast.unsubscribe(t)},n.prototype.subscribeMessageEvent=function(t,e){this._messageBroadcast.subscribe(t,e)},n.prototype.unsubscribeMessageEvent=function(t){this._messageBroadcast.unsubscribe(t)},n.prototype._updateJoinedMemberCount=function(t){t.joinedMemberCount=t.members.filter(function(e){return e.state===Xr.JOINED}).length},n.prototype.getChannel=function(t,e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:vn(ge("string",t)).throw(Le.invalidParameters),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.getChannelFromCache(t)];case 2:return(r=a.sent())?[2,r]:[3,4];case 3:return a.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(t,e)];case 5:return[2,a.sent()]}})})},n.prototype.getChannelWithoutCache=function(t,e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return vn(ge("string",t)).throw(Le.invalidParameters),r=new Ax({channelUrl:t,isInternalCall:e}),[4,this._requestQueue.send(r)];case 1:switch(a=f.sent(),o=a.as(Ox).channel,c=o.unreadMessageCount,h=o.unreadMentionCount,o.myCountPreference){case Ss.UNREAD_MESSAGE_COUNT_ONLY:h=0;break;case Ss.UNREAD_MENTION_COUNT_ONLY:c=0;break;case Ss.OFF:c=0,h=0}return o._updateUnreadCount(c,h),[4,this.upsertChannelsToCache([o])];case 2:return f.sent(),[2,o]}})})},n.prototype.refreshChannel=function(t,e,r){return e===void 0&&(e=!0),r===void 0&&(r=nt.REFRESH_CHANNEL),F(this,void 0,void 0,function(){var a,o,c,h;return P(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),a=new Ax({channelUrl:t,isInternalCall:e}),[4,this._requestQueue.send(a)];case 1:return o=f.sent(),(c=o.as(Ox).channel).myMemberState===Xr.NONE?this._dispatcher.dispatch(new uu({channelUrls:[c.url],source:r})):this._dispatcher.dispatch(new At({channels:[c],source:r})),[3,3];case 2:return(h=f.sent()).code!==kt.NON_AUTHORIZED&&h.code!==kt.NOT_FOUND_IN_DATABASE||this._dispatcher.dispatch(new uu({channelUrls:[t],source:r})),[3,3];case 3:return[2]}})})},n.prototype.getMyGroupChannels=function(t,e,r,a){return a===void 0&&(a=nt.REQUEST_CHANNEL),F(this,void 0,void 0,function(){var o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return o=new Ice(ye(ye({},e),{userId:this._sdkState.userId,token:t,limit:r})),[4,this._requestQueue.send(o)];case 1:return c=v.sent(),h=c.as(Nce),f=h.channels,m=h.token,this._dispatcher.dispatch(new At({channels:f,source:a})),[2,{channels:f,token:m}]}})})},n.prototype.getMessageFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._messageCache.get(t)];case 1:return[2,e.sent()]}})})},n.prototype.getMessagesFromCache=function(t,e,r,a,o){return o===void 0&&(o=cb),F(this,void 0,void 0,function(){return P(this,function(c){switch(c.label){case 0:return[4,this._messageCache.fetch({channelUrl:t,token:e,limit:o,filter:a,backward:r==="next"})];case 1:return[2,c.sent()]}})})},n.prototype.getPollMessagesFromCache=function(t,e,r,a){return a===void 0&&(a=cb),F(this,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,this._messageCache.fetch({channelUrl:t,token:e,limit:a,filter:r,backward:!1,isPollOnly:!0})];case 1:return[2,o.sent()]}})})},n.prototype.getUnsentMessagesFromCache=function(t,e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:t,filter:e})];case 1:return[2,r.sent()]}})})},n.prototype.removeFailedMessageFromCache=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._unsentMessageCache.remove([t])];case 1:return e.sent(),[2]}})})},n.prototype.getCachedMessageCountBetween=function(t,e,r,a){return F(this,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,this._messageCache.countBetween(t,e,new Yl({top:r,bottom:a}))];case 1:return[2,o.sent()]}})})},n.prototype.getMyGroupChannelChangeLogs=function(t,e,r){return r===void 0&&(r=nt.REQUEST_CHANNEL_CHANGELOGS),F(this,void 0,void 0,function(){var a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return a=ye(ye({},_b),e),vn((ge("string",t)||ge("number",t))&&Nx(a)).throw(Le.invalidParameters),o=new Tce(st({userId:this._sdkState.userId,ts:typeof t=="number"?t:null,token:typeof t=="string"?t:null,filter:a})),[4,this._requestQueue.send(o)];case 1:return c=y.sent(),h=c.as(Cce),f=h.updatedChannels,m=h.deletedChannelUrls,v=h.hasMore,f.length>0&&this._dispatcher.dispatch(new At({channels:f,source:r})),m.length>0&&this._dispatcher.dispatch(new uu({channelUrls:m,source:r})),[2,{updatedChannels:f,deletedChannelUrls:m,hasMore:v,token:h.token}]}})})},n.prototype.getGroupChannelCount=function(t){return F(this,void 0,void 0,function(){var e,r,a;return P(this,function(o){switch(o.label){case 0:return e=ye(ye({},p9),t),vn(f9(e)).throw(Le.invalidParameters),r=new Ace({userId:this._sdkState.userId,filter:e}),[4,this._requestQueue.send(r)];case 1:return a=o.sent(),[2,a.as(Oce).groupChannelCount]}})})},n.prototype.getUnreadItemCount=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w,x,C,A,L,S;return P(this,function(k){switch(k.label){case 0:return e=ye(ye({},Ece),t),vn(function(N){return yt(wi,N.keys)}(e)).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.sdkState,o=r.requestQueue,c=new Rce({userId:a.userId,filter:e}),[4,o.send(c)];case 1:return h=k.sent(),f=h.as(Mce),m=f.groupChannelUnreadMentionCount,v=f.groupChannelUnreadMessageCount,y=f.groupChannelInvitationCount,w=f.superGroupChannelUnreadMentionCount,x=f.superGroupChannelUnreadMessageCount,C=f.superGroupChannelInvitationCount,A=f.nonSuperGroupChannelUnreadMentionCount,L=f.nonSuperGroupChannelUnreadMessageCount,S=f.nonSuperGroupChannelInvitationCount,[2,st({groupChannelUnreadMentionCount:m,groupChannelUnreadMessageCount:v,groupChannelInvitationCount:y,superGroupChannelUnreadMentionCount:w,superGroupChannelUnreadMessageCount:x,superGroupChannelInvitationCount:C,nonSuperGroupChannelUnreadMentionCount:A,nonSuperGroupChannelUnreadMessageCount:L,nonSuperGroupChannelInvitationCount:S})]}})})},n.prototype.getTotalUnreadChannelCount=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o;return P(this,function(c){switch(c.label){case 0:return t=Se.of(this._iid),e=t.sdkState,r=t.requestQueue,a=new Dce({userId:e.userId}),[4,r.send(a)];case 1:return o=c.sent(),[2,o.as(Lce).unreadCount]}})})},n.prototype.getTotalUnreadMessageCount=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return e=ye(ye({},wce),t),vn(function(m){return yt("string",m.channelCustomTypesFilter,!0)&&mt(hs,m.superChannelFilter)}(e)).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.sdkState,o=r.requestQueue,c=new Uce({userId:a.userId,filter:e}),[4,o.send(c)];case 1:return h=f.sent(),[2,h.as(Pce).unreadCount]}})})},n.prototype.getTotalScheduledMessageCount=function(t){return t===void 0&&(t={}),F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return e=ye(ye({},xce),t),vn(function(h){return ge("string",h.channelUrl,!0)&&yt(nc,h.scheduledStatus,!0)&&mt(Wi,h.messageTypeFilter)}(e)).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new Fce(e),[4,r.send(a)];case 1:return o=c.sent(),[2,o.as(Hce).count]}})})},n.prototype.getSubscribedTotalUnreadMessageCount=function(){var t=Se.of(this._iid).subscribedUnreadMessageCount;return t.all>=0?t.all:0},n.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var t=0,e=Se.of(this._iid).subscribedUnreadMessageCount;for(var r in e.customTypes)t+=e.customTypes[r];return t},n.prototype.getSubscribedCustomTypeUnreadMessageCount=function(t){var e;return(e=Se.of(this._iid).subscribedUnreadMessageCount.customTypes[t])!==null&&e!==void 0?e:0},n.prototype.createChannel=function(t){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return e=ye(ye({},xg),t),vn(Ix(e)).throw(Le.invalidParameters),e.isPublic||(e.accessCode=null),r=new $ce(ye({userId:this._sdkState.userId},e)),[4,this._requestQueue.send(r)];case 1:return a=c.sent(),o=a.as(zce).channel,[4,this.upsertChannelsToCache([o])];case 2:return c.sent(),[2,o]}})})},n.prototype.markAsReadAll=function(){return F(this,void 0,void 0,function(){var t,e,r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return t=Date.now(),vn(t-this._markAsReadAllLastSentAt>=1e3).throw(Le.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,e=new I8({userId:this._sdkState.userId}),[4,this._requestQueue.send(e)];case 1:m.sent(),r=this._groupChannelCache.channels;try{for(a=Sn(r),o=a.next();!o.done;o=a.next())(c=o.value)._updateUnreadMemberState(this._sdkState.userId,t),c._updateUnreadCount(0,0)}catch(v){h={error:v}}finally{try{o&&!o.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error}}return r.length>0?[4,this.upsertChannelsToCache(r)]:[3,3];case 2:m.sent(),m.label=3;case 3:return[2]}})})},n.prototype.markAsReadWithChannelUrls=function(t){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return e=Date.now(),vn(yt("string",t)&&e-this._markAsReadAllLastSentAt>=1e3).throw(Le.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=e,r=new I8({userId:this._sdkState.userId,channelUrls:t}),[4,this._requestQueue.send(r)];case 1:y.sent(),a=this._groupChannelCache.channels,o=[];try{for(c=Sn(a),h=c.next();!h.done;h=c.next())f=h.value,t.includes(f.url)&&(f._updateUnreadMemberState(this._sdkState.userId,e),f._updateUnreadCount(0,0),o.push(f))}catch(w){m={error:w}}finally{try{h&&!h.done&&(v=c.return)&&v.call(c)}finally{if(m)throw m.error}}return o.length>0?[4,this.upsertChannelsToCache(o)]:[3,3];case 2:y.sent(),y.label=3;case 3:return[2]}})})},n.prototype.markAsDelivered=function(t){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this.getChannel(t)];case 1:return[4,e.sent().markAsDelivered()];case 2:return e.sent(),[2]}})})},n}();(function(n){n[n.IDLE=0]="IDLE",n[n.RUNNING=1]="RUNNING",n[n.END=2]="END"})(Vl||(Vl={}));var Rx,Ec=function(n){function t(e,r,a,o){var c=n.call(this)||this;return c._worker=null,c._state=Vl.IDLE,c._semaphore=null,c._retryCount=0,c._retryLimit=3,c.priority=0,c._worker=r,c}return ee(t,n),Object.defineProperty(t.prototype,"isIdle",{get:function(){return this._state===Vl.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._state===Vl.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDone",{get:function(){return this._state===Vl.END},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),t.prototype._run=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:if(!this.isRunning)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._worker(e)];case 2:return r=o.sent(),this._retryCount=0,this.dispatch("progress",r),r.hasNext?this._run(r.nextToken):this.end(),[3,4];case 3:return a=o.sent(),this.dispatch("error",a),this._retryCount<this._retryLimit?(this._retryCount++,this._run(e)):this.stop(),[3,4];case 4:return[2]}})})},t.prototype.start=function(e){this.isIdle&&(this._state=Vl.RUNNING,this._run(e))},t.prototype.stop=function(){this._state=Vl.IDLE,this.dispatch("stop")},t.prototype.end=function(){this._state=Vl.END,this.dispatch("end")},t}(Qu),Vf=function(n){this.source=n},Ph=function(n){this.source=n},mo={},uue=function(){function n(t){var e=t._iid,r=t.channel,a=t.limit,o=a===void 0?100:a,c=this;this._prevSync=null,this._nextSync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=e,this._channel=r,this._limit=o,this._prevSyncLoopCount=0,this._nextSyncLoopCount=0;var h,f,m=Se.of(this._iid),v=m.sdkState,y=m.dispatcher,w=m.logger;this._metadataKey=(h=v.userId,f=r.url,"sendbird:".concat(h,"@groupchannel/").concat(f,"/message/sync.meta"));var x=function(C,A){return"sendbird:".concat(C,"@groupchannel/").concat(A,"/message/sync")}(v.userId,r.url);this._prevSync=new Ec(x,function(C){return F(c,void 0,void 0,function(){var A,L,S,k,N,O,H;return P(this,function(D){switch(D.label){case 0:return A={hasNext:!0,nextToken:0},this._prevSyncLoopCount++,[4,this.loadMetadata(C)];case 1:if(D.sent(),w.debug("message background prev sync from",(O=this._metadata)===null||O===void 0?void 0:O.range.top),this._metadata.previousComplete)return[3,9];D.label=2;case 2:return D.trys.push([2,5,,8]),[4,Ui.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,!((H=this._metadata.range)===null||H===void 0)&&H.top?this._metadata.range.top:C,{prevResultSize:this._limit,nextResultSize:0,replyType:Ra.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},ut.SYNC_MESSAGE_BACKGROUND)];case 3:return(L=D.sent()).length>0&&(S=L.map(function(T){return T.createdAt}),(N=this._metadata.range).intersect.apply(N,tt([],Yn(S),!1))?this.extendRange(L):this._metadata={range:new Yl({top:Math.min.apply(Math,tt([],Yn(S),!1)),bottom:Math.max.apply(Math,tt([],Yn(S),!1))}),previousComplete:!1}),A.hasNext=L.length>=this._limit&&this._prevSyncLoopCount<1,A.nextToken=this._metadata.range.top,this._metadata.previousComplete=L.length<this._limit,w.debug("message background prev sync progress",A),[4,this.saveMetadata()];case 4:return D.sent(),[3,8];case 5:return k=D.sent(),w.debug("message background prev sync error",k),k instanceof Le&&k.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:D.sent(),D.label=7;case 7:throw k;case 8:return[3,10];case 9:A.hasNext=!1,D.label=10;case 10:return[2,A]}})})}),this._nextSync=new Ec(x,function(C){return F(c,void 0,void 0,function(){var A,L,S,k,N,O,H;return P(this,function(D){switch(D.label){case 0:return A={hasNext:!0,nextToken:0},this._nextSyncLoopCount++,[4,this.loadMetadata(C)];case 1:D.sent(),w.debug("message background next sync from",(O=this._metadata)===null||O===void 0?void 0:O.range.bottom),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Ui.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,!((H=this._metadata.range)===null||H===void 0)&&H.bottom?this._metadata.range.bottom:C,{prevResultSize:0,nextResultSize:this._limit,replyType:Ra.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0},ut.SYNC_MESSAGE_BACKGROUND)];case 3:return(L=D.sent()).length>0&&(S=L.map(function(T){return T.createdAt}),(N=this._metadata.range).intersect.apply(N,tt([],Yn(S),!1))?this.extendRange(L):this._metadata={range:new Yl({top:Math.min.apply(Math,tt([],Yn(S),!1)),bottom:Math.max.apply(Math,tt([],Yn(S),!1))}),previousComplete:!1}),A.hasNext=L.length>=this._limit&&this._nextSyncLoopCount<1,A.nextToken=this._metadata.range.bottom,w.debug("message background next sync progress",A),[4,this.saveMetadata()];case 4:return D.sent(),[3,6];case 5:throw k=D.sent(),w.debug("message background next sync error",k),k;case 6:return[2,A]}})})}),this._connectionEventContext=y.on(function(C){C instanceof ps&&(C.stateType===Gt.CONNECTED?c.resume():c.pause())})}return n.of=function(t,e){return mo[t]||(mo[t]={}),mo[t][e.url]||(mo[t][e.url]=new n({_iid:t,channel:e})),mo[t][e.url].ref++,mo[t][e.url]},n.clear=function(t,e){mo[t]&&mo[t][e]&&(mo[t][e].close(),delete mo[t])},Object.defineProperty(n.prototype,"range",{get:function(){var t;return(t=this._metadata)===null||t===void 0?void 0:t.range},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousComplete",{get:function(){var t;return!!(!((t=this._metadata)===null||t===void 0)&&t.previousComplete)},enumerable:!1,configurable:!0}),n.prototype.isWrappingMessages=function(t){var e;return(e=this.range)===null||e===void 0?void 0:e.includes.apply(e,tt([],Yn(t.map(function(r){return r.createdAt})),!1))},n.prototype.extendRange=function(t){var e;this._metadata&&(e=this._metadata.range).extends.apply(e,tt([],Yn(t.map(function(r){return r.createdAt})),!1))},n.prototype.loadMetadata=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return this._metadata?[3,2]:[4,Se.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:(e=r.sent())?e.range.bottom<t?this._metadata={range:new Yl({}),previousComplete:!1}:this._metadata={range:new Yl(e.range),previousComplete:e.previousComplete}:this._metadata={range:new Yl({}),previousComplete:!1},r.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(t){var e,r,a,o;t===void 0&&(t=Date.now());var c=Se.of(this._iid),h=c.logger;c.connectionManager.isConnected&&(h.debug("message background sync resume()"),this._prevSyncLoopCount=this._nextSyncLoopCount=0,this._metadata&&this._metadata.previousComplete||this._prevSync.start((r=(e=this._metadata)===null||e===void 0?void 0:e.range.top)!==null&&r!==void 0?r:t),this._nextSync.start((o=(a=this._metadata)===null||a===void 0?void 0:a.range.bottom)!==null&&o!==void 0?o:t))},n.prototype.pause=function(){Se.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete mo[this._iid][this._channel.url])},n}(),vo={},hue=function(){function n(t){var e=t._iid,r=t.channel,a=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=e,this._channel=r;var o,c,h=Se.of(this._iid),f=h.logger,m=h.sdkState,v=h.dispatcher;this._metadataKey=(o=m.userId,c=r.url,"sendbird:".concat(o,"@groupchannel/").concat(c,"/message/changelogs.meta"));var y=function(w,x){return"sendbird:".concat(w,"@groupchannel/").concat(x,"/message/changelogs")}(m.userId,this._channel.url);this._sync=new Ec(y,function(){return F(a,void 0,void 0,function(){var w,x,C,A,L,S,k,N;return P(this,function(O){switch(O.label){case 0:return w={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:O.sent(),f.debug("message changelog sync from",(N=this._metadata)===null||N===void 0?void 0:N.token),O.label=2;case 2:return O.trys.push([2,5,,8]),[4,Ui.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,{replyType:Ra.ALL,includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0},ut.SYNC_MESSAGE_CHANGELOGS)];case 3:return x=O.sent(),C=x.updatedMessages,A=x.deletedMessageIds,L=x.hasMore,S=x.token,w.hasNext=L,w.nextToken=S,(C.length>0||A.length>0)&&(this._metadata.token=S),f.debug("message changelog sync progress",w),[4,this.saveMetadata()];case 4:return O.sent(),[3,8];case 5:return k=O.sent(),f.debug("message changelog sync error",k),k instanceof Le&&k.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:O.sent(),O.label=7;case 7:throw k;case 8:return[2,w]}})})}),this._connectionEventContext=v.on(function(w){w instanceof ps&&(w.stateType===Gt.CONNECTED?a.resume():a.pause())})}return n.of=function(t,e){return vo[t]||(vo[t]={}),vo[t][e.url]||(vo[t][e.url]=new n({_iid:t,channel:e})),vo[t][e.url].ref++,vo[t][e.url]},n.clear=function(t,e){vo[t]&&vo[t][e]&&(vo[t][e].close(),delete vo[t])},n.prototype.loadMetadata=function(){return F(this,void 0,void 0,function(){var t,e,r,a;return P(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(t=Se.of(this._iid),e=t.cacheContext,r=t.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:a=o.sent(),this._metadata={token:a?a.token:r},o.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){var t=Se.of(this._iid),e=t.logger;t.connectionManager.isConnected&&(e.debug("message changelog sync resume()"),this._sync.start(0))},n.prototype.pause=function(){var t=Se.of(this._iid),e=t.logger;t.connectionManager.isConnected&&(e.debug("message changelog sync pause()"),this._sync.stop())},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete vo[this._iid][this._channel.url])},n}(),ou={},pue=function(){function n(t){var e=t._iid,r=t.channel,a=t.hasPollMessage,o=this;this._sync=null,this.ref=0,this._metadata=null,this._iid=e,this._channel=r;var c,h,f=Se.of(this._iid),m=f.logger,v=f.sdkState,y=f.dispatcher;this._metadataKey=(c=v.userId,h=r.url,"sendbird:".concat(c,"@groupchannel/").concat(h,"/poll/changelogs.meta"));var w=function(x,C){return"sendbird:".concat(x,"@groupchannel/").concat(C,"/poll/changelogs")}(v.userId,this._channel.url);this._sync=new Ec(w,function(){return F(o,void 0,void 0,function(){var x,C,A,L,S,k,N,O;return P(this,function(H){switch(H.label){case 0:return x={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return H.sent(),m.debug("poll changelog sync from",(O=this._metadata)===null||O===void 0?void 0:O.token),(C=!this._metadata||!this._metadata.token)?[4,a()]:[3,3];case 2:C=!H.sent(),H.label=3;case 3:if(C)return[2,{hasNext:!1,nextToken:0}];this._metadata||(A=Se.of(this._iid).firstConnectedAt,this._metadata={token:A}),H.label=4;case 4:return H.trys.push([4,7,,10]),[4,db.of(this._iid).getPollChangeLogs(this._channel.url,this._channel.channelType,this._metadata.token)];case 5:return L=H.sent(),S=L.hasMore,k=L.token,x.hasNext=S,x.nextToken=k,this._metadata.token=k,m.debug("poll changelog sync progress",x),[4,this.saveMetadata()];case 6:return H.sent(),[3,10];case 7:return N=H.sent(),m.debug("poll changelog sync error",N),N instanceof Le&&N.isInvalidTokenError?[4,this.clearMetadata()]:[3,9];case 8:H.sent(),H.label=9;case 9:throw N;case 10:return[2,x]}})})}),this._connectionEventContext=y.on(function(x){x instanceof ps&&(x.stateType===Gt.CONNECTED?o.resume():o.pause())})}return n.of=function(t,e,r){return ou[t]||(ou[t]={}),ou[t][e.url]||(ou[t][e.url]=new n({_iid:t,channel:e,hasPollMessage:r})),ou[t][e.url].ref++,ou[t][e.url]},n.prototype.loadMetadata=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,Se.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:t=e.sent(),this._metadata=t?{token:t.token}:null,e.label=2;case 2:return[2]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.clearMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){Se.of(this._iid).logger.debug("poll changelog sync resume()"),this._sync.start(0)},n.prototype.pause=function(){Se.of(this._iid).logger.debug("poll changelog sync pause()"),this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete ou[this._iid][this._channel.url])},n}(),fue=function(n){function t(e){var r,a,o,c,h,f,m=this;return(m=n.call(this)||this).method=pn.GET,m.path="".concat(qt(e.channelType),"/").concat(e.channelUrl,"/messages_gap"),m.params=st({prev_start_ts:e.prevStart,prev_end_ts:e.prevEnd,prev_cache_count:e.prevCount,next_start_ts:e.nextStart,next_end_ts:e.nextEnd,next_cache_count:e.nextCount,huge_gap_threshold:(r=e.threshold)!==null&&r!==void 0?r:null,reverse:!0,custom_types:(a=e.customTypes)!==null&&a!==void 0?a:["*"],message_type:(o=e.messageType)!==null&&o!==void 0?o:null,include_reactions:(c=e.includeReactions)===null||c===void 0||c,with_sorted_meta_array:(h=e.includeMetaArray)===null||h===void 0||h,show_subchannel_messages_only:(f=e.showSubchannelMessagesOnly)!==null&&f!==void 0&&f,include_poll_details:!0,checking_continuous_messages:e.checkingContinuousMessages}),m}return ee(t,n),t}(_n),_ue=function(n){function t(e,r){var a,o,c,h,f,m,v=this;return(v=n.call(this,e,r)||this).isHugeGap=r.is_huge_gap,v.prevMessages=((a=r.prev_messages)!==null&&a!==void 0?a:[]).map(function(y){return qa(e,y)}),v.prevHasMore=(o=r.prev_hasmore)!==null&&o!==void 0&&o,v.isContinuousPrevMessages=(c=r.is_continuous_prev_messages)!==null&&c!==void 0&&c,v.nextMessages=((h=r.next_messages)!==null&&h!==void 0?h:[]).map(function(y){return qa(e,y)}),v.nextHasmore=(f=r.next_hasmore)!==null&&f!==void 0&&f,v.isContinuousNextMessages=(m=r.is_continuous_next_messages)!==null&&m!==void 0&&m,v}return ee(t,n),t}(gn),Rk=function(n,t){return n.findIndex(function(e){return e.isIdentical(t)})},mue=function(n,t,e){if(n.length>0){for(var r=Rk(n,t),a=0,o=n.length-1,c=Math.floor((a+o)/2);a<o;){var h=N8(n[c],t,e);if(h>0)o=c,c=Math.floor((a+o)/2);else{if(!(h<0))return{place:c,oldPosition:r};a=c+1,c=Math.floor((a+o)/2)}}return{place:N8(n[c],t,e)>=0?c:c+1,oldPosition:r}}return{place:n.length,oldPosition:-1}},N8=function(n,t,e){switch(e){case ci.LATEST_LAST_MESSAGE:return n.lastMessage&&t.lastMessage?t.lastMessage.createdAt-n.lastMessage.createdAt:n.lastMessage?-1:t.lastMessage?1:t.createdAt-n.createdAt;case ci.CHRONOLOGICAL:return t.createdAt-n.createdAt;case ci.CHANNEL_NAME_ALPHABETICAL:var r=n.name.localeCompare(t.name);return r===0?n.createdAt-t.createdAt:r}},go=function(n,t){return t instanceof Ii?n.findIndex(function(e){return e instanceof Ii&&t.isIdentical(e)}):n.findIndex(function(e){return e.isIdentical(t)})},K3=function(n,t){return n.findIndex(function(e){return e.messageId===t})},W3=function(n,t){if(n.length>0){for(var e=0,r=n.length-1,a=Math.floor((e+r)/2);e<r;){var o=n[a].createdAt-t.createdAt;if(o>0)r=a,a=Math.floor((e+r)/2);else{if(!(o<0))return a;e=a+1,a=Math.floor((e+r)/2)}}return n[a].createdAt>t.createdAt?a:a+1}return n.length},A8=6e5;(function(n){n.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"})(Rx||(Rx={}));var Gf,qf,jf,vue=function(){function n(){}return n.prototype._invokeResponse=function(t,e,r){var a=this;$n(function(){return F(a,void 0,void 0,function(){return P(this,function(o){switch(t){case"local":this._onCacheResult(e,r);break;case"remote":this._onApiResult(e,r)}return[2]})})})},n.prototype.onCacheResult=function(t){return this._onCacheResult=t,this},n.prototype.onApiResult=function(t){return this._onApiResult=t,this},n}(),gue=function(){function n(t,e){var r=e.channel,a=e.filter,o=e.startingPoint,c=e.limit,h=this;this._channel=null,this._messages=[],this._unsentMessages=[],this._backgroundSync=null,this._changelogSync=null,this._pollChangelogSync=null,this._checkMyMutedStateTimer=null,this._iid=t,this._key="mc-".concat(Cc()),this.filter=a!=null?a:new T0,this._channel=r,this._syncRange=new Yl({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint=typeof o=="number"?o:Date.now()+A8,this._limit=c||cb;var f=Gr.of(this._iid);f.subscribeGroupChannelEvent(this._key,{onUpdate:function(x,C,A){var L=Rk(x,h._channel);if(L>=0)switch($n(function(){return F(h,void 0,void 0,function(){var T,M;return P(this,function(q){return T=new Vf(C),this._channel=x[L],yg(C)&&((M=this._handler)===null||M===void 0?void 0:M.onChannelUpdated)&&this._handler.onChannelUpdated(T,this.channel),[2]})})}),C){case nt.EVENT_CHANNEL_UPDATED:var S=!1;for(var k in h._messages)if(h._messages[k].createdAt>=h._channel.messageOffsetTimestamp){S=!0;var N=parseInt(k);if(N>0){var O=h._messages.splice(0,N);h._removeMessagesFromView(O.map(function(T){return T.messageId}),ut.EVENT_MESSAGE_OFFSET_UPDATED)}break}!S&&h._messages.length>0&&h._removeMessagesFromView(h._messages.map(function(T){return T.messageId}),ut.EVENT_MESSAGE_OFFSET_UPDATED);break;case nt.EVENT_CHANNEL_UNMUTED:var H=A;Se.of(h._iid).sdkState.userId===H&&h._clearCheckMyMutedTimer();break;case nt.EVENT_CHANNEL_MUTED:var D=A;Se.of(h._iid).sdkState.userId===D&&h.channel._myMutedRemainingTime!==-1&&h._startCheckMyMutedTimer(h.channel._myMutedRemainingTime);break;case nt.EVENT_CHANNEL_LEFT:h.channel.isPublic&&h._clearCheckMyMutedTimer()}},onRemove:function(x,C){x.indexOf(h.channel.url)>=0&&(h._clearCheckMyMutedTimer(),$n(function(){return F(h,void 0,void 0,function(){var A,L;return P(this,function(S){return A=new Vf(C),!((L=this._handler)===null||L===void 0)&&L.onChannelDeleted&&this._handler.onChannelDeleted(A,this.channel.url),[2]})})}))}}),f.subscribeMessageEvent(this._key,{onUpdate:function(x,C){var A,L,S=[],k=[];try{for(var N=Sn(x),O=N.next();!O.done;O=N.next()){var H=O.value;H.channelUrl===h._channel.url&&(h.filter.match(H)?S.push(H):k.push(H.messageId))}}catch(D){A={error:D}}finally{try{O&&!O.done&&(L=N.return)&&L.call(N)}finally{if(A)throw A.error}}if(au(C)){if(S.length>0)switch(C){case ut.EVENT_MESSAGE_SENT_FAILED:case ut.EVENT_MESSAGE_SENT_SUCCESS:case ut.EVENT_MESSAGE_UPDATED:case ut.EVENT_MESSAGE_THREADINFO_UPDATED:case ut.EVENT_MESSAGE_REACTION_UPDATED:case ut.SYNC_MESSAGE_CHANGELOGS:h._updateMessagesToView(S,C);break;case ut.EVENT_MESSAGE_SENT_PENDING:h._addMessagesToView(S,C);break;case ut.EVENT_MESSAGE_RECEIVED:h.hasNext||h._addMessagesToView(S,C);break;case ut.SYNC_MESSAGE_FILL:h._addMessagesToView(S,C)}k.length>0&&h._removeMessagesFromView(k,C)}},onRemove:function(x,C){h._removeMessagesFromView(x,C)},onRemoveUnsent:function(x,C){h._removeUnsentMessageFromView(x,C)},onPollChangeLogUpdate:function(x,C){h._updatePollsToView(x,C)},onPollUpdate:function(x,C){h._applyPollUpdateEventToView(x,C)},onPollVote:function(x,C){h._applyPollVoteEventToView(x,C)}});var m=Se.of(this._iid),v=m.cacheContext,y=m.dispatcher,w=m.logger;this._channel._updateMessageCollectionLastAccessedAt(),y.dispatch(new At({channels:[this._channel],source:nt.CHANNEL_LASTACCESSEDAT_UPDATED})),!this._channel.isSuper&&v.localCacheEnabled&&(this._backgroundSync=uue.of(this._iid,this._channel),this._backgroundSync.resume(this._startingPoint)),this._changelogSync=hue.of(this._iid,this._channel),this._changelogSync.resume(),this._pollChangelogSync=pue.of(this._iid,this._channel,this._hasPollMessage.bind(this)),this._pollChangelogSync.resume(),this._prevFill=new Ec(this._key,function(x){return F(h,void 0,void 0,function(){var C,A,L,S,k;return P(this,function(N){switch(N.label){case 0:return[4,this._getRemoteMessages(x,{prevLimit:this._limit,source:ut.SYNC_MESSAGE_FILL,checkingContinuousMessages:v.localCacheEnabled})];case 1:return C=N.sent(),A=C.messages,L=C.isContinuousMessages,A.length>0?(S=Math.min.apply(Math,tt([],Yn(A.map(function(O){return O.createdAt})),!1)),this._syncRange.extends(S),L&&((k=this._backgroundSync)===null||k===void 0||k.range.extends(S)),[2,{hasNext:A.length>=this._limit&&this.viewTop<S,nextToken:this._syncRange.top}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._nextFill=new Ec(this._key,function(x){return F(h,void 0,void 0,function(){var C,A,L,S,k;return P(this,function(N){switch(N.label){case 0:return[4,this._getRemoteMessages(x,{nextLimit:this._limit,source:ut.SYNC_MESSAGE_FILL,checkingContinuousMessages:v.localCacheEnabled})];case 1:return C=N.sent(),A=C.messages,L=C.isContinuousMessages,A.length>0?(S=Math.max.apply(Math,tt([],Yn(A.map(function(O){return O.createdAt})),!1)),this._syncRange.extends(S),L&&((k=this._backgroundSync)===null||k===void 0||k.range.extends(S)),[2,{hasNext:!(A.length>=this._limit&&this._hasNext)||this.viewBottom>S,nextToken:this._syncRange.bottom}]):[2,{hasNext:!1,nextToken:0}]}})})}),this._connectionEventContext=y.on(function(x){if(x instanceof ps)switch(x.stateType){case Gt.CONNECTED:h._refreshChannel(nt.SYNC_CHANNEL_CHANGELOGS),di(function(){return F(h,void 0,void 0,function(){var C;return P(this,function(A){switch(A.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(C=A.sent()).isMuted&&C.remainingDuration!==-1&&this._startCheckMyMutedTimer(C.remainingDuration),[2]}})})}),w.debug("check huge gap"),h._checkHugeGap();break;case Gt.LOGOUT:h.dispose();break;default:h._clearCheckMyMutedTimer(),h._prevFill.stop(),h._nextFill.stop()}}),Se.of(this._iid).statLogCollector.put(new Su({type:pl.FEATURE_LOCALCACHE,data:{use_local_cache:v.localCacheEnabled,collection_interface:{message:!0}}}))}return Object.defineProperty(n.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"succeededMessages",{get:function(){return tt([],Yn(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter(function(t){return t.sendingStatus===Ar.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter(function(t){return t.sendingStatus===Ar.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewTop",{get:function(){return Math.min.apply(Math,tt(tt([],Yn(this._messages.map(function(t){return t.createdAt})),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,tt(tt([],Yn(this._messages.map(function(t){return t.createdAt})),!1),[0],!1))},enumerable:!1,configurable:!0}),n.prototype.setMessageCollectionHandler=function(t){this._handler=t},n.prototype._filterUnderOffsetMessage=function(t){return t},n.prototype._addMessagesToView=function(t,e){var r,a,o=this,c=this._filterUnderOffsetMessage(t),h=[],f=[];try{for(var m=Sn(c),v=m.next();!v.done;v=m.next()){var y=v.value;if(e===ut.SYNC_MESSAGE_FILL)if(y.messageId>0){if((A=go(this._messages,y))<0){go(this._unsentMessages,y)<0&&h.push(y);var w=W3(this._messages,y);this._messages.splice(w,0,y)}}else y instanceof Ii&&(A=go(this._unsentMessages,y))<0&&go(this._messages,y)<0&&(this._unsentMessages.push(y),h.push(y));else if(y.messageId>0){if((A=go(this._messages,y))<0){var x=go(this._unsentMessages,y);x<0?h.push(y):(this._unsentMessages.splice(x,1),f.push(y)),w=W3(this._messages,y),this._messages.splice(w,0,y)}else f.push(y),this._messages[A]=y;if(y.updatedAt>0){var C=this._updateChildMessagesInView(y);f.push.apply(f,tt([],Yn(C),!1))}}else if(y instanceof Ii){var A;(A=go(this._unsentMessages,y))<0?go(this._messages,y)<0&&(this._unsentMessages.push(y),h.push(y)):(f.push(y),this._unsentMessages[A]=y)}}}catch(L){r={error:L}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}au(e)&&$n(function(){return F(o,void 0,void 0,function(){var L,S,k;return P(this,function(N){return L=new Ph(e),h.length>0&&((S=this._handler)===null||S===void 0||S.onMessagesAdded(L,this.channel,h)),f.length>0&&((k=this._handler)===null||k===void 0||k.onMessagesUpdated(L,this.channel,f)),[2]})})})},n.prototype._updateChildMessagesInView=function(t){var e=[];return this._messages.forEach(function(r){r.applyParentMessage(t)&&e.push(r)}),e},n.prototype._updatePollsToView=function(t,e){var r,a,o=this,c=[];try{for(var h=Sn(t),f=h.next();!f.done;f=h.next()){var m=f.value,v=K3(this._messages,m.messageId);if(v>=0){var y=this._messages[v];y&&y.applyPoll(m),c.push(y)}}}catch(w){r={error:w}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return c.length>0&&au(e)&&$n(function(){return F(o,void 0,void 0,function(){var w,x;return P(this,function(C){return w=new Ph(e),c.length>0&&((x=this._handler)===null||x===void 0||x.onMessagesUpdated(w,this.channel,c)),[2]})})}),c},n.prototype._applyPollUpdateEventToView=function(t,e){var r=this,a=K3(this._messages,t.messageId);if(a>=0){var o=this._messages[a];o&&o.isUserMessage()&&o.poll&&o.poll.applyPollUpdateEvent(t)&&au(e)&&$n(function(){return F(r,void 0,void 0,function(){var c,h;return P(this,function(f){return c=new Ph(e),(h=this._handler)===null||h===void 0||h.onMessagesUpdated(c,this.channel,[o]),[2]})})})}},n.prototype._applyPollVoteEventToView=function(t,e){var r=this,a=K3(this._messages,t.messageId);if(a>=0){var o=this._messages[a];o&&o.isUserMessage()&&o.poll&&o.poll.applyPollVoteEvent(t)&&au(e)&&$n(function(){return F(r,void 0,void 0,function(){var c,h;return P(this,function(f){return c=new Ph(e),(h=this._handler)===null||h===void 0||h.onMessagesUpdated(c,this.channel,[o]),[2]})})})}},n.prototype._updateMessagesToView=function(t,e){var r,a,o=this,c=[],h=[];try{for(var f=Sn(t),m=f.next();!m.done;m=f.next()){var v,y=m.value;if(y.messageId>0)if((v=go(this._messages,y))>=0)c.push(y),this._messages[v]=y;else{var w=go(this._unsentMessages,y);if(w>=0){var x=this._unsentMessages.splice(w,1);if(this.hasNext&&x.length>0)h.push(x[0]);else{c.push(y);var C=W3(this._messages,y);this._messages.splice(C,0,y)}}}else y instanceof Ii&&(v=go(this._unsentMessages,y))>=0&&(c.push(y),this._unsentMessages[v]=y)}}catch(A){r={error:A}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return au(e)&&$n(function(){return F(o,void 0,void 0,function(){var A,L,S;return P(this,function(k){return A=new Ph(e),c.length>0?(L=this._handler)===null||L===void 0||L.onMessagesUpdated(A,this.channel,c):h.length>0&&((S=this._handler)===null||S===void 0||S.onMessagesDeleted(A,this.channel,[],h)),[2]})})}),c},n.prototype._removeMessagesFromView=function(t,e){var r,a,o=this,c=[],h=[],f=function(w){var x=m._messages.findIndex(function(A){return A.messageId===w});if(x>=0){var C=m._messages[x];c.push(C.messageId),h.push(C),m._messages.splice(x,1)}},m=this;try{for(var v=Sn(t),y=v.next();!y.done;y=v.next())f(y.value)}catch(w){r={error:w}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(r)throw r.error}}return au(e)&&h.length>0&&$n(function(){return F(o,void 0,void 0,function(){var w,x;return P(this,function(C){return w=new Ph(e),(x=this._handler)===null||x===void 0||x.onMessagesDeleted(w,this.channel,c,h),[2]})})}),c},n.prototype._removeUnsentMessageFromView=function(t,e){var r=this._unsentMessages.findIndex(function(a){return a.reqId===t});r>=0&&this._unsentMessages.splice(r,1)},n.prototype._getLocalMessages=function(t,e){var r=e.prevLimit,a=r===void 0?0:r,o=e.nextLimit,c=o===void 0?0:o;return F(this,void 0,void 0,function(){var h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:return h=Gr.of(this._iid),a>0?[4,h.getMessagesFromCache(this._channel.url,t,"prev",this.filter,a)]:[3,2];case 1:return m=C.sent(),[3,3];case 2:m=[],C.label=3;case 3:return f=m,c>0?[4,h.getMessagesFromCache(this._channel.url,t,"next",this.filter,c)]:[3,5];case 4:return y=C.sent(),[3,6];case 5:y=[],C.label=6;case 6:if(v=y,f.length>0&&v.length>0){for(x in w=f.map(function(A){return A.messageId}),v)if(w.includes(v[x].messageId)){v.splice(parseInt(x),1);break}}return[2,tt(tt([],Yn(f),!1),Yn(v),!1).sort(function(A,L){return L.createdAt-A.createdAt})]}})})},n.prototype._getRemoteMessages=function(t,e){var r=e.prevLimit,a=r===void 0?0:r,o=e.nextLimit,c=o===void 0?0:o,h=e.source,f=h===void 0?ut.REQUEST_MESSAGE:h,m=e.reverse,v=m!==void 0&&m,y=e.checkingContinuousMessages,w=y!==void 0&&y;return F(this,void 0,void 0,function(){var x,C;return P(this,function(A){switch(A.label){case 0:return x=Ui.of(this._iid),a>0||c>0?[4,x._getMessagesByTimestampForCollection(this._channel.url,this._channel.channelType,t,ye(ye({},this.filter),{isInclusive:!0,reverse:v,prevResultSize:a,nextResultSize:c,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0,includeParentMessageInfo:!0}),f,w)]:[3,2];case 1:return C=A.sent(),[3,3];case 2:C={messages:[],isContinuousMessages:!1},A.label=3;case 3:return[2,C]}})})},n.prototype._checkHugeGap=function(){var t;return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D=this;return P(this,function(T){switch(T.label){case 0:return this._messages.length>0?(e=this._syncRange.top,r=this.viewTop,a=this._syncRange.bottom,o=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,(c=Gr.of(this._iid)).getCachedMessageCountBetween(this._channel.url,this.filter,r,e)]):[3,4];case 1:return h=T.sent(),[4,c.getCachedMessageCountBetween(this._channel.url,this.filter,a,o)];case 2:return f=T.sent(),[4,qb(function(){return F(D,void 0,void 0,function(){var M,q,z,te,he,B,W,re,j,_e,ie,se,me,Me,de,ue,V,Q,$,ne,De,We=this;return P(this,function(Ae){switch(Ae.label){case 0:return M=Se.of(this._iid),q=M.dispatcher,z=M.requestQueue,te=M.cacheContext,he=new fue(ye({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:r,prevEnd:e,prevCount:h,nextStart:a,nextEnd:o,nextCount:f,checkingContinuousMessages:te.localCacheEnabled},this.filter)),[4,z.send(he)];case 1:return B=Ae.sent(),W=B.as(_ue),re=W.isHugeGap,j=W.prevMessages,_e=j===void 0?[]:j,ie=W.prevHasMore,se=W.isContinuousPrevMessages,me=W.nextMessages,Me=me===void 0?[]:me,de=W.nextHasmore,ue=W.isContinuousNextMessages,re?$n(function(){return F(We,void 0,void 0,function(){var we;return P(this,function(Ue){return(we=this._handler)===null||we===void 0||we.onHugeGapDetected(),[2]})})}):(this._hasPrevious=ie,this._hasNext=de,V=this.viewTop,Q=this.viewBottom,$=Math.min.apply(Math,tt([Number.MAX_SAFE_INTEGER,V],Yn(_e.map(function(we){return we.createdAt})),!1)),ne=Math.max.apply(Math,tt([0,Q],Yn(Me.map(function(we){return we.createdAt})),!1)),q.dispatch(new ii({messages:_e,source:ut.SYNC_MESSAGE_FILL})),q.dispatch(new ii({messages:Me,source:ut.SYNC_MESSAGE_FILL})),this._syncRange.extends($,ne),(se||ue)&&((De=this._backgroundSync)===null||De===void 0||De.range.extends($,ne)),V<$&&this._prevFill.start($),Q>ne&&this._nextFill.start(ne)),[2]}})})},1)];case 3:return T.sent(),[3,8];case 4:m=Se.of(this._iid).cacheContext,v=Math.floor(this._limit/2),y=Date.now(),T.label=5;case 5:return T.trys.push([5,7,,8]),[4,this._getRemoteMessages(y,{prevLimit:v,nextLimit:v,source:ut.SYNC_MESSAGE_FILL,checkingContinuousMessages:m.localCacheEnabled})];case 6:if(w=T.sent(),x=w.messages,C=w.isContinuousMessages,x.length>0){for(A=x.map(function(M){return M.createdAt}),L=0,S=0,k=0;k<A.length;k++)(N=A[k])<=y?L++:N>=y&&S++;this._hasPrevious=L>=v,this._hasNext=S>=v,(H=this._syncRange).extends.apply(H,tt([],Yn(A),!1)),C&&((t=this._backgroundSync)===null||t===void 0||t.range.extends(this._syncRange.top,this._syncRange.bottom)),this._addMessagesToView(x,ut.SYNC_MESSAGE_FILL)}else this._hasPrevious=!1,this._hasNext=!1;return[3,8];case 7:return(O=T.sent())instanceof Le&&O.code===kt.NOT_FOUND_IN_DATABASE&&(this._hasPrevious=!1,this._hasNext=!1),[3,8];case 8:return[2]}})})},n.prototype._loadUnsentMessages=function(){return F(this,void 0,void 0,function(){var t,e;return P(this,function(r){switch(r.label){case 0:return t=Gr.of(this._iid),e=this,[4,t.getUnsentMessagesFromCache(this._channel.url,this.filter)];case 1:return e._unsentMessages=r.sent(),[2]}})})},n.prototype._hasPollMessage=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Gr.of(this._iid).getPollMessagesFromCache(this._channel.url,Date.now()+A8,this.filter,1)];case 1:return t.sent().length>0?[2,!0]:[2,!1]}})})},n.prototype._refreshChannel=function(t){Gr.of(this._iid).refreshChannel(this.channel.url,!0,t)},n.prototype._startCheckMyMutedTimer=function(t){var e=this;this._clearCheckMyMutedTimer(),this._checkMyMutedStateTimer=setTimeout(function(){return F(e,void 0,void 0,function(){var r,a,o,c;return P(this,function(h){switch(h.label){case 0:this._checkMyMutedStateTimer=null,r=!0,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this._channel.getMyMutedInfo()];case 2:return a=h.sent(),r=!a.isMuted,[3,5];case 3:return h.sent(),r=!0,[3,5];case 4:return r&&(this.channel.myMutedState=ll.UNMUTED,o=new Vf(nt.EVENT_CHANNEL_UNMUTED),(c=this._handler)===null||c===void 0||c.onChannelUpdated(o,this.channel)),[7];case 5:return[2]}})})},t+1e3)},n.prototype._clearCheckMyMutedTimer=function(){this._checkMyMutedStateTimer&&(clearTimeout(this._checkMyMutedStateTimer),this._checkMyMutedStateTimer=null)},n.prototype.initialize=function(t){var e=this,r=new vue;this._messages=[],this._unsentMessages=[],this._syncRange=new Yl({}),this._hasNext=!0,this._hasPrevious=!0,this._refreshChannel(nt.REFRESH_CHANNEL),di(function(){return F(e,void 0,void 0,function(){var h;return P(this,function(f){switch(f.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(h=f.sent()).isMuted&&h.remainingDuration!==-1&&this._startCheckMyMutedTimer(h.remainingDuration),[2]}})})});var a=Math.floor(this._limit/2);t===Rx.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:a,nextLimit:a}).then(function(h){return F(e,void 0,void 0,function(){var f;return P(this,function(m){switch(m.label){case 0:return f=this._filterUnderOffsetMessage(h),this._addMessagesToView(f,ut.REQUEST_MESSAGE),[4,this._loadUnsentMessages()];case 1:return m.sent(),r._invokeResponse("local",null,f),[2]}})})}).catch(function(h){if(cl(h))throw h;r._invokeResponse("local",h,null)}).finally(function(){var h=Se.of(e._iid).cacheContext;e._getRemoteMessages(e._startingPoint,{prevLimit:a,nextLimit:a,reverse:!0,checkingContinuousMessages:h.localCacheEnabled}).then(function(f){var m,v,y=f.messages,w=f.isContinuousMessages;e._messages=[];var x=e._filterUnderOffsetMessage(y);if(x.length>0){for(var C=x.map(function(N){return N.createdAt}),A=0,L=0,S=0;S<C.length;S++){var k=C[S];k<=e._startingPoint?A++:k>=e._startingPoint&&L++}e._hasPrevious=A>=a,e._hasNext=L>=a,(m=e._syncRange).extends.apply(m,tt([],Yn(x.map(function(N){return N.createdAt})),!1)),w&&((v=e._backgroundSync)===null||v===void 0||v.range.extends(e._syncRange.top,e._syncRange.bottom)),e._addMessagesToView(x,ut.REQUEST_MESSAGE)}else e._hasPrevious=!1,e._hasNext=!1;r._invokeResponse("remote",null,x)}).catch(function(f){if(cl(f))throw f;r._invokeResponse("remote",f,null)})});var o=Se.of(this._iid),c=o.cacheContext;return o.statLogCollector.put(new Su({type:pl.FEATURE_LOCALCACHE,data:{use_local_cache:c.localCacheEnabled,collection_interface:{message_init_policy:t}}})),r},n.prototype.loadPrevious=function(){return F(this,void 0,void 0,function(){var t,e,r,a=this;return P(this,function(o){switch(o.label){case 0:return this._hasPrevious?(t=this.viewTop,e=[],[4,di(function(){return F(a,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return c=this._filterUnderOffsetMessage,[4,this._getLocalMessages(t,{prevLimit:this._limit})];case 1:return e=c.apply(this,[h.sent()]),[2]}})})})]):[3,5];case 1:return o.sent(),e.length!==0&&this._backgroundSync&&this._backgroundSync.isWrappingMessages(e)?[3,3]:[4,di(function(){return F(a,void 0,void 0,function(){var c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return c=Se.of(this._iid).cacheContext,[4,this._getRemoteMessages(t,{prevLimit:this._limit,checkingContinuousMessages:c.localCacheEnabled})];case 1:return h=y.sent(),e=this._filterUnderOffsetMessage(h.messages),this._hasPrevious=e.length>=this._limit,e.length>0&&((f=this._syncRange).extends.apply(f,tt([],Yn(e.map(function(w){return w.createdAt})),!1)),((m=this._backgroundSync)===null||m===void 0?void 0:m.range.overlap(this._syncRange))&&h.isContinuousMessages&&((v=this._backgroundSync)===null||v===void 0||v.range.extends(this._syncRange.top))),[2]}})})})];case 2:return o.sent(),this._addMessagesToView(e,ut.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=e.length>=this._limit,e.length>0&&((r=this._syncRange).extends.apply(r,tt([],Yn(e.map(function(c){return c.createdAt})),!1)),this._addMessagesToView(e,ut.REQUEST_MESSAGE)),o.label=4;case 4:return[2,e];case 5:return[2,[]]}})})},n.prototype.loadNext=function(){var t;return F(this,void 0,void 0,function(){var e,r,a,o=this;return P(this,function(c){switch(c.label){case 0:return this._hasNext?(e=this.viewBottom,r=[],[4,di(function(){return F(o,void 0,void 0,function(){var h;return P(this,function(f){switch(f.label){case 0:return h=this._filterUnderOffsetMessage,[4,this._getLocalMessages(e,{nextLimit:this._limit})];case 1:return r=h.apply(this,[f.sent()]),[2]}})})})]):[2,[]];case 1:return c.sent(),r.length!==0&&((t=this._backgroundSync)===null||t===void 0?void 0:t.isWrappingMessages(r))?[3,3]:[4,di(function(){return F(o,void 0,void 0,function(){var h,f,m,v,y;return P(this,function(w){switch(w.label){case 0:return h=Se.of(this._iid).cacheContext,[4,this._getRemoteMessages(e,{nextLimit:this._limit,checkingContinuousMessages:h.localCacheEnabled})];case 1:return f=w.sent(),r=this._filterUnderOffsetMessage(f.messages),this._hasNext=r.length>=this._limit,r.length>0&&((m=this._syncRange).extends.apply(m,tt([],Yn(r.map(function(x){return x.createdAt})),!1)),((v=this._backgroundSync)===null||v===void 0?void 0:v.range.overlap(this._syncRange))&&f.isContinuousMessages&&((y=this._backgroundSync)===null||y===void 0||y.range.extends(this._syncRange.bottom))),[2]}})})})];case 2:return c.sent(),this._addMessagesToView(r,ut.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=r.length>=this._limit,r.length>0&&((a=this._syncRange).extends.apply(a,tt([],Yn(r.map(function(h){return h.createdAt})),!1)),this._addMessagesToView(r,ut.REQUEST_MESSAGE)),c.label=4;case 4:return[2,r]}})})},n.prototype.removeFailedMessage=function(t){return F(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:return[4,Gr.of(this._iid).removeFailedMessageFromCache(t)];case 1:return r.sent(),(e=this._unsentMessages.findIndex(function(a){return a.reqId===t}))>-1&&this._unsentMessages.splice(e,1),[2]}})})},n.prototype.dispose=function(){var t,e,r,a=Se.of(this._iid),o=a.cacheContext,c=a.dispatcher;this._clearCheckMyMutedTimer(),this._channel._updateMessageCollectionLastAccessedAt(),c.dispatch(new At({channels:[this._channel],source:nt.CHANNEL_LASTACCESSEDAT_UPDATED})),o.localCacheEnabled&&(this._prevFill.stop(),this._nextFill.stop()),(t=this._backgroundSync)===null||t===void 0||t.close(),(e=this._changelogSync)===null||e===void 0||e.close(),(r=this._pollChangelogSync)===null||r===void 0||r.close();var h=Gr.of(this._iid);h.unsubscribeGroupChannelEvent(this._key),h.unsubscribeMessageEvent(this._key),this._connectionEventContext&&this._connectionEventContext.close()},n}(),bue={coverUrl:null,coverImage:null,isDistinct:null,isPublic:null,isDiscoverable:null,accessCode:null,name:null,data:null,customType:null,operatorUserIds:null,messageSurvivalSeconds:null},yue={hidePreviousMessages:!1,allowAutoUnhide:!0},Eue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.token,c=e.limit,h=e.order,f=e.mutedMemberFilter,m=e.memberStateFilter,v=e.nicknameStartsWithFilter,y=e.operatorFilter;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(va,"/").concat(encodeURIComponent(a),"/members"),r.params={token:o,limit:c,order:h,muted_member_filter:f,member_state_filter:m,nickname_startswith:v,operator_filter:y,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},r}return ee(t,n),t}(_n),wue=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.members=[];var o=r.next,c=r.members;return a.token=o,c&&c.length>0&&(a.members=c.map(function(h){return new no(e,h)})),a}return ee(t,n),t}(gn);(function(n){n.ALL="all",n.MUTED="muted",n.UNMUTED="unmuted"})(Gf||(Gf={})),function(n){n.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",n.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(qf||(qf={})),function(n){n.ALL="all",n.JOINED="joined_only",n.INVITED="invited_only",n.INVITED_BY_FRIEND="invited_by_friend",n.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(jf||(jf={}));var xue=function(n){function t(e,r,a){var o,c,h,f,m=this;return(m=n.call(this,e,r,Jt.GROUP,a)||this).mutedMemberFilter=Gf.ALL,m.memberStateFilter=jf.ALL,m.nicknameStartsWithFilter=null,m.operatorFilter=fb.ALL,m.order=qf.MEMBER_NICKNAME_ALPHABETICAL,m.mutedMemberFilter=(o=a.mutedMemberFilter)!==null&&o!==void 0?o:Gf.ALL,m.memberStateFilter=(c=a.memberStateFilter)!==null&&c!==void 0?c:jf.ALL,m.nicknameStartsWithFilter=(h=a.nicknameStartsWithFilter)!==null&&h!==void 0?h:null,m.order=(f=a.order)!==null&&f!==void 0?f:qf.MEMBER_NICKNAME_ALPHABETICAL,m}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&mt(Gf,this.mutedMemberFilter)&&mt(jf,this.memberStateFilter)&&(ge("string",this.nicknameStartsWithFilter)||this.nicknameStartsWithFilter===null)&&mt(fb,this.operatorFilter)&&mt(qf,this.order)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Eue(ye(ye({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(wue),c=o.members,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(hd),kue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.userId,c=e.accessCode;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(va,"/").concat(encodeURIComponent(a),"/accept"),r.params={user_id:o,access_code:c},r}return ee(t,n),t}(_n),Sue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ms(e,r),a.channel.myMemberState=Xr.JOINED,a}return ee(t,n),t}(gn),Tue=function(n){function t(e){var r=this,a=e.channelUrl,o=e.isDistinct,c=e.isPublic,h=e.isDiscoverable,f=e.coverUrl,m=e.coverImage,v=e.accessCode,y=e.name,w=e.data,x=e.customType,C=e.operatorUserIds,A=e.messageSurvivalSeconds;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(va,"/").concat(encodeURIComponent(a)),r.params=st({is_distinct:o,is_public:c,is_discoverable:h,name:y,data:w,custom_type:x,cover_url:f,cover_file:m,access_code:v,operator_ids:C,message_survival_seconds:A}),r}return ee(t,n),t}(_n),Cue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.channel=new Ms(e,r),a}return ee(t,n),t}(gn),Iue=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(va,"/").concat(encodeURIComponent(a)),r}return ee(t,n),t}(_n);(function(n){function t(e,r){return n.call(this,e,r)||this}ee(t,n)})(gn);var Nue=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=pn.DELETE,r.path="".concat(va,"/").concat(encodeURIComponent(a),"/hide"),r}return ee(t,n),t}(_n);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}ee(t,n)})(gn);var Aue=function(n){function t(e){var r=e.userId,a=e.channelUrl,o=e.countPreference,c=n.call(this)||this;return c.method=pn.PUT,c.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/count_preference/").concat(encodeURIComponent(a)),c.params={count_preference:o},c}return ee(t,n),t}(_n),Oue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.countPreference=r.count_preference,a}return ee(t,n),t}(gn),Rue=function(n){function t(e){var r=this,a=e.channelUrl;return(r=n.call(this)||this).method=pn.PUT,r.path="".concat(va,"/").concat(encodeURIComponent(a),"/reset_user_history"),r}return ee(t,n),t}(_n),Mue=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.messageOffsetTimestamp=null;var o=r.ts_message_offset;return a.messageOffsetTimestamp=o!=null?o:null,a}return ee(t,n),t}(gn),Due=ye(ye({},Tk),{scheduledAt:null,file:null,fileUrl:null,fileName:null,mimeType:null,fileSize:null,thumbnailSizes:null,requireAuth:!1}),Lue=ye(ye({},DU),{scheduledAt:null}),Uue=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=null;e.mentionType===Yi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(m){return m.userId})));var c=e.channelType,h=e.channelUrl,f=e.scheduledMessageId;return a.method=pn.PUT,a.path="".concat(qt(c),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),a.params=st({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:w0.FILE,url:e.fileUrl,file_name:e.fileName,file_size:e.fileSize,file_type:e.mimeType,thumbnails:e.thumbnailSizes?e.thumbnailSizes.map(function(m){return Yb.payloadify(m)}):[],custom_type:e.customType,data:e.data,require_auth:e.requireAuth,mention_type:e.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(m){return za.payloadify(m)}),apple_critical_alert_options:_l.payloadify(e.appleCriticalAlertOptions),push_option:e.pushNotificationDeliveryOption}),a}return ee(t,n),t}(_n),Pue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new ai(e,r),a}return ee(t,n),t}(gn),Fue=function(n){function t(e){var r,a=this;a=n.call(this)||this;var o=null;e.mentionType===Yi.USERS&&(e.mentionedUserIds?o=e.mentionedUserIds:e.mentionedUsers&&(o=e.mentionedUsers.map(function(m){return m.userId})));var c=e.channelType,h=e.channelUrl,f=e.scheduledMessageId;return a.method=pn.PUT,a.path="".concat(qt(c),"/").concat(encodeURIComponent(h),"/scheduled_messages/").concat(encodeURIComponent(f)),a.params=st({req_id:e.reqId,scheduled_at:e.scheduledAt,message_type:w0.USER,message:e.message,custom_type:e.customType,data:e.data,mention_type:e.mentionType,mentioned_user_ids:o,sorted_metaarray:(r=e.metaArrays)===null||r===void 0?void 0:r.map(function(m){return za.payloadify(m)}),apple_critical_alert_options:_l.payloadify(e.appleCriticalAlertOptions),target_langs:e.translationTargetLanguages,push_option:e.pushNotificationDeliveryOption}),a}return ee(t,n),t}(_n);(function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.message=new Ki(e,r),a}ee(t,n)})(gn);var Hue=function(n){function t(e){var r=n.call(this)||this,a=e.channelType,o=e.channelUrl,c=e.scheduledMessageId;return r.method=pn.DELETE,r.path="".concat(qt(a),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(c)),r}return ee(t,n),t}(_n),Bue=function(n){function t(e){var r=n.call(this)||this,a=e.channelType,o=e.channelUrl,c=e.scheduledMessageId;return r.method=pn.POST,r.path="".concat(qt(a),"/").concat(encodeURIComponent(o),"/scheduled_messages/").concat(encodeURIComponent(c),"/send_now"),r}return ee(t,n),t}(_n),$ue=function(n){function t(e){var r=e.userId,a=e.channelUrl,o=e.pushTriggerOption,c=n.call(this)||this;return c.method=pn.PUT,c.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(a)),c.params={push_trigger_option:o},c}return ee(t,n),t}(_n),zue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a.enabled=r.enable,a}return ee(t,n),t}(gn),Vue=function(n){function t(e){var r=e.userId,a=e.channelUrl,o=n.call(this)||this;return o.method=pn.GET,o.path="".concat(Ut,"/").concat(encodeURIComponent(r),"/push_preference/").concat(encodeURIComponent(a)),o}return ee(t,n),t}(_n),Gue=function(n){function t(e,r){var a=n.call(this,e,r)||this;return a.pushTriggerOption=r.push_trigger_option,a.enabled=r.enable,a}return ee(t,n),t}(gn),que=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,c=n.call(this)||this;return c.method=pn.POST,c.path="".concat(qt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(o,"/pin"),c}return ee(t,n),t}(_n);(function(n){function t(e,r){return n.call(this,e,r)||this}ee(t,n)})(gn);var jue=function(n){function t(e){var r=e.channelType,a=e.channelUrl,o=e.messageId,c=n.call(this)||this;return c.method=pn.DELETE,c.path="".concat(qt(r),"/").concat(encodeURIComponent(a),"/messages/").concat(o,"/pin"),c}return ee(t,n),t}(_n);(function(n){function t(e,r){return n.call(this,e,r)||this}ee(t,n)})(gn);var Ss,ll,da,Kue=function(n){function t(e,r){var a=n.call(this,e)||this;return a.message=qa(e,r.message),a}return ee(t,n),t}(Ps),Wue=function(n){function t(e){var r=this,a=e.channelType,o=e.channelUrl,c=e.limit,h=e.token,f=e.includeReactions,m=e.includeMetaArray,v=e.includeParentMessageInfo,y=e.includeThreadInfo,w=e.includePollDetails;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(qt(a),"/").concat(encodeURIComponent(o),"/pinned_messages"),r.params=st({limit:c,token:h,include_reactions:f,with_sorted_meta_array:m,include_thread_info:y,include_parent_message_info:v,include_poll_details:w}),r}return ee(t,n),t}(_n),Que=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.hasMore=null,a.token=null;var o=r.pinned_messages,c=r.has_more,h=r.next;return a.pinnedMessages=o.map(function(f){return new Kue(e,f)}),a.hasMore=c,a.token=h,a}return ee(t,n),t}(gn),Yue=function(n){function t(e,r,a,o){var c=n.call(this,e,r,a,o)||this;return c.includeMetaArray=o.includeMetaArray,c.includeReactions=o.includeReactions,c.includeParentMessageInfo=o.includeParentMessageInfo,c.includeThreadInfo=o.includeThreadInfo,c.includePollDetails=o.includePollDetails,c}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ge("boolean",this.includeMetaArray,!0)&&ge("boolean",this.includeReactions,!0)&&ge("boolean",this.includeParentMessageInfo,!0)&&ge("boolean",this.includeThreadInfo,!0)&&ge("boolean",this.includePollDetails,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new Wue(ye(ye({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=m.sent(),o=a.as(Que),c=o.pinnedMessages,h=o.hasMore,f=o.token,this._token=f,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(hd);(function(n){n.ALL="all",n.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",n.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",n.OFF="off"})(Ss||(Ss={})),function(n){n.MUTED="muted",n.UNMUTED="unmuted"}(ll||(ll={})),function(n){n.UNHIDDEN="unhidden",n.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",n.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(da||(da={}));var Kf,Ms=function(n){function t(e,r){var a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O,H,D,T=this;return(T=n.call(this,e,r)||this)._unreadMemberStateMap=new Map,T._undeliveredMemberStateMap=new Map,T._typingStatus=new Map,T._lastMemberCountUpdated=0,T._typingStarted=0,T._typingEnded=0,T.isDistinct=!1,T.isSuper=!1,T.isBroadcast=!1,T.isExclusive=!1,T.isPublic=!1,T.isDiscoverable=!0,T.isAccessCodeRequired=!1,T.isPushEnabled=!1,T.unreadMessageCount=0,T.unreadMentionCount=0,T.members=[],T.memberCount=0,T.joinedMemberCount=0,T.hiddenState=da.UNHIDDEN,T.lastMessage=null,T.messageOffsetTimestamp=0,T.messageSurvivalSeconds=-1,T.myMemberState=Xr.NONE,T.myRole=eo.NONE,T.myMutedState=ll.UNMUTED,T.myLastRead=0,T.myCountPreference=Ss.ALL,T.myPushTriggerOption=wu.DEFAULT,T.inviter=null,T.invitedAt=0,T.joinedAt=0,T.pinnedMessageIds=[],T.lastPinnedMessage=null,T._pinnedMessagesUpdatedAt=0,T._myMutedRemainingTime=-1,T.channelType=Jt.GROUP,T.isDistinct=(o=r.is_distinct)!==null&&o!==void 0&&o,T.isSuper=(c=r.is_super)!==null&&c!==void 0&&c,T.isBroadcast=(h=r.is_broadcast)!==null&&h!==void 0&&h,T.isExclusive=(f=r.is_exclusive)!==null&&f!==void 0&&f,T.isPublic=(m=r.is_public)!==null&&m!==void 0&&m,T.isDiscoverable=(v=r.is_discoverable)!==null&&v!==void 0?v:T.isPublic,T.isAccessCodeRequired=(y=r.is_access_code_required)!==null&&y!==void 0&&y,T.isPushEnabled=(w=r.is_push_enabled)!==null&&w!==void 0&&w,Array.isArray(r.members)&&(a=T.members).push.apply(a,tt([],Yn(r.members.map(function(M){return new no(T._iid,M)})),!1)),T.memberCount=(x=r.member_count)!==null&&x!==void 0?x:0,T.joinedMemberCount=(C=r.joined_member_count)!==null&&C!==void 0?C:0,T.hiddenState=mt(da,r.hidden_state)?r.hidden_state:da.UNHIDDEN,T.messageOffsetTimestamp=(A=r.ts_message_offset)!==null&&A!==void 0?A:0,T.messageSurvivalSeconds=(L=r.message_survival_seconds)!==null&&L!==void 0?L:-1,T.lastMessage=r.last_message?qa(T._iid,ye({channel_type:T.channelType},r.last_message)):null,r.read_receipt&&Object.keys(r.read_receipt).forEach(function(M){ge("number",r.read_receipt[M])&&T._updateUnreadMemberState(M,r.read_receipt[M])}),r.delivery_receipt&&Object.keys(r.delivery_receipt).forEach(function(M){ge("number",r.delivery_receipt[M])&&T._updateUndeliveredMemberState(M,r.delivery_receipt[M])}),T.myMemberState=mt(Xr,r.member_state)?r.member_state:Xr.NONE,T.myRole=mt(eo,r.my_role)?r.my_role:eo.NONE,mt(ll,r.is_muted)?T.myMutedState=r.is_muted:ge("boolean",r.is_muted)?T.myMutedState=r.is_muted?ll.MUTED:ll.UNMUTED:T.myMutedState=ll.UNMUTED,T.myCountPreference=mt(Ss,r.count_preference)?r.count_preference:Ss.ALL,T.myPushTriggerOption=mt(wu,r.push_trigger_option)?r.push_trigger_option:wu.ALL,T.myLastRead=(S=r.user_last_read)!==null&&S!==void 0?S:0,T.inviter=r.inviter?new St(T._iid,r.inviter):null,T.invitedAt=(k=r.invited_at)!==null&&k!==void 0?k:0,T.joinedAt=(N=r.joined_ts)!==null&&N!==void 0?N:0,T._updateUnreadCount((O=r.unread_message_count)!==null&&O!==void 0?O:0,(H=r.unread_mention_count)!==null&&H!==void 0?H:0),T.pinnedMessageIds=(D=r.pinned_message_ids)!==null&&D!==void 0?D:[],T.lastPinnedMessage=r.latest_pinned_message?qa(T._iid,ye({channel_type:T.channelType},r.latest_pinned_message)):null,T}return ee(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.hiddenState!==da.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTyping",{get:function(){return this._typingStatus.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUnreadMemberState",{get:function(){var e,r,a={};try{for(var o=Sn(this._unreadMemberStateMap),c=o.next();!c.done;c=o.next()){var h=Yn(c.value,2),f=h[0],m=h[1];a[f]=m}}catch(v){e={error:v}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return a},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUndeliveredMemberState",{get:function(){var e,r,a={};try{for(var o=Sn(this._undeliveredMemberStateMap),c=o.next();!c.done;c=o.next()){var h=Yn(c.value,2),f=h[0],m=h[1];a[f]=m}}catch(v){e={error:v}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return a},enumerable:!1,configurable:!0}),t.payloadify=function(e){return e?st(ye(ye({},n.payloadify.call(this,e)),{is_access_code_required:e.isAccessCodeRequired,is_distinct:e.isDistinct,is_super:e.isSuper,is_broadcast:e.isBroadcast,is_exclusive:e.isExclusive,is_public:e.isPublic,is_discoverable:e.isDiscoverable,is_muted:e.myMutedState,is_push_enabled:e.isPushEnabled,unread_message_count:e.unreadMessageCount,unread_mention_count:e.unreadMentionCount,push_trigger_option:e.myPushTriggerOption,count_preference:e.myCountPreference,hidden_state:e.hiddenState,member_count:e.memberCount,joined_member_count:e.joinedMemberCount,member_state:e.myMemberState,my_role:e.myRole,user_last_read:e.myLastRead,ts_message_offset:e.messageOffsetTimestamp,message_survival_seconds:e.messageSurvivalSeconds,read_receipt:e.cachedUnreadMemberState,delivery_receipt:e.cachedUndeliveredMemberState,members:e.members.map(function(r){return no.payloadify(r)}),last_message:v_(e.lastMessage),inviter:e.inviter?St.payloadify(e.inviter):null,invited_at:e.invitedAt,joined_ts:e.joinedAt,pinned_message_ids:e.pinnedMessageIds,latest_pinned_message:v_(e.lastPinnedMessage)})):null},t.prototype._shouldUpdateLastMessageWith=function(e){return!(e instanceof Ii&&e.parentMessageId>0&&!e.replyToChannel)&&(!this.lastMessage||this.lastMessage.createdAt<e.createdAt||this.lastMessage.createdAt===e.createdAt&&this.lastMessage.messageId===e.messageId&&this.lastMessage.updatedAt<e.updatedAt)},t.prototype._updateUnreadCount=function(e,r){if(typeof e=="number"&&e>=0)if(this.myCountPreference===Ss.ALL||this.myCountPreference===Ss.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var a=Se.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=a&&e>=a?a:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;else this.unreadMessageCount=0;typeof r=="number"&&r>=0&&(this.myCountPreference===Ss.ALL||this.myCountPreference===Ss.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=r:this.unreadMentionCount=0},t.prototype._updateUnreadMemberState=function(e,r){var a=this._unreadMemberStateMap.get(e);return(!a||a<r)&&(this._unreadMemberStateMap.set(e,r),Se.of(this._iid).sdkState.userId===e&&(this.myLastRead=r),!0)},t.prototype._updateUndeliveredMemberState=function(e,r){var a=this._undeliveredMemberStateMap.get(e);return(!a||a<r)&&(this._undeliveredMemberStateMap.set(e,r),!0)},t.prototype._updateTypingStatus=function(e,r){r===void 0&&(r=new Date().getTime()),r>0?this._typingStatus.set(e.userId,{user:e,ts:r}):this._typingStatus.delete(e.userId)},t.prototype._clearTypingStatus=function(){this._typingStatus.clear(),this._typingStarted=0,this._typingEnded=0},t.prototype._setLatestMemberCount=function(e,r,a){var o=!1;return a>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=a,o=e!==this.memberCount||r!==this.joinedMemberCount,this.memberCount=e,this.joinedMemberCount=r),o},t.prototype.isReadMessage=function(e){var r=Se.of(this._iid).sdkState,a=this._unreadMemberStateMap.get(r.userId);return a&&a>=e.createdAt},t.prototype.serialize=function(){var e=this;return D0(this,function(r){r.cachedUnreadMemberState=e.cachedUnreadMemberState,r.cachedUndeliveredMemberState=e.cachedUndeliveredMemberState})},t.prototype.createMessageCollection=function(e){return e===void 0&&(e={}),new gue(this._iid,ye({channel:this},e))},t.prototype.createMemberListQuery=function(e){return e===void 0&&(e={}),new xue(this._iid,this.url,e)},t.prototype.createPinnedMessageListQuery=function(e){return e===void 0&&(e={}),new Yue(this._iid,this.url,this.channelType,e)},t.prototype.addMember=function(e,r){if(r===void 0&&(r=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var a=this.members.findIndex(function(c){return c.userId===e.userId});if(a>-1){var o=this.members[a];o.state===Xr.JOINED&&(e.state=o.state),this.members.splice(a,1),this.memberCount--}this.members.push(e),this.memberCount++,this._updateUnreadMemberState(e.userId,r),this._updateUndeliveredMemberState(e.userId,r)}},t.prototype.removeMember=function(e){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=e instanceof no?e.userId:e,a=this.members.findIndex(function(o){return o.userId===r});if(a>-1)return this.members.splice(a,1),this.memberCount--,!0}return!1},t.prototype.getUnreadMemberCount=function(e){var r,a;if(e instanceof Ii&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=Se.of(this._iid).sdkState,c=e.createdAt,h=0;try{for(var f=Sn(this.members),m=f.next();!m.done;m=f.next()){var v=m.value;o.userId!==v.userId&&v.state===Xr.JOINED&&e.sender.userId!==v.userId&&(this.cachedUnreadMemberState[v.userId]||0)<c&&h++}}catch(y){r={error:y}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return h}return 0},t.prototype.getUndeliveredMemberCount=function(e){var r,a;if(e instanceof Ii&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var o=Se.of(this._iid).sdkState,c=e.createdAt,h=0;try{for(var f=Sn(this.members),m=f.next();!m.done;m=f.next()){var v=m.value;o.userId!==v.userId&&v.state===Xr.JOINED&&e.sender.userId!==v.userId&&(this.cachedUndeliveredMemberState[v.userId]||0)<c&&h++}}catch(y){r={error:y}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return h}return 0},t.prototype.getReadMembers=function(e,r){var a=this;r===void 0&&(r=!1);var o=Se.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var c=e instanceof Ii?e.sender:null,h=[];return this.members.forEach(function(f){(r||f.userId!==o.userId&&f.userId!==(c==null?void 0:c.userId))&&a._unreadMemberStateMap.get(f.userId)>=e.createdAt&&h.push(f)}),h},t.prototype.getUnreadMembers=function(e,r){var a=this;r===void 0&&(r=!1);var o=Se.of(this._iid).sdkState;if(!o.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var c=e instanceof Ii?e.sender:null,h=[];return this.members.forEach(function(f){(r||f.userId!==o.userId&&f.userId!==(c==null?void 0:c.userId))&&a._unreadMemberStateMap.get(f.userId)<e.createdAt&&h.push(f)}),h},t.prototype.getReadStatus=function(e){var r=this;e===void 0&&(e=!1);var a=Se.of(this._iid).sdkState;if(!a.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var o={};return this.members.forEach(function(c){if(e||c.userId!==a.userId){var h=r._unreadMemberStateMap.get(c.userId);o[c.userId]=new u9(r._iid,{channel_url:r.url,channel_type:r.channelType,user:no.payloadify(c),ts:h})}}),o},t.prototype.getTypingUsers=function(){var e=[];return this._typingStatus.forEach(function(r){var a=r.user;e.push(a)}),e},t.prototype.invalidateTypingStatus=function(){var e=this,r=Se.of(this._iid).typingIndicatorInvalidateTime,a=Date.now(),o=!1;return this._typingStatus.forEach(function(c,h){var f=c.ts;a-f>=r&&(e._typingStatus.delete(h),o=!0)}),o},t.prototype.refresh=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid),r=e.requestQueue,a=e.dispatcher,o=new Ax({channelUrl:this.url}),[4,r.send(o)];case 1:return c=f.sent(),h=c.as(Ox).channel,a.dispatch(new At({channels:[h],source:nt.REQUEST_CHANNEL})),[2,h]}})})},t.prototype.freeze=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,n.prototype.freeze.call(this)];case 1:return e.sent(),Se.of(this._iid).dispatcher.dispatch(new At({channels:[this],source:nt.EVENT_CHANNEL_HIDDEN})),[2]}})})},t.prototype.unfreeze=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,n.prototype.unfreeze.call(this)];case 1:return e.sent(),Se.of(this._iid).dispatcher.dispatch(new At({channels:[this],source:nt.EVENT_CHANNEL_UNHIDDEN})),[2]}})})},t.prototype.updateChannel=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return r=ye(ye({},bue),e),vn(function(y){return ge("string",y.coverUrl,!0)&&(Ai(y.coverImage)||ge("string",y.coverImage)||y.coverImage===null)&&ge("boolean",y.isDistinct,!0)&&ge("boolean",y.isPublic,!0)&&ge("boolean",y.isDiscoverable,!0)&&ge("string",y.accessCode,!0)&&ge("string",y.name,!0)&&ge("string",y.data,!0)&&ge("string",y.customType,!0)&&yt("string",y.operatorUserIds,!0)&&ge("number",y.messageSurvivalSeconds,!0)}(r)).throw(Le.invalidParameters),a=Se.of(this._iid),o=a.dispatcher,c=a.requestQueue,h=new Tue(ye({channelUrl:this.url},r)),[4,c.send(h)];case 1:return f=v.sent(),m=f.as(Cue).channel,o.dispatch(new At({channels:[m],source:nt.EVENT_CHANNEL_UPDATED})),[2,m]}})})},t.prototype.invite=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return vn(e.every(function(a){return a instanceof St})).throw(Le.invalidParameters),[2,this.inviteWithUserIds(e.map(function(a){return a.userId}))]})})},t.prototype.inviteWithUserIds=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f;return P(this,function(m){switch(m.label){case 0:return vn(yt("string",e)).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,o=r.requestQueue,c=new Wce({channelUrl:this.url,userIds:e}),[4,o.send(c)];case 1:return h=m.sent(),f=h.as(Qce).channel,a.dispatch(new At({channels:[f],source:nt.EVENT_CHANNEL_INVITED})),[2,f]}})})},t.prototype.join=function(e){return e===void 0&&(e=null),F(this,void 0,void 0,function(){var r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return vn(ge("string",e)||e===null).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,o=r.sdkState,c=r.requestQueue,h=new Vce({channelUrl:this.url,userId:o.userId,accessCode:e}),[4,c.send(h)];case 1:return f=v.sent(),(m=f.as(Gce).channel).myMemberState=this.myMemberState=Xr.JOINED,a.dispatch(new At({channels:[m],source:nt.EVENT_CHANNEL_JOINED})),[2,this]}})})},t.prototype.leave=function(e){return e===void 0&&(e=!1),F(this,void 0,void 0,function(){var r,a,o,c;return P(this,function(h){switch(h.label){case 0:return r=Se.of(this._iid),a=r.sdkState,o=r.requestQueue,c=new jce({channelUrl:this.url,userId:a.userId,shouldRemoveOperatorStatus:e}),[4,o.send(c)];case 1:return h.sent(),this.myMemberState=Xr.NONE,[2]}})})},t.prototype.acceptInvitation=function(e){return e===void 0&&(e=null),F(this,void 0,void 0,function(){var r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return vn(ge("string",e)||e===null).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,o=r.sdkState,c=r.requestQueue,h=new kue({channelUrl:this.url,userId:o.userId,accessCode:e}),[4,c.send(h)];case 1:return f=v.sent(),(m=f.as(Sue).channel).myMemberState=this.myMemberState=Xr.JOINED,a.dispatch(new At({channels:[m],source:nt.EVENT_CHANNEL_ACCEPTED_INVITE})),[2,this]}})})},t.prototype.declineInvitation=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Xce({channelUrl:this.url,userId:r.userId}),[4,a.send(o)];case 1:return c.sent(),this.myMemberState=Xr.NONE,[2,this]}})})},t.prototype.sendUserMessage=function(e){var r=this,a=new Wl,o=Se.of(this._iid).dispatcher,c=ff.of(this._iid);return n.prototype.sendUserMessage.call(this,e).onPending(function(h){c.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){f&&c.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){r.hiddenState===da.HIDDEN_ALLOW_AUTO_UNHIDE&&(r.hiddenState=da.UNHIDDEN),c.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),Gr.of(r._iid).handlers.map(function(f){return f.onChannelChanged(r)}),o.dispatch(new At({channels:[r],source:nt.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.updateUserMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,c,h,f=this;return P(this,function(m){switch(m.label){case 0:return a=Se.of(this._iid).dispatcher,[4,n.prototype.updateUserMessage.call(this,e,r)];case 1:return o=m.sent(),c=!1,!o.silent&&this._shouldUpdateLastMessageWith(o)&&(this.lastMessage=o,c=!0),h=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===o.messageId&&(this.lastPinnedMessage=o,c=!0,h=!0),c&&(Gr.of(this._iid).handlers.map(function(v){return v.onChannelChanged(f)}),a.dispatch(new At({channels:[this],source:h?nt.EVENT_PINNED_MESSAGE_UPDATED:nt.EVENT_MESSAGE_UPDATED}))),h&&Gr.of(this._iid).handlers.map(function(v){return v.onPinnedMessageUpdated(f)}),a.dispatch(new ii({messages:[o],source:ut.EVENT_MESSAGE_UPDATED})),[2,o]}})})},t.prototype._autoResendUserMessage=function(e){var r=this,a=new Wl,o=Se.of(this._iid).dispatcher,c=ff.of(this._iid);return n.prototype._autoResendUserMessage.call(this,e).onPending(function(h){c.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){c.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){var f=Gr.of(r._iid);c.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new At({channels:[r],source:nt.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.sendFileMessage=function(e){var r=this,a=new Wl,o=Se.of(this._iid).dispatcher,c=ff.of(this._iid);return n.prototype.sendFileMessage.call(this,e).onPending(function(h){c.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){f&&c.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){var f=Gr.of(r._iid);c.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new At({channels:[r],source:nt.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.updateFileMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,c,h,f=this;return P(this,function(m){switch(m.label){case 0:return a=Se.of(this._iid).dispatcher,[4,n.prototype.updateFileMessage.call(this,e,r)];case 1:return o=m.sent(),c=!1,!o.silent&&this._shouldUpdateLastMessageWith(o)&&(this.lastMessage=o,c=!0),h=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===o.messageId&&(this.lastPinnedMessage=o,c=!0,h=!0),c&&(Gr.of(this._iid).handlers.map(function(v){return v.onChannelChanged(f)}),a.dispatch(new At({channels:[this],source:h?nt.EVENT_PINNED_MESSAGE_UPDATED:nt.EVENT_MESSAGE_UPDATED}))),h&&Gr.of(this._iid).handlers.map(function(v){return v.onPinnedMessageUpdated(f)}),a.dispatch(new ii({messages:[o],source:ut.EVENT_MESSAGE_UPDATED})),[2,o]}})})},t.prototype._autoResendFileMessage=function(e){var r=this,a=new Wl,o=Se.of(this._iid).dispatcher,c=ff.of(this._iid);return n.prototype._autoResendFileMessage.call(this,e).onPending(function(h){c.completeCurrentAndProcessNextAutoResend(h),a._trigger(null,h)}).onFailed(function(h,f){c.completeCurrentAndProcessNextAutoResend(f),a._trigger(h,f)}).onSucceeded(function(h){var f=Gr.of(r._iid);c.completeCurrentAndProcessNextAutoResend(h),r._shouldUpdateLastMessageWith(h)&&(r.lastMessage=h),f.handlers.map(function(m){return m.onChannelChanged(r)}),o.dispatch(new At({channels:[r],source:nt.EVENT_MESSAGE_SENT})),a._trigger(null,h)}),a},t.prototype.deleteMessage=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,n.prototype.deleteMessage.call(this,e)];case 1:return r.sent(),e.messageId===0&&e instanceof Ii&&Se.of(this._iid).dispatcher.dispatch(new yU({reqId:e.reqId,source:ut.EVENT_MESSAGE_DELETED})),[2]}})})},t.prototype.hide=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return r=ye(ye({},yue),e),vn(function(w){return ge("boolean",w.hidePreviousMessages)&&ge("boolean",w.allowAutoUnhide)}(r)).throw(Le.invalidParameters),a=Se.of(this._iid),o=a.dispatcher,c=a.sdkState,h=a.requestQueue,f=new tue(ye({channelUrl:this.url,userId:c.userId},r)),[4,h.send(f)];case 1:return m=y.sent(),v=m.as(rue).messageOffsetTimestamp,this.hiddenState=r.allowAutoUnhide?da.HIDDEN_ALLOW_AUTO_UNHIDE:da.HIDDEN_PREVENT_AUTO_UNHIDE,r.hidePreviousMessages&&this._updateUnreadCount(0,0),v&&(this.messageOffsetTimestamp=v),o.dispatch(new At({channels:[this],source:nt.EVENT_CHANNEL_HIDDEN})),[2,this]}})})},t.prototype.unhide=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return e=Se.of(this._iid),r=e.dispatcher,a=e.requestQueue,o=new Nue({channelUrl:this.url}),[4,a.send(o)];case 1:return c.sent(),this.hiddenState=da.UNHIDDEN,r.dispatch(new At({channels:[this],source:nt.EVENT_CHANNEL_UNHIDDEN})),[2,this]}})})},t.prototype.delete=function(){return F(this,void 0,void 0,function(){var e,r;return P(this,function(a){switch(a.label){case 0:return e=Se.of(this._iid).requestQueue,r=new Iue({channelUrl:this.url}),[4,e.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.markAsRead=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m=this;return P(this,function(v){switch(v.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.dispatcher,o=e.requestQueue,c=new Jce({channelUrl:this.url}),[4,o.send(c)];case 1:return h=v.sent(),f=h.as(_9).readStatus,this._updateUnreadMemberState(r.userId,f.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),Gr.of(this._iid).handlers.map(function(y){return y.onChannelChanged(m)})),a.dispatch(new At({channels:[this],source:nt.EVENT_CHANNEL_READ})),[2]}})})},t.prototype.markAsDelivered=function(){return F(this,void 0,void 0,function(){var e,r,a,o;return P(this,function(c){switch(c.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new eue({channelUrl:this.url,userId:r.userId}),[4,a.send(o)];case 1:return c.sent(),[2]}})})},t.prototype.startTyping=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c;return P(this,function(h){return e=Se.of(this._iid),r=e.requestQueue,a=e.typingIndicatorThrottle,(o=new Date().getTime())-this._typingStarted>=a&&(this._typingStarted=o,this._typingEnded=0,c=new aue({channelUrl:this.url,time:this._typingStarted}),r.send(c)),[2]})})},t.prototype.endTyping=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c;return P(this,function(h){return e=Se.of(this._iid),r=e.requestQueue,a=e.typingIndicatorThrottle,(o=new Date().getTime())-this._typingEnded>=a&&(this._typingStarted=0,this._typingEnded=o,c=new oue({channelUrl:this.url,time:this._typingStarted}),r.send(c)),[2]})})},t.prototype.createScheduledUserMessage=function(e){e=ye(ye({},Ole),e),vn(Rle(e)).throw(Le.invalidParameters);var r=new Wl;return this._createScheduledUserMessage(e,r),r},t.prototype.updateScheduledUserMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,c,h;return P(this,function(f){switch(f.label){case 0:return a=ye(ye({},Lue),r),vn(function(m){return LU(m)&&ge("number",m.scheduledAt,!0)}(a)).throw(Le.invalidParameters),o=Se.of(this._iid).requestQueue,c=new Fue(ye({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},a)),[4,o.send(c)];case 1:return h=f.sent(),[2,h.as(GU).message]}})})},t.prototype.createScheduledFileMessage=function(e){var r=this;e=ye(ye({},Mle),e),vn(Dle(e)).throw(Le.invalidParameters);var a=Date.now(),o=this._generateRequestId(),c=new Wl;return So(Ile).then(function(){var h=r._createPendingScheduledFileMessage(e,o,a);$n(function(){return F(r,void 0,void 0,function(){return P(this,function(f){return[2,c._trigger(null,h)]})})})}),Ai(e.file)?this._uploadFileAndUpdateParams(e).then(function(){return r._createScheduledFileMessage(e,c,o,a)}):this._createScheduledFileMessage(e,c,o,a),c},t.prototype.updateScheduledFileMessage=function(e,r){return F(this,void 0,void 0,function(){var a,o,c;return P(this,function(h){switch(h.label){case 0:return a=ye(ye({},Due),r),vn(function(f){return Ck(f)&&ge("number",f.scheduledAt,!0)&&(Ai(f.file)||ge("string",f.fileUrl))&&ge("string",f.fileName,!0)&&ge("string",f.mimeType,!0)&&ge("number",f.fileSize,!0)&&(f.thumbnailSizes===null||f.thumbnailSizes.every(function(m){return ge("object",m)&&m.maxWidth>0&&m.maxHeight>0}))}(a)).throw(Le.invalidParameters),Ai(a.file)?[4,this._uploadFileAndUpdateParams(a)]:[3,2];case 1:h.sent(),h.label=2;case 2:return o=new Uue(ye({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},a)),[4,Se.of(this._iid).requestQueue.send(o)];case 3:return c=h.sent(),[2,c.as(Pue).message]}})})},t.prototype.cancelScheduledMessage=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=new Hue({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,Se.of(this._iid).requestQueue.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.sendScheduledMessageNow=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){switch(a.label){case 0:return r=new Bue({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,Se.of(this._iid).requestQueue.send(r)];case 1:return a.sent(),[2]}})})},t.prototype.getMyPushTriggerOption=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid),r=e.sdkState,a=e.requestQueue,o=new Vue({userId:r.userId,channelUrl:this.url}),[4,a.send(o)];case 1:return c=f.sent(),h=c.as(Gue).pushTriggerOption,this.myPushTriggerOption=h,[2,h]}})})},t.prototype.setMyPushTriggerOption=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return vn(mt(wu,e)).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,o=r.sdkState,c=r.requestQueue,h=new $ue({userId:o.userId,channelUrl:this.url,pushTriggerOption:e}),[4,c.send(h)];case 1:return f=v.sent(),m=f.as(zue).pushTriggerOption,this.myPushTriggerOption=m,a.dispatch(new At({channels:[this],source:nt.EVENT_CHANNEL_UPDATED})),[2,m]}})})},t.prototype.setMyCountPreference=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m;return P(this,function(v){switch(v.label){case 0:return vn(mt(Ss,e)).throw(Le.invalidParameters),r=Se.of(this._iid),a=r.dispatcher,o=r.sdkState,c=r.requestQueue,h=new Aue({channelUrl:this.url,userId:o.userId,countPreference:e}),[4,c.send(h)];case 1:return f=v.sent(),m=f.as(Oue).countPreference,this.myCountPreference=m,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),a.dispatch(new At({channels:[this],source:nt.EVENT_CHANNEL_UPDATED})),[2,m]}})})},t.prototype.resetMyHistory=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return e=Se.of(this._iid),r=e.dispatcher,a=e.requestQueue,o=new Rue({channelUrl:this.url}),[4,a.send(o)];case 1:return c=f.sent(),h=c.as(Mue).messageOffsetTimestamp,this.messageOffsetTimestamp=h,r.dispatch(new At({channels:[this],source:nt.EVENT_CHANNEL_RESET_HISTORY})),[2,this]}})})},t.prototype.pinMessage=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return vn(ge("number",e)&&e>0).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new que({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype.unpinMessage=function(e){return F(this,void 0,void 0,function(){var r,a;return P(this,function(o){switch(o.label){case 0:return vn(ge("number",e)&&e>0).throw(Le.invalidParameters),r=Se.of(this._iid).requestQueue,a=new jue({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,r.send(a)];case 1:return o.sent(),[2]}})})},t.prototype._uploadFileAndUpdateParams=function(e){return F(this,void 0,void 0,function(){var r,a,o,c,h,f,m,v,y,w,x;return P(this,function(C){switch(C.label){case 0:return Ai(e.file)?(r=Se.of(this._iid).requestQueue,a=new wU({file:e.file,channelUrl:this.url,thumbnailSizes:e.thumbnailSizes,requestId:this._generateRequestId()}),[4,r.send(a)]):[3,2];case 1:o=C.sent(),c=o.as(xU),h=c.url,f=c.fileSize,m=f===void 0?e.fileSize:f,v=c.thumbnailSizes,y=v===void 0?e.thumbnailSizes:v,w=c.requireAuth,x=w!==void 0&&w,e.fileUrl=h,e.fileSize=m,e.thumbnailSizes=y,e.requireAuth=x,C.label=2;case 2:return[2]}})})},t}(xx),$d={},Xue=function(){function n(t){var e=t._iid,r=t.limit,a=r===void 0?100:r,o=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadata=null,this._iid=e,this._limit=a;var c,h=Se.of(this._iid),f=h.sdkState,m=h.dispatcher,v=h.logger;this._metadataKey=(c=f.userId,"sendbird:".concat(c,"@groupchannel/sync.meta"));var y=function(w){return"sendbird:".concat(w,"@groupchannel/sync")}(f.userId);this._sync=new Ec(y,function(){return F(o,void 0,void 0,function(){var w,x,C,A,L,S;return P(this,function(k){switch(k.label){case 0:return w={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(k.sent(),v.debug("channel background sync from",this._metadata.token),this._metadata.completed)return[3,9];k.label=2;case 2:return k.trys.push([2,5,,8]),[4,Gr.of(this._iid).getMyGroupChannels(this._metadata.token,{includeEmpty:!0,order:ci.CHRONOLOGICAL},this._limit,nt.SYNC_CHANNEL_BACKGROUND)];case 3:return x=k.sent(),C=x.channels,A=x.token,w.hasNext=C.length>=this._limit&&!!A,w.nextToken=A,this._metadata.token=A,(S=this._metadata.range).extends.apply(S,tt([],Yn(C.map(function(N){return N.createdAt})),!1)),this._metadata.completed=!w.hasNext,v.debug("channel background sync progress",w),[4,this.saveMetadata()];case 4:return k.sent(),[3,8];case 5:return L=k.sent(),v.debug("channel background sync error",L),L instanceof Le&&L.isInvalidTokenError?[4,this.clearMetaData()]:[3,7];case 6:k.sent(),k.label=7;case 7:throw L;case 8:return[3,10];case 9:w.hasNext=!1,w.nextToken="",k.label=10;case 10:return[2,w]}})})}),this._connectionEventContext=m.on(function(w){w instanceof ps&&(w.stateType===Gt.CONNECTED?o.resume():o.pause())})}return n.of=function(t){return $d[t]||($d[t]=new n({_iid:t})),$d[t].ref++,$d[t]},n.clear=function(t){$d[t]&&($d[t].close(),delete $d[t])},Object.defineProperty(n.prototype,"range",{get:function(){var t;return(t=this._metadata)===null||t===void 0?void 0:t.range},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"completed",{get:function(){var t;return!!(!((t=this._metadata)===null||t===void 0)&&t.completed)},enumerable:!1,configurable:!0}),n.prototype.loadMetadata=function(){return F(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:return this._metadata?[3,2]:[4,Se.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:t=e.sent(),this._metadata={token:t?t.token:"",range:new Yl(t?t.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!t&&t.completed},e.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetaData=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){var t,e,r=Se.of(this._iid),a=r.logger;r.connectionManager.isConnected&&(a.debug("channel background sync resume()"),this._sync.start((e=(t=this._metadata)===null||t===void 0?void 0:t.token)!==null&&e!==void 0?e:""))},n.prototype.pause=function(){Se.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete $d[this._iid])},n}(),zd={},Zue=function(){function n(t){var e=t._iid,r=this;this._sync=null,this._connectionEventContext=null,this.ref=0,this._metadataKey=null,this._metadata=null,this._iid=e;var a,o=Se.of(this._iid),c=o.logger,h=o.sdkState,f=o.dispatcher;this._metadataKey=(a=h.userId,"sendbird:".concat(a,"@groupchannel/changelogs.meta"));var m=function(v){return"sendbird:".concat(v,"@groupchannel/changelogs")}(h.userId);this._sync=new Ec(m,function(){return F(r,void 0,void 0,function(){var v,y,w,x,C;return P(this,function(A){switch(A.label){case 0:return v={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:A.sent(),c.debug("channel changelog sync from",this._metadata.token),A.label=2;case 2:return A.trys.push([2,5,,8]),[4,Gr.of(this._iid).getMyGroupChannelChangeLogs(this._metadata.token,{includeEmpty:!0},nt.SYNC_CHANNEL_CHANGELOGS)];case 3:return y=A.sent(),w=y.hasMore,x=y.token,v.hasNext=w,v.nextToken=x,this._metadata.token=x,c.debug("channel changelog sync progress",v),[4,this.saveMetadata()];case 4:return A.sent(),[3,8];case 5:return C=A.sent(),c.debug("channel changelog sync error",C),C instanceof Le&&C.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:A.sent(),A.label=7;case 7:throw C;case 8:return[2,v]}})})}),this._connectionEventContext=f.on(function(v){v instanceof ps&&(v.stateType===Gt.CONNECTED?r.resume():r.pause())})}return n.of=function(t){return zd[t]||(zd[t]=new n({_iid:t})),zd[t].ref++,zd[t]},n.clear=function(t){zd[t]&&(zd[t].close(),delete zd[t])},n.prototype.loadMetadata=function(){return F(this,void 0,void 0,function(){var t,e,r,a;return P(this,function(o){switch(o.label){case 0:return this._metadata?[3,2]:(t=Se.of(this._iid),e=t.cacheContext,r=t.firstConnectedAt,[4,e.preference.get(this._metadataKey)]);case 1:a=o.sent(),this._metadata={token:a?a.token:r},o.label=2;case 2:return[2,this._metadata]}})})},n.prototype.saveMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this._metadata?[4,Se.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.clearMetadata=function(){return F(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,Se.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return t.sent(),this._metadata=null,[2]}})})},n.prototype.resume=function(){Se.of(this._iid).connectionManager.isConnected&&this._sync.start(0)},n.prototype.pause=function(){this._sync.stop()},n.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete zd[this._iid])},n}(),Jue=function(){function n(t,e){var r=e.filter,a=e.order,o=e.limit,c=this;this.channels=[],this._backgroundSync=null,this._changelogSync=null,this._iid=t,this._key="gcc-".concat(Cc()),this._isDisposed=!1,this.filter=r!=null?r:new h9,this.order=a!=null?a:ci.LATEST_LAST_MESSAGE,this._hasMore=!0,this._token="",this._limit=o!=null?o:NU;var h=Se.of(this._iid),f=h.sdkState,m=h.cacheContext,v=h.dispatcher;m.localCacheEnabled&&(this._backgroundSync=Xue.of(t),this._backgroundSync.resume()),this._changelogSync=Zue.of(t),this._changelogSync.resume(),Gr.of(this._iid).subscribeGroupChannelEvent(this._key,{onUpdate:function(y,w){if(yg(w)){var x=y.filter(function(A){return c.filter.match(A,f.userId)}),C=y.filter(function(A){return!c.filter.match(A,f.userId)}).map(function(A){return A.url});x.length>0&&c._addChannelsToView(x,w),C.length>0&&c._removeChannelsFromView(C,w)}},onRemove:function(y,w){c._removeChannelsFromView(y,w)}}),Se.of(this._iid).statLogCollector.put(new Su({type:pl.FEATURE_LOCALCACHE,data:{use_local_cache:m.localCacheEnabled,collection_interface:{group_channel:!0}}})),v.on(function(y){y instanceof ps&&y.stateType===Gt.LOGOUT&&c.dispose()})}return Object.defineProperty(n.prototype,"hasMore",{get:function(){return!this._isDisposed&&this._hasMore},enumerable:!1,configurable:!0}),n.prototype.setGroupChannelCollectionHandler=function(t){this._handler=t},n.prototype._addChannelsToView=function(t,e,r){var a,o,c,h,f=this;r===void 0&&(r=!1);var m=[],v=[],y=[];try{for(var w=Sn(t),x=w.next();!x.done;x=w.next()){var C=x.value,A=mue(this.channels,C,this.order),L=A.place,S=A.oldPosition;if(S===-1)L===this.channels.length?!r&&this._hasMore||(m.push(C),this.channels.push(C)):(m.push(C),this.channels.splice(L,0,C));else switch(e){case nt.EVENT_CHANNEL_UPDATED:case nt.EVENT_MESSAGE_RECEIVED:case nt.SYNC_CHANNEL_CHANGELOGS:case nt.EVENT_MESSAGE_SENT:L!==S?this._hasMore&&L===this.channels.length?y.push(C):(this.channels.splice(S,1),this.channels.splice(S<L?L-1:L,0,C),v.push(C)):(v.push(C),this.channels[S]=C);break;default:v.push(C),this.channels[L]=C}}}catch(H){a={error:H}}finally{try{x&&!x.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(y.length>0)try{for(var k=Sn(y),N=k.next();!N.done;N=k.next()){C=N.value;var O=Rk(this.channels,C);O!==-1&&this.channels.splice(O,1)}}catch(H){c={error:H}}finally{try{N&&!N.done&&(h=k.return)&&h.call(k)}finally{if(c)throw c.error}}yg(e)&&$n(function(){return F(f,void 0,void 0,function(){var H,D,T,M;return P(this,function(q){return H=new Vf(e),m.length>0&&((D=this._handler)===null||D===void 0?void 0:D.onChannelsAdded)&&this._handler.onChannelsAdded(H,m),v.length>0&&((T=this._handler)===null||T===void 0?void 0:T.onChannelsUpdated)&&this._handler.onChannelsUpdated(H,v),y.length>0&&((M=this._handler)===null||M===void 0?void 0:M.onChannelsDeleted)&&this._handler.onChannelsDeleted(H,y.map(function(z){return z.url})),[2]})})})},n.prototype._removeChannelsFromView=function(t,e){var r,a,o=this,c=[],h=function(y){var w=f.channels.findIndex(function(x){return x.url===y});w>=0&&(c.push(f.channels[w].url),f.channels.splice(w,1))},f=this;try{for(var m=Sn(t),v=m.next();!v.done;v=m.next())h(v.value)}catch(y){r={error:y}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}return yg(e)&&c.length>0&&$n(function(){return F(o,void 0,void 0,function(){var y,w;return P(this,function(x){return y=new Vf(e),!((w=this._handler)===null||w===void 0)&&w.onChannelsDeleted&&this._handler.onChannelsDeleted(y,c),[2]})})}),c},n.prototype._getLocalChannels=function(){return F(this,void 0,void 0,function(){var t,e;return P(this,function(r){switch(r.label){case 0:return t=Gr.of(this._iid),e=this.channels.length>0?function(a,o){var c,h;switch(o){case ci.LATEST_LAST_MESSAGE:return(h=(c=a.lastMessage)===null||c===void 0?void 0:c.createdAt)!==null&&h!==void 0?h:a.createdAt;case ci.CHRONOLOGICAL:return a.createdAt;case ci.CHANNEL_NAME_ALPHABETICAL:return a.name}return null}(this.channels[this.channels.length-1],this.order):null,[4,t.getChannelsFromCache(e,this.filter,this.order,this._limit,e?this.channels[this.channels.length-1].url:null)];case 1:return[2,r.sent()]}})})},n.prototype._getRemoteChannels=function(){return F(this,void 0,void 0,function(){var t,e,r;return P(this,function(a){switch(a.label){case 0:return[4,Gr.of(this._iid).getMyGroupChannels(this._token,ye(ye({},this.filter),{order:this.order}),this._limit)];case 1:return t=a.sent(),e=t.channels,r=t.token,this._token=r,this._hasMore=!!r,[2,e]}})})},n.prototype.loadMore=function(){return F(this,void 0,void 0,function(){var t,e,r=this;return P(this,function(a){switch(a.label){case 0:if(this._isDisposed)throw new Le({code:kt.COLLECTION_DISPOSED,message:"Collection has been disposed."});return this._hasMore?(t=Se.of(this._iid).cacheContext,e=[],t.localCacheEnabled&&this._backgroundSync.completed?[3,2]:[4,di(function(){return F(r,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,this._getRemoteChannels()];case 1:return e=o.sent(),[2]}})})})]):[3,5];case 1:a.sent(),a.label=2;case 2:return t.localCacheEnabled&&e.length===0?[4,di(function(){return F(r,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,this._getLocalChannels()];case 1:return e=o.sent(),[2]}})})})]:[3,4];case 3:a.sent(),this._backgroundSync.completed&&(this._hasMore=e.length>=this._limit),a.label=4;case 4:return this._addChannelsToView(e,nt.REQUEST_CHANNEL,!0),[2,e];case 5:return[2,[]]}})})},n.prototype.dispose=function(){var t,e;this._isDisposed||(this._isDisposed=!0,this.channels.length>0&&this.channels.splice(0,this.channels.length),(t=this._backgroundSync)===null||t===void 0||t.close(),(e=this._changelogSync)===null||e===void 0||e.close(),Gr.of(this._iid).unsubscribeGroupChannelEvent(this._key))},n}(),ehe=function(n){function t(e){var r=this,a=e.token,o=e.limit,c=e.order,h=e.includeEmpty,f=e.membershipFilter,m=e.channelNameContainsFilter,v=e.channelUrlsFilter,y=e.customTypesFilter,w=e.customTypeStartsWithFilter,x=e.superChannelFilter,C=e.metadataOrderKeyFilter,A=e.metadataKey,L=e.metadataValues,S=e.metadataValueStartsWith,k=e.includeFrozen,N=e.includeMetaData;return(r=n.call(this)||this).method=pn.GET,r.path=va,r.params=st({token:a,limit:o,order:c,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:h,public_mode:rd.PUBLIC,public_membership_mode:f,name_contains:m,channel_urls:v,custom_types:y,custom_type_startswith:w,super_mode:x,metadata_order_key:C,metadata_key:A,metadata_values:L,metadata_value_startswith:S,show_frozen:k,show_metadata:N}),r}return ee(t,n),t}(_n),nhe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.channels=[],a.ts=null;var o=r.next,c=r.channels,h=r.ts;return a.token=o,c&&c.length>0&&(a.channels=c.map(function(f){return f.ts=h,new Ms(e,f)})),a.ts=typeof h=="number"?h:null,a}return ee(t,n),t}(gn);(function(n){n.ALL="all",n.JOINED="joined"})(Kf||(Kf={}));var the=function(n){function t(e,r){var a,o,c,h,f,m,v,y,w,x,C,A,L,S,k=this;return(k=n.call(this,e,r)||this).includeEmpty=!1,k.includeFrozen=!0,k.includeMetaData=!0,k.channelUrlsFilter=null,k.customTypesFilter=null,k.customTypeStartsWithFilter=null,k.channelNameContainsFilter=null,k.membershipFilter=Kf.ALL,k.superChannelFilter=hs.ALL,k.metadataKey=null,k.metadataValues=null,k.metadataOrderKeyFilter=null,k.metadataValueStartsWith=null,k.order=$f.CHRONOLOGICAL,k.includeEmpty=(a=r.includeEmpty)!==null&&a!==void 0&&a,k.includeFrozen=(o=r.includeFrozen)===null||o===void 0||o,k.includeMetaData=(c=r.includeMetaData)===null||c===void 0||c,k.channelUrlsFilter=(h=r.channelUrlsFilter)!==null&&h!==void 0?h:null,k.customTypesFilter=(f=r.customTypesFilter)!==null&&f!==void 0?f:null,k.customTypeStartsWithFilter=(m=r.customTypeStartsWithFilter)!==null&&m!==void 0?m:null,k.channelNameContainsFilter=(v=r.channelNameContainsFilter)!==null&&v!==void 0?v:null,k.membershipFilter=(y=r.membershipFilter)!==null&&y!==void 0?y:Kf.ALL,k.superChannelFilter=(w=r.superChannelFilter)!==null&&w!==void 0?w:hs.ALL,k.metadataKey=(x=r.metadataKey)!==null&&x!==void 0?x:null,k.metadataValues=(C=r.metadataValues)!==null&&C!==void 0?C:null,k.metadataOrderKeyFilter=(A=r.metadataOrderKeyFilter)!==null&&A!==void 0?A:null,k.metadataValueStartsWith=(L=r.metadataValueStartsWith)!==null&&L!==void 0?L:null,k.order=(S=r.order)!==null&&S!==void 0?S:$f.CHRONOLOGICAL,k}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ge("boolean",this.includeEmpty)&&ge("boolean",this.includeFrozen)&&ge("boolean",this.includeMetaData)&&ge("string",this.channelNameContainsFilter,!0)&&yt("string",this.channelUrlsFilter,!0)&&yt("string",this.customTypesFilter,!0)&&ge("string",this.customTypeStartsWithFilter,!0)&&mt(Kf,this.membershipFilter)&&mt(hs,this.superChannelFilter)&&mt($f,this.order)&&ge("string",this.metadataOrderKeyFilter,!0)&&ge("string",this.metadataKey,!0)&&yt("string",this.metadataValues,!0)&&ge("string",this.metadataValueStartsWith,!0)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h,f,m,v;return P(this,function(y){switch(y.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,r=Se.of(this._iid),a=r.requestQueue,o=r.dispatcher,c=new ehe(ye(ye({},this),{token:this._token})),[4,a.send(c)]):[3,2]):[3,5];case 1:return h=y.sent(),f=h.as(nhe),m=f.channels,v=f.token,this._token=v,this._hasNext=!!v,o.dispatch(new At({channels:m,source:nt.REQUEST_CHANNEL})),this._isLoading=!1,[2,m];case 2:return[2,e];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(ud),rhe=function(n){function t(e){e===void 0&&(e={});var r=n.call(this)||this;return Object.keys(e).forEach(function(a){r.hasOwnProperty(a)&&(r[a]=e[a])}),r}return ee(t,n),t}(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onUserJoined=bt,e.onUserLeft=bt,e.onUserReceivedInvitation=bt,e.onUserDeclinedInvitation=bt,e.onChannelHidden=bt,e.onUnreadMemberStatusUpdated=bt,e.onUndeliveredMemberStatusUpdated=bt,e.onTypingStatusUpdated=bt,e.onPollUpdated=bt,e.onPollVoted=bt,e.onPollDeleted=bt,e.onPinnedMessageUpdated=bt,e}return ee(t,n),t}(o9)),ihe=function(n){function t(e){var r=this,a=e.token,o=e.limit,c=e.order,h=e.reverse,f=e.channelUrl,m=e.messageTypeFilter,v=e.scheduledStatus;return(r=n.call(this)||this).method=pn.GET,r.path="".concat(uU),r.params=st({limit:o,reverse:h,channel_url:f,order:c,status:v}),a&&(r.params.token=a),m&&(r.params.message_type=m),r}return ee(t,n),t}(_n),ahe=function(n){function t(e,r){var a=n.call(this,e,r)||this;a.token=null,a.scheduledMessages=[];var o=r.next,c=r.scheduled_messages;return a.token=o,a.scheduledMessages=c.map(function(h){return qa(e,h)}),a}return ee(t,n),t}(gn),she=function(n){function t(e,r){var a,o,c,h,f,m=this;return(m=n.call(this,e,r)||this).channelUrl=null,m.order=null,m.reverse=!1,m.scheduledStatus=null,m.messageTypeFilter=Wi.ALL,m.channelUrl=(a=r.channelUrl)!==null&&a!==void 0?a:null,m.order=(o=r.order)!==null&&o!==void 0?o:null,m.reverse=(c=r.reverse)!==null&&c!==void 0&&c,m.scheduledStatus=(h=r.scheduledStatus)!==null&&h!==void 0?h:null,m.messageTypeFilter=(f=r.messageTypeFilter)!==null&&f!==void 0?f:Wi.ALL,m}return ee(t,n),t.prototype._validate=function(){return n.prototype._validate.call(this)&&ge("string",this.channelUrl,!0)&&(mt(kx,this.order)||this.order===null)&&ge("boolean",this.reverse)&&(yt(nc,this.scheduledStatus)||this.scheduledStatus===null)&&mt(Wi,this.messageTypeFilter)},t.prototype.next=function(){return F(this,void 0,void 0,function(){var e,r,a,o,c,h;return P(this,function(f){switch(f.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=Se.of(this._iid).requestQueue,r=new ihe(ye(ye({},this),{token:this._token})),[4,e.send(r)]):[3,2]:[3,5];case 1:return a=f.sent(),o=a.as(ahe),c=o.scheduledMessages,h=o.token,this._token=h,this._hasNext=!!h,this._isLoading=!1,[2,c];case 2:return[2,[]];case 3:throw Le.queryInProgress;case 4:return[3,6];case 5:throw Le.invalidParameters;case 6:return[2]}})})},t}(ud),ohe=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.name="groupChannel",e}return ee(t,n),t.prototype.init=function(e,r){var a=r.sdkState,o=r.dispatcher,c=r.sessionManager,h=r.requestQueue,f=r.logger,m=r.onlineDetector,v=r.cacheContext;n.prototype.init.call(this,e,{sdkState:a,dispatcher:o,sessionManager:c,requestQueue:h,logger:f,onlineDetector:m,cacheContext:v}),this._manager=new Gr(e,{sdkState:a,cacheContext:v,dispatcher:o,sessionManager:c,requestQueue:h,logger:f})},t.prototype.createGroupChannelCollection=function(e){return e===void 0&&(e={}),new Jue(this._iid,e)},t.prototype.createMyGroupChannelListQuery=function(e){return e===void 0&&(e={}),new m9(this._iid,e)},t.prototype.createPublicGroupChannelListQuery=function(e){return e===void 0&&(e={}),new the(this._iid,e)},t.prototype.createScheduledMessageListQuery=function(e){return e===void 0&&(e={}),new she(this._iid,e)},t.prototype.addGroupChannelHandler=function(e,r){vn(ge("string",e)&&r instanceof rhe).throw(Le.invalidParameters),this._manager.addHandler(e,r)},t.prototype.removeGroupChannelHandler=function(e){vn(ge("string",e)).throw(Le.invalidParameters),this._manager.removeHandler(e)},t.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildGroupChannelFromSerializedData=function(e){return this._manager.buildGroupChannelFromSerializedData(e)},t.prototype.buildGroupChannelListQueryFromSerializedData=function(e){return this._manager.buildGroupChannelListQueryFromSerializedData(e)},t.prototype.buildMemberFromSerializedData=function(e){return this._manager.buildMemberFromSerializedData(e)},t.prototype.getChannel=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return vn(ge("string",e)).throw(Le.invalidParameters),[2,this._manager.getChannel(e)]})})},t.prototype.getChannelWithoutCache=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return vn(ge("string",e)).throw(Le.invalidParameters),[2,this._manager.getChannelWithoutCache(e)]})})},t.prototype.getMyGroupChannelChangeLogsByToken=function(e,r){return r===void 0&&(r={}),F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=ye(ye({},_b),r),vn(ge("string",e)&&Nx(a)).throw(Le.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getMyGroupChannelChangeLogsByTimestamp=function(e,r){return r===void 0&&(r={}),F(this,void 0,void 0,function(){var a;return P(this,function(o){switch(o.label){case 0:return a=ye(ye({},_b),r),vn(ge("number",e)&&Nx(a)).throw(Le.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,a)];case 1:return[2,o.sent()]}})})},t.prototype.getGroupChannelCount=function(e){return F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=ye(ye({},p9),e),vn(f9(r)).throw(Le.invalidParameters),[2,this._manager.getGroupChannelCount(r)]})})},t.prototype.getUnreadItemCount=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._manager.getUnreadItemCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getTotalUnreadChannelCount=function(){return F(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,e.sent()]}})})},t.prototype.getTotalUnreadMessageCount=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getTotalScheduledMessageCount=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(e)];case 1:return[2,r.sent()]}})})},t.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){return this._manager.getSubscribedCustomTypeUnreadMessageCount(e)},t.prototype.createChannel=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=ye(ye({},xg),e),vn(Ix(r)).throw(Le.invalidParameters),[2,this._manager.createChannel(r)]})})},t.prototype.createDistinctChannelIfNotExist=function(e){return e===void 0&&(e={}),F(this,void 0,void 0,function(){var r;return P(this,function(a){return r=ye(ye({},xg),e),vn(Ix(r)).throw(Le.invalidParameters),r&&(r.isDistinct=!0),[2,this.createChannel(r)]})})},t.prototype.createChannelWithUserIds=function(e,r,a,o,c,h){return r===void 0&&(r=!1),a===void 0&&(a=null),o===void 0&&(o=null),c===void 0&&(c=""),h===void 0&&(h=""),F(this,void 0,void 0,function(){var f;return P(this,function(m){return f=ye(ye({},xg),{invitedUserIds:e,isDistinct:r,name:a,data:c,customType:h}),typeof o=="string"?f.coverUrl=o:f.coverImage=o,[2,this.createChannel(f)]})})},t.prototype.markAsReadAll=function(){return F(this,void 0,void 0,function(){return P(this,function(e){return this._manager.markAsReadAll(),[2]})})},t.prototype.markAsReadWithChannelUrls=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){return vn(yt("string",e)).throw(Le.invalidParameters),this._manager.markAsReadWithChannelUrls(e),[2]})})},t.prototype.markAsDelivered=function(e){return F(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return vn(ge("string",e)).throw(Le.invalidParameters),[4,this.getChannel(e)];case 1:return[4,r.sent().markAsDelivered()];case 2:return r.sent(),[2]}})})},t}(Wb);const v9={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"],AUDIO:["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp","audio/3gpp2","audio/mp3"]},lhe={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},O8=n=>n===""||n===null,g9=n=>v9.IMAGE.indexOf(n)>=0,b9=n=>v9.VIDEO.indexOf(n)>=0,R8=n=>g9(n)||b9(n),dhe=n=>{var t;return n&&((n==null||(t=n.isUserMessage)===null||t===void 0?void 0:t.call(n))||(n==null?void 0:n.messageType)==="user")},che=n=>dhe(n)&&(n==null?void 0:n.updatedAt)>0,y9=()=>bn({},lhe),uhe=(n,t)=>Array.isArray(t)?[...n,...t]:(n.push(t),n),Mx=n=>Array.isArray(n)?n.reduce(uhe,[]).join(" "):n,hhe=/^((http|https):\/\/)?([a-z\d]+\.)+[a-z]{2,6}(\:[0-9]{1,5})?(\/[-a-zA-Z\d%_.~+&=]*)*(\?[;&a-zA-Z\d%_.~+=-]*)?(\#[-a-zA-Z\d_]*)?$/,phe=n=>hhe.test(n),fhe=(n,t)=>{if(Array.isArray(n)&&Array.isArray(t)&&n.length===t.length){for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return!1},_he=10,mhe=1e3,vhe=6e5,ghe="audio/webm",bhe=128e3,Q3="sendbird-voice-player-provider-root",M8="sendbird-global-audio-player-id",Dx="Voice_message.mp3",kg="audio/mp3;sbu_type=voice";function lo(){return Oe.exports.useContext(RL)}const E9="INITIALIZE_AUDIO_UNIT",w9="SET_CURRENT_PLAYER",x9="ON_VOICE_PLAYER_PLAY",k9="ON_VOICE_PLAYER_PAUSE",S9="ON_CURRENT_TIME_UPDATE",Sg={IDLE:"IDLE",PREPARING:"PREPARING",PLAYING:"PLAYING",PAUSED:"PAUSED",COMPLETED:"COMPLETED"},_f=()=>({audioFile:null,playbackTime:0,duration:1e3,playingStatus:Sg.IDLE}),yhe={currentPlayer:null,currentGroupKey:"",audioStorage:{}};function Ehe(n,t){switch(t.type){case E9:{var e;const{groupKey:c}=t.payload,h=(e=n.audioStorage)!==null&&e!==void 0&&e[c]?n.audioStorage[c]:_f();return h.playingStatus=Sg.PREPARING,bn(bn({},n),{},{audioStorage:bn(bn({},n.audioStorage),{},{[c]:h})})}case w9:{const{audioPlayer:c,groupKey:h}=t.payload;return bn(bn({},n),{},{currentPlayer:c,currentGroupKey:h})}case x9:{var r;const{groupKey:c,audioFile:h}=t.payload,f=(r=n.audioStorage)!==null&&r!==void 0&&r[c]?n.audioStorage[c]:_f();return f.audioFile=h,f.playingStatus=Sg.PLAYING,bn(bn({},n),{},{audioStorage:bn(bn({},n.audioStorage),{},{[c]:f})})}case k9:{var a;const{groupKey:c}=t.payload,h=(a=n.audioStorage)!==null&&a!==void 0&&a[c]?n.audioStorage[c]:_f();h.playingStatus=Sg.PAUSED;const{currentTime:f,duration:m}=n.currentPlayer;return h.playbackTime===h.duration?h.playbackTime=0:f>0&&m>0&&(h.playbackTime=f,h.duration=m),bn(bn({},n),{},{audioStorage:bn(bn({},n.audioStorage),{},{[c]:h})})}case S9:{var o;const{groupKey:c}=t.payload,{currentTime:h,duration:f}=n.currentPlayer,m=(o=n.audioStorage)!==null&&o!==void 0&&o[c]?n.audioStorage[c]:_f();return h>0&&f>0&&(m.playbackTime=h,m.duration=f),bn(bn({},n),{},{audioStorage:bn(bn({},n.audioStorage),{},{[c]:m})})}default:return n}}const Y3=()=>{},whe={currentGroupKey:"",currentPlayer:null,audioStorage:{}},xhe=Oe.exports.createContext({play:Y3,pause:Y3,stop:Y3,voicePlayerStore:whe}),D8=n=>{let{children:t}=n;const[e,r]=Oe.exports.useReducer(Ehe,yhe),{currentGroupKey:a,currentPlayer:o,audioStorage:c}=e,{config:h}=lo(),{logger:f}=h,m=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";a.includes(w)&&(f.info("VoicePlayer: Pause playing(by text)."),v(a))},v=w=>{a===w&&o!==null&&(f.info("VoicePlayer: Pause playing(by group key)."),o==null||o.pause())},y=w=>{let{groupKey:x,audioFile:C=null,audioFileUrl:A=""}=w;x!==a&&v(a);const L=document.getElementById(Q3),S=document.getElementById(M8);S&&L.removeChild(S),f.info("VoicePlayer: Start getting audio file."),new Promise(k=>{var N;C&&(k(C),f.info("VoicePlayer: Use the audioFile instance.")),c!=null&&(N=c[x])!==null&&N!==void 0&&N.audioFile&&(k(c[x].audioFile),f.info("VoicePlayer: Get from the audioStorage.")),r({type:E9,payload:{groupKey:x}}),fetch(A).then(O=>O.blob()).then(O=>{const H=new File([O],Dx,{lastModified:new Date().getTime(),type:kg});k(H),f.info("VoicePlayer: Get the audioFile from URL.")})}).then(k=>{var N,O;f.info("VoicePlayer: Succeeded getting audio file.",k);const H=c[x]||_f(),D=new Audio((N=URL)===null||N===void 0||(O=N.createObjectURL)===null||O===void 0?void 0:O.call(N,k));D.id=M8,D.currentTime=H.playbackTime,D.volume=1,D.loop=!1,D.onplaying=()=>{f.info("VoicePlayer: OnPlaying event is called from audioPlayer",{groupKey:x,audioPlayer:D}),r({type:x9,payload:{groupKey:x,audioFile:k}})},D.onpause=()=>{f.info("VoicePlayer: OnPause event is called from audioPlayer",{groupKey:x,audioPlayer:D}),r({type:k9,payload:{groupKey:x}})},D.ontimeupdate=()=>{r({type:S9,payload:{groupKey:x}})},D==null||D.play(),document.getElementById(Q3).appendChild(D),r({type:w9,payload:{groupKey:x,audioPlayer:D}}),f.info("VoicePlayer: Succeeded playing audio player.",{groupKey:x,audioPlayer:D})})};return R.createElement(xhe.Provider,{value:{play:y,pause:v,stop:m,voicePlayerStore:e}},R.createElement("div",{id:Q3,style:{display:"none"}}),t)},L8=()=>{},khe=Oe.exports.createContext({start:L8,stop:L8,isRecordable:!1}),She=n=>{const{children:t}=n,{config:e}=lo(),{logger:r,isVoiceMessageEnabled:a}=e,[o,c]=Oe.exports.useState(null),[h,f]=Oe.exports.useState(!1),[m,v]=Oe.exports.useState(null);Oe.exports.useEffect(()=>{a&&!m&&Promise.resolve().then(function(){return n1e}).then(x=>{v(x)})},[]);const y=Oe.exports.useCallback(x=>{var C,A,L;if(a&&!m){r.error("VoiceRecorder: Recording audio processor is being loaded.");return}r.info("VoiceRecorder: Start recording."),o&&(w(),r.info("VoiceRecorder: Previous mediaRecorder is stopped.")),(C=navigator)===null||C===void 0||(A=C.mediaDevices)===null||A===void 0||(L=A.getUserMedia)===null||L===void 0||L.call(A,{audio:!0}).then(S=>{r.info("VoiceRecorder: Succeeded getting media stream.",S),f(!0);const k=new MediaRecorder(S,{mimeType:ghe,audioBitsPerSecond:bhe});k.ondataavailable=N=>{var O,H,D;r.info("VoiceRecorder: Succeeded getting an available data.",N.data);const T=new File([N.data],Dx,{lastModified:new Date().getTime(),type:kg});m==null||m.downsampleToWav(T,M=>{const q=m==null?void 0:m.encodeMp3(M),z=new Blob(q,{type:kg}),te=new File([z],Dx,{lastModified:new Date().getTime(),type:kg});x==null||x.onRecordingEnded(te),r.info("VoiceRecorder: Succeeded converting audio file.",te)}),S==null||(O=S.getAudioTracks)===null||O===void 0||(H=(D=O.call(S)).forEach)===null||H===void 0||H.call(D,M=>M==null?void 0:M.stop()),f(!1)},k==null||k.start(),c(k),x==null||x.onRecordingStarted()}).catch(S=>{r.error("VoiceRecorder: Failed getting media stream.",S),c(null)})},[o,m]),w=Oe.exports.useCallback(()=>{o==null||o.stop(),c(null),f(!1),r.info("VoiceRecorder: Stop recording.")},[o]);return R.createElement(khe.Provider,{value:{start:y,stop:w,isRecordable:h}},t)},Lx=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en";return{en:{MESSAGE_STATUS__YESTERDAY:"Yesterday",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_PREVIEW_MOBILE_LEAVE:"Leave channel",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__MEMBERS__YOU:" (You)",CHANNEL_SETTING__MEMBERS__SELECT_TITLE:"Select members",CHANNEL_SETTING__MEMBERS__OPERATOR:"Operator",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__OPERATORS__ADD_BUTTON:"Add",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL:"All muted members",CHANNEL_SETTING__NO_UNMUTED:"No muted members yet",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned users",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",CHANNEL_SETTING__MODERATION__MUTE:"Mute",CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",CHANNEL_SETTING__MODERATION__BAN:"Ban",CHANNEL_SETTING__MODERATION__UNBAN:"Unban",CHANNEL_SETTING__MODERATION__EMPTY_BAN:"No banned members yet",CHANNEL_SETTING__MODERATION__ALL_BAN:"All banned members",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",OPEN_CHANNEL_CONVERSATION__SELECT_PARTICIPANTS:"Select participants",OPEN_CHANNEL_LIST__TITLE:"Channels",CREATE_OPEN_CHANNEL_LIST__TITLE:"New channel profile",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION:"Channel image",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD:"Upload",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION:"Channel name",CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER:"Enter channel name",CREATE_OPEN_CHANNEL_LIST__SUBMIT:"Create",OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete channel?",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT:"Once deleted, this channel can't be restored.",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE:"Operators",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD:"Add operator",OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL:"All operators",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE:"Muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL:"All muted participants",OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE:"No muted participants yet",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE:"Banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL:"All banned users",OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE:"No banned users yet",OPEN_CHANNEL_SETTINGS__MEMBERS__YOU:" (You)",OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR:"Operator",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR:"Register as operator",OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR:"Unregister operator",OPEN_CHANNEL_SETTING__MODERATION__MUTE:"Mute",OPEN_CHANNEL_SETTING__MODERATION__UNMUTE:"Unmute",OPEN_CHANNEL_SETTING__MODERATION__BAN:"Ban",OPEN_CHANNEL_SETTING__MODERATION__UNBAN:"Unban",TRYING_TO_CONNECT:"Trying to connect\u2026",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",CHANNEL_FROZEN:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",TOOLTIP__UNKNOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTED:"selected",MODAL__CHOOSE_CHANNEL_TYPE__TITLE:"New channel",MODAL__CHOOSE_CHANNEL_TYPE__GROUP:"Group",MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP:"Super group",MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__GROUP:"Group",MODAL__CREATE_CHANNEL__SUPER:"Super group",MODAL__CREATE_CHANNEL__BROADCAST:"Broadcast",MODAL__CREATE_CHANNEL__SELECTED:"selected",MODAL__LEAVE_CHANNEL__TITLE:"Leave this channel?",MODAL__LEAVE_CHANNEL__FOOTER:"Leave",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_MUTED:"You're muted by the operator.",MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_FROZEN:"Channel is frozen.",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",MESSAGE_INPUT__PLACE_HOLDER:"Enter message",MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you're muted",MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT:"You're muted",MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER:"Reply to message",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BUTTON__OK:"OK",BADGE__OVER:"+",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",MESSAGE_MENU__COPY:"Copy",MESSAGE_MENU__REPLY:"Reply",MESSAGE_MENU__THREAD:"Reply in thread",MESSAGE_MENU__OPEN_IN_CHANNEL:"Open in channel",MESSAGE_MENU__EDIT:"Edit",MESSAGE_MENU__RESEND:"Resend",MESSAGE_MENU__DELETE:"Delete",MESSAGE_MENU__SAVE:"Save",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",CONTEXT_MENU_DROPDOWN__SAVE:"Save",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found.",QUOTE_MESSAGE_INPUT__REPLY_TO:"Reply to",QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE:"Photo",QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF:"GIF",QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO:"Video",QUOTED_MESSAGE__REPLIED_TO:"replied to",QUOTED_MESSAGE__CURRENT_USER:"You",QUOTED_MESSAGE__UNAVAILABLE:"Message unavailable",THREAD__HEADER_TITLE:"Thread",CHANNEL__THREAD_REPLY:"reply",CHANNEL__THREAD_REPLIES:"replies",CHANNEL__THREAD_OVER_MAX:"99+",THREAD__THREAD_REPLY:"reply",THREAD__THREAD_REPLIES:"replies",THREAD__INPUT__REPLY_TO_THREAD:"Reply to thread",THREAD__INPUT__REPLY_IN_THREAD:"Reply in thread",MENTION_NAME__NO_NAME:"(No name)",MENTION_COUNT__OVER_LIMIT:"You can mention up to %d times at a time.",UI__FILE_VIEWER__UNSUPPORT:"Unsupported message",VOICE_MESSAGE:"Voice Message"}}[n]};var The={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Che=function(t,e,r){var a,o=The[t];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function X3(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}var Ihe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ahe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ohe={date:X3({formats:Ihe,defaultWidth:"full"}),time:X3({formats:Nhe,defaultWidth:"full"}),dateTime:X3({formats:Ahe,defaultWidth:"full"})},Rhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mhe=function(t,e,r,a){return Rhe[t]};function Wp(n){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",a;if(r==="formatting"&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,c=e!=null&&e.width?String(e.width):o;a=n.formattingValues[c]||n.formattingValues[o]}else{var h=n.defaultWidth,f=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[h]}var m=n.argumentCallback?n.argumentCallback(t):t;return a[m]}}var Dhe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lhe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Uhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Phe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Fhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Hhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Bhe=function(t,e){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$he={ordinalNumber:Bhe,era:Wp({values:Dhe,defaultWidth:"wide"}),quarter:Wp({values:Lhe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Wp({values:Uhe,defaultWidth:"wide"}),day:Wp({values:Phe,defaultWidth:"wide"}),dayPeriod:Wp({values:Fhe,defaultWidth:"wide",formattingValues:Hhe,defaultFormattingWidth:"wide"})};function Qp(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=t.match(a);if(!o)return null;var c=o[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Vhe(h,function(y){return y.test(c)}):zhe(h,function(y){return y.test(c)}),m;m=n.valueCallback?n.valueCallback(f):f,m=e.valueCallback?e.valueCallback(m):m;var v=t.slice(c.length);return{value:m,rest:v}}}function zhe(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function Vhe(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function Ghe(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var a=r[0],o=t.match(n.parsePattern);if(!o)return null;var c=n.valueCallback?n.valueCallback(o[0]):o[0];c=e.valueCallback?e.valueCallback(c):c;var h=t.slice(a.length);return{value:c,rest:h}}}var qhe=/^(\d+)(th|st|nd|rd)?/i,jhe=/\d+/i,Khe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Whe={any:[/^b/i,/^(a|c)/i]},Qhe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yhe={any:[/1/i,/2/i,/3/i,/4/i]},Xhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},t0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r0e={ordinalNumber:Ghe({matchPattern:qhe,parsePattern:jhe,valueCallback:function(t){return parseInt(t,10)}}),era:Qp({matchPatterns:Khe,defaultMatchWidth:"wide",parsePatterns:Whe,defaultParseWidth:"any"}),quarter:Qp({matchPatterns:Qhe,defaultMatchWidth:"wide",parsePatterns:Yhe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qp({matchPatterns:Xhe,defaultMatchWidth:"wide",parsePatterns:Zhe,defaultParseWidth:"any"}),day:Qp({matchPatterns:Jhe,defaultMatchWidth:"wide",parsePatterns:e0e,defaultParseWidth:"any"}),dayPeriod:Qp({matchPatterns:n0e,defaultMatchWidth:"any",parsePatterns:t0e,defaultParseWidth:"any"})},i0e={code:"en-US",formatDistance:Che,formatLong:Ohe,formatRelative:Mhe,localize:$he,match:r0e,options:{weekStartsOn:0,firstWeekContainsDate:1}},T9=i0e;const Mo=R.createContext({stringSet:Lx("en"),dateLocale:T9}),a0e=n=>{const{children:t}=n;return R.createElement(Mo.Provider,{value:n},t)},L0=()=>R.useContext(Mo),C9="0px",I9="sendbird--mobile-mode",N9=R.createContext({mediaQueryBreakPoint:C9,isMobile:!1}),U8=()=>{try{document.querySelector("body").classList.add(I9)}catch{}},P8=()=>{try{document.querySelector("body").classList.remove(I9)}catch{}},s0e=n=>{const{children:t,logger:e}=n,r=(n==null?void 0:n.mediaQueryBreakPoint)||C9,[a,o]=Oe.exports.useState(!1);return Oe.exports.useEffect(()=>{var c;const h=()=>{if(typeof r=="boolean")if(o(r),r){var f;e==null||(f=e.info)===null||f===void 0||f.call(e,"MediaQueryProvider: isMobile: true"),U8()}else{var m;e==null||(m=e.info)===null||m===void 0||m.call(e,"MediaQueryProvider: isMobile: false"),P8()}else{var v;const x=window.matchMedia(`(max-width: ${r})`);if(e==null||(v=e.info)===null||v===void 0||v.call(e,`MediaQueryProvider: Screensize updated to ${r}`),x.matches){var y;o(!0),U8(),e==null||(y=e.info)===null||y===void 0||y.call(e,"MediaQueryProvider: isMobile: true")}else{var w;o(!1),P8(),e==null||(w=e.info)===null||w===void 0||w.call(e,"MediaQueryProvider: isMobile: false")}}};return h(),window.addEventListener("resize",h),e==null||(c=e.info)===null||c===void 0||c.call(e,"MediaQueryProvider: addEventListener",h),()=>{var f;window.removeEventListener("resize",h),e==null||(f=e.info)===null||f===void 0||f.call(e,"MediaQueryProvider: removeEventListener",h)}},[r]),R.createElement(N9.Provider,{value:{mediaQueryBreakPoint:r,isMobile:a}},t)},eh=()=>R.useContext(N9),o0e=n=>{if(n==null)return!0;for(const t in n)if(n.hasOwnProperty(t))return!1;return JSON.stringify(n)===JSON.stringify({})},l0e=n=>{Oe.exports.useLayoutEffect(()=>{o0e(n)||Ql({variables:bn(bn({},{"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}),n)})},[n])},Tu={INIT_SDK:"INIT_SDK",SET_SDK_LOADING:"SET_SDK_LOADING",RESET_SDK:"RESET_SDK",SDK_ERROR:"SDK_ERROR"},A9={initialized:!1,loading:!1,sdk:{},error:!1};function d0e(n,t){return pk(t).with({type:Tu.SET_SDK_LOADING},e=>{let{payload:r}=e;return bn(bn({},n),{},{initialized:!1,loading:r})}).with({type:Tu.SDK_ERROR},()=>bn(bn({},n),{},{initialized:!1,loading:!1,error:!0})).with({type:Tu.INIT_SDK},e=>{let{payload:r}=e;return{sdk:r,initialized:!0,loading:!1,error:!1}}).with({type:Tu.RESET_SDK},()=>A9).otherwise(()=>n)}const O9={initialized:!1,loading:!1,user:{}};function c0e(n,t){return pk(t).with({type:Tf.INIT_USER},e=>{let{payload:r}=e;return{initialized:!0,loading:!1,user:r}}).with({type:Tf.RESET_USER},()=>O9).with({type:Tf.UPDATE_USER_INFO},e=>{let{payload:r}=e;return bn(bn({},n),{},{user:r})}).otherwise(()=>n)}function u0e(n,t){const[e,r]=Oe.exports.useState(!0);return Oe.exports.useEffect(()=>{const a=N_();try{t.warning("sdk changed",a);const o=new XU;o.onDisconnected=()=>{t.warning("onDisconnected",{isOnline:e})},o.onReconnectStarted=()=>{r(!1),t.warning("onReconnectStarted",{isOnline:e})},o.onReconnectSucceeded=()=>{r(!0),t.warning("onReconnectSucceeded",{isOnline:e})},o.onReconnectFailed=()=>{n.reconnect(),t.warning("onReconnectFailed")},t.info("Added ConnectionHandler",a),n!=null&&n.addConnectionHandler&&n.addConnectionHandler(a,o)}catch{}return()=>{try{n.removeConnectionHandler(a),t.info("Removed ConnectionHandler",a)}catch{}}},[n]),Oe.exports.useEffect(()=>{const a=()=>{try{t.warning("Try reconnecting SDK"),n.connectionState!=="OPEN"&&n.reconnect()}catch{}};return window.addEventListener("online",a),()=>{window.removeEventListener("online",a)}},[n]),Oe.exports.useEffect(()=>{const a=document.querySelector("body");if(e)try{a.classList.remove("sendbird__offline"),t.info("Removed class sendbird__offline from body")}catch{}else try{a.classList.add("sendbird__offline"),t.info("Added class sendbird__offline to body")}catch{}},[e]),e}async function h0e(n){let{sdkDispatcher:t,userDispatcher:e,sdk:r}=n;return new Promise(a=>{t({type:Tu.SET_SDK_LOADING,payload:!0}),r!=null&&r.disconnect?r.disconnect().then(()=>{t({type:Tu.RESET_SDK}),e({type:Tf.RESET_USER})}).finally(()=>{a(!0)}):a(!0)})}const{INIT_SDK:p0e,SET_SDK_LOADING:f0e,RESET_SDK:_0e,SDK_ERROR:F8}=Tu,{INIT_USER:m0e,UPDATE_USER_INFO:v0e,RESET_USER:g0e}=Tf,H8="3.4.7";function b0e(n){let{userId:t,appId:e}=n;return`SendbirdProvider | useConnect/setupConnection/Connection failed UserId: ${t} or appId: ${e} missing`}function y0e(n){return`SendbirdProvider | useConnect/setupConnection/Connection failed. ${(n==null?void 0:n.code)||""} ${(n==null?void 0:n.message)||""}`}function E0e(n){let{appId:t,customApiHost:e,customWebSocketHost:r}=n;const a={appId:t,modules:[new ohe,new bce]};return e&&(a.customApiHost=e),r&&(a.customWebSocketHost=r),tce.init(a)}async function w0e(n){let{logger:t,sdkDispatcher:e,userDispatcher:r,userId:a,appId:o,customApiHost:c,customWebSocketHost:h,configureSession:f,nickname:m,profileUrl:v,accessToken:y}=n;return new Promise((w,x)=>{var C;if(t==null||(C=t.info)===null||C===void 0||C.call(t,"SendbirdProvider | useConnect/setupConnection/init",{userId:a,appId:o}),e({type:f0e,payload:!0}),a&&o){const O=E0e({appId:o,customApiHost:c,customWebSocketHost:h});if(f&&typeof f=="function"){var A;const T=f(O);t==null||(A=t.info)===null||A===void 0||A.call(t,"SendbirdProvider | useConnect/setupConnection/configureSession",T),O.setSessionHandler(T)}{var L;t==null||(L=t.info)===null||L===void 0||L.call(t,"SendbirdProvider | useConnect/setupConnection/setVersion",H8),O.addExtension("sb_uikit",H8)}const H=T=>{var M;if(t==null||(M=t.info)===null||M===void 0||M.call(t,"SendbirdProvider | useConnect/setupConnection/connectCbSucess",T),e({type:p0e,payload:O}),r({type:m0e,payload:T}),(m!==T.nickname||v!==T.profileUrl)&&!(O8(m)&&O8(v))){var q;t==null||(q=t.info)===null||q===void 0||q.call(t,"SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo",{nickname:m,profileUrl:v}),O.updateCurrentUserInfo({nickname:m||T.nickname,profileUrl:v||T.profileUrl}).then(z=>{var te;t==null||(te=t.info)===null||te===void 0||te.call(t,"SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo success",{nickname:m,profileUrl:v}),r({type:v0e,payload:z})}).finally(()=>{w()})}else w()},D=T=>{var M;const q=y0e(T);t==null||(M=t.error)===null||M===void 0||M.call(t,q,{e:T,appId:o,userId:a}),e({type:_0e}),r({type:g0e}),e({type:F8}),x(q)};if(y){var S;t==null||(S=t.info)===null||S===void 0||S.call(t,"SendbirdProvider | useConnect/setupConnection/connect connecting using accessToken"),O.connect(a,y).then(T=>H(T)).catch(T=>D(T))}else{var k;t==null||(k=t.info)===null||k===void 0||k.call(t,"SendbirdProvider | useConnect/setupConnection/connect connecting using userId"),O.connect(a).then(T=>H(T)).catch(T=>D(T))}}else{var N;const O=b0e({userId:a,appId:o});e({type:F8}),t==null||(N=t.error)===null||N===void 0||N.call(t,O),x(O)}})}async function B8(n){let{logger:t,sdkDispatcher:e,userDispatcher:r,userId:a,appId:o,customApiHost:c,customWebSocketHost:h,configureSession:f,nickname:m,profileUrl:v,accessToken:y,sdk:w}=n;await h0e({logger:t,sdkDispatcher:e,userDispatcher:r,sdk:w}),await w0e({logger:t,sdkDispatcher:e,userDispatcher:r,userId:a,appId:o,customApiHost:c,customWebSocketHost:h,configureSession:f,nickname:m,profileUrl:v,accessToken:y})}function x0e(n,t){var e;const{userId:r,appId:a,accessToken:o}=n,{logger:c,nickname:h,profileUrl:f,configureSession:m,customApiHost:v,customWebSocketHost:y,sdk:w,sdkDispatcher:x,userDispatcher:C}=t;return c==null||(e=c.info)===null||e===void 0||e.call(c,"SendbirdProvider | useConnect",bn(bn({},n),t)),Oe.exports.useEffect(()=>{var L;c==null||(L=c.info)===null||L===void 0||L.call(c,"SendbirdProvider | useConnect/useEffect",{userId:r,appId:a,accessToken:o});try{B8({userId:r,appId:a,accessToken:o,logger:c,nickname:h,profileUrl:f,configureSession:m,customApiHost:v,customWebSocketHost:y,sdk:w,sdkDispatcher:x,userDispatcher:C})}catch(k){var S;c==null||(S=c.error)===null||S===void 0||S.call(c,"SendbirdProvider | useConnect/useEffect",k)}},[r,a,o]),Oe.exports.useCallback(()=>{var L;c==null||(L=c.info)===null||L===void 0||L.call(c,"SendbirdProvider | useConnect/reconnect/useCallback",{sdk:w});try{B8({userId:r,appId:a,accessToken:o,logger:c,nickname:h,profileUrl:f,configureSession:m,customApiHost:v,customWebSocketHost:y,sdk:w,sdkDispatcher:x,userDispatcher:C})}catch(k){var S;c==null||(S=c.error)===null||S===void 0||S.call(c,"SendbirdProvider | useConnect/reconnect/useCallback",k)}},[w])}const ws={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},k0e=n=>{switch(n){case ws.WARNING:return"color: Orange";case ws.ERROR:return"color: Red";default:return"color: Gray"}},S0e=n=>{let{level:t,title:e,description:r=""}=n;console.log(`%c SendbirdUIKit | ${t} | ${new Date().toISOString()} | ${e} ${r&&"|"}`,k0e(t),r)},Z3=()=>{},T0e=()=>({info:Z3,error:Z3,warning:Z3}),$8=(n,t)=>{const e=t||S0e,r=Array.isArray(n)?n:[n],a=c=>(h,f)=>e({level:c,title:h,description:f});return r.reduce((c,h)=>h===ws.DEBUG||h===ws.ALL?bn(bn({},c),{},{info:a(ws.INFO),error:a(ws.ERROR),warning:a(ws.WARNING)}):h===ws.INFO?bn(bn({},c),{},{info:a(ws.INFO)}):h===ws.ERROR?bn(bn({},c),{},{error:a(ws.ERROR)}):h===ws.WARNING?bn(bn({},c),{},{warning:a(ws.WARNING)}):bn({},c),T0e())},C0e=()=>{const n={},t=n.hasOwnProperty;return{__getTopics:()=>n,subscribe:(e,r)=>{t.call(n,e)||(n[e]=[]);const a=n[e].push(r)-1;return{remove:()=>{delete n[e][a]}}},publish:(e,r)=>{!t.call(n,e)||n[e].forEach(a=>{a(r!==void 0?r:{})})}}};function I0e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;Oe.exports.useEffect(()=>{const e=document.querySelector(t);return n.forEach(r=>{const a=document.createElement("div");a.setAttribute("id",r),e.appendChild(a)}),()=>{n.forEach(r=>{const a=document.getElementById(r);a&&e.removeChild(a)})}},[])}const N0e=n=>{let{children:t,isVoiceMessageEnabled:e=!0}=n;return e?R.createElement(She,null,R.createElement(D8,null,t)):R.createElement(D8,null,t)},A0e=5e3,O0e=(n,t)=>{let e=[],r=null;return{push:c=>{e.find(f=>f.url===c.url)?n.info("Channel: Mark as read already in queue",c):e.push(c),!r&&(r=setInterval(()=>{if(e.length===0){clearInterval(r),r=null;return}const f=e.shift();if(f)try{f.markAsRead()}catch(m){n.error("Channel: Mark as read failed",m)}},t||A0e))},clear:()=>{e=[],r&&(clearInterval(r),r=null)},getQueue:()=>e}};function R0e(n,t){let{isConnected:e}=n,{logger:r}=t;const a=Oe.exports.useMemo(()=>O0e(r),[]);return Oe.exports.useEffect(()=>{if(!e){a.clear();return}},[e]),a}const M0e=n=>{let{appId:t,userId:e,children:r,accessToken:a="",customApiHost:o="",customWebSocketHost:c="",configureSession:h=null,theme:f="light",config:m={},nickname:v="",colorSet:y=null,stringSet:w=null,replyType:x="NONE",dateLocale:C=null,profileUrl:A="",voiceRecord:L={maxRecordingTime:vhe,minRecordingTime:mhe},userListQuery:S=null,imageCompression:k={},allowProfileEdit:N=!1,isMentionEnabled:O=!1,isReactionEnabled:H=!0,disableUserProfile:D=!1,isVoiceMessageEnabled:T=!0,disableMarkAsDelivered:M=!1,isTypingIndicatorEnabledOnChannelList:q=!1,isMessageReceiptStatusEnabledOnChannelList:z=!1,renderUserProfile:te=null,onUserProfileMessage:he=null}=n;const B=!1,{logLevel:W="",userMention:re={},isREMUnitEnabled:j=!1}=m,[_e,ie]=Oe.exports.useState($8(W)),[se]=Oe.exports.useState(C0e()),[me,Me]=Oe.exports.useReducer(d0e,A9),[de,ue]=Oe.exports.useReducer(c0e,O9);l0e(y);const V=x0e({appId:t,userId:e,accessToken:a},{logger:_e,nickname:v,profileUrl:A,configureSession:h,customApiHost:o,customWebSocketHost:c,sdk:me==null?void 0:me.sdk,sdkDispatcher:Me,userDispatcher:ue});Oe.exports.useEffect(()=>{ie($8(W))},[W]),I0e(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");const[Q,$]=Oe.exports.useState(f);Oe.exports.useEffect(()=>{$(f)},[f]),Oe.exports.useEffect(()=>{const Ae=document.querySelector("body");Ae.classList.remove("sendbird-experimental__rem__units"),j&&Ae.classList.add("sendbird-experimental__rem__units")},[j]),Oe.exports.useEffect(()=>{_e.info("Setup theme",`Theme: ${Q}`);try{const Ae=document.querySelector("body");Ae.classList.remove("sendbird-theme--light"),Ae.classList.remove("sendbird-theme--dark"),Ae.classList.add(`sendbird-theme--${Q||"light"}`),_e.info("Finish setup theme")}catch(Ae){_e.warning("Setup theme failed",`${Ae}`)}return()=>{try{const Ae=document.querySelector("body");Ae.classList.remove("sendbird-theme--light"),Ae.classList.remove("sendbird-theme--dark")}catch{}}},[Q]);const ne=u0e(me.sdk,_e),De=R0e({isConnected:ne},{logger:_e}),We=R.useMemo(()=>w?bn(bn({},Lx("en")),w):Lx("en"),[w]);return R.createElement(RL.Provider,{value:{stores:{sdkStore:me,userStore:de},dispatchers:{sdkDispatcher:Me,userDispatcher:ue,reconnect:V},config:{disableUserProfile:D,disableMarkAsDelivered:M,renderUserProfile:te,onUserProfileMessage:he,allowProfileEdit:N,isOnline:ne,userId:e,appId:t,accessToken:a,theme:Q,setCurrenttheme:$,userListQuery:S,logger:_e,pubSub:se,imageCompression:bn({compressionRate:.7},k),isReactionEnabled:H,isMentionEnabled:O||!1,isVoiceMessageEnabled:T,voiceRecord:L,userMention:{maxMentionCount:(re==null?void 0:re.maxMentionCount)||10,maxSuggestionCount:(re==null?void 0:re.maxSuggestionCount)||15},isTypingIndicatorEnabledOnChannelList:q,isMessageReceiptStatusEnabledOnChannelList:z,replyType:x,markAsReadScheduler:De}}},R.createElement(s0e,{logger:_e,mediaQueryBreakPoint:B},R.createElement(a0e,{stringSet:We,dateLocale:C},R.createElement(N0e,{isVoiceMessageEnabled:T},r))))};var D0e=`.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  max-width: calc(100% - 120px);
}
.sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  position: absolute;
  left: 20px;
  top: 16px;
}
.sendbird-openchannel-conversation-header__left__title {
  position: absolute;
  left: 60px;
  top: 12px;
}
.sendbird-openchannel-conversation-header__left__sub-title {
  position: absolute;
  left: 60px;
  top: 36px;
}
.sendbird-openchannel-conversation-header__right {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 64px;
  height: 64px;
}
.sendbird-openchannel-conversation-header__right__trigger {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-word {
  display: inline;
  height: -moz-fit-content;
  height: fit-content;
}
.sendbird-word .sendbird-word__url,
.sendbird-word .sendbird-word__normal {
  margin: 0 4px;
  display: inline-block;
  color: inherit;
}
.sendbird-open-channel-preview {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 264px;
  height: 58px;
  min-width: 264px;
  min-height: 58px;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-open-channel-preview {
  width: 100%;
}
.sendbird-theme--light .sendbird-open-channel-preview {
  background-color: var(--sendbird-light-background-50);
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-preview {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-open-channel-preview:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-open-channel-preview:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-open-channel-preview.selected {
  background-color: var(--sendbird-light-primary-100);
  border-left: solid 4px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-open-channel-preview.selected {
  background-color: var(--sendbird-dark-primary-300);
  border-left: solid 4px var(--sendbird-dark-primary-200);
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image {
  position: relative;
  margin-top: 8px;
  margin-left: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image .sendbird-open-channel-preview__cover-image__avatar,
.sendbird-open-channel-preview .sendbird-open-channel-preview__cover-image .sendbird-open-channel-preview__cover-image__avatar--default {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context {
  position: relative;
  margin-top: 8px;
  margin-left: 16px;
  display: inline-flex;
  flex-direction: column;
  max-width: 178px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 16px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__channel-name {
  position: relative;
  display: inline-block;
  max-width: 100%;
  height: 100%;
  box-sizing: border-box;
  overflow-x: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__channel-name.frozen {
  max-width: calc(100% - 20px);
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__title .sendbird-open-channel-preview__context__title__frozen {
  position: relative;
  margin-left: 4px;
  display: inline-flex;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants {
  position: relative;
  margin-top: 8px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 14px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants .sendbird-open-channel-preview__context__participants__icon {
  position: relative;
  display: inline-flex;
  width: 14px;
  height: 14px;
  box-sizing: border-box;
}
.sendbird-open-channel-preview .sendbird-open-channel-preview__context .sendbird-open-channel-preview__context__participants .sendbird-open-channel-preview__context__participants__count {
  position: relative;
  margin-left: 4px;
  display: inline-flex;
  width: 160px;
  max-width: 160px;
  height: 12px;
  box-sizing: border-box;
  overflow-x: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-open-channel-list,
.sendbird-open-channel-list-ui {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 256px;
  min-width: 256px;
  height: 100%;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-open-channel-list,
.sendbird--mobile-mode .sendbird-open-channel-list-ui {
  width: 100%;
}
.sendbird-theme--light .sendbird-open-channel-list,
.sendbird-theme--light .sendbird-open-channel-list-ui {
  border-right: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-list,
.sendbird-theme--dark .sendbird-open-channel-list-ui {
  border-right: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-theme--light .sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-open-channel-list .sendbird-open-channel-list-ui__header,
.sendbird-theme--dark .sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__title,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__title {
  position: relative;
  margin-left: 24px;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-refresh,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-refresh {
  position: absolute;
  top: 16px;
  right: 56px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-create-channel,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__header .sendbird-open-channel-list-ui__header__button-create-channel {
  position: absolute;
  top: 16px;
  right: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.sendbird-open-channel-list .sendbird-open-channel-list-ui__channel-list,
.sendbird-open-channel-list-ui .sendbird-open-channel-list-ui__channel-list {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 100%;
  height: calc(100% - 64px);
  box-sizing: border-box;
  overflow-y: scroll;
}

.sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  position: relative;
  min-height: 62px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-open-channel-list-ui__channel-list--place-holder--loading {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-create-open-channel-ui {
  position: relative;
  display: inline-flex;
}

.sendbird-create-open-channel-ui__profile-input {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  justify-content: flex-start;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section {
  position: relative;
  margin-top: 16px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__avatar--default {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__img-section .sendbird-create-open-channel-ui__profile-input__img-section__button {
  position: relative;
  margin-left: 18px;
  display: inline-flex;
}
.sendbird-create-open-channel-ui__profile-input .sendbird-create-open-channel-ui__profile-input__name-section {
  position: relative;
  margin-top: 8px;
  display: inline-flex;
  flex-direction: row;
}
@import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap");
:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-highlight-100: #fff2b6;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-iconbutton-color: #825eeb;
  --sendbird-message-input-border-active: #7B53EF;
  --sendbird-selected-reaction-button-border-hover: #9E8CF5;
  --sendbird-add-reaction-button-border-hover: #9E8CF5;
  --sendbird-tooltip-background: #000000;
  --sendbird-tooltip-text-color: rgba(255, 255, 255, 0.88);
  --sendbird-button-border-focus: #FFFFFF;
  --sendbird-file-message-icon-background: #FFFFFF;
  --sendbird-font-family-default: "Roboto", sans-serif;
  --sendbird-message-balloon-width: 404px;
}
.sendbird-experimental__rem__units .sendbird-label--h-1 {
  font-size: 1.25rem;
}
.sendbird-experimental__rem__units .sendbird-label--h-2 {
  font-size: 1.125rem;
}
.sendbird-experimental__rem__units .sendbird-label--subtitle-1 {
  font-size: 1rem;
}
.sendbird-experimental__rem__units .sendbird-label--subtitle-2 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--body-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--body-2 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-label--button-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--button-2 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-1 {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-2 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-label--caption-3 {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-checkbox {
  font-size: 1.375rem;
}
.sendbird-experimental__rem__units .sendbird-mention-user-label {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-mention-user-label.purple {
  font-size: 1.125rem;
}
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--textarea,
.sendbird-experimental__rem__units .sendbird-message-input .sendbird-message-input--placeholder {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__input,
.sendbird-experimental__rem__units .sendbird-input .sendbird-input__placeholder {
  font-size: 0.875rem;
}
.sendbird-experimental__rem__units .sendbird-tooltip__text {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  font-size: 0.75rem;
}
.sendbird-experimental__rem__units .sendbird-quote-message .sendbird-quote-message__replied-message__file-message {
  font-size: 0.75rem;
}
.sendbird-channel-list {
  width: 320px;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-list {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-list {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-channel-list {
  width: 100%;
}

.sendbird-channel-list__header {
  height: 64px;
  min-height: 64px;
}

.sendbird-channel-list__body {
  flex: 1 1 0;
  -ms-flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}
[class*=sendbird-label] {
  font-family: var(--sendbird-font-family-default);
}

.sendbird-label--h-1 {
  font-size: 20px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.4;
  letter-spacing: -0.2px;
}

.sendbird-label--h-2 {
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: -0.2px;
}

.sendbird-label--subtitle-1 {
  font-size: 16px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.38;
  letter-spacing: -0.2px;
}

.sendbird-label--subtitle-2 {
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.14;
  letter-spacing: -0.2px;
}

.sendbird-label--body-1 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--body-2 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal;
}

.sendbird-label--button-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--button-2 {
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--caption-1 {
  font-size: 14px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
}

.sendbird-label--caption-2 {
  font-size: 12px;
  font-weight: bold;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
}

.sendbird-label--caption-3 {
  font-size: 12px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
}

.sendbird-theme--light .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-label--color-onbackground-4 {
  color: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02);
}
.sendbird-theme--dark .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02);
}

.sendbird-theme--light .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-label--color-error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200);
}

.sendbird-theme--light .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200);
}
.sendbird-channel-header {
  position: relative;
  height: 64px;
  min-height: 64px;
  width: 320px;
  padding: 8px 64px 8px 8px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-channel-header {
  width: 100%;
}
.sendbird-channel-header.sendbird-channel-header--allow-edit .sendbird-channel-header__title {
  cursor: pointer;
}
.sendbird-channel-header .sendbird-channel-header__title {
  display: flex;
  flex-direction: row;
  width: 260px;
  height: 48px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:hover {
  background: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:hover {
  background: var(--sendbird-dark-background-500);
}
.sendbird-channel-header .sendbird-channel-header__title:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:focus {
  background: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:focus {
  background: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-header .sendbird-channel-header__title:active {
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-channel-header .sendbird-channel-header__title:active {
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__left {
  width: 48px;
  padding: 8px;
  box-sizing: border-box;
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right {
  margin-left: 4px;
  padding-top: 8px;
}
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__name,
.sendbird-channel-header .sendbird-channel-header__title .sendbird-channel-header__title__right__user-id {
  display: block;
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-header .sendbird-channel-header__right-icon {
  position: absolute;
  right: 16px;
  top: 16px;
}
.sendbird-image-renderer {
  overflow: hidden;
  position: relative;
}

.sendbird-image-renderer__hidden-image-loader {
  display: none;
}

.sendbird-image-renderer,
.sendbird-image-renderer__image {
  width: 320px;
  height: 180px;
}
.sendbird-icon {
  display: inline-block;
}
.sendbird-icon:focus {
  outline: none;
}

.sendbird-theme--light .sendbird-icon-color--primary [class*=fill] {
  fill: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-icon-color--primary [class*=fill] {
  fill: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-icon-color--primary-2 [class*=fill] {
  fill: var(--sendbird-light-primary-200);
}
.sendbird-theme--dark .sendbird-icon-color--primary-2 [class*=fill] {
  fill: var(--sendbird-dark-primary-400);
}

.sendbird-theme--light .sendbird-icon-color--primary [class*=stroke] {
  stroke: var(--sendbird-light-primary-300);
  stroke-width: 2px;
  stroke-linejoin: round;
}
.sendbird-theme--dark .sendbird-icon-color--primary [class*=stroke] {
  stroke: var(--sendbird-dark-primary-200);
  stroke-width: 2px;
  stroke-linejoin: round;
}

.sendbird-theme--light .sendbird-icon-color--secondary [class*=fill] {
  fill: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-icon-color--secondary [class*=fill] {
  fill: var(--sendbird-dark-secondary-200);
}

.sendbird-theme--light .sendbird-icon-color--content [class*=fill] {
  fill: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-icon-color--content [class*=fill] {
  fill: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-icon-color--content-inverse [class*=fill] {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-icon-color--content-inverse [class*=fill] {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-icon-color--white [class*=fill] {
  fill: #ffffff;
}

.sendbird-icon-color--gray [class*=fill] {
  fill: var(--sendbird-light-onlight-04);
}

.sendbird-theme--light .sendbird-icon-color--sent [class*=fill] {
  fill: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-icon-color--sent [class*=fill] {
  fill: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-icon-color--read [class*=fill] {
  fill: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-icon-color--read [class*=fill] {
  fill: var(--sendbird-dark-secondary-200);
}

.sendbird-theme--light .sendbird-icon-color--on-background-1 [class*=fill] {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-1 [class*=fill] {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-icon-color--on-background-2 [class*=fill] {
  fill: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-2 [class*=fill] {
  fill: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-icon-color--on-background-3 [class*=fill] {
  fill: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-3 [class*=fill] {
  fill: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-icon-color--on-background-4 [class*=fill] {
  fill: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-icon-color--on-background-4 [class*=fill] {
  fill: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-icon-color--background-3 [class*=fill] {
  fill: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-icon-color--background-3 [class*=fill] {
  fill: var(--sendbird-dark-background-400);
}

.sendbird-theme--light .sendbird-icon-color--error [class*=fill] {
  fill: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-icon-color--error [class*=fill] {
  fill: var(--sendbird-dark-error-200);
}
.sendbird-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  position: relative;
}
.sendbird-avatar:focus {
  outline: none;
}
.sendbird-avatar .sendbird-avatar-img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-avatar .sendbird-avatar-img {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:first-child {
  transform: translate(2%, -50%);
}
.sendbird-avatar .sendbird-avatar--inner__two-child .sendbird-avatar-img:last-child {
  transform: translate(-102%, -50%);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--upper .sendbird-avatar-img:first-child {
  transform: translate(-50%, -102%);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:first-child {
  transform: translate(-77%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__three-child--lower .sendbird-avatar-img:last-child {
  transform: translate(-23%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:first-child {
  transform: translate(-77%, -77%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(2) {
  transform: translate(-23%, -77%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:nth-child(3) {
  transform: translate(-77%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar--inner__four-child .sendbird-avatar-img:last-child {
  transform: translate(-23%, -23%) scale(0.5);
}
.sendbird-avatar .sendbird-avatar-img--default {
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-avatar .sendbird-avatar-img--default {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-avatar .sendbird-avatar-img--default {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-iconbutton {
  color: var(--sendbird-iconbutton-color);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 3px;
  background-color: transparent;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  border: 1px solid transparent;
  border-radius: 4px;
  outline: 0px;
}
.sendbird-iconbutton .sendbird-iconbutton__inner {
  height: 100%;
}
.sendbird-theme--light .sendbird-iconbutton .sendbird-iconbutton__inner svg {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-iconbutton .sendbird-iconbutton__inner svg {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-iconbutton:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-iconbutton:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-iconbutton:active {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-iconbutton:active {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-iconbutton:disabled {
  cursor: not-allowed !important;
}
.sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--light .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
  fill: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner svg, .sendbird-theme--dark .sendbird-iconbutton:disabled .sendbird-iconbutton__inner path {
  fill: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-iconbutton--pressed {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird--mobile-mode .sendbird-add-channel__modal .sendbird-modal__content {
  margin: 0 40px;
}

.sendbird-add-channel__rectangle-wrap {
  margin-top: 26px;
}

.sendbird-add-channel__rectangle-footer {
  text-align: right;
  margin-top: 32px;
}

.sendbird-add-channel__rectangle {
  width: 432px;
  height: 72px;
  border-radius: 4px;
  margin-bottom: 8px;
  padding: 25px 72px;
  position: relative;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird--mobile-mode .sendbird-add-channel__rectangle {
  min-width: 288px;
  width: 100%;
  padding-right: 0;
}
.sendbird-theme--light .sendbird-add-channel__rectangle {
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-add-channel__rectangle {
  border: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-add-channel__rectangle .sendbird-icon {
  position: absolute;
  left: 22px;
  top: 24px;
}
.sendbird-create-channel--content {
  width: 480px;
  max-height: 552px;
}

.sendbird-create-channel--scroll {
  height: 360px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-create-channel--scroll {
  height: calc(100vh - 200px);
  height: calc(var(--sendbird-vh, 1vh) * 100 - 200px);
}
.sendbird-modal--full-mobile .sendbird-modal__content {
  width: 100vw;
  max-width: 100%;
  height: 100%;
}
.sendbird--mobile-mode .sendbird-modal--full-mobile .sendbird-modal__content {
  height: -webkit-fill-available;
  height: -moz-available;
  height: stretch;
}

.sendbird-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-modal__backdrop--clickoutside {
  cursor: pointer;
}

.sendbird-modal__content {
  width: 480px;
  border-radius: 4px;
  z-index: 10001;
  padding: 18px 24px 24px 24px;
  position: relative;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-modal__content {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-04);
}
.sendbird-theme--dark .sendbird-modal__content {
  background-color: var(--sendbird-dark-background-500);
  box-shadow: var(--sendbird-dark-shadow-04);
}
.sendbird-modal__content .sendbird-modal__close {
  position: absolute;
  top: 16px;
  right: 16px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-modal__content .sendbird-modal__close path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-modal__content .sendbird-modal__close path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-modal__content .sendbird-modal__header {
  margin-bottom: 16px;
}
.sendbird-modal__content .sendbird-modal__body {
  height: calc(100% - 116px);
}
.sendbird-modal__content .sendbird-modal__footer {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  margin-top: 32px;
  text-align: right;
}
.sendbird--mobile-mode .sendbird-modal__content .sendbird-modal__footer {
  position: sticky;
  bottom: 24px;
}
.sendbird-modal__content .sendbird-modal__footer .sendbird-button:last-child {
  margin-left: 8px;
  min-width: 80px;
  height: 40px;
}

.sendbird-modal__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-modal__backdrop {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-modal__backdrop {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-button {
  display: inline-block;
  box-shadow: none;
  border-radius: 4px;
  padding: 0px;
  font-family: var(--sendbird-font-family-default);
  cursor: pointer;
}
.sendbird-button:hover {
  box-shadow: none;
}
.sendbird-button:focus {
  outline: none;
}
.sendbird-button:active {
  box-shadow: none;
}
.sendbird-button.sendbird-button__disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-button.sendbird-button__disabled {
  border: none;
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button.sendbird-button__disabled {
  border: none;
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button.sendbird-button__disabled:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button.sendbird-button__disabled:hover {
  background-color: var(--sendbird-dark-background-400);
}

.sendbird-button--big {
  height: 40px;
}
.sendbird-button--big .sendbird-button__text {
  margin: 10px 16px;
}

.sendbird-button--small {
  height: 32px;
}
.sendbird-button--small .sendbird-button__text {
  margin: 6px 16px;
}

.sendbird-theme--light .sendbird-button--primary {
  border: 1px solid var(--sendbird-light-primary-300);
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--primary {
  border: 1px solid var(--sendbird-dark-primary-200);
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--primary .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-button--primary:hover {
  background-color: var(--sendbird-light-primary-400);
  border-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-button--primary:hover {
  background-color: var(--sendbird-dark-primary-300);
  border-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-button-border-focus);
}
.sendbird-theme--dark .sendbird-button--primary:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-button-border-focus);
}
.sendbird-theme--light .sendbird-button--primary:active {
  background-color: var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-button--primary:active {
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:hover {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-button--primary:focus .sendbird-button--primary:active {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-400);
}

.sendbird-button--secondary {
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary {
  border: 1px solid var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-button--secondary {
  border: 1px solid var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-button--secondary .sendbird-button__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-button--secondary .sendbird-button__text {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-button--secondary:hover {
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary:hover {
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover {
  border: 1px solid var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-button--secondary.sendbird-button__disabled {
  cursor: not-allowed;
  border: none;
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled .sendbird-button__text {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-button--secondary.sendbird-button__disabled:hover {
  border: none;
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-button--secondary.sendbird-button__disabled:hover .sendbird-button__text {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-theme--light .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:hover .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-button--secondary:focus {
  border: 1px solid transparent;
  background-color: transparent;
}
.sendbird-theme--light .sendbird-button--secondary:focus {
  box-shadow: var(--sendbird-light-primary-300) 0px 0px 0px 2px;
}
.sendbird-theme--dark .sendbird-button--secondary:focus {
  box-shadow: var(--sendbird-dark-primary-200) 0px 0px 0px 2px;
}
.sendbird-theme--light .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-button--secondary:focus .sendbird-button__text {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-button--secondary:active {
  box-shadow: none;
}
.sendbird-theme--light .sendbird-button--secondary:active {
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:active {
  border: 1px solid var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-button--secondary:active .sendbird-button__text {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-button--secondary:active .sendbird-button__text {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-button--danger {
  border: 1px solid var(--sendbird-light-error-300);
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-button--danger {
  border: 1px solid var(--sendbird-dark-error-200);
  background-color: var(--sendbird-dark-error-200);
}
.sendbird-theme--light .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--danger .sendbird-button__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-button--danger:hover {
  background-color: var(--sendbird-light-error-400);
  border-color: var(--sendbird-light-error-400);
}
.sendbird-theme--dark .sendbird-button--danger:hover {
  background-color: var(--sendbird-dark-error-400);
  border-color: var(--sendbird-dark-error-400);
}
.sendbird-theme--light .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-300);
  border-color: var(--sendbird-button-border-focus);
}
.sendbird-theme--dark .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-300);
  border-color: var(--sendbird-button-border-focus);
}
.sendbird-button--danger:active {
  box-shadow: none;
}
.sendbird-theme--light .sendbird-button--danger:active {
  background-color: var(--sendbird-light-error-500);
}
.sendbird-theme--dark .sendbird-button--danger:active {
  background-color: var(--sendbird-dark-error-500);
}
.sendbird-theme--light .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-400);
}
.sendbird-theme--dark .sendbird-button--danger:hover .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-400);
}
.sendbird-theme--light .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-error-500);
}
.sendbird-theme--dark .sendbird-button--danger:active .sendbird-button--danger:focus {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-error-500);
}

.sendbird-button--disabled {
  border: 1px solid transparent;
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-button--disabled {
  background-color: var(--sendbird-light-background-200);
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-button--disabled {
  background-color: var(--sendbird-dark-background-400);
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-user-list-item {
  display: block;
  position: relative;
  box-sizing: border-box;
  width: 432px;
  height: 56px;
}
.sendbird--mobile-mode .sendbird-user-list-item {
  width: 100%;
}
.sendbird-theme--light .sendbird-user-list-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-user-list-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-user-list-item .sendbird-user-list-item__avatar {
  position: absolute;
  top: 8px;
  left: 0px;
  cursor: pointer;
}
.sendbird-user-list-item .sendbird-muted-avatar {
  position: absolute;
  top: 8px;
  left: 0px;
  pointer-events: none;
}
.sendbird-user-list-item .sendbird-user-list-item__title {
  position: absolute;
  top: 17px;
  left: 56px;
  max-width: 250px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item .sendbird-user-list-item__title {
  max-width: 62%;
}
.sendbird-user-list-item .sendbird-user-list-item__subtitle {
  position: absolute;
  top: 23px;
  left: 140px;
  max-width: 237px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item .sendbird-user-list-item__subtitle {
  max-width: 40%;
}
.sendbird-user-list-item .sendbird-user-list-item__checkbox {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-user-list-item .sendbird-user-list-item__action {
  position: absolute;
  right: 0;
  top: 10px;
}
.sendbird-user-list-item .sendbird-user-list-item__operator {
  position: absolute;
  right: 40px;
  top: 22px;
}
.sendbird-user-list-item .sendbird-user-list-item__operator.checkbox {
  right: 66px;
}
.sendbird-muted-avatar {
  border-radius: 50%;
  display: inline-block;
}
.sendbird-muted-avatar .sendbird-muted-avatar__icon {
  position: relative;
}
.sendbird-muted-avatar .sendbird-muted-avatar__icon .sendbird-icon {
  position: absolute;
  top: 4px;
  left: 4px;
}
.sendbird-muted-avatar .sendbird-muted-avatar__bg {
  opacity: 0.5;
  position: absolute;
  border-radius: 50%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-muted-avatar .sendbird-muted-avatar__bg {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-muted-avatar .sendbird-muted-avatar__bg {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-checkbox {
  display: inline-block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.sendbird-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.sendbird-checkbox--checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  border-radius: 2px;
  background-color: inherit;
}
.sendbird-theme--light .sendbird-checkbox--checkmark {
  border: solid 2px var(--sendbird-light-background-400);
}
.sendbird-theme--dark .sendbird-checkbox--checkmark {
  border: solid 2px var(--sendbird-dark-background-300);
}
.sendbird-theme--light .sendbird-checkbox--checkmark.disabled {
  border: solid 2px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-checkbox--checkmark.disabled {
  border: solid 2px var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-checkbox input:focus ~ .sendbird-checkbox--checkmark {
  box-shadow: 0px 0px 0px 2px var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-light-primary-300);
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark {
  background-color: var(--sendbird-dark-primary-200);
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  cursor: default;
}
.sendbird-theme--light .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-light-onlight-04);
  border: solid 2px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark.disabled {
  background-color: var(--sendbird-dark-ondark-04);
  border: solid 2px var(--sendbird-dark-ondark-04);
}

.sendbird-checkbox--checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

.sendbird-checkbox input:checked ~ .sendbird-checkbox--checkmark:after {
  display: block;
}

.sendbird-theme--light .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-light-background-50);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
.sendbird-theme--dark .sendbird-checkbox .sendbird-checkbox--checkmark:after {
  left: 5px;
  top: -0.5px;
  width: 7px;
  height: 12px;
  border: solid var(--sendbird-dark-background-600);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
.sendbird__user-profile {
  width: 320px;
  border-radius: 4px;
  padding: 24px;
  box-sizing: border-box;
  text-align: center;
}
.sendbird-theme--light .sendbird__user-profile {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird__user-profile {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird__user-profile .sendbird__user-profile-avatar {
  margin: 8px 0px;
}
.sendbird__user-profile .sendbird__user-profile-name {
  max-width: 100%;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
}
.sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-name {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-name {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird__user-profile .sendbird__user-profile-message {
  margin-top: 20px;
}
.sendbird__user-profile .sendbird__user-profile-message button {
  width: 272px;
}
.sendbird__user-profile .sendbird__user-profile-separator {
  margin: 24px 0px;
  height: 1px;
}
.sendbird-theme--light .sendbird__user-profile .sendbird__user-profile-separator {
  background-color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird__user-profile .sendbird__user-profile-separator {
  background-color: var(--sendbird-dark-ondark-04);
}
.sendbird__user-profile .sendbird__user-profile-userId--label,
.sendbird__user-profile .sendbird__user-profile-userId--value {
  width: 100%;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  display: block;
  text-align: left;
}
.sendbird__user-profile .sendbird__user-profile-userId--label {
  margin-bottom: 8px;
}
.sendbird-context-menu {
  display: "inline";
}

.sendbird__offline .sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: not-allowed;
}

.sendbird-dropdown__menu {
  z-index: 99999;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 140px;
  margin: 0px;
  padding: 8px 0px;
  border-radius: 4px;
  list-style: none;
}
.sendbird-theme--light .sendbird-dropdown__menu {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__menu {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-dropdown__menu .sendbird-dropdown__menu-item {
  cursor: pointer;
  white-space: nowrap;
  padding: 8px 16px;
}
.sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item.disable:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-dropdown__menu .sendbird-dropdown__menu-item:hover {
  background-color: var(--sendbird-dark-background-400);
}

.sendbird-dropdown__reaction-bar {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 44px;
  max-width: 352px;
  max-height: 208px;
  overflow-y: scroll;
  margin: 0px;
  padding: 8px;
  border-radius: 8px;
  list-style: none;
}
.sendbird-theme--light .sendbird-dropdown__reaction-bar {
  box-shadow: var(--sendbird-light-shadow-02);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-dropdown__reaction-bar {
  box-shadow: var(--sendbird-dark-shadow-02);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button, .sendbird-dropdown__reaction-bar .sendbird-dropdown__reaction-bar__row .sendbird-reaction-button--selected {
  margin: 4px;
}

.sendbird-dropdown__menu-backdrop {
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.sendbird-sort-by-row {
  display: flex;
  justify-content: flex-start;
  align-items: center;
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__content {
  max-width: calc(100% - 80px);
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__close {
  display: none;
}
.sendbird-channel-preview__leave--mobile .sendbird-channel-preview__leave-label--mobile {
  text-decoration: none;
}
.sendbird-channel-preview__leave--mobile .sendbird-modal__header span {
  display: inline-block;
  width: calc(100% - 120px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird__offline .sendbird-channel-preview {
  cursor: not-allowed;
}

.sendbird-channel-preview {
  position: relative;
  cursor: pointer;
  box-sizing: border-box;
  width: 320px;
  height: 80px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 12px 16px 12px 16px;
}
.sendbird-theme--light .sendbird-channel-preview {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-preview {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird--mobile-mode .sendbird-channel-preview {
  width: 100%;
}
.sendbird-channel-preview:focus {
  outline: none;
}
.sendbird-channel-preview .sendbird-channel-preview__avatar {
  width: 56px;
  height: 56px;
}
.sendbird-channel-preview .sendbird-channel-preview__content {
  width: 100%;
  height: 100%;
  margin-left: 16px;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content {
  position: relative;
  max-width: calc(100% - 72px);
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
  display: flex;
  justify-content: space-between;
  width: 216px;
  height: 16px;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper {
  width: auto;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header {
  display: flex;
  justify-content: flex-start;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__broadcast-icon {
  padding-right: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__channel-name {
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 128px;
  word-break: break-all;
  white-space: nowrap;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__total-members {
  margin-top: 2px;
  margin-left: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__header .sendbird-channel-preview__content__upper__header__frozen-icon {
  padding-left: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at {
  margin-left: 4px;
  margin-bottom: 4px;
  white-space: nowrap;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__upper .sendbird-channel-preview__content__upper__last-message-at.sendbird-message-status {
  max-width: 74px;
  justify-content: flex-end;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
  margin-top: 8px;
  width: 216px;
  height: 32px;
  display: flex;
  justify-content: space-between;
}
.sendbird--mobile-mode .sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower {
  width: 100%;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__last-message {
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count {
  display: flex;
  align-items: center;
  margin-left: 8px;
  margin-bottom: 12px;
}
.sendbird-channel-preview .sendbird-channel-preview__content .sendbird-channel-preview__content__lower .sendbird-channel-preview__content__lower__unread-message-count .sendbird-channel-preview__content__lower__unread-message-count__mention {
  display: inline-flex;
  align-items: center;
  margin-right: 4px;
}
.sendbird-channel-preview .sendbird-channel-preview__action {
  position: absolute;
  top: 12px;
  right: 12px;
  display: inline-block;
}
.sendbird-channel-preview .sendbird-channel-preview__action .sendbird-iconbutton {
  display: none;
}
.sendbird-theme--light .sendbird-channel-preview:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-channel-preview:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-channel-preview:hover .sendbird-channel-preview__action .sendbird-iconbutton {
  display: inline-block;
}
.sendbird-channel-preview:hover .sendbird-channel-preview__content__upper__last-message-at {
  display: none;
}
.sendbird-channel-preview:hover .sendbird-channel-preview__content__lower__unread-message-count {
  display: none;
}

.sendbird-channel-preview--active {
  padding: 12px 16px 12px 12px;
}
.sendbird-theme--light .sendbird-channel-preview--active {
  border-left: solid 4px var(--sendbird-light-primary-300);
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-channel-preview--active {
  border-left: solid 4px var(--sendbird-dark-primary-200);
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-channel-preview--active .sendbird-channel-preview__content__upper__header__channel-name {
  color: var(--sendbird-dark-primary-200);
}

.sendbird--mobile-mode .sendbird-channel-preview__content__lower__unread-message-count {
  position: absolute;
  right: 0;
}
.sendbird-chat-header--default-avatar {
  width: 56px;
  height: 56px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-chat-header--default-avatar {
  background-color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-chat-header--default-avatar {
  background-color: var(--sendbird-dark-secondary-200);
}
.sendbird-badge {
  height: 20px;
  min-width: 20px;
  border-radius: 10px;
  display: inline-block;
}
.sendbird-theme--light .sendbird-badge {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-badge {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-badge .sendbird-badge__text {
  margin: 0px 6px;
}
.sendbird-mention-user-label {
  display: inline-block;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
  white-space: pre-line;
  width: -moz-fit-content;
  width: fit-content;
  max-width: 100%;
  height: 16px;
}
.sendbird-mention-user-label:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-mention-user-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-mention-user-label {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-mention-user-label.reverse {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-mention-user-label.reverse {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-mention-user-label.purple {
  font-family: Roboto;
  font-size: 18px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
.sendbird-theme--light .sendbird-mention-user-label.purple {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-mention-user-label.purple {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-textbutton {
  text-decoration: underline;
  cursor: pointer;
  display: inline-block;
}

.sendbird-textbutton--not-underline {
  text-decoration: none;
  cursor: pointer;
}

.sendbird-textbutton--disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-textbutton--disabled {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-textbutton--disabled {
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-color--onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-color--onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-color--onbackground-1--background-color {
  background-color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-color--onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-color--onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-theme--light .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-color--onbackground-2--background-color {
  background-color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-color--onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-color--onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-theme--light .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-color--onbackground-3--background-color {
  background-color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-color--onbackground-4 {
  color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-color--onbackground-4 {
  color: var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-color--onbackground-4--background-color {
  background-color: var(--sendbird-dark-ondark-04);
}

.sendbird-theme--light .sendbird-color--oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-color--oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-color--oncontent-1--background-color {
  background-color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-color--primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-color--primary {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-color--primary--background-color {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-color--primary--background-color {
  background-color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-color--error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-color--error {
  color: var(--sendbird-dark-error-200);
}
.sendbird-theme--light .sendbird-color--error--background-color {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-color--error--background-color {
  background-color: var(--sendbird-dark-error-300);
}
.sendbird-reaction-button {
  border-radius: 8px;
  display: inline-block;
  border: solid 1px transparent;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-button:hover {
  border: solid 1px var(--sendbird-light-background-100);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-button:hover {
  border: solid 1px var(--sendbird-dark-background-400);
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-reaction-button__inner {
  margin: 3px;
}

.sendbird-reaction-button--selected {
  cursor: pointer;
  border-radius: 8px;
  display: inline-block;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-reaction-button--selected {
  border: solid 1px var(--sendbird-light-primary-100);
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-reaction-button--selected {
  border: solid 1px var(--sendbird-dark-primary-400);
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-reaction-button--selected:hover {
  border: solid 1px var(--sendbird-selected-reaction-button-border-hover);
}
.sendbird-reaction-button--selected__inner {
  margin: 3px;
}
.sendbird-reaction-button--selected.sendbird-reactions--pressed {
  display: block !important;
}
.sendbird-message-status {
  position: relative;
  display: inline-flex;
  align-items: flex-start;
  width: 100%;
  height: 100%;
}
.sendbird-message-status .sendbird-message-status__icon {
  position: relative;
  display: inline-block;
  top: -2px;
}
.sendbird-message-status .sendbird-message-status__icon.hide-icon {
  display: none;
}
.sendbird-message-status .sendbird-message-status__text {
  position: relative;
  display: inline-block;
  margin-left: 4px;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again {
  text-decoration: underline;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__try-again:hover {
  cursor: pointer;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete {
  text-decoration: underline;
}
.sendbird-message-status .sendbird-message-status__text .sendbird-message-status__text__delete:hover {
  cursor: pointer;
}
.sendbird-loader {
  display: inline-block;
  animation: 1s infinite linear;
  animation-name: rotate;
}

@keyframes rotate {
  from {
    transform: rotate(0);
  }
  to {
    transform: rotate(360deg);
  }
}
.sendbird-edit-user-profile section {
  margin-top: 16px;
}
.sendbird-edit-user-profile section .sendbird-input-label {
  display: block;
  margin-bottom: 12px;
}
.sendbird-edit-user-profile .sendbird-edit-user-profile__img .sendbird-input-label {
  margin-bottom: 12px;
}

.sendbird-edit-user-profile__img {
  position: relative;
}

.sendbird-edit-user-profile__img__avatar-button {
  position: absolute;
  top: 50px;
  left: 96px;
}

.sendbird-edit-user-profile__theme__theme-icon .sendbird-icon {
  cursor: pointer;
}
.sendbird-input {
  display: inline-block;
  width: 100%;
  height: 40px;
  position: relative;
}
.sendbird-input .sendbird-input__input {
  width: 100%;
  height: 100%;
  border-radius: 4px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  letter-spacing: normal;
  padding: 10px 16px;
  box-sizing: border-box;
  background-color: inherit;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input {
  color: var(--sendbird-light-onlight-01);
  caret-color: var(--sendbird-light-primary-300);
  border: solid 1px var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input {
  color: var(--sendbird-dark-ondark-01);
  caret-color: var(--sendbird-dark-primary-200);
  border: solid 1px var(--sendbird-dark-ondark-03);
}
.sendbird-input .sendbird-input__input:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:focus {
  box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-light-onlight-01);
  border: solid 2px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:focus {
  box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-dark-ondark-01);
  border: solid 2px var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:active {
  box-shadow: 0 1px 5px 0 var(--sendbird-light-onlight-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-light-onlight-01);
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:active {
  box-shadow: 0 1px 5px 0 var(--sendbird-dark-ondark-04), 0 0 1px 0 rgba(0, 0, 0, 0.16), 0 2px 1px 0 rgba(0, 0, 0, 0.08);
  color: var(--sendbird-dark-ondark-01);
  border: solid 1px var(--sendbird-dark-primary-200);
}
.sendbird-input .sendbird-input__input:disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-input .sendbird-input__input:disabled {
  background-color: var(--sendbird-light-background-100);
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__input:disabled {
  background-color: var(--sendbird-dark-background-500);
  color: var(--sendbird-dark-ondark-03);
}
.sendbird-input .sendbird-input__placeholder {
  position: absolute;
  pointer-events: none;
  top: 10px;
  left: 16px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  line-height: 1.43;
}
.sendbird-theme--light .sendbird-input .sendbird-input__placeholder {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-input .sendbird-input__placeholder {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-input-label {
  margin: 4px 0;
}
.sendbird-place-holder {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}
.sendbird-place-holder .sendbird-place-holder__body {
  display: flex;
  flex-direction: column;
  height: 104px;
  align-items: center;
}
.sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__icon {
  margin-bottom: 10px;
}
.sendbird-place-holder .sendbird-place-holder__body .sendbird-place-holder__body__text {
  margin-top: 10px;
}
.sendbird-place-holder .sendbird-place-holder__body__reconnect {
  margin-top: 18px;
  display: flex;
  flex-direction: row;
  cursor: pointer;
}
.sendbird-place-holder .sendbird-place-holder__body__reconnect .sendbird-place-holder__body__reconnect__icon {
  margin-right: 4px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top {
  position: absolute;
  top: 24px;
  display: flex;
  width: 100%;
  flex-direction: column;
  justify-content: center;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text {
  display: flex;
  flex-direction: row;
  justify-content: center;
  padding-left: 16px;
  padding-right: 16px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__search-in {
  display: flex;
  min-width: 60px;
  margin-right: 2px;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-holder__body--align-top__text .sendbird-place-holder__body--align-top__text__channel-name {
  display: block;
  max-width: calc(100% - 62px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__searching,
.sendbird-place-holder .sendbird-place-holder__body--align-top .sendbird-place-hlder__body--align-top__no-result {
  display: flex;
  justify-content: center;
}
.sendbird-conversation {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-conversation {
  background-color: var(--sendbird-light-background-50);
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-conversation {
  background-color: var(--sendbird-dark-background-600);
  border: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-conversation__messages {
  overflow: hidden;
  flex: 1 1 0;
  order: 2;
}

.sendbird-conversation__messages-list {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-end;
}

.sendbird-conversation__footer {
  width: 100%;
  order: 3;
  padding: 0px 0px 24px 0px;
}

@keyframes sbHighlight {
  0% {
    background-color: #FFF2B6;
  }
  99% {
    background-color: #FFF2B6;
  }
}
@keyframes sbTextHighlight {
  0% {
    color: var(--sendbird-dark-onlight-01);
  }
  99% {
    color: var(--sendbird-dark-onlight-01);
  }
}
@keyframes sbHighlightBlock {
  0% {
    opacity: 0.5;
    background-color: #FFF2B6;
  }
  99% {
    opacity: 0.5;
    background-color: #FFF2B6;
  }
}
.sendbird-msg-hoc__animated .sendbird-message-content {
  animation: bounce 1s ease;
}
@keyframes bounce {
  50% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(0);
  }
  90% {
    transform: translateY(-10px);
  }
  100% {
    transform: translateY(0);
  }
}

.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body {
  animation-name: sbHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-text-message-item-body__message,
.sendbird-msg-hoc__highlighted .sendbird-file-message-item-body__file-name__text {
  animation-name: sbTextHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-voice-message-item-body {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
  display: block;
  animation-name: sbHighlightBlock;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}
.sendbird-msg-hoc__highlighted .sendbird-message-content-reactions {
  animation-name: sbHighlight;
  animation-duration: 1.6s;
  animation-fill-mode: forwards;
}

.sendbird-conversation__scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column;
}
.sendbird-conversation__scroll-container .sendbird-conversation__padding {
  flex: 1 1 0;
}

.sendbird-conversation__footer {
  position: relative;
  box-sizing: border-box;
  margin-top: 6px;
}
.sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator {
  position: absolute;
  display: inline-flex;
  bottom: 8px;
}
.sendbird-conversation__footer .sendbird-conversation__footer__typing-indicator .sendbird-conversation__footer__typing-indicator__text {
  margin-left: 24px;
  margin-right: 10px;
}
.sendbird-connection-status {
  display: flex;
  align-items: center;
  padding-top: 5px;
}
.sendbird-chat-header {
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  min-height: 64px;
  padding-left: 20px;
  padding-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-chat-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-chat-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-chat-header__left {
  margin-right: 24px;
}
.sendbird-chat-header__left, .sendbird-chat-header__right {
  overflow: hidden;
  display: flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-chat-header .sendbird-chat-header__left__title {
  margin-left: 8px;
  margin-right: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 780px;
}
.sendbird--mobile-mode .sendbird-chat-header .sendbird-chat-header__left__title {
  max-width: calc(100vw - 240px);
}
.sendbird-chat-header .sendbird-chat-header__left__subtitle {
  max-width: 240px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-chat-header .sendbird-chat-header__right__mute {
  margin-right: 18px;
}
.sendbird-chat-header .sendbird-iconbutton--pressed {
  background-color: inherit;
}
.sendbird-chat-header .sendbird-chat-header__right__info {
  margin-left: 16px;
}

.sendbird-chat-header__icon_back {
  margin-right: 8px;
}
.sendbird-conversation__messages {
  position: relative;
}
.sendbird-conversation__messages .sendbird-conversation__messages-padding {
  position: relative;
  padding-left: 24px;
  padding-right: 24px;
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird-conversation__messages .sendbird-separator,
.sendbird-conversation__messages .sendbird-admin-message {
  padding-top: 8px;
  padding-bottom: 8px;
}

.sendbird-conversation__messages__notification {
  position: fixed;
  top: 0px;
  width: calc(100% - 50px);
  margin-left: 25px;
}

.sendbird-conversation__scroll-bottom-button {
  position: sticky;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 30px;
  left: calc(100% - 65px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button {
  background-color: var(--sendbird-light-background-50);
  box-shadow: var(--sendbird-light-shadow-05);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button {
  background-color: var(--sendbird-dark-background-400);
  box-shadow: var(--sendbird-dark-shadow-05);
}
.sendbird-conversation__scroll-bottom-button:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-conversation__scroll-bottom-button:active {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-conversation__scroll-bottom-button:active {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-conversation__scroll-bottom-button:focus {
  outline: none;
}
.sendbird-mention-suggest-list {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 56px);
  max-height: 260px;
  overflow: scroll;
  margin-left: 28px;
  margin-right: 28px;
}
.sendbird-theme--light .sendbird-mention-suggest-list {
  border: 1px solid var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-mention-suggest-list {
  border: 1px solid var(--sendbird-dark-background-500);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: 16px 8px;
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item.focused {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__avatar {
  position: relative;
  display: inline-block;
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  position: relative;
  display: inline-block;
  margin-left: 16px;
  max-width: calc(100% - 250px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: calc(100% - 150px);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  position: absolute;
  display: inline-block;
  right: 16px;
  max-width: 180px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 100px;
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: 16px 8px;
}
.sendbird-theme--light .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-mention-suggest-list .sendbird-mention-suggest-list__notice-item .sendbird-mention-suggest-list__notice-item__icon {
  margin-right: 4px;
}
.sendbird-separator {
  width: 100%;
  display: flex;
  align-items: center;
}
.sendbird-separator .sendbird-separator__left {
  border: none;
  height: 1px;
  display: inline-block;
  width: 100%;
}
.sendbird-separator .sendbird-separator__right {
  border: none;
  height: 1px;
  display: inline-block;
  width: 100%;
}
.sendbird-separator .sendbird-separator__text {
  margin: 0px 16px;
  display: flex;
  white-space: nowrap;
}
.sendbird-message-input {
  display: inline-block;
  width: 100%;
  position: relative;
}
.sendbird-message-input .sendbird-message-input--textarea {
  position: relative;
  width: 100%;
  border-radius: 4px;
  font-size: 14px;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.43;
  height: 56px;
  overflow-y: scroll;
  letter-spacing: normal;
  padding: 18px 64px 18px 16px;
  box-sizing: border-box;
  resize: none;
  font-family: var(--sendbird-font-family-default);
  background-color: inherit;
  white-space: pre-wrap;
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea {
  color: var(--sendbird-light-onlight-01);
  caret-color: var(--sendbird-light-primary-300);
  border: solid 1px var(--sendbird-light-onlight-03);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea {
  color: var(--sendbird-dark-ondark-01);
  caret-color: var(--sendbird-dark-primary-200);
  border: solid 1px var(--sendbird-dark-ondark-03);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-input .sendbird-message-input--textarea:focus {
  outline: none;
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:focus {
  color: var(--sendbird-light-onlight-01);
  border: solid 1px var(--sendbird-light-primary-300);
  box-shadow: var(--sendbird-light-shadow-message-input);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:focus {
  color: var(--sendbird-dark-ondark-01);
  border: solid 1px var(--sendbird-dark-primary-200);
  box-shadow: var(--sendbird-dark-shadow-message-input);
}
.sendbird-theme--light .sendbird-message-input .sendbird-message-input--textarea:active {
  border: solid 1px var(--sendbird-message-input-border-active);
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-message-input .sendbird-message-input--textarea:active {
  border: solid 1px var(--sendbird-message-input-border-active);
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-message-input .sendbird-message-input--placeholder {
  position: absolute;
  pointer-events: none;
  top: 18px;
  left: 16px;
  font-family: var(--sendbird-font-family-default);
  font-size: 14px;
  line-height: 1.43;
}
.sendbird-message-input .sendbird-message-input--attach {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--attach.is-voice-message-enabled {
  right: 48px;
}
.sendbird-message-input .sendbird-message-input--voice-message {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--send {
  position: absolute;
  padding: 6px;
  right: 16px;
  bottom: 14px;
}
.sendbird-message-input .sendbird-message-input--attach-input {
  display: none;
}

.sendbird-message-input__edit {
  padding: 16px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-input__edit {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-input__edit {
  background-color: var(--sendbird-dark-background-700);
}

.sendbird-message-input--edit-action {
  text-align: right;
  margin-top: 4px;
}
.sendbird-message-input--edit-action button:last-child {
  margin-left: 8px;
}
.sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  width: 80px;
}
.sendbird-theme--light .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  border: solid 1px var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-message-input--edit-action .sendbird-message-input--edit-action__cancel {
  border: solid 1px var(--sendbird-dark-ondark-03);
}
.sendbird-message-input--edit-action .sendbird-message-input--edit-action__save {
  width: 80px;
}

.sendbird-message-input-form__disabled {
  cursor: not-allowed;
}

.sendbird-message-input__disabled {
  pointer-events: none;
  cursor: disabled;
}
.sendbird-theme--light .sendbird-message-input__disabled .sendbird-message-input--textarea {
  color: var(--sendbird-light-onlight-04);
  border: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input__disabled .sendbird-message-input--textarea {
  color: var(--sendbird-dark-ondark-04);
  border: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-message-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
.sendbird-message-content.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content .sendbird-message-content__middle {
  max-width: 400px;
}
.sendbird--mobile-mode .sendbird-message-content .sendbird-message-content__middle {
  max-width: calc(100vw - 140px);
}
.sendbird-message-content .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.use-quote {
  margin-top: -8px;
  bottom: -8px;
}

.sendbird-message-content.incoming .sendbird-message-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px;
}
.sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar {
  position: absolute;
  left: 0px;
  bottom: 2px;
}
.sendbird-message-content.incoming .sendbird-message-content__left .sendbird-message-content__left__avatar.use-thread-replies {
  bottom: 35px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  position: absolute;
  bottom: 6px;
  right: -84px;
  white-space: nowrap;
  display: flex;
  flex-direction: row;
  min-width: 80px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__sender-name {
  position: relative;
  margin-left: 12px;
  margin-bottom: 4px;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.incoming .sendbird-message-content__middle .sendbird-message-content__middle__quote-message:hover {
  cursor: pointer;
}
.sendbird-message-content.incoming .sendbird-message-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.use-reactions {
  width: 70px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.chain-top {
  padding-top: 2px;
}
.sendbird-message-content.incoming .sendbird-message-content__right.chain-top.use-quote {
  padding-top: 18px;
}
.sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu {
  position: relative;
  flex-direction: row;
  height: 32px;
  display: none;
}
.sendbird-message-content.incoming .sendbird-message-content__right .sendbird-message-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-message-content.incoming:hover .sendbird-message-content__right .sendbird-message-content-menu {
  display: inline-flex;
}
.sendbird-message-content.incoming:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none;
}

.sendbird-message-content.outgoing .sendbird-message-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left.use-reactions {
  width: 70px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left.use-quote .sendbird-message-content-menu {
  top: 18px;
}
.sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu {
  position: absolute;
  top: 2px;
  right: 4px;
  flex-direction: row;
  display: none;
}
.sendbird-message-content.outgoing .sendbird-message-content__left .sendbird-message-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container {
  position: relative;
  width: 100%;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  position: absolute;
  bottom: 2px;
  left: -84px;
  white-space: nowrap;
  display: flex;
  justify-content: flex-end;
  box-sizing: content-box;
  min-width: 80px;
  min-height: 16px;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-message-content.outgoing .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at .sendbird-message-content__middle__body-container__created-at__component-container {
  position: relative;
  display: inline-flex;
}
.sendbird-message-content.outgoing .sendbird-message-content__right {
  display: none;
}
.sendbird-message-content.outgoing:hover .sendbird-message-content__left .sendbird-message-content-menu {
  display: inline-flex;
}
.sendbird-message-content.outgoing:hover .sendbird-message-content__middle .sendbird-message-content__middle__body-container .sendbird-message-content__middle__body-container__created-at {
  display: none;
}

.sendbird-message-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column;
}
.sendbird-message-content__middle__body-container .sendbird-message-content__middle__message-item-body {
  width: 100%;
  box-sizing: border-box;
}

.sendbird-message-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-message-content-reactions {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-content-reactions {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-message-content-reactions.primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-content-reactions.primary {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-message-content-reactions:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-message-content-reactions:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-message-content-reactions:hover.primary {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-message-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-message-content-reactions:hover.primary {
  background-color: var(--sendbird-dark-primary-300);
}

.sendbird-message-content__middle__thread-replies {
  margin-top: 4px;
}

.sendbird-voice-message-item-body.sendbird-message-content__middle__message-item-body {
  min-width: 136px;
  height: 50px;
}
.sendbird-message-item-menu__list__menu-item:focus-visible {
  outline: none;
}
.sendbird-text {
  color: var(--primary-1);
}
.sendbird-emoji-reactions {
  display: inline-block;
  border-radius: 16px;
  box-sizing: border-box;
  width: 100%;
  max-width: var(--sendbird-message-balloon-width);
  min-height: 24px;
  padding: 7px 5px 3px 5px;
}
.sendbird-theme--light .sendbird-emoji-reactions {
  background-color: var(--sendbird-light-background-50);
  border: 1px solid var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-emoji-reactions {
  background-color: var(--sendbird-dark-background-600);
  border: 1px solid var(--sendbird-dark-background-500);
}
.sendbird-emoji-reactions .sendbird-emoji-reactions__reaction-badge {
  margin-left: 2px;
  margin-right: 1px;
  margin-bottom: 4px;
}
.sendbird-emoji-reactions:focus {
  outline: none;
}

.sendbird-emoji-reactions .sendbird-context-menu {
  height: 26px;
}

.sendbird-emoji-reactions__add-reaction-badge {
  position: relative;
  top: -4px;
  display: inline-flex;
  width: 36px;
  height: 24px;
}

.sendbird-emoji-reactions .sendbird-context-menu {
  margin-left: 2px;
}
.sendbird-tooltip {
  position: relative;
  display: inline-flex;
  justify-content: center;
  max-width: 200px;
  border-radius: 8px;
  padding: 8px 16px;
}
.sendbird-theme--light .sendbird-tooltip {
  background-color: var(--sendbird-light-background-700);
}
.sendbird-theme--dark .sendbird-tooltip {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-tooltip::after {
  content: "";
  position: absolute;
  bottom: -4px;
  width: 8px;
  height: 8px;
  transform: rotate(45deg);
}
.sendbird-theme--light .sendbird-tooltip::after {
  background-color: var(--sendbird-light-background-700);
}
.sendbird-theme--dark .sendbird-tooltip::after {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-tooltip__text {
  font-family: var(--sendbird-font-family-default);
  font-size: 12px;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: 1.33;
  letter-spacing: normal;
  word-break: keep-all;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-tooltip-wrapper {
  position: relative;
  display: inline-flex;
}
.sendbird-tooltip-wrapper__hover-tooltip {
  position: absolute;
  display: inline-flex;
  width: 200px;
}
.sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container {
  position: relative;
  display: inline-flex;
}
.sendbird-reaction-badge {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-badge {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-background-500);
}
.sendbird-reaction-badge:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}

.sendbird-reaction-badge--is-add {
  display: inline-block;
  border-radius: 15px;
  width: 36px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge--is-add {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-reaction-badge--is-add {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-background-500);
}
.sendbird-reaction-badge--is-add:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge--is-add:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge--is-add:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}
.sendbird-reaction-badge--is-add .sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
  left: 8px;
}

.sendbird-reaction-badge--selected {
  display: inline-block;
  border-radius: 15px;
  width: 50px;
  height: 24px;
}
.sendbird-theme--light .sendbird-reaction-badge--selected {
  background-color: var(--sendbird-light-primary-100);
  border: solid 1px var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-reaction-badge--selected {
  background-color: var(--sendbird-dark-primary-400);
  border: solid 1px var(--sendbird-dark-primary-400);
}
.sendbird-reaction-badge--selected:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-reaction-badge--selected:hover {
  border: solid 1px var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-reaction-badge--selected:hover {
  border: solid 1px var(--sendbird-dark-primary-200);
}

.sendbird-reaction-badge__inner {
  position: relative;
  display: flex;
  height: 24px;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-left: 20px;
  padding-right: 4px;
}
.sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__icon {
  position: absolute;
  top: 2px;
  left: 4px;
}
.sendbird-reaction-badge__inner .sendbird-reaction-badge__inner__count {
  margin-left: 4px;
}
.sendbird-admin-message {
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-admin-message .sendbird-admin-message__text {
  display: flex;
}
.sendbird-text-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: content-box;
  padding: 8px 12px;
  border-radius: 16px;
  white-space: pre-line;
  word-break: break-word;
}
.sendbird-text-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-text-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-text-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-text-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-text-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-text-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-text-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-text-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-text-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-text-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-text-message-item-body .sendbird-text-message-item-body__text-bubble__message {
  display: inline;
  margin: 0px 2px;
}

div.sendbird-text-message-item-body {
  margin: 0px;
}
.sendbird-word {
  white-space: break-spaces;
}
.sendbird-word .sendbird-word__mention {
  display: inline-block;
}
.sendbird-word .sendbird-word__mention:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
  background-color: var(--sendbird-highlight-100);
}
.sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me {
  background-color: var(--sendbird-highlight-100);
}
.sendbird-theme--light .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-word .sendbird-word__mention.sendbird-word__mention--me .sendbird-label {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-link-label {
  text-decoration: unset;
}
.sendbird-link-label:hover {
  cursor: pointer;
  text-decoration: underline;
}
.sendbird-link-label:focus {
  outline: none;
}
.sendbird-link-label__label {
  display: inline;
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-1 {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-2 {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-onbackground-3 {
  color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-1 {
  color: var(--sendbird-dark-onlight-01);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-light-ondark-02);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-oncontent-2 {
  color: var(--sendbird-dark-onlight-02);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-primary {
  color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-error {
  color: var(--sendbird-dark-error-200);
}

.sendbird-theme--light .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-light-secondary-300);
}
.sendbird-theme--dark .sendbird-link-label .sendbird-label--color-secondary-3 {
  color: var(--sendbird-dark-secondary-200);
}
.sendbird-file-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  align-items: center;
  border-radius: 16px;
}
.sendbird-file-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-file-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-file-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-file-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-file-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-file-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-file-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-file-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-file-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-file-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  width: 28px;
  height: 28px;
  min-width: 28px;
  min-height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  margin-right: 8px;
}
.sendbird-theme--light .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-file-message-item-body .sendbird-file-message-item-body__file-icon {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-file-message-item-body .sendbird-file-message-item-body__file-name {
  position: relative;
  top: -6px;
}
.sendbird-thumbnail-message-item-body {
  position: relative;
  display: block;
  box-sizing: border-box;
  overflow: hidden;
  width: 100%;
  min-width: 360px;
  max-width: 400px;
  height: 270px;
  border-radius: 16px;
}
.sendbird--mobile-mode .sendbird-thumbnail-message-item-body {
  width: 66vw;
  min-width: 160px;
}
.sendbird-thumbnail-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-thumbnail-message-item-body {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-thumbnail-message-item-body {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--light .sendbird-thumbnail-message-item-body:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-thumbnail-message-item-body.mouse-hover, .sendbird-theme--dark .sendbird-thumbnail-message-item-body:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__thumbnail {
  position: absolute;
  border-radius: 16px;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder {
  position: absolute;
  width: 100%;
  height: 270px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__placeholder .sendbird-thumbnail-message-item-body__placeholder__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__image-cover {
  position: absolute;
  top: 0px;
  display: none;
  width: 100%;
  height: 270px;
  border-radius: 16px;
  background-color: var(--sendbird-light-overlay-01);
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__video {
  position: absolute;
  width: 100%;
  height: 270px;
  border-radius: 16px;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper {
  position: absolute;
  width: 100%;
  height: 270px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-thumbnail-message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper .sendbird-thumbnail-message-item-body__icon-wrapper__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-thumbnail-message-item-body:hover {
  cursor: pointer;
}
.sendbird-thumbnail-message-item-body:hover .sendbird-thumbnail-message-item-body__image-cover {
  display: inline-flex;
}
.sendbird-og-message-item-body {
  position: relative;
  display: inline-block;
  width: 100%;
  min-width: 320px;
  max-width: 400px;
}
.sendbird--mobile-mode .sendbird-og-message-item-body {
  width: 66vw;
  min-width: 160px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble {
  position: relative;
  padding: 8px 12px;
  box-sizing: border-box;
  border-radius: 16px 16px 0px 0px;
  word-break: break-word;
  white-space: pre-line;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__text-bubble .sendbird-og-message-item-body__text-bubble__message {
  display: inline;
  margin: 0px 2px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail {
  position: relative;
  overflow: hidden;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail .sendbird-og-message-item-body__og-thumbnail__image {
  width: 100%;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-og-message-item-body.reactions .sendbird-og-message-item-body__description {
  border-radius: 0px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  padding: 8px 12px;
  display: flex;
  flex-direction: column;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-og-message-item-body .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__title,
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__description {
  margin-bottom: 4px;
  width: 100%;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: inline-block;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__description .sendbird-og-message-item-body__description__url {
  width: 100%;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: inline-block;
  margin: 4px 0px;
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__og-thumbnail:hover,
.sendbird-og-message-item-body .sendbird-og-message-item-body__description:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-primary-300);
  color: var(--sendbird-light-ondark-01);
}
.sendbird-theme--dark .sendbird-og-message-item-body.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-primary-200);
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-theme--light .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-background-100);
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-og-message-item-body.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-background-500);
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--light .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover .sendbird-og-message-item-body__description, .sendbird-theme--dark .sendbird-og-message-item-body:hover .sendbird-og-message-item-body__description {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.outgoing .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.outgoing .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--light .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-og-message-item-body.mouse-hover.incoming .sendbird-og-message-item-body__text-bubble, .sendbird-theme--dark .sendbird-og-message-item-body:hover.incoming .sendbird-og-message-item-body__text-bubble {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-og-message-item-body .sendbird-og-message-item-body__cover {
  display: none;
  position: absolute;
  top: 0%;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 16px 16px 0px 0px;
}

div.sendbird-og-message-item-body__text-bubble {
  margin: 0px;
}
.sendbird-unknown-message-item-body {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 12px;
  border-radius: 16px;
}
.sendbird-unknown-message-item-body.reactions {
  border-radius: 16px 16px 0px 0px;
}
.sendbird-theme--light .sendbird-unknown-message-item-body.outgoing {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.outgoing {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.incoming {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.incoming {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.outgoing {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.outgoing, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.outgoing {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--light .sendbird-unknown-message-item-body:hover.incoming {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-unknown-message-item-body.mouse-hover.incoming, .sendbird-theme--dark .sendbird-unknown-message-item-body:hover.incoming {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__header {
  display: block;
}
.sendbird-unknown-message-item-body .sendbird-unknown-message-item-body__description {
  display: block;
}
.sendbird-quote-message {
  position: relative;
  display: inline-flex;
  box-sizing: border-box;
  flex-direction: column;
  max-width: 400px;
}
.sendbird-quote-message.incoming {
  align-items: flex-start;
}
.sendbird-quote-message.outgoing {
  align-items: flex-end;
}
.sendbird-quote-message .sendbird-quote-message__replied-to {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  height: 16px;
  padding: 0px 12px;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__icon {
  position: relative;
  margin-bottom: 4px;
  margin-right: 4px;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text {
  position: relative;
  max-width: 360px;
  overflow: hidden;
  overflow-x: hidden;
  white-space: nowrap;
  word-break: keep-all;
  text-overflow: ellipsis;
  font-size: 12px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text .sendbird-quote-message__replied-to__text__nickname {
  display: inline-block;
  max-width: 148px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-quote-message .sendbird-quote-message__replied-to .sendbird-quote-message__replied-to__text .sendbird-quote-message__replied-to__text__text {
  margin: 0px 4px;
}
.sendbird-quote-message .sendbird-quote-message__replied-message {
  position: relative;
  display: inline-flex;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  position: relative;
  white-space: pre-wrap;
  word-break: break-all;
  font-size: 12px;
  padding: 8px 12px 16px 12px;
  border-radius: 16px;
  opacity: 0.5;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__text-message .sendbird-quote-message__replied-message__text-message__word {
  position: relative;
  display: inline-flex;
  max-height: 30px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  position: relative;
  width: 144px;
  height: 108px;
  border-radius: 6.4px;
  overflow: hidden;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__video,
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__image {
  position: absolute;
  top: 0px;
  display: inline-flex;
  width: 100%;
  height: 100%;
  opacity: 0.5;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder {
  position: absolute;
  display: inline-flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__placeholder .sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  position: absolute;
  display: inline-flex;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
  top: 0px;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  background-color: rgba(255, 255, 255, 0.4);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover {
  background-color: rgba(255, 255, 255, 0.4);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  background-color: rgb(255, 255, 255);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__thumbnail-message .sendbird-quote-message__replied-message__thumbnail-message__cover .sendbird-quote-message__replied-message__thumbnail-message__cover__icon {
  background-color: rgb(255, 255, 255);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  font-size: 12px;
  padding: 8px 12px 16px 12px;
  border-radius: 16px;
  opacity: 0.5;
}
.sendbird-theme--light .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote-message .sendbird-quote-message__replied-message .sendbird-quote-message__replied-message__file-message .sendbird-quote-message__replied-message__file-message__type-icon {
  margin-right: 2px;
}
.sendbird-quote-message:hover {
  cursor: pointer;
}

.sendbird-quote-message.unavailable:hover {
  cursor: default;
}
.sendbird-message__mobile-context-menu {
  border-radius: 8px;
  width: 180px;
}

.sendbird-message__contextmenu--hyperlink {
  display: flex;
  justify-content: space-between;
}

.sendbird-message__bottomsheet--hyperlink {
  display: block;
}

.sendbird-message__bottomsheet--hyperlink,
.sendbird-message__contextmenu--hyperlink {
  width: 100%;
  text-decoration: none;
  color: inherit;
  font-size: inherit;
  font-weight: inherit;
  font-stretch: normal;
  font-style: normal;
  line-height: inherit;
  letter-spacing: inherit;
  font-family: inherit;
}

.sendbird-message__mobile-context-menu-item .sendbird-dropdown__menu-item__text {
  display: flex;
  justify-content: space-between;
}
.sendbird-theme--light .sendbird-message__mobile-context-menu-item:not(:last-child) {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message__mobile-context-menu-item:not(:last-child) {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-message__bottomsheet {
  width: 100vw;
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  padding-top: 16px;
}
.sendbird-theme--light .sendbird-message__bottomsheet {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message__bottomsheet {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-message__bottomsheet-reaction-bar {
  padding-left: 0;
  display: flex;
  justify-content: center;
  margin-bottom: 0px;
  margin-top: 0;
}

.sendbird-message__bottomsheet-reaction-bar__row {
  display: inline-block;
}
.sendbird-message__bottomsheet-reaction-bar__row.sendbird-message__bottomsheet-reaction-bar__all {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}

.sendbird-message__bottomsheet--action {
  cursor: pointer;
  height: 48px;
  display: flex;
  align-items: center;
  padding-left: 16px;
}
.sendbird-message__bottomsheet--action .sendbird-icon {
  margin-right: 24px;
}

.sendbird-message__bottomsheet--action-disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-message__bottomsheet--action-disabled {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message__bottomsheet--action-disabled {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-bottomsheet {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.sendbird-bottomsheet__content {
  z-index: 10001;
  position: fixed;
  bottom: 0;
  left: 0;
}

.sendbird-bottomsheet__backdrop {
  position: fixed;
  z-index: 10000;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-bottomsheet__backdrop {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-bottomsheet__backdrop {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-ui-thread-replies {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: 20px;
  min-height: 20px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  padding: 4px 10px;
  gap: 4px;
  border-radius: 16px;
  flex: none;
  order: 0;
  flex-grow: 0;
}
.sendbird-theme--light .sendbird-ui-thread-replies {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-ui-thread-replies {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-ui-thread-replies:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-ui-thread-replies:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-ui-thread-replies:hover {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-ui-thread-replies__user-profiles {
  position: relative;
  width: 100%;
  height: 100%;
  gap: 4px;
  display: inline-flex;
  flex-direction: row;
}

.sendbird-ui-thread-replies__user-profiles__avatar {
  position: relative;
  width: 20px;
  height: 20px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

.sendbird-ui-thread-replies__user-profiles__avatar__image {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
}

.sendbird-ui-thread-replies__user-profiles__avatar__cover {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background-color: var(--sendbird-light-overlay-01);
}

.sendbird-ui-thread-replies__user-profiles__avatar__plus {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 20px;
  height: 20px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

.sendbird-ui-thread-replies__reply-counts {
  position: relative;
  min-width: -moz-fit-content;
  min-width: fit-content;
  height: 12px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  white-space: nowrap;
}

.sendbird-ui-thread-replies__icon {
  position: relative;
  display: inline-flex;
}
.sendbird-voice-message-item-body {
  position: relative;
  display: inline-flex;
  width: 100%;
  border-radius: 16px;
  overflow: hidden;
}

.sendbird-voice-message-item-body.is-reactions-contained {
  border-radius: 16px 16px 0px 0px;
}

.sendbird-voice-message-item-body__progress-bar {
  position: absolute;
  width: 100%;
  height: 50px;
}

.sendbird-voice-message-item-body__status-button {
  position: relative;
  top: 8px;
  left: 12px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
}

.sendbird-voice-message-item-body__status-button__button {
  width: 100%;
  height: 100%;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-item-body__status-button__button {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-voice-message-item-body__status-button__button {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-voice-message-item-body__playback-time {
  position: absolute;
  top: 15px;
  right: 12px;
}

.sendbird-voice-message-item-body__status-button__button__pause {
  position: relative;
  display: inline-flex;
  justify-content: space-between;
  align-items: center;
  width: 13.75px;
  height: 13.75px;
}

.sendbird-voice-message-item-body__status-button__button__pause__inner {
  position: relative;
  display: inline-flex;
  width: 4.38px;
  height: 13.75px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-voice-message-item-body__status-button__button__pause__inner {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-voice-message-item-body__status-button__button__pause__inner {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-progress-bar, .sendbird-progress-bar__fill {
  display: inline-flex;
  width: 100%;
  height: 100%;
}

.sendbird-progress-bar {
  justify-content: flex-start;
}

.sendbird-theme--light .sendbird-progress-bar__fill {
  background-color: var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-progress-bar__fill {
  background-color: var(--sendbird-dark-ondark-03);
}

.sendbird-theme--light .progress-bar-color--primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .progress-bar-color--primary {
  background-color: var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-progress-bar.progress-bar--disabled, .sendbird-theme--light .progress-bar-color--gray {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-progress-bar.progress-bar--disabled, .sendbird-theme--dark .progress-bar-color--gray {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-progress-bar.progress-bar--disabled .sendbird-progress-bar__fill {
  background-color: transparent;
}
.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-fileviewer__header__right__actions__download .disabled,
.sendbird-fileviewer__header__right__actions__delete .disabled,
.sendbird-fileviewer__header__right__actions__close .disabled {
  cursor: not-allowed;
}

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-fileviewer {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-fileviewer {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-fileviewer .sendbird-fileviewer__header {
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header {
  position: relative;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  align-items: center;
  height: 64px;
  padding: 16px 20px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
  margin-right: 8px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  max-width: 500px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  position: absolute;
  left: 64px;
  top: 10px;
  display: block;
  max-width: calc(100vw - 240px);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-flex;
  margin-left: 8px;
  padding-top: 5px;
}
.sendbird--mobile-mode .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  position: absolute;
  left: 56px;
  top: 24px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
  display: flex;
  width: 160px;
  justify-content: flex-end;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
  right: 0;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__content {
  height: calc(100% - 72px);
  margin-top: 8px;
  overflow-y: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
  max-width: 100%;
  max-height: 100%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
  max-width: 90%;
  max-height: 90%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
  max-width: 100%;
  max-height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-notification--hide,
.sendbird-notification {
  position: absolute;
}

.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-notification {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-notification {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-notification:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-notification:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-notification:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-notification .sendbird-notification__text {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
}

.sendbird-notification--hide {
  display: none;
}
.sendbird-notification {
  margin-top: 8px;
  margin-left: 24px;
  margin-right: 24px;
  border-radius: 4px;
  padding: 0px 2px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-theme--light .sendbird-notification {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-notification {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-notification:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-notification:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-notification:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-theme--light .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-notification.sendbird-notification--frozen .sendbird-notification__text {
  color: var(--sendbird-dark-onlight-01);
}
.sendbird-notification .sendbird-notification__text {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
}
.sendbird-message-input-wrapper--voice-message,
.sendbird-message-input-wrapper {
  position: relative;
  width: 100%;
}
.sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  position: relative;
  width: 100%;
}
.sendbird-theme--light .sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-theme--light .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  border-top: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__quote-message-input,
.sendbird-theme--dark .sendbird-message-input-wrapper .sendbird-message-input-wrapper__quote-message-input {
  border-top: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-message-input-wrapper--voice-message .sendbird-message-input-wrapper__message-input,
.sendbird-message-input-wrapper .sendbird-message-input-wrapper__message-input {
  position: relative;
  width: 100%;
  box-sizing: border-box;
  padding-left: 24px;
  padding-right: 24px;
}

.sendbird-theme--light .sendbird-message-input-wrapper--voice-message {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-input-wrapper--voice-message {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-quote_message_input {
  position: relative;
  padding: 16px 80px 16px 40px;
  width: 100%;
  height: 76px;
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}
.sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  width: 44px;
  min-width: 44px;
  height: 44px;
  min-height: 44px;
  position: relative;
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-theme--light .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-quote_message_input .sendbird-quote_message_input__avatar {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-quote_message_input .sendbird-quote_message_input__body {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  overflow: hidden;
}
.sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__sender-name {
  position: relative;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  box-sizing: border-box;
  margin-bottom: 8px;
}
.sendbird-quote_message_input .sendbird-quote_message_input__body .sendbird-quote_message_input__body__message-content {
  position: relative;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  box-sizing: border-box;
}
.sendbird-quote_message_input .sendbird-quote_message_input__close-button {
  position: absolute;
  top: 26px;
  right: 40px;
}
.sendbird-quote_message_input .sendbird-quote_message_input__close-button:hover {
  cursor: pointer;
}
.sendbird-voice-message-input-wrapper .sendbird-voice-message-input__indicator {
  height: 40px;
}

.sendbird-voice-message-input-wrapper-alert__body {
  position: relative;
  display: flex;
  justify-content: flex-end;
  align-items: flex-end;
  width: 100%;
  height: 74px;
}

.sendbird-voice-message-input-wrapper-alert__body__ok-button {
  width: 74px;
}
.sendbird-voice-message-input {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  width: 100%;
  height: 110px;
  padding-top: 22px;
  padding-left: 24px;
  padding-right: 24px;
  box-sizing: border-box;
}

.sendbird-voice-message-input__indicator {
  position: relative;
  display: inline-flex;
  width: 100%;
}

.sendbird-voice-message-input__indicator__progress-bar {
  position: relative;
  display: inline-flex;
  width: 100%;
  border-radius: 28px;
  overflow: hidden;
}

.sendbird-voice-message-input__indicator__on-rec {
  position: absolute;
  top: 14px;
  right: 53px;
}

.sendbird-voice-message-input__indicator__playback-time {
  position: absolute;
  top: 10px;
  right: 16px;
}

.sendbird-voice-message-input__controler {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  margin-top: 14px;
  height: 34px;
  min-height: 34px;
}

.sendbird-voice-message-input__controler__main {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-input__controler__main {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__main {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-voice-message-input__controler__main:hover {
  cursor: pointer;
}

.sendbird-voice-message-input__controler__submit {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  min-width: 34px;
  min-height: 34px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-voice-message-input__controler__submit {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__submit {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-voice-message-input__controler__submit:hover {
  cursor: pointer;
}

.sendbird-theme--light .sendbird-voice-message-input__controler__submit.voice-message--disabled {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-voice-message-input__controler__submit.voice-message--disabled {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-voice-message-input__controler__submit.voice-message--disabled:hover {
  cursor: default;
}

@keyframes flickerAnimation {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
.sendbird-voice-message-input__indicator__on-rec {
  width: 12px;
  height: 12px;
  min-width: 12px;
  min-height: 12px;
  border-radius: 50%;
  animation: flickerAnimation 1s infinite;
}
.sendbird-theme--light .sendbird-voice-message-input__indicator__on-rec {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-voice-message-input__indicator__on-rec {
  background-color: var(--sendbird-dark-error-300);
}

.sendbird-voice-message-input__indicator__progress-bar__bar {
  height: 40px;
}

.sendbird-controler-icon {
  position: relative;
  display: inline-block;
}

.sendbird-controler-icon.record-icon {
  width: 20px;
  height: 20px;
  min-width: 20px;
  min-height: 20px;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-controler-icon.record-icon {
  background-color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-controler-icon.record-icon {
  background-color: var(--sendbird-dark-error-300);
}

.sendbird-controler-icon.stop-icon {
  width: 14px;
  height: 14px;
  min-width: 14px;
  min-height: 14px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-controler-icon.stop-icon {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-controler-icon.stop-icon {
  background-color: var(--sendbird-dark-ondark-01);
}

.sendbird-controler-icon.pause-icon {
  display: inline-flex;
  width: 100%;
  gap: 3.75px;
  width: 13.75px;
  height: 13.75px;
  min-width: 13.75px;
  min-height: 13.75px;
}

.sendbird-controler-icon.pause-icon-inner {
  display: inline-flex;
  min-width: 4.38px;
  border-radius: 2px;
}
.sendbird-theme--light .sendbird-controler-icon.pause-icon-inner {
  background-color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-controler-icon.pause-icon-inner {
  background-color: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  box-sizing: border-box;
}
.sendbird--mobile-mode .sendbird-channel-settings {
  width: 100%;
}
.sendbird-theme--light .sendbird-channel-settings {
  background-color: var(--sendbird-light-background-50);
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings {
  background-color: var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-channel-settings .sendbird-channel-settings__header-icon {
  cursor: pointer;
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header-icon .sendbird-channel-settings__close-icon path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-settings .sendbird-channel-settings__members .sendbird-badge__text {
  margin-top: -2px;
}
.sendbird-channel-settings .sendbird-channel-settings__header {
  height: 64px;
  min-height: 64px;
  position: relative;
  padding: 20px 24px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-channel-settings .sendbird-channel-settings__scroll-area {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
  height: calc(100% - 64px);
  overflow-y: auto;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-item {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-item {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item:focus {
  outline: none;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
  cursor: not-allowed;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-left,
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
  position: absolute;
  top: 10px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-left {
  left: 16px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon-right {
  right: 16px;
}
.sendbird-channel-settings .sendbird-channel-settings__panel-icon--open {
  transform: rotate(90deg);
}
.sendbird-theme--light .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-channel-settings .sendbird-channel-settings__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-channel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px;
}
.sendbird-theme--light .sendbird-channel-profile {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-channel-profile {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-channel-profile .sendbird-channel-profile--inner {
  height: 92px;
}
.sendbird-channel-profile .sendbird-channel-profile__avatar {
  margin-bottom: 16px;
  display: flex;
  justify-content: center;
}
.sendbird-channel-profile .sendbird-channel-profile__title {
  display: block;
  max-width: 240px;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  height: 18px;
}
.sendbird--mobile-mode .sendbird-channel-profile .sendbird-channel-profile__title {
  max-width: 100%;
}
.sendbird-channel-profile .sendbird-channel-profile__edit {
  position: absolute;
  top: 10px;
  right: 16px;
}

.channel-profile-form .channel-profile-form__img-section {
  position: relative;
}
.channel-profile-form .channel-profile-form__avatar-button {
  position: absolute;
  top: 54px;
  left: 96px;
}
.channel-profile-form .channel-profile-form__avatar {
  margin-top: 16px;
}
.channel-profile-form .channel-profile-form__name-section {
  margin-top: 12px;
}
.channel-profile-form .channel-profile-form__name-section .sendbird-input {
  height: 40px;
}
.sendbird-channel-settings__operator .sendbird-channel-settings__accordion-icon {
  position: absolute;
  left: 14px;
}
.sendbird-channel-settings__operator .sendbird-accordion__panel-heder {
  position: relative;
}

.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-more-members__popup-scroll {
  max-height: 100%;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
  right: 72px;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
  max-width: 240px;
}

.sendbird-channel-settings__empty-list {
  text-align: center;
  margin-top: 12px;
  margin-bottom: 4px;
  display: block;
}

.sendbird-channel-settings-accordion__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px;
}
.sendbird-channel-settings-accordion__footer .sendbird-button:nth-child(2) {
  margin-left: 8px;
}

.sendbird-channel-settings__freeze {
  max-width: 320px;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird--mobile-mode .sendbird-channel-settings__freeze {
  max-width: 100%;
}
.sendbird-theme--light .sendbird-channel-settings__freeze {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-channel-settings__freeze {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-channel-settings__frozen-icon {
  position: absolute;
  right: 20px;
  top: 12px;
}
.sendbird-channel-settings__frozen-icon .sendbird-icon {
  cursor: pointer;
}

.sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-channel-settings__members .sendbird-badge {
  position: absolute;
  right: 44px;
  top: 12px;
}
.sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-theme--light .sendbird-channel-settings__members .sendbird-badge {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge,
.sendbird-theme--dark .sendbird-channel-settings__members .sendbird-badge {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label,
.sendbird-theme--light .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-channel-settings__members-list .sendbird-badge .sendbird-label,
.sendbird-theme--dark .sendbird-channel-settings__members .sendbird-badge .sendbird-label {
  color: var(--sendbird-dark-ondark-02);
}
.sendbird-accordion {
  padding: 8px 0px 16px 0px;
  position: relative;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-accordion {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-accordion {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-accordion .sendbird-accordion__member {
  position: relative;
  padding: 12px 0px 12px 44px;
  height: 40px;
  box-sizing: border-box;
}
.sendbird-accordion .sendbird-accordion__footer {
  display: flex;
  justify-content: flex-start;
  margin-top: 8px;
}

.sendbird-accordion__panel-header {
  cursor: pointer;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-accordion__panel-header {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-accordion__panel-header {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-accordion__panel-header:focus {
  outline: none;
}
.sendbird-accordion__panel-header.sendbird-accordion__panel-item__disabled {
  cursor: not-allowed;
}

.sendbird-accordion__panel-icon-left,
.sendbird-accordion__panel-icon-right {
  position: absolute;
  top: 10px;
}

.sendbird-accordion__panel-icon-left {
  left: 16px;
}

.sendbird-accordion__panel-icon-right {
  right: 16px;
}

.sendbird-accordion__panel-icon--open {
  transform: rotate(90deg);
}

.sendbird-theme--light .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-accordion__panel-icon--chevron path {
  fill: var(--sendbird-dark-ondark-01);
}

.sendbird-theme--light .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .sendbird-accordion__panel-icon__leave path {
  fill: var(--sendbird-dark-error-300);
}
.sendbird-input-toggle-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
  cursor: pointer;
}

.sendbird-theme--light .sendbird-input-toggle-button--checked {
  background-color: var(--sendbird-light-primary-300);
  border: 1px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-input-toggle-button--checked {
  background-color: var(--sendbird-dark-primary-200);
  border: 1px solid var(--sendbird-dark-primary-200);
}

.sendbird-theme--light .sendbird-input-toggle-button--unchecked {
  background-color: var(--sendbird-light-background-300);
  border: 1px solid var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-input-toggle-button--unchecked {
  background-color: var(--sendbird-dark-background-400);
  border: 1px solid var(--sendbird-dark-background-400);
}

.sendbird-input-toggle-button--disabled {
  cursor: not-allowed;
}
.sendbird-theme--light .sendbird-input-toggle-button--disabled {
  background-color: var(--sendbird-light-background-200);
  border: 1px solid var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-input-toggle-button--disabled {
  background-color: var(--sendbird-dark-background-400);
  border: 1px solid var(--sendbird-dark-background-400);
}

.sendbird-input-toggle-button input {
  position: absolute;
  display: none;
}

.sendbird-input-toggle-button__inner-dot {
  position: absolute;
  border-radius: 50%;
  animation-iteration-count: 1;
}
.sendbird-theme--light .sendbird-input-toggle-button__inner-dot {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-input-toggle-button__inner-dot {
  background-color: var(--sendbird-dark-background-600);
}

/* Manage animation and position by status */
@keyframes sendbirdMoveToRight {
  0% {
    right: 60%;
  }
  100% {
    right: 10%;
  }
}
@keyframes sendbirdMoveToLeft {
  0% {
    right: 10%;
  }
  100% {
    right: 60%;
  }
}
.sendbird-input-toggle-button--turned-on .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToRight;
}

.sendbird-input-toggle-button--turned-off .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToLeft;
}

.sendbird-input-toggle-button--unchecked .sendbird-input-toggle-button__inner-dot {
  right: 60%;
}

.sendbird-input-toggle-button--checked .sendbird-input-toggle-button__inner-dot {
  right: 10%;
}

.sendbird-input-toggle-button--reversed .sendbird-input-toggle-button--turned-on .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToLeft;
}
.sendbird-input-toggle-button--reversed .sendbird-input-toggle-button--turned-off .sendbird-input-toggle-button__inner-dot {
  animation-name: sendbirdMoveToRight;
}
.sendbird-input-toggle-button--reversed.sendbird-input-toggle-button--unchecked .sendbird-input-toggle-button__inner-dot {
  right: 10%;
}
.sendbird-input-toggle-button--reversed.sendbird-input-toggle-button--checked .sendbird-input-toggle-button__inner-dot {
  right: 60%;
}
.sendbird-user-list-item--small {
  display: block;
  position: relative;
  box-sizing: border-box;
  height: 40px;
}
.sendbird-user-list-item--small__avatar {
  cursor: pointer;
  position: absolute;
  top: 10px;
  left: 12px;
}
.sendbird-user-list-item--small .sendbird-muted-avatar {
  position: absolute;
  top: 10px;
  left: 12px;
  pointer-events: none;
}
.sendbird-user-list-item--small__title {
  position: absolute;
  top: 10px;
  left: 54px;
  width: 160px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-user-list-item--small__subtitle {
  position: absolute;
  top: 23px;
  left: 140px;
  max-width: 237px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird--mobile-mode .sendbird-user-list-item--small__subtitle {
  max-width: 40%;
}
.sendbird-user-list-item--small__checkbox {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-user-list-item--small__action {
  display: none;
  position: absolute;
  right: 10px;
  top: 4px;
}
.sendbird-user-list-item--small__operator {
  position: absolute;
  right: 24px;
  top: 10px;
}
.sendbird-theme--light .sendbird-user-list-item--small:hover, .sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-user-list-item--small:hover, .sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-user-list-item--small:hover .sendbird-user-list-item--small__action, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__action {
  display: block;
}
.sendbird-user-list-item--small:hover .sendbird-user-list-item--small__operator, .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-user-list-item--small__operator {
  display: none;
}
.sendbird-theme--light .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-user-list-item--small.sendbird-icon--pressed .sendbird-iconbutton {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-channel-settings__leave-label--mobile {
  text-decoration: none;
}

.sendbird-channel-settings__leave--mobile .sendbird-modal__content {
  max-width: calc(100% - 80px);
}
.sendbird-channel-settings__leave--mobile .sendbird-modal__close {
  display: none;
}
.sendbird-channel-settings__leave--mobile .sendbird-channel-preview__leave-label--mobile {
  text-decoration: none;
}
.sendbird-channel-settings__leave--mobile .sendbird-modal__header span {
  display: inline-block;
  width: calc(100% - 120px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-more-members__popup-scroll {
  max-height: 420px;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird--mobile-mode .sendbird-more-members__popup-scroll {
  max-height: 100%;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__operator {
  right: 72px;
}
.sendbird-more-members__popup-scroll .sendbird-user-list-item__title {
  max-width: 240px;
}

.sendbird-channel-settings__badge {
  position: absolute;
  right: 48px;
}
.sendbird-theme--light .sendbird-channel-settings__badge {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-channel-settings__badge {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-channel-settings__badge .sendbird-label {
  color: var(--sendbird-light-onlight-02);
}
.sendbird-theme--dark .sendbird-channel-settings__badge .sendbird-label {
  color: var(--sendbird-dark-ondark-02);
}

.sendbird-channel-settings__user-panel .sendbird-channel-settings-accordion__footer {
  padding-left: 14px;
  padding-top: 14px;
}
.sendbird-message-search-pannel {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100%;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-search-pannel {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-pannel {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird--mobile-mode .sendbird-message-search-pannel {
  width: 100%;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  position: absolute;
  top: 14px;
  left: 48px;
  margin: 0px;
  padding: 0px;
  border: 0px;
  outline: none;
  font-size: 14px;
  width: calc(100% - 90px);
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  color: var(--sendbird-light-onlight-01);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input__container__input-area {
  color: var(--sendbird-dark-ondark-01);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  position: relative;
  display: flex;
  width: 100%;
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__title {
  position: absolute;
  top: 20px;
  left: 24px;
  width: calc(100% - 74px);
  overflow-x: hidden;
  word-break: keep-all;
  text-overflow: ellipsis;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__header .sendbird-message-search-pannel__header__close-button {
  position: absolute;
  top: 16px;
  right: 16px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input {
  display: flex;
  position: relative;
  padding: 16px;
  box-sizing: border-box;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  position: relative;
  border-radius: 4px;
  width: 100%;
  height: 44px;
}
.sendbird-theme--light .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  border: 1px solid var(--sendbird-light-onlight-03);
}
.sendbird-theme--dark .sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container {
  border: 1px solid var(--sendbird-dark-ondark-03);
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__search-icon {
  position: absolute;
  top: 10px;
  left: 16px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__spinner {
  position: absolute;
  top: 12px;
  right: 12px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button {
  position: absolute;
  top: 12px;
  right: 12px;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__input .sendbird-message-search-pannel__input__container .sendbird-message-search-pannel__input__container__reset-input-button:hover {
  cursor: pointer;
}
.sendbird-message-search-pannel .sendbird-message-search-pannel__message-search {
  position: relative;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  overflow-y: hidden;
}
.sendbird-message-search {
  position: relative;
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}
.sendbird-theme--light .sendbird-message-search {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-message-search-item {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  position: relative;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-message-search-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-message-search-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-item:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-item .sendbird-message-search-item__left {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 90px;
  height: 80px;
}
.sendbird-message-search-item .sendbird-message-search-item__right {
  display: flex;
  flex-direction: column;
  width: calc(100% - 106px);
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__sender-name {
  position: absolute;
  top: 12px;
  display: inline;
  max-width: 150px;
  height: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-text {
  box-sizing: border-box;
  display: flex;
  width: inherit;
  height: 32px;
  overflow: hidden;
  text-overflow: ellipsis;
  position: absolute;
  top: 36px;
  word-break: break-word;
}
.sendbird-message-search-item .sendbird-message-search-item__right .sendbird-message-search-item__right__message-created-at {
  position: absolute;
  top: 12px;
  right: 18px;
}
.sendbird-message-search-item .sendbird-message-search-item__right-footer {
  width: 16px;
}

.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-search-item.sendbird-message-search-item--selected .sendbird-message-search-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200);
}
.sendbird-message-search-file-item {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 80px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-message-search-file-item {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-message-search-file-item {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-message-search-file-item:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item:hover {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__left {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 90px;
  height: 80px;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right {
  position: relative;
  display: flex;
  flex-direction: column;
  width: calc(100% - 106px);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__sender-name {
  position: absolute;
  top: 12px;
  display: inline-block;
  max-width: 146px;
  height: 16px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content {
  position: absolute;
  top: 36px;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  display: flex;
  flex-direction: row;
  align-items: center;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  position: relative;
  margin-right: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 26px;
  min-width: 26px;
  height: 26px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__type-icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right .sendbird-message-search-file-item__right__content .sendbird-message-search-file-item__right__content__url {
  height: 16px;
  position: relative;
  display: inline;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: keep-all;
  white-space: nowrap;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__message-created-at {
  position: absolute;
  top: 12px;
  right: 18px;
}
.sendbird-message-search-file-item .sendbird-message-search-file-item__right-footer {
  width: 16px;
}

.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-theme--light .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-message-search-file-item.sendbird-message-search-file-item--selected .sendbird-message-search-file-item__left {
  border-left: 4px solid var(--sendbird-dark-primary-200);
}
.sendbird-thread-ui {
  position: relative;
  max-width: 320px;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
}
.sendbird-theme--light .sendbird-thread-ui {
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-thread-ui {
  border-right: 1px solid var(--sendbird-dark-ondark-04);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-thread-ui__header {
  width: 100%;
}
.sendbird-theme--light .sendbird-thread-ui__header {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__header {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-thread-ui--scroll {
  overflow-y: scroll;
  overflow-x: hidden;
  height: 100%;
  display: inline-flex;
  flex-direction: column;
  justify-content: flex-start;
}

.sendbird-theme--light .sendbird-thread-ui__parent-message-info {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__parent-message-info {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-theme--light .sendbird-thread-ui__parent-message-info .sendbird-word__mention .sendbird-label {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-thread-ui__parent-message-info .sendbird-word__mention .sendbird-label {
  color: var(--sendbird-dark-ondark-01);
}

.sendbird-thread-ui__reply-counts {
  position: relative;
  box-sizing: border-box;
  width: 100%;
  height: 42px;
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  padding: 16px 11px;
}
.sendbird-theme--light .sendbird-thread-ui__reply-counts {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-ui__reply-counts {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}

.sendbird-thread-ui__thread-list {
  padding: 16px;
}

.sendbird-thread-ui__message-input {
  padding: 0px 16px;
  margin-bottom: 24px;
}

.sendbird-thread-ui__thread-list.sendbird-place-holder {
  box-sizing: border-box;
}
.sendbird-parent-message-info {
  position: relative;
  width: 100%;
  height: -moz-fit-content;
  height: fit-content;
  padding: 12px 12px 12px 16px;
  display: inline-flex;
  flex-direction: row;
  align-items: flex-start;
  box-sizing: border-box;
}

.sendbird-parent-message-info__sender {
  position: relative;
  min-width: 40px;
  min-height: 40px;
}

.sendbird-parent-message-info__content {
  position: relative;
  margin-left: 12px;
  display: inline-flex;
  flex-direction: column;
}

.sendbird-parent-message-info__content__info {
  position: relative;
  max-width: 188px;
  height: 16px;
  display: inline-flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
}

.sendbird-parent-message-info__content__info__sender-name,
.sendbird-parent-message-info__content__info__sender-name--use-reaction {
  position: relative;
  margin-right: 6px;
  word-break: keep-all;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-parent-message-info__content__info__sender-name {
  max-width: 142px;
}

.sendbird-parent-message-info__content__info__sender-name--use-reaction {
  max-width: 110px;
}

.sendbird-parent-message-info__content__info__sent-at {
  position: relative;
  max-width: 52px;
  height: 12px;
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  white-space: nowrap;
  word-break: keep-all;
}

.sendbird-parent-message-info__content__body {
  position: relative;
  max-width: 210px;
  overflow: hidden;
}

.sendbird-parent-message-info__content__body.sendbird-thumbnail-message-item-body.incoming {
  min-width: 200px;
  height: 148px;
}

.sendbird-parent-message-info__content__reactions {
  position: relative;
  max-width: 240px;
  width: 100%;
  height: 100%;
}

.sendbird-parent-message-info__context-menu {
  position: absolute;
  top: 6px;
  right: 12px;
  display: none;
}

.sendbird-parent-message-info__context-menu.use-reaction {
  right: 44px;
}

.sendbird-parent-message-info__reaction-menu {
  position: absolute;
  top: 6px;
  right: 12px;
  display: none;
}

.sendbird-parent-message-info .sendbird-text-message-item-body.reactions {
  border-radius: 16px;
}

.sendbird-theme--light .sendbird-parent-message-info .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-parent-message-info .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-dark-background-600);
}

.sendbird-parent-message-info:hover .sendbird-parent-message-info__context-menu,
.sendbird-parent-message-info:hover .sendbird-parent-message-info__reaction-menu,
.sendbird-parent-message-info__context-menu.sendbird-mouse-hover,
.sendbird-parent-message-info__reaction-menu.sendbird-mouse-hover {
  display: inline-flex;
}

.sendbird-theme--light .sendbird-parent-message-info .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-parent-message-info .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-dark-background-600);
}

.sendbird-theme--light .sendbird-parent-message-info:hover,
.sendbird-theme--light .sendbird-parent-message-info:hover .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-parent-message-info:hover,
.sendbird-theme--dark .sendbird-parent-message-info:hover .sendbird-parent-message-info__content__body {
  background-color: var(--sendbird-dark-background-500);
}

.sendbird-theme--light .sendbird-parent-message-info:hover .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-light-background-100);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-parent-message-info:hover .sendbird-emoji-reactions {
  border: 1px solid var(--sendbird-dark-background-500);
  background-color: var(--sendbird-dark-background-500);
}

.parent-message-info--suggested-mention-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
  min-height: 200px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 166px;
}

.parent-message-info--suggested-mention-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 68px;
}
.sendbird-parent-message-info-item {
  position: relative;
  margin-top: 8px;
}

.sendbird-parent-message-info-item__text-message,
.sendbird-parent-message-info-item__og-field {
  padding-right: 4px;
  display: inline-block;
  white-space: pre-line;
  word-break: break-all;
}

.sendbird-parent-message-info-item__og-field {
  display: inline-flex;
  flex-direction: column;
  margin-top: 4px;
}

.sendbird-parent-message-info-item__og-field__content {
  display: inline-flex;
  flex-direction: column;
  padding: 8px 12px;
  gap: 4px;
}

.sendbird-parent-message-info-item__file-message {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
}

.sendbird-parent-message-info-item__file-message__file-name {
  display: inline-block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 200px;
}

.sendbird-parent-message-info-item__thumbnail-message {
  position: relative;
  display: block;
  width: 200px;
  height: 148px;
}

.sendbird-parent-message-info-item__thumbnail-message__thumbnail {
  position: absolute;
  border-radius: 16px;
}

.sendbird-parent-message-info-item__thumbnail-message__placeholder {
  position: absolute;
  width: 100%;
  height: 148px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.sendbird-parent-message-info-item__thumbnail-message__placeholder__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-parent-message-info-item__thumbnail-message__image-cover {
  position: absolute;
  top: 0px;
  display: none;
  width: 100%;
  height: 148px;
  border-radius: 16px;
  background-color: var(--sendbird-light-overlay-01);
}

.sendbird-parent-message-info-item__thumbnail-message__video {
  position: absolute;
  width: 100%;
  height: 148px;
  border-radius: 16px;
}

.sendbird-parent-message-info-item__thumbnail-message__icon-wrapper {
  position: absolute;
  width: 100%;
  height: 148px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-parent-message-info-item__thumbnail-message__icon-wrapper__icon {
  width: 56px;
  height: 56px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  background-color: var(--sendbird-light-background-50);
}

.sendbird-parent-message-info-item__thumbnail-message:hover {
  cursor: pointer;
}
.sendbird-parent-message-info-item__thumbnail-message:hover .sendbird-parent-message-info-item__thumbnail-message__image-cover {
  display: inline-flex;
}

.sendbird-parent-message-info-item__voice-message__item {
  min-width: 136px;
  height: 50px;
}
.sendbird-fileviewer__header__right__actions__download,
.sendbird-fileviewer__header__right__actions__delete,
.sendbird-fileviewer__header__right__actions__close {
  width: 64px;
  padding: 21px;
  box-sizing: border-box;
  cursor: pointer;
}
.sendbird-fileviewer__header__right__actions__download .disabled,
.sendbird-fileviewer__header__right__actions__delete .disabled,
.sendbird-fileviewer__header__right__actions__close .disabled {
  cursor: not-allowed;
}

.sendbird-fileviewer {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100000;
}
.sendbird-theme--light .sendbird-fileviewer {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-fileviewer {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-fileviewer .sendbird-fileviewer__header {
  height: 64px;
  min-height: 64px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  align-items: center;
  height: 64px;
  padding: 16px 20px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__avatar {
  margin-right: 8px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__filename {
  max-width: 500px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__left .sendbird-fileviewer__header__left__sender-name {
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-flex;
  margin-left: 8px;
  padding-top: 5px;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right {
  display: flex;
  width: 160px;
  justify-content: flex-end;
}
.sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions {
  right: 0;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-fileviewer .sendbird-fileviewer__header .sendbird-fileviewer__header__right .sendbird-fileviewer__header__right__actions__close {
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-fileviewer .sendbird-fileviewer__content {
  height: calc(100% - 72px);
  margin-top: 8px;
  overflow-y: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__video {
  max-width: 100%;
  max-height: 100%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__img {
  max-width: 90%;
  max-height: 90%;
}
.sendbird-fileviewer .sendbird-fileviewer__content .sendbird-fileviewer__content__unsupported {
  max-width: 100%;
  max-height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.sendbird-thread-header {
  position: relative;
  min-width: 320px;
  width: 320px;
  min-height: 64px;
  height: 64px;
  display: inline;
  padding: 13px 24px;
  box-sizing: border-box;
}

.sendbird-thread-header__title {
  position: relative;
  max-width: 254px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-header__channel-name {
  position: relative;
  max-width: 254px;
  height: 12px;
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-header__action {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 56px;
  height: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.sendbird-thread-list-item .sendbird-separator {
  margin: 4px 0px;
}

.sendbird-thread-list .sendbird-message-content__middle__sender-name {
  white-space: nowrap;
  max-width: 210px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sendbird-thread-list .sendbird-message-content.incoming .sendbird-message-content__middle {
  max-width: 200px;
}

.sendbird-thread-list .sendbird-thumbnail-message-item-body.outgoing {
  min-width: 200px;
  min-height: 148px;
  height: 148px;
}

.sendbird-thread-list .sendbird-message-content .sendbird-message-content__middle {
  max-width: 230px;
}

.sendbird-thread-list .sendbird-message-status__icon.sendbird-message-status--sent {
  display: none;
}

.sendbird-thread-list .sendbird-mention-suggest-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 134px;
}

.sendbird-thread-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 46px;
}
.sendbird-thread-list-item-content {
  position: relative;
  display: inline-flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
.sendbird-thread-list-item-content.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle {
  max-width: 200px;
}
.sendbird--mobile-mode .sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle {
  max-width: calc(100vw - 100px);
}
.sendbird-thread-list-item-content .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.use-quote {
  margin-top: -8px;
  bottom: -8px;
}

.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__left {
  position: relative;
  display: inline-flex;
  min-width: 40px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content__left__avatar {
  position: absolute;
  left: 0px;
  bottom: 2px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  max-width: 198px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  position: absolute;
  bottom: 6px;
  right: -84px;
  white-space: nowrap;
  display: flex;
  flex-direction: row;
  min-width: 80px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__sender-name {
  position: relative;
  margin-left: 12px;
  margin-bottom: 4px;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message:hover {
  cursor: pointer;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right {
  position: relative;
  display: inline-flex;
  width: 50px;
  margin-left: 4px;
  padding-top: 18px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.use-reactions {
  width: 70px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.chain-top {
  padding-top: 2px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right.chain-top.use-quote {
  padding-top: 18px;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu {
  position: relative;
  flex-direction: row;
  height: 32px;
  display: none;
}
.sendbird-thread-list-item-content.incoming .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming:hover .sendbird-thread-list-item-content__right .sendbird-thread-list-item-content-menu {
  display: inline-flex;
}
.sendbird-thread-list-item-content.incoming:hover .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  display: none;
}

.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  justify-content: flex-end;
  width: 50px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left.use-reactions {
  width: 70px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left.use-quote .sendbird-thread-list-item-content-menu {
  top: 18px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu {
  position: absolute;
  top: 2px;
  right: 4px;
  flex-direction: row;
  display: none;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu.sendbird-mouse-hover {
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message {
  position: relative;
  width: 100%;
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.outgoing {
  justify-content: flex-end;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__quote-message.incoming {
  justify-content: flex-start;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  max-width: 200px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  position: absolute;
  bottom: 2px;
  left: -84px;
  white-space: nowrap;
  display: flex;
  justify-content: flex-end;
  box-sizing: content-box;
  min-width: 80px;
  min-height: 16px;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at.sendbird-mouse-hover {
  display: none;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at .sendbird-thread-list-item-content__middle__body-container__created-at__component-container {
  position: relative;
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing .sendbird-thread-list-item-content__right {
  display: none;
}
.sendbird-thread-list-item-content.outgoing:hover .sendbird-thread-list-item-content__left .sendbird-thread-list-item-content-menu {
  display: inline-flex;
}
.sendbird-thread-list-item-content.outgoing:hover .sendbird-thread-list-item-content__middle .sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__body-container__created-at {
  display: none;
}

.sendbird-thread-list-item-content__middle__body-container {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  display: flex;
  flex-direction: column;
}
.sendbird-thread-list-item-content__middle__body-container .sendbird-thread-list-item-content__middle__message-item-body {
  width: 100%;
  box-sizing: border-box;
}

.sendbird-thread-list-item-content-reactions {
  position: relative;
  width: 100%;
  max-width: 400px;
  border-radius: 0px 0px 16px 16px;
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.primary {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.primary {
  background-color: var(--sendbird-dark-primary-200);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.mouse-hover, .sendbird-theme--light .sendbird-thread-list-item-content-reactions:hover {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.mouse-hover, .sendbird-theme--dark .sendbird-thread-list-item-content-reactions:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-theme--light .sendbird-thread-list-item-content-reactions.mouse-hover.primary, .sendbird-theme--light .sendbird-thread-list-item-content-reactions:hover.primary {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-thread-list-item-content-reactions.mouse-hover.primary, .sendbird-theme--dark .sendbird-thread-list-item-content-reactions:hover.primary {
  background-color: var(--sendbird-dark-primary-300);
}

.sendbird-thread-list-item-content__middle__thread-replies {
  margin-top: 4px;
}

.sendbird-thread-list-item-content__middle__message-item-body.sendbird-og-message-item-body,
.sendbird-thread-list-item-content__middle__message-item-body.sendbird-thumbnail-message-item-body {
  min-width: 200px;
  max-width: 200px;
}

.sendbird-thread-list-item-content__middle__message-item-body.sendbird-thumbnail-message-item-body {
  height: 148px;
}

.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__placeholder,
.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__icon-wrapper,
.sendbird-thread-list-item-content__middle__message-item-body .sendbird-thumbnail-message-item-body__video {
  height: 148px;
}

.sendbird-voice-message-item-body.sendbird-thread-list-item-content__middle__message-item-body {
  min-width: 136px;
  height: 50px;
}
.sendbird-thread-message-input .sendbird-mention-suggest-list {
  width: 100%;
  margin-left: 0px;
  margin-right: 0px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item {
  padding-left: 16px;
  padding-right: 16px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__nickname {
  max-width: 134px;
}

.sendbird-thread-message-input .sendbird-mention-suggest-list .sendbird-mention-suggest-list__user-item .sendbird-mention-suggest-list__user-item__user-id {
  max-width: 46px;
}

.sendbird-theme--light .sendbird-thread-message-input--voice-message {
  border-top: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-thread-message-input--voice-message {
  border-top: 1px solid var(--sendbird-dark-ondark-04);
}
.sb_mobile__panelwrap {
  height: 100vh;
}

.sb-show-main {
  padding: 0 !important;
}
.sendbird-app__wrap {
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box;
}
.sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  width: 320px;
  min-width: 320px;
  overflow-x: hidden;
  overflow-y: scroll;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__searchpanel-wrap {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-right: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-app__wrap .sendbird-app__conversation-wrap {
  flex: 1;
  position: relative;
  width: calc(100% - 320px);
}
.sendbird-app__wrap .sendbird-app__channellist-wrap {
  max-width: 320px;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__channellist-wrap {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-left: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__channellist-wrap {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--settings-open .sendbird-chat-header__info {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-app__wrap .sendbird-chat-header__search {
  margin-right: 16px;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-app__conversation--search-open .sendbird-chat-header__search {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-app__wrap .sendbird-channel-settings {
  border-left: none;
}
.sendbird-theme--light .sendbird-app__wrap .sendbird-channel-settings {
  border-top: 1px solid var(--sendbird-light-onlight-04);
  border-right: 1px solid var(--sendbird-light-onlight-04);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-app__wrap .sendbird-channel-settings {
  border-top: 1px solid var(--sendbird-dark-background-600);
  border-right: 1px solid var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-background-600);
}
.sendbird-app__wrap .sendbird-channel-settings .sendbird-channel-settings__header {
  height: 64px;
}
.sendbird-openchannel-conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-conversation {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-conversation {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll {
  overflow-y: auto;
  flex: 1 1 0;
  order: 2;
  width: 100%;
}
.sendbird-openchannel-conversation .sendbird-openchannel-footer {
  order: 3;
  padding: 12px 24px 24px 24px;
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container {
  display: flex;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  flex-direction: column;
}
.sendbird-openchannel-conversation .sendbird-openchannel-conversation-scroll-container .sendbird-openchannel-conversation-scroll-padding {
  flex: 1 1 0;
}
.sendbird-frozen-channel-notification {
  position: relative;
  margin-top: 8px;
  margin-right: 24px;
  margin-left: 24px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-frozen-channel-notification {
  background-color: var(--sendbird-light-information-100);
}
.sendbird-theme--dark .sendbird-frozen-channel-notification {
  background-color: var(--sendbird-dark-information-100);
}
.sendbird-oepnchannel-header__icon_back {
  position: absolute;
  left: 12px;
  top: 18px;
}

.sendbird-openchannel-conversation-header {
  position: relative;
  min-height: 64px;
  box-sizing: border-box;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  max-width: calc(100% - 120px);
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header .sendbird-openchannel-conversation-header__left__title {
  max-width: calc(100% - 160px);
}
.sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  position: absolute;
  left: 20px;
  top: 16px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left [class*=sendbird-openchannel-conversation-header__left__cover-image] {
  left: 50px;
}
.sendbird-openchannel-conversation-header__left__title {
  position: absolute;
  left: 60px;
  top: 12px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left__title {
  left: 90px;
}
.sendbird-openchannel-conversation-header__left__sub-title {
  position: absolute;
  left: 60px;
  top: 36px;
}
.sendbird--mobile-mode .sendbird-openchannel-conversation-header__left__sub-title {
  left: 90px;
}
.sendbird-openchannel-conversation-header__right {
  position: absolute;
  top: 0px;
  right: 0px;
  width: 64px;
  height: 64px;
}
.sendbird-openchannel-conversation-header__right__trigger {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sendbird-openchannel-conversation-header__left__cover-image--icon {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
}
.sendbird-theme--light .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-light-background-300);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-header__left__cover-image--icon {
  background-color: var(--sendbird-dark-background-300);
}
.sendbird-openchannel-conversation-scroll {
  position: relative;
  width: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container {
  position: sticky;
  width: 100%;
  bottom: 0px;
  height: 100%;
  overflow: hidden;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__padding {
  height: 8px;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container {
  width: 100%;
  height: 100%;
  overflow: scroll;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages {
  width: 100%;
  height: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container .sendbird-openchannel-conversation-scroll__container__item-container.no-messages .sendbird-openchannel-conversation-scroll__container__place-holder {
  width: 100%;
  height: 100%;
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 8px;
  left: calc(50% - 20px);
  width: 40px;
  height: 40px;
  border-radius: 24px;
  z-index: 1;
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  background-color: var(--sendbird-light-primary-300);
  box-shadow: var(--sendbird-light-shadow-05);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button {
  background-color: var(--sendbird-dark-primary-200);
  box-shadow: var(--sendbird-dark-shadow-05);
}
.sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  background-color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:hover {
  background-color: var(--sendbird-dark-primary-300);
}
.sendbird-theme--light .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
  background-color: var(--sendbird-light-primary-500);
}
.sendbird-theme--dark .sendbird-openchannel-conversation-scroll .sendbird-openchannel-conversation-scroll__container__scroll-bottom-button:active {
  background-color: var(--sendbird-dark-primary-400);
}
.sendbird-openchannel-user-message {
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-user-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-user-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-user-message:hover .sendbird-openchannel-user-message__context-menu {
  display: block;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__left .sendbird-openchannel-user-message__left__avatar {
  position: relative;
  display: flex;
  margin-top: 8px;
  margin-left: 24px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
  margin: 8px 24px 8px 12px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top {
  position: relative;
  display: flex;
  margin-bottom: 2px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__top .sendbird-openchannel-user-message__right__top__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom {
  position: relative;
  display: flex;
  width: 100%;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__bottom .sendbird-openchannel-user-message__right__bottom__message {
  position: relative;
  word-break: break-all;
  white-space: pre-line;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__right .sendbird-openchannel-user-message__right__tail {
  position: relative;
  top: 2px;
}
.sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu {
  position: absolute;
  right: 16px;
  display: none;
}
.sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-user-message .sendbird-openchannel-user-message__context-menu .sendbird-openchannel-user-message__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel__mobile-menu-hyperlink {
  display: block;
  width: 100%;
  text-decoration: none;
  color: inherit;
  font-size: inherit;
  font-weight: inherit;
  font-stretch: normal;
  font-style: normal;
  line-height: inherit;
  letter-spacing: inherit;
  font-family: inherit;
}
.sendbird-openchannel-admin-message {
  position: relative;
  margin: 16px 24px;
  padding: 12px 16px;
  border-radius: 4px;
}
.sendbird-theme--light .sendbird-openchannel-admin-message {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-admin-message {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-admin-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-admin-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-admin-message .sendbird-openchannel-admin-message__text {
  word-wrap: break-word;
}
.sendbird-openchannel-og-message {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-og-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-og-message:hover .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
  display: block;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top {
  box-sizing: border-box;
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__left .sendbird-openchannel-og-message__top__left__avatar {
  position: absolute;
  display: flex;
  top: 8px;
  left: 24px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right {
  position: relative;
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  margin: 8px 24px 8px 12px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title {
  position: relative;
  display: flex;
  margin-bottom: 2px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__title .sendbird-openchannel-og-message__top__right__title__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message {
  position: relative;
  display: inline;
  white-space: pre-wrap;
  word-break: break-all;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message .sendbird-word .sendbird-word__url {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__right .sendbird-openchannel-og-message__top__right__description .sendbird-openchannel-og-message__top__right__description__message .sendbird-word .sendbird-word__url {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu {
  position: absolute;
  right: 16px;
  display: none;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__top .sendbird-openchannel-og-message__top__context-menu .sendbird-openchannel-og-message__top__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom {
  position: relative;
  display: inline;
  margin-bottom: 8px;
  width: 100%;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  width: calc(100% - 64px);
  max-width: 360px;
  left: 64px;
  padding: 12px 12px 4px 12px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  border: solid 1px var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag {
  border: solid 1px var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__url {
  position: relative;
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 8px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title {
  position: relative;
  display: inline-block;
  white-space: pre-wrap;
  overflow-wrap: normal;
  margin-bottom: 8px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__title:hover {
  color: var(--sendbird-dark-primary-200);
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__description {
  position: relative;
  display: block;
  white-space: pre-wrap;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-all;
  max-height: 32px;
  margin-bottom: 8px;
  width: 100%;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail {
  box-sizing: border-box;
  position: relative;
  display: block;
  margin-top: 4px;
  margin-bottom: 8px;
  width: 100%;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail:hover {
  cursor: pointer;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image {
  border-radius: 8px;
  width: 100%;
  min-width: 200px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__bottom .sendbird-openchannel-og-message__bottom__og-tag .sendbird-openchannel-og-message__bottom__og-tag__thumbnail .sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder {
  border-radius: 8px;
  width: 100%;
  min-width: 200px;
  max-width: 336px;
}
.sendbird-openchannel-og-message .sendbird-openchannel-og-message__top__right__tail {
  position: relative;
  left: 64px;
  top: 2px;
}

.sendbird-openchannel-og-message--word {
  display: inline;
  margin: 0px 2px;
  word-break: break-all;
}
.sendbird-openchannel-thumbnail-message {
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu {
  display: block;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message:hover .sendbird-openchannel-thumbnail-message__context-menu .sendbird-openchannel-thumbnail-message__context-menu--icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__left .sendbird-openchannel-thumbnail-message__left__avatar {
  position: absolute;
  display: inline;
  margin-top: 8px;
  margin-left: 28px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  margin-top: 8px;
  margin-bottom: 8px;
  margin-left: 12px;
  width: calc(100% - 64px);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title {
  position: relative;
  display: inline;
  margin-bottom: 4px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sender-name {
  position: relative;
  display: inline;
  margin-right: 4px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__title .sendbird-openchannel-thumbnail-message__right__title__sent-at {
  position: relative;
  display: inline;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body {
  position: relative;
  display: flex;
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body:hover .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  opacity: 1;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap {
  position: relative;
  box-sizing: content-box;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  max-width: 360px;
  top: 0px;
  left: 0px;
  border-radius: 8px;
  cursor: pointer;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  background-color: var(--sendbird-light-overlay-02);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__overlay {
  background-color: var(--sendbird-dark-overlay-02);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video {
  max-width: 360px;
  max-height: 360px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video:hover {
  cursor: pointer;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__video {
  max-width: 360px;
  max-height: 360px;
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video .sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon {
  position: absolute;
  top: calc(50% - 28px);
  left: calc(50% - 28px);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image {
  border-radius: 8px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  padding: 107px 152px 107px 152px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__body .sendbird-openchannel-thumbnail-message__right__body__wrap .sendbird-openchannel-thumbnail-message__right__body__wrap__unknown {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__right .sendbird-openchannel-thumbnail-message__right__tail {
  position: relative;
  top: 2px;
}
.sendbird-openchannel-thumbnail-message .sendbird-openchannel-thumbnail-message__context-menu {
  position: absolute;
  display: none;
  top: 8px;
  right: 16px;
}
.sendbird-openchannel-file-message {
  position: relative;
  display: flex;
  flex-direction: row;
}
.sendbird-theme--light .sendbird-openchannel-file-message:hover {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbird-openchannel-file-message:hover {
  background-color: var(--sendbird-dark-background-400);
}
.sendbird-openchannel-file-message:hover .sendbird-openchannel-file-message__context-menu {
  display: block;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__left {
  position: relative;
  display: flex;
  width: 52px;
  min-width: 52px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__left .sendbird-openchannel-file-message__left__avatar {
  position: absolute;
  display: block;
  margin-top: 8px;
  margin-left: 24px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right {
  position: relative;
  display: flex;
  flex-direction: column;
  margin-left: 12px;
  margin-bottom: 4px;
  width: calc(100% - 64px);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title {
  position: relative;
  display: flex;
  margin-top: 8px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sender-name {
  position: relative;
  display: flex;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__title .sendbird-openchannel-file-message__right__title__sent-at {
  position: relative;
  display: flex;
  margin-left: 4px;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  position: relative;
  display: flex;
  margin-top: 4px;
  margin-bottom: 4px;
  border-radius: 8px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  background-color: var(--sendbird-light-background-100);
  border: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body {
  background-color: var(--sendbird-dark-background-500);
  border: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  position: relative;
  display: inline-block;
  margin: 8px;
  border-radius: 8.6px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__icon {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__right .sendbird-openchannel-file-message__right__body .sendbird-openchannel-file-message__right__body__file-name {
  position: relative;
  display: flex;
  margin-top: 22px;
  margin-right: 16px;
  margin-left: 4px;
  overflow: hidden;
  height: 20px;
  max-height: 20px;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu {
  position: absolute;
  display: none;
  top: 8px;
  right: 16px;
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon {
  background-color: var(--sendbird-dark-background-500);
}
.sendbird-theme--light .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
  background-color: var(--sendbird-light-primary-100);
}
.sendbird-theme--dark .sendbird-openchannel-file-message .sendbird-openchannel-file-message__context-menu .sendbird-openchannel-file-message__context-menu__icon:hover {
  background-color: var(--sendbird-dark-background-700);
}
.sendbird-openchannel-settings {
  height: 100%;
  width: 320px;
  display: inline-block;
  overflow-y: scroll;
  position: relative;
}
.sendbird--mobile-mode .sendbird-openchannel-settings {
  width: 100%;
}
.sendbird-theme--light .sendbird-openchannel-settings {
  background-color: var(--sendbird-light-background-50);
  border-left: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings {
  background-color: var(--sendbird-dark-background-600);
  border-left: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-participants-accordion__footer {
  text-align: left;
  padding-top: 16px;
  padding-left: 16px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__operator-accordion-icon {
  position: absolute;
  left: 14px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__accordion-icon,
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-icon__delete {
  position: absolute;
  left: 16px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant {
  height: 100%;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__participant-list {
  padding-top: 64px;
  height: calc(100% - 64px);
  overflow-y: scroll;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  display: block;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__participant .sendbird-openchannel-settings__header {
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-settings .sendbird-participants-accordion,
.sendbird-openchannel-settings .sendbird-openchannel-settings__delete-channel {
  text-align: left;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__members .sendbird-badge__text {
  margin-top: -2px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  height: 64px;
  min-height: 64px;
  position: relative;
  padding: 20px 24px;
  box-sizing: border-box;
  text-align: left;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  border-bottom: solid 1px var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__header {
  border-bottom: solid 1px var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon {
  cursor: pointer;
  position: absolute;
  top: 20px;
  right: 16px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
  fill: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__close-icon path {
  fill: var(--sendbird-dark-ondark-01);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__placeholder {
  margin-top: 40%;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  padding: 16px;
  box-sizing: border-box;
  position: relative;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url:hover .sendbird-openchannel-settings__copy-icon {
  display: inline-block;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__copy-icon {
  cursor: pointer;
  position: absolute;
  display: none;
  top: 10px;
  right: 18px;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  margin-top: 8px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  color: var(--sendbird-light-onlight-01);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value {
  color: var(--sendbird-dark-ondark-01);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-value,
.sendbird-openchannel-settings .sendbird-openchannel-settings__url .sendbird-openchannel-settings__url-label {
  text-align: left;
  display: block;
  word-wrap: break-word;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__url {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  display: block;
  cursor: pointer;
  box-sizing: border-box;
  position: relative;
  padding: 12px 22px 10px 56px;
}
.sendbird-theme--light .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  background-color: var(--sendbird-light-background-50);
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.sendbird-theme--dark .sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item {
  background-color: var(--sendbird-dark-background-600);
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item:focus {
  outline: none;
}
.sendbird-openchannel-settings .sendbird-openchannel-settings__panel-item.sendbird-channel-settings__panel-item__disabled {
  cursor: not-allowed;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member {
  position: relative;
  padding: 12px 0px 12px 56px;
  width: 100%;
  height: 40px;
  box-sizing: border-box;
  text-align: left;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-label {
  max-width: 190px;
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.self-operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__title.user-id {
  position: absolute;
  right: 16px;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member .sendbird-participants-accordion__member__action {
  display: none;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.operator,
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__title.user-id {
  display: none;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member:hover .sendbird-participants-accordion__member__action {
  display: inline-block;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member-avatar {
  position: absolute;
  left: 16px;
  top: 10px;
  cursor: pointer;
}
.sendbird-openchannel-settings .sendbird-participants-accordion__member__action {
  position: absolute;
  display: none;
  top: 4px;
  right: 8px;
  cursor: pointer;
}
.sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer,
.sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer,
.sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer,
.sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer {
  padding-top: 16px;
  display: flex;
  justify-content: left;
  padding-left: 12px;
}
.sendbird-openchannel-settings .sendbird-openchannel-operator-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-openchannel-participant-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-channel-settings-muted-participant-list__footer .sendbird-button:nth-child(2),
.sendbird-openchannel-settings .sendbird-channel-settings-banned-user-list__footer .sendbird-button:nth-child(2) {
  margin-left: 8px;
}

.sendbird-participants-accordion__member-avatar__avatar {
  position: absolute;
}

.sendbird-more-users__popup-scroll {
  max-height: 420px;
  overflow: scroll;
}
.sendbird-openchannel-profile {
  position: relative;
  text-align: center;
  padding: 32px 40px 27px 40px;
}
.sendbird-theme--light .sendbird-openchannel-profile {
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.sendbird-theme--dark .sendbird-openchannel-profile {
  border-bottom: 1px solid var(--sendbird-dark-ondark-04);
  background-color: var(--sendbird-dark-background-600);
}
.sendbird-openchannel-profile .sendbird-openchannel-profile--inner {
  height: 116px;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__avatar {
  margin-bottom: 16px;
  text-align: center;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__title {
  display: inline-block;
  max-width: 240px;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  height: 18px;
}
.sendbird-openchannel-profile .sendbird-openchannel-profile__edit {
  position: absolute;
  top: 10px;
  right: 16px;
}`;ma(D0e);var L0e=function(n){var t=n.userId,e=n.appId,r=n.accessToken,a=n.chatInstance;return fa(void 0,void 0,void 0,function(){var o;return _a(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),qr.exports.SendbirdLive.init({appId:e,chatInstance:a}),[4,qr.exports.SendbirdLive.authenticate(t,r)];case 1:return c.sent(),[3,3];case 2:return o=c.sent(),console.error(o),[3,3];case 3:return[2]}})})},U0e=function(){function n(){this._topics={},this._topics={}}return n.prototype.subscribe=function(t,e){var r=this;this._topics[t]||(this._topics[t]=[]);var a=this._topics[t].push(e)-1;return{remove:function(){delete r._topics[t][a]}}},n.prototype.publish=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];!this._topics[t]||this._topics[t].forEach(function(a){a.apply(void 0,e)})},n}(),gl=R.createContext({});function P0e(n){var t=this,e,r,a,o,c=n.userId,h=n.appId,f=n.accessToken,m=n.customApiHost,v=n.customWebSocketHost,y=n.children,w=n.theme,x=n.colorSet,C=n.stringSet,A=n.imageSet,L=n.fontSet,S=Oe.exports.useState(!1),k=S[0],N=S[1],O=Oe.exports.useState(),H=O[0],D=O[1],T=lo(),M=(r=(e=T==null?void 0:T.stores)===null||e===void 0?void 0:e.sdkStore)===null||r===void 0?void 0:r.sdk,q=(o=(a=T==null?void 0:T.stores)===null||a===void 0?void 0:a.sdkStore)===null||o===void 0?void 0:o.initialized;return Oe.exports.useEffect(function(){var z=function(){return fa(t,void 0,void 0,function(){return _a(this,function(te){switch(te.label){case 0:return q?[4,L0e({userId:c,appId:h,accessToken:f,chatInstance:M})]:[2];case 1:return te.sent(),D(new U0e),N(!0),[2]}})})};z()},[c,h,f,q]),R.createElement(gl.Provider,{value:{userId:c,appId:h,accessToken:f,customApiHost:m,customWebSocketHost:v,children:y,theme:w,colorSet:x,stringSet:C,imageSet:A,fontSet:L,pubSub:H}},k?y:R.createElement("div",null))}var z8=function(){return{LIST_HEADER_TITLE:"Live events",LIST_HEADER_BUTTON:"Create",LIST_EMPTY_DESCRIPTION:"No live events",NO_LIVE_EVENT_TITLE:"No live events selected",NO_LIVE_EVENT_DESCRIPTION:"Select a live event from the list or create a live event",EVENT_STATUS_CREATED:"UPCOMING",EVENT_STATUS_READY:"OPEN",EVENT_STATUS_ONGOING:"LIVE",EVENT_STATUS_ENDED:"ENDED",PARTICIPANT_COUNT:function(n){return"".concat(n,"K")},LIST_HOST_NICKNAME_PLACEHOLDER:"\u2014",LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE:"Choose your role",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST:"Host",LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT:"Participant",LIVE_EVENT_ENTER_ALERT_TITLE:"Can't enter yet",LIVE_EVENT_ENTER_ALERT_DESCRIPTION:"This live event will open soon.",LIVE_EVENT_CREATE_HEADER_TITLE:"New live event",LIVE_EVENT_CREATE_EVENT_TITLE:"Title",LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER:"Add a title",CREATE_EVENT_DEFAULT_TITLE:"Live event",LIVE_EVENT_CREATE_EVENT_USERS_FOR_HOST:"Users who can be host",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE:"Cover image",LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON:"Upload photo",LIVE_EVENT_CREATE_HEADER_BUTTON:"Create",LIST_USERS_FOR_HOST_HEADER_TITLE:"Users who can be host",ADD_USERS_FOR_HOST_HEADER_TITLE:"Users",ADD_USERS_FOR_HOST_HEADER_BUTTON:"Add ${}",USER_FOR_HOST_NICKNAME:function(n){return"".concat(n," (You)")},USER_ID_PLACEHOLDER:"Enter user ID",ADD_USERS_FOR_HOST_DIALOG_TITLE:"Add user",NICKNAME:"Nickname",USER_ID:"User ID",USER_SEARCH_USER_COUNT_LIMIT:function(n){return" / 10 users"},USER_SEARCH_USER_COUNT_DESCRIPTION:"You can add up to 10 users to be host.",USER_SEARCH_EXACT_MATCH_DESCRIPTION:"Only an exact match can be found.",USER_SEARCH_NO_MATCH_DESCRIPTION:function(n){return'No matches found with "{keyword}"'},USER_SEARCH_NO_USERS_DESCRIPTION:"There are no users.",USER_SEARCH_ERROR_DESCRIPTION:"Something went wrong. Try again.",USER_SEARCH_COUNT_EXCEED_DESCRIPTION:"Can't add more than 10 users",START_LIVE_EVENT_HEADER_BUTTON:"Start live event",LIVE_EVENT_PARTICIPANT_COUNT:function(n){return"".concat(n)},LIVE_EVENT_MESSAGE_INPUT_PLACEHOLDER:"Enter message",LIVE_EVENT_INFORMATION_TITLE:"Live event information",HOST:"Host",PARTICIPANTS:"Participants",FREEZE_CHAT:"Freeze chat",FREEZE_CHAT_DESCRIPTION:"Only operators can send a message. This doesn't stop the live event.",LIVE_EVENT_ID:"Live event ID",CREATED_AT:"Created on",CREATED_BY:"Created by",STARTED_AT:"Started on",STARTED_BY:"Started by",EDIT_EVENT:"Edit this event?",CHANGE_TITLE:"Change title",CHANGE_COVER_IMAGE:"Change cover image",CHANGE_EVENT_TITLE:"Change event title",CHANGE_EVENT_TITLE_PLACEHOLDER:"Enter title",CHANGE_EVENT_INFO_TITLE:"Edit live event information",TITLE:"Title",COVER_IMAGE:"Cover image",UPLOAD_IMAGE:"Upload photo",EDIT_LIVE_EVENT_USERS_FOR_HOST:"Users who can be host",REMOVE_IMAGE:"Remove photo",CHOOSE_IMAGE:"Choose photo",HOSTS:"Host",HOST_LABEL:"Host",USERS_FOR_HOST:"Users who can be host",USERS_FOR_HOST_DESCRIPTION:"Any one of the users in the list below can act as a host for the live event. If the current host leaves the event, another user can act as the host.",PARTICIPANT_LIST_HEADER_TITLE:"Participants",LIVE_EVENT_END_DIALOG_TITLE:"End live event?",LIVE_EVENT_END_DIALOG_DESCRIPTION:"Do you want to end this live event?",LIVE_EVENT_END_DIALOG_OPTION_END:"End live event",LIVE_EVENT_END_DIALOG_OPTION_EXIT:"Exit without ending",TOTAL_PARTICIPANTS_COUNT:"Total participants",LIVE_EVENT_SUMMARY_DIALOG_TITLE:"Live event ended",PEAK_CONCURRENT_PARTICIPANTS_COUNT:"Peak concurrent participants",DURATION:"Duration",LIVE_EVENT_DISCONNECTED_ALERT_TITLE:"Disconnected temporarily",LIVE_EVENT_DISCONNECTED_ALERT_DESCRIPTION:"Try entering the live event again.",LIVE_EVENT_LIVE_PARTICIPANT_COUNT_DURATION:"1,282 watching now \u2219 Started 30 mins ago",LIVE_EVENT_READY_BANNER_DESCRIPTION:"Live event will begin soon.",LIVE_EVENT_LIVE_BANNER_HOST_MUTED_DESCRIPTION:"Host is muted.",LIVE_EVENT_LIVE_BANNER_HOST_UNAVAILABLE_DESCRIPTION:"Host is temporarily unavailable.",LIVE_EVENT_ENDED_DESCRIPTION:"Live event has ended.",LIVE_EVENT_ENDED_DIALOG_DESCRIPTION:"Host has ended this live event.",LIVE_EVENT_ENDED_ENTER_DIALOG_DESCRIPTION:"Can't enter an ended live event.",UNKNOWN_ERROR_ALERT_TITLE:"Oops!",UNKNOWN_ERROR_ALERT_DESCRIPTION:"Something went wrong."}};function F0e(n){var t=n.userId,e=n.appId,r=n.nickname,a=n.accessToken;n.customApiHost,n.customWebSocketHost,n.children,n.theme;var o=n.colorSet,c=n.stringSet,h=Oe.exports.useMemo(function(){return c?uc(uc({},z8()),c):z8()},[c]);return R.createElement(M0e,{userId:t,appId:e,nickname:r,accessToken:a,colorSet:o},R.createElement(P0e,uc({},n,{stringSet:h})))}var V8,G8,q8;function Ux(){return Ux=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Ux.apply(this,arguments)}var H0e=function(t){return Dr("svg",{...Ux({width:112,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:[V8||(V8=Dr("defs",{children:[Re("clipPath",{id:"img-thumbnail-default-1_svg__a",children:Re("path",{d:"M1368 0v1600H0V0h1368z"})}),Re("clipPath",{id:"img-thumbnail-default-1_svg__b",children:Re("path",{d:"M112 0v64H0V0h112z"})}),Re("clipPath",{id:"img-thumbnail-default-1_svg__c",children:Re("path",{d:"M13.333 10.667A2.667 2.667 0 0 1 15 15.415v11.149c-.544.067-1.099.102-1.661.103h-.01c-.564 0-1.118-.036-1.662-.103V15.415a2.667 2.667 0 0 1 1.667-4.748zm0-10.667c7.364 0 13.334 5.97 13.334 13.333 0 6.092-4.086 11.23-9.667 12.823V22.64a10.004 10.004 0 0 0 6.333-9.307c0-5.523-4.477-10-10-10s-10 4.477-10 10c0 4.229 2.625 7.844 6.334 9.307v3.516C4.086 24.563 0 19.426 0 13.333 0 5.97 5.97 0 13.333 0zm0 5.333A8 8 0 0 1 17 20.445V16.22a4.667 4.667 0 1 0-7.333 0v4.225a8 8 0 0 1 3.667-15.112z"})})]})),G8||(G8=Re("path",{fill:"#FFF",d:"M-64-876h1368V724H-64z"})),q8||(q8=Re("g",{clipPath:"url(#img-thumbnail-default-1_svg__a)",transform:"translate(-64 -876)",children:Dr("g",{clipPath:"url(#img-thumbnail-default-1_svg__b)",transform:"translate(64 876)",children:[Re("path",{fill:"#5858D3",d:"M0 0h112v64H0V0z"}),Re("g",{clipPath:"url(#img-thumbnail-default-1_svg__c)",transform:"translate(42.667 18.667)",children:Re("path",{fill:"#FFF",d:"M0 0h26.667v26.667H0V0z"})})]})}))]})},B0e=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.live-event-list-view {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 320px;
  height: 100vh;
  border: 1px solid var(--sendbird-light-onlight-04);
  background-color: var(--sendbird-light-background-50);
}
.live-event-list-view .header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  box-sizing: border-box;
  height: 80px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .header .title {
  width: 92px;
  height: 21px;
  margin: 0 13px 0 24px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.live-event-list-view .header .refresh {
  cursor: pointer;
  width: 22px;
  height: 22px;
  object-fit: contain;
}
.live-event-list-view .header .create-button {
  cursor: pointer;
  height: 24px;
  margin: 0 16px 0 auto;
  padding: 2px 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  color: #742ddd;
}
.live-event-list-view .list {
  overflow-y: scroll;
}
.live-event-list-view .list .live-event-elem {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  height: 80px;
  padding: 8px;
  border-bottom: 1px solid var(--sendbird-light-onlight-04);
}
.live-event-list-view .list .cover-image__wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  width: 112px;
  height: 64px;
  margin: 7px 12px 7px 8px;
}
.live-event-list-view .list .cover-image__wrapper .cover-image {
  max-width: 100%;
  max-height: 100%;
}
.live-event-list-view .list .detail {
  width: 100%;
}
.live-event-list-view .list .detail .title__wrapper {
  margin: 7px 12px 2px 12px;
  display: flex;
  height: 16px;
}
.live-event-list-view .list .detail .title__wrapper .title {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey, .live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--red {
  background-color: #de360b;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-icon--grey {
  background-color: #bdbdbd;
}
.live-event-list-view .list .detail .title__wrapper .participant-count__wrapper .participant-count {
  width: 32px;
  height: 100%;
}
.live-event-list-view .list .detail .created-by {
  height: 16px;
  margin: 2px 4px 10px 12px;
  font-size: 12px;
  line-height: 1.33;
  color: rgba(0, 0, 0, 0.5);
}
.live-event-list-view .list .detail .event-state, .live-event-list-view .list .detail .event-state--ended, .live-event-list-view .list .detail .event-state--ongoing, .live-event-list-view .list .detail .event-state--ready, .live-event-list-view .list .detail .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin: 10px 0 0 12px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.live-event-list-view .list .detail .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.live-event-list-view .list .detail .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.live-event-list-view .list .detail .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.live-event-list-view .list .detail .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .live-event-list-view .list .detail .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}`;ma(B0e);function $0e(n){var t,e,r=n.liveEvent,a=n.onClick,o=n.showHostNickname,c=o===void 0?!0:o,h=n.showStatusLabel,f=h===void 0?!0:h,m=Oe.exports.useContext(gl).stringSet,v=function(y){switch(y){case"created":return m.EVENT_STATUS_CREATED;case"ready":return m.EVENT_STATUS_READY;case"ongoing":return m.EVENT_STATUS_ONGOING;case"ended":return m.EVENT_STATUS_ENDED}};return R.createElement("div",{className:"live-event-elem",onClick:function(){return a(r)}},R.createElement("div",{className:"cover-image__wrapper"},r.coverUrl?R.createElement("img",{src:r.coverUrl,alt:"cover_image",className:"cover-image"}):R.createElement(H0e,{viewBox:"0 0 112 64",width:112,height:64})),R.createElement("div",{className:"detail"},R.createElement("div",{className:"title__wrapper"},R.createElement("div",{className:"title"},r.title?r.title:m.CREATE_EVENT_DEFAULT_TITLE),R.createElement("div",{className:"participant-count__wrapper"},r.state===qr.exports.LiveEventState.ONGOING?R.createElement("div",{className:"participant-icon--red"}):R.createElement("div",{className:"participant-icon--grey"}),R.createElement("div",{className:"participant-count"},(t=r.participantCount)!==null&&t!==void 0?t:0))),c&&R.createElement("div",{className:"created-by"},r.host?(e=r.host.nickname)!==null&&e!==void 0?e:"HOST":m.LIST_HOST_NICKNAME_PLACEHOLDER),f&&R.createElement("div",{className:"event-state--".concat(r.state)},v(r.state))))}var j8;function Px(){return Px=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Px.apply(this,arguments)}var z0e=function(t){return Re("svg",{...Px({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:j8||(j8=Re("path",{d:"m46.14 14.43.562.537 6.631 6.167v-7.8a2.667 2.667 0 0 1 2.356-2.65l.311-.017a2.667 2.667 0 0 1 2.649 2.355l.018.311v16a2.667 2.667 0 0 1-2.356 2.65L56 32H40a2.667 2.667 0 0 1-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 1 1 5.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fillRule:"evenodd"}))})};function V0e(n){var t=this,e=n.onClickCreate,r=n.onClickElem,a=n.queryParams,o=n.renderTitle,c=n.renderCreateButton,h=n.renderLiveEventElem,f=n.showStatusLabel,m=f===void 0?!0:f,v=n.showHostNickname,y=v===void 0?!0:v,w=Oe.exports.useContext(gl).stringSet,x=a||{limit:20},C=Oe.exports.useState(qr.exports.SendbirdLive.createLiveEventListQuery(x)),A=C[0],L=C[1],S=Oe.exports.useRef(null),k=Oe.exports.useState([]),N=k[0],O=k[1],H=function(){return fa(t,void 0,void 0,function(){return _a(this,function(M){switch(M.label){case 0:return L(qr.exports.SendbirdLive.createLiveEventListQuery(x)),S.current&&(S.current.scrollTop=0),[4,D(!0)];case 1:return M.sent(),[2]}})})},D=function(M){return fa(t,void 0,void 0,function(){var q;return _a(this,function(z){switch(z.label){case 0:if(!A.hasNext)return[2];z.label=1;case 1:return z.trys.push([1,3,,4]),[4,A.next()];case 2:return q=z.sent(),M?O(q):(L(A),O(ls(ls([],N,!0),q,!0))),[3,4];case 3:return z.sent(),[3,4];case 4:return[2]}})})},T=function(){if(S.current){var M=S.current,q=M.scrollTop,z=M.scrollHeight,te=M.clientHeight;q+te===z&&D(!1)}};return Oe.exports.useEffect(function(){H()},[a]),R.createElement("div",{className:"live-event-list-view"},R.createElement("div",{className:"header"},(o==null?void 0:o())||R.createElement("div",{className:"title"},w.LIST_HEADER_TITLE),R.createElement("div",{className:"refresh",onClick:H},R.createElement(z0e,{viewBox:"0 0 64 64",width:22,height:22})),(c==null?void 0:c())||R.createElement("div",{className:"create-button",onClick:e},w.LIST_HEADER_BUTTON)),R.createElement("div",{className:"list",ref:S,onScroll:T},N.map(function(M){return(h==null?void 0:h({liveEvent:M,onClick:r}))||R.createElement($0e,{key:M.liveEventId,liveEvent:M,showStatusLabel:m,showHostNickname:y,onClick:r})})))}var hn={exports:{}},J3,K8;function G0e(){if(K8)return J3;K8=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return J3=n,J3}var ew,W8;function q0e(){if(W8)return ew;W8=1;var n=G0e();function t(){}function e(){}return e.resetWarningCache=t,ew=function(){function r(c,h,f,m,v,y){if(y!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},ew}hn.exports=q0e()();const Di={USER_UPDATED:"USER_UPDATED",SEND_MESSAGE_START:"SEND_MESSAGE_START",SEND_USER_MESSAGE:"SEND_USER_MESSAGE",SEND_FILE_MESSAGE:"SEND_FILE_MESSAGE",UPDATE_USER_MESSAGE:"UPDATE_USER_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",LEAVE_CHANNEL:"LEAVE_CHANNEL",CREATE_CHANNEL:"CREATE_CHANNEL",UPDATE_OPEN_CHANNEL:"UPDATE_OPEN_CHANNEL"},Tg=()=>{},U0=R.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null,onUserProfileMessage:null}),Mk=n=>{const{children:t}=n;return R.createElement(U0.Provider,{value:n},t)};Mk.propTypes={children:hn.exports.oneOfType([hn.exports.element,hn.exports.arrayOf(hn.exports.element),hn.exports.any]).isRequired,isOpenChannel:hn.exports.bool,disableUserProfile:hn.exports.bool,renderUserProfile:hn.exports.func,onUserProfileMessage:hn.exports.func};Mk.defaultProps={isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null,onUserProfileMessage:null};const qs={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},Zo={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function j0e(n){switch(n){case qs.H_1:return"sendbird-label--h-1";case qs.H_2:return"sendbird-label--h-2";case qs.SUBTITLE_1:return"sendbird-label--subtitle-1";case qs.SUBTITLE_2:return"sendbird-label--subtitle-2";case qs.BODY_1:return"sendbird-label--body-1";case qs.BODY_2:return"sendbird-label--body-2";case qs.BUTTON_1:return"sendbird-label--button-1";case qs.BUTTON_2:return"sendbird-label--button-2";case qs.CAPTION_1:return"sendbird-label--caption-1";case qs.CAPTION_2:return"sendbird-label--caption-2";case qs.CAPTION_3:return"sendbird-label--caption-3";default:return""}}function R9(n){switch(n){case Zo.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case Zo.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case Zo.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case Zo.ONBACKGROUND_4:return"sendbird-label--color-onbackground-4";case Zo.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case Zo.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case Zo.PRIMARY:return"sendbird-label--color-primary";case Zo.ERROR:return"sendbird-label--color-error";case Zo.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return""}}function Pt(n){let{className:t,type:e,color:r,children:a}=n;return R.createElement("span",{className:[...Array.isArray(t)?t:[t],"sendbird-label",e?j0e(e):"",r?R9(r):""].join(" ")},a)}Pt.propTypes={className:hn.exports.oneOfType([hn.exports.string,hn.exports.arrayOf(hn.exports.string)]),type:hn.exports.string,color:hn.exports.string,children:hn.exports.oneOfType([hn.exports.string,hn.exports.number,hn.exports.element,hn.exports.any])};Pt.defaultProps={className:[],type:"",color:"",children:null};const Ft=qs,Ot=Zo,js=n=>{let{className:t="",url:e,alt:r="",width:a=null,height:o=null,circle:c=!1,fixedSize:h=!1,placeHolder:f=null,defaultComponent:m=null,onLoad:v=()=>{},onError:y=()=>{}}=n;const[w,x]=Oe.exports.useState(!1),[C,A]=Oe.exports.useState(!0),L=Oe.exports.useMemo(()=>typeof m=="function"?m():m,[m]),S=Oe.exports.useMemo(()=>f&&typeof f=="function"?f({style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:o,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}}):null,[f]),k=Oe.exports.useMemo(()=>(x(!1),R.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",src:e,alt:r,onLoad:()=>{A(!1),v()},onError:()=>{x(!0),y()}})),[e]);return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-image-renderer"].join(" "),style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:o}},C&&S,w?L:R.createElement("div",{className:"sendbird-image-renderer__image",style:{width:"100%",minWidth:a,maxWidth:h?a:"400px",height:o,position:"absolute",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:`url(${e})`,borderRadius:c?"50%":null}}),k)},wn={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",AUDIO_ON_LINED:"AUDIO_ON_LINED",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REPLY:"REPLY",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"},Vi={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",PRIMARY_2:"PRIMARY_2",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",GRAY:"GRAY",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",ON_BACKGROUND_4:"ON_BACKGROUND_4",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function K0e(n){switch(n){case Vi.PRIMARY:return"sendbird-icon-color--primary";case Vi.PRIMARY_2:return"sendbird-icon-color--primary-2";case Vi.SECONDARY:return"sendbird-icon-color--secondary";case Vi.CONTENT:return"sendbird-icon-color--content";case Vi.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case Vi.WHITE:return"sendbird-icon-color--white";case Vi.GRAY:return"sendbird-icon-color--gray";case Vi.SENT:return"sendbird-icon-color--sent";case Vi.READ:return"sendbird-icon-color--read";case Vi.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case Vi.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case Vi.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case Vi.ON_BACKGROUND_4:return"sendbird-icon-color--on-background-4";case Vi.BACKGROUND_3:return"sendbird-icon-color--background-3";case Vi.ERROR:return"sendbird-icon-color--error";default:return""}}function W0e(n){switch(n){case wn.ADD:return"sendbird-icon-add";case wn.ARROW_LEFT:return"sendbird-icon-arrow-left";case wn.ATTACH:return"sendbird-icon-attach";case wn.AUDIO_ON_LINED:return"sendbird-icon-audio-on-lined";case wn.BAN:return"sendbird-icon-ban";case wn.BROADCAST:return"sendbird-icon-broadcast";case wn.CAMERA:return"sendbird-icon-camera";case wn.CHANNELS:return"sendbird-icon-channels";case wn.CHAT:return"sendbird-icon-chat";case wn.CHAT_FILLED:return"sendbird-icon-chat-filled";case wn.CHEVRON_DOWN:return"sendbird-icon-chevron-down";case wn.CHEVRON_RIGHT:return"sendbird-icon-chevron-right";case wn.CLOSE:return"sendbird-icon-close";case wn.COLLAPSE:return"sendbird-icon-collapse";case wn.COPY:return"sendbird-icon-copy";case wn.CREATE:return"sendbird-icon-create";case wn.DELETE:return"sendbird-icon-delete";case wn.DISCONNECTED:return"sendbird-icon-disconnected";case wn.DOCUMENT:return"sendbird-icon-document";case wn.DONE:return"sendbird-icon-done";case wn.DONE_ALL:return"sendbird-icon-done-all";case wn.DOWNLOAD:return"sendbird-icon-down-load";case wn.EDIT:return"sendbird-icon-edit";case wn.EMOJI_MORE:return"sendbird-icon-emoji-more";case wn.ERROR:return"sendbird-icon-error";case wn.EXPAND:return"sendbird-icon-expand";case wn.FILE_AUDIO:return"sendbird-icon-file-audio";case wn.FILE_DOCUMENT:return"sendbird-icon-file-document";case wn.FREEZE:return"sendbird-icon-freeze";case wn.GIF:return"sendbird-icon-gif";case wn.INFO:return"sendbird-icon-info";case wn.LEAVE:return"sendbird-icon-leave";case wn.MEMBERS:return"sendbird-icon-members";case wn.MESSAGE:return"sendbird-icon-message";case wn.MODERATIONS:return"sendbird-icon-moderations";case wn.MORE:return"sendbird-icon-more";case wn.MUTE:return"sendbird-icon-mute";case wn.NOTIFICATIONS:return"sendbird-icon-notifications";case wn.NOTIFICATIONS_OFF_FILLED:return"sendbird-icon-notifications-off-filled";case wn.OPERATOR:return"sendbird-icon-operator";case wn.PHOTO:return"sendbird-icon-photo";case wn.PLAY:return"sendbird-icon-play";case wn.PLUS:return"sendbird-iconn-plus";case wn.QUESTION:return"sendbird-icon-question";case wn.REFRESH:return"sendbird-icon-refresh";case wn.REMOVE:return"sendbird-icon-remove";case wn.REPLY:return"sendbird-icon-reply";case wn.SEARCH:return"sendbird-icon-search";case wn.SEND:return"sendbird-icon-send";case wn.SETTINGS_FILLED:return"sendbird-icon-settings-filled";case wn.SPINNER:return"sendbird-icon-spinner";case wn.SUPERGROUP:return"sendbird-icon-supergroup";case wn.THUMBNAIL_NONE:return"sendbird-icon-thumbnail-none";case wn.TOGGLE_OFF:return"sendbird-icon-toggle-off";case wn.TOGGLE_ON:return"sendbird-icon-toggle-on";case wn.USER:return"sendbird-icon-user";default:return"sendbird-icon-unknown"}}var Q8;function Fx(){return Fx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Fx.apply(this,arguments)}function Q0e(n){return Re("svg",{...Fx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:Q8||(Q8=Re("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"}))})}var Y8;function Hx(){return Hx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Hx.apply(this,arguments)}function Y0e(n){return Re("svg",{...Hx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:Y8||(Y8=Re("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"}))})}var X8;function Bx(){return Bx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Bx.apply(this,arguments)}function X0e(n){return Re("svg",{...Bx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:X8||(X8=Re("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"}))})}var Z8,J8;function $x(){return $x=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$x.apply(this,arguments)}function Z0e(n){return Dr("svg",{...$x({viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),children:[Z8||(Z8=Dr("g",{clipPath:"url(#icon-audio-on-lined_svg__clip0_1_7)",children:[Re("path",{className:"icon-audio-on-lined_svg__fill",clipRule:"evenodd",d:"M32 0C26.11 0 21.333 4.776 21.333 10.667V32c0 5.891 4.776 10.667 10.667 10.667S42.667 37.89 42.667 32V10.667C42.667 4.776 37.89 0 32 0zm-5.333 10.667a5.333 5.333 0 0110.666 0V32a5.333 5.333 0 01-10.666 0V10.667z"}),Re("path",{className:"icon-audio-on-lined_svg__fill",d:"M16 26.667a2.667 2.667 0 10-5.333 0V32c0 10.879 8.143 19.856 18.666 21.168v5.499h-8a2.667 2.667 0 000 5.333h21.334a2.667 2.667 0 100-5.333h-8v-5.499C45.19 51.856 53.333 42.88 53.333 32v-5.333a2.667 2.667 0 10-5.333 0V32c0 8.837-7.163 16-16 16s-16-7.163-16-16v-5.333z"})]})),J8||(J8=Re("defs",{children:Re("clipPath",{id:"icon-audio-on-lined_svg__clip0_1_7",children:Re("path",{fill:"#fff",d:"M0 0h64v64H0z"})})}))]})}var eR;function zx(){return zx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},zx.apply(this,arguments)}function J0e(n){return Re("svg",{...zx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:eR||(eR=Re("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"}))})}var nR;function Vx(){return Vx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Vx.apply(this,arguments)}function epe(n){return Re("svg",{...Vx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:nR||(nR=Re("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"}))})}var tR;function Gx(){return Gx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Gx.apply(this,arguments)}function npe(n){return Re("svg",{...Gx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:tR||(tR=Re("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"}))})}var rR;function qx(){return qx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},qx.apply(this,arguments)}function tpe(n){return Re("svg",{...qx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:rR||(rR=Re("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"}))})}var iR;function jx(){return jx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},jx.apply(this,arguments)}function rpe(n){return Re("svg",{...jx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:iR||(iR=Re("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"}))})}var aR;function Kx(){return Kx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Kx.apply(this,arguments)}function ipe(n){return Re("svg",{...Kx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:aR||(aR=Re("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"}))})}var sR;function Wx(){return Wx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Wx.apply(this,arguments)}function ape(n){return Re("svg",{...Wx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:sR||(sR=Re("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"}))})}var oR;function Qx(){return Qx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Qx.apply(this,arguments)}function spe(n){return Re("svg",{...Qx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:oR||(oR=Re("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"}))})}var lR;function Yx(){return Yx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Yx.apply(this,arguments)}function ope(n){return Re("svg",{...Yx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:lR||(lR=Re("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"}))})}var dR;function Xx(){return Xx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Xx.apply(this,arguments)}function lpe(n){return Re("svg",{...Xx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:dR||(dR=Re("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"}))})}var cR;function Zx(){return Zx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Zx.apply(this,arguments)}function dpe(n){return Re("svg",{...Zx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:cR||(cR=Re("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"}))})}var uR;function Jx(){return Jx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Jx.apply(this,arguments)}function cpe(n){return Re("svg",{...Jx({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:uR||(uR=Re("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"}))})}var hR;function e4(){return e4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},e4.apply(this,arguments)}function upe(n){return Re("svg",{...e4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:hR||(hR=Re("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"}))})}var pR;function n4(){return n4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},n4.apply(this,arguments)}function hpe(n){return Re("svg",{...n4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:pR||(pR=Re("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"}))})}var fR;function t4(){return t4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},t4.apply(this,arguments)}function ppe(n){return Re("svg",{...t4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:fR||(fR=Re("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"}))})}var _R;function r4(){return r4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},r4.apply(this,arguments)}function fpe(n){return Re("svg",{...r4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:_R||(_R=Re("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"}))})}var mR;function i4(){return i4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},i4.apply(this,arguments)}function _pe(n){return Re("svg",{...i4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:mR||(mR=Re("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"}))})}var vR;function a4(){return a4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},a4.apply(this,arguments)}function mpe(n){return Re("svg",{...a4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:vR||(vR=Re("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"}))})}var gR;function s4(){return s4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s4.apply(this,arguments)}function vpe(n){return Re("svg",{...s4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65"},n),children:gR||(gR=Re("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"}))})}var bR;function o4(){return o4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},o4.apply(this,arguments)}function gpe(n){return Re("svg",{...o4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:bR||(bR=Re("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"}))})}var yR;function l4(){return l4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},l4.apply(this,arguments)}function bpe(n){return Re("svg",{...l4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:yR||(yR=Re("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"}))})}var ER;function d4(){return d4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},d4.apply(this,arguments)}function ype(n){return Re("svg",{...d4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:ER||(ER=Re("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"}))})}var wR;function c4(){return c4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},c4.apply(this,arguments)}function Epe(n){return Re("svg",{...c4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:wR||(wR=Re("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"}))})}var xR;function u4(){return u4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},u4.apply(this,arguments)}function wpe(n){return Re("svg",{...u4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:xR||(xR=Re("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"}))})}var kR;function h4(){return h4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},h4.apply(this,arguments)}function xpe(n){return Re("svg",{...h4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:kR||(kR=Re("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"}))})}var SR;function p4(){return p4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},p4.apply(this,arguments)}function kpe(n){return Re("svg",{...p4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:SR||(SR=Re("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"}))})}var TR;function f4(){return f4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},f4.apply(this,arguments)}function Spe(n){return Re("svg",{...f4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:TR||(TR=Re("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"}))})}var CR;function _4(){return _4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},_4.apply(this,arguments)}function Tpe(n){return Re("svg",{..._4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:CR||(CR=Re("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"}))})}var IR;function m4(){return m4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},m4.apply(this,arguments)}function Cpe(n){return Re("svg",{...m4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:IR||(IR=Re("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"}))})}var NR;function v4(){return v4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},v4.apply(this,arguments)}function Ipe(n){return Re("svg",{...v4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:NR||(NR=Re("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"}))})}var AR;function g4(){return g4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},g4.apply(this,arguments)}function Npe(n){return Re("svg",{...g4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:AR||(AR=Re("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"}))})}var OR;function b4(){return b4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},b4.apply(this,arguments)}function Ape(n){return Re("svg",{...b4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:OR||(OR=Re("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"}))})}var RR;function y4(){return y4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},y4.apply(this,arguments)}function Ope(n){return Re("svg",{...y4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:RR||(RR=Re("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"}))})}var MR;function E4(){return E4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},E4.apply(this,arguments)}function Rpe(n){return Re("svg",{...E4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:MR||(MR=Re("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"}))})}var DR;function w4(){return w4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},w4.apply(this,arguments)}function Mpe(n){return Re("svg",{...w4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:DR||(DR=Re("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"}))})}var LR;function x4(){return x4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},x4.apply(this,arguments)}function Dpe(n){return Re("svg",{...x4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:LR||(LR=Re("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"}))})}var UR;function k4(){return k4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},k4.apply(this,arguments)}function Lpe(n){return Re("svg",{...k4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:UR||(UR=Re("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"}))})}var PR;function S4(){return S4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},S4.apply(this,arguments)}function Upe(n){return Re("svg",{...S4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:PR||(PR=Re("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"}))})}var FR;function T4(){return T4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},T4.apply(this,arguments)}function Ppe(n){return Re("svg",{...T4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:FR||(FR=Re("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"}))})}var HR;function C4(){return C4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},C4.apply(this,arguments)}function Fpe(n){return Re("svg",{...C4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:HR||(HR=Re("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"}))})}var BR;function I4(){return I4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},I4.apply(this,arguments)}function Hpe(n){return Re("svg",{...I4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:BR||(BR=Re("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"}))})}var $R;function N4(){return N4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},N4.apply(this,arguments)}function Bpe(n){return Re("svg",{...N4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:$R||($R=Re("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"}))})}var zR;function A4(){return A4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},A4.apply(this,arguments)}function $pe(n){return Re("svg",{...A4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},n),children:zR||(zR=Re("path",{className:"icon-reply-filled_svg__fill",d:"M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",fill:"#000",fillRule:"evenodd"}))})}var VR;function O4(){return O4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},O4.apply(this,arguments)}function zpe(n){return Re("svg",{...O4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:VR||(VR=Re("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"}))})}var GR;function R4(){return R4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},R4.apply(this,arguments)}function Vpe(n){return Re("svg",{...R4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:GR||(GR=Re("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"}))})}var qR;function M4(){return M4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},M4.apply(this,arguments)}function Gpe(n){return Re("svg",{...M4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:qR||(qR=Re("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"}))})}var jR;function D4(){return D4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},D4.apply(this,arguments)}function qpe(n){return Re("svg",{...D4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:jR||(jR=Re("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"}))})}var KR;function L4(){return L4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},L4.apply(this,arguments)}function jpe(n){return Re("svg",{...L4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:KR||(KR=Re("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"}))})}var WR;function U4(){return U4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},U4.apply(this,arguments)}function Kpe(n){return Re("svg",{...U4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:WR||(WR=Re("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"}))})}var QR;function P4(){return P4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},P4.apply(this,arguments)}function Wpe(n){return Re("svg",{...P4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),children:QR||(QR=Dr("g",{fill:"none",fillRule:"evenodd",children:[Re("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),Re("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),Re("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),Re("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"})]}))})}var YR;function F4(){return F4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},F4.apply(this,arguments)}function Qpe(n){return Re("svg",{...F4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 48"},n),children:YR||(YR=Dr("g",{fill:"none",fillRule:"evenodd",children:[Re("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),Re("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),Re("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),Re("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"})]}))})}var XR;function H4(){return H4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},H4.apply(this,arguments)}function Ype(n){return Re("svg",{...H4({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},n),children:XR||(XR=Re("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"}))})}function Xpe(n){switch(n){case wn.ADD:return R.createElement(Q0e,null);case wn.ARROW_LEFT:return R.createElement(Y0e,null);case wn.ATTACH:return R.createElement(X0e,null);case wn.AUDIO_ON_LINED:return R.createElement(Z0e,null);case wn.BAN:return R.createElement(J0e,null);case wn.BROADCAST:return R.createElement(epe,null);case wn.CAMERA:return R.createElement(npe,null);case wn.CHANNELS:return R.createElement(tpe,null);case wn.CHAT:return R.createElement(rpe,null);case wn.CHAT_FILLED:return R.createElement(ipe,null);case wn.CHEVRON_DOWN:return R.createElement(ape,null);case wn.CHEVRON_RIGHT:return R.createElement(spe,null);case wn.CLOSE:return R.createElement(ope,null);case wn.COLLAPSE:return R.createElement(lpe,null);case wn.COPY:return R.createElement(dpe,null);case wn.CREATE:return R.createElement(cpe,null);case wn.DELETE:return R.createElement(upe,null);case wn.DISCONNECTED:return R.createElement(hpe,null);case wn.DOCUMENT:return R.createElement(ppe,null);case wn.DONE:return R.createElement(fpe,null);case wn.DONE_ALL:return R.createElement(_pe,null);case wn.DOWNLOAD:return R.createElement(mpe,null);case wn.EDIT:return R.createElement(vpe,null);case wn.EMOJI_MORE:return R.createElement(gpe,null);case wn.ERROR:return R.createElement(bpe,null);case wn.EXPAND:return R.createElement(ype,null);case wn.FILE_AUDIO:return R.createElement(Epe,null);case wn.FILE_DOCUMENT:return R.createElement(wpe,null);case wn.FREEZE:return R.createElement(xpe,null);case wn.GIF:return R.createElement(kpe,null);case wn.INFO:return R.createElement(Spe,null);case wn.LEAVE:return R.createElement(Tpe,null);case wn.MEMBERS:return R.createElement(Cpe,null);case wn.MESSAGE:return R.createElement(Ipe,null);case wn.MODERATIONS:return R.createElement(Npe,null);case wn.MORE:return R.createElement(Ape,null);case wn.MUTE:return R.createElement(Ope,null);case wn.NOTIFICATIONS:return R.createElement(Rpe,null);case wn.NOTIFICATIONS_OFF_FILLED:return R.createElement(Mpe,null);case wn.OPERATOR:return R.createElement(Dpe,null);case wn.PHOTO:return R.createElement(Lpe,null);case wn.PLAY:return R.createElement(Upe,null);case wn.PLUS:return R.createElement(Ppe,null);case wn.QUESTION:return R.createElement(Fpe,null);case wn.REFRESH:return R.createElement(Hpe,null);case wn.REMOVE:return R.createElement(Bpe,null);case wn.REPLY:return R.createElement($pe,null);case wn.SEARCH:return R.createElement(zpe,null);case wn.SEND:return R.createElement(Vpe,null);case wn.SETTINGS_FILLED:return R.createElement(Gpe,null);case wn.SPINNER:return R.createElement(qpe,null);case wn.SUPERGROUP:return R.createElement(jpe,null);case wn.THUMBNAIL_NONE:return R.createElement(Kpe,null);case wn.TOGGLE_OFF:return R.createElement(Wpe,null);case wn.TOGGLE_ON:return R.createElement(Qpe,null);case wn.USER:return R.createElement(Ype,null);default:return"icon"}}function Qt(n){let{className:t,type:e,fillColor:r,width:a,height:o,onClick:c,children:h}=n;const f={width:typeof a=="string"?a:`${a}px`,minWidth:typeof a=="string"?a:`${a}px`,height:typeof o=="string"?o:`${o}px`,minHeight:typeof o=="string"?o:`${o}px`};return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-icon",W0e(e),K0e(r)].join(" "),role:"button",onClick:c,onKeyDown:c,tabIndex:"0",style:f},h||Xpe(e))}Qt.propTypes={className:hn.exports.oneOfType([hn.exports.string,hn.exports.arrayOf(hn.exports.string)]),type:hn.exports.oneOfType([hn.exports.oneOf(Object.keys(wn)),hn.exports.string]).isRequired,fillColor:hn.exports.oneOf(Object.keys(Vi)),width:hn.exports.oneOfType([hn.exports.string,hn.exports.number]),height:hn.exports.oneOfType([hn.exports.string,hn.exports.number]),onClick:hn.exports.func,children:hn.exports.element};Qt.defaultProps={className:"",fillColor:Vi.DEFAULT,width:26,height:26,onClick:()=>{},children:null};const $t=wn,Xt=Vi;var ZR=n=>{if(typeof n=="number")return n;if(typeof n=="string"){const t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null};const Fl="sendbird-avatar-img",Zpe=n=>{let{width:t,height:e}=n,r=ZR(t),a=ZR(e);return typeof r=="number"&&(r*=.575),typeof a=="number"&&(a*=.575),R.createElement("div",{className:"sendbird-avatar-img--default",style:{width:t,height:e}},R.createElement(Qt,{type:$t.USER,fillColor:Xt.CONTENT,width:r,height:a}))},Jpe=n=>{let{width:t,height:e}=n;return R.createElement(Zpe,{width:t,height:e})},efe=n=>{let{src:t="",alt:e="",height:r,width:a,customDefaultComponent:o}=n;const c=()=>o?o({width:a,height:r}):Jpe({width:a,height:r});return typeof t=="string"?R.createElement(js,{className:Fl,url:t,height:r,width:a,alt:e,defaultComponent:c}):t&&t.length?t.length===1?R.createElement(js,{className:Fl,url:t[0],height:r,width:a,alt:e,defaultComponent:c}):t.length===2?R.createElement("div",{className:"sendbird-avatar--inner__two-child"},R.createElement(js,{className:Fl,url:t[0],height:r,width:a,alt:e,defaultComponent:c}),R.createElement(js,{className:Fl,url:t[1],height:r,width:a,alt:e,defaultComponent:c})):t.length===3?R.createElement(R.Fragment,null,R.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},R.createElement(js,{className:Fl,url:t[0],height:r,width:a,alt:e,defaultComponent:c})),R.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},R.createElement(js,{className:Fl,url:t[1],height:r,width:a,alt:e,defaultComponent:c}),R.createElement(js,{className:Fl,url:t[2],height:r,width:a,alt:e,defaultComponent:c}))):R.createElement("div",{className:"sendbird-avatar--inner__four-child"},t.slice(0,4).map(h=>R.createElement(js,{className:Fl,url:h,height:r,width:a,alt:e,key:N_(),defaultComponent:c}))):R.createElement(js,{className:Fl,url:"",height:r,width:a,alt:e,defaultComponent:c})};function nfe(n,t){let{className:e="",src:r="",alt:a="",width:o="56px",height:c="56px",onClick:h,customDefaultComponent:f}=n;return R.createElement("div",{className:[...Array.isArray(e)?e:[e],"sendbird-avatar"].join(" "),role:"button",ref:t,style:{height:c,width:o},onClick:h,onKeyDown:h,tabIndex:0},R.createElement(efe,{src:r,width:o,height:c,alt:a,customDefaultComponent:f}))}var nh=R.forwardRef(nfe);const id=R.forwardRef((n,t)=>{const{className:e="",children:r,disabled:a=!1,width:o="56px",height:c="56px",type:h="button",style:f={},onBlur:m=()=>{},onClick:v=()=>{}}=n,[y,w]=Oe.exports.useState(!1);return R.createElement("button",{className:[...Array.isArray(e)?e:[e],"sendbird-iconbutton",y?"sendbird-iconbutton--pressed":""].join(" "),disabled:a,ref:t,type:h,style:bn(bn({},f),{},{height:c,width:o}),onClick:x=>{a||(w(!0),v==null||v(x))},onBlur:x=>{w(!1),m==null||m(x)}},R.createElement("span",{className:"sendbird-iconbutton__inner"},r))}),Ic=n=>{const{stores:t={}}=n,{sdkStore:e={}}=t,{sdk:r}=e;return r},Nc=n=>{const{config:t={}}=n,{pubSub:e}=t;return e},tfe=n=>(t,e)=>new Promise((r,a)=>{const o=Ic(n);o||a(new Error("Sdk not found")),o!=null&&o.connect&&typeof o.connect=="function"||a(new Error('Not found the function "connect')),e?o.connect(t,e).then(c=>r(c)).catch(c=>a(c)):o.connect(t).then(c=>r(c)).catch(c=>a(c))}),rfe=n=>()=>new Promise((t,e)=>{const r=Ic(n);r||e(new Error("Sdk not found")),r.disconnect&&typeof r.disconnect=="function"||e(new Error('Not found the function "disconnect')),r.disconnect().then(a=>t(a)).catch(a=>e(a))}),ife=n=>(t,e)=>new Promise((r,a)=>{const o=Ic(n);o||a(new Error("Sdk not found")),o.updateCurrentUserInfo&&typeof o.updateCurrentUserInfo=="function"||a(new Error('Not found the function "updateCurrentUserInfo"'));const c={nickname:t};e&&(c.profileUrl=e),o.updateCurrentUserInfo(c).then(h=>r(h)).catch(h=>a(h))}),M9=n=>t=>new Promise((e,r)=>{const a=Ic(n),o=Nc(n);a||r(new Error("Sdk not found")),a.groupChannel||r(new Error("Not found GroupChannelModule")),a.groupChannel.createChannel&&typeof a.groupChannel.createChannel=="function"||r(new Error('Not found the function "createChannel"')),a.groupChannel.createChannel(t).then(c=>{e(c),o.publish(Di.CREATE_CHANNEL,{channel:c})}).catch(r)}),afe=n=>t=>new Promise((e,r)=>{const a=Ic(n);a||r(new Error("Sdk not found")),a.openChannel||r(new Error("Not found OpenChannelModule")),a.openChannel.createChannel&&typeof a.openChannel.createChannel=="function"||r(new Error('Not found the function "createChannel"')),a.openChannel.createChannel(t).then(o=>{e(o)}).catch(r)}),D9=n=>t=>new Promise((e,r)=>{const a=Ic(n);a||r(new Error("Sdk not found")),a.groupChannel||r(new Error("Not found GroupChannelModule")),a.groupChannel.getChannel&&typeof a.groupChannel.getChannel=="function"||r(new Error('Not found the function "getChannel"')),a.groupChannel.getChannel(t).then(o=>{e(o)}).catch(r)}),Dk=n=>t=>new Promise((e,r)=>{const a=Ic(n);a||r(new Error("Sdk not found")),a.openChannel||r(new Error("Not found OpenChannelModule")),a.openChannel.getChannel&&typeof a.openChannel.getChannel=="function"||r(new Error('Not found the function "getChannel"')),a.openChannel.getChannel(t).then(o=>{e(o)}).catch(r)}),sfe=n=>t=>new Promise((e,r)=>{var a;(a=D9(n))===null||a===void 0||a(t).then(o=>{o.leave().then(()=>{e()}).catch(r)}).catch(r)}),ofe=n=>t=>new Promise((e,r)=>{var a;(a=Dk(n))===null||a===void 0||a(t).then(o=>{o.enter().then(()=>{e(o)}).catch(r)}).catch(r)}),lfe=n=>t=>new Promise((e,r)=>{var a;(a=Dk(n))===null||a===void 0||a(t).then(o=>{o.exit().then(()=>{e(o)}).catch(r)}).catch(r)}),dfe=()=>n=>new Promise((t,e)=>{n.freeze&&typeof(n==null?void 0:n.freeze)=="function"||e(new Error('Not found the function "freeze"')),n.freeze().then(()=>{t()}).catch(e)}),cfe=()=>n=>new Promise((t,e)=>{n.unfreeze&&typeof(n==null?void 0:n.unfreeze)=="function"||e(new Error('Not found the function "unfreeze"')),n.unfreeze().then(()=>{t()}).catch(e)});class L9{constructor(){Jd(this,"_onPending",Tg),Jd(this,"_onFailed",Tg),Jd(this,"_onSucceeded",Tg)}triggerPending(t){this._onPending(t)}triggerFailed(t,e){this._onFailed(t,e.isResendable?e:null)}triggerSucceeded(t){this._onSucceeded(t)}onPending(t){return typeof t=="function"&&(this._onPending=t),this}onFailed(t){return typeof t=="function"&&(this._onFailed=t),this}onSucceeded(t){return typeof t=="function"&&(this._onSucceeded=t),this}}const ufe=n=>(t,e)=>{const r=new L9,a=Nc(n);return t.sendUserMessage(e).onFailed((o,c)=>r.triggerFailed(o,c)).onPending(o=>{a.publish(Di.SEND_MESSAGE_START,{message:o,channel:t}),r.triggerPending(o)}).onSucceeded(o=>{a.publish(Di.SEND_USER_MESSAGE,{message:o,channel:t}),r.triggerSucceeded(o)}),r},hfe=n=>(t,e)=>{const r=new L9,a=Nc(n);return t.sendFileMessage(e).onFailed((o,c)=>r.triggerFailed(o,c)).onPending(o=>{a.publish(Di.SEND_MESSAGE_START,{message:o,channel:t}),r.triggerPending(o)}).onSucceeded(o=>{a.publish(Di.SEND_FILE_MESSAGE,{message:o,channel:t}),r.triggerSucceeded(o)}),r},pfe=n=>(t,e,r)=>new Promise((a,o)=>{const c=Nc(n);t.updateUserMessage(e,r).then(h=>{c.publish(Di.UPDATE_USER_MESSAGE,{message:h,channel:t,fromSelector:!0}),a(h)}).catch(o)}),ffe=n=>(t,e)=>new Promise((r,a)=>{const o=Nc(n),{messageId:c}=e;t.deleteMessage(e).then(()=>{o.publish(Di.DELETE_MESSAGE,{messageId:c,channel:t}),r(e)}).catch(a)}),_fe=n=>(t,e)=>new Promise((r,a)=>{const o=Nc(n);t.resendUserMessage(e).then(c=>{o.publish(Di.SEND_USER_MESSAGE,{message:c,channel:t}),r(c)}).catch(a)}),mfe=n=>(t,e,r)=>new Promise((a,o)=>{const c=Nc(n);t.resendFileMessage(e,r).then(h=>{c.publish(Di.SEND_FILE_MESSAGE,{message:h,channel:t}),a(h)}).catch(o)}),Lk={getSdk:Ic,getPubSub:Nc,getConnect:tfe,getDisconnect:rfe,getUpdateUserInfo:ife,getCreateGroupChannel:M9,getCreateOpenChannel:afe,getGetGroupChannel:D9,getGetOpenChannel:Dk,getLeaveGroupChannel:sfe,getEnterOpenChannel:ofe,getExitOpenChannel:lfe,getFreezeChannel:dfe,getUnfreezeChannel:cfe,getSendUserMessage:ufe,getSendFileMessage:hfe,getUpdateUserMessage:pfe,getDeleteMessage:ffe,getResendUserMessage:_fe,getResendFileMessage:mfe},U9="sendbird-modal-root";let mf=function(n){return n.PRIMARY="PRIMARY",n.SECONDARY="SECONDARY",n.DANGER="DANGER",n.DISABLED="DISABLED",n}({}),B4=function(n){return n.BIG="BIG",n.SMALL="SMALL",n}({});function vfe(n){switch(n){case mf.PRIMARY:return"sendbird-button--primary";case mf.SECONDARY:return"sendbird-button--secondary";case mf.DANGER:return"sendbird-button--danger";case mf.DISABLED:return"sendbird-button--disabled";default:return null}}function gfe(n){switch(n){case B4.BIG:return"sendbird-button--big";case B4.SMALL:return"sendbird-button--small";default:return null}}const zu=mf,$4=B4;function y_(n){let{className:t,type:e=zu.PRIMARY,size:r=$4.BIG,children:a="Button",disabled:o=!1,onClick:c=()=>{}}=n;const h=[...Array.isArray(t)?t:[t],"sendbird-button",o?"sendbird-button__disabled":"",vfe(e),gfe(r)].join(" ");return R.createElement("button",{className:h,type:"button",onClick:c,disabled:o},R.createElement(Pt,{className:"sendbird-button__text",type:Ft.BUTTON_1,color:Ot.ONCONTENT_1},a))}const bfe=n=>{let{titleText:t}=n;return R.createElement("div",{className:"sendbird-modal__header"},R.createElement(Pt,{type:Ft.H_1,color:Ot.ONBACKGROUND_1},t))},yfe=n=>{let{children:t}=n;return R.createElement("div",{className:"sendbird-modal__body"},R.createElement(Pt,{type:Ft.SUBTITLE_1,color:Ot.ONBACKGROUND_2},t))},Efe=n=>{let{submitText:t,disabled:e=!1,type:r=zu.DANGER,onSubmit:a,onCancel:o}=n;const{stringSet:c}=Oe.exports.useContext(Mo);return R.createElement("div",{className:"sendbird-modal__footer"},R.createElement(y_,{type:zu.SECONDARY,onClick:o},R.createElement(Pt,{type:Ft.BUTTON_1,color:Ot.ONBACKGROUND_1},c.BUTTON__CANCEL)),R.createElement(y_,{type:r,disabled:e,onClick:a},t))};function wfe(n){const{children:t=null,className:e="",isCloseOnClickOutside:r=!1,isFullScreenOnMobile:a=!1,titleText:o,submitText:c,disabled:h=!1,hideFooter:f=!1,type:m=zu.DANGER,onCancel:v=()=>{},onSubmit:y=()=>{},renderHeader:w}=n,{isMobile:x}=eh();return A0.exports.createPortal(R.createElement("div",{className:`
      sendbird-modal ${e}
      ${a&&x?"sendbird-modal--full-mobile":""}
    `},R.createElement("div",{className:"sendbird-modal__content"},(w==null?void 0:w())||R.createElement(bfe,{titleText:o}),R.createElement(yfe,null,t),!f&&R.createElement(Efe,{disabled:h,onCancel:v,onSubmit:y,submitText:c,type:m}),R.createElement("div",{className:"sendbird-modal__close"},R.createElement(id,{width:"32px",height:"32px",onClick:v},R.createElement(Qt,{type:$t.CLOSE,fillColor:Xt.DEFAULT,width:"24px",height:"24px"})))),R.createElement("div",{className:`
          sendbird-modal__backdrop
          ${r&&"sendbird-modal__backdrop--clickoutside"}
        `,onClick:C=>{C==null||C.stopPropagation(),r&&v()}})),document.getElementById(U9))}function A_(n){var t,e;let{user:r,currentUserId:a,disableMessaging:o=!1,onSuccess:c}=n;const h=lo(),f=M9(h),m=h==null||(t=h.config)===null||t===void 0?void 0:t.logger,{stringSet:v}=Oe.exports.useContext(Mo),y=a||(h==null||(e=h.config)===null||e===void 0?void 0:e.userId),{onUserProfileMessage:w}=Oe.exports.useContext(U0);return R.createElement("div",{className:"sendbird__user-profile"},R.createElement("section",{className:"sendbird__user-profile-avatar"},R.createElement(nh,{height:"80px",width:"80px",src:r==null?void 0:r.profileUrl})),R.createElement("section",{className:"sendbird__user-profile-name"},R.createElement(Pt,{type:Ft.H_2,color:Ot.ONBACKGROUND_1},(r==null?void 0:r.nickname)||v.NO_NAME)),(r==null?void 0:r.userId)!==y&&!o&&R.createElement("section",{className:"sendbird__user-profile-message"},R.createElement(y_,{type:zu.SECONDARY,onClick:()=>{const x={isDistinct:!1,invitedUserIds:[r==null?void 0:r.userId],operatorUserIds:[y]};c(),f(x).then(C=>{m.info("UserProfile, channel create",C),typeof w=="function"&&(w==null||w(C))})}},v.USER_PROFILE__MESSAGE)),R.createElement("div",{className:"sendbird__user-profile-separator"}),R.createElement("section",{className:"sendbird__user-profile-userId"},R.createElement(Pt,{className:"sendbird__user-profile-userId--label",type:Ft.CAPTION_2,color:Ot.ONBACKGROUND_2},v.USER_PROFILE__USER_ID),R.createElement(Pt,{className:"sendbird__user-profile-userId--value",type:Ft.BODY_1,color:Ot.ONBACKGROUND_1},r==null?void 0:r.userId)))}const xfe=60;class kfe extends R.Component{constructor(t){super(t),Jd(this,"menuRef",R.createRef()),Jd(this,"setupEvents",()=>{const{closeDropdown:e}=this.props,{menuRef:r}=this,a=o=>{var c,h;r!=null&&r.current&&!(r!=null&&(c=r.current)!==null&&c!==void 0&&(h=c.contains)!==null&&h!==void 0&&h.call(c,o.target))&&(e==null||e())};this.setState({handleClickOutside:a}),document.addEventListener("mousedown",a)}),Jd(this,"cleanUpEvents",()=>{const{handleClickOutside:e}=this.state;document.removeEventListener("mousedown",e)}),Jd(this,"getMenuPosition",()=>{var e,r;const{parentRef:a,openLeft:o}=this.props,c=a==null||(e=a.current)===null||e===void 0||(r=e.getBoundingClientRect)===null||r===void 0?void 0:r.call(e),h=(c==null?void 0:c.x)||(c==null?void 0:c.left)||0,f=(c==null?void 0:c.y)||(c==null?void 0:c.top)||0,m={top:f,left:h};if(!this.menuRef.current)return m;const{innerWidth:v,innerHeight:y}=window,w=this.menuRef.current.getBoundingClientRect();if(f+w.height+xfe>y&&(m.top-=w.height),h+w.width>v&&!o&&(m.left-=w.width),m.top<0&&(m.top=w.height<y?(y-w.height)/2:0),m.top+=32,o){const x=Number.isNaN(w.width-30)?108:w.width-30;m.left-=x}return m.left<0&&(m.left=w.width<v?(v-w.width)/2:0),this.setState({menuStyle:m}),m}),this.state={menuStyle:{},handleClickOutside:()=>{}}}componentDidMount(){this.setupEvents(),this.getMenuPosition()}componentWillUnmount(){this.cleanUpEvents()}render(){var t;const{menuStyle:e}=this.state,{children:r,style:a,className:o=""}=this.props;return A0.exports.createPortal(R.createElement("div",{className:(t=this.props)===null||t===void 0?void 0:t.className},R.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),R.createElement("ul",{className:`${o} sendbird-dropdown__menu`,ref:this.menuRef,style:bn({display:"inline-block",position:"fixed",left:`${Math.round(e.left)}px`,top:`${Math.round(e.top)}px`},a)},r)),document.getElementById("sendbird-dropdown-portal"))}}const Sfe=13,ml=kfe,ua=n=>{let{className:t="",children:e,onClick:r,disable:a=!1}=n;const o=c=>{!a&&r&&(r==null||r(c))};return R.createElement("li",{className:Mx([t,"sendbird-dropdown__menu-item",a?"disable":""]),role:"menuitem","aria-disabled":!!a,onClick:o,onKeyPress:c=>{c.keyCode===Sfe&&o(c)},tabIndex:0},R.createElement(Pt,{className:"sendbird-dropdown__menu-item__text",type:Ft.SUBTITLE_2,color:a?Ot.ONBACKGROUND_4:Ot.ONBACKGROUND_1},e))};function vl(n){let{menuTrigger:t,menuItems:e,isOpen:r}=n;const[a,o]=Oe.exports.useState(!1);return R.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},t==null?void 0:t(()=>o(!a)),(a||r)&&e(()=>o(!1)))}function mb(n){return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(n)}function ga(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Do(n){ga(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||mb(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Tfe(n){return ga(1,arguments),n instanceof Date||mb(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Cfe(n){if(ga(1,arguments),!Tfe(n)&&typeof n!="number")return!1;var t=Do(n);return!isNaN(Number(t))}function Vu(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ife(n,t){ga(2,arguments);var e=Do(n).getTime(),r=Vu(t);return new Date(e+r)}function Nfe(n,t){ga(2,arguments);var e=Vu(t);return Ife(n,-e)}var Afe=864e5;function Ofe(n){ga(1,arguments);var t=Do(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=e-r;return Math.floor(a/Afe)+1}function vb(n){ga(1,arguments);var t=1,e=Do(n),r=e.getUTCDay(),a=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function P9(n){ga(1,arguments);var t=Do(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var a=vb(r),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var c=vb(o);return t.getTime()>=a.getTime()?e+1:t.getTime()>=c.getTime()?e:e-1}function Rfe(n){ga(1,arguments);var t=P9(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=vb(e);return r}var Mfe=6048e5;function Dfe(n){ga(1,arguments);var t=Do(n),e=vb(t).getTime()-Rfe(t).getTime();return Math.round(e/Mfe)+1}var Lfe={};function e1(){return Lfe}function gb(n,t){var e,r,a,o,c,h,f,m;ga(1,arguments);var v=e1(),y=Vu((e=(r=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(c=t.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:v.weekStartsOn)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&e!==void 0?e:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Do(n),x=w.getUTCDay(),C=(x<y?7:0)+x-y;return w.setUTCDate(w.getUTCDate()-C),w.setUTCHours(0,0,0,0),w}function F9(n,t){var e,r,a,o,c,h,f,m;ga(1,arguments);var v=Do(n),y=v.getUTCFullYear(),w=e1(),x=Vu((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(c=t.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:w.firstWeekContainsDate)!==null&&r!==void 0?r:(f=w.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(y+1,0,x),C.setUTCHours(0,0,0,0);var A=gb(C,t),L=new Date(0);L.setUTCFullYear(y,0,x),L.setUTCHours(0,0,0,0);var S=gb(L,t);return v.getTime()>=A.getTime()?y+1:v.getTime()>=S.getTime()?y:y-1}function Ufe(n,t){var e,r,a,o,c,h,f,m;ga(1,arguments);var v=e1(),y=Vu((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(c=t.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1),w=F9(n,t),x=new Date(0);x.setUTCFullYear(w,0,y),x.setUTCHours(0,0,0,0);var C=gb(x,t);return C}var Pfe=6048e5;function Ffe(n,t){ga(1,arguments);var e=Do(n),r=gb(e,t).getTime()-Ufe(e,t).getTime();return Math.round(r/Pfe)+1}function Cr(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var Vd={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Cr(e==="yy"?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):Cr(r+1,2)},d:function(t,e){return Cr(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return Cr(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Cr(t.getUTCHours(),e.length)},m:function(t,e){return Cr(t.getUTCMinutes(),e.length)},s:function(t,e){return Cr(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,r-3));return Cr(o,e.length)}},Fh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hfe={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return Vd.y(t,e)},Y:function(t,e,r,a){var o=F9(t,a),c=o>0?o:1-o;if(e==="YY"){var h=c%100;return Cr(h,2)}return e==="Yo"?r.ordinalNumber(c,{unit:"year"}):Cr(c,e.length)},R:function(t,e){var r=P9(t);return Cr(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return Cr(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Cr(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Cr(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return Vd.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return Cr(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var o=Ffe(t,a);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):Cr(o,e.length)},I:function(t,e,r){var a=Dfe(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Cr(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Vd.d(t,e)},D:function(t,e,r){var a=Ofe(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Cr(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var o=t.getUTCDay(),c=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Cr(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var o=t.getUTCDay(),c=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Cr(c,e.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return Cr(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a=t.getUTCHours(),o;switch(a===12?o=Fh.noon:a===0?o=Fh.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a=t.getUTCHours(),o;switch(a>=17?o=Fh.evening:a>=12?o=Fh.afternoon:a>=4?o=Fh.morning:o=Fh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Vd.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Vd.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Cr(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Cr(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Vd.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Vd.s(t,e)},S:function(t,e){return Vd.S(t,e)},X:function(t,e,r,a){var o=a._originalDate||t,c=o.getTimezoneOffset();if(c===0)return"Z";switch(e){case"X":return eM(c);case"XXXX":case"XX":return hu(c);case"XXXXX":case"XXX":default:return hu(c,":")}},x:function(t,e,r,a){var o=a._originalDate||t,c=o.getTimezoneOffset();switch(e){case"x":return eM(c);case"xxxx":case"xx":return hu(c);case"xxxxx":case"xxx":default:return hu(c,":")}},O:function(t,e,r,a){var o=a._originalDate||t,c=o.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+JR(c,":");case"OOOO":default:return"GMT"+hu(c,":")}},z:function(t,e,r,a){var o=a._originalDate||t,c=o.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+JR(c,":");case"zzzz":default:return"GMT"+hu(c,":")}},t:function(t,e,r,a){var o=a._originalDate||t,c=Math.floor(o.getTime()/1e3);return Cr(c,e.length)},T:function(t,e,r,a){var o=a._originalDate||t,c=o.getTime();return Cr(c,e.length)}};function JR(n,t){var e=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),o=r%60;if(o===0)return e+String(a);var c=t||"";return e+String(a)+c+Cr(o,2)}function eM(n,t){if(n%60===0){var e=n>0?"-":"+";return e+Cr(Math.abs(n)/60,2)}return hu(n,t)}function hu(n,t){var e=t||"",r=n>0?"-":"+",a=Math.abs(n),o=Cr(Math.floor(a/60),2),c=Cr(a%60,2);return r+o+e+c}var Bfe=Hfe,nM=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},H9=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},$fe=function(t,e){var r=t.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return nM(t,e);var c;switch(a){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",nM(a,e)).replace("{{time}}",H9(o,e))},zfe={p:H9,P:$fe},Vfe=zfe;function Gfe(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var qfe=["D","DD"],jfe=["YY","YYYY"];function Kfe(n){return qfe.indexOf(n)!==-1}function Wfe(n){return jfe.indexOf(n)!==-1}function tM(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Qfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xfe=/^'([^]*?)'?$/,Zfe=/''/g,Jfe=/[a-zA-Z]/;function P0(n,t,e){var r,a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O;ga(2,arguments);var H=String(t),D=e1(),T=(r=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:D.locale)!==null&&r!==void 0?r:T9,M=Vu((o=(c=(h=(f=e==null?void 0:e.firstWeekContainsDate)!==null&&f!==void 0?f:e==null||(m=e.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&h!==void 0?h:D.firstWeekContainsDate)!==null&&c!==void 0?c:(y=D.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=Vu((x=(C=(A=(L=e==null?void 0:e.weekStartsOn)!==null&&L!==void 0?L:e==null||(S=e.locale)===null||S===void 0||(k=S.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&A!==void 0?A:D.weekStartsOn)!==null&&C!==void 0?C:(N=D.locale)===null||N===void 0||(O=N.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&x!==void 0?x:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var z=Do(n);if(!Cfe(z))throw new RangeError("Invalid time value");var te=Gfe(z),he=Nfe(z,te),B={firstWeekContainsDate:M,weekStartsOn:q,locale:T,_originalDate:z},W=H.match(Yfe).map(function(re){var j=re[0];if(j==="p"||j==="P"){var _e=Vfe[j];return _e(re,T.formatLong)}return re}).join("").match(Qfe).map(function(re){if(re==="''")return"'";var j=re[0];if(j==="'")return e_e(re);var _e=Bfe[j];if(_e)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Wfe(re)&&tM(re,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Kfe(re)&&tM(re,t,String(n)),_e(he,re,T.localize,B);if(j.match(Jfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return re}).join("");return W}function e_e(n){var t=n.match(Xfe);return t?t[1].replace(Zfe,"'"):n}function O_(n){let{className:t="",width:e="26px",height:r="26px",children:a}=n;return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-loader"].join(" "),style:{width:typeof e=="string"?e:`${e}px`,height:typeof r=="string"?r:`${r}px`}},a||R.createElement(Qt,{type:$t.SPINNER,width:"26px",height:"26px"}))}function rM(n){ga(1,arguments);var t=Do(n);return t.setHours(0,0,0,0),t}function n_e(n,t){ga(2,arguments);var e=rM(n),r=rM(t);return e.getTime()===r.getTime()}const t_e="sendbird-mention-user-label";let Gl=function(n){return n.ONBACKGROUND_1="ONBACKGROUND_1",n.ONBACKGROUND_2="ONBACKGROUND_2",n.ONBACKGROUND_3="ONBACKGROUND_3",n.ONBACKGROUND_4="ONBACKGROUND_4",n.ONCONTENT_1="ONCONTENT_1",n.ONCONTENT_2="ONCONTENT_2",n.PRIMARY="PRIMARY",n.ERROR="ERROR",n}({});const z4=n=>{switch(n){case Gl.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case Gl.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case Gl.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case Gl.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case Gl.ONCONTENT_1:return"sendbird-color--oncontent-1";case Gl.PRIMARY:return"sendbird-color--primary";case Gl.ERROR:return"sendbird-color--error";default:return null}},r_e=n=>{let{className:t="",color:e=Gl.ONBACKGROUND_1,disabled:r=!1,disableUnderline:a=!1,onClick:o=()=>{},children:c}=n;return R.createElement("div",{className:[...Array.isArray(t)?t:[t],z4(e),a?"sendbird-textbutton--not-underline":"sendbird-textbutton",r?"sendbird-textbutton--disabled":""].join(" "),role:"button",tabIndex:0,onClick:h=>o(h),onKeyPress:h=>o(h)},c)},iM=n=>n==null;function Hl(n,t){if(iM(n)||iM(t))return!1;const e=n.toString(),r=t.toString();return e===r}const Yp="@";y9();y9();const i_e=300;function aM(n){!a_e(n)||n.touches.length<2&&n.preventDefault&&n.preventDefault()}function a_e(n){return n&&"touches"in n}function n1(n){let{onLongPress:t,onClick:e}=n,{delay:r=i_e,shouldPreventDefault:a=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{isMobile:o}=eh(),[c,h]=Oe.exports.useState(!1),[f,m]=Oe.exports.useState(!1),v=Oe.exports.useRef(),y=Oe.exports.useRef(),w=Oe.exports.useCallback(C=>{C.persist();const A=bn({},C);m(!1),a&&C.target&&(C.target.addEventListener("touchend",aM,{passive:!1}),y.current=C.target),v.current=setTimeout(()=>{t(A),h(!0)},r)},[t,r,a,o]),x=Oe.exports.useCallback(function(C){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;m(!!L),v!=null&&v.current&&clearTimeout(v.current),A&&!c&&!f&&(e==null||e(C)),h(!1),a&&y.current&&y.current.removeEventListener("touchend",aM)},[a,e,c,f]);return{onMouseDown:C=>w(C),onMouseUp:C=>x(C),onMouseLeave:C=>x(C,!1),onTouchStart:C=>w(C),onTouchMove:C=>x(C,!1,!0),onTouchEnd:C=>x(C)}}hn.exports.bool,hn.exports.func.isRequired,hn.exports.shape({});function s_e(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}var o_e=s_e();const Ci=o_e;function Cg(n){let{className:t="",type:e,iconSize:r,searchInString:a="",retryToConnect:o=null}=n;const{stringSet:c}=Oe.exports.useContext(Mo);return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-place-holder"].join(" ")},e===Ci.LOADING&&R.createElement(O_,{width:r||"48px",height:r||"48px"},R.createElement(Qt,{type:$t.SPINNER,fillColor:Xt.PRIMARY,width:r||"48px",height:r||"48px"})),(e===Ci.NO_CHANNELS||e===Ci.NO_MESSAGES||e===Ci.WRONG)&&R.createElement("div",{className:"sendbird-place-holder__body"},e===Ci.NO_CHANNELS&&R.createElement(Qt,{className:"sendbird-place-holder__body__icon",type:$t.CHAT,fillColor:Xt.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),e===Ci.WRONG&&R.createElement(Qt,{className:"sendbird-place-holder__body__icon",type:$t.ERROR,fillColor:Xt.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),e===Ci.NO_MESSAGES&&R.createElement(Qt,{className:"sendbird-place-holder__body__icon",type:$t.MESSAGE,fillColor:Xt.ON_BACKGROUND_3,width:r||"64px",height:r||"64px"}),R.createElement(Pt,{className:"sendbird-place-holder__body__text",type:Ft.BODY_1,color:Ot.ONBACKGROUND_2},e===Ci.NO_CHANNELS&&c.PLACE_HOLDER__NO_CHANNEL,e===Ci.WRONG&&c.PLACE_HOLDER__WRONG,e===Ci.NO_MESSAGES&&c.PLACE_HOLDER__NO_MESSAGES),o&&R.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",onClick:o,onKeyPress:o,tabIndex:0},R.createElement(Qt,{className:"sendbird-place-holder__body__reconnect__icon",type:$t.REFRESH,fillColor:Xt.PRIMARY,width:"20px",height:"20px"}),R.createElement(Pt,{className:"sendbird-place-holder__body__reconnect__text",type:Ft.BUTTON_1,color:Ot.PRIMARY},c.PLACE_HOLDER__RETRY_TO_CONNECT))),(e===Ci.NO_RESULTS||e===Ci.SEARCH_IN||e===Ci.SEARCHING)&&R.createElement("div",{className:"sendbird-place-holder__body--align-top"},e===Ci.SEARCH_IN&&R.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},R.createElement(Pt,{className:"sendbird-place-holder__body--align-top__text__search-in",type:Ft.BUTTON_2,color:Ot.ONBACKGROUND_2},c.SEARCH_IN),R.createElement(Pt,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:Ft.BUTTON_2,color:Ot.PRIMARY},`'${a}`),R.createElement(Pt,{className:"sendbird-place-holder__body--align-top__text__quote",type:Ft.BUTTON_2,color:Ot.PRIMARY},"'")),e===Ci.SEARCHING&&R.createElement(Pt,{className:"sendbird-place-hlder__body--align-top__searching",type:Ft.BODY_1,color:Ot.ONBACKGROUND_2},c.SEARCHING),e===Ci.NO_RESULTS&&R.createElement(Pt,{className:"sendbird-place-hlder__body--align-top__no-result",type:Ft.BODY_1,color:Ot.ONBACKGROUND_2},c.NO_SEARCHED_MESSAGE)))}const sM={Enter:"Enter",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Backspace:"Backspace"},lu={ElementNode:1,TextNode:3},Xp={Span:"SPAN",Br:"BR",Div:"DIV"};let l_e=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({}),d_e=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({}),c_e=function(n){return n.NIL="NIL",n.LOADING="LOADING",n.INVALID="INVALID",n.INITIALIZED="INITIALIZED",n}({});l_e.NIL,d_e.NIL,c_e.NIL;const u_e=n=>{let{children:t=null,className:e="",separatorColor:r=Gl.ONBACKGROUND_4}=n;return R.createElement("div",{className:[...Array.isArray(e)?e:[e],"sendbird-separator"].join(" ")},R.createElement("div",{className:["sendbird-separator__left",`${z4(r)}--background-color`].join(" ")}),R.createElement("div",{className:"sendbird-separator__text"},t||R.createElement(Pt,{type:Ft.CAPTION_2,color:Ot.ONBACKGROUND_2},"Date Separator")),R.createElement("div",{className:["sendbird-separator__right",`${z4(r)}--background-color`].join(" ")}))};/*! @license DOMPurify 3.0.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.3/LICENSE */const{entries:B9,setPrototypeOf:oM,isFrozen:h_e,getPrototypeOf:p_e,getOwnPropertyDescriptor:f_e}=Object;let{freeze:ja,seal:Oo,create:__e}=Object,{apply:V4,construct:G4}=typeof Reflect<"u"&&Reflect;V4||(V4=function(t,e,r){return t.apply(e,r)});ja||(ja=function(t){return t});Oo||(Oo=function(t){return t});G4||(G4=function(t,e){return new t(...e)});const m_e=oo(Array.prototype.forEach),lM=oo(Array.prototype.pop),Zp=oo(Array.prototype.push),Ig=oo(String.prototype.toLowerCase),nw=oo(String.prototype.toString),v_e=oo(String.prototype.match),bo=oo(String.prototype.replace),g_e=oo(String.prototype.indexOf),b_e=oo(String.prototype.trim),Es=oo(RegExp.prototype.test),Jp=y_e(TypeError);function oo(n){return function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return V4(n,t,r)}}function y_e(n){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return G4(n,e)}}function Vt(n,t,e){var r;e=(r=e)!==null&&r!==void 0?r:Ig,oM&&oM(n,null);let a=t.length;for(;a--;){let o=t[a];if(typeof o=="string"){const c=e(o);c!==o&&(h_e(t)||(t[a]=c),o=c)}n[o]=!0}return n}function Hh(n){const t=__e(null);for(const[e,r]of B9(n))t[e]=r;return t}function Qv(n,t){for(;n!==null;){const r=f_e(n,t);if(r){if(r.get)return oo(r.get);if(typeof r.value=="function")return oo(r.value)}n=p_e(n)}function e(r){return console.warn("fallback value for",r),null}return e}const dM=ja(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tw=ja(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rw=ja(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E_e=ja(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),iw=ja(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),w_e=ja(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),cM=ja(["#text"]),uM=ja(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),aw=ja(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),hM=ja(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yv=ja(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),x_e=Oo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),k_e=Oo(/<%[\w\W]*|[\w\W]*%>/gm),S_e=Oo(/\${[\w\W]*}/gm),T_e=Oo(/^data-[\-\w.\u00B7-\uFFFF]/),C_e=Oo(/^aria-[\-\w]+$/),$9=Oo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),I_e=Oo(/^(?:\w+script|data):/i),N_e=Oo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),z9=Oo(/^html$/i);var pM=Object.freeze({__proto__:null,MUSTACHE_EXPR:x_e,ERB_EXPR:k_e,TMPLIT_EXPR:S_e,DATA_ATTR:T_e,ARIA_ATTR:C_e,IS_ALLOWED_URI:$9,IS_SCRIPT_OR_DATA:I_e,ATTR_WHITESPACE:N_e,DOCTYPE_NAME:z9});const A_e=()=>typeof window>"u"?null:window,O_e=function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";e&&e.hasAttribute(a)&&(r=e.getAttribute(a));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function V9(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A_e();const t=Ke=>V9(Ke);if(t.version="3.0.3",t.removed=[],!n||!n.document||n.document.nodeType!==9)return t.isSupported=!1,t;const e=n.document,r=e.currentScript;let{document:a}=n;const{DocumentFragment:o,HTMLTemplateElement:c,Node:h,Element:f,NodeFilter:m,NamedNodeMap:v=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:y,DOMParser:w,trustedTypes:x}=n,C=f.prototype,A=Qv(C,"cloneNode"),L=Qv(C,"nextSibling"),S=Qv(C,"childNodes"),k=Qv(C,"parentNode");if(typeof c=="function"){const Ke=a.createElement("template");Ke.content&&Ke.content.ownerDocument&&(a=Ke.content.ownerDocument)}let N,O="";const{implementation:H,createNodeIterator:D,createDocumentFragment:T,getElementsByTagName:M}=a,{importNode:q}=e;let z={};t.isSupported=typeof B9=="function"&&typeof k=="function"&&H&&H.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:te,ERB_EXPR:he,TMPLIT_EXPR:B,DATA_ATTR:W,ARIA_ATTR:re,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:_e}=pM;let{IS_ALLOWED_URI:ie}=pM,se=null;const me=Vt({},[...dM,...tw,...rw,...iw,...cM]);let Me=null;const de=Vt({},[...uM,...aw,...hM,...Yv]);let ue=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,Q=null,$=!0,ne=!0,De=!1,We=!0,Ae=!1,we=!1,Ue=!1,He=!1,en=!1,nn=!1,un=!1,mn=!0,ln=!1;const Bn="user-content-";let Gn=!0,G=!1,J={},En=null;const In=Vt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Zn=null;const jn=Vt({},["audio","video","img","source","image","track"]);let zn=null;const Rn=Vt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ft="http://www.w3.org/1998/Math/MathML",Xn="http://www.w3.org/2000/svg",xn="http://www.w3.org/1999/xhtml";let Ct=xn,vt=!1,Kn=null;const Dn=Vt({},[ft,Xn,xn],nw);let an;const lt=["application/xhtml+xml","text/html"],pt="text/html";let xt,Et=null;const pr=a.createElement("form"),ei=function(ke){return ke instanceof RegExp||ke instanceof Function},Rr=function(ke){if(!(Et&&Et===ke)){if((!ke||typeof ke!="object")&&(ke={}),ke=Hh(ke),an=lt.indexOf(ke.PARSER_MEDIA_TYPE)===-1?an=pt:an=ke.PARSER_MEDIA_TYPE,xt=an==="application/xhtml+xml"?nw:Ig,se="ALLOWED_TAGS"in ke?Vt({},ke.ALLOWED_TAGS,xt):me,Me="ALLOWED_ATTR"in ke?Vt({},ke.ALLOWED_ATTR,xt):de,Kn="ALLOWED_NAMESPACES"in ke?Vt({},ke.ALLOWED_NAMESPACES,nw):Dn,zn="ADD_URI_SAFE_ATTR"in ke?Vt(Hh(Rn),ke.ADD_URI_SAFE_ATTR,xt):Rn,Zn="ADD_DATA_URI_TAGS"in ke?Vt(Hh(jn),ke.ADD_DATA_URI_TAGS,xt):jn,En="FORBID_CONTENTS"in ke?Vt({},ke.FORBID_CONTENTS,xt):In,V="FORBID_TAGS"in ke?Vt({},ke.FORBID_TAGS,xt):{},Q="FORBID_ATTR"in ke?Vt({},ke.FORBID_ATTR,xt):{},J="USE_PROFILES"in ke?ke.USE_PROFILES:!1,$=ke.ALLOW_ARIA_ATTR!==!1,ne=ke.ALLOW_DATA_ATTR!==!1,De=ke.ALLOW_UNKNOWN_PROTOCOLS||!1,We=ke.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ae=ke.SAFE_FOR_TEMPLATES||!1,we=ke.WHOLE_DOCUMENT||!1,en=ke.RETURN_DOM||!1,nn=ke.RETURN_DOM_FRAGMENT||!1,un=ke.RETURN_TRUSTED_TYPE||!1,He=ke.FORCE_BODY||!1,mn=ke.SANITIZE_DOM!==!1,ln=ke.SANITIZE_NAMED_PROPS||!1,Gn=ke.KEEP_CONTENT!==!1,G=ke.IN_PLACE||!1,ie=ke.ALLOWED_URI_REGEXP||$9,Ct=ke.NAMESPACE||xn,ue=ke.CUSTOM_ELEMENT_HANDLING||{},ke.CUSTOM_ELEMENT_HANDLING&&ei(ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&ei(ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&typeof ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ae&&(ne=!1),nn&&(en=!0),J&&(se=Vt({},[...cM]),Me=[],J.html===!0&&(Vt(se,dM),Vt(Me,uM)),J.svg===!0&&(Vt(se,tw),Vt(Me,aw),Vt(Me,Yv)),J.svgFilters===!0&&(Vt(se,rw),Vt(Me,aw),Vt(Me,Yv)),J.mathMl===!0&&(Vt(se,iw),Vt(Me,hM),Vt(Me,Yv))),ke.ADD_TAGS&&(se===me&&(se=Hh(se)),Vt(se,ke.ADD_TAGS,xt)),ke.ADD_ATTR&&(Me===de&&(Me=Hh(Me)),Vt(Me,ke.ADD_ATTR,xt)),ke.ADD_URI_SAFE_ATTR&&Vt(zn,ke.ADD_URI_SAFE_ATTR,xt),ke.FORBID_CONTENTS&&(En===In&&(En=Hh(En)),Vt(En,ke.FORBID_CONTENTS,xt)),Gn&&(se["#text"]=!0),we&&Vt(se,["html","head","body"]),se.table&&(Vt(se,["tbody"]),delete V.tbody),ke.TRUSTED_TYPES_POLICY){if(typeof ke.TRUSTED_TYPES_POLICY.createHTML!="function")throw Jp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ke.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Jp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=ke.TRUSTED_TYPES_POLICY,O=N.createHTML("")}else N===void 0&&(N=O_e(x,r)),N!==null&&typeof O=="string"&&(O=N.createHTML(""));ja&&ja(ke),Et=ke}},Xa=Vt({},["mi","mo","mn","ms","mtext"]),Kr=Vt({},["foreignobject","desc","title","annotation-xml"]),Xi=Vt({},["title","style","font","a","script"]),Oi=Vt({},tw);Vt(Oi,rw),Vt(Oi,E_e);const le=Vt({},iw);Vt(le,w_e);const oe=function(ke){let Te=k(ke);(!Te||!Te.tagName)&&(Te={namespaceURI:Ct,tagName:"template"});const Xe=Ig(ke.tagName),Wn=Ig(Te.tagName);return Kn[ke.namespaceURI]?ke.namespaceURI===Xn?Te.namespaceURI===xn?Xe==="svg":Te.namespaceURI===ft?Xe==="svg"&&(Wn==="annotation-xml"||Xa[Wn]):Boolean(Oi[Xe]):ke.namespaceURI===ft?Te.namespaceURI===xn?Xe==="math":Te.namespaceURI===Xn?Xe==="math"&&Kr[Wn]:Boolean(le[Xe]):ke.namespaceURI===xn?Te.namespaceURI===Xn&&!Kr[Wn]||Te.namespaceURI===ft&&!Xa[Wn]?!1:!le[Xe]&&(Xi[Xe]||!Oi[Xe]):!!(an==="application/xhtml+xml"&&Kn[ke.namespaceURI]):!1},xe=function(ke){Zp(t.removed,{element:ke});try{ke.parentNode.removeChild(ke)}catch{ke.remove()}},Ie=function(ke,Te){try{Zp(t.removed,{attribute:Te.getAttributeNode(ke),from:Te})}catch{Zp(t.removed,{attribute:null,from:Te})}if(Te.removeAttribute(ke),ke==="is"&&!Me[ke])if(en||nn)try{xe(Te)}catch{}else try{Te.setAttribute(ke,"")}catch{}},Fe=function(ke){let Te,Xe;if(He)ke="<remove></remove>"+ke;else{const Un=v_e(ke,/^[\r\n\t ]+/);Xe=Un&&Un[0]}an==="application/xhtml+xml"&&Ct===xn&&(ke='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ke+"</body></html>");const Wn=N?N.createHTML(ke):ke;if(Ct===xn)try{Te=new w().parseFromString(Wn,an)}catch{}if(!Te||!Te.documentElement){Te=H.createDocument(Ct,"template",null);try{Te.documentElement.innerHTML=vt?O:Wn}catch{}}const fn=Te.body||Te.documentElement;return ke&&Xe&&fn.insertBefore(a.createTextNode(Xe),fn.childNodes[0]||null),Ct===xn?M.call(Te,we?"html":"body")[0]:we?Te.documentElement:fn},ve=function(ke){return D.call(ke.ownerDocument||ke,ke,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT,null,!1)},Be=function(ke){return ke instanceof y&&(typeof ke.nodeName!="string"||typeof ke.textContent!="string"||typeof ke.removeChild!="function"||!(ke.attributes instanceof v)||typeof ke.removeAttribute!="function"||typeof ke.setAttribute!="function"||typeof ke.namespaceURI!="string"||typeof ke.insertBefore!="function"||typeof ke.hasChildNodes!="function")},Ge=function(ke){return typeof h=="object"?ke instanceof h:ke&&typeof ke=="object"&&typeof ke.nodeType=="number"&&typeof ke.nodeName=="string"},Pe=function(ke,Te,Xe){!z[ke]||m_e(z[ke],Wn=>{Wn.call(t,Te,Xe,Et)})},tn=function(ke){let Te;if(Pe("beforeSanitizeElements",ke,null),Be(ke))return xe(ke),!0;const Xe=xt(ke.nodeName);if(Pe("uponSanitizeElement",ke,{tagName:Xe,allowedTags:se}),ke.hasChildNodes()&&!Ge(ke.firstElementChild)&&(!Ge(ke.content)||!Ge(ke.content.firstElementChild))&&Es(/<[/\w]/g,ke.innerHTML)&&Es(/<[/\w]/g,ke.textContent))return xe(ke),!0;if(!se[Xe]||V[Xe]){if(!V[Xe]&&on(Xe)&&(ue.tagNameCheck instanceof RegExp&&Es(ue.tagNameCheck,Xe)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(Xe)))return!1;if(Gn&&!En[Xe]){const Wn=k(ke)||ke.parentNode,fn=S(ke)||ke.childNodes;if(fn&&Wn){const Un=fn.length;for(let cn=Un-1;cn>=0;--cn)Wn.insertBefore(A(fn[cn],!0),L(ke))}}return xe(ke),!0}return ke instanceof f&&!oe(ke)||(Xe==="noscript"||Xe==="noembed")&&Es(/<\/no(script|embed)/i,ke.innerHTML)?(xe(ke),!0):(Ae&&ke.nodeType===3&&(Te=ke.textContent,Te=bo(Te,te," "),Te=bo(Te,he," "),Te=bo(Te,B," "),ke.textContent!==Te&&(Zp(t.removed,{element:ke.cloneNode()}),ke.textContent=Te)),Pe("afterSanitizeElements",ke,null),!1)},qe=function(ke,Te,Xe){if(mn&&(Te==="id"||Te==="name")&&(Xe in a||Xe in pr))return!1;if(!(ne&&!Q[Te]&&Es(W,Te))){if(!($&&Es(re,Te))){if(!Me[Te]||Q[Te]){if(!(on(ke)&&(ue.tagNameCheck instanceof RegExp&&Es(ue.tagNameCheck,ke)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(ke))&&(ue.attributeNameCheck instanceof RegExp&&Es(ue.attributeNameCheck,Te)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(Te))||Te==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&Es(ue.tagNameCheck,Xe)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(Xe))))return!1}else if(!zn[Te]){if(!Es(ie,bo(Xe,_e,""))){if(!((Te==="src"||Te==="xlink:href"||Te==="href")&&ke!=="script"&&g_e(Xe,"data:")===0&&Zn[ke])){if(!(De&&!Es(j,bo(Xe,_e,"")))){if(Xe)return!1}}}}}}return!0},on=function(ke){return ke.indexOf("-")>0},An=function(ke){let Te,Xe,Wn,fn;Pe("beforeSanitizeAttributes",ke,null);const{attributes:Un}=ke;if(!Un)return;const cn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Me};for(fn=Un.length;fn--;){Te=Un[fn];const{name:Jn,namespaceURI:zt}=Te;if(Xe=Jn==="value"?Te.value:b_e(Te.value),Wn=xt(Jn),cn.attrName=Wn,cn.attrValue=Xe,cn.keepAttr=!0,cn.forceKeepAttr=void 0,Pe("uponSanitizeAttribute",ke,cn),Xe=cn.attrValue,cn.forceKeepAttr||(Ie(Jn,ke),!cn.keepAttr))continue;if(!We&&Es(/\/>/i,Xe)){Ie(Jn,ke);continue}Ae&&(Xe=bo(Xe,te," "),Xe=bo(Xe,he," "),Xe=bo(Xe,B," "));const Mn=xt(ke.nodeName);if(!!qe(Mn,Wn,Xe)){if(ln&&(Wn==="id"||Wn==="name")&&(Ie(Jn,ke),Xe=Bn+Xe),N&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!zt)switch(x.getAttributeType(Mn,Wn)){case"TrustedHTML":{Xe=N.createHTML(Xe);break}case"TrustedScriptURL":{Xe=N.createScriptURL(Xe);break}}try{zt?ke.setAttributeNS(zt,Jn,Xe):ke.setAttribute(Jn,Xe),lM(t.removed)}catch{}}}Pe("afterSanitizeAttributes",ke,null)},at=function Ke(ke){let Te;const Xe=ve(ke);for(Pe("beforeSanitizeShadowDOM",ke,null);Te=Xe.nextNode();)Pe("uponSanitizeShadowNode",Te,null),!tn(Te)&&(Te.content instanceof o&&Ke(Te.content),An(Te));Pe("afterSanitizeShadowDOM",ke,null)};return t.sanitize=function(Ke){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te,Xe,Wn,fn;if(vt=!Ke,vt&&(Ke="<!-->"),typeof Ke!="string"&&!Ge(Ke))if(typeof Ke.toString=="function"){if(Ke=Ke.toString(),typeof Ke!="string")throw Jp("dirty is not a string, aborting")}else throw Jp("toString is not a function");if(!t.isSupported)return Ke;if(Ue||Rr(ke),t.removed=[],typeof Ke=="string"&&(G=!1),G){if(Ke.nodeName){const Jn=xt(Ke.nodeName);if(!se[Jn]||V[Jn])throw Jp("root node is forbidden and cannot be sanitized in-place")}}else if(Ke instanceof h)Te=Fe("<!---->"),Xe=Te.ownerDocument.importNode(Ke,!0),Xe.nodeType===1&&Xe.nodeName==="BODY"||Xe.nodeName==="HTML"?Te=Xe:Te.appendChild(Xe);else{if(!en&&!Ae&&!we&&Ke.indexOf("<")===-1)return N&&un?N.createHTML(Ke):Ke;if(Te=Fe(Ke),!Te)return en?null:un?O:""}Te&&He&&xe(Te.firstChild);const Un=ve(G?Ke:Te);for(;Wn=Un.nextNode();)tn(Wn)||(Wn.content instanceof o&&at(Wn.content),An(Wn));if(G)return Ke;if(en){if(nn)for(fn=T.call(Te.ownerDocument);Te.firstChild;)fn.appendChild(Te.firstChild);else fn=Te;return(Me.shadowroot||Me.shadowrootmod)&&(fn=q.call(e,fn,!0)),fn}let cn=we?Te.outerHTML:Te.innerHTML;return we&&se["!doctype"]&&Te.ownerDocument&&Te.ownerDocument.doctype&&Te.ownerDocument.doctype.name&&Es(z9,Te.ownerDocument.doctype.name)&&(cn="<!DOCTYPE "+Te.ownerDocument.doctype.name+`>
`+cn),Ae&&(cn=bo(cn,te," "),cn=bo(cn,he," "),cn=bo(cn,B," ")),N&&un?N.createHTML(cn):cn},t.setConfig=function(Ke){Rr(Ke),Ue=!0},t.clearConfig=function(){Et=null,Ue=!1},t.isValidAttribute=function(Ke,ke,Te){Et||Rr({});const Xe=xt(Ke),Wn=xt(ke);return qe(Xe,Wn,Te)},t.addHook=function(Ke,ke){typeof ke=="function"&&(z[Ke]=z[Ke]||[],Zp(z[Ke],ke))},t.removeHook=function(Ke){if(z[Ke])return lM(z[Ke])},t.removeHooks=function(Ke){z[Ke]&&(z[Ke]=[])},t.removeAllHooks=function(){z={}},t}var R_e=V9(),G9=R_e;const M_e="sendbird-text-message-item-body",D_e="sendbird-og-message-item-body__text-bubble",R_="@",ro={string:"string",mention:"mention",url:"url",undetermined:"undetermined"};function L_e(n,t){const e=t||R_;return RegExp(`(${n.map(r=>`${e}{${r.userId}}`).join("|")})`,"g")}function U_e(n){let{tokens:t,mentionedUsers:e=[],templatePrefix:r=R_}=n;if(!(e!=null&&e.length))return t;const a=L_e(e,r);return t.map(c=>{if(c.type!==ro.undetermined)return c;const{value:h}=c;return h.split(a).map(v=>{if(v.match(a)){const y=e.find(x=>`@{${x==null?void 0:x.userId}}`===v);return{value:(y==null?void 0:y.nickname)||"(No name)",type:ro.mention,userId:y==null?void 0:y.userId}}else return{value:v,type:ro.undetermined}})}).flat()}function P_e(n){return n.map(e=>{if(e.type!==ro.undetermined)return e;const{value:r=""}=e;return r.split(" ").map(c=>phe(c)?{value:c,type:ro.url}:{value:c,type:ro.string})}).flat()}function F_e(n){return n.reduce((e,r)=>{const a=e[e.length-1];return(a==null?void 0:a.type)===ro.string&&r.type===ro.string?(a.value=`${a.value} ${r.value}`,e):[...e,r]},[])}function q9(n){let{messageText:t,mentionedUsers:e=[],templatePrefix:r=R_}=n;const a=[{type:ro.undetermined,value:t}],o=U_e({tokens:a,mentionedUsers:e,templatePrefix:r}),c=P_e(o);return F_e(c)}function H_e(n){return n.replace(/([ \t]+)/g,(t,e)=>"\xA0".repeat(e.length))}function q4(n){let{userId:t,nickname:e}=n;const r=`<span data-userid="${t}" data-sb-mention="true" class="${t_e}">${e}</span>`,c=G9(window).sanitize(r).split(" "),[h,...f]=c;return[h,'contenteditable="false"',...f].join(" ")}const E_=n=>n==null?void 0:n.replace(/[\u00A0-\u9999<>]/gim,t=>"".concat("&#",t.charCodeAt(0),";"));function B_e(n){const t=n.map(e=>{const{text:r,userId:a}=e;return a?q4({userId:a,nickname:r}):E_(r)}).join(" ").concat(" ");document.execCommand("insertHTML",!1,t)}const fM="sendbird-uikit__paste-node",$_e="sendbird-word",j9="sendbird-word__mention",K9="sendbird-mention-user-label",W9=`.${j9}, .${K9}`;function _M(n,t){return[n,...Array.from(n.querySelectorAll(t))].find(r=>r.matches(t))}function z_e(n){const t=_M(n,`.${D_e}`);if(t)return Array.from(t.childNodes);const e=_M(n,`.${M_e}`);return e?Array.from(e.childNodes):Array.from(n.childNodes)}function V_e(){const n=document.body.querySelector(`#${fM}`);n&&(n==null||n.remove());const t=document.createElement("div");return t.id=fM,t.style.display="none",t}function G_e(n){return!!(n!=null&&n.querySelector(W9))}const Q9=n=>{let t="";return n.forEach(e=>{const r=e.querySelectorAll(`.${$_e}`);r.length>0&&(t+=Q9(Array.from(r))+" "),t+=e.innerText+" "}),t};function q_e(n){return n==null?void 0:n.reduce((e,r)=>{let a,o=r==null?void 0:r.innerText;if(r instanceof Text&&(a=!1,o=r.textContent),r instanceof HTMLElement&&(a=r.classList.contains(j9)||r.classList.contains(K9)?r:r.querySelector(W9)),a){var c;const h=r==null?void 0:r.innerText,f=(c=a.dataset)===null||c===void 0?void 0:c.userid;return[...e,{text:h,userId:f}]}return[...e,{text:o}]},[])}function j_e(n,t){const e={},r=t.members;return n.forEach(a=>{if(a.userId){const o=r.find(c=>c.userId===a.userId);o&&(e[a.userId]=o)}}),Object.values(e)}function K_e(n){let{ref:t,setIsInput:e,setHeight:r,channel:a,setMentionedUsers:o}=n;return Oe.exports.useCallback(c=>{c.preventDefault();const h=c==null?void 0:c.clipboardData.getData("text/html");if(!h){const C=c==null?void 0:c.clipboardData.getData("text");document.execCommand("insertHTML",!1,E_(C)),e(!0),r();return}const m=G9(window).sanitize(h),v=V_e();if(v.innerHTML=m,!G_e(v)){const C=Q9(Array.from(v.children));document.execCommand("insertHTML",!1,E_(C)),v.remove(),e(!0),r();return}const y=z_e(v),w=q_e(y),x=j_e(w,a);o(x),B_e(w),v.remove(),e(!0),r()},[t,e,r,a,o])}const W_e="sendbird-message-input-text-field",Q_e=76,yo=()=>{},Y_e=n=>t=>{t.target.files&&t.target.files[0]&&n(t.target.files[0]),t.target.value=""},X_e=(n,t)=>{const e=document.createRange(),r=window.getSelection();e.setStart(n.childNodes[0],t),e.collapse(!0),r.removeAllRanges(),r.addRange(e),n.focus()},sw=n=>{try{n.current.innerHTML=""}catch{}},mM={targetString:"",startNodeIndex:null,startOffsetIndex:null,endNodeIndex:null,endOffsetIndex:null},t1=R.forwardRef((n,t)=>{var e,r;const{className:a,messageFieldId:o,isEdit:c,isMentionEnabled:h,isVoiceMessageEnabled:f,disabled:m,message:v,placeholder:y,maxLength:w,onFileUpload:x,onSendMessage:C,onUpdateMessage:A,onCancelEdit:L,onStartTyping:S,channelUrl:k,channel:N,mentionSelectedUser:O,onUserMentioned:H,onMentionStringChange:D,onMentionedUserIdsUpdated:T,onVoiceMessageIconClick:M,onKeyUp:q,onKeyDown:z,renderFileUploadIcon:te,renderVoiceMessageIcon:he,renderSendMessageIcon:B,setMentionedUsers:W}=n,re=t==null?void 0:t.current,j=o||W_e,{stringSet:_e}=Oe.exports.useContext(Mo),ie=Oe.exports.useRef(null),[se,me]=Oe.exports.useState(!1),[Me,de]=Oe.exports.useState([]),[ue,V]=Oe.exports.useState(bn({},mM)),Q=Oe.exports.useMemo(()=>()=>{try{const He=t==null?void 0:t.current,en=window.document.body.offsetHeight*.6;He&&He.scrollHeight>=Q_e?en<He.scrollHeight?(He.style.height="auto",He.style.height=`${en}px`):(He.style.height="auto",He.style.height=`${He.scrollHeight}px`):He.style.height=""}catch{}},[]),$=n==null?void 0:n.value;Oe.exports.useEffect(()=>{var He;const en=t==null?void 0:t.current;try{en.innerHTML=$,X_e(en,$==null?void 0:$.length)}catch{}de([]),me((en==null||(He=en.innerText)===null||He===void 0?void 0:He.trim().length)>0),Q()},[$]),Oe.exports.useEffect(()=>{c||(me(!1),sw(t))},[k]),Oe.exports.useEffect(()=>{if(c&&v!==null&&v!==void 0&&v.messageId){var He,en,nn;const un=t==null?void 0:t.current;if(h&&(v==null||(He=v.mentionedUsers)===null||He===void 0?void 0:He.length)>0&&(v==null||(en=v.mentionedMessageTemplate)===null||en===void 0?void 0:en.length)>0){const{mentionedUsers:mn=[]}=v,ln=q9({messageText:v==null?void 0:v.mentionedMessageTemplate,mentionedUsers:mn});un.innerHTML=ln.map(Bn=>{if(Bn.type===ro.mention){const Gn=mn.find(J=>J.userId===Bn.userId),G=`${R_}${(Gn==null?void 0:Gn.nickname)||Bn.value||_e.MENTION_NAME__NO_NAME}`;return q4({userId:Bn.userId,nickname:G})}return E_(Bn.value)}).join(" ")}else{try{un.innerHTML=E_(v==null?void 0:v.message)}catch{}de([])}me((un==null||(nn=un.innerText)===null||nn===void 0?void 0:nn.trim().length)>0),Q()}},[c,v]);const ne=Oe.exports.useCallback(()=>{const He=t==null?void 0:t.current;if(h){const en=[...He.getElementsByClassName("sendbird-mention-user-label")].map(nn=>{var un;return nn==null||(un=nn.dataset)===null||un===void 0?void 0:un.userid});(!fhe(Me,en)||en.length===0)&&(T(en),de(en))}me(He.innerText.trim().length>0)},[ue,h]);Oe.exports.useEffect(()=>{if(h&&O){const{targetString:mn,startNodeIndex:ln,startOffsetIndex:Bn,endNodeIndex:Gn,endOffsetIndex:G}=ue;if(mn&&ln!==null&&Bn!==null){var He,en,nn,un;const J=t==null?void 0:t.current,En=[...J==null?void 0:J.childNodes],In=(He=document)===null||He===void 0?void 0:He.createTextNode((en=En[ln])===null||en===void 0?void 0:en.textContent.slice(0,Bn)),Zn=(nn=document)===null||nn===void 0?void 0:nn.createTextNode(`\xA0${(un=En[Gn])===null||un===void 0?void 0:un.textContent.slice(G)}`),jn=q4({userId:O==null?void 0:O.userId,nickname:`${Yp}${(O==null?void 0:O.nickname)||_e.MENTION_NAME__NO_NAME}`}),zn=document.createElement("div");zn.innerHTML=jn;const Rn=[...En.slice(0,ln),In,zn.childNodes[0],Zn,...En.slice(Gn+1)];if(J.innerHTML="",Rn.forEach(ft=>{J.appendChild(ft)}),H(O),window.getSelection||document.getSelection){const ft=window.getSelection()||document.getSelection();ft.removeAllRanges();const Xn=new Range;Xn.selectNodeContents(J),Xn.setStart(J.childNodes[ln+2],1),Xn.setEnd(J.childNodes[ln+2],1),Xn.collapse(!1),ft.addRange(Xn),J.focus()}V(bn({},mM)),Q(),ne()}}},[O,h]);const De=Oe.exports.useCallback(()=>{var He,en,nn,un;const mn=((He=window)===null||He===void 0||(en=He.getSelection)===null||en===void 0?void 0:en.call(He))||((nn=document)===null||nn===void 0||(un=nn.getSelection)===null||un===void 0?void 0:un.call(nn)),ln=t==null?void 0:t.current;if(mn.anchorNode===ln&&D(""),h&&mn&&mn.anchorNode===mn.focusNode&&mn.anchorOffset===mn.focusOffset){let Bn="",Gn=null,G=null;for(let J=0;J<ln.childNodes.length;J+=1){const En=ln.childNodes[J];if(En.nodeType===lu.TextNode){const In=En===mn.anchorNode?(En==null?void 0:En.textContent.slice(0,mn.anchorOffset))||"":(En==null?void 0:En.textContent)||"";if(Bn.length>0)Bn+=In;else{let Zn=In.lastIndexOf(Yp);for(let jn=Zn-1;jn>-1&&In[jn]===Yp;jn-=1)Zn=jn;Zn>-1&&(Bn=In,Gn=J,G=Zn)}}else Bn="",Gn=null,G=null;if(En===mn.anchorNode){const In=Bn?Bn.slice(G):"";V({targetString:In,startNodeIndex:Gn,startOffsetIndex:G,endNodeIndex:J,endOffsetIndex:mn.anchorOffset}),D(In);return}}}},[h]),We=()=>{const He=t==null?void 0:t.current;if(!c&&He!==null&&He!==void 0&&He.innerText){let en="",nn="";He.childNodes.forEach(mn=>{if(mn.nodeType===lu.ElementNode&&mn.nodeName===Xp.Span){const{innerText:ln,dataset:Bn={}}=mn,{userid:Gn=""}=Bn;en+=ln,nn+=`${Yp}{${Gn}}`}else if(mn.nodeType===lu.ElementNode&&mn.nodeName===Xp.Br)en+=`
`,nn+=`
`;else if((mn==null?void 0:mn.nodeType)===lu.ElementNode&&(mn==null?void 0:mn.nodeName)===Xp.Div){const{textContent:ln=""}=mn;en+=`
${ln}`,nn+=`
${ln}`}else{const{textContent:ln=""}=mn;en+=ln,nn+=ln}}),C({message:en,mentionTemplate:nn}),sw(t),me(!1),Q()}},Ae=!(re!=null&&(e=re.innerText)!==null&&e!==void 0&&e.trim()),we=()=>{const He=t==null?void 0:t.current,en=v==null?void 0:v.messageId;if(c&&en){let nn="",un="";He.childNodes.forEach(ln=>{if(ln.nodeType===lu.ElementNode&&ln.nodeName===Xp.Span){const{innerText:Bn,dataset:Gn={}}=ln,{userid:G=""}=Gn;nn+=Bn,un+=`${Yp}{${G}}`}else if(ln.nodeType===lu.ElementNode&&ln.nodeName===Xp.Span)nn+=`
`,un+=`
`;else{const{textContent:Bn=""}=ln;nn+=Bn,un+=Bn}}),A({messageId:en,message:nn,mentionTemplate:un}),sw(t)}},Ue=K_e({ref:t,setMentionedUserIds:de,setMentionedUsers:W,channel:N,setIsInput:me,setHeight:Q});return R.createElement("form",{className:Mx([a,c?"sendbird-message-input__edit":"",m?"sendbird-message-input-form__disabled":""])},R.createElement("div",{className:Mx(["sendbird-message-input",m?"sendbird-message-input__disabled":""])},R.createElement("div",{id:`${j}${c?v==null?void 0:v.messageId:""}`,className:`sendbird-message-input--textarea ${j}`,contentEditable:!m,role:"textbox","aria-label":"Text Input",disabled:m,ref:t,maxLength:w,onKeyDown:He=>{if(z(He))He.preventDefault();else{var nn,un,mn,ln,Bn,Gn,G,J;!He.shiftKey&&He.key===sM.Enter&&(He==null||(nn=He.nativeEvent)===null||nn===void 0?void 0:nn.isComposing)!==!0&&(He.preventDefault(),We()),He.key===sM.Backspace&&(t==null||(un=t.current)===null||un===void 0||(mn=un.childNodes)===null||mn===void 0?void 0:mn.length)===2&&!(t!=null&&(ln=t.current)!==null&&ln!==void 0&&(Bn=ln.childNodes)!==null&&Bn!==void 0&&(Gn=Bn[0])!==null&&Gn!==void 0&&Gn.textContent)&&(t==null||(G=t.current.childNodes)===null||G===void 0||(J=G[1])===null||J===void 0?void 0:J.nodeType)===lu.ElementNode&&(t==null||t.current.removeChild(t==null?void 0:t.current.childNodes[1]))}},onKeyUp:He=>{q(He)?He.preventDefault():De()},onClick:()=>{De()},onInput:()=>{var He;Q(),S(),me(((He=re.innerText)===null||He===void 0?void 0:He.trim().length)>0),ne()},onPaste:Ue}),(re==null||(r=re.innerText)===null||r===void 0?void 0:r.length)===0&&R.createElement(Pt,{className:"sendbird-message-input--placeholder",type:Ft.BODY_1,color:m?Ot.ONBACKGROUND_4:Ot.ONBACKGROUND_3},y||_e.MESSAGE_INPUT__PLACE_HOLDER),!c&&se&&R.createElement(id,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:()=>We()},(B==null?void 0:B())||R.createElement(Qt,{type:$t.SEND,fillColor:m?Xt.ON_BACKGROUND_4:Xt.PRIMARY,width:"20px",height:"20px"})),!c&&!se&&((te==null?void 0:te())||R.createElement(id,{className:`sendbird-message-input--attach ${f?"is-voice-message-enabled":""}`,height:"32px",width:"32px",onClick:()=>{var He,en;ie==null||(He=ie.current)===null||He===void 0||(en=He.click)===null||en===void 0||en.call(He)}},R.createElement(Qt,{type:$t.ATTACH,fillColor:m?Xt.ON_BACKGROUND_4:Xt.CONTENT_INVERSE,width:"20px",height:"20px"}),R.createElement("input",{className:"sendbird-message-input--attach-input",type:"file",ref:ie,onChange:Y_e(x)}))),f&&!c&&!se&&R.createElement(id,{className:"sendbird-message-input--voice-message",width:"32px",height:"32px",onClick:M},(he==null?void 0:he())||R.createElement(Qt,{type:$t.AUDIO_ON_LINED,fillColor:m?Xt.ON_BACKGROUND_4:Xt.CONTENT_INVERSE,width:"20px",height:"20px"}))),c&&R.createElement("div",{className:"sendbird-message-input--edit-action"},R.createElement(y_,{className:"sendbird-message-input--edit-action__cancel",type:zu.SECONDARY,size:$4.SMALL,onClick:L},_e.BUTTON__CANCEL),R.createElement(y_,{className:"sendbird-message-input--edit-action__save",type:zu.PRIMARY,size:$4.SMALL,disabled:Ae,onClick:()=>we()},_e.BUTTON__SAVE)))});t1.propTypes={className:hn.exports.oneOfType([hn.exports.string,hn.exports.arrayOf(hn.exports.string)]),messageFieldId:hn.exports.string,placeholder:hn.exports.oneOfType([hn.exports.string,hn.exports.bool]),value:hn.exports.string,isEdit:hn.exports.bool,isMentionEnabled:hn.exports.bool,isVoiceMessageEnabled:hn.exports.bool,onVoiceMessageIconClick:hn.exports.func,message:hn.exports.shape({messageId:hn.exports.oneOfType([hn.exports.string,hn.exports.number]),message:hn.exports.string,mentionedMessageTemplate:hn.exports.string,mentionedUsers:hn.exports.arrayOf(hn.exports.shape({}))}),disabled:hn.exports.bool,maxLength:hn.exports.number,onFileUpload:hn.exports.func,onSendMessage:hn.exports.func,onUpdateMessage:hn.exports.func,onStartTyping:hn.exports.func,onCancelEdit:hn.exports.func,channelUrl:hn.exports.string,mentionSelectedUser:hn.exports.shape({userId:hn.exports.string,nickname:hn.exports.string}),setMentionedUsers:hn.exports.func,onUserMentioned:hn.exports.func,onMentionStringChange:hn.exports.func,onMentionedUserIdsUpdated:hn.exports.func,onKeyUp:hn.exports.func,onKeyDown:hn.exports.func};t1.defaultProps={className:"",messageFieldId:"",channelUrl:"",onSendMessage:yo,onUpdateMessage:yo,value:null,message:null,isEdit:!1,isMentionEnabled:!1,isVoiceMessageEnabled:!0,onVoiceMessageIconClick:yo,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:yo,onCancelEdit:yo,onStartTyping:yo,mentionSelectedUser:null,onUserMentioned:yo,onMentionStringChange:yo,onMentionedUserIdsUpdated:yo,onKeyUp:yo,onKeyDown:yo};const Y9=R.createContext(void 0),Z_e=n=>{const{children:t,message:e,isByMe:r=!1}=n;return R.createElement(Y9.Provider,{value:{message:e,isByMe:r}},t)},J_e=()=>{const n=R.useContext(Y9);if(n===void 0)throw new Error("useMessageContext must be used within a MessageProvider");return n};function eme(n){var t,e,r;const{mentionTemplate:a,mentionedUserId:o,mentionedUserNickname:c,isByMe:h}=n,f=Oe.exports.useRef(),m=lo(),v=m==null||(t=m.config)===null||t===void 0?void 0:t.userId,y=m==null||(e=m.stores)===null||e===void 0||(r=e.sdkStore)===null||r===void 0?void 0:r.sdk,w=v===o,[x,C]=Oe.exports.useState(),A=Oe.exports.useCallback(L=>{if(x||!(y!=null&&y.createApplicationUserListQuery)){L();return}(y==null?void 0:y.createApplicationUserListQuery({userIdsFilter:[o]})).next().then(k=>{(k==null?void 0:k.length)>0&&C(k[0]),L()})},[y,o]);return R.createElement(vl,{menuTrigger:L=>R.createElement("a",{className:`
            sendbird-word__mention
            ${w?"sendbird-word__mention--me":""}
          `,onClick:()=>A(L),ref:f,"data-userid":o,"data-nickname":c,"data-sb-mention":!0},R.createElement(Pt,{type:Ft.CAPTION_1,color:h?Ot.ONCONTENT_1:Ot.ONBACKGROUND_1},`${a}${c}`)),menuItems:L=>R.createElement(ml,{parentRef:f,parentContainRef:f,closeDropdown:L,style:{paddingTop:"0px",paddingBottom:"0px"}},R.createElement(A_,{user:x,onSuccess:L,currentUserId:v}))})}const nme=/https?:\/\//;function r1(n){let{className:t,src:e,type:r,color:a,children:o}=n;const c=nme.test(e)?e:`http://${e}`;return R.createElement("a",{className:[...Array.isArray(t)?t:[t],"sendbird-link-label",a?R9(a):""].join(" "),href:c,target:"_blank",rel:"noopener noreferrer",onTouchEnd:h=>{h.preventDefault(),h.nativeEvent.stopImmediatePropagation(),window.open(c,"_blank","noopener,noreferrer")}},R.createElement(Pt,{className:"sendbird-link-label__label",type:r,color:a},o))}r1.propTypes={className:hn.exports.oneOfType([hn.exports.string,hn.exports.arrayOf(hn.exports.string)]),src:hn.exports.string.isRequired,type:hn.exports.string,color:hn.exports.string,children:hn.exports.oneOfType([hn.exports.string,hn.exports.element,hn.exports.arrayOf(hn.exports.string),hn.exports.arrayOf(hn.exports.element)]).isRequired};r1.defaultProps={className:"",type:"",color:""};function tme(n,t,e){return`sb-msg_${n}_${t}_${e}`}function rme(n){let{tokens:t}=n;const e=J_e(),r=e==null?void 0:e.message,a=e==null?void 0:e.isByMe,{updatedAt:o,createdAt:c}=r;return R.createElement(R.Fragment,null,t==null?void 0:t.map((h,f)=>{const m=tme(c,o,f);return pk(h.type).with(ro.mention,()=>R.createElement("span",{className:"sendbird-word",key:m},R.createElement(eme,{mentionTemplate:R_,mentionedUserId:h.userId,mentionedUserNickname:h.value,isByMe:a}))).with(ro.url,()=>R.createElement("span",{className:"sendbird-word",key:m},R.createElement(r1,{className:"sendbird-word__url",src:h.value,type:Ft.BODY_1},h.value))).otherwise(()=>R.createElement(R.Fragment,{key:m},H_e(h.value)))}))}function ime(n,t){return n-t}function ame(n){let{hasMore:t,onScroll:e,scrollRef:r,setShowScrollDownButton:a}=n;return Oe.exports.useCallback(()=>{const o=r==null?void 0:r.current;if(o==null)return;const{scrollTop:c,scrollHeight:h,clientHeight:f}=o,m=ime(h,c);typeof a=="function"&&a(h>c+f+1),!!t&&c<_he&&e(()=>{o.scrollTop=o.scrollHeight-m})},[a,t,e,r])}const X9=R.createContext({opened:"",setOpened:Tg});X9.Consumer;X9.Provider;const sme=n=>{let{profileUrl:t,nickname:e,name:r,type:a,url:o,isByMe:c=!0,disableDelete:h=!1,onClose:f,onDelete:m}=n;const{stringSet:v}=Oe.exports.useContext(Mo);return R.createElement("div",{className:"sendbird-fileviewer"},R.createElement("div",{className:"sendbird-fileviewer__header"},R.createElement("div",{className:"sendbird-fileviewer__header__left"},R.createElement("div",{className:"sendbird-fileviewer__header__left__avatar"},R.createElement(nh,{height:"32px",width:"32px",src:t})),R.createElement(Pt,{className:"sendbird-fileviewer__header__left__filename",type:Ft.H_2,color:Ot.ONBACKGROUND_1},r),R.createElement(Pt,{className:"sendbird-fileviewer__header__left__sender-name",type:Ft.BODY_1,color:Ot.ONBACKGROUND_2},e)),R.createElement("div",{className:"sendbird-fileviewer__header__right"},R8(a)&&R.createElement("div",{className:"sendbird-fileviewer__header__right__actions"},R.createElement("a",{className:"sendbird-fileviewer__header__right__actions__download",rel:"noopener noreferrer",href:o,target:"_blank"},R.createElement(Qt,{type:$t.DOWNLOAD,fillColor:Xt.ON_BACKGROUND_1,height:"24px",width:"24px"})),m&&c&&R.createElement("div",{className:"sendbird-fileviewer__header__right__actions__delete"},R.createElement(Qt,{className:h?"disabled":"",type:$t.DELETE,fillColor:h?Xt.GRAY:Xt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:y=>{h||m==null||m(y)}}))),R.createElement("div",{className:"sendbird-fileviewer__header__right__actions__close"},R.createElement(Qt,{type:$t.CLOSE,fillColor:Xt.ON_BACKGROUND_1,height:"24px",width:"24px",onClick:y=>f==null?void 0:f(y)})))),R.createElement("div",{className:"sendbird-fileviewer__content"},b9(a)&&R.createElement("video",{controls:!0,className:"sendbird-fileviewer__content__video"},R.createElement("source",{src:o,type:a})),g9(a)&&R.createElement("img",{src:o,alt:r,className:"sendbird-fileviewer__content__img"}),!R8(a)&&R.createElement("div",{className:"sendbird-fileviewer__content__unsupported"},R.createElement(Pt,{type:Ft.H_1,color:Ot.ONBACKGROUND_1},(v==null?void 0:v.UI__FILE_VIEWER__UNSUPPORT)||"Unsupported message"))))};function ome(n){var t,e,r;let{message:a,isByMe:o=!1,onClose:c,onDelete:h}=n;return A0.exports.createPortal(R.createElement(sme,{profileUrl:a==null||(t=a.sender)===null||t===void 0?void 0:t.profileUrl,nickname:a==null||(e=a.sender)===null||e===void 0?void 0:e.nickname,name:a==null?void 0:a.name,type:a==null?void 0:a.type,url:a==null?void 0:a.url,isByMe:o,disableDelete:(a==null||(r=a.threadInfo)===null||r===void 0?void 0:r.replyCount)>0,onClose:c,onDelete:h}),document.getElementById(U9))}function Gu(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ya(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Ng(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ng=function(e){return typeof e}:Ng=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(n)}function bl(n){Ya(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||Ng(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function lme(n,t){Ya(2,arguments);var e=bl(n).getTime(),r=Gu(t);return new Date(e+r)}var dme={};function i1(){return dme}function cme(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function Ag(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ag=function(e){return typeof e}:Ag=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(n)}function ume(n){return Ya(1,arguments),n instanceof Date||Ag(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function hme(n){if(Ya(1,arguments),!ume(n)&&typeof n!="number")return!1;var t=bl(n);return!isNaN(Number(t))}function pme(n,t){Ya(2,arguments);var e=Gu(t);return lme(n,-e)}var fme=864e5;function _me(n){Ya(1,arguments);var t=bl(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=e-r;return Math.floor(a/fme)+1}function bb(n){Ya(1,arguments);var t=1,e=bl(n),r=e.getUTCDay(),a=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function Z9(n){Ya(1,arguments);var t=bl(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var a=bb(r),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var c=bb(o);return t.getTime()>=a.getTime()?e+1:t.getTime()>=c.getTime()?e:e-1}function mme(n){Ya(1,arguments);var t=Z9(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=bb(e);return r}var vme=6048e5;function gme(n){Ya(1,arguments);var t=bl(n),e=bb(t).getTime()-mme(t).getTime();return Math.round(e/vme)+1}function yb(n,t){var e,r,a,o,c,h,f,m;Ya(1,arguments);var v=i1(),y=Gu((e=(r=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(c=t.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:v.weekStartsOn)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&e!==void 0?e:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=bl(n),x=w.getUTCDay(),C=(x<y?7:0)+x-y;return w.setUTCDate(w.getUTCDate()-C),w.setUTCHours(0,0,0,0),w}function J9(n,t){var e,r,a,o,c,h,f,m;Ya(1,arguments);var v=bl(n),y=v.getUTCFullYear(),w=i1(),x=Gu((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(c=t.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:w.firstWeekContainsDate)!==null&&r!==void 0?r:(f=w.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(y+1,0,x),C.setUTCHours(0,0,0,0);var A=yb(C,t),L=new Date(0);L.setUTCFullYear(y,0,x),L.setUTCHours(0,0,0,0);var S=yb(L,t);return v.getTime()>=A.getTime()?y+1:v.getTime()>=S.getTime()?y:y-1}function bme(n,t){var e,r,a,o,c,h,f,m;Ya(1,arguments);var v=i1(),y=Gu((e=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(c=t.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&e!==void 0?e:1),w=J9(n,t),x=new Date(0);x.setUTCFullYear(w,0,y),x.setUTCHours(0,0,0,0);var C=yb(x,t);return C}var yme=6048e5;function Eme(n,t){Ya(1,arguments);var e=bl(n),r=yb(e,t).getTime()-bme(e,t).getTime();return Math.round(r/yme)+1}function Ir(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var Gd={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Ir(e==="yy"?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):Ir(r+1,2)},d:function(t,e){return Ir(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return Ir(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Ir(t.getUTCHours(),e.length)},m:function(t,e){return Ir(t.getUTCMinutes(),e.length)},s:function(t,e){return Ir(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,r-3));return Ir(o,e.length)}},Bh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wme={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return Gd.y(t,e)},Y:function(t,e,r,a){var o=J9(t,a),c=o>0?o:1-o;if(e==="YY"){var h=c%100;return Ir(h,2)}return e==="Yo"?r.ordinalNumber(c,{unit:"year"}):Ir(c,e.length)},R:function(t,e){var r=Z9(t);return Ir(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return Ir(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ir(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ir(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return Gd.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return Ir(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var o=Eme(t,a);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):Ir(o,e.length)},I:function(t,e,r){var a=gme(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Ir(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Gd.d(t,e)},D:function(t,e,r){var a=_me(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ir(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var o=t.getUTCDay(),c=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Ir(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var o=t.getUTCDay(),c=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Ir(c,e.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return Ir(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a=t.getUTCHours(),o;switch(a===12?o=Bh.noon:a===0?o=Bh.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a=t.getUTCHours(),o;switch(a>=17?o=Bh.evening:a>=12?o=Bh.afternoon:a>=4?o=Bh.morning:o=Bh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Gd.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Gd.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ir(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ir(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Gd.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Gd.s(t,e)},S:function(t,e){return Gd.S(t,e)},X:function(t,e,r,a){var o=a._originalDate||t,c=o.getTimezoneOffset();if(c===0)return"Z";switch(e){case"X":return gM(c);case"XXXX":case"XX":return pu(c);case"XXXXX":case"XXX":default:return pu(c,":")}},x:function(t,e,r,a){var o=a._originalDate||t,c=o.getTimezoneOffset();switch(e){case"x":return gM(c);case"xxxx":case"xx":return pu(c);case"xxxxx":case"xxx":default:return pu(c,":")}},O:function(t,e,r,a){var o=a._originalDate||t,c=o.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vM(c,":");case"OOOO":default:return"GMT"+pu(c,":")}},z:function(t,e,r,a){var o=a._originalDate||t,c=o.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vM(c,":");case"zzzz":default:return"GMT"+pu(c,":")}},t:function(t,e,r,a){var o=a._originalDate||t,c=Math.floor(o.getTime()/1e3);return Ir(c,e.length)},T:function(t,e,r,a){var o=a._originalDate||t,c=o.getTime();return Ir(c,e.length)}};function vM(n,t){var e=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),o=r%60;if(o===0)return e+String(a);var c=t||"";return e+String(a)+c+Ir(o,2)}function gM(n,t){if(n%60===0){var e=n>0?"-":"+";return e+Ir(Math.abs(n)/60,2)}return pu(n,t)}function pu(n,t){var e=t||"",r=n>0?"-":"+",a=Math.abs(n),o=Ir(Math.floor(a/60),2),c=Ir(a%60,2);return r+o+e+c}var xme=wme,bM=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},eP=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},kme=function(t,e){var r=t.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return bM(t,e);var c;switch(a){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",bM(a,e)).replace("{{time}}",eP(o,e))},Sme={p:eP,P:kme},Tme=Sme,Cme=["D","DD"],Ime=["YY","YYYY"];function Nme(n){return Cme.indexOf(n)!==-1}function Ame(n){return Ime.indexOf(n)!==-1}function yM(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ome={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rme=function(t,e,r){var a,o=Ome[t];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function ow(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}var Mme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ume={date:ow({formats:Mme,defaultWidth:"full"}),time:ow({formats:Dme,defaultWidth:"full"}),dateTime:ow({formats:Lme,defaultWidth:"full"})},Pme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fme=function(t,e,r,a){return Pme[t]};function ef(n){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",a;if(r==="formatting"&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,c=e!=null&&e.width?String(e.width):o;a=n.formattingValues[c]||n.formattingValues[o]}else{var h=n.defaultWidth,f=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[h]}var m=n.argumentCallback?n.argumentCallback(t):t;return a[m]}}var Hme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$me={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qme=function(t,e){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},jme={ordinalNumber:qme,era:ef({values:Hme,defaultWidth:"wide"}),quarter:ef({values:Bme,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ef({values:$me,defaultWidth:"wide"}),day:ef({values:zme,defaultWidth:"wide"}),dayPeriod:ef({values:Vme,defaultWidth:"wide",formattingValues:Gme,defaultFormattingWidth:"wide"})};function nf(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=t.match(a);if(!o)return null;var c=o[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Wme(h,function(y){return y.test(c)}):Kme(h,function(y){return y.test(c)}),m;m=n.valueCallback?n.valueCallback(f):f,m=e.valueCallback?e.valueCallback(m):m;var v=t.slice(c.length);return{value:m,rest:v}}}function Kme(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function Wme(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function Qme(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var a=r[0],o=t.match(n.parsePattern);if(!o)return null;var c=n.valueCallback?n.valueCallback(o[0]):o[0];c=e.valueCallback?e.valueCallback(c):c;var h=t.slice(a.length);return{value:c,rest:h}}}var Yme=/^(\d+)(th|st|nd|rd)?/i,Xme=/\d+/i,Zme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jme={any:[/^b/i,/^(a|c)/i]},eve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nve={any:[/1/i,/2/i,/3/i,/4/i]},tve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ive={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ave={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ove={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lve={ordinalNumber:Qme({matchPattern:Yme,parsePattern:Xme,valueCallback:function(t){return parseInt(t,10)}}),era:nf({matchPatterns:Zme,defaultMatchWidth:"wide",parsePatterns:Jme,defaultParseWidth:"any"}),quarter:nf({matchPatterns:eve,defaultMatchWidth:"wide",parsePatterns:nve,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:nf({matchPatterns:tve,defaultMatchWidth:"wide",parsePatterns:rve,defaultParseWidth:"any"}),day:nf({matchPatterns:ive,defaultMatchWidth:"wide",parsePatterns:ave,defaultParseWidth:"any"}),dayPeriod:nf({matchPatterns:sve,defaultMatchWidth:"any",parsePatterns:ove,defaultParseWidth:"any"})},dve={code:"en-US",formatDistance:Rme,formatLong:Ume,formatRelative:Fme,localize:jme,match:lve,options:{weekStartsOn:0,firstWeekContainsDate:1}},cve=dve,uve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pve=/^'([^]*?)'?$/,fve=/''/g,_ve=/[a-zA-Z]/;function EM(n,t,e){var r,a,o,c,h,f,m,v,y,w,x,C,A,L,S,k,N,O;Ya(2,arguments);var H=String(t),D=i1(),T=(r=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:D.locale)!==null&&r!==void 0?r:cve,M=Gu((o=(c=(h=(f=e==null?void 0:e.firstWeekContainsDate)!==null&&f!==void 0?f:e==null||(m=e.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&h!==void 0?h:D.firstWeekContainsDate)!==null&&c!==void 0?c:(y=D.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=Gu((x=(C=(A=(L=e==null?void 0:e.weekStartsOn)!==null&&L!==void 0?L:e==null||(S=e.locale)===null||S===void 0||(k=S.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&A!==void 0?A:D.weekStartsOn)!==null&&C!==void 0?C:(N=D.locale)===null||N===void 0||(O=N.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&x!==void 0?x:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var z=bl(n);if(!hme(z))throw new RangeError("Invalid time value");var te=cme(z),he=pme(z,te),B={firstWeekContainsDate:M,weekStartsOn:q,locale:T,_originalDate:z},W=H.match(hve).map(function(re){var j=re[0];if(j==="p"||j==="P"){var _e=Tme[j];return _e(re,T.formatLong)}return re}).join("").match(uve).map(function(re){if(re==="''")return"'";var j=re[0];if(j==="'")return mve(re);var _e=xme[j];if(_e)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Ame(re)&&yM(re,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Nme(re)&&yM(re,t,String(n)),_e(he,re,T.localize,B);if(j.match(_ve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return re}).join("");return W}function mve(n){var t=n.match(pve);return t?t[1].replace(fve,"'"):n}hn.exports.string.isRequired,hn.exports.string.isRequired,hn.exports.string,hn.exports.string,hn.exports.string,hn.exports.string,hn.exports.func,hn.exports.string,hn.exports.string,hn.exports.string,hn.exports.bool,hn.exports.bool,hn.exports.bool,hn.exports.func,hn.exports.func,hn.exports.shape({}),hn.exports.shape({logLevel:hn.exports.oneOfType([hn.exports.string,hn.exports.arrayOf(hn.exports.string)]),isREMUnitEnabled:hn.exports.bool}),hn.exports.bool,hn.exports.oneOf(["NONE","QUOTE_REPLY","THREAD"]),hn.exports.bool,hn.exports.bool,hn.exports.objectOf(hn.exports.string),hn.exports.objectOf(hn.exports.string),hn.exports.shape({compressionRate:hn.exports.number,resizingWidth:hn.exports.oneOfType([hn.exports.number,hn.exports.string]),resizingHeight:hn.exports.oneOfType([hn.exports.number,hn.exports.string])}),hn.exports.bool,hn.exports.bool,hn.exports.bool,hn.exports.shape({maxRecordingTime:hn.exports.number,minRecordingTime:hn.exports.number}),hn.exports.bool,hn.exports.bool;const wM=n=>P0(n.createdAt,"p"),vve=(n,t)=>typeof t!="number"||typeof t=="number"&&t>n,wc=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const e=10,r=n;if(!(r>e))try{const a=(t==null?void 0:t.current)||document.querySelector(".sendbird-openchannel-conversation-scroll__container__item-container");a.scrollTop=a.scrollHeight}catch{setTimeout(()=>{wc(r+1,t)},500*r)}},xM=(n,t)=>{var e,r,a,o;if(!(n&&t&&n!==null&&n!==void 0&&n.messageType&&n.messageType!=="admin"&&t!==null&&t!==void 0&&t.messageType&&t.messageType!=="admin"&&n!==null&&n!==void 0&&n.sender&&t!==null&&t!==void 0&&t.sender&&n!==null&&n!==void 0&&n.createdAt&&t!==null&&t!==void 0&&t.createdAt&&n!==null&&n!==void 0&&(e=n.sender)!==null&&e!==void 0&&e.userId&&t!==null&&t!==void 0&&(r=t.sender)!==null&&r!==void 0&&r.userId))return!1;const c=n,h=t;return(c==null?void 0:c.sendingStatus)===(h==null?void 0:h.sendingStatus)&&(c==null||(a=c.sender)===null||a===void 0?void 0:a.userId)===(h==null||(o=h.sender)===null||o===void 0?void 0:o.userId)&&wM(n)===wM(t)},gve=(n,t,e)=>[xM(n,t),xM(t,e)],bve=n=>Math.abs(n)>999999?`${(Math.abs(n)/1e6).toFixed(1)}M`:Math.abs(n)>999?`${(Math.abs(n)/1e3).toFixed(1)}K`:`${n}`,yve=(n,t)=>!((n==null?void 0:n.operators).map(r=>r.userId).indexOf(t)<0),Eve=(n,t)=>(n==null?void 0:n.isFrozen)&&!yve(n,t),wve=(n,t)=>n.indexOf(t)>-1,lw=(n,t,e)=>{const r=a=>{const{hasNext:o}=a;o?a.next().then(c=>{e(c),r(a)}).catch(c=>{t.warning("OpenChannel | FetchUserList failed",c)}):t.info("OpenChannel | FetchUserList finished")};t.info("OpenChannel | FetchUserList start",n),r(n)},Xv=n=>{if(typeof n=="number")return n;if(typeof n=="string"){const t=Number.parseFloat(n);if(!Number.isNaN(t))return t}return null},nP="SET_CURRENT_CHANNEL",j4="SET_CHANNEL_INVALID",tP="RESET_MESSAGES",rP="EXIT_CURRENT_CHANNEL",iP="GET_PREV_MESSAGES_START",Uk="GET_PREV_MESSAGES_SUCESS",Eb="GET_PREV_MESSAGES_FAIL",I0="SENDING_MESSAGE_FAILED",xc="SENDING_MESSAGE_SUCCEEDED",w_="SENDING_MESSAGE_START",aP="RESENDING_MESSAGE_START",sP="FETCH_PARTICIPANT_LIST",oP="FETCH_BANNED_USER_LIST",K4="FETCH_MUTED_USER_LIST",lP="TRIM_MESSAGE_LIST",dP="ON_MESSAGE_RECEIVED",a1="ON_MESSAGE_UPDATED",s1="ON_MESSAGE_DELETED",cP="ON_MESSAGE_DELETED_BY_REQ_ID",uP="ON_OPERATOR_UPDATED",hP="ON_USER_ENTERED",pP="ON_USER_EXITED",Pk="ON_USER_MUTED",fP="ON_USER_UNMUTED",_P="ON_USER_BANNED",mP="ON_USER_UNBANNED",vP="ON_CHANNEL_FROZEN",gP="ON_CHANNEL_UNFROZEN",bP="ON_CHANNEL_CHANGED",yP="ON_CHANNEL_DELETED",EP="ON_META_DATA_CREATED",wP="ON_META_DATA_UPDATED",xP="ON_META_DATA_DELETED",kP="ON_META_COUNTERS_CREATED",SP="ON_META_COUNTERS_UPDATED",TP="ON_META_COUNTERS_DELETED",CP="ON_MENTION_RECEIVED";function xve(n,t){switch(t.type){case tP:return bn(bn({},n),{},{allMessages:[]});case rP:{var e,r;return((e=t.payload)===null||e===void 0?void 0:e.url)===((r=n.currentOpenChannel)===null||r===void 0?void 0:r.url)?bn(bn({},n),{},{currentOpenChannel:null}):n}case nP:{const o=t.payload,c=o.operators;return!n.isInvalid&&n.currentOpenChannel&&n.currentOpenChannel.url&&n.currentOpenChannel.url===o.url?n:bn(bn({},n),{},{currentOpenChannel:o,isInvalid:!1,operators:c,participants:c,bannedParticipantIds:[],mutedParticipantIds:[]})}case j4:return bn(bn({},n),{},{isInvalid:!0});case iP:return bn(bn({},n),{},{loading:!0});case Uk:case Eb:{const o=t.type===Eb,{currentOpenChannel:c={},messages:h=[],hasMore:f,lastMessageTimestamp:m}=t.payload,v=c.url,y=o?[]:h,w=o?!1:f,x=o?0:m,A=n.currentOpenChannel.url;if(v!==A)return n;const L=n.allMessages.filter(S=>!y.find(k=>{let{messageId:N}=k;return Hl(N,S.messageId)}));return bn(bn({},n),{},{loading:!1,initialized:!0,hasMore:w,lastMessageTimestamp:x,allMessages:[...y,...L]})}case w_:{const{message:o,channel:c}=t.payload;return(c==null?void 0:c.url)!==n.currentOpenChannel.url||n.allMessages.some(h=>h.reqId===o.reqId)?n:bn(bn({},n),{},{allMessages:[...n.allMessages,o]})}case xc:{const o=t.payload,c=n.allMessages.map(h=>Hl(h.reqId,o.reqId)?o:h);return bn(bn({},n),{},{allMessages:c})}case I0:{const o=t.payload;return o.sendingStatus="failed",n.allMessages.some(c=>(c==null?void 0:c.reqId)===(o==null?void 0:o.reqId))?bn(bn({},n),{},{allMessages:n.allMessages.map(c=>Hl(c.reqId,o.reqId)?o:c)}):bn(bn({},n),{},{allMessages:[...n.allMessages.filter(c=>!Hl(c.reqId,o)),o]})}case lP:{var a;const{allMessages:o}=n,c=(a=t.payload)===null||a===void 0?void 0:a.messageLimit;if(c&&c>0&&(o==null?void 0:o.length)>c){const h=o.length-c;return bn(bn({},n),{},{allMessages:o.slice(h)})}return n}case aP:{const o=t.payload.channel,c=t.payload.message;return o.url!==n.currentOpenChannel.url?n:bn(bn({},n),{},{allMessages:n.allMessages.map(h=>Hl(h.reqId,c.reqId)?c:h)})}case sP:{const o=t.payload.channel,c=t.payload.users;return o.url!==n.currentOpenChannel.url?n:bn(bn({},n),{},{participants:[...n.participants,...c]})}case oP:{const o=t.payload.channel,c=t.payload.users;return o.url!==n.currentOpenChannel.url||!c.every(h=>typeof h.userId=="string")?n:bn(bn({},n),{},{bannedParticipantIds:[...n.bannedParticipantIds,...c.map(h=>h.userId)]})}case K4:{const o=t.payload.channel,c=t.payload.users;return o.url!==n.currentOpenChannel.url||!c.every(h=>typeof h.userId=="string")?n:bn(bn({},n),{},{mutedParticipantIds:[...n.mutedParticipantIds,...c.map(h=>h.userId)]})}case dP:{const o=t.payload.channel,c=t.payload.message,{currentOpenChannel:h}=n;return!Hl(o.url,h.url)||!(n.allMessages.map(f=>f.messageId).indexOf(c.messageId)<0)?n:bn(bn({},n),{},{allMessages:[...n.allMessages,c]})}case a1:{const o=t.payload.channel,c=t.payload.message,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:bn(bn({},n),{},{allMessages:n.allMessages.map(f=>f.isIdentical(c)?c:f)})}case s1:{const o=t.payload.channel,c=t.payload.messageId,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:bn(bn({},n),{},{allMessages:n.allMessages.filter(f=>!Hl(f.messageId,c))})}case cP:return bn(bn({},n),{},{allMessages:n.allMessages.filter(o=>!Hl(o.reqId,t.payload))});case uP:{const o=t.payload.channel,c=t.payload.operators,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:bn(bn({},n),{},{currentOpenChannel:o,operators:c})}case hP:{const o=t.payload.channel,c=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:bn(bn({},n),{},{participants:[...n.participants,c]})}case pP:{const o=t.payload.channel,c=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url?n:bn(bn({},n),{},{participants:n.participants.filter(f=>!Hl(f.userId,c.userId))})}case Pk:{const o=t.payload.channel,c=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url||n.mutedParticipantIds.indexOf(c.userId)>=0?n:bn(bn({},n),{},{mutedParticipantIds:[...n.mutedParticipantIds,c.userId]})}case fP:{const o=t.payload.channel,c=t.payload.user,h=n.currentOpenChannel;return!h||h.url&&h.url!==o.url||n.mutedParticipantIds.indexOf(c.userId)<0?n:bn(bn({},n),{},{mutedParticipantIds:n.mutedParticipantIds.filter(f=>f!==c.userId)})}case _P:{const o=t.payload.channel,c=t.payload.user,h=t.payload.currentUser,f=n.currentOpenChannel;return(f==null?void 0:f.url)===(o==null?void 0:o.url)&&(c==null?void 0:c.userId)===(h==null?void 0:h.userId)?bn(bn({},n),{},{currentOpenChannel:null}):(f==null?void 0:f.url)===(o==null?void 0:o.url)?bn(bn({},n),{},{bannedParticipantIds:[...n.bannedParticipantIds,c.userId]}):n}case mP:{const o=t.payload.channel,c=t.payload.user,h=n.currentOpenChannel;return(h==null?void 0:h.url)===(o==null?void 0:o.url)?bn(bn({},n),{},{bannedParticipantIds:n.bannedParticipantIds.filter(f=>f!==c.userId)}):n}case vP:{const o=t.payload,c=n.currentOpenChannel;return!c||c.url&&c.url!==o.url?n:bn(bn({},n),{},{frozen:!0})}case gP:{const o=t.payload,c=n.currentOpenChannel;return!c||c.url&&c.url!==o.url?n:bn(bn({},n),{},{frozen:!1})}case bP:{const o=t.payload,c=n.currentOpenChannel;return!c||c.url&&c.url!==o.url?n:bn(bn({},n),{},{currentOpenChannel:o})}case yP:{const o=t.payload,c=n==null?void 0:n.currentOpenChannel;return(c==null?void 0:c.url)===o?bn(bn({},n),{},{currentOpenChannel:null}):n}case EP:return n;case wP:return n;case xP:return n;case kP:return n;case SP:return n;case TP:return n;case CP:return n;default:return n}}const kve={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function Sve(n,t){let{channelUrl:e,sdkInit:r,fetchingParticipants:a,userId:o,currentOpenChannel:c}=n,{sdk:h,logger:f,messagesDispatcher:m}=t;Oe.exports.useEffect(()=>{if(e&&r&&h!==null&&h!==void 0&&h.openChannel){if(c&&c!==null&&c!==void 0&&c.exit){var v;(v=c.exit)===null||v===void 0||v.call(c).then(()=>{f.info("OpenChannel | useSetChannel: Exit from the previous open channel",c==null?void 0:c.url),m({type:rP,payload:c})})}f.info("OpenChannel | useSetChannel: Fetching channel",e),h.openChannel.getChannel(e).then(y=>{f.info("OpenChannel | useSetChannel: Succeeded to fetch channel",y),m({type:nP,payload:y}),y.enter().then(()=>{if(y.isOperator(o)){const w=y.createBannedUserListQuery(),x=y.createMutedUserListQuery();lw(w,f,C=>{m({type:oP,payload:{channel:y,users:C}})}),lw(x,f,C=>{m({type:K4,payload:{channel:y,users:C}})})}else y.getMyMutedInfo().then(w=>{w!=null&&w.isMuted&&m({type:K4,payload:{channel:y,users:[h==null?void 0:h.currentUser]}})});if(a){const w=y.createParticipantListQuery({limit:y.participantCount});lw(w,f,x=>{m({type:sP,payload:{channel:y,users:x}})})}}).catch(w=>{f.warning("OpenChannel | useSetChannel: Failed to enter channel",{channelUrl:e,error:w}),m({type:j4,payload:null})})}).catch(y=>{f.warning("OpenChannel | useSetChannel: Failed to fetch channel",{channelUrl:e,error:y}),m({type:j4,payload:null})})}},[e,r,a])}function Tve(n,t){let{currentOpenChannel:e,checkScrollBottom:r}=n,{sdk:a,logger:o,messagesDispatcher:c,scrollRef:h}=t;Oe.exports.useEffect(()=>{var f;const m=N_();if(e&&e.url&&a!==null&&a!==void 0&&(f=a.openChannel)!==null&&f!==void 0&&f.addOpenChannelHandler){var v;o.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",m);const y={onMessageReceived:(x,C)=>{const A=r(),L=x==null?void 0:x.url;if(o.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:L,message:C}),c({type:dP,payload:{channel:x,message:C}}),A)try{setTimeout(()=>{wc(0,h)})}catch{o.warning("OpenChannel | onMessageReceived | scroll to end failed")}},onMessageUpdated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:A,message:C}),c({type:a1,payload:{channel:x,message:C}})},onMessageDeleted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:A,messageId:C}),c({type:s1,payload:{channel:x,messageId:C}})},onOperatorUpdated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:A,operators:C}),c({type:uP,payload:{channel:x,operators:C}})},onUserEntered:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:A,user:C}),c({type:hP,payload:{channel:x,user:C}})},onUserExited:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:A,user:C}),c({type:pP,payload:{channel:x,user:C}})},onUserMuted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:A,user:C}),c({type:Pk,payload:{channel:x,user:C}})},onUserUnmuted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:A,user:C}),c({type:fP,payload:{channel:x,user:C}})},onUserBanned:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:A,user:C}),c({type:_P,payload:{channel:x,user:C,currentUser:a==null?void 0:a.currentUser}})},onUserUnbanned:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:A,user:C}),c({type:mP,payload:{channel:x,user:C}})},onChannelFrozen:x=>{o.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",x),c({type:vP,payload:x})},onChannelUnfrozen:x=>{o.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",x),c({type:gP,payload:x})},onChannelChanged:x=>{o.info("OpenChannel | useHandleChannelEvents: onChannelChanged",x),c({type:bP,payload:x})},onMetaDataCreated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:A,metaData:C}),c({type:EP,payload:{channel:x,metaData:C}})},onMetaDataUpdated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:A,metaData:C}),c({type:wP,payload:{channel:x,metaData:C}})},onMetaDataDeleted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:A,metaDataKeys:C}),c({type:xP,payload:{channel:x,metaDataKeys:C}})},onMetaCounterCreated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:A,metaCounter:C}),c({type:kP,payload:{channel:x,metaCounter:C}})},onMetaCounterUpdated:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:A,metaCounter:C}),c({type:SP,payload:{channel:x,metaCounter:C}})},onMetaCounterDeleted:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:A,metaCounterKeys:C}),c({type:TP,payload:{channel:x,metaCounterKeys:C}})},onMentionReceived:(x,C)=>{const A=x==null?void 0:x.url;o.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:A,message:C}),c({type:CP,payload:{channel:x,message:C}})},onChannelDeleted:(x,C)=>{C===Jt.OPEN&&(e==null?void 0:e.url)===x&&c({type:yP,payload:x})}},w=new _ce(y);a==null||(v=a.openChannel)===null||v===void 0||v.addOpenChannelHandler(m,w)}return()=>{var y;a!=null&&(y=a.openChannel)!==null&&y!==void 0&&y.removeOpenChannelHandler&&(o.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",m),a.openChannel.removeOpenChannelHandler(m))}},[e])}function Cve(n,t){let{currentOpenChannel:e,userFilledMessageListParams:r}=n,{logger:a,messagesDispatcher:o,scrollRef:c}=t;Oe.exports.useEffect(()=>{if(a.info("OpenChannel | useInitialMessagesFetch: Setup started",e),o({type:tP,payload:null}),e&&e.getMessagesByTimestamp){const h={nextResultSize:0,prevResultSize:30,isInclusive:!0,includeReactions:!1};r&&(Object.keys(r).forEach(f=>{h[f]=r[f]}),a.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),a.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:e,messageListParams:h}),o({type:iP,payload:null}),e.getMessagesByTimestamp(new Date().getTime(),h).then(f=>{a.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",f);const m=f&&f.length>0,v=m?f[0].createdAt:null;o({type:Uk,payload:{currentOpenChannel:e,messages:f,hasMore:m,lastMessageTimestamp:v}}),setTimeout(()=>{wc(0,c)})}).catch(f=>{a.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",f),o({type:Eb,payload:{currentOpenChannel:e,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[e,r])}function Ive(n,t){let{currentOpenChannel:e,lastMessageTimestamp:r,fetchMore:a}=n,{sdk:o,logger:c,messagesDispatcher:h,hasMore:f,userFilledMessageListParams:m}=t;return Oe.exports.useCallback(v=>{if(a&&f){c.info("OpenChannel | useScrollCallback: start");const y={prevResultSize:30,includeReactions:!1,nextResultSize:0};m&&(Object.keys(m).forEach(w=>{y[w]=m[w]}),c.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",m)),c.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:e,messageListParams:y}),e.getMessagesByTimestamp(r||new Date().getTime(),y).then(w=>{c.info("OpenChannel | useScrollCallback: Fetching messages succeeded",w);const x=w&&w.length>0,C=x?w[0].createdAt:null;h({type:Uk,payload:{currentOpenChannel:e,messages:w,hasMore:x,lastMessageTimestamp:C}}),setTimeout(()=>{v()})}).catch(w=>{c.error("OpenChannel | useScrollCallback: Fetching messages failed",w),h({type:Eb,payload:{currentOpenChannel:e,messages:[],hasMore:!1,lastMessageTimestamp:0}})})}},[e,r,a,o])}function Nve(n,t){let{conversationScrollRef:e}=n,{logger:r}=t;return Oe.exports.useCallback(()=>{let a=!0;if(e&&e!==null&&e!==void 0&&e.current)try{const o=e.current;a=o.scrollHeight<=o.scrollTop+o.clientHeight}catch(o){r.error("OpenChannel | useCheckScrollBottom",o)}return a},[e])}function Ave(n,t){let{currentOpenChannel:e,onBeforeSendUserMessage:r,checkScrollBottom:a,messageInputRef:o}=n,{sdk:c,logger:h,messagesDispatcher:f,scrollRef:m}=t;return Oe.exports.useCallback(()=>{if(c){const v=o.current.innerText,y=L=>({message:L});r&&typeof r=="function"&&h.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",r);const x=r?r(v):y(v);h.info("OpenChannel | useSendMessageCallback: Sending message has started",x);const C=a();let A=null;e.sendUserMessage(x).onPending(L=>{f({type:w_,payload:{message:L,channel:e}}),A=L}).onSucceeded(L=>{h.info("OpenChannel | useSendMessageCallback: Sending message succeeded",L),f({type:xc,payload:L}),C&&setTimeout(()=>{wc(0,m)})}).onFailed(L=>{h.warning("OpenChannel | useSendMessageCallback: Sending message failed",L),f({type:I0,payload:A}),(L==null?void 0:L.code)===900041&&f({type:Pk,payload:{channel:e,user:c.currentUser}})})}},[e,r,a,o])}function Ove(n,t){let{currentOpenChannel:e,checkScrollBottom:r,imageCompression:a={},onBeforeSendFileMessage:o}=n,{sdk:c,logger:h,messagesDispatcher:f,scrollRef:m}=t;return Oe.exports.useCallback(v=>{if(c){const{compressionRate:y,resizingWidth:w,resizingHeight:x}=a,C=o&&typeof o=="function",A=v.type==="image/jpg"||v.type==="image/png"||v.type==="image/jpeg",L=y>0&&y<1,S=Xv(w)||Xv(x),k=A&&(L||S),N=O=>{const H={};return H.file=O,H};if(k)try{const O=document.createElement("img");O.src=URL.createObjectURL(v),O.onload=()=>{URL.revokeObjectURL(O.src);const H=document.createElement("canvas"),D=O.naturalWidth||O.width,T=O.naturalHeight||O.height;let M=Xv(w)||D,q=Xv(x)||T;v.type==="image/png"&&!S&&(M*=y,q*=y),H.width=M,H.height=q;const z=H.getContext("2d");z.drawImage(O,0,0,M,q),z.canvas.toBlob(te=>{const he=new File([te],v.name,{type:v.type});C&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",o);const B=o?o(he):N(he);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",B);const W=r();e.sendFileMessage(B).onPending(re=>{f({type:w_,payload:{message:bn(bn({},re),{},{url:URL.createObjectURL(v),requestState:"pending"}),channel:e}})}).onSucceeded(re=>{h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",re),f({type:xc,payload:re}),W&&setTimeout(()=>{wc(0,m)})}).onFailed((re,j)=>{h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:j,error:re}),j.localUrl=URL.createObjectURL(v),j.file=v,f({type:I0,payload:j})})},v.type,y)}}catch(O){h.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",O)}else{C&&h.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",o);const O=o?o(v):N(v);h.info("OpenChannel | useFileUploadCallback: Uploading file message start",O);const H=r();e.sendFileMessage(O).onPending(D=>{f({type:w_,payload:{message:bn(bn({},D),{},{url:URL.createObjectURL(v),requestState:"pending"}),channel:e}})}).onSucceeded(D=>{h.info("OpenChannel | useFileUploadCallback: Sending message succeeded",D),f({type:xc,payload:D}),H&&setTimeout(()=>{wc(0,m)})}).onFailed((D,T)=>{h.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:T,error:D}),T.localUrl=URL.createObjectURL(v),T.file=v,f({type:I0,payload:T})})}}},[e,o,r,a])}function Rve(n,t){let{currentOpenChannel:e,onBeforeSendUserMessage:r}=n,{logger:a,messagesDispatcher:o}=t;return Oe.exports.useCallback((c,h,f)=>{const m=y=>({message:y});r&&typeof r=="function"&&a.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");const v=r?r(h):m(h);e.updateUserMessage(c,v).then(y=>{f&&f(),a.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:y,params:v}),o({type:a1,payload:{channel:e,message:y}})})},[e,r])}function Mve(n,t){let{currentOpenChannel:e}=n,{logger:r,messagesDispatcher:a}=t;return Oe.exports.useCallback((o,c)=>{r.info("OpenChannel | useDeleteMessageCallback: Deleting message",o);const{sendingStatus:h}=o;if(r.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",h),h==="failed"||h==="pending")r.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",o),a({type:cP,payload:o.reqId}),c&&c();else{if(!(o.messageType==="file"||o.messageType==="user"))return;const f=o;e.deleteMessage(f).then(()=>{r.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",h),c&&c(),r.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",o),a({type:s1,payload:{channel:e,messageId:o.messageId}})}).catch(m=>{r.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",m)})}},[e])}function Dve(n,t){let{currentOpenChannel:e}=n,{logger:r,messagesDispatcher:a}=t;return Oe.exports.useCallback(o=>{r.info("OpenChannel | useResendMessageCallback: Resending message has started",o);const{messageType:c,file:h}=o;o&&typeof o.isResendable=="function"&&o.isResendable?(o.requestState="pending",a({type:aP,payload:{channel:e,message:o}}),c==="user"&&o.messageType==="user"&&e.resendUserMessage(o).then(f=>{r.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",f),a({type:xc,payload:f})}).catch(f=>{r.warning("OpenChannel | useResendMessageCallback: Resending message failed",f),o.requestState="failed",a({type:I0,payload:o})}),c==="file"&&o.messageType==="file"&&e.resendFileMessage(o,h).then(f=>{r.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",f),a({type:xc,payload:f})}).catch(f=>{r.warning("OpenChannel | useResendMessageCallback: Resending file message failed",f),o.requestState="failed",a({type:I0,payload:o})})):(console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),r.warning("OpenChannel | useResendMessageCallback: Message is not resendable",o))},[e])}const Lve=5e3;function Uve(n,t){let{messagesLength:e,messageLimit:r}=n,{messagesDispatcher:a,logger:o}=t;const[c,h]=Oe.exports.useState(!1);Oe.exports.useEffect(()=>{c||(typeof e=="number"&&e>r&&(o.info("Trimming MessageList"),a({type:lP,payload:{messageLimit:r}})),h(!0),setTimeout(()=>{h(!1)},Lve))},[e,r])}const IP=R.createContext(void 0),Pve=n=>{var t,e,r,a,o,c;const{channelUrl:h,children:f,isMessageGroupingEnabled:m=!0,queries:v,onBeforeSendUserMessage:y,messageLimit:w,onBeforeSendFileMessage:x,onChatHeaderActionClick:C,onBackClick:A}=n,L=!1,S=lo(),k=S==null||(t=S.stores)===null||t===void 0||(e=t.sdkStore)===null||e===void 0?void 0:e.sdk,N=S==null||(r=S.stores)===null||r===void 0||(a=r.sdkStore)===null||a===void 0?void 0:a.initialized,O=S==null||(o=S.stores)===null||o===void 0||(c=o.userStore)===null||c===void 0?void 0:c.user,H=S==null?void 0:S.config,{userId:D,isOnline:T,logger:M,pubSub:q,imageCompression:z}=H,[te,he]=Oe.exports.useReducer(xve,kve),{allMessages:B,loading:W,initialized:re,currentOpenChannel:j,isInvalid:_e,hasMore:ie,lastMessageTimestamp:se,operators:me,bannedParticipantIds:Me,mutedParticipantIds:de}=te,ue=Oe.exports.useRef(null),V=Oe.exports.useRef(null),Q=v==null?void 0:v.messageListParams,$=!re||!T||Eve(j,D)||wve(de,D),ne=Oe.exports.useMemo(()=>Me.indexOf(O.userId)>=0,[h,Me,O]),De=Oe.exports.useMemo(()=>de.indexOf(O.userId)>=0,[h,de,O]),We=Oe.exports.useMemo(()=>me.map(ln=>ln.userId).indexOf(O.userId)>=0,[h,me,O]);Sve({channelUrl:h,sdkInit:N,fetchingParticipants:L,userId:D,currentOpenChannel:j},{sdk:k,logger:M,messagesDispatcher:he});const Ae=Nve({conversationScrollRef:V},{logger:M});Tve({currentOpenChannel:j,checkScrollBottom:Ae},{sdk:k,logger:M,messagesDispatcher:he,scrollRef:V}),Cve({currentOpenChannel:j,userFilledMessageListParams:Q},{logger:M,messagesDispatcher:he,scrollRef:V});const we=vve(B==null?void 0:B.length,w),Ue=Ive({currentOpenChannel:j,lastMessageTimestamp:se,fetchMore:we},{sdk:k,logger:M,messagesDispatcher:he,hasMore:ie,userFilledMessageListParams:Q}),He=Ave({currentOpenChannel:j,onBeforeSendUserMessage:y,checkScrollBottom:Ae,messageInputRef:ue},{sdk:k,logger:M,messagesDispatcher:he,scrollRef:V}),en=Ove({currentOpenChannel:j,onBeforeSendFileMessage:x,checkScrollBottom:Ae,imageCompression:z},{sdk:k,logger:M,messagesDispatcher:he,scrollRef:V}),nn=Rve({currentOpenChannel:j,onBeforeSendUserMessage:y},{logger:M,messagesDispatcher:he}),un=Mve({currentOpenChannel:j},{logger:M,messagesDispatcher:he}),mn=Dve({currentOpenChannel:j},{logger:M,messagesDispatcher:he});return Uve({messagesLength:B==null?void 0:B.length,messageLimit:w},{messagesDispatcher:he,logger:M}),Oe.exports.useEffect(()=>{const ln=new Map;if(!(!q||!q.subscribe))return ln.set(Di.SEND_USER_MESSAGE,q.subscribe(Di.SEND_USER_MESSAGE,Bn=>{const{channel:Gn,message:G}=Bn;wc(0,V),Gn&&h===(Gn==null?void 0:Gn.url)&&he({type:xc,payload:G})})),ln.set(Di.SEND_MESSAGE_START,q.subscribe(Di.SEND_MESSAGE_START,Bn=>{const{channel:Gn,message:G}=Bn;Gn&&h===(Gn==null?void 0:Gn.url)&&he({type:w_,payload:{message:G,channel:Gn}})})),ln.set(Di.SEND_FILE_MESSAGE,q.subscribe(Di.SEND_FILE_MESSAGE,Bn=>{const{channel:Gn,message:G}=Bn;wc(0,V),Gn&&h===(Gn==null?void 0:Gn.url)&&he({type:xc,payload:{message:G,channel:Gn}})})),ln.set(Di.UPDATE_USER_MESSAGE,q.subscribe(Di.UPDATE_USER_MESSAGE,Bn=>{const{channel:Gn,message:G,fromSelector:J}=Bn;J&&Gn&&h===(Gn==null?void 0:Gn.url)&&he({type:a1,payload:{channel:Gn,message:G}})})),ln.set(Di.DELETE_MESSAGE,q.subscribe(Di.DELETE_MESSAGE,Bn=>{const{channel:Gn,messageId:G}=Bn;Gn&&h===(Gn==null?void 0:Gn.url)&&he({type:s1,payload:G})})),()=>{ln&&ln.forEach(Bn=>{try{Bn.remove()}catch{}})}},[h,N]),R.createElement(IP.Provider,{value:{channelUrl:h,children:f,isMessageGroupingEnabled:m,queries:v,onBeforeSendUserMessage:y,messageLimit:w,onBeforeSendFileMessage:x,onChatHeaderActionClick:C,onBackClick:A,allMessages:B,loading:W,initialized:re,currentOpenChannel:j,isInvalid:_e,hasMore:ie,lastMessageTimestamp:se,operators:me,bannedParticipantIds:Me,mutedParticipantIds:de,messageInputRef:ue,conversationScrollRef:V,disabled:$,amIBanned:ne,amIMuted:De,amIOperator:We,checkScrollBottom:Ae,fetchMore:we,onScroll:Ue,handleSendMessage:He,handleFileUpload:en,updateMessage:nn,deleteMessage:un,resendMessage:mn}},R.createElement(Mk,{isOpenChannel:!0,renderUserProfile:n==null?void 0:n.renderUserProfile,disableUserProfile:n==null?void 0:n.disableUserProfile},f))},M_=()=>R.useContext(IP),Fve=(n,t)=>{const{currentOpenChannel:e,disabled:r,handleSendMessage:a,handleFileUpload:o}=M_();if(!e)return;const{stringSet:h}=Oe.exports.useContext(Mo),{value:f}=n;return R.createElement("div",{className:"sendbird-openchannel-footer"},R.createElement(t1,{ref:t,value:f,disabled:r,isVoiceMessageEnabled:!1,onSendMessage:a,onFileUpload:o,placeholder:r&&h.MESSAGE_INPUT__PLACE_HOLDER__DISABLED}))};var Hve=R.forwardRef(Fve);const Bve=()=>{const{stringSet:n}=Oe.exports.useContext(Mo);return R.createElement("div",{className:"sendbird-frozen-channel-notification"},R.createElement(Pt,{className:"sendbird-frozen-channel-notification__text",type:Ft.CAPTION_2},n.CHANNEL_FROZEN))};function $ve(){const{stringSet:n}=Oe.exports.useContext(Mo),{currentOpenChannel:t,onChatHeaderActionClick:e,amIOperator:r,onBackClick:a}=M_(),o=t==null?void 0:t.name,c=`${bve(t==null?void 0:t.participantCount)} ${n.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS}`,h=t==null?void 0:t.coverUrl,{isMobile:f}=eh();return R.createElement("div",{className:"sendbird-openchannel-conversation-header"},R.createElement("div",{className:"sendbird-openchannel-conversation-header__left"},f&&R.createElement(Qt,{className:"sendbird-oepnchannel-header__icon_back",onClick:a,fillColor:Xt.PRIMARY,width:"24px",height:"24px",type:$t.ARROW_LEFT}),h?R.createElement(nh,{className:"sendbird-openchannel-conversation-header__left__cover-image",src:h,alt:"channel cover image",width:"32px",height:"32px"}):R.createElement("div",{className:"sendbird-openchannel-conversation-header__left__cover-image--icon",style:{width:32,height:32}},R.createElement(Qt,{type:$t.CHANNELS,fillColor:Xt.CONTENT,width:"18px",height:"18px"})),R.createElement(Pt,{className:"sendbird-openchannel-conversation-header__left__title",type:Ft.H_2,color:Ot.ONBACKGROUND_1},o||n.NO_TITLE),R.createElement(Pt,{className:"sendbird-openchannel-conversation-header__left__sub-title",type:Ft.BODY_2,color:Ot.ONBACKGROUND_2},c||n.NO_TITLE)),R.createElement("div",{className:"sendbird-openchannel-conversation-header__right"},R.createElement(id,{className:"sendbird-openchannel-conversation-header__right__trigger",width:"32px",height:"32px",onClick:e},R.createElement(Qt,{type:r?$t.INFO:$t.MEMBERS,fillColor:Xt.PRIMARY,width:"24px",height:"24px"}))))}const wb=n=>{if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",n);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){const t=document.createElement("textarea");t.textContent=n,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1},Fk={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},D_=n=>n.sender||n._sender,Hk=n=>n===Fk.SUCCEEDED,o1=n=>n===Fk.PENDING,L_=n=>n===Fk.FAILED,Bk=(n,t)=>D_(n).userId===t,l1=n=>{var t;let{message:e}=n;return(e==null?void 0:e.messageType)==="user"&&(e==null||(t=e.message)===null||t===void 0?void 0:t.length)>0},dd=n=>{let{message:t,status:e,userId:r}=n;return Bk(t,r)&&L_(e)&&(t==null?void 0:t.isResendable())},d1=n=>{var t;let{message:e,status:r,userId:a}=n;return Bk(e,a)&&Hk(r)&&(e==null||(t=e.isUserMessage)===null||t===void 0?void 0:t.call(e))},qu=n=>{let{message:t,userId:e}=n;return Bk(t,e)},zve=n=>{var t;let{message:e,status:r}=n;return!!(e!=null&&(t=e.isFileMessage)!==null&&t!==void 0&&t.call(e)&&Hk(r))},c1=n=>{const{message:t,status:e,userId:r}=n;return t.messageType==="user"?qu({message:t,status:e,userId:r})||d1({message:t,status:e,userId:r})||l1({message:t,status:e,userId:r})||dd({message:t,status:e,userId:r}):qu({message:t,status:e,userId:r})||dd({message:t,status:e,userId:r})},u1=n=>{var t,e;const{message:r,parentRef:a,resendMessage:o,showEdit:c,showRemove:h,copyToClipboard:f,hideMenu:m,isEphemeral:v=!1}=n,y=r,w=r==null?void 0:r.sendingStatus,{stringSet:x}=L0(),C=(t=lo())===null||t===void 0||(e=t.config)===null||e===void 0?void 0:e.userId,A=r;return R.createElement(vl,{isOpen:!0,menuItems:()=>R.createElement(ml,{className:"sendbird-openchannel__mobile-menu",parentRef:a,parentContainRef:a,closeDropdown:m},l1({message:y,userId:C,status:w})&&R.createElement(ua,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:()=>{f()}},R.createElement(R.Fragment,null,x.CONTEXT_MENU_DROPDOWN__COPY)),!v&&d1({message:r,userId:C,status:w})&&R.createElement(ua,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:()=>{c()}},R.createElement(R.Fragment,null,x.CONTEXT_MENU_DROPDOWN__EDIT)),dd({message:r,userId:C,status:w})&&R.createElement(ua,{onClick:()=>{o()}},R.createElement(R.Fragment,null,x.CONTEXT_MENU_DROPDOWN__RESEND)),!v&&qu({message:r,userId:C,status:w})&&R.createElement(ua,{onClick:()=>{h()}},R.createElement(R.Fragment,null,x.CONTEXT_MENU_DROPDOWN__DELETE)),zve({message:r,status:w})&&R.createElement(ua,{onClick:()=>{m()}},R.createElement("a",{className:"sendbird-openchannel__mobile-menu-hyperlink",rel:"noopener noreferrer",href:A==null?void 0:A.url,target:"_blank"},x.CONTEXT_MENU_DROPDOWN__SAVE)))})};function Vve(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,userId:o,resendMessage:c,disabled:h,showEdit:f,showRemove:m,chainTop:v}=n;if(!e||e.messageType!=="user")return null;const{stringSet:y,dateLocale:w}=L0(),{disableUserProfile:x,renderUserProfile:C}=Oe.exports.useContext(U0),A=Oe.exports.useRef(null),L=Oe.exports.useRef(null),S=Oe.exports.useRef(null),k=Oe.exports.useRef(null),[N,O]=Oe.exports.useState({}),[H,D]=Oe.exports.useState(!1),T=e==null?void 0:e.sendingStatus,M=o1(T),q=L_(T),z=D_(e);Oe.exports.useEffect(()=>{var B;(A==null||(B=A.current)===null||B===void 0?void 0:B.clientHeight)>36?O({top:"8px "}):O({top:"2px"})},[window.innerWidth]);const te=n1({onLongPress:()=>{D(!0)}}),{isMobile:he}=eh();return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-user-message"].join(" "),ref:A},R.createElement("div",{className:"sendbird-openchannel-user-message__left"},!v&&R.createElement(vl,{menuTrigger:B=>R.createElement(nh,{className:"sendbird-openchannel-user-message__left__avatar",src:z.profileUrl||"",ref:L,width:"28px",height:"28px",onClick:()=>{x||B()}}),menuItems:B=>R.createElement(ml,{parentRef:L,parentContainRef:L,closeDropdown:B,style:{paddingTop:"0px",paddingBottom:"0px"}},C?C({user:z,close:B}):R.createElement(A_,{user:z,onSuccess:B,disableMessaging:!0}))})),R.createElement("div",{className:"sendbird-openchannel-user-message__right"},!v&&R.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},R.createElement(Pt,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:Ft.CAPTION_2,color:r?Ot.SECONDARY_3:Ot.ONBACKGROUND_2},z&&(z.friendName||z.nickname||z.userId)),R.createElement(Pt,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:Ft.CAPTION_3,color:Ot.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&P0(e==null?void 0:e.createdAt,"p",{locale:w}))),R.createElement("div",y0({},he?bn({},te):{},{className:"sendbird-openchannel-user-message__right__bottom",ref:k}),R.createElement(Pt,{className:"sendbird-openchannel-user-message__right__bottom__message",type:Ft.BODY_1,color:Ot.ONBACKGROUND_1},e==null?void 0:e.message,che(e)&&R.createElement(Pt,{key:N_(),type:Ft.BODY_1,color:Ot.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"},` ${y.MESSAGE_EDITED} `))),(M||q)&&R.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},M&&R.createElement(O_,{width:"16px",height:"16px"},R.createElement(Qt,{className:"sendbird-openchannel-user-message__right__tail__pending",type:$t.SPINNER,fillColor:Xt.PRIMARY,width:"16px",height:"16px"})),q&&R.createElement(Qt,{className:"sendbird-openchannel-user-message__right__tail__failed",type:$t.ERROR,fillColor:Xt.ERROR,width:"16px",height:"16px"}))),!he&&R.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:S,style:N},R.createElement(vl,{menuTrigger:B=>c1({message:e,userId:o,status:T})&&R.createElement(id,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:()=>{B()}},R.createElement(Qt,{type:$t.MORE,fillColor:Xt.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:B=>R.createElement(ml,{parentRef:S,parentContainRef:S,closeDropdown:B,openLeft:!0},l1({message:e,userId:o,status:T})&&R.createElement(ua,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:()=>{wb(e.message),B()}},y.CONTEXT_MENU_DROPDOWN__COPY),!a&&d1({message:e,userId:o,status:T})&&R.createElement(ua,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:()=>{h||(f(!0),B())}},y.CONTEXT_MENU_DROPDOWN__EDIT),dd({message:e,userId:o,status:T})&&R.createElement(ua,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:()=>{c(e),B()}},y.CONTEXT_MENU_DROPDOWN__RESEND),!a&&qu({message:e,userId:o,status:T})&&R.createElement(ua,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:()=>{h||(m(!0),B())}},y.CONTEXT_MENU_DROPDOWN__DELETE))})),H&&R.createElement(u1,{message:e,parentRef:k,hideMenu:()=>{D(!1)},showRemove:()=>{D(!1),m(!0)},showEdit:()=>{D(!1),f(!0)},copyToClipboard:()=>{D(!1),wb(e==null?void 0:e.message)},resendMessage:()=>{D(!1),c(e)}}))}function Gve(n){let{className:t,message:e}=n;return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-admin-message"].join(" ")},R.createElement(Pt,{className:"sendbird-openchannel-admin-message__text",type:Ft.CAPTION_2,color:Ot.ONBACKGROUND_2},e.message||""))}const qve=n=>{const{ogMetaData:t}=n;if(!t)return!1;const{url:e}=t;return!!e};function jve(n){let{message:t,isOperator:e,isEphemeral:r=!1,className:a,disabled:o,showEdit:c,showRemove:h,resendMessage:f,chainTop:m,userId:v}=n;if(!t||t.messageType!=="user")return null;const y=()=>{if(qve(t)){const{url:_e}=x;window.open(_e)}},w=t==null?void 0:t.sendingStatus,{ogMetaData:x}=t,{defaultImage:C}=x,{stringSet:A,dateLocale:L}=L0(),{disableUserProfile:S,renderUserProfile:k}=Oe.exports.useContext(U0),[N,O]=Oe.exports.useState({}),[H,D]=Oe.exports.useState(!1),T=n1({onLongPress:()=>D(!0),onClick:y},{delay:300}),M=Oe.exports.useRef(null),q=Oe.exports.useRef(null),z=Oe.exports.useRef(null),te=Oe.exports.useRef(null),he=o1(w),B=L_(w),W=D_(t),{isMobile:re}=eh(),j=Oe.exports.useMemo(()=>q9({messageText:t.message}),[t==null?void 0:t.updatedAt]);return Oe.exports.useEffect(()=>{var _e;(M==null||(_e=M.current)===null||_e===void 0?void 0:_e.clientHeight)>36?O({top:"8px "}):O({top:"2px"})},[window.innerWidth]),R.createElement("div",{className:[...Array.isArray(a)?a:[a],"sendbird-openchannel-og-message"].join(" "),ref:M},R.createElement("div",{className:"sendbird-openchannel-og-message__top"},R.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!m&&R.createElement(vl,{menuTrigger:_e=>R.createElement(nh,{className:"sendbird-openchannel-og-message__top__left__avatar",src:W.profileUrl||"",ref:te,width:"28px",height:"28px",onClick:()=>{S||_e()}}),menuItems:_e=>R.createElement(ml,{parentRef:te,parentContainRef:te,closeDropdown:_e,style:{paddingTop:"0px",paddingBottom:"0px"}},k?k({user:W,close:_e}):R.createElement(A_,{user:W,onSuccess:_e,disableMessaging:!0}))})),R.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!m&&R.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},R.createElement(Pt,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:Ft.CAPTION_2,color:e?Ot.SECONDARY_3:Ot.ONBACKGROUND_2},W&&(W.friendName||W.nickname||W.userId)),R.createElement(Pt,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:Ft.CAPTION_3,color:Ot.ONBACKGROUND_3},(t==null?void 0:t.createdAt)&&P0(t==null?void 0:t.createdAt,"p",{locale:L}))),R.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},R.createElement(Pt,{className:"sendbird-openchannel-og-message__top__right__description__message",type:Ft.BODY_1,color:Ot.ONBACKGROUND_1},R.createElement(rme,{tokens:j}),(t==null?void 0:t.updatedAt)>0&&R.createElement(Pt,{key:N_(),className:"sendbird-openchannel-og-message--word",type:Ft.BODY_1,color:Ot.ONBACKGROUND_2},A.MESSAGE_EDITED)))),!re&&R.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:q,style:N},R.createElement(vl,{menuTrigger:_e=>c1({message:t,userId:v,status:w})&&R.createElement(id,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:()=>{_e()}},R.createElement(Qt,{type:$t.MORE,fillColor:Xt.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:_e=>R.createElement(ml,{parentRef:q,parentContainRef:q,closeDropdown:_e,openLeft:!0},l1({message:t,userId:v,status:w})&&R.createElement(ua,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:()=>{wb(t.message),_e()}},A.CONTEXT_MENU_DROPDOWN__COPY),!r&&d1({message:t,userId:v,status:w})&&R.createElement(ua,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:()=>{o||(c(!0),_e())}},A.CONTEXT_MENU_DROPDOWN__EDIT),dd({message:t,userId:v,status:w})&&R.createElement(ua,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:()=>{f(t),_e()}},A.CONTEXT_MENU_DROPDOWN__RESEND),!r&&qu({message:t,userId:v,status:w})&&R.createElement(ua,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:()=>{o||(h(!0),_e())}},A.CONTEXT_MENU_DROPDOWN__DELETE))}))),R.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},R.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag",ref:z},x.url&&R.createElement(Pt,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:Ft.CAPTION_3,color:Ot.ONBACKGROUND_2},x.url),x.title&&R.createElement(r1,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",src:x.url,type:Ft.SUBTITLE_2,color:Ot.PRIMARY},x.title),x.description&&R.createElement(Pt,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:Ft.BODY_2,color:Ot.ONBACKGROUND_1},x.description),x.url&&R.createElement("div",y0({className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",role:"button",onClick:y,onKeyDown:y,tabIndex:0},re?bn({},T):{}),C&&R.createElement(js,{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",url:C.url||"",alt:C.alt||"",height:"189px",defaultComponent:R.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},R.createElement(Qt,{type:$t.THUMBNAIL_NONE,width:"56px",height:"56px"}))}))),(he||B)&&R.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},he&&R.createElement(O_,{width:"16px",height:"16px"},R.createElement(Qt,{className:"sendbird-openchannel-og-message__top__right__tail__pending",type:$t.SPINNER,fillColor:Xt.PRIMARY,width:"16px",height:"16px"})),B&&R.createElement(Qt,{className:"sendbird-openchannel-og-message__top__right__tail__failed",type:$t.ERROR,fillColor:Xt.ERROR,width:"16px",height:"16px"}))),H&&R.createElement(u1,{message:t,parentRef:z,hideMenu:()=>{D(!1)},showRemove:()=>{D(!1),h(!0)},showEdit:()=>{D(!1),c(!0)},copyToClipboard:()=>{D(!1),wb(t==null?void 0:t.message)},resendMessage:()=>{D(!1),f(t)}}))}const h0={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},kM={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Kve=n=>kM.IMAGE.indexOf(n)>=0?h0.IMAGE:kM.VIDEO.indexOf(n)>=0?h0.VIDEO:h0.UNSUPPORTED;function Wve(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,disabled:o,userId:c,chainTop:h,onClick:f,showRemove:m,resendMessage:v}=n;const{type:y,url:w,thumbnails:x,localUrl:C}=e,A=e==null?void 0:e.sendingStatus,L=x&&x.length>0&&x[0].url||null,{stringSet:S,dateLocale:k}=L0(),{disableUserProfile:N,renderUserProfile:O}=Oe.exports.useContext(U0),[H,D]=Oe.exports.useState(360),[T,M]=Oe.exports.useState(!1),q=Oe.exports.useRef(null),z=Oe.exports.useRef(null),te=Oe.exports.useRef(null),he=Oe.exports.useRef(null),B=n1({onLongPress:()=>{M(!0)},onClick:()=>{f(!0)}}),{isMobile:W}=eh(),re=Oe.exports.useMemo(()=>me=>Me=>{let{style:de}=Me;return R.createElement("div",{style:de},R.createElement(Qt,{type:me,fillColor:Xt.ON_BACKGROUND_2,width:"56px",height:"56px"}))},[]),j=Hk(A),_e=o1(A),ie=L_(A),se=D_(e);return Oe.exports.useEffect(()=>{var me;const Me=(q==null||(me=q.current)===null||me===void 0?void 0:me.clientWidth)-80;D(Me>360?360:Me)},[]),R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-thumbnail-message"].join(" "),ref:q},R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!h&&R.createElement(vl,{menuTrigger:me=>R.createElement(nh,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:se.profileUrl||"",ref:he,width:"28px",height:"28px",onClick:()=>{N||me()}}),menuItems:me=>R.createElement(ml,{parentRef:he,parentContainRef:he,closeDropdown:me,style:{paddingTop:"0px",paddingBottom:"0px"}},O?O({user:se,close:me}):R.createElement(A_,{user:se,onSuccess:me,disableMessaging:!0}))})),R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!h&&R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},R.createElement(Pt,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:Ft.CAPTION_2,color:r?Ot.SECONDARY_3:Ot.ONBACKGROUND_2},se&&(se.friendName||se.nickname||se.userId)),R.createElement(Pt,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:Ft.CAPTION_3,color:Ot.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&P0(e.createdAt,"p",{locale:k}))),R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body",ref:z},R.createElement("div",y0({className:"sendbird-openchannel-thumbnail-message__right__body__wrap",role:"button",onClick:()=>{j&&f(!0)},onKeyDown:()=>{j&&f(!0)},tabIndex:0},W?bn({},B):{}),R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),{[h0.VIDEO]:w||C?R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},L?R.createElement(js,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:L,width:H,height:"270px",alt:"image",placeHolder:re($t.PLAY)}):R.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},R.createElement("source",{src:w||C,type:y})),R.createElement(Qt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",type:$t.PLAY,fillColor:Xt.ON_BACKGROUND_2,width:"56px",height:"56px"})):R.createElement(Qt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",type:$t.PHOTO,fillColor:Xt.ON_BACKGROUND_2,width:"56px",height:"56px"}),[h0.IMAGE]:w||C?R.createElement(js,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:L||w||C,alt:"image",width:H,height:"270px",placeHolder:re($t.PHOTO)}):R.createElement(Qt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",type:$t.PHOTO,fillColor:Xt.ON_BACKGROUND_2,width:"56px",height:"56px"}),[h0.UNSUPPORTED]:R.createElement(Qt,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",type:$t.PHOTO,fillColor:Xt.ON_BACKGROUND_2,width:"56px",height:"56px"})}[Kve(y)])),(_e||ie)&&R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},_e&&R.createElement(O_,{width:"16px",height:"16px"},R.createElement(Qt,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:$t.SPINNER,fillColor:Xt.PRIMARY,width:"16px",height:"16px"})),ie&&R.createElement(Qt,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:$t.ERROR,fillColor:Xt.ERROR,width:"16px",height:"16px"}))),!W&&R.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:te},(dd({message:e,userId:c,status:A})||!a)&&R.createElement(vl,{menuTrigger:me=>c1({message:e,userId:c,status:A})&&R.createElement(id,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:me},R.createElement(Qt,{type:$t.MORE,fillColor:Xt.CONTENT_INVERSE,width:"24px",height:"24px"})),menuItems:me=>R.createElement(ml,{parentRef:te,parentContainRef:te,closeDropdown:me,openLeft:!0},dd({message:e,userId:c,status:A})&&R.createElement(ua,{onClick:()=>{v(e),me()}},S.CONTEXT_MENU_DROPDOWN__RESEND),!a&&qu({message:e,userId:c,status:A})&&R.createElement(ua,{onClick:()=>{o||(m(!0),me())}},S.CONTEXT_MENU_DROPDOWN__DELETE))})),T&&R.createElement(u1,{message:e,parentRef:z,hideMenu:()=>{M(!1)},showRemove:()=>{M(!1),m(!0)},resendMessage:()=>{M(!1),v(e)}}))}const SM=n=>{const t=/(\.mp3)$/i,e=/(\.gif)$/i;return t.test(n)?$t.FILE_AUDIO:e.test(n)?$t.GIF:$t.FILE_DOCUMENT},Qve=(n,t)=>{if(n==null)return"";if(n.length<=t)return n;const e="...",r=e.length,a=t-r,o=Math.ceil(a/2),c=Math.floor(a/2);return n.substr(0,o)+e+n.substr(n.length-c)};function Yve(n){let{className:t,message:e,isOperator:r,isEphemeral:a=!1,userId:o,disabled:c,chainTop:h,showRemove:f,resendMessage:m}=n;const v=e==null?void 0:e.sendingStatus,{dateLocale:y,stringSet:w}=L0(),x=Oe.exports.useRef(null),C=Oe.exports.useRef(null),A=Oe.exports.useRef(null),{disableUserProfile:L,renderUserProfile:S}=Oe.exports.useContext(U0),{isMobile:k}=eh(),N=()=>{window.open(e.url)},O=o1(v),H=L_(v),D=D_(e),[T,M]=Oe.exports.useState(!1),q=n1({onLongPress:()=>{k&&M(!0)},onClick:N},{delay:300});return R.createElement("div",{className:[...Array.isArray(t)?t:[t],"sendbird-openchannel-file-message"].join(" "),ref:C},R.createElement("div",{className:"sendbird-openchannel-file-message__left"},!h&&R.createElement(vl,{menuTrigger:z=>R.createElement(nh,{className:"sendbird-openchannel-file-message__left__avatar",src:D.profileUrl||"",ref:A,width:"28px",height:"28px",onClick:()=>{L||z()}}),menuItems:z=>R.createElement(ml,{parentRef:A,parentContainRef:A,closeDropdown:z,style:{paddingTop:"0px",paddingBottom:"0px"}},S?S({user:D,close:z}):R.createElement(A_,{user:D,onSuccess:z,disableMessaging:!0}))})),R.createElement("div",{className:"sendbird-openchannel-file-message__right"},!h&&R.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},R.createElement(Pt,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:Ft.CAPTION_2,color:r?Ot.SECONDARY_3:Ot.ONBACKGROUND_2},D&&(D.friendName||D.nickname||D.userId)),R.createElement(Pt,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:Ft.CAPTION_3,color:Ot.ONBACKGROUND_3},(e==null?void 0:e.createdAt)&&P0(e.createdAt,"p",{locale:y}))),R.createElement("div",y0({className:"sendbird-openchannel-file-message__right__body"},k?bn({},q):{}),SM(e.url)&&R.createElement(Qt,{className:"sendbird-openchannel-file-message__right__body__icon",type:SM(e.url),fillColor:Xt.PRIMARY,width:"48px",height:"48px"}),R.createElement(r_e,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:N},R.createElement(Pt,{type:Ft.BODY_1,color:Ot.ONBACKGROUND_1},Qve(e.name||e.url,40)))),(O||H)&&R.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},O&&R.createElement(O_,{width:"16px",height:"16px"},R.createElement(Qt,{className:"sendbird-openchannel-file-message__right__tail__pending",type:$t.SPINNER,fillColor:Xt.PRIMARY,width:"16px",height:"16px"})),H&&R.createElement(Qt,{className:"sendbird-openchannel-file-message__right__tail__failed",type:$t.ERROR,fillColor:Xt.ERROR,width:"16px",height:"16px"}))),!k&&R.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:x},(dd({message:e,userId:o,status:v})||!a)&&R.createElement(vl,{menuTrigger:z=>c1({message:e,userId:o,status:v})&&R.createElement(id,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:z},R.createElement(Qt,{type:$t.MORE,width:"24px",height:"24px"})),menuItems:z=>R.createElement(ml,{parentRef:x,parentContainRef:x,closeDropdown:z,openLeft:!0},dd({message:e,userId:o,status:v})&&R.createElement(ua,{onClick:()=>{c||(m(e),z())}},w.CONTEXT_MENU_DROPDOWN__RESEND),!a&&qu({message:e,userId:o,status:v})&&R.createElement(ua,{onClick:()=>{c||(f(!0),z())}},w.CONTEXT_MENU_DROPDOWN__DELETE))})),T&&R.createElement(u1,{message:e,hideMenu:()=>{M(!1)},parentRef:C,showRemove:()=>{M(!1),f(!0)}}))}function Xve(n){let{onCloseModal:t,onDeleteMessage:e}=n;const{stringSet:r}=Oe.exports.useContext(Mo);return R.createElement(wfe,{onCancel:t,onSubmit:e,submitText:r.MESSAGE_MENU__DELETE,titleText:r.MODAL__DELETE_MESSAGE__TITLE})}const $k={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},Zve=n=>$k.IMAGE.indexOf(n)>=0,Jve=n=>$k.VIDEO.indexOf(n)>=0;bn({},$k);const Ys={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},TM={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},ege=n=>{var t,e;return n!=null&&(t=n.isUserMessage)!==null&&t!==void 0&&t.call(n)||(n==null?void 0:n.messageType)==="user"?n!=null&&n.ogMetaData?Ys.OG:Ys.USER:n!=null&&(e=n.isAdminMessage)!==null&&e!==void 0&&e.call(n)?Ys.ADMIN:(n==null?void 0:n.messageType)==="file"?Zve(n.type)||Jve(n.type)?Ys.THUMBNAIL:Ys.FILE:Ys.UNKNOWN};function nge(n){var t;const{message:e,chainTop:r,chainBottom:a,hasSeparator:o,renderMessage:c}=n,{currentOpenChannel:h,deleteMessage:f,updateMessage:m,resendMessage:v}=M_(),{dateLocale:y}=L0(),w=h==null?void 0:h.isFrozen,x=lo(),C=x==null||(t=x.config)===null||t===void 0?void 0:t.userId;let A=null;(e==null?void 0:e.messageType)!=="admin"&&(A=e==null?void 0:e.sender);const L=Oe.exports.useMemo(()=>q=>R.createElement(R.Fragment,null,c?c(q):null),[e,c]),[S,k]=Oe.exports.useState(!1),[N,O]=Oe.exports.useState(!1),[H,D]=Oe.exports.useState(!1),T=Oe.exports.useRef(null);let M=!1;return A&&(e==null?void 0:e.messageType)!=="admin"&&(M=C===A.userId||(e==null?void 0:e.sendingStatus)===TM.PENDING||(e==null?void 0:e.sendingStatus)===TM.FAILED),c&&L?R.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},R.createElement(L,{message:e,chainTop:r,chainBottom:a})):(e==null?void 0:e.messageType)==="user"&&S?R.createElement(t1,{isEdit:!0,disabled:w,ref:T,message:e,name:e==null?void 0:e.messageId,onUpdateMessage:q=>{let{messageId:z,message:te}=q;m(z,te),k(!1)},onCancelEdit:()=>{k(!1)}}):R.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},o&&(e==null?void 0:e.createdAt)&&R.createElement(u_e,null,R.createElement(Pt,{type:Ft.CAPTION_2,color:Ot.ONBACKGROUND_2},P0(e==null?void 0:e.createdAt,"MMMM dd, yyyy",{locale:y}))),{[Ys.ADMIN]:(()=>{if((e==null?void 0:e.messageType)==="admin")return R.createElement(Gve,{message:e})})(),[Ys.FILE]:(()=>{if((e==null?void 0:e.messageType)==="file"){var q;return R.createElement(Yve,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(q=e.sender)===null||q===void 0?void 0:q.userId),isEphemeral:h==null?void 0:h.isEphemeral,disabled:w,userId:C,showRemove:O,resendMessage:v,chainTop:r,chainBottom:a})}})(),[Ys.OG]:(()=>{if((e==null?void 0:e.messageType)==="user"){var q;return R.createElement(jve,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(q=e.sender)===null||q===void 0?void 0:q.userId),isEphemeral:h==null?void 0:h.isEphemeral,userId:C,showEdit:k,disabled:w,showRemove:O,resendMessage:v,chainTop:r,chainBottom:a})}})(),[Ys.THUMBNAIL]:(()=>{if((e==null?void 0:e.messageType)==="file"){var q;return R.createElement(Wve,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(q=e.sender)===null||q===void 0?void 0:q.userId),isEphemeral:h==null?void 0:h.isEphemeral,disabled:w,userId:C,showRemove:O,resendMessage:v,onClick:D,chainTop:r,chainBottom:a})}})(),[Ys.USER]:(()=>{if((e==null?void 0:e.messageType)==="user"){var q;return R.createElement(Vve,{message:e,isOperator:h==null?void 0:h.isOperator(e==null||(q=e.sender)===null||q===void 0?void 0:q.userId),isEphemeral:h==null?void 0:h.isEphemeral,userId:C,disabled:w,showEdit:k,showRemove:O,resendMessage:v,chainTop:r,chainBottom:a})}})(),[Ys.UNKNOWN]:(()=>{})()}[ege(e)],N&&R.createElement(Xve,{onCloseModal:()=>O(!1),onDeleteMessage:()=>{(e==null?void 0:e.messageType)!=="admin"&&f(e)}}),H&&(e==null?void 0:e.messageType)==="file"&&R.createElement(ome,{onClose:()=>D(!1),message:e,onDelete:()=>f(e),isByMe:M}))}function tge(n,t){const{isMessageGroupingEnabled:e=!0,allMessages:r,hasMore:a,onScroll:o}=M_(),h=lo().config.userId,f=t||Oe.exports.useRef(null),[m,v]=Oe.exports.useState(!1),y=()=>{f&&f.current&&(f.current.scrollTo(0,f.current.scrollHeight),v(!1))},w=ame({setShowScrollDownButton:v,hasMore:a,onScroll:o,scrollRef:f}),x=Oe.exports.useMemo(()=>{var C;return r.length>0?r.map((A,L)=>{var S;const k=r[L-1],N=r[L-1],O=k&&k.createdAt,H=A==null?void 0:A.createdAt,D=!(O&&n_e(H,O)),[T,M]=e?gve(k,A,N):[!1,!1],q=(A==null||(S=A.sender)===null||S===void 0?void 0:S.userId)===h,z=(A==null?void 0:A.messageId)||(A==null?void 0:A.reqId);return R.createElement(Z_e,{message:A,isByMe:q,key:z},R.createElement(nge,{message:A,chainTop:T,chainBottom:M,hasSeparator:D,renderMessage:n==null?void 0:n.renderMessage}))}):(n==null||(C=n.renderPlaceHolderEmptyList)===null||C===void 0?void 0:C.call(n))||R.createElement(Cg,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:Ci.NO_MESSAGES})},[r]);return R.createElement("div",{className:"sendbird-openchannel-conversation-scroll"},R.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},R.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),R.createElement("div",{className:["sendbird-openchannel-conversation-scroll__container__item-container",r.length>0?"":"no-messages"].join(" "),onScroll:w,ref:f},x)),m&&R.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:y,onKeyDown:y,tabIndex:0,role:"button"},R.createElement(Qt,{width:"24px",height:"24px",type:$t.CHEVRON_DOWN,fillColor:Xt.CONTENT})))}var rge=R.forwardRef(tge);const Zv="sendbird-openchannel-conversation",ige=n=>{let{renderMessage:t,renderHeader:e,renderInput:r,renderPlaceHolderEmptyList:a,renderPlaceHolderError:o,renderPlaceHolderLoading:c}=n;const{currentOpenChannel:h,amIBanned:f,loading:m,isInvalid:v,messageInputRef:y,conversationScrollRef:w}=M_();return!h||!(h!=null&&h.url)||f?(o==null?void 0:o())||R.createElement("div",{className:Zv},R.createElement(Cg,{type:Ci.NO_CHANNELS})):m?(c==null?void 0:c())||R.createElement("div",{className:Zv},R.createElement(Cg,{type:Ci.LOADING})):v?(o==null?void 0:o())||R.createElement("div",{className:Zv},R.createElement(Cg,{type:Ci.WRONG})):R.createElement("div",{className:Zv},(e==null?void 0:e())||R.createElement($ve,null),(h==null?void 0:h.isFrozen)&&R.createElement(Bve,null),R.createElement(rge,{ref:w,renderMessage:t,renderPlaceHolderEmptyList:a}),(r==null?void 0:r())||R.createElement(Hve,{ref:y}))},age=n=>R.createElement(Pve,{channelUrl:n==null?void 0:n.channelUrl,isMessageGroupingEnabled:n==null?void 0:n.isMessageGroupingEnabled,queries:n==null?void 0:n.queries,messageLimit:n==null?void 0:n.messageLimit,onBeforeSendUserMessage:n==null?void 0:n.onBeforeSendUserMessage,onBeforeSendFileMessage:n==null?void 0:n.onBeforeSendFileMessage,onChatHeaderActionClick:n==null?void 0:n.onChatHeaderActionClick,disableUserProfile:n==null?void 0:n.disableUserProfile,renderUserProfile:n==null?void 0:n.renderUserProfile,onBackClick:n==null?void 0:n.onBackClick},R.createElement(ige,{renderMessage:n==null?void 0:n.renderMessage,renderHeader:n==null?void 0:n.renderHeader,renderInput:n==null?void 0:n.renderInput,renderPlaceHolderEmptyList:n==null?void 0:n.renderPlaceHolderEmptyList,renderPlaceHolderError:n==null?void 0:n.renderPlaceHolderError,renderPlaceHolderLoading:n==null?void 0:n.renderPlaceHolderLoading}));let Jv;const sge=new Uint8Array(16);function oge(){if(!Jv&&(Jv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jv(sge)}var lge=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dge(n){return typeof n=="string"&&lge.test(n)}const ia=[];for(let n=0;n<256;++n)ia.push((n+256).toString(16).slice(1));function NP(n,t=0){return(ia[n[t+0]]+ia[n[t+1]]+ia[n[t+2]]+ia[n[t+3]]+"-"+ia[n[t+4]]+ia[n[t+5]]+"-"+ia[n[t+6]]+ia[n[t+7]]+"-"+ia[n[t+8]]+ia[n[t+9]]+"-"+ia[n[t+10]]+ia[n[t+11]]+ia[n[t+12]]+ia[n[t+13]]+ia[n[t+14]]+ia[n[t+15]]).toLowerCase()}function cge(n){if(!dge(n))throw TypeError("Invalid UUID");let t;const e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function uge(n){n=unescape(encodeURIComponent(n));const t=[];for(let e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}const hge="6ba7b810-9dad-11d1-80b4-00c04fd430c8",pge="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function AP(n,t,e){function r(a,o,c,h){var f;if(typeof a=="string"&&(a=uge(a)),typeof o=="string"&&(o=cge(o)),((f=o)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+a.length);if(m.set(o),m.set(a,o.length),m=e(m),m[6]=m[6]&15|t,m[8]=m[8]&63|128,c){h=h||0;for(let v=0;v<16;++v)c[h+v]=m[v];return c}return NP(m)}try{r.name=n}catch{}return r.DNS=hge,r.URL=pge,r}function fge(n){if(typeof n=="string"){const t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return _ge(mge(vge(n),n.length*8))}function _ge(n){const t=[],e=n.length*32,r="0123456789abcdef";for(let a=0;a<e;a+=8){const o=n[a>>5]>>>a%32&255,c=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);t.push(c)}return t}function OP(n){return(n+64>>>9<<4)+14+1}function mge(n,t){n[t>>5]|=128<<t%32,n[OP(t)-1]=t;let e=1732584193,r=-271733879,a=-1732584194,o=271733878;for(let c=0;c<n.length;c+=16){const h=e,f=r,m=a,v=o;e=Sa(e,r,a,o,n[c],7,-680876936),o=Sa(o,e,r,a,n[c+1],12,-389564586),a=Sa(a,o,e,r,n[c+2],17,606105819),r=Sa(r,a,o,e,n[c+3],22,-1044525330),e=Sa(e,r,a,o,n[c+4],7,-176418897),o=Sa(o,e,r,a,n[c+5],12,1200080426),a=Sa(a,o,e,r,n[c+6],17,-1473231341),r=Sa(r,a,o,e,n[c+7],22,-45705983),e=Sa(e,r,a,o,n[c+8],7,1770035416),o=Sa(o,e,r,a,n[c+9],12,-1958414417),a=Sa(a,o,e,r,n[c+10],17,-42063),r=Sa(r,a,o,e,n[c+11],22,-1990404162),e=Sa(e,r,a,o,n[c+12],7,1804603682),o=Sa(o,e,r,a,n[c+13],12,-40341101),a=Sa(a,o,e,r,n[c+14],17,-1502002290),r=Sa(r,a,o,e,n[c+15],22,1236535329),e=Ta(e,r,a,o,n[c+1],5,-165796510),o=Ta(o,e,r,a,n[c+6],9,-1069501632),a=Ta(a,o,e,r,n[c+11],14,643717713),r=Ta(r,a,o,e,n[c],20,-373897302),e=Ta(e,r,a,o,n[c+5],5,-701558691),o=Ta(o,e,r,a,n[c+10],9,38016083),a=Ta(a,o,e,r,n[c+15],14,-660478335),r=Ta(r,a,o,e,n[c+4],20,-405537848),e=Ta(e,r,a,o,n[c+9],5,568446438),o=Ta(o,e,r,a,n[c+14],9,-1019803690),a=Ta(a,o,e,r,n[c+3],14,-187363961),r=Ta(r,a,o,e,n[c+8],20,1163531501),e=Ta(e,r,a,o,n[c+13],5,-1444681467),o=Ta(o,e,r,a,n[c+2],9,-51403784),a=Ta(a,o,e,r,n[c+7],14,1735328473),r=Ta(r,a,o,e,n[c+12],20,-1926607734),e=Ca(e,r,a,o,n[c+5],4,-378558),o=Ca(o,e,r,a,n[c+8],11,-2022574463),a=Ca(a,o,e,r,n[c+11],16,1839030562),r=Ca(r,a,o,e,n[c+14],23,-35309556),e=Ca(e,r,a,o,n[c+1],4,-1530992060),o=Ca(o,e,r,a,n[c+4],11,1272893353),a=Ca(a,o,e,r,n[c+7],16,-155497632),r=Ca(r,a,o,e,n[c+10],23,-1094730640),e=Ca(e,r,a,o,n[c+13],4,681279174),o=Ca(o,e,r,a,n[c],11,-358537222),a=Ca(a,o,e,r,n[c+3],16,-722521979),r=Ca(r,a,o,e,n[c+6],23,76029189),e=Ca(e,r,a,o,n[c+9],4,-640364487),o=Ca(o,e,r,a,n[c+12],11,-421815835),a=Ca(a,o,e,r,n[c+15],16,530742520),r=Ca(r,a,o,e,n[c+2],23,-995338651),e=Ia(e,r,a,o,n[c],6,-198630844),o=Ia(o,e,r,a,n[c+7],10,1126891415),a=Ia(a,o,e,r,n[c+14],15,-1416354905),r=Ia(r,a,o,e,n[c+5],21,-57434055),e=Ia(e,r,a,o,n[c+12],6,1700485571),o=Ia(o,e,r,a,n[c+3],10,-1894986606),a=Ia(a,o,e,r,n[c+10],15,-1051523),r=Ia(r,a,o,e,n[c+1],21,-2054922799),e=Ia(e,r,a,o,n[c+8],6,1873313359),o=Ia(o,e,r,a,n[c+15],10,-30611744),a=Ia(a,o,e,r,n[c+6],15,-1560198380),r=Ia(r,a,o,e,n[c+13],21,1309151649),e=Ia(e,r,a,o,n[c+4],6,-145523070),o=Ia(o,e,r,a,n[c+11],10,-1120210379),a=Ia(a,o,e,r,n[c+2],15,718787259),r=Ia(r,a,o,e,n[c+9],21,-343485551),e=tc(e,h),r=tc(r,f),a=tc(a,m),o=tc(o,v)}return[e,r,a,o]}function vge(n){if(n.length===0)return[];const t=n.length*8,e=new Uint32Array(OP(t));for(let r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function tc(n,t){const e=(n&65535)+(t&65535);return(n>>16)+(t>>16)+(e>>16)<<16|e&65535}function gge(n,t){return n<<t|n>>>32-t}function h1(n,t,e,r,a,o){return tc(gge(tc(tc(t,n),tc(r,o)),a),e)}function Sa(n,t,e,r,a,o,c){return h1(t&e|~t&r,n,t,a,o,c)}function Ta(n,t,e,r,a,o,c){return h1(t&r|e&~r,n,t,a,o,c)}function Ca(n,t,e,r,a,o,c){return h1(t^e^r,n,t,a,o,c)}function Ia(n,t,e,r,a,o,c){return h1(e^(t|~r),n,t,a,o,c)}AP("v3",48,fge);const bge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var CM={randomUUID:bge};function yge(n,t,e){if(CM.randomUUID&&!t&&!n)return CM.randomUUID();n=n||{};const r=n.random||(n.rng||oge)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(let a=0;a<16;++a)t[e+a]=r[a];return t}return NP(r)}function Ege(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function dw(n,t){return n<<t|n>>>32-t}function wge(n){const t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){const c=unescape(encodeURIComponent(n));n=[];for(let h=0;h<c.length;++h)n.push(c.charCodeAt(h))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);const r=n.length/4+2,a=Math.ceil(r/16),o=new Array(a);for(let c=0;c<a;++c){const h=new Uint32Array(16);for(let f=0;f<16;++f)h[f]=n[c*64+f*4]<<24|n[c*64+f*4+1]<<16|n[c*64+f*4+2]<<8|n[c*64+f*4+3];o[c]=h}o[a-1][14]=(n.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(n.length-1)*8&4294967295;for(let c=0;c<a;++c){const h=new Uint32Array(80);for(let x=0;x<16;++x)h[x]=o[c][x];for(let x=16;x<80;++x)h[x]=dw(h[x-3]^h[x-8]^h[x-14]^h[x-16],1);let f=e[0],m=e[1],v=e[2],y=e[3],w=e[4];for(let x=0;x<80;++x){const C=Math.floor(x/20),A=dw(f,5)+Ege(C,m,v,y)+w+t[C]+h[x]>>>0;w=y,y=v,v=dw(m,30)>>>0,m=f,f=A}e[0]=e[0]+f>>>0,e[1]=e[1]+m>>>0,e[2]=e[2]+v>>>0,e[3]=e[3]+y>>>0,e[4]=e[4]+w>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}AP("v5",80,wge);var xge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.create-event-view {
  position: relative;
  width: 480px;
  padding: 20px;
}
.create-event-view .title {
  font-size: 20px;
  font-weight: 700;
}
.create-event-view .section-title {
  font-size: 12px;
  margin: 20px 0 10px 0;
}
.create-event-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
}
.create-event-view .close:hover {
  cursor: pointer;
}
.create-event-view .title-form {
  width: 100%;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 10px 16px;
  box-sizing: border-box;
}
.create-event-view .cover-image-box {
  display: flex;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image-container {
  display: flex;
  width: 136px;
  height: 80px;
  background: #bbb;
  margin-right: 16px;
  justify-content: center;
  align-items: center;
}
.create-event-view .cover-image-box .cover-image {
  width: 136px;
  height: 80px;
}
.create-event-view .cover-image-box .cover-image-file {
  width: 0;
  height: 0;
}
.create-event-view .cover-image-box .cover-image-upload {
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-light-primary-400);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-upload {
  color: var(--sendbird-dark-primary-300);
}
.create-event-view .cover-image-box .cover-image-upload:hover {
  cursor: pointer;
}
.create-event-view .cover-image-box .cover-image-remove {
  margin-left: 16px;
  text-decoration: underline;
}
.sendbird-theme--light .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-light-error-300);
}
.sendbird-theme--dark .create-event-view .cover-image-box .cover-image-remove {
  color: var(--sendbird-dark-error-300);
}
.create-event-view .cover-image-box .cover-image-remove:hover {
  cursor: pointer;
}
.create-event-view .button-box {
  display: flex;
  justify-content: right;
}
.create-event-view .button-box .minor-button, .create-event-view .button-box .major-button {
  padding: 10px 12px;
  margin: 5px;
  border-radius: 4px;
}
.create-event-view .button-box .minor-button:hover, .create-event-view .button-box .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.create-event-view .button-box .major-button {
  color: #fff;
}
.sendbird-theme--light .create-event-view .button-box .major-button {
  background-color: var(--sendbird-light-primary-400);
  border: 1px var(--sendbird-light-primary-400) solid;
}
.sendbird-theme--dark .create-event-view .button-box .major-button {
  background-color: var(--sendbird-dark-primary-300);
  border: 1px var(--sendbird-dark-primary-300) solid;
}
.create-event-view .button-box .major-button:disabled,
.create-event-view .button-box .major-button[disabled] {
  border: 1px #eee solid;
  background: #eee;
  color: rgba(0, 0, 0, 0.12);
}
.create-event-view .button-box .minor-button {
  color: #333;
  border: 1px #333 solid;
  background-color: #fff;
}

.event-host-form .input {
  display: flex;
  max-height: 154px;
  border: 1px #aaa solid;
  border-radius: 3px;
  padding: 6px 12px;
  box-sizing: border-box;
  align-content: flex-start;
  overflow-y: auto;
}
.event-host-form .input .search-type-panel .search-type {
  margin: 4px 4px 0 0;
  padding: 4px 6px;
  border: 0;
}
.event-host-form .input .form {
  flex: 1;
}
.event-host-form .input .form .host-form {
  min-width: 240px;
  margin: 4px;
  border: 0;
}
.event-host-form .input .form .host-form:focus {
  outline: none;
}
.event-host-form .search-result {
  position: relative;
  top: -45px;
}
.event-host-form .search-result .users, .event-host-form .search-result .status {
  background: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.event-host-form .search-result .status {
  display: flex;
  position: absolute;
  height: 104px;
  top: 0;
  left: 0;
  right: 0;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
}
.event-host-form .search-result .status .no-result {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.5);
}
.event-host-form .search-result .status .error {
  font-size: 14px;
  color: #de360b;
}
.event-host-form .search-result .users {
  position: absolute;
  max-height: 104px;
  top: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.event-host-status {
  display: flex;
  padding: 6px 4px;
  margin-bottom: 10px;
}
.event-host-status .message {
  flex: 1;
  font-size: 12px;
  color: #666;
}
.event-host-status .error {
  color: #de360b;
}
.event-host-status .count {
  font-size: 12px;
  color: #666;
  margin: 0 0 0 8px;
}

.event-host {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  background: #eee;
  border-radius: 16px;
  overflow: hidden;
  margin: 4px;
  vertical-align: middle;
}
.event-host .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  margin-right: -4px;
  background: #fff;
}
.event-host .nickname {
  font-size: 12px;
  padding: 6px 10px;
}
.event-host .remove-button {
  width: 18px;
  height: 18px;
  border-radius: 12px;
}
.event-host .remove-button:hover {
  cursor: pointer;
}

.searched-user {
  display: flex;
  flex-direction: row;
  background: #fff;
  padding: 8px;
}
.searched-user:hover {
  cursor: pointer;
  background: #eee;
}
.searched-user .profile-image {
  width: 32px;
  height: 32px;
  border-radius: 20px;
  margin-right: 12px;
  background-color: #bdbdbd;
}
.searched-user .info {
  flex: 1;
  align-items: center;
}
.searched-user .info .nickname {
  font-size: 14px;
  color: rgba(0, 0, 0, 0.88);
}
.searched-user .info .user-id {
  font-size: 12px;
  color: rgba(0, 0, 0, 0.5);
}`;ma(xge);var IM,NM;function W4(){return W4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},W4.apply(this,arguments)}var F0=function(t){return Dr("svg",{...W4({width:24,height:24,viewBox:"-4 -4 20 20",xmlns:"http://www.w3.org/2000/svg"},t),children:[IM||(IM=Dr("defs",{children:[Re("clipPath",{id:"icons-user_svg__a",children:Re("path",{d:"M1368 0v4600H0V0h1368z"})}),Re("clipPath",{id:"icons-user_svg__b",children:Re("path",{d:"M6.19 5.714c1.28 0 2.325 1.01 2.38 2.278l.001.103v.953a.476.476 0 0 1-.949.055l-.003-.055v-.953a1.43 1.43 0 0 0-1.345-1.426l-.084-.002H2.381c-.76 0-1.383.594-1.426 1.344l-.003.084v.953a.476.476 0 0 1-.949.055L0 9.048v-.953c0-1.28 1.01-2.324 2.278-2.379l.103-.002h3.81zM4.286 0a2.381 2.381 0 1 1 0 4.762 2.381 2.381 0 0 1 0-4.762zm0 .952a1.429 1.429 0 1 0 0 2.858 1.429 1.429 0 0 0 0-2.858z"})})]})),NM||(NM=Re("g",{clipPath:"url(#icons-user_svg__a)",transform:"translate(-531 -1699)",children:Re("g",{clipPath:"url(#icons-user_svg__b)",transform:"translate(532.714 1700.238)",children:Re("path",{fill:"rgba(210, 210, 210, 0.88)",d:"M0 0h8.571v9.524H0V0z"})})}))]})},AM;function Q4(){return Q4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Q4.apply(this,arguments)}var yl=function(t){return Re("svg",{...Q4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:AM||(AM=Re("path",{d:"M52.552 11.448a2.667 2.667 0 0 1 .222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 35.771 15.219 52.552a2.667 2.667 0 0 1-3.993-3.52l.222-.251L28.228 32l-16.78-16.781a2.667 2.667 0 0 1 3.52-3.993l.251.222 16.78 16.78 16.782-16.78a2.667 2.667 0 0 1 3.771 0z",fillRule:"evenodd"}))})};function zk(n){var t=n.key,e=n.userId,r=n.disabled,a=r===void 0?!1:r,o=n.nickname,c=o===void 0?"":o,h=n.profileUrl,f=h===void 0?"":h,m=n.hideProfile,v=m===void 0?!1:m,y=n.onRemove,w=y===void 0?function(){}:y,x=f?R.createElement("img",{src:f,className:"profile-image"}):R.createElement(F0,{fill:"#ccc",className:"profile-image"});return R.createElement("div",{className:"event-host",key:t},v?null:x,R.createElement("div",{className:"nickname"},c),R.createElement("div",{className:"remove-button",onClick:function(){a||w(e)}},R.createElement(yl,{viewBox:"0 -17 100 100",fill:"#888",width:18,height:18})))}var OM;function Y4(){return Y4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Y4.apply(this,arguments)}var kge=function(t){return Re("svg",{...Y4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:OM||(OM=Re("path",{d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3.334a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1h3.334zm-1.667-8a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fillRule:"evenodd"}))})};function RP(n){var t=n.message,e=n.count,r=n.maxLength,a=n.error,o=a===void 0?!1:a;return R.createElement("div",{className:"event-host-status"},R.createElement("div",{className:"message ".concat(o?"error":"")},t),R.createElement("div",{className:"count"},R.createElement("span",{className:"value ".concat(o?"error":"")},e)," / ",r," users"),R.createElement(kge,{width:24,height:24,viewBox:"-32 0 100 100",fill:"#666"}))}var RM;function X4(){return X4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},X4.apply(this,arguments)}var Sge=function(t){return Re("svg",{...X4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:RM||(RM=Re("path",{d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.839 2.839 0 1 0 5.677 0C8.344 18.935 18.935 8.344 32 8.344S55.656 18.935 55.656 32 45.065 55.656 32 55.656a2.839 2.839 0 1 0 0 5.677z",fillRule:"evenodd"}))})};function Tge(n){var t=n.userId,e=n.nickname,r=e===void 0?"":e,a=n.profileUrl,o=a===void 0?"":a,c=n.onClick,h=c===void 0?function(){}:c,f=o?R.createElement("img",{src:o,className:"profile-image"}):R.createElement(F0,{fill:"#fff",className:"profile-image"});return R.createElement("div",{className:"searched-user",onClick:function(){return h()}},f,R.createElement("div",{className:"info"},R.createElement("div",{className:"nickname"},r),R.createElement("div",{className:"user-id"},t)))}function Cge(n){var t=n.initialHostUsers,e=t===void 0?[]:t,r=n.maxHostLength,a=r===void 0?MP:r,o=n.renderCustomEventHostView,c=o===void 0?zk:o,h=n.onUpdateHost,f=h===void 0?function(){}:h,m=Oe.exports.useState([]),v=m[0],y=m[1],w=Oe.exports.useState(0),x=w[0],C=w[1],A=Oe.exports.useState(!1),L=A[0],S=A[1],k=Oe.exports.useState(!1),N=k[0],O=k[1],H=Oe.exports.useState(e),D=H[0],T=H[1],M=Oe.exports.useState("nickname"),q=M[0],z=M[1],te=Oe.exports.useState(""),he=te[0],B=te[1],W=Oe.exports.useState(""),re=W[0],j=W[1],_e=Oe.exports.useState(!1),ie=_e[0],se=_e[1],me=lo();Oe.exports.useEffect(function(){T(e)},[e]),Oe.exports.useEffect(function(){D.length>a?(se(!0),j("The number of users allowed has exceeded.")):(se(!1),j(""))},[D]);var Me=function(de,ue){var V=Lk.getSdk(me);if(V&&ue){var Q=null;switch(de){case"nickname":{Q=V.createApplicationUserListQuery({nicknameStartsWithFilter:ue});break}case"user ID":{Q=V.createApplicationUserListQuery({userIdsFilter:[ue]});break}}if(Q){var $=x+1;C($),S(!0),O(!1),Q.next().then(function(ne){$>=x&&(y(ne),S(!1),O(!1),C($))}).catch(function(ne){$>=x&&(S(!1),O(!0),C($))})}}};return R.createElement("div",{className:"event-host-form"},R.createElement("div",{className:"input"},R.createElement("div",{className:"search-type-panel"},R.createElement("select",{className:"search-type",value:q,onChange:function(de){var ue=de.target.value;switch(z(ue),ue){case"user ID":j("Only an exact match can be found.");break;default:j("")}se(!1),Me(ue,he)}},R.createElement("option",{value:"nickname"},"Nickname"),R.createElement("option",{value:"user ID"},"User ID"))),R.createElement("div",{className:"form"},D.map(function(de){return c({key:de.userId,userId:de.userId,disabled:e.map(function(ue){return ue.userId}).includes(de.userId),nickname:de.nickname,profileUrl:de.profileUrl,onRemove:function(ue){var V=D.filter(function(Q){return Q.userId!==ue});T(V),f(V.map(function(Q){return Q.userId}))}})}),R.createElement("input",{type:"text",placeholder:"Enter ".concat(q),className:"host-form",value:he,onChange:function(de){var ue=de.target.value;B(ue),Me(q,ue)}}))),R.createElement(RP,{message:re,error:ie,count:D.length,maxLength:a}),he?R.createElement("div",{className:"search-result"},v.length>0?R.createElement("div",{className:"users"},v.map(function(de){return R.createElement(Tge,{key:de.userId,userId:de.userId,nickname:de.nickname,profileUrl:de.profileUrl,onClick:function(){if(!D.map(function(V){return V.userId}).includes(de.userId)){var ue=ls(ls([],D,!0),[de],!1);T(ue),f(ue.map(function(V){return V.userId}))}B(""),y([]),O(!1),S(!1)}})})):R.createElement("div",{className:"status"},L?R.createElement(Sge,{width:24,height:24,viewBox:"-18 -18 100 100",fill:"#333",className:"spin"}):null,!L&&!N&&v.length===0?R.createElement("div",{className:"no-result"},"No matches found with ",he):null,N?R.createElement("div",{className:"error"},"Search request failed."):null)):null)}function Ige(n){var t=n.initialHostUsers,e=t===void 0?[]:t,r=n.maxHostLength,a=r===void 0?MP:r,o=n.renderCustomEventHostView,c=o===void 0?zk:o,h=n.onUpdateHost,f=h===void 0?function(){}:h,m=Oe.exports.useState([]),v=m[0],y=m[1],w=Oe.exports.useState(""),x=w[0],C=w[1],A=Oe.exports.useState(""),L=A[0],S=A[1],k=Oe.exports.useState(!1),N=k[0],O=k[1];return Oe.exports.useEffect(function(){y(e.map(function(H){return H.userId}))},[e]),Oe.exports.useEffect(function(){v.length>a?(O(!0),S("The number of users allowed has exceeded.")):(O(!1),S("If the ACL attributes are turned on, you can access user list information from the SDK."))},[v]),R.createElement("div",{className:"event-host-form"},R.createElement("div",{className:"input"},R.createElement("div",{className:"form"},v.map(function(H){return c({key:H,userId:H,disabled:e.map(function(D){return D.userId}).includes(H),nickname:H,hideProfile:!0,onRemove:function(D){var T=v.filter(function(M){return M!==D});y(T),f(T)}})}),R.createElement("input",{type:"text",placeholder:"Separate each user ID with a comma.",className:"host-form",value:x,onChange:function(H){var D,T=H.target.value,M=T.split(",");C((D=M.pop())!==null&&D!==void 0?D:"");var q=M.filter(function(te,he){return te.length>0&&!v.includes(te)&&M.indexOf(te)===he});if(q.length>0){var z=ls(ls([],v,!0),q,!0);y(z),f(z)}}}))),R.createElement(RP,{message:L,error:N,count:v.length,maxLength:a}))}var MM,DM;function Z4(){return Z4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Z4.apply(this,arguments)}var Nge=function(t){return Dr("svg",{...Z4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:[MM||(MM=Dr("defs",{children:[Re("clipPath",{id:"icons-live_svg__a",children:Re("path",{d:"M1368 0v1600H0V0h1368z"})}),Re("clipPath",{id:"icons-live_svg__b",children:Re("path",{d:"M26.667 21.333A5.333 5.333 0 0 1 30 30.83v22.297a26.923 26.923 0 0 1-3.323.206h-.02a26.81 26.81 0 0 1-3.324-.206V30.83a5.333 5.333 0 0 1 3.333-9.497zm0-21.333c14.727 0 26.666 11.94 26.666 26.667 0 12.184-8.171 22.46-19.333 25.645V45.28c7.418-2.924 12.667-10.155 12.667-18.612 0-11.046-8.955-20-20-20-11.046 0-20 8.954-20 20 0 8.457 5.249 15.688 12.666 18.612v7.033C8.172 49.127 0 38.851 0 26.667 0 11.939 11.94 0 26.667 0zm0 10.667c8.836 0 16 7.163 16 16 0 6.193-3.52 11.565-8.667 14.224v-8.45a9.294 9.294 0 0 0 2-5.774 9.333 9.333 0 1 0-18.667 0c0 2.18.748 4.185 2 5.774v8.45c-5.147-2.66-8.666-8.03-8.666-14.224 0-8.837 7.163-16 16-16z"})})]})),DM||(DM=Re("g",{clipPath:"url(#icons-live_svg__a)",transform:"translate(-1216 -336)",children:Re("g",{clipPath:"url(#icons-live_svg__b)",transform:"translate(1221.333 341.333)",children:Re("path",{fill:"rgba(255, 255, 255, 1)",d:"M0 0h53.333v53.333H0V0z"})})}))]})},MP=10;function Age(n){var t=this,e,r,a=n.showUserIdsForHostSelectionView,o=a===void 0?!0:a,c=n.disableAcl,h=c===void 0?!1:c,f=n.renderCustomEventHostView,m=f===void 0?zk:f,v=n.onClose,y=v===void 0?function(){}:v,w=Oe.exports.useState(""),x=w[0],C=w[1],A=Oe.exports.useState(""),L=A[0],S=A[1],k=Oe.exports.useRef(null),N=Oe.exports.useRef(null),O=Oe.exports.useContext(gl).stringSet,H=lo(),D=Lk.getSdk(H),T=Oe.exports.useState([]),M=T[0],q=T[1];Oe.exports.useEffect(function(){o&&D!=null&&D.currentUser&&q([D.currentUser])},[D==null?void 0:D.currentUser]);var z=Oe.exports.useState(M.map(function(B){return B.userId})),te=z[0],he=z[1];return R.createElement("div",{className:"create-event-view"},R.createElement("div",{className:"close",onClick:function(){return y()}},R.createElement(yl,{width:22,height:22,viewBox:"0 0 60 60"})),R.createElement("div",{className:"title"},O.LIVE_EVENT_CREATE_HEADER_TITLE),R.createElement("div",{className:"section-title"},O.LIVE_EVENT_CREATE_EVENT_TITLE),R.createElement("div",null,R.createElement("input",{type:"text",placeholder:O.LIVE_EVENT_CREATE_EVENT_TITLE_PLACEHOLDER,className:"title-form",value:x,onChange:function(B){C(B.target.value)}})),R.createElement("div",{className:"section-title"},O.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_TITLE),R.createElement("div",{className:"cover-image-box"},R.createElement("div",{className:"cover-image-container",ref:k},L?R.createElement("img",{src:L,alt:"Cover image",className:"cover-image"}):R.createElement(Nge,{viewBox:"0 0 64 64",width:32,height:32,fill:"#fff"})),R.createElement("input",{type:"file",className:"cover-image-file",ref:N,accept:"image/*",onChange:function(){var B,W=N.current,re=(B=W==null?void 0:W.files)!==null&&B!==void 0?B:[];if(re.length===1){var j=new FileReader;j.onload=function(){k.current&&S(j.result)},j.readAsDataURL(re[0])}}}),R.createElement("div",{className:"cover-image-upload",onClick:function(){N.current.click()}},O.LIVE_EVENT_CREATE_EVENT_COVER_IMAGE_BUTTON),R.createElement("div",{className:"cover-image-remove",onClick:function(){N.current&&(N.current.value=""),S("")}},!((r=(e=N.current)===null||e===void 0?void 0:e.files)===null||r===void 0)&&r.length?O.REMOVE_IMAGE:"")),R.createElement("div",{className:"section-title"},O.LIST_USERS_FOR_HOST_HEADER_TITLE),h?R.createElement(Ige,{initialHostUsers:M,renderCustomEventHostView:m,onUpdateHost:function(B){return he(B)}}):R.createElement(Cge,{initialHostUsers:M,renderCustomEventHostView:m,onUpdateHost:function(B){return he(B)}}),R.createElement("div",{className:"button-box"},R.createElement("input",{type:"button",className:"minor-button",value:"Cancel",onClick:function(){return y()}}),R.createElement("input",{type:"button",className:"major-button",value:O.LIVE_EVENT_CREATE_HEADER_BUTTON,onClick:function(){return fa(t,void 0,void 0,function(){var B,W,re,j,_e,ie;return _a(this,function(se){switch(se.label){case 0:return B=(ie=(_e=N==null?void 0:N.current)===null||_e===void 0?void 0:_e.files)===null||ie===void 0?void 0:ie[0],W=null,B&&(re=B.slice(0,B.size,B.type),W=new File([re],"".concat(yge(),".").concat(B.type.split("/").pop()),{type:B.type})),[4,qr.exports.SendbirdLive.createLiveEvent({userIdsForHost:ls([],te,!0),title:x,coverFile:W!=null?W:void 0})];case 1:return j=se.sent(),[4,j.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return se.sent(),y(j),[2]}})})}})))}var Oge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background {
  background: var(--sendbird-dark-background-500) !important;
}

.host-view {
  display: flex;
  flex-grow: 1;
}
.host-view .host-view__main {
  width: 100%;
  height: 100%;
  background-color: var(--sendbird-dark-background-700);
}
.host-view .host-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.host-view .host-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.host-view .host-view__main .video-wrapper .host-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.host-view .host-view__main .host-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-dark-background-600);
}
.host-view .host-view__main .host-view__info .host-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.host-view .host-view__main .host-view__info .host-view__profile .host-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready, .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .host-view .host-view__main .host-view__info .host-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper {
  display: flex;
  align-items: center;
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__title__wrapper .host-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.5);
}
.host-view .host-view__main .host-view__info .host-view__info__wrapper .host-view__host-name {
  margin-top: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(255, 255, 255, 0.88);
}`;ma(Oge);var LM;function J4(){return J4=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},J4.apply(this,arguments)}var Rge=function(t){return Re("svg",{...J4({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:LM||(LM=Re("path",{d:"M32 2.667A5.333 5.333 0 0 1 37.333 8v.24A4.4 4.4 0 0 0 40 12.267a4.4 4.4 0 0 0 4.853-.88l.16-.16a5.333 5.333 0 0 1 7.547 0 5.333 5.333 0 0 1 0 7.546l-.16.16a4.4 4.4 0 0 0-.88 4.854V24a4.4 4.4 0 0 0 4.027 2.667H56a5.333 5.333 0 1 1 0 10.666h-.24A4.4 4.4 0 0 0 51.733 40a4.4 4.4 0 0 0 .88 4.853l.16.16a5.333 5.333 0 0 1 0 7.547 5.333 5.333 0 0 1-7.546 0l-.16-.16a4.4 4.4 0 0 0-4.854-.88 4.4 4.4 0 0 0-2.666 4.027V56a5.333 5.333 0 0 1-10.667 0v-.24A4.4 4.4 0 0 0 24 51.733a4.4 4.4 0 0 0-4.853.88l-.16.16a5.333 5.333 0 0 1-7.547 0 5.333 5.333 0 0 1 0-7.546l.16-.16a4.4 4.4 0 0 0 .88-4.854 4.4 4.4 0 0 0-4.027-2.666H8A5.333 5.333 0 0 1 8 26.88h.24A4.4 4.4 0 0 0 12.267 24a4.4 4.4 0 0 0-.88-4.853l-.16-.16a5.333 5.333 0 0 1 0-7.547 5.333 5.333 0 0 1 7.546 0l.16.16a4.4 4.4 0 0 0 4.854.88H24a4.4 4.4 0 0 0 2.667-4.027V8A5.333 5.333 0 0 1 32 2.667zM32 24a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"}))})},UM,PM;function e6(){return e6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},e6.apply(this,arguments)}var Mge=function(t){return Dr("svg",{...e6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:[UM||(UM=Dr("defs",{children:[Re("clipPath",{id:"icons-camera-filled_svg__a",children:Re("path",{d:"M1368 0v1600H0V0h1368z"})}),Re("clipPath",{id:"icons-camera-filled_svg__b",children:Re("path",{d:"M37.333 0a5.333 5.333 0 0 1 5.334 5.333v8L56.594 4.05a1.333 1.333 0 0 1 2.073 1.109v32.35a1.333 1.333 0 0 1-2.073 1.11l-13.927-9.285v8a5.333 5.333 0 0 1-5.334 5.334h-32A5.333 5.333 0 0 1 0 37.333v-32A5.333 5.333 0 0 1 5.333 0h32z"})})]})),PM||(PM=Re("g",{clipPath:"url(#icons-camera-filled_svg__a)",transform:"translate(-208 -336)",children:Re("g",{clipPath:"url(#icons-camera-filled_svg__b)",transform:"translate(210.667 346.667)",children:Re("path",{d:"M0 0h58.667v42.667H0V0z"})})}))]})},FM,HM;function n6(){return n6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},n6.apply(this,arguments)}var Dge=function(t){return Dr("svg",{...n6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:[FM||(FM=Dr("defs",{children:[Re("clipPath",{id:"icons-camera-off-filled_svg__a",children:Re("path",{d:"M1368 0v1600H0V0h1368z"})}),Re("clipPath",{id:"icons-camera-off-filled_svg__b",children:Re("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.007-11.008a5.335 5.335 0 0 1-5.238 4.325h-32A5.333 5.333 0 0 1 0 45.333v-32c0-2.6 1.862-4.767 4.325-5.238L.781 4.552A2.667 2.667 0 0 1 4.301.56zM37.333 8a5.333 5.333 0 0 1 5.334 5.333v8l13.927-9.284a1.333 1.333 0 0 1 2.073 1.109v32.35c0 .195-.042.379-.116.545L20.497 8h16.836z"})})]})),HM||(HM=Re("g",{clipPath:"url(#icons-camera-off-filled_svg__a)",transform:"translate(-352 -336)",children:Re("g",{clipPath:"url(#icons-camera-off-filled_svg__b)",transform:"translate(354.667 338.667)",children:Re("path",{d:"M0 0h58.667v58.13H0V0z"})})}))]})},BM,$M;function t6(){return t6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},t6.apply(this,arguments)}var Lge=function(t){return Dr("svg",{...t6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:[BM||(BM=Dr("defs",{children:[Re("clipPath",{id:"icons-mic-filled_svg__a",children:Re("path",{d:"M1368 0v1600H0V0h1368z"})}),Re("clipPath",{id:"icons-mic-filled_svg__b",children:Re("path",{d:"M34.667 24a2.667 2.667 0 0 1 2.648 2.356l.018.31V32c0 9.408-6.96 17.19-16.01 18.48l.01.187v2.666h5.334a2.667 2.667 0 0 1 .31 5.316l-.31.018h-16a2.667 2.667 0 0 1-.311-5.316l.31-.018H16v-2.666c0-.064.002-.127.007-.19C7.164 49.218.319 41.759.01 32.643L0 32v-5.333a2.667 2.667 0 0 1 5.315-.311l.018.31V32c0 7.364 5.97 13.333 13.334 13.333 7.17 0 13.018-5.66 13.32-12.755L32 32v-5.333A2.667 2.667 0 0 1 34.667 24zm-16-24a8 8 0 0 1 8 8v24a8 8 0 1 1-16 0V8a8 8 0 0 1 8-8z"})})]})),$M||($M=Re("g",{clipPath:"url(#icons-mic-filled_svg__a)",transform:"translate(-496 -336)",children:Re("g",{clipPath:"url(#icons-mic-filled_svg__b)",transform:"translate(509.79 339.124)",children:Re("path",{d:"M0 0h37.333v58.667H0V0z"})})}))]})},zM,VM;function r6(){return r6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},r6.apply(this,arguments)}var Uge=function(t){return Dr("svg",{...r6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:[zM||(zM=Dr("defs",{children:[Re("clipPath",{id:"icons-mic-off-filled_svg__a",children:Re("path",{d:"M1368 0v1600H0V0h1368z"})}),Re("clipPath",{id:"icons-mic-off-filled_svg__b",children:Re("path",{d:"m4.301.56.251.221L57.35 53.578a2.667 2.667 0 0 1-3.52 3.993l-.252-.221-11.152-11.152a18.602 18.602 0 0 1-9.98 4.739l.012.187v2.667h5.333a2.667 2.667 0 0 1 .31 5.315l-.31.018h-16a2.667 2.667 0 0 1-.311-5.315l.31-.018h5.334v-2.667c0-.063.002-.126.007-.189-8.843-1.26-15.688-8.72-15.996-17.836l-.01-.641v-5.334a2.667 2.667 0 0 1 5.315-.31l.018.31v5.334c0 7.363 5.97 13.333 13.333 13.333 3.4 0 6.504-1.273 8.86-3.37l-3.783-3.781a8 8 0 0 1-13.078-6.182V25.56L.781 4.552A2.667 2.667 0 0 1 4.301.56zm41.49 23.898a2.667 2.667 0 0 1 2.649 2.355l.018.311v5.334c0 1.099-.095 2.176-.278 3.223l-5.056-5.055v-3.502a2.667 2.667 0 0 1 2.667-2.666zm-16-24a8 8 0 0 1 8 8v16.834l-16-16v-.834a8 8 0 0 1 8-8z"})})]})),VM||(VM=Re("g",{clipPath:"url(#icons-mic-off-filled_svg__a)",transform:"translate(-640 -336)",children:Re("g",{clipPath:"url(#icons-mic-off-filled_svg__b)",transform:"translate(642.667 338.667)",children:Re("path",{d:"M0 0h58.13v59.124H0V0z"})})}))]})},GM,qM;function i6(){return i6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},i6.apply(this,arguments)}var Pge=function(t){return Dr("svg",{...i6({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),children:[GM||(GM=Re("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.917 4.583a2.75 2.75 0 0 1 2.75-2.75h14.666a2.75 2.75 0 0 1 2.75 2.75v9.167a2.75 2.75 0 0 1-2.75 2.75H3.667a2.75 2.75 0 0 1-2.75-2.75V4.584Zm10.632.901a.916.916 0 0 0-.54-.175l-.059.002a.917.917 0 0 0-.276.06.87.87 0 0 0-.321.203L7.603 8.33a.92.92 0 1 0 1.301 1.3l1.182-1.184-.003 3.96a.92.92 0 0 0 .92.922l.059-.002a.92.92 0 0 0 .862-.917l.003-3.957 1.176 1.178a.918.918 0 1 0 1.302-1.3l-2.74-2.745a1.048 1.048 0 0 0-.074-.067l-.023-.018-.02-.015Z",fill:"#fff",fillOpacity:.88})),qM||(qM=Re("path",{d:"M.917 18.334a.917.917 0 0 0 0 1.833h20.166a.917.917 0 1 0 0-1.834H.917Z",fill:"#fff",fillOpacity:.88}))]})},jM;function a6(){return a6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},a6.apply(this,arguments)}var Fge=function(t){return Re("svg",{...a6({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),children:jM||(jM=Re("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.917 3.667a3 3 0 0 0-3 3v8.666a3 3 0 0 0 3 3h14.166a3 3 0 0 0 3-3V6.667a3 3 0 0 0-3-3H3.917Zm9 7.333a1 1 0 0 0-1 1v3.5a1 1 0 0 0 1 1h5.333a1 1 0 0 0 1-1V12a1 1 0 0 0-1-1h-5.334Z",fill:"#fff",fillOpacity:.88}))})},Hge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.dark-background__screen-share {
  background: var(--sendbird-dark-background-500) !important;
}

.control-bar {
  display: flex;
  align-items: center;
  background-color: var(--sendbird-dark-background-600);
}
.control-bar .control-bar__left-buttons {
  display: flex;
  margin-left: 16px;
}
.control-bar .control-bar__left-buttons .control-bar__settings {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__video {
  width: 22px;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper {
  display: flex;
  margin: 12px 27px 0 0;
}
.control-bar .control-bar__left-buttons .control-bar__audio__wrapper .control-bar__audio {
  margin-right: 27px;
  width: 22px;
  height: 22px;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share {
  display: flex;
  height: 22px;
  margin: 12px 27px 0 0;
  cursor: pointer;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share svg {
  margin-right: 27px;
}
.control-bar .control-bar__left-buttons .control-bar__screen-share .control-bar__screen-share__stop {
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  align-items: center;
  padding: 6px 16px;
  width: 160px;
  height: 32px;
  border: 1px solid rgba(255, 255, 255, 0.38);
  border-radius: 4px;
  font-weight: 500;
  font-size: 14px;
  line-height: 20px;
  color: #FFFFFF;
}
.control-bar .control-bar__right-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 16px;
}
.control-bar .control-bar__right-buttons .participant-icon, .control-bar .control-bar__right-buttons .participant-icon--red {
  width: 8px;
  height: 8px;
  margin: 0 4px;
  border-radius: 50%;
}
.control-bar .control-bar__right-buttons .participant-icon--red {
  background-color: var(--sendbird-dark-error-300);
}
.control-bar .control-bar__right-buttons .control-bar__duration {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}
.control-bar .control-bar__right-buttons .control-bar__start-live, .control-bar .control-bar__right-buttons .control-bar__end-live {
  padding: 6px 16px;
  font-size: 14px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.88);
  cursor: pointer;
}
.control-bar .control-bar__right-buttons .control-bar__end-live {
  background-color: var(--sendbird-dark-primary-200);
}
.control-bar .control-bar__right-buttons .control-bar__start-live {
  background-color: var(--sendbird-dark-error-200);
}`;ma(Hge);var KM,WM;function s6(){return s6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s6.apply(this,arguments)}var Bge=function(t){return Dr("svg",{...s6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),children:[KM||(KM=Re("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),WM||(WM=Re("rect",{x:20,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88}))]})},QM,YM;function o6(){return o6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},o6.apply(this,arguments)}var $ge=function(t){return Dr("svg",{...o6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),children:[QM||(QM=Re("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),YM||(YM=Re("rect",{x:4,y:18,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88}))]})},XM,ZM;function l6(){return l6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},l6.apply(this,arguments)}var zge=function(t){return Dr("svg",{...l6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),children:[XM||(XM=Re("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),ZM||(ZM=Re("rect",{x:20,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88}))]})},JM,e7;function d6(){return d6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},d6.apply(this,arguments)}var Vge=function(t){return Dr("svg",{...d6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),children:[JM||(JM=Re("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88})),e7||(e7=Re("rect",{x:4,y:8,width:8,height:6,rx:1,fill:"#fff",fillOpacity:.88}))]})},n7;function c6(){return c6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},c6.apply(this,arguments)}var Gge=function(t){return Re("svg",{...c6({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),children:n7||(n7=Re("rect",{x:2.5,y:6.5,width:27,height:19,rx:1.5,stroke:"#fff",strokeOpacity:.88}))})},qge=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.screen-share {
  width: 480px;
  padding: 18px 24px;
  background-color: var(--sendbird-dark-background-500);
  color: #fff;
}
.screen-share .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 20px;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
  margin-bottom: 8px;
  font-style: normal;
  font-weight: 400;
}
.screen-share .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.screen-share .screen-share__label {
  font-size: 12px;
  line-height: 1;
}
.screen-share .screen-share__preview__container {
  overflow: auto;
  max-width: 100%;
  box-sizing: border-box;
  margin-bottom: 24px;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen {
  position: relative;
  background: var(--sendbird-dark-background-600);
  width: 100%;
  aspect-ratio: 16/9;
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  line-height: 300px;
  color: rgba(255, 255, 255, 0.5);
  text-align: center;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen p {
  line-height: normal;
  display: inline-block;
  vertical-align: middle;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left, .screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 20%;
  aspect-ratio: 16/9;
  background-color: var(--sendbird-dark-background-700);
  line-height: 1;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_right {
  top: 75%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--bottom_left {
  top: 75%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_right {
  top: 5%;
  left: 75%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--top_left {
  top: 5%;
  left: 5%;
}
.screen-share .screen-share__preview__container .screen-share__preview__screen .screen-share__preview__camera--hidden {
  display: none;
}
.screen-share .screen-share__layout-container {
  display: flex;
}
.screen-share .screen-share__layout-container svg {
  margin-right: 8px;
  padding: 3px;
  background: var(--sendbird-dark-background-500);
  border: 1px solid #161616;
  border-radius: 4px;
}
.screen-share .screen-share__layout-container svg:hover {
  cursor: pointer;
  background: var(--sendbird-dark-background-700);
}
.screen-share .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 30px;
}
.screen-share .buttons .major-button, .screen-share .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.screen-share .buttons .major-button:hover, .screen-share .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.screen-share .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.screen-share .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .screen-share .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .screen-share .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;ma(qge);function jge(n){var t=this,e=n.liveEvent,r=n.onClose,a={TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",HIDDEN:"hidden"},o=Oe.exports.useState(a.BOTTOM_RIGHT),c=o[0],h=o[1];return R.createElement("div",{className:"screen-share"},R.createElement("div",{className:"close",onClick:function(){return r()}},R.createElement(yl,{width:22,height:22,viewBox:"0 0 60 60"})),R.createElement("div",{className:"title"},"Share screen"),R.createElement("div",{className:"screen-share__label"},"Preview"),R.createElement("div",{className:"screen-share__preview__container"},R.createElement("div",{className:"screen-share__preview__screen"},R.createElement("div",{className:"screen-share__preview__camera--".concat(c)},"Camera"),R.createElement("p",null,"The screen you chose to share will be shown here."))),R.createElement("div",{className:"screen-share__label"},"Layout"),R.createElement("div",{className:"screen-share__layout-container"},R.createElement(Bge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.BOTTOM_RIGHT)}}),R.createElement($ge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.BOTTOM_LEFT)}}),R.createElement(zge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.TOP_RIGHT)}}),R.createElement(Vge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.TOP_LEFT)}}),R.createElement(Gge,{width:32,height:32,fill:"#000",onClick:function(){return h(a.HIDDEN)}})),R.createElement("div",{className:"buttons"},R.createElement("div",{className:"minor-button",onClick:function(){return r()}},"Cancel"),R.createElement("div",{className:"major-button",onClick:function(){return fa(t,void 0,void 0,function(){return _a(this,function(f){switch(f.label){case 0:return[4,e.setScreenShareOptions({cameraOverlayPosition:c})];case 1:return f.sent(),r(),[2]}})})}},"Save")))}function Kge(n){var t=n.liveEvent,e=Oe.exports.useState(0),r=e[0],a=e[1];Oe.exports.useEffect(function(){var h=setInterval(function(){a(t.duration)},1e3);return function(){return clearInterval(h)}},[]);function o(h){return h.toString().padStart(2,"0")}function c(h){var f=Math.floor(h/1e3),m=Math.floor(f/60),v=Math.floor(m/60);return f=f%60,m=m%60,"".concat(o(v),":").concat(o(m),":").concat(o(f))}return R.createElement("div",{className:"control-bar__duration"},c(r))}function Wge(n){var t=this,e=n.liveEvent,r=n.onStart,a=n.onEnd,o=n.onSettings,c=Oe.exports.useState(e.state===qr.exports.LiveEventState.ONGOING),h=c[0],f=c[1],m=Oe.exports.useState(!0),v=m[0],y=m[1],w=Oe.exports.useState(!0),x=w[0],C=w[1],A=Oe.exports.useState(!1),L=A[0],S=A[1];hc("");var k=hc("","dark-background__screen-share"),N=k[0],O=k[1],H=k[2],D=Oe.exports.useContext(gl).stringSet,T=function(){return fa(t,void 0,void 0,function(){return _a(this,function(he){switch(he.label){case 0:return[4,e.startEvent({turnAudioOn:!0,turnVideoOn:!0})];case 1:return he.sent(),f(!0),r(e),[2]}})})},M=function(he){he?e.startVideo():e.stopVideo(),C(he)},q=function(he){he?e.unmuteAudioInput():e.muteAudioInput(),y(he)},z=function(){return fa(t,void 0,void 0,function(){return _a(this,function(he){switch(he.label){case 0:return[4,e.startScreenShare()];case 1:return he.sent(),S(!0),[2]}})})},te=function(){e.stopScreenShare(),S(!1)};return R.createElement("div",{className:"control-bar"},R.createElement("div",{className:"control-bar__left-buttons"},R.createElement("div",{className:"control-bar__settings"},R.createElement(Rge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return o(e)}})),R.createElement("div",{className:"control-bar__video"},x?R.createElement(Mge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return M(!1)}}):R.createElement(Dge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return M(!0)}})),R.createElement("div",{className:"control-bar__audio__wrapper"},R.createElement("div",{className:"control-bar__audio"},v?R.createElement(Lge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return q(!1)}}):R.createElement(Uge,{viewBox:"0 0 64 64",width:22,height:22,fill:"#ccc",onClick:function(){return q(!0)}})),R.createElement("div",{className:"control-bar__volume"})),R.createElement("div",{className:"control-bar__screen-share"},R.createElement(Pge,{width:22,height:22,fill:"#ccc",onClick:function(){return z()}}),R.createElement(Fge,{width:22,height:22,fill:"#ccc",onClick:function(){return O()}}),L&&R.createElement("div",{className:"control-bar__screen-share__stop",onClick:function(){return te()}},"Stop ScreenShare"))),R.createElement("div",{className:"control-bar__right-buttons"},h&&R.createElement("div",{className:"participant-icon--red"}),h&&R.createElement(Kge,{liveEvent:e}),h?R.createElement("div",{className:"control-bar__end-live",onClick:function(){a(e)}},D.LIVE_EVENT_END_DIALOG_OPTION_END):R.createElement("div",{className:"control-bar__start-live",onClick:T},D.START_LIVE_EVENT_HEADER_BUTTON)),R.createElement(N,null,R.createElement(jge,{liveEvent:e,onClose:function(){H()}})))}var Qge=`.confirm-end-dialog {
  width: 480px;
  padding: 18px 24px;
  background: #333;
  color: #fff;
}
.confirm-end-dialog .header {
  display: flex;
  align-items: center;
}
.confirm-end-dialog .header .title {
  flex: 1;
  font-size: 18px;
}
.confirm-end-dialog .header .close:hover {
  cursor: pointer;
}
.confirm-end-dialog .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.confirm-end-dialog .buttons .major-button, .confirm-end-dialog .buttons .minor-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.confirm-end-dialog .buttons .major-button:hover, .confirm-end-dialog .buttons .minor-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.confirm-end-dialog .buttons .minor-button {
  border: solid 1px rgba(255, 255, 255, 0.38);
}
.confirm-end-dialog .buttons .major-button {
  background-color: #f66161;
}`;ma(Qge);function Yge(n){var t=n.onExit,e=t===void 0?function(){}:t,r=n.onClose,a=r===void 0?function(){}:r,o=Oe.exports.useContext(gl).stringSet;return R.createElement("div",{className:"confirm-end-dialog"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},o.LIVE_EVENT_END_DIALOG_DESCRIPTION),R.createElement("div",{className:"close",onClick:function(){return a()}},R.createElement(yl,{width:22,height:22,viewBox:"0 0 60 60",fill:"#fff"}))),R.createElement("div",{className:"buttons"},R.createElement("div",{className:"minor-button",onClick:function(){return a()}},"Cancel"),R.createElement("div",{className:"minor-button",onClick:function(){return e(!1)}},o.LIVE_EVENT_END_DIALOG_OPTION_EXIT),R.createElement("div",{className:"major-button",onClick:function(){return e(!0)}},o.LIVE_EVENT_END_DIALOG_OPTION_END)))}var t7;function u6(){return u6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},u6.apply(this,arguments)}var r7=function(t){return Re("svg",{...u6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:t7||(t7=Re("path",{d:"M22.114 46.114a2.667 2.667 0 0 0 3.772 3.772l16-16a2.667 2.667 0 0 0 0-3.772l-16-16a2.667 2.667 0 0 0-3.772 3.772L36.23 32 22.114 46.114z",fillRule:"evenodd"}))})},i7;function h6(){return h6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},h6.apply(this,arguments)}var Xge=function(t){return Re("svg",{...h6({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},t),children:i7||(i7=Dr("g",{fillRule:"evenodd",children:[Re("rect",{x:4,y:4,width:80,height:40,rx:20}),Re("circle",{fill:"#FFF",cx:64,cy:24,r:12}),Re("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),Re("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"})]}))})},a7;function p6(){return p6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},p6.apply(this,arguments)}var Zge=function(t){return Re("svg",{...p6({width:88,height:48,xmlns:"http://www.w3.org/2000/svg"},t),children:a7||(a7=Dr("g",{fillRule:"evenodd",children:[Re("rect",{x:4,y:4,width:80,height:40,rx:20}),Re("circle",{fill:"#FFF",cx:24,cy:24,r:12}),Re("path",{d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z",fill:"#FFF"}),Re("path",{d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"})]}))})},s7;function f6(){return f6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},f6.apply(this,arguments)}var DP=function(t){return Re("svg",{...f6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:s7||(s7=Re("path",{d:"M29.83 6.45a2.667 2.667 0 0 1 4.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.667 2.667 0 0 1 50.667 56H13.333a2.667 2.667 0 0 1-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 0 1-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 0 1-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 1 1 0 10.667A5.333 5.333 0 0 1 32 32z",fillRule:"evenodd"}))})},o7;function _6(){return _6=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},_6.apply(this,arguments)}var LP=function(t){return Re("svg",{..._6({width:64,height:64,xmlns:"http://www.w3.org/2000/svg"},t),children:o7||(o7=Re("path",{d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 0 1-5.315.311L42.667 56v-5.333a8 8 0 0 0-7.53-7.987l-.47-.013H13.333a8 8 0 0 0-7.986 7.53l-.014.47V56a2.667 2.667 0 0 1-5.315.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.334 13.334 0 0 1 9.986 12.297l.014.605V56a2.667 2.667 0 0 1-5.315.311L58.667 56v-5.331a8 8 0 0 0-6-7.74A2.667 2.667 0 0 1 54 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 0 1 0 25.834 2.667 2.667 0 0 1-1.323-5.167 8 8 0 0 0 0-15.5 2.667 2.667 0 1 1 1.323-5.167zM24 10.667a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd"}))})},l7,Jge=function(t){return Re("svg",{width:64,height:64,xmlns:"http://www.w3.org/2000/svg",...t,children:l7||(l7=Re("path",{d:"m41.636 3.226.251.222a2.667 2.667 0 0 1 .222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 0 1 5.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.667 2.667 0 0 1 1.952 2.938l-.067.328a2.667 2.667 0 0 1-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 0 1 2.937 1.952l.067.328a2.667 2.667 0 0 1-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.667 2.667 0 0 1-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 0 1-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.667 2.667 0 0 1-3.52.222l-.251-.222a2.667 2.667 0 0 1-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.667 2.667 0 0 1-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.667 2.667 0 0 1-1.953-2.937l.067-.328a2.667 2.667 0 0 1 2.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.667 2.667 0 0 1-2.937-1.952l-.067-.328a2.667 2.667 0 0 1 1.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 0 1 5.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.667 2.667 0 0 1 3.52-3.993l.251.222 6.114 6.112 6.115-6.112a2.667 2.667 0 0 1 3.52-.222z",fillRule:"evenodd"}))})},ebe=`.event-detail-view {
  position: relative;
  max-width: 400px;
  background: #fff;
}
.event-detail-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .header .title {
  flex: 1;
  font-size: 18px;
}
.event-detail-view .header .close:hover {
  cursor: pointer;
}
.event-detail-view .event-summary {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-summary .profile {
  width: 80px;
  height: 80px;
  background: #eee;
  border-radius: 60px;
  margin-bottom: 8px;
}
.event-detail-view .event-summary .title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}
.event-detail-view .event-menu {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-menu .icon {
  margin-right: 16px;
}
.event-detail-view .event-menu .label {
  flex: 1;
}
.event-detail-view .event-menu .count {
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.event-detail-view .event-menu .guide {
  flex-basis: 100%;
  color: #999;
  line-height: 1.43;
  padding: 8px 4px 10px 4px;
}
.event-detail-view .event-info {
  padding: 16px;
  border-bottom: 1px #ddd solid;
}
.event-detail-view .event-info .label {
  font-size: 12px;
  font-weight: bold;
  color: #999;
  margin-bottom: 8px;
}
.event-detail-view .event-info .value {
  font-size: 14px;
  color: #333;
  line-height: 1.43;
}
.event-detail-view .button:hover {
  cursor: pointer;
  background: #eee;
}`;ma(ebe);function nbe(n){var t=n.liveEvent,e=n.onHostsClick,r=e===void 0?function(){}:e,a=n.onParticipantsClick,o=a===void 0?function(){}:a,c=n.onClose,h=c===void 0?function(){}:c,f=t.openChannel,m=Oe.exports.useState(""),v=m[0],y=m[1],w=Oe.exports.useState(f.isFrozen),x=w[0],C=w[1],A=Oe.exports.useState(t.userIdsForHost.length),L=A[0],S=A[1],k=Oe.exports.useState("".concat(f.participantCount)),N=k[0],O=k[1];return Oe.exports.useEffect(function(){y(f.name||"Untitled")},[f.name]),Oe.exports.useEffect(function(){S(f.operators.length)},[t.userIdsForHost.length]),Oe.exports.useEffect(function(){f.participantCount>1e3?O("".concat(Math.floor(f.participantCount/1e3),"k")):O("".concat(f.participantCount))},[f.participantCount]),Oe.exports.useEffect(function(){C(t.openChannel.isFrozen)},[f.isFrozen]),R.createElement("div",{className:"event-detail-view"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},"Live event information"),R.createElement("div",{className:"close",onClick:function(){return h()}},R.createElement(yl,{width:22,height:22,viewBox:"0 0 60 60"}))),R.createElement("div",{className:"event-summary"},R.createElement("div",{className:"profile"},t.host?R.createElement("img",{src:t.host.profileURL}):R.createElement(F0,{width:80,height:80,viewBox:"-4 -4 20 20",fill:"#fff"})),R.createElement("div",{className:"title"},v)),R.createElement("div",{className:"event-menu button",onClick:function(){return r()}},R.createElement(DP,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),R.createElement("div",{className:"label"},"Hosts"),R.createElement("div",{className:"count"},L),R.createElement(r7,{width:24,height:24,viewBox:"-10 -10 80 80"})),R.createElement("div",{className:"event-menu button",onClick:function(){return o()}},R.createElement(LP,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),R.createElement("div",{className:"label"},"Participants"),R.createElement("div",{className:"count"},N),R.createElement(r7,{width:24,height:24,viewBox:"-10 -10 80 80"})),R.createElement("div",{className:"event-menu"},R.createElement(Jge,{className:"icon",width:24,height:24,viewBox:"-10 -10 80 80",fill:"#C2A9FA"}),R.createElement("div",{className:"label"},"Freeze channel"),R.createElement("div",{className:"toggle"},x?R.createElement(Xge,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#C2A9FA"}):R.createElement(Zge,{width:44,height:24,viewBox:"2 -8 80 60",fill:"#777"})),R.createElement("div",{className:"guide"},"Freezing a channel lets only operators to communicate in the channel.")),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Live event ID"),R.createElement("div",{className:"value"},t.liveEventId)),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Created on"),R.createElement("div",{className:"value"},EM(t.createdAt,"PPp"))),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Created by"),R.createElement("div",{className:"value"},t.createdBy)),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Started on"),R.createElement("div",{className:"value"},t.startedAt?EM(t.startedAt,"PPp"):"")),R.createElement("div",{className:"event-info"},R.createElement("div",{className:"label"},"Started by"),R.createElement("div",{className:"value"},t.startedBy?t.startedBy:"")))}var tbe=`.user-list-view {
  position: relative;
  display: flex;
  flex-direction: column;
  max-width: 400px;
  max-height: 100vh;
  background: #fff;
  overflow: hidden;
}
.user-list-view .header {
  display: flex;
  align-items: center;
  padding: 24px;
  border-bottom: 1px #ddd solid;
}
.user-list-view .header .title {
  flex: 1;
  font-size: 18px;
}
.user-list-view .header .title .count {
  display: inline-block;
  background: #ddd;
  padding: 4px 8px;
  border-radius: 15px;
  margin: 0 4px;
}
.user-list-view .header .close:hover {
  cursor: pointer;
}
.user-list-view .list {
  flex: 1;
  padding: 8px 0;
  overflow-y: auto;
}

.user-view {
  display: flex;
  flex-direction: row;
  align-items: center;
  background: #fff;
  padding: 8px 16px;
}
.user-view .profile-image {
  width: 24px;
  height: 24px;
  border-radius: 16px;
  background: #eee;
  margin-right: 16px;
}
.user-view .nickname {
  font-size: 14px;
  color: #333;
}`;ma(tbe);function rbe(n){var t=n.nickname,e=t===void 0?"":t,r=n.profileUrl,a=r===void 0?"":r,o=a?R.createElement("img",{src:a,className:"profile-image"}):R.createElement(F0,{fill:"#fff",className:"profile-image"});return R.createElement("div",{className:"user-view"},o,R.createElement("div",{className:"nickname"},e))}function d7(n){var t=n.title,e=n.count,r=n.query,a=n.onClose,o=a===void 0?function(){}:a,c=Oe.exports.useRef(null),h=Oe.exports.useState([]),f=h[0],m=h[1],v=Oe.exports.useState(!0),y=v[0],w=v[1];Oe.exports.useEffect(function(){r().then(function(C){var A=C.result,L=C.hasNext;m(ls([],A,!0)),w(L)})},[]);var x=function(){if(c.current){var C=c.current,A=C.scrollTop,L=C.scrollHeight,S=C.clientHeight;A+S===L&&y&&r().then(function(k){var N=k.result,O=k.hasNext;m(ls(ls([],f,!0),N,!0)),w(O)})}};return R.createElement("div",{className:"user-list-view"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},t," ",R.createElement("span",{className:"count"},e)),R.createElement("div",{className:"close",onClick:function(){return o()}},R.createElement(yl,{width:22,height:22,viewBox:"0 0 60 60"}))),R.createElement("div",{className:"list",ref:c,onScroll:x},f.map(function(C){return R.createElement(rbe,{key:C.userId,userId:C.userId,nickname:C.nickname,profileUrl:C.profileUrl})})))}var ibe=`.sendbirdlive-right__wrapper {
  width: 400px;
  height: 100vh;
}`;ma(ibe);var wo;(function(n){n[n.CHAT=0]="CHAT",n[n.EVENT_INFO=1]="EVENT_INFO",n[n.HOST_LIST=2]="HOST_LIST",n[n.PARTICIPANT_LIST=3]="PARTICIPANT_LIST"})(wo||(wo={}));function UP(n){var t=this,e=n.liveEvent,r=n.initialViewStack,a=r===void 0?[wo.CHAT]:r,o=e.openChannel,c=lo(),h=Lk.getSdk(c),f=Oe.exports.useState(ls([],a,!0)),m=f[0],v=f[1],y=Oe.exports.useState(a[a.length-1]),w=y[0],x=y[1],C=function(L){v(ls(ls([],m,!0),[L],!1))},A=function(){m.length>1&&v(m.slice(0,-1))};return Oe.exports.useEffect(function(){e.openChannel,v(ls([],a,!0))},[e]),Oe.exports.useEffect(function(){x(m[m.length-1])},[m]),R.createElement("div",{className:"sendbirdlive-right__wrapper"},w===wo.CHAT?R.createElement(age,{channelUrl:e.liveEventId,useMessageGrouping:!0,onChatHeaderActionClick:function(){var L;((L=e.host)===null||L===void 0?void 0:L.userId)===(h==null?void 0:h.currentUser.userId)?C(wo.EVENT_INFO):C(wo.PARTICIPANT_LIST)}}):null,w===wo.EVENT_INFO?R.createElement(nbe,{liveEvent:e,onHostsClick:function(){return C(wo.HOST_LIST)},onParticipantsClick:function(){return C(wo.PARTICIPANT_LIST)},onClose:function(){return A()}}):null,w===wo.HOST_LIST?R.createElement(d7,{title:"Hosts",count:o.operators.length,query:function(){return fa(t,void 0,void 0,function(){return _a(this,function(L){return[2,{result:o.operators,hasNext:!1}]})})},onClose:function(){return A()}}):null,w===wo.PARTICIPANT_LIST?R.createElement(d7,{title:"Participants",count:o.participantCount,query:function(){return fa(t,void 0,void 0,function(){var L,S,k,N;return _a(this,function(O){switch(O.label){case 0:return L=o.createParticipantListQuery({}),L?[4,L.next()]:[3,2];case 1:return k=O.sent(),[3,3];case 2:k=[],O.label=3;case 3:return S=k,N=L==null?void 0:L.hasNext,[2,{result:S,hasNext:N}]}})})},onClose:function(){return A()}}):null)}var abe=`.settings {
  width: 480px;
}
.settings .title {
  font-size: 20px;
  font-weight: 700;
}
.settings .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.settings .settings__select-container {
  margin-top: 20px;
}
.settings .settings__select-container .settings__select-label {
  font-size: 12px;
  line-height: 1;
}
.settings .settings__select-container .settings__select-button {
  width: 100%;
  height: 40px;
  margin-top: 8px;
  padding: 10px 12px 10px 16px;
  border-radius: 4px;
  border: solid 1px rgba(255, 255, 255, 0.38);
}`;ma(abe);function sbe(n){var t=n.liveEvent,e=n.onClose,r=Oe.exports.useState([]),a=r[0],o=r[1],c=Oe.exports.useState([]),h=c[0],f=c[1];return Oe.exports.useEffect(function(){var m=qr.exports.SendbirdLive.useMedia({audio:!0,video:!0});return o(qr.exports.SendbirdLive.getAvailableAudioInputDevices()),f(qr.exports.SendbirdLive.getAvailableVideoInputDevices()),qr.exports.SendbirdLive.setAudioInputDeviceChanged(function(v,y){console.log("audio input updated",y),o(y)}),qr.exports.SendbirdLive.setVideoInputDeviceChanged(function(v,y){console.log("video input updated",y),f(y)}),qr.exports.SendbirdLive.updateMediaDevices({audio:!0,video:!0}),function(){m&&m.dispose()}}),R.createElement("div",{className:"settings"},R.createElement("div",{className:"close",onClick:function(){return e()}},R.createElement(yl,{width:22,height:22,viewBox:"0 0 60 60"})),R.createElement("div",{className:"title"},"Settings"),R.createElement("div",{className:"settings__select-container"},R.createElement("div",{className:"settings__select-label"},"Camera"),R.createElement("select",{id:"camera-select",className:"settings__select-button",onChange:function(m){var v=m.target.value,y=h.find(function(w){return w.deviceId===v});y&&t.selectVideoInput(y)}},h.map(function(m){return R.createElement("option",{key:m.deviceId,value:m.deviceId},m.label)}))),R.createElement("div",{className:"settings__select-container"},R.createElement("div",{className:"settings__select-label"},"Microphone"),R.createElement("select",{id:"microphone-select",className:"settings__select-button",onChange:function(m){var v=m.target.value,y=a.find(function(w){return w.deviceId===v});y&&t.selectAudioInput(y)}},a.map(function(m){return R.createElement("option",{key:m.deviceId,value:m.deviceId},m.label)}))))}var obe=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function lbe(n){var t=this,e=n.liveEvent;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount,n.eventEndViewDisplayTime,n.allowExitWithoutEnding,n.showEventSummaryView;var r=n.onClose,a=Oe.exports.useContext(gl).stringSet,o=Oe.exports.useRef(null),c=Oe.exports.useState(e.title),h=c[0],f=c[1],m=Oe.exports.useState(e.coverUrl),v=m[0],y=m[1],w=Oe.exports.useState(e.state),x=w[0],C=w[1],A=Oe.exports.useState(e.participantCount||0),L=A[0],S=A[1],k=hc("","dark-background"),N=k[0],O=k[1],H=k[2],D=hc(""),T=D[0],M=D[1],q=D[2],z=function(he){switch(he){case"created":return a.EVENT_STATUS_CREATED;case"ready":return a.EVENT_STATUS_READY;case"ongoing":return a.EVENT_STATUS_ONGOING;case"ended":return a.EVENT_STATUS_ENDED}};Oe.exports.useEffect(function(){var he=function(){return fa(t,void 0,void 0,function(){return _a(this,function(B){switch(B.label){case 0:return e.state!==qr.exports.LiveEventState.CREATED?[3,2]:[4,e.setEventReady()];case 1:B.sent(),B.label=2;case 2:return e.state===qr.exports.LiveEventState.ONGOING&&!e.isHostStreaming?[4,e.startStreaming({turnVideoOn:!0,turnAudioOn:!0})]:[3,4];case 3:B.sent(),e.setVideoViewForLiveEvent(o.current,e.host.hostId),B.label=4;case 4:return[2]}})})};he()},[e]),Oe.exports.useEffect(function(){var he=[e.on("participantEntered",function(B,W){S(e.participantCount)}),e.on("participantExited",function(){S(e.participantCount)}),e.on("liveEventUpdated",function(){f(e.title),y(e.coverUrl)}),e.on("disconnected",function(){r(e)})];return function(){he.map(function(B){return B()})}},[e]);function te(he){var B=Math.floor(he/1e3),W=Math.floor(B/60);return W=W%60,"".concat(W<0?0:W)}return R.createElement("div",{className:"host-view"},R.createElement("div",{className:"host-view__main"},R.createElement("div",{className:"video-wrapper"},R.createElement("video",{className:"host-view__video",ref:o,playsInline:!0,autoPlay:!0,muted:!0,controls:obe()})),R.createElement("div",{className:"host-view__info"},R.createElement("div",{className:"host-view__profile"},e.coverUrl?R.createElement("img",{src:v,alt:"cover image",className:"host-view__profile__cover-image"}):R.createElement(F0,{viewBox:"-4 -4 20 20",width:56,height:56})),R.createElement("div",{className:"host-view__info__wrapper"},R.createElement("div",{className:"host-view__title__wrapper"},R.createElement("div",{className:"event-state--".concat(x)},z(x)),R.createElement("div",{className:"host-view__title"},h||a.CREATE_EVENT_DEFAULT_TITLE)),R.createElement("div",{className:"host-view__detail"},L!=null?L:0," watching now ",x===qr.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(te(e.duration)," mins ago"):""),R.createElement("div",{className:"host-view__host-name"},e.host?e.host.nickname:"No Host"))),R.createElement(Wge,{liveEvent:e,onStart:function(he){he.setVideoViewForLiveEvent(o.current,he.host.hostId),C(x)},onEnd:function(){O()},onSettings:function(){M()}}),R.createElement(N,null,R.createElement(Yge,{onExit:function(he){return fa(t,void 0,void 0,function(){return _a(this,function(B){switch(B.label){case 0:return he?[4,e.endEvent()]:[3,2];case 1:return B.sent(),[3,4];case 2:return[4,e.exitAsHost()];case 3:B.sent(),B.label=4;case 4:return H(),r(e),[2]}})})},onClose:function(){H()}})),R.createElement(T,null,R.createElement(sbe,{liveEvent:e,onClose:function(){q()}}))),R.createElement(UP,{liveEvent:e}))}var dbe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.sendbirdlive-app__wrapper {
  display: flex;
}

.sendbirdlive-app__no-event {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  width: 100%;
}
.sendbird-theme--light .sendbirdlive-app__no-event {
  background-color: var(--sendbird-light-background-100);
}
.sendbird-theme--dark .sendbirdlive-app__no-event {
  background-color: var(--sendbird-dark-background-500);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__title {
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.88);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__description {
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  padding: 6px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.43;
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  cursor: pointer;
}
.sendbird-theme--light .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .sendbirdlive-app__no-event .sendbirdlive-app__no-event__button {
  background-color: var(--sendbird-dark-primary-200);
}`;ma(dbe);var cbe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.participant-view {
  display: flex;
  flex-grow: 1;
}
.participant-view .participant-view__main {
  width: 100%;
  background-color: var(--sendbird-light-background-100);
}
.participant-view .participant-view__main .toast-container {
  position: absolute;
  top: 10px;
  z-index: 5000;
}
.participant-view .participant-view__main .toast-container .toast {
  width: 500px;
  margin: auto;
  padding: 10px 0 10px 0;
  background-color: var(--sendbird-dark-information-100);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  text-align: center;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .video-wrapper {
  position: relative;
  width: 100%;
}
.participant-view .participant-view__main .video-wrapper:before {
  display: block;
  content: "";
  padding-top: 56.25%; /*What you want the height to be in relation to the width*/
}
.participant-view .participant-view__main .video-wrapper .participant-view__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.participant-view .participant-view__main .participant-view__info {
  display: flex;
  padding-top: 16px;
  background-color: var(--sendbird-light-background-50);
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile {
  width: 56px;
  height: 56px;
  margin: 0 16px 12px;
  border-radius: 50%;
  background-color: var(--sendbird-dark-background-300);
  overflow: hidden;
}
.participant-view .participant-view__main .participant-view__info .participant-view__profile .participant-view__profile__cover-image {
  width: 56px;
  height: 56px;
  object-fit: contain;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready, .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  width: fit-content;
  box-sizing: border-box;
  height: 20px;
  margin-right: 8px;
  padding: 4px;
  border-radius: 2px;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--created {
  background-color: var(--sendbird-light-primary-100);
  color: #6211c8;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ready {
  background-color: #c8d9fa;
  color: #30308f;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ongoing {
  background-color: var(--sendbird-light-error-300);
  color: rgba(255, 255, 255, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  color: rgba(0, 0, 0, 0.5);
}
.sendbird-theme--light .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-light-background-200);
}
.sendbird-theme--dark .participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .event-state--ended {
  background-color: var(--sendbird-dark-background-400);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper {
  display: flex;
  align-items: center;
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__title__wrapper .participant-view__title {
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__detail {
  margin-top: 4px;
  font-size: 14px;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.5);
}
.participant-view .participant-view__main .participant-view__info .participant-view__info__wrapper .participant-view__host-name {
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 14px;
  font-weight: 700;
  line-height: 1.43;
  color: rgba(0, 0, 0, 0.88);
}`;ma(cbe);var ube=function(n){var t=n.message;return R.createElement("div",{className:"toast-container"},t&&R.createElement("div",{className:"toast"},t))},hbe=function(){var n=Oe.exports.useState(void 0),t=n[0],e=n[1],r=Oe.exports.useState(void 0),a=r[0],o=r[1],c=function(m,v){v===void 0&&(v=1e6),e(m);var y=setTimeout(function(){h()},v);o(y)},h=function(){clearTimeout(a),o(void 0),e(void 0)},f=function(){return R.createElement(ube,{message:t})};return[f,c,h]},pbe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.ended-modal {
  width: 480px;
  padding: 18px 24px;
}
.ended-modal .header {
  display: flex;
  align-items: center;
}
.ended-modal .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.ended-modal .header .close:hover {
  cursor: pointer;
}
.ended-modal .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.ended-modal .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.ended-modal .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.ended-modal .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
}
.sendbird-theme--light .ended-modal .buttons .major-button {
  background-color: var(--sendbird-light-primary-300);
}
.sendbird-theme--dark .ended-modal .buttons .major-button {
  background-color: var(--sendbird-dark-primary-200);
}`;ma(pbe);function fbe(n){var t=n.onClose;return R.createElement("div",{className:"ended-modal"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},"Host has ended this live event."),R.createElement("div",{className:"close",onClick:t},R.createElement(yl,{width:22,height:22,viewBox:"0 0 60 60",fill:"#000"}))),R.createElement("div",{className:"buttons"},R.createElement("div",{className:"major-button",onClick:t},"End live")))}var _be=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};function mbe(n){var t=this,e=n.liveEvent,r=n.onClose;n.showDuration,n.onEndEventClick,n.showStatusLabel,n.showParticipantCount;var a=n.eventEndViewDisplayTime,o=Oe.exports.useRef(null),c=hbe(),h=c[0],f=c[1],m=Oe.exports.useState(e.host),v=m[0],y=m[1],w=Oe.exports.useState(e.title),x=w[0],C=w[1],A=Oe.exports.useState(e.coverUrl),L=A[0],S=A[1],k=Oe.exports.useState(e.state),N=k[0],O=k[1],H=Oe.exports.useState(e.participantCount||0),D=H[0],T=H[1],M=hc("",""),q=M[0],z=M[1],te=M[2],he=Oe.exports.useState(),B=he[0],W=he[1],re=Oe.exports.useContext(gl).stringSet,j=function(Me){switch(Me){case"created":return re.EVENT_STATUS_CREATED;case"ready":return re.EVENT_STATUS_READY;case"ongoing":return re.EVENT_STATUS_ONGOING;case"ended":return re.EVENT_STATUS_ENDED}},_e=function(){return fa(t,void 0,void 0,function(){return _a(this,function(Me){return v&&e.setVideoViewForLiveEvent(o.current,v.hostId),[2]})})},ie=function(){z();var Me=setTimeout(function(){se()},a!=null?a:3e3);W(Me)},se=function(){return fa(t,void 0,void 0,function(){return _a(this,function(Me){return clearTimeout(B),W(void 0),te(),r(e),[2]})})};Oe.exports.useEffect(function(){_e()},[v,N]),Oe.exports.useEffect(function(){e.state===qr.exports.LiveEventState.CREATED&&f("Live event will begin soon.");var Me=[e.on("liveEventStarted",function(){O(e.state)}),e.on("liveEventEnded",function(){O(e.state),ie()}),e.on("hostEntered",function(){f("Host Entered"),y(e.host)}),e.on("hostConnected",function(de,ue){f("Host Connected"),y(de.host)}),e.on("hostDisconnected",function(){f("Host Disconnected"),y(e.host)}),e.on("hostExited",function(){f("Host Exited"),y(e.host)}),e.on("hostMutedAudio",function(){f("Host is muted"),y(e.host)}),e.on("hostUnmutedAudio",function(){f("Host is unmuted"),y(e.host)}),e.on("participantEntered",function(){T(e.participantCount)}),e.on("participantExited",function(){T(e.participantCount)}),e.on("liveEventUpdated",function(){C(e.title),S(e.coverUrl)}),e.on("disconnected",function(){r(e)})];return function(){Me.map(function(de){return de()})}},[e]);function me(Me){var de=Math.floor(Me/1e3),ue=Math.floor(de/60);return ue=ue%60,"".concat(ue<0?0:ue)}return R.createElement("div",{className:"participant-view"},R.createElement("div",{className:"participant-view__main"},R.createElement(h,null),R.createElement("div",{className:"video-wrapper"},R.createElement("video",{className:"participant-view__video",ref:o,playsInline:!0,autoPlay:!0,controls:_be()})),R.createElement("div",{className:"participant-view__info"},R.createElement("div",{className:"participant-view__profile"},L?R.createElement("img",{src:L,alt:"cover image",className:"participant-view__profile__cover-image"}):R.createElement(F0,{viewBox:"-4 -4 20 20",width:56,height:56})),R.createElement("div",{className:"participant-view__info__wrapper"},R.createElement("div",{className:"participant-view__title__wrapper"},R.createElement("div",{className:"event-state--".concat(N)},j(N)),R.createElement("div",{className:"participant-view__title"},x||re.CREATE_EVENT_DEFAULT_TITLE)),R.createElement("div",{className:"participant-view__detail"},D!=null?D:0," watching now ",N===qr.exports.LiveEventState.ONGOING?"\u2219 Started ".concat(me(e.duration)," mins ago"):""),R.createElement("div",{className:"participant-view__host-name"},v?v.nickname||" ":"No Host")))),R.createElement(UP,{liveEvent:e}),R.createElement(q,null,R.createElement(fbe,{onClose:se})))}var vbe=`.enter-view {
  width: 480px;
}
.enter-view .title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 26px;
}
.enter-view .close {
  position: absolute;
  top: 20px;
  right: 20px;
  cursor: pointer;
}
.enter-view .enter-view__item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  border-radius: 4px;
  border: solid 1px rgba(0, 0, 0, 0.12);
  padding: 22px 24px 22px 22px;
  cursor: pointer;
}
.enter-view .enter-view__item .enter-view__item__icon {
  width: 28px;
  height: 28px;
  margin-right: 22px;
}
.enter-view .enter-view__item .enter-view__item__text {
  font-size: 16px;
  line-height: 1.38;
  color: rgba(0, 0, 0, 0.88);
}`;ma(vbe);function gbe(n){var t=this,e=n.liveEventId,r=n.onClose,a=Oe.exports.useContext(gl).stringSet,o=function(){return fa(t,void 0,void 0,function(){var h;return _a(this,function(f){switch(f.label){case 0:return[4,qr.exports.SendbirdLive.getLiveEvent(e)];case 1:return h=f.sent(),[4,h.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})];case 2:return f.sent(),r(h,!0),[2]}})})},c=function(){return fa(t,void 0,void 0,function(){var h;return _a(this,function(f){switch(f.label){case 0:return[4,qr.exports.SendbirdLive.getLiveEvent(e)];case 1:return h=f.sent(),[4,h.enter()];case 2:return f.sent(),r(h,!1),[2]}})})};return R.createElement("div",{className:"enter-view"},R.createElement("div",{className:"close",onClick:function(){return r()}},R.createElement(yl,{width:22,height:22,viewBox:"0 0 60 60"})),R.createElement("div",{className:"title"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_TITLE),R.createElement("div",{className:"enter-view__item",onClick:o},R.createElement("div",{className:"enter-view__item__icon"},R.createElement(DP,{viewBox:"0 0 64 64",width:28,height:28})),R.createElement("div",{className:"enter-view__item__text"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_HOST)),R.createElement("div",{className:"enter-view__item",onClick:c},R.createElement("div",{className:"enter-view__item__icon"},R.createElement(LP,{viewBox:"0 0 64 64",width:28,height:28})),R.createElement("div",{className:"enter-view__item__text"},a.LIVE_EVENT_ENTER_ROLE_DIALOG_OPTION_PARTICIPANT)))}var bbe=`@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");
body {
  font-family: "Roboto", "Verdana", sans-serif;
  font-size: 14px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.spin {
  animation: spin 1s linear infinite;
}

:root {
  --sendbird-light-primary-500: #491389;
  --sendbird-light-primary-400: #6211c8;
  --sendbird-light-primary-300: #742ddd;
  --sendbird-light-primary-200: #c2a9fa;
  --sendbird-light-primary-100: #dbd1ff;
  --sendbird-light-secondary-500: #066858;
  --sendbird-light-secondary-400: #027d69;
  --sendbird-light-secondary-300: #259c72;
  --sendbird-light-secondary-200: #69c085;
  --sendbird-light-secondary-100: #a8e2ab;
  --sendbird-light-information-100: #adc9ff;
  --sendbird-light-error-500: #9d091e;
  --sendbird-light-error-400: #bf0711;
  --sendbird-light-error-300: #de360b;
  --sendbird-light-error-200: #f66161;
  --sendbird-light-error-100: #fdaaaa;
  --sendbird-light-background-700: #000000;
  --sendbird-light-background-600: #161616;
  --sendbird-light-background-500: #2C2C2C;
  --sendbird-light-background-400: #393939;
  --sendbird-light-background-300: #bdbdbd;
  --sendbird-light-background-200: #e0e0e0;
  --sendbird-light-background-100: #eeeeee;
  --sendbird-light-background-50: #FFFFFF;
  --sendbird-light-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-light-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-light-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-light-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-light-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-light-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-light-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-light-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-light-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-light-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-light-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

:root {
  --sendbird-dark-primary-500: #491389;
  --sendbird-dark-primary-400: #6211c8;
  --sendbird-dark-primary-300: #742ddd;
  --sendbird-dark-primary-200: #c2a9fa;
  --sendbird-dark-primary-100: #dbd1ff;
  --sendbird-dark-secondary-500: #066858;
  --sendbird-dark-secondary-400: #027d69;
  --sendbird-dark-secondary-300: #259c72;
  --sendbird-dark-secondary-200: #69c085;
  --sendbird-dark-secondary-100: #a8e2ab;
  --sendbird-dark-information-100: #adc9ff;
  --sendbird-dark-error-500: #9d091e;
  --sendbird-dark-error-400: #bf0711;
  --sendbird-dark-error-300: #de360b;
  --sendbird-dark-error-200: #f66161;
  --sendbird-dark-error-100: #fdaaaa;
  --sendbird-dark-background-700: #000000;
  --sendbird-dark-background-600: #161616;
  --sendbird-dark-background-500: #2C2C2C;
  --sendbird-dark-background-400: #393939;
  --sendbird-dark-background-300: #bdbdbd;
  --sendbird-dark-background-200: #e0e0e0;
  --sendbird-dark-background-100: #eeeeee;
  --sendbird-dark-background-50: #FFFFFF;
  --sendbird-dark-overlay-01: rgba(0, 0, 0, 0.55);
  --sendbird-dark-overlay-02: rgba(0, 0, 0, 0.32);
  --sendbird-dark-onlight-01: rgba(0, 0, 0, 0.88);
  --sendbird-dark-onlight-02: rgba(0, 0, 0, 0.50);
  --sendbird-dark-onlight-03: rgba(0, 0, 0, 0.38);
  --sendbird-dark-onlight-04: rgba(0, 0, 0, 0.12);
  --sendbird-dark-ondark-01: rgba(255, 255, 255, 0.88);
  --sendbird-dark-ondark-02: rgba(255, 255, 255, 0.50);
  --sendbird-dark-ondark-03: rgba(255, 255, 255, 0.38);
  --sendbird-dark-ondark-04: rgba(255, 255, 255, 0.12);
  --sendbird-dark-shadow-01: 0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-02: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-03: 0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-04: 0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12);
  --sendbird-light-shadow-05: 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 4px 6px 0 rgba(0, 0, 0, 0.12);
  --sendbird-dark-shadow-message-input: 0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.enter-error-view {
  width: 480px;
}
.enter-error-view .header {
  display: flex;
  align-items: center;
}
.enter-error-view .header .title {
  flex: 1;
  font-size: 20px;
  font-weight: bold;
  line-height: 1.4;
  color: rgba(0, 0, 0, 0.88);
}
.enter-error-view .header .close:hover {
  cursor: pointer;
}
.enter-error-view .buttons {
  display: flex;
  flex-direction: row;
  justify-content: right;
  padding-top: 50px;
}
.enter-error-view .buttons .major-button {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 4px;
}
.enter-error-view .buttons .major-button:hover {
  cursor: pointer;
  opacity: 0.9;
}
.enter-error-view .buttons .major-button {
  color: rgba(255, 255, 255, 0.88);
  background-color: #742ddd;
}`;ma(bbe);function ybe(n){var t=n.liveEvent,e=n.onClose,r=Oe.exports.useContext(gl).stringSet,a=Oe.exports.useMemo(function(){return t&&t.state===qr.exports.LiveEventState.CREATED?r.LIVE_EVENT_ENTER_ALERT_DESCRIPTION:(console.log(t),r.UNKNOWN_ERROR_ALERT_DESCRIPTION)},[t]);return R.createElement("div",{className:"enter-error-view"},R.createElement("div",{className:"header"},R.createElement("div",{className:"title"},a),R.createElement("div",{className:"close",onClick:function(){return e()}},R.createElement(yl,{width:22,height:22,viewBox:"0 0 60 60"}))),R.createElement("div",{className:"buttons"},R.createElement("div",{className:"major-button",onClick:function(){return e()}},"OK")))}function Ebe(n){var t=this,e=n.userId,r=n.appId,a=n.nickname,o=n.accessToken,c=n.customApiHost,h=n.customWebSocketHost,f=n.theme,m=n.colorSet,v=n.stringSet,y=n.customize,w=Oe.exports.useState(!1),x=w[0],C=w[1],A=Oe.exports.useState(""),L=A[0],S=A[1],k=Oe.exports.useState(),N=k[0],O=k[1],H=hc(""),D=H[0],T=H[1],M=H[2],q=hc(""),z=q[0],te=q[1],he=q[2],B=hc(""),W=B[0],re=B[1],j=B[2],_e=uc(uc({},y==null?void 0:y.liveEventList),{onClickCreate:function(){T()},onClickElem:function(se){return fa(t,void 0,void 0,function(){var me;return _a(this,function(Me){switch(Me.label){case 0:return Me.trys.push([0,8,,9]),[4,qr.exports.SendbirdLive.getLiveEvent(se.liveEventId)];case 1:return me=Me.sent(),me.state===qr.exports.LiveEventState.ENDED?(re(),[2]):me.isHost&&!me.host?me.state!==qr.exports.LiveEventState.CREATED?[3,3]:[4,me.enterAsHost({turnAudioOn:!0,turnVideoOn:!0})]:[3,5];case 2:return Me.sent(),C(!0),O(me),[3,4];case 3:S(se.liveEventId),te(),Me.label=4;case 4:return[3,7];case 5:return[4,me.enter()];case 6:Me.sent(),O(me),Me.label=7;case 7:return[3,9];case 8:return Me.sent(),re(),[3,9];case 9:return[2]}})})}}),ie=function(se){var me=se.onClose;return N?x?R.createElement(lbe,{liveEvent:N,onClose:me}):R.createElement(mbe,{liveEvent:N,onClose:me}):R.createElement("div",{className:"sendbirdlive-app__no-event"},R.createElement("div",{className:"sendbirdlive-app__no-event__title"},"No live events selected"),R.createElement("div",{className:"sendbirdlive-app__no-event__description"},"Select a live event from the list or create a live event."),R.createElement("div",{className:"sendbirdlive-app__no-event__button",onClick:T},"Create"))};return R.createElement(F0e,{userId:e,appId:r,nickname:a,accessToken:o,customApiHost:c,customWebSocketHost:h,theme:f,colorSet:m,stringSet:v},R.createElement("div",{className:"sendbirdlive-app__wrapper"},R.createElement("div",{className:"sendbirdlive-app__liveeventlist__wrapper"},!x&&R.createElement(V0e,uc({},_e))),R.createElement(W,null,R.createElement(ybe,{liveEvent:N,onClose:j})),R.createElement(z,null,R.createElement(gbe,{liveEventId:L,onClose:function(se,me){O(se),se&&me&&C(!0),he()}})),R.createElement(D,null,R.createElement(Age,{onClose:function(se){O(se),se!=null&&se.isHost&&C(!0),M()}})),R.createElement(ie,{onClose:function(){C(!1),O(void 0)}})))}var c7={},u7;u7=function(){function n(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function t(w,x){for(var C=0;C<x.length;C++){var A=x[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}function e(w,x,C){return x&&t(w.prototype,x),C&&t(w,C),Object.defineProperty(w,"prototype",{writable:!1}),w}function r(w){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},r(w)}function a(w,x){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,A){return C.__proto__=A,C},a(w,x)}function o(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function c(w){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,A=r(w);if(x){var L=r(this).constructor;C=Reflect.construct(A,arguments,L)}else C=A.apply(this,arguments);return function(S,k){if(k&&(typeof k=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(S)}(this,C)}}function h(){return h=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(w,x,C){var A=function(S,k){for(;!Object.prototype.hasOwnProperty.call(S,k)&&(S=r(S))!==null;);return S}(w,x);if(A){var L=Object.getOwnPropertyDescriptor(A,x);return L.get?L.get.call(arguments.length<3?w:C):L.value}},h.apply(this,arguments)}var f=function(){function w(){n(this,w),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(w,[{key:"addEventListener",value:function(x,C,A){x in this.listeners||(this.listeners[x]=[]),this.listeners[x].push({callback:C,options:A})}},{key:"removeEventListener",value:function(x,C){if(x in this.listeners){for(var A=this.listeners[x],L=0,S=A.length;L<S;L++)if(A[L].callback===C)return void A.splice(L,1)}}},{key:"dispatchEvent",value:function(x){if(x.type in this.listeners){for(var C=this.listeners[x.type].slice(),A=0,L=C.length;A<L;A++){var S=C[A];try{S.callback.call(this,x)}catch(k){Promise.resolve().then(function(){throw k})}S.options&&S.options.once&&this.removeEventListener(x.type,S.callback)}return!x.defaultPrevented}}}]),w}(),m=function(w){(function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(L&&L.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),L&&a(A,L)})(C,w);var x=c(C);function C(){var A;return n(this,C),(A=x.call(this)).listeners||f.call(o(A)),Object.defineProperty(o(A),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(A),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(o(A),"reason",{value:void 0,writable:!0,configurable:!0}),A}return e(C,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(A){A.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,A)),h(r(C.prototype),"dispatchEvent",this).call(this,A)}}]),C}(f),v=function(){function w(){n(this,w),Object.defineProperty(this,"signal",{value:new m,writable:!0,configurable:!0})}return e(w,[{key:"abort",value:function(x){var C;try{C=new Event("abort")}catch{typeof document<"u"?document.createEvent?(C=document.createEvent("Event")).initEvent("abort",!1,!1):(C=document.createEventObject()).type="abort":C={type:"abort",bubbles:!1,cancelable:!1}}var A=x;if(A===void 0)if(typeof document>"u")(A=new Error("This operation was aborted")).name="AbortError";else try{A=new DOMException("signal is aborted without reason")}catch{(A=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=A,this.signal.dispatchEvent(C)}},{key:"toString",value:function(){return"[object AbortController]"}}]),w}();function y(w){return w.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof w.Request=="function"&&!w.Request.prototype.hasOwnProperty("signal")||!w.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(v.prototype[Symbol.toStringTag]="AbortController",m.prototype[Symbol.toStringTag]="AbortSignal"),function(w){if(y(w))if(w.fetch){var x=function(L){typeof L=="function"&&(L={fetch:L});var S=L,k=S.fetch,N=S.Request,O=N===void 0?k.Request:N,H=S.AbortController,D=S.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,T=D!==void 0&&D;if(!y({fetch:k,Request:O,AbortController:H,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:T}))return{fetch:k,Request:M};var M=O;(M&&!M.prototype.hasOwnProperty("signal")||T)&&((M=function(z,te){var he;te&&te.signal&&(he=te.signal,delete te.signal);var B=new O(z,te);return he&&Object.defineProperty(B,"signal",{writable:!1,enumerable:!1,configurable:!0,value:he}),B}).prototype=O.prototype);var q=k;return{fetch:function(z,te){var he=M&&M.prototype.isPrototypeOf(z)?z.signal:te?te.signal:void 0;if(he){var B;try{B=new DOMException("Aborted","AbortError")}catch{(B=new Error("Aborted")).name="AbortError"}if(he.aborted)return Promise.reject(B);var W=new Promise(function(re,j){he.addEventListener("abort",function(){return j(B)},{once:!0})});return te&&te.signal&&delete te.signal,Promise.race([W,q(z,te)])}return q(z,te)},Request:M}}(w),C=x.fetch,A=x.Request;w.fetch=C,w.Request=A,Object.defineProperty(w,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:v}),Object.defineProperty(w,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:m})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}(typeof self<"u"?self:_g)},u7();var wbe=Lie({__proto__:null,default:c7},[c7]),Oa=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||Oa!==void 0&&Oa,is={searchParams:"URLSearchParams"in Oa,iterable:"Symbol"in Oa&&"iterator"in Symbol,blob:"FileReader"in Oa&&"Blob"in Oa&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Oa,arrayBuffer:"ArrayBuffer"in Oa};if(is.arrayBuffer)var xbe=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],kbe=ArrayBuffer.isView||function(n){return n&&xbe.indexOf(Object.prototype.toString.call(n))>-1};function tf(n){if(typeof n!="string"&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(n)||n==="")throw new TypeError('Invalid character in header field name: "'+n+'"');return n.toLowerCase()}function m6(n){return typeof n!="string"&&(n=String(n)),n}function cw(n){var t={next:function(){var e=n.shift();return{done:e===void 0,value:e}}};return is.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Mi(n){this.map={},n instanceof Mi?n.forEach(function(t,e){this.append(e,t)},this):Array.isArray(n)?n.forEach(function(t){this.append(t[0],t[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(t){this.append(t,n[t])},this)}function uw(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function PP(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function Sbe(n){var t=new FileReader,e=PP(t);return t.readAsArrayBuffer(n),e}function h7(n){if(n.slice)return n.slice(0);var t=new Uint8Array(n.byteLength);return t.set(new Uint8Array(n)),t.buffer}function p7(){return this.bodyUsed=!1,this._initBody=function(n){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=n,n?typeof n=="string"?this._bodyText=n:is.blob&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:is.formData&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:is.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():is.arrayBuffer&&is.blob&&(t=n)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h7(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):is.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||kbe(n))?this._bodyArrayBuffer=h7(n):this._bodyText=n=Object.prototype.toString.call(n):this._bodyText="",this.headers.get("content-type")||(typeof n=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):is.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},is.blob&&(this.blob=function(){var n=uw(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var n=uw(this);return n||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(Sbe)}),this.text=function(){var n,t,e,r=uw(this);if(r)return r;if(this._bodyBlob)return n=this._bodyBlob,t=new FileReader,e=PP(t),t.readAsText(n),e;if(this._bodyArrayBuffer)return Promise.resolve(function(a){for(var o=new Uint8Array(a),c=new Array(o.length),h=0;h<o.length;h++)c[h]=String.fromCharCode(o[h]);return c.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},is.formData&&(this.formData=function(){return this.text().then(Cbe)}),this.json=function(){return this.text().then(JSON.parse)},this}Mi.prototype.append=function(n,t){n=tf(n),t=m6(t);var e=this.map[n];this.map[n]=e?e+", "+t:t},Mi.prototype.delete=function(n){delete this.map[tf(n)]},Mi.prototype.get=function(n){return n=tf(n),this.has(n)?this.map[n]:null},Mi.prototype.has=function(n){return this.map.hasOwnProperty(tf(n))},Mi.prototype.set=function(n,t){this.map[tf(n)]=m6(t)},Mi.prototype.forEach=function(n,t){for(var e in this.map)this.map.hasOwnProperty(e)&&n.call(t,this.map[e],e,this)},Mi.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),cw(n)},Mi.prototype.values=function(){var n=[];return this.forEach(function(t){n.push(t)}),cw(n)},Mi.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),cw(n)},is.iterable&&(Mi.prototype[Symbol.iterator]=Mi.prototype.entries);var Tbe=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Du(n,t){if(!(this instanceof Du))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var e,r,a=(t=t||{}).body;if(n instanceof Du){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,t.headers||(this.headers=new Mi(n.headers)),this.method=n.method,this.mode=n.mode,this.signal=n.signal,a||n._bodyInit==null||(a=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Mi(t.headers)),this.method=(e=t.method||this.method||"GET",r=e.toUpperCase(),Tbe.indexOf(r)>-1?r:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&a)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),!(this.method!=="GET"&&this.method!=="HEAD"||t.cache!=="no-store"&&t.cache!=="no-cache")){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function Cbe(n){var t=new FormData;return n.trim().split("&").forEach(function(e){if(e){var r=e.split("="),a=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(o))}}),t}function dl(n,t){if(!(this instanceof dl))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Mi(t.headers),this.url=t.url||"",this._initBody(n)}Du.prototype.clone=function(){return new Du(this,{body:this._bodyInit})},p7.call(Du.prototype),p7.call(dl.prototype),dl.prototype.clone=function(){return new dl(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Mi(this.headers),url:this.url})},dl.error=function(){var n=new dl(null,{status:0,statusText:""});return n.type="error",n};var Ibe=[301,302,303,307,308];dl.redirect=function(n,t){if(Ibe.indexOf(t)===-1)throw new RangeError("Invalid status code");return new dl(null,{status:t,headers:{location:n}})};var i0=Oa.DOMException;try{new i0}catch{(i0=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),i0.prototype.constructor=i0}function f7(n,t){return new Promise(function(e,r){var a=new Du(n,t);if(a.signal&&a.signal.aborted)return r(new i0("Aborted","AbortError"));var o=new XMLHttpRequest;function c(){o.abort()}o.onload=function(){var h,f,m={status:o.status,statusText:o.statusText,headers:(h=o.getAllResponseHeaders()||"",f=new Mi,h.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(y){return y.indexOf(`
`)===0?y.substr(1,y.length):y}).forEach(function(y){var w=y.split(":"),x=w.shift().trim();if(x){var C=w.join(":").trim();f.append(x,C)}}),f)};m.url="responseURL"in o?o.responseURL:m.headers.get("X-Request-URL");var v="response"in o?o.response:o.responseText;setTimeout(function(){e(new dl(v,m))},0)},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){r(new i0("Aborted","AbortError"))},0)},o.open(a.method,function(h){try{return h===""&&Oa.location.href?Oa.location.href:h}catch{return h}}(a.url),!0),a.credentials==="include"?o.withCredentials=!0:a.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(is.blob?o.responseType="blob":is.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(o.responseType="arraybuffer")),!t||typeof t.headers!="object"||t.headers instanceof Mi?a.headers.forEach(function(h,f){o.setRequestHeader(f,h)}):Object.getOwnPropertyNames(t.headers).forEach(function(h){o.setRequestHeader(h,m6(t.headers[h]))}),a.signal&&(a.signal.addEventListener("abort",c),o.onreadystatechange=function(){o.readyState===4&&a.signal.removeEventListener("abort",c)}),o.send(a._bodyInit===void 0?null:a._bodyInit)})}f7.polyfill=!0,Oa.fetch||(Oa.fetch=f7,Oa.Headers=Mi,Oa.Request=Du,Oa.Response=dl);var Nbe=Object.freeze({__proto__:null});function FP(n,t,e,r){Object.defineProperty(n,t,{get:e,set:r,enumerable:!0,configurable:!0})}var HP=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},hw={},eg={},yn=HP.parcelRequire3f09;yn==null&&(yn=function(n){if(n in hw)return hw[n].exports;if(n in eg){var t=eg[n];delete eg[n];var e={id:n,exports:{}};return hw[n]=e,t.call(e.exports,e,e.exports),e.exports}var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r},yn.register=function(t,e){eg[t]=e},HP.parcelRequire3f09=yn);yn.register("kk1yk",function(n,t){var e=yn("3YDN3"),r=e.System,a=e.VbrMode;e.Float;var o=e.ShortBlock;e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var c=e.new_float;e.new_float_n,e.new_int;var h=e.new_int_n,f=e.new_short_n,m=e.assert,v=yn("d2VP0"),y=yn("5HJeD"),w=yn("4SDnr"),x=yn("cU3Yf"),C=yn("2qGTD"),A=yn("e32wu"),L=yn("ctaQC"),S=yn("dQDcS"),k=yn("cPNKB");function N(){var O=yn("jL6I1"),H=this,D=131072;N.V9=410,N.V8=420,N.V7=430,N.V6=440,N.V5=450,N.V4=460,N.V3=470,N.V2=480,N.V1=490,N.V0=500,N.R3MIX=1e3,N.STANDARD=1001,N.EXTREME=1002,N.INSANE=1003,N.STANDARD_FAST=1004,N.EXTREME_FAST=1005,N.MEDIUM=1006,N.MEDIUM_FAST=1007;var T=16384+D;N.LAME_MAXMP3BUFFER=T;var M,q,z,te,he,B=new v,W,re,j;this.enc=new k,this.setModules=function(G,J,En,In,Zn,jn,zn,Rn,ft){M=G,q=J,z=En,te=In,he=Zn,W=jn,re=Rn,j=ft,this.enc.setModules(q,B,te,W)};function _e(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=c(k.SBMAX_l),this.bo_s_weight=c(k.SBMAX_s)}function ie(){this.lowerlimit=0}function se(G,J){this.lowpass=J}var me=4294479419;function Me(G){var J;return G.class_id=me,J=G.internal_flags=new w,G.mode=O.NOT_SET,G.original=1,G.in_samplerate=44100,G.num_channels=2,G.num_samples=-1,G.bWriteVbrTag=!0,G.quality=-1,G.short_blocks=null,J.subblock_gain=-1,G.lowpassfreq=0,G.highpassfreq=0,G.lowpasswidth=-1,G.highpasswidth=-1,G.VBR=a.vbr_off,G.VBR_q=4,G.ATHcurve=-1,G.VBR_mean_bitrate_kbps=128,G.VBR_min_bitrate_kbps=0,G.VBR_max_bitrate_kbps=0,G.VBR_hard_min=0,J.VBR_min_bitrate=1,J.VBR_max_bitrate=13,G.quant_comp=-1,G.quant_comp_short=-1,G.msfix=-1,J.resample_ratio=1,J.OldValue[0]=180,J.OldValue[1]=180,J.CurrentStep[0]=4,J.CurrentStep[1]=4,J.masking_lower=1,J.nsPsy.attackthre=-1,J.nsPsy.attackthre_s=-1,G.scale=-1,G.athaa_type=-1,G.ATHtype=-1,G.athaa_loudapprox=-1,G.athaa_sensitivity=0,G.useTemporal=null,G.interChRatio=-1,J.mf_samples_to_encode=k.ENCDELAY+k.POSTDELAY,G.encoder_padding=0,J.mf_size=k.ENCDELAY-k.MDCTDELAY,G.findReplayGain=!1,G.decode_on_the_fly=!1,J.decode_on_the_fly=!1,J.findReplayGain=!1,J.findPeakSample=!1,J.RadioGain=0,J.AudiophileGain=0,J.noclipGainChange=0,J.noclipScale=-1,G.preset=0,G.write_id3tag_automatic=!0,0}this.lame_init=function(){var G=new y;return Me(G),G.lame_allocated_gfp=1,G};function de(G){return G>1?0:G<=0?1:Math.cos(Math.PI/2*G)}this.nearestBitrateFullIndex=function(G){var J=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],En=0,In=0,Zn=0,jn=0;jn=J[16],Zn=16,In=J[16],En=16;for(var zn=0;zn<16;zn++)if(Math.max(G,J[zn+1])!=G){jn=J[zn+1],Zn=zn+1,In=J[zn],En=zn;break}return jn-G>G-In?En:Zn};function ue(G,J){var En=44100;return J>=48e3?En=48e3:J>=44100?En=44100:J>=32e3?En=32e3:J>=24e3?En=24e3:J>=22050?En=22050:J>=16e3?En=16e3:J>=12e3?En=12e3:J>=11025?En=11025:J>=8e3&&(En=8e3),G==-1?En:(G<=15960&&(En=44100),G<=15250&&(En=32e3),G<=11220&&(En=24e3),G<=9970&&(En=22050),G<=7230&&(En=16e3),G<=5420&&(En=12e3),G<=4510&&(En=11025),G<=3970&&(En=8e3),J<En?J>44100?48e3:J>32e3?44100:J>24e3?32e3:J>22050?24e3:J>16e3?22050:J>12e3?16e3:J>11025?12e3:J>8e3?11025:8e3:En)}function V(G,J){switch(G){case 44100:return J.version=1,0;case 48e3:return J.version=1,1;case 32e3:return J.version=1,2;case 22050:return J.version=0,0;case 24e3:return J.version=0,1;case 16e3:return J.version=0,2;case 11025:return J.version=0,0;case 12e3:return J.version=0,1;case 8e3:return J.version=0,2;default:return J.version=0,-1}}function Q(G,J,En){En<16e3&&(J=2);for(var In=S.bitrate_table[J][1],Zn=2;Zn<=14;Zn++)S.bitrate_table[J][Zn]>0&&Math.abs(S.bitrate_table[J][Zn]-G)<Math.abs(In-G)&&(In=S.bitrate_table[J][Zn]);return In}function $(G,J,En){En<16e3&&(J=2);for(var In=0;In<=14;In++)if(S.bitrate_table[J][In]>0&&S.bitrate_table[J][In]==G)return In;return-1}function ne(G,J){var En=[new se(8,2e3),new se(16,3700),new se(24,3900),new se(32,5500),new se(40,7e3),new se(48,7500),new se(56,1e4),new se(64,11e3),new se(80,13500),new se(96,15100),new se(112,15600),new se(128,17e3),new se(160,17500),new se(192,18600),new se(224,19400),new se(256,19700),new se(320,20500)],In=H.nearestBitrateFullIndex(J);G.lowerlimit=En[In].lowpass}function De(G){var J=G.internal_flags,En=32,In=-1;if(J.lowpass1>0){for(var Zn=999,jn=0;jn<=31;jn++){var zn=jn/31;zn>=J.lowpass2&&(En=Math.min(En,jn)),J.lowpass1<zn&&zn<J.lowpass2&&(Zn=Math.min(Zn,jn))}Zn==999?J.lowpass1=(En-.75)/31:J.lowpass1=(Zn-.75)/31,J.lowpass2=En/31}if(J.highpass2>0&&J.highpass2<.9*(.75/31)&&(J.highpass1=0,J.highpass2=0,r.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),J.highpass2>0){for(var Rn=-1,jn=0;jn<=31;jn++){var zn=jn/31;zn<=J.highpass1&&(In=Math.max(In,jn)),J.highpass1<zn&&zn<J.highpass2&&(Rn=Math.max(Rn,jn))}J.highpass1=In/31,Rn==-1?J.highpass2=(In+.75)/31:J.highpass2=(Rn+.75)/31}for(var jn=0;jn<32;jn++){var ft,Xn,zn=jn/31;J.highpass2>J.highpass1?ft=de((J.highpass2-zn)/(J.highpass2-J.highpass1+1e-20)):ft=1,J.lowpass2>J.lowpass1?Xn=de((zn-J.lowpass1)/(J.lowpass2-J.lowpass1+1e-20)):Xn=1,J.amp_filter[jn]=ft*Xn}}function We(G){var J=G.internal_flags;switch(G.quality){default:case 9:J.psymodel=0,J.noise_shaping=0,J.noise_shaping_amp=0,J.noise_shaping_stop=0,J.use_best_huffman=0,J.full_outer_loop=0;break;case 8:G.quality=7;case 7:J.psymodel=1,J.noise_shaping=0,J.noise_shaping_amp=0,J.noise_shaping_stop=0,J.use_best_huffman=0,J.full_outer_loop=0;break;case 6:J.psymodel=1,J.noise_shaping==0&&(J.noise_shaping=1),J.noise_shaping_amp=0,J.noise_shaping_stop=0,J.subblock_gain==-1&&(J.subblock_gain=1),J.use_best_huffman=0,J.full_outer_loop=0;break;case 5:J.psymodel=1,J.noise_shaping==0&&(J.noise_shaping=1),J.noise_shaping_amp=0,J.noise_shaping_stop=0,J.subblock_gain==-1&&(J.subblock_gain=1),J.use_best_huffman=0,J.full_outer_loop=0;break;case 4:J.psymodel=1,J.noise_shaping==0&&(J.noise_shaping=1),J.noise_shaping_amp=0,J.noise_shaping_stop=0,J.subblock_gain==-1&&(J.subblock_gain=1),J.use_best_huffman=1,J.full_outer_loop=0;break;case 3:J.psymodel=1,J.noise_shaping==0&&(J.noise_shaping=1),J.noise_shaping_amp=1,J.noise_shaping_stop=1,J.subblock_gain==-1&&(J.subblock_gain=1),J.use_best_huffman=1,J.full_outer_loop=0;break;case 2:J.psymodel=1,J.noise_shaping==0&&(J.noise_shaping=1),J.substep_shaping==0&&(J.substep_shaping=2),J.noise_shaping_amp=1,J.noise_shaping_stop=1,J.subblock_gain==-1&&(J.subblock_gain=1),J.use_best_huffman=1,J.full_outer_loop=0;break;case 1:J.psymodel=1,J.noise_shaping==0&&(J.noise_shaping=1),J.substep_shaping==0&&(J.substep_shaping=2),J.noise_shaping_amp=2,J.noise_shaping_stop=1,J.subblock_gain==-1&&(J.subblock_gain=1),J.use_best_huffman=1,J.full_outer_loop=0;break;case 0:J.psymodel=1,J.noise_shaping==0&&(J.noise_shaping=1),J.substep_shaping==0&&(J.substep_shaping=2),J.noise_shaping_amp=2,J.noise_shaping_stop=1,J.subblock_gain==-1&&(J.subblock_gain=1),J.use_best_huffman=1,J.full_outer_loop=0;break}}function Ae(G){var J=G.internal_flags;G.frameNum=0,G.write_id3tag_automatic&&re.id3tag_write_v2(G),J.bitrate_stereoMode_Hist=h([16,5]),J.bitrate_blockType_Hist=h([16,6]),J.PeakSample=0,G.bWriteVbrTag&&W.InitVbrTag(G)}this.lame_init_params=function(G){var J=G.internal_flags;if(J.Class_ID=0,J.ATH==null&&(J.ATH=new x),J.PSY==null&&(J.PSY=new _e),J.rgdata==null&&(J.rgdata=new C),J.channels_in=G.num_channels,J.channels_in==1&&(G.mode=O.MONO),J.channels_out=G.mode==O.MONO?1:2,J.mode_ext=k.MPG_MD_MS_LR,G.mode==O.MONO&&(G.force_ms=!1),G.VBR==a.vbr_off&&G.VBR_mean_bitrate_kbps!=128&&G.brate==0&&(G.brate=G.VBR_mean_bitrate_kbps),G.VBR==a.vbr_off||G.VBR==a.vbr_mtrh||G.VBR==a.vbr_mt||(G.free_format=!1),G.VBR==a.vbr_off&&G.brate==0&&L.EQ(G.compression_ratio,0)&&(G.compression_ratio=11.025),G.VBR==a.vbr_off&&G.compression_ratio>0&&(G.out_samplerate==0&&(G.out_samplerate=map2MP3Frequency(int(.97*G.in_samplerate))),G.brate=0|G.out_samplerate*16*J.channels_out/(1e3*G.compression_ratio),J.samplerate_index=V(G.out_samplerate,G),G.free_format||(G.brate=Q(G.brate,G.version,G.out_samplerate))),G.out_samplerate!=0&&(G.out_samplerate<16e3?(G.VBR_mean_bitrate_kbps=Math.max(G.VBR_mean_bitrate_kbps,8),G.VBR_mean_bitrate_kbps=Math.min(G.VBR_mean_bitrate_kbps,64)):G.out_samplerate<32e3?(G.VBR_mean_bitrate_kbps=Math.max(G.VBR_mean_bitrate_kbps,8),G.VBR_mean_bitrate_kbps=Math.min(G.VBR_mean_bitrate_kbps,160)):(G.VBR_mean_bitrate_kbps=Math.max(G.VBR_mean_bitrate_kbps,32),G.VBR_mean_bitrate_kbps=Math.min(G.VBR_mean_bitrate_kbps,320))),G.lowpassfreq==0){var En=16e3;switch(G.VBR){case a.vbr_off:var In=new ie;ne(In,G.brate),En=In.lowerlimit;break;case a.vbr_abr:var In=new ie;ne(In,G.VBR_mean_bitrate_kbps),En=In.lowerlimit;break;case a.vbr_rh:var Rn=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=G.VBR_q&&G.VBR_q<=9){var Zn=Rn[G.VBR_q],jn=Rn[G.VBR_q+1],zn=G.VBR_q_frac;En=linear_int(Zn,jn,zn)}else En=19500;break;default:var Rn=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=G.VBR_q&&G.VBR_q<=9){var Zn=Rn[G.VBR_q],jn=Rn[G.VBR_q+1],zn=G.VBR_q_frac;En=linear_int(Zn,jn,zn)}else En=19500}G.mode==O.MONO&&(G.VBR==a.vbr_off||G.VBR==a.vbr_abr)&&(En*=1.5),G.lowpassfreq=En|0}if(G.out_samplerate==0&&(2*G.lowpassfreq>G.in_samplerate&&(G.lowpassfreq=G.in_samplerate/2),G.out_samplerate=ue(G.lowpassfreq|0,G.in_samplerate)),G.lowpassfreq=Math.min(20500,G.lowpassfreq),G.lowpassfreq=Math.min(G.out_samplerate/2,G.lowpassfreq),G.VBR==a.vbr_off&&(G.compression_ratio=G.out_samplerate*16*J.channels_out/(1e3*G.brate)),G.VBR==a.vbr_abr&&(G.compression_ratio=G.out_samplerate*16*J.channels_out/(1e3*G.VBR_mean_bitrate_kbps)),G.bWriteVbrTag||(G.findReplayGain=!1,G.decode_on_the_fly=!1,J.findPeakSample=!1),J.findReplayGain=G.findReplayGain,J.decode_on_the_fly=G.decode_on_the_fly,J.decode_on_the_fly&&(J.findPeakSample=!0),J.findReplayGain&&M.InitGainAnalysis(J.rgdata,G.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return G.internal_flags=null,-6;switch(J.decode_on_the_fly&&!G.decode_only&&(J.hip!=null&&j.hip_decode_exit(J.hip),J.hip=j.hip_decode_init()),J.mode_gr=G.out_samplerate<=24e3?1:2,G.framesize=576*J.mode_gr,G.encoder_delay=k.ENCDELAY,J.resample_ratio=G.in_samplerate/G.out_samplerate,G.VBR){case a.vbr_mt:case a.vbr_rh:case a.vbr_mtrh:var ft=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];G.compression_ratio=ft[G.VBR_q];break;case a.vbr_abr:G.compression_ratio=G.out_samplerate*16*J.channels_out/(1e3*G.VBR_mean_bitrate_kbps);break;default:G.compression_ratio=G.out_samplerate*16*J.channels_out/(1e3*G.brate);break}if(G.mode==O.NOT_SET&&(G.mode=O.JOINT_STEREO),G.highpassfreq>0?(J.highpass1=2*G.highpassfreq,G.highpasswidth>=0?J.highpass2=2*(G.highpassfreq+G.highpasswidth):J.highpass2=2*G.highpassfreq,J.highpass1/=G.out_samplerate,J.highpass2/=G.out_samplerate):(J.highpass1=0,J.highpass2=0),G.lowpassfreq>0?(J.lowpass2=2*G.lowpassfreq,G.lowpasswidth>=0?(J.lowpass1=2*(G.lowpassfreq-G.lowpasswidth),J.lowpass1<0&&(J.lowpass1=0)):J.lowpass1=2*G.lowpassfreq,J.lowpass1/=G.out_samplerate,J.lowpass2/=G.out_samplerate):(J.lowpass1=0,J.lowpass2=0),De(G),J.samplerate_index=V(G.out_samplerate,G),J.samplerate_index<0)return G.internal_flags=null,-1;if(G.VBR==a.vbr_off){if(G.free_format)J.bitrate_index=0;else if(G.brate=Q(G.brate,G.version,G.out_samplerate),J.bitrate_index=$(G.brate,G.version,G.out_samplerate),J.bitrate_index<=0)return G.internal_flags=null,-1}else J.bitrate_index=1;G.analysis&&(G.bWriteVbrTag=!1),J.pinfo!=null&&(G.bWriteVbrTag=!1),q.init_bit_stream_w(J);for(var Xn=J.samplerate_index+3*G.version+6*(G.out_samplerate<16e3?1:0),xn=0;xn<k.SBMAX_l+1;xn++)J.scalefac_band.l[xn]=te.sfBandIndex[Xn].l[xn];for(var xn=0;xn<k.PSFB21+1;xn++){var Ct=(J.scalefac_band.l[22]-J.scalefac_band.l[21])/k.PSFB21,vt=J.scalefac_band.l[21]+xn*Ct;J.scalefac_band.psfb21[xn]=vt}J.scalefac_band.psfb21[k.PSFB21]=576;for(var xn=0;xn<k.SBMAX_s+1;xn++)J.scalefac_band.s[xn]=te.sfBandIndex[Xn].s[xn];for(var xn=0;xn<k.PSFB12+1;xn++){var Ct=(J.scalefac_band.s[13]-J.scalefac_band.s[12])/k.PSFB12,vt=J.scalefac_band.s[12]+xn*Ct;J.scalefac_band.psfb12[xn]=vt}J.scalefac_band.psfb12[k.PSFB12]=192,G.version==1?J.sideinfo_len=J.channels_out==1?21:36:J.sideinfo_len=J.channels_out==1?13:21,G.error_protection&&(J.sideinfo_len+=2),Ae(G),J.Class_ID=me;var Kn;for(Kn=0;Kn<19;Kn++)J.nsPsy.pefirbuf[Kn]=700*J.mode_gr*J.channels_out;switch(G.ATHtype==-1&&(G.ATHtype=4),m(G.VBR_q<=9),m(G.VBR_q>=0),G.VBR){case a.vbr_mt:G.VBR=a.vbr_mtrh;case a.vbr_mtrh:G.useTemporal==null&&(G.useTemporal=!1),z.apply_preset(G,500-G.VBR_q*10,0),G.quality<0&&(G.quality=LAME_DEFAULT_QUALITY),G.quality<5&&(G.quality=0),G.quality>5&&(G.quality=5),J.PSY.mask_adjust=G.maskingadjust,J.PSY.mask_adjust_short=G.maskingadjust_short,G.experimentalY?J.sfb21_extra=!1:J.sfb21_extra=G.out_samplerate>44e3,J.iteration_loop=new VBRNewIterationLoop(he);break;case a.vbr_rh:z.apply_preset(G,500-G.VBR_q*10,0),J.PSY.mask_adjust=G.maskingadjust,J.PSY.mask_adjust_short=G.maskingadjust_short,G.experimentalY?J.sfb21_extra=!1:J.sfb21_extra=G.out_samplerate>44e3,G.quality>6&&(G.quality=6),G.quality<0&&(G.quality=LAME_DEFAULT_QUALITY),J.iteration_loop=new VBROldIterationLoop(he);break;default:var Dn;J.sfb21_extra=!1,G.quality<0&&(G.quality=LAME_DEFAULT_QUALITY),Dn=G.VBR,Dn==a.vbr_off&&(G.VBR_mean_bitrate_kbps=G.brate),z.apply_preset(G,G.VBR_mean_bitrate_kbps,0),G.VBR=Dn,J.PSY.mask_adjust=G.maskingadjust,J.PSY.mask_adjust_short=G.maskingadjust_short,Dn==a.vbr_off?J.iteration_loop=new A(he):J.iteration_loop=new ABRIterationLoop(he);break}if(m(G.scale>=0),G.VBR!=a.vbr_off){if(J.VBR_min_bitrate=1,J.VBR_max_bitrate=14,G.out_samplerate<16e3&&(J.VBR_max_bitrate=8),G.VBR_min_bitrate_kbps!=0&&(G.VBR_min_bitrate_kbps=Q(G.VBR_min_bitrate_kbps,G.version,G.out_samplerate),J.VBR_min_bitrate=$(G.VBR_min_bitrate_kbps,G.version,G.out_samplerate),J.VBR_min_bitrate<0)||G.VBR_max_bitrate_kbps!=0&&(G.VBR_max_bitrate_kbps=Q(G.VBR_max_bitrate_kbps,G.version,G.out_samplerate),J.VBR_max_bitrate=$(G.VBR_max_bitrate_kbps,G.version,G.out_samplerate),J.VBR_max_bitrate<0))return-1;G.VBR_min_bitrate_kbps=S.bitrate_table[G.version][J.VBR_min_bitrate],G.VBR_max_bitrate_kbps=S.bitrate_table[G.version][J.VBR_max_bitrate],G.VBR_mean_bitrate_kbps=Math.min(S.bitrate_table[G.version][J.VBR_max_bitrate],G.VBR_mean_bitrate_kbps),G.VBR_mean_bitrate_kbps=Math.max(S.bitrate_table[G.version][J.VBR_min_bitrate],G.VBR_mean_bitrate_kbps)}return G.tune&&(J.PSY.mask_adjust+=G.tune_value_a,J.PSY.mask_adjust_short+=G.tune_value_a),We(G),m(G.scale>=0),G.athaa_type<0?J.ATH.useAdjust=3:J.ATH.useAdjust=G.athaa_type,J.ATH.aaSensitivityP=Math.pow(10,G.athaa_sensitivity/-10),G.short_blocks==null&&(G.short_blocks=o.short_block_allowed),G.short_blocks==o.short_block_allowed&&(G.mode==O.JOINT_STEREO||G.mode==O.STEREO)&&(G.short_blocks=o.short_block_coupled),G.quant_comp<0&&(G.quant_comp=1),G.quant_comp_short<0&&(G.quant_comp_short=0),G.msfix<0&&(G.msfix=0),G.exp_nspsytune=G.exp_nspsytune|1,G.internal_flags.nsPsy.attackthre<0&&(G.internal_flags.nsPsy.attackthre=v.NSATTACKTHRE),G.internal_flags.nsPsy.attackthre_s<0&&(G.internal_flags.nsPsy.attackthre_s=v.NSATTACKTHRE_S),m(G.scale>=0),G.scale<0&&(G.scale=1),G.ATHtype<0&&(G.ATHtype=4),G.ATHcurve<0&&(G.ATHcurve=4),G.athaa_loudapprox<0&&(G.athaa_loudapprox=2),G.interChRatio<0&&(G.interChRatio=0),G.useTemporal==null&&(G.useTemporal=!0),J.slot_lag=J.frac_SpF=0,G.VBR==a.vbr_off&&(J.slot_lag=J.frac_SpF=(G.version+1)*72e3*G.brate%G.out_samplerate|0),te.iteration_init(G),B.psymodel_init(G),m(G.scale>=0),0};function we(G,J){(G.in_buffer_0==null||G.in_buffer_nsamples<J)&&(G.in_buffer_0=c(J),G.in_buffer_1=c(J),G.in_buffer_nsamples=J)}this.lame_encode_flush=function(G,J,En,In){var Zn=G.internal_flags,jn=f([2,1152]),zn=0,Rn,ft,Xn,xn,Ct=Zn.mf_samples_to_encode-k.POSTDELAY,vt=Ue(G);if(Zn.mf_samples_to_encode<1)return 0;for(Rn=0,G.in_samplerate!=G.out_samplerate&&(Ct+=16*G.out_samplerate/G.in_samplerate),Xn=G.framesize-Ct%G.framesize,Xn<576&&(Xn+=G.framesize),G.encoder_padding=Xn,xn=(Ct+Xn)/G.framesize;xn>0&&zn>=0;){var Kn=vt-Zn.mf_size,Dn=G.frameNum;Kn*=G.in_samplerate,Kn/=G.out_samplerate,Kn>1152&&(Kn=1152),Kn<1&&(Kn=1),ft=In-Rn,In==0&&(ft=0),zn=this.lame_encode_buffer(G,jn[0],jn[1],Kn,J,En,ft),En+=zn,Rn+=zn,xn-=Dn!=G.frameNum?1:0}if(Zn.mf_samples_to_encode=0,zn<0||(ft=In-Rn,In==0&&(ft=0),q.flush_bitstream(G),zn=q.copy_buffer(Zn,J,En,ft,1),zn<0))return zn;if(En+=zn,Rn+=zn,ft=In-Rn,In==0&&(ft=0),G.write_id3tag_automatic){if(re.id3tag_write_v1(G),zn=q.copy_buffer(Zn,J,En,ft,0),zn<0)return zn;Rn+=zn}return Rn},this.lame_encode_buffer=function(G,J,En,In,Zn,jn,zn){var Rn=G.internal_flags,ft=[null,null];if(Rn.Class_ID!=me)return-3;if(In==0)return 0;we(Rn,In),ft[0]=Rn.in_buffer_0,ft[1]=Rn.in_buffer_1;for(var Xn=0;Xn<In;Xn++)ft[0][Xn]=J[Xn],Rn.channels_in>1&&(ft[1][Xn]=En[Xn]);return He(G,ft[0],ft[1],In,Zn,jn,zn)};function Ue(G){var J=k.BLKSIZE+G.framesize-k.FFTOFFSET;return J=Math.max(J,512+G.framesize-32),m(w.MFSIZE>=J),J}function He(G,J,En,In,Zn,jn,zn){var Rn=G.internal_flags,ft=0,Xn,xn,Ct,vt,Kn,Dn=[null,null],an=[null,null];if(Rn.Class_ID!=me)return-3;if(In==0)return 0;if(Kn=q.copy_buffer(Rn,Zn,jn,zn,0),Kn<0)return Kn;if(jn+=Kn,ft+=Kn,an[0]=J,an[1]=En,L.NEQ(G.scale,0)&&L.NEQ(G.scale,1))for(xn=0;xn<In;++xn)an[0][xn]*=G.scale,Rn.channels_out==2&&(an[1][xn]*=G.scale);if(L.NEQ(G.scale_left,0)&&L.NEQ(G.scale_left,1))for(xn=0;xn<In;++xn)an[0][xn]*=G.scale_left;if(L.NEQ(G.scale_right,0)&&L.NEQ(G.scale_right,1))for(xn=0;xn<In;++xn)an[1][xn]*=G.scale_right;if(G.num_channels==2&&Rn.channels_out==1)for(xn=0;xn<In;++xn)an[0][xn]=.5*(an[0][xn]+an[1][xn]),an[1][xn]=0;vt=Ue(G),Dn[0]=Rn.mfbuf[0],Dn[1]=Rn.mfbuf[1];for(var lt=0;In>0;){var pt=[null,null],xt=0,Et=0;pt[0]=an[0],pt[1]=an[1];var pr=new nn;if(Gn(G,Dn,pt,lt,In,pr),xt=pr.n_in,Et=pr.n_out,Rn.findReplayGain&&!Rn.decode_on_the_fly&&M.AnalyzeSamples(Rn.rgdata,Dn[0],Rn.mf_size,Dn[1],Rn.mf_size,Et,Rn.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(In-=xt,lt+=xt,Rn.channels_out,Rn.mf_size+=Et,m(Rn.mf_size<=w.MFSIZE),Rn.mf_samples_to_encode<1&&(Rn.mf_samples_to_encode=k.ENCDELAY+k.POSTDELAY),Rn.mf_samples_to_encode+=Et,Rn.mf_size>=vt){var ei=zn-ft;if(zn==0&&(ei=0),Xn=en(G,Dn[0],Dn[1],Zn,jn,ei),Xn<0)return Xn;for(jn+=Xn,ft+=Xn,Rn.mf_size-=G.framesize,Rn.mf_samples_to_encode-=G.framesize,Ct=0;Ct<Rn.channels_out;Ct++)for(xn=0;xn<Rn.mf_size;xn++)Dn[Ct][xn]=Dn[Ct][xn+G.framesize]}}return m(In==0),ft}function en(G,J,En,In,Zn,jn){var zn=H.enc.lame_encode_mp3_frame(G,J,En,In,Zn,jn);return G.frameNum++,zn}function nn(){this.n_in=0,this.n_out=0}function un(){this.num_used=0}function mn(G,J){return J!=0?mn(J,G%J):G}function ln(G,J,En){var In=Math.PI*J;G/=En,G<0&&(G=0),G>1&&(G=1);var Zn=G-.5,jn=.42-.5*Math.cos(2*G*Math.PI)+.08*Math.cos(4*G*Math.PI);return Math.abs(Zn)<1e-9?In/Math.PI:jn*Math.sin(En*In*Zn)/(Math.PI*En*Zn)}function Bn(G,J,En,In,Zn,jn,zn,Rn,ft){var Xn=G.internal_flags,xn,Ct=0,vt,Kn=G.out_samplerate/mn(G.out_samplerate,G.in_samplerate);Kn>w.BPC&&(Kn=w.BPC);var Dn=Math.abs(Xn.resample_ratio-Math.floor(.5+Xn.resample_ratio))<1e-4?1:0,an=1/Xn.resample_ratio;an>1&&(an=1);var lt=31;lt%2==0&&--lt,lt+=Dn;var pt=lt+1;if(Xn.fill_buffer_resample_init==0){for(Xn.inbuf_old[0]=c(pt),Xn.inbuf_old[1]=c(pt),xn=0;xn<=2*Kn;++xn)Xn.blackfilt[xn]=c(pt);for(Xn.itime[0]=0,Xn.itime[1]=0,Ct=0;Ct<=2*Kn;Ct++){var xt=0,Et=(Ct-Kn)/(2*Kn);for(xn=0;xn<=lt;xn++)xt+=Xn.blackfilt[Ct][xn]=ln(xn-Et,an,lt);for(xn=0;xn<=lt;xn++)Xn.blackfilt[Ct][xn]/=xt}Xn.fill_buffer_resample_init=1}var pr=Xn.inbuf_old[ft];for(vt=0;vt<In;vt++){var ei,Rr;if(ei=vt*Xn.resample_ratio,Ct=0|Math.floor(ei-Xn.itime[ft]),lt+Ct-lt/2>=zn)break;var Et=ei-Xn.itime[ft]-(Ct+.5*(lt%2));m(Math.abs(Et)<=.501),Rr=0|Math.floor(Et*2*Kn+Kn+.5);var Xa=0;for(xn=0;xn<=lt;++xn){var Kr=0|xn+Ct-lt/2,Xi;m(Kr<zn),m(Kr+pt>=0),Xi=Kr<0?pr[pt+Kr]:Zn[jn+Kr],Xa+=Xi*Xn.blackfilt[Rr][xn]}J[En+vt]=Xa}if(Rn.num_used=Math.min(zn,lt+Ct-lt/2),Xn.itime[ft]+=Rn.num_used-vt*Xn.resample_ratio,Rn.num_used>=pt)for(xn=0;xn<pt;xn++)pr[xn]=Zn[jn+Rn.num_used+xn-pt];else{var Oi=pt-Rn.num_used;for(xn=0;xn<Oi;++xn)pr[xn]=pr[xn+Rn.num_used];for(Ct=0;xn<pt;++xn,++Ct)pr[xn]=Zn[jn+Ct];m(Ct==Rn.num_used)}return vt}function Gn(G,J,En,In,Zn,jn){var zn=G.internal_flags;if(zn.resample_ratio<.9999||zn.resample_ratio>1.0001)for(var Rn=0;Rn<zn.channels_out;Rn++){var ft=new un;jn.n_out=Bn(G,J[Rn],zn.mf_size,G.framesize,En[Rn],In,Zn,ft,Rn),jn.n_in=ft.num_used}else{jn.n_out=Math.min(G.framesize,Zn),jn.n_in=jn.n_out;for(var Xn=0;Xn<jn.n_out;++Xn)J[0][zn.mf_size+Xn]=En[0][In+Xn],zn.channels_out==2&&(J[1][zn.mf_size+Xn]=En[1][In+Xn])}}}n.exports=N});yn.register("3YDN3",function(n,t){function e(k){return new Int8Array(k)}function r(k){return new Int16Array(k)}function a(k){return new Int32Array(k)}function o(k){return new Float32Array(k)}function c(k){return new Float64Array(k)}function h(k){if(k.length==1)return o(k[0]);var N=k[0];k=k.slice(1);for(var O=[],H=0;H<N;H++)O.push(h(k));return O}function f(k){if(k.length==1)return a(k[0]);var N=k[0];k=k.slice(1);for(var O=[],H=0;H<N;H++)O.push(f(k));return O}function m(k){if(k.length==1)return r(k[0]);var N=k[0];k=k.slice(1);for(var O=[],H=0;H<N;H++)O.push(m(k));return O}function v(k){if(k.length==1)return new Array(k[0]);var N=k[0];k=k.slice(1);for(var O=[],H=0;H<N;H++)O.push(v(k));return O}var y={};y.fill=function(k,N,O,H){if(arguments.length==2)for(var D=0;D<k.length;D++)k[D]=arguments[1];else for(var D=N;D<O;D++)k[D]=H};var w={};w.arraycopy=function(k,N,O,H,D){for(var T=N+D;N<T;)O[H++]=k[N++]},w.out={},w.out.println=function(k){console.log(k)},w.out.printf=function(){console.log.apply(console,arguments)};var x={};x.SQRT2=1.4142135623730951,x.FAST_LOG10=function(k){return Math.log10(k)},x.FAST_LOG10_X=function(k,N){return Math.log10(k)*N};function C(k){this.ordinal=k}C.short_block_allowed=new C(0),C.short_block_coupled=new C(1),C.short_block_dispensed=new C(2),C.short_block_forced=new C(3);var A={};A.MAX_VALUE=34028235e31;function L(k){this.ordinal=k}L.vbr_off=new L(0),L.vbr_mt=new L(1),L.vbr_rh=new L(2),L.vbr_abr=new L(3),L.vbr_mtrh=new L(4),L.vbr_default=L.vbr_mtrh;var S=function(k){};n.exports={System:w,VbrMode:L,Float:A,ShortBlock:C,Util:x,Arrays:y,new_array_n:v,new_byte:e,new_double:c,new_float:o,new_float_n:h,new_int:a,new_int_n:f,new_short:r,new_short_n:m,assert:S}});yn.register("d2VP0",function(n,t){var e=yn("3YDN3");e.System;var r=e.VbrMode,a=e.Float,o=e.ShortBlock,c=e.Util,h=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var f=e.new_float,m=e.new_float_n,v=e.new_int;e.new_int_n;var y=e.assert,w=yn("2g11P"),x=yn("cPNKB");function C(){var A=yn("jL6I1"),L=new w,S=2.302585092994046,k=2,N=16,O=2,H=16,D=.34,T=1/217621504/(x.BLKSIZE/2),M=.01,q=.8,z=.6,te=.3,he=3.5,B=21,W=.2302585093;function re(le){return le}function j(le,oe){for(var xe=0,Ie=0;Ie<x.BLKSIZE/2;++Ie)xe+=le[Ie]*oe.ATH.eql_w[Ie];return xe*=T,xe}function _e(le,oe,xe,Ie,Fe,ve,Be,Ge,Pe,tn,qe){var on=le.internal_flags;if(Pe<2)L.fft_long(on,Ie[Fe],Pe,tn,qe),L.fft_short(on,ve[Be],Pe,tn,qe);else if(Pe==2){for(var An=x.BLKSIZE-1;An>=0;--An){var at=Ie[Fe+0][An],Ke=Ie[Fe+1][An];Ie[Fe+0][An]=(at+Ke)*c.SQRT2*.5,Ie[Fe+1][An]=(at-Ke)*c.SQRT2*.5}for(var ke=2;ke>=0;--ke)for(var An=x.BLKSIZE_s-1;An>=0;--An){var at=ve[Be+0][ke][An],Ke=ve[Be+1][ke][An];ve[Be+0][ke][An]=(at+Ke)*c.SQRT2*.5,ve[Be+1][ke][An]=(at-Ke)*c.SQRT2*.5}}oe[0]=Ie[Fe+0][0],oe[0]*=oe[0];for(var An=x.BLKSIZE/2-1;An>=0;--An){var Te=Ie[Fe+0][x.BLKSIZE/2-An],Xe=Ie[Fe+0][x.BLKSIZE/2+An];oe[x.BLKSIZE/2-An]=(Te*Te+Xe*Xe)*.5}for(var ke=2;ke>=0;--ke){xe[ke][0]=ve[Be+0][ke][0],xe[ke][0]*=xe[ke][0];for(var An=x.BLKSIZE_s/2-1;An>=0;--An){var Te=ve[Be+0][ke][x.BLKSIZE_s/2-An],Xe=ve[Be+0][ke][x.BLKSIZE_s/2+An];xe[ke][x.BLKSIZE_s/2-An]=(Te*Te+Xe*Xe)*.5}}for(var Wn=0,An=11;An<x.HBLKSIZE;An++)Wn+=oe[An];if(on.tot_ener[Pe]=Wn,le.analysis){for(var An=0;An<x.HBLKSIZE;An++)on.pinfo.energy[Ge][Pe][An]=on.pinfo.energy_save[Pe][An],on.pinfo.energy_save[Pe][An]=oe[An];on.pinfo.pe[Ge][Pe]=on.pe[Pe]}le.athaa_loudapprox==2&&Pe<2&&(on.loudness_sq[Ge][Pe]=on.loudness_sq_save[Pe],on.loudness_sq_save[Pe]=j(oe,on))}var ie=8,se=23,me=15,Me,de,ue,V=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function Q(){Me=Math.pow(10,(ie+1)/16),de=Math.pow(10,(se+1)/16),ue=Math.pow(10,me/10)}var $=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],ne=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],De=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function We(le,oe,xe,Ie,Fe,ve){var Be;if(oe>le)if(oe<le*de)Be=oe/le;else return le+oe;else{if(le>=oe*de)return le+oe;Be=le/oe}if(y(le>=0),y(oe>=0),le+=oe,Ie+3<=6){if(Be>=Me)return le;var Ge=0|c.FAST_LOG10_X(Be,16);return le*ne[Ge]}var Ge=0|c.FAST_LOG10_X(Be,16);if(ve!=0?oe=Fe.ATH.cb_s[xe]*Fe.ATH.adjust:oe=Fe.ATH.cb_l[xe]*Fe.ATH.adjust,y(oe>=0),le<ue*oe){if(le>oe){var Pe,tn;return Pe=1,Ge<=13&&(Pe=De[Ge]),tn=c.FAST_LOG10_X(le/oe,10/15),le*(($[Ge]-Pe)*tn+Pe)}return Ge>13?le:le*De[Ge]}return le*$[Ge]}var Ae=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function we(le,oe,xe){var Ie;if(le<0&&(le=0),oe<0&&(oe=0),le<=0)return oe;if(oe<=0)return le;if(oe>le?Ie=oe/le:Ie=le/oe,-2<=xe&&xe<=2){if(Ie>=Me)return le+oe;var Fe=0|c.FAST_LOG10_X(Ie,16);return(le+oe)*Ae[Fe]}return Ie<de?le+oe:(le<oe&&(le=oe),le)}function Ue(le,oe){var xe=le.internal_flags;if(xe.channels_out>1){for(var Ie=0;Ie<x.SBMAX_l;Ie++){var Fe=xe.thm[0].l[Ie],ve=xe.thm[1].l[Ie];xe.thm[0].l[Ie]+=ve*oe,xe.thm[1].l[Ie]+=Fe*oe}for(var Ie=0;Ie<x.SBMAX_s;Ie++)for(var Be=0;Be<3;Be++){var Fe=xe.thm[0].s[Ie][Be],ve=xe.thm[1].s[Ie][Be];xe.thm[0].s[Ie][Be]+=ve*oe,xe.thm[1].s[Ie][Be]+=Fe*oe}}}function He(le){for(var oe=0;oe<x.SBMAX_l;oe++)if(!(le.thm[0].l[oe]>1.58*le.thm[1].l[oe]||le.thm[1].l[oe]>1.58*le.thm[0].l[oe])){var xe=le.mld_l[oe]*le.en[3].l[oe],Ie=Math.max(le.thm[2].l[oe],Math.min(le.thm[3].l[oe],xe));xe=le.mld_l[oe]*le.en[2].l[oe];var Fe=Math.max(le.thm[3].l[oe],Math.min(le.thm[2].l[oe],xe));le.thm[2].l[oe]=Ie,le.thm[3].l[oe]=Fe}for(var oe=0;oe<x.SBMAX_s;oe++)for(var ve=0;ve<3;ve++)if(!(le.thm[0].s[oe][ve]>1.58*le.thm[1].s[oe][ve]||le.thm[1].s[oe][ve]>1.58*le.thm[0].s[oe][ve])){var xe=le.mld_s[oe]*le.en[3].s[oe][ve],Ie=Math.max(le.thm[2].s[oe][ve],Math.min(le.thm[3].s[oe][ve],xe));xe=le.mld_s[oe]*le.en[2].s[oe][ve];var Fe=Math.max(le.thm[3].s[oe][ve],Math.min(le.thm[2].s[oe][ve],xe));le.thm[2].s[oe][ve]=Ie,le.thm[3].s[oe][ve]=Fe}}function en(le,oe,xe){var Ie=oe,Fe=Math.pow(10,xe);oe*=2,Ie*=2;for(var ve=0;ve<x.SBMAX_l;ve++){var Be,Ge,Pe,tn;if(tn=le.ATH.cb_l[le.bm_l[ve]]*Fe,Be=Math.min(Math.max(le.thm[0].l[ve],tn),Math.max(le.thm[1].l[ve],tn)),Ge=Math.max(le.thm[2].l[ve],tn),Pe=Math.max(le.thm[3].l[ve],tn),Be*oe<Ge+Pe){var qe=Be*Ie/(Ge+Pe);Ge*=qe,Pe*=qe,y(Ge+Pe>0)}le.thm[2].l[ve]=Math.min(Ge,le.thm[2].l[ve]),le.thm[3].l[ve]=Math.min(Pe,le.thm[3].l[ve])}Fe*=x.BLKSIZE_s/x.BLKSIZE;for(var ve=0;ve<x.SBMAX_s;ve++)for(var on=0;on<3;on++){var Be,Ge,Pe,tn;if(tn=le.ATH.cb_s[le.bm_s[ve]]*Fe,Be=Math.min(Math.max(le.thm[0].s[ve][on],tn),Math.max(le.thm[1].s[ve][on],tn)),Ge=Math.max(le.thm[2].s[ve][on],tn),Pe=Math.max(le.thm[3].s[ve][on],tn),Be*oe<Ge+Pe){var qe=Be*oe/(Ge+Pe);Ge*=qe,Pe*=qe,y(Ge+Pe>0)}le.thm[2].s[ve][on]=Math.min(le.thm[2].s[ve][on],Ge),le.thm[3].s[ve][on]=Math.min(le.thm[3].s[ve][on],Pe)}}function nn(le,oe,xe,Ie,Fe){var ve,Be,Ge=0,Pe=0;for(ve=Be=0;ve<x.SBMAX_s;++Be,++ve){for(var tn=le.bo_s[ve],qe=le.npart_s,on=tn<qe?tn:qe;Be<on;)y(oe[Be]>=0),y(xe[Be]>=0),Ge+=oe[Be],Pe+=xe[Be],Be++;if(le.en[Ie].s[ve][Fe]=Ge,le.thm[Ie].s[ve][Fe]=Pe,Be>=qe){++ve;break}y(oe[Be]>=0),y(xe[Be]>=0);var An=le.PSY.bo_s_weight[ve],at=1-An;Ge=An*oe[Be],Pe=An*xe[Be],le.en[Ie].s[ve][Fe]+=Ge,le.thm[Ie].s[ve][Fe]+=Pe,Ge=at*oe[Be],Pe=at*xe[Be]}for(;ve<x.SBMAX_s;++ve)le.en[Ie].s[ve][Fe]=0,le.thm[Ie].s[ve][Fe]=0}function un(le,oe,xe,Ie){var Fe,ve,Be=0,Ge=0;for(Fe=ve=0;Fe<x.SBMAX_l;++ve,++Fe){for(var Pe=le.bo_l[Fe],tn=le.npart_l,qe=Pe<tn?Pe:tn;ve<qe;)y(oe[ve]>=0),y(xe[ve]>=0),Be+=oe[ve],Ge+=xe[ve],ve++;if(le.en[Ie].l[Fe]=Be,le.thm[Ie].l[Fe]=Ge,ve>=tn){++Fe;break}y(oe[ve]>=0),y(xe[ve]>=0);var on=le.PSY.bo_l_weight[Fe],An=1-on;Be=on*oe[ve],Ge=on*xe[ve],le.en[Ie].l[Fe]+=Be,le.thm[Ie].l[Fe]+=Ge,Be=An*oe[ve],Ge=An*xe[ve]}for(;Fe<x.SBMAX_l;++Fe)le.en[Ie].l[Fe]=0,le.thm[Ie].l[Fe]=0}function mn(le,oe,xe,Ie,Fe,ve){var Be=le.internal_flags,Ge,Pe;for(Pe=Ge=0;Pe<Be.npart_s;++Pe){for(var tn=0,qe=Be.numlines_s[Pe],on=0;on<qe;++on,++Ge){var An=oe[ve][Ge];tn+=An}xe[Pe]=tn}for(y(Pe==Be.npart_s),y(Ge==129),Ge=Pe=0;Pe<Be.npart_s;Pe++){var at=Be.s3ind_s[Pe][0],Ke=Be.s3_ss[Ge++]*xe[at];for(++at;at<=Be.s3ind_s[Pe][1];)Ke+=Be.s3_ss[Ge]*xe[at],++Ge,++at;var ke=O*Be.nb_s1[Fe][Pe];if(Ie[Pe]=Math.min(Ke,ke),Be.blocktype_old[Fe&1]==x.SHORT_TYPE){var ke=H*Be.nb_s2[Fe][Pe],Te=Ie[Pe];Ie[Pe]=Math.min(ke,Te)}Be.nb_s2[Fe][Pe]=Be.nb_s1[Fe][Pe],Be.nb_s1[Fe][Pe]=Ke,y(Ie[Pe]>=0)}for(;Pe<=x.CBANDS;++Pe)xe[Pe]=0,Ie[Pe]=0}function ln(le,oe,xe,Ie){var Fe=le.internal_flags;le.short_blocks==o.short_block_coupled&&!(oe[0]!=0&&oe[1]!=0)&&(oe[0]=oe[1]=0);for(var ve=0;ve<Fe.channels_out;ve++)Ie[ve]=x.NORM_TYPE,le.short_blocks==o.short_block_dispensed&&(oe[ve]=1),le.short_blocks==o.short_block_forced&&(oe[ve]=0),oe[ve]!=0?(y(Fe.blocktype_old[ve]!=x.START_TYPE),Fe.blocktype_old[ve]==x.SHORT_TYPE&&(Ie[ve]=x.STOP_TYPE)):(Ie[ve]=x.SHORT_TYPE,Fe.blocktype_old[ve]==x.NORM_TYPE&&(Fe.blocktype_old[ve]=x.START_TYPE),Fe.blocktype_old[ve]==x.STOP_TYPE&&(Fe.blocktype_old[ve]=x.SHORT_TYPE)),xe[ve]=Fe.blocktype_old[ve],Fe.blocktype_old[ve]=Ie[ve]}function Bn(le,oe,xe){return xe>=1?le:xe<=0?oe:oe>0?Math.pow(le/oe,xe)*oe:0}var Gn=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function G(le,oe){for(var xe=309.07,Ie=0;Ie<x.SBMAX_s-1;Ie++)for(var Fe=0;Fe<3;Fe++){var ve=le.thm.s[Ie][Fe];if(y(Ie<Gn.length),ve>0){var Be=ve*oe,Ge=le.en.s[Ie][Fe];Ge>Be&&(Ge>Be*1e10?xe+=Gn[Ie]*(10*S):(y(Be>0),xe+=Gn[Ie]*c.FAST_LOG10(Ge/Be)))}}return xe}var J=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function En(le,oe){for(var xe=281.0575,Ie=0;Ie<x.SBMAX_l-1;Ie++){var Fe=le.thm.l[Ie];if(y(Ie<J.length),Fe>0){var ve=Fe*oe,Be=le.en.l[Ie];Be>ve&&(Be>ve*1e10?xe+=J[Ie]*(10*S):(y(ve>0),xe+=J[Ie]*c.FAST_LOG10(Be/ve)))}}return xe}function In(le,oe,xe,Ie,Fe){var ve,Be;for(ve=Be=0;ve<le.npart_l;++ve){var Ge=0,Pe=0,tn;for(tn=0;tn<le.numlines_l[ve];++tn,++Be){var qe=oe[Be];y(qe>=0),Ge+=qe,Pe<qe&&(Pe=qe)}xe[ve]=Ge,Ie[ve]=Pe,Fe[ve]=Ge*le.rnumlines_l[ve],y(le.rnumlines_l[ve]>=0),y(Ge>=0),y(xe[ve]>=0),y(Ie[ve]>=0),y(Fe[ve]>=0)}}function Zn(le,oe,xe,Ie){var Fe=V.length-1,ve=0,Be=xe[ve]+xe[ve+1];if(y(Be>=0),Be>0){var Ge=oe[ve];Ge<oe[ve+1]&&(Ge=oe[ve+1]),y(le.numlines_l[ve]+le.numlines_l[ve+1]-1>0),Be=20*(Ge*2-Be)/(Be*(le.numlines_l[ve]+le.numlines_l[ve+1]-1));var Pe=0|Be;Pe>Fe&&(Pe=Fe),Ie[ve]=Pe}else Ie[ve]=0;for(ve=1;ve<le.npart_l-1;ve++)if(Be=xe[ve-1]+xe[ve]+xe[ve+1],y(Be>=0),Be>0){var Ge=oe[ve-1];Ge<oe[ve]&&(Ge=oe[ve]),Ge<oe[ve+1]&&(Ge=oe[ve+1]),y(le.numlines_l[ve-1]+le.numlines_l[ve]+le.numlines_l[ve+1]-1>0),Be=20*(Ge*3-Be)/(Be*(le.numlines_l[ve-1]+le.numlines_l[ve]+le.numlines_l[ve+1]-1));var Pe=0|Be;Pe>Fe&&(Pe=Fe),Ie[ve]=Pe}else Ie[ve]=0;if(y(ve>0),y(ve==le.npart_l-1),Be=xe[ve-1]+xe[ve],y(Be>=0),Be>0){var Ge=oe[ve-1];Ge<oe[ve]&&(Ge=oe[ve]),y(le.numlines_l[ve-1]+le.numlines_l[ve]-1>0),Be=20*(Ge*2-Be)/(Be*(le.numlines_l[ve-1]+le.numlines_l[ve]-1));var Pe=0|Be;Pe>Fe&&(Pe=Fe),Ie[ve]=Pe}else Ie[ve]=0;y(ve==le.npart_l-1)}var jn=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];this.L3psycho_anal_ns=function(le,oe,xe,Ie,Fe,ve,Be,Ge,Pe,tn){var qe=le.internal_flags,on=m([2,x.BLKSIZE]),An=m([2,3,x.BLKSIZE_s]),at=f(x.CBANDS+1),Ke=f(x.CBANDS+1),ke=f(x.CBANDS+2),Te=v(2),Xe=v(2),Wn,fn,Un,cn,Jn,zt,Mn,gt,It=m([2,576]),dr,Wr=v(x.CBANDS+2),yr=v(x.CBANDS+2);for(h.fill(yr,0),Wn=qe.channels_out,le.mode==A.JOINT_STEREO&&(Wn=4),le.VBR==r.vbr_off?dr=qe.ResvMax==0?0:qe.ResvSize/qe.ResvMax*.5:le.VBR==r.vbr_rh||le.VBR==r.vbr_mtrh||le.VBR==r.vbr_mt?dr=.6:dr=1,fn=0;fn<qe.channels_out;fn++){var fr=oe[fn],Ht=xe+576-350-B+192;for(y(jn.length==(B-1)/2),cn=0;cn<576;cn++){var gi,Lr;for(gi=fr[Ht+cn+10],Lr=0,Jn=0;Jn<(B-1)/2-1;Jn+=2)gi+=jn[Jn]*(fr[Ht+cn+Jn]+fr[Ht+cn+B-Jn]),Lr+=jn[Jn+1]*(fr[Ht+cn+Jn+1]+fr[Ht+cn+B-Jn-1]);It[fn][cn]=gi+Lr}Fe[Ie][fn].en.assign(qe.en[fn]),Fe[Ie][fn].thm.assign(qe.thm[fn]),Wn>2&&(ve[Ie][fn].en.assign(qe.en[fn+2]),ve[Ie][fn].thm.assign(qe.thm[fn+2]))}for(fn=0;fn<Wn;fn++){var Fi,jt,fi=f(12),Da=[0,0,0,0],Ur=f(12),El=1,fd,wl=f(x.CBANDS),oi=f(x.CBANDS),_r=[0,0,0,0],bi=f(x.HBLKSIZE),_d=m([3,x.HBLKSIZE_s]);for(y(qe.npart_s<=x.CBANDS),y(qe.npart_l<=x.CBANDS),cn=0;cn<3;cn++)fi[cn]=qe.nsPsy.last_en_subshort[fn][cn+6],y(qe.nsPsy.last_en_subshort[fn][cn+4]>0),Ur[cn]=fi[cn]/qe.nsPsy.last_en_subshort[fn][cn+4],Da[0]+=fi[cn];if(fn==2)for(cn=0;cn<576;cn++){var Si,xl;Si=It[0][cn],xl=It[1][cn],It[0][cn]=Si+xl,It[1][cn]=Si-xl}var Lo=It[fn&1],Uo=0;for(cn=0;cn<9;cn++){for(var Po=Uo+64,ni=1;Uo<Po;Uo++)ni<Math.abs(Lo[Uo])&&(ni=Math.abs(Lo[Uo]));qe.nsPsy.last_en_subshort[fn][cn]=fi[cn+3]=ni,Da[1+cn/3]+=ni,ni>fi[cn+3-2]?(y(fi[cn+3-2]>0),ni=ni/fi[cn+3-2]):fi[cn+3-2]>ni*10?(y(ni>0),ni=fi[cn+3-2]/(ni*10)):ni=0,Ur[cn+3]=ni}if(le.analysis){var Fo=Ur[0];for(cn=1;cn<12;cn++)Fo<Ur[cn]&&(Fo=Ur[cn]);qe.pinfo.ers[Ie][fn]=qe.pinfo.ers_save[fn],qe.pinfo.ers_save[fn]=Fo}for(fd=fn==3?qe.nsPsy.attackthre_s:qe.nsPsy.attackthre,cn=0;cn<12;cn++)_r[cn/3]==0&&Ur[cn]>fd&&(_r[cn/3]=cn%3+1);for(cn=1;cn<4;cn++){var md;Da[cn-1]>Da[cn]?(y(Da[cn]>0),md=Da[cn-1]/Da[cn]):(y(Da[cn-1]>0),md=Da[cn]/Da[cn-1]),md<1.7&&(_r[cn]=0,cn==1&&(_r[0]=0))}for(_r[0]!=0&&qe.nsPsy.lastAttacks[fn]!=0&&(_r[0]=0),(qe.nsPsy.lastAttacks[fn]==3||_r[0]+_r[1]+_r[2]+_r[3]!=0)&&(El=0,_r[1]!=0&&_r[0]!=0&&(_r[1]=0),_r[2]!=0&&_r[1]!=0&&(_r[2]=0),_r[3]!=0&&_r[2]!=0&&(_r[3]=0)),fn<2?Xe[fn]=El:El==0&&(Xe[0]=Xe[1]=0),Pe[fn]=qe.tot_ener[fn],jt=An,Fi=on,_e(le,bi,_d,Fi,fn&1,jt,fn&1,Ie,fn,oe,xe),In(qe,bi,at,wl,oi),Zn(qe,wl,oi,Wr),gt=0;gt<3;gt++){var Rt,Qn;for(mn(le,_d,Ke,ke,fn,gt),nn(qe,Ke,ke,fn,gt),Mn=0;Mn<x.SBMAX_s;Mn++){if(Qn=qe.thm[fn].s[Mn][gt],Qn*=q,_r[gt]>=2||_r[gt+1]==1){var Ze=gt!=0?gt-1:2,ni=Bn(qe.thm[fn].s[Mn][Ze],Qn,z*dr);Qn=Math.min(Qn,ni)}if(_r[gt]==1){var Ze=gt!=0?gt-1:2,ni=Bn(qe.thm[fn].s[Mn][Ze],Qn,te*dr);Qn=Math.min(Qn,ni)}else if(gt!=0&&_r[gt-1]==3||gt==0&&qe.nsPsy.lastAttacks[fn]==3){var Ze=gt!=2?gt+1:0,ni=Bn(qe.thm[fn].s[Mn][Ze],Qn,te*dr);Qn=Math.min(Qn,ni)}Rt=fi[gt*3+3]+fi[gt*3+4]+fi[gt*3+5],fi[gt*3+5]*6<Rt&&(Qn*=.5,fi[gt*3+4]*6<Rt&&(Qn*=.5)),qe.thm[fn].s[Mn][gt]=Qn}}for(qe.nsPsy.lastAttacks[fn]=_r[2],zt=0,Un=0;Un<qe.npart_l;Un++){for(var je=qe.s3ind[Un][0],qn=at[je]*V[Wr[je]],et=qe.s3_ll[zt++]*qn;++je<=qe.s3ind[Un][1];)qn=at[je]*V[Wr[je]],et=We(et,qe.s3_ll[zt++]*qn,je,je-Un,qe,0);et*=.158489319246111,qe.blocktype_old[fn&1]==x.SHORT_TYPE?ke[Un]=et:ke[Un]=Bn(Math.min(et,Math.min(k*qe.nb_1[fn][Un],N*qe.nb_2[fn][Un])),et,dr),qe.nb_2[fn][Un]=qe.nb_1[fn][Un],qe.nb_1[fn][Un]=et}for(;Un<=x.CBANDS;++Un)at[Un]=0,ke[Un]=0;un(qe,at,ke,fn)}if((le.mode==A.STEREO||le.mode==A.JOINT_STEREO)&&le.interChRatio>0&&Ue(le,le.interChRatio),le.mode==A.JOINT_STEREO){var Zt;He(qe),Zt=le.msfix,Math.abs(Zt)>0&&en(qe,Zt,le.ATHlower*qe.ATH.adjust)}for(ln(le,Xe,tn,Te),fn=0;fn<Wn;fn++){var Nt,La=0,vd,gd;fn>1?(Nt=Ge,La=-2,vd=x.NORM_TYPE,(tn[0]==x.SHORT_TYPE||tn[1]==x.SHORT_TYPE)&&(vd=x.SHORT_TYPE),gd=ve[Ie][fn-2]):(Nt=Be,La=0,vd=tn[fn],gd=Fe[Ie][fn]),vd==x.SHORT_TYPE?Nt[La+fn]=G(gd,qe.masking_lower):Nt[La+fn]=En(gd,qe.masking_lower),le.analysis&&(qe.pinfo.pe[Ie][fn]=Nt[La+fn])}return 0};function zn(le,oe,xe,Ie,Fe,ve,Be,Ge){var Pe=le.internal_flags;if(Ie<2)L.fft_long(Pe,Be[Ge],Ie,oe,xe);else if(Ie==2)for(var tn=x.BLKSIZE-1;tn>=0;--tn){var qe=Be[Ge+0][tn],on=Be[Ge+1][tn];Be[Ge+0][tn]=(qe+on)*c.SQRT2*.5,Be[Ge+1][tn]=(qe-on)*c.SQRT2*.5}ve[0]=Be[Ge+0][0],ve[0]*=ve[0];for(var tn=x.BLKSIZE/2-1;tn>=0;--tn){var An=Be[Ge+0][x.BLKSIZE/2-tn],at=Be[Ge+0][x.BLKSIZE/2+tn];ve[x.BLKSIZE/2-tn]=(An*An+at*at)*.5}for(var Ke=0,tn=11;tn<x.HBLKSIZE;tn++)Ke+=ve[tn];if(Pe.tot_ener[Ie]=Ke,le.analysis){for(var tn=0;tn<x.HBLKSIZE;tn++)Pe.pinfo.energy[Fe][Ie][tn]=Pe.pinfo.energy_save[Ie][tn],Pe.pinfo.energy_save[Ie][tn]=ve[tn];Pe.pinfo.pe[Fe][Ie]=Pe.pe[Ie]}}function Rn(le,oe,xe,Ie,Fe,ve,Be,Ge){var Pe=le.internal_flags;if(Fe==0&&Ie<2&&L.fft_short(Pe,Be[Ge],Ie,oe,xe),Ie==2)for(var tn=x.BLKSIZE_s-1;tn>=0;--tn){var qe=Be[Ge+0][Fe][tn],on=Be[Ge+1][Fe][tn];Be[Ge+0][Fe][tn]=(qe+on)*c.SQRT2*.5,Be[Ge+1][Fe][tn]=(qe-on)*c.SQRT2*.5}ve[Fe][0]=Be[Ge+0][Fe][0],ve[Fe][0]*=ve[Fe][0];for(var tn=x.BLKSIZE_s/2-1;tn>=0;--tn){var An=Be[Ge+0][Fe][x.BLKSIZE_s/2-tn],at=Be[Ge+0][Fe][x.BLKSIZE_s/2+tn];ve[Fe][x.BLKSIZE_s/2-tn]=(An*An+at*at)*.5}}function ft(le,oe,xe,Ie){var Fe=le.internal_flags;le.athaa_loudapprox==2&&xe<2&&(Fe.loudness_sq[oe][xe]=Fe.loudness_sq_save[xe],Fe.loudness_sq_save[xe]=j(Ie,Fe))}var Xn=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];function xn(le,oe,xe,Ie,Fe,ve,Be,Ge,Pe,tn){for(var qe=m([2,576]),on=le.internal_flags,An=on.channels_out,at=le.mode==A.JOINT_STEREO?4:An,Ke=0;Ke<An;Ke++){firbuf=oe[Ke];var ke=xe+576-350-B+192;y(Xn.length==(B-1)/2);for(var Te=0;Te<576;Te++){var Xe,Wn;Xe=firbuf[ke+Te+10],Wn=0;for(var fn=0;fn<(B-1)/2-1;fn+=2)Xe+=Xn[fn]*(firbuf[ke+Te+fn]+firbuf[ke+Te+B-fn]),Wn+=Xn[fn+1]*(firbuf[ke+Te+fn+1]+firbuf[ke+Te+B-fn-1]);qe[Ke][Te]=Xe+Wn}Fe[Ie][Ke].en.assign(on.en[Ke]),Fe[Ie][Ke].thm.assign(on.thm[Ke]),at>2&&(ve[Ie][Ke].en.assign(on.en[Ke+2]),ve[Ie][Ke].thm.assign(on.thm[Ke+2]))}for(var Ke=0;Ke<at;Ke++){var Un=f(12),cn=f(12),Jn=[0,0,0,0],zt=qe[Ke&1],Mn=0,gt=Ke==3?on.nsPsy.attackthre_s:on.nsPsy.attackthre,It=1;if(Ke==2)for(var Te=0,fn=576;fn>0;++Te,--fn){var dr=qe[0][Te],Wr=qe[1][Te];qe[0][Te]=dr+Wr,qe[1][Te]=dr-Wr}for(var Te=0;Te<3;Te++)cn[Te]=on.nsPsy.last_en_subshort[Ke][Te+6],y(on.nsPsy.last_en_subshort[Ke][Te+4]>0),Un[Te]=cn[Te]/on.nsPsy.last_en_subshort[Ke][Te+4],Jn[0]+=cn[Te];for(var Te=0;Te<9;Te++){for(var yr=Mn+64,fr=1;Mn<yr;Mn++)fr<Math.abs(zt[Mn])&&(fr=Math.abs(zt[Mn]));on.nsPsy.last_en_subshort[Ke][Te]=cn[Te+3]=fr,Jn[1+Te/3]+=fr,fr>cn[Te+3-2]?(y(cn[Te+3-2]>0),fr=fr/cn[Te+3-2]):cn[Te+3-2]>fr*10?(y(fr>0),fr=cn[Te+3-2]/(fr*10)):fr=0,Un[Te+3]=fr}for(var Te=0;Te<3;++Te){var Ht=cn[Te*3+3]+cn[Te*3+4]+cn[Te*3+5],gi=1;cn[Te*3+5]*6<Ht&&(gi*=.5,cn[Te*3+4]*6<Ht&&(gi*=.5)),Ge[Ke][Te]=gi}if(le.analysis){for(var Lr=Un[0],Te=1;Te<12;Te++)Lr<Un[Te]&&(Lr=Un[Te]);on.pinfo.ers[Ie][Ke]=on.pinfo.ers_save[Ke],on.pinfo.ers_save[Ke]=Lr}for(var Te=0;Te<12;Te++)Pe[Ke][Te/3]==0&&Un[Te]>gt&&(Pe[Ke][Te/3]=Te%3+1);for(var Te=1;Te<4;Te++){var Fi=Jn[Te-1],jt=Jn[Te],fi=Math.max(Fi,jt);fi<4e4&&Fi<1.7*jt&&jt<1.7*Fi&&(Te==1&&Pe[Ke][0]<=Pe[Ke][Te]&&(Pe[Ke][0]=0),Pe[Ke][Te]=0)}Pe[Ke][0]<=on.nsPsy.lastAttacks[Ke]&&(Pe[Ke][0]=0),(on.nsPsy.lastAttacks[Ke]==3||Pe[Ke][0]+Pe[Ke][1]+Pe[Ke][2]+Pe[Ke][3]!=0)&&(It=0,Pe[Ke][1]!=0&&Pe[Ke][0]!=0&&(Pe[Ke][1]=0),Pe[Ke][2]!=0&&Pe[Ke][1]!=0&&(Pe[Ke][2]=0),Pe[Ke][3]!=0&&Pe[Ke][2]!=0&&(Pe[Ke][3]=0)),Ke<2?tn[Ke]=It:It==0&&(tn[0]=tn[1]=0),Be[Ke]=on.tot_ener[Ke]}}function Ct(le,oe,xe){if(xe==0)for(var Ie=0;Ie<le.npart_s;Ie++)le.nb_s2[oe][Ie]=le.nb_s1[oe][Ie],le.nb_s1[oe][Ie]=0}function vt(le,oe){for(var xe=0;xe<le.npart_l;xe++)le.nb_2[oe][xe]=le.nb_1[oe][xe],le.nb_1[oe][xe]=0}function Kn(le,oe,xe,Ie){var Fe=V.length-1,ve=0,Be=xe[ve]+xe[ve+1];if(y(Be>=0),Be>0){var Ge=oe[ve];Ge<oe[ve+1]&&(Ge=oe[ve+1]),y(le.numlines_s[ve]+le.numlines_s[ve+1]-1>0),Be=20*(Ge*2-Be)/(Be*(le.numlines_s[ve]+le.numlines_s[ve+1]-1));var Pe=0|Be;Pe>Fe&&(Pe=Fe),Ie[ve]=Pe}else Ie[ve]=0;for(ve=1;ve<le.npart_s-1;ve++)if(Be=xe[ve-1]+xe[ve]+xe[ve+1],y(ve+1<le.npart_s),y(Be>=0),Be>0){var Ge=oe[ve-1];Ge<oe[ve]&&(Ge=oe[ve]),Ge<oe[ve+1]&&(Ge=oe[ve+1]),y(le.numlines_s[ve-1]+le.numlines_s[ve]+le.numlines_s[ve+1]-1>0),Be=20*(Ge*3-Be)/(Be*(le.numlines_s[ve-1]+le.numlines_s[ve]+le.numlines_s[ve+1]-1));var Pe=0|Be;Pe>Fe&&(Pe=Fe),Ie[ve]=Pe}else Ie[ve]=0;if(y(ve>0),y(ve==le.npart_s-1),Be=xe[ve-1]+xe[ve],y(Be>=0),Be>0){var Ge=oe[ve-1];Ge<oe[ve]&&(Ge=oe[ve]),y(le.numlines_s[ve-1]+le.numlines_s[ve]-1>0),Be=20*(Ge*2-Be)/(Be*(le.numlines_s[ve-1]+le.numlines_s[ve]-1));var Pe=0|Be;Pe>Fe&&(Pe=Fe),Ie[ve]=Pe}else Ie[ve]=0;y(ve==le.npart_s-1)}function Dn(le,oe,xe,Ie,Fe,ve){var Be=le.internal_flags,Ge=new float[x.CBANDS],Pe=f(x.CBANDS),tn,qe,on,An=new int[x.CBANDS];for(on=qe=0;on<Be.npart_s;++on){var at=0,Ke=0,ke=Be.numlines_s[on];for(tn=0;tn<ke;++tn,++qe){var Te=oe[ve][qe];at+=Te,Ke<Te&&(Ke=Te)}xe[on]=at,y(at>=0),Ge[on]=Ke,y(ke>0),Pe[on]=at/ke,y(Pe[on]>=0)}for(y(on==Be.npart_s),y(qe==129);on<x.CBANDS;++on)Ge[on]=0,Pe[on]=0;for(Kn(Be,Ge,Pe,An),qe=on=0;on<Be.npart_s;on++){var Xe=Be.s3ind_s[on][0],Wn=Be.s3ind_s[on][1],fn,Un,cn,Jn,zt;for(fn=An[Xe],Un=1,Jn=Be.s3_ss[qe]*xe[Xe]*V[An[Xe]],++qe,++Xe;Xe<=Wn;)fn+=An[Xe],Un+=1,cn=Be.s3_ss[qe]*xe[Xe]*V[An[Xe]],Jn=we(Jn,cn,Xe-on),++qe,++Xe;fn=(1+2*fn)/(2*Un),zt=V[fn]*.5,Jn*=zt,Ie[on]=Jn,Be.nb_s2[Fe][on]=Be.nb_s1[Fe][on],Be.nb_s1[Fe][on]=Jn,cn=Ge[on],cn*=Be.minval_s[on],cn*=zt,Ie[on]>cn&&(Ie[on]=cn),Be.masking_lower>1&&(Ie[on]*=Be.masking_lower),Ie[on]>xe[on]&&(Ie[on]=xe[on]),Be.masking_lower<1&&(Ie[on]*=Be.masking_lower),y(Ie[on]>=0)}for(;on<x.CBANDS;++on)xe[on]=0,Ie[on]=0}function an(le,oe,xe,Ie,Fe){var ve=f(x.CBANDS),Be=f(x.CBANDS),Ge=v(x.CBANDS+2),Pe;In(le,oe,xe,ve,Be),Zn(le,ve,Be,Ge);var tn=0;for(Pe=0;Pe<le.npart_l;Pe++){var qe,on,An,at,Ke=le.s3ind[Pe][0],ke=le.s3ind[Pe][1],Te=0,Xe=0;for(Te=Ge[Ke],Xe+=1,on=le.s3_ll[tn]*xe[Ke]*V[Ge[Ke]],++tn,++Ke;Ke<=ke;)Te+=Ge[Ke],Xe+=1,qe=le.s3_ll[tn]*xe[Ke]*V[Ge[Ke]],at=we(on,qe,Ke-Pe),on=at,++tn,++Ke;if(Te=(1+2*Te)/(2*Xe),An=V[Te]*.5,on*=An,le.blocktype_old[Fe&1]==x.SHORT_TYPE){var Wn=k*le.nb_1[Fe][Pe];Wn>0?Ie[Pe]=Math.min(on,Wn):Ie[Pe]=Math.min(on,xe[Pe]*te)}else{var fn=N*le.nb_2[Fe][Pe],Un=k*le.nb_1[Fe][Pe],Wn;fn<=0&&(fn=on),Un<=0&&(Un=on),le.blocktype_old[Fe&1]==x.NORM_TYPE?Wn=Math.min(Un,fn):Wn=Un,Ie[Pe]=Math.min(on,Wn)}le.nb_2[Fe][Pe]=le.nb_1[Fe][Pe],le.nb_1[Fe][Pe]=on,qe=ve[Pe],qe*=le.minval_l[Pe],qe*=An,Ie[Pe]>qe&&(Ie[Pe]=qe),le.masking_lower>1&&(Ie[Pe]*=le.masking_lower),Ie[Pe]>xe[Pe]&&(Ie[Pe]=xe[Pe]),le.masking_lower<1&&(Ie[Pe]*=le.masking_lower),y(Ie[Pe]>=0)}for(;Pe<x.CBANDS;++Pe)xe[Pe]=0,Ie[Pe]=0}function lt(le,oe){var xe=le.internal_flags;le.short_blocks==o.short_block_coupled&&!(oe[0]!=0&&oe[1]!=0)&&(oe[0]=oe[1]=0);for(var Ie=0;Ie<xe.channels_out;Ie++)le.short_blocks==o.short_block_dispensed&&(oe[Ie]=1),le.short_blocks==o.short_block_forced&&(oe[Ie]=0)}function pt(le,oe,xe){for(var Ie=le.internal_flags,Fe=0;Fe<Ie.channels_out;Fe++){var ve=x.NORM_TYPE;oe[Fe]!=0?(y(Ie.blocktype_old[Fe]!=x.START_TYPE),Ie.blocktype_old[Fe]==x.SHORT_TYPE&&(ve=x.STOP_TYPE)):(ve=x.SHORT_TYPE,Ie.blocktype_old[Fe]==x.NORM_TYPE&&(Ie.blocktype_old[Fe]=x.START_TYPE),Ie.blocktype_old[Fe]==x.STOP_TYPE&&(Ie.blocktype_old[Fe]=x.SHORT_TYPE)),xe[Fe]=Ie.blocktype_old[Fe],Ie.blocktype_old[Fe]=ve}}function xt(le,oe,xe,Ie,Fe,ve,Be){for(var Ge=ve*2,Pe=ve>0?Math.pow(10,Fe):1,tn,qe,on=0;on<Be;++on){var An=le[2][on],at=le[3][on],Ke=oe[0][on],ke=oe[1][on],Te=oe[2][on],Xe=oe[3][on];if(Ke<=1.58*ke&&ke<=1.58*Ke){var Wn=xe[on]*at,fn=xe[on]*An;qe=Math.max(Te,Math.min(Xe,Wn)),tn=Math.max(Xe,Math.min(Te,fn))}else qe=Te,tn=Xe;if(ve>0){var Un,cn,Jn=Ie[on]*Pe;if(Un=Math.min(Math.max(Ke,Jn),Math.max(ke,Jn)),Te=Math.max(qe,Jn),Xe=Math.max(tn,Jn),cn=Te+Xe,cn>0&&Un*Ge<cn){var zt=Un*Ge/cn;Te*=zt,Xe*=zt,y(cn>0)}qe=Math.min(Te,qe),tn=Math.min(Xe,tn)}qe>An&&(qe=An),tn>at&&(tn=at),oe[2][on]=qe,oe[3][on]=tn}}this.L3psycho_anal_vbr=function(le,oe,xe,Ie,Fe,ve,Be,Ge,Pe,tn){var qe=le.internal_flags,on,An,at=f(x.HBLKSIZE),Ke=m([3,x.HBLKSIZE_s]),ke=m([2,x.BLKSIZE]),Te=m([2,3,x.BLKSIZE_s]),Xe=m([4,x.CBANDS]),Wn=m([4,x.CBANDS]),fn=m([4,3]),Un=.6,cn=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Jn=v(2),zt=le.mode==A.JOINT_STEREO?4:qe.channels_out;xn(le,oe,xe,Ie,Fe,ve,Pe,fn,cn,Jn),lt(le,Jn);for(var Mn=0;Mn<zt;Mn++){var gt=Mn&1;on=ke,zn(le,oe,xe,Mn,Ie,at,on,gt),ft(le,Ie,Mn,at),Jn[gt]!=0?an(qe,at,Xe[Mn],Wn[Mn],Mn):vt(qe,Mn)}Jn[0]+Jn[1]==2&&le.mode==A.JOINT_STEREO&&xt(Xe,Wn,qe.mld_cb_l,qe.ATH.cb_l,le.ATHlower*qe.ATH.adjust,le.msfix,qe.npart_l);for(var Mn=0;Mn<zt;Mn++){var gt=Mn&1;Jn[gt]!=0&&un(qe,Xe[Mn],Wn[Mn],Mn)}for(var It=0;It<3;It++){for(var Mn=0;Mn<zt;++Mn){var gt=Mn&1;Jn[gt]!=0?Ct(qe,Mn,It):(An=Te,Rn(le,oe,xe,Mn,It,Ke,An,gt),Dn(le,Ke,Xe[Mn],Wn[Mn],Mn,It))}Jn[0]+Jn[1]==0&&le.mode==A.JOINT_STEREO&&xt(Xe,Wn,qe.mld_cb_s,qe.ATH.cb_s,le.ATHlower*qe.ATH.adjust,le.msfix,qe.npart_s);for(var Mn=0;Mn<zt;++Mn){var gt=Mn&1;Jn[gt]==0&&nn(qe,Xe[Mn],Wn[Mn],Mn,It)}}for(var Mn=0;Mn<zt;Mn++){var gt=Mn&1;if(Jn[gt]==0)for(var dr=0;dr<x.SBMAX_s;dr++){for(var Wr=f(3),It=0;It<3;It++){var yr=qe.thm[Mn].s[dr][It];if(yr*=q,cn[Mn][It]>=2||cn[Mn][It+1]==1){var fr=It!=0?It-1:2,Ht=Bn(qe.thm[Mn].s[dr][fr],yr,z*Un);yr=Math.min(yr,Ht)}else if(cn[Mn][It]==1){var fr=It!=0?It-1:2,Ht=Bn(qe.thm[Mn].s[dr][fr],yr,te*Un);yr=Math.min(yr,Ht)}else if(It!=0&&cn[Mn][It-1]==3||It==0&&qe.nsPsy.lastAttacks[Mn]==3){var fr=It!=2?It+1:0,Ht=Bn(qe.thm[Mn].s[dr][fr],yr,te*Un);yr=Math.min(yr,Ht)}yr*=fn[Mn][It],Wr[It]=yr}for(var It=0;It<3;It++)qe.thm[Mn].s[dr][It]=Wr[It]}}for(var Mn=0;Mn<zt;Mn++)qe.nsPsy.lastAttacks[Mn]=cn[Mn][2];pt(le,Jn,tn);for(var Mn=0;Mn<zt;Mn++){var gi,Lr,Fi,jt;Mn>1?(gi=Ge,Lr=-2,Fi=x.NORM_TYPE,(tn[0]==x.SHORT_TYPE||tn[1]==x.SHORT_TYPE)&&(Fi=x.SHORT_TYPE),jt=ve[Ie][Mn-2]):(gi=Be,Lr=0,Fi=tn[Mn],jt=Fe[Ie][Mn]),Fi==x.SHORT_TYPE?gi[Lr+Mn]=G(jt,qe.masking_lower):gi[Lr+Mn]=En(jt,qe.masking_lower),le.analysis&&(qe.pinfo.pe[Ie][Mn]=gi[Lr+Mn])}return 0};function Et(le,oe){var xe=le,Ie;return xe>=0?Ie=-xe*27:Ie=xe*oe,Ie<=-72?0:Math.exp(Ie*W)}function pr(le){var oe=0,xe=0,Ie=0,Fe,ve;for(Ie=0;Et(Ie,le)>1e-20;Ie-=1);for(Fe=Ie,ve=0;Math.abs(ve-Fe)>1e-12;)Ie=(ve+Fe)/2,Et(Ie,le)>0?ve=Ie:Fe=Ie;oe=Fe;var Ie=0,Fe,ve;for(Ie=0;Et(Ie,le)>1e-20;Ie+=1);for(Fe=0,ve=Ie;Math.abs(ve-Fe)>1e-12;)Ie=(ve+Fe)/2,Et(Ie,le)>0?Fe=Ie:ve=Ie;xe=ve;var Be=0,Ge=1e3,Pe;for(Pe=0;Pe<=Ge;++Pe){var Ie=oe+Pe*(xe-oe)/Ge,tn=Et(Ie,le);Be+=tn}var qe=(Ge+1)/(Be*(xe-oe));return qe}function ei(le){var oe,xe,Ie,Fe;return oe=le,oe>=0?oe*=3:oe*=1.5,oe>=.5&&oe<=2.5?(Fe=oe-.5,xe=8*(Fe*Fe-2*Fe)):xe=0,oe+=.474,Ie=15.811389+7.5*oe-17.5*Math.sqrt(1+oe*oe),Ie<=-60?0:(oe=Math.exp((xe+Ie)*W),oe/=.6609193,oe)}function Rr(le){return le<0&&(le=0),le=le*.001,13*Math.atan(.76*le)+3.5*Math.atan(le*le/56.25)}function Xa(le,oe,xe,Ie,Fe,ve,Be,Ge,Pe,tn,qe,on){var An=f(x.CBANDS+1),at=Ge/(on>15?1152:384),Ke=v(x.HBLKSIZE),ke;Ge/=Pe;var Te=0,Xe=0;for(ke=0;ke<x.CBANDS;ke++){var Wn,fn;for(Wn=Rr(Ge*Te),An[ke]=Ge*Te,fn=Te;Rr(Ge*fn)-Wn<D&&fn<=Pe/2;fn++);for(le[ke]=fn-Te,Xe=ke+1;Te<fn;)y(Te<x.HBLKSIZE),Ke[Te++]=ke;if(Te>Pe/2){Te=Pe/2,++ke;break}}y(ke<x.CBANDS),An[ke]=Ge*Te;for(var Un=0;Un<on;Un++){var cn,Jn,zt,Mn,gt;zt=tn[Un],Mn=tn[Un+1],cn=0|Math.floor(.5+qe*(zt-.5)),cn<0&&(cn=0),Jn=0|Math.floor(.5+qe*(Mn-.5)),Jn>Pe/2&&(Jn=Pe/2),xe[Un]=(Ke[cn]+Ke[Jn])/2,oe[Un]=Ke[Jn];var It=at*Mn;Be[Un]=(It-An[oe[Un]])/(An[oe[Un]+1]-An[oe[Un]]),Be[Un]<0?Be[Un]=0:Be[Un]>1&&(Be[Un]=1),gt=Rr(Ge*tn[Un]*qe),gt=Math.min(gt,15.5)/15.5,ve[Un]=Math.pow(10,1.25*(1-Math.cos(Math.PI*gt))-2.5)}Te=0;for(var dr=0;dr<Xe;dr++){var Wr=le[dr],Wn,yr;Wn=Rr(Ge*Te),yr=Rr(Ge*(Te+Wr-1)),Ie[dr]=.5*(Wn+yr),Wn=Rr(Ge*(Te-.5)),yr=Rr(Ge*(Te+Wr-.5)),Fe[dr]=yr-Wn,Te+=Wr}return Xe}function Kr(le,oe,xe,Ie,Fe,ve){var Be=m([x.CBANDS,x.CBANDS]),Ge,Pe=0;if(ve)for(var tn=0;tn<oe;tn++)for(Ge=0;Ge<oe;Ge++){var qe=ei(xe[tn]-xe[Ge])*Ie[Ge];Be[tn][Ge]=qe*Fe[tn]}else for(Ge=0;Ge<oe;Ge++)for(var on=15+Math.min(21/xe[Ge],12),An=pr(on),tn=0;tn<oe;tn++){var qe=An*Et(xe[tn]-xe[Ge],on)*Ie[Ge];Be[tn][Ge]=qe*Fe[tn]}for(var tn=0;tn<oe;tn++){for(Ge=0;Ge<oe&&!(Be[tn][Ge]>0);Ge++);for(le[tn][0]=Ge,Ge=oe-1;Ge>0&&!(Be[tn][Ge]>0);Ge--);le[tn][1]=Ge,Pe+=le[tn][1]-le[tn][0]+1}for(var at=f(Pe),Ke=0,tn=0;tn<oe;tn++)for(Ge=le[tn][0];Ge<=le[tn][1];Ge++)at[Ke++]=Be[tn][Ge];return at}function Xi(le){var oe=Rr(le);return oe=Math.min(oe,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*oe))-2.5)}this.psymodel_init=function(le){var oe=le.internal_flags,xe,Ie=!0,Fe=13,ve=24,Be=0,Ge=0,Pe=-8.25,tn=-4.5,qe=f(x.CBANDS),on=f(x.CBANDS),An=f(x.CBANDS),at=le.out_samplerate;switch(le.experimentalZ){default:case 0:Ie=!0;break;case 1:Ie=!(le.VBR==r.vbr_mtrh||le.VBR==r.vbr_mt);break;case 2:Ie=!1;break;case 3:Fe=8,Be=-1.75,Ge=-.0125,Pe=-8.25,tn=-2.25;break}for(oe.ms_ener_ratio_old=.25,oe.blocktype_old[0]=oe.blocktype_old[1]=x.NORM_TYPE,xe=0;xe<4;++xe){for(var Te=0;Te<x.CBANDS;++Te)oe.nb_1[xe][Te]=1e20,oe.nb_2[xe][Te]=1e20,oe.nb_s1[xe][Te]=oe.nb_s2[xe][Te]=1;for(var Ke=0;Ke<x.SBMAX_l;Ke++)oe.en[xe].l[Ke]=1e20,oe.thm[xe].l[Ke]=1e20;for(var Te=0;Te<3;++Te){for(var Ke=0;Ke<x.SBMAX_s;Ke++)oe.en[xe].s[Ke][Te]=1e20,oe.thm[xe].s[Ke][Te]=1e20;oe.nsPsy.lastAttacks[xe]=0}for(var Te=0;Te<9;Te++)oe.nsPsy.last_en_subshort[xe][Te]=10}for(oe.loudness_sq_save[0]=oe.loudness_sq_save[1]=0,oe.npart_l=Xa(oe.numlines_l,oe.bo_l,oe.bm_l,qe,on,oe.mld_l,oe.PSY.bo_l_weight,at,x.BLKSIZE,oe.scalefac_band.l,x.BLKSIZE/1152,x.SBMAX_l),y(oe.npart_l<x.CBANDS),xe=0;xe<oe.npart_l;xe++){var ke=Be;qe[xe]>=Fe&&(ke=Ge*(qe[xe]-Fe)/(ve-Fe)+Be*(ve-qe[xe])/(ve-Fe)),An[xe]=Math.pow(10,ke/10),oe.numlines_l[xe]>0?oe.rnumlines_l[xe]=1/oe.numlines_l[xe]:oe.rnumlines_l[xe]=0}oe.s3_ll=Kr(oe.s3ind,oe.npart_l,qe,on,An,Ie);var Te=0;for(xe=0;xe<oe.npart_l;xe++){var Xe;Xe=a.MAX_VALUE;for(var Wn=0;Wn<oe.numlines_l[xe];Wn++,Te++){var fn=at*Te/(1e3*x.BLKSIZE),Un;Un=this.ATHformula(fn*1e3,le)-20,Un=Math.pow(10,.1*Un),Un*=oe.numlines_l[xe],Xe>Un&&(Xe=Un)}oe.ATH.cb_l[xe]=Xe,Xe=-20+qe[xe]*20/10,Xe>6&&(Xe=100),Xe<-15&&(Xe=-15),Xe-=8,oe.minval_l[xe]=Math.pow(10,Xe/10)*oe.numlines_l[xe]}for(oe.npart_s=Xa(oe.numlines_s,oe.bo_s,oe.bm_s,qe,on,oe.mld_s,oe.PSY.bo_s_weight,at,x.BLKSIZE_s,oe.scalefac_band.s,x.BLKSIZE_s/384,x.SBMAX_s),y(oe.npart_s<x.CBANDS),Te=0,xe=0;xe<oe.npart_s;xe++){var Xe,ke=Pe;qe[xe]>=Fe&&(ke=tn*(qe[xe]-Fe)/(ve-Fe)+Pe*(ve-qe[xe])/(ve-Fe)),An[xe]=Math.pow(10,ke/10),Xe=a.MAX_VALUE;for(var Wn=0;Wn<oe.numlines_s[xe];Wn++,Te++){var fn=at*Te/(1e3*x.BLKSIZE_s),Un;Un=this.ATHformula(fn*1e3,le)-20,Un=Math.pow(10,.1*Un),Un*=oe.numlines_s[xe],Xe>Un&&(Xe=Un)}oe.ATH.cb_s[xe]=Xe,Xe=-7+qe[xe]*7/12,qe[xe]>12&&(Xe*=1+Math.log(1+Xe)*3.1),qe[xe]<12&&(Xe*=1+Math.log(1-Xe)*2.3),Xe<-15&&(Xe=-15),Xe-=8,oe.minval_s[xe]=Math.pow(10,Xe/10)*oe.numlines_s[xe]}oe.s3_ss=Kr(oe.s3ind_s,oe.npart_s,qe,on,An,Ie),Q(),L.init_fft(oe),oe.decay=Math.exp(-1*S/(M*at/192));var cn;cn=he,(le.exp_nspsytune&2)!=0&&(cn=1),Math.abs(le.msfix)>0&&(cn=le.msfix),le.msfix=cn;for(var Jn=0;Jn<oe.npart_l;Jn++)oe.s3ind[Jn][1]>oe.npart_l-1&&(oe.s3ind[Jn][1]=oe.npart_l-1);var zt=576*oe.mode_gr/at;if(oe.ATH.decay=Math.pow(10,-1.2*zt),oe.ATH.adjust=.01,oe.ATH.adjustLimit=1,y(oe.bo_l[x.SBMAX_l-1]<=oe.npart_l),y(oe.bo_s[x.SBMAX_s-1]<=oe.npart_s),le.ATHtype!=-1){var fn,Mn=le.out_samplerate/x.BLKSIZE,gt=0;for(fn=0,xe=0;xe<x.BLKSIZE/2;++xe)fn+=Mn,oe.ATH.eql_w[xe]=1/Math.pow(10,this.ATHformula(fn,le)/10),gt+=oe.ATH.eql_w[xe];for(gt=1/gt,xe=x.BLKSIZE/2;--xe>=0;)oe.ATH.eql_w[xe]*=gt}for(var Jn=Te=0;Jn<oe.npart_s;++Jn)for(xe=0;xe<oe.numlines_s[Jn];++xe)++Te;y(Te==129);for(var Jn=Te=0;Jn<oe.npart_l;++Jn)for(xe=0;xe<oe.numlines_l[Jn];++xe)++Te;for(y(Te==513),Te=0,xe=0;xe<oe.npart_l;xe++){var fn=at*(Te+oe.numlines_l[xe]/2)/(1*x.BLKSIZE);oe.mld_cb_l[xe]=Xi(fn),Te+=oe.numlines_l[xe]}for(;xe<x.CBANDS;++xe)oe.mld_cb_l[xe]=1;for(Te=0,xe=0;xe<oe.npart_s;xe++){var fn=at*(Te+oe.numlines_s[xe]/2)/(1*x.BLKSIZE_s);oe.mld_cb_s[xe]=Xi(fn),Te+=oe.numlines_s[xe]}for(;xe<x.CBANDS;++xe)oe.mld_cb_s[xe]=1;return 0};function Oi(le,oe){le<-.3&&(le=3410),le/=1e3,le=Math.max(.1,le);var xe=3.64*Math.pow(le,-.8)-6.8*Math.exp(-.6*Math.pow(le-3.4,2))+6*Math.exp(-.15*Math.pow(le-8.7,2))+(.6+.04*oe)*.001*Math.pow(le,4);return xe}this.ATHformula=function(le,oe){var xe;switch(oe.ATHtype){case 0:xe=Oi(le,9);break;case 1:xe=Oi(le,-1);break;case 2:xe=Oi(le,0);break;case 3:xe=Oi(le,1)+6;break;case 4:xe=Oi(le,oe.ATHcurve);break;default:xe=Oi(le,0);break}return xe}}n.exports=C});yn.register("2g11P",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock;var r=e.Util;e.Arrays,e.new_array_n,e.new_byte,e.new_double;var a=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var o=yn("cPNKB");function c(){var h=a(o.BLKSIZE),f=a(o.BLKSIZE_s/2),m=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function v(w,x,C){var A=0,L,S,k;C<<=1;var N=x+C;L=4;do{var O,H,D,T,M,q,z;z=L>>1,T=L,M=L<<1,q=M+T,L=M<<1,S=x,k=S+z;do{var te,he,B,W;he=w[S+0]-w[S+T],te=w[S+0]+w[S+T],W=w[S+M]-w[S+q],B=w[S+M]+w[S+q],w[S+M]=te-B,w[S+0]=te+B,w[S+q]=he-W,w[S+T]=he+W,he=w[k+0]-w[k+T],te=w[k+0]+w[k+T],W=r.SQRT2*w[k+q],B=r.SQRT2*w[k+M],w[k+M]=te-B,w[k+0]=te+B,w[k+q]=he-W,w[k+T]=he+W,k+=L,S+=L}while(S<N);for(H=m[A+0],O=m[A+1],D=1;D<z;D++){var re,j;re=1-2*O*O,j=2*O*H,S=x+D,k=x+T-D;do{var _e,ie,se,te,he,me,B,Me,W,de;ie=j*w[S+T]-re*w[k+T],_e=re*w[S+T]+j*w[k+T],he=w[S+0]-_e,te=w[S+0]+_e,me=w[k+0]-ie,se=w[k+0]+ie,ie=j*w[S+q]-re*w[k+q],_e=re*w[S+q]+j*w[k+q],W=w[S+M]-_e,B=w[S+M]+_e,de=w[k+M]-ie,Me=w[k+M]+ie,ie=O*B-H*de,_e=H*B+O*de,w[S+M]=te-_e,w[S+0]=te+_e,w[k+q]=me-ie,w[k+T]=me+ie,ie=H*Me-O*W,_e=O*Me+H*W,w[k+M]=se-_e,w[k+0]=se+_e,w[S+q]=he-ie,w[S+T]=he+ie,k+=L,S+=L}while(S<N);re=H,H=re*m[A+0]-O*m[A+1],O=re*m[A+1]+O*m[A+0]}A+=2}while(L<C)}var y=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(w,x,C,A,L){for(var S=0;S<3;S++){var k=o.BLKSIZE_s/2,N=65535&192*(S+1),O=o.BLKSIZE_s/8-1;do{var H,D,T,M,q,z=y[O<<2]&255;H=f[z]*A[C][L+z+N],q=f[127-z]*A[C][L+z+N+128],D=H-q,H=H+q,T=f[z+64]*A[C][L+z+N+64],q=f[63-z]*A[C][L+z+N+192],M=T-q,T=T+q,k-=4,x[S][k+0]=H+T,x[S][k+2]=H-T,x[S][k+1]=D+M,x[S][k+3]=D-M,H=f[z+1]*A[C][L+z+N+1],q=f[126-z]*A[C][L+z+N+129],D=H-q,H=H+q,T=f[z+65]*A[C][L+z+N+65],q=f[62-z]*A[C][L+z+N+193],M=T-q,T=T+q,x[S][k+o.BLKSIZE_s/2+0]=H+T,x[S][k+o.BLKSIZE_s/2+2]=H-T,x[S][k+o.BLKSIZE_s/2+1]=D+M,x[S][k+o.BLKSIZE_s/2+3]=D-M}while(--O>=0);v(x[S],k,o.BLKSIZE_s/2)}},this.fft_long=function(w,x,C,A,L){var S=o.BLKSIZE/8-1,k=o.BLKSIZE/2;do{var N,O,H,D,T,M=y[S]&255;N=h[M]*A[C][L+M],T=h[M+512]*A[C][L+M+512],O=N-T,N=N+T,H=h[M+256]*A[C][L+M+256],T=h[M+768]*A[C][L+M+768],D=H-T,H=H+T,k-=4,x[k+0]=N+H,x[k+2]=N-H,x[k+1]=O+D,x[k+3]=O-D,N=h[M+1]*A[C][L+M+1],T=h[M+513]*A[C][L+M+513],O=N-T,N=N+T,H=h[M+257]*A[C][L+M+257],T=h[M+769]*A[C][L+M+769],D=H-T,H=H+T,x[k+o.BLKSIZE/2+0]=N+H,x[k+o.BLKSIZE/2+2]=N-H,x[k+o.BLKSIZE/2+1]=O+D,x[k+o.BLKSIZE/2+3]=O-D}while(--S>=0);v(x,k,o.BLKSIZE/2)},this.init_fft=function(w){for(var x=0;x<o.BLKSIZE;x++)h[x]=.42-.5*Math.cos(2*Math.PI*(x+.5)/o.BLKSIZE)+.08*Math.cos(4*Math.PI*(x+.5)/o.BLKSIZE);for(var x=0;x<o.BLKSIZE_s/2;x++)f[x]=.5*(1-Math.cos(2*Math.PI*(x+.5)/o.BLKSIZE_s))}}n.exports=c});yn.register("cPNKB",function(n,t){var e=yn("3YDN3"),r=e.System,a=e.VbrMode;e.Float,e.ShortBlock,e.Util,e.Arrays;var o=e.new_array_n;e.new_byte,e.new_double;var c=e.new_float,h=e.new_float_n,f=e.new_int;e.new_int_n;var m=e.assert;v.ENCDELAY=576,v.POSTDELAY=1152,v.MDCTDELAY=48,v.FFTOFFSET=224+v.MDCTDELAY,v.DECDELAY=528,v.SBLIMIT=32,v.CBANDS=64,v.SBPSY_l=21,v.SBPSY_s=12,v.SBMAX_l=22,v.SBMAX_s=13,v.PSFB21=6,v.PSFB12=6,v.BLKSIZE=1024,v.HBLKSIZE=v.BLKSIZE/2+1,v.BLKSIZE_s=256,v.HBLKSIZE_s=v.BLKSIZE_s/2+1,v.NORM_TYPE=0,v.START_TYPE=1,v.SHORT_TYPE=2,v.STOP_TYPE=3,v.MPG_MD_LR_LR=0,v.MPG_MD_LR_I=1,v.MPG_MD_MS_LR=2,v.MPG_MD_MS_I=3,v.fircoef=[-.1039435,-.1892065,-.0432472*5,-.155915,779609e-23*5,.0467745*5,.50455,.756825,.187098*5];function v(){var y=yn("drj3v"),w=yn("hvy40"),x=yn("jL6I1"),C=v.FFTOFFSET,A=v.MPG_MD_MS_LR,L=null;this.psy=null;var S=null,k=null,N=null;this.setModules=function(M,q,z,te){L=M,this.psy=q,S=q,k=te,N=z};var O=new y;function H(M){var q,z;if(M.ATH.useAdjust==0){M.ATH.adjust=1;return}if(z=M.loudness_sq[0][0],q=M.loudness_sq[1][0],M.channels_out==2?(z+=M.loudness_sq[0][1],q+=M.loudness_sq[1][1]):(z+=z,q+=q),M.mode_gr==2&&(z=Math.max(z,q)),z*=.5,z*=M.ATH.aaSensitivityP,z>.03125)M.ATH.adjust>=1?M.ATH.adjust=1:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=1;else{var te=31.98*z+625e-6;M.ATH.adjust>=te?(M.ATH.adjust*=te*.075+.925,M.ATH.adjust<te&&(M.ATH.adjust=te)):M.ATH.adjustLimit>=te?M.ATH.adjust=te:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=te}}function D(M){var q,z;for(m(0<=M.bitrate_index&&M.bitrate_index<16),m(0<=M.mode_ext&&M.mode_ext<4),M.bitrate_stereoMode_Hist[M.bitrate_index][4]++,M.bitrate_stereoMode_Hist[15][4]++,M.channels_out==2&&(M.bitrate_stereoMode_Hist[M.bitrate_index][M.mode_ext]++,M.bitrate_stereoMode_Hist[15][M.mode_ext]++),q=0;q<M.mode_gr;++q)for(z=0;z<M.channels_out;++z){var te=M.l3_side.tt[q][z].block_type|0;M.l3_side.tt[q][z].mixed_block_flag!=0&&(te=4),M.bitrate_blockType_Hist[M.bitrate_index][te]++,M.bitrate_blockType_Hist[M.bitrate_index][5]++,M.bitrate_blockType_Hist[15][te]++,M.bitrate_blockType_Hist[15][5]++}}function T(M,q){var z=M.internal_flags,te,he;if(z.lame_encode_frame_init==0){var B,W,re=c(2014),j=c(2014);for(z.lame_encode_frame_init=1,B=0,W=0;B<286+576*(1+z.mode_gr);++B)B<576*z.mode_gr?(re[B]=0,z.channels_out==2&&(j[B]=0)):(re[B]=q[0][W],z.channels_out==2&&(j[B]=q[1][W]),++W);for(he=0;he<z.mode_gr;he++)for(te=0;te<z.channels_out;te++)z.l3_side.tt[he][te].block_type=v.SHORT_TYPE;O.mdct_sub48(z,re,j),m(576>=v.FFTOFFSET),m(z.mf_size>=v.BLKSIZE+M.framesize-v.FFTOFFSET),m(z.mf_size>=512+M.framesize-32)}}this.lame_encode_mp3_frame=function(M,q,z,te,he,B){var W,re=o([2,2]);re[0][0]=new w,re[0][1]=new w,re[1][0]=new w,re[1][1]=new w;var j=o([2,2]);j[0][0]=new w,j[0][1]=new w,j[1][0]=new w,j[1][1]=new w;var _e,ie=[null,null],se=M.internal_flags,me=h([2,4]),Me=[.5,.5],de=[[0,0],[0,0]],ue=[[0,0],[0,0]],V,Q,$;if(ie[0]=q,ie[1]=z,se.lame_encode_frame_init==0&&T(M,ie),se.padding=0,(se.slot_lag-=se.frac_SpF)<0&&(se.slot_lag+=M.out_samplerate,se.padding=1),se.psymodel!=0){var ne,De=[null,null],We=0,Ae=f(2);for($=0;$<se.mode_gr;$++){for(Q=0;Q<se.channels_out;Q++)De[Q]=ie[Q],We=576+$*576-v.FFTOFFSET;if(M.VBR==a.vbr_mtrh||M.VBR==a.vbr_mt?ne=S.L3psycho_anal_vbr(M,De,We,$,re,j,de[$],ue[$],me[$],Ae):ne=S.L3psycho_anal_ns(M,De,We,$,re,j,de[$],ue[$],me[$],Ae),ne!=0)return-4;for(M.mode==x.JOINT_STEREO&&(Me[$]=me[$][2]+me[$][3],Me[$]>0&&(Me[$]=me[$][3]/Me[$])),Q=0;Q<se.channels_out;Q++){var we=se.l3_side.tt[$][Q];we.block_type=Ae[Q],we.mixed_block_flag=0}}}else for($=0;$<se.mode_gr;$++)for(Q=0;Q<se.channels_out;Q++)se.l3_side.tt[$][Q].block_type=v.NORM_TYPE,se.l3_side.tt[$][Q].mixed_block_flag=0,ue[$][Q]=de[$][Q]=700;if(H(se),O.mdct_sub48(se,ie[0],ie[1]),se.mode_ext=v.MPG_MD_LR_LR,M.force_ms)se.mode_ext=v.MPG_MD_MS_LR;else if(M.mode==x.JOINT_STEREO){var Ue=0,He=0;for($=0;$<se.mode_gr;$++)for(Q=0;Q<se.channels_out;Q++)Ue+=ue[$][Q],He+=de[$][Q];if(Ue<=1*He){var en=se.l3_side.tt[0],nn=se.l3_side.tt[se.mode_gr-1];en[0].block_type==en[1].block_type&&nn[0].block_type==nn[1].block_type&&(se.mode_ext=v.MPG_MD_MS_LR)}}if(se.mode_ext==A?(_e=j,V=ue):(_e=re,V=de),M.analysis&&se.pinfo!=null)for($=0;$<se.mode_gr;$++)for(Q=0;Q<se.channels_out;Q++)se.pinfo.ms_ratio[$]=se.ms_ratio[$],se.pinfo.ms_ener_ratio[$]=Me[$],se.pinfo.blocktype[$][Q]=se.l3_side.tt[$][Q].block_type,se.pinfo.pe[$][Q]=V[$][Q],r.arraycopy(se.l3_side.tt[$][Q].xr,0,se.pinfo.xr[$][Q],0,576),se.mode_ext==A&&(se.pinfo.ers[$][Q]=se.pinfo.ers[$][Q+2],r.arraycopy(se.pinfo.energy[$][Q+2],0,se.pinfo.energy[$][Q],0,se.pinfo.energy[$][Q].length));if(M.VBR==a.vbr_off||M.VBR==a.vbr_abr){var un,mn;for(un=0;un<18;un++)se.nsPsy.pefirbuf[un]=se.nsPsy.pefirbuf[un+1];for(mn=0,$=0;$<se.mode_gr;$++)for(Q=0;Q<se.channels_out;Q++)mn+=V[$][Q];for(se.nsPsy.pefirbuf[18]=mn,mn=se.nsPsy.pefirbuf[9],un=0;un<9;un++)mn+=(se.nsPsy.pefirbuf[un]+se.nsPsy.pefirbuf[18-un])*v.fircoef[un];for(mn=3350*se.mode_gr*se.channels_out/mn,$=0;$<se.mode_gr;$++)for(Q=0;Q<se.channels_out;Q++)V[$][Q]*=mn}if(se.iteration_loop.iteration_loop(M,V,Me,_e),L.format_bitstream(M),W=L.copy_buffer(se,te,he,B,1),M.bWriteVbrTag&&k.addVbrFrame(M),M.analysis&&se.pinfo!=null){for(Q=0;Q<se.channels_out;Q++){var ln;for(ln=0;ln<C;ln++)se.pinfo.pcmdata[Q][ln]=se.pinfo.pcmdata[Q][ln+M.framesize];for(ln=C;ln<1600;ln++)se.pinfo.pcmdata[Q][ln]=ie[Q][ln-C]}N.set_frame_pinfo(M,_e)}return D(se),W}}n.exports=v});yn.register("drj3v",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock;var a=e.Util,o=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var c=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var h=yn("cPNKB");function f(){var m=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*a.SQRT2*.5/2384e-9,.017876148*a.SQRT2*.5/2384e-9,.003134727*a.SQRT2*.5/2384e-9,.002457142*a.SQRT2*.5/2384e-9,971317e-9*a.SQRT2*.5/2384e-9,218868e-9*a.SQRT2*.5/2384e-9,101566e-9*a.SQRT2*.5/2384e-9,13828e-9*a.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],v=12,y=36,w=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],x=w[h.SHORT_TYPE],C=w[h.SHORT_TYPE],A=w[h.SHORT_TYPE],L=w[h.SHORT_TYPE],S=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function k(H,D,T){for(var M=10,q=D+238-14-286,z=-15;z<0;z++){var te,he,B;te=m[M+-10],he=H[q+-224]*te,B=H[D+224]*te,te=m[M+-9],he+=H[q+-160]*te,B+=H[D+160]*te,te=m[M+-8],he+=H[q+-96]*te,B+=H[D+96]*te,te=m[M+-7],he+=H[q+-32]*te,B+=H[D+32]*te,te=m[M+-6],he+=H[q+32]*te,B+=H[D+-32]*te,te=m[M+-5],he+=H[q+96]*te,B+=H[D+-96]*te,te=m[M+-4],he+=H[q+160]*te,B+=H[D+-160]*te,te=m[M+-3],he+=H[q+224]*te,B+=H[D+-224]*te,te=m[M+-2],he+=H[D+-256]*te,B-=H[q+256]*te,te=m[M+-1],he+=H[D+-192]*te,B-=H[q+192]*te,te=m[M+0],he+=H[D+-128]*te,B-=H[q+128]*te,te=m[M+1],he+=H[D+-64]*te,B-=H[q+64]*te,te=m[M+2],he+=H[D+0]*te,B-=H[q+0]*te,te=m[M+3],he+=H[D+64]*te,B-=H[q+-64]*te,te=m[M+4],he+=H[D+128]*te,B-=H[q+-128]*te,te=m[M+5],he+=H[D+192]*te,B-=H[q+-192]*te,he*=m[M+6],te=B-he,T[30+z*2]=B+he,T[31+z*2]=m[M+7]*te,M+=18,D--,q++}var he,B,W,re;B=H[D+-16]*m[M+-10],he=H[D+-32]*m[M+-2],B+=(H[D+-48]-H[D+16])*m[M+-9],he+=H[D+-96]*m[M+-1],B+=(H[D+-80]+H[D+48])*m[M+-8],he+=H[D+-160]*m[M+0],B+=(H[D+-112]-H[D+80])*m[M+-7],he+=H[D+-224]*m[M+1],B+=(H[D+-144]+H[D+112])*m[M+-6],he-=H[D+32]*m[M+2],B+=(H[D+-176]-H[D+144])*m[M+-5],he-=H[D+96]*m[M+3],B+=(H[D+-208]+H[D+176])*m[M+-4],he-=H[D+160]*m[M+4],B+=(H[D+-240]-H[D+208])*m[M+-3],he-=H[D+224],W=he-B,re=he+B,B=T[14],he=T[15]-B,T[31]=re+B,T[30]=W+he,T[15]=W-he,T[14]=re-B;var j;j=T[28]-T[0],T[0]+=T[28],T[28]=j*m[M+-36+7],j=T[29]-T[1],T[1]+=T[29],T[29]=j*m[M+-36+7],j=T[26]-T[2],T[2]+=T[26],T[26]=j*m[M+-72+7],j=T[27]-T[3],T[3]+=T[27],T[27]=j*m[M+-72+7],j=T[24]-T[4],T[4]+=T[24],T[24]=j*m[M+-108+7],j=T[25]-T[5],T[5]+=T[25],T[25]=j*m[M+-108+7],j=T[22]-T[6],T[6]+=T[22],T[22]=j*a.SQRT2,j=T[23]-T[7],T[7]+=T[23],T[23]=j*a.SQRT2-T[7],T[7]-=T[6],T[22]-=T[7],T[23]-=T[22],j=T[6],T[6]=T[31]-j,T[31]=T[31]+j,j=T[7],T[7]=T[30]-j,T[30]=T[30]+j,j=T[22],T[22]=T[15]-j,T[15]=T[15]+j,j=T[23],T[23]=T[14]-j,T[14]=T[14]+j,j=T[20]-T[8],T[8]+=T[20],T[20]=j*m[M+-180+7],j=T[21]-T[9],T[9]+=T[21],T[21]=j*m[M+-180+7],j=T[18]-T[10],T[10]+=T[18],T[18]=j*m[M+-216+7],j=T[19]-T[11],T[11]+=T[19],T[19]=j*m[M+-216+7],j=T[16]-T[12],T[12]+=T[16],T[16]=j*m[M+-252+7],j=T[17]-T[13],T[13]+=T[17],T[17]=j*m[M+-252+7],j=-T[20]+T[24],T[20]+=T[24],T[24]=j*m[M+-216+7],j=-T[21]+T[25],T[21]+=T[25],T[25]=j*m[M+-216+7],j=T[4]-T[8],T[4]+=T[8],T[8]=j*m[M+-216+7],j=T[5]-T[9],T[5]+=T[9],T[9]=j*m[M+-216+7],j=T[0]-T[12],T[0]+=T[12],T[12]=j*m[M+-72+7],j=T[1]-T[13],T[1]+=T[13],T[13]=j*m[M+-72+7],j=T[16]-T[28],T[16]+=T[28],T[28]=j*m[M+-72+7],j=-T[17]+T[29],T[17]+=T[29],T[29]=j*m[M+-72+7],j=a.SQRT2*(T[2]-T[10]),T[2]+=T[10],T[10]=j,j=a.SQRT2*(T[3]-T[11]),T[3]+=T[11],T[11]=j,j=a.SQRT2*(-T[18]+T[26]),T[18]+=T[26],T[26]=j-T[18],j=a.SQRT2*(-T[19]+T[27]),T[19]+=T[27],T[27]=j-T[19],j=T[2],T[19]-=T[3],T[3]-=j,T[2]=T[31]-j,T[31]+=j,j=T[3],T[11]-=T[19],T[18]-=j,T[3]=T[30]-j,T[30]+=j,j=T[18],T[27]-=T[11],T[19]-=j,T[18]=T[15]-j,T[15]+=j,j=T[19],T[10]-=j,T[19]=T[14]-j,T[14]+=j,j=T[10],T[11]-=j,T[10]=T[23]-j,T[23]+=j,j=T[11],T[26]-=j,T[11]=T[22]-j,T[22]+=j,j=T[26],T[27]-=j,T[26]=T[7]-j,T[7]+=j,j=T[27],T[27]=T[6]-j,T[6]+=j,j=a.SQRT2*(T[0]-T[4]),T[0]+=T[4],T[4]=j,j=a.SQRT2*(T[1]-T[5]),T[1]+=T[5],T[5]=j,j=a.SQRT2*(T[16]-T[20]),T[16]+=T[20],T[20]=j,j=a.SQRT2*(T[17]-T[21]),T[17]+=T[21],T[21]=j,j=-a.SQRT2*(T[8]-T[12]),T[8]+=T[12],T[12]=j-T[8],j=-a.SQRT2*(T[9]-T[13]),T[9]+=T[13],T[13]=j-T[9],j=-a.SQRT2*(T[25]-T[29]),T[25]+=T[29],T[29]=j-T[25],j=-a.SQRT2*(T[24]+T[28]),T[24]-=T[28],T[28]=j-T[24],j=T[24]-T[16],T[24]=j,j=T[20]-j,T[20]=j,j=T[28]-j,T[28]=j,j=T[25]-T[17],T[25]=j,j=T[21]-j,T[21]=j,j=T[29]-j,T[29]=j,j=T[17]-T[1],T[17]=j,j=T[9]-j,T[9]=j,j=T[25]-j,T[25]=j,j=T[5]-j,T[5]=j,j=T[21]-j,T[21]=j,j=T[13]-j,T[13]=j,j=T[29]-j,T[29]=j,j=T[1]-T[0],T[1]=j,j=T[16]-j,T[16]=j,j=T[17]-j,T[17]=j,j=T[8]-j,T[8]=j,j=T[9]-j,T[9]=j,j=T[24]-j,T[24]=j,j=T[25]-j,T[25]=j,j=T[4]-j,T[4]=j,j=T[5]-j,T[5]=j,j=T[20]-j,T[20]=j,j=T[21]-j,T[21]=j,j=T[12]-j,T[12]=j,j=T[13]-j,T[13]=j,j=T[28]-j,T[28]=j,j=T[29]-j,T[29]=j,j=T[0],T[0]+=T[31],T[31]-=j,j=T[1],T[1]+=T[30],T[30]-=j,j=T[16],T[16]+=T[15],T[15]-=j,j=T[17],T[17]+=T[14],T[14]-=j,j=T[8],T[8]+=T[23],T[23]-=j,j=T[9],T[9]+=T[22],T[22]-=j,j=T[24],T[24]+=T[7],T[7]-=j,j=T[25],T[25]+=T[6],T[6]-=j,j=T[4],T[4]+=T[27],T[27]-=j,j=T[5],T[5]+=T[26],T[26]-=j,j=T[20],T[20]+=T[11],T[11]-=j,j=T[21],T[21]+=T[10],T[10]-=j,j=T[12],T[12]+=T[19],T[19]-=j,j=T[13],T[13]+=T[18],T[18]-=j,j=T[28],T[28]+=T[3],T[3]-=j,j=T[29],T[29]+=T[2],T[2]-=j}function N(H,D){for(var T=0;T<3;T++){var M,q,z,te,he,B;te=H[D+6]*w[h.SHORT_TYPE][0]-H[D+15],M=H[D+0]*w[h.SHORT_TYPE][2]-H[D+9],q=te+M,z=te-M,te=H[D+15]*w[h.SHORT_TYPE][0]+H[D+6],M=H[D+9]*w[h.SHORT_TYPE][2]+H[D+0],he=te+M,B=-te+M,M=(H[D+3]*w[h.SHORT_TYPE][1]-H[D+12])*2069978111953089e-26,te=(H[D+12]*w[h.SHORT_TYPE][1]+H[D+3])*2069978111953089e-26,H[D+0]=q*190752519173728e-25+M,H[D+15]=-he*190752519173728e-25+te,z=z*16519652744032674e-27,he=he*.5*1907525191737281e-26+te,H[D+3]=z-he,H[D+6]=z+he,q=q*.5*1907525191737281e-26-M,B=B*16519652744032674e-27,H[D+9]=q+B,H[D+12]=q-B,D++}}function O(H,D,T){var M,q,z,te,he,B,W,re,j,_e;z=T[17]-T[9],he=T[15]-T[11],B=T[14]-T[12],W=T[0]+T[8],re=T[1]+T[7],j=T[2]+T[6],_e=T[3]+T[5],H[D+17]=W+j-_e-(re-T[4]),q=(W+j-_e)*C[19]+(re-T[4]),M=(z-he-B)*C[18],H[D+5]=M+q,H[D+6]=M-q,te=(T[16]-T[10])*C[18],re=re*C[19]+T[4],M=z*C[12]+te+he*C[13]+B*C[14],q=-W*C[16]+re-j*C[17]+_e*C[15],H[D+1]=M+q,H[D+2]=M-q,M=z*C[13]-te-he*C[14]+B*C[12],q=-W*C[17]+re-j*C[15]+_e*C[16],H[D+9]=M+q,H[D+10]=M-q,M=z*C[14]-te+he*C[12]-B*C[13],q=W*C[15]-re+j*C[16]-_e*C[17],H[D+13]=M+q,H[D+14]=M-q;var ie,se,me,Me,de,ue,V,Q;ie=T[8]-T[0],me=T[6]-T[2],Me=T[5]-T[3],de=T[17]+T[9],ue=T[16]+T[10],V=T[15]+T[11],Q=T[14]+T[12],H[D+0]=de+V+Q+(ue+T[13]),M=(de+V+Q)*C[19]-(ue+T[13]),q=(ie-me+Me)*C[18],H[D+11]=M+q,H[D+12]=M-q,se=(T[7]-T[1])*C[18],ue=T[13]-ue*C[19],M=de*C[15]-ue+V*C[16]+Q*C[17],q=ie*C[14]+se+me*C[12]+Me*C[13],H[D+3]=M+q,H[D+4]=M-q,M=-de*C[17]+ue-V*C[15]-Q*C[16],q=ie*C[13]+se-me*C[14]-Me*C[12],H[D+7]=M+q,H[D+8]=M-q,M=-de*C[16]+ue-V*C[17]-Q*C[15],q=ie*C[12]-se+me*C[13]-Me*C[14],H[D+15]=M+q,H[D+16]=M-q}this.mdct_sub48=function(H,D,T){for(var M=D,q=286,z=0;z<H.channels_out;z++){for(var te=0;te<H.mode_gr;te++){for(var he,B=H.l3_side.tt[te][z],W=B.xr,re=0,j=H.sb_sample[z][1-te],_e=0,ie=0;ie<9;ie++)for(k(M,q,j[_e]),k(M,q+32,j[_e+1]),_e+=2,q+=64,he=1;he<32;he+=2)j[_e-1][he]*=-1;for(he=0;he<32;he++,re+=18){var se=B.block_type,me=H.sb_sample[z][te],Me=H.sb_sample[z][1-te];if(B.mixed_block_flag!=0&&he<2&&(se=0),H.amp_filter[he]<1e-12)o.fill(W,re+0,re+18,0);else{if(H.amp_filter[he]<1)for(var ie=0;ie<18;ie++)Me[ie][S[he]]*=H.amp_filter[he];if(se==h.SHORT_TYPE){for(var ie=-v/4;ie<0;ie++){var de=w[h.SHORT_TYPE][ie+3];W[re+ie*3+9]=me[9+ie][S[he]]*de-me[8-ie][S[he]],W[re+ie*3+18]=me[14-ie][S[he]]*de+me[15+ie][S[he]],W[re+ie*3+10]=me[15+ie][S[he]]*de-me[14-ie][S[he]],W[re+ie*3+19]=Me[2-ie][S[he]]*de+Me[3+ie][S[he]],W[re+ie*3+11]=Me[3+ie][S[he]]*de-Me[2-ie][S[he]],W[re+ie*3+20]=Me[8-ie][S[he]]*de+Me[9+ie][S[he]]}N(W,re)}else{for(var ue=c(18),ie=-y/4;ie<0;ie++){var V,Q;V=w[se][ie+27]*Me[ie+9][S[he]]+w[se][ie+36]*Me[8-ie][S[he]],Q=w[se][ie+9]*me[ie+9][S[he]]-w[se][ie+18]*me[8-ie][S[he]],ue[ie+9]=V-Q*x[3+ie+9],ue[ie+18]=V*x[3+ie+9]+Q}O(W,re,ue)}}if(se!=h.SHORT_TYPE&&he!=0)for(var ie=7;ie>=0;--ie){var $,ne;$=W[re+ie]*A[20+ie]+W[re+-1-ie]*L[28+ie],ne=W[re+ie]*L[28+ie]-W[re+-1-ie]*A[20+ie],W[re+-1-ie]=$,W[re+ie]=ne}}}if(M=T,q=286,H.mode_gr==1)for(var De=0;De<18;De++)r.arraycopy(H.sb_sample[z][1][De],0,H.sb_sample[z][0][De],0,32)}}}n.exports=f});yn.register("hvy40",function(n,t){var e=yn("51XxS");function r(){this.thm=new e,this.en=new e}n.exports=r});yn.register("51XxS",function(n,t){var e=yn("cPNKB"),r=yn("3YDN3"),a=r.System;r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double;var o=r.new_float,c=r.new_float_n;r.new_int,r.new_int_n,r.assert;function h(){this.l=o(e.SBMAX_l),this.s=c([e.SBMAX_s,3]);var f=this;this.assign=function(m){a.arraycopy(m.l,0,f.l,0,e.SBMAX_l);for(var v=0;v<e.SBMAX_s;v++)for(var y=0;y<3;y++)f.s[v][y]=m.s[v][y]}}n.exports=h});yn.register("jL6I1",function(n,t){function e(r){var a=r;this.ordinal=function(){return a}}e.STEREO=new e(0),e.JOINT_STEREO=new e(1),e.DUAL_CHANNEL=new e(2),e.MONO=new e(3),e.NOT_SET=new e(4),n.exports=e});yn.register("5HJeD",function(n,t){var e=yn("jL6I1");function r(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=e.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}n.exports=r});yn.register("4SDnr",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n;var r=e.new_byte,a=e.new_double,o=e.new_float,c=e.new_float_n,h=e.new_int,f=e.new_int_n;e.assert;var m=yn("eWXBy"),v=yn("7imnH"),y=yn("7yzUB"),w=yn("jTmCQ"),x=yn("51XxS"),C=yn("cPNKB"),A=yn("arIi9");L.MFSIZE=3456+C.ENCDELAY-C.MDCTDELAY,L.MAX_HEADER_BUF=256,L.MAX_BITS_PER_CHANNEL=4095,L.MAX_BITS_PER_GRANULE=7680,L.BPC=320;function L(){var S=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=c([2,L.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new m,this.ms_ratio=o(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=h(2),this.CurrentStep=h(2),this.masking_lower=0,this.bv_scf=h(576),this.pseudohalf=h(A.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*L.BPC+1),this.itime=a(2),this.sideinfo_len=0,this.sb_sample=c([2,2,18,C.SBLIMIT]),this.amp_filter=o(32);function k(){this.write_timing=0,this.ptr=0,this.buf=r(S)}this.header=new Array(L.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new v,this.minval_l=o(C.CBANDS),this.minval_s=o(C.CBANDS),this.nb_1=c([4,C.CBANDS]),this.nb_2=c([4,C.CBANDS]),this.nb_s1=c([4,C.CBANDS]),this.nb_s2=c([4,C.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=o(4),this.loudness_sq=c([2,2]),this.loudness_sq_save=o(2),this.mld_l=o(C.SBMAX_l),this.mld_s=o(C.SBMAX_s),this.bm_l=h(C.SBMAX_l),this.bo_l=h(C.SBMAX_l),this.bm_s=h(C.SBMAX_s),this.bo_s=h(C.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=f([C.CBANDS,2]),this.s3ind_s=f([C.CBANDS,2]),this.numlines_s=h(C.CBANDS),this.numlines_l=h(C.CBANDS),this.rnumlines_l=o(C.CBANDS),this.mld_cb_l=o(C.CBANDS),this.mld_cb_s=o(C.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=o(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=h(2),this.nsPsy=new y,this.VBR_seek_table=new w,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=f([16,5]),this.bitrate_blockType_Hist=f([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var N=0;N<this.en.length;N++)this.en[N]=new x;for(var N=0;N<this.thm.length;N++)this.thm[N]=new x;for(var N=0;N<this.header.length;N++)this.header[N]=new k}n.exports=L});yn.register("eWXBy",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var r=e.new_int;e.new_int_n,e.assert;var a=yn("7weBo");function o(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[r(4),r(4)];for(var c=0;c<2;c++)for(var h=0;h<2;h++)this.tt[c][h]=new a}n.exports=o});yn.register("7weBo",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var o=yn("arIi9");function c(){this.xr=r(576),this.l3_enc=a(576),this.scalefac=a(o.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=a(3),this.subblock_gain=a(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=a(o.SFBMAX),this.window=a(o.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=a(4),this.max_nonzero_coeff=0;var h=this;function f(v){return new Int32Array(v)}function m(v){return new Float32Array(v)}this.assign=function(v){h.xr=m(v.xr),h.l3_enc=f(v.l3_enc),h.scalefac=f(v.scalefac),h.xrpow_max=v.xrpow_max,h.part2_3_length=v.part2_3_length,h.big_values=v.big_values,h.count1=v.count1,h.global_gain=v.global_gain,h.scalefac_compress=v.scalefac_compress,h.block_type=v.block_type,h.mixed_block_flag=v.mixed_block_flag,h.table_select=f(v.table_select),h.subblock_gain=f(v.subblock_gain),h.region0_count=v.region0_count,h.region1_count=v.region1_count,h.preflag=v.preflag,h.scalefac_scale=v.scalefac_scale,h.count1table_select=v.count1table_select,h.part2_length=v.part2_length,h.sfb_lmax=v.sfb_lmax,h.sfb_smin=v.sfb_smin,h.psy_lmax=v.psy_lmax,h.sfbmax=v.sfbmax,h.psymax=v.psymax,h.sfbdivide=v.sfbdivide,h.width=f(v.width),h.window=f(v.window),h.count1bits=v.count1bits,h.sfb_partition_table=v.sfb_partition_table.slice(0),h.slen=f(v.slen),h.max_nonzero_coeff=v.max_nonzero_coeff}}n.exports=c});yn.register("arIi9",function(n,t){var e=yn("cPNKB"),r={};r.SFBMAX=e.SBMAX_s*3,n.exports=r});yn.register("7imnH",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var o=yn("cPNKB");function c(h,f,m,v){this.l=a(1+o.SBMAX_l),this.s=a(1+o.SBMAX_s),this.psfb21=a(1+o.PSFB21),this.psfb12=a(1+o.PSFB12);var y=this.l,w=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],r.arraycopy(this.arrL,0,y,0,Math.min(this.arrL.length,this.l.length)),r.arraycopy(this.arrS,0,w,0,Math.min(this.arrS.length,this.s.length)),r.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),r.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}n.exports=c});yn.register("7yzUB",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float,a=e.new_float_n,o=e.new_int;e.new_int_n,e.assert;var c=yn("cPNKB");function h(){this.last_en_subshort=a([4,9]),this.lastAttacks=o(4),this.pefirbuf=r(19),this.longfact=r(c.SBMAX_l),this.shortfact=r(c.SBMAX_s),this.attackthre=0,this.attackthre_s=0}n.exports=h});yn.register("jTmCQ",function(n,t){function e(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}n.exports=e});yn.register("cU3Yf",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var a=yn("cPNKB");function o(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=r(a.SBMAX_l),this.s=r(a.SBMAX_s),this.psfb21=r(a.PSFB21),this.psfb12=r(a.PSFB12),this.cb_l=r(a.CBANDS),this.cb_s=r(a.CBANDS),this.eql_w=r(a.BLKSIZE/2)}n.exports=o});yn.register("2qGTD",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n,e.assert;var o=yn("b8dhq");function c(){this.linprebuf=r(o.MAX_ORDER*2),this.linpre=0,this.lstepbuf=r(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lstep=0,this.loutbuf=r(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lout=0,this.rinprebuf=r(o.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=r(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rstep=0,this.routbuf=r(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=a(0|o.STEPS_per_dB*o.MAX_dB),this.B=a(0|o.STEPS_per_dB*o.MAX_dB)}n.exports=c});yn.register("b8dhq",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n,e.new_int,e.new_int_n,e.assert,o.STEPS_per_dB=100,o.MAX_dB=120,o.GAIN_NOT_ENOUGH_SAMPLES=-24601,o.GAIN_ANALYSIS_ERROR=0,o.GAIN_ANALYSIS_OK=1,o.INIT_GAIN_ANALYSIS_ERROR=0,o.INIT_GAIN_ANALYSIS_OK=1,o.YULE_ORDER=10,o.MAX_ORDER=o.YULE_ORDER,o.MAX_SAMP_FREQ=48e3,o.RMS_WINDOW_TIME_NUMERATOR=1,o.RMS_WINDOW_TIME_DENOMINATOR=20,o.MAX_SAMPLES_PER_WINDOW=o.MAX_SAMP_FREQ*o.RMS_WINDOW_TIME_NUMERATOR/o.RMS_WINDOW_TIME_DENOMINATOR+1;function o(){var c=64.82;o.YULE_ORDER;var h=.95;o.MAX_SAMP_FREQ;var f=o.RMS_WINDOW_TIME_NUMERATOR,m=o.RMS_WINDOW_TIME_DENOMINATOR;o.MAX_SAMPLES_PER_WINDOW;var v=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],y=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function w(S,k,N,O,H,D){for(;H--!=0;)N[O]=1e-10+S[k+0]*D[0]-N[O-1]*D[1]+S[k-1]*D[2]-N[O-2]*D[3]+S[k-2]*D[4]-N[O-3]*D[5]+S[k-3]*D[6]-N[O-4]*D[7]+S[k-4]*D[8]-N[O-5]*D[9]+S[k-5]*D[10]-N[O-6]*D[11]+S[k-6]*D[12]-N[O-7]*D[13]+S[k-7]*D[14]-N[O-8]*D[15]+S[k-8]*D[16]-N[O-9]*D[17]+S[k-9]*D[18]-N[O-10]*D[19]+S[k-10]*D[20],++O,++k}function x(S,k,N,O,H,D){for(;H--!=0;)N[O]=S[k+0]*D[0]-N[O-1]*D[1]+S[k-1]*D[2]-N[O-2]*D[3]+S[k-2]*D[4],++O,++k}function C(S,k){for(var N=0;N<MAX_ORDER;N++)S.linprebuf[N]=S.lstepbuf[N]=S.loutbuf[N]=S.rinprebuf[N]=S.rstepbuf[N]=S.routbuf[N]=0;switch(0|k){case 48e3:S.reqindex=0;break;case 44100:S.reqindex=1;break;case 32e3:S.reqindex=2;break;case 24e3:S.reqindex=3;break;case 22050:S.reqindex=4;break;case 16e3:S.reqindex=5;break;case 12e3:S.reqindex=6;break;case 11025:S.reqindex=7;break;case 8e3:S.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return S.sampleWindow=0|(k*f+m-1)/m,S.lsum=0,S.rsum=0,S.totsamp=0,a.ill(S.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(S,k){return C(S,k)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(S.linpre=MAX_ORDER,S.rinpre=MAX_ORDER,S.lstep=MAX_ORDER,S.rstep=MAX_ORDER,S.lout=MAX_ORDER,S.rout=MAX_ORDER,a.fill(S.B,0),INIT_GAIN_ANALYSIS_OK)};function A(S){return S*S}this.AnalyzeSamples=function(S,k,N,O,H,D,T){var M,q,z,te,he,B,W;if(D==0)return GAIN_ANALYSIS_OK;switch(W=0,he=D,T){case 1:O=k,H=N;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(D<MAX_ORDER?(r.arraycopy(k,N,S.linprebuf,MAX_ORDER,D),r.arraycopy(O,H,S.rinprebuf,MAX_ORDER,D)):(r.arraycopy(k,N,S.linprebuf,MAX_ORDER,MAX_ORDER),r.arraycopy(O,H,S.rinprebuf,MAX_ORDER,MAX_ORDER));he>0;){B=he>S.sampleWindow-S.totsamp?S.sampleWindow-S.totsamp:he,W<MAX_ORDER?(M=S.linpre+W,q=S.linprebuf,z=S.rinpre+W,te=S.rinprebuf,B>MAX_ORDER-W&&(B=MAX_ORDER-W)):(M=N+W,q=k,z=H+W,te=O),w(q,M,S.lstepbuf,S.lstep+S.totsamp,B,v[S.reqindex]),w(te,z,S.rstepbuf,S.rstep+S.totsamp,B,v[S.reqindex]),x(S.lstepbuf,S.lstep+S.totsamp,S.loutbuf,S.lout+S.totsamp,B,y[S.reqindex]),x(S.rstepbuf,S.rstep+S.totsamp,S.routbuf,S.rout+S.totsamp,B,y[S.reqindex]),M=S.lout+S.totsamp,q=S.loutbuf,z=S.rout+S.totsamp,te=S.routbuf;for(var re=B%8;re--!=0;)S.lsum+=A(q[M++]),S.rsum+=A(te[z++]);for(re=B/8;re--!=0;)S.lsum+=A(q[M+0])+A(q[M+1])+A(q[M+2])+A(q[M+3])+A(q[M+4])+A(q[M+5])+A(q[M+6])+A(q[M+7]),M+=8,S.rsum+=A(te[z+0])+A(te[z+1])+A(te[z+2])+A(te[z+3])+A(te[z+4])+A(te[z+5])+A(te[z+6])+A(te[z+7]),z+=8;if(he-=B,W+=B,S.totsamp+=B,S.totsamp==S.sampleWindow){var j=o.STEPS_per_dB*10*Math.log10((S.lsum+S.rsum)/S.totsamp*.5+1e-37),_e=j<=0?0:0|j;_e>=S.A.length&&(_e=S.A.length-1),S.A[_e]++,S.lsum=S.rsum=0,r.arraycopy(S.loutbuf,S.totsamp,S.loutbuf,0,MAX_ORDER),r.arraycopy(S.routbuf,S.totsamp,S.routbuf,0,MAX_ORDER),r.arraycopy(S.lstepbuf,S.totsamp,S.lstepbuf,0,MAX_ORDER),r.arraycopy(S.rstepbuf,S.totsamp,S.rstepbuf,0,MAX_ORDER),S.totsamp=0}if(S.totsamp>S.sampleWindow)return GAIN_ANALYSIS_ERROR}return D<MAX_ORDER?(r.arraycopy(S.linprebuf,D,S.linprebuf,0,MAX_ORDER-D),r.arraycopy(S.rinprebuf,D,S.rinprebuf,0,MAX_ORDER-D),r.arraycopy(k,N,S.linprebuf,MAX_ORDER-D,D),r.arraycopy(O,H,S.rinprebuf,MAX_ORDER-D,D)):(r.arraycopy(k,N+D-MAX_ORDER,S.linprebuf,0,MAX_ORDER),r.arraycopy(O,H+D-MAX_ORDER,S.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function L(S,k){var N,O=0;for(N=0;N<k;N++)O+=S[N];if(O==0)return GAIN_NOT_ENOUGH_SAMPLES;var H=0|Math.ceil(O*(1-h));for(N=k;N-- >0&&!((H-=S[N])<=0););return c-N/o.STEPS_per_dB}this.GetTitleGain=function(S){for(var k=L(S.A,S.A.length),N=0;N<S.A.length;N++)S.B[N]+=S.A[N],S.A[N]=0;for(var N=0;N<MAX_ORDER;N++)S.linprebuf[N]=S.lstepbuf[N]=S.loutbuf[N]=S.rinprebuf[N]=S.rstepbuf[N]=S.routbuf[N]=0;return S.totsamp=0,S.lsum=S.rsum=0,k}}n.exports=o});yn.register("e32wu",function(n,t){var e=yn("3YDN3");e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n;var a=e.new_int;e.new_int_n;var o=e.assert,c=yn("lL4Le"),h=yn("cPNKB"),f=yn("arIi9"),m=yn("4SDnr");function v(y){var w=y;this.quantize=w,this.iteration_loop=function(x,C,A,L){var S=x.internal_flags,k=r(f.SFBMAX),N=r(576),O=a(2),H=0,D,T=S.l3_side,M=new c(H);this.quantize.rv.ResvFrameBegin(x,M),H=M.bits;for(var q=0;q<S.mode_gr;q++){D=this.quantize.qupvt.on_pe(x,C,O,H,q,q),S.mode_ext==h.MPG_MD_MS_LR&&(this.quantize.ms_convert(S.l3_side,q),this.quantize.qupvt.reduce_side(O,A[q],H,D));for(var z=0;z<S.channels_out;z++){var te,he,B=T.tt[q][z];B.block_type!=h.SHORT_TYPE?(te=0,he=S.PSY.mask_adjust-te):(te=0,he=S.PSY.mask_adjust_short-te),S.masking_lower=Math.pow(10,he*.1),this.quantize.init_outer_loop(S,B),this.quantize.init_xrpow(S,B,N)&&(this.quantize.qupvt.calc_xmin(x,L[q][z],B,k),this.quantize.outer_loop(x,B,k,N,z,O[z])),this.quantize.iteration_finish_one(S,q,z),o(B.part2_3_length<=m.MAX_BITS_PER_CHANNEL),o(B.part2_3_length<=O[z])}}this.quantize.rv.ResvFrameEnd(S,H)}}n.exports=v});yn.register("lL4Le",function(n,t){function e(r){this.bits=r}n.exports=e});yn.register("ctaQC",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n;var o=e.new_byte;e.new_double,e.new_float;var c=e.new_float_n,h=e.new_int;e.new_int_n;var f=e.assert,m=yn("65Sx2"),v=yn("dQDcS"),y=yn("cPNKB"),w=yn("4SDnr");x.EQ=function(C,A){return Math.abs(C)>Math.abs(A)?Math.abs(C-A)<=Math.abs(C)*1e-6:Math.abs(C-A)<=Math.abs(A)*1e-6},x.NEQ=function(C,A){return!x.EQ(C,A)};function x(){var C=yn("kk1yk"),A=this,L=32773,S=32,k=null,N=null,O=null,H=null;this.setModules=function(V,Q,$,ne){k=V,N=Q,O=$,H=ne};var D=null,T=0,M=0,q=0;this.getframebits=function(V){var Q=V.internal_flags,$;Q.bitrate_index!=0?$=v.bitrate_table[V.version][Q.bitrate_index]:$=V.brate,f(8<=$&&$<=640);var ne=0|(V.version+1)*72e3*$/V.out_samplerate+Q.padding;return 8*ne};function z(V){r.arraycopy(V.header[V.w_ptr].buf,0,D,M,V.sideinfo_len),M+=V.sideinfo_len,T+=V.sideinfo_len*8,V.w_ptr=V.w_ptr+1&w.MAX_HEADER_BUF-1}function te(V,Q,$){for(f($<S-2);$>0;){var ne;q==0&&(q=8,M++,f(M<C.LAME_MAXMP3BUFFER),f(V.header[V.w_ptr].write_timing>=T),V.header[V.w_ptr].write_timing==T&&z(V),D[M]=0),ne=Math.min($,q),$-=ne,q-=ne,f($<S),f(q<S),D[M]|=Q>>$<<q,T+=ne}}function he(V,Q,$){for(f($<S-2);$>0;){var ne;q==0&&(q=8,M++,f(M<C.LAME_MAXMP3BUFFER),D[M]=0),ne=Math.min($,q),$-=ne,q-=ne,f($<S),f(q<S),D[M]|=Q>>$<<q,T+=ne}}function B(V,Q){var $=V.internal_flags,ne;if(f(Q>=0),Q>=8&&(te($,76,8),Q-=8),Q>=8&&(te($,65,8),Q-=8),Q>=8&&(te($,77,8),Q-=8),Q>=8&&(te($,69,8),Q-=8),Q>=32){var De=O.getLameShortVersion();if(Q>=32)for(ne=0;ne<De.length&&Q>=8;++ne)Q-=8,te($,De.charAt(ne),8)}for(;Q>=1;Q-=1)te($,$.ancillary_flag,1),$.ancillary_flag^=V.disable_reservoir?0:1;f(Q==0)}function W(V,Q,$){for(var ne=V.header[V.h_ptr].ptr;$>0;){var De=Math.min($,8-(ne&7));$-=De,f($<S),V.header[V.h_ptr].buf[ne>>3]|=Q>>$<<8-(ne&7)-De,ne+=De}V.header[V.h_ptr].ptr=ne}function re(V,Q){V<<=8;for(var $=0;$<8;$++)V<<=1,Q<<=1,((Q^V)&65536)!=0&&(Q^=L);return Q}this.CRC_writeheader=function(V,Q){var $=65535;$=re(Q[2]&255,$),$=re(Q[3]&255,$);for(var ne=6;ne<V.sideinfo_len;ne++)$=re(Q[ne]&255,$);Q[4]=byte($>>8),Q[5]=byte($&255)};function j(V,Q){var $=V.internal_flags,ne,De,We;if(ne=$.l3_side,$.header[$.h_ptr].ptr=0,a.fill($.header[$.h_ptr].buf,0,$.sideinfo_len,0),V.out_samplerate<16e3?W($,4094,12):W($,4095,12),W($,V.version,1),W($,1,2),W($,V.error_protection?0:1,1),W($,$.bitrate_index,4),W($,$.samplerate_index,2),W($,$.padding,1),W($,V.extension,1),W($,V.mode.ordinal(),2),W($,$.mode_ext,2),W($,V.copyright,1),W($,V.original,1),W($,V.emphasis,2),V.error_protection&&W($,0,16),V.version==1){for(f(ne.main_data_begin>=0),W($,ne.main_data_begin,9),$.channels_out==2?W($,ne.private_bits,3):W($,ne.private_bits,5),We=0;We<$.channels_out;We++){var Ae;for(Ae=0;Ae<4;Ae++)W($,ne.scfsi[We][Ae],1)}for(De=0;De<2;De++)for(We=0;We<$.channels_out;We++){var we=ne.tt[De][We];W($,we.part2_3_length+we.part2_length,12),W($,we.big_values/2,9),W($,we.global_gain,8),W($,we.scalefac_compress,4),we.block_type!=y.NORM_TYPE?(W($,1,1),W($,we.block_type,2),W($,we.mixed_block_flag,1),we.table_select[0]==14&&(we.table_select[0]=16),W($,we.table_select[0],5),we.table_select[1]==14&&(we.table_select[1]=16),W($,we.table_select[1],5),W($,we.subblock_gain[0],3),W($,we.subblock_gain[1],3),W($,we.subblock_gain[2],3)):(W($,0,1),we.table_select[0]==14&&(we.table_select[0]=16),W($,we.table_select[0],5),we.table_select[1]==14&&(we.table_select[1]=16),W($,we.table_select[1],5),we.table_select[2]==14&&(we.table_select[2]=16),W($,we.table_select[2],5),f(0<=we.region0_count&&we.region0_count<16),f(0<=we.region1_count&&we.region1_count<8),W($,we.region0_count,4),W($,we.region1_count,3)),W($,we.preflag,1),W($,we.scalefac_scale,1),W($,we.count1table_select,1)}}else for(f(ne.main_data_begin>=0),W($,ne.main_data_begin,8),W($,ne.private_bits,$.channels_out),De=0,We=0;We<$.channels_out;We++){var we=ne.tt[De][We];W($,we.part2_3_length+we.part2_length,12),W($,we.big_values/2,9),W($,we.global_gain,8),W($,we.scalefac_compress,9),we.block_type!=y.NORM_TYPE?(W($,1,1),W($,we.block_type,2),W($,we.mixed_block_flag,1),we.table_select[0]==14&&(we.table_select[0]=16),W($,we.table_select[0],5),we.table_select[1]==14&&(we.table_select[1]=16),W($,we.table_select[1],5),W($,we.subblock_gain[0],3),W($,we.subblock_gain[1],3),W($,we.subblock_gain[2],3)):(W($,0,1),we.table_select[0]==14&&(we.table_select[0]=16),W($,we.table_select[0],5),we.table_select[1]==14&&(we.table_select[1]=16),W($,we.table_select[1],5),we.table_select[2]==14&&(we.table_select[2]=16),W($,we.table_select[2],5),f(0<=we.region0_count&&we.region0_count<16),f(0<=we.region1_count&&we.region1_count<8),W($,we.region0_count,4),W($,we.region1_count,3)),W($,we.scalefac_scale,1),W($,we.count1table_select,1)}V.error_protection&&CRC_writeheader($,$.header[$.h_ptr].buf);var Ue=$.h_ptr;f($.header[Ue].ptr==$.sideinfo_len*8),$.h_ptr=Ue+1&w.MAX_HEADER_BUF-1,$.header[$.h_ptr].write_timing=$.header[Ue].write_timing+Q,$.h_ptr==$.w_ptr&&r.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}function _e(V,Q){var $=v.ht[Q.count1table_select+32],ne,De=0,We=Q.big_values,Ae=Q.big_values;for(f(Q.count1table_select<2),ne=(Q.count1-Q.big_values)/4;ne>0;--ne){var we=0,Ue=0,He;He=Q.l3_enc[We+0],He!=0&&(Ue+=8,Q.xr[Ae+0]<0&&we++,f(He<=1)),He=Q.l3_enc[We+1],He!=0&&(Ue+=4,we*=2,Q.xr[Ae+1]<0&&we++,f(He<=1)),He=Q.l3_enc[We+2],He!=0&&(Ue+=2,we*=2,Q.xr[Ae+2]<0&&we++,f(He<=1)),He=Q.l3_enc[We+3],He!=0&&(Ue++,we*=2,Q.xr[Ae+3]<0&&we++,f(He<=1)),We+=4,Ae+=4,te(V,we+$.table[Ue],$.hlen[Ue]),De+=$.hlen[Ue]}return De}function ie(V,Q,$,ne,De){var We=v.ht[Q],Ae=0;if(f(Q<32),Q==0)return Ae;for(var we=$;we<ne;we+=2){var Ue=0,He=0,en=We.xlen,nn=We.xlen,un=0,mn=De.l3_enc[we],ln=De.l3_enc[we+1];if(mn!=0&&(De.xr[we]<0&&un++,Ue--),Q>15){if(mn>14){var Bn=mn-15;f(Bn<=We.linmax),un|=Bn<<1,He=en,mn=15}if(ln>14){var Gn=ln-15;f(Gn<=We.linmax),un<<=en,un|=Gn,He+=en,ln=15}nn=16}ln!=0&&(un<<=1,De.xr[we+1]<0&&un++,Ue--),f((mn|ln)<16),mn=mn*nn+ln,He-=Ue,Ue+=We.hlen[mn],f(Ue<=S),f(He<=S),te(V,We.table[mn],Ue),te(V,un,He),Ae+=Ue+He}return Ae}function se(V,Q){var $=3*V.scalefac_band.s[3];$>Q.big_values&&($=Q.big_values);var ne=ie(V,Q.table_select[0],0,$,Q);return ne+=ie(V,Q.table_select[1],$,Q.big_values,Q),ne}function me(V,Q){var $,ne,De,We;$=Q.big_values,f(0<=$&&$<=576);var Ae=Q.region0_count+1;return f(0<=Ae),f(Ae<V.scalefac_band.l.length),De=V.scalefac_band.l[Ae],Ae+=Q.region1_count+1,f(0<=Ae),f(Ae<V.scalefac_band.l.length),We=V.scalefac_band.l[Ae],De>$&&(De=$),We>$&&(We=$),ne=ie(V,Q.table_select[0],0,De,Q),ne+=ie(V,Q.table_select[1],De,We,Q),ne+=ie(V,Q.table_select[2],We,$,Q),ne}function Me(V){var Q,$,ne,De,We=0,Ae=V.internal_flags,we=Ae.l3_side;if(V.version==1)for(Q=0;Q<2;Q++)for($=0;$<Ae.channels_out;$++){var Ue=we.tt[Q][$],He=m.slen1_tab[Ue.scalefac_compress],en=m.slen2_tab[Ue.scalefac_compress];for(De=0,ne=0;ne<Ue.sfbdivide;ne++)Ue.scalefac[ne]!=-1&&(te(Ae,Ue.scalefac[ne],He),De+=He);for(;ne<Ue.sfbmax;ne++)Ue.scalefac[ne]!=-1&&(te(Ae,Ue.scalefac[ne],en),De+=en);f(De==Ue.part2_length),Ue.block_type==y.SHORT_TYPE?De+=se(Ae,Ue):De+=me(Ae,Ue),De+=_e(Ae,Ue),f(De==Ue.part2_3_length+Ue.part2_length),We+=De}else for(Q=0,$=0;$<Ae.channels_out;$++){var Ue=we.tt[Q][$],nn,un,mn=0;if(f(Ue.sfb_partition_table!=null),De=0,ne=0,un=0,Ue.block_type==y.SHORT_TYPE){for(;un<4;un++){var ln=Ue.sfb_partition_table[un]/3,Bn=Ue.slen[un];for(nn=0;nn<ln;nn++,ne++)te(Ae,Math.max(Ue.scalefac[ne*3+0],0),Bn),te(Ae,Math.max(Ue.scalefac[ne*3+1],0),Bn),te(Ae,Math.max(Ue.scalefac[ne*3+2],0),Bn),mn+=3*Bn}De+=se(Ae,Ue)}else{for(;un<4;un++){var ln=Ue.sfb_partition_table[un],Bn=Ue.slen[un];for(nn=0;nn<ln;nn++,ne++)te(Ae,Math.max(Ue.scalefac[ne],0),Bn),mn+=Bn}De+=me(Ae,Ue)}De+=_e(Ae,Ue),f(De==Ue.part2_3_length),f(mn==Ue.part2_length),We+=mn+De}return We}function de(){this.total=0}function ue(V,Q){var $=V.internal_flags,ne,De,We,Ae,we;return we=$.w_ptr,Ae=$.h_ptr-1,Ae==-1&&(Ae=w.MAX_HEADER_BUF-1),ne=$.header[Ae].write_timing-T,Q.total=ne,ne>=0&&(De=1+Ae-we,Ae<we&&(De=1+Ae-we+w.MAX_HEADER_BUF),ne-=De*8*$.sideinfo_len),We=A.getframebits(V),ne+=We,Q.total+=We,Q.total%8!=0?Q.total=1+Q.total/8:Q.total=Q.total/8,Q.total+=M+1,ne<0&&r.err.println(`strange error flushing buffer ... 
`),ne}this.flush_bitstream=function(V){var Q=V.internal_flags,$,ne,De=Q.h_ptr-1;if(De==-1&&(De=w.MAX_HEADER_BUF-1),$=Q.l3_side,!((ne=ue(V,new de))<0)){if(B(V,ne),f(Q.header[De].write_timing+this.getframebits(V)==T),Q.ResvSize=0,$.main_data_begin=0,Q.findReplayGain){var We=k.GetTitleGain(Q.rgdata);f(NEQ(We,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),Q.RadioGain=Math.floor(We*10+.5)|0}Q.findPeakSample&&(Q.noclipGainChange=Math.ceil(Math.log10(Q.PeakSample/32767)*200)|0,Q.noclipGainChange>0&&(EQ(V.scale,1)||EQ(V.scale,0))?Q.noclipScale=Math.floor(32767/Q.PeakSample*100)/100:Q.noclipScale=-1)}},this.add_dummy_byte=function(V,Q,$){for(var ne=V.internal_flags,De;$-- >0;)for(he(ne,Q,8),De=0;De<w.MAX_HEADER_BUF;++De)ne.header[De].write_timing+=8},this.format_bitstream=function(V){var Q=V.internal_flags,$;$=Q.l3_side;var ne=this.getframebits(V);B(V,$.resvDrain_pre),j(V,ne);var De=8*Q.sideinfo_len;if(De+=Me(V),B(V,$.resvDrain_post),De+=$.resvDrain_post,$.main_data_begin+=(ne-De)/8,ue(V,new de)!=Q.ResvSize&&r.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),$.main_data_begin*8!=Q.ResvSize&&(r.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*$.main_data_begin,Q.ResvSize,$.resvDrain_post,$.resvDrain_pre,8*Q.sideinfo_len,De-$.resvDrain_post-8*Q.sideinfo_len,De,De%8,ne),r.err.println("This is a fatal error.  It has several possible causes:"),r.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),r.err.println(" 9%%  Your system is overclocked"),r.err.println(" 1%%  bug in LAME encoding library"),Q.ResvSize=$.main_data_begin*8),f(T%8==0),T>1e9){var We;for(We=0;We<w.MAX_HEADER_BUF;++We)Q.header[We].write_timing-=T;T=0}return 0},this.copy_buffer=function(V,Q,$,ne,De){var We=M+1;if(We<=0)return 0;if(ne!=0&&We>ne)return-1;if(r.arraycopy(D,0,Q,$,We),M=-1,q=0,De!=0){var Ae=h(1);if(Ae[0]=V.nMusicCRC,H.updateMusicCRC(Ae,Q,$,We),V.nMusicCRC=Ae[0],We>0&&(V.VBR_seek_table.nBytesWritten+=We),V.decode_on_the_fly){for(var we=c([2,1152]),Ue=We,He=-1,en;He!=0;)if(He=N.hip_decode1_unclipped(V.hip,Q,$,Ue,we[0],we[1]),Ue=0,He==-1&&(He=0),He>0){if(f(He<=1152),V.findPeakSample){for(en=0;en<He;en++)we[0][en]>V.PeakSample?V.PeakSample=we[0][en]:-we[0][en]>V.PeakSample&&(V.PeakSample=-we[0][en]);if(V.channels_out>1)for(en=0;en<He;en++)we[1][en]>V.PeakSample?V.PeakSample=we[1][en]:-we[1][en]>V.PeakSample&&(V.PeakSample=-we[1][en])}if(V.findReplayGain&&k.AnalyzeSamples(V.rgdata,we[0],0,we[1],0,He,V.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return We},this.init_bit_stream_w=function(V){D=o(C.LAME_MAXMP3BUFFER),V.h_ptr=V.w_ptr=0,V.header[V.h_ptr].write_timing=0,M=-1,q=0,T=0}}n.exports=x});yn.register("65Sx2",function(n,t){var e=yn("3YDN3"),r=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var a=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var o=e.new_int;e.new_int_n;var c=e.assert,h=yn("cPNKB"),f=yn("dQDcS"),m=yn("7weBo"),v=yn("84mea");function y(){var w=null;this.qupvt=null,this.setModules=function(de){this.qupvt=de,w=de};function x(de){this.bits=0|de}var C=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function A(de,ue,V,Q,$,ne){var De=.5946/ue;for(c(de>0),de=de>>1;de--!=0;)$[ne++]=De>V[Q++]?0:1,$[ne++]=De>V[Q++]?0:1}function L(de,ue,V,Q,$,ne){c(de>0),de=de>>1;var De=de%2;for(de=de>>1;de--!=0;){var We,Ae,we,Ue,He,en,nn,un;We=V[Q++]*ue,Ae=V[Q++]*ue,He=0|We,we=V[Q++]*ue,en=0|Ae,Ue=V[Q++]*ue,nn=0|we,We+=w.adj43[He],un=0|Ue,Ae+=w.adj43[en],$[ne++]=0|We,we+=w.adj43[nn],$[ne++]=0|Ae,Ue+=w.adj43[un],$[ne++]=0|we,$[ne++]=0|Ue}if(De!=0){var We,Ae,He,en;We=V[Q++]*ue,Ae=V[Q++]*ue,He=0|We,en=0|Ae,We+=w.adj43[He],Ae+=w.adj43[en],$[ne++]=0|We,$[ne++]=0|Ae}}function S(de,ue,V,Q,$){var ne,De,We=0,Ae,we=0,Ue=0,He=0,en=ue,nn=0,un=en,mn=0,ln=de,Bn=0;for(Ae=$!=null&&Q.global_gain==$.global_gain,Q.block_type==h.SHORT_TYPE?De=38:De=21,ne=0;ne<=De;ne++){var Gn=-1;if((Ae||Q.block_type==h.NORM_TYPE)&&(Gn=Q.global_gain-(Q.scalefac[ne]+(Q.preflag!=0?w.pretab[ne]:0)<<Q.scalefac_scale+1)-Q.subblock_gain[Q.window[ne]]*8),c(Q.width[ne]>=0),Ae&&$.step[ne]==Gn)we!=0&&(L(we,V,ln,Bn,un,mn),we=0),Ue!=0&&(A(Ue,V,ln,Bn,un,mn),Ue=0);else{var G=Q.width[ne];if(We+Q.width[ne]>Q.max_nonzero_coeff){var J;J=Q.max_nonzero_coeff-We+1,a.fill(ue,Q.max_nonzero_coeff,576,0),G=J,G<0&&(G=0),ne=De+1}if(we==0&&Ue==0&&(un=en,mn=nn,ln=de,Bn=He),$!=null&&$.sfb_count1>0&&ne>=$.sfb_count1&&$.step[ne]>0&&Gn>=$.step[ne]?(we!=0&&(L(we,V,ln,Bn,un,mn),we=0,un=en,mn=nn,ln=de,Bn=He),Ue+=G):(Ue!=0&&(A(Ue,V,ln,Bn,un,mn),Ue=0,un=en,mn=nn,ln=de,Bn=He),we+=G),G<=0){Ue!=0&&(A(Ue,V,ln,Bn,un,mn),Ue=0),we!=0&&(L(we,V,ln,Bn,un,mn),we=0);break}}ne<=De&&(nn+=Q.width[ne],He+=Q.width[ne],We+=Q.width[ne])}we!=0&&(L(we,V,ln,Bn,un,mn),we=0),Ue!=0&&(A(Ue,V,ln,Bn,un,mn),Ue=0)}function k(de,ue,V){var Q=0,$=0;do{var ne=de[ue++],De=de[ue++];Q<ne&&(Q=ne),$<De&&($=De)}while(ue<V);return Q<$&&(Q=$),Q}function N(de,ue,V,Q,$,ne){var De=f.ht[Q].xlen*65536+f.ht[$].xlen,We=0,Ae;do{var we=de[ue++],Ue=de[ue++];we!=0&&(we>14&&(we=15,We+=De),we*=16),Ue!=0&&(Ue>14&&(Ue=15,We+=De),we+=Ue),We+=f.largetbl[we]}while(ue<V);return Ae=We&65535,We>>=16,We>Ae&&(We=Ae,Q=$),ne.bits+=We,Q}function O(de,ue,V,Q){var $=0,ne=f.ht[1].hlen;do{var De=de[ue+0]*2+de[ue+1];ue+=2,$+=ne[De]}while(ue<V);return Q.bits+=$,1}function H(de,ue,V,Q,$){var ne=0,De,We=f.ht[Q].xlen,Ae;Q==2?Ae=f.table23:Ae=f.table56;do{var we=de[ue+0]*We+de[ue+1];ue+=2,ne+=Ae[we]}while(ue<V);return De=ne&65535,ne>>=16,ne>De&&(ne=De,Q++),$.bits+=ne,Q}function D(de,ue,V,Q,$){var ne=0,De=0,We=0,Ae=f.ht[Q].xlen,we=f.ht[Q].hlen,Ue=f.ht[Q+1].hlen,He=f.ht[Q+2].hlen;do{var en=de[ue+0]*Ae+de[ue+1];ue+=2,ne+=we[en],De+=Ue[en],We+=He[en]}while(ue<V);var nn=Q;return ne>De&&(ne=De,nn++),ne>We&&(ne=We,nn=Q+2),$.bits+=ne,nn}var T=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function M(de,ue,V,Q){var $=k(de,ue,V);switch($){case 0:return $;case 1:return O(de,ue,V,Q);case 2:case 3:return H(de,ue,V,T[$-1],Q);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return D(de,ue,V,T[$-1],Q);default:if($>v.IXMAX_VAL)return Q.bits=v.LARGE_BITS,-1;$-=15;var ne;for(ne=24;ne<32&&!(f.ht[ne].linmax>=$);ne++);var De;for(De=ne-8;De<24&&!(f.ht[De].linmax>=$);De++);return N(de,ue,V,De,ne,Q)}}this.noquant_count_bits=function(de,ue,V){var Q=ue.l3_enc,$=Math.min(576,ue.max_nonzero_coeff+2>>1<<1);for(V!=null&&(V.sfb_count1=0);$>1&&(Q[$-1]|Q[$-2])==0;$-=2);ue.count1=$;for(var ne=0,De=0;$>3;$-=4){var We;if(((Q[$-1]|Q[$-2]|Q[$-3]|Q[$-4])&2147483647)>1)break;We=((Q[$-4]*2+Q[$-3])*2+Q[$-2])*2+Q[$-1],ne+=f.t32l[We],De+=f.t33l[We]}var Ae=ne;if(ue.count1table_select=0,ne>De&&(Ae=De,ue.count1table_select=1),ue.count1bits=Ae,ue.big_values=$,$==0)return Ae;if(ue.block_type==h.SHORT_TYPE)ne=3*de.scalefac_band.s[3],ne>ue.big_values&&(ne=ue.big_values),De=ue.big_values;else if(ue.block_type==h.NORM_TYPE){if(c($<=576),ne=ue.region0_count=de.bv_scf[$-2],De=ue.region1_count=de.bv_scf[$-1],c(ne+De+2<h.SBPSY_l),De=de.scalefac_band.l[ne+De+2],ne=de.scalefac_band.l[ne+1],De<$){var we=new x(Ae);ue.table_select[2]=M(Q,De,$,we),Ae=we.bits}}else ue.region0_count=7,ue.region1_count=h.SBMAX_l-1-7-1,ne=de.scalefac_band.l[8],De=$,ne>De&&(ne=De);if(ne=Math.min(ne,$),De=Math.min(De,$),c(ne>=0),c(De>=0),0<ne){var we=new x(Ae);ue.table_select[0]=M(Q,0,ne,we),Ae=we.bits}if(ne<De){var we=new x(Ae);ue.table_select[1]=M(Q,ne,De,we),Ae=we.bits}if(de.use_best_huffman==2&&(ue.part2_3_length=Ae,best_huffman_divide(de,ue),Ae=ue.part2_3_length),V!=null&&ue.block_type==h.NORM_TYPE){for(var Ue=0;de.scalefac_band.l[Ue]<ue.big_values;)Ue++;V.sfb_count1=Ue}return Ae},this.count_bits=function(de,ue,V,Q){var $=V.l3_enc,ne=v.IXMAX_VAL/w.IPOW20(V.global_gain);if(V.xrpow_max>ne)return v.LARGE_BITS;if(S(ue,$,w.IPOW20(V.global_gain),V,Q),(de.substep_shaping&2)!=0)for(var De=0,We=V.global_gain+V.scalefac_scale,Ae=.634521682242439/w.IPOW20(We),we=0;we<V.sfbmax;we++){var Ue=V.width[we];if(c(Ue>=0),de.pseudohalf[we]==0)De+=Ue;else{var He;for(He=De,De+=Ue;He<De;++He)$[He]=ue[He]>=Ae?$[He]:0}}return this.noquant_count_bits(de,V,Q)};function q(de,ue,V,Q,$,ne,De){for(var We=ue.big_values,Ae=0;Ae<=22;Ae++)Q[Ae]=v.LARGE_BITS;for(var Ae=0;Ae<16;Ae++){var we=de.scalefac_band.l[Ae+1];if(we>=We)break;var Ue=0,He=new x(Ue),en=M(V,0,we,He);Ue=He.bits;for(var nn=0;nn<8;nn++){var un=de.scalefac_band.l[Ae+nn+2];if(un>=We)break;var mn=Ue;He=new x(mn);var ln=M(V,we,un,He);mn=He.bits,Q[Ae+nn]>mn&&(Q[Ae+nn]=mn,$[Ae+nn]=Ae,ne[Ae+nn]=en,De[Ae+nn]=ln)}}}function z(de,ue,V,Q,$,ne,De,We){for(var Ae=ue.big_values,we=2;we<h.SBMAX_l+1;we++){var Ue=de.scalefac_band.l[we];if(Ue>=Ae)break;var He=$[we-2]+ue.count1bits;if(V.part2_3_length<=He)break;var en=new x(He),nn=M(Q,Ue,Ae,en);He=en.bits,!(V.part2_3_length<=He)&&(V.assign(ue),V.part2_3_length=He,V.region0_count=ne[we-2],V.region1_count=we-2-ne[we-2],V.table_select[0]=De[we-2],V.table_select[1]=We[we-2],V.table_select[2]=nn)}}this.best_huffman_divide=function(de,ue){var V=new m,Q=ue.l3_enc,$=o(23),ne=o(23),De=o(23),We=o(23);if(!(ue.block_type==h.SHORT_TYPE&&de.mode_gr==1)){V.assign(ue),ue.block_type==h.NORM_TYPE&&(q(de,ue,Q,$,ne,De,We),z(de,V,ue,Q,$,ne,De,We));var Ae=V.big_values;if(!(Ae==0||(Q[Ae-2]|Q[Ae-1])>1)&&(Ae=ue.count1+2,!(Ae>576))){V.assign(ue),V.count1=Ae;var we=0,Ue=0;for(c(Ae<=576);Ae>V.big_values;Ae-=4){var He=((Q[Ae-4]*2+Q[Ae-3])*2+Q[Ae-2])*2+Q[Ae-1];we+=f.t32l[He],Ue+=f.t33l[He]}if(V.big_values=Ae,V.count1table_select=0,we>Ue&&(we=Ue,V.count1table_select=1),V.count1bits=we,V.block_type==h.NORM_TYPE)z(de,V,ue,Q,$,ne,De,We);else{if(V.part2_3_length=we,we=de.scalefac_band.l[8],we>Ae&&(we=Ae),we>0){var en=new x(V.part2_3_length);V.table_select[0]=M(Q,0,we,en),V.part2_3_length=en.bits}if(Ae>we){var en=new x(V.part2_3_length);V.table_select[1]=M(Q,we,Ae,en),V.part2_3_length=en.bits}ue.part2_3_length>V.part2_3_length&&ue.assign(V)}}}};var te=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],he=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],B=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],W=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];y.slen1_tab=B,y.slen2_tab=W;function re(de,ue){for(var V,Q=ue.tt[1][de],$=ue.tt[0][de],ne=0;ne<f.scfsi_band.length-1;ne++){for(V=f.scfsi_band[ne];V<f.scfsi_band[ne+1]&&!($.scalefac[V]!=Q.scalefac[V]&&Q.scalefac[V]>=0);V++);if(V==f.scfsi_band[ne+1]){for(V=f.scfsi_band[ne];V<f.scfsi_band[ne+1];V++)Q.scalefac[V]=-1;ue.scfsi[de][ne]=1}}var De=0,We=0;for(V=0;V<11;V++)Q.scalefac[V]!=-1&&(We++,De<Q.scalefac[V]&&(De=Q.scalefac[V]));for(var Ae=0,we=0;V<h.SBPSY_l;V++)Q.scalefac[V]!=-1&&(we++,Ae<Q.scalefac[V]&&(Ae=Q.scalefac[V]));for(var ne=0;ne<16;ne++)if(De<te[ne]&&Ae<he[ne]){var Ue=B[ne]*We+W[ne]*we;Q.part2_length>Ue&&(Q.part2_length=Ue,Q.scalefac_compress=ne)}}this.best_scalefac_store=function(de,ue,V,Q){var $=Q.tt[ue][V],ne,De,We,Ae,we=0;for(We=0,ne=0;ne<$.sfbmax;ne++){var Ue=$.width[ne];for(c(Ue>=0),We+=Ue,Ae=-Ue;Ae<0&&$.l3_enc[Ae+We]==0;Ae++);Ae==0&&($.scalefac[ne]=we=-2)}if($.scalefac_scale==0&&$.preflag==0){var He=0;for(ne=0;ne<$.sfbmax;ne++)$.scalefac[ne]>0&&(He|=$.scalefac[ne]);if((He&1)==0&&He!=0){for(ne=0;ne<$.sfbmax;ne++)$.scalefac[ne]>0&&($.scalefac[ne]>>=1);$.scalefac_scale=we=1}}if($.preflag==0&&$.block_type!=h.SHORT_TYPE&&de.mode_gr==2){for(ne=11;ne<h.SBPSY_l&&!($.scalefac[ne]<w.pretab[ne]&&$.scalefac[ne]!=-2);ne++);if(ne==h.SBPSY_l){for(ne=11;ne<h.SBPSY_l;ne++)$.scalefac[ne]>0&&($.scalefac[ne]-=w.pretab[ne]);$.preflag=we=1}}for(De=0;De<4;De++)Q.scfsi[V][De]=0;for(de.mode_gr==2&&ue==1&&Q.tt[0][V].block_type!=h.SHORT_TYPE&&Q.tt[1][V].block_type!=h.SHORT_TYPE&&(re(V,Q),we=0),ne=0;ne<$.sfbmax;ne++)$.scalefac[ne]==-2&&($.scalefac[ne]=0);we!=0&&(de.mode_gr==2?this.scale_bitcount($):this.scale_bitcount_lsf(de,$))};function j(de,ue){for(var V=0;V<ue;++V)if(de[V]<0)return!1;return!0}var _e=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],ie=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],se=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(de){var ue,V,Q=0,$=0,ne,De=de.scalefac;if(c(j(De,de.sfbmax)),de.block_type==h.SHORT_TYPE)ne=_e,de.mixed_block_flag!=0&&(ne=ie);else if(ne=se,de.preflag==0){for(V=11;V<h.SBPSY_l&&!(De[V]<w.pretab[V]);V++);if(V==h.SBPSY_l)for(de.preflag=1,V=11;V<h.SBPSY_l;V++)De[V]-=w.pretab[V]}for(V=0;V<de.sfbdivide;V++)Q<De[V]&&(Q=De[V]);for(;V<de.sfbmax;V++)$<De[V]&&($=De[V]);for(de.part2_length=v.LARGE_BITS,ue=0;ue<16;ue++)Q<te[ue]&&$<he[ue]&&de.part2_length>ne[ue]&&(de.part2_length=ne[ue],de.scalefac_compress=ue);return de.part2_length==v.LARGE_BITS};var me=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(de,ue){var V,Q,$,ne,De,We,Ae,we,Ue=o(4),He=ue.scalefac;for(ue.preflag!=0?V=2:V=0,Ae=0;Ae<4;Ae++)Ue[Ae]=0;if(ue.block_type==h.SHORT_TYPE){Q=1;var en=w.nr_of_sfb_block[V][Q];for(we=0,$=0;$<4;$++)for(ne=en[$]/3,Ae=0;Ae<ne;Ae++,we++)for(De=0;De<3;De++)He[we*3+De]>Ue[$]&&(Ue[$]=He[we*3+De])}else{Q=0;var en=w.nr_of_sfb_block[V][Q];for(we=0,$=0;$<4;$++)for(ne=en[$],Ae=0;Ae<ne;Ae++,we++)He[we]>Ue[$]&&(Ue[$]=He[we])}for(We=!1,$=0;$<4;$++)Ue[$]>me[V][$]&&(We=!0);if(!We){var nn,un,mn,ln;for(ue.sfb_partition_table=w.nr_of_sfb_block[V][Q],$=0;$<4;$++)ue.slen[$]=Me[Ue[$]];switch(nn=ue.slen[0],un=ue.slen[1],mn=ue.slen[2],ln=ue.slen[3],V){case 0:ue.scalefac_compress=(nn*5+un<<4)+(mn<<2)+ln;break;case 1:ue.scalefac_compress=400+(nn*5+un<<2)+mn;break;case 2:ue.scalefac_compress=500+nn*3+un;break;default:r.err.printf(`intensity stereo not implemented yet
`);break}}if(!We)for(c(ue.sfb_partition_table!=null),ue.part2_length=0,$=0;$<4;$++)ue.part2_length+=ue.slen[$]*ue.sfb_partition_table[$];return We};var Me=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(de){for(var ue=2;ue<=576;ue+=2){for(var V=0,Q;de.scalefac_band.l[++V]<ue;);for(Q=C[V][0];de.scalefac_band.l[Q+1]>ue;)Q--;for(Q<0&&(Q=C[V][0]),de.bv_scf[ue-2]=Q,Q=C[V][1];de.scalefac_band.l[Q+de.bv_scf[ue-2]+2]>ue;)Q--;Q<0&&(Q=C[V][1]),de.bv_scf[ue-1]=Q}}}n.exports=y});yn.register("dQDcS",function(n,t){function e(a,o,c,h){this.xlen=a,this.linmax=o,this.table=c,this.hlen=h}var r={};r.t1HB=[1,1,1,0],r.t2HB=[1,2,1,3,1,1,3,2,0],r.t3HB=[3,2,1,1,1,1,3,2,0],r.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],r.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],r.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],r.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],r.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],r.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],r.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],r.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],r.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],r.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],r.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],r.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],r.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],r.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],r.t1l=[1,4,3,5],r.t2l=[1,4,7,4,5,7,6,7,8],r.t3l=[2,3,7,4,4,7,6,7,8],r.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],r.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],r.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],r.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],r.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],r.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],r.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],r.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],r.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],r.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],r.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],r.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],r.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],r.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],r.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],r.ht=[new e(0,0,null,null),new e(2,0,r.t1HB,r.t1l),new e(3,0,r.t2HB,r.t2l),new e(3,0,r.t3HB,r.t3l),new e(0,0,null,null),new e(4,0,r.t5HB,r.t5l),new e(4,0,r.t6HB,r.t6l),new e(6,0,r.t7HB,r.t7l),new e(6,0,r.t8HB,r.t8l),new e(6,0,r.t9HB,r.t9l),new e(8,0,r.t10HB,r.t10l),new e(8,0,r.t11HB,r.t11l),new e(8,0,r.t12HB,r.t12l),new e(16,0,r.t13HB,r.t13l),new e(0,0,null,r.t16_5l),new e(16,0,r.t15HB,r.t15l),new e(1,1,r.t16HB,r.t16l),new e(2,3,r.t16HB,r.t16l),new e(3,7,r.t16HB,r.t16l),new e(4,15,r.t16HB,r.t16l),new e(6,63,r.t16HB,r.t16l),new e(8,255,r.t16HB,r.t16l),new e(10,1023,r.t16HB,r.t16l),new e(13,8191,r.t16HB,r.t16l),new e(4,15,r.t24HB,r.t24l),new e(5,31,r.t24HB,r.t24l),new e(6,63,r.t24HB,r.t24l),new e(7,127,r.t24HB,r.t24l),new e(8,255,r.t24HB,r.t24l),new e(9,511,r.t24HB,r.t24l),new e(11,2047,r.t24HB,r.t24l),new e(13,8191,r.t24HB,r.t24l),new e(0,0,r.t32HB,r.t32l),new e(0,0,r.t33HB,r.t33l)],r.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],r.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],r.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],r.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],r.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],r.scfsi_band=[0,6,11,16,21],n.exports=r});yn.register("84mea",function(n,t){var e=yn("7imnH"),r=yn("3YDN3");r.System;var a=r.VbrMode,o=r.Float;r.ShortBlock;var c=r.Util;r.Arrays,r.new_array_n,r.new_byte,r.new_double;var h=r.new_float;r.new_float_n;var f=r.new_int;r.new_int_n;var m=r.assert,v=yn("cPNKB"),y=yn("lL4Le"),w=yn("4SDnr");x.Q_MAX=257,x.Q_MAX2=116,x.LARGE_BITS=1e5,x.IXMAX_VAL=8206;function x(){var C=yn("ctaQC"),A=null,L=null,S=null;this.setModules=function(_e,ie,se){A=_e,L=ie,S=se};function k(_e){return m(0<=_e+x.Q_MAX2&&_e<x.Q_MAX),z[_e+x.Q_MAX2]}this.IPOW20=function(_e){return m(0<=_e&&_e<x.Q_MAX),te[_e]};var N=2220446049250313e-31,O=x.IXMAX_VAL,H=O+2,D=x.Q_MAX,T=x.Q_MAX2;x.LARGE_BITS;var M=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var q=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=q,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var z=h(D+T+1),te=h(D),he=h(H),B=h(H);this.adj43=B;function W(_e,ie){var se=S.ATHformula(ie,_e);return se-=M,se=Math.pow(10,se/10+_e.ATHlower),se}function re(_e){for(var ie=_e.internal_flags.ATH.l,se=_e.internal_flags.ATH.psfb21,me=_e.internal_flags.ATH.s,Me=_e.internal_flags.ATH.psfb12,de=_e.internal_flags,ue=_e.out_samplerate,V=0;V<v.SBMAX_l;V++){var Q=de.scalefac_band.l[V],$=de.scalefac_band.l[V+1];ie[V]=o.MAX_VALUE;for(var ne=Q;ne<$;ne++){var De=ne*ue/1152,We=W(_e,De);ie[V]=Math.min(ie[V],We)}}for(var V=0;V<v.PSFB21;V++){var Q=de.scalefac_band.psfb21[V],$=de.scalefac_band.psfb21[V+1];se[V]=o.MAX_VALUE;for(var ne=Q;ne<$;ne++){var De=ne*ue/1152,We=W(_e,De);se[V]=Math.min(se[V],We)}}for(var V=0;V<v.SBMAX_s;V++){var Q=de.scalefac_band.s[V],$=de.scalefac_band.s[V+1];me[V]=o.MAX_VALUE;for(var ne=Q;ne<$;ne++){var De=ne*ue/384,We=W(_e,De);me[V]=Math.min(me[V],We)}me[V]*=de.scalefac_band.s[V+1]-de.scalefac_band.s[V]}for(var V=0;V<v.PSFB12;V++){var Q=de.scalefac_band.psfb12[V],$=de.scalefac_band.psfb12[V+1];Me[V]=o.MAX_VALUE;for(var ne=Q;ne<$;ne++){var De=ne*ue/384,We=W(_e,De);Me[V]=Math.min(Me[V],We)}Me[V]*=de.scalefac_band.s[13]-de.scalefac_band.s[12]}if(_e.noATH){for(var V=0;V<v.SBMAX_l;V++)ie[V]=1e-20;for(var V=0;V<v.PSFB21;V++)se[V]=1e-20;for(var V=0;V<v.SBMAX_s;V++)me[V]=1e-20;for(var V=0;V<v.PSFB12;V++)Me[V]=1e-20}de.ATH.floor=10*Math.log10(W(_e,-1))}this.iteration_init=function(_e){var ie=_e.internal_flags,se=ie.l3_side,me;if(ie.iteration_init_init==0){for(ie.iteration_init_init=1,se.main_data_begin=0,re(_e),he[0]=0,me=1;me<H;me++)he[me]=Math.pow(me,4/3);for(me=0;me<H-1;me++)B[me]=me+1-Math.pow(.5*(he[me]+he[me+1]),.75);for(B[me]=.5,me=0;me<D;me++)te[me]=Math.pow(2,(me-210)*-.1875);for(me=0;me<=D+T;me++)z[me]=Math.pow(2,(me-210-T)*.25);A.huffman_init(ie);var Me,de,ue,V;for(me=_e.exp_nspsytune>>2&63,me>=32&&(me-=64),Me=Math.pow(10,me/4/10),me=_e.exp_nspsytune>>8&63,me>=32&&(me-=64),de=Math.pow(10,me/4/10),me=_e.exp_nspsytune>>14&63,me>=32&&(me-=64),ue=Math.pow(10,me/4/10),me=_e.exp_nspsytune>>20&63,me>=32&&(me-=64),V=ue*Math.pow(10,me/4/10),me=0;me<v.SBMAX_l;me++){var Q;me<=6?Q=Me:me<=13?Q=de:me<=20?Q=ue:Q=V,ie.nsPsy.longfact[me]=Q}for(me=0;me<v.SBMAX_s;me++){var Q;me<=5?Q=Me:me<=10?Q=de:me<=11?Q=ue:Q=V,ie.nsPsy.shortfact[me]=Q}}},this.on_pe=function(_e,ie,se,me,Me,de){var ue=_e.internal_flags,V=0,Q,$=f(2),ne,De=new y(V),We=L.ResvMaxBits(_e,me,De,de);V=De.bits;var Ae=V+We;for(Ae>w.MAX_BITS_PER_GRANULE&&(Ae=w.MAX_BITS_PER_GRANULE),Q=0,ne=0;ne<ue.channels_out;++ne)se[ne]=Math.min(w.MAX_BITS_PER_CHANNEL,V/ue.channels_out),$[ne]=0|se[ne]*ie[Me][ne]/700-se[ne],$[ne]>me*3/4&&($[ne]=me*3/4),$[ne]<0&&($[ne]=0),$[ne]+se[ne]>w.MAX_BITS_PER_CHANNEL&&($[ne]=Math.max(0,w.MAX_BITS_PER_CHANNEL-se[ne])),Q+=$[ne];if(Q>We)for(ne=0;ne<ue.channels_out;++ne)$[ne]=We*$[ne]/Q;for(ne=0;ne<ue.channels_out;++ne)se[ne]+=$[ne],We-=$[ne];for(Q=0,ne=0;ne<ue.channels_out;++ne)Q+=se[ne];if(Q>w.MAX_BITS_PER_GRANULE){var we=0;for(ne=0;ne<ue.channels_out;++ne)se[ne]*=w.MAX_BITS_PER_GRANULE,se[ne]/=Q,we+=se[ne];m(we<=w.MAX_BITS_PER_GRANULE)}return Ae},this.reduce_side=function(_e,ie,se,me){m(me<=w.MAX_BITS_PER_GRANULE),m(_e[0]+_e[1]<=w.MAX_BITS_PER_GRANULE);var Me=.33*(.5-ie)/.5;Me<0&&(Me=0),Me>.5&&(Me=.5);var de=0|Me*.5*(_e[0]+_e[1]);de>w.MAX_BITS_PER_CHANNEL-_e[0]&&(de=w.MAX_BITS_PER_CHANNEL-_e[0]),de<0&&(de=0),_e[1]>=125&&(_e[1]-de>125?(_e[0]<se&&(_e[0]+=de),_e[1]-=de):(_e[0]+=_e[1]-125,_e[1]=125)),de=_e[0]+_e[1],de>me&&(_e[0]=me*_e[0]/de,_e[1]=me*_e[1]/de),m(_e[0]<=w.MAX_BITS_PER_CHANNEL),m(_e[1]<=w.MAX_BITS_PER_CHANNEL),m(_e[0]+_e[1]<=w.MAX_BITS_PER_GRANULE)},this.athAdjust=function(_e,ie,se){var me=90.30873362,Me=94.82444863,de=c.FAST_LOG10_X(ie,10),ue=_e*_e,V=0;return de-=se,ue>1e-20&&(V=1+c.FAST_LOG10_X(ue,10/me)),V<0&&(V=0),de*=V,de+=se+me-Me,Math.pow(10,.1*de)},this.calc_xmin=function(_e,ie,se,me){var Me=0,de=_e.internal_flags,ue,V=0,Q=0,$=de.ATH,ne=se.xr,De=_e.VBR==a.vbr_mtrh?1:0,We=de.masking_lower;for((_e.VBR==a.vbr_mtrh||_e.VBR==a.vbr_mt)&&(We=1),ue=0;ue<se.psy_lmax;ue++){var Ae,we,Ue,He,en,nn;_e.VBR==a.vbr_rh||_e.VBR==a.vbr_mtrh?we=athAdjust($.adjust,$.l[ue],$.floor):we=$.adjust*$.l[ue],en=se.width[ue],Ue=we/en,He=N,nn=en>>1,Ae=0;do{var un,mn;un=ne[V]*ne[V],Ae+=un,He+=un<Ue?un:Ue,V++,mn=ne[V]*ne[V],Ae+=mn,He+=mn<Ue?mn:Ue,V++}while(--nn>0);if(Ae>we&&Q++,ue==v.SBPSY_l){var ln=we*de.nsPsy.longfact[ue];He<ln&&(He=ln)}if(De!=0&&(we=He),!_e.ATHonly){var Bn=ie.en.l[ue];if(Bn>0){var ln;ln=Ae*ie.thm.l[ue]*We/Bn,De!=0&&(ln*=de.nsPsy.longfact[ue]),we<ln&&(we=ln)}}De!=0?me[Me++]=we:me[Me++]=we*de.nsPsy.longfact[ue]}var Gn=575;if(se.block_type!=v.SHORT_TYPE)for(var G=576;G--!=0&&C.EQ(ne[G],0);)Gn=G;se.max_nonzero_coeff=Gn;for(var J=se.sfb_smin;ue<se.psymax;J++,ue+=3){var en,En,In;for(_e.VBR==a.vbr_rh||_e.VBR==a.vbr_mtrh?In=athAdjust($.adjust,$.s[J],$.floor):In=$.adjust*$.s[J],en=se.width[ue],En=0;En<3;En++){var Ae=0,we,Ue,He,nn=en>>1;Ue=In/en,He=N;do{var un,mn;un=ne[V]*ne[V],Ae+=un,He+=un<Ue?un:Ue,V++,mn=ne[V]*ne[V],Ae+=mn,He+=mn<Ue?mn:Ue,V++}while(--nn>0);if(Ae>In&&Q++,J==v.SBPSY_s){var ln=In*de.nsPsy.shortfact[J];He<ln&&(He=ln)}if(De!=0?we=He:we=In,!_e.ATHonly&&!_e.ATHshort){var Bn=ie.en.s[J][En];if(Bn>0){var ln;ln=Ae*ie.thm.s[J][En]*We/Bn,De!=0&&(ln*=de.nsPsy.shortfact[J]),we<ln&&(we=ln)}}De!=0?me[Me++]=we:me[Me++]=we*de.nsPsy.shortfact[J]}_e.useTemporal&&(me[Me-3]>me[Me-3+1]&&(me[Me-3+1]+=(me[Me-3]-me[Me-3+1])*de.decay),me[Me-3+1]>me[Me-3+2]&&(me[Me-3+2]+=(me[Me-3+1]-me[Me-3+2])*de.decay))}return Q};function j(_e){this.s=_e}this.calc_noise_core=function(_e,ie,se,me){var Me=0,de=ie.s,ue=_e.l3_enc;if(de>_e.count1)for(;se--!=0;){var V;V=_e.xr[de],de++,Me+=V*V,V=_e.xr[de],de++,Me+=V*V}else if(de>_e.big_values){var Q=h(2);for(Q[0]=0,Q[1]=me;se--!=0;){var V;V=Math.abs(_e.xr[de])-Q[ue[de]],de++,Me+=V*V,V=Math.abs(_e.xr[de])-Q[ue[de]],de++,Me+=V*V}}else for(;se--!=0;){var V;V=Math.abs(_e.xr[de])-he[ue[de]]*me,de++,Me+=V*V,V=Math.abs(_e.xr[de])-he[ue[de]]*me,de++,Me+=V*V}return ie.s=de,Me},this.calc_noise=function(_e,ie,se,me,Me){var de=0,ue=0,V,Q,$=0,ne=0,De=0,We=-20,Ae=0,we=_e.scalefac,Ue=0;for(me.over_SSD=0,V=0;V<_e.psymax;V++){var He=_e.global_gain-(we[Ue++]+(_e.preflag!=0?q[V]:0)<<_e.scalefac_scale+1)-_e.subblock_gain[_e.window[V]]*8,en=0;if(Me!=null&&Me.step[V]==He)en=Me.noise[V],Ae+=_e.width[V],se[de++]=en/ie[ue++],en=Me.noise_log[V];else{var nn=k(He);if(Q=_e.width[V]>>1,Ae+_e.width[V]>_e.max_nonzero_coeff){var un;un=_e.max_nonzero_coeff-Ae+1,un>0?Q=un>>1:Q=0}var mn=new j(Ae);en=this.calc_noise_core(_e,mn,Q,nn),Ae=mn.s,Me!=null&&(Me.step[V]=He,Me.noise[V]=en),en=se[de++]=en/ie[ue++],en=c.FAST_LOG10(Math.max(en,1e-20)),Me!=null&&(Me.noise_log[V]=en)}if(Me!=null&&(Me.global_gain=_e.global_gain),De+=en,en>0){var ln;ln=Math.max(0|en*10+.5,1),me.over_SSD+=ln*ln,$++,ne+=en}We=Math.max(We,en)}return me.over_count=$,me.tot_noise=De,me.over_noise=ne,me.max_noise=We,$},this.set_pinfo=function(_e,ie,se,me,Me){var de=_e.internal_flags,ue,V,Q,$,ne,De=ie.scalefac_scale==0?.5:1,We=ie.scalefac,Ae=h(L3Side.SFBMAX),we=h(L3Side.SFBMAX),Ue=new CalcNoiseResult;calc_xmin(_e,se,ie,Ae),calc_noise(ie,Ae,we,Ue,null);var He=0;for(V=ie.sfb_lmax,ie.block_type!=v.SHORT_TYPE&&ie.mixed_block_flag==0&&(V=22),ue=0;ue<V;ue++){var en=de.scalefac_band.l[ue],nn=de.scalefac_band.l[ue+1],un=nn-en;for($=0;He<nn;He++)$+=ie.xr[He]*ie.xr[He];$/=un,ne=1e15,de.pinfo.en[me][Me][ue]=ne*$,de.pinfo.xfsf[me][Me][ue]=ne*Ae[ue]*we[ue]/un,se.en.l[ue]>0&&!_e.ATHonly?$=$/se.en.l[ue]:$=0,de.pinfo.thr[me][Me][ue]=ne*Math.max($*se.thm.l[ue],de.ATH.l[ue]),de.pinfo.LAMEsfb[me][Me][ue]=0,ie.preflag!=0&&ue>=11&&(de.pinfo.LAMEsfb[me][Me][ue]=-De*q[ue]),ue<v.SBPSY_l&&(m(We[ue]>=0),de.pinfo.LAMEsfb[me][Me][ue]-=De*We[ue])}if(ie.block_type==v.SHORT_TYPE)for(V=ue,ue=ie.sfb_smin;ue<v.SBMAX_s;ue++)for(var en=de.scalefac_band.s[ue],nn=de.scalefac_band.s[ue+1],un=nn-en,mn=0;mn<3;mn++){for($=0,Q=en;Q<nn;Q++)$+=ie.xr[He]*ie.xr[He],He++;$=Math.max($/un,1e-20),ne=1e15,de.pinfo.en_s[me][Me][3*ue+mn]=ne*$,de.pinfo.xfsf_s[me][Me][3*ue+mn]=ne*Ae[V]*we[V]/un,se.en.s[ue][mn]>0?$=$/se.en.s[ue][mn]:$=0,(_e.ATHonly||_e.ATHshort)&&($=0),de.pinfo.thr_s[me][Me][3*ue+mn]=ne*Math.max($*se.thm.s[ue][mn],de.ATH.s[ue]),de.pinfo.LAMEsfb_s[me][Me][3*ue+mn]=-2*ie.subblock_gain[mn],ue<v.SBPSY_s&&(de.pinfo.LAMEsfb_s[me][Me][3*ue+mn]-=De*We[V]),V++}de.pinfo.LAMEqss[me][Me]=ie.global_gain,de.pinfo.LAMEmainbits[me][Me]=ie.part2_3_length+ie.part2_length,de.pinfo.LAMEsfbits[me][Me]=ie.part2_length,de.pinfo.over[me][Me]=Ue.over_count,de.pinfo.max_noise[me][Me]=Ue.max_noise*10,de.pinfo.over_noise[me][Me]=Ue.over_noise*10,de.pinfo.tot_noise[me][Me]=Ue.tot_noise*10,de.pinfo.over_SSD[me][Me]=Ue.over_SSD}}n.exports=x});var BP={};FP(BP,"Mp3Encoder",()=>xb,n=>xb=n);FP(BP,"WavHeader",()=>kb,n=>kb=n);var xb,kb,ct=yn("3YDN3");ct.System;ct.VbrMode;ct.Float;ct.ShortBlock;ct.Util;ct.Arrays;ct.new_array_n;var _7=ct.new_byte;ct.new_double;ct.new_float;ct.new_float_n;ct.new_int;ct.new_int_n;var m7=ct.assert,Abe=yn("kk1yk"),$P={},ct=yn("3YDN3");ct.System;var Xo=ct.VbrMode;ct.Float;ct.ShortBlock;ct.Util;ct.Arrays;ct.new_array_n;ct.new_byte;ct.new_double;ct.new_float;ct.new_float_n;ct.new_int;ct.new_int_n;ct.assert;function Obe(){var n=yn("kk1yk");function t(v,y,w,x,C,A,L,S,k,N,O,H,D,T,M){this.vbr_q=v,this.quant_comp=y,this.quant_comp_s=w,this.expY=x,this.st_lrm=C,this.st_s=A,this.masking_adj=L,this.masking_adj_short=S,this.ath_lower=k,this.ath_curve=N,this.ath_sensitivity=O,this.interch=H,this.safejoint=D,this.sfb21mod=T,this.msfix=M}function e(v,y,w,x,C,A,L,S,k,N,O,H,D,T){this.quant_comp=y,this.quant_comp_s=w,this.safejoint=x,this.nsmsfix=C,this.st_lrm=A,this.st_s=L,this.nsbass=S,this.scale=k,this.masking_adj=N,this.ath_lower=O,this.ath_curve=H,this.interch=D,this.sfscale=T}var r;this.setModules=function(v){r=v};var a=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],o=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function c(v,y,w){var x=v.VBR==Xo.vbr_rh?a:o,C=v.VBR_q_frac,A=x[y],L=x[y+1],S=A;A.st_lrm=A.st_lrm+C*(L.st_lrm-A.st_lrm),A.st_s=A.st_s+C*(L.st_s-A.st_s),A.masking_adj=A.masking_adj+C*(L.masking_adj-A.masking_adj),A.masking_adj_short=A.masking_adj_short+C*(L.masking_adj_short-A.masking_adj_short),A.ath_lower=A.ath_lower+C*(L.ath_lower-A.ath_lower),A.ath_curve=A.ath_curve+C*(L.ath_curve-A.ath_curve),A.ath_sensitivity=A.ath_sensitivity+C*(L.ath_sensitivity-A.ath_sensitivity),A.interch=A.interch+C*(L.interch-A.interch),A.msfix=A.msfix+C*(L.msfix-A.msfix),m(v,S.vbr_q),w!=0?v.quant_comp=S.quant_comp:Math.abs(v.quant_comp- -1)>0||(v.quant_comp=S.quant_comp),w!=0?v.quant_comp_short=S.quant_comp_s:Math.abs(v.quant_comp_short- -1)>0||(v.quant_comp_short=S.quant_comp_s),S.expY!=0&&(v.experimentalY=S.expY!=0),w!=0?v.internal_flags.nsPsy.attackthre=S.st_lrm:Math.abs(v.internal_flags.nsPsy.attackthre- -1)>0||(v.internal_flags.nsPsy.attackthre=S.st_lrm),w!=0?v.internal_flags.nsPsy.attackthre_s=S.st_s:Math.abs(v.internal_flags.nsPsy.attackthre_s- -1)>0||(v.internal_flags.nsPsy.attackthre_s=S.st_s),w!=0?v.maskingadjust=S.masking_adj:Math.abs(v.maskingadjust-0)>0||(v.maskingadjust=S.masking_adj),w!=0?v.maskingadjust_short=S.masking_adj_short:Math.abs(v.maskingadjust_short-0)>0||(v.maskingadjust_short=S.masking_adj_short),w!=0?v.ATHlower=-S.ath_lower/10:Math.abs(-v.ATHlower*10-0)>0||(v.ATHlower=-S.ath_lower/10),w!=0?v.ATHcurve=S.ath_curve:Math.abs(v.ATHcurve- -1)>0||(v.ATHcurve=S.ath_curve),w!=0?v.athaa_sensitivity=S.ath_sensitivity:Math.abs(v.athaa_sensitivity- -1)>0||(v.athaa_sensitivity=S.ath_sensitivity),S.interch>0&&(w!=0?v.interChRatio=S.interch:Math.abs(v.interChRatio- -1)>0||(v.interChRatio=S.interch)),S.safejoint>0&&(v.exp_nspsytune=v.exp_nspsytune|S.safejoint),S.sfb21mod>0&&(v.exp_nspsytune=v.exp_nspsytune|S.sfb21mod<<20),w!=0?v.msfix=S.msfix:Math.abs(v.msfix- -1)>0||(v.msfix=S.msfix),w==0&&(v.VBR_q=y,v.VBR_q_frac=C)}var h=[new e(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new e(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new e(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new e(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new e(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new e(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new e(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new e(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new e(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new e(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new e(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new e(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new e(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new e(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new e(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function f(v,y,w){var x=y,C=r.nearestBitrateFullIndex(y);if(v.VBR=Xo.vbr_abr,v.VBR_mean_bitrate_kbps=x,v.VBR_mean_bitrate_kbps=Math.min(v.VBR_mean_bitrate_kbps,320),v.VBR_mean_bitrate_kbps=Math.max(v.VBR_mean_bitrate_kbps,8),v.brate=v.VBR_mean_bitrate_kbps,v.VBR_mean_bitrate_kbps>320&&(v.disable_reservoir=!0),h[C].safejoint>0&&(v.exp_nspsytune=v.exp_nspsytune|2),h[C].sfscale>0&&(v.internal_flags.noise_shaping=2),Math.abs(h[C].nsbass)>0){var A=int(h[C].nsbass*4);A<0&&(A+=64),v.exp_nspsytune=v.exp_nspsytune|A<<2}return w!=0?v.quant_comp=h[C].quant_comp:Math.abs(v.quant_comp- -1)>0||(v.quant_comp=h[C].quant_comp),w!=0?v.quant_comp_short=h[C].quant_comp_s:Math.abs(v.quant_comp_short- -1)>0||(v.quant_comp_short=h[C].quant_comp_s),w!=0?v.msfix=h[C].nsmsfix:Math.abs(v.msfix- -1)>0||(v.msfix=h[C].nsmsfix),w!=0?v.internal_flags.nsPsy.attackthre=h[C].st_lrm:Math.abs(v.internal_flags.nsPsy.attackthre- -1)>0||(v.internal_flags.nsPsy.attackthre=h[C].st_lrm),w!=0?v.internal_flags.nsPsy.attackthre_s=h[C].st_s:Math.abs(v.internal_flags.nsPsy.attackthre_s- -1)>0||(v.internal_flags.nsPsy.attackthre_s=h[C].st_s),w!=0?v.scale=h[C].scale:Math.abs(v.scale- -1)>0||(v.scale=h[C].scale),w!=0?v.maskingadjust=h[C].masking_adj:Math.abs(v.maskingadjust-0)>0||(v.maskingadjust=h[C].masking_adj),h[C].masking_adj>0?w!=0?v.maskingadjust_short=h[C].masking_adj*.9:Math.abs(v.maskingadjust_short-0)>0||(v.maskingadjust_short=h[C].masking_adj*.9):w!=0?v.maskingadjust_short=h[C].masking_adj*1.1:Math.abs(v.maskingadjust_short-0)>0||(v.maskingadjust_short=h[C].masking_adj*1.1),w!=0?v.ATHlower=-h[C].ath_lower/10:Math.abs(-v.ATHlower*10-0)>0||(v.ATHlower=-h[C].ath_lower/10),w!=0?v.ATHcurve=h[C].ath_curve:Math.abs(v.ATHcurve- -1)>0||(v.ATHcurve=h[C].ath_curve),w!=0?v.interChRatio=h[C].interch:Math.abs(v.interChRatio- -1)>0||(v.interChRatio=h[C].interch),y}this.apply_preset=function(v,y,w){switch(y){case n.R3MIX:y=n.V3,v.VBR=Xo.vbr_mtrh;break;case n.MEDIUM:y=n.V4,v.VBR=Xo.vbr_rh;break;case n.MEDIUM_FAST:y=n.V4,v.VBR=Xo.vbr_mtrh;break;case n.STANDARD:y=n.V2,v.VBR=Xo.vbr_rh;break;case n.STANDARD_FAST:y=n.V2,v.VBR=Xo.vbr_mtrh;break;case n.EXTREME:y=n.V0,v.VBR=Xo.vbr_rh;break;case n.EXTREME_FAST:y=n.V0,v.VBR=Xo.vbr_mtrh;break;case n.INSANE:return y=320,v.preset=y,f(v,y,w),v.VBR=Xo.vbr_off,y}switch(v.preset=y,y){case n.V9:return c(v,9,w),y;case n.V8:return c(v,8,w),y;case n.V7:return c(v,7,w),y;case n.V6:return c(v,6,w),y;case n.V5:return c(v,5,w),y;case n.V4:return c(v,4,w),y;case n.V3:return c(v,3,w),y;case n.V2:return c(v,2,w),y;case n.V1:return c(v,1,w),y;case n.V0:return c(v,0,w),y}return 8<=y&&y<=320?f(v,y,w):(v.preset=0,y)};function m(v,y){var w=0;return 0>y&&(w=-1,y=0),9<y&&(w=-1,y=9),v.VBR_q=y,v.VBR_q_frac=0,w}}$P=Obe;var Rbe=yn("b8dhq"),Mbe=yn("84mea"),zP={},ct=yn("3YDN3"),qd=ct.System,v7=ct.VbrMode;ct.Float;ct.ShortBlock;var pw=ct.Util,$h=ct.Arrays;ct.new_array_n;ct.new_byte;ct.new_double;var rf=ct.new_float;ct.new_float_n;ct.new_int;ct.new_int_n;var Gs=ct.assert,VP={};function Dbe(){this.setModules=function(n,t){}}VP=Dbe;var Og={};function Lbe(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}Og=Lbe;var GP={},ct=yn("3YDN3"),g7=ct.new_float,Ube=ct.new_int;ct.assert;function Pbe(){this.global_gain=0,this.sfb_count1=0,this.step=Ube(39),this.noise=g7(39),this.noise_log=g7(39)}GP=Pbe;var rr=yn("cPNKB"),b7=yn("7weBo"),y7=yn("arIi9");function Fbe(){var n;this.rv=null;var t;this.qupvt=null;var e,r=new VP,a;this.setModules=function(S,k,N,O){n=S,t=k,this.rv=k,e=N,this.qupvt=N,a=O,r.setModules(e,a)},this.ms_convert=function(S,k){for(var N=0;N<576;++N){var O=S.tt[k][0].xr[N],H=S.tt[k][1].xr[N];S.tt[k][0].xr[N]=(O+H)*(pw.SQRT2*.5),S.tt[k][1].xr[N]=(O-H)*(pw.SQRT2*.5)}};function o(S,k,N,O){O=0;for(var H=0;H<=N;++H){var D=Math.abs(S.xr[H]);O+=D,k[H]=Math.sqrt(D*Math.sqrt(D)),k[H]>S.xrpow_max&&(S.xrpow_max=k[H])}return O}this.init_xrpow=function(S,k,N){var O=0,H=0|k.max_nonzero_coeff;if(Gs(N!=null),k.xrpow_max=0,Gs(0<=H&&H<=575),$h.fill(N,H,576,0),O=o(k,N,H,O),O>1e-20){var D=0;(S.substep_shaping&2)!=0&&(D=1);for(var T=0;T<k.psymax;T++)S.pseudohalf[T]=D;return!0}return $h.fill(k.l3_enc,0,576,0),!1};function c(S,k){var N=S.ATH,O=k.xr;if(k.block_type!=rr.SHORT_TYPE)for(var H=!1,D=rr.PSFB21-1;D>=0&&!H;D--){var T=S.scalefac_band.psfb21[D],M=S.scalefac_band.psfb21[D+1],q=e.athAdjust(N.adjust,N.psfb21[D],N.floor);S.nsPsy.longfact[21]>1e-12&&(q*=S.nsPsy.longfact[21]);for(var z=M-1;z>=T;z--)if(Math.abs(O[z])<q)O[z]=0;else{H=!0;break}}else for(var te=0;te<3;te++)for(var H=!1,D=rr.PSFB12-1;D>=0&&!H;D--){var T=S.scalefac_band.s[12]*3+(S.scalefac_band.s[13]-S.scalefac_band.s[12])*te+(S.scalefac_band.psfb12[D]-S.scalefac_band.psfb12[0]),M=T+(S.scalefac_band.psfb12[D+1]-S.scalefac_band.psfb12[D]),he=e.athAdjust(N.adjust,N.psfb12[D],N.floor);S.nsPsy.shortfact[12]>1e-12&&(he*=S.nsPsy.shortfact[12]);for(var z=M-1;z>=T;z--)if(Math.abs(O[z])<he)O[z]=0;else{H=!0;break}}}this.init_outer_loop=function(S,k){k.part2_3_length=0,k.big_values=0,k.count1=0,k.global_gain=210,k.scalefac_compress=0,k.table_select[0]=0,k.table_select[1]=0,k.table_select[2]=0,k.subblock_gain[0]=0,k.subblock_gain[1]=0,k.subblock_gain[2]=0,k.subblock_gain[3]=0,k.region0_count=0,k.region1_count=0,k.preflag=0,k.scalefac_scale=0,k.count1table_select=0,k.part2_length=0,k.sfb_lmax=rr.SBPSY_l,k.sfb_smin=rr.SBPSY_s,k.psy_lmax=S.sfb21_extra?rr.SBMAX_l:rr.SBPSY_l,k.psymax=k.psy_lmax,k.sfbmax=k.sfb_lmax,k.sfbdivide=11;for(var N=0;N<rr.SBMAX_l;N++)k.width[N]=S.scalefac_band.l[N+1]-S.scalefac_band.l[N],k.window[N]=3;if(k.block_type==rr.SHORT_TYPE){var O=rf(576);k.sfb_smin=0,k.sfb_lmax=0,k.mixed_block_flag!=0&&(k.sfb_smin=3,k.sfb_lmax=S.mode_gr*2+4),k.psymax=k.sfb_lmax+3*((S.sfb21_extra?rr.SBMAX_s:rr.SBPSY_s)-k.sfb_smin),k.sfbmax=k.sfb_lmax+3*(rr.SBPSY_s-k.sfb_smin),k.sfbdivide=k.sfbmax-18,k.psy_lmax=k.sfb_lmax;var H=S.scalefac_band.l[k.sfb_lmax];qd.arraycopy(k.xr,0,O,0,576);for(var N=k.sfb_smin;N<rr.SBMAX_s;N++)for(var D=S.scalefac_band.s[N],T=S.scalefac_band.s[N+1],M=0;M<3;M++)for(var q=D;q<T;q++)k.xr[H++]=O[3*q+M];for(var z=k.sfb_lmax,N=k.sfb_smin;N<rr.SBMAX_s;N++)k.width[z]=k.width[z+1]=k.width[z+2]=S.scalefac_band.s[N+1]-S.scalefac_band.s[N],k.window[z]=0,k.window[z+1]=1,k.window[z+2]=2,z+=3}k.count1bits=0,k.sfb_partition_table=e.nr_of_sfb_block[0][0],k.slen[0]=0,k.slen[1]=0,k.slen[2]=0,k.slen[3]=0,k.max_nonzero_coeff=575,$h.fill(k.scalefac,0),c(S,k)};function h(S){this.ordinal=S}h.BINSEARCH_NONE=new h(0),h.BINSEARCH_UP=new h(1),h.BINSEARCH_DOWN=new h(2);function f(S,k,N,O,H){var D,T=S.CurrentStep[O],M=!1,q=S.OldValue[O],z=h.BINSEARCH_NONE;for(k.global_gain=q,N-=k.part2_length,Gs(T!=0);;){var te;if(D=a.count_bits(S,H,k,null),T==1||D==N)break;D>N?(z==h.BINSEARCH_DOWN&&(M=!0),M&&(T/=2),z=h.BINSEARCH_UP,te=T):(z==h.BINSEARCH_UP&&(M=!0),M&&(T/=2),z=h.BINSEARCH_DOWN,te=-T),k.global_gain+=te,k.global_gain<0&&(k.global_gain=0,M=!0),k.global_gain>255&&(k.global_gain=255,M=!0)}for(Gs(k.global_gain>=0),Gs(k.global_gain<256);D>N&&k.global_gain<255;)k.global_gain++,D=a.count_bits(S,H,k,null);return S.CurrentStep[O]=q-k.global_gain>=4?4:2,S.OldValue[O]=k.global_gain,k.part2_3_length=D,D}this.trancate_smallspectrums=function(S,k,N,O){var H=rf(y7.SFBMAX);if(!((S.substep_shaping&4)==0&&k.block_type==rr.SHORT_TYPE||(S.substep_shaping&128)!=0)){e.calc_noise(k,N,H,new Og,null);for(var T=0;T<576;T++){var D=0;k.l3_enc[T]!=0&&(D=Math.abs(k.xr[T])),O[T]=D}var T=0,M=8;k.block_type==rr.SHORT_TYPE&&(M=6);do{var q,z,te,he,B=k.width[M];if(T+=B,!(H[M]>=1)&&($h.sort(O,T-B,B),!BitStream.EQ(O[T-1],0))){q=(1-H[M])*N[M],z=0,he=0;do{var W;for(te=1;he+te<B&&!BitStream.NEQ(O[he+T-B],O[he+T+te-B]);te++);if(W=O[he+T-B]*O[he+T-B]*te,q<W){he!=0&&(z=O[he+T-B-1]);break}q-=W,he+=te}while(he<B);if(!BitStream.EQ(z,0))do Math.abs(k.xr[T-B])<=z&&(k.l3_enc[T-B]=0);while(--B>0)}}while(++M<k.psymax);k.part2_3_length=a.noquant_count_bits(S,k,null)}};function m(S){for(var k=0;k<S.sfbmax;k++)if(S.scalefac[k]+S.subblock_gain[S.window[k]]==0)return!1;return!0}function v(S){return pw.FAST_LOG10(.368+.632*S*S*S)}function y(S,k){for(var N=1e-37,O=0;O<k.psymax;O++)N+=v(S[O]);return Math.max(1e-20,N)}function w(S,k,N,O,H){var D;switch(S){default:case 9:k.over_count>0?(D=N.over_SSD<=k.over_SSD,N.over_SSD==k.over_SSD&&(D=N.bits<k.bits)):D=N.max_noise<0&&N.max_noise*10+N.bits<=k.max_noise*10+k.bits;break;case 0:D=N.over_count<k.over_count||N.over_count==k.over_count&&N.over_noise<k.over_noise||N.over_count==k.over_count&&BitStream.EQ(N.over_noise,k.over_noise)&&N.tot_noise<k.tot_noise;break;case 8:N.max_noise=y(H,O);case 1:D=N.max_noise<k.max_noise;break;case 2:D=N.tot_noise<k.tot_noise;break;case 3:D=N.tot_noise<k.tot_noise&&N.max_noise<k.max_noise;break;case 4:D=N.max_noise<=0&&k.max_noise>.2||N.max_noise<=0&&k.max_noise<0&&k.max_noise>N.max_noise-.2&&N.tot_noise<k.tot_noise||N.max_noise<=0&&k.max_noise>0&&k.max_noise>N.max_noise-.2&&N.tot_noise<k.tot_noise+k.over_noise||N.max_noise>0&&k.max_noise>-.05&&k.max_noise>N.max_noise-.1&&N.tot_noise+N.over_noise<k.tot_noise+k.over_noise||N.max_noise>0&&k.max_noise>-.1&&k.max_noise>N.max_noise-.15&&N.tot_noise+N.over_noise+N.over_noise<k.tot_noise+k.over_noise+k.over_noise;break;case 5:D=N.over_noise<k.over_noise||BitStream.EQ(N.over_noise,k.over_noise)&&N.tot_noise<k.tot_noise;break;case 6:D=N.over_noise<k.over_noise||BitStream.EQ(N.over_noise,k.over_noise)&&(N.max_noise<k.max_noise||BitStream.EQ(N.max_noise,k.max_noise)&&N.tot_noise<=k.tot_noise);break;case 7:D=N.over_count<k.over_count||N.over_noise<k.over_noise;break}return k.over_count==0&&(D=D&&N.bits<k.bits),D}function x(S,k,N,O,H){var D=S.internal_flags,T;k.scalefac_scale==0?T=1.2968395546510096:T=1.6817928305074292;for(var M=0,q=0;q<k.sfbmax;q++)M<N[q]&&(M=N[q]);var z=D.noise_shaping_amp;switch(z==3&&(H?z=2:z=1),z){case 2:break;case 1:M>1?M=Math.pow(M,.5):M*=.95;break;case 0:default:M>1?M=1:M*=.95;break}for(var te=0,q=0;q<k.sfbmax;q++){var he=k.width[q],B;if(te+=he,!(N[q]<M)){if((D.substep_shaping&2)!=0&&(D.pseudohalf[q]=D.pseudohalf[q]==0?1:0,D.pseudohalf[q]==0&&D.noise_shaping_amp==2))return;for(k.scalefac[q]++,B=-he;B<0;B++)O[te+B]*=T,O[te+B]>k.xrpow_max&&(k.xrpow_max=O[te+B]);if(D.noise_shaping_amp==2)return}}}function C(S,k){for(var N=1.2968395546510096,O=0,H=0;H<S.sfbmax;H++){var D=S.width[H],T=S.scalefac[H];if(S.preflag!=0&&(T+=e.pretab[H]),O+=D,(T&1)!=0){T++;for(var M=-D;M<0;M++)k[O+M]*=N,k[O+M]>S.xrpow_max&&(S.xrpow_max=k[O+M])}S.scalefac[H]=T>>1}S.preflag=0,S.scalefac_scale=1}function A(S,k,N){var O,H=k.scalefac;for(O=0;O<k.sfb_lmax;O++)if(H[O]>=16)return!0;for(var D=0;D<3;D++){var T=0,M=0;for(O=k.sfb_lmax+D;O<k.sfbdivide;O+=3)T<H[O]&&(T=H[O]);for(;O<k.sfbmax;O+=3)M<H[O]&&(M=H[O]);if(!(T<16&&M<8)){if(k.subblock_gain[D]>=7)return!0;k.subblock_gain[D]++;var q=S.scalefac_band.l[k.sfb_lmax];for(O=k.sfb_lmax+D;O<k.sfbmax;O+=3){var W,z=k.width[O],te=H[O];if(Gs(te>=0),te=te-(4>>k.scalefac_scale),te>=0){H[O]=te,q+=z*3;continue}H[O]=0;var he=210+(te<<k.scalefac_scale+1);W=e.IPOW20(he),q+=z*(D+1);for(var B=-z;B<0;B++)N[q+B]*=W,N[q+B]>k.xrpow_max&&(k.xrpow_max=N[q+B]);q+=z*(3-D-1)}var W=e.IPOW20(202);q+=k.width[O]*(D+1);for(var B=-k.width[O];B<0;B++)N[q+B]*=W,N[q+B]>k.xrpow_max&&(k.xrpow_max=N[q+B])}}return!1}function L(S,k,N,O,H){var D=S.internal_flags;x(S,k,N,O,H);var T=m(k);return T?!1:(D.mode_gr==2?T=a.scale_bitcount(k):T=a.scale_bitcount_lsf(D,k),T?(D.noise_shaping>1&&($h.fill(D.pseudohalf,0),k.scalefac_scale==0?(C(k,O),T=!1):k.block_type==rr.SHORT_TYPE&&D.subblock_gain>0&&(T=A(D,k,O)||m(k))),T||(D.mode_gr==2?T=a.scale_bitcount(k):T=a.scale_bitcount_lsf(D,k)),!T):!0)}this.outer_loop=function(S,k,N,O,H,D){var T=S.internal_flags,M=new b7,q=rf(576),z=rf(y7.SFBMAX),te=new Og,he,B=new GP,W=9999999,re=!1,j=!1,_e=0;if(f(T,k,D,H,O),T.noise_shaping==0)return 100;e.calc_noise(k,N,z,te,B),te.bits=k.part2_3_length,M.assign(k);var ie=0;for(qd.arraycopy(O,0,q,0,576);!re;){do{var se=new Og,me,Me=255;if((T.substep_shaping&2)!=0?me=20:me=3,T.sfb21_extra&&(z[M.sfbmax]>1||M.block_type==rr.SHORT_TYPE&&(z[M.sfbmax+1]>1||z[M.sfbmax+2]>1))||!L(S,M,z,O,j))break;M.scalefac_scale!=0&&(Me=254);var de=D-M.part2_length;if(de<=0)break;for(;(M.part2_3_length=a.count_bits(T,O,M,B))>de&&M.global_gain<=Me;)M.global_gain++;if(M.global_gain>Me)break;if(te.over_count==0){for(;(M.part2_3_length=a.count_bits(T,O,M,B))>W&&M.global_gain<=Me;)M.global_gain++;if(M.global_gain>Me)break}if(e.calc_noise(M,N,z,se,B),se.bits=M.part2_3_length,k.block_type!=rr.SHORT_TYPE?he=S.quant_comp:he=S.quant_comp_short,he=w(he,te,se,M,z)?1:0,he!=0)W=k.part2_3_length,te=se,k.assign(M),ie=0,qd.arraycopy(O,0,q,0,576);else if(T.full_outer_loop==0&&(++ie>me&&te.over_count==0||T.noise_shaping_amp==3&&j&&ie>30||T.noise_shaping_amp==3&&j&&M.global_gain-_e>15))break}while(M.global_gain+M.scalefac_scale<255);T.noise_shaping_amp==3?j?re=!0:(M.assign(k),qd.arraycopy(q,0,O,0,576),ie=0,_e=M.global_gain,j=!0):re=!0}return Gs(k.global_gain+k.scalefac_scale<=255),S.VBR==v7.vbr_rh||S.VBR==v7.vbr_mtrh?qd.arraycopy(q,0,O,0,576):(T.substep_shaping&1)!=0&&trancate_smallspectrums(T,k,N,O),te.over_count},this.iteration_finish_one=function(S,k,N){var O=S.l3_side,H=O.tt[k][N];a.best_scalefac_store(S,k,N,O),S.use_best_huffman==1&&a.best_huffman_divide(S,H),t.ResvAdjust(S,H)},this.VBR_encode_granule=function(S,k,N,O,H,D,T){var M=S.internal_flags,q=new b7,z=rf(576),te=T,he=T+1,B=(T+D)/2,W,re,j=0,_e=M.sfb21_extra;Gs(te<=LameInternalFlags.MAX_BITS_PER_CHANNEL),$h.fill(q.l3_enc,0);do Gs(B>=D),Gs(B<=T),Gs(D<=T),B>te-42?M.sfb21_extra=!1:M.sfb21_extra=_e,re=outer_loop(S,k,N,O,H,B),re<=0?(j=1,he=k.part2_3_length,q.assign(k),qd.arraycopy(O,0,z,0,576),T=he-32,W=T-D,B=(T+D)/2):(D=B+32,W=T-D,B=(T+D)/2,j!=0&&(j=2,k.assign(q),qd.arraycopy(z,0,O,0,576)));while(W>12);M.sfb21_extra=_e,j==2&&qd.arraycopy(q.l3_enc,0,k.l3_enc,0,576),Gs(k.part2_3_length<=te)},this.get_framebits=function(S,k){var N=S.internal_flags;N.bitrate_index=N.VBR_min_bitrate;var O=n.getframebits(S);N.bitrate_index=1,O=n.getframebits(S);for(var H=1;H<=N.VBR_max_bitrate;H++){N.bitrate_index=H;var D=new MeanBits(O);k[H]=t.ResvFrameBegin(S,D),O=D.bits}},this.VBR_old_prepare=function(S,k,N,O,H,D,T,M,q){var z=S.internal_flags,te,he=0,B=1,W=0;z.bitrate_index=z.VBR_max_bitrate;var re=t.ResvFrameBegin(S,new MeanBits(0))/z.mode_gr;get_framebits(S,D);for(var j=0;j<z.mode_gr;j++){var _e=e.on_pe(S,k,M[j],re,j,0);z.mode_ext==rr.MPG_MD_MS_LR&&(ms_convert(z.l3_side,j),e.reduce_side(M[j],N[j],re,_e));for(var ie=0;ie<z.channels_out;++ie){var se=z.l3_side.tt[j][ie];se.block_type!=rr.SHORT_TYPE?(he=1.28/(1+Math.exp(3.5-k[j][ie]/300))-.05,te=z.PSY.mask_adjust-he):(he=2.56/(1+Math.exp(3.5-k[j][ie]/300))-.14,te=z.PSY.mask_adjust_short-he),z.masking_lower=Math.pow(10,te*.1),init_outer_loop(z,se),q[j][ie]=e.calc_xmin(S,O[j][ie],se,H[j][ie]),q[j][ie]!=0&&(B=0),T[j][ie]=126,W+=M[j][ie]}}for(var j=0;j<z.mode_gr;j++)for(var ie=0;ie<z.channels_out;ie++)W>D[z.VBR_max_bitrate]&&(M[j][ie]*=D[z.VBR_max_bitrate],M[j][ie]/=W),T[j][ie]>M[j][ie]&&(T[j][ie]=M[j][ie]);return B},this.bitpressure_strategy=function(S,k,N,O){for(var H=0;H<S.mode_gr;H++)for(var D=0;D<S.channels_out;D++){for(var T=S.l3_side.tt[H][D],M=k[H][D],q=0,z=0;z<T.psy_lmax;z++)M[q++]*=1+.029*z*z/rr.SBMAX_l/rr.SBMAX_l;if(T.block_type==rr.SHORT_TYPE)for(var z=T.sfb_smin;z<rr.SBMAX_s;z++)M[q++]*=1+.029*z*z/rr.SBMAX_s/rr.SBMAX_s,M[q++]*=1+.029*z*z/rr.SBMAX_s/rr.SBMAX_s,M[q++]*=1+.029*z*z/rr.SBMAX_s/rr.SBMAX_s;O[H][D]=0|Math.max(N[H][D],.9*O[H][D])}},this.VBR_new_prepare=function(S,k,N,O,H,D){var T=S.internal_flags,M=1,q=0,z=0,te;if(S.free_format){T.bitrate_index=0;var he=new MeanBits(q);te=t.ResvFrameBegin(S,he),q=he.bits,H[0]=te}else{T.bitrate_index=T.VBR_max_bitrate;var he=new MeanBits(q);t.ResvFrameBegin(S,he),q=he.bits,get_framebits(S,H),te=H[T.VBR_max_bitrate]}for(var B=0;B<T.mode_gr;B++){e.on_pe(S,k,D[B],q,B,0),T.mode_ext==rr.MPG_MD_MS_LR&&ms_convert(T.l3_side,B);for(var W=0;W<T.channels_out;++W){var re=T.l3_side.tt[B][W];T.masking_lower=Math.pow(10,T.PSY.mask_adjust*.1),init_outer_loop(T,re),e.calc_xmin(S,N[B][W],re,O[B][W])!=0&&(M=0),z+=D[B][W]}}for(var B=0;B<T.mode_gr;B++)for(var W=0;W<T.channels_out;W++)z>te&&(D[B][W]*=te,D[B][W]/=z);return M},this.calc_target_bits=function(S,k,N,O,H,D){var T=S.internal_flags,M=T.l3_side,q,z,te,he,B=0;T.bitrate_index=T.VBR_max_bitrate;var W=new MeanBits(B);for(D[0]=t.ResvFrameBegin(S,W),B=W.bits,T.bitrate_index=1,B=n.getframebits(S)-T.sideinfo_len*8,H[0]=B/(T.mode_gr*T.channels_out),B=S.VBR_mean_bitrate_kbps*S.framesize*1e3,(T.substep_shaping&1)!=0&&(B*=1.09),B/=S.out_samplerate,B-=T.sideinfo_len*8,B/=T.mode_gr*T.channels_out,q=.93+.07*(11-S.compression_ratio)/5.5,q<.9&&(q=.9),q>1&&(q=1),z=0;z<T.mode_gr;z++){var re=0;for(te=0;te<T.channels_out;te++){if(O[z][te]=int(q*B),k[z][te]>700){var j=int((k[z][te]-700)/1.4),_e=M.tt[z][te];O[z][te]=int(q*B),_e.block_type==rr.SHORT_TYPE&&j<B/2&&(j=B/2),j>B*3/2?j=B*3/2:j<0&&(j=0),O[z][te]+=j}O[z][te]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(O[z][te]=LameInternalFlags.MAX_BITS_PER_CHANNEL),re+=O[z][te]}if(re>LameInternalFlags.MAX_BITS_PER_GRANULE)for(te=0;te<T.channels_out;++te)O[z][te]*=LameInternalFlags.MAX_BITS_PER_GRANULE,O[z][te]/=re}if(T.mode_ext==rr.MPG_MD_MS_LR)for(z=0;z<T.mode_gr;z++)e.reduce_side(O[z],N[z],B*T.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(he=0,z=0;z<T.mode_gr;z++)for(te=0;te<T.channels_out;te++)O[z][te]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(O[z][te]=LameInternalFlags.MAX_BITS_PER_CHANNEL),he+=O[z][te];if(he>D[0])for(z=0;z<T.mode_gr;z++)for(te=0;te<T.channels_out;te++)O[z][te]*=D[0],O[z][te]/=he}}zP=Fbe;var Hbe=yn("65Sx2"),qP={},ct=yn("3YDN3"),ng=ct.assert;function Bbe(){var n;this.setModules=function(t){n=t},this.ResvFrameBegin=function(t,e){var r=t.internal_flags,a,o=r.l3_side,c=n.getframebits(t);e.bits=(c-r.sideinfo_len*8)/r.mode_gr;var h=2048*r.mode_gr-8;t.brate>320?a=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(a=11520,t.strict_ISO&&(a=8*int(32e4/(t.out_samplerate/1152)/8+.5))),r.ResvMax=a-c,r.ResvMax>h&&(r.ResvMax=h),(r.ResvMax<0||t.disable_reservoir)&&(r.ResvMax=0);var f=e.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return f>a&&(f=a),ng(r.ResvMax%8==0),ng(r.ResvMax>=0),o.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=e.bits/2,r.pinfo.resvsize=r.ResvSize),f},this.ResvMaxBits=function(t,e,r,a){var o=t.internal_flags,c,h=o.ResvSize,f=o.ResvMax;a!=0&&(h+=e),(o.substep_shaping&1)!=0&&(f*=.9),r.bits=e,h*10>f*9?(c=h-f*9/10,r.bits+=c,o.substep_shaping|=128):(c=0,o.substep_shaping&=127,!t.disable_reservoir&&(o.substep_shaping&1)==0&&(r.bits-=.1*e));var m=h<o.ResvMax*6/10?h:o.ResvMax*6/10;return m-=c,m<0&&(m=0),m},this.ResvAdjust=function(t,e){t.ResvSize-=e.part2_3_length+e.part2_length},this.ResvFrameEnd=function(t,e){var r,a=t.l3_side;t.ResvSize+=e*t.mode_gr;var o=0;a.resvDrain_post=0,a.resvDrain_pre=0,(r=t.ResvSize%8)!=0&&(o+=r),r=t.ResvSize-o-t.ResvMax,r>0&&(ng(r%8==0),ng(r>=0),o+=r);var c=Math.min(a.main_data_begin*8,o)/8;a.resvDrain_pre+=8*c,o-=8*c,t.ResvSize-=8*c,a.main_data_begin-=c,a.resvDrain_post+=o,t.ResvSize-=o}}qP=Bbe;var $be=yn("jL6I1"),zbe=yn("ctaQC");yn("cPNKB");var jP={};function Vbe(){var n="http://www.mp3dev.org/",t=3,e=98,r=4,a=0,o=93;this.getLameVersion=function(){return t+"."+e+"."+r},this.getLameShortVersion=function(){return t+"."+e+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+e+"r"},this.getPsyVersion=function(){return a+"."+o},this.getLameUrl=function(){return n},this.getLameOsBitness=function(){return"32bits"}}jP=Vbe;var KP={},ct=yn("3YDN3"),Gbe=ct.System,fw=ct.VbrMode;ct.Float;var E7=ct.ShortBlock;ct.Util;var qbe=ct.Arrays;ct.new_array_n;var tg=ct.new_byte;ct.new_double;ct.new_float;ct.new_float_n;ct.new_int;ct.new_int_n;var jbe=ct.assert;x_.NUMTOCENTRIES=100;x_.MAXFRAMESIZE=2880;function x_(){var n,t,e;this.setModules=function(B,W,re){n=B,t=W,e=re};var r=1,a=2,o=4,c=8,h=x_.NUMTOCENTRIES,f=x_.MAXFRAMESIZE,m=h+4+4+4+4+4,v=m+9+1+1+8+1+1+3+1+1+2+4+2+2,y=128,w=64,x=32,C=null,A="Xing",L="Info",S=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function k(B,W){if(B.nVbrNumFrames++,B.sum+=W,B.seen++,!(B.seen<B.want)&&(B.pos<B.size&&(B.bag[B.pos]=B.sum,B.pos++,B.seen=0),B.pos==B.size)){for(var re=1;re<B.size;re+=2)B.bag[re/2]=B.bag[re];B.want*=2,B.pos/=2}}function N(B,W){if(!(B.pos<=0))for(var re=1;re<h;++re){var j=re/h,_e,ie,se=0|Math.floor(j*B.pos);se>B.pos-1&&(se=B.pos-1),_e=B.bag[se],ie=B.sum;var me=0|256*_e/ie;me>255&&(me=255),W[re]=255&me}}this.addVbrFrame=function(B){var W=B.internal_flags,re=Tables.bitrate_table[B.version][W.bitrate_index];jbe(W.VBR_seek_table.bag!=null),k(W.VBR_seek_table,re)};function O(B,W){var re=B[W+0]&255;return re<<=8,re|=B[W+1]&255,re<<=8,re|=B[W+2]&255,re<<=8,re|=B[W+3]&255,re}function H(B,W,re){B[W+0]=255&(re>>24&255),B[W+1]=255&(re>>16&255),B[W+2]=255&(re>>8&255),B[W+3]=255&(re&255)}function D(B,W,re){B[W+0]=255&(re>>8&255),B[W+1]=255&(re&255)}function T(B,W){return new String(B,W,A.length(),C).equals(A)||new String(B,W,L.length(),C).equals(L)}function M(B,W,re){return 255&(B<<W|re&~(-1<<W))}function q(B,W){var re=B.internal_flags;W[0]=M(W[0],8,255),W[1]=M(W[1],3,7),W[1]=M(W[1],1,B.out_samplerate<16e3?0:1),W[1]=M(W[1],1,B.version),W[1]=M(W[1],2,1),W[1]=M(W[1],1,B.error_protection?0:1),W[2]=M(W[2],4,re.bitrate_index),W[2]=M(W[2],2,re.samplerate_index),W[2]=M(W[2],1,0),W[2]=M(W[2],1,B.extension),W[3]=M(W[3],2,B.mode.ordinal()),W[3]=M(W[3],2,re.mode_ext),W[3]=M(W[3],1,B.copyright),W[3]=M(W[3],1,B.original),W[3]=M(W[3],2,B.emphasis),W[0]=255;var j=255&(W[1]&241),_e;B.version==1?_e=y:B.out_samplerate<16e3?_e=x:_e=w,B.VBR==fw.vbr_off&&(_e=B.brate);var ie;B.free_format?ie=0:ie=255&16*n.BitrateIndex(_e,B.version,B.out_samplerate),B.version==1?(W[1]=255&(j|10),j=255&(W[2]&13),W[2]=255&(ie|j)):(W[1]=255&(j|2),j=255&(W[2]&13),W[2]=255&(ie|j))}this.getVbrTag=function(B){var W=new VBRTagData,re=0;W.flags=0;var j=B[re+1]>>3&1,_e=B[re+2]>>2&3,ie=B[re+3]>>6&3,se=B[re+2]>>4&15;if(se=Tables.bitrate_table[j][se],B[re+1]>>4==14?W.samprate=Tables.samplerate_table[2][_e]:W.samprate=Tables.samplerate_table[j][_e],j!=0?ie!=3?re+=36:re+=21:ie!=3?re+=21:re+=13,!T(B,re))return null;re+=4,W.hId=j;var me=W.flags=O(B,re);if(re+=4,(me&r)!=0&&(W.frames=O(B,re),re+=4),(me&a)!=0&&(W.bytes=O(B,re),re+=4),(me&o)!=0){if(W.toc!=null)for(var Me=0;Me<h;Me++)W.toc[Me]=B[re+Me];re+=h}W.vbrScale=-1,(me&c)!=0&&(W.vbrScale=O(B,re),re+=4),W.headersize=(j+1)*72e3*se/W.samprate,re+=21;var de=B[re+0]<<4;de+=B[re+1]>>4;var ue=(B[re+1]&15)<<8;return ue+=B[re+2]&255,(de<0||de>3e3)&&(de=-1),(ue<0||ue>3e3)&&(ue=-1),W.encDelay=de,W.encPadding=ue,W},this.InitVbrTag=function(B){var W=B.internal_flags,re;B.version==1?re=y:B.out_samplerate<16e3?re=x:re=w,B.VBR==fw.vbr_off&&(re=B.brate);var j=(B.version+1)*72e3*re/B.out_samplerate,_e=W.sideinfo_len+v;if(W.VBR_seek_table.TotalFrameSize=j,j<_e||j>f){B.bWriteVbrTag=!1;return}W.VBR_seek_table.nVbrNumFrames=0,W.VBR_seek_table.nBytesWritten=0,W.VBR_seek_table.sum=0,W.VBR_seek_table.seen=0,W.VBR_seek_table.want=1,W.VBR_seek_table.pos=0,W.VBR_seek_table.bag==null&&(W.VBR_seek_table.bag=new int[400],W.VBR_seek_table.size=400);var ie=tg(f);q(B,ie);for(var se=W.VBR_seek_table.TotalFrameSize,me=0;me<se;++me)t.add_dummy_byte(B,ie[me]&255,1)};function z(B,W){var re=W^B;return W=W>>8^S[re&255],W}this.updateMusicCRC=function(B,W,re,j){for(var _e=0;_e<j;++_e)B[0]=z(W[re+_e],B[0])};function te(B,W,re,j,_e){var ie=B.internal_flags,se=0,me=B.encoder_delay,Me=B.encoder_padding,de=100-10*B.VBR_q-B.quality,ue=e.getLameVeryShortVersion(),V,Q=0,$,ne=[1,5,3,2,4,0,3],De=0|(B.lowpassfreq/100+.5>255?255:B.lowpassfreq/100+.5),We=0,Ae=0,we=0,Ue=B.internal_flags.noise_shaping,He=0,en=0,nn=0,un=0,mn=0,ln=(B.exp_nspsytune&1)!=0,Bn=(B.exp_nspsytune&2)!=0,Gn=!1,G=!1,J=B.internal_flags.nogap_total,En=B.internal_flags.nogap_current,In=B.ATHtype,Zn=0,jn;switch(B.VBR){case vbr_abr:jn=B.VBR_mean_bitrate_kbps;break;case vbr_off:jn=B.brate;break;default:jn=B.VBR_min_bitrate_kbps}switch(B.VBR.ordinal()<ne.length?V=ne[B.VBR.ordinal()]:V=0,$=16*Q+V,ie.findReplayGain&&(ie.RadioGain>510&&(ie.RadioGain=510),ie.RadioGain<-510&&(ie.RadioGain=-510),Ae=8192,Ae|=3072,ie.RadioGain>=0?Ae|=ie.RadioGain:(Ae|=512,Ae|=-ie.RadioGain)),ie.findPeakSample&&(We=Math.abs(0|ie.PeakSample/32767*Math.pow(2,23)+.5)),J!=-1&&(En>0&&(G=!0),En<J-1&&(Gn=!0)),Zn=In+((ln?1:0)<<4)+((Bn?1:0)<<5)+((Gn?1:0)<<6)+((G?1:0)<<7),de<0&&(de=0),B.mode){case MONO:He=0;break;case STEREO:He=1;break;case DUAL_CHANNEL:He=2;break;case JOINT_STEREO:B.force_ms?He=4:He=3;break;case NOT_SET:default:He=7;break}B.in_samplerate<=32e3?nn=0:B.in_samplerate==48e3?nn=2:B.in_samplerate>48e3?nn=3:nn=1,(B.short_blocks==E7.short_block_forced||B.short_blocks==E7.short_block_dispensed||B.lowpassfreq==-1&&B.highpassfreq==-1||B.scale_left<B.scale_right||B.scale_left>B.scale_right||B.disable_reservoir&&B.brate<320||B.noATH||B.ATHonly||In==0||B.in_samplerate<=32e3)&&(en=1),un=Ue+(He<<2)+(en<<5)+(nn<<6),mn=ie.nMusicCRC,H(re,j+se,de),se+=4;for(var zn=0;zn<9;zn++)re[j+se+zn]=255&ue.charAt(zn);se+=9,re[j+se]=255&$,se++,re[j+se]=255&De,se++,H(re,j+se,We),se+=4,D(re,j+se,Ae),se+=2,D(re,j+se,we),se+=2,re[j+se]=255&Zn,se++,jn>=255?re[j+se]=255:re[j+se]=255&jn,se++,re[j+se]=255&me>>4,re[j+se+1]=255&(me<<4)+(Me>>8),re[j+se+2]=255&Me,se+=3,re[j+se]=255&un,se++,re[j+se++]=0,D(re,j+se,B.preset),se+=2,H(re,j+se,W),se+=4,D(re,j+se,mn),se+=2;for(var Rn=0;Rn<se;Rn++)_e=z(re[j+Rn],_e);return D(re,j+se,_e),se+=2,se}function he(B){B.seek(0);var W=tg(10);B.readFully(W);var re;return new String(W,"ISO-8859-1").startsWith("ID3")?re=0:re=((W[6]&127)<<21|(W[7]&127)<<14|(W[8]&127)<<7|W[9]&127)+W.length,re}this.getLameTagFrame=function(B,W){var re=B.internal_flags;if(!B.bWriteVbrTag||re.Class_ID!=Lame.LAME_ID||re.VBR_seek_table.pos<=0)return 0;if(W.length<re.VBR_seek_table.TotalFrameSize)return re.VBR_seek_table.TotalFrameSize;qbe.fill(W,0,re.VBR_seek_table.TotalFrameSize,0),q(B,W);var j=tg(h);if(B.free_format)for(var _e=1;_e<h;++_e)j[_e]=255&255*_e/100;else N(re.VBR_seek_table,j);var ie=re.sideinfo_len;B.error_protection&&(ie-=2),B.VBR==fw.vbr_off?(W[ie++]=255&L.charAt(0),W[ie++]=255&L.charAt(1),W[ie++]=255&L.charAt(2),W[ie++]=255&L.charAt(3)):(W[ie++]=255&A.charAt(0),W[ie++]=255&A.charAt(1),W[ie++]=255&A.charAt(2),W[ie++]=255&A.charAt(3)),H(W,ie,r+a+o+c),ie+=4,H(W,ie,re.VBR_seek_table.nVbrNumFrames),ie+=4;var se=re.VBR_seek_table.nBytesWritten+re.VBR_seek_table.TotalFrameSize;H(W,ie,0|se),ie+=4,Gbe.arraycopy(j,0,W,ie,j.length),ie+=j.length,B.error_protection&&t.CRC_writeheader(re,W);for(var me=0,_e=0;_e<ie;_e++)me=z(W[_e],me);return ie+=te(B,se,W,ie,me),re.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(B,W){var re=B.internal_flags;if(re.VBR_seek_table.pos<=0||(W.seek(W.length()),W.length()==0))return-1;var j=he(W);W.seek(j);var _e=tg(f),ie=getLameTagFrame(B,_e);return ie>_e.length?-1:(ie<1||W.write(_e,0,ie),0)}}KP=x_;function Kbe(){this.setModules=function(n,t){}}function Wbe(){this.setModules=function(n,t,e){}}function Qbe(){}function Ybe(){this.setModules=function(n,t){}}function Xbe(n,t,e){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),n=1,t=44100,e=128);var r=new Abe,a=new Kbe,o=new Rbe,c=new zbe,h=new $P,f=new Mbe,m=new zP,v=new KP,y=new jP,w=new Ybe,x=new qP,C=new Hbe,A=new Wbe,L=new Qbe;r.setModules(o,c,h,f,m,v,y,w,L),c.setModules(o,L,y,v),w.setModules(c,y),h.setModules(r),m.setModules(c,x,f,C),f.setModules(C,x,r.enc.psy),x.setModules(c),C.setModules(f),v.setModules(r,c,y),a.setModules(A,L),A.setModules(y,w,h);var S=r.lame_init();S.num_channels=n,S.in_samplerate=t,S.brate=e,S.mode=$be.STEREO,S.quality=3,S.bWriteVbrTag=!1,S.disable_reservoir=!0,S.write_id3tag_automatic=!1;var k=r.lame_init_params(S);m7(k==0);var N=1152,O=0|1.25*N+7200,H=_7(O);this.encodeBuffer=function(D,T){n==1&&(T=D),m7(D.length==T.length),D.length>N&&(N=D.length,O=0|1.25*N+7200,H=_7(O));var M=r.lame_encode_buffer(S,D,T,D.length,H,0,O);return new Int8Array(H.subarray(0,M))},this.flush=function(){var D=r.lame_encode_flush(S,H,0,O);return new Int8Array(H.subarray(0,D))}}function Co(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function p1(n){return n.charCodeAt(0)<<24|n.charCodeAt(1)<<16|n.charCodeAt(2)<<8|n.charCodeAt(3)}Co.RIFF=p1("RIFF");Co.WAVE=p1("WAVE");Co.fmt_=p1("fmt ");Co.data=p1("data");Co.readHeader=function(n){var t=new Co,e=n.getUint32(0,!1);if(Co.RIFF==e&&(n.getUint32(4,!0),Co.WAVE==n.getUint32(8,!1)&&Co.fmt_==n.getUint32(12,!1))){var r=n.getUint32(16,!0),a=20;switch(r){case 16:case 18:t.channels=n.getUint16(a+2,!0),t.sampleRate=n.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=r;for(var o=Co.data,c=0;o!=e&&(e=n.getUint32(a,!1),c=n.getUint32(a+4,!0),o!=e);)a+=c+8;return t.dataLen=c,t.dataOffset=a+8,t}};xb=Xbe;kb=Co;function Zbe(n){const t=kb.readHeader(new DataView(n)),e=new Int16Array(n,t.dataOffset,t.dataLen/2),r=new xb(t.channels,t.sampleRate,128),a=1152,o=t.channels===1?e:new Int16Array(t.dataLen/(2*t.channels)),c=t.channels===2?new Int16Array(t.dataLen/(2*t.channels)):void 0;if(t.channels>1)for(let v=0;v<o.length;v++)o[v]=e[v*2],c[v]=e[v*2+1];const h=[];let f=o.length;for(let v=0;f>=a;v+=a){const y=o.subarray(v,v+a);let w;c&&(w=c.subarray(v,v+a));const x=r.encodeBuffer(y,w);h.push(new Int8Array(x)),f-=a}const m=r.flush();return h.push(new Int8Array(m)),h}function Jbe(n,t){const e=new AudioContext,r=new FileReader;r.onload=function(a){e.decodeAudioData(a.target.result,o=>{const c=!window.OfflineAudioContext,h=new OfflineAudioContext(1,16e3*o.duration,16e3),f=h.createBufferSource();f.buffer=o,f.connect(h.destination);const m=new FileReader;m.onload=function(){const v=y=>{const w=c?y.renderedBuffer:y,x=e1e(w,w.length);t&&t(x)};c?(h.oncomplete=v,h.startRendering()):h.startRendering().then(v).catch(y=>console.warn(y))},m.readAsArrayBuffer(n),f.start(0)})},r.readAsArrayBuffer(n)}function e1e(n,t){const e=n.numberOfChannels,r=t*e*2+44,a=new ArrayBuffer(r),o=new DataView(a),c=[];let h=0,f,m=0,v=0;for(w(1179011410),w(r-8),w(1163280727),w(544501094),w(16),y(1),y(e),w(n.sampleRate),w(n.sampleRate*2*e),y(e*2),y(16),w(1635017060),w(r-v-4),h=0;h<n.numberOfChannels;h++)c.push(n.getChannelData(h));for(;v<r;){for(h=0;h<e;h++)f=Math.max(-1,Math.min(1,c[h][m])),f=(.5+f<0?f*32768:f*32767)|0,o.setInt16(v,f,!0),v+=2;m++}return a;function y(x){o.setUint16(v,x,!0),v+=2}function w(x){o.setUint32(v,x,!0),v+=4}}var n1e=Object.freeze({__proto__:null,downsampleToWav:Jbe,encodeMp3:Zbe});function t1e(){const[n,t]=Oe.exports.useState(""),[e,r]=Oe.exports.useState(""),[a,o]=Oe.exports.useState(""),[c,h]=Oe.exports.useState(!1),f=new URLSearchParams(Iie().search);return Oe.exports.useEffect(()=>{let m={};const v=f.get("q");if(v)try{m=JSON.parse(atob(v)),m.app_id&&t(m.app_id),m.user_id&&r(m.user_id),m.access_token&&o(m.access_token),h(!0)}catch{console.error("incorrect auth query")}},[]),Re("div",{className:"App",children:c?Re(Ebe,{appId:n,userId:e,nickname:e,accessToken:a||null}):Dr("div",{className:"login-panel",children:[Re("img",{src:"./logo.png",className:"logo"}),Dr("div",{className:"login-form",children:[Re("div",{className:"section",children:"Application ID"}),Re("input",{type:"text",className:"input",placeholder:"Application ID",value:n,onChange:m=>t(m.target.value)}),Re("div",{className:"section",children:"User ID"}),Re("input",{type:"text",className:"input",placeholder:"User ID",value:e,onChange:m=>r(m.target.value)}),Re("div",{className:"section",children:"Access token (optional)"}),Re("input",{type:"password",className:"input",placeholder:"Access token (optional)",value:a,onChange:m=>o(m.target.value)}),Re("input",{type:"button",className:"submit",value:"Sign in",onClick:()=>h(!0)})]}),Re("img",{src:"./logo-b.png",className:"logo-horizontal"})]})})}_w.createRoot(document.getElementById("root")).render(Re(R.StrictMode,{children:Re(t1e,{})}));
